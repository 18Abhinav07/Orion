var cB=Object.defineProperty;var dB=(t,e,n)=>e in t?cB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ue=(t,e,n)=>dB(t,typeof e!="symbol"?e+"":e,n);function uB(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in t)){const i=Object.getOwnPropertyDescriptor(s,r);i&&Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();var hB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function pu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function fB(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var r=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(n,s,r.get?r:{enumerable:!0,get:function(){return t[s]}})}),n}var MP={exports:{}},W0={},DP={exports:{}},_t={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var im=Symbol.for("react.element"),mB=Symbol.for("react.portal"),pB=Symbol.for("react.fragment"),gB=Symbol.for("react.strict_mode"),xB=Symbol.for("react.profiler"),yB=Symbol.for("react.provider"),vB=Symbol.for("react.context"),bB=Symbol.for("react.forward_ref"),wB=Symbol.for("react.suspense"),NB=Symbol.for("react.memo"),kB=Symbol.for("react.lazy"),Uj=Symbol.iterator;function jB(t){return t===null||typeof t!="object"?null:(t=Uj&&t[Uj]||t["@@iterator"],typeof t=="function"?t:null)}var $P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},OP=Object.assign,FP={};function gu(t,e,n){this.props=t,this.context=e,this.refs=FP,this.updater=n||$P}gu.prototype.isReactComponent={};gu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};gu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function LP(){}LP.prototype=gu.prototype;function m2(t,e,n){this.props=t,this.context=e,this.refs=FP,this.updater=n||$P}var p2=m2.prototype=new LP;p2.constructor=m2;OP(p2,gu.prototype);p2.isPureReactComponent=!0;var Vj=Array.isArray,BP=Object.prototype.hasOwnProperty,g2={current:null},UP={key:!0,ref:!0,__self:!0,__source:!0};function VP(t,e,n){var s,r={},i=null,o=null;if(e!=null)for(s in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)BP.call(e,s)&&!UP.hasOwnProperty(s)&&(r[s]=e[s]);var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];r.children=c}if(t&&t.defaultProps)for(s in l=t.defaultProps,l)r[s]===void 0&&(r[s]=l[s]);return{$$typeof:im,type:t,key:i,ref:o,props:r,_owner:g2.current}}function SB(t,e){return{$$typeof:im,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function x2(t){return typeof t=="object"&&t!==null&&t.$$typeof===im}function AB(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var zj=/\/+/g;function xy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?AB(""+t.key):e.toString(36)}function $p(t,e,n,s,r){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case im:case mB:o=!0}}if(o)return o=t,r=r(o),t=s===""?"."+xy(o,0):s,Vj(r)?(n="",t!=null&&(n=t.replace(zj,"$&/")+"/"),$p(r,e,n,"",function(d){return d})):r!=null&&(x2(r)&&(r=SB(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(zj,"$&/")+"/")+t)),e.push(r)),1;if(o=0,s=s===""?".":s+":",Vj(t))for(var l=0;l<t.length;l++){i=t[l];var c=s+xy(i,l);o+=$p(i,e,n,c,r)}else if(c=jB(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=s+xy(i,l++),o+=$p(i,e,n,c,r);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Dm(t,e,n){if(t==null)return t;var s=[],r=0;return $p(t,s,"","",function(i){return e.call(n,i,r++)}),s}function TB(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ks={current:null},Op={transition:null},CB={ReactCurrentDispatcher:Ks,ReactCurrentBatchConfig:Op,ReactCurrentOwner:g2};function zP(){throw Error("act(...) is not supported in production builds of React.")}_t.Children={map:Dm,forEach:function(t,e,n){Dm(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Dm(t,function(){e++}),e},toArray:function(t){return Dm(t,function(e){return e})||[]},only:function(t){if(!x2(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};_t.Component=gu;_t.Fragment=pB;_t.Profiler=xB;_t.PureComponent=m2;_t.StrictMode=gB;_t.Suspense=wB;_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CB;_t.act=zP;_t.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=OP({},t.props),r=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=g2.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)BP.call(e,c)&&!UP.hasOwnProperty(c)&&(s[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:im,type:t.type,key:r,ref:i,props:s,_owner:o}};_t.createContext=function(t){return t={$$typeof:vB,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:yB,_context:t},t.Consumer=t};_t.createElement=VP;_t.createFactory=function(t){var e=VP.bind(null,t);return e.type=t,e};_t.createRef=function(){return{current:null}};_t.forwardRef=function(t){return{$$typeof:bB,render:t}};_t.isValidElement=x2;_t.lazy=function(t){return{$$typeof:kB,_payload:{_status:-1,_result:t},_init:TB}};_t.memo=function(t,e){return{$$typeof:NB,type:t,compare:e===void 0?null:e}};_t.startTransition=function(t){var e=Op.transition;Op.transition={};try{t()}finally{Op.transition=e}};_t.unstable_act=zP;_t.useCallback=function(t,e){return Ks.current.useCallback(t,e)};_t.useContext=function(t){return Ks.current.useContext(t)};_t.useDebugValue=function(){};_t.useDeferredValue=function(t){return Ks.current.useDeferredValue(t)};_t.useEffect=function(t,e){return Ks.current.useEffect(t,e)};_t.useId=function(){return Ks.current.useId()};_t.useImperativeHandle=function(t,e,n){return Ks.current.useImperativeHandle(t,e,n)};_t.useInsertionEffect=function(t,e){return Ks.current.useInsertionEffect(t,e)};_t.useLayoutEffect=function(t,e){return Ks.current.useLayoutEffect(t,e)};_t.useMemo=function(t,e){return Ks.current.useMemo(t,e)};_t.useReducer=function(t,e,n){return Ks.current.useReducer(t,e,n)};_t.useRef=function(t){return Ks.current.useRef(t)};_t.useState=function(t){return Ks.current.useState(t)};_t.useSyncExternalStore=function(t,e,n){return Ks.current.useSyncExternalStore(t,e,n)};_t.useTransition=function(){return Ks.current.useTransition()};_t.version="18.3.1";DP.exports=_t;var y=DP.exports;const Pe=pu(y),HP=uB({__proto__:null,default:Pe},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EB=y,_B=Symbol.for("react.element"),PB=Symbol.for("react.fragment"),IB=Object.prototype.hasOwnProperty,RB=EB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,MB={key:!0,ref:!0,__self:!0,__source:!0};function WP(t,e,n){var s,r={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(s in e)IB.call(e,s)&&!MB.hasOwnProperty(s)&&(r[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)r[s]===void 0&&(r[s]=e[s]);return{$$typeof:_B,type:t,key:i,ref:o,props:r,_owner:RB.current}}W0.Fragment=PB;W0.jsx=WP;W0.jsxs=WP;MP.exports=W0;var a=MP.exports,qP={exports:{}},Rr={},KP={exports:{}},GP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(S,A){var F=S.length;S.push(A);e:for(;0<F;){var _=F-1>>>1,k=S[_];if(0<r(k,A))S[_]=A,S[F]=k,F=_;else break e}}function n(S){return S.length===0?null:S[0]}function s(S){if(S.length===0)return null;var A=S[0],F=S.pop();if(F!==A){S[0]=F;e:for(var _=0,k=S.length,O=k>>>1;_<O;){var q=2*(_+1)-1,I=S[q],V=q+1,G=S[V];if(0>r(I,F))V<k&&0>r(G,I)?(S[_]=G,S[V]=F,_=V):(S[_]=I,S[q]=F,_=q);else if(V<k&&0>r(G,F))S[_]=G,S[V]=F,_=V;else break e}}return A}function r(S,A){var F=S.sortIndex-A.sortIndex;return F!==0?F:S.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,f=3,m=!1,x=!1,p=!1,w=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(S){for(var A=n(d);A!==null;){if(A.callback===null)s(d);else if(A.startTime<=S)s(d),A.sortIndex=A.expirationTime,e(c,A);else break;A=n(d)}}function E(S){if(p=!1,N(S),!x)if(n(c)!==null)x=!0,C(T);else{var A=n(d);A!==null&&P(E,A.startTime-S)}}function T(S,A){x=!1,p&&(p=!1,b(M),M=-1),m=!0;var F=f;try{for(N(A),h=n(c);h!==null&&(!(h.expirationTime>A)||S&&!z());){var _=h.callback;if(typeof _=="function"){h.callback=null,f=h.priorityLevel;var k=_(h.expirationTime<=A);A=t.unstable_now(),typeof k=="function"?h.callback=k:h===n(c)&&s(c),N(A)}else s(c);h=n(c)}if(h!==null)var O=!0;else{var q=n(d);q!==null&&P(E,q.startTime-A),O=!1}return O}finally{h=null,f=F,m=!1}}var R=!1,$=null,M=-1,L=5,U=-1;function z(){return!(t.unstable_now()-U<L)}function B(){if($!==null){var S=t.unstable_now();U=S;var A=!0;try{A=$(!0,S)}finally{A?D():(R=!1,$=null)}}else R=!1}var D;if(typeof v=="function")D=function(){v(B)};else if(typeof MessageChannel<"u"){var g=new MessageChannel,j=g.port2;g.port1.onmessage=B,D=function(){j.postMessage(null)}}else D=function(){w(B,0)};function C(S){$=S,R||(R=!0,D())}function P(S,A){M=w(function(){S(t.unstable_now())},A)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(S){S.callback=null},t.unstable_continueExecution=function(){x||m||(x=!0,C(T))},t.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<S?Math.floor(1e3/S):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(S){switch(f){case 1:case 2:case 3:var A=3;break;default:A=f}var F=f;f=A;try{return S()}finally{f=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(S,A){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var F=f;f=S;try{return A()}finally{f=F}},t.unstable_scheduleCallback=function(S,A,F){var _=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?_+F:_):F=_,S){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=F+k,S={id:u++,callback:A,priorityLevel:S,startTime:F,expirationTime:k,sortIndex:-1},F>_?(S.sortIndex=F,e(d,S),n(c)===null&&S===n(d)&&(p?(b(M),M=-1):p=!0,P(E,F-_))):(S.sortIndex=k,e(c,S),x||m||(x=!0,C(T))),S},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(S){var A=f;return function(){var F=f;f=A;try{return S.apply(this,arguments)}finally{f=F}}}})(GP);KP.exports=GP;var DB=KP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $B=y,Ir=DB;function Ae(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var YP=new Set,sf={};function Dc(t,e){Hd(t,e),Hd(t+"Capture",e)}function Hd(t,e){for(sf[t]=e,t=0;t<e.length;t++)YP.add(e[t])}var Ga=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bb=Object.prototype.hasOwnProperty,OB=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Hj={},Wj={};function FB(t){return bb.call(Wj,t)?!0:bb.call(Hj,t)?!1:OB.test(t)?Wj[t]=!0:(Hj[t]=!0,!1)}function LB(t,e,n,s){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function BB(t,e,n,s){if(e===null||typeof e>"u"||LB(t,e,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Gs(t,e,n,s,r,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ps={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ps[t]=new Gs(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ps[e]=new Gs(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ps[t]=new Gs(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ps[t]=new Gs(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ps[t]=new Gs(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ps[t]=new Gs(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ps[t]=new Gs(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ps[t]=new Gs(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ps[t]=new Gs(t,5,!1,t.toLowerCase(),null,!1,!1)});var y2=/[\-:]([a-z])/g;function v2(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(y2,v2);ps[e]=new Gs(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(y2,v2);ps[e]=new Gs(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(y2,v2);ps[e]=new Gs(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ps[t]=new Gs(t,1,!1,t.toLowerCase(),null,!1,!1)});ps.xlinkHref=new Gs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ps[t]=new Gs(t,1,!1,t.toLowerCase(),null,!0,!0)});function b2(t,e,n,s){var r=ps.hasOwnProperty(e)?ps[e]:null;(r!==null?r.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(BB(e,n,r,s)&&(n=null),s||r===null?FB(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,s=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,s?t.setAttributeNS(s,e,n):t.setAttribute(e,n))))}var oo=$B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$m=Symbol.for("react.element"),Zc=Symbol.for("react.portal"),ed=Symbol.for("react.fragment"),w2=Symbol.for("react.strict_mode"),wb=Symbol.for("react.profiler"),XP=Symbol.for("react.provider"),JP=Symbol.for("react.context"),N2=Symbol.for("react.forward_ref"),Nb=Symbol.for("react.suspense"),kb=Symbol.for("react.suspense_list"),k2=Symbol.for("react.memo"),jo=Symbol.for("react.lazy"),QP=Symbol.for("react.offscreen"),qj=Symbol.iterator;function Vu(t){return t===null||typeof t!="object"?null:(t=qj&&t[qj]||t["@@iterator"],typeof t=="function"?t:null)}var Sn=Object.assign,yy;function mh(t){if(yy===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);yy=e&&e[1]||""}return`
`+yy+t}var vy=!1;function by(t,e){if(!t||vy)return"";vy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var s=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){s=d}t.call(e.prototype)}else{try{throw Error()}catch(d){s=d}t()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var r=d.stack.split(`
`),i=s.stack.split(`
`),o=r.length-1,l=i.length-1;1<=o&&0<=l&&r[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(r[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||r[o]!==i[l]){var c=`
`+r[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{vy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?mh(t):""}function UB(t){switch(t.tag){case 5:return mh(t.type);case 16:return mh("Lazy");case 13:return mh("Suspense");case 19:return mh("SuspenseList");case 0:case 2:case 15:return t=by(t.type,!1),t;case 11:return t=by(t.type.render,!1),t;case 1:return t=by(t.type,!0),t;default:return""}}function jb(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ed:return"Fragment";case Zc:return"Portal";case wb:return"Profiler";case w2:return"StrictMode";case Nb:return"Suspense";case kb:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case JP:return(t.displayName||"Context")+".Consumer";case XP:return(t._context.displayName||"Context")+".Provider";case N2:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case k2:return e=t.displayName||null,e!==null?e:jb(t.type)||"Memo";case jo:e=t._payload,t=t._init;try{return jb(t(e))}catch{}}return null}function VB(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jb(e);case 8:return e===w2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function nl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ZP(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function zB(t){var e=ZP(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Om(t){t._valueTracker||(t._valueTracker=zB(t))}function eI(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=ZP(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function Cg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Sb(t,e){var n=e.checked;return Sn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Kj(t,e){var n=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;n=nl(e.value!=null?e.value:n),t._wrapperState={initialChecked:s,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function tI(t,e){e=e.checked,e!=null&&b2(t,"checked",e,!1)}function Ab(t,e){tI(t,e);var n=nl(e.value),s=e.type;if(n!=null)s==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Tb(t,e.type,n):e.hasOwnProperty("defaultValue")&&Tb(t,e.type,nl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Gj(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Tb(t,e,n){(e!=="number"||Cg(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ph=Array.isArray;function jd(t,e,n,s){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&s&&(t[n].defaultSelected=!0)}else{for(n=""+nl(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,s&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function Cb(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ae(91));return Sn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Yj(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Ae(92));if(ph(n)){if(1<n.length)throw Error(Ae(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:nl(n)}}function nI(t,e){var n=nl(e.value),s=nl(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),s!=null&&(t.defaultValue=""+s)}function Xj(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function sI(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Eb(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?sI(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Fm,rI=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,s,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,s,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Fm=Fm||document.createElement("div"),Fm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Fm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function rf(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ah={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},HB=["Webkit","ms","Moz","O"];Object.keys(Ah).forEach(function(t){HB.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ah[e]=Ah[t]})});function iI(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ah.hasOwnProperty(t)&&Ah[t]?(""+e).trim():e+"px"}function aI(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var s=n.indexOf("--")===0,r=iI(n,e[n],s);n==="float"&&(n="cssFloat"),s?t.setProperty(n,r):t[n]=r}}var WB=Sn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _b(t,e){if(e){if(WB[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ae(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ae(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ae(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ae(62))}}function Pb(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ib=null;function j2(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Rb=null,Sd=null,Ad=null;function Jj(t){if(t=lm(t)){if(typeof Rb!="function")throw Error(Ae(280));var e=t.stateNode;e&&(e=X0(e),Rb(t.stateNode,t.type,e))}}function oI(t){Sd?Ad?Ad.push(t):Ad=[t]:Sd=t}function lI(){if(Sd){var t=Sd,e=Ad;if(Ad=Sd=null,Jj(t),e)for(t=0;t<e.length;t++)Jj(e[t])}}function cI(t,e){return t(e)}function dI(){}var wy=!1;function uI(t,e,n){if(wy)return t(e,n);wy=!0;try{return cI(t,e,n)}finally{wy=!1,(Sd!==null||Ad!==null)&&(dI(),lI())}}function af(t,e){var n=t.stateNode;if(n===null)return null;var s=X0(n);if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Ae(231,e,typeof n));return n}var Mb=!1;if(Ga)try{var zu={};Object.defineProperty(zu,"passive",{get:function(){Mb=!0}}),window.addEventListener("test",zu,zu),window.removeEventListener("test",zu,zu)}catch{Mb=!1}function qB(t,e,n,s,r,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(u){this.onError(u)}}var Th=!1,Eg=null,_g=!1,Db=null,KB={onError:function(t){Th=!0,Eg=t}};function GB(t,e,n,s,r,i,o,l,c){Th=!1,Eg=null,qB.apply(KB,arguments)}function YB(t,e,n,s,r,i,o,l,c){if(GB.apply(this,arguments),Th){if(Th){var d=Eg;Th=!1,Eg=null}else throw Error(Ae(198));_g||(_g=!0,Db=d)}}function $c(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function hI(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Qj(t){if($c(t)!==t)throw Error(Ae(188))}function XB(t){var e=t.alternate;if(!e){if(e=$c(t),e===null)throw Error(Ae(188));return e!==t?null:t}for(var n=t,s=e;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return Qj(r),t;if(i===s)return Qj(r),e;i=i.sibling}throw Error(Ae(188))}if(n.return!==s.return)n=r,s=i;else{for(var o=!1,l=r.child;l;){if(l===n){o=!0,n=r,s=i;break}if(l===s){o=!0,s=r,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,s=r;break}if(l===s){o=!0,s=i,n=r;break}l=l.sibling}if(!o)throw Error(Ae(189))}}if(n.alternate!==s)throw Error(Ae(190))}if(n.tag!==3)throw Error(Ae(188));return n.stateNode.current===n?t:e}function fI(t){return t=XB(t),t!==null?mI(t):null}function mI(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=mI(t);if(e!==null)return e;t=t.sibling}return null}var pI=Ir.unstable_scheduleCallback,Zj=Ir.unstable_cancelCallback,JB=Ir.unstable_shouldYield,QB=Ir.unstable_requestPaint,$n=Ir.unstable_now,ZB=Ir.unstable_getCurrentPriorityLevel,S2=Ir.unstable_ImmediatePriority,gI=Ir.unstable_UserBlockingPriority,Pg=Ir.unstable_NormalPriority,e9=Ir.unstable_LowPriority,xI=Ir.unstable_IdlePriority,q0=null,ra=null;function t9(t){if(ra&&typeof ra.onCommitFiberRoot=="function")try{ra.onCommitFiberRoot(q0,t,void 0,(t.current.flags&128)===128)}catch{}}var Ci=Math.clz32?Math.clz32:r9,n9=Math.log,s9=Math.LN2;function r9(t){return t>>>=0,t===0?32:31-(n9(t)/s9|0)|0}var Lm=64,Bm=4194304;function gh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ig(t,e){var n=t.pendingLanes;if(n===0)return 0;var s=0,r=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~r;l!==0?s=gh(l):(i&=o,i!==0&&(s=gh(i)))}else o=n&~r,o!==0?s=gh(o):i!==0&&(s=gh(i));if(s===0)return 0;if(e!==0&&e!==s&&!(e&r)&&(r=s&-s,i=e&-e,r>=i||r===16&&(i&4194240)!==0))return e;if(s&4&&(s|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=s;0<e;)n=31-Ci(e),r=1<<n,s|=t[n],e&=~r;return s}function i9(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function a9(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,r=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Ci(i),l=1<<o,c=r[o];c===-1?(!(l&n)||l&s)&&(r[o]=i9(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function $b(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function yI(){var t=Lm;return Lm<<=1,!(Lm&4194240)&&(Lm=64),t}function Ny(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function am(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ci(e),t[e]=n}function o9(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-Ci(n),i=1<<r;e[r]=0,s[r]=-1,t[r]=-1,n&=~i}}function A2(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-Ci(n),r=1<<s;r&e|t[s]&e&&(t[s]|=e),n&=~r}}var Xt=0;function vI(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var bI,T2,wI,NI,kI,Ob=!1,Um=[],zo=null,Ho=null,Wo=null,of=new Map,lf=new Map,Co=[],l9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function eS(t,e){switch(t){case"focusin":case"focusout":zo=null;break;case"dragenter":case"dragleave":Ho=null;break;case"mouseover":case"mouseout":Wo=null;break;case"pointerover":case"pointerout":of.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":lf.delete(e.pointerId)}}function Hu(t,e,n,s,r,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[r]},e!==null&&(e=lm(e),e!==null&&T2(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function c9(t,e,n,s,r){switch(e){case"focusin":return zo=Hu(zo,t,e,n,s,r),!0;case"dragenter":return Ho=Hu(Ho,t,e,n,s,r),!0;case"mouseover":return Wo=Hu(Wo,t,e,n,s,r),!0;case"pointerover":var i=r.pointerId;return of.set(i,Hu(of.get(i)||null,t,e,n,s,r)),!0;case"gotpointercapture":return i=r.pointerId,lf.set(i,Hu(lf.get(i)||null,t,e,n,s,r)),!0}return!1}function jI(t){var e=Wl(t.target);if(e!==null){var n=$c(e);if(n!==null){if(e=n.tag,e===13){if(e=hI(n),e!==null){t.blockedOn=e,kI(t.priority,function(){wI(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Fb(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);Ib=s,n.target.dispatchEvent(s),Ib=null}else return e=lm(n),e!==null&&T2(e),t.blockedOn=n,!1;e.shift()}return!0}function tS(t,e,n){Fp(t)&&n.delete(e)}function d9(){Ob=!1,zo!==null&&Fp(zo)&&(zo=null),Ho!==null&&Fp(Ho)&&(Ho=null),Wo!==null&&Fp(Wo)&&(Wo=null),of.forEach(tS),lf.forEach(tS)}function Wu(t,e){t.blockedOn===e&&(t.blockedOn=null,Ob||(Ob=!0,Ir.unstable_scheduleCallback(Ir.unstable_NormalPriority,d9)))}function cf(t){function e(r){return Wu(r,t)}if(0<Um.length){Wu(Um[0],t);for(var n=1;n<Um.length;n++){var s=Um[n];s.blockedOn===t&&(s.blockedOn=null)}}for(zo!==null&&Wu(zo,t),Ho!==null&&Wu(Ho,t),Wo!==null&&Wu(Wo,t),of.forEach(e),lf.forEach(e),n=0;n<Co.length;n++)s=Co[n],s.blockedOn===t&&(s.blockedOn=null);for(;0<Co.length&&(n=Co[0],n.blockedOn===null);)jI(n),n.blockedOn===null&&Co.shift()}var Td=oo.ReactCurrentBatchConfig,Rg=!0;function u9(t,e,n,s){var r=Xt,i=Td.transition;Td.transition=null;try{Xt=1,C2(t,e,n,s)}finally{Xt=r,Td.transition=i}}function h9(t,e,n,s){var r=Xt,i=Td.transition;Td.transition=null;try{Xt=4,C2(t,e,n,s)}finally{Xt=r,Td.transition=i}}function C2(t,e,n,s){if(Rg){var r=Fb(t,e,n,s);if(r===null)Iy(t,e,s,Mg,n),eS(t,s);else if(c9(r,t,e,n,s))s.stopPropagation();else if(eS(t,s),e&4&&-1<l9.indexOf(t)){for(;r!==null;){var i=lm(r);if(i!==null&&bI(i),i=Fb(t,e,n,s),i===null&&Iy(t,e,s,Mg,n),i===r)break;r=i}r!==null&&s.stopPropagation()}else Iy(t,e,s,null,n)}}var Mg=null;function Fb(t,e,n,s){if(Mg=null,t=j2(s),t=Wl(t),t!==null)if(e=$c(t),e===null)t=null;else if(n=e.tag,n===13){if(t=hI(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Mg=t,null}function SI(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ZB()){case S2:return 1;case gI:return 4;case Pg:case e9:return 16;case xI:return 536870912;default:return 16}default:return 16}}var Ro=null,E2=null,Lp=null;function AI(){if(Lp)return Lp;var t,e=E2,n=e.length,s,r="value"in Ro?Ro.value:Ro.textContent,i=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(s=1;s<=o&&e[n-s]===r[i-s];s++);return Lp=r.slice(t,1<s?1-s:void 0)}function Bp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Vm(){return!0}function nS(){return!1}function Mr(t){function e(n,s,r,i,o){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Vm:nS,this.isPropagationStopped=nS,this}return Sn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Vm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Vm)},persist:function(){},isPersistent:Vm}),e}var xu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_2=Mr(xu),om=Sn({},xu,{view:0,detail:0}),f9=Mr(om),ky,jy,qu,K0=Sn({},om,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:P2,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==qu&&(qu&&t.type==="mousemove"?(ky=t.screenX-qu.screenX,jy=t.screenY-qu.screenY):jy=ky=0,qu=t),ky)},movementY:function(t){return"movementY"in t?t.movementY:jy}}),sS=Mr(K0),m9=Sn({},K0,{dataTransfer:0}),p9=Mr(m9),g9=Sn({},om,{relatedTarget:0}),Sy=Mr(g9),x9=Sn({},xu,{animationName:0,elapsedTime:0,pseudoElement:0}),y9=Mr(x9),v9=Sn({},xu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),b9=Mr(v9),w9=Sn({},xu,{data:0}),rS=Mr(w9),N9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},k9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},j9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function S9(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=j9[t])?!!e[t]:!1}function P2(){return S9}var A9=Sn({},om,{key:function(t){if(t.key){var e=N9[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Bp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?k9[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:P2,charCode:function(t){return t.type==="keypress"?Bp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Bp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),T9=Mr(A9),C9=Sn({},K0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),iS=Mr(C9),E9=Sn({},om,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:P2}),_9=Mr(E9),P9=Sn({},xu,{propertyName:0,elapsedTime:0,pseudoElement:0}),I9=Mr(P9),R9=Sn({},K0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),M9=Mr(R9),D9=[9,13,27,32],I2=Ga&&"CompositionEvent"in window,Ch=null;Ga&&"documentMode"in document&&(Ch=document.documentMode);var $9=Ga&&"TextEvent"in window&&!Ch,TI=Ga&&(!I2||Ch&&8<Ch&&11>=Ch),aS=" ",oS=!1;function CI(t,e){switch(t){case"keyup":return D9.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function EI(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var td=!1;function O9(t,e){switch(t){case"compositionend":return EI(e);case"keypress":return e.which!==32?null:(oS=!0,aS);case"textInput":return t=e.data,t===aS&&oS?null:t;default:return null}}function F9(t,e){if(td)return t==="compositionend"||!I2&&CI(t,e)?(t=AI(),Lp=E2=Ro=null,td=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return TI&&e.locale!=="ko"?null:e.data;default:return null}}var L9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!L9[t.type]:e==="textarea"}function _I(t,e,n,s){oI(s),e=Dg(e,"onChange"),0<e.length&&(n=new _2("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var Eh=null,df=null;function B9(t){UI(t,0)}function G0(t){var e=rd(t);if(eI(e))return t}function U9(t,e){if(t==="change")return e}var PI=!1;if(Ga){var Ay;if(Ga){var Ty="oninput"in document;if(!Ty){var cS=document.createElement("div");cS.setAttribute("oninput","return;"),Ty=typeof cS.oninput=="function"}Ay=Ty}else Ay=!1;PI=Ay&&(!document.documentMode||9<document.documentMode)}function dS(){Eh&&(Eh.detachEvent("onpropertychange",II),df=Eh=null)}function II(t){if(t.propertyName==="value"&&G0(df)){var e=[];_I(e,df,t,j2(t)),uI(B9,e)}}function V9(t,e,n){t==="focusin"?(dS(),Eh=e,df=n,Eh.attachEvent("onpropertychange",II)):t==="focusout"&&dS()}function z9(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return G0(df)}function H9(t,e){if(t==="click")return G0(e)}function W9(t,e){if(t==="input"||t==="change")return G0(e)}function q9(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ii=typeof Object.is=="function"?Object.is:q9;function uf(t,e){if(Ii(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!bb.call(e,r)||!Ii(t[r],e[r]))return!1}return!0}function uS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hS(t,e){var n=uS(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=uS(n)}}function RI(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?RI(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function MI(){for(var t=window,e=Cg();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Cg(t.document)}return e}function R2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function K9(t){var e=MI(),n=t.focusedElem,s=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&RI(n.ownerDocument.documentElement,n)){if(s!==null&&R2(n)){if(e=s.start,t=s.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,i=Math.min(s.start,r);s=s.end===void 0?i:Math.min(s.end,r),!t.extend&&i>s&&(r=s,s=i,i=r),r=hS(n,i);var o=hS(n,s);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),i>s?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var G9=Ga&&"documentMode"in document&&11>=document.documentMode,nd=null,Lb=null,_h=null,Bb=!1;function fS(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Bb||nd==null||nd!==Cg(s)||(s=nd,"selectionStart"in s&&R2(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),_h&&uf(_h,s)||(_h=s,s=Dg(Lb,"onSelect"),0<s.length&&(e=new _2("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=nd)))}function zm(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var sd={animationend:zm("Animation","AnimationEnd"),animationiteration:zm("Animation","AnimationIteration"),animationstart:zm("Animation","AnimationStart"),transitionend:zm("Transition","TransitionEnd")},Cy={},DI={};Ga&&(DI=document.createElement("div").style,"AnimationEvent"in window||(delete sd.animationend.animation,delete sd.animationiteration.animation,delete sd.animationstart.animation),"TransitionEvent"in window||delete sd.transitionend.transition);function Y0(t){if(Cy[t])return Cy[t];if(!sd[t])return t;var e=sd[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in DI)return Cy[t]=e[n];return t}var $I=Y0("animationend"),OI=Y0("animationiteration"),FI=Y0("animationstart"),LI=Y0("transitionend"),BI=new Map,mS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ml(t,e){BI.set(t,e),Dc(e,[t])}for(var Ey=0;Ey<mS.length;Ey++){var _y=mS[Ey],Y9=_y.toLowerCase(),X9=_y[0].toUpperCase()+_y.slice(1);ml(Y9,"on"+X9)}ml($I,"onAnimationEnd");ml(OI,"onAnimationIteration");ml(FI,"onAnimationStart");ml("dblclick","onDoubleClick");ml("focusin","onFocus");ml("focusout","onBlur");ml(LI,"onTransitionEnd");Hd("onMouseEnter",["mouseout","mouseover"]);Hd("onMouseLeave",["mouseout","mouseover"]);Hd("onPointerEnter",["pointerout","pointerover"]);Hd("onPointerLeave",["pointerout","pointerover"]);Dc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Dc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Dc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Dc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Dc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Dc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),J9=new Set("cancel close invalid load scroll toggle".split(" ").concat(xh));function pS(t,e,n){var s=t.type||"unknown-event";t.currentTarget=n,YB(s,e,void 0,t),t.currentTarget=null}function UI(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],r=s.event;s=s.listeners;e:{var i=void 0;if(e)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&r.isPropagationStopped())break e;pS(r,l,d),i=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&r.isPropagationStopped())break e;pS(r,l,d),i=c}}}if(_g)throw t=Db,_g=!1,Db=null,t}function dn(t,e){var n=e[Wb];n===void 0&&(n=e[Wb]=new Set);var s=t+"__bubble";n.has(s)||(VI(e,t,2,!1),n.add(s))}function Py(t,e,n){var s=0;e&&(s|=4),VI(n,t,s,e)}var Hm="_reactListening"+Math.random().toString(36).slice(2);function hf(t){if(!t[Hm]){t[Hm]=!0,YP.forEach(function(n){n!=="selectionchange"&&(J9.has(n)||Py(n,!1,t),Py(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Hm]||(e[Hm]=!0,Py("selectionchange",!1,e))}}function VI(t,e,n,s){switch(SI(e)){case 1:var r=u9;break;case 4:r=h9;break;default:r=C2}n=r.bind(null,e,n,t),r=void 0,!Mb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),s?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Iy(t,e,n,s,r){var i=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===r||l.nodeType===8&&l.parentNode===r)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;o=o.return}for(;l!==null;){if(o=Wl(l),o===null)return;if(c=o.tag,c===5||c===6){s=i=o;continue e}l=l.parentNode}}s=s.return}uI(function(){var d=i,u=j2(n),h=[];e:{var f=BI.get(t);if(f!==void 0){var m=_2,x=t;switch(t){case"keypress":if(Bp(n)===0)break e;case"keydown":case"keyup":m=T9;break;case"focusin":x="focus",m=Sy;break;case"focusout":x="blur",m=Sy;break;case"beforeblur":case"afterblur":m=Sy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=sS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=p9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=_9;break;case $I:case OI:case FI:m=y9;break;case LI:m=I9;break;case"scroll":m=f9;break;case"wheel":m=M9;break;case"copy":case"cut":case"paste":m=b9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=iS}var p=(e&4)!==0,w=!p&&t==="scroll",b=p?f!==null?f+"Capture":null:f;p=[];for(var v=d,N;v!==null;){N=v;var E=N.stateNode;if(N.tag===5&&E!==null&&(N=E,b!==null&&(E=af(v,b),E!=null&&p.push(ff(v,E,N)))),w)break;v=v.return}0<p.length&&(f=new m(f,x,null,n,u),h.push({event:f,listeners:p}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==Ib&&(x=n.relatedTarget||n.fromElement)&&(Wl(x)||x[Ya]))break e;if((m||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,m?(x=n.relatedTarget||n.toElement,m=d,x=x?Wl(x):null,x!==null&&(w=$c(x),x!==w||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=d),m!==x)){if(p=sS,E="onMouseLeave",b="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(p=iS,E="onPointerLeave",b="onPointerEnter",v="pointer"),w=m==null?f:rd(m),N=x==null?f:rd(x),f=new p(E,v+"leave",m,n,u),f.target=w,f.relatedTarget=N,E=null,Wl(u)===d&&(p=new p(b,v+"enter",x,n,u),p.target=N,p.relatedTarget=w,E=p),w=E,m&&x)t:{for(p=m,b=x,v=0,N=p;N;N=zc(N))v++;for(N=0,E=b;E;E=zc(E))N++;for(;0<v-N;)p=zc(p),v--;for(;0<N-v;)b=zc(b),N--;for(;v--;){if(p===b||b!==null&&p===b.alternate)break t;p=zc(p),b=zc(b)}p=null}else p=null;m!==null&&gS(h,f,m,p,!1),x!==null&&w!==null&&gS(h,w,x,p,!0)}}e:{if(f=d?rd(d):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var T=U9;else if(lS(f))if(PI)T=W9;else{T=z9;var R=V9}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=H9);if(T&&(T=T(t,d))){_I(h,T,n,u);break e}R&&R(t,f,d),t==="focusout"&&(R=f._wrapperState)&&R.controlled&&f.type==="number"&&Tb(f,"number",f.value)}switch(R=d?rd(d):window,t){case"focusin":(lS(R)||R.contentEditable==="true")&&(nd=R,Lb=d,_h=null);break;case"focusout":_h=Lb=nd=null;break;case"mousedown":Bb=!0;break;case"contextmenu":case"mouseup":case"dragend":Bb=!1,fS(h,n,u);break;case"selectionchange":if(G9)break;case"keydown":case"keyup":fS(h,n,u)}var $;if(I2)e:{switch(t){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else td?CI(t,n)&&(M="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(TI&&n.locale!=="ko"&&(td||M!=="onCompositionStart"?M==="onCompositionEnd"&&td&&($=AI()):(Ro=u,E2="value"in Ro?Ro.value:Ro.textContent,td=!0)),R=Dg(d,M),0<R.length&&(M=new rS(M,t,null,n,u),h.push({event:M,listeners:R}),$?M.data=$:($=EI(n),$!==null&&(M.data=$)))),($=$9?O9(t,n):F9(t,n))&&(d=Dg(d,"onBeforeInput"),0<d.length&&(u=new rS("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:d}),u.data=$))}UI(h,e)})}function ff(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Dg(t,e){for(var n=e+"Capture",s=[];t!==null;){var r=t,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=af(t,n),i!=null&&s.unshift(ff(t,i,r)),i=af(t,e),i!=null&&s.push(ff(t,i,r))),t=t.return}return s}function zc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function gS(t,e,n,s,r){for(var i=e._reactName,o=[];n!==null&&n!==s;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&d!==null&&(l=d,r?(c=af(n,i),c!=null&&o.unshift(ff(n,c,l))):r||(c=af(n,i),c!=null&&o.push(ff(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Q9=/\r\n?/g,Z9=/\u0000|\uFFFD/g;function xS(t){return(typeof t=="string"?t:""+t).replace(Q9,`
`).replace(Z9,"")}function Wm(t,e,n){if(e=xS(e),xS(t)!==e&&n)throw Error(Ae(425))}function $g(){}var Ub=null,Vb=null;function zb(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Hb=typeof setTimeout=="function"?setTimeout:void 0,eU=typeof clearTimeout=="function"?clearTimeout:void 0,yS=typeof Promise=="function"?Promise:void 0,tU=typeof queueMicrotask=="function"?queueMicrotask:typeof yS<"u"?function(t){return yS.resolve(null).then(t).catch(nU)}:Hb;function nU(t){setTimeout(function(){throw t})}function Ry(t,e){var n=e,s=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(s===0){t.removeChild(r),cf(e);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=r}while(n);cf(e)}function qo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function vS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var yu=Math.random().toString(36).slice(2),Xi="__reactFiber$"+yu,mf="__reactProps$"+yu,Ya="__reactContainer$"+yu,Wb="__reactEvents$"+yu,sU="__reactListeners$"+yu,rU="__reactHandles$"+yu;function Wl(t){var e=t[Xi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ya]||n[Xi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=vS(t);t!==null;){if(n=t[Xi])return n;t=vS(t)}return e}t=n,n=t.parentNode}return null}function lm(t){return t=t[Xi]||t[Ya],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function rd(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ae(33))}function X0(t){return t[mf]||null}var qb=[],id=-1;function pl(t){return{current:t}}function fn(t){0>id||(t.current=qb[id],qb[id]=null,id--)}function rn(t,e){id++,qb[id]=t.current,t.current=e}var sl={},Is=pl(sl),dr=pl(!1),uc=sl;function Wd(t,e){var n=t.type.contextTypes;if(!n)return sl;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in n)r[i]=e[i];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function ur(t){return t=t.childContextTypes,t!=null}function Og(){fn(dr),fn(Is)}function bS(t,e,n){if(Is.current!==sl)throw Error(Ae(168));rn(Is,e),rn(dr,n)}function zI(t,e,n){var s=t.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var r in s)if(!(r in e))throw Error(Ae(108,VB(t)||"Unknown",r));return Sn({},n,s)}function Fg(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||sl,uc=Is.current,rn(Is,t),rn(dr,dr.current),!0}function wS(t,e,n){var s=t.stateNode;if(!s)throw Error(Ae(169));n?(t=zI(t,e,uc),s.__reactInternalMemoizedMergedChildContext=t,fn(dr),fn(Is),rn(Is,t)):fn(dr),rn(dr,n)}var La=null,J0=!1,My=!1;function HI(t){La===null?La=[t]:La.push(t)}function iU(t){J0=!0,HI(t)}function gl(){if(!My&&La!==null){My=!0;var t=0,e=Xt;try{var n=La;for(Xt=1;t<n.length;t++){var s=n[t];do s=s(!0);while(s!==null)}La=null,J0=!1}catch(r){throw La!==null&&(La=La.slice(t+1)),pI(S2,gl),r}finally{Xt=e,My=!1}}return null}var ad=[],od=0,Lg=null,Bg=0,qr=[],Kr=0,hc=null,Va=1,za="";function Ml(t,e){ad[od++]=Bg,ad[od++]=Lg,Lg=t,Bg=e}function WI(t,e,n){qr[Kr++]=Va,qr[Kr++]=za,qr[Kr++]=hc,hc=t;var s=Va;t=za;var r=32-Ci(s)-1;s&=~(1<<r),n+=1;var i=32-Ci(e)+r;if(30<i){var o=r-r%5;i=(s&(1<<o)-1).toString(32),s>>=o,r-=o,Va=1<<32-Ci(e)+r|n<<r|s,za=i+t}else Va=1<<i|n<<r|s,za=t}function M2(t){t.return!==null&&(Ml(t,1),WI(t,1,0))}function D2(t){for(;t===Lg;)Lg=ad[--od],ad[od]=null,Bg=ad[--od],ad[od]=null;for(;t===hc;)hc=qr[--Kr],qr[Kr]=null,za=qr[--Kr],qr[Kr]=null,Va=qr[--Kr],qr[Kr]=null}var Er=null,Ar=null,mn=!1,ki=null;function qI(t,e){var n=Gr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function NS(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Er=t,Ar=qo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Er=t,Ar=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=hc!==null?{id:Va,overflow:za}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Gr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Er=t,Ar=null,!0):!1;default:return!1}}function Kb(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Gb(t){if(mn){var e=Ar;if(e){var n=e;if(!NS(t,e)){if(Kb(t))throw Error(Ae(418));e=qo(n.nextSibling);var s=Er;e&&NS(t,e)?qI(s,n):(t.flags=t.flags&-4097|2,mn=!1,Er=t)}}else{if(Kb(t))throw Error(Ae(418));t.flags=t.flags&-4097|2,mn=!1,Er=t}}}function kS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Er=t}function qm(t){if(t!==Er)return!1;if(!mn)return kS(t),mn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!zb(t.type,t.memoizedProps)),e&&(e=Ar)){if(Kb(t))throw KI(),Error(Ae(418));for(;e;)qI(t,e),e=qo(e.nextSibling)}if(kS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ae(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ar=qo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ar=null}}else Ar=Er?qo(t.stateNode.nextSibling):null;return!0}function KI(){for(var t=Ar;t;)t=qo(t.nextSibling)}function qd(){Ar=Er=null,mn=!1}function $2(t){ki===null?ki=[t]:ki.push(t)}var aU=oo.ReactCurrentBatchConfig;function Ku(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ae(309));var s=n.stateNode}if(!s)throw Error(Ae(147,t));var r=s,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=r.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(Ae(284));if(!n._owner)throw Error(Ae(290,t))}return t}function Km(t,e){throw t=Object.prototype.toString.call(e),Error(Ae(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function jS(t){var e=t._init;return e(t._payload)}function GI(t){function e(b,v){if(t){var N=b.deletions;N===null?(b.deletions=[v],b.flags|=16):N.push(v)}}function n(b,v){if(!t)return null;for(;v!==null;)e(b,v),v=v.sibling;return null}function s(b,v){for(b=new Map;v!==null;)v.key!==null?b.set(v.key,v):b.set(v.index,v),v=v.sibling;return b}function r(b,v){return b=Xo(b,v),b.index=0,b.sibling=null,b}function i(b,v,N){return b.index=N,t?(N=b.alternate,N!==null?(N=N.index,N<v?(b.flags|=2,v):N):(b.flags|=2,v)):(b.flags|=1048576,v)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function l(b,v,N,E){return v===null||v.tag!==6?(v=Uy(N,b.mode,E),v.return=b,v):(v=r(v,N),v.return=b,v)}function c(b,v,N,E){var T=N.type;return T===ed?u(b,v,N.props.children,E,N.key):v!==null&&(v.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===jo&&jS(T)===v.type)?(E=r(v,N.props),E.ref=Ku(b,v,N),E.return=b,E):(E=Kp(N.type,N.key,N.props,null,b.mode,E),E.ref=Ku(b,v,N),E.return=b,E)}function d(b,v,N,E){return v===null||v.tag!==4||v.stateNode.containerInfo!==N.containerInfo||v.stateNode.implementation!==N.implementation?(v=Vy(N,b.mode,E),v.return=b,v):(v=r(v,N.children||[]),v.return=b,v)}function u(b,v,N,E,T){return v===null||v.tag!==7?(v=nc(N,b.mode,E,T),v.return=b,v):(v=r(v,N),v.return=b,v)}function h(b,v,N){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Uy(""+v,b.mode,N),v.return=b,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case $m:return N=Kp(v.type,v.key,v.props,null,b.mode,N),N.ref=Ku(b,null,v),N.return=b,N;case Zc:return v=Vy(v,b.mode,N),v.return=b,v;case jo:var E=v._init;return h(b,E(v._payload),N)}if(ph(v)||Vu(v))return v=nc(v,b.mode,N,null),v.return=b,v;Km(b,v)}return null}function f(b,v,N,E){var T=v!==null?v.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return T!==null?null:l(b,v,""+N,E);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case $m:return N.key===T?c(b,v,N,E):null;case Zc:return N.key===T?d(b,v,N,E):null;case jo:return T=N._init,f(b,v,T(N._payload),E)}if(ph(N)||Vu(N))return T!==null?null:u(b,v,N,E,null);Km(b,N)}return null}function m(b,v,N,E,T){if(typeof E=="string"&&E!==""||typeof E=="number")return b=b.get(N)||null,l(v,b,""+E,T);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case $m:return b=b.get(E.key===null?N:E.key)||null,c(v,b,E,T);case Zc:return b=b.get(E.key===null?N:E.key)||null,d(v,b,E,T);case jo:var R=E._init;return m(b,v,N,R(E._payload),T)}if(ph(E)||Vu(E))return b=b.get(N)||null,u(v,b,E,T,null);Km(v,E)}return null}function x(b,v,N,E){for(var T=null,R=null,$=v,M=v=0,L=null;$!==null&&M<N.length;M++){$.index>M?(L=$,$=null):L=$.sibling;var U=f(b,$,N[M],E);if(U===null){$===null&&($=L);break}t&&$&&U.alternate===null&&e(b,$),v=i(U,v,M),R===null?T=U:R.sibling=U,R=U,$=L}if(M===N.length)return n(b,$),mn&&Ml(b,M),T;if($===null){for(;M<N.length;M++)$=h(b,N[M],E),$!==null&&(v=i($,v,M),R===null?T=$:R.sibling=$,R=$);return mn&&Ml(b,M),T}for($=s(b,$);M<N.length;M++)L=m($,b,M,N[M],E),L!==null&&(t&&L.alternate!==null&&$.delete(L.key===null?M:L.key),v=i(L,v,M),R===null?T=L:R.sibling=L,R=L);return t&&$.forEach(function(z){return e(b,z)}),mn&&Ml(b,M),T}function p(b,v,N,E){var T=Vu(N);if(typeof T!="function")throw Error(Ae(150));if(N=T.call(N),N==null)throw Error(Ae(151));for(var R=T=null,$=v,M=v=0,L=null,U=N.next();$!==null&&!U.done;M++,U=N.next()){$.index>M?(L=$,$=null):L=$.sibling;var z=f(b,$,U.value,E);if(z===null){$===null&&($=L);break}t&&$&&z.alternate===null&&e(b,$),v=i(z,v,M),R===null?T=z:R.sibling=z,R=z,$=L}if(U.done)return n(b,$),mn&&Ml(b,M),T;if($===null){for(;!U.done;M++,U=N.next())U=h(b,U.value,E),U!==null&&(v=i(U,v,M),R===null?T=U:R.sibling=U,R=U);return mn&&Ml(b,M),T}for($=s(b,$);!U.done;M++,U=N.next())U=m($,b,M,U.value,E),U!==null&&(t&&U.alternate!==null&&$.delete(U.key===null?M:U.key),v=i(U,v,M),R===null?T=U:R.sibling=U,R=U);return t&&$.forEach(function(B){return e(b,B)}),mn&&Ml(b,M),T}function w(b,v,N,E){if(typeof N=="object"&&N!==null&&N.type===ed&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case $m:e:{for(var T=N.key,R=v;R!==null;){if(R.key===T){if(T=N.type,T===ed){if(R.tag===7){n(b,R.sibling),v=r(R,N.props.children),v.return=b,b=v;break e}}else if(R.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===jo&&jS(T)===R.type){n(b,R.sibling),v=r(R,N.props),v.ref=Ku(b,R,N),v.return=b,b=v;break e}n(b,R);break}else e(b,R);R=R.sibling}N.type===ed?(v=nc(N.props.children,b.mode,E,N.key),v.return=b,b=v):(E=Kp(N.type,N.key,N.props,null,b.mode,E),E.ref=Ku(b,v,N),E.return=b,b=E)}return o(b);case Zc:e:{for(R=N.key;v!==null;){if(v.key===R)if(v.tag===4&&v.stateNode.containerInfo===N.containerInfo&&v.stateNode.implementation===N.implementation){n(b,v.sibling),v=r(v,N.children||[]),v.return=b,b=v;break e}else{n(b,v);break}else e(b,v);v=v.sibling}v=Vy(N,b.mode,E),v.return=b,b=v}return o(b);case jo:return R=N._init,w(b,v,R(N._payload),E)}if(ph(N))return x(b,v,N,E);if(Vu(N))return p(b,v,N,E);Km(b,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,v!==null&&v.tag===6?(n(b,v.sibling),v=r(v,N),v.return=b,b=v):(n(b,v),v=Uy(N,b.mode,E),v.return=b,b=v),o(b)):n(b,v)}return w}var Kd=GI(!0),YI=GI(!1),Ug=pl(null),Vg=null,ld=null,O2=null;function F2(){O2=ld=Vg=null}function L2(t){var e=Ug.current;fn(Ug),t._currentValue=e}function Yb(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function Cd(t,e){Vg=t,O2=ld=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ar=!0),t.firstContext=null)}function ni(t){var e=t._currentValue;if(O2!==t)if(t={context:t,memoizedValue:e,next:null},ld===null){if(Vg===null)throw Error(Ae(308));ld=t,Vg.dependencies={lanes:0,firstContext:t}}else ld=ld.next=t;return e}var ql=null;function B2(t){ql===null?ql=[t]:ql.push(t)}function XI(t,e,n,s){var r=e.interleaved;return r===null?(n.next=n,B2(e)):(n.next=r.next,r.next=n),e.interleaved=n,Xa(t,s)}function Xa(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var So=!1;function U2(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function JI(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Wa(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ko(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,Vt&2){var r=s.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),s.pending=e,Xa(t,n)}return r=s.interleaved,r===null?(e.next=e,B2(s)):(e.next=r.next,r.next=e),s.interleaved=e,Xa(t,n)}function Up(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,A2(t,n)}}function SS(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?r=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?r=i=e:i=i.next=e}else r=i=e;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:s.shared,effects:s.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function zg(t,e,n,s){var r=t.updateQueue;So=!1;var i=r.firstBaseUpdate,o=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=t.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var h=r.baseState;o=0,u=d=c=null,l=i;do{var f=l.lane,m=l.eventTime;if((s&f)===f){u!==null&&(u=u.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=t,p=l;switch(f=e,m=n,p.tag){case 1:if(x=p.payload,typeof x=="function"){h=x.call(m,h,f);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=p.payload,f=typeof x=="function"?x.call(m,h,f):x,f==null)break e;h=Sn({},h,f);break e;case 2:So=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=r.effects,f===null?r.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=m,c=h):u=u.next=m,o|=f;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;f=l,l=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(!0);if(u===null&&(c=h),r.baseState=c,r.firstBaseUpdate=d,r.lastBaseUpdate=u,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else i===null&&(r.shared.lanes=0);mc|=o,t.lanes=o,t.memoizedState=h}}function AS(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var s=t[e],r=s.callback;if(r!==null){if(s.callback=null,s=n,typeof r!="function")throw Error(Ae(191,r));r.call(s)}}}var cm={},ia=pl(cm),pf=pl(cm),gf=pl(cm);function Kl(t){if(t===cm)throw Error(Ae(174));return t}function V2(t,e){switch(rn(gf,e),rn(pf,t),rn(ia,cm),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Eb(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Eb(e,t)}fn(ia),rn(ia,e)}function Gd(){fn(ia),fn(pf),fn(gf)}function QI(t){Kl(gf.current);var e=Kl(ia.current),n=Eb(e,t.type);e!==n&&(rn(pf,t),rn(ia,n))}function z2(t){pf.current===t&&(fn(ia),fn(pf))}var bn=pl(0);function Hg(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Dy=[];function H2(){for(var t=0;t<Dy.length;t++)Dy[t]._workInProgressVersionPrimary=null;Dy.length=0}var Vp=oo.ReactCurrentDispatcher,$y=oo.ReactCurrentBatchConfig,fc=0,kn=null,Xn=null,ss=null,Wg=!1,Ph=!1,xf=0,oU=0;function ys(){throw Error(Ae(321))}function W2(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ii(t[n],e[n]))return!1;return!0}function q2(t,e,n,s,r,i){if(fc=i,kn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Vp.current=t===null||t.memoizedState===null?uU:hU,t=n(s,r),Ph){i=0;do{if(Ph=!1,xf=0,25<=i)throw Error(Ae(301));i+=1,ss=Xn=null,e.updateQueue=null,Vp.current=fU,t=n(s,r)}while(Ph)}if(Vp.current=qg,e=Xn!==null&&Xn.next!==null,fc=0,ss=Xn=kn=null,Wg=!1,e)throw Error(Ae(300));return t}function K2(){var t=xf!==0;return xf=0,t}function Hi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ss===null?kn.memoizedState=ss=t:ss=ss.next=t,ss}function si(){if(Xn===null){var t=kn.alternate;t=t!==null?t.memoizedState:null}else t=Xn.next;var e=ss===null?kn.memoizedState:ss.next;if(e!==null)ss=e,Xn=t;else{if(t===null)throw Error(Ae(310));Xn=t,t={memoizedState:Xn.memoizedState,baseState:Xn.baseState,baseQueue:Xn.baseQueue,queue:Xn.queue,next:null},ss===null?kn.memoizedState=ss=t:ss=ss.next=t}return ss}function yf(t,e){return typeof e=="function"?e(t):e}function Oy(t){var e=si(),n=e.queue;if(n===null)throw Error(Ae(311));n.lastRenderedReducer=t;var s=Xn,r=s.baseQueue,i=n.pending;if(i!==null){if(r!==null){var o=r.next;r.next=i.next,i.next=o}s.baseQueue=r=i,n.pending=null}if(r!==null){i=r.next,s=s.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((fc&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:t(s,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=s):c=c.next=h,kn.lanes|=u,mc|=u}d=d.next}while(d!==null&&d!==i);c===null?o=s:c.next=l,Ii(s,e.memoizedState)||(ar=!0),e.memoizedState=s,e.baseState=o,e.baseQueue=c,n.lastRenderedState=s}if(t=n.interleaved,t!==null){r=t;do i=r.lane,kn.lanes|=i,mc|=i,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Fy(t){var e=si(),n=e.queue;if(n===null)throw Error(Ae(311));n.lastRenderedReducer=t;var s=n.dispatch,r=n.pending,i=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do i=t(i,o.action),o=o.next;while(o!==r);Ii(i,e.memoizedState)||(ar=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,s]}function ZI(){}function eR(t,e){var n=kn,s=si(),r=e(),i=!Ii(s.memoizedState,r);if(i&&(s.memoizedState=r,ar=!0),s=s.queue,G2(sR.bind(null,n,s,t),[t]),s.getSnapshot!==e||i||ss!==null&&ss.memoizedState.tag&1){if(n.flags|=2048,vf(9,nR.bind(null,n,s,r,e),void 0,null),is===null)throw Error(Ae(349));fc&30||tR(n,e,r)}return r}function tR(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=kn.updateQueue,e===null?(e={lastEffect:null,stores:null},kn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function nR(t,e,n,s){e.value=n,e.getSnapshot=s,rR(e)&&iR(t)}function sR(t,e,n){return n(function(){rR(e)&&iR(t)})}function rR(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ii(t,n)}catch{return!0}}function iR(t){var e=Xa(t,1);e!==null&&Ei(e,t,1,-1)}function TS(t){var e=Hi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yf,lastRenderedState:t},e.queue=t,t=t.dispatch=dU.bind(null,kn,t),[e.memoizedState,t]}function vf(t,e,n,s){return t={tag:t,create:e,destroy:n,deps:s,next:null},e=kn.updateQueue,e===null?(e={lastEffect:null,stores:null},kn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t)),t}function aR(){return si().memoizedState}function zp(t,e,n,s){var r=Hi();kn.flags|=t,r.memoizedState=vf(1|e,n,void 0,s===void 0?null:s)}function Q0(t,e,n,s){var r=si();s=s===void 0?null:s;var i=void 0;if(Xn!==null){var o=Xn.memoizedState;if(i=o.destroy,s!==null&&W2(s,o.deps)){r.memoizedState=vf(e,n,i,s);return}}kn.flags|=t,r.memoizedState=vf(1|e,n,i,s)}function CS(t,e){return zp(8390656,8,t,e)}function G2(t,e){return Q0(2048,8,t,e)}function oR(t,e){return Q0(4,2,t,e)}function lR(t,e){return Q0(4,4,t,e)}function cR(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function dR(t,e,n){return n=n!=null?n.concat([t]):null,Q0(4,4,cR.bind(null,e,t),n)}function Y2(){}function uR(t,e){var n=si();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&W2(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function hR(t,e){var n=si();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&W2(e,s[1])?s[0]:(t=t(),n.memoizedState=[t,e],t)}function fR(t,e,n){return fc&21?(Ii(n,e)||(n=yI(),kn.lanes|=n,mc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ar=!0),t.memoizedState=n)}function lU(t,e){var n=Xt;Xt=n!==0&&4>n?n:4,t(!0);var s=$y.transition;$y.transition={};try{t(!1),e()}finally{Xt=n,$y.transition=s}}function mR(){return si().memoizedState}function cU(t,e,n){var s=Yo(t);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},pR(t))gR(e,n);else if(n=XI(t,e,n,s),n!==null){var r=Ws();Ei(n,t,s,r),xR(n,e,s)}}function dU(t,e,n){var s=Yo(t),r={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(pR(t))gR(e,r);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(r.hasEagerState=!0,r.eagerState=l,Ii(l,o)){var c=e.interleaved;c===null?(r.next=r,B2(e)):(r.next=c.next,c.next=r),e.interleaved=r;return}}catch{}finally{}n=XI(t,e,r,s),n!==null&&(r=Ws(),Ei(n,t,s,r),xR(n,e,s))}}function pR(t){var e=t.alternate;return t===kn||e!==null&&e===kn}function gR(t,e){Ph=Wg=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function xR(t,e,n){if(n&4194240){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,A2(t,n)}}var qg={readContext:ni,useCallback:ys,useContext:ys,useEffect:ys,useImperativeHandle:ys,useInsertionEffect:ys,useLayoutEffect:ys,useMemo:ys,useReducer:ys,useRef:ys,useState:ys,useDebugValue:ys,useDeferredValue:ys,useTransition:ys,useMutableSource:ys,useSyncExternalStore:ys,useId:ys,unstable_isNewReconciler:!1},uU={readContext:ni,useCallback:function(t,e){return Hi().memoizedState=[t,e===void 0?null:e],t},useContext:ni,useEffect:CS,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,zp(4194308,4,cR.bind(null,e,t),n)},useLayoutEffect:function(t,e){return zp(4194308,4,t,e)},useInsertionEffect:function(t,e){return zp(4,2,t,e)},useMemo:function(t,e){var n=Hi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var s=Hi();return e=n!==void 0?n(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=cU.bind(null,kn,t),[s.memoizedState,t]},useRef:function(t){var e=Hi();return t={current:t},e.memoizedState=t},useState:TS,useDebugValue:Y2,useDeferredValue:function(t){return Hi().memoizedState=t},useTransition:function(){var t=TS(!1),e=t[0];return t=lU.bind(null,t[1]),Hi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var s=kn,r=Hi();if(mn){if(n===void 0)throw Error(Ae(407));n=n()}else{if(n=e(),is===null)throw Error(Ae(349));fc&30||tR(s,e,n)}r.memoizedState=n;var i={value:n,getSnapshot:e};return r.queue=i,CS(sR.bind(null,s,i,t),[t]),s.flags|=2048,vf(9,nR.bind(null,s,i,n,e),void 0,null),n},useId:function(){var t=Hi(),e=is.identifierPrefix;if(mn){var n=za,s=Va;n=(s&~(1<<32-Ci(s)-1)).toString(32)+n,e=":"+e+"R"+n,n=xf++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=oU++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},hU={readContext:ni,useCallback:uR,useContext:ni,useEffect:G2,useImperativeHandle:dR,useInsertionEffect:oR,useLayoutEffect:lR,useMemo:hR,useReducer:Oy,useRef:aR,useState:function(){return Oy(yf)},useDebugValue:Y2,useDeferredValue:function(t){var e=si();return fR(e,Xn.memoizedState,t)},useTransition:function(){var t=Oy(yf)[0],e=si().memoizedState;return[t,e]},useMutableSource:ZI,useSyncExternalStore:eR,useId:mR,unstable_isNewReconciler:!1},fU={readContext:ni,useCallback:uR,useContext:ni,useEffect:G2,useImperativeHandle:dR,useInsertionEffect:oR,useLayoutEffect:lR,useMemo:hR,useReducer:Fy,useRef:aR,useState:function(){return Fy(yf)},useDebugValue:Y2,useDeferredValue:function(t){var e=si();return Xn===null?e.memoizedState=t:fR(e,Xn.memoizedState,t)},useTransition:function(){var t=Fy(yf)[0],e=si().memoizedState;return[t,e]},useMutableSource:ZI,useSyncExternalStore:eR,useId:mR,unstable_isNewReconciler:!1};function yi(t,e){if(t&&t.defaultProps){e=Sn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Xb(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:Sn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Z0={isMounted:function(t){return(t=t._reactInternals)?$c(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var s=Ws(),r=Yo(t),i=Wa(s,r);i.payload=e,n!=null&&(i.callback=n),e=Ko(t,i,r),e!==null&&(Ei(e,t,r,s),Up(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=Ws(),r=Yo(t),i=Wa(s,r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ko(t,i,r),e!==null&&(Ei(e,t,r,s),Up(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ws(),s=Yo(t),r=Wa(n,s);r.tag=2,e!=null&&(r.callback=e),e=Ko(t,r,s),e!==null&&(Ei(e,t,s,n),Up(e,t,s))}};function ES(t,e,n,s,r,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,i,o):e.prototype&&e.prototype.isPureReactComponent?!uf(n,s)||!uf(r,i):!0}function yR(t,e,n){var s=!1,r=sl,i=e.contextType;return typeof i=="object"&&i!==null?i=ni(i):(r=ur(e)?uc:Is.current,s=e.contextTypes,i=(s=s!=null)?Wd(t,r):sl),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Z0,t.stateNode=e,e._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=i),e}function _S(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&Z0.enqueueReplaceState(e,e.state,null)}function Jb(t,e,n,s){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},U2(t);var i=e.contextType;typeof i=="object"&&i!==null?r.context=ni(i):(i=ur(e)?uc:Is.current,r.context=Wd(t,i)),r.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Xb(t,e,i,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Z0.enqueueReplaceState(r,r.state,null),zg(t,n,r,s),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Yd(t,e){try{var n="",s=e;do n+=UB(s),s=s.return;while(s);var r=n}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:r,digest:null}}function Ly(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Qb(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var mU=typeof WeakMap=="function"?WeakMap:Map;function vR(t,e,n){n=Wa(-1,n),n.tag=3,n.payload={element:null};var s=e.value;return n.callback=function(){Gg||(Gg=!0,lw=s),Qb(t,e)},n}function bR(t,e,n){n=Wa(-1,n),n.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var r=e.value;n.payload=function(){return s(r)},n.callback=function(){Qb(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Qb(t,e),typeof s!="function"&&(Go===null?Go=new Set([this]):Go.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function PS(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new mU;var r=new Set;s.set(e,r)}else r=s.get(e),r===void 0&&(r=new Set,s.set(e,r));r.has(n)||(r.add(n),t=CU.bind(null,t,e,n),e.then(t,t))}function IS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function RS(t,e,n,s,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Wa(-1,1),e.tag=2,Ko(n,e,1))),n.lanes|=1),t)}var pU=oo.ReactCurrentOwner,ar=!1;function $s(t,e,n,s){e.child=t===null?YI(e,null,n,s):Kd(e,t.child,n,s)}function MS(t,e,n,s,r){n=n.render;var i=e.ref;return Cd(e,r),s=q2(t,e,n,s,i,r),n=K2(),t!==null&&!ar?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Ja(t,e,r)):(mn&&n&&M2(e),e.flags|=1,$s(t,e,s,r),e.child)}function DS(t,e,n,s,r){if(t===null){var i=n.type;return typeof i=="function"&&!sN(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,wR(t,e,i,s,r)):(t=Kp(n.type,null,s,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&r)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:uf,n(o,s)&&t.ref===e.ref)return Ja(t,e,r)}return e.flags|=1,t=Xo(i,s),t.ref=e.ref,t.return=e,e.child=t}function wR(t,e,n,s,r){if(t!==null){var i=t.memoizedProps;if(uf(i,s)&&t.ref===e.ref)if(ar=!1,e.pendingProps=s=i,(t.lanes&r)!==0)t.flags&131072&&(ar=!0);else return e.lanes=t.lanes,Ja(t,e,r)}return Zb(t,e,n,s,r)}function NR(t,e,n){var s=e.pendingProps,r=s.children,i=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},rn(dd,wr),wr|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,rn(dd,wr),wr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:n,rn(dd,wr),wr|=s}else i!==null?(s=i.baseLanes|n,e.memoizedState=null):s=n,rn(dd,wr),wr|=s;return $s(t,e,r,n),e.child}function kR(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Zb(t,e,n,s,r){var i=ur(n)?uc:Is.current;return i=Wd(e,i),Cd(e,r),n=q2(t,e,n,s,i,r),s=K2(),t!==null&&!ar?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Ja(t,e,r)):(mn&&s&&M2(e),e.flags|=1,$s(t,e,n,r),e.child)}function $S(t,e,n,s,r){if(ur(n)){var i=!0;Fg(e)}else i=!1;if(Cd(e,r),e.stateNode===null)Hp(t,e),yR(e,n,s),Jb(e,n,s,r),s=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=ni(d):(d=ur(n)?uc:Is.current,d=Wd(e,d));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==d)&&_S(e,o,s,d),So=!1;var f=e.memoizedState;o.state=f,zg(e,s,o,r),c=e.memoizedState,l!==s||f!==c||dr.current||So?(typeof u=="function"&&(Xb(e,n,u,s),c=e.memoizedState),(l=So||ES(e,n,l,s,f,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=c),o.props=s,o.state=c,o.context=d,s=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{o=e.stateNode,JI(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:yi(e.type,l),o.props=d,h=e.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=ni(c):(c=ur(n)?uc:Is.current,c=Wd(e,c));var m=n.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&_S(e,o,s,c),So=!1,f=e.memoizedState,o.state=f,zg(e,s,o,r);var x=e.memoizedState;l!==h||f!==x||dr.current||So?(typeof m=="function"&&(Xb(e,n,m,s),x=e.memoizedState),(d=So||ES(e,n,d,s,f,x,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,x,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=x),o.props=s,o.state=x,o.context=c,s=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),s=!1)}return ew(t,e,n,s,i,r)}function ew(t,e,n,s,r,i){kR(t,e);var o=(e.flags&128)!==0;if(!s&&!o)return r&&wS(e,n,!1),Ja(t,e,i);s=e.stateNode,pU.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,t!==null&&o?(e.child=Kd(e,t.child,null,i),e.child=Kd(e,null,l,i)):$s(t,e,l,i),e.memoizedState=s.state,r&&wS(e,n,!0),e.child}function jR(t){var e=t.stateNode;e.pendingContext?bS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&bS(t,e.context,!1),V2(t,e.containerInfo)}function OS(t,e,n,s,r){return qd(),$2(r),e.flags|=256,$s(t,e,n,s),e.child}var tw={dehydrated:null,treeContext:null,retryLane:0};function nw(t){return{baseLanes:t,cachePool:null,transitions:null}}function SR(t,e,n){var s=e.pendingProps,r=bn.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(r&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),rn(bn,r&1),t===null)return Gb(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=s.children,t=s.fallback,i?(s=e.mode,i=e.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=nx(o,s,0,null),t=nc(t,s,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=nw(n),e.memoizedState=tw,t):X2(e,o));if(r=t.memoizedState,r!==null&&(l=r.dehydrated,l!==null))return gU(t,e,o,s,l,r,n);if(i){i=s.fallback,o=e.mode,r=t.child,l=r.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&e.child!==r?(s=e.child,s.childLanes=0,s.pendingProps=c,e.deletions=null):(s=Xo(r,c),s.subtreeFlags=r.subtreeFlags&14680064),l!==null?i=Xo(l,i):(i=nc(i,o,n,null),i.flags|=2),i.return=e,s.return=e,s.sibling=i,e.child=s,s=i,i=e.child,o=t.child.memoizedState,o=o===null?nw(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=tw,s}return i=t.child,t=i.sibling,s=Xo(i,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=n),s.return=e,s.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=s,e.memoizedState=null,s}function X2(t,e){return e=nx({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Gm(t,e,n,s){return s!==null&&$2(s),Kd(e,t.child,null,n),t=X2(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function gU(t,e,n,s,r,i,o){if(n)return e.flags&256?(e.flags&=-257,s=Ly(Error(Ae(422))),Gm(t,e,o,s)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=s.fallback,r=e.mode,s=nx({mode:"visible",children:s.children},r,0,null),i=nc(i,r,o,null),i.flags|=2,s.return=e,i.return=e,s.sibling=i,e.child=s,e.mode&1&&Kd(e,t.child,null,o),e.child.memoizedState=nw(o),e.memoizedState=tw,i);if(!(e.mode&1))return Gm(t,e,o,null);if(r.data==="$!"){if(s=r.nextSibling&&r.nextSibling.dataset,s)var l=s.dgst;return s=l,i=Error(Ae(419)),s=Ly(i,s,void 0),Gm(t,e,o,s)}if(l=(o&t.childLanes)!==0,ar||l){if(s=is,s!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(s.suspendedLanes|o)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,Xa(t,r),Ei(s,t,r,-1))}return nN(),s=Ly(Error(Ae(421))),Gm(t,e,o,s)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=EU.bind(null,t),r._reactRetry=e,null):(t=i.treeContext,Ar=qo(r.nextSibling),Er=e,mn=!0,ki=null,t!==null&&(qr[Kr++]=Va,qr[Kr++]=za,qr[Kr++]=hc,Va=t.id,za=t.overflow,hc=e),e=X2(e,s.children),e.flags|=4096,e)}function FS(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),Yb(t.return,e,n)}function By(t,e,n,s,r){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=r)}function AR(t,e,n){var s=e.pendingProps,r=s.revealOrder,i=s.tail;if($s(t,e,s.children,n),s=bn.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&FS(t,n,e);else if(t.tag===19)FS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(rn(bn,s),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Hg(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),By(e,!1,r,n,i);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Hg(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}By(e,!0,n,null,i);break;case"together":By(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Hp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ja(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),mc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ae(153));if(e.child!==null){for(t=e.child,n=Xo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Xo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function xU(t,e,n){switch(e.tag){case 3:jR(e),qd();break;case 5:QI(e);break;case 1:ur(e.type)&&Fg(e);break;case 4:V2(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,r=e.memoizedProps.value;rn(Ug,s._currentValue),s._currentValue=r;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(rn(bn,bn.current&1),e.flags|=128,null):n&e.child.childLanes?SR(t,e,n):(rn(bn,bn.current&1),t=Ja(t,e,n),t!==null?t.sibling:null);rn(bn,bn.current&1);break;case 19:if(s=(n&e.childLanes)!==0,t.flags&128){if(s)return AR(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),rn(bn,bn.current),s)break;return null;case 22:case 23:return e.lanes=0,NR(t,e,n)}return Ja(t,e,n)}var TR,sw,CR,ER;TR=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};sw=function(){};CR=function(t,e,n,s){var r=t.memoizedProps;if(r!==s){t=e.stateNode,Kl(ia.current);var i=null;switch(n){case"input":r=Sb(t,r),s=Sb(t,s),i=[];break;case"select":r=Sn({},r,{value:void 0}),s=Sn({},s,{value:void 0}),i=[];break;case"textarea":r=Cb(t,r),s=Cb(t,s),i=[];break;default:typeof r.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=$g)}_b(n,s);var o;n=null;for(d in r)if(!s.hasOwnProperty(d)&&r.hasOwnProperty(d)&&r[d]!=null)if(d==="style"){var l=r[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(sf.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in s){var c=s[d];if(l=r!=null?r[d]:void 0,s.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(sf.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&dn("scroll",t),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};ER=function(t,e,n,s){n!==s&&(e.flags|=4)};function Gu(t,e){if(!mn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function vs(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&14680064,s|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function yU(t,e,n){var s=e.pendingProps;switch(D2(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vs(e),null;case 1:return ur(e.type)&&Og(),vs(e),null;case 3:return s=e.stateNode,Gd(),fn(dr),fn(Is),H2(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(qm(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ki!==null&&(uw(ki),ki=null))),sw(t,e),vs(e),null;case 5:z2(e);var r=Kl(gf.current);if(n=e.type,t!==null&&e.stateNode!=null)CR(t,e,n,s,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(Ae(166));return vs(e),null}if(t=Kl(ia.current),qm(e)){s=e.stateNode,n=e.type;var i=e.memoizedProps;switch(s[Xi]=e,s[mf]=i,t=(e.mode&1)!==0,n){case"dialog":dn("cancel",s),dn("close",s);break;case"iframe":case"object":case"embed":dn("load",s);break;case"video":case"audio":for(r=0;r<xh.length;r++)dn(xh[r],s);break;case"source":dn("error",s);break;case"img":case"image":case"link":dn("error",s),dn("load",s);break;case"details":dn("toggle",s);break;case"input":Kj(s,i),dn("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},dn("invalid",s);break;case"textarea":Yj(s,i),dn("invalid",s)}_b(n,i),r=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?s.textContent!==l&&(i.suppressHydrationWarning!==!0&&Wm(s.textContent,l,t),r=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Wm(s.textContent,l,t),r=["children",""+l]):sf.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&dn("scroll",s)}switch(n){case"input":Om(s),Gj(s,i,!0);break;case"textarea":Om(s),Xj(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=$g)}s=r,e.updateQueue=s,s!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=sI(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=o.createElement(n,{is:s.is}):(t=o.createElement(n),n==="select"&&(o=t,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):t=o.createElementNS(t,n),t[Xi]=e,t[mf]=s,TR(t,e,!1,!1),e.stateNode=t;e:{switch(o=Pb(n,s),n){case"dialog":dn("cancel",t),dn("close",t),r=s;break;case"iframe":case"object":case"embed":dn("load",t),r=s;break;case"video":case"audio":for(r=0;r<xh.length;r++)dn(xh[r],t);r=s;break;case"source":dn("error",t),r=s;break;case"img":case"image":case"link":dn("error",t),dn("load",t),r=s;break;case"details":dn("toggle",t),r=s;break;case"input":Kj(t,s),r=Sb(t,s),dn("invalid",t);break;case"option":r=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},r=Sn({},s,{value:void 0}),dn("invalid",t);break;case"textarea":Yj(t,s),r=Cb(t,s),dn("invalid",t);break;default:r=s}_b(n,r),l=r;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?aI(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&rI(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&rf(t,c):typeof c=="number"&&rf(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(sf.hasOwnProperty(i)?c!=null&&i==="onScroll"&&dn("scroll",t):c!=null&&b2(t,i,c,o))}switch(n){case"input":Om(t),Gj(t,s,!1);break;case"textarea":Om(t),Xj(t);break;case"option":s.value!=null&&t.setAttribute("value",""+nl(s.value));break;case"select":t.multiple=!!s.multiple,i=s.value,i!=null?jd(t,!!s.multiple,i,!1):s.defaultValue!=null&&jd(t,!!s.multiple,s.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=$g)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return vs(e),null;case 6:if(t&&e.stateNode!=null)ER(t,e,t.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(Ae(166));if(n=Kl(gf.current),Kl(ia.current),qm(e)){if(s=e.stateNode,n=e.memoizedProps,s[Xi]=e,(i=s.nodeValue!==n)&&(t=Er,t!==null))switch(t.tag){case 3:Wm(s.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Wm(s.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Xi]=e,e.stateNode=s}return vs(e),null;case 13:if(fn(bn),s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(mn&&Ar!==null&&e.mode&1&&!(e.flags&128))KI(),qd(),e.flags|=98560,i=!1;else if(i=qm(e),s!==null&&s.dehydrated!==null){if(t===null){if(!i)throw Error(Ae(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ae(317));i[Xi]=e}else qd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;vs(e),i=!1}else ki!==null&&(uw(ki),ki=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(t===null||bn.current&1?es===0&&(es=3):nN())),e.updateQueue!==null&&(e.flags|=4),vs(e),null);case 4:return Gd(),sw(t,e),t===null&&hf(e.stateNode.containerInfo),vs(e),null;case 10:return L2(e.type._context),vs(e),null;case 17:return ur(e.type)&&Og(),vs(e),null;case 19:if(fn(bn),i=e.memoizedState,i===null)return vs(e),null;if(s=(e.flags&128)!==0,o=i.rendering,o===null)if(s)Gu(i,!1);else{if(es!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Hg(t),o!==null){for(e.flags|=128,Gu(i,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=n,n=e.child;n!==null;)i=n,t=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return rn(bn,bn.current&1|2),e.child}t=t.sibling}i.tail!==null&&$n()>Xd&&(e.flags|=128,s=!0,Gu(i,!1),e.lanes=4194304)}else{if(!s)if(t=Hg(o),t!==null){if(e.flags|=128,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Gu(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!mn)return vs(e),null}else 2*$n()-i.renderingStartTime>Xd&&n!==1073741824&&(e.flags|=128,s=!0,Gu(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=$n(),e.sibling=null,n=bn.current,rn(bn,s?n&1|2:n&1),e):(vs(e),null);case 22:case 23:return tN(),s=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?wr&1073741824&&(vs(e),e.subtreeFlags&6&&(e.flags|=8192)):vs(e),null;case 24:return null;case 25:return null}throw Error(Ae(156,e.tag))}function vU(t,e){switch(D2(e),e.tag){case 1:return ur(e.type)&&Og(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Gd(),fn(dr),fn(Is),H2(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return z2(e),null;case 13:if(fn(bn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ae(340));qd()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return fn(bn),null;case 4:return Gd(),null;case 10:return L2(e.type._context),null;case 22:case 23:return tN(),null;case 24:return null;default:return null}}var Ym=!1,js=!1,bU=typeof WeakSet=="function"?WeakSet:Set,We=null;function cd(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){_n(t,e,s)}else n.current=null}function rw(t,e,n){try{n()}catch(s){_n(t,e,s)}}var LS=!1;function wU(t,e){if(Ub=Rg,t=MI(),R2(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=t,f=null;t:for(;;){for(var m;h!==n||r!==0&&h.nodeType!==3||(l=o+r),h!==i||s!==0&&h.nodeType!==3||(c=o+s),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++d===r&&(l=o),f===i&&++u===s&&(c=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Vb={focusedElem:t,selectionRange:n},Rg=!1,We=e;We!==null;)if(e=We,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,We=t;else for(;We!==null;){e=We;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var p=x.memoizedProps,w=x.memoizedState,b=e.stateNode,v=b.getSnapshotBeforeUpdate(e.elementType===e.type?p:yi(e.type,p),w);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var N=e.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ae(163))}}catch(E){_n(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,We=t;break}We=e.return}return x=LS,LS=!1,x}function Ih(t,e,n){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&t)===t){var i=r.destroy;r.destroy=void 0,i!==void 0&&rw(e,n,i)}r=r.next}while(r!==s)}}function ex(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var s=n.create;n.destroy=s()}n=n.next}while(n!==e)}}function iw(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function _R(t){var e=t.alternate;e!==null&&(t.alternate=null,_R(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Xi],delete e[mf],delete e[Wb],delete e[sU],delete e[rU])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function PR(t){return t.tag===5||t.tag===3||t.tag===4}function BS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||PR(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function aw(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=$g));else if(s!==4&&(t=t.child,t!==null))for(aw(t,e,n),t=t.sibling;t!==null;)aw(t,e,n),t=t.sibling}function ow(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(ow(t,e,n),t=t.sibling;t!==null;)ow(t,e,n),t=t.sibling}var ds=null,Ni=!1;function fo(t,e,n){for(n=n.child;n!==null;)IR(t,e,n),n=n.sibling}function IR(t,e,n){if(ra&&typeof ra.onCommitFiberUnmount=="function")try{ra.onCommitFiberUnmount(q0,n)}catch{}switch(n.tag){case 5:js||cd(n,e);case 6:var s=ds,r=Ni;ds=null,fo(t,e,n),ds=s,Ni=r,ds!==null&&(Ni?(t=ds,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ds.removeChild(n.stateNode));break;case 18:ds!==null&&(Ni?(t=ds,n=n.stateNode,t.nodeType===8?Ry(t.parentNode,n):t.nodeType===1&&Ry(t,n),cf(t)):Ry(ds,n.stateNode));break;case 4:s=ds,r=Ni,ds=n.stateNode.containerInfo,Ni=!0,fo(t,e,n),ds=s,Ni=r;break;case 0:case 11:case 14:case 15:if(!js&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){r=s=s.next;do{var i=r,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&rw(n,e,o),r=r.next}while(r!==s)}fo(t,e,n);break;case 1:if(!js&&(cd(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(l){_n(n,e,l)}fo(t,e,n);break;case 21:fo(t,e,n);break;case 22:n.mode&1?(js=(s=js)||n.memoizedState!==null,fo(t,e,n),js=s):fo(t,e,n);break;default:fo(t,e,n)}}function US(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new bU),e.forEach(function(s){var r=_U.bind(null,t,s);n.has(s)||(n.add(s),s.then(r,r))})}}function li(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:ds=l.stateNode,Ni=!1;break e;case 3:ds=l.stateNode.containerInfo,Ni=!0;break e;case 4:ds=l.stateNode.containerInfo,Ni=!0;break e}l=l.return}if(ds===null)throw Error(Ae(160));IR(i,o,r),ds=null,Ni=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(d){_n(r,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)RR(e,t),e=e.sibling}function RR(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(li(e,t),Li(t),s&4){try{Ih(3,t,t.return),ex(3,t)}catch(p){_n(t,t.return,p)}try{Ih(5,t,t.return)}catch(p){_n(t,t.return,p)}}break;case 1:li(e,t),Li(t),s&512&&n!==null&&cd(n,n.return);break;case 5:if(li(e,t),Li(t),s&512&&n!==null&&cd(n,n.return),t.flags&32){var r=t.stateNode;try{rf(r,"")}catch(p){_n(t,t.return,p)}}if(s&4&&(r=t.stateNode,r!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&tI(r,i),Pb(l,o);var d=Pb(l,i);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?aI(r,h):u==="dangerouslySetInnerHTML"?rI(r,h):u==="children"?rf(r,h):b2(r,u,h,d)}switch(l){case"input":Ab(r,i);break;case"textarea":nI(r,i);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?jd(r,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?jd(r,!!i.multiple,i.defaultValue,!0):jd(r,!!i.multiple,i.multiple?[]:"",!1))}r[mf]=i}catch(p){_n(t,t.return,p)}}break;case 6:if(li(e,t),Li(t),s&4){if(t.stateNode===null)throw Error(Ae(162));r=t.stateNode,i=t.memoizedProps;try{r.nodeValue=i}catch(p){_n(t,t.return,p)}}break;case 3:if(li(e,t),Li(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{cf(e.containerInfo)}catch(p){_n(t,t.return,p)}break;case 4:li(e,t),Li(t);break;case 13:li(e,t),Li(t),r=t.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(Z2=$n())),s&4&&US(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(js=(d=js)||u,li(e,t),js=d):li(e,t),Li(t),s&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!u&&t.mode&1)for(We=t,u=t.child;u!==null;){for(h=We=u;We!==null;){switch(f=We,m=f.child,f.tag){case 0:case 11:case 14:case 15:Ih(4,f,f.return);break;case 1:cd(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){s=f,n=f.return;try{e=s,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(p){_n(s,n,p)}}break;case 5:cd(f,f.return);break;case 22:if(f.memoizedState!==null){zS(h);continue}}m!==null?(m.return=f,We=m):zS(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{r=h.stateNode,d?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=iI("display",o))}catch(p){_n(t,t.return,p)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(p){_n(t,t.return,p)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:li(e,t),Li(t),s&4&&US(t);break;case 21:break;default:li(e,t),Li(t)}}function Li(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(PR(n)){var s=n;break e}n=n.return}throw Error(Ae(160))}switch(s.tag){case 5:var r=s.stateNode;s.flags&32&&(rf(r,""),s.flags&=-33);var i=BS(t);ow(t,i,r);break;case 3:case 4:var o=s.stateNode.containerInfo,l=BS(t);aw(t,l,o);break;default:throw Error(Ae(161))}}catch(c){_n(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function NU(t,e,n){We=t,MR(t)}function MR(t,e,n){for(var s=(t.mode&1)!==0;We!==null;){var r=We,i=r.child;if(r.tag===22&&s){var o=r.memoizedState!==null||Ym;if(!o){var l=r.alternate,c=l!==null&&l.memoizedState!==null||js;l=Ym;var d=js;if(Ym=o,(js=c)&&!d)for(We=r;We!==null;)o=We,c=o.child,o.tag===22&&o.memoizedState!==null?HS(r):c!==null?(c.return=o,We=c):HS(r);for(;i!==null;)We=i,MR(i),i=i.sibling;We=r,Ym=l,js=d}VS(t)}else r.subtreeFlags&8772&&i!==null?(i.return=r,We=i):VS(t)}}function VS(t){for(;We!==null;){var e=We;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:js||ex(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!js)if(n===null)s.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:yi(e.type,n.memoizedProps);s.componentDidUpdate(r,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&AS(e,i,s);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}AS(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&cf(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ae(163))}js||e.flags&512&&iw(e)}catch(f){_n(e,e.return,f)}}if(e===t){We=null;break}if(n=e.sibling,n!==null){n.return=e.return,We=n;break}We=e.return}}function zS(t){for(;We!==null;){var e=We;if(e===t){We=null;break}var n=e.sibling;if(n!==null){n.return=e.return,We=n;break}We=e.return}}function HS(t){for(;We!==null;){var e=We;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ex(4,e)}catch(c){_n(e,n,c)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var r=e.return;try{s.componentDidMount()}catch(c){_n(e,r,c)}}var i=e.return;try{iw(e)}catch(c){_n(e,i,c)}break;case 5:var o=e.return;try{iw(e)}catch(c){_n(e,o,c)}}}catch(c){_n(e,e.return,c)}if(e===t){We=null;break}var l=e.sibling;if(l!==null){l.return=e.return,We=l;break}We=e.return}}var kU=Math.ceil,Kg=oo.ReactCurrentDispatcher,J2=oo.ReactCurrentOwner,Jr=oo.ReactCurrentBatchConfig,Vt=0,is=null,Wn=null,ms=0,wr=0,dd=pl(0),es=0,bf=null,mc=0,tx=0,Q2=0,Rh=null,tr=null,Z2=0,Xd=1/0,Da=null,Gg=!1,lw=null,Go=null,Xm=!1,Mo=null,Yg=0,Mh=0,cw=null,Wp=-1,qp=0;function Ws(){return Vt&6?$n():Wp!==-1?Wp:Wp=$n()}function Yo(t){return t.mode&1?Vt&2&&ms!==0?ms&-ms:aU.transition!==null?(qp===0&&(qp=yI()),qp):(t=Xt,t!==0||(t=window.event,t=t===void 0?16:SI(t.type)),t):1}function Ei(t,e,n,s){if(50<Mh)throw Mh=0,cw=null,Error(Ae(185));am(t,n,s),(!(Vt&2)||t!==is)&&(t===is&&(!(Vt&2)&&(tx|=n),es===4&&Eo(t,ms)),hr(t,s),n===1&&Vt===0&&!(e.mode&1)&&(Xd=$n()+500,J0&&gl()))}function hr(t,e){var n=t.callbackNode;a9(t,e);var s=Ig(t,t===is?ms:0);if(s===0)n!==null&&Zj(n),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(n!=null&&Zj(n),e===1)t.tag===0?iU(WS.bind(null,t)):HI(WS.bind(null,t)),tU(function(){!(Vt&6)&&gl()}),n=null;else{switch(vI(s)){case 1:n=S2;break;case 4:n=gI;break;case 16:n=Pg;break;case 536870912:n=xI;break;default:n=Pg}n=VR(n,DR.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function DR(t,e){if(Wp=-1,qp=0,Vt&6)throw Error(Ae(327));var n=t.callbackNode;if(Ed()&&t.callbackNode!==n)return null;var s=Ig(t,t===is?ms:0);if(s===0)return null;if(s&30||s&t.expiredLanes||e)e=Xg(t,s);else{e=s;var r=Vt;Vt|=2;var i=OR();(is!==t||ms!==e)&&(Da=null,Xd=$n()+500,tc(t,e));do try{AU();break}catch(l){$R(t,l)}while(!0);F2(),Kg.current=i,Vt=r,Wn!==null?e=0:(is=null,ms=0,e=es)}if(e!==0){if(e===2&&(r=$b(t),r!==0&&(s=r,e=dw(t,r))),e===1)throw n=bf,tc(t,0),Eo(t,s),hr(t,$n()),n;if(e===6)Eo(t,s);else{if(r=t.current.alternate,!(s&30)&&!jU(r)&&(e=Xg(t,s),e===2&&(i=$b(t),i!==0&&(s=i,e=dw(t,i))),e===1))throw n=bf,tc(t,0),Eo(t,s),hr(t,$n()),n;switch(t.finishedWork=r,t.finishedLanes=s,e){case 0:case 1:throw Error(Ae(345));case 2:Dl(t,tr,Da);break;case 3:if(Eo(t,s),(s&130023424)===s&&(e=Z2+500-$n(),10<e)){if(Ig(t,0)!==0)break;if(r=t.suspendedLanes,(r&s)!==s){Ws(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Hb(Dl.bind(null,t,tr,Da),e);break}Dl(t,tr,Da);break;case 4:if(Eo(t,s),(s&4194240)===s)break;for(e=t.eventTimes,r=-1;0<s;){var o=31-Ci(s);i=1<<o,o=e[o],o>r&&(r=o),s&=~i}if(s=r,s=$n()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*kU(s/1960))-s,10<s){t.timeoutHandle=Hb(Dl.bind(null,t,tr,Da),s);break}Dl(t,tr,Da);break;case 5:Dl(t,tr,Da);break;default:throw Error(Ae(329))}}}return hr(t,$n()),t.callbackNode===n?DR.bind(null,t):null}function dw(t,e){var n=Rh;return t.current.memoizedState.isDehydrated&&(tc(t,e).flags|=256),t=Xg(t,e),t!==2&&(e=tr,tr=n,e!==null&&uw(e)),t}function uw(t){tr===null?tr=t:tr.push.apply(tr,t)}function jU(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var r=n[s],i=r.getSnapshot;r=r.value;try{if(!Ii(i(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Eo(t,e){for(e&=~Q2,e&=~tx,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ci(e),s=1<<n;t[n]=-1,e&=~s}}function WS(t){if(Vt&6)throw Error(Ae(327));Ed();var e=Ig(t,0);if(!(e&1))return hr(t,$n()),null;var n=Xg(t,e);if(t.tag!==0&&n===2){var s=$b(t);s!==0&&(e=s,n=dw(t,s))}if(n===1)throw n=bf,tc(t,0),Eo(t,e),hr(t,$n()),n;if(n===6)throw Error(Ae(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Dl(t,tr,Da),hr(t,$n()),null}function eN(t,e){var n=Vt;Vt|=1;try{return t(e)}finally{Vt=n,Vt===0&&(Xd=$n()+500,J0&&gl())}}function pc(t){Mo!==null&&Mo.tag===0&&!(Vt&6)&&Ed();var e=Vt;Vt|=1;var n=Jr.transition,s=Xt;try{if(Jr.transition=null,Xt=1,t)return t()}finally{Xt=s,Jr.transition=n,Vt=e,!(Vt&6)&&gl()}}function tN(){wr=dd.current,fn(dd)}function tc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,eU(n)),Wn!==null)for(n=Wn.return;n!==null;){var s=n;switch(D2(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Og();break;case 3:Gd(),fn(dr),fn(Is),H2();break;case 5:z2(s);break;case 4:Gd();break;case 13:fn(bn);break;case 19:fn(bn);break;case 10:L2(s.type._context);break;case 22:case 23:tN()}n=n.return}if(is=t,Wn=t=Xo(t.current,null),ms=wr=e,es=0,bf=null,Q2=tx=mc=0,tr=Rh=null,ql!==null){for(e=0;e<ql.length;e++)if(n=ql[e],s=n.interleaved,s!==null){n.interleaved=null;var r=s.next,i=n.pending;if(i!==null){var o=i.next;i.next=r,s.next=o}n.pending=s}ql=null}return t}function $R(t,e){do{var n=Wn;try{if(F2(),Vp.current=qg,Wg){for(var s=kn.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Wg=!1}if(fc=0,ss=Xn=kn=null,Ph=!1,xf=0,J2.current=null,n===null||n.return===null){es=1,bf=e,Wn=null;break}e:{var i=t,o=n.return,l=n,c=e;if(e=ms,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=IS(o);if(m!==null){m.flags&=-257,RS(m,o,l,i,e),m.mode&1&&PS(i,d,e),e=m,c=d;var x=e.updateQueue;if(x===null){var p=new Set;p.add(c),e.updateQueue=p}else x.add(c);break e}else{if(!(e&1)){PS(i,d,e),nN();break e}c=Error(Ae(426))}}else if(mn&&l.mode&1){var w=IS(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),RS(w,o,l,i,e),$2(Yd(c,l));break e}}i=c=Yd(c,l),es!==4&&(es=2),Rh===null?Rh=[i]:Rh.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var b=vR(i,c,e);SS(i,b);break e;case 1:l=c;var v=i.type,N=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Go===null||!Go.has(N)))){i.flags|=65536,e&=-e,i.lanes|=e;var E=bR(i,l,e);SS(i,E);break e}}i=i.return}while(i!==null)}LR(n)}catch(T){e=T,Wn===n&&n!==null&&(Wn=n=n.return);continue}break}while(!0)}function OR(){var t=Kg.current;return Kg.current=qg,t===null?qg:t}function nN(){(es===0||es===3||es===2)&&(es=4),is===null||!(mc&268435455)&&!(tx&268435455)||Eo(is,ms)}function Xg(t,e){var n=Vt;Vt|=2;var s=OR();(is!==t||ms!==e)&&(Da=null,tc(t,e));do try{SU();break}catch(r){$R(t,r)}while(!0);if(F2(),Vt=n,Kg.current=s,Wn!==null)throw Error(Ae(261));return is=null,ms=0,es}function SU(){for(;Wn!==null;)FR(Wn)}function AU(){for(;Wn!==null&&!JB();)FR(Wn)}function FR(t){var e=UR(t.alternate,t,wr);t.memoizedProps=t.pendingProps,e===null?LR(t):Wn=e,J2.current=null}function LR(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=vU(n,e),n!==null){n.flags&=32767,Wn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{es=6,Wn=null;return}}else if(n=yU(n,e,wr),n!==null){Wn=n;return}if(e=e.sibling,e!==null){Wn=e;return}Wn=e=t}while(e!==null);es===0&&(es=5)}function Dl(t,e,n){var s=Xt,r=Jr.transition;try{Jr.transition=null,Xt=1,TU(t,e,n,s)}finally{Jr.transition=r,Xt=s}return null}function TU(t,e,n,s){do Ed();while(Mo!==null);if(Vt&6)throw Error(Ae(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Ae(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(o9(t,i),t===is&&(Wn=is=null,ms=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Xm||(Xm=!0,VR(Pg,function(){return Ed(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Jr.transition,Jr.transition=null;var o=Xt;Xt=1;var l=Vt;Vt|=4,J2.current=null,wU(t,n),RR(n,t),K9(Vb),Rg=!!Ub,Vb=Ub=null,t.current=n,NU(n),QB(),Vt=l,Xt=o,Jr.transition=i}else t.current=n;if(Xm&&(Xm=!1,Mo=t,Yg=r),i=t.pendingLanes,i===0&&(Go=null),t9(n.stateNode),hr(t,$n()),e!==null)for(s=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],s(r.value,{componentStack:r.stack,digest:r.digest});if(Gg)throw Gg=!1,t=lw,lw=null,t;return Yg&1&&t.tag!==0&&Ed(),i=t.pendingLanes,i&1?t===cw?Mh++:(Mh=0,cw=t):Mh=0,gl(),null}function Ed(){if(Mo!==null){var t=vI(Yg),e=Jr.transition,n=Xt;try{if(Jr.transition=null,Xt=16>t?16:t,Mo===null)var s=!1;else{if(t=Mo,Mo=null,Yg=0,Vt&6)throw Error(Ae(331));var r=Vt;for(Vt|=4,We=t.current;We!==null;){var i=We,o=i.child;if(We.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(We=d;We!==null;){var u=We;switch(u.tag){case 0:case 11:case 15:Ih(8,u,i)}var h=u.child;if(h!==null)h.return=u,We=h;else for(;We!==null;){u=We;var f=u.sibling,m=u.return;if(_R(u),u===d){We=null;break}if(f!==null){f.return=m,We=f;break}We=m}}}var x=i.alternate;if(x!==null){var p=x.child;if(p!==null){x.child=null;do{var w=p.sibling;p.sibling=null,p=w}while(p!==null)}}We=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,We=o;else e:for(;We!==null;){if(i=We,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ih(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,We=b;break e}We=i.return}}var v=t.current;for(We=v;We!==null;){o=We;var N=o.child;if(o.subtreeFlags&2064&&N!==null)N.return=o,We=N;else e:for(o=v;We!==null;){if(l=We,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ex(9,l)}}catch(T){_n(l,l.return,T)}if(l===o){We=null;break e}var E=l.sibling;if(E!==null){E.return=l.return,We=E;break e}We=l.return}}if(Vt=r,gl(),ra&&typeof ra.onPostCommitFiberRoot=="function")try{ra.onPostCommitFiberRoot(q0,t)}catch{}s=!0}return s}finally{Xt=n,Jr.transition=e}}return!1}function qS(t,e,n){e=Yd(n,e),e=vR(t,e,1),t=Ko(t,e,1),e=Ws(),t!==null&&(am(t,1,e),hr(t,e))}function _n(t,e,n){if(t.tag===3)qS(t,t,n);else for(;e!==null;){if(e.tag===3){qS(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Go===null||!Go.has(s))){t=Yd(n,t),t=bR(e,t,1),e=Ko(e,t,1),t=Ws(),e!==null&&(am(e,1,t),hr(e,t));break}}e=e.return}}function CU(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),e=Ws(),t.pingedLanes|=t.suspendedLanes&n,is===t&&(ms&n)===n&&(es===4||es===3&&(ms&130023424)===ms&&500>$n()-Z2?tc(t,0):Q2|=n),hr(t,e)}function BR(t,e){e===0&&(t.mode&1?(e=Bm,Bm<<=1,!(Bm&130023424)&&(Bm=4194304)):e=1);var n=Ws();t=Xa(t,e),t!==null&&(am(t,e,n),hr(t,n))}function EU(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),BR(t,n)}function _U(t,e){var n=0;switch(t.tag){case 13:var s=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(Ae(314))}s!==null&&s.delete(e),BR(t,n)}var UR;UR=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||dr.current)ar=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ar=!1,xU(t,e,n);ar=!!(t.flags&131072)}else ar=!1,mn&&e.flags&1048576&&WI(e,Bg,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;Hp(t,e),t=e.pendingProps;var r=Wd(e,Is.current);Cd(e,n),r=q2(null,e,s,t,r,n);var i=K2();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ur(s)?(i=!0,Fg(e)):i=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,U2(e),r.updater=Z0,e.stateNode=r,r._reactInternals=e,Jb(e,s,t,n),e=ew(null,e,s,!0,i,n)):(e.tag=0,mn&&i&&M2(e),$s(null,e,r,n),e=e.child),e;case 16:s=e.elementType;e:{switch(Hp(t,e),t=e.pendingProps,r=s._init,s=r(s._payload),e.type=s,r=e.tag=IU(s),t=yi(s,t),r){case 0:e=Zb(null,e,s,t,n);break e;case 1:e=$S(null,e,s,t,n);break e;case 11:e=MS(null,e,s,t,n);break e;case 14:e=DS(null,e,s,yi(s.type,t),n);break e}throw Error(Ae(306,s,""))}return e;case 0:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:yi(s,r),Zb(t,e,s,r,n);case 1:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:yi(s,r),$S(t,e,s,r,n);case 3:e:{if(jR(e),t===null)throw Error(Ae(387));s=e.pendingProps,i=e.memoizedState,r=i.element,JI(t,e),zg(e,s,null,n);var o=e.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){r=Yd(Error(Ae(423)),e),e=OS(t,e,s,n,r);break e}else if(s!==r){r=Yd(Error(Ae(424)),e),e=OS(t,e,s,n,r);break e}else for(Ar=qo(e.stateNode.containerInfo.firstChild),Er=e,mn=!0,ki=null,n=YI(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(qd(),s===r){e=Ja(t,e,n);break e}$s(t,e,s,n)}e=e.child}return e;case 5:return QI(e),t===null&&Gb(e),s=e.type,r=e.pendingProps,i=t!==null?t.memoizedProps:null,o=r.children,zb(s,r)?o=null:i!==null&&zb(s,i)&&(e.flags|=32),kR(t,e),$s(t,e,o,n),e.child;case 6:return t===null&&Gb(e),null;case 13:return SR(t,e,n);case 4:return V2(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=Kd(e,null,s,n):$s(t,e,s,n),e.child;case 11:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:yi(s,r),MS(t,e,s,r,n);case 7:return $s(t,e,e.pendingProps,n),e.child;case 8:return $s(t,e,e.pendingProps.children,n),e.child;case 12:return $s(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(s=e.type._context,r=e.pendingProps,i=e.memoizedProps,o=r.value,rn(Ug,s._currentValue),s._currentValue=o,i!==null)if(Ii(i.value,o)){if(i.children===r.children&&!dr.current){e=Ja(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=Wa(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Yb(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Ae(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Yb(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}$s(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,s=e.pendingProps.children,Cd(e,n),r=ni(r),s=s(r),e.flags|=1,$s(t,e,s,n),e.child;case 14:return s=e.type,r=yi(s,e.pendingProps),r=yi(s.type,r),DS(t,e,s,r,n);case 15:return wR(t,e,e.type,e.pendingProps,n);case 17:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:yi(s,r),Hp(t,e),e.tag=1,ur(s)?(t=!0,Fg(e)):t=!1,Cd(e,n),yR(e,s,r),Jb(e,s,r,n),ew(null,e,s,!0,t,n);case 19:return AR(t,e,n);case 22:return NR(t,e,n)}throw Error(Ae(156,e.tag))};function VR(t,e){return pI(t,e)}function PU(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gr(t,e,n,s){return new PU(t,e,n,s)}function sN(t){return t=t.prototype,!(!t||!t.isReactComponent)}function IU(t){if(typeof t=="function")return sN(t)?1:0;if(t!=null){if(t=t.$$typeof,t===N2)return 11;if(t===k2)return 14}return 2}function Xo(t,e){var n=t.alternate;return n===null?(n=Gr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Kp(t,e,n,s,r,i){var o=2;if(s=t,typeof t=="function")sN(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ed:return nc(n.children,r,i,e);case w2:o=8,r|=8;break;case wb:return t=Gr(12,n,e,r|2),t.elementType=wb,t.lanes=i,t;case Nb:return t=Gr(13,n,e,r),t.elementType=Nb,t.lanes=i,t;case kb:return t=Gr(19,n,e,r),t.elementType=kb,t.lanes=i,t;case QP:return nx(n,r,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case XP:o=10;break e;case JP:o=9;break e;case N2:o=11;break e;case k2:o=14;break e;case jo:o=16,s=null;break e}throw Error(Ae(130,t==null?t:typeof t,""))}return e=Gr(o,n,e,r),e.elementType=t,e.type=s,e.lanes=i,e}function nc(t,e,n,s){return t=Gr(7,t,s,e),t.lanes=n,t}function nx(t,e,n,s){return t=Gr(22,t,s,e),t.elementType=QP,t.lanes=n,t.stateNode={isHidden:!1},t}function Uy(t,e,n){return t=Gr(6,t,null,e),t.lanes=n,t}function Vy(t,e,n){return e=Gr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function RU(t,e,n,s,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ny(0),this.expirationTimes=Ny(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ny(0),this.identifierPrefix=s,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function rN(t,e,n,s,r,i,o,l,c){return t=new RU(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Gr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},U2(i),t}function MU(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zc,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}function zR(t){if(!t)return sl;t=t._reactInternals;e:{if($c(t)!==t||t.tag!==1)throw Error(Ae(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ur(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ae(171))}if(t.tag===1){var n=t.type;if(ur(n))return zI(t,n,e)}return e}function HR(t,e,n,s,r,i,o,l,c){return t=rN(n,s,!0,t,r,i,o,l,c),t.context=zR(null),n=t.current,s=Ws(),r=Yo(n),i=Wa(s,r),i.callback=e??null,Ko(n,i,r),t.current.lanes=r,am(t,r,s),hr(t,s),t}function sx(t,e,n,s){var r=e.current,i=Ws(),o=Yo(r);return n=zR(n),e.context===null?e.context=n:e.pendingContext=n,e=Wa(i,o),e.payload={element:t},s=s===void 0?null:s,s!==null&&(e.callback=s),t=Ko(r,e,o),t!==null&&(Ei(t,r,o,i),Up(t,r,o)),o}function Jg(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function KS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function iN(t,e){KS(t,e),(t=t.alternate)&&KS(t,e)}function DU(){return null}var WR=typeof reportError=="function"?reportError:function(t){console.error(t)};function aN(t){this._internalRoot=t}rx.prototype.render=aN.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ae(409));sx(t,e,null,null)};rx.prototype.unmount=aN.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;pc(function(){sx(null,t,null,null)}),e[Ya]=null}};function rx(t){this._internalRoot=t}rx.prototype.unstable_scheduleHydration=function(t){if(t){var e=NI();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Co.length&&e!==0&&e<Co[n].priority;n++);Co.splice(n,0,t),n===0&&jI(t)}};function oN(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ix(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function GS(){}function $U(t,e,n,s,r){if(r){if(typeof s=="function"){var i=s;s=function(){var d=Jg(o);i.call(d)}}var o=HR(e,s,t,0,null,!1,!1,"",GS);return t._reactRootContainer=o,t[Ya]=o.current,hf(t.nodeType===8?t.parentNode:t),pc(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof s=="function"){var l=s;s=function(){var d=Jg(c);l.call(d)}}var c=rN(t,0,!1,null,null,!1,!1,"",GS);return t._reactRootContainer=c,t[Ya]=c.current,hf(t.nodeType===8?t.parentNode:t),pc(function(){sx(e,c,n,s)}),c}function ax(t,e,n,s,r){var i=n._reactRootContainer;if(i){var o=i;if(typeof r=="function"){var l=r;r=function(){var c=Jg(o);l.call(c)}}sx(e,o,t,r)}else o=$U(n,e,t,r,s);return Jg(o)}bI=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=gh(e.pendingLanes);n!==0&&(A2(e,n|1),hr(e,$n()),!(Vt&6)&&(Xd=$n()+500,gl()))}break;case 13:pc(function(){var s=Xa(t,1);if(s!==null){var r=Ws();Ei(s,t,1,r)}}),iN(t,1)}};T2=function(t){if(t.tag===13){var e=Xa(t,134217728);if(e!==null){var n=Ws();Ei(e,t,134217728,n)}iN(t,134217728)}};wI=function(t){if(t.tag===13){var e=Yo(t),n=Xa(t,e);if(n!==null){var s=Ws();Ei(n,t,e,s)}iN(t,e)}};NI=function(){return Xt};kI=function(t,e){var n=Xt;try{return Xt=t,e()}finally{Xt=n}};Rb=function(t,e,n){switch(e){case"input":if(Ab(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var r=X0(s);if(!r)throw Error(Ae(90));eI(s),Ab(s,r)}}}break;case"textarea":nI(t,n);break;case"select":e=n.value,e!=null&&jd(t,!!n.multiple,e,!1)}};cI=eN;dI=pc;var OU={usingClientEntryPoint:!1,Events:[lm,rd,X0,oI,lI,eN]},Yu={findFiberByHostInstance:Wl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},FU={bundleType:Yu.bundleType,version:Yu.version,rendererPackageName:Yu.rendererPackageName,rendererConfig:Yu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:oo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=fI(t),t===null?null:t.stateNode},findFiberByHostInstance:Yu.findFiberByHostInstance||DU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jm.isDisabled&&Jm.supportsFiber)try{q0=Jm.inject(FU),ra=Jm}catch{}}Rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OU;Rr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!oN(e))throw Error(Ae(200));return MU(t,e,null,n)};Rr.createRoot=function(t,e){if(!oN(t))throw Error(Ae(299));var n=!1,s="",r=WR;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=rN(t,1,!1,null,null,n,!1,s,r),t[Ya]=e.current,hf(t.nodeType===8?t.parentNode:t),new aN(e)};Rr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ae(188)):(t=Object.keys(t).join(","),Error(Ae(268,t)));return t=fI(e),t=t===null?null:t.stateNode,t};Rr.flushSync=function(t){return pc(t)};Rr.hydrate=function(t,e,n){if(!ix(e))throw Error(Ae(200));return ax(null,t,e,!0,n)};Rr.hydrateRoot=function(t,e,n){if(!oN(t))throw Error(Ae(405));var s=n!=null&&n.hydratedSources||null,r=!1,i="",o=WR;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=HR(e,null,t,1,n??null,r,!1,i,o),t[Ya]=e.current,hf(t),s)for(t=0;t<s.length;t++)n=s[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new rx(e)};Rr.render=function(t,e,n){if(!ix(e))throw Error(Ae(200));return ax(null,t,e,!1,n)};Rr.unmountComponentAtNode=function(t){if(!ix(t))throw Error(Ae(40));return t._reactRootContainer?(pc(function(){ax(null,null,t,!1,function(){t._reactRootContainer=null,t[Ya]=null})}),!0):!1};Rr.unstable_batchedUpdates=eN;Rr.unstable_renderSubtreeIntoContainer=function(t,e,n,s){if(!ix(n))throw Error(Ae(200));if(t==null||t._reactInternals===void 0)throw Error(Ae(38));return ax(t,e,n,!1,s)};Rr.version="18.3.1-next-f1338f8080-20240426";function qR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qR)}catch(t){console.error(t)}}qR(),qP.exports=Rr;var Oc=qP.exports;const KR=pu(Oc);var GR,YS=Oc;GR=YS.createRoot,YS.hydrateRoot;const LU=1,BU=1e6;let zy=0;function UU(){return zy=(zy+1)%Number.MAX_SAFE_INTEGER,zy.toString()}const Hy=new Map,XS=t=>{if(Hy.has(t))return;const e=setTimeout(()=>{Hy.delete(t),Dh({type:"REMOVE_TOAST",toastId:t})},BU);Hy.set(t,e)},VU=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,LU)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?XS(n):t.toasts.forEach(s=>{XS(s.id)}),{...t,toasts:t.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Gp=[];let Yp={toasts:[]};function Dh(t){Yp=VU(Yp,t),Gp.forEach(e=>{e(Yp)})}function zU({...t}){const e=UU(),n=r=>Dh({type:"UPDATE_TOAST",toast:{...r,id:e}}),s=()=>Dh({type:"DISMISS_TOAST",toastId:e});return Dh({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:r=>{r||s()}}}),{id:e,dismiss:s,update:n}}function HU(){const[t,e]=y.useState(Yp);return y.useEffect(()=>(Gp.push(e),()=>{const n=Gp.indexOf(e);n>-1&&Gp.splice(n,1)}),[t]),{...t,toast:zU,dismiss:n=>Dh({type:"DISMISS_TOAST",toastId:n})}}function at(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t==null||t(r),n===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function WU(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function YR(...t){return e=>t.forEach(n=>WU(n,e))}function nn(...t){return y.useCallback(YR(...t),t)}function qU(t,e=[]){let n=[];function s(i,o){const l=y.createContext(o),c=n.length;n=[...n,o];function d(h){const{scope:f,children:m,...x}=h,p=(f==null?void 0:f[t][c])||l,w=y.useMemo(()=>x,Object.values(x));return a.jsx(p.Provider,{value:w,children:m})}function u(h,f){const m=(f==null?void 0:f[t][c])||l,x=y.useContext(m);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const r=()=>{const i=n.map(o=>y.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return r.scopeName=t,[s,KU(r,...e)]}function KU(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var gc=y.forwardRef((t,e)=>{const{children:n,...s}=t,r=y.Children.toArray(n),i=r.find(GU);if(i){const o=i.props.children,l=r.map(c=>c===i?y.Children.count(o)>1?y.Children.only(null):y.isValidElement(o)?o.props.children:null:c);return a.jsx(hw,{...s,ref:e,children:y.isValidElement(o)?y.cloneElement(o,void 0,l):null})}return a.jsx(hw,{...s,ref:e,children:n})});gc.displayName="Slot";var hw=y.forwardRef((t,e)=>{const{children:n,...s}=t;if(y.isValidElement(n)){const r=XU(n);return y.cloneElement(n,{...YU(s,n.props),ref:e?YR(e,r):r})}return y.Children.count(n)>1?y.Children.only(null):null});hw.displayName="SlotClone";var XR=({children:t})=>a.jsx(a.Fragment,{children:t});function GU(t){return y.isValidElement(t)&&t.type===XR}function YU(t,e){const n={...e};for(const s in e){const r=t[s],i=e[s];/^on[A-Z]/.test(s)?r&&i?n[s]=(...l)=>{i(...l),r(...l)}:r&&(n[s]=r):s==="style"?n[s]={...r,...i}:s==="className"&&(n[s]=[r,i].filter(Boolean).join(" "))}return{...t,...n}}function XU(t){var s,r;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function lN(t){const e=t+"CollectionProvider",[n,s]=qU(e),[r,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:x,children:p}=m,w=Pe.useRef(null),b=Pe.useRef(new Map).current;return a.jsx(r,{scope:x,itemMap:b,collectionRef:w,children:p})};o.displayName=e;const l=t+"CollectionSlot",c=Pe.forwardRef((m,x)=>{const{scope:p,children:w}=m,b=i(l,p),v=nn(x,b.collectionRef);return a.jsx(gc,{ref:v,children:w})});c.displayName=l;const d=t+"CollectionItemSlot",u="data-radix-collection-item",h=Pe.forwardRef((m,x)=>{const{scope:p,children:w,...b}=m,v=Pe.useRef(null),N=nn(x,v),E=i(d,p);return Pe.useEffect(()=>(E.itemMap.set(v,{ref:v,...b}),()=>void E.itemMap.delete(v))),a.jsx(gc,{[u]:"",ref:N,children:w})});h.displayName=d;function f(m){const x=i(t+"CollectionConsumer",m);return Pe.useCallback(()=>{const w=x.collectionRef.current;if(!w)return[];const b=Array.from(w.querySelectorAll(`[${u}]`));return Array.from(x.itemMap.values()).sort((E,T)=>b.indexOf(E.ref.current)-b.indexOf(T.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:c,ItemSlot:h},f,s]}function JU(t,e){const n=y.createContext(e),s=i=>{const{children:o,...l}=i,c=y.useMemo(()=>l,Object.values(l));return a.jsx(n.Provider,{value:c,children:o})};s.displayName=t+"Provider";function r(i){const o=y.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[s,r]}function Fc(t,e=[]){let n=[];function s(i,o){const l=y.createContext(o),c=n.length;n=[...n,o];const d=h=>{var b;const{scope:f,children:m,...x}=h,p=((b=f==null?void 0:f[t])==null?void 0:b[c])||l,w=y.useMemo(()=>x,Object.values(x));return a.jsx(p.Provider,{value:w,children:m})};d.displayName=i+"Provider";function u(h,f){var p;const m=((p=f==null?void 0:f[t])==null?void 0:p[c])||l,x=y.useContext(m);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[d,u]}const r=()=>{const i=n.map(o=>y.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return r.scopeName=t,[s,QU(r,...e)]}function QU(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var ZU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],xt=ZU.reduce((t,e)=>{const n=y.forwardRef((s,r)=>{const{asChild:i,...o}=s,l=i?gc:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(l,{...o,ref:r})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function JR(t,e){t&&Oc.flushSync(()=>t.dispatchEvent(e))}function qs(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...n)=>{var s;return(s=e.current)==null?void 0:s.call(e,...n)},[])}function e7(t,e=globalThis==null?void 0:globalThis.document){const n=qs(t);y.useEffect(()=>{const s=r=>{r.key==="Escape"&&n(r)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[n,e])}var t7="DismissableLayer",fw="dismissableLayer.update",n7="dismissableLayer.pointerDownOutside",s7="dismissableLayer.focusOutside",JS,QR=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),dm=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:r,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=t,d=y.useContext(QR),[u,h]=y.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=y.useState({}),x=nn(e,$=>h($)),p=Array.from(d.layers),[w]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),b=p.indexOf(w),v=u?p.indexOf(u):-1,N=d.layersWithOutsidePointerEventsDisabled.size>0,E=v>=b,T=i7($=>{const M=$.target,L=[...d.branches].some(U=>U.contains(M));!E||L||(r==null||r($),o==null||o($),$.defaultPrevented||l==null||l())},f),R=a7($=>{const M=$.target;[...d.branches].some(U=>U.contains(M))||(i==null||i($),o==null||o($),$.defaultPrevented||l==null||l())},f);return e7($=>{v===d.layers.size-1&&(s==null||s($),!$.defaultPrevented&&l&&($.preventDefault(),l()))},f),y.useEffect(()=>{if(u)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(JS=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),QS(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=JS)}},[u,f,n,d]),y.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),QS())},[u,d]),y.useEffect(()=>{const $=()=>m({});return document.addEventListener(fw,$),()=>document.removeEventListener(fw,$)},[]),a.jsx(xt.div,{...c,ref:x,style:{pointerEvents:N?E?"auto":"none":void 0,...t.style},onFocusCapture:at(t.onFocusCapture,R.onFocusCapture),onBlurCapture:at(t.onBlurCapture,R.onBlurCapture),onPointerDownCapture:at(t.onPointerDownCapture,T.onPointerDownCapture)})});dm.displayName=t7;var r7="DismissableLayerBranch",ZR=y.forwardRef((t,e)=>{const n=y.useContext(QR),s=y.useRef(null),r=nn(e,s);return y.useEffect(()=>{const i=s.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),a.jsx(xt.div,{...t,ref:r})});ZR.displayName=r7;function i7(t,e=globalThis==null?void 0:globalThis.document){const n=qs(t),s=y.useRef(!1),r=y.useRef(()=>{});return y.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let c=function(){eM(n7,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=c,e.addEventListener("click",r.current,{once:!0})):c()}else e.removeEventListener("click",r.current);s.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",r.current)}},[e,n]),{onPointerDownCapture:()=>s.current=!0}}function a7(t,e=globalThis==null?void 0:globalThis.document){const n=qs(t),s=y.useRef(!1);return y.useEffect(()=>{const r=i=>{i.target&&!s.current&&eM(s7,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function QS(){const t=new CustomEvent(fw);document.dispatchEvent(t)}function eM(t,e,n,{discrete:s}){const r=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),s?JR(r,i):r.dispatchEvent(i)}var o7=dm,l7=ZR,os=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},c7="Portal",ox=y.forwardRef((t,e)=>{var l;const{container:n,...s}=t,[r,i]=y.useState(!1);os(()=>i(!0),[]);const o=n||r&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?KR.createPortal(a.jsx(xt.div,{...s,ref:e}),o):null});ox.displayName=c7;function d7(t,e){return y.useReducer((n,s)=>e[n][s]??n,t)}var Lc=t=>{const{present:e,children:n}=t,s=u7(e),r=typeof n=="function"?n({present:s.isPresent}):y.Children.only(n),i=nn(s.ref,h7(r));return typeof n=="function"||s.isPresent?y.cloneElement(r,{ref:i}):null};Lc.displayName="Presence";function u7(t){const[e,n]=y.useState(),s=y.useRef({}),r=y.useRef(t),i=y.useRef("none"),o=t?"mounted":"unmounted",[l,c]=d7(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const d=Qm(s.current);i.current=l==="mounted"?d:"none"},[l]),os(()=>{const d=s.current,u=r.current;if(u!==t){const f=i.current,m=Qm(d);t?c("MOUNT"):m==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&f!==m?"ANIMATION_OUT":"UNMOUNT"),r.current=t}},[t,c]),os(()=>{if(e){let d;const u=e.ownerDocument.defaultView??window,h=m=>{const p=Qm(s.current).includes(m.animationName);if(m.target===e&&p&&(c("ANIMATION_END"),!r.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",d=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},f=m=>{m.target===e&&(i.current=Qm(s.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{u.clearTimeout(d),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:y.useCallback(d=>{d&&(s.current=getComputedStyle(d)),n(d)},[])}}function Qm(t){return(t==null?void 0:t.animationName)||"none"}function h7(t){var s,r;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function xc({prop:t,defaultProp:e,onChange:n=()=>{}}){const[s,r]=f7({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:s,l=qs(n),c=y.useCallback(d=>{if(i){const h=typeof d=="function"?d(t):d;h!==t&&l(h)}else r(d)},[i,t,r,l]);return[o,c]}function f7({defaultProp:t,onChange:e}){const n=y.useState(t),[s]=n,r=y.useRef(s),i=qs(e);return y.useEffect(()=>{r.current!==s&&(i(s),r.current=s)},[s,r,i]),n}var m7="VisuallyHidden",um=y.forwardRef((t,e)=>a.jsx(xt.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));um.displayName=m7;var p7=um,cN="ToastProvider",[dN,g7,x7]=lN("Toast"),[tM,P0e]=Fc("Toast",[x7]),[y7,lx]=tM(cN),nM=t=>{const{__scopeToast:e,label:n="Notification",duration:s=5e3,swipeDirection:r="right",swipeThreshold:i=50,children:o}=t,[l,c]=y.useState(null),[d,u]=y.useState(0),h=y.useRef(!1),f=y.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${cN}\`. Expected non-empty \`string\`.`),a.jsx(dN.Provider,{scope:e,children:a.jsx(y7,{scope:e,label:n,duration:s,swipeDirection:r,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:y.useCallback(()=>u(m=>m+1),[]),onToastRemove:y.useCallback(()=>u(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};nM.displayName=cN;var sM="ToastViewport",v7=["F8"],mw="toast.viewportPause",pw="toast.viewportResume",rM=y.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:s=v7,label:r="Notifications ({hotkey})",...i}=t,o=lx(sM,n),l=g7(n),c=y.useRef(null),d=y.useRef(null),u=y.useRef(null),h=y.useRef(null),f=nn(e,h,o.onViewportChange),m=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;y.useEffect(()=>{const w=b=>{var N;s.length!==0&&s.every(E=>b[E]||b.code===E)&&((N=h.current)==null||N.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[s]),y.useEffect(()=>{const w=c.current,b=h.current;if(x&&w&&b){const v=()=>{if(!o.isClosePausedRef.current){const R=new CustomEvent(mw);b.dispatchEvent(R),o.isClosePausedRef.current=!0}},N=()=>{if(o.isClosePausedRef.current){const R=new CustomEvent(pw);b.dispatchEvent(R),o.isClosePausedRef.current=!1}},E=R=>{!w.contains(R.relatedTarget)&&N()},T=()=>{w.contains(document.activeElement)||N()};return w.addEventListener("focusin",v),w.addEventListener("focusout",E),w.addEventListener("pointermove",v),w.addEventListener("pointerleave",T),window.addEventListener("blur",v),window.addEventListener("focus",N),()=>{w.removeEventListener("focusin",v),w.removeEventListener("focusout",E),w.removeEventListener("pointermove",v),w.removeEventListener("pointerleave",T),window.removeEventListener("blur",v),window.removeEventListener("focus",N)}}},[x,o.isClosePausedRef]);const p=y.useCallback(({tabbingDirection:w})=>{const v=l().map(N=>{const E=N.ref.current,T=[E,...I7(E)];return w==="forwards"?T:T.reverse()});return(w==="forwards"?v.reverse():v).flat()},[l]);return y.useEffect(()=>{const w=h.current;if(w){const b=v=>{var T,R,$;const N=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!N){const M=document.activeElement,L=v.shiftKey;if(v.target===w&&L){(T=d.current)==null||T.focus();return}const B=p({tabbingDirection:L?"backwards":"forwards"}),D=B.findIndex(g=>g===M);Wy(B.slice(D+1))?v.preventDefault():L?(R=d.current)==null||R.focus():($=u.current)==null||$.focus()}};return w.addEventListener("keydown",b),()=>w.removeEventListener("keydown",b)}},[l,p]),a.jsxs(l7,{ref:c,role:"region","aria-label":r.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&a.jsx(gw,{ref:d,onFocusFromOutsideViewport:()=>{const w=p({tabbingDirection:"forwards"});Wy(w)}}),a.jsx(dN.Slot,{scope:n,children:a.jsx(xt.ol,{tabIndex:-1,...i,ref:f})}),x&&a.jsx(gw,{ref:u,onFocusFromOutsideViewport:()=>{const w=p({tabbingDirection:"backwards"});Wy(w)}})]})});rM.displayName=sM;var iM="ToastFocusProxy",gw=y.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:s,...r}=t,i=lx(iM,n);return a.jsx(um,{"aria-hidden":!0,tabIndex:0,...r,ref:e,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&s()}})});gw.displayName=iM;var cx="Toast",b7="toast.swipeStart",w7="toast.swipeMove",N7="toast.swipeCancel",k7="toast.swipeEnd",aM=y.forwardRef((t,e)=>{const{forceMount:n,open:s,defaultOpen:r,onOpenChange:i,...o}=t,[l=!0,c]=xc({prop:s,defaultProp:r,onChange:i});return a.jsx(Lc,{present:n||l,children:a.jsx(A7,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:qs(t.onPause),onResume:qs(t.onResume),onSwipeStart:at(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:at(t.onSwipeMove,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:at(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:at(t.onSwipeEnd,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});aM.displayName=cx;var[j7,S7]=tM(cx,{onClose(){}}),A7=y.forwardRef((t,e)=>{const{__scopeToast:n,type:s="foreground",duration:r,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:m,...x}=t,p=lx(cx,n),[w,b]=y.useState(null),v=nn(e,g=>b(g)),N=y.useRef(null),E=y.useRef(null),T=r||p.duration,R=y.useRef(0),$=y.useRef(T),M=y.useRef(0),{onToastAdd:L,onToastRemove:U}=p,z=qs(()=>{var j;(w==null?void 0:w.contains(document.activeElement))&&((j=p.viewport)==null||j.focus()),o()}),B=y.useCallback(g=>{!g||g===1/0||(window.clearTimeout(M.current),R.current=new Date().getTime(),M.current=window.setTimeout(z,g))},[z]);y.useEffect(()=>{const g=p.viewport;if(g){const j=()=>{B($.current),d==null||d()},C=()=>{const P=new Date().getTime()-R.current;$.current=$.current-P,window.clearTimeout(M.current),c==null||c()};return g.addEventListener(mw,C),g.addEventListener(pw,j),()=>{g.removeEventListener(mw,C),g.removeEventListener(pw,j)}}},[p.viewport,T,c,d,B]),y.useEffect(()=>{i&&!p.isClosePausedRef.current&&B(T)},[i,T,p.isClosePausedRef,B]),y.useEffect(()=>(L(),()=>U()),[L,U]);const D=y.useMemo(()=>w?fM(w):null,[w]);return p.viewport?a.jsxs(a.Fragment,{children:[D&&a.jsx(T7,{__scopeToast:n,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:D}),a.jsx(j7,{scope:n,onClose:z,children:Oc.createPortal(a.jsx(dN.ItemSlot,{scope:n,children:a.jsx(o7,{asChild:!0,onEscapeKeyDown:at(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||z(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(xt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":p.swipeDirection,...x,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:at(t.onKeyDown,g=>{g.key==="Escape"&&(l==null||l(g.nativeEvent),g.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,z()))}),onPointerDown:at(t.onPointerDown,g=>{g.button===0&&(N.current={x:g.clientX,y:g.clientY})}),onPointerMove:at(t.onPointerMove,g=>{if(!N.current)return;const j=g.clientX-N.current.x,C=g.clientY-N.current.y,P=!!E.current,S=["left","right"].includes(p.swipeDirection),A=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,F=S?A(0,j):0,_=S?0:A(0,C),k=g.pointerType==="touch"?10:2,O={x:F,y:_},q={originalEvent:g,delta:O};P?(E.current=O,Zm(w7,h,q,{discrete:!1})):ZS(O,p.swipeDirection,k)?(E.current=O,Zm(b7,u,q,{discrete:!1}),g.target.setPointerCapture(g.pointerId)):(Math.abs(j)>k||Math.abs(C)>k)&&(N.current=null)}),onPointerUp:at(t.onPointerUp,g=>{const j=E.current,C=g.target;if(C.hasPointerCapture(g.pointerId)&&C.releasePointerCapture(g.pointerId),E.current=null,N.current=null,j){const P=g.currentTarget,S={originalEvent:g,delta:j};ZS(j,p.swipeDirection,p.swipeThreshold)?Zm(k7,m,S,{discrete:!0}):Zm(N7,f,S,{discrete:!0}),P.addEventListener("click",A=>A.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),T7=t=>{const{__scopeToast:e,children:n,...s}=t,r=lx(cx,e),[i,o]=y.useState(!1),[l,c]=y.useState(!1);return _7(()=>o(!0)),y.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:a.jsx(ox,{asChild:!0,children:a.jsx(um,{...s,children:i&&a.jsxs(a.Fragment,{children:[r.label," ",n]})})})},C7="ToastTitle",oM=y.forwardRef((t,e)=>{const{__scopeToast:n,...s}=t;return a.jsx(xt.div,{...s,ref:e})});oM.displayName=C7;var E7="ToastDescription",lM=y.forwardRef((t,e)=>{const{__scopeToast:n,...s}=t;return a.jsx(xt.div,{...s,ref:e})});lM.displayName=E7;var cM="ToastAction",dM=y.forwardRef((t,e)=>{const{altText:n,...s}=t;return n.trim()?a.jsx(hM,{altText:n,asChild:!0,children:a.jsx(uN,{...s,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${cM}\`. Expected non-empty \`string\`.`),null)});dM.displayName=cM;var uM="ToastClose",uN=y.forwardRef((t,e)=>{const{__scopeToast:n,...s}=t,r=S7(uM,n);return a.jsx(hM,{asChild:!0,children:a.jsx(xt.button,{type:"button",...s,ref:e,onClick:at(t.onClick,r.onClose)})})});uN.displayName=uM;var hM=y.forwardRef((t,e)=>{const{__scopeToast:n,altText:s,...r}=t;return a.jsx(xt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...r,ref:e})});function fM(t){const e=[];return Array.from(t.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&e.push(s.textContent),P7(s)){const r=s.ariaHidden||s.hidden||s.style.display==="none",i=s.dataset.radixToastAnnounceExclude==="";if(!r)if(i){const o=s.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...fM(s))}}),e}function Zm(t,e,n,{discrete:s}){const r=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),s?JR(r,i):r.dispatchEvent(i)}var ZS=(t,e,n=0)=>{const s=Math.abs(t.x),r=Math.abs(t.y),i=s>r;return e==="left"||e==="right"?i&&s>n:!i&&r>n};function _7(t=()=>{}){const e=qs(t);os(()=>{let n=0,s=0;return n=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(s)}},[e])}function P7(t){return t.nodeType===t.ELEMENT_NODE}function I7(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const r=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||r?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Wy(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var R7=nM,mM=rM,pM=aM,gM=oM,xM=lM,yM=dM,vM=uN;function bM(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=bM(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function wM(){for(var t,e,n=0,s="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=bM(t))&&(s&&(s+=" "),s+=e);return s}const eA=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,tA=wM,dx=(t,e)=>n=>{var s;if((e==null?void 0:e.variants)==null)return tA(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:r,defaultVariants:i}=e,o=Object.keys(r).map(d=>{const u=n==null?void 0:n[d],h=i==null?void 0:i[d];if(u===null)return null;const f=eA(u)||eA(h);return r[d][f]}),l=n&&Object.entries(n).reduce((d,u)=>{let[h,f]=u;return f===void 0||(d[h]=f),d},{}),c=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((d,u)=>{let{class:h,className:f,...m}=u;return Object.entries(m).every(x=>{let[p,w]=x;return Array.isArray(w)?w.includes({...i,...l}[p]):{...i,...l}[p]===w})?[...d,h,f]:d},[]);return tA(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M7=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),NM=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var D7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $7=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:r="",children:i,iconNode:o,...l},c)=>y.createElement("svg",{ref:c,...D7,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:NM("lucide",r),...l},[...o.map(([d,u])=>y.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=(t,e)=>{const n=y.forwardRef(({className:s,...r},i)=>y.createElement($7,{ref:i,iconNode:e,className:NM(`lucide-${M7(t)}`,s),...r}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=$e("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O7=$e("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=$e("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F7=$e("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L7=$e("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=$e("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=$e("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _d=$e("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B7=$e("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=$e("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=$e("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U7=$e("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=$e("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=$e("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=$e("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=$e("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=$e("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V7=$e("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z7=$e("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=$e("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=$e("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=$e("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=$e("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=$e("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=$e("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H7=$e("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W7=$e("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=$e("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=$e("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wf=$e("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xw=$e("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=$e("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=$e("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=$e("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=$e("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q7=$e("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K7=$e("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=$e("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nc=$e("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G7=$e("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y7=$e("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=$e("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X7=$e("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J7=$e("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=$e("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xp=$e("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=$e("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q7=$e("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z7=$e("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yw=$e("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eV=$e("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tV=$e("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=$e("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=$e("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vw=$e("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nV=$e("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=$e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=$e("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=$e("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=$e("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $h=$e("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=$e("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sV=$e("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=$e("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rV=$e("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=$e("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=$e("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=$e("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=$e("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iV=$e("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aV=$e("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oV=$e("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jd=$e("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qd=$e("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=$e("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=$e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=$e("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),pN="-",lV=t=>{const e=dV(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:o=>{const l=o.split(pN);return l[0]===""&&l.length!==1&&l.shift(),EM(l,e)||cV(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&s[o]?[...c,...s[o]]:c}}},EM=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],s=e.nextPart.get(n),r=s?EM(t.slice(1),s):void 0;if(r)return r;if(e.validators.length===0)return;const i=t.join(pN);return(o=e.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},cA=/^\[(.+)\]$/,cV=t=>{if(cA.test(t)){const e=cA.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},dV=t=>{const{theme:e,prefix:n}=t,s={nextPart:new Map,validators:[]};return hV(Object.entries(t.classGroups),n).forEach(([i,o])=>{bw(o,s,i,e)}),s},bw=(t,e,n,s)=>{t.forEach(r=>{if(typeof r=="string"){const i=r===""?e:dA(e,r);i.classGroupId=n;return}if(typeof r=="function"){if(uV(r)){bw(r(s),e,n,s);return}e.validators.push({validator:r,classGroupId:n});return}Object.entries(r).forEach(([i,o])=>{bw(o,dA(e,i),n,s)})})},dA=(t,e)=>{let n=t;return e.split(pN).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},uV=t=>t.isThemeGetter,hV=(t,e)=>e?t.map(([n,s])=>{const r=s.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[e+o,l])):i);return[n,r]}):t,fV=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,s=new Map;const r=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,s=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=s.get(i))!==void 0)return r(i,o),o},set(i,o){n.has(i)?n.set(i,o):r(i,o)}}},_M="!",mV=t=>{const{separator:e,experimentalParseClassName:n}=t,s=e.length===1,r=e[0],i=e.length,o=l=>{const c=[];let d=0,u=0,h;for(let w=0;w<l.length;w++){let b=l[w];if(d===0){if(b===r&&(s||l.slice(w,w+i)===e)){c.push(l.slice(u,w)),u=w+i;continue}if(b==="/"){h=w;continue}}b==="["?d++:b==="]"&&d--}const f=c.length===0?l:l.substring(u),m=f.startsWith(_M),x=m?f.substring(1):f,p=h&&h>u?h-u:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:x,maybePostfixModifierPosition:p}};return n?l=>n({className:l,parseClassName:o}):o},pV=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(s=>{s[0]==="["?(e.push(...n.sort(),s),n=[]):n.push(s)}),e.push(...n.sort()),e},gV=t=>({cache:fV(t.cacheSize),parseClassName:mV(t),...lV(t)}),xV=/\s+/,yV=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:r}=e,i=[],o=t.trim().split(xV);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}=n(d);let x=!!m,p=s(x?f.substring(0,m):f);if(!p){if(!x){l=d+(l.length>0?" "+l:l);continue}if(p=s(f),!p){l=d+(l.length>0?" "+l:l);continue}x=!1}const w=pV(u).join(":"),b=h?w+_M:w,v=b+p;if(i.includes(v))continue;i.push(v);const N=r(p,x);for(let E=0;E<N.length;++E){const T=N[E];i.push(b+T)}l=d+(l.length>0?" "+l:l)}return l};function vV(){let t=0,e,n,s="";for(;t<arguments.length;)(e=arguments[t++])&&(n=PM(e))&&(s&&(s+=" "),s+=n);return s}const PM=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=PM(t[s]))&&(n&&(n+=" "),n+=e);return n};function bV(t,...e){let n,s,r,i=o;function o(c){const d=e.reduce((u,h)=>h(u),t());return n=gV(d),s=n.cache.get,r=n.cache.set,i=l,l(c)}function l(c){const d=s(c);if(d)return d;const u=yV(c,n);return r(c,u),u}return function(){return i(vV.apply(null,arguments))}}const ln=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},IM=/^\[(?:([a-z-]+):)?(.+)\]$/i,wV=/^\d+\/\d+$/,NV=new Set(["px","full","screen"]),kV=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,jV=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,SV=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,AV=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,TV=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ca=t=>Pd(t)||NV.has(t)||wV.test(t),mo=t=>vu(t,"length",DV),Pd=t=>!!t&&!Number.isNaN(Number(t)),qy=t=>vu(t,"number",Pd),Xu=t=>!!t&&Number.isInteger(Number(t)),CV=t=>t.endsWith("%")&&Pd(t.slice(0,-1)),jt=t=>IM.test(t),po=t=>kV.test(t),EV=new Set(["length","size","percentage"]),_V=t=>vu(t,EV,RM),PV=t=>vu(t,"position",RM),IV=new Set(["image","url"]),RV=t=>vu(t,IV,OV),MV=t=>vu(t,"",$V),Ju=()=>!0,vu=(t,e,n)=>{const s=IM.exec(t);return s?s[1]?typeof e=="string"?s[1]===e:e.has(s[1]):n(s[2]):!1},DV=t=>jV.test(t)&&!SV.test(t),RM=()=>!1,$V=t=>AV.test(t),OV=t=>TV.test(t),FV=()=>{const t=ln("colors"),e=ln("spacing"),n=ln("blur"),s=ln("brightness"),r=ln("borderColor"),i=ln("borderRadius"),o=ln("borderSpacing"),l=ln("borderWidth"),c=ln("contrast"),d=ln("grayscale"),u=ln("hueRotate"),h=ln("invert"),f=ln("gap"),m=ln("gradientColorStops"),x=ln("gradientColorStopPositions"),p=ln("inset"),w=ln("margin"),b=ln("opacity"),v=ln("padding"),N=ln("saturate"),E=ln("scale"),T=ln("sepia"),R=ln("skew"),$=ln("space"),M=ln("translate"),L=()=>["auto","contain","none"],U=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto",jt,e],B=()=>[jt,e],D=()=>["",Ca,mo],g=()=>["auto",Pd,jt],j=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],C=()=>["solid","dashed","dotted","double","none"],P=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],S=()=>["start","end","center","between","around","evenly","stretch"],A=()=>["","0",jt],F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],_=()=>[Pd,jt];return{cacheSize:500,separator:":",theme:{colors:[Ju],spacing:[Ca,mo],blur:["none","",po,jt],brightness:_(),borderColor:[t],borderRadius:["none","","full",po,jt],borderSpacing:B(),borderWidth:D(),contrast:_(),grayscale:A(),hueRotate:_(),invert:A(),gap:B(),gradientColorStops:[t],gradientColorStopPositions:[CV,mo],inset:z(),margin:z(),opacity:_(),padding:B(),saturate:_(),scale:_(),sepia:A(),skew:_(),space:B(),translate:B()},classGroups:{aspect:[{aspect:["auto","square","video",jt]}],container:["container"],columns:[{columns:[po]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...j(),jt]}],overflow:[{overflow:U()}],"overflow-x":[{"overflow-x":U()}],"overflow-y":[{"overflow-y":U()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Xu,jt]}],basis:[{basis:z()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",jt]}],grow:[{grow:A()}],shrink:[{shrink:A()}],order:[{order:["first","last","none",Xu,jt]}],"grid-cols":[{"grid-cols":[Ju]}],"col-start-end":[{col:["auto",{span:["full",Xu,jt]},jt]}],"col-start":[{"col-start":g()}],"col-end":[{"col-end":g()}],"grid-rows":[{"grid-rows":[Ju]}],"row-start-end":[{row:["auto",{span:[Xu,jt]},jt]}],"row-start":[{"row-start":g()}],"row-end":[{"row-end":g()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",jt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",jt]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...S()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...S(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...S(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[$]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[$]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",jt,e]}],"min-w":[{"min-w":[jt,e,"min","max","fit"]}],"max-w":[{"max-w":[jt,e,"none","full","min","max","fit","prose",{screen:[po]},po]}],h:[{h:[jt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[jt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[jt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[jt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",po,mo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",qy]}],"font-family":[{font:[Ju]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",jt]}],"line-clamp":[{"line-clamp":["none",Pd,qy]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ca,jt]}],"list-image":[{"list-image":["none",jt]}],"list-style-type":[{list:["none","disc","decimal",jt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...C(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ca,mo]}],"underline-offset":[{"underline-offset":["auto",Ca,jt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",jt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",jt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...j(),PV]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",_V]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},RV]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...C(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:C()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...C()]}],"outline-offset":[{"outline-offset":[Ca,jt]}],"outline-w":[{outline:[Ca,mo]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Ca,mo]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",po,MV]}],"shadow-color":[{shadow:[Ju]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...P(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":P()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",po,jt]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[N]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",jt]}],duration:[{duration:_()}],ease:[{ease:["linear","in","out","in-out",jt]}],delay:[{delay:_()}],animate:[{animate:["none","spin","ping","pulse","bounce",jt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[Xu,jt]}],"translate-x":[{"translate-x":[M]}],"translate-y":[{"translate-y":[M]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",jt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",jt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",jt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ca,mo,qy]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},LV=bV(FV);function rt(...t){return LV(wM(t))}const BV=R7,MM=y.forwardRef(({className:t,...e},n)=>a.jsx(mM,{ref:n,className:rt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));MM.displayName=mM.displayName;const UV=dx("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),DM=y.forwardRef(({className:t,variant:e,...n},s)=>a.jsx(pM,{ref:s,className:rt(UV({variant:e}),t),...n}));DM.displayName=pM.displayName;const VV=y.forwardRef(({className:t,...e},n)=>a.jsx(yM,{ref:n,className:rt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));VV.displayName=yM.displayName;const $M=y.forwardRef(({className:t,...e},n)=>a.jsx(vM,{ref:n,className:rt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:a.jsx(hx,{className:"h-4 w-4"})}));$M.displayName=vM.displayName;const OM=y.forwardRef(({className:t,...e},n)=>a.jsx(gM,{ref:n,className:rt("text-sm font-semibold",t),...e}));OM.displayName=gM.displayName;const FM=y.forwardRef(({className:t,...e},n)=>a.jsx(xM,{ref:n,className:rt("text-sm opacity-90",t),...e}));FM.displayName=xM.displayName;function zV(){const{toasts:t}=HU();return a.jsxs(BV,{children:[t.map(function({id:e,title:n,description:s,action:r,...i}){return a.jsxs(DM,{...i,children:[a.jsxs("div",{className:"grid gap-1",children:[n&&a.jsx(OM,{children:n}),s&&a.jsx(FM,{children:s})]}),r,a.jsx($M,{})]},e)}),a.jsx(MM,{})]})}var uA=["light","dark"],HV="(prefers-color-scheme: dark)",WV=y.createContext(void 0),qV={setTheme:t=>{},themes:[]},KV=()=>{var t;return(t=y.useContext(WV))!=null?t:qV};y.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:s,enableColorScheme:r,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let d=i==="system",u=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=r?uA.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(x,p=!1,w=!0)=>{let b=o?o[x]:x,v=p?x+"|| ''":`'${b}'`,N="";return r&&w&&!p&&uA.includes(x)&&(N+=`d.style.colorScheme = '${x}';`),n==="class"?p||b?N+=`c.add(${v})`:N+="null":b&&(N+=`d[s](n,${v})`),N},m=t?`!function(){${u}${f(t)}}()`:s?`!function(){try{${u}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${d})){var t='${HV}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${d?"":"else{"+f(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${h}}catch(t){}}();`;return y.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var GV=t=>{switch(t){case"success":return JV;case"info":return ZV;case"warning":return QV;case"error":return ez;default:return null}},YV=Array(12).fill(0),XV=({visible:t})=>Pe.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},Pe.createElement("div",{className:"sonner-spinner"},YV.map((e,n)=>Pe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),JV=Pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Pe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),QV=Pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Pe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),ZV=Pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Pe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),ez=Pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Pe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),tz=()=>{let[t,e]=Pe.useState(document.hidden);return Pe.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},ww=1,nz=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...s}=t,r=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:ww++,i=this.toasts.find(l=>l.id===r),o=t.dismissible===void 0?!0:t.dismissible;return i?this.toasts=this.toasts.map(l=>l.id===r?(this.publish({...l,...t,id:r,title:n}),{...l,...t,id:r,dismissible:o,title:n}):l):this.addToast({title:n,...s,dismissible:o,id:r}),r},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let s=t instanceof Promise?t:t(),r=n!==void 0;return s.then(async i=>{if(rz(i)&&!i.ok){r=!1;let o=typeof e.error=="function"?await e.error(`HTTP error! status: ${i.status}`):e.error,l=typeof e.description=="function"?await e.description(`HTTP error! status: ${i.status}`):e.description;this.create({id:n,type:"error",message:o,description:l})}else if(e.success!==void 0){r=!1;let o=typeof e.success=="function"?await e.success(i):e.success,l=typeof e.description=="function"?await e.description(i):e.description;this.create({id:n,type:"success",message:o,description:l})}}).catch(async i=>{if(e.error!==void 0){r=!1;let o=typeof e.error=="function"?await e.error(i):e.error,l=typeof e.description=="function"?await e.description(i):e.description;this.create({id:n,type:"error",message:o,description:l})}}).finally(()=>{var i;r&&(this.dismiss(n),n=void 0),(i=e.finally)==null||i.call(e)}),n},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||ww++;return this.create({jsx:t(n),id:n,...e}),n},this.subscribers=[],this.toasts=[]}},br=new nz,sz=(t,e)=>{let n=(e==null?void 0:e.id)||ww++;return br.addToast({title:t,...e,id:n}),n},rz=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",iz=sz,az=()=>br.toasts,be=Object.assign(iz,{success:br.success,info:br.info,warning:br.warning,error:br.error,custom:br.custom,message:br.message,promise:br.promise,dismiss:br.dismiss,loading:br.loading},{getHistory:az});function oz(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",e==="top"&&n.firstChild?n.insertBefore(s,n.firstChild):n.appendChild(s),s.styleSheet?s.styleSheet.cssText=t:s.appendChild(document.createTextNode(t))}oz(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function ep(t){return t.label!==void 0}var lz=3,cz="32px",dz=4e3,uz=356,hz=14,fz=20,mz=200;function pz(...t){return t.filter(Boolean).join(" ")}var gz=t=>{var e,n,s,r,i,o,l,c,d,u;let{invert:h,toast:f,unstyled:m,interacting:x,setHeights:p,visibleToasts:w,heights:b,index:v,toasts:N,expanded:E,removeToast:T,defaultRichColors:R,closeButton:$,style:M,cancelButtonStyle:L,actionButtonStyle:U,className:z="",descriptionClassName:B="",duration:D,position:g,gap:j,loadingIcon:C,expandByDefault:P,classNames:S,icons:A,closeButtonAriaLabel:F="Close toast",pauseWhenPageIsHidden:_,cn:k}=t,[O,q]=Pe.useState(!1),[I,V]=Pe.useState(!1),[G,H]=Pe.useState(!1),[K,X]=Pe.useState(!1),[ee,ne]=Pe.useState(0),[Be,te]=Pe.useState(0),ge=Pe.useRef(null),Te=Pe.useRef(null),ve=v===0,Q=v+1<=w,xe=f.type,we=f.dismissible!==!1,Ke=f.className||"",ut=f.descriptionClassName||"",He=Pe.useMemo(()=>b.findIndex(Y=>Y.toastId===f.id)||0,[b,f.id]),gt=Pe.useMemo(()=>{var Y;return(Y=f.closeButton)!=null?Y:$},[f.closeButton,$]),St=Pe.useMemo(()=>f.duration||D||dz,[f.duration,D]),ye=Pe.useRef(0),W=Pe.useRef(0),me=Pe.useRef(0),se=Pe.useRef(null),[ce,Ce]=g.split("-"),Re=Pe.useMemo(()=>b.reduce((Y,J,de)=>de>=He?Y:Y+J.height,0),[b,He]),_e=tz(),Bt=f.invert||h,Ge=xe==="loading";W.current=Pe.useMemo(()=>He*j+Re,[He,Re]),Pe.useEffect(()=>{q(!0)},[]),Pe.useLayoutEffect(()=>{if(!O)return;let Y=Te.current,J=Y.style.height;Y.style.height="auto";let de=Y.getBoundingClientRect().height;Y.style.height=J,te(de),p(he=>he.find(ke=>ke.toastId===f.id)?he.map(ke=>ke.toastId===f.id?{...ke,height:de}:ke):[{toastId:f.id,height:de,position:f.position},...he])},[O,f.title,f.description,p,f.id]);let Ne=Pe.useCallback(()=>{V(!0),ne(W.current),p(Y=>Y.filter(J=>J.toastId!==f.id)),setTimeout(()=>{T(f)},mz)},[f,T,p,W]);Pe.useEffect(()=>{if(f.promise&&xe==="loading"||f.duration===1/0||f.type==="loading")return;let Y,J=St;return E||x||_&&_e?(()=>{if(me.current<ye.current){let de=new Date().getTime()-ye.current;J=J-de}me.current=new Date().getTime()})():J!==1/0&&(ye.current=new Date().getTime(),Y=setTimeout(()=>{var de;(de=f.onAutoClose)==null||de.call(f,f),Ne()},J)),()=>clearTimeout(Y)},[E,x,P,f,St,Ne,f.promise,xe,_,_e]),Pe.useEffect(()=>{let Y=Te.current;if(Y){let J=Y.getBoundingClientRect().height;return te(J),p(de=>[{toastId:f.id,height:J,position:f.position},...de]),()=>p(de=>de.filter(he=>he.toastId!==f.id))}},[p,f.id]),Pe.useEffect(()=>{f.delete&&Ne()},[Ne,f.delete]);function Ve(){return A!=null&&A.loading?Pe.createElement("div",{className:"sonner-loader","data-visible":xe==="loading"},A.loading):C?Pe.createElement("div",{className:"sonner-loader","data-visible":xe==="loading"},C):Pe.createElement(XV,{visible:xe==="loading"})}return Pe.createElement("li",{"aria-live":f.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Te,className:k(z,Ke,S==null?void 0:S.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,S==null?void 0:S.default,S==null?void 0:S[xe],(n=f==null?void 0:f.classNames)==null?void 0:n[xe]),"data-sonner-toast":"","data-rich-colors":(s=f.richColors)!=null?s:R,"data-styled":!(f.jsx||f.unstyled||m),"data-mounted":O,"data-promise":!!f.promise,"data-removed":I,"data-visible":Q,"data-y-position":ce,"data-x-position":Ce,"data-index":v,"data-front":ve,"data-swiping":G,"data-dismissible":we,"data-type":xe,"data-invert":Bt,"data-swipe-out":K,"data-expanded":!!(E||P&&O),style:{"--index":v,"--toasts-before":v,"--z-index":N.length-v,"--offset":`${I?ee:W.current}px`,"--initial-height":P?"auto":`${Be}px`,...M,...f.style},onPointerDown:Y=>{Ge||!we||(ge.current=new Date,ne(W.current),Y.target.setPointerCapture(Y.pointerId),Y.target.tagName!=="BUTTON"&&(H(!0),se.current={x:Y.clientX,y:Y.clientY}))},onPointerUp:()=>{var Y,J,de,he;if(K||!we)return;se.current=null;let ke=Number(((Y=Te.current)==null?void 0:Y.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Fe=new Date().getTime()-((J=ge.current)==null?void 0:J.getTime()),Le=Math.abs(ke)/Fe;if(Math.abs(ke)>=fz||Le>.11){ne(W.current),(de=f.onDismiss)==null||de.call(f,f),Ne(),X(!0);return}(he=Te.current)==null||he.style.setProperty("--swipe-amount","0px"),H(!1)},onPointerMove:Y=>{var J;if(!se.current||!we)return;let de=Y.clientY-se.current.y,he=Y.clientX-se.current.x,ke=(ce==="top"?Math.min:Math.max)(0,de),Fe=Y.pointerType==="touch"?10:2;Math.abs(ke)>Fe?(J=Te.current)==null||J.style.setProperty("--swipe-amount",`${de}px`):Math.abs(he)>Fe&&(se.current=null)}},gt&&!f.jsx?Pe.createElement("button",{"aria-label":F,"data-disabled":Ge,"data-close-button":!0,onClick:Ge||!we?()=>{}:()=>{var Y;Ne(),(Y=f.onDismiss)==null||Y.call(f,f)},className:k(S==null?void 0:S.closeButton,(r=f==null?void 0:f.classNames)==null?void 0:r.closeButton)},Pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Pe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Pe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,f.jsx||Pe.isValidElement(f.title)?f.jsx||f.title:Pe.createElement(Pe.Fragment,null,xe||f.icon||f.promise?Pe.createElement("div",{"data-icon":"",className:k(S==null?void 0:S.icon,(i=f==null?void 0:f.classNames)==null?void 0:i.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||Ve():null,f.type!=="loading"?f.icon||(A==null?void 0:A[xe])||GV(xe):null):null,Pe.createElement("div",{"data-content":"",className:k(S==null?void 0:S.content,(o=f==null?void 0:f.classNames)==null?void 0:o.content)},Pe.createElement("div",{"data-title":"",className:k(S==null?void 0:S.title,(l=f==null?void 0:f.classNames)==null?void 0:l.title)},f.title),f.description?Pe.createElement("div",{"data-description":"",className:k(B,ut,S==null?void 0:S.description,(c=f==null?void 0:f.classNames)==null?void 0:c.description)},f.description):null),Pe.isValidElement(f.cancel)?f.cancel:f.cancel&&ep(f.cancel)?Pe.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||L,onClick:Y=>{var J,de;ep(f.cancel)&&we&&((de=(J=f.cancel).onClick)==null||de.call(J,Y),Ne())},className:k(S==null?void 0:S.cancelButton,(d=f==null?void 0:f.classNames)==null?void 0:d.cancelButton)},f.cancel.label):null,Pe.isValidElement(f.action)?f.action:f.action&&ep(f.action)?Pe.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||U,onClick:Y=>{var J,de;ep(f.action)&&(Y.defaultPrevented||((de=(J=f.action).onClick)==null||de.call(J,Y),Ne()))},className:k(S==null?void 0:S.actionButton,(u=f==null?void 0:f.classNames)==null?void 0:u.actionButton)},f.action.label):null))};function hA(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var xz=t=>{let{invert:e,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:r,closeButton:i,className:o,offset:l,theme:c="light",richColors:d,duration:u,style:h,visibleToasts:f=lz,toastOptions:m,dir:x=hA(),gap:p=hz,loadingIcon:w,icons:b,containerAriaLabel:v="Notifications",pauseWhenPageIsHidden:N,cn:E=pz}=t,[T,R]=Pe.useState([]),$=Pe.useMemo(()=>Array.from(new Set([n].concat(T.filter(_=>_.position).map(_=>_.position)))),[T,n]),[M,L]=Pe.useState([]),[U,z]=Pe.useState(!1),[B,D]=Pe.useState(!1),[g,j]=Pe.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),C=Pe.useRef(null),P=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=Pe.useRef(null),A=Pe.useRef(!1),F=Pe.useCallback(_=>{var k;(k=T.find(O=>O.id===_.id))!=null&&k.delete||br.dismiss(_.id),R(O=>O.filter(({id:q})=>q!==_.id))},[T]);return Pe.useEffect(()=>br.subscribe(_=>{if(_.dismiss){R(k=>k.map(O=>O.id===_.id?{...O,delete:!0}:O));return}setTimeout(()=>{KR.flushSync(()=>{R(k=>{let O=k.findIndex(q=>q.id===_.id);return O!==-1?[...k.slice(0,O),{...k[O],..._},...k.slice(O+1)]:[_,...k]})})})}),[]),Pe.useEffect(()=>{if(c!=="system"){j(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?j("dark"):j("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:_})=>{j(_?"dark":"light")})},[c]),Pe.useEffect(()=>{T.length<=1&&z(!1)},[T]),Pe.useEffect(()=>{let _=k=>{var O,q;s.every(I=>k[I]||k.code===I)&&(z(!0),(O=C.current)==null||O.focus()),k.code==="Escape"&&(document.activeElement===C.current||(q=C.current)!=null&&q.contains(document.activeElement))&&z(!1)};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[s]),Pe.useEffect(()=>{if(C.current)return()=>{S.current&&(S.current.focus({preventScroll:!0}),S.current=null,A.current=!1)}},[C.current]),T.length?Pe.createElement("section",{"aria-label":`${v} ${P}`,tabIndex:-1},$.map((_,k)=>{var O;let[q,I]=_.split("-");return Pe.createElement("ol",{key:_,dir:x==="auto"?hA():x,tabIndex:-1,ref:C,className:o,"data-sonner-toaster":!0,"data-theme":g,"data-y-position":q,"data-x-position":I,style:{"--front-toast-height":`${((O=M[0])==null?void 0:O.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||cz,"--width":`${uz}px`,"--gap":`${p}px`,...h},onBlur:V=>{A.current&&!V.currentTarget.contains(V.relatedTarget)&&(A.current=!1,S.current&&(S.current.focus({preventScroll:!0}),S.current=null))},onFocus:V=>{V.target instanceof HTMLElement&&V.target.dataset.dismissible==="false"||A.current||(A.current=!0,S.current=V.relatedTarget)},onMouseEnter:()=>z(!0),onMouseMove:()=>z(!0),onMouseLeave:()=>{B||z(!1)},onPointerDown:V=>{V.target instanceof HTMLElement&&V.target.dataset.dismissible==="false"||D(!0)},onPointerUp:()=>D(!1)},T.filter(V=>!V.position&&k===0||V.position===_).map((V,G)=>{var H,K;return Pe.createElement(gz,{key:V.id,icons:b,index:G,toast:V,defaultRichColors:d,duration:(H=m==null?void 0:m.duration)!=null?H:u,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:e,visibleToasts:f,closeButton:(K=m==null?void 0:m.closeButton)!=null?K:i,interacting:B,position:_,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:F,toasts:T.filter(X=>X.position==V.position),heights:M.filter(X=>X.position==V.position),setHeights:L,expandByDefault:r,gap:p,loadingIcon:w,expanded:U,pauseWhenPageIsHidden:N,cn:E})}))})):null};const yz=({...t})=>{const{theme:e="system"}=KV();return a.jsx(xz,{theme:e,className:"toaster group",position:"bottom-right",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var vz=HP.useId||(()=>{}),bz=0;function Zo(t){const[e,n]=y.useState(vz());return os(()=>{t||n(s=>s??String(bz++))},[t]),t||(e?`radix-${e}`:"")}const wz=["top","right","bottom","left"],rl=Math.min,Sr=Math.max,Zg=Math.round,tp=Math.floor,il=t=>({x:t,y:t}),Nz={left:"right",right:"left",bottom:"top",top:"bottom"},kz={start:"end",end:"start"};function Nw(t,e,n){return Sr(t,rl(e,n))}function Qa(t,e){return typeof t=="function"?t(e):t}function Za(t){return t.split("-")[0]}function bu(t){return t.split("-")[1]}function gN(t){return t==="x"?"y":"x"}function xN(t){return t==="y"?"height":"width"}function al(t){return["top","bottom"].includes(Za(t))?"y":"x"}function yN(t){return gN(al(t))}function jz(t,e,n){n===void 0&&(n=!1);const s=bu(t),r=yN(t),i=xN(r);let o=r==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=e0(o)),[o,e0(o)]}function Sz(t){const e=e0(t);return[kw(t),e,kw(e)]}function kw(t){return t.replace(/start|end/g,e=>kz[e])}function Az(t,e,n){const s=["left","right"],r=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?r:s:e?s:r;case"left":case"right":return e?i:o;default:return[]}}function Tz(t,e,n,s){const r=bu(t);let i=Az(Za(t),n==="start",s);return r&&(i=i.map(o=>o+"-"+r),e&&(i=i.concat(i.map(kw)))),i}function e0(t){return t.replace(/left|right|bottom|top/g,e=>Nz[e])}function Cz(t){return{top:0,right:0,bottom:0,left:0,...t}}function LM(t){return typeof t!="number"?Cz(t):{top:t,right:t,bottom:t,left:t}}function t0(t){const{x:e,y:n,width:s,height:r}=t;return{width:s,height:r,top:n,left:e,right:e+s,bottom:n+r,x:e,y:n}}function fA(t,e,n){let{reference:s,floating:r}=t;const i=al(e),o=yN(e),l=xN(o),c=Za(e),d=i==="y",u=s.x+s.width/2-r.width/2,h=s.y+s.height/2-r.height/2,f=s[l]/2-r[l]/2;let m;switch(c){case"top":m={x:u,y:s.y-r.height};break;case"bottom":m={x:u,y:s.y+s.height};break;case"right":m={x:s.x+s.width,y:h};break;case"left":m={x:s.x-r.width,y:h};break;default:m={x:s.x,y:s.y}}switch(bu(e)){case"start":m[o]-=f*(n&&d?-1:1);break;case"end":m[o]+=f*(n&&d?-1:1);break}return m}const Ez=async(t,e,n)=>{const{placement:s="bottom",strategy:r="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:r}),{x:u,y:h}=fA(d,s,c),f=s,m={},x=0;for(let p=0;p<l.length;p++){const{name:w,fn:b}=l[p],{x:v,y:N,data:E,reset:T}=await b({x:u,y:h,initialPlacement:s,placement:f,strategy:r,middlewareData:m,rects:d,platform:o,elements:{reference:t,floating:e}});u=v??u,h=N??h,m={...m,[w]:{...m[w],...E}},T&&x<=50&&(x++,typeof T=="object"&&(T.placement&&(f=T.placement),T.rects&&(d=T.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:r}):T.rects),{x:u,y:h}=fA(d,f,c)),p=-1)}return{x:u,y:h,placement:f,strategy:r,middlewareData:m}};async function kf(t,e){var n;e===void 0&&(e={});const{x:s,y:r,platform:i,rects:o,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:f=!1,padding:m=0}=Qa(e,t),x=LM(m),w=l[f?h==="floating"?"reference":"floating":h],b=t0(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(w)))==null||n?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),v=h==="floating"?{x:s,y:r,width:o.floating.width,height:o.floating.height}:o.reference,N=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),E=await(i.isElement==null?void 0:i.isElement(N))?await(i.getScale==null?void 0:i.getScale(N))||{x:1,y:1}:{x:1,y:1},T=t0(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:N,strategy:c}):v);return{top:(b.top-T.top+x.top)/E.y,bottom:(T.bottom-b.bottom+x.bottom)/E.y,left:(b.left-T.left+x.left)/E.x,right:(T.right-b.right+x.right)/E.x}}const _z=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:s,placement:r,rects:i,platform:o,elements:l,middlewareData:c}=e,{element:d,padding:u=0}=Qa(t,e)||{};if(d==null)return{};const h=LM(u),f={x:n,y:s},m=yN(r),x=xN(m),p=await o.getDimensions(d),w=m==="y",b=w?"top":"left",v=w?"bottom":"right",N=w?"clientHeight":"clientWidth",E=i.reference[x]+i.reference[m]-f[m]-i.floating[x],T=f[m]-i.reference[m],R=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let $=R?R[N]:0;(!$||!await(o.isElement==null?void 0:o.isElement(R)))&&($=l.floating[N]||i.floating[x]);const M=E/2-T/2,L=$/2-p[x]/2-1,U=rl(h[b],L),z=rl(h[v],L),B=U,D=$-p[x]-z,g=$/2-p[x]/2+M,j=Nw(B,g,D),C=!c.arrow&&bu(r)!=null&&g!==j&&i.reference[x]/2-(g<B?U:z)-p[x]/2<0,P=C?g<B?g-B:g-D:0;return{[m]:f[m]+P,data:{[m]:j,centerOffset:g-j-P,...C&&{alignmentOffset:P}},reset:C}}}),Pz=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,s;const{placement:r,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:p=!0,...w}=Qa(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const b=Za(r),v=al(l),N=Za(l)===l,E=await(c.isRTL==null?void 0:c.isRTL(d.floating)),T=f||(N||!p?[e0(l)]:Sz(l)),R=x!=="none";!f&&R&&T.push(...Tz(l,p,x,E));const $=[l,...T],M=await kf(e,w),L=[];let U=((s=i.flip)==null?void 0:s.overflows)||[];if(u&&L.push(M[b]),h){const g=jz(r,o,E);L.push(M[g[0]],M[g[1]])}if(U=[...U,{placement:r,overflows:L}],!L.every(g=>g<=0)){var z,B;const g=(((z=i.flip)==null?void 0:z.index)||0)+1,j=$[g];if(j)return{data:{index:g,overflows:U},reset:{placement:j}};let C=(B=U.filter(P=>P.overflows[0]<=0).sort((P,S)=>P.overflows[1]-S.overflows[1])[0])==null?void 0:B.placement;if(!C)switch(m){case"bestFit":{var D;const P=(D=U.filter(S=>{if(R){const A=al(S.placement);return A===v||A==="y"}return!0}).map(S=>[S.placement,S.overflows.filter(A=>A>0).reduce((A,F)=>A+F,0)]).sort((S,A)=>S[1]-A[1])[0])==null?void 0:D[0];P&&(C=P);break}case"initialPlacement":C=l;break}if(r!==C)return{reset:{placement:C}}}return{}}}};function mA(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function pA(t){return wz.some(e=>t[e]>=0)}const Iz=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:s="referenceHidden",...r}=Qa(t,e);switch(s){case"referenceHidden":{const i=await kf(e,{...r,elementContext:"reference"}),o=mA(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:pA(o)}}}case"escaped":{const i=await kf(e,{...r,altBoundary:!0}),o=mA(i,n.floating);return{data:{escapedOffsets:o,escaped:pA(o)}}}default:return{}}}}};async function Rz(t,e){const{placement:n,platform:s,elements:r}=t,i=await(s.isRTL==null?void 0:s.isRTL(r.floating)),o=Za(n),l=bu(n),c=al(n)==="y",d=["left","top"].includes(o)?-1:1,u=i&&c?-1:1,h=Qa(e,t);let{mainAxis:f,crossAxis:m,alignmentAxis:x}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof x=="number"&&(m=l==="end"?x*-1:x),c?{x:m*u,y:f*d}:{x:f*d,y:m*u}}const Mz=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,s;const{x:r,y:i,placement:o,middlewareData:l}=e,c=await Rz(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:r+c.x,y:i+c.y,data:{...c,placement:o}}}}},Dz=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:s,placement:r}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:w=>{let{x:b,y:v}=w;return{x:b,y:v}}},...c}=Qa(t,e),d={x:n,y:s},u=await kf(e,c),h=al(Za(r)),f=gN(h);let m=d[f],x=d[h];if(i){const w=f==="y"?"top":"left",b=f==="y"?"bottom":"right",v=m+u[w],N=m-u[b];m=Nw(v,m,N)}if(o){const w=h==="y"?"top":"left",b=h==="y"?"bottom":"right",v=x+u[w],N=x-u[b];x=Nw(v,x,N)}const p=l.fn({...e,[f]:m,[h]:x});return{...p,data:{x:p.x-n,y:p.y-s,enabled:{[f]:i,[h]:o}}}}}},$z=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:s,placement:r,rects:i,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Qa(t,e),u={x:n,y:s},h=al(r),f=gN(h);let m=u[f],x=u[h];const p=Qa(l,e),w=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const N=f==="y"?"height":"width",E=i.reference[f]-i.floating[N]+w.mainAxis,T=i.reference[f]+i.reference[N]-w.mainAxis;m<E?m=E:m>T&&(m=T)}if(d){var b,v;const N=f==="y"?"width":"height",E=["top","left"].includes(Za(r)),T=i.reference[h]-i.floating[N]+(E&&((b=o.offset)==null?void 0:b[h])||0)+(E?0:w.crossAxis),R=i.reference[h]+i.reference[N]+(E?0:((v=o.offset)==null?void 0:v[h])||0)-(E?w.crossAxis:0);x<T?x=T:x>R&&(x=R)}return{[f]:m,[h]:x}}}},Oz=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,s;const{placement:r,rects:i,platform:o,elements:l}=e,{apply:c=()=>{},...d}=Qa(t,e),u=await kf(e,d),h=Za(r),f=bu(r),m=al(r)==="y",{width:x,height:p}=i.floating;let w,b;h==="top"||h==="bottom"?(w=h,b=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(b=h,w=f==="end"?"top":"bottom");const v=p-u.top-u.bottom,N=x-u.left-u.right,E=rl(p-u[w],v),T=rl(x-u[b],N),R=!e.middlewareData.shift;let $=E,M=T;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(M=N),(s=e.middlewareData.shift)!=null&&s.enabled.y&&($=v),R&&!f){const U=Sr(u.left,0),z=Sr(u.right,0),B=Sr(u.top,0),D=Sr(u.bottom,0);m?M=x-2*(U!==0||z!==0?U+z:Sr(u.left,u.right)):$=p-2*(B!==0||D!==0?B+D:Sr(u.top,u.bottom))}await c({...e,availableWidth:M,availableHeight:$});const L=await o.getDimensions(l.floating);return x!==L.width||p!==L.height?{reset:{rects:!0}}:{}}}};function fx(){return typeof window<"u"}function wu(t){return BM(t)?(t.nodeName||"").toLowerCase():"#document"}function _r(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Aa(t){var e;return(e=(BM(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function BM(t){return fx()?t instanceof Node||t instanceof _r(t).Node:!1}function Ri(t){return fx()?t instanceof Element||t instanceof _r(t).Element:!1}function ya(t){return fx()?t instanceof HTMLElement||t instanceof _r(t).HTMLElement:!1}function gA(t){return!fx()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof _r(t).ShadowRoot}function hm(t){const{overflow:e,overflowX:n,overflowY:s,display:r}=Mi(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+n)&&!["inline","contents"].includes(r)}function Fz(t){return["table","td","th"].includes(wu(t))}function mx(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function vN(t){const e=bN(),n=Ri(t)?Mi(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(s=>(n.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(n.contain||"").includes(s))}function Lz(t){let e=ol(t);for(;ya(e)&&!Zd(e);){if(vN(e))return e;if(mx(e))return null;e=ol(e)}return null}function bN(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Zd(t){return["html","body","#document"].includes(wu(t))}function Mi(t){return _r(t).getComputedStyle(t)}function px(t){return Ri(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ol(t){if(wu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||gA(t)&&t.host||Aa(t);return gA(e)?e.host:e}function UM(t){const e=ol(t);return Zd(e)?t.ownerDocument?t.ownerDocument.body:t.body:ya(e)&&hm(e)?e:UM(e)}function jf(t,e,n){var s;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=UM(t),i=r===((s=t.ownerDocument)==null?void 0:s.body),o=_r(r);if(i){const l=jw(o);return e.concat(o,o.visualViewport||[],hm(r)?r:[],l&&n?jf(l):[])}return e.concat(r,jf(r,[],n))}function jw(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function VM(t){const e=Mi(t);let n=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const r=ya(t),i=r?t.offsetWidth:n,o=r?t.offsetHeight:s,l=Zg(n)!==i||Zg(s)!==o;return l&&(n=i,s=o),{width:n,height:s,$:l}}function wN(t){return Ri(t)?t:t.contextElement}function Id(t){const e=wN(t);if(!ya(e))return il(1);const n=e.getBoundingClientRect(),{width:s,height:r,$:i}=VM(e);let o=(i?Zg(n.width):n.width)/s,l=(i?Zg(n.height):n.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Bz=il(0);function zM(t){const e=_r(t);return!bN()||!e.visualViewport?Bz:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Uz(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==_r(t)?!1:e}function kc(t,e,n,s){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=wN(t);let o=il(1);e&&(s?Ri(s)&&(o=Id(s)):o=Id(t));const l=Uz(i,n,s)?zM(i):il(0);let c=(r.left+l.x)/o.x,d=(r.top+l.y)/o.y,u=r.width/o.x,h=r.height/o.y;if(i){const f=_r(i),m=s&&Ri(s)?_r(s):s;let x=f,p=jw(x);for(;p&&s&&m!==x;){const w=Id(p),b=p.getBoundingClientRect(),v=Mi(p),N=b.left+(p.clientLeft+parseFloat(v.paddingLeft))*w.x,E=b.top+(p.clientTop+parseFloat(v.paddingTop))*w.y;c*=w.x,d*=w.y,u*=w.x,h*=w.y,c+=N,d+=E,x=_r(p),p=jw(x)}}return t0({width:u,height:h,x:c,y:d})}function Vz(t){let{elements:e,rect:n,offsetParent:s,strategy:r}=t;const i=r==="fixed",o=Aa(s),l=e?mx(e.floating):!1;if(s===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},d=il(1);const u=il(0),h=ya(s);if((h||!h&&!i)&&((wu(s)!=="body"||hm(o))&&(c=px(s)),ya(s))){const f=kc(s);d=Id(s),u.x=f.x+s.clientLeft,u.y=f.y+s.clientTop}return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+u.x,y:n.y*d.y-c.scrollTop*d.y+u.y}}function zz(t){return Array.from(t.getClientRects())}function Sw(t,e){const n=px(t).scrollLeft;return e?e.left+n:kc(Aa(t)).left+n}function Hz(t){const e=Aa(t),n=px(t),s=t.ownerDocument.body,r=Sr(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),i=Sr(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let o=-n.scrollLeft+Sw(t);const l=-n.scrollTop;return Mi(s).direction==="rtl"&&(o+=Sr(e.clientWidth,s.clientWidth)-r),{width:r,height:i,x:o,y:l}}function Wz(t,e){const n=_r(t),s=Aa(t),r=n.visualViewport;let i=s.clientWidth,o=s.clientHeight,l=0,c=0;if(r){i=r.width,o=r.height;const d=bN();(!d||d&&e==="fixed")&&(l=r.offsetLeft,c=r.offsetTop)}return{width:i,height:o,x:l,y:c}}function qz(t,e){const n=kc(t,!0,e==="fixed"),s=n.top+t.clientTop,r=n.left+t.clientLeft,i=ya(t)?Id(t):il(1),o=t.clientWidth*i.x,l=t.clientHeight*i.y,c=r*i.x,d=s*i.y;return{width:o,height:l,x:c,y:d}}function xA(t,e,n){let s;if(e==="viewport")s=Wz(t,n);else if(e==="document")s=Hz(Aa(t));else if(Ri(e))s=qz(e,n);else{const r=zM(t);s={...e,x:e.x-r.x,y:e.y-r.y}}return t0(s)}function HM(t,e){const n=ol(t);return n===e||!Ri(n)||Zd(n)?!1:Mi(n).position==="fixed"||HM(n,e)}function Kz(t,e){const n=e.get(t);if(n)return n;let s=jf(t,[],!1).filter(l=>Ri(l)&&wu(l)!=="body"),r=null;const i=Mi(t).position==="fixed";let o=i?ol(t):t;for(;Ri(o)&&!Zd(o);){const l=Mi(o),c=vN(o);!c&&l.position==="fixed"&&(r=null),(i?!c&&!r:!c&&l.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||hm(o)&&!c&&HM(t,o))?s=s.filter(u=>u!==o):r=l,o=ol(o)}return e.set(t,s),s}function Gz(t){let{element:e,boundary:n,rootBoundary:s,strategy:r}=t;const o=[...n==="clippingAncestors"?mx(e)?[]:Kz(e,this._c):[].concat(n),s],l=o[0],c=o.reduce((d,u)=>{const h=xA(e,u,r);return d.top=Sr(h.top,d.top),d.right=rl(h.right,d.right),d.bottom=rl(h.bottom,d.bottom),d.left=Sr(h.left,d.left),d},xA(e,l,r));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Yz(t){const{width:e,height:n}=VM(t);return{width:e,height:n}}function Xz(t,e,n){const s=ya(e),r=Aa(e),i=n==="fixed",o=kc(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=il(0);if(s||!s&&!i)if((wu(e)!=="body"||hm(r))&&(l=px(e)),s){const m=kc(e,!0,i,e);c.x=m.x+e.clientLeft,c.y=m.y+e.clientTop}else r&&(c.x=Sw(r));let d=0,u=0;if(r&&!s&&!i){const m=r.getBoundingClientRect();u=m.top+l.scrollTop,d=m.left+l.scrollLeft-Sw(r,m)}const h=o.left+l.scrollLeft-c.x-d,f=o.top+l.scrollTop-c.y-u;return{x:h,y:f,width:o.width,height:o.height}}function Ky(t){return Mi(t).position==="static"}function yA(t,e){if(!ya(t)||Mi(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Aa(t)===n&&(n=n.ownerDocument.body),n}function WM(t,e){const n=_r(t);if(mx(t))return n;if(!ya(t)){let r=ol(t);for(;r&&!Zd(r);){if(Ri(r)&&!Ky(r))return r;r=ol(r)}return n}let s=yA(t,e);for(;s&&Fz(s)&&Ky(s);)s=yA(s,e);return s&&Zd(s)&&Ky(s)&&!vN(s)?n:s||Lz(t)||n}const Jz=async function(t){const e=this.getOffsetParent||WM,n=this.getDimensions,s=await n(t.floating);return{reference:Xz(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function Qz(t){return Mi(t).direction==="rtl"}const Zz={convertOffsetParentRelativeRectToViewportRelativeRect:Vz,getDocumentElement:Aa,getClippingRect:Gz,getOffsetParent:WM,getElementRects:Jz,getClientRects:zz,getDimensions:Yz,getScale:Id,isElement:Ri,isRTL:Qz};function eH(t,e){let n=null,s;const r=Aa(t);function i(){var l;clearTimeout(s),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const{left:d,top:u,width:h,height:f}=t.getBoundingClientRect();if(l||e(),!h||!f)return;const m=tp(u),x=tp(r.clientWidth-(d+h)),p=tp(r.clientHeight-(u+f)),w=tp(d),v={rootMargin:-m+"px "+-x+"px "+-p+"px "+-w+"px",threshold:Sr(0,rl(1,c))||1};let N=!0;function E(T){const R=T[0].intersectionRatio;if(R!==c){if(!N)return o();R?o(!1,R):s=setTimeout(()=>{o(!1,1e-7)},1e3)}N=!1}try{n=new IntersectionObserver(E,{...v,root:r.ownerDocument})}catch{n=new IntersectionObserver(E,v)}n.observe(t)}return o(!0),i}function tH(t,e,n,s){s===void 0&&(s={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,d=wN(t),u=r||i?[...d?jf(d):[],...jf(e)]:[];u.forEach(b=>{r&&b.addEventListener("scroll",n,{passive:!0}),i&&b.addEventListener("resize",n)});const h=d&&l?eH(d,n):null;let f=-1,m=null;o&&(m=new ResizeObserver(b=>{let[v]=b;v&&v.target===d&&m&&(m.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var N;(N=m)==null||N.observe(e)})),n()}),d&&!c&&m.observe(d),m.observe(e));let x,p=c?kc(t):null;c&&w();function w(){const b=kc(t);p&&(b.x!==p.x||b.y!==p.y||b.width!==p.width||b.height!==p.height)&&n(),p=b,x=requestAnimationFrame(w)}return n(),()=>{var b;u.forEach(v=>{r&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),h==null||h(),(b=m)==null||b.disconnect(),m=null,c&&cancelAnimationFrame(x)}}const nH=Mz,sH=Dz,rH=Pz,iH=Oz,aH=Iz,vA=_z,oH=$z,lH=(t,e,n)=>{const s=new Map,r={platform:Zz,...n},i={...r.platform,_c:s};return Ez(t,e,{...r,platform:i})};var Jp=typeof document<"u"?y.useLayoutEffect:y.useEffect;function n0(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,s,r;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(s=n;s--!==0;)if(!n0(t[s],e[s]))return!1;return!0}if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(e,r[s]))return!1;for(s=n;s--!==0;){const i=r[s];if(!(i==="_owner"&&t.$$typeof)&&!n0(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function qM(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function bA(t,e){const n=qM(t);return Math.round(e*n)/n}function Gy(t){const e=y.useRef(t);return Jp(()=>{e.current=t}),e}function cH(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:s=[],platform:r,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[u,h]=y.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,m]=y.useState(s);n0(f,s)||m(s);const[x,p]=y.useState(null),[w,b]=y.useState(null),v=y.useCallback(S=>{S!==R.current&&(R.current=S,p(S))},[]),N=y.useCallback(S=>{S!==$.current&&($.current=S,b(S))},[]),E=i||x,T=o||w,R=y.useRef(null),$=y.useRef(null),M=y.useRef(u),L=c!=null,U=Gy(c),z=Gy(r),B=Gy(d),D=y.useCallback(()=>{if(!R.current||!$.current)return;const S={placement:e,strategy:n,middleware:f};z.current&&(S.platform=z.current),lH(R.current,$.current,S).then(A=>{const F={...A,isPositioned:B.current!==!1};g.current&&!n0(M.current,F)&&(M.current=F,Oc.flushSync(()=>{h(F)}))})},[f,e,n,z,B]);Jp(()=>{d===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,h(S=>({...S,isPositioned:!1})))},[d]);const g=y.useRef(!1);Jp(()=>(g.current=!0,()=>{g.current=!1}),[]),Jp(()=>{if(E&&(R.current=E),T&&($.current=T),E&&T){if(U.current)return U.current(E,T,D);D()}},[E,T,D,U,L]);const j=y.useMemo(()=>({reference:R,floating:$,setReference:v,setFloating:N}),[v,N]),C=y.useMemo(()=>({reference:E,floating:T}),[E,T]),P=y.useMemo(()=>{const S={position:n,left:0,top:0};if(!C.floating)return S;const A=bA(C.floating,u.x),F=bA(C.floating,u.y);return l?{...S,transform:"translate("+A+"px, "+F+"px)",...qM(C.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:A,top:F}},[n,l,C.floating,u.x,u.y]);return y.useMemo(()=>({...u,update:D,refs:j,elements:C,floatingStyles:P}),[u,D,j,C,P])}const dH=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:s,padding:r}=typeof t=="function"?t(n):t;return s&&e(s)?s.current!=null?vA({element:s.current,padding:r}).fn(n):{}:s?vA({element:s,padding:r}).fn(n):{}}}},uH=(t,e)=>({...nH(t),options:[t,e]}),hH=(t,e)=>({...sH(t),options:[t,e]}),fH=(t,e)=>({...oH(t),options:[t,e]}),mH=(t,e)=>({...rH(t),options:[t,e]}),pH=(t,e)=>({...iH(t),options:[t,e]}),gH=(t,e)=>({...aH(t),options:[t,e]}),xH=(t,e)=>({...dH(t),options:[t,e]});var yH="Arrow",KM=y.forwardRef((t,e)=>{const{children:n,width:s=10,height:r=5,...i}=t;return a.jsx(xt.svg,{...i,ref:e,width:s,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});KM.displayName=yH;var vH=KM;function bH(t,e=[]){let n=[];function s(i,o){const l=y.createContext(o),c=n.length;n=[...n,o];function d(h){const{scope:f,children:m,...x}=h,p=(f==null?void 0:f[t][c])||l,w=y.useMemo(()=>x,Object.values(x));return a.jsx(p.Provider,{value:w,children:m})}function u(h,f){const m=(f==null?void 0:f[t][c])||l,x=y.useContext(m);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const r=()=>{const i=n.map(o=>y.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return r.scopeName=t,[s,wH(r,...e)]}function wH(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function GM(t){const[e,n]=y.useState(void 0);return os(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const i=r[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else n(void 0)},[t]),e}var NN="Popper",[YM,gx]=bH(NN),[NH,XM]=YM(NN),JM=t=>{const{__scopePopper:e,children:n}=t,[s,r]=y.useState(null);return a.jsx(NH,{scope:e,anchor:s,onAnchorChange:r,children:n})};JM.displayName=NN;var QM="PopperAnchor",ZM=y.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:s,...r}=t,i=XM(QM,n),o=y.useRef(null),l=nn(e,o);return y.useEffect(()=>{i.onAnchorChange((s==null?void 0:s.current)||o.current)}),s?null:a.jsx(xt.div,{...r,ref:l})});ZM.displayName=QM;var kN="PopperContent",[kH,jH]=YM(kN),e6=y.forwardRef((t,e)=>{var G,H,K,X,ee,ne;const{__scopePopper:n,side:s="bottom",sideOffset:r=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:x,...p}=t,w=XM(kN,n),[b,v]=y.useState(null),N=nn(e,Be=>v(Be)),[E,T]=y.useState(null),R=GM(E),$=(R==null?void 0:R.width)??0,M=(R==null?void 0:R.height)??0,L=s+(i!=="center"?"-"+i:""),U=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},z=Array.isArray(d)?d:[d],B=z.length>0,D={padding:U,boundary:z.filter(AH),altBoundary:B},{refs:g,floatingStyles:j,placement:C,isPositioned:P,middlewareData:S}=cH({strategy:"fixed",placement:L,whileElementsMounted:(...Be)=>tH(...Be,{animationFrame:m==="always"}),elements:{reference:w.anchor},middleware:[uH({mainAxis:r+M,alignmentAxis:o}),c&&hH({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?fH():void 0,...D}),c&&mH({...D}),pH({...D,apply:({elements:Be,rects:te,availableWidth:ge,availableHeight:Te})=>{const{width:ve,height:Q}=te.reference,xe=Be.floating.style;xe.setProperty("--radix-popper-available-width",`${ge}px`),xe.setProperty("--radix-popper-available-height",`${Te}px`),xe.setProperty("--radix-popper-anchor-width",`${ve}px`),xe.setProperty("--radix-popper-anchor-height",`${Q}px`)}}),E&&xH({element:E,padding:l}),TH({arrowWidth:$,arrowHeight:M}),f&&gH({strategy:"referenceHidden",...D})]}),[A,F]=s6(C),_=qs(x);os(()=>{P&&(_==null||_())},[P,_]);const k=(G=S.arrow)==null?void 0:G.x,O=(H=S.arrow)==null?void 0:H.y,q=((K=S.arrow)==null?void 0:K.centerOffset)!==0,[I,V]=y.useState();return os(()=>{b&&V(window.getComputedStyle(b).zIndex)},[b]),a.jsx("div",{ref:g.setFloating,"data-radix-popper-content-wrapper":"",style:{...j,transform:P?j.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:I,"--radix-popper-transform-origin":[(X=S.transformOrigin)==null?void 0:X.x,(ee=S.transformOrigin)==null?void 0:ee.y].join(" "),...((ne=S.hide)==null?void 0:ne.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(kH,{scope:n,placedSide:A,onArrowChange:T,arrowX:k,arrowY:O,shouldHideArrow:q,children:a.jsx(xt.div,{"data-side":A,"data-align":F,...p,ref:N,style:{...p.style,animation:P?void 0:"none"}})})})});e6.displayName=kN;var t6="PopperArrow",SH={top:"bottom",right:"left",bottom:"top",left:"right"},n6=y.forwardRef(function(e,n){const{__scopePopper:s,...r}=e,i=jH(t6,s),o=SH[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(vH,{...r,ref:n,style:{...r.style,display:"block"}})})});n6.displayName=t6;function AH(t){return t!==null}var TH=t=>({name:"transformOrigin",options:t,fn(e){var w,b,v;const{placement:n,rects:s,middlewareData:r}=e,o=((w=r.arrow)==null?void 0:w.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[d,u]=s6(n),h={start:"0%",center:"50%",end:"100%"}[u],f=(((b=r.arrow)==null?void 0:b.x)??0)+l/2,m=(((v=r.arrow)==null?void 0:v.y)??0)+c/2;let x="",p="";return d==="bottom"?(x=o?h:`${f}px`,p=`${-c}px`):d==="top"?(x=o?h:`${f}px`,p=`${s.floating.height+c}px`):d==="right"?(x=`${-c}px`,p=o?h:`${m}px`):d==="left"&&(x=`${s.floating.width+c}px`,p=o?h:`${m}px`),{data:{x,y:p}}}});function s6(t){const[e,n="center"]=t.split("-");return[e,n]}var CH=JM,r6=ZM,i6=e6,a6=n6,[xx,I0e]=Fc("Tooltip",[gx]),jN=gx(),o6="TooltipProvider",EH=700,wA="tooltip.open",[_H,l6]=xx(o6),c6=t=>{const{__scopeTooltip:e,delayDuration:n=EH,skipDelayDuration:s=300,disableHoverableContent:r=!1,children:i}=t,[o,l]=y.useState(!0),c=y.useRef(!1),d=y.useRef(0);return y.useEffect(()=>{const u=d.current;return()=>window.clearTimeout(u)},[]),a.jsx(_H,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:y.useCallback(()=>{window.clearTimeout(d.current),l(!1)},[]),onClose:y.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l(!0),s)},[s]),isPointerInTransitRef:c,onPointerInTransitChange:y.useCallback(u=>{c.current=u},[]),disableHoverableContent:r,children:i})};c6.displayName=o6;var d6="Tooltip",[R0e,yx]=xx(d6),Aw="TooltipTrigger",PH=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...s}=t,r=yx(Aw,n),i=l6(Aw,n),o=jN(n),l=y.useRef(null),c=nn(e,l,r.onTriggerChange),d=y.useRef(!1),u=y.useRef(!1),h=y.useCallback(()=>d.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),a.jsx(r6,{asChild:!0,...o,children:a.jsx(xt.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...s,ref:c,onPointerMove:at(t.onPointerMove,f=>{f.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(r.onTriggerEnter(),u.current=!0)}),onPointerLeave:at(t.onPointerLeave,()=>{r.onTriggerLeave(),u.current=!1}),onPointerDown:at(t.onPointerDown,()=>{d.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:at(t.onFocus,()=>{d.current||r.onOpen()}),onBlur:at(t.onBlur,r.onClose),onClick:at(t.onClick,r.onClose)})})});PH.displayName=Aw;var IH="TooltipPortal",[M0e,RH]=xx(IH,{forceMount:void 0}),eu="TooltipContent",u6=y.forwardRef((t,e)=>{const n=RH(eu,t.__scopeTooltip),{forceMount:s=n.forceMount,side:r="top",...i}=t,o=yx(eu,t.__scopeTooltip);return a.jsx(Lc,{present:s||o.open,children:o.disableHoverableContent?a.jsx(h6,{side:r,...i,ref:e}):a.jsx(MH,{side:r,...i,ref:e})})}),MH=y.forwardRef((t,e)=>{const n=yx(eu,t.__scopeTooltip),s=l6(eu,t.__scopeTooltip),r=y.useRef(null),i=nn(e,r),[o,l]=y.useState(null),{trigger:c,onClose:d}=n,u=r.current,{onPointerInTransitChange:h}=s,f=y.useCallback(()=>{l(null),h(!1)},[h]),m=y.useCallback((x,p)=>{const w=x.currentTarget,b={x:x.clientX,y:x.clientY},v=FH(b,w.getBoundingClientRect()),N=LH(b,v),E=BH(p.getBoundingClientRect()),T=VH([...N,...E]);l(T),h(!0)},[h]);return y.useEffect(()=>()=>f(),[f]),y.useEffect(()=>{if(c&&u){const x=w=>m(w,u),p=w=>m(w,c);return c.addEventListener("pointerleave",x),u.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",x),u.removeEventListener("pointerleave",p)}}},[c,u,m,f]),y.useEffect(()=>{if(o){const x=p=>{const w=p.target,b={x:p.clientX,y:p.clientY},v=(c==null?void 0:c.contains(w))||(u==null?void 0:u.contains(w)),N=!UH(b,o);v?f():N&&(f(),d())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,u,o,d,f]),a.jsx(h6,{...t,ref:i})}),[DH,$H]=xx(d6,{isInside:!1}),h6=y.forwardRef((t,e)=>{const{__scopeTooltip:n,children:s,"aria-label":r,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=t,c=yx(eu,n),d=jN(n),{onClose:u}=c;return y.useEffect(()=>(document.addEventListener(wA,u),()=>document.removeEventListener(wA,u)),[u]),y.useEffect(()=>{if(c.trigger){const h=f=>{const m=f.target;m!=null&&m.contains(c.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,u]),a.jsx(dm,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:a.jsxs(i6,{"data-state":c.stateAttribute,...d,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(XR,{children:s}),a.jsx(DH,{scope:n,isInside:!0,children:a.jsx(p7,{id:c.contentId,role:"tooltip",children:r||s})})]})})});u6.displayName=eu;var f6="TooltipArrow",OH=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...s}=t,r=jN(n);return $H(f6,n).isInside?null:a.jsx(a6,{...r,...s,ref:e})});OH.displayName=f6;function FH(t,e){const n=Math.abs(e.top-t.y),s=Math.abs(e.bottom-t.y),r=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,s,r,i)){case i:return"left";case r:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function LH(t,e,n=5){const s=[];switch(e){case"top":s.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":s.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":s.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":s.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return s}function BH(t){const{top:e,right:n,bottom:s,left:r}=t;return[{x:r,y:e},{x:n,y:e},{x:n,y:s},{x:r,y:s}]}function UH(t,e){const{x:n,y:s}=t;let r=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const l=e[i].x,c=e[i].y,d=e[o].x,u=e[o].y;c>s!=u>s&&n<(d-l)*(s-c)/(u-c)+l&&(r=!r)}return r}function VH(t){const e=t.slice();return e.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),zH(e)}function zH(t){if(t.length<=1)return t.slice();const e=[];for(let s=0;s<t.length;s++){const r=t[s];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(r.y-o.y)>=(i.y-o.y)*(r.x-o.x))e.pop();else break}e.push(r)}e.pop();const n=[];for(let s=t.length-1;s>=0;s--){const r=t[s];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(r.y-o.y)>=(i.y-o.y)*(r.x-o.x))n.pop();else break}n.push(r)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var HH=c6,m6=u6;const WH=HH,qH=y.forwardRef(({className:t,sideOffset:e=4,...n},s)=>a.jsx(m6,{ref:s,sideOffset:e,className:rt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));qH.displayName=m6.displayName;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sf(){return Sf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Sf.apply(this,arguments)}var Oo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Oo||(Oo={}));const NA="popstate";function KH(t){t===void 0&&(t={});function e(s,r){let{pathname:i,search:o,hash:l}=s.location;return Tw("",{pathname:i,search:o,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(s,r){return typeof r=="string"?r:s0(r)}return YH(e,n,null,t)}function Ln(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function p6(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function GH(){return Math.random().toString(36).substr(2,8)}function kA(t,e){return{usr:t.state,key:t.key,idx:e}}function Tw(t,e,n,s){return n===void 0&&(n=null),Sf({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Nu(e):e,{state:n,key:e&&e.key||s||GH()})}function s0(t){let{pathname:e="/",search:n="",hash:s=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Nu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function YH(t,e,n,s){s===void 0&&(s={});let{window:r=document.defaultView,v5Compat:i=!1}=s,o=r.history,l=Oo.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(Sf({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function h(){l=Oo.Pop;let w=u(),b=w==null?null:w-d;d=w,c&&c({action:l,location:p.location,delta:b})}function f(w,b){l=Oo.Push;let v=Tw(p.location,w,b);d=u()+1;let N=kA(v,d),E=p.createHref(v);try{o.pushState(N,"",E)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;r.location.assign(E)}i&&c&&c({action:l,location:p.location,delta:1})}function m(w,b){l=Oo.Replace;let v=Tw(p.location,w,b);d=u();let N=kA(v,d),E=p.createHref(v);o.replaceState(N,"",E),i&&c&&c({action:l,location:p.location,delta:0})}function x(w){let b=r.location.origin!=="null"?r.location.origin:r.location.href,v=typeof w=="string"?w:s0(w);return v=v.replace(/ $/,"%20"),Ln(b,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,b)}let p={get action(){return l},get location(){return t(r,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(NA,h),c=w,()=>{r.removeEventListener(NA,h),c=null}},createHref(w){return e(r,w)},createURL:x,encodeLocation(w){let b=x(w);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:f,replace:m,go(w){return o.go(w)}};return p}var jA;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(jA||(jA={}));function XH(t,e,n){return n===void 0&&(n="/"),JH(t,e,n,!1)}function JH(t,e,n,s){let r=typeof e=="string"?Nu(e):e,i=SN(r.pathname||"/",n);if(i==null)return null;let o=g6(t);QH(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=cW(i);l=oW(o[c],d,s)}return l}function g6(t,e,n,s){e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s="");let r=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Ln(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let d=el([s,c.relativePath]),u=n.concat(c);i.children&&i.children.length>0&&(Ln(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),g6(i.children,e,u,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:iW(d,i.index),routesMeta:u})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))r(i,o);else for(let c of x6(i.path))r(i,o,c)}),e}function x6(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,r=n.endsWith("?"),i=n.replace(/\?$/,"");if(s.length===0)return r?[i,""]:[i];let o=x6(s.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),r&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function QH(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:aW(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const ZH=/^:[\w-]+$/,eW=3,tW=2,nW=1,sW=10,rW=-2,SA=t=>t==="*";function iW(t,e){let n=t.split("/"),s=n.length;return n.some(SA)&&(s+=rW),e&&(s+=tW),n.filter(r=>!SA(r)).reduce((r,i)=>r+(ZH.test(i)?eW:i===""?nW:sW),s)}function aW(t,e){return t.length===e.length&&t.slice(0,-1).every((s,r)=>s===e[r])?t[t.length-1]-e[e.length-1]:0}function oW(t,e,n){let{routesMeta:s}=t,r={},i="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],d=l===s.length-1,u=i==="/"?e:e.slice(i.length)||"/",h=AA({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),f=c.route;if(!h&&d&&n&&!s[s.length-1].route.index&&(h=AA({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!h)return null;Object.assign(r,h.params),o.push({params:r,pathname:el([i,h.pathname]),pathnameBase:fW(el([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=el([i,h.pathnameBase]))}return o}function AA(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=lW(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let i=r[0],o=i.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:s.reduce((d,u,h)=>{let{paramName:f,isOptional:m}=u;if(f==="*"){let p=l[h]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const x=l[h];return m&&!x?d[f]=void 0:d[f]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function lW(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),p6(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),s]}function cW(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return p6(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function SN(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function dW(t,e){e===void 0&&(e="/");let{pathname:n,search:s="",hash:r=""}=typeof t=="string"?Nu(t):t;return{pathname:n?n.startsWith("/")?n:uW(n,e):e,search:mW(s),hash:pW(r)}}function uW(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Yy(t,e,n,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function hW(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function AN(t,e){let n=hW(t);return e?n.map((s,r)=>r===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function TN(t,e,n,s){s===void 0&&(s=!1);let r;typeof t=="string"?r=Nu(t):(r=Sf({},t),Ln(!r.pathname||!r.pathname.includes("?"),Yy("?","pathname","search",r)),Ln(!r.pathname||!r.pathname.includes("#"),Yy("#","pathname","hash",r)),Ln(!r.search||!r.search.includes("#"),Yy("#","search","hash",r)));let i=t===""||r.pathname==="",o=i?"/":r.pathname,l;if(o==null)l=n;else{let h=e.length-1;if(!s&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;r.pathname=f.join("/")}l=h>=0?e[h]:"/"}let c=dW(r,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const el=t=>t.join("/").replace(/\/\/+/g,"/"),fW=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),mW=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,pW=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function gW(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const y6=["post","put","patch","delete"];new Set(y6);const xW=["get",...y6];new Set(xW);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Af(){return Af=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Af.apply(this,arguments)}const CN=y.createContext(null),yW=y.createContext(null),xl=y.createContext(null),vx=y.createContext(null),lo=y.createContext({outlet:null,matches:[],isDataRoute:!1}),v6=y.createContext(null);function vW(t,e){let{relative:n}=e===void 0?{}:e;ku()||Ln(!1);let{basename:s,navigator:r}=y.useContext(xl),{hash:i,pathname:o,search:l}=w6(t,{relative:n}),c=o;return s!=="/"&&(c=o==="/"?s:el([s,o])),r.createHref({pathname:c,search:l,hash:i})}function ku(){return y.useContext(vx)!=null}function co(){return ku()||Ln(!1),y.useContext(vx).location}function b6(t){y.useContext(xl).static||y.useLayoutEffect(t)}function yl(){let{isDataRoute:t}=y.useContext(lo);return t?RW():bW()}function bW(){ku()||Ln(!1);let t=y.useContext(CN),{basename:e,future:n,navigator:s}=y.useContext(xl),{matches:r}=y.useContext(lo),{pathname:i}=co(),o=JSON.stringify(AN(r,n.v7_relativeSplatPath)),l=y.useRef(!1);return b6(()=>{l.current=!0}),y.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){s.go(d);return}let h=TN(d,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:el([e,h.pathname])),(u.replace?s.replace:s.push)(h,u.state,u)},[e,s,o,i,t])}function wW(){let{matches:t}=y.useContext(lo),e=t[t.length-1];return e?e.params:{}}function w6(t,e){let{relative:n}=e===void 0?{}:e,{future:s}=y.useContext(xl),{matches:r}=y.useContext(lo),{pathname:i}=co(),o=JSON.stringify(AN(r,s.v7_relativeSplatPath));return y.useMemo(()=>TN(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function NW(t,e){return kW(t,e)}function kW(t,e,n,s){ku()||Ln(!1);let{navigator:r}=y.useContext(xl),{matches:i}=y.useContext(lo),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=co(),u;if(e){var h;let w=typeof e=="string"?Nu(e):e;c==="/"||(h=w.pathname)!=null&&h.startsWith(c)||Ln(!1),u=w}else u=d;let f=u.pathname||"/",m=f;if(c!=="/"){let w=c.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(w.length).join("/")}let x=XH(t,{pathname:m}),p=CW(x&&x.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:el([c,r.encodeLocation?r.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:el([c,r.encodeLocation?r.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n,s);return e&&p?y.createElement(vx.Provider,{value:{location:Af({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Oo.Pop}},p):p}function jW(){let t=IW(),e=gW(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:r},n):null,null)}const SW=y.createElement(jW,null);class AW extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?y.createElement(lo.Provider,{value:this.props.routeContext},y.createElement(v6.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function TW(t){let{routeContext:e,match:n,children:s}=t,r=y.useContext(CN);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(lo.Provider,{value:e},s)}function CW(t,e,n,s){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),s===void 0&&(s=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=s)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(r=n)==null?void 0:r.errors;if(l!=null){let u=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);u>=0||Ln(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(n&&s&&s.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:f,errors:m}=n,x=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||x){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,h,f)=>{let m,x=!1,p=null,w=null;n&&(m=l&&h.route.id?l[h.route.id]:void 0,p=h.route.errorElement||SW,c&&(d<0&&f===0?(x=!0,w=null):d===f&&(x=!0,w=h.route.hydrateFallbackElement||null)));let b=e.concat(o.slice(0,f+1)),v=()=>{let N;return m?N=p:x?N=w:h.route.Component?N=y.createElement(h.route.Component,null):h.route.element?N=h.route.element:N=u,y.createElement(TW,{match:h,routeContext:{outlet:u,matches:b,isDataRoute:n!=null},children:N})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?y.createElement(AW,{location:n.location,revalidation:n.revalidation,component:p,error:m,children:v(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):v()},null)}var N6=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(N6||{}),r0=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(r0||{});function EW(t){let e=y.useContext(CN);return e||Ln(!1),e}function _W(t){let e=y.useContext(yW);return e||Ln(!1),e}function PW(t){let e=y.useContext(lo);return e||Ln(!1),e}function k6(t){let e=PW(),n=e.matches[e.matches.length-1];return n.route.id||Ln(!1),n.route.id}function IW(){var t;let e=y.useContext(v6),n=_W(r0.UseRouteError),s=k6(r0.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[s]}function RW(){let{router:t}=EW(N6.UseNavigateStable),e=k6(r0.UseNavigateStable),n=y.useRef(!1);return b6(()=>{n.current=!0}),y.useCallback(function(r,i){i===void 0&&(i={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,Af({fromRouteId:e},i)))},[t,e])}function TA(t){let{to:e,replace:n,state:s,relative:r}=t;ku()||Ln(!1);let{future:i,static:o}=y.useContext(xl),{matches:l}=y.useContext(lo),{pathname:c}=co(),d=yl(),u=TN(e,AN(l,i.v7_relativeSplatPath),c,r==="path"),h=JSON.stringify(u);return y.useEffect(()=>d(JSON.parse(h),{replace:n,state:s,relative:r}),[d,h,r,n,s]),null}function Vr(t){Ln(!1)}function MW(t){let{basename:e="/",children:n=null,location:s,navigationType:r=Oo.Pop,navigator:i,static:o=!1,future:l}=t;ku()&&Ln(!1);let c=e.replace(/^\/*/,"/"),d=y.useMemo(()=>({basename:c,navigator:i,static:o,future:Af({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof s=="string"&&(s=Nu(s));let{pathname:u="/",search:h="",hash:f="",state:m=null,key:x="default"}=s,p=y.useMemo(()=>{let w=SN(u,c);return w==null?null:{location:{pathname:w,search:h,hash:f,state:m,key:x},navigationType:r}},[c,u,h,f,m,x,r]);return p==null?null:y.createElement(xl.Provider,{value:d},y.createElement(vx.Provider,{children:n,value:p}))}function DW(t){let{children:e,location:n}=t;return NW(Cw(e),n)}new Promise(()=>{});function Cw(t,e){e===void 0&&(e=[]);let n=[];return y.Children.forEach(t,(s,r)=>{if(!y.isValidElement(s))return;let i=[...e,r];if(s.type===y.Fragment){n.push.apply(n,Cw(s.props.children,i));return}s.type!==Vr&&Ln(!1),!s.props.index||!s.props.children||Ln(!1);let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=Cw(s.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ew(){return Ew=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Ew.apply(this,arguments)}function $W(t,e){if(t==null)return{};var n={},s=Object.keys(t),r,i;for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function OW(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function FW(t,e){return t.button===0&&(!e||e==="_self")&&!OW(t)}const LW=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],BW="6";try{window.__reactRouterVersion=BW}catch{}const UW="startTransition",CA=HP[UW];function VW(t){let{basename:e,children:n,future:s,window:r}=t,i=y.useRef();i.current==null&&(i.current=KH({window:r,v5Compat:!0}));let o=i.current,[l,c]=y.useState({action:o.action,location:o.location}),{v7_startTransition:d}=s||{},u=y.useCallback(h=>{d&&CA?CA(()=>c(h)):c(h)},[c,d]);return y.useLayoutEffect(()=>o.listen(u),[o,u]),y.createElement(MW,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:s})}const zW=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",HW=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_w=y.forwardRef(function(e,n){let{onClick:s,relative:r,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:h}=e,f=$W(e,LW),{basename:m}=y.useContext(xl),x,p=!1;if(typeof d=="string"&&HW.test(d)&&(x=d,zW))try{let N=new URL(window.location.href),E=d.startsWith("//")?new URL(N.protocol+d):new URL(d),T=SN(E.pathname,m);E.origin===N.origin&&T!=null?d=T+E.search+E.hash:p=!0}catch{}let w=vW(d,{relative:r}),b=WW(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:r,viewTransition:h});function v(N){s&&s(N),N.defaultPrevented||b(N)}return y.createElement("a",Ew({},f,{href:x||w,onClick:p||i?s:v,ref:n,target:c}))});var EA;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(EA||(EA={}));var _A;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(_A||(_A={}));function WW(t,e){let{target:n,replace:s,state:r,preventScrollReset:i,relative:o,viewTransition:l}=e===void 0?{}:e,c=yl(),d=co(),u=w6(t,{relative:o});return y.useCallback(h=>{if(FW(h,n)){h.preventDefault();let f=s!==void 0?s:s0(d)===s0(u);c(t,{replace:f,state:r,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,s,r,n,t,i,o,l])}const qW="https://onlyassets-server.onrender.com",ci=`${qW}/auth`,Ea=()=>{const t=localStorage.getItem("authToken");return{"Content-Type":"application/json",...t&&{Authorization:`Bearer ${t}`}}},di=async t=>{const e=await t.json();if(!t.ok){console.error("API Error Response:",{status:t.status,statusText:t.statusText,data:e});let n=e.message||e.error||`HTTP error! status: ${t.status}`;throw e.errors&&Array.isArray(e.errors)&&(n+=": "+e.errors.join(", ")),new Error(n)}return e},tu={register:async t=>{try{const e=await fetch(`${ci}/register`,{method:"POST",headers:Ea(),body:JSON.stringify(t)}),n=await di(e);return n.success&&n.data.token&&(localStorage.setItem("authToken",n.data.token),localStorage.setItem("user",JSON.stringify(n.data.user)),localStorage.setItem("currentRole",n.data.currentRole),localStorage.setItem("availableRoles",JSON.stringify(n.data.availableRoles))),n}catch(e){throw console.error("Registration error:",e),e}},login:async t=>{try{const e=await fetch(`${ci}/login`,{method:"POST",headers:Ea(),body:JSON.stringify(t)}),n=await di(e);return n.success&&n.data.token&&(localStorage.setItem("authToken",n.data.token),localStorage.setItem("user",JSON.stringify(n.data.user)),localStorage.setItem("currentRole",n.data.currentRole),localStorage.setItem("availableRoles",JSON.stringify(n.data.availableRoles))),n}catch(e){throw console.error("Login error:",e),e}},getProfile:async()=>{try{const t=await fetch(`${ci}/profile`,{method:"GET",headers:Ea()});return await di(t)}catch(t){throw console.error("Get profile error:",t),t}},updateProfile:async t=>{try{const e=await fetch(`${ci}/profile`,{method:"PUT",headers:Ea(),body:JSON.stringify(t)}),n=await di(e);return n.success&&localStorage.setItem("user",JSON.stringify(n.data.user)),n}catch(e){throw console.error("Update profile error:",e),e}},verifyWallet:async t=>{try{const e=await fetch(`${ci}/verify-wallet`,{method:"POST",headers:Ea(),body:JSON.stringify({walletAddress:t})});return await di(e)}catch(e){throw console.error("Verify wallet error:",e),e}},switchRole:async t=>{try{const e=await fetch(`${ci}/switch-role`,{method:"POST",headers:Ea(),body:JSON.stringify({newRole:t})}),n=await di(e);return n.success&&n.data.token&&(localStorage.setItem("authToken",n.data.token),localStorage.setItem("user",JSON.stringify(n.data.user)),localStorage.setItem("currentRole",n.data.currentRole)),n}catch(e){throw console.error("Switch role error:",e),e}},getUserRoles:async()=>{try{const t=await fetch(`${ci}/roles`,{method:"GET",headers:Ea()});return await di(t)}catch(t){throw console.error("Get user roles error:",t),t}},logout:async()=>{try{const t=await fetch(`${ci}/logout`,{method:"POST",headers:Ea()}),e=await di(t);return localStorage.removeItem("authToken"),localStorage.removeItem("user"),localStorage.removeItem("currentRole"),localStorage.removeItem("availableRoles"),e}catch(t){throw console.error("Logout error:",t),localStorage.removeItem("authToken"),localStorage.removeItem("user"),localStorage.removeItem("currentRole"),localStorage.removeItem("availableRoles"),t}},isAuthenticated:()=>{const t=localStorage.getItem("authToken"),e=localStorage.getItem("user"),n=!!(t&&e);return console.log("Authentication check:",{hasToken:!!t,hasUser:!!e,isAuthenticated:n}),n},getCurrentUser:()=>{try{const t=localStorage.getItem("user");return t?JSON.parse(t):null}catch(t){return console.error("Error parsing user data:",t),null}},getToken:()=>localStorage.getItem("authToken"),clearAuthData:()=>{localStorage.removeItem("authToken"),localStorage.removeItem("user"),localStorage.removeItem("currentRole"),localStorage.removeItem("availableRoles")},getCurrentRole:()=>localStorage.getItem("currentRole"),getAvailableRoles:()=>{try{const t=localStorage.getItem("availableRoles");return t?JSON.parse(t):[]}catch(t){return console.error("Error parsing available roles:",t),[]}},createUser:async t=>{try{const e=await fetch(`${ci}/admin/create-user`,{method:"POST",headers:Ea(),body:JSON.stringify(t)});return await di(e)}catch(e){throw console.error("Create user error:",e),e}},healthCheck:async()=>{try{const t=await fetch(`${ci}/health`,{method:"GET",headers:{"Content-Type":"application/json"}});return await di(t)}catch(t){throw console.error("Health check error:",t),t}},ping:async()=>{try{const t=await fetch(`${ci}/ping`,{method:"GET",headers:{"Content-Type":"application/json"}});return await di(t)}catch(t){throw console.error("Ping error:",t),t}}},{register:KW,login:D0e,getProfile:$0e,updateProfile:O0e,logout:F0e,verifyWallet:L0e,switchRole:B0e,getUserRoles:U0e,createUser:V0e,isAuthenticated:z0e,getCurrentUser:H0e,getToken:W0e,clearAuthData:q0e,getCurrentRole:K0e,getAvailableRoles:G0e,healthCheck:Y0e,ping:PA}=tu,EN=y.createContext({});function ju(t){const e=y.useRef(null);return e.current===null&&(e.current=t()),e.current}const _N=typeof window<"u",bx=_N?y.useLayoutEffect:y.useEffect,wx=y.createContext(null),fm=y.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function j6(t){return typeof t=="object"&&t!==null}function Nx(t){return j6(t)&&"offsetHeight"in t}let GW=class extends y.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,r=Nx(s)&&s.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=r-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}};function YW({children:t,isPresent:e,anchorX:n}){const s=y.useId(),r=y.useRef(null),i=y.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=y.useContext(fm);return y.useInsertionEffect(()=>{const{width:l,height:c,top:d,left:u,right:h}=i.current;if(e||!r.current||!l||!c)return;const f=n==="left"?`left: ${u}`:`right: ${h}`;r.current.dataset.motionPopId=s;const m=document.createElement("style");return o&&(m.nonce=o),document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${f}px !important;
            top: ${d}px !important;
          }
        `),()=>{document.head.contains(m)&&document.head.removeChild(m)}},[e]),a.jsx(GW,{isPresent:e,childRef:r,sizeRef:i,children:y.cloneElement(t,{ref:r})})}const XW=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:r,presenceAffectsLayout:i,mode:o,anchorX:l})=>{const c=ju(JW),d=y.useId();let u=!0,h=y.useMemo(()=>(u=!1,{id:d,initial:e,isPresent:n,custom:r,onExitComplete:f=>{c.set(f,!0);for(const m of c.values())if(!m)return;s&&s()},register:f=>(c.set(f,!1),()=>c.delete(f))}),[n,c,s]);return i&&u&&(h={...h}),y.useMemo(()=>{c.forEach((f,m)=>c.set(m,!1))},[n]),y.useEffect(()=>{!n&&!c.size&&s&&s()},[n]),o==="popLayout"&&(t=a.jsx(YW,{isPresent:n,anchorX:l,children:t})),a.jsx(wx.Provider,{value:h,children:t})};function JW(){return new Map}function S6(t=!0){const e=y.useContext(wx);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:r}=e,i=y.useId();y.useEffect(()=>{if(t)return r(i)},[t]);const o=y.useCallback(()=>t&&s&&s(i),[i,s,t]);return!n&&s?[!1,o]:[!0]}const np=t=>t.key||"";function IA(t){const e=[];return y.Children.forEach(t,n=>{y.isValidElement(n)&&e.push(n)}),e}const A6=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:r=!0,mode:i="sync",propagate:o=!1,anchorX:l="left"})=>{const[c,d]=S6(o),u=y.useMemo(()=>IA(t),[t]),h=o&&!c?[]:u.map(np),f=y.useRef(!0),m=y.useRef(u),x=ju(()=>new Map),[p,w]=y.useState(u),[b,v]=y.useState(u);bx(()=>{f.current=!1,m.current=u;for(let T=0;T<b.length;T++){const R=np(b[T]);h.includes(R)?x.delete(R):x.get(R)!==!0&&x.set(R,!1)}},[b,h.length,h.join("-")]);const N=[];if(u!==p){let T=[...u];for(let R=0;R<b.length;R++){const $=b[R],M=np($);h.includes(M)||(T.splice(R,0,$),N.push($))}return i==="wait"&&N.length&&(T=N),v(IA(T)),w(u),null}const{forceRender:E}=y.useContext(EN);return a.jsx(a.Fragment,{children:b.map(T=>{const R=np(T),$=o&&!c?!1:u===b||h.includes(R),M=()=>{if(x.has(R))x.set(R,!0);else return;let L=!0;x.forEach(U=>{U||(L=!1)}),L&&(E==null||E(),v(m.current),o&&(d==null||d()),s&&s())};return a.jsx(XW,{isPresent:$,initial:!f.current||n?void 0:!1,custom:e,presenceAffectsLayout:r,mode:i,onExitComplete:$?void 0:M,anchorX:l,children:T},R)})})},sp=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],RA={value:null,addProjectionMetrics:null};function QW(t,e){let n=new Set,s=new Set,r=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function d(h){o.has(h)&&(u.schedule(h),t()),c++,h(l)}const u={schedule:(h,f=!1,m=!1)=>{const p=m&&r?n:s;return f&&o.add(h),p.has(h)||p.add(h),h},cancel:h=>{s.delete(h),o.delete(h)},process:h=>{if(l=h,r){i=!0;return}r=!0,[n,s]=[s,n],n.forEach(d),e&&RA.value&&RA.value.frameloop[e].push(c),c=0,n.clear(),r=!1,i&&(i=!1,u.process(h))}};return u}const eo={},ZW=40;function T6(t,e){let n=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=sp.reduce((N,E)=>(N[E]=QW(i,e?E:void 0),N),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:u,update:h,preRender:f,render:m,postRender:x}=o,p=()=>{const N=eo.useManualTiming?r.timestamp:performance.now();n=!1,eo.useManualTiming||(r.delta=s?1e3/60:Math.max(Math.min(N-r.timestamp,ZW),1)),r.timestamp=N,r.isProcessing=!0,l.process(r),c.process(r),d.process(r),u.process(r),h.process(r),f.process(r),m.process(r),x.process(r),r.isProcessing=!1,n&&e&&(s=!1,t(p))},w=()=>{n=!0,s=!0,r.isProcessing||t(p)};return{schedule:sp.reduce((N,E)=>{const T=o[E];return N[E]=(R,$=!1,M=!1)=>(n||w(),T.schedule(R,$,M)),N},{}),cancel:N=>{for(let E=0;E<sp.length;E++)o[sp[E]].cancel(N)},state:r,steps:o}}const fr=t=>t,{schedule:Gt,cancel:Di,state:ns,steps:Xy}=T6(typeof requestAnimationFrame<"u"?requestAnimationFrame:fr,!0),C6=y.createContext({strict:!1}),MA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},nu={};for(const t in MA)nu[t]={isEnabled:e=>MA[t].some(n=>!!e[n])};function eq(t){for(const e in t)nu[e]={...nu[e],...t[e]}}const tq=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function i0(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||tq.has(t)}let E6=t=>!i0(t);function nq(t){t&&(E6=e=>e.startsWith("on")?!i0(e):t(e))}try{nq(require("@emotion/is-prop-valid").default)}catch{}function sq(t,e,n){const s={};for(const r in t)r==="values"&&typeof t.values=="object"||(E6(r)||n===!0&&i0(r)||!e&&!i0(r)||t.draggable&&r.startsWith("onDrag"))&&(s[r]=t[r]);return s}function rq(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...s)=>t(...s);return new Proxy(n,{get:(s,r)=>r==="create"?t:(e.has(r)||e.set(r,t(r)),e.get(r))})}const kx=y.createContext({});function jx(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Tf(t){return typeof t=="string"||Array.isArray(t)}const PN=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],IN=["initial",...PN];function Sx(t){return jx(t.animate)||IN.some(e=>Tf(t[e]))}function _6(t){return!!(Sx(t)||t.variants)}function iq(t,e){if(Sx(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Tf(n)?n:void 0,animate:Tf(s)?s:void 0}}return t.inherit!==!1?e:{}}function aq(t){const{initial:e,animate:n}=iq(t,y.useContext(kx));return y.useMemo(()=>({initial:e,animate:n}),[DA(e),DA(n)])}function DA(t){return Array.isArray(t)?t.join(" "):t}const oq=Symbol.for("motionComponentSymbol");function ud(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function lq(t,e,n){return y.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):ud(n)&&(n.current=s))},[e])}const RN=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),cq="framerAppearId",P6="data-"+RN(cq),I6=y.createContext({}),{schedule:MN,cancel:J0e}=T6(queueMicrotask,!1);function dq(t,e,n,s,r){var p,w;const{visualElement:i}=y.useContext(kx),o=y.useContext(C6),l=y.useContext(wx),c=y.useContext(fm).reducedMotion,d=y.useRef(null);s=s||o.renderer,!d.current&&s&&(d.current=s(t,{visualState:e,parent:i,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const u=d.current,h=y.useContext(I6);u&&!u.projection&&r&&(u.type==="html"||u.type==="svg")&&uq(d.current,n,r,h);const f=y.useRef(!1);y.useInsertionEffect(()=>{u&&f.current&&u.update(n,l)});const m=n[P6],x=y.useRef(!!m&&!((p=window.MotionHandoffIsComplete)!=null&&p.call(window,m))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,m)));return bx(()=>{u&&(f.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),MN.render(u.render),x.current&&u.animationState&&u.animationState.animateChanges())}),y.useEffect(()=>{u&&(!x.current&&u.animationState&&u.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)==null||b.call(window,m)}),x.current=!1))}),u}function uq(t,e,n,s){const{layoutId:r,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:R6(t.parent)),t.projection.setOptions({layoutId:r,layout:i,alwaysMeasureLayout:!!o||l&&ud(l),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:s,crossfade:u,layoutScroll:c,layoutRoot:d})}function R6(t){if(t)return t.options.allowProjection!==!1?t.projection:R6(t.parent)}let hq=()=>{},a0=()=>{};function fq({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:s,Component:r}){t&&eq(t);function i(l,c){let d;const u={...y.useContext(fm),...l,layoutId:mq(l)},{isStatic:h}=u,f=aq(l),m=s(l,h);if(!h&&_N){pq();const x=gq(u);d=x.MeasureLayout,f.visualElement=dq(r,m,u,e,x.ProjectionNode)}return a.jsxs(kx.Provider,{value:f,children:[d&&f.visualElement?a.jsx(d,{visualElement:f.visualElement,...u}):null,n(r,l,lq(m,f.visualElement,c),m,h,f.visualElement)]})}i.displayName=`motion.${typeof r=="string"?r:`create(${r.displayName??r.name??""})`}`;const o=y.forwardRef(i);return o[oq]=r,o}function mq({layoutId:t}){const e=y.useContext(EN).id;return e&&t!==void 0?e+"-"+t:t}function pq(t,e){y.useContext(C6).strict}function gq(t){const{drag:e,layout:n}=nu;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const M6=t=>e=>typeof e=="string"&&e.startsWith(t),DN=M6("--"),xq=M6("var(--"),$N=t=>xq(t)?yq.test(t.split("/*")[0].trim()):!1,yq=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Cf={};function vq(t){for(const e in t)Cf[e]=t[e],DN(e)&&(Cf[e].isCSSVariable=!0)}const Su=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Au=new Set(Su);function D6(t,{layout:e,layoutId:n}){return Au.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Cf[t]||t==="opacity")}const $6=(t,e)=>e&&typeof t=="number"?e.transform(t):t,va=(t,e,n)=>n>e?e:n<t?t:n,Tu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ef={...Tu,transform:t=>va(0,1,t)},rp={...Tu,default:1},$A={...Tu,transform:Math.round},mm=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),bo=mm("deg"),oa=mm("%"),ht=mm("px"),bq=mm("vh"),wq=mm("vw"),OA={...oa,parse:t=>oa.parse(t)/100,transform:t=>oa.transform(t*100)},Nq={rotate:bo,rotateX:bo,rotateY:bo,rotateZ:bo,scale:rp,scaleX:rp,scaleY:rp,scaleZ:rp,skew:bo,skewX:bo,skewY:bo,distance:ht,translateX:ht,translateY:ht,translateZ:ht,x:ht,y:ht,z:ht,perspective:ht,transformPerspective:ht,opacity:Ef,originX:OA,originY:OA,originZ:ht},ON={borderWidth:ht,borderTopWidth:ht,borderRightWidth:ht,borderBottomWidth:ht,borderLeftWidth:ht,borderRadius:ht,radius:ht,borderTopLeftRadius:ht,borderTopRightRadius:ht,borderBottomRightRadius:ht,borderBottomLeftRadius:ht,width:ht,maxWidth:ht,height:ht,maxHeight:ht,top:ht,right:ht,bottom:ht,left:ht,padding:ht,paddingTop:ht,paddingRight:ht,paddingBottom:ht,paddingLeft:ht,margin:ht,marginTop:ht,marginRight:ht,marginBottom:ht,marginLeft:ht,backgroundPositionX:ht,backgroundPositionY:ht,...Nq,zIndex:$A,fillOpacity:Ef,strokeOpacity:Ef,numOctaves:$A},kq={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},jq=Su.length;function Sq(t,e,n){let s="",r=!0;for(let i=0;i<jq;i++){const o=Su[i],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const d=$6(l,ON[o]);if(!c){r=!1;const u=kq[o]||o;s+=`${u}(${d}) `}n&&(e[o]=d)}}return s=s.trim(),n?s=n(e,r?"":s):r&&(s="none"),s}function FN(t,e,n){const{style:s,vars:r,transformOrigin:i}=t;let o=!1,l=!1;for(const c in e){const d=e[c];if(Au.has(c)){o=!0;continue}else if(DN(c)){r[c]=d;continue}else{const u=$6(d,ON[c]);c.startsWith("origin")?(l=!0,i[c]=u):s[c]=u}}if(e.transform||(o||n?s.transform=Sq(e,t.transform,n):s.transform&&(s.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=i;s.transformOrigin=`${c} ${d} ${u}`}}const LN=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Kn=t=>!!(t&&t.getVelocity);function O6(t,e,n){for(const s in e)!Kn(e[s])&&!D6(s,n)&&(t[s]=e[s])}function Aq({transformTemplate:t},e){return y.useMemo(()=>{const n=LN();return FN(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Tq(t,e){const n=t.style||{},s={};return O6(s,n,t),Object.assign(s,Aq(t,e)),s}function Cq(t,e){const n={},s=Tq(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const Eq={offset:"stroke-dashoffset",array:"stroke-dasharray"},_q={offset:"strokeDashoffset",array:"strokeDasharray"};function Pq(t,e,n=1,s=0,r=!0){t.pathLength=1;const i=r?Eq:_q;t[i.offset]=ht.transform(-s);const o=ht.transform(e),l=ht.transform(n);t[i.array]=`${o} ${l}`}function F6(t,{attrX:e,attrY:n,attrScale:s,pathLength:r,pathSpacing:i=1,pathOffset:o=0,...l},c,d,u){if(FN(t,l,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:f}=t;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),s!==void 0&&(h.scale=s),r!==void 0&&Pq(h,r,i,o,!1)}const L6=()=>({...LN(),attrs:{}}),B6=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Iq(t,e,n,s){const r=y.useMemo(()=>{const i=L6();return F6(i,e,B6(s),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};O6(i,t.style,t),r.style={...i,...r.style}}return r}const Rq=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function BN(t){return typeof t!="string"||t.includes("-")?!1:!!(Rq.indexOf(t)>-1||/[A-Z]/u.test(t))}function Mq(t=!1){return(n,s,r,{latestValues:i},o)=>{const c=(BN(n)?Iq:Cq)(s,i,o,n),d=sq(s,typeof n=="string",t),u=n!==y.Fragment?{...d,...c,ref:r}:{},{children:h}=s,f=y.useMemo(()=>Kn(h)?h.get():h,[h]);return y.createElement(n,{...u,children:f})}}function FA(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function UN(t,e,n,s){if(typeof e=="function"){const[r,i]=FA(s);e=e(n!==void 0?n:t.custom,r,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,i]=FA(s);e=e(n!==void 0?n:t.custom,r,i)}return e}function Qp(t){return Kn(t)?t.get():t}function Dq({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,r){return{latestValues:$q(n,s,r,t),renderState:e()}}const U6=t=>(e,n)=>{const s=y.useContext(kx),r=y.useContext(wx),i=()=>Dq(t,e,s,r);return n?i():ju(i)};function $q(t,e,n,s){const r={},i=s(t,{});for(const f in i)r[f]=Qp(i[f]);let{initial:o,animate:l}=t;const c=Sx(t),d=_6(t);e&&d&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const h=u?l:o;if(h&&typeof h!="boolean"&&!jx(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const x=UN(t,f[m]);if(x){const{transitionEnd:p,transition:w,...b}=x;for(const v in b){let N=b[v];if(Array.isArray(N)){const E=u?N.length-1:0;N=N[E]}N!==null&&(r[v]=N)}for(const v in p)r[v]=p[v]}}}return r}function VN(t,e,n){var i;const{style:s}=t,r={};for(const o in s)(Kn(s[o])||e.style&&Kn(e.style[o])||D6(o,t)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(r[o]=s[o]);return r}const Oq={useVisualState:U6({scrapeMotionValuesFromProps:VN,createRenderState:LN})};function V6(t,e,n){const s=VN(t,e,n);for(const r in t)if(Kn(t[r])||Kn(e[r])){const i=Su.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;s[i]=t[r]}return s}const Fq={useVisualState:U6({scrapeMotionValuesFromProps:V6,createRenderState:L6})};function Lq(t,e){return function(s,{forwardMotionProps:r}={forwardMotionProps:!1}){const o={...BN(s)?Fq:Oq,preloadedFeatures:t,useRender:Mq(r),createVisualElement:e,Component:s};return fq(o)}}function _f(t,e,n){const s=t.getProps();return UN(s,e,n!==void 0?n:s.custom,t)}const Pw=t=>Array.isArray(t);let Zp;function Bq(){Zp=void 0}const lr={now:()=>(Zp===void 0&&lr.set(ns.isProcessing||eo.useManualTiming?ns.timestamp:performance.now()),Zp),set:t=>{Zp=t,queueMicrotask(Bq)}};function zN(t,e){t.indexOf(e)===-1&&t.push(e)}function HN(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let WN=class{constructor(){this.subscriptions=[]}add(e){return zN(this.subscriptions,e),()=>HN(this.subscriptions,e)}notify(e,n,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,s);else for(let i=0;i<r;i++){const o=this.subscriptions[i];o&&o(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}};function qN(t,e){return e?t*(1e3/e):0}const LA=30,Uq=t=>!isNaN(parseFloat(t)),Oh={current:void 0};let Vq=class{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,r=!0)=>{var o,l;const i=lr.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty();r&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=lr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Uq(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new WN);const s=this.events[e].add(n);return e==="change"?()=>{s(),Gt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return Oh.current&&Oh.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=lr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>LA)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,LA);return qN(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}};function ji(t,e){return new Vq(t,e)}function zq(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ji(n))}function Hq(t){return Pw(t)?t[t.length-1]||0:t}function Wq(t,e){const n=_f(t,e);let{transitionEnd:s={},transition:r={},...i}=n||{};i={...i,...s};for(const o in i){const l=Hq(i[o]);zq(t,o,l)}}function qq(t){return!!(Kn(t)&&t.add)}function Iw(t,e){const n=t.getValue("willChange");if(qq(n))return n.add(e);if(!n&&eo.WillChange){const s=new eo.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function z6(t){return t.props[P6]}const Kq=t=>t!==null;function Gq(t,{repeat:e,repeatType:n="loop"},s){const r=t.filter(Kq),i=e&&n!=="loop"&&e%2===1?0:r.length-1;return!i||s===void 0?r[i]:s}const Yq={type:"spring",stiffness:500,damping:25,restSpeed:10},Xq=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Jq={type:"keyframes",duration:.8},Qq={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Zq=(t,{keyframes:e})=>e.length>2?Jq:Au.has(t)?t.startsWith("scale")?Xq(e[1]):Yq:Qq;function eK({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:r,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}function KN(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const la=t=>t*1e3,ca=t=>t/1e3,Fh=t=>Math.round(t*1e5)/1e5,GN=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function tK(t){return t==null}const nK=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,YN=(t,e)=>n=>!!(typeof n=="string"&&nK.test(n)&&n.startsWith(t)||e&&!tK(n)&&Object.prototype.hasOwnProperty.call(n,e)),H6=(t,e,n)=>s=>{if(typeof s!="string")return s;const[r,i,o,l]=s.match(GN);return{[t]:parseFloat(r),[e]:parseFloat(i),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},sK=t=>va(0,255,t),Jy={...Tu,transform:t=>Math.round(sK(t))},Gl={test:YN("rgb","red"),parse:H6("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Jy.transform(t)+", "+Jy.transform(e)+", "+Jy.transform(n)+", "+Fh(Ef.transform(s))+")"};function rK(t){let e="",n="",s="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,s+=s,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const Rw={test:YN("#"),parse:rK,transform:Gl.transform},hd={test:YN("hsl","hue"),parse:H6("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+oa.transform(Fh(e))+", "+oa.transform(Fh(n))+", "+Fh(Ef.transform(s))+")"},ws={test:t=>Gl.test(t)||Rw.test(t)||hd.test(t),parse:t=>Gl.test(t)?Gl.parse(t):hd.test(t)?hd.parse(t):Rw.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Gl.transform(t):hd.transform(t)},iK=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function aK(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(GN))==null?void 0:e.length)||0)+(((n=t.match(iK))==null?void 0:n.length)||0)>0}const W6="number",q6="color",oK="var",lK="var(",BA="${}",cK=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Pf(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},r=[];let i=0;const l=e.replace(cK,c=>(ws.test(c)?(s.color.push(i),r.push(q6),n.push(ws.parse(c))):c.startsWith(lK)?(s.var.push(i),r.push(oK),n.push(c)):(s.number.push(i),r.push(W6),n.push(parseFloat(c))),++i,BA)).split(BA);return{values:n,split:l,indexes:s,types:r}}function K6(t){return Pf(t).values}function G6(t){const{split:e,types:n}=Pf(t),s=e.length;return r=>{let i="";for(let o=0;o<s;o++)if(i+=e[o],r[o]!==void 0){const l=n[o];l===W6?i+=Fh(r[o]):l===q6?i+=ws.transform(r[o]):i+=r[o]}return i}}const dK=t=>typeof t=="number"?0:t;function uK(t){const e=K6(t);return G6(t)(e.map(dK))}const ll={test:aK,parse:K6,createTransformer:G6,getAnimatableNone:uK};function Qy(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function hK({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let r=0,i=0,o=0;if(!e)r=i=o=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;r=Qy(c,l,t+1/3),i=Qy(c,l,t),o=Qy(c,l,t-1/3)}return{red:Math.round(r*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:s}}function o0(t,e){return n=>n>0?e:t}const wn=(t,e,n)=>t+(e-t)*n,Zy=(t,e,n)=>{const s=t*t,r=n*(e*e-s)+s;return r<0?0:Math.sqrt(r)},fK=[Rw,Gl,hd],mK=t=>fK.find(e=>e.test(t));function UA(t){const e=mK(t);if(!e)return!1;let n=e.parse(t);return e===hd&&(n=hK(n)),n}const VA=(t,e)=>{const n=UA(t),s=UA(e);if(!n||!s)return o0(t,e);const r={...n};return i=>(r.red=Zy(n.red,s.red,i),r.green=Zy(n.green,s.green,i),r.blue=Zy(n.blue,s.blue,i),r.alpha=wn(n.alpha,s.alpha,i),Gl.transform(r))},Mw=new Set(["none","hidden"]);function pK(t,e){return Mw.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}const gK=(t,e)=>n=>e(t(n)),pm=(...t)=>t.reduce(gK);function xK(t,e){return n=>wn(t,e,n)}function XN(t){return typeof t=="number"?xK:typeof t=="string"?$N(t)?o0:ws.test(t)?VA:bK:Array.isArray(t)?Y6:typeof t=="object"?ws.test(t)?VA:yK:o0}function Y6(t,e){const n=[...t],s=n.length,r=t.map((i,o)=>XN(i)(i,e[o]));return i=>{for(let o=0;o<s;o++)n[o]=r[o](i);return n}}function yK(t,e){const n={...t,...e},s={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(s[r]=XN(t[r])(t[r],e[r]));return r=>{for(const i in s)n[i]=s[i](r);return n}}function vK(t,e){const n=[],s={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const i=e.types[r],o=t.indexes[i][s[i]],l=t.values[o]??0;n[r]=l,s[i]++}return n}const bK=(t,e)=>{const n=ll.createTransformer(e),s=Pf(t),r=Pf(e);return s.indexes.var.length===r.indexes.var.length&&s.indexes.color.length===r.indexes.color.length&&s.indexes.number.length>=r.indexes.number.length?Mw.has(t)&&!r.values.length||Mw.has(e)&&!s.values.length?pK(t,e):pm(Y6(vK(s,r),r.values),n):o0(t,e)};function X6(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?wn(t,e,n):XN(t)(t,e)}const wK=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Gt.update(e,n),stop:()=>Di(e),now:()=>ns.isProcessing?ns.timestamp:lr.now()}},J6=(t,e,n=10)=>{let s="";const r=Math.max(Math.round(e/n),2);for(let i=0;i<r;i++)s+=t(i/(r-1))+", ";return`linear(${s.substring(0,s.length-2)})`},l0=2e4;function JN(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<l0;)e+=n,s=t.next(e);return e>=l0?1/0:e}function NK(t,e=100,n){const s=n({...t,keyframes:[0,e]}),r=Math.min(JN(s),l0);return{type:"keyframes",ease:i=>s.next(r*i).value/e,duration:ca(r)}}const kK=5;function Q6(t,e,n){const s=Math.max(e-kK,0);return qN(n-t(s),e-s)}const Cn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ev=.001;function jK({duration:t=Cn.duration,bounce:e=Cn.bounce,velocity:n=Cn.velocity,mass:s=Cn.mass}){let r,i,o=1-e;o=va(Cn.minDamping,Cn.maxDamping,o),t=va(Cn.minDuration,Cn.maxDuration,ca(t)),o<1?(r=d=>{const u=d*o,h=u*t,f=u-n,m=Dw(d,o),x=Math.exp(-h);return ev-f/m*x},i=d=>{const h=d*o*t,f=h*n+n,m=Math.pow(o,2)*Math.pow(d,2)*t,x=Math.exp(-h),p=Dw(Math.pow(d,2),o);return(-r(d)+ev>0?-1:1)*((f-m)*x)/p}):(r=d=>{const u=Math.exp(-d*t),h=(d-n)*t+1;return-ev+u*h},i=d=>{const u=Math.exp(-d*t),h=(n-d)*(t*t);return u*h});const l=5/t,c=AK(r,i,l);if(t=la(t),isNaN(c))return{stiffness:Cn.stiffness,damping:Cn.damping,duration:t};{const d=Math.pow(c,2)*s;return{stiffness:d,damping:o*2*Math.sqrt(s*d),duration:t}}}const SK=12;function AK(t,e,n){let s=n;for(let r=1;r<SK;r++)s=s-t(s)/e(s);return s}function Dw(t,e){return t*Math.sqrt(1-e*e)}const TK=["duration","bounce"],CK=["stiffness","damping","mass"];function zA(t,e){return e.some(n=>t[n]!==void 0)}function EK(t){let e={velocity:Cn.velocity,stiffness:Cn.stiffness,damping:Cn.damping,mass:Cn.mass,isResolvedFromDuration:!1,...t};if(!zA(t,CK)&&zA(t,TK))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),r=s*s,i=2*va(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:Cn.mass,stiffness:r,damping:i}}else{const n=jK(t);e={...e,...n,mass:Cn.mass},e.isResolvedFromDuration=!0}return e}function c0(t=Cn.visualDuration,e=Cn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:r}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:d,mass:u,duration:h,velocity:f,isResolvedFromDuration:m}=EK({...n,velocity:-ca(n.velocity||0)}),x=f||0,p=d/(2*Math.sqrt(c*u)),w=o-i,b=ca(Math.sqrt(c/u)),v=Math.abs(w)<5;s||(s=v?Cn.restSpeed.granular:Cn.restSpeed.default),r||(r=v?Cn.restDelta.granular:Cn.restDelta.default);let N;if(p<1){const T=Dw(b,p);N=R=>{const $=Math.exp(-p*b*R);return o-$*((x+p*b*w)/T*Math.sin(T*R)+w*Math.cos(T*R))}}else if(p===1)N=T=>o-Math.exp(-b*T)*(w+(x+b*w)*T);else{const T=b*Math.sqrt(p*p-1);N=R=>{const $=Math.exp(-p*b*R),M=Math.min(T*R,300);return o-$*((x+p*b*w)*Math.sinh(M)+T*w*Math.cosh(M))/T}}const E={calculatedDuration:m&&h||null,next:T=>{const R=N(T);if(m)l.done=T>=h;else{let $=T===0?x:0;p<1&&($=T===0?la(x):Q6(N,T,R));const M=Math.abs($)<=s,L=Math.abs(o-R)<=r;l.done=M&&L}return l.value=l.done?o:R,l},toString:()=>{const T=Math.min(JN(E),l0),R=J6($=>E.next(T*$).value,T,30);return T+"ms "+R},toTransition:()=>{}};return E}c0.applyToOptions=t=>{const e=NK(t,100,c0);return t.ease=e.ease,t.duration=la(e.duration),t.type="keyframes",t};function $w({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const h=t[0],f={done:!1,value:h},m=M=>l!==void 0&&M<l||c!==void 0&&M>c,x=M=>l===void 0?c:c===void 0||Math.abs(l-M)<Math.abs(c-M)?l:c;let p=n*e;const w=h+p,b=o===void 0?w:o(w);b!==w&&(p=b-h);const v=M=>-p*Math.exp(-M/s),N=M=>b+v(M),E=M=>{const L=v(M),U=N(M);f.done=Math.abs(L)<=d,f.value=f.done?b:U};let T,R;const $=M=>{m(f.value)&&(T=M,R=c0({keyframes:[f.value,x(f.value)],velocity:Q6(N,M,f.value),damping:r,stiffness:i,restDelta:d,restSpeed:u}))};return $(0),{calculatedDuration:null,next:M=>{let L=!1;return!R&&T===void 0&&(L=!0,E(M),$(M)),T!==void 0&&M>=T?R.next(M-T):(!L&&E(M),f)}}}const su=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};function _K(t,e,n){const s=[],r=n||eo.mix||X6,i=t.length-1;for(let o=0;o<i;o++){let l=r(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||fr:e;l=pm(c,l)}s.push(l)}return s}function QN(t,e,{clamp:n=!0,ease:s,mixer:r}={}){const i=t.length;if(a0(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=_K(e,s,r),c=l.length,d=u=>{if(o&&u<t[0])return e[0];let h=0;if(c>1)for(;h<t.length-2&&!(u<t[h+1]);h++);const f=su(t[h],t[h+1],u);return l[h](f)};return n?u=>d(va(t[0],t[i-1],u)):d}function PK(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const r=su(0,e,s);t.push(wn(n,1,r))}}function Z6(t){const e=[0];return PK(e,t.length-1),e}function IK(t,e){return t.map(n=>n*e)}const e4=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,RK=1e-7,MK=12;function DK(t,e,n,s,r){let i,o,l=0;do o=e+(n-e)/2,i=e4(o,s,r)-t,i>0?n=o:e=o;while(Math.abs(i)>RK&&++l<MK);return o}function gm(t,e,n,s){if(t===e&&n===s)return fr;const r=i=>DK(i,0,1,t,n);return i=>i===0||i===1?i:e4(r(i),e,s)}const $K=gm(.42,0,1,1),OK=gm(0,0,.58,1),t4=gm(.42,0,.58,1),FK=t=>Array.isArray(t)&&typeof t[0]!="number",n4=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,s4=t=>e=>1-t(1-e),r4=gm(.33,1.53,.69,.99),ZN=s4(r4),i4=n4(ZN),a4=t=>(t*=2)<1?.5*ZN(t):.5*(2-Math.pow(2,-10*(t-1))),ek=t=>1-Math.sin(Math.acos(t)),o4=s4(ek),l4=n4(ek),c4=t=>Array.isArray(t)&&typeof t[0]=="number",HA={linear:fr,easeIn:$K,easeInOut:t4,easeOut:OK,circIn:ek,circInOut:l4,circOut:o4,backIn:ZN,backInOut:i4,backOut:r4,anticipate:a4},LK=t=>typeof t=="string",WA=t=>{if(c4(t)){a0(t.length===4);const[e,n,s,r]=t;return gm(e,n,s,r)}else if(LK(t))return a0(HA[t]!==void 0),HA[t];return t};function BK(t,e){return t.map(()=>e||t4).splice(0,t.length-1)}function Lh({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const r=FK(s)?s.map(WA):WA(s),i={done:!1,value:e[0]},o=IK(n&&n.length===e.length?n:Z6(e),t),l=QN(o,e,{ease:Array.isArray(r)?r:BK(e,r)});return{calculatedDuration:t,next:c=>(i.value=l(c),i.done=c>=t,i)}}const UK=t=>t!==null;function tk(t,{repeat:e,repeatType:n="loop"},s,r=1){const i=t.filter(UK),l=r<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!l||s===void 0?i[l]:s}const VK={decay:$w,inertia:$w,tween:Lh,keyframes:Lh,spring:c0};function d4(t){typeof t.type=="string"&&(t.type=VK[t.type])}let nk=class{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}};const zK=t=>t/100;let Ax=class extends nk{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(n=!0)=>{var s,r;if(n){const{motionValue:i}=this.options;i&&i.updatedAt!==lr.now()&&this.tick(lr.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(s=this.options).onStop)==null||r.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;d4(e);const{type:n=Lh,repeat:s=0,repeatDelay:r=0,repeatType:i,velocity:o=0}=e;let{keyframes:l}=e;const c=n||Lh;c!==Lh&&typeof l[0]!="number"&&(this.mixKeyframes=pm(zK,X6(l[0],l[1])),l=[0,100]);const d=c({...e,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=JN(d));const{calculatedDuration:u}=d;this.calculatedDuration=u,this.resolvedDuration=u+r,this.totalDuration=this.resolvedDuration*(s+1)-r,this.generator=d}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:r,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return s.next(0);const{delay:d=0,keyframes:u,repeat:h,repeatType:f,repeatDelay:m,type:x,onUpdate:p,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const b=this.currentTime-d*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?b<0:b>r;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let N=this.currentTime,E=s;if(h){const M=Math.min(this.currentTime,r)/l;let L=Math.floor(M),U=M%1;!U&&M>=1&&(U=1),U===1&&L--,L=Math.min(L,h+1),!!(L%2)&&(f==="reverse"?(U=1-U,m&&(U-=m/l)):f==="mirror"&&(E=o)),N=va(0,1,U)*l}const T=v?{done:!1,value:u[0]}:E.next(N);i&&(T.value=i(T.value));let{done:R}=T;!v&&c!==null&&(R=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const $=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&R);return $&&x!==$w&&(T.value=tk(u,this.options,w,this.speed)),p&&p(T.value),$&&this.finish(),T}then(e,n){return this.finished.then(e,n)}get duration(){return ca(this.calculatedDuration)}get time(){return ca(this.currentTime)}set time(e){var n;e=la(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(lr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ca(this.currentTime))}play(){var r,i;if(this.isStopped)return;const{driver:e=wK,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(r=this.options).onPlay)==null||i.call(r);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(lr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}};function HK(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Yl=t=>t*180/Math.PI,Ow=t=>{const e=Yl(Math.atan2(t[1],t[0]));return Fw(e)},WK={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Ow,rotateZ:Ow,skewX:t=>Yl(Math.atan(t[1])),skewY:t=>Yl(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Fw=t=>(t=t%360,t<0&&(t+=360),t),qA=Ow,KA=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),GA=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),qK={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:KA,scaleY:GA,scale:t=>(KA(t)+GA(t))/2,rotateX:t=>Fw(Yl(Math.atan2(t[6],t[5]))),rotateY:t=>Fw(Yl(Math.atan2(-t[2],t[0]))),rotateZ:qA,rotate:qA,skewX:t=>Yl(Math.atan(t[4])),skewY:t=>Yl(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Lw(t){return t.includes("scale")?1:0}function Bw(t,e){if(!t||t==="none")return Lw(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,r;if(n)s=qK,r=n;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=WK,r=l}if(!r)return Lw(e);const i=s[e],o=r[1].split(",").map(GK);return typeof i=="function"?i(o):o[i]}const KK=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Bw(n,e)};function GK(t){return parseFloat(t.trim())}const YA=t=>t===Tu||t===ht,YK=new Set(["x","y","z"]),XK=Su.filter(t=>!YK.has(t));function JK(t){const e=[];return XK.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const rc={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Bw(e,"x"),y:(t,{transform:e})=>Bw(e,"y")};rc.translateX=rc.x;rc.translateY=rc.y;const ic=new Set;let Uw=!1,Vw=!1,zw=!1;function u4(){if(Vw){const t=Array.from(ic).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const r=JK(s);r.length&&(n.set(s,r),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const r=n.get(s);r&&r.forEach(([i,o])=>{var l;(l=s.getValue(i))==null||l.set(o)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Vw=!1,Uw=!1,ic.forEach(t=>t.complete(zw)),ic.clear()}function h4(){ic.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Vw=!0)})}function QK(){zw=!0,h4(),u4(),zw=!1}let sk=class{constructor(e,n,s,r,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=r,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(ic.add(this),Uw||(Uw=!0,Gt.read(h4),Gt.resolveKeyframes(u4))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:r}=this;if(e[0]===null){const i=r==null?void 0:r.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(s&&n){const l=s.readValue(n,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),r&&i===void 0&&r.set(e[0])}HK(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ic.delete(this)}cancel(){this.state==="scheduled"&&(ic.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}};const ZK=t=>t.startsWith("--");function eG(t,e,n){ZK(e)?t.style.setProperty(e,n):t.style[e]=n}function rk(t){let e;return()=>(e===void 0&&(e=t()),e)}const f4=rk(()=>window.ScrollTimeline!==void 0),tG={};function nG(t,e){const n=rk(t);return()=>tG[e]??n()}const m4=nG(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),yh=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,XA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:yh([0,.65,.55,1]),circOut:yh([.55,0,1,.45]),backIn:yh([.31,.01,.66,-.59]),backOut:yh([.33,1.53,.69,.99])};function p4(t,e){if(t)return typeof t=="function"?m4()?J6(t,e):"ease-out":c4(t)?yh(t):Array.isArray(t)?t.map(n=>p4(n,e)||XA.easeOut):XA[t]}function sG(t,e,n,{delay:s=0,duration:r=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const u={[e]:n};c&&(u.offset=c);const h=p4(l,r);Array.isArray(h)&&(u.easing=h);const f={delay:s,duration:r,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return d&&(f.pseudoElement=d),t.animate(u,f)}function g4(t){return typeof t=="function"&&"applyToOptions"in t}function rG({type:t,...e}){return g4(t)&&m4()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}let iG=class extends nk{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:r,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,a0(typeof e.type!="string");const d=rG(e);this.animation=sG(n,s,r,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=tk(r,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(u):eG(n,s,u),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,s;const e=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return ca(Number(e))}get time(){return ca(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=la(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&f4()?(this.animation.timeline=e,fr):n(this)}};const x4={anticipate:a4,backInOut:i4,circInOut:l4};function aG(t){return t in x4}function oG(t){typeof t.ease=="string"&&aG(t.ease)&&(t.ease=x4[t.ease])}const JA=10;let lG=class extends iG{constructor(e){oG(e),d4(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:r,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const l=new Ax({...o,autoplay:!1}),c=la(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-JA).value,l.sample(c).value,JA),l.stop()}};const QA=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ll.test(t)||t==="0")&&!t.startsWith("url("));function cG(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function dG(t,e,n,s){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=QA(r,e),l=QA(i,e);return!o||!l?!1:cG(t)||(n==="spring"||g4(n))&&s}const uG=new Set(["opacity","clipPath","filter","transform"]),hG=rk(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function fG(t){var d;const{motionValue:e,name:n,repeatDelay:s,repeatType:r,damping:i,type:o}=t;if(!Nx((d=e==null?void 0:e.owner)==null?void 0:d.current))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return hG()&&n&&uG.has(n)&&(n!=="transform"||!c)&&!l&&!s&&r!=="mirror"&&i!==0&&o!=="inertia"}const mG=40;let pG=class extends nk{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:u,...h}){var x;super(),this.stop=()=>{var p,w;this._animation&&(this._animation.stop(),(p=this.stopTimeline)==null||p.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=lr.now();const f={autoplay:e,delay:n,type:s,repeat:r,repeatDelay:i,repeatType:o,name:c,motionValue:d,element:u,...h},m=(u==null?void 0:u.KeyframeResolver)||sk;this.keyframeResolver=new m(l,(p,w,b)=>this.onKeyframesResolved(p,w,f,!b),c,d,u),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(e,n,s,r){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:u}=s;this.resolvedAt=lr.now(),dG(e,i,o,l)||((eo.instantAnimations||!c)&&(u==null||u(tk(e,s,n))),e[0]=e[e.length-1],s.duration=0,s.repeat=0);const f={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>mG?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},m=!d&&fG(f)?new lG({...f,element:f.motionValue.owner.current}):new Ax(f);m.finished.then(()=>this.notifyFinished()).catch(fr),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),QK()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}};const ik=(t,e,n,s={},r,i)=>o=>{const l=KN(s,t)||{},c=l.delay||s.delay||0;let{elapsed:d=0}=s;d=d-la(c);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:f=>{e.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:i?void 0:r};eK(l)||Object.assign(u,Zq(t,u)),u.duration&&(u.duration=la(u.duration)),u.repeatDelay&&(u.repeatDelay=la(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(h=!0)),(eo.instantAnimations||eo.skipAnimations)&&(h=!0,u.duration=0,u.delay=0),u.allowFlatten=!l.type&&!l.ease,h&&!i&&e.get()!==void 0){const f=Gq(u.keyframes,l);if(f!==void 0){Gt.update(()=>{u.onUpdate(f),u.onComplete()});return}}return l.isSync?new Ax(u):new pG(u)},y4=new Set(["width","height","top","left","right","bottom",...Su]);function gG({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function v4(t,e,{delay:n=0,transitionOverride:s,type:r}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...l}=e;s&&(i=s);const c=[],d=r&&t.animationState&&t.animationState.getState()[r];for(const u in l){const h=t.getValue(u,t.latestValues[u]??null),f=l[u];if(f===void 0||d&&gG(d,u))continue;const m={delay:n,...KN(i||{},u)},x=h.get();if(x!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===x&&!m.velocity)continue;let p=!1;if(window.MotionHandoffAnimation){const b=z6(t);if(b){const v=window.MotionHandoffAnimation(b,u,Gt);v!==null&&(m.startTime=v,p=!0)}}Iw(t,u),h.start(ik(u,h,f,t.shouldReduceMotion&&y4.has(u)?{type:!1}:m,t,p));const w=h.animation;w&&c.push(w)}return o&&Promise.all(c).then(()=>{Gt.update(()=>{o&&Wq(t,o)})}),c}function Hw(t,e,n={}){var c;const s=_f(t,e,n.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:r=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(r=n.transitionOverride);const i=s?()=>Promise.all(v4(t,s,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:f}=r;return xG(t,e,u+d,h,f,n)}:()=>Promise.resolve(),{when:l}=r;if(l){const[d,u]=l==="beforeChildren"?[i,o]:[o,i];return d().then(()=>u())}else return Promise.all([i(),o(n.delay)])}function xG(t,e,n=0,s=0,r=1,i){const o=[],l=(t.variantChildren.size-1)*s,c=r===1?(d=0)=>d*s:(d=0)=>l-d*s;return Array.from(t.variantChildren).sort(yG).forEach((d,u)=>{d.notify("AnimationStart",e),o.push(Hw(d,e,{...i,delay:n+c(u)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(o)}function yG(t,e){return t.sortNodePosition(e)}function vG(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const r=e.map(i=>Hw(t,i,n));s=Promise.all(r)}else if(typeof e=="string")s=Hw(t,e,n);else{const r=typeof e=="function"?_f(t,e,n.custom):e;s=Promise.all(v4(t,r,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function b4(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const bG=IN.length;function w4(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?w4(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<bG;n++){const s=IN[n],r=t.props[s];(Tf(r)||r===!1)&&(e[s]=r)}return e}const wG=[...PN].reverse(),NG=PN.length;function kG(t){return e=>Promise.all(e.map(({animation:n,options:s})=>vG(t,n,s)))}function jG(t){let e=kG(t),n=ZA(),s=!0;const r=c=>(d,u)=>{var f;const h=_f(t,u,c==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:x,...p}=h;d={...d,...p,...x}}return d};function i(c){e=c(t)}function o(c){const{props:d}=t,u=w4(t.parent)||{},h=[],f=new Set;let m={},x=1/0;for(let w=0;w<NG;w++){const b=wG[w],v=n[b],N=d[b]!==void 0?d[b]:u[b],E=Tf(N),T=b===c?v.isActive:null;T===!1&&(x=w);let R=N===u[b]&&N!==d[b]&&E;if(R&&s&&t.manuallyAnimateOnMount&&(R=!1),v.protectedKeys={...m},!v.isActive&&T===null||!N&&!v.prevProp||jx(N)||typeof N=="boolean")continue;const $=SG(v.prevProp,N);let M=$||b===c&&v.isActive&&!R&&E||w>x&&E,L=!1;const U=Array.isArray(N)?N:[N];let z=U.reduce(r(b),{});T===!1&&(z={});const{prevResolvedValues:B={}}=v,D={...B,...z},g=P=>{M=!0,f.has(P)&&(L=!0,f.delete(P)),v.needsAnimating[P]=!0;const S=t.getValue(P);S&&(S.liveStyle=!1)};for(const P in D){const S=z[P],A=B[P];if(m.hasOwnProperty(P))continue;let F=!1;Pw(S)&&Pw(A)?F=!b4(S,A):F=S!==A,F?S!=null?g(P):f.add(P):S!==void 0&&f.has(P)?g(P):v.protectedKeys[P]=!0}v.prevProp=N,v.prevResolvedValues=z,v.isActive&&(m={...m,...z}),s&&t.blockInitialAnimation&&(M=!1),M&&(!(R&&$)||L)&&h.push(...U.map(P=>({animation:P,options:{type:b}})))}if(f.size){const w={};if(typeof d.initial!="boolean"){const b=_f(t,Array.isArray(d.initial)?d.initial[0]:d.initial);b&&b.transition&&(w.transition=b.transition)}f.forEach(b=>{const v=t.getBaseTarget(b),N=t.getValue(b);N&&(N.liveStyle=!0),w[b]=v??null}),h.push({animation:w})}let p=!!h.length;return s&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(p=!1),s=!1,p?e(h):Promise.resolve()}function l(c,d){var h;if(n[c].isActive===d)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(f=>{var m;return(m=f.animationState)==null?void 0:m.setActive(c,d)}),n[c].isActive=d;const u=o(c);for(const f in n)n[f].protectedKeys={};return u}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=ZA(),s=!0}}}function SG(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!b4(e,t):!1}function Tl(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ZA(){return{animate:Tl(!0),whileInView:Tl(),whileHover:Tl(),whileTap:Tl(),whileDrag:Tl(),whileFocus:Tl(),exit:Tl()}}let vl=class{constructor(e){this.isMounted=!1,this.node=e}update(){}},AG=class extends vl{constructor(e){super(e),e.animationState||(e.animationState=jG(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();jx(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}},TG=0,CG=class extends vl{constructor(){super(...arguments),this.id=TG++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}};const EG={animation:{Feature:AG},exit:{Feature:CG}};function If(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}const ak=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function xm(t){return{point:{x:t.pageX,y:t.pageY}}}const _G=t=>e=>ak(e)&&t(e,xm(e));function Bh(t,e,n,s){return If(t,e,_G(n),s)}function N4({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function PG({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function IG(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}const k4=1e-4,RG=1-k4,MG=1+k4,j4=.01,DG=0-j4,$G=0+j4;function Us(t){return t.max-t.min}function OG(t,e,n){return Math.abs(t-e)<=n}function eT(t,e,n,s=.5){t.origin=s,t.originPoint=wn(e.min,e.max,t.origin),t.scale=Us(n)/Us(e),t.translate=wn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=RG&&t.scale<=MG||isNaN(t.scale))&&(t.scale=1),(t.translate>=DG&&t.translate<=$G||isNaN(t.translate))&&(t.translate=0)}function Uh(t,e,n,s){eT(t.x,e.x,n.x,s?s.originX:void 0),eT(t.y,e.y,n.y,s?s.originY:void 0)}function tT(t,e,n){t.min=n.min+e.min,t.max=t.min+Us(e)}function FG(t,e,n){tT(t.x,e.x,n.x),tT(t.y,e.y,n.y)}function nT(t,e,n){t.min=e.min-n.min,t.max=t.min+Us(e)}function Vh(t,e,n){nT(t.x,e.x,n.x),nT(t.y,e.y,n.y)}const sT=()=>({translate:0,scale:1,origin:0,originPoint:0}),fd=()=>({x:sT(),y:sT()}),rT=()=>({min:0,max:0}),Mn=()=>({x:rT(),y:rT()});function Hr(t){return[t("x"),t("y")]}function tv(t){return t===void 0||t===1}function Ww({scale:t,scaleX:e,scaleY:n}){return!tv(t)||!tv(e)||!tv(n)}function $l(t){return Ww(t)||S4(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function S4(t){return iT(t.x)||iT(t.y)}function iT(t){return t&&t!=="0%"}function d0(t,e,n){const s=t-n,r=e*s;return n+r}function aT(t,e,n,s,r){return r!==void 0&&(t=d0(t,r,s)),d0(t,n,s)+e}function qw(t,e=0,n=1,s,r){t.min=aT(t.min,e,n,s,r),t.max=aT(t.max,e,n,s,r)}function A4(t,{x:e,y:n}){qw(t.x,e.translate,e.scale,e.originPoint),qw(t.y,n.translate,n.scale,n.originPoint)}const oT=.999999999999,lT=1.0000000000001;function LG(t,e,n,s=!1){const r=n.length;if(!r)return;e.x=e.y=1;let i,o;for(let l=0;l<r;l++){i=n[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&pd(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,A4(t,o)),s&&$l(i.latestValues)&&pd(t,i.latestValues))}e.x<lT&&e.x>oT&&(e.x=1),e.y<lT&&e.y>oT&&(e.y=1)}function md(t,e){t.min=t.min+e,t.max=t.max+e}function cT(t,e,n,s,r=.5){const i=wn(t.min,t.max,r);qw(t,e,n,i,s)}function pd(t,e){cT(t.x,e.x,e.scaleX,e.scale,e.originX),cT(t.y,e.y,e.scaleY,e.scale,e.originY)}function T4(t,e){return N4(IG(t.getBoundingClientRect(),e))}function BG(t,e,n){const s=T4(t,n),{scroll:r}=e;return r&&(md(s.x,r.offset.x),md(s.y,r.offset.y)),s}const C4=({current:t})=>t?t.ownerDocument.defaultView:null,dT=(t,e)=>Math.abs(t-e);function UG(t,e){const n=dT(t.x,e.x),s=dT(t.y,e.y);return Math.sqrt(n**2+s**2)}let E4=class{constructor(e,n,{transformPagePoint:s,contextWindow:r,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=sv(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=UG(h.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:x}=h,{timestamp:p}=ns;this.history.push({...x,timestamp:p});const{onStart:w,onMove:b}=this.handlers;f||(w&&w(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=nv(f,this.transformPagePoint),Gt.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:m,onSessionEnd:x,resumeAnimation:p}=this.handlers;if(this.dragSnapToOrigin&&p&&p(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=sv(h.type==="pointercancel"?this.lastMoveEventInfo:nv(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,w),x&&x(h,w)},!ak(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=s,this.contextWindow=r||window;const o=xm(e),l=nv(o,this.transformPagePoint),{point:c}=l,{timestamp:d}=ns;this.history=[{...c,timestamp:d}];const{onSessionStart:u}=n;u&&u(e,sv(l,this.history)),this.removeListeners=pm(Bh(this.contextWindow,"pointermove",this.handlePointerMove),Bh(this.contextWindow,"pointerup",this.handlePointerUp),Bh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Di(this.updatePoint)}};function nv(t,e){return e?{point:e(t.point)}:t}function uT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function sv({point:t},e){return{point:t,delta:uT(t,_4(e)),offset:uT(t,VG(e)),velocity:zG(e,.1)}}function VG(t){return t[0]}function _4(t){return t[t.length-1]}function zG(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const r=_4(t);for(;n>=0&&(s=t[n],!(r.timestamp-s.timestamp>la(e)));)n--;if(!s)return{x:0,y:0};const i=ca(r.timestamp-s.timestamp);if(i===0)return{x:0,y:0};const o={x:(r.x-s.x)/i,y:(r.y-s.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function HG(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?wn(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?wn(n,t,s.max):Math.min(t,n)),t}function hT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function WG(t,{top:e,left:n,bottom:s,right:r}){return{x:hT(t.x,n,r),y:hT(t.y,e,s)}}function fT(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function qG(t,e){return{x:fT(t.x,e.x),y:fT(t.y,e.y)}}function KG(t,e){let n=.5;const s=Us(t),r=Us(e);return r>s?n=su(e.min,e.max-s,t.min):s>r&&(n=su(t.min,t.max-r,e.min)),va(0,1,n)}function GG(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Kw=.35;function YG(t=Kw){return t===!1?t=0:t===!0&&(t=Kw),{x:mT(t,"left","right"),y:mT(t,"top","bottom")}}function mT(t,e,n){return{min:pT(t,e),max:pT(t,n)}}function pT(t,e){return typeof t=="number"?t:t[e]||0}const pi={x:!1,y:!1};function P4(){return pi.x||pi.y}function XG(t){return t==="x"||t==="y"?pi[t]?null:(pi[t]=!0,()=>{pi[t]=!1}):pi.x||pi.y?null:(pi.x=pi.y=!0,()=>{pi.x=pi.y=!1})}const JG=new WeakMap;let QG=class{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Mn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const r=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(xm(u).point)},i=(u,h)=>{const{drag:f,dragPropagation:m,onDragStart:x}=this.getProps();if(f&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=XG(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Hr(w=>{let b=this.getAxisMotionValue(w).get()||0;if(oa.test(b)){const{projection:v}=this.visualElement;if(v&&v.layout){const N=v.layout.layoutBox[w];N&&(b=Us(N)*(parseFloat(b)/100))}}this.originPoint[w]=b}),x&&Gt.postRender(()=>x(u,h)),Iw(this.visualElement,"transform");const{animationState:p}=this.visualElement;p&&p.setActive("whileDrag",!0)},o=(u,h)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:x,onDrag:p}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:w}=h;if(m&&this.currentDirection===null){this.currentDirection=ZG(w),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",h.point,w),this.updateAxis("y",h.point,w),this.visualElement.render(),p&&p(u,h)},l=(u,h)=>this.stop(u,h),c=()=>Hr(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)==null?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new E4(e,{onSessionStart:r,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:C4(this.visualElement)})}stop(e,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&Gt.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:r}=this.getProps();if(!s||!ip(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(o=HG(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,r=this.constraints;e&&ud(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=WG(s.layoutBox,e):this.constraints=!1,this.elastic=YG(n),r!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Hr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=GG(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ud(e))return!1;const s=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=BG(s,r.root,this.visualElement.getTransformPagePoint());let o=qG(r.layout.layoutBox,i);if(n){const l=n(PG(o));this.hasMutatedConstraints=!!l,l&&(o=N4(l))}return o}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:r,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=Hr(u=>{if(!ip(u,n,this.currentDirection))return;let h=c&&c[u]||{};o&&(h={min:0,max:0});const f=r?200:1e6,m=r?40:1e7,x={type:"inertia",velocity:s?e[u]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(u,x)});return Promise.all(d).then(l)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return Iw(this.visualElement,e),s.start(ik(e,s,0,n,this.visualElement,!1))}stopAnimation(){Hr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Hr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),r=s[n];return r||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Hr(n=>{const{drag:s}=this.getProps();if(!ip(n,s,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:l}=r.layout.layoutBox[n];i.set(e[n]-wn(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!ud(n)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Hr(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();r[o]=KG({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Hr(o=>{if(!ip(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(wn(c,d,r[o]))})}addListeners(){if(!this.visualElement.current)return;JG.set(this.visualElement,this);const e=this.visualElement.current,n=Bh(e,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();ud(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,i=r.addEventListener("measure",s);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Gt.read(s);const o=If(window,"resize",()=>this.scalePositionWithinConstraints()),l=r.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Hr(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=c[u].translate,h.set(h.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:o=Kw,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:r,dragConstraints:i,dragElastic:o,dragMomentum:l}}};function ip(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function ZG(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}let eY=class extends vl{constructor(e){super(e),this.removeGroupControls=fr,this.removeListeners=fr,this.controls=new QG(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||fr}unmount(){this.removeGroupControls(),this.removeListeners()}};const gT=t=>(e,n)=>{t&&Gt.postRender(()=>t(e,n))};let tY=class extends vl{constructor(){super(...arguments),this.removePointerDownListener=fr}onPointerDown(e){this.session=new E4(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:C4(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:gT(e),onStart:gT(n),onMove:s,onEnd:(i,o)=>{delete this.session,r&&Gt.postRender(()=>r(i,o))}}}mount(){this.removePointerDownListener=Bh(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}};const eg={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function xT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Qu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ht.test(t))t=parseFloat(t);else return t;const n=xT(t,e.target.x),s=xT(t,e.target.y);return`${n}% ${s}%`}},nY={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,r=ll.parse(t);if(r.length>5)return s;const i=ll.createTransformer(t),o=typeof r[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;r[0+o]/=l,r[1+o]/=c;const d=wn(l,c,.5);return typeof r[2+o]=="number"&&(r[2+o]/=d),typeof r[3+o]=="number"&&(r[3+o]/=d),i(r)}};let sY=class extends y.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:r}=this.props,{projection:i}=e;vq(rY),i&&(n.group&&n.group.add(i),s&&s.register&&r&&s.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),eg.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:r,isPresent:i}=this.props,{projection:o}=s;return o&&(o.isPresent=i,r||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Gt.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),MN.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}};function I4(t){const[e,n]=S6(),s=y.useContext(EN);return a.jsx(sY,{...t,layoutGroup:s,switchLayoutGroup:y.useContext(I6),isPresent:e,safeToRemove:n})}const rY={borderRadius:{...Qu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Qu,borderTopRightRadius:Qu,borderBottomLeftRadius:Qu,borderBottomRightRadius:Qu,boxShadow:nY};function iY(t,e,n){const s=Kn(t)?t:ji(t);return s.start(ik("",s,e,n)),s.animation}const aY=(t,e)=>t.depth-e.depth;let oY=class{constructor(){this.children=[],this.isDirty=!1}add(e){zN(this.children,e),this.isDirty=!0}remove(e){HN(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(aY),this.isDirty=!1,this.children.forEach(e)}};function lY(t,e){const n=lr.now(),s=({timestamp:r})=>{const i=r-n;i>=e&&(Di(s),t(i-e))};return Gt.setup(s,!0),()=>Di(s)}const R4=["TopLeft","TopRight","BottomLeft","BottomRight"],cY=R4.length,yT=t=>typeof t=="string"?parseFloat(t):t,vT=t=>typeof t=="number"||ht.test(t);function dY(t,e,n,s,r,i){r?(t.opacity=wn(0,n.opacity??1,uY(s)),t.opacityExit=wn(e.opacity??1,0,hY(s))):i&&(t.opacity=wn(e.opacity??1,n.opacity??1,s));for(let o=0;o<cY;o++){const l=`border${R4[o]}Radius`;let c=bT(e,l),d=bT(n,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||vT(c)===vT(d)?(t[l]=Math.max(wn(yT(c),yT(d),s),0),(oa.test(d)||oa.test(c))&&(t[l]+="%")):t[l]=d}(e.rotate||n.rotate)&&(t.rotate=wn(e.rotate||0,n.rotate||0,s))}function bT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const uY=M4(0,.5,o4),hY=M4(.5,.95,fr);function M4(t,e,n){return s=>s<t?0:s>e?1:n(su(t,e,s))}function wT(t,e){t.min=e.min,t.max=e.max}function $r(t,e){wT(t.x,e.x),wT(t.y,e.y)}function NT(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function kT(t,e,n,s,r){return t-=e,t=d0(t,1/n,s),r!==void 0&&(t=d0(t,1/r,s)),t}function fY(t,e=0,n=1,s=.5,r,i=t,o=t){if(oa.test(e)&&(e=parseFloat(e),e=wn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=wn(i.min,i.max,s);t===i&&(l-=e),t.min=kT(t.min,e,n,l,r),t.max=kT(t.max,e,n,l,r)}function jT(t,e,[n,s,r],i,o){fY(t,e[n],e[s],e[r],e.scale,i,o)}const mY=["x","scaleX","originX"],pY=["y","scaleY","originY"];function ST(t,e,n,s){jT(t.x,e,mY,n?n.x:void 0,s?s.x:void 0),jT(t.y,e,pY,n?n.y:void 0,s?s.y:void 0)}function AT(t){return t.translate===0&&t.scale===1}function D4(t){return AT(t.x)&&AT(t.y)}function TT(t,e){return t.min===e.min&&t.max===e.max}function gY(t,e){return TT(t.x,e.x)&&TT(t.y,e.y)}function CT(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function $4(t,e){return CT(t.x,e.x)&&CT(t.y,e.y)}function ET(t){return Us(t.x)/Us(t.y)}function _T(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}let xY=class{constructor(){this.members=[]}add(e){zN(this.members,e),e.scheduleRender()}remove(e){if(HN(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let s;for(let r=n;r>=0;r--){const i=this.members[r];if(i.isPresent!==!1){s=i;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}};function yY(t,e,n){let s="";const r=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((r||i||o)&&(s=`translate3d(${r}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:u,rotateX:h,rotateY:f,skewX:m,skewY:x}=n;d&&(s=`perspective(${d}px) ${s}`),u&&(s+=`rotate(${u}deg) `),h&&(s+=`rotateX(${h}deg) `),f&&(s+=`rotateY(${f}deg) `),m&&(s+=`skewX(${m}deg) `),x&&(s+=`skewY(${x}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(s+=`scale(${l}, ${c})`),s||"none"}function ok(t){return j6(t)&&"ownerSVGElement"in t}function vY(t){return ok(t)&&t.tagName==="svg"}const rv=["","X","Y","Z"],bY={visibility:"hidden"},wY=1e3;let NY=0;function iv(t,e,n,s){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),s&&(s[t]=0))}function O4(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=z6(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Gt,!(r||i))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&O4(s)}function F4({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(o={},l=e==null?void 0:e()){this.id=NY++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(SY),this.nodes.forEach(_Y),this.nodes.forEach(PY),this.nodes.forEach(AY)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new oY)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new WN),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=ok(o)&&!vY(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let u;const h=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,u&&u(),u=lY(h,250),eg.hasAnimatedSinceResize&&(eg.hasAnimatedSinceResize=!1,this.nodes.forEach(IT))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||$Y,{onLayoutAnimationStart:p,onLayoutAnimationComplete:w}=d.getProps(),b=!this.targetLayout||!$4(this.targetLayout,m),v=!h&&f;if(this.options.layoutRoot||this.resumeFrom||v||h&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(u,v);const N={...KN(x,"layout"),onPlay:p,onComplete:w};(d.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else h||IT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Di(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(IY),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&O4(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(PT);return}this.isUpdating||this.nodes.forEach(CY),this.isUpdating=!1,this.nodes.forEach(EY),this.nodes.forEach(kY),this.nodes.forEach(jY),this.clearAllSnapshots();const l=lr.now();ns.delta=va(0,1e3/60,l-ns.timestamp),ns.timestamp=l,ns.isProcessing=!0,Xy.update.process(ns),Xy.preRender.process(ns),Xy.render.process(ns),ns.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,MN.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(TY),this.sharedNodes.forEach(RY)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Gt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Gt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Us(this.snapshot.measuredBox.x)&&!Us(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Mn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!D4(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||$l(this.latestValues)||u)&&(r(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),OY(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return Mn();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(FY))){const{scroll:u}=this.root;u&&(md(l.x,u.offset.x),md(l.y,u.offset.y))}return l}removeElementScroll(o){var c;const l=Mn();if($r(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:h,options:f}=u;u!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&$r(l,o),md(l.x,h.offset.x),md(l.y,h.offset.y))}return l}applyTransform(o,l=!1){const c=Mn();$r(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&pd(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),$l(u.latestValues)&&pd(c,u.latestValues)}return $l(this.latestValues)&&pd(c,this.latestValues),c}removeTransform(o){const l=Mn();$r(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!$l(d.latestValues))continue;Ww(d.latestValues)&&d.updateSnapshot();const u=Mn(),h=d.measurePageBox();$r(u,h),ST(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return $l(this.latestValues)&&ST(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ns.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:h}=this.options;if(!(!this.layout||!(u||h))){if(this.resolvedRelativeTargetAt=ns.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Mn(),this.relativeTargetOrigin=Mn(),Vh(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),$r(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Mn(),this.targetWithTransforms=Mn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),FG(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):$r(this.target,this.layout.layoutBox),A4(this.target,this.targetDelta)):$r(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Mn(),this.relativeTargetOrigin=Mn(),Vh(this.relativeTargetOrigin,this.target,m.target),$r(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Ww(this.parent.latestValues)||S4(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var x;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ns.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;$r(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;LG(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Mn());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(NT(this.prevProjectionDelta.x,this.projectionDelta.x),NT(this.prevProjectionDelta.y,this.projectionDelta.y)),Uh(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!_T(this.projectionDelta.x,this.prevProjectionDelta.x)||!_T(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=fd(),this.projectionDelta=fd(),this.projectionDeltaWithTransform=fd()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},h=fd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=Mn(),m=c?c.source:void 0,x=this.layout?this.layout.source:void 0,p=m!==x,w=this.getStack(),b=!w||w.members.length<=1,v=!!(p&&!b&&this.options.crossfade===!0&&!this.path.some(DY));this.animationProgress=0;let N;this.mixTargetDelta=E=>{const T=E/1e3;RT(h.x,o.x,T),RT(h.y,o.y,T),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Vh(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),MY(this.relativeTarget,this.relativeTargetOrigin,f,T),N&&gY(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=Mn()),$r(N,this.relativeTarget)),p&&(this.animationValues=u,dY(u,d,this.latestValues,T,v,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(!1),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(!1),this.pendingAnimation&&(Di(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Gt.update(()=>{eg.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ji(0)),this.currentAnimation=iY(this.motionValue,[0,1e3],{...o,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(wY),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&L4(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Mn();const h=Us(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=Us(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}$r(l,c),pd(l,u),Uh(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new xY),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&iv("z",o,d,this.animationValues);for(let u=0;u<rv.length;u++)iv(`rotate${rv[u]}`,o,d,this.animationValues),iv(`skew${rv[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return bY;const l={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=Qp(o==null?void 0:o.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none",l;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=Qp(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!$l(this.latestValues)&&(m.transform=c?c({},""):"none",this.hasProjected=!1),m}const u=d.animationValues||d.latestValues;this.applyTransformsToTarget(),l.transform=yY(this.projectionDeltaWithTransform,this.treeScale,u),c&&(l.transform=c(u,l.transform));const{x:h,y:f}=this.projectionDelta;l.transformOrigin=`${h.origin*100}% ${f.origin*100}% 0`,d.animationValues?l.opacity=d===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:l.opacity=d===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const m in Cf){if(u[m]===void 0)continue;const{correct:x,applyTo:p,isCSSVariable:w}=Cf[m],b=l.transform==="none"?u[m]:x(u[m],d);if(p){const v=p.length;for(let N=0;N<v;N++)l[p[N]]=b}else w?this.options.visualElement.renderState.vars[m]=b:l[m]=b}return this.options.layoutId&&(l.pointerEvents=d===this?Qp(o==null?void 0:o.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop(!1)}),this.root.nodes.forEach(PT),this.root.sharedNodes.clear()}}}function kY(t){t.updateLayout()}function jY(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?Hr(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],m=Us(f);f.min=s[h].min,f.max=f.min+m}):L4(i,e.layoutBox,s)&&Hr(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],m=Us(s[h]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const l=fd();Uh(l,s,e.layoutBox);const c=fd();o?Uh(c,t.applyTransform(r,!0),e.measuredBox):Uh(c,s,e.layoutBox);const d=!D4(l);let u=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const x=Mn();Vh(x,e.layoutBox,f.layoutBox);const p=Mn();Vh(p,s,m.layoutBox),$4(x,p)||(u=!0),h.options.layoutRoot&&(t.relativeTarget=p,t.relativeTargetOrigin=x,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function SY(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function AY(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function TY(t){t.clearSnapshot()}function PT(t){t.clearMeasurements()}function CY(t){t.isLayoutDirty=!1}function EY(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function IT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function _Y(t){t.resolveTargetDelta()}function PY(t){t.calcProjection()}function IY(t){t.resetSkewAndRotation()}function RY(t){t.removeLeadSnapshot()}function RT(t,e,n){t.translate=wn(e.translate,0,n),t.scale=wn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function MT(t,e,n,s){t.min=wn(e.min,n.min,s),t.max=wn(e.max,n.max,s)}function MY(t,e,n,s){MT(t.x,e.x,n.x,s),MT(t.y,e.y,n.y,s)}function DY(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const $Y={duration:.45,ease:[.4,0,.1,1]},DT=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),$T=DT("applewebkit/")&&!DT("chrome/")?Math.round:fr;function OT(t){t.min=$T(t.min),t.max=$T(t.max)}function OY(t){OT(t.x),OT(t.y)}function L4(t,e,n){return t==="position"||t==="preserve-aspect"&&!OG(ET(e),ET(n),.2)}function FY(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const LY=F4({attachResizeListener:(t,e)=>If(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),av={current:void 0},B4=F4({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!av.current){const t=new LY({});t.mount(window),t.setOptions({layoutScroll:!0}),av.current=t}return av.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),BY={pan:{Feature:tY},drag:{Feature:eY,ProjectionNode:B4,MeasureLayout:I4}};function U4(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const r=document.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t)}function V4(t,e){const n=U4(t),s=new AbortController,r={passive:!0,...e,signal:s.signal};return[n,r,()=>s.abort()]}function FT(t){return!(t.pointerType==="touch"||P4())}function UY(t,e,n={}){const[s,r,i]=V4(t,n),o=l=>{if(!FT(l))return;const{target:c}=l,d=e(c,l);if(typeof d!="function"||!c)return;const u=h=>{FT(h)&&(d(h),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,r)};return s.forEach(l=>{l.addEventListener("pointerenter",o,r)}),i}function LT(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,i=s[r];i&&Gt.postRender(()=>i(e,xm(e)))}let VY=class extends vl{mount(){const{current:e}=this.node;e&&(this.unmount=UY(e,(n,s)=>(LT(this.node,s,"Start"),r=>LT(this.node,r,"End"))))}unmount(){}},zY=class extends vl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pm(If(this.node.current,"focus",()=>this.onFocus()),If(this.node.current,"blur",()=>this.onBlur()))}unmount(){}};const z4=(t,e)=>e?t===e?!0:z4(t,e.parentElement):!1,HY=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function WY(t){return HY.has(t.tagName)||t.tabIndex!==-1}const tg=new WeakSet;function BT(t){return e=>{e.key==="Enter"&&t(e)}}function ov(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const qY=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=BT(()=>{if(tg.has(n))return;ov(n,"down");const r=BT(()=>{ov(n,"up")}),i=()=>ov(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function UT(t){return ak(t)&&!P4()}function KY(t,e,n={}){const[s,r,i]=V4(t,n),o=l=>{const c=l.currentTarget;if(!UT(l))return;tg.add(c);const d=e(c,l),u=(m,x)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),tg.has(c)&&tg.delete(c),UT(m)&&typeof d=="function"&&d(m,{success:x})},h=m=>{u(m,c===window||c===document||n.useGlobalTarget||z4(c,m.target))},f=m=>{u(m,!1)};window.addEventListener("pointerup",h,r),window.addEventListener("pointercancel",f,r)};return s.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,r),Nx(l)&&(l.addEventListener("focus",d=>qY(d,r)),!WY(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function VT(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),i=s[r];i&&Gt.postRender(()=>i(e,xm(e)))}let GY=class extends vl{mount(){const{current:e}=this.node;e&&(this.unmount=KY(e,(n,s)=>(VT(this.node,s,"Start"),(r,{success:i})=>VT(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}};const Gw=new WeakMap,lv=new WeakMap,YY=t=>{const e=Gw.get(t.target);e&&e(t)},XY=t=>{t.forEach(YY)};function JY({root:t,...e}){const n=t||document;lv.has(n)||lv.set(n,{});const s=lv.get(n),r=JSON.stringify(e);return s[r]||(s[r]=new IntersectionObserver(XY,{root:t,...e})),s[r]}function QY(t,e,n){const s=JY(e);return Gw.set(t,n),s.observe(t),()=>{Gw.delete(t),s.unobserve(t)}}const ZY={some:0,all:1};let eX=class extends vl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:r="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:ZY[r]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),f=d?u:h;f&&f(c)};return QY(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(tX(e,n))&&this.startObserver()}unmount(){}};function tX({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const nX={inView:{Feature:eX},tap:{Feature:GY},focus:{Feature:zY},hover:{Feature:VY}},sX={layout:{ProjectionNode:B4,MeasureLayout:I4}},Yw={current:null},H4={current:!1};function rX(){if(H4.current=!0,!!_N)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Yw.current=t.matches;t.addListener(e),e()}else Yw.current=!1}const iX=new WeakMap;function aX(t,e,n){for(const s in e){const r=e[s],i=n[s];if(Kn(r))t.addValue(s,r);else if(Kn(i))t.addValue(s,ji(r,{owner:t}));else if(i!==r)if(t.hasValue(s)){const o=t.getValue(s);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=t.getStaticValue(s);t.addValue(s,ji(o!==void 0?o:r,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const W4=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),q4=t=>/^0[^.\s]+$/u.test(t),oX={test:t=>t==="auto",parse:t=>t},K4=t=>e=>e.test(t),G4=[Tu,ht,oa,bo,wq,bq,oX],zT=t=>G4.find(K4(t)),lX=[...G4,ws,ll],cX=t=>lX.find(K4(t)),dX=new Set(["brightness","contrast","saturate","opacity"]);function uX(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(GN)||[];if(!s)return t;const r=n.replace(s,"");let i=dX.has(e)?1:0;return s!==n&&(i*=100),e+"("+i+r+")"}const hX=/\b([a-z-]*)\(.*?\)/gu,Xw={...ll,getAnimatableNone:t=>{const e=t.match(hX);return e?e.map(uX).join(" "):t}},fX={...ON,color:ws,backgroundColor:ws,outlineColor:ws,fill:ws,stroke:ws,borderColor:ws,borderTopColor:ws,borderRightColor:ws,borderBottomColor:ws,borderLeftColor:ws,filter:Xw,WebkitFilter:Xw},Y4=t=>fX[t];function X4(t,e){let n=Y4(t);return n!==Xw&&(n=ll),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const HT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let mX=class{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:r,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=sk,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=lr.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Gt.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Sx(n),this.isVariantNode=_6(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const m=h[f];c[f]!==void 0&&Kn(m)&&m.set(c[f],!1)}}mount(e){this.current=e,iX.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),H4.current||rX(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Yw.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Di(this.notifyUpdate),Di(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Au.has(e);s&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&Gt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in nu){const n=nu[e];if(!n)continue;const{isEnabled:s,Feature:r}=n;if(!this.features[e]&&r&&s(this.props)&&(this.features[e]=new r(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Mn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<HT.length;s++){const r=HT[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const i="on"+r,o=e[i];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=aX(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=ji(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(W4(s)||q4(s))?s=parseFloat(s):!cX(s)&&ll.test(n)&&(s=X4(e,n)),this.setBaseTarget(e,Kn(s)?s.get():s)),Kn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const o=UN(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(s=o[e])}if(n&&s!==void 0)return s;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!Kn(r)?r:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new WN),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}};const pX=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function gX(t){const e=pX.exec(t);if(!e)return[,];const[,n,s,r]=e;return[`--${n??s}`,r]}function J4(t,e,n=1){const[s,r]=gX(t);if(!s)return;const i=window.getComputedStyle(e).getPropertyValue(s);if(i){const o=i.trim();return W4(o)?parseFloat(o):o}return $N(r)?J4(r,e,n+1):r}function xX(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||q4(t):!0}const yX=new Set(["auto","none","0"]);function vX(t,e,n){let s=0,r;for(;s<t.length&&!r;){const i=t[s];typeof i=="string"&&!yX.has(i)&&Pf(i).values.length&&(r=t[s]),s++}if(r&&n)for(const i of e)t[i]=X4(n,r)}let bX=class extends sk{constructor(e,n,s,r,i){super(e,n,s,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),$N(d))){const u=J4(d,n.current);u!==void 0&&(e[c]=u),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!y4.has(s)||e.length!==2)return;const[r,i]=e,o=zT(r),l=zT(i);if(o!==l)if(YA(o)&&YA(l))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else rc[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let r=0;r<e.length;r++)(e[r]===null||xX(e[r]))&&s.push(r);s.length&&vX(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=rc[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(s,r).jump(r,!1)}measureEndState(){var l;const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const r=e.getValue(n);r&&r.jump(this.measuredOrigin,!1);const i=s.length-1,o=s[i];s[i]=rc[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}},Q4=class extends mX{constructor(){super(...arguments),this.KeyframeResolver=bX}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Kn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}};function Z4(t,{style:e,vars:n},s,r){Object.assign(t.style,e,r&&r.getProjectionStyles(s));for(const i in n)t.style.setProperty(i,n[i])}function wX(t){return window.getComputedStyle(t)}let NX=class extends Q4{constructor(){super(...arguments),this.type="html",this.renderInstance=Z4}readValueFromInstance(e,n){var s;if(Au.has(n))return(s=this.projection)!=null&&s.isProjecting?Lw(n):KK(e,n);{const r=wX(e),i=(DN(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return T4(e,n)}build(e,n,s){FN(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return VN(e,n,s)}};const e3=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function kX(t,e,n,s){Z4(t,e,void 0,s);for(const r in e.attrs)t.setAttribute(e3.has(r)?r:RN(r),e.attrs[r])}let jX=class extends Q4{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Mn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Au.has(n)){const s=Y4(n);return s&&s.default||0}return n=e3.has(n)?n:RN(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return V6(e,n,s)}build(e,n,s){F6(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,r){kX(e,n,s,r)}mount(e){this.isSVGTag=B6(e.tagName),super.mount(e)}};const SX=(t,e)=>BN(t)?new jX(e):new NX(e,{allowProjection:t!==y.Fragment}),AX=Lq({...EG,...nX,...BY,...sX},SX),Vs=rq(AX);function TX(t,e,n){y.useInsertionEffect(()=>t.on(e,n),[t,e,n])}const ng=new WeakMap;let wo;function CX(t,e){if(e){const{inlineSize:n,blockSize:s}=e[0];return{width:n,height:s}}else return ok(t)&&"getBBox"in t?t.getBBox():{width:t.offsetWidth,height:t.offsetHeight}}function EX({target:t,contentRect:e,borderBoxSize:n}){var s;(s=ng.get(t))==null||s.forEach(r=>{r({target:t,contentSize:e,get size(){return CX(t,n)}})})}function _X(t){t.forEach(EX)}function PX(){typeof ResizeObserver>"u"||(wo=new ResizeObserver(_X))}function IX(t,e){wo||PX();const n=U4(t);return n.forEach(s=>{let r=ng.get(s);r||(r=new Set,ng.set(s,r)),r.add(e),wo==null||wo.observe(s)}),()=>{n.forEach(s=>{const r=ng.get(s);r==null||r.delete(e),r!=null&&r.size||wo==null||wo.unobserve(s)})}}const sg=new Set;let zh;function RX(){zh=()=>{const t={width:window.innerWidth,height:window.innerHeight},e={target:window,size:t,contentSize:t};sg.forEach(n=>n(e))},window.addEventListener("resize",zh)}function MX(t){return sg.add(t),zh||RX(),()=>{sg.delete(t),!sg.size&&zh&&(zh=void 0)}}function DX(t,e){return typeof t=="function"?MX(t):IX(t,e)}const $X=50,WT=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),OX=()=>({time:0,x:WT(),y:WT()}),FX={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function qT(t,e,n,s){const r=n[e],{length:i,position:o}=FX[e],l=r.current,c=n.time;r.current=t[`scroll${o}`],r.scrollLength=t[`scroll${i}`]-t[`client${i}`],r.offset.length=0,r.offset[0]=0,r.offset[1]=r.scrollLength,r.progress=su(0,r.scrollLength,r.current);const d=s-c;r.velocity=d>$X?0:qN(r.current-l,d)}function LX(t,e,n){qT(t,"x",e,n),qT(t,"y",e,n),e.time=n}function BX(t,e){const n={x:0,y:0};let s=t;for(;s&&s!==e;)if(Nx(s))n.x+=s.offsetLeft,n.y+=s.offsetTop,s=s.offsetParent;else if(s.tagName==="svg"){const r=s.getBoundingClientRect();s=s.parentElement;const i=s.getBoundingClientRect();n.x+=r.left-i.left,n.y+=r.top-i.top}else if(s instanceof SVGGraphicsElement){const{x:r,y:i}=s.getBBox();n.x+=r,n.y+=i;let o=null,l=s.parentNode;for(;!o;)l.tagName==="svg"&&(o=l),l=s.parentNode;s=o}else break;return n}const Jw={start:0,center:.5,end:1};function KT(t,e,n=0){let s=0;if(t in Jw&&(t=Jw[t]),typeof t=="string"){const r=parseFloat(t);t.endsWith("px")?s=r:t.endsWith("%")?t=r/100:t.endsWith("vw")?s=r/100*document.documentElement.clientWidth:t.endsWith("vh")?s=r/100*document.documentElement.clientHeight:t=r}return typeof t=="number"&&(s=e*t),n+s}const UX=[0,0];function VX(t,e,n,s){let r=Array.isArray(t)?t:UX,i=0,o=0;return typeof t=="number"?r=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?r=t.split(" "):r=[t,Jw[t]?t:"0"]),i=KT(r[0],n,s),o=KT(r[1],e),i-o}const zX={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},HX={x:0,y:0};function WX(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function qX(t,e,n){const{offset:s=zX.All}=n,{target:r=t,axis:i="y"}=n,o=i==="y"?"height":"width",l=r!==t?BX(r,t):HX,c=r===t?{width:t.scrollWidth,height:t.scrollHeight}:WX(r),d={width:t.clientWidth,height:t.clientHeight};e[i].offset.length=0;let u=!e[i].interpolate;const h=s.length;for(let f=0;f<h;f++){const m=VX(s[f],d[o],c[o],l[i]);!u&&m!==e[i].interpolatorOffsets[f]&&(u=!0),e[i].offset[f]=m}u&&(e[i].interpolate=QN(e[i].offset,Z6(s),{clamp:!1}),e[i].interpolatorOffsets=[...e[i].offset]),e[i].progress=va(0,1,e[i].interpolate(e[i].current))}function KX(t,e=t,n){if(n.x.targetOffset=0,n.y.targetOffset=0,e!==t){let s=e;for(;s&&s!==t;)n.x.targetOffset+=s.offsetLeft,n.y.targetOffset+=s.offsetTop,s=s.offsetParent}n.x.targetLength=e===t?e.scrollWidth:e.clientWidth,n.y.targetLength=e===t?e.scrollHeight:e.clientHeight,n.x.containerLength=t.clientWidth,n.y.containerLength=t.clientHeight}function GX(t,e,n,s={}){return{measure:()=>KX(t,s.target,n),update:r=>{LX(t,n,r),(s.offset||s.target)&&qX(t,n,s)},notify:()=>e(n)}}const Zu=new WeakMap,GT=new WeakMap,cv=new WeakMap,YT=t=>t===document.scrollingElement?window:t;function t3(t,{container:e=document.scrollingElement,...n}={}){if(!e)return fr;let s=cv.get(e);s||(s=new Set,cv.set(e,s));const r=OX(),i=GX(e,t,r,n);if(s.add(i),!Zu.has(e)){const l=()=>{for(const f of s)f.measure()},c=()=>{for(const f of s)f.update(ns.timestamp)},d=()=>{for(const f of s)f.notify()},u=()=>{Gt.read(l),Gt.read(c),Gt.preUpdate(d)};Zu.set(e,u);const h=YT(e);window.addEventListener("resize",u,{passive:!0}),e!==document.documentElement&&GT.set(e,DX(e,u)),h.addEventListener("scroll",u,{passive:!0}),u()}const o=Zu.get(e);return Gt.read(o,!1,!0),()=>{var d;Di(o);const l=cv.get(e);if(!l||(l.delete(i),l.size))return;const c=Zu.get(e);Zu.delete(e),c&&(YT(e).removeEventListener("scroll",c),(d=GT.get(e))==null||d(),window.removeEventListener("resize",c))}}const XT=new Map;function YX(t){const e={value:0},n=t3(s=>{e.value=s[t.axis].progress*100},t);return{currentTime:e,cancel:n}}function n3({source:t,container:e,...n}){const{axis:s}=n;t&&(e=t);const r=XT.get(e)??new Map;XT.set(e,r);const i=n.target??"self",o=r.get(i)??{},l=s+(n.offset??[]).join(",");return o[l]||(o[l]=!n.target&&f4()?new ScrollTimeline({source:e,axis:s}):YX({container:e,...n})),o[l]}function s3(t,e){let n;const s=()=>{const{currentTime:r}=e,o=(r===null?0:r.value)/100;n!==o&&t(o),n=o};return Gt.preUpdate(s,!0),()=>Di(s)}function XX(t,e){const n=n3(e);return t.attachTimeline({timeline:e.target?void 0:n,observe:s=>(s.pause(),s3(r=>{s.time=s.duration*r},n))})}function JX(t){return t.length===2}function QX(t,e){return JX(t)?t3(n=>{t(n[e.axis].progress,n)},e):s3(t,n3(e))}function ZX(t,{axis:e="y",container:n=document.scrollingElement,...s}={}){if(!n)return fr;const r={axis:e,container:n,...s};return typeof t=="function"?QX(t,r):XX(t,r)}function JT(t,e){hq(!!(!e||e.current))}const eJ=()=>({scrollX:ji(0),scrollY:ji(0),scrollXProgress:ji(0),scrollYProgress:ji(0)});function r3({container:t,target:e,layoutEffect:n=!0,...s}={}){const r=ju(eJ);return(n?bx:y.useEffect)(()=>(JT("target",e),JT("container",t),ZX((o,{x:l,y:c})=>{r.scrollX.set(l.current),r.scrollXProgress.set(l.progress),r.scrollY.set(c.current),r.scrollYProgress.set(c.progress)},{...s,container:(t==null?void 0:t.current)||void 0,target:(e==null?void 0:e.current)||void 0})),[t,e,JSON.stringify(s.offset)]),r}function u0(t){const e=ju(()=>ji(t)),{isStatic:n}=y.useContext(fm);if(n){const[,s]=y.useState(t);y.useEffect(()=>e.on("change",s),[])}return e}function lk(t,e){const n=u0(e()),s=()=>n.set(e());return s(),bx(()=>{const r=()=>Gt.preRender(s,!1,!0),i=t.map(o=>o.on("change",r));return()=>{i.forEach(o=>o()),Di(s)}}),n}function tJ(t,...e){const n=t.length;function s(){let r="";for(let i=0;i<n;i++){r+=t[i];const o=e[i];o&&(r+=Kn(o)?o.get():o)}return r}return lk(e.filter(Kn),s)}function nJ(t){Oh.current=[],t();const e=lk(Oh.current,t);return Oh.current=void 0,e}function sJ(...t){const e=!Array.isArray(t[0]),n=e?0:-1,s=t[0+n],r=t[1+n],i=t[2+n],o=t[3+n],l=QN(r,i,o);return e?l(s):l}function Ol(t,e,n,s){if(typeof t=="function")return nJ(t);const r=typeof e=="function"?e:sJ(e,n,s);return Array.isArray(t)?QT(t,r):QT([t],([i])=>r(i))}function QT(t,e){const n=ju(()=>[]);return lk(t,()=>{n.length=0;const s=t.length;for(let r=0;r<s;r++)n[r]=t[r].get();return e(n)})}function rJ(t,e,n){const s=t.get();let r=null,i=s,o;const l=typeof s=="string"?s.replace(/[\d.-]/g,""):void 0,c=()=>{r&&(r.stop(),r=null)},d=()=>{c(),r=new Ax({keyframes:[eC(t.get()),eC(i)],velocity:t.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...n,onUpdate:o})};t.attach((h,f)=>(i=h,o=m=>f(ZT(m,l)),Gt.postRender(d),t.get()),c);let u;return Kn(e)&&(u=e.on("change",h=>t.set(ZT(h,l))),t.on("destroy",u)),u}function ZT(t,e){return e?t+e:t}function eC(t){return typeof t=="number"?t:parseFloat(t)}function Yi(t,e={}){const{isStatic:n}=y.useContext(fm),s=()=>Kn(t)?t.get():t;if(n)return Ol(s);const r=u0(s());return y.useInsertionEffect(()=>rJ(r,t,e),[r,JSON.stringify(e)]),r}const i3=({navItems:t,className:e})=>{const n=yl(),{scrollYProgress:s}=r3(),[r,i]=y.useState(!0);return TX(s,"change",o=>{if(typeof o=="number"){let l=o-s.getPrevious();s.get()<.05||l<0?i(!0):i(!1)}}),a.jsx(A6,{mode:"wait",children:a.jsxs(Vs.div,{initial:{opacity:1,y:-100},animate:{y:r?0:-100,opacity:r?1:0},transition:{duration:.2},className:rt("flex max-w-fit  fixed top-10 inset-x-0 mx-auto border border-transparent dark:border-white/[0.2] rounded-full dark:bg-black bg-white shadow-[0px_2px_3px_-1px_rgba(0,0,0,0.1),0px_1px_0px_0px_rgba(25,28,33,0.02),0px_0px_0px_1px_rgba(25,28,33,0.08)] z-[5000] pr-2 pl-8 py-2  items-center justify-center space-x-4",e),children:[t.map((o,l)=>a.jsxs("a",{href:o.link,className:rt("relative dark:text-neutral-50 items-center flex space-x-1 text-neutral-600 dark:hover:text-neutral-300 hover:text-neutral-500"),children:[a.jsx("span",{className:"block sm:hidden",children:o.icon}),a.jsx("span",{className:"hidden sm:block text-sm",children:o.name})]},`link=${l}`)),"        ",a.jsxs("button",{onClick:()=>n("/marketplace"),className:"border text-sm font-medium relative border-neutral-200 dark:border-white/[0.2] text-black dark:text-white px-4 py-2 rounded-full hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-colors",children:[a.jsx("span",{children:"Marketplace"}),a.jsx("span",{className:"absolute inset-x-0 w-1/2 mx-auto -bottom-px bg-gradient-to-r from-transparent via-blue-500 to-transparent  h-px"})]})]})})};/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var iJ={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=(t,e,n,s)=>{const r=y.forwardRef(({color:i="currentColor",size:o=24,stroke:l=2,title:c,className:d,children:u,...h},f)=>y.createElement("svg",{ref:f,...iJ[t],width:o,height:o,className:["tabler-icon",`tabler-icon-${e}`,d].join(" "),strokeWidth:l,stroke:i,...h},[c&&y.createElement("title",{key:"svg-title"},c),...s.map(([m,x])=>y.createElement(m,x)),...Array.isArray(u)?u:[u]]));return r.displayName=`${n}`,r};/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var aJ=uo("outline","coin","IconCoin",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M14.8 9a2 2 0 0 0 -1.8 -1h-2a2 2 0 1 0 0 4h2a2 2 0 1 1 0 4h-2a2 2 0 0 1 -1.8 -1",key:"svg-1"}],["path",{d:"M12 7v10",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var oJ=uo("outline","globe","IconGlobe",[["path",{d:"M7 9a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M5.75 15a8.015 8.015 0 1 0 9.25 -13",key:"svg-1"}],["path",{d:"M11 17v4",key:"svg-2"}],["path",{d:"M7 21h8",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var a3=uo("outline","home","IconHome",[["path",{d:"M5 12l-2 0l9 -9l9 9l-2 0",key:"svg-0"}],["path",{d:"M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7",key:"svg-1"}],["path",{d:"M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var lJ=uo("outline","lock","IconLock",[["path",{d:"M5 13a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v6a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-6z",key:"svg-0"}],["path",{d:"M11 16a1 1 0 1 0 2 0a1 1 0 0 0 -2 0",key:"svg-1"}],["path",{d:"M8 11v-4a4 4 0 1 1 8 0v4",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var o3=uo("outline","message","IconMessage",[["path",{d:"M8 9h8",key:"svg-0"}],["path",{d:"M8 13h6",key:"svg-1"}],["path",{d:"M18 4a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-5l-5 3v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12z",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var cJ=uo("outline","shield","IconShield",[["path",{d:"M12 3a12 12 0 0 0 8.5 3a12 12 0 0 1 -8.5 15a12 12 0 0 1 -8.5 -15a12 12 0 0 0 8.5 -3",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var dJ=uo("outline","trending-up","IconTrendingUp",[["path",{d:"M3 17l6 -6l4 4l8 -8",key:"svg-0"}],["path",{d:"M14 7l7 0l0 7",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var l3=uo("outline","user","IconUser",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var uJ=uo("outline","users","IconUsers",[["path",{d:"M9 7m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-0"}],["path",{d:"M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"svg-2"}],["path",{d:"M21 21v-2a4 4 0 0 0 -3 -3.85",key:"svg-3"}]]);const hJ="modulepreload",fJ=function(t){return"/"+t},tC={},wt=function(e,n,s){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(n.map(c=>{if(c=fJ(c),c in tC)return;tC[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":hJ,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return r.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},Rd=()=>{const t=[{name:"Home",link:"/",icon:a.jsx(a3,{className:"h-4 w-4 text-neutral-500 dark:text-white"})},{name:"About",link:"/about",icon:a.jsx(l3,{className:"h-4 w-4 text-neutral-500 dark:text-white"})},{name:"Tokenize",link:"/issuer",icon:a.jsx(o3,{className:"h-4 w-4 text-neutral-500 dark:text-white"})}];return window.location.pathname!=="/"?null:a.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-black/50 backdrop-blur-sm",children:a.jsx("div",{className:"container mx-auto",children:a.jsx(i3,{navItems:t})})})},mJ=t=>{y.useEffect(()=>{if(!t.current)return;const e=new ResizeObserver(()=>{window.requestAnimationFrame(()=>{window.dispatchEvent(new Event("resize"))})});return e.observe(t.current),()=>e.disconnect()},[t])},pJ=({products:t})=>{const e=t.slice(0,5),n=t.slice(5,10),s=t.slice(10,15),r=Pe.useRef(null);mJ(r);const{scrollYProgress:i}=r3({target:r,offset:["start start","end start"]}),o={stiffness:70,damping:30,mass:.5,restDelta:.001,restSpeed:.001,bounce:0},l=Yi(Ol(i,[0,1],[0,500]),o),c=Yi(Ol(i,[0,1],[0,-500]),o),d=Yi(Ol(i,[0,.3],[10,0]),o),u=Yi(Ol(i,[0,.3],[.3,1]),o),h=Yi(Ol(i,[0,.3],[5,0]),o),f=Yi(Ol(i,[0,.2],[-700,500]),o);return a.jsxs("div",{ref:r,className:"h-[300vh] py-40 overflow-hidden antialiased relative flex flex-col self-auto [perspective:1000px] [transform-style:preserve-3d] will-change-transform",children:[a.jsx(gJ,{}),a.jsxs(Vs.div,{style:{rotateX:d,rotateZ:h,translateY:f,opacity:u},className:"will-change-transform",children:[a.jsx(Vs.div,{className:"flex flex-row-reverse space-x-reverse space-x-20 mb-20",children:e.map(m=>a.jsx(dv,{product:m,translate:l},m.title))}),a.jsx(Vs.div,{className:"flex flex-row mb-20 space-x-20",children:n.map(m=>a.jsx(dv,{product:m,translate:c},m.title))}),a.jsx(Vs.div,{className:"flex flex-row-reverse space-x-reverse space-x-20",children:s.map(m=>a.jsx(dv,{product:m,translate:l},m.title))})]})]})},gJ=()=>a.jsxs("div",{className:"max-w-7xl relative mx-auto py-20 md:py-40 px-4 w-full  left-0 top-0",children:[a.jsx("h1",{className:"text-2xl md:text-7xl font-bold dark:text-white",children:"Real World Asset Tokenization Marketplace"}),a.jsx("p",{className:"max-w-2xl text-base md:text-xl mt-8 dark:text-neutral-200",children:"Where Real-World Assets Meet the Future: Effortless, Secure, and Borderless Tokenization Across Chains."})]}),dv=({product:t,translate:e})=>a.jsxs(Vs.div,{style:{x:e},whileHover:{y:-20,transition:{duration:.2}},className:"group/product h-96 w-[30rem] relative shrink-0 will-change-transform",children:[a.jsx("a",{href:t.link,className:"block group-hover/product:shadow-2xl",children:a.jsx("img",{src:t.thumbnail,height:"600",width:"600",loading:"eager",decoding:"async",className:"object-cover object-left-top absolute h-full w-full inset-0",alt:t.title})}),a.jsx("div",{className:"absolute inset-0 h-full w-full opacity-0 group-hover/product:opacity-80 bg-black pointer-events-none transition-opacity"}),a.jsx("h2",{className:"absolute bottom-4 left-4 opacity-0 group-hover/product:opacity-100 text-white transition-opacity",children:t.title})]},t.title),xJ=dx("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Z=y.forwardRef(({className:t,variant:e,size:n,asChild:s=!1,...r},i)=>{const o=s?gc:"button";return a.jsx(o,{className:rt(xJ({variant:e,size:n,className:t})),ref:i,...r})});Z.displayName="Button";const yJ=[{title:"Manhattan Luxury Penthouse",link:"#",thumbnail:"https://images.unsplash.com/photo-1512917774080-9991f1c4c750?auto=format&fit=crop&q=80"},{title:"Invoice Batch #2024-05",link:"#",thumbnail:"https://images.pexels.com/photos/159888/pexels-photo-159888.jpeg?auto=compress&cs=tinysrgb&w=600"},{title:"Gold Bullion Reserve",link:"#",thumbnail:"https://images.pexels.com/photos/8442330/pexels-photo-8442330.jpeg?auto=compress&cs=tinysrgb&w=600"},{title:"Modern Glass Estate",link:"#",thumbnail:"https://images.pexels.com/photos/7926955/pexels-photo-7926955.jpeg?auto=compress&cs=tinysrgb&w=600"},{title:"Historic District Residence",link:"#",thumbnail:"https://images.pexels.com/photos/3570244/pexels-photo-3570244.jpeg?auto=compress&cs=tinysrgb&w=600"},{title:"Smart City Complex",link:"#",thumbnail:"https://images.unsplash.com/photo-1600585154526-990dced4db0d?auto=format&fit=crop&q=80"},{title:"Blockchain Towers",link:"#",thumbnail:"https://images.unsplash.com/photo-1600047509807-ba8f99d2cdde?auto=format&fit=crop&q=80"},{title:"Digital Asset Hub",link:"#",thumbnail:"https://images.unsplash.com/photo-1600566753190-17f0baa2a6c3?auto=format&fit=crop&q=80"},{title:"Token Valley Residence",link:"#",thumbnail:"https://images.unsplash.com/photo-1600585154340-be6161a56a0c?auto=format&fit=crop&q=80"},{title:"Web3 Living Space",link:"#",thumbnail:"https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?auto=format&fit=crop&q=80"},{title:"Crypto Heights",link:"#",thumbnail:"https://images.unsplash.com/photo-1600047509807-ba8f99d2cdde?auto=format&fit=crop&q=80"},{title:"DeFi District",link:"#",thumbnail:"https://images.unsplash.com/photo-1600585154526-990dced4db0d?auto=format&fit=crop&q=80"},{title:"NFT Nexus",link:"#",thumbnail:"https://images.unsplash.com/photo-1600566753086-00f18fb6b3ea?auto=format&fit=crop&q=80"},{title:"Metaverse Manor",link:"#",thumbnail:"https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?auto=format&fit=crop&q=80"},{title:"Blockchain Boulevard",link:"#",thumbnail:"https://images.unsplash.com/photo-1600585154340-be6161a56a0c?auto=format&fit=crop&q=80"}],vJ=()=>a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"relative",children:[a.jsx(pJ,{products:yJ}),a.jsx("div",{className:"absolute inset-0 "})]}),a.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-10",children:a.jsxs("div",{className:"max-w-2xl text-center",children:[a.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold tracking-tight text-black mb-6",children:"Tokenized Real-World Assets Marketplace"}),a.jsx("p",{className:"text-lg md:text-xl text-gray-300 mb-8",children:"Invest in high-quality, tokenized real-world assets including prime real estate, commodities, and invoice financing opportunities through our secure blockchain platform."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsx(Z,{className:rt("bg-blue-500 hover:bg-blue-600 text-white text-lg py-6 px-8"),children:"Explore Marketplace"}),a.jsx(Z,{variant:"outline",className:"border-blue-500 text-blue-400 hover:bg-blue-900/20 text-lg py-6 px-8",children:"Learn More"})]})]})})]}),bJ=()=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:21,viewBox:"0 0 50 54",fill:"none",style:{scale:.5},children:[a.jsxs("g",{filter:"url(#filter0_d_91_7928)",children:[a.jsx("path",{d:"M42.6817 41.1495L27.5103 6.79925C26.7269 5.02557 24.2082 5.02558 23.3927 6.79925L7.59814 41.1495C6.75833 42.9759 8.52712 44.8902 10.4125 44.1954L24.3757 39.0496C24.8829 38.8627 25.4385 38.8627 25.9422 39.0496L39.8121 44.1954C41.6849 44.8902 43.4884 42.9759 42.6817 41.1495Z",fill:"black"}),a.jsx("path",{d:"M43.7146 40.6933L28.5431 6.34306C27.3556 3.65428 23.5772 3.69516 22.3668 6.32755L6.57226 40.6778C5.3134 43.4156 7.97238 46.298 10.803 45.2549L24.7662 40.109C25.0221 40.0147 25.2999 40.0156 25.5494 40.1082L39.4193 45.254C42.2261 46.2953 44.9254 43.4347 43.7146 40.6933Z",stroke:"white",strokeWidth:2.25825})]}),a.jsx("defs",{children:a.jsxs("filter",{id:"filter0_d_91_7928",x:.602397,y:.952444,width:49.0584,height:52.428,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[a.jsx("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),a.jsx("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.jsx("feOffset",{dy:2.25825}),a.jsx("feGaussianBlur",{stdDeviation:2.25825}),a.jsx("feComposite",{in2:"hardAlpha",operator:"out"}),a.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.08 0"}),a.jsx("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_91_7928"}),a.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_91_7928",result:"shape"})]})})]});function wJ({cursor:t=a.jsx(bJ,{}),springConfig:e={damping:45,stiffness:400,mass:1,restDelta:.001}}){const[n,s]=y.useState(!1),r=y.useRef({x:0,y:0}),i=y.useRef({x:0,y:0}),o=y.useRef(Date.now()),l=y.useRef(0),c=y.useRef(0),d=Yi(0,e),u=Yi(0,e),h=Yi(0,{...e,damping:60,stiffness:300}),f=Yi(1,{...e,stiffness:500,damping:35});return y.useEffect(()=>{const m=b=>{const v=Date.now(),N=v-o.current;N>0&&(i.current={x:(b.x-r.current.x)/N,y:(b.y-r.current.y)/N}),o.current=v,r.current=b},x=b=>{const v={x:b.clientX,y:b.clientY};m(v);const N=Math.sqrt(Math.pow(i.current.x,2)+Math.pow(i.current.y,2));if(d.set(v.x),u.set(v.y),N>.1){const E=Math.atan2(i.current.y,i.current.x)*(180/Math.PI)+90;let T=E-l.current;T>180&&(T-=360),T<-180&&(T+=360),c.current+=T,h.set(c.current),l.current=E,f.set(.95),s(!0);const R=setTimeout(()=>{f.set(1),s(!1)},150);return()=>clearTimeout(R)}};let p;const w=b=>{p||(p=requestAnimationFrame(()=>{x(b),p=0}))};return window.addEventListener("mousemove",w),()=>{window.removeEventListener("mousemove",w),p&&cancelAnimationFrame(p)}},[d,u,h,f]),a.jsx(Vs.div,{style:{position:"fixed",left:d,top:u,translateX:"-50%",translateY:"-50%",rotate:h,scale:f,zIndex:100,pointerEvents:"none",willChange:"transform"},initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:400,damping:30},children:t})}function NJ(t,e=[]){let n=[];function s(i,o){const l=y.createContext(o),c=n.length;n=[...n,o];function d(h){const{scope:f,children:m,...x}=h,p=(f==null?void 0:f[t][c])||l,w=y.useMemo(()=>x,Object.values(x));return a.jsx(p.Provider,{value:w,children:m})}function u(h,f){const m=(f==null?void 0:f[t][c])||l,x=y.useContext(m);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const r=()=>{const i=n.map(o=>y.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return r.scopeName=t,[s,kJ(r,...e)]}function kJ(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var jJ=y.createContext(void 0);function ck(t){const e=y.useContext(jJ);return t||e||"ltr"}var uv="rovingFocusGroup.onEntryFocus",SJ={bubbles:!1,cancelable:!0},Tx="RovingFocusGroup",[Qw,c3,AJ]=lN(Tx),[TJ,d3]=NJ(Tx,[AJ]),[CJ,EJ]=TJ(Tx),u3=y.forwardRef((t,e)=>a.jsx(Qw.Provider,{scope:t.__scopeRovingFocusGroup,children:a.jsx(Qw.Slot,{scope:t.__scopeRovingFocusGroup,children:a.jsx(_J,{...t,ref:e})})}));u3.displayName=Tx;var _J=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:r=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...h}=t,f=y.useRef(null),m=nn(e,f),x=ck(i),[p=null,w]=xc({prop:o,defaultProp:l,onChange:c}),[b,v]=y.useState(!1),N=qs(d),E=c3(n),T=y.useRef(!1),[R,$]=y.useState(0);return y.useEffect(()=>{const M=f.current;if(M)return M.addEventListener(uv,N),()=>M.removeEventListener(uv,N)},[N]),a.jsx(CJ,{scope:n,orientation:s,dir:x,loop:r,currentTabStopId:p,onItemFocus:y.useCallback(M=>w(M),[w]),onItemShiftTab:y.useCallback(()=>v(!0),[]),onFocusableItemAdd:y.useCallback(()=>$(M=>M+1),[]),onFocusableItemRemove:y.useCallback(()=>$(M=>M-1),[]),children:a.jsx(xt.div,{tabIndex:b||R===0?-1:0,"data-orientation":s,...h,ref:m,style:{outline:"none",...t.style},onMouseDown:at(t.onMouseDown,()=>{T.current=!0}),onFocus:at(t.onFocus,M=>{const L=!T.current;if(M.target===M.currentTarget&&L&&!b){const U=new CustomEvent(uv,SJ);if(M.currentTarget.dispatchEvent(U),!U.defaultPrevented){const z=E().filter(C=>C.focusable),B=z.find(C=>C.active),D=z.find(C=>C.id===p),j=[B,D,...z].filter(Boolean).map(C=>C.ref.current);m3(j,u)}}T.current=!1}),onBlur:at(t.onBlur,()=>v(!1))})})}),h3="RovingFocusGroupItem",f3=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:r=!1,tabStopId:i,...o}=t,l=Zo(),c=i||l,d=EJ(h3,n),u=d.currentTabStopId===c,h=c3(n),{onFocusableItemAdd:f,onFocusableItemRemove:m}=d;return y.useEffect(()=>{if(s)return f(),()=>m()},[s,f,m]),a.jsx(Qw.ItemSlot,{scope:n,id:c,focusable:s,active:r,children:a.jsx(xt.span,{tabIndex:u?0:-1,"data-orientation":d.orientation,...o,ref:e,onMouseDown:at(t.onMouseDown,x=>{s?d.onItemFocus(c):x.preventDefault()}),onFocus:at(t.onFocus,()=>d.onItemFocus(c)),onKeyDown:at(t.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const p=RJ(x,d.orientation,d.dir);if(p!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let b=h().filter(v=>v.focusable).map(v=>v.ref.current);if(p==="last")b.reverse();else if(p==="prev"||p==="next"){p==="prev"&&b.reverse();const v=b.indexOf(x.currentTarget);b=d.loop?MJ(b,v+1):b.slice(v+1)}setTimeout(()=>m3(b))}})})})});f3.displayName=h3;var PJ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function IJ(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function RJ(t,e,n){const s=IJ(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return PJ[s]}function m3(t,e=!1){const n=document.activeElement;for(const s of t)if(s===n||(s.focus({preventScroll:e}),document.activeElement!==n))return}function MJ(t,e){return t.map((n,s)=>t[(e+s)%t.length])}var DJ=u3,$J=f3,dk="Tabs",[OJ,Axe]=Fc(dk,[d3]),p3=d3(),[FJ,uk]=OJ(dk),g3=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,onValueChange:r,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=t,u=ck(l),[h,f]=xc({prop:s,onChange:r,defaultProp:i});return a.jsx(FJ,{scope:n,baseId:Zo(),value:h,onValueChange:f,orientation:o,dir:u,activationMode:c,children:a.jsx(xt.div,{dir:u,"data-orientation":o,...d,ref:e})})});g3.displayName=dk;var x3="TabsList",y3=y.forwardRef((t,e)=>{const{__scopeTabs:n,loop:s=!0,...r}=t,i=uk(x3,n),o=p3(n);return a.jsx(DJ,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:s,children:a.jsx(xt.div,{role:"tablist","aria-orientation":i.orientation,...r,ref:e})})});y3.displayName=x3;var v3="TabsTrigger",b3=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,disabled:r=!1,...i}=t,o=uk(v3,n),l=p3(n),c=k3(o.baseId,s),d=j3(o.baseId,s),u=s===o.value;return a.jsx($J,{asChild:!0,...l,focusable:!r,active:u,children:a.jsx(xt.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:c,...i,ref:e,onMouseDown:at(t.onMouseDown,h=>{!r&&h.button===0&&h.ctrlKey===!1?o.onValueChange(s):h.preventDefault()}),onKeyDown:at(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(s)}),onFocus:at(t.onFocus,()=>{const h=o.activationMode!=="manual";!u&&!r&&h&&o.onValueChange(s)})})})});b3.displayName=v3;var w3="TabsContent",N3=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,forceMount:r,children:i,...o}=t,l=uk(w3,n),c=k3(l.baseId,s),d=j3(l.baseId,s),u=s===l.value,h=y.useRef(u);return y.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),a.jsx(Lc,{present:r||u,children:({present:f})=>a.jsx(xt.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:f&&i})})});N3.displayName=w3;function k3(t,e){return`${t}-trigger-${e}`}function j3(t,e){return`${t}-content-${e}`}var LJ=g3,S3=y3,A3=b3,T3=N3;const ba=LJ,wa=y.forwardRef(({className:t,...e},n)=>a.jsx(S3,{ref:n,className:rt("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));wa.displayName=S3.displayName;const tn=y.forwardRef(({className:t,...e},n)=>a.jsx(A3,{ref:n,className:rt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));tn.displayName=A3.displayName;const sn=y.forwardRef(({className:t,...e},n)=>a.jsx(T3,{ref:n,className:rt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));sn.displayName=T3.displayName;const fe=y.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:rt("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));fe.displayName="Card";const ot=y.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:rt("flex flex-col space-y-1.5 p-6",t),...e}));ot.displayName="CardHeader";const lt=y.forwardRef(({className:t,...e},n)=>a.jsx("h3",{ref:n,className:rt("text-2xl font-semibold leading-none tracking-tight",t),...e}));lt.displayName="CardTitle";const Qn=y.forwardRef(({className:t,...e},n)=>a.jsx("p",{ref:n,className:rt("text-sm text-muted-foreground",t),...e}));Qn.displayName="CardDescription";const pe=y.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:rt("p-6 pt-0",t),...e}));pe.displayName="CardContent";const C3=y.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:rt("flex items-center p-6 pt-0",t),...e}));C3.displayName="CardFooter";const BJ=dx("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ie({className:t,variant:e,...n}){return a.jsx("div",{className:rt(BJ({variant:e}),t),...n})}const UJ=({asset:t,onBuyClick:e})=>{let n={blue:"bg-marketplace-lightBlue text-marketplace-blue",green:"bg-marketplace-lightGreen text-marketplace-green",orange:"bg-marketplace-lightOrange text-marketplace-orange"}[t.color]||"bg-marketplace-lightBlue text-marketplace-blue";return a.jsxs(fe,{className:"overflow-hidden border border-gray-800 bg-gray-900 asset-card",children:[a.jsxs("div",{className:"relative h-48 w-full overflow-hidden",children:[a.jsx("img",{src:t.image,alt:t.title,className:"h-full w-full object-cover transition-transform",onLoad:()=>console.log(" Image loaded successfully:",t.image),onError:s=>{console.log(" Image failed to load:",t.image),console.log("Error event:",s),s.target.src="https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?w=800&h=600&fit=crop"}}),a.jsx(Ie,{className:`absolute top-3 right-3 ${n}`,children:t.category})]}),a.jsxs(pe,{className:"p-4",children:[a.jsx("h3",{className:"font-semibold text-lg mb-2 line-clamp-1",children:t.title}),a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm text-gray-500",children:t.tokenSymbol}),a.jsx("span",{className:"text-sm font-medium text-marketplace-blue",children:t.price})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"text-xs text-gray-500",children:"APY"}),a.jsx("span",{className:"ml-2 text-sm font-semibold text-marketplace-green",children:t.apy})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Location"}),a.jsx("span",{className:"ml-2 text-sm",children:t.location})]})]})]}),a.jsx(C3,{className:"p-4 pt-0",children:a.jsx(Z,{className:"w-full bg-marketplace-blue hover:bg-marketplace-blue/90 text-white",onClick:e,children:"Buy Token"})})]})};let VJ={data:""},zJ=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||VJ,HJ=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,WJ=/\/\*[^]*?\*\/|  +/g,nC=/\n+/g,_o=(t,e)=>{let n="",s="",r="";for(let i in t){let o=t[i];i[0]=="@"?i[1]=="i"?n=i+" "+o+";":s+=i[1]=="f"?_o(o,i):i+"{"+_o(o,i[1]=="k"?"":e)+"}":typeof o=="object"?s+=_o(o,e?e.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=_o.p?_o.p(i,o):i+":"+o+";")}return n+(e&&r?e+"{"+r+"}":r)+s},_a={},E3=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+E3(t[n]);return e}return t},qJ=(t,e,n,s,r)=>{let i=E3(t),o=_a[i]||(_a[i]=(c=>{let d=0,u=11;for(;d<c.length;)u=101*u+c.charCodeAt(d++)>>>0;return"go"+u})(i));if(!_a[o]){let c=i!==t?t:(d=>{let u,h,f=[{}];for(;u=HJ.exec(d.replace(WJ,""));)u[4]?f.shift():u[3]?(h=u[3].replace(nC," ").trim(),f.unshift(f[0][h]=f[0][h]||{})):f[0][u[1]]=u[2].replace(nC," ").trim();return f[0]})(t);_a[o]=_o(r?{["@keyframes "+o]:c}:c,n?"":"."+o)}let l=n&&_a.g?_a.g:null;return n&&(_a.g=_a[o]),((c,d,u,h)=>{h?d.data=d.data.replace(h,c):d.data.indexOf(c)===-1&&(d.data=u?c+d.data:d.data+c)})(_a[o],e,s,l),o},KJ=(t,e,n)=>t.reduce((s,r,i)=>{let o=e[i];if(o&&o.call){let l=o(n),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":_o(l,""):l===!1?"":l}return s+r+(o??"")},"");function Cx(t){let e=this||{},n=t.call?t(e.p):t;return qJ(n.unshift?n.raw?KJ(n,[].slice.call(arguments,1),e.p):n.reduce((s,r)=>Object.assign(s,r&&r.call?r(e.p):r),{}):n,zJ(e.target),e.g,e.o,e.k)}let _3,Zw,e1;Cx.bind({g:1});let to=Cx.bind({k:1});function GJ(t,e,n,s){_o.p=e,_3=t,Zw=n,e1=s}function bl(t,e){let n=this||{};return function(){let s=arguments;function r(i,o){let l=Object.assign({},i),c=l.className||r.className;n.p=Object.assign({theme:Zw&&Zw()},l),n.o=/ *go\d+/.test(c),l.className=Cx.apply(n,s)+(c?" "+c:"");let d=t;return t[0]&&(d=l.as||t,delete l.as),e1&&d[0]&&e1(l),_3(d,l)}return r}}var YJ=t=>typeof t=="function",t1=(t,e)=>YJ(t)?t(e):t,XJ=(()=>{let t=0;return()=>(++t).toString()})(),JJ=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),QJ=20,P3=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,QJ)};case 1:return{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:n}=e;return P3(t,{type:t.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:s}=e;return{...t,toasts:t.toasts.map(i=>i.id===s||s===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let r=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+r}))}}},ZJ=[],hv={toasts:[],pausedAt:void 0},hk=t=>{hv=P3(hv,t),ZJ.forEach(e=>{e(hv)})},eQ=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||XJ()}),ym=t=>(e,n)=>{let s=eQ(e,t,n);return hk({type:2,toast:s}),s.id},oe=(t,e)=>ym("blank")(t,e);oe.error=ym("error");oe.success=ym("success");oe.loading=ym("loading");oe.custom=ym("custom");oe.dismiss=t=>{hk({type:3,toastId:t})};oe.remove=t=>hk({type:4,toastId:t});oe.promise=(t,e,n)=>{let s=oe.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(r=>{let i=e.success?t1(e.success,r):void 0;return i?oe.success(i,{id:s,...n,...n==null?void 0:n.success}):oe.dismiss(s),r}).catch(r=>{let i=e.error?t1(e.error,r):void 0;i?oe.error(i,{id:s,...n,...n==null?void 0:n.error}):oe.dismiss(s)}),t};var tQ=to`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,nQ=to`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,sQ=to`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,rQ=bl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${tQ} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${nQ} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${sQ} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,iQ=to`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,aQ=bl("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${iQ} 1s linear infinite;
`,oQ=to`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,lQ=to`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,cQ=bl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${oQ} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${lQ} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,dQ=bl("div")`
  position: absolute;
`,uQ=bl("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,hQ=to`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,fQ=bl("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${hQ} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,mQ=({toast:t})=>{let{icon:e,type:n,iconTheme:s}=t;return e!==void 0?typeof e=="string"?y.createElement(fQ,null,e):e:n==="blank"?null:y.createElement(uQ,null,y.createElement(aQ,{...s}),n!=="loading"&&y.createElement(dQ,null,n==="error"?y.createElement(rQ,{...s}):y.createElement(cQ,{...s})))},pQ=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,gQ=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,xQ="0%{opacity:0;} 100%{opacity:1;}",yQ="0%{opacity:1;} 100%{opacity:0;}",vQ=bl("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,bQ=bl("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,wQ=(t,e)=>{let n=t.includes("top")?1:-1,[s,r]=JJ()?[xQ,yQ]:[pQ(n),gQ(n)];return{animation:e?`${to(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${to(r)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};y.memo(({toast:t,position:e,style:n,children:s})=>{let r=t.height?wQ(t.position||e||"top-center",t.visible):{opacity:0},i=y.createElement(mQ,{toast:t}),o=y.createElement(bQ,{...t.ariaProps},t1(t.message,t));return y.createElement(vQ,{className:t.className,style:{...r,...n,...t.style}},typeof s=="function"?s({icon:i,message:o}):y.createElement(y.Fragment,null,i,o))});GJ(y.createElement);Cx`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;var fk={exports:{}};const NQ={},kQ=Object.freeze(Object.defineProperty({__proto__:null,default:NQ},Symbol.toStringTag,{value:"Module"})),jQ=fB(kQ);fk.exports;(function(t){(function(e,n){function s(D,g){if(!D)throw new Error(g||"Assertion failed")}function r(D,g){D.super_=g;var j=function(){};j.prototype=g.prototype,D.prototype=new j,D.prototype.constructor=D}function i(D,g,j){if(i.isBN(D))return D;this.negative=0,this.words=null,this.length=0,this.red=null,D!==null&&((g==="le"||g==="be")&&(j=g,g=10),this._init(D||0,g||10,j||"be"))}typeof e=="object"?e.exports=i:n.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=jQ.Buffer}catch{}i.isBN=function(g){return g instanceof i?!0:g!==null&&typeof g=="object"&&g.constructor.wordSize===i.wordSize&&Array.isArray(g.words)},i.max=function(g,j){return g.cmp(j)>0?g:j},i.min=function(g,j){return g.cmp(j)<0?g:j},i.prototype._init=function(g,j,C){if(typeof g=="number")return this._initNumber(g,j,C);if(typeof g=="object")return this._initArray(g,j,C);j==="hex"&&(j=16),s(j===(j|0)&&j>=2&&j<=36),g=g.toString().replace(/\s+/g,"");var P=0;g[0]==="-"&&(P++,this.negative=1),P<g.length&&(j===16?this._parseHex(g,P,C):(this._parseBase(g,j,P),C==="le"&&this._initArray(this.toArray(),j,C)))},i.prototype._initNumber=function(g,j,C){g<0&&(this.negative=1,g=-g),g<67108864?(this.words=[g&67108863],this.length=1):g<4503599627370496?(this.words=[g&67108863,g/67108864&67108863],this.length=2):(s(g<9007199254740992),this.words=[g&67108863,g/67108864&67108863,1],this.length=3),C==="le"&&this._initArray(this.toArray(),j,C)},i.prototype._initArray=function(g,j,C){if(s(typeof g.length=="number"),g.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(g.length/3),this.words=new Array(this.length);for(var P=0;P<this.length;P++)this.words[P]=0;var S,A,F=0;if(C==="be")for(P=g.length-1,S=0;P>=0;P-=3)A=g[P]|g[P-1]<<8|g[P-2]<<16,this.words[S]|=A<<F&67108863,this.words[S+1]=A>>>26-F&67108863,F+=24,F>=26&&(F-=26,S++);else if(C==="le")for(P=0,S=0;P<g.length;P+=3)A=g[P]|g[P+1]<<8|g[P+2]<<16,this.words[S]|=A<<F&67108863,this.words[S+1]=A>>>26-F&67108863,F+=24,F>=26&&(F-=26,S++);return this._strip()};function l(D,g){var j=D.charCodeAt(g);if(j>=48&&j<=57)return j-48;if(j>=65&&j<=70)return j-55;if(j>=97&&j<=102)return j-87;s(!1,"Invalid character in "+D)}function c(D,g,j){var C=l(D,j);return j-1>=g&&(C|=l(D,j-1)<<4),C}i.prototype._parseHex=function(g,j,C){this.length=Math.ceil((g.length-j)/6),this.words=new Array(this.length);for(var P=0;P<this.length;P++)this.words[P]=0;var S=0,A=0,F;if(C==="be")for(P=g.length-1;P>=j;P-=2)F=c(g,j,P)<<S,this.words[A]|=F&67108863,S>=18?(S-=18,A+=1,this.words[A]|=F>>>26):S+=8;else{var _=g.length-j;for(P=_%2===0?j+1:j;P<g.length;P+=2)F=c(g,j,P)<<S,this.words[A]|=F&67108863,S>=18?(S-=18,A+=1,this.words[A]|=F>>>26):S+=8}this._strip()};function d(D,g,j,C){for(var P=0,S=0,A=Math.min(D.length,j),F=g;F<A;F++){var _=D.charCodeAt(F)-48;P*=C,_>=49?S=_-49+10:_>=17?S=_-17+10:S=_,s(_>=0&&S<C,"Invalid character"),P+=S}return P}i.prototype._parseBase=function(g,j,C){this.words=[0],this.length=1;for(var P=0,S=1;S<=67108863;S*=j)P++;P--,S=S/j|0;for(var A=g.length-C,F=A%P,_=Math.min(A,A-F)+C,k=0,O=C;O<_;O+=P)k=d(g,O,O+P,j),this.imuln(S),this.words[0]+k<67108864?this.words[0]+=k:this._iaddn(k);if(F!==0){var q=1;for(k=d(g,O,g.length,j),O=0;O<F;O++)q*=j;this.imuln(q),this.words[0]+k<67108864?this.words[0]+=k:this._iaddn(k)}this._strip()},i.prototype.copy=function(g){g.words=new Array(this.length);for(var j=0;j<this.length;j++)g.words[j]=this.words[j];g.length=this.length,g.negative=this.negative,g.red=this.red};function u(D,g){D.words=g.words,D.length=g.length,D.negative=g.negative,D.red=g.red}if(i.prototype._move=function(g){u(g,this)},i.prototype.clone=function(){var g=new i(null);return this.copy(g),g},i.prototype._expand=function(g){for(;this.length<g;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch{i.prototype.inspect=h}else i.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(g,j){g=g||10,j=j|0||1;var C;if(g===16||g==="hex"){C="";for(var P=0,S=0,A=0;A<this.length;A++){var F=this.words[A],_=((F<<P|S)&16777215).toString(16);S=F>>>24-P&16777215,P+=2,P>=26&&(P-=26,A--),S!==0||A!==this.length-1?C=f[6-_.length]+_+C:C=_+C}for(S!==0&&(C=S.toString(16)+C);C.length%j!==0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}if(g===(g|0)&&g>=2&&g<=36){var k=m[g],O=x[g];C="";var q=this.clone();for(q.negative=0;!q.isZero();){var I=q.modrn(O).toString(g);q=q.idivn(O),q.isZero()?C=I+C:C=f[k-I.length]+I+C}for(this.isZero()&&(C="0"+C);C.length%j!==0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}s(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var g=this.words[0];return this.length===2?g+=this.words[1]*67108864:this.length===3&&this.words[2]===1?g+=4503599627370496+this.words[1]*67108864:this.length>2&&s(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-g:g},i.prototype.toJSON=function(){return this.toString(16,2)},o&&(i.prototype.toBuffer=function(g,j){return this.toArrayLike(o,g,j)}),i.prototype.toArray=function(g,j){return this.toArrayLike(Array,g,j)};var p=function(g,j){return g.allocUnsafe?g.allocUnsafe(j):new g(j)};i.prototype.toArrayLike=function(g,j,C){this._strip();var P=this.byteLength(),S=C||Math.max(1,P);s(P<=S,"byte array longer than desired length"),s(S>0,"Requested array length <= 0");var A=p(g,S),F=j==="le"?"LE":"BE";return this["_toArrayLike"+F](A,P),A},i.prototype._toArrayLikeLE=function(g,j){for(var C=0,P=0,S=0,A=0;S<this.length;S++){var F=this.words[S]<<A|P;g[C++]=F&255,C<g.length&&(g[C++]=F>>8&255),C<g.length&&(g[C++]=F>>16&255),A===6?(C<g.length&&(g[C++]=F>>24&255),P=0,A=0):(P=F>>>24,A+=2)}if(C<g.length)for(g[C++]=P;C<g.length;)g[C++]=0},i.prototype._toArrayLikeBE=function(g,j){for(var C=g.length-1,P=0,S=0,A=0;S<this.length;S++){var F=this.words[S]<<A|P;g[C--]=F&255,C>=0&&(g[C--]=F>>8&255),C>=0&&(g[C--]=F>>16&255),A===6?(C>=0&&(g[C--]=F>>24&255),P=0,A=0):(P=F>>>24,A+=2)}if(C>=0)for(g[C--]=P;C>=0;)g[C--]=0},Math.clz32?i.prototype._countBits=function(g){return 32-Math.clz32(g)}:i.prototype._countBits=function(g){var j=g,C=0;return j>=4096&&(C+=13,j>>>=13),j>=64&&(C+=7,j>>>=7),j>=8&&(C+=4,j>>>=4),j>=2&&(C+=2,j>>>=2),C+j},i.prototype._zeroBits=function(g){if(g===0)return 26;var j=g,C=0;return j&8191||(C+=13,j>>>=13),j&127||(C+=7,j>>>=7),j&15||(C+=4,j>>>=4),j&3||(C+=2,j>>>=2),j&1||C++,C},i.prototype.bitLength=function(){var g=this.words[this.length-1],j=this._countBits(g);return(this.length-1)*26+j};function w(D){for(var g=new Array(D.bitLength()),j=0;j<g.length;j++){var C=j/26|0,P=j%26;g[j]=D.words[C]>>>P&1}return g}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var g=0,j=0;j<this.length;j++){var C=this._zeroBits(this.words[j]);if(g+=C,C!==26)break}return g},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(g){return this.negative!==0?this.abs().inotn(g).iaddn(1):this.clone()},i.prototype.fromTwos=function(g){return this.testn(g-1)?this.notn(g).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(g){for(;this.length<g.length;)this.words[this.length++]=0;for(var j=0;j<g.length;j++)this.words[j]=this.words[j]|g.words[j];return this._strip()},i.prototype.ior=function(g){return s((this.negative|g.negative)===0),this.iuor(g)},i.prototype.or=function(g){return this.length>g.length?this.clone().ior(g):g.clone().ior(this)},i.prototype.uor=function(g){return this.length>g.length?this.clone().iuor(g):g.clone().iuor(this)},i.prototype.iuand=function(g){var j;this.length>g.length?j=g:j=this;for(var C=0;C<j.length;C++)this.words[C]=this.words[C]&g.words[C];return this.length=j.length,this._strip()},i.prototype.iand=function(g){return s((this.negative|g.negative)===0),this.iuand(g)},i.prototype.and=function(g){return this.length>g.length?this.clone().iand(g):g.clone().iand(this)},i.prototype.uand=function(g){return this.length>g.length?this.clone().iuand(g):g.clone().iuand(this)},i.prototype.iuxor=function(g){var j,C;this.length>g.length?(j=this,C=g):(j=g,C=this);for(var P=0;P<C.length;P++)this.words[P]=j.words[P]^C.words[P];if(this!==j)for(;P<j.length;P++)this.words[P]=j.words[P];return this.length=j.length,this._strip()},i.prototype.ixor=function(g){return s((this.negative|g.negative)===0),this.iuxor(g)},i.prototype.xor=function(g){return this.length>g.length?this.clone().ixor(g):g.clone().ixor(this)},i.prototype.uxor=function(g){return this.length>g.length?this.clone().iuxor(g):g.clone().iuxor(this)},i.prototype.inotn=function(g){s(typeof g=="number"&&g>=0);var j=Math.ceil(g/26)|0,C=g%26;this._expand(j),C>0&&j--;for(var P=0;P<j;P++)this.words[P]=~this.words[P]&67108863;return C>0&&(this.words[P]=~this.words[P]&67108863>>26-C),this._strip()},i.prototype.notn=function(g){return this.clone().inotn(g)},i.prototype.setn=function(g,j){s(typeof g=="number"&&g>=0);var C=g/26|0,P=g%26;return this._expand(C+1),j?this.words[C]=this.words[C]|1<<P:this.words[C]=this.words[C]&~(1<<P),this._strip()},i.prototype.iadd=function(g){var j;if(this.negative!==0&&g.negative===0)return this.negative=0,j=this.isub(g),this.negative^=1,this._normSign();if(this.negative===0&&g.negative!==0)return g.negative=0,j=this.isub(g),g.negative=1,j._normSign();var C,P;this.length>g.length?(C=this,P=g):(C=g,P=this);for(var S=0,A=0;A<P.length;A++)j=(C.words[A]|0)+(P.words[A]|0)+S,this.words[A]=j&67108863,S=j>>>26;for(;S!==0&&A<C.length;A++)j=(C.words[A]|0)+S,this.words[A]=j&67108863,S=j>>>26;if(this.length=C.length,S!==0)this.words[this.length]=S,this.length++;else if(C!==this)for(;A<C.length;A++)this.words[A]=C.words[A];return this},i.prototype.add=function(g){var j;return g.negative!==0&&this.negative===0?(g.negative=0,j=this.sub(g),g.negative^=1,j):g.negative===0&&this.negative!==0?(this.negative=0,j=g.sub(this),this.negative=1,j):this.length>g.length?this.clone().iadd(g):g.clone().iadd(this)},i.prototype.isub=function(g){if(g.negative!==0){g.negative=0;var j=this.iadd(g);return g.negative=1,j._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(g),this.negative=1,this._normSign();var C=this.cmp(g);if(C===0)return this.negative=0,this.length=1,this.words[0]=0,this;var P,S;C>0?(P=this,S=g):(P=g,S=this);for(var A=0,F=0;F<S.length;F++)j=(P.words[F]|0)-(S.words[F]|0)+A,A=j>>26,this.words[F]=j&67108863;for(;A!==0&&F<P.length;F++)j=(P.words[F]|0)+A,A=j>>26,this.words[F]=j&67108863;if(A===0&&F<P.length&&P!==this)for(;F<P.length;F++)this.words[F]=P.words[F];return this.length=Math.max(this.length,F),P!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(g){return this.clone().isub(g)};function b(D,g,j){j.negative=g.negative^D.negative;var C=D.length+g.length|0;j.length=C,C=C-1|0;var P=D.words[0]|0,S=g.words[0]|0,A=P*S,F=A&67108863,_=A/67108864|0;j.words[0]=F;for(var k=1;k<C;k++){for(var O=_>>>26,q=_&67108863,I=Math.min(k,g.length-1),V=Math.max(0,k-D.length+1);V<=I;V++){var G=k-V|0;P=D.words[G]|0,S=g.words[V]|0,A=P*S+q,O+=A/67108864|0,q=A&67108863}j.words[k]=q|0,_=O|0}return _!==0?j.words[k]=_|0:j.length--,j._strip()}var v=function(g,j,C){var P=g.words,S=j.words,A=C.words,F=0,_,k,O,q=P[0]|0,I=q&8191,V=q>>>13,G=P[1]|0,H=G&8191,K=G>>>13,X=P[2]|0,ee=X&8191,ne=X>>>13,Be=P[3]|0,te=Be&8191,ge=Be>>>13,Te=P[4]|0,ve=Te&8191,Q=Te>>>13,xe=P[5]|0,we=xe&8191,Ke=xe>>>13,ut=P[6]|0,He=ut&8191,gt=ut>>>13,St=P[7]|0,ye=St&8191,W=St>>>13,me=P[8]|0,se=me&8191,ce=me>>>13,Ce=P[9]|0,Re=Ce&8191,_e=Ce>>>13,Bt=S[0]|0,Ge=Bt&8191,Ne=Bt>>>13,Ve=S[1]|0,Y=Ve&8191,J=Ve>>>13,de=S[2]|0,he=de&8191,ke=de>>>13,Fe=S[3]|0,Le=Fe&8191,je=Fe>>>13,it=S[4]|0,ze=it&8191,Ze=it>>>13,Pt=S[5]|0,et=Pt&8191,st=Pt>>>13,Dt=S[6]|0,tt=Dt&8191,Ee=Dt>>>13,ae=S[7]|0,Me=ae&8191,Je=ae>>>13,yt=S[8]|0,ie=yt&8191,Qe=yt>>>13,$t=S[9]|0,ue=$t&8191,pt=$t>>>13;C.negative=g.negative^j.negative,C.length=19,_=Math.imul(I,Ge),k=Math.imul(I,Ne),k=k+Math.imul(V,Ge)|0,O=Math.imul(V,Ne);var zt=(F+_|0)+((k&8191)<<13)|0;F=(O+(k>>>13)|0)+(zt>>>26)|0,zt&=67108863,_=Math.imul(H,Ge),k=Math.imul(H,Ne),k=k+Math.imul(K,Ge)|0,O=Math.imul(K,Ne),_=_+Math.imul(I,Y)|0,k=k+Math.imul(I,J)|0,k=k+Math.imul(V,Y)|0,O=O+Math.imul(V,J)|0;var on=(F+_|0)+((k&8191)<<13)|0;F=(O+(k>>>13)|0)+(on>>>26)|0,on&=67108863,_=Math.imul(ee,Ge),k=Math.imul(ee,Ne),k=k+Math.imul(ne,Ge)|0,O=Math.imul(ne,Ne),_=_+Math.imul(H,Y)|0,k=k+Math.imul(H,J)|0,k=k+Math.imul(K,Y)|0,O=O+Math.imul(K,J)|0,_=_+Math.imul(I,he)|0,k=k+Math.imul(I,ke)|0,k=k+Math.imul(V,he)|0,O=O+Math.imul(V,ke)|0;var qt=(F+_|0)+((k&8191)<<13)|0;F=(O+(k>>>13)|0)+(qt>>>26)|0,qt&=67108863,_=Math.imul(te,Ge),k=Math.imul(te,Ne),k=k+Math.imul(ge,Ge)|0,O=Math.imul(ge,Ne),_=_+Math.imul(ee,Y)|0,k=k+Math.imul(ee,J)|0,k=k+Math.imul(ne,Y)|0,O=O+Math.imul(ne,J)|0,_=_+Math.imul(H,he)|0,k=k+Math.imul(H,ke)|0,k=k+Math.imul(K,he)|0,O=O+Math.imul(K,ke)|0,_=_+Math.imul(I,Le)|0,k=k+Math.imul(I,je)|0,k=k+Math.imul(V,Le)|0,O=O+Math.imul(V,je)|0;var Ot=(F+_|0)+((k&8191)<<13)|0;F=(O+(k>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,_=Math.imul(ve,Ge),k=Math.imul(ve,Ne),k=k+Math.imul(Q,Ge)|0,O=Math.imul(Q,Ne),_=_+Math.imul(te,Y)|0,k=k+Math.imul(te,J)|0,k=k+Math.imul(ge,Y)|0,O=O+Math.imul(ge,J)|0,_=_+Math.imul(ee,he)|0,k=k+Math.imul(ee,ke)|0,k=k+Math.imul(ne,he)|0,O=O+Math.imul(ne,ke)|0,_=_+Math.imul(H,Le)|0,k=k+Math.imul(H,je)|0,k=k+Math.imul(K,Le)|0,O=O+Math.imul(K,je)|0,_=_+Math.imul(I,ze)|0,k=k+Math.imul(I,Ze)|0,k=k+Math.imul(V,ze)|0,O=O+Math.imul(V,Ze)|0;var dt=(F+_|0)+((k&8191)<<13)|0;F=(O+(k>>>13)|0)+(dt>>>26)|0,dt&=67108863,_=Math.imul(we,Ge),k=Math.imul(we,Ne),k=k+Math.imul(Ke,Ge)|0,O=Math.imul(Ke,Ne),_=_+Math.imul(ve,Y)|0,k=k+Math.imul(ve,J)|0,k=k+Math.imul(Q,Y)|0,O=O+Math.imul(Q,J)|0,_=_+Math.imul(te,he)|0,k=k+Math.imul(te,ke)|0,k=k+Math.imul(ge,he)|0,O=O+Math.imul(ge,ke)|0,_=_+Math.imul(ee,Le)|0,k=k+Math.imul(ee,je)|0,k=k+Math.imul(ne,Le)|0,O=O+Math.imul(ne,je)|0,_=_+Math.imul(H,ze)|0,k=k+Math.imul(H,Ze)|0,k=k+Math.imul(K,ze)|0,O=O+Math.imul(K,Ze)|0,_=_+Math.imul(I,et)|0,k=k+Math.imul(I,st)|0,k=k+Math.imul(V,et)|0,O=O+Math.imul(V,st)|0;var Ys=(F+_|0)+((k&8191)<<13)|0;F=(O+(k>>>13)|0)+(Ys>>>26)|0,Ys&=67108863,_=Math.imul(He,Ge),k=Math.imul(He,Ne),k=k+Math.imul(gt,Ge)|0,O=Math.imul(gt,Ne),_=_+Math.imul(we,Y)|0,k=k+Math.imul(we,J)|0,k=k+Math.imul(Ke,Y)|0,O=O+Math.imul(Ke,J)|0,_=_+Math.imul(ve,he)|0,k=k+Math.imul(ve,ke)|0,k=k+Math.imul(Q,he)|0,O=O+Math.imul(Q,ke)|0,_=_+Math.imul(te,Le)|0,k=k+Math.imul(te,je)|0,k=k+Math.imul(ge,Le)|0,O=O+Math.imul(ge,je)|0,_=_+Math.imul(ee,ze)|0,k=k+Math.imul(ee,Ze)|0,k=k+Math.imul(ne,ze)|0,O=O+Math.imul(ne,Ze)|0,_=_+Math.imul(H,et)|0,k=k+Math.imul(H,st)|0,k=k+Math.imul(K,et)|0,O=O+Math.imul(K,st)|0,_=_+Math.imul(I,tt)|0,k=k+Math.imul(I,Ee)|0,k=k+Math.imul(V,tt)|0,O=O+Math.imul(V,Ee)|0;var Ms=(F+_|0)+((k&8191)<<13)|0;F=(O+(k>>>13)|0)+(Ms>>>26)|0,Ms&=67108863,_=Math.imul(ye,Ge),k=Math.imul(ye,Ne),k=k+Math.imul(W,Ge)|0,O=Math.imul(W,Ne),_=_+Math.imul(He,Y)|0,k=k+Math.imul(He,J)|0,k=k+Math.imul(gt,Y)|0,O=O+Math.imul(gt,J)|0,_=_+Math.imul(we,he)|0,k=k+Math.imul(we,ke)|0,k=k+Math.imul(Ke,he)|0,O=O+Math.imul(Ke,ke)|0,_=_+Math.imul(ve,Le)|0,k=k+Math.imul(ve,je)|0,k=k+Math.imul(Q,Le)|0,O=O+Math.imul(Q,je)|0,_=_+Math.imul(te,ze)|0,k=k+Math.imul(te,Ze)|0,k=k+Math.imul(ge,ze)|0,O=O+Math.imul(ge,Ze)|0,_=_+Math.imul(ee,et)|0,k=k+Math.imul(ee,st)|0,k=k+Math.imul(ne,et)|0,O=O+Math.imul(ne,st)|0,_=_+Math.imul(H,tt)|0,k=k+Math.imul(H,Ee)|0,k=k+Math.imul(K,tt)|0,O=O+Math.imul(K,Ee)|0,_=_+Math.imul(I,Me)|0,k=k+Math.imul(I,Je)|0,k=k+Math.imul(V,Me)|0,O=O+Math.imul(V,Je)|0;var ts=(F+_|0)+((k&8191)<<13)|0;F=(O+(k>>>13)|0)+(ts>>>26)|0,ts&=67108863,_=Math.imul(se,Ge),k=Math.imul(se,Ne),k=k+Math.imul(ce,Ge)|0,O=Math.imul(ce,Ne),_=_+Math.imul(ye,Y)|0,k=k+Math.imul(ye,J)|0,k=k+Math.imul(W,Y)|0,O=O+Math.imul(W,J)|0,_=_+Math.imul(He,he)|0,k=k+Math.imul(He,ke)|0,k=k+Math.imul(gt,he)|0,O=O+Math.imul(gt,ke)|0,_=_+Math.imul(we,Le)|0,k=k+Math.imul(we,je)|0,k=k+Math.imul(Ke,Le)|0,O=O+Math.imul(Ke,je)|0,_=_+Math.imul(ve,ze)|0,k=k+Math.imul(ve,Ze)|0,k=k+Math.imul(Q,ze)|0,O=O+Math.imul(Q,Ze)|0,_=_+Math.imul(te,et)|0,k=k+Math.imul(te,st)|0,k=k+Math.imul(ge,et)|0,O=O+Math.imul(ge,st)|0,_=_+Math.imul(ee,tt)|0,k=k+Math.imul(ee,Ee)|0,k=k+Math.imul(ne,tt)|0,O=O+Math.imul(ne,Ee)|0,_=_+Math.imul(H,Me)|0,k=k+Math.imul(H,Je)|0,k=k+Math.imul(K,Me)|0,O=O+Math.imul(K,Je)|0,_=_+Math.imul(I,ie)|0,k=k+Math.imul(I,Qe)|0,k=k+Math.imul(V,ie)|0,O=O+Math.imul(V,Qe)|0;var Xs=(F+_|0)+((k&8191)<<13)|0;F=(O+(k>>>13)|0)+(Xs>>>26)|0,Xs&=67108863,_=Math.imul(Re,Ge),k=Math.imul(Re,Ne),k=k+Math.imul(_e,Ge)|0,O=Math.imul(_e,Ne),_=_+Math.imul(se,Y)|0,k=k+Math.imul(se,J)|0,k=k+Math.imul(ce,Y)|0,O=O+Math.imul(ce,J)|0,_=_+Math.imul(ye,he)|0,k=k+Math.imul(ye,ke)|0,k=k+Math.imul(W,he)|0,O=O+Math.imul(W,ke)|0,_=_+Math.imul(He,Le)|0,k=k+Math.imul(He,je)|0,k=k+Math.imul(gt,Le)|0,O=O+Math.imul(gt,je)|0,_=_+Math.imul(we,ze)|0,k=k+Math.imul(we,Ze)|0,k=k+Math.imul(Ke,ze)|0,O=O+Math.imul(Ke,Ze)|0,_=_+Math.imul(ve,et)|0,k=k+Math.imul(ve,st)|0,k=k+Math.imul(Q,et)|0,O=O+Math.imul(Q,st)|0,_=_+Math.imul(te,tt)|0,k=k+Math.imul(te,Ee)|0,k=k+Math.imul(ge,tt)|0,O=O+Math.imul(ge,Ee)|0,_=_+Math.imul(ee,Me)|0,k=k+Math.imul(ee,Je)|0,k=k+Math.imul(ne,Me)|0,O=O+Math.imul(ne,Je)|0,_=_+Math.imul(H,ie)|0,k=k+Math.imul(H,Qe)|0,k=k+Math.imul(K,ie)|0,O=O+Math.imul(K,Qe)|0,_=_+Math.imul(I,ue)|0,k=k+Math.imul(I,pt)|0,k=k+Math.imul(V,ue)|0,O=O+Math.imul(V,pt)|0;var Al=(F+_|0)+((k&8191)<<13)|0;F=(O+(k>>>13)|0)+(Al>>>26)|0,Al&=67108863,_=Math.imul(Re,Y),k=Math.imul(Re,J),k=k+Math.imul(_e,Y)|0,O=Math.imul(_e,J),_=_+Math.imul(se,he)|0,k=k+Math.imul(se,ke)|0,k=k+Math.imul(ce,he)|0,O=O+Math.imul(ce,ke)|0,_=_+Math.imul(ye,Le)|0,k=k+Math.imul(ye,je)|0,k=k+Math.imul(W,Le)|0,O=O+Math.imul(W,je)|0,_=_+Math.imul(He,ze)|0,k=k+Math.imul(He,Ze)|0,k=k+Math.imul(gt,ze)|0,O=O+Math.imul(gt,Ze)|0,_=_+Math.imul(we,et)|0,k=k+Math.imul(we,st)|0,k=k+Math.imul(Ke,et)|0,O=O+Math.imul(Ke,st)|0,_=_+Math.imul(ve,tt)|0,k=k+Math.imul(ve,Ee)|0,k=k+Math.imul(Q,tt)|0,O=O+Math.imul(Q,Ee)|0,_=_+Math.imul(te,Me)|0,k=k+Math.imul(te,Je)|0,k=k+Math.imul(ge,Me)|0,O=O+Math.imul(ge,Je)|0,_=_+Math.imul(ee,ie)|0,k=k+Math.imul(ee,Qe)|0,k=k+Math.imul(ne,ie)|0,O=O+Math.imul(ne,Qe)|0,_=_+Math.imul(H,ue)|0,k=k+Math.imul(H,pt)|0,k=k+Math.imul(K,ue)|0,O=O+Math.imul(K,pt)|0;var ly=(F+_|0)+((k&8191)<<13)|0;F=(O+(k>>>13)|0)+(ly>>>26)|0,ly&=67108863,_=Math.imul(Re,he),k=Math.imul(Re,ke),k=k+Math.imul(_e,he)|0,O=Math.imul(_e,ke),_=_+Math.imul(se,Le)|0,k=k+Math.imul(se,je)|0,k=k+Math.imul(ce,Le)|0,O=O+Math.imul(ce,je)|0,_=_+Math.imul(ye,ze)|0,k=k+Math.imul(ye,Ze)|0,k=k+Math.imul(W,ze)|0,O=O+Math.imul(W,Ze)|0,_=_+Math.imul(He,et)|0,k=k+Math.imul(He,st)|0,k=k+Math.imul(gt,et)|0,O=O+Math.imul(gt,st)|0,_=_+Math.imul(we,tt)|0,k=k+Math.imul(we,Ee)|0,k=k+Math.imul(Ke,tt)|0,O=O+Math.imul(Ke,Ee)|0,_=_+Math.imul(ve,Me)|0,k=k+Math.imul(ve,Je)|0,k=k+Math.imul(Q,Me)|0,O=O+Math.imul(Q,Je)|0,_=_+Math.imul(te,ie)|0,k=k+Math.imul(te,Qe)|0,k=k+Math.imul(ge,ie)|0,O=O+Math.imul(ge,Qe)|0,_=_+Math.imul(ee,ue)|0,k=k+Math.imul(ee,pt)|0,k=k+Math.imul(ne,ue)|0,O=O+Math.imul(ne,pt)|0;var cy=(F+_|0)+((k&8191)<<13)|0;F=(O+(k>>>13)|0)+(cy>>>26)|0,cy&=67108863,_=Math.imul(Re,Le),k=Math.imul(Re,je),k=k+Math.imul(_e,Le)|0,O=Math.imul(_e,je),_=_+Math.imul(se,ze)|0,k=k+Math.imul(se,Ze)|0,k=k+Math.imul(ce,ze)|0,O=O+Math.imul(ce,Ze)|0,_=_+Math.imul(ye,et)|0,k=k+Math.imul(ye,st)|0,k=k+Math.imul(W,et)|0,O=O+Math.imul(W,st)|0,_=_+Math.imul(He,tt)|0,k=k+Math.imul(He,Ee)|0,k=k+Math.imul(gt,tt)|0,O=O+Math.imul(gt,Ee)|0,_=_+Math.imul(we,Me)|0,k=k+Math.imul(we,Je)|0,k=k+Math.imul(Ke,Me)|0,O=O+Math.imul(Ke,Je)|0,_=_+Math.imul(ve,ie)|0,k=k+Math.imul(ve,Qe)|0,k=k+Math.imul(Q,ie)|0,O=O+Math.imul(Q,Qe)|0,_=_+Math.imul(te,ue)|0,k=k+Math.imul(te,pt)|0,k=k+Math.imul(ge,ue)|0,O=O+Math.imul(ge,pt)|0;var dy=(F+_|0)+((k&8191)<<13)|0;F=(O+(k>>>13)|0)+(dy>>>26)|0,dy&=67108863,_=Math.imul(Re,ze),k=Math.imul(Re,Ze),k=k+Math.imul(_e,ze)|0,O=Math.imul(_e,Ze),_=_+Math.imul(se,et)|0,k=k+Math.imul(se,st)|0,k=k+Math.imul(ce,et)|0,O=O+Math.imul(ce,st)|0,_=_+Math.imul(ye,tt)|0,k=k+Math.imul(ye,Ee)|0,k=k+Math.imul(W,tt)|0,O=O+Math.imul(W,Ee)|0,_=_+Math.imul(He,Me)|0,k=k+Math.imul(He,Je)|0,k=k+Math.imul(gt,Me)|0,O=O+Math.imul(gt,Je)|0,_=_+Math.imul(we,ie)|0,k=k+Math.imul(we,Qe)|0,k=k+Math.imul(Ke,ie)|0,O=O+Math.imul(Ke,Qe)|0,_=_+Math.imul(ve,ue)|0,k=k+Math.imul(ve,pt)|0,k=k+Math.imul(Q,ue)|0,O=O+Math.imul(Q,pt)|0;var uy=(F+_|0)+((k&8191)<<13)|0;F=(O+(k>>>13)|0)+(uy>>>26)|0,uy&=67108863,_=Math.imul(Re,et),k=Math.imul(Re,st),k=k+Math.imul(_e,et)|0,O=Math.imul(_e,st),_=_+Math.imul(se,tt)|0,k=k+Math.imul(se,Ee)|0,k=k+Math.imul(ce,tt)|0,O=O+Math.imul(ce,Ee)|0,_=_+Math.imul(ye,Me)|0,k=k+Math.imul(ye,Je)|0,k=k+Math.imul(W,Me)|0,O=O+Math.imul(W,Je)|0,_=_+Math.imul(He,ie)|0,k=k+Math.imul(He,Qe)|0,k=k+Math.imul(gt,ie)|0,O=O+Math.imul(gt,Qe)|0,_=_+Math.imul(we,ue)|0,k=k+Math.imul(we,pt)|0,k=k+Math.imul(Ke,ue)|0,O=O+Math.imul(Ke,pt)|0;var hy=(F+_|0)+((k&8191)<<13)|0;F=(O+(k>>>13)|0)+(hy>>>26)|0,hy&=67108863,_=Math.imul(Re,tt),k=Math.imul(Re,Ee),k=k+Math.imul(_e,tt)|0,O=Math.imul(_e,Ee),_=_+Math.imul(se,Me)|0,k=k+Math.imul(se,Je)|0,k=k+Math.imul(ce,Me)|0,O=O+Math.imul(ce,Je)|0,_=_+Math.imul(ye,ie)|0,k=k+Math.imul(ye,Qe)|0,k=k+Math.imul(W,ie)|0,O=O+Math.imul(W,Qe)|0,_=_+Math.imul(He,ue)|0,k=k+Math.imul(He,pt)|0,k=k+Math.imul(gt,ue)|0,O=O+Math.imul(gt,pt)|0;var fy=(F+_|0)+((k&8191)<<13)|0;F=(O+(k>>>13)|0)+(fy>>>26)|0,fy&=67108863,_=Math.imul(Re,Me),k=Math.imul(Re,Je),k=k+Math.imul(_e,Me)|0,O=Math.imul(_e,Je),_=_+Math.imul(se,ie)|0,k=k+Math.imul(se,Qe)|0,k=k+Math.imul(ce,ie)|0,O=O+Math.imul(ce,Qe)|0,_=_+Math.imul(ye,ue)|0,k=k+Math.imul(ye,pt)|0,k=k+Math.imul(W,ue)|0,O=O+Math.imul(W,pt)|0;var my=(F+_|0)+((k&8191)<<13)|0;F=(O+(k>>>13)|0)+(my>>>26)|0,my&=67108863,_=Math.imul(Re,ie),k=Math.imul(Re,Qe),k=k+Math.imul(_e,ie)|0,O=Math.imul(_e,Qe),_=_+Math.imul(se,ue)|0,k=k+Math.imul(se,pt)|0,k=k+Math.imul(ce,ue)|0,O=O+Math.imul(ce,pt)|0;var py=(F+_|0)+((k&8191)<<13)|0;F=(O+(k>>>13)|0)+(py>>>26)|0,py&=67108863,_=Math.imul(Re,ue),k=Math.imul(Re,pt),k=k+Math.imul(_e,ue)|0,O=Math.imul(_e,pt);var gy=(F+_|0)+((k&8191)<<13)|0;return F=(O+(k>>>13)|0)+(gy>>>26)|0,gy&=67108863,A[0]=zt,A[1]=on,A[2]=qt,A[3]=Ot,A[4]=dt,A[5]=Ys,A[6]=Ms,A[7]=ts,A[8]=Xs,A[9]=Al,A[10]=ly,A[11]=cy,A[12]=dy,A[13]=uy,A[14]=hy,A[15]=fy,A[16]=my,A[17]=py,A[18]=gy,F!==0&&(A[19]=F,C.length++),C};Math.imul||(v=b);function N(D,g,j){j.negative=g.negative^D.negative,j.length=D.length+g.length;for(var C=0,P=0,S=0;S<j.length-1;S++){var A=P;P=0;for(var F=C&67108863,_=Math.min(S,g.length-1),k=Math.max(0,S-D.length+1);k<=_;k++){var O=S-k,q=D.words[O]|0,I=g.words[k]|0,V=q*I,G=V&67108863;A=A+(V/67108864|0)|0,G=G+F|0,F=G&67108863,A=A+(G>>>26)|0,P+=A>>>26,A&=67108863}j.words[S]=F,C=A,A=P}return C!==0?j.words[S]=C:j.length--,j._strip()}function E(D,g,j){return N(D,g,j)}i.prototype.mulTo=function(g,j){var C,P=this.length+g.length;return this.length===10&&g.length===10?C=v(this,g,j):P<63?C=b(this,g,j):P<1024?C=N(this,g,j):C=E(this,g,j),C},i.prototype.mul=function(g){var j=new i(null);return j.words=new Array(this.length+g.length),this.mulTo(g,j)},i.prototype.mulf=function(g){var j=new i(null);return j.words=new Array(this.length+g.length),E(this,g,j)},i.prototype.imul=function(g){return this.clone().mulTo(g,this)},i.prototype.imuln=function(g){var j=g<0;j&&(g=-g),s(typeof g=="number"),s(g<67108864);for(var C=0,P=0;P<this.length;P++){var S=(this.words[P]|0)*g,A=(S&67108863)+(C&67108863);C>>=26,C+=S/67108864|0,C+=A>>>26,this.words[P]=A&67108863}return C!==0&&(this.words[P]=C,this.length++),this.length=g===0?1:this.length,j?this.ineg():this},i.prototype.muln=function(g){return this.clone().imuln(g)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(g){var j=w(g);if(j.length===0)return new i(1);for(var C=this,P=0;P<j.length&&j[P]===0;P++,C=C.sqr());if(++P<j.length)for(var S=C.sqr();P<j.length;P++,S=S.sqr())j[P]!==0&&(C=C.mul(S));return C},i.prototype.iushln=function(g){s(typeof g=="number"&&g>=0);var j=g%26,C=(g-j)/26,P=67108863>>>26-j<<26-j,S;if(j!==0){var A=0;for(S=0;S<this.length;S++){var F=this.words[S]&P,_=(this.words[S]|0)-F<<j;this.words[S]=_|A,A=F>>>26-j}A&&(this.words[S]=A,this.length++)}if(C!==0){for(S=this.length-1;S>=0;S--)this.words[S+C]=this.words[S];for(S=0;S<C;S++)this.words[S]=0;this.length+=C}return this._strip()},i.prototype.ishln=function(g){return s(this.negative===0),this.iushln(g)},i.prototype.iushrn=function(g,j,C){s(typeof g=="number"&&g>=0);var P;j?P=(j-j%26)/26:P=0;var S=g%26,A=Math.min((g-S)/26,this.length),F=67108863^67108863>>>S<<S,_=C;if(P-=A,P=Math.max(0,P),_){for(var k=0;k<A;k++)_.words[k]=this.words[k];_.length=A}if(A!==0)if(this.length>A)for(this.length-=A,k=0;k<this.length;k++)this.words[k]=this.words[k+A];else this.words[0]=0,this.length=1;var O=0;for(k=this.length-1;k>=0&&(O!==0||k>=P);k--){var q=this.words[k]|0;this.words[k]=O<<26-S|q>>>S,O=q&F}return _&&O!==0&&(_.words[_.length++]=O),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(g,j,C){return s(this.negative===0),this.iushrn(g,j,C)},i.prototype.shln=function(g){return this.clone().ishln(g)},i.prototype.ushln=function(g){return this.clone().iushln(g)},i.prototype.shrn=function(g){return this.clone().ishrn(g)},i.prototype.ushrn=function(g){return this.clone().iushrn(g)},i.prototype.testn=function(g){s(typeof g=="number"&&g>=0);var j=g%26,C=(g-j)/26,P=1<<j;if(this.length<=C)return!1;var S=this.words[C];return!!(S&P)},i.prototype.imaskn=function(g){s(typeof g=="number"&&g>=0);var j=g%26,C=(g-j)/26;if(s(this.negative===0,"imaskn works only with positive numbers"),this.length<=C)return this;if(j!==0&&C++,this.length=Math.min(C,this.length),j!==0){var P=67108863^67108863>>>j<<j;this.words[this.length-1]&=P}return this._strip()},i.prototype.maskn=function(g){return this.clone().imaskn(g)},i.prototype.iaddn=function(g){return s(typeof g=="number"),s(g<67108864),g<0?this.isubn(-g):this.negative!==0?this.length===1&&(this.words[0]|0)<=g?(this.words[0]=g-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(g),this.negative=1,this):this._iaddn(g)},i.prototype._iaddn=function(g){this.words[0]+=g;for(var j=0;j<this.length&&this.words[j]>=67108864;j++)this.words[j]-=67108864,j===this.length-1?this.words[j+1]=1:this.words[j+1]++;return this.length=Math.max(this.length,j+1),this},i.prototype.isubn=function(g){if(s(typeof g=="number"),s(g<67108864),g<0)return this.iaddn(-g);if(this.negative!==0)return this.negative=0,this.iaddn(g),this.negative=1,this;if(this.words[0]-=g,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var j=0;j<this.length&&this.words[j]<0;j++)this.words[j]+=67108864,this.words[j+1]-=1;return this._strip()},i.prototype.addn=function(g){return this.clone().iaddn(g)},i.prototype.subn=function(g){return this.clone().isubn(g)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(g,j,C){var P=g.length+C,S;this._expand(P);var A,F=0;for(S=0;S<g.length;S++){A=(this.words[S+C]|0)+F;var _=(g.words[S]|0)*j;A-=_&67108863,F=(A>>26)-(_/67108864|0),this.words[S+C]=A&67108863}for(;S<this.length-C;S++)A=(this.words[S+C]|0)+F,F=A>>26,this.words[S+C]=A&67108863;if(F===0)return this._strip();for(s(F===-1),F=0,S=0;S<this.length;S++)A=-(this.words[S]|0)+F,F=A>>26,this.words[S]=A&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(g,j){var C=this.length-g.length,P=this.clone(),S=g,A=S.words[S.length-1]|0,F=this._countBits(A);C=26-F,C!==0&&(S=S.ushln(C),P.iushln(C),A=S.words[S.length-1]|0);var _=P.length-S.length,k;if(j!=="mod"){k=new i(null),k.length=_+1,k.words=new Array(k.length);for(var O=0;O<k.length;O++)k.words[O]=0}var q=P.clone()._ishlnsubmul(S,1,_);q.negative===0&&(P=q,k&&(k.words[_]=1));for(var I=_-1;I>=0;I--){var V=(P.words[S.length+I]|0)*67108864+(P.words[S.length+I-1]|0);for(V=Math.min(V/A|0,67108863),P._ishlnsubmul(S,V,I);P.negative!==0;)V--,P.negative=0,P._ishlnsubmul(S,1,I),P.isZero()||(P.negative^=1);k&&(k.words[I]=V)}return k&&k._strip(),P._strip(),j!=="div"&&C!==0&&P.iushrn(C),{div:k||null,mod:P}},i.prototype.divmod=function(g,j,C){if(s(!g.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var P,S,A;return this.negative!==0&&g.negative===0?(A=this.neg().divmod(g,j),j!=="mod"&&(P=A.div.neg()),j!=="div"&&(S=A.mod.neg(),C&&S.negative!==0&&S.iadd(g)),{div:P,mod:S}):this.negative===0&&g.negative!==0?(A=this.divmod(g.neg(),j),j!=="mod"&&(P=A.div.neg()),{div:P,mod:A.mod}):this.negative&g.negative?(A=this.neg().divmod(g.neg(),j),j!=="div"&&(S=A.mod.neg(),C&&S.negative!==0&&S.isub(g)),{div:A.div,mod:S}):g.length>this.length||this.cmp(g)<0?{div:new i(0),mod:this}:g.length===1?j==="div"?{div:this.divn(g.words[0]),mod:null}:j==="mod"?{div:null,mod:new i(this.modrn(g.words[0]))}:{div:this.divn(g.words[0]),mod:new i(this.modrn(g.words[0]))}:this._wordDiv(g,j)},i.prototype.div=function(g){return this.divmod(g,"div",!1).div},i.prototype.mod=function(g){return this.divmod(g,"mod",!1).mod},i.prototype.umod=function(g){return this.divmod(g,"mod",!0).mod},i.prototype.divRound=function(g){var j=this.divmod(g);if(j.mod.isZero())return j.div;var C=j.div.negative!==0?j.mod.isub(g):j.mod,P=g.ushrn(1),S=g.andln(1),A=C.cmp(P);return A<0||S===1&&A===0?j.div:j.div.negative!==0?j.div.isubn(1):j.div.iaddn(1)},i.prototype.modrn=function(g){var j=g<0;j&&(g=-g),s(g<=67108863);for(var C=(1<<26)%g,P=0,S=this.length-1;S>=0;S--)P=(C*P+(this.words[S]|0))%g;return j?-P:P},i.prototype.modn=function(g){return this.modrn(g)},i.prototype.idivn=function(g){var j=g<0;j&&(g=-g),s(g<=67108863);for(var C=0,P=this.length-1;P>=0;P--){var S=(this.words[P]|0)+C*67108864;this.words[P]=S/g|0,C=S%g}return this._strip(),j?this.ineg():this},i.prototype.divn=function(g){return this.clone().idivn(g)},i.prototype.egcd=function(g){s(g.negative===0),s(!g.isZero());var j=this,C=g.clone();j.negative!==0?j=j.umod(g):j=j.clone();for(var P=new i(1),S=new i(0),A=new i(0),F=new i(1),_=0;j.isEven()&&C.isEven();)j.iushrn(1),C.iushrn(1),++_;for(var k=C.clone(),O=j.clone();!j.isZero();){for(var q=0,I=1;!(j.words[0]&I)&&q<26;++q,I<<=1);if(q>0)for(j.iushrn(q);q-- >0;)(P.isOdd()||S.isOdd())&&(P.iadd(k),S.isub(O)),P.iushrn(1),S.iushrn(1);for(var V=0,G=1;!(C.words[0]&G)&&V<26;++V,G<<=1);if(V>0)for(C.iushrn(V);V-- >0;)(A.isOdd()||F.isOdd())&&(A.iadd(k),F.isub(O)),A.iushrn(1),F.iushrn(1);j.cmp(C)>=0?(j.isub(C),P.isub(A),S.isub(F)):(C.isub(j),A.isub(P),F.isub(S))}return{a:A,b:F,gcd:C.iushln(_)}},i.prototype._invmp=function(g){s(g.negative===0),s(!g.isZero());var j=this,C=g.clone();j.negative!==0?j=j.umod(g):j=j.clone();for(var P=new i(1),S=new i(0),A=C.clone();j.cmpn(1)>0&&C.cmpn(1)>0;){for(var F=0,_=1;!(j.words[0]&_)&&F<26;++F,_<<=1);if(F>0)for(j.iushrn(F);F-- >0;)P.isOdd()&&P.iadd(A),P.iushrn(1);for(var k=0,O=1;!(C.words[0]&O)&&k<26;++k,O<<=1);if(k>0)for(C.iushrn(k);k-- >0;)S.isOdd()&&S.iadd(A),S.iushrn(1);j.cmp(C)>=0?(j.isub(C),P.isub(S)):(C.isub(j),S.isub(P))}var q;return j.cmpn(1)===0?q=P:q=S,q.cmpn(0)<0&&q.iadd(g),q},i.prototype.gcd=function(g){if(this.isZero())return g.abs();if(g.isZero())return this.abs();var j=this.clone(),C=g.clone();j.negative=0,C.negative=0;for(var P=0;j.isEven()&&C.isEven();P++)j.iushrn(1),C.iushrn(1);do{for(;j.isEven();)j.iushrn(1);for(;C.isEven();)C.iushrn(1);var S=j.cmp(C);if(S<0){var A=j;j=C,C=A}else if(S===0||C.cmpn(1)===0)break;j.isub(C)}while(!0);return C.iushln(P)},i.prototype.invm=function(g){return this.egcd(g).a.umod(g)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(g){return this.words[0]&g},i.prototype.bincn=function(g){s(typeof g=="number");var j=g%26,C=(g-j)/26,P=1<<j;if(this.length<=C)return this._expand(C+1),this.words[C]|=P,this;for(var S=P,A=C;S!==0&&A<this.length;A++){var F=this.words[A]|0;F+=S,S=F>>>26,F&=67108863,this.words[A]=F}return S!==0&&(this.words[A]=S,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(g){var j=g<0;if(this.negative!==0&&!j)return-1;if(this.negative===0&&j)return 1;this._strip();var C;if(this.length>1)C=1;else{j&&(g=-g),s(g<=67108863,"Number is too big");var P=this.words[0]|0;C=P===g?0:P<g?-1:1}return this.negative!==0?-C|0:C},i.prototype.cmp=function(g){if(this.negative!==0&&g.negative===0)return-1;if(this.negative===0&&g.negative!==0)return 1;var j=this.ucmp(g);return this.negative!==0?-j|0:j},i.prototype.ucmp=function(g){if(this.length>g.length)return 1;if(this.length<g.length)return-1;for(var j=0,C=this.length-1;C>=0;C--){var P=this.words[C]|0,S=g.words[C]|0;if(P!==S){P<S?j=-1:P>S&&(j=1);break}}return j},i.prototype.gtn=function(g){return this.cmpn(g)===1},i.prototype.gt=function(g){return this.cmp(g)===1},i.prototype.gten=function(g){return this.cmpn(g)>=0},i.prototype.gte=function(g){return this.cmp(g)>=0},i.prototype.ltn=function(g){return this.cmpn(g)===-1},i.prototype.lt=function(g){return this.cmp(g)===-1},i.prototype.lten=function(g){return this.cmpn(g)<=0},i.prototype.lte=function(g){return this.cmp(g)<=0},i.prototype.eqn=function(g){return this.cmpn(g)===0},i.prototype.eq=function(g){return this.cmp(g)===0},i.red=function(g){return new z(g)},i.prototype.toRed=function(g){return s(!this.red,"Already a number in reduction context"),s(this.negative===0,"red works only with positives"),g.convertTo(this)._forceRed(g)},i.prototype.fromRed=function(){return s(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(g){return this.red=g,this},i.prototype.forceRed=function(g){return s(!this.red,"Already a number in reduction context"),this._forceRed(g)},i.prototype.redAdd=function(g){return s(this.red,"redAdd works only with red numbers"),this.red.add(this,g)},i.prototype.redIAdd=function(g){return s(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,g)},i.prototype.redSub=function(g){return s(this.red,"redSub works only with red numbers"),this.red.sub(this,g)},i.prototype.redISub=function(g){return s(this.red,"redISub works only with red numbers"),this.red.isub(this,g)},i.prototype.redShl=function(g){return s(this.red,"redShl works only with red numbers"),this.red.shl(this,g)},i.prototype.redMul=function(g){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,g),this.red.mul(this,g)},i.prototype.redIMul=function(g){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,g),this.red.imul(this,g)},i.prototype.redSqr=function(){return s(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return s(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return s(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return s(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return s(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(g){return s(this.red&&!g.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,g)};var T={k256:null,p224:null,p192:null,p25519:null};function R(D,g){this.name=D,this.p=new i(g,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}R.prototype._tmp=function(){var g=new i(null);return g.words=new Array(Math.ceil(this.n/13)),g},R.prototype.ireduce=function(g){var j=g,C;do this.split(j,this.tmp),j=this.imulK(j),j=j.iadd(this.tmp),C=j.bitLength();while(C>this.n);var P=C<this.n?-1:j.ucmp(this.p);return P===0?(j.words[0]=0,j.length=1):P>0?j.isub(this.p):j.strip!==void 0?j.strip():j._strip(),j},R.prototype.split=function(g,j){g.iushrn(this.n,0,j)},R.prototype.imulK=function(g){return g.imul(this.k)};function $(){R.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}r($,R),$.prototype.split=function(g,j){for(var C=4194303,P=Math.min(g.length,9),S=0;S<P;S++)j.words[S]=g.words[S];if(j.length=P,g.length<=9){g.words[0]=0,g.length=1;return}var A=g.words[9];for(j.words[j.length++]=A&C,S=10;S<g.length;S++){var F=g.words[S]|0;g.words[S-10]=(F&C)<<4|A>>>22,A=F}A>>>=22,g.words[S-10]=A,A===0&&g.length>10?g.length-=10:g.length-=9},$.prototype.imulK=function(g){g.words[g.length]=0,g.words[g.length+1]=0,g.length+=2;for(var j=0,C=0;C<g.length;C++){var P=g.words[C]|0;j+=P*977,g.words[C]=j&67108863,j=P*64+(j/67108864|0)}return g.words[g.length-1]===0&&(g.length--,g.words[g.length-1]===0&&g.length--),g};function M(){R.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}r(M,R);function L(){R.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}r(L,R);function U(){R.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}r(U,R),U.prototype.imulK=function(g){for(var j=0,C=0;C<g.length;C++){var P=(g.words[C]|0)*19+j,S=P&67108863;P>>>=26,g.words[C]=S,j=P}return j!==0&&(g.words[g.length++]=j),g},i._prime=function(g){if(T[g])return T[g];var j;if(g==="k256")j=new $;else if(g==="p224")j=new M;else if(g==="p192")j=new L;else if(g==="p25519")j=new U;else throw new Error("Unknown prime "+g);return T[g]=j,j};function z(D){if(typeof D=="string"){var g=i._prime(D);this.m=g.p,this.prime=g}else s(D.gtn(1),"modulus must be greater than 1"),this.m=D,this.prime=null}z.prototype._verify1=function(g){s(g.negative===0,"red works only with positives"),s(g.red,"red works only with red numbers")},z.prototype._verify2=function(g,j){s((g.negative|j.negative)===0,"red works only with positives"),s(g.red&&g.red===j.red,"red works only with red numbers")},z.prototype.imod=function(g){return this.prime?this.prime.ireduce(g)._forceRed(this):(u(g,g.umod(this.m)._forceRed(this)),g)},z.prototype.neg=function(g){return g.isZero()?g.clone():this.m.sub(g)._forceRed(this)},z.prototype.add=function(g,j){this._verify2(g,j);var C=g.add(j);return C.cmp(this.m)>=0&&C.isub(this.m),C._forceRed(this)},z.prototype.iadd=function(g,j){this._verify2(g,j);var C=g.iadd(j);return C.cmp(this.m)>=0&&C.isub(this.m),C},z.prototype.sub=function(g,j){this._verify2(g,j);var C=g.sub(j);return C.cmpn(0)<0&&C.iadd(this.m),C._forceRed(this)},z.prototype.isub=function(g,j){this._verify2(g,j);var C=g.isub(j);return C.cmpn(0)<0&&C.iadd(this.m),C},z.prototype.shl=function(g,j){return this._verify1(g),this.imod(g.ushln(j))},z.prototype.imul=function(g,j){return this._verify2(g,j),this.imod(g.imul(j))},z.prototype.mul=function(g,j){return this._verify2(g,j),this.imod(g.mul(j))},z.prototype.isqr=function(g){return this.imul(g,g.clone())},z.prototype.sqr=function(g){return this.mul(g,g)},z.prototype.sqrt=function(g){if(g.isZero())return g.clone();var j=this.m.andln(3);if(s(j%2===1),j===3){var C=this.m.add(new i(1)).iushrn(2);return this.pow(g,C)}for(var P=this.m.subn(1),S=0;!P.isZero()&&P.andln(1)===0;)S++,P.iushrn(1);s(!P.isZero());var A=new i(1).toRed(this),F=A.redNeg(),_=this.m.subn(1).iushrn(1),k=this.m.bitLength();for(k=new i(2*k*k).toRed(this);this.pow(k,_).cmp(F)!==0;)k.redIAdd(F);for(var O=this.pow(k,P),q=this.pow(g,P.addn(1).iushrn(1)),I=this.pow(g,P),V=S;I.cmp(A)!==0;){for(var G=I,H=0;G.cmp(A)!==0;H++)G=G.redSqr();s(H<V);var K=this.pow(O,new i(1).iushln(V-H-1));q=q.redMul(K),O=K.redSqr(),I=I.redMul(O),V=H}return q},z.prototype.invm=function(g){var j=g._invmp(this.m);return j.negative!==0?(j.negative=0,this.imod(j).redNeg()):this.imod(j)},z.prototype.pow=function(g,j){if(j.isZero())return new i(1).toRed(this);if(j.cmpn(1)===0)return g.clone();var C=4,P=new Array(1<<C);P[0]=new i(1).toRed(this),P[1]=g;for(var S=2;S<P.length;S++)P[S]=this.mul(P[S-1],g);var A=P[0],F=0,_=0,k=j.bitLength()%26;for(k===0&&(k=26),S=j.length-1;S>=0;S--){for(var O=j.words[S],q=k-1;q>=0;q--){var I=O>>q&1;if(A!==P[0]&&(A=this.sqr(A)),I===0&&F===0){_=0;continue}F<<=1,F|=I,_++,!(_!==C&&(S!==0||q!==0))&&(A=this.mul(A,P[F]),_=0,F=0)}k=26}return A},z.prototype.convertTo=function(g){var j=g.umod(this.m);return j===g?j.clone():j},z.prototype.convertFrom=function(g){var j=g.clone();return j.red=null,j},i.mont=function(g){return new B(g)};function B(D){z.call(this,D),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}r(B,z),B.prototype.convertTo=function(g){return this.imod(g.ushln(this.shift))},B.prototype.convertFrom=function(g){var j=this.imod(g.mul(this.rinv));return j.red=null,j},B.prototype.imul=function(g,j){if(g.isZero()||j.isZero())return g.words[0]=0,g.length=1,g;var C=g.imul(j),P=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=C.isub(P).iushrn(this.shift),A=S;return S.cmp(this.m)>=0?A=S.isub(this.m):S.cmpn(0)<0&&(A=S.iadd(this.m)),A._forceRed(this)},B.prototype.mul=function(g,j){if(g.isZero()||j.isZero())return new i(0)._forceRed(this);var C=g.mul(j),P=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=C.isub(P).iushrn(this.shift),A=S;return S.cmp(this.m)>=0?A=S.isub(this.m):S.cmpn(0)<0&&(A=S.iadd(this.m)),A._forceRed(this)},B.prototype.invm=function(g){var j=this.imod(g._invmp(this.m).mul(this.r2));return j._forceRed(this)}})(t,hB)})(fk);var SQ=fk.exports;const mt=pu(SQ),AQ="logger/5.8.0";let sC=!1,rC=!1;const rg={debug:1,default:2,info:2,warning:3,error:4,off:5};let iC=rg.default,fv=null;function TQ(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const aC=TQ();var n1;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(n1||(n1={}));var vi;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(vi||(vi={}));const oC="0123456789abcdef";let re=class Yn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,n){const s=e.toLowerCase();rg[s]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(iC>rg[s])&&console.log.apply(console,n)}debug(...e){this._log(Yn.levels.DEBUG,e)}info(...e){this._log(Yn.levels.INFO,e)}warn(...e){this._log(Yn.levels.WARNING,e)}makeError(e,n,s){if(rC)return this.makeError("censored error",n,{});n||(n=Yn.errors.UNKNOWN_ERROR),s||(s={});const r=[];Object.keys(s).forEach(c=>{const d=s[c];try{if(d instanceof Uint8Array){let u="";for(let h=0;h<d.length;h++)u+=oC[d[h]>>4],u+=oC[d[h]&15];r.push(c+"=Uint8Array(0x"+u+")")}else r.push(c+"="+JSON.stringify(d))}catch{r.push(c+"="+JSON.stringify(s[c].toString()))}}),r.push(`code=${n}`),r.push(`version=${this.version}`);const i=e;let o="";switch(n){case vi.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case vi.CALL_EXCEPTION:case vi.INSUFFICIENT_FUNDS:case vi.MISSING_NEW:case vi.NONCE_EXPIRED:case vi.REPLACEMENT_UNDERPRICED:case vi.TRANSACTION_REPLACED:case vi.UNPREDICTABLE_GAS_LIMIT:o=n;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),r.length&&(e+=" ("+r.join(", ")+")");const l=new Error(e);return l.reason=i,l.code=n,Object.keys(s).forEach(function(c){l[c]=s[c]}),l}throwError(e,n,s){throw this.makeError(e,n,s)}throwArgumentError(e,n,s){return this.throwError(e,Yn.errors.INVALID_ARGUMENT,{argument:n,value:s})}assert(e,n,s,r){e||this.throwError(n,s,r)}assertArgument(e,n,s,r){e||this.throwArgumentError(n,s,r)}checkNormalize(e){aC&&this.throwError("platform missing String.prototype.normalize",Yn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:aC})}checkSafeUint53(e,n){typeof e=="number"&&(n==null&&(n="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(n,Yn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(n,Yn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,n,s){s?s=": "+s:s="",e<n&&this.throwError("missing argument"+s,Yn.errors.MISSING_ARGUMENT,{count:e,expectedCount:n}),e>n&&this.throwError("too many arguments"+s,Yn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:n})}checkNew(e,n){(e===Object||e==null)&&this.throwError("missing new",Yn.errors.MISSING_NEW,{name:n.name})}checkAbstract(e,n){e===n?this.throwError("cannot instantiate abstract class "+JSON.stringify(n.name)+" directly; use a sub-class",Yn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Yn.errors.MISSING_NEW,{name:n.name})}static globalLogger(){return fv||(fv=new Yn(AQ)),fv}static setCensorship(e,n){if(!e&&n&&this.globalLogger().throwError("cannot permanently disable censorship",Yn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),sC){if(!e)return;this.globalLogger().throwError("error censorship permanent",Yn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}rC=!!e,sC=!!n}static setLogLevel(e){const n=rg[e.toLowerCase()];if(n==null){Yn.globalLogger().warn("invalid log level - "+e);return}iC=n}static from(e){return new Yn(e)}};re.errors=vi;re.levels=n1;const CQ="bytes/5.8.0",An=new re(CQ);function I3(t){return!!t.toHexString}function Md(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Md(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Ex(t){return Ut(t)&&!(t.length%2)||Bc(t)}function lC(t){return typeof t=="number"&&t==t&&t%1===0}function Bc(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!lC(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const n=t[e];if(!lC(n)||n<0||n>=256)return!1}return!0}function nt(t,e){if(e||(e={}),typeof t=="number"){An.checkSafeUint53(t,"invalid arrayify value");const n=[];for(;t;)n.unshift(t&255),t=parseInt(String(t/256));return n.length===0&&n.push(0),Md(new Uint8Array(n))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),I3(t)&&(t=t.toHexString()),Ut(t)){let n=t.substring(2);n.length%2&&(e.hexPad==="left"?n="0"+n:e.hexPad==="right"?n+="0":An.throwArgumentError("hex data is odd-length","value",t));const s=[];for(let r=0;r<n.length;r+=2)s.push(parseInt(n.substring(r,r+2),16));return Md(new Uint8Array(s))}return Bc(t)?Md(new Uint8Array(t)):An.throwArgumentError("invalid arrayify value","value",t)}function zs(t){const e=t.map(r=>nt(r)),n=e.reduce((r,i)=>r+i.length,0),s=new Uint8Array(n);return e.reduce((r,i)=>(s.set(i,r),r+i.length),0),Md(s)}function qa(t){let e=nt(t);if(e.length===0)return e;let n=0;for(;n<e.length&&e[n]===0;)n++;return n&&(e=e.slice(n)),e}function EQ(t,e){t=nt(t),t.length>e&&An.throwArgumentError("value out of range","value",arguments[0]);const n=new Uint8Array(e);return n.set(t,e-t.length),Md(n)}function Ut(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const mv="0123456789abcdef";function Xe(t,e){if(e||(e={}),typeof t=="number"){An.checkSafeUint53(t,"invalid hexlify value");let n="";for(;t;)n=mv[t&15]+n,t=Math.floor(t/16);return n.length?(n.length%2&&(n="0"+n),"0x"+n):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),I3(t))return t.toHexString();if(Ut(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":An.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(Bc(t)){let n="0x";for(let s=0;s<t.length;s++){let r=t[s];n+=mv[(r&240)>>4]+mv[r&15]}return n}return An.throwArgumentError("invalid hexlify value","value",t)}function jc(t){if(typeof t!="string")t=Xe(t);else if(!Ut(t)||t.length%2)return null;return(t.length-2)/2}function ks(t,e,n){return typeof t!="string"?t=Xe(t):(!Ut(t)||t.length%2)&&An.throwArgumentError("invalid hexData","value",t),e=2+2*e,n!=null?"0x"+t.substring(e,2+2*n):"0x"+t.substring(e)}function sr(t){let e="0x";return t.forEach(n=>{e+=Xe(n).substring(2)}),e}function mk(t){const e=_Q(Xe(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function _Q(t){typeof t!="string"&&(t=Xe(t)),Ut(t)||An.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function pn(t,e){for(typeof t!="string"?t=Xe(t):Ut(t)||An.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&An.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function Cu(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(Ex(t)){let n=nt(t);n.length===64?(e.v=27+(n[32]>>7),n[32]&=127,e.r=Xe(n.slice(0,32)),e.s=Xe(n.slice(32,64))):n.length===65?(e.r=Xe(n.slice(0,32)),e.s=Xe(n.slice(32,64)),e.v=n[64]):An.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:An.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(n[32]|=128),e._vs=Xe(n.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const r=EQ(nt(e._vs),32);e._vs=Xe(r);const i=r[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=i:e.recoveryParam!==i&&An.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),r[0]&=127;const o=Xe(r);e.s==null?e.s=o:e.s!==o&&An.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?An.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const r=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==r&&An.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!Ut(e.r)?An.throwArgumentError("signature missing or invalid r","signature",t):e.r=pn(e.r,32),e.s==null||!Ut(e.s)?An.throwArgumentError("signature missing or invalid s","signature",t):e.s=pn(e.s,32);const n=nt(e.s);n[0]>=128&&An.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(n[0]|=128);const s=Xe(n);e._vs&&(Ut(e._vs)||An.throwArgumentError("signature invalid _vs","signature",t),e._vs=pn(e._vs,32)),e._vs==null?e._vs=s:e._vs!==s&&An.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function Txe(t){return t=Cu(t),Xe(zs([t.r,t.s,t.recoveryParam?"0x1c":"0x1b"]))}const R3="bignumber/5.8.0";var h0=mt.BN;const $a=new re(R3),pv={},cC=9007199254740991;function PQ(t){return t!=null&&(Oe.isBigNumber(t)||typeof t=="number"&&t%1===0||typeof t=="string"&&!!t.match(/^-?[0-9]+$/)||Ut(t)||typeof t=="bigint"||Bc(t))}let dC=!1,Oe=class fi{constructor(e,n){e!==pv&&$a.throwError("cannot call constructor directly; use BigNumber.from",re.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=n,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return Js(It(this).fromTwos(e))}toTwos(e){return Js(It(this).toTwos(e))}abs(){return this._hex[0]==="-"?fi.from(this._hex.substring(1)):this}add(e){return Js(It(this).add(It(e)))}sub(e){return Js(It(this).sub(It(e)))}div(e){return fi.from(e).isZero()&&Or("division-by-zero","div"),Js(It(this).div(It(e)))}mul(e){return Js(It(this).mul(It(e)))}mod(e){const n=It(e);return n.isNeg()&&Or("division-by-zero","mod"),Js(It(this).umod(n))}pow(e){const n=It(e);return n.isNeg()&&Or("negative-power","pow"),Js(It(this).pow(n))}and(e){const n=It(e);return(this.isNegative()||n.isNeg())&&Or("unbound-bitwise-result","and"),Js(It(this).and(n))}or(e){const n=It(e);return(this.isNegative()||n.isNeg())&&Or("unbound-bitwise-result","or"),Js(It(this).or(n))}xor(e){const n=It(e);return(this.isNegative()||n.isNeg())&&Or("unbound-bitwise-result","xor"),Js(It(this).xor(n))}mask(e){return(this.isNegative()||e<0)&&Or("negative-width","mask"),Js(It(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&Or("negative-width","shl"),Js(It(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&Or("negative-width","shr"),Js(It(this).shrn(e))}eq(e){return It(this).eq(It(e))}lt(e){return It(this).lt(It(e))}lte(e){return It(this).lte(It(e))}gt(e){return It(this).gt(It(e))}gte(e){return It(this).gte(It(e))}isNegative(){return this._hex[0]==="-"}isZero(){return It(this).isZero()}toNumber(){try{return It(this).toNumber()}catch{Or("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return $a.throwError("this platform does not support BigInt",re.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?dC||(dC=!0,$a.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?$a.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",re.errors.UNEXPECTED_ARGUMENT,{}):$a.throwError("BigNumber.toString does not accept parameters",re.errors.UNEXPECTED_ARGUMENT,{})),It(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof fi)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new fi(pv,Rf(e)):e.match(/^-?[0-9]+$/)?new fi(pv,Rf(new h0(e))):$a.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&Or("underflow","BigNumber.from",e),(e>=cC||e<=-cC)&&Or("overflow","BigNumber.from",e),fi.from(String(e));const n=e;if(typeof n=="bigint")return fi.from(n.toString());if(Bc(n))return fi.from(Xe(n));if(n)if(n.toHexString){const s=n.toHexString();if(typeof s=="string")return fi.from(s)}else{let s=n._hex;if(s==null&&n.type==="BigNumber"&&(s=n.hex),typeof s=="string"&&(Ut(s)||s[0]==="-"&&Ut(s.substring(1))))return fi.from(s)}return $a.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}};function Rf(t){if(typeof t!="string")return Rf(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&$a.throwArgumentError("invalid hex","value",t),t=Rf(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function Js(t){return Oe.from(Rf(t))}function It(t){const e=Oe.from(t).toHexString();return e[0]==="-"?new h0("-"+e.substring(3),16):new h0(e.substring(2),16)}function Or(t,e,n){const s={fault:t,operation:e};return n!=null&&(s.value=n),$a.throwError(t,re.errors.NUMERIC_FAULT,s)}function IQ(t){return new h0(t,36).toString(16)}const Os=new re(R3),Hh={},M3=Oe.from(0),D3=Oe.from(-1);function $3(t,e,n,s){const r={fault:e,operation:n};return s!==void 0&&(r.value=s),Os.throwError(t,re.errors.NUMERIC_FAULT,r)}let Wh="0";for(;Wh.length<256;)Wh+=Wh;function pk(t){if(typeof t!="number")try{t=Oe.from(t).toNumber()}catch{}return typeof t=="number"&&t>=0&&t<=256&&!(t%1)?"1"+Wh.substring(0,t):Os.throwArgumentError("invalid decimal size","decimals",t)}function ig(t,e){e==null&&(e=0);const n=pk(e);t=Oe.from(t);const s=t.lt(M3);s&&(t=t.mul(D3));let r=t.mod(n).toString();for(;r.length<n.length-1;)r="0"+r;r=r.match(/^([0-9]*[1-9]|0)(0*)/)[1];const i=t.div(n).toString();return n.length===1?t=i:t=i+"."+r,s&&(t="-"+t),t}function Vi(t,e){e==null&&(e=0);const n=pk(e);(typeof t!="string"||!t.match(/^-?[0-9.]+$/))&&Os.throwArgumentError("invalid decimal value","value",t);const s=t.substring(0,1)==="-";s&&(t=t.substring(1)),t==="."&&Os.throwArgumentError("missing value","value",t);const r=t.split(".");r.length>2&&Os.throwArgumentError("too many decimal points","value",t);let i=r[0],o=r[1];for(i||(i="0"),o||(o="0");o[o.length-1]==="0";)o=o.substring(0,o.length-1);for(o.length>n.length-1&&$3("fractional component exceeds decimals","underflow","parseFixed"),o===""&&(o="0");o.length<n.length-1;)o+="0";const l=Oe.from(i),c=Oe.from(o);let d=l.mul(n).add(c);return s&&(d=d.mul(D3)),d}class Dd{constructor(e,n,s,r){e!==Hh&&Os.throwError("cannot use FixedFormat constructor; use FixedFormat.from",re.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=n,this.width=s,this.decimals=r,this.name=(n?"":"u")+"fixed"+String(s)+"x"+String(r),this._multiplier=pk(r),Object.freeze(this)}static from(e){if(e instanceof Dd)return e;typeof e=="number"&&(e=`fixed128x${e}`);let n=!0,s=128,r=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")n=!1;else{const i=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);i||Os.throwArgumentError("invalid fixed format","format",e),n=i[1]!=="u",s=parseInt(i[2]),r=parseInt(i[3])}}else if(e){const i=(o,l,c)=>e[o]==null?c:(typeof e[o]!==l&&Os.throwArgumentError("invalid fixed format ("+o+" not "+l+")","format."+o,e[o]),e[o]);n=i("signed","boolean",n),s=i("width","number",s),r=i("decimals","number",r)}return s%8&&Os.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",s),r>80&&Os.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",r),new Dd(Hh,n,s,r)}}class cs{constructor(e,n,s,r){e!==Hh&&Os.throwError("cannot use FixedNumber constructor; use FixedNumber.from",re.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=r,this._hex=n,this._value=s,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&Os.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const n=Vi(this._value,this.format.decimals),s=Vi(e._value,e.format.decimals);return cs.fromValue(n.add(s),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const n=Vi(this._value,this.format.decimals),s=Vi(e._value,e.format.decimals);return cs.fromValue(n.sub(s),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const n=Vi(this._value,this.format.decimals),s=Vi(e._value,e.format.decimals);return cs.fromValue(n.mul(s).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const n=Vi(this._value,this.format.decimals),s=Vi(e._value,e.format.decimals);return cs.fromValue(n.mul(this.format._multiplier).div(s),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let n=cs.from(e[0],this.format);const s=!e[1].match(/^(0*)$/);return this.isNegative()&&s&&(n=n.subUnsafe(uC.toFormat(n.format))),n}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let n=cs.from(e[0],this.format);const s=!e[1].match(/^(0*)$/);return!this.isNegative()&&s&&(n=n.addUnsafe(uC.toFormat(n.format))),n}round(e){e==null&&(e=0);const n=this.toString().split(".");if(n.length===1&&n.push("0"),(e<0||e>80||e%1)&&Os.throwArgumentError("invalid decimal count","decimals",e),n[1].length<=e)return this;const s=cs.from("1"+Wh.substring(0,e),this.format),r=RQ.toFormat(this.format);return this.mulUnsafe(s).addUnsafe(r).floor().divUnsafe(s)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&Os.throwArgumentError("invalid byte width","width",e);const n=Oe.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return pn(n,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return cs.fromString(this._value,e)}static fromValue(e,n,s){return s==null&&n!=null&&!PQ(n)&&(s=n,n=null),n==null&&(n=0),s==null&&(s="fixed"),cs.fromString(ig(e,n),Dd.from(s))}static fromString(e,n){n==null&&(n="fixed");const s=Dd.from(n),r=Vi(e,s.decimals);!s.signed&&r.lt(M3)&&$3("unsigned value cannot be negative","overflow","value",e);let i=null;s.signed?i=r.toTwos(s.width).toHexString():(i=r.toHexString(),i=pn(i,s.width/8));const o=ig(r,s.decimals);return new cs(Hh,i,o,s)}static fromBytes(e,n){n==null&&(n="fixed");const s=Dd.from(n);if(nt(e).length>s.width/8)throw new Error("overflow");let r=Oe.from(e);s.signed&&(r=r.fromTwos(s.width));const i=r.toTwos((s.signed?0:1)+s.width).toHexString(),o=ig(r,s.decimals);return new cs(Hh,i,o,s)}static from(e,n){if(typeof e=="string")return cs.fromString(e,n);if(Bc(e))return cs.fromBytes(e,n);try{return cs.fromValue(e,0,n)}catch(s){if(s.code!==re.errors.INVALID_ARGUMENT)throw s}return Os.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const uC=cs.from(1),RQ=cs.from("0.5"),MQ="properties/5.8.0";var DQ=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):r(u.value).then(l,c)}d((s=s.apply(t,e||[])).next())})};const f0=new re(MQ);function Se(t,e,n){Object.defineProperty(t,e,{enumerable:!0,value:n,writable:!1})}function Tr(t,e){for(let n=0;n<32;n++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function Un(t){return DQ(this,void 0,void 0,function*(){const e=Object.keys(t).map(s=>{const r=t[s];return Promise.resolve(r).then(i=>({key:s,value:i}))});return(yield Promise.all(e)).reduce((s,r)=>(s[r.key]=r.value,s),{})})}function O3(t,e){(!t||typeof t!="object")&&f0.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(n=>{e[n]||f0.throwArgumentError("invalid object key - "+n,"transaction:"+n,t)})}function Gn(t){const e={};for(const n in t)e[n]=t[n];return e}const $Q={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function F3(t){if(t==null||$Q[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let n=0;n<e.length;n++){let s=null;try{s=t[e[n]]}catch{continue}if(!F3(s))return!1}return!0}return f0.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function OQ(t){if(F3(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>no(e)));if(typeof t=="object"){const e={};for(const n in t){const s=t[n];s!==void 0&&Se(e,n,no(s))}return e}return f0.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function no(t){return OQ(t)}let vm=class{constructor(e){for(const n in e)this[n]=no(e[n])}};const bm="abi/5.8.0",Ft=new re(bm),Sc={};let hC={calldata:!0,memory:!0,storage:!0},FQ={calldata:!0,memory:!0};function ap(t,e){if(t==="bytes"||t==="string"){if(hC[e])return!0}else if(t==="address"){if(e==="payable")return!0}else if((t.indexOf("[")>=0||t==="tuple")&&FQ[e])return!0;return(hC[e]||e==="payable")&&Ft.throwArgumentError("invalid modifier","name",e),!1}function LQ(t,e){let n=t;function s(l){Ft.throwArgumentError(`unexpected character at position ${l}`,"param",t)}t=t.replace(/\s/g," ");function r(l){let c={type:"",name:"",parent:l,state:{allowType:!0}};return e&&(c.indexed=!1),c}let i={type:"",name:"",state:{allowType:!0}},o=i;for(let l=0;l<t.length;l++){let c=t[l];switch(c){case"(":o.state.allowType&&o.type===""?o.type="tuple":o.state.allowParams||s(l),o.state.allowType=!1,o.type=Qc(o.type),o.components=[r(o)],o=o.components[0];break;case")":delete o.state,o.name==="indexed"&&(e||s(l),o.indexed=!0,o.name=""),ap(o.type,o.name)&&(o.name=""),o.type=Qc(o.type);let d=o;o=o.parent,o||s(l),delete d.parent,o.state.allowParams=!1,o.state.allowName=!0,o.state.allowArray=!0;break;case",":delete o.state,o.name==="indexed"&&(e||s(l),o.indexed=!0,o.name=""),ap(o.type,o.name)&&(o.name=""),o.type=Qc(o.type);let u=r(o.parent);o.parent.components.push(u),delete o.parent,o=u;break;case" ":o.state.allowType&&o.type!==""&&(o.type=Qc(o.type),delete o.state.allowType,o.state.allowName=!0,o.state.allowParams=!0),o.state.allowName&&o.name!==""&&(o.name==="indexed"?(e||s(l),o.indexed&&s(l),o.indexed=!0,o.name=""):ap(o.type,o.name)?o.name="":o.state.allowName=!1);break;case"[":o.state.allowArray||s(l),o.type+=c,o.state.allowArray=!1,o.state.allowName=!1,o.state.readArray=!0;break;case"]":o.state.readArray||s(l),o.type+=c,o.state.readArray=!1,o.state.allowArray=!0,o.state.allowName=!0;break;default:o.state.allowType?(o.type+=c,o.state.allowParams=!0,o.state.allowArray=!0):o.state.allowName?(o.name+=c,delete o.state.allowArray):o.state.readArray?o.type+=c:s(l)}}return o.parent&&Ft.throwArgumentError("unexpected eof","param",t),delete i.state,o.name==="indexed"?(e||s(n.length-7),o.indexed&&s(n.length-7),o.indexed=!0,o.name=""):ap(o.type,o.name)&&(o.name=""),i.type=Qc(i.type),i}function ag(t,e){for(let n in e)Se(t,n,e[n])}const Wt=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),BQ=new RegExp(/^(.*)\[([0-9]*)\]$/);class rs{constructor(e,n){e!==Sc&&Ft.throwError("use fromString",re.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),ag(this,n);let s=this.type.match(BQ);s?ag(this,{arrayLength:parseInt(s[2]||"-1"),arrayChildren:rs.fromObject({type:s[1],components:this.components}),baseType:"array"}):ag(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=Wt.sighash),Wt[e]||Ft.throwArgumentError("invalid format type","format",e),e===Wt.json){let s={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(s.indexed=this.indexed),this.components&&(s.components=this.components.map(r=>JSON.parse(r.format(e)))),JSON.stringify(s)}let n="";return this.baseType==="array"?(n+=this.arrayChildren.format(e),n+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==Wt.sighash&&(n+=this.type),n+="("+this.components.map(s=>s.format(e)).join(e===Wt.full?", ":",")+")"):n+=this.type,e!==Wt.sighash&&(this.indexed===!0&&(n+=" indexed"),e===Wt.full&&this.name&&(n+=" "+this.name)),n}static from(e,n){return typeof e=="string"?rs.fromString(e,n):rs.fromObject(e)}static fromObject(e){return rs.isParamType(e)?e:new rs(Sc,{name:e.name||null,type:Qc(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(rs.fromObject):null})}static fromString(e,n){function s(r){return rs.fromObject({name:r.name,type:r.type,indexed:r.indexed,components:r.components})}return s(LQ(e,!!n))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function Mf(t,e){return VQ(t).map(n=>rs.fromString(n,e))}class Ha{constructor(e,n){e!==Sc&&Ft.throwError("use a static from method",re.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),ag(this,n),this._isFragment=!0,Object.freeze(this)}static from(e){return Ha.isFragment(e)?e:typeof e=="string"?Ha.fromString(e):Ha.fromObject(e)}static fromObject(e){if(Ha.isFragment(e))return e;switch(e.type){case"function":return Qi.fromObject(e);case"event":return Ua.fromObject(e);case"constructor":return Ji.fromObject(e);case"error":return Po.fromObject(e);case"fallback":case"receive":return null}return Ft.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?Ua.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?Qi.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?Ji.fromString(e.trim()):e.split(" ")[0]==="error"?Po.fromString(e.substring(5).trim()):Ft.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class Ua extends Ha{format(e){if(e||(e=Wt.sighash),Wt[e]||Ft.throwArgumentError("invalid format type","format",e),e===Wt.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(s=>JSON.parse(s.format(e)))});let n="";return e!==Wt.sighash&&(n+="event "),n+=this.name+"("+this.inputs.map(s=>s.format(e)).join(e===Wt.full?", ":",")+") ",e!==Wt.sighash&&this.anonymous&&(n+="anonymous "),n.trim()}static from(e){return typeof e=="string"?Ua.fromString(e):Ua.fromObject(e)}static fromObject(e){if(Ua.isEventFragment(e))return e;e.type!=="event"&&Ft.throwArgumentError("invalid event object","value",e);const n={name:Df(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(rs.fromObject):[],type:"event"};return new Ua(Sc,n)}static fromString(e){let n=e.match($f);n||Ft.throwArgumentError("invalid event string","value",e);let s=!1;return n[3].split(" ").forEach(r=>{switch(r.trim()){case"anonymous":s=!0;break;case"":break;default:Ft.warn("unknown modifier: "+r)}}),Ua.fromObject({name:n[1].trim(),anonymous:s,inputs:Mf(n[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function L3(t,e){e.gas=null;let n=t.split("@");return n.length!==1?(n.length>2&&Ft.throwArgumentError("invalid human-readable ABI signature","value",t),n[1].match(/^[0-9]+$/)||Ft.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=Oe.from(n[1]),n[0]):t}function B3(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach(n=>{switch(n.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+n)}})}function U3(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return t.stateMutability!=null?(e.stateMutability=t.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",t.constant!=null&&!!t.constant!==e.constant&&Ft.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable=e.stateMutability==="payable",t.payable!=null&&!!t.payable!==e.payable&&Ft.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):t.payable!=null?(e.payable=!!t.payable,t.constant==null&&!e.payable&&t.type!=="constructor"&&Ft.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&Ft.throwArgumentError("cannot have constant payable function","value",t)):t.constant!=null?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):t.type!=="constructor"&&Ft.throwArgumentError("unable to determine stateMutability","value",t),e}class Ji extends Ha{format(e){if(e||(e=Wt.sighash),Wt[e]||Ft.throwArgumentError("invalid format type","format",e),e===Wt.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(e)))});e===Wt.sighash&&Ft.throwError("cannot format a constructor for sighash",re.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let n="constructor("+this.inputs.map(s=>s.format(e)).join(e===Wt.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(n+=this.stateMutability+" "),n.trim()}static from(e){return typeof e=="string"?Ji.fromString(e):Ji.fromObject(e)}static fromObject(e){if(Ji.isConstructorFragment(e))return e;e.type!=="constructor"&&Ft.throwArgumentError("invalid constructor object","value",e);let n=U3(e);n.constant&&Ft.throwArgumentError("constructor cannot be constant","value",e);const s={name:null,type:e.type,inputs:e.inputs?e.inputs.map(rs.fromObject):[],payable:n.payable,stateMutability:n.stateMutability,gas:e.gas?Oe.from(e.gas):null};return new Ji(Sc,s)}static fromString(e){let n={type:"constructor"};e=L3(e,n);let s=e.match($f);return(!s||s[1].trim()!=="constructor")&&Ft.throwArgumentError("invalid constructor string","value",e),n.inputs=Mf(s[2].trim(),!1),B3(s[3].trim(),n),Ji.fromObject(n)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class Qi extends Ji{format(e){if(e||(e=Wt.sighash),Wt[e]||Ft.throwArgumentError("invalid format type","format",e),e===Wt.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(e))),outputs:this.outputs.map(s=>JSON.parse(s.format(e)))});let n="";return e!==Wt.sighash&&(n+="function "),n+=this.name+"("+this.inputs.map(s=>s.format(e)).join(e===Wt.full?", ":",")+") ",e!==Wt.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(n+=this.stateMutability+" "):this.constant&&(n+="view "),this.outputs&&this.outputs.length&&(n+="returns ("+this.outputs.map(s=>s.format(e)).join(", ")+") "),this.gas!=null&&(n+="@"+this.gas.toString()+" ")),n.trim()}static from(e){return typeof e=="string"?Qi.fromString(e):Qi.fromObject(e)}static fromObject(e){if(Qi.isFunctionFragment(e))return e;e.type!=="function"&&Ft.throwArgumentError("invalid function object","value",e);let n=U3(e);const s={type:e.type,name:Df(e.name),constant:n.constant,inputs:e.inputs?e.inputs.map(rs.fromObject):[],outputs:e.outputs?e.outputs.map(rs.fromObject):[],payable:n.payable,stateMutability:n.stateMutability,gas:e.gas?Oe.from(e.gas):null};return new Qi(Sc,s)}static fromString(e){let n={type:"function"};e=L3(e,n);let s=e.split(" returns ");s.length>2&&Ft.throwArgumentError("invalid function string","value",e);let r=s[0].match($f);if(r||Ft.throwArgumentError("invalid function signature","value",e),n.name=r[1].trim(),n.name&&Df(n.name),n.inputs=Mf(r[2],!1),B3(r[3].trim(),n),s.length>1){let i=s[1].match($f);(i[1].trim()!=""||i[3].trim()!="")&&Ft.throwArgumentError("unexpected tokens","value",e),n.outputs=Mf(i[2],!1)}else n.outputs=[];return Qi.fromObject(n)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function fC(t){const e=t.format();return(e==="Error(string)"||e==="Panic(uint256)")&&Ft.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",t),t}class Po extends Ha{format(e){if(e||(e=Wt.sighash),Wt[e]||Ft.throwArgumentError("invalid format type","format",e),e===Wt.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(s=>JSON.parse(s.format(e)))});let n="";return e!==Wt.sighash&&(n+="error "),n+=this.name+"("+this.inputs.map(s=>s.format(e)).join(e===Wt.full?", ":",")+") ",n.trim()}static from(e){return typeof e=="string"?Po.fromString(e):Po.fromObject(e)}static fromObject(e){if(Po.isErrorFragment(e))return e;e.type!=="error"&&Ft.throwArgumentError("invalid error object","value",e);const n={type:e.type,name:Df(e.name),inputs:e.inputs?e.inputs.map(rs.fromObject):[]};return fC(new Po(Sc,n))}static fromString(e){let n={type:"error"},s=e.match($f);return s||Ft.throwArgumentError("invalid error signature","value",e),n.name=s[1].trim(),n.name&&Df(n.name),n.inputs=Mf(s[2],!1),fC(Po.fromObject(n))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}function Qc(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}const UQ=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function Df(t){return(!t||!t.match(UQ))&&Ft.throwArgumentError(`invalid identifier "${t}"`,"value",t),t}const $f=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function VQ(t){t=t.trim();let e=[],n="",s=0;for(let r=0;r<t.length;r++){let i=t[r];i===","&&s===0?(e.push(n),n=""):(n+=i,i==="("?s++:i===")"&&(s--,s===-1&&Ft.throwArgumentError("unbalanced parenthesis","value",t)))}return n&&e.push(n),e}const gk=new re(bm);function zQ(t){const e=[],n=function(s,r){if(Array.isArray(r))for(let i in r){const o=s.slice();o.push(i);try{n(o,r[i])}catch(l){e.push({path:o,error:l})}}};return n([],t),e}class ho{constructor(e,n,s,r){this.name=e,this.type=n,this.localName=s,this.dynamic=r}_throwError(e,n){gk.throwArgumentError(e,this.localName,n)}}class s1{constructor(e){Se(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return sr(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(zs(e._data))}writeBytes(e){let n=nt(e);const s=n.length%this.wordSize;return s&&(n=zs([n,this._padding.slice(s)])),this._writeData(n)}_getValue(e){let n=nt(Oe.from(e));return n.length>this.wordSize&&gk.throwError("value out-of-bounds",re.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:n.length}),n.length%this.wordSize&&(n=zs([this._padding.slice(n.length%this.wordSize),n])),n}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,n=>{this._data[e]=this._getValue(n)}}}class m0{constructor(e,n,s,r){Se(this,"_data",nt(e)),Se(this,"wordSize",n||32),Se(this,"_coerceFunc",s),Se(this,"allowLoose",r),this._offset=0}get data(){return Xe(this._data)}get consumed(){return this._offset}static coerce(e,n){let s=e.match("^u?int([0-9]+)$");return s&&parseInt(s[1])<=48&&(n=n.toNumber()),n}coerce(e,n){return this._coerceFunc?this._coerceFunc(e,n):m0.coerce(e,n)}_peekBytes(e,n,s){let r=Math.ceil(n/this.wordSize)*this.wordSize;return this._offset+r>this._data.length&&(this.allowLoose&&s&&this._offset+n<=this._data.length?r=n:gk.throwError("data out-of-bounds",re.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+r})),this._data.slice(this._offset,this._offset+r)}subReader(e){return new m0(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,n){let s=this._peekBytes(0,e,!!n);return this._offset+=s.length,s.slice(0,e)}readValue(){return Oe.from(this.readBytes(this.wordSize))}}var V3={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(t){(function(){var e="input is invalid type",n="finalize already called",s=typeof window=="object",r=s?window:{};r.JS_SHA3_NO_WINDOW&&(s=!1);var i=!s&&typeof self=="object",o=!r.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;o?r=globalThis:i&&(r=self);var l=!r.JS_SHA3_NO_COMMON_JS&&!0&&t.exports,c=!r.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",d="0123456789abcdef".split(""),u=[31,7936,2031616,520093696],h=[4,1024,262144,67108864],f=[1,256,65536,16777216],m=[6,1536,393216,100663296],x=[0,8,16,24],p=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],w=[224,256,384,512],b=[128,256],v=["hex","buffer","arrayBuffer","array","digest"],N={128:168,256:136};(r.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(I){return Object.prototype.toString.call(I)==="[object Array]"}),c&&(r.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(I){return typeof I=="object"&&I.buffer&&I.buffer.constructor===ArrayBuffer});for(var E=function(I,V,G){return function(H){return new k(I,V,I).update(H)[G]()}},T=function(I,V,G){return function(H,K){return new k(I,V,K).update(H)[G]()}},R=function(I,V,G){return function(H,K,X,ee){return g["cshake"+I].update(H,K,X,ee)[G]()}},$=function(I,V,G){return function(H,K,X,ee){return g["kmac"+I].update(H,K,X,ee)[G]()}},M=function(I,V,G,H){for(var K=0;K<v.length;++K){var X=v[K];I[X]=V(G,H,X)}return I},L=function(I,V){var G=E(I,V,"hex");return G.create=function(){return new k(I,V,I)},G.update=function(H){return G.create().update(H)},M(G,E,I,V)},U=function(I,V){var G=T(I,V,"hex");return G.create=function(H){return new k(I,V,H)},G.update=function(H,K){return G.create(K).update(H)},M(G,T,I,V)},z=function(I,V){var G=N[I],H=R(I,V,"hex");return H.create=function(K,X,ee){return!X&&!ee?g["shake"+I].create(K):new k(I,V,K).bytepad([X,ee],G)},H.update=function(K,X,ee,ne){return H.create(X,ee,ne).update(K)},M(H,R,I,V)},B=function(I,V){var G=N[I],H=$(I,V,"hex");return H.create=function(K,X,ee){return new O(I,V,X).bytepad(["KMAC",ee],G).bytepad([K],G)},H.update=function(K,X,ee,ne){return H.create(K,ee,ne).update(X)},M(H,$,I,V)},D=[{name:"keccak",padding:f,bits:w,createMethod:L},{name:"sha3",padding:m,bits:w,createMethod:L},{name:"shake",padding:u,bits:b,createMethod:U},{name:"cshake",padding:h,bits:b,createMethod:z},{name:"kmac",padding:h,bits:b,createMethod:B}],g={},j=[],C=0;C<D.length;++C)for(var P=D[C],S=P.bits,A=0;A<S.length;++A){var F=P.name+"_"+S[A];if(j.push(F),g[F]=P.createMethod(S[A],P.padding),P.name!=="sha3"){var _=P.name+S[A];j.push(_),g[_]=g[F]}}function k(I,V,G){this.blocks=[],this.s=[],this.padding=V,this.outputBits=G,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(I<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=G>>5,this.extraBytes=(G&31)>>3;for(var H=0;H<50;++H)this.s[H]=0}k.prototype.update=function(I){if(this.finalized)throw new Error(n);var V,G=typeof I;if(G!=="string"){if(G==="object"){if(I===null)throw new Error(e);if(c&&I.constructor===ArrayBuffer)I=new Uint8Array(I);else if(!Array.isArray(I)&&(!c||!ArrayBuffer.isView(I)))throw new Error(e)}else throw new Error(e);V=!0}for(var H=this.blocks,K=this.byteCount,X=I.length,ee=this.blockCount,ne=0,Be=this.s,te,ge;ne<X;){if(this.reset)for(this.reset=!1,H[0]=this.block,te=1;te<ee+1;++te)H[te]=0;if(V)for(te=this.start;ne<X&&te<K;++ne)H[te>>2]|=I[ne]<<x[te++&3];else for(te=this.start;ne<X&&te<K;++ne)ge=I.charCodeAt(ne),ge<128?H[te>>2]|=ge<<x[te++&3]:ge<2048?(H[te>>2]|=(192|ge>>6)<<x[te++&3],H[te>>2]|=(128|ge&63)<<x[te++&3]):ge<55296||ge>=57344?(H[te>>2]|=(224|ge>>12)<<x[te++&3],H[te>>2]|=(128|ge>>6&63)<<x[te++&3],H[te>>2]|=(128|ge&63)<<x[te++&3]):(ge=65536+((ge&1023)<<10|I.charCodeAt(++ne)&1023),H[te>>2]|=(240|ge>>18)<<x[te++&3],H[te>>2]|=(128|ge>>12&63)<<x[te++&3],H[te>>2]|=(128|ge>>6&63)<<x[te++&3],H[te>>2]|=(128|ge&63)<<x[te++&3]);if(this.lastByteIndex=te,te>=K){for(this.start=te-K,this.block=H[ee],te=0;te<ee;++te)Be[te]^=H[te];q(Be),this.reset=!0}else this.start=te}return this},k.prototype.encode=function(I,V){var G=I&255,H=1,K=[G];for(I=I>>8,G=I&255;G>0;)K.unshift(G),I=I>>8,G=I&255,++H;return V?K.push(H):K.unshift(H),this.update(K),K.length},k.prototype.encodeString=function(I){var V,G=typeof I;if(G!=="string"){if(G==="object"){if(I===null)throw new Error(e);if(c&&I.constructor===ArrayBuffer)I=new Uint8Array(I);else if(!Array.isArray(I)&&(!c||!ArrayBuffer.isView(I)))throw new Error(e)}else throw new Error(e);V=!0}var H=0,K=I.length;if(V)H=K;else for(var X=0;X<I.length;++X){var ee=I.charCodeAt(X);ee<128?H+=1:ee<2048?H+=2:ee<55296||ee>=57344?H+=3:(ee=65536+((ee&1023)<<10|I.charCodeAt(++X)&1023),H+=4)}return H+=this.encode(H*8),this.update(I),H},k.prototype.bytepad=function(I,V){for(var G=this.encode(V),H=0;H<I.length;++H)G+=this.encodeString(I[H]);var K=V-G%V,X=[];return X.length=K,this.update(X),this},k.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var I=this.blocks,V=this.lastByteIndex,G=this.blockCount,H=this.s;if(I[V>>2]|=this.padding[V&3],this.lastByteIndex===this.byteCount)for(I[0]=I[G],V=1;V<G+1;++V)I[V]=0;for(I[G-1]|=2147483648,V=0;V<G;++V)H[V]^=I[V];q(H)}},k.prototype.toString=k.prototype.hex=function(){this.finalize();for(var I=this.blockCount,V=this.s,G=this.outputBlocks,H=this.extraBytes,K=0,X=0,ee="",ne;X<G;){for(K=0;K<I&&X<G;++K,++X)ne=V[K],ee+=d[ne>>4&15]+d[ne&15]+d[ne>>12&15]+d[ne>>8&15]+d[ne>>20&15]+d[ne>>16&15]+d[ne>>28&15]+d[ne>>24&15];X%I===0&&(q(V),K=0)}return H&&(ne=V[K],ee+=d[ne>>4&15]+d[ne&15],H>1&&(ee+=d[ne>>12&15]+d[ne>>8&15]),H>2&&(ee+=d[ne>>20&15]+d[ne>>16&15])),ee},k.prototype.arrayBuffer=function(){this.finalize();var I=this.blockCount,V=this.s,G=this.outputBlocks,H=this.extraBytes,K=0,X=0,ee=this.outputBits>>3,ne;H?ne=new ArrayBuffer(G+1<<2):ne=new ArrayBuffer(ee);for(var Be=new Uint32Array(ne);X<G;){for(K=0;K<I&&X<G;++K,++X)Be[X]=V[K];X%I===0&&q(V)}return H&&(Be[K]=V[K],ne=ne.slice(0,ee)),ne},k.prototype.buffer=k.prototype.arrayBuffer,k.prototype.digest=k.prototype.array=function(){this.finalize();for(var I=this.blockCount,V=this.s,G=this.outputBlocks,H=this.extraBytes,K=0,X=0,ee=[],ne,Be;X<G;){for(K=0;K<I&&X<G;++K,++X)ne=X<<2,Be=V[K],ee[ne]=Be&255,ee[ne+1]=Be>>8&255,ee[ne+2]=Be>>16&255,ee[ne+3]=Be>>24&255;X%I===0&&q(V)}return H&&(ne=X<<2,Be=V[K],ee[ne]=Be&255,H>1&&(ee[ne+1]=Be>>8&255),H>2&&(ee[ne+2]=Be>>16&255)),ee};function O(I,V,G){k.call(this,I,V,G)}O.prototype=new k,O.prototype.finalize=function(){return this.encode(this.outputBits,!0),k.prototype.finalize.call(this)};var q=function(I){var V,G,H,K,X,ee,ne,Be,te,ge,Te,ve,Q,xe,we,Ke,ut,He,gt,St,ye,W,me,se,ce,Ce,Re,_e,Bt,Ge,Ne,Ve,Y,J,de,he,ke,Fe,Le,je,it,ze,Ze,Pt,et,st,Dt,tt,Ee,ae,Me,Je,yt,ie,Qe,$t,ue,pt,zt,on,qt,Ot,dt;for(H=0;H<48;H+=2)K=I[0]^I[10]^I[20]^I[30]^I[40],X=I[1]^I[11]^I[21]^I[31]^I[41],ee=I[2]^I[12]^I[22]^I[32]^I[42],ne=I[3]^I[13]^I[23]^I[33]^I[43],Be=I[4]^I[14]^I[24]^I[34]^I[44],te=I[5]^I[15]^I[25]^I[35]^I[45],ge=I[6]^I[16]^I[26]^I[36]^I[46],Te=I[7]^I[17]^I[27]^I[37]^I[47],ve=I[8]^I[18]^I[28]^I[38]^I[48],Q=I[9]^I[19]^I[29]^I[39]^I[49],V=ve^(ee<<1|ne>>>31),G=Q^(ne<<1|ee>>>31),I[0]^=V,I[1]^=G,I[10]^=V,I[11]^=G,I[20]^=V,I[21]^=G,I[30]^=V,I[31]^=G,I[40]^=V,I[41]^=G,V=K^(Be<<1|te>>>31),G=X^(te<<1|Be>>>31),I[2]^=V,I[3]^=G,I[12]^=V,I[13]^=G,I[22]^=V,I[23]^=G,I[32]^=V,I[33]^=G,I[42]^=V,I[43]^=G,V=ee^(ge<<1|Te>>>31),G=ne^(Te<<1|ge>>>31),I[4]^=V,I[5]^=G,I[14]^=V,I[15]^=G,I[24]^=V,I[25]^=G,I[34]^=V,I[35]^=G,I[44]^=V,I[45]^=G,V=Be^(ve<<1|Q>>>31),G=te^(Q<<1|ve>>>31),I[6]^=V,I[7]^=G,I[16]^=V,I[17]^=G,I[26]^=V,I[27]^=G,I[36]^=V,I[37]^=G,I[46]^=V,I[47]^=G,V=ge^(K<<1|X>>>31),G=Te^(X<<1|K>>>31),I[8]^=V,I[9]^=G,I[18]^=V,I[19]^=G,I[28]^=V,I[29]^=G,I[38]^=V,I[39]^=G,I[48]^=V,I[49]^=G,xe=I[0],we=I[1],st=I[11]<<4|I[10]>>>28,Dt=I[10]<<4|I[11]>>>28,_e=I[20]<<3|I[21]>>>29,Bt=I[21]<<3|I[20]>>>29,on=I[31]<<9|I[30]>>>23,qt=I[30]<<9|I[31]>>>23,ze=I[40]<<18|I[41]>>>14,Ze=I[41]<<18|I[40]>>>14,J=I[2]<<1|I[3]>>>31,de=I[3]<<1|I[2]>>>31,Ke=I[13]<<12|I[12]>>>20,ut=I[12]<<12|I[13]>>>20,tt=I[22]<<10|I[23]>>>22,Ee=I[23]<<10|I[22]>>>22,Ge=I[33]<<13|I[32]>>>19,Ne=I[32]<<13|I[33]>>>19,Ot=I[42]<<2|I[43]>>>30,dt=I[43]<<2|I[42]>>>30,ie=I[5]<<30|I[4]>>>2,Qe=I[4]<<30|I[5]>>>2,he=I[14]<<6|I[15]>>>26,ke=I[15]<<6|I[14]>>>26,He=I[25]<<11|I[24]>>>21,gt=I[24]<<11|I[25]>>>21,ae=I[34]<<15|I[35]>>>17,Me=I[35]<<15|I[34]>>>17,Ve=I[45]<<29|I[44]>>>3,Y=I[44]<<29|I[45]>>>3,se=I[6]<<28|I[7]>>>4,ce=I[7]<<28|I[6]>>>4,$t=I[17]<<23|I[16]>>>9,ue=I[16]<<23|I[17]>>>9,Fe=I[26]<<25|I[27]>>>7,Le=I[27]<<25|I[26]>>>7,St=I[36]<<21|I[37]>>>11,ye=I[37]<<21|I[36]>>>11,Je=I[47]<<24|I[46]>>>8,yt=I[46]<<24|I[47]>>>8,Pt=I[8]<<27|I[9]>>>5,et=I[9]<<27|I[8]>>>5,Ce=I[18]<<20|I[19]>>>12,Re=I[19]<<20|I[18]>>>12,pt=I[29]<<7|I[28]>>>25,zt=I[28]<<7|I[29]>>>25,je=I[38]<<8|I[39]>>>24,it=I[39]<<8|I[38]>>>24,W=I[48]<<14|I[49]>>>18,me=I[49]<<14|I[48]>>>18,I[0]=xe^~Ke&He,I[1]=we^~ut&gt,I[10]=se^~Ce&_e,I[11]=ce^~Re&Bt,I[20]=J^~he&Fe,I[21]=de^~ke&Le,I[30]=Pt^~st&tt,I[31]=et^~Dt&Ee,I[40]=ie^~$t&pt,I[41]=Qe^~ue&zt,I[2]=Ke^~He&St,I[3]=ut^~gt&ye,I[12]=Ce^~_e&Ge,I[13]=Re^~Bt&Ne,I[22]=he^~Fe&je,I[23]=ke^~Le&it,I[32]=st^~tt&ae,I[33]=Dt^~Ee&Me,I[42]=$t^~pt&on,I[43]=ue^~zt&qt,I[4]=He^~St&W,I[5]=gt^~ye&me,I[14]=_e^~Ge&Ve,I[15]=Bt^~Ne&Y,I[24]=Fe^~je&ze,I[25]=Le^~it&Ze,I[34]=tt^~ae&Je,I[35]=Ee^~Me&yt,I[44]=pt^~on&Ot,I[45]=zt^~qt&dt,I[6]=St^~W&xe,I[7]=ye^~me&we,I[16]=Ge^~Ve&se,I[17]=Ne^~Y&ce,I[26]=je^~ze&J,I[27]=it^~Ze&de,I[36]=ae^~Je&Pt,I[37]=Me^~yt&et,I[46]=on^~Ot&ie,I[47]=qt^~dt&Qe,I[8]=W^~xe&Ke,I[9]=me^~we&ut,I[18]=Ve^~se&Ce,I[19]=Y^~ce&Re,I[28]=ze^~J&he,I[29]=Ze^~de&ke,I[38]=Je^~Pt&st,I[39]=yt^~et&Dt,I[48]=Ot^~ie&$t,I[49]=dt^~Qe&ue,I[0]^=p[H],I[1]^=p[H+1]};if(l)t.exports=g;else for(C=0;C<j.length;++C)r[j[C]]=g[j[C]]})()})(V3);var HQ=V3.exports;const z3=pu(HQ);function Zn(t){return"0x"+z3.keccak_256(nt(t))}const WQ="rlp/5.8.0",qi=new re(WQ);function mC(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function pC(t,e,n){let s=0;for(let r=0;r<n;r++)s=s*256+t[e+r];return s}function H3(t){if(Array.isArray(t)){let s=[];if(t.forEach(function(i){s=s.concat(H3(i))}),s.length<=55)return s.unshift(192+s.length),s;const r=mC(s.length);return r.unshift(247+r.length),r.concat(s)}Ex(t)||qi.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(nt(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const n=mC(e.length);return n.unshift(183+n.length),n.concat(e)}function ru(t){return Xe(H3(t))}function gC(t,e,n,s){const r=[];for(;n<e+1+s;){const i=W3(t,n);r.push(i.result),n+=i.consumed,n>e+1+s&&qi.throwError("child data too short",re.errors.BUFFER_OVERRUN,{})}return{consumed:1+s,result:r}}function W3(t,e){if(t.length===0&&qi.throwError("data too short",re.errors.BUFFER_OVERRUN,{}),t[e]>=248){const n=t[e]-247;e+1+n>t.length&&qi.throwError("data short segment too short",re.errors.BUFFER_OVERRUN,{});const s=pC(t,e+1,n);return e+1+n+s>t.length&&qi.throwError("data long segment too short",re.errors.BUFFER_OVERRUN,{}),gC(t,e,e+1+n,n+s)}else if(t[e]>=192){const n=t[e]-192;return e+1+n>t.length&&qi.throwError("data array too short",re.errors.BUFFER_OVERRUN,{}),gC(t,e,e+1,n)}else if(t[e]>=184){const n=t[e]-183;e+1+n>t.length&&qi.throwError("data array too short",re.errors.BUFFER_OVERRUN,{});const s=pC(t,e+1,n);e+1+n+s>t.length&&qi.throwError("data array too short",re.errors.BUFFER_OVERRUN,{});const r=Xe(t.slice(e+1+n,e+1+n+s));return{consumed:1+n+s,result:r}}else if(t[e]>=128){const n=t[e]-128;e+1+n>t.length&&qi.throwError("data too short",re.errors.BUFFER_OVERRUN,{});const s=Xe(t.slice(e+1,e+1+n));return{consumed:1+n,result:s}}return{consumed:1,result:Xe(t[e])}}function xk(t){const e=nt(t),n=W3(e,0);return n.consumed!==e.length&&qi.throwArgumentError("invalid rlp data","data",t),n.result}const qQ="address/5.8.0",gd=new re(qQ);function xC(t){Ut(t,20)||gd.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),n=new Uint8Array(40);for(let r=0;r<40;r++)n[r]=e[r].charCodeAt(0);const s=nt(Zn(n));for(let r=0;r<40;r+=2)s[r>>1]>>4>=8&&(e[r]=e[r].toUpperCase()),(s[r>>1]&15)>=8&&(e[r+1]=e[r+1].toUpperCase());return"0x"+e.join("")}const KQ=9007199254740991;function GQ(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const yk={};for(let t=0;t<10;t++)yk[String(t)]=String(t);for(let t=0;t<26;t++)yk[String.fromCharCode(65+t)]=String(10+t);const yC=Math.floor(GQ(KQ));function YQ(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(s=>yk[s]).join("");for(;e.length>=yC;){let s=e.substring(0,yC);e=parseInt(s,10)%97+e.substring(s.length)}let n=String(98-parseInt(e,10)%97);for(;n.length<2;)n="0"+n;return n}function gs(t){let e=null;if(typeof t!="string"&&gd.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=xC(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&gd.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==YQ(t)&&gd.throwArgumentError("bad icap checksum","address",t),e=IQ(t.substring(4));e.length<40;)e="0"+e;e=xC("0x"+e)}else gd.throwArgumentError("invalid address","address",t);return e}function vk(t){let e=null;try{e=gs(t.from)}catch{gd.throwArgumentError("missing from address","transaction",t)}const n=qa(nt(Oe.from(t.nonce).toHexString()));return gs(ks(Zn(ru([e,n])),12))}class XQ extends ho{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,n){try{n=gs(n)}catch(s){this._throwError(s.message,n)}return e.writeValue(n)}decode(e){return gs(pn(e.readValue().toHexString(),20))}}class JQ extends ho{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,n){return this.coder.encode(e,n)}decode(e){return this.coder.decode(e)}}const xd=new re(bm);function q3(t,e,n){let s=null;if(Array.isArray(n))s=n;else if(n&&typeof n=="object"){let c={};s=e.map(d=>{const u=d.localName;return u||xd.throwError("cannot encode object for signature with missing names",re.errors.INVALID_ARGUMENT,{argument:"values",coder:d,value:n}),c[u]&&xd.throwError("cannot encode object for signature with duplicate names",re.errors.INVALID_ARGUMENT,{argument:"values",coder:d,value:n}),c[u]=!0,n[u]})}else xd.throwArgumentError("invalid tuple value","tuple",n);e.length!==s.length&&xd.throwArgumentError("types/value length mismatch","tuple",n);let r=new s1(t.wordSize),i=new s1(t.wordSize),o=[];e.forEach((c,d)=>{let u=s[d];if(c.dynamic){let h=i.length;c.encode(i,u);let f=r.writeUpdatableValue();o.push(m=>{f(m+h)})}else c.encode(r,u)}),o.forEach(c=>{c(r.length)});let l=t.appendWriter(r);return l+=t.appendWriter(i),l}function K3(t,e){let n=[],s=t.subReader(0);e.forEach(i=>{let o=null;if(i.dynamic){let l=t.readValue(),c=s.subReader(l.toNumber());try{o=i.decode(c)}catch(d){if(d.code===re.errors.BUFFER_OVERRUN)throw d;o=d,o.baseType=i.name,o.name=i.localName,o.type=i.type}}else try{o=i.decode(t)}catch(l){if(l.code===re.errors.BUFFER_OVERRUN)throw l;o=l,o.baseType=i.name,o.name=i.localName,o.type=i.type}o!=null&&n.push(o)});const r=e.reduce((i,o)=>{const l=o.localName;return l&&(i[l]||(i[l]=0),i[l]++),i},{});e.forEach((i,o)=>{let l=i.localName;if(!l||r[l]!==1||(l==="length"&&(l="_length"),n[l]!=null))return;const c=n[o];c instanceof Error?Object.defineProperty(n,l,{enumerable:!0,get:()=>{throw c}}):n[l]=c});for(let i=0;i<n.length;i++){const o=n[i];o instanceof Error&&Object.defineProperty(n,i,{enumerable:!0,get:()=>{throw o}})}return Object.freeze(n)}class QQ extends ho{constructor(e,n,s){const r=e.type+"["+(n>=0?n:"")+"]",i=n===-1||e.dynamic;super("array",r,s,i),this.coder=e,this.length=n}defaultValue(){const e=this.coder.defaultValue(),n=[];for(let s=0;s<this.length;s++)n.push(e);return n}encode(e,n){Array.isArray(n)||this._throwError("expected array value",n);let s=this.length;s===-1&&(s=n.length,e.writeValue(n.length)),xd.checkArgumentCount(n.length,s,"coder array"+(this.localName?" "+this.localName:""));let r=[];for(let i=0;i<n.length;i++)r.push(this.coder);return q3(e,r,n)}decode(e){let n=this.length;n===-1&&(n=e.readValue().toNumber(),n*32>e._data.length&&xd.throwError("insufficient data length",re.errors.BUFFER_OVERRUN,{length:e._data.length,count:n}));let s=[];for(let r=0;r<n;r++)s.push(new JQ(this.coder));return e.coerce(this.name,K3(e,s))}}class ZQ extends ho{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,n){return e.writeValue(n?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class G3 extends ho{constructor(e,n){super(e,e,n,!0)}defaultValue(){return"0x"}encode(e,n){n=nt(n);let s=e.writeValue(n.length);return s+=e.writeBytes(n),s}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class eZ extends G3{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,Xe(super.decode(e)))}}class tZ extends ho{constructor(e,n){let s="bytes"+String(e);super(s,s,n,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,n){let s=nt(n);return s.length!==this.size&&this._throwError("incorrect data length",n),e.writeBytes(s)}decode(e){return e.coerce(this.name,Xe(e.readBytes(this.size)))}}class nZ extends ho{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,n){return n!=null&&this._throwError("not null",n),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}const sZ="0x0000000000000000000000000000000000000000",rZ=Oe.from(-1),Y3=Oe.from(0),iZ=Oe.from(1),aZ=Oe.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),oZ="0x0000000000000000000000000000000000000000000000000000000000000000";class lZ extends ho{constructor(e,n,s){const r=(n?"int":"uint")+e*8;super(r,r,s,!1),this.size=e,this.signed=n}defaultValue(){return 0}encode(e,n){let s=Oe.from(n),r=aZ.mask(e.wordSize*8);if(this.signed){let i=r.mask(this.size*8-1);(s.gt(i)||s.lt(i.add(iZ).mul(rZ)))&&this._throwError("value out-of-bounds",n)}else(s.lt(Y3)||s.gt(r.mask(this.size*8)))&&this._throwError("value out-of-bounds",n);return s=s.toTwos(this.size*8).mask(this.size*8),this.signed&&(s=s.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(s)}decode(e){let n=e.readValue().mask(this.size*8);return this.signed&&(n=n.fromTwos(this.size*8)),e.coerce(this.name,n)}}const cZ="strings/5.8.0",X3=new re(cZ);var Of;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(Of||(Of={}));var Nr;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(Nr||(Nr={}));function dZ(t,e,n,s,r){return X3.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",n)}function J3(t,e,n,s,r){if(t===Nr.BAD_PREFIX||t===Nr.UNEXPECTED_CONTINUE){let i=0;for(let o=e+1;o<n.length&&n[o]>>6===2;o++)i++;return i}return t===Nr.OVERRUN?n.length-e-1:0}function uZ(t,e,n,s,r){return t===Nr.OVERLONG?(s.push(r),0):(s.push(65533),J3(t,e,n))}const hZ=Object.freeze({error:dZ,ignore:J3,replace:uZ});function Q3(t,e){e==null&&(e=hZ.error),t=nt(t);const n=[];let s=0;for(;s<t.length;){const r=t[s++];if(!(r>>7)){n.push(r);continue}let i=null,o=null;if((r&224)===192)i=1,o=127;else if((r&240)===224)i=2,o=2047;else if((r&248)===240)i=3,o=65535;else{(r&192)===128?s+=e(Nr.UNEXPECTED_CONTINUE,s-1,t,n):s+=e(Nr.BAD_PREFIX,s-1,t,n);continue}if(s-1+i>=t.length){s+=e(Nr.OVERRUN,s-1,t,n);continue}let l=r&(1<<8-i-1)-1;for(let c=0;c<i;c++){let d=t[s];if((d&192)!=128){s+=e(Nr.MISSING_CONTINUE,s,t,n),l=null;break}l=l<<6|d&63,s++}if(l!==null){if(l>1114111){s+=e(Nr.OUT_OF_RANGE,s-1-i,t,n,l);continue}if(l>=55296&&l<=57343){s+=e(Nr.UTF16_SURROGATE,s-1-i,t,n,l);continue}if(l<=o){s+=e(Nr.OVERLONG,s-1-i,t,n,l);continue}n.push(l)}}return n}function Na(t,e=Of.current){e!=Of.current&&(X3.checkNormalize(),t=t.normalize(e));let n=[];for(let s=0;s<t.length;s++){const r=t.charCodeAt(s);if(r<128)n.push(r);else if(r<2048)n.push(r>>6|192),n.push(r&63|128);else if((r&64512)==55296){s++;const i=t.charCodeAt(s);if(s>=t.length||(i&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((r&1023)<<10)+(i&1023);n.push(o>>18|240),n.push(o>>12&63|128),n.push(o>>6&63|128),n.push(o&63|128)}else n.push(r>>12|224),n.push(r>>6&63|128),n.push(r&63|128)}return nt(n)}function fZ(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function wm(t,e){return fZ(Q3(t,e))}function mZ(t,e=Of.current){return Q3(Na(t,e))}class pZ extends G3{constructor(e){super("string",e)}defaultValue(){return""}encode(e,n){return super.encode(e,Na(n))}decode(e){return wm(super.decode(e))}}class op extends ho{constructor(e,n){let s=!1;const r=[];e.forEach(o=>{o.dynamic&&(s=!0),r.push(o.type)});const i="tuple("+r.join(",")+")";super("tuple",i,n,s),this.coders=e}defaultValue(){const e=[];this.coders.forEach(s=>{e.push(s.defaultValue())});const n=this.coders.reduce((s,r)=>{const i=r.localName;return i&&(s[i]||(s[i]=0),s[i]++),s},{});return this.coders.forEach((s,r)=>{let i=s.localName;!i||n[i]!==1||(i==="length"&&(i="_length"),e[i]==null&&(e[i]=e[r]))}),Object.freeze(e)}encode(e,n){return q3(e,this.coders,n)}decode(e){return e.coerce(this.name,K3(e,this.coders))}}const lp=new re(bm),gZ=new RegExp(/^bytes([0-9]*)$/),xZ=new RegExp(/^(u?int)([0-9]*)$/);class yZ{constructor(e){Se(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new XQ(e.name);case"bool":return new ZQ(e.name);case"string":return new pZ(e.name);case"bytes":return new eZ(e.name);case"array":return new QQ(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new op((e.components||[]).map(s=>this._getCoder(s)),e.name);case"":return new nZ(e.name)}let n=e.type.match(xZ);if(n){let s=parseInt(n[2]||"256");return(s===0||s>256||s%8!==0)&&lp.throwArgumentError("invalid "+n[1]+" bit length","param",e),new lZ(s/8,n[1]==="int",e.name)}if(n=e.type.match(gZ),n){let s=parseInt(n[1]);return(s===0||s>32)&&lp.throwArgumentError("invalid bytes length","param",e),new tZ(s,e.name)}return lp.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,n){return new m0(e,this._getWordSize(),this.coerceFunc,n)}_getWriter(){return new s1(this._getWordSize())}getDefaultValue(e){const n=e.map(r=>this._getCoder(rs.from(r)));return new op(n,"_").defaultValue()}encode(e,n){e.length!==n.length&&lp.throwError("types/values length mismatch",re.errors.INVALID_ARGUMENT,{count:{types:e.length,values:n.length},value:{types:e,values:n}});const s=e.map(o=>this._getCoder(rs.from(o))),r=new op(s,"_"),i=this._getWriter();return r.encode(i,n),i.data}decode(e,n,s){const r=e.map(o=>this._getCoder(rs.from(o)));return new op(r,"_").decode(this._getReader(nt(n),s))}}const vZ=new yZ;function yd(t){return Zn(Na(t))}const Z3="hash/5.8.0";function eD(t){t=atob(t);const e=[];for(let n=0;n<t.length;n++)e.push(t.charCodeAt(n));return nt(e)}function tD(t){t=nt(t);let e="";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return btoa(e)}function nD(t,e){e==null&&(e=1);const n=[],s=n.forEach,r=function(i,o){s.call(i,function(l){o>0&&Array.isArray(l)?r(l,o-1):n.push(l)})};return r(t,e),n}function bZ(t){const e={};for(let n=0;n<t.length;n++){const s=t[n];e[s[0]]=s[1]}return e}function wZ(t){let e=0;function n(){return t[e++]<<8|t[e++]}let s=n(),r=1,i=[0,1];for(let T=1;T<s;T++)i.push(r+=n());let o=n(),l=e;e+=o;let c=0,d=0;function u(){return c==0&&(d=d<<8|t[e++],c=8),d>>--c&1}const h=31,f=Math.pow(2,h),m=f>>>1,x=m>>1,p=f-1;let w=0;for(let T=0;T<h;T++)w=w<<1|u();let b=[],v=0,N=f;for(;;){let T=Math.floor(((w-v+1)*r-1)/N),R=0,$=s;for(;$-R>1;){let U=R+$>>>1;T<i[U]?$=U:R=U}if(R==0)break;b.push(R);let M=v+Math.floor(N*i[R]/r),L=v+Math.floor(N*i[R+1]/r)-1;for(;!((M^L)&m);)w=w<<1&p|u(),M=M<<1&p,L=L<<1&p|1;for(;M&~L&x;)w=w&m|w<<1&p>>>1|u(),M=M<<1^m,L=(L^m)<<1|m|1;v=M,N=1+L-M}let E=s-4;return b.map(T=>{switch(T-E){case 3:return E+65792+(t[l++]<<16|t[l++]<<8|t[l++]);case 2:return E+256+(t[l++]<<8|t[l++]);case 1:return E+t[l++];default:return T-1}})}function NZ(t){let e=0;return()=>t[e++]}function kZ(t){return NZ(wZ(t))}function jZ(t){return t&1?~t>>1:t>>1}function SZ(t,e){let n=Array(t);for(let s=0;s<t;s++)n[s]=1+e();return n}function vC(t,e){let n=Array(t);for(let s=0,r=-1;s<t;s++)n[s]=r+=1+e();return n}function AZ(t,e){let n=Array(t);for(let s=0,r=0;s<t;s++)n[s]=r+=jZ(e());return n}function p0(t,e){let n=vC(t(),t),s=t(),r=vC(s,t),i=SZ(s,t);for(let o=0;o<s;o++)for(let l=0;l<i[o];l++)n.push(r[o]+l);return e?n.map(o=>e[o]):n}function TZ(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(EZ(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(_Z(n,t))}return bZ(nD(e))}function CZ(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(n)}return e}function sD(t,e,n){let s=Array(t).fill(void 0).map(()=>[]);for(let r=0;r<e;r++)AZ(t,n).forEach((i,o)=>s[o].push(i));return s}function EZ(t,e){let n=1+e(),s=e(),r=CZ(e),i=sD(r.length,1+t,e);return nD(i.map((o,l)=>{const c=o[0],d=o.slice(1);return Array(r[l]).fill(void 0).map((u,h)=>{let f=h*s;return[c+h*n,d.map(m=>m+f)]})}))}function _Z(t,e){let n=1+e();return sD(n,1+t,e).map(r=>[r[0],r.slice(1)])}function PZ(t){let e=p0(t).sort((s,r)=>s-r);return n();function n(){let s=[];for(;;){let d=p0(t,e);if(d.length==0)break;s.push({set:new Set(d),node:n()})}s.sort((d,u)=>u.set.size-d.set.size);let r=t(),i=r%3;r=r/3|0;let o=!!(r&1);r>>=1;let l=r==1,c=r==2;return{branches:s,valid:i,fe0f:o,save:l,check:c}}}function IZ(){return kZ(eD("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const _x=IZ(),RZ=new Set(p0(_x)),MZ=new Set(p0(_x)),DZ=TZ(_x),$Z=PZ(_x),bC=45,wC=95;function rD(t){return mZ(t)}function OZ(t){return t.filter(e=>e!=65039)}function iD(t){for(let e of t.split(".")){let n=rD(e);try{for(let s=n.lastIndexOf(wC)-1;s>=0;s--)if(n[s]!==wC)throw new Error("underscore only allowed at start");if(n.length>=4&&n.every(s=>s<128)&&n[2]===bC&&n[3]===bC)throw new Error("invalid label extension")}catch(s){throw new Error(`Invalid label "${e}": ${s.message}`)}}return t}function FZ(t){return iD(LZ(t,OZ))}function LZ(t,e){let n=rD(t).reverse(),s=[];for(;n.length;){let r=UZ(n);if(r){s.push(...e(r));continue}let i=n.pop();if(RZ.has(i)){s.push(i);continue}if(MZ.has(i))continue;let o=DZ[i];if(o){s.push(...o);continue}throw new Error(`Disallowed codepoint: 0x${i.toString(16).toUpperCase()}`)}return iD(BZ(String.fromCodePoint(...s)))}function BZ(t){return t.normalize("NFC")}function UZ(t,e){var n;let s=$Z,r,i,o=[],l=t.length;for(;l;){let c=t[--l];if(s=(n=s.branches.find(d=>d.set.has(c)))===null||n===void 0?void 0:n.node,!s)break;if(s.save)i=c;else if(s.check&&c===i)break;o.push(c),s.fe0f&&(o.push(65039),l>0&&t[l-1]==65039&&l--),s.valid&&(r=o.slice(),s.valid==2&&r.splice(1,1),t.length=l)}return r}const VZ=new re(Z3),aD=new Uint8Array(32);aD.fill(0);function NC(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}function oD(t){const e=Na(FZ(t)),n=[];if(t.length===0)return n;let s=0;for(let r=0;r<e.length;r++)e[r]===46&&(n.push(NC(e.slice(s,r))),s=r+1);if(s>=e.length)throw new Error("invalid ENS name; empty component");return n.push(NC(e.slice(s))),n}function og(t){typeof t!="string"&&VZ.throwArgumentError("invalid ENS name; not a string","name",t);let e=aD;const n=oD(t);for(;n.length;)e=Zn(zs([e,Zn(n.pop())]));return Xe(e)}function zZ(t){return Xe(zs(oD(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const n=new Uint8Array(e.length+1);return n.set(e,1),n[0]=n.length-1,n})))+"00"}var HZ=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):r(u.value).then(l,c)}d((s=s.apply(t,e||[])).next())})};const vn=new re(Z3),lD=new Uint8Array(32);lD.fill(0);const WZ=Oe.from(-1),cD=Oe.from(0),dD=Oe.from(1),qZ=Oe.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function KZ(t){const e=nt(t),n=e.length%32;return n?sr([e,lD.slice(n)]):Xe(e)}const GZ=pn(dD.toHexString(),32),YZ=pn(cD.toHexString(),32),kC={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},gv=["name","version","chainId","verifyingContract","salt"];function jC(t){return function(e){return typeof e!="string"&&vn.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const XZ={name:jC("name"),version:jC("version"),chainId:function(t){try{return Oe.from(t).toString()}catch{}return vn.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return gs(t).toLowerCase()}catch{}return vn.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=nt(t);if(e.length!==32)throw new Error("bad length");return Xe(e)}catch{}return vn.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function xv(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const n=e[1]==="",s=parseInt(e[2]||"256");(s%8!==0||s>256||e[2]&&e[2]!==String(s))&&vn.throwArgumentError("invalid numeric width","type",t);const r=qZ.mask(n?s-1:s),i=n?r.add(dD).mul(WZ):cD;return function(o){const l=Oe.from(o);return(l.lt(i)||l.gt(r))&&vn.throwArgumentError(`value out-of-bounds for ${t}`,"value",o),pn(l.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const n=parseInt(e[1]);return(n===0||n>32||e[1]!==String(n))&&vn.throwArgumentError("invalid bytes width","type",t),function(s){return nt(s).length!==n&&vn.throwArgumentError(`invalid length for ${t}`,"value",s),KZ(s)}}}switch(t){case"address":return function(e){return pn(gs(e),32)};case"bool":return function(e){return e?GZ:YZ};case"bytes":return function(e){return Zn(e)};case"string":return function(e){return yd(e)}}return null}function SC(t,e){return`${t}(${e.map(({name:n,type:s})=>s+" "+n).join(",")})`}class vr{constructor(e){Se(this,"types",Object.freeze(no(e))),Se(this,"_encoderCache",{}),Se(this,"_types",{});const n={},s={},r={};Object.keys(e).forEach(l=>{n[l]={},s[l]=[],r[l]={}});for(const l in e){const c={};e[l].forEach(d=>{c[d.name]&&vn.throwArgumentError(`duplicate variable name ${JSON.stringify(d.name)} in ${JSON.stringify(l)}`,"types",e),c[d.name]=!0;const u=d.type.match(/^([^\x5b]*)(\x5b|$)/)[1];u===l&&vn.throwArgumentError(`circular type reference to ${JSON.stringify(u)}`,"types",e),!xv(u)&&(s[u]||vn.throwArgumentError(`unknown type ${JSON.stringify(u)}`,"types",e),s[u].push(l),n[l][u]=!0)})}const i=Object.keys(s).filter(l=>s[l].length===0);i.length===0?vn.throwArgumentError("missing primary type","types",e):i.length>1&&vn.throwArgumentError(`ambiguous primary types or unused types: ${i.map(l=>JSON.stringify(l)).join(", ")}`,"types",e),Se(this,"primaryType",i[0]);function o(l,c){c[l]&&vn.throwArgumentError(`circular type reference to ${JSON.stringify(l)}`,"types",e),c[l]=!0,Object.keys(n[l]).forEach(d=>{s[d]&&(o(d,c),Object.keys(c).forEach(u=>{r[u][d]=!0}))}),delete c[l]}o(this.primaryType,{});for(const l in r){const c=Object.keys(r[l]);c.sort(),this._types[l]=SC(l,e[l])+c.map(d=>SC(d,e[d])).join("")}}getEncoder(e){let n=this._encoderCache[e];return n||(n=this._encoderCache[e]=this._getEncoder(e)),n}_getEncoder(e){{const r=xv(e);if(r)return r}const n=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){const r=n[1],i=this.getEncoder(r),o=parseInt(n[3]);return l=>{o>=0&&l.length!==o&&vn.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",l);let c=l.map(i);return this._types[r]&&(c=c.map(Zn)),Zn(sr(c))}}const s=this.types[e];if(s){const r=yd(this._types[e]);return i=>{const o=s.map(({name:l,type:c})=>{const d=this.getEncoder(c)(i[l]);return this._types[c]?Zn(d):d});return o.unshift(r),sr(o)}}return vn.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const n=this._types[e];return n||vn.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),n}encodeData(e,n){return this.getEncoder(e)(n)}hashStruct(e,n){return Zn(this.encodeData(e,n))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,n,s){if(xv(e))return s(e,n);const r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){const o=r[1],l=parseInt(r[3]);return l>=0&&n.length!==l&&vn.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",n),n.map(c=>this._visit(o,c,s))}const i=this.types[e];return i?i.reduce((o,{name:l,type:c})=>(o[l]=this._visit(c,n[l],s),o),{}):vn.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,n){return this._visit(this.primaryType,e,n)}static from(e){return new vr(e)}static getPrimaryType(e){return vr.from(e).primaryType}static hashStruct(e,n,s){return vr.from(n).hashStruct(e,s)}static hashDomain(e){const n=[];for(const s in e){const r=kC[s];r||vn.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(s)}`,"domain",e),n.push({name:s,type:r})}return n.sort((s,r)=>gv.indexOf(s.name)-gv.indexOf(r.name)),vr.hashStruct("EIP712Domain",{EIP712Domain:n},e)}static encode(e,n,s){return sr(["0x1901",vr.hashDomain(e),vr.from(n).hash(s)])}static hash(e,n,s){return Zn(vr.encode(e,n,s))}static resolveNames(e,n,s,r){return HZ(this,void 0,void 0,function*(){e=Gn(e);const i={};e.verifyingContract&&!Ut(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");const o=vr.from(n);o.visit(s,(l,c)=>(l==="address"&&!Ut(c,20)&&(i[c]="0x"),c));for(const l in i)i[l]=yield r(l);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),s=o.visit(s,(l,c)=>l==="address"&&i[c]?i[c]:c),{domain:e,value:s}})}static getPayload(e,n,s){vr.hashDomain(e);const r={},i=[];gv.forEach(c=>{const d=e[c];d!=null&&(r[c]=XZ[c](d),i.push({name:c,type:kC[c]}))});const o=vr.from(n),l=Gn(n);return l.EIP712Domain?vn.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",n):l.EIP712Domain=i,o.encode(s),{types:l,domain:r,primaryType:o.primaryType,message:o.visit(s,(c,d)=>{if(c.match(/^bytes(\d*)/))return Xe(nt(d));if(c.match(/^u?int/))return Oe.from(d).toString();switch(c){case"address":return d.toLowerCase();case"bool":return!!d;case"string":return typeof d!="string"&&vn.throwArgumentError("invalid string","value",d),d}return vn.throwArgumentError("unsupported type","type",c)})}}}const yn=new re(bm);class JZ extends vm{}class QZ extends vm{}class ZZ extends vm{}class r1 extends vm{static isIndexed(e){return!!(e&&e._isIndexed)}}const eee={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function AC(t,e){const n=new Error(`deferred error during ABI decoding triggered accessing ${t}`);return n.error=e,n}class TC{constructor(e){let n=[];typeof e=="string"?n=JSON.parse(e):n=e,Se(this,"fragments",n.map(s=>Ha.from(s)).filter(s=>s!=null)),Se(this,"_abiCoder",Tr(new.target,"getAbiCoder")()),Se(this,"functions",{}),Se(this,"errors",{}),Se(this,"events",{}),Se(this,"structs",{}),this.fragments.forEach(s=>{let r=null;switch(s.type){case"constructor":if(this.deploy){yn.warn("duplicate definition - constructor");return}Se(this,"deploy",s);return;case"function":r=this.functions;break;case"event":r=this.events;break;case"error":r=this.errors;break;default:return}let i=s.format();if(r[i]){yn.warn("duplicate definition - "+i);return}r[i]=s}),this.deploy||Se(this,"deploy",Ji.from({payable:!1,type:"constructor"})),Se(this,"_isInterface",!0)}format(e){e||(e=Wt.full),e===Wt.sighash&&yn.throwArgumentError("interface does not support formatting sighash","format",e);const n=this.fragments.map(s=>s.format(e));return e===Wt.json?JSON.stringify(n.map(s=>JSON.parse(s))):n}static getAbiCoder(){return vZ}static getAddress(e){return gs(e)}static getSighash(e){return ks(yd(e.format()),0,4)}static getEventTopic(e){return yd(e.format())}getFunction(e){if(Ut(e)){for(const s in this.functions)if(e===this.getSighash(s))return this.functions[s];yn.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const s=e.trim(),r=Object.keys(this.functions).filter(i=>i.split("(")[0]===s);return r.length===0?yn.throwArgumentError("no matching function","name",s):r.length>1&&yn.throwArgumentError("multiple matching functions","name",s),this.functions[r[0]]}const n=this.functions[Qi.fromString(e).format()];return n||yn.throwArgumentError("no matching function","signature",e),n}getEvent(e){if(Ut(e)){const s=e.toLowerCase();for(const r in this.events)if(s===this.getEventTopic(r))return this.events[r];yn.throwArgumentError("no matching event","topichash",s)}if(e.indexOf("(")===-1){const s=e.trim(),r=Object.keys(this.events).filter(i=>i.split("(")[0]===s);return r.length===0?yn.throwArgumentError("no matching event","name",s):r.length>1&&yn.throwArgumentError("multiple matching events","name",s),this.events[r[0]]}const n=this.events[Ua.fromString(e).format()];return n||yn.throwArgumentError("no matching event","signature",e),n}getError(e){if(Ut(e)){const s=Tr(this.constructor,"getSighash");for(const r in this.errors){const i=this.errors[r];if(e===s(i))return this.errors[r]}yn.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const s=e.trim(),r=Object.keys(this.errors).filter(i=>i.split("(")[0]===s);return r.length===0?yn.throwArgumentError("no matching error","name",s):r.length>1&&yn.throwArgumentError("multiple matching errors","name",s),this.errors[r[0]]}const n=this.errors[Qi.fromString(e).format()];return n||yn.throwArgumentError("no matching error","signature",e),n}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(n){try{e=this.getError(e)}catch{throw n}}return Tr(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),Tr(this.constructor,"getEventTopic")(e)}_decodeParams(e,n){return this._abiCoder.decode(e,n)}_encodeParams(e,n){return this._abiCoder.encode(e,n)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,n){typeof e=="string"&&(e=this.getError(e));const s=nt(n);return Xe(s.slice(0,4))!==this.getSighash(e)&&yn.throwArgumentError(`data signature does not match error ${e.name}.`,"data",Xe(s)),this._decodeParams(e.inputs,s.slice(4))}encodeErrorResult(e,n){return typeof e=="string"&&(e=this.getError(e)),Xe(zs([this.getSighash(e),this._encodeParams(e.inputs,n||[])]))}decodeFunctionData(e,n){typeof e=="string"&&(e=this.getFunction(e));const s=nt(n);return Xe(s.slice(0,4))!==this.getSighash(e)&&yn.throwArgumentError(`data signature does not match function ${e.name}.`,"data",Xe(s)),this._decodeParams(e.inputs,s.slice(4))}encodeFunctionData(e,n){return typeof e=="string"&&(e=this.getFunction(e)),Xe(zs([this.getSighash(e),this._encodeParams(e.inputs,n||[])]))}decodeFunctionResult(e,n){typeof e=="string"&&(e=this.getFunction(e));let s=nt(n),r=null,i="",o=null,l=null,c=null;switch(s.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,s)}catch{}break;case 4:{const d=Xe(s.slice(0,4)),u=eee[d];if(u)o=this._abiCoder.decode(u.inputs,s.slice(4)),l=u.name,c=u.signature,u.reason&&(r=o[0]),l==="Error"?i=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(o[0])}`:l==="Panic"&&(i=`; VM Exception while processing transaction: reverted with panic code ${o[0]}`);else try{const h=this.getError(d);o=this._abiCoder.decode(h.inputs,s.slice(4)),l=h.name,c=h.format()}catch{}break}}return yn.throwError("call revert exception"+i,re.errors.CALL_EXCEPTION,{method:e.format(),data:Xe(n),errorArgs:o,errorName:l,errorSignature:c,reason:r})}encodeFunctionResult(e,n){return typeof e=="string"&&(e=this.getFunction(e)),Xe(this._abiCoder.encode(e.outputs,n||[]))}encodeFilterTopics(e,n){typeof e=="string"&&(e=this.getEvent(e)),n.length>e.inputs.length&&yn.throwError("too many arguments for "+e.format(),re.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:n});let s=[];e.anonymous||s.push(this.getEventTopic(e));const r=(i,o)=>i.type==="string"?yd(o):i.type==="bytes"?Zn(Xe(o)):(i.type==="bool"&&typeof o=="boolean"&&(o=o?"0x01":"0x00"),i.type.match(/^u?int/)&&(o=Oe.from(o).toHexString()),i.type==="address"&&this._abiCoder.encode(["address"],[o]),pn(Xe(o),32));for(n.forEach((i,o)=>{let l=e.inputs[o];if(!l.indexed){i!=null&&yn.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+l.name,i);return}i==null?s.push(null):l.baseType==="array"||l.baseType==="tuple"?yn.throwArgumentError("filtering with tuples or arrays not supported","contract."+l.name,i):Array.isArray(i)?s.push(i.map(c=>r(l,c))):s.push(r(l,i))});s.length&&s[s.length-1]===null;)s.pop();return s}encodeEventLog(e,n){typeof e=="string"&&(e=this.getEvent(e));const s=[],r=[],i=[];return e.anonymous||s.push(this.getEventTopic(e)),n.length!==e.inputs.length&&yn.throwArgumentError("event arguments/values mismatch","values",n),e.inputs.forEach((o,l)=>{const c=n[l];if(o.indexed)if(o.type==="string")s.push(yd(c));else if(o.type==="bytes")s.push(Zn(c));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");s.push(this._abiCoder.encode([o.type],[c]))}else r.push(o),i.push(c)}),{data:this._abiCoder.encode(r,i),topics:s}}decodeEventLog(e,n,s){if(typeof e=="string"&&(e=this.getEvent(e)),s!=null&&!e.anonymous){let f=this.getEventTopic(e);(!Ut(s[0],32)||s[0].toLowerCase()!==f)&&yn.throwError("fragment/topic mismatch",re.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:f,value:s[0]}),s=s.slice(1)}let r=[],i=[],o=[];e.inputs.forEach((f,m)=>{f.indexed?f.type==="string"||f.type==="bytes"||f.baseType==="tuple"||f.baseType==="array"?(r.push(rs.fromObject({type:"bytes32",name:f.name})),o.push(!0)):(r.push(f),o.push(!1)):(i.push(f),o.push(!1))});let l=s!=null?this._abiCoder.decode(r,zs(s)):null,c=this._abiCoder.decode(i,n,!0),d=[],u=0,h=0;e.inputs.forEach((f,m)=>{if(f.indexed)if(l==null)d[m]=new r1({_isIndexed:!0,hash:null});else if(o[m])d[m]=new r1({_isIndexed:!0,hash:l[h++]});else try{d[m]=l[h++]}catch(x){d[m]=x}else try{d[m]=c[u++]}catch(x){d[m]=x}if(f.name&&d[f.name]==null){const x=d[m];x instanceof Error?Object.defineProperty(d,f.name,{enumerable:!0,get:()=>{throw AC(`property ${JSON.stringify(f.name)}`,x)}}):d[f.name]=x}});for(let f=0;f<d.length;f++){const m=d[f];m instanceof Error&&Object.defineProperty(d,f,{enumerable:!0,get:()=>{throw AC(`index ${f}`,m)}})}return Object.freeze(d)}parseTransaction(e){let n=this.getFunction(e.data.substring(0,10).toLowerCase());return n?new QZ({args:this._abiCoder.decode(n.inputs,"0x"+e.data.substring(10)),functionFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n),value:Oe.from(e.value||"0")}):null}parseLog(e){let n=this.getEvent(e.topics[0]);return!n||n.anonymous?null:new JZ({eventFragment:n,name:n.name,signature:n.format(),topic:this.getEventTopic(n),args:this.decodeEventLog(n,e.data,e.topics)})}parseError(e){const n=Xe(e);let s=this.getError(n.substring(0,10).toLowerCase());return s?new ZZ({args:this._abiCoder.decode(s.inputs,"0x"+n.substring(10)),errorFragment:s,name:s.name,signature:s.format(),sighash:this.getSighash(s)}):null}static isInterface(e){return!!(e&&e._isInterface)}}const tee="abstract-provider/5.8.0";var nee=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):r(u.value).then(l,c)}d((s=s.apply(t,e||[])).next())})};const see=new re(tee);class ree extends vm{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class Px{constructor(){see.checkAbstract(new.target,Px),Se(this,"_isProvider",!0)}getFeeData(){return nee(this,void 0,void 0,function*(){const{block:e,gasPrice:n}=yield Un({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(o=>null)});let s=null,r=null,i=null;return e&&e.baseFeePerGas&&(s=e.baseFeePerGas,i=Oe.from("1500000000"),r=e.baseFeePerGas.mul(2).add(i)),{lastBaseFeePerGas:s,maxFeePerGas:r,maxPriorityFeePerGas:i,gasPrice:n}})}addListener(e,n){return this.on(e,n)}removeListener(e,n){return this.off(e,n)}static isProvider(e){return!!(e&&e._isProvider)}}const iee="abstract-signer/5.8.0";var ui=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):r(u.value).then(l,c)}d((s=s.apply(t,e||[])).next())})};const zr=new re(iee),aee=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],oee=[re.errors.INSUFFICIENT_FUNDS,re.errors.NONCE_EXPIRED,re.errors.REPLACEMENT_UNDERPRICED];class Eu{constructor(){zr.checkAbstract(new.target,Eu),Se(this,"_isSigner",!0)}getBalance(e){return ui(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return ui(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return ui(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const n=yield Un(this.checkTransaction(e));return yield this.provider.estimateGas(n)})}call(e,n){return ui(this,void 0,void 0,function*(){this._checkProvider("call");const s=yield Un(this.checkTransaction(e));return yield this.provider.call(s,n)})}sendTransaction(e){return ui(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const n=yield this.populateTransaction(e),s=yield this.signTransaction(n);return yield this.provider.sendTransaction(s)})}getChainId(){return ui(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return ui(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return ui(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return ui(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const s in e)aee.indexOf(s)===-1&&zr.throwArgumentError("invalid transaction key: "+s,"transaction",e);const n=Gn(e);return n.from==null?n.from=this.getAddress():n.from=Promise.all([Promise.resolve(n.from),this.getAddress()]).then(s=>(s[0].toLowerCase()!==s[1].toLowerCase()&&zr.throwArgumentError("from address mismatch","transaction",e),s[0])),n}populateTransaction(e){return ui(this,void 0,void 0,function*(){const n=yield Un(this.checkTransaction(e));n.to!=null&&(n.to=Promise.resolve(n.to).then(r=>ui(this,void 0,void 0,function*(){if(r==null)return null;const i=yield this.resolveName(r);return i==null&&zr.throwArgumentError("provided ENS name resolves to null","tx.to",r),i})),n.to.catch(r=>{}));const s=n.maxFeePerGas!=null||n.maxPriorityFeePerGas!=null;if(n.gasPrice!=null&&(n.type===2||s)?zr.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(n.type===0||n.type===1)&&s&&zr.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(n.type===2||n.type==null)&&n.maxFeePerGas!=null&&n.maxPriorityFeePerGas!=null)n.type=2;else if(n.type===0||n.type===1)n.gasPrice==null&&(n.gasPrice=this.getGasPrice());else{const r=yield this.getFeeData();if(n.type==null)if(r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)if(n.type=2,n.gasPrice!=null){const i=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=i,n.maxPriorityFeePerGas=i}else n.maxFeePerGas==null&&(n.maxFeePerGas=r.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=r.maxPriorityFeePerGas);else r.gasPrice!=null?(s&&zr.throwError("network does not support EIP-1559",re.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),n.gasPrice==null&&(n.gasPrice=r.gasPrice),n.type=0):zr.throwError("failed to get consistent fee data",re.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else n.type===2&&(n.maxFeePerGas==null&&(n.maxFeePerGas=r.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=r.maxPriorityFeePerGas))}return n.nonce==null&&(n.nonce=this.getTransactionCount("pending")),n.gasLimit==null&&(n.gasLimit=this.estimateGas(n).catch(r=>{if(oee.indexOf(r.code)>=0)throw r;return zr.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",re.errors.UNPREDICTABLE_GAS_LIMIT,{error:r,tx:n})})),n.chainId==null?n.chainId=this.getChainId():n.chainId=Promise.all([Promise.resolve(n.chainId),this.getChainId()]).then(r=>(r[1]!==0&&r[0]!==r[1]&&zr.throwArgumentError("chainId address mismatch","transaction",e),r[0])),yield Un(n)})}_checkProvider(e){this.provider||zr.throwError("missing provider",re.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class bk extends Eu{constructor(e,n){super(),Se(this,"address",e),Se(this,"provider",n||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,n){return Promise.resolve().then(()=>{zr.throwError(e,re.errors.UNSUPPORTED_OPERATION,{operation:n})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,n,s){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new bk(this.address,e)}}var uD={},Mt={},Nm=hD;function hD(t,e){if(!t)throw new Error(e||"Assertion failed")}hD.equal=function(e,n,s){if(e!=n)throw new Error(s||"Assertion failed: "+e+" != "+n)};var i1={exports:{}};typeof Object.create=="function"?i1.exports=function(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:i1.exports=function(e,n){if(n){e.super_=n;var s=function(){};s.prototype=n.prototype,e.prototype=new s,e.prototype.constructor=e}};var lee=i1.exports,cee=Nm,dee=lee;Mt.inherits=dee;function uee(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function hee(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var n=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),r=0;r<t.length;r+=2)n.push(parseInt(t[r]+t[r+1],16))}else for(var s=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?n[s++]=i:i<2048?(n[s++]=i>>6|192,n[s++]=i&63|128):uee(t,r)?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),n[s++]=i>>18|240,n[s++]=i>>12&63|128,n[s++]=i>>6&63|128,n[s++]=i&63|128):(n[s++]=i>>12|224,n[s++]=i>>6&63|128,n[s++]=i&63|128)}else for(r=0;r<t.length;r++)n[r]=t[r]|0;return n}Mt.toArray=hee;function fee(t){for(var e="",n=0;n<t.length;n++)e+=mD(t[n].toString(16));return e}Mt.toHex=fee;function fD(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}Mt.htonl=fD;function mee(t,e){for(var n="",s=0;s<t.length;s++){var r=t[s];e==="little"&&(r=fD(r)),n+=pD(r.toString(16))}return n}Mt.toHex32=mee;function mD(t){return t.length===1?"0"+t:t}Mt.zero2=mD;function pD(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}Mt.zero8=pD;function pee(t,e,n,s){var r=n-e;cee(r%4===0);for(var i=new Array(r/4),o=0,l=e;o<i.length;o++,l+=4){var c;s==="big"?c=t[l]<<24|t[l+1]<<16|t[l+2]<<8|t[l+3]:c=t[l+3]<<24|t[l+2]<<16|t[l+1]<<8|t[l],i[o]=c>>>0}return i}Mt.join32=pee;function gee(t,e){for(var n=new Array(t.length*4),s=0,r=0;s<t.length;s++,r+=4){var i=t[s];e==="big"?(n[r]=i>>>24,n[r+1]=i>>>16&255,n[r+2]=i>>>8&255,n[r+3]=i&255):(n[r+3]=i>>>24,n[r+2]=i>>>16&255,n[r+1]=i>>>8&255,n[r]=i&255)}return n}Mt.split32=gee;function xee(t,e){return t>>>e|t<<32-e}Mt.rotr32=xee;function yee(t,e){return t<<e|t>>>32-e}Mt.rotl32=yee;function vee(t,e){return t+e>>>0}Mt.sum32=vee;function bee(t,e,n){return t+e+n>>>0}Mt.sum32_3=bee;function wee(t,e,n,s){return t+e+n+s>>>0}Mt.sum32_4=wee;function Nee(t,e,n,s,r){return t+e+n+s+r>>>0}Mt.sum32_5=Nee;function kee(t,e,n,s){var r=t[e],i=t[e+1],o=s+i>>>0,l=(o<s?1:0)+n+r;t[e]=l>>>0,t[e+1]=o}Mt.sum64=kee;function jee(t,e,n,s){var r=e+s>>>0,i=(r<e?1:0)+t+n;return i>>>0}Mt.sum64_hi=jee;function See(t,e,n,s){var r=e+s;return r>>>0}Mt.sum64_lo=See;function Aee(t,e,n,s,r,i,o,l){var c=0,d=e;d=d+s>>>0,c+=d<e?1:0,d=d+i>>>0,c+=d<i?1:0,d=d+l>>>0,c+=d<l?1:0;var u=t+n+r+o+c;return u>>>0}Mt.sum64_4_hi=Aee;function Tee(t,e,n,s,r,i,o,l){var c=e+s+i+l;return c>>>0}Mt.sum64_4_lo=Tee;function Cee(t,e,n,s,r,i,o,l,c,d){var u=0,h=e;h=h+s>>>0,u+=h<e?1:0,h=h+i>>>0,u+=h<i?1:0,h=h+l>>>0,u+=h<l?1:0,h=h+d>>>0,u+=h<d?1:0;var f=t+n+r+o+c+u;return f>>>0}Mt.sum64_5_hi=Cee;function Eee(t,e,n,s,r,i,o,l,c,d){var u=e+s+i+l+d;return u>>>0}Mt.sum64_5_lo=Eee;function _ee(t,e,n){var s=e<<32-n|t>>>n;return s>>>0}Mt.rotr64_hi=_ee;function Pee(t,e,n){var s=t<<32-n|e>>>n;return s>>>0}Mt.rotr64_lo=Pee;function Iee(t,e,n){return t>>>n}Mt.shr64_hi=Iee;function Ree(t,e,n){var s=t<<32-n|e>>>n;return s>>>0}Mt.shr64_lo=Ree;var _u={},CC=Mt,Mee=Nm;function Ix(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}_u.BlockHash=Ix;Ix.prototype.update=function(e,n){if(e=CC.toArray(e,n),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var s=e.length%this._delta8;this.pending=e.slice(e.length-s,e.length),this.pending.length===0&&(this.pending=null),e=CC.join32(e,0,e.length-s,this.endian);for(var r=0;r<e.length;r+=this._delta32)this._update(e,r,r+this._delta32)}return this};Ix.prototype.digest=function(e){return this.update(this._pad()),Mee(this.pending===null),this._digest(e)};Ix.prototype._pad=function(){var e=this.pendingTotal,n=this._delta8,s=n-(e+this.padLength)%n,r=new Array(s+this.padLength);r[0]=128;for(var i=1;i<s;i++)r[i]=0;if(e<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)r[i++]=0;r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=e>>>24&255,r[i++]=e>>>16&255,r[i++]=e>>>8&255,r[i++]=e&255}else for(r[i++]=e&255,r[i++]=e>>>8&255,r[i++]=e>>>16&255,r[i++]=e>>>24&255,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,o=8;o<this.padLength;o++)r[i++]=0;return r};var Pu={},Ta={},Dee=Mt,da=Dee.rotr32;function $ee(t,e,n,s){if(t===0)return gD(e,n,s);if(t===1||t===3)return yD(e,n,s);if(t===2)return xD(e,n,s)}Ta.ft_1=$ee;function gD(t,e,n){return t&e^~t&n}Ta.ch32=gD;function xD(t,e,n){return t&e^t&n^e&n}Ta.maj32=xD;function yD(t,e,n){return t^e^n}Ta.p32=yD;function Oee(t){return da(t,2)^da(t,13)^da(t,22)}Ta.s0_256=Oee;function Fee(t){return da(t,6)^da(t,11)^da(t,25)}Ta.s1_256=Fee;function Lee(t){return da(t,7)^da(t,18)^t>>>3}Ta.g0_256=Lee;function Bee(t){return da(t,17)^da(t,19)^t>>>10}Ta.g1_256=Bee;var iu=Mt,Uee=_u,Vee=Ta,yv=iu.rotl32,eh=iu.sum32,zee=iu.sum32_5,Hee=Vee.ft_1,vD=Uee.BlockHash,Wee=[1518500249,1859775393,2400959708,3395469782];function ka(){if(!(this instanceof ka))return new ka;vD.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}iu.inherits(ka,vD);var qee=ka;ka.blockSize=512;ka.outSize=160;ka.hmacStrength=80;ka.padLength=64;ka.prototype._update=function(e,n){for(var s=this.W,r=0;r<16;r++)s[r]=e[n+r];for(;r<s.length;r++)s[r]=yv(s[r-3]^s[r-8]^s[r-14]^s[r-16],1);var i=this.h[0],o=this.h[1],l=this.h[2],c=this.h[3],d=this.h[4];for(r=0;r<s.length;r++){var u=~~(r/20),h=zee(yv(i,5),Hee(u,o,l,c),d,s[r],Wee[u]);d=c,c=l,l=yv(o,30),o=i,i=h}this.h[0]=eh(this.h[0],i),this.h[1]=eh(this.h[1],o),this.h[2]=eh(this.h[2],l),this.h[3]=eh(this.h[3],c),this.h[4]=eh(this.h[4],d)};ka.prototype._digest=function(e){return e==="hex"?iu.toHex32(this.h,"big"):iu.split32(this.h,"big")};var au=Mt,Kee=_u,Iu=Ta,Gee=Nm,hi=au.sum32,Yee=au.sum32_4,Xee=au.sum32_5,Jee=Iu.ch32,Qee=Iu.maj32,Zee=Iu.s0_256,ete=Iu.s1_256,tte=Iu.g0_256,nte=Iu.g1_256,bD=Kee.BlockHash,ste=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function ja(){if(!(this instanceof ja))return new ja;bD.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=ste,this.W=new Array(64)}au.inherits(ja,bD);var wD=ja;ja.blockSize=512;ja.outSize=256;ja.hmacStrength=192;ja.padLength=64;ja.prototype._update=function(e,n){for(var s=this.W,r=0;r<16;r++)s[r]=e[n+r];for(;r<s.length;r++)s[r]=Yee(nte(s[r-2]),s[r-7],tte(s[r-15]),s[r-16]);var i=this.h[0],o=this.h[1],l=this.h[2],c=this.h[3],d=this.h[4],u=this.h[5],h=this.h[6],f=this.h[7];for(Gee(this.k.length===s.length),r=0;r<s.length;r++){var m=Xee(f,ete(d),Jee(d,u,h),this.k[r],s[r]),x=hi(Zee(i),Qee(i,o,l));f=h,h=u,u=d,d=hi(c,m),c=l,l=o,o=i,i=hi(m,x)}this.h[0]=hi(this.h[0],i),this.h[1]=hi(this.h[1],o),this.h[2]=hi(this.h[2],l),this.h[3]=hi(this.h[3],c),this.h[4]=hi(this.h[4],d),this.h[5]=hi(this.h[5],u),this.h[6]=hi(this.h[6],h),this.h[7]=hi(this.h[7],f)};ja.prototype._digest=function(e){return e==="hex"?au.toHex32(this.h,"big"):au.split32(this.h,"big")};var a1=Mt,ND=wD;function so(){if(!(this instanceof so))return new so;ND.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}a1.inherits(so,ND);var rte=so;so.blockSize=512;so.outSize=224;so.hmacStrength=192;so.padLength=64;so.prototype._digest=function(e){return e==="hex"?a1.toHex32(this.h.slice(0,7),"big"):a1.split32(this.h.slice(0,7),"big")};var yr=Mt,ite=_u,ate=Nm,ua=yr.rotr64_hi,ha=yr.rotr64_lo,kD=yr.shr64_hi,jD=yr.shr64_lo,go=yr.sum64,vv=yr.sum64_hi,bv=yr.sum64_lo,ote=yr.sum64_4_hi,lte=yr.sum64_4_lo,cte=yr.sum64_5_hi,dte=yr.sum64_5_lo,SD=ite.BlockHash,ute=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function $i(){if(!(this instanceof $i))return new $i;SD.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=ute,this.W=new Array(160)}yr.inherits($i,SD);var AD=$i;$i.blockSize=1024;$i.outSize=512;$i.hmacStrength=192;$i.padLength=128;$i.prototype._prepareBlock=function(e,n){for(var s=this.W,r=0;r<32;r++)s[r]=e[n+r];for(;r<s.length;r+=2){var i=Nte(s[r-4],s[r-3]),o=kte(s[r-4],s[r-3]),l=s[r-14],c=s[r-13],d=bte(s[r-30],s[r-29]),u=wte(s[r-30],s[r-29]),h=s[r-32],f=s[r-31];s[r]=ote(i,o,l,c,d,u,h,f),s[r+1]=lte(i,o,l,c,d,u,h,f)}};$i.prototype._update=function(e,n){this._prepareBlock(e,n);var s=this.W,r=this.h[0],i=this.h[1],o=this.h[2],l=this.h[3],c=this.h[4],d=this.h[5],u=this.h[6],h=this.h[7],f=this.h[8],m=this.h[9],x=this.h[10],p=this.h[11],w=this.h[12],b=this.h[13],v=this.h[14],N=this.h[15];ate(this.k.length===s.length);for(var E=0;E<s.length;E+=2){var T=v,R=N,$=yte(f,m),M=vte(f,m),L=hte(f,m,x,p,w),U=fte(f,m,x,p,w,b),z=this.k[E],B=this.k[E+1],D=s[E],g=s[E+1],j=cte(T,R,$,M,L,U,z,B,D,g),C=dte(T,R,$,M,L,U,z,B,D,g);T=gte(r,i),R=xte(r,i),$=mte(r,i,o,l,c),M=pte(r,i,o,l,c,d);var P=vv(T,R,$,M),S=bv(T,R,$,M);v=w,N=b,w=x,b=p,x=f,p=m,f=vv(u,h,j,C),m=bv(h,h,j,C),u=c,h=d,c=o,d=l,o=r,l=i,r=vv(j,C,P,S),i=bv(j,C,P,S)}go(this.h,0,r,i),go(this.h,2,o,l),go(this.h,4,c,d),go(this.h,6,u,h),go(this.h,8,f,m),go(this.h,10,x,p),go(this.h,12,w,b),go(this.h,14,v,N)};$i.prototype._digest=function(e){return e==="hex"?yr.toHex32(this.h,"big"):yr.split32(this.h,"big")};function hte(t,e,n,s,r){var i=t&n^~t&r;return i<0&&(i+=4294967296),i}function fte(t,e,n,s,r,i){var o=e&s^~e&i;return o<0&&(o+=4294967296),o}function mte(t,e,n,s,r){var i=t&n^t&r^n&r;return i<0&&(i+=4294967296),i}function pte(t,e,n,s,r,i){var o=e&s^e&i^s&i;return o<0&&(o+=4294967296),o}function gte(t,e){var n=ua(t,e,28),s=ua(e,t,2),r=ua(e,t,7),i=n^s^r;return i<0&&(i+=4294967296),i}function xte(t,e){var n=ha(t,e,28),s=ha(e,t,2),r=ha(e,t,7),i=n^s^r;return i<0&&(i+=4294967296),i}function yte(t,e){var n=ua(t,e,14),s=ua(t,e,18),r=ua(e,t,9),i=n^s^r;return i<0&&(i+=4294967296),i}function vte(t,e){var n=ha(t,e,14),s=ha(t,e,18),r=ha(e,t,9),i=n^s^r;return i<0&&(i+=4294967296),i}function bte(t,e){var n=ua(t,e,1),s=ua(t,e,8),r=kD(t,e,7),i=n^s^r;return i<0&&(i+=4294967296),i}function wte(t,e){var n=ha(t,e,1),s=ha(t,e,8),r=jD(t,e,7),i=n^s^r;return i<0&&(i+=4294967296),i}function Nte(t,e){var n=ua(t,e,19),s=ua(e,t,29),r=kD(t,e,6),i=n^s^r;return i<0&&(i+=4294967296),i}function kte(t,e){var n=ha(t,e,19),s=ha(e,t,29),r=jD(t,e,6),i=n^s^r;return i<0&&(i+=4294967296),i}var o1=Mt,TD=AD;function ro(){if(!(this instanceof ro))return new ro;TD.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}o1.inherits(ro,TD);var jte=ro;ro.blockSize=1024;ro.outSize=384;ro.hmacStrength=192;ro.padLength=128;ro.prototype._digest=function(e){return e==="hex"?o1.toHex32(this.h.slice(0,12),"big"):o1.split32(this.h.slice(0,12),"big")};Pu.sha1=qee;Pu.sha224=rte;Pu.sha256=wD;Pu.sha384=jte;Pu.sha512=AD;var CD={},Ac=Mt,Ste=_u,cp=Ac.rotl32,EC=Ac.sum32,th=Ac.sum32_3,_C=Ac.sum32_4,ED=Ste.BlockHash;function Sa(){if(!(this instanceof Sa))return new Sa;ED.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Ac.inherits(Sa,ED);CD.ripemd160=Sa;Sa.blockSize=512;Sa.outSize=160;Sa.hmacStrength=192;Sa.padLength=64;Sa.prototype._update=function(e,n){for(var s=this.h[0],r=this.h[1],i=this.h[2],o=this.h[3],l=this.h[4],c=s,d=r,u=i,h=o,f=l,m=0;m<80;m++){var x=EC(cp(_C(s,PC(m,r,i,o),e[Cte[m]+n],Ate(m)),_te[m]),l);s=l,l=o,o=cp(i,10),i=r,r=x,x=EC(cp(_C(c,PC(79-m,d,u,h),e[Ete[m]+n],Tte(m)),Pte[m]),f),c=f,f=h,h=cp(u,10),u=d,d=x}x=th(this.h[1],i,h),this.h[1]=th(this.h[2],o,f),this.h[2]=th(this.h[3],l,c),this.h[3]=th(this.h[4],s,d),this.h[4]=th(this.h[0],r,u),this.h[0]=x};Sa.prototype._digest=function(e){return e==="hex"?Ac.toHex32(this.h,"little"):Ac.split32(this.h,"little")};function PC(t,e,n,s){return t<=15?e^n^s:t<=31?e&n|~e&s:t<=47?(e|~n)^s:t<=63?e&s|n&~s:e^(n|~s)}function Ate(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function Tte(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var Cte=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Ete=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],_te=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Pte=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Ite=Mt,Rte=Nm;function ou(t,e,n){if(!(this instanceof ou))return new ou(t,e,n);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(Ite.toArray(e,n))}var Mte=ou;ou.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),Rte(e.length<=this.blockSize);for(var n=e.length;n<this.blockSize;n++)e.push(0);for(n=0;n<e.length;n++)e[n]^=54;for(this.inner=new this.Hash().update(e),n=0;n<e.length;n++)e[n]^=106;this.outer=new this.Hash().update(e)};ou.prototype.update=function(e,n){return this.inner.update(e,n),this};ou.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(t){var e=t;e.utils=Mt,e.common=_u,e.sha=Pu,e.ripemd=CD,e.hmac=Mte,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(uD);const er=pu(uD);function Ru(t,e,n){return n={path:e,exports:{},require:function(s,r){return Dte(s,r??n.path)}},t(n,n.exports),n.exports}function Dte(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var wk=_D;function _D(t,e){if(!t)throw new Error(e||"Assertion failed")}_D.equal=function(e,n,s){if(e!=n)throw new Error(s||"Assertion failed: "+e+" != "+n)};var Si=Ru(function(t,e){var n=e;function s(o,l){if(Array.isArray(o))return o.slice();if(!o)return[];var c=[];if(typeof o!="string"){for(var d=0;d<o.length;d++)c[d]=o[d]|0;return c}if(l==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var d=0;d<o.length;d+=2)c.push(parseInt(o[d]+o[d+1],16))}else for(var d=0;d<o.length;d++){var u=o.charCodeAt(d),h=u>>8,f=u&255;h?c.push(h,f):c.push(f)}return c}n.toArray=s;function r(o){return o.length===1?"0"+o:o}n.zero2=r;function i(o){for(var l="",c=0;c<o.length;c++)l+=r(o[c].toString(16));return l}n.toHex=i,n.encode=function(l,c){return c==="hex"?i(l):l}}),Dr=Ru(function(t,e){var n=e;n.assert=wk,n.toArray=Si.toArray,n.zero2=Si.zero2,n.toHex=Si.toHex,n.encode=Si.encode;function s(c,d,u){var h=new Array(Math.max(c.bitLength(),u)+1),f;for(f=0;f<h.length;f+=1)h[f]=0;var m=1<<d+1,x=c.clone();for(f=0;f<h.length;f++){var p,w=x.andln(m-1);x.isOdd()?(w>(m>>1)-1?p=(m>>1)-w:p=w,x.isubn(p)):p=0,h[f]=p,x.iushrn(1)}return h}n.getNAF=s;function r(c,d){var u=[[],[]];c=c.clone(),d=d.clone();for(var h=0,f=0,m;c.cmpn(-h)>0||d.cmpn(-f)>0;){var x=c.andln(3)+h&3,p=d.andln(3)+f&3;x===3&&(x=-1),p===3&&(p=-1);var w;x&1?(m=c.andln(7)+h&7,(m===3||m===5)&&p===2?w=-x:w=x):w=0,u[0].push(w);var b;p&1?(m=d.andln(7)+f&7,(m===3||m===5)&&x===2?b=-p:b=p):b=0,u[1].push(b),2*h===w+1&&(h=1-h),2*f===b+1&&(f=1-f),c.iushrn(1),d.iushrn(1)}return u}n.getJSF=r;function i(c,d,u){var h="_"+d;c.prototype[d]=function(){return this[h]!==void 0?this[h]:this[h]=u.call(this)}}n.cachedProperty=i;function o(c){return typeof c=="string"?n.toArray(c,"hex"):c}n.parseBytes=o;function l(c){return new mt(c,"hex","le")}n.intFromLE=l}),g0=Dr.getNAF,$te=Dr.getJSF,x0=Dr.assert;function wl(t,e){this.type=t,this.p=new mt(e.p,16),this.red=e.prime?mt.red(e.prime):mt.mont(this.p),this.zero=new mt(0).toRed(this.red),this.one=new mt(1).toRed(this.red),this.two=new mt(2).toRed(this.red),this.n=e.n&&new mt(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Uc=wl;wl.prototype.point=function(){throw new Error("Not implemented")};wl.prototype.validate=function(){throw new Error("Not implemented")};wl.prototype._fixedNafMul=function(e,n){x0(e.precomputed);var s=e._getDoubles(),r=g0(n,1,this._bitLength),i=(1<<s.step+1)-(s.step%2===0?2:1);i/=3;var o=[],l,c;for(l=0;l<r.length;l+=s.step){c=0;for(var d=l+s.step-1;d>=l;d--)c=(c<<1)+r[d];o.push(c)}for(var u=this.jpoint(null,null,null),h=this.jpoint(null,null,null),f=i;f>0;f--){for(l=0;l<o.length;l++)c=o[l],c===f?h=h.mixedAdd(s.points[l]):c===-f&&(h=h.mixedAdd(s.points[l].neg()));u=u.add(h)}return u.toP()};wl.prototype._wnafMul=function(e,n){var s=4,r=e._getNAFPoints(s);s=r.wnd;for(var i=r.points,o=g0(n,s,this._bitLength),l=this.jpoint(null,null,null),c=o.length-1;c>=0;c--){for(var d=0;c>=0&&o[c]===0;c--)d++;if(c>=0&&d++,l=l.dblp(d),c<0)break;var u=o[c];x0(u!==0),e.type==="affine"?u>0?l=l.mixedAdd(i[u-1>>1]):l=l.mixedAdd(i[-u-1>>1].neg()):u>0?l=l.add(i[u-1>>1]):l=l.add(i[-u-1>>1].neg())}return e.type==="affine"?l.toP():l};wl.prototype._wnafMulAdd=function(e,n,s,r,i){var o=this._wnafT1,l=this._wnafT2,c=this._wnafT3,d=0,u,h,f;for(u=0;u<r;u++){f=n[u];var m=f._getNAFPoints(e);o[u]=m.wnd,l[u]=m.points}for(u=r-1;u>=1;u-=2){var x=u-1,p=u;if(o[x]!==1||o[p]!==1){c[x]=g0(s[x],o[x],this._bitLength),c[p]=g0(s[p],o[p],this._bitLength),d=Math.max(c[x].length,d),d=Math.max(c[p].length,d);continue}var w=[n[x],null,null,n[p]];n[x].y.cmp(n[p].y)===0?(w[1]=n[x].add(n[p]),w[2]=n[x].toJ().mixedAdd(n[p].neg())):n[x].y.cmp(n[p].y.redNeg())===0?(w[1]=n[x].toJ().mixedAdd(n[p]),w[2]=n[x].add(n[p].neg())):(w[1]=n[x].toJ().mixedAdd(n[p]),w[2]=n[x].toJ().mixedAdd(n[p].neg()));var b=[-3,-1,-5,-7,0,7,5,1,3],v=$te(s[x],s[p]);for(d=Math.max(v[0].length,d),c[x]=new Array(d),c[p]=new Array(d),h=0;h<d;h++){var N=v[0][h]|0,E=v[1][h]|0;c[x][h]=b[(N+1)*3+(E+1)],c[p][h]=0,l[x]=w}}var T=this.jpoint(null,null,null),R=this._wnafT4;for(u=d;u>=0;u--){for(var $=0;u>=0;){var M=!0;for(h=0;h<r;h++)R[h]=c[h][u]|0,R[h]!==0&&(M=!1);if(!M)break;$++,u--}if(u>=0&&$++,T=T.dblp($),u<0)break;for(h=0;h<r;h++){var L=R[h];L!==0&&(L>0?f=l[h][L-1>>1]:L<0&&(f=l[h][-L-1>>1].neg()),f.type==="affine"?T=T.mixedAdd(f):T=T.add(f))}}for(u=0;u<r;u++)l[u]=null;return i?T:T.toP()};function ai(t,e){this.curve=t,this.type=e,this.precomputed=null}wl.BasePoint=ai;ai.prototype.eq=function(){throw new Error("Not implemented")};ai.prototype.validate=function(){return this.curve.validate(this)};wl.prototype.decodePoint=function(e,n){e=Dr.toArray(e,n);var s=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*s){e[0]===6?x0(e[e.length-1]%2===0):e[0]===7&&x0(e[e.length-1]%2===1);var r=this.point(e.slice(1,1+s),e.slice(1+s,1+2*s));return r}else if((e[0]===2||e[0]===3)&&e.length-1===s)return this.pointFromX(e.slice(1,1+s),e[0]===3);throw new Error("Unknown point format")};ai.prototype.encodeCompressed=function(e){return this.encode(e,!0)};ai.prototype._encode=function(e){var n=this.curve.p.byteLength(),s=this.getX().toArray("be",n);return e?[this.getY().isEven()?2:3].concat(s):[4].concat(s,this.getY().toArray("be",n))};ai.prototype.encode=function(e,n){return Dr.encode(this._encode(n),e)};ai.prototype.precompute=function(e){if(this.precomputed)return this;var n={doubles:null,naf:null,beta:null};return n.naf=this._getNAFPoints(8),n.doubles=this._getDoubles(4,e),n.beta=this._getBeta(),this.precomputed=n,this};ai.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var n=this.precomputed.doubles;return n?n.points.length>=Math.ceil((e.bitLength()+1)/n.step):!1};ai.prototype._getDoubles=function(e,n){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var s=[this],r=this,i=0;i<n;i+=e){for(var o=0;o<e;o++)r=r.dbl();s.push(r)}return{step:e,points:s}};ai.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var n=[this],s=(1<<e)-1,r=s===1?null:this.dbl(),i=1;i<s;i++)n[i]=n[i-1].add(r);return{wnd:e,points:n}};ai.prototype._getBeta=function(){return null};ai.prototype.dblp=function(e){for(var n=this,s=0;s<e;s++)n=n.dbl();return n};var Nk=Ru(function(t){typeof Object.create=="function"?t.exports=function(n,s){s&&(n.super_=s,n.prototype=Object.create(s.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(n,s){if(s){n.super_=s;var r=function(){};r.prototype=s.prototype,n.prototype=new r,n.prototype.constructor=n}}}),Ote=Dr.assert;function oi(t){Uc.call(this,"short",t),this.a=new mt(t.a,16).toRed(this.red),this.b=new mt(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Nk(oi,Uc);var Fte=oi;oi.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var n,s;if(e.beta)n=new mt(e.beta,16).toRed(this.red);else{var r=this._getEndoRoots(this.p);n=r[0].cmp(r[1])<0?r[0]:r[1],n=n.toRed(this.red)}if(e.lambda)s=new mt(e.lambda,16);else{var i=this._getEndoRoots(this.n);this.g.mul(i[0]).x.cmp(this.g.x.redMul(n))===0?s=i[0]:(s=i[1],Ote(this.g.mul(s).x.cmp(this.g.x.redMul(n))===0))}var o;return e.basis?o=e.basis.map(function(l){return{a:new mt(l.a,16),b:new mt(l.b,16)}}):o=this._getEndoBasis(s),{beta:n,lambda:s,basis:o}}};oi.prototype._getEndoRoots=function(e){var n=e===this.p?this.red:mt.mont(e),s=new mt(2).toRed(n).redInvm(),r=s.redNeg(),i=new mt(3).toRed(n).redNeg().redSqrt().redMul(s),o=r.redAdd(i).fromRed(),l=r.redSub(i).fromRed();return[o,l]};oi.prototype._getEndoBasis=function(e){for(var n=this.n.ushrn(Math.floor(this.n.bitLength()/2)),s=e,r=this.n.clone(),i=new mt(1),o=new mt(0),l=new mt(0),c=new mt(1),d,u,h,f,m,x,p,w=0,b,v;s.cmpn(0)!==0;){var N=r.div(s);b=r.sub(N.mul(s)),v=l.sub(N.mul(i));var E=c.sub(N.mul(o));if(!h&&b.cmp(n)<0)d=p.neg(),u=i,h=b.neg(),f=v;else if(h&&++w===2)break;p=b,r=s,s=b,l=i,i=v,c=o,o=E}m=b.neg(),x=v;var T=h.sqr().add(f.sqr()),R=m.sqr().add(x.sqr());return R.cmp(T)>=0&&(m=d,x=u),h.negative&&(h=h.neg(),f=f.neg()),m.negative&&(m=m.neg(),x=x.neg()),[{a:h,b:f},{a:m,b:x}]};oi.prototype._endoSplit=function(e){var n=this.endo.basis,s=n[0],r=n[1],i=r.b.mul(e).divRound(this.n),o=s.b.neg().mul(e).divRound(this.n),l=i.mul(s.a),c=o.mul(r.a),d=i.mul(s.b),u=o.mul(r.b),h=e.sub(l).sub(c),f=d.add(u).neg();return{k1:h,k2:f}};oi.prototype.pointFromX=function(e,n){e=new mt(e,16),e.red||(e=e.toRed(this.red));var s=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),r=s.redSqrt();if(r.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");var i=r.fromRed().isOdd();return(n&&!i||!n&&i)&&(r=r.redNeg()),this.point(e,r)};oi.prototype.validate=function(e){if(e.inf)return!0;var n=e.x,s=e.y,r=this.a.redMul(n),i=n.redSqr().redMul(n).redIAdd(r).redIAdd(this.b);return s.redSqr().redISub(i).cmpn(0)===0};oi.prototype._endoWnafMulAdd=function(e,n,s){for(var r=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var l=this._endoSplit(n[o]),c=e[o],d=c._getBeta();l.k1.negative&&(l.k1.ineg(),c=c.neg(!0)),l.k2.negative&&(l.k2.ineg(),d=d.neg(!0)),r[o*2]=c,r[o*2+1]=d,i[o*2]=l.k1,i[o*2+1]=l.k2}for(var u=this._wnafMulAdd(1,r,i,o*2,s),h=0;h<o*2;h++)r[h]=null,i[h]=null;return u};function ls(t,e,n,s){Uc.BasePoint.call(this,t,"affine"),e===null&&n===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new mt(e,16),this.y=new mt(n,16),s&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}Nk(ls,Uc.BasePoint);oi.prototype.point=function(e,n,s){return new ls(this,e,n,s)};oi.prototype.pointFromJSON=function(e,n){return ls.fromJSON(this,e,n)};ls.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var n=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var s=this.curve,r=function(i){return s.point(i.x.redMul(s.endo.beta),i.y)};e.beta=n,n.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(r)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(r)}}}return n}};ls.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};ls.fromJSON=function(e,n,s){typeof n=="string"&&(n=JSON.parse(n));var r=e.point(n[0],n[1],s);if(!n[2])return r;function i(l){return e.point(l[0],l[1],s)}var o=n[2];return r.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[r].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[r].concat(o.naf.points.map(i))}},r};ls.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};ls.prototype.isInfinity=function(){return this.inf};ls.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var n=this.y.redSub(e.y);n.cmpn(0)!==0&&(n=n.redMul(this.x.redSub(e.x).redInvm()));var s=n.redSqr().redISub(this.x).redISub(e.x),r=n.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,r)};ls.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var n=this.curve.a,s=this.x.redSqr(),r=e.redInvm(),i=s.redAdd(s).redIAdd(s).redIAdd(n).redMul(r),o=i.redSqr().redISub(this.x.redAdd(this.x)),l=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,l)};ls.prototype.getX=function(){return this.x.fromRed()};ls.prototype.getY=function(){return this.y.fromRed()};ls.prototype.mul=function(e){return e=new mt(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};ls.prototype.mulAdd=function(e,n,s){var r=[this,n],i=[e,s];return this.curve.endo?this.curve._endoWnafMulAdd(r,i):this.curve._wnafMulAdd(1,r,i,2)};ls.prototype.jmulAdd=function(e,n,s){var r=[this,n],i=[e,s];return this.curve.endo?this.curve._endoWnafMulAdd(r,i,!0):this.curve._wnafMulAdd(1,r,i,2,!0)};ls.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};ls.prototype.neg=function(e){if(this.inf)return this;var n=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var s=this.precomputed,r=function(i){return i.neg()};n.precomputed={naf:s.naf&&{wnd:s.naf.wnd,points:s.naf.points.map(r)},doubles:s.doubles&&{step:s.doubles.step,points:s.doubles.points.map(r)}}}return n};ls.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function xs(t,e,n,s){Uc.BasePoint.call(this,t,"jacobian"),e===null&&n===null&&s===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new mt(0)):(this.x=new mt(e,16),this.y=new mt(n,16),this.z=new mt(s,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Nk(xs,Uc.BasePoint);oi.prototype.jpoint=function(e,n,s){return new xs(this,e,n,s)};xs.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),n=e.redSqr(),s=this.x.redMul(n),r=this.y.redMul(n).redMul(e);return this.curve.point(s,r)};xs.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};xs.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var n=e.z.redSqr(),s=this.z.redSqr(),r=this.x.redMul(n),i=e.x.redMul(s),o=this.y.redMul(n.redMul(e.z)),l=e.y.redMul(s.redMul(this.z)),c=r.redSub(i),d=o.redSub(l);if(c.cmpn(0)===0)return d.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=c.redSqr(),h=u.redMul(c),f=r.redMul(u),m=d.redSqr().redIAdd(h).redISub(f).redISub(f),x=d.redMul(f.redISub(m)).redISub(o.redMul(h)),p=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(m,x,p)};xs.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var n=this.z.redSqr(),s=this.x,r=e.x.redMul(n),i=this.y,o=e.y.redMul(n).redMul(this.z),l=s.redSub(r),c=i.redSub(o);if(l.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var d=l.redSqr(),u=d.redMul(l),h=s.redMul(d),f=c.redSqr().redIAdd(u).redISub(h).redISub(h),m=c.redMul(h.redISub(f)).redISub(i.redMul(u)),x=this.z.redMul(l);return this.curve.jpoint(f,m,x)};xs.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var n;if(this.curve.zeroA||this.curve.threeA){var s=this;for(n=0;n<e;n++)s=s.dbl();return s}var r=this.curve.a,i=this.curve.tinv,o=this.x,l=this.y,c=this.z,d=c.redSqr().redSqr(),u=l.redAdd(l);for(n=0;n<e;n++){var h=o.redSqr(),f=u.redSqr(),m=f.redSqr(),x=h.redAdd(h).redIAdd(h).redIAdd(r.redMul(d)),p=o.redMul(f),w=x.redSqr().redISub(p.redAdd(p)),b=p.redISub(w),v=x.redMul(b);v=v.redIAdd(v).redISub(m);var N=u.redMul(c);n+1<e&&(d=d.redMul(m)),o=w,c=N,u=v}return this.curve.jpoint(o,u.redMul(i),c)};xs.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};xs.prototype._zeroDbl=function(){var e,n,s;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),l=this.x.redAdd(i).redSqr().redISub(r).redISub(o);l=l.redIAdd(l);var c=r.redAdd(r).redIAdd(r),d=c.redSqr().redISub(l).redISub(l),u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),e=d,n=c.redMul(l.redISub(d)).redISub(u),s=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),f=this.y.redSqr(),m=f.redSqr(),x=this.x.redAdd(f).redSqr().redISub(h).redISub(m);x=x.redIAdd(x);var p=h.redAdd(h).redIAdd(h),w=p.redSqr(),b=m.redIAdd(m);b=b.redIAdd(b),b=b.redIAdd(b),e=w.redISub(x).redISub(x),n=p.redMul(x.redISub(e)).redISub(b),s=this.y.redMul(this.z),s=s.redIAdd(s)}return this.curve.jpoint(e,n,s)};xs.prototype._threeDbl=function(){var e,n,s;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),l=this.x.redAdd(i).redSqr().redISub(r).redISub(o);l=l.redIAdd(l);var c=r.redAdd(r).redIAdd(r).redIAdd(this.curve.a),d=c.redSqr().redISub(l).redISub(l);e=d;var u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),n=c.redMul(l.redISub(d)).redISub(u),s=this.y.redAdd(this.y)}else{var h=this.z.redSqr(),f=this.y.redSqr(),m=this.x.redMul(f),x=this.x.redSub(h).redMul(this.x.redAdd(h));x=x.redAdd(x).redIAdd(x);var p=m.redIAdd(m);p=p.redIAdd(p);var w=p.redAdd(p);e=x.redSqr().redISub(w),s=this.y.redAdd(this.z).redSqr().redISub(f).redISub(h);var b=f.redSqr();b=b.redIAdd(b),b=b.redIAdd(b),b=b.redIAdd(b),n=x.redMul(p.redISub(e)).redISub(b)}return this.curve.jpoint(e,n,s)};xs.prototype._dbl=function(){var e=this.curve.a,n=this.x,s=this.y,r=this.z,i=r.redSqr().redSqr(),o=n.redSqr(),l=s.redSqr(),c=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),d=n.redAdd(n);d=d.redIAdd(d);var u=d.redMul(l),h=c.redSqr().redISub(u.redAdd(u)),f=u.redISub(h),m=l.redSqr();m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m);var x=c.redMul(f).redISub(m),p=s.redAdd(s).redMul(r);return this.curve.jpoint(h,x,p)};xs.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),n=this.y.redSqr(),s=this.z.redSqr(),r=n.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),l=this.x.redAdd(n).redSqr().redISub(e).redISub(r);l=l.redIAdd(l),l=l.redAdd(l).redIAdd(l),l=l.redISub(o);var c=l.redSqr(),d=r.redIAdd(r);d=d.redIAdd(d),d=d.redIAdd(d),d=d.redIAdd(d);var u=i.redIAdd(l).redSqr().redISub(o).redISub(c).redISub(d),h=n.redMul(u);h=h.redIAdd(h),h=h.redIAdd(h);var f=this.x.redMul(c).redISub(h);f=f.redIAdd(f),f=f.redIAdd(f);var m=this.y.redMul(u.redMul(d.redISub(u)).redISub(l.redMul(c)));m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m);var x=this.z.redAdd(l).redSqr().redISub(s).redISub(c);return this.curve.jpoint(f,m,x)};xs.prototype.mul=function(e,n){return e=new mt(e,n),this.curve._wnafMul(this,e)};xs.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var n=this.z.redSqr(),s=e.z.redSqr();if(this.x.redMul(s).redISub(e.x.redMul(n)).cmpn(0)!==0)return!1;var r=n.redMul(this.z),i=s.redMul(e.z);return this.y.redMul(i).redISub(e.y.redMul(r)).cmpn(0)===0};xs.prototype.eqXToP=function(e){var n=this.z.redSqr(),s=e.toRed(this.curve.red).redMul(n);if(this.x.cmp(s)===0)return!0;for(var r=e.clone(),i=this.curve.redN.redMul(n);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(s.redIAdd(i),this.x.cmp(s)===0)return!0}};xs.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};xs.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var lg=Ru(function(t,e){var n=e;n.base=Uc,n.short=Fte,n.mont=null,n.edwards=null}),cg=Ru(function(t,e){var n=e,s=Dr.assert;function r(l){l.type==="short"?this.curve=new lg.short(l):l.type==="edwards"?this.curve=new lg.edwards(l):this.curve=new lg.mont(l),this.g=this.curve.g,this.n=this.curve.n,this.hash=l.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}n.PresetCurve=r;function i(l,c){Object.defineProperty(n,l,{configurable:!0,enumerable:!0,get:function(){var d=new r(c);return Object.defineProperty(n,l,{configurable:!0,enumerable:!0,value:d}),d}})}i("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:er.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),i("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:er.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),i("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:er.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),i("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:er.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),i("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:er.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),i("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:er.sha256,gRed:!1,g:["9"]}),i("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:er.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}i("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:er.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function cl(t){if(!(this instanceof cl))return new cl(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Si.toArray(t.entropy,t.entropyEnc||"hex"),n=Si.toArray(t.nonce,t.nonceEnc||"hex"),s=Si.toArray(t.pers,t.persEnc||"hex");wk(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,n,s)}var PD=cl;cl.prototype._init=function(e,n,s){var r=e.concat(n).concat(s);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(r),this._reseed=1,this.reseedInterval=281474976710656};cl.prototype._hmac=function(){return new er.hmac(this.hash,this.K)};cl.prototype._update=function(e){var n=this._hmac().update(this.V).update([0]);e&&(n=n.update(e)),this.K=n.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};cl.prototype.reseed=function(e,n,s,r){typeof n!="string"&&(r=s,s=n,n=null),e=Si.toArray(e,n),s=Si.toArray(s,r),wk(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(s||[])),this._reseed=1};cl.prototype.generate=function(e,n,s,r){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof n!="string"&&(r=s,s=n,n=null),s&&(s=Si.toArray(s,r||"hex"),this._update(s));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var o=i.slice(0,e);return this._update(s),this._reseed++,Si.encode(o,n)};var l1=Dr.assert;function Ps(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var kk=Ps;Ps.fromPublic=function(e,n,s){return n instanceof Ps?n:new Ps(e,{pub:n,pubEnc:s})};Ps.fromPrivate=function(e,n,s){return n instanceof Ps?n:new Ps(e,{priv:n,privEnc:s})};Ps.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Ps.prototype.getPublic=function(e,n){return typeof e=="string"&&(n=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),n?this.pub.encode(n,e):this.pub};Ps.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Ps.prototype._importPrivate=function(e,n){this.priv=new mt(e,n||16),this.priv=this.priv.umod(this.ec.curve.n)};Ps.prototype._importPublic=function(e,n){if(e.x||e.y){this.ec.curve.type==="mont"?l1(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&l1(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,n)};Ps.prototype.derive=function(e){return e.validate()||l1(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Ps.prototype.sign=function(e,n,s){return this.ec.sign(e,this,n,s)};Ps.prototype.verify=function(e,n,s){return this.ec.verify(e,n,this,void 0,s)};Ps.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Lte=Dr.assert;function Rx(t,e){if(t instanceof Rx)return t;this._importDER(t,e)||(Lte(t.r&&t.s,"Signature without r or s"),this.r=new mt(t.r,16),this.s=new mt(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var Mx=Rx;function Bte(){this.place=0}function wv(t,e){var n=t[e.place++];if(!(n&128))return n;var s=n&15;if(s===0||s>4||t[e.place]===0)return!1;for(var r=0,i=0,o=e.place;i<s;i++,o++)r<<=8,r|=t[o],r>>>=0;return r<=127?!1:(e.place=o,r)}function IC(t){for(var e=0,n=t.length-1;!t[e]&&!(t[e+1]&128)&&e<n;)e++;return e===0?t:t.slice(e)}Rx.prototype._importDER=function(e,n){e=Dr.toArray(e,n);var s=new Bte;if(e[s.place++]!==48)return!1;var r=wv(e,s);if(r===!1||r+s.place!==e.length||e[s.place++]!==2)return!1;var i=wv(e,s);if(i===!1||e[s.place]&128)return!1;var o=e.slice(s.place,i+s.place);if(s.place+=i,e[s.place++]!==2)return!1;var l=wv(e,s);if(l===!1||e.length!==l+s.place||e[s.place]&128)return!1;var c=e.slice(s.place,l+s.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new mt(o),this.s=new mt(c),this.recoveryParam=null,!0};function Nv(t,e){if(e<128){t.push(e);return}var n=1+(Math.log(e)/Math.LN2>>>3);for(t.push(n|128);--n;)t.push(e>>>(n<<3)&255);t.push(e)}Rx.prototype.toDER=function(e){var n=this.r.toArray(),s=this.s.toArray();for(n[0]&128&&(n=[0].concat(n)),s[0]&128&&(s=[0].concat(s)),n=IC(n),s=IC(s);!s[0]&&!(s[1]&128);)s=s.slice(1);var r=[2];Nv(r,n.length),r=r.concat(n),r.push(2),Nv(r,s.length);var i=r.concat(s),o=[48];return Nv(o,i.length),o=o.concat(i),Dr.encode(o,e)};var Ute=function(){throw new Error("unsupported")},Vl=Dr.assert;function ri(t){if(!(this instanceof ri))return new ri(t);typeof t=="string"&&(Vl(Object.prototype.hasOwnProperty.call(cg,t),"Unknown curve "+t),t=cg[t]),t instanceof cg.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var Vte=ri;ri.prototype.keyPair=function(e){return new kk(this,e)};ri.prototype.keyFromPrivate=function(e,n){return kk.fromPrivate(this,e,n)};ri.prototype.keyFromPublic=function(e,n){return kk.fromPublic(this,e,n)};ri.prototype.genKeyPair=function(e){e||(e={});for(var n=new PD({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Ute(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),s=this.n.byteLength(),r=this.n.sub(new mt(2));;){var i=new mt(n.generate(s));if(!(i.cmp(r)>0))return i.iaddn(1),this.keyFromPrivate(i)}};ri.prototype._truncateToN=function(e,n,s){var r;if(mt.isBN(e)||typeof e=="number")e=new mt(e,16),r=e.byteLength();else if(typeof e=="object")r=e.length,e=new mt(e,16);else{var i=e.toString();r=i.length+1>>>1,e=new mt(i,16)}typeof s!="number"&&(s=r*8);var o=s-this.n.bitLength();return o>0&&(e=e.ushrn(o)),!n&&e.cmp(this.n)>=0?e.sub(this.n):e};ri.prototype.sign=function(e,n,s,r){if(typeof s=="object"&&(r=s,s=null),r||(r={}),typeof e!="string"&&typeof e!="number"&&!mt.isBN(e)){Vl(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),Vl(e.length>>>0===e.length);for(var i=0;i<e.length;i++)Vl((e[i]&255)===e[i])}n=this.keyFromPrivate(n,s),e=this._truncateToN(e,!1,r.msgBitLength),Vl(!e.isNeg(),"Can not sign a negative message");var o=this.n.byteLength(),l=n.getPrivate().toArray("be",o),c=e.toArray("be",o);Vl(new mt(c).eq(e),"Can not sign message");for(var d=new PD({hash:this.hash,entropy:l,nonce:c,pers:r.pers,persEnc:r.persEnc||"utf8"}),u=this.n.sub(new mt(1)),h=0;;h++){var f=r.k?r.k(h):new mt(d.generate(this.n.byteLength()));if(f=this._truncateToN(f,!0),!(f.cmpn(1)<=0||f.cmp(u)>=0)){var m=this.g.mul(f);if(!m.isInfinity()){var x=m.getX(),p=x.umod(this.n);if(p.cmpn(0)!==0){var w=f.invm(this.n).mul(p.mul(n.getPrivate()).iadd(e));if(w=w.umod(this.n),w.cmpn(0)!==0){var b=(m.getY().isOdd()?1:0)|(x.cmp(p)!==0?2:0);return r.canonical&&w.cmp(this.nh)>0&&(w=this.n.sub(w),b^=1),new Mx({r:p,s:w,recoveryParam:b})}}}}}};ri.prototype.verify=function(e,n,s,r,i){i||(i={}),e=this._truncateToN(e,!1,i.msgBitLength),s=this.keyFromPublic(s,r),n=new Mx(n,"hex");var o=n.r,l=n.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||l.cmpn(1)<0||l.cmp(this.n)>=0)return!1;var c=l.invm(this.n),d=c.mul(e).umod(this.n),u=c.mul(o).umod(this.n),h;return this.curve._maxwellTrick?(h=this.g.jmulAdd(d,s.getPublic(),u),h.isInfinity()?!1:h.eqXToP(o)):(h=this.g.mulAdd(d,s.getPublic(),u),h.isInfinity()?!1:h.getX().umod(this.n).cmp(o)===0)};ri.prototype.recoverPubKey=function(t,e,n,s){Vl((3&n)===n,"The recovery param is more than two bits"),e=new Mx(e,s);var r=this.n,i=new mt(t),o=e.r,l=e.s,c=n&1,d=n>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&d)throw new Error("Unable to find sencond key candinate");d?o=this.curve.pointFromX(o.add(this.curve.n),c):o=this.curve.pointFromX(o,c);var u=e.r.invm(r),h=r.sub(i).mul(u).umod(r),f=l.mul(u).umod(r);return this.g.mulAdd(h,o,f)};ri.prototype.getKeyRecoveryParam=function(t,e,n,s){if(e=new Mx(e,s),e.recoveryParam!==null)return e.recoveryParam;for(var r=0;r<4;r++){var i;try{i=this.recoverPubKey(t,e,r)}catch{continue}if(i.eq(n))return r}throw new Error("Unable to find valid recovery factor")};var zte=Ru(function(t,e){var n=e;n.version="6.6.1",n.utils=Dr,n.rand=function(){throw new Error("unsupported")},n.curve=lg,n.curves=cg,n.ec=Vte,n.eddsa=null}),Hte=zte.ec;const Wte="signing-key/5.8.0",c1=new re(Wte);let kv=null;function To(){return kv||(kv=new Hte("secp256k1")),kv}class qte{constructor(e){Se(this,"curve","secp256k1"),Se(this,"privateKey",Xe(e)),jc(this.privateKey)!==32&&c1.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const n=To().keyFromPrivate(nt(this.privateKey));Se(this,"publicKey","0x"+n.getPublic(!1,"hex")),Se(this,"compressedPublicKey","0x"+n.getPublic(!0,"hex")),Se(this,"_isSigningKey",!0)}_addPoint(e){const n=To().keyFromPublic(nt(this.publicKey)),s=To().keyFromPublic(nt(e));return"0x"+n.pub.add(s.pub).encodeCompressed("hex")}signDigest(e){const n=To().keyFromPrivate(nt(this.privateKey)),s=nt(e);s.length!==32&&c1.throwArgumentError("bad digest length","digest",e);const r=n.sign(s,{canonical:!0});return Cu({recoveryParam:r.recoveryParam,r:pn("0x"+r.r.toString(16),32),s:pn("0x"+r.s.toString(16),32)})}computeSharedSecret(e){const n=To().keyFromPrivate(nt(this.privateKey)),s=To().keyFromPublic(nt(ID(e)));return pn("0x"+n.derive(s.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function Kte(t,e){const n=Cu(e),s={r:nt(n.r),s:nt(n.s)};return"0x"+To().recoverPubKey(nt(t),s,n.recoveryParam).encode("hex",!1)}function ID(t,e){const n=nt(t);return n.length===32?new qte(n).publicKey:n.length===33?"0x"+To().keyFromPublic(n).getPublic(!1,"hex"):n.length===65?Xe(n):c1.throwArgumentError("invalid public or private key","key","[REDACTED]")}const Gte="transactions/5.8.0",As=new re(Gte);var RC;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(RC||(RC={}));function jk(t){return t==="0x"?null:gs(t)}function Ss(t){return t==="0x"?Y3:Oe.from(t)}const Yte=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],Xte={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function Jte(t){const e=ID(t);return gs(ks(Zn(ks(e,1)),12))}function RD(t,e){return Jte(Kte(nt(t),e))}function kr(t,e){const n=qa(Oe.from(t).toHexString());return n.length>32&&As.throwArgumentError("invalid length for "+e,"transaction:"+e,t),n}function jv(t,e){return{address:gs(t),storageKeys:(e||[]).map((n,s)=>(jc(n)!==32&&As.throwArgumentError("invalid access list storageKey",`accessList[${t}:${s}]`,n),n.toLowerCase()))}}function Mu(t){if(Array.isArray(t))return t.map((n,s)=>Array.isArray(n)?(n.length>2&&As.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${s}]`,n),jv(n[0],n[1])):jv(n.address,n.storageKeys));const e=Object.keys(t).map(n=>{const s=t[n].reduce((r,i)=>(r[i]=!0,r),{});return jv(n,Object.keys(s).sort())});return e.sort((n,s)=>n.address.localeCompare(s.address)),e}function MD(t){return Mu(t).map(e=>[e.address,e.storageKeys])}function DD(t,e){if(t.gasPrice!=null){const s=Oe.from(t.gasPrice),r=Oe.from(t.maxFeePerGas||0);s.eq(r)||As.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:s,maxFeePerGas:r})}const n=[kr(t.chainId||0,"chainId"),kr(t.nonce||0,"nonce"),kr(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),kr(t.maxFeePerGas||0,"maxFeePerGas"),kr(t.gasLimit||0,"gasLimit"),t.to!=null?gs(t.to):"0x",kr(t.value||0,"value"),t.data||"0x",MD(t.accessList||[])];if(e){const s=Cu(e);n.push(kr(s.recoveryParam,"recoveryParam")),n.push(qa(s.r)),n.push(qa(s.s))}return sr(["0x02",ru(n)])}function $D(t,e){const n=[kr(t.chainId||0,"chainId"),kr(t.nonce||0,"nonce"),kr(t.gasPrice||0,"gasPrice"),kr(t.gasLimit||0,"gasLimit"),t.to!=null?gs(t.to):"0x",kr(t.value||0,"value"),t.data||"0x",MD(t.accessList||[])];if(e){const s=Cu(e);n.push(kr(s.recoveryParam,"recoveryParam")),n.push(qa(s.r)),n.push(qa(s.s))}return sr(["0x01",ru(n)])}function Qte(t,e){O3(t,Xte);const n=[];Yte.forEach(function(o){let l=t[o.name]||[];const c={};o.numeric&&(c.hexPad="left"),l=nt(Xe(l,c)),o.length&&l.length!==o.length&&l.length>0&&As.throwArgumentError("invalid length for "+o.name,"transaction:"+o.name,l),o.maxLength&&(l=qa(l),l.length>o.maxLength&&As.throwArgumentError("invalid length for "+o.name,"transaction:"+o.name,l)),n.push(Xe(l))});let s=0;if(t.chainId!=null?(s=t.chainId,typeof s!="number"&&As.throwArgumentError("invalid transaction.chainId","transaction",t)):e&&!Ex(e)&&e.v>28&&(s=Math.floor((e.v-35)/2)),s!==0&&(n.push(Xe(s)),n.push("0x"),n.push("0x")),!e)return ru(n);const r=Cu(e);let i=27+r.recoveryParam;return s!==0?(n.pop(),n.pop(),n.pop(),i+=s*2+8,r.v>28&&r.v!==i&&As.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):r.v!==i&&As.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),n.push(Xe(i)),n.push(qa(nt(r.r))),n.push(qa(nt(r.s))),ru(n)}function Exe(t,e){if(t.type==null||t.type===0)return t.accessList!=null&&As.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",t),Qte(t,e);switch(t.type){case 1:return $D(t,e);case 2:return DD(t,e)}return As.throwError(`unsupported transaction type: ${t.type}`,re.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:t.type})}function OD(t,e,n){try{const s=Ss(e[0]).toNumber();if(s!==0&&s!==1)throw new Error("bad recid");t.v=s}catch{As.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=pn(e[1],32),t.s=pn(e[2],32);try{const s=Zn(n(t));t.from=RD(s,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function Zte(t){const e=xk(t.slice(1));e.length!==9&&e.length!==12&&As.throwArgumentError("invalid component count for transaction type: 2","payload",Xe(t));const n=Ss(e[2]),s=Ss(e[3]),r={type:2,chainId:Ss(e[0]).toNumber(),nonce:Ss(e[1]).toNumber(),maxPriorityFeePerGas:n,maxFeePerGas:s,gasPrice:null,gasLimit:Ss(e[4]),to:jk(e[5]),value:Ss(e[6]),data:e[7],accessList:Mu(e[8])};return e.length===9||(r.hash=Zn(t),OD(r,e.slice(9),DD)),r}function ene(t){const e=xk(t.slice(1));e.length!==8&&e.length!==11&&As.throwArgumentError("invalid component count for transaction type: 1","payload",Xe(t));const n={type:1,chainId:Ss(e[0]).toNumber(),nonce:Ss(e[1]).toNumber(),gasPrice:Ss(e[2]),gasLimit:Ss(e[3]),to:jk(e[4]),value:Ss(e[5]),data:e[6],accessList:Mu(e[7])};return e.length===8||(n.hash=Zn(t),OD(n,e.slice(8),$D)),n}function tne(t){const e=xk(t);e.length!==9&&e.length!==6&&As.throwArgumentError("invalid raw transaction","rawTransaction",t);const n={nonce:Ss(e[0]).toNumber(),gasPrice:Ss(e[1]),gasLimit:Ss(e[2]),to:jk(e[3]),value:Ss(e[4]),data:e[5],chainId:0};if(e.length===6)return n;try{n.v=Oe.from(e[6]).toNumber()}catch{return n}if(n.r=pn(e[7],32),n.s=pn(e[8],32),Oe.from(n.r).isZero()&&Oe.from(n.s).isZero())n.chainId=n.v,n.v=0;else{n.chainId=Math.floor((n.v-35)/2),n.chainId<0&&(n.chainId=0);let s=n.v-27;const r=e.slice(0,6);n.chainId!==0&&(r.push(Xe(n.chainId)),r.push("0x"),r.push("0x"),s-=n.chainId*2+8);const i=Zn(ru(r));try{n.from=RD(i,{r:Xe(n.r),s:Xe(n.s),recoveryParam:s})}catch{}n.hash=Zn(t)}return n.type=null,n}function nne(t){const e=nt(t);if(e[0]>127)return tne(e);switch(e[0]){case 1:return ene(e);case 2:return Zte(e)}return As.throwError(`unsupported transaction type: ${e[0]}`,re.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const sne="contracts/5.7.0";var dl=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):r(u.value).then(l,c)}d((s=s.apply(t,e||[])).next())})};const Zt=new re(sne),rne={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0,customData:!0,ccipReadEnabled:!0};function y0(t,e){return dl(this,void 0,void 0,function*(){const n=yield e;typeof n!="string"&&Zt.throwArgumentError("invalid address or ENS name","name",n);try{return gs(n)}catch{}t||Zt.throwError("a provider or signer is needed to resolve ENS names",re.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const s=yield t.resolveName(n);return s==null&&Zt.throwArgumentError("resolver or addr is not configured for ENS name","name",n),s})}function qh(t,e,n){return dl(this,void 0,void 0,function*(){return Array.isArray(n)?yield Promise.all(n.map((s,r)=>qh(t,Array.isArray(e)?e[r]:e[s.name],s))):n.type==="address"?yield y0(t,e):n.type==="tuple"?yield qh(t,e,n.components):n.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(s=>qh(t,s,n.arrayChildren))):Promise.reject(Zt.makeError("invalid value for array",re.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function Dx(t,e,n){return dl(this,void 0,void 0,function*(){let s={};n.length===e.inputs.length+1&&typeof n[n.length-1]=="object"&&(s=Gn(n.pop())),Zt.checkArgumentCount(n.length,e.inputs.length,"passed to contract"),t.signer?s.from?s.from=Un({override:y0(t.signer,s.from),signer:t.signer.getAddress()}).then(d=>dl(this,void 0,void 0,function*(){return gs(d.signer)!==d.override&&Zt.throwError("Contract with a Signer cannot override from",re.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),d.override})):s.from=t.signer.getAddress():s.from&&(s.from=y0(t.provider,s.from));const r=yield Un({args:qh(t.signer||t.provider,n,e.inputs),address:t.resolvedAddress,overrides:Un(s)||{}}),i=t.interface.encodeFunctionData(e,r.args),o={data:i,to:r.address},l=r.overrides;if(l.nonce!=null&&(o.nonce=Oe.from(l.nonce).toNumber()),l.gasLimit!=null&&(o.gasLimit=Oe.from(l.gasLimit)),l.gasPrice!=null&&(o.gasPrice=Oe.from(l.gasPrice)),l.maxFeePerGas!=null&&(o.maxFeePerGas=Oe.from(l.maxFeePerGas)),l.maxPriorityFeePerGas!=null&&(o.maxPriorityFeePerGas=Oe.from(l.maxPriorityFeePerGas)),l.from!=null&&(o.from=l.from),l.type!=null&&(o.type=l.type),l.accessList!=null&&(o.accessList=Mu(l.accessList)),o.gasLimit==null&&e.gas!=null){let d=21e3;const u=nt(i);for(let h=0;h<u.length;h++)d+=4,u[h]&&(d+=64);o.gasLimit=Oe.from(e.gas).add(d)}if(l.value){const d=Oe.from(l.value);!d.isZero()&&!e.payable&&Zt.throwError("non-payable method cannot override value",re.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:s.value}),o.value=d}l.customData&&(o.customData=Gn(l.customData)),l.ccipReadEnabled&&(o.ccipReadEnabled=!!l.ccipReadEnabled),delete s.nonce,delete s.gasLimit,delete s.gasPrice,delete s.from,delete s.value,delete s.type,delete s.accessList,delete s.maxFeePerGas,delete s.maxPriorityFeePerGas,delete s.customData,delete s.ccipReadEnabled;const c=Object.keys(s).filter(d=>s[d]!=null);return c.length&&Zt.throwError(`cannot override ${c.map(d=>JSON.stringify(d)).join(",")}`,re.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:c}),o})}function ine(t,e){return function(...n){return Dx(t,e,n)}}function ane(t,e){const n=t.signer||t.provider;return function(...s){return dl(this,void 0,void 0,function*(){n||Zt.throwError("estimate require a provider or signer",re.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const r=yield Dx(t,e,s);return yield n.estimateGas(r)})}}function FD(t,e){const n=e.wait.bind(e);e.wait=s=>n(s).then(r=>(r.events=r.logs.map(i=>{let o=no(i),l=null;try{l=t.interface.parseLog(i)}catch{}return l&&(o.args=l.args,o.decode=(c,d)=>t.interface.decodeEventLog(l.eventFragment,c,d),o.event=l.name,o.eventSignature=l.signature),o.removeListener=()=>t.provider,o.getBlock=()=>t.provider.getBlock(r.blockHash),o.getTransaction=()=>t.provider.getTransaction(r.transactionHash),o.getTransactionReceipt=()=>Promise.resolve(r),o}),r))}function LD(t,e,n){const s=t.signer||t.provider;return function(...r){return dl(this,void 0,void 0,function*(){let i;if(r.length===e.inputs.length+1&&typeof r[r.length-1]=="object"){const c=Gn(r.pop());c.blockTag!=null&&(i=yield c.blockTag),delete c.blockTag,r.push(c)}t.deployTransaction!=null&&(yield t._deployed(i));const o=yield Dx(t,e,r),l=yield s.call(o,i);try{let c=t.interface.decodeFunctionResult(e,l);return n&&e.outputs.length===1&&(c=c[0]),c}catch(c){throw c.code===re.errors.CALL_EXCEPTION&&(c.address=t.address,c.args=r,c.transaction=o),c}})}}function one(t,e){return function(...n){return dl(this,void 0,void 0,function*(){t.signer||Zt.throwError("sending a transaction requires a signer",re.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),t.deployTransaction!=null&&(yield t._deployed());const s=yield Dx(t,e,n),r=yield t.signer.sendTransaction(s);return FD(t,r),r})}}function MC(t,e,n){return e.constant?LD(t,e,n):one(t,e)}function BD(t){return t.address&&(t.topics==null||t.topics.length===0)?"*":(t.address||"*")+"@"+(t.topics?t.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class Ff{constructor(e,n){Se(this,"tag",e),Se(this,"filter",n),this._listeners=[]}addListener(e,n){this._listeners.push({listener:e,once:n})}removeListener(e){let n=!1;this._listeners=this._listeners.filter(s=>n||s.listener!==e?!0:(n=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const n=this.listenerCount();return this._listeners=this._listeners.filter(s=>{const r=e.slice();return setTimeout(()=>{s.listener.apply(this,r)},0),!s.once}),n}prepareEvent(e){}getEmit(e){return[e]}}class lne extends Ff{constructor(){super("error",null)}}class DC extends Ff{constructor(e,n,s,r){const i={address:e};let o=n.getEventTopic(s);r?(o!==r[0]&&Zt.throwArgumentError("topic mismatch","topics",r),i.topics=r.slice()):i.topics=[o],super(BD(i),i),Se(this,"address",e),Se(this,"interface",n),Se(this,"fragment",s)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(n,s)=>this.interface.decodeEventLog(this.fragment,n,s);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(n){e.args=null,e.decodeError=n}}getEmit(e){const n=zQ(e.args);if(n.length)throw n[0].error;const s=(e.args||[]).slice();return s.push(e),s}}class $C extends Ff{constructor(e,n){super("*",{address:e}),Se(this,"address",e),Se(this,"interface",n)}prepareEvent(e){super.prepareEvent(e);try{const n=this.interface.parseLog(e);e.event=n.name,e.eventSignature=n.signature,e.decode=(s,r)=>this.interface.decodeEventLog(n.eventFragment,s,r),e.args=n.args}catch{}}}class cne{constructor(e,n,s){Se(this,"interface",Tr(new.target,"getInterface")(n)),s==null?(Se(this,"provider",null),Se(this,"signer",null)):Eu.isSigner(s)?(Se(this,"provider",s.provider||null),Se(this,"signer",s)):Px.isProvider(s)?(Se(this,"provider",s),Se(this,"signer",null)):Zt.throwArgumentError("invalid signer or provider","signerOrProvider",s),Se(this,"callStatic",{}),Se(this,"estimateGas",{}),Se(this,"functions",{}),Se(this,"populateTransaction",{}),Se(this,"filters",{});{const o={};Object.keys(this.interface.events).forEach(l=>{const c=this.interface.events[l];Se(this.filters,l,(...d)=>({address:this.address,topics:this.interface.encodeFilterTopics(c,d)})),o[c.name]||(o[c.name]=[]),o[c.name].push(l)}),Object.keys(o).forEach(l=>{const c=o[l];c.length===1?Se(this.filters,l,this.filters[c[0]]):Zt.warn(`Duplicate definition of ${l} (${c.join(", ")})`)})}if(Se(this,"_runningEvents",{}),Se(this,"_wrappedEmits",{}),e==null&&Zt.throwArgumentError("invalid contract address or ENS name","addressOrName",e),Se(this,"address",e),this.provider)Se(this,"resolvedAddress",y0(this.provider,e));else try{Se(this,"resolvedAddress",Promise.resolve(gs(e)))}catch{Zt.throwError("provider is required to use ENS name as contract address",re.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(o=>{});const r={},i={};Object.keys(this.interface.functions).forEach(o=>{const l=this.interface.functions[o];if(i[o]){Zt.warn(`Duplicate ABI entry for ${JSON.stringify(o)}`);return}i[o]=!0;{const c=l.name;r[`%${c}`]||(r[`%${c}`]=[]),r[`%${c}`].push(o)}this[o]==null&&Se(this,o,MC(this,l,!0)),this.functions[o]==null&&Se(this.functions,o,MC(this,l,!1)),this.callStatic[o]==null&&Se(this.callStatic,o,LD(this,l,!0)),this.populateTransaction[o]==null&&Se(this.populateTransaction,o,ine(this,l)),this.estimateGas[o]==null&&Se(this.estimateGas,o,ane(this,l))}),Object.keys(r).forEach(o=>{const l=r[o];if(l.length>1)return;o=o.substring(1);const c=l[0];try{this[o]==null&&Se(this,o,this[c])}catch{}this.functions[o]==null&&Se(this.functions,o,this.functions[c]),this.callStatic[o]==null&&Se(this.callStatic,o,this.callStatic[c]),this.populateTransaction[o]==null&&Se(this.populateTransaction,o,this.populateTransaction[c]),this.estimateGas[o]==null&&Se(this.estimateGas,o,this.estimateGas[c])})}static getContractAddress(e){return vk(e)}static getInterface(e){return TC.isInterface(e)?e:new TC(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(n=>(n==="0x"&&Zt.throwError("contract not deployed",re.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||Zt.throwError("sending a transactions require a signer",re.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const n=Gn(e||{});return["from","to"].forEach(function(s){n[s]!=null&&Zt.throwError("cannot override "+s,re.errors.UNSUPPORTED_OPERATION,{operation:s})}),n.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(n))}connect(e){typeof e=="string"&&(e=new bk(e,this.provider));const n=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&Se(n,"deployTransaction",this.deployTransaction),n}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return r1.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new lne);if(e==="event")return this._normalizeRunningEvent(new Ff("event",null));if(e==="*")return this._normalizeRunningEvent(new $C(this.address,this.interface));const n=this.interface.getEvent(e);return this._normalizeRunningEvent(new DC(this.address,this.interface,n))}if(e.topics&&e.topics.length>0){try{const s=e.topics[0];if(typeof s!="string")throw new Error("invalid topic");const r=this.interface.getEvent(s);return this._normalizeRunningEvent(new DC(this.address,this.interface,r,e.topics))}catch{}const n={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new Ff(BD(n),n))}return this._normalizeRunningEvent(new $C(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const n=this._wrappedEmits[e.tag];n&&e.filter&&(this.provider.off(e.filter,n),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,n,s){const r=no(n);return r.removeListener=()=>{s&&(e.removeListener(s),this._checkRunningEvents(e))},r.getBlock=()=>this.provider.getBlock(n.blockHash),r.getTransaction=()=>this.provider.getTransaction(n.transactionHash),r.getTransactionReceipt=()=>this.provider.getTransactionReceipt(n.transactionHash),e.prepareEvent(r),r}_addEventListener(e,n,s){if(this.provider||Zt.throwError("events require a provider or a signer with a provider",re.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(n,s),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const r=i=>{let o=this._wrapEvent(e,i,n);if(o.decodeError==null)try{const l=e.getEmit(o);this.emit(e.filter,...l)}catch(l){o.decodeError=l.error}e.filter!=null&&this.emit("event",o),o.decodeError!=null&&this.emit("error",o.decodeError,o)};this._wrappedEmits[e.tag]=r,e.filter!=null&&this.provider.on(e.filter,r)}}queryFilter(e,n,s){const r=this._getRunningEvent(e),i=Gn(r.filter);return typeof n=="string"&&Ut(n,32)?(s!=null&&Zt.throwArgumentError("cannot specify toBlock with blockhash","toBlock",s),i.blockHash=n):(i.fromBlock=n??0,i.toBlock=s??"latest"),this.provider.getLogs(i).then(o=>o.map(l=>this._wrapEvent(r,l,null)))}on(e,n){return this._addEventListener(this._getRunningEvent(e),n,!1),this}once(e,n){return this._addEventListener(this._getRunningEvent(e),n,!0),this}emit(e,...n){if(!this.provider)return!1;const s=this._getRunningEvent(e),r=s.run(n)>0;return this._checkRunningEvents(s),r}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((n,s)=>n+this._runningEvents[s].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const n=[];for(let s in this._runningEvents)this._runningEvents[s].listeners().forEach(r=>{n.push(r)});return n}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const s in this._runningEvents){const r=this._runningEvents[s];r.removeAllListeners(),this._checkRunningEvents(r)}return this}const n=this._getRunningEvent(e);return n.removeAllListeners(),this._checkRunningEvents(n),this}off(e,n){if(!this.provider)return this;const s=this._getRunningEvent(e);return s.removeListener(n),this._checkRunningEvents(s),this}removeListener(e,n){return this.off(e,n)}}class qe extends cne{}class _xe{constructor(e,n,s){let r=null;typeof n=="string"?r=n:Bc(n)?r=Xe(n):n&&typeof n.object=="string"?r=n.object:r="!",r.substring(0,2)!=="0x"&&(r="0x"+r),(!Ut(r)||r.length%2)&&Zt.throwArgumentError("invalid bytecode","bytecode",n),s&&!Eu.isSigner(s)&&Zt.throwArgumentError("invalid signer","signer",s),Se(this,"bytecode",r),Se(this,"interface",Tr(new.target,"getInterface")(e)),Se(this,"signer",s||null)}getDeployTransaction(...e){let n={};if(e.length===this.interface.deploy.inputs.length+1&&typeof e[e.length-1]=="object"){n=Gn(e.pop());for(const s in n)if(!rne[s])throw new Error("unknown transaction override "+s)}return["data","from","to"].forEach(s=>{n[s]!=null&&Zt.throwError("cannot override "+s,re.errors.UNSUPPORTED_OPERATION,{operation:s})}),n.value&&!Oe.from(n.value).isZero()&&!this.interface.deploy.payable&&Zt.throwError("non-payable constructor cannot override value",re.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),Zt.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor"),n.data=Xe(zs([this.bytecode,this.interface.encodeDeploy(e)])),n}deploy(...e){return dl(this,void 0,void 0,function*(){let n={};e.length===this.interface.deploy.inputs.length+1&&(n=e.pop()),Zt.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor");const s=yield qh(this.signer,e,this.interface.deploy.inputs);s.push(n);const r=this.getDeployTransaction(...s),i=yield this.signer.sendTransaction(r),o=Tr(this.constructor,"getContractAddress")(i),l=Tr(this.constructor,"getContract")(o,this.interface,this.signer);return FD(l,i),Se(l,"deployTransaction",i),l})}attach(e){return this.constructor.getContract(e,this.interface,this.signer)}connect(e){return new this.constructor(this.interface,this.bytecode,e)}static fromSolidity(e,n){e==null&&Zt.throwError("missing compiler output",re.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),typeof e=="string"&&(e=JSON.parse(e));const s=e.abi;let r=null;return e.bytecode?r=e.bytecode:e.evm&&e.evm.bytecode&&(r=e.evm.bytecode),new this(s,r,n)}static getInterface(e){return qe.getInterface(e)}static getContractAddress(e){return vk(e)}static getContract(e,n,s){return new qe(e,n,s)}}const dne="logger/5.7.0";let OC=!1,FC=!1;const dg={debug:1,default:2,info:2,warning:3,error:4,off:5};let LC=dg.default,Sv=null;function une(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const BC=une();var d1;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(d1||(d1={}));var bi;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(bi||(bi={}));const UC="0123456789abcdef";class At{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,n){const s=e.toLowerCase();dg[s]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(LC>dg[s])&&console.log.apply(console,n)}debug(...e){this._log(At.levels.DEBUG,e)}info(...e){this._log(At.levels.INFO,e)}warn(...e){this._log(At.levels.WARNING,e)}makeError(e,n,s){if(FC)return this.makeError("censored error",n,{});n||(n=At.errors.UNKNOWN_ERROR),s||(s={});const r=[];Object.keys(s).forEach(c=>{const d=s[c];try{if(d instanceof Uint8Array){let u="";for(let h=0;h<d.length;h++)u+=UC[d[h]>>4],u+=UC[d[h]&15];r.push(c+"=Uint8Array(0x"+u+")")}else r.push(c+"="+JSON.stringify(d))}catch{r.push(c+"="+JSON.stringify(s[c].toString()))}}),r.push(`code=${n}`),r.push(`version=${this.version}`);const i=e;let o="";switch(n){case bi.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case bi.CALL_EXCEPTION:case bi.INSUFFICIENT_FUNDS:case bi.MISSING_NEW:case bi.NONCE_EXPIRED:case bi.REPLACEMENT_UNDERPRICED:case bi.TRANSACTION_REPLACED:case bi.UNPREDICTABLE_GAS_LIMIT:o=n;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),r.length&&(e+=" ("+r.join(", ")+")");const l=new Error(e);return l.reason=i,l.code=n,Object.keys(s).forEach(function(c){l[c]=s[c]}),l}throwError(e,n,s){throw this.makeError(e,n,s)}throwArgumentError(e,n,s){return this.throwError(e,At.errors.INVALID_ARGUMENT,{argument:n,value:s})}assert(e,n,s,r){e||this.throwError(n,s,r)}assertArgument(e,n,s,r){e||this.throwArgumentError(n,s,r)}checkNormalize(e){BC&&this.throwError("platform missing String.prototype.normalize",At.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:BC})}checkSafeUint53(e,n){typeof e=="number"&&(n==null&&(n="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(n,At.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(n,At.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,n,s){s?s=": "+s:s="",e<n&&this.throwError("missing argument"+s,At.errors.MISSING_ARGUMENT,{count:e,expectedCount:n}),e>n&&this.throwError("too many arguments"+s,At.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:n})}checkNew(e,n){(e===Object||e==null)&&this.throwError("missing new",At.errors.MISSING_NEW,{name:n.name})}checkAbstract(e,n){e===n?this.throwError("cannot instantiate abstract class "+JSON.stringify(n.name)+" directly; use a sub-class",At.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",At.errors.MISSING_NEW,{name:n.name})}static globalLogger(){return Sv||(Sv=new At(dne)),Sv}static setCensorship(e,n){if(!e&&n&&this.globalLogger().throwError("cannot permanently disable censorship",At.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),OC){if(!e)return;this.globalLogger().throwError("error censorship permanent",At.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}FC=!!e,OC=!!n}static setLogLevel(e){const n=dg[e.toLowerCase()];if(n==null){At.globalLogger().warn("invalid log level - "+e);return}LC=n}static from(e){return new At(e)}}At.errors=bi;At.levels=d1;const hne="bytes/5.7.0",Tn=new At(hne);function UD(t){return!!t.toHexString}function $d(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return $d(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function VD(t){return mr(t)&&!(t.length%2)||km(t)}function VC(t){return typeof t=="number"&&t==t&&t%1===0}function km(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!VC(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const n=t[e];if(!VC(n)||n<0||n>=256)return!1}return!0}function Pr(t,e){if(e||(e={}),typeof t=="number"){Tn.checkSafeUint53(t,"invalid arrayify value");const n=[];for(;t;)n.unshift(t&255),t=parseInt(String(t/256));return n.length===0&&n.push(0),$d(new Uint8Array(n))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),UD(t)&&(t=t.toHexString()),mr(t)){let n=t.substring(2);n.length%2&&(e.hexPad==="left"?n="0"+n:e.hexPad==="right"?n+="0":Tn.throwArgumentError("hex data is odd-length","value",t));const s=[];for(let r=0;r<n.length;r+=2)s.push(parseInt(n.substring(r,r+2),16));return $d(new Uint8Array(s))}return km(t)?$d(new Uint8Array(t)):Tn.throwArgumentError("invalid arrayify value","value",t)}function zD(t){const e=t.map(r=>Pr(r)),n=e.reduce((r,i)=>r+i.length,0),s=new Uint8Array(n);return e.reduce((r,i)=>(s.set(i,r),r+i.length),0),$d(s)}function fne(t){let e=Pr(t);if(e.length===0)return e;let n=0;for(;n<e.length&&e[n]===0;)n++;return n&&(e=e.slice(n)),e}function mne(t,e){t=Pr(t),t.length>e&&Tn.throwArgumentError("value out of range","value",arguments[0]);const n=new Uint8Array(e);return n.set(t,e-t.length),$d(n)}function mr(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const Av="0123456789abcdef";function zn(t,e){if(e||(e={}),typeof t=="number"){Tn.checkSafeUint53(t,"invalid hexlify value");let n="";for(;t;)n=Av[t&15]+n,t=Math.floor(t/16);return n.length?(n.length%2&&(n="0"+n),"0x"+n):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),UD(t))return t.toHexString();if(mr(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":Tn.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(km(t)){let n="0x";for(let s=0;s<t.length;s++){let r=t[s];n+=Av[(r&240)>>4]+Av[r&15]}return n}return Tn.throwArgumentError("invalid hexlify value","value",t)}function zC(t){if(typeof t!="string")t=zn(t);else if(!mr(t)||t.length%2)return null;return(t.length-2)/2}function HD(t,e,n){return typeof t!="string"?t=zn(t):(!mr(t)||t.length%2)&&Tn.throwArgumentError("invalid hexData","value",t),e=2+2*e,n!=null?"0x"+t.substring(e,2+2*n):"0x"+t.substring(e)}function Pxe(t){let e="0x";return t.forEach(n=>{e+=zn(n).substring(2)}),e}function Ixe(t){const e=pne(zn(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function pne(t){typeof t!="string"&&(t=zn(t)),mr(t)||Tn.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function Tv(t,e){for(typeof t!="string"?t=zn(t):mr(t)||Tn.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&Tn.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function gne(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(VD(t)){let n=Pr(t);n.length===64?(e.v=27+(n[32]>>7),n[32]&=127,e.r=zn(n.slice(0,32)),e.s=zn(n.slice(32,64))):n.length===65?(e.r=zn(n.slice(0,32)),e.s=zn(n.slice(32,64)),e.v=n[64]):Tn.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:Tn.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(n[32]|=128),e._vs=zn(n.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const r=mne(Pr(e._vs),32);e._vs=zn(r);const i=r[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=i:e.recoveryParam!==i&&Tn.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),r[0]&=127;const o=zn(r);e.s==null?e.s=o:e.s!==o&&Tn.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?Tn.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const r=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==r&&Tn.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!mr(e.r)?Tn.throwArgumentError("signature missing or invalid r","signature",t):e.r=Tv(e.r,32),e.s==null||!mr(e.s)?Tn.throwArgumentError("signature missing or invalid s","signature",t):e.s=Tv(e.s,32);const n=Pr(e.s);n[0]>=128&&Tn.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(n[0]|=128);const s=zn(n);e._vs&&(mr(e._vs)||Tn.throwArgumentError("signature invalid _vs","signature",t),e._vs=Tv(e._vs,32)),e._vs==null?e._vs=s:e._vs!==s&&Tn.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function Rxe(t){return t=gne(t),zn(zD([t.r,t.s,t.recoveryParam?"0x1c":"0x1b"]))}const xne="bignumber/5.7.0";var Lf=mt.BN;const Oa=new At(xne),Cv={},HC=9007199254740991;function Mxe(t){return t!=null&&(en.isBigNumber(t)||typeof t=="number"&&t%1===0||typeof t=="string"&&!!t.match(/^-?[0-9]+$/)||mr(t)||typeof t=="bigint"||km(t))}let WC=!1;class en{constructor(e,n){e!==Cv&&Oa.throwError("cannot call constructor directly; use BigNumber.from",At.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=n,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return Qs(Rt(this).fromTwos(e))}toTwos(e){return Qs(Rt(this).toTwos(e))}abs(){return this._hex[0]==="-"?en.from(this._hex.substring(1)):this}add(e){return Qs(Rt(this).add(Rt(e)))}sub(e){return Qs(Rt(this).sub(Rt(e)))}div(e){return en.from(e).isZero()&&Fr("division-by-zero","div"),Qs(Rt(this).div(Rt(e)))}mul(e){return Qs(Rt(this).mul(Rt(e)))}mod(e){const n=Rt(e);return n.isNeg()&&Fr("division-by-zero","mod"),Qs(Rt(this).umod(n))}pow(e){const n=Rt(e);return n.isNeg()&&Fr("negative-power","pow"),Qs(Rt(this).pow(n))}and(e){const n=Rt(e);return(this.isNegative()||n.isNeg())&&Fr("unbound-bitwise-result","and"),Qs(Rt(this).and(n))}or(e){const n=Rt(e);return(this.isNegative()||n.isNeg())&&Fr("unbound-bitwise-result","or"),Qs(Rt(this).or(n))}xor(e){const n=Rt(e);return(this.isNegative()||n.isNeg())&&Fr("unbound-bitwise-result","xor"),Qs(Rt(this).xor(n))}mask(e){return(this.isNegative()||e<0)&&Fr("negative-width","mask"),Qs(Rt(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&Fr("negative-width","shl"),Qs(Rt(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&Fr("negative-width","shr"),Qs(Rt(this).shrn(e))}eq(e){return Rt(this).eq(Rt(e))}lt(e){return Rt(this).lt(Rt(e))}lte(e){return Rt(this).lte(Rt(e))}gt(e){return Rt(this).gt(Rt(e))}gte(e){return Rt(this).gte(Rt(e))}isNegative(){return this._hex[0]==="-"}isZero(){return Rt(this).isZero()}toNumber(){try{return Rt(this).toNumber()}catch{Fr("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Oa.throwError("this platform does not support BigInt",At.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?WC||(WC=!0,Oa.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Oa.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",At.errors.UNEXPECTED_ARGUMENT,{}):Oa.throwError("BigNumber.toString does not accept parameters",At.errors.UNEXPECTED_ARGUMENT,{})),Rt(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof en)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new en(Cv,Bf(e)):e.match(/^-?[0-9]+$/)?new en(Cv,Bf(new Lf(e))):Oa.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&Fr("underflow","BigNumber.from",e),(e>=HC||e<=-HC)&&Fr("overflow","BigNumber.from",e),en.from(String(e));const n=e;if(typeof n=="bigint")return en.from(n.toString());if(km(n))return en.from(zn(n));if(n)if(n.toHexString){const s=n.toHexString();if(typeof s=="string")return en.from(s)}else{let s=n._hex;if(s==null&&n.type==="BigNumber"&&(s=n.hex),typeof s=="string"&&(mr(s)||s[0]==="-"&&mr(s.substring(1))))return en.from(s)}return Oa.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function Bf(t){if(typeof t!="string")return Bf(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&Oa.throwArgumentError("invalid hex","value",t),t=Bf(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function Qs(t){return en.from(Bf(t))}function Rt(t){const e=en.from(t).toHexString();return e[0]==="-"?new Lf("-"+e.substring(3),16):new Lf(e.substring(2),16)}function Fr(t,e,n){const s={fault:t,operation:e};return n!=null&&(s.value=n),Oa.throwError(t,At.errors.NUMERIC_FAULT,s)}function yne(t){return new Lf(t,36).toString(16)}function vne(t){return new Lf(t,16).toString(36)}class WD{constructor(e){Se(this,"alphabet",e),Se(this,"base",e.length),Se(this,"_alphabetMap",{}),Se(this,"_leader",e.charAt(0));for(let n=0;n<e.length;n++)this._alphabetMap[e.charAt(n)]=n}encode(e){let n=nt(e);if(n.length===0)return"";let s=[0];for(let i=0;i<n.length;++i){let o=n[i];for(let l=0;l<s.length;++l)o+=s[l]<<8,s[l]=o%this.base,o=o/this.base|0;for(;o>0;)s.push(o%this.base),o=o/this.base|0}let r="";for(let i=0;n[i]===0&&i<n.length-1;++i)r+=this._leader;for(let i=s.length-1;i>=0;--i)r+=this.alphabet[s[i]];return r}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let n=[];if(e.length===0)return new Uint8Array(n);n.push(0);for(let s=0;s<e.length;s++){let r=this._alphabetMap[e[s]];if(r===void 0)throw new Error("Non-base"+this.base+" character");let i=r;for(let o=0;o<n.length;++o)i+=n[o]*this.base,n[o]=i&255,i>>=8;for(;i>0;)n.push(i&255),i>>=8}for(let s=0;e[s]===this._leader&&s<e.length-1;++s)n.push(0);return nt(new Uint8Array(n.reverse()))}}new WD("abcdefghijklmnopqrstuvwxyz234567");const u1=new WD("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var h1;(function(t){t.sha256="sha256",t.sha512="sha512"})(h1||(h1={}));const bne="sha2/5.7.0",wne=new re(bne);function Dxe(t){return"0x"+er.ripemd160().update(nt(t)).digest("hex")}function qC(t){return"0x"+er.sha256().update(nt(t)).digest("hex")}function $xe(t){return"0x"+er.sha512().update(nt(t)).digest("hex")}function Oxe(t,e,n){return h1[t]||wne.throwError("unsupported algorithm "+t,re.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:t}),"0x"+er.hmac(er[t],nt(e)).update(nt(n)).digest("hex")}const Nne="networks/5.8.0",KC=new re(Nne);function kne(t){return t&&typeof t.renetwork=="function"}function wi(t){const e=function(n,s){s==null&&(s={});const r=[];if(n.InfuraProvider&&s.infura!=="-")try{r.push(new n.InfuraProvider(t,s.infura))}catch{}if(n.EtherscanProvider&&s.etherscan!=="-")try{r.push(new n.EtherscanProvider(t,s.etherscan))}catch{}if(n.AlchemyProvider&&s.alchemy!=="-")try{r.push(new n.AlchemyProvider(t,s.alchemy))}catch{}if(n.PocketProvider&&s.pocket!=="-"){const i=["goerli","ropsten","rinkeby","sepolia"];try{const o=new n.PocketProvider(t,s.pocket);o.network&&i.indexOf(o.network.name)===-1&&r.push(o)}catch{}}if(n.CloudflareProvider&&s.cloudflare!=="-")try{r.push(new n.CloudflareProvider(t))}catch{}if(n.AnkrProvider&&s.ankr!=="-")try{const i=["ropsten"],o=new n.AnkrProvider(t,s.ankr);o.network&&i.indexOf(o.network.name)===-1&&r.push(o)}catch{}if(n.QuickNodeProvider&&s.quicknode!=="-")try{r.push(new n.QuickNodeProvider(t,s.quicknode))}catch{}if(r.length===0)return null;if(n.FallbackProvider){let i=1;return s.quorum!=null?i=s.quorum:t==="homestead"&&(i=2),new n.FallbackProvider(r,i)}return r[0]};return e.renetwork=function(n){return wi(n)},e}function v0(t,e){const n=function(s,r){return s.JsonRpcProvider?new s.JsonRpcProvider(t,e):null};return n.renetwork=function(s){return v0(t,s)},n}const GC={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:wi("homestead")},YC={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:wi("ropsten")},XC={chainId:63,name:"classicMordor",_defaultProvider:v0("https://www.ethercluster.com/mordor","classicMordor")},dp={unspecified:{chainId:0,name:"unspecified"},homestead:GC,mainnet:GC,morden:{chainId:2,name:"morden"},ropsten:YC,testnet:YC,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:wi("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:wi("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:wi("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"sepolia",_defaultProvider:wi("sepolia")},holesky:{chainId:17e3,name:"holesky",_defaultProvider:wi("holesky")},classic:{chainId:61,name:"classic",_defaultProvider:v0("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:XC,classicTestnet:XC,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:v0("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:wi("matic")},maticmum:{chainId:80001,name:"maticmum",_defaultProvider:wi("maticmum")},optimism:{chainId:10,name:"optimism",_defaultProvider:wi("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},"optimism-sepolia":{chainId:11155420,name:"optimism-sepolia"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},"arbitrum-sepolia":{chainId:421614,name:"arbitrum-sepolia"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function jne(t){if(t==null)return null;if(typeof t=="number"){for(const s in dp){const r=dp[s];if(r.chainId===t)return{name:r.name,chainId:r.chainId,ensAddress:r.ensAddress||null,_defaultProvider:r._defaultProvider||null}}return{chainId:t,name:"unknown"}}if(typeof t=="string"){const s=dp[t];return s==null?null:{name:s.name,chainId:s.chainId,ensAddress:s.ensAddress,_defaultProvider:s._defaultProvider||null}}const e=dp[t.name];if(!e)return typeof t.chainId!="number"&&KC.throwArgumentError("invalid network chainId","network",t),t;t.chainId!==0&&t.chainId!==e.chainId&&KC.throwArgumentError("network chainId mismatch","network",t);let n=t._defaultProvider||null;return n==null&&e._defaultProvider&&(kne(e._defaultProvider)?n=e._defaultProvider.renetwork(t):n=e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:n}}const Sne="web/5.8.0";var Ane=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):r(u.value).then(l,c)}d((s=s.apply(t,e||[])).next())})};function Tne(t,e){return Ane(this,void 0,void 0,function*(){e==null&&(e={});const n={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(n.mode="cors",n.cache="no-cache",n.credentials="same-origin",n.redirect="follow",n.referrer="client"),e.fetchOptions!=null){const o=e.fetchOptions;o.mode&&(n.mode=o.mode),o.cache&&(n.cache=o.cache),o.credentials&&(n.credentials=o.credentials),o.redirect&&(n.redirect=o.redirect),o.referrer&&(n.referrer=o.referrer)}const s=yield fetch(t,n),r=yield s.arrayBuffer(),i={};return s.headers.forEach?s.headers.forEach((o,l)=>{i[l.toLowerCase()]=o}):s.headers.keys().forEach(o=>{i[o.toLowerCase()]=s.headers.get(o)}),{headers:i,statusCode:s.status,statusMessage:s.statusText,body:nt(new Uint8Array(r))}})}var Cne=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):r(u.value).then(l,c)}d((s=s.apply(t,e||[])).next())})};const mi=new re(Sne);function JC(t){return new Promise(e=>{setTimeout(e,t)})}function xo(t,e){if(t==null)return null;if(typeof t=="string")return t;if(Ex(t)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return wm(t)}catch{}return Xe(t)}return t}function Ene(t){return Na(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,n)=>String.fromCharCode(parseInt(n,16))))}function _ne(t,e,n){const s=typeof t=="object"&&t.throttleLimit!=null?t.throttleLimit:12;mi.assertArgument(s>0&&s%1===0,"invalid connection throttle limit","connection.throttleLimit",s);const r=typeof t=="object"?t.throttleCallback:null,i=typeof t=="object"&&typeof t.throttleSlotInterval=="number"?t.throttleSlotInterval:100;mi.assertArgument(i>0&&i%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",i);const o=typeof t=="object"?!!t.errorPassThrough:!1,l={};let c=null;const d={method:"GET"};let u=!1,h=2*60*1e3;if(typeof t=="string")c=t;else if(typeof t=="object"){if((t==null||t.url==null)&&mi.throwArgumentError("missing URL","connection.url",t),c=t.url,typeof t.timeout=="number"&&t.timeout>0&&(h=t.timeout),t.headers)for(const b in t.headers)l[b.toLowerCase()]={key:b,value:String(t.headers[b])},["if-none-match","if-modified-since"].indexOf(b.toLowerCase())>=0&&(u=!0);if(d.allowGzip=!!t.allowGzip,t.user!=null&&t.password!=null){c.substring(0,6)!=="https:"&&t.allowInsecureAuthentication!==!0&&mi.throwError("basic authentication requires a secure https url",re.errors.INVALID_ARGUMENT,{argument:"url",url:c,user:t.user,password:"[REDACTED]"});const b=t.user+":"+t.password;l.authorization={key:"Authorization",value:"Basic "+tD(Na(b))}}t.skipFetchSetup!=null&&(d.skipFetchSetup=!!t.skipFetchSetup),t.fetchOptions!=null&&(d.fetchOptions=Gn(t.fetchOptions))}const f=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),m=c?c.match(f):null;if(m)try{const b={statusCode:200,statusMessage:"OK",headers:{"content-type":m[1]||"text/plain"},body:m[2]?eD(m[3]):Ene(m[3])};let v=b.body;return n&&(v=n(b.body,b)),Promise.resolve(v)}catch(b){mi.throwError("processing response error",re.errors.SERVER_ERROR,{body:xo(m[1],m[2]),error:b,requestBody:null,requestMethod:"GET",url:c})}e&&(d.method="POST",d.body=e,l["content-type"]==null&&(l["content-type"]={key:"Content-Type",value:"application/octet-stream"}),l["content-length"]==null&&(l["content-length"]={key:"Content-Length",value:String(e.length)}));const x={};Object.keys(l).forEach(b=>{const v=l[b];x[v.key]=v.value}),d.headers=x;const p=function(){let b=null;return{promise:new Promise(function(E,T){h&&(b=setTimeout(()=>{b!=null&&(b=null,T(mi.makeError("timeout",re.errors.TIMEOUT,{requestBody:xo(d.body,x["content-type"]),requestMethod:d.method,timeout:h,url:c})))},h))}),cancel:function(){b!=null&&(clearTimeout(b),b=null)}}}(),w=function(){return Cne(this,void 0,void 0,function*(){for(let b=0;b<s;b++){let v=null;try{if(v=yield Tne(c,d),b<s){if(v.statusCode===301||v.statusCode===302){const E=v.headers.location||"";if(d.method==="GET"&&E.match(/^https:/)){c=v.headers.location;continue}}else if(v.statusCode===429){let E=!0;if(r&&(E=yield r(b,c)),E){let T=0;const R=v.headers["retry-after"];typeof R=="string"&&R.match(/^[1-9][0-9]*$/)?T=parseInt(R)*1e3:T=i*parseInt(String(Math.random()*Math.pow(2,b))),yield JC(T);continue}}}}catch(E){v=E.response,v==null&&(p.cancel(),mi.throwError("missing response",re.errors.SERVER_ERROR,{requestBody:xo(d.body,x["content-type"]),requestMethod:d.method,serverError:E,url:c}))}let N=v.body;if(u&&v.statusCode===304?N=null:!o&&(v.statusCode<200||v.statusCode>=300)&&(p.cancel(),mi.throwError("bad response",re.errors.SERVER_ERROR,{status:v.statusCode,headers:v.headers,body:xo(N,v.headers?v.headers["content-type"]:null),requestBody:xo(d.body,x["content-type"]),requestMethod:d.method,url:c})),n)try{const E=yield n(N,v);return p.cancel(),E}catch(E){if(E.throttleRetry&&b<s){let T=!0;if(r&&(T=yield r(b,c)),T){const R=i*parseInt(String(Math.random()*Math.pow(2,b)));yield JC(R);continue}}p.cancel(),mi.throwError("processing response error",re.errors.SERVER_ERROR,{body:xo(N,v.headers?v.headers["content-type"]:null),error:E,requestBody:xo(d.body,x["content-type"]),requestMethod:d.method,url:c})}return p.cancel(),N}return mi.throwError("failed response",re.errors.SERVER_ERROR,{requestBody:xo(d.body,x["content-type"]),requestMethod:d.method,url:c})})}();return Promise.race([p.promise,w])}function Sk(t,e,n){let s=(i,o)=>{let l=null;if(i!=null)try{l=JSON.parse(wm(i))}catch(c){mi.throwError("invalid JSON",re.errors.SERVER_ERROR,{body:i,error:c})}return n&&(l=n(l,o)),l},r=null;if(e!=null){r=Na(e);const i=typeof t=="string"?{url:t}:Gn(t);i.headers?Object.keys(i.headers).filter(l=>l.toLowerCase()==="content-type").length!==0||(i.headers=Gn(i.headers),i.headers["content-type"]="application/json"):i.headers={"content-type":"application/json"},t=i}return _ne(t,r,s)}function vh(t,e){return e||(e={}),e=Gn(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(n,s){let r=null,i=!1;const o=()=>i?!1:(i=!0,r&&clearTimeout(r),!0);e.timeout&&(r=setTimeout(()=>{o()&&s(new Error("timeout"))},e.timeout));const l=e.retryLimit;let c=0;function d(){return t().then(function(u){if(u!==void 0)o()&&n(u);else if(e.oncePoll)e.oncePoll.once("poll",d);else if(e.onceBlock)e.onceBlock.once("block",d);else if(!i){if(c++,c>l){o()&&s(new Error("retry limit reached"));return}let h=e.interval*parseInt(String(Math.random()*Math.pow(2,c)));h<e.floor&&(h=e.floor),h>e.ceiling&&(h=e.ceiling),setTimeout(d,h)}return null},function(u){o()&&s(u)})}d()})}var b0="qpzry9x8gf2tvdw0s3jn54khce6mua7l",f1={};for(var up=0;up<b0.length;up++){var Ev=b0.charAt(up);if(f1[Ev]!==void 0)throw new TypeError(Ev+" is ambiguous");f1[Ev]=up}function Od(t){var e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function qD(t){for(var e=1,n=0;n<t.length;++n){var s=t.charCodeAt(n);if(s<33||s>126)return"Invalid prefix ("+t+")";e=Od(e)^s>>5}for(e=Od(e),n=0;n<t.length;++n){var r=t.charCodeAt(n);e=Od(e)^r&31}return e}function Pne(t,e,n){if(n=n||90,t.length+7+e.length>n)throw new TypeError("Exceeds length limit");t=t.toLowerCase();var s=qD(t);if(typeof s=="string")throw new Error(s);for(var r=t+"1",i=0;i<e.length;++i){var o=e[i];if(o>>5)throw new Error("Non 5-bit word");s=Od(s)^o,r+=b0.charAt(o)}for(i=0;i<6;++i)s=Od(s);for(s^=1,i=0;i<6;++i){var l=s>>(5-i)*5&31;r+=b0.charAt(l)}return r}function KD(t,e){if(e=e||90,t.length<8)return t+" too short";if(t.length>e)return"Exceeds length limit";var n=t.toLowerCase(),s=t.toUpperCase();if(t!==n&&t!==s)return"Mixed-case string "+t;t=n;var r=t.lastIndexOf("1");if(r===-1)return"No separator character for "+t;if(r===0)return"Missing prefix for "+t;var i=t.slice(0,r),o=t.slice(r+1);if(o.length<6)return"Data too short";var l=qD(i);if(typeof l=="string")return l;for(var c=[],d=0;d<o.length;++d){var u=o.charAt(d),h=f1[u];if(h===void 0)return"Unknown character "+u;l=Od(l)^h,!(d+6>=o.length)&&c.push(h)}return l!==1?"Invalid checksum for "+t:{prefix:i,words:c}}function Ine(){var t=KD.apply(null,arguments);if(typeof t=="object")return t}function Rne(t){var e=KD.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function $x(t,e,n,s){for(var r=0,i=0,o=(1<<n)-1,l=[],c=0;c<t.length;++c)for(r=r<<e|t[c],i+=e;i>=n;)i-=n,l.push(r>>i&o);if(s)i>0&&l.push(r<<n-i&o);else{if(i>=e)return"Excess padding";if(r<<n-i&o)return"Non-zero padding"}return l}function Mne(t){var e=$x(t,8,5,!0);if(Array.isArray(e))return e}function Dne(t){var e=$x(t,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function $ne(t){var e=$x(t,5,8,!1);if(Array.isArray(e))return e}function One(t){var e=$x(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}var Fne={decodeUnsafe:Ine,decode:Rne,encode:Pne,toWordsUnsafe:Mne,toWords:Dne,fromWordsUnsafe:$ne,fromWords:One};const QC=pu(Fne),Ox="providers/5.7.0",nh=new re(Ox);class Ye{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},n=this.address.bind(this),s=this.bigNumber.bind(this),r=this.blockTag.bind(this),i=this.data.bind(this),o=this.hash.bind(this),l=this.hex.bind(this),c=this.number.bind(this),d=this.type.bind(this),u=h=>this.data(h,!0);return e.transaction={hash:o,type:d,accessList:Ye.allowNull(this.accessList.bind(this),null),blockHash:Ye.allowNull(o,null),blockNumber:Ye.allowNull(c,null),transactionIndex:Ye.allowNull(c,null),confirmations:Ye.allowNull(c,null),from:n,gasPrice:Ye.allowNull(s),maxPriorityFeePerGas:Ye.allowNull(s),maxFeePerGas:Ye.allowNull(s),gasLimit:s,to:Ye.allowNull(n,null),value:s,nonce:c,data:i,r:Ye.allowNull(this.uint256),s:Ye.allowNull(this.uint256),v:Ye.allowNull(c),creates:Ye.allowNull(n,null),raw:Ye.allowNull(i)},e.transactionRequest={from:Ye.allowNull(n),nonce:Ye.allowNull(c),gasLimit:Ye.allowNull(s),gasPrice:Ye.allowNull(s),maxPriorityFeePerGas:Ye.allowNull(s),maxFeePerGas:Ye.allowNull(s),to:Ye.allowNull(n),value:Ye.allowNull(s),data:Ye.allowNull(u),type:Ye.allowNull(c),accessList:Ye.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:c,blockNumber:c,transactionHash:o,address:n,topics:Ye.arrayOf(o),data:i,logIndex:c,blockHash:o},e.receipt={to:Ye.allowNull(this.address,null),from:Ye.allowNull(this.address,null),contractAddress:Ye.allowNull(n,null),transactionIndex:c,root:Ye.allowNull(l),gasUsed:s,logsBloom:Ye.allowNull(i),blockHash:o,transactionHash:o,logs:Ye.arrayOf(this.receiptLog.bind(this)),blockNumber:c,confirmations:Ye.allowNull(c,null),cumulativeGasUsed:s,effectiveGasPrice:Ye.allowNull(s),status:Ye.allowNull(c),type:d},e.block={hash:Ye.allowNull(o),parentHash:o,number:c,timestamp:c,nonce:Ye.allowNull(l),difficulty:this.difficulty.bind(this),gasLimit:s,gasUsed:s,miner:Ye.allowNull(n),extraData:i,transactions:Ye.allowNull(Ye.arrayOf(o)),baseFeePerGas:Ye.allowNull(s)},e.blockWithTransactions=Gn(e.block),e.blockWithTransactions.transactions=Ye.allowNull(Ye.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:Ye.allowNull(r,void 0),toBlock:Ye.allowNull(r,void 0),blockHash:Ye.allowNull(o,void 0),address:Ye.allowNull(n,void 0),topics:Ye.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:Ye.allowNull(c),blockHash:Ye.allowNull(o),transactionIndex:c,removed:Ye.allowNull(this.boolean.bind(this)),address:n,data:Ye.allowFalsish(i,"0x"),topics:Ye.arrayOf(o),transactionHash:o,logIndex:c},e}accessList(e){return Mu(e||[])}number(e){return e==="0x"?0:Oe.from(e).toNumber()}type(e){return e==="0x"||e==null?0:Oe.from(e).toNumber()}bigNumber(e){return Oe.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,n){return typeof e=="string"&&(!n&&e.substring(0,2)!=="0x"&&(e="0x"+e),Ut(e))?e.toLowerCase():nh.throwArgumentError("invalid hash","value",e)}data(e,n){const s=this.hex(e,n);if(s.length%2!==0)throw new Error("invalid data; odd-length - "+e);return s}address(e){return gs(e)}callAddress(e){if(!Ut(e,32))return null;const n=gs(ks(e,12));return n===sZ?null:n}contractAddress(e){return vk(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||Ut(e))return mk(e);throw new Error("invalid blockTag")}hash(e,n){const s=this.hex(e,n);return jc(s)!==32?nh.throwArgumentError("invalid hash","value",e):s}difficulty(e){if(e==null)return null;const n=Oe.from(e);try{return n.toNumber()}catch{}return null}uint256(e){if(!Ut(e))throw new Error("invalid uint256");return pn(e,32)}_block(e,n){e.author!=null&&e.miner==null&&(e.miner=e.author);const s=e._difficulty!=null?e._difficulty:e.difficulty,r=Ye.check(n,e);return r._difficulty=s==null?null:Oe.from(s),r}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return Ye.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&Oe.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const n=Ye.check(this.formats.transaction,e);if(e.chainId!=null){let s=e.chainId;Ut(s)&&(s=Oe.from(s).toNumber()),n.chainId=s}else{let s=e.networkId;s==null&&n.v==null&&(s=e.chainId),Ut(s)&&(s=Oe.from(s).toNumber()),typeof s!="number"&&n.v!=null&&(s=(n.v-35)/2,s<0&&(s=0),s=parseInt(s)),typeof s!="number"&&(s=0),n.chainId=s}return n.blockHash&&n.blockHash.replace(/0/g,"")==="x"&&(n.blockHash=null),n}transaction(e){return nne(e)}receiptLog(e){return Ye.check(this.formats.receiptLog,e)}receipt(e){const n=Ye.check(this.formats.receipt,e);if(n.root!=null)if(n.root.length<=4){const s=Oe.from(n.root).toNumber();s===0||s===1?(n.status!=null&&n.status!==s&&nh.throwArgumentError("alt-root-status/status mismatch","value",{root:n.root,status:n.status}),n.status=s,delete n.root):nh.throwArgumentError("invalid alt-root-status","value.root",n.root)}else n.root.length!==66&&nh.throwArgumentError("invalid root hash","value.root",n.root);return n.status!=null&&(n.byzantium=!0),n}topics(e){return Array.isArray(e)?e.map(n=>this.topics(n)):e!=null?this.hash(e,!0):null}filter(e){return Ye.check(this.formats.filter,e)}filterLog(e){return Ye.check(this.formats.filterLog,e)}static check(e,n){const s={};for(const r in e)try{const i=e[r](n[r]);i!==void 0&&(s[r]=i)}catch(i){throw i.checkKey=r,i.checkValue=n[r],i}return s}static allowNull(e,n){return function(s){return s==null?n:e(s)}}static allowFalsish(e,n){return function(s){return s?e(s):n}}static arrayOf(e){return function(n){if(!Array.isArray(n))throw new Error("not an array");const s=[];return n.forEach(function(r){s.push(e(r))}),s}}}function Lne(t){return t&&typeof t.isCommunityResource=="function"}function Fxe(t){return Lne(t)&&t.isCommunityResource()}let ZC=!1;function Lxe(){ZC||(ZC=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var vt=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):r(u.value).then(l,c)}d((s=s.apply(t,e||[])).next())})};const Tt=new re(Ox),Bne=10;function eE(t){return t==null?"null":(jc(t)!==32&&Tt.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function tE(t){for(t=t.slice();t.length>0&&t[t.length-1]==null;)t.pop();return t.map(e=>{if(Array.isArray(e)){const n={};e.forEach(r=>{n[eE(r)]=!0});const s=Object.keys(n);return s.sort(),s.join("|")}else return eE(e)}).join("&")}function Une(t){return t===""?[]:t.split(/&/g).map(e=>{if(e==="")return[];const n=e.split("|").map(s=>s==="null"?null:s);return n.length===1?n[0]:n})}function Hc(t){if(typeof t=="string"){if(t=t.toLowerCase(),jc(t)===32)return"tx:"+t;if(t.indexOf(":")===-1)return t}else{if(Array.isArray(t))return"filter:*:"+tE(t);if(ree.isForkEvent(t))throw Tt.warn("not implemented"),new Error("not implemented");if(t&&typeof t=="object")return"filter:"+(t.address||"*")+":"+tE(t.topics||[])}throw new Error("invalid event - "+t)}function sh(){return new Date().getTime()}function nE(t){return new Promise(e=>{setTimeout(e,t)})}const Vne=["block","network","pending","poll"];let zne=class{constructor(e,n,s){Se(this,"tag",e),Se(this,"listener",n),Se(this,"once",s),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const n=e[1],s=Une(e[2]),r={};return s.length>0&&(r.topics=s),n&&n!=="*"&&(r.address=n),r}pollable(){return this.tag.indexOf(":")>=0||Vne.indexOf(this.tag)>=0}};const Hne={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function _v(t){return pn(Oe.from(t).toHexString(),32)}function sE(t){return u1.encode(zs([t,ks(qC(qC(t)),0,4)]))}const GD=new RegExp("^(ipfs)://(.*)$","i"),rE=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),GD,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function ug(t,e){try{return wm(Uf(t,e))}catch{}return null}function Uf(t,e){if(t==="0x")return null;const n=Oe.from(ks(t,e,e+32)).toNumber(),s=Oe.from(ks(t,n,n+32)).toNumber();return ks(t,n+32,n+32+s)}function Pv(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):Tt.throwArgumentError("unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}function iE(t){const e=nt(t);if(e.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(e,32-e.length),n}function Wne(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}function YD(t){const e=[];let n=0;for(let s=0;s<t.length;s++)e.push(null),n+=32;for(let s=0;s<t.length;s++){const r=nt(t[s]);e[s]=iE(n),e.push(iE(r.length)),e.push(Wne(r)),n+=32+Math.ceil(r.length/32)*32}return sr(e)}class aE{constructor(e,n,s,r){Se(this,"provider",e),Se(this,"name",s),Se(this,"address",e.formatter.address(n)),Se(this,"_resolvedAddress",r)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>Oe.from(e).eq(1)).catch(e=>{if(e.code===re.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,n){return vt(this,void 0,void 0,function*(){const s={to:this.address,ccipReadEnabled:!0,data:sr([e,og(this.name),n||"0x"])};let r=!1;(yield this.supportsWildcard())&&(r=!0,s.data=sr(["0x9061b923",YD([zZ(this.name),s.data])]));try{let i=yield this.provider.call(s);return nt(i).length%32===4&&Tt.throwError("resolver threw error",re.errors.CALL_EXCEPTION,{transaction:s,data:i}),r&&(i=Uf(i,0)),i}catch(i){if(i.code===re.errors.CALL_EXCEPTION)return null;throw i}})}_fetchBytes(e,n){return vt(this,void 0,void 0,function*(){const s=yield this._fetch(e,n);return s!=null?Uf(s,0):null})}_getAddress(e,n){const s=Hne[String(e)];if(s==null&&Tt.throwError(`unsupported coin type: ${e}`,re.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),s.ilk==="eth")return this.provider.formatter.address(n);const r=nt(n);if(s.p2pkh!=null){const i=n.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(i){const o=parseInt(i[1],16);if(i[2].length===o*2&&o>=1&&o<=75)return sE(zs([[s.p2pkh],"0x"+i[2]]))}}if(s.p2sh!=null){const i=n.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(i){const o=parseInt(i[1],16);if(i[2].length===o*2&&o>=1&&o<=75)return sE(zs([[s.p2sh],"0x"+i[2]]))}}if(s.prefix!=null){const i=r[1];let o=r[0];if(o===0?i!==20&&i!==32&&(o=-1):o=-1,o>=0&&r.length===2+i&&i>=1&&i<=75){const l=QC.toWords(r.slice(2));return l.unshift(o),QC.encode(s.prefix,l)}}return null}getAddress(e){return vt(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const r=yield this._fetch("0x3b3b57de");return r==="0x"||r===oZ?null:this.provider.formatter.callAddress(r)}catch(r){if(r.code===re.errors.CALL_EXCEPTION)return null;throw r}const n=yield this._fetchBytes("0xf1cb7e06",_v(e));if(n==null||n==="0x")return null;const s=this._getAddress(e,n);return s==null&&Tt.throwError("invalid or unsupported coin data",re.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:n}),s})}getAvatar(){return vt(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const n=yield this.getText("avatar");if(n==null)return null;for(let s=0;s<rE.length;s++){const r=n.match(rE[s]);if(r==null)continue;const i=r[1].toLowerCase();switch(i){case"https":return e.push({type:"url",content:n}),{linkage:e,url:n};case"data":return e.push({type:"data",content:n}),{linkage:e,url:n};case"ipfs":return e.push({type:"ipfs",content:n}),{linkage:e,url:Pv(n)};case"erc721":case"erc1155":{const o=i==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:i,content:n});const l=this._resolvedAddress||(yield this.getAddress()),c=(r[2]||"").split("/");if(c.length!==2)return null;const d=yield this.provider.formatter.address(c[0]),u=pn(Oe.from(c[1]).toHexString(),32);if(i==="erc721"){const p=this.provider.formatter.callAddress(yield this.provider.call({to:d,data:sr(["0x6352211e",u])}));if(l!==p)return null;e.push({type:"owner",content:p})}else if(i==="erc1155"){const p=Oe.from(yield this.provider.call({to:d,data:sr(["0x00fdd58e",pn(l,32),u])}));if(p.isZero())return null;e.push({type:"balance",content:p.toString()})}const h={to:this.provider.formatter.address(c[0]),data:sr([o,u])};let f=ug(yield this.provider.call(h),0);if(f==null)return null;e.push({type:"metadata-url-base",content:f}),i==="erc1155"&&(f=f.replace("{id}",u.substring(2)),e.push({type:"metadata-url-expanded",content:f})),f.match(/^ipfs:/i)&&(f=Pv(f)),e.push({type:"metadata-url",content:f});const m=yield Sk(f);if(!m)return null;e.push({type:"metadata",content:JSON.stringify(m)});let x=m.image;if(typeof x!="string")return null;if(!x.match(/^(https:\/\/|data:)/i)){if(x.match(GD)==null)return null;e.push({type:"url-ipfs",content:x}),x=Pv(x)}return e.push({type:"url",content:x}),{linkage:e,url:x}}}}}catch{}return null})}getContentHash(){return vt(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const n=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const o=parseInt(n[3],16);if(n[4].length===o*2)return"ipfs://"+u1.encode("0x"+n[1])}const s=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(s){const o=parseInt(s[3],16);if(s[4].length===o*2)return"ipns://"+u1.encode("0x"+s[1])}const r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&r[1].length===32*2)return"bzz://"+r[1];const i=e.match(/^0x90b2c605([0-9a-f]*)$/);if(i&&i[1].length===34*2){const o={"=":"","+":"-","/":"_"};return"sia://"+tD("0x"+i[1]).replace(/[=+\/]/g,c=>o[c])}return Tt.throwError("invalid or unsupported content hash data",re.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return vt(this,void 0,void 0,function*(){let n=Na(e);n=zs([_v(64),_v(n.length),n]),n.length%32!==0&&(n=zs([n,pn("0x",32-e.length%32)]));const s=yield this._fetchBytes("0x59d1d43c",Xe(n));return s==null||s==="0x"?null:wm(s)})}}let Iv=null,qne=1;class Kne extends Px{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),Se(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(n=>{}),this._ready().catch(n=>{});else{const n=Tr(new.target,"getNetwork")(e);n?(Se(this,"_network",n),this.emit("network",n,null)):Tt.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return vt(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||Tt.throwError("no network detected",re.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:Se(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return vh(()=>this._ready().then(e=>e,e=>{if(!(e.code===re.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return Iv==null&&(Iv=new Ye),Iv}static getNetwork(e){return jne(e??"homestead")}ccipReadFetch(e,n,s){return vt(this,void 0,void 0,function*(){if(this.disableCcipRead||s.length===0)return null;const r=e.to.toLowerCase(),i=n.toLowerCase(),o=[];for(let l=0;l<s.length;l++){const c=s[l],d=c.replace("{sender}",r).replace("{data}",i),u=c.indexOf("{data}")>=0?null:JSON.stringify({data:i,sender:r}),h=yield Sk({url:d,errorPassThrough:!0},u,(m,x)=>(m.status=x.statusCode,m));if(h.data)return h.data;const f=h.message||"unknown error";if(h.status>=400&&h.status<500)return Tt.throwError(`response not found during CCIP fetch: ${f}`,re.errors.SERVER_ERROR,{url:c,errorMessage:f});o.push(f)}return Tt.throwError(`error encountered during CCIP fetch: ${o.map(l=>JSON.stringify(l)).join(", ")}`,re.errors.SERVER_ERROR,{urls:s,errorMessages:o})})}_getInternalBlockNumber(e){return vt(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const r=this._internalBlockNumber;try{const i=yield r;if(sh()-i.respTime<=e)return i.blockNumber;break}catch{if(this._internalBlockNumber===r)break}}const n=sh(),s=Un({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(r=>null,r=>r)}).then(({blockNumber:r,networkError:i})=>{if(i)throw this._internalBlockNumber===s&&(this._internalBlockNumber=null),i;const o=sh();return r=Oe.from(r).toNumber(),r<this._maxInternalBlockNumber&&(r=this._maxInternalBlockNumber),this._maxInternalBlockNumber=r,this._setFastBlockNumber(r),{blockNumber:r,reqTime:n,respTime:o}});return this._internalBlockNumber=s,s.catch(r=>{this._internalBlockNumber===s&&(this._internalBlockNumber=null)}),(yield s).blockNumber})}poll(){return vt(this,void 0,void 0,function*(){const e=qne++,n=[];let s=null;try{s=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(r){this.emit("error",r);return}if(this._setFastBlockNumber(s),this.emit("poll",e,s),s===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=s-1),Math.abs(this._emitted.block-s)>1e3)Tt.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${s})`),this.emit("error",Tt.makeError("network block skew detected",re.errors.NETWORK_ERROR,{blockNumber:s,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",s);else for(let r=this._emitted.block+1;r<=s;r++)this.emit("block",r);this._emitted.block!==s&&(this._emitted.block=s,Object.keys(this._emitted).forEach(r=>{if(r==="block")return;const i=this._emitted[r];i!=="pending"&&s-i>12&&delete this._emitted[r]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=s-1),this._events.forEach(r=>{switch(r.type){case"tx":{const i=r.hash;let o=this.getTransactionReceipt(i).then(l=>(!l||l.blockNumber==null||(this._emitted["t:"+i]=l.blockNumber,this.emit(i,l)),null)).catch(l=>{this.emit("error",l)});n.push(o);break}case"filter":{if(!r._inflight){r._inflight=!0,r._lastBlockNumber===-2&&(r._lastBlockNumber=s-1);const i=r.filter;i.fromBlock=r._lastBlockNumber+1,i.toBlock=s;const o=i.toBlock-this._maxFilterBlockRange;o>i.fromBlock&&(i.fromBlock=o),i.fromBlock<0&&(i.fromBlock=0);const l=this.getLogs(i).then(c=>{r._inflight=!1,c.length!==0&&c.forEach(d=>{d.blockNumber>r._lastBlockNumber&&(r._lastBlockNumber=d.blockNumber),this._emitted["b:"+d.blockHash]=d.blockNumber,this._emitted["t:"+d.transactionHash]=d.blockNumber,this.emit(i,d)})}).catch(c=>{this.emit("error",c),r._inflight=!1});n.push(l)}break}}}),this._lastBlockNumber=s,Promise.all(n).then(()=>{this.emit("didPoll",e)}).catch(r=>{this.emit("error",r)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return vt(this,void 0,void 0,function*(){return Tt.throwError("provider does not support network detection",re.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return vt(this,void 0,void 0,function*(){const e=yield this._ready(),n=yield this.detectNetwork();if(e.chainId!==n.chainId){if(this.anyNetwork)return this._network=n,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",n,e),yield nE(0),this._network;const s=Tt.makeError("underlying network changed",re.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:n});throw this.emit("error",s),s}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=sh();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(n=>((this._fastBlockNumber==null||n>this._fastBlockNumber)&&(this._fastBlockNumber=n),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=sh(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,n,s){return vt(this,void 0,void 0,function*(){return this._waitForTransaction(e,n??1,s||0,null)})}_waitForTransaction(e,n,s,r){return vt(this,void 0,void 0,function*(){const i=yield this.getTransactionReceipt(e);return(i?i.confirmations:0)>=n?i:new Promise((o,l)=>{const c=[];let d=!1;const u=function(){return d?!0:(d=!0,c.forEach(f=>{f()}),!1)},h=f=>{f.confirmations<n||u()||o(f)};if(this.on(e,h),c.push(()=>{this.removeListener(e,h)}),r){let f=r.startBlock,m=null;const x=p=>vt(this,void 0,void 0,function*(){d||(yield nE(1e3),this.getTransactionCount(r.from).then(w=>vt(this,void 0,void 0,function*(){if(!d){if(w<=r.nonce)f=p;else{{const b=yield this.getTransaction(e);if(b&&b.blockNumber!=null)return}for(m==null&&(m=f-3,m<r.startBlock&&(m=r.startBlock));m<=p;){if(d)return;const b=yield this.getBlockWithTransactions(m);for(let v=0;v<b.transactions.length;v++){const N=b.transactions[v];if(N.hash===e)return;if(N.from===r.from&&N.nonce===r.nonce){if(d)return;const E=yield this.waitForTransaction(N.hash,n);if(u())return;let T="replaced";N.data===r.data&&N.to===r.to&&N.value.eq(r.value)?T="repriced":N.data==="0x"&&N.from===N.to&&N.value.isZero()&&(T="cancelled"),l(Tt.makeError("transaction was replaced",re.errors.TRANSACTION_REPLACED,{cancelled:T==="replaced"||T==="cancelled",reason:T,replacement:this._wrapTransaction(N),hash:e,receipt:E}));return}}m++}}d||this.once("block",x)}}),w=>{d||this.once("block",x)}))});if(d)return;this.once("block",x),c.push(()=>{this.removeListener("block",x)})}if(typeof s=="number"&&s>0){const f=setTimeout(()=>{u()||l(Tt.makeError("timeout exceeded",re.errors.TIMEOUT,{timeout:s}))},s);f.unref&&f.unref(),c.push(()=>{clearTimeout(f)})}})})}getBlockNumber(){return vt(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return vt(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return Oe.from(e)}catch(n){return Tt.throwError("bad result from backend",re.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:n})}})}getBalance(e,n){return vt(this,void 0,void 0,function*(){yield this.getNetwork();const s=yield Un({address:this._getAddress(e),blockTag:this._getBlockTag(n)}),r=yield this.perform("getBalance",s);try{return Oe.from(r)}catch(i){return Tt.throwError("bad result from backend",re.errors.SERVER_ERROR,{method:"getBalance",params:s,result:r,error:i})}})}getTransactionCount(e,n){return vt(this,void 0,void 0,function*(){yield this.getNetwork();const s=yield Un({address:this._getAddress(e),blockTag:this._getBlockTag(n)}),r=yield this.perform("getTransactionCount",s);try{return Oe.from(r).toNumber()}catch(i){return Tt.throwError("bad result from backend",re.errors.SERVER_ERROR,{method:"getTransactionCount",params:s,result:r,error:i})}})}getCode(e,n){return vt(this,void 0,void 0,function*(){yield this.getNetwork();const s=yield Un({address:this._getAddress(e),blockTag:this._getBlockTag(n)}),r=yield this.perform("getCode",s);try{return Xe(r)}catch(i){return Tt.throwError("bad result from backend",re.errors.SERVER_ERROR,{method:"getCode",params:s,result:r,error:i})}})}getStorageAt(e,n,s){return vt(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Un({address:this._getAddress(e),blockTag:this._getBlockTag(s),position:Promise.resolve(n).then(o=>mk(o))}),i=yield this.perform("getStorageAt",r);try{return Xe(i)}catch(o){return Tt.throwError("bad result from backend",re.errors.SERVER_ERROR,{method:"getStorageAt",params:r,result:i,error:o})}})}_wrapTransaction(e,n,s){if(n!=null&&jc(n)!==32)throw new Error("invalid response - sendTransaction");const r=e;return n!=null&&e.hash!==n&&Tt.throwError("Transaction hash mismatch from Provider.sendTransaction.",re.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:n}),r.wait=(i,o)=>vt(this,void 0,void 0,function*(){i==null&&(i=1),o==null&&(o=0);let l;i!==0&&s!=null&&(l={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:s});const c=yield this._waitForTransaction(e.hash,i,o,l);return c==null&&i===0?null:(this._emitted["t:"+e.hash]=c.blockNumber,c.status===0&&Tt.throwError("transaction failed",re.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:c}),c)}),r}sendTransaction(e){return vt(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Promise.resolve(e).then(i=>Xe(i)),s=this.formatter.transaction(e);s.confirmations==null&&(s.confirmations=0);const r=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const i=yield this.perform("sendTransaction",{signedTransaction:n});return this._wrapTransaction(s,i,r)}catch(i){throw i.transaction=s,i.transactionHash=s.hash,i}})}_getTransactionRequest(e){return vt(this,void 0,void 0,function*(){const n=yield e,s={};return["from","to"].forEach(r=>{n[r]!=null&&(s[r]=Promise.resolve(n[r]).then(i=>i?this._getAddress(i):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(r=>{n[r]!=null&&(s[r]=Promise.resolve(n[r]).then(i=>i?Oe.from(i):null))}),["type"].forEach(r=>{n[r]!=null&&(s[r]=Promise.resolve(n[r]).then(i=>i??null))}),n.accessList&&(s.accessList=this.formatter.accessList(n.accessList)),["data"].forEach(r=>{n[r]!=null&&(s[r]=Promise.resolve(n[r]).then(i=>i?Xe(i):null))}),this.formatter.transactionRequest(yield Un(s))})}_getFilter(e){return vt(this,void 0,void 0,function*(){e=yield e;const n={};return e.address!=null&&(n.address=this._getAddress(e.address)),["blockHash","topics"].forEach(s=>{e[s]!=null&&(n[s]=e[s])}),["fromBlock","toBlock"].forEach(s=>{e[s]!=null&&(n[s]=this._getBlockTag(e[s]))}),this.formatter.filter(yield Un(n))})}_call(e,n,s){return vt(this,void 0,void 0,function*(){s>=Bne&&Tt.throwError("CCIP read exceeded maximum redirections",re.errors.SERVER_ERROR,{redirects:s,transaction:e});const r=e.to,i=yield this.perform("call",{transaction:e,blockTag:n});if(s>=0&&n==="latest"&&r!=null&&i.substring(0,10)==="0x556f1830"&&jc(i)%32===4)try{const o=ks(i,4),l=ks(o,0,32);Oe.from(l).eq(r)||Tt.throwError("CCIP Read sender did not match",re.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});const c=[],d=Oe.from(ks(o,32,64)).toNumber(),u=Oe.from(ks(o,d,d+32)).toNumber(),h=ks(o,d+32);for(let b=0;b<u;b++){const v=ug(h,b*32);v==null&&Tt.throwError("CCIP Read contained corrupt URL string",re.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i}),c.push(v)}const f=Uf(o,64);Oe.from(ks(o,100,128)).isZero()||Tt.throwError("CCIP Read callback selector included junk",re.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});const m=ks(o,96,100),x=Uf(o,128),p=yield this.ccipReadFetch(e,f,c);p==null&&Tt.throwError("CCIP Read disabled or provided no URLs",re.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});const w={to:r,data:sr([m,YD([p,x])])};return this._call(w,n,s+1)}catch(o){if(o.code===re.errors.SERVER_ERROR)throw o}try{return Xe(i)}catch(o){return Tt.throwError("bad result from backend",re.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:n},result:i,error:o})}})}call(e,n){return vt(this,void 0,void 0,function*(){yield this.getNetwork();const s=yield Un({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(n),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(s.transaction,s.blockTag,s.ccipReadEnabled?0:-1)})}estimateGas(e){return vt(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Un({transaction:this._getTransactionRequest(e)}),s=yield this.perform("estimateGas",n);try{return Oe.from(s)}catch(r){return Tt.throwError("bad result from backend",re.errors.SERVER_ERROR,{method:"estimateGas",params:n,result:s,error:r})}})}_getAddress(e){return vt(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&Tt.throwArgumentError("invalid address or ENS name","name",e);const n=yield this.resolveName(e);return n==null&&Tt.throwError("ENS name not configured",re.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),n})}_getBlock(e,n){return vt(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let s=-128;const r={includeTransactions:!!n};if(Ut(e,32))r.blockHash=e;else try{r.blockTag=yield this._getBlockTag(e),Ut(r.blockTag)&&(s=parseInt(r.blockTag.substring(2),16))}catch{Tt.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return vh(()=>vt(this,void 0,void 0,function*(){const i=yield this.perform("getBlock",r);if(i==null)return r.blockHash!=null&&this._emitted["b:"+r.blockHash]==null||r.blockTag!=null&&s>this._emitted.block?null:void 0;if(n){let o=null;for(let c=0;c<i.transactions.length;c++){const d=i.transactions[c];if(d.blockNumber==null)d.confirmations=0;else if(d.confirmations==null){o==null&&(o=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let u=o-d.blockNumber+1;u<=0&&(u=1),d.confirmations=u}}const l=this.formatter.blockWithTransactions(i);return l.transactions=l.transactions.map(c=>this._wrapTransaction(c)),l}return this.formatter.block(i)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return vt(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const n={transactionHash:this.formatter.hash(e,!0)};return vh(()=>vt(this,void 0,void 0,function*(){const s=yield this.perform("getTransaction",n);if(s==null)return this._emitted["t:"+e]==null?null:void 0;const r=this.formatter.transactionResponse(s);if(r.blockNumber==null)r.confirmations=0;else if(r.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-r.blockNumber+1;o<=0&&(o=1),r.confirmations=o}return this._wrapTransaction(r)}),{oncePoll:this})})}getTransactionReceipt(e){return vt(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const n={transactionHash:this.formatter.hash(e,!0)};return vh(()=>vt(this,void 0,void 0,function*(){const s=yield this.perform("getTransactionReceipt",n);if(s==null)return this._emitted["t:"+e]==null?null:void 0;if(s.blockHash==null)return;const r=this.formatter.receipt(s);if(r.blockNumber==null)r.confirmations=0;else if(r.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-r.blockNumber+1;o<=0&&(o=1),r.confirmations=o}return r}),{oncePoll:this})})}getLogs(e){return vt(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Un({filter:this._getFilter(e)}),s=yield this.perform("getLogs",n);return s.forEach(r=>{r.removed==null&&(r.removed=!1)}),Ye.arrayOf(this.formatter.filterLog.bind(this.formatter))(s)})}getEtherPrice(){return vt(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return vt(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&Tt.throwArgumentError("invalid BlockTag","blockTag",e);let n=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return n+=e,n<0&&(n=0),this.formatter.blockTag(n)}return this.formatter.blockTag(e)})}getResolver(e){return vt(this,void 0,void 0,function*(){let n=e;for(;;){if(n===""||n==="."||e!=="eth"&&n==="eth")return null;const s=yield this._getResolver(n,"getResolver");if(s!=null){const r=new aE(this,s,e);return n!==e&&!(yield r.supportsWildcard())?null:r}n=n.split(".").slice(1).join(".")}})}_getResolver(e,n){return vt(this,void 0,void 0,function*(){n==null&&(n="ENS");const s=yield this.getNetwork();s.ensAddress||Tt.throwError("network does not support ENS",re.errors.UNSUPPORTED_OPERATION,{operation:n,network:s.name});try{const r=yield this.call({to:s.ensAddress,data:"0x0178b8bf"+og(e).substring(2)});return this.formatter.callAddress(r)}catch{}return null})}resolveName(e){return vt(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(s){if(Ut(e))throw s}typeof e!="string"&&Tt.throwArgumentError("invalid ENS name","name",e);const n=yield this.getResolver(e);return n?yield n.getAddress():null})}lookupAddress(e){return vt(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const n=e.substring(2).toLowerCase()+".addr.reverse",s=yield this._getResolver(n,"lookupAddress");if(s==null)return null;const r=ug(yield this.call({to:s,data:"0x691f3431"+og(n).substring(2)}),0);return(yield this.resolveName(r))!=e?null:r})}getAvatar(e){return vt(this,void 0,void 0,function*(){let n=null;if(Ut(e)){const i=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",o=yield this._getResolver(i,"getAvatar");if(!o)return null;n=new aE(this,o,i);try{const l=yield n.getAvatar();if(l)return l.url}catch(l){if(l.code!==re.errors.CALL_EXCEPTION)throw l}try{const l=ug(yield this.call({to:o,data:"0x691f3431"+og(i).substring(2)}),0);n=yield this.getResolver(l)}catch(l){if(l.code!==re.errors.CALL_EXCEPTION)throw l;return null}}else if(n=yield this.getResolver(e),!n)return null;const s=yield n.getAvatar();return s==null?null:s.url})}perform(e,n){return Tt.throwError(e+" not implemented",re.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(n=>n.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(n=>n.pollable()).length>0}_addEventListener(e,n,s){const r=new zne(Hc(e),n,s);return this._events.push(r),this._startEvent(r),this}on(e,n){return this._addEventListener(e,n,!1)}once(e,n){return this._addEventListener(e,n,!0)}emit(e,...n){let s=!1,r=[],i=Hc(e);return this._events=this._events.filter(o=>o.tag!==i?!0:(setTimeout(()=>{o.listener.apply(this,n)},0),s=!0,o.once?(r.push(o),!1):!0)),r.forEach(o=>{this._stopEvent(o)}),s}listenerCount(e){if(!e)return this._events.length;let n=Hc(e);return this._events.filter(s=>s.tag===n).length}listeners(e){if(e==null)return this._events.map(s=>s.listener);let n=Hc(e);return this._events.filter(s=>s.tag===n).map(s=>s.listener)}off(e,n){if(n==null)return this.removeAllListeners(e);const s=[];let r=!1,i=Hc(e);return this._events=this._events.filter(o=>o.tag!==i||o.listener!=n||r?!0:(r=!0,s.push(o),!1)),s.forEach(o=>{this._stopEvent(o)}),this}removeAllListeners(e){let n=[];if(e==null)n=this._events,this._events=[];else{const s=Hc(e);this._events=this._events.filter(r=>r.tag!==s?!0:(n.push(r),!1))}return n.forEach(s=>{this._stopEvent(s)}),this}}var Fa=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):r(u.value).then(l,c)}d((s=s.apply(t,e||[])).next())})};const Vn=new re(Ox),Gne=["call","estimateGas"];function Kh(t,e){if(t==null)return null;if(typeof t.message=="string"&&t.message.match("reverted")){const n=Ut(t.data)?t.data:null;if(!e||n)return{message:t.message,data:n}}if(typeof t=="object"){for(const n in t){const s=Kh(t[n],e);if(s)return s}return null}if(typeof t=="string")try{return Kh(JSON.parse(t),e)}catch{}return null}function XD(t,e,n){const s=n.transaction||n.signedTransaction;if(t==="call"){const i=Kh(e,!0);if(i)return i.data;Vn.throwError("missing revert data in call exception; Transaction reverted without a reason string",re.errors.CALL_EXCEPTION,{data:"0x",transaction:s,error:e})}if(t==="estimateGas"){let i=Kh(e.body,!1);i==null&&(i=Kh(e,!1)),i&&Vn.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",re.errors.UNPREDICTABLE_GAS_LIMIT,{reason:i.message,method:t,transaction:s,error:e})}let r=e.message;throw e.code===re.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?r=e.error.message:typeof e.body=="string"?r=e.body:typeof e.responseText=="string"&&(r=e.responseText),r=(r||"").toLowerCase(),r.match(/insufficient funds|base fee exceeds gas limit/i)&&Vn.throwError("insufficient funds for intrinsic transaction cost",re.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:s}),r.match(/nonce (is )?too low/i)&&Vn.throwError("nonce has already been used",re.errors.NONCE_EXPIRED,{error:e,method:t,transaction:s}),r.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&Vn.throwError("replacement fee too low",re.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:s}),r.match(/only replay-protected/i)&&Vn.throwError("legacy pre-eip-155 transactions not supported",re.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:s}),Gne.indexOf(t)>=0&&r.match(/gas required exceeds allowance|always failing transaction|execution reverted/)&&Vn.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",re.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:s}),e}function oE(t){return new Promise(function(e){setTimeout(e,t)})}function Yne(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function rh(t){return t&&t.toLowerCase()}const m1={};class JD extends Eu{constructor(e,n,s){if(super(),e!==m1)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");Se(this,"provider",n),s==null&&(s=0),typeof s=="string"?(Se(this,"_address",this.provider.formatter.address(s)),Se(this,"_index",null)):typeof s=="number"?(Se(this,"_index",s),Se(this,"_address",null)):Vn.throwArgumentError("invalid address or index","addressOrIndex",s)}connect(e){return Vn.throwError("cannot alter JSON-RPC Signer connection",re.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new Xne(m1,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&Vn.throwError("unknown account #"+this._index,re.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=Gn(e);const n=this.getAddress().then(s=>(s&&(s=s.toLowerCase()),s));if(e.gasLimit==null){const s=Gn(e);s.from=n,e.gasLimit=this.provider.estimateGas(s)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(s=>Fa(this,void 0,void 0,function*(){if(s==null)return null;const r=yield this.provider.resolveName(s);return r==null&&Vn.throwArgumentError("provided ENS name resolves to null","tx.to",s),r}))),Un({tx:Un(e),sender:n}).then(({tx:s,sender:r})=>{s.from!=null?s.from.toLowerCase()!==r&&Vn.throwArgumentError("from address mismatch","transaction",e):s.from=r;const i=this.provider.constructor.hexlifyTransaction(s,{from:!0});return this.provider.send("eth_sendTransaction",[i]).then(o=>o,o=>(typeof o.message=="string"&&o.message.match(/user denied/i)&&Vn.throwError("user rejected transaction",re.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:s}),XD("sendTransaction",o,i)))})}signTransaction(e){return Vn.throwError("signing transactions is unsupported",re.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return Fa(this,void 0,void 0,function*(){const n=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),s=yield this.sendUncheckedTransaction(e);try{return yield vh(()=>Fa(this,void 0,void 0,function*(){const r=yield this.provider.getTransaction(s);if(r!==null)return this.provider._wrapTransaction(r,s,n)}),{oncePoll:this.provider})}catch(r){throw r.transactionHash=s,r}})}signMessage(e){return Fa(this,void 0,void 0,function*(){const n=typeof e=="string"?Na(e):e,s=yield this.getAddress();try{return yield this.provider.send("personal_sign",[Xe(n),s.toLowerCase()])}catch(r){throw typeof r.message=="string"&&r.message.match(/user denied/i)&&Vn.throwError("user rejected signing",re.errors.ACTION_REJECTED,{action:"signMessage",from:s,message:n}),r}})}_legacySignMessage(e){return Fa(this,void 0,void 0,function*(){const n=typeof e=="string"?Na(e):e,s=yield this.getAddress();try{return yield this.provider.send("eth_sign",[s.toLowerCase(),Xe(n)])}catch(r){throw typeof r.message=="string"&&r.message.match(/user denied/i)&&Vn.throwError("user rejected signing",re.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:s,message:n}),r}})}_signTypedData(e,n,s){return Fa(this,void 0,void 0,function*(){const r=yield vr.resolveNames(e,n,s,o=>this.provider.resolveName(o)),i=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[i.toLowerCase(),JSON.stringify(vr.getPayload(r.domain,n,r.value))])}catch(o){throw typeof o.message=="string"&&o.message.match(/user denied/i)&&Vn.throwError("user rejected signing",re.errors.ACTION_REJECTED,{action:"_signTypedData",from:i,message:{domain:r.domain,types:n,value:r.value}}),o}})}unlock(e){return Fa(this,void 0,void 0,function*(){const n=this.provider,s=yield this.getAddress();return n.send("personal_unlockAccount",[s.toLowerCase(),e,null])})}}class Xne extends JD{sendTransaction(e){return this.sendUncheckedTransaction(e).then(n=>({hash:n,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:s=>this.provider.waitForTransaction(n,s)}))}}const Jne={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class bh extends Kne{constructor(e,n){let s=n;s==null&&(s=new Promise((r,i)=>{setTimeout(()=>{this.detectNetwork().then(o=>{r(o)},o=>{i(o)})},0)})),super(s),e||(e=Tr(this.constructor,"defaultUrl")()),typeof e=="string"?Se(this,"connection",Object.freeze({url:e})):Se(this,"connection",Object.freeze(Gn(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return Fa(this,void 0,void 0,function*(){yield oE(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const n=Tr(this.constructor,"getNetwork");try{return n(Oe.from(e).toNumber())}catch(s){return Vn.throwError("could not detect network",re.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:s})}}return Vn.throwError("could not detect network",re.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new JD(m1,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(n=>this.formatter.address(n)))}send(e,n){const s={method:e,params:n,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:no(s),provider:this});const r=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(r&&this._cache[e])return this._cache[e];const i=Sk(this.connection,JSON.stringify(s),Yne).then(o=>(this.emit("debug",{action:"response",request:s,response:o,provider:this}),o),o=>{throw this.emit("debug",{action:"response",error:o,request:s,provider:this}),o});return r&&(this._cache[e]=i,setTimeout(()=>{this._cache[e]=null},0)),i}prepareRequest(e,n){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[rh(n.address),n.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[rh(n.address),n.blockTag]];case"getCode":return["eth_getCode",[rh(n.address),n.blockTag]];case"getStorageAt":return["eth_getStorageAt",[rh(n.address),pn(n.position,32),n.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[n.signedTransaction]];case"getBlock":return n.blockTag?["eth_getBlockByNumber",[n.blockTag,!!n.includeTransactions]]:n.blockHash?["eth_getBlockByHash",[n.blockHash,!!n.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[n.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[n.transactionHash]];case"call":return["eth_call",[Tr(this.constructor,"hexlifyTransaction")(n.transaction,{from:!0}),n.blockTag]];case"estimateGas":return["eth_estimateGas",[Tr(this.constructor,"hexlifyTransaction")(n.transaction,{from:!0})]];case"getLogs":return n.filter&&n.filter.address!=null&&(n.filter.address=rh(n.filter.address)),["eth_getLogs",[n.filter]]}return null}perform(e,n){return Fa(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const r=n.transaction;if(r&&r.type!=null&&Oe.from(r.type).isZero()&&r.maxFeePerGas==null&&r.maxPriorityFeePerGas==null){const i=yield this.getFeeData();i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null&&(n=Gn(n),n.transaction=Gn(r),delete n.transaction.type)}}const s=this.prepareRequest(e,n);s==null&&Vn.throwError(e+" not implemented",re.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(s[0],s[1])}catch(r){return XD(e,r,n)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,n=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=n,n.then(function(s){function r(){e.send("eth_getFilterChanges",[s]).then(function(i){if(e._pendingFilter!=n)return null;let o=Promise.resolve();return i.forEach(function(l){e._emitted["t:"+l.toLowerCase()]="pending",o=o.then(function(){return e.getTransaction(l).then(function(c){return e.emit("pending",c),null})})}),o.then(function(){return oE(1e3)})}).then(function(){if(e._pendingFilter!=n){e.send("eth_uninstallFilter",[s]);return}return setTimeout(function(){r()},0),null}).catch(i=>{})}return r(),s}).catch(s=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,n){const s=Gn(Jne);if(n)for(const i in n)n[i]&&(s[i]=!0);O3(e,s);const r={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(i){if(e[i]==null)return;const o=mk(Oe.from(e[i]));i==="gasLimit"&&(i="gas"),r[i]=o}),["from","to","data"].forEach(function(i){e[i]!=null&&(r[i]=Xe(e[i]))}),e.accessList&&(r.accessList=Mu(e.accessList)),r}}const lE=new re(Ox);let Qne=1;function cE(t,e){const n="Web3LegacyFetcher";return function(s,r){const i={method:s,params:r,id:Qne++,jsonrpc:"2.0"};return new Promise((o,l)=>{this.emit("debug",{action:"request",fetcher:n,request:no(i),provider:this}),e(i,(c,d)=>{if(c)return this.emit("debug",{action:"response",fetcher:n,error:c,request:i,provider:this}),l(c);if(this.emit("debug",{action:"response",fetcher:n,request:i,response:d,provider:this}),d.error){const u=new Error(d.error.message);return u.code=d.error.code,u.data=d.error.data,l(u)}o(d.result)})})}}function Zne(t){return function(e,n){n==null&&(n=[]);const s={method:e,params:n};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:no(s),provider:this}),t.request(s).then(r=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:s,response:r,provider:this}),r),r=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:s,error:r,provider:this}),r})}}class p1 extends bh{constructor(e,n){e==null&&lE.throwArgumentError("missing provider","provider",e);let s=null,r=null,i=null;typeof e=="function"?(s="unknown:",r=e):(s=e.host||e.path||"",!s&&e.isMetaMask&&(s="metamask"),i=e,e.request?(s===""&&(s="eip-1193:"),r=Zne(e)):e.sendAsync?r=cE(e,e.sendAsync.bind(e)):e.send?r=cE(e,e.send.bind(e)):lE.throwArgumentError("unsupported provider","provider",e),s||(s="unknown:")),super(s,n),Se(this,"jsonRpcFetchFunc",r),Se(this,"provider",i)}send(e,n){return this.jsonRpcFetchFunc(e,n)}}function Fx(t){return"0x"+z3.keccak_256(Pr(t))}const ese="rlp/5.7.0",Ki=new At(ese);function dE(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function uE(t,e,n){let s=0;for(let r=0;r<n;r++)s=s*256+t[e+r];return s}function QD(t){if(Array.isArray(t)){let s=[];if(t.forEach(function(i){s=s.concat(QD(i))}),s.length<=55)return s.unshift(192+s.length),s;const r=dE(s.length);return r.unshift(247+r.length),r.concat(s)}VD(t)||Ki.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(Pr(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const n=dE(e.length);return n.unshift(183+n.length),n.concat(e)}function ZD(t){return zn(QD(t))}function hE(t,e,n,s){const r=[];for(;n<e+1+s;){const i=e$(t,n);r.push(i.result),n+=i.consumed,n>e+1+s&&Ki.throwError("child data too short",At.errors.BUFFER_OVERRUN,{})}return{consumed:1+s,result:r}}function e$(t,e){if(t.length===0&&Ki.throwError("data too short",At.errors.BUFFER_OVERRUN,{}),t[e]>=248){const n=t[e]-247;e+1+n>t.length&&Ki.throwError("data short segment too short",At.errors.BUFFER_OVERRUN,{});const s=uE(t,e+1,n);return e+1+n+s>t.length&&Ki.throwError("data long segment too short",At.errors.BUFFER_OVERRUN,{}),hE(t,e,e+1+n,n+s)}else if(t[e]>=192){const n=t[e]-192;return e+1+n>t.length&&Ki.throwError("data array too short",At.errors.BUFFER_OVERRUN,{}),hE(t,e,e+1,n)}else if(t[e]>=184){const n=t[e]-183;e+1+n>t.length&&Ki.throwError("data array too short",At.errors.BUFFER_OVERRUN,{});const s=uE(t,e+1,n);e+1+n+s>t.length&&Ki.throwError("data array too short",At.errors.BUFFER_OVERRUN,{});const r=zn(t.slice(e+1+n,e+1+n+s));return{consumed:1+n+s,result:r}}else if(t[e]>=128){const n=t[e]-128;e+1+n>t.length&&Ki.throwError("data too short",At.errors.BUFFER_OVERRUN,{});const s=zn(t.slice(e+1,e+1+n));return{consumed:1+n,result:s}}return{consumed:1,result:zn(t[e])}}function tse(t){const e=Pr(t),n=e$(e,0);return n.consumed!==e.length&&Ki.throwArgumentError("invalid rlp data","data",t),n.result}const Uxe=Object.freeze(Object.defineProperty({__proto__:null,decode:tse,encode:ZD},Symbol.toStringTag,{value:"Module"})),nse="address/5.7.0",Fo=new At(nse);function fE(t){mr(t,20)||Fo.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),n=new Uint8Array(40);for(let r=0;r<40;r++)n[r]=e[r].charCodeAt(0);const s=Pr(Fx(n));for(let r=0;r<40;r+=2)s[r>>1]>>4>=8&&(e[r]=e[r].toUpperCase()),(s[r>>1]&15)>=8&&(e[r+1]=e[r+1].toUpperCase());return"0x"+e.join("")}const sse=9007199254740991;function rse(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const Ak={};for(let t=0;t<10;t++)Ak[String(t)]=String(t);for(let t=0;t<26;t++)Ak[String.fromCharCode(65+t)]=String(10+t);const mE=Math.floor(rse(sse));function t$(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(s=>Ak[s]).join("");for(;e.length>=mE;){let s=e.substring(0,mE);e=parseInt(s,10)%97+e.substring(s.length)}let n=String(98-parseInt(e,10)%97);for(;n.length<2;)n="0"+n;return n}function Ka(t){let e=null;if(typeof t!="string"&&Fo.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=fE(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&Fo.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==t$(t)&&Fo.throwArgumentError("bad icap checksum","address",t),e=yne(t.substring(4));e.length<40;)e="0"+e;e=fE("0x"+e)}else Fo.throwArgumentError("invalid address","address",t);return e}function ise(t){try{return Ka(t),!0}catch{}return!1}function Vxe(t){let e=vne(Ka(t).substring(2)).toUpperCase();for(;e.length<30;)e="0"+e;return"XE"+t$("XE00"+e)+e}function zxe(t){let e=null;try{e=Ka(t.from)}catch{Fo.throwArgumentError("missing from address","transaction",t)}const n=fne(Pr(en.from(t.nonce).toHexString()));return Ka(HD(Fx(ZD([e,n])),12))}function Hxe(t,e,n){return zC(e)!==32&&Fo.throwArgumentError("salt must be 32 bytes","salt",e),zC(n)!==32&&Fo.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",n),Ka(HD(Fx(zD(["0xff",Ka(t),e,n])),12))}const ase="strings/5.7.0",n$=new At(ase);var Vf;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(Vf||(Vf={}));var jr;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(jr||(jr={}));function ose(t,e,n,s,r){return n$.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",n)}function s$(t,e,n,s,r){if(t===jr.BAD_PREFIX||t===jr.UNEXPECTED_CONTINUE){let i=0;for(let o=e+1;o<n.length&&n[o]>>6===2;o++)i++;return i}return t===jr.OVERRUN?n.length-e-1:0}function lse(t,e,n,s,r){return t===jr.OVERLONG?(s.push(r),0):(s.push(65533),s$(t,e,n))}const cse=Object.freeze({error:ose,ignore:s$,replace:lse});function Tk(t,e){e==null&&(e=cse.error),t=Pr(t);const n=[];let s=0;for(;s<t.length;){const r=t[s++];if(!(r>>7)){n.push(r);continue}let i=null,o=null;if((r&224)===192)i=1,o=127;else if((r&240)===224)i=2,o=2047;else if((r&248)===240)i=3,o=65535;else{(r&192)===128?s+=e(jr.UNEXPECTED_CONTINUE,s-1,t,n):s+=e(jr.BAD_PREFIX,s-1,t,n);continue}if(s-1+i>=t.length){s+=e(jr.OVERRUN,s-1,t,n);continue}let l=r&(1<<8-i-1)-1;for(let c=0;c<i;c++){let d=t[s];if((d&192)!=128){s+=e(jr.MISSING_CONTINUE,s,t,n),l=null;break}l=l<<6|d&63,s++}if(l!==null){if(l>1114111){s+=e(jr.OUT_OF_RANGE,s-1-i,t,n,l);continue}if(l>=55296&&l<=57343){s+=e(jr.UTF16_SURROGATE,s-1-i,t,n,l);continue}if(l<=o){s+=e(jr.OVERLONG,s-1-i,t,n,l);continue}n.push(l)}}return n}function r$(t,e=Vf.current){e!=Vf.current&&(n$.checkNormalize(),t=t.normalize(e));let n=[];for(let s=0;s<t.length;s++){const r=t.charCodeAt(s);if(r<128)n.push(r);else if(r<2048)n.push(r>>6|192),n.push(r&63|128);else if((r&64512)==55296){s++;const i=t.charCodeAt(s);if(s>=t.length||(i&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((r&1023)<<10)+(i&1023);n.push(o>>18|240),n.push(o>>12&63|128),n.push(o>>6&63|128),n.push(o&63|128)}else n.push(r>>12|224),n.push(r>>6&63|128),n.push(r&63|128)}return Pr(n)}function Rv(t){const e="0000"+t.toString(16);return"\\u"+e.substring(e.length-4)}function Wxe(t,e){return'"'+Tk(t,e).map(n=>{if(n<256){switch(n){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(n>=32&&n<127)return String.fromCharCode(n)}return n<=65535?Rv(n):(n-=65536,Rv((n>>10&1023)+55296)+Rv((n&1023)+56320))}).join("")+'"'}function dse(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function qxe(t,e){return dse(Tk(t,e))}function Kxe(t,e=Vf.current){return Tk(r$(t,e))}const use="units/5.7.0",i$=new re(use),a$=["wei","kwei","mwei","gwei","szabo","finney","ether"];function Gxe(t){const e=String(t).split(".");(e.length>2||!e[0].match(/^-?[0-9]*$/)||e[1]&&!e[1].match(/^[0-9]*$/)||t==="."||t==="-.")&&i$.throwArgumentError("invalid value","value",t);let n=e[0],s="";for(n.substring(0,1)==="-"&&(s="-",n=n.substring(1));n.substring(0,1)==="0";)n=n.substring(1);n===""&&(n="0");let r="";for(e.length===2&&(r="."+(e[1]||"0"));r.length>2&&r[r.length-1]==="0";)r=r.substring(0,r.length-1);const i=[];for(;n.length;)if(n.length<=3){i.unshift(n);break}else{const o=n.length-3;i.unshift(n.substring(o)),n=n.substring(0,o)}return s+i.join(",")+r}function Zi(t,e){if(typeof e=="string"){const n=a$.indexOf(e);n!==-1&&(e=3*n)}return ig(t,e??18)}function o$(t,e){if(typeof t!="string"&&i$.throwArgumentError("value must be a string","value",t),typeof e=="string"){const n=a$.indexOf(e);n!==-1&&(e=3*n)}return Vi(t,e??18)}function De(t){return Zi(t,18)}function pr(t){return o$(t,18)}const l$={U2U_LEGACY_TESTNET:{ADMIN:"0xFC53E7A6b94173D82d07a127A38d9D852bf478d4",ERC1155_CORE:"0x7C082010BcF338675508E2FD9d6C0dD2E43b37d8",ISSUER:"0xad367F8b04bC9C373aDcE2a1E797A3c4f1aD5D78",MARKETPLACE:"0xE8DE43BD00370F48db7Ac139146AC27B1AfEd7aF",PAYMENT_SPLITTER:"0x6f2db3e628879ee72B455a946C1d6cfBa51aac91"},U2U_NEBULAS_TESTNET:{ADMIN:"0xFC53E7A6b94173D82d07a127A38d9D852bf478d4",USER_REGISTRY:"0xa9E9DA96A74Ac7d7411426e9B794280BaB49AFBF",TOKEN:"0x7C082010BcF338675508E2FD9d6C0dD2E43b37d8",ISSUER:"0xad367F8b04bC9C373aDcE2a1E797A3c4f1aD5D78",MARKETPLACE:"0xE8DE43BD00370F48db7Ac139146AC27B1AfEd7aF",TOKEN_MANAGEMENT:"0xA632A492cCd898De4a4B17DC786B381d099F5815",SECONDARY_MARKETPLACE:"0xD68805CeC8704e0E262Afa2289EB298b1bD98ce8",ORDER_BOOK_ESCROW:"0x0E3b53858E1F086D6ff1a1613e2d0d951237E949",PAYMENT_SPLITTER:"0x6f2db3e628879ee72B455a946C1d6cfBa51aac91",IDENTITY_REGISTRY:"0x1667Cd2BB3715539C8c232D7cE256dd891Aa6923",CLAIM_ISSUERS_REGISTRY:"0x767FA150B3007ff446ff8f37b3116cA200BC0197",RULE_CONTRACT:"0xdAfc108538b0178071B648BDF5E6295d7eCf7A7C",ASSET_REGISTRY:"0xB6391254407b51e87dB45eCB3CEF9C2f96aad75B",MASTER_TOKEN:"0x2ccb132b985d096dF1A1bFAd1432CD79947295Ad",MULTISIG:"0x541cD0763c52ac9304A099b48fC81554Dd0A0493",TOKEN_FACTORY:"0xF9f94692001602b5E4AEe778659814593B9315C4",ERC3643_MARKETPLACE:"0xD68805CeC8704e0E262Afa2289EB298b1bD98ce8",WATERFALL_CONTRACT:"0xC6D5Eca0d7390bf95e5331EbD4274D3b177961e8",MOCK_KYC_VENDOR:"0x2B0426A3ECE73A9E2e361f111d96bdc6b13495a3",MOCK_LAW_FIRM:"0x56CFAFDdb032BCb5c1697053993aB3406efd6Eb9",MOCK_STABLECOIN:"0x40ACd6248Af692021C82b8333092De184c6e33Ff",MOCK_SPV_BANK_FEED:"0x0b0fD8855a03Bcd63CfA5A1fC6145FF3552c96a4",MERKLE_KYC:"0x65374809f4201Ac29E8176db4B764a0ae360ff56"}},bt={U2U_LEGACY_TESTNET:{chainId:747,name:"Flow Mainnet",rpcUrl:"https://mainnet.evm.nodes.onflow.org",blockExplorer:"https://u2uscan.xyz",nativeCurrency:{name:"FLOW",symbol:"FLOW",decimals:18}},U2U_NEBULAS_TESTNET:{chainId:747,name:"Flow Mainnet",rpcUrl:"https://mainnet.evm.nodes.onflow.org",blockExplorer:"https://www.flowscan.io",nativeCurrency:{name:"FLOW",symbol:"FLOW",decimals:18}}},ct="U2U_NEBULAS_TESTNET",Bn=l$[ct],Jt=Bn.ADMIN;Bn.USER_REGISTRY;const Ts=Bn.TOKEN;Bn.ISSUER;const hn=Bn.MARKETPLACE,w0=Bn.TOKEN_MANAGEMENT,Jn=Bn.ORDER_BOOK_ESCROW,c$=Bn.PAYMENT_SPLITTER,_i=Object.freeze(Object.defineProperty({__proto__:null,ACTIVE_NETWORK:ct,ADMIN_CONTRACT:Jt,CONTRACTS:Bn,CONTRACT_ADDRESSES:l$,MARKETPLACE_CONTRACT:hn,NETWORK_CONFIG:bt,ORDER_BOOK_ESCROW_CONTRACT:Jn,PAYMENT_SPLITTER_CONTRACT:c$,TOKEN_CONTRACT:Ts,TOKEN_MANAGEMENT_CONTRACT:w0},Symbol.toStringTag,{value:"Module"})),d$=y.createContext(void 0),xn=()=>{const t=y.useContext(d$);if(!t)throw new Error("useWallet must be used within a WalletProvider");return t},hse=({children:t})=>{const[e,n]=y.useState(null),[s,r]=y.useState(!1),[i,o]=y.useState(null),[l,c]=y.useState(null),[d,u]=y.useState(null),[h,f]=y.useState(null),m=bt[ct].chainId,x=h===m,p=async()=>{try{if(!window.ethereum)throw new Error("No wallet found");const N=bt[ct];try{return await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:`0x${N.chainId.toString(16)}`}]}),!0}catch(E){if(E.code===4902)try{return await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:`0x${N.chainId.toString(16)}`,chainName:N.name,nativeCurrency:N.nativeCurrency,rpcUrls:[N.rpcUrl],blockExplorerUrls:[N.blockExplorer]}]}),!0}catch(T){return console.error("Failed to add network:",T),!1}return console.error("Failed to switch network:",E),!1}}catch(N){return console.error("Network switch error:",N),!1}},w=async()=>{try{if(!window.ethereum)throw new Error("No wallet found. Please install MetaMask.");const N=new p1(window.ethereum);await N.send("eth_requestAccounts",[]);const E=N.getSigner(),T=await E.getAddress(),R=await N.getNetwork();f(R.chainId),u(R.name),o(N),c(E),n(T),r(!0),localStorage.setItem("walletConnected","true")}catch(N){throw console.error("Failed to connect wallet:",N),N}},b=()=>{o(null),c(null),n(null),r(!1),u(null),f(null),localStorage.removeItem("walletConnected")};y.useEffect(()=>{(async()=>{if(localStorage.getItem("walletConnected")&&window.ethereum)try{const T=new p1(window.ethereum);if((await T.listAccounts()).length>0){const $=T.getSigner(),M=await $.getAddress(),L=await T.getNetwork();f(L.chainId),u(L.name),o(T),c($),n(M),r(!0)}}catch(T){console.error("Auto-connect failed:",T),localStorage.removeItem("walletConnected")}})()},[]),y.useEffect(()=>{if(window.ethereum){const N=T=>{T.length===0?b():T[0]!==e&&w()},E=()=>{window.location.reload()};return window.ethereum.on("accountsChanged",N),window.ethereum.on("chainChanged",E),()=>{window.ethereum.removeListener("accountsChanged",N),window.ethereum.removeListener("chainChanged",E)}}},[e]);const v={address:e,isConnected:s,provider:i,signer:l,network:d,chainId:h,connectWallet:w,disconnectWallet:b,switchToRequiredNetwork:p,isCorrectNetwork:x};return a.jsx(d$.Provider,{value:v,children:t})},Yr=[{type:"constructor",inputs:[{type:"address",name:"_adminContract"},{type:"address",name:"_tokenContract"}]},{type:"function",name:"listAsset",constant:!1,inputs:[{type:"uint256",name:"_tokenId"},{type:"uint256",name:"_amount"}],outputs:[]},{type:"function",name:"buyAsset",constant:!1,stateMutability:"payable",payable:!0,inputs:[{type:"uint256",name:"_tokenId"},{type:"uint256",name:"_amount"}],outputs:[]},{type:"function",name:"getAllListings",constant:!0,stateMutability:"view",inputs:[],outputs:[{type:"uint256[]",name:"tokenIds"},{type:"address[]",name:"issuers"},{type:"uint256[]",name:"amounts"},{type:"uint256[]",name:"prices"}]},{type:"function",name:"tokenManagementContract",constant:!0,stateMutability:"view",inputs:[],outputs:[{type:"address",name:""}]},{type:"function",name:"setTokenManagementContract",constant:!1,inputs:[{type:"address",name:"_tokenManagementContract"}],outputs:[]},{type:"function",name:"listings",constant:!0,stateMutability:"view",inputs:[{type:"uint256",name:""}],outputs:[{type:"address",name:"issuer"},{type:"uint256",name:"amount"},{type:"bool",name:"active"}]},{type:"function",name:"tokenHolders",constant:!0,stateMutability:"view",inputs:[{type:"address",name:""},{type:"uint256",name:""}],outputs:[{type:"uint256",name:""}]},{type:"function",name:"getTokenHolders",constant:!0,stateMutability:"view",inputs:[{type:"uint256",name:"_tokenId"}],outputs:[{type:"address[]",name:"holders"},{type:"uint256[]",name:"amounts"}]},{type:"function",name:"getMyAssets",constant:!0,stateMutability:"view",inputs:[],outputs:[{type:"uint256[]",name:"tokenIds"},{type:"uint256[]",name:"amounts"}]},{type:"function",name:"adminContract",constant:!0,stateMutability:"view",inputs:[],outputs:[{type:"address",name:""}]},{type:"function",name:"tokenContract",constant:!0,stateMutability:"view",inputs:[],outputs:[{type:"address",name:""}]},{type:"function",name:"withdrawEarnings",constant:!1,inputs:[],outputs:[]},{type:"function",name:"withdrawEarnings",constant:!1,inputs:[],outputs:[]},{type:"function",name:"getUserBalance",constant:!0,stateMutability:"view",inputs:[{type:"address",name:"_user"},{type:"uint256",name:"_tokenId"}],outputs:[{type:"uint256",name:""}]},{type:"function",name:"sellAsset",constant:!1,stateMutability:"payable",payable:!0,inputs:[{type:"uint256",name:"_tokenId"},{type:"uint256",name:"_amount"}],outputs:[]},{type:"function",name:"withdrawAsset",constant:!1,stateMutability:"nonpayable",inputs:[{type:"uint256",name:"_tokenId"},{type:"uint256",name:"_amount"}],outputs:[]},{type:"function",name:"removeListing",constant:!1,inputs:[{type:"uint256",name:"_tokenId"}],outputs:[]},{type:"function",name:"updateListing",constant:!1,inputs:[{type:"uint256",name:"_tokenId"},{type:"string",name:"_newMetadataURI"}],outputs:[]},{type:"function",name:"getTotalListed",constant:!0,stateMutability:"view",inputs:[{type:"uint256",name:"_tokenId"}],outputs:[{type:"uint256",name:""}]},{type:"function",name:"getTokenHoldersList",constant:!0,stateMutability:"view",inputs:[{type:"uint256",name:"_tokenId"}],outputs:[{type:"address[]",name:""}]},{type:"event",name:"AssetBought",anonymous:!1,inputs:[{type:"uint256",name:"tokenId",indexed:!0},{type:"address",name:"buyer",indexed:!0},{type:"uint256",name:"amount",indexed:!1},{type:"uint256",name:"platformFee",indexed:!1}]},{type:"event",name:"AssetSold",anonymous:!1,inputs:[{type:"uint256",name:"tokenId",indexed:!0},{type:"address",name:"seller",indexed:!0},{type:"uint256",name:"amount",indexed:!1},{type:"uint256",name:"platformFee",indexed:!1}]},{type:"event",name:"AssetWithdrawn",anonymous:!1,inputs:[{type:"uint256",name:"tokenId",indexed:!0},{type:"address",name:"holder",indexed:!0},{type:"uint256",name:"amount",indexed:!1}]},{type:"function",name:"setPaymentSplitter",constant:!1,inputs:[{type:"address",name:"_paymentSplitter"}],outputs:[]}],u$=({asset:t,onClose:e,onSuccess:n,tokenPrice:s})=>{const[r,i]=y.useState(1),[o,l]=y.useState(!1),{provider:c,signer:d,address:u,isConnected:h}=xn();y.useState(null);const f=t.price&&!isNaN(parseFloat(t.price))?t.price:"0";console.log("BuyModal - Asset data:",{tokenId:t.tokenId,name:t.name,price:t.price,safePrice:f,amount:t.amount});const m=parseFloat(f)/Math.pow(10,18);if(!m||m<=0||!isFinite(m))return console.error("Invalid price calculation:",{pricePerTokenETH:m,safePrice:f}),a.jsx("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:a.jsxs("div",{className:"modal-content",style:{backgroundColor:"white",padding:"20px",borderRadius:"8px",maxWidth:"400px",width:"90%"},children:[a.jsx("h2",{children:"Error"}),a.jsx("p",{children:"Unable to calculate price for this asset. Please try again later."}),a.jsx("button",{onClick:e,style:{backgroundColor:"#007bff",color:"white",border:"none",padding:"10px 20px",borderRadius:"4px",cursor:"pointer"},children:"Close"})]})});const x=m*r,p=x*.01,w=x+p;let b,v,N;try{b=en.from(f).mul(r),v=b.div(100),N=b.add(v)}catch(T){return console.error("Error calculating Wei values:",T),a.jsx("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:a.jsxs("div",{className:"modal-content",style:{backgroundColor:"white",padding:"20px",borderRadius:"8px",maxWidth:"400px",width:"90%"},children:[a.jsx("h2",{children:"Error"}),a.jsx("p",{children:"Unable to process payment calculation. Please try again."}),a.jsx("button",{onClick:e,style:{backgroundColor:"#007bff",color:"white",border:"none",padding:"10px 20px",borderRadius:"4px",cursor:"pointer"},children:"Close"})]})})}if(!t||!t.tokenId)return console.error("BuyModal: Invalid asset data",t),a.jsx("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:a.jsxs("div",{className:"modal-content",style:{backgroundColor:"white",padding:"20px",borderRadius:"8px",maxWidth:"400px",width:"90%"},children:[a.jsx("h2",{children:"Error"}),a.jsx("p",{children:"Invalid asset data. Please try again."}),a.jsx("button",{onClick:e,style:{backgroundColor:"#007bff",color:"white",border:"none",padding:"10px 20px",borderRadius:"4px",cursor:"pointer"},children:"Close"})]})});if(!f||parseFloat(f)<=0)return console.error("BuyModal: Invalid price data",{price:t.price,safePrice:f}),a.jsx("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:a.jsxs("div",{className:"modal-content",style:{backgroundColor:"white",padding:"20px",borderRadius:"8px",maxWidth:"400px",width:"90%"},children:[a.jsx("h2",{children:"Error"}),a.jsx("p",{children:"Invalid price data for this asset. Please contact support."}),a.jsx("button",{onClick:e,style:{backgroundColor:"#007bff",color:"white",border:"none",padding:"10px 20px",borderRadius:"4px",cursor:"pointer"},children:"Close"})]})});const E=async()=>{var T,R,$;if(!h||!d||!u){oe.error("Please connect your wallet first");return}l(!0);try{if(console.log(" Starting asset purchase..."),console.log("Token ID:",t.tokenId),console.log("Quantity:",r),console.log("Price per token:",t.price,"Wei"),console.log("Subtotal:",b.toString(),"Wei"),console.log("Platform fee:",v.toString(),"Wei"),console.log("Total cost:",N.toString(),"Wei"),(await d.provider.getNetwork()).chainId!==bt[ct].chainId)throw new Error(`Please switch to ${bt[ct].name}`);if((await d.getBalance()).lt(N))throw new Error("Insufficient S balance for purchase including platform fee");const U=new qe(hn,Yr,d);console.log(" Calling buyAsset on marketplace contract..."),oe.loading(`Purchasing ${r} token${r>1?"s":""}...`);const z=await U.buyAsset(t.tokenId,r,{value:N,gasLimit:5e5});console.log(" Transaction sent:",z.hash),oe.dismiss(),oe.loading("Confirming transaction...");const B=await z.wait();console.log(" Transaction confirmed:",B.transactionHash),oe.dismiss(),oe.success(` Successfully purchased ${r} token${r>1?"s":""} of ${t.name}!`),n&&n(),e()}catch(M){console.error(" Purchase failed:",M),oe.dismiss(),M.code===4001?oe.error("Transaction rejected by user"):M.code==="INSUFFICIENT_FUNDS"?oe.error("Insufficient funds for transaction"):(T=M.message)!=null&&T.includes("Insufficient payment including platform fee")?oe.error("Insufficient payment including platform fee"):(R=M.message)!=null&&R.includes("Asset not listed")?oe.error("Asset is no longer available for purchase"):($=M.message)!=null&&$.includes("Insufficient tokens")?oe.error("Not enough tokens available"):oe.error(`Purchase failed: ${M.message||"Unknown error"}`)}finally{l(!1)}};return a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsx("div",{className:"bg-white rounded-2xl shadow-2xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Purchase Asset"}),a.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(hx,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"space-y-6",children:[t.image&&a.jsx("img",{src:t.image,alt:t.name,className:"w-full h-48 object-cover rounded-xl"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:t.name}),t.description&&a.jsx("p",{className:"text-gray-600 text-sm mb-4",children:t.description}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 border border-blue-200/50",children:[a.jsx("div",{className:"text-blue-600 text-sm font-medium",children:"Platform ID"}),a.jsxs("div",{className:"text-blue-900 font-semibold mt-1",children:["#",t.tokenId]})]}),a.jsxs("div",{className:"bg-green-50 rounded-xl p-4 border border-green-200/50",children:[a.jsx("div",{className:"text-green-600 text-sm font-medium",children:"Available"}),a.jsxs("div",{className:"text-green-900 font-semibold mt-1",children:[t.amount," tokens"]})]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200/50 mb-4",children:[a.jsx("div",{className:"text-gray-600 text-sm font-medium",children:"Price per Token"}),a.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[m.toFixed(4)," Flow each"]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantity to Purchase"}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:()=>i(Math.max(1,r-1)),className:"w-10 h-10 rounded-lg border border-gray-300 flex items-center justify-center hover:bg-gray-50 transition-colors",disabled:r<=1||o,children:"-"}),a.jsx("input",{type:"number",min:"1",max:t.amount,value:r,onChange:T=>i(Math.min(t.amount,Math.max(1,parseInt(T.target.value)||1))),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-center",disabled:o}),a.jsx("button",{onClick:()=>i(Math.min(t.amount,r+1)),className:"w-10 h-10 rounded-lg border border-gray-300 flex items-center justify-center hover:bg-gray-50 transition-colors",disabled:r>=t.amount||o,children:"+"})]}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Maximum: ",t.amount," tokens available"]})]}),a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-4 border border-blue-200/50",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:"text-gray-700 font-medium",children:["Subtotal (",r," token",r>1?"s":"","):"]}),a.jsx("div",{className:"text-right",children:a.jsxs("span",{className:"text-sm text-gray-600",children:[x.toFixed(4)," Flow"]})})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-700 font-medium",children:"Platform Fee (1%):"}),a.jsx("div",{className:"text-right",children:a.jsxs("span",{className:"text-sm text-orange-500",children:[p.toFixed(4)," Flow"]})})]}),a.jsx("hr",{className:"border-gray-300"}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-900 font-bold text-lg",children:"Total Cost:"}),a.jsx("div",{className:"text-right",children:a.jsxs("span",{className:"text-sm text-gray-600",children:[w.toFixed(4)," Flow"]})})]})]})}),h?a.jsx("div",{className:"bg-blue-50 rounded-xl p-4 border border-blue-200/50",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-5 h-5 text-blue-600 mt-0.5",children:""}),a.jsxs("div",{className:"text-sm text-blue-800",children:[a.jsx("p",{className:"font-medium mb-1",children:"Transaction Details:"}),a.jsxs("p",{children:["This purchase will be processed on the ",bt[ct].name," network. The 1% platform fee helps maintain the marketplace infrastructure."]})]})]})}):a.jsx("div",{className:"bg-red-50 rounded-xl p-4 border border-red-200/50",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-5 h-5 text-red-600 mt-0.5",children:""}),a.jsxs("div",{className:"text-sm text-red-800",children:[a.jsx("p",{className:"font-medium mb-1",children:"Wallet Not Connected:"}),a.jsx("p",{children:"Please connect your wallet to purchase assets."})]})]})})]}),a.jsxs("div",{className:"flex space-x-3 mt-6",children:[a.jsx("button",{onClick:e,className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors font-medium",disabled:o,children:"Cancel"}),a.jsx(Z,{onClick:E,disabled:!h||o||r<=0||r>t.amount,className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-medium py-3 px-6 rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:h?o?"Processing...":`Buy ${r} Token${r>1?"s":""}`:"Connect Wallet First"})]})]})})})},Mv=["Real Estate","Commodities","Invoices"],fse={"Real Estate":[{id:"re-1",title:"Manhattan Luxury Condo",image:"https://images.unsplash.com/photo-1518005020951-eccb494ad742?auto=format&fit=crop&q=80",price:"250,000 USDC",tokenSymbol:"MNHT",apy:"6.8%",location:"Manhattan, NY",category:"Real Estate",color:"blue"},{id:"re-2",title:"Central Park View Apartment",image:"https://images.unsplash.com/photo-1551038247-3d9af20df552?auto=format&fit=crop&q=80",price:"180,000 USDC",tokenSymbol:"CPVA",apy:"5.9%",location:"Upper East Side, NY",category:"Real Estate",color:"blue"},{id:"re-3",title:"SoHo Commercial Space",image:"https://images.unsplash.com/photo-1494891848038-7bd202a2afeb?auto=format&fit=crop&q=80",price:"420,000 USDC",tokenSymbol:"SOHO",apy:"7.2%",location:"SoHo, NY",category:"Real Estate",color:"blue"},{id:"re-4",title:"Brooklyn Brownstone",image:"https://images.unsplash.com/photo-1524230572899-a752b3835840?auto=format&fit=crop&q=80",price:"320,000 USDC",tokenSymbol:"BRWN",apy:"6.5%",location:"Brooklyn, NY",category:"Real Estate",color:"blue"}],Commodities:[{id:"com-1",title:"Gold Bullion Reserve",image:"https://images.unsplash.com/photo-1610375461246-83df859d849d?auto=format&fit=crop&q=80",price:"50,000 USDC",tokenSymbol:"GOLD",apy:"3.2%",location:"Secure Vault, Zurich",category:"Commodities",color:"orange"},{id:"com-2",title:"Silver Futures",image:"https://images.unsplash.com/photo-1589216532372-1c2a367900d9?auto=format&fit=crop&q=80",price:"25,000 USDC",tokenSymbol:"SLVR",apy:"4.1%",location:"COMEX Warehouse",category:"Commodities",color:"orange"},{id:"com-3",title:"Natural Gas Reserve",image:"https://images.unsplash.com/photo-1526306064415-3ff367895b1c?auto=format&fit=crop&q=80",price:"100,000 USDC",tokenSymbol:"NGAS",apy:"8.3%",location:"Texas, USA",category:"Commodities",color:"orange"},{id:"com-4",title:"Rare Earth Metals",image:"https://images.unsplash.com/photo-1465661910194-1e4463bcfc8e?auto=format&fit=crop&q=80",price:"75,000 USDC",tokenSymbol:"RARE",apy:"9.5%",location:"Processing Facility, Australia",category:"Commodities",color:"orange"}],Invoices:[{id:"inv-1",title:"Global Tech Co. Invoice",image:"https://images.unsplash.com/photo-1486312338219-ce68d2c6f44d?auto=format&fit=crop&q=80",price:"20,000 USDC",tokenSymbol:"GTCI",apy:"12.5%",location:"Due in 30 days",category:"Invoices",color:"green"},{id:"inv-2",title:"Medical Supply Chain",image:"https://images.unsplash.com/photo-1576091160550-2173dba999ef?auto=format&fit=crop&q=80",price:"35,000 USDC",tokenSymbol:"MEDC",apy:"11.8%",location:"Due in 45 days",category:"Invoices",color:"green"},{id:"inv-3",title:"Renewable Energy Project",image:"https://images.unsplash.com/photo-1473341304170-971dccb5ac1e?auto=format&fit=crop&q=80",price:"80,000 USDC",tokenSymbol:"RENW",apy:"10.2%",location:"Due in 60 days",category:"Invoices",color:"green"},{id:"inv-4",title:"Government Contract",image:"https://images.unsplash.com/photo-1507842217343-583bb7270b66?auto=format&fit=crop&q=80",price:"120,000 USDC",tokenSymbol:"GOVT",apy:"9.7%",location:"Due in 90 days",category:"Invoices",color:"green"}]},mse=()=>{const[t,e]=y.useState(Mv[0]),[n,s]=y.useState(null),[r,i]=y.useState(!1),o=c=>{s(c),i(!0)},l=()=>{i(!1)};return a.jsxs("section",{className:"py-20 bg-marketplace-gray",id:"marketplace",children:[a.jsxs("div",{className:"container",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Browse Tokenized Assets"}),a.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Discover and invest in a diverse range of tokenized real-world assets across multiple categories"})]}),a.jsxs(ba,{defaultValue:t,onValueChange:e,children:[a.jsx("div",{className:"flex justify-center mb-8",children:a.jsx(wa,{className:"bg-white shadow-md",children:Mv.map(c=>a.jsx(tn,{value:c,className:t===c?"data-[state=active]:bg-marketplace-blue data-[state=active]:text-white":"",children:c},c))})}),Mv.map(c=>a.jsx(sn,{value:c,className:"focus-visible:outline-none focus-visible:ring-0",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:fse[c].map(d=>a.jsx(UJ,{asset:d,onBuyClick:()=>o(d)},d.id))})},c))]})]}),r&&n&&a.jsx(u$,{asset:n,onClose:l})]})},pse=()=>a.jsx("footer",{className:"bg-black/[0.96] text-gray-300",children:a.jsxs("div",{className:"container py-12",children:[a.jsxs("div",{className:"grid gap-8 md:grid-cols-2 lg:grid-cols-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[a.jsx("div",{className:"bg-marketplace-blue text-white font-bold text-xl px-2 py-1 rounded",children:"RWA"}),a.jsx("span",{className:"font-semibold text-xl text-white",children:"Marketplace"})]}),a.jsx("p",{className:"text-sm mb-4",children:"A next-generation platform for tokenized real-world assets, providing investors with access to premium investment opportunities."}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("a",{href:"https://x.com/orion",className:"text-gray-400 hover:text-white",children:a.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:a.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})}),a.jsx("a",{href:"https://discord.gg/hKp6RTSp59",className:"text-gray-400 hover:text-white",children:a.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:a.jsx("path",{d:"M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.0371 19.7363 19.7363 0 00-4.8852 1.5152.0699.0699 0 00-.0321.0277C2.263 9.0458 1.6663 13.5799 2.0344 18.057c.0016.0162.0116.0315.0247.0416 2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.8732.8914.0766.0766 0 00-.0406.1066c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.9616-.6067 3.9491-1.5219 6.002-3.0294a.077.077 0 00.0247-.0416c.5004-5.177-.8382-9.6732-3.5485-13.6594a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9558-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0957 2.1568 2.4189 0 1.3333-.9558 2.419-2.1569 2.419zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9558-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0957 2.1568 2.4189 0 1.3333-.946 2.419-2.1568 2.419z"})})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-white mb-4",children:"Quick Links"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsx("a",{href:"/about",className:"hover:text-white transition-colors",children:"About Us"})}),a.jsx("li",{children:a.jsx("a",{href:"/marketplace",className:"hover:text-white transition-colors",children:"Marketplace"})}),a.jsx("li",{children:a.jsx("a",{href:"mailto:orion@gmail.com",className:"hover:text-white transition-colors",children:"Contact Us"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-white mb-4",children:"Asset Categories"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Real Estate"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Commodities"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Invoices"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Art & Collectibles"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Infrastructure"})})]})]})]}),a.jsxs("div",{className:"border-t border-gray-800 mt-12 pt-8 flex flex-col md:flex-row justify-between",children:[a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsx("p",{className:"text-sm",children:" 2025 Orion. All rights reserved."}),a.jsxs("p",{className:"text-sm text-gray-400",children:["Powered by"," ",a.jsx("a",{href:"https://Flow.xyz",target:"_blank",rel:"noopener noreferrer",className:"bg-marketplace-blue text-white font-bold text-sm px-2 py-1 rounded",children:"Flow Network"})]})]}),a.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[a.jsx("a",{href:"#",className:"text-sm hover:text-white transition-colors",children:"Privacy Policy"}),a.jsx("a",{href:"#",className:"text-sm hover:text-white transition-colors",children:"Terms of Service"}),a.jsx("a",{href:"#",className:"text-sm hover:text-white transition-colors",children:"Legal"})]})]})]})}),gse=()=>a.jsxs(a.Fragment,{children:[a.jsx(wJ,{}),a.jsxs("div",{className:"min-h-screen flex flex-col",children:[a.jsx(Rd,{}),a.jsxs("main",{className:"flex-1",children:[a.jsx(vJ,{}),a.jsx(mse,{})]}),a.jsx(pse,{})]})]}),xse=()=>{const t=co();return y.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),a.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),a.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},Ck=y.createContext({});function Ek(t){const e=y.useRef(null);return e.current===null&&(e.current=t()),e.current}const _k=typeof window<"u",h$=_k?y.useLayoutEffect:y.useEffect,Lx=y.createContext(null);function Pk(t,e){t.indexOf(e)===-1&&t.push(e)}function Ik(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const io=(t,e,n)=>n>e?e:n<t?t:n;let N0=()=>{};const ao={},f$=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function m$(t){return typeof t=="object"&&t!==null}const p$=t=>/^0[^.\s]+$/u.test(t);function Rk(t){let e;return()=>(e===void 0&&(e=t()),e)}const ei=t=>t,yse=(t,e)=>n=>e(t(n)),jm=(...t)=>t.reduce(yse),zf=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class Mk{constructor(){this.subscriptions=[]}add(e){return Pk(this.subscriptions,e),()=>Ik(this.subscriptions,e)}notify(e,n,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,s);else for(let i=0;i<r;i++){const o=this.subscriptions[i];o&&o(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const fa=t=>t*1e3,ma=t=>t/1e3;function g$(t,e){return e?t*(1e3/e):0}const x$=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,vse=1e-7,bse=12;function wse(t,e,n,s,r){let i,o,l=0;do o=e+(n-e)/2,i=x$(o,s,r)-t,i>0?n=o:e=o;while(Math.abs(i)>vse&&++l<bse);return o}function Sm(t,e,n,s){if(t===e&&n===s)return ei;const r=i=>wse(i,0,1,t,n);return i=>i===0||i===1?i:x$(r(i),e,s)}const y$=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,v$=t=>e=>1-t(1-e),b$=Sm(.33,1.53,.69,.99),Dk=v$(b$),w$=y$(Dk),N$=t=>(t*=2)<1?.5*Dk(t):.5*(2-Math.pow(2,-10*(t-1))),$k=t=>1-Math.sin(Math.acos(t)),k$=v$($k),j$=y$($k),Nse=Sm(.42,0,1,1),kse=Sm(0,0,.58,1),S$=Sm(.42,0,.58,1),jse=t=>Array.isArray(t)&&typeof t[0]!="number",A$=t=>Array.isArray(t)&&typeof t[0]=="number",pE={linear:ei,easeIn:Nse,easeInOut:S$,easeOut:kse,circIn:$k,circInOut:j$,circOut:k$,backIn:Dk,backInOut:w$,backOut:b$,anticipate:N$},Sse=t=>typeof t=="string",gE=t=>{if(A$(t)){N0(t.length===4);const[e,n,s,r]=t;return Sm(e,n,s,r)}else if(Sse(t))return N0(pE[t]!==void 0),pE[t];return t},hp=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],xE={value:null,addProjectionMetrics:null};function Ase(t,e){let n=new Set,s=new Set,r=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function d(h){o.has(h)&&(u.schedule(h),t()),c++,h(l)}const u={schedule:(h,f=!1,m=!1)=>{const p=m&&r?n:s;return f&&o.add(h),p.has(h)||p.add(h),h},cancel:h=>{s.delete(h),o.delete(h)},process:h=>{if(l=h,r){i=!0;return}r=!0,[n,s]=[s,n],n.forEach(d),e&&xE.value&&xE.value.frameloop[e].push(c),c=0,n.clear(),r=!1,i&&(i=!1,u.process(h))}};return u}const Tse=40;function T$(t,e){let n=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=hp.reduce((N,E)=>(N[E]=Ase(i,e?E:void 0),N),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:u,update:h,preRender:f,render:m,postRender:x}=o,p=()=>{const N=ao.useManualTiming?r.timestamp:performance.now();n=!1,ao.useManualTiming||(r.delta=s?1e3/60:Math.max(Math.min(N-r.timestamp,Tse),1)),r.timestamp=N,r.isProcessing=!0,l.process(r),c.process(r),d.process(r),u.process(r),h.process(r),f.process(r),m.process(r),x.process(r),r.isProcessing=!1,n&&e&&(s=!1,t(p))},w=()=>{n=!0,s=!0,r.isProcessing||t(p)};return{schedule:hp.reduce((N,E)=>{const T=o[E];return N[E]=(R,$=!1,M=!1)=>(n||w(),T.schedule(R,$,M)),N},{}),cancel:N=>{for(let E=0;E<hp.length;E++)o[hp[E]].cancel(N)},state:r,steps:o}}const{schedule:jn,cancel:ul,state:us,steps:Dv}=T$(typeof requestAnimationFrame<"u"?requestAnimationFrame:ei,!0);let hg;function Cse(){hg=void 0}const cr={now:()=>(hg===void 0&&cr.set(us.isProcessing||ao.useManualTiming?us.timestamp:performance.now()),hg),set:t=>{hg=t,queueMicrotask(Cse)}},C$=t=>e=>typeof e=="string"&&e.startsWith(t),Ok=C$("--"),Ese=C$("var(--"),Fk=t=>Ese(t)?_se.test(t.split("/*")[0].trim()):!1,_se=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Du={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Hf={...Du,transform:t=>io(0,1,t)},fp={...Du,default:1},Gh=t=>Math.round(t*1e5)/1e5,Lk=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Pse(t){return t==null}const Ise=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Bk=(t,e)=>n=>!!(typeof n=="string"&&Ise.test(n)&&n.startsWith(t)||e&&!Pse(n)&&Object.prototype.hasOwnProperty.call(n,e)),E$=(t,e,n)=>s=>{if(typeof s!="string")return s;const[r,i,o,l]=s.match(Lk);return{[t]:parseFloat(r),[e]:parseFloat(i),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Rse=t=>io(0,255,t),$v={...Du,transform:t=>Math.round(Rse(t))},Xl={test:Bk("rgb","red"),parse:E$("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+$v.transform(t)+", "+$v.transform(e)+", "+$v.transform(n)+", "+Gh(Hf.transform(s))+")"};function Mse(t){let e="",n="",s="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,s+=s,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const g1={test:Bk("#"),parse:Mse,transform:Xl.transform},Am=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),No=Am("deg"),pa=Am("%"),ft=Am("px"),Dse=Am("vh"),$se=Am("vw"),yE={...pa,parse:t=>pa.parse(t)/100,transform:t=>pa.transform(t*100)},vd={test:Bk("hsl","hue"),parse:E$("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+pa.transform(Gh(e))+", "+pa.transform(Gh(n))+", "+Gh(Hf.transform(s))+")"},Ns={test:t=>Xl.test(t)||g1.test(t)||vd.test(t),parse:t=>Xl.test(t)?Xl.parse(t):vd.test(t)?vd.parse(t):g1.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Xl.transform(t):vd.transform(t)},Ose=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Fse(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Lk))==null?void 0:e.length)||0)+(((n=t.match(Ose))==null?void 0:n.length)||0)>0}const _$="number",P$="color",Lse="var",Bse="var(",vE="${}",Use=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Wf(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},r=[];let i=0;const l=e.replace(Use,c=>(Ns.test(c)?(s.color.push(i),r.push(P$),n.push(Ns.parse(c))):c.startsWith(Bse)?(s.var.push(i),r.push(Lse),n.push(c)):(s.number.push(i),r.push(_$),n.push(parseFloat(c))),++i,vE)).split(vE);return{values:n,split:l,indexes:s,types:r}}function I$(t){return Wf(t).values}function R$(t){const{split:e,types:n}=Wf(t),s=e.length;return r=>{let i="";for(let o=0;o<s;o++)if(i+=e[o],r[o]!==void 0){const l=n[o];l===_$?i+=Gh(r[o]):l===P$?i+=Ns.transform(r[o]):i+=r[o]}return i}}const Vse=t=>typeof t=="number"?0:t;function zse(t){const e=I$(t);return R$(t)(e.map(Vse))}const hl={test:Fse,parse:I$,createTransformer:R$,getAnimatableNone:zse};function Ov(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Hse({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let r=0,i=0,o=0;if(!e)r=i=o=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;r=Ov(c,l,t+1/3),i=Ov(c,l,t),o=Ov(c,l,t-1/3)}return{red:Math.round(r*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:s}}function k0(t,e){return n=>n>0?e:t}const Nn=(t,e,n)=>t+(e-t)*n,Fv=(t,e,n)=>{const s=t*t,r=n*(e*e-s)+s;return r<0?0:Math.sqrt(r)},Wse=[g1,Xl,vd],qse=t=>Wse.find(e=>e.test(t));function bE(t){const e=qse(t);if(!e)return!1;let n=e.parse(t);return e===vd&&(n=Hse(n)),n}const wE=(t,e)=>{const n=bE(t),s=bE(e);if(!n||!s)return k0(t,e);const r={...n};return i=>(r.red=Fv(n.red,s.red,i),r.green=Fv(n.green,s.green,i),r.blue=Fv(n.blue,s.blue,i),r.alpha=Nn(n.alpha,s.alpha,i),Xl.transform(r))},x1=new Set(["none","hidden"]);function Kse(t,e){return x1.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Gse(t,e){return n=>Nn(t,e,n)}function Uk(t){return typeof t=="number"?Gse:typeof t=="string"?Fk(t)?k0:Ns.test(t)?wE:Jse:Array.isArray(t)?M$:typeof t=="object"?Ns.test(t)?wE:Yse:k0}function M$(t,e){const n=[...t],s=n.length,r=t.map((i,o)=>Uk(i)(i,e[o]));return i=>{for(let o=0;o<s;o++)n[o]=r[o](i);return n}}function Yse(t,e){const n={...t,...e},s={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(s[r]=Uk(t[r])(t[r],e[r]));return r=>{for(const i in s)n[i]=s[i](r);return n}}function Xse(t,e){const n=[],s={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const i=e.types[r],o=t.indexes[i][s[i]],l=t.values[o]??0;n[r]=l,s[i]++}return n}const Jse=(t,e)=>{const n=hl.createTransformer(e),s=Wf(t),r=Wf(e);return s.indexes.var.length===r.indexes.var.length&&s.indexes.color.length===r.indexes.color.length&&s.indexes.number.length>=r.indexes.number.length?x1.has(t)&&!r.values.length||x1.has(e)&&!s.values.length?Kse(t,e):jm(M$(Xse(s,r),r.values),n):k0(t,e)};function D$(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Nn(t,e,n):Uk(t)(t,e)}const Qse=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>jn.update(e,n),stop:()=>ul(e),now:()=>us.isProcessing?us.timestamp:cr.now()}},$$=(t,e,n=10)=>{let s="";const r=Math.max(Math.round(e/n),2);for(let i=0;i<r;i++)s+=t(i/(r-1))+", ";return`linear(${s.substring(0,s.length-2)})`},j0=2e4;function Vk(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<j0;)e+=n,s=t.next(e);return e>=j0?1/0:e}function Zse(t,e=100,n){const s=n({...t,keyframes:[0,e]}),r=Math.min(Vk(s),j0);return{type:"keyframes",ease:i=>s.next(r*i).value/e,duration:ma(r)}}const ere=5;function O$(t,e,n){const s=Math.max(e-ere,0);return g$(n-t(s),e-s)}const En={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Lv=.001;function tre({duration:t=En.duration,bounce:e=En.bounce,velocity:n=En.velocity,mass:s=En.mass}){let r,i,o=1-e;o=io(En.minDamping,En.maxDamping,o),t=io(En.minDuration,En.maxDuration,ma(t)),o<1?(r=d=>{const u=d*o,h=u*t,f=u-n,m=y1(d,o),x=Math.exp(-h);return Lv-f/m*x},i=d=>{const h=d*o*t,f=h*n+n,m=Math.pow(o,2)*Math.pow(d,2)*t,x=Math.exp(-h),p=y1(Math.pow(d,2),o);return(-r(d)+Lv>0?-1:1)*((f-m)*x)/p}):(r=d=>{const u=Math.exp(-d*t),h=(d-n)*t+1;return-Lv+u*h},i=d=>{const u=Math.exp(-d*t),h=(n-d)*(t*t);return u*h});const l=5/t,c=sre(r,i,l);if(t=fa(t),isNaN(c))return{stiffness:En.stiffness,damping:En.damping,duration:t};{const d=Math.pow(c,2)*s;return{stiffness:d,damping:o*2*Math.sqrt(s*d),duration:t}}}const nre=12;function sre(t,e,n){let s=n;for(let r=1;r<nre;r++)s=s-t(s)/e(s);return s}function y1(t,e){return t*Math.sqrt(1-e*e)}const rre=["duration","bounce"],ire=["stiffness","damping","mass"];function NE(t,e){return e.some(n=>t[n]!==void 0)}function are(t){let e={velocity:En.velocity,stiffness:En.stiffness,damping:En.damping,mass:En.mass,isResolvedFromDuration:!1,...t};if(!NE(t,ire)&&NE(t,rre))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),r=s*s,i=2*io(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:En.mass,stiffness:r,damping:i}}else{const n=tre(t);e={...e,...n,mass:En.mass},e.isResolvedFromDuration=!0}return e}function S0(t=En.visualDuration,e=En.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:r}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:d,mass:u,duration:h,velocity:f,isResolvedFromDuration:m}=are({...n,velocity:-ma(n.velocity||0)}),x=f||0,p=d/(2*Math.sqrt(c*u)),w=o-i,b=ma(Math.sqrt(c/u)),v=Math.abs(w)<5;s||(s=v?En.restSpeed.granular:En.restSpeed.default),r||(r=v?En.restDelta.granular:En.restDelta.default);let N;if(p<1){const T=y1(b,p);N=R=>{const $=Math.exp(-p*b*R);return o-$*((x+p*b*w)/T*Math.sin(T*R)+w*Math.cos(T*R))}}else if(p===1)N=T=>o-Math.exp(-b*T)*(w+(x+b*w)*T);else{const T=b*Math.sqrt(p*p-1);N=R=>{const $=Math.exp(-p*b*R),M=Math.min(T*R,300);return o-$*((x+p*b*w)*Math.sinh(M)+T*w*Math.cosh(M))/T}}const E={calculatedDuration:m&&h||null,next:T=>{const R=N(T);if(m)l.done=T>=h;else{let $=T===0?x:0;p<1&&($=T===0?fa(x):O$(N,T,R));const M=Math.abs($)<=s,L=Math.abs(o-R)<=r;l.done=M&&L}return l.value=l.done?o:R,l},toString:()=>{const T=Math.min(Vk(E),j0),R=$$($=>E.next(T*$).value,T,30);return T+"ms "+R},toTransition:()=>{}};return E}S0.applyToOptions=t=>{const e=Zse(t,100,S0);return t.ease=e.ease,t.duration=fa(e.duration),t.type="keyframes",t};function v1({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const h=t[0],f={done:!1,value:h},m=M=>l!==void 0&&M<l||c!==void 0&&M>c,x=M=>l===void 0?c:c===void 0||Math.abs(l-M)<Math.abs(c-M)?l:c;let p=n*e;const w=h+p,b=o===void 0?w:o(w);b!==w&&(p=b-h);const v=M=>-p*Math.exp(-M/s),N=M=>b+v(M),E=M=>{const L=v(M),U=N(M);f.done=Math.abs(L)<=d,f.value=f.done?b:U};let T,R;const $=M=>{m(f.value)&&(T=M,R=S0({keyframes:[f.value,x(f.value)],velocity:O$(N,M,f.value),damping:r,stiffness:i,restDelta:d,restSpeed:u}))};return $(0),{calculatedDuration:null,next:M=>{let L=!1;return!R&&T===void 0&&(L=!0,E(M),$(M)),T!==void 0&&M>=T?R.next(M-T):(!L&&E(M),f)}}}function ore(t,e,n){const s=[],r=n||ao.mix||D$,i=t.length-1;for(let o=0;o<i;o++){let l=r(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||ei:e;l=jm(c,l)}s.push(l)}return s}function lre(t,e,{clamp:n=!0,ease:s,mixer:r}={}){const i=t.length;if(N0(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=ore(e,s,r),c=l.length,d=u=>{if(o&&u<t[0])return e[0];let h=0;if(c>1)for(;h<t.length-2&&!(u<t[h+1]);h++);const f=zf(t[h],t[h+1],u);return l[h](f)};return n?u=>d(io(t[0],t[i-1],u)):d}function cre(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const r=zf(0,e,s);t.push(Nn(n,1,r))}}function dre(t){const e=[0];return cre(e,t.length-1),e}function ure(t,e){return t.map(n=>n*e)}function hre(t,e){return t.map(()=>e||S$).splice(0,t.length-1)}function Yh({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const r=jse(s)?s.map(gE):gE(s),i={done:!1,value:e[0]},o=ure(n&&n.length===e.length?n:dre(e),t),l=lre(o,e,{ease:Array.isArray(r)?r:hre(e,r)});return{calculatedDuration:t,next:c=>(i.value=l(c),i.done=c>=t,i)}}const fre=t=>t!==null;function zk(t,{repeat:e,repeatType:n="loop"},s,r=1){const i=t.filter(fre),l=r<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!l||s===void 0?i[l]:s}const mre={decay:v1,inertia:v1,tween:Yh,keyframes:Yh,spring:S0};function F$(t){typeof t.type=="string"&&(t.type=mre[t.type])}class Hk{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const pre=t=>t/100;class Wk extends Hk{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(n=!0)=>{var s,r;if(n){const{motionValue:i}=this.options;i&&i.updatedAt!==cr.now()&&this.tick(cr.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(s=this.options).onStop)==null||r.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;F$(e);const{type:n=Yh,repeat:s=0,repeatDelay:r=0,repeatType:i,velocity:o=0}=e;let{keyframes:l}=e;const c=n||Yh;c!==Yh&&typeof l[0]!="number"&&(this.mixKeyframes=jm(pre,D$(l[0],l[1])),l=[0,100]);const d=c({...e,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=Vk(d));const{calculatedDuration:u}=d;this.calculatedDuration=u,this.resolvedDuration=u+r,this.totalDuration=this.resolvedDuration*(s+1)-r,this.generator=d}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:r,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return s.next(0);const{delay:d=0,keyframes:u,repeat:h,repeatType:f,repeatDelay:m,type:x,onUpdate:p,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const b=this.currentTime-d*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?b<0:b>r;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let N=this.currentTime,E=s;if(h){const M=Math.min(this.currentTime,r)/l;let L=Math.floor(M),U=M%1;!U&&M>=1&&(U=1),U===1&&L--,L=Math.min(L,h+1),!!(L%2)&&(f==="reverse"?(U=1-U,m&&(U-=m/l)):f==="mirror"&&(E=o)),N=io(0,1,U)*l}const T=v?{done:!1,value:u[0]}:E.next(N);i&&(T.value=i(T.value));let{done:R}=T;!v&&c!==null&&(R=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const $=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&R);return $&&x!==v1&&(T.value=zk(u,this.options,w,this.speed)),p&&p(T.value),$&&this.finish(),T}then(e,n){return this.finished.then(e,n)}get duration(){return ma(this.calculatedDuration)}get time(){return ma(this.currentTime)}set time(e){var n;e=fa(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(cr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ma(this.currentTime))}play(){var r,i;if(this.isStopped)return;const{driver:e=Qse,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(r=this.options).onPlay)==null||i.call(r);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(cr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function gre(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Jl=t=>t*180/Math.PI,b1=t=>{const e=Jl(Math.atan2(t[1],t[0]));return w1(e)},xre={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:b1,rotateZ:b1,skewX:t=>Jl(Math.atan(t[1])),skewY:t=>Jl(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},w1=t=>(t=t%360,t<0&&(t+=360),t),kE=b1,jE=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),SE=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),yre={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:jE,scaleY:SE,scale:t=>(jE(t)+SE(t))/2,rotateX:t=>w1(Jl(Math.atan2(t[6],t[5]))),rotateY:t=>w1(Jl(Math.atan2(-t[2],t[0]))),rotateZ:kE,rotate:kE,skewX:t=>Jl(Math.atan(t[4])),skewY:t=>Jl(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function N1(t){return t.includes("scale")?1:0}function k1(t,e){if(!t||t==="none")return N1(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,r;if(n)s=yre,r=n;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=xre,r=l}if(!r)return N1(e);const i=s[e],o=r[1].split(",").map(bre);return typeof i=="function"?i(o):o[i]}const vre=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return k1(n,e)};function bre(t){return parseFloat(t.trim())}const $u=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ou=new Set($u),AE=t=>t===Du||t===ft,wre=new Set(["x","y","z"]),Nre=$u.filter(t=>!wre.has(t));function kre(t){const e=[];return Nre.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const ac={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>k1(e,"x"),y:(t,{transform:e})=>k1(e,"y")};ac.translateX=ac.x;ac.translateY=ac.y;const oc=new Set;let j1=!1,S1=!1,A1=!1;function L$(){if(S1){const t=Array.from(oc).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const r=kre(s);r.length&&(n.set(s,r),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const r=n.get(s);r&&r.forEach(([i,o])=>{var l;(l=s.getValue(i))==null||l.set(o)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}S1=!1,j1=!1,oc.forEach(t=>t.complete(A1)),oc.clear()}function B$(){oc.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(S1=!0)})}function jre(){A1=!0,B$(),L$(),A1=!1}class qk{constructor(e,n,s,r,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=r,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(oc.add(this),j1||(j1=!0,jn.read(B$),jn.resolveKeyframes(L$))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:r}=this;if(e[0]===null){const i=r==null?void 0:r.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(s&&n){const l=s.readValue(n,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),r&&i===void 0&&r.set(e[0])}gre(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),oc.delete(this)}cancel(){this.state==="scheduled"&&(oc.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Sre=t=>t.startsWith("--");function Are(t,e,n){Sre(e)?t.style.setProperty(e,n):t.style[e]=n}const Tre=Rk(()=>window.ScrollTimeline!==void 0),Cre={};function Ere(t,e){const n=Rk(t);return()=>Cre[e]??n()}const U$=Ere(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),wh=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,TE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:wh([0,.65,.55,1]),circOut:wh([.55,0,1,.45]),backIn:wh([.31,.01,.66,-.59]),backOut:wh([.33,1.53,.69,.99])};function V$(t,e){if(t)return typeof t=="function"?U$()?$$(t,e):"ease-out":A$(t)?wh(t):Array.isArray(t)?t.map(n=>V$(n,e)||TE.easeOut):TE[t]}function _re(t,e,n,{delay:s=0,duration:r=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const u={[e]:n};c&&(u.offset=c);const h=V$(l,r);Array.isArray(h)&&(u.easing=h);const f={delay:s,duration:r,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return d&&(f.pseudoElement=d),t.animate(u,f)}function z$(t){return typeof t=="function"&&"applyToOptions"in t}function Pre({type:t,...e}){return z$(t)&&U$()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Ire extends Hk{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:r,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,N0(typeof e.type!="string");const d=Pre(e);this.animation=_re(n,s,r,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=zk(r,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(u):Are(n,s,u),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,s;const e=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return ma(Number(e))}get time(){return ma(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=fa(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Tre()?(this.animation.timeline=e,ei):n(this)}}const H$={anticipate:N$,backInOut:w$,circInOut:j$};function Rre(t){return t in H$}function Mre(t){typeof t.ease=="string"&&Rre(t.ease)&&(t.ease=H$[t.ease])}const CE=10;class Dre extends Ire{constructor(e){Mre(e),F$(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:r,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const l=new Wk({...o,autoplay:!1}),c=fa(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-CE).value,l.sample(c).value,CE),l.stop()}}const EE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(hl.test(t)||t==="0")&&!t.startsWith("url("));function $re(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Ore(t,e,n,s){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=EE(r,e),l=EE(i,e);return!o||!l?!1:$re(t)||(n==="spring"||z$(n))&&s}function Kk(t){return m$(t)&&"offsetHeight"in t}const Fre=new Set(["opacity","clipPath","filter","transform"]),Lre=Rk(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Bre(t){var d;const{motionValue:e,name:n,repeatDelay:s,repeatType:r,damping:i,type:o}=t;if(!Kk((d=e==null?void 0:e.owner)==null?void 0:d.current))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return Lre()&&n&&Fre.has(n)&&(n!=="transform"||!c)&&!l&&!s&&r!=="mirror"&&i!==0&&o!=="inertia"}const Ure=40;class Vre extends Hk{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:u,...h}){var x;super(),this.stop=()=>{var p,w;this._animation&&(this._animation.stop(),(p=this.stopTimeline)==null||p.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=cr.now();const f={autoplay:e,delay:n,type:s,repeat:r,repeatDelay:i,repeatType:o,name:c,motionValue:d,element:u,...h},m=(u==null?void 0:u.KeyframeResolver)||qk;this.keyframeResolver=new m(l,(p,w,b)=>this.onKeyframesResolved(p,w,f,!b),c,d,u),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(e,n,s,r){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:u}=s;this.resolvedAt=cr.now(),Ore(e,i,o,l)||((ao.instantAnimations||!c)&&(u==null||u(zk(e,s,n))),e[0]=e[e.length-1],s.duration=0,s.repeat=0);const f={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>Ure?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},m=!d&&Bre(f)?new Dre({...f,element:f.motionValue.owner.current}):new Wk(f);m.finished.then(()=>this.notifyFinished()).catch(ei),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),jre()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const zre=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Hre(t){const e=zre.exec(t);if(!e)return[,];const[,n,s,r]=e;return[`--${n??s}`,r]}function W$(t,e,n=1){const[s,r]=Hre(t);if(!s)return;const i=window.getComputedStyle(e).getPropertyValue(s);if(i){const o=i.trim();return f$(o)?parseFloat(o):o}return Fk(r)?W$(r,e,n+1):r}function Gk(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const q$=new Set(["width","height","top","left","right","bottom",...$u]),Wre={test:t=>t==="auto",parse:t=>t},K$=t=>e=>e.test(t),G$=[Du,ft,pa,No,$se,Dse,Wre],_E=t=>G$.find(K$(t));function qre(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||p$(t):!0}const Kre=new Set(["brightness","contrast","saturate","opacity"]);function Gre(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Lk)||[];if(!s)return t;const r=n.replace(s,"");let i=Kre.has(e)?1:0;return s!==n&&(i*=100),e+"("+i+r+")"}const Yre=/\b([a-z-]*)\(.*?\)/gu,T1={...hl,getAnimatableNone:t=>{const e=t.match(Yre);return e?e.map(Gre).join(" "):t}},PE={...Du,transform:Math.round},Xre={rotate:No,rotateX:No,rotateY:No,rotateZ:No,scale:fp,scaleX:fp,scaleY:fp,scaleZ:fp,skew:No,skewX:No,skewY:No,distance:ft,translateX:ft,translateY:ft,translateZ:ft,x:ft,y:ft,z:ft,perspective:ft,transformPerspective:ft,opacity:Hf,originX:yE,originY:yE,originZ:ft},Yk={borderWidth:ft,borderTopWidth:ft,borderRightWidth:ft,borderBottomWidth:ft,borderLeftWidth:ft,borderRadius:ft,radius:ft,borderTopLeftRadius:ft,borderTopRightRadius:ft,borderBottomRightRadius:ft,borderBottomLeftRadius:ft,width:ft,maxWidth:ft,height:ft,maxHeight:ft,top:ft,right:ft,bottom:ft,left:ft,padding:ft,paddingTop:ft,paddingRight:ft,paddingBottom:ft,paddingLeft:ft,margin:ft,marginTop:ft,marginRight:ft,marginBottom:ft,marginLeft:ft,backgroundPositionX:ft,backgroundPositionY:ft,...Xre,zIndex:PE,fillOpacity:Hf,strokeOpacity:Hf,numOctaves:PE},Jre={...Yk,color:Ns,backgroundColor:Ns,outlineColor:Ns,fill:Ns,stroke:Ns,borderColor:Ns,borderTopColor:Ns,borderRightColor:Ns,borderBottomColor:Ns,borderLeftColor:Ns,filter:T1,WebkitFilter:T1},Y$=t=>Jre[t];function X$(t,e){let n=Y$(t);return n!==T1&&(n=hl),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Qre=new Set(["auto","none","0"]);function Zre(t,e,n){let s=0,r;for(;s<t.length&&!r;){const i=t[s];typeof i=="string"&&!Qre.has(i)&&Wf(i).values.length&&(r=t[s]),s++}if(r&&n)for(const i of e)t[i]=X$(n,r)}class eie extends qk{constructor(e,n,s,r,i){super(e,n,s,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),Fk(d))){const u=W$(d,n.current);u!==void 0&&(e[c]=u),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!q$.has(s)||e.length!==2)return;const[r,i]=e,o=_E(r),l=_E(i);if(o!==l)if(AE(o)&&AE(l))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else ac[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let r=0;r<e.length;r++)(e[r]===null||qre(e[r]))&&s.push(r);s.length&&Zre(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ac[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(s,r).jump(r,!1)}measureEndState(){var l;const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const r=e.getValue(n);r&&r.jump(this.measuredOrigin,!1);const i=s.length-1,o=s[i];s[i]=ac[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function tie(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const r=document.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t)}const IE=30,nie=t=>!isNaN(parseFloat(t));class sie{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,r=!0)=>{var o,l;const i=cr.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty();r&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=cr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=nie(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Mk);const s=this.events[e].add(n);return e==="change"?()=>{s(),jn.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=cr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>IE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,IE);return g$(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function lu(t,e){return new sie(t,e)}const J$=(t,e)=>e&&typeof t=="number"?e.transform(t):t,{schedule:Xk,cancel:Yxe}=T$(queueMicrotask,!1),gi={x:!1,y:!1};function Q$(){return gi.x||gi.y}function rie(t){return t==="x"||t==="y"?gi[t]?null:(gi[t]=!0,()=>{gi[t]=!1}):gi.x||gi.y?null:(gi.x=gi.y=!0,()=>{gi.x=gi.y=!1})}function Z$(t,e){const n=tie(t),s=new AbortController,r={passive:!0,...e,signal:s.signal};return[n,r,()=>s.abort()]}function RE(t){return!(t.pointerType==="touch"||Q$())}function iie(t,e,n={}){const[s,r,i]=Z$(t,n),o=l=>{if(!RE(l))return;const{target:c}=l,d=e(c,l);if(typeof d!="function"||!c)return;const u=h=>{RE(h)&&(d(h),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,r)};return s.forEach(l=>{l.addEventListener("pointerenter",o,r)}),i}const eO=(t,e)=>e?t===e?!0:eO(t,e.parentElement):!1,Jk=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,aie=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function oie(t){return aie.has(t.tagName)||t.tabIndex!==-1}const fg=new WeakSet;function ME(t){return e=>{e.key==="Enter"&&t(e)}}function Bv(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const lie=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=ME(()=>{if(fg.has(n))return;Bv(n,"down");const r=ME(()=>{Bv(n,"up")}),i=()=>Bv(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function DE(t){return Jk(t)&&!Q$()}function cie(t,e,n={}){const[s,r,i]=Z$(t,n),o=l=>{const c=l.currentTarget;if(!DE(l))return;fg.add(c);const d=e(c,l),u=(m,x)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),fg.has(c)&&fg.delete(c),DE(m)&&typeof d=="function"&&d(m,{success:x})},h=m=>{u(m,c===window||c===document||n.useGlobalTarget||eO(c,m.target))},f=m=>{u(m,!1)};window.addEventListener("pointerup",h,r),window.addEventListener("pointercancel",f,r)};return s.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,r),Kk(l)&&(l.addEventListener("focus",d=>lie(d,r)),!oie(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function tO(t){return m$(t)&&"ownerSVGElement"in t}function die(t){return tO(t)&&t.tagName==="svg"}const Es=t=>!!(t&&t.getVelocity),uie=[...G$,Ns,hl],hie=t=>uie.find(K$(t)),Qk=y.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class fie extends y.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,r=Kk(s)&&s.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=r-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function mie({children:t,isPresent:e,anchorX:n}){const s=y.useId(),r=y.useRef(null),i=y.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=y.useContext(Qk);return y.useInsertionEffect(()=>{const{width:l,height:c,top:d,left:u,right:h}=i.current;if(e||!r.current||!l||!c)return;const f=n==="left"?`left: ${u}`:`right: ${h}`;r.current.dataset.motionPopId=s;const m=document.createElement("style");return o&&(m.nonce=o),document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${f}px !important;
            top: ${d}px !important;
          }
        `),()=>{document.head.contains(m)&&document.head.removeChild(m)}},[e]),a.jsx(fie,{isPresent:e,childRef:r,sizeRef:i,children:y.cloneElement(t,{ref:r})})}const pie=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:r,presenceAffectsLayout:i,mode:o,anchorX:l})=>{const c=Ek(gie),d=y.useId();let u=!0,h=y.useMemo(()=>(u=!1,{id:d,initial:e,isPresent:n,custom:r,onExitComplete:f=>{c.set(f,!0);for(const m of c.values())if(!m)return;s&&s()},register:f=>(c.set(f,!1),()=>c.delete(f))}),[n,c,s]);return i&&u&&(h={...h}),y.useMemo(()=>{c.forEach((f,m)=>c.set(m,!1))},[n]),y.useEffect(()=>{!n&&!c.size&&s&&s()},[n]),o==="popLayout"&&(t=a.jsx(mie,{isPresent:n,anchorX:l,children:t})),a.jsx(Lx.Provider,{value:h,children:t})};function gie(){return new Map}function nO(t=!0){const e=y.useContext(Lx);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:r}=e,i=y.useId();y.useEffect(()=>{if(t)return r(i)},[t]);const o=y.useCallback(()=>t&&s&&s(i),[i,s,t]);return!n&&s?[!1,o]:[!0]}const mp=t=>t.key||"";function $E(t){const e=[];return y.Children.forEach(t,n=>{y.isValidElement(n)&&e.push(n)}),e}const Zk=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:r=!0,mode:i="sync",propagate:o=!1,anchorX:l="left"})=>{const[c,d]=nO(o),u=y.useMemo(()=>$E(t),[t]),h=o&&!c?[]:u.map(mp),f=y.useRef(!0),m=y.useRef(u),x=Ek(()=>new Map),[p,w]=y.useState(u),[b,v]=y.useState(u);h$(()=>{f.current=!1,m.current=u;for(let T=0;T<b.length;T++){const R=mp(b[T]);h.includes(R)?x.delete(R):x.get(R)!==!0&&x.set(R,!1)}},[b,h.length,h.join("-")]);const N=[];if(u!==p){let T=[...u];for(let R=0;R<b.length;R++){const $=b[R],M=mp($);h.includes(M)||(T.splice(R,0,$),N.push($))}return i==="wait"&&N.length&&(T=N),v($E(T)),w(u),null}const{forceRender:E}=y.useContext(Ck);return a.jsx(a.Fragment,{children:b.map(T=>{const R=mp(T),$=o&&!c?!1:u===b||h.includes(R),M=()=>{if(x.has(R))x.set(R,!0);else return;let L=!0;x.forEach(U=>{U||(L=!1)}),L&&(E==null||E(),v(m.current),o&&(d==null||d()),s&&s())};return a.jsx(pie,{isPresent:$,initial:!f.current||n?void 0:!1,custom:e,presenceAffectsLayout:r,mode:i,onExitComplete:$?void 0:M,anchorX:l,children:T},R)})})},sO=y.createContext({strict:!1}),OE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},cu={};for(const t in OE)cu[t]={isEnabled:e=>OE[t].some(n=>!!e[n])};function xie(t){for(const e in t)cu[e]={...cu[e],...t[e]}}const yie=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function A0(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||yie.has(t)}let rO=t=>!A0(t);function vie(t){t&&(rO=e=>e.startsWith("on")?!A0(e):t(e))}try{vie(require("@emotion/is-prop-valid").default)}catch{}function bie(t,e,n){const s={};for(const r in t)r==="values"&&typeof t.values=="object"||(rO(r)||n===!0&&A0(r)||!e&&!A0(r)||t.draggable&&r.startsWith("onDrag"))&&(s[r]=t[r]);return s}function wie(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...s)=>t(...s);return new Proxy(n,{get:(s,r)=>r==="create"?t:(e.has(r)||e.set(r,t(r)),e.get(r))})}const Bx=y.createContext({});function Ux(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function qf(t){return typeof t=="string"||Array.isArray(t)}const ej=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],tj=["initial",...ej];function Vx(t){return Ux(t.animate)||tj.some(e=>qf(t[e]))}function iO(t){return!!(Vx(t)||t.variants)}function Nie(t,e){if(Vx(t)){const{initial:n,animate:s}=t;return{initial:n===!1||qf(n)?n:void 0,animate:qf(s)?s:void 0}}return t.inherit!==!1?e:{}}function kie(t){const{initial:e,animate:n}=Nie(t,y.useContext(Bx));return y.useMemo(()=>({initial:e,animate:n}),[FE(e),FE(n)])}function FE(t){return Array.isArray(t)?t.join(" "):t}const jie=Symbol.for("motionComponentSymbol");function bd(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Sie(t,e,n){return y.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):bd(n)&&(n.current=s))},[e])}const nj=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Aie="framerAppearId",aO="data-"+nj(Aie),oO=y.createContext({});function Tie(t,e,n,s,r){var p,w;const{visualElement:i}=y.useContext(Bx),o=y.useContext(sO),l=y.useContext(Lx),c=y.useContext(Qk).reducedMotion,d=y.useRef(null);s=s||o.renderer,!d.current&&s&&(d.current=s(t,{visualState:e,parent:i,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const u=d.current,h=y.useContext(oO);u&&!u.projection&&r&&(u.type==="html"||u.type==="svg")&&Cie(d.current,n,r,h);const f=y.useRef(!1);y.useInsertionEffect(()=>{u&&f.current&&u.update(n,l)});const m=n[aO],x=y.useRef(!!m&&!((p=window.MotionHandoffIsComplete)!=null&&p.call(window,m))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,m)));return h$(()=>{u&&(f.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),Xk.render(u.render),x.current&&u.animationState&&u.animationState.animateChanges())}),y.useEffect(()=>{u&&(!x.current&&u.animationState&&u.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)==null||b.call(window,m)}),x.current=!1))}),u}function Cie(t,e,n,s){const{layoutId:r,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:lO(t.parent)),t.projection.setOptions({layoutId:r,layout:i,alwaysMeasureLayout:!!o||l&&bd(l),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:s,crossfade:u,layoutScroll:c,layoutRoot:d})}function lO(t){if(t)return t.options.allowProjection!==!1?t.projection:lO(t.parent)}function Eie({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:s,Component:r}){t&&xie(t);function i(l,c){let d;const u={...y.useContext(Qk),...l,layoutId:_ie(l)},{isStatic:h}=u,f=kie(l),m=s(l,h);if(!h&&_k){Pie();const x=Iie(u);d=x.MeasureLayout,f.visualElement=Tie(r,m,u,e,x.ProjectionNode)}return a.jsxs(Bx.Provider,{value:f,children:[d&&f.visualElement?a.jsx(d,{visualElement:f.visualElement,...u}):null,n(r,l,Sie(m,f.visualElement,c),m,h,f.visualElement)]})}i.displayName=`motion.${typeof r=="string"?r:`create(${r.displayName??r.name??""})`}`;const o=y.forwardRef(i);return o[jie]=r,o}function _ie({layoutId:t}){const e=y.useContext(Ck).id;return e&&t!==void 0?e+"-"+t:t}function Pie(t,e){y.useContext(sO).strict}function Iie(t){const{drag:e,layout:n}=cu;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const Kf={};function Rie(t){for(const e in t)Kf[e]=t[e],Ok(e)&&(Kf[e].isCSSVariable=!0)}function cO(t,{layout:e,layoutId:n}){return Ou.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Kf[t]||t==="opacity")}const Mie={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Die=$u.length;function $ie(t,e,n){let s="",r=!0;for(let i=0;i<Die;i++){const o=$u[i],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const d=J$(l,Yk[o]);if(!c){r=!1;const u=Mie[o]||o;s+=`${u}(${d}) `}n&&(e[o]=d)}}return s=s.trim(),n?s=n(e,r?"":s):r&&(s="none"),s}function sj(t,e,n){const{style:s,vars:r,transformOrigin:i}=t;let o=!1,l=!1;for(const c in e){const d=e[c];if(Ou.has(c)){o=!0;continue}else if(Ok(c)){r[c]=d;continue}else{const u=J$(d,Yk[c]);c.startsWith("origin")?(l=!0,i[c]=u):s[c]=u}}if(e.transform||(o||n?s.transform=$ie(e,t.transform,n):s.transform&&(s.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=i;s.transformOrigin=`${c} ${d} ${u}`}}const rj=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function dO(t,e,n){for(const s in e)!Es(e[s])&&!cO(s,n)&&(t[s]=e[s])}function Oie({transformTemplate:t},e){return y.useMemo(()=>{const n=rj();return sj(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Fie(t,e){const n=t.style||{},s={};return dO(s,n,t),Object.assign(s,Oie(t,e)),s}function Lie(t,e){const n={},s=Fie(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const Bie={offset:"stroke-dashoffset",array:"stroke-dasharray"},Uie={offset:"strokeDashoffset",array:"strokeDasharray"};function Vie(t,e,n=1,s=0,r=!0){t.pathLength=1;const i=r?Bie:Uie;t[i.offset]=ft.transform(-s);const o=ft.transform(e),l=ft.transform(n);t[i.array]=`${o} ${l}`}function uO(t,{attrX:e,attrY:n,attrScale:s,pathLength:r,pathSpacing:i=1,pathOffset:o=0,...l},c,d,u){if(sj(t,l,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:f}=t;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),s!==void 0&&(h.scale=s),r!==void 0&&Vie(h,r,i,o,!1)}const hO=()=>({...rj(),attrs:{}}),fO=t=>typeof t=="string"&&t.toLowerCase()==="svg";function zie(t,e,n,s){const r=y.useMemo(()=>{const i=hO();return uO(i,e,fO(s),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};dO(i,t.style,t),r.style={...i,...r.style}}return r}const Hie=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ij(t){return typeof t!="string"||t.includes("-")?!1:!!(Hie.indexOf(t)>-1||/[A-Z]/u.test(t))}function Wie(t=!1){return(n,s,r,{latestValues:i},o)=>{const c=(ij(n)?zie:Lie)(s,i,o,n),d=bie(s,typeof n=="string",t),u=n!==y.Fragment?{...d,...c,ref:r}:{},{children:h}=s,f=y.useMemo(()=>Es(h)?h.get():h,[h]);return y.createElement(n,{...u,children:f})}}function LE(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function aj(t,e,n,s){if(typeof e=="function"){const[r,i]=LE(s);e=e(n!==void 0?n:t.custom,r,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,i]=LE(s);e=e(n!==void 0?n:t.custom,r,i)}return e}function mg(t){return Es(t)?t.get():t}function qie({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,r){return{latestValues:Kie(n,s,r,t),renderState:e()}}const mO=t=>(e,n)=>{const s=y.useContext(Bx),r=y.useContext(Lx),i=()=>qie(t,e,s,r);return n?i():Ek(i)};function Kie(t,e,n,s){const r={},i=s(t,{});for(const f in i)r[f]=mg(i[f]);let{initial:o,animate:l}=t;const c=Vx(t),d=iO(t);e&&d&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const h=u?l:o;if(h&&typeof h!="boolean"&&!Ux(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const x=aj(t,f[m]);if(x){const{transitionEnd:p,transition:w,...b}=x;for(const v in b){let N=b[v];if(Array.isArray(N)){const E=u?N.length-1:0;N=N[E]}N!==null&&(r[v]=N)}for(const v in p)r[v]=p[v]}}}return r}function oj(t,e,n){var i;const{style:s}=t,r={};for(const o in s)(Es(s[o])||e.style&&Es(e.style[o])||cO(o,t)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(r[o]=s[o]);return r}const Gie={useVisualState:mO({scrapeMotionValuesFromProps:oj,createRenderState:rj})};function pO(t,e,n){const s=oj(t,e,n);for(const r in t)if(Es(t[r])||Es(e[r])){const i=$u.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;s[i]=t[r]}return s}const Yie={useVisualState:mO({scrapeMotionValuesFromProps:pO,createRenderState:hO})};function Xie(t,e){return function(s,{forwardMotionProps:r}={forwardMotionProps:!1}){const o={...ij(s)?Yie:Gie,preloadedFeatures:t,useRender:Wie(r),createVisualElement:e,Component:s};return Eie(o)}}function Gf(t,e,n){const s=t.getProps();return aj(s,e,n!==void 0?n:s.custom,t)}const C1=t=>Array.isArray(t);function Jie(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,lu(n))}function Qie(t){return C1(t)?t[t.length-1]||0:t}function Zie(t,e){const n=Gf(t,e);let{transitionEnd:s={},transition:r={},...i}=n||{};i={...i,...s};for(const o in i){const l=Qie(i[o]);Jie(t,o,l)}}function eae(t){return!!(Es(t)&&t.add)}function E1(t,e){const n=t.getValue("willChange");if(eae(n))return n.add(e);if(!n&&ao.WillChange){const s=new ao.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function gO(t){return t.props[aO]}const tae=t=>t!==null;function nae(t,{repeat:e,repeatType:n="loop"},s){const r=t.filter(tae),i=e&&n!=="loop"&&e%2===1?0:r.length-1;return!i||s===void 0?r[i]:s}const sae={type:"spring",stiffness:500,damping:25,restSpeed:10},rae=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),iae={type:"keyframes",duration:.8},aae={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},oae=(t,{keyframes:e})=>e.length>2?iae:Ou.has(t)?t.startsWith("scale")?rae(e[1]):sae:aae;function lae({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:r,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const lj=(t,e,n,s={},r,i)=>o=>{const l=Gk(s,t)||{},c=l.delay||s.delay||0;let{elapsed:d=0}=s;d=d-fa(c);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:f=>{e.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:i?void 0:r};lae(l)||Object.assign(u,oae(t,u)),u.duration&&(u.duration=fa(u.duration)),u.repeatDelay&&(u.repeatDelay=fa(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(h=!0)),(ao.instantAnimations||ao.skipAnimations)&&(h=!0,u.duration=0,u.delay=0),u.allowFlatten=!l.type&&!l.ease,h&&!i&&e.get()!==void 0){const f=nae(u.keyframes,l);if(f!==void 0){jn.update(()=>{u.onUpdate(f),u.onComplete()});return}}return l.isSync?new Wk(u):new Vre(u)};function cae({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function xO(t,e,{delay:n=0,transitionOverride:s,type:r}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...l}=e;s&&(i=s);const c=[],d=r&&t.animationState&&t.animationState.getState()[r];for(const u in l){const h=t.getValue(u,t.latestValues[u]??null),f=l[u];if(f===void 0||d&&cae(d,u))continue;const m={delay:n,...Gk(i||{},u)},x=h.get();if(x!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===x&&!m.velocity)continue;let p=!1;if(window.MotionHandoffAnimation){const b=gO(t);if(b){const v=window.MotionHandoffAnimation(b,u,jn);v!==null&&(m.startTime=v,p=!0)}}E1(t,u),h.start(lj(u,h,f,t.shouldReduceMotion&&q$.has(u)?{type:!1}:m,t,p));const w=h.animation;w&&c.push(w)}return o&&Promise.all(c).then(()=>{jn.update(()=>{o&&Zie(t,o)})}),c}function _1(t,e,n={}){var c;const s=Gf(t,e,n.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:r=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(r=n.transitionOverride);const i=s?()=>Promise.all(xO(t,s,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:f}=r;return dae(t,e,u+d,h,f,n)}:()=>Promise.resolve(),{when:l}=r;if(l){const[d,u]=l==="beforeChildren"?[i,o]:[o,i];return d().then(()=>u())}else return Promise.all([i(),o(n.delay)])}function dae(t,e,n=0,s=0,r=1,i){const o=[],l=(t.variantChildren.size-1)*s,c=r===1?(d=0)=>d*s:(d=0)=>l-d*s;return Array.from(t.variantChildren).sort(uae).forEach((d,u)=>{d.notify("AnimationStart",e),o.push(_1(d,e,{...i,delay:n+c(u)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(o)}function uae(t,e){return t.sortNodePosition(e)}function hae(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const r=e.map(i=>_1(t,i,n));s=Promise.all(r)}else if(typeof e=="string")s=_1(t,e,n);else{const r=typeof e=="function"?Gf(t,e,n.custom):e;s=Promise.all(xO(t,r,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function yO(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const fae=tj.length;function vO(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?vO(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<fae;n++){const s=tj[n],r=t.props[s];(qf(r)||r===!1)&&(e[s]=r)}return e}const mae=[...ej].reverse(),pae=ej.length;function gae(t){return e=>Promise.all(e.map(({animation:n,options:s})=>hae(t,n,s)))}function xae(t){let e=gae(t),n=BE(),s=!0;const r=c=>(d,u)=>{var f;const h=Gf(t,u,c==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:x,...p}=h;d={...d,...p,...x}}return d};function i(c){e=c(t)}function o(c){const{props:d}=t,u=vO(t.parent)||{},h=[],f=new Set;let m={},x=1/0;for(let w=0;w<pae;w++){const b=mae[w],v=n[b],N=d[b]!==void 0?d[b]:u[b],E=qf(N),T=b===c?v.isActive:null;T===!1&&(x=w);let R=N===u[b]&&N!==d[b]&&E;if(R&&s&&t.manuallyAnimateOnMount&&(R=!1),v.protectedKeys={...m},!v.isActive&&T===null||!N&&!v.prevProp||Ux(N)||typeof N=="boolean")continue;const $=yae(v.prevProp,N);let M=$||b===c&&v.isActive&&!R&&E||w>x&&E,L=!1;const U=Array.isArray(N)?N:[N];let z=U.reduce(r(b),{});T===!1&&(z={});const{prevResolvedValues:B={}}=v,D={...B,...z},g=P=>{M=!0,f.has(P)&&(L=!0,f.delete(P)),v.needsAnimating[P]=!0;const S=t.getValue(P);S&&(S.liveStyle=!1)};for(const P in D){const S=z[P],A=B[P];if(m.hasOwnProperty(P))continue;let F=!1;C1(S)&&C1(A)?F=!yO(S,A):F=S!==A,F?S!=null?g(P):f.add(P):S!==void 0&&f.has(P)?g(P):v.protectedKeys[P]=!0}v.prevProp=N,v.prevResolvedValues=z,v.isActive&&(m={...m,...z}),s&&t.blockInitialAnimation&&(M=!1),M&&(!(R&&$)||L)&&h.push(...U.map(P=>({animation:P,options:{type:b}})))}if(f.size){const w={};if(typeof d.initial!="boolean"){const b=Gf(t,Array.isArray(d.initial)?d.initial[0]:d.initial);b&&b.transition&&(w.transition=b.transition)}f.forEach(b=>{const v=t.getBaseTarget(b),N=t.getValue(b);N&&(N.liveStyle=!0),w[b]=v??null}),h.push({animation:w})}let p=!!h.length;return s&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(p=!1),s=!1,p?e(h):Promise.resolve()}function l(c,d){var h;if(n[c].isActive===d)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(f=>{var m;return(m=f.animationState)==null?void 0:m.setActive(c,d)}),n[c].isActive=d;const u=o(c);for(const f in n)n[f].protectedKeys={};return u}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=BE(),s=!0}}}function yae(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!yO(e,t):!1}function Cl(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function BE(){return{animate:Cl(!0),whileInView:Cl(),whileHover:Cl(),whileTap:Cl(),whileDrag:Cl(),whileFocus:Cl(),exit:Cl()}}class Nl{constructor(e){this.isMounted=!1,this.node=e}update(){}}class vae extends Nl{constructor(e){super(e),e.animationState||(e.animationState=xae(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ux(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let bae=0;class wae extends Nl{constructor(){super(...arguments),this.id=bae++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Nae={animation:{Feature:vae},exit:{Feature:wae}};function Yf(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Tm(t){return{point:{x:t.pageX,y:t.pageY}}}const kae=t=>e=>Jk(e)&&t(e,Tm(e));function Xh(t,e,n,s){return Yf(t,e,kae(n),s)}function bO({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function jae({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Sae(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}const wO=1e-4,Aae=1-wO,Tae=1+wO,NO=.01,Cae=0-NO,Eae=0+NO;function Hs(t){return t.max-t.min}function _ae(t,e,n){return Math.abs(t-e)<=n}function UE(t,e,n,s=.5){t.origin=s,t.originPoint=Nn(e.min,e.max,t.origin),t.scale=Hs(n)/Hs(e),t.translate=Nn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Aae&&t.scale<=Tae||isNaN(t.scale))&&(t.scale=1),(t.translate>=Cae&&t.translate<=Eae||isNaN(t.translate))&&(t.translate=0)}function Jh(t,e,n,s){UE(t.x,e.x,n.x,s?s.originX:void 0),UE(t.y,e.y,n.y,s?s.originY:void 0)}function VE(t,e,n){t.min=n.min+e.min,t.max=t.min+Hs(e)}function Pae(t,e,n){VE(t.x,e.x,n.x),VE(t.y,e.y,n.y)}function zE(t,e,n){t.min=e.min-n.min,t.max=t.min+Hs(e)}function Qh(t,e,n){zE(t.x,e.x,n.x),zE(t.y,e.y,n.y)}const HE=()=>({translate:0,scale:1,origin:0,originPoint:0}),wd=()=>({x:HE(),y:HE()}),WE=()=>({min:0,max:0}),Dn=()=>({x:WE(),y:WE()});function Wr(t){return[t("x"),t("y")]}function Uv(t){return t===void 0||t===1}function P1({scale:t,scaleX:e,scaleY:n}){return!Uv(t)||!Uv(e)||!Uv(n)}function Fl(t){return P1(t)||kO(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function kO(t){return qE(t.x)||qE(t.y)}function qE(t){return t&&t!=="0%"}function T0(t,e,n){const s=t-n,r=e*s;return n+r}function KE(t,e,n,s,r){return r!==void 0&&(t=T0(t,r,s)),T0(t,n,s)+e}function I1(t,e=0,n=1,s,r){t.min=KE(t.min,e,n,s,r),t.max=KE(t.max,e,n,s,r)}function jO(t,{x:e,y:n}){I1(t.x,e.translate,e.scale,e.originPoint),I1(t.y,n.translate,n.scale,n.originPoint)}const GE=.999999999999,YE=1.0000000000001;function Iae(t,e,n,s=!1){const r=n.length;if(!r)return;e.x=e.y=1;let i,o;for(let l=0;l<r;l++){i=n[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&kd(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,jO(t,o)),s&&Fl(i.latestValues)&&kd(t,i.latestValues))}e.x<YE&&e.x>GE&&(e.x=1),e.y<YE&&e.y>GE&&(e.y=1)}function Nd(t,e){t.min=t.min+e,t.max=t.max+e}function XE(t,e,n,s,r=.5){const i=Nn(t.min,t.max,r);I1(t,e,n,i,s)}function kd(t,e){XE(t.x,e.x,e.scaleX,e.scale,e.originX),XE(t.y,e.y,e.scaleY,e.scale,e.originY)}function SO(t,e){return bO(Sae(t.getBoundingClientRect(),e))}function Rae(t,e,n){const s=SO(t,n),{scroll:r}=e;return r&&(Nd(s.x,r.offset.x),Nd(s.y,r.offset.y)),s}const AO=({current:t})=>t?t.ownerDocument.defaultView:null,JE=(t,e)=>Math.abs(t-e);function Mae(t,e){const n=JE(t.x,e.x),s=JE(t.y,e.y);return Math.sqrt(n**2+s**2)}class TO{constructor(e,n,{transformPagePoint:s,contextWindow:r,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=zv(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=Mae(h.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:x}=h,{timestamp:p}=us;this.history.push({...x,timestamp:p});const{onStart:w,onMove:b}=this.handlers;f||(w&&w(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Vv(f,this.transformPagePoint),jn.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:m,onSessionEnd:x,resumeAnimation:p}=this.handlers;if(this.dragSnapToOrigin&&p&&p(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=zv(h.type==="pointercancel"?this.lastMoveEventInfo:Vv(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,w),x&&x(h,w)},!Jk(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=s,this.contextWindow=r||window;const o=Tm(e),l=Vv(o,this.transformPagePoint),{point:c}=l,{timestamp:d}=us;this.history=[{...c,timestamp:d}];const{onSessionStart:u}=n;u&&u(e,zv(l,this.history)),this.removeListeners=jm(Xh(this.contextWindow,"pointermove",this.handlePointerMove),Xh(this.contextWindow,"pointerup",this.handlePointerUp),Xh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ul(this.updatePoint)}}function Vv(t,e){return e?{point:e(t.point)}:t}function QE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function zv({point:t},e){return{point:t,delta:QE(t,CO(e)),offset:QE(t,Dae(e)),velocity:$ae(e,.1)}}function Dae(t){return t[0]}function CO(t){return t[t.length-1]}function $ae(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const r=CO(t);for(;n>=0&&(s=t[n],!(r.timestamp-s.timestamp>fa(e)));)n--;if(!s)return{x:0,y:0};const i=ma(r.timestamp-s.timestamp);if(i===0)return{x:0,y:0};const o={x:(r.x-s.x)/i,y:(r.y-s.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Oae(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Nn(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Nn(n,t,s.max):Math.min(t,n)),t}function ZE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Fae(t,{top:e,left:n,bottom:s,right:r}){return{x:ZE(t.x,n,r),y:ZE(t.y,e,s)}}function e_(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function Lae(t,e){return{x:e_(t.x,e.x),y:e_(t.y,e.y)}}function Bae(t,e){let n=.5;const s=Hs(t),r=Hs(e);return r>s?n=zf(e.min,e.max-s,t.min):s>r&&(n=zf(t.min,t.max-r,e.min)),io(0,1,n)}function Uae(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const R1=.35;function Vae(t=R1){return t===!1?t=0:t===!0&&(t=R1),{x:t_(t,"left","right"),y:t_(t,"top","bottom")}}function t_(t,e,n){return{min:n_(t,e),max:n_(t,n)}}function n_(t,e){return typeof t=="number"?t:t[e]||0}const zae=new WeakMap;class Hae{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Dn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const r=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Tm(u).point)},i=(u,h)=>{const{drag:f,dragPropagation:m,onDragStart:x}=this.getProps();if(f&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=rie(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Wr(w=>{let b=this.getAxisMotionValue(w).get()||0;if(pa.test(b)){const{projection:v}=this.visualElement;if(v&&v.layout){const N=v.layout.layoutBox[w];N&&(b=Hs(N)*(parseFloat(b)/100))}}this.originPoint[w]=b}),x&&jn.postRender(()=>x(u,h)),E1(this.visualElement,"transform");const{animationState:p}=this.visualElement;p&&p.setActive("whileDrag",!0)},o=(u,h)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:x,onDrag:p}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:w}=h;if(m&&this.currentDirection===null){this.currentDirection=Wae(w),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",h.point,w),this.updateAxis("y",h.point,w),this.visualElement.render(),p&&p(u,h)},l=(u,h)=>this.stop(u,h),c=()=>Wr(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)==null?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new TO(e,{onSessionStart:r,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:AO(this.visualElement)})}stop(e,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&jn.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:r}=this.getProps();if(!s||!pp(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(o=Oae(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,r=this.constraints;e&&bd(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=Fae(s.layoutBox,e):this.constraints=!1,this.elastic=Vae(n),r!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Wr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Uae(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!bd(e))return!1;const s=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=Rae(s,r.root,this.visualElement.getTransformPagePoint());let o=Lae(r.layout.layoutBox,i);if(n){const l=n(jae(o));this.hasMutatedConstraints=!!l,l&&(o=bO(l))}return o}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:r,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=Wr(u=>{if(!pp(u,n,this.currentDirection))return;let h=c&&c[u]||{};o&&(h={min:0,max:0});const f=r?200:1e6,m=r?40:1e7,x={type:"inertia",velocity:s?e[u]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(u,x)});return Promise.all(d).then(l)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return E1(this.visualElement,e),s.start(lj(e,s,0,n,this.visualElement,!1))}stopAnimation(){Wr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Wr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),r=s[n];return r||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Wr(n=>{const{drag:s}=this.getProps();if(!pp(n,s,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:l}=r.layout.layoutBox[n];i.set(e[n]-Nn(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!bd(n)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Wr(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();r[o]=Bae({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Wr(o=>{if(!pp(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(Nn(c,d,r[o]))})}addListeners(){if(!this.visualElement.current)return;zae.set(this.visualElement,this);const e=this.visualElement.current,n=Xh(e,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();bd(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,i=r.addEventListener("measure",s);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),jn.read(s);const o=Yf(window,"resize",()=>this.scalePositionWithinConstraints()),l=r.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Wr(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=c[u].translate,h.set(h.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:o=R1,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:r,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function pp(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Wae(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class qae extends Nl{constructor(e){super(e),this.removeGroupControls=ei,this.removeListeners=ei,this.controls=new Hae(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ei}unmount(){this.removeGroupControls(),this.removeListeners()}}const s_=t=>(e,n)=>{t&&jn.postRender(()=>t(e,n))};class Kae extends Nl{constructor(){super(...arguments),this.removePointerDownListener=ei}onPointerDown(e){this.session=new TO(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:AO(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:s_(e),onStart:s_(n),onMove:s,onEnd:(i,o)=>{delete this.session,r&&jn.postRender(()=>r(i,o))}}}mount(){this.removePointerDownListener=Xh(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const pg={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function r_(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ih={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ft.test(t))t=parseFloat(t);else return t;const n=r_(t,e.target.x),s=r_(t,e.target.y);return`${n}% ${s}%`}},Gae={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,r=hl.parse(t);if(r.length>5)return s;const i=hl.createTransformer(t),o=typeof r[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;r[0+o]/=l,r[1+o]/=c;const d=Nn(l,c,.5);return typeof r[2+o]=="number"&&(r[2+o]/=d),typeof r[3+o]=="number"&&(r[3+o]/=d),i(r)}};class Yae extends y.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:r}=this.props,{projection:i}=e;Rie(Xae),i&&(n.group&&n.group.add(i),s&&s.register&&r&&s.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),pg.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:r,isPresent:i}=this.props,{projection:o}=s;return o&&(o.isPresent=i,r||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||jn.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Xk.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function EO(t){const[e,n]=nO(),s=y.useContext(Ck);return a.jsx(Yae,{...t,layoutGroup:s,switchLayoutGroup:y.useContext(oO),isPresent:e,safeToRemove:n})}const Xae={borderRadius:{...ih,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ih,borderTopRightRadius:ih,borderBottomLeftRadius:ih,borderBottomRightRadius:ih,boxShadow:Gae};function Jae(t,e,n){const s=Es(t)?t:lu(t);return s.start(lj("",s,e,n)),s.animation}const Qae=(t,e)=>t.depth-e.depth;class Zae{constructor(){this.children=[],this.isDirty=!1}add(e){Pk(this.children,e),this.isDirty=!0}remove(e){Ik(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Qae),this.isDirty=!1,this.children.forEach(e)}}function eoe(t,e){const n=cr.now(),s=({timestamp:r})=>{const i=r-n;i>=e&&(ul(s),t(i-e))};return jn.setup(s,!0),()=>ul(s)}const _O=["TopLeft","TopRight","BottomLeft","BottomRight"],toe=_O.length,i_=t=>typeof t=="string"?parseFloat(t):t,a_=t=>typeof t=="number"||ft.test(t);function noe(t,e,n,s,r,i){r?(t.opacity=Nn(0,n.opacity??1,soe(s)),t.opacityExit=Nn(e.opacity??1,0,roe(s))):i&&(t.opacity=Nn(e.opacity??1,n.opacity??1,s));for(let o=0;o<toe;o++){const l=`border${_O[o]}Radius`;let c=o_(e,l),d=o_(n,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||a_(c)===a_(d)?(t[l]=Math.max(Nn(i_(c),i_(d),s),0),(pa.test(d)||pa.test(c))&&(t[l]+="%")):t[l]=d}(e.rotate||n.rotate)&&(t.rotate=Nn(e.rotate||0,n.rotate||0,s))}function o_(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const soe=PO(0,.5,k$),roe=PO(.5,.95,ei);function PO(t,e,n){return s=>s<t?0:s>e?1:n(zf(t,e,s))}function l_(t,e){t.min=e.min,t.max=e.max}function Lr(t,e){l_(t.x,e.x),l_(t.y,e.y)}function c_(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function d_(t,e,n,s,r){return t-=e,t=T0(t,1/n,s),r!==void 0&&(t=T0(t,1/r,s)),t}function ioe(t,e=0,n=1,s=.5,r,i=t,o=t){if(pa.test(e)&&(e=parseFloat(e),e=Nn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=Nn(i.min,i.max,s);t===i&&(l-=e),t.min=d_(t.min,e,n,l,r),t.max=d_(t.max,e,n,l,r)}function u_(t,e,[n,s,r],i,o){ioe(t,e[n],e[s],e[r],e.scale,i,o)}const aoe=["x","scaleX","originX"],ooe=["y","scaleY","originY"];function h_(t,e,n,s){u_(t.x,e,aoe,n?n.x:void 0,s?s.x:void 0),u_(t.y,e,ooe,n?n.y:void 0,s?s.y:void 0)}function f_(t){return t.translate===0&&t.scale===1}function IO(t){return f_(t.x)&&f_(t.y)}function m_(t,e){return t.min===e.min&&t.max===e.max}function loe(t,e){return m_(t.x,e.x)&&m_(t.y,e.y)}function p_(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function RO(t,e){return p_(t.x,e.x)&&p_(t.y,e.y)}function g_(t){return Hs(t.x)/Hs(t.y)}function x_(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class coe{constructor(){this.members=[]}add(e){Pk(this.members,e),e.scheduleRender()}remove(e){if(Ik(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let s;for(let r=n;r>=0;r--){const i=this.members[r];if(i.isPresent!==!1){s=i;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function doe(t,e,n){let s="";const r=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((r||i||o)&&(s=`translate3d(${r}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:u,rotateX:h,rotateY:f,skewX:m,skewY:x}=n;d&&(s=`perspective(${d}px) ${s}`),u&&(s+=`rotate(${u}deg) `),h&&(s+=`rotateX(${h}deg) `),f&&(s+=`rotateY(${f}deg) `),m&&(s+=`skewX(${m}deg) `),x&&(s+=`skewY(${x}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(s+=`scale(${l}, ${c})`),s||"none"}const Hv=["","X","Y","Z"],uoe={visibility:"hidden"},hoe=1e3;let foe=0;function Wv(t,e,n,s){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),s&&(s[t]=0))}function MO(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=gO(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",jn,!(r||i))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&MO(s)}function DO({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(o={},l=e==null?void 0:e()){this.id=foe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(goe),this.nodes.forEach(woe),this.nodes.forEach(Noe),this.nodes.forEach(xoe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Zae)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Mk),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=tO(o)&&!die(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let u;const h=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,u&&u(),u=eoe(h,250),pg.hasAnimatedSinceResize&&(pg.hasAnimatedSinceResize=!1,this.nodes.forEach(v_))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||Toe,{onLayoutAnimationStart:p,onLayoutAnimationComplete:w}=d.getProps(),b=!this.targetLayout||!RO(this.targetLayout,m),v=!h&&f;if(this.options.layoutRoot||this.resumeFrom||v||h&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(u,v);const N={...Gk(x,"layout"),onPlay:p,onComplete:w};(d.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else h||v_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ul(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(koe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&MO(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(y_);return}this.isUpdating||this.nodes.forEach(voe),this.isUpdating=!1,this.nodes.forEach(boe),this.nodes.forEach(moe),this.nodes.forEach(poe),this.clearAllSnapshots();const l=cr.now();us.delta=io(0,1e3/60,l-us.timestamp),us.timestamp=l,us.isProcessing=!0,Dv.update.process(us),Dv.preRender.process(us),Dv.render.process(us),us.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Xk.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(yoe),this.sharedNodes.forEach(joe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,jn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){jn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Hs(this.snapshot.measuredBox.x)&&!Hs(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Dn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!IO(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||Fl(this.latestValues)||u)&&(r(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),Coe(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return Dn();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(Eoe))){const{scroll:u}=this.root;u&&(Nd(l.x,u.offset.x),Nd(l.y,u.offset.y))}return l}removeElementScroll(o){var c;const l=Dn();if(Lr(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:h,options:f}=u;u!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&Lr(l,o),Nd(l.x,h.offset.x),Nd(l.y,h.offset.y))}return l}applyTransform(o,l=!1){const c=Dn();Lr(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&kd(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Fl(u.latestValues)&&kd(c,u.latestValues)}return Fl(this.latestValues)&&kd(c,this.latestValues),c}removeTransform(o){const l=Dn();Lr(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Fl(d.latestValues))continue;P1(d.latestValues)&&d.updateSnapshot();const u=Dn(),h=d.measurePageBox();Lr(u,h),h_(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return Fl(this.latestValues)&&h_(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==us.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:h}=this.options;if(!(!this.layout||!(u||h))){if(this.resolvedRelativeTargetAt=us.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Dn(),this.relativeTargetOrigin=Dn(),Qh(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Lr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Dn(),this.targetWithTransforms=Dn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Pae(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Lr(this.target,this.layout.layoutBox),jO(this.target,this.targetDelta)):Lr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Dn(),this.relativeTargetOrigin=Dn(),Qh(this.relativeTargetOrigin,this.target,m.target),Lr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||P1(this.parent.latestValues)||kO(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var x;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===us.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;Lr(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;Iae(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Dn());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(c_(this.prevProjectionDelta.x,this.projectionDelta.x),c_(this.prevProjectionDelta.y,this.projectionDelta.y)),Jh(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!x_(this.projectionDelta.x,this.prevProjectionDelta.x)||!x_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=wd(),this.projectionDelta=wd(),this.projectionDeltaWithTransform=wd()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},h=wd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=Dn(),m=c?c.source:void 0,x=this.layout?this.layout.source:void 0,p=m!==x,w=this.getStack(),b=!w||w.members.length<=1,v=!!(p&&!b&&this.options.crossfade===!0&&!this.path.some(Aoe));this.animationProgress=0;let N;this.mixTargetDelta=E=>{const T=E/1e3;b_(h.x,o.x,T),b_(h.y,o.y,T),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Qh(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Soe(this.relativeTarget,this.relativeTargetOrigin,f,T),N&&loe(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=Dn()),Lr(N,this.relativeTarget)),p&&(this.animationValues=u,noe(u,d,this.latestValues,T,v,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(!1),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(!1),this.pendingAnimation&&(ul(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=jn.update(()=>{pg.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=lu(0)),this.currentAnimation=Jae(this.motionValue,[0,1e3],{...o,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(hoe),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&$O(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Dn();const h=Hs(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=Hs(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}Lr(l,c),kd(l,u),Jh(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new coe),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&Wv("z",o,d,this.animationValues);for(let u=0;u<Hv.length;u++)Wv(`rotate${Hv[u]}`,o,d,this.animationValues),Wv(`skew${Hv[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return uoe;const l={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=mg(o==null?void 0:o.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none",l;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=mg(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Fl(this.latestValues)&&(m.transform=c?c({},""):"none",this.hasProjected=!1),m}const u=d.animationValues||d.latestValues;this.applyTransformsToTarget(),l.transform=doe(this.projectionDeltaWithTransform,this.treeScale,u),c&&(l.transform=c(u,l.transform));const{x:h,y:f}=this.projectionDelta;l.transformOrigin=`${h.origin*100}% ${f.origin*100}% 0`,d.animationValues?l.opacity=d===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:l.opacity=d===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const m in Kf){if(u[m]===void 0)continue;const{correct:x,applyTo:p,isCSSVariable:w}=Kf[m],b=l.transform==="none"?u[m]:x(u[m],d);if(p){const v=p.length;for(let N=0;N<v;N++)l[p[N]]=b}else w?this.options.visualElement.renderState.vars[m]=b:l[m]=b}return this.options.layoutId&&(l.pointerEvents=d===this?mg(o==null?void 0:o.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop(!1)}),this.root.nodes.forEach(y_),this.root.sharedNodes.clear()}}}function moe(t){t.updateLayout()}function poe(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?Wr(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],m=Hs(f);f.min=s[h].min,f.max=f.min+m}):$O(i,e.layoutBox,s)&&Wr(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],m=Hs(s[h]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const l=wd();Jh(l,s,e.layoutBox);const c=wd();o?Jh(c,t.applyTransform(r,!0),e.measuredBox):Jh(c,s,e.layoutBox);const d=!IO(l);let u=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const x=Dn();Qh(x,e.layoutBox,f.layoutBox);const p=Dn();Qh(p,s,m.layoutBox),RO(x,p)||(u=!0),h.options.layoutRoot&&(t.relativeTarget=p,t.relativeTargetOrigin=x,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function goe(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function xoe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function yoe(t){t.clearSnapshot()}function y_(t){t.clearMeasurements()}function voe(t){t.isLayoutDirty=!1}function boe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function v_(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function woe(t){t.resolveTargetDelta()}function Noe(t){t.calcProjection()}function koe(t){t.resetSkewAndRotation()}function joe(t){t.removeLeadSnapshot()}function b_(t,e,n){t.translate=Nn(e.translate,0,n),t.scale=Nn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function w_(t,e,n,s){t.min=Nn(e.min,n.min,s),t.max=Nn(e.max,n.max,s)}function Soe(t,e,n,s){w_(t.x,e.x,n.x,s),w_(t.y,e.y,n.y,s)}function Aoe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Toe={duration:.45,ease:[.4,0,.1,1]},N_=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),k_=N_("applewebkit/")&&!N_("chrome/")?Math.round:ei;function j_(t){t.min=k_(t.min),t.max=k_(t.max)}function Coe(t){j_(t.x),j_(t.y)}function $O(t,e,n){return t==="position"||t==="preserve-aspect"&&!_ae(g_(e),g_(n),.2)}function Eoe(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const _oe=DO({attachResizeListener:(t,e)=>Yf(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),qv={current:void 0},OO=DO({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!qv.current){const t=new _oe({});t.mount(window),t.setOptions({layoutScroll:!0}),qv.current=t}return qv.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Poe={pan:{Feature:Kae},drag:{Feature:qae,ProjectionNode:OO,MeasureLayout:EO}};function S_(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,i=s[r];i&&jn.postRender(()=>i(e,Tm(e)))}class Ioe extends Nl{mount(){const{current:e}=this.node;e&&(this.unmount=iie(e,(n,s)=>(S_(this.node,s,"Start"),r=>S_(this.node,r,"End"))))}unmount(){}}class Roe extends Nl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=jm(Yf(this.node.current,"focus",()=>this.onFocus()),Yf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function A_(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),i=s[r];i&&jn.postRender(()=>i(e,Tm(e)))}class Moe extends Nl{mount(){const{current:e}=this.node;e&&(this.unmount=cie(e,(n,s)=>(A_(this.node,s,"Start"),(r,{success:i})=>A_(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const M1=new WeakMap,Kv=new WeakMap,Doe=t=>{const e=M1.get(t.target);e&&e(t)},$oe=t=>{t.forEach(Doe)};function Ooe({root:t,...e}){const n=t||document;Kv.has(n)||Kv.set(n,{});const s=Kv.get(n),r=JSON.stringify(e);return s[r]||(s[r]=new IntersectionObserver($oe,{root:t,...e})),s[r]}function Foe(t,e,n){const s=Ooe(e);return M1.set(t,n),s.observe(t),()=>{M1.delete(t),s.unobserve(t)}}const Loe={some:0,all:1};class Boe extends Nl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:r="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:Loe[r]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),f=d?u:h;f&&f(c)};return Foe(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Uoe(e,n))&&this.startObserver()}unmount(){}}function Uoe({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Voe={inView:{Feature:Boe},tap:{Feature:Moe},focus:{Feature:Roe},hover:{Feature:Ioe}},zoe={layout:{ProjectionNode:OO,MeasureLayout:EO}},D1={current:null},FO={current:!1};function Hoe(){if(FO.current=!0,!!_k)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>D1.current=t.matches;t.addListener(e),e()}else D1.current=!1}const Woe=new WeakMap;function qoe(t,e,n){for(const s in e){const r=e[s],i=n[s];if(Es(r))t.addValue(s,r);else if(Es(i))t.addValue(s,lu(r,{owner:t}));else if(i!==r)if(t.hasValue(s)){const o=t.getValue(s);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=t.getStaticValue(s);t.addValue(s,lu(o!==void 0?o:r,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const T_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Koe{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:r,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=qk,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=cr.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,jn.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Vx(n),this.isVariantNode=iO(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const m=h[f];c[f]!==void 0&&Es(m)&&m.set(c[f],!1)}}mount(e){this.current=e,Woe.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),FO.current||Hoe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:D1.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ul(this.notifyUpdate),ul(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Ou.has(e);s&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&jn.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in cu){const n=cu[e];if(!n)continue;const{isEnabled:s,Feature:r}=n;if(!this.features[e]&&r&&s(this.props)&&(this.features[e]=new r(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Dn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<T_.length;s++){const r=T_[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const i="on"+r,o=e[i];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=qoe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=lu(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(f$(s)||p$(s))?s=parseFloat(s):!hie(s)&&hl.test(n)&&(s=X$(e,n)),this.setBaseTarget(e,Es(s)?s.get():s)),Es(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const o=aj(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(s=o[e])}if(n&&s!==void 0)return s;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!Es(r)?r:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Mk),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class LO extends Koe{constructor(){super(...arguments),this.KeyframeResolver=eie}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Es(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function BO(t,{style:e,vars:n},s,r){Object.assign(t.style,e,r&&r.getProjectionStyles(s));for(const i in n)t.style.setProperty(i,n[i])}function Goe(t){return window.getComputedStyle(t)}class Yoe extends LO{constructor(){super(...arguments),this.type="html",this.renderInstance=BO}readValueFromInstance(e,n){var s;if(Ou.has(n))return(s=this.projection)!=null&&s.isProjecting?N1(n):vre(e,n);{const r=Goe(e),i=(Ok(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return SO(e,n)}build(e,n,s){sj(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return oj(e,n,s)}}const UO=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Xoe(t,e,n,s){BO(t,e,void 0,s);for(const r in e.attrs)t.setAttribute(UO.has(r)?r:nj(r),e.attrs[r])}class Joe extends LO{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Dn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ou.has(n)){const s=Y$(n);return s&&s.default||0}return n=UO.has(n)?n:nj(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return pO(e,n,s)}build(e,n,s){uO(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,r){Xoe(e,n,s,r)}mount(e){this.isSVGTag=fO(e.tagName),super.mount(e)}}const Qoe=(t,e)=>ij(t)?new Joe(e):new Yoe(e,{allowProjection:t!==y.Fragment}),Zoe=Xie({...Nae,...Voe,...Poe,...zoe},Qoe),Ht=wie(Zoe),C_=({children:t,className:e})=>{const n=y.useRef(null),s=y.useRef(null),r=[{initialX:10,translateX:10,duration:5,repeatDelay:1,delay:1},{initialX:300,translateX:300,duration:4,repeatDelay:2,delay:2},{initialX:600,translateX:600,duration:3,repeatDelay:1,delay:1},{initialX:100,translateX:100,duration:5,repeatDelay:2,className:"h-6"},{initialX:400,translateX:400,duration:4,repeatDelay:3,delay:2},{initialX:700,translateX:700,duration:6,repeatDelay:1,className:"h-20"},{initialX:900,translateX:900,duration:3,repeatDelay:1,className:"h-12"},{initialX:1100,translateX:1100,duration:4,repeatDelay:2,delay:1,className:"h-6"},{initialX:1300,translateX:1300,duration:5,repeatDelay:1,delay:2,className:"h-8"},{initialX:200,translateX:200,duration:3,repeatDelay:1,className:"h-10"}];return a.jsxs("div",{ref:s,className:rt("h-screen md:h-[0rem] bg-gradient-to-b from-white to-neutral-100 dark:from-neutral-950 dark:to-neutral-800 relative flex items-center w-full justify-center overflow-hidden",e),children:[r.map(i=>a.jsx(VO,{beamOptions:i,containerRef:n,parentRef:s},i.initialX+"beam-idx")),t,a.jsx("div",{ref:n,className:"absolute bottom-0 bg-neutral-100 w-full inset-x-0 pointer-events-none",style:{boxShadow:"0 0 24px rgba(34, 42, 53, 0.06), 0 1px 1px rgba(0, 0, 0, 0.05), 0 0 0 1px rgba(34, 42, 53, 0.04), 0 0 4px rgba(34, 42, 53, 0.08), 0 16px 68px rgba(47, 48, 55, 0.05), 0 1px 0 rgba(255, 255, 255, 0.1) inset"}})]})},VO=Pe.forwardRef(({parentRef:t,containerRef:e,beamOptions:n={}},s)=>{const r=y.useRef(null),[i,o]=y.useState({detected:!1,coordinates:null}),[l,c]=y.useState(0),[d,u]=y.useState(!1);return y.useEffect(()=>{const f=setInterval(()=>{if(r.current&&e.current&&t.current&&!d){const m=r.current.getBoundingClientRect(),x=e.current.getBoundingClientRect(),p=t.current.getBoundingClientRect();if(m.bottom>=x.top){const w=m.left-p.left+m.width/2,b=m.bottom-p.top;o({detected:!0,coordinates:{x:w,y:b}}),u(!0)}}},50);return()=>clearInterval(f)},[d,e]),y.useEffect(()=>{i.detected&&i.coordinates&&(setTimeout(()=>{o({detected:!1,coordinates:null}),u(!1)},2e3),setTimeout(()=>{c(h=>h+1)},2e3))},[i]),a.jsxs(a.Fragment,{children:[a.jsx(Vs.div,{ref:r,animate:"animate",initial:{translateY:n.initialY||"-200px",translateX:n.initialX||"0px",rotate:n.rotate||0},variants:{animate:{translateY:n.translateY||"1800px",translateX:n.translateX||"0px",rotate:n.rotate||0}},transition:{duration:n.duration||8,repeat:1/0,repeatType:"loop",ease:"linear",delay:n.delay||0,repeatDelay:n.repeatDelay||0},className:rt("absolute left-0 top-20 m-auto h-14 w-px rounded-full bg-gradient-to-t from-indigo-500 via-purple-500 to-transparent",n.className)},l),a.jsx(A6,{children:i.detected&&i.coordinates&&a.jsx(ele,{className:"",style:{left:`${i.coordinates.x}px`,top:`${i.coordinates.y}px`,transform:"translate(-50%, -50%)"}},`${i.coordinates.x}-${i.coordinates.y}`)})]})});VO.displayName="CollisionMechanism";const ele=({...t})=>{const e=Array.from({length:20},(n,s)=>({id:s,initialX:0,initialY:0,directionX:Math.floor(Math.random()*80-40),directionY:Math.floor(Math.random()*-50-10)}));return a.jsxs("div",{...t,className:rt("absolute z-50 h-2 w-2",t.className),children:[a.jsx(Vs.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1.5,ease:"easeOut"},className:"absolute -inset-x-10 top-0 m-auto h-2 w-10 rounded-full bg-gradient-to-r from-transparent via-indigo-500 to-transparent blur-sm"}),e.map(n=>a.jsx(Vs.span,{initial:{x:n.initialX,y:n.initialY,opacity:1},animate:{x:n.directionX,y:n.directionY,opacity:0},transition:{duration:Math.random()*1.5+.5,ease:"easeOut"},className:"absolute h-1 w-1 rounded-full bg-gradient-to-b from-indigo-500 to-purple-500"},n.id))]})};let Wc=null;const tle=5*60*1e3,nle=async()=>{var t;if(Wc&&Date.now()-Wc.timestamp<tle)return console.log(`Using cached token price: $${Wc.usd}`),Wc.usd;try{console.log(" Fetching token price from CoinGecko...");const e=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=ethereum&vs_currencies=usd",{method:"GET",headers:{Accept:"application/json"}});if(!e.ok)throw new Error(`CoinGecko API error: ${e.status}`);const s=(t=(await e.json()).ethereum)==null?void 0:t.usd;if(!s||typeof s!="number")throw new Error("Invalid token price data from CoinGecko");return Wc={usd:s,timestamp:Date.now()},console.log(` Token price fetched from CoinGecko: $${s}`),s}catch(e){console.error(" Error fetching token price from CoinGecko:",e);const n=2500;return console.log(` Using fallback token price: $${n}`),Wc={usd:n,timestamp:Date.now()},n}},zO=(t,e)=>{if(!t)return"";if(t.startsWith("http://")||t.startsWith("https://"))return t;if(t.startsWith("ipfs://")){const s=`https://gateway.pinata.cloud/ipfs/${t.replace("ipfs://","")}`;return console.log(" Converting IPFS URL for authenticated access:",t,"",s),s}return t.match(/^[a-zA-Z0-9]{46,59}$/)?`https://gateway.pinata.cloud/ipfs/${t}`:t},sle=Object.freeze(Object.defineProperty({__proto__:null,processImageURL:zO},Symbol.toStringTag,{value:"Module"})),C0=["https://gateway.pinata.cloud/ipfs/","https://olive-left-snake-740.mypinata.cloud/ipfs/","https://ipfs.io/ipfs/","https://cloudflare-ipfs.com/ipfs/","https://dweb.link/ipfs/","https://gateway.ipfs.io/ipfs/"],E_={"Real Estate":["https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=800&h=600&fit=crop"],"Precious Metals":["https://images.unsplash.com/photo-1610375461246-83df859d849d?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1518546305927-5a555bb7020d?w=800&h=600&fit=crop"],Collectibles:["https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1513475382585-d06e58bcb0e0?w=800&h=600&fit=crop"],Art:["https://images.unsplash.com/photo-1541961017774-22349e4a1262?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1578321272176-b7bbc0679853?w=800&h=600&fit=crop"],"Carbon Credits":["https://images.unsplash.com/photo-1569163139342-de0874c4e2c5?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1587614295999-6c1c13675117?w=800&h=600&fit=crop"],Invoice:["https://images.unsplash.com/photo-1554224155-6726b3ff858f?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=800&h=600&fit=crop"],Stocks:["https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1590736969955-71cc94901144?w=800&h=600&fit=crop"],Unknown:["https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?w=800&h=600&fit=crop"]},cj=t=>{if(!t)return null;if(t.startsWith("ipfs://"))return t.replace("ipfs://","");if(t.includes("/ipfs/")){const e=t.split("/ipfs/");return e.length>1?e[1]:null}return t.match(/^(Qm[a-zA-Z0-9]{44}|baf[a-zA-Z0-9]{56})$/)?t:null},HO=(t,e=0)=>{const n=cj(t);return n?`${C0[e]||C0[0]}${n}`:t},__=(t,e)=>{const s=E_[t||"Unknown"]||E_.Unknown,r=parseInt(e.slice(-1))%s.length;return s[r]},WO=(t,e,n)=>!t||t.includes("placeholder")?__(e,n):cj(t)?HO(t):t.startsWith("http")?t:__(e,n),E0={"Real Estate":["/assets/realestate/types-of-real-estate-cover.jpg","/assets/realestate/real-estate-asset-classes-hero.jpeg","/assets/realestate/types-of-real-estate-overview-scaled.jpg","/assets/realestate/banglore.jpeg"],Invoice:["/assets/invoices/Commercial-Invoice-Template.webp","/assets/invoices/1131w-KuVdlrcyWPE.webp","/assets/invoices/images-3.png"],Commodity:["/placeholder.svg"],Stocks:["/placeholder.svg"],"Carbon Credits":["/placeholder.svg"],"Precious Metals":["/placeholder.svg"],Collectibles:["/placeholder.svg"],Art:["/placeholder.svg"],Unknown:["/placeholder.svg"]},P_={"Real Estate":"/assets/realestate/types-of-real-estate-cover.jpg",Invoice:"/assets/invoices/Commercial-Invoice-Template.webp",Commodity:"/placeholder.svg",Stocks:"/placeholder.svg","Carbon Credits":"/placeholder.svg","Precious Metals":"/placeholder.svg",Collectibles:"/placeholder.svg",Art:"/placeholder.svg",Unknown:"/placeholder.svg"},qO=t=>P_[t]||P_.Unknown,rle=(t,e)=>{const n=E0[t]||E0.Unknown,s=parseInt(e.toString())%n.length;return n[s]},Tc=(t,e,n)=>{const s=E0[t]||E0.Unknown,r=n?`${e}-${n}`:e.toString();let i=0;for(let l=0;l<r.length;l++){const c=r.charCodeAt(l);i=(i<<5)-i+c,i=i&i}const o=Math.abs(i)%s.length;return s[o]};class ile{constructor(){Ue(this,"cache",new Map);Ue(this,"JWT_TOKEN","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySW5mb3JtYXRpb24iOnsiaWQiOiJjMDU3NzI3NC0xMzU2LTRmZjgtODk5Yi02MjU0MTZmNTMxYTEiLCJlbWFpbCI6ImFkb2U3NDAzQGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJwaW5fcG9saWN5Ijp7InJlZ2lvbnMiOlt7ImRlc2lyZWRSZXBsaWNhdGlvbkNvdW50IjoxLCJpZCI6IkZSQTEifSx7ImRlc2lyZWRSZXBsaWNhdGlvbkNvdW50IjoxLCJpZCI6Ik5ZQzEifV0sInZlcnNpb24iOjF9LCJtZmFfZW5hYmxlZCI6ZmFsc2UsInN0YXR1cyI6IkFDVElWRSJ9LCJhdXRoZW50aWNhdGlvblR5cGUiOiJzY29wZWRLZXkiLCJzY29wZWRLZXlLZXkiOiJlZTdmZDhiNDY3MGU4ZTc1Y2YxZiIsInNjb3BlZEtleVNlY3JldCI6Ijg3NjU3MDdkNzBmNzAyZjFkYTAxMmVhNmU1MmYzNDUyMjFkOGE0YzgwMWFjYjVlN2Y4NTk5NzYwODIyNTc3ZGYiLCJleHAiOjE3OTA5Mzk1NTR9.huKruxuknG20OfbJsMjiuIaLTQMbCWsILk1B5Dl7Oko")}extractIPFSHash(e){if(!e)throw new Error("Empty URI provided");if(e.includes("https://gateway.pinata.cloud/ipfs/https://gateway.pinata.cloud/ipfs/")){const n=e.split("https://gateway.pinata.cloud/ipfs/");if(n.length>2){const s=n[n.length-1];if(s.startsWith("Qm")||s.startsWith("baf"))return s}throw new Error("Invalid doubled IPFS URL format")}if(e.startsWith("ipfs://"))return e.replace("ipfs://","");if(e.startsWith("https://gateway.pinata.cloud/ipfs/"))return e.replace("https://gateway.pinata.cloud/ipfs/","");if(e.startsWith("Qm")||e.startsWith("baf"))return e;throw new Error(`Unrecognized IPFS format: ${e}`)}getAssetTypeImage(e,n){return n?rle(e,n):qO(e)}processImageURL(e){if(!e)return"/placeholder.svg";try{if(e.startsWith("ipfs://"))return`https://gateway.pinata.cloud/ipfs/${e.replace("ipfs://","")}`;if(e.startsWith("Qm")||e.startsWith("baf"))return`https://gateway.pinata.cloud/ipfs/${e}`;if(e.startsWith("http"))return e}catch(n){console.warn("Error processing image URL:",n)}return"/placeholder.svg"}async fetchMetadataFromIPFS(e){if(!e||e.trim()==="")return console.warn("Empty metadata URI provided"),null;if(this.cache.has(e)){const n=this.cache.get(e);if(n.error&&n.expiry&&Date.now()>n.expiry)this.cache.delete(e),console.log(" Failed cache entry expired, retrying:",e);else return n.error?(console.log(" Recently failed, skipping retry for:",e),null):(console.log(" Using cached metadata for:",e),n)}try{const n=this.extractIPFSHash(e);if(n.includes("TestHash")||n.length<40)return console.log(" Skipping fake/test metadata hash:",n),null;console.log(" Fetching metadata from IPFS:",n);const s=[{url:`https://olive-left-snake-740.mypinata.cloud/ipfs/${n}`,name:"Custom Pinata"},{url:`https://gateway.pinata.cloud/ipfs/${n}`,name:"Pinata Gateway"},{url:`https://ipfs.io/ipfs/${n}`,name:"IPFS.io"},{url:`https://dweb.link/ipfs/${n}`,name:"Dweb Link"},{url:`https://cloudflare-ipfs.com/ipfs/${n}`,name:"Cloudflare"},{url:`https://gateway.ipfs.io/ipfs/${n}`,name:"IPFS Gateway"},{url:`https://ipfs.infura.io/ipfs/${n}`,name:"Infura"},{url:`https://cf-ipfs.com/ipfs/${n}`,name:"CF IPFS"},{url:`https://dweb.link/ipfs/${n}`,name:"DWeb.link"}];for(let i=1;i<=2;i++)for(const o of s){console.log(` Trying gateway: ${o.name} - ${o.url} (attempt ${i})`);try{const l=await Promise.race([fetch(o.url,{method:"GET",headers:{Accept:"application/json"}}),new Promise((c,d)=>setTimeout(()=>d(new Error("Timeout")),i===1?5e3:1e4))]);if(l.ok){const c=await l.json();return console.log(` Metadata fetched successfully from ${o.name} on attempt ${i}`),c.image&&(c.image=this.processImageURL(c.image)),this.cache.set(e,c),c}else if(l.status===429){console.log(` Gateway ${o.name} rate limited (429), trying next...`);continue}else if(l.status===404){console.log(` Gateway ${o.name} returned 404 - content not found`);continue}else{console.log(` Gateway ${o.name} failed with status ${l.status}, trying next...`);continue}}catch(l){console.warn(` Gateway ${o.name} error (attempt ${i}):`,l.message);continue}}console.error(" All IPFS gateways failed for:",e);const r={error:"All gateways failed",timestamp:Date.now(),expiry:Date.now()+5*60*1e3};return this.cache.set(e,r),null}catch(n){return console.error(" Error fetching metadata from IPFS:",n),null}}async batchFetchTokenMetadata(e,n){const s=[];console.log(` Batch processing ${e.length} tokens...`);const r=5;for(let i=0;i<e.length;i+=r){const l=e.slice(i,i+r).map(async d=>{try{const u=await n(d),h=await this.fetchMetadataFromIPFS(u);let f="Unknown",m="General";if(h!=null&&h.attributes){const p=h.attributes.find(b=>b.trait_type==="Asset Type");f=(p==null?void 0:p.value)||f;const w=h.attributes.find(b=>b.trait_type==="Category");m=(w==null?void 0:w.value)||m}else h!=null&&h.assetDetails&&(f=h.assetDetails.assetType||f,m=h.assetDetails.category||m);return{tokenId:d,metadata:h,name:(h==null?void 0:h.name)||`Asset Token #${d}`,description:(h==null?void 0:h.description)||`Asset token #${d}`,image:(h==null?void 0:h.image)||this.getAssetTypeImage(f,d),assetType:f,category:m,metadataURI:u,attributes:(h==null?void 0:h.attributes)||[{trait_type:"Asset Type",value:f},{trait_type:"Token ID",value:d}]}}catch(u){return console.error(` Error processing token ${d}:`,u),{tokenId:d,metadata:null,name:`Asset Token #${d}`,description:`Asset token #${d}`,image:this.getAssetTypeImage("Unknown",d),assetType:"Unknown",category:"General",metadataURI:"",attributes:[{trait_type:"Asset Type",value:"Unknown"},{trait_type:"Token ID",value:d}]}}}),c=await Promise.all(l);s.push(...c),i+r<e.length&&await new Promise(d=>setTimeout(d,500))}return console.log(` Batch processing completed: ${s.length} tokens processed`),s}clearCache(){this.cache.clear(),console.log(" Metadata cache cleared")}}const _0=new ile,qc="image_cache_",ale=24,I_=100,R_="1.0";class ole{constructor(){Ue(this,"cache",new Map);Ue(this,"loadingPromises",new Map);this.loadCacheFromStorage(),this.cleanupExpiredEntries()}async getCachedImage(e,n="Real Estate",s="1",r=!1){const i=this.generateCacheKey(e,n,s);if(!r&&this.cache.has(i)){const l=this.cache.get(i);if(this.isCacheEntryValid(l))return console.log(` Using cached image for ${i}:`,l.url),l.url;this.cache.delete(i),this.removeCacheFromStorage(i)}if(this.loadingPromises.has(i))return console.log(` Image already loading for ${i}, waiting...`),this.loadingPromises.get(i);const o=this.loadAndCacheImage(e,n,s,i);this.loadingPromises.set(i,o);try{const l=await o;return this.loadingPromises.delete(i),l}catch(l){throw this.loadingPromises.delete(i),l}}async loadAndCacheImage(e,n,s,r){if(console.log(` Loading and caching image for ${r}...`),this.isIPFSUrl(e)){console.log(` Attempting IPFS image: ${e}`);const o=this.getIPFSGateways(e);for(const l of o)try{if(await this.testImageUrl(l))return console.log(` IPFS image loaded successfully: ${l}`),this.cacheImage(r,l,"ipfs",n,s),l}catch{console.log(` IPFS gateway failed: ${l}`);continue}console.log(` All IPFS gateways failed for: ${e}`)}if(!this.isIPFSUrl(e)&&e&&!e.includes("placeholder")){console.log(` Attempting original URL: ${e}`);try{if(await this.testImageUrl(e))return console.log(` Original image loaded successfully: ${e}`),this.cacheImage(r,e,"external",n,s),e}catch{console.log(` Original URL failed: ${e}`)}}console.log(` Using deterministic local asset for ${n} token ${s}`);const i=Tc(n,s);return this.cacheImage(r,i,"local",n,s),console.log(` Cached local asset: ${i}`),i}testImageUrl(e){return new Promise(n=>{const s=new Image,r=setTimeout(()=>{s.onload=null,s.onerror=null,n(!1)},5e3);s.onload=()=>{clearTimeout(r),n(!0)},s.onerror=()=>{clearTimeout(r),n(!1)},s.src=e})}cacheImage(e,n,s,r,i){const o={url:n,timestamp:Date.now(),source:s,assetType:r,tokenId:i,version:R_};this.cache.set(e,o),this.saveCacheToStorage(e,o),this.cache.size>I_&&this.cleanupOldestEntries(),console.log(` Cached image: ${e}  ${n} (${s})`)}generateCacheKey(e,n,s){const r=this.simpleHash(e||"empty");return`${n}_${s}_${r}`}simpleHash(e){let n=0;for(let s=0;s<e.length;s++){const r=e.charCodeAt(s);n=(n<<5)-n+r,n=n&n}return Math.abs(n).toString(36)}isIPFSUrl(e){return e.startsWith("ipfs://")||e.includes("/ipfs/")||e.match(/^Qm[a-zA-Z0-9]{44}$/)!==null}getIPFSGateways(e){let n="";if(e.startsWith("ipfs://"))n=e.replace("ipfs://","");else if(e.includes("/ipfs/")){const s=e.split("/ipfs/");n=s[s.length-1]}else e.match(/^Qm[a-zA-Z0-9]{44}$/)&&(n=e);return n?[`https://gateway.pinata.cloud/ipfs/${n}`,`https://ipfs.io/ipfs/${n}`,`https://cloudflare-ipfs.com/ipfs/${n}`,`https://dweb.link/ipfs/${n}`,`https://gateway.ipfs.io/ipfs/${n}`]:[e]}isCacheEntryValid(e){const n=Date.now(),s=e.timestamp+ale*60*60*1e3,r=n>s,i=e.version===R_;return!r&&i}loadCacheFromStorage(){try{const e=Object.keys(localStorage).filter(n=>n.startsWith(qc));for(const n of e){const s=localStorage.getItem(n);if(s){const r=JSON.parse(s),i=n.replace(qc,"");this.isCacheEntryValid(r)?this.cache.set(i,r):localStorage.removeItem(n)}}console.log(` Loaded ${this.cache.size} images from cache storage`)}catch(e){console.error(" Error loading image cache from storage:",e)}}saveCacheToStorage(e,n){try{localStorage.setItem(qc+e,JSON.stringify(n))}catch(s){console.error(" Error saving image cache to storage:",s),this.cleanupOldestEntries();try{localStorage.setItem(qc+e,JSON.stringify(n))}catch(r){console.error(" Error saving image cache after cleanup:",r)}}}removeCacheFromStorage(e){try{localStorage.removeItem(qc+e)}catch(n){console.error(" Error removing image cache from storage:",n)}}cleanupExpiredEntries(){const e=[];for(const[n,s]of this.cache.entries())this.isCacheEntryValid(s)||e.push(n);for(const n of e)this.cache.delete(n),this.removeCacheFromStorage(n);e.length>0&&console.log(` Cleaned up ${e.length} expired image cache entries`)}cleanupOldestEntries(){const e=Array.from(this.cache.entries());e.sort((s,r)=>s[1].timestamp-r[1].timestamp);const n=e.slice(0,Math.ceil(I_*.2));for(const[s]of n)this.cache.delete(s),this.removeCacheFromStorage(s);console.log(` Cleaned up ${n.length} oldest image cache entries`)}clearAllCache(){this.cache.clear();try{const e=Object.keys(localStorage).filter(n=>n.startsWith(qc));for(const n of e)localStorage.removeItem(n);console.log(" Cleared all image cache")}catch(e){console.error(" Error clearing image cache:",e)}}getCacheStats(){const e=Array.from(this.cache.values()).filter(r=>r.source==="ipfs").length,n=Array.from(this.cache.values()).filter(r=>r.source==="local").length,s=Array.from(this.cache.values()).filter(r=>r.source==="external").length;return{totalEntries:this.cache.size,ipfsEntries:e,localEntries:n,externalEntries:s,cacheSize:`${Math.round(this.cache.size*.5)}KB`}}async preloadImages(e){console.log(` Preloading ${e.length} images...`);const n=e.map(async({url:i,assetType:o,tokenId:l})=>{try{return await this.getCachedImage(i,o,l),!0}catch(c){return console.error(` Failed to preload image for token ${l}:`,c),!1}}),r=(await Promise.allSettled(n)).filter(i=>i.status==="fulfilled").length;console.log(` Preloaded ${r}/${e.length} images`)}}const Cm=new ole;window.imageCacheService=Cm;const Cc=({src:t,alt:e,className:n="",assetType:s="Real Estate",tokenId:r="1",forceRefresh:i=!1,onLoad:o,onError:l,placeholder:c})=>{const[d,u]=y.useState(""),[h,f]=y.useState(!0),[m,x]=y.useState(!1),[p,w]=y.useState("");y.useEffect(()=>{let E=!0;return(async()=>{f(!0),x(!1);try{console.log(` Loading cached image for token ${r} (${s}):`,t);const R=await Cm.getCachedImage(t,s,r,i);E&&(u(R),R.includes("/assets/")?w("local"):R.includes("ipfs")||R.includes("gateway")?w("ipfs"):w("external"),console.log(` Cached image loaded for token ${r}:`,R))}catch(R){console.error(` Failed to load cached image for token ${r}:`,R),E&&(x(!0),f(!1),l==null||l())}})(),()=>{E=!1}},[t,s,r,i]);const b=()=>{f(!1),x(!1),o==null||o(),console.log(` Image rendered successfully for token ${r} from ${p} cache`)},v=()=>{x(!0),f(!1),l==null||l(),console.error(` Image render failed for token ${r}:`,d)},N=a.jsx("div",{className:"flex items-center justify-center bg-gray-200 animate-pulse",children:a.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})});return a.jsxs("div",{className:`relative ${n}`,children:[h&&a.jsx("div",{className:"absolute inset-0",children:c||N}),d&&a.jsx("img",{src:d,alt:e,className:`${n} ${h?"opacity-0":"opacity-100"} transition-opacity duration-300`,onLoad:b,onError:v}),m&&!h&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100",children:a.jsxs("div",{className:"text-center text-gray-500",children:[a.jsx("svg",{className:"w-8 h-8 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})}),a.jsx("span",{className:"text-xs",children:"Image unavailable"})]})}),!1]})};function Ai(t){return t?!!(t.name&&[/^Asset Token #\d+$/,/^Asset #\d+$/,/^Token #\d+$/,/^NFT #\d+$/,/^Unknown Asset/,/^Default Token/].some(n=>n.test(t.name))||t.description&&[/^Asset token #\d+$/,/^Token #\d+ description$/,/^Default description/,/^Placeholder description/].some(n=>n.test(t.description))||t.assetType==="Unknown"&&(!t.metadata||Object.keys(t.metadata).length===0)||t.metadata&&!(t.metadata.name&&!t.metadata.name.match(/^(Asset|Token) #?\d+$/)&&t.metadata.name.trim().length>0)):!1}function lc(t){return t?Ai({name:t.name,description:t.description,metadata:t.metadata,assetType:t.type||t.assetType}):!1}function lle(t,e){return{_isDummyData:!0,_failedFetch:!0,_tokenId:t,_metadataURI:e,_timestamp:Date.now(),_expiry:Date.now()+5*60*1e3}}function zx(t){return t&&t._isDummyData===!0&&t._failedFetch===!0}function dj(t){return zx(t)?Date.now()>t._expiry:!1}function cle(t){return t.filter(e=>!lc(e))}function $1(){let t=0;const e=[];for(let n=0;n<localStorage.length;n++){const s=localStorage.key(n);if(s)try{const r=localStorage.getItem(s);if(!r)continue;const i=JSON.parse(r);if(i&&i.data&&Array.isArray(i.data)){const o=i.data.filter(l=>!lc(l));o.length!==i.data.length&&(console.log(` Found ${i.data.length-o.length} dummy listings in ${s}`),o.length===0?e.push(s):(i.data=o,localStorage.setItem(s,JSON.stringify(i))),t+=i.data.length-o.length)}else(i&&i.metadata&&Ai(i)||zx(i)&&dj(i))&&(e.push(s),t++)}catch{continue}}return e.forEach(n=>{localStorage.removeItem(n),console.log(` Removed dummy data cache key: ${n}`)}),t}function gg(){let t=0,e=0,n=0,s=0;for(let r=0;r<localStorage.length;r++){const i=localStorage.key(r);if(i)try{const o=localStorage.getItem(i);if(!o)continue;t++;const l=JSON.parse(o);if(l&&l.data&&Array.isArray(l.data)){const c=l.data.filter(d=>lc(d)).length;e+=c}else l&&l.metadata&&Ai(l)?e++:zx(l)&&(n++,dj(l)&&s++)}catch{continue}}return{totalCacheEntries:t,dummyDataEntries:e,failedFetchMarkers:n,expiredFailedFetches:s}}window.DummyDataUtils={isDummyData:Ai,isMarketplaceListingDummy:lc,clearDummyDataFromCache:$1,getDummyDataStats:gg,cleanDummyDataFromListings:cle};const cn={KEYS:{MARKETPLACE_LISTINGS:"marketplace_listings",ASSET_METADATA:"asset_metadata",IPFS_IMAGES:"ipfs_images",USER_OWNED_ASSETS:"user_owned_assets"},EXPIRATION:{MARKETPLACE_LISTINGS:10*60*1e3,ASSET_METADATA:24*60*60*1e3,IPFS_IMAGES:7*24*60*60*1e3,USER_OWNED_ASSETS:5*60*1e3}},zl=class zl{static getInstance(){return zl.instance||(zl.instance=new zl),zl.instance}constructor(){}setCache(e,n){try{const s={data:n,timestamp:Date.now(),key:e};localStorage.setItem(e,JSON.stringify(s)),console.log(` Cached data for key: ${e}`)}catch(s){console.warn(` Failed to cache data for key: ${e}`,s)}}getCache(e,n){try{const s=localStorage.getItem(e);if(!s)return console.log(` No cached data found for key: ${e}`),null;const r=JSON.parse(s),o=Date.now()-r.timestamp;return o>n?(console.log(` Cache expired for key: ${e} (age: ${Math.round(o/1e3)}s, max: ${Math.round(n/1e3)}s)`),localStorage.removeItem(e),null):(console.log(` Using cached data for key: ${e} (age: ${Math.round(o/1e3)}s)`),r.data)}catch(s){return console.warn(` Failed to retrieve cached data for key: ${e}`,s),localStorage.removeItem(e),null}}clearCache(e){try{e?(localStorage.removeItem(e),console.log(` Cleared cache for key: ${e}`)):(Object.values(cn.KEYS).forEach(n=>{localStorage.removeItem(n)}),console.log(" Cleared all marketplace cache"))}catch(n){console.warn(" Failed to clear cache",n)}}clearDummyDataFromCache(){var s;console.log(" Clearing dummy data from marketplace cache...");let e=0;[cn.KEYS.MARKETPLACE_LISTINGS,cn.KEYS.USER_OWNED_ASSETS].forEach(r=>{for(let i=0;i<localStorage.length;i++){const o=localStorage.key(i);if(!(!o||!o.startsWith(r)))try{const l=localStorage.getItem(o);if(!l)continue;const c=JSON.parse(l);if(!c.data)continue;if(Array.isArray(c.data)){const d=c.data.length;if(c.data=c.data.filter(u=>!lc(u)),c.data.length!==d){const u=d-c.data.length;e+=u,c.data.length===0?(localStorage.removeItem(o),console.log(` Removed empty cache entry: ${o}`)):(localStorage.setItem(o,JSON.stringify(c)),console.log(` Cleaned ${u} dummy entries from: ${o}`))}}}catch(l){console.warn(` Error processing cache key ${o}:`,l)}}});for(let r=localStorage.length-1;r>=0;r--){const i=localStorage.key(r);if(!(!i||!i.startsWith(cn.KEYS.ASSET_METADATA)))try{const o=localStorage.getItem(i);if(!o)continue;const l=JSON.parse(o);l.data&&l.data.metadata&&Ai({metadata:l.data.metadata,name:(s=l.data.metadata)==null?void 0:s.name})&&(localStorage.removeItem(i),e++,console.log(` Removed dummy asset metadata: ${i}`))}catch{}}return console.log(` Cleared ${e} dummy data entries from cache`),e}cacheMarketplaceListings(e){const n=e.filter(s=>!lc(s));console.log(` Filtered marketplace listings: ${e.length}  ${n.length} (removed ${e.length-n.length} dummy entries)`),n.length>0?this.setCache(cn.KEYS.MARKETPLACE_LISTINGS,n):console.warn(" All marketplace listings were dummy data - not caching")}getCachedMarketplaceListings(){console.log(" getCachedMarketplaceListings called");const e=this.getCache(cn.KEYS.MARKETPLACE_LISTINGS,cn.EXPIRATION.MARKETPLACE_LISTINGS);if(!e)return console.log(" No cached marketplace listings found"),null;const n=e.filter(s=>!lc(s));if(n.length!==e.length)if(console.log(` Cleaned marketplace cache: ${e.length}  ${n.length} (removed ${e.length-n.length} dummy entries)`),n.length>0)this.cacheMarketplaceListings(n);else return this.clearCache(cn.KEYS.MARKETPLACE_LISTINGS),null;return console.log(" Cache result:",n?`${n.length} clean listings found`:"No cache found"),n&&n.length>0&&console.log(" First listing sample:",{name:n[0].name,type:n[0].type,category:n[0].category,attributes:n[0].attributes}),n.length>0?n:null}cacheAssetMetadata(e,n,s,r){if(!n||Ai({metadata:n,name:n==null?void 0:n.name})){console.log(` Skipping cache for token ${e} - dummy or null metadata detected`);const l=lle(e,r),c=`${cn.KEYS.ASSET_METADATA}_${e}_failed`;this.setCache(c,l);return}const i={tokenId:e,metadata:n,processedImageUrl:s,metadataURI:r,fetchedAt:Date.now()},o=`${cn.KEYS.ASSET_METADATA}_${e}`;this.setCache(o,i),console.log(` Cached real metadata for token ${e}: ${(n==null?void 0:n.name)||"Unknown name"}`)}getCachedAssetMetadata(e){var o;const n=`${cn.KEYS.ASSET_METADATA}_${e}`,s=`${n}_failed`,r=this.getCache(s,cn.EXPIRATION.ASSET_METADATA);if(r&&zx(r))if(dj(r))localStorage.removeItem(s),console.log(` Failed fetch marker expired for token ${e}, allowing retry`);else return console.log(` Recent fetch failure for token ${e}, skipping retry`),null;const i=this.getCache(n,cn.EXPIRATION.ASSET_METADATA);return i&&Ai({metadata:i.metadata,name:(o=i.metadata)==null?void 0:o.name})?(console.log(` Removing dummy data from cache for token ${e}`),localStorage.removeItem(n),null):i}cacheProcessedImage(e,n){const s={originalUrl:e,processedUrl:n,fetchedAt:Date.now()},r=`${cn.KEYS.IPFS_IMAGES}_${this.hashUrl(e)}`;this.setCache(r,s)}getCachedProcessedImage(e){const n=`${cn.KEYS.IPFS_IMAGES}_${this.hashUrl(e)}`,s=this.getCache(n,cn.EXPIRATION.IPFS_IMAGES);return(s==null?void 0:s.processedUrl)||null}cacheUserOwnedAssets(e,n){const s=`${cn.KEYS.USER_OWNED_ASSETS}_${e}`;this.setCache(s,n)}getCachedUserOwnedAssets(e){const n=`${cn.KEYS.USER_OWNED_ASSETS}_${e}`;return this.getCache(n,cn.EXPIRATION.USER_OWNED_ASSETS)}async fetchMetadataWithCache(e,n){const s=this.getCachedAssetMetadata(e);if(s)return console.log(` Using cached metadata for token ${e}`),{metadata:s.metadata,processedImageUrl:s.processedImageUrl};try{console.log(` Fetching fresh metadata for token ${e} from ${n}`);const r=await _0.fetchMetadataFromIPFS(n);let i="";if(r!=null&&r.image){const o=this.getCachedProcessedImage(r.image);if(o)i=o,console.log(` Using cached image for ${r.image}`);else{const{processImageURL:l}=await wt(async()=>{const{processImageURL:c}=await Promise.resolve().then(()=>sle);return{processImageURL:c}},void 0);i=l(r.image,r),this.cacheProcessedImage(r.image,i),console.log(` Processed and cached image: ${r.image}  ${i}`)}}return this.cacheAssetMetadata(e,r,i,n),{metadata:r,processedImageUrl:i}}catch(r){throw console.error(` Failed to fetch metadata for token ${e}:`,r),r}}async batchFetchMetadataWithCache(e){const n=new Map,s=[];for(const r of e){const i=this.getCachedAssetMetadata(r.tokenId);i?(n.set(r.tokenId,{metadata:i.metadata,processedImageUrl:i.processedImageUrl}),console.log(` Cache hit for token ${r.tokenId}`)):s.push(r)}if(console.log(` Cache stats: ${n.size} hits, ${s.length} misses`),s.length>0){console.log(` Fetching ${s.length} uncached metadata entries...`);const r=5;for(let i=0;i<s.length;i+=r){const l=s.slice(i,i+r).map(async c=>{try{const d=await this.fetchMetadataWithCache(c.tokenId,c.metadataURI);n.set(c.tokenId,d)}catch(d){console.warn(` Failed to fetch metadata for token ${c.tokenId}:`,d),n.set(c.tokenId,{metadata:null,processedImageUrl:""})}});await Promise.all(l),i+r<s.length&&await new Promise(c=>setTimeout(c,500))}}return n}hashUrl(e){let n=0;for(let s=0;s<e.length;s++){const r=e.charCodeAt(s);n=(n<<5)-n+r,n=n&n}return Math.abs(n).toString(36)}getCacheStats(){const e={};return Object.entries(cn.KEYS).forEach(([n,s])=>{const r=[];for(let i=0;i<localStorage.length;i++){const o=localStorage.key(i);o&&o.startsWith(s)&&r.push(o)}e[n]={count:r.length,keys:r.slice(0,5),totalSize:r.reduce((i,o)=>{const l=localStorage.getItem(o);return i+(l?l.length:0)},0)}}),e}clearExpiredCache(){let e=0;const n=Date.now();for(let s=localStorage.length-1;s>=0;s--){const r=localStorage.key(s);if(!r)continue;if(Object.values(cn.KEYS).some(o=>r.startsWith(o)))try{const o=localStorage.getItem(r);if(o){const l=JSON.parse(o),c=n-l.timestamp;let d=cn.EXPIRATION.ASSET_METADATA;r.includes("marketplace_listings")?d=cn.EXPIRATION.MARKETPLACE_LISTINGS:r.includes("ipfs_images")?d=cn.EXPIRATION.IPFS_IMAGES:r.includes("user_owned_assets")&&(d=cn.EXPIRATION.USER_OWNED_ASSETS),c>d&&(localStorage.removeItem(r),e++)}}catch{localStorage.removeItem(r),e++}}e>0&&console.log(` Cleared ${e} expired cache entries`)}};Ue(zl,"instance");let O1=zl;const Qt=O1.getInstance(),El=["https://mainnet.evm.nodes.onflow.org/"],M_=[{tokenId:"1",name:"Luxury Villa in Miami",description:"A beautiful beachfront villa with stunning ocean views",image:"ipfs://QmQoHpAJNJyWUgC7QGMgAnzdaMekpMAeCi1voJH6iSaFRi",price:"250000000000000000000000",amount:100,totalSupply:1e3,seller:"0x1234567890123456789012345678901234567890",metadataURI:"ipfs://QmQoHpAJNJyWUgC7QGMgAnzdaMekpMAeCi1voJH6iSaFRi",attributes:[{trait_type:"Type",value:"Real Estate"},{trait_type:"Location",value:"Miami, FL"},{trait_type:"Area",value:"3,500 sq ft"},{trait_type:"Bedrooms",value:"4"},{trait_type:"Bathrooms",value:"3"}]},{tokenId:"2",name:"Gold Bullion Investment",description:"Premium 1oz gold bars with certified authenticity",image:Tc("Commodity","2"),price:"2100000000000000000000",amount:50,totalSupply:500,seller:"0x2345678901234567890123456789012345678901",metadataURI:"demo://gold-bullion",attributes:[{trait_type:"Type",value:"Precious Metal"},{trait_type:"Weight",value:"1 oz"},{trait_type:"Purity",value:"99.99%"},{trait_type:"Certification",value:"LBMA Certified"}]},{tokenId:"3",name:"Vintage Wine Collection",description:"Rare vintage wines from French vineyards",image:Tc("Commodity","3"),price:"5000000000000000000000",amount:25,totalSupply:100,seller:"0x3456789012345678901234567890123456789012",metadataURI:"demo://vintage-wine",attributes:[{trait_type:"Type",value:"Wine"},{trait_type:"Vintage",value:"1982"},{trait_type:"Region",value:"Bordeaux"},{trait_type:"Bottles",value:"12"}]}],D_=["function uri(uint256 tokenId) external view returns (string memory)","function tokenMetadata(uint256 tokenId) external view returns (string memory)","function tokenPrice(uint256 tokenId) external view returns (uint256)"],uj=(t,e)=>(parseFloat(De(t))*e).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),dle=()=>{const[t,e]=y.useState([]),[n,s]=y.useState(!0),[r,i]=y.useState(""),[o,l]=y.useState(null),[c,d]=y.useState(null),[u,h]=y.useState(2500),[f,m]=y.useState(!0),[x,p]=y.useState(!1),[w,b]=y.useState(null),[v,N]=y.useState(!1),{provider:E,signer:T}=xn(),[R,$]=y.useState(null),M=yl(),L=A=>{let F=0;try{const _=en.from(A.price);F=parseFloat(De(_)),console.log(` Converting price for ${A.name}: ${A.price} Wei  ${F} U2U`)}catch(_){console.warn(" Error converting price:",_),F=parseFloat(A.price)||0}M("/orderbook",{state:{selectedToken:{tokenId:A.tokenId,name:A.name,image:A.image,type:A.type||A.category,userBalance:0,price:A.price,marketplacePrice:F,description:A.description}}})};y.useEffect(()=>{Qt.clearExpiredCache();const A=Qt.getCachedMarketplaceListings();A&&!B(A)&&(console.log(" Detected dummy cache data on mount, clearing..."),Qt.clearCache(),N(!1),p(!1))},[]),y.useEffect(()=>{U(),z()},[E,T]),y.useEffect(()=>{R&&D()},[R]);const U=async()=>{try{console.log(" Initializing marketplace contract..."),console.log("Contract address:",hn),console.log("Network:",ct),console.log("RPC URL:",bt[ct].rpcUrl);let A;if(E)console.log(" Using wallet provider"),A=E;else{console.log(" No wallet provider, trying public RPC endpoints...");for(let k=0;k<El.length;k++)try{console.log(` Trying RPC endpoint ${k+1}/${El.length}: ${El[k]}`),A=new bh(El[k]);const O=await A.getNetwork();console.log(` Successfully connected to RPC endpoint ${k+1}, Chain ID: ${O.chainId}`);break}catch(O){if(console.warn(` RPC endpoint ${k+1} failed:`,O),k===El.length-1)throw new Error("All RPC endpoints failed. Using demo data.")}}if(E)try{const k=await E.getNetwork();if(console.log("Connected to network:",k.name,"Chain ID:",k.chainId),console.log("Expected Chain ID:",bt[ct].chainId),k.chainId!==bt[ct].chainId){const O=`Wrong network! Please switch to ${bt[ct].name} (Chain ID: ${bt[ct].chainId})`;console.error(" Network mismatch:",O);try{console.log(" Attempting to switch network automatically...");const q=window.ethereum;if(q){await q.request({method:"wallet_switchEthereumChain",params:[{chainId:`0x${bt[ct].chainId.toString(16)}`}]}),console.log(" Network switched successfully!"),setTimeout(()=>U(),1e3);return}}catch(q){if(console.warn(" Could not switch network automatically:",q),q.code===4902)try{console.log(" Attempting to add U2U Mainnet to wallet..."),await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:`0x${bt[ct].chainId.toString(16)}`,chainName:bt[ct].name,nativeCurrency:bt[ct].nativeCurrency,rpcUrls:[bt[ct].rpcUrl],blockExplorerUrls:[bt[ct].blockExplorer]}]}),console.log(" U2U Mainnet added to wallet!"),setTimeout(()=>U(),1e3);return}catch(I){console.error(" Failed to add network:",I)}}throw new Error(O)}}catch(k){console.error(" Network check failed:",k),A=new bh(bt[ct].rpcUrl)}const F=T||A,_=new qe(hn,Yr,F);try{console.log(" Testing contract call with getAllListings...");const k=await _.getAllListings();console.log(" Contract call successful, listings response:",k),console.log(" Contract is functional and responding to calls")}catch(k){console.warn(" Contract test call failed but contract exists:",k),console.log(" This might be normal if no listings exist yet")}$(_),console.log(" Marketplace contract initialized successfully")}catch(A){console.error(" Error initializing marketplace contract:",A),console.log(" Loading demo marketplace data as fallback..."),e(M_),s(!1),i("Connected to demo marketplace data. Contract data unavailable due to network issues."),be.loading("Marketplace is loading please wait")}},z=async()=>{m(!0);try{const A=await nle();h(A),console.log(`S price loaded: $${A}`)}catch(A){console.error("Failed to fetch S price:",A),be.error("Failed to fetch S price, using fallback")}finally{m(!1)}},B=A=>{if(!A||A.length===0)return!1;const _=A.map(q=>{var G,H,K,X,ee;const I={hasDummyName:q.name.startsWith("Asset Token #")||q.name.includes("Demo")||q.name.includes("demo")||q.name.includes("Example"),hasDummyDescription:q.description.includes("Asset token listed on the marketplace. Token ID:")||q.description.includes("Token ID:")||q.description.length<50,hasDummyMetadataURI:((G=q.metadataURI)==null?void 0:G.includes("placeholder-"))||!q.metadataURI||q.metadataURI===`placeholder-${q.tokenId}`,hasGenericType:q.type==="Investment Asset"&&q.category==="Investment Asset"&&((H=q.attributes)==null?void 0:H.length)===1&&((K=q.attributes[0])==null?void 0:K.trait_type)==="Asset Type"&&((X=q.attributes[0])==null?void 0:X.value)==="Investment Asset",hasGenericImage:((ee=q.image)==null?void 0:ee.includes("placeholder"))||!q.image,lacksProperMetadata:!q.metadata||Object.keys(q.metadata||{}).length===0},V=Object.values(I).filter(Boolean).length;return console.log(` Token ${q.tokenId} dummy indicators:`,I,`Score: ${V}/6`),V>=3}).filter(Boolean).length,k=_/A.length,O=k<.5;return console.log(` Data validation: ${_}/${A.length} listings appear dummy (${(k*100).toFixed(1)}%), isReal=${O}`),O},D=async(A=!1)=>{var _,k,O,q,I,V,G,H,K,X,ee,ne,Be;if(console.log(` loadMarketplaceListings called with forceRefresh: ${A}`),!A){console.log(" Checking cache for marketplace listings...");const te=Qt.getCachedMarketplaceListings();if(console.log(" Raw cached listings:",te),te&&te.length>0){console.log(` Loaded ${te.length} marketplace listings from cache instantly!`);const ge=te.map(ve=>{var Ke,ut,He,gt,St;let Q=ve.name||`Asset Token #${ve.tokenId}`,xe=ve.type||ve.category||"Investment Asset";if(ve.metadata){const ye=ve.metadata.name||ve.metadata.title||ve.metadata.assetName||((Ke=ve.metadata.assetDetails)==null?void 0:Ke.name)||((ut=ve.metadata.assetDetails)==null?void 0:ut.title);ye&&ye.trim()&&!ye.trim().startsWith("Asset Token #")&&(Q=ye.trim());const W=ve.metadata.assetType||((He=ve.metadata.assetDetails)==null?void 0:He.assetType)||((gt=ve.metadata.assetDetails)==null?void 0:gt.category);if(W&&W.trim()&&W.trim()!=="Unknown"&&(xe=W.trim()),ve.metadata.attributes&&Array.isArray(ve.metadata.attributes)){const me=ve.metadata.attributes.find(se=>se.trait_type==="Asset Type"||se.trait_type==="Category"||se.trait_type==="Type");me!=null&&me.value&&me.value.trim()&&me.value.trim()!=="Unknown"&&(xe=me.value.trim())}}if(Q.startsWith("Asset Token #")||xe==="Unknown"||xe==="Investment Asset"){const ye=Qt.getCachedAssetMetadata(ve.tokenId);if(ye!=null&&ye.metadata){const W=ye.metadata.name||ye.metadata.title||ye.metadata.assetName;W&&W.trim()&&!W.trim().startsWith("Asset Token #")&&(Q=W.trim());const me=ye.metadata.assetType||((St=ye.metadata.assetDetails)==null?void 0:St.assetType);me&&me.trim()&&me.trim()!=="Unknown"&&(xe=me.trim())}}console.log(` Enhanced cached token ${ve.tokenId}: "${Q}" (${xe})`),console.log(" Original attributes:",ve.attributes),console.log(" Original type/category:",ve.type,ve.category);const we=ve.attributes?ve.attributes.map(ye=>ye.trait_type==="Asset Type"||ye.trait_type==="Type"||ye.trait_type==="Category"?{...ye,value:xe}:ye).concat(ve.attributes.some(ye=>ye.trait_type==="Asset Type"||ye.trait_type==="Type"||ye.trait_type==="Category")?[]:[{trait_type:"Asset Type",value:xe}]):[{trait_type:"Asset Type",value:xe}];return console.log(" Enhanced attributes:",we),{...ve,name:Q,type:xe,category:xe,attributes:we}}),Te=B(ge);if(console.log(` Cached data validation: isRealData=${Te}`),e(ge),Te?(s(!1),N(!0),console.log(" Real contract data found in cache - turning off loading state")):(console.log(" Cached data appears to be dummy/placeholder - keeping loading state until real data arrives"),N(!1)),p(!0),b(Date.now()),Qt.cacheMarketplaceListings(ge),console.log(" Updated marketplace cache with enhanced asset names and types"),Te?be.success(`Marketplace loaded with ${ge.length} assets`):be.loading("Loading marketplace data..."),Te){const ve=setTimeout(()=>{x&&!document.hidden?(console.log(" Background marketplace refresh starting..."),D(!0)):console.log(" Skipping background refresh - user navigated away or fresh data already loaded")},6e4);return()=>clearTimeout(ve)}else console.log(" Cached data is dummy - fetching fresh contract data immediately..."),setTimeout(()=>{document.hidden||D(!0)},1e3);return}else console.log(" No valid marketplace cache found, fetching from blockchain...")}if(!R){console.log(" Marketplace contract not initialized");return}s(!0),i(""),p(!1);let F=!1;try{console.log(" Loading marketplace listings from contract...");let te,ge;for(let ye=1;ye<=3;ye++)try{console.log(` Calling getAllListings (attempt ${ye}/3)...`),te=await R.getAllListings(),console.log(" Raw listings data:",te),console.log(" Raw listings data type:",typeof te),console.log(" Raw listings data is array:",Array.isArray(te)),Array.isArray(te)&&(console.log(" Raw listings data length:",te.length),te.forEach((W,me)=>{console.log(` Item ${me}:`,W,"Type:",typeof W,"IsArray:",Array.isArray(W))}));break}catch(W){if(console.warn(` getAllListings attempt ${ye} failed:`,W),ge=W,(_=W.message)!=null&&_.includes("missing trie node")&&ye<3){console.log(" Trying with fallback RPC provider...");try{const me=new bh(El[ye%El.length]);te=await new qe(hn,Yr,me).getAllListings(),console.log(" Success with fallback RPC provider!");break}catch(me){console.warn(" Fallback RPC also failed:",me)}}if(ye===3)throw W.code==="CALL_EXCEPTION"||(k=W.message)!=null&&k.includes("missing trie node")?new Error("Network synchronization issue. Please try again in a few minutes."):(O=W.message)!=null&&O.includes("revert")?new Error("Smart contract call failed. The marketplace may be paused or have no listings."):W;await new Promise(me=>setTimeout(me,2e3))}if(!te)throw new Error("Failed to get listings data after 3 attempts");console.log(" Analyzing getAllListings response structure:",te),console.log(" Response type:",typeof te),console.log(" Is array:",Array.isArray(te)),console.log(" Response length:",te.length),console.log(" First element:",te[0]);let Te,ve,Q,xe;if(Array.isArray(te))if(te.length===4&&Array.isArray(te[0]))[Te,ve,Q,xe]=te,console.log(" Successfully extracted 4 arrays from response");else if(te.length>0&&((q=te[0])!=null&&q._isBigNumber)){console.log(" Contract returned only token IDs, fetching additional data..."),Te=te,ve=[],Q=[],xe=[];for(let ye=0;ye<Te.length;ye++)try{const W=Te[ye].toString();console.log(` Fetching listing data for token ${W}...`);const me=await R.listings(W);console.log(` Listing for token ${W}:`,me),ve.push(me.issuer),Q.push(me.amount);try{const se=await R.tokenContract(),Ce=await new qe(se,D_,R.provider).tokenPrice(W);xe.push(Ce),console.log(` Token ${W} price: ${De(Ce)} Flow`)}catch(se){console.warn(` Could not fetch price for token ${W}:`,se),xe.push(pr("1000"))}}catch(W){console.error(` Error fetching data for token ${Te[ye]}:`,W),ve.push("0x0000000000000000000000000000000000000000"),Q.push(en.from(0)),xe.push(pr("1000"))}}else throw console.error(" Unexpected response structure from getAllListings"),console.log("Expected: 4 arrays [tokenIds, issuers, amounts, prices] or array of token IDs"),console.log("Received:",te),new Error("Invalid response structure from marketplace contract");else throw new Error("getAllListings did not return an array");if(console.log(" Extracted data:"),console.log("- Token IDs:",Te),console.log("- Issuers:",ve),console.log("- Amounts:",Q),console.log("- Prices:",xe),!Te||Te.length===0){console.log(" No listings found in marketplace"),e([]),s(!1),be.info("No assets currently listed on the marketplace");return}console.log(` Found ${Te.length} listings in marketplace`);let we;try{const ye=T||E||new bh(bt[ct].rpcUrl);we=new qe(Ts,D_,ye)}catch(ye){console.error(" Failed to initialize token contract:",ye)}const Ke=[],ut=[],He=[];for(let ye=0;ye<Te.length;ye++)try{const W=(en.isBigNumber(Te[ye]),Te[ye].toString()),me=ve[ye],se=en.isBigNumber(Q[ye])?Q[ye].toNumber():Number(Q[ye]),ce=(en.isBigNumber(xe[ye]),xe[ye].toString());if(we)try{if(await we.getTokenLifecycleStatus(W)===2){console.log(` Skipping burned token ${W}`);continue}}catch{console.warn(` Could not check lifecycle for token ${W}, including in listings`)}console.log(` Preparing listing ${ye+1}/${Te.length}:`,{tokenId:W,issuer:me,amount:se,priceInETH:De(ce),priceInWei:ce}),He.push({tokenId:W,issuer:me,amount:se,price:ce,index:ye});let Ce="";if(we)try{Ce=await we.tokenMetadata(W),console.log(" Got metadata URI from tokenMetadata:",Ce)}catch{try{Ce=await we.uri(W),console.log(" Got metadata URI from uri:",Ce)}catch{console.warn(" Could not get metadata URI for token:",W),Ce=""}}Ce&&ut.push({tokenId:W,metadataURI:Ce,index:ye})}catch(W){console.error(` Error preparing listing ${ye}:`,W)}console.log(` Prepared ${He.length} listings, ${ut.length} metadata requests`);const gt=await Qt.batchFetchMetadataWithCache(ut);for(const ye of He)try{const{tokenId:W,issuer:me,amount:se,price:ce,index:Ce}=ye,Re=gt.get(W),_e=Re==null?void 0:Re.metadata,Bt=(Re==null?void 0:Re.processedImageUrl)||"";let Ge="Investment Asset";if(_e){const he=_e.assetType||((I=_e.assetDetails)==null?void 0:I.assetType)||((V=_e.assetDetails)==null?void 0:V.category);if(he&&he.trim()&&he.trim()!=="Unknown"&&(Ge=he.trim()),_e.attributes&&Array.isArray(_e.attributes)){const ke=_e.attributes.find(Fe=>Fe.trait_type==="Asset Type"||Fe.trait_type==="Category"||Fe.trait_type==="Type");ke!=null&&ke.value&&ke.value.trim()&&ke.value.trim()!=="Unknown"&&(Ge=ke.value.trim())}}const Ne=Bt||Tc(Ge,W);console.log(` Final unique image for token ${W} (${Ge}):`,Ne);let Ve=0;try{const he=await R.totalTokensListed(W);Ve=parseInt(he.toString()),console.log(` Token ${W} total supply: ${Ve}`)}catch(he){console.warn(` Could not fetch total supply for token ${W}:`,he),Ve=se}let Y=`Asset Token #${W}`,J=Ge;if(_e){const he=_e.name||_e.title||_e.assetName||((G=_e.assetDetails)==null?void 0:G.name)||((H=_e.assetDetails)==null?void 0:H.title);he&&he.trim()&&(Y=he.trim());const ke=_e.assetType||((K=_e.assetDetails)==null?void 0:K.assetType)||((X=_e.assetDetails)==null?void 0:X.category);if(ke&&ke.trim()&&(J=ke.trim()),_e.attributes&&Array.isArray(_e.attributes)){const Fe=_e.attributes.find(Le=>Le.trait_type==="Asset Type"||Le.trait_type==="Category"||Le.trait_type==="Type");Fe!=null&&Fe.value&&Fe.value.trim()&&(J=Fe.value.trim())}}console.log(` Token ${W} processed with name: "${Y}", type: "${J}"`);const de={tokenId:W,name:Y,description:(_e==null?void 0:_e.description)||`Asset token listed on the marketplace. Token ID: ${W}`,image:Ne,price:ce,amount:se,totalSupply:Ve,seller:me,metadataURI:((ee=ut.find(he=>he.tokenId===W))==null?void 0:ee.metadataURI)||`placeholder-${W}`,metadata:_e,attributes:(_e==null?void 0:_e.attributes)||[{trait_type:"Asset Type",value:J}],type:J,category:J};Ke.push(de)}catch(W){console.error(` Error processing listing for token ${ye.tokenId}:`,W)}e(Ke),console.log(" Marketplace listings loaded:",Ke.length),console.log(" Preloading marketplace images...");const St=Ke.map(ye=>{var W,me;return{url:ye.image,assetType:((me=(W=ye.attributes)==null?void 0:W.find(se=>se.trait_type==="Asset Type"))==null?void 0:me.value)||"Real Estate",tokenId:ye.tokenId}});Cm.preloadImages(St).catch(ye=>{console.warn(" Image preloading failed:",ye)}),N(!0),F=!0,console.log(" Real contract data fetched and marked"),console.log(" Caching marketplace listings..."),Qt.cacheMarketplaceListings(Ke),Ke.length===0?be.info("No assets could be loaded from the marketplace"):x?console.log(` Background refresh: Updated ${Ke.length} marketplace listings`):be.success(`${Ke.length} assets loaded from marketplace`)}catch(te){console.error(" Error loading marketplace listings:",te);let ge="Failed to load marketplace listings";(ne=te.message)!=null&&ne.includes("Network synchronization")?ge="Network synchronization issue. Loading demo data as fallback.":(Be=te.message)!=null&&Be.includes("Smart contract call failed")?ge="Marketplace contract unavailable. Loading demo data as fallback.":te.code==="NETWORK_ERROR"?ge="Network connection issue. Loading demo data as fallback.":ge="Contract data unavailable. Loading demo data as fallback.",console.log(" Loading demo marketplace data as fallback..."),e(M_),i(ge),N(!1),console.log(" Demo data loaded - keeping loading state active"),be.error(ge)}finally{F?(s(!1),console.log(" Turning off loading - real contract data fetched successfully")):console.log(" Keeping loading state - no real contract data fetched yet")}},g=()=>{const A=Qt.getCachedMarketplaceListings();if(console.log(" Debug: Current marketplace cache:",A),A){const F=B(A);console.log(" Debug: Cache contains real data:",F)}return A},j=()=>{console.log(" Debug: Clearing marketplace cache..."),Qt.clearCache(),console.log(" Debug: Marketplace cache cleared"),N(!1),p(!1),D(!0)},C=()=>{const A=Qt.getCachedMarketplaceListings();return A&&!B(A)?(console.log(" Clearing dummy cache data..."),Qt.clearCache(),N(!1),p(!1),console.log(" Dummy cache data cleared"),!0):!1};Pe.useEffect(()=>{window.debugMarketplaceCache=g,window.clearMarketplaceCacheDebug=j,window.clearDummyCacheData=C},[]);const P=()=>{console.log(" Clearing marketplace cache after successful purchase..."),Qt.clearCache(),D(!0),be.success("Purchase completed! Refreshing marketplace...")};if(n)return a.jsxs("div",{className:"relative min-h-screen h-screen w-full bg-white",children:[a.jsx("div",{className:"absolute inset-0 z-0",children:a.jsx(C_,{children:a.jsx(a.Fragment,{})})}),a.jsx("div",{className:"absolute inset-0 z-10 flex items-center justify-center",children:a.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"}),a.jsx("div",{className:"text-black text-xl font-medium",children:v?"Loading marketplace...":"Fetching contract data..."}),a.jsx("div",{className:"text-gray-600 text-sm",children:v?"Please wait":"Getting real asset data from blockchain"})]})})]});if(r)return a.jsx("div",{className:"min-h-screen h-screen w-full bg-white flex items-center justify-center",children:a.jsx(C_,{children:a.jsxs("div",{className:"flex flex-col items-center h-screen space-y-4 text-center max-w-md",children:[a.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center",children:a.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),a.jsx("div",{className:"text-black text-xl font-medium",children:"Connection Error"}),a.jsx("div",{className:"text-gray-600 text-sm",children:r}),a.jsxs("div",{className:"flex flex-col space-y-2",children:[r.includes("Wrong network")&&a.jsxs("button",{onClick:async()=>{try{const A=window.ethereum;if(A)try{await A.request({method:"wallet_switchEthereumChain",params:[{chainId:`0x${bt[ct].chainId.toString(16)}`}]}),be.success("Switched to Flow Mainnet!"),i(""),U()}catch(F){F.code===4902&&(await A.request({method:"wallet_addEthereumChain",params:[{chainId:`0x${bt[ct].chainId.toString(16)}`,chainName:bt[ct].name,nativeCurrency:bt[ct].nativeCurrency,rpcUrls:[bt[ct].rpcUrl],blockExplorerUrls:[bt[ct].blockExplorer]}]}),be.success("Flow Mainnet added to wallet!"),i(""),U())}}catch(A){console.error("Failed to switch network:",A),be.error("Failed to switch network. Please switch manually.")}},className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}),a.jsx("span",{children:"Switch to Flow Mainnet"})]}),a.jsxs("button",{onClick:()=>{const A=`${bt[ct].blockExplorer}/address/${hn}`;console.log(" Opening contract in explorer:",A),window.open(A,"_blank")},className:"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center justify-center space-x-2",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),a.jsx("span",{children:"Verify Contract on Explorer"})]}),a.jsx("button",{onClick:()=>{i(""),U()},className:"px-6 py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-colors",children:"Retry Connection"}),a.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Refresh Page"})]})]})})});t!=null&&t.filter(A=>{var _,k;const F=(k=(_=A.attributes)==null?void 0:_.find(O=>O.trait_type==="Asset Type"))==null?void 0:k.value;return(F==null?void 0:F.toLowerCase())==="real estate"});const S=(t==null?void 0:t.filter(A=>{var _,k;const F=(k=(_=A.attributes)==null?void 0:_.find(O=>O.trait_type==="Asset Type"))==null?void 0:k.value;return(F==null?void 0:F.toLowerCase())==="invoice"}))||[];return t!=null&&t.filter(A=>{var _,k;const F=(k=(_=A.attributes)==null?void 0:_.find(O=>O.trait_type==="Asset Type"))==null?void 0:k.value;return(F==null?void 0:F.toLowerCase())==="commodity"}),t!=null&&t.filter(A=>{var _,k;const F=(k=(_=A.attributes)==null?void 0:_.find(O=>O.trait_type==="Asset Type"))==null?void 0:k.value;return(F==null?void 0:F.toLowerCase())==="stocks"}),t!=null&&t.filter(A=>{var _,k;const F=(k=(_=A.attributes)==null?void 0:_.find(O=>O.trait_type==="Asset Type"))==null?void 0:k.value;return(F==null?void 0:F.toLowerCase())==="carboncredit"}),a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-slate-50/30 to-gray-100",children:[a.jsx("header",{className:"backdrop-blur-lg bg-white/90 border-b border-gray-200/60 sticky top-0 z-40",children:a.jsx("div",{className:"container mx-auto px-6 py-4",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("div",{className:"flex items-center space-x-3 cursor-pointer group",onClick:()=>M("/"),children:a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-gray-800 to-black rounded-xl flex items-center justify-center shadow-lg group-hover:shadow-xl transition-all duration-300",children:a.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})})}),a.jsx("div",{className:"flex items-center space-x-4",children:a.jsxs("button",{onClick:()=>M("/dashboard"),className:"flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-xl transition-all duration-300 shadow-md hover:shadow-lg",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),a.jsx("span",{className:"font-medium",children:"My Dashboard"})]})})]})})}),r&&r.includes("demo")&&a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 px-6 py-4",children:a.jsx("div",{className:"container mx-auto",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-5 h-5 text-yellow-600",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-yellow-800 font-medium",children:"Demo Mode Active"}),a.jsx("p",{className:"text-yellow-700 text-sm",children:r})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{onClick:()=>{i(""),U()},className:"px-4 py-2 bg-yellow-600 hover:bg-yellow-700 text-white text-sm font-medium rounded-lg transition-colors duration-200 flex items-center space-x-2",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),a.jsx("span",{children:"Retry Live Data"})]}),a.jsx("button",{onClick:()=>i(""),className:"p-2 text-yellow-600 hover:text-yellow-800 transition-colors",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})})}),a.jsxs("div",{className:"container mx-auto px-6 pt-8 pb-12",children:[a.jsx(ule,{listings:t.slice(0,3),onSelectListing:l,onViewDetails:d,tokenPrice:u}),a.jsx("div",{className:"mt-16",children:a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"See All Listings"}),a.jsx("p",{className:"text-gray-600",children:"Explore our complete collection of tokenized real-world assets"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("button",{onClick:()=>D(!0),className:"px-4 py-2 text-gray-600 hover:text-gray-900 transition-colors flex items-center space-x-2",title:"Refresh listings",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),a.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]}),a.jsx("button",{className:"px-4 py-2 text-gray-600 hover:text-gray-900 transition-colors",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})})}),a.jsx("button",{className:"px-4 py-2 text-gray-600 hover:text-gray-900 transition-colors",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})})})]})]})}),a.jsx(ba,{defaultValue:"invoices",className:"w-full",children:a.jsx(sn,{value:"invoices",children:a.jsx(hle,{listings:S,category:"Invoices",onSelectListing:l,onNavigateToTrading:L,tokenPrice:u,loading:n})})})]}),o&&a.jsx(u$,{asset:{tokenId:o.tokenId,name:o.name,description:o.description,price:o.price,amount:o.amount,image:o.image,seller:o.seller,metadata:o.metadata},onClose:()=>l(null),onSuccess:P,tokenPrice:u}),c&&a.jsx(KO,{listing:c,onClose:()=>d(null),onBuy:A=>{d(null),l(A)},onNavigateToTrading:L,tokenPrice:u})]})},ule=({listings:t,onSelectListing:e,onViewDetails:n,tokenPrice:s})=>{var c,d,u;const[r,i]=y.useState(0);y.useEffect(()=>{const h=setInterval(()=>{i(f=>(f+1)%t.length)},5e3);return()=>clearInterval(h)},[t.length]);const o=()=>{i(h=>(h+1)%t.length)},l=()=>{i(h=>(h-1+t.length)%t.length)};return t.length===0?null:a.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-br from-gray-900 via-gray-800 to-black shadow-2xl",children:[a.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_30%_20%,rgba(75,85,99,0.2),transparent_50%)]"}),a.jsxs("div",{className:"relative",children:[a.jsx(Zk,{mode:"wait",children:a.jsxs(Ht.div,{initial:{opacity:0,x:300},animate:{opacity:1,x:0},exit:{opacity:0,x:-300},transition:{duration:.5,ease:"easeInOut"},className:"flex flex-col lg:flex-row",children:[a.jsxs("div",{className:"lg:w-1/2 relative",children:[a.jsx(Cc,{src:t[r].image,alt:t[r].name,className:"w-full h-64 lg:h-96 object-cover",assetType:((d=(c=t[r].attributes)==null?void 0:c.find(h=>h.trait_type==="Asset Type"))==null?void 0:d.value)||"Real Estate",tokenId:t[r].tokenId}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"}),a.jsx("div",{className:"absolute top-6 left-6",children:a.jsx("span",{className:"px-4 py-2 bg-gradient-to-r from-yellow-400 to-orange-500 text-black rounded-full text-sm font-bold shadow-lg",children:" FEATURED"})})]}),a.jsxs("div",{className:"lg:w-1/2 p-8 lg:p-12 text-white flex flex-col justify-center",children:[a.jsx("div",{className:"mb-4",children:a.jsx("span",{className:"px-3 py-1 bg-white/20 backdrop-blur-sm rounded-full text-sm font-medium",children:(u=t[r].attributes.find(h=>h.trait_type==="Asset Type"))==null?void 0:u.value})}),a.jsx("h3",{className:"text-3xl lg:text-4xl font-bold mb-4 leading-tight",children:t[r].name}),a.jsx("p",{className:"text-lg text-gray-100 mb-6 leading-relaxed",children:t[r].description}),a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"text-gray-200 text-sm",children:["Price per token (",(parseFloat(t[r].price)/Math.pow(10,18)).toFixed(4)," Flow)"]}),a.jsxs("div",{className:"text-yellow-400 text-sm mt-1 font-semibold",children:["Total Valuation: ",uj(t[r].price,t[r].totalSupply)," Flow"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-green-400 font-bold",children:["Token #",t[r].tokenId]}),a.jsxs("div",{className:"text-gray-200 text-sm",children:[t[r].amount," Available"]})]})]}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("button",{onClick:()=>n(t[r]),className:"flex-1 px-6 py-3 bg-white text-gray-900 rounded-xl hover:bg-gray-50 transition-all duration-300 font-semibold shadow-lg",children:"View Details"}),a.jsx("button",{onClick:()=>e(t[r]),className:"flex-1 px-6 py-3 bg-gradient-to-r from-gray-700 to-gray-800 text-white rounded-xl hover:from-gray-800 hover:to-gray-900 transition-all duration-300 font-semibold shadow-lg",children:"Invest Now"})]})]})]},r)}),a.jsx("button",{onClick:l,className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-12 h-12 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-white/30 transition-all duration-300",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),a.jsx("button",{onClick:o,className:"absolute right-4 top-1/2 transform -translate-y-1/2 w-12 h-12 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-white/30 transition-all duration-300",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),a.jsx("div",{className:"absolute bottom-6 left-1/2 transform -translate-x-1/2 flex space-x-2",children:t.map((h,f)=>a.jsx("button",{onClick:()=>i(f),className:`w-3 h-3 rounded-full transition-all duration-300 ${f===r?"bg-white shadow-lg":"bg-white/40 hover:bg-white/60"}`},f))})]})]})},hle=({listings:t,category:e,onSelectListing:n,onNavigateToTrading:s,tokenPrice:r,loading:i=!1})=>{const[o,l]=y.useState(null);return i?a.jsxs("div",{className:"text-center py-16",children:[a.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-100 to-blue-200 rounded-full flex items-center justify-center mx-auto mb-4 animate-pulse",children:a.jsx("svg",{className:"w-12 h-12 text-blue-500 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),a.jsxs("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:["Loading ",e,"..."]}),a.jsx("p",{className:"text-gray-600",children:"Please wait while we fetch the latest listings from the blockchain."})]}):t.length===0?a.jsxs("div",{className:"text-center py-16",children:[a.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-gray-100 to-gray-200 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})}),a.jsxs("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:["No ",e," Available"]}),a.jsx("p",{className:"text-gray-600",children:"Check back later for new listings in this category."})]}):a.jsxs(a.Fragment,{children:[a.jsx(Zk,{children:o&&a.jsx(KO,{listing:o,onClose:()=>l(null),onBuy:c=>n(c),onNavigateToTrading:s,tokenPrice:r})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((c,d)=>{var u,h;return a.jsxs(Ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:d*.1},layoutId:`listing-${c.tokenId}`,onClick:()=>l(c),className:"group bg-white/90 backdrop-blur-sm rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 cursor-pointer border border-gray-200/50 hover:border-gray-300/50 overflow-hidden hover:scale-[1.02] min-h-[520px] flex flex-col",children:[a.jsxs("div",{className:"relative overflow-hidden",children:[a.jsx(Cc,{src:c.image,alt:c.name,className:"w-full h-48 object-cover group-hover:scale-110 transition-transform duration-700",assetType:((h=(u=c.attributes)==null?void 0:u.find(f=>f.trait_type==="Asset Type"))==null?void 0:h.value)||"Real Estate",tokenId:c.tokenId}),a.jsx("div",{className:"absolute top-4 left-4",children:a.jsx("span",{className:"px-3 py-1 bg-white/90 backdrop-blur-sm rounded-full text-xs font-medium text-gray-700 border border-gray-200/50",children:(()=>{var m,x,p;let f="Investment Asset";if(c.attributes&&Array.isArray(c.attributes)){const w=c.attributes.find(b=>b.trait_type==="Asset Type"||b.trait_type==="Category"||b.trait_type==="Type");w!=null&&w.value&&w.value.trim()&&w.value.trim()!=="Unknown"&&(f=w.value.trim())}if((f==="Investment Asset"||f==="Unknown")&&(c.type&&c.type.trim()&&c.type.trim()!=="Unknown"?f=c.type.trim():c.category&&c.category.trim()&&c.category.trim()!=="Unknown"&&(f=c.category.trim())),(f==="Investment Asset"||f==="Unknown")&&c.metadata){const w=c.metadata.assetType||((m=c.metadata.assetDetails)==null?void 0:m.assetType)||((x=c.metadata.assetDetails)==null?void 0:x.category);w&&w.trim()&&w.trim()!=="Unknown"&&(f=w.trim())}return console.log(` Token ${c.tokenId} asset type resolution:`,{attributes:c.attributes,listingType:c.type,listingCategory:c.category,metadataAssetType:(p=c.metadata)==null?void 0:p.assetType,finalAssetType:f}),f})()})}),a.jsx("div",{className:"absolute top-4 right-4",children:a.jsxs("span",{className:"px-2 py-1 bg-blue-500/90 backdrop-blur-sm rounded-full text-xs font-medium text-white border border-blue-400/50",children:["#",c.tokenId]})})]}),a.jsxs("div",{className:"p-6 flex-grow flex flex-col",children:[a.jsx("h3",{className:"font-bold text-gray-900 mb-2 group-hover:text-gray-700 transition-colors line-clamp-1",children:c.name}),a.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2 leading-relaxed",children:c.description}),a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-xs text-gray-500",children:["Price per token (",(parseFloat(c.price)/Math.pow(10,18)).toFixed(4)," Flow)"]}),a.jsxs("p",{className:"text-sm font-semibold text-blue-600 mt-1",children:["Total Valuation: ",uj(c.price,c.totalSupply)," Flow"]})]}),a.jsx("div",{className:"text-right",children:a.jsx("div",{className:"space-y-1",children:a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-medium text-green-600",children:[c.amount," Available"]}),a.jsx("p",{className:"text-xs text-gray-500",children:"For Purchase"})]})})})]}),a.jsxs("div",{className:"flex items-center justify-between mt-auto",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),a.jsx("span",{className:"text-xs text-gray-600",children:"Available Now"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("button",{className:"px-4 py-2 bg-gradient-to-r from-gray-800 to-black text-white rounded-lg hover:from-gray-900 hover:to-gray-800 transition-all duration-300 shadow-md hover:shadow-lg text-sm font-medium",onClick:f=>{f.stopPropagation(),s(c)},children:[a.jsx(On,{className:"w-4 h-4 mr-1 inline"}),"Trade P2P"]}),a.jsx("button",{className:"px-4 py-2 bg-gradient-to-r from-gray-800 to-black text-white rounded-xl hover:from-gray-900 hover:to-gray-800 transition-all duration-300 shadow-md hover:shadow-lg text-sm font-medium",onClick:f=>{f.stopPropagation(),n(c)},children:"Buy Asset"})]})]})]})]},c.tokenId)})})]})},KO=({listing:t,onClose:e,onBuy:n,onNavigateToTrading:s,tokenPrice:r})=>{var i,o,l,c,d,u;return a.jsx(Ht.div,{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:a.jsxs(Ht.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-3xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[a.jsx("button",{onClick:e,className:"absolute top-6 right-6 z-10 p-2 rounded-full bg-white/90 backdrop-blur-sm shadow-lg hover:shadow-xl transition-all duration-300 border border-gray-200/50",children:a.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),a.jsxs("div",{className:"flex flex-col lg:flex-row h-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"lg:w-1/2 relative",children:[a.jsx(Cc,{src:t.image,alt:t.name,className:"w-full h-64 lg:h-full object-cover",assetType:((o=(i=t.attributes)==null?void 0:i.find(h=>h.trait_type==="Asset Type"))==null?void 0:o.value)||"Real Estate",tokenId:t.tokenId}),a.jsx("div",{className:"absolute bottom-6 left-6",children:a.jsx("span",{className:"px-4 py-2 bg-white/90 backdrop-blur-sm rounded-full text-sm font-medium text-gray-700 border border-gray-200/50",children:((c=(l=t.attributes)==null?void 0:l.find(h=>h.trait_type==="Asset Type"))==null?void 0:c.value)||t.type||t.category||"Unknown"})})]}),a.jsxs("div",{className:"lg:w-1/2 p-8 flex flex-col justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:t.name}),a.jsxs("div",{className:"mb-6",children:[a.jsx("div",{className:"flex items-baseline space-x-4 mb-2",children:a.jsx("span",{className:"text-lg text-gray-500",children:"Price per token"})}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),a.jsx("span",{children:"Available Now"})]}),a.jsx("span",{children:""}),a.jsxs("span",{children:[(parseFloat(t.price)/Math.pow(10,18)).toFixed(4)," Flow per token"]}),a.jsx("span",{children:""}),a.jsxs("span",{children:["Seller: ",t.seller.slice(0,6),"...",t.seller.slice(-4)]})]}),a.jsxs("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[a.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Total Asset Valuation"}),a.jsxs("p",{className:"text-2xl font-bold text-blue-800",children:[uj(t.price,t.totalSupply)," Flow"]}),a.jsxs("p",{className:"text-xs text-blue-500",children:["(",t.totalSupply.toLocaleString()," tokens  ",(parseFloat(t.price)/Math.pow(10,18)).toFixed(4)," Flow)"]})]})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Description"}),a.jsx("p",{className:"text-gray-600 leading-relaxed",children:t.description})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Asset Details"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 border border-blue-200/50",children:[a.jsx("div",{className:"text-blue-600 text-sm font-medium",children:"Platform ID"}),a.jsxs("div",{className:"text-blue-900 font-semibold mt-1",children:["#",t.tokenId]})]}),a.jsxs("div",{className:"bg-green-50 rounded-xl p-4 border border-green-200/50",children:[a.jsx("div",{className:"text-green-600 text-sm font-medium",children:"Available Amount"}),a.jsxs("div",{className:"text-green-900 font-semibold mt-1",children:[t.amount," tokens"]})]}),((d=t.metadata)==null?void 0:d.assetDetails)&&(()=>{var m,x;const h=(x=(m=t.attributes)==null?void 0:m.find(p=>p.trait_type==="Asset Type"))==null?void 0:x.value,f=t.metadata.assetDetails;return h==="Real Estate"?a.jsxs(a.Fragment,{children:[f.size&&a.jsxs("div",{className:"bg-purple-50 rounded-xl p-4 border border-purple-200/50",children:[a.jsx("div",{className:"text-purple-600 text-sm font-medium",children:"Size"}),a.jsxs("div",{className:"text-purple-900 font-semibold mt-1",children:[f.size," sq ft"]})]}),f.bedrooms&&a.jsxs("div",{className:"bg-purple-50 rounded-xl p-4 border border-purple-200/50",children:[a.jsx("div",{className:"text-purple-600 text-sm font-medium",children:"Bedrooms"}),a.jsx("div",{className:"text-purple-900 font-semibold mt-1",children:f.bedrooms})]}),f.location&&a.jsxs("div",{className:"bg-purple-50 rounded-xl p-4 border border-purple-200/50 sm:col-span-2",children:[a.jsx("div",{className:"text-purple-600 text-sm font-medium",children:"Location"}),a.jsx("div",{className:"text-purple-900 font-semibold mt-1",children:f.location})]})]}):h==="Invoice"?a.jsxs(a.Fragment,{children:[f.issuer&&a.jsxs("div",{className:"bg-orange-50 rounded-xl p-4 border border-orange-200/50",children:[a.jsx("div",{className:"text-orange-600 text-sm font-medium",children:"Issuer Company"}),a.jsx("div",{className:"text-orange-900 font-semibold mt-1",children:f.issuer})]}),f.dueDate&&a.jsxs("div",{className:"bg-orange-50 rounded-xl p-4 border border-orange-200/50",children:[a.jsx("div",{className:"text-orange-600 text-sm font-medium",children:"Due Date"}),a.jsx("div",{className:"text-orange-900 font-semibold mt-1",children:f.dueDate})]}),f.riskRating&&a.jsxs("div",{className:"bg-orange-50 rounded-xl p-4 border border-orange-200/50",children:[a.jsx("div",{className:"text-orange-600 text-sm font-medium",children:"Risk Rating"}),a.jsx("div",{className:"text-orange-900 font-semibold mt-1",children:f.riskRating})]})]}):h==="Commodity"?a.jsxs(a.Fragment,{children:[f.weight&&a.jsxs("div",{className:"bg-yellow-50 rounded-xl p-4 border border-yellow-200/50",children:[a.jsx("div",{className:"text-yellow-600 text-sm font-medium",children:"Weight"}),a.jsx("div",{className:"text-yellow-900 font-semibold mt-1",children:f.weight})]}),f.purity&&a.jsxs("div",{className:"bg-yellow-50 rounded-xl p-4 border border-yellow-200/50",children:[a.jsx("div",{className:"text-yellow-600 text-sm font-medium",children:"Purity"}),a.jsx("div",{className:"text-yellow-900 font-semibold mt-1",children:f.purity})]}),f.storage&&a.jsxs("div",{className:"bg-yellow-50 rounded-xl p-4 border border-yellow-200/50 sm:col-span-2",children:[a.jsx("div",{className:"text-yellow-600 text-sm font-medium",children:"Storage Location"}),a.jsx("div",{className:"text-yellow-900 font-semibold mt-1",children:f.storage})]})]}):h==="Stocks"?a.jsxs(a.Fragment,{children:[f.symbol&&a.jsxs("div",{className:"bg-indigo-50 rounded-xl p-4 border border-indigo-200/50",children:[a.jsx("div",{className:"text-indigo-600 text-sm font-medium",children:"Stock Symbol"}),a.jsx("div",{className:"text-indigo-900 font-semibold mt-1",children:f.symbol})]}),f.exchange&&a.jsxs("div",{className:"bg-indigo-50 rounded-xl p-4 border border-indigo-200/50",children:[a.jsx("div",{className:"text-indigo-600 text-sm font-medium",children:"Exchange"}),a.jsx("div",{className:"text-indigo-900 font-semibold mt-1",children:f.exchange})]}),f.sector&&a.jsxs("div",{className:"bg-indigo-50 rounded-xl p-4 border border-indigo-200/50",children:[a.jsx("div",{className:"text-indigo-600 text-sm font-medium",children:"Sector"}),a.jsx("div",{className:"text-indigo-900 font-semibold mt-1",children:f.sector})]})]}):null})(),(u=t.attributes)==null?void 0:u.map(h=>a.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200/50",children:[a.jsx("div",{className:"text-gray-500 text-sm font-medium",children:h.trait_type}),a.jsx("div",{className:"text-gray-900 font-semibold mt-1",children:h.value})]},h.trait_type))]})]})]}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("button",{onClick:e,className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors font-medium",children:"Close"}),a.jsxs("button",{className:"px-3 py-1 bg-gradient-to-r from-gray-800 to-black text-white rounded-lg hover:from-gray-900 hover:to-gray-800 transition-all duration-300 shadow-md hover:shadow-lg text-xs font-medium",onClick:h=>{h.stopPropagation(),s(t)},children:[a.jsx(On,{className:"w-3 h-3 mr-1 inline"}),"Trade"]}),a.jsx("button",{className:"flex-1 px-6 py-3 bg-gradient-to-r from-gray-800 to-black text-white rounded-xl hover:from-gray-900 hover:to-gray-800 transition-all duration-300 shadow-lg hover:shadow-xl font-medium",onClick:()=>n(t),children:"Buy Asset"})]})]})]})]})})};var hj="Avatar",[fle,Jxe]=Fc(hj),[mle,GO]=fle(hj),YO=y.forwardRef((t,e)=>{const{__scopeAvatar:n,...s}=t,[r,i]=y.useState("idle");return a.jsx(mle,{scope:n,imageLoadingStatus:r,onImageLoadingStatusChange:i,children:a.jsx(xt.span,{...s,ref:e})})});YO.displayName=hj;var XO="AvatarImage",JO=y.forwardRef((t,e)=>{const{__scopeAvatar:n,src:s,onLoadingStatusChange:r=()=>{},...i}=t,o=GO(XO,n),l=ple(s,i.referrerPolicy),c=qs(d=>{r(d),o.onImageLoadingStatusChange(d)});return os(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(xt.img,{...i,ref:e,src:s}):null});JO.displayName=XO;var QO="AvatarFallback",ZO=y.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:s,...r}=t,i=GO(QO,n),[o,l]=y.useState(s===void 0);return y.useEffect(()=>{if(s!==void 0){const c=window.setTimeout(()=>l(!0),s);return()=>window.clearTimeout(c)}},[s]),o&&i.imageLoadingStatus!=="loaded"?a.jsx(xt.span,{...r,ref:e}):null});ZO.displayName=QO;function ple(t,e){const[n,s]=y.useState("idle");return os(()=>{if(!t){s("error");return}let r=!0;const i=new window.Image,o=l=>()=>{r&&s(l)};return s("loading"),i.onload=o("loaded"),i.onerror=o("error"),i.src=t,e&&(i.referrerPolicy=e),()=>{r=!1}},[t,e]),n}var eF=YO,tF=JO,nF=ZO;const Fd=y.forwardRef(({className:t,...e},n)=>a.jsx(eF,{ref:n,className:rt("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Fd.displayName=eF.displayName;const sF=y.forwardRef(({className:t,...e},n)=>a.jsx(tF,{ref:n,className:rt("aspect-square h-full w-full",t),...e}));sF.displayName=tF.displayName;const Ld=y.forwardRef(({className:t,...e},n)=>a.jsx(nF,{ref:n,className:rt("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Ld.displayName=nF.displayName;var Gv="focusScope.autoFocusOnMount",Yv="focusScope.autoFocusOnUnmount",$_={bubbles:!1,cancelable:!0},gle="FocusScope",fj=y.forwardRef((t,e)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:r,onUnmountAutoFocus:i,...o}=t,[l,c]=y.useState(null),d=qs(r),u=qs(i),h=y.useRef(null),f=nn(e,p=>c(p)),m=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(s){let p=function(N){if(m.paused||!l)return;const E=N.target;l.contains(E)?h.current=E:ko(h.current,{select:!0})},w=function(N){if(m.paused||!l)return;const E=N.relatedTarget;E!==null&&(l.contains(E)||ko(h.current,{select:!0}))},b=function(N){if(document.activeElement===document.body)for(const T of N)T.removedNodes.length>0&&ko(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",w);const v=new MutationObserver(b);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",w),v.disconnect()}}},[s,l,m.paused]),y.useEffect(()=>{if(l){F_.add(m);const p=document.activeElement;if(!l.contains(p)){const b=new CustomEvent(Gv,$_);l.addEventListener(Gv,d),l.dispatchEvent(b),b.defaultPrevented||(xle(Nle(rF(l)),{select:!0}),document.activeElement===p&&ko(l))}return()=>{l.removeEventListener(Gv,d),setTimeout(()=>{const b=new CustomEvent(Yv,$_);l.addEventListener(Yv,u),l.dispatchEvent(b),b.defaultPrevented||ko(p??document.body,{select:!0}),l.removeEventListener(Yv,u),F_.remove(m)},0)}}},[l,d,u,m]);const x=y.useCallback(p=>{if(!n&&!s||m.paused)return;const w=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,b=document.activeElement;if(w&&b){const v=p.currentTarget,[N,E]=yle(v);N&&E?!p.shiftKey&&b===E?(p.preventDefault(),n&&ko(N,{select:!0})):p.shiftKey&&b===N&&(p.preventDefault(),n&&ko(E,{select:!0})):b===v&&p.preventDefault()}},[n,s,m.paused]);return a.jsx(xt.div,{tabIndex:-1,...o,ref:f,onKeyDown:x})});fj.displayName=gle;function xle(t,{select:e=!1}={}){const n=document.activeElement;for(const s of t)if(ko(s,{select:e}),document.activeElement!==n)return}function yle(t){const e=rF(t),n=O_(e,t),s=O_(e.reverse(),t);return[n,s]}function rF(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const r=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||r?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function O_(t,e){for(const n of t)if(!vle(n,{upTo:e}))return n}function vle(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function ble(t){return t instanceof HTMLInputElement&&"select"in t}function ko(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&ble(t)&&e&&t.select()}}var F_=wle();function wle(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=L_(t,e),t.unshift(e)},remove(e){var n;t=L_(t,e),(n=t[0])==null||n.resume()}}}function L_(t,e){const n=[...t],s=n.indexOf(e);return s!==-1&&n.splice(s,1),n}function Nle(t){return t.filter(e=>e.tagName!=="A")}var Xv=0;function iF(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??B_()),document.body.insertAdjacentElement("beforeend",t[1]??B_()),Xv++,()=>{Xv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Xv--}},[])}function B_(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ea=function(){return ea=Object.assign||function(e){for(var n,s=1,r=arguments.length;s<r;s++){n=arguments[s];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ea.apply(this,arguments)};function aF(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n}function kle(t,e,n){if(n||arguments.length===2)for(var s=0,r=e.length,i;s<r;s++)(i||!(s in e))&&(i||(i=Array.prototype.slice.call(e,0,s)),i[s]=e[s]);return t.concat(i||Array.prototype.slice.call(e))}var xg="right-scroll-bar-position",yg="width-before-scroll-bar",jle="with-scroll-bars-hidden",Sle="--removed-body-scroll-bar-size";function Jv(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Ale(t,e){var n=y.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(s){var r=n.value;r!==s&&(n.value=s,n.callback(s,r))}}}})[0];return n.callback=e,n.facade}var Tle=typeof window<"u"?y.useLayoutEffect:y.useEffect,U_=new WeakMap;function Cle(t,e){var n=Ale(null,function(s){return t.forEach(function(r){return Jv(r,s)})});return Tle(function(){var s=U_.get(n);if(s){var r=new Set(s),i=new Set(t),o=n.current;r.forEach(function(l){i.has(l)||Jv(l,null)}),i.forEach(function(l){r.has(l)||Jv(l,o)})}U_.set(n,t)},[t]),n}function Ele(t){return t}function _le(t,e){e===void 0&&(e=Ele);var n=[],s=!1,r={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,s);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(s=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){s=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),n}}}};return r}function Ple(t){t===void 0&&(t={});var e=_le(null);return e.options=ea({async:!0,ssr:!1},t),e}var oF=function(t){var e=t.sideCar,n=aF(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=e.read();if(!s)throw new Error("Sidecar medium not found");return y.createElement(s,ea({},n))};oF.isSideCarExport=!0;function Ile(t,e){return t.useMedium(e),oF}var lF=Ple(),Qv=function(){},Hx=y.forwardRef(function(t,e){var n=y.useRef(null),s=y.useState({onScrollCapture:Qv,onWheelCapture:Qv,onTouchMoveCapture:Qv}),r=s[0],i=s[1],o=t.forwardProps,l=t.children,c=t.className,d=t.removeScrollBar,u=t.enabled,h=t.shards,f=t.sideCar,m=t.noIsolation,x=t.inert,p=t.allowPinchZoom,w=t.as,b=w===void 0?"div":w,v=t.gapMode,N=aF(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=f,T=Cle([n,e]),R=ea(ea({},N),r);return y.createElement(y.Fragment,null,u&&y.createElement(E,{sideCar:lF,removeScrollBar:d,shards:h,noIsolation:m,inert:x,setCallbacks:i,allowPinchZoom:!!p,lockRef:n,gapMode:v}),o?y.cloneElement(y.Children.only(l),ea(ea({},R),{ref:T})):y.createElement(b,ea({},R,{className:c,ref:T}),l))});Hx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Hx.classNames={fullWidth:yg,zeroRight:xg};var Rle=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Mle(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Rle();return e&&t.setAttribute("nonce",e),t}function Dle(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function $le(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Ole=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Mle())&&(Dle(e,n),$le(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Fle=function(){var t=Ole();return function(e,n){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},cF=function(){var t=Fle(),e=function(n){var s=n.styles,r=n.dynamic;return t(s,r),null};return e},Lle={left:0,top:0,right:0,gap:0},Zv=function(t){return parseInt(t||"",10)||0},Ble=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],s=e[t==="padding"?"paddingTop":"marginTop"],r=e[t==="padding"?"paddingRight":"marginRight"];return[Zv(n),Zv(s),Zv(r)]},Ule=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Lle;var e=Ble(t),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,s-n+e[2]-e[0])}},Vle=cF(),Bd="data-scroll-locked",zle=function(t,e,n,s){var r=t.left,i=t.top,o=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(jle,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(Bd,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(xg,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(yg,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(xg," .").concat(xg,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(yg," .").concat(yg,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Bd,`] {
    `).concat(Sle,": ").concat(l,`px;
  }
`)},V_=function(){var t=parseInt(document.body.getAttribute(Bd)||"0",10);return isFinite(t)?t:0},Hle=function(){y.useEffect(function(){return document.body.setAttribute(Bd,(V_()+1).toString()),function(){var t=V_()-1;t<=0?document.body.removeAttribute(Bd):document.body.setAttribute(Bd,t.toString())}},[])},Wle=function(t){var e=t.noRelative,n=t.noImportant,s=t.gapMode,r=s===void 0?"margin":s;Hle();var i=y.useMemo(function(){return Ule(r)},[r]);return y.createElement(Vle,{styles:zle(i,!e,r,n?"":"!important")})},F1=!1;if(typeof window<"u")try{var gp=Object.defineProperty({},"passive",{get:function(){return F1=!0,!0}});window.addEventListener("test",gp,gp),window.removeEventListener("test",gp,gp)}catch{F1=!1}var Kc=F1?{passive:!1}:!1,qle=function(t){return t.tagName==="TEXTAREA"},dF=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!qle(t)&&n[e]==="visible")},Kle=function(t){return dF(t,"overflowY")},Gle=function(t){return dF(t,"overflowX")},z_=function(t,e){var n=e.ownerDocument,s=e;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var r=uF(t,s);if(r){var i=hF(t,s),o=i[1],l=i[2];if(o>l)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},Yle=function(t){var e=t.scrollTop,n=t.scrollHeight,s=t.clientHeight;return[e,n,s]},Xle=function(t){var e=t.scrollLeft,n=t.scrollWidth,s=t.clientWidth;return[e,n,s]},uF=function(t,e){return t==="v"?Kle(e):Gle(e)},hF=function(t,e){return t==="v"?Yle(e):Xle(e)},Jle=function(t,e){return t==="h"&&e==="rtl"?-1:1},Qle=function(t,e,n,s,r){var i=Jle(t,window.getComputedStyle(e).direction),o=i*s,l=n.target,c=e.contains(l),d=!1,u=o>0,h=0,f=0;do{var m=hF(t,l),x=m[0],p=m[1],w=m[2],b=p-w-i*x;(x||b)&&uF(t,l)&&(h+=b,f+=x),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(u&&(Math.abs(h)<1||!r)||!u&&(Math.abs(f)<1||!r))&&(d=!0),d},xp=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},H_=function(t){return[t.deltaX,t.deltaY]},W_=function(t){return t&&"current"in t?t.current:t},Zle=function(t,e){return t[0]===e[0]&&t[1]===e[1]},ece=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},tce=0,Gc=[];function nce(t){var e=y.useRef([]),n=y.useRef([0,0]),s=y.useRef(),r=y.useState(tce++)[0],i=y.useState(cF)[0],o=y.useRef(t);y.useEffect(function(){o.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(r));var p=kle([t.lockRef.current],(t.shards||[]).map(W_),!0).filter(Boolean);return p.forEach(function(w){return w.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),p.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(r))})}}},[t.inert,t.lockRef.current,t.shards]);var l=y.useCallback(function(p,w){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var b=xp(p),v=n.current,N="deltaX"in p?p.deltaX:v[0]-b[0],E="deltaY"in p?p.deltaY:v[1]-b[1],T,R=p.target,$=Math.abs(N)>Math.abs(E)?"h":"v";if("touches"in p&&$==="h"&&R.type==="range")return!1;var M=z_($,R);if(!M)return!0;if(M?T=$:(T=$==="v"?"h":"v",M=z_($,R)),!M)return!1;if(!s.current&&"changedTouches"in p&&(N||E)&&(s.current=T),!T)return!0;var L=s.current||T;return Qle(L,w,p,L==="h"?N:E,!0)},[]),c=y.useCallback(function(p){var w=p;if(!(!Gc.length||Gc[Gc.length-1]!==i)){var b="deltaY"in w?H_(w):xp(w),v=e.current.filter(function(T){return T.name===w.type&&(T.target===w.target||w.target===T.shadowParent)&&Zle(T.delta,b)})[0];if(v&&v.should){w.cancelable&&w.preventDefault();return}if(!v){var N=(o.current.shards||[]).map(W_).filter(Boolean).filter(function(T){return T.contains(w.target)}),E=N.length>0?l(w,N[0]):!o.current.noIsolation;E&&w.cancelable&&w.preventDefault()}}},[]),d=y.useCallback(function(p,w,b,v){var N={name:p,delta:w,target:b,should:v,shadowParent:sce(b)};e.current.push(N),setTimeout(function(){e.current=e.current.filter(function(E){return E!==N})},1)},[]),u=y.useCallback(function(p){n.current=xp(p),s.current=void 0},[]),h=y.useCallback(function(p){d(p.type,H_(p),p.target,l(p,t.lockRef.current))},[]),f=y.useCallback(function(p){d(p.type,xp(p),p.target,l(p,t.lockRef.current))},[]);y.useEffect(function(){return Gc.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Kc),document.addEventListener("touchmove",c,Kc),document.addEventListener("touchstart",u,Kc),function(){Gc=Gc.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,Kc),document.removeEventListener("touchmove",c,Kc),document.removeEventListener("touchstart",u,Kc)}},[]);var m=t.removeScrollBar,x=t.inert;return y.createElement(y.Fragment,null,x?y.createElement(i,{styles:ece(r)}):null,m?y.createElement(Wle,{gapMode:t.gapMode}):null)}function sce(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const rce=Ile(lF,nce);var mj=y.forwardRef(function(t,e){return y.createElement(Hx,ea({},t,{ref:e,sideCar:rce}))});mj.classNames=Hx.classNames;var ice=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Yc=new WeakMap,yp=new WeakMap,vp={},eb=0,fF=function(t){return t&&(t.host||fF(t.parentNode))},ace=function(t,e){return e.map(function(n){if(t.contains(n))return n;var s=fF(n);return s&&t.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},oce=function(t,e,n,s){var r=ace(e,Array.isArray(t)?t:[t]);vp[n]||(vp[n]=new WeakMap);var i=vp[n],o=[],l=new Set,c=new Set(r),d=function(h){!h||l.has(h)||(l.add(h),d(h.parentNode))};r.forEach(d);var u=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))u(f);else try{var m=f.getAttribute(s),x=m!==null&&m!=="false",p=(Yc.get(f)||0)+1,w=(i.get(f)||0)+1;Yc.set(f,p),i.set(f,w),o.push(f),p===1&&x&&yp.set(f,!0),w===1&&f.setAttribute(n,"true"),x||f.setAttribute(s,"true")}catch(b){console.error("aria-hidden: cannot operate on ",f,b)}})};return u(e),l.clear(),eb++,function(){o.forEach(function(h){var f=Yc.get(h)-1,m=i.get(h)-1;Yc.set(h,f),i.set(h,m),f||(yp.has(h)||h.removeAttribute(s),yp.delete(h)),m||h.removeAttribute(n)}),eb--,eb||(Yc=new WeakMap,Yc=new WeakMap,yp=new WeakMap,vp={})}},mF=function(t,e,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(t)?t:[t]),r=ice(t);return r?(s.push.apply(s,Array.from(r.querySelectorAll("[aria-live]"))),oce(s,r,n,"aria-hidden")):function(){return null}},pj="Dialog",[pF,Qxe]=Fc(pj),[lce,Oi]=pF(pj),gF=t=>{const{__scopeDialog:e,children:n,open:s,defaultOpen:r,onOpenChange:i,modal:o=!0}=t,l=y.useRef(null),c=y.useRef(null),[d=!1,u]=xc({prop:s,defaultProp:r,onChange:i});return a.jsx(lce,{scope:e,triggerRef:l,contentRef:c,contentId:Zo(),titleId:Zo(),descriptionId:Zo(),open:d,onOpenChange:u,onOpenToggle:y.useCallback(()=>u(h=>!h),[u]),modal:o,children:n})};gF.displayName=pj;var xF="DialogTrigger",cce=y.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=Oi(xF,n),i=nn(e,r.triggerRef);return a.jsx(xt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":yj(r.open),...s,ref:i,onClick:at(t.onClick,r.onOpenToggle)})});cce.displayName=xF;var gj="DialogPortal",[dce,yF]=pF(gj,{forceMount:void 0}),vF=t=>{const{__scopeDialog:e,forceMount:n,children:s,container:r}=t,i=Oi(gj,e);return a.jsx(dce,{scope:e,forceMount:n,children:y.Children.map(s,o=>a.jsx(Lc,{present:n||i.open,children:a.jsx(ox,{asChild:!0,container:r,children:o})}))})};vF.displayName=gj;var P0="DialogOverlay",bF=y.forwardRef((t,e)=>{const n=yF(P0,t.__scopeDialog),{forceMount:s=n.forceMount,...r}=t,i=Oi(P0,t.__scopeDialog);return i.modal?a.jsx(Lc,{present:s||i.open,children:a.jsx(uce,{...r,ref:e})}):null});bF.displayName=P0;var uce=y.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=Oi(P0,n);return a.jsx(mj,{as:gc,allowPinchZoom:!0,shards:[r.contentRef],children:a.jsx(xt.div,{"data-state":yj(r.open),...s,ref:e,style:{pointerEvents:"auto",...s.style}})})}),Ec="DialogContent",wF=y.forwardRef((t,e)=>{const n=yF(Ec,t.__scopeDialog),{forceMount:s=n.forceMount,...r}=t,i=Oi(Ec,t.__scopeDialog);return a.jsx(Lc,{present:s||i.open,children:i.modal?a.jsx(hce,{...r,ref:e}):a.jsx(fce,{...r,ref:e})})});wF.displayName=Ec;var hce=y.forwardRef((t,e)=>{const n=Oi(Ec,t.__scopeDialog),s=y.useRef(null),r=nn(e,n.contentRef,s);return y.useEffect(()=>{const i=s.current;if(i)return mF(i)},[]),a.jsx(NF,{...t,ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:at(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:at(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:at(t.onFocusOutside,i=>i.preventDefault())})}),fce=y.forwardRef((t,e)=>{const n=Oi(Ec,t.__scopeDialog),s=y.useRef(!1),r=y.useRef(!1);return a.jsx(NF,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,r.current=!1},onInteractOutside:i=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&r.current&&i.preventDefault()}})}),NF=y.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:r,onCloseAutoFocus:i,...o}=t,l=Oi(Ec,n),c=y.useRef(null),d=nn(e,c);return iF(),a.jsxs(a.Fragment,{children:[a.jsx(fj,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:r,onUnmountAutoFocus:i,children:a.jsx(dm,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":yj(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(mce,{titleId:l.titleId}),a.jsx(gce,{contentRef:c,descriptionId:l.descriptionId})]})]})}),xj="DialogTitle",kF=y.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=Oi(xj,n);return a.jsx(xt.h2,{id:r.titleId,...s,ref:e})});kF.displayName=xj;var jF="DialogDescription",SF=y.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=Oi(jF,n);return a.jsx(xt.p,{id:r.descriptionId,...s,ref:e})});SF.displayName=jF;var AF="DialogClose",TF=y.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=Oi(AF,n);return a.jsx(xt.button,{type:"button",...s,ref:e,onClick:at(t.onClick,()=>r.onOpenChange(!1))})});TF.displayName=AF;function yj(t){return t?"open":"closed"}var CF="DialogTitleWarning",[Zxe,EF]=JU(CF,{contentName:Ec,titleName:xj,docsSlug:"dialog"}),mce=({titleId:t})=>{const e=EF(CF),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return y.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},pce="DialogDescriptionWarning",gce=({contentRef:t,descriptionId:e})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${EF(pce).contentName}}.`;return y.useEffect(()=>{var i;const r=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&r&&(document.getElementById(e)||console.warn(s))},[s,t,e]),null},xce=gF,yce=vF,_F=bF,PF=wF,IF=kF,RF=SF,vce=TF;const rr=xce,bce=yce,MF=y.forwardRef(({className:t,...e},n)=>a.jsx(_F,{ref:n,className:rt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));MF.displayName=_F.displayName;const Fs=y.forwardRef(({className:t,children:e,...n},s)=>a.jsxs(bce,{children:[a.jsx(MF,{}),a.jsxs(PF,{ref:s,className:rt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,a.jsxs(vce,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(hx,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Fs.displayName=PF.displayName;const Ls=({className:t,...e})=>a.jsx("div",{className:rt("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Ls.displayName="DialogHeader";const Io=({className:t,...e})=>a.jsx("div",{className:rt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Io.displayName="DialogFooter";const Bs=y.forwardRef(({className:t,...e},n)=>a.jsx(IF,{ref:n,className:rt("text-lg font-semibold leading-none tracking-tight",t),...e}));Bs.displayName=IF.displayName;const ta=y.forwardRef(({className:t,...e},n)=>a.jsx(RF,{ref:n,className:rt("text-sm text-muted-foreground",t),...e}));ta.displayName=RF.displayName;const Et=y.forwardRef(({className:t,type:e,...n},s)=>{const[i,o]=y.useState(!1);let l=u0(0),c=u0(0);function d({currentTarget:u,clientX:h,clientY:f}){let{left:m,top:x}=u.getBoundingClientRect();l.set(h-m),c.set(f-x)}return a.jsx(Vs.div,{style:{background:tJ`
        radial-gradient(
          ${i?"100px":"0px"} circle at ${l}px ${c}px,
          #3b82f6,
          transparent 80%
        )
      `},onMouseMove:d,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),className:"group/input rounded-lg p-[2px] transition duration-300",children:a.jsx("input",{type:e,className:rt("shadow-input dark:placeholder-text-neutral-600 flex h-10 w-full rounded-md border-none bg-gray-50 px-3 py-2 text-sm text-black transition duration-400 group-hover/input:shadow-none file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-neutral-400 focus-visible:ring-[2px] focus-visible:ring-neutral-400 focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50 dark:bg-zinc-800 dark:text-white dark:shadow-[0px_0px_1px_1px_#404040] dark:focus-visible:ring-neutral-600",t),ref:s,...n})})});Et.displayName="Input";function q_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function wce(...t){return e=>{let n=!1;const s=t.map(r=>{const i=q_(r,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let r=0;r<s.length;r++){const i=s[r];typeof i=="function"?i():q_(t[r],null)}}}}function Nce(t){const e=kce(t),n=y.forwardRef((s,r)=>{const{children:i,...o}=s,l=y.Children.toArray(i),c=l.find(Sce);if(c){const d=c.props.children,u=l.map(h=>h===c?y.Children.count(d)>1?y.Children.only(null):y.isValidElement(d)?d.props.children:null:h);return a.jsx(e,{...o,ref:r,children:y.isValidElement(d)?y.cloneElement(d,void 0,u):null})}return a.jsx(e,{...o,ref:r,children:i})});return n.displayName=`${t}.Slot`,n}function kce(t){const e=y.forwardRef((n,s)=>{const{children:r,...i}=n;if(y.isValidElement(r)){const o=Tce(r),l=Ace(i,r.props);return r.type!==y.Fragment&&(l.ref=s?wce(s,o):o),y.cloneElement(r,l)}return y.Children.count(r)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var jce=Symbol("radix.slottable");function Sce(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===jce}function Ace(t,e){const n={...e};for(const s in e){const r=t[s],i=e[s];/^on[A-Z]/.test(s)?r&&i?n[s]=(...l)=>{const c=i(...l);return r(...l),c}:r&&(n[s]=r):s==="style"?n[s]={...r,...i}:s==="className"&&(n[s]=[r,i].filter(Boolean).join(" "))}return{...t,...n}}function Tce(t){var s,r;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Cce=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ece=Cce.reduce((t,e)=>{const n=Nce(`Primitive.${e}`),s=y.forwardRef((r,i)=>{const{asChild:o,...l}=r,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{}),_ce="Label",DF=y.forwardRef((t,e)=>a.jsx(Ece.label,{...t,ref:e,onMouseDown:n=>{var r;n.target.closest("button, input, select, textarea")||((r=t.onMouseDown)==null||r.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));DF.displayName=_ce;var $F=DF;const Nt=y.forwardRef(({className:t,...e},n)=>a.jsx($F,{ref:n,className:rt("text-sm font-medium text-black dark:text-white leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t),...e}));Nt.displayName=$F.displayName;function K_(t,[e,n]){return Math.min(n,Math.max(e,t))}function OF(t){const e=y.useRef({value:t,previous:t});return y.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Pce=[" ","Enter","ArrowUp","ArrowDown"],Ice=[" ","Enter"],Em="Select",[Wx,qx,Rce]=lN(Em),[Fu,eye]=Fc(Em,[Rce,gx]),Kx=gx(),[Mce,kl]=Fu(Em),[Dce,$ce]=Fu(Em),FF=t=>{const{__scopeSelect:e,children:n,open:s,defaultOpen:r,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:h,disabled:f,required:m,form:x}=t,p=Kx(e),[w,b]=y.useState(null),[v,N]=y.useState(null),[E,T]=y.useState(!1),R=ck(d),[$=!1,M]=xc({prop:s,defaultProp:r,onChange:i}),[L,U]=xc({prop:o,defaultProp:l,onChange:c}),z=y.useRef(null),B=w?x||!!w.closest("form"):!0,[D,g]=y.useState(new Set),j=Array.from(D).map(C=>C.props.value).join(";");return a.jsx(CH,{...p,children:a.jsxs(Mce,{required:m,scope:e,trigger:w,onTriggerChange:b,valueNode:v,onValueNodeChange:N,valueNodeHasChildren:E,onValueNodeHasChildrenChange:T,contentId:Zo(),value:L,onValueChange:U,open:$,onOpenChange:M,dir:R,triggerPointerDownPosRef:z,disabled:f,children:[a.jsx(Wx.Provider,{scope:e,children:a.jsx(Dce,{scope:t.__scopeSelect,onNativeOptionAdd:y.useCallback(C=>{g(P=>new Set(P).add(C))},[]),onNativeOptionRemove:y.useCallback(C=>{g(P=>{const S=new Set(P);return S.delete(C),S})},[]),children:n})}),B?a.jsxs(cL,{"aria-hidden":!0,required:m,tabIndex:-1,name:u,autoComplete:h,value:L,onChange:C=>U(C.target.value),disabled:f,form:x,children:[L===void 0?a.jsx("option",{value:""}):null,Array.from(D)]},j):null]})})};FF.displayName=Em;var LF="SelectTrigger",BF=y.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:s=!1,...r}=t,i=Kx(n),o=kl(LF,n),l=o.disabled||s,c=nn(e,o.onTriggerChange),d=qx(n),u=y.useRef("touch"),[h,f,m]=dL(p=>{const w=d().filter(N=>!N.disabled),b=w.find(N=>N.value===o.value),v=uL(w,p,b);v!==void 0&&o.onValueChange(v.value)}),x=p=>{l||(o.onOpenChange(!0),m()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return a.jsx(r6,{asChild:!0,...i,children:a.jsx(xt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":lL(o.value)?"":void 0,...r,ref:c,onClick:at(r.onClick,p=>{p.currentTarget.focus(),u.current!=="mouse"&&x(p)}),onPointerDown:at(r.onPointerDown,p=>{u.current=p.pointerType;const w=p.target;w.hasPointerCapture(p.pointerId)&&w.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(x(p),p.preventDefault())}),onKeyDown:at(r.onKeyDown,p=>{const w=h.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&f(p.key),!(w&&p.key===" ")&&Pce.includes(p.key)&&(x(),p.preventDefault())})})})});BF.displayName=LF;var UF="SelectValue",VF=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:s,style:r,children:i,placeholder:o="",...l}=t,c=kl(UF,n),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,h=nn(e,c.onValueNodeChange);return os(()=>{d(u)},[d,u]),a.jsx(xt.span,{...l,ref:h,style:{pointerEvents:"none"},children:lL(c.value)?a.jsx(a.Fragment,{children:o}):i})});VF.displayName=UF;var Oce="SelectIcon",zF=y.forwardRef((t,e)=>{const{__scopeSelect:n,children:s,...r}=t;return a.jsx(xt.span,{"aria-hidden":!0,...r,ref:e,children:s||""})});zF.displayName=Oce;var Fce="SelectPortal",HF=t=>a.jsx(ox,{asChild:!0,...t});HF.displayName=Fce;var _c="SelectContent",WF=y.forwardRef((t,e)=>{const n=kl(_c,t.__scopeSelect),[s,r]=y.useState();if(os(()=>{r(new DocumentFragment)},[]),!n.open){const i=s;return i?Oc.createPortal(a.jsx(qF,{scope:t.__scopeSelect,children:a.jsx(Wx.Slot,{scope:t.__scopeSelect,children:a.jsx("div",{children:t.children})})}),i):null}return a.jsx(KF,{...t,ref:e})});WF.displayName=_c;var xi=10,[qF,jl]=Fu(_c),Lce="SelectContentImpl",KF=y.forwardRef((t,e)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:r,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:x,hideWhenDetached:p,avoidCollisions:w,...b}=t,v=kl(_c,n),[N,E]=y.useState(null),[T,R]=y.useState(null),$=nn(e,G=>E(G)),[M,L]=y.useState(null),[U,z]=y.useState(null),B=qx(n),[D,g]=y.useState(!1),j=y.useRef(!1);y.useEffect(()=>{if(N)return mF(N)},[N]),iF();const C=y.useCallback(G=>{const[H,...K]=B().map(ne=>ne.ref.current),[X]=K.slice(-1),ee=document.activeElement;for(const ne of G)if(ne===ee||(ne==null||ne.scrollIntoView({block:"nearest"}),ne===H&&T&&(T.scrollTop=0),ne===X&&T&&(T.scrollTop=T.scrollHeight),ne==null||ne.focus(),document.activeElement!==ee))return},[B,T]),P=y.useCallback(()=>C([M,N]),[C,M,N]);y.useEffect(()=>{D&&P()},[D,P]);const{onOpenChange:S,triggerPointerDownPosRef:A}=v;y.useEffect(()=>{if(N){let G={x:0,y:0};const H=X=>{var ee,ne;G={x:Math.abs(Math.round(X.pageX)-(((ee=A.current)==null?void 0:ee.x)??0)),y:Math.abs(Math.round(X.pageY)-(((ne=A.current)==null?void 0:ne.y)??0))}},K=X=>{G.x<=10&&G.y<=10?X.preventDefault():N.contains(X.target)||S(!1),document.removeEventListener("pointermove",H),A.current=null};return A.current!==null&&(document.addEventListener("pointermove",H),document.addEventListener("pointerup",K,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",H),document.removeEventListener("pointerup",K,{capture:!0})}}},[N,S,A]),y.useEffect(()=>{const G=()=>S(!1);return window.addEventListener("blur",G),window.addEventListener("resize",G),()=>{window.removeEventListener("blur",G),window.removeEventListener("resize",G)}},[S]);const[F,_]=dL(G=>{const H=B().filter(ee=>!ee.disabled),K=H.find(ee=>ee.ref.current===document.activeElement),X=uL(H,G,K);X&&setTimeout(()=>X.ref.current.focus())}),k=y.useCallback((G,H,K)=>{const X=!j.current&&!K;(v.value!==void 0&&v.value===H||X)&&(L(G),X&&(j.current=!0))},[v.value]),O=y.useCallback(()=>N==null?void 0:N.focus(),[N]),q=y.useCallback((G,H,K)=>{const X=!j.current&&!K;(v.value!==void 0&&v.value===H||X)&&z(G)},[v.value]),I=s==="popper"?L1:GF,V=I===L1?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:x,hideWhenDetached:p,avoidCollisions:w}:{};return a.jsx(qF,{scope:n,content:N,viewport:T,onViewportChange:R,itemRefCallback:k,selectedItem:M,onItemLeave:O,itemTextRefCallback:q,focusSelectedItem:P,selectedItemText:U,position:s,isPositioned:D,searchRef:F,children:a.jsx(mj,{as:gc,allowPinchZoom:!0,children:a.jsx(fj,{asChild:!0,trapped:v.open,onMountAutoFocus:G=>{G.preventDefault()},onUnmountAutoFocus:at(r,G=>{var H;(H=v.trigger)==null||H.focus({preventScroll:!0}),G.preventDefault()}),children:a.jsx(dm,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:G=>G.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:a.jsx(I,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:G=>G.preventDefault(),...b,...V,onPlaced:()=>g(!0),ref:$,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:at(b.onKeyDown,G=>{const H=G.ctrlKey||G.altKey||G.metaKey;if(G.key==="Tab"&&G.preventDefault(),!H&&G.key.length===1&&_(G.key),["ArrowUp","ArrowDown","Home","End"].includes(G.key)){let X=B().filter(ee=>!ee.disabled).map(ee=>ee.ref.current);if(["ArrowUp","End"].includes(G.key)&&(X=X.slice().reverse()),["ArrowUp","ArrowDown"].includes(G.key)){const ee=G.target,ne=X.indexOf(ee);X=X.slice(ne+1)}setTimeout(()=>C(X)),G.preventDefault()}})})})})})})});KF.displayName=Lce;var Bce="SelectItemAlignedPosition",GF=y.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:s,...r}=t,i=kl(_c,n),o=jl(_c,n),[l,c]=y.useState(null),[d,u]=y.useState(null),h=nn(e,$=>u($)),f=qx(n),m=y.useRef(!1),x=y.useRef(!0),{viewport:p,selectedItem:w,selectedItemText:b,focusSelectedItem:v}=o,N=y.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&p&&w&&b){const $=i.trigger.getBoundingClientRect(),M=d.getBoundingClientRect(),L=i.valueNode.getBoundingClientRect(),U=b.getBoundingClientRect();if(i.dir!=="rtl"){const ee=U.left-M.left,ne=L.left-ee,Be=$.left-ne,te=$.width+Be,ge=Math.max(te,M.width),Te=window.innerWidth-xi,ve=K_(ne,[xi,Math.max(xi,Te-ge)]);l.style.minWidth=te+"px",l.style.left=ve+"px"}else{const ee=M.right-U.right,ne=window.innerWidth-L.right-ee,Be=window.innerWidth-$.right-ne,te=$.width+Be,ge=Math.max(te,M.width),Te=window.innerWidth-xi,ve=K_(ne,[xi,Math.max(xi,Te-ge)]);l.style.minWidth=te+"px",l.style.right=ve+"px"}const z=f(),B=window.innerHeight-xi*2,D=p.scrollHeight,g=window.getComputedStyle(d),j=parseInt(g.borderTopWidth,10),C=parseInt(g.paddingTop,10),P=parseInt(g.borderBottomWidth,10),S=parseInt(g.paddingBottom,10),A=j+C+D+S+P,F=Math.min(w.offsetHeight*5,A),_=window.getComputedStyle(p),k=parseInt(_.paddingTop,10),O=parseInt(_.paddingBottom,10),q=$.top+$.height/2-xi,I=B-q,V=w.offsetHeight/2,G=w.offsetTop+V,H=j+C+G,K=A-H;if(H<=q){const ee=z.length>0&&w===z[z.length-1].ref.current;l.style.bottom="0px";const ne=d.clientHeight-p.offsetTop-p.offsetHeight,Be=Math.max(I,V+(ee?O:0)+ne+P),te=H+Be;l.style.height=te+"px"}else{const ee=z.length>0&&w===z[0].ref.current;l.style.top="0px";const Be=Math.max(q,j+p.offsetTop+(ee?k:0)+V)+K;l.style.height=Be+"px",p.scrollTop=H-q+p.offsetTop}l.style.margin=`${xi}px 0`,l.style.minHeight=F+"px",l.style.maxHeight=B+"px",s==null||s(),requestAnimationFrame(()=>m.current=!0)}},[f,i.trigger,i.valueNode,l,d,p,w,b,i.dir,s]);os(()=>N(),[N]);const[E,T]=y.useState();os(()=>{d&&T(window.getComputedStyle(d).zIndex)},[d]);const R=y.useCallback($=>{$&&x.current===!0&&(N(),v==null||v(),x.current=!1)},[N,v]);return a.jsx(Vce,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:R,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:a.jsx(xt.div,{...r,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...r.style}})})})});GF.displayName=Bce;var Uce="SelectPopperPosition",L1=y.forwardRef((t,e)=>{const{__scopeSelect:n,align:s="start",collisionPadding:r=xi,...i}=t,o=Kx(n);return a.jsx(i6,{...o,...i,ref:e,align:s,collisionPadding:r,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});L1.displayName=Uce;var[Vce,vj]=Fu(_c,{}),B1="SelectViewport",YF=y.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:s,...r}=t,i=jl(B1,n),o=vj(B1,n),l=nn(e,i.onViewportChange),c=y.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),a.jsx(Wx.Slot,{scope:n,children:a.jsx(xt.div,{"data-radix-select-viewport":"",role:"presentation",...r,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...r.style},onScroll:at(r.onScroll,d=>{const u=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&h){const m=Math.abs(c.current-u.scrollTop);if(m>0){const x=window.innerHeight-xi*2,p=parseFloat(h.style.minHeight),w=parseFloat(h.style.height),b=Math.max(p,w);if(b<x){const v=b+m,N=Math.min(x,v),E=v-N;h.style.height=N+"px",h.style.bottom==="0px"&&(u.scrollTop=E>0?E:0,h.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});YF.displayName=B1;var XF="SelectGroup",[zce,Hce]=Fu(XF),Wce=y.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,r=Zo();return a.jsx(zce,{scope:n,id:r,children:a.jsx(xt.div,{role:"group","aria-labelledby":r,...s,ref:e})})});Wce.displayName=XF;var JF="SelectLabel",QF=y.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,r=Hce(JF,n);return a.jsx(xt.div,{id:r.id,...s,ref:e})});QF.displayName=JF;var I0="SelectItem",[qce,ZF]=Fu(I0),eL=y.forwardRef((t,e)=>{const{__scopeSelect:n,value:s,disabled:r=!1,textValue:i,...o}=t,l=kl(I0,n),c=jl(I0,n),d=l.value===s,[u,h]=y.useState(i??""),[f,m]=y.useState(!1),x=nn(e,v=>{var N;return(N=c.itemRefCallback)==null?void 0:N.call(c,v,s,r)}),p=Zo(),w=y.useRef("touch"),b=()=>{r||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(qce,{scope:n,value:s,disabled:r,textId:p,isSelected:d,onItemTextChange:y.useCallback(v=>{h(N=>N||((v==null?void 0:v.textContent)??"").trim())},[]),children:a.jsx(Wx.ItemSlot,{scope:n,value:s,disabled:r,textValue:u,children:a.jsx(xt.div,{role:"option","aria-labelledby":p,"data-highlighted":f?"":void 0,"aria-selected":d&&f,"data-state":d?"checked":"unchecked","aria-disabled":r||void 0,"data-disabled":r?"":void 0,tabIndex:r?void 0:-1,...o,ref:x,onFocus:at(o.onFocus,()=>m(!0)),onBlur:at(o.onBlur,()=>m(!1)),onClick:at(o.onClick,()=>{w.current!=="mouse"&&b()}),onPointerUp:at(o.onPointerUp,()=>{w.current==="mouse"&&b()}),onPointerDown:at(o.onPointerDown,v=>{w.current=v.pointerType}),onPointerMove:at(o.onPointerMove,v=>{var N;w.current=v.pointerType,r?(N=c.onItemLeave)==null||N.call(c):w.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:at(o.onPointerLeave,v=>{var N;v.currentTarget===document.activeElement&&((N=c.onItemLeave)==null||N.call(c))}),onKeyDown:at(o.onKeyDown,v=>{var E;((E=c.searchRef)==null?void 0:E.current)!==""&&v.key===" "||(Ice.includes(v.key)&&b(),v.key===" "&&v.preventDefault())})})})})});eL.displayName=I0;var Nh="SelectItemText",tL=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:s,style:r,...i}=t,o=kl(Nh,n),l=jl(Nh,n),c=ZF(Nh,n),d=$ce(Nh,n),[u,h]=y.useState(null),f=nn(e,b=>h(b),c.onItemTextChange,b=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,b,c.value,c.disabled)}),m=u==null?void 0:u.textContent,x=y.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:w}=d;return os(()=>(p(x),()=>w(x)),[p,w,x]),a.jsxs(a.Fragment,{children:[a.jsx(xt.span,{id:c.textId,...i,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Oc.createPortal(i.children,o.valueNode):null]})});tL.displayName=Nh;var nL="SelectItemIndicator",sL=y.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t;return ZF(nL,n).isSelected?a.jsx(xt.span,{"aria-hidden":!0,...s,ref:e}):null});sL.displayName=nL;var U1="SelectScrollUpButton",rL=y.forwardRef((t,e)=>{const n=jl(U1,t.__scopeSelect),s=vj(U1,t.__scopeSelect),[r,i]=y.useState(!1),o=nn(e,s.onScrollButtonChange);return os(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),r?a.jsx(aL,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});rL.displayName=U1;var V1="SelectScrollDownButton",iL=y.forwardRef((t,e)=>{const n=jl(V1,t.__scopeSelect),s=vj(V1,t.__scopeSelect),[r,i]=y.useState(!1),o=nn(e,s.onScrollButtonChange);return os(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),r?a.jsx(aL,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});iL.displayName=V1;var aL=y.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:s,...r}=t,i=jl("SelectScrollButton",n),o=y.useRef(null),l=qx(n),c=y.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return y.useEffect(()=>()=>c(),[c]),os(()=>{var u;const d=l().find(h=>h.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),a.jsx(xt.div,{"aria-hidden":!0,...r,ref:e,style:{flexShrink:0,...r.style},onPointerDown:at(r.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:at(r.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:at(r.onPointerLeave,()=>{c()})})}),Kce="SelectSeparator",oL=y.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t;return a.jsx(xt.div,{"aria-hidden":!0,...s,ref:e})});oL.displayName=Kce;var z1="SelectArrow",Gce=y.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,r=Kx(n),i=kl(z1,n),o=jl(z1,n);return i.open&&o.position==="popper"?a.jsx(a6,{...r,...s,ref:e}):null});Gce.displayName=z1;function lL(t){return t===""||t===void 0}var cL=y.forwardRef((t,e)=>{const{value:n,...s}=t,r=y.useRef(null),i=nn(e,r),o=OF(n);return y.useEffect(()=>{const l=r.current,c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==n&&u){const h=new Event("change",{bubbles:!0});u.call(l,n),l.dispatchEvent(h)}},[o,n]),a.jsx(um,{asChild:!0,children:a.jsx("select",{...s,ref:i,defaultValue:n})})});cL.displayName="BubbleSelect";function dL(t){const e=qs(t),n=y.useRef(""),s=y.useRef(0),r=y.useCallback(o=>{const l=n.current+o;e(l),function c(d){n.current=d,window.clearTimeout(s.current),d!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),i=y.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,r,i]}function uL(t,e,n){const r=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=Yce(t,Math.max(i,0));r.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(r.toLowerCase()));return c!==n?c:void 0}function Yce(t,e){return t.map((n,s)=>t[(e+s)%t.length])}var Xce=FF,hL=BF,Jce=VF,Qce=zF,Zce=HF,fL=WF,ede=YF,mL=QF,pL=eL,tde=tL,nde=sL,gL=rL,xL=iL,yL=oL;const du=Xce,uu=Jce,Pc=y.forwardRef(({className:t,children:e,...n},s)=>a.jsxs(hL,{ref:s,className:rt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,a.jsx(Qce,{asChild:!0,children:a.jsx(jM,{className:"h-4 w-4 opacity-50"})})]}));Pc.displayName=hL.displayName;const vL=y.forwardRef(({className:t,...e},n)=>a.jsx(gL,{ref:n,className:rt("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(z7,{className:"h-4 w-4"})}));vL.displayName=gL.displayName;const bL=y.forwardRef(({className:t,...e},n)=>a.jsx(xL,{ref:n,className:rt("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(jM,{className:"h-4 w-4"})}));bL.displayName=xL.displayName;const Ic=y.forwardRef(({className:t,children:e,position:n="popper",...s},r)=>a.jsx(Zce,{children:a.jsxs(fL,{ref:r,className:rt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...s,children:[a.jsx(vL,{}),a.jsx(ede,{className:rt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),a.jsx(bL,{})]})}));Ic.displayName=fL.displayName;const sde=y.forwardRef(({className:t,...e},n)=>a.jsx(mL,{ref:n,className:rt("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));sde.displayName=mL.displayName;const nr=y.forwardRef(({className:t,children:e,...n},s)=>a.jsxs(pL,{ref:s,className:rt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(nde,{children:a.jsx(kM,{className:"h-4 w-4"})})}),a.jsx(tde,{children:e})]}));nr.displayName=pL.displayName;const rde=y.forwardRef(({className:t,...e},n)=>a.jsx(yL,{ref:n,className:rt("-mx-1 my-1 h-px bg-muted",t),...e}));rde.displayName=yL.displayName;var bj="Switch",[ide,tye]=Fc(bj),[ade,ode]=ide(bj),wL=y.forwardRef((t,e)=>{const{__scopeSwitch:n,name:s,checked:r,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...h}=t,[f,m]=y.useState(null),x=nn(e,N=>m(N)),p=y.useRef(!1),w=f?u||!!f.closest("form"):!0,[b=!1,v]=xc({prop:r,defaultProp:i,onChange:d});return a.jsxs(ade,{scope:n,checked:b,disabled:l,children:[a.jsx(xt.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":jL(b),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:x,onClick:at(t.onClick,N=>{v(E=>!E),w&&(p.current=N.isPropagationStopped(),p.current||N.stopPropagation())})}),w&&a.jsx(lde,{control:f,bubbles:!p.current,name:s,value:c,checked:b,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});wL.displayName=bj;var NL="SwitchThumb",kL=y.forwardRef((t,e)=>{const{__scopeSwitch:n,...s}=t,r=ode(NL,n);return a.jsx(xt.span,{"data-state":jL(r.checked),"data-disabled":r.disabled?"":void 0,...s,ref:e})});kL.displayName=NL;var lde=t=>{const{control:e,checked:n,bubbles:s=!0,...r}=t,i=y.useRef(null),o=OF(n),l=GM(e);return y.useEffect(()=>{const c=i.current,d=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==n&&h){const f=new Event("click",{bubbles:s});h.call(c,n),c.dispatchEvent(f)}},[o,n,s]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...r,tabIndex:-1,ref:i,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function jL(t){return t?"checked":"unchecked"}var SL=wL,cde=kL;const AL=y.forwardRef(({className:t,...e},n)=>a.jsx(SL,{className:rt("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:a.jsx(cde,{className:rt("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));AL.displayName=SL.displayName;const TL=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"InvoiceSettledByAdmin",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"issuer",type:"address"},{indexed:!1,internalType:"string",name:"metadataURI",type:"string"}],name:"IssuerAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"manager",type:"address"},{indexed:!1,internalType:"string",name:"metadataURI",type:"string"}],name:"ManagerAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"paused",type:"bool"}],name:"MarketplacePaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[{internalType:"address",name:"_issuer",type:"address"},{internalType:"string",name:"_metadataURI",type:"string"}],name:"addIssuer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_manager",type:"address"},{internalType:"string",name:"_metadataURI",type:"string"}],name:"addManager",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"allIssuers",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"allManagers",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_manager",type:"address"},{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"assignManager",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getAllIssuers",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAllManagers",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"getIssuerAt",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getIssuerCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"getManagerAt",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getManagerCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_manager",type:"address"}],name:"getManagerTokens",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getTokenLifecycle",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_address",type:"address"}],name:"isAdmin",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"isIssuer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"isManager",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_manager",type:"address"},{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"isManagerForToken",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"isTokenSettled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"issuerMetadata",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"managerMetadata",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"managerTokens",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"marketplacePaused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pauseMarketplace",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_issuer",type:"address"}],name:"removeIssuer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_manager",type:"address"}],name:"removeManager",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_tokenContract",type:"address"}],name:"setTokenContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"settleInvoice",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"tokenContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenManager",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}],CL=[{inputs:[{internalType:"address",name:"_adminContract",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"settlementAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"InvoiceSettled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"enum ERC1155Core.TokenLifecycle",name:"newStatus",type:"uint8"}],name:"LifecycleChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"TokenBurned",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"issuer",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"price",type:"uint256"},{indexed:!1,internalType:"string",name:"metadataURI",type:"string"}],name:"TokenMinted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256[]",name:"ids",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"TransferBatch",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"TransferSingle",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"value",type:"string"},{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"URI",type:"event"},{inputs:[],name:"adminContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"accounts",type:"address[]"},{internalType:"uint256[]",name:"ids",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"burnAllTokens",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getSettlementInfo",outputs:[{internalType:"bool",name:"settled",type:"bool"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getTokenHolders",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getTokenInfo",outputs:[{internalType:"uint256",name:"price",type:"uint256"},{internalType:"string",name:"metadataURI",type:"string"},{internalType:"address",name:"issuer",type:"address"},{internalType:"uint256",name:"supply",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getTokenLifecycleStatus",outputs:[{internalType:"enum ERC1155Core.TokenLifecycle",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"}],name:"isTokenHolder",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"isTokenTradeable",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"issuerContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"markInvoiceSettled",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"uint256",name:"_price",type:"uint256"},{internalType:"string",name:"_metadataURI",type:"string"}],name:"mintToken",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_issuer",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"uint256",name:"_price",type:"uint256"},{internalType:"string",name:"_metadataURI",type:"string"}],name:"mintTokenForIssuer",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"uint256",name:"_price",type:"uint256"},{internalType:"string",name:"_metadataURI",type:"string"}],name:"mintTokenTo",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"nextTokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"paymentSplitterContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_issuerContract",type:"address"}],name:"setIssuerContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_paymentSplitterContract",type:"address"}],name:"setPaymentSplitterContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_tokenManagementContract",type:"address"}],name:"setTokenManagementContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"settlementAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"settlementTimestamp",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],name:"tokenHolders",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenIssuer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenLifecycle",outputs:[{internalType:"enum ERC1155Core.TokenLifecycle",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"tokenManagementContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenMetadata",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenSettled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"newPrice",type:"uint256"}],name:"updateTokenPrice",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_issuer",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"newPrice",type:"uint256"}],name:"updateTokenPriceForIssuer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],EL=[{inputs:[{internalType:"address",name:"_adminContract",type:"address"},{internalType:"address",name:"_tokenContract",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"buyer",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"platformFee",type:"uint256"}],name:"AssetBought",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"issuer",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"price",type:"uint256"}],name:"AssetListed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"seller",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"platformFee",type:"uint256"}],name:"AssetSold",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"holder",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"AssetWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"admin",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"EarningsWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"issuer",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"ListingRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"string",name:"newMetadataURI",type:"string"}],name:"ListingUpdated",type:"event"},{inputs:[],name:"PLATFORM_FEE_PERCENT",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"activeTokens",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"adminContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"buyAsset",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"getAllListings",outputs:[{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"},{internalType:"address[]",name:"issuers",type:"address[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"uint256[]",name:"prices",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMyAssets",outputs:[{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"getTokenHolders",outputs:[{internalType:"address[]",name:"holders",type:"address[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"getTokenHoldersList",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"getTotalListed",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_user",type:"address"},{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"getUserBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"listAsset",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"listings",outputs:[{internalType:"address",name:"issuer",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bool",name:"active",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155BatchReceived",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[],name:"paymentSplitter",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"removeListing",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"sellAsset",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_paymentSplitter",type:"address"}],name:"setPaymentSplitter",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_tokenManagementContract",type:"address"}],name:"setTokenManagementContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"tokenContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"tokenHolders",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],name:"tokenHoldersList",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"tokenManagementContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalEarnings",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"totalTokensListed",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"string",name:"_newMetadataURI",type:"string"}],name:"updateListing",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"userTokenIds",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"withdrawAsset",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawEarnings",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],_L=[{inputs:[{internalType:"address",name:"_adminContract",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"totalAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"toHolders",type:"uint256"},{indexed:!1,internalType:"uint256",name:"toPlatform",type:"uint256"}],name:"InvoiceSettled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"totalAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"toHolders",type:"uint256"},{indexed:!1,internalType:"uint256",name:"toPlatform",type:"uint256"}],name:"RentalDistributed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"settlementAmount",type:"uint256"}],name:"TokenBurnInitiated",type:"event"},{inputs:[],name:"adminContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"getSettlementAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"isTokenSettled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"marketplaceContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"processInvoiceSettlement",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_marketplaceContract",type:"address"}],name:"setMarketplace",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_tokenContract",type:"address"}],name:"setTokenContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"settlementAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"submitRental",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"tokenContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenSettled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{stateMutability:"payable",type:"receive"}],PL=[{inputs:[{internalType:"address",name:"_adminContract",type:"address"},{internalType:"address",name:"_tokenContract",type:"address"},{internalType:"address",name:"_marketplaceContract",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"requestId",type:"bytes32"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"issuer",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"price",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"TokenDeployed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"issuer",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"price",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"TokenListedOnMarketplace",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"requestId",type:"bytes32"},{indexed:!0,internalType:"address",name:"admin",type:"address"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"TokenRequestApproved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"requestId",type:"bytes32"},{indexed:!0,internalType:"address",name:"admin",type:"address"},{indexed:!1,internalType:"string",name:"reason",type:"string"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"TokenRequestRejected",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"requestId",type:"bytes32"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"settlementAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"TokenRequestSettled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"requestId",type:"bytes32"},{indexed:!0,internalType:"address",name:"issuer",type:"address"},{indexed:!1,internalType:"string",name:"metadataURI",type:"string"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"price",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"TokenRequestSubmitted",type:"event"},{inputs:[],name:"adminContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"allRequestIds",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_requestId",type:"bytes32"}],name:"approveTokenRequest",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"approvedRequestIds",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_requestId",type:"bytes32"}],name:"deployApprovedToken",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getApprovedRequests",outputs:[{internalType:"bytes32[]",name:"",type:"bytes32[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMyRequests",outputs:[{internalType:"bytes32[]",name:"",type:"bytes32[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMyTokens",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPendingRequests",outputs:[{internalType:"bytes32[]",name:"",type:"bytes32[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_requestId",type:"bytes32"}],name:"getRequestDetails",outputs:[{components:[{internalType:"bytes32",name:"requestId",type:"bytes32"},{internalType:"address",name:"issuer",type:"address"},{internalType:"string",name:"metadataURI",type:"string"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"enum TokenManagement.RequestStatus",name:"status",type:"uint8"},{internalType:"uint256",name:"submittedAt",type:"uint256"},{internalType:"uint256",name:"approvedAt",type:"uint256"},{internalType:"uint256",name:"deployedAt",type:"uint256"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"rejectionReason",type:"string"},{internalType:"uint256",name:"settledAt",type:"uint256"},{internalType:"uint256",name:"settlementAmount",type:"uint256"}],internalType:"struct TokenManagement.TokenRequest",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getRequestIdFromTokenId",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"requestId",type:"bytes32"}],name:"getRequestSettlementInfo",outputs:[{internalType:"bool",name:"settled",type:"bool"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"issuer",type:"address"}],name:"getSettledRequests",outputs:[{internalType:"bytes32[]",name:"",type:"bytes32[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"requestId",type:"bytes32"}],name:"isRequestSettled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"issuerRequests",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"issuerTokens",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_requestId",type:"bytes32"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"listTokenOnMarketplace",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"markRequestSettled",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"marketplaceContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"pendingRequestIds",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_requestId",type:"bytes32"},{internalType:"string",name:"_reason",type:"string"}],name:"rejectTokenRequest",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"requestSettled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"requestSettlementAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_metadataURI",type:"string"},{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"uint256",name:"_price",type:"uint256"}],name:"submitTokenRequest",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"tokenContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenIdToRequestId",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"tokenRequests",outputs:[{internalType:"bytes32",name:"requestId",type:"bytes32"},{internalType:"address",name:"issuer",type:"address"},{internalType:"string",name:"metadataURI",type:"string"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"enum TokenManagement.RequestStatus",name:"status",type:"uint8"},{internalType:"uint256",name:"submittedAt",type:"uint256"},{internalType:"uint256",name:"approvedAt",type:"uint256"},{internalType:"uint256",name:"deployedAt",type:"uint256"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"rejectionReason",type:"string"},{internalType:"uint256",name:"settledAt",type:"uint256"},{internalType:"uint256",name:"settlementAmount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_adminContract",type:"address"},{internalType:"address",name:"_tokenContract",type:"address"},{internalType:"address",name:"_marketplaceContract",type:"address"}],name:"updateContracts",outputs:[],stateMutability:"nonpayable",type:"function"}],Hn={ADMIN:TL,ERC1155CORE:CL,MARKETPLACE:EL,PAYMENTSPLITTER:_L,TOKENMANAGEMENT:PL},ti=Object.freeze(Object.defineProperty({__proto__:null,ADMIN_ABI:TL,CONTRACT_ABIS:Hn,ERC1155CORE_ABI:CL,MARKETPLACE_ABI:EL,PAYMENTSPLITTER_ABI:_L,TOKENMANAGEMENT_ABI:PL},Symbol.toStringTag,{value:"Module"})),dde=["function getPendingRequests() external view returns (bytes32[] memory)","function getApprovedRequests() external view returns (bytes32[] memory)","function getRequestDetails(bytes32 _requestId) external view returns (tuple(bytes32 requestId, address issuer, string metadataURI, uint256 amount, uint256 price, uint8 status, uint256 submittedAt, uint256 approvedAt, uint256 deployedAt, uint256 tokenId, string rejectionReason))","function approveTokenRequest(bytes32 _requestId) external","function rejectTokenRequest(bytes32 _requestId, string memory _reason) external","event TokenRequestSubmitted(bytes32 indexed requestId, address indexed issuer, string metadataURI, uint256 amount, uint256 price, uint256 timestamp)","event TokenRequestApproved(bytes32 indexed requestId, address indexed admin, uint256 timestamp)","event TokenRequestRejected(bytes32 indexed requestId, address indexed admin, string reason, uint256 timestamp)"];class ude{constructor(){this.initialized=!1,this.tokenManagementContract=null,this.tokenManagementAddress="0x24eb8429Dc1e5f217866D0c74Db245Fa3aAFA31A"}async initialize(e,n){try{this.provider=e,this.signer=e.getSigner(),this.tokenManagementContract=new qe(n,dde,this.signer),this.initialized=!0,console.log(" Admin Token Management Service initialized:",n)}catch(s){throw console.error(" Failed to initialize Admin Token Management Service:",s),s}}async getPendingTokenRequests(){if(!this.initialized)throw new Error("Service not initialized");try{console.log(" Fetching pending token requests from TokenManagement contract...");const e=await this.tokenManagementContract.getPendingRequests();console.log(" Found pending request IDs:",e);const n=[];for(const s of e)try{const r=await this.tokenManagementContract.getRequestDetails(s),i={requestId:s,issuer:r.issuer,metadataURI:r.metadataURI,amount:r.amount.toString(),price:De(r.price),status:this._getStatusString(r.status),submittedAt:new Date(r.submittedAt*1e3),approvedAt:r.approvedAt>0?new Date(r.approvedAt*1e3):void 0,deployedAt:r.deployedAt>0?new Date(r.deployedAt*1e3):void 0,tokenId:r.tokenId>0?r.tokenId.toString():void 0,rejectionReason:r.rejectionReason||void 0};n.push(i),console.log(" Request details:",i)}catch(r){console.warn(`Failed to fetch details for request ${s}:`,r)}return console.log(" Fetched pending requests:",n.length),n}catch(e){throw console.error(" Failed to fetch pending token requests:",e),e}}async getApprovedTokenRequests(){if(!this.initialized)throw new Error("Service not initialized");try{console.log(" Fetching approved token requests...");const e=await this.tokenManagementContract.getApprovedRequests(),n=[];for(const s of e)try{const r=await this.tokenManagementContract.getRequestDetails(s);n.push({requestId:s,issuer:r.issuer,metadataURI:r.metadataURI,amount:r.amount.toString(),price:De(r.price),status:this._getStatusString(r.status),submittedAt:new Date(r.submittedAt*1e3),approvedAt:r.approvedAt>0?new Date(r.approvedAt*1e3):void 0})}catch(r){console.warn(`Failed to fetch details for approved request ${s}:`,r)}return console.log(" Fetched approved requests:",n.length),n}catch(e){throw console.error(" Failed to fetch approved token requests:",e),e}}async approveTokenRequest(e){if(!this.initialized)throw new Error("Service not initialized");try{console.log(" Approving token request:",e);const n=await this.tokenManagementContract.approveTokenRequest(e);console.log(" Approval transaction sent:",n.hash);const s=await n.wait();return console.log(" Token request approved successfully!"),{txHash:n.hash,status:"approved"}}catch(n){throw console.error(" Failed to approve token request:",n),n}}async rejectTokenRequest(e,n){if(!this.initialized)throw new Error("Service not initialized");try{console.log(" Rejecting token request:",e,"Reason:",n);const s=await this.tokenManagementContract.rejectTokenRequest(e,n);console.log(" Rejection transaction sent:",s.hash);const r=await s.wait();return console.log(" Token request rejected successfully!"),{txHash:s.hash,status:"rejected"}}catch(s){throw console.error(" Failed to reject token request:",s),s}}async fetchMetadataFromIPFS(e){try{const n=await fetch(e);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(n){return console.error("Failed to fetch metadata from IPFS:",n),null}}async getFormattedPendingAssets(){try{const e=await this.getPendingTokenRequests(),n=await Promise.all(e.map(async s=>{let r=null;return s.metadataURI&&(r=await this.fetchMetadataFromIPFS(s.metadataURI)),{assetId:s.requestId,requestId:s.requestId,name:(r==null?void 0:r.name)||`Token Request ${s.requestId.slice(0,8)}...`,description:(r==null?void 0:r.description)||`${s.amount} tokens at ${s.price} ETH each`,status:"Pending",createdAt:s.submittedAt,metadataURI:s.metadataURI,issuer:s.issuer,amount:s.amount,price:s.price,metadata:r,tokenRequest:!0,submittedAt:s.submittedAt}}));return console.log(" Formatted pending assets for UI:",n.length),n}catch(e){return console.error(" Failed to get formatted pending assets:",e),[]}}_getStatusString(e){return{0:"Pending",1:"Approved",2:"Rejected",3:"Deployed",4:"Listed"}[e]||"Unknown"}}function IL(t,e){return function(){return t.apply(e,arguments)}}const{toString:hde}=Object.prototype,{getPrototypeOf:wj}=Object,{iterator:Gx,toStringTag:RL}=Symbol,Yx=(t=>e=>{const n=hde.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Fi=t=>(t=t.toLowerCase(),e=>Yx(e)===t),Xx=t=>e=>typeof e===t,{isArray:Lu}=Array,Xf=Xx("undefined");function fde(t){return t!==null&&!Xf(t)&&t.constructor!==null&&!Xf(t.constructor)&&gr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const ML=Fi("ArrayBuffer");function mde(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&ML(t.buffer),e}const pde=Xx("string"),gr=Xx("function"),DL=Xx("number"),Jx=t=>t!==null&&typeof t=="object",gde=t=>t===!0||t===!1,vg=t=>{if(Yx(t)!=="object")return!1;const e=wj(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(RL in t)&&!(Gx in t)},xde=Fi("Date"),yde=Fi("File"),vde=Fi("Blob"),bde=Fi("FileList"),wde=t=>Jx(t)&&gr(t.pipe),Nde=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||gr(t.append)&&((e=Yx(t))==="formdata"||e==="object"&&gr(t.toString)&&t.toString()==="[object FormData]"))},kde=Fi("URLSearchParams"),[jde,Sde,Ade,Tde]=["ReadableStream","Request","Response","Headers"].map(Fi),Cde=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function _m(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let s,r;if(typeof t!="object"&&(t=[t]),Lu(t))for(s=0,r=t.length;s<r;s++)e.call(null,t[s],s,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let l;for(s=0;s<o;s++)l=i[s],e.call(null,t[l],l,t)}}function $L(t,e){e=e.toLowerCase();const n=Object.keys(t);let s=n.length,r;for(;s-- >0;)if(r=n[s],e===r.toLowerCase())return r;return null}const Ql=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis,OL=t=>!Xf(t)&&t!==Ql;function H1(){const{caseless:t}=OL(this)&&this||{},e={},n=(s,r)=>{const i=t&&$L(e,r)||r;vg(e[i])&&vg(s)?e[i]=H1(e[i],s):vg(s)?e[i]=H1({},s):Lu(s)?e[i]=s.slice():e[i]=s};for(let s=0,r=arguments.length;s<r;s++)arguments[s]&&_m(arguments[s],n);return e}const Ede=(t,e,n,{allOwnKeys:s}={})=>(_m(e,(r,i)=>{n&&gr(r)?t[i]=IL(r,n):t[i]=r},{allOwnKeys:s}),t),_de=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Pde=(t,e,n,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Ide=(t,e,n,s)=>{let r,i,o;const l={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),i=r.length;i-- >0;)o=r[i],(!s||s(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=n!==!1&&wj(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Rde=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const s=t.indexOf(e,n);return s!==-1&&s===n},Mde=t=>{if(!t)return null;if(Lu(t))return t;let e=t.length;if(!DL(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Dde=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&wj(Uint8Array)),$de=(t,e)=>{const s=(t&&t[Gx]).call(t);let r;for(;(r=s.next())&&!r.done;){const i=r.value;e.call(t,i[0],i[1])}},Ode=(t,e)=>{let n;const s=[];for(;(n=t.exec(e))!==null;)s.push(n);return s},Fde=Fi("HTMLFormElement"),Lde=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,r){return s.toUpperCase()+r}),G_=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Bde=Fi("RegExp"),FL=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),s={};_m(n,(r,i)=>{let o;(o=e(r,i,t))!==!1&&(s[i]=o||r)}),Object.defineProperties(t,s)},Ude=t=>{FL(t,(e,n)=>{if(gr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=t[n];if(gr(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Vde=(t,e)=>{const n={},s=r=>{r.forEach(i=>{n[i]=!0})};return Lu(t)?s(t):s(String(t).split(e)),n},zde=()=>{},Hde=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Wde(t){return!!(t&&gr(t.append)&&t[RL]==="FormData"&&t[Gx])}const qde=t=>{const e=new Array(10),n=(s,r)=>{if(Jx(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[r]=s;const i=Lu(s)?[]:{};return _m(s,(o,l)=>{const c=n(o,r+1);!Xf(c)&&(i[l]=c)}),e[r]=void 0,i}}return s};return n(t,0)},Kde=Fi("AsyncFunction"),Gde=t=>t&&(Jx(t)||gr(t))&&gr(t.then)&&gr(t.catch),LL=((t,e)=>t?setImmediate:e?((n,s)=>(Ql.addEventListener("message",({source:r,data:i})=>{r===Ql&&i===n&&s.length&&s.shift()()},!1),r=>{s.push(r),Ql.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",gr(Ql.postMessage)),Yde=typeof queueMicrotask<"u"?queueMicrotask.bind(Ql):typeof process<"u"&&process.nextTick||LL,Xde=t=>t!=null&&gr(t[Gx]),le={isArray:Lu,isArrayBuffer:ML,isBuffer:fde,isFormData:Nde,isArrayBufferView:mde,isString:pde,isNumber:DL,isBoolean:gde,isObject:Jx,isPlainObject:vg,isReadableStream:jde,isRequest:Sde,isResponse:Ade,isHeaders:Tde,isUndefined:Xf,isDate:xde,isFile:yde,isBlob:vde,isRegExp:Bde,isFunction:gr,isStream:wde,isURLSearchParams:kde,isTypedArray:Dde,isFileList:bde,forEach:_m,merge:H1,extend:Ede,trim:Cde,stripBOM:_de,inherits:Pde,toFlatObject:Ide,kindOf:Yx,kindOfTest:Fi,endsWith:Rde,toArray:Mde,forEachEntry:$de,matchAll:Ode,isHTMLForm:Fde,hasOwnProperty:G_,hasOwnProp:G_,reduceDescriptors:FL,freezeMethods:Ude,toObjectSet:Vde,toCamelCase:Lde,noop:zde,toFiniteNumber:Hde,findKey:$L,global:Ql,isContextDefined:OL,isSpecCompliantForm:Wde,toJSONObject:qde,isAsyncFn:Kde,isThenable:Gde,setImmediate:LL,asap:Yde,isIterable:Xde};function kt(t,e,n,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),s&&(this.request=s),r&&(this.response=r,this.status=r.status?r.status:null)}le.inherits(kt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:le.toJSONObject(this.config),code:this.code,status:this.status}}});const BL=kt.prototype,UL={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{UL[t]={value:t}});Object.defineProperties(kt,UL);Object.defineProperty(BL,"isAxiosError",{value:!0});kt.from=(t,e,n,s,r,i)=>{const o=Object.create(BL);return le.toFlatObject(t,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),kt.call(o,t.message,e,n,s,r),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const Jde=null;function W1(t){return le.isPlainObject(t)||le.isArray(t)}function VL(t){return le.endsWith(t,"[]")?t.slice(0,-2):t}function Y_(t,e,n){return t?t.concat(e).map(function(r,i){return r=VL(r),!n&&i?"["+r+"]":r}).join(n?".":""):e}function Qde(t){return le.isArray(t)&&!t.some(W1)}const Zde=le.toFlatObject(le,{},null,function(e){return/^is[A-Z]/.test(e)});function Qx(t,e,n){if(!le.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=le.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,w){return!le.isUndefined(w[p])});const s=n.metaTokens,r=n.visitor||u,i=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&le.isSpecCompliantForm(e);if(!le.isFunction(r))throw new TypeError("visitor must be a function");function d(x){if(x===null)return"";if(le.isDate(x))return x.toISOString();if(le.isBoolean(x))return x.toString();if(!c&&le.isBlob(x))throw new kt("Blob is not supported. Use a Buffer instead.");return le.isArrayBuffer(x)||le.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function u(x,p,w){let b=x;if(x&&!w&&typeof x=="object"){if(le.endsWith(p,"{}"))p=s?p:p.slice(0,-2),x=JSON.stringify(x);else if(le.isArray(x)&&Qde(x)||(le.isFileList(x)||le.endsWith(p,"[]"))&&(b=le.toArray(x)))return p=VL(p),b.forEach(function(N,E){!(le.isUndefined(N)||N===null)&&e.append(o===!0?Y_([p],E,i):o===null?p:p+"[]",d(N))}),!1}return W1(x)?!0:(e.append(Y_(w,p,i),d(x)),!1)}const h=[],f=Object.assign(Zde,{defaultVisitor:u,convertValue:d,isVisitable:W1});function m(x,p){if(!le.isUndefined(x)){if(h.indexOf(x)!==-1)throw Error("Circular reference detected in "+p.join("."));h.push(x),le.forEach(x,function(b,v){(!(le.isUndefined(b)||b===null)&&r.call(e,b,le.isString(v)?v.trim():v,p,f))===!0&&m(b,p?p.concat(v):[v])}),h.pop()}}if(!le.isObject(t))throw new TypeError("data must be an object");return m(t),e}function X_(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Nj(t,e){this._pairs=[],t&&Qx(t,this,e)}const zL=Nj.prototype;zL.append=function(e,n){this._pairs.push([e,n])};zL.toString=function(e){const n=e?function(s){return e.call(this,s,X_)}:X_;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function eue(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function HL(t,e,n){if(!e)return t;const s=n&&n.encode||eue;le.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let i;if(r?i=r(e,n):i=le.isURLSearchParams(e)?e.toString():new Nj(e,n).toString(s),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class J_{constructor(){this.handlers=[]}use(e,n,s){return this.handlers.push({fulfilled:e,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){le.forEach(this.handlers,function(s){s!==null&&e(s)})}}const WL={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},tue=typeof URLSearchParams<"u"?URLSearchParams:Nj,nue=typeof FormData<"u"?FormData:null,sue=typeof Blob<"u"?Blob:null,rue={isBrowser:!0,classes:{URLSearchParams:tue,FormData:nue,Blob:sue},protocols:["http","https","file","blob","url","data"]},kj=typeof window<"u"&&typeof document<"u",q1=typeof navigator=="object"&&navigator||void 0,iue=kj&&(!q1||["ReactNative","NativeScript","NS"].indexOf(q1.product)<0),aue=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",oue=kj&&window.location.href||"http://localhost",lue=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:kj,hasStandardBrowserEnv:iue,hasStandardBrowserWebWorkerEnv:aue,navigator:q1,origin:oue},Symbol.toStringTag,{value:"Module"})),Cs={...lue,...rue};function cue(t,e){return Qx(t,new Cs.classes.URLSearchParams,Object.assign({visitor:function(n,s,r,i){return Cs.isNode&&le.isBuffer(n)?(this.append(s,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function due(t){return le.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function uue(t){const e={},n=Object.keys(t);let s;const r=n.length;let i;for(s=0;s<r;s++)i=n[s],e[i]=t[i];return e}function qL(t){function e(n,s,r,i){let o=n[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=n.length;return o=!o&&le.isArray(r)?r.length:o,c?(le.hasOwnProp(r,o)?r[o]=[r[o],s]:r[o]=s,!l):((!r[o]||!le.isObject(r[o]))&&(r[o]=[]),e(n,s,r[o],i)&&le.isArray(r[o])&&(r[o]=uue(r[o])),!l)}if(le.isFormData(t)&&le.isFunction(t.entries)){const n={};return le.forEachEntry(t,(s,r)=>{e(due(s),r,n,0)}),n}return null}function hue(t,e,n){if(le.isString(t))try{return(e||JSON.parse)(t),le.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(0,JSON.stringify)(t)}const Pm={transitional:WL,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const s=n.getContentType()||"",r=s.indexOf("application/json")>-1,i=le.isObject(e);if(i&&le.isHTMLForm(e)&&(e=new FormData(e)),le.isFormData(e))return r?JSON.stringify(qL(e)):e;if(le.isArrayBuffer(e)||le.isBuffer(e)||le.isStream(e)||le.isFile(e)||le.isBlob(e)||le.isReadableStream(e))return e;if(le.isArrayBufferView(e))return e.buffer;if(le.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return cue(e,this.formSerializer).toString();if((l=le.isFileList(e))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Qx(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return i||r?(n.setContentType("application/json",!1),hue(e)):e}],transformResponse:[function(e){const n=this.transitional||Pm.transitional,s=n&&n.forcedJSONParsing,r=this.responseType==="json";if(le.isResponse(e)||le.isReadableStream(e))return e;if(e&&le.isString(e)&&(s&&!this.responseType||r)){const o=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?kt.from(l,kt.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Cs.classes.FormData,Blob:Cs.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};le.forEach(["delete","get","head","post","put","patch"],t=>{Pm.headers[t]={}});const fue=le.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),mue=t=>{const e={};let n,s,r;return t&&t.split(`
`).forEach(function(o){r=o.indexOf(":"),n=o.substring(0,r).trim().toLowerCase(),s=o.substring(r+1).trim(),!(!n||e[n]&&fue[n])&&(n==="set-cookie"?e[n]?e[n].push(s):e[n]=[s]:e[n]=e[n]?e[n]+", "+s:s)}),e},Q_=Symbol("internals");function ah(t){return t&&String(t).trim().toLowerCase()}function bg(t){return t===!1||t==null?t:le.isArray(t)?t.map(bg):String(t)}function pue(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(t);)e[s[1]]=s[2];return e}const gue=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function tb(t,e,n,s,r){if(le.isFunction(s))return s.call(this,e,n);if(r&&(e=n),!!le.isString(e)){if(le.isString(s))return e.indexOf(s)!==-1;if(le.isRegExp(s))return s.test(e)}}function xue(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,s)=>n.toUpperCase()+s)}function yue(t,e){const n=le.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+n,{value:function(r,i,o){return this[s].call(this,e,r,i,o)},configurable:!0})})}class xr{constructor(e){e&&this.set(e)}set(e,n,s){const r=this;function i(l,c,d){const u=ah(c);if(!u)throw new Error("header name must be a non-empty string");const h=le.findKey(r,u);(!h||r[h]===void 0||d===!0||d===void 0&&r[h]!==!1)&&(r[h||c]=bg(l))}const o=(l,c)=>le.forEach(l,(d,u)=>i(d,u,c));if(le.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(le.isString(e)&&(e=e.trim())&&!gue(e))o(mue(e),n);else if(le.isObject(e)&&le.isIterable(e)){let l={},c,d;for(const u of e){if(!le.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[d=u[0]]=(c=l[d])?le.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}o(l,n)}else e!=null&&i(n,e,s);return this}get(e,n){if(e=ah(e),e){const s=le.findKey(this,e);if(s){const r=this[s];if(!n)return r;if(n===!0)return pue(r);if(le.isFunction(n))return n.call(this,r,s);if(le.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=ah(e),e){const s=le.findKey(this,e);return!!(s&&this[s]!==void 0&&(!n||tb(this,this[s],s,n)))}return!1}delete(e,n){const s=this;let r=!1;function i(o){if(o=ah(o),o){const l=le.findKey(s,o);l&&(!n||tb(s,s[l],l,n))&&(delete s[l],r=!0)}}return le.isArray(e)?e.forEach(i):i(e),r}clear(e){const n=Object.keys(this);let s=n.length,r=!1;for(;s--;){const i=n[s];(!e||tb(this,this[i],i,e,!0))&&(delete this[i],r=!0)}return r}normalize(e){const n=this,s={};return le.forEach(this,(r,i)=>{const o=le.findKey(s,i);if(o){n[o]=bg(r),delete n[i];return}const l=e?xue(i):String(i).trim();l!==i&&delete n[i],n[l]=bg(r),s[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return le.forEach(this,(s,r)=>{s!=null&&s!==!1&&(n[r]=e&&le.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const s=new this(e);return n.forEach(r=>s.set(r)),s}static accessor(e){const s=(this[Q_]=this[Q_]={accessors:{}}).accessors,r=this.prototype;function i(o){const l=ah(o);s[l]||(yue(r,o),s[l]=!0)}return le.isArray(e)?e.forEach(i):i(e),this}}xr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);le.reduceDescriptors(xr.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[n]=s}}});le.freezeMethods(xr);function nb(t,e){const n=this||Pm,s=e||n,r=xr.from(s.headers);let i=s.data;return le.forEach(t,function(l){i=l.call(n,i,r.normalize(),e?e.status:void 0)}),r.normalize(),i}function KL(t){return!!(t&&t.__CANCEL__)}function Bu(t,e,n){kt.call(this,t??"canceled",kt.ERR_CANCELED,e,n),this.name="CanceledError"}le.inherits(Bu,kt,{__CANCEL__:!0});function GL(t,e,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?t(n):e(new kt("Request failed with status code "+n.status,[kt.ERR_BAD_REQUEST,kt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function vue(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function bue(t,e){t=t||10;const n=new Array(t),s=new Array(t);let r=0,i=0,o;return e=e!==void 0?e:1e3,function(c){const d=Date.now(),u=s[i];o||(o=d),n[r]=c,s[r]=d;let h=i,f=0;for(;h!==r;)f+=n[h++],h=h%t;if(r=(r+1)%t,r===i&&(i=(i+1)%t),d-o<e)return;const m=u&&d-u;return m?Math.round(f*1e3/m):void 0}}function wue(t,e){let n=0,s=1e3/e,r,i;const o=(d,u=Date.now())=>{n=u,r=null,i&&(clearTimeout(i),i=null),t.apply(null,d)};return[(...d)=>{const u=Date.now(),h=u-n;h>=s?o(d,u):(r=d,i||(i=setTimeout(()=>{i=null,o(r)},s-h)))},()=>r&&o(r)]}const R0=(t,e,n=3)=>{let s=0;const r=bue(50,250);return wue(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-s,d=r(c),u=o<=l;s=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&u?(l-o)/d:void 0,event:i,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(h)},n)},Z_=(t,e)=>{const n=t!=null;return[s=>e[0]({lengthComputable:n,total:t,loaded:s}),e[1]]},e5=t=>(...e)=>le.asap(()=>t(...e)),Nue=Cs.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Cs.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Cs.origin),Cs.navigator&&/(msie|trident)/i.test(Cs.navigator.userAgent)):()=>!0,kue=Cs.hasStandardBrowserEnv?{write(t,e,n,s,r,i){const o=[t+"="+encodeURIComponent(e)];le.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),le.isString(s)&&o.push("path="+s),le.isString(r)&&o.push("domain="+r),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function jue(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Sue(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function YL(t,e,n){let s=!jue(e);return t&&(s||n==!1)?Sue(t,e):e}const t5=t=>t instanceof xr?{...t}:t;function Rc(t,e){e=e||{};const n={};function s(d,u,h,f){return le.isPlainObject(d)&&le.isPlainObject(u)?le.merge.call({caseless:f},d,u):le.isPlainObject(u)?le.merge({},u):le.isArray(u)?u.slice():u}function r(d,u,h,f){if(le.isUndefined(u)){if(!le.isUndefined(d))return s(void 0,d,h,f)}else return s(d,u,h,f)}function i(d,u){if(!le.isUndefined(u))return s(void 0,u)}function o(d,u){if(le.isUndefined(u)){if(!le.isUndefined(d))return s(void 0,d)}else return s(void 0,u)}function l(d,u,h){if(h in e)return s(d,u);if(h in t)return s(void 0,d)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,u,h)=>r(t5(d),t5(u),h,!0)};return le.forEach(Object.keys(Object.assign({},t,e)),function(u){const h=c[u]||r,f=h(t[u],e[u],u);le.isUndefined(f)&&h!==l||(n[u]=f)}),n}const XL=t=>{const e=Rc({},t);let{data:n,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:i,headers:o,auth:l}=e;e.headers=o=xr.from(o),e.url=HL(YL(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(le.isFormData(n)){if(Cs.hasStandardBrowserEnv||Cs.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[d,...u]=c?c.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([d||"multipart/form-data",...u].join("; "))}}if(Cs.hasStandardBrowserEnv&&(s&&le.isFunction(s)&&(s=s(e)),s||s!==!1&&Nue(e.url))){const d=r&&i&&kue.read(i);d&&o.set(r,d)}return e},Aue=typeof XMLHttpRequest<"u",Tue=Aue&&function(t){return new Promise(function(n,s){const r=XL(t);let i=r.data;const o=xr.from(r.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=r,u,h,f,m,x;function p(){m&&m(),x&&x(),r.cancelToken&&r.cancelToken.unsubscribe(u),r.signal&&r.signal.removeEventListener("abort",u)}let w=new XMLHttpRequest;w.open(r.method.toUpperCase(),r.url,!0),w.timeout=r.timeout;function b(){if(!w)return;const N=xr.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),T={data:!l||l==="text"||l==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:N,config:t,request:w};GL(function($){n($),p()},function($){s($),p()},T),w=null}"onloadend"in w?w.onloadend=b:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(b)},w.onabort=function(){w&&(s(new kt("Request aborted",kt.ECONNABORTED,t,w)),w=null)},w.onerror=function(){s(new kt("Network Error",kt.ERR_NETWORK,t,w)),w=null},w.ontimeout=function(){let E=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const T=r.transitional||WL;r.timeoutErrorMessage&&(E=r.timeoutErrorMessage),s(new kt(E,T.clarifyTimeoutError?kt.ETIMEDOUT:kt.ECONNABORTED,t,w)),w=null},i===void 0&&o.setContentType(null),"setRequestHeader"in w&&le.forEach(o.toJSON(),function(E,T){w.setRequestHeader(T,E)}),le.isUndefined(r.withCredentials)||(w.withCredentials=!!r.withCredentials),l&&l!=="json"&&(w.responseType=r.responseType),d&&([f,x]=R0(d,!0),w.addEventListener("progress",f)),c&&w.upload&&([h,m]=R0(c),w.upload.addEventListener("progress",h),w.upload.addEventListener("loadend",m)),(r.cancelToken||r.signal)&&(u=N=>{w&&(s(!N||N.type?new Bu(null,t,w):N),w.abort(),w=null)},r.cancelToken&&r.cancelToken.subscribe(u),r.signal&&(r.signal.aborted?u():r.signal.addEventListener("abort",u)));const v=vue(r.url);if(v&&Cs.protocols.indexOf(v)===-1){s(new kt("Unsupported protocol "+v+":",kt.ERR_BAD_REQUEST,t));return}w.send(i||null)})},Cue=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let s=new AbortController,r;const i=function(d){if(!r){r=!0,l();const u=d instanceof Error?d:this.reason;s.abort(u instanceof kt?u:new Bu(u instanceof Error?u.message:u))}};let o=e&&setTimeout(()=>{o=null,i(new kt(`timeout ${e} of ms exceeded`,kt.ETIMEDOUT))},e);const l=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),t=null)};t.forEach(d=>d.addEventListener("abort",i));const{signal:c}=s;return c.unsubscribe=()=>le.asap(l),c}},Eue=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let s=0,r;for(;s<n;)r=s+e,yield t.slice(s,r),s=r},_ue=async function*(t,e){for await(const n of Pue(t))yield*Eue(n,e)},Pue=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:s}=await e.read();if(n)break;yield s}}finally{await e.cancel()}},n5=(t,e,n,s)=>{const r=_ue(t,e);let i=0,o,l=c=>{o||(o=!0,s&&s(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await r.next();if(d){l(),c.close();return}let h=u.byteLength;if(n){let f=i+=h;n(f)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),r.return()}},{highWaterMark:2})},Zx=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",JL=Zx&&typeof ReadableStream=="function",Iue=Zx&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),QL=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Rue=JL&&QL(()=>{let t=!1;const e=new Request(Cs.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),s5=64*1024,K1=JL&&QL(()=>le.isReadableStream(new Response("").body)),M0={stream:K1&&(t=>t.body)};Zx&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!M0[e]&&(M0[e]=le.isFunction(t[e])?n=>n[e]():(n,s)=>{throw new kt(`Response type '${e}' is not supported`,kt.ERR_NOT_SUPPORT,s)})})})(new Response);const Mue=async t=>{if(t==null)return 0;if(le.isBlob(t))return t.size;if(le.isSpecCompliantForm(t))return(await new Request(Cs.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(le.isArrayBufferView(t)||le.isArrayBuffer(t))return t.byteLength;if(le.isURLSearchParams(t)&&(t=t+""),le.isString(t))return(await Iue(t)).byteLength},Due=async(t,e)=>{const n=le.toFiniteNumber(t.getContentLength());return n??Mue(e)},$ue=Zx&&(async t=>{let{url:e,method:n,data:s,signal:r,cancelToken:i,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:d,headers:u,withCredentials:h="same-origin",fetchOptions:f}=XL(t);d=d?(d+"").toLowerCase():"text";let m=Cue([r,i&&i.toAbortSignal()],o),x;const p=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let w;try{if(c&&Rue&&n!=="get"&&n!=="head"&&(w=await Due(u,s))!==0){let T=new Request(e,{method:"POST",body:s,duplex:"half"}),R;if(le.isFormData(s)&&(R=T.headers.get("content-type"))&&u.setContentType(R),T.body){const[$,M]=Z_(w,R0(e5(c)));s=n5(T.body,s5,$,M)}}le.isString(h)||(h=h?"include":"omit");const b="credentials"in Request.prototype;x=new Request(e,{...f,signal:m,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:s,duplex:"half",credentials:b?h:void 0});let v=await fetch(x,f);const N=K1&&(d==="stream"||d==="response");if(K1&&(l||N&&p)){const T={};["status","statusText","headers"].forEach(L=>{T[L]=v[L]});const R=le.toFiniteNumber(v.headers.get("content-length")),[$,M]=l&&Z_(R,R0(e5(l),!0))||[];v=new Response(n5(v.body,s5,$,()=>{M&&M(),p&&p()}),T)}d=d||"text";let E=await M0[le.findKey(M0,d)||"text"](v,t);return!N&&p&&p(),await new Promise((T,R)=>{GL(T,R,{data:E,headers:xr.from(v.headers),status:v.status,statusText:v.statusText,config:t,request:x})})}catch(b){throw p&&p(),b&&b.name==="TypeError"&&/Load failed|fetch/i.test(b.message)?Object.assign(new kt("Network Error",kt.ERR_NETWORK,t,x),{cause:b.cause||b}):kt.from(b,b&&b.code,t,x)}}),G1={http:Jde,xhr:Tue,fetch:$ue};le.forEach(G1,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const r5=t=>`- ${t}`,Oue=t=>le.isFunction(t)||t===null||t===!1,ZL={getAdapter:t=>{t=le.isArray(t)?t:[t];const{length:e}=t;let n,s;const r={};for(let i=0;i<e;i++){n=t[i];let o;if(s=n,!Oue(n)&&(s=G1[(o=String(n)).toLowerCase()],s===void 0))throw new kt(`Unknown adapter '${o}'`);if(s)break;r[o||"#"+i]=s}if(!s){const i=Object.entries(r).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(r5).join(`
`):" "+r5(i[0]):"as no adapter specified";throw new kt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s},adapters:G1};function sb(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Bu(null,t)}function i5(t){return sb(t),t.headers=xr.from(t.headers),t.data=nb.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),ZL.getAdapter(t.adapter||Pm.adapter)(t).then(function(s){return sb(t),s.data=nb.call(t,t.transformResponse,s),s.headers=xr.from(s.headers),s},function(s){return KL(s)||(sb(t),s&&s.response&&(s.response.data=nb.call(t,t.transformResponse,s.response),s.response.headers=xr.from(s.response.headers))),Promise.reject(s)})}const e8="1.10.0",ey={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{ey[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const a5={};ey.transitional=function(e,n,s){function r(i,o){return"[Axios v"+e8+"] Transitional option '"+i+"'"+o+(s?". "+s:"")}return(i,o,l)=>{if(e===!1)throw new kt(r(o," has been removed"+(n?" in "+n:"")),kt.ERR_DEPRECATED);return n&&!a5[o]&&(a5[o]=!0,console.warn(r(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,l):!0}};ey.spelling=function(e){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function Fue(t,e,n){if(typeof t!="object")throw new kt("options must be an object",kt.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let r=s.length;for(;r-- >0;){const i=s[r],o=e[i];if(o){const l=t[i],c=l===void 0||o(l,i,t);if(c!==!0)throw new kt("option "+i+" must be "+c,kt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new kt("Unknown option "+i,kt.ERR_BAD_OPTION)}}const wg={assertOptions:Fue,validators:ey},Bi=wg.validators;class cc{constructor(e){this.defaults=e||{},this.interceptors={request:new J_,response:new J_}}async request(e,n){try{return await this._request(e,n)}catch(s){if(s instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const i=r.stack?r.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Rc(this.defaults,n);const{transitional:s,paramsSerializer:r,headers:i}=n;s!==void 0&&wg.assertOptions(s,{silentJSONParsing:Bi.transitional(Bi.boolean),forcedJSONParsing:Bi.transitional(Bi.boolean),clarifyTimeoutError:Bi.transitional(Bi.boolean)},!1),r!=null&&(le.isFunction(r)?n.paramsSerializer={serialize:r}:wg.assertOptions(r,{encode:Bi.function,serialize:Bi.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),wg.assertOptions(n,{baseUrl:Bi.spelling("baseURL"),withXsrfToken:Bi.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&le.merge(i.common,i[n.method]);i&&le.forEach(["delete","get","head","post","put","patch","common"],x=>{delete i[x]}),n.headers=xr.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(n)===!1||(c=c&&p.synchronous,l.unshift(p.fulfilled,p.rejected))});const d=[];this.interceptors.response.forEach(function(p){d.push(p.fulfilled,p.rejected)});let u,h=0,f;if(!c){const x=[i5.bind(this),void 0];for(x.unshift.apply(x,l),x.push.apply(x,d),f=x.length,u=Promise.resolve(n);h<f;)u=u.then(x[h++],x[h++]);return u}f=l.length;let m=n;for(h=0;h<f;){const x=l[h++],p=l[h++];try{m=x(m)}catch(w){p.call(this,w);break}}try{u=i5.call(this,m)}catch(x){return Promise.reject(x)}for(h=0,f=d.length;h<f;)u=u.then(d[h++],d[h++]);return u}getUri(e){e=Rc(this.defaults,e);const n=YL(e.baseURL,e.url,e.allowAbsoluteUrls);return HL(n,e.params,e.paramsSerializer)}}le.forEach(["delete","get","head","options"],function(e){cc.prototype[e]=function(n,s){return this.request(Rc(s||{},{method:e,url:n,data:(s||{}).data}))}});le.forEach(["post","put","patch"],function(e){function n(s){return function(i,o,l){return this.request(Rc(l||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}cc.prototype[e]=n(),cc.prototype[e+"Form"]=n(!0)});class jj{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const s=this;this.promise.then(r=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](r);s._listeners=null}),this.promise.then=r=>{let i;const o=new Promise(l=>{s.subscribe(l),i=l}).then(r);return o.cancel=function(){s.unsubscribe(i)},o},e(function(i,o,l){s.reason||(s.reason=new Bu(i,o,l),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=s=>{e.abort(s)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new jj(function(r){e=r}),cancel:e}}}function Lue(t){return function(n){return t.apply(null,n)}}function Bue(t){return le.isObject(t)&&t.isAxiosError===!0}const Y1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Y1).forEach(([t,e])=>{Y1[e]=t});function t8(t){const e=new cc(t),n=IL(cc.prototype.request,e);return le.extend(n,cc.prototype,e,{allOwnKeys:!0}),le.extend(n,e,null,{allOwnKeys:!0}),n.create=function(r){return t8(Rc(t,r))},n}const gn=t8(Pm);gn.Axios=cc;gn.CanceledError=Bu;gn.CancelToken=jj;gn.isCancel=KL;gn.VERSION=e8;gn.toFormData=Qx;gn.AxiosError=kt;gn.Cancel=gn.CanceledError;gn.all=function(e){return Promise.all(e)};gn.spread=Lue;gn.isAxiosError=Bue;gn.mergeConfig=Rc;gn.AxiosHeaders=xr;gn.formToJSON=t=>qL(le.isHTMLForm(t)?new FormData(t):t);gn.getAdapter=ZL.getAdapter;gn.HttpStatusCode=Y1;gn.default=gn;const Uue=["https://gateway.pinata.cloud/ipfs/","https://ipfs.io/ipfs/","https://cloudflare-ipfs.com/ipfs/","https://gateway.ipfs.io/ipfs/"],bp=async t=>{try{if(!t.startsWith("ipfs://"))return console.log("Not an IPFS URI:",t),null;const e=t.replace("ipfs://","");console.log("Fetching IPFS content for hash:",e);for(const n of Uue)try{const s=await fetch(`${n}${e}`,{method:"GET",headers:{Accept:"application/json"},signal:AbortSignal.timeout(1e4)});if(!s.ok){console.log(`Gateway ${n} failed with status:`,s.status);continue}const r=await s.json();return console.log("Successfully fetched IPFS content:",r),r}catch(s){console.log(`Gateway ${n} failed:`,s);continue}return console.log("All IPFS gateways failed for hash:",e),null}catch(e){return console.error("Error fetching IPFS content:",e),null}},X1="ee7fd8b4670e8e75cf1f",J1="8765707d70f702f1da012ea6e52f345221d8a4c801acb5e7f8599760822577df",Vue=async(t,e)=>{var n,s,r,i,o,l,c,d,u;try{const h=new FormData;h.append("file",t);const f=JSON.stringify({name:e.name||"Asset Image",keyvalues:{name:e.name||"",description:e.description||"",assetType:((s=(n=e.attributes)==null?void 0:n[0])==null?void 0:s.value)||"",priceToken:((i=(r=e.attributes)==null?void 0:r[1])==null?void 0:i.value)||"",earnXP:((l=(o=e.attributes)==null?void 0:o[2])==null?void 0:l.value)||""}});h.append("pinataMetadata",f);const x=(await gn({method:"post",url:"https://api.pinata.cloud/pinning/pinFileToIPFS",data:h,maxBodyLength:1/0,headers:{pinata_api_key:X1,pinata_secret_api_key:J1}})).data.IpfsHash,p={...e,image:`ipfs://${x}`};return(await gn({method:"post",url:"https://api.pinata.cloud/pinning/pinJSONToIPFS",data:p,headers:{pinata_api_key:X1,pinata_secret_api_key:J1,"Content-Type":"application/json"}})).data.IpfsHash}catch(h){throw console.error("Error uploading to Pinata:",h),gn.isAxiosError(h)?(console.error("Response:",(c=h.response)==null?void 0:c.data),new Error(`Pinata upload failed: ${((u=(d=h.response)==null?void 0:d.data)==null?void 0:u.message)||h.message}`)):h}},Q1=async t=>{var e,n,s;try{const r=await gn({method:"post",url:"https://api.pinata.cloud/pinning/pinJSONToIPFS",data:t,headers:{pinata_api_key:X1,pinata_secret_api_key:J1,"Content-Type":"application/json"}});return console.log(" JSON uploaded to Pinata:",r.data.IpfsHash),r.data.IpfsHash}catch(r){throw console.error("Error uploading JSON to Pinata:",r),gn.isAxiosError(r)?(console.error("Response:",(e=r.response)==null?void 0:e.data),new Error(`Pinata JSON upload failed: ${((s=(n=r.response)==null?void 0:n.data)==null?void 0:s.message)||r.message}`)):r}},zue={TESTNET:{chainId:747,name:"Flow Testnet",rpcUrl:"https://mainnet.evm.nodes.onflow.org",blockExplorer:"https://www.flowscan.io/",nativeCurrency:{name:"Flow",symbol:"FLOW",decimals:18}},MAINNET:{chainId:747,name:"Flow Mainnet",rpcUrl:"https://mainnet.evm.nodes.onflow.org",blockExplorer:"https://evm.flowscan.io/",nativeCurrency:{name:"Flow",symbol:"FLOW",decimals:18}}},oh={ADMIN:"0xFC53E7A6b94173D82d07a127A38d9D852bf478d4",TOKEN_CONTRACT:"0x7C082010BcF338675508E2FD9d6C0dD2E43b37d8",MARKETPLACE:"0xE8DE43BD00370F48db7Ac139146AC27B1AfEd7aF",PAYMENT_SPLITTER:"0x6f2db3e628879ee72B455a946C1d6cfBa51aac91",TOKEN_MANAGEMENT:"0xA632A492cCd898De4a4B17DC786B381d099F5815"},lh={ISSUER_ADDED:"IssuerAdded",MANAGER_ADDED:"ManagerAdded",MARKETPLACE_PAUSED:"MarketplacePaused",INVOICE_SETTLED_BY_ADMIN:"InvoiceSettledByAdmin",TOKEN_MINTED:"TokenMinted",INVOICE_SETTLED:"InvoiceSettled",TOKEN_BURNED:"TokenBurned",LIFECYCLE_CHANGED:"LifecycleChanged",TOKEN_REQUEST_SUBMITTED:"TokenRequestSubmitted",TOKEN_REQUEST_APPROVED:"TokenRequestApproved",TOKEN_REQUEST_REJECTED:"TokenRequestRejected",TOKEN_DEPLOYED:"TokenDeployed",TOKEN_LISTED_ON_MARKETPLACE:"TokenListedOnMarketplace",TOKEN_REQUEST_SETTLED:"TokenRequestSettled",ASSET_LISTED:"AssetListed",ASSET_BOUGHT:"AssetBought",ASSET_SOLD:"AssetSold",ASSET_WITHDRAWN:"AssetWithdrawn",EARNINGS_WITHDRAWN:"EarningsWithdrawn",LISTING_REMOVED:"ListingRemoved",LISTING_UPDATED:"ListingUpdated",RENTAL_DISTRIBUTED:"RentalDistributed",TOKEN_BURN_INITIATED:"TokenBurnInitiated"},Xc={WALLET_NOT_CONNECTED:"Please connect your wallet first",INSUFFICIENT_BALANCE:"Insufficient balance for this transaction",TRANSACTION_REJECTED:"Transaction was rejected by user",NETWORK_MISMATCH:"Please switch to Flow Testnet",CONTRACT_ERROR:"Contract interaction failed",UNAUTHORIZED:"You don't have permission for this action",INVALID_TOKEN:"Invalid token ID or token not found",TOKEN_NOT_TRADEABLE:"This token cannot be traded (settled or burned)",ALREADY_SETTLED:"This invoice has already been settled",INSUFFICIENT_PAYMENT:"Payment amount is insufficient"},Pa={TRANSACTION_SENT:"Transaction sent successfully",ISSUER_ADDED:"Issuer added successfully",MANAGER_ADDED:"Manager added successfully",TOKEN_REQUEST_SUBMITTED:"Token request submitted for approval",TOKEN_REQUEST_APPROVED:"Token request approved",TOKEN_DEPLOYED:"Token deployed successfully",TOKEN_LISTED:"Token listed on marketplace",TOKEN_PURCHASED:"Tokens purchased successfully",INVOICE_SETTLED:"Invoice settled successfully",TOKENS_BURNED:"Tokens burned after settlement"};class Im{constructor(e=null){this.provider=null,this.signer=null,this.contracts={},this.walletProvider=e,this.isConnected=!1,this.userAddress=null,this.userRoles={isAdmin:!1,isIssuer:!1,isManager:!1}}async connect(){try{if(!this.walletProvider)throw new Error("No wallet provider available");if(await this.walletProvider.request({method:"eth_requestAccounts"}),this.provider=new p1(this.walletProvider),this.signer=this.provider.getSigner(),this.userAddress=await this.signer.getAddress(),(await this.provider.getNetwork()).chainId!==zue.TESTNET.chainId)throw new Error(Xc.NETWORK_MISMATCH);return await this.initializeContracts(),await this.loadUserRoles(),this.isConnected=!0,console.log(" Connected to Invoice Financing System"),console.log("User Address:",this.userAddress),console.log("User Roles:",this.userRoles),{success:!0,userAddress:this.userAddress,userRoles:this.userRoles}}catch(e){throw console.error(" Connection failed:",e),e}}async initializeContracts(){try{this.contracts={admin:new qe(oh.ADMIN,Hn.ADMIN,this.signer),tokenContract:new qe(oh.TOKEN_CONTRACT,Hn.ERC1155CORE,this.signer),marketplace:new qe(oh.MARKETPLACE,Hn.MARKETPLACE,this.signer),paymentSplitter:new qe(oh.PAYMENT_SPLITTER,Hn.PAYMENTSPLITTER,this.signer),tokenManagement:new qe(oh.TOKEN_MANAGEMENT,Hn.TOKENMANAGEMENT,this.signer)},console.log(" Contracts initialized")}catch(e){throw console.error(" Contract initialization failed:",e),e}}async loadUserRoles(){try{this.userRoles={isAdmin:await this.contracts.admin.isAdmin(this.userAddress),isIssuer:await this.contracts.admin.isIssuer(this.userAddress),isManager:await this.contracts.admin.isManager(this.userAddress)}}catch(e){console.error(" Failed to load user roles:",e),this.userRoles={isAdmin:!1,isIssuer:!1,isManager:!1}}}async addIssuer(e,n){this.requireRole("isAdmin");try{const s=await this.contracts.admin.addIssuer(e,n);return await s.wait(),{success:!0,message:Pa.ISSUER_ADDED,txHash:s.hash}}catch(s){throw this.handleError(s)}}async addManager(e,n){this.requireRole("isAdmin");try{const s=await this.contracts.admin.addManager(e,n);return await s.wait(),{success:!0,message:Pa.MANAGER_ADDED,txHash:s.hash}}catch(s){throw this.handleError(s)}}async approveTokenRequest(e){this.requireRole("isAdmin");try{const n=await this.contracts.tokenManagement.approveTokenRequest(e);return await n.wait(),{success:!0,message:Pa.TOKEN_REQUEST_APPROVED,txHash:n.hash}}catch(n){throw this.handleError(n)}}async rejectTokenRequest(e,n){this.requireRole("isAdmin");try{const s=await this.contracts.tokenManagement.rejectTokenRequest(e,n);return await s.wait(),{success:!0,message:"Token request rejected",txHash:s.hash}}catch(s){throw this.handleError(s)}}async settleInvoice(e,n){this.requireRole("isAdmin");try{const s=await this.contracts.admin.settleInvoice(e,n);return await s.wait(),{success:!0,message:Pa.INVOICE_SETTLED,txHash:s.hash}}catch(s){throw this.handleError(s)}}async getPendingRequests(){try{const e=await this.contracts.tokenManagement.getPendingRequests();return await Promise.all(e.map(s=>this.getRequestDetails(s)))}catch(e){throw this.handleError(e)}}async submitTokenRequest(e,n,s){this.requireRole("isIssuer");try{const r=await this.contracts.tokenManagement.submitTokenRequest(e,n,s),o=(await r.wait()).logs.find(c=>{try{return this.contracts.tokenManagement.interface.parseLog(c).name==="TokenRequestSubmitted"}catch{return!1}}),l=this.contracts.tokenManagement.interface.parseLog(o).args.requestId;return{success:!0,message:Pa.TOKEN_REQUEST_SUBMITTED,requestId:l,txHash:r.hash}}catch(r){throw this.handleError(r)}}async deployApprovedToken(e){this.requireRole("isIssuer");try{const n=await this.contracts.tokenManagement.deployApprovedToken(e),r=(await n.wait()).logs.find(o=>{try{return this.contracts.tokenManagement.interface.parseLog(o).name==="TokenDeployed"}catch{return!1}}),i=this.contracts.tokenManagement.interface.parseLog(r).args.tokenId;return{success:!0,message:Pa.TOKEN_DEPLOYED,tokenId:i.toString(),txHash:n.hash}}catch(n){throw this.handleError(n)}}async listTokenOnMarketplace(e,n){this.requireRole("isIssuer");try{const s=await this.contracts.tokenManagement.listTokenOnMarketplace(e,n);return await s.wait(),{success:!0,message:Pa.TOKEN_LISTED,txHash:s.hash}}catch(s){throw this.handleError(s)}}async getMyRequests(){this.requireRole("isIssuer");try{const e=await this.contracts.tokenManagement.getMyRequests();return await Promise.all(e.map(s=>this.getRequestDetails(s)))}catch(e){throw this.handleError(e)}}async getMyTokens(){this.requireRole("isIssuer");try{const e=await this.contracts.tokenManagement.getMyTokens();return await Promise.all(e.map(s=>this.getTokenInfo(s)))}catch(e){throw this.handleError(e)}}async buyTokens(e,n,s){try{const r=await this.contracts.marketplace.buyAsset(e,n,{value:s});return await r.wait(),{success:!0,message:Pa.TOKEN_PURCHASED,txHash:r.hash}}catch(r){throw this.handleError(r)}}async sellTokens(e,n,s){try{const r=await this.contracts.marketplace.sellAsset(e,n,{value:s});return await r.wait(),{success:!0,message:"Tokens sold successfully",txHash:r.hash}}catch(r){throw this.handleError(r)}}async withdrawTokens(e,n){try{const s=await this.contracts.marketplace.withdrawAsset(e,n);return await s.wait(),{success:!0,message:"Tokens withdrawn successfully",txHash:s.hash}}catch(s){throw this.handleError(s)}}async getMarketplaceBalance(e){try{return(await this.contracts.marketplace.getUserBalance(this.userAddress,e)).toString()}catch(n){throw this.handleError(n)}}async getWalletBalance(e){try{return(await this.contracts.tokenContract.balanceOf(this.userAddress,e)).toString()}catch(n){throw this.handleError(n)}}async processInvoiceSettlement(e,n){this.requireManagerForToken(e);try{const s=await this.contracts.paymentSplitter.processInvoiceSettlement(e,{value:n,gasLimit:3e5});return await s.wait(),{success:!0,message:Pa.INVOICE_SETTLED,txHash:s.hash}}catch(s){throw this.handleError(s)}}async submitRentalPayment(e,n){this.requireManagerForToken(e);try{const s=await this.contracts.paymentSplitter.submitRental(e,{value:n});return await s.wait(),{success:!0,message:"Rental payment distributed successfully",txHash:s.hash}}catch(s){throw this.handleError(s)}}async getTokenInfo(e){try{const n=await this.contracts.tokenContract.getTokenInfo(e),s=await this.contracts.tokenContract.getTokenLifecycleStatus(e);let r="0",i="0",o=!1;try{const l=await this.contracts.tokenContract.settlementAmount(e),c=await this.contracts.tokenContract.settlementTimestamp(e);r=l.gt(0)?De(l):"0",i=c.toString(),o=l.gt(0)}catch(l){console.warn(`Could not fetch settlement info for token ${e}:`,l)}return{tokenId:e.toString(),price:De(n.price),metadataURI:n.metadataURI,issuer:n.issuer,supply:n.supply.toString(),lifecycle:this.getLifecycleName(s),lifecycleStatus:s,settlement:{settled:o,amount:r,timestamp:i}}}catch(n){throw this.handleError(n)}}async getRequestDetails(e){try{const n=await this.contracts.tokenManagement.getRequestDetails(e);return{requestId:e,issuer:n.issuer,metadataURI:n.metadataURI,amount:n.amount.toString(),price:De(n.price),status:this.getRequestStatusName(n.status),statusCode:n.status,submittedAt:new Date(Number(n.submittedAt)*1e3).toISOString(),approvedAt:n.approvedAt>0?new Date(Number(n.approvedAt)*1e3).toISOString():null,deployedAt:n.deployedAt>0?new Date(Number(n.deployedAt)*1e3).toISOString():null,tokenId:n.tokenId>0?n.tokenId.toString():null,rejectionReason:n.rejectionReason,settlement:{settled:n.settledAt>0,amount:n.settlementAmount>0?De(n.settlementAmount):"0",timestamp:n.settledAt>0?new Date(Number(n.settledAt)*1e3).toISOString():null}}}catch(n){throw this.handleError(n)}}async getAllListings(){try{const e=await this.contracts.marketplace.getAllListings();return{tokenIds:e.tokenIds.map(n=>n.toString()),issuers:e.issuers,amounts:e.amounts.map(n=>n.toString()),prices:e.prices.map(n=>De(n))}}catch(e){throw this.handleError(e)}}async isTokenTradeable(e){try{return await this.contracts.tokenContract.isTokenTradeable(e)}catch(n){throw this.handleError(n)}}async getSettlementInfo(e){try{const n=await this.contracts.tokenContract.settlementAmount(e),s=await this.contracts.tokenContract.settlementTimestamp(e);return{settled:n.gt(0),amount:n.gt(0)?De(n):"0",timestamp:s.gt(0)?new Date(Number(s)*1e3).toISOString():null}}catch(n){throw this.handleError(n)}}async getTokenLifecycle(e){try{const n=await this.contracts.tokenContract.getTokenLifecycleStatus(e);return{status:n,name:this.getLifecycleName(n)}}catch(n){throw this.handleError(n)}}onTokenRequestSubmitted(e){this.contracts.tokenManagement.on(lh.TOKEN_REQUEST_SUBMITTED,e)}onTokenDeployed(e){this.contracts.tokenManagement.on(lh.TOKEN_DEPLOYED,e)}onInvoiceSettled(e){this.contracts.tokenContract.on(lh.INVOICE_SETTLED,e)}onTokenBurned(e){this.contracts.tokenContract.on(lh.TOKEN_BURNED,e)}onAssetBought(e){this.contracts.marketplace.on(lh.ASSET_BOUGHT,e)}removeAllListeners(){Object.values(this.contracts).forEach(e=>{e.removeAllListeners()})}requireRole(e){if(!this.isConnected)throw new Error(Xc.WALLET_NOT_CONNECTED);if(!this.userRoles[e])throw new Error(Xc.UNAUTHORIZED)}async requireManagerForToken(e){this.requireRole("isManager");try{if(!await this.contracts.admin.isManagerForToken(this.userAddress,e))throw new Error("Not assigned manager for this token")}catch(n){throw new Error("Manager validation failed: "+n.message)}}getLifecycleName(e){return["Active","Settled","Burned"][e]||"Unknown"}getRequestStatusName(e){return["Pending","Approved","Rejected","Deployed","Listed","Settled"][e]||"Unknown"}handleError(e){return console.error("Contract error:",e),e.message.includes("user rejected")?new Error(Xc.TRANSACTION_REJECTED):e.message.includes("insufficient funds")?new Error(Xc.INSUFFICIENT_BALANCE):e.message.includes("execution reverted")?new Error(Xc.CONTRACT_ERROR+": "+e.message):e}formatAmount(e,n=18){return Zi(e,n)}parseAmount(e,n=18){return o$(e.toString(),n)}async getTransactionReceipt(e){try{return await this.provider.getTransactionReceipt(e)}catch(n){throw this.handleError(n)}}disconnect(){this.removeAllListeners(),this.provider=null,this.signer=null,this.contracts={},this.isConnected=!1,this.userAddress=null,this.userRoles={isAdmin:!1,isIssuer:!1,isManager:!1},console.log(" Disconnected from Invoice Financing System")}}const Hue=()=>{const{signer:t,isConnected:e}=xn(),[n,s]=y.useState(null),[r,i]=y.useState([]),[o,l]=y.useState(!1),[c,d]=y.useState({tokenId:"",amount:""}),[u,h]=y.useState(null);y.useEffect(()=>{if(e&&t){const b=new Im(window.ethereum);b.connect().then(()=>{s(b),f()}).catch(console.error)}},[e,t]);const f=async b=>{try{if(l(!0),console.log(" Loading marketplace tokens for settlement..."),!t){console.log("No signer available");return}const{ADMIN_CONTRACT:v,TOKEN_CONTRACT:N,MARKETPLACE_CONTRACT:E}=await wt(async()=>{const{ADMIN_CONTRACT:j,TOKEN_CONTRACT:C,MARKETPLACE_CONTRACT:P}=await Promise.resolve().then(()=>_i);return{ADMIN_CONTRACT:j,TOKEN_CONTRACT:C,MARKETPLACE_CONTRACT:P}},void 0),{CONTRACT_ABIS:T}=await wt(async()=>{const{CONTRACT_ABIS:j}=await Promise.resolve().then(()=>ti);return{CONTRACT_ABIS:j}},void 0),{ethers:R}=await wt(async()=>{const{ethers:j}=await import("./index-BlYJb8tU.js");return{ethers:j}},[]),$=new R.Contract(E,T.MARKETPLACE,t),M=new R.Contract(N,T.ERC1155CORE,t),L=await $.getAllListings(),[U,z,B,D]=L,g=[];for(let j=0;j<U.length;j++){const C=U[j].toString();try{const P=await M.getTokenInfo(C),S=await M.getTokenLifecycleStatus(C);let A="0",F="0";try{const k=await M.settlementAmount(C),O=await M.settlementTimestamp(C);A=k.gt(0)?R.utils.formatEther(k):"0",F=O.toString()}catch{console.warn(`Could not fetch settlement info for token ${C}`)}let _=`Asset #${C}`;if(P.metadataURI&&P.metadataURI.startsWith("ipfs://"))try{const k=P.metadataURI.replace("ipfs://",""),O=await fetch(`https://gateway.pinata.cloud/ipfs/${k}`);O.ok&&(_=(await O.json()).name||_)}catch{console.warn(`Could not fetch metadata for token ${C}`)}g.push({tokenId:C,issuer:P.issuer,supply:P.supply.toString(),price:R.utils.formatEther(P.price),metadataURI:P.metadataURI,lifecycle:S,settlementAmount:A,settlementTimestamp:F,assetName:_}),console.log(` Loaded token ${C}: ${_}`)}catch(P){console.warn(`Could not load details for token ${C}:`,P)}}i(g),console.log(` Loaded ${g.length} tokens for settlement management`)}catch(v){console.error("Failed to load tokens:",v),oe.error("Failed to load marketplace tokens")}finally{l(!1)}},m=async b=>{if(!c.amount){oe.error("Please enter settlement amount");return}if(!t){oe.error("Please connect your wallet");return}try{h(b);const{ADMIN_CONTRACT:v}=await wt(async()=>{const{ADMIN_CONTRACT:M}=await Promise.resolve().then(()=>_i);return{ADMIN_CONTRACT:M}},void 0),{CONTRACT_ABIS:N}=await wt(async()=>{const{CONTRACT_ABIS:M}=await Promise.resolve().then(()=>ti);return{CONTRACT_ABIS:M}},void 0),{ethers:E}=await wt(async()=>{const{ethers:M}=await import("./index-BlYJb8tU.js");return{ethers:M}},[]),T=new E.Contract(v,N.ADMIN,t);console.log(` Settling invoice for token ${b} with amount ${c.amount}...`);const R=await T.settleInvoice(b,E.utils.parseEther(c.amount));console.log(" Settlement transaction sent:",R.hash),oe.info("Transaction submitted. Waiting for confirmation...");const $=await R.wait();console.log(" Settlement transaction confirmed:",$.transactionHash),oe.success("Invoice settled successfully!"),await f(),d({tokenId:"",amount:""})}catch(v){console.error("Settlement failed:",v);let N="Settlement failed";v.code===4001?N="Transaction cancelled by user":v.reason?N=`Transaction failed: ${v.reason}`:v.message&&(N=v.message),oe.error(N)}finally{h(null)}},x=async b=>{if(!t){oe.error("Please connect your wallet");return}try{h(b);const{ADMIN_CONTRACT:v}=await wt(async()=>{const{ADMIN_CONTRACT:M}=await Promise.resolve().then(()=>_i);return{ADMIN_CONTRACT:M}},void 0),{CONTRACT_ABIS:N}=await wt(async()=>{const{CONTRACT_ABIS:M}=await Promise.resolve().then(()=>ti);return{CONTRACT_ABIS:M}},void 0),{ethers:E}=await wt(async()=>{const{ethers:M}=await import("./index-BlYJb8tU.js");return{ethers:M}},[]),T=new E.Contract(v,N.ADMIN,t);console.log(` Burning all tokens for token ID ${b}...`);const R=await T.burnAllTokens(b);console.log(" Burn transaction sent:",R.hash),oe.info("Burn transaction submitted. Waiting for confirmation...");const $=await R.wait();console.log(" Burn transaction confirmed:",$.transactionHash),oe.success("Tokens burned successfully!"),await f()}catch(v){console.error("Burn failed:",v);let N="Token burn failed";v.code===4001?N="Transaction cancelled by user":v.reason?N=`Transaction failed: ${v.reason}`:v.message&&(N=v.message),oe.error(N)}finally{h(null)}},p=b=>{switch(b){case 0:return a.jsxs(Ie,{variant:"default",className:"bg-green-500",children:[a.jsx(xa,{className:"w-3 h-3 mr-1"}),"Active"]});case 1:return a.jsxs(Ie,{variant:"secondary",className:"bg-yellow-500",children:[a.jsx(an,{className:"w-3 h-3 mr-1"}),"Settled"]});case 2:return a.jsxs(Ie,{variant:"destructive",children:[a.jsx(wc,{className:"w-3 h-3 mr-1"}),"Burned"]});default:return a.jsxs(Ie,{variant:"outline",children:[a.jsx(aa,{className:"w-3 h-3 mr-1"}),"Unknown"]})}},w=b=>`${b} FLOW`;return a.jsxs(fe,{className:"w-full",children:[a.jsxs(ot,{children:[a.jsxs(lt,{className:"flex items-center gap-2",children:[a.jsx(an,{className:"w-5 h-5"}),"Invoice Settlement Panel"]}),a.jsx(Qn,{children:"Manually settle invoices and manage token lifecycle"})]}),a.jsx(pe,{children:o?a.jsx("div",{className:"flex justify-center p-4",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"tokenId",children:"Token ID"}),a.jsx(Et,{id:"tokenId",placeholder:"Enter token ID",value:c.tokenId,onChange:b=>d(v=>({...v,tokenId:b.target.value}))})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"amount",children:"Settlement Amount (FLOW)"}),a.jsx(Et,{id:"amount",type:"number",placeholder:"Enter amount",value:c.amount,onChange:b=>d(v=>({...v,amount:b.target.value}))})]}),a.jsx("div",{className:"flex items-end",children:a.jsx(Z,{onClick:()=>m(c.tokenId),disabled:!c.tokenId||!c.amount||u!==null,className:"w-full",children:u===c.tokenId?"Settling...":"Settle Invoice"})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Active Tokens"}),r.length===0?a.jsx("p",{className:"text-gray-500 text-center py-4",children:"No tokens found"}):r.map(b=>a.jsx(fe,{className:"border-l-4 border-l-blue-500",children:a.jsx(pe,{className:"p-4",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium",children:b.assetName||`Token #${b.tokenId}`}),p(b.lifecycle)]}),a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Token ID:"})," ",b.tokenId]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Issuer:"})," ",b.issuer.slice(0,10),"..."]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Supply:"})," ",b.supply," tokens"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Price:"})," ",w(b.price)]}),b.settlementAmount&&b.settlementAmount!=="0"&&a.jsxs("p",{children:[a.jsx("strong",{children:"Settlement:"})," ",w(b.settlementAmount)]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[b.lifecycle===0&&a.jsx(Z,{size:"sm",onClick:()=>{d(v=>({...v,tokenId:b.tokenId}))},disabled:u!==null,children:"Select for Settlement"}),b.lifecycle===1&&a.jsx(Z,{size:"sm",variant:"destructive",onClick:()=>x(b.tokenId),disabled:u!==null,children:u===b.tokenId?"Burning...":"Burn Tokens"})]})]})})},b.tokenId))]})]})})]})},Wue=()=>{const{signer:t,isConnected:e}=xn(),[n,s]=y.useState(null),[r,i]=y.useState([]),[o,l]=y.useState({activeTokens:0,settledTokens:0,burnedTokens:0,totalSettlementValue:"0",averageSettlementTime:0}),[c,d]=y.useState(!1),[u,h]=y.useState(null),[f,m]=y.useState(!1);y.useEffect(()=>{if(e&&t){const N=new Im(window.ethereum);N.connect().then(()=>{s(N),x()}).catch(console.error)}},[e,t]);const x=async N=>{var E;try{if(d(!0),console.log(" Loading real token lifecycle data..."),!t){console.log("No signer available");return}const{ADMIN_CONTRACT:T,TOKEN_CONTRACT:R,MARKETPLACE_CONTRACT:$}=await wt(async()=>{const{ADMIN_CONTRACT:k,TOKEN_CONTRACT:O,MARKETPLACE_CONTRACT:q}=await Promise.resolve().then(()=>_i);return{ADMIN_CONTRACT:k,TOKEN_CONTRACT:O,MARKETPLACE_CONTRACT:q}},void 0),{CONTRACT_ABIS:M}=await wt(async()=>{const{CONTRACT_ABIS:k}=await Promise.resolve().then(()=>ti);return{CONTRACT_ABIS:k}},void 0),{ethers:L}=await wt(async()=>{const{ethers:k}=await import("./index-BlYJb8tU.js");return{ethers:k}},[]),U=new L.Contract($,M.MARKETPLACE,t),z=new L.Contract(R,M.ERC1155CORE,t),B=await U.getAllListings(),[D,g,j,C]=B,P=[];for(let k=0;k<D.length;k++){const O=D[k].toString();try{const q=await z.getTokenInfo(O),I=await z.getTokenLifecycleStatus(O);let V="0",G="0";try{const X=await z.settlementAmount(O),ee=await z.settlementTimestamp(O);V=X.gt(0)?L.utils.formatEther(X):"0",G=ee.toString()}catch{console.warn(`Could not fetch settlement info for token ${O}`)}let H=0,K="0";try{H=((E=(await U.getTokenHolders(O))[0])==null?void 0:E.length)||0,K=L.utils.formatEther(q.price.mul(q.supply))}catch{console.warn(`Could not fetch holder info for token ${O}`),K=L.utils.formatEther(q.price.mul(q.supply))}P.push({tokenId:O,issuer:q.issuer,supply:q.supply.toString(),price:L.utils.formatEther(q.price),lifecycle:I,settlementAmount:V,settlementTimestamp:G,holderCount:H,totalValueLocked:K,metadataURI:q.metadataURI}),console.log(` Loaded lifecycle data for token ${O}`)}catch(q){console.warn(`Could not load lifecycle data for token ${O}:`,q)}}i(P),console.log(` Loaded ${P.length} tokens for lifecycle monitoring`);const S=P.filter(k=>k.lifecycle===0).length,A=P.filter(k=>k.lifecycle===1).length,F=P.filter(k=>k.lifecycle===2).length,_=P.filter(k=>k.settlementAmount&&parseFloat(k.settlementAmount)>0).reduce((k,O)=>k+parseFloat(O.settlementAmount),0);l({activeTokens:S,settledTokens:A,burnedTokens:F,totalSettlementValue:_.toString(),averageSettlementTime:2})}catch(T){console.error("Failed to load token lifecycle data:",T),oe.error("Failed to load token data")}finally{d(!1)}},p=N=>{switch(N){case 0:return a.jsxs(Ie,{variant:"default",className:"bg-green-500",children:[a.jsx(xa,{className:"w-3 h-3 mr-1"}),"Active"]});case 1:return a.jsxs(Ie,{variant:"secondary",className:"bg-yellow-500",children:[a.jsx(an,{className:"w-3 h-3 mr-1"}),"Settled"]});case 2:return a.jsxs(Ie,{variant:"destructive",children:[a.jsx(wc,{className:"w-3 h-3 mr-1"}),"Burned"]});default:return a.jsx(Ie,{variant:"outline",children:"Unknown"})}},w=N=>`${parseFloat(N).toLocaleString()} FLOW`,b=N=>new Date(parseInt(N)).toLocaleDateString(),v=N=>["Active","Settled","Burned"].slice(0,N+1);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-5 gap-4",children:[a.jsx(fe,{children:a.jsx(pe,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(xa,{className:"h-4 w-4 text-green-600"}),a.jsxs("div",{className:"ml-2",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Tokens"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:o.activeTokens})]})]})})}),a.jsx(fe,{children:a.jsx(pe,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(an,{className:"h-4 w-4 text-yellow-600"}),a.jsxs("div",{className:"ml-2",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Settled"}),a.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:o.settledTokens})]})]})})}),a.jsx(fe,{children:a.jsx(pe,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(wc,{className:"h-4 w-4 text-red-600"}),a.jsxs("div",{className:"ml-2",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Burned"}),a.jsx("p",{className:"text-2xl font-bold text-red-600",children:o.burnedTokens})]})]})})}),a.jsx(fe,{children:a.jsx(pe,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(On,{className:"h-4 w-4 text-blue-600"}),a.jsxs("div",{className:"ml-2",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Settled"}),a.jsx("p",{className:"text-lg font-bold text-blue-600",children:w(o.totalSettlementValue)})]})]})})}),a.jsx(fe,{children:a.jsx(pe,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(In,{className:"h-4 w-4 text-purple-600"}),a.jsxs("div",{className:"ml-2",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Settlement"}),a.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[o.averageSettlementTime,"d"]})]})]})})})]}),a.jsxs(fe,{children:[a.jsxs(ot,{children:[a.jsxs(lt,{className:"flex items-center gap-2",children:[a.jsx(Do,{className:"w-5 h-5"}),"Token Lifecycle Monitor"]}),a.jsx(Qn,{children:"Track the complete lifecycle of all tokens from active to settlement to burning"})]}),a.jsx(pe,{children:c?a.jsx("div",{className:"flex justify-center p-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):a.jsx("div",{className:"space-y-4",children:r.length===0?a.jsx("p",{className:"text-gray-500 text-center py-8",children:"No tokens found"}):r.map(N=>a.jsx(fe,{className:"border-l-4 border-l-blue-500",children:a.jsx(pe,{className:"p-6",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("span",{className:"font-bold text-lg",children:["Token #",N.tokenId]}),p(N.lifecycle)]}),a.jsx("div",{className:"flex items-center gap-2",children:v(N.lifecycle).map((E,T)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${T<=N.lifecycle?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:E}),T<2&&a.jsx("div",{className:`w-4 h-0.5 ${T<N.lifecycle?"bg-green-500":"bg-gray-300"}`})]},E))}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Issuer"}),a.jsxs("p",{className:"font-medium",children:[N.issuer.slice(0,10),"..."]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Supply"}),a.jsxs("p",{className:"font-medium",children:[N.supply," tokens"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Price"}),a.jsx("p",{className:"font-medium",children:w(N.price)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Holders"}),a.jsxs("p",{className:"font-medium flex items-center gap-1",children:[a.jsx(Qd,{className:"w-3 h-3"}),N.holderCount]})]})]}),N.settlementAmount&&a.jsx("div",{className:"bg-yellow-50 p-3 rounded-lg",children:a.jsxs("p",{className:"text-sm",children:[a.jsx("strong",{children:"Settlement:"})," ",w(N.settlementAmount),N.settlementTimestamp&&a.jsxs("span",{className:"ml-2 text-gray-600",children:["on ",b(N.settlementTimestamp)]})]})})]}),a.jsx("div",{className:"flex gap-2",children:a.jsxs(Z,{size:"sm",variant:"outline",onClick:()=>{h(N),m(!0)},children:[a.jsx(Zr,{className:"w-4 h-4 mr-1"}),"Details"]})})]})})},N.tokenId))})})]}),u&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs(fe,{className:"w-full max-w-2xl max-h-[80vh] overflow-auto",children:[a.jsxs(ot,{children:[a.jsxs(lt,{children:["Token #",u.tokenId," Details"]}),a.jsx(Qn,{children:"Complete lifecycle information"})]}),a.jsxs(pe,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Token ID"}),a.jsx("p",{className:"font-medium",children:u.tokenId})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Status"}),p(u.lifecycle)]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Issuer"}),a.jsx("p",{className:"font-medium font-mono text-xs",children:u.issuer})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Total Supply"}),a.jsxs("p",{className:"font-medium",children:[u.supply," tokens"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Price per Token"}),a.jsx("p",{className:"font-medium",children:w(u.price)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Current Holders"}),a.jsx("p",{className:"font-medium",children:u.holderCount})]})]}),u.settlementAmount&&a.jsxs("div",{className:"border-t pt-4",children:[a.jsx("h4",{className:"font-medium mb-2",children:"Settlement Information"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Settlement Amount"}),a.jsx("p",{className:"font-medium",children:w(u.settlementAmount)})]}),u.settlementTimestamp&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Settlement Date"}),a.jsx("p",{className:"font-medium",children:b(u.settlementTimestamp)})]})]})]}),a.jsx("div",{className:"flex justify-end gap-2 pt-4",children:a.jsx(Z,{variant:"outline",onClick:()=>m(!1),children:"Close"})})]})]})})]})},que=()=>{const{address:t,isConnected:e,connectWallet:n,signer:s}=xn(),[r,i]=y.useState(!1),[o,l]=y.useState("overview"),[c,d]=y.useState([]),[u,h]=y.useState([]),[f,m]=y.useState(null),[x,p]=y.useState(null),[w,b]=y.useState(!1),[v,N]=y.useState({addresses:[],count:0,metadata:{}}),[E,T]=y.useState({addresses:[],count:0,metadata:{}}),[R,$]=y.useState(!1),[M,L]=y.useState({totalIssuers:0,totalManagers:0,activeTokens:0,totalVolume:0,marketplaceStatus:!0,platformFees:0}),[U,z]=y.useState([]),[B,D]=y.useState([]),[g,j]=y.useState(!1),[C,P]=y.useState(!1),[S,A]=y.useState(!1),[F,_]=y.useState(!1),[k,O]=y.useState(!1),[q,I]=y.useState(!1),[V,G]=y.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",walletAddress:"",role:"issuer",metadataURI:""}),[H,K]=y.useState(null),[X,ee]=y.useState(!1),[ne,Be]=y.useState({tokenId:"",managerAddress:"",selectedAsset:null});y.useEffect(()=>{e&&s&&te()},[e,s]),y.useEffect(()=>{f&&ge()},[f]);const te=async()=>{try{if(!e||!s){console.log(" Wallet not connected");return}console.log(" Initializing admin contract..."),console.log("Contract address:",Jt),console.log("Network:",ct),console.log("RPC URL:",bt[ct].rpcUrl);const W=await s.provider.getNetwork();if(console.log("Connected to network:",W.name,"Chain ID:",W.chainId),console.log("Expected Chain ID:",bt[ct].chainId),W.chainId!==bt[ct].chainId){console.error(" Wrong network! Expected Chain ID:",bt[ct].chainId,"Got:",W.chainId),oe.error(`Please switch to ${bt[ct].name} (Chain ID: ${bt[ct].chainId})`);return}const me=new qe(Jt,Hn.ADMIN,s);try{if(await s.provider.getCode(Jt)==="0x"){console.error(" No Admin contract found at address:",Jt),oe.error("Admin contract not found at the specified address");return}console.log(" Admin contract verified at address:",Jt);try{const ce=await me.getIssuerCount();console.log(" Admin contract is responsive, issuer count:",ce.toString())}catch(ce){console.log(" Admin contract found but function call failed:",ce.message)}}catch(se){console.error(" Error verifying contracts:",se),oe.error("Failed to verify contracts");return}m(me);try{const se=new ude;await se.initialize(s.provider,w0),p(se),console.log(" TokenManagement service initialized successfully")}catch(se){console.error(" Failed to initialize TokenManagement service:",se),oe.error("Failed to initialize token management service")}console.log(" Admin contracts initialized successfully")}catch(W){console.error(" Error initializing contract:",W),console.log("Contract initialization failed, page will still load with limited functionality")}},ge=async()=>{if(!f){console.log(" Admin contract not initialized");return}ee(!0);try{console.log(" Loading contract data from blockchain..."),console.log("Admin contract address:",f.address),console.log("Signer address:",await f.signer.getAddress());const W=await f.provider.getNetwork();console.log("Connected to network:",W.name,"Chain ID:",W.chainId);let me,se;try{console.log(" Calling getAllIssuers from Admin contract..."),me=await f.getAllIssuers(),console.log(" getAllIssuers result:",me)}catch(Ne){console.error(" getAllIssuers failed:",Ne),me=[]}try{console.log(" Calling getAllManagers from Admin contract..."),se=await f.getAllManagers(),console.log(" getAllManagers result:",se)}catch(Ne){console.error(" getAllManagers failed:",Ne),se=[]}console.log(" Contract Data Received:"),console.log("Issuers:",me),console.log("Managers:",se);const ce=me||[],Ce=[];console.log(" Fetching IPFS metadata for issuers...");for(let Ne=0;Ne<ce.length;Ne++){const Ve=ce[Ne];try{const Y=await f.issuerMetadata(Ve);if(console.log(` Metadata URI for ${Ve}:`,Y),Y&&Y!==""){const J=await bp(Y);console.log(` Metadata for ${Ve}:`,J),J?Ce.push({id:Ve,address:Ve,name:J.name||`Issuer ${Ne+1}`,email:J.email||`issuer${Ne+1}@example.com`,role:"issuer",status:"active",metadataURI:Y,joinedDate:J.joinedDate||"2024-01-01",lastActive:"2024-12-28",tokensManaged:J.tokensManaged||0,totalVolume:J.totalVolume||0}):Ce.push({id:Ve,address:Ve,name:`Issuer ${Ne+1}`,email:`issuer${Ne+1}@example.com`,role:"issuer",status:"active",metadataURI:Y,joinedDate:"2024-01-01",lastActive:"2024-12-28",tokensManaged:0,totalVolume:0})}else Ce.push({id:Ve,address:Ve,name:`Issuer ${Ne+1}`,email:`issuer${Ne+1}@example.com`,role:"issuer",status:"active",metadataURI:"",joinedDate:"2024-01-01",lastActive:"2024-12-28",tokensManaged:0,totalVolume:0})}catch(Y){console.error(` Error fetching metadata for issuer ${Ve}:`,Y),Ce.push({id:Ve,address:Ve,name:`Issuer ${Ne+1}`,email:`issuer${Ne+1}@example.com`,role:"issuer",status:"active",metadataURI:"",joinedDate:"2024-01-01",lastActive:"2024-12-28",tokensManaged:0,totalVolume:0})}}const Re=se||[],_e=[];console.log(" Fetching IPFS metadata for managers...");for(let Ne=0;Ne<Re.length;Ne++){const Ve=Re[Ne];try{const Y=await f.managerMetadata(Ve);console.log(` Manager metadata URI for ${Ve}:`,Y);let J=[];try{J=(await f.getManagerTokens(Ve)).map(he=>he.toString()),console.log(` Manager ${Ve} assigned tokens:`,J)}catch(de){console.error(` Failed to fetch assigned tokens for manager ${Ve}:`,de)}if(Y&&Y!==""){const de=await bp(Y);console.log(` Manager metadata for ${Ve}:`,de),de?_e.push({id:Ve,address:Ve,name:de.name||`Manager ${Ne+1}`,email:de.email||`manager${Ne+1}@example.com`,role:"manager",status:"active",metadataURI:Y,joinedDate:de.joinedDate||"2024-01-01",lastActive:"2024-12-28",tokensManaged:J.length,totalVolume:de.totalVolume||0,assignedTokens:J}):_e.push({id:Ve,address:Ve,name:`Manager ${Ne+1}`,email:`manager${Ne+1}@example.com`,role:"manager",status:"active",metadataURI:Y,joinedDate:"2024-01-01",lastActive:"2024-12-28",tokensManaged:J.length,totalVolume:0,assignedTokens:J})}else _e.push({id:Ve,address:Ve,name:`Manager ${Ne+1}`,email:`manager${Ne+1}@example.com`,role:"manager",status:"active",metadataURI:"",joinedDate:"2024-01-01",lastActive:"2024-12-28",tokensManaged:J.length,totalVolume:0,assignedTokens:J})}catch(Y){console.error(` Error fetching metadata for manager ${Ve}:`,Y);let J=[];try{J=(await f.getManagerTokens(Ve)).map(he=>he.toString())}catch(de){console.error(` Failed to fetch assigned tokens for manager ${Ve}:`,de)}_e.push({id:Ve,address:Ve,name:`Manager ${Ne+1}`,email:`manager${Ne+1}@example.com`,role:"manager",status:"active",metadataURI:"",joinedDate:"2024-01-01",lastActive:"2024-12-28",tokensManaged:J.length,totalVolume:0,assignedTokens:J})}}const Bt={addresses:ce,count:ce.length,metadata:{}},Ge={addresses:Re,count:Re.length,metadata:{}};N(Bt),T(Ge),b(!1),d(Ce),h(_e),L({totalIssuers:Bt.count,totalManagers:Ge.count,activeTokens:0,totalVolume:0,marketplaceStatus:!0,platformFees:0}),console.log(" Contract data loaded successfully"),console.log(` Active Issuers: ${Bt.count}`),console.log(` Property Managers: ${Ge.count}`)}catch(W){console.error(" Failed to load contract data:",W),console.log(" Loading fallback mock data...");const me={addresses:["0x742D35Cc6635Cf532793FAa14d4A6ce8D8c5D93e"],count:1,metadata:{}},se={addresses:["0x3456789012345678901234567890123456789012"],count:1,metadata:{}};N(me),T(se),b(!1);const ce=[{id:"0x742D35Cc6635Cf532793FAa14d4A6ce8D8c5D93e",address:"0x742D35Cc6635Cf532793FAa14d4A6ce8D8c5D93e",name:"Mock Issuer",email:"issuer@example.com",role:"issuer",status:"active",metadataURI:"",joinedDate:"2024-01-01",lastActive:"2024-12-28",tokensManaged:0,totalVolume:0}],Ce=[{id:"0x3456789012345678901234567890123456789012",address:"0x3456789012345678901234567890123456789012",name:"Mock Manager",email:"manager@example.com",role:"manager",status:"active",metadataURI:"",joinedDate:"2024-01-01",lastActive:"2024-12-28",tokensManaged:0,totalVolume:0,assignedTokens:[]}];d(ce),h(Ce),L({totalIssuers:1,totalManagers:1,activeTokens:0,totalVolume:0,marketplaceStatus:!0,platformFees:0})}finally{ee(!1)}},Te=async()=>{if(!f||!s){console.log(" Contracts not initialized for marketplace asset fetching");return}j(!0);try{console.log(" Loading marketplace assets for assignment...");const W=new qe(hn,Hn.MARKETPLACE,s),me=new qe(Ts,Hn.ERC1155CORE,s),se=await W.getAllListings();console.log(" Raw marketplace listings:",se);let ce,Ce,Re,_e;if(Array.isArray(se)&&se.length===4)[ce,Ce,Re,_e]=se;else{console.warn(" Unexpected marketplace response format"),D([]);return}if(console.log(" Marketplace data:",{tokenIds:ce,issuers:Ce,amounts:Re,prices:_e}),!ce||ce.length===0){console.log(" No assets found on marketplace"),D([]);return}const Bt=[];for(let Ge=0;Ge<ce.length;Ge++)try{const Ne=ce[Ge].toString(),Ve=Ce[Ge],Y=Re[Ge].toString(),J=De(_e[Ge]);try{if(await me.getTokenLifecycleStatus(Ne)===2){console.log(` Skipping burned token ${Ne} in admin dashboard`);continue}}catch{console.warn(` Could not check lifecycle for token ${Ne}, including in admin dashboard`)}console.log(` Fetching metadata for token ${Ne}...`);let de="";try{de=await me.uri(Ne),console.log(` Metadata URI for token ${Ne}:`,de)}catch(Fe){console.warn(` Failed to get metadata URI for token ${Ne}:`,Fe)}let he=null;if(de)try{he=await bp(de),console.log(` Metadata for token ${Ne}:`,he)}catch(Fe){console.warn(` Failed to fetch IPFS metadata for token ${Ne}:`,Fe)}const ke={tokenId:Ne,name:(he==null?void 0:he.name)||`Asset #${Ne}`,description:(he==null?void 0:he.description)||"No description available",price:J,issuer:Ve,amount:Y,metadataURI:de,imageUrl:(he==null?void 0:he.image)||(he==null?void 0:he.imageUrl),type:(he==null?void 0:he.type)||(he==null?void 0:he.assetType)||"Unknown",location:(he==null?void 0:he.location)||"Unknown location"};Bt.push(ke),console.log(` Processed asset ${Ne}:`,ke)}catch(Ne){console.error(` Error processing asset at index ${Ge}:`,Ne)}console.log(` Loaded ${Bt.length} marketplace assets`),D(Bt)}catch(W){console.error(" Failed to load marketplace assets:",W),oe.error("Failed to load marketplace assets"),D([])}finally{j(!1)}},ve=async()=>{if(!f){oe.error("Admin contract not initialized");return}if(console.log(` Creating new ${V.role} account:`,V),!V.firstName||!V.lastName||!V.email||!V.password||!V.walletAddress){oe.error("Please fill all required fields");return}if(V.password!==V.confirmPassword){oe.error("Passwords do not match");return}if(V.password.length<6){oe.error("Password must be at least 6 characters long");return}if(V.firstName.trim().length<2){oe.error("First name must be at least 2 characters long");return}if(V.lastName.trim().length<2){oe.error("Last name must be at least 2 characters long");return}if(V.firstName.trim().length>50){oe.error("First name cannot exceed 50 characters");return}if(V.lastName.trim().length>50){oe.error("Last name cannot exceed 50 characters");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(V.email)){oe.error("Please provide a valid email address");return}try{const me=Ka(V.walletAddress);console.log(" Valid wallet address:",me)}catch{oe.error("Invalid wallet address format or checksum");return}if(ee(!0),console.log(" Contract Configuration Check:"),console.log("ADMIN_CONTRACT:",Jt),console.log("Signer available:",!!s),console.log("Network:",ct),!Jt){console.error(" ADMIN_CONTRACT not configured"),oe.error("UserRegistry contract address not configured"),ee(!1);return}try{console.log(" Step 1: Registering user in backend...");const me={firstName:V.firstName,lastName:V.lastName,email:V.email,password:V.password,confirmPassword:V.confirmPassword,walletAddress:V.walletAddress,role:V.role};try{console.log(" Sending registration data:",me);const se=await KW(me);console.log(" User registered in backend successfully:",se),oe.success("User registered in backend")}catch(se){console.error(" Backend registration failed:",se),console.error(" Registration data that failed:",me);let ce="Failed to register user in backend";se&&typeof se=="object"&&se.message&&(ce=se.message),oe.error(`Backend registration failed: ${ce}`),ee(!1);return}if(V.role==="issuer"){console.log(" Step 2: Uploading issuer metadata to IPFS...");const se={name:`${V.firstName} ${V.lastName}`,email:V.email,walletAddress:V.walletAddress,role:"issuer",joinedDate:new Date().toISOString().split("T")[0],createdBy:"admin",type:"issuer-profile"};let ce;try{ce=await Q1(se),console.log(" Metadata uploaded to IPFS:",ce),oe.success("Metadata uploaded to IPFS")}catch(Ce){console.error(" IPFS upload failed:",Ce),oe.error("Failed to upload metadata to IPFS"),ee(!1);return}console.log(" Step 3: Adding issuer to smart contract...");try{if(!s)throw new Error("Wallet not connected");const Ce=await s.provider.getNetwork();console.log(" Current network:",Ce.name,"Chain ID:",Ce.chainId);const Re=bt[ct].chainId;if(console.log(" Expected Chain ID:",Re),Ce.chainId!==Re)throw new Error(`Wrong network. Please switch to ${ct} (Chain ID: ${Re})`);if(!Jt)throw new Error("UserRegistry contract address not configured");console.log(" Creating UserRegistry contract instance..."),console.log("Contract Address:",Jt),console.log("Signer Address:",await s.getAddress());const _e=new qe(Jt,Hn.ADMIN,s);if(await s.provider.getCode(Jt)==="0x")throw new Error(`No contract found at address: ${Jt}`);const Ge=`ipfs://${ce}`,Ne=Ka(V.walletAddress);try{const de=await _e.owner(),he=await s.getAddress();if(console.log(" Contract responsive. Owner:",de),console.log("Current Admin Address:",he),de.toLowerCase()!==he.toLowerCase())throw new Error(`Access denied: Only contract owner can add issuers. Owner: ${de}, Current: ${he}`);if(await _e.isIssuer(Ne))throw new Error("Address is already registered as an issuer");console.log(" Address validation passed, proceeding with addIssuer...")}catch(de){throw console.error(" Pre-validation failed:",de),new Error(`Contract validation failed: ${de.message}`)}console.log(" Calling addIssuer function on UserRegistry..."),console.log("UserRegistry Address:",Jt),console.log("Address:",Ne),console.log("Metadata URI:",Ge);const Ve=await _e.addIssuer(Ne,Ge);console.log(" Transaction sent:",Ve.hash),oe.success(`Transaction sent: ${Ve.hash.slice(0,10)}...`),console.log(" Waiting for transaction confirmation...");const Y=await Ve.wait();console.log(" Transaction confirmed:",Y.transactionHash),oe.success("Issuer added to blockchain successfully!");const J={id:Ne,address:Ne,name:`${V.firstName} ${V.lastName}`,email:V.email,role:"issuer",status:"active",metadataURI:Ge,joinedDate:new Date().toISOString().split("T")[0],lastActive:new Date().toISOString().split("T")[0],tokensManaged:0,totalVolume:0};d(de=>[...de,J]),L(de=>({...de,totalIssuers:de.totalIssuers+1}))}catch(Ce){console.error(" Smart contract call failed:",Ce),Ce.reason?(console.error("Contract Error Reason:",Ce.reason),oe.error(`Smart contract error: ${Ce.reason}`)):Ce.message?(console.error("Contract Error Message:",Ce.message),oe.error(`Failed to add issuer: ${Ce.message}`)):(console.error("Unknown contract error:",Ce),oe.error("Failed to add issuer to smart contract")),ee(!1);return}}else if(V.role==="manager"){console.log(" Step 2: Uploading manager metadata to IPFS...");const se={name:`${V.firstName} ${V.lastName}`,email:V.email,walletAddress:V.walletAddress,role:"manager",joinedDate:new Date().toISOString().split("T")[0],createdBy:"admin",type:"manager-profile",tokensManaged:0,totalVolume:0,assignedTokens:[]};let ce;try{ce=await Q1(se),console.log(" Manager metadata uploaded to IPFS:",ce),oe.success("Manager metadata uploaded to IPFS")}catch(Ce){console.error(" IPFS upload failed:",Ce),oe.error("Failed to upload manager metadata to IPFS"),ee(!1);return}console.log(" Step 3: Adding manager to smart contract...");try{if(!s)throw new Error("Wallet not connected");const Ce=await s.provider.getNetwork();console.log(" Current network:",Ce.name,"Chain ID:",Ce.chainId);const Re=bt[ct].chainId;if(console.log(" Expected Chain ID:",Re),Ce.chainId!==Re)throw new Error(`Wrong network. Please switch to ${ct} (Chain ID: ${Re})`);if(!Jt)throw new Error("UserRegistry contract address not configured");console.log(" Creating UserRegistry contract instance..."),console.log("Contract Address:",Jt),console.log("Signer Address:",await s.getAddress());const _e=new qe(Jt,Hn.ADMIN,s);if(await s.provider.getCode(Jt)==="0x")throw new Error(`No contract found at address: ${Jt}`);const Ge=`ipfs://${ce}`,Ne=Ka(V.walletAddress);console.log(" Calling addManager function on UserRegistry..."),console.log("UserRegistry Address:",Jt),console.log("Address:",Ne),console.log("Metadata URI:",Ge);const Ve=await _e.addManager(Ne,Ge);console.log(" Transaction sent:",Ve.hash),oe.success(`Transaction sent: ${Ve.hash.slice(0,10)}...`),console.log(" Waiting for transaction confirmation...");const Y=await Ve.wait();console.log(" Transaction confirmed:",Y.transactionHash),oe.success("Manager added to blockchain successfully!");const J={id:Ne,address:Ne,name:`${V.firstName} ${V.lastName}`,email:V.email,role:"manager",status:"active",metadataURI:Ge,joinedDate:new Date().toISOString().split("T")[0],lastActive:new Date().toISOString().split("T")[0],tokensManaged:0,totalVolume:0,assignedTokens:[]};h(de=>[...de,J]),L(de=>({...de,totalManagers:de.totalManagers+1}))}catch(Ce){console.error(" Smart contract call failed:",Ce),Ce.reason?(console.error("Contract Error Reason:",Ce.reason),oe.error(`Smart contract error: ${Ce.reason}`)):Ce.message?(console.error("Contract Error Message:",Ce.message),oe.error(`Failed to add manager: ${Ce.message}`)):(console.error("Unknown contract error:",Ce),oe.error("Failed to add manager to smart contract")),ee(!1);return}}else oe.success(`${V.role} account created in backend`);P(!1),G({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",walletAddress:"",role:"issuer",metadataURI:""}),console.log(" User creation process completed successfully")}catch(me){console.error(" Error in user creation process:",me),oe.error(`Failed to create user: ${me.message}`)}finally{ee(!1)}},Q=async()=>{if(H){if(!s){oe.error("Please connect your wallet");return}ee(!0);try{console.log(" Removing user from contract:",H);const W=new qe(Jt,Hn.ADMIN,s);let me;if(H.role==="issuer")console.log(" Calling removeIssuer on UserRegistry..."),me=await W.removeIssuer(H.address);else if(H.role==="manager")console.log(" Calling removeManager on UserRegistry..."),me=await W.removeManager(H.address);else throw new Error("Invalid user role");console.log(" Transaction sent:",me.hash),oe.loading("Transaction submitted. Waiting for confirmation...");const se=await me.wait();console.log(" Transaction confirmed:",se),await ge(),oe.success(`${H.role==="issuer"?"Issuer":"Manager"} removed successfully!`),_(!1),K(null)}catch(W){console.error("Error removing user:",W),W.code==="ACTION_REJECTED"?oe.error("Transaction was rejected by user"):W.reason?oe.error(`Contract error: ${W.reason}`):W.message.includes("revert")?oe.error("Transaction reverted. Check if you have admin permissions and the user exists."):W.message.includes("Not an issuer")?oe.error("This address is not registered as an issuer"):W.message.includes("Not a manager")?oe.error("This address is not registered as a manager"):oe.error(`Failed to remove user: ${W.message}`)}finally{ee(!1)}}},xe=async()=>{if(!f){oe.error("Admin contract not initialized");return}ee(!0);try{console.log(" Toggling marketplace status on blockchain..."),console.log("Current marketplace paused status:",w);const W=await f.pauseMarketplace();console.log(" Transaction sent:",W.hash),oe.success(`Transaction sent: ${W.hash.slice(0,10)}...`),console.log(" Waiting for transaction confirmation...");const me=await W.wait();console.log(" Transaction confirmed:",me.transactionHash);const se=await f.marketplacePaused();console.log(" New marketplace status from contract:",se),b(se),L(Ce=>({...Ce,marketplaceStatus:!se}));const ce=se?"paused":"resumed";oe.success(`Marketplace ${ce} successfully on blockchain!`),console.log(` Marketplace ${ce} successfully`),O(!1)}catch(W){console.error(" Error toggling marketplace on blockchain:",W),W.code===4001?oe.error("Transaction rejected by user"):W.code==="UNPREDICTABLE_GAS_LIMIT"?oe.error("Gas estimation failed - check contract state"):oe.error(`Failed to toggle marketplace: ${W.message}`)}finally{ee(!1)}},we=()=>{O(!0)},Ke=async()=>{if(!ne.selectedAsset){oe.error("Please select an asset to assign");return}if(!ne.managerAddress){oe.error("Manager address is required");return}if(!s){oe.error("Please connect your wallet");return}ee(!0);try{console.log(" Assigning token to manager...",ne);const W=new qe(Jt,Hn.ADMIN,s),me=parseInt(ne.selectedAsset.tokenId),se=await W.assignManager(ne.managerAddress,me);console.log(" Transaction sent:",se.hash),oe.loading("Transaction submitted. Waiting for confirmation...");const ce=await se.wait();console.log(" Transaction confirmed:",ce),oe.success("Token assigned to manager successfully!"),await ge(),I(!1),Be({tokenId:"",managerAddress:"",selectedAsset:null})}catch(W){console.error("Error assigning token:",W),W.code==="ACTION_REJECTED"?oe.error("Transaction was rejected by user"):W.reason?oe.error(`Contract error: ${W.reason}`):W.message.includes("revert")?oe.error("Transaction reverted. Check if you have admin permissions and the manager exists."):oe.error(`Failed to assign token: ${W.message}`)}finally{ee(!1)}},ut=W=>{Be({tokenId:"",managerAddress:W.address,selectedAsset:null}),I(!0),Te()},He=async()=>{ee(!0);try{if(console.log(" Fetching pending assets from TokenManagement contract..."),!x)throw new Error("AdminTokenManagementService not initialized");const W=await x.getFormattedPendingAssets();console.log(" Fetched assets from TokenManagement:",W),z(W),oe.success(`Found ${W.length} pending requests`)}catch(W){console.error(" Error fetching assets from contract:",W),oe.error("Failed to fetch pending requests: "+W.message)}finally{ee(!1)}},gt=async()=>{try{console.log(" Fetching pending assets from TokenManagement contract and localStorage...");const W=JSON.parse(localStorage.getItem("pendingAssets")||"[]");console.log(" Assets from localStorage:",W.length);let me=[...W];if(f)try{const se=await f.getAllAssets();console.log(" All asset IDs from contract:",se);for(const ce of se)try{const Ce=await f.isAssetActive(ce),Re=await f.getAssetInfo(ce);Ce||me.some(Bt=>Bt.assetId===ce)||me.push({assetId:ce,name:Re.ipfsMetadataCID?`Asset ${ce.slice(0,8)}...`:"Unknown Asset",description:"Asset awaiting approval",status:"Pending",createdAt:new Date(Re.registrationTimestamp*1e3),metadataURI:Re.ipfsMetadataCID||""})}catch(Ce){console.warn(`Failed to fetch info for asset ${ce}:`,Ce)}}catch(se){console.warn(" Failed to fetch from AssetRegistry contract:",se)}else console.warn(" Admin contract not initialized, using localStorage only");z(me),console.log(" Total pending assets loaded:",me.length),console.log(" Pending assets:",me)}catch(W){console.error(" Error fetching pending assets:",W),oe.error("Failed to load pending assets"),z([])}},St=async(W,me)=>{var se,ce,Ce;try{if(console.log(` ${me?"Approving":"Rejecting"} token request ${W}...`),!x)throw new Error("TokenManagement service not initialized");if(me){console.log(" Calling TokenManagement.approveTokenRequest...");const Re=await x.approveTokenRequest(W);console.log(" Approval result:",Re),oe.success(`Token request approved! Transaction: ${Re.txHash.slice(0,10)}...`),oe.success("Issuer can now deploy their token from the issuer dashboard")}else{console.log(" Calling TokenManagement.rejectTokenRequest...");const _e=await x.rejectTokenRequest(W,"Rejected by admin");console.log(" Rejection result:",_e),oe.success(`Token request rejected! Transaction: ${_e.txHash.slice(0,10)}...`)}console.log(" Refreshing pending assets from contract..."),await He(),console.log(` Token request ${me?"approved":"rejected"} successfully on blockchain!`)}catch(Re){console.error(` Error ${me?"approving":"rejecting"} token request:`,Re),Re.code===4001?oe.error("Transaction rejected by user"):(se=Re.message)!=null&&se.includes("TokenManagement service not initialized")?oe.error("Admin service not ready. Please refresh the page."):(ce=Re.message)!=null&&ce.includes("Request does not exist")?oe.error("Token request not found in contract"):(Ce=Re.message)!=null&&Ce.includes("Request not pending")?oe.error("Token request is no longer pending"):oe.error(`Failed to ${me?"approve":"reject"} token request: ${Re.message}`)}},ye=async W=>{var me,se;try{console.log(" Fetching asset metadata:",W);const ce=await bp(W),Ce={name:ce.name||"Unknown",description:ce.description||"No description",assetType:((se=(me=ce.attributes)==null?void 0:me.find(_e=>_e.trait_type==="Asset Type"))==null?void 0:se.value)||"Unknown",intendedMintAmount:ce.intendedMintAmount||"Not specified",assetDetails:ce.assetDetails||{}},Re=[`Name: ${Ce.name}`,`Description: ${Ce.description}`,`Asset Type: ${Ce.assetType}`,`Intended Mint Amount: ${Ce.intendedMintAmount}`,"","Asset Details:",...Object.entries(Ce.assetDetails).map(([_e,Bt])=>`  ${_e}: ${Bt}`)].join(`
`);alert(`Asset Metadata:

${Re}`)}catch(ce){console.error(" Error fetching metadata:",ce),oe.error("Failed to load asset metadata")}};return y.useEffect(()=>{(f||x)&&o==="approvals"&&gt()},[f,x,o]),a.jsxs("div",{className:`min-h-screen ${r?"bg-slate-900":"bg-slate-50"}`,children:[a.jsx("header",{className:`${r?"bg-slate-800/95 backdrop-blur-md border-slate-700/50":"bg-white/95 backdrop-blur-md border-slate-200/60"} border-b sticky top-0 z-50 shadow-sm`,children:a.jsx("div",{className:"max-w-7xl mx-auto px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-9 h-9 bg-slate-800 rounded-lg flex items-center justify-center shadow-md",children:a.jsx(Qo,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:`text-lg font-semibold tracking-tight ${r?"text-white":"text-slate-900"}`,children:"Administration Console"}),a.jsx("p",{className:`text-sm ${r?"text-slate-400":"text-slate-600"}`,children:"Platform Management & Control"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:`flex items-center space-x-2 px-3 py-1.5 rounded-md text-xs font-medium ${w?"bg-red-50 text-red-700 border border-red-200":"bg-emerald-50 text-emerald-700 border border-emerald-200"} ${r&&(w?"bg-red-900/20 text-red-400 border-red-800/30":"bg-emerald-900/20 text-emerald-400 border-emerald-800/30")}`,children:[a.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${w?"bg-red-500":"bg-emerald-500"}`}),a.jsx("span",{children:w?"Trading Suspended":"System Operational"})]}),a.jsxs("div",{className:`flex items-center space-x-2 px-3 py-1.5 rounded-md text-xs font-medium ${e?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"} ${r&&(e?"bg-green-900/20 text-green-400 border-green-800/30":"bg-red-900/20 text-red-400 border-red-800/30")}`,children:[a.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${e?"bg-green-500":"bg-red-500"}`}),a.jsx("span",{children:e?"Wallet Connected":"Wallet Disconnected"})]}),!e&&a.jsx(Z,{onClick:n,size:"sm",className:"bg-slate-900 hover:bg-slate-800 text-white px-3 py-1.5 text-xs",children:"Connect Wallet"}),a.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>i(!r),className:`${r?"text-slate-400 hover:text-white hover:bg-slate-700":"text-slate-600 hover:text-slate-900 hover:bg-slate-100"} h-8 w-8 p-0`,children:r?a.jsx(CM,{className:"w-4 h-4"}):a.jsx(TM,{className:"w-4 h-4"})}),a.jsx(Z,{variant:"ghost",size:"sm",className:`${r?"text-slate-400 hover:text-white hover:bg-slate-700":"text-slate-600 hover:text-slate-900 hover:bg-slate-100"} h-8 w-8 p-0`,children:a.jsx(_d,{className:"w-4 h-4"})}),a.jsx(Z,{asChild:!0,variant:"ghost",size:"sm",className:`${r?"text-slate-400 hover:text-white hover:bg-slate-700":"text-slate-600 hover:text-slate-900 hover:bg-slate-100"}`,children:a.jsxs(_w,{to:"/marketplace",className:"flex items-center space-x-2 px-3 py-1.5",children:[a.jsx(In,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:"Marketplace"})]})}),a.jsx(Z,{asChild:!0,variant:"ghost",size:"sm",className:`${r?"text-slate-400 hover:text-white hover:bg-slate-700":"text-slate-600 hover:text-slate-900 hover:bg-slate-100"}`,children:a.jsxs(_w,{to:"/",className:"flex items-center space-x-2 px-3 py-1.5",children:[a.jsx(Nc,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:"Home"})]})}),a.jsx("div",{className:"w-px h-6 bg-slate-300 dark:bg-slate-600"}),a.jsx(Fd,{className:"h-8 w-8 border border-slate-200 dark:border-slate-700",children:a.jsx(Ld,{className:"text-xs bg-slate-100 dark:bg-slate-800",children:"AD"})})]})]})})}),a.jsx("main",{className:"max-w-7xl mx-auto px-6 lg:px-8 py-8",children:a.jsxs(ba,{value:o,onValueChange:l,className:"space-y-8",children:[a.jsxs(wa,{className:`inline-flex h-10 items-center justify-center rounded-lg p-1 ${r?"bg-slate-800 text-slate-400":"bg-slate-100 text-slate-600"}`,children:[a.jsx(tn,{value:"overview",className:"data-[state=active]:bg-white data-[state=active]:text-slate-900 data-[state=active]:shadow-sm dark:data-[state=active]:bg-slate-700 dark:data-[state=active]:text-white",children:"Overview"}),a.jsx(tn,{value:"issuers",className:"data-[state=active]:bg-white data-[state=active]:text-slate-900 data-[state=active]:shadow-sm dark:data-[state=active]:bg-slate-700 dark:data-[state=active]:text-white",children:"Issuers"}),a.jsx(tn,{value:"approvals",className:"data-[state=active]:bg-white data-[state=active]:text-slate-900 data-[state=active]:shadow-sm dark:data-[state=active]:bg-slate-700 dark:data-[state=active]:text-white",children:"Asset Approvals"}),a.jsx(tn,{value:"managers",className:"data-[state=active]:bg-white data-[state=active]:text-slate-900 data-[state=active]:shadow-sm dark:data-[state=active]:bg-slate-700 dark:data-[state=active]:text-white",children:"Managers"}),a.jsx(tn,{value:"system",className:"data-[state=active]:bg-white data-[state=active]:text-slate-900 data-[state=active]:shadow-sm dark:data-[state=active]:bg-slate-700 dark:data-[state=active]:text-white",children:"System"}),a.jsx(tn,{value:"settlements",className:"data-[state=active]:bg-white data-[state=active]:text-slate-900 data-[state=active]:shadow-sm dark:data-[state=active]:bg-slate-700 dark:data-[state=active]:text-white",children:"Invoice Settlements"})]}),a.jsxs(sn,{value:"overview",className:"space-y-8",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6",children:[a.jsx(fe,{className:`${r?"bg-slate-800/50 border-slate-700/50":"bg-white border-slate-200"} shadow-sm hover:shadow-md transition-shadow duration-200`,children:a.jsx(pe,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:`text-sm font-medium ${r?"text-slate-400":"text-slate-600"}`,children:"Active Issuers"}),a.jsx("p",{className:`text-2xl font-semibold tracking-tight ${r?"text-white":"text-slate-900"}`,children:R?a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 border-2 border-slate-300 border-t-slate-600 rounded-full animate-spin"}),a.jsx("span",{className:"text-lg",children:"Loading..."})]}):M.totalIssuers}),a.jsx("p",{className:"text-xs text-emerald-600 dark:text-emerald-400",children:"Live contract data"})]}),a.jsx("div",{className:"p-3 bg-slate-100 dark:bg-slate-700 rounded-lg",children:a.jsx(Ul,{className:"w-5 h-5 text-slate-700 dark:text-slate-300"})})]})})}),a.jsx(fe,{className:`${r?"bg-slate-800/50 border-slate-700/50":"bg-white border-slate-200"} shadow-sm hover:shadow-md transition-shadow duration-200`,children:a.jsx(pe,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:`text-sm font-medium ${r?"text-slate-400":"text-slate-600"}`,children:"Property Managers"}),a.jsx("p",{className:`text-2xl font-semibold tracking-tight ${r?"text-white":"text-slate-900"}`,children:R?a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 border-2 border-slate-300 border-t-slate-600 rounded-full animate-spin"}),a.jsx("span",{className:"text-lg",children:"Loading..."})]}):M.totalManagers}),a.jsx("p",{className:"text-xs text-emerald-600 dark:text-emerald-400",children:"Live contract data"})]}),a.jsx("div",{className:"p-3 bg-slate-100 dark:bg-slate-700 rounded-lg",children:a.jsx(Qd,{className:"w-5 h-5 text-slate-700 dark:text-slate-300"})})]})})}),a.jsx(fe,{className:`${r?"bg-slate-800/50 border-slate-700/50":"bg-white border-slate-200"} shadow-sm hover:shadow-md transition-shadow duration-200`,children:a.jsx(pe,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:`text-sm font-medium ${r?"text-slate-400":"text-slate-600"}`,children:"Active Tokens"}),a.jsx("p",{className:`text-2xl font-semibold tracking-tight ${r?"text-white":"text-slate-900"}`,children:M.activeTokens}),a.jsx("p",{className:"text-xs text-emerald-600 dark:text-emerald-400",children:"+3 this week"})]}),a.jsx("div",{className:"p-3 bg-slate-100 dark:bg-slate-700 rounded-lg",children:a.jsx(mN,{className:"w-5 h-5 text-slate-700 dark:text-slate-300"})})]})})}),a.jsx(fe,{className:`${r?"bg-slate-800/50 border-slate-700/50":"bg-white border-slate-200"} shadow-sm hover:shadow-md transition-shadow duration-200`,children:a.jsx(pe,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:`text-sm font-medium ${r?"text-slate-400":"text-slate-600"}`,children:"Total Volume"}),a.jsxs("p",{className:`text-2xl font-semibold tracking-tight ${r?"text-white":"text-slate-900"}`,children:["$",(M.totalVolume/1e6).toFixed(1),"M"]}),a.jsx("p",{className:"text-xs text-emerald-600 dark:text-emerald-400",children:"+$2.1M this month"})]}),a.jsx("div",{className:"p-3 bg-slate-100 dark:bg-slate-700 rounded-lg",children:a.jsx(In,{className:"w-5 h-5 text-slate-700 dark:text-slate-300"})})]})})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs(fe,{className:`${r?"bg-slate-800/50 border-slate-700/50":"bg-white border-slate-200"} shadow-sm`,children:[a.jsxs(ot,{className:"pb-4",children:[a.jsx(lt,{className:`text-lg font-semibold ${r?"text-white":"text-slate-900"}`,children:"Administrative Actions"}),a.jsx("p",{className:`text-sm ${r?"text-slate-400":"text-slate-600"}`,children:"Manage platform users and system settings"})]}),a.jsx(pe,{children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs(Z,{onClick:()=>P(!0),disabled:!e,className:"h-20 flex-col space-y-2 bg-slate-900 hover:bg-slate-800 text-white border-0 shadow-sm hover:shadow-md transition-all duration-200 disabled:opacity-50",children:[a.jsx(oV,{className:"w-5 h-5"}),a.jsx("span",{className:"text-sm font-medium",children:e?"Add User":"Connect Wallet"})]}),a.jsxs(Z,{onClick:ge,disabled:R||!e,variant:"outline",className:`h-20 flex-col space-y-2 ${r?"border-slate-700 bg-slate-800/30 text-slate-300 hover:bg-slate-700":"border-slate-200 bg-slate-50 text-slate-600 hover:bg-slate-100"} disabled:opacity-50`,children:[R?a.jsx(Pn,{className:"w-5 h-5 animate-spin"}):a.jsx(Pn,{className:"w-5 h-5"}),a.jsx("span",{className:"text-sm font-medium",children:R?"Loading...":"Refresh Data"})]}),a.jsxs(Z,{variant:"outline",className:`h-20 flex-col space-y-2 ${r?"border-slate-700 bg-slate-800/30 text-slate-300 hover:bg-slate-700":"border-slate-200 bg-slate-50 text-slate-600 hover:bg-slate-100"}`,children:[a.jsx(na,{className:"w-5 h-5"}),a.jsx("span",{className:"text-sm font-medium",children:"Audit Logs"})]}),a.jsxs(Z,{variant:"outline",className:`h-20 flex-col space-y-2 ${r?"border-slate-700 bg-slate-800/30 text-slate-300 hover:bg-slate-700":"border-slate-200 bg-slate-50 text-slate-600 hover:bg-slate-100"}`,children:[a.jsx(H7,{className:"w-5 h-5"}),a.jsx("span",{className:"text-sm font-medium",children:"Fee Management"})]}),a.jsxs(Z,{variant:"outline",className:`h-20 flex-col space-y-2 ${r?"border-slate-700 bg-slate-800/30 text-slate-300 hover:bg-slate-700":"border-slate-200 bg-slate-50 text-slate-600 hover:bg-slate-100"}`,children:[a.jsx(B7,{className:"w-5 h-5"}),a.jsx("span",{className:"text-sm font-medium",children:"Asset Registry"})]})]})})]})}),a.jsx("div",{children:a.jsxs(fe,{className:`${r?"bg-slate-800/50 border-slate-700/50":"bg-white border-slate-200"} shadow-sm`,children:[a.jsx(ot,{className:"pb-4",children:a.jsx(lt,{className:`text-lg font-semibold ${r?"text-white":"text-slate-900"}`,children:"System Health"})}),a.jsxs(pe,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${w?"bg-red-500":"bg-emerald-500"}`}),a.jsx("span",{className:`text-sm ${r?"text-slate-300":"text-slate-700"}`,children:"Trading Engine"})]}),a.jsx(Ie,{variant:w?"destructive":"default",className:"text-xs",children:w?"Paused":"Active"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),a.jsx("span",{className:`text-sm ${r?"text-slate-300":"text-slate-700"}`,children:"Smart Contracts"})]}),a.jsx(Ie,{variant:"default",className:"text-xs",children:"Deployed"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),a.jsx("span",{className:`text-sm ${r?"text-slate-300":"text-slate-700"}`,children:"Infrastructure"})]}),a.jsx(Ie,{variant:"default",className:"text-xs",children:"Healthy"})]})]})]})})]})]}),a.jsxs(sn,{value:"issuers",className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:`text-xl font-semibold tracking-tight ${r?"text-white":"text-slate-900"}`,children:"Platform Issuers"}),a.jsx("p",{className:`text-sm ${r?"text-slate-400":"text-slate-600"}`,children:"Manage tokenization partners and authorized issuers"})]}),a.jsxs(Z,{onClick:()=>{G(W=>({...W,role:"issuer"})),P(!0)},className:"bg-slate-900 hover:bg-slate-800 text-white shadow-sm",children:[a.jsx(sa,{className:"w-4 h-4 mr-2"}),"Add Issuer"]})]}),a.jsx("div",{className:"space-y-4",children:c.map(W=>a.jsx(fe,{className:`${r?"bg-slate-800/50 border-slate-700/50":"bg-white border-slate-200"} shadow-sm hover:shadow-md transition-all duration-200`,children:a.jsx(pe,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(Fd,{className:"h-11 w-11 border border-slate-200 dark:border-slate-700",children:a.jsx(Ld,{className:"bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 font-medium",children:W.name.charAt(0)})}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("h3",{className:`font-medium ${r?"text-white":"text-slate-900"}`,children:W.name}),a.jsx("p",{className:`text-sm ${r?"text-slate-400":"text-slate-600"}`,children:W.email}),a.jsxs("p",{className:"text-xs font-mono text-slate-500",children:[W.address.slice(0,8),"...",W.address.slice(-6)]})]})]}),a.jsxs("div",{className:"flex items-center space-x-8",children:[a.jsxs("div",{className:"text-right space-y-1",children:[a.jsxs("p",{className:`text-sm font-medium ${r?"text-white":"text-slate-900"}`,children:[W.tokensManaged," Active Tokens"]}),a.jsxs("p",{className:`text-sm ${r?"text-slate-400":"text-slate-600"}`,children:["$",(W.totalVolume/1e6).toFixed(1),"M Total Volume"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${W.status==="active"?"bg-emerald-500":"bg-slate-400"}`}),a.jsx(Ie,{variant:W.status==="active"?"default":"secondary",className:"text-xs font-medium",children:W.status})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(Z,{variant:"outline",size:"sm",className:"h-8 w-8 p-0",onClick:()=>{K(W),A(!0)},children:a.jsx(Zr,{className:"w-4 h-4"})}),a.jsx(Z,{variant:"outline",size:"sm",className:"h-8 w-8 p-0 text-red-600 border-red-200 hover:bg-red-50 dark:text-red-400 dark:border-red-800 dark:hover:bg-red-950",onClick:()=>{K(W),_(!0)},children:a.jsx(lA,{className:"w-4 h-4"})})]})]})]})})},W.id))})]}),a.jsxs(sn,{value:"approvals",className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:`text-xl font-semibold tracking-tight ${r?"text-white":"text-slate-900"}`,children:"Asset Approvals"}),a.jsx("p",{className:`text-sm ${r?"text-slate-400":"text-slate-600"}`,children:"Review and approve asset registrations from issuers"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Z,{onClick:()=>He(),variant:"default",className:"bg-green-600 hover:bg-green-700 text-white",children:" Load from Contract"}),a.jsx(Z,{onClick:async()=>{if(console.log(" Debug: Testing TokenManagement service..."),console.log(" AdminTokenManagementService:",x),x)try{const W=await x.getPendingTokenRequests();console.log(" Raw pending requests:",W);const me=await x.getFormattedPendingAssets();console.log(" Formatted pending assets:",me),oe.success(`Found ${W.length} pending requests`)}catch(W){console.error(" Debug error:",W),oe.error("Debug test failed: "+W.message)}else oe.error("TokenManagement service not initialized")},variant:"outline",className:`${r?"border-blue-600 text-blue-300 hover:bg-blue-800":"border-blue-300 text-blue-700 hover:bg-blue-50"}`,children:" Debug"}),a.jsxs(Z,{onClick:()=>gt(),variant:"outline",className:`${r?"border-slate-600 text-slate-300 hover:bg-slate-800":"border-slate-300 text-slate-700 hover:bg-slate-50"}`,children:[a.jsx(Pn,{className:"w-4 h-4 mr-2"}),"Refresh (Old)"]})]})]}),a.jsx("div",{className:"grid grid-cols-1 gap-6",children:U.length===0?a.jsx(fe,{className:`${r?"bg-slate-800/50 border-slate-700/50":"bg-white border-slate-200"}`,children:a.jsxs(pe,{className:"p-12 text-center",children:[a.jsx(na,{className:`w-16 h-16 mx-auto mb-4 ${r?"text-slate-600":"text-slate-400"}`}),a.jsx("h3",{className:`text-lg font-medium mb-2 ${r?"text-white":"text-slate-900"}`,children:"No Pending Assets"}),a.jsx("p",{className:`${r?"text-slate-400":"text-slate-600"}`,children:"All asset registrations have been reviewed"})]})}):U.map((W,me)=>a.jsx(fe,{className:`${r?"bg-slate-800/50 border-slate-700/50":"bg-white border-slate-200"} shadow-sm hover:shadow-md transition-shadow duration-200`,children:a.jsxs(pe,{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h3",{className:`text-lg font-semibold ${r?"text-white":"text-slate-900"}`,children:W.name}),a.jsx(Ie,{variant:W.status==="Pending"?"secondary":W.status==="Approved"?"default":"destructive",children:W.status})]}),a.jsx("p",{className:`text-sm ${r?"text-slate-400":"text-slate-600"} mb-3 line-clamp-2`,children:W.description}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:`${r?"text-slate-400":"text-slate-600"}`,children:"Asset ID:"}),a.jsxs("span",{className:`ml-2 font-mono ${r?"text-slate-300":"text-slate-700"}`,children:["#",W.assetId]})]}),a.jsxs("div",{children:[a.jsx("span",{className:`${r?"text-slate-400":"text-slate-600"}`,children:"Price per Token:"}),a.jsxs("span",{className:`ml-2 font-semibold ${r?"text-white":"text-slate-900"}`,children:[W.price," Flow"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:`${r?"text-slate-400":"text-slate-600"}`,children:"Submitted:"}),a.jsx("span",{className:`ml-2 ${r?"text-slate-300":"text-slate-700"}`,children:new Date(W.createdAt).toLocaleDateString()})]}),a.jsxs("div",{children:[a.jsx("span",{className:`${r?"text-slate-400":"text-slate-600"}`,children:"Issuer:"}),a.jsx("span",{className:`ml-2 font-mono text-xs ${r?"text-slate-300":"text-slate-700"}`,children:W.issuer?`${W.issuer.slice(0,6)}...${W.issuer.slice(-4)}`:"Unknown"})]})]})]}),W.status==="Pending"&&a.jsxs("div",{className:"flex gap-2 ml-4",children:[a.jsxs(Z,{onClick:()=>St(W.assetId,!0),size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",children:[a.jsx(an,{className:"w-4 h-4 mr-1"}),"Approve"]}),a.jsxs(Z,{onClick:()=>St(W.assetId,!1),size:"sm",variant:"destructive",children:[a.jsx(SM,{className:"w-4 h-4 mr-1"}),"Reject"]})]})]}),a.jsx("div",{className:"pt-4 border-t border-slate-200 dark:border-slate-700",children:a.jsxs(Z,{onClick:()=>ye(W.metadataURI),variant:"outline",size:"sm",className:`${r?"border-slate-600 text-slate-300 hover:bg-slate-800":"border-slate-300 text-slate-700 hover:bg-slate-50"}`,children:[a.jsx(Zr,{className:"w-4 h-4 mr-2"}),"View Details"]})})]})},me))})]}),a.jsxs(sn,{value:"managers",className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:`text-xl font-semibold tracking-tight ${r?"text-white":"text-slate-900"}`,children:"Property Managers"}),a.jsx("p",{className:`text-sm ${r?"text-slate-400":"text-slate-600"}`,children:"Manage asset managers and property supervisors"})]}),a.jsxs(Z,{onClick:()=>{G(W=>({...W,role:"manager"})),P(!0)},className:"bg-slate-900 hover:bg-slate-800 text-white shadow-sm",children:[a.jsx(sa,{className:"w-4 h-4 mr-2"}),"Add Manager"]})]}),a.jsx("div",{className:"space-y-4",children:u.map(W=>a.jsx(fe,{className:`${r?"bg-slate-800/50 border-slate-700/50":"bg-white border-slate-200"} shadow-sm hover:shadow-md transition-all duration-200`,children:a.jsx(pe,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(Fd,{className:"h-11 w-11 border border-slate-200 dark:border-slate-700",children:a.jsx(Ld,{className:"bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 font-medium",children:W.name.split(" ").map(me=>me.charAt(0)).join("")})}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("h3",{className:`font-medium ${r?"text-white":"text-slate-900"}`,children:W.name}),a.jsx("p",{className:`text-sm ${r?"text-slate-400":"text-slate-600"}`,children:W.email}),a.jsxs("p",{className:"text-xs font-mono text-slate-500",children:[W.address.slice(0,8),"...",W.address.slice(-6)]})]})]}),a.jsxs("div",{className:"flex items-center space-x-8",children:[a.jsxs("div",{className:"text-right space-y-1",children:[a.jsxs("p",{className:`text-sm font-medium ${r?"text-white":"text-slate-900"}`,children:[W.tokensManaged," Managed Assets"]}),a.jsxs("p",{className:`text-sm ${r?"text-slate-400":"text-slate-600"}`,children:["$",W.totalVolume.toLocaleString()," Monthly Income"]}),W.assignedTokens&&W.assignedTokens.length>0&&a.jsxs("p",{className:"text-xs text-slate-500 font-mono",children:["Tokens: ",W.assignedTokens.join(", ")]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${W.status==="active"?"bg-emerald-500":"bg-slate-400"}`}),a.jsx(Ie,{variant:W.status==="active"?"default":"secondary",className:"text-xs font-medium",children:W.status})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(Z,{variant:"outline",size:"sm",className:"h-8 w-8 p-0 text-blue-600 border-blue-200 hover:bg-blue-50 dark:text-blue-400 dark:border-blue-800 dark:hover:bg-blue-950",onClick:()=>ut(W),title:"Assign Token",children:a.jsx(sa,{className:"w-4 h-4"})}),a.jsx(Z,{variant:"outline",size:"sm",className:"h-8 w-8 p-0",onClick:()=>{K(W),A(!0)},children:a.jsx(Zr,{className:"w-4 h-4"})}),a.jsx(Z,{variant:"outline",size:"sm",className:"h-8 w-8 p-0 text-red-600 border-red-200 hover:bg-red-50 dark:text-red-400 dark:border-red-800 dark:hover:bg-red-950",onClick:()=>{K(W),_(!0)},children:a.jsx(lA,{className:"w-4 h-4"})})]})]})]})})},W.id))})]}),a.jsxs(sn,{value:"system",className:"space-y-6",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("div",{children:[a.jsx("h2",{className:`text-xl font-semibold tracking-tight ${r?"text-white":"text-slate-900"}`,children:"System Administration"}),a.jsx("p",{className:`text-sm ${r?"text-slate-400":"text-slate-600"}`,children:"Configure platform settings and monitor system health"})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs(fe,{className:`${r?"bg-slate-800/50 border-slate-700/50":"bg-white border-slate-200"} shadow-sm`,children:[a.jsxs(ot,{className:"pb-4",children:[a.jsx(lt,{className:`text-lg font-semibold ${r?"text-white":"text-slate-900"}`,children:"Trading Controls"}),a.jsx("p",{className:`text-sm ${r?"text-slate-400":"text-slate-600"}`,children:"Manage marketplace operations"})]}),a.jsxs(pe,{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:`font-medium ${r?"text-white":"text-slate-900"}`,children:"Marketplace Status"}),a.jsx("p",{className:`text-sm ${r?"text-slate-400":"text-slate-600"}`,children:w?"All trading operations are currently suspended":"Trading operations are active and functioning normally"})]}),a.jsx(AL,{checked:!w,onCheckedChange:we,disabled:X||!e})]}),a.jsx("div",{className:"pt-4 border-t border-slate-200 dark:border-slate-700",children:a.jsx(Z,{onClick:we,disabled:X||!e,className:"w-full",variant:w?"default":"destructive",children:X?a.jsxs(a.Fragment,{children:[a.jsx(Pn,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):a.jsxs(a.Fragment,{children:[w?a.jsx(Xp,{className:"w-4 h-4 mr-2"}):a.jsx(Jo,{className:"w-4 h-4 mr-2"}),w?"Resume Trading":"Suspend Trading"]})})})]})]}),a.jsxs(fe,{className:`${r?"bg-slate-800/50 border-slate-700/50":"bg-white border-slate-200"} shadow-sm`,children:[a.jsxs(ot,{className:"pb-4",children:[a.jsx(lt,{className:`text-lg font-semibold ${r?"text-white":"text-slate-900"}`,children:"Platform Configuration"}),a.jsx("p",{className:`text-sm ${r?"text-slate-400":"text-slate-600"}`,children:"System settings and administration tools"})]}),a.jsxs(pe,{className:"space-y-3",children:[a.jsxs(Z,{variant:"outline",className:"w-full justify-start h-12",children:[a.jsx($h,{className:"w-4 h-4 mr-3"}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"font-medium",children:"Fee Structure"}),a.jsx("div",{className:`text-xs ${r?"text-slate-400":"text-slate-600"}`,children:"Configure platform fees and commissions"})]})]}),a.jsxs(Z,{variant:"outline",className:"w-full justify-start h-12",children:[a.jsx(bc,{className:"w-4 h-4 mr-3"}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"font-medium",children:"Export Logs"}),a.jsx("div",{className:`text-xs ${r?"text-slate-400":"text-slate-600"}`,children:"Download system logs and audit trails"})]})]}),a.jsxs(Z,{variant:"outline",className:"w-full justify-start h-12",children:[a.jsx(Qr,{className:"w-4 h-4 mr-3"}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"font-medium",children:"Analytics Dashboard"}),a.jsx("div",{className:`text-xs ${r?"text-slate-400":"text-slate-600"}`,children:"View detailed platform analytics"})]})]})]})]})]})]}),a.jsxs(sn,{value:"settlements",className:"space-y-6",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("div",{children:[a.jsx("h2",{className:`text-xl font-semibold tracking-tight ${r?"text-white":"text-slate-900"}`,children:"Invoice Settlement Management"}),a.jsx("p",{className:`text-sm ${r?"text-slate-400":"text-slate-600"}`,children:"Process invoice settlements and monitor token lifecycle"})]})}),a.jsxs("div",{className:"space-y-8",children:[a.jsx(Hue,{}),a.jsx(Wue,{})]})]})]})}),a.jsx(rr,{open:C,onOpenChange:P,children:a.jsxs(Fs,{className:`sm:max-w-md ${r?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-xl`,children:[a.jsxs(Ls,{className:"space-y-3",children:[a.jsxs(Bs,{className:`text-lg font-semibold ${r?"text-white":"text-slate-900"}`,children:["Add ",V.role.charAt(0).toUpperCase()+V.role.slice(1)]}),a.jsxs(ta,{className:`text-sm ${r?"text-slate-400":"text-slate-600"}`,children:["Create a new ",V.role," account with platform access and appropriate permissions."]})]}),a.jsxs("div",{className:"space-y-4 py-4 max-h-96 overflow-y-auto",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Nt,{htmlFor:"role",className:`text-sm font-medium ${r?"text-slate-200":"text-slate-700"}`,children:"User Role"}),a.jsxs(du,{value:V.role,onValueChange:W=>G(me=>({...me,role:W})),children:[a.jsx(Pc,{className:`${r?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300"}`,children:a.jsx(uu,{})}),a.jsxs(Ic,{children:[a.jsx(nr,{value:"issuer",children:"Platform Issuer"}),a.jsx(nr,{value:"manager",children:"Property Manager"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Nt,{htmlFor:"firstName",className:`text-sm font-medium ${r?"text-slate-200":"text-slate-700"}`,children:"First Name"}),a.jsx(Et,{id:"firstName",placeholder:"John",value:V.firstName,onChange:W=>G(me=>({...me,firstName:W.target.value})),className:`${r?"bg-slate-700 border-slate-600 text-white placeholder:text-slate-400":"bg-white border-slate-300"}`})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Nt,{htmlFor:"lastName",className:`text-sm font-medium ${r?"text-slate-200":"text-slate-700"}`,children:"Last Name"}),a.jsx(Et,{id:"lastName",placeholder:"Doe",value:V.lastName,onChange:W=>G(me=>({...me,lastName:W.target.value})),className:`${r?"bg-slate-700 border-slate-600 text-white placeholder:text-slate-400":"bg-white border-slate-300"}`})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Nt,{htmlFor:"email",className:`text-sm font-medium ${r?"text-slate-200":"text-slate-700"}`,children:"Email Address"}),a.jsx(Et,{id:"email",type:"email",placeholder:"john.doe@company.com",value:V.email,onChange:W=>G(me=>({...me,email:W.target.value})),className:`${r?"bg-slate-700 border-slate-600 text-white placeholder:text-slate-400":"bg-white border-slate-300"}`})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Nt,{htmlFor:"walletAddress",className:`text-sm font-medium ${r?"text-slate-200":"text-slate-700"}`,children:"Wallet Address"}),a.jsx(Et,{id:"walletAddress",placeholder:"0x742d35Cc...",value:V.walletAddress,onChange:W=>G(me=>({...me,walletAddress:W.target.value})),className:`${r?"bg-slate-700 border-slate-600 text-white placeholder:text-slate-400":"bg-white border-slate-300"} font-mono text-sm`})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Nt,{htmlFor:"password",className:`text-sm font-medium ${r?"text-slate-200":"text-slate-700"}`,children:"Password"}),a.jsx(Et,{id:"password",type:"password",placeholder:"Enter secure password",value:V.password,onChange:W=>G(me=>({...me,password:W.target.value})),className:`${r?"bg-slate-700 border-slate-600 text-white placeholder:text-slate-400":"bg-white border-slate-300"}`})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Nt,{htmlFor:"confirmPassword",className:`text-sm font-medium ${r?"text-slate-200":"text-slate-700"}`,children:"Confirm Password"}),a.jsx(Et,{id:"confirmPassword",type:"password",placeholder:"Confirm password",value:V.confirmPassword,onChange:W=>G(me=>({...me,confirmPassword:W.target.value})),className:`${r?"bg-slate-700 border-slate-600 text-white placeholder:text-slate-400":"bg-white border-slate-300"}`})]})]}),a.jsxs(Io,{className:"space-x-2 pt-4",children:[a.jsx(Z,{variant:"outline",onClick:()=>P(!1),children:"Cancel"}),a.jsx(Z,{onClick:ve,disabled:X,className:"bg-slate-900 hover:bg-slate-800",children:X?a.jsxs(a.Fragment,{children:[a.jsx(Pn,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating Account..."]}):`Create ${V.role.charAt(0).toUpperCase()+V.role.slice(1)} Account`})]})]})}),a.jsx(rr,{open:S,onOpenChange:A,children:a.jsx(Fs,{className:`sm:max-w-2xl ${r?"bg-gray-900 border-gray-700":"bg-white border-gray-200"}`,children:H&&a.jsxs(a.Fragment,{children:[a.jsxs(Ls,{children:[a.jsx(Bs,{className:`${r?"text-white":"text-gray-900"}`,children:H.name}),a.jsxs(ta,{className:`${r?"text-gray-300":"text-gray-600"}`,children:[H.role.charAt(0).toUpperCase()+H.role.slice(1)," Details"]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:`text-sm font-medium ${r?"text-gray-400":"text-gray-600"}`,children:"Wallet Address"}),a.jsx("p",{className:`font-mono text-sm ${r?"text-white":"text-gray-900"}`,children:H.address})]}),a.jsxs("div",{children:[a.jsx("p",{className:`text-sm font-medium ${r?"text-gray-400":"text-gray-600"}`,children:"Email"}),a.jsx("p",{className:`${r?"text-white":"text-gray-900"}`,children:H.email})]}),a.jsxs("div",{children:[a.jsx("p",{className:`text-sm font-medium ${r?"text-gray-400":"text-gray-600"}`,children:"Status"}),a.jsx(Ie,{variant:H.status==="active"?"default":"secondary",children:H.status})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:`text-sm font-medium ${r?"text-gray-400":"text-gray-600"}`,children:"Joined Date"}),a.jsx("p",{className:`${r?"text-white":"text-gray-900"}`,children:H.joinedDate})]}),a.jsxs("div",{children:[a.jsx("p",{className:`text-sm font-medium ${r?"text-gray-400":"text-gray-600"}`,children:"Last Active"}),a.jsx("p",{className:`${r?"text-white":"text-gray-900"}`,children:H.lastActive})]}),a.jsxs("div",{children:[a.jsx("p",{className:`text-sm font-medium ${r?"text-gray-400":"text-gray-600"}`,children:H.role==="issuer"?"Tokens Created":"Assets Managed"}),a.jsx("p",{className:`${r?"text-white":"text-gray-900"}`,children:H.tokensManaged})]})]})]}),a.jsx(Io,{children:a.jsx(Z,{variant:"outline",onClick:()=>A(!1),children:"Close"})})]})})}),a.jsx(rr,{open:F,onOpenChange:_,children:a.jsx(Fs,{className:`sm:max-w-md ${r?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-xl`,children:H&&a.jsxs(a.Fragment,{children:[a.jsx(Ls,{className:"space-y-3",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 rounded-full bg-red-100 dark:bg-red-900/20",children:a.jsx(Nf,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),a.jsxs("div",{children:[a.jsx(Bs,{className:`text-lg font-semibold ${r?"text-white":"text-slate-900"}`,children:"Confirm Removal"}),a.jsx(ta,{className:`text-sm ${r?"text-slate-400":"text-slate-600"}`,children:"Are you sure you want to remove this user from the blockchain? This action cannot be undone."})]})]})}),a.jsx("div",{className:"py-4",children:a.jsxs("div",{className:`p-4 rounded-lg ${r?"bg-slate-700/50":"bg-slate-50"} border ${r?"border-slate-600":"border-slate-200"}`,children:[a.jsxs("p",{className:`text-sm ${r?"text-slate-300":"text-slate-700"}`,children:["You are about to remove ",a.jsx("span",{className:"font-medium",children:H.name})," from the platform."]}),a.jsxs("p",{className:`text-xs mt-2 ${r?"text-slate-400":"text-slate-600"}`,children:["Role: ",a.jsx("span",{className:"capitalize font-medium",children:H.role})]}),a.jsxs("p",{className:`text-xs mt-1 ${r?"text-slate-400":"text-slate-600"}`,children:["Address: ",a.jsx("span",{className:"font-mono",children:H.address})]}),a.jsx("div",{className:`mt-3 p-3 rounded ${r?"bg-red-900/20 border border-red-800/30":"bg-red-50 border border-red-200"}`,children:a.jsx("p",{className:`text-xs font-medium ${r?"text-red-300":"text-red-700"}`,children:" This action cannot be undone. All associated permissions will be permanently revoked."})})]})}),a.jsxs(Io,{className:"space-x-2",children:[a.jsx(Z,{variant:"outline",onClick:()=>_(!1),children:"Cancel"}),a.jsx(Z,{variant:"destructive",onClick:Q,disabled:X,className:"bg-red-600 hover:bg-red-700",children:X?a.jsxs(a.Fragment,{children:[a.jsx(Pn,{className:"w-4 h-4 mr-2 animate-spin"}),"Removing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(aV,{className:"w-4 h-4 mr-2"}),"Remove User"]})})]})]})})}),a.jsx(rr,{open:k,onOpenChange:O,children:a.jsxs(Fs,{className:`sm:max-w-md ${r?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-xl`,children:[a.jsx(Ls,{className:"space-y-3",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`p-2 rounded-full ${w?"bg-green-100 dark:bg-green-900/20":"bg-red-100 dark:bg-red-900/20"}`,children:w?a.jsx(Xp,{className:`w-5 h-5 ${w?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`}):a.jsx(Jo,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),a.jsxs("div",{children:[a.jsx(Bs,{className:`text-lg font-semibold ${r?"text-white":"text-slate-900"}`,children:w?"Resume Trading":"Suspend Trading"}),a.jsx(ta,{className:`text-sm ${r?"text-slate-400":"text-slate-600"}`,children:"This action will affect the entire marketplace operations"})]})]})}),a.jsx("div",{className:"py-4",children:a.jsxs("div",{className:`p-4 rounded-lg ${r?"bg-slate-700/50":"bg-slate-50"} border ${r?"border-slate-600":"border-slate-200"}`,children:[w?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:`text-sm font-medium ${r?"text-white":"text-slate-900"} mb-2`,children:" Resume Marketplace Trading"}),a.jsx("p",{className:`text-sm ${r?"text-slate-300":"text-slate-700"} mb-3`,children:"This will enable all trading operations across the platform:"}),a.jsxs("ul",{className:`text-xs ${r?"text-slate-400":"text-slate-600"} space-y-1 ml-4`,children:[a.jsx("li",{children:" Token buying and selling will be enabled"}),a.jsx("li",{children:" All marketplace functions will be active"}),a.jsx("li",{children:" Users can perform transactions normally"}),a.jsx("li",{children:" Platform fees and commissions will apply"})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:`text-sm font-medium ${r?"text-white":"text-slate-900"} mb-2`,children:" Suspend All Marketplace Trading"}),a.jsx("p",{className:`text-sm ${r?"text-slate-300":"text-slate-700"} mb-3`,children:"This will immediately halt all trading operations:"}),a.jsxs("ul",{className:`text-xs ${r?"text-slate-400":"text-slate-600"} space-y-1 ml-4`,children:[a.jsx("li",{children:" All token purchases will be disabled"}),a.jsx("li",{children:" Existing listings will be suspended"}),a.jsx("li",{children:" Users cannot buy or sell any assets"}),a.jsx("li",{children:" Only viewing functions will remain active"})]})]}),a.jsx("div",{className:`mt-3 p-3 rounded ${r?"bg-orange-900/20 border border-orange-800/30":"bg-orange-50 border border-orange-200"}`,children:a.jsx("p",{className:`text-xs font-medium ${r?"text-orange-400":"text-orange-700"}`,children:" This action requires a blockchain transaction and will affect all users immediately."})})]})}),a.jsxs(Io,{className:"space-x-2",children:[a.jsx(Z,{variant:"outline",onClick:()=>O(!1),children:"Cancel"}),a.jsx(Z,{onClick:xe,disabled:X||!e,variant:w?"default":"destructive",className:w?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700",children:X?a.jsxs(a.Fragment,{children:[a.jsx(Pn,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):a.jsx(a.Fragment,{children:w?a.jsxs(a.Fragment,{children:[a.jsx(Xp,{className:"w-4 h-4 mr-2"}),"Confirm Resume Trading"]}):a.jsxs(a.Fragment,{children:[a.jsx(Jo,{className:"w-4 h-4 mr-2"}),"Confirm Suspend Trading"]})})})]})]})}),a.jsx(rr,{open:q,onOpenChange:I,children:a.jsxs(Fs,{className:`sm:max-w-4xl ${r?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-xl`,children:[a.jsxs(Ls,{className:"space-y-3",children:[a.jsx(Bs,{className:`text-lg font-semibold ${r?"text-white":"text-slate-900"}`,children:"Assign Asset to Manager"}),a.jsx(ta,{className:`text-sm ${r?"text-slate-400":"text-slate-600"}`,children:"Select a marketplace asset to assign to this manager for income management."})]}),a.jsx("div",{className:"py-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:`p-3 rounded-lg ${r?"bg-slate-700/50":"bg-slate-50"} border ${r?"border-slate-600":"border-slate-200"}`,children:[a.jsx("p",{className:`text-sm font-medium ${r?"text-slate-200":"text-slate-700"}`,children:"Manager Address:"}),a.jsx("p",{className:`text-xs font-mono ${r?"text-slate-400":"text-slate-600"} mt-1`,children:ne.managerAddress})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(Nt,{className:`text-sm font-medium ${r?"text-slate-200":"text-slate-700"}`,children:"Select Asset to Assign *"}),B.length===0?a.jsxs("div",{className:`p-6 text-center rounded-lg border-2 border-dashed ${r?"border-slate-600 bg-slate-700/30":"border-slate-300 bg-slate-50"}`,children:[a.jsx(vw,{className:`w-8 h-8 mx-auto mb-3 ${r?"text-slate-400":"text-slate-500"}`}),a.jsx("p",{className:`text-sm font-medium ${r?"text-slate-300":"text-slate-700"}`,children:"No marketplace assets found"}),a.jsx("p",{className:`text-xs ${r?"text-slate-400":"text-slate-600"} mt-1`,children:"Create and list assets on the marketplace first"})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 max-h-64 overflow-y-auto",children:B.map(W=>{var me;return a.jsx("div",{onClick:()=>Be(se=>({...se,selectedAsset:W})),className:`p-3 rounded-lg border-2 cursor-pointer transition-all ${((me=ne.selectedAsset)==null?void 0:me.tokenId)===W.tokenId?r?"border-blue-500 bg-blue-500/10":"border-blue-500 bg-blue-50":r?"border-slate-600 bg-slate-700/30 hover:border-slate-500":"border-slate-200 bg-white hover:border-slate-300"}`,children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${r?"bg-slate-600":"bg-slate-100"}`,children:a.jsx(Ul,{className:`w-6 h-6 ${r?"text-slate-300":"text-slate-600"}`})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:`text-sm font-medium truncate ${r?"text-white":"text-slate-900"}`,children:W.name||`Asset #${W.tokenId}`}),a.jsx("p",{className:`text-xs ${r?"text-slate-400":"text-slate-600"} mt-1`,children:W.location||"No location specified"}),a.jsxs("div",{className:"flex justify-between items-center mt-2",children:[a.jsxs("span",{className:`text-xs font-medium ${r?"text-green-400":"text-green-600"}`,children:[W.price," ETH"]}),a.jsxs("span",{className:`text-xs ${r?"text-slate-400":"text-slate-600"}`,children:["ID: ",W.tokenId]})]})]})]})},W.tokenId)})}),ne.selectedAsset&&a.jsxs("div",{className:`p-3 rounded-lg ${r?"bg-blue-500/10 border-blue-500/30":"bg-blue-50 border-blue-200"} border`,children:[a.jsxs("p",{className:`text-sm font-medium ${r?"text-blue-300":"text-blue-700"}`,children:["Selected Asset: ",ne.selectedAsset.name||`Asset #${ne.selectedAsset.tokenId}`]}),a.jsxs("p",{className:`text-xs ${r?"text-blue-400":"text-blue-600"} mt-1`,children:["Token ID: ",ne.selectedAsset.tokenId,"  Price: ",ne.selectedAsset.price," ETH"]})]})]})]})}),a.jsxs(Io,{className:"space-x-2",children:[a.jsx(Z,{variant:"outline",onClick:()=>I(!1),children:"Cancel"}),a.jsx(Z,{onClick:Ke,disabled:X||!ne.selectedAsset||!e,className:"bg-blue-600 hover:bg-blue-700",children:X?a.jsxs(a.Fragment,{children:[a.jsx(Pn,{className:"w-4 h-4 mr-2 animate-spin"}),"Assigning..."]}):a.jsxs(a.Fragment,{children:[a.jsx(sa,{className:"w-4 h-4 mr-2"}),"Assign Asset"]})})]})]})})]})},ty=y.forwardRef(({className:t,...e},n)=>a.jsx("textarea",{className:rt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));ty.displayName="Textarea";const Kue=["function submitTokenRequest(string memory _metadataURI, uint256 _amount, uint256 _price) external returns (bytes32)","function deployApprovedToken(bytes32 _requestId) external returns (uint256)","function listAsset(bytes32 _requestId, uint256 _amount) external","function getMyRequests() external view returns (bytes32[] memory)","function getRequestDetails(bytes32 _requestId) external view returns (tuple(bytes32 requestId, address issuer, string metadataURI, uint256 amount, uint256 price, uint8 status, uint256 submittedAt, uint256 approvedAt, uint256 deployedAt, uint256 tokenId, string rejectionReason))","function getMyTokens() external view returns (uint256[] memory)","function getPendingRequests() external view returns (bytes32[] memory)","function getApprovedRequests() external view returns (bytes32[] memory)","function approveTokenRequest(bytes32 _requestId) external","function rejectTokenRequest(bytes32 _requestId, string memory _reason) external","event TokenRequestSubmitted(bytes32 indexed requestId, address indexed issuer, string metadataURI, uint256 amount, uint256 price, uint256 timestamp)","event TokenRequestApproved(bytes32 indexed requestId, address indexed admin, uint256 timestamp)","event TokenRequestRejected(bytes32 indexed requestId, address indexed admin, string reason, uint256 timestamp)","event TokenDeployed(bytes32 indexed requestId, uint256 indexed tokenId, address indexed issuer, uint256 amount, uint256 price, uint256 timestamp)","event TokenListedOnMarketplace(uint256 indexed tokenId, address indexed issuer, uint256 amount, uint256 price, uint256 timestamp)"],Gue=["function isIssuer(address _address) external view returns (bool)"],Yue=["function setApprovalForAll(address operator, bool approved) external","function isApprovedForAll(address account, address operator) external view returns (bool)","function balanceOf(address account, uint256 id) external view returns (uint256)","function uri(uint256 tokenId) external view returns (string memory)"],o5={Pending:0,Approved:1,Rejected:2,Deployed:3,Listed:4};class Xue{constructor(){this.provider=null,this.signer=null,this.contracts={},this.initialized=!1}async initialize(e,n){try{this.provider=e,this.signer=e.getSigner(),this.contracts={tokenManagement:new qe(n.TOKEN_MANAGEMENT,Kue,this.signer),admin:new qe(n.ADMIN,Gue,this.signer),erc1155Core:new qe(n.ERC1155_CORE,Yue,this.signer)},this.contractAddresses=n,this.initialized=!0,console.log(" Token Management Service initialized with contracts:",n)}catch(s){throw console.error(" Failed to initialize Token Management Service:",s),s}}async isAuthorizedIssuer(e){if(!this.initialized)throw new Error("Service not initialized");try{const n=await this.contracts.admin.isIssuer(e);return console.log(` Authorization check for ${e}:`,n),n}catch(n){return console.error(" Failed to check issuer authorization:",n),!1}}async submitTokenRequest(e,n,s){if(!this.initialized)throw new Error("Service not initialized");try{console.log(" Step 1: Submitting token request for approval..."),console.log(" Request details:",{metadataURI:e,amount:n,pricePerToken:s});const r=pr(s.toString()),i=await this.contracts.tokenManagement.submitTokenRequest(e,n,r);console.log(" Transaction sent:",i.hash);const l=(await i.wait()).logs.find(c=>{try{return this.contracts.tokenManagement.interface.parseLog(c).name==="TokenRequestSubmitted"}catch{return!1}});if(l){const d=this.contracts.tokenManagement.interface.parseLog(l).args.requestId;return console.log(" Token request submitted successfully!"),console.log(" Request ID:",d),this._storeRequestInLocalStorage({requestId:d,metadataURI:e,amount:n,price:s,status:"Pending",submittedAt:new Date,txHash:i.hash}),{requestId:d,txHash:i.hash,status:"submitted"}}else throw new Error("Failed to extract request ID from transaction")}catch(r){throw console.error(" Failed to submit token request:",r),r}}async deployApprovedToken(e){if(!this.initialized)throw new Error("Service not initialized");try{console.log(" Step 2: Deploying approved token..."),console.log(" Request ID:",e);const n=await this.contracts.tokenManagement.getRequestDetails(e);if(n.status!==o5.Approved)throw new Error(`Request not approved. Current status: ${this._getStatusString(n.status)}`);const s=await this.contracts.tokenManagement.deployApprovedToken(e);console.log(" Deployment transaction sent:",s.hash);const i=(await s.wait()).logs.find(o=>{try{return this.contracts.tokenManagement.interface.parseLog(o).name==="TokenDeployed"}catch{return!1}});if(i){const l=this.contracts.tokenManagement.interface.parseLog(i).args.tokenId;return console.log(" Token deployed successfully!"),console.log(" Token ID:",l.toString()),this._updateRequestInLocalStorage(e,{status:"Deployed",tokenId:l.toString(),deployedAt:new Date,deploymentTxHash:s.hash}),{tokenId:l.toString(),txHash:s.hash,status:"deployed"}}else throw new Error("Failed to extract token ID from deployment transaction")}catch(n){throw console.error(" Failed to deploy approved token:",n),n}}async listTokenOnMarketplace(e,n){if(!this.initialized)throw new Error("Service not initialized");try{console.log(" Step 3: Listing token on marketplace..."),console.log(" Request ID:",e,"Amount:",n);const s=await this.contracts.tokenManagement.getRequestDetails(e);if(s.status!==o5.Deployed)throw new Error(`Token not deployed yet. Current status: ${this._getStatusString(s.status)}`);const r=await this.contracts.tokenManagement.listAsset(e,n);console.log(" Listing transaction sent:",r.hash);const i=await r.wait();return console.log(" Token listed on marketplace successfully!"),this._updateRequestInLocalStorage(e,{status:"Listed",listedAmount:n,listedAt:new Date,listingTxHash:r.hash}),{txHash:r.hash,status:"listed"}}catch(s){throw console.error(" Failed to list token on marketplace:",s),s}}async getMyRequests(){if(!this.initialized)throw new Error("Service not initialized");try{const e=await this.contracts.tokenManagement.getMyRequests(),n=[];for(const s of e)try{const r=await this.contracts.tokenManagement.getRequestDetails(s);n.push({requestId:s,issuer:r.issuer,metadataURI:r.metadataURI,amount:r.amount.toString(),price:De(r.price),status:this._getStatusString(r.status),submittedAt:new Date(r.submittedAt*1e3),approvedAt:r.approvedAt>0?new Date(r.approvedAt*1e3):null,deployedAt:r.deployedAt>0?new Date(r.deployedAt*1e3):null,tokenId:r.tokenId>0?r.tokenId.toString():null,rejectionReason:r.rejectionReason})}catch(r){console.warn(`Failed to fetch details for request ${s}:`,r)}return n}catch(e){return console.error(" Failed to fetch requests:",e),[]}}async getPendingRequests(){if(!this.initialized)throw new Error("Service not initialized");try{const e=await this.contracts.tokenManagement.getPendingRequests(),n=[];for(const s of e)try{const r=await this.contracts.tokenManagement.getRequestDetails(s);n.push({requestId:s,issuer:r.issuer,metadataURI:r.metadataURI,amount:r.amount.toString(),price:De(r.price),status:"Pending",submittedAt:new Date(r.submittedAt*1e3)})}catch(r){console.warn(`Failed to fetch details for pending request ${s}:`,r)}return n}catch(e){return console.error(" Failed to fetch pending requests:",e),[]}}async approveTokenRequest(e){if(!this.initialized)throw new Error("Service not initialized");try{console.log(" Approving token request:",e);const n=await this.contracts.tokenManagement.approveTokenRequest(e);return console.log(" Approval transaction sent:",n.hash),await n.wait(),console.log(" Token request approved successfully!"),{txHash:n.hash,status:"approved"}}catch(n){throw console.error(" Failed to approve token request:",n),n}}async rejectTokenRequest(e,n){if(!this.initialized)throw new Error("Service not initialized");try{console.log(" Rejecting token request:",e,"Reason:",n);const s=await this.contracts.tokenManagement.rejectTokenRequest(e,n);return console.log(" Rejection transaction sent:",s.hash),await s.wait(),console.log(" Token request rejected"),{txHash:s.hash,status:"rejected"}}catch(s){throw console.error(" Failed to reject token request:",s),s}}_getStatusString(e){return{0:"Pending",1:"Approved",2:"Rejected",3:"Deployed",4:"Listed"}[e]||"Unknown"}_storeRequestInLocalStorage(e){try{const n=JSON.parse(localStorage.getItem("tokenRequests")||"[]");n.push(e),localStorage.setItem("tokenRequests",JSON.stringify(n))}catch(n){console.warn("Failed to store request in localStorage:",n)}}_updateRequestInLocalStorage(e,n){try{const s=JSON.parse(localStorage.getItem("tokenRequests")||"[]"),r=s.findIndex(i=>i.requestId===e);r!==-1&&(s[r]={...s[r],...n},localStorage.setItem("tokenRequests",JSON.stringify(s)))}catch(s){console.warn("Failed to update request in localStorage:",s)}}}class Jue{constructor(){this.contracts={},this.signer=null,this.initialized=!1}async initialize(e,n){try{if(console.log(" Initializing Direct Marketplace Listing Service..."),!e)throw new Error("Provider is required");return this.signer=e.getSigner(),this.contracts.marketplace=new qe(n.MARKETPLACE,Hn.MARKETPLACE,this.signer),this.contracts.token=new qe(n.TOKEN,Hn.ERC1155CORE,this.signer),this.contracts.tokenManagement=new qe(n.TOKEN_MANAGEMENT,Hn.TOKENMANAGEMENT,this.signer),this.initialized=!0,console.log(" Direct Marketplace Listing Service initialized"),!0}catch(s){throw console.error(" Failed to initialize Direct Marketplace Listing Service:",s),s}}async listTokenDirectly(e,n){if(!this.initialized)throw new Error("Service not initialized");try{console.log(" Starting direct marketplace listing..."),console.log(" Request ID:",e,"Amount:",n);const s=await this.getTokenIdFromRequest(e);console.log(" Resolved Token ID:",s),await this.verifyTokenOwnership(s,n),console.log(" Calling marketplace.listAsset() directly...");const r=await this.contracts.marketplace.listAsset(parseInt(s),n);console.log(" Listing transaction sent:",r.hash);const i=await r.wait();return console.log(" Token listed successfully on marketplace!"),{success:!0,transactionHash:i.transactionHash,tokenId:s,amount:n}}catch(s){throw console.error(" Direct marketplace listing failed:",s),new Error(`Marketplace listing failed: ${s.message}`)}}async getTokenIdFromRequest(e){try{console.log(" Resolving tokenId from requestId:",e);const n=await this.contracts.tokenManagement.getRequestDetails(e),s=n.tokenId.toString();return console.log(" Resolved tokenId from TokenManagement:",s),console.log(" Request details:",{tokenId:s,requester:n.requester,amount:n.amount.toString(),approved:n.approved,deployed:n.deployed}),s}catch(n){return console.error(" Failed to resolve tokenId from TokenManagement:",n),console.log(" Using requestId as tokenId fallback"),e}}async verifyTokenOwnership(e,n){try{console.log(" Verifying token ownership...");const s=await this.signer.getAddress(),i=(await this.contracts.token.balanceOf(s,e)).toNumber();if(console.log(` Token ${e} balance: ${i}`),i<n)throw new Error(`Insufficient balance. Have ${i}, need ${n}`);return console.log(" Token ownership verified"),!0}catch(s){throw console.error(" Token ownership verification failed:",s),s}}async checkMarketplaceApproval(){try{const e=await this.signer.getAddress(),n=await this.contracts.token.isApprovedForAll(e,this.contracts.marketplace.address);return console.log(" Marketplace approval status:",n),n}catch(e){return console.error(" Failed to check marketplace approval:",e),!1}}async approveMarketplace(){try{console.log(" Approving marketplace for token transfers...");const e=await this.contracts.token.setApprovalForAll(this.contracts.marketplace.address,!0);console.log(" Approval transaction sent:",e.hash);const n=await e.wait();return console.log(" Marketplace approved for token transfers"),n.transactionHash}catch(e){throw console.error(" Marketplace approval failed:",e),e}}async listTokenWithAutoApproval(e,n){try{return await this.checkMarketplaceApproval()||(console.log(" Marketplace not approved, requesting approval..."),await this.approveMarketplace()),await this.listTokenDirectly(e,n)}catch(s){throw console.error(" Complete listing process failed:",s),s}}}const Que=({token:t,onViewDetails:e,onTrade:n,compact:s=!1})=>{var u;y.useState(!1);const r=h=>{switch(h){case 0:return a.jsxs(Ie,{variant:"default",className:"bg-green-500",children:[a.jsx(xa,{className:"w-3 h-3 mr-1"}),"Active"]});case 1:return a.jsxs(Ie,{variant:"secondary",className:"bg-yellow-500",children:[a.jsx(an,{className:"w-3 h-3 mr-1"}),"Settled"]});case 2:return a.jsxs(Ie,{variant:"destructive",children:[a.jsx(wc,{className:"w-3 h-3 mr-1"}),"Burned"]});default:return a.jsxs(Ie,{variant:"outline",children:[a.jsx(aa,{className:"w-3 h-3 mr-1"}),"Unknown"]})}},i=h=>{switch(h){case 0:return"border-l-green-500";case 1:return"border-l-yellow-500";case 2:return"border-l-red-500";default:return"border-l-gray-400"}},o=h=>`${parseFloat(h).toLocaleString()} FLOW`,l=h=>new Date(h).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),d=(()=>{const h=parseFloat(t.purchasePrice)*parseFloat(t.userBalance);let f=0;if(t.lifecycle===2&&t.settlementInfo){const p=parseFloat(t.userBalance)/parseFloat(t.totalSupply);f=parseFloat(t.settlementInfo.settlementAmount)*p}else t.lifecycle,f=parseFloat(t.currentValue)*parseFloat(t.userBalance);const m=f-h,x=m/h*100;return{amount:m,percentage:x,isProfit:m>=0}})();return s?a.jsx(fe,{className:`border-l-4 ${i(t.lifecycle)} hover:shadow-md transition-shadow`,children:a.jsx(pe,{className:"p-4",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium",children:t.name||`Token #${t.tokenId}`}),r(t.lifecycle)]}),a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsxs("p",{children:["Balance: ",t.userBalance," tokens"]}),a.jsxs("p",{children:["Value: ",o(t.currentValue)]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:`text-sm font-medium ${d.isProfit?"text-green-600":"text-red-600"}`,children:[d.isProfit?"+":"",d.percentage.toFixed(1),"%"]}),a.jsxs("div",{className:"text-xs text-gray-500",children:[d.isProfit?"+":"",o(d.amount.toString())]})]})]})})}):a.jsxs(fe,{className:`border-l-4 ${i(t.lifecycle)} hover:shadow-lg transition-shadow`,children:[a.jsx(ot,{className:"pb-3",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx(lt,{className:"text-lg",children:t.name||`Token #${t.tokenId}`}),a.jsx(Qn,{children:((u=t.invoiceInfo)==null?void 0:u.invoiceNumber)||`Issued by ${t.issuer.slice(0,10)}...`})]}),a.jsxs("div",{className:"flex flex-col items-end gap-2",children:[r(t.lifecycle),t.imageUrl&&a.jsx("img",{src:t.imageUrl,alt:t.name,className:"w-12 h-12 rounded object-cover"})]})]})}),a.jsxs(pe,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Your Holdings"}),a.jsxs("p",{className:"text-lg font-semibold flex items-center gap-1",children:[a.jsx(sc,{className:"w-4 h-4"}),t.userBalance," tokens"]}),a.jsxs("p",{className:"text-xs text-gray-500",children:[(parseFloat(t.userBalance)/parseFloat(t.totalSupply)*100).toFixed(1),"% of supply"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Current Value"}),a.jsx("p",{className:"text-lg font-semibold",children:o(t.currentValue)}),a.jsx("p",{className:"text-xs text-gray-500",children:"per token"})]})]}),a.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Performance"}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Purchased: ",l(t.purchaseDate)," at ",o(t.purchasePrice)]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:`font-semibold ${d.isProfit?"text-green-600":"text-red-600"}`,children:[d.isProfit?"+":"",d.percentage.toFixed(1),"%"]}),a.jsxs("p",{className:`text-sm ${d.isProfit?"text-green-600":"text-red-600"}`,children:[d.isProfit?"+":"",o(d.amount.toString())]})]})]})}),t.settlementInfo&&a.jsxs("div",{className:"bg-yellow-50 p-3 rounded-lg border border-yellow-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(an,{className:"w-4 h-4 text-yellow-600"}),a.jsx("span",{className:"font-medium text-yellow-800",children:"Settlement Completed"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Settlement Date"}),a.jsx("p",{className:"font-medium",children:l(t.settlementInfo.settlementDate)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Your Payout"}),a.jsx("p",{className:"font-medium text-green-600",children:o(t.settlementInfo.yieldEarned)})]})]}),a.jsxs("div",{className:"mt-2 text-xs text-gray-600",children:["Yield Rate: ",t.settlementInfo.yieldRate,"%  Total Settlement: ",o(t.settlementInfo.settlementAmount)]})]}),t.invoiceInfo&&t.lifecycle===0&&a.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(yc,{className:"w-4 h-4 text-blue-600"}),a.jsx("span",{className:"font-medium text-blue-800",children:"Invoice Details"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Invoice Number"}),a.jsx("p",{className:"font-medium",children:t.invoiceInfo.invoiceNumber})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Due Date"}),a.jsx("p",{className:"font-medium",children:l(t.invoiceInfo.dueDate)})]})]}),a.jsxs("div",{className:"mt-2 text-xs text-gray-600",children:["Original Amount: ",o(t.invoiceInfo.originalAmount)]})]}),a.jsxs("div",{className:"flex gap-2 pt-2",children:[e&&a.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>e(t),className:"flex-1",children:[a.jsx(Zr,{className:"w-4 h-4 mr-2"}),"Details"]}),t.lifecycle===0&&n&&a.jsxs(Z,{variant:"default",size:"sm",onClick:()=>n(t),className:"flex-1",children:[a.jsx($o,{className:"w-4 h-4 mr-2"}),"Trade"]}),t.lifecycle===2&&a.jsxs(Z,{variant:"outline",size:"sm",disabled:!0,className:"flex-1",children:[a.jsx(wc,{className:"w-4 h-4 mr-2"}),"Burned"]})]}),t.lifecycle===0&&a.jsx("div",{className:"text-xs text-gray-500 text-center",children:" Active token - can be traded on marketplace"}),t.lifecycle===1&&a.jsx("div",{className:"text-xs text-orange-600 text-center",children:" Invoice settled - tokens will be burned soon"}),t.lifecycle===2&&a.jsx("div",{className:"text-xs text-red-600 text-center",children:" Token burned - settlement completed"})]})]})},Zue=()=>{const{signer:t,isConnected:e,address:n}=xn(),[s,r]=y.useState(null),[i,o]=y.useState({totalInvested:"0",totalRealized:"0",totalUnrealized:"0",totalYieldEarned:"0",averageYieldRate:0,activeTokens:0,settledTokens:0,burnedTokens:0}),[l,c]=y.useState([]),[d,u]=y.useState([]),[h,f]=y.useState([]),[m,x]=y.useState(!1),[p,w]=y.useState(""),[b,v]=y.useState("overview");y.useEffect(()=>{if(e&&t&&n){const L=new Im(window.ethereum);L.connect().then(()=>{r(L),N()}).catch(console.error)}},[e,t,n]);const N=async L=>{try{x(!0);const U=[{tokenId:"1",name:"Invoice Token #1",issuer:"0x123...",userBalance:"100",totalSupply:"1000",pricePerToken:"100",lifecycle:0,purchaseDate:"2024-10-15",purchasePrice:"95",currentValue:"100",invoiceInfo:{invoiceNumber:"INV-2024-001",dueDate:"2024-12-31",originalAmount:"105000"},metadataURI:"ipfs://..."},{tokenId:"2",name:"Invoice Token #2",issuer:"0x456...",userBalance:"50",totalSupply:"500",pricePerToken:"200",lifecycle:2,purchaseDate:"2024-10-01",purchasePrice:"190",currentValue:"0",settlementInfo:{settlementAmount:"52500",settlementDate:"2024-10-25",yieldEarned:"2500",yieldRate:5},metadataURI:"ipfs://..."}],z=[{tokenId:"2",tokenName:"Invoice Token #2",invoiceNumber:"INV-2024-002",settlementDate:"2024-10-25",investmentAmount:"9500",settlementAmount:"10500",yieldEarned:"1000",yieldRate:5,holdingPeriod:24,status:"completed"}];u(U),c(z),f(z);const B=U.reduce((A,F)=>A+parseFloat(F.purchasePrice)*parseFloat(F.userBalance),0),D=z.reduce((A,F)=>A+parseFloat(F.settlementAmount),0),g=U.filter(A=>A.lifecycle===0).length,j=U.filter(A=>A.lifecycle===1).length,C=U.filter(A=>A.lifecycle===2).length,P=z.reduce((A,F)=>A+parseFloat(F.yieldEarned),0),S=z.length>0?z.reduce((A,F)=>A+F.yieldRate,0)/z.length:0;o({totalInvested:B.toString(),totalRealized:D.toString(),totalUnrealized:(B-D).toString(),totalYieldEarned:P.toString(),averageYieldRate:S,activeTokens:g,settledTokens:j,burnedTokens:C})}catch(U){console.error("Failed to load portfolio data:",U),oe.error("Failed to load portfolio data")}finally{x(!1)}};y.useEffect(()=>{if(!p)f(l);else{const L=l.filter(U=>U.tokenName.toLowerCase().includes(p.toLowerCase())||U.invoiceNumber.toLowerCase().includes(p.toLowerCase())||U.tokenId.includes(p));f(L)}},[p,l]);const E=L=>`${parseFloat(L).toLocaleString()} FLOW`,T=L=>new Date(L).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),$=(()=>{const L=parseFloat(i.totalInvested),U=parseFloat(i.totalRealized),z=parseFloat(i.totalUnrealized);if(L===0)return{amount:0,percentage:0};const B=U-L+z,D=B/L*100;return{amount:B,percentage:D}})(),M=()=>{const L=h.map(g=>({"Token ID":g.tokenId,"Token Name":g.tokenName,"Invoice Number":g.invoiceNumber,"Settlement Date":g.settlementDate,"Investment (FLOW)":g.investmentAmount,"Settlement (FLOW)":g.settlementAmount,"Yield Earned (FLOW)":g.yieldEarned,"Yield Rate (%)":g.yieldRate,"Holding Period (Days)":g.holdingPeriod,Status:g.status})),U=[Object.keys(L[0]).join(","),...L.map(g=>Object.values(g).join(","))].join(`
`),z=new Blob([U],{type:"text/csv"}),B=window.URL.createObjectURL(z),D=document.createElement("a");D.href=B,D.download=`portfolio-settlements-${new Date().toISOString().split("T")[0]}.csv`,D.click(),window.URL.revokeObjectURL(B),oe.success("Portfolio data exported successfully")};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4",children:[a.jsx(fe,{children:a.jsx(pe,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(On,{className:"h-4 w-4 text-blue-600"}),a.jsxs("div",{className:"ml-2",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Invested"}),a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:E(i.totalInvested)})]})]})})}),a.jsx(fe,{children:a.jsx(pe,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(an,{className:"h-4 w-4 text-green-600"}),a.jsxs("div",{className:"ml-2",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Realized"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:E(i.totalRealized)})]})]})})}),a.jsx(fe,{children:a.jsx(pe,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(In,{className:"h-4 w-4 text-purple-600"}),a.jsxs("div",{className:"ml-2",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Return"}),a.jsxs("p",{className:`text-2xl font-bold ${$.amount>=0?"text-green-600":"text-red-600"}`,children:[$.amount>=0?"+":"",$.percentage.toFixed(1),"%"]})]})]})})}),a.jsx(fe,{children:a.jsx(pe,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Qr,{className:"h-4 w-4 text-orange-600"}),a.jsxs("div",{className:"ml-2",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Yield"}),a.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[i.averageYieldRate.toFixed(1),"%"]})]})]})})})]}),a.jsxs(fe,{children:[a.jsxs(ot,{children:[a.jsx(lt,{children:"Portfolio Status"}),a.jsx(Qn,{children:"Overview of your invoice financing investments"})]}),a.jsx(pe,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-green-100 rounded-full mx-auto mb-2",children:a.jsx(xa,{className:"w-6 h-6 text-green-600"})}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:i.activeTokens}),a.jsx("p",{className:"text-sm text-gray-600",children:"Active Investments"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-yellow-100 rounded-full mx-auto mb-2",children:a.jsx(an,{className:"w-6 h-6 text-yellow-600"})}),a.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:i.settledTokens}),a.jsx("p",{className:"text-sm text-gray-600",children:"Settled"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-red-100 rounded-full mx-auto mb-2",children:a.jsx(wc,{className:"w-6 h-6 text-red-600"})}),a.jsx("p",{className:"text-2xl font-bold text-red-600",children:i.burnedTokens}),a.jsx("p",{className:"text-sm text-gray-600",children:"Completed"})]})]})})]}),a.jsxs("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:[a.jsx("button",{onClick:()=>v("overview"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${b==="overview"?"bg-white text-gray-900 shadow":"text-gray-600 hover:text-gray-900"}`,children:"Overview"}),a.jsx("button",{onClick:()=>v("holdings"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${b==="holdings"?"bg-white text-gray-900 shadow":"text-gray-600 hover:text-gray-900"}`,children:"Current Holdings"}),a.jsx("button",{onClick:()=>v("settlements"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${b==="settlements"?"bg-white text-gray-900 shadow":"text-gray-600 hover:text-gray-900"}`,children:"Settlement History"})]}),b==="overview"&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(fe,{children:[a.jsx(ot,{children:a.jsxs(lt,{className:"flex items-center gap-2",children:[a.jsx(vc,{className:"w-5 h-5"}),"Investment Breakdown"]})}),a.jsx(pe,{className:"space-y-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Active Investments"}),a.jsx("span",{className:"font-medium",children:E(i.totalUnrealized)})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Completed Settlements"}),a.jsx("span",{className:"font-medium",children:E(i.totalRealized)})]}),a.jsxs("div",{className:"flex justify-between items-center border-t pt-3",children:[a.jsx("span",{className:"font-medium",children:"Total Portfolio Value"}),a.jsx("span",{className:"font-bold",children:E((parseFloat(i.totalUnrealized)+parseFloat(i.totalRealized)).toString())})]})]})})]}),a.jsxs(fe,{children:[a.jsx(ot,{children:a.jsxs(lt,{className:"flex items-center gap-2",children:[a.jsx(In,{className:"w-5 h-5"}),"Performance Metrics"]})}),a.jsx(pe,{className:"space-y-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Total Yield Earned"}),a.jsx("span",{className:"font-medium text-green-600",children:E(i.totalYieldEarned)})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Average Yield Rate"}),a.jsxs("span",{className:"font-medium",children:[i.averageYieldRate.toFixed(1),"%"]})]}),a.jsxs("div",{className:"flex justify-between items-center border-t pt-3",children:[a.jsx("span",{className:"font-medium",children:"Overall Return"}),a.jsxs("span",{className:`font-bold ${$.amount>=0?"text-green-600":"text-red-600"}`,children:[$.amount>=0?"+":"",$.percentage.toFixed(1),"%"]})]})]})})]})]}),b==="holdings"&&a.jsx("div",{className:"space-y-4",children:m?a.jsx("div",{className:"flex justify-center p-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):d.length===0?a.jsx(fe,{children:a.jsxs(pe,{className:"text-center py-8",children:[a.jsx(On,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500",children:"No token holdings found"})]})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(L=>a.jsx(Que,{token:L,onViewDetails:U=>{oe.success(`Viewing details for ${U.name}`)},onTrade:U=>{oe.success(`Opening trade interface for ${U.name}`)}},L.tokenId))})}),b==="settlements"&&a.jsxs(fe,{children:[a.jsx(ot,{children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx(lt,{children:"Settlement History"}),a.jsx(Qn,{children:"Your completed invoice settlements and payouts"})]}),a.jsxs(Z,{variant:"outline",onClick:M,children:[a.jsx(bc,{className:"w-4 h-4 mr-2"}),"Export"]})]})}),a.jsxs(pe,{children:[a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"relative",children:[a.jsx(ux,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx(Et,{placeholder:"Search settlements...",value:p,onChange:L=>w(L.target.value),className:"pl-10"})]})}),m?a.jsx("div",{className:"flex justify-center p-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):h.length===0?a.jsx("p",{className:"text-gray-500 text-center py-8",children:"No settlements found"}):a.jsx("div",{className:"space-y-4",children:h.map(L=>a.jsx(fe,{className:"border-l-4 border-l-green-500",children:a.jsx(pe,{className:"p-6",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"font-bold text-lg",children:L.tokenName}),a.jsxs(Ie,{variant:"default",className:"bg-green-500",children:[a.jsx(an,{className:"w-3 h-3 mr-1"}),"Completed"]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Settlement Date"}),a.jsxs("p",{className:"font-medium flex items-center gap-1",children:[a.jsx(yc,{className:"w-3 h-3"}),T(L.settlementDate)]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Investment"}),a.jsx("p",{className:"font-medium",children:E(L.investmentAmount)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Settlement"}),a.jsx("p",{className:"font-medium",children:E(L.settlementAmount)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Yield Earned"}),a.jsxs("p",{className:"font-medium text-green-600",children:[E(L.yieldEarned)," (",L.yieldRate,"%)"]})]})]}),a.jsx("div",{className:"bg-green-50 p-3 rounded-lg",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Holding Period:"}),a.jsxs("span",{className:"font-medium",children:[L.holdingPeriod," days"]})]})})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-lg font-bold text-green-600",children:["+",(parseFloat(L.yieldEarned)/parseFloat(L.investmentAmount)*100).toFixed(1),"%"]}),a.jsx("div",{className:"text-sm text-gray-500",children:"Return"})]})]})})},L.tokenId))})]})]})]})},ehe=["Invoice"],the=()=>{const{address:t,isConnected:e,connectWallet:n,provider:s,signer:r}=xn(),[i,o]=y.useState(null),[l,c]=y.useState(null);y.useState(null);const[d,u]=y.useState(null),[h,f]=y.useState(!1),[m,x]=y.useState(null),[p,w]=y.useState(!1),[b,v]=y.useState("dashboard"),[N,E]=y.useState([]),[T,R]=y.useState(!1),[$,M]=y.useState(!1),[L,U]=y.useState({title:"",description:"",assetType:"",amount:"",pricePerToken:"",imageFiles:[]}),[z,B]=y.useState(!1);y.useEffect(()=>{(async()=>{if(!e||!t||!r){x(null),f(!1);return}w(!0),console.log(" Initializing TokenManagement service...");try{const A=new Xue;await A.initialize(r.provider,{TOKEN_MANAGEMENT:w0,ADMIN:Jt,ERC1155_CORE:Ts,MARKETPLACE:hn}),o(A);const F=new Jue;await F.initialize(r.provider,{MARKETPLACE:hn,TOKEN:Ts,TOKEN_MANAGEMENT:w0}),c(F),console.log(" Checking authorization directly...");const _=["function isIssuer(address _address) external view returns (bool)"],k=new qe(Jt,_,r.provider);console.log("Admin contract:",Jt),console.log("Checking address:",t);const O=await k.isIssuer(t);console.log(" Direct authorization result:",O),f(!0),x(O),O?(console.log(" User is authorized issuer"),oe.success("Welcome, authorized issuer!"),await D(A)):(console.log(" User is not authorized as issuer"),oe.error("Your wallet is not authorized as an issuer"))}catch(A){console.error(" Failed to initialize TokenManagement service:",A),console.error("Error details:",{message:A.message,stack:A.stack,legacyIssuerService:!!d}),oe.error(`Failed to initialize issuer service: ${A.message}`),x(!1)}finally{w(!1)}})()},[e,t,r]);const D=async S=>{const A=S||i;if(A){R(!0);try{const F=await A.getMyRequests();E(F),console.log(" Loaded token requests:",F)}catch(F){console.error(" Failed to load token requests:",F),oe.error("Failed to load your token requests")}finally{R(!1)}}},g=async()=>{if(!i||!L.title||!L.amount||!L.pricePerToken){oe.error("Please fill in all required fields");return}B(!0);try{console.log(" Step 1: Uploading metadata to IPFS...");let S="";if(L.imageFiles.length>0){const O={name:L.title,description:L.description,attributes:[{trait_type:"Asset Type",value:L.assetType},{trait_type:"Total Supply",value:L.amount},{trait_type:"Price Per Token",value:`${L.pricePerToken} Flow`}]};S=`https://gateway.pinata.cloud/ipfs/${await Vue(L.imageFiles[0],O)}`}const A={name:L.title,description:L.description,image:S,attributes:[{trait_type:"Asset Type",value:L.assetType},{trait_type:"Total Supply",value:L.amount},{trait_type:"Price Per Token",value:`${L.pricePerToken} Flow`}]},_=`https://gateway.pinata.cloud/ipfs/${await Q1(A)}`;console.log(" Metadata uploaded to IPFS:",_),console.log(" Step 2: Submitting token request for admin approval...");const k=await i.submitTokenRequest(_,parseInt(L.amount),parseFloat(L.pricePerToken));console.log(" Token request submitted successfully:",k),oe.success(" Token request submitted for admin approval!"),U({title:"",description:"",assetType:"",amount:"",pricePerToken:"",imageFiles:[]}),M(!1),await D()}catch(S){console.error(" Failed to submit token request:",S),oe.error("Failed to submit token request")}finally{B(!1)}},j=async S=>{if(i)try{console.log(" Deploying approved token...");const A=await i.deployApprovedToken(S);console.log(" Token deployed successfully:",A),oe.success(` Token deployed! Token ID: ${A.tokenId}`),await D()}catch(A){console.error(" Failed to deploy token:",A),oe.error("Failed to deploy token")}},C=async(S,A)=>{if(!l){oe.error("Direct listing service not initialized");return}try{console.log(" Listing token on marketplace using direct approach..."),console.log(" Using successful terminal script method");const F=await l.listTokenWithAutoApproval(S,A);console.log(" Token listed on marketplace:",F),oe.success(" Token listed on marketplace successfully!"),await D()}catch(F){console.error(" Failed to list token on marketplace:",F),oe.error(`Failed to list token: ${F.message}`)}},P=S=>{switch(S){case"Pending":return a.jsxs(Ie,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:[a.jsx(xa,{className:"w-3 h-3 mr-1"}),"Pending Approval"]});case"Approved":return a.jsxs(Ie,{variant:"secondary",className:"bg-green-100 text-green-800",children:[a.jsx(an,{className:"w-3 h-3 mr-1"}),"Approved"]});case"Rejected":return a.jsxs(Ie,{variant:"destructive",children:[a.jsx(SM,{className:"w-3 h-3 mr-1"}),"Rejected"]});case"Deployed":return a.jsxs(Ie,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:[a.jsx(oA,{className:"w-3 h-3 mr-1"}),"Deployed"]});case"Listed":return a.jsxs(Ie,{variant:"default",className:"bg-purple-100 text-purple-800",children:[a.jsx(vw,{className:"w-3 h-3 mr-1"}),"Listed"]});default:return a.jsx(Ie,{variant:"outline",children:S})}};return e?p||!h?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:a.jsx(fe,{className:"w-full max-w-md",children:a.jsx(pe,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),a.jsx("span",{children:"Initializing issuer service..."})]})})})}):m===!1?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:a.jsxs(fe,{className:"w-full max-w-md",children:[a.jsxs(ot,{className:"text-center",children:[a.jsx(lt,{className:"text-red-600",children:"Not Authorized"}),a.jsx(Qn,{children:"Your wallet is not authorized as an issuer. Please contact the admin."})]}),a.jsxs(pe,{className:"text-center",children:[a.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Wallet: ",t]}),a.jsx(Z,{variant:"outline",onClick:()=>window.location.reload(),children:"Refresh"})]})]})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Issuer Dashboard"}),a.jsx("p",{className:"text-gray-600",children:"Manage your token requests and deployments"}),a.jsxs("div",{className:"mt-4",children:[a.jsxs(Ie,{variant:"outline",className:"mr-2",children:["Connected: ",t==null?void 0:t.slice(0,6),"...",t==null?void 0:t.slice(-4)]}),a.jsx(Ie,{variant:"default",children:"Authorized Issuer"})]})]}),a.jsxs(ba,{value:b,onValueChange:v,className:"space-y-6",children:[a.jsxs(wa,{className:"grid w-full grid-cols-4",children:[a.jsx(tn,{value:"dashboard",children:"Dashboard"}),a.jsx(tn,{value:"requests",children:"Token Requests"}),a.jsx(tn,{value:"portfolio",children:"Portfolio"}),a.jsx(tn,{value:"create",children:"Create Request"})]}),a.jsxs(sn,{value:"dashboard",className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs(fe,{children:[a.jsx(ot,{className:"pb-2",children:a.jsx(lt,{className:"text-sm font-medium text-gray-600",children:"Total Requests"})}),a.jsx(pe,{children:a.jsx("div",{className:"text-2xl font-bold",children:N.length})})]}),a.jsxs(fe,{children:[a.jsx(ot,{className:"pb-2",children:a.jsx(lt,{className:"text-sm font-medium text-gray-600",children:"Pending Approval"})}),a.jsx(pe,{children:a.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:N.filter(S=>S.status==="Pending").length})})]}),a.jsxs(fe,{children:[a.jsx(ot,{className:"pb-2",children:a.jsx(lt,{className:"text-sm font-medium text-gray-600",children:"Deployed Tokens"})}),a.jsx(pe,{children:a.jsx("div",{className:"text-2xl font-bold text-green-600",children:N.filter(S=>S.status==="Deployed"||S.status==="Listed").length})})]})]}),a.jsxs(fe,{children:[a.jsxs(ot,{children:[a.jsx(lt,{children:"Recent Requests"}),a.jsx(Qn,{children:"Your latest token requests and their status"})]}),a.jsx(pe,{children:N.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(na,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No requests yet"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Create your first token request to get started"}),a.jsxs(Z,{onClick:()=>v("create"),children:[a.jsx(sa,{className:"w-4 h-4 mr-2"}),"Create Request"]})]}):a.jsx("div",{className:"space-y-4",children:N.slice(0,5).map(S=>a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium",children:["Request ",S.requestId.slice(0,8),"..."]}),a.jsxs("p",{className:"text-sm text-gray-600",children:[S.amount," tokens at ",S.price," Flow each"]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Submitted ",S.submittedAt.toLocaleDateString()]})]}),a.jsxs("div",{className:"text-right",children:[P(S.status),S.status==="Approved"&&a.jsx(Z,{size:"sm",className:"mt-2 ml-2",onClick:()=>j(S.requestId),children:"Deploy Token"}),S.status==="Deployed"&&a.jsx(Z,{size:"sm",className:"mt-2 ml-2",onClick:()=>C(S.requestId,parseInt(S.amount)),children:"List on Marketplace"})]})]},S.requestId))})})]})]}),a.jsx(sn,{value:"requests",className:"space-y-6",children:a.jsxs(fe,{children:[a.jsxs(ot,{children:[a.jsx(lt,{children:"All Token Requests"}),a.jsx(Qn,{children:"Complete history of your token requests"})]}),a.jsx(pe,{children:T?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Loading requests..."})]}):N.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(na,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No requests found"}),a.jsx("p",{className:"text-gray-600",children:"You haven't submitted any token requests yet"})]}):a.jsx("div",{className:"space-y-4",children:N.map(S=>a.jsx(fe,{children:a.jsx(pe,{className:"pt-6",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("h3",{className:"font-medium",children:["Request ",S.requestId.slice(0,8),"..."]}),P(S.status)]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Amount: ",S.amount," tokens | Price: ",S.price," Flow each"]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Submitted: ",S.submittedAt.toLocaleDateString(),S.approvedAt&&` | Approved: ${S.approvedAt.toLocaleDateString()}`,S.deployedAt&&` | Deployed: ${S.deployedAt.toLocaleDateString()}`]}),S.tokenId&&a.jsxs("p",{className:"text-xs text-blue-600",children:["Token ID: ",S.tokenId]}),S.rejectionReason&&a.jsxs("p",{className:"text-xs text-red-600",children:["Rejection Reason: ",S.rejectionReason]})]}),a.jsxs("div",{className:"flex flex-col space-y-2",children:[S.status==="Approved"&&a.jsxs(Z,{size:"sm",onClick:()=>j(S.requestId),children:[a.jsx(oA,{className:"w-4 h-4 mr-1"}),"Deploy Token"]}),S.status==="Deployed"&&a.jsxs(Z,{size:"sm",onClick:()=>C(S.requestId,parseInt(S.amount)),children:[a.jsx(vw,{className:"w-4 h-4 mr-1"}),"List on Marketplace"]})]})]})})},S.requestId))})})]})}),a.jsx(sn,{value:"portfolio",className:"space-y-6",children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Investment Portfolio"}),a.jsx("p",{className:"text-gray-600",children:"Track your token holdings and settlement history"})]})}),a.jsx(Zue,{})]})}),a.jsx(sn,{value:"create",className:"space-y-6",children:a.jsxs(fe,{children:[a.jsxs(ot,{children:[a.jsx(lt,{children:"Create Token Request"}),a.jsx(Qn,{children:"Submit a new token for admin approval"})]}),a.jsxs(pe,{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"title",children:"Token Title *"}),a.jsx(Et,{id:"title",value:L.title,onChange:S=>U(A=>({...A,title:S.target.value})),placeholder:"Enter token title"})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"assetType",children:"Asset Type *"}),a.jsxs(du,{value:L.assetType,onValueChange:S=>U(A=>({...A,assetType:S})),children:[a.jsx(Pc,{children:a.jsx(uu,{placeholder:"Select asset type"})}),a.jsx(Ic,{children:ehe.map(S=>a.jsx(nr,{value:S,children:S},S))})]})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"amount",children:"Token Amount *"}),a.jsx(Et,{id:"amount",type:"number",value:L.amount,onChange:S=>U(A=>({...A,amount:S.target.value})),placeholder:"Enter number of tokens"})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"price",children:"Price per Token (Flow) *"}),a.jsx(Et,{id:"price",type:"number",step:"0.001",value:L.pricePerToken,onChange:S=>U(A=>({...A,pricePerToken:S.target.value})),placeholder:"Enter price per token"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"description",children:"Description"}),a.jsx(ty,{id:"description",value:L.description,onChange:S=>U(A=>({...A,description:S.target.value})),placeholder:"Enter token description",rows:4})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"image",children:"Token Image"}),a.jsx(Et,{id:"image",type:"file",accept:"image/*",onChange:S=>{const A=Array.from(S.target.files||[]);U(F=>({...F,imageFiles:A}))}})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx(Z,{variant:"outline",onClick:()=>U({title:"",description:"",assetType:"",amount:"",pricePerToken:"",imageFiles:[]}),children:"Reset"}),a.jsx(Z,{onClick:g,disabled:z||!L.title||!L.amount||!L.pricePerToken,children:z?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Submitting..."]}):a.jsxs(a.Fragment,{children:[a.jsx(sa,{className:"w-4 h-4 mr-2"}),"Submit Request"]})})]})]})]})})]})]})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:a.jsxs(fe,{className:"w-full max-w-md",children:[a.jsxs(ot,{className:"text-center",children:[a.jsx(lt,{children:"Connect Wallet"}),a.jsx(Qn,{children:"Please connect your wallet to access the issuer dashboard"})]}),a.jsx(pe,{className:"text-center",children:a.jsx(Z,{onClick:n,className:"w-full",children:"Connect Wallet"})})]})})},nhe=({children:t,className:e})=>a.jsxs("div",{className:rt("relative flex min-h-screen flex-col items-center justify-center overflow-hidden bg-slate-950 w-full rounded-md z-0",e),children:[a.jsxs("div",{className:"relative flex w-full flex-1 scale-y-125 items-center justify-center isolate z-0 ",children:[a.jsxs(Vs.div,{initial:{opacity:.5,width:"15rem"},whileInView:{opacity:1,width:"30rem"},transition:{delay:.3,duration:.8,ease:"easeInOut"},style:{backgroundImage:"conic-gradient(var(--conic-position), var(--tw-gradient-stops))"},className:"absolute inset-auto right-1/2 h-56 overflow-visible w-[30rem] bg-gradient-conic from-cyan-500 via-transparent to-transparent text-white [--conic-position:from_70deg_at_center_top]",children:[a.jsx("div",{className:"absolute  w-[100%] left-0 bg-slate-950 h-40 bottom-0 z-20 [mask-image:linear-gradient(to_top,white,transparent)]"}),a.jsx("div",{className:"absolute  w-40 h-[100%] left-0 bg-slate-950  bottom-0 z-20 [mask-image:linear-gradient(to_right,white,transparent)]"})]}),a.jsxs(Vs.div,{initial:{opacity:.5,width:"15rem"},whileInView:{opacity:1,width:"30rem"},transition:{delay:.3,duration:.8,ease:"easeInOut"},style:{backgroundImage:"conic-gradient(var(--conic-position), var(--tw-gradient-stops))"},className:"absolute inset-auto left-1/2 h-56 w-[30rem] bg-gradient-conic from-transparent via-transparent to-cyan-500 text-white [--conic-position:from_290deg_at_center_top]",children:[a.jsx("div",{className:"absolute  w-40 h-[100%] right-0 bg-slate-950  bottom-0 z-20 [mask-image:linear-gradient(to_left,white,transparent)]"}),a.jsx("div",{className:"absolute  w-[100%] right-0 bg-slate-950 h-40 bottom-0 z-20 [mask-image:linear-gradient(to_top,white,transparent)]"})]}),a.jsx("div",{className:"absolute top-1/2 h-48 w-full translate-y-12 scale-x-150 bg-slate-950 blur-2xl"}),a.jsx("div",{className:"absolute top-1/2 z-50 h-48 w-full bg-transparent opacity-10 backdrop-blur-md"}),a.jsx("div",{className:"absolute inset-auto z-50 h-36 w-[28rem] -translate-y-1/2 rounded-full bg-cyan-500 opacity-50 blur-3xl"}),a.jsx(Vs.div,{initial:{width:"8rem"},whileInView:{width:"16rem"},transition:{delay:.3,duration:.8,ease:"easeInOut"},className:"absolute inset-auto z-30 h-36 w-64 -translate-y-[6rem] rounded-full bg-cyan-400 blur-2xl"}),a.jsx(Vs.div,{initial:{width:"15rem"},whileInView:{width:"30rem"},transition:{delay:.3,duration:.8,ease:"easeInOut"},className:"absolute inset-auto z-50 h-0.5 w-[30rem] -translate-y-[7rem] bg-cyan-400 "}),a.jsx("div",{className:"absolute inset-auto z-40 h-44 w-full -translate-y-[12.5rem] bg-slate-950 "})]}),a.jsx("div",{className:"relative z-50 flex -translate-y-80 flex-col items-center px-5",children:t})]}),she=()=>{const t=[{name:"Home",link:"/",icon:a.jsx(a3,{className:"h-4 w-4 text-neutral-500 dark:text-white"})},{name:"About",link:"/about",icon:a.jsx(l3,{className:"h-4 w-4 text-neutral-500 dark:text-white"})},{name:"Tokenize",link:"/issuer",icon:a.jsx(o3,{className:"h-4 w-4 text-neutral-500 dark:text-white"})}];return a.jsxs("div",{className:"min-h-screen bg-black",children:[a.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-black/50 backdrop-blur-sm",children:a.jsx("div",{className:"container mx-auto",children:a.jsx(i3,{navItems:t})})}),a.jsx("div",{className:"h-screen",children:a.jsxs(nhe,{className:"h-screen",children:[a.jsx(Ht.h1,{initial:{opacity:.5,y:100},whileInView:{opacity:1,y:0},transition:{delay:.3,duration:.8,ease:"easeInOut"},className:"mt-40 text-center text-4xl font-light tracking-tight text-white md:text-6xl lg:text-7xl",children:"Open Assets"}),a.jsxs(Ht.div,{initial:{opacity:0,y:100},whileInView:{opacity:1,y:0},transition:{delay:.5,duration:.8},className:"mt-8 max-w-4xl text-center text-white/90",children:[a.jsx("p",{className:"text-xl md:text-2xl font-light leading-relaxed mb-6",children:"Democratizing Premium Real-World Asset Investment Through Blockchain Technology"}),a.jsxs("p",{className:"text-lg text-white/70 font-light leading-relaxed max-w-3xl mx-auto flex items-center justify-center gap-2",children:["Built on ",a.jsx("span",{className:"text-white font-medium",children:"Flow Network"}),a.jsx("img",{src:"flowscan-logo.svg",alt:"Flow Logo",className:"h-6 w-auto inline-block"})]})]})]})}),a.jsx("div",{className:"py-20 bg-gradient-to-b from-gray-50 to-white",children:a.jsx("div",{className:"container mx-auto px-4 max-w-6xl",children:a.jsxs(Ht.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{delay:.2,duration:.8},className:"text-center mb-16",children:[a.jsx("h2",{className:"text-4xl md:text-5xl font-light text-gray-900 mb-6",children:"Our Mission"}),a.jsx("p",{className:"text-xl text-gray-600 font-light leading-relaxed max-w-4xl mx-auto",children:"To democratize access to premium real-world assets by creating the most secure, compliant, and accessible tokenization platform, enabling anyone to invest in high-value assets starting from just $10."})]})})}),a.jsx("div",{className:"py-16 bg-white",children:a.jsx("div",{className:"container mx-auto px-4 max-w-6xl",children:a.jsxs(Ht.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{delay:.3,duration:.8},className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-20",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-4xl font-light text-blue-600 mb-2",children:"$280T"}),a.jsx("div",{className:"text-gray-600 font-light",children:"Global RWA Market"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-4xl font-light text-blue-600 mb-2",children:"$10"}),a.jsx("div",{className:"text-gray-600 font-light",children:"Minimum Investment"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-4xl font-light text-blue-600 mb-2",children:"2s"}),a.jsx("div",{className:"text-gray-600 font-light",children:"Transaction Finality"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-4xl font-light text-blue-600 mb-2",children:"24/7"}),a.jsx("div",{className:"text-gray-600 font-light",children:"Global Trading"})]})]})})}),a.jsx("div",{className:"py-20 bg-gray-50",children:a.jsx("div",{className:"container mx-auto px-4 max-w-6xl",children:a.jsxs(Ht.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{delay:.3,duration:.8},className:"mb-20",children:[a.jsx("h2",{className:"text-4xl md:text-5xl font-light text-gray-900 mb-6 text-center",children:"Platform Overview"}),a.jsx("p",{className:"text-xl text-gray-600 font-light text-center max-w-3xl mx-auto leading-relaxed mb-16",children:"A comprehensive ecosystem for tokenizing, trading, and managing real-world assets with institutional-grade security and retail accessibility."}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[a.jsxs(Ht.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.4,duration:.6},className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100",children:[a.jsx(cJ,{className:"w-12 h-12 text-blue-600 mb-6"}),a.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-4",children:"ERC-3643 Compliance"}),a.jsx("p",{className:"text-gray-600 font-light leading-relaxed",children:"Regulatory-compliant tokenization with built-in KYC/AML protocols, identity registry, and automated transfer restrictions ensuring full regulatory compliance."})]}),a.jsxs(Ht.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.5,duration:.6},className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100",children:[a.jsx(dJ,{className:"w-12 h-12 text-blue-600 mb-6"}),a.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-4",children:"Fractional Ownership"}),a.jsx("p",{className:"text-gray-600 font-light leading-relaxed",children:"Own portions of premium assets like luxury real estate, commercial properties, and infrastructure projects with investments starting from $10."})]}),a.jsxs(Ht.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.6,duration:.6},className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100",children:[a.jsx(oJ,{className:"w-12 h-12 text-blue-600 mb-6"}),a.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-4",children:"Global Marketplace"}),a.jsx("p",{className:"text-gray-600 font-light leading-relaxed",children:"Access a diverse portfolio of tokenized assets from around the world, including real estate, commodities, art, and revenue-generating assets."})]}),a.jsxs(Ht.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.7,duration:.6},className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100",children:[a.jsx(uJ,{className:"w-12 h-12 text-blue-600 mb-6"}),a.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-4",children:"P2P Trading"}),a.jsx("p",{className:"text-gray-600 font-light leading-relaxed",children:"Trade tokenized assets directly with other verified investors through our secure order book system with escrow-protected transactions."})]}),a.jsxs(Ht.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.8,duration:.6},className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100",children:[a.jsx(aJ,{className:"w-12 h-12 text-blue-600 mb-6"}),a.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-4",children:"Yield Distribution"}),a.jsx("p",{className:"text-gray-600 font-light leading-relaxed",children:"Receive automated yield distributions from rental income, dividends, and asset appreciation directly to your wallet through smart contracts."})]}),a.jsxs(Ht.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.9,duration:.6},className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100",children:[a.jsx(lJ,{className:"w-12 h-12 text-blue-600 mb-6"}),a.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-4",children:"Institutional Security"}),a.jsx("p",{className:"text-gray-600 font-light leading-relaxed",children:"Multi-signature security, smart contract audits, insurance coverage, and regulatory oversight ensure maximum protection for your investments."})]})]})]})})}),a.jsx("div",{className:"py-20 bg-white",children:a.jsx("div",{className:"container mx-auto px-4 max-w-6xl",children:a.jsxs(Ht.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{delay:.3,duration:.8},className:"mb-20",children:[a.jsxs("h2",{className:"text-4xl md:text-5xl font-light text-gray-900 mb-6 text-center",children:["Built on ",a.jsx("span",{className:"font-medium text-gray-900",children:"Flow Network"}),a.jsx("img",{src:"/flowscan-logo.svg",alt:"Flow Logo",className:"h-12 w-auto inline align-middle ml-2"})]}),a.jsx("p",{className:"text-xl text-gray-600 font-light text-center max-w-3xl mx-auto leading-relaxed mb-16",children:"Leveraging Flow Network's high-performance blockchain infrastructure for seamless asset tokenization with instant finality and ultra-low fees."}),a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-3xl p-8 md:p-12 mb-12",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-medium text-gray-900 mb-6",children:"Network Specifications"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),a.jsx("span",{className:"text-gray-700 font-light",children:"Chain ID: 39 (Flow Network)"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),a.jsx("span",{className:"text-gray-700 font-light",children:"Block Time: ~2 seconds"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),a.jsx("span",{className:"text-gray-700 font-light",children:"Transaction Finality: Instant"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),a.jsx("span",{className:"text-gray-700 font-light",children:"Gas Efficiency: Ultra-low fees"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-medium text-gray-900 mb-6",children:"Integration Benefits"}),a.jsxs("div",{className:"space-y-4 text-gray-700 font-light leading-relaxed",children:[a.jsx("p",{children:"All smart contracts including ERC-3643 compliant tokens, marketplace, order book escrow, and payment distribution systems are deployed directly on Flow Network."}),a.jsx("p",{children:"The Flow integration enables cost-effective fractional ownership starting from $10, making the $280 trillion global real world assets market accessible to retail investors worldwide."}),a.jsx("p",{children:"With instant finality, investors trade tokenized assets 24/7 with confidence while automated yield distributions execute seamlessly through our smart contract infrastructure."})]})]})]})}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-gray-600 font-light mb-4",children:"Discover more about the underlying blockchain technology"}),a.jsxs("a",{href:"https://flow.com",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white font-light rounded-lg hover:bg-blue-700 transition-colors",children:["Visit Flow Network",a.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]})]})})}),a.jsx("div",{className:"py-20 bg-gray-50",children:a.jsx("div",{className:"container mx-auto px-4 max-w-6xl",children:a.jsxs(Ht.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{delay:.3,duration:.8},className:"mb-20",children:[a.jsx("h2",{className:"text-4xl md:text-5xl font-light text-gray-900 mb-6 text-center",children:"How It Works"}),a.jsx("p",{className:"text-xl text-gray-600 font-light text-center max-w-3xl mx-auto leading-relaxed mb-16",children:"Our streamlined process makes tokenizing and investing in real-world assets simple, secure, and accessible to everyone."}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[a.jsxs(Ht.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.4,duration:.6},className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx("span",{className:"text-2xl font-light text-blue-600",children:"1"})}),a.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-4",children:"Asset Submission"}),a.jsx("p",{className:"text-gray-600 font-light leading-relaxed",children:"Asset owners submit tokenization requests with comprehensive documentation, legal structure, and valuation reports."})]}),a.jsxs(Ht.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.5,duration:.6},className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx("span",{className:"text-2xl font-light text-blue-600",children:"2"})}),a.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-4",children:"Due Diligence"}),a.jsx("p",{className:"text-gray-600 font-light leading-relaxed",children:"Our team conducts thorough due diligence including legal review, asset valuation, and regulatory compliance verification."})]}),a.jsxs(Ht.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.6,duration:.6},className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx("span",{className:"text-2xl font-light text-blue-600",children:"3"})}),a.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-4",children:"Token Creation"}),a.jsx("p",{className:"text-gray-600 font-light leading-relaxed",children:"ERC-3643 compliant tokens are deployed on Flow Network with built-in compliance rules and investor protections."})]}),a.jsxs(Ht.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.7,duration:.6},className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx("span",{className:"text-2xl font-light text-blue-600",children:"4"})}),a.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-4",children:"Market Launch"}),a.jsx("p",{className:"text-gray-600 font-light leading-relaxed",children:"Tokens are listed on our marketplace for primary sales and secondary trading with full transparency and liquidity."})]})]})]})})}),a.jsx("div",{className:"py-20 bg-white",children:a.jsx("div",{className:"container mx-auto px-4 max-w-6xl",children:a.jsxs(Ht.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{delay:.3,duration:.8},className:"mb-20",children:[a.jsx("h2",{className:"text-4xl md:text-5xl font-light text-gray-900 mb-6 text-center",children:"Investment Benefits"}),a.jsx("p",{className:"text-xl text-gray-600 font-light text-center max-w-3xl mx-auto leading-relaxed mb-16",children:"Experience the advantages of tokenized real-world asset investment with enhanced liquidity, transparency, and accessibility."}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[a.jsxs(Ht.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},transition:{delay:.4,duration:.6},children:[a.jsx("h3",{className:"text-2xl font-medium text-gray-900 mb-8",children:"For Investors"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-3"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Stable Yields"}),a.jsx("p",{className:"text-gray-600 font-light",children:"8-12% annual returns backed by real assets with consistent income streams"})]})]}),a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-3"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Portfolio Diversification"}),a.jsx("p",{className:"text-gray-600 font-light",children:"Access multiple asset classes and global markets with a single platform"})]})]}),a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-3"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Enhanced Liquidity"}),a.jsx("p",{className:"text-gray-600 font-light",children:"Trade 24/7 on secondary markets vs. traditional illiquid investments"})]})]}),a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-3"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Transparency"}),a.jsx("p",{className:"text-gray-600 font-light",children:"Blockchain-based performance tracking and immutable transaction history"})]})]})]})]}),a.jsxs(Ht.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},transition:{delay:.5,duration:.6},children:[a.jsx("h3",{className:"text-2xl font-medium text-gray-900 mb-8",children:"For Asset Owners"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-3"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Global Capital Access"}),a.jsx("p",{className:"text-gray-600 font-light",children:"Tap into worldwide investor base for asset financing and growth"})]})]}),a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-3"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Reduced Costs"}),a.jsx("p",{className:"text-gray-600 font-light",children:"Lower issuance and management fees compared to traditional REITs"})]})]}),a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-3"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Automated Compliance"}),a.jsx("p",{className:"text-gray-600 font-light",children:"Built-in regulatory compliance and automated reporting"})]})]}),a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-3"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Market Efficiency"}),a.jsx("p",{className:"text-gray-600 font-light",children:"Streamlined investor onboarding and asset management"})]})]})]})]})]})]})})}),a.jsx("div",{className:"py-20 bg-gray-50",children:a.jsx("div",{className:"container mx-auto px-4 max-w-6xl",children:a.jsxs(Ht.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{delay:.3,duration:.8},className:"mb-20",children:[a.jsx("h2",{className:"text-4xl md:text-5xl font-light text-gray-900 mb-6 text-center",children:"Security & Compliance"}),a.jsx("p",{className:"text-xl text-gray-600 font-light text-center max-w-3xl mx-auto leading-relaxed mb-16",children:"Institutional-grade security and regulatory compliance ensure your investments are protected by the highest industry standards."}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[a.jsxs(Ht.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.4,duration:.6},className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100",children:[a.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-6",children:"Regulatory Framework"}),a.jsxs("ul",{className:"space-y-3 text-gray-600 font-light",children:[a.jsxs("li",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2.5"}),a.jsx("span",{children:"ERC-3643 compliance standard"})]}),a.jsxs("li",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2.5"}),a.jsx("span",{children:"KYC/AML verification protocols"})]}),a.jsxs("li",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2.5"}),a.jsx("span",{children:"Securities law compliance"})]}),a.jsxs("li",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2.5"}),a.jsx("span",{children:"Multi-jurisdiction support"})]})]})]}),a.jsxs(Ht.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.5,duration:.6},className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100",children:[a.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-6",children:"Technical Security"}),a.jsxs("ul",{className:"space-y-3 text-gray-600 font-light",children:[a.jsxs("li",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full mt-2.5"}),a.jsx("span",{children:"Multi-signature wallet protection"})]}),a.jsxs("li",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full mt-2.5"}),a.jsx("span",{children:"Smart contract audits"})]}),a.jsxs("li",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full mt-2.5"}),a.jsx("span",{children:"Immutable blockchain records"})]}),a.jsxs("li",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full mt-2.5"}),a.jsx("span",{children:"Escrow-secured transactions"})]})]})]}),a.jsxs(Ht.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.6,duration:.6},className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100",children:[a.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-6",children:"Asset Protection"}),a.jsxs("ul",{className:"space-y-3 text-gray-600 font-light",children:[a.jsxs("li",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-purple-500 rounded-full mt-2.5"}),a.jsx("span",{children:"Insurance coverage for assets"})]}),a.jsxs("li",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-purple-500 rounded-full mt-2.5"}),a.jsx("span",{children:"Legal structure validation"})]}),a.jsxs("li",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-purple-500 rounded-full mt-2.5"}),a.jsx("span",{children:"SPV verification system"})]}),a.jsxs("li",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-purple-500 rounded-full mt-2.5"}),a.jsx("span",{children:"Regular compliance audits"})]})]})]})]})]})})})]})},rb=t=>{try{const n=t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),s=decodeURIComponent(atob(n).split("").map(r=>"%"+("00"+r.charCodeAt(0).toString(16)).slice(-2)).join(""));return JSON.parse(s)}catch(e){return console.error("Error decoding JWT:",e),null}},n8=y.createContext(void 0),rhe=({children:t})=>{const[e,n]=y.useState(!1),[s,r]=y.useState(!0),[i,o]=y.useState(null),[l,c]=y.useState(null),[d,u]=y.useState([]),[h,f]=y.useState(null),[m,x]=y.useState(null),p=yl(),w=co();y.useEffect(()=>{const U=async()=>{try{console.log(" Initializing Auth Context...");const B=localStorage.getItem("authToken"),D=localStorage.getItem("user"),g=localStorage.getItem("currentRole"),j=localStorage.getItem("availableRoles");if(B&&D){const C=rb(B);if(C){const P=JSON.parse(D),S=C.roles||P.roles||[],A=C.currentRole||g||S[0],F=C.primaryRole||P.primaryRole||S[0],_=Date.now()/1e3;if(C.exp&&C.exp<_){console.log(" Token expired, clearing auth data"),b(),r(!1);return}c(B),o(P),u(S),f(A),x(F),n(!0),console.log(" Auth state initialized:",{userId:P._id,roles:S,currentRole:A,primaryRole:F})}else console.log(" Invalid token, clearing auth data"),b()}else console.log(" No auth data found"),n(!1)}catch(B){console.error(" Error initializing auth:",B),b()}finally{r(!1)}},z=setTimeout(()=>{r(!1)},3e3);return U(),()=>clearTimeout(z)},[]);const b=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("user"),localStorage.removeItem("currentRole"),localStorage.removeItem("availableRoles"),c(null),o(null),u([]),f(null),x(null),n(!1)},v=async U=>{var z,B;try{r(!0);const D=await tu.login(U);if(D.success){const{user:g,token:j,currentRole:C,availableRoles:P}=D.data;localStorage.setItem("authToken",j),localStorage.setItem("user",JSON.stringify(g)),localStorage.setItem("currentRole",C),localStorage.setItem("availableRoles",JSON.stringify(P));const S=rb(j);c(j),o(g),u(P),f(C),x(g.primaryRole),n(!0),console.log(" Login successful:",{userId:g._id,roles:P,currentRole:C});const A=((B=(z=w.state)==null?void 0:z.from)==null?void 0:B.pathname)||M(P);p(A,{replace:!0})}}catch(D){throw console.error(" Login failed:",D),D}finally{r(!1)}},N=()=>{console.log(" Logging out user"),b(),p("/login",{replace:!0})},E=async U=>{try{if(!d.includes(U))throw new Error(`You do not have ${U} role`);const z=await tu.switchRole(U);if(z.success){const B=z.data.token,D=rb(B);localStorage.setItem("authToken",B),localStorage.setItem("currentRole",U),c(B),f(U),console.log(" Role switched to:",U);const g=M([U]);p(g,{replace:!0})}}catch(z){throw console.error(" Role switch failed:",z),z}},T=U=>d.includes(U),R=U=>U.some(z=>d.includes(z)),$=U=>e?R(U):!1,M=U=>U.includes("admin")?"/admin":U.includes("issuer")?"/issuer":U.includes("manager")?"/manager":"/marketplace",L={isAuthenticated:e,isLoading:s,user:i,token:l,userRoles:d,currentRole:h,primaryRole:m,login:v,logout:N,switchRole:E,hasRole:T,hasAnyRole:R,canAccess:$};return a.jsx(n8.Provider,{value:L,children:t})},Sj=()=>{const t=y.useContext(n8);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},Rn={KEYS:{USER_ASSETS:"dashboard_user_assets",PORTFOLIO_DATA:"dashboard_portfolio_data",TRANSACTION_HISTORY:"dashboard_transactions",NOTIFICATIONS:"dashboard_notifications",LAST_REFRESH:"dashboard_last_refresh"},EXPIRATION:{USER_ASSETS:5*60*1e3,PORTFOLIO_DATA:5*60*1e3,TRANSACTION_HISTORY:10*60*1e3,NOTIFICATIONS:2*60*1e3}},Hl=class Hl{static getInstance(){return Hl.instance||(Hl.instance=new Hl),Hl.instance}constructor(){}setCache(e,n,s){try{const r={data:n,timestamp:Date.now(),walletAddress:s};localStorage.setItem(e,JSON.stringify(r)),console.log(` Cached data for key: ${e}, wallet: ${s}`)}catch(r){console.warn(` Failed to cache data for key: ${e}`,r)}}getCache(e,n,s){try{const r=localStorage.getItem(e);if(!r)return console.log(` No cached data found for key: ${e}`),null;const i=JSON.parse(r);if(i.walletAddress!==n)return console.log(` Cache invalidated - different wallet (cached: ${i.walletAddress}, current: ${n})`),localStorage.removeItem(e),null;const l=Date.now()-i.timestamp;return l>s?(console.log(` Cache expired for key: ${e} (age: ${Math.round(l/1e3)}s, max: ${Math.round(s/1e3)}s)`),localStorage.removeItem(e),null):(console.log(` Using cached data for key: ${e} (age: ${Math.round(l/1e3)}s)`),i.data)}catch(r){return console.warn(` Failed to retrieve cached data for key: ${e}`,r),localStorage.removeItem(e),null}}clearCache(e){try{Object.values(Rn.KEYS).forEach(n=>{if(e){const s=localStorage.getItem(n);s&&JSON.parse(s).walletAddress===e&&(localStorage.removeItem(n),console.log(` Cleared cache for key: ${n}, wallet: ${e}`))}else localStorage.removeItem(n),console.log(` Cleared all cache for key: ${n}`)})}catch(n){console.warn(" Failed to clear cache",n)}}cacheUserAssets(e,n){const s=e.filter(r=>{const i=Ai({name:r.name,metadata:r.metadata,assetType:r.type}),o=r.name&&(r.name.includes("Unknown Asset")||r.name.match(/Unknown Asset #\d+/)||r.type==="Unknown"&&r.name.includes("Asset #"));return!i&&!o});console.log(` Filtered dashboard user assets: ${e.length}  ${s.length} (removed ${e.length-s.length} dummy entries)`),s.length>0?this.setCache(Rn.KEYS.USER_ASSETS,s,n):console.warn(" All user assets were dummy data - not caching")}getCachedUserAssets(e){const n=this.getCache(Rn.KEYS.USER_ASSETS,e,Rn.EXPIRATION.USER_ASSETS);if(!n)return console.log(" No cached user assets found"),null;const s=n.filter(r=>{const i=Ai({name:r.name,metadata:r.metadata,assetType:r.type}),o=r.name&&(r.name.includes("Unknown Asset")||r.name.match(/Unknown Asset #\d+/)||r.type==="Unknown"&&r.name.includes("Asset #"));return!i&&!o});if(s.length!==n.length)if(console.log(` Cleaned dashboard cache: ${n.length}  ${s.length} (removed ${n.length-s.length} dummy entries)`),s.length>0)this.cacheUserAssets(s,e);else return localStorage.removeItem(Rn.KEYS.USER_ASSETS),null;return console.log(" Dashboard cache result:",s?`${s.length} clean assets found`:"No cache found"),s.length>0?s:null}cachePortfolioData(e,n){this.setCache(Rn.KEYS.PORTFOLIO_DATA,e,n)}getCachedPortfolioData(e){return this.getCache(Rn.KEYS.PORTFOLIO_DATA,e,Rn.EXPIRATION.PORTFOLIO_DATA)}cacheTransactionHistory(e,n){this.setCache(Rn.KEYS.TRANSACTION_HISTORY,e,n)}getCachedTransactionHistory(e){return this.getCache(Rn.KEYS.TRANSACTION_HISTORY,e,Rn.EXPIRATION.TRANSACTION_HISTORY)}cacheNotifications(e,n){this.setCache(Rn.KEYS.NOTIFICATIONS,e,n)}getCachedNotifications(e){return this.getCache(Rn.KEYS.NOTIFICATIONS,e,Rn.EXPIRATION.NOTIFICATIONS)}recordLastRefresh(e){this.setCache(Rn.KEYS.LAST_REFRESH,Date.now(),e)}shouldForceRefresh(e,n){const s=this.getCache(Rn.KEYS.LAST_REFRESH,e,864e5);return s?n&&n>s?(console.log(" Force refresh needed - action performed after last refresh"),!0):!1:!0}getCacheStats(e){const n={};return Object.entries(Rn.KEYS).forEach(([s,r])=>{const i=localStorage.getItem(r);if(i)try{const o=JSON.parse(i);n[s]={size:i.length,age:Date.now()-o.timestamp,wallet:o.walletAddress,isValidWallet:o.walletAddress===e}}catch{n[s]={error:"Invalid cache entry"}}else n[s]={status:"not cached"}}),n}clearDummyDataFromCache(e){console.log(" Clearing dummy data from dashboard cache...");let n=0;if(e){const s=this.getCachedUserAssets(e);if(s){const r=s.length,i=s.filter(o=>{const l=Ai({name:o.name,metadata:o.metadata,assetType:o.type}),c=o.name&&(o.name.includes("Unknown Asset")||o.name.match(/Unknown Asset #\d+/)||o.type==="Unknown"&&o.name.includes("Asset #"));return!l&&!c});if(i.length!==r){const o=r-i.length;n+=o,i.length===0?(localStorage.removeItem(Rn.KEYS.USER_ASSETS),console.log(` Removed all dummy dashboard assets for wallet: ${e}`)):(this.cacheUserAssets(i,e),console.log(` Cleaned ${o} dummy assets from dashboard cache for wallet: ${e}`))}}}else Object.values(Rn.KEYS).forEach(s=>{for(let r=localStorage.length-1;r>=0;r--){const i=localStorage.key(r);if(!(!i||!i.startsWith(s)))try{const o=localStorage.getItem(i);if(!o)continue;const l=JSON.parse(o);if(!l.data)continue;if(Array.isArray(l.data)&&s===Rn.KEYS.USER_ASSETS){const c=l.data.length;if(l.data=l.data.filter(d=>{const u=Ai({name:d.name,metadata:d.metadata,assetType:d.type}),h=d.name&&(d.name.includes("Unknown Asset")||d.name.match(/Unknown Asset #\d+/)||d.type==="Unknown"&&d.name.includes("Asset #"));return!u&&!h}),l.data.length!==c){const d=c-l.data.length;n+=d,l.data.length===0?(localStorage.removeItem(i),console.log(` Removed empty dashboard cache entry: ${i}`)):(localStorage.setItem(i,JSON.stringify(l)),console.log(` Cleaned ${d} dummy entries from: ${i}`))}}}catch(o){console.warn(` Error processing dashboard cache key ${i}:`,o)}}});return console.log(` Cleared ${n} dummy data entries from dashboard cache`),n}};Ue(Hl,"instance");let D0=Hl;const Ds=D0.getInstance(),Br=Object.freeze(Object.defineProperty({__proto__:null,CACHE_CONFIG:Rn,DashboardCache:D0,dashboardCache:Ds},Symbol.toStringTag,{value:"Module"})),Jf=[{type:"constructor",inputs:[{name:"_tokenContract",type:"address"}]},{type:"event",name:"SellOrderCreated",inputs:[{name:"orderId",type:"uint256",indexed:!0},{name:"seller",type:"address",indexed:!0},{name:"tokenId",type:"uint256",indexed:!0},{name:"amount",type:"uint256"},{name:"pricePerToken",type:"uint256"}]},{type:"event",name:"BuyOrderCreated",inputs:[{name:"orderId",type:"uint256",indexed:!0},{name:"buyer",type:"address",indexed:!0},{name:"tokenId",type:"uint256",indexed:!0},{name:"amount",type:"uint256"},{name:"pricePerToken",type:"uint256"}]},{type:"event",name:"OrderFilled",inputs:[{name:"orderId",type:"uint256",indexed:!0},{name:"taker",type:"address",indexed:!0},{name:"amount",type:"uint256"},{name:"totalPrice",type:"uint256"}]},{type:"event",name:"OrderCancelled",inputs:[{name:"orderId",type:"uint256",indexed:!0},{name:"maker",type:"address",indexed:!0}]},{type:"function",name:"createSellOrder",inputs:[{name:"_tokenId",type:"uint256"},{name:"_amount",type:"uint256"},{name:"_pricePerTokenU2U",type:"uint256"}],outputs:[{name:"orderId",type:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"createBuyOrder",inputs:[{name:"_tokenId",type:"uint256"},{name:"_amount",type:"uint256"},{name:"_pricePerTokenU2U",type:"uint256"}],outputs:[{name:"orderId",type:"uint256"}],stateMutability:"payable"},{type:"function",name:"fillOrder",inputs:[{name:"_orderId",type:"uint256"},{name:"_amountToFill",type:"uint256"}],outputs:[],stateMutability:"payable"},{type:"function",name:"cancelOrder",inputs:[{name:"_orderId",type:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getActiveOrders",inputs:[{name:"_tokenId",type:"uint256"}],outputs:[{name:"sellOrders",type:"uint256[]"},{name:"buyOrders",type:"uint256[]"}],stateMutability:"view"},{type:"function",name:"activeOrders",inputs:[{name:"",type:"uint256"}],outputs:[{name:"orderId",type:"uint256"},{name:"maker",type:"address"},{name:"tokenId",type:"uint256"},{name:"amount",type:"uint256"},{name:"pricePerTokenU2U",type:"uint256"},{name:"isBuyOrder",type:"bool"},{name:"isActive",type:"bool"},{name:"isFilled",type:"bool"},{name:"timestamp",type:"uint256"},{name:"expiryTimestamp",type:"uint256"}],stateMutability:"view"},{type:"function",name:"getEscrowedAssets",inputs:[{name:"_user",type:"address"},{name:"_tokenId",type:"uint256"}],outputs:[{name:"",type:"uint256"}],stateMutability:"view"},{type:"function",name:"getEscrowedU2U",inputs:[{name:"_user",type:"address"}],outputs:[{name:"",type:"uint256"}],stateMutability:"view"},{type:"function",name:"getUserOrders",inputs:[{name:"_user",type:"address"}],outputs:[{name:"",type:"uint256[]"}],stateMutability:"view"},{type:"function",name:"getBestAskPrice",inputs:[{name:"_tokenId",type:"uint256"}],outputs:[{name:"bestPrice",type:"uint256"},{name:"amount",type:"uint256"}],stateMutability:"view"},{type:"function",name:"getBestBidPrice",inputs:[{name:"_tokenId",type:"uint256"}],outputs:[{name:"bestPrice",type:"uint256"},{name:"amount",type:"uint256"}],stateMutability:"view"},{type:"function",name:"tokenContract",inputs:[],outputs:[{name:"",type:"address"}],stateMutability:"view"},{type:"function",name:"nextOrderId",inputs:[],outputs:[{name:"",type:"uint256"}],stateMutability:"view"},{type:"function",name:"PLATFORM_FEE_PERCENT",inputs:[],outputs:[{name:"",type:"uint256"}],stateMutability:"view"},{type:"function",name:"onERC1155Received",inputs:[{name:"",type:"address"},{name:"",type:"address"},{name:"",type:"uint256"},{name:"",type:"uint256"},{name:"",type:"bytes"}],outputs:[{name:"",type:"bytes4"}],stateMutability:"pure"},{type:"function",name:"onERC1155BatchReceived",inputs:[{name:"",type:"address"},{name:"",type:"address"},{name:"",type:"uint256[]"},{name:"",type:"uint256[]"},{name:"",type:"bytes"}],outputs:[{name:"",type:"bytes4"}],stateMutability:"pure"}],ihe=()=>{const{isConnected:t,address:e,signer:n}=xn(),[s,r]=y.useState(!1),[i,o]=y.useState([]),[l,c]=y.useState({totalYieldReceived:"0",totalPrincipalInvested:"0",currentPortfolioValue:"0",totalReturn:"0",returnPercentage:0,activeAssets:0,lastPaymentDate:"",monthlyAverageYield:"0",yearlyProjectedYield:"0"}),[d,u]=y.useState([]);y.useEffect(()=>{t&&e&&n&&h()},[t,e,n]);const h=async()=>{try{if(r(!0),console.log("Loading real yield and principal data..."),!n||!e)return;const{MARKETPLACE_CONTRACT:E,TOKEN_CONTRACT:T,PAYMENT_SPLITTER_CONTRACT:R}=await wt(async()=>{const{MARKETPLACE_CONTRACT:j,TOKEN_CONTRACT:C,PAYMENT_SPLITTER_CONTRACT:P}=await Promise.resolve().then(()=>_i);return{MARKETPLACE_CONTRACT:j,TOKEN_CONTRACT:C,PAYMENT_SPLITTER_CONTRACT:P}},void 0),{CONTRACT_ABIS:$}=await wt(async()=>{const{CONTRACT_ABIS:j}=await Promise.resolve().then(()=>ti);return{CONTRACT_ABIS:j}},void 0),M=new qe(E,$.MARKETPLACE,n),L=new qe(T,$.ERC1155CORE,n),U=new qe(R,$.PAYMENTSPLITTER,n),z=await f(M,L),B=await m(U,z),D=x(z,B),g=p(z,B);o(B),c(D),u(g),console.log("Yield data loaded successfully")}catch(E){console.error("Failed to load yield data:",E),be.error("Failed to load yield data")}finally{r(!1)}},f=async(E,T)=>{console.log("Fetching user token holdings...");const R=await E.getAllListings(),[$,,M,L]=R,U=[];for(let z=0;z<$.length;z++){const B=$[z].toString();try{const D=await T.balanceOf(e,B),g=await E.getUserBalance(e,B),j=D.add(g);if(j.gt(0)){const C=await T.getTokenInfo(B);let P=`Asset #${B}`;if(C.metadataURI)try{let S=C.metadataURI;C.metadataURI.startsWith("ipfs://")&&(S=`https://gateway.pinata.cloud/ipfs/${C.metadataURI.replace("ipfs://","")}`);const A=await fetch(S);if(A.ok){const F=await A.json();P=(F==null?void 0:F.name)||P}}catch{console.warn(`Could not fetch metadata for token ${B}`)}U.push({tokenId:B,assetName:P,balance:j.toString(),walletBalance:D.toString(),marketplaceBalance:g.toString(),price:De(C.price),totalInvested:De(C.price.mul(j))})}}catch(D){console.warn(`Error checking balance for token ${B}:`,D)}}return console.log(`Found ${U.length} user assets`),U},m=async(E,T)=>{var $,M,L,U,z,B,D;console.log("Fetching yield transaction history...");const R=[];try{const g=await E.provider.getBlockNumber(),j=[],C=5e3;for(let A=0;A<10;A++){const F=g-A*C,_=Math.max(1,F-C);_<F&&j.push({from:_,to:F})}let P=[];for(const A of j)try{const F=E.filters.InvoiceSettled(),_=await E.queryFilter(F,A.from,A.to);P=P.concat(_)}catch(F){console.warn(`Error in settlement range ${A.from}-${A.to}`,F)}for(const A of P){const F=(M=($=A.args)==null?void 0:$.tokenId)==null?void 0:M.toString(),_=(L=A.args)==null?void 0:L.toHolders;if(!F||!_)continue;const{MARKETPLACE_CONTRACT:k}=await wt(async()=>{const{MARKETPLACE_CONTRACT:K}=await Promise.resolve().then(()=>_i);return{MARKETPLACE_CONTRACT:K}},void 0),{CONTRACT_ABIS:O}=await wt(async()=>{const{CONTRACT_ABIS:K}=await Promise.resolve().then(()=>ti);return{CONTRACT_ABIS:K}},void 0),I=await new qe(k,O.MARKETPLACE,n).getTokenHolders(F),[V,G]=I,H=V.findIndex(K=>K.toLowerCase()===(e==null?void 0:e.toLowerCase()));if(H>=0){const K=parseFloat(Zi(G[H],0)),X=G.reduce((ee,ne)=>ee+parseFloat(Zi(ne,0)),0);if(K>0&&X>0){const ee=K/X,ne=(parseFloat(De(_))*ee).toFixed(6);if(parseFloat(ne)>0){const Be=await A.getBlock(),te=((U=T.find(ge=>ge.tokenId===F))==null?void 0:U.assetName)||`Asset #${F}`;R.push({tokenId:F,assetName:te,amount:ne,timestamp:new Date(Be.timestamp*1e3).toISOString(),type:"settlement",transactionHash:A.transactionHash,blockNumber:A.blockNumber})}}}}let S=[];for(const A of j)try{const F=E.filters.RentalDistributed(),_=await E.queryFilter(F,A.from,A.to);S=S.concat(_)}catch(F){console.warn(`Error in rental range ${A.from}-${A.to}`,F)}for(const A of S){const F=(B=(z=A.args)==null?void 0:z.tokenId)==null?void 0:B.toString(),_=(D=A.args)==null?void 0:D.toHolders,k=T.find(O=>O.tokenId===F);if(k&&parseFloat(k.marketplaceBalance)>0&&_){const{MARKETPLACE_CONTRACT:O}=await wt(async()=>{const{MARKETPLACE_CONTRACT:ee}=await Promise.resolve().then(()=>_i);return{MARKETPLACE_CONTRACT:ee}},void 0),{CONTRACT_ABIS:q}=await wt(async()=>{const{CONTRACT_ABIS:ee}=await Promise.resolve().then(()=>ti);return{CONTRACT_ABIS:ee}},void 0),V=await new qe(O,q.MARKETPLACE,n).getTokenHolders(F),[,G]=V,H=G.reduce((ee,ne)=>ee+parseFloat(Zi(ne,0)),0),K=parseFloat(k.marketplaceBalance)/H,X=(parseFloat(De(_))*K).toFixed(6);if(parseFloat(X)>0){const ee=await A.getBlock();R.push({tokenId:F,assetName:k.assetName,amount:X,timestamp:new Date(ee.timestamp*1e3).toISOString(),type:"rental",transactionHash:A.transactionHash,blockNumber:A.blockNumber})}}}R.sort((A,F)=>new Date(F.timestamp).getTime()-new Date(A.timestamp).getTime())}catch(g){console.warn("Could not fetch yield events:",g)}return console.log(`Found ${R.length} yield transactions`),R},x=(E,T)=>{const R=E.reduce((D,g)=>D+parseFloat(g.totalInvested),0),$=T.reduce((D,g)=>D+parseFloat(g.amount),0),M=R>0?$/R*100:0,L=T.length>0?T[0].timestamp:"",U=Math.max(1,Math.ceil(T.length/4)),z=$/U,B=z*12;return{totalYieldReceived:$.toFixed(6),totalPrincipalInvested:R.toFixed(6),currentPortfolioValue:R.toFixed(6),totalReturn:$.toFixed(6),returnPercentage:M,activeAssets:E.length,lastPaymentDate:L,monthlyAverageYield:z.toFixed(6),yearlyProjectedYield:B.toFixed(6)}},p=(E,T)=>E.map(R=>{const $=T.filter(z=>z.tokenId===R.tokenId),M=$.reduce((z,B)=>z+parseFloat(B.amount),0),L=parseFloat(R.totalInvested)>0?M/parseFloat(R.totalInvested)*100:0,U=$.length>0?$[0].timestamp:"";return{tokenId:R.tokenId,assetName:R.assetName,principalInvested:R.totalInvested,totalYieldReceived:M.toFixed(6),currentValue:R.totalInvested,yieldPercentage:L,lastPaymentDate:U,paymentCount:$.length}}),w=()=>{console.log("Generating professional PDF report...");const E={generatedAt:new Date().toISOString(),address:e,summary:l,transactions:i,assetBreakdown:d},T=b(E),R=window.open("","_blank");R&&(R.document.write(T),R.document.close(),R.focus(),setTimeout(()=>{R.print()},500)),be.success('Report opened. Use "Save as PDF" in print dialog.')},b=E=>{const T=$=>new Date($).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),R=$=>parseFloat($).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:6});return`
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Yield & Income Statement</title>
  <style>
    @page { size: A4; margin: 0.8in; }
    body { font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 10pt; line-height: 1.4; color: #000; background: #fff; margin: 0; padding: 0; }
    .container { width: 100%; max-width: 8.5in; margin: 0 auto; }
    .header { border-bottom: 2px solid #003087; padding-bottom: 12px; margin-bottom: 20px; }
    .logo { font-size: 18pt; font-weight: bold; color: #003087; margin: 0; }
    .subtitle { font-size: 14pt; margin: 4px 0 0; color: #000; }
    .report-info { font-size: 9pt; margin-top: 8px; }
    .section { margin-bottom: 24px; }
    .section-title { font-size: 12pt; font-weight: bold; color: #003087; border-bottom: 1px solid #003087; padding-bottom: 4px; margin-bottom: 10px; }
    table { width: 100%; border-collapse: collapse; margin-bottom: 16px; font-size: 9pt; }
    th { background-color: #f0f4f8; color: #003087; font-weight: bold; text-align: left; padding: 8px 10px; border-bottom: 2px solid #003087; }
    td { padding: 8px 10px; border-bottom: 1px solid #d0d7e0; }
    tr:nth-child(even) { background-color: #f9fbfd; }
    .text-right { text-align: right; }
    .text-center { text-align: center; }
    .font-bold { font-weight: bold; }
    .text-blue { color: #003087; }
    .summary-grid { display: table; width: 100%; border-collapse: collapse; margin-bottom: 20px; }
    .summary-row { display: table-row; }
    .summary-cell { display: table-cell; padding: 12px; border: 1px solid #d0d7e0; background-color: #f0f4f8; }
    .summary-label { font-weight: bold; color: #003087; }
    .summary-value { font-size: 11pt; font-weight: bold; color: #000; margin-top: 4px; }
    .footer { margin-top: 40px; padding-top: 16px; border-top: 1px solid #d0d7e0; font-size: 8pt; color: #555; text-align: center; }
    @media print { body { -webkit-print-color-adjust: exact; } }
  </style>
</head>
<body>
  <div class="container">
    <div class="header" style="display: flex; align-items: center; gap: 12px; border-bottom: 2px solid #003087; padding-bottom: 12px; margin-bottom: 20px;">
  <img src="/Orion.png" alt="OpenAsset Logo" style="height: 40px; width: auto;" />
  <div>
    <h1 class="logo" style="margin: 0; font-size: 18pt; color: #003087; line-height: 1.2;">OpenAsset RWA Platform</h1>
    <p class="subtitle" style="margin: 4px 0 0; font-size: 14pt; color: #000;">Yield & Income Statement</p>
  </div>
</div>
<div class="report-info" style="font-size: 9pt; margin-top: 8px;">
  <div><strong>Account Holder:</strong> ${E.address}</div>
  <div><strong>Statement Date:</strong> ${T(E.generatedAt)}</div>
  <div><strong>Generated On:</strong> ${new Date().toLocaleString("en-US")}</div>
</div>

    <div class="section">
      <h2 class="section-title">Portfolio Summary</h2>
      <table class="summary-grid">
        <tr class="summary-row">
          <td class="summary-cell"><div class="summary-label">Total Principal Invested</div><div class="summary-value">${R(E.summary.totalPrincipalInvested)} FLOW</div></td>
          <td class="summary-cell"><div class="summary-label">Total Yield Received</div><div class="summary-value text-blue">${R(E.summary.totalYieldReceived)} FLOW</div></td>
        </tr>
        <tr class="summary-row">
          <td class="summary-cell"><div class="summary-label">Total Return</div><div class="summary-value">${E.summary.returnPercentage.toFixed(2)}%</div></td>
          <td class="summary-cell"><div class="summary-label">Active Assets</div><div class="summary-value">${E.summary.activeAssets}</div></td>
        </tr>
      </table>
    </div>

    <div class="section">
      <h2 class="section-title">Asset Yield Breakdown</h2>
      <table>
        <thead>
          <tr>
            <th>Asset</th>
            <th class="text-right">Principal</th>
            <th class="text-right">Yield Received</th>
            <th class="text-right">Return (%)</th>
            <th class="text-right">Payments</th>
            <th>Last Payment</th>
          </tr>
        </thead>
        <tbody>
          ${E.assetBreakdown.map($=>`
            <tr>
              <td class="font-bold">${$.assetName}</td>
              <td class="text-right">${R($.principalInvested)} FLOW</td>
              <td class="text-right text-blue">${R($.totalYieldReceived)} FLOW</td>
              <td class="text-right">${$.yieldPercentage.toFixed(2)}%</td>
              <td class="text-right">${$.paymentCount}</td>
              <td>${$.lastPaymentDate?T($.lastPaymentDate):""}</td>
            </tr>
          `).join("")}
        </tbody>
      </table>
    </div>

    <div class="section">
      <h2 class="section-title">Recent Yield Transactions (Last 10)</h2>
      <table>
        <thead>
          <tr>
            <th>Date</th>
            <th>Asset</th>
            <th>Type</th>
            <th class="text-right">Amount (FLOW)</th>
          </tr>
        </thead>
        <tbody>
          ${E.transactions.slice(0,10).map($=>`
            <tr>
              <td>${T($.timestamp)}</td>
              <td>${$.assetName}</td>
              <td><span style="text-transform: capitalize;">${$.type}</span></td>
              <td class="text-right text-blue">+${R($.amount)}</td>
            </tr>
          `).join("")}
          ${E.transactions.length===0?'<tr><td colspan="4" class="text-center" style="color: #666;">No transactions recorded</td></tr>':""}
        </tbody>
      </table>
    </div>

    <div class="footer">
      <p><strong>Confidential Financial Statement</strong>  Generated from verified on-chain data.</p>
      <p>OpenAsset RWA Platform  Report ID: YIELD-${new Date().toISOString().slice(0,10).replace(/-/g,"")}-${Math.random().toString(36).substr(2,5).toUpperCase()}</p>
    </div>
  </div>
</body>
</html>`},v=E=>new Date(E).toLocaleDateString(),N=E=>`${parseFloat(E).toLocaleString()} FLOW`;return t?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Yield & Income Report"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Track your real yield and principal returns from tokenized assets"})]}),a.jsxs(Z,{onClick:w,className:"bg-blue-600 hover:bg-blue-700",children:[a.jsx(bc,{className:"w-4 h-4 mr-2"}),"Download Report"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6",children:[a.jsx(fe,{children:a.jsx(pe,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(On,{className:"h-4 w-4 text-blue-600"}),a.jsxs("div",{className:"ml-2",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Principal"}),a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:N(l.totalPrincipalInvested)})]})]})})}),a.jsx(fe,{children:a.jsx(pe,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(In,{className:"h-4 w-4 text-green-600"}),a.jsxs("div",{className:"ml-2",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Yield Received"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:N(l.totalYieldReceived)})]})]})})}),a.jsx(fe,{children:a.jsx(pe,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Qr,{className:"h-4 w-4 text-purple-600"}),a.jsxs("div",{className:"ml-2",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Return"}),a.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[l.returnPercentage.toFixed(2),"%"]})]})]})})}),a.jsx(fe,{children:a.jsx(pe,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(vc,{className:"h-4 w-4 text-orange-600"}),a.jsxs("div",{className:"ml-2",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Assets"}),a.jsx("p",{className:"text-2xl font-bold text-orange-600",children:l.activeAssets})]})]})})})]}),a.jsxs(fe,{children:[a.jsxs(ot,{children:[a.jsxs(lt,{className:"flex items-center gap-2",children:[a.jsx(vc,{className:"w-5 h-5"}),"Asset Yield Breakdown"]}),a.jsx(Qn,{children:"Individual asset performance and yield history"})]}),a.jsx(pe,{children:s?a.jsx("div",{className:"flex justify-center p-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):d.length===0?a.jsx("p",{className:"text-gray-500 text-center py-8",children:"No asset data available"}):a.jsx("div",{className:"space-y-4",children:d.map(E=>a.jsx(fe,{className:"border-l-4 border-l-green-500",children:a.jsx(pe,{className:"p-6",children:a.jsx("div",{className:"flex justify-between items-start",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"font-bold text-lg",children:E.assetName}),a.jsxs(Ie,{variant:"outline",className:"bg-green-50 text-green-700",children:[E.yieldPercentage.toFixed(2),"% Return"]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Principal Invested"}),a.jsx("p",{className:"font-medium",children:N(E.principalInvested)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Yield Received"}),a.jsx("p",{className:"font-medium text-green-600",children:N(E.totalYieldReceived)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Payments Count"}),a.jsxs("p",{className:"font-medium",children:[E.paymentCount," payments"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Last Payment"}),a.jsx("p",{className:"font-medium",children:E.lastPaymentDate?v(E.lastPaymentDate):"None"})]})]})]})})})},E.tokenId))})})]}),a.jsxs(fe,{children:[a.jsxs(ot,{children:[a.jsxs(lt,{className:"flex items-center gap-2",children:[a.jsx(Do,{className:"w-5 h-5"}),"Recent Yield Transactions"]}),a.jsx(Qn,{children:"Latest yield payments received from your assets"})]}),a.jsx(pe,{children:s?a.jsx("div",{className:"flex justify-center p-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):i.length===0?a.jsx("p",{className:"text-gray-500 text-center py-8",children:"No yield transactions found"}):a.jsx("div",{className:"space-y-3",children:i.slice(0,10).map((E,T)=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(On,{className:"w-5 h-5 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:E.assetName}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ie,{variant:"outline",className:"bg-green-50 text-green-700",children:E.type}),a.jsx("span",{className:"text-sm text-gray-500",children:v(E.timestamp)})]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-lg font-bold text-green-600",children:["+",N(E.amount)]}),a.jsxs("div",{className:"flex items-center justify-end space-x-1",children:[a.jsx($o,{className:"w-3 h-3 text-green-500"}),a.jsx("span",{className:"text-xs text-green-500",children:"Credited"})]})]})]},T))})})]})]}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(or,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Connect Your Wallet"}),a.jsx("p",{className:"text-gray-600",children:"Connect your wallet to view your yield and income report"})]})};var ahe="Separator",l5="horizontal",ohe=["horizontal","vertical"],s8=y.forwardRef((t,e)=>{const{decorative:n,orientation:s=l5,...r}=t,i=lhe(s)?s:l5,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return a.jsx(xt.div,{"data-orientation":i,...l,...r,ref:e})});s8.displayName=ahe;function lhe(t){return ohe.includes(t)}var r8=s8;const i8=y.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...s},r)=>a.jsx(r8,{ref:r,decorative:n,orientation:e,className:rt("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...s}));i8.displayName=r8.displayName;/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Rm(t){return t+.5|0}const Lo=(t,e,n)=>Math.max(Math.min(t,n),e);function kh(t){return Lo(Rm(t*2.55),0,255)}function tl(t){return Lo(Rm(t*255),0,255)}function Ba(t){return Lo(Rm(t/2.55)/100,0,1)}function c5(t){return Lo(Rm(t*100),0,100)}const Ur={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Z1=[..."0123456789ABCDEF"],che=t=>Z1[t&15],dhe=t=>Z1[(t&240)>>4]+Z1[t&15],wp=t=>(t&240)>>4===(t&15),uhe=t=>wp(t.r)&&wp(t.g)&&wp(t.b)&&wp(t.a);function hhe(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Ur[t[1]]*17,g:255&Ur[t[2]]*17,b:255&Ur[t[3]]*17,a:e===5?Ur[t[4]]*17:255}:(e===7||e===9)&&(n={r:Ur[t[1]]<<4|Ur[t[2]],g:Ur[t[3]]<<4|Ur[t[4]],b:Ur[t[5]]<<4|Ur[t[6]],a:e===9?Ur[t[7]]<<4|Ur[t[8]]:255})),n}const fhe=(t,e)=>t<255?e(t):"";function mhe(t){var e=uhe(t)?che:dhe;return t?"#"+e(t.r)+e(t.g)+e(t.b)+fhe(t.a,e):void 0}const phe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function a8(t,e,n){const s=e*Math.min(n,1-n),r=(i,o=(i+t/30)%12)=>n-s*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function ghe(t,e,n){const s=(r,i=(r+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0);return[s(5),s(3),s(1)]}function xhe(t,e,n){const s=a8(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)s[r]*=1-e-n,s[r]+=e;return s}function yhe(t,e,n,s,r){return t===r?(e-n)/s+(e<n?6:0):e===r?(n-t)/s+2:(t-e)/s+4}function Aj(t){const n=t.r/255,s=t.g/255,r=t.b/255,i=Math.max(n,s,r),o=Math.min(n,s,r),l=(i+o)/2;let c,d,u;return i!==o&&(u=i-o,d=l>.5?u/(2-i-o):u/(i+o),c=yhe(n,s,r,u,i),c=c*60+.5),[c|0,d||0,l]}function Tj(t,e,n,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,s)).map(tl)}function Cj(t,e,n){return Tj(a8,t,e,n)}function vhe(t,e,n){return Tj(xhe,t,e,n)}function bhe(t,e,n){return Tj(ghe,t,e,n)}function o8(t){return(t%360+360)%360}function whe(t){const e=phe.exec(t);let n=255,s;if(!e)return;e[5]!==s&&(n=e[6]?kh(+e[5]):tl(+e[5]));const r=o8(+e[2]),i=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?s=vhe(r,i,o):e[1]==="hsv"?s=bhe(r,i,o):s=Cj(r,i,o),{r:s[0],g:s[1],b:s[2],a:n}}function Nhe(t,e){var n=Aj(t);n[0]=o8(n[0]+e),n=Cj(n),t.r=n[0],t.g=n[1],t.b=n[2]}function khe(t){if(!t)return;const e=Aj(t),n=e[0],s=c5(e[1]),r=c5(e[2]);return t.a<255?`hsla(${n}, ${s}%, ${r}%, ${Ba(t.a)})`:`hsl(${n}, ${s}%, ${r}%)`}const d5={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},u5={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function jhe(){const t={},e=Object.keys(u5),n=Object.keys(d5);let s,r,i,o,l;for(s=0;s<e.length;s++){for(o=l=e[s],r=0;r<n.length;r++)i=n[r],l=l.replace(i,d5[i]);i=parseInt(u5[o],16),t[l]=[i>>16&255,i>>8&255,i&255]}return t}let Np;function She(t){Np||(Np=jhe(),Np.transparent=[0,0,0,0]);const e=Np[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Ahe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function The(t){const e=Ahe.exec(t);let n=255,s,r,i;if(e){if(e[7]!==s){const o=+e[7];n=e[8]?kh(o):Lo(o*255,0,255)}return s=+e[1],r=+e[3],i=+e[5],s=255&(e[2]?kh(s):Lo(s,0,255)),r=255&(e[4]?kh(r):Lo(r,0,255)),i=255&(e[6]?kh(i):Lo(i,0,255)),{r:s,g:r,b:i,a:n}}}function Che(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Ba(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const ib=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Jc=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Ehe(t,e,n){const s=Jc(Ba(t.r)),r=Jc(Ba(t.g)),i=Jc(Ba(t.b));return{r:tl(ib(s+n*(Jc(Ba(e.r))-s))),g:tl(ib(r+n*(Jc(Ba(e.g))-r))),b:tl(ib(i+n*(Jc(Ba(e.b))-i))),a:t.a+n*(e.a-t.a)}}function kp(t,e,n){if(t){let s=Aj(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*n,e===0?360:1)),s=Cj(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function l8(t,e){return t&&Object.assign(e||{},t)}function h5(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=tl(t[3]))):(e=l8(t,{r:0,g:0,b:0,a:1}),e.a=tl(e.a)),e}function _he(t){return t.charAt(0)==="r"?The(t):whe(t)}class Qf{constructor(e){if(e instanceof Qf)return e;const n=typeof e;let s;n==="object"?s=h5(e):n==="string"&&(s=hhe(e)||She(e)||_he(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=l8(this._rgb);return e&&(e.a=Ba(e.a)),e}set rgb(e){this._rgb=h5(e)}rgbString(){return this._valid?Che(this._rgb):void 0}hexString(){return this._valid?mhe(this._rgb):void 0}hslString(){return this._valid?khe(this._rgb):void 0}mix(e,n){if(e){const s=this.rgb,r=e.rgb;let i;const o=n===i?.5:n,l=2*o-1,c=s.a-r.a,d=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;i=1-d,s.r=255&d*s.r+i*r.r+.5,s.g=255&d*s.g+i*r.g+.5,s.b=255&d*s.b+i*r.b+.5,s.a=o*s.a+(1-o)*r.a,this.rgb=s}return this}interpolate(e,n){return e&&(this._rgb=Ehe(this._rgb,e._rgb,n)),this}clone(){return new Qf(this.rgb)}alpha(e){return this._rgb.a=tl(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Rm(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return kp(this._rgb,2,e),this}darken(e){return kp(this._rgb,2,-e),this}saturate(e){return kp(this._rgb,1,e),this}desaturate(e){return kp(this._rgb,1,-e),this}rotate(e){return Nhe(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ia(){}const Phe=(()=>{let t=0;return()=>t++})();function Kt(t){return t==null}function qn(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Lt(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Rs(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Ui(t,e){return Rs(t)?t:e}function Ct(t,e){return typeof t>"u"?e:t}const Ihe=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function un(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Yt(t,e,n,s){let r,i,o;if(qn(t))for(i=t.length,r=0;r<i;r++)e.call(n,t[r],r);else if(Lt(t))for(o=Object.keys(t),i=o.length,r=0;r<i;r++)e.call(n,t[o[r]],o[r])}function $0(t,e){let n,s,r,i;if(!t||!e||t.length!==e.length)return!1;for(n=0,s=t.length;n<s;++n)if(r=t[n],i=e[n],r.datasetIndex!==i.datasetIndex||r.index!==i.index)return!1;return!0}function O0(t){if(qn(t))return t.map(O0);if(Lt(t)){const e=Object.create(null),n=Object.keys(t),s=n.length;let r=0;for(;r<s;++r)e[n[r]]=O0(t[n[r]]);return e}return t}function c8(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function Rhe(t,e,n,s){if(!c8(t))return;const r=e[t],i=n[t];Lt(r)&&Lt(i)?Zf(r,i,s):e[t]=O0(i)}function Zf(t,e,n){const s=qn(e)?e:[e],r=s.length;if(!Lt(t))return t;n=n||{};const i=n.merger||Rhe;let o;for(let l=0;l<r;++l){if(o=s[l],!Lt(o))continue;const c=Object.keys(o);for(let d=0,u=c.length;d<u;++d)i(c[d],t,o,n)}return t}function Zh(t,e){return Zf(t,e,{merger:Mhe})}function Mhe(t,e,n){if(!c8(t))return;const s=e[t],r=n[t];Lt(s)&&Lt(r)?Zh(s,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=O0(r))}const f5={"":t=>t,x:t=>t.x,y:t=>t.y};function Dhe(t){const e=t.split("."),n=[];let s="";for(const r of e)s+=r,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function $he(t){const e=Dhe(t);return n=>{for(const s of e){if(s==="")break;n=n&&n[s]}return n}}function hu(t,e){return(f5[e]||(f5[e]=$he(e)))(t)}function Ej(t){return t.charAt(0).toUpperCase()+t.slice(1)}const em=t=>typeof t<"u",fl=t=>typeof t=="function",m5=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function Ohe(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const as=Math.PI,Pi=2*as,Fhe=Pi+as,F0=Number.POSITIVE_INFINITY,Lhe=as/180,Ti=as/2,_l=as/4,p5=as*2/3,e2=Math.log10,ga=Math.sign;function ef(t,e,n){return Math.abs(t-e)<n}function g5(t){const e=Math.round(t);t=ef(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(e2(t))),s=t/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function Bhe(t){const e=[],n=Math.sqrt(t);let s;for(s=1;s<n;s++)t%s===0&&(e.push(s),e.push(t/s));return n===(n|0)&&e.push(n),e.sort((r,i)=>r-i).pop(),e}function Uhe(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function tm(t){return!Uhe(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function Vhe(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function zhe(t,e,n){let s,r,i;for(s=0,r=t.length;s<r;s++)i=t[s][n],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function Zl(t){return t*(as/180)}function Hhe(t){return t*(180/as)}function x5(t){if(!Rs(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Whe(t,e){const n=e.x-t.x,s=e.y-t.y,r=Math.sqrt(n*n+s*s);let i=Math.atan2(s,n);return i<-.5*as&&(i+=Pi),{angle:i,distance:r}}function t2(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function qhe(t,e){return(t-e+Fhe)%Pi-as}function Gi(t){return(t%Pi+Pi)%Pi}function d8(t,e,n,s){const r=Gi(t),i=Gi(e),o=Gi(n),l=Gi(i-r),c=Gi(o-r),d=Gi(r-i),u=Gi(r-o);return r===i||r===o||s&&i===o||l>c&&d<u}function Cr(t,e,n){return Math.max(e,Math.min(n,t))}function Khe(t){return Cr(t,-32768,32767)}function Bo(t,e,n,s=1e-6){return t>=Math.min(e,n)-s&&t<=Math.max(e,n)+s}function _j(t,e,n){n=n||(o=>t[o]<e);let s=t.length-1,r=0,i;for(;s-r>1;)i=r+s>>1,n(i)?r=i:s=i;return{lo:r,hi:s}}const ec=(t,e,n,s)=>_j(t,n,s?r=>{const i=t[r][e];return i<n||i===n&&t[r+1][e]===n}:r=>t[r][e]<n),Ghe=(t,e,n)=>_j(t,n,s=>t[s][e]>=n);function Yhe(t,e,n){let s=0,r=t.length;for(;s<r&&t[s]<e;)s++;for(;r>s&&t[r-1]>n;)r--;return s>0||r<t.length?t.slice(s,r):t}const u8=["push","pop","shift","splice","unshift"];function Xhe(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),u8.forEach(n=>{const s="_onData"+Ej(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...i){const o=r.apply(this,i);return t._chartjs.listeners.forEach(l=>{typeof l[s]=="function"&&l[s](...i)}),o}})})}function y5(t,e){const n=t._chartjs;if(!n)return;const s=n.listeners,r=s.indexOf(e);r!==-1&&s.splice(r,1),!(s.length>0)&&(u8.forEach(i=>{delete t[i]}),delete t._chartjs)}function h8(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const f8=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function m8(t,e){let n=[],s=!1;return function(...r){n=r,s||(s=!0,f8.call(window,()=>{s=!1,t.apply(e,n)}))}}function Jhe(t,e){let n;return function(...s){return e?(clearTimeout(n),n=setTimeout(t,e,s)):t.apply(this,s),e}}const Pj=t=>t==="start"?"left":t==="end"?"right":"center",bs=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,Qhe=(t,e,n,s)=>t===(s?"left":"right")?n:t==="center"?(e+n)/2:e;function Zhe(t,e,n){const s=e.length;let r=0,i=s;if(t._sorted){const{iScale:o,vScale:l,_parsed:c}=t,d=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=o.axis,{min:h,max:f,minDefined:m,maxDefined:x}=o.getUserBounds();if(m){if(r=Math.min(ec(c,u,h).lo,n?s:ec(e,u,o.getPixelForValue(h)).lo),d){const p=c.slice(0,r+1).reverse().findIndex(w=>!Kt(w[l.axis]));r-=Math.max(0,p)}r=Cr(r,0,s-1)}if(x){let p=Math.max(ec(c,o.axis,f,!0).hi+1,n?0:ec(e,u,o.getPixelForValue(f),!0).hi+1);if(d){const w=c.slice(p-1).findIndex(b=>!Kt(b[l.axis]));p+=Math.max(0,w)}i=Cr(p,r,s)-r}else i=s-r}return{start:r,count:i}}function efe(t){const{xScale:e,yScale:n,_scaleRanges:s}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!s)return t._scaleRanges=r,!0;const i=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==n.min||s.ymax!==n.max;return Object.assign(s,r),i}const jp=t=>t===0||t===1,v5=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Pi/n)),b5=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Pi/n)+1,tf={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Ti)+1,easeOutSine:t=>Math.sin(t*Ti),easeInOutSine:t=>-.5*(Math.cos(as*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>jp(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>jp(t)?t:v5(t,.075,.3),easeOutElastic:t=>jp(t)?t:b5(t,.075,.3),easeInOutElastic(t){return jp(t)?t:t<.5?.5*v5(t*2,.1125,.45):.5+.5*b5(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-tf.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?tf.easeInBounce(t*2)*.5:tf.easeOutBounce(t*2-1)*.5+.5};function Ij(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function w5(t){return Ij(t)?t:new Qf(t)}function ab(t){return Ij(t)?t:new Qf(t).saturate(.5).darken(.1).hexString()}const tfe=["x","y","borderWidth","radius","tension"],nfe=["color","borderColor","backgroundColor"];function sfe(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:nfe},numbers:{type:"number",properties:tfe}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function rfe(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const N5=new Map;function ife(t,e){e=e||{};const n=t+JSON.stringify(e);let s=N5.get(n);return s||(s=new Intl.NumberFormat(t,e),N5.set(n,s)),s}function p8(t,e,n){return ife(e,n).format(t)}const g8={values(t){return qn(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const s=this.chart.options.locale;let r,i=t;if(n.length>1){const d=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(d<1e-4||d>1e15)&&(r="scientific"),i=afe(t,n)}const o=e2(Math.abs(i)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:r,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),p8(t,s,c)},logarithmic(t,e,n){if(t===0)return"0";const s=n[e].significand||t/Math.pow(10,Math.floor(e2(t)));return[1,2,3,5,10,15].includes(s)||e>.8*n.length?g8.numeric.call(this,t,e,n):""}};function afe(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var x8={formatters:g8};function ofe(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:x8.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Mc=Object.create(null),n2=Object.create(null);function nf(t,e){if(!e)return t;const n=e.split(".");for(let s=0,r=n.length;s<r;++s){const i=n[s];t=t[i]||(t[i]=Object.create(null))}return t}function ob(t,e,n){return typeof e=="string"?Zf(nf(t,e),n):Zf(nf(t,""),e)}class lfe{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,r)=>ab(r.backgroundColor),this.hoverBorderColor=(s,r)=>ab(r.borderColor),this.hoverColor=(s,r)=>ab(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return ob(this,e,n)}get(e){return nf(this,e)}describe(e,n){return ob(n2,e,n)}override(e,n){return ob(Mc,e,n)}route(e,n,s,r){const i=nf(this,e),o=nf(this,s),l="_"+n;Object.defineProperties(i,{[l]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const c=this[l],d=o[r];return Lt(c)?Object.assign({},d,c):Ct(c,d)},set(c){this[l]=c}}})}apply(e){e.forEach(n=>n(this))}}var Fn=new lfe({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[sfe,rfe,ofe]);function cfe(t){return!t||Kt(t.size)||Kt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function k5(t,e,n,s,r){let i=e[r];return i||(i=e[r]=t.measureText(r).width,n.push(r)),i>s&&(s=i),s}function Pl(t,e,n){const s=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*s)/s+r}function j5(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function s2(t,e,n,s){y8(t,e,n,s,null)}function y8(t,e,n,s,r){let i,o,l,c,d,u,h,f;const m=e.pointStyle,x=e.rotation,p=e.radius;let w=(x||0)*Lhe;if(m&&typeof m=="object"&&(i=m.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(n,s),t.rotate(w),t.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),t.restore();return}if(!(isNaN(p)||p<=0)){switch(t.beginPath(),m){default:r?t.ellipse(n,s,r/2,p,0,0,Pi):t.arc(n,s,p,0,Pi),t.closePath();break;case"triangle":u=r?r/2:p,t.moveTo(n+Math.sin(w)*u,s-Math.cos(w)*p),w+=p5,t.lineTo(n+Math.sin(w)*u,s-Math.cos(w)*p),w+=p5,t.lineTo(n+Math.sin(w)*u,s-Math.cos(w)*p),t.closePath();break;case"rectRounded":d=p*.516,c=p-d,o=Math.cos(w+_l)*c,h=Math.cos(w+_l)*(r?r/2-d:c),l=Math.sin(w+_l)*c,f=Math.sin(w+_l)*(r?r/2-d:c),t.arc(n-h,s-l,d,w-as,w-Ti),t.arc(n+f,s-o,d,w-Ti,w),t.arc(n+h,s+l,d,w,w+Ti),t.arc(n-f,s+o,d,w+Ti,w+as),t.closePath();break;case"rect":if(!x){c=Math.SQRT1_2*p,u=r?r/2:c,t.rect(n-u,s-c,2*u,2*c);break}w+=_l;case"rectRot":h=Math.cos(w)*(r?r/2:p),o=Math.cos(w)*p,l=Math.sin(w)*p,f=Math.sin(w)*(r?r/2:p),t.moveTo(n-h,s-l),t.lineTo(n+f,s-o),t.lineTo(n+h,s+l),t.lineTo(n-f,s+o),t.closePath();break;case"crossRot":w+=_l;case"cross":h=Math.cos(w)*(r?r/2:p),o=Math.cos(w)*p,l=Math.sin(w)*p,f=Math.sin(w)*(r?r/2:p),t.moveTo(n-h,s-l),t.lineTo(n+h,s+l),t.moveTo(n+f,s-o),t.lineTo(n-f,s+o);break;case"star":h=Math.cos(w)*(r?r/2:p),o=Math.cos(w)*p,l=Math.sin(w)*p,f=Math.sin(w)*(r?r/2:p),t.moveTo(n-h,s-l),t.lineTo(n+h,s+l),t.moveTo(n+f,s-o),t.lineTo(n-f,s+o),w+=_l,h=Math.cos(w)*(r?r/2:p),o=Math.cos(w)*p,l=Math.sin(w)*p,f=Math.sin(w)*(r?r/2:p),t.moveTo(n-h,s-l),t.lineTo(n+h,s+l),t.moveTo(n+f,s-o),t.lineTo(n-f,s+o);break;case"line":o=r?r/2:Math.cos(w)*p,l=Math.sin(w)*p,t.moveTo(n-o,s-l),t.lineTo(n+o,s+l);break;case"dash":t.moveTo(n,s),t.lineTo(n+Math.cos(w)*(r?r/2:p),s+Math.sin(w)*p);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function nm(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function ny(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function sy(t){t.restore()}function dfe(t,e,n,s,r){if(!e)return t.lineTo(n.x,n.y);if(r==="middle"){const i=(e.x+n.x)/2;t.lineTo(i,e.y),t.lineTo(i,n.y)}else r==="after"!=!!s?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function ufe(t,e,n,s){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?n.cp2x:n.cp1x,s?n.cp2y:n.cp1y,n.x,n.y)}function hfe(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Kt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function ffe(t,e,n,s,r){if(r.strikethrough||r.underline){const i=t.measureText(s),o=e-i.actualBoundingBoxLeft,l=e+i.actualBoundingBoxRight,c=n-i.actualBoundingBoxAscent,d=n+i.actualBoundingBoxDescent,u=r.strikethrough?(c+d)/2:d;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(o,u),t.lineTo(l,u),t.stroke()}}function mfe(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function sm(t,e,n,s,r,i={}){const o=qn(e)?e:[e],l=i.strokeWidth>0&&i.strokeColor!=="";let c,d;for(t.save(),t.font=r.string,hfe(t,i),c=0;c<o.length;++c)d=o[c],i.backdrop&&mfe(t,i.backdrop),l&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),Kt(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(d,n,s,i.maxWidth)),t.fillText(d,n,s,i.maxWidth),ffe(t,n,s,d,i),s+=Number(r.lineHeight);t.restore()}function L0(t,e){const{x:n,y:s,w:r,h:i,radius:o}=e;t.arc(n+o.topLeft,s+o.topLeft,o.topLeft,1.5*as,as,!0),t.lineTo(n,s+i-o.bottomLeft),t.arc(n+o.bottomLeft,s+i-o.bottomLeft,o.bottomLeft,as,Ti,!0),t.lineTo(n+r-o.bottomRight,s+i),t.arc(n+r-o.bottomRight,s+i-o.bottomRight,o.bottomRight,Ti,0,!0),t.lineTo(n+r,s+o.topRight),t.arc(n+r-o.topRight,s+o.topRight,o.topRight,0,-Ti,!0),t.lineTo(n+o.topLeft,s)}const pfe=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,gfe=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function xfe(t,e){const n=(""+t).match(pfe);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const yfe=t=>+t||0;function v8(t,e){const n={},s=Lt(e),r=s?Object.keys(e):e,i=Lt(t)?s?o=>Ct(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of r)n[o]=yfe(i(o));return n}function b8(t){return v8(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Ud(t){return v8(t,["topLeft","topRight","bottomLeft","bottomRight"])}function ii(t){const e=b8(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function _s(t,e){t=t||{},e=e||Fn.font;let n=Ct(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let s=Ct(t.style,e.style);s&&!(""+s).match(gfe)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const r={family:Ct(t.family,e.family),lineHeight:xfe(Ct(t.lineHeight,e.lineHeight),n),size:n,style:s,weight:Ct(t.weight,e.weight),string:""};return r.string=cfe(r),r}function Sp(t,e,n,s){let r,i,o;for(r=0,i=t.length;r<i;++r)if(o=t[r],o!==void 0&&o!==void 0)return o}function vfe(t,e,n){const{min:s,max:r}=t,i=Ihe(e,(r-s)/2),o=(l,c)=>n&&l===0?0:l+c;return{min:o(s,-Math.abs(i)),max:o(r,i)}}function Vc(t,e){return Object.assign(Object.create(t),e)}function Rj(t,e=[""],n,s,r=()=>t[0]){const i=n||t;typeof s>"u"&&(s=j8("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:s,_getTarget:r,override:l=>Rj([l,...t],e,i,s)};return new Proxy(o,{deleteProperty(l,c){return delete l[c],delete l._keys,delete t[0][c],!0},get(l,c){return N8(l,c,()=>Tfe(c,e,t,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,c){return A5(l).includes(c)},ownKeys(l){return A5(l)},set(l,c,d){const u=l._storage||(l._storage=r());return l[c]=u[c]=d,delete l._keys,!0}})}function fu(t,e,n,s){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:w8(t,s),setContext:i=>fu(t,i,n,s),override:i=>fu(t.override(i),e,n,s)};return new Proxy(r,{deleteProperty(i,o){return delete i[o],delete t[o],!0},get(i,o,l){return N8(i,o,()=>wfe(i,o,l))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(i,o,l){return t[o]=l,delete i[o],!0}})}function w8(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:s=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:s,isScriptable:fl(n)?n:()=>n,isIndexable:fl(s)?s:()=>s}}const bfe=(t,e)=>t?t+Ej(e):e,Mj=(t,e)=>Lt(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function N8(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const s=n();return t[e]=s,s}function wfe(t,e,n){const{_proxy:s,_context:r,_subProxy:i,_descriptors:o}=t;let l=s[e];return fl(l)&&o.isScriptable(e)&&(l=Nfe(e,l,t,n)),qn(l)&&l.length&&(l=kfe(e,l,t,o.isIndexable)),Mj(e,l)&&(l=fu(l,r,i&&i[e],o)),l}function Nfe(t,e,n,s){const{_proxy:r,_context:i,_subProxy:o,_stack:l}=n;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let c=e(i,o||s);return l.delete(t),Mj(t,c)&&(c=Dj(r._scopes,r,t,c)),c}function kfe(t,e,n,s){const{_proxy:r,_context:i,_subProxy:o,_descriptors:l}=n;if(typeof i.index<"u"&&s(t))return e[i.index%e.length];if(Lt(e[0])){const c=e,d=r._scopes.filter(u=>u!==c);e=[];for(const u of c){const h=Dj(d,r,t,u);e.push(fu(h,i,o&&o[t],l))}}return e}function k8(t,e,n){return fl(t)?t(e,n):t}const jfe=(t,e)=>t===!0?e:typeof t=="string"?hu(e,t):void 0;function Sfe(t,e,n,s,r){for(const i of e){const o=jfe(n,i);if(o){t.add(o);const l=k8(o._fallback,n,r);if(typeof l<"u"&&l!==n&&l!==s)return l}else if(o===!1&&typeof s<"u"&&n!==s)return null}return!1}function Dj(t,e,n,s){const r=e._rootScopes,i=k8(e._fallback,n,s),o=[...t,...r],l=new Set;l.add(s);let c=S5(l,o,n,i||n,s);return c===null||typeof i<"u"&&i!==n&&(c=S5(l,o,i,c,s),c===null)?!1:Rj(Array.from(l),[""],r,i,()=>Afe(e,n,s))}function S5(t,e,n,s,r){for(;n;)n=Sfe(t,e,n,s,r);return n}function Afe(t,e,n){const s=t._getTarget();e in s||(s[e]={});const r=s[e];return qn(r)&&Lt(n)?n:r||{}}function Tfe(t,e,n,s){let r;for(const i of e)if(r=j8(bfe(i,t),n),typeof r<"u")return Mj(t,r)?Dj(n,s,t,r):r}function j8(t,e){for(const n of e){if(!n)continue;const s=n[t];if(typeof s<"u")return s}}function A5(t){let e=t._keys;return e||(e=t._keys=Cfe(t._scopes)),e}function Cfe(t){const e=new Set;for(const n of t)for(const s of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(s);return Array.from(e)}const Efe=Number.EPSILON||1e-14,mu=(t,e)=>e<t.length&&!t[e].skip&&t[e],S8=t=>t==="x"?"y":"x";function _fe(t,e,n,s){const r=t.skip?e:t,i=e,o=n.skip?e:n,l=t2(i,r),c=t2(o,i);let d=l/(l+c),u=c/(l+c);d=isNaN(d)?0:d,u=isNaN(u)?0:u;const h=s*d,f=s*u;return{previous:{x:i.x-h*(o.x-r.x),y:i.y-h*(o.y-r.y)},next:{x:i.x+f*(o.x-r.x),y:i.y+f*(o.y-r.y)}}}function Pfe(t,e,n){const s=t.length;let r,i,o,l,c,d=mu(t,0);for(let u=0;u<s-1;++u)if(c=d,d=mu(t,u+1),!(!c||!d)){if(ef(e[u],0,Efe)){n[u]=n[u+1]=0;continue}r=n[u]/e[u],i=n[u+1]/e[u],l=Math.pow(r,2)+Math.pow(i,2),!(l<=9)&&(o=3/Math.sqrt(l),n[u]=r*o*e[u],n[u+1]=i*o*e[u])}}function Ife(t,e,n="x"){const s=S8(n),r=t.length;let i,o,l,c=mu(t,0);for(let d=0;d<r;++d){if(o=l,l=c,c=mu(t,d+1),!l)continue;const u=l[n],h=l[s];o&&(i=(u-o[n])/3,l[`cp1${n}`]=u-i,l[`cp1${s}`]=h-i*e[d]),c&&(i=(c[n]-u)/3,l[`cp2${n}`]=u+i,l[`cp2${s}`]=h+i*e[d])}}function Rfe(t,e="x"){const n=S8(e),s=t.length,r=Array(s).fill(0),i=Array(s);let o,l,c,d=mu(t,0);for(o=0;o<s;++o)if(l=c,c=d,d=mu(t,o+1),!!c){if(d){const u=d[e]-c[e];r[o]=u!==0?(d[n]-c[n])/u:0}i[o]=l?d?ga(r[o-1])!==ga(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}Pfe(t,r,i),Ife(t,i,e)}function Ap(t,e,n){return Math.max(Math.min(t,n),e)}function Mfe(t,e){let n,s,r,i,o,l=nm(t[0],e);for(n=0,s=t.length;n<s;++n)o=i,i=l,l=n<s-1&&nm(t[n+1],e),i&&(r=t[n],o&&(r.cp1x=Ap(r.cp1x,e.left,e.right),r.cp1y=Ap(r.cp1y,e.top,e.bottom)),l&&(r.cp2x=Ap(r.cp2x,e.left,e.right),r.cp2y=Ap(r.cp2y,e.top,e.bottom)))}function Dfe(t,e,n,s,r){let i,o,l,c;if(e.spanGaps&&(t=t.filter(d=>!d.skip)),e.cubicInterpolationMode==="monotone")Rfe(t,r);else{let d=s?t[t.length-1]:t[0];for(i=0,o=t.length;i<o;++i)l=t[i],c=_fe(d,l,t[Math.min(i+1,o-(s?0:1))%o],e.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,d=l}e.capBezierPoints&&Mfe(t,n)}function $j(){return typeof window<"u"&&typeof document<"u"}function Oj(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function B0(t,e,n){let s;return typeof t=="string"?(s=parseInt(t,10),t.indexOf("%")!==-1&&(s=s/100*e.parentNode[n])):s=t,s}const ry=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function $fe(t,e){return ry(t).getPropertyValue(e)}const Ofe=["top","right","bottom","left"];function dc(t,e,n){const s={};n=n?"-"+n:"";for(let r=0;r<4;r++){const i=Ofe[r];s[i]=parseFloat(t[e+"-"+i+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const Ffe=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function Lfe(t,e){const n=t.touches,s=n&&n.length?n[0]:t,{offsetX:r,offsetY:i}=s;let o=!1,l,c;if(Ffe(r,i,t.target))l=r,c=i;else{const d=e.getBoundingClientRect();l=s.clientX-d.left,c=s.clientY-d.top,o=!0}return{x:l,y:c,box:o}}function Ll(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:s}=e,r=ry(n),i=r.boxSizing==="border-box",o=dc(r,"padding"),l=dc(r,"border","width"),{x:c,y:d,box:u}=Lfe(t,n),h=o.left+(u&&l.left),f=o.top+(u&&l.top);let{width:m,height:x}=e;return i&&(m-=o.width+l.width,x-=o.height+l.height),{x:Math.round((c-h)/m*n.width/s),y:Math.round((d-f)/x*n.height/s)}}function Bfe(t,e,n){let s,r;if(e===void 0||n===void 0){const i=t&&Oj(t);if(!i)e=t.clientWidth,n=t.clientHeight;else{const o=i.getBoundingClientRect(),l=ry(i),c=dc(l,"border","width"),d=dc(l,"padding");e=o.width-d.width-c.width,n=o.height-d.height-c.height,s=B0(l.maxWidth,i,"clientWidth"),r=B0(l.maxHeight,i,"clientHeight")}}return{width:e,height:n,maxWidth:s||F0,maxHeight:r||F0}}const Tp=t=>Math.round(t*10)/10;function Ufe(t,e,n,s){const r=ry(t),i=dc(r,"margin"),o=B0(r.maxWidth,t,"clientWidth")||F0,l=B0(r.maxHeight,t,"clientHeight")||F0,c=Bfe(t,e,n);let{width:d,height:u}=c;if(r.boxSizing==="content-box"){const f=dc(r,"border","width"),m=dc(r,"padding");d-=m.width+f.width,u-=m.height+f.height}return d=Math.max(0,d-i.width),u=Math.max(0,s?d/s:u-i.height),d=Tp(Math.min(d,o,c.maxWidth)),u=Tp(Math.min(u,l,c.maxHeight)),d&&!u&&(u=Tp(d/2)),(e!==void 0||n!==void 0)&&s&&c.height&&u>c.height&&(u=c.height,d=Tp(Math.floor(u*s))),{width:d,height:u}}function T5(t,e,n){const s=e||1,r=Math.floor(t.height*s),i=Math.floor(t.width*s);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==s||o.height!==r||o.width!==i?(t.currentDevicePixelRatio=s,o.height=r,o.width=i,t.ctx.setTransform(s,0,0,s,0,0),!0):!1}const Vfe=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};$j()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function C5(t,e){const n=$fe(t,e),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function Bl(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function zfe(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:s==="middle"?n<.5?t.y:e.y:s==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function Hfe(t,e,n,s){const r={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},o=Bl(t,r,n),l=Bl(r,i,n),c=Bl(i,e,n),d=Bl(o,l,n),u=Bl(l,c,n);return Bl(d,u,n)}const Wfe=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},qfe=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Vd(t,e,n){return t?Wfe(e,n):qfe()}function A8(t,e){let n,s;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=s)}function T8(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function C8(t){return t==="angle"?{between:d8,compare:qhe,normalize:Gi}:{between:Bo,compare:(e,n)=>e-n,normalize:e=>e}}function E5({start:t,end:e,count:n,loop:s,style:r}){return{start:t%n,end:e%n,loop:s&&(e-t+1)%n===0,style:r}}function Kfe(t,e,n){const{property:s,start:r,end:i}=n,{between:o,normalize:l}=C8(s),c=e.length;let{start:d,end:u,loop:h}=t,f,m;if(h){for(d+=c,u+=c,f=0,m=c;f<m&&o(l(e[d%c][s]),r,i);++f)d--,u--;d%=c,u%=c}return u<d&&(u+=c),{start:d,end:u,loop:h,style:t.style}}function E8(t,e,n){if(!n)return[t];const{property:s,start:r,end:i}=n,o=e.length,{compare:l,between:c,normalize:d}=C8(s),{start:u,end:h,loop:f,style:m}=Kfe(t,e,n),x=[];let p=!1,w=null,b,v,N;const E=()=>c(r,N,b)&&l(r,N)!==0,T=()=>l(i,b)===0||c(i,N,b),R=()=>p||E(),$=()=>!p||T();for(let M=u,L=u;M<=h;++M)v=e[M%o],!v.skip&&(b=d(v[s]),b!==N&&(p=c(b,r,i),w===null&&R()&&(w=l(b,r)===0?M:L),w!==null&&$()&&(x.push(E5({start:w,end:M,loop:f,count:o,style:m})),w=null),L=M,N=b));return w!==null&&x.push(E5({start:w,end:h,loop:f,count:o,style:m})),x}function _8(t,e){const n=[],s=t.segments;for(let r=0;r<s.length;r++){const i=E8(s[r],t.points,e);i.length&&n.push(...i)}return n}function Gfe(t,e,n,s){let r=0,i=e-1;if(n&&!s)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(i+=r);i>r&&t[i%e].skip;)i--;return i%=e,{start:r,end:i}}function Yfe(t,e,n,s){const r=t.length,i=[];let o=e,l=t[e],c;for(c=e+1;c<=n;++c){const d=t[c%r];d.skip||d.stop?l.skip||(s=!1,i.push({start:e%r,end:(c-1)%r,loop:s}),e=o=d.stop?c:null):(o=c,l.skip&&(e=c)),l=d}return o!==null&&i.push({start:e%r,end:o%r,loop:s}),i}function Xfe(t,e){const n=t.points,s=t.options.spanGaps,r=n.length;if(!r)return[];const i=!!t._loop,{start:o,end:l}=Gfe(n,r,i,s);if(s===!0)return _5(t,[{start:o,end:l,loop:i}],n,e);const c=l<o?l+r:l,d=!!t._fullLoop&&o===0&&l===r-1;return _5(t,Yfe(n,o,c,d),n,e)}function _5(t,e,n,s){return!s||!s.setContext||!n?e:Jfe(t,e,n,s)}function Jfe(t,e,n,s){const r=t._chart.getContext(),i=P5(t.options),{_datasetIndex:o,options:{spanGaps:l}}=t,c=n.length,d=[];let u=i,h=e[0].start,f=h;function m(x,p,w,b){const v=l?-1:1;if(x!==p){for(x+=c;n[x%c].skip;)x-=v;for(;n[p%c].skip;)p+=v;x%c!==p%c&&(d.push({start:x%c,end:p%c,loop:w,style:b}),u=b,h=p%c)}}for(const x of e){h=l?h:x.start;let p=n[h%c],w;for(f=h+1;f<=x.end;f++){const b=n[f%c];w=P5(s.setContext(Vc(r,{type:"segment",p0:p,p1:b,p0DataIndex:(f-1)%c,p1DataIndex:f%c,datasetIndex:o}))),Qfe(w,u)&&m(h,f-1,x.loop,u),p=b,u=w}h<f-1&&m(h,f-1,x.loop,u)}return d}function P5(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Qfe(t,e){if(!e)return!1;const n=[],s=function(r,i){return Ij(i)?(n.includes(i)||n.push(i),n.indexOf(i)):i};return JSON.stringify(t,s)!==JSON.stringify(e,s)}function Cp(t,e,n){return t.options.clip?t[n]:e[n]}function Zfe(t,e){const{xScale:n,yScale:s}=t;return n&&s?{left:Cp(n,e,"left"),right:Cp(n,e,"right"),top:Cp(s,e,"top"),bottom:Cp(s,e,"bottom")}:e}function P8(t,e){const n=e._clip;if(n.disabled)return!1;const s=Zfe(e,t.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:s.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class eme{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,s,r){const i=n.listeners[r],o=n.duration;i.forEach(l=>l({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(s-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=f8.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((s,r)=>{if(!s.running||!s.items.length)return;const i=s.items;let o=i.length-1,l=!1,c;for(;o>=0;--o)c=i[o],c._active?(c._total>s.duration&&(s.duration=c._total),c.tick(e),l=!0):(i[o]=i[i.length-1],i.pop());l&&(r.draw(),this._notify(r,s,e,"progress")),i.length||(s.running=!1,this._notify(r,s,e,"complete"),s.initial=!1),n+=i.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let s=n.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,s)),s}listen(e,n,s){this._getAnims(e).listeners[n].push(s)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,r)=>Math.max(s,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const s=n.items;let r=s.length-1;for(;r>=0;--r)s[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Ra=new eme;const I5="transparent",tme={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const s=w5(t||I5),r=s.valid&&w5(e||I5);return r&&r.valid?r.mix(s,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class nme{constructor(e,n,s,r){const i=n[s];r=Sp([e.to,r,i,e.from]);const o=Sp([e.from,i,r]);this._active=!0,this._fn=e.fn||tme[e.type||typeof o],this._easing=tf[e.easing]||tf.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=s,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,s){if(this._active){this._notify(!1);const r=this._target[this._prop],i=s-this._start,o=this._duration-i;this._start=s,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Sp([e.to,n,r,e.from]),this._from=Sp([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,s=this._duration,r=this._prop,i=this._from,o=this._loop,l=this._to;let c;if(this._active=i!==l&&(o||n<s),!this._active){this._target[r]=l,this._notify(!0);return}if(n<0){this._target[r]=i;return}c=n/s%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[r]=this._fn(i,l,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,s)=>{e.push({res:n,rej:s})})}_notify(e){const n=e?"res":"rej",s=this._promises||[];for(let r=0;r<s.length;r++)s[r][n]()}}class I8{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Lt(e))return;const n=Object.keys(Fn.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const i=e[r];if(!Lt(i))return;const o={};for(const l of n)o[l]=i[l];(qn(i.properties)&&i.properties||[r]).forEach(l=>{(l===r||!s.has(l))&&s.set(l,o)})})}_animateOptions(e,n){const s=n.options,r=rme(e,s);if(!r)return[];const i=this._createAnimations(r,s);return s.$shared&&sme(e.options.$animations,s).then(()=>{e.options=s},()=>{}),i}_createAnimations(e,n){const s=this._properties,r=[],i=e.$animations||(e.$animations={}),o=Object.keys(n),l=Date.now();let c;for(c=o.length-1;c>=0;--c){const d=o[c];if(d.charAt(0)==="$")continue;if(d==="options"){r.push(...this._animateOptions(e,n));continue}const u=n[d];let h=i[d];const f=s.get(d);if(h)if(f&&h.active()){h.update(f,u,l);continue}else h.cancel();if(!f||!f.duration){e[d]=u;continue}i[d]=h=new nme(f,e,d,u),r.push(h)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const s=this._createAnimations(e,n);if(s.length)return Ra.add(this._chart,s),!0}}function sme(t,e){const n=[],s=Object.keys(e);for(let r=0;r<s.length;r++){const i=t[s[r]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function rme(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function R5(t,e){const n=t&&t.options||{},s=n.reverse,r=n.min===void 0?e:0,i=n.max===void 0?e:0;return{start:s?i:r,end:s?r:i}}function ime(t,e,n){if(n===!1)return!1;const s=R5(t,n),r=R5(e,n);return{top:r.end,right:s.end,bottom:r.start,left:s.start}}function ame(t){let e,n,s,r;return Lt(t)?(e=t.top,n=t.right,s=t.bottom,r=t.left):e=n=s=r=t,{top:e,right:n,bottom:s,left:r,disabled:t===!1}}function R8(t,e){const n=[],s=t._getSortedDatasetMetas(e);let r,i;for(r=0,i=s.length;r<i;++r)n.push(s[r].index);return n}function M5(t,e,n,s={}){const r=t.keys,i=s.mode==="single";let o,l,c,d;if(e===null)return;let u=!1;for(o=0,l=r.length;o<l;++o){if(c=+r[o],c===n){if(u=!0,s.all)continue;break}d=t.values[c],Rs(d)&&(i||e===0||ga(e)===ga(d))&&(e+=d)}return!u&&!s.all?0:e}function ome(t,e){const{iScale:n,vScale:s}=e,r=n.axis==="x"?"x":"y",i=s.axis==="x"?"x":"y",o=Object.keys(t),l=new Array(o.length);let c,d,u;for(c=0,d=o.length;c<d;++c)u=o[c],l[c]={[r]:u,[i]:t[u]};return l}function lb(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function lme(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function cme(t){const{min:e,max:n,minDefined:s,maxDefined:r}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function dme(t,e,n){const s=t[e]||(t[e]={});return s[n]||(s[n]={})}function D5(t,e,n,s){for(const r of e.getMatchingVisibleMetas(s).reverse()){const i=t[r.index];if(n&&i>0||!n&&i<0)return r.index}return null}function $5(t,e){const{chart:n,_cachedMeta:s}=t,r=n._stacks||(n._stacks={}),{iScale:i,vScale:o,index:l}=s,c=i.axis,d=o.axis,u=lme(i,o,s),h=e.length;let f;for(let m=0;m<h;++m){const x=e[m],{[c]:p,[d]:w}=x,b=x._stacks||(x._stacks={});f=b[d]=dme(r,u,p),f[l]=w,f._top=D5(f,o,!0,s.type),f._bottom=D5(f,o,!1,s.type);const v=f._visualValues||(f._visualValues={});v[l]=w}}function cb(t,e){const n=t.scales;return Object.keys(n).filter(s=>n[s].axis===e).shift()}function ume(t,e){return Vc(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function hme(t,e,n){return Vc(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function ch(t,e){const n=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t._parsed;for(const r of e){const i=r._stacks;if(!i||i[s]===void 0||i[s][n]===void 0)return;delete i[s][n],i[s]._visualValues!==void 0&&i[s]._visualValues[n]!==void 0&&delete i[s]._visualValues[n]}}}const db=t=>t==="reset"||t==="none",O5=(t,e)=>e?t:Object.assign({},t),fme=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:R8(n,!0),values:null};class zd{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=lb(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&ch(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,s=this.getDataset(),r=(h,f,m,x)=>h==="x"?f:h==="r"?x:m,i=n.xAxisID=Ct(s.xAxisID,cb(e,"x")),o=n.yAxisID=Ct(s.yAxisID,cb(e,"y")),l=n.rAxisID=Ct(s.rAxisID,cb(e,"r")),c=n.indexAxis,d=n.iAxisID=r(c,i,o,l),u=n.vAxisID=r(c,o,i,l);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(l),n.iScale=this.getScaleForId(d),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&y5(this._data,this),e._stacked&&ch(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),s=this._data;if(Lt(n)){const r=this._cachedMeta;this._data=ome(n,r)}else if(s!==n){if(s){y5(s,this);const r=this._cachedMeta;ch(r),r._parsed=[]}n&&Object.isExtensible(n)&&Xhe(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,s=this.getDataset();let r=!1;this._dataCheck();const i=n._stacked;n._stacked=lb(n.vScale,n),n.stack!==s.stack&&(r=!0,ch(n),n.stack=s.stack),this._resyncElements(e),(r||i!==n._stacked)&&($5(this,n._parsed),n._stacked=lb(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:s,_data:r}=this,{iScale:i,_stacked:o}=s,l=i.axis;let c=e===0&&n===r.length?!0:s._sorted,d=e>0&&s._parsed[e-1],u,h,f;if(this._parsing===!1)s._parsed=r,s._sorted=!0,f=r;else{qn(r[e])?f=this.parseArrayData(s,r,e,n):Lt(r[e])?f=this.parseObjectData(s,r,e,n):f=this.parsePrimitiveData(s,r,e,n);const m=()=>h[l]===null||d&&h[l]<d[l];for(u=0;u<n;++u)s._parsed[u+e]=h=f[u],c&&(m()&&(c=!1),d=h);s._sorted=c}o&&$5(this,f)}parsePrimitiveData(e,n,s,r){const{iScale:i,vScale:o}=e,l=i.axis,c=o.axis,d=i.getLabels(),u=i===o,h=new Array(r);let f,m,x;for(f=0,m=r;f<m;++f)x=f+s,h[f]={[l]:u||i.parse(d[x],x),[c]:o.parse(n[x],x)};return h}parseArrayData(e,n,s,r){const{xScale:i,yScale:o}=e,l=new Array(r);let c,d,u,h;for(c=0,d=r;c<d;++c)u=c+s,h=n[u],l[c]={x:i.parse(h[0],u),y:o.parse(h[1],u)};return l}parseObjectData(e,n,s,r){const{xScale:i,yScale:o}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=new Array(r);let u,h,f,m;for(u=0,h=r;u<h;++u)f=u+s,m=n[f],d[u]={x:i.parse(hu(m,l),f),y:o.parse(hu(m,c),f)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,s){const r=this.chart,i=this._cachedMeta,o=n[e.axis],l={keys:R8(r,!0),values:n._stacks[e.axis]._visualValues};return M5(l,o,i.index,{mode:s})}updateRangeFromParsed(e,n,s,r){const i=s[n.axis];let o=i===null?NaN:i;const l=r&&s._stacks[n.axis];r&&l&&(r.values=l,o=M5(r,i,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const s=this._cachedMeta,r=s._parsed,i=s._sorted&&e===s.iScale,o=r.length,l=this._getOtherScale(e),c=fme(n,s,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=cme(l);let f,m;function x(){m=r[f];const p=m[l.axis];return!Rs(m[e.axis])||u>p||h<p}for(f=0;f<o&&!(!x()&&(this.updateRangeFromParsed(d,e,m,c),i));++f);if(i){for(f=o-1;f>=0;--f)if(!x()){this.updateRangeFromParsed(d,e,m,c);break}}return d}getAllParsedValues(e){const n=this._cachedMeta._parsed,s=[];let r,i,o;for(r=0,i=n.length;r<i;++r)o=n[r][e.axis],Rs(o)&&s.push(o);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,s=n.iScale,r=n.vScale,i=this.getParsed(e);return{label:s?""+s.getLabelForValue(i[s.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=ame(Ct(this.options.clip,ime(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,s=this._cachedMeta,r=s.data||[],i=n.chartArea,o=[],l=this._drawStart||0,c=this._drawCount||r.length-l,d=this.options.drawActiveElementsOnTop;let u;for(s.dataset&&s.dataset.draw(e,i,l,c),u=l;u<l+c;++u){const h=r[u];h.hidden||(h.active&&d?o.push(h):h.draw(e,i))}for(u=0;u<o.length;++u)o[u].draw(e,i)}getStyle(e,n){const s=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,n,s){const r=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];i=o.$context||(o.$context=hme(this.getContext(),e,o)),i.parsed=this.getParsed(e),i.raw=r.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=ume(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=s,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",s){const r=n==="active",i=this._cachedDataOpts,o=e+"-"+n,l=i[o],c=this.enableOptionSharing&&em(s);if(l)return O5(l,c);const d=this.chart.config,u=d.datasetElementScopeKeys(this._type,e),h=r?[`${e}Hover`,"hover",e,""]:[e,""],f=d.getOptionScopes(this.getDataset(),u),m=Object.keys(Fn.elements[e]),x=()=>this.getContext(s,r,n),p=d.resolveNamedOptions(f,m,x,h);return p.$shared&&(p.$shared=c,i[o]=Object.freeze(O5(p,c))),p}_resolveAnimations(e,n,s){const r=this.chart,i=this._cachedDataOpts,o=`animation-${n}`,l=i[o];if(l)return l;let c;if(r.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,n),f=u.getOptionScopes(this.getDataset(),h);c=u.createResolver(f,this.getContext(e,s,n))}const d=new I8(r,c&&c.animations);return c&&c._cacheable&&(i[o]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||db(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const s=this.resolveDataElementOptions(e,n),r=this._sharedOptions,i=this.getSharedOptions(s),o=this.includeOptions(n,i)||i!==r;return this.updateSharedOptions(i,n,s),{sharedOptions:i,includeOptions:o}}updateElement(e,n,s,r){db(r)?Object.assign(e,s):this._resolveAnimations(n,r).update(e,s)}updateSharedOptions(e,n,s){e&&!db(n)&&this._resolveAnimations(void 0,n).update(e,s)}_setStyle(e,n,s,r){e.active=r;const i=this.getStyle(n,r);this._resolveAnimations(n,s,r).update(e,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(e,n,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,n,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,s=this._cachedMeta.data;for(const[l,c,d]of this._syncList)this[l](c,d);this._syncList=[];const r=s.length,i=n.length,o=Math.min(i,r);o&&this.parse(0,o),i>r?this._insertElements(r,i-r,e):i<r&&this._removeElements(i,r-i)}_insertElements(e,n,s=!0){const r=this._cachedMeta,i=r.data,o=e+n;let l;const c=d=>{for(d.length+=n,l=d.length-1;l>=o;l--)d[l]=d[l-n]};for(c(i),l=e;l<o;++l)i[l]=new this.dataElementType;this._parsing&&c(r._parsed),this.parse(e,n),s&&this.updateElements(i,e,n,"reset")}updateElements(e,n,s,r){}_removeElements(e,n){const s=this._cachedMeta;if(this._parsing){const r=s._parsed.splice(e,n);s._stacked&&ch(s,r)}s.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,s,r]=e;this[n](s,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Ue(zd,"defaults",{}),Ue(zd,"datasetElementType",null),Ue(zd,"dataElementType",null);function mme(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let s=[];for(let r=0,i=n.length;r<i;r++)s=s.concat(n[r].controller.getAllParsedValues(t));t._cache.$bar=h8(s.sort((r,i)=>r-i))}return t._cache.$bar}function pme(t){const e=t.iScale,n=mme(e,t.type);let s=e._length,r,i,o,l;const c=()=>{o===32767||o===-32768||(em(l)&&(s=Math.min(s,Math.abs(o-l)||s)),l=o)};for(r=0,i=n.length;r<i;++r)o=e.getPixelForValue(n[r]),c();for(l=void 0,r=0,i=e.ticks.length;r<i;++r)o=e.getPixelForTick(r),c();return s}function gme(t,e,n,s){const r=n.barThickness;let i,o;return Kt(r)?(i=e.min*n.categoryPercentage,o=n.barPercentage):(i=r*s,o=1),{chunk:i/s,ratio:o,start:e.pixels[t]-i/2}}function xme(t,e,n,s){const r=e.pixels,i=r[t];let o=t>0?r[t-1]:null,l=t<r.length-1?r[t+1]:null;const c=n.categoryPercentage;o===null&&(o=i-(l===null?e.end-e.start:l-i)),l===null&&(l=i+i-o);const d=i-(i-Math.min(o,l))/2*c;return{chunk:Math.abs(l-o)/2*c/s,ratio:n.barPercentage,start:d}}function yme(t,e,n,s){const r=n.parse(t[0],s),i=n.parse(t[1],s),o=Math.min(r,i),l=Math.max(r,i);let c=o,d=l;Math.abs(o)>Math.abs(l)&&(c=l,d=o),e[n.axis]=d,e._custom={barStart:c,barEnd:d,start:r,end:i,min:o,max:l}}function M8(t,e,n,s){return qn(t)?yme(t,e,n,s):e[n.axis]=n.parse(t,s),e}function F5(t,e,n,s){const r=t.iScale,i=t.vScale,o=r.getLabels(),l=r===i,c=[];let d,u,h,f;for(d=n,u=n+s;d<u;++d)f=e[d],h={},h[r.axis]=l||r.parse(o[d],d),c.push(M8(f,h,i,d));return c}function ub(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function vme(t,e,n){return t!==0?ga(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function bme(t){let e,n,s,r,i;return t.horizontal?(e=t.base>t.x,n="left",s="right"):(e=t.base<t.y,n="bottom",s="top"),e?(r="end",i="start"):(r="start",i="end"),{start:n,end:s,reverse:e,top:r,bottom:i}}function wme(t,e,n,s){let r=e.borderSkipped;const i={};if(!r){t.borderSkipped=i;return}if(r===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:l,reverse:c,top:d,bottom:u}=bme(t);r==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===s?r=d:(n._bottom||0)===s?r=u:(i[L5(u,o,l,c)]=!0,r=d)),i[L5(r,o,l,c)]=!0,t.borderSkipped=i}function L5(t,e,n,s){return s?(t=Nme(t,e,n),t=B5(t,n,e)):t=B5(t,e,n),t}function Nme(t,e,n){return t===e?n:t===n?e:t}function B5(t,e,n){return t==="start"?e:t==="end"?n:t}function kme(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Ng extends zd{parsePrimitiveData(e,n,s,r){return F5(e,n,s,r)}parseArrayData(e,n,s,r){return F5(e,n,s,r)}parseObjectData(e,n,s,r){const{iScale:i,vScale:o}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=i.axis==="x"?l:c,u=o.axis==="x"?l:c,h=[];let f,m,x,p;for(f=s,m=s+r;f<m;++f)p=n[f],x={},x[i.axis]=i.parse(hu(p,d),f),h.push(M8(hu(p,u),x,o,f));return h}updateRangeFromParsed(e,n,s,r){super.updateRangeFromParsed(e,n,s,r);const i=s._custom;i&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:s,vScale:r}=n,i=this.getParsed(e),o=i._custom,l=ub(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+s.getLabelForValue(i[s.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,s,r){const i=r==="reset",{index:o,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),d=l.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(n,r);for(let m=n;m<n+s;m++){const x=this.getParsed(m),p=i||Kt(x[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(m),w=this._calculateBarIndexPixels(m,u),b=(x._stacks||{})[l.axis],v={horizontal:d,base:p.base,enableBorderRadius:!b||ub(x._custom)||o===b._top||o===b._bottom,x:d?p.head:w.center,y:d?w.center:p.head,height:d?w.size:Math.abs(p.size),width:d?Math.abs(p.size):w.size};f&&(v.options=h||this.resolveDataElementOptions(m,e[m].active?"active":r));const N=v.options||e[m].options;wme(v,N,b,o),kme(v,N,u.ratio),this.updateElement(e[m],m,v,r)}}_getStacks(e,n){const{iScale:s}=this._cachedMeta,r=s.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),i=s.options.stacked,o=[],l=this._cachedMeta.controller.getParsed(n),c=l&&l[s.axis],d=u=>{const h=u._parsed.find(m=>m[s.axis]===c),f=h&&h[u.vScale.axis];if(Kt(f)||isNaN(f))return!0};for(const u of r)if(!(n!==void 0&&d(u))&&((i===!1||o.indexOf(u.stack)===-1||i===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(s=>e[s].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)e[Ct(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,s){const r=this._getStacks(e,s),i=n!==void 0?r.indexOf(n):-1;return i===-1?r.length-1:i}_getRuler(){const e=this.options,n=this._cachedMeta,s=n.iScale,r=[];let i,o;for(i=0,o=n.data.length;i<o;++i)r.push(s.getPixelForValue(this.getParsed(i)[s.axis],i));const l=e.barThickness;return{min:l||pme(n),pixels:r,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:s,index:r},options:{base:i,minBarLength:o}}=this,l=i||0,c=this.getParsed(e),d=c._custom,u=ub(d);let h=c[n.axis],f=0,m=s?this.applyStack(n,c,s):h,x,p;m!==h&&(f=m-h,m=h),u&&(h=d.barStart,m=d.barEnd-d.barStart,h!==0&&ga(h)!==ga(d.barEnd)&&(f=0),f+=h);const w=!Kt(i)&&!u?i:f;let b=n.getPixelForValue(w);if(this.chart.getDataVisibility(e)?x=n.getPixelForValue(f+m):x=b,p=x-b,Math.abs(p)<o){p=vme(p,n,l)*o,h===l&&(b-=p/2);const v=n.getPixelForDecimal(0),N=n.getPixelForDecimal(1),E=Math.min(v,N),T=Math.max(v,N);b=Math.max(Math.min(b,T),E),x=b+p,s&&!u&&(c._stacks[n.axis]._visualValues[r]=n.getValueForPixel(x)-n.getValueForPixel(b))}if(b===n.getPixelForValue(l)){const v=ga(p)*n.getLineWidthForValue(l)/2;b+=v,p-=v}return{size:p,base:b,head:x,center:x+p/2}}_calculateBarIndexPixels(e,n){const s=n.scale,r=this.options,i=r.skipNull,o=Ct(r.maxBarThickness,1/0);let l,c;const d=this._getAxisCount();if(n.grouped){const u=i?this._getStackCount(e):n.stackCount,h=r.barThickness==="flex"?xme(e,n,r,u*d):gme(e,n,r,u*d),f=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,m=this._getAxis().indexOf(Ct(f,this.getFirstScaleIdForIndexAxis())),x=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+m;l=h.start+h.chunk*x+h.chunk/2,c=Math.min(o,h.chunk*h.ratio)}else l=s.getPixelForValue(this.getParsed(e)[s.axis],e),c=Math.min(o,n.min*n.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const e=this._cachedMeta,n=e.vScale,s=e.data,r=s.length;let i=0;for(;i<r;++i)this.getParsed(i)[n.axis]!==null&&!s[i].hidden&&s[i].draw(this._ctx)}}Ue(Ng,"id","bar"),Ue(Ng,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Ue(Ng,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class kg extends zd{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:s,data:r=[],_dataset:i}=n,o=this.chart._animationsDisabled;let{start:l,count:c}=Zhe(n,r,o);this._drawStart=l,this._drawCount=c,efe(n)&&(l=0,c=r.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!i._decimated,s.points=r;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(s,void 0,{animated:!o,options:d},e),this.updateElements(r,l,c,e)}updateElements(e,n,s,r){const i=r==="reset",{iScale:o,vScale:l,_stacked:c,_dataset:d}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(n,r),f=o.axis,m=l.axis,{spanGaps:x,segment:p}=this.options,w=tm(x)?x:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||i||r==="none",v=n+s,N=e.length;let E=n>0&&this.getParsed(n-1);for(let T=0;T<N;++T){const R=e[T],$=b?R:{};if(T<n||T>=v){$.skip=!0;continue}const M=this.getParsed(T),L=Kt(M[m]),U=$[f]=o.getPixelForValue(M[f],T),z=$[m]=i||L?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,M,c):M[m],T);$.skip=isNaN(U)||isNaN(z)||L,$.stop=T>0&&Math.abs(M[f]-E[f])>w,p&&($.parsed=M,$.raw=d.data[T]),h&&($.options=u||this.resolveDataElementOptions(T,R.active?"active":r)),b||this.updateElement(R,T,$,r),E=M}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,s=n.options&&n.options.borderWidth||0,r=e.data||[];if(!r.length)return s;const i=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(s,i,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Ue(kg,"id","line"),Ue(kg,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Ue(kg,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Il(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Fj{constructor(e){Ue(this,"options");this.options=e||{}}static override(e){Object.assign(Fj.prototype,e)}init(){}formats(){return Il()}parse(){return Il()}format(){return Il()}add(){return Il()}diff(){return Il()}startOf(){return Il()}endOf(){return Il()}}var jme={_date:Fj};function Sme(t,e,n,s){const{controller:r,data:i,_sorted:o}=t,l=r._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&o&&i.length){const d=l._reversePixels?Ghe:ec;if(s){if(r._sharedOptions){const u=i[0],h=typeof u.getRange=="function"&&u.getRange(e);if(h){const f=d(i,e,n-h),m=d(i,e,n+h);return{lo:f.lo,hi:m.hi}}}}else{const u=d(i,e,n);if(c){const{vScale:h}=r._cachedMeta,{_parsed:f}=t,m=f.slice(0,u.lo+1).reverse().findIndex(p=>!Kt(p[h.axis]));u.lo-=Math.max(0,m);const x=f.slice(u.hi).findIndex(p=>!Kt(p[h.axis]));u.hi+=Math.max(0,x)}return u}}return{lo:0,hi:i.length-1}}function Mm(t,e,n,s,r){const i=t.getSortedVisibleDatasetMetas(),o=n[e];for(let l=0,c=i.length;l<c;++l){const{index:d,data:u}=i[l],{lo:h,hi:f}=Sme(i[l],e,o,r);for(let m=h;m<=f;++m){const x=u[m];x.skip||s(x,d,m)}}}function Ame(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(s,r){const i=e?Math.abs(s.x-r.x):0,o=n?Math.abs(s.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function hb(t,e,n,s,r){const i=[];return!r&&!t.isPointInArea(e)||Mm(t,n,e,function(l,c,d){!r&&!nm(l,t.chartArea,0)||l.inRange(e.x,e.y,s)&&i.push({element:l,datasetIndex:c,index:d})},!0),i}function Tme(t,e,n,s){let r=[];function i(o,l,c){const{startAngle:d,endAngle:u}=o.getProps(["startAngle","endAngle"],s),{angle:h}=Whe(o,{x:e.x,y:e.y});d8(h,d,u)&&r.push({element:o,datasetIndex:l,index:c})}return Mm(t,n,e,i),r}function Cme(t,e,n,s,r,i){let o=[];const l=Ame(n);let c=Number.POSITIVE_INFINITY;function d(u,h,f){const m=u.inRange(e.x,e.y,r);if(s&&!m)return;const x=u.getCenterPoint(r);if(!(!!i||t.isPointInArea(x))&&!m)return;const w=l(e,x);w<c?(o=[{element:u,datasetIndex:h,index:f}],c=w):w===c&&o.push({element:u,datasetIndex:h,index:f})}return Mm(t,n,e,d),o}function fb(t,e,n,s,r,i){return!i&&!t.isPointInArea(e)?[]:n==="r"&&!s?Tme(t,e,n,r):Cme(t,e,n,s,r,i)}function U5(t,e,n,s,r){const i=[],o=n==="x"?"inXRange":"inYRange";let l=!1;return Mm(t,n,e,(c,d,u)=>{c[o]&&c[o](e[n],r)&&(i.push({element:c,datasetIndex:d,index:u}),l=l||c.inRange(e.x,e.y,r))}),s&&!l?[]:i}var Eme={evaluateInteractionItems:Mm,modes:{index(t,e,n,s){const r=Ll(e,t),i=n.axis||"x",o=n.includeInvisible||!1,l=n.intersect?hb(t,r,i,s,o):fb(t,r,i,!1,s,o),c=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(d=>{const u=l[0].index,h=d.data[u];h&&!h.skip&&c.push({element:h,datasetIndex:d.index,index:u})}),c):[]},dataset(t,e,n,s){const r=Ll(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;let l=n.intersect?hb(t,r,i,s,o):fb(t,r,i,!1,s,o);if(l.length>0){const c=l[0].datasetIndex,d=t.getDatasetMeta(c).data;l=[];for(let u=0;u<d.length;++u)l.push({element:d[u],datasetIndex:c,index:u})}return l},point(t,e,n,s){const r=Ll(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;return hb(t,r,i,s,o)},nearest(t,e,n,s){const r=Ll(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;return fb(t,r,i,n.intersect,s,o)},x(t,e,n,s){const r=Ll(e,t);return U5(t,r,"x",n.intersect,s)},y(t,e,n,s){const r=Ll(e,t);return U5(t,r,"y",n.intersect,s)}}};const D8=["left","top","right","bottom"];function dh(t,e){return t.filter(n=>n.pos===e)}function V5(t,e){return t.filter(n=>D8.indexOf(n.pos)===-1&&n.box.axis===e)}function uh(t,e){return t.sort((n,s)=>{const r=e?s:n,i=e?n:s;return r.weight===i.weight?r.index-i.index:r.weight-i.weight})}function _me(t){const e=[];let n,s,r,i,o,l;for(n=0,s=(t||[]).length;n<s;++n)r=t[n],{position:i,options:{stack:o,stackWeight:l=1}}=r,e.push({index:n,box:r,pos:i,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&i+o,stackWeight:l});return e}function Pme(t){const e={};for(const n of t){const{stack:s,pos:r,stackWeight:i}=n;if(!s||!D8.includes(r))continue;const o=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}function Ime(t,e){const n=Pme(t),{vBoxMaxWidth:s,hBoxMaxHeight:r}=e;let i,o,l;for(i=0,o=t.length;i<o;++i){l=t[i];const{fullSize:c}=l.box,d=n[l.stack],u=d&&l.stackWeight/d.weight;l.horizontal?(l.width=u?u*s:c&&e.availableWidth,l.height=r):(l.width=s,l.height=u?u*r:c&&e.availableHeight)}return n}function Rme(t){const e=_me(t),n=uh(e.filter(d=>d.box.fullSize),!0),s=uh(dh(e,"left"),!0),r=uh(dh(e,"right")),i=uh(dh(e,"top"),!0),o=uh(dh(e,"bottom")),l=V5(e,"x"),c=V5(e,"y");return{fullSize:n,leftAndTop:s.concat(i),rightAndBottom:r.concat(c).concat(o).concat(l),chartArea:dh(e,"chartArea"),vertical:s.concat(r).concat(c),horizontal:i.concat(o).concat(l)}}function z5(t,e,n,s){return Math.max(t[n],e[n])+Math.max(t[s],e[s])}function $8(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Mme(t,e,n,s){const{pos:r,box:i}=n,o=t.maxPadding;if(!Lt(r)){n.size&&(t[r]-=n.size);const h=s[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?i.height:i.width),n.size=h.size/h.count,t[r]+=n.size}i.getPadding&&$8(o,i.getPadding());const l=Math.max(0,e.outerWidth-z5(o,t,"left","right")),c=Math.max(0,e.outerHeight-z5(o,t,"top","bottom")),d=l!==t.w,u=c!==t.h;return t.w=l,t.h=c,n.horizontal?{same:d,other:u}:{same:u,other:d}}function Dme(t){const e=t.maxPadding;function n(s){const r=Math.max(e[s]-t[s],0);return t[s]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function $me(t,e){const n=e.maxPadding;function s(r){const i={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{i[o]=Math.max(e[o],n[o])}),i}return s(t?["left","right"]:["top","bottom"])}function jh(t,e,n,s){const r=[];let i,o,l,c,d,u;for(i=0,o=t.length,d=0;i<o;++i){l=t[i],c=l.box,c.update(l.width||e.w,l.height||e.h,$me(l.horizontal,e));const{same:h,other:f}=Mme(e,n,l,s);d|=h&&r.length,u=u||f,c.fullSize||r.push(l)}return d&&jh(r,e,n,s)||u}function Ep(t,e,n,s,r){t.top=n,t.left=e,t.right=e+s,t.bottom=n+r,t.width=s,t.height=r}function H5(t,e,n,s){const r=n.padding;let{x:i,y:o}=e;for(const l of t){const c=l.box,d=s[l.stack]||{count:1,placed:0,weight:1},u=l.stackWeight/d.weight||1;if(l.horizontal){const h=e.w*u,f=d.size||c.height;em(d.start)&&(o=d.start),c.fullSize?Ep(c,r.left,o,n.outerWidth-r.right-r.left,f):Ep(c,e.left+d.placed,o,h,f),d.start=o,d.placed+=h,o=c.bottom}else{const h=e.h*u,f=d.size||c.width;em(d.start)&&(i=d.start),c.fullSize?Ep(c,i,r.top,f,n.outerHeight-r.bottom-r.top):Ep(c,i,e.top+d.placed,f,h),d.start=i,d.placed+=h,i=c.right}}e.x=i,e.y=o}var Xr={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,s){if(!t)return;const r=ii(t.options.layout.padding),i=Math.max(e-r.width,0),o=Math.max(n-r.height,0),l=Rme(t.boxes),c=l.vertical,d=l.horizontal;Yt(t.boxes,p=>{typeof p.beforeLayout=="function"&&p.beforeLayout()});const u=c.reduce((p,w)=>w.box.options&&w.box.options.display===!1?p:p+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},r);$8(f,ii(s));const m=Object.assign({maxPadding:f,w:i,h:o,x:r.left,y:r.top},r),x=Ime(c.concat(d),h);jh(l.fullSize,m,h,x),jh(c,m,h,x),jh(d,m,h,x)&&jh(c,m,h,x),Dme(m),H5(l.leftAndTop,m,h,x),m.x+=m.w,m.y+=m.h,H5(l.rightAndBottom,m,h,x),t.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},Yt(l.chartArea,p=>{const w=p.box;Object.assign(w,t.chartArea),w.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class O8{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,s){}removeEventListener(e,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,s,r){return n=Math.max(0,n||e.width),s=s||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):s)}}isAttached(e){return!0}updateConfig(e){}}class Ome extends O8{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const jg="$chartjs",Fme={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},W5=t=>t===null||t==="";function Lme(t,e){const n=t.style,s=t.getAttribute("height"),r=t.getAttribute("width");if(t[jg]={initial:{height:s,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",W5(r)){const i=C5(t,"width");i!==void 0&&(t.width=i)}if(W5(s))if(t.style.height==="")t.height=t.width/(e||2);else{const i=C5(t,"height");i!==void 0&&(t.height=i)}return t}const F8=Vfe?{passive:!0}:!1;function Bme(t,e,n){t&&t.addEventListener(e,n,F8)}function Ume(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,F8)}function Vme(t,e){const n=Fme[t.type]||t.type,{x:s,y:r}=Ll(t,e);return{type:n,chart:e,native:t,x:s!==void 0?s:null,y:r!==void 0?r:null}}function U0(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function zme(t,e,n){const s=t.canvas,r=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||U0(l.addedNodes,s),o=o&&!U0(l.removedNodes,s);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function Hme(t,e,n){const s=t.canvas,r=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||U0(l.removedNodes,s),o=o&&!U0(l.addedNodes,s);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const rm=new Map;let q5=0;function L8(){const t=window.devicePixelRatio;t!==q5&&(q5=t,rm.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function Wme(t,e){rm.size||window.addEventListener("resize",L8),rm.set(t,e)}function qme(t){rm.delete(t),rm.size||window.removeEventListener("resize",L8)}function Kme(t,e,n){const s=t.canvas,r=s&&Oj(s);if(!r)return;const i=m8((l,c)=>{const d=r.clientWidth;n(l,c),d<r.clientWidth&&n()},window),o=new ResizeObserver(l=>{const c=l[0],d=c.contentRect.width,u=c.contentRect.height;d===0&&u===0||i(d,u)});return o.observe(r),Wme(t,i),o}function mb(t,e,n){n&&n.disconnect(),e==="resize"&&qme(t)}function Gme(t,e,n){const s=t.canvas,r=m8(i=>{t.ctx!==null&&n(Vme(i,t))},t);return Bme(s,e,r),r}class Yme extends O8{acquireContext(e,n){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(Lme(e,n),s):null}releaseContext(e){const n=e.canvas;if(!n[jg])return!1;const s=n[jg].initial;["height","width"].forEach(i=>{const o=s[i];Kt(o)?n.removeAttribute(i):n.setAttribute(i,o)});const r=s.style||{};return Object.keys(r).forEach(i=>{n.style[i]=r[i]}),n.width=n.width,delete n[jg],!0}addEventListener(e,n,s){this.removeEventListener(e,n);const r=e.$proxies||(e.$proxies={}),o={attach:zme,detach:Hme,resize:Kme}[n]||Gme;r[n]=o(e,n,s)}removeEventListener(e,n){const s=e.$proxies||(e.$proxies={}),r=s[n];if(!r)return;({attach:mb,detach:mb,resize:mb}[n]||Ume)(e,n,r),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,s,r){return Ufe(e,n,s,r)}isAttached(e){const n=e&&Oj(e);return!!(n&&n.isConnected)}}function Xme(t){return!$j()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?Ome:Yme}var Dp;let Sl=(Dp=class{constructor(){Ue(this,"x");Ue(this,"y");Ue(this,"active",!1);Ue(this,"options");Ue(this,"$animations")}tooltipPosition(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}hasValue(){return tm(this.x)&&tm(this.y)}getProps(e,n){const s=this.$animations;if(!n||!s)return this;const r={};return e.forEach(i=>{r[i]=s[i]&&s[i].active()?s[i]._to:this[i]}),r}},Ue(Dp,"defaults",{}),Ue(Dp,"defaultRoutes"),Dp);function Jme(t,e){const n=t.options.ticks,s=Qme(t),r=Math.min(n.maxTicksLimit||s,s),i=n.major.enabled?epe(e):[],o=i.length,l=i[0],c=i[o-1],d=[];if(o>r)return tpe(e,d,i,o/r),d;const u=Zme(i,e,r);if(o>0){let h,f;const m=o>1?Math.round((c-l)/(o-1)):null;for(_p(e,d,u,Kt(m)?0:l-m,l),h=0,f=o-1;h<f;h++)_p(e,d,u,i[h],i[h+1]);return _p(e,d,u,c,Kt(m)?e.length:c+m),d}return _p(e,d,u),d}function Qme(t){const e=t.options.offset,n=t._tickSize(),s=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(s,r))}function Zme(t,e,n){const s=npe(t),r=e.length/n;if(!s)return Math.max(r,1);const i=Bhe(s);for(let o=0,l=i.length-1;o<l;o++){const c=i[o];if(c>r)return c}return Math.max(r,1)}function epe(t){const e=[];let n,s;for(n=0,s=t.length;n<s;n++)t[n].major&&e.push(n);return e}function tpe(t,e,n,s){let r=0,i=n[0],o;for(s=Math.ceil(s),o=0;o<t.length;o++)o===i&&(e.push(t[o]),r++,i=n[r*s])}function _p(t,e,n,s,r){const i=Ct(s,0),o=Math.min(Ct(r,t.length),t.length);let l=0,c,d,u;for(n=Math.ceil(n),r&&(c=r-s,n=c/Math.floor(c/n)),u=i;u<0;)l++,u=Math.round(i+l*n);for(d=Math.max(i,0);d<o;d++)d===u&&(e.push(t[d]),l++,u=Math.round(i+l*n))}function npe(t){const e=t.length;let n,s;if(e<2)return!1;for(s=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==s)return!1;return s}const spe=t=>t==="left"?"right":t==="right"?"left":t,K5=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,G5=(t,e)=>Math.min(e||t,t);function Y5(t,e){const n=[],s=t.length/e,r=t.length;let i=0;for(;i<r;i+=s)n.push(t[Math.floor(i)]);return n}function rpe(t,e,n){const s=t.ticks.length,r=Math.min(e,s-1),i=t._startPixel,o=t._endPixel,l=1e-6;let c=t.getPixelForTick(r),d;if(!(n&&(s===1?d=Math.max(c-i,o-c):e===0?d=(t.getPixelForTick(1)-c)/2:d=(c-t.getPixelForTick(r-1))/2,c+=r<e?d:-d,c<i-l||c>o+l)))return c}function ipe(t,e){Yt(t,n=>{const s=n.gc,r=s.length/2;let i;if(r>e){for(i=0;i<r;++i)delete n.data[s[i]];s.splice(0,r)}})}function hh(t){return t.drawTicks?t.tickLength:0}function X5(t,e){if(!t.display)return 0;const n=_s(t.font,e),s=ii(t.padding);return(qn(t.text)?t.text.length:1)*n.lineHeight+s.height}function ape(t,e){return Vc(t,{scale:e,type:"scale"})}function ope(t,e,n){return Vc(t,{tick:n,index:e,type:"tick"})}function lpe(t,e,n){let s=Pj(t);return(n&&e!=="right"||!n&&e==="right")&&(s=spe(s)),s}function cpe(t,e,n,s){const{top:r,left:i,bottom:o,right:l,chart:c}=t,{chartArea:d,scales:u}=c;let h=0,f,m,x;const p=o-r,w=l-i;if(t.isHorizontal()){if(m=bs(s,i,l),Lt(n)){const b=Object.keys(n)[0],v=n[b];x=u[b].getPixelForValue(v)+p-e}else n==="center"?x=(d.bottom+d.top)/2+p-e:x=K5(t,n,e);f=l-i}else{if(Lt(n)){const b=Object.keys(n)[0],v=n[b];m=u[b].getPixelForValue(v)-w+e}else n==="center"?m=(d.left+d.right)/2-w+e:m=K5(t,n,e);x=bs(s,o,r),h=n==="left"?-Ti:Ti}return{titleX:m,titleY:x,maxWidth:f,rotation:h}}class Uu extends Sl{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:s,_suggestedMax:r}=this;return e=Ui(e,Number.POSITIVE_INFINITY),n=Ui(n,Number.NEGATIVE_INFINITY),s=Ui(s,Number.POSITIVE_INFINITY),r=Ui(r,Number.NEGATIVE_INFINITY),{min:Ui(e,s),max:Ui(n,r),minDefined:Rs(e),maxDefined:Rs(n)}}getMinMax(e){let{min:n,max:s,minDefined:r,maxDefined:i}=this.getUserBounds(),o;if(r&&i)return{min:n,max:s};const l=this.getMatchingVisibleMetas();for(let c=0,d=l.length;c<d;++c)o=l[c].controller.getMinMax(this,e),r||(n=Math.min(n,o.min)),i||(s=Math.max(s,o.max));return n=i&&n>s?s:n,s=r&&n>s?n:s,{min:Ui(n,Ui(s,n)),max:Ui(s,Ui(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){un(this.options.beforeUpdate,[this])}update(e,n,s){const{beginAtZero:r,grace:i,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=vfe(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?Y5(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=Jme(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,e=!e),this._startPixel=n,this._endPixel=s,this._reversePixels=e,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){un(this.options.afterUpdate,[this])}beforeSetDimensions(){un(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){un(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),un(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){un(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let s,r,i;for(s=0,r=e.length;s<r;s++)i=e[s],i.label=un(n.callback,[i.value,s,e],this)}afterTickToLabelConversion(){un(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){un(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,s=G5(this.ticks.length,e.ticks.maxTicksLimit),r=n.minRotation||0,i=n.maxRotation;let o=r,l,c,d;if(!this._isVisible()||!n.display||r>=i||s<=1||!this.isHorizontal()){this.labelRotation=r;return}const u=this._getLabelSizes(),h=u.widest.width,f=u.highest.height,m=Cr(this.chart.width-h,0,this.maxWidth);l=e.offset?this.maxWidth/s:m/(s-1),h+6>l&&(l=m/(s-(e.offset?.5:1)),c=this.maxHeight-hh(e.grid)-n.padding-X5(e.title,this.chart.options.font),d=Math.sqrt(h*h+f*f),o=Hhe(Math.min(Math.asin(Cr((u.highest.height+6)/l,-1,1)),Math.asin(Cr(c/d,-1,1))-Math.asin(Cr(f/d,-1,1)))),o=Math.max(r,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){un(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){un(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:s,title:r,grid:i}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const c=X5(r,n.options.font);if(l?(e.width=this.maxWidth,e.height=hh(i)+c):(e.height=this.maxHeight,e.width=hh(i)+c),s.display&&this.ticks.length){const{first:d,last:u,widest:h,highest:f}=this._getLabelSizes(),m=s.padding*2,x=Zl(this.labelRotation),p=Math.cos(x),w=Math.sin(x);if(l){const b=s.mirror?0:w*h.width+p*f.height;e.height=Math.min(this.maxHeight,e.height+b+m)}else{const b=s.mirror?0:p*h.width+w*f.height;e.width=Math.min(this.maxWidth,e.width+b+m)}this._calculatePadding(d,u,w,p)}}this._handleMargins(),l?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,s,r){const{ticks:{align:i,padding:o},position:l}=this.options,c=this.labelRotation!==0,d=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,m=0;c?d?(f=r*e.width,m=s*n.height):(f=s*e.height,m=r*n.width):i==="start"?m=n.width:i==="end"?f=e.width:i!=="inner"&&(f=e.width/2,m=n.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((m-h+o)*this.width/(this.width-h),0)}else{let u=n.height/2,h=e.height/2;i==="start"?(u=0,h=e.height):i==="end"&&(u=n.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){un(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,s;for(n=0,s=e.length;n<s;n++)Kt(e[n].label)&&(e.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=Y5(s,n)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,s){const{ctx:r,_longestTextCache:i}=this,o=[],l=[],c=Math.floor(n/G5(n,s));let d=0,u=0,h,f,m,x,p,w,b,v,N,E,T;for(h=0;h<n;h+=c){if(x=e[h].label,p=this._resolveTickFontOptions(h),r.font=w=p.string,b=i[w]=i[w]||{data:{},gc:[]},v=p.lineHeight,N=E=0,!Kt(x)&&!qn(x))N=k5(r,b.data,b.gc,N,x),E=v;else if(qn(x))for(f=0,m=x.length;f<m;++f)T=x[f],!Kt(T)&&!qn(T)&&(N=k5(r,b.data,b.gc,N,T),E+=v);o.push(N),l.push(E),d=Math.max(N,d),u=Math.max(E,u)}ipe(i,n);const R=o.indexOf(d),$=l.indexOf(u),M=L=>({width:o[L]||0,height:l[L]||0});return{first:M(0),last:M(n-1),widest:M(R),highest:M($),widths:o,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return Khe(this._alignToPixels?Pl(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const s=n[e];return s.$context||(s.$context=ope(this.getContext(),e,s))}return this.$context||(this.$context=ape(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Zl(this.labelRotation),s=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),i=this._getLabelSizes(),o=e.autoSkipPadding||0,l=i?i.widest.width+o:0,c=i?i.highest.height+o:0;return this.isHorizontal()?c*s>l*r?l/s:c/r:c*r<l*s?c/s:l/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,s=this.chart,r=this.options,{grid:i,position:o,border:l}=r,c=i.offset,d=this.isHorizontal(),h=this.ticks.length+(c?1:0),f=hh(i),m=[],x=l.setContext(this.getContext()),p=x.display?x.width:0,w=p/2,b=function(C){return Pl(s,C,p)};let v,N,E,T,R,$,M,L,U,z,B,D;if(o==="top")v=b(this.bottom),$=this.bottom-f,L=v-w,z=b(e.top)+w,D=e.bottom;else if(o==="bottom")v=b(this.top),z=e.top,D=b(e.bottom)-w,$=v+w,L=this.top+f;else if(o==="left")v=b(this.right),R=this.right-f,M=v-w,U=b(e.left)+w,B=e.right;else if(o==="right")v=b(this.left),U=e.left,B=b(e.right)-w,R=v+w,M=this.left+f;else if(n==="x"){if(o==="center")v=b((e.top+e.bottom)/2+.5);else if(Lt(o)){const C=Object.keys(o)[0],P=o[C];v=b(this.chart.scales[C].getPixelForValue(P))}z=e.top,D=e.bottom,$=v+w,L=$+f}else if(n==="y"){if(o==="center")v=b((e.left+e.right)/2);else if(Lt(o)){const C=Object.keys(o)[0],P=o[C];v=b(this.chart.scales[C].getPixelForValue(P))}R=v-w,M=R-f,U=e.left,B=e.right}const g=Ct(r.ticks.maxTicksLimit,h),j=Math.max(1,Math.ceil(h/g));for(N=0;N<h;N+=j){const C=this.getContext(N),P=i.setContext(C),S=l.setContext(C),A=P.lineWidth,F=P.color,_=S.dash||[],k=S.dashOffset,O=P.tickWidth,q=P.tickColor,I=P.tickBorderDash||[],V=P.tickBorderDashOffset;E=rpe(this,N,c),E!==void 0&&(T=Pl(s,E,A),d?R=M=U=B=T:$=L=z=D=T,m.push({tx1:R,ty1:$,tx2:M,ty2:L,x1:U,y1:z,x2:B,y2:D,width:A,color:F,borderDash:_,borderDashOffset:k,tickWidth:O,tickColor:q,tickBorderDash:I,tickBorderDashOffset:V}))}return this._ticksLength=h,this._borderValue=v,m}_computeLabelItems(e){const n=this.axis,s=this.options,{position:r,ticks:i}=s,o=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:d,padding:u,mirror:h}=i,f=hh(s.grid),m=f+u,x=h?-u:m,p=-Zl(this.labelRotation),w=[];let b,v,N,E,T,R,$,M,L,U,z,B,D="middle";if(r==="top")R=this.bottom-x,$=this._getXAxisLabelAlignment();else if(r==="bottom")R=this.top+x,$=this._getXAxisLabelAlignment();else if(r==="left"){const j=this._getYAxisLabelAlignment(f);$=j.textAlign,T=j.x}else if(r==="right"){const j=this._getYAxisLabelAlignment(f);$=j.textAlign,T=j.x}else if(n==="x"){if(r==="center")R=(e.top+e.bottom)/2+m;else if(Lt(r)){const j=Object.keys(r)[0],C=r[j];R=this.chart.scales[j].getPixelForValue(C)+m}$=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")T=(e.left+e.right)/2-m;else if(Lt(r)){const j=Object.keys(r)[0],C=r[j];T=this.chart.scales[j].getPixelForValue(C)}$=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(c==="start"?D="top":c==="end"&&(D="bottom"));const g=this._getLabelSizes();for(b=0,v=l.length;b<v;++b){N=l[b],E=N.label;const j=i.setContext(this.getContext(b));M=this.getPixelForTick(b)+i.labelOffset,L=this._resolveTickFontOptions(b),U=L.lineHeight,z=qn(E)?E.length:1;const C=z/2,P=j.color,S=j.textStrokeColor,A=j.textStrokeWidth;let F=$;o?(T=M,$==="inner"&&(b===v-1?F=this.options.reverse?"left":"right":b===0?F=this.options.reverse?"right":"left":F="center"),r==="top"?d==="near"||p!==0?B=-z*U+U/2:d==="center"?B=-g.highest.height/2-C*U+U:B=-g.highest.height+U/2:d==="near"||p!==0?B=U/2:d==="center"?B=g.highest.height/2-C*U:B=g.highest.height-z*U,h&&(B*=-1),p!==0&&!j.showLabelBackdrop&&(T+=U/2*Math.sin(p))):(R=M,B=(1-z)*U/2);let _;if(j.showLabelBackdrop){const k=ii(j.backdropPadding),O=g.heights[b],q=g.widths[b];let I=B-k.top,V=0-k.left;switch(D){case"middle":I-=O/2;break;case"bottom":I-=O;break}switch($){case"center":V-=q/2;break;case"right":V-=q;break;case"inner":b===v-1?V-=q:b>0&&(V-=q/2);break}_={left:V,top:I,width:q+k.width,height:O+k.height,color:j.backdropColor}}w.push({label:E,font:L,textOffset:B,options:{rotation:p,color:P,strokeColor:S,strokeWidth:A,textAlign:F,textBaseline:D,translation:[T,R],backdrop:_}})}return w}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Zl(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:s,mirror:r,padding:i}}=this.options,o=this._getLabelSizes(),l=e+i,c=o.widest.width;let d,u;return n==="left"?r?(u=this.right+i,s==="near"?d="left":s==="center"?(d="center",u+=c/2):(d="right",u+=c)):(u=this.right-l,s==="near"?d="right":s==="center"?(d="center",u-=c/2):(d="left",u=this.left)):n==="right"?r?(u=this.left+i,s==="near"?d="right":s==="center"?(d="center",u-=c/2):(d="left",u-=c)):(u=this.left+l,s==="near"?d="left":s==="center"?(d="center",u+=c/2):(d="right",u=this.right)):d="right",{textAlign:d,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:s,top:r,width:i,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(s,r,i,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(i=>i.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const n=this.options.grid,s=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,o;const l=(c,d,u)=>{!u.width||!u.color||(s.save(),s.lineWidth=u.width,s.strokeStyle=u.color,s.setLineDash(u.borderDash||[]),s.lineDashOffset=u.borderDashOffset,s.beginPath(),s.moveTo(c.x,c.y),s.lineTo(d.x,d.y),s.stroke(),s.restore())};if(n.display)for(i=0,o=r.length;i<o;++i){const c=r[i];n.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),n.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:s,grid:r}}=this,i=s.setContext(this.getContext()),o=s.display?i.width:0;if(!o)return;const l=r.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let d,u,h,f;this.isHorizontal()?(d=Pl(e,this.left,o)-o/2,u=Pl(e,this.right,l)+l/2,h=f=c):(h=Pl(e,this.top,o)-o/2,f=Pl(e,this.bottom,l)+l/2,d=u=c),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(d,h),n.lineTo(u,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,r=this._computeLabelArea();r&&ny(s,r);const i=this.getLabelItems(e);for(const o of i){const l=o.options,c=o.font,d=o.label,u=o.textOffset;sm(s,d,0,u,c,l)}r&&sy(s)}drawTitle(){const{ctx:e,options:{position:n,title:s,reverse:r}}=this;if(!s.display)return;const i=_s(s.font),o=ii(s.padding),l=s.align;let c=i.lineHeight/2;n==="bottom"||n==="center"||Lt(n)?(c+=o.bottom,qn(s.text)&&(c+=i.lineHeight*(s.text.length-1))):c+=o.top;const{titleX:d,titleY:u,maxWidth:h,rotation:f}=cpe(this,c,n,l);sm(e,s.text,0,0,i,{color:s.color,maxWidth:h,rotation:f,textAlign:lpe(l,n,r),textBaseline:"middle",translation:[d,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,s=Ct(e.grid&&e.grid.z,-1),r=Ct(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Uu.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:s,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",r=[];let i,o;for(i=0,o=n.length;i<o;++i){const l=n[i];l[s]===this.id&&(!e||l.type===e)&&r.push(l)}return r}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return _s(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Pp{constructor(e,n,s){this.type=e,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let s;hpe(n)&&(s=this.register(n));const r=this.items,i=e.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in r||(r[i]=e,dpe(e,o,s),this.override&&Fn.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,s=e.id,r=this.scope;s in n&&delete n[s],r&&s in Fn[r]&&(delete Fn[r][s],this.override&&delete Mc[s])}}function dpe(t,e,n){const s=Zf(Object.create(null),[n?Fn.get(n):{},Fn.get(e),t.defaults]);Fn.set(e,s),t.defaultRoutes&&upe(e,t.defaultRoutes),t.descriptors&&Fn.describe(e,t.descriptors)}function upe(t,e){Object.keys(e).forEach(n=>{const s=n.split("."),r=s.pop(),i=[t].concat(s).join("."),o=e[n].split("."),l=o.pop(),c=o.join(".");Fn.route(i,r,c,l)})}function hpe(t){return"id"in t&&"defaults"in t}class fpe{constructor(){this.controllers=new Pp(zd,"datasets",!0),this.elements=new Pp(Sl,"elements"),this.plugins=new Pp(Object,"plugins"),this.scales=new Pp(Uu,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,s){[...n].forEach(r=>{const i=s||this._getRegistryForType(r);s||i.isForType(r)||i===this.plugins&&r.id?this._exec(e,i,r):Yt(r,o=>{const l=s||this._getRegistryForType(o);this._exec(e,l,o)})})}_exec(e,n,s){const r=Ej(e);un(s["before"+r],[],s),n[e](s),un(s["after"+r],[],s)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(e))return s}return this.plugins}_get(e,n,s){const r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return r}}var Wi=new fpe;class mpe{constructor(){this._init=[]}notify(e,n,s,r){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(i,e,n,s);return n==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,s,r){r=r||{};for(const i of e){const o=i.plugin,l=o[s],c=[n,r,i.options];if(un(l,c,o)===!1&&r.cancelable)return!1}return!0}invalidate(){Kt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const s=e&&e.config,r=Ct(s.options&&s.options.plugins,{}),i=ppe(s);return r===!1&&!n?[]:xpe(e,i,r,n)}_notifyStateChanges(e){const n=this._oldCache||[],s=this._cache,r=(i,o)=>i.filter(l=>!o.some(c=>l.plugin.id===c.plugin.id));this._notify(r(n,s),e,"stop"),this._notify(r(s,n),e,"start")}}function ppe(t){const e={},n=[],s=Object.keys(Wi.plugins.items);for(let i=0;i<s.length;i++)n.push(Wi.getPlugin(s[i]));const r=t.plugins||[];for(let i=0;i<r.length;i++){const o=r[i];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function gpe(t,e){return!e&&t===!1?null:t===!0?{}:t}function xpe(t,{plugins:e,localIds:n},s,r){const i=[],o=t.getContext();for(const l of e){const c=l.id,d=gpe(s[c],r);d!==null&&i.push({plugin:l,options:ype(t.config,{plugin:l,local:n[c]},d,o)})}return i}function ype(t,{plugin:e,local:n},s,r){const i=t.pluginScopeKeys(e),o=t.getOptionScopes(s,i);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function r2(t,e){const n=Fn.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function vpe(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function bpe(t,e){return t===e?"_index_":"_value_"}function J5(t){if(t==="x"||t==="y"||t==="r")return t}function wpe(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function i2(t,...e){if(J5(t))return t;for(const n of e){const s=n.axis||wpe(n.position)||t.length>1&&J5(t[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Q5(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function Npe(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(s=>s.xAxisID===t||s.yAxisID===t);if(n.length)return Q5(t,"x",n[0])||Q5(t,"y",n[0])}return{}}function kpe(t,e){const n=Mc[t.type]||{scales:{}},s=e.scales||{},r=r2(t.type,e),i=Object.create(null);return Object.keys(s).forEach(o=>{const l=s[o];if(!Lt(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=i2(o,l,Npe(o,t),Fn.scales[l.type]),d=bpe(c,r),u=n.scales||{};i[o]=Zh(Object.create(null),[{axis:c},l,u[c],u[d]])}),t.data.datasets.forEach(o=>{const l=o.type||t.type,c=o.indexAxis||r2(l,e),u=(Mc[l]||{}).scales||{};Object.keys(u).forEach(h=>{const f=vpe(h,c),m=o[f+"AxisID"]||f;i[m]=i[m]||Object.create(null),Zh(i[m],[{axis:f},s[m],u[h]])})}),Object.keys(i).forEach(o=>{const l=i[o];Zh(l,[Fn.scales[l.type],Fn.scale])}),i}function B8(t){const e=t.options||(t.options={});e.plugins=Ct(e.plugins,{}),e.scales=kpe(t,e)}function U8(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function jpe(t){return t=t||{},t.data=U8(t.data),B8(t),t}const Z5=new Map,V8=new Set;function Ip(t,e){let n=Z5.get(t);return n||(n=e(),Z5.set(t,n),V8.add(n)),n}const fh=(t,e,n)=>{const s=hu(e,n);s!==void 0&&t.add(s)};class Spe{constructor(e){this._config=jpe(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=U8(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),B8(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Ip(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Ip(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Ip(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,s=this.type;return Ip(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const s=this._scopeCache;let r=s.get(e);return(!r||n)&&(r=new Map,s.set(e,r)),r}getOptionScopes(e,n,s){const{options:r,type:i}=this,o=this._cachedScopes(e,s),l=o.get(n);if(l)return l;const c=new Set;n.forEach(u=>{e&&(c.add(e),u.forEach(h=>fh(c,e,h))),u.forEach(h=>fh(c,r,h)),u.forEach(h=>fh(c,Mc[i]||{},h)),u.forEach(h=>fh(c,Fn,h)),u.forEach(h=>fh(c,n2,h))});const d=Array.from(c);return d.length===0&&d.push(Object.create(null)),V8.has(n)&&o.set(n,d),d}chartOptionScopes(){const{options:e,type:n}=this;return[e,Mc[n]||{},Fn.datasets[n]||{},{type:n},Fn,n2]}resolveNamedOptions(e,n,s,r=[""]){const i={$shared:!0},{resolver:o,subPrefixes:l}=eP(this._resolverCache,e,r);let c=o;if(Tpe(o,n)){i.$shared=!1,s=fl(s)?s():s;const d=this.createResolver(e,s,l);c=fu(o,s,d)}for(const d of n)i[d]=c[d];return i}createResolver(e,n,s=[""],r){const{resolver:i}=eP(this._resolverCache,e,s);return Lt(n)?fu(i,n,void 0,r):i}}function eP(t,e,n){let s=t.get(e);s||(s=new Map,t.set(e,s));const r=n.join();let i=s.get(r);return i||(i={resolver:Rj(e,n),subPrefixes:n.filter(l=>!l.toLowerCase().includes("hover"))},s.set(r,i)),i}const Ape=t=>Lt(t)&&Object.getOwnPropertyNames(t).some(e=>fl(t[e]));function Tpe(t,e){const{isScriptable:n,isIndexable:s}=w8(t);for(const r of e){const i=n(r),o=s(r),l=(o||i)&&t[r];if(i&&(fl(l)||Ape(l))||o&&qn(l))return!0}return!1}var Cpe="4.5.0";const Epe=["top","bottom","left","right","chartArea"];function tP(t,e){return t==="top"||t==="bottom"||Epe.indexOf(t)===-1&&e==="x"}function nP(t,e){return function(n,s){return n[t]===s[t]?n[e]-s[e]:n[t]-s[t]}}function sP(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),un(n&&n.onComplete,[t],e)}function _pe(t){const e=t.chart,n=e.options.animation;un(n&&n.onProgress,[t],e)}function z8(t){return $j()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Sg={},rP=t=>{const e=z8(t);return Object.values(Sg).filter(n=>n.canvas===e).pop()};function Ppe(t,e,n){const s=Object.keys(t);for(const r of s){const i=+r;if(i>=e){const o=t[r];delete t[r],(n>0||i>e)&&(t[i+n]=o)}}}function Ipe(t,e,n,s){return!n||t.type==="mouseout"?null:s?e:t}var vo;let iy=(vo=class{static register(...e){Wi.add(...e),iP()}static unregister(...e){Wi.remove(...e),iP()}constructor(e,n){const s=this.config=new Spe(n),r=z8(e),i=rP(r);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||Xme(r)),this.platform.updateConfig(s);const l=this.platform.acquireContext(r,o.aspectRatio),c=l&&l.canvas,d=c&&c.height,u=c&&c.width;if(this.id=Phe(),this.ctx=l,this.canvas=c,this.width=u,this.height=d,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new mpe,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Jhe(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],Sg[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Ra.listen(this,"complete",sP),Ra.listen(this,"progress",_pe),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:s,height:r,_aspectRatio:i}=this;return Kt(e)?n&&i?i:r?s/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Wi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():T5(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return j5(this.canvas,this.ctx),this}stop(){return Ra.stop(this),this}resize(e,n){Ra.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const s=this.options,r=this.canvas,i=s.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,e,n,i),l=s.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,T5(this,l,!0)&&(this.notifyPlugins("resize",{size:o}),un(s.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Yt(n,(s,r)=>{s.id=r})}buildOrUpdateScales(){const e=this.options,n=e.scales,s=this.scales,r=Object.keys(s).reduce((o,l)=>(o[l]=!1,o),{});let i=[];n&&(i=i.concat(Object.keys(n).map(o=>{const l=n[o],c=i2(o,l),d=c==="r",u=c==="x";return{options:l,dposition:d?"chartArea":u?"bottom":"left",dtype:d?"radialLinear":u?"category":"linear"}}))),Yt(i,o=>{const l=o.options,c=l.id,d=i2(c,l),u=Ct(l.type,o.dtype);(l.position===void 0||tP(l.position,d)!==tP(o.dposition))&&(l.position=o.dposition),r[c]=!0;let h=null;if(c in s&&s[c].type===u)h=s[c];else{const f=Wi.getScale(u);h=new f({id:c,type:u,ctx:this.ctx,chart:this}),s[h.id]=h}h.init(l,e)}),Yt(r,(o,l)=>{o||delete s[l]}),Yt(s,o=>{Xr.configure(this,o,o.options),Xr.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,s=e.length;if(e.sort((r,i)=>r.index-i.index),s>n){for(let r=n;r<s;++r)this._destroyDatasetMeta(r);e.splice(n,s-n)}this._sortedMetasets=e.slice(0).sort(nP("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((s,r)=>{n.filter(i=>i===s._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let s,r;for(this._removeUnreferencedMetasets(),s=0,r=n.length;s<r;s++){const i=n[s];let o=this.getDatasetMeta(s);const l=i.type||this.config.type;if(o.type&&o.type!==l&&(this._destroyDatasetMeta(s),o=this.getDatasetMeta(s)),o.type=l,o.indexAxis=i.indexAxis||r2(l,this.options),o.order=i.order||0,o.index=s,o.label=""+i.label,o.visible=this.isDatasetVisible(s),o.controller)o.controller.updateIndex(s),o.controller.linkScales();else{const c=Wi.getController(l),{datasetElementType:d,dataElementType:u}=Fn.datasets[l];Object.assign(c,{dataElementType:Wi.getElement(u),datasetElementType:d&&Wi.getElement(d)}),o.controller=new c(this,s),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Yt(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let d=0,u=this.data.datasets.length;d<u;d++){const{controller:h}=this.getDatasetMeta(d),f=!r&&i.indexOf(h)===-1;h.buildOrUpdateElements(f),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=s.layout.autoPadding?o:0,this._updateLayout(o),r||Yt(i,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(nP("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){Yt(this.scales,e=>{Xr.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!m5(n,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:r,count:i}of n){const o=s==="_removeElements"?-i:i;Ppe(e,r,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=i=>new Set(e.filter(o=>o[0]===i).map((o,l)=>l+","+o.splice(1).join(","))),r=s(0);for(let i=1;i<n;i++)if(!m5(r,s(i)))return;return Array.from(r).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Xr.update(this,this.width,this.height,e);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],Yt(this.boxes,r=>{s&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,i)=>{r._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,fl(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const s=this.getDatasetMeta(e),r={meta:s,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(s.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ra.has(this)?this.attached&&!Ra.running(this)&&Ra.start(this):(this.draw(),sP({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,s=[];let r,i;for(r=0,i=n.length;r<i;++r){const o=n[r];(!e||o.visible)&&s.push(o)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,s={meta:e,index:e.index,cancelable:!0},r=P8(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(r&&ny(n,r),e.controller.draw(),r&&sy(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return nm(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,s,r){const i=Eme.modes[n];return typeof i=="function"?i(this,e,s,r):[]}getDatasetMeta(e){const n=this.data.datasets[e],s=this._metasets;let r=s.filter(i=>i&&i._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},s.push(r)),r}getContext(){return this.$context||(this.$context=Vc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(e,n){const s=this.getDatasetMeta(e);s.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,s){const r=s?"show":"hide",i=this.getDatasetMeta(e),o=i.controller._resolveAnimations(void 0,r);em(n)?(i.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),o.update(i,{visible:s}),this.update(l=>l.datasetIndex===e?r:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Ra.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),j5(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Sg[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,s=(i,o)=>{n.addEventListener(this,i,o),e[i]=o},r=(i,o,l)=>{i.offsetX=o,i.offsetY=l,this._eventHandler(i)};Yt(this.options.events,i=>s(i,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,s=(c,d)=>{n.addEventListener(this,c,d),e[c]=d},r=(c,d)=>{e[c]&&(n.removeEventListener(this,c,d),delete e[c])},i=(c,d)=>{this.canvas&&this.resize(c,d)};let o;const l=()=>{r("attach",l),this.attached=!0,this.resize(),s("resize",i),s("detach",o)};o=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),s("attach",l)},n.isAttached(this.canvas)?l():o()}unbindEvents(){Yt(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Yt(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,s){const r=s?"set":"remove";let i,o,l,c;for(n==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){o=e[l];const d=o&&this.getDatasetMeta(o.datasetIndex).controller;d&&d[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],s=e.map(({datasetIndex:i,index:o})=>{const l=this.getDatasetMeta(i);if(!l)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:l.data[o],index:o}});!$0(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(e,n,s){return this._plugins.notify(this,e,n,s)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,s){const r=this.options.hover,i=(c,d)=>c.filter(u=>!d.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=i(n,e),l=s?e:i(e,n);o.length&&this.updateHoverStyle(o,r.mode,!1),l.length&&r.mode&&this.updateHoverStyle(l,r.mode,!0)}_eventHandler(e,n){const s={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},r=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,r)===!1)return;const i=this._handleEvent(e,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,r),(i||s.changed)&&this.render(),this}_handleEvent(e,n,s){const{_active:r=[],options:i}=this,o=n,l=this._getActiveElements(e,r,s,o),c=Ohe(e),d=Ipe(e,this._lastEvent,s,c);s&&(this._lastEvent=null,un(i.onHover,[e,l,this],this),c&&un(i.onClick,[e,l,this],this));const u=!$0(l,r);return(u||n)&&(this._active=l,this._updateHoverStyles(l,r,n)),this._lastEvent=d,u}_getActiveElements(e,n,s,r){if(e.type==="mouseout")return[];if(!s)return n;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,r)}},Ue(vo,"defaults",Fn),Ue(vo,"instances",Sg),Ue(vo,"overrides",Mc),Ue(vo,"registry",Wi),Ue(vo,"version",Cpe),Ue(vo,"getChart",rP),vo);function iP(){return Yt(iy.instances,t=>t._plugins.invalidate())}function H8(t,e,n=e){t.lineCap=Ct(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Ct(n.borderDash,e.borderDash)),t.lineDashOffset=Ct(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Ct(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Ct(n.borderWidth,e.borderWidth),t.strokeStyle=Ct(n.borderColor,e.borderColor)}function Rpe(t,e,n){t.lineTo(n.x,n.y)}function Mpe(t){return t.stepped?dfe:t.tension||t.cubicInterpolationMode==="monotone"?ufe:Rpe}function W8(t,e,n={}){const s=t.length,{start:r=0,end:i=s-1}=n,{start:o,end:l}=e,c=Math.max(r,o),d=Math.min(i,l),u=r<o&&i<o||r>l&&i>l;return{count:s,start:c,loop:e.loop,ilen:d<c&&!u?s+d-c:d-c}}function Dpe(t,e,n,s){const{points:r,options:i}=e,{count:o,start:l,loop:c,ilen:d}=W8(r,n,s),u=Mpe(i);let{move:h=!0,reverse:f}=s||{},m,x,p;for(m=0;m<=d;++m)x=r[(l+(f?d-m:m))%o],!x.skip&&(h?(t.moveTo(x.x,x.y),h=!1):u(t,p,x,f,i.stepped),p=x);return c&&(x=r[(l+(f?d:0))%o],u(t,p,x,f,i.stepped)),!!c}function $pe(t,e,n,s){const r=e.points,{count:i,start:o,ilen:l}=W8(r,n,s),{move:c=!0,reverse:d}=s||{};let u=0,h=0,f,m,x,p,w,b;const v=E=>(o+(d?l-E:E))%i,N=()=>{p!==w&&(t.lineTo(u,w),t.lineTo(u,p),t.lineTo(u,b))};for(c&&(m=r[v(0)],t.moveTo(m.x,m.y)),f=0;f<=l;++f){if(m=r[v(f)],m.skip)continue;const E=m.x,T=m.y,R=E|0;R===x?(T<p?p=T:T>w&&(w=T),u=(h*u+E)/++h):(N(),t.lineTo(E,T),x=R,h=0,p=w=T),b=T}N()}function a2(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?$pe:Dpe}function Ope(t){return t.stepped?zfe:t.tension||t.cubicInterpolationMode==="monotone"?Hfe:Bl}function Fpe(t,e,n,s){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,s)&&r.closePath()),H8(t,e.options),t.stroke(r)}function Lpe(t,e,n,s){const{segments:r,options:i}=e,o=a2(e);for(const l of r)H8(t,i,l.style),t.beginPath(),o(t,e,l,{start:n,end:n+s-1})&&t.closePath(),t.stroke()}const Bpe=typeof Path2D=="function";function Upe(t,e,n,s){Bpe&&!e.options.segment?Fpe(t,e,n,s):Lpe(t,e,n,s)}class Uo extends Sl{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const r=s.spanGaps?this._loop:this._fullLoop;Dfe(this._points,s,e,r,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Xfe(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,s=e.length;return s&&n[e[s-1].end]}interpolate(e,n){const s=this.options,r=e[n],i=this.points,o=_8(this,{property:n,start:r,end:r});if(!o.length)return;const l=[],c=Ope(s);let d,u;for(d=0,u=o.length;d<u;++d){const{start:h,end:f}=o[d],m=i[h],x=i[f];if(m===x){l.push(m);continue}const p=Math.abs((r-m[n])/(x[n]-m[n])),w=c(m,x,p,s.stepped);w[n]=e[n],l.push(w)}return l.length===1?l[0]:l}pathSegment(e,n,s){return a2(this)(e,this,n,s)}path(e,n,s){const r=this.segments,i=a2(this);let o=this._loop;n=n||0,s=s||this.points.length-n;for(const l of r)o&=i(e,this,l,{start:n,end:n+s-1});return!!o}draw(e,n,s,r){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),Upe(e,this,s,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Ue(Uo,"id","line"),Ue(Uo,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Ue(Uo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Ue(Uo,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function aP(t,e,n,s){const r=t.options,{[n]:i}=t.getProps([n],s);return Math.abs(e-i)<r.radius+r.hitRadius}class Ag extends Sl{constructor(n){super();Ue(this,"parsed");Ue(this,"skip");Ue(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,s,r){const i=this.options,{x:o,y:l}=this.getProps(["x","y"],r);return Math.pow(n-o,2)+Math.pow(s-l,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(n,s){return aP(this,n,"x",s)}inYRange(n,s){return aP(this,n,"y",s)}getCenterPoint(n){const{x:s,y:r}=this.getProps(["x","y"],n);return{x:s,y:r}}size(n){n=n||this.options||{};let s=n.radius||0;s=Math.max(s,s&&n.hoverRadius||0);const r=s&&n.borderWidth||0;return(s+r)*2}draw(n,s){const r=this.options;this.skip||r.radius<.1||!nm(this,s,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,s2(n,r,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}Ue(Ag,"id","point"),Ue(Ag,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Ue(Ag,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function q8(t,e){const{x:n,y:s,base:r,width:i,height:o}=t.getProps(["x","y","base","width","height"],e);let l,c,d,u,h;return t.horizontal?(h=o/2,l=Math.min(n,r),c=Math.max(n,r),d=s-h,u=s+h):(h=i/2,l=n-h,c=n+h,d=Math.min(s,r),u=Math.max(s,r)),{left:l,top:d,right:c,bottom:u}}function Vo(t,e,n,s){return t?0:Cr(e,n,s)}function Vpe(t,e,n){const s=t.options.borderWidth,r=t.borderSkipped,i=b8(s);return{t:Vo(r.top,i.top,0,n),r:Vo(r.right,i.right,0,e),b:Vo(r.bottom,i.bottom,0,n),l:Vo(r.left,i.left,0,e)}}function zpe(t,e,n){const{enableBorderRadius:s}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,i=Ud(r),o=Math.min(e,n),l=t.borderSkipped,c=s||Lt(r);return{topLeft:Vo(!c||l.top||l.left,i.topLeft,0,o),topRight:Vo(!c||l.top||l.right,i.topRight,0,o),bottomLeft:Vo(!c||l.bottom||l.left,i.bottomLeft,0,o),bottomRight:Vo(!c||l.bottom||l.right,i.bottomRight,0,o)}}function Hpe(t){const e=q8(t),n=e.right-e.left,s=e.bottom-e.top,r=Vpe(t,n/2,s/2),i=zpe(t,n/2,s/2);return{outer:{x:e.left,y:e.top,w:n,h:s,radius:i},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:s-r.t-r.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,i.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(r.b,r.r))}}}}function pb(t,e,n,s){const r=e===null,i=n===null,l=t&&!(r&&i)&&q8(t,s);return l&&(r||Bo(e,l.left,l.right))&&(i||Bo(n,l.top,l.bottom))}function Wpe(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function qpe(t,e){t.rect(e.x,e.y,e.w,e.h)}function gb(t,e,n={}){const s=t.x!==n.x?-e:0,r=t.y!==n.y?-e:0,i=(t.x+t.w!==n.x+n.w?e:0)-s,o=(t.y+t.h!==n.y+n.h?e:0)-r;return{x:t.x+s,y:t.y+r,w:t.w+i,h:t.h+o,radius:t.radius}}class Tg extends Sl{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:s,backgroundColor:r}}=this,{inner:i,outer:o}=Hpe(this),l=Wpe(o.radius)?L0:qpe;e.save(),(o.w!==i.w||o.h!==i.h)&&(e.beginPath(),l(e,gb(o,n,i)),e.clip(),l(e,gb(i,-n,o)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),l(e,gb(i,n)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,n,s){return pb(this,e,n,s)}inXRange(e,n){return pb(this,e,null,n)}inYRange(e,n){return pb(this,null,e,n)}getCenterPoint(e){const{x:n,y:s,base:r,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(n+r)/2:n,y:i?s:(s+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}Ue(Tg,"id","bar"),Ue(Tg,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Ue(Tg,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Kpe(t,e,n){const s=t.segments,r=t.points,i=e.points,o=[];for(const l of s){let{start:c,end:d}=l;d=ay(c,d,r);const u=o2(n,r[c],r[d],l.loop);if(!e.segments){o.push({source:l,target:u,start:r[c],end:r[d]});continue}const h=_8(e,u);for(const f of h){const m=o2(n,i[f.start],i[f.end],f.loop),x=E8(l,r,m);for(const p of x)o.push({source:p,target:f,start:{[n]:oP(u,m,"start",Math.max)},end:{[n]:oP(u,m,"end",Math.min)}})}}return o}function o2(t,e,n,s){if(s)return;let r=e[t],i=n[t];return t==="angle"&&(r=Gi(r),i=Gi(i)),{property:t,start:r,end:i}}function Gpe(t,e){const{x:n=null,y:s=null}=t||{},r=e.points,i=[];return e.segments.forEach(({start:o,end:l})=>{l=ay(o,l,r);const c=r[o],d=r[l];s!==null?(i.push({x:c.x,y:s}),i.push({x:d.x,y:s})):n!==null&&(i.push({x:n,y:c.y}),i.push({x:n,y:d.y}))}),i}function ay(t,e,n){for(;e>t;e--){const s=n[e];if(!isNaN(s.x)&&!isNaN(s.y))break}return e}function oP(t,e,n,s){return t&&e?s(t[n],e[n]):t?t[n]:e?e[n]:0}function K8(t,e){let n=[],s=!1;return qn(t)?(s=!0,n=t):n=Gpe(t,e),n.length?new Uo({points:n,options:{tension:0},_loop:s,_fullLoop:s}):null}function lP(t){return t&&t.fill!==!1}function Ype(t,e,n){let r=t[e].fill;const i=[e];let o;if(!n)return r;for(;r!==!1&&i.indexOf(r)===-1;){if(!Rs(r))return r;if(o=t[r],!o)return!1;if(o.visible)return r;i.push(r),r=o.fill}return!1}function Xpe(t,e,n){const s=ege(t);if(Lt(s))return isNaN(s.value)?!1:s;let r=parseFloat(s);return Rs(r)&&Math.floor(r)===r?Jpe(s[0],e,r,n):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function Jpe(t,e,n,s){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=s?!1:n}function Qpe(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:Lt(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function Zpe(t,e,n){let s;return t==="start"?s=n:t==="end"?s=e.options.reverse?e.min:e.max:Lt(t)?s=t.value:s=e.getBaseValue(),s}function ege(t){const e=t.options,n=e.fill;let s=Ct(n&&n.target,n);return s===void 0&&(s=!!e.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function tge(t){const{scale:e,index:n,line:s}=t,r=[],i=s.segments,o=s.points,l=nge(e,n);l.push(K8({x:null,y:e.bottom},s));for(let c=0;c<i.length;c++){const d=i[c];for(let u=d.start;u<=d.end;u++)sge(r,o[u],l)}return new Uo({points:r,options:{}})}function nge(t,e){const n=[],s=t.getMatchingVisibleMetas("line");for(let r=0;r<s.length;r++){const i=s[r];if(i.index===e)break;i.hidden||n.unshift(i.dataset)}return n}function sge(t,e,n){const s=[];for(let r=0;r<n.length;r++){const i=n[r],{first:o,last:l,point:c}=rge(i,e,"x");if(!(!c||o&&l)){if(o)s.unshift(c);else if(t.push(c),!l)break}}t.push(...s)}function rge(t,e,n){const s=t.interpolate(e,n);if(!s)return{};const r=s[n],i=t.segments,o=t.points;let l=!1,c=!1;for(let d=0;d<i.length;d++){const u=i[d],h=o[u.start][n],f=o[u.end][n];if(Bo(r,h,f)){l=r===h,c=r===f;break}}return{first:l,last:c,point:s}}class G8{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,s){const{x:r,y:i,radius:o}=this;return n=n||{start:0,end:Pi},e.arc(r,i,o,n.end,n.start,!0),!s.bounds}interpolate(e){const{x:n,y:s,radius:r}=this,i=e.angle;return{x:n+Math.cos(i)*r,y:s+Math.sin(i)*r,angle:i}}}function ige(t){const{chart:e,fill:n,line:s}=t;if(Rs(n))return age(e,n);if(n==="stack")return tge(t);if(n==="shape")return!0;const r=oge(t);return r instanceof G8?r:K8(r,s)}function age(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function oge(t){return(t.scale||{}).getPointPositionForValue?cge(t):lge(t)}function lge(t){const{scale:e={},fill:n}=t,s=Qpe(n,e);if(Rs(s)){const r=e.isHorizontal();return{x:r?s:null,y:r?null:s}}return null}function cge(t){const{scale:e,fill:n}=t,s=e.options,r=e.getLabels().length,i=s.reverse?e.max:e.min,o=Zpe(n,e,i),l=[];if(s.grid.circular){const c=e.getPointPositionForValue(0,i);return new G8({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(o)})}for(let c=0;c<r;++c)l.push(e.getPointPositionForValue(c,o));return l}function xb(t,e,n){const s=ige(e),{chart:r,index:i,line:o,scale:l,axis:c}=e,d=o.options,u=d.fill,h=d.backgroundColor,{above:f=h,below:m=h}=u||{},x=r.getDatasetMeta(i),p=P8(r,x);s&&o.points.length&&(ny(t,n),dge(t,{line:o,target:s,above:f,below:m,area:n,scale:l,axis:c,clip:p}),sy(t))}function dge(t,e){const{line:n,target:s,above:r,below:i,area:o,scale:l,clip:c}=e,d=n._loop?"angle":e.axis;t.save();let u=i;i!==r&&(d==="x"?(cP(t,s,o.top),yb(t,{line:n,target:s,color:r,scale:l,property:d,clip:c}),t.restore(),t.save(),cP(t,s,o.bottom)):d==="y"&&(dP(t,s,o.left),yb(t,{line:n,target:s,color:i,scale:l,property:d,clip:c}),t.restore(),t.save(),dP(t,s,o.right),u=r)),yb(t,{line:n,target:s,color:u,scale:l,property:d,clip:c}),t.restore()}function cP(t,e,n){const{segments:s,points:r}=e;let i=!0,o=!1;t.beginPath();for(const l of s){const{start:c,end:d}=l,u=r[c],h=r[ay(c,d,r)];i?(t.moveTo(u.x,u.y),i=!1):(t.lineTo(u.x,n),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,l,{move:o}),o?t.closePath():t.lineTo(h.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function dP(t,e,n){const{segments:s,points:r}=e;let i=!0,o=!1;t.beginPath();for(const l of s){const{start:c,end:d}=l,u=r[c],h=r[ay(c,d,r)];i?(t.moveTo(u.x,u.y),i=!1):(t.lineTo(n,u.y),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,l,{move:o}),o?t.closePath():t.lineTo(n,h.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function yb(t,e){const{line:n,target:s,property:r,color:i,scale:o,clip:l}=e,c=Kpe(n,s,r);for(const{source:d,target:u,start:h,end:f}of c){const{style:{backgroundColor:m=i}={}}=d,x=s!==!0;t.save(),t.fillStyle=m,uge(t,o,l,x&&o2(r,h,f)),t.beginPath();const p=!!n.pathSegment(t,d);let w;if(x){p?t.closePath():uP(t,s,f,r);const b=!!s.pathSegment(t,u,{move:p,reverse:!0});w=p&&b,w||uP(t,s,h,r)}t.closePath(),t.fill(w?"evenodd":"nonzero"),t.restore()}}function uge(t,e,n,s){const r=e.chart.chartArea,{property:i,start:o,end:l}=s||{};if(i==="x"||i==="y"){let c,d,u,h;i==="x"?(c=o,d=r.top,u=l,h=r.bottom):(c=r.left,d=o,u=r.right,h=l),t.beginPath(),n&&(c=Math.max(c,n.left),u=Math.min(u,n.right),d=Math.max(d,n.top),h=Math.min(h,n.bottom)),t.rect(c,d,u-c,h-d),t.clip()}}function uP(t,e,n,s){const r=e.interpolate(n,s);r&&t.lineTo(r.x,r.y)}var hge={id:"filler",afterDatasetsUpdate(t,e,n){const s=(t.data.datasets||[]).length,r=[];let i,o,l,c;for(o=0;o<s;++o)i=t.getDatasetMeta(o),l=i.dataset,c=null,l&&l.options&&l instanceof Uo&&(c={visible:t.isDatasetVisible(o),index:o,fill:Xpe(l,o,s),chart:t,axis:i.controller.options.indexAxis,scale:i.vScale,line:l}),i.$filler=c,r.push(c);for(o=0;o<s;++o)c=r[o],!(!c||c.fill===!1)&&(c.fill=Ype(r,o,n.propagate))},beforeDraw(t,e,n){const s=n.drawTime==="beforeDraw",r=t.getSortedVisibleDatasetMetas(),i=t.chartArea;for(let o=r.length-1;o>=0;--o){const l=r[o].$filler;l&&(l.line.updateControlPoints(i,l.axis),s&&l.fill&&xb(t.ctx,l,i))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const s=t.getSortedVisibleDatasetMetas();for(let r=s.length-1;r>=0;--r){const i=s[r].$filler;lP(i)&&xb(t.ctx,i,t.chartArea)}},beforeDatasetDraw(t,e,n){const s=e.meta.$filler;!lP(s)||n.drawTime!=="beforeDatasetDraw"||xb(t.ctx,s,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const hP=(t,e)=>{let{boxHeight:n=e,boxWidth:s=e}=t;return t.usePointStyle&&(n=Math.min(n,e),s=t.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(e,n)}},fge=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class fP extends Sl{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,s){this.maxWidth=e,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=un(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(s=>e.filter(s,this.chart.data))),e.sort&&(n=n.sort((s,r)=>e.sort(s,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,r=_s(s.font),i=r.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=hP(s,i);let d,u;n.font=r.string,this.isHorizontal()?(d=this.maxWidth,u=this._fitRows(o,i,l,c)+10):(u=this.maxHeight,d=this._fitCols(o,r,l,c)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,s,r){const{ctx:i,maxWidth:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.lineWidths=[0],u=r+l;let h=e;i.textAlign="left",i.textBaseline="middle";let f=-1,m=-u;return this.legendItems.forEach((x,p)=>{const w=s+n/2+i.measureText(x.text).width;(p===0||d[d.length-1]+w+2*l>o)&&(h+=u,d[d.length-(p>0?0:1)]=0,m+=u,f++),c[p]={left:0,top:m,row:f,width:w,height:r},d[d.length-1]+=w+l}),h}_fitCols(e,n,s,r){const{ctx:i,maxHeight:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.columnSizes=[],u=o-e;let h=l,f=0,m=0,x=0,p=0;return this.legendItems.forEach((w,b)=>{const{itemWidth:v,itemHeight:N}=mge(s,n,i,w,r);b>0&&m+N+2*l>u&&(h+=f+l,d.push({width:f,height:m}),x+=f+l,p++,f=m=0),c[b]={left:x,top:m,col:p,width:v,height:N},f=Math.max(f,v),m+=N+l}),h+=f,d.push({width:f,height:m}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:r},rtl:i}}=this,o=Vd(i,this.left,this.width);if(this.isHorizontal()){let l=0,c=bs(s,this.left+r,this.right-this.lineWidths[l]);for(const d of n)l!==d.row&&(l=d.row,c=bs(s,this.left+r,this.right-this.lineWidths[l])),d.top+=this.top+e+r,d.left=o.leftForLtr(o.x(c),d.width),c+=d.width+r}else{let l=0,c=bs(s,this.top+e+r,this.bottom-this.columnSizes[l].height);for(const d of n)d.col!==l&&(l=d.col,c=bs(s,this.top+e+r,this.bottom-this.columnSizes[l].height)),d.top=c,d.left+=this.left+r,d.left=o.leftForLtr(o.x(d.left),d.width),c+=d.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;ny(e,this),this._draw(),sy(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:s,ctx:r}=this,{align:i,labels:o}=e,l=Fn.color,c=Vd(e.rtl,this.left,this.width),d=_s(o.font),{padding:u}=o,h=d.size,f=h/2;let m;this.drawTitle(),r.textAlign=c.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=d.string;const{boxWidth:x,boxHeight:p,itemHeight:w}=hP(o,h),b=function(R,$,M){if(isNaN(x)||x<=0||isNaN(p)||p<0)return;r.save();const L=Ct(M.lineWidth,1);if(r.fillStyle=Ct(M.fillStyle,l),r.lineCap=Ct(M.lineCap,"butt"),r.lineDashOffset=Ct(M.lineDashOffset,0),r.lineJoin=Ct(M.lineJoin,"miter"),r.lineWidth=L,r.strokeStyle=Ct(M.strokeStyle,l),r.setLineDash(Ct(M.lineDash,[])),o.usePointStyle){const U={radius:p*Math.SQRT2/2,pointStyle:M.pointStyle,rotation:M.rotation,borderWidth:L},z=c.xPlus(R,x/2),B=$+f;y8(r,U,z,B,o.pointStyleWidth&&x)}else{const U=$+Math.max((h-p)/2,0),z=c.leftForLtr(R,x),B=Ud(M.borderRadius);r.beginPath(),Object.values(B).some(D=>D!==0)?L0(r,{x:z,y:U,w:x,h:p,radius:B}):r.rect(z,U,x,p),r.fill(),L!==0&&r.stroke()}r.restore()},v=function(R,$,M){sm(r,M.text,R,$+w/2,d,{strikethrough:M.hidden,textAlign:c.textAlign(M.textAlign)})},N=this.isHorizontal(),E=this._computeTitleHeight();N?m={x:bs(i,this.left+u,this.right-s[0]),y:this.top+u+E,line:0}:m={x:this.left+u,y:bs(i,this.top+E+u,this.bottom-n[0].height),line:0},A8(this.ctx,e.textDirection);const T=w+u;this.legendItems.forEach((R,$)=>{r.strokeStyle=R.fontColor,r.fillStyle=R.fontColor;const M=r.measureText(R.text).width,L=c.textAlign(R.textAlign||(R.textAlign=o.textAlign)),U=x+f+M;let z=m.x,B=m.y;c.setWidth(this.width),N?$>0&&z+U+u>this.right&&(B=m.y+=T,m.line++,z=m.x=bs(i,this.left+u,this.right-s[m.line])):$>0&&B+T>this.bottom&&(z=m.x=z+n[m.line].width+u,m.line++,B=m.y=bs(i,this.top+E+u,this.bottom-n[m.line].height));const D=c.x(z);if(b(D,B,R),z=Qhe(L,z+x+f,N?z+U:this.right,e.rtl),v(c.x(z),B,R),N)m.x+=U+u;else if(typeof R.text!="string"){const g=d.lineHeight;m.y+=Y8(R,g)+u}else m.y+=T}),T8(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,s=_s(n.font),r=ii(n.padding);if(!n.display)return;const i=Vd(e.rtl,this.left,this.width),o=this.ctx,l=n.position,c=s.size/2,d=r.top+c;let u,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+d,h=bs(e.align,h,this.right-f);else{const x=this.columnSizes.reduce((p,w)=>Math.max(p,w.height),0);u=d+bs(e.align,this.top,this.bottom-x-e.labels.padding-this._computeTitleHeight())}const m=bs(l,h,h+f);o.textAlign=i.textAlign(Pj(l)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=s.string,sm(o,n.text,m,u,s)}_computeTitleHeight(){const e=this.options.title,n=_s(e.font),s=ii(e.padding);return e.display?n.lineHeight+s.height:0}_getLegendItemAt(e,n){let s,r,i;if(Bo(e,this.left,this.right)&&Bo(n,this.top,this.bottom)){for(i=this.legendHitBoxes,s=0;s<i.length;++s)if(r=i[s],Bo(e,r.left,r.left+r.width)&&Bo(n,r.top,r.top+r.height))return this.legendItems[s]}return null}handleEvent(e){const n=this.options;if(!xge(e.type,n))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,i=fge(r,s);r&&!i&&un(n.onLeave,[e,r,this],this),this._hoveredItem=s,s&&!i&&un(n.onHover,[e,s,this],this)}else s&&un(n.onClick,[e,s,this],this)}}function mge(t,e,n,s,r){const i=pge(s,t,e,n),o=gge(r,s,e.lineHeight);return{itemWidth:i,itemHeight:o}}function pge(t,e,n,s){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((i,o)=>i.length>o.length?i:o)),e+n.size/2+s.measureText(r).width}function gge(t,e,n){let s=t;return typeof e.text!="string"&&(s=Y8(e,n)),s}function Y8(t,e){const n=t.text?t.text.length:0;return e*n}function xge(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var yge={id:"legend",_element:fP,start(t,e,n){const s=t.legend=new fP({ctx:t.ctx,options:n,chart:t});Xr.configure(t,s,n),Xr.addBox(t,s)},stop(t){Xr.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const s=t.legend;Xr.configure(t,s,n),s.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const s=e.datasetIndex,r=n.chart;r.isDatasetVisible(s)?(r.hide(s),e.hidden=!0):(r.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:r,color:i,useBorderRadius:o,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const d=c.controller.getStyle(n?0:void 0),u=ii(d.borderWidth);return{text:e[c.index].label,fillStyle:d.backgroundColor,fontColor:i,hidden:!c.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:d.borderColor,pointStyle:s||d.pointStyle,rotation:d.rotation,textAlign:r||d.textAlign,borderRadius:o&&(l||d.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class X8 extends Sl{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const r=qn(s.text)?s.text.length:1;this._padding=ii(s.padding);const i=r*_s(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:s,bottom:r,right:i,options:o}=this,l=o.align;let c=0,d,u,h;return this.isHorizontal()?(u=bs(l,s,i),h=n+e,d=i-s):(o.position==="left"?(u=s+e,h=bs(l,r,n),c=as*-.5):(u=i-e,h=bs(l,n,r),c=as*.5),d=r-n),{titleX:u,titleY:h,maxWidth:d,rotation:c}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const s=_s(n.font),i=s.lineHeight/2+this._padding.top,{titleX:o,titleY:l,maxWidth:c,rotation:d}=this._drawArgs(i);sm(e,n.text,0,0,s,{color:n.color,maxWidth:c,rotation:d,textAlign:Pj(n.align),textBaseline:"middle",translation:[o,l]})}}function vge(t,e){const n=new X8({ctx:t.ctx,options:e,chart:t});Xr.configure(t,n,e),Xr.addBox(t,n),t.titleBlock=n}var bge={id:"title",_element:X8,start(t,e,n){vge(t,n)},stop(t){const e=t.titleBlock;Xr.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const s=t.titleBlock;Xr.configure(t,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Sh={average(t){if(!t.length)return!1;let e,n,s=new Set,r=0,i=0;for(e=0,n=t.length;e<n;++e){const l=t[e].element;if(l&&l.hasValue()){const c=l.tooltipPosition();s.add(c.x),r+=c.y,++i}}return i===0||s.size===0?!1:{x:[...s].reduce((l,c)=>l+c)/s.size,y:r/i}},nearest(t,e){if(!t.length)return!1;let n=e.x,s=e.y,r=Number.POSITIVE_INFINITY,i,o,l;for(i=0,o=t.length;i<o;++i){const c=t[i].element;if(c&&c.hasValue()){const d=c.getCenterPoint(),u=t2(e,d);u<r&&(r=u,l=c)}}if(l){const c=l.tooltipPosition();n=c.x,s=c.y}return{x:n,y:s}}};function zi(t,e){return e&&(qn(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Ma(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function wge(t,e){const{element:n,datasetIndex:s,index:r}=e,i=t.getDatasetMeta(s).controller,{label:o,value:l}=i.getLabelAndValue(r);return{chart:t,label:o,parsed:i.getParsed(r),raw:t.data.datasets[s].data[r],formattedValue:l,dataset:i.getDataset(),dataIndex:r,datasetIndex:s,element:n}}function mP(t,e){const n=t.chart.ctx,{body:s,footer:r,title:i}=t,{boxWidth:o,boxHeight:l}=e,c=_s(e.bodyFont),d=_s(e.titleFont),u=_s(e.footerFont),h=i.length,f=r.length,m=s.length,x=ii(e.padding);let p=x.height,w=0,b=s.reduce((E,T)=>E+T.before.length+T.lines.length+T.after.length,0);if(b+=t.beforeBody.length+t.afterBody.length,h&&(p+=h*d.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),b){const E=e.displayColors?Math.max(l,c.lineHeight):c.lineHeight;p+=m*E+(b-m)*c.lineHeight+(b-1)*e.bodySpacing}f&&(p+=e.footerMarginTop+f*u.lineHeight+(f-1)*e.footerSpacing);let v=0;const N=function(E){w=Math.max(w,n.measureText(E).width+v)};return n.save(),n.font=d.string,Yt(t.title,N),n.font=c.string,Yt(t.beforeBody.concat(t.afterBody),N),v=e.displayColors?o+2+e.boxPadding:0,Yt(s,E=>{Yt(E.before,N),Yt(E.lines,N),Yt(E.after,N)}),v=0,n.font=u.string,Yt(t.footer,N),n.restore(),w+=x.width,{width:w,height:p}}function Nge(t,e){const{y:n,height:s}=e;return n<s/2?"top":n>t.height-s/2?"bottom":"center"}function kge(t,e,n,s){const{x:r,width:i}=s,o=n.caretSize+n.caretPadding;if(t==="left"&&r+i+o>e.width||t==="right"&&r-i-o<0)return!0}function jge(t,e,n,s){const{x:r,width:i}=n,{width:o,chartArea:{left:l,right:c}}=t;let d="center";return s==="center"?d=r<=(l+c)/2?"left":"right":r<=i/2?d="left":r>=o-i/2&&(d="right"),kge(d,t,e,n)&&(d="center"),d}function pP(t,e,n){const s=n.yAlign||e.yAlign||Nge(t,n);return{xAlign:n.xAlign||e.xAlign||jge(t,e,n,s),yAlign:s}}function Sge(t,e){let{x:n,width:s}=t;return e==="right"?n-=s:e==="center"&&(n-=s/2),n}function Age(t,e,n){let{y:s,height:r}=t;return e==="top"?s+=n:e==="bottom"?s-=r+n:s-=r/2,s}function gP(t,e,n,s){const{caretSize:r,caretPadding:i,cornerRadius:o}=t,{xAlign:l,yAlign:c}=n,d=r+i,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:m}=Ud(o);let x=Sge(e,l);const p=Age(e,c,d);return c==="center"?l==="left"?x+=d:l==="right"&&(x-=d):l==="left"?x-=Math.max(u,f)+r:l==="right"&&(x+=Math.max(h,m)+r),{x:Cr(x,0,s.width-e.width),y:Cr(p,0,s.height-e.height)}}function Rp(t,e,n){const s=ii(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-s.right:t.x+s.left}function xP(t){return zi([],Ma(t))}function Tge(t,e,n){return Vc(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function yP(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const J8={beforeTitle:Ia,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return n[e.dataIndex]}return""},afterTitle:Ia,beforeBody:Ia,beforeLabel:Ia,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Kt(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Ia,afterBody:Ia,beforeFooter:Ia,footer:Ia,afterFooter:Ia};function Zs(t,e,n,s){const r=t[e].call(n,s);return typeof r>"u"?J8[e].call(n,s):r}class l2 extends Sl{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,s=this.options.setContext(this.getContext()),r=s.enabled&&n.options.animation&&s.animations,i=new I8(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=Tge(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:s}=n,r=Zs(s,"beforeTitle",this,e),i=Zs(s,"title",this,e),o=Zs(s,"afterTitle",this,e);let l=[];return l=zi(l,Ma(r)),l=zi(l,Ma(i)),l=zi(l,Ma(o)),l}getBeforeBody(e,n){return xP(Zs(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:s}=n,r=[];return Yt(e,i=>{const o={before:[],lines:[],after:[]},l=yP(s,i);zi(o.before,Ma(Zs(l,"beforeLabel",this,i))),zi(o.lines,Zs(l,"label",this,i)),zi(o.after,Ma(Zs(l,"afterLabel",this,i))),r.push(o)}),r}getAfterBody(e,n){return xP(Zs(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:s}=n,r=Zs(s,"beforeFooter",this,e),i=Zs(s,"footer",this,e),o=Zs(s,"afterFooter",this,e);let l=[];return l=zi(l,Ma(r)),l=zi(l,Ma(i)),l=zi(l,Ma(o)),l}_createItems(e){const n=this._active,s=this.chart.data,r=[],i=[],o=[];let l=[],c,d;for(c=0,d=n.length;c<d;++c)l.push(wge(this.chart,n[c]));return e.filter&&(l=l.filter((u,h,f)=>e.filter(u,h,f,s))),e.itemSort&&(l=l.sort((u,h)=>e.itemSort(u,h,s))),Yt(l,u=>{const h=yP(e.callbacks,u);r.push(Zs(h,"labelColor",this,u)),i.push(Zs(h,"labelPointStyle",this,u)),o.push(Zs(h,"labelTextColor",this,u))}),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=l,l}update(e,n){const s=this.options.setContext(this.getContext()),r=this._active;let i,o=[];if(!r.length)this.opacity!==0&&(i={opacity:0});else{const l=Sh[s.position].call(this,r,this._eventPosition);o=this._createItems(s),this.title=this.getTitle(o,s),this.beforeBody=this.getBeforeBody(o,s),this.body=this.getBody(o,s),this.afterBody=this.getAfterBody(o,s),this.footer=this.getFooter(o,s);const c=this._size=mP(this,s),d=Object.assign({},l,c),u=pP(this.chart,s,d),h=gP(s,d,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,i={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,s,r){const i=this.getCaretPosition(e,s,r);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(e,n,s){const{xAlign:r,yAlign:i}=this,{caretSize:o,cornerRadius:l}=s,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:h}=Ud(l),{x:f,y:m}=e,{width:x,height:p}=n;let w,b,v,N,E,T;return i==="center"?(E=m+p/2,r==="left"?(w=f,b=w-o,N=E+o,T=E-o):(w=f+x,b=w+o,N=E-o,T=E+o),v=w):(r==="left"?b=f+Math.max(c,u)+o:r==="right"?b=f+x-Math.max(d,h)-o:b=this.caretX,i==="top"?(N=m,E=N-o,w=b-o,v=b+o):(N=m+p,E=N+o,w=b+o,v=b-o),T=N),{x1:w,x2:b,x3:v,y1:N,y2:E,y3:T}}drawTitle(e,n,s){const r=this.title,i=r.length;let o,l,c;if(i){const d=Vd(s.rtl,this.x,this.width);for(e.x=Rp(this,s.titleAlign,s),n.textAlign=d.textAlign(s.titleAlign),n.textBaseline="middle",o=_s(s.titleFont),l=s.titleSpacing,n.fillStyle=s.titleColor,n.font=o.string,c=0;c<i;++c)n.fillText(r[c],d.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+l,c+1===i&&(e.y+=s.titleMarginBottom-l)}}_drawColorBox(e,n,s,r,i){const o=this.labelColors[s],l=this.labelPointStyles[s],{boxHeight:c,boxWidth:d}=i,u=_s(i.bodyFont),h=Rp(this,"left",i),f=r.x(h),m=c<u.lineHeight?(u.lineHeight-c)/2:0,x=n.y+m;if(i.usePointStyle){const p={radius:Math.min(d,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},w=r.leftForLtr(f,d)+d/2,b=x+c/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,s2(e,p,w,b),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,s2(e,p,w,b)}else{e.lineWidth=Lt(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const p=r.leftForLtr(f,d),w=r.leftForLtr(r.xPlus(f,1),d-2),b=Ud(o.borderRadius);Object.values(b).some(v=>v!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,L0(e,{x:p,y:x,w:d,h:c,radius:b}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),L0(e,{x:w,y:x+1,w:d-2,h:c-2,radius:b}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(p,x,d,c),e.strokeRect(p,x,d,c),e.fillStyle=o.backgroundColor,e.fillRect(w,x+1,d-2,c-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,n,s){const{body:r}=this,{bodySpacing:i,bodyAlign:o,displayColors:l,boxHeight:c,boxWidth:d,boxPadding:u}=s,h=_s(s.bodyFont);let f=h.lineHeight,m=0;const x=Vd(s.rtl,this.x,this.width),p=function(M){n.fillText(M,x.x(e.x+m),e.y+f/2),e.y+=f+i},w=x.textAlign(o);let b,v,N,E,T,R,$;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,e.x=Rp(this,w,s),n.fillStyle=s.bodyColor,Yt(this.beforeBody,p),m=l&&w!=="right"?o==="center"?d/2+u:d+2+u:0,E=0,R=r.length;E<R;++E){for(b=r[E],v=this.labelTextColors[E],n.fillStyle=v,Yt(b.before,p),N=b.lines,l&&N.length&&(this._drawColorBox(n,e,E,x,s),f=Math.max(h.lineHeight,c)),T=0,$=N.length;T<$;++T)p(N[T]),f=h.lineHeight;Yt(b.after,p)}m=0,f=h.lineHeight,Yt(this.afterBody,p),e.y-=i}drawFooter(e,n,s){const r=this.footer,i=r.length;let o,l;if(i){const c=Vd(s.rtl,this.x,this.width);for(e.x=Rp(this,s.footerAlign,s),e.y+=s.footerMarginTop,n.textAlign=c.textAlign(s.footerAlign),n.textBaseline="middle",o=_s(s.footerFont),n.fillStyle=s.footerColor,n.font=o.string,l=0;l<i;++l)n.fillText(r[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+s.footerSpacing}}drawBackground(e,n,s,r){const{xAlign:i,yAlign:o}=this,{x:l,y:c}=e,{width:d,height:u}=s,{topLeft:h,topRight:f,bottomLeft:m,bottomRight:x}=Ud(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(l+h,c),o==="top"&&this.drawCaret(e,n,s,r),n.lineTo(l+d-f,c),n.quadraticCurveTo(l+d,c,l+d,c+f),o==="center"&&i==="right"&&this.drawCaret(e,n,s,r),n.lineTo(l+d,c+u-x),n.quadraticCurveTo(l+d,c+u,l+d-x,c+u),o==="bottom"&&this.drawCaret(e,n,s,r),n.lineTo(l+m,c+u),n.quadraticCurveTo(l,c+u,l,c+u-m),o==="center"&&i==="left"&&this.drawCaret(e,n,s,r),n.lineTo(l,c+h),n.quadraticCurveTo(l,c,l+h,c),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,s=this.$animations,r=s&&s.x,i=s&&s.y;if(r||i){const o=Sh[e.position].call(this,this._active,this._eventPosition);if(!o)return;const l=this._size=mP(this,e),c=Object.assign({},o,this._size),d=pP(n,e,c),u=gP(e,c,d,n);(r._to!==u.x||i._to!==u.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const o=ii(n.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&l&&(e.save(),e.globalAlpha=s,this.drawBackground(i,e,r,n),A8(e,n.textDirection),i.y+=o.top,this.drawTitle(i,e,n),this.drawBody(i,e,n),this.drawFooter(i,e,n),T8(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const s=this._active,r=e.map(({datasetIndex:l,index:c})=>{const d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[c],index:c}}),i=!$0(s,r),o=this._positionChanged(r,n);(i||o)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],o=this._getActiveElements(e,i,n,s),l=this._positionChanged(o,e),c=n||!$0(o,i)||l;return c&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),c}_getActiveElements(e,n,s,r){const i=this.options;if(e.type==="mouseout")return[];if(!r)return n.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,i.mode,i,s);return i.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:s,caretY:r,options:i}=this,o=Sh[i.position].call(this,e,n);return o!==!1&&(s!==o.x||r!==o.y)}}Ue(l2,"positioners",Sh);var Cge={id:"tooltip",_element:l2,positioners:Sh,afterInit(t,e,n){n&&(t.tooltip=new l2({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:J8},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Ege=(t,e,n,s)=>(typeof e=="string"?(n=t.push(e)-1,s.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function _ge(t,e,n,s){const r=t.indexOf(e);if(r===-1)return Ege(t,e,n,s);const i=t.lastIndexOf(e);return r!==i?n:r}const Pge=(t,e)=>t===null?null:Cr(Math.round(t),0,e);function vP(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class c2 extends Uu{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:r,label:i}of n)s[r]===i&&s.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Kt(e))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===e?n:_ge(s,e,Ct(n,e),this._addedLabels),Pge(n,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:s,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),n||(r=this.getLabels().length-1)),this.min=s,this.max=r}buildTicks(){const e=this.min,n=this.max,s=this.options.offset,r=[];let i=this.getLabels();i=e===0&&n===i.length-1?i:i.slice(e,n+1),this._valueRange=Math.max(i.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let o=e;o<=n;o++)r.push({value:o});return r}getLabelForValue(e){return vP.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Ue(c2,"id","category"),Ue(c2,"defaults",{ticks:{callback:vP}});function Ige(t,e){const n=[],{bounds:r,step:i,min:o,max:l,precision:c,count:d,maxTicks:u,maxDigits:h,includeBounds:f}=t,m=i||1,x=u-1,{min:p,max:w}=e,b=!Kt(o),v=!Kt(l),N=!Kt(d),E=(w-p)/(h+1);let T=g5((w-p)/x/m)*m,R,$,M,L;if(T<1e-14&&!b&&!v)return[{value:p},{value:w}];L=Math.ceil(w/T)-Math.floor(p/T),L>x&&(T=g5(L*T/x/m)*m),Kt(c)||(R=Math.pow(10,c),T=Math.ceil(T*R)/R),r==="ticks"?($=Math.floor(p/T)*T,M=Math.ceil(w/T)*T):($=p,M=w),b&&v&&i&&Vhe((l-o)/i,T/1e3)?(L=Math.round(Math.min((l-o)/T,u)),T=(l-o)/L,$=o,M=l):N?($=b?o:$,M=v?l:M,L=d-1,T=(M-$)/L):(L=(M-$)/T,ef(L,Math.round(L),T/1e3)?L=Math.round(L):L=Math.ceil(L));const U=Math.max(x5(T),x5($));R=Math.pow(10,Kt(c)?U:c),$=Math.round($*R)/R,M=Math.round(M*R)/R;let z=0;for(b&&(f&&$!==o?(n.push({value:o}),$<o&&z++,ef(Math.round(($+z*T)*R)/R,o,bP(o,E,t))&&z++):$<o&&z++);z<L;++z){const B=Math.round(($+z*T)*R)/R;if(v&&B>l)break;n.push({value:B})}return v&&f&&M!==l?n.length&&ef(n[n.length-1].value,l,bP(l,E,t))?n[n.length-1].value=l:n.push({value:l}):(!v||M===l)&&n.push({value:M}),n}function bP(t,e,{horizontal:n,minRotation:s}){const r=Zl(s),i=(n?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+t).length;return Math.min(e/i,o)}class Rge extends Uu{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Kt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:r,max:i}=this;const o=c=>r=n?r:c,l=c=>i=s?i:c;if(e){const c=ga(r),d=ga(i);c<0&&d<0?l(0):c>0&&d>0&&o(0)}if(r===i){let c=i===0?1:Math.abs(i*.05);l(i+c),e||o(r-c)}this.min=r,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=e,r;return s?(r=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const r={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,o=Ige(r,i);return e.bounds==="ticks"&&zhe(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const r=(s-n)/Math.max(e.length-1,1)/2;n-=r,s+=r}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(e){return p8(e,this.chart.options.locale,this.options.ticks.format)}}class d2 extends Rge{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Rs(e)?e:0,this.max=Rs(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,s=Zl(this.options.ticks.minRotation),r=(e?Math.sin(s):Math.cos(s))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Ue(d2,"id","linear"),Ue(d2,"defaults",{ticks:{callback:x8.formatters.numeric}});const oy={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ir=Object.keys(oy);function wP(t,e){return t-e}function NP(t,e){if(Kt(e))return null;const n=t._adapter,{parser:s,round:r,isoWeekday:i}=t._parseOpts;let o=e;return typeof s=="function"&&(o=s(o)),Rs(o)||(o=typeof s=="string"?n.parse(o,s):n.parse(o)),o===null?null:(r&&(o=r==="week"&&(tm(i)||i===!0)?n.startOf(o,"isoWeek",i):n.startOf(o,r)),+o)}function kP(t,e,n,s){const r=ir.length;for(let i=ir.indexOf(t);i<r-1;++i){const o=oy[ir[i]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(l*o.size))<=s)return ir[i]}return ir[r-1]}function Mge(t,e,n,s,r){for(let i=ir.length-1;i>=ir.indexOf(n);i--){const o=ir[i];if(oy[o].common&&t._adapter.diff(r,s,o)>=e-1)return o}return ir[n?ir.indexOf(n):0]}function Dge(t){for(let e=ir.indexOf(t)+1,n=ir.length;e<n;++e)if(oy[ir[e]].common)return ir[e]}function jP(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:s,hi:r}=_j(n,e),i=n[s]>=e?n[s]:n[r];t[i]=!0}}function $ge(t,e,n,s){const r=t._adapter,i=+r.startOf(e[0].value,s),o=e[e.length-1].value;let l,c;for(l=i;l<=o;l=+r.add(l,1,s))c=n[l],c>=0&&(e[c].major=!0);return e}function SP(t,e,n){const s=[],r={},i=e.length;let o,l;for(o=0;o<i;++o)l=e[o],r[l]=o,s.push({value:l,major:!1});return i===0||!n?s:$ge(t,s,r,n)}class V0 extends Uu{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const s=e.time||(e.time={}),r=this._adapter=new jme._date(e.adapters.date);r.init(n),Zh(s.displayFormats,r.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:NP(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,s=e.time.unit||"day";let{min:r,max:i,minDefined:o,maxDefined:l}=this.getUserBounds();function c(d){!o&&!isNaN(d.min)&&(r=Math.min(r,d.min)),!l&&!isNaN(d.max)&&(i=Math.max(i,d.max))}(!o||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),r=Rs(r)&&!isNaN(r)?r:+n.startOf(Date.now(),s),i=Rs(i)&&!isNaN(i)?i:+n.endOf(Date.now(),s)+1,this.min=Math.min(r,i-1),this.max=Math.max(r+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],s=e[e.length-1]),{min:n,max:s}}buildTicks(){const e=this.options,n=e.time,s=e.ticks,r=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const i=this.min,o=this.max,l=Yhe(r,i,o);return this._unit=n.unit||(s.autoSkip?kP(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):Mge(this,l.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:Dge(this._unit),this.initOffsets(r),e.reverse&&l.reverse(),SP(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,s=0,r,i;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?n=1-r:n=(this.getDecimalForValue(e[1])-r)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?s=i:s=(i-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=Cr(n,0,o),s=Cr(s,0,o),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const e=this._adapter,n=this.min,s=this.max,r=this.options,i=r.time,o=i.unit||kP(i.minUnit,n,s,this._getLabelCapacity(n)),l=Ct(r.ticks.stepSize,1),c=o==="week"?i.isoWeekday:!1,d=tm(c)||c===!0,u={};let h=n,f,m;if(d&&(h=+e.startOf(h,"isoWeek",c)),h=+e.startOf(h,d?"day":o),e.diff(s,n,o)>1e5*l)throw new Error(n+" and "+s+" are too far apart with stepSize of "+l+" "+o);const x=r.ticks.source==="data"&&this.getDataTimestamps();for(f=h,m=0;f<s;f=+e.add(f,l,o),m++)jP(u,f,x);return(f===s||r.bounds==="ticks"||m===1)&&jP(u,f,x),Object.keys(u).sort(wP).map(p=>+p)}getLabelForValue(e){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(e,s.tooltipFormat):n.format(e,s.displayFormats.datetime)}format(e,n){const r=this.options.time.displayFormats,i=this._unit,o=n||r[i];return this._adapter.format(e,o)}_tickFormatFunction(e,n,s,r){const i=this.options,o=i.ticks.callback;if(o)return un(o,[e,n,s],this);const l=i.time.displayFormats,c=this._unit,d=this._majorUnit,u=c&&l[c],h=d&&l[d],f=s[n],m=d&&h&&f&&f.major;return this._adapter.format(e,r||(m?h:u))}generateTickLabels(e){let n,s,r;for(n=0,s=e.length;n<s;++n)r=e[n],r.label=this._tickFormatFunction(r.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,s=this.ctx.measureText(e).width,r=Zl(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(r),o=Math.sin(r),l=this._resolveTickFontOptions(0).size;return{w:s*i+l*o,h:s*o+l*i}}_getLabelCapacity(e){const n=this.options.time,s=n.displayFormats,r=s[n.unit]||s.millisecond,i=this._tickFormatFunction(e,0,SP(this,[e],this._majorUnit),r),o=this._getLabelSize(i),l=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],n,s;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,s=r.length;n<s;++n)e=e.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,s;if(e.length)return e;const r=this.getLabels();for(n=0,s=r.length;n<s;++n)e.push(NP(this,r[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return h8(e.sort(wP))}}Ue(V0,"id","time"),Ue(V0,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Mp(t,e,n){let s=0,r=t.length-1,i,o,l,c;n?(e>=t[s].pos&&e<=t[r].pos&&({lo:s,hi:r}=ec(t,"pos",e)),{pos:i,time:l}=t[s],{pos:o,time:c}=t[r]):(e>=t[s].time&&e<=t[r].time&&({lo:s,hi:r}=ec(t,"time",e)),{time:i,pos:l}=t[s],{time:o,pos:c}=t[r]);const d=o-i;return d?l+(c-l)*(e-i)/d:l}class AP extends V0{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Mp(n,this.min),this._tableRange=Mp(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:s}=this,r=[],i=[];let o,l,c,d,u;for(o=0,l=e.length;o<l;++o)d=e[o],d>=n&&d<=s&&r.push(d);if(r.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(o=0,l=r.length;o<l;++o)u=r[o+1],c=r[o-1],d=r[o],Math.round((u+c)/2)!==d&&i.push({time:d,pos:o/(l-1)});return i}_generate(){const e=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((r,i)=>r-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?e=this.normalize(n.concat(s)):e=n.length?n:s,e=this._cache.all=e,e}getDecimalForValue(e){return(Mp(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return Mp(this._table,s*this._tableRange+this._minPos,!0)}}Ue(AP,"id","timeseries"),Ue(AP,"defaults",V0.defaults);const Q8="label";function TP(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function Oge(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function Z8(t,e){t.labels=e}function eB(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Q8;const s=[];t.datasets=e.map(r=>{const i=t.datasets.find(o=>o[n]===r[n]);return!i||!r.data||s.includes(i)?{...r}:(s.push(i),Object.assign(i,r),i)})}function Fge(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Q8;const n={labels:[],datasets:[]};return Z8(n,t.labels),eB(n,t.datasets,e),n}function Lge(t,e){const{height:n=150,width:s=300,redraw:r=!1,datasetIdKey:i,type:o,data:l,options:c,plugins:d=[],fallbackContent:u,updateMode:h,...f}=t,m=y.useRef(null),x=y.useRef(null),p=()=>{m.current&&(x.current=new iy(m.current,{type:o,data:Fge(l,i),options:c&&{...c},plugins:d}),TP(e,x.current))},w=()=>{TP(e,null),x.current&&(x.current.destroy(),x.current=null)};return y.useEffect(()=>{!r&&x.current&&c&&Oge(x.current,c)},[r,c]),y.useEffect(()=>{!r&&x.current&&Z8(x.current.config.data,l.labels)},[r,l.labels]),y.useEffect(()=>{!r&&x.current&&l.datasets&&eB(x.current.config.data,l.datasets,i)},[r,l.datasets]),y.useEffect(()=>{x.current&&(r?(w(),setTimeout(p)):x.current.update(h))},[r,c,l.labels,l.datasets,h]),y.useEffect(()=>{x.current&&(w(),setTimeout(p))},[o]),y.useEffect(()=>(p(),()=>w()),[]),Pe.createElement("canvas",{ref:m,role:"img",height:n,width:s,...f},u)}const Bge=y.forwardRef(Lge);function tB(t,e){return iy.register(e),y.forwardRef((n,s)=>Pe.createElement(Bge,{...n,ref:s,type:t}))}const Uge=tB("line",kg),Vge=tB("bar",Ng);iy.register(c2,d2,Ag,Uo,Tg,bge,Cge,yge,hge);const zge=({selectedToken:t,onClose:e,userWallet:n})=>{const{provider:s,signer:r,isConnected:i}=xn(),[o,l]=y.useState({buys:[],sells:[]}),[c,d]=y.useState([]),[u,h]=y.useState([]),[f,m]=y.useState([]),[x,p]=y.useState([]),[w,b]=y.useState("sell"),[v,N]=y.useState("limit"),[E,T]=y.useState(""),[R,$]=y.useState(""),[M,L]=y.useState(!1),U=!0;y.useEffect(()=>{(async()=>{try{z(),be.success("Marketplace loaded! Permissionless trading is enabled.")}catch(A){console.error("Error initializing marketplace:",A),z()}})()},[t]);const z=()=>{const S=[{orderId:"1",side:"sell",price:1.05,amount:100,total:105,timestamp:Date.now(),user:"0x123...",filled:0,status:"active"},{orderId:"2",side:"sell",price:1.04,amount:250,total:260,timestamp:Date.now(),user:"0x456...",filled:0,status:"active"},{orderId:"3",side:"sell",price:1.03,amount:150,total:154.5,timestamp:Date.now(),user:"0x789...",filled:0,status:"active"},{orderId:"4",side:"sell",price:1.02,amount:300,total:306,timestamp:Date.now(),user:"0xabc...",filled:0,status:"active"},{orderId:"5",side:"sell",price:1.01,amount:200,total:202,timestamp:Date.now(),user:"0xdef...",filled:0,status:"active"}],A=[{orderId:"6",side:"buy",price:.99,amount:150,total:148.5,timestamp:Date.now(),user:"0x111...",filled:0,status:"active"},{orderId:"7",side:"buy",price:.98,amount:200,total:196,timestamp:Date.now(),user:"0x222...",filled:0,status:"active"},{orderId:"8",side:"buy",price:.97,amount:100,total:97,timestamp:Date.now(),user:"0x333...",filled:0,status:"active"},{orderId:"9",side:"buy",price:.96,amount:300,total:288,timestamp:Date.now(),user:"0x444...",filled:0,status:"active"},{orderId:"10",side:"buy",price:.95,amount:250,total:237.5,timestamp:Date.now(),user:"0x555...",filled:0,status:"active"}];l({sells:S.sort((O,q)=>O.price-q.price),buys:A.sort((O,q)=>q.price-O.price)});const F=[{tradeId:"1",price:1,amount:50,timestamp:Date.now()-3e5,side:"buy"},{tradeId:"2",price:.99,amount:75,timestamp:Date.now()-6e5,side:"sell"},{tradeId:"3",price:1.01,amount:25,timestamp:Date.now()-9e5,side:"buy"},{tradeId:"4",price:1,amount:100,timestamp:Date.now()-12e5,side:"sell"},{tradeId:"5",price:1.02,amount:60,timestamp:Date.now()-15e5,side:"buy"}];d(F);const _=Array.from({length:24},(O,q)=>t.currentPrice+(Math.random()-.5)*.1);m(_);const k=Array.from({length:24},()=>Math.random()*1e3+500);p(k)},B=async()=>{if(!E||!R){be.error("Please enter valid price and amount");return}if(!i){be.error("Please connect your wallet");return}be.info("Redirecting to OrderBook for advanced trading..."),L(!0);try{const S=parseFloat(E),A=parseInt(R);await new Promise(F=>setTimeout(F,1e3)),w==="sell"?be.success(`Mock sell order created: ${A} tokens at ${S} U2U each`):be.success(`Mock buy order created: ${A} tokens at ${S} U2U each`),z(),T(""),$("")}catch(S){console.error("Mock order creation:",S),be.error("Mock order creation demonstration completed")}finally{L(!1)}},D=async S=>{try{L(!0),be.info("Mock purchase from P2P order..."),await new Promise(A=>setTimeout(A,1e3)),be.success(`Mock purchase completed: ${S.amount} tokens at ${S.price} U2U each`),z()}catch(A){console.error("Mock purchase:",A),be.error("Mock purchase demonstration completed")}finally{L(!1)}},g=async S=>{try{L(!0),be.info("Mock order cancellation..."),await new Promise(A=>setTimeout(A,1e3)),be.success(`Mock order cancelled: ${S}`),z()}catch(A){console.error("Mock cancellation:",A),be.error("Mock cancellation demonstration completed")}finally{L(!1)}},j={labels:Array.from({length:24},(S,A)=>`${A}:00`),datasets:[{label:"Price (ETH)",data:f,borderColor:t.priceChange24h>=0?"#10B981":"#EF4444",backgroundColor:t.priceChange24h>=0?"rgba(16, 185, 129, 0.1)":"rgba(239, 68, 68, 0.1)",borderWidth:2,fill:!0,tension:.4}]},C={labels:Array.from({length:24},(S,A)=>`${A}:00`),datasets:[{label:"Volume",data:x,backgroundColor:"rgba(59, 130, 246, 0.8)",borderColor:"rgb(59, 130, 246)",borderWidth:1}]},P={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{x:{display:!0,grid:{display:!1}},y:{display:!0,grid:{color:"rgba(0, 0, 0, 0.1)"}}}};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl max-w-7xl w-full h-[90vh] overflow-hidden flex flex-col",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-b border-blue-200 p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(Qr,{className:"w-4 h-4 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-blue-900",children:" Trading Demo Interface"}),a.jsx("p",{className:"text-sm text-blue-700",children:"This is a demonstration interface with mock data."})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Z,{variant:"outline",size:"sm",onClick:()=>window.open("/orderbook","_blank"),className:"bg-white text-blue-600 border-blue-300 hover:bg-blue-50",children:" Open Real OrderBook"}),a.jsx("p",{className:"text-xs text-blue-600",children:"Use OrderBook for actual trading"})]})]})}),a.jsxs("div",{className:"p-6 border-b flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(Qr,{className:"w-5 h-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-bold text-gray-900",children:t.name}),a.jsxs("p",{className:"text-sm text-gray-600",children:["#",t.tokenId,"  Secondary Market"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[t.currentPrice.toFixed(4)," ETH"]}),a.jsxs("div",{className:`flex items-center justify-center space-x-1 ${t.priceChange24h>=0?"text-green-600":"text-red-600"}`,children:[t.priceChange24h>=0?a.jsx(In,{className:"w-4 h-4"}):a.jsx(fN,{className:"w-4 h-4"}),a.jsxs("span",{className:"text-sm font-medium",children:[t.priceChange24h>=0?"+":"",t.priceChange24h.toFixed(2),"%"]})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600",children:"24h Volume"}),a.jsxs("p",{className:"font-bold",children:[t.volume24h.toFixed(2)," ETH"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Market Cap"}),a.jsxs("p",{className:"font-bold",children:[(t.marketCap/1e3).toFixed(1),"K ETH"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Your Balance"}),a.jsx("p",{className:"font-bold text-blue-600",children:t.userBalance})]})]})]})]}),a.jsx("div",{className:"mx-6",children:a.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[a.jsx("h3",{className:"font-medium text-green-800 mb-2",children:" Trading Enabled"}),a.jsx("p",{className:"text-sm text-green-600",children:"Permissionless trading is active. No KYC required."})]})}),a.jsx(Z,{variant:"outline",onClick:e,children:"Close"})]}),a.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[a.jsxs("div",{className:"flex-1 flex flex-col",children:[a.jsxs("div",{className:"h-80 p-6 border-b",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Price Chart (24h)"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(Ie,{variant:"outline",children:"1H"}),a.jsx(Ie,{variant:"default",children:"24H"}),a.jsx(Ie,{variant:"outline",children:"7D"}),a.jsx(Ie,{variant:"outline",children:"30D"})]})]}),a.jsx("div",{className:"h-64",children:a.jsx(Uge,{data:j,options:P})})]}),a.jsxs("div",{className:"flex-1 p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"P2P Trading"}),a.jsx("p",{className:"text-sm text-gray-600",children:"List your tokens for sale or buy from other users in the peer-to-peer marketplace"})]}),a.jsxs(ba,{value:w,onValueChange:S=>b(S),children:[a.jsxs(wa,{className:"grid w-full grid-cols-2",children:[a.jsx(tn,{value:"sell",className:"text-red-600 font-semibold",children:" List Tokens for Sale"}),a.jsx(tn,{value:"buy",className:"text-green-600",children:" Buy from Market"})]}),a.jsx(sn,{value:"sell",className:"space-y-4",children:a.jsx(CP,{side:"sell",orderType:v,setOrderType:N,price:E,setPrice:T,amount:R,setAmount:$,onSubmit:B,loading:M,tokenInfo:t,kycVerified:!0})}),a.jsx(sn,{value:"buy",className:"space-y-4",children:a.jsx(CP,{side:"buy",orderType:v,setOrderType:N,price:E,setPrice:T,amount:R,setAmount:$,onSubmit:B,loading:M,tokenInfo:t,kycVerified:!0})})]})]})]}),a.jsxs("div",{className:"w-96 border-l flex flex-col",children:[a.jsxs("div",{className:"flex-1 p-4",children:[a.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[a.jsx(Do,{className:"w-5 h-5 mr-2"}),"Order Book"]}),a.jsx(Hge,{orderBook:o,currentPrice:t.currentPrice,onBuyFromOrder:D,onCancelOrder:g,userWallet:n,kycVerified:U})]}),a.jsx("div",{className:"h-64 p-4 border-t",children:a.jsxs(ba,{defaultValue:"trades",className:"h-full",children:[a.jsxs(wa,{className:"grid w-full grid-cols-2 mb-4",children:[a.jsx(tn,{value:"trades",children:"Recent Trades"}),a.jsx(tn,{value:"myorders",children:"My Orders"})]}),a.jsx(sn,{value:"trades",className:"h-44",children:a.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:c.map(S=>a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${S.side==="buy"?"bg-green-500":"bg-red-500"}`}),a.jsx("span",{className:"font-mono",children:S.price.toFixed(4)})]}),a.jsx("span",{className:"text-gray-600",children:S.amount}),a.jsx("span",{className:"text-xs text-gray-500",children:new Date(S.timestamp).toLocaleTimeString()})]},S.tradeId))})}),a.jsx(sn,{value:"myorders",className:"h-44",children:a.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:u.length===0?a.jsx("div",{className:"text-center text-gray-500 py-4",children:"No active orders"}):u.map(S=>a.jsxs("div",{className:"flex items-center justify-between text-sm bg-gray-50 p-2 rounded",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsxs("span",{className:"font-mono text-xs",children:[S.price.toFixed(4)," ETH"]}),a.jsxs("span",{className:"text-gray-500 text-xs",children:[S.amount," tokens"]})]}),a.jsx(Ie,{variant:S.status==="active"?"default":"secondary",children:S.status}),S.status==="active"&&a.jsx(Z,{size:"sm",variant:"outline",className:"text-xs h-6 px-2 border-red-300 text-red-600 hover:bg-red-100",onClick:()=>g(S.orderId),children:"Cancel"})]},S.orderId))})})]})})]})]}),a.jsxs("div",{className:"h-32 p-4 border-t",children:[a.jsx("h3",{className:"text-sm font-semibold mb-2",children:"Volume (24h)"}),a.jsx("div",{className:"h-20",children:a.jsx(Vge,{data:C,options:{...P,scales:{...P.scales,y:{display:!1}}}})})]})]})})},CP=({side:t,orderType:e,setOrderType:n,price:s,setPrice:r,amount:i,setAmount:o,onSubmit:l,loading:c,tokenInfo:d,kycVerified:u})=>{const h=s&&i?(parseFloat(s)*parseFloat(i)).toFixed(6):"0";return a.jsxs(fe,{children:[a.jsxs(ot,{children:[a.jsxs(lt,{className:`flex items-center ${t==="buy"?"text-green-600":"text-red-600"}`,children:[t==="buy"?a.jsx(sa,{className:"w-5 h-5 mr-2"}):a.jsx(tV,{className:"w-5 h-5 mr-2"}),t==="buy"?"Buy":"List for Sale"," ",d.symbol]}),t==="sell"&&a.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Create a sell order to list your ",d.symbol," tokens for sale in the P2P marketplace"]})]}),a.jsxs(pe,{className:"space-y-4",children:[a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(Z,{variant:e==="limit"?"default":"outline",size:"sm",onClick:()=>n("limit"),className:"flex-1",children:"Limit Order"}),a.jsx(Z,{variant:e==="market"?"default":"outline",size:"sm",onClick:()=>n("market"),className:"flex-1",children:"Market Order"})]}),e==="limit"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Nt,{htmlFor:"price",children:"Price (ETH)"}),a.jsx(Et,{id:"price",type:"number",placeholder:"0.0000",value:s,onChange:f=>r(f.target.value),step:"0.0001"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Nt,{htmlFor:"amount",children:"Amount"}),t==="sell"&&a.jsxs("span",{className:"text-xs text-gray-500",children:["Available: ",d.userBalance]})]}),a.jsx(Et,{id:"amount",type:"number",placeholder:"0",value:i,onChange:f=>o(f.target.value),step:"1"}),t==="sell"&&a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(Z,{variant:"outline",size:"sm",onClick:()=>o((d.userBalance*.25).toString()),children:"25%"}),a.jsx(Z,{variant:"outline",size:"sm",onClick:()=>o((d.userBalance*.5).toString()),children:"50%"}),a.jsx(Z,{variant:"outline",size:"sm",onClick:()=>o((d.userBalance*.75).toString()),children:"75%"}),a.jsx(Z,{variant:"outline",size:"sm",onClick:()=>o(d.userBalance.toString()),children:"Max"})]})]}),a.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Total"}),a.jsxs("span",{className:"font-bold",children:[h," ETH"]})]})}),a.jsx(Z,{onClick:l,disabled:c||!i||e==="limit"&&!s||!u,className:`w-full ${t==="buy"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"} ${u?"":"opacity-50 cursor-not-allowed"}`,children:c?a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating Order..."]}):u?`${t==="buy"?"Buy":"List for Sale"} ${d.symbol}`:"KYC Verification Required"})]})]})},Hge=({orderBook:t,currentPrice:e,onBuyFromOrder:n,onCancelOrder:s,userWallet:r="",kycVerified:i=!1})=>a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-red-600 mb-2",children:"Sell Orders"}),a.jsxs("div",{className:"space-y-1",children:[t.sells.slice(0,8).map(o=>{const l=o.user.startsWith(r.substring(0,6));return a.jsxs("div",{className:"flex justify-between items-center text-xs bg-red-50 p-2 rounded",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsxs("span",{className:"text-red-600 font-mono",children:[o.price.toFixed(4)," ETH"]}),a.jsx("span",{className:"text-gray-500 text-xs",children:o.user})]}),a.jsx("span",{className:"text-gray-600 font-medium",children:o.amount}),a.jsxs("div",{className:"flex flex-col items-end",children:[a.jsx("span",{className:"text-gray-900 font-medium",children:o.total.toFixed(4)}),l?a.jsx(Z,{size:"sm",variant:"outline",className:"text-xs h-6 px-2 mt-1 border-red-300 text-red-600 hover:bg-red-100",onClick:()=>s==null?void 0:s(o.orderId),children:"Cancel"}):a.jsx(Z,{size:"sm",variant:"default",className:"text-xs h-6 px-2 mt-1 bg-green-600 hover:bg-green-700",onClick:()=>n==null?void 0:n(o),disabled:!i,children:"Buy"})]})]},o.orderId)}),t.sells.length===0&&a.jsx("div",{className:"text-center text-gray-500 py-4",children:"No sell orders available"})]})]}),a.jsx("div",{className:"py-2 px-3 bg-gray-100 rounded text-center",children:a.jsxs("span",{className:"font-bold text-gray-900",children:[e.toFixed(4)," ETH"]})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-green-600 mb-2",children:"Buy Orders"}),a.jsx("div",{className:"space-y-1",children:t.buys.slice(0,5).map(o=>a.jsxs("div",{className:"flex justify-between text-xs",children:[a.jsx("span",{className:"text-green-600 font-mono",children:o.price.toFixed(4)}),a.jsx("span",{className:"text-gray-600",children:o.amount}),a.jsx("span",{className:"text-gray-500",children:o.total.toFixed(2)})]},o.orderId))})]})]}),Wge=["function isRegistered(address user) external view returns (bool)","function registerIdentity(address user, address provider) external","function getIdentity(address user) external view returns (address)"],qge=["function hasValidClaim(address user) external view returns (bool)","function issueClaim(address user) external","function getClaimData(address user) external view returns (tuple(uint256 claimId, uint256 issuanceDate, uint256 expiryDate, bool isValid))"],Kge=["function canTransfer(address from, address to, uint256 amount) external view returns (bool)","function validateCompliance(address user) external view returns (bool)"];class Gge{constructor(e,n){Ue(this,"provider");Ue(this,"signer");Ue(this,"identityRegistry",null);Ue(this,"kycVendor",null);Ue(this,"ruleContract",null);Ue(this,"contractsInitialized",!1);this.provider=e,this.signer=n,this.initializeContracts()}async initializeContracts(){try{if(Bn.IDENTITY_REGISTRY&&Bn.MOCK_KYC_VENDOR&&Bn.RULE_CONTRACT){const[e,n,s]=await Promise.all([this.provider.getCode(Bn.IDENTITY_REGISTRY),this.provider.getCode(Bn.MOCK_KYC_VENDOR),this.provider.getCode(Bn.RULE_CONTRACT)]);e!=="0x"&&n!=="0x"&&s!=="0x"?(this.identityRegistry=new qe(Bn.IDENTITY_REGISTRY,Wge,this.signer||this.provider),this.kycVendor=new qe(Bn.MOCK_KYC_VENDOR,qge,this.signer||this.provider),this.ruleContract=new qe(Bn.RULE_CONTRACT,Kge,this.provider),this.contractsInitialized=!0,console.log("ERC-3643 contracts initialized successfully")):console.warn("One or more ERC-3643 contracts not found at specified addresses")}else console.warn("ERC-3643 contract addresses not configured for current network")}catch(e){console.error("Failed to initialize ERC-3643 contracts:",e)}}async checkComplianceStatus(e){try{if(!this.contractsInitialized||!this.identityRegistry||!this.kycVendor)return console.warn("ERC-3643 contracts not available, returning default compliance status"),{isRegistered:!1,hasValidKYC:!1,canTrade:!1,lastChecked:Date.now()};const n=await this.identityRegistry.isRegistered(e),s=await this.kycVendor.hasValidClaim(e);let r;if(s)try{const o=await this.kycVendor.getClaimData(e);r={claimId:o.claimId.toString(),issuanceDate:Number(o.issuanceDate),expiryDate:Number(o.expiryDate),isValid:o.isValid}}catch(o){console.warn("Could not retrieve KYC claim data:",o)}return{isRegistered:n,hasValidKYC:s,canTrade:n&&s,kycData:r,lastChecked:Date.now()}}catch(n){return console.error("Error checking compliance status:",n),{isRegistered:!1,hasValidKYC:!1,canTrade:!1,lastChecked:Date.now()}}}async registerForKYC(e){if(!this.signer)throw new Error("Signer required for KYC registration");if(!this.contractsInitialized||!this.identityRegistry||!this.kycVendor)throw new Error("ERC-3643 contracts not available. Please ensure you are connected to the correct network.");try{await this.identityRegistry.isRegistered(e)||(console.log("Registering user identity..."),await(await this.identityRegistry.registerIdentity(e,Bn.MOCK_KYC_VENDOR)).wait(),console.log("Identity registered successfully")),console.log("Issuing KYC claim...");const r=await(await this.kycVendor.issueClaim(e)).wait();return console.log("KYC claim issued successfully"),r.transactionHash}catch(n){throw console.error("KYC registration failed:",n),new Error(`KYC registration failed: ${n.message}`)}}async validateTransfer(e,n,s){try{if(!this.contractsInitialized)return console.warn("ERC-3643 contracts not available, allowing transfer"),{canTransfer:!0,reason:"Compliance contracts not available - transfer allowed"};const[r,i]=await Promise.all([this.checkComplianceStatus(e),this.checkComplianceStatus(n)]);if(!r.canTrade)return{canTransfer:!1,reason:"Sender not KYC verified",requiresAction:"Complete KYC verification to enable trading"};if(!i.canTrade)return{canTransfer:!1,reason:"Recipient not KYC verified",requiresAction:"Recipient must complete KYC verification"};if(this.ruleContract)try{if(!await this.ruleContract.canTransfer(e,n,pr(s.toString())))return{canTransfer:!1,reason:"Transfer blocked by compliance rules",requiresAction:"Contact support for rule clarification"}}catch(o){console.warn("Rule contract validation failed, allowing transfer:",o)}return{canTransfer:!0,reason:"All compliance checks passed"}}catch(r){return console.error("Transfer validation failed:",r),{canTransfer:!1,reason:"Validation error occurred",requiresAction:"Please try again or contact support"}}}async isKYCExpired(e){try{const n=await this.checkComplianceStatus(e);return n.kycData?Math.floor(Date.now()/1e3)>n.kycData.expiryDate:!0}catch(n){return console.error("Error checking KYC expiry:",n),!0}}async getIdentityProvider(e){try{return await this.identityRegistry.getIdentity(e)}catch(n){return console.error("Error getting identity provider:",n),null}}async batchCheckCompliance(e){const n=new Map;try{const s=e.map(i=>this.checkComplianceStatus(i).then(o=>({address:i,status:o})).catch(o=>({address:i,status:{isRegistered:!1,hasValidKYC:!1,canTrade:!1,lastChecked:Date.now()}})));(await Promise.all(s)).forEach(({address:i,status:o})=>{n.set(i,o)})}catch(s){console.error("Batch compliance check failed:",s)}return n}getContractAddresses(){return Bn}formatComplianceStatus(e){return e.canTrade?"Verified ":e.isRegistered&&!e.hasValidKYC?"KYC Pending ":e.isRegistered?"Verification Failed ":"Registration Required "}getKYCTimeToExpiry(e){if(!e.kycData||!e.kycData.isValid)return null;const n=Math.floor(Date.now()/1e3),s=e.kycData.expiryDate-n;if(s<=0)return"Expired";const r=Math.floor(s/(24*60*60)),i=Math.floor(s%(24*60*60)/(60*60));return r>0?`${r} days, ${i} hours`:`${i} hours`}}let vb=null;const z0=(t,e)=>(vb||(vb=new Gge(t,e)),vb),Yge=dx("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),hs=y.forwardRef(({className:t,variant:e,...n},s)=>a.jsx("div",{ref:s,role:"alert",className:rt(Yge({variant:e}),t),...n}));hs.displayName="Alert";const Xge=y.forwardRef(({className:t,...e},n)=>a.jsx("h5",{ref:n,className:rt("mb-1 font-medium leading-none tracking-tight",t),...e}));Xge.displayName="AlertTitle";const fs=y.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:rt("text-sm [&_p]:leading-relaxed",t),...e}));fs.displayName="AlertDescription";class u2{static async checkAndSwitchNetwork(e){try{if(!window.ethereum)return be.error("Please install MetaMask to continue"),!1;const n=bt[ct],s=await window.ethereum.request({method:"eth_chainId"});if(parseInt(s,16)===n.chainId)return!0;if(!window.confirm(`You need to switch to ${n.name} (Chain ID: ${n.chainId}) to use ERC-3643 features. Switch now?`))return be.error("Please switch to the correct network to continue"),!1;try{return await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:`0x${n.chainId.toString(16)}`}]}),be.success(`Switched to ${n.name}`),!0}catch(o){if(o.code===4902)try{return await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:`0x${n.chainId.toString(16)}`,chainName:n.name,nativeCurrency:n.nativeCurrency,rpcUrls:[n.rpcUrl],blockExplorerUrls:[n.blockExplorer]}]}),be.success(`Added and switched to ${n.name}`),!0}catch(l){return console.error("Failed to add network:",l),be.error("Failed to add network. Please add it manually."),!1}else return console.error("Failed to switch network:",o),be.error("Failed to switch network. Please switch manually."),!1}}catch(n){return console.error("Network detection error:",n),be.error("Network detection failed"),!1}}static isCorrectNetwork(e){return e?e===bt[ct].chainId:!1}static getCurrentNetworkInfo(){return bt[ct]}static async getNetworkStatus(){try{if(!window.ethereum)return{isConnected:!1,isCorrectNetwork:!1,targetChainId:bt[ct].chainId,networkName:bt[ct].name};const e=await window.ethereum.request({method:"eth_chainId"}),n=parseInt(e,16),s=bt[ct].chainId;return{isConnected:!0,isCorrectNetwork:n===s,currentChainId:n,targetChainId:s,networkName:bt[ct].name}}catch(e){return console.error("Failed to get network status:",e),{isConnected:!1,isCorrectNetwork:!1,targetChainId:bt[ct].chainId,networkName:bt[ct].name}}}}const Jge=({onNetworkSwitched:t})=>{const{isConnected:e,chainId:n}=xn(),[s,r]=y.useState(null),[i,o]=y.useState(!1),l=bt[ct];y.useEffect(()=>{e&&(async()=>{const u=await u2.getNetworkStatus();r(u)})()},[e,n]);const c=async()=>{o(!0);try{await u2.checkAndSwitchNetwork()&&t&&t()}catch(d){console.error("Network switch failed:",d)}finally{o(!1)}};return e?s?s.isCorrectNetwork?a.jsxs(hs,{className:"border-green-200 bg-green-50",children:[a.jsx(an,{className:"h-4 w-4 text-green-600"}),a.jsxs(fs,{className:"text-green-800",children:["Connected to ",l.name," - ERC-3643 features available"]})]}):a.jsxs(fe,{className:"border-gray-800 bg-gray-900",children:[a.jsx(ot,{className:"pb-3",children:a.jsxs(lt,{className:"flex items-center gap-2 text-orange-800",children:[a.jsx(Nf,{className:"h-5 w-5"}),"Network Switch Required"]})}),a.jsxs(pe,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-orange-700",children:"Current Network:"}),a.jsxs(Ie,{variant:"outline",className:"border-orange-300 text-orange-700",children:["Chain ID: ",s.currentChainId]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-orange-700",children:"Required Network:"}),a.jsxs(Ie,{className:"bg-green-600 text-white",children:[l.name," (Chain ID: ",l.chainId,")"]})]})]}),a.jsx(hs,{className:"border-orange-300 bg-orange-100",children:a.jsxs(fs,{className:"text-orange-800 text-sm",children:["ERC-3643 compliance features require connection to ",l.name,". Your existing dApp features will continue to work on any network."]})}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[a.jsx(Z,{onClick:c,disabled:i,className:"flex-1",variant:"default",children:i?"Switching...":`Switch to ${l.name}`}),a.jsxs(Z,{variant:"outline",onClick:()=>window.open(l.blockExplorer,"_blank"),className:"flex items-center gap-2",children:[a.jsx(wf,{className:"h-4 w-4"}),"Explorer"]})]}),a.jsxs("div",{className:"text-xs text-orange-600 space-y-1",children:[a.jsx("p",{children:a.jsx("strong",{children:"Network Details:"})}),a.jsxs("p",{children:[" RPC URL: ",l.rpcUrl]}),a.jsxs("p",{children:[" Chain ID: ",l.chainId]}),a.jsxs("p",{children:[" Currency: ",l.nativeCurrency.symbol]})]})]})]}):a.jsxs(hs,{children:[a.jsx(aA,{className:"h-4 w-4"}),a.jsx(fs,{children:"Checking network status..."})]}):a.jsxs(hs,{children:[a.jsx(aA,{className:"h-4 w-4"}),a.jsx(fs,{children:"Please connect your wallet to check network status."})]})},Qge={apiKey:"",apiSecret:""},EP="0x...",Zge=["function publishMerkleTree(bytes32 root, string calldata ipfsCID, uint256 expiryTimestamp) external returns (bytes32 treeId)","function verifyKYC(bytes32 treeId, bytes32[] calldata proof) external returns (bool)","function verifyKYCForUser(address user, bytes32 treeId, bytes32[] calldata proof) external view returns (bool)","function isKYCVerified(address user) external view returns (bool)","function getLeafHash(address user) external view returns (bytes32)","function getActiveTreeIds() external view returns (bytes32[] memory)","function getTreeData(bytes32 treeId) external view returns (tuple(bytes32 root, string ipfsCID, uint256 timestamp, uint256 expiryTimestamp, bool isActive, address issuer))"],e0e=({isOpen:t,onClose:e,userAddress:n,onKYCComplete:s,isAdmin:r=!1})=>{const{provider:i,signer:o,address:l}=xn(),[c,d]=y.useState(null),[u,h]=y.useState(null),[f,m]=y.useState(null),[x,p]=y.useState(null),w=n||l,[b,v]=y.useState({fullName:"",email:"",dateOfBirth:"",nationality:"",documentType:"passport",documentNumber:"",documentExpiry:"",verificationLevel:"basic"}),[N,E]=y.useState({step:"form",loading:!1}),[T,R]=y.useState(""),[$,M]=y.useState([]);y.useEffect(()=>{(async()=>{if(i){const C=await u2.getNetworkStatus();p(C);const P=z0(i,o);if(d(P),o&&EP){const S=new qe(EP,Zge,o);m(S)}}})()},[i,o]),y.useEffect(()=>{t&&f&&L()},[t,f]);const L=async()=>{if(f)try{const j=await f.getActiveTreeIds(),C=await Promise.all(j.map(async P=>{const S=await f.getTreeData(P);return{id:P,...S}}));M(C)}catch(j){console.error("Failed to load active trees:",j)}},U=async()=>{if(!u||!w){be.error("Service not initialized or address missing");return}E(j=>({...j,loading:!0,step:"upload"}));try{const j={address:w,...b,timestamp:Math.floor(Date.now()/1e3),ipAddress:"masked",userAgent:"masked"},C=await u.uploadKYCData(j,{name:`KYC-${w}-${Date.now()}`,keyvalues:{address:w,verificationLevel:b.verificationLevel,type:"individual-kyc"}});E(P=>({...P,ipfsHash:C,step:"verify",loading:!1})),be.success("KYC data uploaded to IPFS successfully!")}catch(j){console.error("KYC upload failed:",j),E(C=>({...C,loading:!1,error:j.message,step:"form"})),be.error(`Upload failed: ${j.message}`)}},z=async()=>{if(!u||!f||!T.trim()){be.error("Missing required data for batch KYC");return}E(j=>({...j,loading:!0}));try{const j=T.split(`
`).map(k=>k.trim()).filter(k=>k&&ise(k));if(j.length===0)throw new Error("No valid addresses provided");const C=Fx(r$(`kyc-salt-${Date.now()}`)),P=u.generateMerkleTree(j,l||"",C),S=await u.uploadMerkleTree(P,{name:`MerkleKYC-Batch-${Date.now()}`,keyvalues:{type:"merkle-kyc-tree",userCount:j.length.toString(),issuer:l||""}}),A=Math.floor(Date.now()/1e3)+365*24*60*60,_=await(await f.publishMerkleTree(P.root,S,A)).wait();E(k=>({...k,loading:!1,ipfsHash:S,transactionHash:_.transactionHash,step:"complete"})),be.success(`Batch KYC published! ${j.length} users can now verify.`),L()}catch(j){console.error("Batch KYC failed:",j),E(C=>({...C,loading:!1,error:j.message})),be.error(`Batch KYC failed: ${j.message}`)}},B=async j=>{if(!f||!u||!w){be.error("Service not initialized");return}E(C=>({...C,loading:!0}));try{const C=await f.getTreeData(j),S=(await u.retrieveFromIPFS(C.ipfsCID)).proofs[w];if(!S)throw new Error("User not found in this KYC batch");const F=await(await f.verifyKYC(j,S)).wait();E(_=>({..._,loading:!1,transactionHash:F.transactionHash,merkleProof:S,step:"complete"})),be.success("KYC verification successful!"),s&&s(!0,{treeId:j,proof:S,txHash:F.transactionHash})}catch(C){console.error("KYC verification failed:",C),E(P=>({...P,loading:!1,error:C.message})),be.error(`Verification failed: ${C.message}`)}},D=()=>{E({step:"form",loading:!1}),v({fullName:"",email:"",dateOfBirth:"",nationality:"",documentType:"passport",documentNumber:"",documentExpiry:"",verificationLevel:"basic"})},g=j=>{navigator.clipboard.writeText(j),be.success("Copied to clipboard!")};return!u&&Qge.apiKey?a.jsx(rr,{open:t,onOpenChange:e,children:a.jsxs(Fs,{children:[a.jsx(Ls,{children:a.jsxs(Bs,{className:"flex items-center",children:[a.jsx(aa,{className:"w-5 h-5 mr-2 text-red-500"}),"Configuration Required"]})}),a.jsxs(hs,{className:"border-red-200 bg-red-50",children:[a.jsx(aa,{className:"h-4 w-4 text-red-600"}),a.jsx(fs,{className:"text-red-800",children:"Pinata API credentials are required for enhanced KYC flow. Please configure REACT_APP_PINATA_API_KEY and REACT_APP_PINATA_SECRET environment variables."})]})]})}):a.jsx(rr,{open:t,onOpenChange:e,children:a.jsxs(Fs,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(Ls,{children:[a.jsxs(Bs,{className:"flex items-center",children:[a.jsx(Qo,{className:"w-5 h-5 mr-2"}),"Enhanced KYC Verification"]}),a.jsx(ta,{children:"Privacy-preserving KYC using IPFS storage and Merkle proof verification"})]}),a.jsx(Jge,{onNetworkSwitched:()=>{if(i&&o){const j=z0(i,o);d(j)}}}),a.jsxs(ba,{defaultValue:r?"admin":"user",className:"w-full",children:[a.jsxs(wa,{className:"grid w-full grid-cols-2",children:[a.jsx(tn,{value:"user",children:"Individual KYC"}),r&&a.jsx(tn,{value:"admin",children:"Batch KYC (Admin)"})]}),a.jsxs(sn,{value:"user",className:"space-y-6",children:[N.step==="form"&&a.jsxs(fe,{children:[a.jsx(ot,{children:a.jsxs(lt,{className:"flex items-center",children:[a.jsx(na,{className:"w-5 h-5 mr-2"}),"KYC Information"]})}),a.jsxs(pe,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"fullName",children:"Full Name"}),a.jsx(Et,{id:"fullName",value:b.fullName,onChange:j=>v(C=>({...C,fullName:j.target.value})),placeholder:"Enter your full name"})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"email",children:"Email Address"}),a.jsx(Et,{id:"email",type:"email",value:b.email,onChange:j=>v(C=>({...C,email:j.target.value})),placeholder:"your@email.com"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"dateOfBirth",children:"Date of Birth"}),a.jsx(Et,{id:"dateOfBirth",type:"date",value:b.dateOfBirth,onChange:j=>v(C=>({...C,dateOfBirth:j.target.value}))})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"nationality",children:"Nationality"}),a.jsx(Et,{id:"nationality",value:b.nationality,onChange:j=>v(C=>({...C,nationality:j.target.value})),placeholder:"Your nationality"})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"documentType",children:"Document Type"}),a.jsxs(du,{value:b.documentType,onValueChange:j=>v(C=>({...C,documentType:j})),children:[a.jsx(Pc,{children:a.jsx(uu,{})}),a.jsxs(Ic,{children:[a.jsx(nr,{value:"passport",children:"Passport"}),a.jsx(nr,{value:"national_id",children:"National ID"}),a.jsx(nr,{value:"drivers_license",children:"Driver's License"})]})]})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"documentNumber",children:"Document Number"}),a.jsx(Et,{id:"documentNumber",value:b.documentNumber,onChange:j=>v(C=>({...C,documentNumber:j.target.value})),placeholder:"Document number"})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"documentExpiry",children:"Document Expiry"}),a.jsx(Et,{id:"documentExpiry",type:"date",value:b.documentExpiry,onChange:j=>v(C=>({...C,documentExpiry:j.target.value}))})]})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"verificationLevel",children:"Verification Level"}),a.jsxs(du,{value:b.verificationLevel,onValueChange:j=>v(C=>({...C,verificationLevel:j})),children:[a.jsx(Pc,{children:a.jsx(uu,{})}),a.jsxs(Ic,{children:[a.jsx(nr,{value:"basic",children:"Basic (Identity + Email)"}),a.jsx(nr,{value:"enhanced",children:"Enhanced (+ Address Verification)"}),a.jsx(nr,{value:"premium",children:"Premium (+ Income Verification)"})]})]})]}),a.jsxs(hs,{className:"border-blue-200 bg-blue-50",children:[a.jsx(Jo,{className:"h-4 w-4 text-blue-600"}),a.jsx(fs,{className:"text-blue-800",children:"Your personal data will be encrypted and stored on IPFS. Only verification status will be recorded on-chain."})]}),a.jsx(Z,{onClick:U,disabled:N.loading||!b.fullName||!b.email,className:"w-full",children:N.loading?a.jsxs("div",{className:"flex items-center",children:[a.jsx(Pn,{className:"w-4 h-4 animate-spin mr-2"}),"Uploading to IPFS..."]}):a.jsxs("div",{className:"flex items-center",children:[a.jsx(iV,{className:"w-4 h-4 mr-2"}),"Submit KYC Data"]})})]})]}),N.step==="verify"&&a.jsxs(fe,{children:[a.jsx(ot,{children:a.jsxs(lt,{className:"flex items-center",children:[a.jsx(an,{className:"w-5 h-5 mr-2 text-green-500"}),"Data Uploaded Successfully"]})}),a.jsxs(pe,{className:"space-y-4",children:[a.jsxs(hs,{className:"border-green-200 bg-green-50",children:[a.jsx(W7,{className:"h-4 w-4 text-green-600"}),a.jsx(fs,{className:"text-green-800",children:"Your KYC data has been uploaded to IPFS. You can now verify against available Merkle trees."})]}),N.ipfsHash&&a.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[a.jsx(Nt,{className:"text-sm font-medium",children:"IPFS Hash:"}),a.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[a.jsx("code",{className:"text-xs bg-white p-2 rounded border flex-1 truncate",children:N.ipfsHash}),a.jsx(Z,{size:"sm",variant:"outline",onClick:()=>g(N.ipfsHash),children:a.jsx(rA,{className:"w-4 h-4"})}),a.jsx(Z,{size:"sm",variant:"outline",onClick:()=>window.open(`https://gateway.pinata.cloud/ipfs/${N.ipfsHash}`,"_blank"),children:a.jsx(wf,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{className:"font-medium",children:"Available KYC Trees:"}),$.length===0?a.jsxs(hs,{children:[a.jsx(xa,{className:"h-4 w-4"}),a.jsx(fs,{children:"No active KYC trees available. Please wait for an admin to publish a batch."})]}):$.map((j,C)=>a.jsx(fe,{className:"border-gray-200",children:a.jsx(pe,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium",children:["Tree #",C+1]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Issued: ",new Date(j.timestamp*1e3).toLocaleDateString()]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Expires: ",new Date(j.expiryTimestamp*1e3).toLocaleDateString()]})]}),a.jsx(Z,{onClick:()=>B(j.id),disabled:N.loading,children:N.loading?"Verifying...":"Verify KYC"})]})})},j.id))]})]})]}),N.step==="complete"&&a.jsxs(fe,{children:[a.jsx(ot,{children:a.jsxs(lt,{className:"flex items-center",children:[a.jsx(an,{className:"w-5 h-5 mr-2 text-green-500"}),"KYC Verification Complete"]})}),a.jsxs(pe,{className:"space-y-4",children:[a.jsxs(hs,{className:"border-green-200 bg-green-50",children:[a.jsx(an,{className:"h-4 w-4 text-green-600"}),a.jsx(fs,{className:"text-green-800",children:"Your KYC verification has been successfully recorded on-chain. You can now participate in compliant trading."})]}),N.transactionHash&&a.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[a.jsx(Nt,{className:"text-sm font-medium",children:"Transaction Hash:"}),a.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[a.jsx("code",{className:"text-xs bg-white p-2 rounded border flex-1 truncate",children:N.transactionHash}),a.jsx(Z,{size:"sm",variant:"outline",onClick:()=>g(N.transactionHash),children:a.jsx(rA,{className:"w-4 h-4"})}),a.jsx(Z,{size:"sm",variant:"outline",onClick:()=>window.open(`https://Flowscan.xyz/tx/${N.transactionHash}`,"_blank"),children:a.jsx(wf,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx(Z,{onClick:D,variant:"outline",className:"flex-1",children:"Start New KYC"}),a.jsx(Z,{onClick:e,className:"flex-1",children:"Close"})]})]})]})]}),r&&a.jsx(sn,{value:"admin",className:"space-y-6",children:a.jsxs(fe,{children:[a.jsx(ot,{children:a.jsxs(lt,{className:"flex items-center",children:[a.jsx(Qd,{className:"w-5 h-5 mr-2"}),"Batch KYC Management"]})}),a.jsxs(pe,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"batchUsers",children:"User Addresses (one per line)"}),a.jsx(ty,{id:"batchUsers",placeholder:`0x1234...
0x5678...
0x9abc...`,value:T,onChange:j=>R(j.target.value),rows:6,className:"font-mono text-sm"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Enter Ethereum addresses that have completed KYC verification"})]}),a.jsx(Z,{onClick:z,disabled:N.loading||!T.trim(),className:"w-full",children:N.loading?a.jsxs("div",{className:"flex items-center",children:[a.jsx(Pn,{className:"w-4 h-4 animate-spin mr-2"}),"Publishing Batch KYC..."]}):a.jsxs("div",{className:"flex items-center",children:[a.jsx(Y7,{className:"w-4 h-4 mr-2"}),"Publish Batch KYC Tree"]})}),$.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{className:"font-medium",children:"Active KYC Trees:"}),$.map((j,C)=>a.jsx(fe,{className:"border-gray-200",children:a.jsx(pe,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium",children:["Tree #",C+1]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Root: ",j.root.substring(0,20),"..."]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["IPFS: ",j.ipfsCID]})]}),a.jsx(Ie,{variant:j.isActive?"default":"secondary",children:j.isActive?"Active":"Inactive"})]})})},j.id))]})]})]})})]}),N.error&&a.jsxs(hs,{className:"border-red-200 bg-red-50",children:[a.jsx(aa,{className:"h-4 w-4 text-red-600"}),a.jsx(fs,{className:"text-red-800",children:N.error})]})]})})},t0e=({userAddress:t,onComplianceVerified:e,showActions:n=!0,compact:s=!1,className:r=""})=>{const{provider:i,signer:o,account:l}=xn(),[c,d]=y.useState(null),[u,h]=y.useState(!1),[f,m]=y.useState(!1),[x,p]=y.useState(null),[w,b]=y.useState(!1),v=t||l;y.useEffect(()=>{if(i){const M=z0(i,o);p(M)}},[i,o]),y.useEffect(()=>{x&&v&&N()},[x,v]);const N=async()=>{if(!(!x||!v)){m(!0);try{const M=await x.checkComplianceStatus(v);d(M),e&&e(M)}catch(M){console.error("Error checking compliance:",M),be.error("Failed to check compliance status")}finally{m(!1)}}},E=async()=>{if(!(!x||!v)){h(!0);try{be.info("Starting KYC registration...");const M=await x.registerForKYC(v);be.success(`KYC registration successful! Transaction: ${M.substring(0,10)}...`),setTimeout(()=>{N()},2e3)}catch(M){console.error("KYC registration failed:",M),be.error(M.message||"KYC registration failed")}finally{h(!1)}}},T=()=>c?c.canTrade?a.jsx(an,{className:"w-5 h-5 text-green-500"}):c.isRegistered?a.jsx(xa,{className:"w-5 h-5 text-yellow-500"}):a.jsx(aa,{className:"w-5 h-5 text-red-500"}):a.jsx(Qo,{className:"w-5 h-5 text-gray-400"}),R=()=>c?c.canTrade?"bg-green-100 text-green-800 border-green-200":c.isRegistered?"bg-yellow-100 text-yellow-800 border-yellow-200":"bg-red-100 text-red-800 border-red-200":"bg-gray-100 text-gray-600",$=M=>`${M.substring(0,6)}...${M.substring(M.length-4)}`;return s?a.jsxs("div",{className:`flex items-center space-x-2 ${r}`,children:[T(),a.jsx(Ie,{variant:"outline",className:R(),children:c?x==null?void 0:x.formatComplianceStatus(c):"Checking..."}),f&&a.jsx(Pn,{className:"w-4 h-4 animate-spin text-blue-500"})]}):a.jsxs(fe,{className:`${r}`,children:[a.jsxs(ot,{className:"pb-3",children:[a.jsxs(lt,{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[T(),a.jsx("span",{children:"Compliance Status"})]}),a.jsx(Z,{variant:"ghost",size:"sm",onClick:N,disabled:f,className:"h-8 w-8 p-0",children:a.jsx(Pn,{className:`w-4 h-4 ${f?"animate-spin":""}`})})]}),v&&a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx(Jd,{className:"w-4 h-4 inline mr-1"}),$(v)]})]}),a.jsxs(pe,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[T(),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:c?x==null?void 0:x.formatComplianceStatus(c):"Checking..."}),a.jsx("p",{className:"text-sm text-gray-600",children:c!=null&&c.canTrade?"Ready to trade":"Trading restricted"})]})]}),a.jsx(Ie,{className:R(),children:c!=null&&c.canTrade?"Verified":"Pending"})]}),c&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Identity Registered:"}),a.jsx("span",{className:c.isRegistered?"text-green-600":"text-red-600",children:c.isRegistered?"Yes":"No"})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"KYC Verified:"}),a.jsx("span",{className:c.hasValidKYC?"text-green-600":"text-red-600",children:c.hasValidKYC?"Yes":"No"})]}),c.kycData&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"KYC Expires:"}),a.jsx("span",{className:"text-gray-900",children:(x==null?void 0:x.getKYCTimeToExpiry(c))||"Unknown"})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Last Checked:"}),a.jsx("span",{className:"text-gray-600",children:new Date(c.lastChecked).toLocaleTimeString()})]})]}),n&&c&&!c.canTrade&&a.jsxs("div",{className:"space-y-3",children:[!c.isRegistered&&a.jsxs(hs,{children:[a.jsx(aa,{className:"h-4 w-4"}),a.jsx(fs,{children:"You need to register for KYC verification to start trading."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{onClick:E,disabled:u,className:"w-full",children:u?a.jsxs("div",{className:"flex items-center",children:[a.jsx(Pn,{className:"w-4 h-4 animate-spin mr-2"}),"Registering..."]}):a.jsxs("div",{className:"flex items-center",children:[a.jsx(mN,{className:"w-4 h-4 mr-2"}),c.isRegistered?"Complete KYC":"Start KYC Registration"]})}),a.jsxs(Z,{onClick:()=>b(!0),variant:"outline",className:"w-full",children:[a.jsx(Qo,{className:"w-4 h-4 mr-2"}),"Enhanced KYC (IPFS)"]})]})]}),(c==null?void 0:c.canTrade)&&a.jsxs(hs,{className:"border-green-200 bg-green-50",children:[a.jsx(an,{className:"h-4 w-4 text-green-600"}),a.jsx(fs,{className:"text-green-800",children:"Your account is fully verified and ready for trading!"})]}),x&&a.jsxs("div",{className:"pt-3 border-t",children:[a.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Contract Addresses:"}),a.jsx("div",{className:"space-y-1",children:Object.entries(x.getContractAddresses()).map(([M,L])=>a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsx("span",{className:"text-gray-600",children:M.replace(/_/g," ")}),a.jsxs("a",{href:`https://Flowscan.xyz/address/${L}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-blue-600 hover:underline",children:[$(L),a.jsx(wf,{className:"w-3 h-3 ml-1"})]})]},M))})]}),a.jsx(e0e,{isOpen:w,onClose:()=>b(!1),userAddress:v,onKYCComplete:M=>{M&&(b(!1),N(),be.success("Enhanced KYC completed successfully!"))}})]})]})},_P=({children:t,requiresKYC:e=!0,transferDetails:n,onComplianceVerified:s,onComplianceFailed:r,blockingMode:i=!1,customMessage:o})=>{var b,v;const{provider:l,signer:c,account:d}=xn(),[u,h]=y.useState({isChecking:!1,isCompliant:!1,showComplianceModal:!1,hasChecked:!1}),[f,m]=y.useState(null);y.useEffect(()=>{if(l){const N=z0(l,c);m(N)}},[l,c]),y.useEffect(()=>{f&&d&&e&&x()},[f,d,e]);const x=async()=>{if(!(!f||!d)){h(N=>({...N,isChecking:!0}));try{const N=await f.checkComplianceStatus(d);let E;n&&(E=await f.validateTransfer(n.fromAddress,n.toAddress,n.amount));const T=N.canTrade&&(E?E.canTransfer:!0);if(h(R=>({...R,isChecking:!1,isCompliant:T,complianceStatus:N,transferValidation:E,hasChecked:!0,showComplianceModal:!T&&i})),T&&s)s();else if(!T&&r){const R=(E==null?void 0:E.reason)||"KYC verification required";r(R)}}catch(N){console.error("Compliance check failed:",N),h(E=>({...E,isChecking:!1,isCompliant:!1,hasChecked:!0,showComplianceModal:i})),r&&r("Unable to verify compliance status")}}},p=()=>{h(N=>({...N,showComplianceModal:!1})),setTimeout(()=>{x()},1e3)},w=()=>{h(N=>({...N,showComplianceModal:!1}))};return u.isChecking&&i?a.jsx("div",{className:"flex items-center justify-center p-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Qo,{className:"w-5 h-5 animate-pulse text-blue-500"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Checking compliance..."})]})}):!i&&u.hasChecked&&!u.isCompliant?a.jsxs("div",{className:"space-y-3",children:[a.jsxs(hs,{className:"border-yellow-200 bg-yellow-50",children:[a.jsx(Nf,{className:"h-4 w-4 text-yellow-600"}),a.jsxs(fs,{className:"text-yellow-800",children:[o||((b=u.transferValidation)==null?void 0:b.reason)||"KYC verification required for this action",((v=u.transferValidation)==null?void 0:v.requiresAction)&&a.jsx("div",{className:"mt-1 text-sm",children:u.transferValidation.requiresAction})]})]}),t]}):i&&u.hasChecked&&!u.isCompliant?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 bg-gray-100 bg-opacity-75 flex items-center justify-center z-10 rounded-lg",children:a.jsxs("div",{className:"text-center p-4",children:[a.jsx(Qo,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Compliance verification required"}),a.jsx(Z,{size:"sm",onClick:()=>h(N=>({...N,showComplianceModal:!0})),children:"Verify Compliance"})]})}),a.jsx("div",{className:"opacity-50 pointer-events-none",children:t})]}),a.jsx(rr,{open:u.showComplianceModal,onOpenChange:w,children:a.jsxs(Fs,{className:"max-w-md",children:[a.jsxs(Ls,{children:[a.jsxs(Bs,{className:"flex items-center space-x-2",children:[a.jsx(Qo,{className:"w-5 h-5"}),a.jsx("span",{children:"Compliance Verification Required"})]}),a.jsx(ta,{children:o||"Complete KYC verification to proceed with this action."})]}),a.jsxs("div",{className:"space-y-4",children:[u.transferValidation&&!u.transferValidation.canTransfer&&a.jsxs(hs,{className:"border-red-200 bg-red-50",children:[a.jsx(Nf,{className:"h-4 w-4 text-red-600"}),a.jsxs(fs,{className:"text-red-800",children:[a.jsx("strong",{children:"Transfer Blocked:"})," ",u.transferValidation.reason,u.transferValidation.requiresAction&&a.jsxs("div",{className:"mt-1",children:[a.jsx("strong",{children:"Action Required:"})," ",u.transferValidation.requiresAction]})]})]}),a.jsx(t0e,{userAddress:d,onComplianceVerified:N=>{N.canTrade&&(p(),be.success("Compliance verified! You can now proceed."))},showActions:!0,className:"border-0 shadow-none p-0"}),n&&a.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg text-sm",children:[a.jsx("h4",{className:"font-medium mb-2",children:"Transaction Details:"}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"From:"}),a.jsxs("span",{className:"font-mono",children:[n.fromAddress.substring(0,10),"..."]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"To:"}),a.jsxs("span",{className:"font-mono",children:[n.toAddress.substring(0,10),"..."]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Amount:"}),a.jsx("span",{children:n.amount})]}),n.tokenId&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Token ID:"}),a.jsx("span",{children:n.tokenId})]})]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(Z,{variant:"outline",onClick:w,className:"flex-1",children:"Cancel"}),a.jsxs(Z,{onClick:x,className:"flex-1",children:[a.jsx(mN,{className:"w-4 h-4 mr-2"}),"Recheck"]})]})]})]})})]}):a.jsx(a.Fragment,{children:t})},PP=[{id:"analytics",label:"Analytics",icon:Qr},{id:"portfolio",label:"Owned Assets",icon:or},{id:"income",label:"My Income",icon:On},{id:"transactions",label:"Transactions",icon:Do},{id:"profile",label:"Profile",icon:Jd},{id:"notifications",label:"Notifications",icon:_d}],n0e=()=>{const t=yl(),[e,n]=y.useState("analytics"),[s,r]=y.useState(!1),[i,o]=y.useState(!0),[l,c]=y.useState(!1),[d,u]=y.useState(!1),{provider:h,signer:f,address:m,isConnected:x}=xn(),{user:p,isAuthenticated:w,isLoading:b}=Sj(),[v,N]=y.useState(null),[E,T]=y.useState(!1),[R,$]=y.useState(null);y.useState(!1);const[M,L]=y.useState([]),[U,z]=y.useState({totalInvestment:0,currentValue:0,totalReturn:0,returnPercentage:0,monthlyIncome:0,totalAssets:0,activeInvestments:0}),[B,D]=y.useState(!1),[g,j]=y.useState([]),[C,P]=y.useState(!1),[S,A]=y.useState([]),[F,_]=y.useState(0),[k,O]=y.useState(!1),[q,I]=y.useState(null),[V,G]=y.useState(!1),[H,K]=y.useState(null),[X,ee]=y.useState(""),[ne,Be]=y.useState(!1),[te,ge]=y.useState(!1),[Te,ve]=y.useState(null),[Q,xe]=y.useState({assets:{isLoading:!1,isFromCache:!1},portfolio:{isLoading:!1,isFromCache:!1},transactions:{isLoading:!1,isFromCache:!1},notifications:{isLoading:!1,isFromCache:!1}}),we=(Y,J)=>{xe(de=>({...de,[Y]:{...de[Y],...J}}))};y.useEffect(()=>{e==="transactions"&&x&&h&&m&&se()},[e,x,h,m]),y.useEffect(()=>{e==="notifications"&&x&&h&&m&&ye()},[e,x,h,m,M]),y.useEffect(()=>{if(x&&h&&m){const Y=setInterval(()=>{ye()},3e4);return()=>clearInterval(Y)}},[x,h,m,M]),y.useEffect(()=>{w&&!b&&ut()},[w,b]),y.useEffect(()=>{e==="profile"&&w&&!v&&ut()},[e,w,v]);const Ke=async()=>{try{if(D(!0),!x){be.error("Please connect your wallet first");return}be.success("Wallet connected successfully!"),await He(),await se()}catch(Y){console.error("Wallet connection failed:",Y),be.error(`Failed to connect wallet: ${Y.message||"Unknown error"}`)}finally{D(!1)}},ut=async()=>{if(!w){console.log("User not authenticated");return}try{T(!0),$(null);const Y=await tu.getProfile();if(Y.success)N(Y.data.user),be.success("Profile data loaded successfully");else throw new Error("Failed to fetch profile data")}catch(Y){console.error("Failed to fetch user profile:",Y),$(Y.message||"Failed to load profile data"),be.error(`Failed to load profile: ${Y.message||"Unknown error"}`)}finally{T(!1)}},He=async(Y=!1)=>{var J;if(!x||!h||!m||!f){console.log("Wallet not connected or signer not available");return}try{if(!Y){console.log(" Checking cache for user assets..."),we("assets",{isLoading:!0,isFromCache:!0});const ue=Ds.getCachedUserAssets(m),pt=Ds.getCachedPortfolioData(m);if(ue&&pt){console.log(` Loaded ${ue.length} assets from cache instantly!`),L(ue),z(pt),we("assets",{isLoading:!1,isFromCache:!0,lastUpdated:Date.now()}),ue.length>0&&be.success(`Portfolio loaded with ${ue.length} assets`),setTimeout(()=>{console.log(" Background refresh starting..."),He(!0)},3e4);return}else console.log(" No valid cache found, fetching from blockchain...")}we("assets",{isLoading:!0,isFromCache:!1}),D(!0),console.log(" Loading assets from blockchain for:",m);const de=new qe(hn,Yr,f);console.log(" Step 1: Calling getMyAssets from marketplace...");const he=await de.getMyAssets(),[ke,Fe]=he;console.log(" Marketplace assets:",{tokenIds:ke.map(ue=>ue.toString()),amounts:Fe.map(ue=>ue.toString())}),console.log(" Step 2: Calling getAllListings...");const Le=await de.getAllListings(),[je,it,ze,Ze]=Le;console.log(" All listings:",{tokenIds:je.map(ue=>ue.toString()),prices:Ze.map(ue=>ue.toString())}),console.log(" Step 3: Checking wallet directly for withdrawn tokens...");const Pt=["function uri(uint256 tokenId) external view returns (string memory)","function tokenMetadata(uint256 tokenId) external view returns (string memory)","function tokenPrice(uint256 tokenId) external view returns (uint256)","function balanceOf(address account, uint256 id) external view returns (uint256)"],et=new qe(Ts,Pt,f),st=[{address:Ts,name:"Current ERC1155"},{address:"0xf52D58076D1cC8e9f744c0c845cc6A6E57419032",name:"Legacy ERC1155"}],Dt=new Set;je.forEach(ue=>{Dt.add(ue.toString())});for(let ue=1;ue<=100;ue++)Dt.add(ue.toString());const tt=new Map;for(const ue of st){console.log(` Checking ${ue.name} contract: ${ue.address}`);try{const pt=new qe(ue.address,Pt,f);for(const zt of Dt)try{const qt=(await pt.balanceOf(m,zt)).toNumber();if(qt>0){const Ot=`${ue.address}-${zt}`;tt.set(Ot,{amount:qt,contract:ue.address}),console.log(` Found wallet balance for token ${zt} on ${ue.name}: ${qt}`)}}catch{}}catch(pt){console.warn(` Failed to check contract ${ue.name}:`,pt)}}const Ee=new Map;for(let ue=0;ue<ke.length;ue++){const pt=ke[ue].toString(),zt=Fe[ue].toNumber();zt>0&&Ee.set(pt,{amount:zt,source:"marketplace"})}for(const[ue,pt]of tt){const[zt,on]=ue.split("-"),{amount:qt,contract:Ot}=pt;if(!Ee.has(on))Ee.set(on,{amount:qt,source:"wallet",contract:Ot}),console.log(` Adding withdrawn token ${on} from wallet with balance: ${qt} (contract: ${Ot})`);else{const dt=Ee.get(on);Ee.set(on,{amount:dt.amount+qt,source:"marketplace",contract:dt.contract||Ot}),console.log(` Adding additional wallet balance for token ${on}: +${qt} (total: ${dt.amount+qt})`)}}console.log(` Total owned tokens found: ${Ee.size}`);const ae=["function uri(uint256 tokenId) external view returns (string memory)","function tokenMetadata(uint256 tokenId) external view returns (string memory)","function tokenPrice(uint256 tokenId) external view returns (uint256)"];let Me;try{const ue=f||h;Me=new qe(Ts,ae,ue)}catch(ue){console.error(" Failed to initialize metadata token contract:",ue)}const Je=new Map;for(let ue=0;ue<je.length;ue++)Je.set(je[ue].toString(),Ze[ue]);console.log(" Fetching prices for withdrawn tokens...");for(const[ue,pt]of Ee)if(!Je.has(ue))try{console.log(` Fetching price for withdrawn token ${ue}...`);const zt=pt.contract||Ts,qt=await new qe(zt,ae,f||h).tokenPrice(ue);Je.set(ue,qt),console.log(` Fetched price for token ${ue}: ${De(qt)} U2U`)}catch(zt){console.warn(` Could not fetch price for token ${ue}:`,zt),Je.set(ue,pr("1000"))}const yt=async(ue,pt)=>{try{const zt=pt||Ts,on=new qe(zt,ae,f||h);let qt="";try{qt=await on.tokenMetadata(ue),console.log(` Metadata URI for token ${ue} (${zt}):`,qt)}catch{try{qt=await on.uri(ue),console.log(` Metadata URI (fallback) for token ${ue} (${zt}):`,qt)}catch(Xs){console.warn(` Failed to get metadata URI for token ${ue} on ${zt}:`,Xs)}}let Ot=null;if(qt)try{console.log(` Fetching metadata from: ${qt}`),Ot=(await Qt.fetchMetadataWithCache(ue,qt)).metadata,console.log(` Metadata fetched for token ${ue}:`,Ot)}catch(ts){console.warn(` Failed to fetch metadata for token ${ue}:`,ts)}let dt="Unknown";if(Ot!=null&&Ot.attributes){const ts=Ot.attributes.find(Xs=>Xs.trait_type==="Asset Type");dt=(ts==null?void 0:ts.value)||dt}else Ot!=null&&Ot.assetDetails&&(dt=Ot.assetDetails.assetType||dt);const Ys=Tc(dt,ue,zt);console.log(` Selected unique fallback image for token ${ue} (${dt}):`,Ys);const Ms=zO((Ot==null?void 0:Ot.image)||"",Ot);return console.log(` Enhanced image processing for token ${ue}: ${Ot==null?void 0:Ot.image}  ${Ms}`),{imageUrl:Ms,metadata:Ot,assetType:dt}}catch(zt){return console.error(` Error processing metadata for token ${ue}:`,zt),{imageUrl:Tc("Real Estate",ue),metadata:null,assetType:"Real World Asset"}}},ie=[],Qe=new Set;console.log(" Processing all owned tokens (marketplace + wallet)...");for(const[ue,pt]of Ee){const{amount:zt,source:on}=pt,qt=Je.get(ue)||en.from(0);if(zt<=0){console.log(` Skipping token ${ue} - zero balance`);continue}if(Qe.has(ue)){console.log(` Skipping duplicate token ${ue} - already processed`);continue}try{if(await et.getTokenLifecycleStatus(ue)===2){console.log(` Skipping burned token ${ue} in user dashboard`);continue}}catch{console.warn(` Could not check lifecycle for token ${ue}, including in user dashboard`)}console.log(` Processing token ${ue} from ${on} with amount: ${zt}`),Qe.add(ue),console.log(` Processing metadata for token ${ue}...`);const{imageUrl:Ot,metadata:dt,assetType:Ys}=await yt(ue,pt.contract);let Ms=`${Ys} Asset #${ue}`;if(dt!=null&&dt.name)Ms=dt.name;else if(dt!=null&&dt.title)Ms=dt.title;else if((J=dt==null?void 0:dt.assetDetails)!=null&&J.location)Ms=`${Ys} in ${dt.assetDetails.location}`;else if(dt!=null&&dt.attributes){const ts=dt.attributes.find(Al=>Al.trait_type.toLowerCase().includes("location")),Xs=dt.attributes.find(Al=>Al.trait_type==="Asset Type");ts?Ms=`${(Xs==null?void 0:Xs.value)||Ys} in ${ts.value}`:Ms=`${(Xs==null?void 0:Xs.value)||Ys} Token #${ue}`}console.log(` Extracted asset name: "${Ms}" for token ${ue}`),ie.push({tokenId:ue,name:Ms,description:(dt==null?void 0:dt.description)||(dt==null?void 0:dt.desc)||`A tokenized ${Ys.toLowerCase()} asset with ID ${ue}`,image:Ot,price:qt.toString(),amount:zt,seller:it[je.findIndex(ts=>ts.toString()===ue)]||m,metadataURI:dt?`ipfs://token${ue}`:"",metadata:dt||{name:Ms,description:`A tokenized ${Ys.toLowerCase()} asset with ID ${ue}`},attributes:(dt==null?void 0:dt.attributes)||[{trait_type:"Asset Type",value:Ys},{trait_type:"Token ID",value:ue},{trait_type:"Source",value:on}],type:Ys,source:on})}L(ie),console.log(" Loaded",ie.length,"assets from blockchain with metadata (including withdrawn tokens)"),console.log(" Preloading dashboard images...");const $t=ie.map(ue=>({url:ue.image,assetType:ue.type||"Real Estate",tokenId:ue.tokenId}));Cm.preloadImages($t).catch(ue=>{console.warn(" Image preloading failed:",ue)}),gt(ie,Je),console.log(" Caching assets and portfolio data..."),Ds.cacheUserAssets(ie,m),Ds.recordLastRefresh(m),we("assets",{isLoading:!1,isFromCache:!1,lastUpdated:Date.now()}),ie.length===0?be.info("No assets found. Make sure you have purchased tokens and the transaction is confirmed."):Q.assets.isFromCache&&Q.assets.lastUpdated?console.log(` Background refresh: Updated ${ie.length} assets`):be.success(`Loaded ${ie.length} assets`)}catch(de){console.error(" Failed to load assets from blockchain:",de),L([]),gt([]),we("assets",{isLoading:!1,isFromCache:!1})}finally{D(!1)}},gt=(Y,J)=>{if(Y.length===0){z({totalInvestment:0,currentValue:0,totalReturn:0,returnPercentage:0,monthlyIncome:0,totalAssets:0,activeInvestments:0});return}const de=Y.reduce((ze,Ze)=>{const Pt=en.from(Ze.price),et=parseFloat(De(Pt)),st=et*Ze.amount;return console.log(`Asset ${Ze.tokenId}: ${Ze.amount} tokens  ${et.toFixed(6)} U2U = ${st.toFixed(6)} U2U`),ze+st},0);console.log(`Total portfolio value: ${de.toFixed(6)} U2U`);const he=de,ke=de,Fe=0,Le=0,je=ke*.08;console.log(`Yearly income calculation: ${ke.toFixed(6)} U2U  0.08 = ${je.toFixed(6)} U2U`);const it={totalInvestment:he,currentValue:ke,totalReturn:Fe,returnPercentage:Le,monthlyIncome:je,totalAssets:Y.length,activeInvestments:Y.filter(ze=>parseFloat(ze.price)>0).length};z(it),m&&(Ds.cachePortfolioData(it,m),console.log(" Cached portfolio data"))},St=()=>{if(!g||g.length===0)return{totalBought:0,totalSold:0,dividendIncome:0,buyTransactions:0,sellTransactions:0,dividendPayments:0};const Y=g.filter(Le=>Le.type==="buy"),J=Y.reduce((Le,je)=>{const it=parseFloat(je.price)||0;return Le+it},0),de=g.filter(Le=>Le.type==="sell"),he=de.reduce((Le,je)=>{const it=parseFloat(je.price)||0;return Le+it},0),Fe=U.currentValue*.08;return console.log(" Transaction Statistics:",{totalBought:J.toFixed(4),totalSold:he.toFixed(4),dividendIncome:Fe.toFixed(4),buyTransactions:Y.length,sellTransactions:de.length}),{totalBought:J,totalSold:he,dividendIncome:Fe,buyTransactions:Y.length,sellTransactions:de.length,dividendPayments:1}},ye=async(Y=!1)=>{if(!x||!h||!m){console.log(" Wallet not connected, cannot fetch notifications");return}try{if(!Y){console.log(" Checking cache for notifications..."),we("notifications",{isLoading:!0,isFromCache:!0});const Ee=Ds.getCachedNotifications(m);if(Ee)return console.log(` Loaded ${Ee.length} notifications from cache instantly!`),A(Ee),_(Ee.filter(ae=>!ae.read).length),we("notifications",{isLoading:!1,isFromCache:!0,lastUpdated:Date.now()}),setTimeout(()=>{console.log(" Background notification refresh starting..."),ye(!0)},2e4),Ee;console.log(" No valid notification cache found, fetching from blockchain...")}we("notifications",{isLoading:!0,isFromCache:!1}),console.log(" Generating notifications from trading events...");const J=[],de=Date.now(),he=await h.getBlockNumber(),ke=Math.max(0,he-7200),Fe=new qe(Jn,Jf,h),Le=Fe.filters.SellOrderCreated(null,m),je=await Fe.queryFilter(Le,ke,he);for(const Ee of je){const ae=Ee.args,Me=await h.getBlock(Ee.blockNumber);let Je=`Asset #${ae.tokenId.toString()}`;try{const yt=M.find(ie=>ie.tokenId===ae.tokenId.toString());yt&&(Je=yt.name)}catch{console.log("Could not resolve asset name for notification")}J.push({id:`sell_order_${Ee.transactionHash}_${Ee.logIndex}`,timestamp:Me.timestamp*1e3,type:"order_created",title:"Buy Order Created",message:`Your buy order for ${ae.amount.toString()} tokens of ${Je} at ${De(ae.pricePerToken)} U2U each is now active in the OrderBook.`,status:"pending",priority:"medium",read:!1,orderData:{orderId:ae.orderId.toString(),tokenId:ae.tokenId.toString(),assetName:Je,amount:ae.amount.toNumber(),price:De(ae.pricePerToken),orderType:"sell",escrowAmount:De(ae.pricePerToken.mul(ae.amount))},transactionHash:Ee.transactionHash})}const it=Fe.filters.BuyOrderCreated(null,m),ze=await Fe.queryFilter(it,ke,he);for(const Ee of ze){const ae=Ee.args,Me=await h.getBlock(Ee.blockNumber);let Je=`Asset #${ae.tokenId.toString()}`;try{const ie=M.find(Qe=>Qe.tokenId===ae.tokenId.toString());ie&&(Je=ie.name)}catch{console.log("Could not resolve asset name for notification")}const yt=De(ae.pricePerToken.mul(ae.amount));J.push({id:`buy_order_${Ee.transactionHash}_${Ee.logIndex}`,timestamp:Me.timestamp*1e3,type:"order_created",title:"Sell Order Created & Funds Escrowed",message:`Your sell order for ${ae.amount.toString()} tokens of ${Je} at ${De(ae.pricePerToken)} Flow each is active. ${yt} Flow has been escrowed.`,status:"pending",priority:"high",read:!1,orderData:{orderId:ae.orderId.toString(),tokenId:ae.tokenId.toString(),assetName:Je,amount:ae.amount.toNumber(),price:De(ae.pricePerToken),orderType:"buy",escrowAmount:yt},transactionHash:Ee.transactionHash})}const Ze=Fe.filters.OrderFilled(null,m),Pt=await Fe.queryFilter(Ze,ke,he);for(const Ee of Pt){const ae=Ee.args,Me=await h.getBlock(Ee.blockNumber);J.push({id:`order_filled_${Ee.transactionHash}_${Ee.logIndex}`,timestamp:Me.timestamp*1e3,type:"order_filled",title:"Order Executed Successfully",message:`Your order #${ae.orderId.toString()} has been filled! ${ae.amount.toString()} tokens traded for ${De(ae.totalPrice)} Flow. Escrow released.`,status:"completed",priority:"high",read:!1,orderData:{orderId:ae.orderId.toString(),tokenId:"unknown",assetName:"P2P Trade",amount:ae.amount.toNumber(),price:De(ae.totalPrice),orderType:"buy",escrowAmount:De(ae.totalPrice)},transactionHash:Ee.transactionHash})}const et=new qe(hn,Yr,h),st=et.filters.AssetBought(null,m),Dt=await et.queryFilter(st,ke,he);for(const Ee of Dt){const ae=Ee.args,Me=await h.getBlock(Ee.blockNumber);let Je=`Asset #${ae.tokenId.toString()}`;try{const yt=M.find(ie=>ie.tokenId===ae.tokenId.toString());yt&&(Je=yt.name)}catch{console.log("Could not resolve asset name for notification")}J.push({id:`asset_bought_${Ee.transactionHash}_${Ee.logIndex}`,timestamp:Me.timestamp*1e3,type:"trade_completed",title:"Asset Purchase Completed",message:`Successfully purchased ${ae.amount.toString()} tokens of ${Je} from the primary marketplace.`,status:"completed",priority:"medium",read:!1,orderData:{orderId:Ee.transactionHash,tokenId:ae.tokenId.toString(),assetName:Je,amount:ae.amount.toNumber(),price:"0",orderType:"buy"},transactionHash:Ee.transactionHash})}J.sort((Ee,ae)=>ae.timestamp-Ee.timestamp);const tt=J.slice(0,50);return console.log(` Generated ${tt.length} trading notifications`),A(tt),_(tt.filter(Ee=>!Ee.read).length),console.log(" Caching notifications..."),Ds.cacheNotifications(tt,m),we("notifications",{isLoading:!1,isFromCache:!1,lastUpdated:Date.now()}),tt}catch(J){console.error(" Error generating notifications:",J),we("notifications",{isLoading:!1,isFromCache:!1}),be.error(`Failed to load notifications: ${J.message||"Unknown error"}`)}},W=Y=>{A(J=>J.map(de=>de.id===Y?{...de,read:!0}:de)),_(J=>Math.max(0,J-1))},me=()=>{A(Y=>Y.map(J=>({...J,read:!0}))),_(0)},se=async(Y=!1)=>{var de,he,ke,Fe,Le;if(!x||!m){console.log(" Wallet not connected, cannot fetch transaction history"),console.log("Debug - Connection status:",{isConnected:x,address:m});return}if(!h){console.log(" No provider available for transaction history");return}const J=h;console.log(" Using wallet provider for transaction history (same as working notifications)");try{if(!Y){console.log(" Checking cache for transaction history..."),we("transactions",{isLoading:!0,isFromCache:!0});const ae=Ds.getCachedTransactionHistory(m);if(ae){console.log(` Loaded ${ae.length} transactions from cache instantly!`),j(ae),we("transactions",{isLoading:!1,isFromCache:!0,lastUpdated:Date.now()}),ae.length>0&&be.success("Transaction history loaded"),setTimeout(()=>{console.log(" Background transaction refresh starting..."),se(!0)},45e3);return}else console.log(" No valid transaction cache found, fetching from blockchain...")}we("transactions",{isLoading:!0,isFromCache:!1}),P(!0),console.log(" Loading comprehensive transaction history for wallet:",m);const je=await J.getBlockNumber();console.log(" Current blockchain block:",je);const it=Math.max(0,je-7200);console.log(` Searching events from block ${it} to ${je} (${je-it} blocks)`);const ze=[];console.log(" Checking Primary Marketplace Contract:",hn);const Ze=new qe(hn,Yr,J);try{const ae=await J.getCode(hn);console.log(" Marketplace contract code length:",ae.length),ae==="0x"&&console.warn(" Marketplace contract not found at address:",hn)}catch(ae){console.error(" Error checking marketplace contract:",ae)}let Pt=[],et=[];try{console.log(" Searching for AssetBought events for buyer:",m);const ae=Ze.filters.AssetBought(null,m);Pt=await Ze.queryFilter(ae,it,je),console.log(` Found ${Pt.length} buy events`)}catch(ae){console.warn(" Failed to fetch buy events:",ae)}try{console.log(" Searching for AssetSold events for seller:",m);const ae=Ze.filters.AssetSold(null,m);et=await Ze.queryFilter(ae,it,je),console.log(` Found ${et.length} sell events`)}catch(ae){console.warn(" Failed to fetch sell events:",ae)}console.log(` Primary Marketplace Results: ${Pt.length} buy events, ${et.length} sell events`),console.log(" Checking OrderBook Contract:",Jn);const st=new qe(Jn,Jf,J);try{const ae=await J.getCode(Jn);console.log(" OrderBook contract code length:",ae.length),ae==="0x"&&console.warn(" OrderBook contract not found at address:",Jn)}catch(ae){console.error(" Error checking OrderBook contract:",ae)}let Dt=[],tt=[],Ee=[];try{console.log(" Searching for OrderFilled events for taker:",m);const ae=st.filters.OrderFilled(null,m);Dt=await st.queryFilter(ae,it,je),console.log(` Found ${Dt.length} filled orders`)}catch(ae){console.warn(" Failed to fetch OrderFilled events:",ae)}try{console.log(" Searching for SellOrderCreated events for maker:",m);const ae=st.filters.SellOrderCreated(null,m);tt=await st.queryFilter(ae,it,je),console.log(` Found ${tt.length} sell orders`)}catch(ae){console.warn(" Failed to fetch SellOrderCreated events:",ae)}try{console.log(" Searching for BuyOrderCreated events for maker:",m);const ae=st.filters.BuyOrderCreated(null,m);Ee=await st.queryFilter(ae,it,je),console.log(` Found ${Ee.length} buy orders`)}catch(ae){console.warn(" Failed to fetch BuyOrderCreated events:",ae)}console.log(` Secondary Market Results: ${Dt.length} filled orders, ${tt.length} sell orders, ${Ee.length} buy orders created`),console.log(" Debugging: Checking for ANY events from contracts...");try{const ae=await Ze.queryFilter({},it,je);console.log(` Total marketplace events in range: ${ae.length}`),ae.length>0&&console.log(" Sample marketplace events:",ae.slice(0,3).map(Me=>({event:Me.event,args:Me.args,blockNumber:Me.blockNumber})))}catch(ae){console.error(" Error fetching all marketplace events:",ae)}try{const ae=await st.queryFilter({},it,je);console.log(` Total OrderBook events in range: ${ae.length}`),ae.length>0&&console.log(" Sample OrderBook events:",ae.slice(0,3).map(Me=>({event:Me.event,args:Me.args,blockNumber:Me.blockNumber})))}catch(ae){console.error(" Error fetching all OrderBook events:",ae)}for(const ae of Pt){const Me=ae.args,Je=await J.getBlock(ae.blockNumber),yt=await J.getTransaction(ae.transactionHash),ie=await J.getTransactionReceipt(ae.transactionHash);let Qe=`Asset #${Me.tokenId.toString()}`;try{const $t=M.find(ue=>ue.tokenId===Me.tokenId.toString());$t&&(Qe=$t.name)}catch{console.log("Could not resolve asset name, using default")}ze.push({hash:ae.transactionHash,blockNumber:ae.blockNumber,timestamp:Je.timestamp*1e3,type:"buy",tokenId:Me.tokenId.toString(),amount:Me.amount.toNumber(),price:De(yt.value||"0"),from:yt.from,to:yt.to||hn,gasUsed:ie.gasUsed.toString(),gasPrice:Zi(yt.gasPrice||"0","gwei"),status:ie.status===1?"success":"failed",assetName:Qe,platformFee:De(Me.platformFee||"0")})}for(const ae of et){const Me=ae.args,Je=await J.getBlock(ae.blockNumber),yt=await J.getTransaction(ae.transactionHash),ie=await J.getTransactionReceipt(ae.transactionHash);let Qe=`Asset #${Me.tokenId.toString()}`;try{const $t=M.find(ue=>ue.tokenId===Me.tokenId.toString());$t&&(Qe=$t.name)}catch{console.log("Could not resolve asset name, using default")}ze.push({hash:ae.transactionHash,blockNumber:ae.blockNumber,timestamp:Je.timestamp*1e3,type:"sell",tokenId:Me.tokenId.toString(),amount:Me.amount.toNumber(),price:"0",from:yt.from,to:yt.to||hn,gasUsed:ie.gasUsed.toString(),gasPrice:Zi(yt.gasPrice||"0","gwei"),status:ie.status===1?"success":"failed",assetName:Qe,platformFee:De(Me.platformFee||"0")})}for(const ae of Dt){const Me=ae.args,Je=await J.getBlock(ae.blockNumber),yt=await J.getTransaction(ae.transactionHash),ie=await J.getTransactionReceipt(ae.transactionHash);let Qe="Unknown",$t="P2P Trade";try{$t=`P2P Purchase (Order #${Me.orderId.toString()})`}catch{console.log("Could not resolve order details")}ze.push({hash:ae.transactionHash,blockNumber:ae.blockNumber,timestamp:Je.timestamp*1e3,type:"buy",tokenId:Qe,amount:Me.amount.toNumber(),price:De(Me.totalPrice||"0"),from:yt.from,to:Jn,gasUsed:ie.gasUsed.toString(),gasPrice:Zi(yt.gasPrice||"0","gwei"),status:ie.status===1?"success":"failed",assetName:$t,platformFee:"0"})}for(const ae of tt){const Me=ae.args,Je=await J.getBlock(ae.blockNumber),yt=await J.getTransaction(ae.transactionHash),ie=await J.getTransactionReceipt(ae.transactionHash);let Qe=`Asset #${Me.tokenId.toString()}`;try{const $t=M.find(ue=>ue.tokenId===Me.tokenId.toString());$t&&(Qe=$t.name)}catch{console.log("Could not resolve asset name for sell order")}ze.push({hash:ae.transactionHash,blockNumber:ae.blockNumber,timestamp:Je.timestamp*1e3,type:"listing",tokenId:Me.tokenId.toString(),amount:Me.amount.toNumber(),price:De(Me.pricePerToken||"0"),from:yt.from,to:Jn,gasUsed:ie.gasUsed.toString(),gasPrice:Zi(yt.gasPrice||"0","gwei"),status:ie.status===1?"success":"failed",assetName:`${Qe} (P2P Listing)`,platformFee:"0"})}for(const ae of Ee){const Me=ae.args,Je=await J.getBlock(ae.blockNumber),yt=await J.getTransaction(ae.transactionHash),ie=await J.getTransactionReceipt(ae.transactionHash);let Qe=`Asset #${Me.tokenId.toString()}`;try{const $t=M.find(ue=>ue.tokenId===Me.tokenId.toString());$t&&(Qe=$t.name)}catch{console.log("Could not resolve asset name for buy order")}ze.push({hash:ae.transactionHash,blockNumber:ae.blockNumber,timestamp:Je.timestamp*1e3,type:"listing",tokenId:Me.tokenId.toString(),amount:Me.amount.toNumber(),price:De(Me.pricePerToken||"0"),from:yt.from,to:Jn,gasUsed:ie.gasUsed.toString(),gasPrice:Zi(yt.gasPrice||"0","gwei"),status:ie.status===1?"success":"failed",assetName:`${Qe} (P2P Buy Order)`,platformFee:"0"})}ze.sort((ae,Me)=>Me.timestamp-ae.timestamp),console.log(" FINAL TRANSACTION SUMMARY:"),console.log(`- Total transactions found: ${ze.length}`),console.log(`- Primary marketplace: ${Pt.length+et.length} (${Pt.length} buys, ${et.length} sells)`),console.log(`- Secondary market: ${Dt.length+tt.length+Ee.length} (${Dt.length} filled, ${tt.length} sell orders, ${Ee.length} buy orders)`),console.log(`- Block range searched: ${it} to ${je} (${je-it} blocks)`),console.log(`- Wallet address: ${m}`),ze.length===0?(console.log(" NO TRANSACTIONS FOUND! Possible reasons:"),console.log("  1. No transactions in the searched block range"),console.log("  2. Wallet address might not have made any transactions"),console.log("  3. Contract addresses might be incorrect"),console.log("  4. Event signatures might not match"),console.log("  5. Transactions might be older than 50,000 blocks"),be.info("No recent transactions found. This could mean you haven't made any trades yet, or your transactions are older than the search range.")):(console.log(" Sample transactions:",ze.slice(0,2)),Q.transactions.isFromCache&&Q.transactions.lastUpdated?console.log(` Background refresh: Updated ${ze.length} transactions`):be.success(`Found ${ze.length} transaction(s) in your history`)),j(ze),console.log(" Caching transaction history..."),Ds.cacheTransactionHistory(ze,m),we("transactions",{isLoading:!1,isFromCache:!1,lastUpdated:Date.now()})}catch(je){console.error(" Error fetching transaction history:",je),console.log("Error details:",{message:je.message,code:je.code,data:je.data,stack:je.stack}),we("transactions",{isLoading:!1,isFromCache:!1});let it="Unknown error occurred";(de=je.message)!=null&&de.includes("network")||(he=je.message)!=null&&he.includes("RPC")?it="Network connection issue. Please check your internet connection and try again.":(ke=je.message)!=null&&ke.includes("timeout")?it="Request timed out. Please try again.":je.code==="NETWORK_ERROR"?it="Unable to connect to Flow blockchain. Please try again later.":je.code==="SERVER_ERROR"?it="Blockchain service temporarily unavailable. Please try again.":(Fe=je.message)!=null&&Fe.includes("missing trie node")||(Le=je.message)!=null&&Le.includes("client error")?it="Blockchain data synchronization issue. Please try again in a few moments.":it=je.message||"Failed to load transaction history",be.error(`Failed to load transaction history: ${it}`)}finally{P(!1)}},ce=async()=>{var J,de,he;if(!H||!X||!x||!f){be.error("Please enter a valid amount and ensure wallet is connected");return}const Y=parseInt(X);if(Y<=0||Y>H.amount){be.error(`Amount must be between 1 and ${H.amount}`);return}try{Be(!0),console.log(` Selling ${Y} tokens of asset ${H.tokenId} via marketplace contract...`);const ke=new qe(hn,Yr,f),Fe=en.from(H.price),Le=Fe.mul(Y),je=Le.mul(1).div(100);console.log(" Transaction details:",{tokenId:H.tokenId,amount:Y,tokenPrice:De(Fe)+" U2U",totalValue:De(Le)+" U2U",platformFee:De(je)+" U2U"}),console.log(" Calling sellAsset on marketplace contract...");const it=await ke.sellAsset(H.tokenId,Y,{value:je,gasLimit:5e5});console.log(" Transaction submitted:",it.hash),be.info(`Transaction submitted: ${it.hash.substring(0,10)}...`);const ze=await it.wait();console.log(" Transaction confirmed:",ze);const Ze=parseFloat(De(Le)),Pt=parseFloat(De(je));be.success(`Successfully sold ${Y} tokens for ${Ze.toFixed(4)} Flow
        ! Platform fee: ${Pt.toFixed(4)} Flow
        `,{duration:5e3}),G(!1),K(null),ee(""),console.log(" Clearing dashboard and marketplace cache after successful sale..."),Ds.clearCache(m),Qt.clearCache(),console.log(" Refreshing portfolio after successful sale..."),await He(!0),await se(!0)}catch(ke){console.error(" Failed to sell asset:",ke);let Fe="Failed to sell asset";(J=ke.message)!=null&&J.includes("Insufficient balance")?Fe="Insufficient token balance for this transaction":(de=ke.message)!=null&&de.includes("Insufficient marketplace funds")?Fe="Marketplace has insufficient funds to buy back this asset":(he=ke.message)!=null&&he.includes("Must pay platform fee")?Fe="Failed to pay platform fee. Please ensure sufficient U2U balance.":ke.code==="ACTION_REJECTED"?Fe="Transaction was cancelled by user":ke.code==="INSUFFICIENT_FUNDS"?Fe="Insufficient U2U for gas fees and platform fee":Fe=`Transaction failed: ${ke.message||"Unknown error"}`,be.error(Fe,{duration:5e3})}finally{Be(!1)}},Ce=Y=>{let J=0;try{const de=en.from(Y.price);J=parseFloat(De(de)),console.log(` Converting price for ${Y.name}: ${Y.price} Wei  ${J} U2U`)}catch(de){console.warn(" Error converting price:",de),J=parseFloat(Y.price)||0}t("/orderbook",{state:{selectedToken:{tokenId:Y.tokenId,name:Y.name,image:Y.image,type:Y.type,userBalance:Y.amount,price:Y.price,marketplacePrice:J,description:Y.description}}})},Re=Y=>{Ce(Y)},_e=Y=>{ve(Y),ge(!0)},Bt=async Y=>{var J;if(!x||!f){be.error("Please connect your wallet first");return}try{be.info("Preparing to withdraw tokens from marketplace to your wallet...");const{TokenService:de}=await wt(async()=>{const{TokenService:ke}=await Promise.resolve().then(()=>T0e);return{TokenService:ke}},void 0);await new de(h,f).withdrawAsset(Y.tokenId,Y.amount),be.success(`Successfully withdrew ${Y.amount} tokens of ${Y.name} to your wallet! You can now use them in the OrderBook.`,{duration:5e3}),console.log(" Clearing dashboard and marketplace cache after successful withdrawal..."),Ds.clearCache(m),Qt.clearCache(),console.log(" Refreshing portfolio after successful withdrawal..."),await He(!0)}catch(de){console.error(" Failed to withdraw asset:",de);let he="Failed to withdraw asset";(J=de.message)!=null&&J.includes("Insufficient balance")?he="Insufficient balance in marketplace for withdrawal":de.code==="ACTION_REJECTED"?he="Transaction was cancelled by user":de.code==="INSUFFICIENT_FUNDS"?he="Insufficient U2U for gas fees":he=`Withdrawal failed: ${de.message||"Unknown error"}`,be.error(he,{duration:5e3})}};y.useEffect(()=>{x&&m&&(console.log("Wallet connected, loading assets..."),He())},[x,m]);const Ge=()=>{const J=(()=>{const Dt=(U.currentValue||1)*.85,tt=[];for(let Ee=0;Ee<24;Ee++){const ae=Ee/23,Me=(Math.random()-.5)*.1,Je=1+ae*.15+Me,yt=Math.max(Dt*Je,.001);tt.push(yt)}return tt})(),de=Math.max(...J),he=Math.min(...J),ke=de-he||1,Fe=800,Le=300,je=40,it=Fe-je*2,ze=Le-je*2,Ze=()=>{let st="";return J.forEach((Dt,tt)=>{const Ee=tt/(J.length-1)*it+je,ae=Le-je-(Dt-he)/ke*ze;tt===0?st+=`M ${Ee} ${ae}`:st+=` L ${Ee} ${ae}`}),st},Pt=()=>{let st=Ze();const Dt=it+je,tt=Le-je;return st+=` L ${Dt} ${tt} L ${je} ${tt} Z`,st},et=((J[J.length-1]-J[0])/J[0]*100).toFixed(1);return a.jsxs("div",{className:"w-full h-full flex flex-col",children:[a.jsxs("div",{className:"mb-3 md:mb-4 flex flex-col sm:flex-row sm:items-start justify-between gap-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-sm md:text-base font-semibold text-gray-900",children:"Portfolio Value"}),a.jsxs("p",{className:"text-base md:text-xl font-bold text-gray-900",children:[J[J.length-1].toFixed(4)," Flow"]}),a.jsxs("p",{className:`text-xs md:text-sm ${parseFloat(et)>=0?"text-green-600":"text-red-600"}`,children:[parseFloat(et)>=0?"+":"",et,"% (6 months)"]})]}),a.jsxs("div",{className:"flex items-center space-x-2 text-xs md:text-sm",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),a.jsx("span",{className:"text-gray-600",children:"Portfolio Value"})]})]}),a.jsx("div",{className:"flex-1 min-h-0 relative",children:a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsxs("svg",{width:"100%",height:"100%",viewBox:`0 0 ${Fe} ${Le}`,className:"max-w-full max-h-full",preserveAspectRatio:"xMidYMid meet",children:[a.jsxs("defs",{children:[a.jsx("pattern",{id:"gridPattern",width:"40",height:"30",patternUnits:"userSpaceOnUse",children:a.jsx("path",{d:"M 40 0 L 0 0 0 30",fill:"none",stroke:"#f1f5f9",strokeWidth:"1"})}),a.jsxs("linearGradient",{id:"areaGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[a.jsx("stop",{offset:"0%",stopColor:"#3b82f6",stopOpacity:"0.2"}),a.jsx("stop",{offset:"100%",stopColor:"#3b82f6",stopOpacity:"0.02"})]})]}),a.jsx("rect",{x:je,y:je,width:it,height:ze,fill:"url(#gridPattern)",opacity:"0.5"}),a.jsx("path",{d:Pt(),fill:"url(#areaGradient)"}),a.jsx("path",{d:Ze(),fill:"none",stroke:"#3b82f6",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),J.map((st,Dt)=>{if(Dt%4===0){const tt=Dt/(J.length-1)*it+je,Ee=Le-je-(st-he)/ke*ze;return a.jsx("circle",{cx:tt,cy:Ee,r:"4",fill:"#3b82f6",stroke:"white",strokeWidth:"2",className:"drop-shadow-sm",children:a.jsxs("title",{children:[st.toFixed(4)," Flow"]})},Dt)}return null}),a.jsxs("text",{x:je-10,y:je+5,textAnchor:"end",className:"text-xs fill-gray-500 font-medium",children:[de.toFixed(3)," Flow"]}),a.jsxs("text",{x:je-10,y:Le-je+5,textAnchor:"end",className:"text-xs fill-gray-500 font-medium",children:[he.toFixed(3)," Flow"]}),a.jsx("text",{x:je,y:Le-10,textAnchor:"start",className:"text-xs fill-gray-500 font-medium",children:"6 months ago"}),a.jsx("text",{x:Fe-je,y:Le-10,textAnchor:"end",className:"text-xs fill-gray-500 font-medium",children:"Today"})]})})}),a.jsxs("div",{className:"mt-3 md:mt-4 grid grid-cols-3 gap-2 md:gap-4 pt-3 border-t border-gray-100",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"HIGHEST"}),a.jsxs("p",{className:"text-xs md:text-sm font-bold text-gray-900",children:[de.toFixed(4)," Flow"]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"LOWEST"}),a.jsxs("p",{className:"text-xs md:text-sm font-bold text-gray-900",children:[he.toFixed(4)," Flow"]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"GROWTH"}),a.jsxs("p",{className:`text-xs md:text-sm font-bold ${parseFloat(et)>=0?"text-green-600":"text-red-600"}`,children:[parseFloat(et)>=0?"+":"",et,"%"]})]})]})]})},Ne=()=>{const Y=M.reduce((ze,Ze)=>{const Pt=Ze.type||"Other";ze[Pt]||(ze[Pt]=0);const et=parseFloat(De(Ze.price))*Ze.amount;return ze[Pt]+=et,ze},{}),J=Object.values(Y).reduce((ze,Ze)=>ze+Ze,0),de=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6"];if(J===0)return a.jsx("div",{className:"w-full h-full flex flex-col",children:a.jsx("div",{className:"flex-1 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(vc,{className:"w-12 md:w-16 h-12 md:h-16 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 font-medium text-sm md:text-base",children:"Asset Allocation"}),a.jsx("p",{className:"text-gray-400 text-xs md:text-sm mt-1",children:"No assets to display"})]})})});let he=0;const ke=80,Fe=140,Le=120;return a.jsxs("div",{className:"w-full h-full flex flex-col",children:[a.jsxs("div",{className:"mb-3 md:mb-4 text-center",children:[a.jsx("h3",{className:"text-sm md:text-base font-semibold text-gray-900",children:"Asset Distribution"}),a.jsxs("p",{className:"text-base md:text-xl font-bold text-gray-900",children:[M.length," Assets"]}),a.jsxs("p",{className:"text-xs md:text-sm text-gray-600",children:[J.toFixed(4)," Flow Total"]})]}),a.jsx("div",{className:"flex-1 min-h-0 flex items-center justify-center",children:a.jsx("div",{className:"relative w-full h-full max-w-xs",children:a.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 280 240",className:"max-w-full max-h-full",preserveAspectRatio:"xMidYMid meet",children:[Object.entries(Y).map(([ze,Ze],Pt)=>{const et=Ze/J*100,st=he/100*360,Dt=(he+et)/100*360,tt=(st-90)*(Math.PI/180),Ee=(Dt-90)*(Math.PI/180),ae=Fe+ke*Math.cos(tt),Me=Le+ke*Math.sin(tt),Je=Fe+ke*Math.cos(Ee),yt=Le+ke*Math.sin(Ee),ie=et>50?1:0,Qe=[`M ${Fe} ${Le}`,`L ${ae} ${Me}`,`A ${ke} ${ke} 0 ${ie} 1 ${Je} ${yt}`,"Z"].join(" ");return he+=et,a.jsx("g",{children:a.jsx("path",{d:Qe,fill:de[Pt%de.length],className:"hover:opacity-80 transition-opacity cursor-pointer drop-shadow-sm",children:a.jsxs("title",{children:[ze,": ",et.toFixed(1),"%"]})})},ze)}),a.jsx("circle",{cx:Fe,cy:Le,r:ke*.55,fill:"white",className:"drop-shadow-sm"}),a.jsx("text",{x:Fe,y:Le-5,textAnchor:"middle",className:"text-xs fill-gray-500 font-medium",children:"Total Value"}),a.jsxs("text",{x:Fe,y:Le+8,textAnchor:"middle",className:"text-xs md:text-sm fill-gray-900 font-bold",children:[J.toFixed(3)," Flow"]})]})})}),a.jsx("div",{className:"mt-3 md:mt-4 space-y-1 md:space-y-2 pt-3 border-t border-gray-100",children:Object.entries(Y).map(([ze,Ze],Pt)=>{const et=Ze/J*100;return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:de[Pt%de.length]}}),a.jsx("span",{className:"text-xs md:text-sm font-medium text-gray-700 truncate",children:ze})]}),a.jsxs("div",{className:"text-right flex-shrink-0",children:[a.jsxs("p",{className:"text-xs md:text-sm font-bold text-gray-900",children:[et.toFixed(1),"%"]}),a.jsxs("p",{className:"text-xs text-gray-500",children:[Ze.toFixed(3)," Flow"]})]})]},ze)})})]})},Ve=()=>{var Y,J,de,he,ke,Fe,Le,je,it,ze,Ze,Pt,et,st,Dt,tt,Ee,ae,Me,Je,yt;switch(e){case"analytics":return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Analytics Overview"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Portfolio insights and performance metrics"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center space-y-2 sm:space-y-0 sm:space-x-3",children:[a.jsxs("div",{className:"flex items-center space-x-2 px-3 py-1 bg-gray-100 rounded-lg",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Live"})]}),a.jsxs(Z,{variant:"outline",size:"sm",children:[a.jsx(yc,{className:"w-4 h-4 mr-2"}),"Last 30 days"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-4 md:gap-6",children:[a.jsx(fe,{className:"border border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:a.jsx(pe,{className:"p-4 md:p-6",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[a.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600 mb-2",children:"TOTAL INVESTMENT"}),a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("p",{className:"text-base md:text-lg lg:text-xl font-bold text-gray-900 truncate",children:i?`${U.totalInvestment.toFixed(4)} Flow`:""}),a.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>o(!i),className:"h-5 w-5 p-0 flex-shrink-0",children:i?a.jsx(Zr,{className:"w-3 h-3"}):a.jsx(xw,{className:"w-3 h-3"})})]}),a.jsx("p",{className:"text-green-600 text-xs md:text-sm",children:x?"+2.4% from last month":"Connect wallet to view"})]}),a.jsx("div",{className:"p-1.5 md:p-2 bg-gray-100 rounded-lg flex-shrink-0",children:a.jsx(In,{className:"w-4 md:w-5 h-4 md:h-5 text-gray-600"})})]})})}),a.jsx(fe,{className:"border border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:a.jsx(pe,{className:"p-4 md:p-6",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[a.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600 mb-2",children:"CURRENT VALUE"}),a.jsx("p",{className:"text-base md:text-lg lg:text-xl font-bold text-gray-900 mb-2 truncate",children:i?`${U.currentValue.toFixed(4)} Flow`:""}),a.jsxs("p",{className:"text-green-600 text-xs md:text-sm",children:["+",U.returnPercentage.toFixed(2),"% total return"]})]}),a.jsx("div",{className:"p-1.5 md:p-2 bg-gray-100 rounded-lg flex-shrink-0",children:a.jsx($o,{className:"w-4 md:w-5 h-4 md:h-5 text-gray-600"})})]})})}),a.jsx(fe,{className:"border border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:a.jsx(pe,{className:"p-4 md:p-6",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[a.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600 mb-2",children:"TOTAL RETURN"}),a.jsxs("div",{className:"flex flex-col space-y-1 mb-2",children:[a.jsx("p",{className:"text-base md:text-lg lg:text-xl font-bold text-gray-900 truncate",children:i?`${U.totalReturn.toFixed(4)} Flow`:""}),a.jsxs(Ie,{variant:"secondary",className:"bg-green-100 text-green-800 text-xs w-fit",children:["+",U.returnPercentage.toFixed(2),"%"]})]}),a.jsx("p",{className:"text-green-600 text-xs md:text-sm",children:"Above market average"})]}),a.jsx("div",{className:"p-1.5 md:p-2 bg-gray-100 rounded-lg flex-shrink-0",children:a.jsx(In,{className:"w-4 md:w-5 h-4 md:h-5 text-gray-600"})})]})})}),a.jsx(fe,{className:"border border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:a.jsx(pe,{className:"p-4 md:p-6",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[a.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600 mb-2",children:"YEARLY INCOME"}),a.jsx("p",{className:"text-base md:text-lg lg:text-xl font-bold text-gray-900 mb-2 truncate",children:i?`${U.monthlyIncome.toFixed(4)} Flow`:""}),a.jsx("p",{className:"text-green-600 text-xs md:text-sm",children:"8% yield annually"})]}),a.jsx("div",{className:"p-1.5 md:p-2 bg-gray-100 rounded-lg flex-shrink-0",children:a.jsx(On,{className:"w-4 md:w-5 h-4 md:h-5 text-gray-600"})})]})})})]}),a.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[a.jsxs(fe,{className:"xl:col-span-2 border border-gray-200 shadow-sm flex flex-col min-h-[400px] lg:min-h-[500px]",children:[a.jsx(ot,{className:"pb-4 flex-shrink-0",children:a.jsxs(lt,{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-lg md:text-xl font-bold text-gray-900",children:"Portfolio Performance"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"6-month growth trajectory"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Live"})]})]})}),a.jsx(pe,{className:"flex-1 min-h-0 p-4 md:p-6",children:a.jsx("div",{className:"h-full w-full",children:a.jsx(Ge,{})})})]}),a.jsxs(fe,{className:"border border-gray-200 shadow-sm flex flex-col min-h-[400px] lg:min-h-[500px]",children:[a.jsx(ot,{className:"pb-4 flex-shrink-0",children:a.jsxs(lt,{children:[a.jsx("span",{className:"text-lg md:text-xl font-bold text-gray-900",children:"Asset Allocation"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Portfolio distribution"})]})}),a.jsx(pe,{className:"flex-1 min-h-0 p-4 md:p-6",children:a.jsx("div",{className:"h-full w-full",children:a.jsx(Ne,{})})})]})]})]});case"portfolio":return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Owned Assets"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Your tokenized real-world asset portfolio"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center space-y-2 sm:space-y-0 sm:space-x-3",children:[a.jsxs(Ie,{variant:"secondary",className:"bg-gray-100 text-gray-900 px-3 py-1",children:[a.jsx(or,{className:"w-4 h-4 mr-2"}),M.length," Assets"]}),a.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>x&&He(),disabled:B||!x,children:[a.jsx(vc,{className:"w-4 h-4 mr-2"}),B?"Loading...":"Refresh"]})]})]}),x?M.length===0?a.jsx(fe,{className:"border border-gray-200 shadow-sm",children:a.jsxs(pe,{className:"p-12 text-center",children:[a.jsx(Ao,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Assets Found"}),a.jsx("p",{className:"text-gray-600 mb-6",children:B?"Loading your assets...":"You don't own any tokenized assets yet"}),!B&&a.jsxs(Z,{variant:"outline",onClick:()=>window.open("/marketplace","_blank"),children:[a.jsx(Ao,{className:"w-4 h-4 mr-2"}),"Browse Marketplace"]})]})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:M.map((ie,Qe)=>{const $t=parseFloat(De(ie.price))*ie.amount,ue=ie.type==="Real Estate"?Ao:ie.type==="Invoice"?na:ie.type==="Commodity"?sc:AM;return a.jsxs(Ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:Qe*.1},onClick:()=>_e(ie),className:"group bg-white/90 backdrop-blur-sm rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 cursor-pointer border border-gray-200/50 hover:border-gray-300/50 overflow-hidden hover:scale-[1.02]",children:[a.jsxs("div",{className:"relative overflow-hidden",children:[ie.image&&a.jsx(Cc,{src:ie.image,alt:ie.name,className:"w-full h-48 object-cover group-hover:scale-110 transition-transform duration-700",assetType:ie.type||"Real Estate",tokenId:ie.tokenId}),a.jsx("div",{className:"absolute top-4 left-4",children:a.jsxs("span",{className:"px-3 py-1 bg-white/90 backdrop-blur-sm rounded-full text-xs font-medium text-gray-700 border border-gray-200/50 flex items-center",children:[a.jsx(ue,{className:"w-3 h-3 mr-1"}),ie.type]})}),a.jsx("div",{className:"absolute top-4 right-4",children:a.jsxs("span",{className:"px-2 py-1 bg-blue-500/90 backdrop-blur-sm rounded-full text-xs font-medium text-white border border-blue-400/50",children:["#",ie.tokenId]})}),a.jsx("div",{className:"absolute bottom-4 left-4",children:a.jsx("span",{className:`px-3 py-1 backdrop-blur-sm rounded-full text-xs font-medium border ${ie.source==="marketplace"?"bg-blue-500/90 text-white border-blue-400/50":"bg-green-500/90 text-white border-green-400/50"}`,children:ie.source==="marketplace"?" Marketplace":" Wallet"})}),a.jsx("div",{className:"absolute bottom-4 right-4",children:a.jsxs("span",{className:"px-3 py-1 bg-white/90 backdrop-blur-sm rounded-full text-xs font-medium text-gray-700 border border-gray-200/50",children:[ie.amount," tokens"]})})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"font-bold text-gray-900 mb-2 group-hover:text-gray-700 transition-colors line-clamp-1",children:ie.name}),a.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2 leading-relaxed",children:ie.description}),a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-lg font-bold text-blue-600",children:[$t.toFixed(4)," Flow"]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Total Value"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm font-medium text-green-600",children:"+5.0%"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Performance"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),a.jsx("span",{className:"text-xs text-gray-600",children:"Available"})]}),a.jsxs("div",{className:"flex space-x-2",children:[ie.source==="marketplace"&&a.jsxs("button",{className:"px-3 py-1 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all duration-300 shadow-md hover:shadow-lg text-xs font-medium",onClick:pt=>{pt.stopPropagation(),Bt(ie)},children:[a.jsx(bc,{className:"w-3 h-3 mr-1 inline"}),"Withdraw"]}),a.jsx(_P,{requiresKYC:!0,blockingMode:!1,customMessage:"KYC verification required for P2P trading",onComplianceVerified:()=>Ce(ie),children:a.jsxs("button",{className:"px-3 py-1 bg-gradient-to-r from-gray-800 to-black text-white rounded-lg hover:from-gray-900 hover:to-gray-800 transition-all duration-300 shadow-md hover:shadow-lg text-xs font-medium",onClick:pt=>{pt.stopPropagation(),Ce(ie)},children:[a.jsx(On,{className:"w-3 h-3 mr-1 inline"}),"Trade"]})})]})]})]})]},ie.tokenId)})}):a.jsx(fe,{className:"border border-gray-200 shadow-sm",children:a.jsxs(pe,{className:"p-12 text-center",children:[a.jsx(or,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Connect Your Wallet"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Connect your wallet to view your owned assets"}),a.jsxs(Z,{onClick:Ke,disabled:B,children:[a.jsx(or,{className:"w-4 h-4 mr-2"}),B?"Connecting...":"Connect Wallet"]})]})})]});case"income":return a.jsx(ihe,{});case"transactions":return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Transaction History"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"View your complete trading and investment history"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center space-y-2 sm:space-y-0 sm:space-x-3",children:[a.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>se(!0),disabled:C,children:[a.jsx(Pn,{className:`w-4 h-4 mr-2 ${C?"animate-spin":""}`}),C?"Loading...":"Refresh"]}),a.jsxs(Z,{variant:"outline",size:"sm",children:[a.jsx(bc,{className:"w-4 h-4 mr-2"}),"Export"]}),a.jsxs(Z,{variant:"outline",size:"sm",children:[a.jsx(Qg,{className:"w-4 h-4 mr-2"}),"Filter"]})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(Ie,{variant:"secondary",className:"bg-gray-100 text-gray-900",children:"All Transactions"}),a.jsx(Ie,{variant:"outline",children:"Buys"}),a.jsx(Ie,{variant:"outline",children:"Sells"}),a.jsx(Ie,{variant:"outline",children:"Dividends"})]}),a.jsx(fe,{className:"border border-gray-200 shadow-sm",children:a.jsxs(pe,{className:"p-0",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left py-3 px-4 md:px-6 text-xs md:text-sm font-medium text-gray-600 uppercase tracking-wide",children:"Date"}),a.jsx("th",{className:"text-left py-3 px-4 md:px-6 text-xs md:text-sm font-medium text-gray-600 uppercase tracking-wide",children:"Asset"}),a.jsx("th",{className:"text-left py-3 px-4 md:px-6 text-xs md:text-sm font-medium text-gray-600 uppercase tracking-wide",children:"Type"}),a.jsx("th",{className:"text-right py-3 px-4 md:px-6 text-xs md:text-sm font-medium text-gray-600 uppercase tracking-wide",children:"Amount"}),a.jsx("th",{className:"text-right py-3 px-4 md:px-6 text-xs md:text-sm font-medium text-gray-600 uppercase tracking-wide",children:"Price"}),a.jsx("th",{className:"text-center py-3 px-4 md:px-6 text-xs md:text-sm font-medium text-gray-600 uppercase tracking-wide",children:"Status"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:C?Array.from({length:5}).map((ie,Qe)=>a.jsxs("tr",{className:"animate-pulse",children:[a.jsxs("td",{className:"py-3 px-4 md:px-6",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"}),a.jsx("div",{className:"h-3 bg-gray-200 rounded w-16 mt-1"})]}),a.jsx("td",{className:"py-3 px-4 md:px-6",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 bg-gray-200 rounded-lg"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"}),a.jsx("div",{className:"h-3 bg-gray-200 rounded w-16 mt-1"})]})]})}),a.jsx("td",{className:"py-3 px-4 md:px-6",children:a.jsx("div",{className:"h-6 bg-gray-200 rounded w-12"})}),a.jsx("td",{className:"py-3 px-4 md:px-6 text-right",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded w-16 ml-auto"})}),a.jsx("td",{className:"py-3 px-4 md:px-6 text-right",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded w-20 ml-auto"})}),a.jsx("td",{className:"py-3 px-4 md:px-6 text-center",children:a.jsx("div",{className:"h-6 bg-gray-200 rounded w-16 mx-auto"})})]},Qe)):g.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:6,className:"py-12 text-center text-gray-500",children:[a.jsx(Do,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),a.jsx("p",{className:"text-lg font-medium mb-2",children:"No transactions found"}),a.jsx("p",{className:"text-sm",children:"Your transaction history will appear here once you buy or sell assets."})]})}):g.map((ie,Qe)=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"py-3 px-4 md:px-6 text-xs md:text-sm text-gray-900",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:new Date(ie.timestamp).toLocaleDateString()}),a.jsx("div",{className:"text-gray-500 text-xs",children:new Date(ie.timestamp).toLocaleTimeString()})]})}),a.jsx("td",{className:"py-3 px-4 md:px-6",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 bg-gray-100 rounded-lg flex items-center justify-center flex-shrink-0",children:a.jsx(Ao,{className:"w-4 md:w-5 h-4 md:h-5 text-gray-600"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-900 truncate",children:ie.assetName}),a.jsxs("p",{className:"text-xs text-gray-500 truncate",children:["Token ID: ",ie.tokenId]})]})]})}),a.jsx("td",{className:"py-3 px-4 md:px-6",children:a.jsx(Ie,{variant:ie.type==="buy"?"default":"secondary",className:`text-xs ${ie.type==="buy"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:ie.type.charAt(0).toUpperCase()+ie.type.slice(1)})}),a.jsxs("td",{className:"py-3 px-4 md:px-6 text-right text-xs md:text-sm font-medium text-gray-900",children:[ie.amount," ",ie.amount===1?"token":"tokens"]}),a.jsxs("td",{className:"py-3 px-4 md:px-6 text-right text-xs md:text-sm font-bold text-gray-900",children:[parseFloat(ie.price).toFixed(4)," Flow",ie.platformFee&&parseFloat(ie.platformFee)>0&&a.jsxs("div",{className:"text-xs text-gray-500",children:["Fee: ",parseFloat(ie.platformFee).toFixed(4)," Flow"]})]}),a.jsx("td",{className:"py-3 px-4 md:px-6 text-center",children:a.jsx(Ie,{variant:"outline",className:`text-xs cursor-pointer ${ie.status==="success"?"bg-green-50 text-green-700 border-green-200":"bg-red-50 text-red-700 border-red-200"}`,onClick:()=>window.open(`https://arbiscan.io/tx/${ie.hash}`,"_blank"),title:`View on Arbiscan: ${ie.hash}`,children:ie.status==="success"?"Success":"Failed"})})]},ie.hash))})]})}),a.jsx("div",{className:"border-t border-gray-200 p-4 md:p-6 text-center",children:a.jsx(Z,{variant:"outline",size:"sm",children:"Load More Transactions"})})]})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:[a.jsx(fe,{className:"border border-gray-200 shadow-sm",children:a.jsx(pe,{className:"p-4 md:p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600 mb-1",children:"TOTAL BOUGHT"}),a.jsxs("p",{className:"text-xl md:text-2xl font-bold text-gray-900",children:[St().totalBought.toFixed(4)," Flow"]}),a.jsxs("p",{className:"text-gray-500 text-xs md:text-sm mt-1",children:[St().buyTransactions," transactions"]})]}),a.jsx("div",{className:"p-2 md:p-3 bg-green-100 rounded-lg",children:a.jsx($o,{className:"w-5 md:w-6 h-5 md:h-6 text-green-600"})})]})})}),a.jsx(fe,{className:"border border-gray-200 shadow-sm",children:a.jsx(pe,{className:"p-4 md:p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600 mb-1",children:"TOTAL SOLD"}),a.jsxs("p",{className:"text-xl md:text-2xl font-bold text-gray-900",children:[St().totalSold.toFixed(4)," Flow"]}),a.jsxs("p",{className:"text-gray-500 text-xs md:text-sm mt-1",children:[St().sellTransactions," transactions"]})]}),a.jsx("div",{className:"p-2 md:p-3 bg-red-100 rounded-lg",children:a.jsx(O7,{className:"w-5 md:w-6 h-5 md:h-6 text-red-600"})})]})})}),a.jsx(fe,{className:"border border-gray-200 shadow-sm",children:a.jsx(pe,{className:"p-4 md:p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600 mb-1",children:"DIVIDEND INCOME"}),a.jsxs("p",{className:"text-xl md:text-2xl font-bold text-gray-900",children:[St().dividendIncome.toFixed(4)," Flow"]}),a.jsx("p",{className:"text-gray-500 text-xs md:text-sm mt-1",children:"Estimated annual return (8%)"})]}),a.jsx("div",{className:"p-2 md:p-3 bg-blue-100 rounded-lg",children:a.jsx(On,{className:"w-5 md:w-6 h-5 md:h-6 text-blue-600"})})]})})})]})]});case"profile":return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Profile Settings"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your account and preferences"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(Z,{onClick:ut,disabled:E,variant:"outline",className:"w-fit",children:[a.jsx(Pn,{className:`w-4 h-4 mr-2 ${E?"animate-spin":""}`}),"Refresh Profile"]}),a.jsxs(Z,{className:"bg-gray-900 hover:bg-gray-800 text-white w-fit",children:[a.jsx($h,{className:"w-4 h-4 mr-2"}),"Advanced Settings"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(fe,{className:"border border-gray-200 shadow-sm",children:[a.jsx(ot,{className:"pb-4",children:a.jsxs(lt,{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-gray-900 rounded-lg",children:a.jsx(Jd,{className:"w-5 md:w-6 h-5 md:h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("span",{className:"text-lg md:text-2xl font-bold text-gray-900",children:"Profile Information"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Your account details"})]})]})}),a.jsx(pe,{className:"space-y-6",children:E?a.jsxs("div",{className:"flex items-center justify-center p-8",children:[a.jsx(Pn,{className:"w-6 h-6 animate-spin text-gray-400 mr-2"}),a.jsx("span",{className:"text-gray-600",children:"Loading profile..."})]}):R?a.jsxs("div",{className:"text-center p-8",children:[a.jsxs("div",{className:"text-red-500 mb-4",children:[a.jsx(Jd,{className:"w-12 h-12 mx-auto mb-2"}),a.jsx("p",{className:"font-semibold",children:"Failed to load profile"}),a.jsx("p",{className:"text-sm text-gray-600",children:R})]}),a.jsxs(Z,{onClick:ut,variant:"outline",size:"sm",children:[a.jsx(Pn,{className:"w-4 h-4 mr-2"}),"Retry"]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-4 sm:space-y-0 sm:space-x-6",children:[a.jsxs("div",{className:"relative",children:[a.jsxs(Fd,{className:"w-20 h-20 md:w-24 md:h-24 border-4 border-gray-200",children:[a.jsx(sF,{src:(v==null?void 0:v.profilePicture)||"/placeholder-avatar.jpg"}),a.jsxs(Ld,{className:"bg-gray-900 text-white text-xl md:text-2xl font-bold",children:[((Y=v==null?void 0:v.firstName)==null?void 0:Y.charAt(0))||((J=p==null?void 0:p.firstName)==null?void 0:J.charAt(0))||"U",((de=v==null?void 0:v.lastName)==null?void 0:de.charAt(0))||((he=p==null?void 0:p.lastName)==null?void 0:he.charAt(0))||"S"]})]}),a.jsx("div",{className:"absolute -bottom-2 -right-2 p-1.5 md:p-2 bg-green-500 rounded-full shadow-lg",children:a.jsx(kM,{className:"w-3 h-3 md:w-4 md:h-4 text-white"})})]}),a.jsxs("div",{className:"space-y-2 text-center sm:text-left",children:[a.jsx("h3",{className:"text-xl md:text-2xl font-bold text-gray-900",children:(v==null?void 0:v.fullName)||`${(v==null?void 0:v.firstName)||(p==null?void 0:p.firstName)||"Unknown"} ${(v==null?void 0:v.lastName)||(p==null?void 0:p.lastName)||"User"}`}),a.jsx("p",{className:"text-gray-600",children:(v==null?void 0:v.primaryRole)==="admin"?"Administrator":(v==null?void 0:v.primaryRole)==="issuer"?"Asset Issuer":(v==null?void 0:v.primaryRole)==="manager"?"Portfolio Manager":"Premium Account Holder"}),a.jsxs(Ie,{className:`${v!=null&&v.isVerified||p!=null&&p.isVerified?"bg-green-50 text-green-700 border-green-200":"bg-yellow-50 text-yellow-700 border-yellow-200"}`,children:[a.jsx(sV,{className:"w-3 h-3 mr-1"}),v!=null&&v.isVerified||p!=null&&p.isVerified?"Verified Investor":"Pending Verification"]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900",children:"Email Address"}),a.jsx("p",{className:"text-gray-600 text-sm",children:(v==null?void 0:v.email)||(p==null?void 0:p.email)||"Not provided"})]}),a.jsx(Ie,{variant:"outline",className:`${v!=null&&v.isVerified||p!=null&&p.isVerified?"bg-green-50 text-green-700 border-green-200":"bg-yellow-50 text-yellow-700 border-yellow-200"}`,children:v!=null&&v.isVerified||p!=null&&p.isVerified?"Verified":"Pending"})]})}),a.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900",children:"Phone Number"}),a.jsx("p",{className:"text-gray-600 text-sm",children:(v==null?void 0:v.phone)||"Not provided"})]}),a.jsx(Ie,{variant:"outline",className:`${v!=null&&v.phone?"bg-green-50 text-green-700 border-green-200":"bg-gray-50 text-gray-700 border-gray-200"}`,children:v!=null&&v.phone?"Provided":"Not Set"})]})}),a.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900",children:"Wallet Address"}),a.jsx("p",{className:"text-gray-600 text-sm font-mono break-all",children:(v==null?void 0:v.walletAddress)||(p==null?void 0:p.walletAddress)||m||"Not connected"})]}),a.jsx(Ie,{variant:"outline",className:`${v!=null&&v.walletAddress||p!=null&&p.walletAddress||m?"bg-blue-50 text-blue-700 border-blue-200":"bg-gray-50 text-gray-700 border-gray-200"}`,children:v!=null&&v.walletAddress||p!=null&&p.walletAddress||m?"Connected":"Not Connected"})]})}),(v==null?void 0:v.address)&&a.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900",children:"Address"}),a.jsxs("p",{className:"text-gray-600 text-sm",children:[[v.address.street,v.address.city,v.address.state,v.address.country].filter(Boolean).join(", ")||"Not provided",v.address.zipCode&&` ${v.address.zipCode}`]})]}),a.jsx(Ie,{variant:"outline",className:"bg-purple-50 text-purple-700 border-purple-200",children:"Address Set"})]})}),a.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900",children:"Member Since"}),a.jsx("p",{className:"text-gray-600 text-sm",children:v!=null&&v.createdAt||p!=null&&p.createdAt?new Date((v==null?void 0:v.createdAt)||(p==null?void 0:p.createdAt)).toLocaleDateString("en-US",{year:"numeric",month:"long"}):"Unknown"})]}),a.jsx(Ie,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:v!=null&&v.createdAt||p!=null&&p.createdAt?Math.floor((Date.now()-new Date((v==null?void 0:v.createdAt)||(p==null?void 0:p.createdAt)).getTime())/(1e3*60*60*24*30))+" months":"New"})]})})]})]})})]}),a.jsxs(fe,{className:"border border-gray-200 shadow-sm",children:[a.jsx(ot,{className:"pb-4",children:a.jsxs(lt,{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-gray-900 rounded-lg",children:a.jsx(Qr,{className:"w-5 md:w-6 h-5 md:h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("span",{className:"text-lg md:text-2xl font-bold text-gray-900",children:"Account Statistics"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Your investment journey"})]})]})}),a.jsxs(pe,{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-3 md:p-4 bg-green-50 rounded-lg border border-green-200 text-center",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg w-fit mx-auto mb-3",children:a.jsx(In,{className:"w-4 md:w-5 h-4 md:h-5 text-green-600"})}),a.jsx("p",{className:"text-lg md:text-2xl font-bold text-green-600",children:M.length}),a.jsx("p",{className:"text-green-700 text-xs md:text-sm font-medium",children:"Assets Owned"})]}),a.jsxs("div",{className:"p-3 md:p-4 bg-blue-50 rounded-lg border border-blue-200 text-center",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg w-fit mx-auto mb-3",children:a.jsx(Do,{className:"w-4 md:w-5 h-4 md:h-5 text-blue-600"})}),a.jsx("p",{className:"text-lg md:text-2xl font-bold text-blue-600",children:g.length}),a.jsx("p",{className:"text-blue-700 text-xs md:text-sm font-medium",children:"Transactions"})]}),a.jsxs("div",{className:"p-3 md:p-4 bg-orange-50 rounded-lg border border-orange-200 text-center",children:[a.jsx("div",{className:"p-2 bg-orange-100 rounded-lg w-fit mx-auto mb-3",children:a.jsx(yc,{className:"w-4 md:w-5 h-4 md:h-5 text-orange-600"})}),a.jsx("p",{className:"text-lg md:text-2xl font-bold text-orange-600",children:v!=null&&v.createdAt||p!=null&&p.createdAt?Math.floor((Date.now()-new Date((v==null?void 0:v.createdAt)||(p==null?void 0:p.createdAt)).getTime())/(1e3*60*60*24*30)):0}),a.jsx("p",{className:"text-orange-700 text-xs md:text-sm font-medium",children:"Months Active"})]}),a.jsxs("div",{className:"p-3 md:p-4 bg-purple-50 rounded-lg border border-purple-200 text-center",children:[a.jsx("div",{className:"p-2 bg-purple-100 rounded-lg w-fit mx-auto mb-3",children:a.jsx(sA,{className:"w-4 md:w-5 h-4 md:h-5 text-purple-600"})}),a.jsx("p",{className:"text-lg md:text-2xl font-bold text-purple-600",children:(v==null?void 0:v.kycStatus)==="approved"||(p==null?void 0:p.kycStatus)==="approved"?"Gold":(v==null?void 0:v.kycStatus)==="pending"||(p==null?void 0:p.kycStatus)==="pending"?"Silver":"Bronze"}),a.jsx("p",{className:"text-purple-700 text-xs md:text-sm font-medium",children:"Tier Status"})]})]}),a.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-semibold text-gray-900 text-sm",children:"Investment Level"}),a.jsxs(Ie,{className:"bg-yellow-50 text-orange-700 border-orange-200",children:[a.jsx(sA,{className:"w-3 h-3 mr-1"}),(v==null?void 0:v.kycStatus)==="approved"||(p==null?void 0:p.kycStatus)==="approved"?"Premium Investor":(v==null?void 0:v.kycStatus)==="pending"||(p==null?void 0:p.kycStatus)==="pending"?"Standard Investor":"Basic Investor"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-semibold text-gray-900 text-sm",children:"KYC Status"}),a.jsx(Ie,{variant:"outline",className:`${(v==null?void 0:v.kycStatus)==="approved"||(p==null?void 0:p.kycStatus)==="approved"?"bg-green-50 text-green-700 border-green-200":(v==null?void 0:v.kycStatus)==="pending"||(p==null?void 0:p.kycStatus)==="pending"?"bg-yellow-50 text-yellow-700 border-yellow-200":"bg-red-50 text-red-700 border-red-200"}`,children:(v==null?void 0:v.kycStatus)==="approved"||(p==null?void 0:p.kycStatus)==="approved"?"Approved":(v==null?void 0:v.kycStatus)==="pending"||(p==null?void 0:p.kycStatus)==="pending"?"Pending":"Not Started"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-semibold text-gray-900 text-sm",children:"User Roles"}),a.jsx("div",{className:"flex gap-1",children:((v==null?void 0:v.roles)||(p==null?void 0:p.roles)||[]).map((ie,Qe)=>a.jsx(Ie,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200 text-xs",children:ie.charAt(0).toUpperCase()+ie.slice(1)},Qe))})]})]})]})]})]}),a.jsxs(fe,{className:"border border-gray-200 shadow-sm",children:[a.jsx(ot,{className:"pb-4",children:a.jsxs(lt,{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-gray-900 rounded-lg",children:a.jsx($h,{className:"w-5 md:w-6 h-5 md:h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("span",{className:"text-lg md:text-2xl font-bold text-gray-900",children:"Preferences & Settings"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Customize your experience"})]})]})}),a.jsx(pe,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"font-semibold text-gray-900 text-base md:text-lg",children:"Notifications"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Email Notifications"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Receive updates via email"})]}),a.jsx("div",{className:`w-12 h-6 rounded-full relative ${((Fe=(ke=v==null?void 0:v.preferences)==null?void 0:ke.notifications)==null?void 0:Fe.email)!==!1?"bg-green-500":"bg-gray-300"}`,children:a.jsx("div",{className:`w-5 h-5 bg-white rounded-full absolute top-0.5 shadow-sm transition-all ${((je=(Le=v==null?void 0:v.preferences)==null?void 0:Le.notifications)==null?void 0:je.email)!==!1?"right-0.5":"left-0.5"}`})})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Push Notifications"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Real-time alerts"})]}),a.jsx("div",{className:`w-12 h-6 rounded-full relative ${(ze=(it=v==null?void 0:v.preferences)==null?void 0:it.notifications)!=null&&ze.push?"bg-green-500":"bg-gray-300"}`,children:a.jsx("div",{className:`w-5 h-5 bg-white rounded-full absolute top-0.5 shadow-sm transition-all ${(Pt=(Ze=v==null?void 0:v.preferences)==null?void 0:Ze.notifications)!=null&&Pt.push?"right-0.5":"left-0.5"}`})})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:"SMS Notifications"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Text message alerts"})]}),a.jsx("div",{className:`w-12 h-6 rounded-full relative ${(st=(et=v==null?void 0:v.preferences)==null?void 0:et.notifications)!=null&&st.sms?"bg-green-500":"bg-gray-300"}`,children:a.jsx("div",{className:`w-5 h-5 bg-white rounded-full absolute top-0.5 shadow-sm transition-all ${(tt=(Dt=v==null?void 0:v.preferences)==null?void 0:Dt.notifications)!=null&&tt.sms?"right-0.5":"left-0.5"}`})})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"font-semibold text-gray-900 text-base md:text-lg",children:"Account Settings"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Currency Preference"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Display currency"})]}),a.jsx(Ie,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:((Ee=v==null?void 0:v.preferences)==null?void 0:Ee.currency)||"USD"})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Language"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Interface language"})]}),a.jsx(Ie,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:((ae=v==null?void 0:v.preferences)==null?void 0:ae.language)==="en"?"English":((Me=v==null?void 0:v.preferences)==null?void 0:Me.language)==="es"?"Spanish":((Je=v==null?void 0:v.preferences)==null?void 0:Je.language)==="fr"?"French":"English"})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Last Login"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Last active session"})]}),a.jsx(Ie,{variant:"outline",className:"bg-gray-50 text-gray-700 border-gray-200",children:v!=null&&v.lastLogin||p!=null&&p.lastLogin?new Date((v==null?void 0:v.lastLogin)||(p==null?void 0:p.lastLogin)).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Unknown"})]})]})]})]})})]})]});case"notifications":return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Trading Notifications"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Your escrow status, order updates, and trading activities"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"flex items-center space-x-2 px-3 py-1 bg-blue-50 rounded-lg border border-blue-200",children:[a.jsx(_d,{className:"w-4 h-4 text-blue-600"}),a.jsxs("span",{className:"text-sm font-medium text-blue-700",children:[F," unread"]})]}),F>0&&a.jsx(Z,{variant:"outline",size:"sm",onClick:me,children:"Mark All Read"})]})]}),a.jsx(fe,{className:"border border-gray-200 shadow-sm",children:a.jsx(pe,{className:"p-0",children:S.length===0?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(_d,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Notifications Yet"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Your trading activities, escrow status, and order updates will appear here."}),a.jsx(Z,{variant:"outline",onClick:()=>n("transactions"),children:"View Transaction History"})]}):a.jsx("div",{className:"divide-y divide-gray-100",children:S.map(ie=>{var Qe;return a.jsxs("div",{className:`p-4 md:p-6 hover:bg-gray-50 transition-colors cursor-pointer ${ie.read?"":"bg-blue-50/30 border-l-4 border-l-blue-500"}`,onClick:()=>W(ie.id),children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsxs("div",{className:`p-2 rounded-lg ${ie.type==="order_created"?"bg-blue-100":ie.type==="order_filled"?"bg-green-100":ie.type==="order_cancelled"?"bg-red-100":ie.type==="escrow_released"?"bg-yellow-100":"bg-gray-100"}`,children:[ie.type==="order_created"&&a.jsx(Do,{className:`w-4 h-4 ${((Qe=ie.orderData)==null?void 0:Qe.orderType)==="buy"?"text-blue-600":"text-orange-600"}`}),ie.type==="order_filled"&&a.jsx(an,{className:"w-4 h-4 text-green-600"}),ie.type==="trade_completed"&&a.jsx(In,{className:"w-4 h-4 text-green-600"}),ie.type==="escrow_released"&&a.jsx(Xp,{className:"w-4 h-4 text-yellow-600"})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"text-sm md:text-base font-semibold text-gray-900 truncate",children:ie.title}),a.jsx("p",{className:"text-xs md:text-sm text-gray-600 mt-1 line-clamp-2",children:ie.message})]})]}),ie.orderData&&a.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg border border-gray-200",children:a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-xs md:text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-600",children:"Asset"}),a.jsx("p",{className:"text-gray-900 truncate",children:ie.orderData.assetName})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-600",children:"Amount"}),a.jsxs("p",{className:"text-gray-900",children:[ie.orderData.amount," tokens"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-600",children:"Price"}),a.jsxs("p",{className:"text-gray-900",children:[ie.orderData.price," Flow"]})]}),ie.orderData.escrowAmount&&a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-600",children:"Escrow"}),a.jsxs("p",{className:"text-gray-900",children:[ie.orderData.escrowAmount," Flow"]})]})]})})]}),a.jsxs("div",{className:"flex flex-col items-end space-y-2 flex-shrink-0 ml-4",children:[a.jsx("div",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${ie.status==="completed"?"bg-green-100 text-green-800":ie.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:ie.status}),a.jsx("div",{className:"text-xs text-gray-500",children:new Date(ie.timestamp).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}),!ie.read&&a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]})]}),ie.transactionHash&&a.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:a.jsxs(Z,{variant:"outline",size:"sm",onClick:$t=>{$t.stopPropagation(),window.open(`https://www.flowscan.io/tx/${ie.transactionHash}`,"_blank")},className:"text-xs",children:[a.jsx(wf,{className:"w-3 h-3 mr-1"}),"View Transaction"]})})]},ie.id)})})})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(fe,{className:"border border-gray-200 shadow-sm",children:a.jsx(pe,{className:"p-4 md:p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600 mb-1",children:"ACTIVE ORDERS"}),a.jsx("p",{className:"text-xl md:text-2xl font-bold text-blue-600",children:S.filter(ie=>ie.status==="pending"&&ie.type==="order_created").length})]}),a.jsx("div",{className:"p-2 md:p-3 bg-blue-100 rounded-lg",children:a.jsx(Do,{className:"w-5 md:w-6 h-5 md:h-6 text-blue-600"})})]})})}),a.jsx(fe,{className:"border border-gray-200 shadow-sm",children:a.jsx(pe,{className:"p-4 md:p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600 mb-1",children:"COMPLETED TRADES"}),a.jsx("p",{className:"text-xl md:text-2xl font-bold text-green-600",children:S.filter(ie=>ie.status==="completed").length})]}),a.jsx("div",{className:"p-2 md:p-3 bg-green-100 rounded-lg",children:a.jsx(an,{className:"w-5 md:w-6 h-5 md:h-6 text-green-600"})})]})})}),a.jsx(fe,{className:"border border-gray-200 shadow-sm",children:a.jsx(pe,{className:"p-4 md:p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600 mb-1",children:"FUNDS ESCROWED"}),a.jsxs("p",{className:"text-xl md:text-2xl font-bold text-yellow-600",children:[S.filter(ie=>{var Qe;return ie.status==="pending"&&((Qe=ie.orderData)==null?void 0:Qe.escrowAmount)}).reduce((ie,Qe)=>{var $t;return ie+parseFloat((($t=Qe.orderData)==null?void 0:$t.escrowAmount)||"0")},0).toFixed(4)," Flow"]})]}),a.jsx("div",{className:"p-2 md:p-3 bg-yellow-100 rounded-lg",children:a.jsx(Jo,{className:"w-5 md:w-6 h-5 md:h-6 text-yellow-600"})})]})})})]})]});default:return a.jsxs("div",{className:"space-y-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:(yt=PP.find(ie=>ie.id===e))==null?void 0:yt.label}),a.jsx(fe,{className:"border-0 shadow-sm",children:a.jsx(pe,{className:"p-12 text-center",children:a.jsx("p",{className:"text-gray-600",children:"This section is coming soon..."})})})]})}};return a.jsxs("div",{className:`min-h-screen flex ${d?"dark bg-gray-900":"bg-gray-50"}`,children:[l&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>c(!1)}),a.jsxs(Ht.div,{className:`fixed left-0 top-0 h-full shadow-lg z-50 transition-all duration-300 ${d?"bg-gray-800 border-gray-700":"bg-white"} ${s?"w-16":"w-64"} ${l?"translate-x-0":"-translate-x-full"} lg:translate-x-0`,initial:!1,animate:{width:s?64:256},children:[a.jsx("div",{className:`p-6 border-b ${d?"border-gray-700":"border-gray-200"}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${d?"bg-gray-100":"bg-gray-900"}`,children:a.jsx(Nc,{className:`w-5 h-5 ${d?"text-gray-900":"text-white"}`})}),!s&&a.jsxs("div",{children:[a.jsx("p",{className:`font-bold ${d?"text-white":"text-gray-900"}`,children:"AssetDash"}),a.jsx("p",{className:`text-xs ${d?"text-gray-400":"text-gray-600"}`,children:"Portfolio Manager"})]})]}),a.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>c(!1),className:"lg:hidden",children:a.jsx(hx,{className:"w-4 h-4"})})]})}),a.jsx("nav",{className:"p-4",children:a.jsx("div",{className:"space-y-2",children:PP.map(Y=>a.jsxs("button",{onClick:()=>{n(Y.id),c(!1)},className:`w-full flex items-center space-x-3 px-3 py-2 rounded-lg transition-colors relative ${e===Y.id?`${d?"bg-gray-700 text-white":"bg-gray-100 text-gray-900"}`:`${d?"text-gray-300 hover:bg-gray-700 hover:text-white":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`}`,children:[a.jsx(Y.icon,{className:"w-5 h-5"}),!s&&a.jsx("span",{className:"font-medium flex-1 text-left",children:Y.label}),!s&&Y.id==="notifications"&&F>0&&a.jsx("div",{className:"inline-flex items-center justify-center w-5 h-5 text-xs font-bold text-white bg-red-500 rounded-full",children:F>99?"99+":F}),s&&Y.id==="notifications"&&F>0&&a.jsx("div",{className:"absolute -top-1 -right-1 inline-flex items-center justify-center w-4 h-4 text-xs font-bold text-white bg-red-500 rounded-full",children:F>9?"9+":F})]},Y.id))})}),a.jsx("div",{className:"absolute bottom-4 left-4 right-4 hidden lg:block",children:a.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>r(!s),className:"w-full justify-center hover:bg-gray-100",children:a.jsx(V7,{className:`w-4 h-4 transition-transform ${s?"":"rotate-180"}`})})})]}),a.jsxs("div",{className:`flex-1 transition-all duration-300 ${s?"lg:ml-16":"lg:ml-64"} ml-0`,children:[a.jsx("header",{className:`border-b px-4 md:px-6 py-4 ${d?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>c(!l),className:"lg:hidden",children:a.jsx(eV,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:`text-sm ${d?"text-gray-400":"text-gray-600"}`,children:"Welcome back,"}),a.jsx("p",{className:`font-semibold ${d?"text-white":"text-gray-900"}`,children:x&&m?`${m.slice(0,6)}...${m.slice(-4)}`:"Investor"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[x?a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("div",{className:"hidden md:flex items-center space-x-2 px-3 py-1 bg-green-50 border border-green-200 rounded-lg",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),a.jsx("span",{className:"text-sm font-medium text-green-700",children:"Connected"})]}),a.jsx(Z,{variant:"outline",size:"sm",onClick:()=>He(),disabled:B,className:"hidden md:flex",children:B?"Loading...":"Refresh"})]}):a.jsxs(Z,{onClick:Ke,disabled:B,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[a.jsx(or,{className:"w-4 h-4 mr-2"}),B?"Connecting...":"Connect Wallet"]}),a.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>u(!d),className:`hidden md:flex ${d?"hover:bg-gray-700 text-yellow-400":"hover:bg-gray-100 text-gray-600"}`,children:a.jsx(X7,{className:`w-5 h-5 ${d?"fill-current":""}`})}),a.jsx(Z,{variant:"ghost",size:"sm",className:"hidden md:flex",children:a.jsx(_d,{className:"w-5 h-5"})}),a.jsx(Z,{variant:"ghost",size:"sm",className:"hidden md:flex",children:a.jsx($h,{className:"w-5 h-5"})}),a.jsx(i8,{orientation:"vertical",className:"h-6 hidden md:block"}),a.jsx(Z,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700",onClick:()=>t("/marketplace"),children:a.jsx(Q7,{className:"w-5 h-5"})})]})]})}),a.jsx("main",{className:`p-4 md:p-6 ${d?"bg-gray-900":""}`,children:a.jsx(Zk,{mode:"wait",children:a.jsx(Ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:d?"text-white":"",children:Ve()},e)})})]}),a.jsx(rr,{open:te,onOpenChange:ge,children:a.jsxs(Fs,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx(Ls,{children:a.jsxs(Bs,{className:"flex items-center space-x-2",children:[a.jsx(Zr,{className:"w-5 h-5 text-blue-600"}),a.jsx("span",{children:"Asset Details"})]})}),Te&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"w-full h-48 rounded-lg overflow-hidden",children:a.jsx(Cc,{src:Te.image,alt:Te.name,className:"w-full h-full object-cover",assetType:Te.type||"Real Estate",tokenId:Te.tokenId})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:Te.name}),a.jsx("p",{className:"text-gray-600 leading-relaxed",children:Te.description})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs font-medium text-gray-600 mb-1",children:"TOKEN ID"}),a.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["#",Te.tokenId]})]}),a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs font-medium text-gray-600 mb-1",children:"OWNED TOKENS"}),a.jsx("p",{className:"text-lg font-bold text-blue-600",children:Te.amount})]}),a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs font-medium text-gray-600 mb-1",children:"PRICE PER TOKEN"}),a.jsxs("p",{className:"text-lg font-bold text-green-600",children:[parseFloat(De(Te.price)).toFixed(6)," Flow"]})]}),a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs font-medium text-gray-600 mb-1",children:"TOTAL VALUE"}),a.jsxs("p",{className:"text-lg font-bold text-green-600",children:[(parseFloat(De(Te.price))*Te.amount).toFixed(6)," Flow"]})]})]}),Te.attributes&&Te.attributes.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Asset Properties"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Te.attributes.map((Y,J)=>a.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg border border-blue-200",children:[a.jsxs("span",{className:"text-sm font-medium text-blue-700",children:[Y.trait_type,":"]}),a.jsx("span",{className:"text-sm font-bold text-blue-900",children:Y.value})]},J))})]}),a.jsxs("div",{className:"bg-gray-900 text-white p-4 rounded-lg",children:[a.jsxs("h4",{className:"text-lg font-semibold mb-3 flex items-center",children:[a.jsx(Ao,{className:"w-5 h-5 mr-2"}),"Blockchain Information"]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Contract:"}),a.jsxs("span",{className:"font-mono bg-gray-800 px-2 py-1 rounded",children:[Te.seller.substring(0,10),"...",Te.seller.substring(Te.seller.length-8)]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Asset Type:"}),a.jsx("span",{className:"font-medium",children:Te.type})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Network:"}),a.jsx("span",{className:"font-medium",children:"Flow Mainnet "})]}),Te.metadataURI&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Metadata:"}),a.jsx("span",{className:"font-mono bg-gray-800 px-2 py-1 rounded text-xs",children:"IPFS"})]})]})]}),a.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[a.jsxs("h4",{className:"text-lg font-semibold text-green-900 mb-3 flex items-center",children:[a.jsx(In,{className:"w-5 h-5 mr-2"}),"Performance & Yield"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-green-700 font-medium",children:"Current Performance"}),a.jsx("p",{className:"text-xl font-bold text-green-600",children:"+5.2%"}),a.jsx("p",{className:"text-xs text-green-600",children:"Since purchase"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-green-700 font-medium",children:"Estimated Yearly Yield"}),a.jsx("p",{className:"text-xl font-bold text-green-600",children:"8.0%"}),a.jsx("p",{className:"text-xs text-green-600",children:"Based on asset type"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-green-700 font-medium",children:"Monthly Income"}),a.jsxs("p",{className:"text-xl font-bold text-green-600",children:[(parseFloat(De(Te.price))*Te.amount*.08/12).toFixed(6)," S"]}),a.jsx("p",{className:"text-xs text-green-600",children:"Estimated"})]})]})]}),a.jsxs("div",{className:"flex space-x-3 pt-4",children:[a.jsx(Z,{variant:"outline",className:"flex-1",onClick:()=>ge(!1),children:"Close"}),a.jsx(_P,{requiresKYC:!0,blockingMode:!1,customMessage:"KYC verification required for P2P trading",onComplianceVerified:()=>{ge(!1),Re(Te)},children:a.jsxs(Z,{variant:"default",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",onClick:()=>{ge(!1),Ce(Te)},children:[a.jsx(On,{className:"w-4 h-4 mr-2"}),"Trade P2P"]})})]})]})]})}),a.jsx(rr,{open:V,onOpenChange:G,children:a.jsxs(Fs,{className:"sm:max-w-md",children:[a.jsx(Ls,{children:a.jsxs(Bs,{className:"flex items-center space-x-2",children:[a.jsx(On,{className:"w-5 h-5 text-red-600"}),a.jsx("span",{children:"Sell Asset"})]})}),H&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[a.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:a.jsx(Ao,{className:"w-5 h-5 text-gray-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-gray-900",children:H.name}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Token ID: #",H.tokenId]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Owned Tokens"}),a.jsx("p",{className:"font-bold text-gray-900",children:H.amount})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Price per Token"}),a.jsxs("p",{className:"font-bold text-green-600",children:[(parseFloat(H.price)/Math.pow(10,18)).toFixed(4)," S"]})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Nt,{htmlFor:"sellAmount",children:"Amount to Sell"}),a.jsx(Et,{id:"sellAmount",type:"number",placeholder:"Enter amount",value:X,onChange:Y=>ee(Y.target.value),min:"1",max:H.amount.toString()}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Maximum: ",H.amount," tokens"]})]}),X&&parseInt(X)>0&&parseInt(X)<=H.amount&&a.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[a.jsx("h4",{className:"font-medium text-blue-900 mb-3",children:"Transaction Summary"}),(()=>{const Y=parseInt(X),J=en.from(H.price),de=J.mul(Y),he=de.mul(1).div(100),ke=de;return a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-blue-700",children:"Selling:"}),a.jsxs("span",{className:"font-medium text-blue-900",children:[Y," tokens"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-blue-700",children:"Price per token:"}),a.jsxs("span",{className:"font-medium text-blue-900",children:[parseFloat(De(J)).toFixed(6)," S"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-blue-700",children:"Total value:"}),a.jsxs("span",{className:"font-medium text-blue-900",children:[parseFloat(De(de)).toFixed(6)," S"]})]}),a.jsxs("div",{className:"border-t border-blue-200 pt-2",children:[a.jsxs("div",{className:"flex justify-between text-red-600",children:[a.jsx("span",{children:"Platform fee (1%):"}),a.jsxs("span",{className:"font-medium",children:["-",parseFloat(De(he)).toFixed(6)," S"]})]}),a.jsxs("div",{className:"flex justify-between font-bold text-green-600 mt-1",children:[a.jsx("span",{children:"You receive:"}),a.jsxs("span",{children:[parseFloat(De(ke)).toFixed(6)," S"]})]})]}),a.jsx("div",{className:"mt-3 p-2 bg-yellow-50 rounded border border-yellow-200",children:a.jsxs("p",{className:"text-xs text-yellow-800",children:[a.jsx("strong",{children:"Note:"})," You will pay ",parseFloat(De(he)).toFixed(6)," S as platform fee when confirming this transaction."]})})]})})()]}),a.jsxs("div",{className:"flex space-x-3 pt-4",children:[a.jsx(Z,{variant:"outline",className:"flex-1",onClick:()=>G(!1),disabled:ne,children:"Cancel"}),a.jsx(Z,{variant:"destructive",className:"flex-1",onClick:ce,disabled:ne||!X||parseInt(X)<=0||parseInt(X)>H.amount,children:ne?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Selling..."]}):a.jsxs(a.Fragment,{children:[a.jsx(On,{className:"w-4 h-4 mr-2"}),"Sell ",X||"0"," Tokens"]})})]})]})]})}),k&&q&&a.jsx(zge,{selectedToken:{tokenId:q.tokenId.toString(),name:q.name,symbol:q.name.substring(0,4).toUpperCase(),currentPrice:parseFloat(De(q.price)),priceChange24h:0,volume24h:q.amount*parseFloat(De(q.price)),marketCap:0,totalSupply:0,userBalance:q.amount},onClose:()=>{O(!1),I(null)},userWallet:m||""})]})},s0e=()=>{const t=yl(),{address:e,isConnected:n,connectWallet:s,disconnectWallet:r}=xn(),{login:i}=Sj(),[o,l]=y.useState(!0),[c,d]=y.useState(!1),[u,h]=y.useState(!1),[f,m]=y.useState(!1),[x,p]=y.useState(null),[w,b]=y.useState(null),[v,N]=y.useState(!1),[E,T]=y.useState("user"),[R,$]=y.useState("email"),[M,L]=y.useState([]),[U,z]=y.useState(null),[B,D]=y.useState({email:"",password:"",confirmPassword:"",firstName:"",lastName:"",acceptTerms:!1,walletAddress:""});y.useEffect(()=>{n&&e?(N(!0),D(S=>({...S,walletAddress:e})),g(e)):(N(!1),D(S=>({...S,walletAddress:""})),L([]),z(null))},[n,e]);const g=async S=>{try{const A=await tu.verifyWallet(S);A.success&&A.data.walletExists&&(L(A.data.availableRoles),z(A.data.availableRoles.length>0?A.data.availableRoles[0]:null),A.data.userInfo&&D(F=>{var _,k,O;return{...F,firstName:((_=A.data.userInfo)==null?void 0:_.firstName)||"",lastName:((k=A.data.userInfo)==null?void 0:k.lastName)||"",email:((O=A.data.userInfo)==null?void 0:O.email)||""}}))}catch(A){console.error("Wallet verification error:",A)}},j=S=>{const{name:A,value:F,type:_,checked:k}=S.target;D(O=>({...O,[A]:_==="checkbox"?k:F})),x&&p(null)},C=()=>{if(R==="wallet")return!v||!B.walletAddress?"Please connect your wallet first":o&&M.length===0?"No registered account found for this wallet":!o&&(!B.firstName||!B.lastName||!B.email)?"First name, last name, and email are required for registration":null;if(!B.email||!B.password)return"Email and password are required";if(!o){if(!B.firstName||!B.lastName)return"First name and last name are required";if(!v||!B.walletAddress)return"Please connect your wallet to complete registration";if(B.password!==B.confirmPassword)return"Passwords do not match";if(B.password.length<6)return"Password must be at least 6 characters long";if(!B.acceptTerms)return"You must accept the terms and conditions"}return null},P=async S=>{var F,_,k;S.preventDefault(),p(null),b(null);const A=C();if(A){p(A);return}m(!0);try{if(o){let O;R==="wallet"?O={walletAddress:B.walletAddress}:O={email:B.email,password:B.password},await i(O),b("Login successful! Redirecting...")}else{const O={firstName:B.firstName,lastName:B.lastName,email:B.email,password:B.password,confirmPassword:B.confirmPassword,walletAddress:B.walletAddress,role:E},q=await tu.register(O);if(q.success){b("Registration successful! Redirecting...");const I=((F=q.data.user)==null?void 0:F.primaryRole)||((k=(_=q.data.user)==null?void 0:_.roles)==null?void 0:k[0])||"user";let V="/marketplace";switch(I){case"admin":V="/admin";break;case"issuer":V="/issuer";break;case"manager":V="/manager";break;default:V="/marketplace"}setTimeout(()=>{t(V)},1e3)}}}catch(O){console.error("Auth error:",O),p(O.message||"An error occurred. Please try again.")}finally{m(!1)}};return a.jsxs("div",{className:"min-h-screen bg-gray-50 flex relative",children:[a.jsx("div",{className:"absolute top-6 left-6 z-20",children:a.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>t("/"),className:"bg-white/90 backdrop-blur-sm border-gray-200 text-gray-700 hover:bg-white hover:text-gray-900 hover:shadow-md transition-all duration-200",children:[a.jsx(Nc,{className:"w-4 h-4 mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Home"})]})}),a.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-gray-900 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-800 to-gray-900"}),a.jsx("div",{className:"relative z-10 flex flex-col justify-center items-center p-12 text-white",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"flex items-center justify-center space-x-3 mb-8",children:a.jsx("div",{className:"w-16 h-16 bg-white rounded-2xl flex items-center justify-center",children:a.jsx(Ao,{className:"w-10 h-10 text-gray-900"})})}),a.jsx("h1",{className:"text-4xl font-bold mb-3",children:"Orion"}),a.jsx("p",{className:"text-gray-300 text-lg mb-8",children:"Investment Portfolio Management"}),a.jsx("div",{className:"w-24 h-1 bg-white mx-auto mb-8 rounded-full"}),a.jsx("p",{className:"text-gray-400 max-w-md mx-auto leading-relaxed",children:"Secure access to your investment dashboard and portfolio management tools."})]})})]}),a.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-white",children:a.jsxs("div",{className:"w-full max-w-sm",children:[a.jsxs("div",{className:"lg:hidden text-center mb-8",children:[a.jsx("div",{className:"w-12 h-12 bg-gray-900 rounded-xl flex items-center justify-center mx-auto mb-3",children:a.jsx(Ao,{className:"w-7 h-7 text-white"})}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"AssetDash"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Portfolio Management"})]}),a.jsxs(fe,{className:"border-0 shadow-xl",children:[a.jsxs(ot,{className:"text-center pb-6",children:[a.jsx(lt,{className:"text-2xl font-bold text-gray-900 mb-2",children:o?"Welcome Back":"Create Account"}),a.jsx("p",{className:"text-gray-600 text-sm",children:o?"Enter your credentials to access your dashboard":"Fill in your information to get started"})]}),a.jsxs(pe,{className:"pt-0",children:[a.jsxs("div",{className:"flex bg-gray-50 rounded-xl p-1 mb-10 mt-8",children:[a.jsx("button",{onClick:()=>l(!0),className:`flex-1 py-3 px-4 rounded-lg text-sm font-medium transition-all duration-200 ${o?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"Sign In"}),a.jsx("button",{onClick:()=>l(!1),className:`flex-1 py-3 px-4 rounded-lg text-sm font-medium transition-all duration-200 ${o?"text-gray-500 hover:text-gray-700":"bg-white text-gray-900 shadow-sm"}`,children:"Sign Up"})]}),(!o||R==="wallet")&&a.jsxs("div",{className:"mb-6",children:[a.jsxs(Nt,{className:"text-sm font-medium text-gray-700 mb-3 block",children:["Connect Wallet ",o?"(Alternative Login)":""]}),a.jsxs("div",{className:"space-y-3",children:[n?a.jsx(Z,{onClick:r,variant:"outline",className:"w-full",children:"Disconnect Wallet"}):a.jsxs(Z,{onClick:s,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:[a.jsx(or,{className:"w-4 h-4 mr-2"}),"Connect Wallet"]}),v&&e&&a.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center text-green-700",children:[a.jsx(an,{className:"w-4 h-4 mr-2"}),a.jsxs("span",{className:"text-sm",children:["Wallet Connected: ",e.slice(0,6),"...",e.slice(-4)]})]}),U&&a.jsxs("div",{className:"mt-2 text-sm text-green-600",children:["Account type: ",U.charAt(0).toUpperCase()+U.slice(1)]}),M.length===0&&o&&a.jsx("div",{className:"mt-2 text-sm text-orange-600",children:"No registered account found for this wallet"})]})]})]}),!o&&U&&a.jsxs("div",{className:"mb-6",children:[a.jsx(Nt,{className:"text-sm font-medium text-gray-700 mb-3 block",children:"Existing Account Detected"}),a.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center text-blue-700",children:[a.jsx(aa,{className:"w-4 h-4 mr-2"}),a.jsxs("span",{className:"text-sm font-medium",children:["This wallet already has roles: ",M.join(", ")]})]}),a.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"You can add additional roles to this wallet or login with existing roles."})]})]}),!o&&!U&&a.jsxs("div",{className:"mb-6",children:[a.jsx(Nt,{className:"text-sm font-medium text-gray-700 mb-3 block",children:"Account Type"}),a.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center text-blue-700",children:[a.jsx(Jd,{className:"w-4 h-4 mr-2"}),a.jsx("span",{className:"text-sm font-medium",children:"User Account - Investor"})]}),a.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Only user accounts can be created here. Issuer and manager accounts are created by administrators."})]})]}),a.jsxs("form",{onSubmit:P,className:"space-y-0",children:[x&&a.jsxs(hs,{className:"mb-4 border-red-200 bg-red-50",children:[a.jsx(aa,{className:"h-4 w-4 text-red-600"}),a.jsx(fs,{className:"text-red-800",children:x})]}),w&&a.jsxs(hs,{className:"mb-4 border-green-200 bg-green-50",children:[a.jsx(an,{className:"h-4 w-4 text-green-600"}),a.jsx(fs,{className:"text-green-800",children:w})]}),!o&&a.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"First Name"}),a.jsxs("div",{className:"relative",children:[a.jsx(Jd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx(Et,{type:"text",name:"firstName",value:B.firstName,onChange:j,placeholder:"John",className:"pl-10 h-11 border-gray-200 focus:border-gray-900 focus:ring-1 focus:ring-gray-900",required:!o})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Last Name"}),a.jsx(Et,{type:"text",name:"lastName",value:B.lastName,onChange:j,placeholder:"Doe",className:"h-11 border-gray-200 focus:border-gray-900 focus:ring-1 focus:ring-gray-900",required:!o})]})]}),(R==="email"||!o)&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Email Address"}),a.jsxs("div",{className:"relative",children:[a.jsx(Z7,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx(Et,{type:"email",name:"email",value:B.email,onChange:j,placeholder:"john@example.com",className:"pl-10 h-11 border-gray-200 focus:border-gray-900 focus:ring-1 focus:ring-gray-900",required:!0})]})]}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(Jo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx(Et,{type:c?"text":"password",name:"password",value:B.password,onChange:j,placeholder:"Enter your password",className:"pl-10 pr-10 h-11 border-gray-200 focus:border-gray-900 focus:ring-1 focus:ring-gray-900",required:!0}),a.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:c?a.jsx(xw,{className:"w-4 h-4"}):a.jsx(Zr,{className:"w-4 h-4"})})]})]})]}),!o&&a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Confirm Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(Jo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx(Et,{type:u?"text":"password",name:"confirmPassword",value:B.confirmPassword,onChange:j,placeholder:"Confirm your password",className:"pl-10 pr-10 h-11 border-gray-200 focus:border-gray-900 focus:ring-1 focus:ring-gray-900",required:!o}),a.jsx("button",{type:"button",onClick:()=>h(!u),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:u?a.jsx(xw,{className:"w-4 h-4"}):a.jsx(Zr,{className:"w-4 h-4"})})]})]}),!o&&a.jsx("div",{className:"mb-6",children:a.jsxs("label",{className:"flex items-start space-x-2",children:[a.jsx("input",{type:"checkbox",name:"acceptTerms",checked:B.acceptTerms,onChange:j,className:"w-4 h-4 text-gray-900 border-gray-300 rounded focus:ring-gray-900 focus:ring-1 mt-0.5",required:!0}),a.jsxs("span",{className:"text-sm text-gray-600 leading-5",children:["I agree to the"," ",a.jsx("button",{type:"button",className:"text-gray-900 hover:text-gray-700 font-medium",children:"Terms of Service"})," ","and"," ",a.jsx("button",{type:"button",className:"text-gray-900 hover:text-gray-700 font-medium",children:"Privacy Policy"})," ","*"]})]})}),o&&a.jsxs("div",{className:"flex items-center justify-between mb-10",children:[a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",className:"w-4 h-4 text-gray-900 border-gray-300 rounded focus:ring-gray-900 focus:ring-1"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Remember me"})]}),a.jsx("button",{type:"button",className:"text-sm text-gray-900 hover:text-gray-700 font-medium",children:"Forgot password?"})]}),a.jsx(Z,{type:"submit",disabled:f,className:"w-full bg-gray-900 hover:bg-gray-800 disabled:bg-gray-400 disabled:cursor-not-allowed text-white h-11 text-base font-medium transition-colors duration-200 mb-10",children:f?a.jsxs(a.Fragment,{children:[a.jsx(hN,{className:"w-4 h-4 mr-2 animate-spin"}),o?"Signing In...":"Creating Account..."]}):a.jsxs(a.Fragment,{children:[o?"Sign In":"Create Account",a.jsx(F7,{className:"w-4 h-4 ml-2"})]})}),o&&a.jsx(a.Fragment,{children:a.jsxs("div",{className:"mt-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t border-gray-200"})}),a.jsx("div",{className:"relative flex justify-center text-sm",children:a.jsx("span",{className:"px-2 bg-white text-gray-500",children:"or continue with"})})]}),a.jsx("div",{className:"mt-6",children:a.jsxs(Z,{type:"button",variant:"outline",className:"w-full h-11 border-gray-200",onClick:()=>$("wallet"),children:[a.jsx(or,{className:"w-4 h-4 mr-2"}),"Connect Wallet to Login"]})})]})})]})]})]})]})})]})};function r0e(t,e=[]){let n=[];function s(i,o){const l=y.createContext(o),c=n.length;n=[...n,o];function d(h){const{scope:f,children:m,...x}=h,p=(f==null?void 0:f[t][c])||l,w=y.useMemo(()=>x,Object.values(x));return a.jsx(p.Provider,{value:w,children:m})}function u(h,f){const m=(f==null?void 0:f[t][c])||l,x=y.useContext(m);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const r=()=>{const i=n.map(o=>y.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return r.scopeName=t,[s,i0e(r,...e)]}function i0e(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Lj="Progress",Bj=100,[a0e,rye]=r0e(Lj),[o0e,l0e]=a0e(Lj),nB=y.forwardRef((t,e)=>{const{__scopeProgress:n,value:s=null,max:r,getValueLabel:i=c0e,...o}=t;(r||r===0)&&!IP(r)&&console.error(d0e(`${r}`,"Progress"));const l=IP(r)?r:Bj;s!==null&&!RP(s,l)&&console.error(u0e(`${s}`,"Progress"));const c=RP(s,l)?s:null,d=H0(c)?i(c,l):void 0;return a.jsx(o0e,{scope:n,value:c,max:l,children:a.jsx(xt.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":H0(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":iB(c,l),"data-value":c??void 0,"data-max":l,...o,ref:e})})});nB.displayName=Lj;var sB="ProgressIndicator",rB=y.forwardRef((t,e)=>{const{__scopeProgress:n,...s}=t,r=l0e(sB,n);return a.jsx(xt.div,{"data-state":iB(r.value,r.max),"data-value":r.value??void 0,"data-max":r.max,...s,ref:e})});rB.displayName=sB;function c0e(t,e){return`${Math.round(t/e*100)}%`}function iB(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function H0(t){return typeof t=="number"}function IP(t){return H0(t)&&!isNaN(t)&&t>0}function RP(t,e){return H0(t)&&!isNaN(t)&&t<=e&&t>=0}function d0e(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Bj}\`.`}function u0e(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Bj} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var aB=nB,h0e=rB;const h2=y.forwardRef(({className:t,value:e,...n},s)=>a.jsx(aB,{ref:s,className:rt("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:a.jsx(h0e,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));h2.displayName=aB.displayName;const f0e=()=>{const{signer:t,isConnected:e,address:n}=xn(),[s,r]=y.useState(null),[i,o]=y.useState([]),[l,c]=y.useState(!1),[d,u]=y.useState(null),[h,f]=y.useState({invoiceAmount:"",yieldRate:"5.0",notes:""}),[m,x]=y.useState(null),[p,w]=y.useState(!1);y.useEffect(()=>{(async()=>{if(e&&t&&n)try{const $=new Im(window.ethereum);await $.connect(),r($),await b()}catch($){console.error("Failed to initialize settlement processor:",$)}})()},[e,t,n]);const b=async R=>{var $,M,L,U,z;try{if(c(!0),console.log(" Loading real assigned tokens for settlement processing..."),!t||!n){console.log("No signer or address available");return}const{ADMIN_CONTRACT:B,TOKEN_CONTRACT:D,MARKETPLACE_CONTRACT:g}=await wt(async()=>{const{ADMIN_CONTRACT:I,TOKEN_CONTRACT:V,MARKETPLACE_CONTRACT:G}=await Promise.resolve().then(()=>_i);return{ADMIN_CONTRACT:I,TOKEN_CONTRACT:V,MARKETPLACE_CONTRACT:G}},void 0),{CONTRACT_ABIS:j}=await wt(async()=>{const{CONTRACT_ABIS:I}=await Promise.resolve().then(()=>ti);return{CONTRACT_ABIS:I}},void 0),{ethers:C}=await wt(async()=>{const{ethers:I}=await import("./index-BlYJb8tU.js");return{ethers:I}},[]),P=new C.Contract(B,j.ADMIN,t),S=new C.Contract(D,j.ERC1155CORE,t);console.log(" Checking manager authorization for settlement processor...");let A;try{A=await P.getAllManagers(),console.log(" All managers from contract:",A)}catch(I){console.error(" Error calling getAllManagers:",I),oe.error("Failed to fetch managers from contract"),o([]);return}if(!(A||[]).some(I=>I.toLowerCase()===n.toLowerCase())){console.log(" User is not an authorized manager for settlement processing"),oe.error("You are not authorized as a manager"),o([]);return}console.log(" User is authorized manager for settlement processing");const k=await P.getManagerTokens(n);console.log(" Assigned token IDs for settlement:",k.map(I=>I.toString()));const O=k.map(I=>I.toString());if(O.length===0){console.log(" No tokens assigned to this manager for settlement"),o([]);return}const q=[];for(const I of O)try{console.log(` Processing settlement token ${I}...`);const V=await S.getTokenInfo(I),G=await S.getTokenLifecycleStatus(I);let H=`Asset #${I}`,K="Investment Asset",X=null;if(V.metadataURI&&V.metadataURI.length>0)try{console.log(` Fetching metadata for token ${I} from URI: ${V.metadataURI}`);const ge=[{name:"Pinata",url:"https://gateway.pinata.cloud/ipfs/"},{name:"IPFS",url:"https://ipfs.io/ipfs/"},{name:"Cloudflare",url:"https://cloudflare-ipfs.com/ipfs/"},{name:"Dweb",url:"https://dweb.link/ipfs/"}];let Te=V.metadataURI;if(V.metadataURI.startsWith("ipfs://")){const ve=V.metadataURI.replace("ipfs://","");Te=`${ge[0].url}${ve}`}else V.metadataURI.startsWith("Qm")&&(Te=`${ge[0].url}${V.metadataURI}`);for(const ve of ge)try{let Q=Te;if(V.metadataURI.startsWith("ipfs://")||V.metadataURI.startsWith("Qm")){const we=V.metadataURI.replace("ipfs://","");Q=`${ve.url}${we}`}console.log(` Trying ${ve.name} gateway: ${Q}`);const xe=await fetch(Q,{timeout:1e4,headers:{Accept:"application/json","Cache-Control":"no-cache"}});if(xe.ok){X=await xe.json(),console.log(` Metadata fetched successfully from ${ve.name}:`,X);break}}catch(Q){console.warn(` ${ve.name} gateway failed:`,Q);continue}if(X){if(X.name&&X.name.trim()&&!X.name.trim().startsWith("Asset Token #"))H=X.name.trim();else if(X.title&&X.title.trim())H=X.title.trim();else if(X.assetName&&X.assetName.trim())H=X.assetName.trim();else if(($=X.assetDetails)!=null&&$.name)H=X.assetDetails.name.trim();else if((M=X.assetDetails)!=null&&M.title)H=X.assetDetails.title.trim();else if((L=X.assetDetails)!=null&&L.location)K=((U=X.assetDetails)==null?void 0:U.type)||"Real Estate",H=`${K} in ${X.assetDetails.location}`;else if(X.attributes){const ve=X.attributes.find(xe=>xe.trait_type&&xe.trait_type.toLowerCase().includes("location")),Q=X.attributes.find(xe=>xe.trait_type==="Asset Type");Q!=null&&Q.value&&(K=Q.value),ve!=null&&ve.value?H=`${K} in ${ve.value}`:Q!=null&&Q.value&&(H=`${Q.value} Token #${I}`)}if((z=X.assetDetails)!=null&&z.type)K=X.assetDetails.type;else if(X.attributes){const ve=X.attributes.find(Q=>Q.trait_type==="Asset Type");ve!=null&&ve.value&&(K=ve.value)}else X.type&&(K=X.type);console.log(` Extracted asset details - Name: "${H}", Type: "${K}"`)}}catch(ge){console.warn(` Could not fetch metadata for token ${I}:`,ge),H=`${K} Asset #${I}`}else console.log(` No metadata URI for token ${I}, using fallback name`),H=`${K} Asset #${I}`;let ee=0,ne=[];const Be=C.utils.formatEther(V.price.mul(V.supply));try{const Te=await new C.Contract(g,j.MARKETPLACE,t).getTokenHolders(I),[ve,Q]=Te;ee=ve.length,ne=ve.map((xe,we)=>({address:xe,amount:C.utils.formatEther(Q[we])})),console.log(` Found ${ee} real holders for token ${I}`)}catch(ge){console.warn(` Could not fetch holders for token ${I}, using fallback:`,ge),ee=1,ne=[{address:V.issuer,amount:Be}]}const te={invoiceNumber:`INV-${I}-2024`,dueDate:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],originalAmount:C.utils.formatEther(V.price.mul(V.supply)),currentValue:C.utils.formatEther(V.price.mul(V.supply))};q.push({tokenId:I,name:H,assetType:K,issuer:V.issuer,supply:V.supply.toString(),price:C.utils.formatEther(V.price),lifecycle:G,holderCount:ee,totalValueLocked:Be,metadataURI:V.metadataURI,metadata:X,holders:ne,invoiceDetails:te}),console.log(` Loaded settlement token ${I}: ${H}`)}catch(V){console.warn(`Could not load settlement data for token ${I}:`,V)}o(q),console.log(` Settlement Processor: Loaded ${q.length} tokens for settlement processing`),console.log(" Settlement Processor: Token details:",q.map(I=>({tokenId:I.tokenId,name:I.name,assetType:I.assetType,lifecycle:I.lifecycle,holderCount:I.holderCount})))}catch(B){console.error("Failed to load assigned tokens:",B),oe.error("Failed to load assigned tokens")}finally{c(!1)}},v=()=>{if(!d||!h.invoiceAmount||!h.yieldRate)return;const R=parseFloat(h.invoiceAmount),$=parseFloat(h.yieldRate)/100,M=R/(1+$),L=R-M;let U=[];if(d.holders&&d.holders.length>0){const z=d.holders.reduce((B,D)=>B+parseFloat(D.amount),0);U=d.holders.map(B=>{const D=parseFloat(B.amount)/z,g=R*D;return{address:B.address,amount:g.toFixed(6)}})}else U=[{address:d.issuer,amount:R.toString()}];x({principal:M.toFixed(2),yield:L.toFixed(2),total:R.toFixed(2),holderDistribution:U})};y.useEffect(()=>{d&&h.invoiceAmount&&h.yieldRate&&v()},[d,h.invoiceAmount,h.yieldRate]);const N=async()=>{if(!s||!d||!m){oe.error("Please complete settlement calculation first");return}try{w(!0),console.log(" Starting settlement process with yield distribution...");const{ethers:R}=await wt(async()=>{const{ethers:L}=await import("./index-BlYJb8tU.js");return{ethers:L}},[]),$=R.utils.parseEther(m.total);if(console.log(" Step 1: Recording invoice settlement..."),console.log(" Settlement amount:",m.total,"FLOW"),console.log(" Settlement amount (Wei):",$.toString()),(await s.processInvoiceSettlement(d.tokenId,$)).success){console.log(" Settlement recorded successfully"),console.log(" Step 2: Distributing yield to token holders...");try{const{PAYMENT_SPLITTER_CONTRACT:L}=await wt(async()=>{const{PAYMENT_SPLITTER_CONTRACT:g}=await Promise.resolve().then(()=>_i);return{PAYMENT_SPLITTER_CONTRACT:g}},void 0),{CONTRACT_ABIS:U}=await wt(async()=>{const{CONTRACT_ABIS:g}=await Promise.resolve().then(()=>ti);return{CONTRACT_ABIS:g}},void 0),B=await new R.Contract(L,U.PAYMENTSPLITTER,t).submitRental(d.tokenId,{value:$,gasLimit:5e5});console.log(" Yield distribution transaction sent:",B.hash),oe.info("Distributing yield to token holders...");const D=await B.wait();console.log(" Yield distribution confirmed:",D.transactionHash),oe.success(` Settlement completed for ${d.name} and yield distributed to all token holders!`)}catch(L){console.error("Yield distribution failed:",L),oe.error("Settlement recorded but yield distribution failed. Please try distributing manually.")}console.log(" Step 3: Burning tokens and updating lifecycle...");try{const{TOKEN_CONTRACT:L}=await wt(async()=>{const{TOKEN_CONTRACT:g}=await Promise.resolve().then(()=>_i);return{TOKEN_CONTRACT:g}},void 0),{CONTRACT_ABIS:U}=await wt(async()=>{const{CONTRACT_ABIS:g}=await Promise.resolve().then(()=>ti);return{CONTRACT_ABIS:g}},void 0),z=new R.Contract(L,U.ERC1155CORE,t);console.log(" Marking invoice as settled..."),await(await z.markInvoiceSettled(d.tokenId,$,{gasLimit:3e5})).wait(),console.log(" Invoice marked as settled"),console.log(" Burning all tokens..."),await(await z.burnAllTokens(d.tokenId,{gasLimit:3e5})).wait(),console.log(" All tokens burned successfully"),oe.success(` ${d.name} tokens burned successfully! Asset lifecycle completed.`)}catch(L){console.error("Token burning failed:",L),oe.error("Settlement completed but token burning failed. Please burn manually.")}await b(s),u(null),f({invoiceAmount:"",yieldRate:"5.0",notes:""}),x(null)}else throw new Error("Settlement recording failed")}catch(R){console.error("Settlement failed:",R),oe.error(R.message||"Settlement processing failed")}finally{w(!1)}},E=R=>{switch(R){case 0:return a.jsxs(Ie,{variant:"default",className:"bg-green-500",children:[a.jsx(xa,{className:"w-3 h-3 mr-1"}),"Active"]});case 1:return a.jsxs(Ie,{variant:"secondary",className:"bg-yellow-500",children:[a.jsx(an,{className:"w-3 h-3 mr-1"}),"Settled"]});case 2:return a.jsxs(Ie,{variant:"destructive",children:[a.jsx(wc,{className:"w-3 h-3 mr-1"}),"Burned"]});default:return a.jsx(Ie,{variant:"outline",children:"Unknown"})}},T=R=>`${parseFloat(R).toLocaleString()} FLOW`;return a.jsxs("div",{className:"space-y-6",children:[a.jsx(fe,{children:a.jsxs(ot,{children:[a.jsxs(lt,{className:"flex items-center gap-2",children:[a.jsx(On,{className:"w-5 h-5"}),"Invoice Settlement Processor"]}),a.jsx(Qn,{children:"Process invoice settlements and distribute payments to token holders"})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(fe,{children:[a.jsxs(ot,{children:[a.jsx(lt,{children:"Assigned Tokens"}),a.jsx(Qn,{children:"Tokens assigned to you for settlement management"})]}),a.jsx(pe,{children:l?a.jsx("div",{className:"flex justify-center p-4",children:a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"})}):i.length===0?a.jsx("p",{className:"text-gray-500 text-center py-4",children:"No tokens assigned"}):a.jsx("div",{className:"space-y-3",children:i.map(R=>a.jsx(fe,{className:`cursor-pointer transition-colors ${(d==null?void 0:d.tokenId)===R.tokenId?"border-blue-500 bg-blue-50":"hover:bg-gray-50"}`,onClick:()=>u(R),children:a.jsx(pe,{className:"p-4",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium",children:R.name}),E(R.lifecycle)]}),a.jsxs("div",{className:"text-xs text-gray-600",children:[R.assetType,"  Token #",R.tokenId]}),R.invoiceDetails&&a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Invoice:"})," ",R.invoiceDetails.invoiceNumber]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Due:"})," ",R.invoiceDetails.dueDate]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Value:"})," ",T(R.invoiceDetails.currentValue)]})]}),a.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Qd,{className:"w-3 h-3"}),R.holderCount," holders"]}),a.jsxs("span",{children:[T(R.totalValueLocked)," locked"]})]})]}),R.lifecycle===0&&a.jsx(Z,{size:"sm",variant:(d==null?void 0:d.tokenId)===R.tokenId?"default":"outline",children:(d==null?void 0:d.tokenId)===R.tokenId?"Selected":"Select"})]})})},R.tokenId))})})]}),a.jsxs(fe,{children:[a.jsxs(ot,{children:[a.jsx(lt,{children:"Settlement Processing"}),a.jsx(Qn,{children:d?`Processing settlement for ${d.name} (Token #${d.tokenId})`:"Select a token to begin settlement"})]}),a.jsx(pe,{children:d?d.lifecycle!==0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(an,{className:"w-12 h-12 mx-auto mb-4"}),a.jsx("p",{children:"This token has already been processed"})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"invoiceAmount",children:"Invoice Settlement Amount (FLOW)"}),a.jsx(Et,{id:"invoiceAmount",type:"number",step:"0.01",placeholder:"Enter received invoice amount",value:h.invoiceAmount,onChange:R=>f($=>({...$,invoiceAmount:R.target.value}))})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"yieldRate",children:"Yield Rate (%)"}),a.jsx(Et,{id:"yieldRate",type:"number",step:"0.1",placeholder:"5.0",value:h.yieldRate,onChange:R=>f($=>({...$,yieldRate:R.target.value}))})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"notes",children:"Settlement Notes (Optional)"}),a.jsx(Et,{id:"notes",placeholder:"Add any settlement notes",value:h.notes,onChange:R=>f($=>({...$,notes:R.target.value}))})]})]}),m&&a.jsxs(fe,{className:"bg-blue-50 border-blue-200",children:[a.jsx(ot,{className:"pb-3",children:a.jsxs(lt,{className:"text-lg flex items-center gap-2",children:[a.jsx(U7,{className:"w-4 h-4"}),"Settlement Breakdown"]})}),a.jsxs(pe,{className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Principal"}),a.jsx("p",{className:"font-medium",children:T(m.principal)})]}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-gray-600",children:["Yield (",h.yieldRate,"%)"]}),a.jsx("p",{className:"font-medium",children:T(m.yield)})]})]}),a.jsx("div",{className:"border-t pt-2",children:a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"font-semibold",children:"Total Distribution:"}),a.jsx("span",{className:"font-semibold",children:T(m.total)})]})}),a.jsxs("div",{className:"mt-4",children:[a.jsx("p",{className:"text-sm font-medium mb-2",children:"Holder Distribution:"}),a.jsx("div",{className:"space-y-1 text-xs",children:m.holderDistribution.map((R,$)=>a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"font-mono",children:R.address}),a.jsx("span",{children:T(R.amount)})]},$))})]})]})]}),a.jsx(Z,{onClick:N,disabled:!m||p,className:"w-full",size:"lg",children:p?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing Settlement..."]}):a.jsxs(a.Fragment,{children:[a.jsx(On,{className:"w-4 h-4 mr-2"}),"Process Settlement & Burn Tokens"]})}),m&&a.jsxs("div",{className:"text-xs text-gray-500 text-center",children:[" This will distribute ",T(m.total)," to all token holders and permanently burn all tokens for this invoice."]})]}):a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(Nf,{className:"w-12 h-12 mx-auto mb-4"}),a.jsx("p",{children:"Please select a token from the list to begin settlement processing"})]})})]})]})]})},m0e=()=>{const{signer:t,isConnected:e,address:n}=xn(),[s,r]=y.useState(null),[i,o]=y.useState([]),[l,c]=y.useState([]),[d,u]=y.useState({totalSettlements:0,totalValueProcessed:"0",averageYieldRate:0,averageProcessingTime:0,successRate:0}),[h,f]=y.useState(!1),[m,x]=y.useState(""),[p,w]=y.useState(null),[b,v]=y.useState(!1);y.useEffect(()=>{if(e&&t&&n){const M=new Im(window.ethereum);M.connect().then(()=>{r(M),N()}).catch(console.error)}},[e,t,n]);const N=async M=>{try{if(f(!0),console.log(" Loading real settlement history from blockchain..."),!t||!n){console.log("No signer or address available");return}const{ADMIN_CONTRACT:L,TOKEN_CONTRACT:U,MARKETPLACE_CONTRACT:z,PAYMENT_SPLITTER_CONTRACT:B}=await wt(async()=>{const{ADMIN_CONTRACT:H,TOKEN_CONTRACT:K,MARKETPLACE_CONTRACT:X,PAYMENT_SPLITTER_CONTRACT:ee}=await Promise.resolve().then(()=>_i);return{ADMIN_CONTRACT:H,TOKEN_CONTRACT:K,MARKETPLACE_CONTRACT:X,PAYMENT_SPLITTER_CONTRACT:ee}},void 0),{CONTRACT_ABIS:D}=await wt(async()=>{const{CONTRACT_ABIS:H}=await Promise.resolve().then(()=>ti);return{CONTRACT_ABIS:H}},void 0),{ethers:g}=await wt(async()=>{const{ethers:H}=await import("./index-BlYJb8tU.js");return{ethers:H}},[]),j=new g.Contract(L,D.ADMIN,t),C=new g.Contract(U,D.ERC1155CORE,t),P=new g.Contract(B,D.PAYMENTSPLITTER,t),S=new g.Contract(z,D.MARKETPLACE,t);if(!(await j.getAllManagers()).some(H=>H.toLowerCase()===n.toLowerCase())){console.log(" User is not an authorized manager"),o([]),c([]);return}const k=(await j.getManagerTokens(n)).map(H=>H.toString());if(console.log(" Manager assigned tokens:",k),k.length===0){console.log(" No tokens assigned to this manager"),o([]),c([]);return}const O=[];for(const H of k)try{console.log(` Fetching settlement events for token ${H}...`);const K=await C.getTokenInfo(H),X=await C.getTokenLifecycleStatus(H),ee=P.filters.RentalDistributed(H),ne=await P.queryFilter(ee,0,"latest");console.log(` Found ${ne.length} rental events for token ${H}`);for(let Be=0;Be<ne.length;Be++){const te=ne[Be],{totalAmount:ge,toHolders:Te,toPlatform:ve}=te.args,Q=await t.provider.getBlock(te.blockNumber),xe=new Date(Q.timestamp*1e3).toISOString().split("T")[0];let we=[],Ke=0;try{const W=await S.getTokenHolders(H),[me,se]=W;Ke=me.length;const ce=g.utils.formatEther(Te);we=me.map((Ce,Re)=>{const _e=parseFloat(g.utils.formatEther(se[Re])),Bt=parseFloat(K.supply.toString()),Ge=_e/Bt*100,Ne=Ge/100*parseFloat(ce);return{address:`${Ce.slice(0,6)}...${Ce.slice(-4)}`,amount:Ne.toFixed(6),percentage:Math.round(Ge*100)/100}})}catch(W){console.warn(` Could not fetch holders for token ${H}:`,W),Ke=1,we=[{address:`${K.issuer.slice(0,6)}...${K.issuer.slice(-4)}`,amount:g.utils.formatEther(Te),percentage:100}]}const ut=parseFloat(g.utils.formatEther(K.price.mul(K.supply))),He=parseFloat(g.utils.formatEther(Te)),gt=ut>0?He/ut*100:0;let St=`Asset #${H}`;if(K.metadataURI&&K.metadataURI.length>0)try{let W=K.metadataURI;K.metadataURI.startsWith("ipfs://")?W=`https://gateway.pinata.cloud/ipfs/${K.metadataURI.replace("ipfs://","")}`:K.metadataURI.startsWith("Qm")&&(W=`https://gateway.pinata.cloud/ipfs/${K.metadataURI}`);const me=await fetch(W);if(me.ok){const se=await me.json();St=(se==null?void 0:se.name)||(se==null?void 0:se.title)||St}}catch(W){console.warn(` Could not fetch metadata for token ${H}:`,W)}const ye={id:`${H}-${Be}`,tokenId:H,invoiceNumber:`${St.replace(/\s+/g,"-").toUpperCase()}-${H}`,settlementDate:xe,totalAmount:g.utils.formatEther(ge),principalAmount:g.utils.formatEther(ge.sub(Te.sub(ve))),yieldAmount:g.utils.formatEther(Te),yieldRate:Math.round(gt*100)/100,holderCount:Ke,status:"completed",transactionHash:te.transactionHash,notes:`Yield distribution for ${St}`,holderDistribution:we};O.push(ye)}if(ne.length===0&&X===0){let Be=`Asset #${H}`;if(K.metadataURI&&K.metadataURI.length>0)try{let ge=K.metadataURI;K.metadataURI.startsWith("ipfs://")?ge=`https://gateway.pinata.cloud/ipfs/${K.metadataURI.replace("ipfs://","")}`:K.metadataURI.startsWith("Qm")&&(ge=`https://gateway.pinata.cloud/ipfs/${K.metadataURI}`);const Te=await fetch(ge);if(Te.ok){const ve=await Te.json();Be=(ve==null?void 0:ve.name)||(ve==null?void 0:ve.title)||Be}}catch(ge){console.warn(` Could not fetch metadata for token ${H}:`,ge)}const te={id:`${H}-pending`,tokenId:H,invoiceNumber:`${Be.replace(/\s+/g,"-").toUpperCase()}-${H}`,settlementDate:new Date().toISOString().split("T")[0],totalAmount:"0",principalAmount:g.utils.formatEther(K.price.mul(K.supply)),yieldAmount:"0",yieldRate:0,holderCount:0,status:"pending",transactionHash:"",notes:`Awaiting first yield distribution for ${Be}`,holderDistribution:[]};O.push(te)}}catch(K){console.error(` Error processing token ${H}:`,K)}O.sort((H,K)=>new Date(K.settlementDate).getTime()-new Date(H.settlementDate).getTime()),console.log(` Loaded ${O.length} settlement records`),o(O),c(O);const q=O.filter(H=>H.status==="completed"),I=q.reduce((H,K)=>H+parseFloat(K.totalAmount),0),V=q.length>0?q.reduce((H,K)=>H+K.yieldRate,0)/q.length:0,G=O.length>0?q.length/O.length*100:0;u({totalSettlements:O.length,totalValueProcessed:I.toString(),averageYieldRate:Math.round(V*100)/100,averageProcessingTime:1,successRate:Math.round(G*100)/100})}catch(L){console.error("Failed to load settlement history:",L),oe.error("Failed to load settlement history from blockchain")}finally{f(!1)}};y.useEffect(()=>{if(!m)c(i);else{const M=i.filter(L=>L.invoiceNumber.toLowerCase().includes(m.toLowerCase())||L.tokenId.includes(m)||L.transactionHash.toLowerCase().includes(m.toLowerCase()));c(M)}},[m,i]);const E=M=>{switch(M){case"completed":return a.jsxs(Ie,{variant:"default",className:"bg-green-500",children:[a.jsx(an,{className:"w-3 h-3 mr-1"}),"Completed"]});case"pending":return a.jsx(Ie,{variant:"secondary",className:"bg-yellow-500",children:"Pending"});case"failed":return a.jsx(Ie,{variant:"destructive",children:"Failed"});default:return a.jsx(Ie,{variant:"outline",children:M})}},T=M=>`${parseFloat(M).toLocaleString()} FLOW`,R=M=>new Date(M).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),$=()=>{const M=l.map(D=>({"Token ID":D.tokenId,"Invoice Number":D.invoiceNumber,"Settlement Date":D.settlementDate,"Total Amount (FLOW)":D.totalAmount,"Principal (FLOW)":D.principalAmount,"Yield (FLOW)":D.yieldAmount,"Yield Rate (%)":D.yieldRate,"Holder Count":D.holderCount,Status:D.status,"Transaction Hash":D.transactionHash})),L=[Object.keys(M[0]).join(","),...M.map(D=>Object.values(D).join(","))].join(`
`),U=new Blob([L],{type:"text/csv"}),z=window.URL.createObjectURL(U),B=document.createElement("a");B.href=z,B.download=`settlement-history-${new Date().toISOString().split("T")[0]}.csv`,B.click(),window.URL.revokeObjectURL(z),oe.success("Settlement history exported successfully")};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-5 gap-4",children:[a.jsx(fe,{children:a.jsx(pe,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(iA,{className:"h-4 w-4 text-blue-600"}),a.jsxs("div",{className:"ml-2",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Settlements"}),a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:d.totalSettlements})]})]})})}),a.jsx(fe,{children:a.jsx(pe,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(On,{className:"h-4 w-4 text-green-600"}),a.jsxs("div",{className:"ml-2",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Processed"}),a.jsx("p",{className:"text-lg font-bold text-green-600",children:T(d.totalValueProcessed)})]})]})})}),a.jsx(fe,{children:a.jsx(pe,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Qd,{className:"h-4 w-4 text-purple-600"}),a.jsxs("div",{className:"ml-2",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Yield Rate"}),a.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[d.averageYieldRate.toFixed(1),"%"]})]})]})})}),a.jsx(fe,{children:a.jsx(pe,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(yc,{className:"h-4 w-4 text-orange-600"}),a.jsxs("div",{className:"ml-2",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Processing"}),a.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[d.averageProcessingTime,"d"]})]})]})})}),a.jsx(fe,{children:a.jsx(pe,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(an,{className:"h-4 w-4 text-green-600"}),a.jsxs("div",{className:"ml-2",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Success Rate"}),a.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[d.successRate.toFixed(0),"%"]})]})]})})})]}),a.jsxs(fe,{children:[a.jsx(ot,{children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsxs(lt,{className:"flex items-center gap-2",children:[a.jsx(iA,{className:"w-5 h-5"}),"Settlement History"]}),a.jsx(Qn,{children:"Complete history of processed invoice settlements"})]}),a.jsx("div",{className:"flex gap-2",children:a.jsxs(Z,{variant:"outline",onClick:$,children:[a.jsx(bc,{className:"w-4 h-4 mr-2"}),"Export CSV"]})})]})}),a.jsxs(pe,{children:[a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"relative",children:[a.jsx(ux,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx(Et,{placeholder:"Search by invoice number, token ID, or transaction hash...",value:m,onChange:M=>x(M.target.value),className:"pl-10"})]})}),h?a.jsx("div",{className:"flex justify-center p-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):l.length===0?a.jsx("p",{className:"text-gray-500 text-center py-8",children:"No settlements found"}):a.jsx("div",{className:"space-y-4",children:l.map(M=>a.jsx(fe,{className:"border-l-4 border-l-green-500",children:a.jsx(pe,{className:"p-6",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"font-bold text-lg",children:M.invoiceNumber}),E(M.status),a.jsxs(Ie,{variant:"outline",children:["Token #",M.tokenId]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Settlement Date"}),a.jsxs("p",{className:"font-medium flex items-center gap-1",children:[a.jsx(yc,{className:"w-3 h-3"}),R(M.settlementDate)]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Total Amount"}),a.jsx("p",{className:"font-medium",children:T(M.totalAmount)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Yield Rate"}),a.jsxs("p",{className:"font-medium",children:[M.yieldRate,"%"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Holders"}),a.jsxs("p",{className:"font-medium flex items-center gap-1",children:[a.jsx(Qd,{className:"w-3 h-3"}),M.holderCount]})]})]}),a.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Principal"}),a.jsx("p",{className:"font-medium",children:T(M.principalAmount)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Yield"}),a.jsx("p",{className:"font-medium",children:T(M.yieldAmount)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Transaction"}),a.jsxs("p",{className:"font-mono text-xs",children:[M.transactionHash.slice(0,10),"..."]})]})]})}),M.notes&&a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsx("strong",{children:"Notes:"})," ",M.notes]})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx(Z,{size:"sm",variant:"outline",onClick:()=>{w(M),v(!0)},children:"View Details"}),a.jsx(Z,{size:"sm",variant:"outline",onClick:()=>{window.open(`https://www.flowscan.io/tx/${M.transactionHash}`,"_blank")},children:"View Tx"})]})]})})},M.id))})]})]}),p&&b&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs(fe,{className:"w-full max-w-4xl max-h-[80vh] overflow-auto",children:[a.jsxs(ot,{children:[a.jsxs(lt,{children:["Settlement Details - ",p.invoiceNumber]}),a.jsx(Qn,{children:"Complete settlement breakdown and holder distribution"})]}),a.jsxs(pe,{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-3",children:"Settlement Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Token ID:"}),a.jsxs("span",{className:"font-medium",children:["#",p.tokenId]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Invoice Number:"}),a.jsx("span",{className:"font-medium",children:p.invoiceNumber})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Settlement Date:"}),a.jsx("span",{className:"font-medium",children:R(p.settlementDate)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Status:"}),E(p.status)]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-3",children:"Financial Breakdown"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Principal Amount:"}),a.jsx("span",{className:"font-medium",children:T(p.principalAmount)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Yield Amount:"}),a.jsx("span",{className:"font-medium",children:T(p.yieldAmount)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Yield Rate:"}),a.jsxs("span",{className:"font-medium",children:[p.yieldRate,"%"]})]}),a.jsxs("div",{className:"flex justify-between border-t pt-2",children:[a.jsx("span",{className:"font-medium",children:"Total Distributed:"}),a.jsx("span",{className:"font-bold",children:T(p.totalAmount)})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-3",children:"Holder Distribution"}),a.jsx("div",{className:"space-y-2",children:p.holderDistribution.map((M,L)=>a.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-mono text-sm",children:M.address}),a.jsxs("p",{className:"text-xs text-gray-600",children:[M.percentage,"% of total supply"]})]}),a.jsx("div",{className:"text-right",children:a.jsx("p",{className:"font-medium",children:T(M.amount)})})]},L))})]}),a.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[a.jsx(Z,{variant:"outline",onClick:()=>{window.open(`https://www.flowscan.io/tx/${p.transactionHash}`,"_blank")},children:"View on Explorer"}),a.jsx(Z,{variant:"outline",onClick:()=>v(!1),children:"Close"})]})]})]})})]})},p0e=()=>{const[t,e]=y.useState(!1),{provider:n,signer:s,address:r,isConnected:i}=xn(),[o,l]=y.useState(null),[c,d]=y.useState(!1),[u,h]=y.useState(null),[f,m]=y.useState(null),[x,p]=y.useState(null),[w,b]=y.useState(null),[v,N]=y.useState([]),[E,T]=y.useState([]),[R,$]=y.useState(!1),[M,L]=y.useState(null),[U,z]=y.useState("overview"),[B,D]=y.useState(!1),[g,j]=y.useState(!1),[C,P]=y.useState(!1),[S,A]=y.useState({tokenId:"",assetName:"",amount:0,month:"",type:"rental",notes:"",receipts:[]}),[F,_]=y.useState([]),[k,O]=y.useState(0),[q,I]=y.useState(0),[V,G]=y.useState(!1);y.useEffect(()=>{(async()=>{if(!i||!r||!s){console.log("Wallet not connected, resetting manager state"),l(null),T([]),N([]);return}d(!0),console.log(" Starting contract initialization and manager authorization check for:",r);try{await H()}catch(xe){console.error(" Error during initialization:",xe),be.error("Failed to initialize contracts")}finally{d(!1)}})()},[i,r,s]);const H=async()=>{try{if(!i||!s){console.log(" Wallet not connected or signer not available");return}console.log(" Initializing admin contract..."),console.log("Contract address:",Jt);const Q=new qe(Jt,Hn.ADMIN,s);try{if(await s.provider.getCode(Jt)==="0x")throw new Error("Contract not deployed at this address")}catch(ut){throw console.error(" Contract verification failed:",ut),ut}h(Q),console.log(" Admin contract initialized successfully");let xe=null;try{xe=new qe(Ts,Hn.ERC1155CORE,s),m(xe),console.log(" Token contract initialized successfully")}catch(ut){console.warn(" Token contract initialization failed:",ut)}let we=null;try{we=new qe(hn,Hn.MARKETPLACE,s),p(we),console.log(" Marketplace contract initialized successfully")}catch(ut){console.warn(" Marketplace contract initialization failed:",ut)}let Ke=null;try{Ke=new qe(c$,Hn.PAYMENTSPLITTER,s),b(Ke),console.log(" Payment splitter contract initialized successfully")}catch(ut){console.warn(" Payment splitter contract initialization failed:",ut)}await K(Q,xe,we,Ke)}catch(Q){console.error(" Error initializing admin contract:",Q),be.error("Failed to initialize admin contract")}},K=async(Q,xe,we,Ke)=>{const ut=Q||u;if(!ut||!r){console.log(" Admin contract not initialized or address not available");return}try{console.log(" Checking manager authorization for:",r);let He;try{He=await ut.getAllManagers(),console.log(" All managers from contract:",He)}catch(ye){console.error(" Error calling getAllManagers:",ye),be.error("Failed to fetch managers from contract"),l(!1);return}const gt=He||[],St=gt.some(ye=>ye.toLowerCase()===r.toLowerCase());l(St),St?(console.log(" User is authorized manager"),be.success("Manager authorization confirmed!"),await X(ut,xe,we,Ke)):(console.log(" User is not an authorized manager"),be.error("You are not authorized as a manager"),T([]),N([])),console.log(` Manager check completed. Authorized: ${St}`),console.log(` Total Managers: ${gt.length}`)}catch(He){console.error(" Error checking manager authorization:",He),l(!1),be.error("Failed to check manager authorization")}},X=async(Q,xe,we,Ke)=>{const ut=Q||u,He=xe||f,gt=we||x;if(!ut||!r){console.log(" Contract not initialized or address not available");return}try{$(!0),console.log(" Fetching assigned assets for manager:",r);const St=await ut.getManagerTokens(r);console.log(" Assigned token IDs:",St.map(se=>se.toString()));const ye=St.map(se=>se.toString());if(N(ye),ye.length===0){console.log(" No assets assigned to this manager"),T([]);return}const W=[];for(const se of ye)try{if(console.log(` Processing metadata for token ${se}...`),He)try{if(await He.getTokenLifecycleStatus(se)===2){console.log(` Skipping burned token ${se} in manager dashboard`);continue}}catch{console.warn(` Could not check lifecycle for token ${se}, including in manager dashboard`)}let ce={},Ce=en.from(0),Re="",_e=`Asset #${se}`;if(He)try{const Ve=await He.getTokenInfo(se);Ce=Ve.price,Re=Ve.issuer;const Y=Ve.metadataURI;if(console.log(` Token ${se} info:`,{price:De(Ce),issuer:Re,metadataURI:Y}),Y&&Y.length>0)try{let J=Y;Y.startsWith("ipfs://")?J=`https://gateway.pinata.cloud/ipfs/${Y.replace("ipfs://","")}`:Y.startsWith("Qm")&&(J=`https://gateway.pinata.cloud/ipfs/${Y}`),console.log(` Fetching metadata from: ${J}`);const de=await fetch(J);de.ok?(ce=await de.json(),_e=(ce==null?void 0:ce.name)||(ce==null?void 0:ce.title)||_e,console.log(` Fetched metadata for token ${se}:`,ce)):console.warn(` Metadata fetch failed with status: ${de.status}`)}catch(J){console.warn(` Could not fetch metadata for token ${se}:`,J)}if(!(ce!=null&&ce.name))try{const J=await He.tokenMetadata(se);J&&J!==Y&&console.log(` Trying direct tokenMetadata call: ${J}`)}catch(J){console.warn(" Direct tokenMetadata call failed:",J)}}catch(Ve){console.warn(` Could not fetch token info for ${se}:`,Ve);try{Ce=await He.tokenPrice(se),Re=await He.tokenIssuer(se)}catch(Y){console.warn(" Fallback token calls failed:",Y)}}let Bt=1e3,Ge=0;if(gt)try{const Ve=await gt.totalTokensListed(se);Bt=parseInt(Ve.toString()),Ge=Bt,console.log(` Token ${se} marketplace data: ${Ge}/${Bt} listed`)}catch(Ve){console.warn(` Could not fetch marketplace data for token ${se}:`,Ve)}const Ne={tokenId:se,name:_e,type:ee(ce),location:ne(ce),totalTokens:Bt,soldTokens:Ge,currentValue:parseFloat(De(Ce)),monthlyIncome:(ce==null?void 0:ce.expectedMonthlyIncome)||0,occupancyRate:(ce==null?void 0:ce.occupancyRate)||85,lastInspection:(ce==null?void 0:ce.lastInspection)||"2024-03-01",nextPayment:(ce==null?void 0:ce.nextPayment)||"2024-04-01",status:(ce==null?void 0:ce.status)||"active",metadataURI:ce?`ipfs://token${se}`:"",images:ce!=null&&ce.images||ce!=null&&ce.image?[ce.image]:[]};W.push(Ne),console.log(` Processed asset ${se}:`,Ne.name)}catch(ce){console.error(` Error processing asset ${se}:`,ce),W.push({tokenId:se,name:`Asset #${se}`,type:"real-estate",location:"Unknown",totalTokens:1e3,soldTokens:750,currentValue:0,monthlyIncome:0,occupancyRate:0,lastInspection:"2024-03-01",nextPayment:"2024-04-01",status:"active",metadataURI:"",images:[]})}T(W),console.log(` Loaded ${W.length} assigned assets`),O(W.length);const me=W.reduce((se,ce)=>se+ce.monthlyIncome,0);I(me)}catch(St){console.error(" Error fetching assigned assets:",St),be.error(`Failed to load assigned assets: ${St.message||"Unknown error"}`)}finally{$(!1)}},ee=Q=>{if(!(Q!=null&&Q.attributes))return"real-estate";const xe=Q.attributes.find(we=>we.trait_type==="Asset Type"||we.trait_type==="asset_type");if(xe!=null&&xe.value){const we=xe.value.toLowerCase();if(we.includes("real")||we.includes("estate"))return"real-estate";if(we.includes("commodity")||we.includes("gold"))return"commodity";if(we.includes("bond"))return"bonds";if(we.includes("stock")||we.includes("equity"))return"equity"}return"real-estate"},ne=Q=>{if(!(Q!=null&&Q.assetDetails))return"Unknown Location";const xe=Q.assetDetails;return xe.location?xe.location:xe.city&&xe.state?`${xe.city}, ${xe.state}`:xe.address?xe.address:"Unknown Location"},Be=async()=>{try{if(!i){be.error("Please connect your wallet first");return}be.success("Wallet connected successfully!")}catch(Q){console.error("Wallet connection failed:",Q),be.error(`Failed to connect wallet: ${Q.message||"Unknown error"}`)}},te=async Q=>{console.log("fetchManagerAssets called - refreshing assigned assets"),o&&u&&await X(u,f,x)},ge=async()=>{if(!S.tokenId||!S.amount||!S.month){be.error("Please fill all required fields");return}if(!w||!s){be.error("Payment splitter contract not initialized or wallet not connected");return}const Q=E.find(xe=>xe.tokenId===S.tokenId);if(!Q){be.error("Selected asset not found in your assigned assets");return}if(S.amount<=0){be.error("Amount must be greater than 0");return}G(!0);try{console.log(" Submitting rental income to payment splitter..."),console.log("Asset:",Q.name),console.log("Token ID:",S.tokenId),console.log("Amount (S):",S.amount),console.log("Income Type:",S.type),console.log("Period:",S.month);const xe=pr(S.amount.toString());console.log("Amount in Wei:",xe.toString());const we=await w.submitRental(S.tokenId,{value:xe,gasLimit:5e5});console.log(" Transaction sent:",we.hash),be.info("Transaction submitted. Waiting for confirmation...");const Ke=await we.wait();console.log(" Transaction confirmed:",Ke.transactionHash);const ut={id:`inc_${Date.now()}`,tokenId:S.tokenId,assetName:S.assetName,amount:S.amount,perToken:0,submittedDate:new Date().toISOString().split("T")[0],distributedDate:new Date().toISOString().split("T")[0],type:S.type,status:"distributed"};_(He=>[ut,...He]),D(!1),A({tokenId:"",assetName:"",amount:0,month:"",type:"rental",notes:"",receipts:[]}),be.success(`${S.type.charAt(0).toUpperCase()+S.type.slice(1)} income of ${S.amount} ETH distributed successfully for ${Q.name}!`)}catch(xe){console.error(" Error submitting rental income:",xe);let we="Failed to submit rental income";xe.code===4001?we="Transaction cancelled by user":xe.reason?we=`Transaction failed: ${xe.reason}`:xe.message&&(we=xe.message),be.error(we)}finally{G(!1)}},Te=Q=>{switch(Q){case"active":return"bg-green-500";case"maintenance":return"bg-yellow-500";case"vacancy":return"bg-red-500";case"development":return"bg-blue-500";default:return"bg-gray-500"}},ve=Q=>{switch(Q){case"real-estate":return Ul;case"commodity":return sc;case"bonds":return na;case"equity":return In;default:return Ul}};return a.jsxs("div",{className:`min-h-screen ${t?"bg-gray-950":"bg-gray-50"}`,children:[a.jsx("header",{className:`${t?"bg-gray-900/50 backdrop-blur-xl border-gray-800":"bg-white/80 backdrop-blur-xl border-gray-200"} border-b sticky top-0 z-50`,children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-emerald-500 to-blue-500 rounded-lg flex items-center justify-center",children:a.jsx($h,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:`text-xl font-bold ${t?"text-white":"text-gray-900"}`,children:"Asset Manager"}),a.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:"Portfolio Management Dashboard"})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[i?a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"flex items-center space-x-2 bg-green-500/10 px-3 py-2 rounded-lg border border-green-500/20",children:[a.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),a.jsx("span",{className:"text-green-400 text-sm font-medium",children:r?`${r.slice(0,6)}...${r.slice(-4)}`:"Unknown"})]}),o?a.jsxs("div",{className:"flex items-center space-x-2 bg-emerald-500/10 px-3 py-2 rounded-lg border border-emerald-500/20",children:[a.jsx(an,{className:"w-4 h-4 text-emerald-400"}),a.jsx("span",{className:"text-emerald-400 text-sm font-medium",children:"Authorized Manager"})]}):a.jsxs("div",{className:"flex items-center space-x-2 bg-red-500/10 px-3 py-2 rounded-lg border border-red-500/20",children:[a.jsx(aa,{className:"w-4 h-4 text-red-400"}),a.jsx("span",{className:"text-red-400 text-sm font-medium",children:"Not Authorized"})]})]}):a.jsxs(Z,{onClick:Be,disabled:R,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[a.jsx(or,{className:"w-4 h-4 mr-2"}),R?"Connecting...":"Connect Wallet"]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("div",{className:"flex items-center space-x-2 bg-emerald-500/10 px-3 py-2 rounded-lg border border-emerald-500/20",children:[a.jsx("div",{className:"w-2 h-2 bg-emerald-400 rounded-full"}),a.jsx("span",{className:"text-emerald-400 text-sm font-medium",children:"Active Manager"})]})}),a.jsx(Z,{variant:"ghost",size:"icon",onClick:()=>e(!t),className:`${t?"text-gray-400 hover:text-white hover:bg-gray-800":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:t?a.jsx(CM,{className:"w-4 h-4"}):a.jsx(TM,{className:"w-4 h-4"})}),a.jsx(Z,{variant:"ghost",size:"icon",className:`${t?"text-gray-400 hover:text-white hover:bg-gray-800":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:a.jsx(_d,{className:"w-4 h-4"})}),a.jsx(Z,{asChild:!0,variant:"ghost",className:`${t?"text-gray-400 hover:text-white hover:bg-gray-800":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:a.jsxs(_w,{to:"/",className:"flex items-center space-x-2",children:[a.jsx(Nc,{className:"w-4 h-4"}),a.jsx("span",{children:"Home"})]})}),a.jsx(Fd,{className:"h-8 w-8",children:a.jsx(Ld,{children:"AM"})})]})]})})}),a.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:i?c?a.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:a.jsx(fe,{className:`max-w-md w-full ${t?"bg-gray-900/50 border-gray-800":"bg-white border-gray-200"}`,children:a.jsxs(pe,{className:"p-8 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-blue-500/10 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Pn,{className:"w-8 h-8 text-blue-500 animate-spin"})}),a.jsx("h2",{className:`text-xl font-bold mb-2 ${t?"text-white":"text-gray-900"}`,children:"Checking Authorization"}),a.jsx("p",{className:`text-sm mb-6 ${t?"text-gray-400":"text-gray-600"}`,children:"Verifying manager permissions..."}),a.jsxs("p",{className:"text-xs mb-6 text-gray-500",children:["Connected: ",r?`${r.slice(0,10)}...${r.slice(-8)}`:"Unknown"]})]})})}):o===!1?a.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:a.jsx(fe,{className:`max-w-md w-full ${t?"bg-gray-900/50 border-gray-800":"bg-white border-gray-200"}`,children:a.jsxs(pe,{className:"p-8 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-red-500/10 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Qo,{className:"w-8 h-8 text-red-500"})}),a.jsx("h2",{className:`text-xl font-bold mb-2 ${t?"text-white":"text-gray-900"}`,children:"Access Restricted"}),a.jsx("p",{className:`text-sm mb-4 ${t?"text-gray-400":"text-gray-600"}`,children:"Your wallet address is not authorized to access the Asset Manager Dashboard."}),a.jsxs("p",{className:"text-xs mb-6 text-gray-500",children:["Connected: ",r?`${r.slice(0,10)}...${r.slice(-8)}`:"Unknown"]}),a.jsxs(Z,{onClick:()=>window.location.href="/",variant:"outline",className:"w-full",children:[a.jsx(Nc,{className:"w-4 h-4 mr-2"}),"Return to Home"]})]})})}):a.jsxs(ba,{value:U,onValueChange:z,className:"space-y-6",children:[a.jsxs(wa,{className:`grid w-full grid-cols-5 ${t?"bg-gray-900 border-gray-800":"bg-gray-100 border-gray-200"}`,children:[a.jsx(tn,{value:"overview",children:"Overview"}),a.jsx(tn,{value:"assets",children:"My Assets"}),a.jsx(tn,{value:"income",children:"Income"}),a.jsx(tn,{value:"settlements",children:"Settlements"}),a.jsx(tn,{value:"reports",children:"Reports"})]}),a.jsxs(sn,{value:"overview",className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx(fe,{className:`${t?"bg-gray-900/50 border-gray-800":"bg-white border-gray-200"}`,children:a.jsxs(pe,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-600"}`,children:"Assets Managed"}),a.jsx("p",{className:`text-2xl font-bold ${t?"text-white":"text-gray-900"}`,children:i&&o?k:"N/A"})]}),a.jsx("div",{className:"p-3 bg-blue-500/10 rounded-lg",children:a.jsx(Ul,{className:"w-6 h-6 text-blue-500"})})]}),a.jsxs("div",{className:"mt-4 flex items-center",children:[a.jsx($o,{className:"w-4 h-4 text-green-500 mr-1"}),a.jsx("span",{className:"text-sm text-green-500",children:i?"Real-time data":"Connect wallet to view"})]})]})}),a.jsx(fe,{className:`${t?"bg-gray-900/50 border-gray-800":"bg-white border-gray-200"}`,children:a.jsxs(pe,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-600"}`,children:"Monthly Income"}),a.jsx("p",{className:`text-2xl font-bold ${t?"text-white":"text-gray-900"}`,children:i&&o?`$${q.toLocaleString()}`:"N/A"})]}),a.jsx("div",{className:"p-3 bg-emerald-500/10 rounded-lg",children:a.jsx(On,{className:"w-6 h-6 text-emerald-500"})})]}),a.jsxs("div",{className:"mt-4 flex items-center",children:[a.jsx($o,{className:"w-4 h-4 text-green-500 mr-1"}),a.jsx("span",{className:"text-sm text-green-500",children:i?"From assigned assets":"Connect wallet to view"})]})]})}),a.jsx(fe,{className:`${t?"bg-gray-900/50 border-gray-800":"bg-white border-gray-200"}`,children:a.jsxs(pe,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-600"}`,children:"Avg Occupancy"}),a.jsx("p",{className:`text-2xl font-bold ${t?"text-white":"text-gray-900"}`,children:i&&o&&E.length>0?`${Math.round(E.reduce((Q,xe)=>Q+xe.occupancyRate,0)/E.length)}%`:"N/A"})]}),a.jsx("div",{className:"p-3 bg-purple-500/10 rounded-lg",children:a.jsx(vc,{className:"w-6 h-6 text-purple-500"})})]}),a.jsxs("div",{className:"mt-4 flex items-center",children:[a.jsx($o,{className:"w-4 h-4 text-green-500 mr-1"}),a.jsx("span",{className:"text-sm text-green-500",children:"+3% from last month"})]})]})}),a.jsx(fe,{className:`${t?"bg-gray-900/50 border-gray-800":"bg-white border-gray-200"}`,children:a.jsxs(pe,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-600"}`,children:"Total Value"}),a.jsx("p",{className:`text-2xl font-bold ${t?"text-white":"text-gray-900"}`,children:i&&o?`$${(E.reduce((Q,xe)=>Q+xe.currentValue,0)/1e6).toFixed(1)}M`:"N/A"})]}),a.jsx("div",{className:"p-3 bg-orange-500/10 rounded-lg",children:a.jsx(In,{className:"w-6 h-6 text-orange-500"})})]}),a.jsxs("div",{className:"mt-4 flex items-center",children:[a.jsx($o,{className:"w-4 h-4 text-green-500 mr-1"}),a.jsx("span",{className:"text-sm text-green-500",children:"+15.2% from last month"})]})]})})]}),a.jsxs(fe,{className:`${t?"bg-gray-900/50 border-gray-800":"bg-white border-gray-200"}`,children:[a.jsx(ot,{children:a.jsx(lt,{className:`${t?"text-white":"text-gray-900"}`,children:"Quick Actions"})}),a.jsx(pe,{children:a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs(Z,{onClick:()=>D(!0),className:"h-24 flex-col space-y-2 bg-emerald-600 hover:bg-emerald-700 text-white",children:[a.jsx(On,{className:"w-6 h-6"}),a.jsx("span",{className:"text-sm font-medium",children:"Submit Income"})]}),a.jsxs(Z,{variant:"outline",className:`h-24 flex-col space-y-2 ${t?"border-gray-700 bg-gray-800/50 text-gray-300 hover:bg-gray-800 hover:text-white":"border-gray-200 bg-gray-50 text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,onClick:()=>P(!0),children:[a.jsx(Qr,{className:"w-6 h-6"}),a.jsx("span",{className:"text-sm font-medium",children:"View History"})]}),a.jsxs(Z,{variant:"outline",className:`h-24 flex-col space-y-2 ${t?"border-gray-700 bg-gray-800/50 text-gray-300 hover:bg-gray-800 hover:text-white":"border-gray-200 bg-gray-50 text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[a.jsx(na,{className:"w-6 h-6"}),a.jsx("span",{className:"text-sm font-medium",children:"Generate Report"})]}),a.jsxs(Z,{variant:"outline",className:`h-24 flex-col space-y-2 ${t?"border-gray-700 bg-gray-800/50 text-gray-300 hover:bg-gray-800 hover:text-white":"border-gray-200 bg-gray-50 text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[a.jsx(yc,{className:"w-6 h-6"}),a.jsx("span",{className:"text-sm font-medium",children:"Schedule Inspection"})]})]})})]}),a.jsxs(fe,{className:`${t?"bg-gray-900/50 border-gray-800":"bg-white border-gray-200"}`,children:[a.jsx(ot,{children:a.jsx(lt,{className:`${t?"text-white":"text-gray-900"}`,children:"Recent Activity"})}),a.jsx(pe,{children:a.jsx("div",{className:"space-y-4",children:F.slice(0,3).map(Q=>a.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg ${t?"bg-gray-800/50":"bg-gray-50"}`,children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${Q.status==="distributed"?"bg-green-400":"bg-yellow-400"}`}),a.jsxs("div",{children:[a.jsxs("p",{className:`font-medium ${t?"text-white":"text-gray-900"}`,children:[Q.type.charAt(0).toUpperCase()+Q.type.slice(1)," - ",Q.assetName]}),a.jsxs("p",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:["$",Q.amount.toLocaleString()," distributed"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx(Ie,{variant:Q.status==="distributed"?"default":"secondary",children:Q.status}),a.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-600"} mt-1`,children:Q.submittedDate})]})]},Q.id))})})]})]}),a.jsxs(sn,{value:"assets",className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:`text-2xl font-bold ${t?"text-white":"text-gray-900"}`,children:"My Assigned Assets"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>i&&te(),disabled:R||!i,children:[a.jsx(Pn,{className:`w-4 h-4 mr-2 ${R?"animate-spin":""}`}),R?"Loading...":"Refresh"]}),a.jsxs(Z,{variant:"outline",size:"sm",children:[a.jsx(Qg,{className:"w-4 h-4 mr-2"}),"Filter"]}),a.jsxs(Z,{variant:"outline",size:"sm",children:[a.jsx(ux,{className:"w-4 h-4 mr-2"}),"Search"]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:E.length===0?a.jsx("div",{className:"col-span-full",children:a.jsx(fe,{className:`${t?"bg-gray-900/50 border-gray-800":"bg-white border-gray-200"}`,children:a.jsxs(pe,{className:"p-12 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-blue-500/10 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Ul,{className:"w-8 h-8 text-blue-500"})}),a.jsx("h3",{className:`text-xl font-bold mb-2 ${t?"text-white":"text-gray-900"}`,children:"No Assets Assigned"}),a.jsx("p",{className:`text-sm mb-6 ${t?"text-gray-400":"text-gray-600"}`,children:i?"You currently have no assets assigned to manage. Contact the admin to get assets assigned.":"Connect your wallet to view assigned assets."}),i&&a.jsxs(Z,{onClick:()=>te(),disabled:R,variant:"outline",children:[a.jsx(Pn,{className:`w-4 h-4 mr-2 ${R?"animate-spin":""}`}),R?"Checking...":"Check Again"]})]})})}):E.map(Q=>{ve(Q.type);const xe=Q.images&&Q.images.length>0?Q.images[0]:"https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?w=800&h=600&fit=crop",we=Ke=>{switch(Ke){case"real-estate":return"bg-blue-500/10 text-blue-600 border-blue-200";case"commodity":return"bg-green-500/10 text-green-600 border-green-200";case"bonds":return"bg-purple-500/10 text-purple-600 border-purple-200";case"equity":return"bg-orange-500/10 text-orange-600 border-orange-200";default:return"bg-gray-500/10 text-gray-600 border-gray-200"}};return a.jsxs(fe,{className:`overflow-hidden ${t?"bg-gray-900/50 border-gray-800":"bg-white border-gray-200"} cursor-pointer hover:shadow-lg transition-all hover:scale-[1.02]`,onClick:()=>{L(Q),j(!0)},children:[a.jsxs("div",{className:"relative h-48 w-full overflow-hidden",children:[a.jsx("img",{src:xe,alt:Q.name,className:"h-full w-full object-cover transition-transform hover:scale-105",onError:Ke=>{Ke.target.src="https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?w=800&h=600&fit=crop"}}),a.jsx(Ie,{className:`absolute top-3 right-3 ${we(Q.type)} border`,children:Q.type.replace("-"," ").replace(/\b\w/g,Ke=>Ke.toUpperCase())}),a.jsx("div",{className:`absolute top-3 left-3 w-3 h-3 rounded-full ${Te(Q.status)} ring-2 ring-white`})]}),a.jsxs(pe,{className:"p-4",children:[a.jsxs("div",{className:"mb-3",children:[a.jsx("h3",{className:`font-semibold text-lg mb-1 ${t?"text-white":"text-gray-900"}`,children:Q.name}),a.jsxs("p",{className:`text-sm flex items-center ${t?"text-gray-400":"text-gray-600"}`,children:[a.jsx(yw,{className:"w-3 h-3 mr-1"}),Q.location]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[a.jsxs("div",{className:`p-3 rounded-lg ${t?"bg-gray-800/50":"bg-gray-50"}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:`text-xs ${t?"text-gray-400":"text-gray-600"}`,children:"Token Price"}),a.jsx(On,{className:"w-3 h-3 text-green-500"})]}),a.jsxs("p",{className:`text-sm font-bold ${t?"text-white":"text-gray-900"}`,children:[Q.currentValue.toFixed(4)," ETH"]})]}),a.jsxs("div",{className:`p-3 rounded-lg ${t?"bg-gray-800/50":"bg-gray-50"}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:`text-xs ${t?"text-gray-400":"text-gray-600"}`,children:"Occupancy"}),a.jsx(In,{className:"w-3 h-3 text-blue-500"})]}),a.jsxs("p",{className:`text-sm font-bold ${t?"text-white":"text-gray-900"}`,children:[Q.occupancyRate,"%"]})]})]}),a.jsxs("div",{className:"mb-3",children:[a.jsxs("div",{className:"flex justify-between items-center mb-1",children:[a.jsx("span",{className:`text-xs ${t?"text-gray-400":"text-gray-600"}`,children:"Tokens Listed"}),a.jsxs("span",{className:`text-xs font-medium ${t?"text-white":"text-gray-900"}`,children:[Q.soldTokens,"/",Q.totalTokens]})]}),a.jsx(h2,{value:Q.soldTokens/Q.totalTokens*100,className:"h-1.5"})]}),a.jsx("div",{className:`p-3 rounded-lg ${t?"bg-green-500/10 border-green-500/20":"bg-green-50 border-green-200"} border mb-3`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(sc,{className:"w-4 h-4 text-green-500"}),a.jsx("span",{className:`text-sm font-medium ${t?"text-green-300":"text-green-700"}`,children:"Monthly Income"})]}),a.jsxs("span",{className:`text-sm font-bold ${t?"text-green-200":"text-green-800"}`,children:["$",Q.monthlyIncome.toLocaleString()]})]})}),a.jsxs(Z,{size:"sm",className:"w-full bg-blue-600 hover:bg-blue-700 text-white",onClick:Ke=>{Ke.stopPropagation(),A(ut=>({...ut,tokenId:Q.tokenId,assetName:Q.name})),D(!0)},children:[a.jsx(sa,{className:"w-4 h-4 mr-2"}),"Submit Income"]})]})]},Q.tokenId)})})]}),a.jsxs(sn,{value:"income",className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:`text-2xl font-bold ${t?"text-white":"text-gray-900"}`,children:"Income Management"}),a.jsxs(Z,{onClick:()=>D(!0),children:[a.jsx(sa,{className:"w-4 h-4 mr-2"}),"Submit New Income"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[a.jsx(fe,{className:`${t?"bg-gray-900/50 border-gray-800":"bg-white border-gray-200"}`,children:a.jsx(pe,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-600"}`,children:"This Month"}),a.jsx("p",{className:`text-2xl font-bold ${t?"text-white":"text-gray-900"}`,children:"$38,700"})]}),a.jsx("div",{className:"p-3 bg-green-500/10 rounded-lg",children:a.jsx(In,{className:"w-6 h-6 text-green-500"})})]})})}),a.jsx(fe,{className:`${t?"bg-gray-900/50 border-gray-800":"bg-white border-gray-200"}`,children:a.jsx(pe,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-600"}`,children:"Pending"}),a.jsx("p",{className:`text-2xl font-bold ${t?"text-white":"text-gray-900"}`,children:"$0"})]}),a.jsx("div",{className:"p-3 bg-yellow-500/10 rounded-lg",children:a.jsx(xa,{className:"w-6 h-6 text-yellow-500"})})]})})}),a.jsx(fe,{className:`${t?"bg-gray-900/50 border-gray-800":"bg-white border-gray-200"}`,children:a.jsx(pe,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-600"}`,children:"YTD Total"}),a.jsx("p",{className:`text-2xl font-bold ${t?"text-white":"text-gray-900"}`,children:"$428,400"})]}),a.jsx("div",{className:"p-3 bg-blue-500/10 rounded-lg",children:a.jsx(Qr,{className:"w-6 h-6 text-blue-500"})})]})})})]}),a.jsxs(fe,{className:`${t?"bg-gray-900/50 border-gray-800":"bg-white border-gray-200"}`,children:[a.jsx(ot,{children:a.jsx(lt,{className:`${t?"text-white":"text-gray-900"}`,children:"Income History"})}),a.jsx(pe,{children:a.jsx("div",{className:"space-y-4",children:F.map(Q=>a.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border ${t?"border-gray-700 bg-gray-800/30":"border-gray-200 bg-gray-50"}`,children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${Q.type==="rental"?"bg-blue-500/10":Q.type==="dividend"?"bg-emerald-500/10":"bg-purple-500/10"}`,children:Q.type==="rental"?a.jsx(Ul,{className:"w-5 h-5 text-blue-500"}):Q.type==="dividend"?a.jsx(sc,{className:"w-5 h-5 text-emerald-500"}):a.jsx(na,{className:"w-5 h-5 text-purple-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:`font-medium ${t?"text-white":"text-gray-900"}`,children:Q.assetName}),a.jsxs("p",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:[Q.type.charAt(0).toUpperCase()+Q.type.slice(1),"  Token ID: ",Q.tokenId]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:`font-semibold ${t?"text-white":"text-gray-900"}`,children:["$",Q.amount.toLocaleString()]}),a.jsxs("p",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:["$",Q.perToken,"/token"]})]}),a.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[a.jsx(Ie,{variant:Q.status==="distributed"?"default":Q.status==="pending"?"secondary":"destructive",children:Q.status}),a.jsx("p",{className:`text-xs ${t?"text-gray-400":"text-gray-600"}`,children:Q.submittedDate})]})]},Q.id))})})]})]}),a.jsxs(sn,{value:"reports",className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:`text-2xl font-bold ${t?"text-white":"text-gray-900"}`,children:"Reports & Analytics"}),a.jsxs(Z,{variant:"outline",children:[a.jsx(bc,{className:"w-4 h-4 mr-2"}),"Export Reports"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(fe,{className:`${t?"bg-gray-900/50 border-gray-800":"bg-white border-gray-200"}`,children:[a.jsx(ot,{children:a.jsx(lt,{className:`${t?"text-white":"text-gray-900"}`,children:"Performance Summary"})}),a.jsx(pe,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:`${t?"text-gray-400":"text-gray-600"}`,children:"Total Assets Under Management"}),a.jsx("span",{className:`font-medium ${t?"text-white":"text-gray-900"}`,children:"3"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:`${t?"text-gray-400":"text-gray-600"}`,children:"Combined Asset Value"}),a.jsx("span",{className:`font-medium ${t?"text-white":"text-gray-900"}`,children:"$5.5M"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:`${t?"text-gray-400":"text-gray-600"}`,children:"Average Monthly Income"}),a.jsx("span",{className:`font-medium ${t?"text-white":"text-gray-900"}`,children:"$38.7K"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:`${t?"text-gray-400":"text-gray-600"}`,children:"Portfolio Yield"}),a.jsx("span",{className:`font-medium ${t?"text-white":"text-gray-900"}`,children:"8.4%"})]})]})})]}),a.jsxs(fe,{className:`${t?"bg-gray-900/50 border-gray-800":"bg-white border-gray-200"}`,children:[a.jsx(ot,{children:a.jsx(lt,{className:`${t?"text-white":"text-gray-900"}`,children:"Quick Reports"})}),a.jsx(pe,{children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs(Z,{variant:"outline",className:"w-full justify-start",children:[a.jsx(na,{className:"w-4 h-4 mr-2"}),"Monthly Income Report"]}),a.jsxs(Z,{variant:"outline",className:"w-full justify-start",children:[a.jsx(Qr,{className:"w-4 h-4 mr-2"}),"Asset Performance Analysis"]}),a.jsxs(Z,{variant:"outline",className:"w-full justify-start",children:[a.jsx(In,{className:"w-4 h-4 mr-2"}),"Occupancy Trends"]}),a.jsxs(Z,{variant:"outline",className:"w-full justify-start",children:[a.jsx(vc,{className:"w-4 h-4 mr-2"}),"Portfolio Distribution"]})]})})]})]})]}),a.jsxs(sn,{value:"settlements",className:"space-y-6",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsx("h2",{className:`text-2xl font-bold ${t?"text-white":"text-gray-900"}`,children:"Invoice Settlement Management"})}),a.jsxs(ba,{defaultValue:"processor",className:"space-y-6",children:[a.jsxs(wa,{className:`${t?"bg-gray-900 border-gray-800":"bg-gray-100 border-gray-200"}`,children:[a.jsx(tn,{value:"processor",children:"Settlement Processor"}),a.jsx(tn,{value:"history",children:"Settlement History"})]}),a.jsx(sn,{value:"processor",children:a.jsx(f0e,{})}),a.jsx(sn,{value:"history",children:a.jsx(m0e,{})})]})]})]}):a.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:a.jsx(fe,{className:`max-w-md w-full ${t?"bg-gray-900/50 border-gray-800":"bg-white border-gray-200"}`,children:a.jsxs(pe,{className:"p-8 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-blue-500/10 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(or,{className:"w-8 h-8 text-blue-500"})}),a.jsx("h2",{className:`text-xl font-bold mb-2 ${t?"text-white":"text-gray-900"}`,children:"Connect Your Wallet"}),a.jsx("p",{className:`text-sm mb-6 ${t?"text-gray-400":"text-gray-600"}`,children:"Connect your wallet to access the Asset Manager Dashboard and manage your assigned properties."}),a.jsxs(Z,{onClick:Be,disabled:R,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:[a.jsx(or,{className:"w-4 h-4 mr-2"}),R?"Connecting...":"Connect Wallet"]})]})})})}),a.jsx(rr,{open:B,onOpenChange:D,children:a.jsxs(Fs,{className:`sm:max-w-lg ${t?"bg-gray-900 border-gray-700":"bg-white border-gray-200"}`,children:[a.jsxs(Ls,{children:[a.jsx(Bs,{className:`${t?"text-white":"text-gray-900"}`,children:"Submit Income"}),a.jsx(ta,{className:`${t?"text-gray-300":"text-gray-600"}`,children:"Submit rental income or dividends for distribution to token holders."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"asset-select",className:`${t?"text-gray-200":"text-gray-700"}`,children:"Select Asset"}),a.jsxs(du,{value:S.tokenId,onValueChange:Q=>{const xe=E.find(we=>we.tokenId===Q);A(we=>({...we,tokenId:Q,assetName:(xe==null?void 0:xe.name)||""}))},children:[a.jsx(Pc,{className:`${t?"bg-gray-800 border-gray-600 text-white":"bg-white border-gray-300"}`,children:a.jsx(uu,{placeholder:"Choose an asset"})}),a.jsx(Ic,{children:E.map(Q=>a.jsxs(nr,{value:Q.tokenId,children:[Q.name," (ID: ",Q.tokenId,")"]},Q.tokenId))})]})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"income-type",className:`${t?"text-gray-200":"text-gray-700"}`,children:"Income Type"}),a.jsxs(du,{value:S.type,onValueChange:Q=>A(xe=>({...xe,type:Q})),children:[a.jsx(Pc,{className:`${t?"bg-gray-800 border-gray-600 text-white":"bg-white border-gray-300"}`,children:a.jsx(uu,{})}),a.jsxs(Ic,{children:[a.jsx(nr,{value:"rental",children:"Rental Income"}),a.jsx(nr,{value:"dividend",children:"Dividend"}),a.jsx(nr,{value:"interest",children:"Interest Payment"})]})]})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"amount",className:`${t?"text-gray-200":"text-gray-700"}`,children:"Amount (S)"}),a.jsx(Et,{id:"amount",type:"number",step:"0.001",min:"0",placeholder:"Enter amount in S (e.g., 0.002)",value:S.amount||"",onChange:Q=>A(xe=>({...xe,amount:Number(Q.target.value)})),className:`${t?"bg-gray-800 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"month",className:`${t?"text-gray-200":"text-gray-700"}`,children:"Period"}),a.jsx(Et,{id:"month",type:"month",value:S.month,onChange:Q=>A(xe=>({...xe,month:Q.target.value})),className:`${t?"bg-gray-800 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"notes",className:`${t?"text-gray-200":"text-gray-700"}`,children:"Notes (Optional)"}),a.jsx(ty,{id:"notes",placeholder:"Additional notes or details",value:S.notes,onChange:Q=>A(xe=>({...xe,notes:Q.target.value})),className:`${t?"bg-gray-800 border-gray-600 text-white":"bg-white border-gray-300"}`})]})]}),a.jsxs(Io,{children:[a.jsx(Z,{variant:"outline",onClick:()=>D(!1),children:"Cancel"}),a.jsx(Z,{onClick:ge,disabled:V,children:V?a.jsxs(a.Fragment,{children:[a.jsx(Pn,{className:"w-4 h-4 mr-2 animate-spin"}),"Submitting..."]}):"Submit Income"})]})]})}),a.jsx(rr,{open:g,onOpenChange:j,children:a.jsx(Fs,{className:`sm:max-w-2xl ${t?"bg-gray-900 border-gray-700":"bg-white border-gray-200"}`,children:M&&a.jsxs(a.Fragment,{children:[a.jsxs(Ls,{children:[a.jsx(Bs,{className:`${t?"text-white":"text-gray-900"}`,children:M.name}),a.jsx(ta,{className:`${t?"text-gray-300":"text-gray-600"}`,children:"Asset Details and Management"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-600"}`,children:"Token ID"}),a.jsx("p",{className:`${t?"text-white":"text-gray-900"}`,children:M.tokenId})]}),a.jsxs("div",{children:[a.jsx("p",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-600"}`,children:"Location"}),a.jsx("p",{className:`${t?"text-white":"text-gray-900"}`,children:M.location})]}),a.jsxs("div",{children:[a.jsx("p",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-600"}`,children:"Current Value"}),a.jsxs("p",{className:`${t?"text-white":"text-gray-900"}`,children:["$",M.currentValue.toLocaleString()]})]}),a.jsxs("div",{children:[a.jsx("p",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-600"}`,children:"Monthly Income"}),a.jsxs("p",{className:`${t?"text-white":"text-gray-900"}`,children:["$",M.monthlyIncome.toLocaleString()]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-600"}`,children:"Tokens"}),a.jsxs("p",{className:`${t?"text-white":"text-gray-900"}`,children:[M.soldTokens," / ",M.totalTokens," sold"]}),a.jsx(h2,{value:M.soldTokens/M.totalTokens*100,className:"mt-2"})]}),a.jsxs("div",{children:[a.jsx("p",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-600"}`,children:"Occupancy Rate"}),a.jsxs("p",{className:`${t?"text-white":"text-gray-900"}`,children:[M.occupancyRate,"%"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-600"}`,children:"Last Inspection"}),a.jsx("p",{className:`${t?"text-white":"text-gray-900"}`,children:M.lastInspection})]}),a.jsxs("div",{children:[a.jsx("p",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-600"}`,children:"Next Payment"}),a.jsx("p",{className:`${t?"text-white":"text-gray-900"}`,children:M.nextPayment})]})]})]}),a.jsxs(Io,{children:[a.jsx(Z,{variant:"outline",onClick:()=>j(!1),children:"Close"}),a.jsx(Z,{onClick:()=>{A(Q=>({...Q,tokenId:M.tokenId,assetName:M.name})),j(!1),D(!0)},children:"Submit Income"})]})]})})})]})},Rl=({children:t,allowedRoles:e,redirectTo:n="/login"})=>{const{isAuthenticated:s,isLoading:r,canAccess:i,userRoles:o,primaryRole:l}=Sj(),c=co();if(r)return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-slate-900 mx-auto mb-4"}),a.jsx("p",{className:"text-slate-600 text-lg",children:"Verifying access..."})]})});if(!s)return console.log(" User not authenticated, redirecting to login"),a.jsx(TA,{to:n,state:{from:c},replace:!0});if(!i(e)){console.log(" User lacks required roles, redirecting to appropriate dashboard:",{userRoles:o,requiredRoles:e,primaryRole:l});const d=l||o[0]||"user";let u="/dashboard";switch(d){case"admin":u="/admin";break;case"issuer":u="/issuer";break;case"manager":u="/manager";break;default:u="/dashboard"}return a.jsx(TA,{to:u,replace:!0})}return console.log(" Access granted to protected route"),a.jsx(a.Fragment,{children:t})};class g0e{static clearMetadataCache(){const e=window.metadataService;if(e&&e.cache){const n=e.cache.size;e.cache.clear(),console.log(` Cleared metadata cache (${n} entries)`)}else console.warn(" Metadata service cache not found")}static clearFailedCacheEntries(){const e=window.metadataService;if(e&&e.cache){let n=0;for(const[s,r]of e.cache.entries())r.error&&(e.cache.delete(s),n++);console.log(` Cleared ${n} failed cache entries`)}}static inspectCache(){const e=window.metadataService;if(!e||!e.cache){console.warn(" Metadata service cache not found");return}const n=e.cache,s=n.size;let r=0,i=0,o=0;console.log(" Metadata Cache Inspection:"),console.log(`Total entries: ${s}`);for(const[c,d]of n.entries()){const u=d;u.error?(i++,u.expiry&&Date.now()>u.expiry&&o++):r++}console.log(` Successful: ${r}`),console.log(` Failed: ${i}`),console.log(` Expired failures: ${o}`);let l=0;for(const[c,d]of n.entries()){if(l>=3)break;const u=d;console.log(`
Sample entry ${l+1}:`),console.log(`URI: ${c}`),console.log(`Status: ${u.error?"Failed":"Success"}`),u.error?(console.log(`Error: ${u.error}`),console.log(`Expires: ${u.expiry?new Date(u.expiry).toLocaleString():"Never"}`)):(console.log(`Name: ${u.name||"Unknown"}`),console.log(`Description: ${u.description?u.description.substring(0,50)+"...":"None"}`)),l++}}static async testIPFSFetch(e){const n=[{name:"Custom Pinata",url:`https://olive-left-snake-740.mypinata.cloud/ipfs/${e}`},{name:"Pinata Gateway",url:`https://gateway.pinata.cloud/ipfs/${e}`},{name:"IPFS.io",url:`https://ipfs.io/ipfs/${e}`},{name:"Dweb Link",url:`https://dweb.link/ipfs/${e}`},{name:"Cloudflare",url:`https://cloudflare-ipfs.com/ipfs/${e}`}];console.log(` Testing IPFS gateways for hash: ${e}`);for(const s of n)try{console.log(`Testing ${s.name}...`);const r=Date.now(),i=await Promise.race([fetch(s.url),new Promise((c,d)=>setTimeout(()=>d(new Error("Timeout")),1e4))]),l=Date.now()-r;if(i.ok){const c=await i.json();console.log(` ${s.name}: Success (${l}ms)`),console.log(`   Name: ${c.name||"Unknown"}`),console.log(`   Image: ${c.image?"Present":"Missing"}`)}else console.log(` ${s.name}: HTTP ${i.status} (${l}ms)`)}catch(r){console.log(` ${s.name}: ${r.message}`)}}static enableRealTimeMonitoring(){const e=console.log,n=console.warn,s=console.error;console.log(" Metadata monitoring enabled. Watch for metadata service calls..."),console.log=(...r)=>{r[0]&&typeof r[0]=="string"&&(r[0].includes(" Fetching metadata")||r[0].includes(" Metadata fetched")||r[0].includes(" Using cached"))?e(" METADATA MONITOR:",...r):e(...r)},console.warn=(...r)=>{r[0]&&typeof r[0]=="string"&&r[0].includes("Gateway")?n(" METADATA MONITOR:",...r):n(...r)},console.error=(...r)=>{r[0]&&typeof r[0]=="string"&&(r[0].includes("IPFS gateways failed")||r[0].includes("metadata fetching"))?s(" METADATA MONITOR:",...r):s(...r)}}}window.MetadataDebugUtils=g0e;class x0e{constructor(){Ue(this,"results",[])}async testCommonIPFSFormats(){console.log(` Testing Common IPFS URI Formats...
`);const e=["ipfs://QmYwAPJzv5CZsnA625s3Xf2nemtYgPpHdWEz79ojWnPbdG","https://gateway.pinata.cloud/ipfs/QmYwAPJzv5CZsnA625s3Xf2nemtYgPpHdWEz79ojWnPbdG","QmYwAPJzv5CZsnA625s3Xf2nemtYgPpHdWEz79ojWnPbdG","ipfs://bafybeigdyrzt5sfp7udm7hu76uh7y26nf3efuylqabf3oclgtqy55fbzdi","https://gateway.pinata.cloud/ipfs/bafybeigdyrzt5sfp7udm7hu76uh7y26nf3efuylqabf3oclgtqy55fbzdi","ipfs://TestHash123","https://gateway.pinata.cloud/ipfs/TestHash123","","invalid-uri"];for(const n of e)await this.testSingleURI("Common Format Test",n);this.printResults("Common IPFS Format Tests")}async testGatewayPerformance(){console.log(`
 Testing Individual Gateway Performance...
`);const e="QmYwAPJzv5CZsnA625s3Xf2nemtYgPpHdWEz79ojWnPbdG",n=[{name:"Custom Pinata",url:`https://olive-left-snake-740.mypinata.cloud/ipfs/${e}`},{name:"Pinata Gateway",url:`https://gateway.pinata.cloud/ipfs/${e}`},{name:"IPFS.io",url:`https://ipfs.io/ipfs/${e}`},{name:"Dweb Link",url:`https://dweb.link/ipfs/${e}`},{name:"Cloudflare",url:`https://cloudflare-ipfs.com/ipfs/${e}`},{name:"IPFS Gateway",url:`https://gateway.ipfs.io/ipfs/${e}`},{name:"Infura",url:`https://ipfs.infura.io/ipfs/${e}`},{name:"CF IPFS",url:`https://cf-ipfs.com/ipfs/${e}`}];for(const s of n)await this.testGatewayDirect(s.name,s.url);this.printResults("Gateway Performance Tests")}async testCurrentAppMetadata(){console.log(`
 Testing Current App Metadata Sources...
`);const e=localStorage.getItem("marketplaceCache"),n=localStorage.getItem("dashboardCache");if(console.log(" Checking localStorage caches..."),e)try{const s=JSON.parse(e);console.log(" Marketplace cache found:",Object.keys(s).length,"entries");const r=Object.values(s).slice(0,3).map(i=>i.metadataURI).filter(Boolean);for(const i of r)await this.testSingleURI("Marketplace Cache",i)}catch(s){console.warn(" Error parsing marketplace cache:",s)}if(n)try{const s=JSON.parse(n);console.log(" Dashboard cache found:",Object.keys(s).length,"entries");const r=Object.values(s).slice(0,3).map(i=>i.metadataURI).filter(Boolean);for(const i of r)await this.testSingleURI("Dashboard Cache",i)}catch(s){console.warn(" Error parsing dashboard cache:",s)}await this.testSimulatedContractData(),this.printResults("Current App Metadata Tests")}async testSimulatedContractData(){console.log(`
 Testing Simulated Contract Metadata...`);const e=["ipfs://TestHash_Asset_1","ipfs://TestHash_Asset_2","https://gateway.pinata.cloud/ipfs/TestHash_Asset_3","https://gateway.pinata.cloud/ipfs/https://gateway.pinata.cloud/ipfs/TestHash_Doubled","","ipfs://QmRealHashButMightNotExist123456789012345678901234567890123"];for(const n of e)await this.testSingleURI("Simulated Contract",n)}async testSingleURI(e,n){const s=Date.now();try{console.log(`
 Testing [${e}]: ${n||"(empty)"}`);const r=await _0.fetchMetadataFromIPFS(n),i=Date.now()-s;r?(console.log(`   Success (${i}ms)`),console.log(`   Name: ${r.name||"N/A"}`),console.log(`   Image: ${r.image?"Present":"Missing"}`),console.log(`   Asset Type: ${this.extractAssetType(r)}`),this.results.push({source:e,uri:n,success:!0,metadata:r,timeTaken:i})):(console.log(`   Failed (${i}ms) - Returned null`),this.results.push({source:e,uri:n,success:!1,metadata:null,error:"Returned null",timeTaken:i}))}catch(r){const i=Date.now()-s;console.log(`   Error (${i}ms):`,r.message),this.results.push({source:e,uri:n,success:!1,metadata:null,error:r.message,timeTaken:i})}}async testGatewayDirect(e,n){const s=Date.now();try{console.log(`
 Testing Gateway [${e}]: ${n}`);const r=await Promise.race([fetch(n,{method:"GET",headers:{Accept:"application/json"}}),new Promise((o,l)=>setTimeout(()=>l(new Error("Timeout after 10s")),1e4))]),i=Date.now()-s;if(r.ok)try{const o=await r.json();console.log(`   Gateway Success (${i}ms)`),console.log(`   Content: ${o.name||"No name"}`),this.results.push({source:`Gateway: ${e}`,uri:n,success:!0,metadata:o,timeTaken:i})}catch{console.log(`   Gateway responded but invalid JSON (${i}ms)`),this.results.push({source:`Gateway: ${e}`,uri:n,success:!1,metadata:null,error:"Invalid JSON response",timeTaken:i})}else console.log(`   Gateway HTTP ${r.status} (${i}ms)`),this.results.push({source:`Gateway: ${e}`,uri:n,success:!1,metadata:null,error:`HTTP ${r.status}`,timeTaken:i})}catch(r){const i=Date.now()-s;console.log(`   Gateway Error (${i}ms):`,r.message),this.results.push({source:`Gateway: ${e}`,uri:n,success:!1,metadata:null,error:r.message,timeTaken:i})}}extractAssetType(e){var n;if(e!=null&&e.attributes){const s=e.attributes.find(r=>r.trait_type==="Asset Type");if(s)return s.value}return(n=e==null?void 0:e.assetDetails)!=null&&n.assetType?e.assetDetails.assetType:"Unknown"}printResults(e){console.log(`
 === ${e} Results ===`);const n=this.results.filter(o=>o.success).length,s=this.results.length,r=s>0?(n/s*100).toFixed(1):"0";if(console.log(`Success Rate: ${n}/${s} (${r}%)`),n>0){const o=this.results.filter(l=>l.success).reduce((l,c)=>l+c.timeTaken,0)/n;console.log(`Average Success Time: ${o.toFixed(0)}ms`)}const i=this.results.filter(o=>!o.success).reduce((o,l)=>{const c=l.error||"Unknown error";return o[c]=(o[c]||0)+1,o},{});Object.keys(i).length>0&&(console.log(`
 Error Breakdown:`),Object.entries(i).forEach(([o,l])=>{console.log(`  ${o}: ${l} times`)})),this.results=[]}async runCompleteTest(){console.log(` Starting Complete IPFS Metadata Test Suite...
`),_0.clearCache();try{await this.testCommonIPFSFormats(),await this.testGatewayPerformance(),await this.testCurrentAppMetadata(),console.log(`
 Complete test suite finished!`),console.log(`
 Debugging Tips:`),console.log("1. Check browser console for detailed gateway logs"),console.log("2. Use window.metadataService.cache to inspect cached results"),console.log("3. Use window.MetadataDebugUtils.inspectCache() for cache analysis"),console.log("4. Look for patterns in failed URIs vs successful ones")}catch(e){console.error(" Test suite error:",e)}}async quickTest(e){console.log(` Quick test for IPFS hash: ${e}`);const n=[`ipfs://${e}`,`https://gateway.pinata.cloud/ipfs/${e}`,e];for(const s of n)await this.testSingleURI("Quick Test",s)}}const y0e=new x0e;window.IPFSTestScript=y0e;class v0e{static async runFullCleanup(){console.log(` Starting comprehensive cache cleanup...
`),console.log(" Initial Cache Analysis:");const e=gg();console.log(`  Total cache entries: ${e.totalCacheEntries}`),console.log(`  Dummy data entries: ${e.dummyDataEntries}`),console.log(`  Failed fetch markers: ${e.failedFetchMarkers}`),console.log(`  Expired failed fetches: ${e.expiredFailedFetches}
`),console.log(" Clearing metadata service cache..."),window.metadataService&&window.metadataService.clearCache(),console.log(" Clearing marketplace dummy data...");const n=Qt.clearDummyDataFromCache();console.log(" Clearing dashboard dummy data...");const s=Ds.clearDummyDataFromCache();console.log(" Clearing general dummy data...");const r=$1();console.log(" Clearing expired cache entries..."),Qt.clearExpiredCache(),console.log(`
 Final Cache Analysis:`);const i=gg();console.log(`  Total cache entries: ${i.totalCacheEntries}`),console.log(`  Dummy data entries: ${i.dummyDataEntries}`),console.log(`  Failed fetch markers: ${i.failedFetchMarkers}`),console.log(`  Expired failed fetches: ${i.expiredFailedFetches}`);const o=n+s+r;console.log(`
 Cleanup completed! Removed ${o} dummy data entries.`),o>0&&(console.log(`
 Recommendations:`),console.log("1. Refresh the page to see clean data"),console.log("2. Check marketplace, dashboard, and orderbook for proper metadata"),console.log("3. Monitor console for IPFS gateway performance"),console.log("4. Use window.IPFSTestScript.runCompleteTest() to test IPFS connectivity"))}static async quickCleanup(){console.log(" Running quick cache cleanup..."),Qt.clearCache(),Ds.clearCache(),window.metadataService&&window.metadataService.clearCache();const e=$1()+Qt.clearDummyDataFromCache()+Ds.clearDummyDataFromCache();console.log(` Quick cleanup done! Cleared ${e} dummy entries.`),console.log(" Refresh the page to see fresh data.")}static analyzeCacheState(){console.log(` Analyzing current cache state...
`);const e=gg();console.log(" Dummy Data Analysis:"),console.log(`  Total cache entries: ${e.totalCacheEntries}`),console.log(`  Dummy data entries: ${e.dummyDataEntries}`),console.log(`  Failed fetch markers: ${e.failedFetchMarkers}`),console.log(`  Expired failed fetches: ${e.expiredFailedFetches}`),console.log(`
 Marketplace Cache Analysis:`);const n=Qt.getCacheStats();if(Object.entries(n).forEach(([s,r])=>{console.log(`  ${s}: ${r.count} entries (${Math.round(r.totalSize/1024)}KB)`)}),console.log(`
 Metadata Service Cache:`),window.metadataService&&window.metadataService.cache){const s=window.metadataService.cache;console.log(`  Size: ${s.size} entries`);let r=0,i=0;for(const[o,l]of s.entries())l&&l.error?i++:l&&r++;console.log(`  Successful: ${r}`),console.log(`  Failed: ${i}`)}else console.log("  Metadata service cache not available");e.dummyDataEntries>0?(console.log(`
 Issues Found:`),console.log(`  ${e.dummyDataEntries} dummy data entries detected`),console.log("  Run window.CacheCleanupScript.runFullCleanup() to fix")):console.log(`
 Cache appears clean!`)}static async testAfterCleanup(){console.log(` Testing metadata fetching after cleanup...
`);const e=[{name:"Empty URI",uri:""},{name:"Test Hash",uri:"ipfs://TestHash123"},{name:"Valid IPFS Format",uri:"ipfs://QmYwAPJzv5CZsnA625s3Xf2nemtYgPpHdWEz79ojWnPbdG"}];for(const n of e){console.log(`Testing: ${n.name}`);try{const s=await window.metadataService.fetchMetadataFromIPFS(n.uri);console.log(s?`   Success: ${s.name||"No name"}`:"   Failed: null result")}catch(s){console.log(`   Error: ${s.message}`)}}console.log(`
 Use window.IPFSTestScript.runCompleteTest() for comprehensive testing`)}static startCacheMonitoring(){console.log(" Starting cache monitoring..."),console.log("Monitor will log cache operations as they happen."),console.log(`Use window.CacheCleanupScript.stopCacheMonitoring() to stop.
`);const e=localStorage.setItem;localStorage.setItem=function(n,s){try{const r=JSON.parse(s);(n.includes("marketplace")||n.includes("asset_metadata"))&&console.log(` CACHE SET: ${n}`,{dataType:Array.isArray(r.data)?"array":typeof r.data,itemCount:Array.isArray(r.data)?r.data.length:1,timestamp:new Date().toLocaleTimeString()})}catch{}return e.call(this,n,s)},window._originalSetItem=e}static stopCacheMonitoring(){window._originalSetItem&&(localStorage.setItem=window._originalSetItem,delete window._originalSetItem,console.log(" Cache monitoring stopped."))}}window.CacheCleanupScript=v0e;class f2{constructor(e,n){Ue(this,"provider");Ue(this,"signer");Ue(this,"marketplaceAddress");Ue(this,"tokenAddress");this.provider=e,this.signer=n,this.marketplaceAddress=hn,this.tokenAddress=Ts}async fetchEnhancedMarketplaceListings(e){try{console.log(" ENHANCED: Fetching detailed marketplace listings for OrderBook...");const n=this.signer||this.provider,s=new qe(this.marketplaceAddress,Yr,n),r=["function balanceOf(address account, uint256 id) view returns (uint256)","function uri(uint256 id) view returns (string)","function getTokenLifecycleStatus(uint256 tokenId) external view returns (uint8)"],i=new qe(this.tokenAddress,r,this.provider);console.log(" Getting all marketplace listings...");const o=await s.getAllListings(),[l,c,d,u]=o;console.log(`Found ${l.length} marketplace listings`);const h=[];for(let f=0;f<l.length;f++){const m=l[f].toString(),x=d[f].toString(),p=u[f];try{try{if(await i.getTokenLifecycleStatus(m)===2){console.log(` Skipping burned token ${m} in orderbook`);continue}}catch{console.warn(` Could not check lifecycle for token ${m}, including in orderbook`)}let w=0;if(e)try{const N=await i.balanceOf(e,m);w=parseInt(N.toString())}catch{console.warn(`Could not fetch wallet balance for token ${m}`),w=0}const b=await this.fetchEnhancedMetadata(i,m),v={id:m,name:b.name,symbol:b.symbol,description:b.description,image:b.image,totalSupply:parseInt(x),userBalance:w,isListed:!0,marketplacePrice:p?parseFloat(De(p)):0,exists:!0,metadata:b.metadata,assetType:b.assetType,location:b.location,valuation:b.valuation,area:b.area,bedrooms:b.bedrooms,bathrooms:b.bathrooms,attributes:b.attributes,lastPrice:p?parseFloat(De(p)):0,priceChange24h:this.generateMockPriceChange(),volume24h:this.generateMockVolume()};h.push(v),console.log(` ENHANCED: Added token ${m}:`,{name:v.name,assetType:v.assetType,location:v.location,userBalance:v.userBalance})}catch(w){console.error(`Error processing enhanced token ${m}:`,w)}}return console.log(` ENHANCED LISTINGS: Found ${h.length} detailed tokens for OrderBook`),h}catch(n){return console.error(" Error fetching enhanced marketplace listings:",n),[]}}async fetchEnhancedMetadata(e,n){var s,r,i,o,l,c,d,u,h;try{console.log(` Fetching enhanced metadata for token ${n}...`);let f="";try{f=await e.uri(n),console.log(`Got metadata URI for token ${n}:`,f)}catch{console.log(`Could not fetch URI for token ${n}, using fallbacks`)}let m;if(f&&f!==""&&!f.includes("TestHash")){const x=await _0.fetchMetadataFromIPFS(f);x&&(m={name:x.name||"",description:x.description||"",image:x.image||"",external_url:x.external_url,attributes:x.attributes||[],asset_type:((s=x.assetDetails)==null?void 0:s.assetType)||((i=(r=x.attributes)==null?void 0:r.find(p=>p.trait_type==="Asset Type"))==null?void 0:i.value),location:((l=(o=x.attributes)==null?void 0:o.find(p=>p.trait_type==="Location"))==null?void 0:l.value)||"",valuation:((d=(c=x.attributes)==null?void 0:c.find(p=>p.trait_type==="Valuation"))==null?void 0:d.value)||"",certification:((h=(u=x.attributes)==null?void 0:u.find(p=>p.trait_type==="Certification"))==null?void 0:h.value)||""})}return this.createEnhancedTokenData(n,m)}catch(f){return console.error(`Error fetching enhanced metadata for token ${n}:`,f),this.createEnhancedTokenData(n,void 0)}}async parseMetadataFromUri(e){try{let n=e;e.startsWith("ipfs://")?n=e.replace("ipfs://","https://gateway.pinata.cloud/ipfs/"):e.startsWith("http")||(n=`https://gateway.pinata.cloud/ipfs/${e}`),console.log(`Fetching metadata from: ${n}`);const s=await fetch(n,{method:"GET",headers:{Accept:"application/json"},signal:AbortSignal.timeout(1e4)});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);const r=await s.json();if(console.log(" Successfully fetched metadata:",r),r.image)if(r.image.startsWith("ipfs://")){const i=r.image.replace("ipfs://","https://gateway.pinata.cloud/ipfs/");try{(await fetch(i,{method:"HEAD",signal:AbortSignal.timeout(5e3)})).ok?(r.image=i,console.log(` IPFS image validated: ${i}`)):(console.warn(` IPFS image not accessible: ${i}`),r.image="")}catch(o){console.warn(` IPFS image validation failed: ${i}`,o),r.image=""}}else r.image.startsWith("http")||(console.warn(` Invalid image URL format: ${r.image}`),r.image="");return r}catch(n){console.log("Could not fetch metadata from URI:",n);return}}createEnhancedTokenData(e,n){const s=(n==null?void 0:n.attributes)||[],r=this.determineAssetType(n,s),i=this.extractLocation(n,s),o=this.extractValuation(n,s),l=this.extractAttribute(s,["Area","Size","Square Feet","Sq Ft"]),c=this.extractAttribute(s,["Bedrooms","Beds","Bedroom"]),d=this.extractAttribute(s,["Bathrooms","Baths","Bathroom"]);return{name:(n==null?void 0:n.name)||this.generateFallbackName(e,r),symbol:this.generateSymbol(e,r),description:(n==null?void 0:n.description)||this.generateFallbackDescription(e,r),image:WO((n==null?void 0:n.image)||"",r,e),metadata:n,assetType:r,location:i,valuation:o,area:l,bedrooms:c,bathrooms:d,attributes:s}}determineAssetType(e,n=[]){if(e!=null&&e.asset_type)return e.asset_type;const s=this.extractAttribute(n,["Type","Asset Type","Category"]);if(s)return s;const r=`${(e==null?void 0:e.name)||""} ${(e==null?void 0:e.description)||""}`.toLowerCase();return r.includes("real estate")||r.includes("property")||r.includes("villa")||r.includes("house")?"Real Estate":r.includes("gold")||r.includes("silver")||r.includes("metal")||r.includes("bullion")?"Precious Metals":r.includes("wine")||r.includes("vintage")||r.includes("bottle")?"Collectibles":r.includes("art")||r.includes("painting")||r.includes("sculpture")?"Art":r.includes("carbon")||r.includes("credit")||r.includes("offset")?"Carbon Credits":"Real World Asset"}extractLocation(e,n=[]){const s=this.extractAttribute(n,["Location","Address","City","Region","Country"]);if(s)return s;if(e!=null&&e.description){const r=/(in|at|located in)\s+([A-Z][a-zA-Z\s,]+)/i,i=e.description.match(r);if(i)return i[2].trim()}return"Location TBD"}extractValuation(e,n=[]){return this.extractAttribute(n,["Valuation","Value","Worth","Appraisal"])||"Valuation Pending"}extractAttribute(e,n){var s;for(const r of e)for(const i of n)if(((s=r.trait_type)==null?void 0:s.toLowerCase())===i.toLowerCase())return r.value;return""}generateFallbackName(e,n){return{"Real Estate":`Property #${e}`,"Precious Metals":`Gold Asset #${e}`,Collectibles:`Collectible #${e}`,Art:`Artwork #${e}`,"Carbon Credits":`Carbon Credit #${e}`}[n]||`Asset #${e}`}generateSymbol(e,n){return{"Real Estate":`PROP${e}`,"Precious Metals":`GOLD${e}`,Collectibles:`COLL${e}`,Art:`ART${e}`,"Carbon Credits":`CARB${e}`}[n]||`RWA${e}`}generateFallbackDescription(e,n){return{"Real Estate":`Tokenized real estate property with fractional ownership rights. Property ID: ${e}`,"Precious Metals":`Physical precious metal asset backed by certified bullion. Asset ID: ${e}`,Collectibles:`Authenticated collectible item with provenance tracking. Item ID: ${e}`,Art:`Tokenized artwork with verified authenticity and ownership history. Piece ID: ${e}`,"Carbon Credits":`Verified carbon offset credit representing environmental impact reduction. Credit ID: ${e}`}[n]||`Real-world asset token with verifiable ownership rights. Asset ID: ${e}`}generateFallbackImage(e,n){return Tc(e,n||"1")}generateMockPriceChange(){const e=["+2.4%","-1.8%","+0.7%","-0.3%","+4.1%","-2.9%","+1.2%"];return e[Math.floor(Math.random()*e.length)]}generateMockVolume(){return Math.floor(Math.random()*1e3)+100}async getDetailedTokenInfo(e,n){try{return(await this.fetchEnhancedMarketplaceListings(n)).find(r=>r.id===e)||null}catch(s){return console.error(`Error fetching detailed info for token ${e}:`,s),null}}async getU2UBalance(e){try{const n=await this.provider.getBalance(e);return De(n)}catch(n){return console.error("Error fetching U2U balance:",n),"0"}}}const b0e=(t,e)=>(t*e).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),w0e=({token:t,isSelected:e=!1,onSelect:n,showTradeButton:s=!1,onTrade:r,compact:i=!1})=>{var b;const[o,l]=y.useState(!1),[c,d]=y.useState(!1),[u,h]=y.useState(""),[f,m]=y.useState(0),x=()=>{console.log(` Image failed to load: ${u}`);const v=cj(u);if(v&&f<C0.length-1){const E=f+1,T=HO(`ipfs://${v}`,E);console.log(` Trying IPFS gateway ${E+1}/${C0.length}: ${T}`),m(E),h(T),d(!1),l(!1);return}const N=qO(t.assetType);console.log(` Using fixed fallback image for ${t.assetType}: ${N}`),h(N),d(!0)};y.useEffect(()=>{const v=WO(t.image,t.assetType,t.id);console.log(` Processed image URL for token ${t.id}: ${t.image}  ${v}`),h(v),l(!1),d(!1),m(0)},[t.image,t.assetType,t.id]);const p=v=>v.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:4}),w=(b=t.priceChange24h)==null?void 0:b.startsWith("+");return i?a.jsx(fe,{className:`bg-white border-gray-200 shadow-sm hover:shadow-md transition-all duration-200 cursor-pointer ${e?"ring-2 ring-blue-500 border-blue-200":""}`,onClick:n,children:a.jsx(pe,{className:"p-4",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"relative w-16 h-16 rounded-lg overflow-hidden bg-gray-100",children:a.jsx(Cc,{src:u,alt:t.name,className:"w-full h-full object-cover",assetType:t.assetType||"Real Estate",tokenId:t.id,onLoad:()=>{l(!0),console.log(` Image loaded successfully: ${u}`)},onError:x})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-gray-900 text-sm truncate",children:t.name}),a.jsxs("p",{className:"text-xs text-gray-500 flex items-center mt-1",children:[a.jsx(yw,{className:"w-3 h-3 mr-1"}),t.location]}),a.jsxs("div",{className:"flex items-center justify-between mt-2",children:[a.jsx("div",{children:a.jsxs("p",{className:"text-sm font-bold text-gray-900",children:[t.marketplacePrice?p(t.marketplacePrice):"N/A"," Flow"]})}),t.userBalance>0&&a.jsxs(Ie,{className:"bg-green-50 text-green-700 border-green-200 text-xs",children:[a.jsx(or,{className:"w-3 h-3 mr-1"}),t.userBalance]})]})]})]})})}):a.jsxs(Ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},whileHover:{scale:1.02},onClick:n,className:`group bg-white/90 backdrop-blur-sm rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 cursor-pointer border border-gray-200/50 hover:border-gray-300/50 overflow-hidden ${e?"ring-2 ring-blue-500 border-blue-200 shadow-2xl scale-[1.02]":""}`,children:[a.jsxs("div",{className:"relative overflow-hidden",children:[!o&&!c&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100 z-10",children:a.jsx(hN,{className:"w-8 h-8 animate-spin text-gray-400"})}),c&&!o&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100 z-10",children:a.jsx(G7,{className:"w-8 h-8 text-gray-400"})}),a.jsx(Cc,{src:u,alt:t.name,className:"w-full h-48 object-cover group-hover:scale-110 transition-transform duration-700",assetType:t.assetType||"Real Estate",tokenId:t.id,onLoad:()=>{l(!0),console.log(` Image loaded successfully: ${u}`)},onError:x}),a.jsx("div",{className:"absolute top-4 left-4",children:a.jsx("span",{className:"px-3 py-1 bg-white/90 backdrop-blur-sm rounded-full text-xs font-medium text-gray-700 border border-gray-200/50",children:t.assetType})}),a.jsx("div",{className:"absolute top-4 right-4",children:a.jsxs("span",{className:"px-2 py-1 bg-blue-500/90 backdrop-blur-sm rounded-full text-xs font-medium text-white border border-blue-400/50",children:["#",t.id]})}),t.userBalance>0&&a.jsx("div",{className:"absolute top-4 right-20",children:a.jsxs("span",{className:"px-2 py-1 bg-green-500/90 backdrop-blur-sm rounded-full text-xs font-medium text-white border border-green-400/50",children:[a.jsx(or,{className:"w-3 h-3 inline mr-1"}),t.userBalance]})})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"font-bold text-gray-900 mb-2 group-hover:text-gray-700 transition-colors line-clamp-1",children:t.name}),a.jsxs("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2 leading-relaxed flex items-center",children:[a.jsx(yw,{className:"w-3 h-3 mr-1 text-gray-400"}),t.location]}),a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-xs text-gray-500",children:["Price per token (",t.marketplacePrice?p(t.marketplacePrice):"N/A"," Flow)"]}),a.jsxs("p",{className:"text-sm font-semibold text-blue-600 mt-1",children:["Total Valuation: ",t.marketplacePrice?b0e(t.marketplacePrice,t.totalSupply):"N/A"," Flow"]}),t.priceChange24h&&a.jsxs("p",{className:`text-xs flex items-center mt-1 ${w?"text-green-600":"text-red-600"}`,children:[w?a.jsx(In,{className:"w-3 h-3 mr-1"}):a.jsx(fN,{className:"w-3 h-3 mr-1"}),t.priceChange24h," (24h)"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm font-medium text-green-600",children:[t.totalSupply," Total"]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Supply"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),a.jsx("span",{className:"text-xs text-gray-600",children:"Available Now"})]}),s?a.jsx("button",{className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-xl hover:from-blue-700 hover:to-blue-800 transition-all duration-300 shadow-md hover:shadow-lg text-sm font-medium",onClick:v=>{v.stopPropagation(),r==null||r()},children:"Trade Now"}):a.jsx("button",{className:"px-4 py-2 bg-gradient-to-r from-gray-800 to-black text-white rounded-xl hover:from-gray-900 hover:to-gray-800 transition-all duration-300 shadow-md hover:shadow-lg text-sm font-medium",onClick:v=>{v.stopPropagation(),n==null||n()},children:"Select Asset"})]})]})]})},N0e=({selectedTokenId:t,onTokenSelect:e,showOwnedOnly:n=!1})=>{const{provider:s,signer:r,address:i}=xn();console.log(" AssetTokenSelector: Component initialized",{selectedTokenId:t,showOwnedOnly:n,hasProvider:!!s,hasAddress:!!i});const[o,l]=y.useState([]),[c,d]=y.useState([]),[u,h]=y.useState(!0),[f,m]=y.useState(""),[x,p]=y.useState("all"),[w,b]=y.useState("grid"),[v,N]=y.useState(!1),[E,T]=y.useState(!1),[R,$]=y.useState(null),M=async(g,j=0)=>{var A,F,_,k,O,q,I,V,G,H,K,X,ee,ne,Be;const C=parseFloat(De(g.price||"0"));let P=g.name,S=g.type||g.category||"Real World Asset";if(g.metadata){const te=g.metadata.name||g.metadata.title||g.metadata.assetName||((A=g.metadata.assetDetails)==null?void 0:A.name)||((F=g.metadata.assetDetails)==null?void 0:F.title);te&&te!==`Asset Token #${g.tokenId}`&&(P=te);const ge=g.metadata.assetType||((_=g.metadata.assetDetails)==null?void 0:_.assetType)||((k=g.metadata.assetDetails)==null?void 0:k.category);if(ge&&(S=ge),g.metadata.attributes){const Te=g.metadata.attributes.find(ve=>ve.trait_type==="Asset Type"||ve.trait_type==="Category"||ve.trait_type==="Type");Te!=null&&Te.value&&(S=Te.value)}}if(P===g.name&&(P!=null&&P.startsWith("Asset Token #"))){const te=Qt.getCachedAssetMetadata(g.tokenId);if(te!=null&&te.metadata){const ge=te.metadata.name||te.metadata.title||te.metadata.assetName;ge&&(P=ge);const Te=te.metadata.assetType||((O=te.metadata.assetDetails)==null?void 0:O.assetType);Te&&(S=Te)}}return{id:g.tokenId,name:P,symbol:`TOA${g.tokenId}`,description:g.description,image:g.image,totalSupply:g.totalSupply||g.amount,userBalance:j,isListed:!0,marketplacePrice:C,exists:!0,metadata:g.metadata,assetType:S,location:((I=(q=g.attributes)==null?void 0:q.find(te=>{var ge;return(ge=te.trait_type)==null?void 0:ge.toLowerCase().includes("location")}))==null?void 0:I.value)||"Unknown",valuation:((G=(V=g.attributes)==null?void 0:V.find(te=>{var ge;return(ge=te.trait_type)==null?void 0:ge.toLowerCase().includes("valuation")}))==null?void 0:G.value)||`${C.toFixed(2)} Flow`,area:(K=(H=g.attributes)==null?void 0:H.find(te=>{var ge;return(ge=te.trait_type)==null?void 0:ge.toLowerCase().includes("area")}))==null?void 0:K.value,bedrooms:(ee=(X=g.attributes)==null?void 0:X.find(te=>{var ge;return(ge=te.trait_type)==null?void 0:ge.toLowerCase().includes("bedroom")}))==null?void 0:ee.value,bathrooms:(Be=(ne=g.attributes)==null?void 0:ne.find(te=>{var ge;return(ge=te.trait_type)==null?void 0:ge.toLowerCase().includes("bathroom")}))==null?void 0:Be.value,attributes:g.attributes||[],lastPrice:C,priceChange24h:"0.00%",volume24h:0}},L=y.useCallback(async(g=!1)=>{if(s)try{if(!g){console.log(" Checking marketplace cache for asset token data...");const S=Qt.getCachedMarketplaceListings();if(S&&S.length>0){console.log(` Loaded ${S.length} assets from marketplace cache instantly!`);const{CONTRACT_ABIS:A}=await wt(async()=>{const{CONTRACT_ABIS:q}=await Promise.resolve().then(()=>ti);return{CONTRACT_ABIS:q}},void 0),F=new qe(Ts,A.ERC1155CORE,s),_=[];for(const q of S)try{await F.getTokenLifecycleStatus(q.tokenId)!==2?_.push(q):console.log(` Skipping burned token ${q.tokenId} in AssetTokenSelector`)}catch{console.warn(` Could not check lifecycle for token ${q.tokenId}, including in AssetTokenSelector`),_.push(q)}console.log(` Filtered ${_.length} active tokens (excluded ${S.length-_.length} burned)`);const k=await Promise.all(_.map(async q=>{var V,G,H;let I=0;if(i)try{const K=await F.balanceOf(i,q.tokenId);I=parseInt(K.toString())}catch{console.warn(`Could not fetch balance for token ${q.tokenId}`)}if((V=q.name)!=null&&V.startsWith("Asset Token #")||q.type==="Unknown"||!((G=q.metadata)!=null&&G.name)){console.log(` Refreshing metadata for token ${q.tokenId} with incomplete data...`);try{const K=Qt.getCachedAssetMetadata(q.tokenId);K!=null&&K.metadata&&(q.metadata=K.metadata,q.name=K.metadata.name||K.metadata.title||q.name,q.type=K.metadata.assetType||((H=K.metadata.assetDetails)==null?void 0:H.assetType)||q.type)}catch(K){console.warn(`Could not refresh metadata for token ${q.tokenId}:`,K)}}return M(q,I)}));console.log(` AssetTokenSelector: Setting ${k.length} tokens from cache`),l(k),T(!0),$(Date.now());const O=k.filter(q=>{var I;return((I=q.name)==null?void 0:I.startsWith("Asset Token #"))||q.assetType==="Real World Asset"});O.length>0?(console.log(` Found ${O.length} assets with incomplete metadata, triggering background refresh...`),setTimeout(()=>{console.log(" Background refresh starting due to incomplete metadata..."),L(!0)},2e3)):setTimeout(()=>{console.log(" Background asset refresh starting..."),L(!0)},3e4);return}else console.log(" No valid marketplace cache found, fetching fresh data...")}T(!1),console.log(" Loading fresh asset data...");const C=await new f2(s,r).fetchEnhancedMarketplaceListings(i);console.log(` AssetTokenSelector: Setting ${C.length} tokens from fresh fetch`),l(C),console.log(" Enhanced tokens loaded:",C.length),console.log(" Preloading AssetTokenSelector images...");const P=C.map(S=>({url:S.image,assetType:S.assetType||"Real Estate",tokenId:S.id}));if(Cm.preloadImages(P).catch(S=>{console.warn(" Image preloading failed:",S)}),C.length>0){console.log(" Caching fresh contract data from AssetTokenSelector...");const S=C.map(A=>{var F;return{tokenId:A.id,name:A.name,description:A.description,image:A.image,price:pr(((F=A.marketplacePrice)==null?void 0:F.toString())||"0").toString(),amount:A.totalSupply,totalSupply:A.totalSupply,seller:"",metadataURI:"",metadata:A.metadata,attributes:A.attributes,type:A.assetType,category:A.assetType}});Qt.cacheMarketplaceListings(S),console.log(` Cached ${S.length} marketplace listings from AssetTokenSelector fresh fetch`)}}catch(j){console.error("Error loading tokens with cache:",j);try{const P=await new f2(s,r).fetchEnhancedMarketplaceListings(i);if(l(P),P.length>0){console.log(" Caching fallback contract data from AssetTokenSelector...");const S=P.map(A=>{var F;return{tokenId:A.id,name:A.name,description:A.description,image:A.image,price:pr(((F=A.marketplacePrice)==null?void 0:F.toString())||"0").toString(),amount:A.totalSupply,totalSupply:A.totalSupply,seller:"",metadataURI:"",metadata:A.metadata,attributes:A.attributes,type:A.assetType,category:A.assetType}});Qt.cacheMarketplaceListings(S),console.log(` Cached ${S.length} marketplace listings from AssetTokenSelector fallback fetch`)}}catch(C){console.error("Fallback token loading also failed:",C)}}},[s,r,i]);y.useEffect(()=>{(async()=>{if(s)try{h(!0),console.log(" AssetTokenSelector: Starting token fetch process..."),console.log(" AssetTokenSelector: Checking marketplace cache...");const j=Qt.getCachedMarketplaceListings();console.log(" AssetTokenSelector: Cache check result:",{hasCachedData:!!j,cachedCount:(j==null?void 0:j.length)||0,cacheInstance:!!Qt}),!j||j.length===0?(console.log(" AssetTokenSelector: No cache found, forcing fresh fetch..."),await L(!0)):(console.log(" AssetTokenSelector: Using existing cache..."),await L(),setTimeout(async()=>{o.length===0&&!u&&(console.log(" AssetTokenSelector: No tokens loaded from cache, forcing refresh..."),await L(!0))},2e3))}catch(j){console.error(" AssetTokenSelector: Error fetching enhanced tokens:",j)}finally{h(!1)}})()},[s,r,i,L]);const U=async()=>{N(!0);try{await L(!0)}catch(g){console.error("Error refreshing tokens:",g)}finally{N(!1)}};y.useEffect(()=>{let g=o;f&&(g=g.filter(j=>j.name.toLowerCase().includes(f.toLowerCase())||j.location.toLowerCase().includes(f.toLowerCase())||j.description.toLowerCase().includes(f.toLowerCase())||j.id===f)),x!=="all"&&(g=g.filter(j=>j.assetType===x)),n&&(g=g.filter(j=>j.userBalance>0)),console.log(` AssetTokenSelector: Filtered ${g.length} tokens from ${o.length} total (search: "${f}", type: "${x}", ownedOnly: ${n})`),d(g)},[o,f,x,n]);const z=Array.from(new Set(o.map(g=>g.assetType))),B=g=>{switch(g){case"Real Estate":return a.jsx(Nc,{className:"w-4 h-4"});case"Precious Metals":return a.jsx(sc,{className:"w-4 h-4"});case"Collectibles":return a.jsx(q7,{className:"w-4 h-4"});case"Art":return a.jsx(nV,{className:"w-4 h-4"});case"Carbon Credits":return a.jsx(AM,{className:"w-4 h-4"});default:return a.jsx(Nc,{className:"w-4 h-4"})}},D=g=>{const j=o.filter(P=>P.assetType===g),C=j.filter(P=>P.userBalance>0).length;return{total:j.length,owned:C}};return u?a.jsx(fe,{className:"bg-white border-gray-200 shadow-sm",children:a.jsx(pe,{className:"p-8",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx(hN,{className:"w-6 h-6 animate-spin mr-2 text-blue-600"}),a.jsx("span",{className:"text-gray-700",children:"Loading enhanced asset information..."})]})})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs(fe,{className:"bg-white border-gray-200 shadow-sm",children:[a.jsx(ot,{children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs(lt,{className:"flex items-center gap-2 text-gray-900",children:[a.jsx(Qg,{className:"w-5 h-5"}),"Asset Selection & Filtering"]}),a.jsxs(Z,{variant:"outline",size:"sm",onClick:U,disabled:v,className:"flex items-center gap-2 border-gray-300 text-gray-700 hover:bg-gray-50",children:[a.jsx(Pn,{className:`w-4 h-4 ${v?"animate-spin":""}`}),"Refresh"]})]})}),a.jsxs(pe,{children:[a.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(ux,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),a.jsx(Et,{placeholder:"Search by name, location, or token ID...",value:f,onChange:g=>m(g.target.value),className:"pl-10 bg-white border-gray-300 text-gray-900 placeholder-gray-500"})]})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Z,{variant:w==="grid"?"default":"outline",size:"sm",onClick:()=>b("grid"),className:w==="grid"?"bg-blue-600 hover:bg-blue-700 text-white":"border-gray-300 text-gray-700 hover:bg-gray-50",children:a.jsx(K7,{className:"w-4 h-4"})}),a.jsx(Z,{variant:w==="list"?"default":"outline",size:"sm",onClick:()=>b("list"),className:w==="list"?"bg-blue-600 hover:bg-blue-700 text-white":"border-gray-300 text-gray-700 hover:bg-gray-50",children:a.jsx(J7,{className:"w-4 h-4"})})]})]}),a.jsx(ba,{value:x,onValueChange:p,children:a.jsxs(wa,{className:"grid w-full grid-cols-6 bg-gray-100 border-gray-200",children:[a.jsxs(tn,{value:"all",className:"flex items-center gap-2 data-[state=active]:bg-blue-600 data-[state=active]:text-white text-gray-700",children:["All Assets (",o.length,")"]}),z.map(g=>{const j=D(g);return a.jsxs(tn,{value:g,className:"flex items-center gap-2 data-[state=active]:bg-blue-600 data-[state=active]:text-white text-gray-700",children:[B(g),a.jsx("span",{className:"hidden sm:inline",children:g.split(" ")[0]}),a.jsx(Ie,{variant:"secondary",className:"text-xs bg-gray-200 text-gray-700 border-gray-300",children:j.total})]},g)})]})})]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("span",{className:"text-sm text-gray-600",children:["Showing ",c.length," of ",o.length," assets"]}),n&&a.jsx(Ie,{variant:"outline",className:"text-xs border-blue-200 text-blue-700 bg-blue-50",children:"Owned Assets Only"})]}),a.jsxs("div",{className:"text-sm text-gray-600",children:["You own ",o.filter(g=>g.userBalance>0).length," assets"]})]}),c.length===0?a.jsx(fe,{className:"bg-white border-gray-200 shadow-sm",children:a.jsx(pe,{className:"p-8 text-center",children:a.jsxs("div",{className:"text-gray-700",children:[a.jsx(Qg,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),a.jsx("h3",{className:"text-lg font-medium mb-2 text-gray-900",children:"No assets found"}),a.jsx("p",{className:"text-sm text-gray-600",children:f?`No assets match your search "${f}"`:x!=="all"?`No ${x} assets found`:"No assets available"})]})})}):a.jsx("div",{className:w==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-4",children:c.map(g=>a.jsx(w0e,{token:g,isSelected:t===g.id,onSelect:()=>e(g),compact:w==="list",showTradeButton:!1},g.id))})]})};class oB{constructor(e,n,s){Ue(this,"provider");Ue(this,"signer");Ue(this,"contractAddress");this.provider=e,this.contractAddress=n,this.signer=s}getContract(e=!1){return new qe(this.contractAddress,Jf,e&&this.signer?this.signer:this.provider)}async createSellOrder(e,n,s){if(!this.signer)throw new Error("Signer required");const r=this.getContract(!0),i=pr(s);return await r.createSellOrder(e,n,i)}async createBuyOrder(e,n,s){if(!this.signer)throw new Error("Signer required");const r=this.getContract(!0),i=pr(s),o=i.mul(n);return await r.createBuyOrder(e,n,i,{value:o})}async fillOrder(e,n,s){if(!this.signer)throw new Error("Signer required");const r=this.getContract(!0);if(s.isBuyOrder)return await r.fillOrder(e,n);{const i=pr(s.pricePerTokenU2U.toString()).mul(n),o=i.div(100),l=i.add(o);return await r.fillOrder(e,n,{value:l})}}async getOrderBook(e){const n=this.getContract(),[s,r]=await n.getActiveOrders(e),i=[],o=[];for(const l of s)try{const c=await n.activeOrders(l);c.isActive&&!c.isBuyOrder&&i.push({orderId:l.toString(),maker:c.maker,tokenId:c.tokenId.toString(),amount:c.amount.toNumber(),pricePerTokenU2U:parseFloat(De(c.pricePerTokenU2U)),isBuyOrder:c.isBuyOrder,isActive:c.isActive,isFilled:c.isFilled,timestamp:c.timestamp.toNumber(),expiryTimestamp:c.expiryTimestamp.toNumber()})}catch(c){console.warn(`Error fetching sell order ${l}:`,c)}for(const l of r)try{const c=await n.activeOrders(l);c.isActive&&c.isBuyOrder&&o.push({orderId:l.toString(),maker:c.maker,tokenId:c.tokenId.toString(),amount:c.amount.toNumber(),pricePerTokenU2U:parseFloat(De(c.pricePerTokenU2U)),isBuyOrder:c.isBuyOrder,isActive:c.isActive,isFilled:c.isFilled,timestamp:c.timestamp.toNumber(),expiryTimestamp:c.expiryTimestamp.toNumber()})}catch(c){console.warn(`Error fetching buy order ${l}:`,c)}return i.sort((l,c)=>l.pricePerTokenU2U-c.pricePerTokenU2U),o.sort((l,c)=>c.pricePerTokenU2U-l.pricePerTokenU2U),{sellOrders:i,buyOrders:o}}async cancelOrder(e){if(!this.signer)throw new Error("Signer required");return await this.getContract(!0).cancelOrder(e)}async getEscrowBalances(e){const s=await this.getContract().getEscrowedU2U(e);return{u2u:parseFloat(De(s)),tokens:{}}}async getUserOrders(e){return(await this.getContract().getUserOrders(e)).map(r=>r.toString())}async getBestAskPrice(e){const n=this.getContract(),[s,r]=await n.getBestAskPrice(e);return{price:parseFloat(De(s)),amount:r.toNumber()}}async getBestBidPrice(e){const n=this.getContract(),[s,r]=await n.getBestBidPrice(e);return{price:parseFloat(De(s)),amount:r.toNumber()}}async getOrderDetails(e){try{const s=await this.getContract().activeOrders(e);return{orderId:e,maker:s.maker,tokenId:s.tokenId.toString(),amount:s.amount.toNumber(),pricePerTokenU2U:parseFloat(De(s.pricePerTokenU2U)),isBuyOrder:s.isBuyOrder,isActive:s.isActive,isFilled:s.isFilled,timestamp:s.timestamp.toNumber(),expiryTimestamp:s.expiryTimestamp.toNumber()}}catch(n){return console.error(`Error fetching order ${e}:`,n),null}}async checkApproval(e,n){return await new qe(n,["function isApprovedForAll(address owner, address operator) external view returns (bool)"],this.provider).isApprovedForAll(e,this.contractAddress)}async approveContract(e){if(!this.signer)throw new Error("Signer required");return await new qe(e,["function setApprovalForAll(address operator, bool approved) external"],this.signer).setApprovalForAll(this.contractAddress,!0)}}const k0e=t=>{const{provider:e,signer:n,address:s}=xn(),[r,i]=y.useState(null),[o,l]=y.useState(null),[c,d]=y.useState([]),[u,h]=y.useState(!1),[f,m]=y.useState(!1),[x,p]=y.useState(null);y.useEffect(()=>{if(e&&Jn){const $=new oB(e,Jn,n);i($)}},[e,n]);const w=y.useCallback(async()=>{if(!(!r||!t)){m(!0),p(null);try{const $=await r.getOrderBook(t);if(l($),s){const L=[...$.sellOrders,...$.buyOrders].filter(U=>U.maker.toLowerCase()===s.toLowerCase());d(L)}}catch($){console.error("Error loading order book:",$),p("Failed to load order book data")}finally{m(!1)}}},[r,t,s]),b=y.useCallback(async()=>{if(!(!r||!s))try{const $=await r.checkApproval(s,Ts);h($)}catch($){console.error("Error checking approval:",$)}},[r,s]);y.useEffect(()=>{if(r&&t){w(),b();const $=setInterval(()=>{w()},1e4);return()=>clearInterval($)}},[r,t,w,b]);const v=y.useCallback(async()=>{if(!r)throw new Error("Service not initialized");m(!0);try{await(await r.approveContract(Ts)).wait(),h(!0),await w()}catch($){throw console.error("Error approving contract:",$),$}finally{m(!1)}},[r,w]),N=y.useCallback(async($,M,L)=>{if(!r)throw new Error("Service not initialized");m(!0);try{if(s){const{dashboardCache:z}=await wt(async()=>{const{dashboardCache:S}=await Promise.resolve().then(()=>Br);return{dashboardCache:S}},void 0),B={hash:`pending_${Date.now()}`,blockNumber:0,timestamp:Date.now(),type:"sell",tokenId:$,amount:M,price:pr(L).toString(),from:s,to:Jn,gasUsed:"0",gasPrice:"0",status:"pending",assetName:`Asset #${$} (Sell Order)`,platformFee:"0"},D=z.getCachedTransactionHistory(s)||[],g=[B,...D];z.cacheTransactionHistory(g,s),console.log(" Added pending sell order to transaction cache");const j={id:`sell_order_pending_${Date.now()}`,timestamp:Date.now(),type:"order_created",title:"Sell Order Creating...",message:`Creating sell order for ${M} tokens of Asset #${$} at ${L} U2U each. Waiting for blockchain confirmation...`,status:"pending",priority:"medium",read:!1,orderData:{orderId:`pending_${Date.now()}`,tokenId:$,assetName:`Asset #${$}`,amount:M,price:L,orderType:"sell"}},C=z.getCachedNotifications(s)||[],P=[j,...C];z.cacheNotifications(P,s),console.log(" Added pending sell order notification")}const U=await r.createSellOrder($,M,L);if(s){const{dashboardCache:z}=await wt(async()=>{const{dashboardCache:g}=await Promise.resolve().then(()=>Br);return{dashboardCache:g}},void 0),D=(z.getCachedTransactionHistory(s)||[]).map(g=>g.hash.startsWith("pending_")&&g.tokenId===$&&g.type==="sell"?{...g,hash:U.hash,status:"pending"}:g);z.cacheTransactionHistory(D,s),console.log(" Updated pending sell order with real tx hash:",U.hash)}if(await U.wait(),s){const{dashboardCache:z}=await wt(async()=>{const{dashboardCache:g}=await Promise.resolve().then(()=>Br);return{dashboardCache:g}},void 0),D=(z.getCachedNotifications(s)||[]).map(g=>{var j;return g.id.includes("sell_order_pending_")&&((j=g.orderData)==null?void 0:j.tokenId)===$?{...g,id:`sell_order_confirmed_${U.hash}`,title:"Sell Order Created Successfully",message:`Your sell order for ${M} tokens of Asset #${$} at ${L} U2U each is now active in the OrderBook.`,status:"completed",priority:"high",transactionHash:U.hash,orderData:{...g.orderData,orderId:U.hash}}:g});z.cacheNotifications(D,s),console.log(" Updated sell order notification with success status")}await w()}catch(U){if(console.error("Error creating sell order:",U),s){const{dashboardCache:z}=await wt(async()=>{const{dashboardCache:C}=await Promise.resolve().then(()=>Br);return{dashboardCache:C}},void 0),D=(z.getCachedTransactionHistory(s)||[]).filter(C=>!(C.hash.startsWith("pending_")&&C.tokenId===$&&C.type==="sell"));z.cacheTransactionHistory(D,s);const j=(z.getCachedNotifications(s)||[]).map(C=>{var P;return C.id.includes("sell_order_pending_")&&((P=C.orderData)==null?void 0:P.tokenId)===$?{...C,title:"Sell Order Failed",message:`Failed to create sell order for Asset #${$}. Please try again.`,status:"failed",priority:"high"}:C});z.cacheNotifications(j,s),console.log(" Removed failed pending sell order from cache and updated notification")}throw U}finally{m(!1)}},[r,w,s]),E=y.useCallback(async($,M,L)=>{if(!r)throw new Error("Service not initialized");m(!0);try{if(s){const{dashboardCache:z}=await wt(async()=>{const{dashboardCache:S}=await Promise.resolve().then(()=>Br);return{dashboardCache:S}},void 0),B={hash:`pending_${Date.now()}`,blockNumber:0,timestamp:Date.now(),type:"buy",tokenId:$,amount:M,price:pr(L).toString(),from:s,to:Jn,gasUsed:"0",gasPrice:"0",status:"pending",assetName:`Asset #${$} (Buy Order)`,platformFee:"0"},D=z.getCachedTransactionHistory(s)||[],g=[B,...D];z.cacheTransactionHistory(g,s),console.log(" Added pending buy order to transaction cache");const j={id:`buy_order_pending_${Date.now()}`,timestamp:Date.now(),type:"order_created",title:"Buy Order Creating...",message:`Creating buy order for ${M} tokens of Asset #${$} at ${L} U2U each. Funds will be escrowed upon confirmation...`,status:"pending",priority:"medium",read:!1,orderData:{orderId:`pending_${Date.now()}`,tokenId:$,assetName:`Asset #${$}`,amount:M,price:L,orderType:"buy"}},C=z.getCachedNotifications(s)||[],P=[j,...C];z.cacheNotifications(P,s),console.log(" Added pending buy order notification")}const U=await r.createBuyOrder($,M,L);if(s){const{dashboardCache:z}=await wt(async()=>{const{dashboardCache:g}=await Promise.resolve().then(()=>Br);return{dashboardCache:g}},void 0),D=(z.getCachedTransactionHistory(s)||[]).map(g=>g.hash.startsWith("pending_")&&g.tokenId===$&&g.type==="buy"?{...g,hash:U.hash,status:"pending"}:g);z.cacheTransactionHistory(D,s),console.log(" Updated pending buy order with real tx hash:",U.hash)}if(await U.wait(),s){const{dashboardCache:z}=await wt(async()=>{const{dashboardCache:g}=await Promise.resolve().then(()=>Br);return{dashboardCache:g}},void 0),D=(z.getCachedNotifications(s)||[]).map(g=>{var j;return g.id.includes("buy_order_pending_")&&((j=g.orderData)==null?void 0:j.tokenId)===$?{...g,id:`buy_order_confirmed_${U.hash}`,title:"Buy Order Created & Funds Escrowed",message:`Your buy order for ${M} tokens of Asset #${$} at ${L} U2U each is now active. ${(M*parseFloat(L)).toFixed(2)} U2U has been escrowed.`,status:"completed",priority:"high",transactionHash:U.hash,orderData:{...g.orderData,orderId:U.hash,escrowAmount:(M*parseFloat(L)).toFixed(2)}}:g});z.cacheNotifications(D,s),console.log(" Updated buy order notification with success status")}await w()}catch(U){if(console.error("Error creating buy order:",U),s){const{dashboardCache:z}=await wt(async()=>{const{dashboardCache:C}=await Promise.resolve().then(()=>Br);return{dashboardCache:C}},void 0),D=(z.getCachedTransactionHistory(s)||[]).filter(C=>!(C.hash.startsWith("pending_")&&C.tokenId===$&&C.type==="buy"));z.cacheTransactionHistory(D,s);const j=(z.getCachedNotifications(s)||[]).map(C=>{var P;return C.id.includes("buy_order_pending_")&&((P=C.orderData)==null?void 0:P.tokenId)===$?{...C,title:"Buy Order Failed",message:`Failed to create sell order for Asset #${$}. Please try again.`,status:"failed",priority:"high"}:C});z.cacheNotifications(j,s),console.log(" Removed failed pending buy order from cache and updated notification")}throw U}finally{m(!1)}},[r,w,s]),T=y.useCallback(async($,M,L)=>{if(!r)throw new Error("Service not initialized");m(!0);try{if(s){const{dashboardCache:z}=await wt(async()=>{const{dashboardCache:S}=await Promise.resolve().then(()=>Br);return{dashboardCache:S}},void 0),B={hash:`pending_fill_${Date.now()}`,blockNumber:0,timestamp:Date.now(),type:L.isBuyOrder?"sell":"buy",tokenId:L.tokenId,amount:M,price:pr(L.pricePerTokenU2U.toString()).toString(),from:s,to:L.maker,gasUsed:"0",gasPrice:"0",status:"pending",assetName:`Asset #${L.tokenId} (P2P Trade)`,platformFee:"0"},D=z.getCachedTransactionHistory(s)||[],g=[B,...D];z.cacheTransactionHistory(g,s);const j={id:`order_fill_pending_${Date.now()}`,timestamp:Date.now(),type:"order_filled",title:"Executing Trade...",message:`Executing ${L.isBuyOrder?"sell":"buy"} trade for ${M} tokens of Asset #${L.tokenId}. Waiting for confirmation...`,status:"pending",priority:"high",read:!1,orderData:{orderId:$,tokenId:L.tokenId,assetName:`Asset #${L.tokenId}`,amount:M,price:L.pricePerTokenU2U.toString(),orderType:L.isBuyOrder?"sell":"buy"}},C=z.getCachedNotifications(s)||[],P=[j,...C];z.cacheNotifications(P,s),console.log(" Added pending order fill transaction and notification")}const U=await r.fillOrder($,M,L);if(s){const{dashboardCache:z}=await wt(async()=>{const{dashboardCache:g}=await Promise.resolve().then(()=>Br);return{dashboardCache:g}},void 0),D=(z.getCachedTransactionHistory(s)||[]).map(g=>g.hash.startsWith("pending_fill_")&&g.tokenId===L.tokenId?{...g,hash:U.hash,status:"pending"}:g);z.cacheTransactionHistory(D,s)}if(await U.wait(),s){const{dashboardCache:z}=await wt(async()=>{const{dashboardCache:g}=await Promise.resolve().then(()=>Br);return{dashboardCache:g}},void 0),D=(z.getCachedNotifications(s)||[]).map(g=>{var j;return g.id.includes("order_fill_pending_")&&((j=g.orderData)==null?void 0:j.tokenId)===L.tokenId?{...g,id:`order_filled_success_${U.hash}`,title:"Trade Executed Successfully",message:`Successfully ${L.isBuyOrder?"sold":"bought"} ${M} tokens of Asset #${L.tokenId} for ${(M*L.pricePerTokenU2U).toFixed(2)} U2U. Trade completed!`,status:"completed",transactionHash:U.hash}:g});z.cacheNotifications(D,s),console.log(" Updated order fill notification with success status")}await w()}catch(U){if(console.error("Error filling order:",U),s){const{dashboardCache:z}=await wt(async()=>{const{dashboardCache:C}=await Promise.resolve().then(()=>Br);return{dashboardCache:C}},void 0),D=(z.getCachedTransactionHistory(s)||[]).filter(C=>!C.hash.startsWith("pending_fill_"));z.cacheTransactionHistory(D,s);const j=(z.getCachedNotifications(s)||[]).map(C=>C.id.includes("order_fill_pending_")?{...C,title:"Trade Failed",message:`Failed to execute trade for Asset #${L.tokenId}. Please try again.`,status:"failed"}:C);z.cacheNotifications(j,s),console.log(" Updated order fill notification with failure status")}throw U}finally{m(!1)}},[r,w,s]),R=y.useCallback(async $=>{if(!r)throw new Error("Service not initialized");m(!0);try{await(await r.cancelOrder($)).wait(),await w()}catch(M){throw console.error("Error cancelling order:",M),M}finally{m(!1)}},[r,w]);return{orderBookData:o,loading:f,error:x,refreshOrderBook:w,isApproved:u,approveContract:v,createSellOrder:N,createBuyOrder:E,fillOrder:T,cancelOrder:R,userOrders:c}},j0e=({selectedToken:t,buyOrders:e,sellOrders:n})=>{const[s,r]=y.useState("24h"),[i,o]=y.useState([]),[l,c]=y.useState(()=>{const B=t.marketplacePrice||0;return B>=1e15?B/1e18:B}),[d,u]=y.useState(0),[h,f]=y.useState([]),[m,x]=y.useState(!1),{provider:p,signer:w}=xn(),b=Pe.useMemo(()=>p&&w?new oB(p,Jn,w):null,[p,w]),v=B=>B>=1e9?(B/1e9).toFixed(2)+"B":B>=1e6?(B/1e6).toFixed(2)+"M":B>=1e3?(B/1e3).toFixed(2)+"K":B.toFixed(2),N=B=>isNaN(B)||B===0?"0":v(B),E=B=>{if(isNaN(B)||B===0)return"0.00";const D=B;return D>=1?D.toFixed(2):D>=.01?D.toFixed(4):D>0?D.toFixed(6):"0.00"},T=async()=>{if(!p||!t.id){console.log(" Missing provider or token ID:",{provider:!!p,tokenId:t.id});return}x(!0);try{console.log(" === STARTING TRANSACTION FETCH ==="),console.log(" Token ID:",t.id),console.log(" Token Symbol:",t.symbol),console.log(" Provider:",p.connection.url),console.log(" OrderBookService available:",!!b);const B=[];try{const D=new qe(hn,Yr,p);console.log(` Searching marketplace events for token: ${t.id}`),console.log(` Marketplace contract: ${hn}`);const g=["OrderFilled","TokenPurchased","TokenSold","Purchase"];for(const j of g)try{const C=D.filters[j]?D.filters[j]():null;if(C){const P=await D.queryFilter(C,-5e3);console.log(` Found ${P.length} total ${j} events`);const S=P.filter(A=>{if(!A.args)return!1;const F=A.args.tokenId||A.args._tokenId||A.args.id;return F&&F.toString()===t.id.toString()});console.log(` Found ${S.length} ${j} events for token ${t.id}`);for(const A of S)if(A.args){const F=await p.getBlock(A.blockNumber);let _=0,k=1;A.args.totalPrice&&A.args.amount?(_=parseFloat(De(A.args.totalPrice)),k=parseFloat(A.args.amount.toString())):A.args.price&&(_=parseFloat(De(A.args.price)),k=A.args.amount?parseFloat(A.args.amount.toString()):1),_>0&&B.push({timestamp:F.timestamp*1e3,price:k>0?_/k:_,amount:k,type:"sell",txHash:A.transactionHash})}}}catch(C){console.log(` Event ${j} not found or error:`,C.message)}}catch(D){console.warn(" Could not fetch marketplace events:",D)}try{const D=new qe(Jn,Jf,p);console.log(` Searching OrderFilled events for token: ${t.id}`),console.log(` OrderBook contract: ${Jn}`);try{console.log(" Looking for OrderFilled events...");const j=D.filters.OrderFilled(),C=[-2e4,-5e4,-1e5];let P=[];for(const S of C){console.log(` Searching last ${Math.abs(S)} blocks for OrderFilled events...`);try{const A=await D.queryFilter(j,S);if(console.log(` Found ${A.length} total OrderFilled events in last ${Math.abs(S)} blocks`),A.length>0){P=A;break}}catch(A){console.log(` Block range ${S} failed:`,A.message)}}if(P.length===0){console.log(" No events in recent blocks, searching for order creation events to find trading period...");try{const S=D.filters.SellOrderCreated?D.filters.SellOrderCreated():null,A=D.filters.BuyOrderCreated?D.filters.BuyOrderCreated():null;let F=null;if(S||A){const _=S?await D.queryFilter(S,-1e5):[],k=A?await D.queryFilter(A,-1e5):[],O=[..._.filter(q=>q.args&&q.args.tokenId&&q.args.tokenId.toString()===t.id),...k.filter(q=>q.args&&q.args.tokenId&&q.args.tokenId.toString()===t.id)];O.length>0&&(F=Math.min(...O.map(q=>q.blockNumber)),console.log(` Found trading activity starting from block ${F}`),P=await D.queryFilter(j,F),console.log(` Found ${P.length} OrderFilled events from trading start (block ${F})`))}if(P.length===0){console.log(" Last resort: searching maximum block range...");const _=await p.getBlockNumber(),k=Math.max(0,_-1e6);P=await D.queryFilter(j,k),console.log(` Found ${P.length} total OrderFilled events from block ${k} to ${_}`)}}catch(S){console.log(" Extended search failed:",S.message)}}P.length===0&&(console.log(" No OrderFilled events found. This might mean:"),console.log("   - No trades have happened recently (last 5000 blocks)"),console.log("   - OrderFilled event name is different"),console.log("   - Contract address is wrong"));for(const S of P)if(S.args)try{const{orderId:A,taker:F,amount:_,totalPrice:k}=S.args;console.log(" Processing OrderFilled Event:"),console.log(`   - OrderId: ${A}`),console.log(`   - Taker: ${F}`),console.log(`   - Amount: ${_}`),console.log(`   - TotalPrice: ${k}`),console.log(`   - Block: ${S.blockNumber}`),console.log(`   - TxHash: ${S.transactionHash}`);let O=null;if(b)try{console.log(` Looking up order details for orderId ${A}...`),O=await b.getOrderDetails(A.toString()),O?(console.log(" Order details found:"),console.log(`   - TokenId: ${O.tokenId}`),console.log(`   - Maker: ${O.maker}`),console.log(`   - IsBuyOrder: ${O.isBuyOrder}`),console.log(`   - Amount: ${O.amount}`),console.log(`   - PricePerToken: ${O.pricePerTokenU2U}`)):console.log(` Order details returned null for orderId ${A}`)}catch(q){console.warn(` Could not lookup order details for orderId ${A}:`,q);continue}else{console.warn(" OrderBookService not available for order lookup");continue}if(O&&O.tokenId===t.id){const q=await p.getBlock(S.blockNumber),I=parseFloat(De(k))/parseFloat(_.toString()),V=parseFloat(_.toString());console.log(" FOUND MATCHING TRADE!"),console.log(`   - TokenId Match: ${O.tokenId} === ${t.id}`),console.log(`   - Price per token: ${I} U2U`),console.log(`   - Trade amount: ${V}`),console.log(`   - Trade type: ${O.isBuyOrder?"buy":"sell"}`),console.log(`   - Block timestamp: ${q.timestamp}`),console.log(`   - Transaction hash: ${S.transactionHash}`),B.push({timestamp:q.timestamp*1e3,price:I,amount:V,type:O.isBuyOrder?"buy":"sell",txHash:S.transactionHash})}else O?(console.log(" TOKEN ID MISMATCH:"),console.log(`   - Order tokenId: "${O.tokenId}" (type: ${typeof O.tokenId})`),console.log(`   - Looking for: "${t.id}" (type: ${typeof t.id})`),console.log(`   - String comparison: ${O.tokenId} === ${t.id} = ${O.tokenId===t.id}`),console.log(`   - Loose comparison: ${O.tokenId} == ${t.id} = ${O.tokenId==t.id}`)):console.log(` Skipping OrderFilled ${A} - could not get order details`)}catch(A){console.warn(" Error processing OrderFilled event:",A)}}catch(j){console.warn(" Could not fetch OrderFilled events:",j)}const g=["OrderExecuted","TradeExecuted","OrderMatched"];for(const j of g)try{const C=D.filters[j]?D.filters[j]():null;if(C){const P=await D.queryFilter(C,-5e3);console.log(` Found ${P.length} total ${j} events (fallback)`);const S=P.filter(A=>{if(!A.args)return!1;const F=A.args.tokenId||A.args._tokenId||A.args.id;return F&&F.toString()===t.id.toString()});console.log(` Found ${S.length} ${j} events for token ${t.id}`);for(const A of S)if(A.args){const F=await p.getBlock(A.blockNumber);let _=0,k=1,O=!1;A.args.pricePerToken?_=parseFloat(De(A.args.pricePerToken)):A.args.price?_=parseFloat(De(A.args.price)):A.args.totalPrice&&A.args.amount&&(_=parseFloat(De(A.args.totalPrice))/parseFloat(A.args.amount.toString())),A.args.amount&&(k=parseFloat(A.args.amount.toString())),A.args.isBuyOrder!==void 0?O=A.args.isBuyOrder:A.args.orderType&&(O=A.args.orderType===1),_>0&&B.push({timestamp:F.timestamp*1e3,price:_,amount:k,type:O?"buy":"sell",txHash:A.transactionHash})}}}catch(C){console.log(` OrderBook event ${j} not found:`,C.message)}}catch(D){console.warn(" Could not fetch orderbook events:",D)}if(B.length===0){console.log(" No specific events found, trying broader transaction search...");try{const D=await p.getBlockNumber(),g=Math.max(0,D-1e3);console.log(` Scanning blocks ${g} to ${D} for transactions...`);const j=[hn,Jn];for(const C of j)try{for(let P=D;P>g&&P>=0;P-=100){const S=await p.getBlockWithTransactions(P);for(const A of S.transactions)A.to===C&&A.data.includes(t.id.replace("0x",""))&&(console.log(` Found potential transaction: ${A.hash}`),B.push({timestamp:S.timestamp*1e3,price:parseFloat(De(A.value||0)),amount:1,type:"sell",txHash:A.hash}));if(B.length>0)break}}catch(P){console.log(" Block scanning error:",P.message)}}catch(D){console.log(" Broad search failed:",D.message)}}if(B.sort((D,g)=>D.timestamp-g.timestamp),f(B),console.log(" === TRANSACTION FETCH COMPLETE ==="),console.log(" Final Results:"),console.log(`   - Total transactions found: ${B.length}`),console.log(`   - Target token ID: ${t.id}`),console.log("   - Transactions:",B),B.length===0){console.log(" NO TRANSACTIONS FOUND - Possible causes:"),console.log("   1. No trades have happened for this token"),console.log("   2. Token ID format mismatch (string vs number)"),console.log("   3. OrderFilled events not being emitted"),console.log("   4. Order lookup service failing"),console.log("   5. Contract addresses incorrect"),console.log(" Falling back to mock transaction data for chart visualization..."),R();return}else console.log(" SUCCESS - Found real blockchain transactions!")}catch(B){console.error(" Error fetching real blockchain transactions:",B),console.log(" Falling back to mock transaction data due to error..."),R()}finally{x(!1)}},R=()=>{const B=[],D=Date.now();[...e.slice(0,3),...n.slice(0,3)].forEach((g,j)=>{const C=D-j*36e5;let P=t.marketplacePrice||100;P>=1e15&&(P=P/1e18),g.pricePerTokenU2U&&(P=g.pricePerTokenU2U>1e4?g.pricePerTokenU2U/1e6*100:g.pricePerTokenU2U);const S=.95+Math.random()*.1,A=Math.max(.01,P*S);B.push({timestamp:C+Math.random()*18e5,price:A,amount:Math.min(g.amount||1,100),type:g.isBuyOrder?"buy":"sell",txHash:`0x${Math.random().toString(16).substr(2,64)}`})});for(let g=0;g<20;g++){let j=t.marketplacePrice||100;j>=1e15&&(j=j/1e18);const C=j*(.95+Math.random()*.1);B.push({timestamp:D-g*18e5,price:C,amount:1+Math.random()*5,type:Math.random()>.5?"buy":"sell",txHash:`0x${Math.random().toString(16).substr(2,64)}`})}B.sort((g,j)=>g.timestamp-j.timestamp),f(B)},$=()=>{if(h.length===0)return;const B=h[h.length-1];if(c(B.price),h.length>1){const D=h[0],g=(B.price-D.price)/D.price*100;u(g)}console.log(` Price updated from real trades: ${B.price} Flow`)},M=()=>{if(h.length===0)return console.log(" No real transactions found - chart will be empty until trades happen"),[];console.log(` Generating price history from ${h.length} real transactions`);const B=[...h].sort((A,F)=>A.timestamp-F.timestamp),D=[];B.forEach(A=>{D.push({timestamp:A.timestamp,price:A.price,type:A.type})});const g=[],j=5*60*1e3,C=Date.now(),P=Math.min(...B.map(A=>A.timestamp));for(let A=P;A<=C;A+=j){const F=B.filter(_=>_.timestamp<=A).slice(-1)[0];F&&g.push({timestamp:A,price:F.price,type:"main"})}const S=[...D,...g];return console.log(` Generated ${S.length} price points (${D.length} transactions + ${g.length} main line)`),S};y.useEffect(()=>{const B=M();o(B),console.log(` Chart updated with ${B.length} price points (${h.length} real transactions)`)},[s,t.id,h]),y.useEffect(()=>{$()},[h]);const L=async()=>{if(!b){console.log(" OrderBook service not available");return}try{console.log(" === TESTING ORDERBOOK SERVICE ===");const B=await b.getOrderBook(t.id);if(console.log(` Current orders: ${B.sellOrders.length} sell, ${B.buyOrders.length} buy`),B.sellOrders.length>0||B.buyOrders.length>0){console.log(" Active orders found - this suggests trades should have happened!"),console.log(" Since orders exist, we should look for filled/cancelled orders too");const D=[...B.sellOrders,...B.buyOrders];for(let g=0;g<Math.min(3,D.length);g++){const j=D[g];console.log(` Order ${j.orderId} details:`,j)}console.log(" SUGGESTION: Look for OrderCreated events to find when trading started"),console.log(" Then search for OrderFilled events from that time period");try{const g=new qe(Jn,Jf,p);console.log(" Searching for SellOrderCreated and BuyOrderCreated events...");const j=g.filters.SellOrderCreated?g.filters.SellOrderCreated():null,C=g.filters.BuyOrderCreated?g.filters.BuyOrderCreated():null;if(j||C){const P=j?await g.queryFilter(j,-1e5):[],S=C?await g.queryFilter(C,-1e5):[];console.log(` Found ${P.length} SellOrderCreated and ${S.length} BuyOrderCreated events`);const A=P.filter(_=>_.args&&_.args.tokenId&&_.args.tokenId.toString()===t.id),F=S.filter(_=>_.args&&_.args.tokenId&&_.args.tokenId.toString()===t.id);if(console.log(` Token-specific events: ${A.length} sell, ${F.length} buy`),A.length>0||F.length>0){const _=[...A,...F],k=Math.min(..._.map(q=>q.blockNumber)),O=Math.max(..._.map(q=>q.blockNumber));console.log(` Trading activity detected between blocks ${k} and ${O}`),console.log(" Should search for OrderFilled events in this range!"),window.tradingBlockRange={earliestBlock:k,latestBlock:O},console.log(" Block range saved to window.tradingBlockRange for manual search")}}}catch(g){console.log(" Could not search for order creation events:",g.message)}}else console.log(" No active orders found - this token might not have any trading activity")}catch(B){console.error(" OrderBook service test failed:",B)}};y.useEffect(()=>{T()},[t.id,p,e.length,n.length]);const U=()=>{if(m)return a.jsx("div",{className:"h-full flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Loading transaction data..."})]})});if(i.length===0)return a.jsx("div",{className:"h-full flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(In,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("h4",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No Trading Data"}),a.jsx("p",{className:"text-gray-500",children:"No executed transactions found for this token."}),a.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Chart will show real price movements when trades happen."})]})});const B=800,D=400,g=50,j=i.filter(H=>H.type==="main").sort((H,K)=>H.timestamp-K.timestamp),C=i.filter(H=>H.type==="buy").sort((H,K)=>H.timestamp-K.timestamp),P=i.filter(H=>H.type==="sell").sort((H,K)=>H.timestamp-K.timestamp);if(j.length===0&&C.length===0&&P.length===0)return a.jsx("div",{className:"h-full flex items-center justify-center",children:a.jsx("p",{className:"text-gray-500",children:"No price data available"})});const S=i.map(H=>H.price),A=Math.min(...S)*.95,F=Math.max(...S)*1.05,_=F-A||1,k=i.map(H=>H.timestamp),O=Math.min(...k),I=Math.max(...k)-O||1,V=(H,K)=>{const X=g+(K-O)/I*(B-g*2),ee=g+(F-H)/_*(D-g*2);return{x:X,y:ee}},G=H=>H.length===0?"":H.map(ee=>V(ee.price,ee.timestamp)).map((ee,ne)=>`${ne===0?"M":"L"} ${ee.x} ${ee.y}`).join(" ");return a.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-slate-50 to-slate-100 rounded-lg",children:a.jsxs("svg",{viewBox:`0 0 ${B} ${D}`,className:"w-full h-full max-h-96 drop-shadow-sm",preserveAspectRatio:"xMidYMid meet",children:[a.jsxs("defs",{children:[a.jsxs("linearGradient",{id:"mainGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[a.jsx("stop",{offset:"0%",style:{stopColor:"#3b82f6",stopOpacity:.8}}),a.jsx("stop",{offset:"100%",style:{stopColor:"#1e40af",stopOpacity:.9}})]}),a.jsxs("filter",{id:"glow",children:[a.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),a.jsxs("feMerge",{children:[a.jsx("feMergeNode",{in:"coloredBlur"}),a.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),a.jsx("rect",{width:B,height:D,fill:"url(#backgroundGradient)"}),Array.from({length:6}).map((H,K)=>{const X=g+K*(D-g*2)/5,ee=F-K*_/5;return a.jsxs("g",{children:[a.jsx("line",{x1:g,y1:X,x2:B-g,y2:X,stroke:"#e5e7eb",strokeWidth:"0.5",strokeDasharray:"2,2",opacity:"0.5"}),a.jsx("text",{x:g-10,y:X+3,fontSize:"10",fill:"#6b7280",textAnchor:"end",children:ee.toFixed(4)})]},K)}),Array.from({length:4}).map((H,K)=>{const X=g+K*(B-g*2)/3,ee=O+K*I/3,ne=new Date(ee).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return a.jsxs("g",{children:[a.jsx("line",{x1:X,y1:g,x2:X,y2:D-g,stroke:"#e5e7eb",strokeWidth:"0.5",strokeDasharray:"2,2",opacity:"0.3"}),a.jsx("text",{x:X,y:D-g+15,fontSize:"9",fill:"#6b7280",textAnchor:"middle",children:ne})]},`time-${K}`)}),j.length>1&&a.jsx("path",{d:G(j),stroke:"url(#mainGradient)",strokeWidth:"3",fill:"none",filter:"url(#glow)"}),C.length>1&&a.jsx("path",{d:G(C),stroke:"#10b981",strokeWidth:"2",fill:"none",strokeDasharray:"4,4",opacity:"0.7"}),P.length>1&&a.jsx("path",{d:G(P),stroke:"#ef4444",strokeWidth:"2",fill:"none",strokeDasharray:"4,4",opacity:"0.7"}),i.filter(H=>H.type!=="main").map((H,K)=>{const X=V(H.price,H.timestamp),ee=H.type==="buy"?"#10b981":"#ef4444";return a.jsx("g",{children:a.jsx("circle",{cx:X.x,cy:X.y,r:"4",fill:ee,stroke:"white",strokeWidth:"2",opacity:"0.8"})},`point-${K}`)}),h.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("line",{x1:g,y1:V(l,Date.now()).y,x2:B-g,y2:V(l,Date.now()).y,stroke:"#3b82f6",strokeWidth:"2",strokeDasharray:"8,4",opacity:"0.9"}),a.jsxs("text",{x:B-g+10,y:V(l,Date.now()).y+3,fontSize:"12",fill:"#3b82f6",fontWeight:"bold",children:[l.toFixed(4)," Flow"]})]}),a.jsxs("g",{transform:`translate(${g}, ${g-30})`,children:[a.jsx("line",{x1:"0",y1:"0",x2:"20",y2:"0",stroke:"url(#mainGradient)",strokeWidth:"3"}),a.jsx("text",{x:"25",y:"4",fontSize:"10",fill:"#374151",children:"Main Price"}),a.jsx("line",{x1:"100",y1:"0",x2:"120",y2:"0",stroke:"#10b981",strokeWidth:"2",strokeDasharray:"4,4"}),a.jsx("text",{x:"125",y:"4",fontSize:"10",fill:"#374151",children:"Buy Orders"}),a.jsx("line",{x1:"220",y1:"0",x2:"240",y2:"0",stroke:"#ef4444",strokeWidth:"2",strokeDasharray:"4,4"}),a.jsx("text",{x:"245",y:"4",fontSize:"10",fill:"#374151",children:"Sell Orders"})]})]})})},z=d>=0;return a.jsxs("div",{className:"w-full h-full bg-white rounded-lg border border-gray-200",children:[a.jsxs("div",{className:"p-4 border-b border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[t.symbol,"/Flow"]}),a.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[a.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[E(l>0?l:t.marketplacePrice||0)," Flow"]}),h.length>0&&a.jsxs(Ie,{variant:"secondary",className:"text-xs",children:["Live from ",h.length," trades"]}),a.jsxs("span",{className:`flex items-center text-sm font-medium ${z?"text-green-600":"text-red-600"}`,children:[z?a.jsx(In,{className:"w-4 h-4 mr-1"}):a.jsx(fN,{className:"w-4 h-4 mr-1"}),z?"+":"",d.toFixed(2),"% (",s,")"]})]})]}),a.jsx("div",{className:"flex bg-gray-100 rounded-lg p-1",children:["1h","24h","7d","30d"].map(B=>a.jsx("button",{onClick:()=>r(B),className:`px-3 py-1 text-xs font-medium rounded-md transition-all ${s===B?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-blue-600"}`,children:B},B))})]}),a.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs text-gray-500",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${h.length>0?"bg-green-500 animate-pulse":"bg-gray-400"}`}),h.length>0?a.jsxs("span",{children:["Live blockchain data  ",h.length," real transactions"]}):a.jsx("span",{children:"Waiting for real transactions  Static chart display"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:T,className:"text-blue-600 hover:text-blue-700 font-medium",disabled:m,children:m?"Searching...":"Refresh "}),a.jsx("button",{onClick:()=>{console.log(" === COMPREHENSIVE DEBUG INFO ==="),console.log(" Token Information:"),console.log("   - Token ID:",t.id,`(type: ${typeof t.id})`),console.log("   - Token Symbol:",t.symbol),console.log("   - Token Name:",t.name),console.log("   - Marketplace Price:",t.marketplacePrice),console.log(""),console.log(" Connection Status:"),console.log("   - Provider available:",!!p),console.log("   - Signer available:",!!w),console.log("   - OrderBookService available:",!!b),console.log(""),console.log(" Transaction Data:"),console.log("   - Real transactions count:",h.length),console.log("   - Price history count:",i.length),console.log("   - Current price:",l),console.log("   - Price change:",d),console.log(""),console.log(" Raw Data:"),console.log("   - Real transactions:",h),console.log("   - Price history:",i),console.log(""),console.log(" Contract Addresses:"),console.log("   - Marketplace:",hn),console.log("   - OrderBook Escrow:",Jn),L(),console.log(""),console.log(" Triggering manual transaction fetch..."),T()},className:"text-gray-500 hover:text-gray-700 text-xs",title:"Debug info & manual fetch",children:" Debug"})]})]})]}),a.jsx("div",{className:"h-80 p-4",children:a.jsx("div",{className:"h-full bg-gray-50 rounded-lg border border-gray-100 overflow-hidden",children:a.jsx(U,{})})}),a.jsxs("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:[a.jsxs("div",{className:"grid grid-cols-4 gap-4 text-center",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-500",children:"24h High"}),a.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[h.length>0?E(Math.max(...h.map(B=>B.price))):"0.00"," Flow"]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-500",children:"24h Low"}),a.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[h.length>0?E(Math.min(...h.map(B=>B.price))):"0.00"," Flow"]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-500",children:"Total Volume"}),a.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[h.length>0?N(h.reduce((B,D)=>B+D.amount,0)):"0"," Tokens"]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-500",children:"Last Trade"}),a.jsx("div",{className:"text-sm font-semibold text-gray-900",children:h.length>0?new Date(h[h.length-1].timestamp).toLocaleTimeString():"No trades"})]})]}),h.length>0&&a.jsxs("div",{className:"mt-2 p-3 bg-blue-50 rounded-lg",children:[a.jsx("h4",{className:"text-xs font-medium text-blue-800 mb-2",children:"Recent Blockchain Transactions"}),a.jsx("div",{className:"space-y-1 max-h-24 overflow-y-auto",children:h.slice(-3).reverse().map((B,D)=>a.jsxs("div",{className:"flex justify-between text-xs",children:[a.jsxs("span",{className:`font-medium ${B.type==="buy"?"text-green-600":"text-red-600"}`,children:[B.type.toUpperCase()," ",B.amount]}),a.jsxs("span",{className:"text-gray-600",children:["@ ",E(B.price)," Flow"]}),a.jsx("span",{className:"text-gray-500",children:new Date(B.timestamp).toLocaleTimeString()})]},B.txHash))})]})]})]})},S0e=({selectedToken:t,onChangeAsset:e})=>{const{address:n}=xn(),[s,r]=y.useState(!1),[i,o]=y.useState(null),[l,c]=y.useState(!1),[d,u]=y.useState("buy"),[h,f]=y.useState(""),[m,x]=y.useState(""),[p,w]=y.useState(""),[b,v]=y.useState(""),{orderBookData:N,userOrders:E=[],cancelOrder:T,createBuyOrder:R,createSellOrder:$,fillOrder:M,refreshOrderBook:L,isApproved:U,approveContract:z}=k0e(t.id||t.symbol||""),B=(N==null?void 0:N.buyOrders)||[],D=(N==null?void 0:N.sellOrders)||[],g=_=>{const k=typeof _=="string"?parseFloat(_):_;return isNaN(k)||k===0?"0.0000":k>=1e6?(k/1e6).toFixed(2)+"M":k>=1e3?(k/1e3).toFixed(2)+"K":k>=1?k.toFixed(4):k>=.01?k.toFixed(6):k.toExponential(2)},j=_=>{const k=typeof _=="string"?parseFloat(_):_;return isNaN(k)||k===0?"0.00":k>=1?k.toFixed(2):k>=.01?k.toFixed(4):k>0?k.toFixed(6):"0.00"},C=async()=>{if(!p||!h){be.error("Please enter both amount and price");return}r(!0);try{await R(t.id||"1",parseInt(p),h),be.success("Buy order created successfully!"),w(""),f(""),o(null),L()}catch(_){console.error("Error creating buy order:",_),be.error("Failed to create sell order")}finally{r(!1)}},P=async()=>{var _,k;if(!b||!m){be.error("Please enter both amount and price");return}r(!0);try{U||(be.info("Approving OrderBook contract to manage your tokens..."),console.log(" Approval required - requesting user approval for OrderBook contract"),await z(),be.success("Contract approved! Now creating sell order..."),console.log(" Contract approved successfully")),await $(t.id||"1",parseInt(b),m),be.success("Sell order created successfully!"),v(""),x(""),o(null),L()}catch(O){console.error("Error creating sell order:",O),(_=O==null?void 0:O.message)!=null&&_.includes("Not approved")||(k=O==null?void 0:O.reason)!=null&&k.includes("Not approved")?be.error("Please approve the contract first to create sell orders"):be.error("Failed to create sell order")}finally{r(!1)}},S=async _=>{r(!0);try{await M(_.orderId,parseInt(String(_.amount)),_),be.success(`Order filled! Bought ${_.amount} tokens at ${g(_.pricePerTokenU2U||0)} U2U`),L()}catch(k){console.error("Error filling sell order:",k),be.error("Failed to fill order")}finally{r(!1)}},A=async _=>{r(!0);try{await M(_.orderId,parseInt(String(_.amount)),_),be.success(`Order filled! Sold ${_.amount} tokens at ${g(_.pricePerTokenU2U||0)} U2U`),L()}catch(k){console.error("Error filling buy order:",k),be.error("Failed to fill order")}finally{r(!1)}},F=async _=>{r(!0);try{await T(_),be.success("Order cancelled successfully"),L()}catch(k){console.error("Error cancelling order:",k),be.error("Failed to cancel order")}finally{r(!1)}};return a.jsxs("div",{className:"h-screen flex flex-col bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50",children:[a.jsx("div",{className:"bg-white/80 backdrop-blur-lg border-b border-gray-200/50 px-4 py-2 shadow-sm flex-shrink-0",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("img",{src:t.image,alt:t.name,className:"w-8 h-8 rounded-full shadow-sm border border-white"}),a.jsxs("div",{children:[a.jsxs("div",{className:"font-semibold text-sm text-gray-900",children:[t.symbol,"/Flow"]}),a.jsx("div",{className:"text-xs text-gray-500",children:t.name})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(Z,{onClick:()=>o("buy"),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1.5 text-xs h-7 shadow-sm",children:[a.jsx(sa,{className:"w-3 h-3 mr-1"}),"Create Order"]}),a.jsxs(Z,{variant:"outline",onClick:()=>c(!0),className:"border-gray-300 text-gray-600 hover:bg-gray-50 px-3 py-1.5 text-xs h-7",children:[a.jsx(Zr,{className:"w-3 h-3 mr-1"}),"View Orders"]}),n&&a.jsxs("div",{className:"text-xs text-gray-600 bg-gray-100 px-2 py-1 rounded",children:[n.slice(0,6),"...",n.slice(-4)]})]})]})}),a.jsx("div",{className:"flex-1 p-4 overflow-hidden",children:a.jsxs("div",{className:"grid grid-cols-12 gap-4 h-full",children:[a.jsx("div",{className:"col-span-9 h-full",children:a.jsx(fe,{className:"bg-white/70 backdrop-blur-lg border-gray-200/50 shadow-xl h-full",children:a.jsx(pe,{className:"p-4 h-full overflow-hidden",children:a.jsx(j0e,{selectedToken:t,buyOrders:B,sellOrders:D})})})}),a.jsx("div",{className:"col-span-3 h-full",children:a.jsx(fe,{className:"bg-white/70 backdrop-blur-lg border-gray-200/50 shadow-xl h-full",children:a.jsxs(pe,{className:"p-4 h-full flex flex-col",children:[a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"flex bg-gray-100/80 backdrop-blur-sm p-1 rounded-lg w-full",children:[a.jsx("button",{onClick:()=>u("buy"),className:`flex-1 py-2 rounded-md font-semibold text-sm transition-all duration-300 ${d==="buy"?"bg-green-600 text-white shadow-lg":"text-gray-600 hover:text-green-600"}`,children:"Buy"}),a.jsx("button",{onClick:()=>u("sell"),className:`flex-1 py-2 rounded-md font-semibold text-sm transition-all duration-300 ${d==="sell"?"bg-red-600 text-white shadow-lg":"text-gray-600 hover:text-red-600"}`,children:"Sell"})]})}),a.jsx("div",{className:"flex-1 overflow-hidden",children:d==="buy"?a.jsx("div",{children:a.jsx("div",{className:"space-y-1 max-h-96 overflow-y-auto",children:D.length>0?D.map((_,k)=>a.jsxs("div",{className:"flex items-center justify-between p-2  rounded cursor-pointer transition-colors border border-black-200",onClick:()=>S(_),children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"text-xs font-medium text-black-700 truncate",children:[_.amount," tokens @ ",j(_.pricePerTokenU2U||0)," Flow"]}),a.jsxs("div",{className:"text-xs text-gray-500",children:["Total: ",g(parseFloat(String(_.amount))*parseFloat(String(_.pricePerTokenU2U||0)))," U2U"]})]}),a.jsx(Z,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white text-xs h-6 px-2 ml-2",onClick:O=>{O.stopPropagation(),S(_)},disabled:s,children:"Buy"})]},k)):a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"text-gray-400 mb-2",children:a.jsx(rV,{className:"w-8 h-8 mx-auto mb-2"})}),a.jsx("div",{className:"text-sm text-gray-500",children:"No buy orders available"}),a.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Be the first to create a buy order"})]})})}):a.jsx("div",{children:a.jsx("div",{className:"space-y-1 max-h-96 overflow-y-auto",children:B.length>0?B.map((_,k)=>a.jsxs("div",{className:"flex items-center justify-between p-2   rounded cursor-pointer transition-colors border border-black-200",onClick:()=>A(_),children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"text-xs font-medium text-black-700 truncate",children:[_.amount," tokens @ ",g(_.pricePerTokenU2U||0)," U2U"]}),a.jsxs("div",{className:"text-xs text-gray-500",children:["Total: ",g(parseFloat(String(_.amount))*parseFloat(String(_.pricePerTokenU2U||0)))," U2U"]})]}),a.jsx(Z,{size:"sm",className:"bg-red-600 hover:bg-red-700 text-white text-xs h-6 px-2 ml-2",onClick:O=>{O.stopPropagation(),A(_)},disabled:s,children:"Sell"})]},k)):a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"text-gray-400 mb-2",children:a.jsx(On,{className:"w-8 h-8 mx-auto mb-2"})}),a.jsx("div",{className:"text-sm text-gray-500",children:"No sell orders available"}),a.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Be the first to create a sell order"})]})})})})]})})})]})}),a.jsx(rr,{open:i!==null,onOpenChange:()=>o(null),children:a.jsxs(Fs,{className:"bg-white/90 backdrop-blur-lg border-gray-200/50 shadow-2xl max-w-md",children:[a.jsx(Ls,{children:a.jsxs(Bs,{className:"flex items-center space-x-2 text-base",children:[a.jsx(L7,{className:"w-4 h-4 text-blue-600"}),a.jsxs("span",{children:["Create ",i==="buy"?"Buy":"Sell"," Order"]})]})}),a.jsxs("div",{className:"space-y-4 pt-3",children:[a.jsxs("div",{className:"flex bg-gray-100/80 backdrop-blur-sm p-1 rounded-lg",children:[a.jsx("button",{onClick:()=>o("buy"),className:`flex-1 py-2 rounded-md font-semibold text-sm transition-all duration-300 ${i==="buy"?"bg-green-600 text-white shadow-lg":"text-gray-600 hover:text-green-600"}`,children:"Buy"}),a.jsx("button",{onClick:()=>o("sell"),className:`flex-1 py-2 rounded-md font-semibold text-sm transition-all duration-300 ${i==="sell"?"bg-red-600 text-white shadow-lg":"text-gray-600 hover:text-red-600"}`,children:"Sell"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount (Tokens)"}),a.jsx(Et,{type:"number",placeholder:"Enter amount",value:i==="buy"?p:b,onChange:_=>{i==="buy"?w(_.target.value):v(_.target.value)},className:"text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price per Token (Flow)"}),a.jsx(Et,{type:"number",step:"0.000001",placeholder:"Enter price",value:i==="buy"?h:m,onChange:_=>{i==="buy"?f(_.target.value):x(_.target.value)},className:"text-sm"})]}),a.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Total Cost:"}),a.jsxs("span",{className:"text-sm font-bold text-gray-900",children:[i==="buy"?j(parseFloat(p||"0")*parseFloat(h||"0")):g(parseFloat(b||"0")*parseFloat(m||"0"))," Flow"]})]})}),i==="sell"&&a.jsxs("div",{className:`p-3 rounded-lg border ${U?"bg-green-50 border-green-200":"bg-yellow-50 border-yellow-200"}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center space-x-2",children:U?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),a.jsx("span",{className:"text-sm font-medium text-green-700",children:"Contract Approved"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),a.jsx("span",{className:"text-sm font-medium text-yellow-700",children:"Approval Required"})]})}),!U&&a.jsx(Z,{variant:"outline",size:"sm",onClick:z,disabled:s,className:"text-xs h-7 border-yellow-300 text-yellow-700 hover:bg-yellow-100",children:"Approve Now"})]}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:U?"You can create sell orders without additional approvals":"Grant permission for the OrderBook contract to manage your tokens"})]})]}),a.jsxs("div",{className:"flex space-x`-2 pt-4",children:[a.jsx(Z,{variant:"outline",onClick:()=>o(null),className:"flex-1 h-9 text-sm",children:"Cancel"}),a.jsxs(Z,{onClick:i==="buy"?C:P,disabled:s||i==="buy"&&(!p||!h)||i==="sell"&&(!b||!m),className:`flex-1 h-9 text-sm ${i==="buy"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"} text-white font-semibold shadow-lg`,children:[a.jsx(Jo,{className:"w-3 h-3 mr-1"}),"Place Order"]})]})]})]})}),a.jsx(rr,{open:l,onOpenChange:c,children:a.jsxs(Fs,{className:"bg-white/90 backdrop-blur-lg border-gray-200/50 shadow-2xl max-w-4xl max-h-[80vh] overflow-y-auto",children:[a.jsx(Ls,{children:a.jsxs(Bs,{className:"flex items-center space-x-2 text-base",children:[a.jsx(Zr,{className:"w-4 h-4 text-blue-600"}),a.jsx("span",{children:"Your Orders"})]})}),a.jsx("div",{className:"space-y-4 pt-3",children:E&&E.length>0?a.jsx("div",{className:"space-y-3",children:E.map((_,k)=>a.jsxs("div",{className:"grid grid-cols-12 gap-3 p-3 bg-white border border-gray-200 rounded-lg hover:shadow-md transition-all duration-200",children:[a.jsx("div",{className:"col-span-2",children:a.jsx(Ie,{variant:"outline",className:_.isBuyOrder?"border-green-500 text-green-700":"border-red-500 text-red-700",children:_.isBuyOrder?"Buy":"Sell"})}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("div",{className:"text-xs text-gray-500",children:"Amount"}),a.jsx("div",{className:"text-sm font-semibold",children:_.amount})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("div",{className:"text-xs text-gray-500",children:"Price"}),a.jsxs("div",{className:"text-sm font-semibold",children:[g(_.pricePerTokenU2U||0)," U2U"]})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("div",{className:"text-xs text-gray-500",children:"Status"}),a.jsx(Ie,{variant:"outline",className:"border-yellow-500 text-yellow-700 text-xs",children:"Active"})]}),a.jsx("div",{className:"col-span-4 flex justify-end",children:a.jsx(Z,{onClick:()=>F(_.orderId),variant:"outline",size:"sm",className:"text-red-600 border-red-200 hover:bg-red-50 text-xs h-7",disabled:s,children:"Cancel"})})]},k))}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Zr,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No Orders Found"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"You haven't placed any orders yet"}),a.jsx(Z,{onClick:()=>{c(!1),o("buy")},className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Create Your First Order"})]})}),a.jsx("div",{className:"flex justify-end pt-4 border-t",children:a.jsx(Z,{variant:"outline",onClick:()=>c(!1),className:"text-sm",children:"Close"})})]})})]})},A0e=()=>{const{address:t,connectWallet:e,provider:n,signer:s}=xn(),r=co(),[i,o]=y.useState(null),[l,c]=y.useState("0"),[d,u]=y.useState(!0);y.useEffect(()=>{var f,m;if((f=r.state)!=null&&f.selectedToken){const x=r.state.selectedToken,p={id:x.tokenId,name:x.name,symbol:((m=x.name)==null?void 0:m.substring(0,3).toUpperCase())||"TKN",description:x.description||"",image:x.image,totalSupply:0,userBalance:parseFloat(x.userBalance||"0"),isListed:!0,marketplacePrice:parseFloat(x.marketplacePrice||x.price||"0"),exists:!0,metadata:void 0,assetType:x.type||"real-estate",location:"Unknown",valuation:x.price||"0",attributes:[],lastPrice:parseFloat(x.marketplacePrice||x.price||"0"),priceChange24h:"0",volume24h:0};o(p),u(!1),be.success(`Selected ${p.name} for trading`)}},[r.state]);const h=f=>{o(f),u(!1),be.success(`Selected ${f.name} for trading`)};return y.useEffect(()=>{(async()=>{if(!(!n||!t))try{const x=await new f2(n,s).getU2UBalance(t);c(x)}catch(m){console.error("Error fetching U2U balance:",m)}})()},[n,s,t]),t?d||!i?a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx(Rd,{}),a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-8 text-center",children:[a.jsxs("h1",{className:"text-4xl font-bold text-gray-900 mb-4 flex items-center justify-center gap-3",children:[a.jsx(Qr,{className:"w-10 h-10 text-blue-600"}),"Open Assets Exchange"]}),a.jsx("p",{className:"text-xl text-gray-600",children:"Select an asset to begin professional RWA trading"})]}),a.jsx(N0e,{selectedTokenId:i==null?void 0:i.id,onTokenSelect:h})]})})]}):a.jsx(a.Fragment,{children:a.jsx(S0e,{selectedToken:i,onChangeAsset:()=>u(!0)})}):a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx(Rd,{}),a.jsx("div",{className:"flex items-center justify-center min-h-[80vh]",children:a.jsxs(fe,{className:"border border-gray-200 shadow-sm p-8 text-center bg-white",children:[a.jsx(ot,{children:a.jsxs(lt,{className:"flex items-center gap-2 justify-center text-gray-900",children:[a.jsx(or,{className:"w-6 h-6"}),"Connect Your Wallet"]})}),a.jsxs(pe,{className:"bg-white",children:[a.jsx("p",{className:"text-gray-600 mb-6",children:"Connect your wallet to access the premium trading terminal and start trading tokenized assets."}),a.jsx(Z,{onClick:e,className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold",children:"Connect Wallet"})]})]})})]})};class lB{constructor(e,n){Ue(this,"provider");Ue(this,"signer");Ue(this,"marketplaceAddress");Ue(this,"tokenAddress");this.provider=e,this.signer=n,this.marketplaceAddress=hn,this.tokenAddress=Ts}async fetchAllTokens(e){try{if(console.log(" FIXED TOKEN FETCHING: Only showing tokens with user balance > 0..."),!e)return console.log("No user address provided, returning empty array"),[];const n=this.signer||this.provider,s=new qe(this.marketplaceAddress,Yr,n),r=["function balanceOf(address account, uint256 id) view returns (uint256)","function uri(uint256 id) view returns (string)"],i=new qe(this.tokenAddress,r,this.provider),o=[];console.log(" Checking user balance for tokens 1-10...");for(let l=1;l<=10;l++)try{const c=await i.balanceOf(e,l),d=parseInt(c.toString());if(d>0){console.log(` Found owned Token ID ${l} with balance:`,d);let u=`Token #${l}`,h=`TOKEN${l}`;try{const p=await i.uri(l);if(p){const w=await this.fetchTokenMetadata(p);w&&(u=w.name||u,h=w.symbol||h)}}catch{console.log(`Could not fetch metadata for token ${l}`)}let f=0;try{const p=await i.tokenSupply(l);f=parseFloat(De(p))}catch{console.log(`Could not fetch total supply for token ${l}`)}let m=!1,x=0;try{const[p,,,w]=await s.getAllListings();for(let b=0;b<p.length;b++)if(p[b].toString()===l.toString()){m=!0,x=parseFloat(De(w[b]));break}}catch{console.log("Could not check marketplace listings")}o.push({id:l.toString(),name:u,symbol:h,totalSupply:f,userBalance:d,isListed:m,price:x,exists:!0})}}catch{}return console.log(` SUCCESS: Returning ${o.length} tokens with user balance > 0:`,o.map(l=>`ID ${l.id} (${l.userBalance} tokens)`)),o.length===0&&console.log(" WARNING: User has no tokens with balance > 0"),o}catch(n){return console.error("Error fetching user-owned tokens:",n),[]}}async getTokenBalance(e,n){try{console.log(` Fetching WALLET balance for Token ID ${e}, User: ${n}`);try{const s=["function balanceOf(address account, uint256 id) view returns (uint256)"],i=await new qe(this.tokenAddress,s,this.provider).balanceOf(n,e),o=parseInt(i.toString());return console.log(` Token ID ${e} WALLET balance: ${o} (for OrderBook)`),o}catch(s){return console.warn(` Wallet balance call failed for token ${e}:`,s.message),0}}catch(s){return console.error(" Error setting up marketplace contract:",s),0}}async getU2UBalance(e){try{const n=await this.provider.getBalance(e);return De(n)}catch(n){return console.error("Error fetching U2U balance:",n),"0"}}async fetchTokenMetadata(e){try{const n=e.replace("ipfs://","https://gateway.pinata.cloud/ipfs/"),s=await fetch(n,{method:"GET",headers:{Accept:"application/json"}});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return await s.json()}catch(n){return console.log("Could not fetch token metadata:",n),null}}async fetchMarketplaceListings(e){try{console.log(" FETCHING MARKETPLACE LISTINGS for OrderBook...");const n=this.signer||this.provider,s=new qe(this.marketplaceAddress,Yr,n),r=["function balanceOf(address account, uint256 id) view returns (uint256)","function uri(uint256 id) view returns (string)"],i=new qe(this.tokenAddress,r,this.provider);console.log(" Getting all marketplace listings...");const o=await s.getAllListings(),[l,c,d,u]=o;console.log(`Found ${l.length} marketplace listings`);const h=[];for(let f=0;f<l.length;f++){const m=l[f].toString(),x=c[f],p=d[f].toString(),w=u[f];try{let b=0;if(e)try{console.log(` DEBUGGING: Checking wallet balance for token ${m}, user: ${e}`);const T=await i.balanceOf(e,m);b=parseInt(T.toString()),console.log(` DEBUGGING: User wallet balance for token ${m}: ${b} (for OrderBook trading)`)}catch(T){console.warn(` DEBUGGING: Could not fetch wallet balance for token ${m}:`,T.message),b=0}else console.log(" DEBUGGING: No userAddress provided, setting balance to 0");let v=`Property #${m}`,N=`PROP${m}`;console.log(`Using fallback name for token ${m}: ${v}`);const E={id:m,name:v,symbol:N,totalSupply:parseInt(p),userBalance:b,isListed:!0,price:w?parseFloat(De(w)):0,exists:!0};h.push(E),console.log(" DEBUGGING: Added marketplace listing:",{tokenId:E.id,name:E.name,userBalance:E.userBalance,totalSupply:E.totalSupply})}catch(b){console.error(`Error processing token ${m}:`,b)}}return console.log(` MARKETPLACE LISTINGS: Found ${h.length} listed tokens for OrderBook`),h}catch(n){return console.error(" Error fetching marketplace listings:",n),[]}}async withdrawAsset(e,n){try{if(console.log(` Withdrawing ${n} of token ${e} from marketplace to wallet...`),!this.signer)throw new Error("Signer required for withdrawal");const r=await new qe(this.marketplaceAddress,Yr,this.signer).withdrawAsset(e,n);console.log(" Withdrawal transaction sent:",r.hash);const i=await r.wait();return console.log(" Withdrawal confirmed in block:",i.blockNumber),!0}catch(s){throw console.error(" Error withdrawing asset:",s),s}}}const T0e=Object.freeze(Object.defineProperty({__proto__:null,TokenService:lB},Symbol.toStringTag,{value:"Module"}));function yo({className:t,...e}){return a.jsx("div",{className:rt("animate-pulse rounded-md bg-muted",t),...e})}const C0e=()=>{const{tokenId:t}=wW(),e=yl(),{address:n,provider:s}=xn(),[r,i]=y.useState(null),[o,l]=y.useState(!0),[c,d]=y.useState(null);return y.useEffect(()=>{(async()=>{var h;if(!t||!s){l(!1);return}try{l(!0),d(null);const f=s.getSigner(n||""),x=await new lB(s,f).fetchMarketplaceListings(n||"");console.log(" Trading Page: Fetched listings:",x);const p=x.find(T=>T.id===t);if(!p)throw new Error(`Asset with Token ID ${t} not found`);const b=(T=>{if(T){const R=T.find($=>$.trait_type==="Asset Type");return(R==null?void 0:R.value)||"Unknown"}return"Unknown"})(p.attributes),v=p.image||"https://images.unsplash.com/photo-1559526324-4b87b5e36e44?w=400&h=300&fit=crop",N=p.description||`${p.name} - Tokenized ${b.toLowerCase()} asset with ${p.totalSupply} total supply. Available for secondary P2P trading on the Open Assets Trading Platform.`,E={tokenId:p.id,name:p.name,description:N,image:v,category:b,price:((h=p.price)==null?void 0:h.toString())||"1.0",availableSupply:Number(p.totalSupply)-Number(p.userBalance||0),attributes:p.attributes||[]};i(E),console.log(" Asset details loaded:",E)}catch(f){console.error(" Error fetching asset details:",f),d(f instanceof Error?f.message:"Failed to load asset details"),be.error("Failed to load asset details")}finally{l(!1)}})()},[t,s,n]),o?a.jsxs(a.Fragment,{children:[a.jsx(Rd,{}),a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-white",children:a.jsxs("div",{className:"container mx-auto px-4 pt-8",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[a.jsx(yo,{className:"w-10 h-10 rounded-lg"}),a.jsxs("div",{children:[a.jsx(yo,{className:"w-48 h-8 mb-2"}),a.jsx(yo,{className:"w-32 h-4"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-1",children:a.jsx(fe,{children:a.jsxs(pe,{className:"p-6",children:[a.jsx(yo,{className:"w-full h-64 mb-4 rounded-lg"}),a.jsx(yo,{className:"w-3/4 h-6 mb-2"}),a.jsx(yo,{className:"w-full h-4 mb-4"}),a.jsx(yo,{className:"w-1/2 h-4"})]})})}),a.jsx("div",{className:"lg:col-span-2",children:a.jsx(fe,{children:a.jsx(pe,{className:"p-6",children:a.jsx(yo,{className:"w-full h-96"})})})})]})]})})]}):c||!r?a.jsxs(a.Fragment,{children:[a.jsx(Rd,{}),a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-white flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{className:"w-8 h-8 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16c-.77.833.192 2.5 1.732 2.5z"})})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Asset Not Found"}),a.jsx("p",{className:"text-gray-600 mb-6",children:c||"The requested asset could not be found."}),a.jsxs(Z,{onClick:()=>e("/orderbook"),className:"bg-blue-600 hover:bg-blue-700",children:[a.jsx(nA,{className:"w-4 h-4 mr-2"}),"Back to Open Assets Trading Platform"]})]})})]}):a.jsxs(a.Fragment,{children:[a.jsx(Rd,{}),a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-white",children:a.jsxs("div",{className:"container mx-auto px-4 pt-8",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[a.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>e("/orderbook"),className:"flex items-center gap-2",children:[a.jsx(nA,{className:"w-4 h-4"}),"Back to Assets"]}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Trading Terminal"}),a.jsx("p",{className:"text-gray-600",children:"Real-time trading with on-chain escrow"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-1",children:a.jsxs(fe,{className:"sticky top-4",children:[a.jsx(ot,{children:a.jsxs(lt,{className:"flex items-center gap-2",children:[a.jsx(sc,{className:"w-5 h-5"}),"Asset Details"]})}),a.jsxs(pe,{className:"space-y-6",children:[a.jsxs("div",{className:"relative overflow-hidden rounded-lg",children:[a.jsx("img",{src:r.image,alt:r.name,className:"w-full h-64 object-cover",onError:u=>{const h=u.target;h.src="https://images.unsplash.com/photo-1559526324-4b87b5e36e44?w=400&h=300&fit=crop"}}),a.jsx("div",{className:"absolute top-4 left-4",children:a.jsx(Ie,{className:"bg-white/90 text-gray-700",children:r.category})}),a.jsx("div",{className:"absolute top-4 right-4",children:a.jsxs(Ie,{variant:"secondary",className:"bg-blue-500/90 text-white",children:["#",r.tokenId]})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:r.name}),a.jsx("p",{className:"text-gray-600 text-sm leading-relaxed mb-4",children:r.description})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Price per Token"}),a.jsxs("p",{className:"text-lg font-bold text-green-600",children:[parseFloat(r.price).toFixed(4)," U2U"]})]}),a.jsx(In,{className:"w-8 h-8 text-green-500"})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Available Supply"}),a.jsxs("p",{className:"text-lg font-bold text-blue-600",children:[r.availableSupply.toLocaleString()," tokens"]})]}),a.jsx(Qr,{className:"w-8 h-8 text-blue-500"})]})]}),r.attributes&&r.attributes.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Attributes"}),a.jsx("div",{className:"space-y-2",children:r.attributes.map((u,h)=>a.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[a.jsx("span",{className:"text-sm text-gray-600",children:u.trait_type}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:u.value})]},h))})]}),a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Live Trading Active"})]})]})]})}),a.jsx("div",{className:"lg:col-span-2",children:a.jsxs(fe,{children:[a.jsxs(ot,{children:[a.jsxs(lt,{className:"flex items-center gap-2",children:[a.jsx(In,{className:"w-5 h-5"}),"Trading Terminal - ",r.name]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Real-time P2P trading with secure escrow  Token ID: ",r.tokenId]})]}),a.jsx(pe,{children:n?a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Trading Terminal"}),a.jsxs("p",{className:"text-gray-600 mb-4",children:["Trading for ",r.name," (Token ID: ",r.tokenId,")"]}),a.jsx("p",{className:"text-sm text-yellow-600",children:"Trading terminal integration in progress. Please use the orderbook page for now."})]}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Connect Wallet to Trade"}),a.jsx("p",{className:"text-gray-600",children:"Please connect your wallet to access the trading terminal."})]})})]})})]})]})})]})},E0e=()=>(y.useEffect(()=>{PA().catch(console.error);const t=setInterval(()=>{PA().catch(console.error)},5*60*1e3);return()=>clearInterval(t)},[]),a.jsx(WH,{children:a.jsx(VW,{children:a.jsx(rhe,{children:a.jsx("div",{className:"relative min-h-screen",children:a.jsxs("div",{className:"content",children:[a.jsx(zV,{}),a.jsx(yz,{}),a.jsxs(DW,{children:[a.jsx(Vr,{path:"/login",element:a.jsx(s0e,{})}),a.jsx(Vr,{path:"/",element:a.jsx(gse,{})}),a.jsx(Vr,{path:"/about",element:a.jsx(she,{})}),a.jsx(Vr,{path:"/admin",element:a.jsx(Rl,{allowedRoles:["admin"],children:a.jsx(que,{})})}),a.jsx(Vr,{path:"/issuer",element:a.jsx(Rl,{allowedRoles:["issuer"],children:a.jsx(the,{})})}),a.jsx(Vr,{path:"/manager",element:a.jsx(Rl,{allowedRoles:["manager"],children:a.jsx(p0e,{})})}),a.jsx(Vr,{path:"/dashboard",element:a.jsx(Rl,{allowedRoles:["admin","issuer","manager","user"],children:a.jsx(n0e,{})})}),a.jsx(Vr,{path:"/marketplace",element:a.jsx(Rl,{allowedRoles:["admin","issuer","manager","user"],children:a.jsx(dle,{})})}),a.jsx(Vr,{path:"/orderbook",element:a.jsx(Rl,{allowedRoles:["admin","issuer","manager","user"],children:a.jsx(A0e,{})})}),a.jsx(Vr,{path:"/trading/:tokenId",element:a.jsx(Rl,{allowedRoles:["admin","issuer","manager","user"],children:a.jsx(C0e,{})})}),a.jsx(Vr,{path:"*",element:a.jsx(xse,{})})]})]})})})})}));GR(document.getElementById("root")).render(a.jsx(hse,{children:a.jsx(E0e,{})}));export{aE as $,Exe as A,en as B,Txe as C,vm as D,RD as E,Ut as F,Ox as G,Tr as H,Lxe as I,bh as J,Kne as K,At as L,Sk as M,no as N,mk as O,Px as P,Mu as Q,Fxe as R,qte as S,vr as T,Of as U,Gn as V,vh as W,jne as X,p1 as Y,Ye as Z,JD as _,Pr as a,Lne as a0,Pxe as a1,zD as a2,zn as a3,Ka as a4,r$ as a5,qxe as a6,Kxe as a7,Vf as a8,dse as a9,pr as aA,o$ as aB,$xe as aC,mne as aD,cne as aE,qe as aF,_xe as aG,bi as aH,Fx as aa,mr as ab,HD as ac,EQ as ad,mt as ae,er as af,zC as ag,gne as ah,fne as ai,ZD as aj,VD as ak,tse as al,Uxe as am,cse as an,jr as ao,Wxe as ap,Gxe as aq,De as ar,Zi as as,zxe as at,Hxe as au,Vxe as av,pne as aw,Ixe as ax,ise as ay,Rxe as az,km as b,zs as c,nt as d,Oxe as e,Xe as f,Se as g,Tv as h,Mxe as i,yd as j,Zn as k,re as l,Oe as m,ks as n,Jte as o,pn as p,h1 as q,Dxe as r,qC as s,Na as t,u1 as u,xne as v,pu as w,gs as x,Eu as y,Un as z};
