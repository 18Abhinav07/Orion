var Pz=Object.defineProperty;var cC=t=>{throw TypeError(t)};var _z=(t,e,n)=>e in t?Pz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ge=(t,e,n)=>_z(t,typeof e!="symbol"?e+"":e,n),Ub=(t,e,n)=>e.has(t)||cC("Cannot "+n);var Y=(t,e,n)=>(Ub(t,e,"read from private field"),n?n.call(t):e.get(t)),dt=(t,e,n)=>e.has(t)?cC("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),He=(t,e,n,s)=>(Ub(t,e,"write to private field"),s?s.call(t,n):e.set(t,n),n),_t=(t,e,n)=>(Ub(t,e,"access private method"),n);var Bg=(t,e,n,s)=>({set _(r){He(t,e,r,n)},get _(){return Y(t,e,s)}});function Rz(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in t)){const i=Object.getOwnPropertyDescriptor(s,r);i&&Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();var BM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Mz(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var r=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(n,s,r.get?r:{enumerable:!0,get:function(){return t[s]}})}),n}var UM={exports:{}},gv={},VM={exports:{}},Ft={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dg=Symbol.for("react.element"),Oz=Symbol.for("react.portal"),Dz=Symbol.for("react.fragment"),$z=Symbol.for("react.strict_mode"),Fz=Symbol.for("react.profiler"),Lz=Symbol.for("react.provider"),Bz=Symbol.for("react.context"),Uz=Symbol.for("react.forward_ref"),Vz=Symbol.for("react.suspense"),zz=Symbol.for("react.memo"),Hz=Symbol.for("react.lazy"),dC=Symbol.iterator;function Wz(t){return t===null||typeof t!="object"?null:(t=dC&&t[dC]||t["@@iterator"],typeof t=="function"?t:null)}var zM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},HM=Object.assign,WM={};function Kh(t,e,n){this.props=t,this.context=e,this.refs=WM,this.updater=n||zM}Kh.prototype.isReactComponent={};Kh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Kh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function KM(){}KM.prototype=Kh.prototype;function hj(t,e,n){this.props=t,this.context=e,this.refs=WM,this.updater=n||zM}var fj=hj.prototype=new KM;fj.constructor=hj;HM(fj,Kh.prototype);fj.isPureReactComponent=!0;var uC=Array.isArray,qM=Object.prototype.hasOwnProperty,mj={current:null},GM={key:!0,ref:!0,__self:!0,__source:!0};function YM(t,e,n){var s,r={},i=null,o=null;if(e!=null)for(s in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)qM.call(e,s)&&!GM.hasOwnProperty(s)&&(r[s]=e[s]);var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];r.children=c}if(t&&t.defaultProps)for(s in l=t.defaultProps,l)r[s]===void 0&&(r[s]=l[s]);return{$$typeof:dg,type:t,key:i,ref:o,props:r,_owner:mj.current}}function Kz(t,e){return{$$typeof:dg,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function pj(t){return typeof t=="object"&&t!==null&&t.$$typeof===dg}function qz(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var hC=/\/+/g;function Vb(t,e){return typeof t=="object"&&t!==null&&t.key!=null?qz(""+t.key):e.toString(36)}function Q0(t,e,n,s,r){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case dg:case Oz:o=!0}}if(o)return o=t,r=r(o),t=s===""?"."+Vb(o,0):s,uC(r)?(n="",t!=null&&(n=t.replace(hC,"$&/")+"/"),Q0(r,e,n,"",function(d){return d})):r!=null&&(pj(r)&&(r=Kz(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(hC,"$&/")+"/")+t)),e.push(r)),1;if(o=0,s=s===""?".":s+":",uC(t))for(var l=0;l<t.length;l++){i=t[l];var c=s+Vb(i,l);o+=Q0(i,e,n,c,r)}else if(c=Wz(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=s+Vb(i,l++),o+=Q0(i,e,n,c,r);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ug(t,e,n){if(t==null)return t;var s=[],r=0;return Q0(t,s,"","",function(i){return e.call(n,i,r++)}),s}function Gz(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ur={current:null},J0={transition:null},Yz={ReactCurrentDispatcher:ur,ReactCurrentBatchConfig:J0,ReactCurrentOwner:mj};function XM(){throw Error("act(...) is not supported in production builds of React.")}Ft.Children={map:Ug,forEach:function(t,e,n){Ug(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ug(t,function(){e++}),e},toArray:function(t){return Ug(t,function(e){return e})||[]},only:function(t){if(!pj(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ft.Component=Kh;Ft.Fragment=Dz;Ft.Profiler=Fz;Ft.PureComponent=hj;Ft.StrictMode=$z;Ft.Suspense=Vz;Ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yz;Ft.act=XM;Ft.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=HM({},t.props),r=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=mj.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)qM.call(e,c)&&!GM.hasOwnProperty(c)&&(s[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:dg,type:t.type,key:r,ref:i,props:s,_owner:o}};Ft.createContext=function(t){return t={$$typeof:Bz,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Lz,_context:t},t.Consumer=t};Ft.createElement=YM;Ft.createFactory=function(t){var e=YM.bind(null,t);return e.type=t,e};Ft.createRef=function(){return{current:null}};Ft.forwardRef=function(t){return{$$typeof:Uz,render:t}};Ft.isValidElement=pj;Ft.lazy=function(t){return{$$typeof:Hz,_payload:{_status:-1,_result:t},_init:Gz}};Ft.memo=function(t,e){return{$$typeof:zz,type:t,compare:e===void 0?null:e}};Ft.startTransition=function(t){var e=J0.transition;J0.transition={};try{t()}finally{J0.transition=e}};Ft.unstable_act=XM;Ft.useCallback=function(t,e){return ur.current.useCallback(t,e)};Ft.useContext=function(t){return ur.current.useContext(t)};Ft.useDebugValue=function(){};Ft.useDeferredValue=function(t){return ur.current.useDeferredValue(t)};Ft.useEffect=function(t,e){return ur.current.useEffect(t,e)};Ft.useId=function(){return ur.current.useId()};Ft.useImperativeHandle=function(t,e,n){return ur.current.useImperativeHandle(t,e,n)};Ft.useInsertionEffect=function(t,e){return ur.current.useInsertionEffect(t,e)};Ft.useLayoutEffect=function(t,e){return ur.current.useLayoutEffect(t,e)};Ft.useMemo=function(t,e){return ur.current.useMemo(t,e)};Ft.useReducer=function(t,e,n){return ur.current.useReducer(t,e,n)};Ft.useRef=function(t){return ur.current.useRef(t)};Ft.useState=function(t){return ur.current.useState(t)};Ft.useSyncExternalStore=function(t,e,n){return ur.current.useSyncExternalStore(t,e,n)};Ft.useTransition=function(){return ur.current.useTransition()};Ft.version="18.3.1";VM.exports=Ft;var v=VM.exports;const Ae=Kd(v),QM=Rz({__proto__:null,default:Ae},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xz=v,Qz=Symbol.for("react.element"),Jz=Symbol.for("react.fragment"),Zz=Object.prototype.hasOwnProperty,eH=Xz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tH={key:!0,ref:!0,__self:!0,__source:!0};function JM(t,e,n){var s,r={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(s in e)Zz.call(e,s)&&!tH.hasOwnProperty(s)&&(r[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)r[s]===void 0&&(r[s]=e[s]);return{$$typeof:Qz,type:t,key:i,ref:o,props:r,_owner:eH.current}}gv.Fragment=Jz;gv.jsx=JM;gv.jsxs=JM;UM.exports=gv;var a=UM.exports,ZM={exports:{}},ti={},e4={exports:{}},t4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(C,I){var F=C.length;C.push(I);e:for(;0<F;){var O=F-1>>>1,k=C[O];if(0<r(k,I))C[O]=I,C[F]=k,F=O;else break e}}function n(C){return C.length===0?null:C[0]}function s(C){if(C.length===0)return null;var I=C[0],F=C.pop();if(F!==I){C[0]=F;e:for(var O=0,k=C.length,$=k>>>1;O<$;){var G=2*(O+1)-1,P=C[G],z=G+1,K=C[z];if(0>r(P,F))z<k&&0>r(K,P)?(C[O]=K,C[z]=F,O=z):(C[O]=P,C[G]=F,O=G);else if(z<k&&0>r(K,F))C[O]=K,C[z]=F,O=z;else break e}}return I}function r(C,I){var F=C.sortIndex-I.sortIndex;return F!==0?F:C.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,f=3,m=!1,g=!1,p=!1,w=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(C){for(var I=n(d);I!==null;){if(I.callback===null)s(d);else if(I.startTime<=C)s(d),I.sortIndex=I.expirationTime,e(c,I);else break;I=n(d)}}function A(C){if(p=!1,N(C),!g)if(n(c)!==null)g=!0,E(S);else{var I=n(d);I!==null&&D(A,I.startTime-C)}}function S(C,I){g=!1,p&&(p=!1,b(R),R=-1),m=!0;var F=f;try{for(N(I),h=n(c);h!==null&&(!(h.expirationTime>I)||C&&!U());){var O=h.callback;if(typeof O=="function"){h.callback=null,f=h.priorityLevel;var k=O(h.expirationTime<=I);I=t.unstable_now(),typeof k=="function"?h.callback=k:h===n(c)&&s(c),N(I)}else s(c);h=n(c)}if(h!==null)var $=!0;else{var G=n(d);G!==null&&D(A,G.startTime-I),$=!1}return $}finally{h=null,f=F,m=!1}}var T=!1,_=null,R=-1,B=5,V=-1;function U(){return!(t.unstable_now()-V<B)}function L(){if(_!==null){var C=t.unstable_now();V=C;var I=!0;try{I=_(!0,C)}finally{I?M():(T=!1,_=null)}}else T=!1}var M;if(typeof y=="function")M=function(){y(L)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,j=x.port2;x.port1.onmessage=L,M=function(){j.postMessage(null)}}else M=function(){w(L,0)};function E(C){_=C,T||(T=!0,M())}function D(C,I){R=w(function(){C(t.unstable_now())},I)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(C){C.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,E(S))},t.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<C?Math.floor(1e3/C):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(C){switch(f){case 1:case 2:case 3:var I=3;break;default:I=f}var F=f;f=I;try{return C()}finally{f=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(C,I){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var F=f;f=C;try{return I()}finally{f=F}},t.unstable_scheduleCallback=function(C,I,F){var O=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?O+F:O):F=O,C){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=F+k,C={id:u++,callback:I,priorityLevel:C,startTime:F,expirationTime:k,sortIndex:-1},F>O?(C.sortIndex=F,e(d,C),n(c)===null&&C===n(d)&&(p?(b(R),R=-1):p=!0,D(A,F-O))):(C.sortIndex=k,e(c,C),g||m||(g=!0,E(S))),C},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(C){var I=f;return function(){var F=f;f=I;try{return C.apply(this,arguments)}finally{f=F}}}})(t4);e4.exports=t4;var nH=e4.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sH=v,ei=nH;function Ee(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n4=new Set,Fm={};function qd(t,e){ph(t,e),ph(t+"Capture",e)}function ph(t,e){for(Fm[t]=e,t=0;t<e.length;t++)n4.add(e[t])}var Oo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),J1=Object.prototype.hasOwnProperty,rH=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fC={},mC={};function iH(t){return J1.call(mC,t)?!0:J1.call(fC,t)?!1:rH.test(t)?mC[t]=!0:(fC[t]=!0,!1)}function aH(t,e,n,s){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function oH(t,e,n,s){if(e===null||typeof e>"u"||aH(t,e,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function hr(t,e,n,s,r,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Is={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Is[t]=new hr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Is[e]=new hr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Is[t]=new hr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Is[t]=new hr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Is[t]=new hr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Is[t]=new hr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Is[t]=new hr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Is[t]=new hr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Is[t]=new hr(t,5,!1,t.toLowerCase(),null,!1,!1)});var gj=/[\-:]([a-z])/g;function xj(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(gj,xj);Is[e]=new hr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(gj,xj);Is[e]=new hr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(gj,xj);Is[e]=new hr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Is[t]=new hr(t,1,!1,t.toLowerCase(),null,!1,!1)});Is.xlinkHref=new hr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Is[t]=new hr(t,1,!1,t.toLowerCase(),null,!0,!0)});function yj(t,e,n,s){var r=Is.hasOwnProperty(e)?Is[e]:null;(r!==null?r.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(oH(e,n,r,s)&&(n=null),s||r===null?iH(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,s=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,s?t.setAttributeNS(s,e,n):t.setAttribute(e,n))))}var Xo=sH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vg=Symbol.for("react.element"),hu=Symbol.for("react.portal"),fu=Symbol.for("react.fragment"),vj=Symbol.for("react.strict_mode"),Z1=Symbol.for("react.profiler"),s4=Symbol.for("react.provider"),r4=Symbol.for("react.context"),bj=Symbol.for("react.forward_ref"),e2=Symbol.for("react.suspense"),t2=Symbol.for("react.suspense_list"),wj=Symbol.for("react.memo"),ml=Symbol.for("react.lazy"),i4=Symbol.for("react.offscreen"),pC=Symbol.iterator;function bf(t){return t===null||typeof t!="object"?null:(t=pC&&t[pC]||t["@@iterator"],typeof t=="function"?t:null)}var Rn=Object.assign,zb;function Gf(t){if(zb===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);zb=e&&e[1]||""}return`
`+zb+t}var Hb=!1;function Wb(t,e){if(!t||Hb)return"";Hb=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var s=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){s=d}t.call(e.prototype)}else{try{throw Error()}catch(d){s=d}t()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var r=d.stack.split(`
`),i=s.stack.split(`
`),o=r.length-1,l=i.length-1;1<=o&&0<=l&&r[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(r[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||r[o]!==i[l]){var c=`
`+r[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Hb=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Gf(t):""}function lH(t){switch(t.tag){case 5:return Gf(t.type);case 16:return Gf("Lazy");case 13:return Gf("Suspense");case 19:return Gf("SuspenseList");case 0:case 2:case 15:return t=Wb(t.type,!1),t;case 11:return t=Wb(t.type.render,!1),t;case 1:return t=Wb(t.type,!0),t;default:return""}}function n2(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case fu:return"Fragment";case hu:return"Portal";case Z1:return"Profiler";case vj:return"StrictMode";case e2:return"Suspense";case t2:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case r4:return(t.displayName||"Context")+".Consumer";case s4:return(t._context.displayName||"Context")+".Provider";case bj:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case wj:return e=t.displayName||null,e!==null?e:n2(t.type)||"Memo";case ml:e=t._payload,t=t._init;try{return n2(t(e))}catch{}}return null}function cH(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return n2(e);case 8:return e===vj?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function rc(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function a4(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function dH(t){var e=a4(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function zg(t){t._valueTracker||(t._valueTracker=dH(t))}function o4(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=a4(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function Kx(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function s2(t,e){var n=e.checked;return Rn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function gC(t,e){var n=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;n=rc(e.value!=null?e.value:n),t._wrapperState={initialChecked:s,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function l4(t,e){e=e.checked,e!=null&&yj(t,"checked",e,!1)}function r2(t,e){l4(t,e);var n=rc(e.value),s=e.type;if(n!=null)s==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?i2(t,e.type,n):e.hasOwnProperty("defaultValue")&&i2(t,e.type,rc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function xC(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function i2(t,e,n){(e!=="number"||Kx(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Yf=Array.isArray;function $u(t,e,n,s){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&s&&(t[n].defaultSelected=!0)}else{for(n=""+rc(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,s&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function a2(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ee(91));return Rn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function yC(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Ee(92));if(Yf(n)){if(1<n.length)throw Error(Ee(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:rc(n)}}function c4(t,e){var n=rc(e.value),s=rc(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),s!=null&&(t.defaultValue=""+s)}function vC(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function d4(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function o2(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?d4(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Hg,u4=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,s,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,s,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Hg=Hg||document.createElement("div"),Hg.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Hg.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Lm(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var am={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uH=["Webkit","ms","Moz","O"];Object.keys(am).forEach(function(t){uH.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),am[e]=am[t]})});function h4(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||am.hasOwnProperty(t)&&am[t]?(""+e).trim():e+"px"}function f4(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var s=n.indexOf("--")===0,r=h4(n,e[n],s);n==="float"&&(n="cssFloat"),s?t.setProperty(n,r):t[n]=r}}var hH=Rn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function l2(t,e){if(e){if(hH[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ee(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ee(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ee(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ee(62))}}function c2(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var d2=null;function Nj(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var u2=null,Fu=null,Lu=null;function bC(t){if(t=fg(t)){if(typeof u2!="function")throw Error(Ee(280));var e=t.stateNode;e&&(e=wv(e),u2(t.stateNode,t.type,e))}}function m4(t){Fu?Lu?Lu.push(t):Lu=[t]:Fu=t}function p4(){if(Fu){var t=Fu,e=Lu;if(Lu=Fu=null,bC(t),e)for(t=0;t<e.length;t++)bC(e[t])}}function g4(t,e){return t(e)}function x4(){}var Kb=!1;function y4(t,e,n){if(Kb)return t(e,n);Kb=!0;try{return g4(t,e,n)}finally{Kb=!1,(Fu!==null||Lu!==null)&&(x4(),p4())}}function Bm(t,e){var n=t.stateNode;if(n===null)return null;var s=wv(n);if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Ee(231,e,typeof n));return n}var h2=!1;if(Oo)try{var wf={};Object.defineProperty(wf,"passive",{get:function(){h2=!0}}),window.addEventListener("test",wf,wf),window.removeEventListener("test",wf,wf)}catch{h2=!1}function fH(t,e,n,s,r,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(u){this.onError(u)}}var om=!1,qx=null,Gx=!1,f2=null,mH={onError:function(t){om=!0,qx=t}};function pH(t,e,n,s,r,i,o,l,c){om=!1,qx=null,fH.apply(mH,arguments)}function gH(t,e,n,s,r,i,o,l,c){if(pH.apply(this,arguments),om){if(om){var d=qx;om=!1,qx=null}else throw Error(Ee(198));Gx||(Gx=!0,f2=d)}}function Gd(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function v4(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function wC(t){if(Gd(t)!==t)throw Error(Ee(188))}function xH(t){var e=t.alternate;if(!e){if(e=Gd(t),e===null)throw Error(Ee(188));return e!==t?null:t}for(var n=t,s=e;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return wC(r),t;if(i===s)return wC(r),e;i=i.sibling}throw Error(Ee(188))}if(n.return!==s.return)n=r,s=i;else{for(var o=!1,l=r.child;l;){if(l===n){o=!0,n=r,s=i;break}if(l===s){o=!0,s=r,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,s=r;break}if(l===s){o=!0,s=i,n=r;break}l=l.sibling}if(!o)throw Error(Ee(189))}}if(n.alternate!==s)throw Error(Ee(190))}if(n.tag!==3)throw Error(Ee(188));return n.stateNode.current===n?t:e}function b4(t){return t=xH(t),t!==null?w4(t):null}function w4(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=w4(t);if(e!==null)return e;t=t.sibling}return null}var N4=ei.unstable_scheduleCallback,NC=ei.unstable_cancelCallback,yH=ei.unstable_shouldYield,vH=ei.unstable_requestPaint,Kn=ei.unstable_now,bH=ei.unstable_getCurrentPriorityLevel,kj=ei.unstable_ImmediatePriority,k4=ei.unstable_UserBlockingPriority,Yx=ei.unstable_NormalPriority,wH=ei.unstable_LowPriority,j4=ei.unstable_IdlePriority,xv=null,Ma=null;function NH(t){if(Ma&&typeof Ma.onCommitFiberRoot=="function")try{Ma.onCommitFiberRoot(xv,t,void 0,(t.current.flags&128)===128)}catch{}}var ea=Math.clz32?Math.clz32:SH,kH=Math.log,jH=Math.LN2;function SH(t){return t>>>=0,t===0?32:31-(kH(t)/jH|0)|0}var Wg=64,Kg=4194304;function Xf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Xx(t,e){var n=t.pendingLanes;if(n===0)return 0;var s=0,r=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~r;l!==0?s=Xf(l):(i&=o,i!==0&&(s=Xf(i)))}else o=n&~r,o!==0?s=Xf(o):i!==0&&(s=Xf(i));if(s===0)return 0;if(e!==0&&e!==s&&!(e&r)&&(r=s&-s,i=e&-e,r>=i||r===16&&(i&4194240)!==0))return e;if(s&4&&(s|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=s;0<e;)n=31-ea(e),r=1<<n,s|=t[n],e&=~r;return s}function AH(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function TH(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,r=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-ea(i),l=1<<o,c=r[o];c===-1?(!(l&n)||l&s)&&(r[o]=AH(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function m2(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function S4(){var t=Wg;return Wg<<=1,!(Wg&4194240)&&(Wg=64),t}function qb(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ug(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ea(e),t[e]=n}function CH(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-ea(n),i=1<<r;e[r]=0,s[r]=-1,t[r]=-1,n&=~i}}function jj(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-ea(n),r=1<<s;r&e|t[s]&e&&(t[s]|=e),n&=~r}}var an=0;function A4(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var T4,Sj,C4,E4,I4,p2=!1,qg=[],zl=null,Hl=null,Wl=null,Um=new Map,Vm=new Map,yl=[],EH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kC(t,e){switch(t){case"focusin":case"focusout":zl=null;break;case"dragenter":case"dragleave":Hl=null;break;case"mouseover":case"mouseout":Wl=null;break;case"pointerover":case"pointerout":Um.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vm.delete(e.pointerId)}}function Nf(t,e,n,s,r,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[r]},e!==null&&(e=fg(e),e!==null&&Sj(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function IH(t,e,n,s,r){switch(e){case"focusin":return zl=Nf(zl,t,e,n,s,r),!0;case"dragenter":return Hl=Nf(Hl,t,e,n,s,r),!0;case"mouseover":return Wl=Nf(Wl,t,e,n,s,r),!0;case"pointerover":var i=r.pointerId;return Um.set(i,Nf(Um.get(i)||null,t,e,n,s,r)),!0;case"gotpointercapture":return i=r.pointerId,Vm.set(i,Nf(Vm.get(i)||null,t,e,n,s,r)),!0}return!1}function P4(t){var e=Wc(t.target);if(e!==null){var n=Gd(e);if(n!==null){if(e=n.tag,e===13){if(e=v4(n),e!==null){t.blockedOn=e,I4(t.priority,function(){C4(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Z0(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=g2(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);d2=s,n.target.dispatchEvent(s),d2=null}else return e=fg(n),e!==null&&Sj(e),t.blockedOn=n,!1;e.shift()}return!0}function jC(t,e,n){Z0(t)&&n.delete(e)}function PH(){p2=!1,zl!==null&&Z0(zl)&&(zl=null),Hl!==null&&Z0(Hl)&&(Hl=null),Wl!==null&&Z0(Wl)&&(Wl=null),Um.forEach(jC),Vm.forEach(jC)}function kf(t,e){t.blockedOn===e&&(t.blockedOn=null,p2||(p2=!0,ei.unstable_scheduleCallback(ei.unstable_NormalPriority,PH)))}function zm(t){function e(r){return kf(r,t)}if(0<qg.length){kf(qg[0],t);for(var n=1;n<qg.length;n++){var s=qg[n];s.blockedOn===t&&(s.blockedOn=null)}}for(zl!==null&&kf(zl,t),Hl!==null&&kf(Hl,t),Wl!==null&&kf(Wl,t),Um.forEach(e),Vm.forEach(e),n=0;n<yl.length;n++)s=yl[n],s.blockedOn===t&&(s.blockedOn=null);for(;0<yl.length&&(n=yl[0],n.blockedOn===null);)P4(n),n.blockedOn===null&&yl.shift()}var Bu=Xo.ReactCurrentBatchConfig,Qx=!0;function _H(t,e,n,s){var r=an,i=Bu.transition;Bu.transition=null;try{an=1,Aj(t,e,n,s)}finally{an=r,Bu.transition=i}}function RH(t,e,n,s){var r=an,i=Bu.transition;Bu.transition=null;try{an=4,Aj(t,e,n,s)}finally{an=r,Bu.transition=i}}function Aj(t,e,n,s){if(Qx){var r=g2(t,e,n,s);if(r===null)sw(t,e,s,Jx,n),kC(t,s);else if(IH(r,t,e,n,s))s.stopPropagation();else if(kC(t,s),e&4&&-1<EH.indexOf(t)){for(;r!==null;){var i=fg(r);if(i!==null&&T4(i),i=g2(t,e,n,s),i===null&&sw(t,e,s,Jx,n),i===r)break;r=i}r!==null&&s.stopPropagation()}else sw(t,e,s,null,n)}}var Jx=null;function g2(t,e,n,s){if(Jx=null,t=Nj(s),t=Wc(t),t!==null)if(e=Gd(t),e===null)t=null;else if(n=e.tag,n===13){if(t=v4(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Jx=t,null}function _4(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bH()){case kj:return 1;case k4:return 4;case Yx:case wH:return 16;case j4:return 536870912;default:return 16}default:return 16}}var _l=null,Tj=null,ex=null;function R4(){if(ex)return ex;var t,e=Tj,n=e.length,s,r="value"in _l?_l.value:_l.textContent,i=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(s=1;s<=o&&e[n-s]===r[i-s];s++);return ex=r.slice(t,1<s?1-s:void 0)}function tx(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Gg(){return!0}function SC(){return!1}function ni(t){function e(n,s,r,i,o){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Gg:SC,this.isPropagationStopped=SC,this}return Rn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Gg)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Gg)},persist:function(){},isPersistent:Gg}),e}var qh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cj=ni(qh),hg=Rn({},qh,{view:0,detail:0}),MH=ni(hg),Gb,Yb,jf,yv=Rn({},hg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ej,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==jf&&(jf&&t.type==="mousemove"?(Gb=t.screenX-jf.screenX,Yb=t.screenY-jf.screenY):Yb=Gb=0,jf=t),Gb)},movementY:function(t){return"movementY"in t?t.movementY:Yb}}),AC=ni(yv),OH=Rn({},yv,{dataTransfer:0}),DH=ni(OH),$H=Rn({},hg,{relatedTarget:0}),Xb=ni($H),FH=Rn({},qh,{animationName:0,elapsedTime:0,pseudoElement:0}),LH=ni(FH),BH=Rn({},qh,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),UH=ni(BH),VH=Rn({},qh,{data:0}),TC=ni(VH),zH={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},HH={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},WH={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function KH(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=WH[t])?!!e[t]:!1}function Ej(){return KH}var qH=Rn({},hg,{key:function(t){if(t.key){var e=zH[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=tx(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?HH[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ej,charCode:function(t){return t.type==="keypress"?tx(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?tx(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),GH=ni(qH),YH=Rn({},yv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),CC=ni(YH),XH=Rn({},hg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ej}),QH=ni(XH),JH=Rn({},qh,{propertyName:0,elapsedTime:0,pseudoElement:0}),ZH=ni(JH),eW=Rn({},yv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),tW=ni(eW),nW=[9,13,27,32],Ij=Oo&&"CompositionEvent"in window,lm=null;Oo&&"documentMode"in document&&(lm=document.documentMode);var sW=Oo&&"TextEvent"in window&&!lm,M4=Oo&&(!Ij||lm&&8<lm&&11>=lm),EC=" ",IC=!1;function O4(t,e){switch(t){case"keyup":return nW.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function D4(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var mu=!1;function rW(t,e){switch(t){case"compositionend":return D4(e);case"keypress":return e.which!==32?null:(IC=!0,EC);case"textInput":return t=e.data,t===EC&&IC?null:t;default:return null}}function iW(t,e){if(mu)return t==="compositionend"||!Ij&&O4(t,e)?(t=R4(),ex=Tj=_l=null,mu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return M4&&e.locale!=="ko"?null:e.data;default:return null}}var aW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function PC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!aW[t.type]:e==="textarea"}function $4(t,e,n,s){m4(s),e=Zx(e,"onChange"),0<e.length&&(n=new Cj("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var cm=null,Hm=null;function oW(t){G4(t,0)}function vv(t){var e=xu(t);if(o4(e))return t}function lW(t,e){if(t==="change")return e}var F4=!1;if(Oo){var Qb;if(Oo){var Jb="oninput"in document;if(!Jb){var _C=document.createElement("div");_C.setAttribute("oninput","return;"),Jb=typeof _C.oninput=="function"}Qb=Jb}else Qb=!1;F4=Qb&&(!document.documentMode||9<document.documentMode)}function RC(){cm&&(cm.detachEvent("onpropertychange",L4),Hm=cm=null)}function L4(t){if(t.propertyName==="value"&&vv(Hm)){var e=[];$4(e,Hm,t,Nj(t)),y4(oW,e)}}function cW(t,e,n){t==="focusin"?(RC(),cm=e,Hm=n,cm.attachEvent("onpropertychange",L4)):t==="focusout"&&RC()}function dW(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return vv(Hm)}function uW(t,e){if(t==="click")return vv(e)}function hW(t,e){if(t==="input"||t==="change")return vv(e)}function fW(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var oa=typeof Object.is=="function"?Object.is:fW;function Wm(t,e){if(oa(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!J1.call(e,r)||!oa(t[r],e[r]))return!1}return!0}function MC(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function OC(t,e){var n=MC(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=MC(n)}}function B4(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?B4(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function U4(){for(var t=window,e=Kx();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Kx(t.document)}return e}function Pj(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function mW(t){var e=U4(),n=t.focusedElem,s=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&B4(n.ownerDocument.documentElement,n)){if(s!==null&&Pj(n)){if(e=s.start,t=s.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,i=Math.min(s.start,r);s=s.end===void 0?i:Math.min(s.end,r),!t.extend&&i>s&&(r=s,s=i,i=r),r=OC(n,i);var o=OC(n,s);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),i>s?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var pW=Oo&&"documentMode"in document&&11>=document.documentMode,pu=null,x2=null,dm=null,y2=!1;function DC(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;y2||pu==null||pu!==Kx(s)||(s=pu,"selectionStart"in s&&Pj(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),dm&&Wm(dm,s)||(dm=s,s=Zx(x2,"onSelect"),0<s.length&&(e=new Cj("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=pu)))}function Yg(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var gu={animationend:Yg("Animation","AnimationEnd"),animationiteration:Yg("Animation","AnimationIteration"),animationstart:Yg("Animation","AnimationStart"),transitionend:Yg("Transition","TransitionEnd")},Zb={},V4={};Oo&&(V4=document.createElement("div").style,"AnimationEvent"in window||(delete gu.animationend.animation,delete gu.animationiteration.animation,delete gu.animationstart.animation),"TransitionEvent"in window||delete gu.transitionend.transition);function bv(t){if(Zb[t])return Zb[t];if(!gu[t])return t;var e=gu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in V4)return Zb[t]=e[n];return t}var z4=bv("animationend"),H4=bv("animationiteration"),W4=bv("animationstart"),K4=bv("transitionend"),q4=new Map,$C="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gc(t,e){q4.set(t,e),qd(e,[t])}for(var ew=0;ew<$C.length;ew++){var tw=$C[ew],gW=tw.toLowerCase(),xW=tw[0].toUpperCase()+tw.slice(1);gc(gW,"on"+xW)}gc(z4,"onAnimationEnd");gc(H4,"onAnimationIteration");gc(W4,"onAnimationStart");gc("dblclick","onDoubleClick");gc("focusin","onFocus");gc("focusout","onBlur");gc(K4,"onTransitionEnd");ph("onMouseEnter",["mouseout","mouseover"]);ph("onMouseLeave",["mouseout","mouseover"]);ph("onPointerEnter",["pointerout","pointerover"]);ph("onPointerLeave",["pointerout","pointerover"]);qd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qd("onBeforeInput",["compositionend","keypress","textInput","paste"]);qd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yW=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qf));function FC(t,e,n){var s=t.type||"unknown-event";t.currentTarget=n,gH(s,e,void 0,t),t.currentTarget=null}function G4(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],r=s.event;s=s.listeners;e:{var i=void 0;if(e)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&r.isPropagationStopped())break e;FC(r,l,d),i=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&r.isPropagationStopped())break e;FC(r,l,d),i=c}}}if(Gx)throw t=f2,Gx=!1,f2=null,t}function xn(t,e){var n=e[k2];n===void 0&&(n=e[k2]=new Set);var s=t+"__bubble";n.has(s)||(Y4(e,t,2,!1),n.add(s))}function nw(t,e,n){var s=0;e&&(s|=4),Y4(n,t,s,e)}var Xg="_reactListening"+Math.random().toString(36).slice(2);function Km(t){if(!t[Xg]){t[Xg]=!0,n4.forEach(function(n){n!=="selectionchange"&&(yW.has(n)||nw(n,!1,t),nw(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Xg]||(e[Xg]=!0,nw("selectionchange",!1,e))}}function Y4(t,e,n,s){switch(_4(e)){case 1:var r=_H;break;case 4:r=RH;break;default:r=Aj}n=r.bind(null,e,n,t),r=void 0,!h2||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),s?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function sw(t,e,n,s,r){var i=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===r||l.nodeType===8&&l.parentNode===r)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;o=o.return}for(;l!==null;){if(o=Wc(l),o===null)return;if(c=o.tag,c===5||c===6){s=i=o;continue e}l=l.parentNode}}s=s.return}y4(function(){var d=i,u=Nj(n),h=[];e:{var f=q4.get(t);if(f!==void 0){var m=Cj,g=t;switch(t){case"keypress":if(tx(n)===0)break e;case"keydown":case"keyup":m=GH;break;case"focusin":g="focus",m=Xb;break;case"focusout":g="blur",m=Xb;break;case"beforeblur":case"afterblur":m=Xb;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=AC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=DH;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=QH;break;case z4:case H4:case W4:m=LH;break;case K4:m=ZH;break;case"scroll":m=MH;break;case"wheel":m=tW;break;case"copy":case"cut":case"paste":m=UH;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=CC}var p=(e&4)!==0,w=!p&&t==="scroll",b=p?f!==null?f+"Capture":null:f;p=[];for(var y=d,N;y!==null;){N=y;var A=N.stateNode;if(N.tag===5&&A!==null&&(N=A,b!==null&&(A=Bm(y,b),A!=null&&p.push(qm(y,A,N)))),w)break;y=y.return}0<p.length&&(f=new m(f,g,null,n,u),h.push({event:f,listeners:p}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==d2&&(g=n.relatedTarget||n.fromElement)&&(Wc(g)||g[Do]))break e;if((m||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=d,g=g?Wc(g):null,g!==null&&(w=Gd(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=d),m!==g)){if(p=AC,A="onMouseLeave",b="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(p=CC,A="onPointerLeave",b="onPointerEnter",y="pointer"),w=m==null?f:xu(m),N=g==null?f:xu(g),f=new p(A,y+"leave",m,n,u),f.target=w,f.relatedTarget=N,A=null,Wc(u)===d&&(p=new p(b,y+"enter",g,n,u),p.target=N,p.relatedTarget=w,A=p),w=A,m&&g)t:{for(p=m,b=g,y=0,N=p;N;N=Zd(N))y++;for(N=0,A=b;A;A=Zd(A))N++;for(;0<y-N;)p=Zd(p),y--;for(;0<N-y;)b=Zd(b),N--;for(;y--;){if(p===b||b!==null&&p===b.alternate)break t;p=Zd(p),b=Zd(b)}p=null}else p=null;m!==null&&LC(h,f,m,p,!1),g!==null&&w!==null&&LC(h,w,g,p,!0)}}e:{if(f=d?xu(d):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var S=lW;else if(PC(f))if(F4)S=hW;else{S=dW;var T=cW}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=uW);if(S&&(S=S(t,d))){$4(h,S,n,u);break e}T&&T(t,f,d),t==="focusout"&&(T=f._wrapperState)&&T.controlled&&f.type==="number"&&i2(f,"number",f.value)}switch(T=d?xu(d):window,t){case"focusin":(PC(T)||T.contentEditable==="true")&&(pu=T,x2=d,dm=null);break;case"focusout":dm=x2=pu=null;break;case"mousedown":y2=!0;break;case"contextmenu":case"mouseup":case"dragend":y2=!1,DC(h,n,u);break;case"selectionchange":if(pW)break;case"keydown":case"keyup":DC(h,n,u)}var _;if(Ij)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else mu?O4(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(M4&&n.locale!=="ko"&&(mu||R!=="onCompositionStart"?R==="onCompositionEnd"&&mu&&(_=R4()):(_l=u,Tj="value"in _l?_l.value:_l.textContent,mu=!0)),T=Zx(d,R),0<T.length&&(R=new TC(R,t,null,n,u),h.push({event:R,listeners:T}),_?R.data=_:(_=D4(n),_!==null&&(R.data=_)))),(_=sW?rW(t,n):iW(t,n))&&(d=Zx(d,"onBeforeInput"),0<d.length&&(u=new TC("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:d}),u.data=_))}G4(h,e)})}function qm(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Zx(t,e){for(var n=e+"Capture",s=[];t!==null;){var r=t,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=Bm(t,n),i!=null&&s.unshift(qm(t,i,r)),i=Bm(t,e),i!=null&&s.push(qm(t,i,r))),t=t.return}return s}function Zd(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function LC(t,e,n,s,r){for(var i=e._reactName,o=[];n!==null&&n!==s;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&d!==null&&(l=d,r?(c=Bm(n,i),c!=null&&o.unshift(qm(n,c,l))):r||(c=Bm(n,i),c!=null&&o.push(qm(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var vW=/\r\n?/g,bW=/\u0000|\uFFFD/g;function BC(t){return(typeof t=="string"?t:""+t).replace(vW,`
`).replace(bW,"")}function Qg(t,e,n){if(e=BC(e),BC(t)!==e&&n)throw Error(Ee(425))}function ey(){}var v2=null,b2=null;function w2(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var N2=typeof setTimeout=="function"?setTimeout:void 0,wW=typeof clearTimeout=="function"?clearTimeout:void 0,UC=typeof Promise=="function"?Promise:void 0,NW=typeof queueMicrotask=="function"?queueMicrotask:typeof UC<"u"?function(t){return UC.resolve(null).then(t).catch(kW)}:N2;function kW(t){setTimeout(function(){throw t})}function rw(t,e){var n=e,s=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(s===0){t.removeChild(r),zm(e);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=r}while(n);zm(e)}function Kl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function VC(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Gh=Math.random().toString(36).slice(2),Ca="__reactFiber$"+Gh,Gm="__reactProps$"+Gh,Do="__reactContainer$"+Gh,k2="__reactEvents$"+Gh,jW="__reactListeners$"+Gh,SW="__reactHandles$"+Gh;function Wc(t){var e=t[Ca];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Do]||n[Ca]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=VC(t);t!==null;){if(n=t[Ca])return n;t=VC(t)}return e}t=n,n=t.parentNode}return null}function fg(t){return t=t[Ca]||t[Do],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function xu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ee(33))}function wv(t){return t[Gm]||null}var j2=[],yu=-1;function xc(t){return{current:t}}function wn(t){0>yu||(t.current=j2[yu],j2[yu]=null,yu--)}function fn(t,e){yu++,j2[yu]=t.current,t.current=e}var ic={},Ys=xc(ic),Ir=xc(!1),kd=ic;function gh(t,e){var n=t.type.contextTypes;if(!n)return ic;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in n)r[i]=e[i];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Pr(t){return t=t.childContextTypes,t!=null}function ty(){wn(Ir),wn(Ys)}function zC(t,e,n){if(Ys.current!==ic)throw Error(Ee(168));fn(Ys,e),fn(Ir,n)}function X4(t,e,n){var s=t.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var r in s)if(!(r in e))throw Error(Ee(108,cH(t)||"Unknown",r));return Rn({},n,s)}function ny(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ic,kd=Ys.current,fn(Ys,t),fn(Ir,Ir.current),!0}function HC(t,e,n){var s=t.stateNode;if(!s)throw Error(Ee(169));n?(t=X4(t,e,kd),s.__reactInternalMemoizedMergedChildContext=t,wn(Ir),wn(Ys),fn(Ys,t)):wn(Ir),fn(Ir,n)}var yo=null,Nv=!1,iw=!1;function Q4(t){yo===null?yo=[t]:yo.push(t)}function AW(t){Nv=!0,Q4(t)}function yc(){if(!iw&&yo!==null){iw=!0;var t=0,e=an;try{var n=yo;for(an=1;t<n.length;t++){var s=n[t];do s=s(!0);while(s!==null)}yo=null,Nv=!1}catch(r){throw yo!==null&&(yo=yo.slice(t+1)),N4(kj,yc),r}finally{an=e,iw=!1}}return null}var vu=[],bu=0,sy=null,ry=0,gi=[],xi=0,jd=null,So=1,Ao="";function Oc(t,e){vu[bu++]=ry,vu[bu++]=sy,sy=t,ry=e}function J4(t,e,n){gi[xi++]=So,gi[xi++]=Ao,gi[xi++]=jd,jd=t;var s=So;t=Ao;var r=32-ea(s)-1;s&=~(1<<r),n+=1;var i=32-ea(e)+r;if(30<i){var o=r-r%5;i=(s&(1<<o)-1).toString(32),s>>=o,r-=o,So=1<<32-ea(e)+r|n<<r|s,Ao=i+t}else So=1<<i|n<<r|s,Ao=t}function _j(t){t.return!==null&&(Oc(t,1),J4(t,1,0))}function Rj(t){for(;t===sy;)sy=vu[--bu],vu[bu]=null,ry=vu[--bu],vu[bu]=null;for(;t===jd;)jd=gi[--xi],gi[xi]=null,Ao=gi[--xi],gi[xi]=null,So=gi[--xi],gi[xi]=null}var Xr=null,Kr=null,kn=!1,qi=null;function Z4(t,e){var n=yi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function WC(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Xr=t,Kr=Kl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Xr=t,Kr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=jd!==null?{id:So,overflow:Ao}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=yi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Xr=t,Kr=null,!0):!1;default:return!1}}function S2(t){return(t.mode&1)!==0&&(t.flags&128)===0}function A2(t){if(kn){var e=Kr;if(e){var n=e;if(!WC(t,e)){if(S2(t))throw Error(Ee(418));e=Kl(n.nextSibling);var s=Xr;e&&WC(t,e)?Z4(s,n):(t.flags=t.flags&-4097|2,kn=!1,Xr=t)}}else{if(S2(t))throw Error(Ee(418));t.flags=t.flags&-4097|2,kn=!1,Xr=t}}}function KC(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Xr=t}function Jg(t){if(t!==Xr)return!1;if(!kn)return KC(t),kn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!w2(t.type,t.memoizedProps)),e&&(e=Kr)){if(S2(t))throw e3(),Error(Ee(418));for(;e;)Z4(t,e),e=Kl(e.nextSibling)}if(KC(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ee(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Kr=Kl(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Kr=null}}else Kr=Xr?Kl(t.stateNode.nextSibling):null;return!0}function e3(){for(var t=Kr;t;)t=Kl(t.nextSibling)}function xh(){Kr=Xr=null,kn=!1}function Mj(t){qi===null?qi=[t]:qi.push(t)}var TW=Xo.ReactCurrentBatchConfig;function Sf(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ee(309));var s=n.stateNode}if(!s)throw Error(Ee(147,t));var r=s,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=r.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(Ee(284));if(!n._owner)throw Error(Ee(290,t))}return t}function Zg(t,e){throw t=Object.prototype.toString.call(e),Error(Ee(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function qC(t){var e=t._init;return e(t._payload)}function t3(t){function e(b,y){if(t){var N=b.deletions;N===null?(b.deletions=[y],b.flags|=16):N.push(y)}}function n(b,y){if(!t)return null;for(;y!==null;)e(b,y),y=y.sibling;return null}function s(b,y){for(b=new Map;y!==null;)y.key!==null?b.set(y.key,y):b.set(y.index,y),y=y.sibling;return b}function r(b,y){return b=Xl(b,y),b.index=0,b.sibling=null,b}function i(b,y,N){return b.index=N,t?(N=b.alternate,N!==null?(N=N.index,N<y?(b.flags|=2,y):N):(b.flags|=2,y)):(b.flags|=1048576,y)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function l(b,y,N,A){return y===null||y.tag!==6?(y=hw(N,b.mode,A),y.return=b,y):(y=r(y,N),y.return=b,y)}function c(b,y,N,A){var S=N.type;return S===fu?u(b,y,N.props.children,A,N.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ml&&qC(S)===y.type)?(A=r(y,N.props),A.ref=Sf(b,y,N),A.return=b,A):(A=lx(N.type,N.key,N.props,null,b.mode,A),A.ref=Sf(b,y,N),A.return=b,A)}function d(b,y,N,A){return y===null||y.tag!==4||y.stateNode.containerInfo!==N.containerInfo||y.stateNode.implementation!==N.implementation?(y=fw(N,b.mode,A),y.return=b,y):(y=r(y,N.children||[]),y.return=b,y)}function u(b,y,N,A,S){return y===null||y.tag!==7?(y=md(N,b.mode,A,S),y.return=b,y):(y=r(y,N),y.return=b,y)}function h(b,y,N){if(typeof y=="string"&&y!==""||typeof y=="number")return y=hw(""+y,b.mode,N),y.return=b,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Vg:return N=lx(y.type,y.key,y.props,null,b.mode,N),N.ref=Sf(b,null,y),N.return=b,N;case hu:return y=fw(y,b.mode,N),y.return=b,y;case ml:var A=y._init;return h(b,A(y._payload),N)}if(Yf(y)||bf(y))return y=md(y,b.mode,N,null),y.return=b,y;Zg(b,y)}return null}function f(b,y,N,A){var S=y!==null?y.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return S!==null?null:l(b,y,""+N,A);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Vg:return N.key===S?c(b,y,N,A):null;case hu:return N.key===S?d(b,y,N,A):null;case ml:return S=N._init,f(b,y,S(N._payload),A)}if(Yf(N)||bf(N))return S!==null?null:u(b,y,N,A,null);Zg(b,N)}return null}function m(b,y,N,A,S){if(typeof A=="string"&&A!==""||typeof A=="number")return b=b.get(N)||null,l(y,b,""+A,S);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Vg:return b=b.get(A.key===null?N:A.key)||null,c(y,b,A,S);case hu:return b=b.get(A.key===null?N:A.key)||null,d(y,b,A,S);case ml:var T=A._init;return m(b,y,N,T(A._payload),S)}if(Yf(A)||bf(A))return b=b.get(N)||null,u(y,b,A,S,null);Zg(y,A)}return null}function g(b,y,N,A){for(var S=null,T=null,_=y,R=y=0,B=null;_!==null&&R<N.length;R++){_.index>R?(B=_,_=null):B=_.sibling;var V=f(b,_,N[R],A);if(V===null){_===null&&(_=B);break}t&&_&&V.alternate===null&&e(b,_),y=i(V,y,R),T===null?S=V:T.sibling=V,T=V,_=B}if(R===N.length)return n(b,_),kn&&Oc(b,R),S;if(_===null){for(;R<N.length;R++)_=h(b,N[R],A),_!==null&&(y=i(_,y,R),T===null?S=_:T.sibling=_,T=_);return kn&&Oc(b,R),S}for(_=s(b,_);R<N.length;R++)B=m(_,b,R,N[R],A),B!==null&&(t&&B.alternate!==null&&_.delete(B.key===null?R:B.key),y=i(B,y,R),T===null?S=B:T.sibling=B,T=B);return t&&_.forEach(function(U){return e(b,U)}),kn&&Oc(b,R),S}function p(b,y,N,A){var S=bf(N);if(typeof S!="function")throw Error(Ee(150));if(N=S.call(N),N==null)throw Error(Ee(151));for(var T=S=null,_=y,R=y=0,B=null,V=N.next();_!==null&&!V.done;R++,V=N.next()){_.index>R?(B=_,_=null):B=_.sibling;var U=f(b,_,V.value,A);if(U===null){_===null&&(_=B);break}t&&_&&U.alternate===null&&e(b,_),y=i(U,y,R),T===null?S=U:T.sibling=U,T=U,_=B}if(V.done)return n(b,_),kn&&Oc(b,R),S;if(_===null){for(;!V.done;R++,V=N.next())V=h(b,V.value,A),V!==null&&(y=i(V,y,R),T===null?S=V:T.sibling=V,T=V);return kn&&Oc(b,R),S}for(_=s(b,_);!V.done;R++,V=N.next())V=m(_,b,R,V.value,A),V!==null&&(t&&V.alternate!==null&&_.delete(V.key===null?R:V.key),y=i(V,y,R),T===null?S=V:T.sibling=V,T=V);return t&&_.forEach(function(L){return e(b,L)}),kn&&Oc(b,R),S}function w(b,y,N,A){if(typeof N=="object"&&N!==null&&N.type===fu&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case Vg:e:{for(var S=N.key,T=y;T!==null;){if(T.key===S){if(S=N.type,S===fu){if(T.tag===7){n(b,T.sibling),y=r(T,N.props.children),y.return=b,b=y;break e}}else if(T.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ml&&qC(S)===T.type){n(b,T.sibling),y=r(T,N.props),y.ref=Sf(b,T,N),y.return=b,b=y;break e}n(b,T);break}else e(b,T);T=T.sibling}N.type===fu?(y=md(N.props.children,b.mode,A,N.key),y.return=b,b=y):(A=lx(N.type,N.key,N.props,null,b.mode,A),A.ref=Sf(b,y,N),A.return=b,b=A)}return o(b);case hu:e:{for(T=N.key;y!==null;){if(y.key===T)if(y.tag===4&&y.stateNode.containerInfo===N.containerInfo&&y.stateNode.implementation===N.implementation){n(b,y.sibling),y=r(y,N.children||[]),y.return=b,b=y;break e}else{n(b,y);break}else e(b,y);y=y.sibling}y=fw(N,b.mode,A),y.return=b,b=y}return o(b);case ml:return T=N._init,w(b,y,T(N._payload),A)}if(Yf(N))return g(b,y,N,A);if(bf(N))return p(b,y,N,A);Zg(b,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,y!==null&&y.tag===6?(n(b,y.sibling),y=r(y,N),y.return=b,b=y):(n(b,y),y=hw(N,b.mode,A),y.return=b,b=y),o(b)):n(b,y)}return w}var yh=t3(!0),n3=t3(!1),iy=xc(null),ay=null,wu=null,Oj=null;function Dj(){Oj=wu=ay=null}function $j(t){var e=iy.current;wn(iy),t._currentValue=e}function T2(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function Uu(t,e){ay=t,Oj=wu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Tr=!0),t.firstContext=null)}function ji(t){var e=t._currentValue;if(Oj!==t)if(t={context:t,memoizedValue:e,next:null},wu===null){if(ay===null)throw Error(Ee(308));wu=t,ay.dependencies={lanes:0,firstContext:t}}else wu=wu.next=t;return e}var Kc=null;function Fj(t){Kc===null?Kc=[t]:Kc.push(t)}function s3(t,e,n,s){var r=e.interleaved;return r===null?(n.next=n,Fj(e)):(n.next=r.next,r.next=n),e.interleaved=n,$o(t,s)}function $o(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var pl=!1;function Lj(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function r3(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Eo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ql(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,Xt&2){var r=s.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),s.pending=e,$o(t,n)}return r=s.interleaved,r===null?(e.next=e,Fj(s)):(e.next=r.next,r.next=e),s.interleaved=e,$o(t,n)}function nx(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,jj(t,n)}}function GC(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?r=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?r=i=e:i=i.next=e}else r=i=e;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:s.shared,effects:s.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function oy(t,e,n,s){var r=t.updateQueue;pl=!1;var i=r.firstBaseUpdate,o=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=t.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var h=r.baseState;o=0,u=d=c=null,l=i;do{var f=l.lane,m=l.eventTime;if((s&f)===f){u!==null&&(u=u.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=t,p=l;switch(f=e,m=n,p.tag){case 1:if(g=p.payload,typeof g=="function"){h=g.call(m,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,f=typeof g=="function"?g.call(m,h,f):g,f==null)break e;h=Rn({},h,f);break e;case 2:pl=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=r.effects,f===null?r.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=m,c=h):u=u.next=m,o|=f;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;f=l,l=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(!0);if(u===null&&(c=h),r.baseState=c,r.firstBaseUpdate=d,r.lastBaseUpdate=u,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else i===null&&(r.shared.lanes=0);Ad|=o,t.lanes=o,t.memoizedState=h}}function YC(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var s=t[e],r=s.callback;if(r!==null){if(s.callback=null,s=n,typeof r!="function")throw Error(Ee(191,r));r.call(s)}}}var mg={},Oa=xc(mg),Ym=xc(mg),Xm=xc(mg);function qc(t){if(t===mg)throw Error(Ee(174));return t}function Bj(t,e){switch(fn(Xm,e),fn(Ym,t),fn(Oa,mg),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:o2(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=o2(e,t)}wn(Oa),fn(Oa,e)}function vh(){wn(Oa),wn(Ym),wn(Xm)}function i3(t){qc(Xm.current);var e=qc(Oa.current),n=o2(e,t.type);e!==n&&(fn(Ym,t),fn(Oa,n))}function Uj(t){Ym.current===t&&(wn(Oa),wn(Ym))}var Cn=xc(0);function ly(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var aw=[];function Vj(){for(var t=0;t<aw.length;t++)aw[t]._workInProgressVersionPrimary=null;aw.length=0}var sx=Xo.ReactCurrentDispatcher,ow=Xo.ReactCurrentBatchConfig,Sd=0,Pn=null,as=null,xs=null,cy=!1,um=!1,Qm=0,CW=0;function Rs(){throw Error(Ee(321))}function zj(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!oa(t[n],e[n]))return!1;return!0}function Hj(t,e,n,s,r,i){if(Sd=i,Pn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,sx.current=t===null||t.memoizedState===null?_W:RW,t=n(s,r),um){i=0;do{if(um=!1,Qm=0,25<=i)throw Error(Ee(301));i+=1,xs=as=null,e.updateQueue=null,sx.current=MW,t=n(s,r)}while(um)}if(sx.current=dy,e=as!==null&&as.next!==null,Sd=0,xs=as=Pn=null,cy=!1,e)throw Error(Ee(300));return t}function Wj(){var t=Qm!==0;return Qm=0,t}function ba(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xs===null?Pn.memoizedState=xs=t:xs=xs.next=t,xs}function Si(){if(as===null){var t=Pn.alternate;t=t!==null?t.memoizedState:null}else t=as.next;var e=xs===null?Pn.memoizedState:xs.next;if(e!==null)xs=e,as=t;else{if(t===null)throw Error(Ee(310));as=t,t={memoizedState:as.memoizedState,baseState:as.baseState,baseQueue:as.baseQueue,queue:as.queue,next:null},xs===null?Pn.memoizedState=xs=t:xs=xs.next=t}return xs}function Jm(t,e){return typeof e=="function"?e(t):e}function lw(t){var e=Si(),n=e.queue;if(n===null)throw Error(Ee(311));n.lastRenderedReducer=t;var s=as,r=s.baseQueue,i=n.pending;if(i!==null){if(r!==null){var o=r.next;r.next=i.next,i.next=o}s.baseQueue=r=i,n.pending=null}if(r!==null){i=r.next,s=s.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((Sd&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:t(s,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=s):c=c.next=h,Pn.lanes|=u,Ad|=u}d=d.next}while(d!==null&&d!==i);c===null?o=s:c.next=l,oa(s,e.memoizedState)||(Tr=!0),e.memoizedState=s,e.baseState=o,e.baseQueue=c,n.lastRenderedState=s}if(t=n.interleaved,t!==null){r=t;do i=r.lane,Pn.lanes|=i,Ad|=i,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function cw(t){var e=Si(),n=e.queue;if(n===null)throw Error(Ee(311));n.lastRenderedReducer=t;var s=n.dispatch,r=n.pending,i=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do i=t(i,o.action),o=o.next;while(o!==r);oa(i,e.memoizedState)||(Tr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,s]}function a3(){}function o3(t,e){var n=Pn,s=Si(),r=e(),i=!oa(s.memoizedState,r);if(i&&(s.memoizedState=r,Tr=!0),s=s.queue,Kj(d3.bind(null,n,s,t),[t]),s.getSnapshot!==e||i||xs!==null&&xs.memoizedState.tag&1){if(n.flags|=2048,Zm(9,c3.bind(null,n,s,r,e),void 0,null),bs===null)throw Error(Ee(349));Sd&30||l3(n,e,r)}return r}function l3(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Pn.updateQueue,e===null?(e={lastEffect:null,stores:null},Pn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function c3(t,e,n,s){e.value=n,e.getSnapshot=s,u3(e)&&h3(t)}function d3(t,e,n){return n(function(){u3(e)&&h3(t)})}function u3(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!oa(t,n)}catch{return!0}}function h3(t){var e=$o(t,1);e!==null&&ta(e,t,1,-1)}function XC(t){var e=ba();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jm,lastRenderedState:t},e.queue=t,t=t.dispatch=PW.bind(null,Pn,t),[e.memoizedState,t]}function Zm(t,e,n,s){return t={tag:t,create:e,destroy:n,deps:s,next:null},e=Pn.updateQueue,e===null?(e={lastEffect:null,stores:null},Pn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t)),t}function f3(){return Si().memoizedState}function rx(t,e,n,s){var r=ba();Pn.flags|=t,r.memoizedState=Zm(1|e,n,void 0,s===void 0?null:s)}function kv(t,e,n,s){var r=Si();s=s===void 0?null:s;var i=void 0;if(as!==null){var o=as.memoizedState;if(i=o.destroy,s!==null&&zj(s,o.deps)){r.memoizedState=Zm(e,n,i,s);return}}Pn.flags|=t,r.memoizedState=Zm(1|e,n,i,s)}function QC(t,e){return rx(8390656,8,t,e)}function Kj(t,e){return kv(2048,8,t,e)}function m3(t,e){return kv(4,2,t,e)}function p3(t,e){return kv(4,4,t,e)}function g3(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function x3(t,e,n){return n=n!=null?n.concat([t]):null,kv(4,4,g3.bind(null,e,t),n)}function qj(){}function y3(t,e){var n=Si();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&zj(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function v3(t,e){var n=Si();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&zj(e,s[1])?s[0]:(t=t(),n.memoizedState=[t,e],t)}function b3(t,e,n){return Sd&21?(oa(n,e)||(n=S4(),Pn.lanes|=n,Ad|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Tr=!0),t.memoizedState=n)}function EW(t,e){var n=an;an=n!==0&&4>n?n:4,t(!0);var s=ow.transition;ow.transition={};try{t(!1),e()}finally{an=n,ow.transition=s}}function w3(){return Si().memoizedState}function IW(t,e,n){var s=Yl(t);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},N3(t))k3(e,n);else if(n=s3(t,e,n,s),n!==null){var r=cr();ta(n,t,s,r),j3(n,e,s)}}function PW(t,e,n){var s=Yl(t),r={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(N3(t))k3(e,r);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(r.hasEagerState=!0,r.eagerState=l,oa(l,o)){var c=e.interleaved;c===null?(r.next=r,Fj(e)):(r.next=c.next,c.next=r),e.interleaved=r;return}}catch{}finally{}n=s3(t,e,r,s),n!==null&&(r=cr(),ta(n,t,s,r),j3(n,e,s))}}function N3(t){var e=t.alternate;return t===Pn||e!==null&&e===Pn}function k3(t,e){um=cy=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function j3(t,e,n){if(n&4194240){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,jj(t,n)}}var dy={readContext:ji,useCallback:Rs,useContext:Rs,useEffect:Rs,useImperativeHandle:Rs,useInsertionEffect:Rs,useLayoutEffect:Rs,useMemo:Rs,useReducer:Rs,useRef:Rs,useState:Rs,useDebugValue:Rs,useDeferredValue:Rs,useTransition:Rs,useMutableSource:Rs,useSyncExternalStore:Rs,useId:Rs,unstable_isNewReconciler:!1},_W={readContext:ji,useCallback:function(t,e){return ba().memoizedState=[t,e===void 0?null:e],t},useContext:ji,useEffect:QC,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,rx(4194308,4,g3.bind(null,e,t),n)},useLayoutEffect:function(t,e){return rx(4194308,4,t,e)},useInsertionEffect:function(t,e){return rx(4,2,t,e)},useMemo:function(t,e){var n=ba();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var s=ba();return e=n!==void 0?n(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=IW.bind(null,Pn,t),[s.memoizedState,t]},useRef:function(t){var e=ba();return t={current:t},e.memoizedState=t},useState:XC,useDebugValue:qj,useDeferredValue:function(t){return ba().memoizedState=t},useTransition:function(){var t=XC(!1),e=t[0];return t=EW.bind(null,t[1]),ba().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var s=Pn,r=ba();if(kn){if(n===void 0)throw Error(Ee(407));n=n()}else{if(n=e(),bs===null)throw Error(Ee(349));Sd&30||l3(s,e,n)}r.memoizedState=n;var i={value:n,getSnapshot:e};return r.queue=i,QC(d3.bind(null,s,i,t),[t]),s.flags|=2048,Zm(9,c3.bind(null,s,i,n,e),void 0,null),n},useId:function(){var t=ba(),e=bs.identifierPrefix;if(kn){var n=Ao,s=So;n=(s&~(1<<32-ea(s)-1)).toString(32)+n,e=":"+e+"R"+n,n=Qm++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=CW++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},RW={readContext:ji,useCallback:y3,useContext:ji,useEffect:Kj,useImperativeHandle:x3,useInsertionEffect:m3,useLayoutEffect:p3,useMemo:v3,useReducer:lw,useRef:f3,useState:function(){return lw(Jm)},useDebugValue:qj,useDeferredValue:function(t){var e=Si();return b3(e,as.memoizedState,t)},useTransition:function(){var t=lw(Jm)[0],e=Si().memoizedState;return[t,e]},useMutableSource:a3,useSyncExternalStore:o3,useId:w3,unstable_isNewReconciler:!1},MW={readContext:ji,useCallback:y3,useContext:ji,useEffect:Kj,useImperativeHandle:x3,useInsertionEffect:m3,useLayoutEffect:p3,useMemo:v3,useReducer:cw,useRef:f3,useState:function(){return cw(Jm)},useDebugValue:qj,useDeferredValue:function(t){var e=Si();return as===null?e.memoizedState=t:b3(e,as.memoizedState,t)},useTransition:function(){var t=cw(Jm)[0],e=Si().memoizedState;return[t,e]},useMutableSource:a3,useSyncExternalStore:o3,useId:w3,unstable_isNewReconciler:!1};function Bi(t,e){if(t&&t.defaultProps){e=Rn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function C2(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:Rn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var jv={isMounted:function(t){return(t=t._reactInternals)?Gd(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var s=cr(),r=Yl(t),i=Eo(s,r);i.payload=e,n!=null&&(i.callback=n),e=ql(t,i,r),e!==null&&(ta(e,t,r,s),nx(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=cr(),r=Yl(t),i=Eo(s,r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ql(t,i,r),e!==null&&(ta(e,t,r,s),nx(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=cr(),s=Yl(t),r=Eo(n,s);r.tag=2,e!=null&&(r.callback=e),e=ql(t,r,s),e!==null&&(ta(e,t,s,n),nx(e,t,s))}};function JC(t,e,n,s,r,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,i,o):e.prototype&&e.prototype.isPureReactComponent?!Wm(n,s)||!Wm(r,i):!0}function S3(t,e,n){var s=!1,r=ic,i=e.contextType;return typeof i=="object"&&i!==null?i=ji(i):(r=Pr(e)?kd:Ys.current,s=e.contextTypes,i=(s=s!=null)?gh(t,r):ic),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=jv,t.stateNode=e,e._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=i),e}function ZC(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&jv.enqueueReplaceState(e,e.state,null)}function E2(t,e,n,s){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},Lj(t);var i=e.contextType;typeof i=="object"&&i!==null?r.context=ji(i):(i=Pr(e)?kd:Ys.current,r.context=gh(t,i)),r.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(C2(t,e,i,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&jv.enqueueReplaceState(r,r.state,null),oy(t,n,r,s),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function bh(t,e){try{var n="",s=e;do n+=lH(s),s=s.return;while(s);var r=n}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:r,digest:null}}function dw(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function I2(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var OW=typeof WeakMap=="function"?WeakMap:Map;function A3(t,e,n){n=Eo(-1,n),n.tag=3,n.payload={element:null};var s=e.value;return n.callback=function(){hy||(hy=!0,B2=s),I2(t,e)},n}function T3(t,e,n){n=Eo(-1,n),n.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var r=e.value;n.payload=function(){return s(r)},n.callback=function(){I2(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){I2(t,e),typeof s!="function"&&(Gl===null?Gl=new Set([this]):Gl.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function eE(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new OW;var r=new Set;s.set(e,r)}else r=s.get(e),r===void 0&&(r=new Set,s.set(e,r));r.has(n)||(r.add(n),t=YW.bind(null,t,e,n),e.then(t,t))}function tE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function nE(t,e,n,s,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Eo(-1,1),e.tag=2,ql(n,e,1))),n.lanes|=1),t)}var DW=Xo.ReactCurrentOwner,Tr=!1;function tr(t,e,n,s){e.child=t===null?n3(e,null,n,s):yh(e,t.child,n,s)}function sE(t,e,n,s,r){n=n.render;var i=e.ref;return Uu(e,r),s=Hj(t,e,n,s,i,r),n=Wj(),t!==null&&!Tr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Fo(t,e,r)):(kn&&n&&_j(e),e.flags|=1,tr(t,e,s,r),e.child)}function rE(t,e,n,s,r){if(t===null){var i=n.type;return typeof i=="function"&&!tS(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,C3(t,e,i,s,r)):(t=lx(n.type,null,s,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&r)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Wm,n(o,s)&&t.ref===e.ref)return Fo(t,e,r)}return e.flags|=1,t=Xl(i,s),t.ref=e.ref,t.return=e,e.child=t}function C3(t,e,n,s,r){if(t!==null){var i=t.memoizedProps;if(Wm(i,s)&&t.ref===e.ref)if(Tr=!1,e.pendingProps=s=i,(t.lanes&r)!==0)t.flags&131072&&(Tr=!0);else return e.lanes=t.lanes,Fo(t,e,r)}return P2(t,e,n,s,r)}function E3(t,e,n){var s=e.pendingProps,r=s.children,i=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},fn(ku,Ur),Ur|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,fn(ku,Ur),Ur|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:n,fn(ku,Ur),Ur|=s}else i!==null?(s=i.baseLanes|n,e.memoizedState=null):s=n,fn(ku,Ur),Ur|=s;return tr(t,e,r,n),e.child}function I3(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function P2(t,e,n,s,r){var i=Pr(n)?kd:Ys.current;return i=gh(e,i),Uu(e,r),n=Hj(t,e,n,s,i,r),s=Wj(),t!==null&&!Tr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Fo(t,e,r)):(kn&&s&&_j(e),e.flags|=1,tr(t,e,n,r),e.child)}function iE(t,e,n,s,r){if(Pr(n)){var i=!0;ny(e)}else i=!1;if(Uu(e,r),e.stateNode===null)ix(t,e),S3(e,n,s),E2(e,n,s,r),s=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=ji(d):(d=Pr(n)?kd:Ys.current,d=gh(e,d));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==d)&&ZC(e,o,s,d),pl=!1;var f=e.memoizedState;o.state=f,oy(e,s,o,r),c=e.memoizedState,l!==s||f!==c||Ir.current||pl?(typeof u=="function"&&(C2(e,n,u,s),c=e.memoizedState),(l=pl||JC(e,n,l,s,f,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=c),o.props=s,o.state=c,o.context=d,s=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{o=e.stateNode,r3(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:Bi(e.type,l),o.props=d,h=e.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=ji(c):(c=Pr(n)?kd:Ys.current,c=gh(e,c));var m=n.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&ZC(e,o,s,c),pl=!1,f=e.memoizedState,o.state=f,oy(e,s,o,r);var g=e.memoizedState;l!==h||f!==g||Ir.current||pl?(typeof m=="function"&&(C2(e,n,m,s),g=e.memoizedState),(d=pl||JC(e,n,d,s,f,g,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,g,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=g),o.props=s,o.state=g,o.context=c,s=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),s=!1)}return _2(t,e,n,s,i,r)}function _2(t,e,n,s,r,i){I3(t,e);var o=(e.flags&128)!==0;if(!s&&!o)return r&&HC(e,n,!1),Fo(t,e,i);s=e.stateNode,DW.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,t!==null&&o?(e.child=yh(e,t.child,null,i),e.child=yh(e,null,l,i)):tr(t,e,l,i),e.memoizedState=s.state,r&&HC(e,n,!0),e.child}function P3(t){var e=t.stateNode;e.pendingContext?zC(t,e.pendingContext,e.pendingContext!==e.context):e.context&&zC(t,e.context,!1),Bj(t,e.containerInfo)}function aE(t,e,n,s,r){return xh(),Mj(r),e.flags|=256,tr(t,e,n,s),e.child}var R2={dehydrated:null,treeContext:null,retryLane:0};function M2(t){return{baseLanes:t,cachePool:null,transitions:null}}function _3(t,e,n){var s=e.pendingProps,r=Cn.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(r&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),fn(Cn,r&1),t===null)return A2(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=s.children,t=s.fallback,i?(s=e.mode,i=e.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Tv(o,s,0,null),t=md(t,s,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=M2(n),e.memoizedState=R2,t):Gj(e,o));if(r=t.memoizedState,r!==null&&(l=r.dehydrated,l!==null))return $W(t,e,o,s,l,r,n);if(i){i=s.fallback,o=e.mode,r=t.child,l=r.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&e.child!==r?(s=e.child,s.childLanes=0,s.pendingProps=c,e.deletions=null):(s=Xl(r,c),s.subtreeFlags=r.subtreeFlags&14680064),l!==null?i=Xl(l,i):(i=md(i,o,n,null),i.flags|=2),i.return=e,s.return=e,s.sibling=i,e.child=s,s=i,i=e.child,o=t.child.memoizedState,o=o===null?M2(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=R2,s}return i=t.child,t=i.sibling,s=Xl(i,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=n),s.return=e,s.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=s,e.memoizedState=null,s}function Gj(t,e){return e=Tv({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function e0(t,e,n,s){return s!==null&&Mj(s),yh(e,t.child,null,n),t=Gj(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function $W(t,e,n,s,r,i,o){if(n)return e.flags&256?(e.flags&=-257,s=dw(Error(Ee(422))),e0(t,e,o,s)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=s.fallback,r=e.mode,s=Tv({mode:"visible",children:s.children},r,0,null),i=md(i,r,o,null),i.flags|=2,s.return=e,i.return=e,s.sibling=i,e.child=s,e.mode&1&&yh(e,t.child,null,o),e.child.memoizedState=M2(o),e.memoizedState=R2,i);if(!(e.mode&1))return e0(t,e,o,null);if(r.data==="$!"){if(s=r.nextSibling&&r.nextSibling.dataset,s)var l=s.dgst;return s=l,i=Error(Ee(419)),s=dw(i,s,void 0),e0(t,e,o,s)}if(l=(o&t.childLanes)!==0,Tr||l){if(s=bs,s!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(s.suspendedLanes|o)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,$o(t,r),ta(s,t,r,-1))}return eS(),s=dw(Error(Ee(421))),e0(t,e,o,s)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=XW.bind(null,t),r._reactRetry=e,null):(t=i.treeContext,Kr=Kl(r.nextSibling),Xr=e,kn=!0,qi=null,t!==null&&(gi[xi++]=So,gi[xi++]=Ao,gi[xi++]=jd,So=t.id,Ao=t.overflow,jd=e),e=Gj(e,s.children),e.flags|=4096,e)}function oE(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),T2(t.return,e,n)}function uw(t,e,n,s,r){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=r)}function R3(t,e,n){var s=e.pendingProps,r=s.revealOrder,i=s.tail;if(tr(t,e,s.children,n),s=Cn.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&oE(t,n,e);else if(t.tag===19)oE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(fn(Cn,s),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&ly(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),uw(e,!1,r,n,i);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&ly(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}uw(e,!0,n,null,i);break;case"together":uw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ix(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Fo(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ad|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ee(153));if(e.child!==null){for(t=e.child,n=Xl(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Xl(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function FW(t,e,n){switch(e.tag){case 3:P3(e),xh();break;case 5:i3(e);break;case 1:Pr(e.type)&&ny(e);break;case 4:Bj(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,r=e.memoizedProps.value;fn(iy,s._currentValue),s._currentValue=r;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(fn(Cn,Cn.current&1),e.flags|=128,null):n&e.child.childLanes?_3(t,e,n):(fn(Cn,Cn.current&1),t=Fo(t,e,n),t!==null?t.sibling:null);fn(Cn,Cn.current&1);break;case 19:if(s=(n&e.childLanes)!==0,t.flags&128){if(s)return R3(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),fn(Cn,Cn.current),s)break;return null;case 22:case 23:return e.lanes=0,E3(t,e,n)}return Fo(t,e,n)}var M3,O2,O3,D3;M3=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};O2=function(){};O3=function(t,e,n,s){var r=t.memoizedProps;if(r!==s){t=e.stateNode,qc(Oa.current);var i=null;switch(n){case"input":r=s2(t,r),s=s2(t,s),i=[];break;case"select":r=Rn({},r,{value:void 0}),s=Rn({},s,{value:void 0}),i=[];break;case"textarea":r=a2(t,r),s=a2(t,s),i=[];break;default:typeof r.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=ey)}l2(n,s);var o;n=null;for(d in r)if(!s.hasOwnProperty(d)&&r.hasOwnProperty(d)&&r[d]!=null)if(d==="style"){var l=r[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Fm.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in s){var c=s[d];if(l=r!=null?r[d]:void 0,s.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Fm.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&xn("scroll",t),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};D3=function(t,e,n,s){n!==s&&(e.flags|=4)};function Af(t,e){if(!kn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function Ms(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&14680064,s|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function LW(t,e,n){var s=e.pendingProps;switch(Rj(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ms(e),null;case 1:return Pr(e.type)&&ty(),Ms(e),null;case 3:return s=e.stateNode,vh(),wn(Ir),wn(Ys),Vj(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Jg(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,qi!==null&&(z2(qi),qi=null))),O2(t,e),Ms(e),null;case 5:Uj(e);var r=qc(Xm.current);if(n=e.type,t!==null&&e.stateNode!=null)O3(t,e,n,s,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(Ee(166));return Ms(e),null}if(t=qc(Oa.current),Jg(e)){s=e.stateNode,n=e.type;var i=e.memoizedProps;switch(s[Ca]=e,s[Gm]=i,t=(e.mode&1)!==0,n){case"dialog":xn("cancel",s),xn("close",s);break;case"iframe":case"object":case"embed":xn("load",s);break;case"video":case"audio":for(r=0;r<Qf.length;r++)xn(Qf[r],s);break;case"source":xn("error",s);break;case"img":case"image":case"link":xn("error",s),xn("load",s);break;case"details":xn("toggle",s);break;case"input":gC(s,i),xn("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},xn("invalid",s);break;case"textarea":yC(s,i),xn("invalid",s)}l2(n,i),r=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?s.textContent!==l&&(i.suppressHydrationWarning!==!0&&Qg(s.textContent,l,t),r=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Qg(s.textContent,l,t),r=["children",""+l]):Fm.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&xn("scroll",s)}switch(n){case"input":zg(s),xC(s,i,!0);break;case"textarea":zg(s),vC(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=ey)}s=r,e.updateQueue=s,s!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=d4(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=o.createElement(n,{is:s.is}):(t=o.createElement(n),n==="select"&&(o=t,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):t=o.createElementNS(t,n),t[Ca]=e,t[Gm]=s,M3(t,e,!1,!1),e.stateNode=t;e:{switch(o=c2(n,s),n){case"dialog":xn("cancel",t),xn("close",t),r=s;break;case"iframe":case"object":case"embed":xn("load",t),r=s;break;case"video":case"audio":for(r=0;r<Qf.length;r++)xn(Qf[r],t);r=s;break;case"source":xn("error",t),r=s;break;case"img":case"image":case"link":xn("error",t),xn("load",t),r=s;break;case"details":xn("toggle",t),r=s;break;case"input":gC(t,s),r=s2(t,s),xn("invalid",t);break;case"option":r=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},r=Rn({},s,{value:void 0}),xn("invalid",t);break;case"textarea":yC(t,s),r=a2(t,s),xn("invalid",t);break;default:r=s}l2(n,r),l=r;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?f4(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&u4(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Lm(t,c):typeof c=="number"&&Lm(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Fm.hasOwnProperty(i)?c!=null&&i==="onScroll"&&xn("scroll",t):c!=null&&yj(t,i,c,o))}switch(n){case"input":zg(t),xC(t,s,!1);break;case"textarea":zg(t),vC(t);break;case"option":s.value!=null&&t.setAttribute("value",""+rc(s.value));break;case"select":t.multiple=!!s.multiple,i=s.value,i!=null?$u(t,!!s.multiple,i,!1):s.defaultValue!=null&&$u(t,!!s.multiple,s.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=ey)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ms(e),null;case 6:if(t&&e.stateNode!=null)D3(t,e,t.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(Ee(166));if(n=qc(Xm.current),qc(Oa.current),Jg(e)){if(s=e.stateNode,n=e.memoizedProps,s[Ca]=e,(i=s.nodeValue!==n)&&(t=Xr,t!==null))switch(t.tag){case 3:Qg(s.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Qg(s.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Ca]=e,e.stateNode=s}return Ms(e),null;case 13:if(wn(Cn),s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(kn&&Kr!==null&&e.mode&1&&!(e.flags&128))e3(),xh(),e.flags|=98560,i=!1;else if(i=Jg(e),s!==null&&s.dehydrated!==null){if(t===null){if(!i)throw Error(Ee(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ee(317));i[Ca]=e}else xh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ms(e),i=!1}else qi!==null&&(z2(qi),qi=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(t===null||Cn.current&1?hs===0&&(hs=3):eS())),e.updateQueue!==null&&(e.flags|=4),Ms(e),null);case 4:return vh(),O2(t,e),t===null&&Km(e.stateNode.containerInfo),Ms(e),null;case 10:return $j(e.type._context),Ms(e),null;case 17:return Pr(e.type)&&ty(),Ms(e),null;case 19:if(wn(Cn),i=e.memoizedState,i===null)return Ms(e),null;if(s=(e.flags&128)!==0,o=i.rendering,o===null)if(s)Af(i,!1);else{if(hs!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ly(t),o!==null){for(e.flags|=128,Af(i,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=n,n=e.child;n!==null;)i=n,t=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return fn(Cn,Cn.current&1|2),e.child}t=t.sibling}i.tail!==null&&Kn()>wh&&(e.flags|=128,s=!0,Af(i,!1),e.lanes=4194304)}else{if(!s)if(t=ly(o),t!==null){if(e.flags|=128,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Af(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!kn)return Ms(e),null}else 2*Kn()-i.renderingStartTime>wh&&n!==1073741824&&(e.flags|=128,s=!0,Af(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Kn(),e.sibling=null,n=Cn.current,fn(Cn,s?n&1|2:n&1),e):(Ms(e),null);case 22:case 23:return Zj(),s=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?Ur&1073741824&&(Ms(e),e.subtreeFlags&6&&(e.flags|=8192)):Ms(e),null;case 24:return null;case 25:return null}throw Error(Ee(156,e.tag))}function BW(t,e){switch(Rj(e),e.tag){case 1:return Pr(e.type)&&ty(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return vh(),wn(Ir),wn(Ys),Vj(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Uj(e),null;case 13:if(wn(Cn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ee(340));xh()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return wn(Cn),null;case 4:return vh(),null;case 10:return $j(e.type._context),null;case 22:case 23:return Zj(),null;case 24:return null;default:return null}}var t0=!1,Ls=!1,UW=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function Nu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){Bn(t,e,s)}else n.current=null}function D2(t,e,n){try{n()}catch(s){Bn(t,e,s)}}var lE=!1;function VW(t,e){if(v2=Qx,t=U4(),Pj(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=t,f=null;t:for(;;){for(var m;h!==n||r!==0&&h.nodeType!==3||(l=o+r),h!==i||s!==0&&h.nodeType!==3||(c=o+s),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++d===r&&(l=o),f===i&&++u===s&&(c=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(b2={focusedElem:t,selectionRange:n},Qx=!1,Qe=e;Qe!==null;)if(e=Qe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Qe=t;else for(;Qe!==null;){e=Qe;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,w=g.memoizedState,b=e.stateNode,y=b.getSnapshotBeforeUpdate(e.elementType===e.type?p:Bi(e.type,p),w);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var N=e.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ee(163))}}catch(A){Bn(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,Qe=t;break}Qe=e.return}return g=lE,lE=!1,g}function hm(t,e,n){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&t)===t){var i=r.destroy;r.destroy=void 0,i!==void 0&&D2(e,n,i)}r=r.next}while(r!==s)}}function Sv(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var s=n.create;n.destroy=s()}n=n.next}while(n!==e)}}function $2(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function $3(t){var e=t.alternate;e!==null&&(t.alternate=null,$3(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ca],delete e[Gm],delete e[k2],delete e[jW],delete e[SW])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function F3(t){return t.tag===5||t.tag===3||t.tag===4}function cE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||F3(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function F2(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ey));else if(s!==4&&(t=t.child,t!==null))for(F2(t,e,n),t=t.sibling;t!==null;)F2(t,e,n),t=t.sibling}function L2(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(L2(t,e,n),t=t.sibling;t!==null;)L2(t,e,n),t=t.sibling}var js=null,Ki=!1;function nl(t,e,n){for(n=n.child;n!==null;)L3(t,e,n),n=n.sibling}function L3(t,e,n){if(Ma&&typeof Ma.onCommitFiberUnmount=="function")try{Ma.onCommitFiberUnmount(xv,n)}catch{}switch(n.tag){case 5:Ls||Nu(n,e);case 6:var s=js,r=Ki;js=null,nl(t,e,n),js=s,Ki=r,js!==null&&(Ki?(t=js,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):js.removeChild(n.stateNode));break;case 18:js!==null&&(Ki?(t=js,n=n.stateNode,t.nodeType===8?rw(t.parentNode,n):t.nodeType===1&&rw(t,n),zm(t)):rw(js,n.stateNode));break;case 4:s=js,r=Ki,js=n.stateNode.containerInfo,Ki=!0,nl(t,e,n),js=s,Ki=r;break;case 0:case 11:case 14:case 15:if(!Ls&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){r=s=s.next;do{var i=r,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&D2(n,e,o),r=r.next}while(r!==s)}nl(t,e,n);break;case 1:if(!Ls&&(Nu(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(l){Bn(n,e,l)}nl(t,e,n);break;case 21:nl(t,e,n);break;case 22:n.mode&1?(Ls=(s=Ls)||n.memoizedState!==null,nl(t,e,n),Ls=s):nl(t,e,n);break;default:nl(t,e,n)}}function dE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new UW),e.forEach(function(s){var r=QW.bind(null,t,s);n.has(s)||(n.add(s),s.then(r,r))})}}function Ii(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:js=l.stateNode,Ki=!1;break e;case 3:js=l.stateNode.containerInfo,Ki=!0;break e;case 4:js=l.stateNode.containerInfo,Ki=!0;break e}l=l.return}if(js===null)throw Error(Ee(160));L3(i,o,r),js=null,Ki=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(d){Bn(r,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)B3(e,t),e=e.sibling}function B3(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ii(e,t),pa(t),s&4){try{hm(3,t,t.return),Sv(3,t)}catch(p){Bn(t,t.return,p)}try{hm(5,t,t.return)}catch(p){Bn(t,t.return,p)}}break;case 1:Ii(e,t),pa(t),s&512&&n!==null&&Nu(n,n.return);break;case 5:if(Ii(e,t),pa(t),s&512&&n!==null&&Nu(n,n.return),t.flags&32){var r=t.stateNode;try{Lm(r,"")}catch(p){Bn(t,t.return,p)}}if(s&4&&(r=t.stateNode,r!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&l4(r,i),c2(l,o);var d=c2(l,i);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?f4(r,h):u==="dangerouslySetInnerHTML"?u4(r,h):u==="children"?Lm(r,h):yj(r,u,h,d)}switch(l){case"input":r2(r,i);break;case"textarea":c4(r,i);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?$u(r,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?$u(r,!!i.multiple,i.defaultValue,!0):$u(r,!!i.multiple,i.multiple?[]:"",!1))}r[Gm]=i}catch(p){Bn(t,t.return,p)}}break;case 6:if(Ii(e,t),pa(t),s&4){if(t.stateNode===null)throw Error(Ee(162));r=t.stateNode,i=t.memoizedProps;try{r.nodeValue=i}catch(p){Bn(t,t.return,p)}}break;case 3:if(Ii(e,t),pa(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{zm(e.containerInfo)}catch(p){Bn(t,t.return,p)}break;case 4:Ii(e,t),pa(t);break;case 13:Ii(e,t),pa(t),r=t.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(Qj=Kn())),s&4&&dE(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Ls=(d=Ls)||u,Ii(e,t),Ls=d):Ii(e,t),pa(t),s&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!u&&t.mode&1)for(Qe=t,u=t.child;u!==null;){for(h=Qe=u;Qe!==null;){switch(f=Qe,m=f.child,f.tag){case 0:case 11:case 14:case 15:hm(4,f,f.return);break;case 1:Nu(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){s=f,n=f.return;try{e=s,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(p){Bn(s,n,p)}}break;case 5:Nu(f,f.return);break;case 22:if(f.memoizedState!==null){hE(h);continue}}m!==null?(m.return=f,Qe=m):hE(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{r=h.stateNode,d?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=h4("display",o))}catch(p){Bn(t,t.return,p)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(p){Bn(t,t.return,p)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ii(e,t),pa(t),s&4&&dE(t);break;case 21:break;default:Ii(e,t),pa(t)}}function pa(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(F3(n)){var s=n;break e}n=n.return}throw Error(Ee(160))}switch(s.tag){case 5:var r=s.stateNode;s.flags&32&&(Lm(r,""),s.flags&=-33);var i=cE(t);L2(t,i,r);break;case 3:case 4:var o=s.stateNode.containerInfo,l=cE(t);F2(t,l,o);break;default:throw Error(Ee(161))}}catch(c){Bn(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function zW(t,e,n){Qe=t,U3(t)}function U3(t,e,n){for(var s=(t.mode&1)!==0;Qe!==null;){var r=Qe,i=r.child;if(r.tag===22&&s){var o=r.memoizedState!==null||t0;if(!o){var l=r.alternate,c=l!==null&&l.memoizedState!==null||Ls;l=t0;var d=Ls;if(t0=o,(Ls=c)&&!d)for(Qe=r;Qe!==null;)o=Qe,c=o.child,o.tag===22&&o.memoizedState!==null?fE(r):c!==null?(c.return=o,Qe=c):fE(r);for(;i!==null;)Qe=i,U3(i),i=i.sibling;Qe=r,t0=l,Ls=d}uE(t)}else r.subtreeFlags&8772&&i!==null?(i.return=r,Qe=i):uE(t)}}function uE(t){for(;Qe!==null;){var e=Qe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ls||Sv(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!Ls)if(n===null)s.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:Bi(e.type,n.memoizedProps);s.componentDidUpdate(r,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&YC(e,i,s);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}YC(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&zm(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ee(163))}Ls||e.flags&512&&$2(e)}catch(f){Bn(e,e.return,f)}}if(e===t){Qe=null;break}if(n=e.sibling,n!==null){n.return=e.return,Qe=n;break}Qe=e.return}}function hE(t){for(;Qe!==null;){var e=Qe;if(e===t){Qe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Qe=n;break}Qe=e.return}}function fE(t){for(;Qe!==null;){var e=Qe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Sv(4,e)}catch(c){Bn(e,n,c)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var r=e.return;try{s.componentDidMount()}catch(c){Bn(e,r,c)}}var i=e.return;try{$2(e)}catch(c){Bn(e,i,c)}break;case 5:var o=e.return;try{$2(e)}catch(c){Bn(e,o,c)}}}catch(c){Bn(e,e.return,c)}if(e===t){Qe=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Qe=l;break}Qe=e.return}}var HW=Math.ceil,uy=Xo.ReactCurrentDispatcher,Yj=Xo.ReactCurrentOwner,wi=Xo.ReactCurrentBatchConfig,Xt=0,bs=null,ts=null,Es=0,Ur=0,ku=xc(0),hs=0,ep=null,Ad=0,Av=0,Xj=0,fm=null,Nr=null,Qj=0,wh=1/0,mo=null,hy=!1,B2=null,Gl=null,n0=!1,Rl=null,fy=0,mm=0,U2=null,ax=-1,ox=0;function cr(){return Xt&6?Kn():ax!==-1?ax:ax=Kn()}function Yl(t){return t.mode&1?Xt&2&&Es!==0?Es&-Es:TW.transition!==null?(ox===0&&(ox=S4()),ox):(t=an,t!==0||(t=window.event,t=t===void 0?16:_4(t.type)),t):1}function ta(t,e,n,s){if(50<mm)throw mm=0,U2=null,Error(Ee(185));ug(t,n,s),(!(Xt&2)||t!==bs)&&(t===bs&&(!(Xt&2)&&(Av|=n),hs===4&&vl(t,Es)),_r(t,s),n===1&&Xt===0&&!(e.mode&1)&&(wh=Kn()+500,Nv&&yc()))}function _r(t,e){var n=t.callbackNode;TH(t,e);var s=Xx(t,t===bs?Es:0);if(s===0)n!==null&&NC(n),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(n!=null&&NC(n),e===1)t.tag===0?AW(mE.bind(null,t)):Q4(mE.bind(null,t)),NW(function(){!(Xt&6)&&yc()}),n=null;else{switch(A4(s)){case 1:n=kj;break;case 4:n=k4;break;case 16:n=Yx;break;case 536870912:n=j4;break;default:n=Yx}n=Y3(n,V3.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function V3(t,e){if(ax=-1,ox=0,Xt&6)throw Error(Ee(327));var n=t.callbackNode;if(Vu()&&t.callbackNode!==n)return null;var s=Xx(t,t===bs?Es:0);if(s===0)return null;if(s&30||s&t.expiredLanes||e)e=my(t,s);else{e=s;var r=Xt;Xt|=2;var i=H3();(bs!==t||Es!==e)&&(mo=null,wh=Kn()+500,fd(t,e));do try{qW();break}catch(l){z3(t,l)}while(!0);Dj(),uy.current=i,Xt=r,ts!==null?e=0:(bs=null,Es=0,e=hs)}if(e!==0){if(e===2&&(r=m2(t),r!==0&&(s=r,e=V2(t,r))),e===1)throw n=ep,fd(t,0),vl(t,s),_r(t,Kn()),n;if(e===6)vl(t,s);else{if(r=t.current.alternate,!(s&30)&&!WW(r)&&(e=my(t,s),e===2&&(i=m2(t),i!==0&&(s=i,e=V2(t,i))),e===1))throw n=ep,fd(t,0),vl(t,s),_r(t,Kn()),n;switch(t.finishedWork=r,t.finishedLanes=s,e){case 0:case 1:throw Error(Ee(345));case 2:Dc(t,Nr,mo);break;case 3:if(vl(t,s),(s&130023424)===s&&(e=Qj+500-Kn(),10<e)){if(Xx(t,0)!==0)break;if(r=t.suspendedLanes,(r&s)!==s){cr(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=N2(Dc.bind(null,t,Nr,mo),e);break}Dc(t,Nr,mo);break;case 4:if(vl(t,s),(s&4194240)===s)break;for(e=t.eventTimes,r=-1;0<s;){var o=31-ea(s);i=1<<o,o=e[o],o>r&&(r=o),s&=~i}if(s=r,s=Kn()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*HW(s/1960))-s,10<s){t.timeoutHandle=N2(Dc.bind(null,t,Nr,mo),s);break}Dc(t,Nr,mo);break;case 5:Dc(t,Nr,mo);break;default:throw Error(Ee(329))}}}return _r(t,Kn()),t.callbackNode===n?V3.bind(null,t):null}function V2(t,e){var n=fm;return t.current.memoizedState.isDehydrated&&(fd(t,e).flags|=256),t=my(t,e),t!==2&&(e=Nr,Nr=n,e!==null&&z2(e)),t}function z2(t){Nr===null?Nr=t:Nr.push.apply(Nr,t)}function WW(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var r=n[s],i=r.getSnapshot;r=r.value;try{if(!oa(i(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function vl(t,e){for(e&=~Xj,e&=~Av,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ea(e),s=1<<n;t[n]=-1,e&=~s}}function mE(t){if(Xt&6)throw Error(Ee(327));Vu();var e=Xx(t,0);if(!(e&1))return _r(t,Kn()),null;var n=my(t,e);if(t.tag!==0&&n===2){var s=m2(t);s!==0&&(e=s,n=V2(t,s))}if(n===1)throw n=ep,fd(t,0),vl(t,e),_r(t,Kn()),n;if(n===6)throw Error(Ee(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Dc(t,Nr,mo),_r(t,Kn()),null}function Jj(t,e){var n=Xt;Xt|=1;try{return t(e)}finally{Xt=n,Xt===0&&(wh=Kn()+500,Nv&&yc())}}function Td(t){Rl!==null&&Rl.tag===0&&!(Xt&6)&&Vu();var e=Xt;Xt|=1;var n=wi.transition,s=an;try{if(wi.transition=null,an=1,t)return t()}finally{an=s,wi.transition=n,Xt=e,!(Xt&6)&&yc()}}function Zj(){Ur=ku.current,wn(ku)}function fd(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,wW(n)),ts!==null)for(n=ts.return;n!==null;){var s=n;switch(Rj(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&ty();break;case 3:vh(),wn(Ir),wn(Ys),Vj();break;case 5:Uj(s);break;case 4:vh();break;case 13:wn(Cn);break;case 19:wn(Cn);break;case 10:$j(s.type._context);break;case 22:case 23:Zj()}n=n.return}if(bs=t,ts=t=Xl(t.current,null),Es=Ur=e,hs=0,ep=null,Xj=Av=Ad=0,Nr=fm=null,Kc!==null){for(e=0;e<Kc.length;e++)if(n=Kc[e],s=n.interleaved,s!==null){n.interleaved=null;var r=s.next,i=n.pending;if(i!==null){var o=i.next;i.next=r,s.next=o}n.pending=s}Kc=null}return t}function z3(t,e){do{var n=ts;try{if(Dj(),sx.current=dy,cy){for(var s=Pn.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}cy=!1}if(Sd=0,xs=as=Pn=null,um=!1,Qm=0,Yj.current=null,n===null||n.return===null){hs=1,ep=e,ts=null;break}e:{var i=t,o=n.return,l=n,c=e;if(e=Es,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=tE(o);if(m!==null){m.flags&=-257,nE(m,o,l,i,e),m.mode&1&&eE(i,d,e),e=m,c=d;var g=e.updateQueue;if(g===null){var p=new Set;p.add(c),e.updateQueue=p}else g.add(c);break e}else{if(!(e&1)){eE(i,d,e),eS();break e}c=Error(Ee(426))}}else if(kn&&l.mode&1){var w=tE(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),nE(w,o,l,i,e),Mj(bh(c,l));break e}}i=c=bh(c,l),hs!==4&&(hs=2),fm===null?fm=[i]:fm.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var b=A3(i,c,e);GC(i,b);break e;case 1:l=c;var y=i.type,N=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Gl===null||!Gl.has(N)))){i.flags|=65536,e&=-e,i.lanes|=e;var A=T3(i,l,e);GC(i,A);break e}}i=i.return}while(i!==null)}K3(n)}catch(S){e=S,ts===n&&n!==null&&(ts=n=n.return);continue}break}while(!0)}function H3(){var t=uy.current;return uy.current=dy,t===null?dy:t}function eS(){(hs===0||hs===3||hs===2)&&(hs=4),bs===null||!(Ad&268435455)&&!(Av&268435455)||vl(bs,Es)}function my(t,e){var n=Xt;Xt|=2;var s=H3();(bs!==t||Es!==e)&&(mo=null,fd(t,e));do try{KW();break}catch(r){z3(t,r)}while(!0);if(Dj(),Xt=n,uy.current=s,ts!==null)throw Error(Ee(261));return bs=null,Es=0,hs}function KW(){for(;ts!==null;)W3(ts)}function qW(){for(;ts!==null&&!yH();)W3(ts)}function W3(t){var e=G3(t.alternate,t,Ur);t.memoizedProps=t.pendingProps,e===null?K3(t):ts=e,Yj.current=null}function K3(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=BW(n,e),n!==null){n.flags&=32767,ts=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{hs=6,ts=null;return}}else if(n=LW(n,e,Ur),n!==null){ts=n;return}if(e=e.sibling,e!==null){ts=e;return}ts=e=t}while(e!==null);hs===0&&(hs=5)}function Dc(t,e,n){var s=an,r=wi.transition;try{wi.transition=null,an=1,GW(t,e,n,s)}finally{wi.transition=r,an=s}return null}function GW(t,e,n,s){do Vu();while(Rl!==null);if(Xt&6)throw Error(Ee(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Ee(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(CH(t,i),t===bs&&(ts=bs=null,Es=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||n0||(n0=!0,Y3(Yx,function(){return Vu(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=wi.transition,wi.transition=null;var o=an;an=1;var l=Xt;Xt|=4,Yj.current=null,VW(t,n),B3(n,t),mW(b2),Qx=!!v2,b2=v2=null,t.current=n,zW(n),vH(),Xt=l,an=o,wi.transition=i}else t.current=n;if(n0&&(n0=!1,Rl=t,fy=r),i=t.pendingLanes,i===0&&(Gl=null),NH(n.stateNode),_r(t,Kn()),e!==null)for(s=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],s(r.value,{componentStack:r.stack,digest:r.digest});if(hy)throw hy=!1,t=B2,B2=null,t;return fy&1&&t.tag!==0&&Vu(),i=t.pendingLanes,i&1?t===U2?mm++:(mm=0,U2=t):mm=0,yc(),null}function Vu(){if(Rl!==null){var t=A4(fy),e=wi.transition,n=an;try{if(wi.transition=null,an=16>t?16:t,Rl===null)var s=!1;else{if(t=Rl,Rl=null,fy=0,Xt&6)throw Error(Ee(331));var r=Xt;for(Xt|=4,Qe=t.current;Qe!==null;){var i=Qe,o=i.child;if(Qe.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Qe=d;Qe!==null;){var u=Qe;switch(u.tag){case 0:case 11:case 15:hm(8,u,i)}var h=u.child;if(h!==null)h.return=u,Qe=h;else for(;Qe!==null;){u=Qe;var f=u.sibling,m=u.return;if($3(u),u===d){Qe=null;break}if(f!==null){f.return=m,Qe=f;break}Qe=m}}}var g=i.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var w=p.sibling;p.sibling=null,p=w}while(p!==null)}}Qe=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Qe=o;else e:for(;Qe!==null;){if(i=Qe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:hm(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,Qe=b;break e}Qe=i.return}}var y=t.current;for(Qe=y;Qe!==null;){o=Qe;var N=o.child;if(o.subtreeFlags&2064&&N!==null)N.return=o,Qe=N;else e:for(o=y;Qe!==null;){if(l=Qe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Sv(9,l)}}catch(S){Bn(l,l.return,S)}if(l===o){Qe=null;break e}var A=l.sibling;if(A!==null){A.return=l.return,Qe=A;break e}Qe=l.return}}if(Xt=r,yc(),Ma&&typeof Ma.onPostCommitFiberRoot=="function")try{Ma.onPostCommitFiberRoot(xv,t)}catch{}s=!0}return s}finally{an=n,wi.transition=e}}return!1}function pE(t,e,n){e=bh(n,e),e=A3(t,e,1),t=ql(t,e,1),e=cr(),t!==null&&(ug(t,1,e),_r(t,e))}function Bn(t,e,n){if(t.tag===3)pE(t,t,n);else for(;e!==null;){if(e.tag===3){pE(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Gl===null||!Gl.has(s))){t=bh(n,t),t=T3(e,t,1),e=ql(e,t,1),t=cr(),e!==null&&(ug(e,1,t),_r(e,t));break}}e=e.return}}function YW(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),e=cr(),t.pingedLanes|=t.suspendedLanes&n,bs===t&&(Es&n)===n&&(hs===4||hs===3&&(Es&130023424)===Es&&500>Kn()-Qj?fd(t,0):Xj|=n),_r(t,e)}function q3(t,e){e===0&&(t.mode&1?(e=Kg,Kg<<=1,!(Kg&130023424)&&(Kg=4194304)):e=1);var n=cr();t=$o(t,e),t!==null&&(ug(t,e,n),_r(t,n))}function XW(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),q3(t,n)}function QW(t,e){var n=0;switch(t.tag){case 13:var s=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(Ee(314))}s!==null&&s.delete(e),q3(t,n)}var G3;G3=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ir.current)Tr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Tr=!1,FW(t,e,n);Tr=!!(t.flags&131072)}else Tr=!1,kn&&e.flags&1048576&&J4(e,ry,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;ix(t,e),t=e.pendingProps;var r=gh(e,Ys.current);Uu(e,n),r=Hj(null,e,s,t,r,n);var i=Wj();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pr(s)?(i=!0,ny(e)):i=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Lj(e),r.updater=jv,e.stateNode=r,r._reactInternals=e,E2(e,s,t,n),e=_2(null,e,s,!0,i,n)):(e.tag=0,kn&&i&&_j(e),tr(null,e,r,n),e=e.child),e;case 16:s=e.elementType;e:{switch(ix(t,e),t=e.pendingProps,r=s._init,s=r(s._payload),e.type=s,r=e.tag=ZW(s),t=Bi(s,t),r){case 0:e=P2(null,e,s,t,n);break e;case 1:e=iE(null,e,s,t,n);break e;case 11:e=sE(null,e,s,t,n);break e;case 14:e=rE(null,e,s,Bi(s.type,t),n);break e}throw Error(Ee(306,s,""))}return e;case 0:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Bi(s,r),P2(t,e,s,r,n);case 1:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Bi(s,r),iE(t,e,s,r,n);case 3:e:{if(P3(e),t===null)throw Error(Ee(387));s=e.pendingProps,i=e.memoizedState,r=i.element,r3(t,e),oy(e,s,null,n);var o=e.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){r=bh(Error(Ee(423)),e),e=aE(t,e,s,n,r);break e}else if(s!==r){r=bh(Error(Ee(424)),e),e=aE(t,e,s,n,r);break e}else for(Kr=Kl(e.stateNode.containerInfo.firstChild),Xr=e,kn=!0,qi=null,n=n3(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xh(),s===r){e=Fo(t,e,n);break e}tr(t,e,s,n)}e=e.child}return e;case 5:return i3(e),t===null&&A2(e),s=e.type,r=e.pendingProps,i=t!==null?t.memoizedProps:null,o=r.children,w2(s,r)?o=null:i!==null&&w2(s,i)&&(e.flags|=32),I3(t,e),tr(t,e,o,n),e.child;case 6:return t===null&&A2(e),null;case 13:return _3(t,e,n);case 4:return Bj(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=yh(e,null,s,n):tr(t,e,s,n),e.child;case 11:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Bi(s,r),sE(t,e,s,r,n);case 7:return tr(t,e,e.pendingProps,n),e.child;case 8:return tr(t,e,e.pendingProps.children,n),e.child;case 12:return tr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(s=e.type._context,r=e.pendingProps,i=e.memoizedProps,o=r.value,fn(iy,s._currentValue),s._currentValue=o,i!==null)if(oa(i.value,o)){if(i.children===r.children&&!Ir.current){e=Fo(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=Eo(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),T2(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Ee(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),T2(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}tr(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,s=e.pendingProps.children,Uu(e,n),r=ji(r),s=s(r),e.flags|=1,tr(t,e,s,n),e.child;case 14:return s=e.type,r=Bi(s,e.pendingProps),r=Bi(s.type,r),rE(t,e,s,r,n);case 15:return C3(t,e,e.type,e.pendingProps,n);case 17:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Bi(s,r),ix(t,e),e.tag=1,Pr(s)?(t=!0,ny(e)):t=!1,Uu(e,n),S3(e,s,r),E2(e,s,r,n),_2(null,e,s,!0,t,n);case 19:return R3(t,e,n);case 22:return E3(t,e,n)}throw Error(Ee(156,e.tag))};function Y3(t,e){return N4(t,e)}function JW(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yi(t,e,n,s){return new JW(t,e,n,s)}function tS(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ZW(t){if(typeof t=="function")return tS(t)?1:0;if(t!=null){if(t=t.$$typeof,t===bj)return 11;if(t===wj)return 14}return 2}function Xl(t,e){var n=t.alternate;return n===null?(n=yi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function lx(t,e,n,s,r,i){var o=2;if(s=t,typeof t=="function")tS(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case fu:return md(n.children,r,i,e);case vj:o=8,r|=8;break;case Z1:return t=yi(12,n,e,r|2),t.elementType=Z1,t.lanes=i,t;case e2:return t=yi(13,n,e,r),t.elementType=e2,t.lanes=i,t;case t2:return t=yi(19,n,e,r),t.elementType=t2,t.lanes=i,t;case i4:return Tv(n,r,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case s4:o=10;break e;case r4:o=9;break e;case bj:o=11;break e;case wj:o=14;break e;case ml:o=16,s=null;break e}throw Error(Ee(130,t==null?t:typeof t,""))}return e=yi(o,n,e,r),e.elementType=t,e.type=s,e.lanes=i,e}function md(t,e,n,s){return t=yi(7,t,s,e),t.lanes=n,t}function Tv(t,e,n,s){return t=yi(22,t,s,e),t.elementType=i4,t.lanes=n,t.stateNode={isHidden:!1},t}function hw(t,e,n){return t=yi(6,t,null,e),t.lanes=n,t}function fw(t,e,n){return e=yi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function eK(t,e,n,s,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qb(0),this.expirationTimes=qb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qb(0),this.identifierPrefix=s,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function nS(t,e,n,s,r,i,o,l,c){return t=new eK(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=yi(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lj(i),t}function tK(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hu,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}function X3(t){if(!t)return ic;t=t._reactInternals;e:{if(Gd(t)!==t||t.tag!==1)throw Error(Ee(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Pr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ee(171))}if(t.tag===1){var n=t.type;if(Pr(n))return X4(t,n,e)}return e}function Q3(t,e,n,s,r,i,o,l,c){return t=nS(n,s,!0,t,r,i,o,l,c),t.context=X3(null),n=t.current,s=cr(),r=Yl(n),i=Eo(s,r),i.callback=e??null,ql(n,i,r),t.current.lanes=r,ug(t,r,s),_r(t,s),t}function Cv(t,e,n,s){var r=e.current,i=cr(),o=Yl(r);return n=X3(n),e.context===null?e.context=n:e.pendingContext=n,e=Eo(i,o),e.payload={element:t},s=s===void 0?null:s,s!==null&&(e.callback=s),t=ql(r,e,o),t!==null&&(ta(t,r,o,i),nx(t,r,o)),o}function py(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function gE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function sS(t,e){gE(t,e),(t=t.alternate)&&gE(t,e)}function nK(){return null}var J3=typeof reportError=="function"?reportError:function(t){console.error(t)};function rS(t){this._internalRoot=t}Ev.prototype.render=rS.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ee(409));Cv(t,e,null,null)};Ev.prototype.unmount=rS.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Td(function(){Cv(null,t,null,null)}),e[Do]=null}};function Ev(t){this._internalRoot=t}Ev.prototype.unstable_scheduleHydration=function(t){if(t){var e=E4();t={blockedOn:null,target:t,priority:e};for(var n=0;n<yl.length&&e!==0&&e<yl[n].priority;n++);yl.splice(n,0,t),n===0&&P4(t)}};function iS(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Iv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function xE(){}function sK(t,e,n,s,r){if(r){if(typeof s=="function"){var i=s;s=function(){var d=py(o);i.call(d)}}var o=Q3(e,s,t,0,null,!1,!1,"",xE);return t._reactRootContainer=o,t[Do]=o.current,Km(t.nodeType===8?t.parentNode:t),Td(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof s=="function"){var l=s;s=function(){var d=py(c);l.call(d)}}var c=nS(t,0,!1,null,null,!1,!1,"",xE);return t._reactRootContainer=c,t[Do]=c.current,Km(t.nodeType===8?t.parentNode:t),Td(function(){Cv(e,c,n,s)}),c}function Pv(t,e,n,s,r){var i=n._reactRootContainer;if(i){var o=i;if(typeof r=="function"){var l=r;r=function(){var c=py(o);l.call(c)}}Cv(e,o,t,r)}else o=sK(n,e,t,r,s);return py(o)}T4=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Xf(e.pendingLanes);n!==0&&(jj(e,n|1),_r(e,Kn()),!(Xt&6)&&(wh=Kn()+500,yc()))}break;case 13:Td(function(){var s=$o(t,1);if(s!==null){var r=cr();ta(s,t,1,r)}}),sS(t,1)}};Sj=function(t){if(t.tag===13){var e=$o(t,134217728);if(e!==null){var n=cr();ta(e,t,134217728,n)}sS(t,134217728)}};C4=function(t){if(t.tag===13){var e=Yl(t),n=$o(t,e);if(n!==null){var s=cr();ta(n,t,e,s)}sS(t,e)}};E4=function(){return an};I4=function(t,e){var n=an;try{return an=t,e()}finally{an=n}};u2=function(t,e,n){switch(e){case"input":if(r2(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var r=wv(s);if(!r)throw Error(Ee(90));o4(s),r2(s,r)}}}break;case"textarea":c4(t,n);break;case"select":e=n.value,e!=null&&$u(t,!!n.multiple,e,!1)}};g4=Jj;x4=Td;var rK={usingClientEntryPoint:!1,Events:[fg,xu,wv,m4,p4,Jj]},Tf={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iK={bundleType:Tf.bundleType,version:Tf.version,rendererPackageName:Tf.rendererPackageName,rendererConfig:Tf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=b4(t),t===null?null:t.stateNode},findFiberByHostInstance:Tf.findFiberByHostInstance||nK,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var s0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!s0.isDisabled&&s0.supportsFiber)try{xv=s0.inject(iK),Ma=s0}catch{}}ti.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rK;ti.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!iS(e))throw Error(Ee(200));return tK(t,e,null,n)};ti.createRoot=function(t,e){if(!iS(t))throw Error(Ee(299));var n=!1,s="",r=J3;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=nS(t,1,!1,null,null,n,!1,s,r),t[Do]=e.current,Km(t.nodeType===8?t.parentNode:t),new rS(e)};ti.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ee(188)):(t=Object.keys(t).join(","),Error(Ee(268,t)));return t=b4(e),t=t===null?null:t.stateNode,t};ti.flushSync=function(t){return Td(t)};ti.hydrate=function(t,e,n){if(!Iv(e))throw Error(Ee(200));return Pv(null,t,e,!0,n)};ti.hydrateRoot=function(t,e,n){if(!iS(t))throw Error(Ee(405));var s=n!=null&&n.hydratedSources||null,r=!1,i="",o=J3;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Q3(e,null,t,1,n??null,r,!1,i,o),t[Do]=e.current,Km(t),s)for(t=0;t<s.length;t++)n=s[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Ev(e)};ti.render=function(t,e,n){if(!Iv(e))throw Error(Ee(200));return Pv(null,t,e,!1,n)};ti.unmountComponentAtNode=function(t){if(!Iv(t))throw Error(Ee(40));return t._reactRootContainer?(Td(function(){Pv(null,null,t,!1,function(){t._reactRootContainer=null,t[Do]=null})}),!0):!1};ti.unstable_batchedUpdates=Jj;ti.unstable_renderSubtreeIntoContainer=function(t,e,n,s){if(!Iv(n))throw Error(Ee(200));if(t==null||t._reactInternals===void 0)throw Error(Ee(38));return Pv(t,e,n,!1,s)};ti.version="18.3.1-next-f1338f8080-20240426";function Z3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Z3)}catch(t){console.error(t)}}Z3(),ZM.exports=ti;var Yd=ZM.exports;const eO=Kd(Yd);var tO,yE=Yd;tO=yE.createRoot,yE.hydrateRoot;const aK=1,oK=1e6;let mw=0;function lK(){return mw=(mw+1)%Number.MAX_SAFE_INTEGER,mw.toString()}const pw=new Map,vE=t=>{if(pw.has(t))return;const e=setTimeout(()=>{pw.delete(t),pm({type:"REMOVE_TOAST",toastId:t})},oK);pw.set(t,e)},cK=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,aK)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?vE(n):t.toasts.forEach(s=>{vE(s.id)}),{...t,toasts:t.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},cx=[];let dx={toasts:[]};function pm(t){dx=cK(dx,t),cx.forEach(e=>{e(dx)})}function dK({...t}){const e=lK(),n=r=>pm({type:"UPDATE_TOAST",toast:{...r,id:e}}),s=()=>pm({type:"DISMISS_TOAST",toastId:e});return pm({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:r=>{r||s()}}}),{id:e,dismiss:s,update:n}}function uK(){const[t,e]=v.useState(dx);return v.useEffect(()=>(cx.push(e),()=>{const n=cx.indexOf(e);n>-1&&cx.splice(n,1)}),[t]),{...t,toast:dK,dismiss:n=>pm({type:"DISMISS_TOAST",toastId:n})}}function mt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t==null||t(r),n===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function hK(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function nO(...t){return e=>t.forEach(n=>hK(n,e))}function on(...t){return v.useCallback(nO(...t),t)}function fK(t,e=[]){let n=[];function s(i,o){const l=v.createContext(o),c=n.length;n=[...n,o];function d(h){const{scope:f,children:m,...g}=h,p=(f==null?void 0:f[t][c])||l,w=v.useMemo(()=>g,Object.values(g));return a.jsx(p.Provider,{value:w,children:m})}function u(h,f){const m=(f==null?void 0:f[t][c])||l,g=v.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const r=()=>{const i=n.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return r.scopeName=t,[s,mK(r,...e)]}function mK(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Cd=v.forwardRef((t,e)=>{const{children:n,...s}=t,r=v.Children.toArray(n),i=r.find(pK);if(i){const o=i.props.children,l=r.map(c=>c===i?v.Children.count(o)>1?v.Children.only(null):v.isValidElement(o)?o.props.children:null:c);return a.jsx(H2,{...s,ref:e,children:v.isValidElement(o)?v.cloneElement(o,void 0,l):null})}return a.jsx(H2,{...s,ref:e,children:n})});Cd.displayName="Slot";var H2=v.forwardRef((t,e)=>{const{children:n,...s}=t;if(v.isValidElement(n)){const r=xK(n);return v.cloneElement(n,{...gK(s,n.props),ref:e?nO(e,r):r})}return v.Children.count(n)>1?v.Children.only(null):null});H2.displayName="SlotClone";var sO=({children:t})=>a.jsx(a.Fragment,{children:t});function pK(t){return v.isValidElement(t)&&t.type===sO}function gK(t,e){const n={...e};for(const s in e){const r=t[s],i=e[s];/^on[A-Z]/.test(s)?r&&i?n[s]=(...l)=>{i(...l),r(...l)}:r&&(n[s]=r):s==="style"?n[s]={...r,...i}:s==="className"&&(n[s]=[r,i].filter(Boolean).join(" "))}return{...t,...n}}function xK(t){var s,r;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function _v(t){const e=t+"CollectionProvider",[n,s]=fK(e),[r,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:g,children:p}=m,w=Ae.useRef(null),b=Ae.useRef(new Map).current;return a.jsx(r,{scope:g,itemMap:b,collectionRef:w,children:p})};o.displayName=e;const l=t+"CollectionSlot",c=Ae.forwardRef((m,g)=>{const{scope:p,children:w}=m,b=i(l,p),y=on(g,b.collectionRef);return a.jsx(Cd,{ref:y,children:w})});c.displayName=l;const d=t+"CollectionItemSlot",u="data-radix-collection-item",h=Ae.forwardRef((m,g)=>{const{scope:p,children:w,...b}=m,y=Ae.useRef(null),N=on(g,y),A=i(d,p);return Ae.useEffect(()=>(A.itemMap.set(y,{ref:y,...b}),()=>void A.itemMap.delete(y))),a.jsx(Cd,{[u]:"",ref:N,children:w})});h.displayName=d;function f(m){const g=i(t+"CollectionConsumer",m);return Ae.useCallback(()=>{const w=g.collectionRef.current;if(!w)return[];const b=Array.from(w.querySelectorAll(`[${u}]`));return Array.from(g.itemMap.values()).sort((A,S)=>b.indexOf(A.ref.current)-b.indexOf(S.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:c,ItemSlot:h},f,s]}function yK(t,e){const n=v.createContext(e),s=i=>{const{children:o,...l}=i,c=v.useMemo(()=>l,Object.values(l));return a.jsx(n.Provider,{value:c,children:o})};s.displayName=t+"Provider";function r(i){const o=v.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[s,r]}function Qo(t,e=[]){let n=[];function s(i,o){const l=v.createContext(o),c=n.length;n=[...n,o];const d=h=>{var b;const{scope:f,children:m,...g}=h,p=((b=f==null?void 0:f[t])==null?void 0:b[c])||l,w=v.useMemo(()=>g,Object.values(g));return a.jsx(p.Provider,{value:w,children:m})};d.displayName=i+"Provider";function u(h,f){var p;const m=((p=f==null?void 0:f[t])==null?void 0:p[c])||l,g=v.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[d,u]}const r=()=>{const i=n.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return r.scopeName=t,[s,vK(r,...e)]}function vK(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var bK=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],gt=bK.reduce((t,e)=>{const n=v.forwardRef((s,r)=>{const{asChild:i,...o}=s,l=i?Cd:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(l,{...o,ref:r})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function rO(t,e){t&&Yd.flushSync(()=>t.dispatchEvent(e))}function dr(t){const e=v.useRef(t);return v.useEffect(()=>{e.current=t}),v.useMemo(()=>(...n)=>{var s;return(s=e.current)==null?void 0:s.call(e,...n)},[])}function wK(t,e=globalThis==null?void 0:globalThis.document){const n=dr(t);v.useEffect(()=>{const s=r=>{r.key==="Escape"&&n(r)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[n,e])}var NK="DismissableLayer",W2="dismissableLayer.update",kK="dismissableLayer.pointerDownOutside",jK="dismissableLayer.focusOutside",bE,iO=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),pg=v.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:r,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=t,d=v.useContext(iO),[u,h]=v.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=v.useState({}),g=on(e,_=>h(_)),p=Array.from(d.layers),[w]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),b=p.indexOf(w),y=u?p.indexOf(u):-1,N=d.layersWithOutsidePointerEventsDisabled.size>0,A=y>=b,S=AK(_=>{const R=_.target,B=[...d.branches].some(V=>V.contains(R));!A||B||(r==null||r(_),o==null||o(_),_.defaultPrevented||l==null||l())},f),T=TK(_=>{const R=_.target;[...d.branches].some(V=>V.contains(R))||(i==null||i(_),o==null||o(_),_.defaultPrevented||l==null||l())},f);return wK(_=>{y===d.layers.size-1&&(s==null||s(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},f),v.useEffect(()=>{if(u)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(bE=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),wE(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=bE)}},[u,f,n,d]),v.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),wE())},[u,d]),v.useEffect(()=>{const _=()=>m({});return document.addEventListener(W2,_),()=>document.removeEventListener(W2,_)},[]),a.jsx(gt.div,{...c,ref:g,style:{pointerEvents:N?A?"auto":"none":void 0,...t.style},onFocusCapture:mt(t.onFocusCapture,T.onFocusCapture),onBlurCapture:mt(t.onBlurCapture,T.onBlurCapture),onPointerDownCapture:mt(t.onPointerDownCapture,S.onPointerDownCapture)})});pg.displayName=NK;var SK="DismissableLayerBranch",aO=v.forwardRef((t,e)=>{const n=v.useContext(iO),s=v.useRef(null),r=on(e,s);return v.useEffect(()=>{const i=s.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),a.jsx(gt.div,{...t,ref:r})});aO.displayName=SK;function AK(t,e=globalThis==null?void 0:globalThis.document){const n=dr(t),s=v.useRef(!1),r=v.useRef(()=>{});return v.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let c=function(){oO(kK,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=c,e.addEventListener("click",r.current,{once:!0})):c()}else e.removeEventListener("click",r.current);s.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",r.current)}},[e,n]),{onPointerDownCapture:()=>s.current=!0}}function TK(t,e=globalThis==null?void 0:globalThis.document){const n=dr(t),s=v.useRef(!1);return v.useEffect(()=>{const r=i=>{i.target&&!s.current&&oO(jK,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function wE(){const t=new CustomEvent(W2);document.dispatchEvent(t)}function oO(t,e,n,{discrete:s}){const r=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),s?rO(r,i):r.dispatchEvent(i)}var CK=pg,EK=aO,fs=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},IK="Portal",Rv=v.forwardRef((t,e)=>{var l;const{container:n,...s}=t,[r,i]=v.useState(!1);fs(()=>i(!0),[]);const o=n||r&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?eO.createPortal(a.jsx(gt.div,{...s,ref:e}),o):null});Rv.displayName=IK;function PK(t,e){return v.useReducer((n,s)=>e[n][s]??n,t)}var vc=t=>{const{present:e,children:n}=t,s=_K(e),r=typeof n=="function"?n({present:s.isPresent}):v.Children.only(n),i=on(s.ref,RK(r));return typeof n=="function"||s.isPresent?v.cloneElement(r,{ref:i}):null};vc.displayName="Presence";function _K(t){const[e,n]=v.useState(),s=v.useRef({}),r=v.useRef(t),i=v.useRef("none"),o=t?"mounted":"unmounted",[l,c]=PK(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const d=r0(s.current);i.current=l==="mounted"?d:"none"},[l]),fs(()=>{const d=s.current,u=r.current;if(u!==t){const f=i.current,m=r0(d);t?c("MOUNT"):m==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&f!==m?"ANIMATION_OUT":"UNMOUNT"),r.current=t}},[t,c]),fs(()=>{if(e){let d;const u=e.ownerDocument.defaultView??window,h=m=>{const p=r0(s.current).includes(m.animationName);if(m.target===e&&p&&(c("ANIMATION_END"),!r.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",d=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},f=m=>{m.target===e&&(i.current=r0(s.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{u.clearTimeout(d),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:v.useCallback(d=>{d&&(s.current=getComputedStyle(d)),n(d)},[])}}function r0(t){return(t==null?void 0:t.animationName)||"none"}function RK(t){var s,r;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function qa({prop:t,defaultProp:e,onChange:n=()=>{}}){const[s,r]=MK({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:s,l=dr(n),c=v.useCallback(d=>{if(i){const h=typeof d=="function"?d(t):d;h!==t&&l(h)}else r(d)},[i,t,r,l]);return[o,c]}function MK({defaultProp:t,onChange:e}){const n=v.useState(t),[s]=n,r=v.useRef(s),i=dr(e);return v.useEffect(()=>{r.current!==s&&(i(s),r.current=s)},[s,r,i]),n}var OK="VisuallyHidden",gg=v.forwardRef((t,e)=>a.jsx(gt.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));gg.displayName=OK;var DK=gg,aS="ToastProvider",[oS,$K,FK]=_v("Toast"),[lO,Ake]=Qo("Toast",[FK]),[LK,Mv]=lO(aS),cO=t=>{const{__scopeToast:e,label:n="Notification",duration:s=5e3,swipeDirection:r="right",swipeThreshold:i=50,children:o}=t,[l,c]=v.useState(null),[d,u]=v.useState(0),h=v.useRef(!1),f=v.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${aS}\`. Expected non-empty \`string\`.`),a.jsx(oS.Provider,{scope:e,children:a.jsx(LK,{scope:e,label:n,duration:s,swipeDirection:r,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:v.useCallback(()=>u(m=>m+1),[]),onToastRemove:v.useCallback(()=>u(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};cO.displayName=aS;var dO="ToastViewport",BK=["F8"],K2="toast.viewportPause",q2="toast.viewportResume",uO=v.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:s=BK,label:r="Notifications ({hotkey})",...i}=t,o=Mv(dO,n),l=$K(n),c=v.useRef(null),d=v.useRef(null),u=v.useRef(null),h=v.useRef(null),f=on(e,h,o.onViewportChange),m=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;v.useEffect(()=>{const w=b=>{var N;s.length!==0&&s.every(A=>b[A]||b.code===A)&&((N=h.current)==null||N.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[s]),v.useEffect(()=>{const w=c.current,b=h.current;if(g&&w&&b){const y=()=>{if(!o.isClosePausedRef.current){const T=new CustomEvent(K2);b.dispatchEvent(T),o.isClosePausedRef.current=!0}},N=()=>{if(o.isClosePausedRef.current){const T=new CustomEvent(q2);b.dispatchEvent(T),o.isClosePausedRef.current=!1}},A=T=>{!w.contains(T.relatedTarget)&&N()},S=()=>{w.contains(document.activeElement)||N()};return w.addEventListener("focusin",y),w.addEventListener("focusout",A),w.addEventListener("pointermove",y),w.addEventListener("pointerleave",S),window.addEventListener("blur",y),window.addEventListener("focus",N),()=>{w.removeEventListener("focusin",y),w.removeEventListener("focusout",A),w.removeEventListener("pointermove",y),w.removeEventListener("pointerleave",S),window.removeEventListener("blur",y),window.removeEventListener("focus",N)}}},[g,o.isClosePausedRef]);const p=v.useCallback(({tabbingDirection:w})=>{const y=l().map(N=>{const A=N.ref.current,S=[A,...ZK(A)];return w==="forwards"?S:S.reverse()});return(w==="forwards"?y.reverse():y).flat()},[l]);return v.useEffect(()=>{const w=h.current;if(w){const b=y=>{var S,T,_;const N=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!N){const R=document.activeElement,B=y.shiftKey;if(y.target===w&&B){(S=d.current)==null||S.focus();return}const L=p({tabbingDirection:B?"backwards":"forwards"}),M=L.findIndex(x=>x===R);gw(L.slice(M+1))?y.preventDefault():B?(T=d.current)==null||T.focus():(_=u.current)==null||_.focus()}};return w.addEventListener("keydown",b),()=>w.removeEventListener("keydown",b)}},[l,p]),a.jsxs(EK,{ref:c,role:"region","aria-label":r.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&a.jsx(G2,{ref:d,onFocusFromOutsideViewport:()=>{const w=p({tabbingDirection:"forwards"});gw(w)}}),a.jsx(oS.Slot,{scope:n,children:a.jsx(gt.ol,{tabIndex:-1,...i,ref:f})}),g&&a.jsx(G2,{ref:u,onFocusFromOutsideViewport:()=>{const w=p({tabbingDirection:"backwards"});gw(w)}})]})});uO.displayName=dO;var hO="ToastFocusProxy",G2=v.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:s,...r}=t,i=Mv(hO,n);return a.jsx(gg,{"aria-hidden":!0,tabIndex:0,...r,ref:e,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&s()}})});G2.displayName=hO;var Ov="Toast",UK="toast.swipeStart",VK="toast.swipeMove",zK="toast.swipeCancel",HK="toast.swipeEnd",fO=v.forwardRef((t,e)=>{const{forceMount:n,open:s,defaultOpen:r,onOpenChange:i,...o}=t,[l=!0,c]=qa({prop:s,defaultProp:r,onChange:i});return a.jsx(vc,{present:n||l,children:a.jsx(qK,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:dr(t.onPause),onResume:dr(t.onResume),onSwipeStart:mt(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:mt(t.onSwipeMove,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:mt(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:mt(t.onSwipeEnd,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});fO.displayName=Ov;var[WK,KK]=lO(Ov,{onClose(){}}),qK=v.forwardRef((t,e)=>{const{__scopeToast:n,type:s="foreground",duration:r,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:m,...g}=t,p=Mv(Ov,n),[w,b]=v.useState(null),y=on(e,x=>b(x)),N=v.useRef(null),A=v.useRef(null),S=r||p.duration,T=v.useRef(0),_=v.useRef(S),R=v.useRef(0),{onToastAdd:B,onToastRemove:V}=p,U=dr(()=>{var j;(w==null?void 0:w.contains(document.activeElement))&&((j=p.viewport)==null||j.focus()),o()}),L=v.useCallback(x=>{!x||x===1/0||(window.clearTimeout(R.current),T.current=new Date().getTime(),R.current=window.setTimeout(U,x))},[U]);v.useEffect(()=>{const x=p.viewport;if(x){const j=()=>{L(_.current),d==null||d()},E=()=>{const D=new Date().getTime()-T.current;_.current=_.current-D,window.clearTimeout(R.current),c==null||c()};return x.addEventListener(K2,E),x.addEventListener(q2,j),()=>{x.removeEventListener(K2,E),x.removeEventListener(q2,j)}}},[p.viewport,S,c,d,L]),v.useEffect(()=>{i&&!p.isClosePausedRef.current&&L(S)},[i,S,p.isClosePausedRef,L]),v.useEffect(()=>(B(),()=>V()),[B,V]);const M=v.useMemo(()=>w?bO(w):null,[w]);return p.viewport?a.jsxs(a.Fragment,{children:[M&&a.jsx(GK,{__scopeToast:n,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:M}),a.jsx(WK,{scope:n,onClose:U,children:Yd.createPortal(a.jsx(oS.ItemSlot,{scope:n,children:a.jsx(CK,{asChild:!0,onEscapeKeyDown:mt(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||U(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(gt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":p.swipeDirection,...g,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:mt(t.onKeyDown,x=>{x.key==="Escape"&&(l==null||l(x.nativeEvent),x.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,U()))}),onPointerDown:mt(t.onPointerDown,x=>{x.button===0&&(N.current={x:x.clientX,y:x.clientY})}),onPointerMove:mt(t.onPointerMove,x=>{if(!N.current)return;const j=x.clientX-N.current.x,E=x.clientY-N.current.y,D=!!A.current,C=["left","right"].includes(p.swipeDirection),I=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,F=C?I(0,j):0,O=C?0:I(0,E),k=x.pointerType==="touch"?10:2,$={x:F,y:O},G={originalEvent:x,delta:$};D?(A.current=$,i0(VK,h,G,{discrete:!1})):NE($,p.swipeDirection,k)?(A.current=$,i0(UK,u,G,{discrete:!1}),x.target.setPointerCapture(x.pointerId)):(Math.abs(j)>k||Math.abs(E)>k)&&(N.current=null)}),onPointerUp:mt(t.onPointerUp,x=>{const j=A.current,E=x.target;if(E.hasPointerCapture(x.pointerId)&&E.releasePointerCapture(x.pointerId),A.current=null,N.current=null,j){const D=x.currentTarget,C={originalEvent:x,delta:j};NE(j,p.swipeDirection,p.swipeThreshold)?i0(HK,m,C,{discrete:!0}):i0(zK,f,C,{discrete:!0}),D.addEventListener("click",I=>I.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),GK=t=>{const{__scopeToast:e,children:n,...s}=t,r=Mv(Ov,e),[i,o]=v.useState(!1),[l,c]=v.useState(!1);return QK(()=>o(!0)),v.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:a.jsx(Rv,{asChild:!0,children:a.jsx(gg,{...s,children:i&&a.jsxs(a.Fragment,{children:[r.label," ",n]})})})},YK="ToastTitle",mO=v.forwardRef((t,e)=>{const{__scopeToast:n,...s}=t;return a.jsx(gt.div,{...s,ref:e})});mO.displayName=YK;var XK="ToastDescription",pO=v.forwardRef((t,e)=>{const{__scopeToast:n,...s}=t;return a.jsx(gt.div,{...s,ref:e})});pO.displayName=XK;var gO="ToastAction",xO=v.forwardRef((t,e)=>{const{altText:n,...s}=t;return n.trim()?a.jsx(vO,{altText:n,asChild:!0,children:a.jsx(lS,{...s,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${gO}\`. Expected non-empty \`string\`.`),null)});xO.displayName=gO;var yO="ToastClose",lS=v.forwardRef((t,e)=>{const{__scopeToast:n,...s}=t,r=KK(yO,n);return a.jsx(vO,{asChild:!0,children:a.jsx(gt.button,{type:"button",...s,ref:e,onClick:mt(t.onClick,r.onClose)})})});lS.displayName=yO;var vO=v.forwardRef((t,e)=>{const{__scopeToast:n,altText:s,...r}=t;return a.jsx(gt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...r,ref:e})});function bO(t){const e=[];return Array.from(t.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&e.push(s.textContent),JK(s)){const r=s.ariaHidden||s.hidden||s.style.display==="none",i=s.dataset.radixToastAnnounceExclude==="";if(!r)if(i){const o=s.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...bO(s))}}),e}function i0(t,e,n,{discrete:s}){const r=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),s?rO(r,i):r.dispatchEvent(i)}var NE=(t,e,n=0)=>{const s=Math.abs(t.x),r=Math.abs(t.y),i=s>r;return e==="left"||e==="right"?i&&s>n:!i&&r>n};function QK(t=()=>{}){const e=dr(t);fs(()=>{let n=0,s=0;return n=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(s)}},[e])}function JK(t){return t.nodeType===t.ELEMENT_NODE}function ZK(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const r=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||r?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function gw(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var eq=cO,wO=uO,NO=fO,kO=mO,jO=pO,SO=xO,AO=lS;function TO(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=TO(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function CO(){for(var t,e,n=0,s="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=TO(t))&&(s&&(s+=" "),s+=e);return s}const kE=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,jE=CO,Dv=(t,e)=>n=>{var s;if((e==null?void 0:e.variants)==null)return jE(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:r,defaultVariants:i}=e,o=Object.keys(r).map(d=>{const u=n==null?void 0:n[d],h=i==null?void 0:i[d];if(u===null)return null;const f=kE(u)||kE(h);return r[d][f]}),l=n&&Object.entries(n).reduce((d,u)=>{let[h,f]=u;return f===void 0||(d[h]=f),d},{}),c=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((d,u)=>{let{class:h,className:f,...m}=u;return Object.entries(m).every(g=>{let[p,w]=g;return Array.isArray(w)?w.includes({...i,...l}[p]):{...i,...l}[p]===w})?[...d,h,f]:d},[]);return jE(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tq=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),EO=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sq=v.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:r="",children:i,iconNode:o,...l},c)=>v.createElement("svg",{ref:c,...nq,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:EO("lucide",r),...l},[...o.map(([d,u])=>v.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=(t,e)=>{const n=v.forwardRef(({className:s,...r},i)=>v.createElement(sq,{ref:i,iconNode:e,className:EO(`lucide-${tq(t)}`,s),...r}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ml=Le("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rq=Le("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=Le("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iq=Le("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aq=Le("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=Le("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eu=Le("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=Le("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oq=Le("BookCopy",[["path",{d:"M2 16V4a2 2 0 0 1 2-2h11",key:"spzkk5"}],["path",{d:"M22 18H11a2 2 0 1 0 0 4h10.5a.5.5 0 0 0 .5-.5v-15a.5.5 0 0 0-.5-.5H11a2 2 0 0 0-2 2v12",key:"1wz07i"}],["path",{d:"M5 14H4a2 2 0 1 0 0 4h1",key:"16gqf9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=Le("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uc=Le("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gl=Le("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lq=Le("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=Le("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=Le("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=Le("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gy=Le("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=Le("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cq=Le("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dq=Le("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=Le("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=Le("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uq=Le("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ed=Le("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hu=Le("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=Le("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hq=Le("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fq=Le("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=Le("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kh=Le("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=Le("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=Le("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=Le("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=Le("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=Le("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yy=Le("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mq=Le("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pq=Le("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=Le("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Id=Le("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gq=Le("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xq=Le("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PO=Le("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yq=Le("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vq=Le("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=Le("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=Le("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=Le("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bq=Le("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wq=Le("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=Le("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nq=Le("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kq=Le("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _O=Le("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=Le("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jq=Le("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sq=Le("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=Le("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=Le("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=Le("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=Le("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=Le("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=Le("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RO=Le("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MO=Le("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aq=Le("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=Le("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=Le("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=Le("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=Le("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tq=Le("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cq=Le("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eq=Le("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sh=Le("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ah=Le("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qr=Le("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=Le("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=Le("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),mS="-",Iq=t=>{const e=_q(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:o=>{const l=o.split(mS);return l[0]===""&&l.length!==1&&l.shift(),OO(l,e)||Pq(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&s[o]?[...c,...s[o]]:c}}},OO=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],s=e.nextPart.get(n),r=s?OO(t.slice(1),s):void 0;if(r)return r;if(e.validators.length===0)return;const i=t.join(mS);return(o=e.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},IE=/^\[(.+)\]$/,Pq=t=>{if(IE.test(t)){const e=IE.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},_q=t=>{const{theme:e,prefix:n}=t,s={nextPart:new Map,validators:[]};return Mq(Object.entries(t.classGroups),n).forEach(([i,o])=>{J2(o,s,i,e)}),s},J2=(t,e,n,s)=>{t.forEach(r=>{if(typeof r=="string"){const i=r===""?e:PE(e,r);i.classGroupId=n;return}if(typeof r=="function"){if(Rq(r)){J2(r(s),e,n,s);return}e.validators.push({validator:r,classGroupId:n});return}Object.entries(r).forEach(([i,o])=>{J2(o,PE(e,i),n,s)})})},PE=(t,e)=>{let n=t;return e.split(mS).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},Rq=t=>t.isThemeGetter,Mq=(t,e)=>e?t.map(([n,s])=>{const r=s.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[e+o,l])):i);return[n,r]}):t,Oq=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,s=new Map;const r=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,s=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=s.get(i))!==void 0)return r(i,o),o},set(i,o){n.has(i)?n.set(i,o):r(i,o)}}},DO="!",Dq=t=>{const{separator:e,experimentalParseClassName:n}=t,s=e.length===1,r=e[0],i=e.length,o=l=>{const c=[];let d=0,u=0,h;for(let w=0;w<l.length;w++){let b=l[w];if(d===0){if(b===r&&(s||l.slice(w,w+i)===e)){c.push(l.slice(u,w)),u=w+i;continue}if(b==="/"){h=w;continue}}b==="["?d++:b==="]"&&d--}const f=c.length===0?l:l.substring(u),m=f.startsWith(DO),g=m?f.substring(1):f,p=h&&h>u?h-u:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:p}};return n?l=>n({className:l,parseClassName:o}):o},$q=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(s=>{s[0]==="["?(e.push(...n.sort(),s),n=[]):n.push(s)}),e.push(...n.sort()),e},Fq=t=>({cache:Oq(t.cacheSize),parseClassName:Dq(t),...Iq(t)}),Lq=/\s+/,Bq=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:r}=e,i=[],o=t.trim().split(Lq);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}=n(d);let g=!!m,p=s(g?f.substring(0,m):f);if(!p){if(!g){l=d+(l.length>0?" "+l:l);continue}if(p=s(f),!p){l=d+(l.length>0?" "+l:l);continue}g=!1}const w=$q(u).join(":"),b=h?w+DO:w,y=b+p;if(i.includes(y))continue;i.push(y);const N=r(p,g);for(let A=0;A<N.length;++A){const S=N[A];i.push(b+S)}l=d+(l.length>0?" "+l:l)}return l};function Uq(){let t=0,e,n,s="";for(;t<arguments.length;)(e=arguments[t++])&&(n=$O(e))&&(s&&(s+=" "),s+=n);return s}const $O=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=$O(t[s]))&&(n&&(n+=" "),n+=e);return n};function Vq(t,...e){let n,s,r,i=o;function o(c){const d=e.reduce((u,h)=>h(u),t());return n=Fq(d),s=n.cache.get,r=n.cache.set,i=l,l(c)}function l(c){const d=s(c);if(d)return d;const u=Bq(c,n);return r(c,u),u}return function(){return i(Uq.apply(null,arguments))}}const pn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},FO=/^\[(?:([a-z-]+):)?(.+)\]$/i,zq=/^\d+\/\d+$/,Hq=new Set(["px","full","screen"]),Wq=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Kq=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,qq=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Gq=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Yq=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ro=t=>Wu(t)||Hq.has(t)||zq.test(t),sl=t=>Yh(t,"length",sG),Wu=t=>!!t&&!Number.isNaN(Number(t)),xw=t=>Yh(t,"number",Wu),Cf=t=>!!t&&Number.isInteger(Number(t)),Xq=t=>t.endsWith("%")&&Wu(t.slice(0,-1)),Pt=t=>FO.test(t),rl=t=>Wq.test(t),Qq=new Set(["length","size","percentage"]),Jq=t=>Yh(t,Qq,LO),Zq=t=>Yh(t,"position",LO),eG=new Set(["image","url"]),tG=t=>Yh(t,eG,iG),nG=t=>Yh(t,"",rG),Ef=()=>!0,Yh=(t,e,n)=>{const s=FO.exec(t);return s?s[1]?typeof e=="string"?s[1]===e:e.has(s[1]):n(s[2]):!1},sG=t=>Kq.test(t)&&!qq.test(t),LO=()=>!1,rG=t=>Gq.test(t),iG=t=>Yq.test(t),aG=()=>{const t=pn("colors"),e=pn("spacing"),n=pn("blur"),s=pn("brightness"),r=pn("borderColor"),i=pn("borderRadius"),o=pn("borderSpacing"),l=pn("borderWidth"),c=pn("contrast"),d=pn("grayscale"),u=pn("hueRotate"),h=pn("invert"),f=pn("gap"),m=pn("gradientColorStops"),g=pn("gradientColorStopPositions"),p=pn("inset"),w=pn("margin"),b=pn("opacity"),y=pn("padding"),N=pn("saturate"),A=pn("scale"),S=pn("sepia"),T=pn("skew"),_=pn("space"),R=pn("translate"),B=()=>["auto","contain","none"],V=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto",Pt,e],L=()=>[Pt,e],M=()=>["",ro,sl],x=()=>["auto",Wu,Pt],j=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],E=()=>["solid","dashed","dotted","double","none"],D=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],C=()=>["start","end","center","between","around","evenly","stretch"],I=()=>["","0",Pt],F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>[Wu,Pt];return{cacheSize:500,separator:":",theme:{colors:[Ef],spacing:[ro,sl],blur:["none","",rl,Pt],brightness:O(),borderColor:[t],borderRadius:["none","","full",rl,Pt],borderSpacing:L(),borderWidth:M(),contrast:O(),grayscale:I(),hueRotate:O(),invert:I(),gap:L(),gradientColorStops:[t],gradientColorStopPositions:[Xq,sl],inset:U(),margin:U(),opacity:O(),padding:L(),saturate:O(),scale:O(),sepia:I(),skew:O(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",Pt]}],container:["container"],columns:[{columns:[rl]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...j(),Pt]}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:B()}],"overscroll-x":[{"overscroll-x":B()}],"overscroll-y":[{"overscroll-y":B()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Cf,Pt]}],basis:[{basis:U()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Pt]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",Cf,Pt]}],"grid-cols":[{"grid-cols":[Ef]}],"col-start-end":[{col:["auto",{span:["full",Cf,Pt]},Pt]}],"col-start":[{"col-start":x()}],"col-end":[{"col-end":x()}],"grid-rows":[{"grid-rows":[Ef]}],"row-start-end":[{row:["auto",{span:[Cf,Pt]},Pt]}],"row-start":[{"row-start":x()}],"row-end":[{"row-end":x()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Pt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Pt]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...C()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...C(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...C(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Pt,e]}],"min-w":[{"min-w":[Pt,e,"min","max","fit"]}],"max-w":[{"max-w":[Pt,e,"none","full","min","max","fit","prose",{screen:[rl]},rl]}],h:[{h:[Pt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Pt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Pt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Pt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",rl,sl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",xw]}],"font-family":[{font:[Ef]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Pt]}],"line-clamp":[{"line-clamp":["none",Wu,xw]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ro,Pt]}],"list-image":[{"list-image":["none",Pt]}],"list-style-type":[{list:["none","disc","decimal",Pt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...E(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ro,sl]}],"underline-offset":[{"underline-offset":["auto",ro,Pt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Pt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Pt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...j(),Zq]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Jq]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},tG]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...E(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:E()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...E()]}],"outline-offset":[{"outline-offset":[ro,Pt]}],"outline-w":[{outline:[ro,sl]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[ro,sl]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",rl,nG]}],"shadow-color":[{shadow:[Ef]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...D(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":D()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",rl,Pt]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[N]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Pt]}],duration:[{duration:O()}],ease:[{ease:["linear","in","out","in-out",Pt]}],delay:[{delay:O()}],animate:[{animate:["none","spin","ping","pulse","bounce",Pt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[Cf,Pt]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Pt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Pt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Pt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ro,sl,xw]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},oG=Vq(aG);function ut(...t){return oG(CO(t))}const lG=eq,BO=v.forwardRef(({className:t,...e},n)=>a.jsx(wO,{ref:n,className:ut("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));BO.displayName=wO.displayName;const cG=Dv("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),UO=v.forwardRef(({className:t,variant:e,...n},s)=>a.jsx(NO,{ref:s,className:ut(cG({variant:e}),t),...n}));UO.displayName=NO.displayName;const dG=v.forwardRef(({className:t,...e},n)=>a.jsx(SO,{ref:n,className:ut("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));dG.displayName=SO.displayName;const VO=v.forwardRef(({className:t,...e},n)=>a.jsx(AO,{ref:n,className:ut("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:a.jsx($v,{className:"h-4 w-4"})}));VO.displayName=AO.displayName;const zO=v.forwardRef(({className:t,...e},n)=>a.jsx(kO,{ref:n,className:ut("text-sm font-semibold",t),...e}));zO.displayName=kO.displayName;const HO=v.forwardRef(({className:t,...e},n)=>a.jsx(jO,{ref:n,className:ut("text-sm opacity-90",t),...e}));HO.displayName=jO.displayName;function uG(){const{toasts:t}=uK();return a.jsxs(lG,{children:[t.map(function({id:e,title:n,description:s,action:r,...i}){return a.jsxs(UO,{...i,children:[a.jsxs("div",{className:"grid gap-1",children:[n&&a.jsx(zO,{children:n}),s&&a.jsx(HO,{children:s})]}),r,a.jsx(VO,{})]},e)}),a.jsx(BO,{})]})}var _E=["light","dark"],hG="(prefers-color-scheme: dark)",fG=v.createContext(void 0),mG={setTheme:t=>{},themes:[]},pG=()=>{var t;return(t=v.useContext(fG))!=null?t:mG};v.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:s,enableColorScheme:r,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let d=i==="system",u=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=r?_E.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(g,p=!1,w=!0)=>{let b=o?o[g]:g,y=p?g+"|| ''":`'${b}'`,N="";return r&&w&&!p&&_E.includes(g)&&(N+=`d.style.colorScheme = '${g}';`),n==="class"?p||b?N+=`c.add(${y})`:N+="null":b&&(N+=`d[s](n,${y})`),N},m=t?`!function(){${u}${f(t)}}()`:s?`!function(){try{${u}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${d})){var t='${hG}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${d?"":"else{"+f(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${h}}catch(t){}}();`;return v.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var gG=t=>{switch(t){case"success":return vG;case"info":return wG;case"warning":return bG;case"error":return NG;default:return null}},xG=Array(12).fill(0),yG=({visible:t})=>Ae.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},Ae.createElement("div",{className:"sonner-spinner"},xG.map((e,n)=>Ae.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),vG=Ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ae.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),bG=Ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ae.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),wG=Ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ae.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),NG=Ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ae.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),kG=()=>{let[t,e]=Ae.useState(document.hidden);return Ae.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Z2=1,jG=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...s}=t,r=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Z2++,i=this.toasts.find(l=>l.id===r),o=t.dismissible===void 0?!0:t.dismissible;return i?this.toasts=this.toasts.map(l=>l.id===r?(this.publish({...l,...t,id:r,title:n}),{...l,...t,id:r,dismissible:o,title:n}):l):this.addToast({title:n,...s,dismissible:o,id:r}),r},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let s=t instanceof Promise?t:t(),r=n!==void 0;return s.then(async i=>{if(AG(i)&&!i.ok){r=!1;let o=typeof e.error=="function"?await e.error(`HTTP error! status: ${i.status}`):e.error,l=typeof e.description=="function"?await e.description(`HTTP error! status: ${i.status}`):e.description;this.create({id:n,type:"error",message:o,description:l})}else if(e.success!==void 0){r=!1;let o=typeof e.success=="function"?await e.success(i):e.success,l=typeof e.description=="function"?await e.description(i):e.description;this.create({id:n,type:"success",message:o,description:l})}}).catch(async i=>{if(e.error!==void 0){r=!1;let o=typeof e.error=="function"?await e.error(i):e.error,l=typeof e.description=="function"?await e.description(i):e.description;this.create({id:n,type:"error",message:o,description:l})}}).finally(()=>{var i;r&&(this.dismiss(n),n=void 0),(i=e.finally)==null||i.call(e)}),n},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||Z2++;return this.create({jsx:t(n),id:n,...e}),n},this.subscribers=[],this.toasts=[]}},Br=new jG,SG=(t,e)=>{let n=(e==null?void 0:e.id)||Z2++;return Br.addToast({title:t,...e,id:n}),n},AG=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",TG=SG,CG=()=>Br.toasts,we=Object.assign(TG,{success:Br.success,info:Br.info,warning:Br.warning,error:Br.error,custom:Br.custom,message:Br.message,promise:Br.promise,dismiss:Br.dismiss,loading:Br.loading},{getHistory:CG});function EG(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",e==="top"&&n.firstChild?n.insertBefore(s,n.firstChild):n.appendChild(s),s.styleSheet?s.styleSheet.cssText=t:s.appendChild(document.createTextNode(t))}EG(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function a0(t){return t.label!==void 0}var IG=3,PG="32px",_G=4e3,RG=356,MG=14,OG=20,DG=200;function $G(...t){return t.filter(Boolean).join(" ")}var FG=t=>{var e,n,s,r,i,o,l,c,d,u;let{invert:h,toast:f,unstyled:m,interacting:g,setHeights:p,visibleToasts:w,heights:b,index:y,toasts:N,expanded:A,removeToast:S,defaultRichColors:T,closeButton:_,style:R,cancelButtonStyle:B,actionButtonStyle:V,className:U="",descriptionClassName:L="",duration:M,position:x,gap:j,loadingIcon:E,expandByDefault:D,classNames:C,icons:I,closeButtonAriaLabel:F="Close toast",pauseWhenPageIsHidden:O,cn:k}=t,[$,G]=Ae.useState(!1),[P,z]=Ae.useState(!1),[K,H]=Ae.useState(!1),[q,Q]=Ae.useState(!1),[J,te]=Ae.useState(0),[Me,ee]=Ae.useState(0),he=Ae.useRef(null),ke=Ae.useRef(null),se=y===0,X=y+1<=w,re=f.type,ve=f.dismissible!==!1,$e=f.className||"",it=f.descriptionClassName||"",Oe=Ae.useMemo(()=>b.findIndex(be=>be.toastId===f.id)||0,[b,f.id]),ht=Ae.useMemo(()=>{var be;return(be=f.closeButton)!=null?be:_},[f.closeButton,_]),lt=Ae.useMemo(()=>f.duration||M||_G,[f.duration,M]),me=Ae.useRef(0),W=Ae.useRef(0),de=Ae.useRef(0),ne=Ae.useRef(null),[le,Ne]=x.split("-"),Re=Ae.useMemo(()=>b.reduce((be,Se,Fe)=>Fe>=Oe?be:be+Se.height,0),[b,Oe]),Pe=kG(),Lt=f.invert||h,ze=re==="loading";W.current=Ae.useMemo(()=>Oe*j+Re,[Oe,Re]),Ae.useEffect(()=>{G(!0)},[]),Ae.useLayoutEffect(()=>{if(!$)return;let be=ke.current,Se=be.style.height;be.style.height="auto";let Fe=be.getBoundingClientRect().height;be.style.height=Se,ee(Fe),p(_e=>_e.find(ft=>ft.toastId===f.id)?_e.map(ft=>ft.toastId===f.id?{...ft,height:Fe}:ft):[{toastId:f.id,height:Fe,position:f.position},..._e])},[$,f.title,f.description,p,f.id]);let je=Ae.useCallback(()=>{z(!0),te(W.current),p(be=>be.filter(Se=>Se.toastId!==f.id)),setTimeout(()=>{S(f)},DG)},[f,S,p,W]);Ae.useEffect(()=>{if(f.promise&&re==="loading"||f.duration===1/0||f.type==="loading")return;let be,Se=lt;return A||g||O&&Pe?(()=>{if(de.current<me.current){let Fe=new Date().getTime()-me.current;Se=Se-Fe}de.current=new Date().getTime()})():Se!==1/0&&(me.current=new Date().getTime(),be=setTimeout(()=>{var Fe;(Fe=f.onAutoClose)==null||Fe.call(f,f),je()},Se)),()=>clearTimeout(be)},[A,g,D,f,lt,je,f.promise,re,O,Pe]),Ae.useEffect(()=>{let be=ke.current;if(be){let Se=be.getBoundingClientRect().height;return ee(Se),p(Fe=>[{toastId:f.id,height:Se,position:f.position},...Fe]),()=>p(Fe=>Fe.filter(_e=>_e.toastId!==f.id))}},[p,f.id]),Ae.useEffect(()=>{f.delete&&je()},[je,f.delete]);function We(){return I!=null&&I.loading?Ae.createElement("div",{className:"sonner-loader","data-visible":re==="loading"},I.loading):E?Ae.createElement("div",{className:"sonner-loader","data-visible":re==="loading"},E):Ae.createElement(yG,{visible:re==="loading"})}return Ae.createElement("li",{"aria-live":f.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:ke,className:k(U,$e,C==null?void 0:C.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,C==null?void 0:C.default,C==null?void 0:C[re],(n=f==null?void 0:f.classNames)==null?void 0:n[re]),"data-sonner-toast":"","data-rich-colors":(s=f.richColors)!=null?s:T,"data-styled":!(f.jsx||f.unstyled||m),"data-mounted":$,"data-promise":!!f.promise,"data-removed":P,"data-visible":X,"data-y-position":le,"data-x-position":Ne,"data-index":y,"data-front":se,"data-swiping":K,"data-dismissible":ve,"data-type":re,"data-invert":Lt,"data-swipe-out":q,"data-expanded":!!(A||D&&$),style:{"--index":y,"--toasts-before":y,"--z-index":N.length-y,"--offset":`${P?J:W.current}px`,"--initial-height":D?"auto":`${Me}px`,...R,...f.style},onPointerDown:be=>{ze||!ve||(he.current=new Date,te(W.current),be.target.setPointerCapture(be.pointerId),be.target.tagName!=="BUTTON"&&(H(!0),ne.current={x:be.clientX,y:be.clientY}))},onPointerUp:()=>{var be,Se,Fe,_e;if(q||!ve)return;ne.current=null;let ft=Number(((be=ke.current)==null?void 0:be.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Zt=new Date().getTime()-((Se=he.current)==null?void 0:Se.getTime()),fe=Math.abs(ft)/Zt;if(Math.abs(ft)>=OG||fe>.11){te(W.current),(Fe=f.onDismiss)==null||Fe.call(f,f),je(),Q(!0);return}(_e=ke.current)==null||_e.style.setProperty("--swipe-amount","0px"),H(!1)},onPointerMove:be=>{var Se;if(!ne.current||!ve)return;let Fe=be.clientY-ne.current.y,_e=be.clientX-ne.current.x,ft=(le==="top"?Math.min:Math.max)(0,Fe),Zt=be.pointerType==="touch"?10:2;Math.abs(ft)>Zt?(Se=ke.current)==null||Se.style.setProperty("--swipe-amount",`${Fe}px`):Math.abs(_e)>Zt&&(ne.current=null)}},ht&&!f.jsx?Ae.createElement("button",{"aria-label":F,"data-disabled":ze,"data-close-button":!0,onClick:ze||!ve?()=>{}:()=>{var be;je(),(be=f.onDismiss)==null||be.call(f,f)},className:k(C==null?void 0:C.closeButton,(r=f==null?void 0:f.classNames)==null?void 0:r.closeButton)},Ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ae.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ae.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,f.jsx||Ae.isValidElement(f.title)?f.jsx||f.title:Ae.createElement(Ae.Fragment,null,re||f.icon||f.promise?Ae.createElement("div",{"data-icon":"",className:k(C==null?void 0:C.icon,(i=f==null?void 0:f.classNames)==null?void 0:i.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||We():null,f.type!=="loading"?f.icon||(I==null?void 0:I[re])||gG(re):null):null,Ae.createElement("div",{"data-content":"",className:k(C==null?void 0:C.content,(o=f==null?void 0:f.classNames)==null?void 0:o.content)},Ae.createElement("div",{"data-title":"",className:k(C==null?void 0:C.title,(l=f==null?void 0:f.classNames)==null?void 0:l.title)},f.title),f.description?Ae.createElement("div",{"data-description":"",className:k(L,it,C==null?void 0:C.description,(c=f==null?void 0:f.classNames)==null?void 0:c.description)},f.description):null),Ae.isValidElement(f.cancel)?f.cancel:f.cancel&&a0(f.cancel)?Ae.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||B,onClick:be=>{var Se,Fe;a0(f.cancel)&&ve&&((Fe=(Se=f.cancel).onClick)==null||Fe.call(Se,be),je())},className:k(C==null?void 0:C.cancelButton,(d=f==null?void 0:f.classNames)==null?void 0:d.cancelButton)},f.cancel.label):null,Ae.isValidElement(f.action)?f.action:f.action&&a0(f.action)?Ae.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||V,onClick:be=>{var Se,Fe;a0(f.action)&&(be.defaultPrevented||((Fe=(Se=f.action).onClick)==null||Fe.call(Se,be),je()))},className:k(C==null?void 0:C.actionButton,(u=f==null?void 0:f.classNames)==null?void 0:u.actionButton)},f.action.label):null))};function RE(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var LG=t=>{let{invert:e,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:r,closeButton:i,className:o,offset:l,theme:c="light",richColors:d,duration:u,style:h,visibleToasts:f=IG,toastOptions:m,dir:g=RE(),gap:p=MG,loadingIcon:w,icons:b,containerAriaLabel:y="Notifications",pauseWhenPageIsHidden:N,cn:A=$G}=t,[S,T]=Ae.useState([]),_=Ae.useMemo(()=>Array.from(new Set([n].concat(S.filter(O=>O.position).map(O=>O.position)))),[S,n]),[R,B]=Ae.useState([]),[V,U]=Ae.useState(!1),[L,M]=Ae.useState(!1),[x,j]=Ae.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),E=Ae.useRef(null),D=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),C=Ae.useRef(null),I=Ae.useRef(!1),F=Ae.useCallback(O=>{var k;(k=S.find($=>$.id===O.id))!=null&&k.delete||Br.dismiss(O.id),T($=>$.filter(({id:G})=>G!==O.id))},[S]);return Ae.useEffect(()=>Br.subscribe(O=>{if(O.dismiss){T(k=>k.map($=>$.id===O.id?{...$,delete:!0}:$));return}setTimeout(()=>{eO.flushSync(()=>{T(k=>{let $=k.findIndex(G=>G.id===O.id);return $!==-1?[...k.slice(0,$),{...k[$],...O},...k.slice($+1)]:[O,...k]})})})}),[]),Ae.useEffect(()=>{if(c!=="system"){j(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?j("dark"):j("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:O})=>{j(O?"dark":"light")})},[c]),Ae.useEffect(()=>{S.length<=1&&U(!1)},[S]),Ae.useEffect(()=>{let O=k=>{var $,G;s.every(P=>k[P]||k.code===P)&&(U(!0),($=E.current)==null||$.focus()),k.code==="Escape"&&(document.activeElement===E.current||(G=E.current)!=null&&G.contains(document.activeElement))&&U(!1)};return document.addEventListener("keydown",O),()=>document.removeEventListener("keydown",O)},[s]),Ae.useEffect(()=>{if(E.current)return()=>{C.current&&(C.current.focus({preventScroll:!0}),C.current=null,I.current=!1)}},[E.current]),S.length?Ae.createElement("section",{"aria-label":`${y} ${D}`,tabIndex:-1},_.map((O,k)=>{var $;let[G,P]=O.split("-");return Ae.createElement("ol",{key:O,dir:g==="auto"?RE():g,tabIndex:-1,ref:E,className:o,"data-sonner-toaster":!0,"data-theme":x,"data-y-position":G,"data-x-position":P,style:{"--front-toast-height":`${(($=R[0])==null?void 0:$.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||PG,"--width":`${RG}px`,"--gap":`${p}px`,...h},onBlur:z=>{I.current&&!z.currentTarget.contains(z.relatedTarget)&&(I.current=!1,C.current&&(C.current.focus({preventScroll:!0}),C.current=null))},onFocus:z=>{z.target instanceof HTMLElement&&z.target.dataset.dismissible==="false"||I.current||(I.current=!0,C.current=z.relatedTarget)},onMouseEnter:()=>U(!0),onMouseMove:()=>U(!0),onMouseLeave:()=>{L||U(!1)},onPointerDown:z=>{z.target instanceof HTMLElement&&z.target.dataset.dismissible==="false"||M(!0)},onPointerUp:()=>M(!1)},S.filter(z=>!z.position&&k===0||z.position===O).map((z,K)=>{var H,q;return Ae.createElement(FG,{key:z.id,icons:b,index:K,toast:z,defaultRichColors:d,duration:(H=m==null?void 0:m.duration)!=null?H:u,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:e,visibleToasts:f,closeButton:(q=m==null?void 0:m.closeButton)!=null?q:i,interacting:L,position:O,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:F,toasts:S.filter(Q=>Q.position==z.position),heights:R.filter(Q=>Q.position==z.position),setHeights:B,expandByDefault:r,gap:p,loadingIcon:w,expanded:V,pauseWhenPageIsHidden:N,cn:A})}))})):null};const BG=({...t})=>{const{theme:e="system"}=pG();return a.jsx(LG,{theme:e,className:"toaster group",position:"bottom-right",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var UG=QM.useId||(()=>{}),VG=0;function Da(t){const[e,n]=v.useState(UG());return fs(()=>{n(s=>s??String(VG++))},[t]),e?`radix-${e}`:""}const zG=["top","right","bottom","left"],ac=Math.min,Wr=Math.max,vy=Math.round,o0=Math.floor,oc=t=>({x:t,y:t}),HG={left:"right",right:"left",bottom:"top",top:"bottom"},WG={start:"end",end:"start"};function eN(t,e,n){return Wr(t,ac(e,n))}function Lo(t,e){return typeof t=="function"?t(e):t}function Bo(t){return t.split("-")[0]}function Xh(t){return t.split("-")[1]}function pS(t){return t==="x"?"y":"x"}function gS(t){return t==="y"?"height":"width"}function lc(t){return["top","bottom"].includes(Bo(t))?"y":"x"}function xS(t){return pS(lc(t))}function KG(t,e,n){n===void 0&&(n=!1);const s=Xh(t),r=xS(t),i=gS(r);let o=r==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=by(o)),[o,by(o)]}function qG(t){const e=by(t);return[tN(t),e,tN(e)]}function tN(t){return t.replace(/start|end/g,e=>WG[e])}function GG(t,e,n){const s=["left","right"],r=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?r:s:e?s:r;case"left":case"right":return e?i:o;default:return[]}}function YG(t,e,n,s){const r=Xh(t);let i=GG(Bo(t),n==="start",s);return r&&(i=i.map(o=>o+"-"+r),e&&(i=i.concat(i.map(tN)))),i}function by(t){return t.replace(/left|right|bottom|top/g,e=>HG[e])}function XG(t){return{top:0,right:0,bottom:0,left:0,...t}}function WO(t){return typeof t!="number"?XG(t):{top:t,right:t,bottom:t,left:t}}function wy(t){const{x:e,y:n,width:s,height:r}=t;return{width:s,height:r,top:n,left:e,right:e+s,bottom:n+r,x:e,y:n}}function ME(t,e,n){let{reference:s,floating:r}=t;const i=lc(e),o=xS(e),l=gS(o),c=Bo(e),d=i==="y",u=s.x+s.width/2-r.width/2,h=s.y+s.height/2-r.height/2,f=s[l]/2-r[l]/2;let m;switch(c){case"top":m={x:u,y:s.y-r.height};break;case"bottom":m={x:u,y:s.y+s.height};break;case"right":m={x:s.x+s.width,y:h};break;case"left":m={x:s.x-r.width,y:h};break;default:m={x:s.x,y:s.y}}switch(Xh(e)){case"start":m[o]-=f*(n&&d?-1:1);break;case"end":m[o]+=f*(n&&d?-1:1);break}return m}const QG=async(t,e,n)=>{const{placement:s="bottom",strategy:r="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:r}),{x:u,y:h}=ME(d,s,c),f=s,m={},g=0;for(let p=0;p<l.length;p++){const{name:w,fn:b}=l[p],{x:y,y:N,data:A,reset:S}=await b({x:u,y:h,initialPlacement:s,placement:f,strategy:r,middlewareData:m,rects:d,platform:o,elements:{reference:t,floating:e}});u=y??u,h=N??h,m={...m,[w]:{...m[w],...A}},S&&g<=50&&(g++,typeof S=="object"&&(S.placement&&(f=S.placement),S.rects&&(d=S.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:r}):S.rects),{x:u,y:h}=ME(d,f,c)),p=-1)}return{x:u,y:h,placement:f,strategy:r,middlewareData:m}};async function sp(t,e){var n;e===void 0&&(e={});const{x:s,y:r,platform:i,rects:o,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:f=!1,padding:m=0}=Lo(e,t),g=WO(m),w=l[f?h==="floating"?"reference":"floating":h],b=wy(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(w)))==null||n?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),y=h==="floating"?{x:s,y:r,width:o.floating.width,height:o.floating.height}:o.reference,N=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),A=await(i.isElement==null?void 0:i.isElement(N))?await(i.getScale==null?void 0:i.getScale(N))||{x:1,y:1}:{x:1,y:1},S=wy(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:N,strategy:c}):y);return{top:(b.top-S.top+g.top)/A.y,bottom:(S.bottom-b.bottom+g.bottom)/A.y,left:(b.left-S.left+g.left)/A.x,right:(S.right-b.right+g.right)/A.x}}const JG=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:s,placement:r,rects:i,platform:o,elements:l,middlewareData:c}=e,{element:d,padding:u=0}=Lo(t,e)||{};if(d==null)return{};const h=WO(u),f={x:n,y:s},m=xS(r),g=gS(m),p=await o.getDimensions(d),w=m==="y",b=w?"top":"left",y=w?"bottom":"right",N=w?"clientHeight":"clientWidth",A=i.reference[g]+i.reference[m]-f[m]-i.floating[g],S=f[m]-i.reference[m],T=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let _=T?T[N]:0;(!_||!await(o.isElement==null?void 0:o.isElement(T)))&&(_=l.floating[N]||i.floating[g]);const R=A/2-S/2,B=_/2-p[g]/2-1,V=ac(h[b],B),U=ac(h[y],B),L=V,M=_-p[g]-U,x=_/2-p[g]/2+R,j=eN(L,x,M),E=!c.arrow&&Xh(r)!=null&&x!==j&&i.reference[g]/2-(x<L?V:U)-p[g]/2<0,D=E?x<L?x-L:x-M:0;return{[m]:f[m]+D,data:{[m]:j,centerOffset:x-j-D,...E&&{alignmentOffset:D}},reset:E}}}),ZG=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,s;const{placement:r,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:p=!0,...w}=Lo(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const b=Bo(r),y=lc(l),N=Bo(l)===l,A=await(c.isRTL==null?void 0:c.isRTL(d.floating)),S=f||(N||!p?[by(l)]:qG(l)),T=g!=="none";!f&&T&&S.push(...YG(l,p,g,A));const _=[l,...S],R=await sp(e,w),B=[];let V=((s=i.flip)==null?void 0:s.overflows)||[];if(u&&B.push(R[b]),h){const x=KG(r,o,A);B.push(R[x[0]],R[x[1]])}if(V=[...V,{placement:r,overflows:B}],!B.every(x=>x<=0)){var U,L;const x=(((U=i.flip)==null?void 0:U.index)||0)+1,j=_[x];if(j)return{data:{index:x,overflows:V},reset:{placement:j}};let E=(L=V.filter(D=>D.overflows[0]<=0).sort((D,C)=>D.overflows[1]-C.overflows[1])[0])==null?void 0:L.placement;if(!E)switch(m){case"bestFit":{var M;const D=(M=V.filter(C=>{if(T){const I=lc(C.placement);return I===y||I==="y"}return!0}).map(C=>[C.placement,C.overflows.filter(I=>I>0).reduce((I,F)=>I+F,0)]).sort((C,I)=>C[1]-I[1])[0])==null?void 0:M[0];D&&(E=D);break}case"initialPlacement":E=l;break}if(r!==E)return{reset:{placement:E}}}return{}}}};function OE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function DE(t){return zG.some(e=>t[e]>=0)}const eY=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:s="referenceHidden",...r}=Lo(t,e);switch(s){case"referenceHidden":{const i=await sp(e,{...r,elementContext:"reference"}),o=OE(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:DE(o)}}}case"escaped":{const i=await sp(e,{...r,altBoundary:!0}),o=OE(i,n.floating);return{data:{escapedOffsets:o,escaped:DE(o)}}}default:return{}}}}};async function tY(t,e){const{placement:n,platform:s,elements:r}=t,i=await(s.isRTL==null?void 0:s.isRTL(r.floating)),o=Bo(n),l=Xh(n),c=lc(n)==="y",d=["left","top"].includes(o)?-1:1,u=i&&c?-1:1,h=Lo(e,t);let{mainAxis:f,crossAxis:m,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof g=="number"&&(m=l==="end"?g*-1:g),c?{x:m*u,y:f*d}:{x:f*d,y:m*u}}const nY=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,s;const{x:r,y:i,placement:o,middlewareData:l}=e,c=await tY(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:r+c.x,y:i+c.y,data:{...c,placement:o}}}}},sY=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:s,placement:r}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:w=>{let{x:b,y}=w;return{x:b,y}}},...c}=Lo(t,e),d={x:n,y:s},u=await sp(e,c),h=lc(Bo(r)),f=pS(h);let m=d[f],g=d[h];if(i){const w=f==="y"?"top":"left",b=f==="y"?"bottom":"right",y=m+u[w],N=m-u[b];m=eN(y,m,N)}if(o){const w=h==="y"?"top":"left",b=h==="y"?"bottom":"right",y=g+u[w],N=g-u[b];g=eN(y,g,N)}const p=l.fn({...e,[f]:m,[h]:g});return{...p,data:{x:p.x-n,y:p.y-s,enabled:{[f]:i,[h]:o}}}}}},rY=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:s,placement:r,rects:i,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Lo(t,e),u={x:n,y:s},h=lc(r),f=pS(h);let m=u[f],g=u[h];const p=Lo(l,e),w=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const N=f==="y"?"height":"width",A=i.reference[f]-i.floating[N]+w.mainAxis,S=i.reference[f]+i.reference[N]-w.mainAxis;m<A?m=A:m>S&&(m=S)}if(d){var b,y;const N=f==="y"?"width":"height",A=["top","left"].includes(Bo(r)),S=i.reference[h]-i.floating[N]+(A&&((b=o.offset)==null?void 0:b[h])||0)+(A?0:w.crossAxis),T=i.reference[h]+i.reference[N]+(A?0:((y=o.offset)==null?void 0:y[h])||0)-(A?w.crossAxis:0);g<S?g=S:g>T&&(g=T)}return{[f]:m,[h]:g}}}},iY=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,s;const{placement:r,rects:i,platform:o,elements:l}=e,{apply:c=()=>{},...d}=Lo(t,e),u=await sp(e,d),h=Bo(r),f=Xh(r),m=lc(r)==="y",{width:g,height:p}=i.floating;let w,b;h==="top"||h==="bottom"?(w=h,b=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(b=h,w=f==="end"?"top":"bottom");const y=p-u.top-u.bottom,N=g-u.left-u.right,A=ac(p-u[w],y),S=ac(g-u[b],N),T=!e.middlewareData.shift;let _=A,R=S;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(R=N),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(_=y),T&&!f){const V=Wr(u.left,0),U=Wr(u.right,0),L=Wr(u.top,0),M=Wr(u.bottom,0);m?R=g-2*(V!==0||U!==0?V+U:Wr(u.left,u.right)):_=p-2*(L!==0||M!==0?L+M:Wr(u.top,u.bottom))}await c({...e,availableWidth:R,availableHeight:_});const B=await o.getDimensions(l.floating);return g!==B.width||p!==B.height?{reset:{rects:!0}}:{}}}};function Fv(){return typeof window<"u"}function Qh(t){return KO(t)?(t.nodeName||"").toLowerCase():"#document"}function Qr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function eo(t){var e;return(e=(KO(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function KO(t){return Fv()?t instanceof Node||t instanceof Qr(t).Node:!1}function la(t){return Fv()?t instanceof Element||t instanceof Qr(t).Element:!1}function Ga(t){return Fv()?t instanceof HTMLElement||t instanceof Qr(t).HTMLElement:!1}function $E(t){return!Fv()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Qr(t).ShadowRoot}function xg(t){const{overflow:e,overflowX:n,overflowY:s,display:r}=ca(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+n)&&!["inline","contents"].includes(r)}function aY(t){return["table","td","th"].includes(Qh(t))}function Lv(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function yS(t){const e=vS(),n=la(t)?ca(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(s=>(n.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(n.contain||"").includes(s))}function oY(t){let e=cc(t);for(;Ga(e)&&!Th(e);){if(yS(e))return e;if(Lv(e))return null;e=cc(e)}return null}function vS(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Th(t){return["html","body","#document"].includes(Qh(t))}function ca(t){return Qr(t).getComputedStyle(t)}function Bv(t){return la(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function cc(t){if(Qh(t)==="html")return t;const e=t.assignedSlot||t.parentNode||$E(t)&&t.host||eo(t);return $E(e)?e.host:e}function qO(t){const e=cc(t);return Th(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ga(e)&&xg(e)?e:qO(e)}function rp(t,e,n){var s;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=qO(t),i=r===((s=t.ownerDocument)==null?void 0:s.body),o=Qr(r);if(i){const l=nN(o);return e.concat(o,o.visualViewport||[],xg(r)?r:[],l&&n?rp(l):[])}return e.concat(r,rp(r,[],n))}function nN(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function GO(t){const e=ca(t);let n=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const r=Ga(t),i=r?t.offsetWidth:n,o=r?t.offsetHeight:s,l=vy(n)!==i||vy(s)!==o;return l&&(n=i,s=o),{width:n,height:s,$:l}}function bS(t){return la(t)?t:t.contextElement}function Ku(t){const e=bS(t);if(!Ga(e))return oc(1);const n=e.getBoundingClientRect(),{width:s,height:r,$:i}=GO(e);let o=(i?vy(n.width):n.width)/s,l=(i?vy(n.height):n.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const lY=oc(0);function YO(t){const e=Qr(t);return!vS()||!e.visualViewport?lY:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function cY(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Qr(t)?!1:e}function Pd(t,e,n,s){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=bS(t);let o=oc(1);e&&(s?la(s)&&(o=Ku(s)):o=Ku(t));const l=cY(i,n,s)?YO(i):oc(0);let c=(r.left+l.x)/o.x,d=(r.top+l.y)/o.y,u=r.width/o.x,h=r.height/o.y;if(i){const f=Qr(i),m=s&&la(s)?Qr(s):s;let g=f,p=nN(g);for(;p&&s&&m!==g;){const w=Ku(p),b=p.getBoundingClientRect(),y=ca(p),N=b.left+(p.clientLeft+parseFloat(y.paddingLeft))*w.x,A=b.top+(p.clientTop+parseFloat(y.paddingTop))*w.y;c*=w.x,d*=w.y,u*=w.x,h*=w.y,c+=N,d+=A,g=Qr(p),p=nN(g)}}return wy({width:u,height:h,x:c,y:d})}function dY(t){let{elements:e,rect:n,offsetParent:s,strategy:r}=t;const i=r==="fixed",o=eo(s),l=e?Lv(e.floating):!1;if(s===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},d=oc(1);const u=oc(0),h=Ga(s);if((h||!h&&!i)&&((Qh(s)!=="body"||xg(o))&&(c=Bv(s)),Ga(s))){const f=Pd(s);d=Ku(s),u.x=f.x+s.clientLeft,u.y=f.y+s.clientTop}return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+u.x,y:n.y*d.y-c.scrollTop*d.y+u.y}}function uY(t){return Array.from(t.getClientRects())}function sN(t,e){const n=Bv(t).scrollLeft;return e?e.left+n:Pd(eo(t)).left+n}function hY(t){const e=eo(t),n=Bv(t),s=t.ownerDocument.body,r=Wr(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),i=Wr(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let o=-n.scrollLeft+sN(t);const l=-n.scrollTop;return ca(s).direction==="rtl"&&(o+=Wr(e.clientWidth,s.clientWidth)-r),{width:r,height:i,x:o,y:l}}function fY(t,e){const n=Qr(t),s=eo(t),r=n.visualViewport;let i=s.clientWidth,o=s.clientHeight,l=0,c=0;if(r){i=r.width,o=r.height;const d=vS();(!d||d&&e==="fixed")&&(l=r.offsetLeft,c=r.offsetTop)}return{width:i,height:o,x:l,y:c}}function mY(t,e){const n=Pd(t,!0,e==="fixed"),s=n.top+t.clientTop,r=n.left+t.clientLeft,i=Ga(t)?Ku(t):oc(1),o=t.clientWidth*i.x,l=t.clientHeight*i.y,c=r*i.x,d=s*i.y;return{width:o,height:l,x:c,y:d}}function FE(t,e,n){let s;if(e==="viewport")s=fY(t,n);else if(e==="document")s=hY(eo(t));else if(la(e))s=mY(e,n);else{const r=YO(t);s={...e,x:e.x-r.x,y:e.y-r.y}}return wy(s)}function XO(t,e){const n=cc(t);return n===e||!la(n)||Th(n)?!1:ca(n).position==="fixed"||XO(n,e)}function pY(t,e){const n=e.get(t);if(n)return n;let s=rp(t,[],!1).filter(l=>la(l)&&Qh(l)!=="body"),r=null;const i=ca(t).position==="fixed";let o=i?cc(t):t;for(;la(o)&&!Th(o);){const l=ca(o),c=yS(o);!c&&l.position==="fixed"&&(r=null),(i?!c&&!r:!c&&l.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||xg(o)&&!c&&XO(t,o))?s=s.filter(u=>u!==o):r=l,o=cc(o)}return e.set(t,s),s}function gY(t){let{element:e,boundary:n,rootBoundary:s,strategy:r}=t;const o=[...n==="clippingAncestors"?Lv(e)?[]:pY(e,this._c):[].concat(n),s],l=o[0],c=o.reduce((d,u)=>{const h=FE(e,u,r);return d.top=Wr(h.top,d.top),d.right=ac(h.right,d.right),d.bottom=ac(h.bottom,d.bottom),d.left=Wr(h.left,d.left),d},FE(e,l,r));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function xY(t){const{width:e,height:n}=GO(t);return{width:e,height:n}}function yY(t,e,n){const s=Ga(e),r=eo(e),i=n==="fixed",o=Pd(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=oc(0);if(s||!s&&!i)if((Qh(e)!=="body"||xg(r))&&(l=Bv(e)),s){const m=Pd(e,!0,i,e);c.x=m.x+e.clientLeft,c.y=m.y+e.clientTop}else r&&(c.x=sN(r));let d=0,u=0;if(r&&!s&&!i){const m=r.getBoundingClientRect();u=m.top+l.scrollTop,d=m.left+l.scrollLeft-sN(r,m)}const h=o.left+l.scrollLeft-c.x-d,f=o.top+l.scrollTop-c.y-u;return{x:h,y:f,width:o.width,height:o.height}}function yw(t){return ca(t).position==="static"}function LE(t,e){if(!Ga(t)||ca(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return eo(t)===n&&(n=n.ownerDocument.body),n}function QO(t,e){const n=Qr(t);if(Lv(t))return n;if(!Ga(t)){let r=cc(t);for(;r&&!Th(r);){if(la(r)&&!yw(r))return r;r=cc(r)}return n}let s=LE(t,e);for(;s&&aY(s)&&yw(s);)s=LE(s,e);return s&&Th(s)&&yw(s)&&!yS(s)?n:s||oY(t)||n}const vY=async function(t){const e=this.getOffsetParent||QO,n=this.getDimensions,s=await n(t.floating);return{reference:yY(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function bY(t){return ca(t).direction==="rtl"}const wY={convertOffsetParentRelativeRectToViewportRelativeRect:dY,getDocumentElement:eo,getClippingRect:gY,getOffsetParent:QO,getElementRects:vY,getClientRects:uY,getDimensions:xY,getScale:Ku,isElement:la,isRTL:bY};function NY(t,e){let n=null,s;const r=eo(t);function i(){var l;clearTimeout(s),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const{left:d,top:u,width:h,height:f}=t.getBoundingClientRect();if(l||e(),!h||!f)return;const m=o0(u),g=o0(r.clientWidth-(d+h)),p=o0(r.clientHeight-(u+f)),w=o0(d),y={rootMargin:-m+"px "+-g+"px "+-p+"px "+-w+"px",threshold:Wr(0,ac(1,c))||1};let N=!0;function A(S){const T=S[0].intersectionRatio;if(T!==c){if(!N)return o();T?o(!1,T):s=setTimeout(()=>{o(!1,1e-7)},1e3)}N=!1}try{n=new IntersectionObserver(A,{...y,root:r.ownerDocument})}catch{n=new IntersectionObserver(A,y)}n.observe(t)}return o(!0),i}function kY(t,e,n,s){s===void 0&&(s={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,d=bS(t),u=r||i?[...d?rp(d):[],...rp(e)]:[];u.forEach(b=>{r&&b.addEventListener("scroll",n,{passive:!0}),i&&b.addEventListener("resize",n)});const h=d&&l?NY(d,n):null;let f=-1,m=null;o&&(m=new ResizeObserver(b=>{let[y]=b;y&&y.target===d&&m&&(m.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var N;(N=m)==null||N.observe(e)})),n()}),d&&!c&&m.observe(d),m.observe(e));let g,p=c?Pd(t):null;c&&w();function w(){const b=Pd(t);p&&(b.x!==p.x||b.y!==p.y||b.width!==p.width||b.height!==p.height)&&n(),p=b,g=requestAnimationFrame(w)}return n(),()=>{var b;u.forEach(y=>{r&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),h==null||h(),(b=m)==null||b.disconnect(),m=null,c&&cancelAnimationFrame(g)}}const jY=nY,SY=sY,AY=ZG,TY=iY,CY=eY,BE=JG,EY=rY,IY=(t,e,n)=>{const s=new Map,r={platform:wY,...n},i={...r.platform,_c:s};return QG(t,e,{...r,platform:i})};var hx=typeof document<"u"?v.useLayoutEffect:v.useEffect;function Ny(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,s,r;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(s=n;s--!==0;)if(!Ny(t[s],e[s]))return!1;return!0}if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(e,r[s]))return!1;for(s=n;s--!==0;){const i=r[s];if(!(i==="_owner"&&t.$$typeof)&&!Ny(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function JO(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function UE(t,e){const n=JO(t);return Math.round(e*n)/n}function vw(t){const e=v.useRef(t);return hx(()=>{e.current=t}),e}function PY(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:s=[],platform:r,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[u,h]=v.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,m]=v.useState(s);Ny(f,s)||m(s);const[g,p]=v.useState(null),[w,b]=v.useState(null),y=v.useCallback(C=>{C!==T.current&&(T.current=C,p(C))},[]),N=v.useCallback(C=>{C!==_.current&&(_.current=C,b(C))},[]),A=i||g,S=o||w,T=v.useRef(null),_=v.useRef(null),R=v.useRef(u),B=c!=null,V=vw(c),U=vw(r),L=vw(d),M=v.useCallback(()=>{if(!T.current||!_.current)return;const C={placement:e,strategy:n,middleware:f};U.current&&(C.platform=U.current),IY(T.current,_.current,C).then(I=>{const F={...I,isPositioned:L.current!==!1};x.current&&!Ny(R.current,F)&&(R.current=F,Yd.flushSync(()=>{h(F)}))})},[f,e,n,U,L]);hx(()=>{d===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,h(C=>({...C,isPositioned:!1})))},[d]);const x=v.useRef(!1);hx(()=>(x.current=!0,()=>{x.current=!1}),[]),hx(()=>{if(A&&(T.current=A),S&&(_.current=S),A&&S){if(V.current)return V.current(A,S,M);M()}},[A,S,M,V,B]);const j=v.useMemo(()=>({reference:T,floating:_,setReference:y,setFloating:N}),[y,N]),E=v.useMemo(()=>({reference:A,floating:S}),[A,S]),D=v.useMemo(()=>{const C={position:n,left:0,top:0};if(!E.floating)return C;const I=UE(E.floating,u.x),F=UE(E.floating,u.y);return l?{...C,transform:"translate("+I+"px, "+F+"px)",...JO(E.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:I,top:F}},[n,l,E.floating,u.x,u.y]);return v.useMemo(()=>({...u,update:M,refs:j,elements:E,floatingStyles:D}),[u,M,j,E,D])}const _Y=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:s,padding:r}=typeof t=="function"?t(n):t;return s&&e(s)?s.current!=null?BE({element:s.current,padding:r}).fn(n):{}:s?BE({element:s,padding:r}).fn(n):{}}}},RY=(t,e)=>({...jY(t),options:[t,e]}),MY=(t,e)=>({...SY(t),options:[t,e]}),OY=(t,e)=>({...EY(t),options:[t,e]}),DY=(t,e)=>({...AY(t),options:[t,e]}),$Y=(t,e)=>({...TY(t),options:[t,e]}),FY=(t,e)=>({...CY(t),options:[t,e]}),LY=(t,e)=>({..._Y(t),options:[t,e]});var BY="Arrow",ZO=v.forwardRef((t,e)=>{const{children:n,width:s=10,height:r=5,...i}=t;return a.jsx(gt.svg,{...i,ref:e,width:s,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});ZO.displayName=BY;var UY=ZO;function VY(t,e=[]){let n=[];function s(i,o){const l=v.createContext(o),c=n.length;n=[...n,o];function d(h){const{scope:f,children:m,...g}=h,p=(f==null?void 0:f[t][c])||l,w=v.useMemo(()=>g,Object.values(g));return a.jsx(p.Provider,{value:w,children:m})}function u(h,f){const m=(f==null?void 0:f[t][c])||l,g=v.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const r=()=>{const i=n.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return r.scopeName=t,[s,zY(r,...e)]}function zY(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function eD(t){const[e,n]=v.useState(void 0);return fs(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const i=r[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else n(void 0)},[t]),e}var wS="Popper",[tD,Uv]=VY(wS),[HY,nD]=tD(wS),sD=t=>{const{__scopePopper:e,children:n}=t,[s,r]=v.useState(null);return a.jsx(HY,{scope:e,anchor:s,onAnchorChange:r,children:n})};sD.displayName=wS;var rD="PopperAnchor",iD=v.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:s,...r}=t,i=nD(rD,n),o=v.useRef(null),l=on(e,o);return v.useEffect(()=>{i.onAnchorChange((s==null?void 0:s.current)||o.current)}),s?null:a.jsx(gt.div,{...r,ref:l})});iD.displayName=rD;var NS="PopperContent",[WY,KY]=tD(NS),aD=v.forwardRef((t,e)=>{var K,H,q,Q,J,te;const{__scopePopper:n,side:s="bottom",sideOffset:r=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:g,...p}=t,w=nD(NS,n),[b,y]=v.useState(null),N=on(e,Me=>y(Me)),[A,S]=v.useState(null),T=eD(A),_=(T==null?void 0:T.width)??0,R=(T==null?void 0:T.height)??0,B=s+(i!=="center"?"-"+i:""),V=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},U=Array.isArray(d)?d:[d],L=U.length>0,M={padding:V,boundary:U.filter(GY),altBoundary:L},{refs:x,floatingStyles:j,placement:E,isPositioned:D,middlewareData:C}=PY({strategy:"fixed",placement:B,whileElementsMounted:(...Me)=>kY(...Me,{animationFrame:m==="always"}),elements:{reference:w.anchor},middleware:[RY({mainAxis:r+R,alignmentAxis:o}),c&&MY({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?OY():void 0,...M}),c&&DY({...M}),$Y({...M,apply:({elements:Me,rects:ee,availableWidth:he,availableHeight:ke})=>{const{width:se,height:X}=ee.reference,re=Me.floating.style;re.setProperty("--radix-popper-available-width",`${he}px`),re.setProperty("--radix-popper-available-height",`${ke}px`),re.setProperty("--radix-popper-anchor-width",`${se}px`),re.setProperty("--radix-popper-anchor-height",`${X}px`)}}),A&&LY({element:A,padding:l}),YY({arrowWidth:_,arrowHeight:R}),f&&FY({strategy:"referenceHidden",...M})]}),[I,F]=cD(E),O=dr(g);fs(()=>{D&&(O==null||O())},[D,O]);const k=(K=C.arrow)==null?void 0:K.x,$=(H=C.arrow)==null?void 0:H.y,G=((q=C.arrow)==null?void 0:q.centerOffset)!==0,[P,z]=v.useState();return fs(()=>{b&&z(window.getComputedStyle(b).zIndex)},[b]),a.jsx("div",{ref:x.setFloating,"data-radix-popper-content-wrapper":"",style:{...j,transform:D?j.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:P,"--radix-popper-transform-origin":[(Q=C.transformOrigin)==null?void 0:Q.x,(J=C.transformOrigin)==null?void 0:J.y].join(" "),...((te=C.hide)==null?void 0:te.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(WY,{scope:n,placedSide:I,onArrowChange:S,arrowX:k,arrowY:$,shouldHideArrow:G,children:a.jsx(gt.div,{"data-side":I,"data-align":F,...p,ref:N,style:{...p.style,animation:D?void 0:"none"}})})})});aD.displayName=NS;var oD="PopperArrow",qY={top:"bottom",right:"left",bottom:"top",left:"right"},lD=v.forwardRef(function(e,n){const{__scopePopper:s,...r}=e,i=KY(oD,s),o=qY[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(UY,{...r,ref:n,style:{...r.style,display:"block"}})})});lD.displayName=oD;function GY(t){return t!==null}var YY=t=>({name:"transformOrigin",options:t,fn(e){var w,b,y;const{placement:n,rects:s,middlewareData:r}=e,o=((w=r.arrow)==null?void 0:w.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[d,u]=cD(n),h={start:"0%",center:"50%",end:"100%"}[u],f=(((b=r.arrow)==null?void 0:b.x)??0)+l/2,m=(((y=r.arrow)==null?void 0:y.y)??0)+c/2;let g="",p="";return d==="bottom"?(g=o?h:`${f}px`,p=`${-c}px`):d==="top"?(g=o?h:`${f}px`,p=`${s.floating.height+c}px`):d==="right"?(g=`${-c}px`,p=o?h:`${m}px`):d==="left"&&(g=`${s.floating.width+c}px`,p=o?h:`${m}px`),{data:{x:g,y:p}}}});function cD(t){const[e,n="center"]=t.split("-");return[e,n]}var XY=sD,dD=iD,uD=aD,hD=lD,[Vv,Tke]=Qo("Tooltip",[Uv]),kS=Uv(),fD="TooltipProvider",QY=700,VE="tooltip.open",[JY,mD]=Vv(fD),pD=t=>{const{__scopeTooltip:e,delayDuration:n=QY,skipDelayDuration:s=300,disableHoverableContent:r=!1,children:i}=t,[o,l]=v.useState(!0),c=v.useRef(!1),d=v.useRef(0);return v.useEffect(()=>{const u=d.current;return()=>window.clearTimeout(u)},[]),a.jsx(JY,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:v.useCallback(()=>{window.clearTimeout(d.current),l(!1)},[]),onClose:v.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l(!0),s)},[s]),isPointerInTransitRef:c,onPointerInTransitChange:v.useCallback(u=>{c.current=u},[]),disableHoverableContent:r,children:i})};pD.displayName=fD;var gD="Tooltip",[Cke,zv]=Vv(gD),rN="TooltipTrigger",ZY=v.forwardRef((t,e)=>{const{__scopeTooltip:n,...s}=t,r=zv(rN,n),i=mD(rN,n),o=kS(n),l=v.useRef(null),c=on(e,l,r.onTriggerChange),d=v.useRef(!1),u=v.useRef(!1),h=v.useCallback(()=>d.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),a.jsx(dD,{asChild:!0,...o,children:a.jsx(gt.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...s,ref:c,onPointerMove:mt(t.onPointerMove,f=>{f.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(r.onTriggerEnter(),u.current=!0)}),onPointerLeave:mt(t.onPointerLeave,()=>{r.onTriggerLeave(),u.current=!1}),onPointerDown:mt(t.onPointerDown,()=>{d.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:mt(t.onFocus,()=>{d.current||r.onOpen()}),onBlur:mt(t.onBlur,r.onClose),onClick:mt(t.onClick,r.onClose)})})});ZY.displayName=rN;var eX="TooltipPortal",[Eke,tX]=Vv(eX,{forceMount:void 0}),Ch="TooltipContent",xD=v.forwardRef((t,e)=>{const n=tX(Ch,t.__scopeTooltip),{forceMount:s=n.forceMount,side:r="top",...i}=t,o=zv(Ch,t.__scopeTooltip);return a.jsx(vc,{present:s||o.open,children:o.disableHoverableContent?a.jsx(yD,{side:r,...i,ref:e}):a.jsx(nX,{side:r,...i,ref:e})})}),nX=v.forwardRef((t,e)=>{const n=zv(Ch,t.__scopeTooltip),s=mD(Ch,t.__scopeTooltip),r=v.useRef(null),i=on(e,r),[o,l]=v.useState(null),{trigger:c,onClose:d}=n,u=r.current,{onPointerInTransitChange:h}=s,f=v.useCallback(()=>{l(null),h(!1)},[h]),m=v.useCallback((g,p)=>{const w=g.currentTarget,b={x:g.clientX,y:g.clientY},y=aX(b,w.getBoundingClientRect()),N=oX(b,y),A=lX(p.getBoundingClientRect()),S=dX([...N,...A]);l(S),h(!0)},[h]);return v.useEffect(()=>()=>f(),[f]),v.useEffect(()=>{if(c&&u){const g=w=>m(w,u),p=w=>m(w,c);return c.addEventListener("pointerleave",g),u.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",g),u.removeEventListener("pointerleave",p)}}},[c,u,m,f]),v.useEffect(()=>{if(o){const g=p=>{const w=p.target,b={x:p.clientX,y:p.clientY},y=(c==null?void 0:c.contains(w))||(u==null?void 0:u.contains(w)),N=!cX(b,o);y?f():N&&(f(),d())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,u,o,d,f]),a.jsx(yD,{...t,ref:i})}),[sX,rX]=Vv(gD,{isInside:!1}),yD=v.forwardRef((t,e)=>{const{__scopeTooltip:n,children:s,"aria-label":r,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=t,c=zv(Ch,n),d=kS(n),{onClose:u}=c;return v.useEffect(()=>(document.addEventListener(VE,u),()=>document.removeEventListener(VE,u)),[u]),v.useEffect(()=>{if(c.trigger){const h=f=>{const m=f.target;m!=null&&m.contains(c.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,u]),a.jsx(pg,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:a.jsxs(uD,{"data-state":c.stateAttribute,...d,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(sO,{children:s}),a.jsx(sX,{scope:n,isInside:!0,children:a.jsx(DK,{id:c.contentId,role:"tooltip",children:r||s})})]})})});xD.displayName=Ch;var vD="TooltipArrow",iX=v.forwardRef((t,e)=>{const{__scopeTooltip:n,...s}=t,r=kS(n);return rX(vD,n).isInside?null:a.jsx(hD,{...r,...s,ref:e})});iX.displayName=vD;function aX(t,e){const n=Math.abs(e.top-t.y),s=Math.abs(e.bottom-t.y),r=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,s,r,i)){case i:return"left";case r:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function oX(t,e,n=5){const s=[];switch(e){case"top":s.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":s.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":s.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":s.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return s}function lX(t){const{top:e,right:n,bottom:s,left:r}=t;return[{x:r,y:e},{x:n,y:e},{x:n,y:s},{x:r,y:s}]}function cX(t,e){const{x:n,y:s}=t;let r=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const l=e[i].x,c=e[i].y,d=e[o].x,u=e[o].y;c>s!=u>s&&n<(d-l)*(s-c)/(u-c)+l&&(r=!r)}return r}function dX(t){const e=t.slice();return e.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),uX(e)}function uX(t){if(t.length<=1)return t.slice();const e=[];for(let s=0;s<t.length;s++){const r=t[s];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(r.y-o.y)>=(i.y-o.y)*(r.x-o.x))e.pop();else break}e.push(r)}e.pop();const n=[];for(let s=t.length-1;s>=0;s--){const r=t[s];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(r.y-o.y)>=(i.y-o.y)*(r.x-o.x))n.pop();else break}n.push(r)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var hX=pD,bD=xD;const fX=hX,mX=v.forwardRef(({className:t,sideOffset:e=4,...n},s)=>a.jsx(bD,{ref:s,sideOffset:e,className:ut("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));mX.displayName=bD.displayName;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ip(){return ip=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},ip.apply(this,arguments)}var Dl;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Dl||(Dl={}));const zE="popstate";function pX(t){t===void 0&&(t={});function e(s,r){let{pathname:i,search:o,hash:l}=s.location;return iN("",{pathname:i,search:o,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(s,r){return typeof r=="string"?r:ky(r)}return xX(e,n,null,t)}function Yn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function wD(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gX(){return Math.random().toString(36).substr(2,8)}function HE(t,e){return{usr:t.state,key:t.key,idx:e}}function iN(t,e,n,s){return n===void 0&&(n=null),ip({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Jh(e):e,{state:n,key:e&&e.key||s||gX()})}function ky(t){let{pathname:e="/",search:n="",hash:s=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Jh(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function xX(t,e,n,s){s===void 0&&(s={});let{window:r=document.defaultView,v5Compat:i=!1}=s,o=r.history,l=Dl.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(ip({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function h(){l=Dl.Pop;let w=u(),b=w==null?null:w-d;d=w,c&&c({action:l,location:p.location,delta:b})}function f(w,b){l=Dl.Push;let y=iN(p.location,w,b);d=u()+1;let N=HE(y,d),A=p.createHref(y);try{o.pushState(N,"",A)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;r.location.assign(A)}i&&c&&c({action:l,location:p.location,delta:1})}function m(w,b){l=Dl.Replace;let y=iN(p.location,w,b);d=u();let N=HE(y,d),A=p.createHref(y);o.replaceState(N,"",A),i&&c&&c({action:l,location:p.location,delta:0})}function g(w){let b=r.location.origin!=="null"?r.location.origin:r.location.href,y=typeof w=="string"?w:ky(w);return y=y.replace(/ $/,"%20"),Yn(b,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,b)}let p={get action(){return l},get location(){return t(r,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(zE,h),c=w,()=>{r.removeEventListener(zE,h),c=null}},createHref(w){return e(r,w)},createURL:g,encodeLocation(w){let b=g(w);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:f,replace:m,go(w){return o.go(w)}};return p}var WE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(WE||(WE={}));function yX(t,e,n){return n===void 0&&(n="/"),vX(t,e,n,!1)}function vX(t,e,n,s){let r=typeof e=="string"?Jh(e):e,i=jS(r.pathname||"/",n);if(i==null)return null;let o=ND(t);bX(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=PX(i);l=EX(o[c],d,s)}return l}function ND(t,e,n,s){e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s="");let r=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Yn(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let d=Jl([s,c.relativePath]),u=n.concat(c);i.children&&i.children.length>0&&(Yn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),ND(i.children,e,u,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:TX(d,i.index),routesMeta:u})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))r(i,o);else for(let c of kD(i.path))r(i,o,c)}),e}function kD(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,r=n.endsWith("?"),i=n.replace(/\?$/,"");if(s.length===0)return r?[i,""]:[i];let o=kD(s.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),r&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function bX(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:CX(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const wX=/^:[\w-]+$/,NX=3,kX=2,jX=1,SX=10,AX=-2,KE=t=>t==="*";function TX(t,e){let n=t.split("/"),s=n.length;return n.some(KE)&&(s+=AX),e&&(s+=kX),n.filter(r=>!KE(r)).reduce((r,i)=>r+(wX.test(i)?NX:i===""?jX:SX),s)}function CX(t,e){return t.length===e.length&&t.slice(0,-1).every((s,r)=>s===e[r])?t[t.length-1]-e[e.length-1]:0}function EX(t,e,n){let{routesMeta:s}=t,r={},i="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],d=l===s.length-1,u=i==="/"?e:e.slice(i.length)||"/",h=qE({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),f=c.route;if(!h&&d&&n&&!s[s.length-1].route.index&&(h=qE({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!h)return null;Object.assign(r,h.params),o.push({params:r,pathname:Jl([i,h.pathname]),pathnameBase:OX(Jl([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Jl([i,h.pathnameBase]))}return o}function qE(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=IX(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let i=r[0],o=i.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:s.reduce((d,u,h)=>{let{paramName:f,isOptional:m}=u;if(f==="*"){let p=l[h]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const g=l[h];return m&&!g?d[f]=void 0:d[f]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function IX(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),wD(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),s]}function PX(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return wD(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function jS(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function _X(t,e){e===void 0&&(e="/");let{pathname:n,search:s="",hash:r=""}=typeof t=="string"?Jh(t):t;return{pathname:n?n.startsWith("/")?n:RX(n,e):e,search:DX(s),hash:$X(r)}}function RX(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function bw(t,e,n,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function MX(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function SS(t,e){let n=MX(t);return e?n.map((s,r)=>r===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function AS(t,e,n,s){s===void 0&&(s=!1);let r;typeof t=="string"?r=Jh(t):(r=ip({},t),Yn(!r.pathname||!r.pathname.includes("?"),bw("?","pathname","search",r)),Yn(!r.pathname||!r.pathname.includes("#"),bw("#","pathname","hash",r)),Yn(!r.search||!r.search.includes("#"),bw("#","search","hash",r)));let i=t===""||r.pathname==="",o=i?"/":r.pathname,l;if(o==null)l=n;else{let h=e.length-1;if(!s&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;r.pathname=f.join("/")}l=h>=0?e[h]:"/"}let c=_X(r,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Jl=t=>t.join("/").replace(/\/\/+/g,"/"),OX=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),DX=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,$X=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function FX(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const jD=["post","put","patch","delete"];new Set(jD);const LX=["get",...jD];new Set(LX);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ap(){return ap=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},ap.apply(this,arguments)}const TS=v.createContext(null),BX=v.createContext(null),bc=v.createContext(null),Hv=v.createContext(null),Jo=v.createContext({outlet:null,matches:[],isDataRoute:!1}),SD=v.createContext(null);function UX(t,e){let{relative:n}=e===void 0?{}:e;Zh()||Yn(!1);let{basename:s,navigator:r}=v.useContext(bc),{hash:i,pathname:o,search:l}=TD(t,{relative:n}),c=o;return s!=="/"&&(c=o==="/"?s:Jl([s,o])),r.createHref({pathname:c,search:l,hash:i})}function Zh(){return v.useContext(Hv)!=null}function to(){return Zh()||Yn(!1),v.useContext(Hv).location}function AD(t){v.useContext(bc).static||v.useLayoutEffect(t)}function no(){let{isDataRoute:t}=v.useContext(Jo);return t?tQ():VX()}function VX(){Zh()||Yn(!1);let t=v.useContext(TS),{basename:e,future:n,navigator:s}=v.useContext(bc),{matches:r}=v.useContext(Jo),{pathname:i}=to(),o=JSON.stringify(SS(r,n.v7_relativeSplatPath)),l=v.useRef(!1);return AD(()=>{l.current=!0}),v.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){s.go(d);return}let h=AS(d,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Jl([e,h.pathname])),(u.replace?s.replace:s.push)(h,u.state,u)},[e,s,o,i,t])}function zX(){let{matches:t}=v.useContext(Jo),e=t[t.length-1];return e?e.params:{}}function TD(t,e){let{relative:n}=e===void 0?{}:e,{future:s}=v.useContext(bc),{matches:r}=v.useContext(Jo),{pathname:i}=to(),o=JSON.stringify(SS(r,s.v7_relativeSplatPath));return v.useMemo(()=>AS(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function HX(t,e){return WX(t,e)}function WX(t,e,n,s){Zh()||Yn(!1);let{navigator:r}=v.useContext(bc),{matches:i}=v.useContext(Jo),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=to(),u;if(e){var h;let w=typeof e=="string"?Jh(e):e;c==="/"||(h=w.pathname)!=null&&h.startsWith(c)||Yn(!1),u=w}else u=d;let f=u.pathname||"/",m=f;if(c!=="/"){let w=c.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(w.length).join("/")}let g=yX(t,{pathname:m}),p=XX(g&&g.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:Jl([c,r.encodeLocation?r.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:Jl([c,r.encodeLocation?r.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n,s);return e&&p?v.createElement(Hv.Provider,{value:{location:ap({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Dl.Pop}},p):p}function KX(){let t=eQ(),e=FX(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),n?v.createElement("pre",{style:r},n):null,null)}const qX=v.createElement(KX,null);class GX extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?v.createElement(Jo.Provider,{value:this.props.routeContext},v.createElement(SD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function YX(t){let{routeContext:e,match:n,children:s}=t,r=v.useContext(TS);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(Jo.Provider,{value:e},s)}function XX(t,e,n,s){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),s===void 0&&(s=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=s)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(r=n)==null?void 0:r.errors;if(l!=null){let u=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);u>=0||Yn(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(n&&s&&s.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:f,errors:m}=n,g=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||g){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,h,f)=>{let m,g=!1,p=null,w=null;n&&(m=l&&h.route.id?l[h.route.id]:void 0,p=h.route.errorElement||qX,c&&(d<0&&f===0?(g=!0,w=null):d===f&&(g=!0,w=h.route.hydrateFallbackElement||null)));let b=e.concat(o.slice(0,f+1)),y=()=>{let N;return m?N=p:g?N=w:h.route.Component?N=v.createElement(h.route.Component,null):h.route.element?N=h.route.element:N=u,v.createElement(YX,{match:h,routeContext:{outlet:u,matches:b,isDataRoute:n!=null},children:N})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?v.createElement(GX,{location:n.location,revalidation:n.revalidation,component:p,error:m,children:y(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):y()},null)}var CD=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(CD||{}),jy=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(jy||{});function QX(t){let e=v.useContext(TS);return e||Yn(!1),e}function JX(t){let e=v.useContext(BX);return e||Yn(!1),e}function ZX(t){let e=v.useContext(Jo);return e||Yn(!1),e}function ED(t){let e=ZX(),n=e.matches[e.matches.length-1];return n.route.id||Yn(!1),n.route.id}function eQ(){var t;let e=v.useContext(SD),n=JX(jy.UseRouteError),s=ED(jy.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[s]}function tQ(){let{router:t}=QX(CD.UseNavigateStable),e=ED(jy.UseNavigateStable),n=v.useRef(!1);return AD(()=>{n.current=!0}),v.useCallback(function(r,i){i===void 0&&(i={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,ap({fromRouteId:e},i)))},[t,e])}function GE(t){let{to:e,replace:n,state:s,relative:r}=t;Zh()||Yn(!1);let{future:i,static:o}=v.useContext(bc),{matches:l}=v.useContext(Jo),{pathname:c}=to(),d=no(),u=AS(e,SS(l,i.v7_relativeSplatPath),c,r==="path"),h=JSON.stringify(u);return v.useEffect(()=>d(JSON.parse(h),{replace:n,state:s,relative:r}),[d,h,r,n,s]),null}function yr(t){Yn(!1)}function nQ(t){let{basename:e="/",children:n=null,location:s,navigationType:r=Dl.Pop,navigator:i,static:o=!1,future:l}=t;Zh()&&Yn(!1);let c=e.replace(/^\/*/,"/"),d=v.useMemo(()=>({basename:c,navigator:i,static:o,future:ap({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof s=="string"&&(s=Jh(s));let{pathname:u="/",search:h="",hash:f="",state:m=null,key:g="default"}=s,p=v.useMemo(()=>{let w=jS(u,c);return w==null?null:{location:{pathname:w,search:h,hash:f,state:m,key:g},navigationType:r}},[c,u,h,f,m,g,r]);return p==null?null:v.createElement(bc.Provider,{value:d},v.createElement(Hv.Provider,{children:n,value:p}))}function sQ(t){let{children:e,location:n}=t;return HX(aN(e),n)}new Promise(()=>{});function aN(t,e){e===void 0&&(e=[]);let n=[];return v.Children.forEach(t,(s,r)=>{if(!v.isValidElement(s))return;let i=[...e,r];if(s.type===v.Fragment){n.push.apply(n,aN(s.props.children,i));return}s.type!==yr&&Yn(!1),!s.props.index||!s.props.children||Yn(!1);let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=aN(s.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function oN(){return oN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},oN.apply(this,arguments)}function rQ(t,e){if(t==null)return{};var n={},s=Object.keys(t),r,i;for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function iQ(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function aQ(t,e){return t.button===0&&(!e||e==="_self")&&!iQ(t)}const oQ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],lQ="6";try{window.__reactRouterVersion=lQ}catch{}const cQ="startTransition",YE=QM[cQ];function dQ(t){let{basename:e,children:n,future:s,window:r}=t,i=v.useRef();i.current==null&&(i.current=pX({window:r,v5Compat:!0}));let o=i.current,[l,c]=v.useState({action:o.action,location:o.location}),{v7_startTransition:d}=s||{},u=v.useCallback(h=>{d&&YE?YE(()=>c(h)):c(h)},[c,d]);return v.useLayoutEffect(()=>o.listen(u),[o,u]),v.createElement(nQ,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:s})}const uQ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hQ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lN=v.forwardRef(function(e,n){let{onClick:s,relative:r,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:h}=e,f=rQ(e,oQ),{basename:m}=v.useContext(bc),g,p=!1;if(typeof d=="string"&&hQ.test(d)&&(g=d,uQ))try{let N=new URL(window.location.href),A=d.startsWith("//")?new URL(N.protocol+d):new URL(d),S=jS(A.pathname,m);A.origin===N.origin&&S!=null?d=S+A.search+A.hash:p=!0}catch{}let w=UX(d,{relative:r}),b=fQ(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:r,viewTransition:h});function y(N){s&&s(N),N.defaultPrevented||b(N)}return v.createElement("a",oN({},f,{href:g||w,onClick:p||i?s:y,ref:n,target:c}))});var XE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(XE||(XE={}));var QE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(QE||(QE={}));function fQ(t,e){let{target:n,replace:s,state:r,preventScrollReset:i,relative:o,viewTransition:l}=e===void 0?{}:e,c=no(),d=to(),u=TD(t,{relative:o});return v.useCallback(h=>{if(aQ(h,n)){h.preventDefault();let f=s!==void 0?s:ky(d)===ky(u);c(t,{replace:f,state:r,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,s,r,n,t,i,o,l])}const mQ=Dv("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Z=v.forwardRef(({className:t,variant:e,size:n,asChild:s=!1,...r},i)=>{const o=s?Cd:"button";return a.jsx(o,{className:ut(mQ({variant:e,size:n,className:t})),ref:i,...r})});Z.displayName="Button";const CS=()=>a.jsxs("div",{className:"framer-1fpxu4o",children:[a.jsx("div",{className:"framer-1yp8dcl"}),a.jsx("div",{className:"framer-1tkmzk9"}),a.jsx("div",{className:"framer-if0sjr"}),a.jsx("div",{className:"framer-1xgonwz"}),a.jsx("div",{className:"framer-1lv1w0o"})]}),ef="/assets/cloud-9FvyjO3L.png",pQ=()=>{const t=v.useRef(null),e=no(),n=()=>{e("/dashboard")};return v.useEffect(()=>{var u;const d=(u=t.current)==null?void 0:u.querySelectorAll("[data-animate]");d==null||d.forEach((h,f)=>{setTimeout(()=>{h.classList.add("animate-hero-word")},f*80)})},[]),a.jsxs("section",{id:"hero",ref:t,className:"relative min-h-screen flex flex-col justify-center overflow-hidden pt-20 pb-24",style:{backgroundColor:"#f0f8ffe6"},children:[a.jsx(CS,{}),a.jsx("div",{className:"flex justify-center mb-8 relative z-10",children:a.jsx("div",{className:"w-16 h-16 bg-foreground rounded-xl flex items-center justify-center shadow-lg opacity-0 animate-fade-in-up",style:{animationDelay:"0.2s"},children:a.jsx("div",{className:"w-8 h-8 bg-background rounded-md"})})}),a.jsx("div",{className:"max-w-[1200px] mx-auto px-6 relative z-10",children:a.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[a.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-30",style:{zIndex:1},children:a.jsx("img",{src:ef,alt:"",className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-[40%] w-[900px] max-w-none mix-blend-soft-light"})}),a.jsxs("h1",{className:"font-antic text-5xl md:text-6xl lg:text-[64px] font-normal text-foreground mb-6 leading-tight tracking-tight relative mt-8",style:{zIndex:2},children:[a.jsx("span",{className:"inline-block opacity-0","data-animate":!0,style:{animationDelay:"0s"},children:"Register,"})," ",a.jsx("span",{className:"inline-block font-beau text-[68px] opacity-0","data-animate":!0,style:{animationDelay:"0.08s"},children:"Manage,"}),a.jsx("span",{className:"inline-block opacity-0","data-animate":!0,style:{animationDelay:"0.16s"},children:"& Monetize"}),a.jsx("br",{}),a.jsx("span",{className:"inline-block opacity-0","data-animate":!0,style:{animationDelay:"0.24s"},children:"Your Creative IP with"})," ",a.jsx("span",{className:"inline-block font-beau text-[68px] opacity-0","data-animate":!0,style:{animationDelay:"0.32s"},children:" Story Protocol. "}),a.jsx("span",{className:"inline-block opacity-0","data-animate":!0,style:{animationDelay:"0.4s"},children:""})]}),a.jsx("p",{className:"font-inter text-base md:text-lg text-foreground/80 mb-12 max-w-xl mx-auto opacity-0 animate-fade-in-up relative",style:{animationDelay:"0.8s",zIndex:2},children:"IP-OPS is the ultimate platform for creators to establish on-chain provenance, manage derivatives, and automate royalties for their digital and real-world intellectual property."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center relative",style:{zIndex:2},children:[a.jsxs(Z,{size:"lg",className:"btn-gradient text-white rounded-[10px] font-inter font-medium px-8 py-6 text-sm opacity-0 inline-flex items-center gap-2",style:{animation:"fade-in-up 0.6s cubic-bezier(0.44, 0, 0.56, 1) forwards",animationDelay:"1s",background:"linear-gradient(125deg, rgb(119, 75, 229) -4%, rgb(119, 75, 229) 100%)",boxShadow:"rgb(192, 176, 232) 0px 1px 2px 0px inset, rgba(99, 69, 173, 0.35) 0px 0.706592px 0.706592px -0.583333px, rgba(99, 69, 173, 0.34) 0px 1.80656px 1.80656px -1.16667px, rgba(99, 69, 173, 0.33) 0px 3.62176px 3.62176px -1.75px, rgba(99, 69, 173, 0.3) 0px 6.8656px 6.8656px -2.33333px, rgba(99, 69, 173, 0.26) 0px 13.6468px 13.6468px -2.91667px, rgba(99, 69, 173, 0.15) 0px 30px 30px -3.5px"},onClick:n,children:["Register Your IP",a.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 256 256",children:a.jsx("path",{d:"M221.66,133.66l-72,72A8,8,0,0,1,136,200V136H40a8,8,0,0,1,0-16h96V56a8,8,0,0,1,13.66-5.66l72,72A8,8,0,0,1,221.66,133.66Z"})})]}),a.jsxs(Z,{size:"lg",className:"text-white rounded-[10px] font-inter font-medium px-8 py-6 text-sm opacity-0 inline-flex items-center gap-2",style:{animation:"fade-in-up 0.6s cubic-bezier(0.44, 0, 0.56, 1) forwards",animationDelay:"1.1s",background:"linear-gradient(127deg, rgb(14, 28, 41) -68%, rgb(50, 61, 104) 100%)",boxShadow:"rgb(184, 193, 230) 0px 1px 2px 0px inset, rgba(46, 64, 128, 0.35) 0px 0.706592px 0.706592px -0.583333px, rgba(46, 64, 128, 0.34) 0px 1.80656px 1.80656px -1.16667px, rgba(46, 64, 128, 0.33) 0px 3.62176px 3.62176px -1.75px, rgba(46, 64, 128, 0.3) 0px 6.8656px 6.8656px -2.33333px, rgba(46, 64, 128, 0.26) 0px 13.6468px 13.6468px -2.91667px, rgba(46, 64, 128, 0.15) 0px 30px 30px -3.5px"},children:["Explore Marketplace",a.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 256 256",children:a.jsx("path",{d:"M140,180a12,12,0,1,1-12-12A12,12,0,0,1,140,180ZM128,72c-22.06,0-40,16.15-40,36v4a8,8,0,0,0,16,0v-4c0-11,10.77-20,24-20s24,9,24,20-10.77,20-24,20a8,8,0,0,0-8,8v8a8,8,0,0,0,16,0v-.72c18.24-3.35,32-17.9,32-35.28C168,88.15,150.06,72,128,72Zm104,56A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128Z"})})]})]})]})})]})},gQ=()=>a.jsxs("div",{className:"integration-container",children:[a.jsxs("div",{className:"left-icons",children:[a.jsx("div",{className:"icon-pill icon-1",children:a.jsx("div",{className:"icon-container",children:a.jsxs("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[a.jsx("rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"}),a.jsx("path",{d:"m2 7 10 6 10-6"})]})})}),a.jsx("div",{className:"icon-pill icon-2",children:a.jsx("div",{className:"icon-container",children:a.jsx("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:a.jsx("path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"})})})}),a.jsx("div",{className:"icon-pill icon-3",children:a.jsx("div",{className:"icon-container",children:a.jsxs("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[a.jsx("circle",{cx:"12",cy:"12",r:"10"}),a.jsx("circle",{cx:"12",cy:"12",r:"4"}),a.jsx("path",{d:"M12 2v4"}),a.jsx("path",{d:"M12 18v4"}),a.jsx("path",{d:"M4.93 4.93l2.83 2.83"}),a.jsx("path",{d:"M16.24 16.24l2.83 2.83"}),a.jsx("path",{d:"M2 12h4"}),a.jsx("path",{d:"M18 12h4"}),a.jsx("path",{d:"M4.93 19.07l2.83-2.83"}),a.jsx("path",{d:"M16.24 7.76l2.83-2.83"})]})})})]}),a.jsxs("div",{className:"right-icons",children:[a.jsx("div",{className:"icon-pill icon-4",children:a.jsx("div",{className:"icon-container",children:a.jsx("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:a.jsx("path",{d:"M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"})})})}),a.jsx("div",{className:"icon-pill icon-5",children:a.jsx("div",{className:"icon-container",children:a.jsxs("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[a.jsx("path",{d:"M9 17H7A5 5 0 0 1 7 7h2"}),a.jsx("path",{d:"M15 7h2a5 5 0 1 1 0 10h-2"}),a.jsx("line",{x1:"8",y1:"12",x2:"16",y2:"12"})]})})}),a.jsx("div",{className:"icon-pill icon-6",children:a.jsx("div",{className:"icon-container",children:a.jsx("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:a.jsx("path",{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"})})})})]}),a.jsx("div",{className:"central-logo",children:a.jsx("div",{className:"logo-container",children:a.jsx("div",{className:"logo-icon",children:a.jsx("svg",{viewBox:"0 0 24 24",width:"24",height:"24",fill:"white",children:a.jsx("path",{d:"M2 12l7-7 3 3 7-7v5l-7 7-3-3-7 7V12z"})})})})}),a.jsxs("div",{className:"connecting-lines",children:[a.jsx("svg",{className:"line-left-top",viewBox:"0 0 400 200",style:{position:"absolute",top:"9px",left:"60px",width:"400px",height:"200px",pointerEvents:"none"},children:a.jsx("path",{d:"M 0 1 L 122.022 1 C 130.298 1 137.01 7.702 137.022 15.978 L 137.175 122.029 C 137.187 130.302 143.895 137.003 152.168 137.007 L 275.007 137.066 C 283.289 137.07 290 143.785 290 152.066 L 290 177 C 290 185.284 296.716 192 305 192 L 437 192",fill:"transparent",stroke:"rgb(156,163,175)",strokeWidth:"1.5",strokeMiterlimit:"10",strokeDasharray:"6,4",strokeLinecap:"round"})}),a.jsx("svg",{className:"line-left-middle",viewBox:"0 0 300 60",style:{position:"absolute",top:"calc(50% - 30px)",left:"104px",width:"300px",height:"60px",pointerEvents:"none"},children:a.jsx("path",{d:"M 0 30 L 300 30",fill:"transparent",stroke:"rgb(156,163,175)",strokeWidth:"1.5",strokeMiterlimit:"10",strokeDasharray:"6,4",strokeLinecap:"round"})}),a.jsx("svg",{className:"line-left-bottom",viewBox:"0 0 400 200",style:{position:"absolute",bottom:"1px",left:"60px",width:"400px",height:"200px",pointerEvents:"none"},children:a.jsx("path",{d:"M 0 192 L 122.022 192 C 130.298 192 137.01 185.298 137.022 177.022 L 137.175 70.971 C 137.187 62.698 143.906 55.997 152.179 55.993 L 274.996 55.933 C 283.278 55.93 290 49.215 290 40.933 L 290 16 C 290 7.716 296.716 1 305 1 L 437 1",fill:"transparent",stroke:"rgb(156,163,175)",strokeWidth:"1.5",strokeMiterlimit:"10",strokeDasharray:"6,4",strokeLinecap:"round"})}),a.jsx("svg",{className:"line-right-top",viewBox:"0 0 400 200",style:{position:"absolute",top:"9px",right:"104px",width:"400px",height:"200px",pointerEvents:"none"},children:a.jsx("path",{d:"M 437 1 L 314.978 1 C 306.702 1 299.99 7.702 299.978 15.978 L 299.825 122.029 C 299.813 130.302 293.105 137.003 284.832 137.007 L 161.993 137.066 C 153.711 137.07 147 143.785 147 152.066 L 147 177 C 147 185.284 140.284 192 132 192 L 0 192",fill:"transparent",stroke:"rgb(156,163,175)",strokeWidth:"1.5",strokeMiterlimit:"10",strokeDasharray:"6,4",strokeLinecap:"round"})}),a.jsx("svg",{className:"line-right-middle",viewBox:"0 0 300 60",style:{position:"absolute",top:"calc(50% - 30px)",right:"104px",width:"300px",height:"60px",pointerEvents:"none"},children:a.jsx("path",{d:"M 300 30 L 0 30",fill:"transparent",stroke:"rgb(156,163,175)",strokeWidth:"1.5",strokeMiterlimit:"10",strokeDasharray:"6,4",strokeLinecap:"round"})}),a.jsx("svg",{className:"line-right-bottom",viewBox:"0 0 400 200",style:{position:"absolute",bottom:"1px",right:"104px",width:"400px",height:"200px",pointerEvents:"none"},children:a.jsx("path",{d:"M 437 192 L 314.978 192 C 306.702 192 299.99 185.298 299.978 177.022 L 299.825 70.971 C 299.813 62.698 293.105 55.997 284.832 55.993 L 161.993 55.933 C 153.711 55.93 147 49.215 147 40.933 L 147 16 C 147 7.716 140.284 1 132 1 L 0 1",fill:"transparent",stroke:"rgb(156,163,175)",strokeWidth:"1.5",strokeMiterlimit:"10",strokeDasharray:"6,4",strokeLinecap:"round"})})]})]}),xQ=()=>{const t=v.useRef(null);v.useEffect(()=>{var r;const n=new IntersectionObserver(i=>{i.forEach(o=>{o.isIntersecting&&o.target.classList.add("animate-fade-in-up")})},{threshold:.1}),s=(r=t.current)==null?void 0:r.querySelectorAll("[data-scroll-reveal]");return s==null||s.forEach(i=>n.observe(i)),()=>n.disconnect()},[]);const e=["On-Chain Provenance","Automated Royalties","Derivative Tracking"];return a.jsx("section",{id:"integrations",ref:t,className:"py-24 relative",children:a.jsx("div",{className:"max-w-[1200px] mx-auto px-6",children:a.jsxs("div",{className:"bg-[#d8dfe5] rounded-[20px] p-12 md:p-16 card-shadow relative opacity-0","data-scroll-reveal":!0,style:{boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",animationDelay:"0.2s"},children:[a.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-10 overflow-hidden rounded-[20px]",children:a.jsx("img",{src:ef,alt:"",className:"absolute top-1/2 right-0 transform -translate-y-1/2 translate-x-1/4 w-[600px] max-w-none mix-blend-soft-light"})}),a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("div",{className:"inline-block bg-white/80 backdrop-blur-sm rounded-full px-4 py-2 text-sm font-medium text-gray-700 mb-6",children:"Story Protocol Integration"}),a.jsx("h2",{className:"font-['Plus_Jakarta_Sans'] mb-2  text-[#0e1c29] text-[44px] not-italic font-normal h-[52.8px] tracking-[-0.44px] leading-[52.8px]",children:"Deeply Integrated with Story Protocol"})]}),a.jsx("div",{className:"mb-16","data-scroll-reveal":!0,style:{animationDelay:"0.4s"},children:a.jsx(gQ,{})}),a.jsx("div",{className:"flex flex-col md:flex-row justify-center items-center gap-8 md:gap-12 text-center",children:e.map((n,s)=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"font-medium text-gray-700 text-lg",children:n}),s<e.length-1&&a.jsx("div",{className:"hidden md:block w-px h-8 bg-gray-400 mx-8 opacity-50",style:{background:"repeating-linear-gradient(to bottom, #9ca3af 0px, #9ca3af 3px, transparent 3px, transparent 6px)"}})]},n))})]})})})},yQ=()=>{const t=v.useRef(null);v.useEffect(()=>{var i;const s=new IntersectionObserver(o=>{o.forEach(l=>{l.isIntersecting&&l.target.classList.add("animate-fade-in-up")})},{threshold:.1}),r=(i=t.current)==null?void 0:i.querySelectorAll("[data-scroll-reveal]");return r==null||r.forEach(o=>s.observe(o)),()=>s.disconnect()},[]);const e=["Immutable Ownership Records","Verifiable Creation Timestamps","Transparent Licensing History","Public IP Registry"],n=["Automatic Royalty Payouts","Seamless Derivative Linking","Fair Revenue Distribution","Clear Attribution Trails"];return a.jsxs("section",{id:"insights",ref:t,className:"py-24 relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-1/2 left-0 pointer-events-none opacity-20 transform -translate-y-1/2 -translate-x-1/3",children:a.jsx("img",{src:ef,alt:"",className:"w-[500px] mix-blend-soft-light"})}),a.jsxs("div",{className:"max-w-[1200px] mx-auto px-6 relative z-10",children:[a.jsxs("div",{className:"text-center mb-16 opacity-0","data-scroll-reveal":!0,children:[a.jsx("h2",{className:"font-jakarta text-5xl md:text-[56px] font-italic text-foreground mb-4",children:"Unveiling IP-OPS Insights"}),a.jsx("p",{className:"font-inter text-base md:text-lg text-foreground/80 max-w-2xl mx-auto",children:"Gain unparalleled clarity into your intellectual property, from creation to monetization, all powered by Story Protocol."})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-12 mb-16",children:[a.jsx("div",{className:"opacity-0","data-scroll-reveal":!0,children:a.jsxs("div",{className:"bg-card rounded-2xl p-8 card-shadow hover-lift",children:[a.jsx("h3",{className:"font-inter text-2xl font-semibold text-foreground mb-4",children:"On-Chain Provenance & Transparency"}),a.jsx("p",{className:"font-inter text-base text-foreground/80 mb-6 leading-relaxed",children:"Every action related to your IP is immutably recorded on the blockchain, providing undeniable proof of ownership, creation, and licensing history."}),a.jsx("div",{className:"space-y-3",children:e.map((s,r)=>a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-5 h-5 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:a.jsx(gy,{className:"w-3 h-3 text-primary"})}),a.jsx("span",{className:"font-inter text-sm text-foreground/80",children:s})]},`insight-${r}`))})]})}),a.jsx("div",{className:"opacity-0","data-scroll-reveal":!0,children:a.jsxs("div",{className:"bg-card rounded-2xl p-8 card-shadow hover-lift",children:[a.jsx("h3",{className:"font-inter text-2xl font-semibold text-foreground mb-4",children:"Automated Royalty & Derivative Tracking"}),a.jsx("p",{className:"font-inter text-base text-foreground/80 mb-6 leading-relaxed",children:"Experience seamless revenue distribution and automatic derivative linking, ensuring fair compensation and clear attribution across the entire IP lifecycle."}),a.jsx("div",{className:"space-y-3",children:n.map((s,r)=>a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-5 h-5 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:a.jsx(gy,{className:"w-3 h-3 text-primary"})}),a.jsx("span",{className:"font-inter text-sm text-foreground/80",children:s})]},`benefit-${r}`))})]})})]})]})]})},vQ=()=>{const t=v.useRef(null);v.useEffect(()=>{var r;const n=new IntersectionObserver(i=>{i.forEach(o=>{o.isIntersecting&&o.target.classList.add("animate-fade-in-up")})},{threshold:.1}),s=(r=t.current)==null?void 0:r.querySelectorAll("[data-scroll-reveal]");return s==null||s.forEach(i=>n.observe(i)),()=>n.disconnect()},[]);const e=[{title:"Effortless Royalty Distribution",description:"Story Protocol automates royalty payouts directly to all eligible rights holders, ensuring fair and transparent compensation without manual intervention."},{title:"Seamless Derivative Tracking",description:"Automatically link and track derivative works to their parent IPs, maintaining a clear chain of provenance and ensuring creators benefit from their original content."},{title:"On-Chain Licensing & Usage",description:"Manage and enforce IP licenses directly on the blockchain, granting permissions and collecting fees with unparalleled transparency and security."},{title:"Real-Time Revenue Insights",description:"Gain instant visibility into your IP's performance and royalty earnings through comprehensive, up-to-date dashboards and analytics."},{title:"Dispute Resolution Framework",description:"Our integrated system provides tools and processes for efficiently resolving IP disputes, supported by transparent on-chain records."},{title:"Global Reach & Accessibility",description:"Expand the reach of your intellectual property to a global audience with a decentralized platform that operates 24/7, accessible to creators worldwide."}];return a.jsxs("section",{id:"auto-repaying",ref:t,className:"py-24 bg-card/30 relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 pointer-events-none opacity-40",children:a.jsx("img",{src:ef,alt:"",className:"w-[400px] mix-blend-screen"})}),a.jsxs("div",{className:"max-w-[1200px] mx-auto px-6 relative z-10",children:[a.jsxs("div",{className:"text-center mb-16 opacity-0","data-scroll-reveal":!0,children:[a.jsx("p",{className:"font-inter text-sm font-medium text-primary mb-3 uppercase tracking-wider",children:"Automated Monetization"}),a.jsx("h2",{className:"font-antic text-5xl md:text-[56px] font-italic text-foreground mb-4",children:"Automatic Royalty & Derivative Management"}),a.jsx("p",{className:"font-inter text-base md:text-lg text-foreground/80 max-w-2xl mx-auto",children:"IP-OPS streamlines your IP monetization, ensuring creators are fairly compensated and derivatives are tracked seamlessly."})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map((n,s)=>a.jsxs("div",{"data-scroll-reveal":!0,className:"rounded-2xl p-8 card-shadow opacity-0 hover-lift",style:{background:"linear-gradient(to bottom, #ffffff 0%, #d8dfe5 100%)",animationDelay:`${s*.1}s`},children:[a.jsx("h3",{className:"font-inter text-xl font-semibold text-foreground mb-3",children:n.title}),a.jsx("p",{className:"font-inter text-sm text-foreground/70 leading-relaxed",children:n.description})]},`auto-feature-${s}`))}),a.jsxs("div",{className:"mt-16 flex flex-wrap justify-center gap-6 opacity-0","data-scroll-reveal":!0,children:[a.jsx("div",{className:"text-center px-8 py-4",children:a.jsx("div",{className:"font-inter text-sm font-medium text-muted-foreground mb-1",children:"Fair Compensation"})}),a.jsx("div",{className:"text-center px-8 py-4",children:a.jsx("div",{className:"font-inter text-sm font-medium text-muted-foreground mb-1",children:"Transparent Transactions"})}),a.jsx("div",{className:"text-center px-8 py-4",children:a.jsx("div",{className:"font-inter text-sm font-medium text-muted-foreground mb-1",children:"Creator Empowerment"})})]})]})]})};var ES="Collapsible",[bQ,ID]=Qo(ES),[wQ,IS]=bQ(ES),PD=v.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:s,defaultOpen:r,disabled:i,onOpenChange:o,...l}=t,[c=!1,d]=qa({prop:s,defaultProp:r,onChange:o});return a.jsx(wQ,{scope:n,disabled:i,contentId:Da(),open:c,onOpenToggle:v.useCallback(()=>d(u=>!u),[d]),children:a.jsx(gt.div,{"data-state":_S(c),"data-disabled":i?"":void 0,...l,ref:e})})});PD.displayName=ES;var _D="CollapsibleTrigger",RD=v.forwardRef((t,e)=>{const{__scopeCollapsible:n,...s}=t,r=IS(_D,n);return a.jsx(gt.button,{type:"button","aria-controls":r.contentId,"aria-expanded":r.open||!1,"data-state":_S(r.open),"data-disabled":r.disabled?"":void 0,disabled:r.disabled,...s,ref:e,onClick:mt(t.onClick,r.onOpenToggle)})});RD.displayName=_D;var PS="CollapsibleContent",MD=v.forwardRef((t,e)=>{const{forceMount:n,...s}=t,r=IS(PS,t.__scopeCollapsible);return a.jsx(vc,{present:n||r.open,children:({present:i})=>a.jsx(NQ,{...s,ref:e,present:i})})});MD.displayName=PS;var NQ=v.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:s,children:r,...i}=t,o=IS(PS,n),[l,c]=v.useState(s),d=v.useRef(null),u=on(e,d),h=v.useRef(0),f=h.current,m=v.useRef(0),g=m.current,p=o.open||l,w=v.useRef(p),b=v.useRef();return v.useEffect(()=>{const y=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(y)},[]),fs(()=>{const y=d.current;if(y){b.current=b.current||{transitionDuration:y.style.transitionDuration,animationName:y.style.animationName},y.style.transitionDuration="0s",y.style.animationName="none";const N=y.getBoundingClientRect();h.current=N.height,m.current=N.width,w.current||(y.style.transitionDuration=b.current.transitionDuration,y.style.animationName=b.current.animationName),c(s)}},[o.open,s]),a.jsx(gt.div,{"data-state":_S(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!p,...i,ref:u,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...t.style},children:p&&r})});function _S(t){return t?"open":"closed"}var kQ=PD,jQ=RD,SQ=MD,AQ=v.createContext(void 0);function Wv(t){const e=v.useContext(AQ);return t||e||"ltr"}var Zo="Accordion",TQ=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[RS,CQ,EQ]=_v(Zo),[Kv,Ike]=Qo(Zo,[EQ,ID]),MS=ID(),OD=Ae.forwardRef((t,e)=>{const{type:n,...s}=t,r=s,i=s;return a.jsx(RS.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?a.jsx(RQ,{...i,ref:e}):a.jsx(_Q,{...r,ref:e})})});OD.displayName=Zo;var[DD,IQ]=Kv(Zo),[$D,PQ]=Kv(Zo,{collapsible:!1}),_Q=Ae.forwardRef((t,e)=>{const{value:n,defaultValue:s,onValueChange:r=()=>{},collapsible:i=!1,...o}=t,[l,c]=qa({prop:n,defaultProp:s,onChange:r});return a.jsx(DD,{scope:t.__scopeAccordion,value:l?[l]:[],onItemOpen:c,onItemClose:Ae.useCallback(()=>i&&c(""),[i,c]),children:a.jsx($D,{scope:t.__scopeAccordion,collapsible:i,children:a.jsx(FD,{...o,ref:e})})})}),RQ=Ae.forwardRef((t,e)=>{const{value:n,defaultValue:s,onValueChange:r=()=>{},...i}=t,[o=[],l]=qa({prop:n,defaultProp:s,onChange:r}),c=Ae.useCallback(u=>l((h=[])=>[...h,u]),[l]),d=Ae.useCallback(u=>l((h=[])=>h.filter(f=>f!==u)),[l]);return a.jsx(DD,{scope:t.__scopeAccordion,value:o,onItemOpen:c,onItemClose:d,children:a.jsx($D,{scope:t.__scopeAccordion,collapsible:!0,children:a.jsx(FD,{...i,ref:e})})})}),[MQ,qv]=Kv(Zo),FD=Ae.forwardRef((t,e)=>{const{__scopeAccordion:n,disabled:s,dir:r,orientation:i="vertical",...o}=t,l=Ae.useRef(null),c=on(l,e),d=CQ(n),h=Wv(r)==="ltr",f=mt(t.onKeyDown,m=>{var R;if(!TQ.includes(m.key))return;const g=m.target,p=d().filter(B=>{var V;return!((V=B.ref.current)!=null&&V.disabled)}),w=p.findIndex(B=>B.ref.current===g),b=p.length;if(w===-1)return;m.preventDefault();let y=w;const N=0,A=b-1,S=()=>{y=w+1,y>A&&(y=N)},T=()=>{y=w-1,y<N&&(y=A)};switch(m.key){case"Home":y=N;break;case"End":y=A;break;case"ArrowRight":i==="horizontal"&&(h?S():T());break;case"ArrowDown":i==="vertical"&&S();break;case"ArrowLeft":i==="horizontal"&&(h?T():S());break;case"ArrowUp":i==="vertical"&&T();break}const _=y%b;(R=p[_].ref.current)==null||R.focus()});return a.jsx(MQ,{scope:n,disabled:s,direction:r,orientation:i,children:a.jsx(RS.Slot,{scope:n,children:a.jsx(gt.div,{...o,"data-orientation":i,ref:c,onKeyDown:s?void 0:f})})})}),Sy="AccordionItem",[OQ,OS]=Kv(Sy),LD=Ae.forwardRef((t,e)=>{const{__scopeAccordion:n,value:s,...r}=t,i=qv(Sy,n),o=IQ(Sy,n),l=MS(n),c=Da(),d=s&&o.value.includes(s)||!1,u=i.disabled||t.disabled;return a.jsx(OQ,{scope:n,open:d,disabled:u,triggerId:c,children:a.jsx(kQ,{"data-orientation":i.orientation,"data-state":WD(d),...l,...r,ref:e,disabled:u,open:d,onOpenChange:h=>{h?o.onItemOpen(s):o.onItemClose(s)}})})});LD.displayName=Sy;var BD="AccordionHeader",UD=Ae.forwardRef((t,e)=>{const{__scopeAccordion:n,...s}=t,r=qv(Zo,n),i=OS(BD,n);return a.jsx(gt.h3,{"data-orientation":r.orientation,"data-state":WD(i.open),"data-disabled":i.disabled?"":void 0,...s,ref:e})});UD.displayName=BD;var cN="AccordionTrigger",VD=Ae.forwardRef((t,e)=>{const{__scopeAccordion:n,...s}=t,r=qv(Zo,n),i=OS(cN,n),o=PQ(cN,n),l=MS(n);return a.jsx(RS.ItemSlot,{scope:n,children:a.jsx(jQ,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":r.orientation,id:i.triggerId,...l,...s,ref:e})})});VD.displayName=cN;var zD="AccordionContent",HD=Ae.forwardRef((t,e)=>{const{__scopeAccordion:n,...s}=t,r=qv(Zo,n),i=OS(zD,n),o=MS(n);return a.jsx(SQ,{role:"region","aria-labelledby":i.triggerId,"data-orientation":r.orientation,...o,...s,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});HD.displayName=zD;function WD(t){return t?"open":"closed"}var DQ=OD,$Q=LD,FQ=UD,KD=VD,qD=HD;const LQ=DQ,GD=v.forwardRef(({className:t,...e},n)=>a.jsx($Q,{ref:n,className:ut("border-b",t),...e}));GD.displayName="AccordionItem";const YD=v.forwardRef(({className:t,children:e,...n},s)=>a.jsx(FQ,{className:"flex",children:a.jsxs(KD,{ref:s,className:ut("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...n,children:[e,a.jsx(cS,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));YD.displayName=KD.displayName;const XD=v.forwardRef(({className:t,children:e,...n},s)=>a.jsx(qD,{ref:s,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:a.jsx("div",{className:ut("pb-4 pt-0",t),children:e})}));XD.displayName=qD.displayName;const BQ=()=>{const t=v.useRef(null);v.useEffect(()=>{var r;const n=new IntersectionObserver(i=>{i.forEach(o=>{o.isIntersecting&&o.target.classList.add("animate-fade-in-up")})},{threshold:.1}),s=(r=t.current)==null?void 0:r.querySelectorAll("[data-scroll-reveal]");return s==null||s.forEach(i=>n.observe(i)),()=>n.disconnect()},[]);const e=[{question:"What is IP-OPS and how does it utilize Story Protocol?",answer:"IP-OPS is a decentralized platform built on Story Protocol, designed to empower creators with on-chain tools for registering, managing, and monetizing their intellectual property. Story Protocol provides the foundational infrastructure for IP assets, derivatives, and royalty distribution."},{question:"How does IP-OPS ensure my IP's authenticity and provenance?",answer:"Through Story Protocol, every IP registration on IP-OPS creates an immutable record on the blockchain. This provides verifiable proof of creation, ownership, and a transparent history of all associated licenses and derivatives."},{question:"Can I track derivatives of my IP on IP-OPS?",answer:"Yes, IP-OPS, powered by Story Protocol, offers robust derivative tracking. When a new work is identified as a derivative of your IP, it can be linked on-chain, automatically setting up royalty flows for the original creator."},{question:"How are royalties distributed for my IP on IP-OPS?",answer:"Royalties are automatically distributed via Story Protocol's royalty module. Once your IP is registered and licensed, any revenue generated by your original or derivative works is split and paid out to all eligible rights holders according to pre-defined terms."},{question:"Is IP-OPS designed for all types of creators and intellectual property?",answer:"IP-OPS is built to support a wide range of creative IPs, from digital art and music to written works and real-world assets. Our platform provides a flexible framework for creators across various industries to manage and monetize their unique intellectual property."}];return a.jsx("section",{id:"faqs",ref:t,className:"py-24 relative",children:a.jsx("div",{className:"max-w-[1200px] mx-auto px-6",children:a.jsxs("div",{className:"bg-[#d8dfe5] rounded-[20px] p-12 md:p-16 card-shadow relative opacity-0","data-scroll-reveal":!0,style:{boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",animationDelay:"0.2s"},children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("div",{className:"inline-block bg-white/80 backdrop-blur-sm rounded-full px-4 py-2 text-sm font-medium text-gray-700 mb-6",children:"FAQ"}),a.jsx("h2",{className:"font-['Plus_Jakarta_Sans'] mb-2 text-[#0e1c29] text-[44px] not-italic font-normal h-[52.8px] tracking-[-0.44px] leading-[52.8px]",children:"Your IP-OPS Questions, Answered."}),a.jsx("p",{className:"font-inter text-base md:text-lg text-[#0e1c29]/80 max-w-2xl mx-auto mt-4",children:"Everything you need to know about IP-OPS, Story Protocol, and on-chain IP management."})]}),a.jsx("div",{className:"max-w-3xl mx-auto opacity-0","data-scroll-reveal":!0,style:{animationDelay:"0.4s"},children:a.jsx(LQ,{type:"single",collapsible:!0,className:"space-y-4",children:e.map((n,s)=>a.jsxs(GD,{value:`item-${s}`,className:"bg-white/80 backdrop-blur-sm rounded-2xl px-6 border-0",style:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"},children:[a.jsx(YD,{className:"font-jakarta text-lg font-semibold text-[#0e1c29] hover:no-underline py-6",children:n.question}),a.jsx(XD,{className:"font-inter text-base text-[#0e1c29]/80 leading-relaxed pb-6",children:n.answer})]},`faq-${s}`))})})]})})})},UQ=()=>{const t=v.useRef(null);v.useEffect(()=>{var r;const n=new IntersectionObserver(i=>{i.forEach(o=>{o.isIntersecting&&o.target.classList.add("animate-fade-in-up")})},{threshold:.1}),s=(r=t.current)==null?void 0:r.querySelectorAll("[data-scroll-reveal]");return s==null||s.forEach(i=>n.observe(i)),()=>n.disconnect()},[]);const e=[{name:"Alex 'BeatMaster' Reed",role:"Independent Musician",content:"IP-OPS with Story Protocol has been a game-changer for my music. Registering my tracks on-chain and seeing royalties flow directly has brought a level of transparency and control I never thought possible. No more opaque record deals!",rating:5},{name:"Maya 'PixelDreams' Singh",role:"Digital Artist & NFT Creator",content:"As a digital artist, protecting my work is crucial. IP-OPS's derivative tracking is incredible; it ensures that even remixes and adaptations of my art give proper attribution and royalties. Its truly empowering!",rating:5},{name:"Dr. Ben Carter",role:"Academic Author & Researcher",content:"The on-chain provenance provided by IP-OPS is invaluable for academic integrity. Registering my research papers secures my authorship and allows for clear licensing terms for collaborations and further studies. A revolutionary tool for creators.",rating:5}];return a.jsxs("section",{id:"reviews",ref:t,className:"py-24 relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 pointer-events-none opacity-25 transform translate-x-1/3 -translate-y-1/4",children:a.jsx("img",{src:ef,alt:"",className:"w-[450px] mix-blend-soft-light"})}),a.jsxs("div",{className:"max-w-[1200px] mx-auto px-6 relative z-10",children:[a.jsxs("div",{className:"text-center mb-16 opacity-0","data-scroll-reveal":!0,children:[a.jsx("h2",{className:"font-jakarta text-5xl md:text-[56px] font-italic text-foreground mb-4",children:"Creators Trust IP-OPS."}),a.jsx("p",{className:"font-inter text-lg text-foreground/80 max-w-2xl mx-auto",children:"Hear from artists, musicians, and innovators benefiting from transparent IP management."})]}),a.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:e.map((n,s)=>a.jsxs("div",{"data-scroll-reveal":!0,className:"bg-card rounded-2xl p-8 card-shadow opacity-0",style:{animationDelay:`${s*.1}s`},children:[a.jsx("div",{className:"flex gap-1 mb-4",children:Array.from({length:n.rating},(r,i)=>a.jsx(RO,{className:"w-5 h-5 fill-primary text-primary"},`star-${s}-${i}`))}),a.jsxs("p",{className:"font-inter text-base text-foreground/90 mb-6 leading-relaxed",children:['"',n.content,'"']}),a.jsxs("div",{className:"border-t border-border divider-dotted pt-4",children:[a.jsx("p",{className:"font-jakarta font-semibold text-foreground",children:n.name}),a.jsx("p",{className:"font-inter text-sm text-foreground/70",children:n.role})]})]},`review-${s}`))})]})]})},JE="/assets/Orion-C76Ip51K.png",VQ=()=>{const[t,e]=v.useState(!1);return v.useEffect(()=>{const n=()=>{const s=window.scrollY;e(s>100)};return window.addEventListener("scroll",n),()=>window.removeEventListener("scroll",n)},[]),a.jsxs("header",{className:"navbar-container",children:[a.jsxs("div",{className:`navbar-desktop ${t?"navbar-scrolled":""}`,children:[a.jsx("div",{className:"navbar-logo",children:a.jsx("div",{className:"logo-placeholder",children:a.jsx("div",{className:"logo-icon",children:a.jsx("img",{src:JE,alt:"Orion"})})})}),a.jsxs("nav",{className:"navbar-nav",children:[a.jsx("a",{href:"#features",className:"nav-link",children:"Features"}),a.jsx("a",{href:"#pricing",className:"nav-link",children:"Pricing"}),a.jsx("a",{href:"#changelog",className:"nav-link",children:"Changelog"}),a.jsx("a",{href:"#contact",className:"nav-link",children:"Contact"})]}),a.jsx("a",{href:"/dashboard",className:"cta-button",children:"Launch App"})]}),a.jsxs("div",{className:`navbar-mobile ${t?"navbar-scrolled":""}`,children:[a.jsx("div",{className:"navbar-logo",children:a.jsx("div",{className:"logo-placeholder",children:a.jsx("div",{className:"logo-icon",children:a.jsx("img",{src:JE,alt:"Orion"})})})}),a.jsxs("div",{className:"hamburger-menu",children:[a.jsx("div",{className:"hamburger-line"}),a.jsx("div",{className:"hamburger-line"}),a.jsx("div",{className:"hamburger-line"})]})]})]})},zQ=()=>{const t=v.useRef(null);return v.useEffect(()=>{var s;const e=new IntersectionObserver(r=>{r.forEach(i=>{i.isIntersecting&&i.target.classList.add("animate-fade-in-up")})},{threshold:.1}),n=(s=t.current)==null?void 0:s.querySelectorAll("[data-scroll-reveal]");return n==null||n.forEach(r=>e.observe(r)),()=>e.disconnect()},[]),a.jsx("section",{id:"insights",ref:t,className:"py-24 relative",children:a.jsx("div",{className:"max-w-[1200px] mx-auto px-6",children:a.jsxs("div",{className:"bg-[#d8dfe5] rounded-[20px] p-12 md:p-16 card-shadow relative opacity-0 overflow-hidden","data-scroll-reveal":!0,style:{boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",animationDelay:"0.2s"},children:[a.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-10",children:a.jsx("img",{src:ef,alt:"",className:"absolute top-1/2 right-0 transform -translate-y-1/2 translate-x-1/4 w-[600px] max-w-none mix-blend-soft-light"})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center relative z-10",children:[a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"inline-flex items-center gap-3 bg-white/80 backdrop-blur-sm rounded-full px-4 py-2 border border-[#d8dfe5]",children:[a.jsx("div",{className:"w-5 h-5 rounded-full bg-[#0e1c29] flex items-center justify-center",children:a.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 256 256",children:a.jsx("path",{d:"M64.12,147.8a4,4,0,0,1-4,4.2H16a8,8,0,0,1-7.8-6.17,8.35,8.35,0,0,1,1.62-6.93A67.79,67.79,0,0,1,37,117.51a40,40,0,1,1,66.46-35.8,3.94,3.94,0,0,1-2.27,4.18A64.08,64.08,0,0,0,64,144C64,145.28,64,146.54,64.12,147.8Zm182-8.91A67.76,67.76,0,0,0,219,117.51a40,40,0,1,0-66.46-35.8,3.94,3.94,0,0,0,2.27,4.18A64.08,64.08,0,0,1,192,144c0,1.28,0,2.54-.12,3.8a4,4,0,0,0,4,4.2H240a8,8,0,0,0,7.8-6.17A8.33,8.33,0,0,0,246.17,138.89Zm-89,43.18a48,48,0,1,0-58.37,0A72.13,72.13,0,0,0,65.07,212A8,8,0,0,0,72,224H184a8,8,0,0,0,6.93-12A72.15,72.15,0,0,0,157.19,182.07Z"})})}),a.jsx("span",{className:"text-sm font-medium text-[#0e1c29] opacity-80",children:"Trusted by creators worldwide"})]}),a.jsx("h2",{className:"font-antic text-[#0e1c29] text-[44px] md:text-[52px] not-italic font-normal tracking-[-0.44px] leading-[1.1]",children:"Ready to Protect and Monetize Your IP?"}),a.jsx("p",{className:"font-inter text-base md:text-lg text-[#0e1c29]/80 leading-relaxed max-w-lg",children:"Join the next generation of creators leveraging Story Protocol for transparent IP registration, automated royalties, and seamless derivative management."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsxs(Z,{size:"lg",className:"btn-gradient text-white rounded-[10px] font-inter font-medium px-8 py-6 text-sm opacity-0 inline-flex items-center gap-2","data-scroll-reveal":!0,style:{animationDelay:"0.4s",background:"linear-gradient(125deg, rgb(119, 75, 229) -4%, rgb(119, 75, 229) 100%)",boxShadow:"rgb(192, 176, 232) 0px 1px 2px 0px inset, rgba(99, 69, 173, 0.35) 0px 0.706592px 0.706592px -0.583333px, rgba(99, 69, 173, 0.34) 0px 1.80656px 1.80656px -1.16667px, rgba(99, 69, 173, 0.33) 0px 3.62176px 3.62176px -1.75px, rgba(99, 69, 173, 0.3) 0px 6.8656px 6.8656px -2.33333px, rgba(99, 69, 173, 0.26) 0px 13.6468px 13.6468px -2.91667px, rgba(99, 69, 173, 0.15) 0px 30px 30px -3.5px"},children:["Register Your IP",a.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 256 256",children:a.jsx("path",{d:"M221.66,133.66l-72,72A8,8,0,0,1,136,200V136H40a8,8,0,0,1,0-16h96V56a8,8,0,0,1,13.66-5.66l72,72A8,8,0,0,1,221.66,133.66Z"})})]}),a.jsxs(Z,{size:"lg",className:"text-white rounded-[10px] font-inter font-medium px-8 py-6 text-sm opacity-0 inline-flex items-center gap-2","data-scroll-reveal":!0,style:{animationDelay:"0.5s",background:"linear-gradient(127deg, rgb(14, 28, 41) -68%, rgb(50, 61, 104) 100%)",boxShadow:"rgb(184, 193, 230) 0px 1px 2px 0px inset, rgba(46, 64, 128, 0.35) 0px 0.706592px 0.706592px -0.583333px, rgba(46, 64, 128, 0.34) 0px 1.80656px 1.80656px -1.16667px, rgba(46, 64, 128, 0.33) 0px 3.62176px 3.62176px -1.75px, rgba(46, 64, 128, 0.3) 0px 6.8656px 6.8656px -2.33333px, rgba(46, 64, 128, 0.26) 0px 13.6468px 13.6468px -2.91667px, rgba(46, 64, 128, 0.15) 0px 30px 30px -3.5px"},children:["Explore the Marketplace",a.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 256 256",children:a.jsx("path",{d:"M140,180a12,12,0,1,1-12-12A12,12,0,0,1,140,180ZM128,72c-22.06,0-40,16.15-40,36v4a8,8,0,0,0,16,0v-4c0-11,10.77-20,24-20s24,9,24,20-10.77,20-24,20a8,8,0,0,0-8,8v8a8,8,0,0,0,16,0v-.72c18.24-3.35,32-17.9,32-35.28C168,88.15,150.06,72,128,72Zm104,56A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128Z"})})]})]})]}),a.jsx("div",{className:"flex justify-center lg:justify-end",children:a.jsx("div",{className:"relative w-full max-w-md opacity-0","data-scroll-reveal":!0,style:{animationDelay:"0.6s"},children:a.jsxs("div",{className:"bg-white rounded-[16px] p-6 shadow-lg border border-white/50",children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Total Registered IPs"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),a.jsx("span",{className:"text-xs text-green-600 font-medium",children:"Growing"})]})]}),a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"12,345"})]}),a.jsx("div",{className:"relative h-20 mb-4",children:a.jsx("div",{className:"absolute bottom-0 left-0 w-full flex items-end gap-1",children:[.3,.7,.4,.8,.6,.9,1,.5,.7,.4,.6,.8].map((e,n)=>a.jsx("div",{className:`flex-1 rounded-t ${n===6?"bg-purple-500":"bg-gray-200"}`,style:{height:`${e*100}%`}},`chart-bar-${n}`))})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Royalties Claimed"}),a.jsx("div",{className:"text-sm font-semibold text-gray-900",children:"$15,200"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Derivative Links"}),a.jsx("div",{className:"text-sm font-semibold text-green-600",children:"8,765"})]})]})]})})})]})]})})})},HQ=()=>a.jsx("footer",{className:"bg-black/[0.96] text-gray-300",children:a.jsxs("div",{className:"container py-12",children:[a.jsxs("div",{className:"grid gap-8 md:grid-cols-2 lg:grid-cols-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[a.jsx("div",{className:"bg-purple-500 text-white font-bold text-xl px-2 py-1 rounded",children:"IP-OPS"}),a.jsx("span",{className:"font-semibold text-xl text-white"})]}),a.jsx("p",{className:"text-sm mb-4",children:"The next-generation platform for on-chain intellectual property, empowering creators with transparent registration, automated royalties, and derivative tracking."}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("a",{href:"https://x.com/TheOpenAssets",className:"text-gray-400 hover:text-white",children:a.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:a.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})}),a.jsx("a",{href:"https://discord.gg/hKp6RTSp59",className:"text-gray-400 hover:text-white",children:a.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:a.jsx("path",{d:"M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.0371 19.7363 19.7363 0 00-4.8852 1.5152.0699.0699 0 00-.0321.0277C2.263 9.0458 1.6663 13.5799 2.0344 18.057c.0016.0162.0116.0315.0247.0416 2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.8732.8914.0766.0766 0 00-.0406.1066c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.9616-.6067 3.9491-1.5219 6.002-3.0294a.077.077 0 00.0247-.0416c.5004-5.177-.8382-9.6732-3.5485-13.6594a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9558-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0957 2.1568 2.4189 0 1.3333-.9558 2.419-2.1569 2.419zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9558-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0957 2.1568 2.4189 0 1.3333-.946 2.419-2.1568 2.419z"})})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-white mb-4",children:"Quick Links"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsx("a",{href:"/about",className:"hover:text-white transition-colors",children:"About IP-OPS"})}),a.jsx("li",{children:a.jsx("a",{href:"/marketplace",className:"hover:text-white transition-colors",children:"IP Marketplace"})}),a.jsx("li",{children:a.jsx("a",{href:"/support",className:"hover:text-white transition-colors",children:"Support"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-white mb-4",children:"IP Categories"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Digital Art"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Music"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Written Works"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Videos"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Software"})})]})]})]}),a.jsxs("div",{className:"border-t border-gray-800 mt-12 pt-8 flex flex-col md:flex-row justify-between",children:[a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsx("p",{className:"text-sm",children:" 2025 IP-OPS. All rights reserved."}),a.jsxs("p",{className:"text-sm text-gray-400",children:["Powered by"," ",a.jsx("a",{href:"https://www.storyprotocol.xyz/",target:"_blank",rel:"noopener noreferrer",className:"bg-purple-500 text-white font-bold text-sm px-2 py-1 rounded",children:"Story Protocol"})]})]}),a.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[a.jsx("a",{href:"#",className:"text-sm hover:text-white transition-colors",children:"Privacy Policy"}),a.jsx("a",{href:"#",className:"text-sm hover:text-white transition-colors",children:"Terms of Service"}),a.jsx("a",{href:"#",className:"text-sm hover:text-white transition-colors",children:"Legal"})]})]})]})}),WQ=()=>a.jsxs("div",{className:"min-h-screen",children:[a.jsx(VQ,{}),a.jsxs("main",{children:[a.jsx(pQ,{}),a.jsx(xQ,{}),a.jsx(yQ,{}),a.jsx(vQ,{}),a.jsx(BQ,{}),a.jsx(UQ,{}),a.jsx(zQ,{})]}),a.jsx(HQ,{})]}),KQ=()=>{const t=to();return v.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),a.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),a.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},DS=v.createContext({});function $S(t){const e=v.useRef(null);return e.current===null&&(e.current=t()),e.current}const FS=typeof window<"u",QD=FS?v.useLayoutEffect:v.useEffect,Gv=v.createContext(null);function LS(t,e){t.indexOf(e)===-1&&t.push(e)}function BS(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Uo=(t,e,n)=>n>e?e:n<t?t:n;let Ay=()=>{};const Vo={},JD=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function ZD(t){return typeof t=="object"&&t!==null}const e$=t=>/^0[^.\s]+$/u.test(t);function US(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ni=t=>t,qQ=(t,e)=>n=>e(t(n)),yg=(...t)=>t.reduce(qQ),op=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};let VS=class{constructor(){this.subscriptions=[]}add(e){return LS(this.subscriptions,e),()=>BS(this.subscriptions,e)}notify(e,n,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,s);else for(let i=0;i<r;i++){const o=this.subscriptions[i];o&&o(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}};const $a=t=>t*1e3,Fa=t=>t/1e3;function t$(t,e){return e?t*(1e3/e):0}const n$=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,GQ=1e-7,YQ=12;function XQ(t,e,n,s,r){let i,o,l=0;do o=e+(n-e)/2,i=n$(o,s,r)-t,i>0?n=o:e=o;while(Math.abs(i)>GQ&&++l<YQ);return o}function vg(t,e,n,s){if(t===e&&n===s)return Ni;const r=i=>XQ(i,0,1,t,n);return i=>i===0||i===1?i:n$(r(i),e,s)}const s$=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,r$=t=>e=>1-t(1-e),i$=vg(.33,1.53,.69,.99),zS=r$(i$),a$=s$(zS),o$=t=>(t*=2)<1?.5*zS(t):.5*(2-Math.pow(2,-10*(t-1))),HS=t=>1-Math.sin(Math.acos(t)),l$=r$(HS),c$=s$(HS),QQ=vg(.42,0,1,1),JQ=vg(0,0,.58,1),d$=vg(.42,0,.58,1),ZQ=t=>Array.isArray(t)&&typeof t[0]!="number",u$=t=>Array.isArray(t)&&typeof t[0]=="number",ZE={linear:Ni,easeIn:QQ,easeInOut:d$,easeOut:JQ,circIn:HS,circInOut:c$,circOut:l$,backIn:zS,backInOut:a$,backOut:i$,anticipate:o$},eJ=t=>typeof t=="string",eI=t=>{if(u$(t)){Ay(t.length===4);const[e,n,s,r]=t;return vg(e,n,s,r)}else if(eJ(t))return Ay(ZE[t]!==void 0),ZE[t];return t},l0=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],tI={value:null,addProjectionMetrics:null};function tJ(t,e){let n=new Set,s=new Set,r=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function d(h){o.has(h)&&(u.schedule(h),t()),c++,h(l)}const u={schedule:(h,f=!1,m=!1)=>{const p=m&&r?n:s;return f&&o.add(h),p.has(h)||p.add(h),h},cancel:h=>{s.delete(h),o.delete(h)},process:h=>{if(l=h,r){i=!0;return}r=!0,[n,s]=[s,n],n.forEach(d),e&&tI.value&&tI.value.frameloop[e].push(c),c=0,n.clear(),r=!1,i&&(i=!1,u.process(h))}};return u}const nJ=40;function h$(t,e){let n=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=l0.reduce((N,A)=>(N[A]=tJ(i,e?A:void 0),N),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:u,update:h,preRender:f,render:m,postRender:g}=o,p=()=>{const N=Vo.useManualTiming?r.timestamp:performance.now();n=!1,Vo.useManualTiming||(r.delta=s?1e3/60:Math.max(Math.min(N-r.timestamp,nJ),1)),r.timestamp=N,r.isProcessing=!0,l.process(r),c.process(r),d.process(r),u.process(r),h.process(r),f.process(r),m.process(r),g.process(r),r.isProcessing=!1,n&&e&&(s=!1,t(p))},w=()=>{n=!0,s=!0,r.isProcessing||t(p)};return{schedule:l0.reduce((N,A)=>{const S=o[A];return N[A]=(T,_=!1,R=!1)=>(n||w(),S.schedule(T,_,R)),N},{}),cancel:N=>{for(let A=0;A<l0.length;A++)o[l0[A]].cancel(N)},state:r,steps:o}}const{schedule:_n,cancel:dc,state:Ss,steps:ww}=h$(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ni,!0);let fx;function sJ(){fx=void 0}const Cr={now:()=>(fx===void 0&&Cr.set(Ss.isProcessing||Vo.useManualTiming?Ss.timestamp:performance.now()),fx),set:t=>{fx=t,queueMicrotask(sJ)}},f$=t=>e=>typeof e=="string"&&e.startsWith(t),WS=f$("--"),rJ=f$("var(--"),KS=t=>rJ(t)?iJ.test(t.split("/*")[0].trim()):!1,iJ=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,tf={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},lp={...tf,transform:t=>Uo(0,1,t)},c0={...tf,default:1},xm=t=>Math.round(t*1e5)/1e5,qS=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function aJ(t){return t==null}const oJ=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,GS=(t,e)=>n=>!!(typeof n=="string"&&oJ.test(n)&&n.startsWith(t)||e&&!aJ(n)&&Object.prototype.hasOwnProperty.call(n,e)),m$=(t,e,n)=>s=>{if(typeof s!="string")return s;const[r,i,o,l]=s.match(qS);return{[t]:parseFloat(r),[e]:parseFloat(i),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},lJ=t=>Uo(0,255,t),Nw={...tf,transform:t=>Math.round(lJ(t))},Yc={test:GS("rgb","red"),parse:m$("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Nw.transform(t)+", "+Nw.transform(e)+", "+Nw.transform(n)+", "+xm(lp.transform(s))+")"};function cJ(t){let e="",n="",s="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,s+=s,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const dN={test:GS("#"),parse:cJ,transform:Yc.transform},bg=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),cl=bg("deg"),La=bg("%"),bt=bg("px"),dJ=bg("vh"),uJ=bg("vw"),nI={...La,parse:t=>La.parse(t)/100,transform:t=>La.transform(t*100)},ju={test:GS("hsl","hue"),parse:m$("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+La.transform(xm(e))+", "+La.transform(xm(n))+", "+xm(lp.transform(s))+")"},Ds={test:t=>Yc.test(t)||dN.test(t)||ju.test(t),parse:t=>Yc.test(t)?Yc.parse(t):ju.test(t)?ju.parse(t):dN.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Yc.transform(t):ju.transform(t)},hJ=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function fJ(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(qS))==null?void 0:e.length)||0)+(((n=t.match(hJ))==null?void 0:n.length)||0)>0}const p$="number",g$="color",mJ="var",pJ="var(",sI="${}",gJ=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function cp(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},r=[];let i=0;const l=e.replace(gJ,c=>(Ds.test(c)?(s.color.push(i),r.push(g$),n.push(Ds.parse(c))):c.startsWith(pJ)?(s.var.push(i),r.push(mJ),n.push(c)):(s.number.push(i),r.push(p$),n.push(parseFloat(c))),++i,sI)).split(sI);return{values:n,split:l,indexes:s,types:r}}function x$(t){return cp(t).values}function y$(t){const{split:e,types:n}=cp(t),s=e.length;return r=>{let i="";for(let o=0;o<s;o++)if(i+=e[o],r[o]!==void 0){const l=n[o];l===p$?i+=xm(r[o]):l===g$?i+=Ds.transform(r[o]):i+=r[o]}return i}}const xJ=t=>typeof t=="number"?0:t;function yJ(t){const e=x$(t);return y$(t)(e.map(xJ))}const uc={test:fJ,parse:x$,createTransformer:y$,getAnimatableNone:yJ};function kw(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function vJ({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let r=0,i=0,o=0;if(!e)r=i=o=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;r=kw(c,l,t+1/3),i=kw(c,l,t),o=kw(c,l,t-1/3)}return{red:Math.round(r*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:s}}function Ty(t,e){return n=>n>0?e:t}const En=(t,e,n)=>t+(e-t)*n,jw=(t,e,n)=>{const s=t*t,r=n*(e*e-s)+s;return r<0?0:Math.sqrt(r)},bJ=[dN,Yc,ju],wJ=t=>bJ.find(e=>e.test(t));function rI(t){const e=wJ(t);if(!e)return!1;let n=e.parse(t);return e===ju&&(n=vJ(n)),n}const iI=(t,e)=>{const n=rI(t),s=rI(e);if(!n||!s)return Ty(t,e);const r={...n};return i=>(r.red=jw(n.red,s.red,i),r.green=jw(n.green,s.green,i),r.blue=jw(n.blue,s.blue,i),r.alpha=En(n.alpha,s.alpha,i),Yc.transform(r))},uN=new Set(["none","hidden"]);function NJ(t,e){return uN.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function kJ(t,e){return n=>En(t,e,n)}function YS(t){return typeof t=="number"?kJ:typeof t=="string"?KS(t)?Ty:Ds.test(t)?iI:AJ:Array.isArray(t)?v$:typeof t=="object"?Ds.test(t)?iI:jJ:Ty}function v$(t,e){const n=[...t],s=n.length,r=t.map((i,o)=>YS(i)(i,e[o]));return i=>{for(let o=0;o<s;o++)n[o]=r[o](i);return n}}function jJ(t,e){const n={...t,...e},s={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(s[r]=YS(t[r])(t[r],e[r]));return r=>{for(const i in s)n[i]=s[i](r);return n}}function SJ(t,e){const n=[],s={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const i=e.types[r],o=t.indexes[i][s[i]],l=t.values[o]??0;n[r]=l,s[i]++}return n}const AJ=(t,e)=>{const n=uc.createTransformer(e),s=cp(t),r=cp(e);return s.indexes.var.length===r.indexes.var.length&&s.indexes.color.length===r.indexes.color.length&&s.indexes.number.length>=r.indexes.number.length?uN.has(t)&&!r.values.length||uN.has(e)&&!s.values.length?NJ(t,e):yg(v$(SJ(s,r),r.values),n):Ty(t,e)};function b$(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?En(t,e,n):YS(t)(t,e)}const TJ=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>_n.update(e,n),stop:()=>dc(e),now:()=>Ss.isProcessing?Ss.timestamp:Cr.now()}},w$=(t,e,n=10)=>{let s="";const r=Math.max(Math.round(e/n),2);for(let i=0;i<r;i++)s+=t(i/(r-1))+", ";return`linear(${s.substring(0,s.length-2)})`},Cy=2e4;function XS(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<Cy;)e+=n,s=t.next(e);return e>=Cy?1/0:e}function CJ(t,e=100,n){const s=n({...t,keyframes:[0,e]}),r=Math.min(XS(s),Cy);return{type:"keyframes",ease:i=>s.next(r*i).value/e,duration:Fa(r)}}const EJ=5;function N$(t,e,n){const s=Math.max(e-EJ,0);return t$(n-t(s),e-s)}const Fn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Sw=.001;function IJ({duration:t=Fn.duration,bounce:e=Fn.bounce,velocity:n=Fn.velocity,mass:s=Fn.mass}){let r,i,o=1-e;o=Uo(Fn.minDamping,Fn.maxDamping,o),t=Uo(Fn.minDuration,Fn.maxDuration,Fa(t)),o<1?(r=d=>{const u=d*o,h=u*t,f=u-n,m=hN(d,o),g=Math.exp(-h);return Sw-f/m*g},i=d=>{const h=d*o*t,f=h*n+n,m=Math.pow(o,2)*Math.pow(d,2)*t,g=Math.exp(-h),p=hN(Math.pow(d,2),o);return(-r(d)+Sw>0?-1:1)*((f-m)*g)/p}):(r=d=>{const u=Math.exp(-d*t),h=(d-n)*t+1;return-Sw+u*h},i=d=>{const u=Math.exp(-d*t),h=(n-d)*(t*t);return u*h});const l=5/t,c=_J(r,i,l);if(t=$a(t),isNaN(c))return{stiffness:Fn.stiffness,damping:Fn.damping,duration:t};{const d=Math.pow(c,2)*s;return{stiffness:d,damping:o*2*Math.sqrt(s*d),duration:t}}}const PJ=12;function _J(t,e,n){let s=n;for(let r=1;r<PJ;r++)s=s-t(s)/e(s);return s}function hN(t,e){return t*Math.sqrt(1-e*e)}const RJ=["duration","bounce"],MJ=["stiffness","damping","mass"];function aI(t,e){return e.some(n=>t[n]!==void 0)}function OJ(t){let e={velocity:Fn.velocity,stiffness:Fn.stiffness,damping:Fn.damping,mass:Fn.mass,isResolvedFromDuration:!1,...t};if(!aI(t,MJ)&&aI(t,RJ))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),r=s*s,i=2*Uo(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:Fn.mass,stiffness:r,damping:i}}else{const n=IJ(t);e={...e,...n,mass:Fn.mass},e.isResolvedFromDuration=!0}return e}function Ey(t=Fn.visualDuration,e=Fn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:r}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:d,mass:u,duration:h,velocity:f,isResolvedFromDuration:m}=OJ({...n,velocity:-Fa(n.velocity||0)}),g=f||0,p=d/(2*Math.sqrt(c*u)),w=o-i,b=Fa(Math.sqrt(c/u)),y=Math.abs(w)<5;s||(s=y?Fn.restSpeed.granular:Fn.restSpeed.default),r||(r=y?Fn.restDelta.granular:Fn.restDelta.default);let N;if(p<1){const S=hN(b,p);N=T=>{const _=Math.exp(-p*b*T);return o-_*((g+p*b*w)/S*Math.sin(S*T)+w*Math.cos(S*T))}}else if(p===1)N=S=>o-Math.exp(-b*S)*(w+(g+b*w)*S);else{const S=b*Math.sqrt(p*p-1);N=T=>{const _=Math.exp(-p*b*T),R=Math.min(S*T,300);return o-_*((g+p*b*w)*Math.sinh(R)+S*w*Math.cosh(R))/S}}const A={calculatedDuration:m&&h||null,next:S=>{const T=N(S);if(m)l.done=S>=h;else{let _=S===0?g:0;p<1&&(_=S===0?$a(g):N$(N,S,T));const R=Math.abs(_)<=s,B=Math.abs(o-T)<=r;l.done=R&&B}return l.value=l.done?o:T,l},toString:()=>{const S=Math.min(XS(A),Cy),T=w$(_=>A.next(S*_).value,S,30);return S+"ms "+T},toTransition:()=>{}};return A}Ey.applyToOptions=t=>{const e=CJ(t,100,Ey);return t.ease=e.ease,t.duration=$a(e.duration),t.type="keyframes",t};function fN({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const h=t[0],f={done:!1,value:h},m=R=>l!==void 0&&R<l||c!==void 0&&R>c,g=R=>l===void 0?c:c===void 0||Math.abs(l-R)<Math.abs(c-R)?l:c;let p=n*e;const w=h+p,b=o===void 0?w:o(w);b!==w&&(p=b-h);const y=R=>-p*Math.exp(-R/s),N=R=>b+y(R),A=R=>{const B=y(R),V=N(R);f.done=Math.abs(B)<=d,f.value=f.done?b:V};let S,T;const _=R=>{m(f.value)&&(S=R,T=Ey({keyframes:[f.value,g(f.value)],velocity:N$(N,R,f.value),damping:r,stiffness:i,restDelta:d,restSpeed:u}))};return _(0),{calculatedDuration:null,next:R=>{let B=!1;return!T&&S===void 0&&(B=!0,A(R),_(R)),S!==void 0&&R>=S?T.next(R-S):(!B&&A(R),f)}}}function DJ(t,e,n){const s=[],r=n||Vo.mix||b$,i=t.length-1;for(let o=0;o<i;o++){let l=r(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||Ni:e;l=yg(c,l)}s.push(l)}return s}function $J(t,e,{clamp:n=!0,ease:s,mixer:r}={}){const i=t.length;if(Ay(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=DJ(e,s,r),c=l.length,d=u=>{if(o&&u<t[0])return e[0];let h=0;if(c>1)for(;h<t.length-2&&!(u<t[h+1]);h++);const f=op(t[h],t[h+1],u);return l[h](f)};return n?u=>d(Uo(t[0],t[i-1],u)):d}function FJ(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const r=op(0,e,s);t.push(En(n,1,r))}}function LJ(t){const e=[0];return FJ(e,t.length-1),e}function BJ(t,e){return t.map(n=>n*e)}function UJ(t,e){return t.map(()=>e||d$).splice(0,t.length-1)}function ym({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const r=ZQ(s)?s.map(eI):eI(s),i={done:!1,value:e[0]},o=BJ(n&&n.length===e.length?n:LJ(e),t),l=$J(o,e,{ease:Array.isArray(r)?r:UJ(e,r)});return{calculatedDuration:t,next:c=>(i.value=l(c),i.done=c>=t,i)}}const VJ=t=>t!==null;function QS(t,{repeat:e,repeatType:n="loop"},s,r=1){const i=t.filter(VJ),l=r<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!l||s===void 0?i[l]:s}const zJ={decay:fN,inertia:fN,tween:ym,keyframes:ym,spring:Ey};function k$(t){typeof t.type=="string"&&(t.type=zJ[t.type])}let JS=class{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}};const HJ=t=>t/100;let ZS=class extends JS{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(n=!0)=>{var s,r;if(n){const{motionValue:i}=this.options;i&&i.updatedAt!==Cr.now()&&this.tick(Cr.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(s=this.options).onStop)==null||r.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;k$(e);const{type:n=ym,repeat:s=0,repeatDelay:r=0,repeatType:i,velocity:o=0}=e;let{keyframes:l}=e;const c=n||ym;c!==ym&&typeof l[0]!="number"&&(this.mixKeyframes=yg(HJ,b$(l[0],l[1])),l=[0,100]);const d=c({...e,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=XS(d));const{calculatedDuration:u}=d;this.calculatedDuration=u,this.resolvedDuration=u+r,this.totalDuration=this.resolvedDuration*(s+1)-r,this.generator=d}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:r,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return s.next(0);const{delay:d=0,keyframes:u,repeat:h,repeatType:f,repeatDelay:m,type:g,onUpdate:p,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const b=this.currentTime-d*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?b<0:b>r;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let N=this.currentTime,A=s;if(h){const R=Math.min(this.currentTime,r)/l;let B=Math.floor(R),V=R%1;!V&&R>=1&&(V=1),V===1&&B--,B=Math.min(B,h+1),!!(B%2)&&(f==="reverse"?(V=1-V,m&&(V-=m/l)):f==="mirror"&&(A=o)),N=Uo(0,1,V)*l}const S=y?{done:!1,value:u[0]}:A.next(N);i&&(S.value=i(S.value));let{done:T}=S;!y&&c!==null&&(T=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const _=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return _&&g!==fN&&(S.value=QS(u,this.options,w,this.speed)),p&&p(S.value),_&&this.finish(),S}then(e,n){return this.finished.then(e,n)}get duration(){return Fa(this.calculatedDuration)}get time(){return Fa(this.currentTime)}set time(e){var n;e=$a(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Cr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Fa(this.currentTime))}play(){var r,i;if(this.isStopped)return;const{driver:e=TJ,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(r=this.options).onPlay)==null||i.call(r);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Cr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}};function WJ(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Xc=t=>t*180/Math.PI,mN=t=>{const e=Xc(Math.atan2(t[1],t[0]));return pN(e)},KJ={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:mN,rotateZ:mN,skewX:t=>Xc(Math.atan(t[1])),skewY:t=>Xc(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},pN=t=>(t=t%360,t<0&&(t+=360),t),oI=mN,lI=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),cI=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),qJ={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:lI,scaleY:cI,scale:t=>(lI(t)+cI(t))/2,rotateX:t=>pN(Xc(Math.atan2(t[6],t[5]))),rotateY:t=>pN(Xc(Math.atan2(-t[2],t[0]))),rotateZ:oI,rotate:oI,skewX:t=>Xc(Math.atan(t[4])),skewY:t=>Xc(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function gN(t){return t.includes("scale")?1:0}function xN(t,e){if(!t||t==="none")return gN(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,r;if(n)s=qJ,r=n;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=KJ,r=l}if(!r)return gN(e);const i=s[e],o=r[1].split(",").map(YJ);return typeof i=="function"?i(o):o[i]}const GJ=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return xN(n,e)};function YJ(t){return parseFloat(t.trim())}const nf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],sf=new Set(nf),dI=t=>t===tf||t===bt,XJ=new Set(["x","y","z"]),QJ=nf.filter(t=>!XJ.has(t));function JJ(t){const e=[];return QJ.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const pd={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>xN(e,"x"),y:(t,{transform:e})=>xN(e,"y")};pd.translateX=pd.x;pd.translateY=pd.y;const gd=new Set;let yN=!1,vN=!1,bN=!1;function j$(){if(vN){const t=Array.from(gd).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const r=JJ(s);r.length&&(n.set(s,r),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const r=n.get(s);r&&r.forEach(([i,o])=>{var l;(l=s.getValue(i))==null||l.set(o)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}vN=!1,yN=!1,gd.forEach(t=>t.complete(bN)),gd.clear()}function S$(){gd.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(vN=!0)})}function ZJ(){bN=!0,S$(),j$(),bN=!1}let eA=class{constructor(e,n,s,r,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=r,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(gd.add(this),yN||(yN=!0,_n.read(S$),_n.resolveKeyframes(j$))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:r}=this;if(e[0]===null){const i=r==null?void 0:r.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(s&&n){const l=s.readValue(n,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),r&&i===void 0&&r.set(e[0])}WJ(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),gd.delete(this)}cancel(){this.state==="scheduled"&&(gd.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}};const eZ=t=>t.startsWith("--");function tZ(t,e,n){eZ(e)?t.style.setProperty(e,n):t.style[e]=n}const nZ=US(()=>window.ScrollTimeline!==void 0),sZ={};function rZ(t,e){const n=US(t);return()=>sZ[e]??n()}const A$=rZ(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Jf=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,uI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Jf([0,.65,.55,1]),circOut:Jf([.55,0,1,.45]),backIn:Jf([.31,.01,.66,-.59]),backOut:Jf([.33,1.53,.69,.99])};function T$(t,e){if(t)return typeof t=="function"?A$()?w$(t,e):"ease-out":u$(t)?Jf(t):Array.isArray(t)?t.map(n=>T$(n,e)||uI.easeOut):uI[t]}function iZ(t,e,n,{delay:s=0,duration:r=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const u={[e]:n};c&&(u.offset=c);const h=T$(l,r);Array.isArray(h)&&(u.easing=h);const f={delay:s,duration:r,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return d&&(f.pseudoElement=d),t.animate(u,f)}function C$(t){return typeof t=="function"&&"applyToOptions"in t}function aZ({type:t,...e}){return C$(t)&&A$()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}let oZ=class extends JS{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:r,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,Ay(typeof e.type!="string");const d=aZ(e);this.animation=iZ(n,s,r,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=QS(r,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(u):tZ(n,s,u),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,s;const e=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return Fa(Number(e))}get time(){return Fa(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=$a(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&nZ()?(this.animation.timeline=e,Ni):n(this)}};const E$={anticipate:o$,backInOut:a$,circInOut:c$};function lZ(t){return t in E$}function cZ(t){typeof t.ease=="string"&&lZ(t.ease)&&(t.ease=E$[t.ease])}const hI=10;let dZ=class extends oZ{constructor(e){cZ(e),k$(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:r,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const l=new ZS({...o,autoplay:!1}),c=$a(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-hI).value,l.sample(c).value,hI),l.stop()}};const fI=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(uc.test(t)||t==="0")&&!t.startsWith("url("));function uZ(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function hZ(t,e,n,s){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=fI(r,e),l=fI(i,e);return!o||!l?!1:uZ(t)||(n==="spring"||C$(n))&&s}function tA(t){return ZD(t)&&"offsetHeight"in t}const fZ=new Set(["opacity","clipPath","filter","transform"]),mZ=US(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function pZ(t){var d;const{motionValue:e,name:n,repeatDelay:s,repeatType:r,damping:i,type:o}=t;if(!tA((d=e==null?void 0:e.owner)==null?void 0:d.current))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return mZ()&&n&&fZ.has(n)&&(n!=="transform"||!c)&&!l&&!s&&r!=="mirror"&&i!==0&&o!=="inertia"}const gZ=40;let xZ=class extends JS{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:u,...h}){var g;super(),this.stop=()=>{var p,w;this._animation&&(this._animation.stop(),(p=this.stopTimeline)==null||p.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=Cr.now();const f={autoplay:e,delay:n,type:s,repeat:r,repeatDelay:i,repeatType:o,name:c,motionValue:d,element:u,...h},m=(u==null?void 0:u.KeyframeResolver)||eA;this.keyframeResolver=new m(l,(p,w,b)=>this.onKeyframesResolved(p,w,f,!b),c,d,u),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(e,n,s,r){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:u}=s;this.resolvedAt=Cr.now(),hZ(e,i,o,l)||((Vo.instantAnimations||!c)&&(u==null||u(QS(e,s,n))),e[0]=e[e.length-1],s.duration=0,s.repeat=0);const f={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>gZ?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},m=!d&&pZ(f)?new dZ({...f,element:f.motionValue.owner.current}):new ZS(f);m.finished.then(()=>this.notifyFinished()).catch(Ni),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),ZJ()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}};const yZ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function vZ(t){const e=yZ.exec(t);if(!e)return[,];const[,n,s,r]=e;return[`--${n??s}`,r]}function I$(t,e,n=1){const[s,r]=vZ(t);if(!s)return;const i=window.getComputedStyle(e).getPropertyValue(s);if(i){const o=i.trim();return JD(o)?parseFloat(o):o}return KS(r)?I$(r,e,n+1):r}function nA(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const P$=new Set(["width","height","top","left","right","bottom",...nf]),bZ={test:t=>t==="auto",parse:t=>t},_$=t=>e=>e.test(t),R$=[tf,bt,La,cl,uJ,dJ,bZ],mI=t=>R$.find(_$(t));function wZ(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||e$(t):!0}const NZ=new Set(["brightness","contrast","saturate","opacity"]);function kZ(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(qS)||[];if(!s)return t;const r=n.replace(s,"");let i=NZ.has(e)?1:0;return s!==n&&(i*=100),e+"("+i+r+")"}const jZ=/\b([a-z-]*)\(.*?\)/gu,wN={...uc,getAnimatableNone:t=>{const e=t.match(jZ);return e?e.map(kZ).join(" "):t}},pI={...tf,transform:Math.round},SZ={rotate:cl,rotateX:cl,rotateY:cl,rotateZ:cl,scale:c0,scaleX:c0,scaleY:c0,scaleZ:c0,skew:cl,skewX:cl,skewY:cl,distance:bt,translateX:bt,translateY:bt,translateZ:bt,x:bt,y:bt,z:bt,perspective:bt,transformPerspective:bt,opacity:lp,originX:nI,originY:nI,originZ:bt},sA={borderWidth:bt,borderTopWidth:bt,borderRightWidth:bt,borderBottomWidth:bt,borderLeftWidth:bt,borderRadius:bt,radius:bt,borderTopLeftRadius:bt,borderTopRightRadius:bt,borderBottomRightRadius:bt,borderBottomLeftRadius:bt,width:bt,maxWidth:bt,height:bt,maxHeight:bt,top:bt,right:bt,bottom:bt,left:bt,padding:bt,paddingTop:bt,paddingRight:bt,paddingBottom:bt,paddingLeft:bt,margin:bt,marginTop:bt,marginRight:bt,marginBottom:bt,marginLeft:bt,backgroundPositionX:bt,backgroundPositionY:bt,...SZ,zIndex:pI,fillOpacity:lp,strokeOpacity:lp,numOctaves:pI},AZ={...sA,color:Ds,backgroundColor:Ds,outlineColor:Ds,fill:Ds,stroke:Ds,borderColor:Ds,borderTopColor:Ds,borderRightColor:Ds,borderBottomColor:Ds,borderLeftColor:Ds,filter:wN,WebkitFilter:wN},M$=t=>AZ[t];function O$(t,e){let n=M$(t);return n!==wN&&(n=uc),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const TZ=new Set(["auto","none","0"]);function CZ(t,e,n){let s=0,r;for(;s<t.length&&!r;){const i=t[s];typeof i=="string"&&!TZ.has(i)&&cp(i).values.length&&(r=t[s]),s++}if(r&&n)for(const i of e)t[i]=O$(n,r)}let EZ=class extends eA{constructor(e,n,s,r,i){super(e,n,s,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),KS(d))){const u=I$(d,n.current);u!==void 0&&(e[c]=u),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!P$.has(s)||e.length!==2)return;const[r,i]=e,o=mI(r),l=mI(i);if(o!==l)if(dI(o)&&dI(l))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else pd[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let r=0;r<e.length;r++)(e[r]===null||wZ(e[r]))&&s.push(r);s.length&&CZ(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=pd[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(s,r).jump(r,!1)}measureEndState(){var l;const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const r=e.getValue(n);r&&r.jump(this.measuredOrigin,!1);const i=s.length-1,o=s[i];s[i]=pd[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}};function IZ(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const r=document.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t)}const gI=30,PZ=t=>!isNaN(parseFloat(t));let _Z=class{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,r=!0)=>{var o,l;const i=Cr.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty();r&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Cr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=PZ(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new VS);const s=this.events[e].add(n);return e==="change"?()=>{s(),_n.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Cr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>gI)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,gI);return t$(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}};function Eh(t,e){return new _Z(t,e)}const D$=(t,e)=>e&&typeof t=="number"?e.transform(t):t,{schedule:rA,cancel:Bke}=h$(queueMicrotask,!1),$i={x:!1,y:!1};function $$(){return $i.x||$i.y}function RZ(t){return t==="x"||t==="y"?$i[t]?null:($i[t]=!0,()=>{$i[t]=!1}):$i.x||$i.y?null:($i.x=$i.y=!0,()=>{$i.x=$i.y=!1})}function F$(t,e){const n=IZ(t),s=new AbortController,r={passive:!0,...e,signal:s.signal};return[n,r,()=>s.abort()]}function xI(t){return!(t.pointerType==="touch"||$$())}function MZ(t,e,n={}){const[s,r,i]=F$(t,n),o=l=>{if(!xI(l))return;const{target:c}=l,d=e(c,l);if(typeof d!="function"||!c)return;const u=h=>{xI(h)&&(d(h),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,r)};return s.forEach(l=>{l.addEventListener("pointerenter",o,r)}),i}const L$=(t,e)=>e?t===e?!0:L$(t,e.parentElement):!1,iA=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,OZ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function DZ(t){return OZ.has(t.tagName)||t.tabIndex!==-1}const mx=new WeakSet;function yI(t){return e=>{e.key==="Enter"&&t(e)}}function Aw(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const $Z=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=yI(()=>{if(mx.has(n))return;Aw(n,"down");const r=yI(()=>{Aw(n,"up")}),i=()=>Aw(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function vI(t){return iA(t)&&!$$()}function FZ(t,e,n={}){const[s,r,i]=F$(t,n),o=l=>{const c=l.currentTarget;if(!vI(l))return;mx.add(c);const d=e(c,l),u=(m,g)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),mx.has(c)&&mx.delete(c),vI(m)&&typeof d=="function"&&d(m,{success:g})},h=m=>{u(m,c===window||c===document||n.useGlobalTarget||L$(c,m.target))},f=m=>{u(m,!1)};window.addEventListener("pointerup",h,r),window.addEventListener("pointercancel",f,r)};return s.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,r),tA(l)&&(l.addEventListener("focus",d=>$Z(d,r)),!DZ(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function B$(t){return ZD(t)&&"ownerSVGElement"in t}function LZ(t){return B$(t)&&t.tagName==="svg"}const Ks=t=>!!(t&&t.getVelocity),BZ=[...R$,Ds,uc],UZ=t=>BZ.find(_$(t)),aA=v.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});let VZ=class extends v.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,r=tA(s)&&s.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=r-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}};function zZ({children:t,isPresent:e,anchorX:n}){const s=v.useId(),r=v.useRef(null),i=v.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=v.useContext(aA);return v.useInsertionEffect(()=>{const{width:l,height:c,top:d,left:u,right:h}=i.current;if(e||!r.current||!l||!c)return;const f=n==="left"?`left: ${u}`:`right: ${h}`;r.current.dataset.motionPopId=s;const m=document.createElement("style");return o&&(m.nonce=o),document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${f}px !important;
            top: ${d}px !important;
          }
        `),()=>{document.head.contains(m)&&document.head.removeChild(m)}},[e]),a.jsx(VZ,{isPresent:e,childRef:r,sizeRef:i,children:v.cloneElement(t,{ref:r})})}const HZ=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:r,presenceAffectsLayout:i,mode:o,anchorX:l})=>{const c=$S(WZ),d=v.useId();let u=!0,h=v.useMemo(()=>(u=!1,{id:d,initial:e,isPresent:n,custom:r,onExitComplete:f=>{c.set(f,!0);for(const m of c.values())if(!m)return;s&&s()},register:f=>(c.set(f,!1),()=>c.delete(f))}),[n,c,s]);return i&&u&&(h={...h}),v.useMemo(()=>{c.forEach((f,m)=>c.set(m,!1))},[n]),v.useEffect(()=>{!n&&!c.size&&s&&s()},[n]),o==="popLayout"&&(t=a.jsx(zZ,{isPresent:n,anchorX:l,children:t})),a.jsx(Gv.Provider,{value:h,children:t})};function WZ(){return new Map}function U$(t=!0){const e=v.useContext(Gv);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:r}=e,i=v.useId();v.useEffect(()=>{if(t)return r(i)},[t]);const o=v.useCallback(()=>t&&s&&s(i),[i,s,t]);return!n&&s?[!1,o]:[!0]}const d0=t=>t.key||"";function bI(t){const e=[];return v.Children.forEach(t,n=>{v.isValidElement(n)&&e.push(n)}),e}const oA=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:r=!0,mode:i="sync",propagate:o=!1,anchorX:l="left"})=>{const[c,d]=U$(o),u=v.useMemo(()=>bI(t),[t]),h=o&&!c?[]:u.map(d0),f=v.useRef(!0),m=v.useRef(u),g=$S(()=>new Map),[p,w]=v.useState(u),[b,y]=v.useState(u);QD(()=>{f.current=!1,m.current=u;for(let S=0;S<b.length;S++){const T=d0(b[S]);h.includes(T)?g.delete(T):g.get(T)!==!0&&g.set(T,!1)}},[b,h.length,h.join("-")]);const N=[];if(u!==p){let S=[...u];for(let T=0;T<b.length;T++){const _=b[T],R=d0(_);h.includes(R)||(S.splice(T,0,_),N.push(_))}return i==="wait"&&N.length&&(S=N),y(bI(S)),w(u),null}const{forceRender:A}=v.useContext(DS);return a.jsx(a.Fragment,{children:b.map(S=>{const T=d0(S),_=o&&!c?!1:u===b||h.includes(T),R=()=>{if(g.has(T))g.set(T,!0);else return;let B=!0;g.forEach(V=>{V||(B=!1)}),B&&(A==null||A(),y(m.current),o&&(d==null||d()),s&&s())};return a.jsx(HZ,{isPresent:_,initial:!f.current||n?void 0:!1,custom:e,presenceAffectsLayout:r,mode:i,onExitComplete:_?void 0:R,anchorX:l,children:S},T)})})},V$=v.createContext({strict:!1}),wI={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ih={};for(const t in wI)Ih[t]={isEnabled:e=>wI[t].some(n=>!!e[n])};function KZ(t){for(const e in t)Ih[e]={...Ih[e],...t[e]}}const qZ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Iy(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||qZ.has(t)}let z$=t=>!Iy(t);function GZ(t){t&&(z$=e=>e.startsWith("on")?!Iy(e):t(e))}try{GZ(require("@emotion/is-prop-valid").default)}catch{}function YZ(t,e,n){const s={};for(const r in t)r==="values"&&typeof t.values=="object"||(z$(r)||n===!0&&Iy(r)||!e&&!Iy(r)||t.draggable&&r.startsWith("onDrag"))&&(s[r]=t[r]);return s}function XZ(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...s)=>t(...s);return new Proxy(n,{get:(s,r)=>r==="create"?t:(e.has(r)||e.set(r,t(r)),e.get(r))})}const Yv=v.createContext({});function Xv(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function dp(t){return typeof t=="string"||Array.isArray(t)}const lA=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],cA=["initial",...lA];function Qv(t){return Xv(t.animate)||cA.some(e=>dp(t[e]))}function H$(t){return!!(Qv(t)||t.variants)}function QZ(t,e){if(Qv(t)){const{initial:n,animate:s}=t;return{initial:n===!1||dp(n)?n:void 0,animate:dp(s)?s:void 0}}return t.inherit!==!1?e:{}}function JZ(t){const{initial:e,animate:n}=QZ(t,v.useContext(Yv));return v.useMemo(()=>({initial:e,animate:n}),[NI(e),NI(n)])}function NI(t){return Array.isArray(t)?t.join(" "):t}const ZZ=Symbol.for("motionComponentSymbol");function Su(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function eee(t,e,n){return v.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Su(n)&&(n.current=s))},[e])}const dA=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),tee="framerAppearId",W$="data-"+dA(tee),K$=v.createContext({});function nee(t,e,n,s,r){var p,w;const{visualElement:i}=v.useContext(Yv),o=v.useContext(V$),l=v.useContext(Gv),c=v.useContext(aA).reducedMotion,d=v.useRef(null);s=s||o.renderer,!d.current&&s&&(d.current=s(t,{visualState:e,parent:i,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const u=d.current,h=v.useContext(K$);u&&!u.projection&&r&&(u.type==="html"||u.type==="svg")&&see(d.current,n,r,h);const f=v.useRef(!1);v.useInsertionEffect(()=>{u&&f.current&&u.update(n,l)});const m=n[W$],g=v.useRef(!!m&&!((p=window.MotionHandoffIsComplete)!=null&&p.call(window,m))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,m)));return QD(()=>{u&&(f.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),rA.render(u.render),g.current&&u.animationState&&u.animationState.animateChanges())}),v.useEffect(()=>{u&&(!g.current&&u.animationState&&u.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)==null||b.call(window,m)}),g.current=!1))}),u}function see(t,e,n,s){const{layoutId:r,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:q$(t.parent)),t.projection.setOptions({layoutId:r,layout:i,alwaysMeasureLayout:!!o||l&&Su(l),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:s,crossfade:u,layoutScroll:c,layoutRoot:d})}function q$(t){if(t)return t.options.allowProjection!==!1?t.projection:q$(t.parent)}function ree({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:s,Component:r}){t&&KZ(t);function i(l,c){let d;const u={...v.useContext(aA),...l,layoutId:iee(l)},{isStatic:h}=u,f=JZ(l),m=s(l,h);if(!h&&FS){aee();const g=oee(u);d=g.MeasureLayout,f.visualElement=nee(r,m,u,e,g.ProjectionNode)}return a.jsxs(Yv.Provider,{value:f,children:[d&&f.visualElement?a.jsx(d,{visualElement:f.visualElement,...u}):null,n(r,l,eee(m,f.visualElement,c),m,h,f.visualElement)]})}i.displayName=`motion.${typeof r=="string"?r:`create(${r.displayName??r.name??""})`}`;const o=v.forwardRef(i);return o[ZZ]=r,o}function iee({layoutId:t}){const e=v.useContext(DS).id;return e&&t!==void 0?e+"-"+t:t}function aee(t,e){v.useContext(V$).strict}function oee(t){const{drag:e,layout:n}=Ih;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const up={};function lee(t){for(const e in t)up[e]=t[e],WS(e)&&(up[e].isCSSVariable=!0)}function G$(t,{layout:e,layoutId:n}){return sf.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!up[t]||t==="opacity")}const cee={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},dee=nf.length;function uee(t,e,n){let s="",r=!0;for(let i=0;i<dee;i++){const o=nf[i],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const d=D$(l,sA[o]);if(!c){r=!1;const u=cee[o]||o;s+=`${u}(${d}) `}n&&(e[o]=d)}}return s=s.trim(),n?s=n(e,r?"":s):r&&(s="none"),s}function uA(t,e,n){const{style:s,vars:r,transformOrigin:i}=t;let o=!1,l=!1;for(const c in e){const d=e[c];if(sf.has(c)){o=!0;continue}else if(WS(c)){r[c]=d;continue}else{const u=D$(d,sA[c]);c.startsWith("origin")?(l=!0,i[c]=u):s[c]=u}}if(e.transform||(o||n?s.transform=uee(e,t.transform,n):s.transform&&(s.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=i;s.transformOrigin=`${c} ${d} ${u}`}}const hA=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Y$(t,e,n){for(const s in e)!Ks(e[s])&&!G$(s,n)&&(t[s]=e[s])}function hee({transformTemplate:t},e){return v.useMemo(()=>{const n=hA();return uA(n,e,t),Object.assign({},n.vars,n.style)},[e])}function fee(t,e){const n=t.style||{},s={};return Y$(s,n,t),Object.assign(s,hee(t,e)),s}function mee(t,e){const n={},s=fee(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const pee={offset:"stroke-dashoffset",array:"stroke-dasharray"},gee={offset:"strokeDashoffset",array:"strokeDasharray"};function xee(t,e,n=1,s=0,r=!0){t.pathLength=1;const i=r?pee:gee;t[i.offset]=bt.transform(-s);const o=bt.transform(e),l=bt.transform(n);t[i.array]=`${o} ${l}`}function X$(t,{attrX:e,attrY:n,attrScale:s,pathLength:r,pathSpacing:i=1,pathOffset:o=0,...l},c,d,u){if(uA(t,l,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:f}=t;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),s!==void 0&&(h.scale=s),r!==void 0&&xee(h,r,i,o,!1)}const Q$=()=>({...hA(),attrs:{}}),J$=t=>typeof t=="string"&&t.toLowerCase()==="svg";function yee(t,e,n,s){const r=v.useMemo(()=>{const i=Q$();return X$(i,e,J$(s),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};Y$(i,t.style,t),r.style={...i,...r.style}}return r}const vee=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function fA(t){return typeof t!="string"||t.includes("-")?!1:!!(vee.indexOf(t)>-1||/[A-Z]/u.test(t))}function bee(t=!1){return(n,s,r,{latestValues:i},o)=>{const c=(fA(n)?yee:mee)(s,i,o,n),d=YZ(s,typeof n=="string",t),u=n!==v.Fragment?{...d,...c,ref:r}:{},{children:h}=s,f=v.useMemo(()=>Ks(h)?h.get():h,[h]);return v.createElement(n,{...u,children:f})}}function kI(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function mA(t,e,n,s){if(typeof e=="function"){const[r,i]=kI(s);e=e(n!==void 0?n:t.custom,r,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,i]=kI(s);e=e(n!==void 0?n:t.custom,r,i)}return e}function px(t){return Ks(t)?t.get():t}function wee({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,r){return{latestValues:Nee(n,s,r,t),renderState:e()}}const Z$=t=>(e,n)=>{const s=v.useContext(Yv),r=v.useContext(Gv),i=()=>wee(t,e,s,r);return n?i():$S(i)};function Nee(t,e,n,s){const r={},i=s(t,{});for(const f in i)r[f]=px(i[f]);let{initial:o,animate:l}=t;const c=Qv(t),d=H$(t);e&&d&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const h=u?l:o;if(h&&typeof h!="boolean"&&!Xv(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const g=mA(t,f[m]);if(g){const{transitionEnd:p,transition:w,...b}=g;for(const y in b){let N=b[y];if(Array.isArray(N)){const A=u?N.length-1:0;N=N[A]}N!==null&&(r[y]=N)}for(const y in p)r[y]=p[y]}}}return r}function pA(t,e,n){var i;const{style:s}=t,r={};for(const o in s)(Ks(s[o])||e.style&&Ks(e.style[o])||G$(o,t)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(r[o]=s[o]);return r}const kee={useVisualState:Z$({scrapeMotionValuesFromProps:pA,createRenderState:hA})};function eF(t,e,n){const s=pA(t,e,n);for(const r in t)if(Ks(t[r])||Ks(e[r])){const i=nf.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;s[i]=t[r]}return s}const jee={useVisualState:Z$({scrapeMotionValuesFromProps:eF,createRenderState:Q$})};function See(t,e){return function(s,{forwardMotionProps:r}={forwardMotionProps:!1}){const o={...fA(s)?jee:kee,preloadedFeatures:t,useRender:bee(r),createVisualElement:e,Component:s};return ree(o)}}function hp(t,e,n){const s=t.getProps();return mA(s,e,n!==void 0?n:s.custom,t)}const NN=t=>Array.isArray(t);function Aee(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Eh(n))}function Tee(t){return NN(t)?t[t.length-1]||0:t}function Cee(t,e){const n=hp(t,e);let{transitionEnd:s={},transition:r={},...i}=n||{};i={...i,...s};for(const o in i){const l=Tee(i[o]);Aee(t,o,l)}}function Eee(t){return!!(Ks(t)&&t.add)}function kN(t,e){const n=t.getValue("willChange");if(Eee(n))return n.add(e);if(!n&&Vo.WillChange){const s=new Vo.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function tF(t){return t.props[W$]}const Iee=t=>t!==null;function Pee(t,{repeat:e,repeatType:n="loop"},s){const r=t.filter(Iee),i=e&&n!=="loop"&&e%2===1?0:r.length-1;return!i||s===void 0?r[i]:s}const _ee={type:"spring",stiffness:500,damping:25,restSpeed:10},Ree=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Mee={type:"keyframes",duration:.8},Oee={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Dee=(t,{keyframes:e})=>e.length>2?Mee:sf.has(t)?t.startsWith("scale")?Ree(e[1]):_ee:Oee;function $ee({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:r,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const gA=(t,e,n,s={},r,i)=>o=>{const l=nA(s,t)||{},c=l.delay||s.delay||0;let{elapsed:d=0}=s;d=d-$a(c);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:f=>{e.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:i?void 0:r};$ee(l)||Object.assign(u,Dee(t,u)),u.duration&&(u.duration=$a(u.duration)),u.repeatDelay&&(u.repeatDelay=$a(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(h=!0)),(Vo.instantAnimations||Vo.skipAnimations)&&(h=!0,u.duration=0,u.delay=0),u.allowFlatten=!l.type&&!l.ease,h&&!i&&e.get()!==void 0){const f=Pee(u.keyframes,l);if(f!==void 0){_n.update(()=>{u.onUpdate(f),u.onComplete()});return}}return l.isSync?new ZS(u):new xZ(u)};function Fee({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function nF(t,e,{delay:n=0,transitionOverride:s,type:r}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...l}=e;s&&(i=s);const c=[],d=r&&t.animationState&&t.animationState.getState()[r];for(const u in l){const h=t.getValue(u,t.latestValues[u]??null),f=l[u];if(f===void 0||d&&Fee(d,u))continue;const m={delay:n,...nA(i||{},u)},g=h.get();if(g!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===g&&!m.velocity)continue;let p=!1;if(window.MotionHandoffAnimation){const b=tF(t);if(b){const y=window.MotionHandoffAnimation(b,u,_n);y!==null&&(m.startTime=y,p=!0)}}kN(t,u),h.start(gA(u,h,f,t.shouldReduceMotion&&P$.has(u)?{type:!1}:m,t,p));const w=h.animation;w&&c.push(w)}return o&&Promise.all(c).then(()=>{_n.update(()=>{o&&Cee(t,o)})}),c}function jN(t,e,n={}){var c;const s=hp(t,e,n.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:r=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(r=n.transitionOverride);const i=s?()=>Promise.all(nF(t,s,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:f}=r;return Lee(t,e,u+d,h,f,n)}:()=>Promise.resolve(),{when:l}=r;if(l){const[d,u]=l==="beforeChildren"?[i,o]:[o,i];return d().then(()=>u())}else return Promise.all([i(),o(n.delay)])}function Lee(t,e,n=0,s=0,r=1,i){const o=[],l=(t.variantChildren.size-1)*s,c=r===1?(d=0)=>d*s:(d=0)=>l-d*s;return Array.from(t.variantChildren).sort(Bee).forEach((d,u)=>{d.notify("AnimationStart",e),o.push(jN(d,e,{...i,delay:n+c(u)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(o)}function Bee(t,e){return t.sortNodePosition(e)}function Uee(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const r=e.map(i=>jN(t,i,n));s=Promise.all(r)}else if(typeof e=="string")s=jN(t,e,n);else{const r=typeof e=="function"?hp(t,e,n.custom):e;s=Promise.all(nF(t,r,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function sF(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const Vee=cA.length;function rF(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?rF(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Vee;n++){const s=cA[n],r=t.props[s];(dp(r)||r===!1)&&(e[s]=r)}return e}const zee=[...lA].reverse(),Hee=lA.length;function Wee(t){return e=>Promise.all(e.map(({animation:n,options:s})=>Uee(t,n,s)))}function Kee(t){let e=Wee(t),n=jI(),s=!0;const r=c=>(d,u)=>{var f;const h=hp(t,u,c==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:g,...p}=h;d={...d,...p,...g}}return d};function i(c){e=c(t)}function o(c){const{props:d}=t,u=rF(t.parent)||{},h=[],f=new Set;let m={},g=1/0;for(let w=0;w<Hee;w++){const b=zee[w],y=n[b],N=d[b]!==void 0?d[b]:u[b],A=dp(N),S=b===c?y.isActive:null;S===!1&&(g=w);let T=N===u[b]&&N!==d[b]&&A;if(T&&s&&t.manuallyAnimateOnMount&&(T=!1),y.protectedKeys={...m},!y.isActive&&S===null||!N&&!y.prevProp||Xv(N)||typeof N=="boolean")continue;const _=qee(y.prevProp,N);let R=_||b===c&&y.isActive&&!T&&A||w>g&&A,B=!1;const V=Array.isArray(N)?N:[N];let U=V.reduce(r(b),{});S===!1&&(U={});const{prevResolvedValues:L={}}=y,M={...L,...U},x=D=>{R=!0,f.has(D)&&(B=!0,f.delete(D)),y.needsAnimating[D]=!0;const C=t.getValue(D);C&&(C.liveStyle=!1)};for(const D in M){const C=U[D],I=L[D];if(m.hasOwnProperty(D))continue;let F=!1;NN(C)&&NN(I)?F=!sF(C,I):F=C!==I,F?C!=null?x(D):f.add(D):C!==void 0&&f.has(D)?x(D):y.protectedKeys[D]=!0}y.prevProp=N,y.prevResolvedValues=U,y.isActive&&(m={...m,...U}),s&&t.blockInitialAnimation&&(R=!1),R&&(!(T&&_)||B)&&h.push(...V.map(D=>({animation:D,options:{type:b}})))}if(f.size){const w={};if(typeof d.initial!="boolean"){const b=hp(t,Array.isArray(d.initial)?d.initial[0]:d.initial);b&&b.transition&&(w.transition=b.transition)}f.forEach(b=>{const y=t.getBaseTarget(b),N=t.getValue(b);N&&(N.liveStyle=!0),w[b]=y??null}),h.push({animation:w})}let p=!!h.length;return s&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(p=!1),s=!1,p?e(h):Promise.resolve()}function l(c,d){var h;if(n[c].isActive===d)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(f=>{var m;return(m=f.animationState)==null?void 0:m.setActive(c,d)}),n[c].isActive=d;const u=o(c);for(const f in n)n[f].protectedKeys={};return u}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=jI(),s=!0}}}function qee(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!sF(e,t):!1}function Ec(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function jI(){return{animate:Ec(!0),whileInView:Ec(),whileHover:Ec(),whileTap:Ec(),whileDrag:Ec(),whileFocus:Ec(),exit:Ec()}}let wc=class{constructor(e){this.isMounted=!1,this.node=e}update(){}},Gee=class extends wc{constructor(e){super(e),e.animationState||(e.animationState=Kee(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Xv(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}},Yee=0,Xee=class extends wc{constructor(){super(...arguments),this.id=Yee++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}};const Qee={animation:{Feature:Gee},exit:{Feature:Xee}};function fp(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function wg(t){return{point:{x:t.pageX,y:t.pageY}}}const Jee=t=>e=>iA(e)&&t(e,wg(e));function vm(t,e,n,s){return fp(t,e,Jee(n),s)}function iF({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function Zee({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function ete(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}const aF=1e-4,tte=1-aF,nte=1+aF,oF=.01,ste=0-oF,rte=0+oF;function ar(t){return t.max-t.min}function ite(t,e,n){return Math.abs(t-e)<=n}function SI(t,e,n,s=.5){t.origin=s,t.originPoint=En(e.min,e.max,t.origin),t.scale=ar(n)/ar(e),t.translate=En(n.min,n.max,t.origin)-t.originPoint,(t.scale>=tte&&t.scale<=nte||isNaN(t.scale))&&(t.scale=1),(t.translate>=ste&&t.translate<=rte||isNaN(t.translate))&&(t.translate=0)}function bm(t,e,n,s){SI(t.x,e.x,n.x,s?s.originX:void 0),SI(t.y,e.y,n.y,s?s.originY:void 0)}function AI(t,e,n){t.min=n.min+e.min,t.max=t.min+ar(e)}function ate(t,e,n){AI(t.x,e.x,n.x),AI(t.y,e.y,n.y)}function TI(t,e,n){t.min=e.min-n.min,t.max=t.min+ar(e)}function wm(t,e,n){TI(t.x,e.x,n.x),TI(t.y,e.y,n.y)}const CI=()=>({translate:0,scale:1,origin:0,originPoint:0}),Au=()=>({x:CI(),y:CI()}),EI=()=>({min:0,max:0}),Hn=()=>({x:EI(),y:EI()});function hi(t){return[t("x"),t("y")]}function Tw(t){return t===void 0||t===1}function SN({scale:t,scaleX:e,scaleY:n}){return!Tw(t)||!Tw(e)||!Tw(n)}function $c(t){return SN(t)||lF(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function lF(t){return II(t.x)||II(t.y)}function II(t){return t&&t!=="0%"}function Py(t,e,n){const s=t-n,r=e*s;return n+r}function PI(t,e,n,s,r){return r!==void 0&&(t=Py(t,r,s)),Py(t,n,s)+e}function AN(t,e=0,n=1,s,r){t.min=PI(t.min,e,n,s,r),t.max=PI(t.max,e,n,s,r)}function cF(t,{x:e,y:n}){AN(t.x,e.translate,e.scale,e.originPoint),AN(t.y,n.translate,n.scale,n.originPoint)}const _I=.999999999999,RI=1.0000000000001;function ote(t,e,n,s=!1){const r=n.length;if(!r)return;e.x=e.y=1;let i,o;for(let l=0;l<r;l++){i=n[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Cu(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,cF(t,o)),s&&$c(i.latestValues)&&Cu(t,i.latestValues))}e.x<RI&&e.x>_I&&(e.x=1),e.y<RI&&e.y>_I&&(e.y=1)}function Tu(t,e){t.min=t.min+e,t.max=t.max+e}function MI(t,e,n,s,r=.5){const i=En(t.min,t.max,r);AN(t,e,n,i,s)}function Cu(t,e){MI(t.x,e.x,e.scaleX,e.scale,e.originX),MI(t.y,e.y,e.scaleY,e.scale,e.originY)}function dF(t,e){return iF(ete(t.getBoundingClientRect(),e))}function lte(t,e,n){const s=dF(t,n),{scroll:r}=e;return r&&(Tu(s.x,r.offset.x),Tu(s.y,r.offset.y)),s}const uF=({current:t})=>t?t.ownerDocument.defaultView:null,OI=(t,e)=>Math.abs(t-e);function cte(t,e){const n=OI(t.x,e.x),s=OI(t.y,e.y);return Math.sqrt(n**2+s**2)}let hF=class{constructor(e,n,{transformPagePoint:s,contextWindow:r,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Ew(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=cte(h.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:g}=h,{timestamp:p}=Ss;this.history.push({...g,timestamp:p});const{onStart:w,onMove:b}=this.handlers;f||(w&&w(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Cw(f,this.transformPagePoint),_n.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:m,onSessionEnd:g,resumeAnimation:p}=this.handlers;if(this.dragSnapToOrigin&&p&&p(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Ew(h.type==="pointercancel"?this.lastMoveEventInfo:Cw(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,w),g&&g(h,w)},!iA(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=s,this.contextWindow=r||window;const o=wg(e),l=Cw(o,this.transformPagePoint),{point:c}=l,{timestamp:d}=Ss;this.history=[{...c,timestamp:d}];const{onSessionStart:u}=n;u&&u(e,Ew(l,this.history)),this.removeListeners=yg(vm(this.contextWindow,"pointermove",this.handlePointerMove),vm(this.contextWindow,"pointerup",this.handlePointerUp),vm(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),dc(this.updatePoint)}};function Cw(t,e){return e?{point:e(t.point)}:t}function DI(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ew({point:t},e){return{point:t,delta:DI(t,fF(e)),offset:DI(t,dte(e)),velocity:ute(e,.1)}}function dte(t){return t[0]}function fF(t){return t[t.length-1]}function ute(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const r=fF(t);for(;n>=0&&(s=t[n],!(r.timestamp-s.timestamp>$a(e)));)n--;if(!s)return{x:0,y:0};const i=Fa(r.timestamp-s.timestamp);if(i===0)return{x:0,y:0};const o={x:(r.x-s.x)/i,y:(r.y-s.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function hte(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?En(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?En(n,t,s.max):Math.min(t,n)),t}function $I(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function fte(t,{top:e,left:n,bottom:s,right:r}){return{x:$I(t.x,n,r),y:$I(t.y,e,s)}}function FI(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function mte(t,e){return{x:FI(t.x,e.x),y:FI(t.y,e.y)}}function pte(t,e){let n=.5;const s=ar(t),r=ar(e);return r>s?n=op(e.min,e.max-s,t.min):s>r&&(n=op(t.min,t.max-r,e.min)),Uo(0,1,n)}function gte(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const TN=.35;function xte(t=TN){return t===!1?t=0:t===!0&&(t=TN),{x:LI(t,"left","right"),y:LI(t,"top","bottom")}}function LI(t,e,n){return{min:BI(t,e),max:BI(t,n)}}function BI(t,e){return typeof t=="number"?t:t[e]||0}const yte=new WeakMap;let vte=class{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Hn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const r=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(wg(u).point)},i=(u,h)=>{const{drag:f,dragPropagation:m,onDragStart:g}=this.getProps();if(f&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=RZ(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),hi(w=>{let b=this.getAxisMotionValue(w).get()||0;if(La.test(b)){const{projection:y}=this.visualElement;if(y&&y.layout){const N=y.layout.layoutBox[w];N&&(b=ar(N)*(parseFloat(b)/100))}}this.originPoint[w]=b}),g&&_n.postRender(()=>g(u,h)),kN(this.visualElement,"transform");const{animationState:p}=this.visualElement;p&&p.setActive("whileDrag",!0)},o=(u,h)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:g,onDrag:p}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:w}=h;if(m&&this.currentDirection===null){this.currentDirection=bte(w),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",h.point,w),this.updateAxis("y",h.point,w),this.visualElement.render(),p&&p(u,h)},l=(u,h)=>this.stop(u,h),c=()=>hi(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)==null?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new hF(e,{onSessionStart:r,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:uF(this.visualElement)})}stop(e,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&_n.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:r}=this.getProps();if(!s||!u0(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(o=hte(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,r=this.constraints;e&&Su(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=fte(s.layoutBox,e):this.constraints=!1,this.elastic=xte(n),r!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&hi(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=gte(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Su(e))return!1;const s=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=lte(s,r.root,this.visualElement.getTransformPagePoint());let o=mte(r.layout.layoutBox,i);if(n){const l=n(Zee(o));this.hasMutatedConstraints=!!l,l&&(o=iF(l))}return o}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:r,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=hi(u=>{if(!u0(u,n,this.currentDirection))return;let h=c&&c[u]||{};o&&(h={min:0,max:0});const f=r?200:1e6,m=r?40:1e7,g={type:"inertia",velocity:s?e[u]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(u,g)});return Promise.all(d).then(l)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return kN(this.visualElement,e),s.start(gA(e,s,0,n,this.visualElement,!1))}stopAnimation(){hi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){hi(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),r=s[n];return r||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){hi(n=>{const{drag:s}=this.getProps();if(!u0(n,s,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:l}=r.layout.layoutBox[n];i.set(e[n]-En(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Su(n)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};hi(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();r[o]=pte({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),hi(o=>{if(!u0(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(En(c,d,r[o]))})}addListeners(){if(!this.visualElement.current)return;yte.set(this.visualElement,this);const e=this.visualElement.current,n=vm(e,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();Su(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,i=r.addEventListener("measure",s);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),_n.read(s);const o=fp(window,"resize",()=>this.scalePositionWithinConstraints()),l=r.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(hi(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=c[u].translate,h.set(h.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:o=TN,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:r,dragConstraints:i,dragElastic:o,dragMomentum:l}}};function u0(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function bte(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}let wte=class extends wc{constructor(e){super(e),this.removeGroupControls=Ni,this.removeListeners=Ni,this.controls=new vte(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ni}unmount(){this.removeGroupControls(),this.removeListeners()}};const UI=t=>(e,n)=>{t&&_n.postRender(()=>t(e,n))};let Nte=class extends wc{constructor(){super(...arguments),this.removePointerDownListener=Ni}onPointerDown(e){this.session=new hF(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:uF(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:UI(e),onStart:UI(n),onMove:s,onEnd:(i,o)=>{delete this.session,r&&_n.postRender(()=>r(i,o))}}}mount(){this.removePointerDownListener=vm(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}};const gx={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function VI(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const If={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(bt.test(t))t=parseFloat(t);else return t;const n=VI(t,e.target.x),s=VI(t,e.target.y);return`${n}% ${s}%`}},kte={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,r=uc.parse(t);if(r.length>5)return s;const i=uc.createTransformer(t),o=typeof r[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;r[0+o]/=l,r[1+o]/=c;const d=En(l,c,.5);return typeof r[2+o]=="number"&&(r[2+o]/=d),typeof r[3+o]=="number"&&(r[3+o]/=d),i(r)}};let jte=class extends v.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:r}=this.props,{projection:i}=e;lee(Ste),i&&(n.group&&n.group.add(i),s&&s.register&&r&&s.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),gx.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:r,isPresent:i}=this.props,{projection:o}=s;return o&&(o.isPresent=i,r||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||_n.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),rA.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}};function mF(t){const[e,n]=U$(),s=v.useContext(DS);return a.jsx(jte,{...t,layoutGroup:s,switchLayoutGroup:v.useContext(K$),isPresent:e,safeToRemove:n})}const Ste={borderRadius:{...If,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:If,borderTopRightRadius:If,borderBottomLeftRadius:If,borderBottomRightRadius:If,boxShadow:kte};function Ate(t,e,n){const s=Ks(t)?t:Eh(t);return s.start(gA("",s,e,n)),s.animation}const Tte=(t,e)=>t.depth-e.depth;let Cte=class{constructor(){this.children=[],this.isDirty=!1}add(e){LS(this.children,e),this.isDirty=!0}remove(e){BS(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Tte),this.isDirty=!1,this.children.forEach(e)}};function Ete(t,e){const n=Cr.now(),s=({timestamp:r})=>{const i=r-n;i>=e&&(dc(s),t(i-e))};return _n.setup(s,!0),()=>dc(s)}const pF=["TopLeft","TopRight","BottomLeft","BottomRight"],Ite=pF.length,zI=t=>typeof t=="string"?parseFloat(t):t,HI=t=>typeof t=="number"||bt.test(t);function Pte(t,e,n,s,r,i){r?(t.opacity=En(0,n.opacity??1,_te(s)),t.opacityExit=En(e.opacity??1,0,Rte(s))):i&&(t.opacity=En(e.opacity??1,n.opacity??1,s));for(let o=0;o<Ite;o++){const l=`border${pF[o]}Radius`;let c=WI(e,l),d=WI(n,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||HI(c)===HI(d)?(t[l]=Math.max(En(zI(c),zI(d),s),0),(La.test(d)||La.test(c))&&(t[l]+="%")):t[l]=d}(e.rotate||n.rotate)&&(t.rotate=En(e.rotate||0,n.rotate||0,s))}function WI(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const _te=gF(0,.5,l$),Rte=gF(.5,.95,Ni);function gF(t,e,n){return s=>s<t?0:s>e?1:n(op(t,e,s))}function KI(t,e){t.min=e.min,t.max=e.max}function ii(t,e){KI(t.x,e.x),KI(t.y,e.y)}function qI(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function GI(t,e,n,s,r){return t-=e,t=Py(t,1/n,s),r!==void 0&&(t=Py(t,1/r,s)),t}function Mte(t,e=0,n=1,s=.5,r,i=t,o=t){if(La.test(e)&&(e=parseFloat(e),e=En(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=En(i.min,i.max,s);t===i&&(l-=e),t.min=GI(t.min,e,n,l,r),t.max=GI(t.max,e,n,l,r)}function YI(t,e,[n,s,r],i,o){Mte(t,e[n],e[s],e[r],e.scale,i,o)}const Ote=["x","scaleX","originX"],Dte=["y","scaleY","originY"];function XI(t,e,n,s){YI(t.x,e,Ote,n?n.x:void 0,s?s.x:void 0),YI(t.y,e,Dte,n?n.y:void 0,s?s.y:void 0)}function QI(t){return t.translate===0&&t.scale===1}function xF(t){return QI(t.x)&&QI(t.y)}function JI(t,e){return t.min===e.min&&t.max===e.max}function $te(t,e){return JI(t.x,e.x)&&JI(t.y,e.y)}function ZI(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function yF(t,e){return ZI(t.x,e.x)&&ZI(t.y,e.y)}function eP(t){return ar(t.x)/ar(t.y)}function tP(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}let Fte=class{constructor(){this.members=[]}add(e){LS(this.members,e),e.scheduleRender()}remove(e){if(BS(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let s;for(let r=n;r>=0;r--){const i=this.members[r];if(i.isPresent!==!1){s=i;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}};function Lte(t,e,n){let s="";const r=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((r||i||o)&&(s=`translate3d(${r}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:u,rotateX:h,rotateY:f,skewX:m,skewY:g}=n;d&&(s=`perspective(${d}px) ${s}`),u&&(s+=`rotate(${u}deg) `),h&&(s+=`rotateX(${h}deg) `),f&&(s+=`rotateY(${f}deg) `),m&&(s+=`skewX(${m}deg) `),g&&(s+=`skewY(${g}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(s+=`scale(${l}, ${c})`),s||"none"}const Iw=["","X","Y","Z"],Bte={visibility:"hidden"},Ute=1e3;let Vte=0;function Pw(t,e,n,s){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),s&&(s[t]=0))}function vF(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=tF(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",_n,!(r||i))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&vF(s)}function bF({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(o={},l=e==null?void 0:e()){this.id=Vte++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Wte),this.nodes.forEach(Xte),this.nodes.forEach(Qte),this.nodes.forEach(Kte)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Cte)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new VS),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=B$(o)&&!LZ(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let u;const h=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,u&&u(),u=Ete(h,250),gx.hasAnimatedSinceResize&&(gx.hasAnimatedSinceResize=!1,this.nodes.forEach(sP))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||nne,{onLayoutAnimationStart:p,onLayoutAnimationComplete:w}=d.getProps(),b=!this.targetLayout||!yF(this.targetLayout,m),y=!h&&f;if(this.options.layoutRoot||this.resumeFrom||y||h&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(u,y);const N={...nA(g,"layout"),onPlay:p,onComplete:w};(d.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else h||sP(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),dc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Jte),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&vF(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(nP);return}this.isUpdating||this.nodes.forEach(Gte),this.isUpdating=!1,this.nodes.forEach(Yte),this.nodes.forEach(zte),this.nodes.forEach(Hte),this.clearAllSnapshots();const l=Cr.now();Ss.delta=Uo(0,1e3/60,l-Ss.timestamp),Ss.timestamp=l,Ss.isProcessing=!0,ww.update.process(Ss),ww.preRender.process(Ss),ww.render.process(Ss),Ss.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,rA.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(qte),this.sharedNodes.forEach(Zte)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,_n.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){_n.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ar(this.snapshot.measuredBox.x)&&!ar(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Hn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!xF(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||$c(this.latestValues)||u)&&(r(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),sne(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return Hn();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(rne))){const{scroll:u}=this.root;u&&(Tu(l.x,u.offset.x),Tu(l.y,u.offset.y))}return l}removeElementScroll(o){var c;const l=Hn();if(ii(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:h,options:f}=u;u!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&ii(l,o),Tu(l.x,h.offset.x),Tu(l.y,h.offset.y))}return l}applyTransform(o,l=!1){const c=Hn();ii(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Cu(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),$c(u.latestValues)&&Cu(c,u.latestValues)}return $c(this.latestValues)&&Cu(c,this.latestValues),c}removeTransform(o){const l=Hn();ii(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!$c(d.latestValues))continue;SN(d.latestValues)&&d.updateSnapshot();const u=Hn(),h=d.measurePageBox();ii(u,h),XI(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return $c(this.latestValues)&&XI(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ss.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:h}=this.options;if(!(!this.layout||!(u||h))){if(this.resolvedRelativeTargetAt=Ss.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Hn(),this.relativeTargetOrigin=Hn(),wm(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),ii(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Hn(),this.targetWithTransforms=Hn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ate(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ii(this.target,this.layout.layoutBox),cF(this.target,this.targetDelta)):ii(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Hn(),this.relativeTargetOrigin=Hn(),wm(this.relativeTargetOrigin,this.target,m.target),ii(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||SN(this.parent.latestValues)||lF(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var g;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ss.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;ii(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;ote(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Hn());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(qI(this.prevProjectionDelta.x,this.projectionDelta.x),qI(this.prevProjectionDelta.y,this.projectionDelta.y)),bm(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!tP(this.projectionDelta.x,this.prevProjectionDelta.x)||!tP(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Au(),this.projectionDelta=Au(),this.projectionDeltaWithTransform=Au()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},h=Au();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=Hn(),m=c?c.source:void 0,g=this.layout?this.layout.source:void 0,p=m!==g,w=this.getStack(),b=!w||w.members.length<=1,y=!!(p&&!b&&this.options.crossfade===!0&&!this.path.some(tne));this.animationProgress=0;let N;this.mixTargetDelta=A=>{const S=A/1e3;rP(h.x,o.x,S),rP(h.y,o.y,S),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(wm(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ene(this.relativeTarget,this.relativeTargetOrigin,f,S),N&&$te(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=Hn()),ii(N,this.relativeTarget)),p&&(this.animationValues=u,Pte(u,d,this.latestValues,S,y,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(!1),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(!1),this.pendingAnimation&&(dc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=_n.update(()=>{gx.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Eh(0)),this.currentAnimation=Ate(this.motionValue,[0,1e3],{...o,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Ute),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&wF(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Hn();const h=ar(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=ar(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}ii(l,c),Cu(l,u),bm(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Fte),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&Pw("z",o,d,this.animationValues);for(let u=0;u<Iw.length;u++)Pw(`rotate${Iw[u]}`,o,d,this.animationValues),Pw(`skew${Iw[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return Bte;const l={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=px(o==null?void 0:o.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none",l;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=px(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!$c(this.latestValues)&&(m.transform=c?c({},""):"none",this.hasProjected=!1),m}const u=d.animationValues||d.latestValues;this.applyTransformsToTarget(),l.transform=Lte(this.projectionDeltaWithTransform,this.treeScale,u),c&&(l.transform=c(u,l.transform));const{x:h,y:f}=this.projectionDelta;l.transformOrigin=`${h.origin*100}% ${f.origin*100}% 0`,d.animationValues?l.opacity=d===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:l.opacity=d===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const m in up){if(u[m]===void 0)continue;const{correct:g,applyTo:p,isCSSVariable:w}=up[m],b=l.transform==="none"?u[m]:g(u[m],d);if(p){const y=p.length;for(let N=0;N<y;N++)l[p[N]]=b}else w?this.options.visualElement.renderState.vars[m]=b:l[m]=b}return this.options.layoutId&&(l.pointerEvents=d===this?px(o==null?void 0:o.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop(!1)}),this.root.nodes.forEach(nP),this.root.sharedNodes.clear()}}}function zte(t){t.updateLayout()}function Hte(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?hi(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],m=ar(f);f.min=s[h].min,f.max=f.min+m}):wF(i,e.layoutBox,s)&&hi(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],m=ar(s[h]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const l=Au();bm(l,s,e.layoutBox);const c=Au();o?bm(c,t.applyTransform(r,!0),e.measuredBox):bm(c,s,e.layoutBox);const d=!xF(l);let u=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const g=Hn();wm(g,e.layoutBox,f.layoutBox);const p=Hn();wm(p,s,m.layoutBox),yF(g,p)||(u=!0),h.options.layoutRoot&&(t.relativeTarget=p,t.relativeTargetOrigin=g,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function Wte(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Kte(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function qte(t){t.clearSnapshot()}function nP(t){t.clearMeasurements()}function Gte(t){t.isLayoutDirty=!1}function Yte(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function sP(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Xte(t){t.resolveTargetDelta()}function Qte(t){t.calcProjection()}function Jte(t){t.resetSkewAndRotation()}function Zte(t){t.removeLeadSnapshot()}function rP(t,e,n){t.translate=En(e.translate,0,n),t.scale=En(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function iP(t,e,n,s){t.min=En(e.min,n.min,s),t.max=En(e.max,n.max,s)}function ene(t,e,n,s){iP(t.x,e.x,n.x,s),iP(t.y,e.y,n.y,s)}function tne(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const nne={duration:.45,ease:[.4,0,.1,1]},aP=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),oP=aP("applewebkit/")&&!aP("chrome/")?Math.round:Ni;function lP(t){t.min=oP(t.min),t.max=oP(t.max)}function sne(t){lP(t.x),lP(t.y)}function wF(t,e,n){return t==="position"||t==="preserve-aspect"&&!ite(eP(e),eP(n),.2)}function rne(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const ine=bF({attachResizeListener:(t,e)=>fp(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),_w={current:void 0},NF=bF({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!_w.current){const t=new ine({});t.mount(window),t.setOptions({layoutScroll:!0}),_w.current=t}return _w.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),ane={pan:{Feature:Nte},drag:{Feature:wte,ProjectionNode:NF,MeasureLayout:mF}};function cP(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,i=s[r];i&&_n.postRender(()=>i(e,wg(e)))}let one=class extends wc{mount(){const{current:e}=this.node;e&&(this.unmount=MZ(e,(n,s)=>(cP(this.node,s,"Start"),r=>cP(this.node,r,"End"))))}unmount(){}},lne=class extends wc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=yg(fp(this.node.current,"focus",()=>this.onFocus()),fp(this.node.current,"blur",()=>this.onBlur()))}unmount(){}};function dP(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),i=s[r];i&&_n.postRender(()=>i(e,wg(e)))}let cne=class extends wc{mount(){const{current:e}=this.node;e&&(this.unmount=FZ(e,(n,s)=>(dP(this.node,s,"Start"),(r,{success:i})=>dP(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}};const CN=new WeakMap,Rw=new WeakMap,dne=t=>{const e=CN.get(t.target);e&&e(t)},une=t=>{t.forEach(dne)};function hne({root:t,...e}){const n=t||document;Rw.has(n)||Rw.set(n,{});const s=Rw.get(n),r=JSON.stringify(e);return s[r]||(s[r]=new IntersectionObserver(une,{root:t,...e})),s[r]}function fne(t,e,n){const s=hne(e);return CN.set(t,n),s.observe(t),()=>{CN.delete(t),s.unobserve(t)}}const mne={some:0,all:1};let pne=class extends wc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:r="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:mne[r]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),f=d?u:h;f&&f(c)};return fne(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(gne(e,n))&&this.startObserver()}unmount(){}};function gne({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const xne={inView:{Feature:pne},tap:{Feature:cne},focus:{Feature:lne},hover:{Feature:one}},yne={layout:{ProjectionNode:NF,MeasureLayout:mF}},EN={current:null},kF={current:!1};function vne(){if(kF.current=!0,!!FS)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>EN.current=t.matches;t.addListener(e),e()}else EN.current=!1}const bne=new WeakMap;function wne(t,e,n){for(const s in e){const r=e[s],i=n[s];if(Ks(r))t.addValue(s,r);else if(Ks(i))t.addValue(s,Eh(r,{owner:t}));else if(i!==r)if(t.hasValue(s)){const o=t.getValue(s);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=t.getStaticValue(s);t.addValue(s,Eh(o!==void 0?o:r,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const uP=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Nne=class{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:r,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=eA,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Cr.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,_n.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Qv(n),this.isVariantNode=H$(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const m=h[f];c[f]!==void 0&&Ks(m)&&m.set(c[f],!1)}}mount(e){this.current=e,bne.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),kF.current||vne(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:EN.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),dc(this.notifyUpdate),dc(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=sf.has(e);s&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&_n.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ih){const n=Ih[e];if(!n)continue;const{isEnabled:s,Feature:r}=n;if(!this.features[e]&&r&&s(this.props)&&(this.features[e]=new r(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Hn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<uP.length;s++){const r=uP[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const i="on"+r,o=e[i];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=wne(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=Eh(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(JD(s)||e$(s))?s=parseFloat(s):!UZ(s)&&uc.test(n)&&(s=O$(e,n)),this.setBaseTarget(e,Ks(s)?s.get():s)),Ks(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const o=mA(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(s=o[e])}if(n&&s!==void 0)return s;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!Ks(r)?r:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new VS),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}},jF=class extends Nne{constructor(){super(...arguments),this.KeyframeResolver=EZ}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ks(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}};function SF(t,{style:e,vars:n},s,r){Object.assign(t.style,e,r&&r.getProjectionStyles(s));for(const i in n)t.style.setProperty(i,n[i])}function kne(t){return window.getComputedStyle(t)}let jne=class extends jF{constructor(){super(...arguments),this.type="html",this.renderInstance=SF}readValueFromInstance(e,n){var s;if(sf.has(n))return(s=this.projection)!=null&&s.isProjecting?gN(n):GJ(e,n);{const r=kne(e),i=(WS(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return dF(e,n)}build(e,n,s){uA(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return pA(e,n,s)}};const AF=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Sne(t,e,n,s){SF(t,e,void 0,s);for(const r in e.attrs)t.setAttribute(AF.has(r)?r:dA(r),e.attrs[r])}let Ane=class extends jF{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Hn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(sf.has(n)){const s=M$(n);return s&&s.default||0}return n=AF.has(n)?n:dA(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return eF(e,n,s)}build(e,n,s){X$(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,r){Sne(e,n,s,r)}mount(e){this.isSVGTag=J$(e.tagName),super.mount(e)}};const Tne=(t,e)=>fA(t)?new Ane(e):new jne(e,{allowProjection:t!==v.Fragment}),Cne=See({...Qee,...xne,...ane,...yne},Tne),Qt=XZ(Cne);function Ene(t,e=[]){let n=[];function s(i,o){const l=v.createContext(o),c=n.length;n=[...n,o];function d(h){const{scope:f,children:m,...g}=h,p=(f==null?void 0:f[t][c])||l,w=v.useMemo(()=>g,Object.values(g));return a.jsx(p.Provider,{value:w,children:m})}function u(h,f){const m=(f==null?void 0:f[t][c])||l,g=v.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const r=()=>{const i=n.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return r.scopeName=t,[s,Ine(r,...e)]}function Ine(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Mw="rovingFocusGroup.onEntryFocus",Pne={bubbles:!1,cancelable:!0},Jv="RovingFocusGroup",[IN,TF,_ne]=_v(Jv),[Rne,CF]=Ene(Jv,[_ne]),[Mne,One]=Rne(Jv),EF=v.forwardRef((t,e)=>a.jsx(IN.Provider,{scope:t.__scopeRovingFocusGroup,children:a.jsx(IN.Slot,{scope:t.__scopeRovingFocusGroup,children:a.jsx(Dne,{...t,ref:e})})}));EF.displayName=Jv;var Dne=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:r=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...h}=t,f=v.useRef(null),m=on(e,f),g=Wv(i),[p=null,w]=qa({prop:o,defaultProp:l,onChange:c}),[b,y]=v.useState(!1),N=dr(d),A=TF(n),S=v.useRef(!1),[T,_]=v.useState(0);return v.useEffect(()=>{const R=f.current;if(R)return R.addEventListener(Mw,N),()=>R.removeEventListener(Mw,N)},[N]),a.jsx(Mne,{scope:n,orientation:s,dir:g,loop:r,currentTabStopId:p,onItemFocus:v.useCallback(R=>w(R),[w]),onItemShiftTab:v.useCallback(()=>y(!0),[]),onFocusableItemAdd:v.useCallback(()=>_(R=>R+1),[]),onFocusableItemRemove:v.useCallback(()=>_(R=>R-1),[]),children:a.jsx(gt.div,{tabIndex:b||T===0?-1:0,"data-orientation":s,...h,ref:m,style:{outline:"none",...t.style},onMouseDown:mt(t.onMouseDown,()=>{S.current=!0}),onFocus:mt(t.onFocus,R=>{const B=!S.current;if(R.target===R.currentTarget&&B&&!b){const V=new CustomEvent(Mw,Pne);if(R.currentTarget.dispatchEvent(V),!V.defaultPrevented){const U=A().filter(E=>E.focusable),L=U.find(E=>E.active),M=U.find(E=>E.id===p),j=[L,M,...U].filter(Boolean).map(E=>E.ref.current);_F(j,u)}}S.current=!1}),onBlur:mt(t.onBlur,()=>y(!1))})})}),IF="RovingFocusGroupItem",PF=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:r=!1,tabStopId:i,...o}=t,l=Da(),c=i||l,d=One(IF,n),u=d.currentTabStopId===c,h=TF(n),{onFocusableItemAdd:f,onFocusableItemRemove:m}=d;return v.useEffect(()=>{if(s)return f(),()=>m()},[s,f,m]),a.jsx(IN.ItemSlot,{scope:n,id:c,focusable:s,active:r,children:a.jsx(gt.span,{tabIndex:u?0:-1,"data-orientation":d.orientation,...o,ref:e,onMouseDown:mt(t.onMouseDown,g=>{s?d.onItemFocus(c):g.preventDefault()}),onFocus:mt(t.onFocus,()=>d.onItemFocus(c)),onKeyDown:mt(t.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){d.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const p=Lne(g,d.orientation,d.dir);if(p!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let b=h().filter(y=>y.focusable).map(y=>y.ref.current);if(p==="last")b.reverse();else if(p==="prev"||p==="next"){p==="prev"&&b.reverse();const y=b.indexOf(g.currentTarget);b=d.loop?Bne(b,y+1):b.slice(y+1)}setTimeout(()=>_F(b))}})})})});PF.displayName=IF;var $ne={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Fne(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Lne(t,e,n){const s=Fne(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return $ne[s]}function _F(t,e=!1){const n=document.activeElement;for(const s of t)if(s===n||(s.focus({preventScroll:e}),document.activeElement!==n))return}function Bne(t,e){return t.map((n,s)=>t[(e+s)%t.length])}var Une=EF,Vne=PF,xA="Tabs",[zne,oje]=Qo(xA,[CF]),RF=CF(),[Hne,yA]=zne(xA),MF=v.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,onValueChange:r,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=t,u=Wv(l),[h,f]=qa({prop:s,onChange:r,defaultProp:i});return a.jsx(Hne,{scope:n,baseId:Da(),value:h,onValueChange:f,orientation:o,dir:u,activationMode:c,children:a.jsx(gt.div,{dir:u,"data-orientation":o,...d,ref:e})})});MF.displayName=xA;var OF="TabsList",DF=v.forwardRef((t,e)=>{const{__scopeTabs:n,loop:s=!0,...r}=t,i=yA(OF,n),o=RF(n);return a.jsx(Une,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:s,children:a.jsx(gt.div,{role:"tablist","aria-orientation":i.orientation,...r,ref:e})})});DF.displayName=OF;var $F="TabsTrigger",FF=v.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,disabled:r=!1,...i}=t,o=yA($F,n),l=RF(n),c=UF(o.baseId,s),d=VF(o.baseId,s),u=s===o.value;return a.jsx(Vne,{asChild:!0,...l,focusable:!r,active:u,children:a.jsx(gt.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:c,...i,ref:e,onMouseDown:mt(t.onMouseDown,h=>{!r&&h.button===0&&h.ctrlKey===!1?o.onValueChange(s):h.preventDefault()}),onKeyDown:mt(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(s)}),onFocus:mt(t.onFocus,()=>{const h=o.activationMode!=="manual";!u&&!r&&h&&o.onValueChange(s)})})})});FF.displayName=$F;var LF="TabsContent",BF=v.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,forceMount:r,children:i,...o}=t,l=yA(LF,n),c=UF(l.baseId,s),d=VF(l.baseId,s),u=s===l.value,h=v.useRef(u);return v.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),a.jsx(vc,{present:r||u,children:({present:f})=>a.jsx(gt.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:f&&i})})});BF.displayName=LF;function UF(t,e){return`${t}-trigger-${e}`}function VF(t,e){return`${t}-content-${e}`}var Wne=MF,zF=DF,HF=FF,WF=BF;const zo=Wne,Ho=v.forwardRef(({className:t,...e},n)=>a.jsx(zF,{ref:n,className:ut("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Ho.displayName=zF.displayName;const bn=v.forwardRef(({className:t,...e},n)=>a.jsx(HF,{ref:n,className:ut("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));bn.displayName=HF.displayName;const Nn=v.forwardRef(({className:t,...e},n)=>a.jsx(WF,{ref:n,className:ut("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Nn.displayName=WF.displayName;var vA={exports:{}};const Kne={},qne=Object.freeze(Object.defineProperty({__proto__:null,default:Kne},Symbol.toStringTag,{value:"Module"})),Gne=Mz(qne);vA.exports;(function(t){(function(e,n){function s(M,x){if(!M)throw new Error(x||"Assertion failed")}function r(M,x){M.super_=x;var j=function(){};j.prototype=x.prototype,M.prototype=new j,M.prototype.constructor=M}function i(M,x,j){if(i.isBN(M))return M;this.negative=0,this.words=null,this.length=0,this.red=null,M!==null&&((x==="le"||x==="be")&&(j=x,x=10),this._init(M||0,x||10,j||"be"))}typeof e=="object"?e.exports=i:n.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Gne.Buffer}catch{}i.isBN=function(x){return x instanceof i?!0:x!==null&&typeof x=="object"&&x.constructor.wordSize===i.wordSize&&Array.isArray(x.words)},i.max=function(x,j){return x.cmp(j)>0?x:j},i.min=function(x,j){return x.cmp(j)<0?x:j},i.prototype._init=function(x,j,E){if(typeof x=="number")return this._initNumber(x,j,E);if(typeof x=="object")return this._initArray(x,j,E);j==="hex"&&(j=16),s(j===(j|0)&&j>=2&&j<=36),x=x.toString().replace(/\s+/g,"");var D=0;x[0]==="-"&&(D++,this.negative=1),D<x.length&&(j===16?this._parseHex(x,D,E):(this._parseBase(x,j,D),E==="le"&&this._initArray(this.toArray(),j,E)))},i.prototype._initNumber=function(x,j,E){x<0&&(this.negative=1,x=-x),x<67108864?(this.words=[x&67108863],this.length=1):x<4503599627370496?(this.words=[x&67108863,x/67108864&67108863],this.length=2):(s(x<9007199254740992),this.words=[x&67108863,x/67108864&67108863,1],this.length=3),E==="le"&&this._initArray(this.toArray(),j,E)},i.prototype._initArray=function(x,j,E){if(s(typeof x.length=="number"),x.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(x.length/3),this.words=new Array(this.length);for(var D=0;D<this.length;D++)this.words[D]=0;var C,I,F=0;if(E==="be")for(D=x.length-1,C=0;D>=0;D-=3)I=x[D]|x[D-1]<<8|x[D-2]<<16,this.words[C]|=I<<F&67108863,this.words[C+1]=I>>>26-F&67108863,F+=24,F>=26&&(F-=26,C++);else if(E==="le")for(D=0,C=0;D<x.length;D+=3)I=x[D]|x[D+1]<<8|x[D+2]<<16,this.words[C]|=I<<F&67108863,this.words[C+1]=I>>>26-F&67108863,F+=24,F>=26&&(F-=26,C++);return this._strip()};function l(M,x){var j=M.charCodeAt(x);if(j>=48&&j<=57)return j-48;if(j>=65&&j<=70)return j-55;if(j>=97&&j<=102)return j-87;s(!1,"Invalid character in "+M)}function c(M,x,j){var E=l(M,j);return j-1>=x&&(E|=l(M,j-1)<<4),E}i.prototype._parseHex=function(x,j,E){this.length=Math.ceil((x.length-j)/6),this.words=new Array(this.length);for(var D=0;D<this.length;D++)this.words[D]=0;var C=0,I=0,F;if(E==="be")for(D=x.length-1;D>=j;D-=2)F=c(x,j,D)<<C,this.words[I]|=F&67108863,C>=18?(C-=18,I+=1,this.words[I]|=F>>>26):C+=8;else{var O=x.length-j;for(D=O%2===0?j+1:j;D<x.length;D+=2)F=c(x,j,D)<<C,this.words[I]|=F&67108863,C>=18?(C-=18,I+=1,this.words[I]|=F>>>26):C+=8}this._strip()};function d(M,x,j,E){for(var D=0,C=0,I=Math.min(M.length,j),F=x;F<I;F++){var O=M.charCodeAt(F)-48;D*=E,O>=49?C=O-49+10:O>=17?C=O-17+10:C=O,s(O>=0&&C<E,"Invalid character"),D+=C}return D}i.prototype._parseBase=function(x,j,E){this.words=[0],this.length=1;for(var D=0,C=1;C<=67108863;C*=j)D++;D--,C=C/j|0;for(var I=x.length-E,F=I%D,O=Math.min(I,I-F)+E,k=0,$=E;$<O;$+=D)k=d(x,$,$+D,j),this.imuln(C),this.words[0]+k<67108864?this.words[0]+=k:this._iaddn(k);if(F!==0){var G=1;for(k=d(x,$,x.length,j),$=0;$<F;$++)G*=j;this.imuln(G),this.words[0]+k<67108864?this.words[0]+=k:this._iaddn(k)}this._strip()},i.prototype.copy=function(x){x.words=new Array(this.length);for(var j=0;j<this.length;j++)x.words[j]=this.words[j];x.length=this.length,x.negative=this.negative,x.red=this.red};function u(M,x){M.words=x.words,M.length=x.length,M.negative=x.negative,M.red=x.red}if(i.prototype._move=function(x){u(x,this)},i.prototype.clone=function(){var x=new i(null);return this.copy(x),x},i.prototype._expand=function(x){for(;this.length<x;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch{i.prototype.inspect=h}else i.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(x,j){x=x||10,j=j|0||1;var E;if(x===16||x==="hex"){E="";for(var D=0,C=0,I=0;I<this.length;I++){var F=this.words[I],O=((F<<D|C)&16777215).toString(16);C=F>>>24-D&16777215,D+=2,D>=26&&(D-=26,I--),C!==0||I!==this.length-1?E=f[6-O.length]+O+E:E=O+E}for(C!==0&&(E=C.toString(16)+E);E.length%j!==0;)E="0"+E;return this.negative!==0&&(E="-"+E),E}if(x===(x|0)&&x>=2&&x<=36){var k=m[x],$=g[x];E="";var G=this.clone();for(G.negative=0;!G.isZero();){var P=G.modrn($).toString(x);G=G.idivn($),G.isZero()?E=P+E:E=f[k-P.length]+P+E}for(this.isZero()&&(E="0"+E);E.length%j!==0;)E="0"+E;return this.negative!==0&&(E="-"+E),E}s(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var x=this.words[0];return this.length===2?x+=this.words[1]*67108864:this.length===3&&this.words[2]===1?x+=4503599627370496+this.words[1]*67108864:this.length>2&&s(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-x:x},i.prototype.toJSON=function(){return this.toString(16,2)},o&&(i.prototype.toBuffer=function(x,j){return this.toArrayLike(o,x,j)}),i.prototype.toArray=function(x,j){return this.toArrayLike(Array,x,j)};var p=function(x,j){return x.allocUnsafe?x.allocUnsafe(j):new x(j)};i.prototype.toArrayLike=function(x,j,E){this._strip();var D=this.byteLength(),C=E||Math.max(1,D);s(D<=C,"byte array longer than desired length"),s(C>0,"Requested array length <= 0");var I=p(x,C),F=j==="le"?"LE":"BE";return this["_toArrayLike"+F](I,D),I},i.prototype._toArrayLikeLE=function(x,j){for(var E=0,D=0,C=0,I=0;C<this.length;C++){var F=this.words[C]<<I|D;x[E++]=F&255,E<x.length&&(x[E++]=F>>8&255),E<x.length&&(x[E++]=F>>16&255),I===6?(E<x.length&&(x[E++]=F>>24&255),D=0,I=0):(D=F>>>24,I+=2)}if(E<x.length)for(x[E++]=D;E<x.length;)x[E++]=0},i.prototype._toArrayLikeBE=function(x,j){for(var E=x.length-1,D=0,C=0,I=0;C<this.length;C++){var F=this.words[C]<<I|D;x[E--]=F&255,E>=0&&(x[E--]=F>>8&255),E>=0&&(x[E--]=F>>16&255),I===6?(E>=0&&(x[E--]=F>>24&255),D=0,I=0):(D=F>>>24,I+=2)}if(E>=0)for(x[E--]=D;E>=0;)x[E--]=0},Math.clz32?i.prototype._countBits=function(x){return 32-Math.clz32(x)}:i.prototype._countBits=function(x){var j=x,E=0;return j>=4096&&(E+=13,j>>>=13),j>=64&&(E+=7,j>>>=7),j>=8&&(E+=4,j>>>=4),j>=2&&(E+=2,j>>>=2),E+j},i.prototype._zeroBits=function(x){if(x===0)return 26;var j=x,E=0;return j&8191||(E+=13,j>>>=13),j&127||(E+=7,j>>>=7),j&15||(E+=4,j>>>=4),j&3||(E+=2,j>>>=2),j&1||E++,E},i.prototype.bitLength=function(){var x=this.words[this.length-1],j=this._countBits(x);return(this.length-1)*26+j};function w(M){for(var x=new Array(M.bitLength()),j=0;j<x.length;j++){var E=j/26|0,D=j%26;x[j]=M.words[E]>>>D&1}return x}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var x=0,j=0;j<this.length;j++){var E=this._zeroBits(this.words[j]);if(x+=E,E!==26)break}return x},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(x){return this.negative!==0?this.abs().inotn(x).iaddn(1):this.clone()},i.prototype.fromTwos=function(x){return this.testn(x-1)?this.notn(x).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(x){for(;this.length<x.length;)this.words[this.length++]=0;for(var j=0;j<x.length;j++)this.words[j]=this.words[j]|x.words[j];return this._strip()},i.prototype.ior=function(x){return s((this.negative|x.negative)===0),this.iuor(x)},i.prototype.or=function(x){return this.length>x.length?this.clone().ior(x):x.clone().ior(this)},i.prototype.uor=function(x){return this.length>x.length?this.clone().iuor(x):x.clone().iuor(this)},i.prototype.iuand=function(x){var j;this.length>x.length?j=x:j=this;for(var E=0;E<j.length;E++)this.words[E]=this.words[E]&x.words[E];return this.length=j.length,this._strip()},i.prototype.iand=function(x){return s((this.negative|x.negative)===0),this.iuand(x)},i.prototype.and=function(x){return this.length>x.length?this.clone().iand(x):x.clone().iand(this)},i.prototype.uand=function(x){return this.length>x.length?this.clone().iuand(x):x.clone().iuand(this)},i.prototype.iuxor=function(x){var j,E;this.length>x.length?(j=this,E=x):(j=x,E=this);for(var D=0;D<E.length;D++)this.words[D]=j.words[D]^E.words[D];if(this!==j)for(;D<j.length;D++)this.words[D]=j.words[D];return this.length=j.length,this._strip()},i.prototype.ixor=function(x){return s((this.negative|x.negative)===0),this.iuxor(x)},i.prototype.xor=function(x){return this.length>x.length?this.clone().ixor(x):x.clone().ixor(this)},i.prototype.uxor=function(x){return this.length>x.length?this.clone().iuxor(x):x.clone().iuxor(this)},i.prototype.inotn=function(x){s(typeof x=="number"&&x>=0);var j=Math.ceil(x/26)|0,E=x%26;this._expand(j),E>0&&j--;for(var D=0;D<j;D++)this.words[D]=~this.words[D]&67108863;return E>0&&(this.words[D]=~this.words[D]&67108863>>26-E),this._strip()},i.prototype.notn=function(x){return this.clone().inotn(x)},i.prototype.setn=function(x,j){s(typeof x=="number"&&x>=0);var E=x/26|0,D=x%26;return this._expand(E+1),j?this.words[E]=this.words[E]|1<<D:this.words[E]=this.words[E]&~(1<<D),this._strip()},i.prototype.iadd=function(x){var j;if(this.negative!==0&&x.negative===0)return this.negative=0,j=this.isub(x),this.negative^=1,this._normSign();if(this.negative===0&&x.negative!==0)return x.negative=0,j=this.isub(x),x.negative=1,j._normSign();var E,D;this.length>x.length?(E=this,D=x):(E=x,D=this);for(var C=0,I=0;I<D.length;I++)j=(E.words[I]|0)+(D.words[I]|0)+C,this.words[I]=j&67108863,C=j>>>26;for(;C!==0&&I<E.length;I++)j=(E.words[I]|0)+C,this.words[I]=j&67108863,C=j>>>26;if(this.length=E.length,C!==0)this.words[this.length]=C,this.length++;else if(E!==this)for(;I<E.length;I++)this.words[I]=E.words[I];return this},i.prototype.add=function(x){var j;return x.negative!==0&&this.negative===0?(x.negative=0,j=this.sub(x),x.negative^=1,j):x.negative===0&&this.negative!==0?(this.negative=0,j=x.sub(this),this.negative=1,j):this.length>x.length?this.clone().iadd(x):x.clone().iadd(this)},i.prototype.isub=function(x){if(x.negative!==0){x.negative=0;var j=this.iadd(x);return x.negative=1,j._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(x),this.negative=1,this._normSign();var E=this.cmp(x);if(E===0)return this.negative=0,this.length=1,this.words[0]=0,this;var D,C;E>0?(D=this,C=x):(D=x,C=this);for(var I=0,F=0;F<C.length;F++)j=(D.words[F]|0)-(C.words[F]|0)+I,I=j>>26,this.words[F]=j&67108863;for(;I!==0&&F<D.length;F++)j=(D.words[F]|0)+I,I=j>>26,this.words[F]=j&67108863;if(I===0&&F<D.length&&D!==this)for(;F<D.length;F++)this.words[F]=D.words[F];return this.length=Math.max(this.length,F),D!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(x){return this.clone().isub(x)};function b(M,x,j){j.negative=x.negative^M.negative;var E=M.length+x.length|0;j.length=E,E=E-1|0;var D=M.words[0]|0,C=x.words[0]|0,I=D*C,F=I&67108863,O=I/67108864|0;j.words[0]=F;for(var k=1;k<E;k++){for(var $=O>>>26,G=O&67108863,P=Math.min(k,x.length-1),z=Math.max(0,k-M.length+1);z<=P;z++){var K=k-z|0;D=M.words[K]|0,C=x.words[z]|0,I=D*C+G,$+=I/67108864|0,G=I&67108863}j.words[k]=G|0,O=$|0}return O!==0?j.words[k]=O|0:j.length--,j._strip()}var y=function(x,j,E){var D=x.words,C=j.words,I=E.words,F=0,O,k,$,G=D[0]|0,P=G&8191,z=G>>>13,K=D[1]|0,H=K&8191,q=K>>>13,Q=D[2]|0,J=Q&8191,te=Q>>>13,Me=D[3]|0,ee=Me&8191,he=Me>>>13,ke=D[4]|0,se=ke&8191,X=ke>>>13,re=D[5]|0,ve=re&8191,$e=re>>>13,it=D[6]|0,Oe=it&8191,ht=it>>>13,lt=D[7]|0,me=lt&8191,W=lt>>>13,de=D[8]|0,ne=de&8191,le=de>>>13,Ne=D[9]|0,Re=Ne&8191,Pe=Ne>>>13,Lt=C[0]|0,ze=Lt&8191,je=Lt>>>13,We=C[1]|0,be=We&8191,Se=We>>>13,Fe=C[2]|0,_e=Fe&8191,ft=Fe>>>13,Zt=C[3]|0,fe=Zt&8191,ye=Zt>>>13,Ze=C[4]|0,Ke=Ze&8191,qe=Ze>>>13,xt=C[5]|0,Je=xt&8191,Te=xt>>>13,pt=C[6]|0,Ye=pt&8191,st=pt>>>13,Bt=C[7]|0,rt=Bt&8191,ct=Bt>>>13,Ht=C[8]|0,at=Ht&8191,Ie=Ht>>>13,oe=C[9]|0,De=oe&8191,nt=oe>>>13;E.negative=x.negative^j.negative,E.length=19,O=Math.imul(P,ze),k=Math.imul(P,je),k=k+Math.imul(z,ze)|0,$=Math.imul(z,je);var jt=(F+O|0)+((k&8191)<<13)|0;F=($+(k>>>13)|0)+(jt>>>26)|0,jt&=67108863,O=Math.imul(H,ze),k=Math.imul(H,je),k=k+Math.imul(q,ze)|0,$=Math.imul(q,je),O=O+Math.imul(P,be)|0,k=k+Math.imul(P,Se)|0,k=k+Math.imul(z,be)|0,$=$+Math.imul(z,Se)|0;var ae=(F+O|0)+((k&8191)<<13)|0;F=($+(k>>>13)|0)+(ae>>>26)|0,ae&=67108863,O=Math.imul(J,ze),k=Math.imul(J,je),k=k+Math.imul(te,ze)|0,$=Math.imul(te,je),O=O+Math.imul(H,be)|0,k=k+Math.imul(H,Se)|0,k=k+Math.imul(q,be)|0,$=$+Math.imul(q,Se)|0,O=O+Math.imul(P,_e)|0,k=k+Math.imul(P,ft)|0,k=k+Math.imul(z,_e)|0,$=$+Math.imul(z,ft)|0;var St=(F+O|0)+((k&8191)<<13)|0;F=($+(k>>>13)|0)+(St>>>26)|0,St&=67108863,O=Math.imul(ee,ze),k=Math.imul(ee,je),k=k+Math.imul(he,ze)|0,$=Math.imul(he,je),O=O+Math.imul(J,be)|0,k=k+Math.imul(J,Se)|0,k=k+Math.imul(te,be)|0,$=$+Math.imul(te,Se)|0,O=O+Math.imul(H,_e)|0,k=k+Math.imul(H,ft)|0,k=k+Math.imul(q,_e)|0,$=$+Math.imul(q,ft)|0,O=O+Math.imul(P,fe)|0,k=k+Math.imul(P,ye)|0,k=k+Math.imul(z,fe)|0,$=$+Math.imul(z,ye)|0;var Mt=(F+O|0)+((k&8191)<<13)|0;F=($+(k>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,O=Math.imul(se,ze),k=Math.imul(se,je),k=k+Math.imul(X,ze)|0,$=Math.imul(X,je),O=O+Math.imul(ee,be)|0,k=k+Math.imul(ee,Se)|0,k=k+Math.imul(he,be)|0,$=$+Math.imul(he,Se)|0,O=O+Math.imul(J,_e)|0,k=k+Math.imul(J,ft)|0,k=k+Math.imul(te,_e)|0,$=$+Math.imul(te,ft)|0,O=O+Math.imul(H,fe)|0,k=k+Math.imul(H,ye)|0,k=k+Math.imul(q,fe)|0,$=$+Math.imul(q,ye)|0,O=O+Math.imul(P,Ke)|0,k=k+Math.imul(P,qe)|0,k=k+Math.imul(z,Ke)|0,$=$+Math.imul(z,qe)|0;var xe=(F+O|0)+((k&8191)<<13)|0;F=($+(k>>>13)|0)+(xe>>>26)|0,xe&=67108863,O=Math.imul(ve,ze),k=Math.imul(ve,je),k=k+Math.imul($e,ze)|0,$=Math.imul($e,je),O=O+Math.imul(se,be)|0,k=k+Math.imul(se,Se)|0,k=k+Math.imul(X,be)|0,$=$+Math.imul(X,Se)|0,O=O+Math.imul(ee,_e)|0,k=k+Math.imul(ee,ft)|0,k=k+Math.imul(he,_e)|0,$=$+Math.imul(he,ft)|0,O=O+Math.imul(J,fe)|0,k=k+Math.imul(J,ye)|0,k=k+Math.imul(te,fe)|0,$=$+Math.imul(te,ye)|0,O=O+Math.imul(H,Ke)|0,k=k+Math.imul(H,qe)|0,k=k+Math.imul(q,Ke)|0,$=$+Math.imul(q,qe)|0,O=O+Math.imul(P,Je)|0,k=k+Math.imul(P,Te)|0,k=k+Math.imul(z,Je)|0,$=$+Math.imul(z,Te)|0;var mn=(F+O|0)+((k&8191)<<13)|0;F=($+(k>>>13)|0)+(mn>>>26)|0,mn&=67108863,O=Math.imul(Oe,ze),k=Math.imul(Oe,je),k=k+Math.imul(ht,ze)|0,$=Math.imul(ht,je),O=O+Math.imul(ve,be)|0,k=k+Math.imul(ve,Se)|0,k=k+Math.imul($e,be)|0,$=$+Math.imul($e,Se)|0,O=O+Math.imul(se,_e)|0,k=k+Math.imul(se,ft)|0,k=k+Math.imul(X,_e)|0,$=$+Math.imul(X,ft)|0,O=O+Math.imul(ee,fe)|0,k=k+Math.imul(ee,ye)|0,k=k+Math.imul(he,fe)|0,$=$+Math.imul(he,ye)|0,O=O+Math.imul(J,Ke)|0,k=k+Math.imul(J,qe)|0,k=k+Math.imul(te,Ke)|0,$=$+Math.imul(te,qe)|0,O=O+Math.imul(H,Je)|0,k=k+Math.imul(H,Te)|0,k=k+Math.imul(q,Je)|0,$=$+Math.imul(q,Te)|0,O=O+Math.imul(P,Ye)|0,k=k+Math.imul(P,st)|0,k=k+Math.imul(z,Ye)|0,$=$+Math.imul(z,st)|0;var dn=(F+O|0)+((k&8191)<<13)|0;F=($+(k>>>13)|0)+(dn>>>26)|0,dn&=67108863,O=Math.imul(me,ze),k=Math.imul(me,je),k=k+Math.imul(W,ze)|0,$=Math.imul(W,je),O=O+Math.imul(Oe,be)|0,k=k+Math.imul(Oe,Se)|0,k=k+Math.imul(ht,be)|0,$=$+Math.imul(ht,Se)|0,O=O+Math.imul(ve,_e)|0,k=k+Math.imul(ve,ft)|0,k=k+Math.imul($e,_e)|0,$=$+Math.imul($e,ft)|0,O=O+Math.imul(se,fe)|0,k=k+Math.imul(se,ye)|0,k=k+Math.imul(X,fe)|0,$=$+Math.imul(X,ye)|0,O=O+Math.imul(ee,Ke)|0,k=k+Math.imul(ee,qe)|0,k=k+Math.imul(he,Ke)|0,$=$+Math.imul(he,qe)|0,O=O+Math.imul(J,Je)|0,k=k+Math.imul(J,Te)|0,k=k+Math.imul(te,Je)|0,$=$+Math.imul(te,Te)|0,O=O+Math.imul(H,Ye)|0,k=k+Math.imul(H,st)|0,k=k+Math.imul(q,Ye)|0,$=$+Math.imul(q,st)|0,O=O+Math.imul(P,rt)|0,k=k+Math.imul(P,ct)|0,k=k+Math.imul(z,rt)|0,$=$+Math.imul(z,ct)|0;var Xn=(F+O|0)+((k&8191)<<13)|0;F=($+(k>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,O=Math.imul(ne,ze),k=Math.imul(ne,je),k=k+Math.imul(le,ze)|0,$=Math.imul(le,je),O=O+Math.imul(me,be)|0,k=k+Math.imul(me,Se)|0,k=k+Math.imul(W,be)|0,$=$+Math.imul(W,Se)|0,O=O+Math.imul(Oe,_e)|0,k=k+Math.imul(Oe,ft)|0,k=k+Math.imul(ht,_e)|0,$=$+Math.imul(ht,ft)|0,O=O+Math.imul(ve,fe)|0,k=k+Math.imul(ve,ye)|0,k=k+Math.imul($e,fe)|0,$=$+Math.imul($e,ye)|0,O=O+Math.imul(se,Ke)|0,k=k+Math.imul(se,qe)|0,k=k+Math.imul(X,Ke)|0,$=$+Math.imul(X,qe)|0,O=O+Math.imul(ee,Je)|0,k=k+Math.imul(ee,Te)|0,k=k+Math.imul(he,Je)|0,$=$+Math.imul(he,Te)|0,O=O+Math.imul(J,Ye)|0,k=k+Math.imul(J,st)|0,k=k+Math.imul(te,Ye)|0,$=$+Math.imul(te,st)|0,O=O+Math.imul(H,rt)|0,k=k+Math.imul(H,ct)|0,k=k+Math.imul(q,rt)|0,$=$+Math.imul(q,ct)|0,O=O+Math.imul(P,at)|0,k=k+Math.imul(P,Ie)|0,k=k+Math.imul(z,at)|0,$=$+Math.imul(z,Ie)|0;var hn=(F+O|0)+((k&8191)<<13)|0;F=($+(k>>>13)|0)+(hn>>>26)|0,hn&=67108863,O=Math.imul(Re,ze),k=Math.imul(Re,je),k=k+Math.imul(Pe,ze)|0,$=Math.imul(Pe,je),O=O+Math.imul(ne,be)|0,k=k+Math.imul(ne,Se)|0,k=k+Math.imul(le,be)|0,$=$+Math.imul(le,Se)|0,O=O+Math.imul(me,_e)|0,k=k+Math.imul(me,ft)|0,k=k+Math.imul(W,_e)|0,$=$+Math.imul(W,ft)|0,O=O+Math.imul(Oe,fe)|0,k=k+Math.imul(Oe,ye)|0,k=k+Math.imul(ht,fe)|0,$=$+Math.imul(ht,ye)|0,O=O+Math.imul(ve,Ke)|0,k=k+Math.imul(ve,qe)|0,k=k+Math.imul($e,Ke)|0,$=$+Math.imul($e,qe)|0,O=O+Math.imul(se,Je)|0,k=k+Math.imul(se,Te)|0,k=k+Math.imul(X,Je)|0,$=$+Math.imul(X,Te)|0,O=O+Math.imul(ee,Ye)|0,k=k+Math.imul(ee,st)|0,k=k+Math.imul(he,Ye)|0,$=$+Math.imul(he,st)|0,O=O+Math.imul(J,rt)|0,k=k+Math.imul(J,ct)|0,k=k+Math.imul(te,rt)|0,$=$+Math.imul(te,ct)|0,O=O+Math.imul(H,at)|0,k=k+Math.imul(H,Ie)|0,k=k+Math.imul(q,at)|0,$=$+Math.imul(q,Ie)|0,O=O+Math.imul(P,De)|0,k=k+Math.imul(P,nt)|0,k=k+Math.imul(z,De)|0,$=$+Math.imul(z,nt)|0;var en=(F+O|0)+((k&8191)<<13)|0;F=($+(k>>>13)|0)+(en>>>26)|0,en&=67108863,O=Math.imul(Re,be),k=Math.imul(Re,Se),k=k+Math.imul(Pe,be)|0,$=Math.imul(Pe,Se),O=O+Math.imul(ne,_e)|0,k=k+Math.imul(ne,ft)|0,k=k+Math.imul(le,_e)|0,$=$+Math.imul(le,ft)|0,O=O+Math.imul(me,fe)|0,k=k+Math.imul(me,ye)|0,k=k+Math.imul(W,fe)|0,$=$+Math.imul(W,ye)|0,O=O+Math.imul(Oe,Ke)|0,k=k+Math.imul(Oe,qe)|0,k=k+Math.imul(ht,Ke)|0,$=$+Math.imul(ht,qe)|0,O=O+Math.imul(ve,Je)|0,k=k+Math.imul(ve,Te)|0,k=k+Math.imul($e,Je)|0,$=$+Math.imul($e,Te)|0,O=O+Math.imul(se,Ye)|0,k=k+Math.imul(se,st)|0,k=k+Math.imul(X,Ye)|0,$=$+Math.imul(X,st)|0,O=O+Math.imul(ee,rt)|0,k=k+Math.imul(ee,ct)|0,k=k+Math.imul(he,rt)|0,$=$+Math.imul(he,ct)|0,O=O+Math.imul(J,at)|0,k=k+Math.imul(J,Ie)|0,k=k+Math.imul(te,at)|0,$=$+Math.imul(te,Ie)|0,O=O+Math.imul(H,De)|0,k=k+Math.imul(H,nt)|0,k=k+Math.imul(q,De)|0,$=$+Math.imul(q,nt)|0;var At=(F+O|0)+((k&8191)<<13)|0;F=($+(k>>>13)|0)+(At>>>26)|0,At&=67108863,O=Math.imul(Re,_e),k=Math.imul(Re,ft),k=k+Math.imul(Pe,_e)|0,$=Math.imul(Pe,ft),O=O+Math.imul(ne,fe)|0,k=k+Math.imul(ne,ye)|0,k=k+Math.imul(le,fe)|0,$=$+Math.imul(le,ye)|0,O=O+Math.imul(me,Ke)|0,k=k+Math.imul(me,qe)|0,k=k+Math.imul(W,Ke)|0,$=$+Math.imul(W,qe)|0,O=O+Math.imul(Oe,Je)|0,k=k+Math.imul(Oe,Te)|0,k=k+Math.imul(ht,Je)|0,$=$+Math.imul(ht,Te)|0,O=O+Math.imul(ve,Ye)|0,k=k+Math.imul(ve,st)|0,k=k+Math.imul($e,Ye)|0,$=$+Math.imul($e,st)|0,O=O+Math.imul(se,rt)|0,k=k+Math.imul(se,ct)|0,k=k+Math.imul(X,rt)|0,$=$+Math.imul(X,ct)|0,O=O+Math.imul(ee,at)|0,k=k+Math.imul(ee,Ie)|0,k=k+Math.imul(he,at)|0,$=$+Math.imul(he,Ie)|0,O=O+Math.imul(J,De)|0,k=k+Math.imul(J,nt)|0,k=k+Math.imul(te,De)|0,$=$+Math.imul(te,nt)|0;var fr=(F+O|0)+((k&8191)<<13)|0;F=($+(k>>>13)|0)+(fr>>>26)|0,fr&=67108863,O=Math.imul(Re,fe),k=Math.imul(Re,ye),k=k+Math.imul(Pe,fe)|0,$=Math.imul(Pe,ye),O=O+Math.imul(ne,Ke)|0,k=k+Math.imul(ne,qe)|0,k=k+Math.imul(le,Ke)|0,$=$+Math.imul(le,qe)|0,O=O+Math.imul(me,Je)|0,k=k+Math.imul(me,Te)|0,k=k+Math.imul(W,Je)|0,$=$+Math.imul(W,Te)|0,O=O+Math.imul(Oe,Ye)|0,k=k+Math.imul(Oe,st)|0,k=k+Math.imul(ht,Ye)|0,$=$+Math.imul(ht,st)|0,O=O+Math.imul(ve,rt)|0,k=k+Math.imul(ve,ct)|0,k=k+Math.imul($e,rt)|0,$=$+Math.imul($e,ct)|0,O=O+Math.imul(se,at)|0,k=k+Math.imul(se,Ie)|0,k=k+Math.imul(X,at)|0,$=$+Math.imul(X,Ie)|0,O=O+Math.imul(ee,De)|0,k=k+Math.imul(ee,nt)|0,k=k+Math.imul(he,De)|0,$=$+Math.imul(he,nt)|0;var Qs=(F+O|0)+((k&8191)<<13)|0;F=($+(k>>>13)|0)+(Qs>>>26)|0,Qs&=67108863,O=Math.imul(Re,Ke),k=Math.imul(Re,qe),k=k+Math.imul(Pe,Ke)|0,$=Math.imul(Pe,qe),O=O+Math.imul(ne,Je)|0,k=k+Math.imul(ne,Te)|0,k=k+Math.imul(le,Je)|0,$=$+Math.imul(le,Te)|0,O=O+Math.imul(me,Ye)|0,k=k+Math.imul(me,st)|0,k=k+Math.imul(W,Ye)|0,$=$+Math.imul(W,st)|0,O=O+Math.imul(Oe,rt)|0,k=k+Math.imul(Oe,ct)|0,k=k+Math.imul(ht,rt)|0,$=$+Math.imul(ht,ct)|0,O=O+Math.imul(ve,at)|0,k=k+Math.imul(ve,Ie)|0,k=k+Math.imul($e,at)|0,$=$+Math.imul($e,Ie)|0,O=O+Math.imul(se,De)|0,k=k+Math.imul(se,nt)|0,k=k+Math.imul(X,De)|0,$=$+Math.imul(X,nt)|0;var ms=(F+O|0)+((k&8191)<<13)|0;F=($+(k>>>13)|0)+(ms>>>26)|0,ms&=67108863,O=Math.imul(Re,Je),k=Math.imul(Re,Te),k=k+Math.imul(Pe,Je)|0,$=Math.imul(Pe,Te),O=O+Math.imul(ne,Ye)|0,k=k+Math.imul(ne,st)|0,k=k+Math.imul(le,Ye)|0,$=$+Math.imul(le,st)|0,O=O+Math.imul(me,rt)|0,k=k+Math.imul(me,ct)|0,k=k+Math.imul(W,rt)|0,$=$+Math.imul(W,ct)|0,O=O+Math.imul(Oe,at)|0,k=k+Math.imul(Oe,Ie)|0,k=k+Math.imul(ht,at)|0,$=$+Math.imul(ht,Ie)|0,O=O+Math.imul(ve,De)|0,k=k+Math.imul(ve,nt)|0,k=k+Math.imul($e,De)|0,$=$+Math.imul($e,nt)|0;var mr=(F+O|0)+((k&8191)<<13)|0;F=($+(k>>>13)|0)+(mr>>>26)|0,mr&=67108863,O=Math.imul(Re,Ye),k=Math.imul(Re,st),k=k+Math.imul(Pe,Ye)|0,$=Math.imul(Pe,st),O=O+Math.imul(ne,rt)|0,k=k+Math.imul(ne,ct)|0,k=k+Math.imul(le,rt)|0,$=$+Math.imul(le,ct)|0,O=O+Math.imul(me,at)|0,k=k+Math.imul(me,Ie)|0,k=k+Math.imul(W,at)|0,$=$+Math.imul(W,Ie)|0,O=O+Math.imul(Oe,De)|0,k=k+Math.imul(Oe,nt)|0,k=k+Math.imul(ht,De)|0,$=$+Math.imul(ht,nt)|0;var Cc=(F+O|0)+((k&8191)<<13)|0;F=($+(k>>>13)|0)+(Cc>>>26)|0,Cc&=67108863,O=Math.imul(Re,rt),k=Math.imul(Re,ct),k=k+Math.imul(Pe,rt)|0,$=Math.imul(Pe,ct),O=O+Math.imul(ne,at)|0,k=k+Math.imul(ne,Ie)|0,k=k+Math.imul(le,at)|0,$=$+Math.imul(le,Ie)|0,O=O+Math.imul(me,De)|0,k=k+Math.imul(me,nt)|0,k=k+Math.imul(W,De)|0,$=$+Math.imul(W,nt)|0;var Fb=(F+O|0)+((k&8191)<<13)|0;F=($+(k>>>13)|0)+(Fb>>>26)|0,Fb&=67108863,O=Math.imul(Re,at),k=Math.imul(Re,Ie),k=k+Math.imul(Pe,at)|0,$=Math.imul(Pe,Ie),O=O+Math.imul(ne,De)|0,k=k+Math.imul(ne,nt)|0,k=k+Math.imul(le,De)|0,$=$+Math.imul(le,nt)|0;var Lb=(F+O|0)+((k&8191)<<13)|0;F=($+(k>>>13)|0)+(Lb>>>26)|0,Lb&=67108863,O=Math.imul(Re,De),k=Math.imul(Re,nt),k=k+Math.imul(Pe,De)|0,$=Math.imul(Pe,nt);var Bb=(F+O|0)+((k&8191)<<13)|0;return F=($+(k>>>13)|0)+(Bb>>>26)|0,Bb&=67108863,I[0]=jt,I[1]=ae,I[2]=St,I[3]=Mt,I[4]=xe,I[5]=mn,I[6]=dn,I[7]=Xn,I[8]=hn,I[9]=en,I[10]=At,I[11]=fr,I[12]=Qs,I[13]=ms,I[14]=mr,I[15]=Cc,I[16]=Fb,I[17]=Lb,I[18]=Bb,F!==0&&(I[19]=F,E.length++),E};Math.imul||(y=b);function N(M,x,j){j.negative=x.negative^M.negative,j.length=M.length+x.length;for(var E=0,D=0,C=0;C<j.length-1;C++){var I=D;D=0;for(var F=E&67108863,O=Math.min(C,x.length-1),k=Math.max(0,C-M.length+1);k<=O;k++){var $=C-k,G=M.words[$]|0,P=x.words[k]|0,z=G*P,K=z&67108863;I=I+(z/67108864|0)|0,K=K+F|0,F=K&67108863,I=I+(K>>>26)|0,D+=I>>>26,I&=67108863}j.words[C]=F,E=I,I=D}return E!==0?j.words[C]=E:j.length--,j._strip()}function A(M,x,j){return N(M,x,j)}i.prototype.mulTo=function(x,j){var E,D=this.length+x.length;return this.length===10&&x.length===10?E=y(this,x,j):D<63?E=b(this,x,j):D<1024?E=N(this,x,j):E=A(this,x,j),E},i.prototype.mul=function(x){var j=new i(null);return j.words=new Array(this.length+x.length),this.mulTo(x,j)},i.prototype.mulf=function(x){var j=new i(null);return j.words=new Array(this.length+x.length),A(this,x,j)},i.prototype.imul=function(x){return this.clone().mulTo(x,this)},i.prototype.imuln=function(x){var j=x<0;j&&(x=-x),s(typeof x=="number"),s(x<67108864);for(var E=0,D=0;D<this.length;D++){var C=(this.words[D]|0)*x,I=(C&67108863)+(E&67108863);E>>=26,E+=C/67108864|0,E+=I>>>26,this.words[D]=I&67108863}return E!==0&&(this.words[D]=E,this.length++),this.length=x===0?1:this.length,j?this.ineg():this},i.prototype.muln=function(x){return this.clone().imuln(x)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(x){var j=w(x);if(j.length===0)return new i(1);for(var E=this,D=0;D<j.length&&j[D]===0;D++,E=E.sqr());if(++D<j.length)for(var C=E.sqr();D<j.length;D++,C=C.sqr())j[D]!==0&&(E=E.mul(C));return E},i.prototype.iushln=function(x){s(typeof x=="number"&&x>=0);var j=x%26,E=(x-j)/26,D=67108863>>>26-j<<26-j,C;if(j!==0){var I=0;for(C=0;C<this.length;C++){var F=this.words[C]&D,O=(this.words[C]|0)-F<<j;this.words[C]=O|I,I=F>>>26-j}I&&(this.words[C]=I,this.length++)}if(E!==0){for(C=this.length-1;C>=0;C--)this.words[C+E]=this.words[C];for(C=0;C<E;C++)this.words[C]=0;this.length+=E}return this._strip()},i.prototype.ishln=function(x){return s(this.negative===0),this.iushln(x)},i.prototype.iushrn=function(x,j,E){s(typeof x=="number"&&x>=0);var D;j?D=(j-j%26)/26:D=0;var C=x%26,I=Math.min((x-C)/26,this.length),F=67108863^67108863>>>C<<C,O=E;if(D-=I,D=Math.max(0,D),O){for(var k=0;k<I;k++)O.words[k]=this.words[k];O.length=I}if(I!==0)if(this.length>I)for(this.length-=I,k=0;k<this.length;k++)this.words[k]=this.words[k+I];else this.words[0]=0,this.length=1;var $=0;for(k=this.length-1;k>=0&&($!==0||k>=D);k--){var G=this.words[k]|0;this.words[k]=$<<26-C|G>>>C,$=G&F}return O&&$!==0&&(O.words[O.length++]=$),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(x,j,E){return s(this.negative===0),this.iushrn(x,j,E)},i.prototype.shln=function(x){return this.clone().ishln(x)},i.prototype.ushln=function(x){return this.clone().iushln(x)},i.prototype.shrn=function(x){return this.clone().ishrn(x)},i.prototype.ushrn=function(x){return this.clone().iushrn(x)},i.prototype.testn=function(x){s(typeof x=="number"&&x>=0);var j=x%26,E=(x-j)/26,D=1<<j;if(this.length<=E)return!1;var C=this.words[E];return!!(C&D)},i.prototype.imaskn=function(x){s(typeof x=="number"&&x>=0);var j=x%26,E=(x-j)/26;if(s(this.negative===0,"imaskn works only with positive numbers"),this.length<=E)return this;if(j!==0&&E++,this.length=Math.min(E,this.length),j!==0){var D=67108863^67108863>>>j<<j;this.words[this.length-1]&=D}return this._strip()},i.prototype.maskn=function(x){return this.clone().imaskn(x)},i.prototype.iaddn=function(x){return s(typeof x=="number"),s(x<67108864),x<0?this.isubn(-x):this.negative!==0?this.length===1&&(this.words[0]|0)<=x?(this.words[0]=x-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(x),this.negative=1,this):this._iaddn(x)},i.prototype._iaddn=function(x){this.words[0]+=x;for(var j=0;j<this.length&&this.words[j]>=67108864;j++)this.words[j]-=67108864,j===this.length-1?this.words[j+1]=1:this.words[j+1]++;return this.length=Math.max(this.length,j+1),this},i.prototype.isubn=function(x){if(s(typeof x=="number"),s(x<67108864),x<0)return this.iaddn(-x);if(this.negative!==0)return this.negative=0,this.iaddn(x),this.negative=1,this;if(this.words[0]-=x,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var j=0;j<this.length&&this.words[j]<0;j++)this.words[j]+=67108864,this.words[j+1]-=1;return this._strip()},i.prototype.addn=function(x){return this.clone().iaddn(x)},i.prototype.subn=function(x){return this.clone().isubn(x)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(x,j,E){var D=x.length+E,C;this._expand(D);var I,F=0;for(C=0;C<x.length;C++){I=(this.words[C+E]|0)+F;var O=(x.words[C]|0)*j;I-=O&67108863,F=(I>>26)-(O/67108864|0),this.words[C+E]=I&67108863}for(;C<this.length-E;C++)I=(this.words[C+E]|0)+F,F=I>>26,this.words[C+E]=I&67108863;if(F===0)return this._strip();for(s(F===-1),F=0,C=0;C<this.length;C++)I=-(this.words[C]|0)+F,F=I>>26,this.words[C]=I&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(x,j){var E=this.length-x.length,D=this.clone(),C=x,I=C.words[C.length-1]|0,F=this._countBits(I);E=26-F,E!==0&&(C=C.ushln(E),D.iushln(E),I=C.words[C.length-1]|0);var O=D.length-C.length,k;if(j!=="mod"){k=new i(null),k.length=O+1,k.words=new Array(k.length);for(var $=0;$<k.length;$++)k.words[$]=0}var G=D.clone()._ishlnsubmul(C,1,O);G.negative===0&&(D=G,k&&(k.words[O]=1));for(var P=O-1;P>=0;P--){var z=(D.words[C.length+P]|0)*67108864+(D.words[C.length+P-1]|0);for(z=Math.min(z/I|0,67108863),D._ishlnsubmul(C,z,P);D.negative!==0;)z--,D.negative=0,D._ishlnsubmul(C,1,P),D.isZero()||(D.negative^=1);k&&(k.words[P]=z)}return k&&k._strip(),D._strip(),j!=="div"&&E!==0&&D.iushrn(E),{div:k||null,mod:D}},i.prototype.divmod=function(x,j,E){if(s(!x.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var D,C,I;return this.negative!==0&&x.negative===0?(I=this.neg().divmod(x,j),j!=="mod"&&(D=I.div.neg()),j!=="div"&&(C=I.mod.neg(),E&&C.negative!==0&&C.iadd(x)),{div:D,mod:C}):this.negative===0&&x.negative!==0?(I=this.divmod(x.neg(),j),j!=="mod"&&(D=I.div.neg()),{div:D,mod:I.mod}):this.negative&x.negative?(I=this.neg().divmod(x.neg(),j),j!=="div"&&(C=I.mod.neg(),E&&C.negative!==0&&C.isub(x)),{div:I.div,mod:C}):x.length>this.length||this.cmp(x)<0?{div:new i(0),mod:this}:x.length===1?j==="div"?{div:this.divn(x.words[0]),mod:null}:j==="mod"?{div:null,mod:new i(this.modrn(x.words[0]))}:{div:this.divn(x.words[0]),mod:new i(this.modrn(x.words[0]))}:this._wordDiv(x,j)},i.prototype.div=function(x){return this.divmod(x,"div",!1).div},i.prototype.mod=function(x){return this.divmod(x,"mod",!1).mod},i.prototype.umod=function(x){return this.divmod(x,"mod",!0).mod},i.prototype.divRound=function(x){var j=this.divmod(x);if(j.mod.isZero())return j.div;var E=j.div.negative!==0?j.mod.isub(x):j.mod,D=x.ushrn(1),C=x.andln(1),I=E.cmp(D);return I<0||C===1&&I===0?j.div:j.div.negative!==0?j.div.isubn(1):j.div.iaddn(1)},i.prototype.modrn=function(x){var j=x<0;j&&(x=-x),s(x<=67108863);for(var E=(1<<26)%x,D=0,C=this.length-1;C>=0;C--)D=(E*D+(this.words[C]|0))%x;return j?-D:D},i.prototype.modn=function(x){return this.modrn(x)},i.prototype.idivn=function(x){var j=x<0;j&&(x=-x),s(x<=67108863);for(var E=0,D=this.length-1;D>=0;D--){var C=(this.words[D]|0)+E*67108864;this.words[D]=C/x|0,E=C%x}return this._strip(),j?this.ineg():this},i.prototype.divn=function(x){return this.clone().idivn(x)},i.prototype.egcd=function(x){s(x.negative===0),s(!x.isZero());var j=this,E=x.clone();j.negative!==0?j=j.umod(x):j=j.clone();for(var D=new i(1),C=new i(0),I=new i(0),F=new i(1),O=0;j.isEven()&&E.isEven();)j.iushrn(1),E.iushrn(1),++O;for(var k=E.clone(),$=j.clone();!j.isZero();){for(var G=0,P=1;!(j.words[0]&P)&&G<26;++G,P<<=1);if(G>0)for(j.iushrn(G);G-- >0;)(D.isOdd()||C.isOdd())&&(D.iadd(k),C.isub($)),D.iushrn(1),C.iushrn(1);for(var z=0,K=1;!(E.words[0]&K)&&z<26;++z,K<<=1);if(z>0)for(E.iushrn(z);z-- >0;)(I.isOdd()||F.isOdd())&&(I.iadd(k),F.isub($)),I.iushrn(1),F.iushrn(1);j.cmp(E)>=0?(j.isub(E),D.isub(I),C.isub(F)):(E.isub(j),I.isub(D),F.isub(C))}return{a:I,b:F,gcd:E.iushln(O)}},i.prototype._invmp=function(x){s(x.negative===0),s(!x.isZero());var j=this,E=x.clone();j.negative!==0?j=j.umod(x):j=j.clone();for(var D=new i(1),C=new i(0),I=E.clone();j.cmpn(1)>0&&E.cmpn(1)>0;){for(var F=0,O=1;!(j.words[0]&O)&&F<26;++F,O<<=1);if(F>0)for(j.iushrn(F);F-- >0;)D.isOdd()&&D.iadd(I),D.iushrn(1);for(var k=0,$=1;!(E.words[0]&$)&&k<26;++k,$<<=1);if(k>0)for(E.iushrn(k);k-- >0;)C.isOdd()&&C.iadd(I),C.iushrn(1);j.cmp(E)>=0?(j.isub(E),D.isub(C)):(E.isub(j),C.isub(D))}var G;return j.cmpn(1)===0?G=D:G=C,G.cmpn(0)<0&&G.iadd(x),G},i.prototype.gcd=function(x){if(this.isZero())return x.abs();if(x.isZero())return this.abs();var j=this.clone(),E=x.clone();j.negative=0,E.negative=0;for(var D=0;j.isEven()&&E.isEven();D++)j.iushrn(1),E.iushrn(1);do{for(;j.isEven();)j.iushrn(1);for(;E.isEven();)E.iushrn(1);var C=j.cmp(E);if(C<0){var I=j;j=E,E=I}else if(C===0||E.cmpn(1)===0)break;j.isub(E)}while(!0);return E.iushln(D)},i.prototype.invm=function(x){return this.egcd(x).a.umod(x)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(x){return this.words[0]&x},i.prototype.bincn=function(x){s(typeof x=="number");var j=x%26,E=(x-j)/26,D=1<<j;if(this.length<=E)return this._expand(E+1),this.words[E]|=D,this;for(var C=D,I=E;C!==0&&I<this.length;I++){var F=this.words[I]|0;F+=C,C=F>>>26,F&=67108863,this.words[I]=F}return C!==0&&(this.words[I]=C,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(x){var j=x<0;if(this.negative!==0&&!j)return-1;if(this.negative===0&&j)return 1;this._strip();var E;if(this.length>1)E=1;else{j&&(x=-x),s(x<=67108863,"Number is too big");var D=this.words[0]|0;E=D===x?0:D<x?-1:1}return this.negative!==0?-E|0:E},i.prototype.cmp=function(x){if(this.negative!==0&&x.negative===0)return-1;if(this.negative===0&&x.negative!==0)return 1;var j=this.ucmp(x);return this.negative!==0?-j|0:j},i.prototype.ucmp=function(x){if(this.length>x.length)return 1;if(this.length<x.length)return-1;for(var j=0,E=this.length-1;E>=0;E--){var D=this.words[E]|0,C=x.words[E]|0;if(D!==C){D<C?j=-1:D>C&&(j=1);break}}return j},i.prototype.gtn=function(x){return this.cmpn(x)===1},i.prototype.gt=function(x){return this.cmp(x)===1},i.prototype.gten=function(x){return this.cmpn(x)>=0},i.prototype.gte=function(x){return this.cmp(x)>=0},i.prototype.ltn=function(x){return this.cmpn(x)===-1},i.prototype.lt=function(x){return this.cmp(x)===-1},i.prototype.lten=function(x){return this.cmpn(x)<=0},i.prototype.lte=function(x){return this.cmp(x)<=0},i.prototype.eqn=function(x){return this.cmpn(x)===0},i.prototype.eq=function(x){return this.cmp(x)===0},i.red=function(x){return new U(x)},i.prototype.toRed=function(x){return s(!this.red,"Already a number in reduction context"),s(this.negative===0,"red works only with positives"),x.convertTo(this)._forceRed(x)},i.prototype.fromRed=function(){return s(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(x){return this.red=x,this},i.prototype.forceRed=function(x){return s(!this.red,"Already a number in reduction context"),this._forceRed(x)},i.prototype.redAdd=function(x){return s(this.red,"redAdd works only with red numbers"),this.red.add(this,x)},i.prototype.redIAdd=function(x){return s(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,x)},i.prototype.redSub=function(x){return s(this.red,"redSub works only with red numbers"),this.red.sub(this,x)},i.prototype.redISub=function(x){return s(this.red,"redISub works only with red numbers"),this.red.isub(this,x)},i.prototype.redShl=function(x){return s(this.red,"redShl works only with red numbers"),this.red.shl(this,x)},i.prototype.redMul=function(x){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,x),this.red.mul(this,x)},i.prototype.redIMul=function(x){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,x),this.red.imul(this,x)},i.prototype.redSqr=function(){return s(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return s(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return s(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return s(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return s(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(x){return s(this.red&&!x.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,x)};var S={k256:null,p224:null,p192:null,p25519:null};function T(M,x){this.name=M,this.p=new i(x,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}T.prototype._tmp=function(){var x=new i(null);return x.words=new Array(Math.ceil(this.n/13)),x},T.prototype.ireduce=function(x){var j=x,E;do this.split(j,this.tmp),j=this.imulK(j),j=j.iadd(this.tmp),E=j.bitLength();while(E>this.n);var D=E<this.n?-1:j.ucmp(this.p);return D===0?(j.words[0]=0,j.length=1):D>0?j.isub(this.p):j.strip!==void 0?j.strip():j._strip(),j},T.prototype.split=function(x,j){x.iushrn(this.n,0,j)},T.prototype.imulK=function(x){return x.imul(this.k)};function _(){T.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}r(_,T),_.prototype.split=function(x,j){for(var E=4194303,D=Math.min(x.length,9),C=0;C<D;C++)j.words[C]=x.words[C];if(j.length=D,x.length<=9){x.words[0]=0,x.length=1;return}var I=x.words[9];for(j.words[j.length++]=I&E,C=10;C<x.length;C++){var F=x.words[C]|0;x.words[C-10]=(F&E)<<4|I>>>22,I=F}I>>>=22,x.words[C-10]=I,I===0&&x.length>10?x.length-=10:x.length-=9},_.prototype.imulK=function(x){x.words[x.length]=0,x.words[x.length+1]=0,x.length+=2;for(var j=0,E=0;E<x.length;E++){var D=x.words[E]|0;j+=D*977,x.words[E]=j&67108863,j=D*64+(j/67108864|0)}return x.words[x.length-1]===0&&(x.length--,x.words[x.length-1]===0&&x.length--),x};function R(){T.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}r(R,T);function B(){T.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}r(B,T);function V(){T.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}r(V,T),V.prototype.imulK=function(x){for(var j=0,E=0;E<x.length;E++){var D=(x.words[E]|0)*19+j,C=D&67108863;D>>>=26,x.words[E]=C,j=D}return j!==0&&(x.words[x.length++]=j),x},i._prime=function(x){if(S[x])return S[x];var j;if(x==="k256")j=new _;else if(x==="p224")j=new R;else if(x==="p192")j=new B;else if(x==="p25519")j=new V;else throw new Error("Unknown prime "+x);return S[x]=j,j};function U(M){if(typeof M=="string"){var x=i._prime(M);this.m=x.p,this.prime=x}else s(M.gtn(1),"modulus must be greater than 1"),this.m=M,this.prime=null}U.prototype._verify1=function(x){s(x.negative===0,"red works only with positives"),s(x.red,"red works only with red numbers")},U.prototype._verify2=function(x,j){s((x.negative|j.negative)===0,"red works only with positives"),s(x.red&&x.red===j.red,"red works only with red numbers")},U.prototype.imod=function(x){return this.prime?this.prime.ireduce(x)._forceRed(this):(u(x,x.umod(this.m)._forceRed(this)),x)},U.prototype.neg=function(x){return x.isZero()?x.clone():this.m.sub(x)._forceRed(this)},U.prototype.add=function(x,j){this._verify2(x,j);var E=x.add(j);return E.cmp(this.m)>=0&&E.isub(this.m),E._forceRed(this)},U.prototype.iadd=function(x,j){this._verify2(x,j);var E=x.iadd(j);return E.cmp(this.m)>=0&&E.isub(this.m),E},U.prototype.sub=function(x,j){this._verify2(x,j);var E=x.sub(j);return E.cmpn(0)<0&&E.iadd(this.m),E._forceRed(this)},U.prototype.isub=function(x,j){this._verify2(x,j);var E=x.isub(j);return E.cmpn(0)<0&&E.iadd(this.m),E},U.prototype.shl=function(x,j){return this._verify1(x),this.imod(x.ushln(j))},U.prototype.imul=function(x,j){return this._verify2(x,j),this.imod(x.imul(j))},U.prototype.mul=function(x,j){return this._verify2(x,j),this.imod(x.mul(j))},U.prototype.isqr=function(x){return this.imul(x,x.clone())},U.prototype.sqr=function(x){return this.mul(x,x)},U.prototype.sqrt=function(x){if(x.isZero())return x.clone();var j=this.m.andln(3);if(s(j%2===1),j===3){var E=this.m.add(new i(1)).iushrn(2);return this.pow(x,E)}for(var D=this.m.subn(1),C=0;!D.isZero()&&D.andln(1)===0;)C++,D.iushrn(1);s(!D.isZero());var I=new i(1).toRed(this),F=I.redNeg(),O=this.m.subn(1).iushrn(1),k=this.m.bitLength();for(k=new i(2*k*k).toRed(this);this.pow(k,O).cmp(F)!==0;)k.redIAdd(F);for(var $=this.pow(k,D),G=this.pow(x,D.addn(1).iushrn(1)),P=this.pow(x,D),z=C;P.cmp(I)!==0;){for(var K=P,H=0;K.cmp(I)!==0;H++)K=K.redSqr();s(H<z);var q=this.pow($,new i(1).iushln(z-H-1));G=G.redMul(q),$=q.redSqr(),P=P.redMul($),z=H}return G},U.prototype.invm=function(x){var j=x._invmp(this.m);return j.negative!==0?(j.negative=0,this.imod(j).redNeg()):this.imod(j)},U.prototype.pow=function(x,j){if(j.isZero())return new i(1).toRed(this);if(j.cmpn(1)===0)return x.clone();var E=4,D=new Array(1<<E);D[0]=new i(1).toRed(this),D[1]=x;for(var C=2;C<D.length;C++)D[C]=this.mul(D[C-1],x);var I=D[0],F=0,O=0,k=j.bitLength()%26;for(k===0&&(k=26),C=j.length-1;C>=0;C--){for(var $=j.words[C],G=k-1;G>=0;G--){var P=$>>G&1;if(I!==D[0]&&(I=this.sqr(I)),P===0&&F===0){O=0;continue}F<<=1,F|=P,O++,!(O!==E&&(C!==0||G!==0))&&(I=this.mul(I,D[F]),O=0,F=0)}k=26}return I},U.prototype.convertTo=function(x){var j=x.umod(this.m);return j===x?j.clone():j},U.prototype.convertFrom=function(x){var j=x.clone();return j.red=null,j},i.mont=function(x){return new L(x)};function L(M){U.call(this,M),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}r(L,U),L.prototype.convertTo=function(x){return this.imod(x.ushln(this.shift))},L.prototype.convertFrom=function(x){var j=this.imod(x.mul(this.rinv));return j.red=null,j},L.prototype.imul=function(x,j){if(x.isZero()||j.isZero())return x.words[0]=0,x.length=1,x;var E=x.imul(j),D=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=E.isub(D).iushrn(this.shift),I=C;return C.cmp(this.m)>=0?I=C.isub(this.m):C.cmpn(0)<0&&(I=C.iadd(this.m)),I._forceRed(this)},L.prototype.mul=function(x,j){if(x.isZero()||j.isZero())return new i(0)._forceRed(this);var E=x.mul(j),D=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=E.isub(D).iushrn(this.shift),I=C;return C.cmp(this.m)>=0?I=C.isub(this.m):C.cmpn(0)<0&&(I=C.iadd(this.m)),I._forceRed(this)},L.prototype.invm=function(x){var j=this.imod(x._invmp(this.m).mul(this.r2));return j._forceRed(this)}})(t,BM)})(vA);var Yne=vA.exports;const kt=Kd(Yne),Xne="logger/5.8.0";let hP=!1,fP=!1;const xx={debug:1,default:2,info:2,warning:3,error:4,off:5};let mP=xx.default,Ow=null;function Qne(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const pP=Qne();var PN;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(PN||(PN={}));var Ui;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Ui||(Ui={}));const gP="0123456789abcdef";let ie=class is{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,n){const s=e.toLowerCase();xx[s]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(mP>xx[s])&&console.log.apply(console,n)}debug(...e){this._log(is.levels.DEBUG,e)}info(...e){this._log(is.levels.INFO,e)}warn(...e){this._log(is.levels.WARNING,e)}makeError(e,n,s){if(fP)return this.makeError("censored error",n,{});n||(n=is.errors.UNKNOWN_ERROR),s||(s={});const r=[];Object.keys(s).forEach(c=>{const d=s[c];try{if(d instanceof Uint8Array){let u="";for(let h=0;h<d.length;h++)u+=gP[d[h]>>4],u+=gP[d[h]&15];r.push(c+"=Uint8Array(0x"+u+")")}else r.push(c+"="+JSON.stringify(d))}catch{r.push(c+"="+JSON.stringify(s[c].toString()))}}),r.push(`code=${n}`),r.push(`version=${this.version}`);const i=e;let o="";switch(n){case Ui.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Ui.CALL_EXCEPTION:case Ui.INSUFFICIENT_FUNDS:case Ui.MISSING_NEW:case Ui.NONCE_EXPIRED:case Ui.REPLACEMENT_UNDERPRICED:case Ui.TRANSACTION_REPLACED:case Ui.UNPREDICTABLE_GAS_LIMIT:o=n;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),r.length&&(e+=" ("+r.join(", ")+")");const l=new Error(e);return l.reason=i,l.code=n,Object.keys(s).forEach(function(c){l[c]=s[c]}),l}throwError(e,n,s){throw this.makeError(e,n,s)}throwArgumentError(e,n,s){return this.throwError(e,is.errors.INVALID_ARGUMENT,{argument:n,value:s})}assert(e,n,s,r){e||this.throwError(n,s,r)}assertArgument(e,n,s,r){e||this.throwArgumentError(n,s,r)}checkNormalize(e){pP&&this.throwError("platform missing String.prototype.normalize",is.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:pP})}checkSafeUint53(e,n){typeof e=="number"&&(n==null&&(n="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(n,is.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(n,is.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,n,s){s?s=": "+s:s="",e<n&&this.throwError("missing argument"+s,is.errors.MISSING_ARGUMENT,{count:e,expectedCount:n}),e>n&&this.throwError("too many arguments"+s,is.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:n})}checkNew(e,n){(e===Object||e==null)&&this.throwError("missing new",is.errors.MISSING_NEW,{name:n.name})}checkAbstract(e,n){e===n?this.throwError("cannot instantiate abstract class "+JSON.stringify(n.name)+" directly; use a sub-class",is.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",is.errors.MISSING_NEW,{name:n.name})}static globalLogger(){return Ow||(Ow=new is(Xne)),Ow}static setCensorship(e,n){if(!e&&n&&this.globalLogger().throwError("cannot permanently disable censorship",is.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),hP){if(!e)return;this.globalLogger().throwError("error censorship permanent",is.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}fP=!!e,hP=!!n}static setLogLevel(e){const n=xx[e.toLowerCase()];if(n==null){is.globalLogger().warn("invalid log level - "+e);return}mP=n}static from(e){return new is(e)}};ie.errors=Ui;ie.levels=PN;const Jne="bytes/5.8.0",Dn=new ie(Jne);function KF(t){return!!t.toHexString}function qu(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return qu(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Zv(t){return Yt(t)&&!(t.length%2)||Xd(t)}function xP(t){return typeof t=="number"&&t==t&&t%1===0}function Xd(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!xP(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const n=t[e];if(!xP(n)||n<0||n>=256)return!1}return!0}function ot(t,e){if(e||(e={}),typeof t=="number"){Dn.checkSafeUint53(t,"invalid arrayify value");const n=[];for(;t;)n.unshift(t&255),t=parseInt(String(t/256));return n.length===0&&n.push(0),qu(new Uint8Array(n))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),KF(t)&&(t=t.toHexString()),Yt(t)){let n=t.substring(2);n.length%2&&(e.hexPad==="left"?n="0"+n:e.hexPad==="right"?n+="0":Dn.throwArgumentError("hex data is odd-length","value",t));const s=[];for(let r=0;r<n.length;r+=2)s.push(parseInt(n.substring(r,r+2),16));return qu(new Uint8Array(s))}return Xd(t)?qu(new Uint8Array(t)):Dn.throwArgumentError("invalid arrayify value","value",t)}function or(t){const e=t.map(r=>ot(r)),n=e.reduce((r,i)=>r+i.length,0),s=new Uint8Array(n);return e.reduce((r,i)=>(s.set(i,r),r+i.length),0),qu(s)}function _o(t){let e=ot(t);if(e.length===0)return e;let n=0;for(;n<e.length&&e[n]===0;)n++;return n&&(e=e.slice(n)),e}function Zne(t,e){t=ot(t),t.length>e&&Dn.throwArgumentError("value out of range","value",arguments[0]);const n=new Uint8Array(e);return n.set(t,e-t.length),qu(n)}function Yt(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const Dw="0123456789abcdef";function tt(t,e){if(e||(e={}),typeof t=="number"){Dn.checkSafeUint53(t,"invalid hexlify value");let n="";for(;t;)n=Dw[t&15]+n,t=Math.floor(t/16);return n.length?(n.length%2&&(n="0"+n),"0x"+n):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),KF(t))return t.toHexString();if(Yt(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":Dn.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(Xd(t)){let n="0x";for(let s=0;s<t.length;s++){let r=t[s];n+=Dw[(r&240)>>4]+Dw[r&15]}return n}return Dn.throwArgumentError("invalid hexlify value","value",t)}function _d(t){if(typeof t!="string")t=tt(t);else if(!Yt(t)||t.length%2)return null;return(t.length-2)/2}function Fs(t,e,n){return typeof t!="string"?t=tt(t):(!Yt(t)||t.length%2)&&Dn.throwArgumentError("invalid hexData","value",t),e=2+2*e,n!=null?"0x"+t.substring(e,2+2*n):"0x"+t.substring(e)}function jr(t){let e="0x";return t.forEach(n=>{e+=tt(n).substring(2)}),e}function bA(t){const e=ese(tt(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function ese(t){typeof t!="string"&&(t=tt(t)),Yt(t)||Dn.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function jn(t,e){for(typeof t!="string"?t=tt(t):Yt(t)||Dn.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&Dn.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function rf(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(Zv(t)){let n=ot(t);n.length===64?(e.v=27+(n[32]>>7),n[32]&=127,e.r=tt(n.slice(0,32)),e.s=tt(n.slice(32,64))):n.length===65?(e.r=tt(n.slice(0,32)),e.s=tt(n.slice(32,64)),e.v=n[64]):Dn.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:Dn.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(n[32]|=128),e._vs=tt(n.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const r=Zne(ot(e._vs),32);e._vs=tt(r);const i=r[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=i:e.recoveryParam!==i&&Dn.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),r[0]&=127;const o=tt(r);e.s==null?e.s=o:e.s!==o&&Dn.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?Dn.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const r=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==r&&Dn.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!Yt(e.r)?Dn.throwArgumentError("signature missing or invalid r","signature",t):e.r=jn(e.r,32),e.s==null||!Yt(e.s)?Dn.throwArgumentError("signature missing or invalid s","signature",t):e.s=jn(e.s,32);const n=ot(e.s);n[0]>=128&&Dn.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(n[0]|=128);const s=tt(n);e._vs&&(Yt(e._vs)||Dn.throwArgumentError("signature invalid _vs","signature",t),e._vs=jn(e._vs,32)),e._vs==null?e._vs=s:e._vs!==s&&Dn.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function lje(t){return t=rf(t),tt(or([t.r,t.s,t.recoveryParam?"0x1c":"0x1b"]))}const qF="bignumber/5.8.0";var _y=kt.BN;const po=new ie(qF),$w={},yP=9007199254740991;function tse(t){return t!=null&&(Ve.isBigNumber(t)||typeof t=="number"&&t%1===0||typeof t=="string"&&!!t.match(/^-?[0-9]+$/)||Yt(t)||typeof t=="bigint"||Xd(t))}let vP=!1,Ve=class Oi{constructor(e,n){e!==$w&&po.throwError("cannot call constructor directly; use BigNumber.from",ie.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=n,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return pr(Ut(this).fromTwos(e))}toTwos(e){return pr(Ut(this).toTwos(e))}abs(){return this._hex[0]==="-"?Oi.from(this._hex.substring(1)):this}add(e){return pr(Ut(this).add(Ut(e)))}sub(e){return pr(Ut(this).sub(Ut(e)))}div(e){return Oi.from(e).isZero()&&ai("division-by-zero","div"),pr(Ut(this).div(Ut(e)))}mul(e){return pr(Ut(this).mul(Ut(e)))}mod(e){const n=Ut(e);return n.isNeg()&&ai("division-by-zero","mod"),pr(Ut(this).umod(n))}pow(e){const n=Ut(e);return n.isNeg()&&ai("negative-power","pow"),pr(Ut(this).pow(n))}and(e){const n=Ut(e);return(this.isNegative()||n.isNeg())&&ai("unbound-bitwise-result","and"),pr(Ut(this).and(n))}or(e){const n=Ut(e);return(this.isNegative()||n.isNeg())&&ai("unbound-bitwise-result","or"),pr(Ut(this).or(n))}xor(e){const n=Ut(e);return(this.isNegative()||n.isNeg())&&ai("unbound-bitwise-result","xor"),pr(Ut(this).xor(n))}mask(e){return(this.isNegative()||e<0)&&ai("negative-width","mask"),pr(Ut(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&ai("negative-width","shl"),pr(Ut(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&ai("negative-width","shr"),pr(Ut(this).shrn(e))}eq(e){return Ut(this).eq(Ut(e))}lt(e){return Ut(this).lt(Ut(e))}lte(e){return Ut(this).lte(Ut(e))}gt(e){return Ut(this).gt(Ut(e))}gte(e){return Ut(this).gte(Ut(e))}isNegative(){return this._hex[0]==="-"}isZero(){return Ut(this).isZero()}toNumber(){try{return Ut(this).toNumber()}catch{ai("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return po.throwError("this platform does not support BigInt",ie.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?vP||(vP=!0,po.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?po.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",ie.errors.UNEXPECTED_ARGUMENT,{}):po.throwError("BigNumber.toString does not accept parameters",ie.errors.UNEXPECTED_ARGUMENT,{})),Ut(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof Oi)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new Oi($w,mp(e)):e.match(/^-?[0-9]+$/)?new Oi($w,mp(new _y(e))):po.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&ai("underflow","BigNumber.from",e),(e>=yP||e<=-yP)&&ai("overflow","BigNumber.from",e),Oi.from(String(e));const n=e;if(typeof n=="bigint")return Oi.from(n.toString());if(Xd(n))return Oi.from(tt(n));if(n)if(n.toHexString){const s=n.toHexString();if(typeof s=="string")return Oi.from(s)}else{let s=n._hex;if(s==null&&n.type==="BigNumber"&&(s=n.hex),typeof s=="string"&&(Yt(s)||s[0]==="-"&&Yt(s.substring(1))))return Oi.from(s)}return po.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}};function mp(t){if(typeof t!="string")return mp(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&po.throwArgumentError("invalid hex","value",t),t=mp(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function pr(t){return Ve.from(mp(t))}function Ut(t){const e=Ve.from(t).toHexString();return e[0]==="-"?new _y("-"+e.substring(3),16):new _y(e.substring(2),16)}function ai(t,e,n){const s={fault:t,operation:e};return n!=null&&(s.value=n),po.throwError(t,ie.errors.NUMERIC_FAULT,s)}function nse(t){return new _y(t,36).toString(16)}const rr=new ie(qF),Nm={},GF=Ve.from(0),YF=Ve.from(-1);function XF(t,e,n,s){const r={fault:e,operation:n};return s!==void 0&&(r.value=s),rr.throwError(t,ie.errors.NUMERIC_FAULT,r)}let km="0";for(;km.length<256;)km+=km;function wA(t){if(typeof t!="number")try{t=Ve.from(t).toNumber()}catch{}return typeof t=="number"&&t>=0&&t<=256&&!(t%1)?"1"+km.substring(0,t):rr.throwArgumentError("invalid decimal size","decimals",t)}function yx(t,e){e==null&&(e=0);const n=wA(e);t=Ve.from(t);const s=t.lt(GF);s&&(t=t.mul(YF));let r=t.mod(n).toString();for(;r.length<n.length-1;)r="0"+r;r=r.match(/^([0-9]*[1-9]|0)(0*)/)[1];const i=t.div(n).toString();return n.length===1?t=i:t=i+"."+r,s&&(t="-"+t),t}function ya(t,e){e==null&&(e=0);const n=wA(e);(typeof t!="string"||!t.match(/^-?[0-9.]+$/))&&rr.throwArgumentError("invalid decimal value","value",t);const s=t.substring(0,1)==="-";s&&(t=t.substring(1)),t==="."&&rr.throwArgumentError("missing value","value",t);const r=t.split(".");r.length>2&&rr.throwArgumentError("too many decimal points","value",t);let i=r[0],o=r[1];for(i||(i="0"),o||(o="0");o[o.length-1]==="0";)o=o.substring(0,o.length-1);for(o.length>n.length-1&&XF("fractional component exceeds decimals","underflow","parseFixed"),o===""&&(o="0");o.length<n.length-1;)o+="0";const l=Ve.from(i),c=Ve.from(o);let d=l.mul(n).add(c);return s&&(d=d.mul(YF)),d}class Gu{constructor(e,n,s,r){e!==Nm&&rr.throwError("cannot use FixedFormat constructor; use FixedFormat.from",ie.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=n,this.width=s,this.decimals=r,this.name=(n?"":"u")+"fixed"+String(s)+"x"+String(r),this._multiplier=wA(r),Object.freeze(this)}static from(e){if(e instanceof Gu)return e;typeof e=="number"&&(e=`fixed128x${e}`);let n=!0,s=128,r=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")n=!1;else{const i=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);i||rr.throwArgumentError("invalid fixed format","format",e),n=i[1]!=="u",s=parseInt(i[2]),r=parseInt(i[3])}}else if(e){const i=(o,l,c)=>e[o]==null?c:(typeof e[o]!==l&&rr.throwArgumentError("invalid fixed format ("+o+" not "+l+")","format."+o,e[o]),e[o]);n=i("signed","boolean",n),s=i("width","number",s),r=i("decimals","number",r)}return s%8&&rr.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",s),r>80&&rr.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",r),new Gu(Nm,n,s,r)}}class ks{constructor(e,n,s,r){e!==Nm&&rr.throwError("cannot use FixedNumber constructor; use FixedNumber.from",ie.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=r,this._hex=n,this._value=s,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&rr.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const n=ya(this._value,this.format.decimals),s=ya(e._value,e.format.decimals);return ks.fromValue(n.add(s),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const n=ya(this._value,this.format.decimals),s=ya(e._value,e.format.decimals);return ks.fromValue(n.sub(s),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const n=ya(this._value,this.format.decimals),s=ya(e._value,e.format.decimals);return ks.fromValue(n.mul(s).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const n=ya(this._value,this.format.decimals),s=ya(e._value,e.format.decimals);return ks.fromValue(n.mul(this.format._multiplier).div(s),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let n=ks.from(e[0],this.format);const s=!e[1].match(/^(0*)$/);return this.isNegative()&&s&&(n=n.subUnsafe(bP.toFormat(n.format))),n}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let n=ks.from(e[0],this.format);const s=!e[1].match(/^(0*)$/);return!this.isNegative()&&s&&(n=n.addUnsafe(bP.toFormat(n.format))),n}round(e){e==null&&(e=0);const n=this.toString().split(".");if(n.length===1&&n.push("0"),(e<0||e>80||e%1)&&rr.throwArgumentError("invalid decimal count","decimals",e),n[1].length<=e)return this;const s=ks.from("1"+km.substring(0,e),this.format),r=sse.toFormat(this.format);return this.mulUnsafe(s).addUnsafe(r).floor().divUnsafe(s)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&rr.throwArgumentError("invalid byte width","width",e);const n=Ve.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return jn(n,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return ks.fromString(this._value,e)}static fromValue(e,n,s){return s==null&&n!=null&&!tse(n)&&(s=n,n=null),n==null&&(n=0),s==null&&(s="fixed"),ks.fromString(yx(e,n),Gu.from(s))}static fromString(e,n){n==null&&(n="fixed");const s=Gu.from(n),r=ya(e,s.decimals);!s.signed&&r.lt(GF)&&XF("unsigned value cannot be negative","overflow","value",e);let i=null;s.signed?i=r.toTwos(s.width).toHexString():(i=r.toHexString(),i=jn(i,s.width/8));const o=yx(r,s.decimals);return new ks(Nm,i,o,s)}static fromBytes(e,n){n==null&&(n="fixed");const s=Gu.from(n);if(ot(e).length>s.width/8)throw new Error("overflow");let r=Ve.from(e);s.signed&&(r=r.fromTwos(s.width));const i=r.toTwos((s.signed?0:1)+s.width).toHexString(),o=yx(r,s.decimals);return new ks(Nm,i,o,s)}static from(e,n){if(typeof e=="string")return ks.fromString(e,n);if(Xd(e))return ks.fromBytes(e,n);try{return ks.fromValue(e,0,n)}catch(s){if(s.code!==ie.errors.INVALID_ARGUMENT)throw s}return rr.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const bP=ks.from(1),sse=ks.from("0.5"),rse="properties/5.8.0";var ise=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):r(u.value).then(l,c)}d((s=s.apply(t,e||[])).next())})};const Ry=new ie(rse);function Ce(t,e,n){Object.defineProperty(t,e,{enumerable:!0,value:n,writable:!1})}function Gr(t,e){for(let n=0;n<32;n++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function Jn(t){return ise(this,void 0,void 0,function*(){const e=Object.keys(t).map(s=>{const r=t[s];return Promise.resolve(r).then(i=>({key:s,value:i}))});return(yield Promise.all(e)).reduce((s,r)=>(s[r.key]=r.value,s),{})})}function QF(t,e){(!t||typeof t!="object")&&Ry.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(n=>{e[n]||Ry.throwArgumentError("invalid object key - "+n,"transaction:"+n,t)})}function rs(t){const e={};for(const n in t)e[n]=t[n];return e}const ase={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function JF(t){if(t==null||ase[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let n=0;n<e.length;n++){let s=null;try{s=t[e[n]]}catch{continue}if(!JF(s))return!1}return!0}return Ry.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function ose(t){if(JF(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>Wo(e)));if(typeof t=="object"){const e={};for(const n in t){const s=t[n];s!==void 0&&Ce(e,n,Wo(s))}return e}return Ry.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function Wo(t){return ose(t)}let Ng=class{constructor(e){for(const n in e)this[n]=Wo(e[n])}};const kg="abi/5.8.0",Kt=new ie(kg),Rd={};let wP={calldata:!0,memory:!0,storage:!0},lse={calldata:!0,memory:!0};function h0(t,e){if(t==="bytes"||t==="string"){if(wP[e])return!0}else if(t==="address"){if(e==="payable")return!0}else if((t.indexOf("[")>=0||t==="tuple")&&lse[e])return!0;return(wP[e]||e==="payable")&&Kt.throwArgumentError("invalid modifier","name",e),!1}function cse(t,e){let n=t;function s(l){Kt.throwArgumentError(`unexpected character at position ${l}`,"param",t)}t=t.replace(/\s/g," ");function r(l){let c={type:"",name:"",parent:l,state:{allowType:!0}};return e&&(c.indexed=!1),c}let i={type:"",name:"",state:{allowType:!0}},o=i;for(let l=0;l<t.length;l++){let c=t[l];switch(c){case"(":o.state.allowType&&o.type===""?o.type="tuple":o.state.allowParams||s(l),o.state.allowType=!1,o.type=uu(o.type),o.components=[r(o)],o=o.components[0];break;case")":delete o.state,o.name==="indexed"&&(e||s(l),o.indexed=!0,o.name=""),h0(o.type,o.name)&&(o.name=""),o.type=uu(o.type);let d=o;o=o.parent,o||s(l),delete d.parent,o.state.allowParams=!1,o.state.allowName=!0,o.state.allowArray=!0;break;case",":delete o.state,o.name==="indexed"&&(e||s(l),o.indexed=!0,o.name=""),h0(o.type,o.name)&&(o.name=""),o.type=uu(o.type);let u=r(o.parent);o.parent.components.push(u),delete o.parent,o=u;break;case" ":o.state.allowType&&o.type!==""&&(o.type=uu(o.type),delete o.state.allowType,o.state.allowName=!0,o.state.allowParams=!0),o.state.allowName&&o.name!==""&&(o.name==="indexed"?(e||s(l),o.indexed&&s(l),o.indexed=!0,o.name=""):h0(o.type,o.name)?o.name="":o.state.allowName=!1);break;case"[":o.state.allowArray||s(l),o.type+=c,o.state.allowArray=!1,o.state.allowName=!1,o.state.readArray=!0;break;case"]":o.state.readArray||s(l),o.type+=c,o.state.readArray=!1,o.state.allowArray=!0,o.state.allowName=!0;break;default:o.state.allowType?(o.type+=c,o.state.allowParams=!0,o.state.allowArray=!0):o.state.allowName?(o.name+=c,delete o.state.allowArray):o.state.readArray?o.type+=c:s(l)}}return o.parent&&Kt.throwArgumentError("unexpected eof","param",t),delete i.state,o.name==="indexed"?(e||s(n.length-7),o.indexed&&s(n.length-7),o.indexed=!0,o.name=""):h0(o.type,o.name)&&(o.name=""),i.type=uu(i.type),i}function vx(t,e){for(let n in e)Ce(t,n,e[n])}const Jt=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),dse=new RegExp(/^(.*)\[([0-9]*)\]$/);class ys{constructor(e,n){e!==Rd&&Kt.throwError("use fromString",ie.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),vx(this,n);let s=this.type.match(dse);s?vx(this,{arrayLength:parseInt(s[2]||"-1"),arrayChildren:ys.fromObject({type:s[1],components:this.components}),baseType:"array"}):vx(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=Jt.sighash),Jt[e]||Kt.throwArgumentError("invalid format type","format",e),e===Jt.json){let s={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(s.indexed=this.indexed),this.components&&(s.components=this.components.map(r=>JSON.parse(r.format(e)))),JSON.stringify(s)}let n="";return this.baseType==="array"?(n+=this.arrayChildren.format(e),n+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==Jt.sighash&&(n+=this.type),n+="("+this.components.map(s=>s.format(e)).join(e===Jt.full?", ":",")+")"):n+=this.type,e!==Jt.sighash&&(this.indexed===!0&&(n+=" indexed"),e===Jt.full&&this.name&&(n+=" "+this.name)),n}static from(e,n){return typeof e=="string"?ys.fromString(e,n):ys.fromObject(e)}static fromObject(e){return ys.isParamType(e)?e:new ys(Rd,{name:e.name||null,type:uu(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(ys.fromObject):null})}static fromString(e,n){function s(r){return ys.fromObject({name:r.name,type:r.type,indexed:r.indexed,components:r.components})}return s(cse(e,!!n))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function pp(t,e){return hse(t).map(n=>ys.fromString(n,e))}class To{constructor(e,n){e!==Rd&&Kt.throwError("use a static from method",ie.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),vx(this,n),this._isFragment=!0,Object.freeze(this)}static from(e){return To.isFragment(e)?e:typeof e=="string"?To.fromString(e):To.fromObject(e)}static fromObject(e){if(To.isFragment(e))return e;switch(e.type){case"function":return Ia.fromObject(e);case"event":return jo.fromObject(e);case"constructor":return Ea.fromObject(e);case"error":return bl.fromObject(e);case"fallback":case"receive":return null}return Kt.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?jo.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?Ia.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?Ea.fromString(e.trim()):e.split(" ")[0]==="error"?bl.fromString(e.substring(5).trim()):Kt.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class jo extends To{format(e){if(e||(e=Jt.sighash),Jt[e]||Kt.throwArgumentError("invalid format type","format",e),e===Jt.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(s=>JSON.parse(s.format(e)))});let n="";return e!==Jt.sighash&&(n+="event "),n+=this.name+"("+this.inputs.map(s=>s.format(e)).join(e===Jt.full?", ":",")+") ",e!==Jt.sighash&&this.anonymous&&(n+="anonymous "),n.trim()}static from(e){return typeof e=="string"?jo.fromString(e):jo.fromObject(e)}static fromObject(e){if(jo.isEventFragment(e))return e;e.type!=="event"&&Kt.throwArgumentError("invalid event object","value",e);const n={name:gp(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(ys.fromObject):[],type:"event"};return new jo(Rd,n)}static fromString(e){let n=e.match(xp);n||Kt.throwArgumentError("invalid event string","value",e);let s=!1;return n[3].split(" ").forEach(r=>{switch(r.trim()){case"anonymous":s=!0;break;case"":break;default:Kt.warn("unknown modifier: "+r)}}),jo.fromObject({name:n[1].trim(),anonymous:s,inputs:pp(n[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function ZF(t,e){e.gas=null;let n=t.split("@");return n.length!==1?(n.length>2&&Kt.throwArgumentError("invalid human-readable ABI signature","value",t),n[1].match(/^[0-9]+$/)||Kt.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=Ve.from(n[1]),n[0]):t}function eL(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach(n=>{switch(n.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+n)}})}function tL(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return t.stateMutability!=null?(e.stateMutability=t.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",t.constant!=null&&!!t.constant!==e.constant&&Kt.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable=e.stateMutability==="payable",t.payable!=null&&!!t.payable!==e.payable&&Kt.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):t.payable!=null?(e.payable=!!t.payable,t.constant==null&&!e.payable&&t.type!=="constructor"&&Kt.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&Kt.throwArgumentError("cannot have constant payable function","value",t)):t.constant!=null?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):t.type!=="constructor"&&Kt.throwArgumentError("unable to determine stateMutability","value",t),e}class Ea extends To{format(e){if(e||(e=Jt.sighash),Jt[e]||Kt.throwArgumentError("invalid format type","format",e),e===Jt.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(e)))});e===Jt.sighash&&Kt.throwError("cannot format a constructor for sighash",ie.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let n="constructor("+this.inputs.map(s=>s.format(e)).join(e===Jt.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(n+=this.stateMutability+" "),n.trim()}static from(e){return typeof e=="string"?Ea.fromString(e):Ea.fromObject(e)}static fromObject(e){if(Ea.isConstructorFragment(e))return e;e.type!=="constructor"&&Kt.throwArgumentError("invalid constructor object","value",e);let n=tL(e);n.constant&&Kt.throwArgumentError("constructor cannot be constant","value",e);const s={name:null,type:e.type,inputs:e.inputs?e.inputs.map(ys.fromObject):[],payable:n.payable,stateMutability:n.stateMutability,gas:e.gas?Ve.from(e.gas):null};return new Ea(Rd,s)}static fromString(e){let n={type:"constructor"};e=ZF(e,n);let s=e.match(xp);return(!s||s[1].trim()!=="constructor")&&Kt.throwArgumentError("invalid constructor string","value",e),n.inputs=pp(s[2].trim(),!1),eL(s[3].trim(),n),Ea.fromObject(n)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class Ia extends Ea{format(e){if(e||(e=Jt.sighash),Jt[e]||Kt.throwArgumentError("invalid format type","format",e),e===Jt.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(e))),outputs:this.outputs.map(s=>JSON.parse(s.format(e)))});let n="";return e!==Jt.sighash&&(n+="function "),n+=this.name+"("+this.inputs.map(s=>s.format(e)).join(e===Jt.full?", ":",")+") ",e!==Jt.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(n+=this.stateMutability+" "):this.constant&&(n+="view "),this.outputs&&this.outputs.length&&(n+="returns ("+this.outputs.map(s=>s.format(e)).join(", ")+") "),this.gas!=null&&(n+="@"+this.gas.toString()+" ")),n.trim()}static from(e){return typeof e=="string"?Ia.fromString(e):Ia.fromObject(e)}static fromObject(e){if(Ia.isFunctionFragment(e))return e;e.type!=="function"&&Kt.throwArgumentError("invalid function object","value",e);let n=tL(e);const s={type:e.type,name:gp(e.name),constant:n.constant,inputs:e.inputs?e.inputs.map(ys.fromObject):[],outputs:e.outputs?e.outputs.map(ys.fromObject):[],payable:n.payable,stateMutability:n.stateMutability,gas:e.gas?Ve.from(e.gas):null};return new Ia(Rd,s)}static fromString(e){let n={type:"function"};e=ZF(e,n);let s=e.split(" returns ");s.length>2&&Kt.throwArgumentError("invalid function string","value",e);let r=s[0].match(xp);if(r||Kt.throwArgumentError("invalid function signature","value",e),n.name=r[1].trim(),n.name&&gp(n.name),n.inputs=pp(r[2],!1),eL(r[3].trim(),n),s.length>1){let i=s[1].match(xp);(i[1].trim()!=""||i[3].trim()!="")&&Kt.throwArgumentError("unexpected tokens","value",e),n.outputs=pp(i[2],!1)}else n.outputs=[];return Ia.fromObject(n)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function NP(t){const e=t.format();return(e==="Error(string)"||e==="Panic(uint256)")&&Kt.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",t),t}class bl extends To{format(e){if(e||(e=Jt.sighash),Jt[e]||Kt.throwArgumentError("invalid format type","format",e),e===Jt.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(s=>JSON.parse(s.format(e)))});let n="";return e!==Jt.sighash&&(n+="error "),n+=this.name+"("+this.inputs.map(s=>s.format(e)).join(e===Jt.full?", ":",")+") ",n.trim()}static from(e){return typeof e=="string"?bl.fromString(e):bl.fromObject(e)}static fromObject(e){if(bl.isErrorFragment(e))return e;e.type!=="error"&&Kt.throwArgumentError("invalid error object","value",e);const n={type:e.type,name:gp(e.name),inputs:e.inputs?e.inputs.map(ys.fromObject):[]};return NP(new bl(Rd,n))}static fromString(e){let n={type:"error"},s=e.match(xp);return s||Kt.throwArgumentError("invalid error signature","value",e),n.name=s[1].trim(),n.name&&gp(n.name),n.inputs=pp(s[2],!1),NP(bl.fromObject(n))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}function uu(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}const use=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function gp(t){return(!t||!t.match(use))&&Kt.throwArgumentError(`invalid identifier "${t}"`,"value",t),t}const xp=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function hse(t){t=t.trim();let e=[],n="",s=0;for(let r=0;r<t.length;r++){let i=t[r];i===","&&s===0?(e.push(n),n=""):(n+=i,i==="("?s++:i===")"&&(s--,s===-1&&Kt.throwArgumentError("unbalanced parenthesis","value",t)))}return n&&e.push(n),e}const NA=new ie(kg);function fse(t){const e=[],n=function(s,r){if(Array.isArray(r))for(let i in r){const o=s.slice();o.push(i);try{n(o,r[i])}catch(l){e.push({path:o,error:l})}}};return n([],t),e}class el{constructor(e,n,s,r){this.name=e,this.type=n,this.localName=s,this.dynamic=r}_throwError(e,n){NA.throwArgumentError(e,this.localName,n)}}class _N{constructor(e){Ce(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return jr(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(or(e._data))}writeBytes(e){let n=ot(e);const s=n.length%this.wordSize;return s&&(n=or([n,this._padding.slice(s)])),this._writeData(n)}_getValue(e){let n=ot(Ve.from(e));return n.length>this.wordSize&&NA.throwError("value out-of-bounds",ie.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:n.length}),n.length%this.wordSize&&(n=or([this._padding.slice(n.length%this.wordSize),n])),n}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,n=>{this._data[e]=this._getValue(n)}}}class My{constructor(e,n,s,r){Ce(this,"_data",ot(e)),Ce(this,"wordSize",n||32),Ce(this,"_coerceFunc",s),Ce(this,"allowLoose",r),this._offset=0}get data(){return tt(this._data)}get consumed(){return this._offset}static coerce(e,n){let s=e.match("^u?int([0-9]+)$");return s&&parseInt(s[1])<=48&&(n=n.toNumber()),n}coerce(e,n){return this._coerceFunc?this._coerceFunc(e,n):My.coerce(e,n)}_peekBytes(e,n,s){let r=Math.ceil(n/this.wordSize)*this.wordSize;return this._offset+r>this._data.length&&(this.allowLoose&&s&&this._offset+n<=this._data.length?r=n:NA.throwError("data out-of-bounds",ie.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+r})),this._data.slice(this._offset,this._offset+r)}subReader(e){return new My(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,n){let s=this._peekBytes(0,e,!!n);return this._offset+=s.length,s.slice(0,e)}readValue(){return Ve.from(this.readBytes(this.wordSize))}}var nL={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(t){(function(){var e="input is invalid type",n="finalize already called",s=typeof window=="object",r=s?window:{};r.JS_SHA3_NO_WINDOW&&(s=!1);var i=!s&&typeof self=="object",o=!r.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;o?r=BM:i&&(r=self);var l=!r.JS_SHA3_NO_COMMON_JS&&!0&&t.exports,c=!r.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",d="0123456789abcdef".split(""),u=[31,7936,2031616,520093696],h=[4,1024,262144,67108864],f=[1,256,65536,16777216],m=[6,1536,393216,100663296],g=[0,8,16,24],p=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],w=[224,256,384,512],b=[128,256],y=["hex","buffer","arrayBuffer","array","digest"],N={128:168,256:136};(r.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(P){return Object.prototype.toString.call(P)==="[object Array]"}),c&&(r.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(P){return typeof P=="object"&&P.buffer&&P.buffer.constructor===ArrayBuffer});for(var A=function(P,z,K){return function(H){return new k(P,z,P).update(H)[K]()}},S=function(P,z,K){return function(H,q){return new k(P,z,q).update(H)[K]()}},T=function(P,z,K){return function(H,q,Q,J){return x["cshake"+P].update(H,q,Q,J)[K]()}},_=function(P,z,K){return function(H,q,Q,J){return x["kmac"+P].update(H,q,Q,J)[K]()}},R=function(P,z,K,H){for(var q=0;q<y.length;++q){var Q=y[q];P[Q]=z(K,H,Q)}return P},B=function(P,z){var K=A(P,z,"hex");return K.create=function(){return new k(P,z,P)},K.update=function(H){return K.create().update(H)},R(K,A,P,z)},V=function(P,z){var K=S(P,z,"hex");return K.create=function(H){return new k(P,z,H)},K.update=function(H,q){return K.create(q).update(H)},R(K,S,P,z)},U=function(P,z){var K=N[P],H=T(P,z,"hex");return H.create=function(q,Q,J){return!Q&&!J?x["shake"+P].create(q):new k(P,z,q).bytepad([Q,J],K)},H.update=function(q,Q,J,te){return H.create(Q,J,te).update(q)},R(H,T,P,z)},L=function(P,z){var K=N[P],H=_(P,z,"hex");return H.create=function(q,Q,J){return new $(P,z,Q).bytepad(["KMAC",J],K).bytepad([q],K)},H.update=function(q,Q,J,te){return H.create(q,J,te).update(Q)},R(H,_,P,z)},M=[{name:"keccak",padding:f,bits:w,createMethod:B},{name:"sha3",padding:m,bits:w,createMethod:B},{name:"shake",padding:u,bits:b,createMethod:V},{name:"cshake",padding:h,bits:b,createMethod:U},{name:"kmac",padding:h,bits:b,createMethod:L}],x={},j=[],E=0;E<M.length;++E)for(var D=M[E],C=D.bits,I=0;I<C.length;++I){var F=D.name+"_"+C[I];if(j.push(F),x[F]=D.createMethod(C[I],D.padding),D.name!=="sha3"){var O=D.name+C[I];j.push(O),x[O]=x[F]}}function k(P,z,K){this.blocks=[],this.s=[],this.padding=z,this.outputBits=K,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(P<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=K>>5,this.extraBytes=(K&31)>>3;for(var H=0;H<50;++H)this.s[H]=0}k.prototype.update=function(P){if(this.finalized)throw new Error(n);var z,K=typeof P;if(K!=="string"){if(K==="object"){if(P===null)throw new Error(e);if(c&&P.constructor===ArrayBuffer)P=new Uint8Array(P);else if(!Array.isArray(P)&&(!c||!ArrayBuffer.isView(P)))throw new Error(e)}else throw new Error(e);z=!0}for(var H=this.blocks,q=this.byteCount,Q=P.length,J=this.blockCount,te=0,Me=this.s,ee,he;te<Q;){if(this.reset)for(this.reset=!1,H[0]=this.block,ee=1;ee<J+1;++ee)H[ee]=0;if(z)for(ee=this.start;te<Q&&ee<q;++te)H[ee>>2]|=P[te]<<g[ee++&3];else for(ee=this.start;te<Q&&ee<q;++te)he=P.charCodeAt(te),he<128?H[ee>>2]|=he<<g[ee++&3]:he<2048?(H[ee>>2]|=(192|he>>6)<<g[ee++&3],H[ee>>2]|=(128|he&63)<<g[ee++&3]):he<55296||he>=57344?(H[ee>>2]|=(224|he>>12)<<g[ee++&3],H[ee>>2]|=(128|he>>6&63)<<g[ee++&3],H[ee>>2]|=(128|he&63)<<g[ee++&3]):(he=65536+((he&1023)<<10|P.charCodeAt(++te)&1023),H[ee>>2]|=(240|he>>18)<<g[ee++&3],H[ee>>2]|=(128|he>>12&63)<<g[ee++&3],H[ee>>2]|=(128|he>>6&63)<<g[ee++&3],H[ee>>2]|=(128|he&63)<<g[ee++&3]);if(this.lastByteIndex=ee,ee>=q){for(this.start=ee-q,this.block=H[J],ee=0;ee<J;++ee)Me[ee]^=H[ee];G(Me),this.reset=!0}else this.start=ee}return this},k.prototype.encode=function(P,z){var K=P&255,H=1,q=[K];for(P=P>>8,K=P&255;K>0;)q.unshift(K),P=P>>8,K=P&255,++H;return z?q.push(H):q.unshift(H),this.update(q),q.length},k.prototype.encodeString=function(P){var z,K=typeof P;if(K!=="string"){if(K==="object"){if(P===null)throw new Error(e);if(c&&P.constructor===ArrayBuffer)P=new Uint8Array(P);else if(!Array.isArray(P)&&(!c||!ArrayBuffer.isView(P)))throw new Error(e)}else throw new Error(e);z=!0}var H=0,q=P.length;if(z)H=q;else for(var Q=0;Q<P.length;++Q){var J=P.charCodeAt(Q);J<128?H+=1:J<2048?H+=2:J<55296||J>=57344?H+=3:(J=65536+((J&1023)<<10|P.charCodeAt(++Q)&1023),H+=4)}return H+=this.encode(H*8),this.update(P),H},k.prototype.bytepad=function(P,z){for(var K=this.encode(z),H=0;H<P.length;++H)K+=this.encodeString(P[H]);var q=z-K%z,Q=[];return Q.length=q,this.update(Q),this},k.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var P=this.blocks,z=this.lastByteIndex,K=this.blockCount,H=this.s;if(P[z>>2]|=this.padding[z&3],this.lastByteIndex===this.byteCount)for(P[0]=P[K],z=1;z<K+1;++z)P[z]=0;for(P[K-1]|=2147483648,z=0;z<K;++z)H[z]^=P[z];G(H)}},k.prototype.toString=k.prototype.hex=function(){this.finalize();for(var P=this.blockCount,z=this.s,K=this.outputBlocks,H=this.extraBytes,q=0,Q=0,J="",te;Q<K;){for(q=0;q<P&&Q<K;++q,++Q)te=z[q],J+=d[te>>4&15]+d[te&15]+d[te>>12&15]+d[te>>8&15]+d[te>>20&15]+d[te>>16&15]+d[te>>28&15]+d[te>>24&15];Q%P===0&&(G(z),q=0)}return H&&(te=z[q],J+=d[te>>4&15]+d[te&15],H>1&&(J+=d[te>>12&15]+d[te>>8&15]),H>2&&(J+=d[te>>20&15]+d[te>>16&15])),J},k.prototype.arrayBuffer=function(){this.finalize();var P=this.blockCount,z=this.s,K=this.outputBlocks,H=this.extraBytes,q=0,Q=0,J=this.outputBits>>3,te;H?te=new ArrayBuffer(K+1<<2):te=new ArrayBuffer(J);for(var Me=new Uint32Array(te);Q<K;){for(q=0;q<P&&Q<K;++q,++Q)Me[Q]=z[q];Q%P===0&&G(z)}return H&&(Me[q]=z[q],te=te.slice(0,J)),te},k.prototype.buffer=k.prototype.arrayBuffer,k.prototype.digest=k.prototype.array=function(){this.finalize();for(var P=this.blockCount,z=this.s,K=this.outputBlocks,H=this.extraBytes,q=0,Q=0,J=[],te,Me;Q<K;){for(q=0;q<P&&Q<K;++q,++Q)te=Q<<2,Me=z[q],J[te]=Me&255,J[te+1]=Me>>8&255,J[te+2]=Me>>16&255,J[te+3]=Me>>24&255;Q%P===0&&G(z)}return H&&(te=Q<<2,Me=z[q],J[te]=Me&255,H>1&&(J[te+1]=Me>>8&255),H>2&&(J[te+2]=Me>>16&255)),J};function $(P,z,K){k.call(this,P,z,K)}$.prototype=new k,$.prototype.finalize=function(){return this.encode(this.outputBits,!0),k.prototype.finalize.call(this)};var G=function(P){var z,K,H,q,Q,J,te,Me,ee,he,ke,se,X,re,ve,$e,it,Oe,ht,lt,me,W,de,ne,le,Ne,Re,Pe,Lt,ze,je,We,be,Se,Fe,_e,ft,Zt,fe,ye,Ze,Ke,qe,xt,Je,Te,pt,Ye,st,Bt,rt,ct,Ht,at,Ie,oe,De,nt,jt,ae,St,Mt,xe;for(H=0;H<48;H+=2)q=P[0]^P[10]^P[20]^P[30]^P[40],Q=P[1]^P[11]^P[21]^P[31]^P[41],J=P[2]^P[12]^P[22]^P[32]^P[42],te=P[3]^P[13]^P[23]^P[33]^P[43],Me=P[4]^P[14]^P[24]^P[34]^P[44],ee=P[5]^P[15]^P[25]^P[35]^P[45],he=P[6]^P[16]^P[26]^P[36]^P[46],ke=P[7]^P[17]^P[27]^P[37]^P[47],se=P[8]^P[18]^P[28]^P[38]^P[48],X=P[9]^P[19]^P[29]^P[39]^P[49],z=se^(J<<1|te>>>31),K=X^(te<<1|J>>>31),P[0]^=z,P[1]^=K,P[10]^=z,P[11]^=K,P[20]^=z,P[21]^=K,P[30]^=z,P[31]^=K,P[40]^=z,P[41]^=K,z=q^(Me<<1|ee>>>31),K=Q^(ee<<1|Me>>>31),P[2]^=z,P[3]^=K,P[12]^=z,P[13]^=K,P[22]^=z,P[23]^=K,P[32]^=z,P[33]^=K,P[42]^=z,P[43]^=K,z=J^(he<<1|ke>>>31),K=te^(ke<<1|he>>>31),P[4]^=z,P[5]^=K,P[14]^=z,P[15]^=K,P[24]^=z,P[25]^=K,P[34]^=z,P[35]^=K,P[44]^=z,P[45]^=K,z=Me^(se<<1|X>>>31),K=ee^(X<<1|se>>>31),P[6]^=z,P[7]^=K,P[16]^=z,P[17]^=K,P[26]^=z,P[27]^=K,P[36]^=z,P[37]^=K,P[46]^=z,P[47]^=K,z=he^(q<<1|Q>>>31),K=ke^(Q<<1|q>>>31),P[8]^=z,P[9]^=K,P[18]^=z,P[19]^=K,P[28]^=z,P[29]^=K,P[38]^=z,P[39]^=K,P[48]^=z,P[49]^=K,re=P[0],ve=P[1],Te=P[11]<<4|P[10]>>>28,pt=P[10]<<4|P[11]>>>28,Pe=P[20]<<3|P[21]>>>29,Lt=P[21]<<3|P[20]>>>29,ae=P[31]<<9|P[30]>>>23,St=P[30]<<9|P[31]>>>23,Ke=P[40]<<18|P[41]>>>14,qe=P[41]<<18|P[40]>>>14,Se=P[2]<<1|P[3]>>>31,Fe=P[3]<<1|P[2]>>>31,$e=P[13]<<12|P[12]>>>20,it=P[12]<<12|P[13]>>>20,Ye=P[22]<<10|P[23]>>>22,st=P[23]<<10|P[22]>>>22,ze=P[33]<<13|P[32]>>>19,je=P[32]<<13|P[33]>>>19,Mt=P[42]<<2|P[43]>>>30,xe=P[43]<<2|P[42]>>>30,at=P[5]<<30|P[4]>>>2,Ie=P[4]<<30|P[5]>>>2,_e=P[14]<<6|P[15]>>>26,ft=P[15]<<6|P[14]>>>26,Oe=P[25]<<11|P[24]>>>21,ht=P[24]<<11|P[25]>>>21,Bt=P[34]<<15|P[35]>>>17,rt=P[35]<<15|P[34]>>>17,We=P[45]<<29|P[44]>>>3,be=P[44]<<29|P[45]>>>3,ne=P[6]<<28|P[7]>>>4,le=P[7]<<28|P[6]>>>4,oe=P[17]<<23|P[16]>>>9,De=P[16]<<23|P[17]>>>9,Zt=P[26]<<25|P[27]>>>7,fe=P[27]<<25|P[26]>>>7,lt=P[36]<<21|P[37]>>>11,me=P[37]<<21|P[36]>>>11,ct=P[47]<<24|P[46]>>>8,Ht=P[46]<<24|P[47]>>>8,xt=P[8]<<27|P[9]>>>5,Je=P[9]<<27|P[8]>>>5,Ne=P[18]<<20|P[19]>>>12,Re=P[19]<<20|P[18]>>>12,nt=P[29]<<7|P[28]>>>25,jt=P[28]<<7|P[29]>>>25,ye=P[38]<<8|P[39]>>>24,Ze=P[39]<<8|P[38]>>>24,W=P[48]<<14|P[49]>>>18,de=P[49]<<14|P[48]>>>18,P[0]=re^~$e&Oe,P[1]=ve^~it&ht,P[10]=ne^~Ne&Pe,P[11]=le^~Re&Lt,P[20]=Se^~_e&Zt,P[21]=Fe^~ft&fe,P[30]=xt^~Te&Ye,P[31]=Je^~pt&st,P[40]=at^~oe&nt,P[41]=Ie^~De&jt,P[2]=$e^~Oe&lt,P[3]=it^~ht&me,P[12]=Ne^~Pe&ze,P[13]=Re^~Lt&je,P[22]=_e^~Zt&ye,P[23]=ft^~fe&Ze,P[32]=Te^~Ye&Bt,P[33]=pt^~st&rt,P[42]=oe^~nt&ae,P[43]=De^~jt&St,P[4]=Oe^~lt&W,P[5]=ht^~me&de,P[14]=Pe^~ze&We,P[15]=Lt^~je&be,P[24]=Zt^~ye&Ke,P[25]=fe^~Ze&qe,P[34]=Ye^~Bt&ct,P[35]=st^~rt&Ht,P[44]=nt^~ae&Mt,P[45]=jt^~St&xe,P[6]=lt^~W&re,P[7]=me^~de&ve,P[16]=ze^~We&ne,P[17]=je^~be&le,P[26]=ye^~Ke&Se,P[27]=Ze^~qe&Fe,P[36]=Bt^~ct&xt,P[37]=rt^~Ht&Je,P[46]=ae^~Mt&at,P[47]=St^~xe&Ie,P[8]=W^~re&$e,P[9]=de^~ve&it,P[18]=We^~ne&Ne,P[19]=be^~le&Re,P[28]=Ke^~Se&_e,P[29]=qe^~Fe&ft,P[38]=ct^~xt&Te,P[39]=Ht^~Je&pt,P[48]=Mt^~at&oe,P[49]=xe^~Ie&De,P[0]^=p[H],P[1]^=p[H+1]};if(l)t.exports=x;else for(E=0;E<j.length;++E)r[j[E]]=x[j[E]]})()})(nL);var mse=nL.exports;const sL=Kd(mse);function us(t){return"0x"+sL.keccak_256(ot(t))}const pse="rlp/5.8.0",Na=new ie(pse);function kP(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function jP(t,e,n){let s=0;for(let r=0;r<n;r++)s=s*256+t[e+r];return s}function rL(t){if(Array.isArray(t)){let s=[];if(t.forEach(function(i){s=s.concat(rL(i))}),s.length<=55)return s.unshift(192+s.length),s;const r=kP(s.length);return r.unshift(247+r.length),r.concat(s)}Zv(t)||Na.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(ot(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const n=kP(e.length);return n.unshift(183+n.length),n.concat(e)}function Ph(t){return tt(rL(t))}function SP(t,e,n,s){const r=[];for(;n<e+1+s;){const i=iL(t,n);r.push(i.result),n+=i.consumed,n>e+1+s&&Na.throwError("child data too short",ie.errors.BUFFER_OVERRUN,{})}return{consumed:1+s,result:r}}function iL(t,e){if(t.length===0&&Na.throwError("data too short",ie.errors.BUFFER_OVERRUN,{}),t[e]>=248){const n=t[e]-247;e+1+n>t.length&&Na.throwError("data short segment too short",ie.errors.BUFFER_OVERRUN,{});const s=jP(t,e+1,n);return e+1+n+s>t.length&&Na.throwError("data long segment too short",ie.errors.BUFFER_OVERRUN,{}),SP(t,e,e+1+n,n+s)}else if(t[e]>=192){const n=t[e]-192;return e+1+n>t.length&&Na.throwError("data array too short",ie.errors.BUFFER_OVERRUN,{}),SP(t,e,e+1,n)}else if(t[e]>=184){const n=t[e]-183;e+1+n>t.length&&Na.throwError("data array too short",ie.errors.BUFFER_OVERRUN,{});const s=jP(t,e+1,n);e+1+n+s>t.length&&Na.throwError("data array too short",ie.errors.BUFFER_OVERRUN,{});const r=tt(t.slice(e+1+n,e+1+n+s));return{consumed:1+n+s,result:r}}else if(t[e]>=128){const n=t[e]-128;e+1+n>t.length&&Na.throwError("data too short",ie.errors.BUFFER_OVERRUN,{});const s=tt(t.slice(e+1,e+1+n));return{consumed:1+n,result:s}}return{consumed:1,result:tt(t[e])}}function kA(t){const e=ot(t),n=iL(e,0);return n.consumed!==e.length&&Na.throwArgumentError("invalid rlp data","data",t),n.result}const gse="address/5.8.0",Eu=new ie(gse);function AP(t){Yt(t,20)||Eu.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),n=new Uint8Array(40);for(let r=0;r<40;r++)n[r]=e[r].charCodeAt(0);const s=ot(us(n));for(let r=0;r<40;r+=2)s[r>>1]>>4>=8&&(e[r]=e[r].toUpperCase()),(s[r>>1]&15)>=8&&(e[r+1]=e[r+1].toUpperCase());return"0x"+e.join("")}const xse=9007199254740991;function yse(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const jA={};for(let t=0;t<10;t++)jA[String(t)]=String(t);for(let t=0;t<26;t++)jA[String.fromCharCode(65+t)]=String(10+t);const TP=Math.floor(yse(xse));function vse(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(s=>jA[s]).join("");for(;e.length>=TP;){let s=e.substring(0,TP);e=parseInt(s,10)%97+e.substring(s.length)}let n=String(98-parseInt(e,10)%97);for(;n.length<2;)n="0"+n;return n}function Ps(t){let e=null;if(typeof t!="string"&&Eu.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=AP(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&Eu.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==vse(t)&&Eu.throwArgumentError("bad icap checksum","address",t),e=nse(t.substring(4));e.length<40;)e="0"+e;e=AP("0x"+e)}else Eu.throwArgumentError("invalid address","address",t);return e}function SA(t){let e=null;try{e=Ps(t.from)}catch{Eu.throwArgumentError("missing from address","transaction",t)}const n=_o(ot(Ve.from(t.nonce).toHexString()));return Ps(Fs(us(Ph([e,n])),12))}class bse extends el{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,n){try{n=Ps(n)}catch(s){this._throwError(s.message,n)}return e.writeValue(n)}decode(e){return Ps(jn(e.readValue().toHexString(),20))}}class wse extends el{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,n){return this.coder.encode(e,n)}decode(e){return this.coder.decode(e)}}const Iu=new ie(kg);function aL(t,e,n){let s=null;if(Array.isArray(n))s=n;else if(n&&typeof n=="object"){let c={};s=e.map(d=>{const u=d.localName;return u||Iu.throwError("cannot encode object for signature with missing names",ie.errors.INVALID_ARGUMENT,{argument:"values",coder:d,value:n}),c[u]&&Iu.throwError("cannot encode object for signature with duplicate names",ie.errors.INVALID_ARGUMENT,{argument:"values",coder:d,value:n}),c[u]=!0,n[u]})}else Iu.throwArgumentError("invalid tuple value","tuple",n);e.length!==s.length&&Iu.throwArgumentError("types/value length mismatch","tuple",n);let r=new _N(t.wordSize),i=new _N(t.wordSize),o=[];e.forEach((c,d)=>{let u=s[d];if(c.dynamic){let h=i.length;c.encode(i,u);let f=r.writeUpdatableValue();o.push(m=>{f(m+h)})}else c.encode(r,u)}),o.forEach(c=>{c(r.length)});let l=t.appendWriter(r);return l+=t.appendWriter(i),l}function oL(t,e){let n=[],s=t.subReader(0);e.forEach(i=>{let o=null;if(i.dynamic){let l=t.readValue(),c=s.subReader(l.toNumber());try{o=i.decode(c)}catch(d){if(d.code===ie.errors.BUFFER_OVERRUN)throw d;o=d,o.baseType=i.name,o.name=i.localName,o.type=i.type}}else try{o=i.decode(t)}catch(l){if(l.code===ie.errors.BUFFER_OVERRUN)throw l;o=l,o.baseType=i.name,o.name=i.localName,o.type=i.type}o!=null&&n.push(o)});const r=e.reduce((i,o)=>{const l=o.localName;return l&&(i[l]||(i[l]=0),i[l]++),i},{});e.forEach((i,o)=>{let l=i.localName;if(!l||r[l]!==1||(l==="length"&&(l="_length"),n[l]!=null))return;const c=n[o];c instanceof Error?Object.defineProperty(n,l,{enumerable:!0,get:()=>{throw c}}):n[l]=c});for(let i=0;i<n.length;i++){const o=n[i];o instanceof Error&&Object.defineProperty(n,i,{enumerable:!0,get:()=>{throw o}})}return Object.freeze(n)}class Nse extends el{constructor(e,n,s){const r=e.type+"["+(n>=0?n:"")+"]",i=n===-1||e.dynamic;super("array",r,s,i),this.coder=e,this.length=n}defaultValue(){const e=this.coder.defaultValue(),n=[];for(let s=0;s<this.length;s++)n.push(e);return n}encode(e,n){Array.isArray(n)||this._throwError("expected array value",n);let s=this.length;s===-1&&(s=n.length,e.writeValue(n.length)),Iu.checkArgumentCount(n.length,s,"coder array"+(this.localName?" "+this.localName:""));let r=[];for(let i=0;i<n.length;i++)r.push(this.coder);return aL(e,r,n)}decode(e){let n=this.length;n===-1&&(n=e.readValue().toNumber(),n*32>e._data.length&&Iu.throwError("insufficient data length",ie.errors.BUFFER_OVERRUN,{length:e._data.length,count:n}));let s=[];for(let r=0;r<n;r++)s.push(new wse(this.coder));return e.coerce(this.name,oL(e,s))}}class kse extends el{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,n){return e.writeValue(n?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class lL extends el{constructor(e,n){super(e,e,n,!0)}defaultValue(){return"0x"}encode(e,n){n=ot(n);let s=e.writeValue(n.length);return s+=e.writeBytes(n),s}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class jse extends lL{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,tt(super.decode(e)))}}class Sse extends el{constructor(e,n){let s="bytes"+String(e);super(s,s,n,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,n){let s=ot(n);return s.length!==this.size&&this._throwError("incorrect data length",n),e.writeBytes(s)}decode(e){return e.coerce(this.name,tt(e.readBytes(this.size)))}}class Ase extends el{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,n){return n!=null&&this._throwError("not null",n),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}const Tse="0x0000000000000000000000000000000000000000",Cse=Ve.from(-1),cL=Ve.from(0),Ese=Ve.from(1),Ise=Ve.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Pse="0x0000000000000000000000000000000000000000000000000000000000000000";class _se extends el{constructor(e,n,s){const r=(n?"int":"uint")+e*8;super(r,r,s,!1),this.size=e,this.signed=n}defaultValue(){return 0}encode(e,n){let s=Ve.from(n),r=Ise.mask(e.wordSize*8);if(this.signed){let i=r.mask(this.size*8-1);(s.gt(i)||s.lt(i.add(Ese).mul(Cse)))&&this._throwError("value out-of-bounds",n)}else(s.lt(cL)||s.gt(r.mask(this.size*8)))&&this._throwError("value out-of-bounds",n);return s=s.toTwos(this.size*8).mask(this.size*8),this.signed&&(s=s.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(s)}decode(e){let n=e.readValue().mask(this.size*8);return this.signed&&(n=n.fromTwos(this.size*8)),e.coerce(this.name,n)}}const Rse="strings/5.8.0",dL=new ie(Rse);var yp;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(yp||(yp={}));var Vr;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(Vr||(Vr={}));function Mse(t,e,n,s,r){return dL.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",n)}function uL(t,e,n,s,r){if(t===Vr.BAD_PREFIX||t===Vr.UNEXPECTED_CONTINUE){let i=0;for(let o=e+1;o<n.length&&n[o]>>6===2;o++)i++;return i}return t===Vr.OVERRUN?n.length-e-1:0}function Ose(t,e,n,s,r){return t===Vr.OVERLONG?(s.push(r),0):(s.push(65533),uL(t,e,n))}const Dse=Object.freeze({error:Mse,ignore:uL,replace:Ose});function hL(t,e){e==null&&(e=Dse.error),t=ot(t);const n=[];let s=0;for(;s<t.length;){const r=t[s++];if(!(r>>7)){n.push(r);continue}let i=null,o=null;if((r&224)===192)i=1,o=127;else if((r&240)===224)i=2,o=2047;else if((r&248)===240)i=3,o=65535;else{(r&192)===128?s+=e(Vr.UNEXPECTED_CONTINUE,s-1,t,n):s+=e(Vr.BAD_PREFIX,s-1,t,n);continue}if(s-1+i>=t.length){s+=e(Vr.OVERRUN,s-1,t,n);continue}let l=r&(1<<8-i-1)-1;for(let c=0;c<i;c++){let d=t[s];if((d&192)!=128){s+=e(Vr.MISSING_CONTINUE,s,t,n),l=null;break}l=l<<6|d&63,s++}if(l!==null){if(l>1114111){s+=e(Vr.OUT_OF_RANGE,s-1-i,t,n,l);continue}if(l>=55296&&l<=57343){s+=e(Vr.UTF16_SURROGATE,s-1-i,t,n,l);continue}if(l<=o){s+=e(Vr.OVERLONG,s-1-i,t,n,l);continue}n.push(l)}}return n}function Ya(t,e=yp.current){e!=yp.current&&(dL.checkNormalize(),t=t.normalize(e));let n=[];for(let s=0;s<t.length;s++){const r=t.charCodeAt(s);if(r<128)n.push(r);else if(r<2048)n.push(r>>6|192),n.push(r&63|128);else if((r&64512)==55296){s++;const i=t.charCodeAt(s);if(s>=t.length||(i&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((r&1023)<<10)+(i&1023);n.push(o>>18|240),n.push(o>>12&63|128),n.push(o>>6&63|128),n.push(o&63|128)}else n.push(r>>12|224),n.push(r>>6&63|128),n.push(r&63|128)}return ot(n)}function $se(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function jg(t,e){return $se(hL(t,e))}function Fse(t,e=yp.current){return hL(Ya(t,e))}class Lse extends lL{constructor(e){super("string",e)}defaultValue(){return""}encode(e,n){return super.encode(e,Ya(n))}decode(e){return jg(super.decode(e))}}class f0 extends el{constructor(e,n){let s=!1;const r=[];e.forEach(o=>{o.dynamic&&(s=!0),r.push(o.type)});const i="tuple("+r.join(",")+")";super("tuple",i,n,s),this.coders=e}defaultValue(){const e=[];this.coders.forEach(s=>{e.push(s.defaultValue())});const n=this.coders.reduce((s,r)=>{const i=r.localName;return i&&(s[i]||(s[i]=0),s[i]++),s},{});return this.coders.forEach((s,r)=>{let i=s.localName;!i||n[i]!==1||(i==="length"&&(i="_length"),e[i]==null&&(e[i]=e[r]))}),Object.freeze(e)}encode(e,n){return aL(e,this.coders,n)}decode(e){return e.coerce(this.name,oL(e,this.coders))}}const m0=new ie(kg),Bse=new RegExp(/^bytes([0-9]*)$/),Use=new RegExp(/^(u?int)([0-9]*)$/);class Vse{constructor(e){Ce(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new bse(e.name);case"bool":return new kse(e.name);case"string":return new Lse(e.name);case"bytes":return new jse(e.name);case"array":return new Nse(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new f0((e.components||[]).map(s=>this._getCoder(s)),e.name);case"":return new Ase(e.name)}let n=e.type.match(Use);if(n){let s=parseInt(n[2]||"256");return(s===0||s>256||s%8!==0)&&m0.throwArgumentError("invalid "+n[1]+" bit length","param",e),new _se(s/8,n[1]==="int",e.name)}if(n=e.type.match(Bse),n){let s=parseInt(n[1]);return(s===0||s>32)&&m0.throwArgumentError("invalid bytes length","param",e),new Sse(s,e.name)}return m0.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,n){return new My(e,this._getWordSize(),this.coerceFunc,n)}_getWriter(){return new _N(this._getWordSize())}getDefaultValue(e){const n=e.map(r=>this._getCoder(ys.from(r)));return new f0(n,"_").defaultValue()}encode(e,n){e.length!==n.length&&m0.throwError("types/values length mismatch",ie.errors.INVALID_ARGUMENT,{count:{types:e.length,values:n.length},value:{types:e,values:n}});const s=e.map(o=>this._getCoder(ys.from(o))),r=new f0(s,"_"),i=this._getWriter();return r.encode(i,n),i.data}decode(e,n,s){const r=e.map(o=>this._getCoder(ys.from(o)));return new f0(r,"_").decode(this._getReader(ot(n),s))}}const zse=new Vse;function Pu(t){return us(Ya(t))}const fL="hash/5.8.0";function mL(t){t=atob(t);const e=[];for(let n=0;n<t.length;n++)e.push(t.charCodeAt(n));return ot(e)}function pL(t){t=ot(t);let e="";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return btoa(e)}function gL(t,e){e==null&&(e=1);const n=[],s=n.forEach,r=function(i,o){s.call(i,function(l){o>0&&Array.isArray(l)?r(l,o-1):n.push(l)})};return r(t,e),n}function Hse(t){const e={};for(let n=0;n<t.length;n++){const s=t[n];e[s[0]]=s[1]}return e}function Wse(t){let e=0;function n(){return t[e++]<<8|t[e++]}let s=n(),r=1,i=[0,1];for(let S=1;S<s;S++)i.push(r+=n());let o=n(),l=e;e+=o;let c=0,d=0;function u(){return c==0&&(d=d<<8|t[e++],c=8),d>>--c&1}const h=31,f=Math.pow(2,h),m=f>>>1,g=m>>1,p=f-1;let w=0;for(let S=0;S<h;S++)w=w<<1|u();let b=[],y=0,N=f;for(;;){let S=Math.floor(((w-y+1)*r-1)/N),T=0,_=s;for(;_-T>1;){let V=T+_>>>1;S<i[V]?_=V:T=V}if(T==0)break;b.push(T);let R=y+Math.floor(N*i[T]/r),B=y+Math.floor(N*i[T+1]/r)-1;for(;!((R^B)&m);)w=w<<1&p|u(),R=R<<1&p,B=B<<1&p|1;for(;R&~B&g;)w=w&m|w<<1&p>>>1|u(),R=R<<1^m,B=(B^m)<<1|m|1;y=R,N=1+B-R}let A=s-4;return b.map(S=>{switch(S-A){case 3:return A+65792+(t[l++]<<16|t[l++]<<8|t[l++]);case 2:return A+256+(t[l++]<<8|t[l++]);case 1:return A+t[l++];default:return S-1}})}function Kse(t){let e=0;return()=>t[e++]}function qse(t){return Kse(Wse(t))}function Gse(t){return t&1?~t>>1:t>>1}function Yse(t,e){let n=Array(t);for(let s=0;s<t;s++)n[s]=1+e();return n}function CP(t,e){let n=Array(t);for(let s=0,r=-1;s<t;s++)n[s]=r+=1+e();return n}function Xse(t,e){let n=Array(t);for(let s=0,r=0;s<t;s++)n[s]=r+=Gse(e());return n}function Oy(t,e){let n=CP(t(),t),s=t(),r=CP(s,t),i=Yse(s,t);for(let o=0;o<s;o++)for(let l=0;l<i[o];l++)n.push(r[o]+l);return e?n.map(o=>e[o]):n}function Qse(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(Zse(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(ere(n,t))}return Hse(gL(e))}function Jse(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(n)}return e}function xL(t,e,n){let s=Array(t).fill(void 0).map(()=>[]);for(let r=0;r<e;r++)Xse(t,n).forEach((i,o)=>s[o].push(i));return s}function Zse(t,e){let n=1+e(),s=e(),r=Jse(e),i=xL(r.length,1+t,e);return gL(i.map((o,l)=>{const c=o[0],d=o.slice(1);return Array(r[l]).fill(void 0).map((u,h)=>{let f=h*s;return[c+h*n,d.map(m=>m+f)]})}))}function ere(t,e){let n=1+e();return xL(n,1+t,e).map(r=>[r[0],r.slice(1)])}function tre(t){let e=Oy(t).sort((s,r)=>s-r);return n();function n(){let s=[];for(;;){let d=Oy(t,e);if(d.length==0)break;s.push({set:new Set(d),node:n()})}s.sort((d,u)=>u.set.size-d.set.size);let r=t(),i=r%3;r=r/3|0;let o=!!(r&1);r>>=1;let l=r==1,c=r==2;return{branches:s,valid:i,fe0f:o,save:l,check:c}}}function nre(){return qse(mL("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const eb=nre(),sre=new Set(Oy(eb)),rre=new Set(Oy(eb)),ire=Qse(eb),are=tre(eb),EP=45,IP=95;function yL(t){return Fse(t)}function ore(t){return t.filter(e=>e!=65039)}function vL(t){for(let e of t.split(".")){let n=yL(e);try{for(let s=n.lastIndexOf(IP)-1;s>=0;s--)if(n[s]!==IP)throw new Error("underscore only allowed at start");if(n.length>=4&&n.every(s=>s<128)&&n[2]===EP&&n[3]===EP)throw new Error("invalid label extension")}catch(s){throw new Error(`Invalid label "${e}": ${s.message}`)}}return t}function lre(t){return vL(cre(t,ore))}function cre(t,e){let n=yL(t).reverse(),s=[];for(;n.length;){let r=ure(n);if(r){s.push(...e(r));continue}let i=n.pop();if(sre.has(i)){s.push(i);continue}if(rre.has(i))continue;let o=ire[i];if(o){s.push(...o);continue}throw new Error(`Disallowed codepoint: 0x${i.toString(16).toUpperCase()}`)}return vL(dre(String.fromCodePoint(...s)))}function dre(t){return t.normalize("NFC")}function ure(t,e){var n;let s=are,r,i,o=[],l=t.length;for(;l;){let c=t[--l];if(s=(n=s.branches.find(d=>d.set.has(c)))===null||n===void 0?void 0:n.node,!s)break;if(s.save)i=c;else if(s.check&&c===i)break;o.push(c),s.fe0f&&(o.push(65039),l>0&&t[l-1]==65039&&l--),s.valid&&(r=o.slice(),s.valid==2&&r.splice(1,1),t.length=l)}return r}const hre=new ie(fL),bL=new Uint8Array(32);bL.fill(0);function PP(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}function wL(t){const e=Ya(lre(t)),n=[];if(t.length===0)return n;let s=0;for(let r=0;r<e.length;r++)e[r]===46&&(n.push(PP(e.slice(s,r))),s=r+1);if(s>=e.length)throw new Error("invalid ENS name; empty component");return n.push(PP(e.slice(s))),n}function bx(t){typeof t!="string"&&hre.throwArgumentError("invalid ENS name; not a string","name",t);let e=bL;const n=wL(t);for(;n.length;)e=us(or([e,us(n.pop())]));return tt(e)}function fre(t){return tt(or(wL(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const n=new Uint8Array(e.length+1);return n.set(e,1),n[0]=n.length-1,n})))+"00"}var mre=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):r(u.value).then(l,c)}d((s=s.apply(t,e||[])).next())})};const An=new ie(fL),NL=new Uint8Array(32);NL.fill(0);const pre=Ve.from(-1),kL=Ve.from(0),jL=Ve.from(1),gre=Ve.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function xre(t){const e=ot(t),n=e.length%32;return n?jr([e,NL.slice(n)]):tt(e)}const yre=jn(jL.toHexString(),32),vre=jn(kL.toHexString(),32),_P={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Fw=["name","version","chainId","verifyingContract","salt"];function RP(t){return function(e){return typeof e!="string"&&An.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const bre={name:RP("name"),version:RP("version"),chainId:function(t){try{return Ve.from(t).toString()}catch{}return An.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return Ps(t).toLowerCase()}catch{}return An.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=ot(t);if(e.length!==32)throw new Error("bad length");return tt(e)}catch{}return An.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function Lw(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const n=e[1]==="",s=parseInt(e[2]||"256");(s%8!==0||s>256||e[2]&&e[2]!==String(s))&&An.throwArgumentError("invalid numeric width","type",t);const r=gre.mask(n?s-1:s),i=n?r.add(jL).mul(pre):kL;return function(o){const l=Ve.from(o);return(l.lt(i)||l.gt(r))&&An.throwArgumentError(`value out-of-bounds for ${t}`,"value",o),jn(l.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const n=parseInt(e[1]);return(n===0||n>32||e[1]!==String(n))&&An.throwArgumentError("invalid bytes width","type",t),function(s){return ot(s).length!==n&&An.throwArgumentError(`invalid length for ${t}`,"value",s),xre(s)}}}switch(t){case"address":return function(e){return jn(Ps(e),32)};case"bool":return function(e){return e?yre:vre};case"bytes":return function(e){return us(e)};case"string":return function(e){return Pu(e)}}return null}function MP(t,e){return`${t}(${e.map(({name:n,type:s})=>s+" "+n).join(",")})`}class Lr{constructor(e){Ce(this,"types",Object.freeze(Wo(e))),Ce(this,"_encoderCache",{}),Ce(this,"_types",{});const n={},s={},r={};Object.keys(e).forEach(l=>{n[l]={},s[l]=[],r[l]={}});for(const l in e){const c={};e[l].forEach(d=>{c[d.name]&&An.throwArgumentError(`duplicate variable name ${JSON.stringify(d.name)} in ${JSON.stringify(l)}`,"types",e),c[d.name]=!0;const u=d.type.match(/^([^\x5b]*)(\x5b|$)/)[1];u===l&&An.throwArgumentError(`circular type reference to ${JSON.stringify(u)}`,"types",e),!Lw(u)&&(s[u]||An.throwArgumentError(`unknown type ${JSON.stringify(u)}`,"types",e),s[u].push(l),n[l][u]=!0)})}const i=Object.keys(s).filter(l=>s[l].length===0);i.length===0?An.throwArgumentError("missing primary type","types",e):i.length>1&&An.throwArgumentError(`ambiguous primary types or unused types: ${i.map(l=>JSON.stringify(l)).join(", ")}`,"types",e),Ce(this,"primaryType",i[0]);function o(l,c){c[l]&&An.throwArgumentError(`circular type reference to ${JSON.stringify(l)}`,"types",e),c[l]=!0,Object.keys(n[l]).forEach(d=>{s[d]&&(o(d,c),Object.keys(c).forEach(u=>{r[u][d]=!0}))}),delete c[l]}o(this.primaryType,{});for(const l in r){const c=Object.keys(r[l]);c.sort(),this._types[l]=MP(l,e[l])+c.map(d=>MP(d,e[d])).join("")}}getEncoder(e){let n=this._encoderCache[e];return n||(n=this._encoderCache[e]=this._getEncoder(e)),n}_getEncoder(e){{const r=Lw(e);if(r)return r}const n=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){const r=n[1],i=this.getEncoder(r),o=parseInt(n[3]);return l=>{o>=0&&l.length!==o&&An.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",l);let c=l.map(i);return this._types[r]&&(c=c.map(us)),us(jr(c))}}const s=this.types[e];if(s){const r=Pu(this._types[e]);return i=>{const o=s.map(({name:l,type:c})=>{const d=this.getEncoder(c)(i[l]);return this._types[c]?us(d):d});return o.unshift(r),jr(o)}}return An.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const n=this._types[e];return n||An.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),n}encodeData(e,n){return this.getEncoder(e)(n)}hashStruct(e,n){return us(this.encodeData(e,n))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,n,s){if(Lw(e))return s(e,n);const r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){const o=r[1],l=parseInt(r[3]);return l>=0&&n.length!==l&&An.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",n),n.map(c=>this._visit(o,c,s))}const i=this.types[e];return i?i.reduce((o,{name:l,type:c})=>(o[l]=this._visit(c,n[l],s),o),{}):An.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,n){return this._visit(this.primaryType,e,n)}static from(e){return new Lr(e)}static getPrimaryType(e){return Lr.from(e).primaryType}static hashStruct(e,n,s){return Lr.from(n).hashStruct(e,s)}static hashDomain(e){const n=[];for(const s in e){const r=_P[s];r||An.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(s)}`,"domain",e),n.push({name:s,type:r})}return n.sort((s,r)=>Fw.indexOf(s.name)-Fw.indexOf(r.name)),Lr.hashStruct("EIP712Domain",{EIP712Domain:n},e)}static encode(e,n,s){return jr(["0x1901",Lr.hashDomain(e),Lr.from(n).hash(s)])}static hash(e,n,s){return us(Lr.encode(e,n,s))}static resolveNames(e,n,s,r){return mre(this,void 0,void 0,function*(){e=rs(e);const i={};e.verifyingContract&&!Yt(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");const o=Lr.from(n);o.visit(s,(l,c)=>(l==="address"&&!Yt(c,20)&&(i[c]="0x"),c));for(const l in i)i[l]=yield r(l);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),s=o.visit(s,(l,c)=>l==="address"&&i[c]?i[c]:c),{domain:e,value:s}})}static getPayload(e,n,s){Lr.hashDomain(e);const r={},i=[];Fw.forEach(c=>{const d=e[c];d!=null&&(r[c]=bre[c](d),i.push({name:c,type:_P[c]}))});const o=Lr.from(n),l=rs(n);return l.EIP712Domain?An.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",n):l.EIP712Domain=i,o.encode(s),{types:l,domain:r,primaryType:o.primaryType,message:o.visit(s,(c,d)=>{if(c.match(/^bytes(\d*)/))return tt(ot(d));if(c.match(/^u?int/))return Ve.from(d).toString();switch(c){case"address":return d.toLowerCase();case"bool":return!!d;case"string":return typeof d!="string"&&An.throwArgumentError("invalid string","value",d),d}return An.throwArgumentError("unsupported type","type",c)})}}}const Sn=new ie(kg);class wre extends Ng{}class Nre extends Ng{}class kre extends Ng{}class RN extends Ng{static isIndexed(e){return!!(e&&e._isIndexed)}}const jre={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function OP(t,e){const n=new Error(`deferred error during ABI decoding triggered accessing ${t}`);return n.error=e,n}class DP{constructor(e){let n=[];typeof e=="string"?n=JSON.parse(e):n=e,Ce(this,"fragments",n.map(s=>To.from(s)).filter(s=>s!=null)),Ce(this,"_abiCoder",Gr(new.target,"getAbiCoder")()),Ce(this,"functions",{}),Ce(this,"errors",{}),Ce(this,"events",{}),Ce(this,"structs",{}),this.fragments.forEach(s=>{let r=null;switch(s.type){case"constructor":if(this.deploy){Sn.warn("duplicate definition - constructor");return}Ce(this,"deploy",s);return;case"function":r=this.functions;break;case"event":r=this.events;break;case"error":r=this.errors;break;default:return}let i=s.format();if(r[i]){Sn.warn("duplicate definition - "+i);return}r[i]=s}),this.deploy||Ce(this,"deploy",Ea.from({payable:!1,type:"constructor"})),Ce(this,"_isInterface",!0)}format(e){e||(e=Jt.full),e===Jt.sighash&&Sn.throwArgumentError("interface does not support formatting sighash","format",e);const n=this.fragments.map(s=>s.format(e));return e===Jt.json?JSON.stringify(n.map(s=>JSON.parse(s))):n}static getAbiCoder(){return zse}static getAddress(e){return Ps(e)}static getSighash(e){return Fs(Pu(e.format()),0,4)}static getEventTopic(e){return Pu(e.format())}getFunction(e){if(Yt(e)){for(const s in this.functions)if(e===this.getSighash(s))return this.functions[s];Sn.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const s=e.trim(),r=Object.keys(this.functions).filter(i=>i.split("(")[0]===s);return r.length===0?Sn.throwArgumentError("no matching function","name",s):r.length>1&&Sn.throwArgumentError("multiple matching functions","name",s),this.functions[r[0]]}const n=this.functions[Ia.fromString(e).format()];return n||Sn.throwArgumentError("no matching function","signature",e),n}getEvent(e){if(Yt(e)){const s=e.toLowerCase();for(const r in this.events)if(s===this.getEventTopic(r))return this.events[r];Sn.throwArgumentError("no matching event","topichash",s)}if(e.indexOf("(")===-1){const s=e.trim(),r=Object.keys(this.events).filter(i=>i.split("(")[0]===s);return r.length===0?Sn.throwArgumentError("no matching event","name",s):r.length>1&&Sn.throwArgumentError("multiple matching events","name",s),this.events[r[0]]}const n=this.events[jo.fromString(e).format()];return n||Sn.throwArgumentError("no matching event","signature",e),n}getError(e){if(Yt(e)){const s=Gr(this.constructor,"getSighash");for(const r in this.errors){const i=this.errors[r];if(e===s(i))return this.errors[r]}Sn.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const s=e.trim(),r=Object.keys(this.errors).filter(i=>i.split("(")[0]===s);return r.length===0?Sn.throwArgumentError("no matching error","name",s):r.length>1&&Sn.throwArgumentError("multiple matching errors","name",s),this.errors[r[0]]}const n=this.errors[Ia.fromString(e).format()];return n||Sn.throwArgumentError("no matching error","signature",e),n}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(n){try{e=this.getError(e)}catch{throw n}}return Gr(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),Gr(this.constructor,"getEventTopic")(e)}_decodeParams(e,n){return this._abiCoder.decode(e,n)}_encodeParams(e,n){return this._abiCoder.encode(e,n)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,n){typeof e=="string"&&(e=this.getError(e));const s=ot(n);return tt(s.slice(0,4))!==this.getSighash(e)&&Sn.throwArgumentError(`data signature does not match error ${e.name}.`,"data",tt(s)),this._decodeParams(e.inputs,s.slice(4))}encodeErrorResult(e,n){return typeof e=="string"&&(e=this.getError(e)),tt(or([this.getSighash(e),this._encodeParams(e.inputs,n||[])]))}decodeFunctionData(e,n){typeof e=="string"&&(e=this.getFunction(e));const s=ot(n);return tt(s.slice(0,4))!==this.getSighash(e)&&Sn.throwArgumentError(`data signature does not match function ${e.name}.`,"data",tt(s)),this._decodeParams(e.inputs,s.slice(4))}encodeFunctionData(e,n){return typeof e=="string"&&(e=this.getFunction(e)),tt(or([this.getSighash(e),this._encodeParams(e.inputs,n||[])]))}decodeFunctionResult(e,n){typeof e=="string"&&(e=this.getFunction(e));let s=ot(n),r=null,i="",o=null,l=null,c=null;switch(s.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,s)}catch{}break;case 4:{const d=tt(s.slice(0,4)),u=jre[d];if(u)o=this._abiCoder.decode(u.inputs,s.slice(4)),l=u.name,c=u.signature,u.reason&&(r=o[0]),l==="Error"?i=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(o[0])}`:l==="Panic"&&(i=`; VM Exception while processing transaction: reverted with panic code ${o[0]}`);else try{const h=this.getError(d);o=this._abiCoder.decode(h.inputs,s.slice(4)),l=h.name,c=h.format()}catch{}break}}return Sn.throwError("call revert exception"+i,ie.errors.CALL_EXCEPTION,{method:e.format(),data:tt(n),errorArgs:o,errorName:l,errorSignature:c,reason:r})}encodeFunctionResult(e,n){return typeof e=="string"&&(e=this.getFunction(e)),tt(this._abiCoder.encode(e.outputs,n||[]))}encodeFilterTopics(e,n){typeof e=="string"&&(e=this.getEvent(e)),n.length>e.inputs.length&&Sn.throwError("too many arguments for "+e.format(),ie.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:n});let s=[];e.anonymous||s.push(this.getEventTopic(e));const r=(i,o)=>i.type==="string"?Pu(o):i.type==="bytes"?us(tt(o)):(i.type==="bool"&&typeof o=="boolean"&&(o=o?"0x01":"0x00"),i.type.match(/^u?int/)&&(o=Ve.from(o).toHexString()),i.type==="address"&&this._abiCoder.encode(["address"],[o]),jn(tt(o),32));for(n.forEach((i,o)=>{let l=e.inputs[o];if(!l.indexed){i!=null&&Sn.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+l.name,i);return}i==null?s.push(null):l.baseType==="array"||l.baseType==="tuple"?Sn.throwArgumentError("filtering with tuples or arrays not supported","contract."+l.name,i):Array.isArray(i)?s.push(i.map(c=>r(l,c))):s.push(r(l,i))});s.length&&s[s.length-1]===null;)s.pop();return s}encodeEventLog(e,n){typeof e=="string"&&(e=this.getEvent(e));const s=[],r=[],i=[];return e.anonymous||s.push(this.getEventTopic(e)),n.length!==e.inputs.length&&Sn.throwArgumentError("event arguments/values mismatch","values",n),e.inputs.forEach((o,l)=>{const c=n[l];if(o.indexed)if(o.type==="string")s.push(Pu(c));else if(o.type==="bytes")s.push(us(c));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");s.push(this._abiCoder.encode([o.type],[c]))}else r.push(o),i.push(c)}),{data:this._abiCoder.encode(r,i),topics:s}}decodeEventLog(e,n,s){if(typeof e=="string"&&(e=this.getEvent(e)),s!=null&&!e.anonymous){let f=this.getEventTopic(e);(!Yt(s[0],32)||s[0].toLowerCase()!==f)&&Sn.throwError("fragment/topic mismatch",ie.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:f,value:s[0]}),s=s.slice(1)}let r=[],i=[],o=[];e.inputs.forEach((f,m)=>{f.indexed?f.type==="string"||f.type==="bytes"||f.baseType==="tuple"||f.baseType==="array"?(r.push(ys.fromObject({type:"bytes32",name:f.name})),o.push(!0)):(r.push(f),o.push(!1)):(i.push(f),o.push(!1))});let l=s!=null?this._abiCoder.decode(r,or(s)):null,c=this._abiCoder.decode(i,n,!0),d=[],u=0,h=0;e.inputs.forEach((f,m)=>{if(f.indexed)if(l==null)d[m]=new RN({_isIndexed:!0,hash:null});else if(o[m])d[m]=new RN({_isIndexed:!0,hash:l[h++]});else try{d[m]=l[h++]}catch(g){d[m]=g}else try{d[m]=c[u++]}catch(g){d[m]=g}if(f.name&&d[f.name]==null){const g=d[m];g instanceof Error?Object.defineProperty(d,f.name,{enumerable:!0,get:()=>{throw OP(`property ${JSON.stringify(f.name)}`,g)}}):d[f.name]=g}});for(let f=0;f<d.length;f++){const m=d[f];m instanceof Error&&Object.defineProperty(d,f,{enumerable:!0,get:()=>{throw OP(`index ${f}`,m)}})}return Object.freeze(d)}parseTransaction(e){let n=this.getFunction(e.data.substring(0,10).toLowerCase());return n?new Nre({args:this._abiCoder.decode(n.inputs,"0x"+e.data.substring(10)),functionFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n),value:Ve.from(e.value||"0")}):null}parseLog(e){let n=this.getEvent(e.topics[0]);return!n||n.anonymous?null:new wre({eventFragment:n,name:n.name,signature:n.format(),topic:this.getEventTopic(n),args:this.decodeEventLog(n,e.data,e.topics)})}parseError(e){const n=tt(e);let s=this.getError(n.substring(0,10).toLowerCase());return s?new kre({args:this._abiCoder.decode(s.inputs,"0x"+n.substring(10)),errorFragment:s,name:s.name,signature:s.format(),sighash:this.getSighash(s)}):null}static isInterface(e){return!!(e&&e._isInterface)}}const Sre="abstract-provider/5.8.0";var Are=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):r(u.value).then(l,c)}d((s=s.apply(t,e||[])).next())})};const Tre=new ie(Sre);class Cre extends Ng{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class tb{constructor(){Tre.checkAbstract(new.target,tb),Ce(this,"_isProvider",!0)}getFeeData(){return Are(this,void 0,void 0,function*(){const{block:e,gasPrice:n}=yield Jn({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(o=>null)});let s=null,r=null,i=null;return e&&e.baseFeePerGas&&(s=e.baseFeePerGas,i=Ve.from("1500000000"),r=e.baseFeePerGas.mul(2).add(i)),{lastBaseFeePerGas:s,maxFeePerGas:r,maxPriorityFeePerGas:i,gasPrice:n}})}addListener(e,n){return this.on(e,n)}removeListener(e,n){return this.off(e,n)}static isProvider(e){return!!(e&&e._isProvider)}}const Ere="abstract-signer/5.8.0";var Pi=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):r(u.value).then(l,c)}d((s=s.apply(t,e||[])).next())})};const ui=new ie(Ere),Ire=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],Pre=[ie.errors.INSUFFICIENT_FUNDS,ie.errors.NONCE_EXPIRED,ie.errors.REPLACEMENT_UNDERPRICED];class af{constructor(){ui.checkAbstract(new.target,af),Ce(this,"_isSigner",!0)}getBalance(e){return Pi(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return Pi(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return Pi(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const n=yield Jn(this.checkTransaction(e));return yield this.provider.estimateGas(n)})}call(e,n){return Pi(this,void 0,void 0,function*(){this._checkProvider("call");const s=yield Jn(this.checkTransaction(e));return yield this.provider.call(s,n)})}sendTransaction(e){return Pi(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const n=yield this.populateTransaction(e),s=yield this.signTransaction(n);return yield this.provider.sendTransaction(s)})}getChainId(){return Pi(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return Pi(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return Pi(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return Pi(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const s in e)Ire.indexOf(s)===-1&&ui.throwArgumentError("invalid transaction key: "+s,"transaction",e);const n=rs(e);return n.from==null?n.from=this.getAddress():n.from=Promise.all([Promise.resolve(n.from),this.getAddress()]).then(s=>(s[0].toLowerCase()!==s[1].toLowerCase()&&ui.throwArgumentError("from address mismatch","transaction",e),s[0])),n}populateTransaction(e){return Pi(this,void 0,void 0,function*(){const n=yield Jn(this.checkTransaction(e));n.to!=null&&(n.to=Promise.resolve(n.to).then(r=>Pi(this,void 0,void 0,function*(){if(r==null)return null;const i=yield this.resolveName(r);return i==null&&ui.throwArgumentError("provided ENS name resolves to null","tx.to",r),i})),n.to.catch(r=>{}));const s=n.maxFeePerGas!=null||n.maxPriorityFeePerGas!=null;if(n.gasPrice!=null&&(n.type===2||s)?ui.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(n.type===0||n.type===1)&&s&&ui.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(n.type===2||n.type==null)&&n.maxFeePerGas!=null&&n.maxPriorityFeePerGas!=null)n.type=2;else if(n.type===0||n.type===1)n.gasPrice==null&&(n.gasPrice=this.getGasPrice());else{const r=yield this.getFeeData();if(n.type==null)if(r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)if(n.type=2,n.gasPrice!=null){const i=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=i,n.maxPriorityFeePerGas=i}else n.maxFeePerGas==null&&(n.maxFeePerGas=r.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=r.maxPriorityFeePerGas);else r.gasPrice!=null?(s&&ui.throwError("network does not support EIP-1559",ie.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),n.gasPrice==null&&(n.gasPrice=r.gasPrice),n.type=0):ui.throwError("failed to get consistent fee data",ie.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else n.type===2&&(n.maxFeePerGas==null&&(n.maxFeePerGas=r.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=r.maxPriorityFeePerGas))}return n.nonce==null&&(n.nonce=this.getTransactionCount("pending")),n.gasLimit==null&&(n.gasLimit=this.estimateGas(n).catch(r=>{if(Pre.indexOf(r.code)>=0)throw r;return ui.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",ie.errors.UNPREDICTABLE_GAS_LIMIT,{error:r,tx:n})})),n.chainId==null?n.chainId=this.getChainId():n.chainId=Promise.all([Promise.resolve(n.chainId),this.getChainId()]).then(r=>(r[1]!==0&&r[0]!==r[1]&&ui.throwArgumentError("chainId address mismatch","transaction",e),r[0])),yield Jn(n)})}_checkProvider(e){this.provider||ui.throwError("missing provider",ie.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class AA extends af{constructor(e,n){super(),Ce(this,"address",e),Ce(this,"provider",n||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,n){return Promise.resolve().then(()=>{ui.throwError(e,ie.errors.UNSUPPORTED_OPERATION,{operation:n})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,n,s){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new AA(this.address,e)}}var SL={},zt={},Sg=AL;function AL(t,e){if(!t)throw new Error(e||"Assertion failed")}AL.equal=function(e,n,s){if(e!=n)throw new Error(s||"Assertion failed: "+e+" != "+n)};var MN={exports:{}};typeof Object.create=="function"?MN.exports=function(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:MN.exports=function(e,n){if(n){e.super_=n;var s=function(){};s.prototype=n.prototype,e.prototype=new s,e.prototype.constructor=e}};var _re=MN.exports,Rre=Sg,Mre=_re;zt.inherits=Mre;function Ore(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function Dre(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var n=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),r=0;r<t.length;r+=2)n.push(parseInt(t[r]+t[r+1],16))}else for(var s=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?n[s++]=i:i<2048?(n[s++]=i>>6|192,n[s++]=i&63|128):Ore(t,r)?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),n[s++]=i>>18|240,n[s++]=i>>12&63|128,n[s++]=i>>6&63|128,n[s++]=i&63|128):(n[s++]=i>>12|224,n[s++]=i>>6&63|128,n[s++]=i&63|128)}else for(r=0;r<t.length;r++)n[r]=t[r]|0;return n}zt.toArray=Dre;function $re(t){for(var e="",n=0;n<t.length;n++)e+=CL(t[n].toString(16));return e}zt.toHex=$re;function TL(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}zt.htonl=TL;function Fre(t,e){for(var n="",s=0;s<t.length;s++){var r=t[s];e==="little"&&(r=TL(r)),n+=EL(r.toString(16))}return n}zt.toHex32=Fre;function CL(t){return t.length===1?"0"+t:t}zt.zero2=CL;function EL(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}zt.zero8=EL;function Lre(t,e,n,s){var r=n-e;Rre(r%4===0);for(var i=new Array(r/4),o=0,l=e;o<i.length;o++,l+=4){var c;s==="big"?c=t[l]<<24|t[l+1]<<16|t[l+2]<<8|t[l+3]:c=t[l+3]<<24|t[l+2]<<16|t[l+1]<<8|t[l],i[o]=c>>>0}return i}zt.join32=Lre;function Bre(t,e){for(var n=new Array(t.length*4),s=0,r=0;s<t.length;s++,r+=4){var i=t[s];e==="big"?(n[r]=i>>>24,n[r+1]=i>>>16&255,n[r+2]=i>>>8&255,n[r+3]=i&255):(n[r+3]=i>>>24,n[r+2]=i>>>16&255,n[r+1]=i>>>8&255,n[r]=i&255)}return n}zt.split32=Bre;function Ure(t,e){return t>>>e|t<<32-e}zt.rotr32=Ure;function Vre(t,e){return t<<e|t>>>32-e}zt.rotl32=Vre;function zre(t,e){return t+e>>>0}zt.sum32=zre;function Hre(t,e,n){return t+e+n>>>0}zt.sum32_3=Hre;function Wre(t,e,n,s){return t+e+n+s>>>0}zt.sum32_4=Wre;function Kre(t,e,n,s,r){return t+e+n+s+r>>>0}zt.sum32_5=Kre;function qre(t,e,n,s){var r=t[e],i=t[e+1],o=s+i>>>0,l=(o<s?1:0)+n+r;t[e]=l>>>0,t[e+1]=o}zt.sum64=qre;function Gre(t,e,n,s){var r=e+s>>>0,i=(r<e?1:0)+t+n;return i>>>0}zt.sum64_hi=Gre;function Yre(t,e,n,s){var r=e+s;return r>>>0}zt.sum64_lo=Yre;function Xre(t,e,n,s,r,i,o,l){var c=0,d=e;d=d+s>>>0,c+=d<e?1:0,d=d+i>>>0,c+=d<i?1:0,d=d+l>>>0,c+=d<l?1:0;var u=t+n+r+o+c;return u>>>0}zt.sum64_4_hi=Xre;function Qre(t,e,n,s,r,i,o,l){var c=e+s+i+l;return c>>>0}zt.sum64_4_lo=Qre;function Jre(t,e,n,s,r,i,o,l,c,d){var u=0,h=e;h=h+s>>>0,u+=h<e?1:0,h=h+i>>>0,u+=h<i?1:0,h=h+l>>>0,u+=h<l?1:0,h=h+d>>>0,u+=h<d?1:0;var f=t+n+r+o+c+u;return f>>>0}zt.sum64_5_hi=Jre;function Zre(t,e,n,s,r,i,o,l,c,d){var u=e+s+i+l+d;return u>>>0}zt.sum64_5_lo=Zre;function eie(t,e,n){var s=e<<32-n|t>>>n;return s>>>0}zt.rotr64_hi=eie;function tie(t,e,n){var s=t<<32-n|e>>>n;return s>>>0}zt.rotr64_lo=tie;function nie(t,e,n){return t>>>n}zt.shr64_hi=nie;function sie(t,e,n){var s=t<<32-n|e>>>n;return s>>>0}zt.shr64_lo=sie;var of={},$P=zt,rie=Sg;function nb(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}of.BlockHash=nb;nb.prototype.update=function(e,n){if(e=$P.toArray(e,n),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var s=e.length%this._delta8;this.pending=e.slice(e.length-s,e.length),this.pending.length===0&&(this.pending=null),e=$P.join32(e,0,e.length-s,this.endian);for(var r=0;r<e.length;r+=this._delta32)this._update(e,r,r+this._delta32)}return this};nb.prototype.digest=function(e){return this.update(this._pad()),rie(this.pending===null),this._digest(e)};nb.prototype._pad=function(){var e=this.pendingTotal,n=this._delta8,s=n-(e+this.padLength)%n,r=new Array(s+this.padLength);r[0]=128;for(var i=1;i<s;i++)r[i]=0;if(e<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)r[i++]=0;r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=e>>>24&255,r[i++]=e>>>16&255,r[i++]=e>>>8&255,r[i++]=e&255}else for(r[i++]=e&255,r[i++]=e>>>8&255,r[i++]=e>>>16&255,r[i++]=e>>>24&255,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,o=8;o<this.padLength;o++)r[i++]=0;return r};var lf={},so={},iie=zt,Ba=iie.rotr32;function aie(t,e,n,s){if(t===0)return IL(e,n,s);if(t===1||t===3)return _L(e,n,s);if(t===2)return PL(e,n,s)}so.ft_1=aie;function IL(t,e,n){return t&e^~t&n}so.ch32=IL;function PL(t,e,n){return t&e^t&n^e&n}so.maj32=PL;function _L(t,e,n){return t^e^n}so.p32=_L;function oie(t){return Ba(t,2)^Ba(t,13)^Ba(t,22)}so.s0_256=oie;function lie(t){return Ba(t,6)^Ba(t,11)^Ba(t,25)}so.s1_256=lie;function cie(t){return Ba(t,7)^Ba(t,18)^t>>>3}so.g0_256=cie;function die(t){return Ba(t,17)^Ba(t,19)^t>>>10}so.g1_256=die;var _h=zt,uie=of,hie=so,Bw=_h.rotl32,Pf=_h.sum32,fie=_h.sum32_5,mie=hie.ft_1,RL=uie.BlockHash,pie=[1518500249,1859775393,2400959708,3395469782];function Xa(){if(!(this instanceof Xa))return new Xa;RL.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}_h.inherits(Xa,RL);var gie=Xa;Xa.blockSize=512;Xa.outSize=160;Xa.hmacStrength=80;Xa.padLength=64;Xa.prototype._update=function(e,n){for(var s=this.W,r=0;r<16;r++)s[r]=e[n+r];for(;r<s.length;r++)s[r]=Bw(s[r-3]^s[r-8]^s[r-14]^s[r-16],1);var i=this.h[0],o=this.h[1],l=this.h[2],c=this.h[3],d=this.h[4];for(r=0;r<s.length;r++){var u=~~(r/20),h=fie(Bw(i,5),mie(u,o,l,c),d,s[r],pie[u]);d=c,c=l,l=Bw(o,30),o=i,i=h}this.h[0]=Pf(this.h[0],i),this.h[1]=Pf(this.h[1],o),this.h[2]=Pf(this.h[2],l),this.h[3]=Pf(this.h[3],c),this.h[4]=Pf(this.h[4],d)};Xa.prototype._digest=function(e){return e==="hex"?_h.toHex32(this.h,"big"):_h.split32(this.h,"big")};var Rh=zt,xie=of,cf=so,yie=Sg,_i=Rh.sum32,vie=Rh.sum32_4,bie=Rh.sum32_5,wie=cf.ch32,Nie=cf.maj32,kie=cf.s0_256,jie=cf.s1_256,Sie=cf.g0_256,Aie=cf.g1_256,ML=xie.BlockHash,Tie=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Qa(){if(!(this instanceof Qa))return new Qa;ML.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Tie,this.W=new Array(64)}Rh.inherits(Qa,ML);var OL=Qa;Qa.blockSize=512;Qa.outSize=256;Qa.hmacStrength=192;Qa.padLength=64;Qa.prototype._update=function(e,n){for(var s=this.W,r=0;r<16;r++)s[r]=e[n+r];for(;r<s.length;r++)s[r]=vie(Aie(s[r-2]),s[r-7],Sie(s[r-15]),s[r-16]);var i=this.h[0],o=this.h[1],l=this.h[2],c=this.h[3],d=this.h[4],u=this.h[5],h=this.h[6],f=this.h[7];for(yie(this.k.length===s.length),r=0;r<s.length;r++){var m=bie(f,jie(d),wie(d,u,h),this.k[r],s[r]),g=_i(kie(i),Nie(i,o,l));f=h,h=u,u=d,d=_i(c,m),c=l,l=o,o=i,i=_i(m,g)}this.h[0]=_i(this.h[0],i),this.h[1]=_i(this.h[1],o),this.h[2]=_i(this.h[2],l),this.h[3]=_i(this.h[3],c),this.h[4]=_i(this.h[4],d),this.h[5]=_i(this.h[5],u),this.h[6]=_i(this.h[6],h),this.h[7]=_i(this.h[7],f)};Qa.prototype._digest=function(e){return e==="hex"?Rh.toHex32(this.h,"big"):Rh.split32(this.h,"big")};var ON=zt,DL=OL;function Ko(){if(!(this instanceof Ko))return new Ko;DL.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}ON.inherits(Ko,DL);var Cie=Ko;Ko.blockSize=512;Ko.outSize=224;Ko.hmacStrength=192;Ko.padLength=64;Ko.prototype._digest=function(e){return e==="hex"?ON.toHex32(this.h.slice(0,7),"big"):ON.split32(this.h.slice(0,7),"big")};var $r=zt,Eie=of,Iie=Sg,Ua=$r.rotr64_hi,Va=$r.rotr64_lo,$L=$r.shr64_hi,FL=$r.shr64_lo,il=$r.sum64,Uw=$r.sum64_hi,Vw=$r.sum64_lo,Pie=$r.sum64_4_hi,_ie=$r.sum64_4_lo,Rie=$r.sum64_5_hi,Mie=$r.sum64_5_lo,LL=Eie.BlockHash,Oie=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function da(){if(!(this instanceof da))return new da;LL.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Oie,this.W=new Array(160)}$r.inherits(da,LL);var BL=da;da.blockSize=1024;da.outSize=512;da.hmacStrength=192;da.padLength=128;da.prototype._prepareBlock=function(e,n){for(var s=this.W,r=0;r<32;r++)s[r]=e[n+r];for(;r<s.length;r+=2){var i=Kie(s[r-4],s[r-3]),o=qie(s[r-4],s[r-3]),l=s[r-14],c=s[r-13],d=Hie(s[r-30],s[r-29]),u=Wie(s[r-30],s[r-29]),h=s[r-32],f=s[r-31];s[r]=Pie(i,o,l,c,d,u,h,f),s[r+1]=_ie(i,o,l,c,d,u,h,f)}};da.prototype._update=function(e,n){this._prepareBlock(e,n);var s=this.W,r=this.h[0],i=this.h[1],o=this.h[2],l=this.h[3],c=this.h[4],d=this.h[5],u=this.h[6],h=this.h[7],f=this.h[8],m=this.h[9],g=this.h[10],p=this.h[11],w=this.h[12],b=this.h[13],y=this.h[14],N=this.h[15];Iie(this.k.length===s.length);for(var A=0;A<s.length;A+=2){var S=y,T=N,_=Vie(f,m),R=zie(f,m),B=Die(f,m,g,p,w),V=$ie(f,m,g,p,w,b),U=this.k[A],L=this.k[A+1],M=s[A],x=s[A+1],j=Rie(S,T,_,R,B,V,U,L,M,x),E=Mie(S,T,_,R,B,V,U,L,M,x);S=Bie(r,i),T=Uie(r,i),_=Fie(r,i,o,l,c),R=Lie(r,i,o,l,c,d);var D=Uw(S,T,_,R),C=Vw(S,T,_,R);y=w,N=b,w=g,b=p,g=f,p=m,f=Uw(u,h,j,E),m=Vw(h,h,j,E),u=c,h=d,c=o,d=l,o=r,l=i,r=Uw(j,E,D,C),i=Vw(j,E,D,C)}il(this.h,0,r,i),il(this.h,2,o,l),il(this.h,4,c,d),il(this.h,6,u,h),il(this.h,8,f,m),il(this.h,10,g,p),il(this.h,12,w,b),il(this.h,14,y,N)};da.prototype._digest=function(e){return e==="hex"?$r.toHex32(this.h,"big"):$r.split32(this.h,"big")};function Die(t,e,n,s,r){var i=t&n^~t&r;return i<0&&(i+=4294967296),i}function $ie(t,e,n,s,r,i){var o=e&s^~e&i;return o<0&&(o+=4294967296),o}function Fie(t,e,n,s,r){var i=t&n^t&r^n&r;return i<0&&(i+=4294967296),i}function Lie(t,e,n,s,r,i){var o=e&s^e&i^s&i;return o<0&&(o+=4294967296),o}function Bie(t,e){var n=Ua(t,e,28),s=Ua(e,t,2),r=Ua(e,t,7),i=n^s^r;return i<0&&(i+=4294967296),i}function Uie(t,e){var n=Va(t,e,28),s=Va(e,t,2),r=Va(e,t,7),i=n^s^r;return i<0&&(i+=4294967296),i}function Vie(t,e){var n=Ua(t,e,14),s=Ua(t,e,18),r=Ua(e,t,9),i=n^s^r;return i<0&&(i+=4294967296),i}function zie(t,e){var n=Va(t,e,14),s=Va(t,e,18),r=Va(e,t,9),i=n^s^r;return i<0&&(i+=4294967296),i}function Hie(t,e){var n=Ua(t,e,1),s=Ua(t,e,8),r=$L(t,e,7),i=n^s^r;return i<0&&(i+=4294967296),i}function Wie(t,e){var n=Va(t,e,1),s=Va(t,e,8),r=FL(t,e,7),i=n^s^r;return i<0&&(i+=4294967296),i}function Kie(t,e){var n=Ua(t,e,19),s=Ua(e,t,29),r=$L(t,e,6),i=n^s^r;return i<0&&(i+=4294967296),i}function qie(t,e){var n=Va(t,e,19),s=Va(e,t,29),r=FL(t,e,6),i=n^s^r;return i<0&&(i+=4294967296),i}var DN=zt,UL=BL;function qo(){if(!(this instanceof qo))return new qo;UL.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}DN.inherits(qo,UL);var Gie=qo;qo.blockSize=1024;qo.outSize=384;qo.hmacStrength=192;qo.padLength=128;qo.prototype._digest=function(e){return e==="hex"?DN.toHex32(this.h.slice(0,12),"big"):DN.split32(this.h.slice(0,12),"big")};lf.sha1=gie;lf.sha224=Cie;lf.sha256=OL;lf.sha384=Gie;lf.sha512=BL;var VL={},Md=zt,Yie=of,p0=Md.rotl32,FP=Md.sum32,_f=Md.sum32_3,LP=Md.sum32_4,zL=Yie.BlockHash;function Ja(){if(!(this instanceof Ja))return new Ja;zL.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Md.inherits(Ja,zL);VL.ripemd160=Ja;Ja.blockSize=512;Ja.outSize=160;Ja.hmacStrength=192;Ja.padLength=64;Ja.prototype._update=function(e,n){for(var s=this.h[0],r=this.h[1],i=this.h[2],o=this.h[3],l=this.h[4],c=s,d=r,u=i,h=o,f=l,m=0;m<80;m++){var g=FP(p0(LP(s,BP(m,r,i,o),e[Jie[m]+n],Xie(m)),eae[m]),l);s=l,l=o,o=p0(i,10),i=r,r=g,g=FP(p0(LP(c,BP(79-m,d,u,h),e[Zie[m]+n],Qie(m)),tae[m]),f),c=f,f=h,h=p0(u,10),u=d,d=g}g=_f(this.h[1],i,h),this.h[1]=_f(this.h[2],o,f),this.h[2]=_f(this.h[3],l,c),this.h[3]=_f(this.h[4],s,d),this.h[4]=_f(this.h[0],r,u),this.h[0]=g};Ja.prototype._digest=function(e){return e==="hex"?Md.toHex32(this.h,"little"):Md.split32(this.h,"little")};function BP(t,e,n,s){return t<=15?e^n^s:t<=31?e&n|~e&s:t<=47?(e|~n)^s:t<=63?e&s|n&~s:e^(n|~s)}function Xie(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function Qie(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var Jie=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Zie=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],eae=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],tae=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],nae=zt,sae=Sg;function Mh(t,e,n){if(!(this instanceof Mh))return new Mh(t,e,n);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(nae.toArray(e,n))}var rae=Mh;Mh.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),sae(e.length<=this.blockSize);for(var n=e.length;n<this.blockSize;n++)e.push(0);for(n=0;n<e.length;n++)e[n]^=54;for(this.inner=new this.Hash().update(e),n=0;n<e.length;n++)e[n]^=106;this.outer=new this.Hash().update(e)};Mh.prototype.update=function(e,n){return this.inner.update(e,n),this};Mh.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(t){var e=t;e.utils=zt,e.common=of,e.sha=lf,e.ripemd=VL,e.hmac=rae,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(SL);const wr=Kd(SL);function df(t,e,n){return n={path:e,exports:{},require:function(s,r){return iae(s,r??n.path)}},t(n,n.exports),n.exports}function iae(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var TA=HL;function HL(t,e){if(!t)throw new Error(e||"Assertion failed")}HL.equal=function(e,n,s){if(e!=n)throw new Error(s||"Assertion failed: "+e+" != "+n)};var Yi=df(function(t,e){var n=e;function s(o,l){if(Array.isArray(o))return o.slice();if(!o)return[];var c=[];if(typeof o!="string"){for(var d=0;d<o.length;d++)c[d]=o[d]|0;return c}if(l==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var d=0;d<o.length;d+=2)c.push(parseInt(o[d]+o[d+1],16))}else for(var d=0;d<o.length;d++){var u=o.charCodeAt(d),h=u>>8,f=u&255;h?c.push(h,f):c.push(f)}return c}n.toArray=s;function r(o){return o.length===1?"0"+o:o}n.zero2=r;function i(o){for(var l="",c=0;c<o.length;c++)l+=r(o[c].toString(16));return l}n.toHex=i,n.encode=function(l,c){return c==="hex"?i(l):l}}),si=df(function(t,e){var n=e;n.assert=TA,n.toArray=Yi.toArray,n.zero2=Yi.zero2,n.toHex=Yi.toHex,n.encode=Yi.encode;function s(c,d,u){var h=new Array(Math.max(c.bitLength(),u)+1),f;for(f=0;f<h.length;f+=1)h[f]=0;var m=1<<d+1,g=c.clone();for(f=0;f<h.length;f++){var p,w=g.andln(m-1);g.isOdd()?(w>(m>>1)-1?p=(m>>1)-w:p=w,g.isubn(p)):p=0,h[f]=p,g.iushrn(1)}return h}n.getNAF=s;function r(c,d){var u=[[],[]];c=c.clone(),d=d.clone();for(var h=0,f=0,m;c.cmpn(-h)>0||d.cmpn(-f)>0;){var g=c.andln(3)+h&3,p=d.andln(3)+f&3;g===3&&(g=-1),p===3&&(p=-1);var w;g&1?(m=c.andln(7)+h&7,(m===3||m===5)&&p===2?w=-g:w=g):w=0,u[0].push(w);var b;p&1?(m=d.andln(7)+f&7,(m===3||m===5)&&g===2?b=-p:b=p):b=0,u[1].push(b),2*h===w+1&&(h=1-h),2*f===b+1&&(f=1-f),c.iushrn(1),d.iushrn(1)}return u}n.getJSF=r;function i(c,d,u){var h="_"+d;c.prototype[d]=function(){return this[h]!==void 0?this[h]:this[h]=u.call(this)}}n.cachedProperty=i;function o(c){return typeof c=="string"?n.toArray(c,"hex"):c}n.parseBytes=o;function l(c){return new kt(c,"hex","le")}n.intFromLE=l}),Dy=si.getNAF,aae=si.getJSF,$y=si.assert;function Nc(t,e){this.type=t,this.p=new kt(e.p,16),this.red=e.prime?kt.red(e.prime):kt.mont(this.p),this.zero=new kt(0).toRed(this.red),this.one=new kt(1).toRed(this.red),this.two=new kt(2).toRed(this.red),this.n=e.n&&new kt(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Qd=Nc;Nc.prototype.point=function(){throw new Error("Not implemented")};Nc.prototype.validate=function(){throw new Error("Not implemented")};Nc.prototype._fixedNafMul=function(e,n){$y(e.precomputed);var s=e._getDoubles(),r=Dy(n,1,this._bitLength),i=(1<<s.step+1)-(s.step%2===0?2:1);i/=3;var o=[],l,c;for(l=0;l<r.length;l+=s.step){c=0;for(var d=l+s.step-1;d>=l;d--)c=(c<<1)+r[d];o.push(c)}for(var u=this.jpoint(null,null,null),h=this.jpoint(null,null,null),f=i;f>0;f--){for(l=0;l<o.length;l++)c=o[l],c===f?h=h.mixedAdd(s.points[l]):c===-f&&(h=h.mixedAdd(s.points[l].neg()));u=u.add(h)}return u.toP()};Nc.prototype._wnafMul=function(e,n){var s=4,r=e._getNAFPoints(s);s=r.wnd;for(var i=r.points,o=Dy(n,s,this._bitLength),l=this.jpoint(null,null,null),c=o.length-1;c>=0;c--){for(var d=0;c>=0&&o[c]===0;c--)d++;if(c>=0&&d++,l=l.dblp(d),c<0)break;var u=o[c];$y(u!==0),e.type==="affine"?u>0?l=l.mixedAdd(i[u-1>>1]):l=l.mixedAdd(i[-u-1>>1].neg()):u>0?l=l.add(i[u-1>>1]):l=l.add(i[-u-1>>1].neg())}return e.type==="affine"?l.toP():l};Nc.prototype._wnafMulAdd=function(e,n,s,r,i){var o=this._wnafT1,l=this._wnafT2,c=this._wnafT3,d=0,u,h,f;for(u=0;u<r;u++){f=n[u];var m=f._getNAFPoints(e);o[u]=m.wnd,l[u]=m.points}for(u=r-1;u>=1;u-=2){var g=u-1,p=u;if(o[g]!==1||o[p]!==1){c[g]=Dy(s[g],o[g],this._bitLength),c[p]=Dy(s[p],o[p],this._bitLength),d=Math.max(c[g].length,d),d=Math.max(c[p].length,d);continue}var w=[n[g],null,null,n[p]];n[g].y.cmp(n[p].y)===0?(w[1]=n[g].add(n[p]),w[2]=n[g].toJ().mixedAdd(n[p].neg())):n[g].y.cmp(n[p].y.redNeg())===0?(w[1]=n[g].toJ().mixedAdd(n[p]),w[2]=n[g].add(n[p].neg())):(w[1]=n[g].toJ().mixedAdd(n[p]),w[2]=n[g].toJ().mixedAdd(n[p].neg()));var b=[-3,-1,-5,-7,0,7,5,1,3],y=aae(s[g],s[p]);for(d=Math.max(y[0].length,d),c[g]=new Array(d),c[p]=new Array(d),h=0;h<d;h++){var N=y[0][h]|0,A=y[1][h]|0;c[g][h]=b[(N+1)*3+(A+1)],c[p][h]=0,l[g]=w}}var S=this.jpoint(null,null,null),T=this._wnafT4;for(u=d;u>=0;u--){for(var _=0;u>=0;){var R=!0;for(h=0;h<r;h++)T[h]=c[h][u]|0,T[h]!==0&&(R=!1);if(!R)break;_++,u--}if(u>=0&&_++,S=S.dblp(_),u<0)break;for(h=0;h<r;h++){var B=T[h];B!==0&&(B>0?f=l[h][B-1>>1]:B<0&&(f=l[h][-B-1>>1].neg()),f.type==="affine"?S=S.mixedAdd(f):S=S.add(f))}}for(u=0;u<r;u++)l[u]=null;return i?S:S.toP()};function Ci(t,e){this.curve=t,this.type=e,this.precomputed=null}Nc.BasePoint=Ci;Ci.prototype.eq=function(){throw new Error("Not implemented")};Ci.prototype.validate=function(){return this.curve.validate(this)};Nc.prototype.decodePoint=function(e,n){e=si.toArray(e,n);var s=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*s){e[0]===6?$y(e[e.length-1]%2===0):e[0]===7&&$y(e[e.length-1]%2===1);var r=this.point(e.slice(1,1+s),e.slice(1+s,1+2*s));return r}else if((e[0]===2||e[0]===3)&&e.length-1===s)return this.pointFromX(e.slice(1,1+s),e[0]===3);throw new Error("Unknown point format")};Ci.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Ci.prototype._encode=function(e){var n=this.curve.p.byteLength(),s=this.getX().toArray("be",n);return e?[this.getY().isEven()?2:3].concat(s):[4].concat(s,this.getY().toArray("be",n))};Ci.prototype.encode=function(e,n){return si.encode(this._encode(n),e)};Ci.prototype.precompute=function(e){if(this.precomputed)return this;var n={doubles:null,naf:null,beta:null};return n.naf=this._getNAFPoints(8),n.doubles=this._getDoubles(4,e),n.beta=this._getBeta(),this.precomputed=n,this};Ci.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var n=this.precomputed.doubles;return n?n.points.length>=Math.ceil((e.bitLength()+1)/n.step):!1};Ci.prototype._getDoubles=function(e,n){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var s=[this],r=this,i=0;i<n;i+=e){for(var o=0;o<e;o++)r=r.dbl();s.push(r)}return{step:e,points:s}};Ci.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var n=[this],s=(1<<e)-1,r=s===1?null:this.dbl(),i=1;i<s;i++)n[i]=n[i-1].add(r);return{wnd:e,points:n}};Ci.prototype._getBeta=function(){return null};Ci.prototype.dblp=function(e){for(var n=this,s=0;s<e;s++)n=n.dbl();return n};var CA=df(function(t){typeof Object.create=="function"?t.exports=function(n,s){s&&(n.super_=s,n.prototype=Object.create(s.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(n,s){if(s){n.super_=s;var r=function(){};r.prototype=s.prototype,n.prototype=new r,n.prototype.constructor=n}}}),oae=si.assert;function Ei(t){Qd.call(this,"short",t),this.a=new kt(t.a,16).toRed(this.red),this.b=new kt(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}CA(Ei,Qd);var lae=Ei;Ei.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var n,s;if(e.beta)n=new kt(e.beta,16).toRed(this.red);else{var r=this._getEndoRoots(this.p);n=r[0].cmp(r[1])<0?r[0]:r[1],n=n.toRed(this.red)}if(e.lambda)s=new kt(e.lambda,16);else{var i=this._getEndoRoots(this.n);this.g.mul(i[0]).x.cmp(this.g.x.redMul(n))===0?s=i[0]:(s=i[1],oae(this.g.mul(s).x.cmp(this.g.x.redMul(n))===0))}var o;return e.basis?o=e.basis.map(function(l){return{a:new kt(l.a,16),b:new kt(l.b,16)}}):o=this._getEndoBasis(s),{beta:n,lambda:s,basis:o}}};Ei.prototype._getEndoRoots=function(e){var n=e===this.p?this.red:kt.mont(e),s=new kt(2).toRed(n).redInvm(),r=s.redNeg(),i=new kt(3).toRed(n).redNeg().redSqrt().redMul(s),o=r.redAdd(i).fromRed(),l=r.redSub(i).fromRed();return[o,l]};Ei.prototype._getEndoBasis=function(e){for(var n=this.n.ushrn(Math.floor(this.n.bitLength()/2)),s=e,r=this.n.clone(),i=new kt(1),o=new kt(0),l=new kt(0),c=new kt(1),d,u,h,f,m,g,p,w=0,b,y;s.cmpn(0)!==0;){var N=r.div(s);b=r.sub(N.mul(s)),y=l.sub(N.mul(i));var A=c.sub(N.mul(o));if(!h&&b.cmp(n)<0)d=p.neg(),u=i,h=b.neg(),f=y;else if(h&&++w===2)break;p=b,r=s,s=b,l=i,i=y,c=o,o=A}m=b.neg(),g=y;var S=h.sqr().add(f.sqr()),T=m.sqr().add(g.sqr());return T.cmp(S)>=0&&(m=d,g=u),h.negative&&(h=h.neg(),f=f.neg()),m.negative&&(m=m.neg(),g=g.neg()),[{a:h,b:f},{a:m,b:g}]};Ei.prototype._endoSplit=function(e){var n=this.endo.basis,s=n[0],r=n[1],i=r.b.mul(e).divRound(this.n),o=s.b.neg().mul(e).divRound(this.n),l=i.mul(s.a),c=o.mul(r.a),d=i.mul(s.b),u=o.mul(r.b),h=e.sub(l).sub(c),f=d.add(u).neg();return{k1:h,k2:f}};Ei.prototype.pointFromX=function(e,n){e=new kt(e,16),e.red||(e=e.toRed(this.red));var s=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),r=s.redSqrt();if(r.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");var i=r.fromRed().isOdd();return(n&&!i||!n&&i)&&(r=r.redNeg()),this.point(e,r)};Ei.prototype.validate=function(e){if(e.inf)return!0;var n=e.x,s=e.y,r=this.a.redMul(n),i=n.redSqr().redMul(n).redIAdd(r).redIAdd(this.b);return s.redSqr().redISub(i).cmpn(0)===0};Ei.prototype._endoWnafMulAdd=function(e,n,s){for(var r=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var l=this._endoSplit(n[o]),c=e[o],d=c._getBeta();l.k1.negative&&(l.k1.ineg(),c=c.neg(!0)),l.k2.negative&&(l.k2.ineg(),d=d.neg(!0)),r[o*2]=c,r[o*2+1]=d,i[o*2]=l.k1,i[o*2+1]=l.k2}for(var u=this._wnafMulAdd(1,r,i,o*2,s),h=0;h<o*2;h++)r[h]=null,i[h]=null;return u};function Ns(t,e,n,s){Qd.BasePoint.call(this,t,"affine"),e===null&&n===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new kt(e,16),this.y=new kt(n,16),s&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}CA(Ns,Qd.BasePoint);Ei.prototype.point=function(e,n,s){return new Ns(this,e,n,s)};Ei.prototype.pointFromJSON=function(e,n){return Ns.fromJSON(this,e,n)};Ns.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var n=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var s=this.curve,r=function(i){return s.point(i.x.redMul(s.endo.beta),i.y)};e.beta=n,n.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(r)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(r)}}}return n}};Ns.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Ns.fromJSON=function(e,n,s){typeof n=="string"&&(n=JSON.parse(n));var r=e.point(n[0],n[1],s);if(!n[2])return r;function i(l){return e.point(l[0],l[1],s)}var o=n[2];return r.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[r].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[r].concat(o.naf.points.map(i))}},r};Ns.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Ns.prototype.isInfinity=function(){return this.inf};Ns.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var n=this.y.redSub(e.y);n.cmpn(0)!==0&&(n=n.redMul(this.x.redSub(e.x).redInvm()));var s=n.redSqr().redISub(this.x).redISub(e.x),r=n.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,r)};Ns.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var n=this.curve.a,s=this.x.redSqr(),r=e.redInvm(),i=s.redAdd(s).redIAdd(s).redIAdd(n).redMul(r),o=i.redSqr().redISub(this.x.redAdd(this.x)),l=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,l)};Ns.prototype.getX=function(){return this.x.fromRed()};Ns.prototype.getY=function(){return this.y.fromRed()};Ns.prototype.mul=function(e){return e=new kt(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Ns.prototype.mulAdd=function(e,n,s){var r=[this,n],i=[e,s];return this.curve.endo?this.curve._endoWnafMulAdd(r,i):this.curve._wnafMulAdd(1,r,i,2)};Ns.prototype.jmulAdd=function(e,n,s){var r=[this,n],i=[e,s];return this.curve.endo?this.curve._endoWnafMulAdd(r,i,!0):this.curve._wnafMulAdd(1,r,i,2,!0)};Ns.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Ns.prototype.neg=function(e){if(this.inf)return this;var n=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var s=this.precomputed,r=function(i){return i.neg()};n.precomputed={naf:s.naf&&{wnd:s.naf.wnd,points:s.naf.points.map(r)},doubles:s.doubles&&{step:s.doubles.step,points:s.doubles.points.map(r)}}}return n};Ns.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function _s(t,e,n,s){Qd.BasePoint.call(this,t,"jacobian"),e===null&&n===null&&s===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new kt(0)):(this.x=new kt(e,16),this.y=new kt(n,16),this.z=new kt(s,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}CA(_s,Qd.BasePoint);Ei.prototype.jpoint=function(e,n,s){return new _s(this,e,n,s)};_s.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),n=e.redSqr(),s=this.x.redMul(n),r=this.y.redMul(n).redMul(e);return this.curve.point(s,r)};_s.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};_s.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var n=e.z.redSqr(),s=this.z.redSqr(),r=this.x.redMul(n),i=e.x.redMul(s),o=this.y.redMul(n.redMul(e.z)),l=e.y.redMul(s.redMul(this.z)),c=r.redSub(i),d=o.redSub(l);if(c.cmpn(0)===0)return d.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=c.redSqr(),h=u.redMul(c),f=r.redMul(u),m=d.redSqr().redIAdd(h).redISub(f).redISub(f),g=d.redMul(f.redISub(m)).redISub(o.redMul(h)),p=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(m,g,p)};_s.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var n=this.z.redSqr(),s=this.x,r=e.x.redMul(n),i=this.y,o=e.y.redMul(n).redMul(this.z),l=s.redSub(r),c=i.redSub(o);if(l.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var d=l.redSqr(),u=d.redMul(l),h=s.redMul(d),f=c.redSqr().redIAdd(u).redISub(h).redISub(h),m=c.redMul(h.redISub(f)).redISub(i.redMul(u)),g=this.z.redMul(l);return this.curve.jpoint(f,m,g)};_s.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var n;if(this.curve.zeroA||this.curve.threeA){var s=this;for(n=0;n<e;n++)s=s.dbl();return s}var r=this.curve.a,i=this.curve.tinv,o=this.x,l=this.y,c=this.z,d=c.redSqr().redSqr(),u=l.redAdd(l);for(n=0;n<e;n++){var h=o.redSqr(),f=u.redSqr(),m=f.redSqr(),g=h.redAdd(h).redIAdd(h).redIAdd(r.redMul(d)),p=o.redMul(f),w=g.redSqr().redISub(p.redAdd(p)),b=p.redISub(w),y=g.redMul(b);y=y.redIAdd(y).redISub(m);var N=u.redMul(c);n+1<e&&(d=d.redMul(m)),o=w,c=N,u=y}return this.curve.jpoint(o,u.redMul(i),c)};_s.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};_s.prototype._zeroDbl=function(){var e,n,s;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),l=this.x.redAdd(i).redSqr().redISub(r).redISub(o);l=l.redIAdd(l);var c=r.redAdd(r).redIAdd(r),d=c.redSqr().redISub(l).redISub(l),u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),e=d,n=c.redMul(l.redISub(d)).redISub(u),s=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),f=this.y.redSqr(),m=f.redSqr(),g=this.x.redAdd(f).redSqr().redISub(h).redISub(m);g=g.redIAdd(g);var p=h.redAdd(h).redIAdd(h),w=p.redSqr(),b=m.redIAdd(m);b=b.redIAdd(b),b=b.redIAdd(b),e=w.redISub(g).redISub(g),n=p.redMul(g.redISub(e)).redISub(b),s=this.y.redMul(this.z),s=s.redIAdd(s)}return this.curve.jpoint(e,n,s)};_s.prototype._threeDbl=function(){var e,n,s;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),l=this.x.redAdd(i).redSqr().redISub(r).redISub(o);l=l.redIAdd(l);var c=r.redAdd(r).redIAdd(r).redIAdd(this.curve.a),d=c.redSqr().redISub(l).redISub(l);e=d;var u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),n=c.redMul(l.redISub(d)).redISub(u),s=this.y.redAdd(this.y)}else{var h=this.z.redSqr(),f=this.y.redSqr(),m=this.x.redMul(f),g=this.x.redSub(h).redMul(this.x.redAdd(h));g=g.redAdd(g).redIAdd(g);var p=m.redIAdd(m);p=p.redIAdd(p);var w=p.redAdd(p);e=g.redSqr().redISub(w),s=this.y.redAdd(this.z).redSqr().redISub(f).redISub(h);var b=f.redSqr();b=b.redIAdd(b),b=b.redIAdd(b),b=b.redIAdd(b),n=g.redMul(p.redISub(e)).redISub(b)}return this.curve.jpoint(e,n,s)};_s.prototype._dbl=function(){var e=this.curve.a,n=this.x,s=this.y,r=this.z,i=r.redSqr().redSqr(),o=n.redSqr(),l=s.redSqr(),c=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),d=n.redAdd(n);d=d.redIAdd(d);var u=d.redMul(l),h=c.redSqr().redISub(u.redAdd(u)),f=u.redISub(h),m=l.redSqr();m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m);var g=c.redMul(f).redISub(m),p=s.redAdd(s).redMul(r);return this.curve.jpoint(h,g,p)};_s.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),n=this.y.redSqr(),s=this.z.redSqr(),r=n.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),l=this.x.redAdd(n).redSqr().redISub(e).redISub(r);l=l.redIAdd(l),l=l.redAdd(l).redIAdd(l),l=l.redISub(o);var c=l.redSqr(),d=r.redIAdd(r);d=d.redIAdd(d),d=d.redIAdd(d),d=d.redIAdd(d);var u=i.redIAdd(l).redSqr().redISub(o).redISub(c).redISub(d),h=n.redMul(u);h=h.redIAdd(h),h=h.redIAdd(h);var f=this.x.redMul(c).redISub(h);f=f.redIAdd(f),f=f.redIAdd(f);var m=this.y.redMul(u.redMul(d.redISub(u)).redISub(l.redMul(c)));m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m);var g=this.z.redAdd(l).redSqr().redISub(s).redISub(c);return this.curve.jpoint(f,m,g)};_s.prototype.mul=function(e,n){return e=new kt(e,n),this.curve._wnafMul(this,e)};_s.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var n=this.z.redSqr(),s=e.z.redSqr();if(this.x.redMul(s).redISub(e.x.redMul(n)).cmpn(0)!==0)return!1;var r=n.redMul(this.z),i=s.redMul(e.z);return this.y.redMul(i).redISub(e.y.redMul(r)).cmpn(0)===0};_s.prototype.eqXToP=function(e){var n=this.z.redSqr(),s=e.toRed(this.curve.red).redMul(n);if(this.x.cmp(s)===0)return!0;for(var r=e.clone(),i=this.curve.redN.redMul(n);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(s.redIAdd(i),this.x.cmp(s)===0)return!0}};_s.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};_s.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var wx=df(function(t,e){var n=e;n.base=Qd,n.short=lae,n.mont=null,n.edwards=null}),Nx=df(function(t,e){var n=e,s=si.assert;function r(l){l.type==="short"?this.curve=new wx.short(l):l.type==="edwards"?this.curve=new wx.edwards(l):this.curve=new wx.mont(l),this.g=this.curve.g,this.n=this.curve.n,this.hash=l.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}n.PresetCurve=r;function i(l,c){Object.defineProperty(n,l,{configurable:!0,enumerable:!0,get:function(){var d=new r(c);return Object.defineProperty(n,l,{configurable:!0,enumerable:!0,value:d}),d}})}i("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:wr.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),i("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:wr.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),i("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:wr.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),i("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:wr.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),i("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:wr.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),i("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:wr.sha256,gRed:!1,g:["9"]}),i("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:wr.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}i("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:wr.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function hc(t){if(!(this instanceof hc))return new hc(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Yi.toArray(t.entropy,t.entropyEnc||"hex"),n=Yi.toArray(t.nonce,t.nonceEnc||"hex"),s=Yi.toArray(t.pers,t.persEnc||"hex");TA(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,n,s)}var WL=hc;hc.prototype._init=function(e,n,s){var r=e.concat(n).concat(s);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(r),this._reseed=1,this.reseedInterval=281474976710656};hc.prototype._hmac=function(){return new wr.hmac(this.hash,this.K)};hc.prototype._update=function(e){var n=this._hmac().update(this.V).update([0]);e&&(n=n.update(e)),this.K=n.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};hc.prototype.reseed=function(e,n,s,r){typeof n!="string"&&(r=s,s=n,n=null),e=Yi.toArray(e,n),s=Yi.toArray(s,r),TA(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(s||[])),this._reseed=1};hc.prototype.generate=function(e,n,s,r){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof n!="string"&&(r=s,s=n,n=null),s&&(s=Yi.toArray(s,r||"hex"),this._update(s));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var o=i.slice(0,e);return this._update(s),this._reseed++,Yi.encode(o,n)};var $N=si.assert;function Gs(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var EA=Gs;Gs.fromPublic=function(e,n,s){return n instanceof Gs?n:new Gs(e,{pub:n,pubEnc:s})};Gs.fromPrivate=function(e,n,s){return n instanceof Gs?n:new Gs(e,{priv:n,privEnc:s})};Gs.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Gs.prototype.getPublic=function(e,n){return typeof e=="string"&&(n=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),n?this.pub.encode(n,e):this.pub};Gs.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Gs.prototype._importPrivate=function(e,n){this.priv=new kt(e,n||16),this.priv=this.priv.umod(this.ec.curve.n)};Gs.prototype._importPublic=function(e,n){if(e.x||e.y){this.ec.curve.type==="mont"?$N(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&$N(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,n)};Gs.prototype.derive=function(e){return e.validate()||$N(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Gs.prototype.sign=function(e,n,s){return this.ec.sign(e,this,n,s)};Gs.prototype.verify=function(e,n,s){return this.ec.verify(e,n,this,void 0,s)};Gs.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var cae=si.assert;function sb(t,e){if(t instanceof sb)return t;this._importDER(t,e)||(cae(t.r&&t.s,"Signature without r or s"),this.r=new kt(t.r,16),this.s=new kt(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var rb=sb;function dae(){this.place=0}function zw(t,e){var n=t[e.place++];if(!(n&128))return n;var s=n&15;if(s===0||s>4||t[e.place]===0)return!1;for(var r=0,i=0,o=e.place;i<s;i++,o++)r<<=8,r|=t[o],r>>>=0;return r<=127?!1:(e.place=o,r)}function UP(t){for(var e=0,n=t.length-1;!t[e]&&!(t[e+1]&128)&&e<n;)e++;return e===0?t:t.slice(e)}sb.prototype._importDER=function(e,n){e=si.toArray(e,n);var s=new dae;if(e[s.place++]!==48)return!1;var r=zw(e,s);if(r===!1||r+s.place!==e.length||e[s.place++]!==2)return!1;var i=zw(e,s);if(i===!1||e[s.place]&128)return!1;var o=e.slice(s.place,i+s.place);if(s.place+=i,e[s.place++]!==2)return!1;var l=zw(e,s);if(l===!1||e.length!==l+s.place||e[s.place]&128)return!1;var c=e.slice(s.place,l+s.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new kt(o),this.s=new kt(c),this.recoveryParam=null,!0};function Hw(t,e){if(e<128){t.push(e);return}var n=1+(Math.log(e)/Math.LN2>>>3);for(t.push(n|128);--n;)t.push(e>>>(n<<3)&255);t.push(e)}sb.prototype.toDER=function(e){var n=this.r.toArray(),s=this.s.toArray();for(n[0]&128&&(n=[0].concat(n)),s[0]&128&&(s=[0].concat(s)),n=UP(n),s=UP(s);!s[0]&&!(s[1]&128);)s=s.slice(1);var r=[2];Hw(r,n.length),r=r.concat(n),r.push(2),Hw(r,s.length);var i=r.concat(s),o=[48];return Hw(o,i.length),o=o.concat(i),si.encode(o,e)};var uae=function(){throw new Error("unsupported")},Vc=si.assert;function Ai(t){if(!(this instanceof Ai))return new Ai(t);typeof t=="string"&&(Vc(Object.prototype.hasOwnProperty.call(Nx,t),"Unknown curve "+t),t=Nx[t]),t instanceof Nx.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var hae=Ai;Ai.prototype.keyPair=function(e){return new EA(this,e)};Ai.prototype.keyFromPrivate=function(e,n){return EA.fromPrivate(this,e,n)};Ai.prototype.keyFromPublic=function(e,n){return EA.fromPublic(this,e,n)};Ai.prototype.genKeyPair=function(e){e||(e={});for(var n=new WL({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||uae(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),s=this.n.byteLength(),r=this.n.sub(new kt(2));;){var i=new kt(n.generate(s));if(!(i.cmp(r)>0))return i.iaddn(1),this.keyFromPrivate(i)}};Ai.prototype._truncateToN=function(e,n,s){var r;if(kt.isBN(e)||typeof e=="number")e=new kt(e,16),r=e.byteLength();else if(typeof e=="object")r=e.length,e=new kt(e,16);else{var i=e.toString();r=i.length+1>>>1,e=new kt(i,16)}typeof s!="number"&&(s=r*8);var o=s-this.n.bitLength();return o>0&&(e=e.ushrn(o)),!n&&e.cmp(this.n)>=0?e.sub(this.n):e};Ai.prototype.sign=function(e,n,s,r){if(typeof s=="object"&&(r=s,s=null),r||(r={}),typeof e!="string"&&typeof e!="number"&&!kt.isBN(e)){Vc(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),Vc(e.length>>>0===e.length);for(var i=0;i<e.length;i++)Vc((e[i]&255)===e[i])}n=this.keyFromPrivate(n,s),e=this._truncateToN(e,!1,r.msgBitLength),Vc(!e.isNeg(),"Can not sign a negative message");var o=this.n.byteLength(),l=n.getPrivate().toArray("be",o),c=e.toArray("be",o);Vc(new kt(c).eq(e),"Can not sign message");for(var d=new WL({hash:this.hash,entropy:l,nonce:c,pers:r.pers,persEnc:r.persEnc||"utf8"}),u=this.n.sub(new kt(1)),h=0;;h++){var f=r.k?r.k(h):new kt(d.generate(this.n.byteLength()));if(f=this._truncateToN(f,!0),!(f.cmpn(1)<=0||f.cmp(u)>=0)){var m=this.g.mul(f);if(!m.isInfinity()){var g=m.getX(),p=g.umod(this.n);if(p.cmpn(0)!==0){var w=f.invm(this.n).mul(p.mul(n.getPrivate()).iadd(e));if(w=w.umod(this.n),w.cmpn(0)!==0){var b=(m.getY().isOdd()?1:0)|(g.cmp(p)!==0?2:0);return r.canonical&&w.cmp(this.nh)>0&&(w=this.n.sub(w),b^=1),new rb({r:p,s:w,recoveryParam:b})}}}}}};Ai.prototype.verify=function(e,n,s,r,i){i||(i={}),e=this._truncateToN(e,!1,i.msgBitLength),s=this.keyFromPublic(s,r),n=new rb(n,"hex");var o=n.r,l=n.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||l.cmpn(1)<0||l.cmp(this.n)>=0)return!1;var c=l.invm(this.n),d=c.mul(e).umod(this.n),u=c.mul(o).umod(this.n),h;return this.curve._maxwellTrick?(h=this.g.jmulAdd(d,s.getPublic(),u),h.isInfinity()?!1:h.eqXToP(o)):(h=this.g.mulAdd(d,s.getPublic(),u),h.isInfinity()?!1:h.getX().umod(this.n).cmp(o)===0)};Ai.prototype.recoverPubKey=function(t,e,n,s){Vc((3&n)===n,"The recovery param is more than two bits"),e=new rb(e,s);var r=this.n,i=new kt(t),o=e.r,l=e.s,c=n&1,d=n>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&d)throw new Error("Unable to find sencond key candinate");d?o=this.curve.pointFromX(o.add(this.curve.n),c):o=this.curve.pointFromX(o,c);var u=e.r.invm(r),h=r.sub(i).mul(u).umod(r),f=l.mul(u).umod(r);return this.g.mulAdd(h,o,f)};Ai.prototype.getKeyRecoveryParam=function(t,e,n,s){if(e=new rb(e,s),e.recoveryParam!==null)return e.recoveryParam;for(var r=0;r<4;r++){var i;try{i=this.recoverPubKey(t,e,r)}catch{continue}if(i.eq(n))return r}throw new Error("Unable to find valid recovery factor")};var fae=df(function(t,e){var n=e;n.version="6.6.1",n.utils=si,n.rand=function(){throw new Error("unsupported")},n.curve=wx,n.curves=Nx,n.ec=hae,n.eddsa=null}),mae=fae.ec;const pae="signing-key/5.8.0",FN=new ie(pae);let Ww=null;function xl(){return Ww||(Ww=new mae("secp256k1")),Ww}class gae{constructor(e){Ce(this,"curve","secp256k1"),Ce(this,"privateKey",tt(e)),_d(this.privateKey)!==32&&FN.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const n=xl().keyFromPrivate(ot(this.privateKey));Ce(this,"publicKey","0x"+n.getPublic(!1,"hex")),Ce(this,"compressedPublicKey","0x"+n.getPublic(!0,"hex")),Ce(this,"_isSigningKey",!0)}_addPoint(e){const n=xl().keyFromPublic(ot(this.publicKey)),s=xl().keyFromPublic(ot(e));return"0x"+n.pub.add(s.pub).encodeCompressed("hex")}signDigest(e){const n=xl().keyFromPrivate(ot(this.privateKey)),s=ot(e);s.length!==32&&FN.throwArgumentError("bad digest length","digest",e);const r=n.sign(s,{canonical:!0});return rf({recoveryParam:r.recoveryParam,r:jn("0x"+r.r.toString(16),32),s:jn("0x"+r.s.toString(16),32)})}computeSharedSecret(e){const n=xl().keyFromPrivate(ot(this.privateKey)),s=xl().keyFromPublic(ot(KL(e)));return jn("0x"+n.derive(s.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function xae(t,e){const n=rf(e),s={r:ot(n.r),s:ot(n.s)};return"0x"+xl().recoverPubKey(ot(t),s,n.recoveryParam).encode("hex",!1)}function KL(t,e){const n=ot(t);return n.length===32?new gae(n).publicKey:n.length===33?"0x"+xl().keyFromPublic(n).getPublic(!1,"hex"):n.length===65?tt(n):FN.throwArgumentError("invalid public or private key","key","[REDACTED]")}const yae="transactions/5.8.0",Us=new ie(yae);var VP;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(VP||(VP={}));function IA(t){return t==="0x"?null:Ps(t)}function Bs(t){return t==="0x"?cL:Ve.from(t)}const vae=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],bae={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function wae(t){const e=KL(t);return Ps(Fs(us(Fs(e,1)),12))}function qL(t,e){return wae(xae(ot(t),e))}function zr(t,e){const n=_o(Ve.from(t).toHexString());return n.length>32&&Us.throwArgumentError("invalid length for "+e,"transaction:"+e,t),n}function Kw(t,e){return{address:Ps(t),storageKeys:(e||[]).map((n,s)=>(_d(n)!==32&&Us.throwArgumentError("invalid access list storageKey",`accessList[${t}:${s}]`,n),n.toLowerCase()))}}function uf(t){if(Array.isArray(t))return t.map((n,s)=>Array.isArray(n)?(n.length>2&&Us.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${s}]`,n),Kw(n[0],n[1])):Kw(n.address,n.storageKeys));const e=Object.keys(t).map(n=>{const s=t[n].reduce((r,i)=>(r[i]=!0,r),{});return Kw(n,Object.keys(s).sort())});return e.sort((n,s)=>n.address.localeCompare(s.address)),e}function GL(t){return uf(t).map(e=>[e.address,e.storageKeys])}function YL(t,e){if(t.gasPrice!=null){const s=Ve.from(t.gasPrice),r=Ve.from(t.maxFeePerGas||0);s.eq(r)||Us.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:s,maxFeePerGas:r})}const n=[zr(t.chainId||0,"chainId"),zr(t.nonce||0,"nonce"),zr(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),zr(t.maxFeePerGas||0,"maxFeePerGas"),zr(t.gasLimit||0,"gasLimit"),t.to!=null?Ps(t.to):"0x",zr(t.value||0,"value"),t.data||"0x",GL(t.accessList||[])];if(e){const s=rf(e);n.push(zr(s.recoveryParam,"recoveryParam")),n.push(_o(s.r)),n.push(_o(s.s))}return jr(["0x02",Ph(n)])}function XL(t,e){const n=[zr(t.chainId||0,"chainId"),zr(t.nonce||0,"nonce"),zr(t.gasPrice||0,"gasPrice"),zr(t.gasLimit||0,"gasLimit"),t.to!=null?Ps(t.to):"0x",zr(t.value||0,"value"),t.data||"0x",GL(t.accessList||[])];if(e){const s=rf(e);n.push(zr(s.recoveryParam,"recoveryParam")),n.push(_o(s.r)),n.push(_o(s.s))}return jr(["0x01",Ph(n)])}function Nae(t,e){QF(t,bae);const n=[];vae.forEach(function(o){let l=t[o.name]||[];const c={};o.numeric&&(c.hexPad="left"),l=ot(tt(l,c)),o.length&&l.length!==o.length&&l.length>0&&Us.throwArgumentError("invalid length for "+o.name,"transaction:"+o.name,l),o.maxLength&&(l=_o(l),l.length>o.maxLength&&Us.throwArgumentError("invalid length for "+o.name,"transaction:"+o.name,l)),n.push(tt(l))});let s=0;if(t.chainId!=null?(s=t.chainId,typeof s!="number"&&Us.throwArgumentError("invalid transaction.chainId","transaction",t)):e&&!Zv(e)&&e.v>28&&(s=Math.floor((e.v-35)/2)),s!==0&&(n.push(tt(s)),n.push("0x"),n.push("0x")),!e)return Ph(n);const r=rf(e);let i=27+r.recoveryParam;return s!==0?(n.pop(),n.pop(),n.pop(),i+=s*2+8,r.v>28&&r.v!==i&&Us.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):r.v!==i&&Us.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),n.push(tt(i)),n.push(_o(ot(r.r))),n.push(_o(ot(r.s))),Ph(n)}function dje(t,e){if(t.type==null||t.type===0)return t.accessList!=null&&Us.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",t),Nae(t,e);switch(t.type){case 1:return XL(t,e);case 2:return YL(t,e)}return Us.throwError(`unsupported transaction type: ${t.type}`,ie.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:t.type})}function QL(t,e,n){try{const s=Bs(e[0]).toNumber();if(s!==0&&s!==1)throw new Error("bad recid");t.v=s}catch{Us.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=jn(e[1],32),t.s=jn(e[2],32);try{const s=us(n(t));t.from=qL(s,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function kae(t){const e=kA(t.slice(1));e.length!==9&&e.length!==12&&Us.throwArgumentError("invalid component count for transaction type: 2","payload",tt(t));const n=Bs(e[2]),s=Bs(e[3]),r={type:2,chainId:Bs(e[0]).toNumber(),nonce:Bs(e[1]).toNumber(),maxPriorityFeePerGas:n,maxFeePerGas:s,gasPrice:null,gasLimit:Bs(e[4]),to:IA(e[5]),value:Bs(e[6]),data:e[7],accessList:uf(e[8])};return e.length===9||(r.hash=us(t),QL(r,e.slice(9),YL)),r}function jae(t){const e=kA(t.slice(1));e.length!==8&&e.length!==11&&Us.throwArgumentError("invalid component count for transaction type: 1","payload",tt(t));const n={type:1,chainId:Bs(e[0]).toNumber(),nonce:Bs(e[1]).toNumber(),gasPrice:Bs(e[2]),gasLimit:Bs(e[3]),to:IA(e[4]),value:Bs(e[5]),data:e[6],accessList:uf(e[7])};return e.length===8||(n.hash=us(t),QL(n,e.slice(8),XL)),n}function Sae(t){const e=kA(t);e.length!==9&&e.length!==6&&Us.throwArgumentError("invalid raw transaction","rawTransaction",t);const n={nonce:Bs(e[0]).toNumber(),gasPrice:Bs(e[1]),gasLimit:Bs(e[2]),to:IA(e[3]),value:Bs(e[4]),data:e[5],chainId:0};if(e.length===6)return n;try{n.v=Ve.from(e[6]).toNumber()}catch{return n}if(n.r=jn(e[7],32),n.s=jn(e[8],32),Ve.from(n.r).isZero()&&Ve.from(n.s).isZero())n.chainId=n.v,n.v=0;else{n.chainId=Math.floor((n.v-35)/2),n.chainId<0&&(n.chainId=0);let s=n.v-27;const r=e.slice(0,6);n.chainId!==0&&(r.push(tt(n.chainId)),r.push("0x"),r.push("0x"),s-=n.chainId*2+8);const i=us(Ph(r));try{n.from=qL(i,{r:tt(n.r),s:tt(n.s),recoveryParam:s})}catch{}n.hash=us(t)}return n.type=null,n}function Aae(t){const e=ot(t);if(e[0]>127)return Sae(e);switch(e[0]){case 1:return jae(e);case 2:return kae(e)}return Us.throwError(`unsupported transaction type: ${e[0]}`,ie.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const Tae="contracts/5.7.0";var fc=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):r(u.value).then(l,c)}d((s=s.apply(t,e||[])).next())})};const cn=new ie(Tae),Cae={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0,customData:!0,ccipReadEnabled:!0};function Fy(t,e){return fc(this,void 0,void 0,function*(){const n=yield e;typeof n!="string"&&cn.throwArgumentError("invalid address or ENS name","name",n);try{return Ps(n)}catch{}t||cn.throwError("a provider or signer is needed to resolve ENS names",ie.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const s=yield t.resolveName(n);return s==null&&cn.throwArgumentError("resolver or addr is not configured for ENS name","name",n),s})}function jm(t,e,n){return fc(this,void 0,void 0,function*(){return Array.isArray(n)?yield Promise.all(n.map((s,r)=>jm(t,Array.isArray(e)?e[r]:e[s.name],s))):n.type==="address"?yield Fy(t,e):n.type==="tuple"?yield jm(t,e,n.components):n.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(s=>jm(t,s,n.arrayChildren))):Promise.reject(cn.makeError("invalid value for array",ie.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function ib(t,e,n){return fc(this,void 0,void 0,function*(){let s={};n.length===e.inputs.length+1&&typeof n[n.length-1]=="object"&&(s=rs(n.pop())),cn.checkArgumentCount(n.length,e.inputs.length,"passed to contract"),t.signer?s.from?s.from=Jn({override:Fy(t.signer,s.from),signer:t.signer.getAddress()}).then(d=>fc(this,void 0,void 0,function*(){return Ps(d.signer)!==d.override&&cn.throwError("Contract with a Signer cannot override from",ie.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),d.override})):s.from=t.signer.getAddress():s.from&&(s.from=Fy(t.provider,s.from));const r=yield Jn({args:jm(t.signer||t.provider,n,e.inputs),address:t.resolvedAddress,overrides:Jn(s)||{}}),i=t.interface.encodeFunctionData(e,r.args),o={data:i,to:r.address},l=r.overrides;if(l.nonce!=null&&(o.nonce=Ve.from(l.nonce).toNumber()),l.gasLimit!=null&&(o.gasLimit=Ve.from(l.gasLimit)),l.gasPrice!=null&&(o.gasPrice=Ve.from(l.gasPrice)),l.maxFeePerGas!=null&&(o.maxFeePerGas=Ve.from(l.maxFeePerGas)),l.maxPriorityFeePerGas!=null&&(o.maxPriorityFeePerGas=Ve.from(l.maxPriorityFeePerGas)),l.from!=null&&(o.from=l.from),l.type!=null&&(o.type=l.type),l.accessList!=null&&(o.accessList=uf(l.accessList)),o.gasLimit==null&&e.gas!=null){let d=21e3;const u=ot(i);for(let h=0;h<u.length;h++)d+=4,u[h]&&(d+=64);o.gasLimit=Ve.from(e.gas).add(d)}if(l.value){const d=Ve.from(l.value);!d.isZero()&&!e.payable&&cn.throwError("non-payable method cannot override value",ie.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:s.value}),o.value=d}l.customData&&(o.customData=rs(l.customData)),l.ccipReadEnabled&&(o.ccipReadEnabled=!!l.ccipReadEnabled),delete s.nonce,delete s.gasLimit,delete s.gasPrice,delete s.from,delete s.value,delete s.type,delete s.accessList,delete s.maxFeePerGas,delete s.maxPriorityFeePerGas,delete s.customData,delete s.ccipReadEnabled;const c=Object.keys(s).filter(d=>s[d]!=null);return c.length&&cn.throwError(`cannot override ${c.map(d=>JSON.stringify(d)).join(",")}`,ie.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:c}),o})}function Eae(t,e){return function(...n){return ib(t,e,n)}}function Iae(t,e){const n=t.signer||t.provider;return function(...s){return fc(this,void 0,void 0,function*(){n||cn.throwError("estimate require a provider or signer",ie.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const r=yield ib(t,e,s);return yield n.estimateGas(r)})}}function JL(t,e){const n=e.wait.bind(e);e.wait=s=>n(s).then(r=>(r.events=r.logs.map(i=>{let o=Wo(i),l=null;try{l=t.interface.parseLog(i)}catch{}return l&&(o.args=l.args,o.decode=(c,d)=>t.interface.decodeEventLog(l.eventFragment,c,d),o.event=l.name,o.eventSignature=l.signature),o.removeListener=()=>t.provider,o.getBlock=()=>t.provider.getBlock(r.blockHash),o.getTransaction=()=>t.provider.getTransaction(r.transactionHash),o.getTransactionReceipt=()=>Promise.resolve(r),o}),r))}function ZL(t,e,n){const s=t.signer||t.provider;return function(...r){return fc(this,void 0,void 0,function*(){let i;if(r.length===e.inputs.length+1&&typeof r[r.length-1]=="object"){const c=rs(r.pop());c.blockTag!=null&&(i=yield c.blockTag),delete c.blockTag,r.push(c)}t.deployTransaction!=null&&(yield t._deployed(i));const o=yield ib(t,e,r),l=yield s.call(o,i);try{let c=t.interface.decodeFunctionResult(e,l);return n&&e.outputs.length===1&&(c=c[0]),c}catch(c){throw c.code===ie.errors.CALL_EXCEPTION&&(c.address=t.address,c.args=r,c.transaction=o),c}})}}function Pae(t,e){return function(...n){return fc(this,void 0,void 0,function*(){t.signer||cn.throwError("sending a transaction requires a signer",ie.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),t.deployTransaction!=null&&(yield t._deployed());const s=yield ib(t,e,n),r=yield t.signer.sendTransaction(s);return JL(t,r),r})}}function zP(t,e,n){return e.constant?ZL(t,e,n):Pae(t,e)}function e8(t){return t.address&&(t.topics==null||t.topics.length===0)?"*":(t.address||"*")+"@"+(t.topics?t.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class vp{constructor(e,n){Ce(this,"tag",e),Ce(this,"filter",n),this._listeners=[]}addListener(e,n){this._listeners.push({listener:e,once:n})}removeListener(e){let n=!1;this._listeners=this._listeners.filter(s=>n||s.listener!==e?!0:(n=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const n=this.listenerCount();return this._listeners=this._listeners.filter(s=>{const r=e.slice();return setTimeout(()=>{s.listener.apply(this,r)},0),!s.once}),n}prepareEvent(e){}getEmit(e){return[e]}}class _ae extends vp{constructor(){super("error",null)}}class HP extends vp{constructor(e,n,s,r){const i={address:e};let o=n.getEventTopic(s);r?(o!==r[0]&&cn.throwArgumentError("topic mismatch","topics",r),i.topics=r.slice()):i.topics=[o],super(e8(i),i),Ce(this,"address",e),Ce(this,"interface",n),Ce(this,"fragment",s)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(n,s)=>this.interface.decodeEventLog(this.fragment,n,s);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(n){e.args=null,e.decodeError=n}}getEmit(e){const n=fse(e.args);if(n.length)throw n[0].error;const s=(e.args||[]).slice();return s.push(e),s}}class WP extends vp{constructor(e,n){super("*",{address:e}),Ce(this,"address",e),Ce(this,"interface",n)}prepareEvent(e){super.prepareEvent(e);try{const n=this.interface.parseLog(e);e.event=n.name,e.eventSignature=n.signature,e.decode=(s,r)=>this.interface.decodeEventLog(n.eventFragment,s,r),e.args=n.args}catch{}}}class Rae{constructor(e,n,s){Ce(this,"interface",Gr(new.target,"getInterface")(n)),s==null?(Ce(this,"provider",null),Ce(this,"signer",null)):af.isSigner(s)?(Ce(this,"provider",s.provider||null),Ce(this,"signer",s)):tb.isProvider(s)?(Ce(this,"provider",s),Ce(this,"signer",null)):cn.throwArgumentError("invalid signer or provider","signerOrProvider",s),Ce(this,"callStatic",{}),Ce(this,"estimateGas",{}),Ce(this,"functions",{}),Ce(this,"populateTransaction",{}),Ce(this,"filters",{});{const o={};Object.keys(this.interface.events).forEach(l=>{const c=this.interface.events[l];Ce(this.filters,l,(...d)=>({address:this.address,topics:this.interface.encodeFilterTopics(c,d)})),o[c.name]||(o[c.name]=[]),o[c.name].push(l)}),Object.keys(o).forEach(l=>{const c=o[l];c.length===1?Ce(this.filters,l,this.filters[c[0]]):cn.warn(`Duplicate definition of ${l} (${c.join(", ")})`)})}if(Ce(this,"_runningEvents",{}),Ce(this,"_wrappedEmits",{}),e==null&&cn.throwArgumentError("invalid contract address or ENS name","addressOrName",e),Ce(this,"address",e),this.provider)Ce(this,"resolvedAddress",Fy(this.provider,e));else try{Ce(this,"resolvedAddress",Promise.resolve(Ps(e)))}catch{cn.throwError("provider is required to use ENS name as contract address",ie.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(o=>{});const r={},i={};Object.keys(this.interface.functions).forEach(o=>{const l=this.interface.functions[o];if(i[o]){cn.warn(`Duplicate ABI entry for ${JSON.stringify(o)}`);return}i[o]=!0;{const c=l.name;r[`%${c}`]||(r[`%${c}`]=[]),r[`%${c}`].push(o)}this[o]==null&&Ce(this,o,zP(this,l,!0)),this.functions[o]==null&&Ce(this.functions,o,zP(this,l,!1)),this.callStatic[o]==null&&Ce(this.callStatic,o,ZL(this,l,!0)),this.populateTransaction[o]==null&&Ce(this.populateTransaction,o,Eae(this,l)),this.estimateGas[o]==null&&Ce(this.estimateGas,o,Iae(this,l))}),Object.keys(r).forEach(o=>{const l=r[o];if(l.length>1)return;o=o.substring(1);const c=l[0];try{this[o]==null&&Ce(this,o,this[c])}catch{}this.functions[o]==null&&Ce(this.functions,o,this.functions[c]),this.callStatic[o]==null&&Ce(this.callStatic,o,this.callStatic[c]),this.populateTransaction[o]==null&&Ce(this.populateTransaction,o,this.populateTransaction[c]),this.estimateGas[o]==null&&Ce(this.estimateGas,o,this.estimateGas[c])})}static getContractAddress(e){return SA(e)}static getInterface(e){return DP.isInterface(e)?e:new DP(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(n=>(n==="0x"&&cn.throwError("contract not deployed",ie.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||cn.throwError("sending a transactions require a signer",ie.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const n=rs(e||{});return["from","to"].forEach(function(s){n[s]!=null&&cn.throwError("cannot override "+s,ie.errors.UNSUPPORTED_OPERATION,{operation:s})}),n.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(n))}connect(e){typeof e=="string"&&(e=new AA(e,this.provider));const n=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&Ce(n,"deployTransaction",this.deployTransaction),n}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return RN.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new _ae);if(e==="event")return this._normalizeRunningEvent(new vp("event",null));if(e==="*")return this._normalizeRunningEvent(new WP(this.address,this.interface));const n=this.interface.getEvent(e);return this._normalizeRunningEvent(new HP(this.address,this.interface,n))}if(e.topics&&e.topics.length>0){try{const s=e.topics[0];if(typeof s!="string")throw new Error("invalid topic");const r=this.interface.getEvent(s);return this._normalizeRunningEvent(new HP(this.address,this.interface,r,e.topics))}catch{}const n={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new vp(e8(n),n))}return this._normalizeRunningEvent(new WP(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const n=this._wrappedEmits[e.tag];n&&e.filter&&(this.provider.off(e.filter,n),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,n,s){const r=Wo(n);return r.removeListener=()=>{s&&(e.removeListener(s),this._checkRunningEvents(e))},r.getBlock=()=>this.provider.getBlock(n.blockHash),r.getTransaction=()=>this.provider.getTransaction(n.transactionHash),r.getTransactionReceipt=()=>this.provider.getTransactionReceipt(n.transactionHash),e.prepareEvent(r),r}_addEventListener(e,n,s){if(this.provider||cn.throwError("events require a provider or a signer with a provider",ie.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(n,s),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const r=i=>{let o=this._wrapEvent(e,i,n);if(o.decodeError==null)try{const l=e.getEmit(o);this.emit(e.filter,...l)}catch(l){o.decodeError=l.error}e.filter!=null&&this.emit("event",o),o.decodeError!=null&&this.emit("error",o.decodeError,o)};this._wrappedEmits[e.tag]=r,e.filter!=null&&this.provider.on(e.filter,r)}}queryFilter(e,n,s){const r=this._getRunningEvent(e),i=rs(r.filter);return typeof n=="string"&&Yt(n,32)?(s!=null&&cn.throwArgumentError("cannot specify toBlock with blockhash","toBlock",s),i.blockHash=n):(i.fromBlock=n??0,i.toBlock=s??"latest"),this.provider.getLogs(i).then(o=>o.map(l=>this._wrapEvent(r,l,null)))}on(e,n){return this._addEventListener(this._getRunningEvent(e),n,!1),this}once(e,n){return this._addEventListener(this._getRunningEvent(e),n,!0),this}emit(e,...n){if(!this.provider)return!1;const s=this._getRunningEvent(e),r=s.run(n)>0;return this._checkRunningEvents(s),r}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((n,s)=>n+this._runningEvents[s].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const n=[];for(let s in this._runningEvents)this._runningEvents[s].listeners().forEach(r=>{n.push(r)});return n}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const s in this._runningEvents){const r=this._runningEvents[s];r.removeAllListeners(),this._checkRunningEvents(r)}return this}const n=this._getRunningEvent(e);return n.removeAllListeners(),this._checkRunningEvents(n),this}off(e,n){if(!this.provider)return this;const s=this._getRunningEvent(e);return s.removeListener(n),this._checkRunningEvents(s),this}removeListener(e,n){return this.off(e,n)}}class Xe extends Rae{}class uje{constructor(e,n,s){let r=null;typeof n=="string"?r=n:Xd(n)?r=tt(n):n&&typeof n.object=="string"?r=n.object:r="!",r.substring(0,2)!=="0x"&&(r="0x"+r),(!Yt(r)||r.length%2)&&cn.throwArgumentError("invalid bytecode","bytecode",n),s&&!af.isSigner(s)&&cn.throwArgumentError("invalid signer","signer",s),Ce(this,"bytecode",r),Ce(this,"interface",Gr(new.target,"getInterface")(e)),Ce(this,"signer",s||null)}getDeployTransaction(...e){let n={};if(e.length===this.interface.deploy.inputs.length+1&&typeof e[e.length-1]=="object"){n=rs(e.pop());for(const s in n)if(!Cae[s])throw new Error("unknown transaction override "+s)}return["data","from","to"].forEach(s=>{n[s]!=null&&cn.throwError("cannot override "+s,ie.errors.UNSUPPORTED_OPERATION,{operation:s})}),n.value&&!Ve.from(n.value).isZero()&&!this.interface.deploy.payable&&cn.throwError("non-payable constructor cannot override value",ie.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),cn.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor"),n.data=tt(or([this.bytecode,this.interface.encodeDeploy(e)])),n}deploy(...e){return fc(this,void 0,void 0,function*(){let n={};e.length===this.interface.deploy.inputs.length+1&&(n=e.pop()),cn.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor");const s=yield jm(this.signer,e,this.interface.deploy.inputs);s.push(n);const r=this.getDeployTransaction(...s),i=yield this.signer.sendTransaction(r),o=Gr(this.constructor,"getContractAddress")(i),l=Gr(this.constructor,"getContract")(o,this.interface,this.signer);return JL(l,i),Ce(l,"deployTransaction",i),l})}attach(e){return this.constructor.getContract(e,this.interface,this.signer)}connect(e){return new this.constructor(this.interface,this.bytecode,e)}static fromSolidity(e,n){e==null&&cn.throwError("missing compiler output",ie.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),typeof e=="string"&&(e=JSON.parse(e));const s=e.abi;let r=null;return e.bytecode?r=e.bytecode:e.evm&&e.evm.bytecode&&(r=e.evm.bytecode),new this(s,r,n)}static getInterface(e){return Xe.getInterface(e)}static getContractAddress(e){return SA(e)}static getContract(e,n,s){return new Xe(e,n,s)}}const Mae="logger/5.7.0";let KP=!1,qP=!1;const kx={debug:1,default:2,info:2,warning:3,error:4,off:5};let GP=kx.default,qw=null;function Oae(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const YP=Oae();var LN;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(LN||(LN={}));var Vi;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Vi||(Vi={}));const XP="0123456789abcdef";class Ot{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,n){const s=e.toLowerCase();kx[s]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(GP>kx[s])&&console.log.apply(console,n)}debug(...e){this._log(Ot.levels.DEBUG,e)}info(...e){this._log(Ot.levels.INFO,e)}warn(...e){this._log(Ot.levels.WARNING,e)}makeError(e,n,s){if(qP)return this.makeError("censored error",n,{});n||(n=Ot.errors.UNKNOWN_ERROR),s||(s={});const r=[];Object.keys(s).forEach(c=>{const d=s[c];try{if(d instanceof Uint8Array){let u="";for(let h=0;h<d.length;h++)u+=XP[d[h]>>4],u+=XP[d[h]&15];r.push(c+"=Uint8Array(0x"+u+")")}else r.push(c+"="+JSON.stringify(d))}catch{r.push(c+"="+JSON.stringify(s[c].toString()))}}),r.push(`code=${n}`),r.push(`version=${this.version}`);const i=e;let o="";switch(n){case Vi.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Vi.CALL_EXCEPTION:case Vi.INSUFFICIENT_FUNDS:case Vi.MISSING_NEW:case Vi.NONCE_EXPIRED:case Vi.REPLACEMENT_UNDERPRICED:case Vi.TRANSACTION_REPLACED:case Vi.UNPREDICTABLE_GAS_LIMIT:o=n;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),r.length&&(e+=" ("+r.join(", ")+")");const l=new Error(e);return l.reason=i,l.code=n,Object.keys(s).forEach(function(c){l[c]=s[c]}),l}throwError(e,n,s){throw this.makeError(e,n,s)}throwArgumentError(e,n,s){return this.throwError(e,Ot.errors.INVALID_ARGUMENT,{argument:n,value:s})}assert(e,n,s,r){e||this.throwError(n,s,r)}assertArgument(e,n,s,r){e||this.throwArgumentError(n,s,r)}checkNormalize(e){YP&&this.throwError("platform missing String.prototype.normalize",Ot.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:YP})}checkSafeUint53(e,n){typeof e=="number"&&(n==null&&(n="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(n,Ot.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(n,Ot.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,n,s){s?s=": "+s:s="",e<n&&this.throwError("missing argument"+s,Ot.errors.MISSING_ARGUMENT,{count:e,expectedCount:n}),e>n&&this.throwError("too many arguments"+s,Ot.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:n})}checkNew(e,n){(e===Object||e==null)&&this.throwError("missing new",Ot.errors.MISSING_NEW,{name:n.name})}checkAbstract(e,n){e===n?this.throwError("cannot instantiate abstract class "+JSON.stringify(n.name)+" directly; use a sub-class",Ot.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Ot.errors.MISSING_NEW,{name:n.name})}static globalLogger(){return qw||(qw=new Ot(Mae)),qw}static setCensorship(e,n){if(!e&&n&&this.globalLogger().throwError("cannot permanently disable censorship",Ot.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),KP){if(!e)return;this.globalLogger().throwError("error censorship permanent",Ot.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}qP=!!e,KP=!!n}static setLogLevel(e){const n=kx[e.toLowerCase()];if(n==null){Ot.globalLogger().warn("invalid log level - "+e);return}GP=n}static from(e){return new Ot(e)}}Ot.errors=Vi;Ot.levels=LN;const Dae="bytes/5.7.0",$n=new Ot(Dae);function t8(t){return!!t.toHexString}function Yu(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Yu(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function n8(t){return Rr(t)&&!(t.length%2)||Ag(t)}function QP(t){return typeof t=="number"&&t==t&&t%1===0}function Ag(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!QP(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const n=t[e];if(!QP(n)||n<0||n>=256)return!1}return!0}function Jr(t,e){if(e||(e={}),typeof t=="number"){$n.checkSafeUint53(t,"invalid arrayify value");const n=[];for(;t;)n.unshift(t&255),t=parseInt(String(t/256));return n.length===0&&n.push(0),Yu(new Uint8Array(n))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),t8(t)&&(t=t.toHexString()),Rr(t)){let n=t.substring(2);n.length%2&&(e.hexPad==="left"?n="0"+n:e.hexPad==="right"?n+="0":$n.throwArgumentError("hex data is odd-length","value",t));const s=[];for(let r=0;r<n.length;r+=2)s.push(parseInt(n.substring(r,r+2),16));return Yu(new Uint8Array(s))}return Ag(t)?Yu(new Uint8Array(t)):$n.throwArgumentError("invalid arrayify value","value",t)}function s8(t){const e=t.map(r=>Jr(r)),n=e.reduce((r,i)=>r+i.length,0),s=new Uint8Array(n);return e.reduce((r,i)=>(s.set(i,r),r+i.length),0),Yu(s)}function $ae(t){let e=Jr(t);if(e.length===0)return e;let n=0;for(;n<e.length&&e[n]===0;)n++;return n&&(e=e.slice(n)),e}function Fae(t,e){t=Jr(t),t.length>e&&$n.throwArgumentError("value out of range","value",arguments[0]);const n=new Uint8Array(e);return n.set(t,e-t.length),Yu(n)}function Rr(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const Gw="0123456789abcdef";function es(t,e){if(e||(e={}),typeof t=="number"){$n.checkSafeUint53(t,"invalid hexlify value");let n="";for(;t;)n=Gw[t&15]+n,t=Math.floor(t/16);return n.length?(n.length%2&&(n="0"+n),"0x"+n):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),t8(t))return t.toHexString();if(Rr(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":$n.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(Ag(t)){let n="0x";for(let s=0;s<t.length;s++){let r=t[s];n+=Gw[(r&240)>>4]+Gw[r&15]}return n}return $n.throwArgumentError("invalid hexlify value","value",t)}function JP(t){if(typeof t!="string")t=es(t);else if(!Rr(t)||t.length%2)return null;return(t.length-2)/2}function r8(t,e,n){return typeof t!="string"?t=es(t):(!Rr(t)||t.length%2)&&$n.throwArgumentError("invalid hexData","value",t),e=2+2*e,n!=null?"0x"+t.substring(e,2+2*n):"0x"+t.substring(e)}function hje(t){let e="0x";return t.forEach(n=>{e+=es(n).substring(2)}),e}function fje(t){const e=Lae(es(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function Lae(t){typeof t!="string"&&(t=es(t)),Rr(t)||$n.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function Yw(t,e){for(typeof t!="string"?t=es(t):Rr(t)||$n.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&$n.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function Bae(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(n8(t)){let n=Jr(t);n.length===64?(e.v=27+(n[32]>>7),n[32]&=127,e.r=es(n.slice(0,32)),e.s=es(n.slice(32,64))):n.length===65?(e.r=es(n.slice(0,32)),e.s=es(n.slice(32,64)),e.v=n[64]):$n.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:$n.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(n[32]|=128),e._vs=es(n.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const r=Fae(Jr(e._vs),32);e._vs=es(r);const i=r[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=i:e.recoveryParam!==i&&$n.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),r[0]&=127;const o=es(r);e.s==null?e.s=o:e.s!==o&&$n.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?$n.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const r=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==r&&$n.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!Rr(e.r)?$n.throwArgumentError("signature missing or invalid r","signature",t):e.r=Yw(e.r,32),e.s==null||!Rr(e.s)?$n.throwArgumentError("signature missing or invalid s","signature",t):e.s=Yw(e.s,32);const n=Jr(e.s);n[0]>=128&&$n.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(n[0]|=128);const s=es(n);e._vs&&(Rr(e._vs)||$n.throwArgumentError("signature invalid _vs","signature",t),e._vs=Yw(e._vs,32)),e._vs==null?e._vs=s:e._vs!==s&&$n.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function mje(t){return t=Bae(t),es(s8([t.r,t.s,t.recoveryParam?"0x1c":"0x1b"]))}const Uae="bignumber/5.7.0";var bp=kt.BN;const go=new Ot(Uae),Xw={},ZP=9007199254740991;function pje(t){return t!=null&&(un.isBigNumber(t)||typeof t=="number"&&t%1===0||typeof t=="string"&&!!t.match(/^-?[0-9]+$/)||Rr(t)||typeof t=="bigint"||Ag(t))}let e_=!1;class un{constructor(e,n){e!==Xw&&go.throwError("cannot call constructor directly; use BigNumber.from",Ot.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=n,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return gr(Vt(this).fromTwos(e))}toTwos(e){return gr(Vt(this).toTwos(e))}abs(){return this._hex[0]==="-"?un.from(this._hex.substring(1)):this}add(e){return gr(Vt(this).add(Vt(e)))}sub(e){return gr(Vt(this).sub(Vt(e)))}div(e){return un.from(e).isZero()&&oi("division-by-zero","div"),gr(Vt(this).div(Vt(e)))}mul(e){return gr(Vt(this).mul(Vt(e)))}mod(e){const n=Vt(e);return n.isNeg()&&oi("division-by-zero","mod"),gr(Vt(this).umod(n))}pow(e){const n=Vt(e);return n.isNeg()&&oi("negative-power","pow"),gr(Vt(this).pow(n))}and(e){const n=Vt(e);return(this.isNegative()||n.isNeg())&&oi("unbound-bitwise-result","and"),gr(Vt(this).and(n))}or(e){const n=Vt(e);return(this.isNegative()||n.isNeg())&&oi("unbound-bitwise-result","or"),gr(Vt(this).or(n))}xor(e){const n=Vt(e);return(this.isNegative()||n.isNeg())&&oi("unbound-bitwise-result","xor"),gr(Vt(this).xor(n))}mask(e){return(this.isNegative()||e<0)&&oi("negative-width","mask"),gr(Vt(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&oi("negative-width","shl"),gr(Vt(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&oi("negative-width","shr"),gr(Vt(this).shrn(e))}eq(e){return Vt(this).eq(Vt(e))}lt(e){return Vt(this).lt(Vt(e))}lte(e){return Vt(this).lte(Vt(e))}gt(e){return Vt(this).gt(Vt(e))}gte(e){return Vt(this).gte(Vt(e))}isNegative(){return this._hex[0]==="-"}isZero(){return Vt(this).isZero()}toNumber(){try{return Vt(this).toNumber()}catch{oi("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return go.throwError("this platform does not support BigInt",Ot.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?e_||(e_=!0,go.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?go.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Ot.errors.UNEXPECTED_ARGUMENT,{}):go.throwError("BigNumber.toString does not accept parameters",Ot.errors.UNEXPECTED_ARGUMENT,{})),Vt(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof un)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new un(Xw,wp(e)):e.match(/^-?[0-9]+$/)?new un(Xw,wp(new bp(e))):go.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&oi("underflow","BigNumber.from",e),(e>=ZP||e<=-ZP)&&oi("overflow","BigNumber.from",e),un.from(String(e));const n=e;if(typeof n=="bigint")return un.from(n.toString());if(Ag(n))return un.from(es(n));if(n)if(n.toHexString){const s=n.toHexString();if(typeof s=="string")return un.from(s)}else{let s=n._hex;if(s==null&&n.type==="BigNumber"&&(s=n.hex),typeof s=="string"&&(Rr(s)||s[0]==="-"&&Rr(s.substring(1))))return un.from(s)}return go.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function wp(t){if(typeof t!="string")return wp(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&go.throwArgumentError("invalid hex","value",t),t=wp(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function gr(t){return un.from(wp(t))}function Vt(t){const e=un.from(t).toHexString();return e[0]==="-"?new bp("-"+e.substring(3),16):new bp(e.substring(2),16)}function oi(t,e,n){const s={fault:t,operation:e};return n!=null&&(s.value=n),go.throwError(t,Ot.errors.NUMERIC_FAULT,s)}function Vae(t){return new bp(t,36).toString(16)}function zae(t){return new bp(t,16).toString(36)}class i8{constructor(e){Ce(this,"alphabet",e),Ce(this,"base",e.length),Ce(this,"_alphabetMap",{}),Ce(this,"_leader",e.charAt(0));for(let n=0;n<e.length;n++)this._alphabetMap[e.charAt(n)]=n}encode(e){let n=ot(e);if(n.length===0)return"";let s=[0];for(let i=0;i<n.length;++i){let o=n[i];for(let l=0;l<s.length;++l)o+=s[l]<<8,s[l]=o%this.base,o=o/this.base|0;for(;o>0;)s.push(o%this.base),o=o/this.base|0}let r="";for(let i=0;n[i]===0&&i<n.length-1;++i)r+=this._leader;for(let i=s.length-1;i>=0;--i)r+=this.alphabet[s[i]];return r}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let n=[];if(e.length===0)return new Uint8Array(n);n.push(0);for(let s=0;s<e.length;s++){let r=this._alphabetMap[e[s]];if(r===void 0)throw new Error("Non-base"+this.base+" character");let i=r;for(let o=0;o<n.length;++o)i+=n[o]*this.base,n[o]=i&255,i>>=8;for(;i>0;)n.push(i&255),i>>=8}for(let s=0;e[s]===this._leader&&s<e.length-1;++s)n.push(0);return ot(new Uint8Array(n.reverse()))}}new i8("abcdefghijklmnopqrstuvwxyz234567");const BN=new i8("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var UN;(function(t){t.sha256="sha256",t.sha512="sha512"})(UN||(UN={}));const Hae="sha2/5.7.0",Wae=new ie(Hae);function gje(t){return"0x"+wr.ripemd160().update(ot(t)).digest("hex")}function t_(t){return"0x"+wr.sha256().update(ot(t)).digest("hex")}function xje(t){return"0x"+wr.sha512().update(ot(t)).digest("hex")}function yje(t,e,n){return UN[t]||Wae.throwError("unsupported algorithm "+t,ie.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:t}),"0x"+wr.hmac(wr[t],ot(e)).update(ot(n)).digest("hex")}const Kae="0x0000000000000000000000000000000000000000",qae="networks/5.8.0",n_=new ie(qae);function Gae(t){return t&&typeof t.renetwork=="function"}function zi(t){const e=function(n,s){s==null&&(s={});const r=[];if(n.InfuraProvider&&s.infura!=="-")try{r.push(new n.InfuraProvider(t,s.infura))}catch{}if(n.EtherscanProvider&&s.etherscan!=="-")try{r.push(new n.EtherscanProvider(t,s.etherscan))}catch{}if(n.AlchemyProvider&&s.alchemy!=="-")try{r.push(new n.AlchemyProvider(t,s.alchemy))}catch{}if(n.PocketProvider&&s.pocket!=="-"){const i=["goerli","ropsten","rinkeby","sepolia"];try{const o=new n.PocketProvider(t,s.pocket);o.network&&i.indexOf(o.network.name)===-1&&r.push(o)}catch{}}if(n.CloudflareProvider&&s.cloudflare!=="-")try{r.push(new n.CloudflareProvider(t))}catch{}if(n.AnkrProvider&&s.ankr!=="-")try{const i=["ropsten"],o=new n.AnkrProvider(t,s.ankr);o.network&&i.indexOf(o.network.name)===-1&&r.push(o)}catch{}if(n.QuickNodeProvider&&s.quicknode!=="-")try{r.push(new n.QuickNodeProvider(t,s.quicknode))}catch{}if(r.length===0)return null;if(n.FallbackProvider){let i=1;return s.quorum!=null?i=s.quorum:t==="homestead"&&(i=2),new n.FallbackProvider(r,i)}return r[0]};return e.renetwork=function(n){return zi(n)},e}function Ly(t,e){const n=function(s,r){return s.JsonRpcProvider?new s.JsonRpcProvider(t,e):null};return n.renetwork=function(s){return Ly(t,s)},n}const s_={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:zi("homestead")},r_={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:zi("ropsten")},i_={chainId:63,name:"classicMordor",_defaultProvider:Ly("https://www.ethercluster.com/mordor","classicMordor")},g0={unspecified:{chainId:0,name:"unspecified"},homestead:s_,mainnet:s_,morden:{chainId:2,name:"morden"},ropsten:r_,testnet:r_,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:zi("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:zi("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:zi("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"sepolia",_defaultProvider:zi("sepolia")},holesky:{chainId:17e3,name:"holesky",_defaultProvider:zi("holesky")},classic:{chainId:61,name:"classic",_defaultProvider:Ly("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:i_,classicTestnet:i_,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:Ly("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:zi("matic")},maticmum:{chainId:80001,name:"maticmum",_defaultProvider:zi("maticmum")},optimism:{chainId:10,name:"optimism",_defaultProvider:zi("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},"optimism-sepolia":{chainId:11155420,name:"optimism-sepolia"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},"arbitrum-sepolia":{chainId:421614,name:"arbitrum-sepolia"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function Yae(t){if(t==null)return null;if(typeof t=="number"){for(const s in g0){const r=g0[s];if(r.chainId===t)return{name:r.name,chainId:r.chainId,ensAddress:r.ensAddress||null,_defaultProvider:r._defaultProvider||null}}return{chainId:t,name:"unknown"}}if(typeof t=="string"){const s=g0[t];return s==null?null:{name:s.name,chainId:s.chainId,ensAddress:s.ensAddress,_defaultProvider:s._defaultProvider||null}}const e=g0[t.name];if(!e)return typeof t.chainId!="number"&&n_.throwArgumentError("invalid network chainId","network",t),t;t.chainId!==0&&t.chainId!==e.chainId&&n_.throwArgumentError("network chainId mismatch","network",t);let n=t._defaultProvider||null;return n==null&&e._defaultProvider&&(Gae(e._defaultProvider)?n=e._defaultProvider.renetwork(t):n=e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:n}}const Xae="web/5.8.0";var Qae=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):r(u.value).then(l,c)}d((s=s.apply(t,e||[])).next())})};function Jae(t,e){return Qae(this,void 0,void 0,function*(){e==null&&(e={});const n={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(n.mode="cors",n.cache="no-cache",n.credentials="same-origin",n.redirect="follow",n.referrer="client"),e.fetchOptions!=null){const o=e.fetchOptions;o.mode&&(n.mode=o.mode),o.cache&&(n.cache=o.cache),o.credentials&&(n.credentials=o.credentials),o.redirect&&(n.redirect=o.redirect),o.referrer&&(n.referrer=o.referrer)}const s=yield fetch(t,n),r=yield s.arrayBuffer(),i={};return s.headers.forEach?s.headers.forEach((o,l)=>{i[l.toLowerCase()]=o}):s.headers.keys().forEach(o=>{i[o.toLowerCase()]=s.headers.get(o)}),{headers:i,statusCode:s.status,statusMessage:s.statusText,body:ot(new Uint8Array(r))}})}var Zae=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):r(u.value).then(l,c)}d((s=s.apply(t,e||[])).next())})};const Di=new ie(Xae);function a_(t){return new Promise(e=>{setTimeout(e,t)})}function al(t,e){if(t==null)return null;if(typeof t=="string")return t;if(Zv(t)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return jg(t)}catch{}return tt(t)}return t}function eoe(t){return Ya(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,n)=>String.fromCharCode(parseInt(n,16))))}function toe(t,e,n){const s=typeof t=="object"&&t.throttleLimit!=null?t.throttleLimit:12;Di.assertArgument(s>0&&s%1===0,"invalid connection throttle limit","connection.throttleLimit",s);const r=typeof t=="object"?t.throttleCallback:null,i=typeof t=="object"&&typeof t.throttleSlotInterval=="number"?t.throttleSlotInterval:100;Di.assertArgument(i>0&&i%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",i);const o=typeof t=="object"?!!t.errorPassThrough:!1,l={};let c=null;const d={method:"GET"};let u=!1,h=2*60*1e3;if(typeof t=="string")c=t;else if(typeof t=="object"){if((t==null||t.url==null)&&Di.throwArgumentError("missing URL","connection.url",t),c=t.url,typeof t.timeout=="number"&&t.timeout>0&&(h=t.timeout),t.headers)for(const b in t.headers)l[b.toLowerCase()]={key:b,value:String(t.headers[b])},["if-none-match","if-modified-since"].indexOf(b.toLowerCase())>=0&&(u=!0);if(d.allowGzip=!!t.allowGzip,t.user!=null&&t.password!=null){c.substring(0,6)!=="https:"&&t.allowInsecureAuthentication!==!0&&Di.throwError("basic authentication requires a secure https url",ie.errors.INVALID_ARGUMENT,{argument:"url",url:c,user:t.user,password:"[REDACTED]"});const b=t.user+":"+t.password;l.authorization={key:"Authorization",value:"Basic "+pL(Ya(b))}}t.skipFetchSetup!=null&&(d.skipFetchSetup=!!t.skipFetchSetup),t.fetchOptions!=null&&(d.fetchOptions=rs(t.fetchOptions))}const f=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),m=c?c.match(f):null;if(m)try{const b={statusCode:200,statusMessage:"OK",headers:{"content-type":m[1]||"text/plain"},body:m[2]?mL(m[3]):eoe(m[3])};let y=b.body;return n&&(y=n(b.body,b)),Promise.resolve(y)}catch(b){Di.throwError("processing response error",ie.errors.SERVER_ERROR,{body:al(m[1],m[2]),error:b,requestBody:null,requestMethod:"GET",url:c})}e&&(d.method="POST",d.body=e,l["content-type"]==null&&(l["content-type"]={key:"Content-Type",value:"application/octet-stream"}),l["content-length"]==null&&(l["content-length"]={key:"Content-Length",value:String(e.length)}));const g={};Object.keys(l).forEach(b=>{const y=l[b];g[y.key]=y.value}),d.headers=g;const p=function(){let b=null;return{promise:new Promise(function(A,S){h&&(b=setTimeout(()=>{b!=null&&(b=null,S(Di.makeError("timeout",ie.errors.TIMEOUT,{requestBody:al(d.body,g["content-type"]),requestMethod:d.method,timeout:h,url:c})))},h))}),cancel:function(){b!=null&&(clearTimeout(b),b=null)}}}(),w=function(){return Zae(this,void 0,void 0,function*(){for(let b=0;b<s;b++){let y=null;try{if(y=yield Jae(c,d),b<s){if(y.statusCode===301||y.statusCode===302){const A=y.headers.location||"";if(d.method==="GET"&&A.match(/^https:/)){c=y.headers.location;continue}}else if(y.statusCode===429){let A=!0;if(r&&(A=yield r(b,c)),A){let S=0;const T=y.headers["retry-after"];typeof T=="string"&&T.match(/^[1-9][0-9]*$/)?S=parseInt(T)*1e3:S=i*parseInt(String(Math.random()*Math.pow(2,b))),yield a_(S);continue}}}}catch(A){y=A.response,y==null&&(p.cancel(),Di.throwError("missing response",ie.errors.SERVER_ERROR,{requestBody:al(d.body,g["content-type"]),requestMethod:d.method,serverError:A,url:c}))}let N=y.body;if(u&&y.statusCode===304?N=null:!o&&(y.statusCode<200||y.statusCode>=300)&&(p.cancel(),Di.throwError("bad response",ie.errors.SERVER_ERROR,{status:y.statusCode,headers:y.headers,body:al(N,y.headers?y.headers["content-type"]:null),requestBody:al(d.body,g["content-type"]),requestMethod:d.method,url:c})),n)try{const A=yield n(N,y);return p.cancel(),A}catch(A){if(A.throttleRetry&&b<s){let S=!0;if(r&&(S=yield r(b,c)),S){const T=i*parseInt(String(Math.random()*Math.pow(2,b)));yield a_(T);continue}}p.cancel(),Di.throwError("processing response error",ie.errors.SERVER_ERROR,{body:al(N,y.headers?y.headers["content-type"]:null),error:A,requestBody:al(d.body,g["content-type"]),requestMethod:d.method,url:c})}return p.cancel(),N}return Di.throwError("failed response",ie.errors.SERVER_ERROR,{requestBody:al(d.body,g["content-type"]),requestMethod:d.method,url:c})})}();return Promise.race([p.promise,w])}function PA(t,e,n){let s=(i,o)=>{let l=null;if(i!=null)try{l=JSON.parse(jg(i))}catch(c){Di.throwError("invalid JSON",ie.errors.SERVER_ERROR,{body:i,error:c})}return n&&(l=n(l,o)),l},r=null;if(e!=null){r=Ya(e);const i=typeof t=="string"?{url:t}:rs(t);i.headers?Object.keys(i.headers).filter(l=>l.toLowerCase()==="content-type").length!==0||(i.headers=rs(i.headers),i.headers["content-type"]="application/json"):i.headers={"content-type":"application/json"},t=i}return toe(t,r,s)}function Zf(t,e){return e||(e={}),e=rs(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(n,s){let r=null,i=!1;const o=()=>i?!1:(i=!0,r&&clearTimeout(r),!0);e.timeout&&(r=setTimeout(()=>{o()&&s(new Error("timeout"))},e.timeout));const l=e.retryLimit;let c=0;function d(){return t().then(function(u){if(u!==void 0)o()&&n(u);else if(e.oncePoll)e.oncePoll.once("poll",d);else if(e.onceBlock)e.onceBlock.once("block",d);else if(!i){if(c++,c>l){o()&&s(new Error("retry limit reached"));return}let h=e.interval*parseInt(String(Math.random()*Math.pow(2,c)));h<e.floor&&(h=e.floor),h>e.ceiling&&(h=e.ceiling),setTimeout(d,h)}return null},function(u){o()&&s(u)})}d()})}var By="qpzry9x8gf2tvdw0s3jn54khce6mua7l",VN={};for(var x0=0;x0<By.length;x0++){var Qw=By.charAt(x0);if(VN[Qw]!==void 0)throw new TypeError(Qw+" is ambiguous");VN[Qw]=x0}function Xu(t){var e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function a8(t){for(var e=1,n=0;n<t.length;++n){var s=t.charCodeAt(n);if(s<33||s>126)return"Invalid prefix ("+t+")";e=Xu(e)^s>>5}for(e=Xu(e),n=0;n<t.length;++n){var r=t.charCodeAt(n);e=Xu(e)^r&31}return e}function noe(t,e,n){if(n=n||90,t.length+7+e.length>n)throw new TypeError("Exceeds length limit");t=t.toLowerCase();var s=a8(t);if(typeof s=="string")throw new Error(s);for(var r=t+"1",i=0;i<e.length;++i){var o=e[i];if(o>>5)throw new Error("Non 5-bit word");s=Xu(s)^o,r+=By.charAt(o)}for(i=0;i<6;++i)s=Xu(s);for(s^=1,i=0;i<6;++i){var l=s>>(5-i)*5&31;r+=By.charAt(l)}return r}function o8(t,e){if(e=e||90,t.length<8)return t+" too short";if(t.length>e)return"Exceeds length limit";var n=t.toLowerCase(),s=t.toUpperCase();if(t!==n&&t!==s)return"Mixed-case string "+t;t=n;var r=t.lastIndexOf("1");if(r===-1)return"No separator character for "+t;if(r===0)return"Missing prefix for "+t;var i=t.slice(0,r),o=t.slice(r+1);if(o.length<6)return"Data too short";var l=a8(i);if(typeof l=="string")return l;for(var c=[],d=0;d<o.length;++d){var u=o.charAt(d),h=VN[u];if(h===void 0)return"Unknown character "+u;l=Xu(l)^h,!(d+6>=o.length)&&c.push(h)}return l!==1?"Invalid checksum for "+t:{prefix:i,words:c}}function soe(){var t=o8.apply(null,arguments);if(typeof t=="object")return t}function roe(t){var e=o8.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function ab(t,e,n,s){for(var r=0,i=0,o=(1<<n)-1,l=[],c=0;c<t.length;++c)for(r=r<<e|t[c],i+=e;i>=n;)i-=n,l.push(r>>i&o);if(s)i>0&&l.push(r<<n-i&o);else{if(i>=e)return"Excess padding";if(r<<n-i&o)return"Non-zero padding"}return l}function ioe(t){var e=ab(t,8,5,!0);if(Array.isArray(e))return e}function aoe(t){var e=ab(t,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function ooe(t){var e=ab(t,5,8,!1);if(Array.isArray(e))return e}function loe(t){var e=ab(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}var coe={decodeUnsafe:soe,decode:roe,encode:noe,toWordsUnsafe:ioe,toWords:aoe,fromWordsUnsafe:ooe,fromWords:loe};const o_=Kd(coe),ob="providers/5.7.0",Rf=new ie(ob);class et{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},n=this.address.bind(this),s=this.bigNumber.bind(this),r=this.blockTag.bind(this),i=this.data.bind(this),o=this.hash.bind(this),l=this.hex.bind(this),c=this.number.bind(this),d=this.type.bind(this),u=h=>this.data(h,!0);return e.transaction={hash:o,type:d,accessList:et.allowNull(this.accessList.bind(this),null),blockHash:et.allowNull(o,null),blockNumber:et.allowNull(c,null),transactionIndex:et.allowNull(c,null),confirmations:et.allowNull(c,null),from:n,gasPrice:et.allowNull(s),maxPriorityFeePerGas:et.allowNull(s),maxFeePerGas:et.allowNull(s),gasLimit:s,to:et.allowNull(n,null),value:s,nonce:c,data:i,r:et.allowNull(this.uint256),s:et.allowNull(this.uint256),v:et.allowNull(c),creates:et.allowNull(n,null),raw:et.allowNull(i)},e.transactionRequest={from:et.allowNull(n),nonce:et.allowNull(c),gasLimit:et.allowNull(s),gasPrice:et.allowNull(s),maxPriorityFeePerGas:et.allowNull(s),maxFeePerGas:et.allowNull(s),to:et.allowNull(n),value:et.allowNull(s),data:et.allowNull(u),type:et.allowNull(c),accessList:et.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:c,blockNumber:c,transactionHash:o,address:n,topics:et.arrayOf(o),data:i,logIndex:c,blockHash:o},e.receipt={to:et.allowNull(this.address,null),from:et.allowNull(this.address,null),contractAddress:et.allowNull(n,null),transactionIndex:c,root:et.allowNull(l),gasUsed:s,logsBloom:et.allowNull(i),blockHash:o,transactionHash:o,logs:et.arrayOf(this.receiptLog.bind(this)),blockNumber:c,confirmations:et.allowNull(c,null),cumulativeGasUsed:s,effectiveGasPrice:et.allowNull(s),status:et.allowNull(c),type:d},e.block={hash:et.allowNull(o),parentHash:o,number:c,timestamp:c,nonce:et.allowNull(l),difficulty:this.difficulty.bind(this),gasLimit:s,gasUsed:s,miner:et.allowNull(n),extraData:i,transactions:et.allowNull(et.arrayOf(o)),baseFeePerGas:et.allowNull(s)},e.blockWithTransactions=rs(e.block),e.blockWithTransactions.transactions=et.allowNull(et.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:et.allowNull(r,void 0),toBlock:et.allowNull(r,void 0),blockHash:et.allowNull(o,void 0),address:et.allowNull(n,void 0),topics:et.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:et.allowNull(c),blockHash:et.allowNull(o),transactionIndex:c,removed:et.allowNull(this.boolean.bind(this)),address:n,data:et.allowFalsish(i,"0x"),topics:et.arrayOf(o),transactionHash:o,logIndex:c},e}accessList(e){return uf(e||[])}number(e){return e==="0x"?0:Ve.from(e).toNumber()}type(e){return e==="0x"||e==null?0:Ve.from(e).toNumber()}bigNumber(e){return Ve.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,n){return typeof e=="string"&&(!n&&e.substring(0,2)!=="0x"&&(e="0x"+e),Yt(e))?e.toLowerCase():Rf.throwArgumentError("invalid hash","value",e)}data(e,n){const s=this.hex(e,n);if(s.length%2!==0)throw new Error("invalid data; odd-length - "+e);return s}address(e){return Ps(e)}callAddress(e){if(!Yt(e,32))return null;const n=Ps(Fs(e,12));return n===Tse?null:n}contractAddress(e){return SA(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||Yt(e))return bA(e);throw new Error("invalid blockTag")}hash(e,n){const s=this.hex(e,n);return _d(s)!==32?Rf.throwArgumentError("invalid hash","value",e):s}difficulty(e){if(e==null)return null;const n=Ve.from(e);try{return n.toNumber()}catch{}return null}uint256(e){if(!Yt(e))throw new Error("invalid uint256");return jn(e,32)}_block(e,n){e.author!=null&&e.miner==null&&(e.miner=e.author);const s=e._difficulty!=null?e._difficulty:e.difficulty,r=et.check(n,e);return r._difficulty=s==null?null:Ve.from(s),r}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return et.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&Ve.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const n=et.check(this.formats.transaction,e);if(e.chainId!=null){let s=e.chainId;Yt(s)&&(s=Ve.from(s).toNumber()),n.chainId=s}else{let s=e.networkId;s==null&&n.v==null&&(s=e.chainId),Yt(s)&&(s=Ve.from(s).toNumber()),typeof s!="number"&&n.v!=null&&(s=(n.v-35)/2,s<0&&(s=0),s=parseInt(s)),typeof s!="number"&&(s=0),n.chainId=s}return n.blockHash&&n.blockHash.replace(/0/g,"")==="x"&&(n.blockHash=null),n}transaction(e){return Aae(e)}receiptLog(e){return et.check(this.formats.receiptLog,e)}receipt(e){const n=et.check(this.formats.receipt,e);if(n.root!=null)if(n.root.length<=4){const s=Ve.from(n.root).toNumber();s===0||s===1?(n.status!=null&&n.status!==s&&Rf.throwArgumentError("alt-root-status/status mismatch","value",{root:n.root,status:n.status}),n.status=s,delete n.root):Rf.throwArgumentError("invalid alt-root-status","value.root",n.root)}else n.root.length!==66&&Rf.throwArgumentError("invalid root hash","value.root",n.root);return n.status!=null&&(n.byzantium=!0),n}topics(e){return Array.isArray(e)?e.map(n=>this.topics(n)):e!=null?this.hash(e,!0):null}filter(e){return et.check(this.formats.filter,e)}filterLog(e){return et.check(this.formats.filterLog,e)}static check(e,n){const s={};for(const r in e)try{const i=e[r](n[r]);i!==void 0&&(s[r]=i)}catch(i){throw i.checkKey=r,i.checkValue=n[r],i}return s}static allowNull(e,n){return function(s){return s==null?n:e(s)}}static allowFalsish(e,n){return function(s){return s?e(s):n}}static arrayOf(e){return function(n){if(!Array.isArray(n))throw new Error("not an array");const s=[];return n.forEach(function(r){s.push(e(r))}),s}}}function doe(t){return t&&typeof t.isCommunityResource=="function"}function vje(t){return doe(t)&&t.isCommunityResource()}let l_=!1;function bje(){l_||(l_=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var Tt=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):r(u.value).then(l,c)}d((s=s.apply(t,e||[])).next())})};const Dt=new ie(ob),uoe=10;function c_(t){return t==null?"null":(_d(t)!==32&&Dt.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function d_(t){for(t=t.slice();t.length>0&&t[t.length-1]==null;)t.pop();return t.map(e=>{if(Array.isArray(e)){const n={};e.forEach(r=>{n[c_(r)]=!0});const s=Object.keys(n);return s.sort(),s.join("|")}else return c_(e)}).join("&")}function hoe(t){return t===""?[]:t.split(/&/g).map(e=>{if(e==="")return[];const n=e.split("|").map(s=>s==="null"?null:s);return n.length===1?n[0]:n})}function tu(t){if(typeof t=="string"){if(t=t.toLowerCase(),_d(t)===32)return"tx:"+t;if(t.indexOf(":")===-1)return t}else{if(Array.isArray(t))return"filter:*:"+d_(t);if(Cre.isForkEvent(t))throw Dt.warn("not implemented"),new Error("not implemented");if(t&&typeof t=="object")return"filter:"+(t.address||"*")+":"+d_(t.topics||[])}throw new Error("invalid event - "+t)}function Mf(){return new Date().getTime()}function u_(t){return new Promise(e=>{setTimeout(e,t)})}const foe=["block","network","pending","poll"];let moe=class{constructor(e,n,s){Ce(this,"tag",e),Ce(this,"listener",n),Ce(this,"once",s),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const n=e[1],s=hoe(e[2]),r={};return s.length>0&&(r.topics=s),n&&n!=="*"&&(r.address=n),r}pollable(){return this.tag.indexOf(":")>=0||foe.indexOf(this.tag)>=0}};const poe={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function Jw(t){return jn(Ve.from(t).toHexString(),32)}function h_(t){return BN.encode(or([t,Fs(t_(t_(t)),0,4)]))}const l8=new RegExp("^(ipfs)://(.*)$","i"),f_=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),l8,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function jx(t,e){try{return jg(Np(t,e))}catch{}return null}function Np(t,e){if(t==="0x")return null;const n=Ve.from(Fs(t,e,e+32)).toNumber(),s=Ve.from(Fs(t,n,n+32)).toNumber();return Fs(t,n+32,n+32+s)}function Zw(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):Dt.throwArgumentError("unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}function m_(t){const e=ot(t);if(e.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(e,32-e.length),n}function goe(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}function c8(t){const e=[];let n=0;for(let s=0;s<t.length;s++)e.push(null),n+=32;for(let s=0;s<t.length;s++){const r=ot(t[s]);e[s]=m_(n),e.push(m_(r.length)),e.push(goe(r)),n+=32+Math.ceil(r.length/32)*32}return jr(e)}class p_{constructor(e,n,s,r){Ce(this,"provider",e),Ce(this,"name",s),Ce(this,"address",e.formatter.address(n)),Ce(this,"_resolvedAddress",r)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>Ve.from(e).eq(1)).catch(e=>{if(e.code===ie.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,n){return Tt(this,void 0,void 0,function*(){const s={to:this.address,ccipReadEnabled:!0,data:jr([e,bx(this.name),n||"0x"])};let r=!1;(yield this.supportsWildcard())&&(r=!0,s.data=jr(["0x9061b923",c8([fre(this.name),s.data])]));try{let i=yield this.provider.call(s);return ot(i).length%32===4&&Dt.throwError("resolver threw error",ie.errors.CALL_EXCEPTION,{transaction:s,data:i}),r&&(i=Np(i,0)),i}catch(i){if(i.code===ie.errors.CALL_EXCEPTION)return null;throw i}})}_fetchBytes(e,n){return Tt(this,void 0,void 0,function*(){const s=yield this._fetch(e,n);return s!=null?Np(s,0):null})}_getAddress(e,n){const s=poe[String(e)];if(s==null&&Dt.throwError(`unsupported coin type: ${e}`,ie.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),s.ilk==="eth")return this.provider.formatter.address(n);const r=ot(n);if(s.p2pkh!=null){const i=n.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(i){const o=parseInt(i[1],16);if(i[2].length===o*2&&o>=1&&o<=75)return h_(or([[s.p2pkh],"0x"+i[2]]))}}if(s.p2sh!=null){const i=n.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(i){const o=parseInt(i[1],16);if(i[2].length===o*2&&o>=1&&o<=75)return h_(or([[s.p2sh],"0x"+i[2]]))}}if(s.prefix!=null){const i=r[1];let o=r[0];if(o===0?i!==20&&i!==32&&(o=-1):o=-1,o>=0&&r.length===2+i&&i>=1&&i<=75){const l=o_.toWords(r.slice(2));return l.unshift(o),o_.encode(s.prefix,l)}}return null}getAddress(e){return Tt(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const r=yield this._fetch("0x3b3b57de");return r==="0x"||r===Pse?null:this.provider.formatter.callAddress(r)}catch(r){if(r.code===ie.errors.CALL_EXCEPTION)return null;throw r}const n=yield this._fetchBytes("0xf1cb7e06",Jw(e));if(n==null||n==="0x")return null;const s=this._getAddress(e,n);return s==null&&Dt.throwError("invalid or unsupported coin data",ie.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:n}),s})}getAvatar(){return Tt(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const n=yield this.getText("avatar");if(n==null)return null;for(let s=0;s<f_.length;s++){const r=n.match(f_[s]);if(r==null)continue;const i=r[1].toLowerCase();switch(i){case"https":return e.push({type:"url",content:n}),{linkage:e,url:n};case"data":return e.push({type:"data",content:n}),{linkage:e,url:n};case"ipfs":return e.push({type:"ipfs",content:n}),{linkage:e,url:Zw(n)};case"erc721":case"erc1155":{const o=i==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:i,content:n});const l=this._resolvedAddress||(yield this.getAddress()),c=(r[2]||"").split("/");if(c.length!==2)return null;const d=yield this.provider.formatter.address(c[0]),u=jn(Ve.from(c[1]).toHexString(),32);if(i==="erc721"){const p=this.provider.formatter.callAddress(yield this.provider.call({to:d,data:jr(["0x6352211e",u])}));if(l!==p)return null;e.push({type:"owner",content:p})}else if(i==="erc1155"){const p=Ve.from(yield this.provider.call({to:d,data:jr(["0x00fdd58e",jn(l,32),u])}));if(p.isZero())return null;e.push({type:"balance",content:p.toString()})}const h={to:this.provider.formatter.address(c[0]),data:jr([o,u])};let f=jx(yield this.provider.call(h),0);if(f==null)return null;e.push({type:"metadata-url-base",content:f}),i==="erc1155"&&(f=f.replace("{id}",u.substring(2)),e.push({type:"metadata-url-expanded",content:f})),f.match(/^ipfs:/i)&&(f=Zw(f)),e.push({type:"metadata-url",content:f});const m=yield PA(f);if(!m)return null;e.push({type:"metadata",content:JSON.stringify(m)});let g=m.image;if(typeof g!="string")return null;if(!g.match(/^(https:\/\/|data:)/i)){if(g.match(l8)==null)return null;e.push({type:"url-ipfs",content:g}),g=Zw(g)}return e.push({type:"url",content:g}),{linkage:e,url:g}}}}}catch{}return null})}getContentHash(){return Tt(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const n=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const o=parseInt(n[3],16);if(n[4].length===o*2)return"ipfs://"+BN.encode("0x"+n[1])}const s=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(s){const o=parseInt(s[3],16);if(s[4].length===o*2)return"ipns://"+BN.encode("0x"+s[1])}const r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&r[1].length===32*2)return"bzz://"+r[1];const i=e.match(/^0x90b2c605([0-9a-f]*)$/);if(i&&i[1].length===34*2){const o={"=":"","+":"-","/":"_"};return"sia://"+pL("0x"+i[1]).replace(/[=+\/]/g,c=>o[c])}return Dt.throwError("invalid or unsupported content hash data",ie.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return Tt(this,void 0,void 0,function*(){let n=Ya(e);n=or([Jw(64),Jw(n.length),n]),n.length%32!==0&&(n=or([n,jn("0x",32-e.length%32)]));const s=yield this._fetchBytes("0x59d1d43c",tt(n));return s==null||s==="0x"?null:jg(s)})}}let e1=null,xoe=1;class yoe extends tb{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),Ce(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(n=>{}),this._ready().catch(n=>{});else{const n=Gr(new.target,"getNetwork")(e);n?(Ce(this,"_network",n),this.emit("network",n,null)):Dt.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return Tt(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||Dt.throwError("no network detected",ie.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:Ce(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return Zf(()=>this._ready().then(e=>e,e=>{if(!(e.code===ie.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return e1==null&&(e1=new et),e1}static getNetwork(e){return Yae(e??"homestead")}ccipReadFetch(e,n,s){return Tt(this,void 0,void 0,function*(){if(this.disableCcipRead||s.length===0)return null;const r=e.to.toLowerCase(),i=n.toLowerCase(),o=[];for(let l=0;l<s.length;l++){const c=s[l],d=c.replace("{sender}",r).replace("{data}",i),u=c.indexOf("{data}")>=0?null:JSON.stringify({data:i,sender:r}),h=yield PA({url:d,errorPassThrough:!0},u,(m,g)=>(m.status=g.statusCode,m));if(h.data)return h.data;const f=h.message||"unknown error";if(h.status>=400&&h.status<500)return Dt.throwError(`response not found during CCIP fetch: ${f}`,ie.errors.SERVER_ERROR,{url:c,errorMessage:f});o.push(f)}return Dt.throwError(`error encountered during CCIP fetch: ${o.map(l=>JSON.stringify(l)).join(", ")}`,ie.errors.SERVER_ERROR,{urls:s,errorMessages:o})})}_getInternalBlockNumber(e){return Tt(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const r=this._internalBlockNumber;try{const i=yield r;if(Mf()-i.respTime<=e)return i.blockNumber;break}catch{if(this._internalBlockNumber===r)break}}const n=Mf(),s=Jn({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(r=>null,r=>r)}).then(({blockNumber:r,networkError:i})=>{if(i)throw this._internalBlockNumber===s&&(this._internalBlockNumber=null),i;const o=Mf();return r=Ve.from(r).toNumber(),r<this._maxInternalBlockNumber&&(r=this._maxInternalBlockNumber),this._maxInternalBlockNumber=r,this._setFastBlockNumber(r),{blockNumber:r,reqTime:n,respTime:o}});return this._internalBlockNumber=s,s.catch(r=>{this._internalBlockNumber===s&&(this._internalBlockNumber=null)}),(yield s).blockNumber})}poll(){return Tt(this,void 0,void 0,function*(){const e=xoe++,n=[];let s=null;try{s=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(r){this.emit("error",r);return}if(this._setFastBlockNumber(s),this.emit("poll",e,s),s===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=s-1),Math.abs(this._emitted.block-s)>1e3)Dt.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${s})`),this.emit("error",Dt.makeError("network block skew detected",ie.errors.NETWORK_ERROR,{blockNumber:s,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",s);else for(let r=this._emitted.block+1;r<=s;r++)this.emit("block",r);this._emitted.block!==s&&(this._emitted.block=s,Object.keys(this._emitted).forEach(r=>{if(r==="block")return;const i=this._emitted[r];i!=="pending"&&s-i>12&&delete this._emitted[r]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=s-1),this._events.forEach(r=>{switch(r.type){case"tx":{const i=r.hash;let o=this.getTransactionReceipt(i).then(l=>(!l||l.blockNumber==null||(this._emitted["t:"+i]=l.blockNumber,this.emit(i,l)),null)).catch(l=>{this.emit("error",l)});n.push(o);break}case"filter":{if(!r._inflight){r._inflight=!0,r._lastBlockNumber===-2&&(r._lastBlockNumber=s-1);const i=r.filter;i.fromBlock=r._lastBlockNumber+1,i.toBlock=s;const o=i.toBlock-this._maxFilterBlockRange;o>i.fromBlock&&(i.fromBlock=o),i.fromBlock<0&&(i.fromBlock=0);const l=this.getLogs(i).then(c=>{r._inflight=!1,c.length!==0&&c.forEach(d=>{d.blockNumber>r._lastBlockNumber&&(r._lastBlockNumber=d.blockNumber),this._emitted["b:"+d.blockHash]=d.blockNumber,this._emitted["t:"+d.transactionHash]=d.blockNumber,this.emit(i,d)})}).catch(c=>{this.emit("error",c),r._inflight=!1});n.push(l)}break}}}),this._lastBlockNumber=s,Promise.all(n).then(()=>{this.emit("didPoll",e)}).catch(r=>{this.emit("error",r)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return Tt(this,void 0,void 0,function*(){return Dt.throwError("provider does not support network detection",ie.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return Tt(this,void 0,void 0,function*(){const e=yield this._ready(),n=yield this.detectNetwork();if(e.chainId!==n.chainId){if(this.anyNetwork)return this._network=n,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",n,e),yield u_(0),this._network;const s=Dt.makeError("underlying network changed",ie.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:n});throw this.emit("error",s),s}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=Mf();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(n=>((this._fastBlockNumber==null||n>this._fastBlockNumber)&&(this._fastBlockNumber=n),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=Mf(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,n,s){return Tt(this,void 0,void 0,function*(){return this._waitForTransaction(e,n??1,s||0,null)})}_waitForTransaction(e,n,s,r){return Tt(this,void 0,void 0,function*(){const i=yield this.getTransactionReceipt(e);return(i?i.confirmations:0)>=n?i:new Promise((o,l)=>{const c=[];let d=!1;const u=function(){return d?!0:(d=!0,c.forEach(f=>{f()}),!1)},h=f=>{f.confirmations<n||u()||o(f)};if(this.on(e,h),c.push(()=>{this.removeListener(e,h)}),r){let f=r.startBlock,m=null;const g=p=>Tt(this,void 0,void 0,function*(){d||(yield u_(1e3),this.getTransactionCount(r.from).then(w=>Tt(this,void 0,void 0,function*(){if(!d){if(w<=r.nonce)f=p;else{{const b=yield this.getTransaction(e);if(b&&b.blockNumber!=null)return}for(m==null&&(m=f-3,m<r.startBlock&&(m=r.startBlock));m<=p;){if(d)return;const b=yield this.getBlockWithTransactions(m);for(let y=0;y<b.transactions.length;y++){const N=b.transactions[y];if(N.hash===e)return;if(N.from===r.from&&N.nonce===r.nonce){if(d)return;const A=yield this.waitForTransaction(N.hash,n);if(u())return;let S="replaced";N.data===r.data&&N.to===r.to&&N.value.eq(r.value)?S="repriced":N.data==="0x"&&N.from===N.to&&N.value.isZero()&&(S="cancelled"),l(Dt.makeError("transaction was replaced",ie.errors.TRANSACTION_REPLACED,{cancelled:S==="replaced"||S==="cancelled",reason:S,replacement:this._wrapTransaction(N),hash:e,receipt:A}));return}}m++}}d||this.once("block",g)}}),w=>{d||this.once("block",g)}))});if(d)return;this.once("block",g),c.push(()=>{this.removeListener("block",g)})}if(typeof s=="number"&&s>0){const f=setTimeout(()=>{u()||l(Dt.makeError("timeout exceeded",ie.errors.TIMEOUT,{timeout:s}))},s);f.unref&&f.unref(),c.push(()=>{clearTimeout(f)})}})})}getBlockNumber(){return Tt(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return Tt(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return Ve.from(e)}catch(n){return Dt.throwError("bad result from backend",ie.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:n})}})}getBalance(e,n){return Tt(this,void 0,void 0,function*(){yield this.getNetwork();const s=yield Jn({address:this._getAddress(e),blockTag:this._getBlockTag(n)}),r=yield this.perform("getBalance",s);try{return Ve.from(r)}catch(i){return Dt.throwError("bad result from backend",ie.errors.SERVER_ERROR,{method:"getBalance",params:s,result:r,error:i})}})}getTransactionCount(e,n){return Tt(this,void 0,void 0,function*(){yield this.getNetwork();const s=yield Jn({address:this._getAddress(e),blockTag:this._getBlockTag(n)}),r=yield this.perform("getTransactionCount",s);try{return Ve.from(r).toNumber()}catch(i){return Dt.throwError("bad result from backend",ie.errors.SERVER_ERROR,{method:"getTransactionCount",params:s,result:r,error:i})}})}getCode(e,n){return Tt(this,void 0,void 0,function*(){yield this.getNetwork();const s=yield Jn({address:this._getAddress(e),blockTag:this._getBlockTag(n)}),r=yield this.perform("getCode",s);try{return tt(r)}catch(i){return Dt.throwError("bad result from backend",ie.errors.SERVER_ERROR,{method:"getCode",params:s,result:r,error:i})}})}getStorageAt(e,n,s){return Tt(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Jn({address:this._getAddress(e),blockTag:this._getBlockTag(s),position:Promise.resolve(n).then(o=>bA(o))}),i=yield this.perform("getStorageAt",r);try{return tt(i)}catch(o){return Dt.throwError("bad result from backend",ie.errors.SERVER_ERROR,{method:"getStorageAt",params:r,result:i,error:o})}})}_wrapTransaction(e,n,s){if(n!=null&&_d(n)!==32)throw new Error("invalid response - sendTransaction");const r=e;return n!=null&&e.hash!==n&&Dt.throwError("Transaction hash mismatch from Provider.sendTransaction.",ie.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:n}),r.wait=(i,o)=>Tt(this,void 0,void 0,function*(){i==null&&(i=1),o==null&&(o=0);let l;i!==0&&s!=null&&(l={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:s});const c=yield this._waitForTransaction(e.hash,i,o,l);return c==null&&i===0?null:(this._emitted["t:"+e.hash]=c.blockNumber,c.status===0&&Dt.throwError("transaction failed",ie.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:c}),c)}),r}sendTransaction(e){return Tt(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Promise.resolve(e).then(i=>tt(i)),s=this.formatter.transaction(e);s.confirmations==null&&(s.confirmations=0);const r=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const i=yield this.perform("sendTransaction",{signedTransaction:n});return this._wrapTransaction(s,i,r)}catch(i){throw i.transaction=s,i.transactionHash=s.hash,i}})}_getTransactionRequest(e){return Tt(this,void 0,void 0,function*(){const n=yield e,s={};return["from","to"].forEach(r=>{n[r]!=null&&(s[r]=Promise.resolve(n[r]).then(i=>i?this._getAddress(i):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(r=>{n[r]!=null&&(s[r]=Promise.resolve(n[r]).then(i=>i?Ve.from(i):null))}),["type"].forEach(r=>{n[r]!=null&&(s[r]=Promise.resolve(n[r]).then(i=>i??null))}),n.accessList&&(s.accessList=this.formatter.accessList(n.accessList)),["data"].forEach(r=>{n[r]!=null&&(s[r]=Promise.resolve(n[r]).then(i=>i?tt(i):null))}),this.formatter.transactionRequest(yield Jn(s))})}_getFilter(e){return Tt(this,void 0,void 0,function*(){e=yield e;const n={};return e.address!=null&&(n.address=this._getAddress(e.address)),["blockHash","topics"].forEach(s=>{e[s]!=null&&(n[s]=e[s])}),["fromBlock","toBlock"].forEach(s=>{e[s]!=null&&(n[s]=this._getBlockTag(e[s]))}),this.formatter.filter(yield Jn(n))})}_call(e,n,s){return Tt(this,void 0,void 0,function*(){s>=uoe&&Dt.throwError("CCIP read exceeded maximum redirections",ie.errors.SERVER_ERROR,{redirects:s,transaction:e});const r=e.to,i=yield this.perform("call",{transaction:e,blockTag:n});if(s>=0&&n==="latest"&&r!=null&&i.substring(0,10)==="0x556f1830"&&_d(i)%32===4)try{const o=Fs(i,4),l=Fs(o,0,32);Ve.from(l).eq(r)||Dt.throwError("CCIP Read sender did not match",ie.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});const c=[],d=Ve.from(Fs(o,32,64)).toNumber(),u=Ve.from(Fs(o,d,d+32)).toNumber(),h=Fs(o,d+32);for(let b=0;b<u;b++){const y=jx(h,b*32);y==null&&Dt.throwError("CCIP Read contained corrupt URL string",ie.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i}),c.push(y)}const f=Np(o,64);Ve.from(Fs(o,100,128)).isZero()||Dt.throwError("CCIP Read callback selector included junk",ie.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});const m=Fs(o,96,100),g=Np(o,128),p=yield this.ccipReadFetch(e,f,c);p==null&&Dt.throwError("CCIP Read disabled or provided no URLs",ie.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});const w={to:r,data:jr([m,c8([p,g])])};return this._call(w,n,s+1)}catch(o){if(o.code===ie.errors.SERVER_ERROR)throw o}try{return tt(i)}catch(o){return Dt.throwError("bad result from backend",ie.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:n},result:i,error:o})}})}call(e,n){return Tt(this,void 0,void 0,function*(){yield this.getNetwork();const s=yield Jn({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(n),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(s.transaction,s.blockTag,s.ccipReadEnabled?0:-1)})}estimateGas(e){return Tt(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Jn({transaction:this._getTransactionRequest(e)}),s=yield this.perform("estimateGas",n);try{return Ve.from(s)}catch(r){return Dt.throwError("bad result from backend",ie.errors.SERVER_ERROR,{method:"estimateGas",params:n,result:s,error:r})}})}_getAddress(e){return Tt(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&Dt.throwArgumentError("invalid address or ENS name","name",e);const n=yield this.resolveName(e);return n==null&&Dt.throwError("ENS name not configured",ie.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),n})}_getBlock(e,n){return Tt(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let s=-128;const r={includeTransactions:!!n};if(Yt(e,32))r.blockHash=e;else try{r.blockTag=yield this._getBlockTag(e),Yt(r.blockTag)&&(s=parseInt(r.blockTag.substring(2),16))}catch{Dt.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return Zf(()=>Tt(this,void 0,void 0,function*(){const i=yield this.perform("getBlock",r);if(i==null)return r.blockHash!=null&&this._emitted["b:"+r.blockHash]==null||r.blockTag!=null&&s>this._emitted.block?null:void 0;if(n){let o=null;for(let c=0;c<i.transactions.length;c++){const d=i.transactions[c];if(d.blockNumber==null)d.confirmations=0;else if(d.confirmations==null){o==null&&(o=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let u=o-d.blockNumber+1;u<=0&&(u=1),d.confirmations=u}}const l=this.formatter.blockWithTransactions(i);return l.transactions=l.transactions.map(c=>this._wrapTransaction(c)),l}return this.formatter.block(i)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return Tt(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const n={transactionHash:this.formatter.hash(e,!0)};return Zf(()=>Tt(this,void 0,void 0,function*(){const s=yield this.perform("getTransaction",n);if(s==null)return this._emitted["t:"+e]==null?null:void 0;const r=this.formatter.transactionResponse(s);if(r.blockNumber==null)r.confirmations=0;else if(r.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-r.blockNumber+1;o<=0&&(o=1),r.confirmations=o}return this._wrapTransaction(r)}),{oncePoll:this})})}getTransactionReceipt(e){return Tt(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const n={transactionHash:this.formatter.hash(e,!0)};return Zf(()=>Tt(this,void 0,void 0,function*(){const s=yield this.perform("getTransactionReceipt",n);if(s==null)return this._emitted["t:"+e]==null?null:void 0;if(s.blockHash==null)return;const r=this.formatter.receipt(s);if(r.blockNumber==null)r.confirmations=0;else if(r.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-r.blockNumber+1;o<=0&&(o=1),r.confirmations=o}return r}),{oncePoll:this})})}getLogs(e){return Tt(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Jn({filter:this._getFilter(e)}),s=yield this.perform("getLogs",n);return s.forEach(r=>{r.removed==null&&(r.removed=!1)}),et.arrayOf(this.formatter.filterLog.bind(this.formatter))(s)})}getEtherPrice(){return Tt(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return Tt(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&Dt.throwArgumentError("invalid BlockTag","blockTag",e);let n=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return n+=e,n<0&&(n=0),this.formatter.blockTag(n)}return this.formatter.blockTag(e)})}getResolver(e){return Tt(this,void 0,void 0,function*(){let n=e;for(;;){if(n===""||n==="."||e!=="eth"&&n==="eth")return null;const s=yield this._getResolver(n,"getResolver");if(s!=null){const r=new p_(this,s,e);return n!==e&&!(yield r.supportsWildcard())?null:r}n=n.split(".").slice(1).join(".")}})}_getResolver(e,n){return Tt(this,void 0,void 0,function*(){n==null&&(n="ENS");const s=yield this.getNetwork();s.ensAddress||Dt.throwError("network does not support ENS",ie.errors.UNSUPPORTED_OPERATION,{operation:n,network:s.name});try{const r=yield this.call({to:s.ensAddress,data:"0x0178b8bf"+bx(e).substring(2)});return this.formatter.callAddress(r)}catch{}return null})}resolveName(e){return Tt(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(s){if(Yt(e))throw s}typeof e!="string"&&Dt.throwArgumentError("invalid ENS name","name",e);const n=yield this.getResolver(e);return n?yield n.getAddress():null})}lookupAddress(e){return Tt(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const n=e.substring(2).toLowerCase()+".addr.reverse",s=yield this._getResolver(n,"lookupAddress");if(s==null)return null;const r=jx(yield this.call({to:s,data:"0x691f3431"+bx(n).substring(2)}),0);return(yield this.resolveName(r))!=e?null:r})}getAvatar(e){return Tt(this,void 0,void 0,function*(){let n=null;if(Yt(e)){const i=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",o=yield this._getResolver(i,"getAvatar");if(!o)return null;n=new p_(this,o,i);try{const l=yield n.getAvatar();if(l)return l.url}catch(l){if(l.code!==ie.errors.CALL_EXCEPTION)throw l}try{const l=jx(yield this.call({to:o,data:"0x691f3431"+bx(i).substring(2)}),0);n=yield this.getResolver(l)}catch(l){if(l.code!==ie.errors.CALL_EXCEPTION)throw l;return null}}else if(n=yield this.getResolver(e),!n)return null;const s=yield n.getAvatar();return s==null?null:s.url})}perform(e,n){return Dt.throwError(e+" not implemented",ie.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(n=>n.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(n=>n.pollable()).length>0}_addEventListener(e,n,s){const r=new moe(tu(e),n,s);return this._events.push(r),this._startEvent(r),this}on(e,n){return this._addEventListener(e,n,!1)}once(e,n){return this._addEventListener(e,n,!0)}emit(e,...n){let s=!1,r=[],i=tu(e);return this._events=this._events.filter(o=>o.tag!==i?!0:(setTimeout(()=>{o.listener.apply(this,n)},0),s=!0,o.once?(r.push(o),!1):!0)),r.forEach(o=>{this._stopEvent(o)}),s}listenerCount(e){if(!e)return this._events.length;let n=tu(e);return this._events.filter(s=>s.tag===n).length}listeners(e){if(e==null)return this._events.map(s=>s.listener);let n=tu(e);return this._events.filter(s=>s.tag===n).map(s=>s.listener)}off(e,n){if(n==null)return this.removeAllListeners(e);const s=[];let r=!1,i=tu(e);return this._events=this._events.filter(o=>o.tag!==i||o.listener!=n||r?!0:(r=!0,s.push(o),!1)),s.forEach(o=>{this._stopEvent(o)}),this}removeAllListeners(e){let n=[];if(e==null)n=this._events,this._events=[];else{const s=tu(e);this._events=this._events.filter(r=>r.tag!==s?!0:(n.push(r),!1))}return n.forEach(s=>{this._stopEvent(s)}),this}}var xo=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):r(u.value).then(l,c)}d((s=s.apply(t,e||[])).next())})};const Zn=new ie(ob),voe=["call","estimateGas"];function Sm(t,e){if(t==null)return null;if(typeof t.message=="string"&&t.message.match("reverted")){const n=Yt(t.data)?t.data:null;if(!e||n)return{message:t.message,data:n}}if(typeof t=="object"){for(const n in t){const s=Sm(t[n],e);if(s)return s}return null}if(typeof t=="string")try{return Sm(JSON.parse(t),e)}catch{}return null}function d8(t,e,n){const s=n.transaction||n.signedTransaction;if(t==="call"){const i=Sm(e,!0);if(i)return i.data;Zn.throwError("missing revert data in call exception; Transaction reverted without a reason string",ie.errors.CALL_EXCEPTION,{data:"0x",transaction:s,error:e})}if(t==="estimateGas"){let i=Sm(e.body,!1);i==null&&(i=Sm(e,!1)),i&&Zn.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",ie.errors.UNPREDICTABLE_GAS_LIMIT,{reason:i.message,method:t,transaction:s,error:e})}let r=e.message;throw e.code===ie.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?r=e.error.message:typeof e.body=="string"?r=e.body:typeof e.responseText=="string"&&(r=e.responseText),r=(r||"").toLowerCase(),r.match(/insufficient funds|base fee exceeds gas limit/i)&&Zn.throwError("insufficient funds for intrinsic transaction cost",ie.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:s}),r.match(/nonce (is )?too low/i)&&Zn.throwError("nonce has already been used",ie.errors.NONCE_EXPIRED,{error:e,method:t,transaction:s}),r.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&Zn.throwError("replacement fee too low",ie.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:s}),r.match(/only replay-protected/i)&&Zn.throwError("legacy pre-eip-155 transactions not supported",ie.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:s}),voe.indexOf(t)>=0&&r.match(/gas required exceeds allowance|always failing transaction|execution reverted/)&&Zn.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",ie.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:s}),e}function g_(t){return new Promise(function(e){setTimeout(e,t)})}function boe(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function Of(t){return t&&t.toLowerCase()}const zN={};class u8 extends af{constructor(e,n,s){if(super(),e!==zN)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");Ce(this,"provider",n),s==null&&(s=0),typeof s=="string"?(Ce(this,"_address",this.provider.formatter.address(s)),Ce(this,"_index",null)):typeof s=="number"?(Ce(this,"_index",s),Ce(this,"_address",null)):Zn.throwArgumentError("invalid address or index","addressOrIndex",s)}connect(e){return Zn.throwError("cannot alter JSON-RPC Signer connection",ie.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new woe(zN,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&Zn.throwError("unknown account #"+this._index,ie.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=rs(e);const n=this.getAddress().then(s=>(s&&(s=s.toLowerCase()),s));if(e.gasLimit==null){const s=rs(e);s.from=n,e.gasLimit=this.provider.estimateGas(s)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(s=>xo(this,void 0,void 0,function*(){if(s==null)return null;const r=yield this.provider.resolveName(s);return r==null&&Zn.throwArgumentError("provided ENS name resolves to null","tx.to",s),r}))),Jn({tx:Jn(e),sender:n}).then(({tx:s,sender:r})=>{s.from!=null?s.from.toLowerCase()!==r&&Zn.throwArgumentError("from address mismatch","transaction",e):s.from=r;const i=this.provider.constructor.hexlifyTransaction(s,{from:!0});return this.provider.send("eth_sendTransaction",[i]).then(o=>o,o=>(typeof o.message=="string"&&o.message.match(/user denied/i)&&Zn.throwError("user rejected transaction",ie.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:s}),d8("sendTransaction",o,i)))})}signTransaction(e){return Zn.throwError("signing transactions is unsupported",ie.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return xo(this,void 0,void 0,function*(){const n=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),s=yield this.sendUncheckedTransaction(e);try{return yield Zf(()=>xo(this,void 0,void 0,function*(){const r=yield this.provider.getTransaction(s);if(r!==null)return this.provider._wrapTransaction(r,s,n)}),{oncePoll:this.provider})}catch(r){throw r.transactionHash=s,r}})}signMessage(e){return xo(this,void 0,void 0,function*(){const n=typeof e=="string"?Ya(e):e,s=yield this.getAddress();try{return yield this.provider.send("personal_sign",[tt(n),s.toLowerCase()])}catch(r){throw typeof r.message=="string"&&r.message.match(/user denied/i)&&Zn.throwError("user rejected signing",ie.errors.ACTION_REJECTED,{action:"signMessage",from:s,message:n}),r}})}_legacySignMessage(e){return xo(this,void 0,void 0,function*(){const n=typeof e=="string"?Ya(e):e,s=yield this.getAddress();try{return yield this.provider.send("eth_sign",[s.toLowerCase(),tt(n)])}catch(r){throw typeof r.message=="string"&&r.message.match(/user denied/i)&&Zn.throwError("user rejected signing",ie.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:s,message:n}),r}})}_signTypedData(e,n,s){return xo(this,void 0,void 0,function*(){const r=yield Lr.resolveNames(e,n,s,o=>this.provider.resolveName(o)),i=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[i.toLowerCase(),JSON.stringify(Lr.getPayload(r.domain,n,r.value))])}catch(o){throw typeof o.message=="string"&&o.message.match(/user denied/i)&&Zn.throwError("user rejected signing",ie.errors.ACTION_REJECTED,{action:"_signTypedData",from:i,message:{domain:r.domain,types:n,value:r.value}}),o}})}unlock(e){return xo(this,void 0,void 0,function*(){const n=this.provider,s=yield this.getAddress();return n.send("personal_unlockAccount",[s.toLowerCase(),e,null])})}}class woe extends u8{sendTransaction(e){return this.sendUncheckedTransaction(e).then(n=>({hash:n,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:s=>this.provider.waitForTransaction(n,s)}))}}const Noe={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class $l extends yoe{constructor(e,n){let s=n;s==null&&(s=new Promise((r,i)=>{setTimeout(()=>{this.detectNetwork().then(o=>{r(o)},o=>{i(o)})},0)})),super(s),e||(e=Gr(this.constructor,"defaultUrl")()),typeof e=="string"?Ce(this,"connection",Object.freeze({url:e})):Ce(this,"connection",Object.freeze(rs(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return xo(this,void 0,void 0,function*(){yield g_(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const n=Gr(this.constructor,"getNetwork");try{return n(Ve.from(e).toNumber())}catch(s){return Zn.throwError("could not detect network",ie.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:s})}}return Zn.throwError("could not detect network",ie.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new u8(zN,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(n=>this.formatter.address(n)))}send(e,n){const s={method:e,params:n,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:Wo(s),provider:this});const r=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(r&&this._cache[e])return this._cache[e];const i=PA(this.connection,JSON.stringify(s),boe).then(o=>(this.emit("debug",{action:"response",request:s,response:o,provider:this}),o),o=>{throw this.emit("debug",{action:"response",error:o,request:s,provider:this}),o});return r&&(this._cache[e]=i,setTimeout(()=>{this._cache[e]=null},0)),i}prepareRequest(e,n){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[Of(n.address),n.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[Of(n.address),n.blockTag]];case"getCode":return["eth_getCode",[Of(n.address),n.blockTag]];case"getStorageAt":return["eth_getStorageAt",[Of(n.address),jn(n.position,32),n.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[n.signedTransaction]];case"getBlock":return n.blockTag?["eth_getBlockByNumber",[n.blockTag,!!n.includeTransactions]]:n.blockHash?["eth_getBlockByHash",[n.blockHash,!!n.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[n.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[n.transactionHash]];case"call":return["eth_call",[Gr(this.constructor,"hexlifyTransaction")(n.transaction,{from:!0}),n.blockTag]];case"estimateGas":return["eth_estimateGas",[Gr(this.constructor,"hexlifyTransaction")(n.transaction,{from:!0})]];case"getLogs":return n.filter&&n.filter.address!=null&&(n.filter.address=Of(n.filter.address)),["eth_getLogs",[n.filter]]}return null}perform(e,n){return xo(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const r=n.transaction;if(r&&r.type!=null&&Ve.from(r.type).isZero()&&r.maxFeePerGas==null&&r.maxPriorityFeePerGas==null){const i=yield this.getFeeData();i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null&&(n=rs(n),n.transaction=rs(r),delete n.transaction.type)}}const s=this.prepareRequest(e,n);s==null&&Zn.throwError(e+" not implemented",ie.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(s[0],s[1])}catch(r){return d8(e,r,n)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,n=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=n,n.then(function(s){function r(){e.send("eth_getFilterChanges",[s]).then(function(i){if(e._pendingFilter!=n)return null;let o=Promise.resolve();return i.forEach(function(l){e._emitted["t:"+l.toLowerCase()]="pending",o=o.then(function(){return e.getTransaction(l).then(function(c){return e.emit("pending",c),null})})}),o.then(function(){return g_(1e3)})}).then(function(){if(e._pendingFilter!=n){e.send("eth_uninstallFilter",[s]);return}return setTimeout(function(){r()},0),null}).catch(i=>{})}return r(),s}).catch(s=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,n){const s=rs(Noe);if(n)for(const i in n)n[i]&&(s[i]=!0);QF(e,s);const r={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(i){if(e[i]==null)return;const o=bA(Ve.from(e[i]));i==="gasLimit"&&(i="gas"),r[i]=o}),["from","to","data"].forEach(function(i){e[i]!=null&&(r[i]=tt(e[i]))}),e.accessList&&(r.accessList=uf(e.accessList)),r}}const x_=new ie(ob);let koe=1;function y_(t,e){const n="Web3LegacyFetcher";return function(s,r){const i={method:s,params:r,id:koe++,jsonrpc:"2.0"};return new Promise((o,l)=>{this.emit("debug",{action:"request",fetcher:n,request:Wo(i),provider:this}),e(i,(c,d)=>{if(c)return this.emit("debug",{action:"response",fetcher:n,error:c,request:i,provider:this}),l(c);if(this.emit("debug",{action:"response",fetcher:n,request:i,response:d,provider:this}),d.error){const u=new Error(d.error.message);return u.code=d.error.code,u.data=d.error.data,l(u)}o(d.result)})})}}function joe(t){return function(e,n){n==null&&(n=[]);const s={method:e,params:n};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:Wo(s),provider:this}),t.request(s).then(r=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:s,response:r,provider:this}),r),r=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:s,error:r,provider:this}),r})}}class ra extends $l{constructor(e,n){e==null&&x_.throwArgumentError("missing provider","provider",e);let s=null,r=null,i=null;typeof e=="function"?(s="unknown:",r=e):(s=e.host||e.path||"",!s&&e.isMetaMask&&(s="metamask"),i=e,e.request?(s===""&&(s="eip-1193:"),r=joe(e)):e.sendAsync?r=y_(e,e.sendAsync.bind(e)):e.send?r=y_(e,e.send.bind(e)):x_.throwArgumentError("unsupported provider","provider",e),s||(s="unknown:")),super(s,n),Ce(this,"jsonRpcFetchFunc",r),Ce(this,"provider",i)}send(e,n){return this.jsonRpcFetchFunc(e,n)}}function Xi(t){return"0x"+sL.keccak_256(Jr(t))}const Soe="rlp/5.7.0",ka=new Ot(Soe);function v_(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function b_(t,e,n){let s=0;for(let r=0;r<n;r++)s=s*256+t[e+r];return s}function h8(t){if(Array.isArray(t)){let s=[];if(t.forEach(function(i){s=s.concat(h8(i))}),s.length<=55)return s.unshift(192+s.length),s;const r=v_(s.length);return r.unshift(247+r.length),r.concat(s)}n8(t)||ka.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(Jr(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const n=v_(e.length);return n.unshift(183+n.length),n.concat(e)}function f8(t){return es(h8(t))}function w_(t,e,n,s){const r=[];for(;n<e+1+s;){const i=m8(t,n);r.push(i.result),n+=i.consumed,n>e+1+s&&ka.throwError("child data too short",Ot.errors.BUFFER_OVERRUN,{})}return{consumed:1+s,result:r}}function m8(t,e){if(t.length===0&&ka.throwError("data too short",Ot.errors.BUFFER_OVERRUN,{}),t[e]>=248){const n=t[e]-247;e+1+n>t.length&&ka.throwError("data short segment too short",Ot.errors.BUFFER_OVERRUN,{});const s=b_(t,e+1,n);return e+1+n+s>t.length&&ka.throwError("data long segment too short",Ot.errors.BUFFER_OVERRUN,{}),w_(t,e,e+1+n,n+s)}else if(t[e]>=192){const n=t[e]-192;return e+1+n>t.length&&ka.throwError("data array too short",Ot.errors.BUFFER_OVERRUN,{}),w_(t,e,e+1,n)}else if(t[e]>=184){const n=t[e]-183;e+1+n>t.length&&ka.throwError("data array too short",Ot.errors.BUFFER_OVERRUN,{});const s=b_(t,e+1,n);e+1+n+s>t.length&&ka.throwError("data array too short",Ot.errors.BUFFER_OVERRUN,{});const r=es(t.slice(e+1+n,e+1+n+s));return{consumed:1+n+s,result:r}}else if(t[e]>=128){const n=t[e]-128;e+1+n>t.length&&ka.throwError("data too short",Ot.errors.BUFFER_OVERRUN,{});const s=es(t.slice(e+1,e+1+n));return{consumed:1+n,result:s}}return{consumed:1,result:es(t[e])}}function Aoe(t){const e=Jr(t),n=m8(e,0);return n.consumed!==e.length&&ka.throwArgumentError("invalid rlp data","data",t),n.result}const Nje=Object.freeze(Object.defineProperty({__proto__:null,decode:Aoe,encode:f8},Symbol.toStringTag,{value:"Module"})),Toe="address/5.7.0",Fl=new Ot(Toe);function N_(t){Rr(t,20)||Fl.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),n=new Uint8Array(40);for(let r=0;r<40;r++)n[r]=e[r].charCodeAt(0);const s=Jr(Xi(n));for(let r=0;r<40;r+=2)s[r>>1]>>4>=8&&(e[r]=e[r].toUpperCase()),(s[r>>1]&15)>=8&&(e[r+1]=e[r+1].toUpperCase());return"0x"+e.join("")}const Coe=9007199254740991;function Eoe(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const _A={};for(let t=0;t<10;t++)_A[String(t)]=String(t);for(let t=0;t<26;t++)_A[String.fromCharCode(65+t)]=String(10+t);const k_=Math.floor(Eoe(Coe));function p8(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(s=>_A[s]).join("");for(;e.length>=k_;){let s=e.substring(0,k_);e=parseInt(s,10)%97+e.substring(s.length)}let n=String(98-parseInt(e,10)%97);for(;n.length<2;)n="0"+n;return n}function Ro(t){let e=null;if(typeof t!="string"&&Fl.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=N_(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&Fl.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==p8(t)&&Fl.throwArgumentError("bad icap checksum","address",t),e=Vae(t.substring(4));e.length<40;)e="0"+e;e=N_("0x"+e)}else Fl.throwArgumentError("invalid address","address",t);return e}function Ioe(t){try{return Ro(t),!0}catch{}return!1}function kje(t){let e=zae(Ro(t).substring(2)).toUpperCase();for(;e.length<30;)e="0"+e;return"XE"+p8("XE00"+e)+e}function jje(t){let e=null;try{e=Ro(t.from)}catch{Fl.throwArgumentError("missing from address","transaction",t)}const n=$ae(Jr(un.from(t.nonce).toHexString()));return Ro(r8(Xi(f8([e,n])),12))}function Sje(t,e,n){return JP(e)!==32&&Fl.throwArgumentError("salt must be 32 bytes","salt",e),JP(n)!==32&&Fl.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",n),Ro(r8(Xi(s8(["0xff",Ro(t),e,n])),12))}const Poe="strings/5.7.0",g8=new Ot(Poe);var kp;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(kp||(kp={}));var Hr;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(Hr||(Hr={}));function _oe(t,e,n,s,r){return g8.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",n)}function x8(t,e,n,s,r){if(t===Hr.BAD_PREFIX||t===Hr.UNEXPECTED_CONTINUE){let i=0;for(let o=e+1;o<n.length&&n[o]>>6===2;o++)i++;return i}return t===Hr.OVERRUN?n.length-e-1:0}function Roe(t,e,n,s,r){return t===Hr.OVERLONG?(s.push(r),0):(s.push(65533),x8(t,e,n))}const Moe=Object.freeze({error:_oe,ignore:x8,replace:Roe});function RA(t,e){e==null&&(e=Moe.error),t=Jr(t);const n=[];let s=0;for(;s<t.length;){const r=t[s++];if(!(r>>7)){n.push(r);continue}let i=null,o=null;if((r&224)===192)i=1,o=127;else if((r&240)===224)i=2,o=2047;else if((r&248)===240)i=3,o=65535;else{(r&192)===128?s+=e(Hr.UNEXPECTED_CONTINUE,s-1,t,n):s+=e(Hr.BAD_PREFIX,s-1,t,n);continue}if(s-1+i>=t.length){s+=e(Hr.OVERRUN,s-1,t,n);continue}let l=r&(1<<8-i-1)-1;for(let c=0;c<i;c++){let d=t[s];if((d&192)!=128){s+=e(Hr.MISSING_CONTINUE,s,t,n),l=null;break}l=l<<6|d&63,s++}if(l!==null){if(l>1114111){s+=e(Hr.OUT_OF_RANGE,s-1-i,t,n,l);continue}if(l>=55296&&l<=57343){s+=e(Hr.UTF16_SURROGATE,s-1-i,t,n,l);continue}if(l<=o){s+=e(Hr.OVERLONG,s-1-i,t,n,l);continue}n.push(l)}}return n}function Zl(t,e=kp.current){e!=kp.current&&(g8.checkNormalize(),t=t.normalize(e));let n=[];for(let s=0;s<t.length;s++){const r=t.charCodeAt(s);if(r<128)n.push(r);else if(r<2048)n.push(r>>6|192),n.push(r&63|128);else if((r&64512)==55296){s++;const i=t.charCodeAt(s);if(s>=t.length||(i&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((r&1023)<<10)+(i&1023);n.push(o>>18|240),n.push(o>>12&63|128),n.push(o>>6&63|128),n.push(o&63|128)}else n.push(r>>12|224),n.push(r>>6&63|128),n.push(r&63|128)}return Jr(n)}function t1(t){const e="0000"+t.toString(16);return"\\u"+e.substring(e.length-4)}function Aje(t,e){return'"'+RA(t,e).map(n=>{if(n<256){switch(n){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(n>=32&&n<127)return String.fromCharCode(n)}return n<=65535?t1(n):(n-=65536,t1((n>>10&1023)+55296)+t1((n&1023)+56320))}).join("")+'"'}function Ooe(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Tje(t,e){return Ooe(RA(t,e))}function Cje(t,e=kp.current){return RA(Zl(t,e))}const Doe="units/5.7.0",y8=new ie(Doe),v8=["wei","kwei","mwei","gwei","szabo","finney","ether"];function Eje(t){const e=String(t).split(".");(e.length>2||!e[0].match(/^-?[0-9]*$/)||e[1]&&!e[1].match(/^[0-9]*$/)||t==="."||t==="-.")&&y8.throwArgumentError("invalid value","value",t);let n=e[0],s="";for(n.substring(0,1)==="-"&&(s="-",n=n.substring(1));n.substring(0,1)==="0";)n=n.substring(1);n===""&&(n="0");let r="";for(e.length===2&&(r="."+(e[1]||"0"));r.length>2&&r[r.length-1]==="0";)r=r.substring(0,r.length-1);const i=[];for(;n.length;)if(n.length<=3){i.unshift(n);break}else{const o=n.length-3;i.unshift(n.substring(o)),n=n.substring(0,o)}return s+i.join(",")+r}function Pa(t,e){if(typeof e=="string"){const n=v8.indexOf(e);n!==-1&&(e=3*n)}return yx(t,e??18)}function b8(t,e){if(typeof t!="string"&&y8.throwArgumentError("value must be a string","value",t),typeof e=="string"){const n=v8.indexOf(e);n!==-1&&(e=3*n)}return ya(t,e??18)}function Be(t){return Pa(t,18)}function Zr(t){return b8(t,18)}const MA=v.createContext({});function Tg(t){const e=v.useRef(null);return e.current===null&&(e.current=t()),e.current}const OA=typeof window<"u",lb=OA?v.useLayoutEffect:v.useEffect,cb=v.createContext(null),db=v.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function w8(t){return typeof t=="object"&&t!==null}function ub(t){return w8(t)&&"offsetHeight"in t}class $oe extends v.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,r=ub(s)&&s.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=r-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Foe({children:t,isPresent:e,anchorX:n}){const s=v.useId(),r=v.useRef(null),i=v.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=v.useContext(db);return v.useInsertionEffect(()=>{const{width:l,height:c,top:d,left:u,right:h}=i.current;if(e||!r.current||!l||!c)return;const f=n==="left"?`left: ${u}`:`right: ${h}`;r.current.dataset.motionPopId=s;const m=document.createElement("style");return o&&(m.nonce=o),document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${f}px !important;
            top: ${d}px !important;
          }
        `),()=>{document.head.contains(m)&&document.head.removeChild(m)}},[e]),a.jsx($oe,{isPresent:e,childRef:r,sizeRef:i,children:v.cloneElement(t,{ref:r})})}const Loe=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:r,presenceAffectsLayout:i,mode:o,anchorX:l})=>{const c=Tg(Boe),d=v.useId();let u=!0,h=v.useMemo(()=>(u=!1,{id:d,initial:e,isPresent:n,custom:r,onExitComplete:f=>{c.set(f,!0);for(const m of c.values())if(!m)return;s&&s()},register:f=>(c.set(f,!1),()=>c.delete(f))}),[n,c,s]);return i&&u&&(h={...h}),v.useMemo(()=>{c.forEach((f,m)=>c.set(m,!1))},[n]),v.useEffect(()=>{!n&&!c.size&&s&&s()},[n]),o==="popLayout"&&(t=a.jsx(Foe,{isPresent:n,anchorX:l,children:t})),a.jsx(cb.Provider,{value:h,children:t})};function Boe(){return new Map}function N8(t=!0){const e=v.useContext(cb);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:r}=e,i=v.useId();v.useEffect(()=>{if(t)return r(i)},[t]);const o=v.useCallback(()=>t&&s&&s(i),[i,s,t]);return!n&&s?[!1,o]:[!0]}const y0=t=>t.key||"";function j_(t){const e=[];return v.Children.forEach(t,n=>{v.isValidElement(n)&&e.push(n)}),e}const k8=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:r=!0,mode:i="sync",propagate:o=!1,anchorX:l="left"})=>{const[c,d]=N8(o),u=v.useMemo(()=>j_(t),[t]),h=o&&!c?[]:u.map(y0),f=v.useRef(!0),m=v.useRef(u),g=Tg(()=>new Map),[p,w]=v.useState(u),[b,y]=v.useState(u);lb(()=>{f.current=!1,m.current=u;for(let S=0;S<b.length;S++){const T=y0(b[S]);h.includes(T)?g.delete(T):g.get(T)!==!0&&g.set(T,!1)}},[b,h.length,h.join("-")]);const N=[];if(u!==p){let S=[...u];for(let T=0;T<b.length;T++){const _=b[T],R=y0(_);h.includes(R)||(S.splice(T,0,_),N.push(_))}return i==="wait"&&N.length&&(S=N),y(j_(S)),w(u),null}const{forceRender:A}=v.useContext(MA);return a.jsx(a.Fragment,{children:b.map(S=>{const T=y0(S),_=o&&!c?!1:u===b||h.includes(T),R=()=>{if(g.has(T))g.set(T,!0);else return;let B=!0;g.forEach(V=>{V||(B=!1)}),B&&(A==null||A(),y(m.current),o&&(d==null||d()),s&&s())};return a.jsx(Loe,{isPresent:_,initial:!f.current||n?void 0:!1,custom:e,presenceAffectsLayout:r,mode:i,onExitComplete:_?void 0:R,anchorX:l,children:S},T)})})},v0=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],S_={value:null,addProjectionMetrics:null};function Uoe(t,e){let n=new Set,s=new Set,r=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function d(h){o.has(h)&&(u.schedule(h),t()),c++,h(l)}const u={schedule:(h,f=!1,m=!1)=>{const p=m&&r?n:s;return f&&o.add(h),p.has(h)||p.add(h),h},cancel:h=>{s.delete(h),o.delete(h)},process:h=>{if(l=h,r){i=!0;return}r=!0,[n,s]=[s,n],n.forEach(d),e&&S_.value&&S_.value.frameloop[e].push(c),c=0,n.clear(),r=!1,i&&(i=!1,u.process(h))}};return u}const Go={},Voe=40;function j8(t,e){let n=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=v0.reduce((N,A)=>(N[A]=Uoe(i,e?A:void 0),N),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:u,update:h,preRender:f,render:m,postRender:g}=o,p=()=>{const N=Go.useManualTiming?r.timestamp:performance.now();n=!1,Go.useManualTiming||(r.delta=s?1e3/60:Math.max(Math.min(N-r.timestamp,Voe),1)),r.timestamp=N,r.isProcessing=!0,l.process(r),c.process(r),d.process(r),u.process(r),h.process(r),f.process(r),m.process(r),g.process(r),r.isProcessing=!1,n&&e&&(s=!1,t(p))},w=()=>{n=!0,s=!0,r.isProcessing||t(p)};return{schedule:v0.reduce((N,A)=>{const S=o[A];return N[A]=(T,_=!1,R=!1)=>(n||w(),S.schedule(T,_,R)),N},{}),cancel:N=>{for(let A=0;A<v0.length;A++)o[v0[A]].cancel(N)},state:r,steps:o}}const Mr=t=>t,{schedule:rn,cancel:ua,state:gs,steps:n1}=j8(typeof requestAnimationFrame<"u"?requestAnimationFrame:Mr,!0),S8=v.createContext({strict:!1}),A_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Oh={};for(const t in A_)Oh[t]={isEnabled:e=>A_[t].some(n=>!!e[n])};function zoe(t){for(const e in t)Oh[e]={...Oh[e],...t[e]}}const Hoe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Uy(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Hoe.has(t)}let A8=t=>!Uy(t);function Woe(t){t&&(A8=e=>e.startsWith("on")?!Uy(e):t(e))}try{Woe(require("@emotion/is-prop-valid").default)}catch{}function Koe(t,e,n){const s={};for(const r in t)r==="values"&&typeof t.values=="object"||(A8(r)||n===!0&&Uy(r)||!e&&!Uy(r)||t.draggable&&r.startsWith("onDrag"))&&(s[r]=t[r]);return s}function qoe(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...s)=>t(...s);return new Proxy(n,{get:(s,r)=>r==="create"?t:(e.has(r)||e.set(r,t(r)),e.get(r))})}const hb=v.createContext({});function fb(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function jp(t){return typeof t=="string"||Array.isArray(t)}const DA=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],$A=["initial",...DA];function mb(t){return fb(t.animate)||$A.some(e=>jp(t[e]))}function T8(t){return!!(mb(t)||t.variants)}function Goe(t,e){if(mb(t)){const{initial:n,animate:s}=t;return{initial:n===!1||jp(n)?n:void 0,animate:jp(s)?s:void 0}}return t.inherit!==!1?e:{}}function Yoe(t){const{initial:e,animate:n}=Goe(t,v.useContext(hb));return v.useMemo(()=>({initial:e,animate:n}),[T_(e),T_(n)])}function T_(t){return Array.isArray(t)?t.join(" "):t}const Xoe=Symbol.for("motionComponentSymbol");function _u(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Qoe(t,e,n){return v.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):_u(n)&&(n.current=s))},[e])}const FA=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Joe="framerAppearId",C8="data-"+FA(Joe),E8=v.createContext({}),{schedule:LA,cancel:Ije}=j8(queueMicrotask,!1);function Zoe(t,e,n,s,r){var p,w;const{visualElement:i}=v.useContext(hb),o=v.useContext(S8),l=v.useContext(cb),c=v.useContext(db).reducedMotion,d=v.useRef(null);s=s||o.renderer,!d.current&&s&&(d.current=s(t,{visualState:e,parent:i,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const u=d.current,h=v.useContext(E8);u&&!u.projection&&r&&(u.type==="html"||u.type==="svg")&&ele(d.current,n,r,h);const f=v.useRef(!1);v.useInsertionEffect(()=>{u&&f.current&&u.update(n,l)});const m=n[C8],g=v.useRef(!!m&&!((p=window.MotionHandoffIsComplete)!=null&&p.call(window,m))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,m)));return lb(()=>{u&&(f.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),LA.render(u.render),g.current&&u.animationState&&u.animationState.animateChanges())}),v.useEffect(()=>{u&&(!g.current&&u.animationState&&u.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)==null||b.call(window,m)}),g.current=!1))}),u}function ele(t,e,n,s){const{layoutId:r,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:I8(t.parent)),t.projection.setOptions({layoutId:r,layout:i,alwaysMeasureLayout:!!o||l&&_u(l),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:s,crossfade:u,layoutScroll:c,layoutRoot:d})}function I8(t){if(t)return t.options.allowProjection!==!1?t.projection:I8(t.parent)}let tle=()=>{},Vy=()=>{};function nle({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:s,Component:r}){t&&zoe(t);function i(l,c){let d;const u={...v.useContext(db),...l,layoutId:sle(l)},{isStatic:h}=u,f=Yoe(l),m=s(l,h);if(!h&&OA){rle();const g=ile(u);d=g.MeasureLayout,f.visualElement=Zoe(r,m,u,e,g.ProjectionNode)}return a.jsxs(hb.Provider,{value:f,children:[d&&f.visualElement?a.jsx(d,{visualElement:f.visualElement,...u}):null,n(r,l,Qoe(m,f.visualElement,c),m,h,f.visualElement)]})}i.displayName=`motion.${typeof r=="string"?r:`create(${r.displayName??r.name??""})`}`;const o=v.forwardRef(i);return o[Xoe]=r,o}function sle({layoutId:t}){const e=v.useContext(MA).id;return e&&t!==void 0?e+"-"+t:t}function rle(t,e){v.useContext(S8).strict}function ile(t){const{drag:e,layout:n}=Oh;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const P8=t=>e=>typeof e=="string"&&e.startsWith(t),BA=P8("--"),ale=P8("var(--"),UA=t=>ale(t)?ole.test(t.split("/*")[0].trim()):!1,ole=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Sp={};function lle(t){for(const e in t)Sp[e]=t[e],BA(e)&&(Sp[e].isCSSVariable=!0)}const hf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ff=new Set(hf);function _8(t,{layout:e,layoutId:n}){return ff.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Sp[t]||t==="opacity")}const R8=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Za=(t,e,n)=>n>e?e:n<t?t:n,mf={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ap={...mf,transform:t=>Za(0,1,t)},b0={...mf,default:1},C_={...mf,transform:Math.round},Cg=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),dl=Cg("deg"),za=Cg("%"),wt=Cg("px"),cle=Cg("vh"),dle=Cg("vw"),E_={...za,parse:t=>za.parse(t)/100,transform:t=>za.transform(t*100)},ule={rotate:dl,rotateX:dl,rotateY:dl,rotateZ:dl,scale:b0,scaleX:b0,scaleY:b0,scaleZ:b0,skew:dl,skewX:dl,skewY:dl,distance:wt,translateX:wt,translateY:wt,translateZ:wt,x:wt,y:wt,z:wt,perspective:wt,transformPerspective:wt,opacity:Ap,originX:E_,originY:E_,originZ:wt},VA={borderWidth:wt,borderTopWidth:wt,borderRightWidth:wt,borderBottomWidth:wt,borderLeftWidth:wt,borderRadius:wt,radius:wt,borderTopLeftRadius:wt,borderTopRightRadius:wt,borderBottomRightRadius:wt,borderBottomLeftRadius:wt,width:wt,maxWidth:wt,height:wt,maxHeight:wt,top:wt,right:wt,bottom:wt,left:wt,padding:wt,paddingTop:wt,paddingRight:wt,paddingBottom:wt,paddingLeft:wt,margin:wt,marginTop:wt,marginRight:wt,marginBottom:wt,marginLeft:wt,backgroundPositionX:wt,backgroundPositionY:wt,...ule,zIndex:C_,fillOpacity:Ap,strokeOpacity:Ap,numOctaves:C_},hle={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},fle=hf.length;function mle(t,e,n){let s="",r=!0;for(let i=0;i<fle;i++){const o=hf[i],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const d=R8(l,VA[o]);if(!c){r=!1;const u=hle[o]||o;s+=`${u}(${d}) `}n&&(e[o]=d)}}return s=s.trim(),n?s=n(e,r?"":s):r&&(s="none"),s}function zA(t,e,n){const{style:s,vars:r,transformOrigin:i}=t;let o=!1,l=!1;for(const c in e){const d=e[c];if(ff.has(c)){o=!0;continue}else if(BA(c)){r[c]=d;continue}else{const u=R8(d,VA[c]);c.startsWith("origin")?(l=!0,i[c]=u):s[c]=u}}if(e.transform||(o||n?s.transform=mle(e,t.transform,n):s.transform&&(s.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=i;s.transformOrigin=`${c} ${d} ${u}`}}const HA=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),vs=t=>!!(t&&t.getVelocity);function M8(t,e,n){for(const s in e)!vs(e[s])&&!_8(s,n)&&(t[s]=e[s])}function ple({transformTemplate:t},e){return v.useMemo(()=>{const n=HA();return zA(n,e,t),Object.assign({},n.vars,n.style)},[e])}function gle(t,e){const n=t.style||{},s={};return M8(s,n,t),Object.assign(s,ple(t,e)),s}function xle(t,e){const n={},s=gle(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const yle={offset:"stroke-dashoffset",array:"stroke-dasharray"},vle={offset:"strokeDashoffset",array:"strokeDasharray"};function ble(t,e,n=1,s=0,r=!0){t.pathLength=1;const i=r?yle:vle;t[i.offset]=wt.transform(-s);const o=wt.transform(e),l=wt.transform(n);t[i.array]=`${o} ${l}`}function O8(t,{attrX:e,attrY:n,attrScale:s,pathLength:r,pathSpacing:i=1,pathOffset:o=0,...l},c,d,u){if(zA(t,l,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:f}=t;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),s!==void 0&&(h.scale=s),r!==void 0&&ble(h,r,i,o,!1)}const D8=()=>({...HA(),attrs:{}}),$8=t=>typeof t=="string"&&t.toLowerCase()==="svg";function wle(t,e,n,s){const r=v.useMemo(()=>{const i=D8();return O8(i,e,$8(s),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};M8(i,t.style,t),r.style={...i,...r.style}}return r}const Nle=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function WA(t){return typeof t!="string"||t.includes("-")?!1:!!(Nle.indexOf(t)>-1||/[A-Z]/u.test(t))}function kle(t=!1){return(n,s,r,{latestValues:i},o)=>{const c=(WA(n)?wle:xle)(s,i,o,n),d=Koe(s,typeof n=="string",t),u=n!==v.Fragment?{...d,...c,ref:r}:{},{children:h}=s,f=v.useMemo(()=>vs(h)?h.get():h,[h]);return v.createElement(n,{...u,children:f})}}function I_(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function KA(t,e,n,s){if(typeof e=="function"){const[r,i]=I_(s);e=e(n!==void 0?n:t.custom,r,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,i]=I_(s);e=e(n!==void 0?n:t.custom,r,i)}return e}function Sx(t){return vs(t)?t.get():t}function jle({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,r){return{latestValues:Sle(n,s,r,t),renderState:e()}}const F8=t=>(e,n)=>{const s=v.useContext(hb),r=v.useContext(cb),i=()=>jle(t,e,s,r);return n?i():Tg(i)};function Sle(t,e,n,s){const r={},i=s(t,{});for(const f in i)r[f]=Sx(i[f]);let{initial:o,animate:l}=t;const c=mb(t),d=T8(t);e&&d&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const h=u?l:o;if(h&&typeof h!="boolean"&&!fb(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const g=KA(t,f[m]);if(g){const{transitionEnd:p,transition:w,...b}=g;for(const y in b){let N=b[y];if(Array.isArray(N)){const A=u?N.length-1:0;N=N[A]}N!==null&&(r[y]=N)}for(const y in p)r[y]=p[y]}}}return r}function qA(t,e,n){var i;const{style:s}=t,r={};for(const o in s)(vs(s[o])||e.style&&vs(e.style[o])||_8(o,t)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(r[o]=s[o]);return r}const Ale={useVisualState:F8({scrapeMotionValuesFromProps:qA,createRenderState:HA})};function L8(t,e,n){const s=qA(t,e,n);for(const r in t)if(vs(t[r])||vs(e[r])){const i=hf.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;s[i]=t[r]}return s}const Tle={useVisualState:F8({scrapeMotionValuesFromProps:L8,createRenderState:D8})};function Cle(t,e){return function(s,{forwardMotionProps:r}={forwardMotionProps:!1}){const o={...WA(s)?Tle:Ale,preloadedFeatures:t,useRender:kle(r),createVisualElement:e,Component:s};return nle(o)}}function Tp(t,e,n){const s=t.getProps();return KA(s,e,n!==void 0?n:s.custom,t)}const HN=t=>Array.isArray(t);let Ax;function Ele(){Ax=void 0}const Er={now:()=>(Ax===void 0&&Er.set(gs.isProcessing||Go.useManualTiming?gs.timestamp:performance.now()),Ax),set:t=>{Ax=t,queueMicrotask(Ele)}};function GA(t,e){t.indexOf(e)===-1&&t.push(e)}function YA(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class XA{constructor(){this.subscriptions=[]}add(e){return GA(this.subscriptions,e),()=>YA(this.subscriptions,e)}notify(e,n,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,s);else for(let i=0;i<r;i++){const o=this.subscriptions[i];o&&o(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function QA(t,e){return e?t*(1e3/e):0}const P_=30,Ile=t=>!isNaN(parseFloat(t));class Ple{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,r=!0)=>{var o,l;const i=Er.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty();r&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Er.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Ile(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new XA);const s=this.events[e].add(n);return e==="change"?()=>{s(),rn.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Er.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>P_)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,P_);return QA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Qi(t,e){return new Ple(t,e)}function _le(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Qi(n))}function Rle(t){return HN(t)?t[t.length-1]||0:t}function Mle(t,e){const n=Tp(t,e);let{transitionEnd:s={},transition:r={},...i}=n||{};i={...i,...s};for(const o in i){const l=Rle(i[o]);_le(t,o,l)}}function Ole(t){return!!(vs(t)&&t.add)}function WN(t,e){const n=t.getValue("willChange");if(Ole(n))return n.add(e);if(!n&&Go.WillChange){const s=new Go.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function B8(t){return t.props[C8]}const Dle=t=>t!==null;function $le(t,{repeat:e,repeatType:n="loop"},s){const r=t.filter(Dle),i=e&&n!=="loop"&&e%2===1?0:r.length-1;return!i||s===void 0?r[i]:s}const Fle={type:"spring",stiffness:500,damping:25,restSpeed:10},Lle=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Ble={type:"keyframes",duration:.8},Ule={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Vle=(t,{keyframes:e})=>e.length>2?Ble:ff.has(t)?t.startsWith("scale")?Lle(e[1]):Fle:Ule;function zle({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:r,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}function JA(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const Ha=t=>t*1e3,Wa=t=>t/1e3,Am=t=>Math.round(t*1e5)/1e5,ZA=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Hle(t){return t==null}const Wle=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,eT=(t,e)=>n=>!!(typeof n=="string"&&Wle.test(n)&&n.startsWith(t)||e&&!Hle(n)&&Object.prototype.hasOwnProperty.call(n,e)),U8=(t,e,n)=>s=>{if(typeof s!="string")return s;const[r,i,o,l]=s.match(ZA);return{[t]:parseFloat(r),[e]:parseFloat(i),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Kle=t=>Za(0,255,t),s1={...mf,transform:t=>Math.round(Kle(t))},Qc={test:eT("rgb","red"),parse:U8("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+s1.transform(t)+", "+s1.transform(e)+", "+s1.transform(n)+", "+Am(Ap.transform(s))+")"};function qle(t){let e="",n="",s="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,s+=s,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const KN={test:eT("#"),parse:qle,transform:Qc.transform},Ru={test:eT("hsl","hue"),parse:U8("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+za.transform(Am(e))+", "+za.transform(Am(n))+", "+Am(Ap.transform(s))+")"},$s={test:t=>Qc.test(t)||KN.test(t)||Ru.test(t),parse:t=>Qc.test(t)?Qc.parse(t):Ru.test(t)?Ru.parse(t):KN.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Qc.transform(t):Ru.transform(t)},Gle=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Yle(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(ZA))==null?void 0:e.length)||0)+(((n=t.match(Gle))==null?void 0:n.length)||0)>0}const V8="number",z8="color",Xle="var",Qle="var(",__="${}",Jle=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Cp(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},r=[];let i=0;const l=e.replace(Jle,c=>($s.test(c)?(s.color.push(i),r.push(z8),n.push($s.parse(c))):c.startsWith(Qle)?(s.var.push(i),r.push(Xle),n.push(c)):(s.number.push(i),r.push(V8),n.push(parseFloat(c))),++i,__)).split(__);return{values:n,split:l,indexes:s,types:r}}function H8(t){return Cp(t).values}function W8(t){const{split:e,types:n}=Cp(t),s=e.length;return r=>{let i="";for(let o=0;o<s;o++)if(i+=e[o],r[o]!==void 0){const l=n[o];l===V8?i+=Am(r[o]):l===z8?i+=$s.transform(r[o]):i+=r[o]}return i}}const Zle=t=>typeof t=="number"?0:t;function ece(t){const e=H8(t);return W8(t)(e.map(Zle))}const mc={test:Yle,parse:H8,createTransformer:W8,getAnimatableNone:ece};function r1(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function tce({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let r=0,i=0,o=0;if(!e)r=i=o=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;r=r1(c,l,t+1/3),i=r1(c,l,t),o=r1(c,l,t-1/3)}return{red:Math.round(r*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:s}}function zy(t,e){return n=>n>0?e:t}const In=(t,e,n)=>t+(e-t)*n,i1=(t,e,n)=>{const s=t*t,r=n*(e*e-s)+s;return r<0?0:Math.sqrt(r)},nce=[KN,Qc,Ru],sce=t=>nce.find(e=>e.test(t));function R_(t){const e=sce(t);if(!e)return!1;let n=e.parse(t);return e===Ru&&(n=tce(n)),n}const M_=(t,e)=>{const n=R_(t),s=R_(e);if(!n||!s)return zy(t,e);const r={...n};return i=>(r.red=i1(n.red,s.red,i),r.green=i1(n.green,s.green,i),r.blue=i1(n.blue,s.blue,i),r.alpha=In(n.alpha,s.alpha,i),Qc.transform(r))},qN=new Set(["none","hidden"]);function rce(t,e){return qN.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}const ice=(t,e)=>n=>e(t(n)),Eg=(...t)=>t.reduce(ice);function ace(t,e){return n=>In(t,e,n)}function tT(t){return typeof t=="number"?ace:typeof t=="string"?UA(t)?zy:$s.test(t)?M_:cce:Array.isArray(t)?K8:typeof t=="object"?$s.test(t)?M_:oce:zy}function K8(t,e){const n=[...t],s=n.length,r=t.map((i,o)=>tT(i)(i,e[o]));return i=>{for(let o=0;o<s;o++)n[o]=r[o](i);return n}}function oce(t,e){const n={...t,...e},s={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(s[r]=tT(t[r])(t[r],e[r]));return r=>{for(const i in s)n[i]=s[i](r);return n}}function lce(t,e){const n=[],s={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const i=e.types[r],o=t.indexes[i][s[i]],l=t.values[o]??0;n[r]=l,s[i]++}return n}const cce=(t,e)=>{const n=mc.createTransformer(e),s=Cp(t),r=Cp(e);return s.indexes.var.length===r.indexes.var.length&&s.indexes.color.length===r.indexes.color.length&&s.indexes.number.length>=r.indexes.number.length?qN.has(t)&&!r.values.length||qN.has(e)&&!s.values.length?rce(t,e):Eg(K8(lce(s,r),r.values),n):zy(t,e)};function q8(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?In(t,e,n):tT(t)(t,e)}const dce=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>rn.update(e,n),stop:()=>ua(e),now:()=>gs.isProcessing?gs.timestamp:Er.now()}},G8=(t,e,n=10)=>{let s="";const r=Math.max(Math.round(e/n),2);for(let i=0;i<r;i++)s+=t(i/(r-1))+", ";return`linear(${s.substring(0,s.length-2)})`},Hy=2e4;function nT(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<Hy;)e+=n,s=t.next(e);return e>=Hy?1/0:e}function uce(t,e=100,n){const s=n({...t,keyframes:[0,e]}),r=Math.min(nT(s),Hy);return{type:"keyframes",ease:i=>s.next(r*i).value/e,duration:Wa(r)}}const hce=5;function Y8(t,e,n){const s=Math.max(e-hce,0);return QA(n-t(s),e-s)}const Ln={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},a1=.001;function fce({duration:t=Ln.duration,bounce:e=Ln.bounce,velocity:n=Ln.velocity,mass:s=Ln.mass}){let r,i,o=1-e;o=Za(Ln.minDamping,Ln.maxDamping,o),t=Za(Ln.minDuration,Ln.maxDuration,Wa(t)),o<1?(r=d=>{const u=d*o,h=u*t,f=u-n,m=GN(d,o),g=Math.exp(-h);return a1-f/m*g},i=d=>{const h=d*o*t,f=h*n+n,m=Math.pow(o,2)*Math.pow(d,2)*t,g=Math.exp(-h),p=GN(Math.pow(d,2),o);return(-r(d)+a1>0?-1:1)*((f-m)*g)/p}):(r=d=>{const u=Math.exp(-d*t),h=(d-n)*t+1;return-a1+u*h},i=d=>{const u=Math.exp(-d*t),h=(n-d)*(t*t);return u*h});const l=5/t,c=pce(r,i,l);if(t=Ha(t),isNaN(c))return{stiffness:Ln.stiffness,damping:Ln.damping,duration:t};{const d=Math.pow(c,2)*s;return{stiffness:d,damping:o*2*Math.sqrt(s*d),duration:t}}}const mce=12;function pce(t,e,n){let s=n;for(let r=1;r<mce;r++)s=s-t(s)/e(s);return s}function GN(t,e){return t*Math.sqrt(1-e*e)}const gce=["duration","bounce"],xce=["stiffness","damping","mass"];function O_(t,e){return e.some(n=>t[n]!==void 0)}function yce(t){let e={velocity:Ln.velocity,stiffness:Ln.stiffness,damping:Ln.damping,mass:Ln.mass,isResolvedFromDuration:!1,...t};if(!O_(t,xce)&&O_(t,gce))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),r=s*s,i=2*Za(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:Ln.mass,stiffness:r,damping:i}}else{const n=fce(t);e={...e,...n,mass:Ln.mass},e.isResolvedFromDuration=!0}return e}function Wy(t=Ln.visualDuration,e=Ln.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:r}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:d,mass:u,duration:h,velocity:f,isResolvedFromDuration:m}=yce({...n,velocity:-Wa(n.velocity||0)}),g=f||0,p=d/(2*Math.sqrt(c*u)),w=o-i,b=Wa(Math.sqrt(c/u)),y=Math.abs(w)<5;s||(s=y?Ln.restSpeed.granular:Ln.restSpeed.default),r||(r=y?Ln.restDelta.granular:Ln.restDelta.default);let N;if(p<1){const S=GN(b,p);N=T=>{const _=Math.exp(-p*b*T);return o-_*((g+p*b*w)/S*Math.sin(S*T)+w*Math.cos(S*T))}}else if(p===1)N=S=>o-Math.exp(-b*S)*(w+(g+b*w)*S);else{const S=b*Math.sqrt(p*p-1);N=T=>{const _=Math.exp(-p*b*T),R=Math.min(S*T,300);return o-_*((g+p*b*w)*Math.sinh(R)+S*w*Math.cosh(R))/S}}const A={calculatedDuration:m&&h||null,next:S=>{const T=N(S);if(m)l.done=S>=h;else{let _=S===0?g:0;p<1&&(_=S===0?Ha(g):Y8(N,S,T));const R=Math.abs(_)<=s,B=Math.abs(o-T)<=r;l.done=R&&B}return l.value=l.done?o:T,l},toString:()=>{const S=Math.min(nT(A),Hy),T=G8(_=>A.next(S*_).value,S,30);return S+"ms "+T},toTransition:()=>{}};return A}Wy.applyToOptions=t=>{const e=uce(t,100,Wy);return t.ease=e.ease,t.duration=Ha(e.duration),t.type="keyframes",t};function YN({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const h=t[0],f={done:!1,value:h},m=R=>l!==void 0&&R<l||c!==void 0&&R>c,g=R=>l===void 0?c:c===void 0||Math.abs(l-R)<Math.abs(c-R)?l:c;let p=n*e;const w=h+p,b=o===void 0?w:o(w);b!==w&&(p=b-h);const y=R=>-p*Math.exp(-R/s),N=R=>b+y(R),A=R=>{const B=y(R),V=N(R);f.done=Math.abs(B)<=d,f.value=f.done?b:V};let S,T;const _=R=>{m(f.value)&&(S=R,T=Wy({keyframes:[f.value,g(f.value)],velocity:Y8(N,R,f.value),damping:r,stiffness:i,restDelta:d,restSpeed:u}))};return _(0),{calculatedDuration:null,next:R=>{let B=!1;return!T&&S===void 0&&(B=!0,A(R),_(R)),S!==void 0&&R>=S?T.next(R-S):(!B&&A(R),f)}}}const Dh=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};function vce(t,e,n){const s=[],r=n||Go.mix||q8,i=t.length-1;for(let o=0;o<i;o++){let l=r(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||Mr:e;l=Eg(c,l)}s.push(l)}return s}function X8(t,e,{clamp:n=!0,ease:s,mixer:r}={}){const i=t.length;if(Vy(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=vce(e,s,r),c=l.length,d=u=>{if(o&&u<t[0])return e[0];let h=0;if(c>1)for(;h<t.length-2&&!(u<t[h+1]);h++);const f=Dh(t[h],t[h+1],u);return l[h](f)};return n?u=>d(Za(t[0],t[i-1],u)):d}function bce(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const r=Dh(0,e,s);t.push(In(n,1,r))}}function Q8(t){const e=[0];return bce(e,t.length-1),e}function wce(t,e){return t.map(n=>n*e)}const J8=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Nce=1e-7,kce=12;function jce(t,e,n,s,r){let i,o,l=0;do o=e+(n-e)/2,i=J8(o,s,r)-t,i>0?n=o:e=o;while(Math.abs(i)>Nce&&++l<kce);return o}function Ig(t,e,n,s){if(t===e&&n===s)return Mr;const r=i=>jce(i,0,1,t,n);return i=>i===0||i===1?i:J8(r(i),e,s)}const Sce=Ig(.42,0,1,1),Ace=Ig(0,0,.58,1),Z8=Ig(.42,0,.58,1),Tce=t=>Array.isArray(t)&&typeof t[0]!="number",eB=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,tB=t=>e=>1-t(1-e),nB=Ig(.33,1.53,.69,.99),sT=tB(nB),sB=eB(sT),rB=t=>(t*=2)<1?.5*sT(t):.5*(2-Math.pow(2,-10*(t-1))),rT=t=>1-Math.sin(Math.acos(t)),iB=tB(rT),aB=eB(rT),oB=t=>Array.isArray(t)&&typeof t[0]=="number",D_={linear:Mr,easeIn:Sce,easeInOut:Z8,easeOut:Ace,circIn:rT,circInOut:aB,circOut:iB,backIn:sT,backInOut:sB,backOut:nB,anticipate:rB},Cce=t=>typeof t=="string",$_=t=>{if(oB(t)){Vy(t.length===4);const[e,n,s,r]=t;return Ig(e,n,s,r)}else if(Cce(t))return Vy(D_[t]!==void 0),D_[t];return t};function Ece(t,e){return t.map(()=>e||Z8).splice(0,t.length-1)}function Tm({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const r=Tce(s)?s.map($_):$_(s),i={done:!1,value:e[0]},o=wce(n&&n.length===e.length?n:Q8(e),t),l=X8(o,e,{ease:Array.isArray(r)?r:Ece(e,r)});return{calculatedDuration:t,next:c=>(i.value=l(c),i.done=c>=t,i)}}const Ice=t=>t!==null;function iT(t,{repeat:e,repeatType:n="loop"},s,r=1){const i=t.filter(Ice),l=r<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!l||s===void 0?i[l]:s}const Pce={decay:YN,inertia:YN,tween:Tm,keyframes:Tm,spring:Wy};function lB(t){typeof t.type=="string"&&(t.type=Pce[t.type])}class aT{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const _ce=t=>t/100;class oT extends aT{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(n=!0)=>{var s,r;if(n){const{motionValue:i}=this.options;i&&i.updatedAt!==Er.now()&&this.tick(Er.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(s=this.options).onStop)==null||r.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;lB(e);const{type:n=Tm,repeat:s=0,repeatDelay:r=0,repeatType:i,velocity:o=0}=e;let{keyframes:l}=e;const c=n||Tm;c!==Tm&&typeof l[0]!="number"&&(this.mixKeyframes=Eg(_ce,q8(l[0],l[1])),l=[0,100]);const d=c({...e,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=nT(d));const{calculatedDuration:u}=d;this.calculatedDuration=u,this.resolvedDuration=u+r,this.totalDuration=this.resolvedDuration*(s+1)-r,this.generator=d}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:r,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return s.next(0);const{delay:d=0,keyframes:u,repeat:h,repeatType:f,repeatDelay:m,type:g,onUpdate:p,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const b=this.currentTime-d*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?b<0:b>r;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let N=this.currentTime,A=s;if(h){const R=Math.min(this.currentTime,r)/l;let B=Math.floor(R),V=R%1;!V&&R>=1&&(V=1),V===1&&B--,B=Math.min(B,h+1),!!(B%2)&&(f==="reverse"?(V=1-V,m&&(V-=m/l)):f==="mirror"&&(A=o)),N=Za(0,1,V)*l}const S=y?{done:!1,value:u[0]}:A.next(N);i&&(S.value=i(S.value));let{done:T}=S;!y&&c!==null&&(T=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const _=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return _&&g!==YN&&(S.value=iT(u,this.options,w,this.speed)),p&&p(S.value),_&&this.finish(),S}then(e,n){return this.finished.then(e,n)}get duration(){return Wa(this.calculatedDuration)}get time(){return Wa(this.currentTime)}set time(e){var n;e=Ha(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Er.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Wa(this.currentTime))}play(){var r,i;if(this.isStopped)return;const{driver:e=dce,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(r=this.options).onPlay)==null||i.call(r);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Er.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function Rce(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Jc=t=>t*180/Math.PI,XN=t=>{const e=Jc(Math.atan2(t[1],t[0]));return QN(e)},Mce={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:XN,rotateZ:XN,skewX:t=>Jc(Math.atan(t[1])),skewY:t=>Jc(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},QN=t=>(t=t%360,t<0&&(t+=360),t),F_=XN,L_=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),B_=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Oce={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:L_,scaleY:B_,scale:t=>(L_(t)+B_(t))/2,rotateX:t=>QN(Jc(Math.atan2(t[6],t[5]))),rotateY:t=>QN(Jc(Math.atan2(-t[2],t[0]))),rotateZ:F_,rotate:F_,skewX:t=>Jc(Math.atan(t[4])),skewY:t=>Jc(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function JN(t){return t.includes("scale")?1:0}function ZN(t,e){if(!t||t==="none")return JN(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,r;if(n)s=Oce,r=n;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=Mce,r=l}if(!r)return JN(e);const i=s[e],o=r[1].split(",").map($ce);return typeof i=="function"?i(o):o[i]}const Dce=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return ZN(n,e)};function $ce(t){return parseFloat(t.trim())}const U_=t=>t===mf||t===wt,Fce=new Set(["x","y","z"]),Lce=hf.filter(t=>!Fce.has(t));function Bce(t){const e=[];return Lce.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const xd={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>ZN(e,"x"),y:(t,{transform:e})=>ZN(e,"y")};xd.translateX=xd.x;xd.translateY=xd.y;const yd=new Set;let ek=!1,tk=!1,nk=!1;function cB(){if(tk){const t=Array.from(yd).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const r=Bce(s);r.length&&(n.set(s,r),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const r=n.get(s);r&&r.forEach(([i,o])=>{var l;(l=s.getValue(i))==null||l.set(o)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}tk=!1,ek=!1,yd.forEach(t=>t.complete(nk)),yd.clear()}function dB(){yd.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(tk=!0)})}function Uce(){nk=!0,dB(),cB(),nk=!1}class lT{constructor(e,n,s,r,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=r,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(yd.add(this),ek||(ek=!0,rn.read(dB),rn.resolveKeyframes(cB))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:r}=this;if(e[0]===null){const i=r==null?void 0:r.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(s&&n){const l=s.readValue(n,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),r&&i===void 0&&r.set(e[0])}Rce(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),yd.delete(this)}cancel(){this.state==="scheduled"&&(yd.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Vce=t=>t.startsWith("--");function zce(t,e,n){Vce(e)?t.style.setProperty(e,n):t.style[e]=n}function cT(t){let e;return()=>(e===void 0&&(e=t()),e)}const uB=cT(()=>window.ScrollTimeline!==void 0),Hce={};function Wce(t,e){const n=cT(t);return()=>Hce[e]??n()}const hB=Wce(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),em=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,V_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:em([0,.65,.55,1]),circOut:em([.55,0,1,.45]),backIn:em([.31,.01,.66,-.59]),backOut:em([.33,1.53,.69,.99])};function fB(t,e){if(t)return typeof t=="function"?hB()?G8(t,e):"ease-out":oB(t)?em(t):Array.isArray(t)?t.map(n=>fB(n,e)||V_.easeOut):V_[t]}function Kce(t,e,n,{delay:s=0,duration:r=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const u={[e]:n};c&&(u.offset=c);const h=fB(l,r);Array.isArray(h)&&(u.easing=h);const f={delay:s,duration:r,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return d&&(f.pseudoElement=d),t.animate(u,f)}function mB(t){return typeof t=="function"&&"applyToOptions"in t}function qce({type:t,...e}){return mB(t)&&hB()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Gce extends aT{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:r,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,Vy(typeof e.type!="string");const d=qce(e);this.animation=Kce(n,s,r,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=iT(r,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(u):zce(n,s,u),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,s;const e=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return Wa(Number(e))}get time(){return Wa(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ha(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&uB()?(this.animation.timeline=e,Mr):n(this)}}const pB={anticipate:rB,backInOut:sB,circInOut:aB};function Yce(t){return t in pB}function Xce(t){typeof t.ease=="string"&&Yce(t.ease)&&(t.ease=pB[t.ease])}const z_=10;class Qce extends Gce{constructor(e){Xce(e),lB(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:r,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const l=new oT({...o,autoplay:!1}),c=Ha(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-z_).value,l.sample(c).value,z_),l.stop()}}const H_=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(mc.test(t)||t==="0")&&!t.startsWith("url("));function Jce(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Zce(t,e,n,s){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=H_(r,e),l=H_(i,e);return!o||!l?!1:Jce(t)||(n==="spring"||mB(n))&&s}const ede=new Set(["opacity","clipPath","filter","transform"]),tde=cT(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function nde(t){var d;const{motionValue:e,name:n,repeatDelay:s,repeatType:r,damping:i,type:o}=t;if(!ub((d=e==null?void 0:e.owner)==null?void 0:d.current))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return tde()&&n&&ede.has(n)&&(n!=="transform"||!c)&&!l&&!s&&r!=="mirror"&&i!==0&&o!=="inertia"}const sde=40;class rde extends aT{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:u,...h}){var g;super(),this.stop=()=>{var p,w;this._animation&&(this._animation.stop(),(p=this.stopTimeline)==null||p.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=Er.now();const f={autoplay:e,delay:n,type:s,repeat:r,repeatDelay:i,repeatType:o,name:c,motionValue:d,element:u,...h},m=(u==null?void 0:u.KeyframeResolver)||lT;this.keyframeResolver=new m(l,(p,w,b)=>this.onKeyframesResolved(p,w,f,!b),c,d,u),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(e,n,s,r){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:u}=s;this.resolvedAt=Er.now(),Zce(e,i,o,l)||((Go.instantAnimations||!c)&&(u==null||u(iT(e,s,n))),e[0]=e[e.length-1],s.duration=0,s.repeat=0);const f={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>sde?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},m=!d&&nde(f)?new Qce({...f,element:f.motionValue.owner.current}):new oT(f);m.finished.then(()=>this.notifyFinished()).catch(Mr),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Uce()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const dT=(t,e,n,s={},r,i)=>o=>{const l=JA(s,t)||{},c=l.delay||s.delay||0;let{elapsed:d=0}=s;d=d-Ha(c);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:f=>{e.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:i?void 0:r};zle(l)||Object.assign(u,Vle(t,u)),u.duration&&(u.duration=Ha(u.duration)),u.repeatDelay&&(u.repeatDelay=Ha(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(h=!0)),(Go.instantAnimations||Go.skipAnimations)&&(h=!0,u.duration=0,u.delay=0),u.allowFlatten=!l.type&&!l.ease,h&&!i&&e.get()!==void 0){const f=$le(u.keyframes,l);if(f!==void 0){rn.update(()=>{u.onUpdate(f),u.onComplete()});return}}return l.isSync?new oT(u):new rde(u)},gB=new Set(["width","height","top","left","right","bottom",...hf]);function ide({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function xB(t,e,{delay:n=0,transitionOverride:s,type:r}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...l}=e;s&&(i=s);const c=[],d=r&&t.animationState&&t.animationState.getState()[r];for(const u in l){const h=t.getValue(u,t.latestValues[u]??null),f=l[u];if(f===void 0||d&&ide(d,u))continue;const m={delay:n,...JA(i||{},u)},g=h.get();if(g!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===g&&!m.velocity)continue;let p=!1;if(window.MotionHandoffAnimation){const b=B8(t);if(b){const y=window.MotionHandoffAnimation(b,u,rn);y!==null&&(m.startTime=y,p=!0)}}WN(t,u),h.start(dT(u,h,f,t.shouldReduceMotion&&gB.has(u)?{type:!1}:m,t,p));const w=h.animation;w&&c.push(w)}return o&&Promise.all(c).then(()=>{rn.update(()=>{o&&Mle(t,o)})}),c}function sk(t,e,n={}){var c;const s=Tp(t,e,n.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:r=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(r=n.transitionOverride);const i=s?()=>Promise.all(xB(t,s,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:f}=r;return ade(t,e,u+d,h,f,n)}:()=>Promise.resolve(),{when:l}=r;if(l){const[d,u]=l==="beforeChildren"?[i,o]:[o,i];return d().then(()=>u())}else return Promise.all([i(),o(n.delay)])}function ade(t,e,n=0,s=0,r=1,i){const o=[],l=(t.variantChildren.size-1)*s,c=r===1?(d=0)=>d*s:(d=0)=>l-d*s;return Array.from(t.variantChildren).sort(ode).forEach((d,u)=>{d.notify("AnimationStart",e),o.push(sk(d,e,{...i,delay:n+c(u)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(o)}function ode(t,e){return t.sortNodePosition(e)}function lde(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const r=e.map(i=>sk(t,i,n));s=Promise.all(r)}else if(typeof e=="string")s=sk(t,e,n);else{const r=typeof e=="function"?Tp(t,e,n.custom):e;s=Promise.all(xB(t,r,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function yB(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const cde=$A.length;function vB(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?vB(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<cde;n++){const s=$A[n],r=t.props[s];(jp(r)||r===!1)&&(e[s]=r)}return e}const dde=[...DA].reverse(),ude=DA.length;function hde(t){return e=>Promise.all(e.map(({animation:n,options:s})=>lde(t,n,s)))}function fde(t){let e=hde(t),n=W_(),s=!0;const r=c=>(d,u)=>{var f;const h=Tp(t,u,c==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:g,...p}=h;d={...d,...p,...g}}return d};function i(c){e=c(t)}function o(c){const{props:d}=t,u=vB(t.parent)||{},h=[],f=new Set;let m={},g=1/0;for(let w=0;w<ude;w++){const b=dde[w],y=n[b],N=d[b]!==void 0?d[b]:u[b],A=jp(N),S=b===c?y.isActive:null;S===!1&&(g=w);let T=N===u[b]&&N!==d[b]&&A;if(T&&s&&t.manuallyAnimateOnMount&&(T=!1),y.protectedKeys={...m},!y.isActive&&S===null||!N&&!y.prevProp||fb(N)||typeof N=="boolean")continue;const _=mde(y.prevProp,N);let R=_||b===c&&y.isActive&&!T&&A||w>g&&A,B=!1;const V=Array.isArray(N)?N:[N];let U=V.reduce(r(b),{});S===!1&&(U={});const{prevResolvedValues:L={}}=y,M={...L,...U},x=D=>{R=!0,f.has(D)&&(B=!0,f.delete(D)),y.needsAnimating[D]=!0;const C=t.getValue(D);C&&(C.liveStyle=!1)};for(const D in M){const C=U[D],I=L[D];if(m.hasOwnProperty(D))continue;let F=!1;HN(C)&&HN(I)?F=!yB(C,I):F=C!==I,F?C!=null?x(D):f.add(D):C!==void 0&&f.has(D)?x(D):y.protectedKeys[D]=!0}y.prevProp=N,y.prevResolvedValues=U,y.isActive&&(m={...m,...U}),s&&t.blockInitialAnimation&&(R=!1),R&&(!(T&&_)||B)&&h.push(...V.map(D=>({animation:D,options:{type:b}})))}if(f.size){const w={};if(typeof d.initial!="boolean"){const b=Tp(t,Array.isArray(d.initial)?d.initial[0]:d.initial);b&&b.transition&&(w.transition=b.transition)}f.forEach(b=>{const y=t.getBaseTarget(b),N=t.getValue(b);N&&(N.liveStyle=!0),w[b]=y??null}),h.push({animation:w})}let p=!!h.length;return s&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(p=!1),s=!1,p?e(h):Promise.resolve()}function l(c,d){var h;if(n[c].isActive===d)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(f=>{var m;return(m=f.animationState)==null?void 0:m.setActive(c,d)}),n[c].isActive=d;const u=o(c);for(const f in n)n[f].protectedKeys={};return u}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=W_(),s=!0}}}function mde(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!yB(e,t):!1}function Ic(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function W_(){return{animate:Ic(!0),whileInView:Ic(),whileHover:Ic(),whileTap:Ic(),whileDrag:Ic(),whileFocus:Ic(),exit:Ic()}}class kc{constructor(e){this.isMounted=!1,this.node=e}update(){}}class pde extends kc{constructor(e){super(e),e.animationState||(e.animationState=fde(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();fb(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let gde=0;class xde extends kc{constructor(){super(...arguments),this.id=gde++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const yde={animation:{Feature:pde},exit:{Feature:xde}};function Ep(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}const uT=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Pg(t){return{point:{x:t.pageX,y:t.pageY}}}const vde=t=>e=>uT(e)&&t(e,Pg(e));function Cm(t,e,n,s){return Ep(t,e,vde(n),s)}function bB({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function bde({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function wde(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}const wB=1e-4,Nde=1-wB,kde=1+wB,NB=.01,jde=0-NB,Sde=0+NB;function lr(t){return t.max-t.min}function Ade(t,e,n){return Math.abs(t-e)<=n}function K_(t,e,n,s=.5){t.origin=s,t.originPoint=In(e.min,e.max,t.origin),t.scale=lr(n)/lr(e),t.translate=In(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Nde&&t.scale<=kde||isNaN(t.scale))&&(t.scale=1),(t.translate>=jde&&t.translate<=Sde||isNaN(t.translate))&&(t.translate=0)}function Em(t,e,n,s){K_(t.x,e.x,n.x,s?s.originX:void 0),K_(t.y,e.y,n.y,s?s.originY:void 0)}function q_(t,e,n){t.min=n.min+e.min,t.max=t.min+lr(e)}function Tde(t,e,n){q_(t.x,e.x,n.x),q_(t.y,e.y,n.y)}function G_(t,e,n){t.min=e.min-n.min,t.max=t.min+lr(e)}function Im(t,e,n){G_(t.x,e.x,n.x),G_(t.y,e.y,n.y)}const Y_=()=>({translate:0,scale:1,origin:0,originPoint:0}),Mu=()=>({x:Y_(),y:Y_()}),X_=()=>({min:0,max:0}),Wn=()=>({x:X_(),y:X_()});function fi(t){return[t("x"),t("y")]}function o1(t){return t===void 0||t===1}function rk({scale:t,scaleX:e,scaleY:n}){return!o1(t)||!o1(e)||!o1(n)}function Fc(t){return rk(t)||kB(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function kB(t){return Q_(t.x)||Q_(t.y)}function Q_(t){return t&&t!=="0%"}function Ky(t,e,n){const s=t-n,r=e*s;return n+r}function J_(t,e,n,s,r){return r!==void 0&&(t=Ky(t,r,s)),Ky(t,n,s)+e}function ik(t,e=0,n=1,s,r){t.min=J_(t.min,e,n,s,r),t.max=J_(t.max,e,n,s,r)}function jB(t,{x:e,y:n}){ik(t.x,e.translate,e.scale,e.originPoint),ik(t.y,n.translate,n.scale,n.originPoint)}const Z_=.999999999999,e5=1.0000000000001;function Cde(t,e,n,s=!1){const r=n.length;if(!r)return;e.x=e.y=1;let i,o;for(let l=0;l<r;l++){i=n[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Du(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,jB(t,o)),s&&Fc(i.latestValues)&&Du(t,i.latestValues))}e.x<e5&&e.x>Z_&&(e.x=1),e.y<e5&&e.y>Z_&&(e.y=1)}function Ou(t,e){t.min=t.min+e,t.max=t.max+e}function t5(t,e,n,s,r=.5){const i=In(t.min,t.max,r);ik(t,e,n,i,s)}function Du(t,e){t5(t.x,e.x,e.scaleX,e.scale,e.originX),t5(t.y,e.y,e.scaleY,e.scale,e.originY)}function SB(t,e){return bB(wde(t.getBoundingClientRect(),e))}function Ede(t,e,n){const s=SB(t,n),{scroll:r}=e;return r&&(Ou(s.x,r.offset.x),Ou(s.y,r.offset.y)),s}const AB=({current:t})=>t?t.ownerDocument.defaultView:null,n5=(t,e)=>Math.abs(t-e);function Ide(t,e){const n=n5(t.x,e.x),s=n5(t.y,e.y);return Math.sqrt(n**2+s**2)}class TB{constructor(e,n,{transformPagePoint:s,contextWindow:r,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=c1(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=Ide(h.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:g}=h,{timestamp:p}=gs;this.history.push({...g,timestamp:p});const{onStart:w,onMove:b}=this.handlers;f||(w&&w(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=l1(f,this.transformPagePoint),rn.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:m,onSessionEnd:g,resumeAnimation:p}=this.handlers;if(this.dragSnapToOrigin&&p&&p(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=c1(h.type==="pointercancel"?this.lastMoveEventInfo:l1(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,w),g&&g(h,w)},!uT(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=s,this.contextWindow=r||window;const o=Pg(e),l=l1(o,this.transformPagePoint),{point:c}=l,{timestamp:d}=gs;this.history=[{...c,timestamp:d}];const{onSessionStart:u}=n;u&&u(e,c1(l,this.history)),this.removeListeners=Eg(Cm(this.contextWindow,"pointermove",this.handlePointerMove),Cm(this.contextWindow,"pointerup",this.handlePointerUp),Cm(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ua(this.updatePoint)}}function l1(t,e){return e?{point:e(t.point)}:t}function s5(t,e){return{x:t.x-e.x,y:t.y-e.y}}function c1({point:t},e){return{point:t,delta:s5(t,CB(e)),offset:s5(t,Pde(e)),velocity:_de(e,.1)}}function Pde(t){return t[0]}function CB(t){return t[t.length-1]}function _de(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const r=CB(t);for(;n>=0&&(s=t[n],!(r.timestamp-s.timestamp>Ha(e)));)n--;if(!s)return{x:0,y:0};const i=Wa(r.timestamp-s.timestamp);if(i===0)return{x:0,y:0};const o={x:(r.x-s.x)/i,y:(r.y-s.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Rde(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?In(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?In(n,t,s.max):Math.min(t,n)),t}function r5(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Mde(t,{top:e,left:n,bottom:s,right:r}){return{x:r5(t.x,n,r),y:r5(t.y,e,s)}}function i5(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function Ode(t,e){return{x:i5(t.x,e.x),y:i5(t.y,e.y)}}function Dde(t,e){let n=.5;const s=lr(t),r=lr(e);return r>s?n=Dh(e.min,e.max-s,t.min):s>r&&(n=Dh(t.min,t.max-r,e.min)),Za(0,1,n)}function $de(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const ak=.35;function Fde(t=ak){return t===!1?t=0:t===!0&&(t=ak),{x:a5(t,"left","right"),y:a5(t,"top","bottom")}}function a5(t,e,n){return{min:o5(t,e),max:o5(t,n)}}function o5(t,e){return typeof t=="number"?t:t[e]||0}const Fi={x:!1,y:!1};function EB(){return Fi.x||Fi.y}function Lde(t){return t==="x"||t==="y"?Fi[t]?null:(Fi[t]=!0,()=>{Fi[t]=!1}):Fi.x||Fi.y?null:(Fi.x=Fi.y=!0,()=>{Fi.x=Fi.y=!1})}const Bde=new WeakMap;class Ude{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Wn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const r=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Pg(u).point)},i=(u,h)=>{const{drag:f,dragPropagation:m,onDragStart:g}=this.getProps();if(f&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Lde(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),fi(w=>{let b=this.getAxisMotionValue(w).get()||0;if(za.test(b)){const{projection:y}=this.visualElement;if(y&&y.layout){const N=y.layout.layoutBox[w];N&&(b=lr(N)*(parseFloat(b)/100))}}this.originPoint[w]=b}),g&&rn.postRender(()=>g(u,h)),WN(this.visualElement,"transform");const{animationState:p}=this.visualElement;p&&p.setActive("whileDrag",!0)},o=(u,h)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:g,onDrag:p}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:w}=h;if(m&&this.currentDirection===null){this.currentDirection=Vde(w),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",h.point,w),this.updateAxis("y",h.point,w),this.visualElement.render(),p&&p(u,h)},l=(u,h)=>this.stop(u,h),c=()=>fi(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)==null?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new TB(e,{onSessionStart:r,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:AB(this.visualElement)})}stop(e,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&rn.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:r}=this.getProps();if(!s||!w0(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(o=Rde(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,r=this.constraints;e&&_u(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=Mde(s.layoutBox,e):this.constraints=!1,this.elastic=Fde(n),r!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&fi(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=$de(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!_u(e))return!1;const s=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=Ede(s,r.root,this.visualElement.getTransformPagePoint());let o=Ode(r.layout.layoutBox,i);if(n){const l=n(bde(o));this.hasMutatedConstraints=!!l,l&&(o=bB(l))}return o}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:r,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=fi(u=>{if(!w0(u,n,this.currentDirection))return;let h=c&&c[u]||{};o&&(h={min:0,max:0});const f=r?200:1e6,m=r?40:1e7,g={type:"inertia",velocity:s?e[u]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(u,g)});return Promise.all(d).then(l)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return WN(this.visualElement,e),s.start(dT(e,s,0,n,this.visualElement,!1))}stopAnimation(){fi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){fi(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),r=s[n];return r||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){fi(n=>{const{drag:s}=this.getProps();if(!w0(n,s,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:l}=r.layout.layoutBox[n];i.set(e[n]-In(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!_u(n)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};fi(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();r[o]=Dde({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),fi(o=>{if(!w0(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(In(c,d,r[o]))})}addListeners(){if(!this.visualElement.current)return;Bde.set(this.visualElement,this);const e=this.visualElement.current,n=Cm(e,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();_u(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,i=r.addEventListener("measure",s);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),rn.read(s);const o=Ep(window,"resize",()=>this.scalePositionWithinConstraints()),l=r.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(fi(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=c[u].translate,h.set(h.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:o=ak,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:r,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function w0(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Vde(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class zde extends kc{constructor(e){super(e),this.removeGroupControls=Mr,this.removeListeners=Mr,this.controls=new Ude(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Mr}unmount(){this.removeGroupControls(),this.removeListeners()}}const l5=t=>(e,n)=>{t&&rn.postRender(()=>t(e,n))};class Hde extends kc{constructor(){super(...arguments),this.removePointerDownListener=Mr}onPointerDown(e){this.session=new TB(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:AB(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:l5(e),onStart:l5(n),onMove:s,onEnd:(i,o)=>{delete this.session,r&&rn.postRender(()=>r(i,o))}}}mount(){this.removePointerDownListener=Cm(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Tx={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function c5(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Df={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(wt.test(t))t=parseFloat(t);else return t;const n=c5(t,e.target.x),s=c5(t,e.target.y);return`${n}% ${s}%`}},Wde={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,r=mc.parse(t);if(r.length>5)return s;const i=mc.createTransformer(t),o=typeof r[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;r[0+o]/=l,r[1+o]/=c;const d=In(l,c,.5);return typeof r[2+o]=="number"&&(r[2+o]/=d),typeof r[3+o]=="number"&&(r[3+o]/=d),i(r)}};class Kde extends v.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:r}=this.props,{projection:i}=e;lle(qde),i&&(n.group&&n.group.add(i),s&&s.register&&r&&s.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Tx.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:r,isPresent:i}=this.props,{projection:o}=s;return o&&(o.isPresent=i,r||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||rn.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),LA.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function IB(t){const[e,n]=N8(),s=v.useContext(MA);return a.jsx(Kde,{...t,layoutGroup:s,switchLayoutGroup:v.useContext(E8),isPresent:e,safeToRemove:n})}const qde={borderRadius:{...Df,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Df,borderTopRightRadius:Df,borderBottomLeftRadius:Df,borderBottomRightRadius:Df,boxShadow:Wde};function Gde(t,e,n){const s=vs(t)?t:Qi(t);return s.start(dT("",s,e,n)),s.animation}const Yde=(t,e)=>t.depth-e.depth;class Xde{constructor(){this.children=[],this.isDirty=!1}add(e){GA(this.children,e),this.isDirty=!0}remove(e){YA(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Yde),this.isDirty=!1,this.children.forEach(e)}}function Qde(t,e){const n=Er.now(),s=({timestamp:r})=>{const i=r-n;i>=e&&(ua(s),t(i-e))};return rn.setup(s,!0),()=>ua(s)}const PB=["TopLeft","TopRight","BottomLeft","BottomRight"],Jde=PB.length,d5=t=>typeof t=="string"?parseFloat(t):t,u5=t=>typeof t=="number"||wt.test(t);function Zde(t,e,n,s,r,i){r?(t.opacity=In(0,n.opacity??1,eue(s)),t.opacityExit=In(e.opacity??1,0,tue(s))):i&&(t.opacity=In(e.opacity??1,n.opacity??1,s));for(let o=0;o<Jde;o++){const l=`border${PB[o]}Radius`;let c=h5(e,l),d=h5(n,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||u5(c)===u5(d)?(t[l]=Math.max(In(d5(c),d5(d),s),0),(za.test(d)||za.test(c))&&(t[l]+="%")):t[l]=d}(e.rotate||n.rotate)&&(t.rotate=In(e.rotate||0,n.rotate||0,s))}function h5(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const eue=_B(0,.5,iB),tue=_B(.5,.95,Mr);function _B(t,e,n){return s=>s<t?0:s>e?1:n(Dh(t,e,s))}function f5(t,e){t.min=e.min,t.max=e.max}function li(t,e){f5(t.x,e.x),f5(t.y,e.y)}function m5(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function p5(t,e,n,s,r){return t-=e,t=Ky(t,1/n,s),r!==void 0&&(t=Ky(t,1/r,s)),t}function nue(t,e=0,n=1,s=.5,r,i=t,o=t){if(za.test(e)&&(e=parseFloat(e),e=In(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=In(i.min,i.max,s);t===i&&(l-=e),t.min=p5(t.min,e,n,l,r),t.max=p5(t.max,e,n,l,r)}function g5(t,e,[n,s,r],i,o){nue(t,e[n],e[s],e[r],e.scale,i,o)}const sue=["x","scaleX","originX"],rue=["y","scaleY","originY"];function x5(t,e,n,s){g5(t.x,e,sue,n?n.x:void 0,s?s.x:void 0),g5(t.y,e,rue,n?n.y:void 0,s?s.y:void 0)}function y5(t){return t.translate===0&&t.scale===1}function RB(t){return y5(t.x)&&y5(t.y)}function v5(t,e){return t.min===e.min&&t.max===e.max}function iue(t,e){return v5(t.x,e.x)&&v5(t.y,e.y)}function b5(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function MB(t,e){return b5(t.x,e.x)&&b5(t.y,e.y)}function w5(t){return lr(t.x)/lr(t.y)}function N5(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class aue{constructor(){this.members=[]}add(e){GA(this.members,e),e.scheduleRender()}remove(e){if(YA(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let s;for(let r=n;r>=0;r--){const i=this.members[r];if(i.isPresent!==!1){s=i;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function oue(t,e,n){let s="";const r=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((r||i||o)&&(s=`translate3d(${r}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:u,rotateX:h,rotateY:f,skewX:m,skewY:g}=n;d&&(s=`perspective(${d}px) ${s}`),u&&(s+=`rotate(${u}deg) `),h&&(s+=`rotateX(${h}deg) `),f&&(s+=`rotateY(${f}deg) `),m&&(s+=`skewX(${m}deg) `),g&&(s+=`skewY(${g}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(s+=`scale(${l}, ${c})`),s||"none"}function hT(t){return w8(t)&&"ownerSVGElement"in t}function lue(t){return hT(t)&&t.tagName==="svg"}const d1=["","X","Y","Z"],cue={visibility:"hidden"},due=1e3;let uue=0;function u1(t,e,n,s){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),s&&(s[t]=0))}function OB(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=B8(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",rn,!(r||i))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&OB(s)}function DB({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(o={},l=e==null?void 0:e()){this.id=uue++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(mue),this.nodes.forEach(vue),this.nodes.forEach(bue),this.nodes.forEach(pue)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Xde)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new XA),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=hT(o)&&!lue(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let u;const h=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,u&&u(),u=Qde(h,250),Tx.hasAnimatedSinceResize&&(Tx.hasAnimatedSinceResize=!1,this.nodes.forEach(j5))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||Sue,{onLayoutAnimationStart:p,onLayoutAnimationComplete:w}=d.getProps(),b=!this.targetLayout||!MB(this.targetLayout,m),y=!h&&f;if(this.options.layoutRoot||this.resumeFrom||y||h&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(u,y);const N={...JA(g,"layout"),onPlay:p,onComplete:w};(d.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else h||j5(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ua(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(wue),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&OB(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(k5);return}this.isUpdating||this.nodes.forEach(xue),this.isUpdating=!1,this.nodes.forEach(yue),this.nodes.forEach(hue),this.nodes.forEach(fue),this.clearAllSnapshots();const l=Er.now();gs.delta=Za(0,1e3/60,l-gs.timestamp),gs.timestamp=l,gs.isProcessing=!0,n1.update.process(gs),n1.preRender.process(gs),n1.render.process(gs),gs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,LA.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(gue),this.sharedNodes.forEach(Nue)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,rn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){rn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!lr(this.snapshot.measuredBox.x)&&!lr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Wn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!RB(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||Fc(this.latestValues)||u)&&(r(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),Aue(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return Wn();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(Tue))){const{scroll:u}=this.root;u&&(Ou(l.x,u.offset.x),Ou(l.y,u.offset.y))}return l}removeElementScroll(o){var c;const l=Wn();if(li(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:h,options:f}=u;u!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&li(l,o),Ou(l.x,h.offset.x),Ou(l.y,h.offset.y))}return l}applyTransform(o,l=!1){const c=Wn();li(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Du(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Fc(u.latestValues)&&Du(c,u.latestValues)}return Fc(this.latestValues)&&Du(c,this.latestValues),c}removeTransform(o){const l=Wn();li(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Fc(d.latestValues))continue;rk(d.latestValues)&&d.updateSnapshot();const u=Wn(),h=d.measurePageBox();li(u,h),x5(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return Fc(this.latestValues)&&x5(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==gs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:h}=this.options;if(!(!this.layout||!(u||h))){if(this.resolvedRelativeTargetAt=gs.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wn(),this.relativeTargetOrigin=Wn(),Im(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),li(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Wn(),this.targetWithTransforms=Wn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Tde(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):li(this.target,this.layout.layoutBox),jB(this.target,this.targetDelta)):li(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wn(),this.relativeTargetOrigin=Wn(),Im(this.relativeTargetOrigin,this.target,m.target),li(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||rk(this.parent.latestValues)||kB(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var g;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===gs.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;li(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;Cde(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Wn());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(m5(this.prevProjectionDelta.x,this.projectionDelta.x),m5(this.prevProjectionDelta.y,this.projectionDelta.y)),Em(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!N5(this.projectionDelta.x,this.prevProjectionDelta.x)||!N5(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Mu(),this.projectionDelta=Mu(),this.projectionDeltaWithTransform=Mu()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},h=Mu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=Wn(),m=c?c.source:void 0,g=this.layout?this.layout.source:void 0,p=m!==g,w=this.getStack(),b=!w||w.members.length<=1,y=!!(p&&!b&&this.options.crossfade===!0&&!this.path.some(jue));this.animationProgress=0;let N;this.mixTargetDelta=A=>{const S=A/1e3;S5(h.x,o.x,S),S5(h.y,o.y,S),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Im(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),kue(this.relativeTarget,this.relativeTargetOrigin,f,S),N&&iue(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=Wn()),li(N,this.relativeTarget)),p&&(this.animationValues=u,Zde(u,d,this.latestValues,S,y,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(!1),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(!1),this.pendingAnimation&&(ua(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=rn.update(()=>{Tx.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Qi(0)),this.currentAnimation=Gde(this.motionValue,[0,1e3],{...o,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(due),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&$B(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Wn();const h=lr(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=lr(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}li(l,c),Du(l,u),Em(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new aue),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&u1("z",o,d,this.animationValues);for(let u=0;u<d1.length;u++)u1(`rotate${d1[u]}`,o,d,this.animationValues),u1(`skew${d1[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return cue;const l={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=Sx(o==null?void 0:o.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none",l;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=Sx(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Fc(this.latestValues)&&(m.transform=c?c({},""):"none",this.hasProjected=!1),m}const u=d.animationValues||d.latestValues;this.applyTransformsToTarget(),l.transform=oue(this.projectionDeltaWithTransform,this.treeScale,u),c&&(l.transform=c(u,l.transform));const{x:h,y:f}=this.projectionDelta;l.transformOrigin=`${h.origin*100}% ${f.origin*100}% 0`,d.animationValues?l.opacity=d===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:l.opacity=d===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const m in Sp){if(u[m]===void 0)continue;const{correct:g,applyTo:p,isCSSVariable:w}=Sp[m],b=l.transform==="none"?u[m]:g(u[m],d);if(p){const y=p.length;for(let N=0;N<y;N++)l[p[N]]=b}else w?this.options.visualElement.renderState.vars[m]=b:l[m]=b}return this.options.layoutId&&(l.pointerEvents=d===this?Sx(o==null?void 0:o.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop(!1)}),this.root.nodes.forEach(k5),this.root.sharedNodes.clear()}}}function hue(t){t.updateLayout()}function fue(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?fi(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],m=lr(f);f.min=s[h].min,f.max=f.min+m}):$B(i,e.layoutBox,s)&&fi(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],m=lr(s[h]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const l=Mu();Em(l,s,e.layoutBox);const c=Mu();o?Em(c,t.applyTransform(r,!0),e.measuredBox):Em(c,s,e.layoutBox);const d=!RB(l);let u=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const g=Wn();Im(g,e.layoutBox,f.layoutBox);const p=Wn();Im(p,s,m.layoutBox),MB(g,p)||(u=!0),h.options.layoutRoot&&(t.relativeTarget=p,t.relativeTargetOrigin=g,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function mue(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function pue(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function gue(t){t.clearSnapshot()}function k5(t){t.clearMeasurements()}function xue(t){t.isLayoutDirty=!1}function yue(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function j5(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function vue(t){t.resolveTargetDelta()}function bue(t){t.calcProjection()}function wue(t){t.resetSkewAndRotation()}function Nue(t){t.removeLeadSnapshot()}function S5(t,e,n){t.translate=In(e.translate,0,n),t.scale=In(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function A5(t,e,n,s){t.min=In(e.min,n.min,s),t.max=In(e.max,n.max,s)}function kue(t,e,n,s){A5(t.x,e.x,n.x,s),A5(t.y,e.y,n.y,s)}function jue(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Sue={duration:.45,ease:[.4,0,.1,1]},T5=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),C5=T5("applewebkit/")&&!T5("chrome/")?Math.round:Mr;function E5(t){t.min=C5(t.min),t.max=C5(t.max)}function Aue(t){E5(t.x),E5(t.y)}function $B(t,e,n){return t==="position"||t==="preserve-aspect"&&!Ade(w5(e),w5(n),.2)}function Tue(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const Cue=DB({attachResizeListener:(t,e)=>Ep(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),h1={current:void 0},FB=DB({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!h1.current){const t=new Cue({});t.mount(window),t.setOptions({layoutScroll:!0}),h1.current=t}return h1.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Eue={pan:{Feature:Hde},drag:{Feature:zde,ProjectionNode:FB,MeasureLayout:IB}};function LB(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const r=document.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t)}function BB(t,e){const n=LB(t),s=new AbortController,r={passive:!0,...e,signal:s.signal};return[n,r,()=>s.abort()]}function I5(t){return!(t.pointerType==="touch"||EB())}function Iue(t,e,n={}){const[s,r,i]=BB(t,n),o=l=>{if(!I5(l))return;const{target:c}=l,d=e(c,l);if(typeof d!="function"||!c)return;const u=h=>{I5(h)&&(d(h),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,r)};return s.forEach(l=>{l.addEventListener("pointerenter",o,r)}),i}function P5(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,i=s[r];i&&rn.postRender(()=>i(e,Pg(e)))}class Pue extends kc{mount(){const{current:e}=this.node;e&&(this.unmount=Iue(e,(n,s)=>(P5(this.node,s,"Start"),r=>P5(this.node,r,"End"))))}unmount(){}}class _ue extends kc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Eg(Ep(this.node.current,"focus",()=>this.onFocus()),Ep(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const UB=(t,e)=>e?t===e?!0:UB(t,e.parentElement):!1,Rue=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Mue(t){return Rue.has(t.tagName)||t.tabIndex!==-1}const Cx=new WeakSet;function _5(t){return e=>{e.key==="Enter"&&t(e)}}function f1(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Oue=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=_5(()=>{if(Cx.has(n))return;f1(n,"down");const r=_5(()=>{f1(n,"up")}),i=()=>f1(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function R5(t){return uT(t)&&!EB()}function Due(t,e,n={}){const[s,r,i]=BB(t,n),o=l=>{const c=l.currentTarget;if(!R5(l))return;Cx.add(c);const d=e(c,l),u=(m,g)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),Cx.has(c)&&Cx.delete(c),R5(m)&&typeof d=="function"&&d(m,{success:g})},h=m=>{u(m,c===window||c===document||n.useGlobalTarget||UB(c,m.target))},f=m=>{u(m,!1)};window.addEventListener("pointerup",h,r),window.addEventListener("pointercancel",f,r)};return s.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,r),ub(l)&&(l.addEventListener("focus",d=>Oue(d,r)),!Mue(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function M5(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),i=s[r];i&&rn.postRender(()=>i(e,Pg(e)))}class $ue extends kc{mount(){const{current:e}=this.node;e&&(this.unmount=Due(e,(n,s)=>(M5(this.node,s,"Start"),(r,{success:i})=>M5(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ok=new WeakMap,m1=new WeakMap,Fue=t=>{const e=ok.get(t.target);e&&e(t)},Lue=t=>{t.forEach(Fue)};function Bue({root:t,...e}){const n=t||document;m1.has(n)||m1.set(n,{});const s=m1.get(n),r=JSON.stringify(e);return s[r]||(s[r]=new IntersectionObserver(Lue,{root:t,...e})),s[r]}function Uue(t,e,n){const s=Bue(e);return ok.set(t,n),s.observe(t),()=>{ok.delete(t),s.unobserve(t)}}const Vue={some:0,all:1};class zue extends kc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:r="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:Vue[r]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),f=d?u:h;f&&f(c)};return Uue(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Hue(e,n))&&this.startObserver()}unmount(){}}function Hue({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Wue={inView:{Feature:zue},tap:{Feature:$ue},focus:{Feature:_ue},hover:{Feature:Pue}},Kue={layout:{ProjectionNode:FB,MeasureLayout:IB}},lk={current:null},VB={current:!1};function que(){if(VB.current=!0,!!OA)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>lk.current=t.matches;t.addListener(e),e()}else lk.current=!1}const Gue=new WeakMap;function Yue(t,e,n){for(const s in e){const r=e[s],i=n[s];if(vs(r))t.addValue(s,r);else if(vs(i))t.addValue(s,Qi(r,{owner:t}));else if(i!==r)if(t.hasValue(s)){const o=t.getValue(s);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=t.getStaticValue(s);t.addValue(s,Qi(o!==void 0?o:r,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const zB=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),HB=t=>/^0[^.\s]+$/u.test(t),Xue={test:t=>t==="auto",parse:t=>t},WB=t=>e=>e.test(t),KB=[mf,wt,za,dl,dle,cle,Xue],O5=t=>KB.find(WB(t)),Que=[...KB,$s,mc],Jue=t=>Que.find(WB(t)),Zue=new Set(["brightness","contrast","saturate","opacity"]);function ehe(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(ZA)||[];if(!s)return t;const r=n.replace(s,"");let i=Zue.has(e)?1:0;return s!==n&&(i*=100),e+"("+i+r+")"}const the=/\b([a-z-]*)\(.*?\)/gu,ck={...mc,getAnimatableNone:t=>{const e=t.match(the);return e?e.map(ehe).join(" "):t}},nhe={...VA,color:$s,backgroundColor:$s,outlineColor:$s,fill:$s,stroke:$s,borderColor:$s,borderTopColor:$s,borderRightColor:$s,borderBottomColor:$s,borderLeftColor:$s,filter:ck,WebkitFilter:ck},qB=t=>nhe[t];function GB(t,e){let n=qB(t);return n!==ck&&(n=mc),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const D5=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class she{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:r,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=lT,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Er.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,rn.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=mb(n),this.isVariantNode=T8(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const m=h[f];c[f]!==void 0&&vs(m)&&m.set(c[f],!1)}}mount(e){this.current=e,Gue.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),VB.current||que(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:lk.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ua(this.notifyUpdate),ua(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=ff.has(e);s&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&rn.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Oh){const n=Oh[e];if(!n)continue;const{isEnabled:s,Feature:r}=n;if(!this.features[e]&&r&&s(this.props)&&(this.features[e]=new r(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Wn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<D5.length;s++){const r=D5[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const i="on"+r,o=e[i];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=Yue(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=Qi(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(zB(s)||HB(s))?s=parseFloat(s):!Jue(s)&&mc.test(n)&&(s=GB(e,n)),this.setBaseTarget(e,vs(s)?s.get():s)),vs(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const o=KA(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(s=o[e])}if(n&&s!==void 0)return s;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!vs(r)?r:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new XA),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}const rhe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ihe(t){const e=rhe.exec(t);if(!e)return[,];const[,n,s,r]=e;return[`--${n??s}`,r]}function YB(t,e,n=1){const[s,r]=ihe(t);if(!s)return;const i=window.getComputedStyle(e).getPropertyValue(s);if(i){const o=i.trim();return zB(o)?parseFloat(o):o}return UA(r)?YB(r,e,n+1):r}function ahe(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||HB(t):!0}const ohe=new Set(["auto","none","0"]);function lhe(t,e,n){let s=0,r;for(;s<t.length&&!r;){const i=t[s];typeof i=="string"&&!ohe.has(i)&&Cp(i).values.length&&(r=t[s]),s++}if(r&&n)for(const i of e)t[i]=GB(n,r)}class che extends lT{constructor(e,n,s,r,i){super(e,n,s,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),UA(d))){const u=YB(d,n.current);u!==void 0&&(e[c]=u),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!gB.has(s)||e.length!==2)return;const[r,i]=e,o=O5(r),l=O5(i);if(o!==l)if(U_(o)&&U_(l))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else xd[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let r=0;r<e.length;r++)(e[r]===null||ahe(e[r]))&&s.push(r);s.length&&lhe(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=xd[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(s,r).jump(r,!1)}measureEndState(){var l;const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const r=e.getValue(n);r&&r.jump(this.measuredOrigin,!1);const i=s.length-1,o=s[i];s[i]=xd[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}}class XB extends she{constructor(){super(...arguments),this.KeyframeResolver=che}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;vs(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function QB(t,{style:e,vars:n},s,r){Object.assign(t.style,e,r&&r.getProjectionStyles(s));for(const i in n)t.style.setProperty(i,n[i])}function dhe(t){return window.getComputedStyle(t)}class uhe extends XB{constructor(){super(...arguments),this.type="html",this.renderInstance=QB}readValueFromInstance(e,n){var s;if(ff.has(n))return(s=this.projection)!=null&&s.isProjecting?JN(n):Dce(e,n);{const r=dhe(e),i=(BA(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return SB(e,n)}build(e,n,s){zA(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return qA(e,n,s)}}const JB=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function hhe(t,e,n,s){QB(t,e,void 0,s);for(const r in e.attrs)t.setAttribute(JB.has(r)?r:FA(r),e.attrs[r])}class fhe extends XB{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Wn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ff.has(n)){const s=qB(n);return s&&s.default||0}return n=JB.has(n)?n:FA(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return L8(e,n,s)}build(e,n,s){O8(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,r){hhe(e,n,s,r)}mount(e){this.isSVGTag=$8(e.tagName),super.mount(e)}}const mhe=(t,e)=>WA(t)?new fhe(e):new uhe(e,{allowProjection:t!==v.Fragment}),phe=Cle({...yde,...Wue,...Eue,...Kue},mhe),Co=qoe(phe);function ghe(t,e,n){v.useInsertionEffect(()=>t.on(e,n),[t,e,n])}const Ex=new WeakMap;let ul;function xhe(t,e){if(e){const{inlineSize:n,blockSize:s}=e[0];return{width:n,height:s}}else return hT(t)&&"getBBox"in t?t.getBBox():{width:t.offsetWidth,height:t.offsetHeight}}function yhe({target:t,contentRect:e,borderBoxSize:n}){var s;(s=Ex.get(t))==null||s.forEach(r=>{r({target:t,contentSize:e,get size(){return xhe(t,n)}})})}function vhe(t){t.forEach(yhe)}function bhe(){typeof ResizeObserver>"u"||(ul=new ResizeObserver(vhe))}function whe(t,e){ul||bhe();const n=LB(t);return n.forEach(s=>{let r=Ex.get(s);r||(r=new Set,Ex.set(s,r)),r.add(e),ul==null||ul.observe(s)}),()=>{n.forEach(s=>{const r=Ex.get(s);r==null||r.delete(e),r!=null&&r.size||ul==null||ul.unobserve(s)})}}const Ix=new Set;let Pm;function Nhe(){Pm=()=>{const t={width:window.innerWidth,height:window.innerHeight},e={target:window,size:t,contentSize:t};Ix.forEach(n=>n(e))},window.addEventListener("resize",Pm)}function khe(t){return Ix.add(t),Pm||Nhe(),()=>{Ix.delete(t),!Ix.size&&Pm&&(Pm=void 0)}}function jhe(t,e){return typeof t=="function"?khe(t):whe(t,e)}const She=50,$5=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),Ahe=()=>({time:0,x:$5(),y:$5()}),The={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function F5(t,e,n,s){const r=n[e],{length:i,position:o}=The[e],l=r.current,c=n.time;r.current=t[`scroll${o}`],r.scrollLength=t[`scroll${i}`]-t[`client${i}`],r.offset.length=0,r.offset[0]=0,r.offset[1]=r.scrollLength,r.progress=Dh(0,r.scrollLength,r.current);const d=s-c;r.velocity=d>She?0:QA(r.current-l,d)}function Che(t,e,n){F5(t,"x",e,n),F5(t,"y",e,n),e.time=n}function Ehe(t,e){const n={x:0,y:0};let s=t;for(;s&&s!==e;)if(ub(s))n.x+=s.offsetLeft,n.y+=s.offsetTop,s=s.offsetParent;else if(s.tagName==="svg"){const r=s.getBoundingClientRect();s=s.parentElement;const i=s.getBoundingClientRect();n.x+=r.left-i.left,n.y+=r.top-i.top}else if(s instanceof SVGGraphicsElement){const{x:r,y:i}=s.getBBox();n.x+=r,n.y+=i;let o=null,l=s.parentNode;for(;!o;)l.tagName==="svg"&&(o=l),l=s.parentNode;s=o}else break;return n}const dk={start:0,center:.5,end:1};function L5(t,e,n=0){let s=0;if(t in dk&&(t=dk[t]),typeof t=="string"){const r=parseFloat(t);t.endsWith("px")?s=r:t.endsWith("%")?t=r/100:t.endsWith("vw")?s=r/100*document.documentElement.clientWidth:t.endsWith("vh")?s=r/100*document.documentElement.clientHeight:t=r}return typeof t=="number"&&(s=e*t),n+s}const Ihe=[0,0];function Phe(t,e,n,s){let r=Array.isArray(t)?t:Ihe,i=0,o=0;return typeof t=="number"?r=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?r=t.split(" "):r=[t,dk[t]?t:"0"]),i=L5(r[0],n,s),o=L5(r[1],e),i-o}const _he={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},Rhe={x:0,y:0};function Mhe(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function Ohe(t,e,n){const{offset:s=_he.All}=n,{target:r=t,axis:i="y"}=n,o=i==="y"?"height":"width",l=r!==t?Ehe(r,t):Rhe,c=r===t?{width:t.scrollWidth,height:t.scrollHeight}:Mhe(r),d={width:t.clientWidth,height:t.clientHeight};e[i].offset.length=0;let u=!e[i].interpolate;const h=s.length;for(let f=0;f<h;f++){const m=Phe(s[f],d[o],c[o],l[i]);!u&&m!==e[i].interpolatorOffsets[f]&&(u=!0),e[i].offset[f]=m}u&&(e[i].interpolate=X8(e[i].offset,Q8(s),{clamp:!1}),e[i].interpolatorOffsets=[...e[i].offset]),e[i].progress=Za(0,1,e[i].interpolate(e[i].current))}function Dhe(t,e=t,n){if(n.x.targetOffset=0,n.y.targetOffset=0,e!==t){let s=e;for(;s&&s!==t;)n.x.targetOffset+=s.offsetLeft,n.y.targetOffset+=s.offsetTop,s=s.offsetParent}n.x.targetLength=e===t?e.scrollWidth:e.clientWidth,n.y.targetLength=e===t?e.scrollHeight:e.clientHeight,n.x.containerLength=t.clientWidth,n.y.containerLength=t.clientHeight}function $he(t,e,n,s={}){return{measure:()=>Dhe(t,s.target,n),update:r=>{Che(t,n,r),(s.offset||s.target)&&Ohe(t,n,s)},notify:()=>e(n)}}const $f=new WeakMap,B5=new WeakMap,p1=new WeakMap,U5=t=>t===document.scrollingElement?window:t;function ZB(t,{container:e=document.scrollingElement,...n}={}){if(!e)return Mr;let s=p1.get(e);s||(s=new Set,p1.set(e,s));const r=Ahe(),i=$he(e,t,r,n);if(s.add(i),!$f.has(e)){const l=()=>{for(const f of s)f.measure()},c=()=>{for(const f of s)f.update(gs.timestamp)},d=()=>{for(const f of s)f.notify()},u=()=>{rn.read(l),rn.read(c),rn.preUpdate(d)};$f.set(e,u);const h=U5(e);window.addEventListener("resize",u,{passive:!0}),e!==document.documentElement&&B5.set(e,jhe(e,u)),h.addEventListener("scroll",u,{passive:!0}),u()}const o=$f.get(e);return rn.read(o,!1,!0),()=>{var d;ua(o);const l=p1.get(e);if(!l||(l.delete(i),l.size))return;const c=$f.get(e);$f.delete(e),c&&(U5(e).removeEventListener("scroll",c),(d=B5.get(e))==null||d(),window.removeEventListener("resize",c))}}const V5=new Map;function Fhe(t){const e={value:0},n=ZB(s=>{e.value=s[t.axis].progress*100},t);return{currentTime:e,cancel:n}}function e9({source:t,container:e,...n}){const{axis:s}=n;t&&(e=t);const r=V5.get(e)??new Map;V5.set(e,r);const i=n.target??"self",o=r.get(i)??{},l=s+(n.offset??[]).join(",");return o[l]||(o[l]=!n.target&&uB()?new ScrollTimeline({source:e,axis:s}):Fhe({container:e,...n})),o[l]}function t9(t,e){let n;const s=()=>{const{currentTime:r}=e,o=(r===null?0:r.value)/100;n!==o&&t(o),n=o};return rn.preUpdate(s,!0),()=>ua(s)}function Lhe(t,e){const n=e9(e);return t.attachTimeline({timeline:e.target?void 0:n,observe:s=>(s.pause(),t9(r=>{s.time=s.duration*r},n))})}function Bhe(t){return t.length===2}function Uhe(t,e){return Bhe(t)?ZB(n=>{t(n[e.axis].progress,n)},e):t9(t,e9(e))}function Vhe(t,{axis:e="y",container:n=document.scrollingElement,...s}={}){if(!n)return Mr;const r={axis:e,container:n,...s};return typeof t=="function"?Uhe(t,r):Lhe(t,r)}function z5(t,e){tle(!!(!e||e.current))}const zhe=()=>({scrollX:Qi(0),scrollY:Qi(0),scrollXProgress:Qi(0),scrollYProgress:Qi(0)});function Hhe({container:t,target:e,layoutEffect:n=!0,...s}={}){const r=Tg(zhe);return(n?lb:v.useEffect)(()=>(z5("target",e),z5("container",t),Vhe((o,{x:l,y:c})=>{r.scrollX.set(l.current),r.scrollXProgress.set(l.progress),r.scrollY.set(c.current),r.scrollYProgress.set(c.progress)},{...s,container:(t==null?void 0:t.current)||void 0,target:(e==null?void 0:e.current)||void 0})),[t,e,JSON.stringify(s.offset)]),r}function uk(t){const e=Tg(()=>Qi(t)),{isStatic:n}=v.useContext(db);if(n){const[,s]=v.useState(t);v.useEffect(()=>e.on("change",s),[])}return e}function Whe(t,e){const n=uk(e()),s=()=>n.set(e());return s(),lb(()=>{const r=()=>rn.preRender(s,!1,!0),i=t.map(o=>o.on("change",r));return()=>{i.forEach(o=>o()),ua(s)}}),n}function Khe(t,...e){const n=t.length;function s(){let r="";for(let i=0;i<n;i++){r+=t[i];const o=e[i];o&&(r+=vs(o)?o.get():o)}return r}return Whe(e.filter(vs),s)}const H5=({children:t,className:e})=>{const n=v.useRef(null),s=v.useRef(null),r=[{initialX:10,translateX:10,duration:5,repeatDelay:1,delay:1},{initialX:300,translateX:300,duration:4,repeatDelay:2,delay:2},{initialX:600,translateX:600,duration:3,repeatDelay:1,delay:1},{initialX:100,translateX:100,duration:5,repeatDelay:2,className:"h-6"},{initialX:400,translateX:400,duration:4,repeatDelay:3,delay:2},{initialX:700,translateX:700,duration:6,repeatDelay:1,className:"h-20"},{initialX:900,translateX:900,duration:3,repeatDelay:1,className:"h-12"},{initialX:1100,translateX:1100,duration:4,repeatDelay:2,delay:1,className:"h-6"},{initialX:1300,translateX:1300,duration:5,repeatDelay:1,delay:2,className:"h-8"},{initialX:200,translateX:200,duration:3,repeatDelay:1,className:"h-10"}];return a.jsxs("div",{ref:s,className:ut("h-screen md:h-[0rem] bg-gradient-to-b from-white to-neutral-100 dark:from-neutral-950 dark:to-neutral-800 relative flex items-center w-full justify-center overflow-hidden",e),children:[r.map(i=>a.jsx(n9,{beamOptions:i,containerRef:n,parentRef:s},i.initialX+"beam-idx")),t,a.jsx("div",{ref:n,className:"absolute bottom-0 bg-neutral-100 w-full inset-x-0 pointer-events-none",style:{boxShadow:"0 0 24px rgba(34, 42, 53, 0.06), 0 1px 1px rgba(0, 0, 0, 0.05), 0 0 0 1px rgba(34, 42, 53, 0.04), 0 0 4px rgba(34, 42, 53, 0.08), 0 16px 68px rgba(47, 48, 55, 0.05), 0 1px 0 rgba(255, 255, 255, 0.1) inset"}})]})},n9=Ae.forwardRef(({parentRef:t,containerRef:e,beamOptions:n={}},s)=>{const r=v.useRef(null),[i,o]=v.useState({detected:!1,coordinates:null}),[l,c]=v.useState(0),[d,u]=v.useState(!1);return v.useEffect(()=>{const f=setInterval(()=>{if(r.current&&e.current&&t.current&&!d){const m=r.current.getBoundingClientRect(),g=e.current.getBoundingClientRect(),p=t.current.getBoundingClientRect();if(m.bottom>=g.top){const w=m.left-p.left+m.width/2,b=m.bottom-p.top;o({detected:!0,coordinates:{x:w,y:b}}),u(!0)}}},50);return()=>clearInterval(f)},[d,e]),v.useEffect(()=>{i.detected&&i.coordinates&&(setTimeout(()=>{o({detected:!1,coordinates:null}),u(!1)},2e3),setTimeout(()=>{c(h=>h+1)},2e3))},[i]),a.jsxs(a.Fragment,{children:[a.jsx(Co.div,{ref:r,animate:"animate",initial:{translateY:n.initialY||"-200px",translateX:n.initialX||"0px",rotate:n.rotate||0},variants:{animate:{translateY:n.translateY||"1800px",translateX:n.translateX||"0px",rotate:n.rotate||0}},transition:{duration:n.duration||8,repeat:1/0,repeatType:"loop",ease:"linear",delay:n.delay||0,repeatDelay:n.repeatDelay||0},className:ut("absolute left-0 top-20 m-auto h-14 w-px rounded-full bg-gradient-to-t from-indigo-500 via-purple-500 to-transparent",n.className)},l),a.jsx(k8,{children:i.detected&&i.coordinates&&a.jsx(qhe,{className:"",style:{left:`${i.coordinates.x}px`,top:`${i.coordinates.y}px`,transform:"translate(-50%, -50%)"}},`${i.coordinates.x}-${i.coordinates.y}`)})]})});n9.displayName="CollisionMechanism";const qhe=({...t})=>{const e=Array.from({length:20},(n,s)=>({id:s,initialX:0,initialY:0,directionX:Math.floor(Math.random()*80-40),directionY:Math.floor(Math.random()*-50-10)}));return a.jsxs("div",{...t,className:ut("absolute z-50 h-2 w-2",t.className),children:[a.jsx(Co.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1.5,ease:"easeOut"},className:"absolute -inset-x-10 top-0 m-auto h-2 w-10 rounded-full bg-gradient-to-r from-transparent via-indigo-500 to-transparent blur-sm"}),e.map(n=>a.jsx(Co.span,{initial:{x:n.initialX,y:n.initialY,opacity:1},animate:{x:n.directionX,y:n.directionY,opacity:0},transition:{duration:Math.random()*1.5+.5,ease:"easeOut"},className:"absolute h-1 w-1 rounded-full bg-gradient-to-b from-indigo-500 to-purple-500"},n.id))]})};let Ghe={data:""},Yhe=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||Ghe,Xhe=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Qhe=/\/\*[^]*?\*\/|  +/g,W5=/\n+/g,wl=(t,e)=>{let n="",s="",r="";for(let i in t){let o=t[i];i[0]=="@"?i[1]=="i"?n=i+" "+o+";":s+=i[1]=="f"?wl(o,i):i+"{"+wl(o,i[1]=="k"?"":e)+"}":typeof o=="object"?s+=wl(o,e?e.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=wl.p?wl.p(i,o):i+":"+o+";")}return n+(e&&r?e+"{"+r+"}":r)+s},io={},s9=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+s9(t[n]);return e}return t},Jhe=(t,e,n,s,r)=>{let i=s9(t),o=io[i]||(io[i]=(c=>{let d=0,u=11;for(;d<c.length;)u=101*u+c.charCodeAt(d++)>>>0;return"go"+u})(i));if(!io[o]){let c=i!==t?t:(d=>{let u,h,f=[{}];for(;u=Xhe.exec(d.replace(Qhe,""));)u[4]?f.shift():u[3]?(h=u[3].replace(W5," ").trim(),f.unshift(f[0][h]=f[0][h]||{})):f[0][u[1]]=u[2].replace(W5," ").trim();return f[0]})(t);io[o]=wl(r?{["@keyframes "+o]:c}:c,n?"":"."+o)}let l=n&&io.g?io.g:null;return n&&(io.g=io[o]),((c,d,u,h)=>{h?d.data=d.data.replace(h,c):d.data.indexOf(c)===-1&&(d.data=u?c+d.data:d.data+c)})(io[o],e,s,l),o},Zhe=(t,e,n)=>t.reduce((s,r,i)=>{let o=e[i];if(o&&o.call){let l=o(n),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":wl(l,""):l===!1?"":l}return s+r+(o??"")},"");function pb(t){let e=this||{},n=t.call?t(e.p):t;return Jhe(n.unshift?n.raw?Zhe(n,[].slice.call(arguments,1),e.p):n.reduce((s,r)=>Object.assign(s,r&&r.call?r(e.p):r),{}):n,Yhe(e.target),e.g,e.o,e.k)}let r9,hk,fk;pb.bind({g:1});let Yo=pb.bind({k:1});function efe(t,e,n,s){wl.p=e,r9=t,hk=n,fk=s}function jc(t,e){let n=this||{};return function(){let s=arguments;function r(i,o){let l=Object.assign({},i),c=l.className||r.className;n.p=Object.assign({theme:hk&&hk()},l),n.o=/ *go\d+/.test(c),l.className=pb.apply(n,s)+(c?" "+c:"");let d=t;return t[0]&&(d=l.as||t,delete l.as),fk&&d[0]&&fk(l),r9(d,l)}return r}}var tfe=t=>typeof t=="function",mk=(t,e)=>tfe(t)?t(e):t,nfe=(()=>{let t=0;return()=>(++t).toString()})(),sfe=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),rfe=20,i9=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,rfe)};case 1:return{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:n}=e;return i9(t,{type:t.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:s}=e;return{...t,toasts:t.toasts.map(i=>i.id===s||s===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let r=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+r}))}}},ife=[],g1={toasts:[],pausedAt:void 0},fT=t=>{g1=i9(g1,t),ife.forEach(e=>{e(g1)})},afe=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||nfe()}),_g=t=>(e,n)=>{let s=afe(e,t,n);return fT({type:2,toast:s}),s.id},ue=(t,e)=>_g("blank")(t,e);ue.error=_g("error");ue.success=_g("success");ue.loading=_g("loading");ue.custom=_g("custom");ue.dismiss=t=>{fT({type:3,toastId:t})};ue.remove=t=>fT({type:4,toastId:t});ue.promise=(t,e,n)=>{let s=ue.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(r=>{let i=e.success?mk(e.success,r):void 0;return i?ue.success(i,{id:s,...n,...n==null?void 0:n.success}):ue.dismiss(s),r}).catch(r=>{let i=e.error?mk(e.error,r):void 0;i?ue.error(i,{id:s,...n,...n==null?void 0:n.error}):ue.dismiss(s)}),t};var ofe=Yo`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,lfe=Yo`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,cfe=Yo`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,dfe=jc("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ofe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${lfe} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${cfe} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,ufe=Yo`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,hfe=jc("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${ufe} 1s linear infinite;
`,ffe=Yo`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,mfe=Yo`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,pfe=jc("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ffe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${mfe} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,gfe=jc("div")`
  position: absolute;
`,xfe=jc("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,yfe=Yo`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,vfe=jc("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${yfe} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,bfe=({toast:t})=>{let{icon:e,type:n,iconTheme:s}=t;return e!==void 0?typeof e=="string"?v.createElement(vfe,null,e):e:n==="blank"?null:v.createElement(xfe,null,v.createElement(hfe,{...s}),n!=="loading"&&v.createElement(gfe,null,n==="error"?v.createElement(dfe,{...s}):v.createElement(pfe,{...s})))},wfe=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Nfe=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,kfe="0%{opacity:0;} 100%{opacity:1;}",jfe="0%{opacity:1;} 100%{opacity:0;}",Sfe=jc("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Afe=jc("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Tfe=(t,e)=>{let n=t.includes("top")?1:-1,[s,r]=sfe()?[kfe,jfe]:[wfe(n),Nfe(n)];return{animation:e?`${Yo(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Yo(r)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};v.memo(({toast:t,position:e,style:n,children:s})=>{let r=t.height?Tfe(t.position||e||"top-center",t.visible):{opacity:0},i=v.createElement(bfe,{toast:t}),o=v.createElement(Afe,{...t.ariaProps},mk(t.message,t));return v.createElement(Sfe,{className:t.className,style:{...r,...n,...t.style}},typeof s=="function"?s({icon:i,message:o}):v.createElement(v.Fragment,null,i,o))});efe(v.createElement);pb`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;const Cfe={STORY_AEINED_TESTNET:{chainId:1513,name:"Story Aeined Testnet",rpcUrl:"https://testnet.storyrpc.io",blockExplorer:"https://testnet.storyscan.xyz",nativeCurrency:{name:"IP",symbol:"IP",decimals:18},contracts:{IP_ASSET_REGISTRY:"0x1a9d0d28a0422f26d31be72edc6f13ea4371e11b",LICENSING_MODULE:"0x5a7d9fa17de09350f481a53b470d798c1c1b7485",ROYALTY_MODULE:"0x16eF58e959522727588921A92e424025b49D4B29",SPG_NFT_CONTRACT:"",PIL_TEMPLATE:"0x58E2c909D557Cd23EF90D14f8fd21667A5Ae7a93",LAP_ROYALTY_POLICY:"0x28b4F70ffE5ba7A26aEF979226f77Eb57fb9Fdb6",WIP_TOKEN_ADDRESS:"0xB132A6B7AE652c974EE1557A3521D53d18F6739f",USDC_ADDRESS:""}}},Efe="STORY_AEINED_TESTNET",K5=Cfe[Efe],a9=v.createContext(void 0),Mn=()=>{const t=v.useContext(a9);if(!t)throw new Error("useWallet must be used within a WalletProvider");return t},Ife=({children:t})=>{const[e,n]=v.useState(null),[s,r]=v.useState(!1),[i,o]=v.useState(null),[l,c]=v.useState(null),[d,u]=v.useState(null),[h,f]=v.useState(null),m=K5.chainId,g=h===m,p=async()=>{try{if(!window.ethereum)throw new Error("No wallet found");const N=K5;try{return await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:`0x${N.chainId.toString(16)}`}]}),!0}catch(A){if(A.code===4902)try{return await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:`0x${N.chainId.toString(16)}`,chainName:N.name,nativeCurrency:N.nativeCurrency,rpcUrls:[N.rpcUrl],blockExplorerUrls:[N.blockExplorer]}]}),!0}catch(S){return console.error("Failed to add Story Aeined Testnet:",S),!1}return console.error("Failed to switch to Story Aeined Testnet:",A),!1}}catch(N){return console.error("Network switch error:",N),!1}},w=async()=>{try{if(!window.ethereum)throw new Error("No wallet found. Please install MetaMask.");const N=new ra(window.ethereum);await N.send("eth_requestAccounts",[]);const A=N.getSigner(),S=await A.getAddress(),T=await N.getNetwork();f(T.chainId),u(T.name),o(N),c(A),n(S),r(!0),localStorage.setItem("walletConnected","true")}catch(N){throw console.error("Failed to connect wallet:",N),N}},b=()=>{o(null),c(null),n(null),r(!1),u(null),f(null),localStorage.removeItem("walletConnected")};v.useEffect(()=>{(async()=>{if(localStorage.getItem("walletConnected")&&window.ethereum)try{const S=new ra(window.ethereum);if((await S.listAccounts()).length>0){const _=S.getSigner(),R=await _.getAddress(),B=await S.getNetwork();f(B.chainId),u(B.name),o(S),c(_),n(R),r(!0)}}catch(S){console.error("Auto-connect failed:",S),localStorage.removeItem("walletConnected")}})()},[]),v.useEffect(()=>{if(window.ethereum){const N=S=>{S.length===0?b():S[0]!==e&&w()},A=()=>{window.location.reload()};return window.ethereum.on("accountsChanged",N),window.ethereum.on("chainChanged",A),()=>{window.ethereum.removeListener("accountsChanged",N),window.ethereum.removeListener("chainChanged",A)}}},[e]);const y={address:e,isConnected:s,provider:i,signer:l,network:d,chainId:h,connectWallet:w,disconnectWallet:b,switchToRequiredNetwork:p,isCorrectNetwork:g};return a.jsx(a9.Provider,{value:y,children:t})},o9={U2U_LEGACY_TESTNET:{ADMIN:"0xFC53E7A6b94173D82d07a127A38d9D852bf478d4",ERC1155_CORE:"0x7C082010BcF338675508E2FD9d6C0dD2E43b37d8",ISSUER:"0xad367F8b04bC9C373aDcE2a1E797A3c4f1aD5D78",MARKETPLACE:"0xE8DE43BD00370F48db7Ac139146AC27B1AfEd7aF",PAYMENT_SPLITTER:"0x6f2db3e628879ee72B455a946C1d6cfBa51aac91"},U2U_NEBULAS_TESTNET:{ADMIN:"0xFC53E7A6b94173D82d07a127A38d9D852bf478d4",USER_REGISTRY:"0xa9E9DA96A74Ac7d7411426e9B794280BaB49AFBF",TOKEN:"0x7C082010BcF338675508E2FD9d6C0dD2E43b37d8",ISSUER:"0xad367F8b04bC9C373aDcE2a1E797A3c4f1aD5D78",MARKETPLACE:"0xE8DE43BD00370F48db7Ac139146AC27B1AfEd7aF",TOKEN_MANAGEMENT:"0xA632A492cCd898De4a4B17DC786B381d099F5815",SECONDARY_MARKETPLACE:"0xD68805CeC8704e0E262Afa2289EB298b1bD98ce8",ORDER_BOOK_ESCROW:"0x0E3b53858E1F086D6ff1a1613e2d0d951237E949",PAYMENT_SPLITTER:"0x6f2db3e628879ee72B455a946C1d6cfBa51aac91",IDENTITY_REGISTRY:"0x1667Cd2BB3715539C8c232D7cE256dd891Aa6923",CLAIM_ISSUERS_REGISTRY:"0x767FA150B3007ff446ff8f37b3116cA200BC0197",RULE_CONTRACT:"0xdAfc108538b0178071B648BDF5E6295d7eCf7A7C",ASSET_REGISTRY:"0xB6391254407b51e87dB45eCB3CEF9C2f96aad75B",MASTER_TOKEN:"0x2ccb132b985d096dF1A1bFAd1432CD79947295Ad",MULTISIG:"0x541cD0763c52ac9304A099b48fC81554Dd0A0493",TOKEN_FACTORY:"0xF9f94692001602b5E4AEe778659814593B9315C4",ERC3643_MARKETPLACE:"0xD68805CeC8704e0E262Afa2289EB298b1bD98ce8",WATERFALL_CONTRACT:"0xC6D5Eca0d7390bf95e5331EbD4274D3b177961e8",MOCK_KYC_VENDOR:"0x2B0426A3ECE73A9E2e361f111d96bdc6b13495a3",MOCK_LAW_FIRM:"0x56CFAFDdb032BCb5c1697053993aB3406efd6Eb9",MOCK_STABLECOIN:"0x40ACd6248Af692021C82b8333092De184c6e33Ff",MOCK_SPV_BANK_FEED:"0x0b0fD8855a03Bcd63CfA5A1fC6145FF3552c96a4",MERKLE_KYC:"0x65374809f4201Ac29E8176db4B764a0ae360ff56"},STORY_AENEID_TESTNET:{ORION_VERIFIED_MINTER:"0x1B014A3a16E5AF7D1207646f35AFD2b08535c1EB",SPG_NFT_COLLECTION:"0x78AD3d22E62824945DED384a5542Ad65de16E637",IP_ASSET_REGISTRY:"0x77319B4031e6eF1250907aa00018B8B1c67a244b",LICENSING_MODULE:"0x5a7D9Fa17DE09350F481A53B470D798c1c1aabae",ROYALTY_MODULE:"0x3C27b2d6C0a1C5c8A79b6753F32e4c5e3e3f5F1e",REGISTRATION_WORKFLOWS:"0xbe39E1C756e921BD25DF86e7AAa31106d1eb0424",COLLECTION_NAME:"Orion IP-OPS Assets",COLLECTION_SYMBOL:"ORION",MAX_SUPPLY:100,MINT_FEE:0,IS_PUBLIC_MINTING:!0,BACKEND_VERIFIER_ADDRESS:"0x23e67597f0898f747Fa3291C8920168adF9455D0",TOKEN_EXPIRY_SECONDS:900}},Et={U2U_LEGACY_TESTNET:{chainId:747,name:"Flow Mainnet",rpcUrl:"https://mainnet.evm.nodes.onflow.org",blockExplorer:"https://u2uscan.xyz",nativeCurrency:{name:"FLOW",symbol:"FLOW",decimals:18}},U2U_NEBULAS_TESTNET:{chainId:747,name:"Flow Mainnet",rpcUrl:"https://mainnet.evm.nodes.onflow.org",blockExplorer:"https://www.flowscan.io",nativeCurrency:{name:"FLOW",symbol:"FLOW",decimals:18}},STORY_AENEID_TESTNET:{chainId:1315,name:"Story Protocol Aeneid Testnet",rpcUrl:"https://aeneid.storyrpc.io",blockExplorer:"https://aeneid.storyscan.xyz",nativeCurrency:{name:"IP Token",symbol:"IP",decimals:18}}},Nt="U2U_NEBULAS_TESTNET",Qn=o9[Nt],yn=Qn.ADMIN;Qn.USER_REGISTRY;const Sr=Qn.TOKEN;Qn.ISSUER;const Tn=Qn.MARKETPLACE,l9=Qn.TOKEN_MANAGEMENT,os=Qn.ORDER_BOOK_ESCROW,c9=Qn.PAYMENT_SPLITTER,ia=Object.freeze(Object.defineProperty({__proto__:null,ACTIVE_NETWORK:Nt,ADMIN_CONTRACT:yn,CONTRACTS:Qn,CONTRACT_ADDRESSES:o9,MARKETPLACE_CONTRACT:Tn,NETWORK_CONFIG:Et,ORDER_BOOK_ESCROW_CONTRACT:os,PAYMENT_SPLITTER_CONTRACT:c9,TOKEN_CONTRACT:Sr,TOKEN_MANAGEMENT_CONTRACT:l9},Symbol.toStringTag,{value:"Module"})),vi=[{type:"constructor",inputs:[{type:"address",name:"_adminContract"},{type:"address",name:"_tokenContract"}]},{type:"function",name:"listAsset",constant:!1,inputs:[{type:"uint256",name:"_tokenId"},{type:"uint256",name:"_amount"}],outputs:[]},{type:"function",name:"buyAsset",constant:!1,stateMutability:"payable",payable:!0,inputs:[{type:"uint256",name:"_tokenId"},{type:"uint256",name:"_amount"}],outputs:[]},{type:"function",name:"getAllListings",constant:!0,stateMutability:"view",inputs:[],outputs:[{type:"uint256[]",name:"tokenIds"},{type:"address[]",name:"issuers"},{type:"uint256[]",name:"amounts"},{type:"uint256[]",name:"prices"}]},{type:"function",name:"tokenManagementContract",constant:!0,stateMutability:"view",inputs:[],outputs:[{type:"address",name:""}]},{type:"function",name:"setTokenManagementContract",constant:!1,inputs:[{type:"address",name:"_tokenManagementContract"}],outputs:[]},{type:"function",name:"listings",constant:!0,stateMutability:"view",inputs:[{type:"uint256",name:""}],outputs:[{type:"address",name:"issuer"},{type:"uint256",name:"amount"},{type:"bool",name:"active"}]},{type:"function",name:"tokenHolders",constant:!0,stateMutability:"view",inputs:[{type:"address",name:""},{type:"uint256",name:""}],outputs:[{type:"uint256",name:""}]},{type:"function",name:"getTokenHolders",constant:!0,stateMutability:"view",inputs:[{type:"uint256",name:"_tokenId"}],outputs:[{type:"address[]",name:"holders"},{type:"uint256[]",name:"amounts"}]},{type:"function",name:"getMyAssets",constant:!0,stateMutability:"view",inputs:[],outputs:[{type:"uint256[]",name:"tokenIds"},{type:"uint256[]",name:"amounts"}]},{type:"function",name:"adminContract",constant:!0,stateMutability:"view",inputs:[],outputs:[{type:"address",name:""}]},{type:"function",name:"tokenContract",constant:!0,stateMutability:"view",inputs:[],outputs:[{type:"address",name:""}]},{type:"function",name:"withdrawEarnings",constant:!1,inputs:[],outputs:[]},{type:"function",name:"withdrawEarnings",constant:!1,inputs:[],outputs:[]},{type:"function",name:"getUserBalance",constant:!0,stateMutability:"view",inputs:[{type:"address",name:"_user"},{type:"uint256",name:"_tokenId"}],outputs:[{type:"uint256",name:""}]},{type:"function",name:"sellAsset",constant:!1,stateMutability:"payable",payable:!0,inputs:[{type:"uint256",name:"_tokenId"},{type:"uint256",name:"_amount"}],outputs:[]},{type:"function",name:"withdrawAsset",constant:!1,stateMutability:"nonpayable",inputs:[{type:"uint256",name:"_tokenId"},{type:"uint256",name:"_amount"}],outputs:[]},{type:"function",name:"removeListing",constant:!1,inputs:[{type:"uint256",name:"_tokenId"}],outputs:[]},{type:"function",name:"updateListing",constant:!1,inputs:[{type:"uint256",name:"_tokenId"},{type:"string",name:"_newMetadataURI"}],outputs:[]},{type:"function",name:"getTotalListed",constant:!0,stateMutability:"view",inputs:[{type:"uint256",name:"_tokenId"}],outputs:[{type:"uint256",name:""}]},{type:"function",name:"getTokenHoldersList",constant:!0,stateMutability:"view",inputs:[{type:"uint256",name:"_tokenId"}],outputs:[{type:"address[]",name:""}]},{type:"event",name:"AssetBought",anonymous:!1,inputs:[{type:"uint256",name:"tokenId",indexed:!0},{type:"address",name:"buyer",indexed:!0},{type:"uint256",name:"amount",indexed:!1},{type:"uint256",name:"platformFee",indexed:!1}]},{type:"event",name:"AssetSold",anonymous:!1,inputs:[{type:"uint256",name:"tokenId",indexed:!0},{type:"address",name:"seller",indexed:!0},{type:"uint256",name:"amount",indexed:!1},{type:"uint256",name:"platformFee",indexed:!1}]},{type:"event",name:"AssetWithdrawn",anonymous:!1,inputs:[{type:"uint256",name:"tokenId",indexed:!0},{type:"address",name:"holder",indexed:!0},{type:"uint256",name:"amount",indexed:!1}]},{type:"function",name:"setPaymentSplitter",constant:!1,inputs:[{type:"address",name:"_paymentSplitter"}],outputs:[]}],Pfe=({asset:t,onClose:e,onSuccess:n,tokenPrice:s})=>{const[r,i]=v.useState(1),[o,l]=v.useState(!1),{provider:c,signer:d,address:u,isConnected:h}=Mn();v.useState(null);const f=t.price&&!isNaN(parseFloat(t.price))?t.price:"0";console.log("BuyModal - Asset data:",{tokenId:t.tokenId,name:t.name,price:t.price,safePrice:f,amount:t.amount});const m=parseFloat(f)/Math.pow(10,18);if(!m||m<=0||!isFinite(m))return console.error("Invalid price calculation:",{pricePerTokenETH:m,safePrice:f}),a.jsx("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:a.jsxs("div",{className:"modal-content",style:{backgroundColor:"white",padding:"20px",borderRadius:"8px",maxWidth:"400px",width:"90%"},children:[a.jsx("h2",{children:"Error"}),a.jsx("p",{children:"Unable to calculate price for this asset. Please try again later."}),a.jsx("button",{onClick:e,style:{backgroundColor:"#007bff",color:"white",border:"none",padding:"10px 20px",borderRadius:"4px",cursor:"pointer"},children:"Close"})]})});const g=m*r,p=g*.01,w=g+p;let b,y,N;try{b=un.from(f).mul(r),y=b.div(100),N=b.add(y)}catch(S){return console.error("Error calculating Wei values:",S),a.jsx("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:a.jsxs("div",{className:"modal-content",style:{backgroundColor:"white",padding:"20px",borderRadius:"8px",maxWidth:"400px",width:"90%"},children:[a.jsx("h2",{children:"Error"}),a.jsx("p",{children:"Unable to process payment calculation. Please try again."}),a.jsx("button",{onClick:e,style:{backgroundColor:"#007bff",color:"white",border:"none",padding:"10px 20px",borderRadius:"4px",cursor:"pointer"},children:"Close"})]})})}if(!t||!t.tokenId)return console.error("BuyModal: Invalid asset data",t),a.jsx("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:a.jsxs("div",{className:"modal-content",style:{backgroundColor:"white",padding:"20px",borderRadius:"8px",maxWidth:"400px",width:"90%"},children:[a.jsx("h2",{children:"Error"}),a.jsx("p",{children:"Invalid asset data. Please try again."}),a.jsx("button",{onClick:e,style:{backgroundColor:"#007bff",color:"white",border:"none",padding:"10px 20px",borderRadius:"4px",cursor:"pointer"},children:"Close"})]})});if(!f||parseFloat(f)<=0)return console.error("BuyModal: Invalid price data",{price:t.price,safePrice:f}),a.jsx("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:a.jsxs("div",{className:"modal-content",style:{backgroundColor:"white",padding:"20px",borderRadius:"8px",maxWidth:"400px",width:"90%"},children:[a.jsx("h2",{children:"Error"}),a.jsx("p",{children:"Invalid price data for this asset. Please contact support."}),a.jsx("button",{onClick:e,style:{backgroundColor:"#007bff",color:"white",border:"none",padding:"10px 20px",borderRadius:"4px",cursor:"pointer"},children:"Close"})]})});const A=async()=>{var S,T,_;if(!h||!d||!u){ue.error("Please connect your wallet first");return}l(!0);try{if(console.log(" Starting asset purchase..."),console.log("Token ID:",t.tokenId),console.log("Quantity:",r),console.log("Price per token:",t.price,"Wei"),console.log("Subtotal:",b.toString(),"Wei"),console.log("Platform fee:",y.toString(),"Wei"),console.log("Total cost:",N.toString(),"Wei"),(await d.provider.getNetwork()).chainId!==Et[Nt].chainId)throw new Error(`Please switch to ${Et[Nt].name}`);if((await d.getBalance()).lt(N))throw new Error("Insufficient S balance for purchase including platform fee");const V=new Xe(Tn,vi,d);console.log(" Calling buyAsset on marketplace contract..."),ue.loading(`Purchasing ${r} token${r>1?"s":""}...`);const U=await V.buyAsset(t.tokenId,r,{value:N,gasLimit:5e5});console.log(" Transaction sent:",U.hash),ue.dismiss(),ue.loading("Confirming transaction...");const L=await U.wait();console.log(" Transaction confirmed:",L.transactionHash),ue.dismiss(),ue.success(` Successfully purchased ${r} token${r>1?"s":""} of ${t.name}!`),n&&n(),e()}catch(R){console.error(" Purchase failed:",R),ue.dismiss(),R.code===4001?ue.error("Transaction rejected by user"):R.code==="INSUFFICIENT_FUNDS"?ue.error("Insufficient funds for transaction"):(S=R.message)!=null&&S.includes("Insufficient payment including platform fee")?ue.error("Insufficient payment including platform fee"):(T=R.message)!=null&&T.includes("Asset not listed")?ue.error("Asset is no longer available for purchase"):(_=R.message)!=null&&_.includes("Insufficient tokens")?ue.error("Not enough tokens available"):ue.error(`Purchase failed: ${R.message||"Unknown error"}`)}finally{l(!1)}};return a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsx("div",{className:"bg-white rounded-2xl shadow-2xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Purchase Asset"}),a.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx($v,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"space-y-6",children:[t.image&&a.jsx("img",{src:t.image,alt:t.name,className:"w-full h-48 object-cover rounded-xl"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:t.name}),t.description&&a.jsx("p",{className:"text-gray-600 text-sm mb-4",children:t.description}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 border border-blue-200/50",children:[a.jsx("div",{className:"text-blue-600 text-sm font-medium",children:"Platform ID"}),a.jsxs("div",{className:"text-blue-900 font-semibold mt-1",children:["#",t.tokenId]})]}),a.jsxs("div",{className:"bg-green-50 rounded-xl p-4 border border-green-200/50",children:[a.jsx("div",{className:"text-green-600 text-sm font-medium",children:"Available"}),a.jsxs("div",{className:"text-green-900 font-semibold mt-1",children:[t.amount," tokens"]})]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200/50 mb-4",children:[a.jsx("div",{className:"text-gray-600 text-sm font-medium",children:"Price per Token"}),a.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[m.toFixed(4)," Flow each"]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantity to Purchase"}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:()=>i(Math.max(1,r-1)),className:"w-10 h-10 rounded-lg border border-gray-300 flex items-center justify-center hover:bg-gray-50 transition-colors",disabled:r<=1||o,children:"-"}),a.jsx("input",{type:"number",min:"1",max:t.amount,value:r,onChange:S=>i(Math.min(t.amount,Math.max(1,parseInt(S.target.value)||1))),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-center",disabled:o}),a.jsx("button",{onClick:()=>i(Math.min(t.amount,r+1)),className:"w-10 h-10 rounded-lg border border-gray-300 flex items-center justify-center hover:bg-gray-50 transition-colors",disabled:r>=t.amount||o,children:"+"})]}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Maximum: ",t.amount," tokens available"]})]}),a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-4 border border-blue-200/50",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:"text-gray-700 font-medium",children:["Subtotal (",r," token",r>1?"s":"","):"]}),a.jsx("div",{className:"text-right",children:a.jsxs("span",{className:"text-sm text-gray-600",children:[g.toFixed(4)," Flow"]})})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-700 font-medium",children:"Platform Fee (1%):"}),a.jsx("div",{className:"text-right",children:a.jsxs("span",{className:"text-sm text-orange-500",children:[p.toFixed(4)," Flow"]})})]}),a.jsx("hr",{className:"border-gray-300"}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-900 font-bold text-lg",children:"Total Cost:"}),a.jsx("div",{className:"text-right",children:a.jsxs("span",{className:"text-sm text-gray-600",children:[w.toFixed(4)," Flow"]})})]})]})}),h?a.jsx("div",{className:"bg-blue-50 rounded-xl p-4 border border-blue-200/50",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-5 h-5 text-blue-600 mt-0.5",children:""}),a.jsxs("div",{className:"text-sm text-blue-800",children:[a.jsx("p",{className:"font-medium mb-1",children:"Transaction Details:"}),a.jsxs("p",{children:["This purchase will be processed on the ",Et[Nt].name," network. The 1% platform fee helps maintain the marketplace infrastructure."]})]})]})}):a.jsx("div",{className:"bg-red-50 rounded-xl p-4 border border-red-200/50",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-5 h-5 text-red-600 mt-0.5",children:""}),a.jsxs("div",{className:"text-sm text-red-800",children:[a.jsx("p",{className:"font-medium mb-1",children:"Wallet Not Connected:"}),a.jsx("p",{children:"Please connect your wallet to purchase assets."})]})]})})]}),a.jsxs("div",{className:"flex space-x-3 mt-6",children:[a.jsx("button",{onClick:e,className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors font-medium",disabled:o,children:"Cancel"}),a.jsx(Z,{onClick:A,disabled:!h||o||r<=0||r>t.amount,className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-medium py-3 px-6 rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:h?o?"Processing...":`Buy ${r} Token${r>1?"s":""}`:"Connect Wallet First"})]})]})})})};let nu=null;const _fe=5*60*1e3,Rfe=async()=>{var t;if(nu&&Date.now()-nu.timestamp<_fe)return console.log(`Using cached token price: $${nu.usd}`),nu.usd;try{console.log(" Fetching token price from CoinGecko...");const e=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=ethereum&vs_currencies=usd",{method:"GET",headers:{Accept:"application/json"}});if(!e.ok)throw new Error(`CoinGecko API error: ${e.status}`);const s=(t=(await e.json()).ethereum)==null?void 0:t.usd;if(!s||typeof s!="number")throw new Error("Invalid token price data from CoinGecko");return nu={usd:s,timestamp:Date.now()},console.log(` Token price fetched from CoinGecko: $${s}`),s}catch(e){console.error(" Error fetching token price from CoinGecko:",e);const n=2500;return console.log(` Using fallback token price: $${n}`),nu={usd:n,timestamp:Date.now()},n}},d9=(t,e)=>{if(!t)return"";if(t.startsWith("http://")||t.startsWith("https://"))return t;if(t.startsWith("ipfs://")){const s=`https://gateway.pinata.cloud/ipfs/${t.replace("ipfs://","")}`;return console.log(" Converting IPFS URL for authenticated access:",t,"",s),s}return t.match(/^[a-zA-Z0-9]{46,59}$/)?`https://gateway.pinata.cloud/ipfs/${t}`:t},Mfe=Object.freeze(Object.defineProperty({__proto__:null,processImageURL:d9},Symbol.toStringTag,{value:"Module"})),qy=["https://gateway.pinata.cloud/ipfs/","https://olive-left-snake-740.mypinata.cloud/ipfs/","https://ipfs.io/ipfs/","https://cloudflare-ipfs.com/ipfs/","https://dweb.link/ipfs/","https://gateway.ipfs.io/ipfs/"],q5={"Real Estate":["https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=800&h=600&fit=crop"],"Precious Metals":["https://images.unsplash.com/photo-1610375461246-83df859d849d?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1518546305927-5a555bb7020d?w=800&h=600&fit=crop"],Collectibles:["https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1513475382585-d06e58bcb0e0?w=800&h=600&fit=crop"],Art:["https://images.unsplash.com/photo-1541961017774-22349e4a1262?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1578321272176-b7bbc0679853?w=800&h=600&fit=crop"],"Carbon Credits":["https://images.unsplash.com/photo-1569163139342-de0874c4e2c5?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1587614295999-6c1c13675117?w=800&h=600&fit=crop"],Invoice:["https://images.unsplash.com/photo-1554224155-6726b3ff858f?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=800&h=600&fit=crop"],Stocks:["https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1590736969955-71cc94901144?w=800&h=600&fit=crop"],Unknown:["https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?w=800&h=600&fit=crop"]},mT=t=>{if(!t)return null;if(t.startsWith("ipfs://"))return t.replace("ipfs://","");if(t.includes("/ipfs/")){const e=t.split("/ipfs/");return e.length>1?e[1]:null}return t.match(/^(Qm[a-zA-Z0-9]{44}|baf[a-zA-Z0-9]{56})$/)?t:null},u9=(t,e=0)=>{const n=mT(t);return n?`${qy[e]||qy[0]}${n}`:t},G5=(t,e)=>{const s=q5[t||"Unknown"]||q5.Unknown,r=parseInt(e.slice(-1))%s.length;return s[r]},h9=(t,e,n)=>!t||t.includes("placeholder")?G5(e,n):mT(t)?u9(t):t.startsWith("http")?t:G5(e,n),Gy={"Real Estate":["/assets/realestate/types-of-real-estate-cover.jpg","/assets/realestate/real-estate-asset-classes-hero.jpeg","/assets/realestate/types-of-real-estate-overview-scaled.jpg","/assets/realestate/banglore.jpeg"],Invoice:["/assets/invoices/Commercial-Invoice-Template.webp","/assets/invoices/1131w-KuVdlrcyWPE.webp","/assets/invoices/images-3.png"],Commodity:["/placeholder.svg"],Stocks:["/placeholder.svg"],"Carbon Credits":["/placeholder.svg"],"Precious Metals":["/placeholder.svg"],Collectibles:["/placeholder.svg"],Art:["/placeholder.svg"],Unknown:["/placeholder.svg"]},Y5={"Real Estate":"/assets/realestate/types-of-real-estate-cover.jpg",Invoice:"/assets/invoices/Commercial-Invoice-Template.webp",Commodity:"/placeholder.svg",Stocks:"/placeholder.svg","Carbon Credits":"/placeholder.svg","Precious Metals":"/placeholder.svg",Collectibles:"/placeholder.svg",Art:"/placeholder.svg",Unknown:"/placeholder.svg"},f9=t=>Y5[t]||Y5.Unknown,Ofe=(t,e)=>{const n=Gy[t]||Gy.Unknown,s=parseInt(e.toString())%n.length;return n[s]},Od=(t,e,n)=>{const s=Gy[t]||Gy.Unknown,r=n?`${e}-${n}`:e.toString();let i=0;for(let l=0;l<r.length;l++){const c=r.charCodeAt(l);i=(i<<5)-i+c,i=i&i}const o=Math.abs(i)%s.length;return s[o]};class Dfe{constructor(){Ge(this,"cache",new Map);Ge(this,"JWT_TOKEN","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySW5mb3JtYXRpb24iOnsiaWQiOiJjMDU3NzI3NC0xMzU2LTRmZjgtODk5Yi02MjU0MTZmNTMxYTEiLCJlbWFpbCI6ImFkb2U3NDAzQGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJwaW5fcG9saWN5Ijp7InJlZ2lvbnMiOlt7ImRlc2lyZWRSZXBsaWNhdGlvbkNvdW50IjoxLCJpZCI6IkZSQTEifSx7ImRlc2lyZWRSZXBsaWNhdGlvbkNvdW50IjoxLCJpZCI6Ik5ZQzEifV0sInZlcnNpb24iOjF9LCJtZmFfZW5hYmxlZCI6ZmFsc2UsInN0YXR1cyI6IkFDVElWRSJ9LCJhdXRoZW50aWNhdGlvblR5cGUiOiJzY29wZWRLZXkiLCJzY29wZWRLZXlLZXkiOiJlZTdmZDhiNDY3MGU4ZTc1Y2YxZiIsInNjb3BlZEtleVNlY3JldCI6Ijg3NjU3MDdkNzBmNzAyZjFkYTAxMmVhNmU1MmYzNDUyMjFkOGE0YzgwMWFjYjVlN2Y4NTk5NzYwODIyNTc3ZGYiLCJleHAiOjE3OTA5Mzk1NTR9.huKruxuknG20OfbJsMjiuIaLTQMbCWsILk1B5Dl7Oko")}extractIPFSHash(e){if(!e)throw new Error("Empty URI provided");if(e.includes("https://gateway.pinata.cloud/ipfs/https://gateway.pinata.cloud/ipfs/")){const n=e.split("https://gateway.pinata.cloud/ipfs/");if(n.length>2){const s=n[n.length-1];if(s.startsWith("Qm")||s.startsWith("baf"))return s}throw new Error("Invalid doubled IPFS URL format")}if(e.startsWith("ipfs://"))return e.replace("ipfs://","");if(e.startsWith("https://gateway.pinata.cloud/ipfs/"))return e.replace("https://gateway.pinata.cloud/ipfs/","");if(e.startsWith("Qm")||e.startsWith("baf"))return e;throw new Error(`Unrecognized IPFS format: ${e}`)}getAssetTypeImage(e,n){return n?Ofe(e,n):f9(e)}processImageURL(e){if(!e)return"/placeholder.svg";try{if(e.startsWith("ipfs://"))return`https://gateway.pinata.cloud/ipfs/${e.replace("ipfs://","")}`;if(e.startsWith("Qm")||e.startsWith("baf"))return`https://gateway.pinata.cloud/ipfs/${e}`;if(e.startsWith("http"))return e}catch(n){console.warn("Error processing image URL:",n)}return"/placeholder.svg"}async fetchMetadataFromIPFS(e){if(!e||e.trim()==="")return console.warn("Empty metadata URI provided"),null;if(this.cache.has(e)){const n=this.cache.get(e);if(n.error&&n.expiry&&Date.now()>n.expiry)this.cache.delete(e),console.log(" Failed cache entry expired, retrying:",e);else return n.error?(console.log(" Recently failed, skipping retry for:",e),null):(console.log(" Using cached metadata for:",e),n)}try{const n=this.extractIPFSHash(e);if(n.includes("TestHash")||n.length<40)return console.log(" Skipping fake/test metadata hash:",n),null;console.log(" Fetching metadata from IPFS:",n);const s=[{url:`https://olive-left-snake-740.mypinata.cloud/ipfs/${n}`,name:"Custom Pinata"},{url:`https://gateway.pinata.cloud/ipfs/${n}`,name:"Pinata Gateway"},{url:`https://ipfs.io/ipfs/${n}`,name:"IPFS.io"},{url:`https://dweb.link/ipfs/${n}`,name:"Dweb Link"},{url:`https://cloudflare-ipfs.com/ipfs/${n}`,name:"Cloudflare"},{url:`https://gateway.ipfs.io/ipfs/${n}`,name:"IPFS Gateway"},{url:`https://ipfs.infura.io/ipfs/${n}`,name:"Infura"},{url:`https://cf-ipfs.com/ipfs/${n}`,name:"CF IPFS"},{url:`https://dweb.link/ipfs/${n}`,name:"DWeb.link"}];for(let i=1;i<=2;i++)for(const o of s){console.log(` Trying gateway: ${o.name} - ${o.url} (attempt ${i})`);try{const l=await Promise.race([fetch(o.url,{method:"GET",headers:{Accept:"application/json"}}),new Promise((c,d)=>setTimeout(()=>d(new Error("Timeout")),i===1?5e3:1e4))]);if(l.ok){const c=await l.json();return console.log(` Metadata fetched successfully from ${o.name} on attempt ${i}`),c.image&&(c.image=this.processImageURL(c.image)),this.cache.set(e,c),c}else if(l.status===429){console.log(` Gateway ${o.name} rate limited (429), trying next...`);continue}else if(l.status===404){console.log(` Gateway ${o.name} returned 404 - content not found`);continue}else{console.log(` Gateway ${o.name} failed with status ${l.status}, trying next...`);continue}}catch(l){console.warn(` Gateway ${o.name} error (attempt ${i}):`,l.message);continue}}console.error(" All IPFS gateways failed for:",e);const r={error:"All gateways failed",timestamp:Date.now(),expiry:Date.now()+5*60*1e3};return this.cache.set(e,r),null}catch(n){return console.error(" Error fetching metadata from IPFS:",n),null}}async batchFetchTokenMetadata(e,n){const s=[];console.log(` Batch processing ${e.length} tokens...`);const r=5;for(let i=0;i<e.length;i+=r){const l=e.slice(i,i+r).map(async d=>{try{const u=await n(d),h=await this.fetchMetadataFromIPFS(u);let f="Unknown",m="General";if(h!=null&&h.attributes){const p=h.attributes.find(b=>b.trait_type==="Asset Type");f=(p==null?void 0:p.value)||f;const w=h.attributes.find(b=>b.trait_type==="Category");m=(w==null?void 0:w.value)||m}else h!=null&&h.assetDetails&&(f=h.assetDetails.assetType||f,m=h.assetDetails.category||m);return{tokenId:d,metadata:h,name:(h==null?void 0:h.name)||`Asset Token #${d}`,description:(h==null?void 0:h.description)||`Asset token #${d}`,image:(h==null?void 0:h.image)||this.getAssetTypeImage(f,d),assetType:f,category:m,metadataURI:u,attributes:(h==null?void 0:h.attributes)||[{trait_type:"Asset Type",value:f},{trait_type:"Token ID",value:d}]}}catch(u){return console.error(` Error processing token ${d}:`,u),{tokenId:d,metadata:null,name:`Asset Token #${d}`,description:`Asset token #${d}`,image:this.getAssetTypeImage("Unknown",d),assetType:"Unknown",category:"General",metadataURI:"",attributes:[{trait_type:"Asset Type",value:"Unknown"},{trait_type:"Token ID",value:d}]}}}),c=await Promise.all(l);s.push(...c),i+r<e.length&&await new Promise(d=>setTimeout(d,500))}return console.log(` Batch processing completed: ${s.length} tokens processed`),s}clearCache(){this.cache.clear(),console.log(" Metadata cache cleared")}}const Yy=new Dfe,su="image_cache_",$fe=24,X5=100,Q5="1.0";class Ffe{constructor(){Ge(this,"cache",new Map);Ge(this,"loadingPromises",new Map);this.loadCacheFromStorage(),this.cleanupExpiredEntries()}async getCachedImage(e,n="Real Estate",s="1",r=!1){const i=this.generateCacheKey(e,n,s);if(!r&&this.cache.has(i)){const l=this.cache.get(i);if(this.isCacheEntryValid(l))return console.log(` Using cached image for ${i}:`,l.url),l.url;this.cache.delete(i),this.removeCacheFromStorage(i)}if(this.loadingPromises.has(i))return console.log(` Image already loading for ${i}, waiting...`),this.loadingPromises.get(i);const o=this.loadAndCacheImage(e,n,s,i);this.loadingPromises.set(i,o);try{const l=await o;return this.loadingPromises.delete(i),l}catch(l){throw this.loadingPromises.delete(i),l}}async loadAndCacheImage(e,n,s,r){if(console.log(` Loading and caching image for ${r}...`),this.isIPFSUrl(e)){console.log(` Attempting IPFS image: ${e}`);const o=this.getIPFSGateways(e);for(const l of o)try{if(await this.testImageUrl(l))return console.log(` IPFS image loaded successfully: ${l}`),this.cacheImage(r,l,"ipfs",n,s),l}catch{console.log(` IPFS gateway failed: ${l}`);continue}console.log(` All IPFS gateways failed for: ${e}`)}if(!this.isIPFSUrl(e)&&e&&!e.includes("placeholder")){console.log(` Attempting original URL: ${e}`);try{if(await this.testImageUrl(e))return console.log(` Original image loaded successfully: ${e}`),this.cacheImage(r,e,"external",n,s),e}catch{console.log(` Original URL failed: ${e}`)}}console.log(` Using deterministic local asset for ${n} token ${s}`);const i=Od(n,s);return this.cacheImage(r,i,"local",n,s),console.log(` Cached local asset: ${i}`),i}testImageUrl(e){return new Promise(n=>{const s=new Image,r=setTimeout(()=>{s.onload=null,s.onerror=null,n(!1)},5e3);s.onload=()=>{clearTimeout(r),n(!0)},s.onerror=()=>{clearTimeout(r),n(!1)},s.src=e})}cacheImage(e,n,s,r,i){const o={url:n,timestamp:Date.now(),source:s,assetType:r,tokenId:i,version:Q5};this.cache.set(e,o),this.saveCacheToStorage(e,o),this.cache.size>X5&&this.cleanupOldestEntries(),console.log(` Cached image: ${e}  ${n} (${s})`)}generateCacheKey(e,n,s){const r=this.simpleHash(e||"empty");return`${n}_${s}_${r}`}simpleHash(e){let n=0;for(let s=0;s<e.length;s++){const r=e.charCodeAt(s);n=(n<<5)-n+r,n=n&n}return Math.abs(n).toString(36)}isIPFSUrl(e){return e.startsWith("ipfs://")||e.includes("/ipfs/")||e.match(/^Qm[a-zA-Z0-9]{44}$/)!==null}getIPFSGateways(e){let n="";if(e.startsWith("ipfs://"))n=e.replace("ipfs://","");else if(e.includes("/ipfs/")){const s=e.split("/ipfs/");n=s[s.length-1]}else e.match(/^Qm[a-zA-Z0-9]{44}$/)&&(n=e);return n?[`https://gateway.pinata.cloud/ipfs/${n}`,`https://ipfs.io/ipfs/${n}`,`https://cloudflare-ipfs.com/ipfs/${n}`,`https://dweb.link/ipfs/${n}`,`https://gateway.ipfs.io/ipfs/${n}`]:[e]}isCacheEntryValid(e){const n=Date.now(),s=e.timestamp+$fe*60*60*1e3,r=n>s,i=e.version===Q5;return!r&&i}loadCacheFromStorage(){try{const e=Object.keys(localStorage).filter(n=>n.startsWith(su));for(const n of e){const s=localStorage.getItem(n);if(s){const r=JSON.parse(s),i=n.replace(su,"");this.isCacheEntryValid(r)?this.cache.set(i,r):localStorage.removeItem(n)}}console.log(` Loaded ${this.cache.size} images from cache storage`)}catch(e){console.error(" Error loading image cache from storage:",e)}}saveCacheToStorage(e,n){try{localStorage.setItem(su+e,JSON.stringify(n))}catch(s){console.error(" Error saving image cache to storage:",s),this.cleanupOldestEntries();try{localStorage.setItem(su+e,JSON.stringify(n))}catch(r){console.error(" Error saving image cache after cleanup:",r)}}}removeCacheFromStorage(e){try{localStorage.removeItem(su+e)}catch(n){console.error(" Error removing image cache from storage:",n)}}cleanupExpiredEntries(){const e=[];for(const[n,s]of this.cache.entries())this.isCacheEntryValid(s)||e.push(n);for(const n of e)this.cache.delete(n),this.removeCacheFromStorage(n);e.length>0&&console.log(` Cleaned up ${e.length} expired image cache entries`)}cleanupOldestEntries(){const e=Array.from(this.cache.entries());e.sort((s,r)=>s[1].timestamp-r[1].timestamp);const n=e.slice(0,Math.ceil(X5*.2));for(const[s]of n)this.cache.delete(s),this.removeCacheFromStorage(s);console.log(` Cleaned up ${n.length} oldest image cache entries`)}clearAllCache(){this.cache.clear();try{const e=Object.keys(localStorage).filter(n=>n.startsWith(su));for(const n of e)localStorage.removeItem(n);console.log(" Cleared all image cache")}catch(e){console.error(" Error clearing image cache:",e)}}getCacheStats(){const e=Array.from(this.cache.values()).filter(r=>r.source==="ipfs").length,n=Array.from(this.cache.values()).filter(r=>r.source==="local").length,s=Array.from(this.cache.values()).filter(r=>r.source==="external").length;return{totalEntries:this.cache.size,ipfsEntries:e,localEntries:n,externalEntries:s,cacheSize:`${Math.round(this.cache.size*.5)}KB`}}async preloadImages(e){console.log(` Preloading ${e.length} images...`);const n=e.map(async({url:i,assetType:o,tokenId:l})=>{try{return await this.getCachedImage(i,o,l),!0}catch(c){return console.error(` Failed to preload image for token ${l}:`,c),!1}}),r=(await Promise.allSettled(n)).filter(i=>i.status==="fulfilled").length;console.log(` Preloaded ${r}/${e.length} images`)}}const Rg=new Ffe;window.imageCacheService=Rg;const Dd=({src:t,alt:e,className:n="",assetType:s="Real Estate",tokenId:r="1",forceRefresh:i=!1,onLoad:o,onError:l,placeholder:c})=>{const[d,u]=v.useState(""),[h,f]=v.useState(!0),[m,g]=v.useState(!1),[p,w]=v.useState("");v.useEffect(()=>{let A=!0;return(async()=>{f(!0),g(!1);try{console.log(` Loading cached image for token ${r} (${s}):`,t);const T=await Rg.getCachedImage(t,s,r,i);A&&(u(T),T.includes("/assets/")?w("local"):T.includes("ipfs")||T.includes("gateway")?w("ipfs"):w("external"),console.log(` Cached image loaded for token ${r}:`,T))}catch(T){console.error(` Failed to load cached image for token ${r}:`,T),A&&(g(!0),f(!1),l==null||l())}})(),()=>{A=!1}},[t,s,r,i]);const b=()=>{f(!1),g(!1),o==null||o(),console.log(` Image rendered successfully for token ${r} from ${p} cache`)},y=()=>{g(!0),f(!1),l==null||l(),console.error(` Image render failed for token ${r}:`,d)},N=a.jsx("div",{className:"flex items-center justify-center bg-gray-200 animate-pulse",children:a.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})});return a.jsxs("div",{className:`relative ${n}`,children:[h&&a.jsx("div",{className:"absolute inset-0",children:c||N}),d&&a.jsx("img",{src:d,alt:e,className:`${n} ${h?"opacity-0":"opacity-100"} transition-opacity duration-300`,onLoad:b,onError:y}),m&&!h&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100",children:a.jsxs("div",{className:"text-center text-gray-500",children:[a.jsx("svg",{className:"w-8 h-8 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})}),a.jsx("span",{className:"text-xs",children:"Image unavailable"})]})}),!1]})},Lfe="modulepreload",Bfe=function(t){return"/"+t},J5={},Ct=function(e,n,s){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(n.map(c=>{if(c=Bfe(c),c in J5)return;J5[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":Lfe,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return r.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})};function Ji(t){return t?!!(t.name&&[/^Asset Token #\d+$/,/^Asset #\d+$/,/^Token #\d+$/,/^NFT #\d+$/,/^Unknown Asset/,/^Default Token/].some(n=>n.test(t.name))||t.description&&[/^Asset token #\d+$/,/^Token #\d+ description$/,/^Default description/,/^Placeholder description/].some(n=>n.test(t.description))||t.assetType==="Unknown"&&(!t.metadata||Object.keys(t.metadata).length===0)||t.metadata&&!(t.metadata.name&&!t.metadata.name.match(/^(Asset|Token) #?\d+$/)&&t.metadata.name.trim().length>0)):!1}function vd(t){return t?Ji({name:t.name,description:t.description,metadata:t.metadata,assetType:t.type||t.assetType}):!1}function Ufe(t,e){return{_isDummyData:!0,_failedFetch:!0,_tokenId:t,_metadataURI:e,_timestamp:Date.now(),_expiry:Date.now()+5*60*1e3}}function gb(t){return t&&t._isDummyData===!0&&t._failedFetch===!0}function pT(t){return gb(t)?Date.now()>t._expiry:!1}function Vfe(t){return t.filter(e=>!vd(e))}function pk(){let t=0;const e=[];for(let n=0;n<localStorage.length;n++){const s=localStorage.key(n);if(s)try{const r=localStorage.getItem(s);if(!r)continue;const i=JSON.parse(r);if(i&&i.data&&Array.isArray(i.data)){const o=i.data.filter(l=>!vd(l));o.length!==i.data.length&&(console.log(` Found ${i.data.length-o.length} dummy listings in ${s}`),o.length===0?e.push(s):(i.data=o,localStorage.setItem(s,JSON.stringify(i))),t+=i.data.length-o.length)}else(i&&i.metadata&&Ji(i)||gb(i)&&pT(i))&&(e.push(s),t++)}catch{continue}}return e.forEach(n=>{localStorage.removeItem(n),console.log(` Removed dummy data cache key: ${n}`)}),t}function Px(){let t=0,e=0,n=0,s=0;for(let r=0;r<localStorage.length;r++){const i=localStorage.key(r);if(i)try{const o=localStorage.getItem(i);if(!o)continue;t++;const l=JSON.parse(o);if(l&&l.data&&Array.isArray(l.data)){const c=l.data.filter(d=>vd(d)).length;e+=c}else l&&l.metadata&&Ji(l)?e++:gb(l)&&(n++,pT(l)&&s++)}catch{continue}}return{totalCacheEntries:t,dummyDataEntries:e,failedFetchMarkers:n,expiredFailedFetches:s}}window.DummyDataUtils={isDummyData:Ji,isMarketplaceListingDummy:vd,clearDummyDataFromCache:pk,getDummyDataStats:Px,cleanDummyDataFromListings:Vfe};const gn={KEYS:{MARKETPLACE_LISTINGS:"marketplace_listings",ASSET_METADATA:"asset_metadata",IPFS_IMAGES:"ipfs_images",USER_OWNED_ASSETS:"user_owned_assets"},EXPIRATION:{MARKETPLACE_LISTINGS:10*60*1e3,ASSET_METADATA:24*60*60*1e3,IPFS_IMAGES:7*24*60*60*1e3,USER_OWNED_ASSETS:5*60*1e3}},zc=class zc{static getInstance(){return zc.instance||(zc.instance=new zc),zc.instance}constructor(){}setCache(e,n){try{const s={data:n,timestamp:Date.now(),key:e};localStorage.setItem(e,JSON.stringify(s)),console.log(` Cached data for key: ${e}`)}catch(s){console.warn(` Failed to cache data for key: ${e}`,s)}}getCache(e,n){try{const s=localStorage.getItem(e);if(!s)return console.log(` No cached data found for key: ${e}`),null;const r=JSON.parse(s),o=Date.now()-r.timestamp;return o>n?(console.log(` Cache expired for key: ${e} (age: ${Math.round(o/1e3)}s, max: ${Math.round(n/1e3)}s)`),localStorage.removeItem(e),null):(console.log(` Using cached data for key: ${e} (age: ${Math.round(o/1e3)}s)`),r.data)}catch(s){return console.warn(` Failed to retrieve cached data for key: ${e}`,s),localStorage.removeItem(e),null}}clearCache(e){try{e?(localStorage.removeItem(e),console.log(` Cleared cache for key: ${e}`)):(Object.values(gn.KEYS).forEach(n=>{localStorage.removeItem(n)}),console.log(" Cleared all marketplace cache"))}catch(n){console.warn(" Failed to clear cache",n)}}clearDummyDataFromCache(){var s;console.log(" Clearing dummy data from marketplace cache...");let e=0;[gn.KEYS.MARKETPLACE_LISTINGS,gn.KEYS.USER_OWNED_ASSETS].forEach(r=>{for(let i=0;i<localStorage.length;i++){const o=localStorage.key(i);if(!(!o||!o.startsWith(r)))try{const l=localStorage.getItem(o);if(!l)continue;const c=JSON.parse(l);if(!c.data)continue;if(Array.isArray(c.data)){const d=c.data.length;if(c.data=c.data.filter(u=>!vd(u)),c.data.length!==d){const u=d-c.data.length;e+=u,c.data.length===0?(localStorage.removeItem(o),console.log(` Removed empty cache entry: ${o}`)):(localStorage.setItem(o,JSON.stringify(c)),console.log(` Cleaned ${u} dummy entries from: ${o}`))}}}catch(l){console.warn(` Error processing cache key ${o}:`,l)}}});for(let r=localStorage.length-1;r>=0;r--){const i=localStorage.key(r);if(!(!i||!i.startsWith(gn.KEYS.ASSET_METADATA)))try{const o=localStorage.getItem(i);if(!o)continue;const l=JSON.parse(o);l.data&&l.data.metadata&&Ji({metadata:l.data.metadata,name:(s=l.data.metadata)==null?void 0:s.name})&&(localStorage.removeItem(i),e++,console.log(` Removed dummy asset metadata: ${i}`))}catch{}}return console.log(` Cleared ${e} dummy data entries from cache`),e}cacheMarketplaceListings(e){const n=e.filter(s=>!vd(s));console.log(` Filtered marketplace listings: ${e.length}  ${n.length} (removed ${e.length-n.length} dummy entries)`),n.length>0?this.setCache(gn.KEYS.MARKETPLACE_LISTINGS,n):console.warn(" All marketplace listings were dummy data - not caching")}getCachedMarketplaceListings(){console.log(" getCachedMarketplaceListings called");const e=this.getCache(gn.KEYS.MARKETPLACE_LISTINGS,gn.EXPIRATION.MARKETPLACE_LISTINGS);if(!e)return console.log(" No cached marketplace listings found"),null;const n=e.filter(s=>!vd(s));if(n.length!==e.length)if(console.log(` Cleaned marketplace cache: ${e.length}  ${n.length} (removed ${e.length-n.length} dummy entries)`),n.length>0)this.cacheMarketplaceListings(n);else return this.clearCache(gn.KEYS.MARKETPLACE_LISTINGS),null;return console.log(" Cache result:",n?`${n.length} clean listings found`:"No cache found"),n&&n.length>0&&console.log(" First listing sample:",{name:n[0].name,type:n[0].type,category:n[0].category,attributes:n[0].attributes}),n.length>0?n:null}cacheAssetMetadata(e,n,s,r){if(!n||Ji({metadata:n,name:n==null?void 0:n.name})){console.log(` Skipping cache for token ${e} - dummy or null metadata detected`);const l=Ufe(e,r),c=`${gn.KEYS.ASSET_METADATA}_${e}_failed`;this.setCache(c,l);return}const i={tokenId:e,metadata:n,processedImageUrl:s,metadataURI:r,fetchedAt:Date.now()},o=`${gn.KEYS.ASSET_METADATA}_${e}`;this.setCache(o,i),console.log(` Cached real metadata for token ${e}: ${(n==null?void 0:n.name)||"Unknown name"}`)}getCachedAssetMetadata(e){var o;const n=`${gn.KEYS.ASSET_METADATA}_${e}`,s=`${n}_failed`,r=this.getCache(s,gn.EXPIRATION.ASSET_METADATA);if(r&&gb(r))if(pT(r))localStorage.removeItem(s),console.log(` Failed fetch marker expired for token ${e}, allowing retry`);else return console.log(` Recent fetch failure for token ${e}, skipping retry`),null;const i=this.getCache(n,gn.EXPIRATION.ASSET_METADATA);return i&&Ji({metadata:i.metadata,name:(o=i.metadata)==null?void 0:o.name})?(console.log(` Removing dummy data from cache for token ${e}`),localStorage.removeItem(n),null):i}cacheProcessedImage(e,n){const s={originalUrl:e,processedUrl:n,fetchedAt:Date.now()},r=`${gn.KEYS.IPFS_IMAGES}_${this.hashUrl(e)}`;this.setCache(r,s)}getCachedProcessedImage(e){const n=`${gn.KEYS.IPFS_IMAGES}_${this.hashUrl(e)}`,s=this.getCache(n,gn.EXPIRATION.IPFS_IMAGES);return(s==null?void 0:s.processedUrl)||null}cacheUserOwnedAssets(e,n){const s=`${gn.KEYS.USER_OWNED_ASSETS}_${e}`;this.setCache(s,n)}getCachedUserOwnedAssets(e){const n=`${gn.KEYS.USER_OWNED_ASSETS}_${e}`;return this.getCache(n,gn.EXPIRATION.USER_OWNED_ASSETS)}async fetchMetadataWithCache(e,n){const s=this.getCachedAssetMetadata(e);if(s)return console.log(` Using cached metadata for token ${e}`),{metadata:s.metadata,processedImageUrl:s.processedImageUrl};try{console.log(` Fetching fresh metadata for token ${e} from ${n}`);const r=await Yy.fetchMetadataFromIPFS(n);let i="";if(r!=null&&r.image){const o=this.getCachedProcessedImage(r.image);if(o)i=o,console.log(` Using cached image for ${r.image}`);else{const{processImageURL:l}=await Ct(async()=>{const{processImageURL:c}=await Promise.resolve().then(()=>Mfe);return{processImageURL:c}},void 0);i=l(r.image,r),this.cacheProcessedImage(r.image,i),console.log(` Processed and cached image: ${r.image}  ${i}`)}}return this.cacheAssetMetadata(e,r,i,n),{metadata:r,processedImageUrl:i}}catch(r){throw console.error(` Failed to fetch metadata for token ${e}:`,r),r}}async batchFetchMetadataWithCache(e){const n=new Map,s=[];for(const r of e){const i=this.getCachedAssetMetadata(r.tokenId);i?(n.set(r.tokenId,{metadata:i.metadata,processedImageUrl:i.processedImageUrl}),console.log(` Cache hit for token ${r.tokenId}`)):s.push(r)}if(console.log(` Cache stats: ${n.size} hits, ${s.length} misses`),s.length>0){console.log(` Fetching ${s.length} uncached metadata entries...`);const r=5;for(let i=0;i<s.length;i+=r){const l=s.slice(i,i+r).map(async c=>{try{const d=await this.fetchMetadataWithCache(c.tokenId,c.metadataURI);n.set(c.tokenId,d)}catch(d){console.warn(` Failed to fetch metadata for token ${c.tokenId}:`,d),n.set(c.tokenId,{metadata:null,processedImageUrl:""})}});await Promise.all(l),i+r<s.length&&await new Promise(c=>setTimeout(c,500))}}return n}hashUrl(e){let n=0;for(let s=0;s<e.length;s++){const r=e.charCodeAt(s);n=(n<<5)-n+r,n=n&n}return Math.abs(n).toString(36)}getCacheStats(){const e={};return Object.entries(gn.KEYS).forEach(([n,s])=>{const r=[];for(let i=0;i<localStorage.length;i++){const o=localStorage.key(i);o&&o.startsWith(s)&&r.push(o)}e[n]={count:r.length,keys:r.slice(0,5),totalSize:r.reduce((i,o)=>{const l=localStorage.getItem(o);return i+(l?l.length:0)},0)}}),e}clearExpiredCache(){let e=0;const n=Date.now();for(let s=localStorage.length-1;s>=0;s--){const r=localStorage.key(s);if(!r)continue;if(Object.values(gn.KEYS).some(o=>r.startsWith(o)))try{const o=localStorage.getItem(r);if(o){const l=JSON.parse(o),c=n-l.timestamp;let d=gn.EXPIRATION.ASSET_METADATA;r.includes("marketplace_listings")?d=gn.EXPIRATION.MARKETPLACE_LISTINGS:r.includes("ipfs_images")?d=gn.EXPIRATION.IPFS_IMAGES:r.includes("user_owned_assets")&&(d=gn.EXPIRATION.USER_OWNED_ASSETS),c>d&&(localStorage.removeItem(r),e++)}}catch{localStorage.removeItem(r),e++}}e>0&&console.log(` Cleared ${e} expired cache entries`)}};Ge(zc,"instance");let gk=zc;const ln=gk.getInstance(),Pc=["https://mainnet.evm.nodes.onflow.org/"],Z5=[{tokenId:"1",name:"Luxury Villa in Miami",description:"A beautiful beachfront villa with stunning ocean views",image:"ipfs://QmQoHpAJNJyWUgC7QGMgAnzdaMekpMAeCi1voJH6iSaFRi",price:"250000000000000000000000",amount:100,totalSupply:1e3,seller:"0x1234567890123456789012345678901234567890",metadataURI:"ipfs://QmQoHpAJNJyWUgC7QGMgAnzdaMekpMAeCi1voJH6iSaFRi",attributes:[{trait_type:"Type",value:"Real Estate"},{trait_type:"Location",value:"Miami, FL"},{trait_type:"Area",value:"3,500 sq ft"},{trait_type:"Bedrooms",value:"4"},{trait_type:"Bathrooms",value:"3"}]},{tokenId:"2",name:"Gold Bullion Investment",description:"Premium 1oz gold bars with certified authenticity",image:Od("Commodity","2"),price:"2100000000000000000000",amount:50,totalSupply:500,seller:"0x2345678901234567890123456789012345678901",metadataURI:"demo://gold-bullion",attributes:[{trait_type:"Type",value:"Precious Metal"},{trait_type:"Weight",value:"1 oz"},{trait_type:"Purity",value:"99.99%"},{trait_type:"Certification",value:"LBMA Certified"}]},{tokenId:"3",name:"Vintage Wine Collection",description:"Rare vintage wines from French vineyards",image:Od("Commodity","3"),price:"5000000000000000000000",amount:25,totalSupply:100,seller:"0x3456789012345678901234567890123456789012",metadataURI:"demo://vintage-wine",attributes:[{trait_type:"Type",value:"Wine"},{trait_type:"Vintage",value:"1982"},{trait_type:"Region",value:"Bordeaux"},{trait_type:"Bottles",value:"12"}]}],eR=["function uri(uint256 tokenId) external view returns (string memory)","function tokenMetadata(uint256 tokenId) external view returns (string memory)","function tokenPrice(uint256 tokenId) external view returns (uint256)"],gT=(t,e)=>(parseFloat(Be(t))*e).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),zfe=()=>{const[t,e]=v.useState([]),[n,s]=v.useState(!0),[r,i]=v.useState(""),[o,l]=v.useState(null),[c,d]=v.useState(null),[u,h]=v.useState(2500),[f,m]=v.useState(!0),[g,p]=v.useState(!1),[w,b]=v.useState(null),[y,N]=v.useState(!1),{provider:A,signer:S}=Mn(),[T,_]=v.useState(null),R=no(),B=I=>{let F=0;try{const O=un.from(I.price);F=parseFloat(Be(O)),console.log(` Converting price for ${I.name}: ${I.price} Wei  ${F} U2U`)}catch(O){console.warn(" Error converting price:",O),F=parseFloat(I.price)||0}R("/orderbook",{state:{selectedToken:{tokenId:I.tokenId,name:I.name,image:I.image,type:I.type||I.category,userBalance:0,price:I.price,marketplacePrice:F,description:I.description}}})};v.useEffect(()=>{ln.clearExpiredCache();const I=ln.getCachedMarketplaceListings();I&&!L(I)&&(console.log(" Detected dummy cache data on mount, clearing..."),ln.clearCache(),N(!1),p(!1))},[]),v.useEffect(()=>{V(),U()},[A,S]),v.useEffect(()=>{T&&M()},[T]);const V=async()=>{try{console.log(" Initializing marketplace contract..."),console.log("Contract address:",Tn),console.log("Network:",Nt),console.log("RPC URL:",Et[Nt].rpcUrl);let I;if(A)console.log(" Using wallet provider"),I=A;else{console.log(" No wallet provider, trying public RPC endpoints...");for(let k=0;k<Pc.length;k++)try{console.log(` Trying RPC endpoint ${k+1}/${Pc.length}: ${Pc[k]}`),I=new $l(Pc[k]);const $=await I.getNetwork();console.log(` Successfully connected to RPC endpoint ${k+1}, Chain ID: ${$.chainId}`);break}catch($){if(console.warn(` RPC endpoint ${k+1} failed:`,$),k===Pc.length-1)throw new Error("All RPC endpoints failed. Using demo data.")}}if(A)try{const k=await A.getNetwork();if(console.log("Connected to network:",k.name,"Chain ID:",k.chainId),console.log("Expected Chain ID:",Et[Nt].chainId),k.chainId!==Et[Nt].chainId){const $=`Wrong network! Please switch to ${Et[Nt].name} (Chain ID: ${Et[Nt].chainId})`;console.error(" Network mismatch:",$);try{console.log(" Attempting to switch network automatically...");const G=window.ethereum;if(G){await G.request({method:"wallet_switchEthereumChain",params:[{chainId:`0x${Et[Nt].chainId.toString(16)}`}]}),console.log(" Network switched successfully!"),setTimeout(()=>V(),1e3);return}}catch(G){if(console.warn(" Could not switch network automatically:",G),G.code===4902)try{console.log(" Attempting to add U2U Mainnet to wallet..."),await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:`0x${Et[Nt].chainId.toString(16)}`,chainName:Et[Nt].name,nativeCurrency:Et[Nt].nativeCurrency,rpcUrls:[Et[Nt].rpcUrl],blockExplorerUrls:[Et[Nt].blockExplorer]}]}),console.log(" U2U Mainnet added to wallet!"),setTimeout(()=>V(),1e3);return}catch(P){console.error(" Failed to add network:",P)}}throw new Error($)}}catch(k){console.error(" Network check failed:",k),I=new $l(Et[Nt].rpcUrl)}const F=S||I,O=new Xe(Tn,vi,F);try{console.log(" Testing contract call with getAllListings...");const k=await O.getAllListings();console.log(" Contract call successful, listings response:",k),console.log(" Contract is functional and responding to calls")}catch(k){console.warn(" Contract test call failed but contract exists:",k),console.log(" This might be normal if no listings exist yet")}_(O),console.log(" Marketplace contract initialized successfully")}catch(I){console.error(" Error initializing marketplace contract:",I),console.log(" Loading demo marketplace data as fallback..."),e(Z5),s(!1),i("Connected to demo marketplace data. Contract data unavailable due to network issues."),we.loading("Marketplace is loading please wait")}},U=async()=>{m(!0);try{const I=await Rfe();h(I),console.log(`S price loaded: $${I}`)}catch(I){console.error("Failed to fetch S price:",I),we.error("Failed to fetch S price, using fallback")}finally{m(!1)}},L=I=>{if(!I||I.length===0)return!1;const O=I.map(G=>{var K,H,q,Q,J;const P={hasDummyName:G.name.startsWith("Asset Token #")||G.name.includes("Demo")||G.name.includes("demo")||G.name.includes("Example"),hasDummyDescription:G.description.includes("Asset token listed on the marketplace. Token ID:")||G.description.includes("Token ID:")||G.description.length<50,hasDummyMetadataURI:((K=G.metadataURI)==null?void 0:K.includes("placeholder-"))||!G.metadataURI||G.metadataURI===`placeholder-${G.tokenId}`,hasGenericType:G.type==="Investment Asset"&&G.category==="Investment Asset"&&((H=G.attributes)==null?void 0:H.length)===1&&((q=G.attributes[0])==null?void 0:q.trait_type)==="Asset Type"&&((Q=G.attributes[0])==null?void 0:Q.value)==="Investment Asset",hasGenericImage:((J=G.image)==null?void 0:J.includes("placeholder"))||!G.image,lacksProperMetadata:!G.metadata||Object.keys(G.metadata||{}).length===0},z=Object.values(P).filter(Boolean).length;return console.log(` Token ${G.tokenId} dummy indicators:`,P,`Score: ${z}/6`),z>=3}).filter(Boolean).length,k=O/I.length,$=k<.5;return console.log(` Data validation: ${O}/${I.length} listings appear dummy (${(k*100).toFixed(1)}%), isReal=${$}`),$},M=async(I=!1)=>{var O,k,$,G,P,z,K,H,q,Q,J,te,Me;if(console.log(` loadMarketplaceListings called with forceRefresh: ${I}`),!I){console.log(" Checking cache for marketplace listings...");const ee=ln.getCachedMarketplaceListings();if(console.log(" Raw cached listings:",ee),ee&&ee.length>0){console.log(` Loaded ${ee.length} marketplace listings from cache instantly!`);const he=ee.map(se=>{var $e,it,Oe,ht,lt;let X=se.name||`Asset Token #${se.tokenId}`,re=se.type||se.category||"Investment Asset";if(se.metadata){const me=se.metadata.name||se.metadata.title||se.metadata.assetName||(($e=se.metadata.assetDetails)==null?void 0:$e.name)||((it=se.metadata.assetDetails)==null?void 0:it.title);me&&me.trim()&&!me.trim().startsWith("Asset Token #")&&(X=me.trim());const W=se.metadata.assetType||((Oe=se.metadata.assetDetails)==null?void 0:Oe.assetType)||((ht=se.metadata.assetDetails)==null?void 0:ht.category);if(W&&W.trim()&&W.trim()!=="Unknown"&&(re=W.trim()),se.metadata.attributes&&Array.isArray(se.metadata.attributes)){const de=se.metadata.attributes.find(ne=>ne.trait_type==="Asset Type"||ne.trait_type==="Category"||ne.trait_type==="Type");de!=null&&de.value&&de.value.trim()&&de.value.trim()!=="Unknown"&&(re=de.value.trim())}}if(X.startsWith("Asset Token #")||re==="Unknown"||re==="Investment Asset"){const me=ln.getCachedAssetMetadata(se.tokenId);if(me!=null&&me.metadata){const W=me.metadata.name||me.metadata.title||me.metadata.assetName;W&&W.trim()&&!W.trim().startsWith("Asset Token #")&&(X=W.trim());const de=me.metadata.assetType||((lt=me.metadata.assetDetails)==null?void 0:lt.assetType);de&&de.trim()&&de.trim()!=="Unknown"&&(re=de.trim())}}console.log(` Enhanced cached token ${se.tokenId}: "${X}" (${re})`),console.log(" Original attributes:",se.attributes),console.log(" Original type/category:",se.type,se.category);const ve=se.attributes?se.attributes.map(me=>me.trait_type==="Asset Type"||me.trait_type==="Type"||me.trait_type==="Category"?{...me,value:re}:me).concat(se.attributes.some(me=>me.trait_type==="Asset Type"||me.trait_type==="Type"||me.trait_type==="Category")?[]:[{trait_type:"Asset Type",value:re}]):[{trait_type:"Asset Type",value:re}];return console.log(" Enhanced attributes:",ve),{...se,name:X,type:re,category:re,attributes:ve}}),ke=L(he);if(console.log(` Cached data validation: isRealData=${ke}`),e(he),ke?(s(!1),N(!0),console.log(" Real contract data found in cache - turning off loading state")):(console.log(" Cached data appears to be dummy/placeholder - keeping loading state until real data arrives"),N(!1)),p(!0),b(Date.now()),ln.cacheMarketplaceListings(he),console.log(" Updated marketplace cache with enhanced asset names and types"),ke?we.success(`Marketplace loaded with ${he.length} assets`):we.loading("Loading marketplace data..."),ke){const se=setTimeout(()=>{g&&!document.hidden?(console.log(" Background marketplace refresh starting..."),M(!0)):console.log(" Skipping background refresh - user navigated away or fresh data already loaded")},6e4);return()=>clearTimeout(se)}else console.log(" Cached data is dummy - fetching fresh contract data immediately..."),setTimeout(()=>{document.hidden||M(!0)},1e3);return}else console.log(" No valid marketplace cache found, fetching from blockchain...")}if(!T){console.log(" Marketplace contract not initialized");return}s(!0),i(""),p(!1);let F=!1;try{console.log(" Loading marketplace listings from contract...");let ee,he;for(let me=1;me<=3;me++)try{console.log(` Calling getAllListings (attempt ${me}/3)...`),ee=await T.getAllListings(),console.log(" Raw listings data:",ee),console.log(" Raw listings data type:",typeof ee),console.log(" Raw listings data is array:",Array.isArray(ee)),Array.isArray(ee)&&(console.log(" Raw listings data length:",ee.length),ee.forEach((W,de)=>{console.log(` Item ${de}:`,W,"Type:",typeof W,"IsArray:",Array.isArray(W))}));break}catch(W){if(console.warn(` getAllListings attempt ${me} failed:`,W),he=W,(O=W.message)!=null&&O.includes("missing trie node")&&me<3){console.log(" Trying with fallback RPC provider...");try{const de=new $l(Pc[me%Pc.length]);ee=await new Xe(Tn,vi,de).getAllListings(),console.log(" Success with fallback RPC provider!");break}catch(de){console.warn(" Fallback RPC also failed:",de)}}if(me===3)throw W.code==="CALL_EXCEPTION"||(k=W.message)!=null&&k.includes("missing trie node")?new Error("Network synchronization issue. Please try again in a few minutes."):($=W.message)!=null&&$.includes("revert")?new Error("Smart contract call failed. The marketplace may be paused or have no listings."):W;await new Promise(de=>setTimeout(de,2e3))}if(!ee)throw new Error("Failed to get listings data after 3 attempts");console.log(" Analyzing getAllListings response structure:",ee),console.log(" Response type:",typeof ee),console.log(" Is array:",Array.isArray(ee)),console.log(" Response length:",ee.length),console.log(" First element:",ee[0]);let ke,se,X,re;if(Array.isArray(ee))if(ee.length===4&&Array.isArray(ee[0]))[ke,se,X,re]=ee,console.log(" Successfully extracted 4 arrays from response");else if(ee.length>0&&((G=ee[0])!=null&&G._isBigNumber)){console.log(" Contract returned only token IDs, fetching additional data..."),ke=ee,se=[],X=[],re=[];for(let me=0;me<ke.length;me++)try{const W=ke[me].toString();console.log(` Fetching listing data for token ${W}...`);const de=await T.listings(W);console.log(` Listing for token ${W}:`,de),se.push(de.issuer),X.push(de.amount);try{const ne=await T.tokenContract(),Ne=await new Xe(ne,eR,T.provider).tokenPrice(W);re.push(Ne),console.log(` Token ${W} price: ${Be(Ne)} Flow`)}catch(ne){console.warn(` Could not fetch price for token ${W}:`,ne),re.push(Zr("1000"))}}catch(W){console.error(` Error fetching data for token ${ke[me]}:`,W),se.push("0x0000000000000000000000000000000000000000"),X.push(un.from(0)),re.push(Zr("1000"))}}else throw console.error(" Unexpected response structure from getAllListings"),console.log("Expected: 4 arrays [tokenIds, issuers, amounts, prices] or array of token IDs"),console.log("Received:",ee),new Error("Invalid response structure from marketplace contract");else throw new Error("getAllListings did not return an array");if(console.log(" Extracted data:"),console.log("- Token IDs:",ke),console.log("- Issuers:",se),console.log("- Amounts:",X),console.log("- Prices:",re),!ke||ke.length===0){console.log(" No listings found in marketplace"),e([]),s(!1),we.info("No assets currently listed on the marketplace");return}console.log(` Found ${ke.length} listings in marketplace`);let ve;try{const me=S||A||new $l(Et[Nt].rpcUrl);ve=new Xe(Sr,eR,me)}catch(me){console.error(" Failed to initialize token contract:",me)}const $e=[],it=[],Oe=[];for(let me=0;me<ke.length;me++)try{const W=(un.isBigNumber(ke[me]),ke[me].toString()),de=se[me],ne=un.isBigNumber(X[me])?X[me].toNumber():Number(X[me]),le=(un.isBigNumber(re[me]),re[me].toString());if(ve)try{if(await ve.getTokenLifecycleStatus(W)===2){console.log(` Skipping burned token ${W}`);continue}}catch{console.warn(` Could not check lifecycle for token ${W}, including in listings`)}console.log(` Preparing listing ${me+1}/${ke.length}:`,{tokenId:W,issuer:de,amount:ne,priceInETH:Be(le),priceInWei:le}),Oe.push({tokenId:W,issuer:de,amount:ne,price:le,index:me});let Ne="";if(ve)try{Ne=await ve.tokenMetadata(W),console.log(" Got metadata URI from tokenMetadata:",Ne)}catch{try{Ne=await ve.uri(W),console.log(" Got metadata URI from uri:",Ne)}catch{console.warn(" Could not get metadata URI for token:",W),Ne=""}}Ne&&it.push({tokenId:W,metadataURI:Ne,index:me})}catch(W){console.error(` Error preparing listing ${me}:`,W)}console.log(` Prepared ${Oe.length} listings, ${it.length} metadata requests`);const ht=await ln.batchFetchMetadataWithCache(it);for(const me of Oe)try{const{tokenId:W,issuer:de,amount:ne,price:le,index:Ne}=me,Re=ht.get(W),Pe=Re==null?void 0:Re.metadata,Lt=(Re==null?void 0:Re.processedImageUrl)||"";let ze="Investment Asset";if(Pe){const _e=Pe.assetType||((P=Pe.assetDetails)==null?void 0:P.assetType)||((z=Pe.assetDetails)==null?void 0:z.category);if(_e&&_e.trim()&&_e.trim()!=="Unknown"&&(ze=_e.trim()),Pe.attributes&&Array.isArray(Pe.attributes)){const ft=Pe.attributes.find(Zt=>Zt.trait_type==="Asset Type"||Zt.trait_type==="Category"||Zt.trait_type==="Type");ft!=null&&ft.value&&ft.value.trim()&&ft.value.trim()!=="Unknown"&&(ze=ft.value.trim())}}const je=Lt||Od(ze,W);console.log(` Final unique image for token ${W} (${ze}):`,je);let We=0;try{const _e=await T.totalTokensListed(W);We=parseInt(_e.toString()),console.log(` Token ${W} total supply: ${We}`)}catch(_e){console.warn(` Could not fetch total supply for token ${W}:`,_e),We=ne}let be=`Asset Token #${W}`,Se=ze;if(Pe){const _e=Pe.name||Pe.title||Pe.assetName||((K=Pe.assetDetails)==null?void 0:K.name)||((H=Pe.assetDetails)==null?void 0:H.title);_e&&_e.trim()&&(be=_e.trim());const ft=Pe.assetType||((q=Pe.assetDetails)==null?void 0:q.assetType)||((Q=Pe.assetDetails)==null?void 0:Q.category);if(ft&&ft.trim()&&(Se=ft.trim()),Pe.attributes&&Array.isArray(Pe.attributes)){const Zt=Pe.attributes.find(fe=>fe.trait_type==="Asset Type"||fe.trait_type==="Category"||fe.trait_type==="Type");Zt!=null&&Zt.value&&Zt.value.trim()&&(Se=Zt.value.trim())}}console.log(` Token ${W} processed with name: "${be}", type: "${Se}"`);const Fe={tokenId:W,name:be,description:(Pe==null?void 0:Pe.description)||`Asset token listed on the marketplace. Token ID: ${W}`,image:je,price:le,amount:ne,totalSupply:We,seller:de,metadataURI:((J=it.find(_e=>_e.tokenId===W))==null?void 0:J.metadataURI)||`placeholder-${W}`,metadata:Pe,attributes:(Pe==null?void 0:Pe.attributes)||[{trait_type:"Asset Type",value:Se}],type:Se,category:Se};$e.push(Fe)}catch(W){console.error(` Error processing listing for token ${me.tokenId}:`,W)}e($e),console.log(" Marketplace listings loaded:",$e.length),console.log(" Preloading marketplace images...");const lt=$e.map(me=>{var W,de;return{url:me.image,assetType:((de=(W=me.attributes)==null?void 0:W.find(ne=>ne.trait_type==="Asset Type"))==null?void 0:de.value)||"Real Estate",tokenId:me.tokenId}});Rg.preloadImages(lt).catch(me=>{console.warn(" Image preloading failed:",me)}),N(!0),F=!0,console.log(" Real contract data fetched and marked"),console.log(" Caching marketplace listings..."),ln.cacheMarketplaceListings($e),$e.length===0?we.info("No assets could be loaded from the marketplace"):g?console.log(` Background refresh: Updated ${$e.length} marketplace listings`):we.success(`${$e.length} assets loaded from marketplace`)}catch(ee){console.error(" Error loading marketplace listings:",ee);let he="Failed to load marketplace listings";(te=ee.message)!=null&&te.includes("Network synchronization")?he="Network synchronization issue. Loading demo data as fallback.":(Me=ee.message)!=null&&Me.includes("Smart contract call failed")?he="Marketplace contract unavailable. Loading demo data as fallback.":ee.code==="NETWORK_ERROR"?he="Network connection issue. Loading demo data as fallback.":he="Contract data unavailable. Loading demo data as fallback.",console.log(" Loading demo marketplace data as fallback..."),e(Z5),i(he),N(!1),console.log(" Demo data loaded - keeping loading state active"),we.error(he)}finally{F?(s(!1),console.log(" Turning off loading - real contract data fetched successfully")):console.log(" Keeping loading state - no real contract data fetched yet")}},x=()=>{const I=ln.getCachedMarketplaceListings();if(console.log(" Debug: Current marketplace cache:",I),I){const F=L(I);console.log(" Debug: Cache contains real data:",F)}return I},j=()=>{console.log(" Debug: Clearing marketplace cache..."),ln.clearCache(),console.log(" Debug: Marketplace cache cleared"),N(!1),p(!1),M(!0)},E=()=>{const I=ln.getCachedMarketplaceListings();return I&&!L(I)?(console.log(" Clearing dummy cache data..."),ln.clearCache(),N(!1),p(!1),console.log(" Dummy cache data cleared"),!0):!1};Ae.useEffect(()=>{window.debugMarketplaceCache=x,window.clearMarketplaceCacheDebug=j,window.clearDummyCacheData=E},[]);const D=()=>{console.log(" Clearing marketplace cache after successful purchase..."),ln.clearCache(),M(!0),we.success("Purchase completed! Refreshing marketplace...")};if(n)return a.jsxs("div",{className:"relative min-h-screen h-screen w-full bg-white",children:[a.jsx("div",{className:"absolute inset-0 z-0",children:a.jsx(H5,{children:a.jsx(a.Fragment,{})})}),a.jsx("div",{className:"absolute inset-0 z-10 flex items-center justify-center",children:a.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"}),a.jsx("div",{className:"text-black text-xl font-medium",children:y?"Loading marketplace...":"Fetching contract data..."}),a.jsx("div",{className:"text-gray-600 text-sm",children:y?"Please wait":"Getting real asset data from blockchain"})]})})]});if(r)return a.jsx("div",{className:"min-h-screen h-screen w-full bg-white flex items-center justify-center",children:a.jsx(H5,{children:a.jsxs("div",{className:"flex flex-col items-center h-screen space-y-4 text-center max-w-md",children:[a.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center",children:a.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),a.jsx("div",{className:"text-black text-xl font-medium",children:"Connection Error"}),a.jsx("div",{className:"text-gray-600 text-sm",children:r}),a.jsxs("div",{className:"flex flex-col space-y-2",children:[r.includes("Wrong network")&&a.jsxs("button",{onClick:async()=>{try{const I=window.ethereum;if(I)try{await I.request({method:"wallet_switchEthereumChain",params:[{chainId:`0x${Et[Nt].chainId.toString(16)}`}]}),we.success("Switched to Flow Mainnet!"),i(""),V()}catch(F){F.code===4902&&(await I.request({method:"wallet_addEthereumChain",params:[{chainId:`0x${Et[Nt].chainId.toString(16)}`,chainName:Et[Nt].name,nativeCurrency:Et[Nt].nativeCurrency,rpcUrls:[Et[Nt].rpcUrl],blockExplorerUrls:[Et[Nt].blockExplorer]}]}),we.success("Flow Mainnet added to wallet!"),i(""),V())}}catch(I){console.error("Failed to switch network:",I),we.error("Failed to switch network. Please switch manually.")}},className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}),a.jsx("span",{children:"Switch to Flow Mainnet"})]}),a.jsxs("button",{onClick:()=>{const I=`${Et[Nt].blockExplorer}/address/${Tn}`;console.log(" Opening contract in explorer:",I),window.open(I,"_blank")},className:"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center justify-center space-x-2",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),a.jsx("span",{children:"Verify Contract on Explorer"})]}),a.jsx("button",{onClick:()=>{i(""),V()},className:"px-6 py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-colors",children:"Retry Connection"}),a.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Refresh Page"})]})]})})});t!=null&&t.filter(I=>{var O,k;const F=(k=(O=I.attributes)==null?void 0:O.find($=>$.trait_type==="Asset Type"))==null?void 0:k.value;return(F==null?void 0:F.toLowerCase())==="real estate"});const C=(t==null?void 0:t.filter(I=>{var O,k;const F=(k=(O=I.attributes)==null?void 0:O.find($=>$.trait_type==="Asset Type"))==null?void 0:k.value;return(F==null?void 0:F.toLowerCase())==="invoice"}))||[];return t!=null&&t.filter(I=>{var O,k;const F=(k=(O=I.attributes)==null?void 0:O.find($=>$.trait_type==="Asset Type"))==null?void 0:k.value;return(F==null?void 0:F.toLowerCase())==="commodity"}),t!=null&&t.filter(I=>{var O,k;const F=(k=(O=I.attributes)==null?void 0:O.find($=>$.trait_type==="Asset Type"))==null?void 0:k.value;return(F==null?void 0:F.toLowerCase())==="stocks"}),t!=null&&t.filter(I=>{var O,k;const F=(k=(O=I.attributes)==null?void 0:O.find($=>$.trait_type==="Asset Type"))==null?void 0:k.value;return(F==null?void 0:F.toLowerCase())==="carboncredit"}),a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-slate-50/30 to-gray-100",children:[a.jsx(CS,{}),a.jsx("header",{className:"backdrop-blur-lg bg-white/90 border-b border-gray-200/60 sticky top-0 z-40",children:a.jsx("div",{className:"container mx-auto px-6 py-4",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("div",{className:"flex items-center space-x-3 cursor-pointer group",onClick:()=>R("/"),children:a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-gray-800 to-black rounded-xl flex items-center justify-center shadow-lg group-hover:shadow-xl transition-all duration-300",children:a.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})})}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("button",{onClick:()=>R("/issuer",{state:{from:"/marketplace"}}),className:"flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white rounded-xl transition-all duration-300 shadow-md hover:shadow-lg",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),a.jsx("span",{className:"font-medium",children:"Register Asset"})]}),a.jsxs("button",{onClick:()=>R("/dashboard"),className:"flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-xl transition-all duration-300 shadow-md hover:shadow-lg",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),a.jsx("span",{className:"font-medium",children:"My Dashboard"})]})]})]})})}),r&&r.includes("demo")&&a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 px-6 py-4",children:a.jsx("div",{className:"container mx-auto",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-5 h-5 text-yellow-600",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-yellow-800 font-medium",children:"Demo Mode Active"}),a.jsx("p",{className:"text-yellow-700 text-sm",children:r})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{onClick:()=>{i(""),V()},className:"px-4 py-2 bg-yellow-600 hover:bg-yellow-700 text-white text-sm font-medium rounded-lg transition-colors duration-200 flex items-center space-x-2",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),a.jsx("span",{children:"Retry Live Data"})]}),a.jsx("button",{onClick:()=>i(""),className:"p-2 text-yellow-600 hover:text-yellow-800 transition-colors",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})})}),a.jsxs("div",{className:"container mx-auto px-6 pt-8 pb-12",children:[a.jsx(Hfe,{listings:t.slice(0,3),onSelectListing:l,onViewDetails:d,tokenPrice:u}),a.jsx("div",{className:"mt-16",children:a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"See All Listings"}),a.jsx("p",{className:"text-gray-600",children:"Explore our complete collection of tokenized real-world assets"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("button",{onClick:()=>M(!0),className:"px-4 py-2 text-gray-600 hover:text-gray-900 transition-colors flex items-center space-x-2",title:"Refresh listings",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),a.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]}),a.jsx("button",{className:"px-4 py-2 text-gray-600 hover:text-gray-900 transition-colors",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})})}),a.jsx("button",{className:"px-4 py-2 text-gray-600 hover:text-gray-900 transition-colors",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})})})]})]})}),a.jsx(zo,{defaultValue:"invoices",className:"w-full",children:a.jsx(Nn,{value:"invoices",children:a.jsx(Wfe,{listings:C,category:"Invoices",onSelectListing:l,onNavigateToTrading:B,tokenPrice:u,loading:n})})})]}),o&&a.jsx(Pfe,{asset:{tokenId:o.tokenId,name:o.name,description:o.description,price:o.price,amount:o.amount,image:o.image,seller:o.seller,metadata:o.metadata},onClose:()=>l(null),onSuccess:D,tokenPrice:u}),c&&a.jsx(m9,{listing:c,onClose:()=>d(null),onBuy:I=>{d(null),l(I)},onNavigateToTrading:B,tokenPrice:u})]})},Hfe=({listings:t,onSelectListing:e,onViewDetails:n,tokenPrice:s})=>{var c,d,u;const[r,i]=v.useState(0);v.useEffect(()=>{const h=setInterval(()=>{i(f=>(f+1)%t.length)},5e3);return()=>clearInterval(h)},[t.length]);const o=()=>{i(h=>(h+1)%t.length)},l=()=>{i(h=>(h-1+t.length)%t.length)};return t.length===0?null:a.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-br from-gray-900 via-gray-800 to-black shadow-2xl",children:[a.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_30%_20%,rgba(75,85,99,0.2),transparent_50%)]"}),a.jsxs("div",{className:"relative",children:[a.jsx(oA,{mode:"wait",children:a.jsxs(Qt.div,{initial:{opacity:0,x:300},animate:{opacity:1,x:0},exit:{opacity:0,x:-300},transition:{duration:.5,ease:"easeInOut"},className:"flex flex-col lg:flex-row",children:[a.jsxs("div",{className:"lg:w-1/2 relative",children:[a.jsx(Dd,{src:t[r].image,alt:t[r].name,className:"w-full h-64 lg:h-96 object-cover",assetType:((d=(c=t[r].attributes)==null?void 0:c.find(h=>h.trait_type==="Asset Type"))==null?void 0:d.value)||"Real Estate",tokenId:t[r].tokenId}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"}),a.jsx("div",{className:"absolute top-6 left-6",children:a.jsx("span",{className:"px-4 py-2 bg-gradient-to-r from-yellow-400 to-orange-500 text-black rounded-full text-sm font-bold shadow-lg",children:" FEATURED"})})]}),a.jsxs("div",{className:"lg:w-1/2 p-8 lg:p-12 text-white flex flex-col justify-center",children:[a.jsx("div",{className:"mb-4",children:a.jsx("span",{className:"px-3 py-1 bg-white/20 backdrop-blur-sm rounded-full text-sm font-medium",children:(u=t[r].attributes.find(h=>h.trait_type==="Asset Type"))==null?void 0:u.value})}),a.jsx("h3",{className:"text-3xl lg:text-4xl font-bold mb-4 leading-tight",children:t[r].name}),a.jsx("p",{className:"text-lg text-gray-100 mb-6 leading-relaxed",children:t[r].description}),a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"text-gray-200 text-sm",children:["Price per token (",(parseFloat(t[r].price)/Math.pow(10,18)).toFixed(4)," Flow)"]}),a.jsxs("div",{className:"text-yellow-400 text-sm mt-1 font-semibold",children:["Total Valuation: ",gT(t[r].price,t[r].totalSupply)," Flow"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-green-400 font-bold",children:["Token #",t[r].tokenId]}),a.jsxs("div",{className:"text-gray-200 text-sm",children:[t[r].amount," Available"]})]})]}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("button",{onClick:()=>n(t[r]),className:"flex-1 px-6 py-3 bg-white text-gray-900 rounded-xl hover:bg-gray-50 transition-all duration-300 font-semibold shadow-lg",children:"View Details"}),a.jsx("button",{onClick:()=>e(t[r]),className:"flex-1 px-6 py-3 bg-gradient-to-r from-gray-700 to-gray-800 text-white rounded-xl hover:from-gray-800 hover:to-gray-900 transition-all duration-300 font-semibold shadow-lg",children:"Invest Now"})]})]})]},r)}),a.jsx("button",{onClick:l,className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-12 h-12 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-white/30 transition-all duration-300",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),a.jsx("button",{onClick:o,className:"absolute right-4 top-1/2 transform -translate-y-1/2 w-12 h-12 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-white/30 transition-all duration-300",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),a.jsx("div",{className:"absolute bottom-6 left-1/2 transform -translate-x-1/2 flex space-x-2",children:t.map((h,f)=>a.jsx("button",{onClick:()=>i(f),className:`w-3 h-3 rounded-full transition-all duration-300 ${f===r?"bg-white shadow-lg":"bg-white/40 hover:bg-white/60"}`},f))})]})]})},Wfe=({listings:t,category:e,onSelectListing:n,onNavigateToTrading:s,tokenPrice:r,loading:i=!1})=>{const[o,l]=v.useState(null);return i?a.jsxs("div",{className:"text-center py-16",children:[a.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-100 to-blue-200 rounded-full flex items-center justify-center mx-auto mb-4 animate-pulse",children:a.jsx("svg",{className:"w-12 h-12 text-blue-500 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),a.jsxs("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:["Loading ",e,"..."]}),a.jsx("p",{className:"text-gray-600",children:"Please wait while we fetch the latest listings from the blockchain."})]}):t.length===0?a.jsxs("div",{className:"text-center py-16",children:[a.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-gray-100 to-gray-200 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})}),a.jsxs("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:["No ",e," Available"]}),a.jsx("p",{className:"text-gray-600",children:"Check back later for new listings in this category."})]}):a.jsxs(a.Fragment,{children:[a.jsx(oA,{children:o&&a.jsx(m9,{listing:o,onClose:()=>l(null),onBuy:c=>n(c),onNavigateToTrading:s,tokenPrice:r})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((c,d)=>{var u,h;return a.jsxs(Qt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:d*.1},layoutId:`listing-${c.tokenId}`,onClick:()=>l(c),className:"group bg-white/90 backdrop-blur-sm rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 cursor-pointer border border-gray-200/50 hover:border-gray-300/50 overflow-hidden hover:scale-[1.02] min-h-[520px] flex flex-col",children:[a.jsxs("div",{className:"relative overflow-hidden",children:[a.jsx(Dd,{src:c.image,alt:c.name,className:"w-full h-48 object-cover group-hover:scale-110 transition-transform duration-700",assetType:((h=(u=c.attributes)==null?void 0:u.find(f=>f.trait_type==="Asset Type"))==null?void 0:h.value)||"Real Estate",tokenId:c.tokenId}),a.jsx("div",{className:"absolute top-4 left-4",children:a.jsx("span",{className:"px-3 py-1 bg-white/90 backdrop-blur-sm rounded-full text-xs font-medium text-gray-700 border border-gray-200/50",children:(()=>{var m,g,p;let f="Investment Asset";if(c.attributes&&Array.isArray(c.attributes)){const w=c.attributes.find(b=>b.trait_type==="Asset Type"||b.trait_type==="Category"||b.trait_type==="Type");w!=null&&w.value&&w.value.trim()&&w.value.trim()!=="Unknown"&&(f=w.value.trim())}if((f==="Investment Asset"||f==="Unknown")&&(c.type&&c.type.trim()&&c.type.trim()!=="Unknown"?f=c.type.trim():c.category&&c.category.trim()&&c.category.trim()!=="Unknown"&&(f=c.category.trim())),(f==="Investment Asset"||f==="Unknown")&&c.metadata){const w=c.metadata.assetType||((m=c.metadata.assetDetails)==null?void 0:m.assetType)||((g=c.metadata.assetDetails)==null?void 0:g.category);w&&w.trim()&&w.trim()!=="Unknown"&&(f=w.trim())}return console.log(` Token ${c.tokenId} asset type resolution:`,{attributes:c.attributes,listingType:c.type,listingCategory:c.category,metadataAssetType:(p=c.metadata)==null?void 0:p.assetType,finalAssetType:f}),f})()})}),a.jsx("div",{className:"absolute top-4 right-4",children:a.jsxs("span",{className:"px-2 py-1 bg-blue-500/90 backdrop-blur-sm rounded-full text-xs font-medium text-white border border-blue-400/50",children:["#",c.tokenId]})})]}),a.jsxs("div",{className:"p-6 flex-grow flex flex-col",children:[a.jsx("h3",{className:"font-bold text-gray-900 mb-2 group-hover:text-gray-700 transition-colors line-clamp-1",children:c.name}),a.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2 leading-relaxed",children:c.description}),a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-xs text-gray-500",children:["Price per token (",(parseFloat(c.price)/Math.pow(10,18)).toFixed(4)," Flow)"]}),a.jsxs("p",{className:"text-sm font-semibold text-blue-600 mt-1",children:["Total Valuation: ",gT(c.price,c.totalSupply)," Flow"]})]}),a.jsx("div",{className:"text-right",children:a.jsx("div",{className:"space-y-1",children:a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-medium text-green-600",children:[c.amount," Available"]}),a.jsx("p",{className:"text-xs text-gray-500",children:"For Purchase"})]})})})]}),a.jsxs("div",{className:"flex items-center justify-between mt-auto",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),a.jsx("span",{className:"text-xs text-gray-600",children:"Available Now"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("button",{className:"px-4 py-2 bg-gradient-to-r from-gray-800 to-black text-white rounded-lg hover:from-gray-900 hover:to-gray-800 transition-all duration-300 shadow-md hover:shadow-lg text-sm font-medium",onClick:f=>{f.stopPropagation(),s(c)},children:[a.jsx(cs,{className:"w-4 h-4 mr-1 inline"}),"Trade P2P"]}),a.jsx("button",{className:"px-4 py-2 bg-gradient-to-r from-gray-800 to-black text-white rounded-xl hover:from-gray-900 hover:to-gray-800 transition-all duration-300 shadow-md hover:shadow-lg text-sm font-medium",onClick:f=>{f.stopPropagation(),n(c)},children:"Buy Asset"})]})]})]})]},c.tokenId)})})]})},m9=({listing:t,onClose:e,onBuy:n,onNavigateToTrading:s,tokenPrice:r})=>{var i,o,l,c,d,u;return a.jsx(Qt.div,{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:a.jsxs(Qt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-3xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[a.jsx("button",{onClick:e,className:"absolute top-6 right-6 z-10 p-2 rounded-full bg-white/90 backdrop-blur-sm shadow-lg hover:shadow-xl transition-all duration-300 border border-gray-200/50",children:a.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),a.jsxs("div",{className:"flex flex-col lg:flex-row h-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"lg:w-1/2 relative",children:[a.jsx(Dd,{src:t.image,alt:t.name,className:"w-full h-64 lg:h-full object-cover",assetType:((o=(i=t.attributes)==null?void 0:i.find(h=>h.trait_type==="Asset Type"))==null?void 0:o.value)||"Real Estate",tokenId:t.tokenId}),a.jsx("div",{className:"absolute bottom-6 left-6",children:a.jsx("span",{className:"px-4 py-2 bg-white/90 backdrop-blur-sm rounded-full text-sm font-medium text-gray-700 border border-gray-200/50",children:((c=(l=t.attributes)==null?void 0:l.find(h=>h.trait_type==="Asset Type"))==null?void 0:c.value)||t.type||t.category||"Unknown"})})]}),a.jsxs("div",{className:"lg:w-1/2 p-8 flex flex-col justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:t.name}),a.jsxs("div",{className:"mb-6",children:[a.jsx("div",{className:"flex items-baseline space-x-4 mb-2",children:a.jsx("span",{className:"text-lg text-gray-500",children:"Price per token"})}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),a.jsx("span",{children:"Available Now"})]}),a.jsx("span",{children:""}),a.jsxs("span",{children:[(parseFloat(t.price)/Math.pow(10,18)).toFixed(4)," Flow per token"]}),a.jsx("span",{children:""}),a.jsxs("span",{children:["Seller: ",t.seller.slice(0,6),"...",t.seller.slice(-4)]})]}),a.jsxs("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[a.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Total Asset Valuation"}),a.jsxs("p",{className:"text-2xl font-bold text-blue-800",children:[gT(t.price,t.totalSupply)," Flow"]}),a.jsxs("p",{className:"text-xs text-blue-500",children:["(",t.totalSupply.toLocaleString()," tokens  ",(parseFloat(t.price)/Math.pow(10,18)).toFixed(4)," Flow)"]})]})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Description"}),a.jsx("p",{className:"text-gray-600 leading-relaxed",children:t.description})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Asset Details"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 border border-blue-200/50",children:[a.jsx("div",{className:"text-blue-600 text-sm font-medium",children:"Platform ID"}),a.jsxs("div",{className:"text-blue-900 font-semibold mt-1",children:["#",t.tokenId]})]}),a.jsxs("div",{className:"bg-green-50 rounded-xl p-4 border border-green-200/50",children:[a.jsx("div",{className:"text-green-600 text-sm font-medium",children:"Available Amount"}),a.jsxs("div",{className:"text-green-900 font-semibold mt-1",children:[t.amount," tokens"]})]}),((d=t.metadata)==null?void 0:d.assetDetails)&&(()=>{var m,g;const h=(g=(m=t.attributes)==null?void 0:m.find(p=>p.trait_type==="Asset Type"))==null?void 0:g.value,f=t.metadata.assetDetails;return h==="Real Estate"?a.jsxs(a.Fragment,{children:[f.size&&a.jsxs("div",{className:"bg-purple-50 rounded-xl p-4 border border-purple-200/50",children:[a.jsx("div",{className:"text-purple-600 text-sm font-medium",children:"Size"}),a.jsxs("div",{className:"text-purple-900 font-semibold mt-1",children:[f.size," sq ft"]})]}),f.bedrooms&&a.jsxs("div",{className:"bg-purple-50 rounded-xl p-4 border border-purple-200/50",children:[a.jsx("div",{className:"text-purple-600 text-sm font-medium",children:"Bedrooms"}),a.jsx("div",{className:"text-purple-900 font-semibold mt-1",children:f.bedrooms})]}),f.location&&a.jsxs("div",{className:"bg-purple-50 rounded-xl p-4 border border-purple-200/50 sm:col-span-2",children:[a.jsx("div",{className:"text-purple-600 text-sm font-medium",children:"Location"}),a.jsx("div",{className:"text-purple-900 font-semibold mt-1",children:f.location})]})]}):h==="Invoice"?a.jsxs(a.Fragment,{children:[f.issuer&&a.jsxs("div",{className:"bg-orange-50 rounded-xl p-4 border border-orange-200/50",children:[a.jsx("div",{className:"text-orange-600 text-sm font-medium",children:"Issuer Company"}),a.jsx("div",{className:"text-orange-900 font-semibold mt-1",children:f.issuer})]}),f.dueDate&&a.jsxs("div",{className:"bg-orange-50 rounded-xl p-4 border border-orange-200/50",children:[a.jsx("div",{className:"text-orange-600 text-sm font-medium",children:"Due Date"}),a.jsx("div",{className:"text-orange-900 font-semibold mt-1",children:f.dueDate})]}),f.riskRating&&a.jsxs("div",{className:"bg-orange-50 rounded-xl p-4 border border-orange-200/50",children:[a.jsx("div",{className:"text-orange-600 text-sm font-medium",children:"Risk Rating"}),a.jsx("div",{className:"text-orange-900 font-semibold mt-1",children:f.riskRating})]})]}):h==="Commodity"?a.jsxs(a.Fragment,{children:[f.weight&&a.jsxs("div",{className:"bg-yellow-50 rounded-xl p-4 border border-yellow-200/50",children:[a.jsx("div",{className:"text-yellow-600 text-sm font-medium",children:"Weight"}),a.jsx("div",{className:"text-yellow-900 font-semibold mt-1",children:f.weight})]}),f.purity&&a.jsxs("div",{className:"bg-yellow-50 rounded-xl p-4 border border-yellow-200/50",children:[a.jsx("div",{className:"text-yellow-600 text-sm font-medium",children:"Purity"}),a.jsx("div",{className:"text-yellow-900 font-semibold mt-1",children:f.purity})]}),f.storage&&a.jsxs("div",{className:"bg-yellow-50 rounded-xl p-4 border border-yellow-200/50 sm:col-span-2",children:[a.jsx("div",{className:"text-yellow-600 text-sm font-medium",children:"Storage Location"}),a.jsx("div",{className:"text-yellow-900 font-semibold mt-1",children:f.storage})]})]}):h==="Stocks"?a.jsxs(a.Fragment,{children:[f.symbol&&a.jsxs("div",{className:"bg-indigo-50 rounded-xl p-4 border border-indigo-200/50",children:[a.jsx("div",{className:"text-indigo-600 text-sm font-medium",children:"Stock Symbol"}),a.jsx("div",{className:"text-indigo-900 font-semibold mt-1",children:f.symbol})]}),f.exchange&&a.jsxs("div",{className:"bg-indigo-50 rounded-xl p-4 border border-indigo-200/50",children:[a.jsx("div",{className:"text-indigo-600 text-sm font-medium",children:"Exchange"}),a.jsx("div",{className:"text-indigo-900 font-semibold mt-1",children:f.exchange})]}),f.sector&&a.jsxs("div",{className:"bg-indigo-50 rounded-xl p-4 border border-indigo-200/50",children:[a.jsx("div",{className:"text-indigo-600 text-sm font-medium",children:"Sector"}),a.jsx("div",{className:"text-indigo-900 font-semibold mt-1",children:f.sector})]})]}):null})(),(u=t.attributes)==null?void 0:u.map(h=>a.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200/50",children:[a.jsx("div",{className:"text-gray-500 text-sm font-medium",children:h.trait_type}),a.jsx("div",{className:"text-gray-900 font-semibold mt-1",children:h.value})]},h.trait_type))]})]})]}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("button",{onClick:e,className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors font-medium",children:"Close"}),a.jsxs("button",{className:"px-3 py-1 bg-gradient-to-r from-gray-800 to-black text-white rounded-lg hover:from-gray-900 hover:to-gray-800 transition-all duration-300 shadow-md hover:shadow-lg text-xs font-medium",onClick:h=>{h.stopPropagation(),s(t)},children:[a.jsx(cs,{className:"w-3 h-3 mr-1 inline"}),"Trade"]}),a.jsx("button",{className:"flex-1 px-6 py-3 bg-gradient-to-r from-gray-800 to-black text-white rounded-xl hover:from-gray-900 hover:to-gray-800 transition-all duration-300 shadow-lg hover:shadow-xl font-medium",onClick:()=>n(t),children:"Buy Asset"})]})]})]})]})})},pe=v.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:ut("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));pe.displayName="Card";const yt=v.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:ut("flex flex-col space-y-1.5 p-6",t),...e}));yt.displayName="CardHeader";const vt=v.forwardRef(({className:t,...e},n)=>a.jsx("h3",{ref:n,className:ut("text-2xl font-semibold leading-none tracking-tight",t),...e}));vt.displayName="CardTitle";const ls=v.forwardRef(({className:t,...e},n)=>a.jsx("p",{ref:n,className:ut("text-sm text-muted-foreground",t),...e}));ls.displayName="CardDescription";const ge=v.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:ut("p-6 pt-0",t),...e}));ge.displayName="CardContent";const p9=v.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:ut("flex items-center p-6 pt-0",t),...e}));p9.displayName="CardFooter";const Kfe=Dv("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ue({className:t,variant:e,...n}){return a.jsx("div",{className:ut(Kfe({variant:e}),t),...n})}var xT="Avatar",[qfe,_je]=Qo(xT),[Gfe,g9]=qfe(xT),x9=v.forwardRef((t,e)=>{const{__scopeAvatar:n,...s}=t,[r,i]=v.useState("idle");return a.jsx(Gfe,{scope:n,imageLoadingStatus:r,onImageLoadingStatusChange:i,children:a.jsx(gt.span,{...s,ref:e})})});x9.displayName=xT;var y9="AvatarImage",v9=v.forwardRef((t,e)=>{const{__scopeAvatar:n,src:s,onLoadingStatusChange:r=()=>{},...i}=t,o=g9(y9,n),l=Yfe(s,i.referrerPolicy),c=dr(d=>{r(d),o.onImageLoadingStatusChange(d)});return fs(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(gt.img,{...i,ref:e,src:s}):null});v9.displayName=y9;var b9="AvatarFallback",w9=v.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:s,...r}=t,i=g9(b9,n),[o,l]=v.useState(s===void 0);return v.useEffect(()=>{if(s!==void 0){const c=window.setTimeout(()=>l(!0),s);return()=>window.clearTimeout(c)}},[s]),o&&i.imageLoadingStatus!=="loaded"?a.jsx(gt.span,{...r,ref:e}):null});w9.displayName=b9;function Yfe(t,e){const[n,s]=v.useState("idle");return fs(()=>{if(!t){s("error");return}let r=!0;const i=new window.Image,o=l=>()=>{r&&s(l)};return s("loading"),i.onload=o("loaded"),i.onerror=o("error"),i.src=t,e&&(i.referrerPolicy=e),()=>{r=!1}},[t,e]),n}var N9=x9,k9=v9,j9=w9;const Qu=v.forwardRef(({className:t,...e},n)=>a.jsx(N9,{ref:n,className:ut("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Qu.displayName=N9.displayName;const S9=v.forwardRef(({className:t,...e},n)=>a.jsx(k9,{ref:n,className:ut("aspect-square h-full w-full",t),...e}));S9.displayName=k9.displayName;const Ju=v.forwardRef(({className:t,...e},n)=>a.jsx(j9,{ref:n,className:ut("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Ju.displayName=j9.displayName;var x1="focusScope.autoFocusOnMount",y1="focusScope.autoFocusOnUnmount",tR={bubbles:!1,cancelable:!0},Xfe="FocusScope",yT=v.forwardRef((t,e)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:r,onUnmountAutoFocus:i,...o}=t,[l,c]=v.useState(null),d=dr(r),u=dr(i),h=v.useRef(null),f=on(e,p=>c(p)),m=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(s){let p=function(N){if(m.paused||!l)return;const A=N.target;l.contains(A)?h.current=A:hl(h.current,{select:!0})},w=function(N){if(m.paused||!l)return;const A=N.relatedTarget;A!==null&&(l.contains(A)||hl(h.current,{select:!0}))},b=function(N){if(document.activeElement===document.body)for(const S of N)S.removedNodes.length>0&&hl(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",w);const y=new MutationObserver(b);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",w),y.disconnect()}}},[s,l,m.paused]),v.useEffect(()=>{if(l){sR.add(m);const p=document.activeElement;if(!l.contains(p)){const b=new CustomEvent(x1,tR);l.addEventListener(x1,d),l.dispatchEvent(b),b.defaultPrevented||(Qfe(nme(A9(l)),{select:!0}),document.activeElement===p&&hl(l))}return()=>{l.removeEventListener(x1,d),setTimeout(()=>{const b=new CustomEvent(y1,tR);l.addEventListener(y1,u),l.dispatchEvent(b),b.defaultPrevented||hl(p??document.body,{select:!0}),l.removeEventListener(y1,u),sR.remove(m)},0)}}},[l,d,u,m]);const g=v.useCallback(p=>{if(!n&&!s||m.paused)return;const w=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,b=document.activeElement;if(w&&b){const y=p.currentTarget,[N,A]=Jfe(y);N&&A?!p.shiftKey&&b===A?(p.preventDefault(),n&&hl(N,{select:!0})):p.shiftKey&&b===N&&(p.preventDefault(),n&&hl(A,{select:!0})):b===y&&p.preventDefault()}},[n,s,m.paused]);return a.jsx(gt.div,{tabIndex:-1,...o,ref:f,onKeyDown:g})});yT.displayName=Xfe;function Qfe(t,{select:e=!1}={}){const n=document.activeElement;for(const s of t)if(hl(s,{select:e}),document.activeElement!==n)return}function Jfe(t){const e=A9(t),n=nR(e,t),s=nR(e.reverse(),t);return[n,s]}function A9(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const r=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||r?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function nR(t,e){for(const n of t)if(!Zfe(n,{upTo:e}))return n}function Zfe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function eme(t){return t instanceof HTMLInputElement&&"select"in t}function hl(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&eme(t)&&e&&t.select()}}var sR=tme();function tme(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=rR(t,e),t.unshift(e)},remove(e){var n;t=rR(t,e),(n=t[0])==null||n.resume()}}}function rR(t,e){const n=[...t],s=n.indexOf(e);return s!==-1&&n.splice(s,1),n}function nme(t){return t.filter(e=>e.tagName!=="A")}var v1=0;function T9(){v.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??iR()),document.body.insertAdjacentElement("beforeend",t[1]??iR()),v1++,()=>{v1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),v1--}},[])}function iR(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var _a=function(){return _a=Object.assign||function(e){for(var n,s=1,r=arguments.length;s<r;s++){n=arguments[s];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_a.apply(this,arguments)};function C9(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n}function sme(t,e,n){if(n||arguments.length===2)for(var s=0,r=e.length,i;s<r;s++)(i||!(s in e))&&(i||(i=Array.prototype.slice.call(e,0,s)),i[s]=e[s]);return t.concat(i||Array.prototype.slice.call(e))}var _x="right-scroll-bar-position",Rx="width-before-scroll-bar",rme="with-scroll-bars-hidden",ime="--removed-body-scroll-bar-size";function b1(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function ame(t,e){var n=v.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(s){var r=n.value;r!==s&&(n.value=s,n.callback(s,r))}}}})[0];return n.callback=e,n.facade}var ome=typeof window<"u"?v.useLayoutEffect:v.useEffect,aR=new WeakMap;function lme(t,e){var n=ame(null,function(s){return t.forEach(function(r){return b1(r,s)})});return ome(function(){var s=aR.get(n);if(s){var r=new Set(s),i=new Set(t),o=n.current;r.forEach(function(l){i.has(l)||b1(l,null)}),i.forEach(function(l){r.has(l)||b1(l,o)})}aR.set(n,t)},[t]),n}function cme(t){return t}function dme(t,e){e===void 0&&(e=cme);var n=[],s=!1,r={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,s);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(s=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){s=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),n}}}};return r}function ume(t){t===void 0&&(t={});var e=dme(null);return e.options=_a({async:!0,ssr:!1},t),e}var E9=function(t){var e=t.sideCar,n=C9(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=e.read();if(!s)throw new Error("Sidecar medium not found");return v.createElement(s,_a({},n))};E9.isSideCarExport=!0;function hme(t,e){return t.useMedium(e),E9}var I9=ume(),w1=function(){},xb=v.forwardRef(function(t,e){var n=v.useRef(null),s=v.useState({onScrollCapture:w1,onWheelCapture:w1,onTouchMoveCapture:w1}),r=s[0],i=s[1],o=t.forwardProps,l=t.children,c=t.className,d=t.removeScrollBar,u=t.enabled,h=t.shards,f=t.sideCar,m=t.noIsolation,g=t.inert,p=t.allowPinchZoom,w=t.as,b=w===void 0?"div":w,y=t.gapMode,N=C9(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=f,S=lme([n,e]),T=_a(_a({},N),r);return v.createElement(v.Fragment,null,u&&v.createElement(A,{sideCar:I9,removeScrollBar:d,shards:h,noIsolation:m,inert:g,setCallbacks:i,allowPinchZoom:!!p,lockRef:n,gapMode:y}),o?v.cloneElement(v.Children.only(l),_a(_a({},T),{ref:S})):v.createElement(b,_a({},T,{className:c,ref:S}),l))});xb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};xb.classNames={fullWidth:Rx,zeroRight:_x};var fme=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function mme(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=fme();return e&&t.setAttribute("nonce",e),t}function pme(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function gme(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var xme=function(){var t=0,e=null;return{add:function(n){t==0&&(e=mme())&&(pme(e,n),gme(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},yme=function(){var t=xme();return function(e,n){v.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},P9=function(){var t=yme(),e=function(n){var s=n.styles,r=n.dynamic;return t(s,r),null};return e},vme={left:0,top:0,right:0,gap:0},N1=function(t){return parseInt(t||"",10)||0},bme=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],s=e[t==="padding"?"paddingTop":"marginTop"],r=e[t==="padding"?"paddingRight":"marginRight"];return[N1(n),N1(s),N1(r)]},wme=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return vme;var e=bme(t),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,s-n+e[2]-e[0])}},Nme=P9(),Zu="data-scroll-locked",kme=function(t,e,n,s){var r=t.left,i=t.top,o=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(rme,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(Zu,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(_x,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(Rx,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(_x," .").concat(_x,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Rx," .").concat(Rx,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Zu,`] {
    `).concat(ime,": ").concat(l,`px;
  }
`)},oR=function(){var t=parseInt(document.body.getAttribute(Zu)||"0",10);return isFinite(t)?t:0},jme=function(){v.useEffect(function(){return document.body.setAttribute(Zu,(oR()+1).toString()),function(){var t=oR()-1;t<=0?document.body.removeAttribute(Zu):document.body.setAttribute(Zu,t.toString())}},[])},Sme=function(t){var e=t.noRelative,n=t.noImportant,s=t.gapMode,r=s===void 0?"margin":s;jme();var i=v.useMemo(function(){return wme(r)},[r]);return v.createElement(Nme,{styles:kme(i,!e,r,n?"":"!important")})},xk=!1;if(typeof window<"u")try{var N0=Object.defineProperty({},"passive",{get:function(){return xk=!0,!0}});window.addEventListener("test",N0,N0),window.removeEventListener("test",N0,N0)}catch{xk=!1}var ru=xk?{passive:!1}:!1,Ame=function(t){return t.tagName==="TEXTAREA"},_9=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Ame(t)&&n[e]==="visible")},Tme=function(t){return _9(t,"overflowY")},Cme=function(t){return _9(t,"overflowX")},lR=function(t,e){var n=e.ownerDocument,s=e;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var r=R9(t,s);if(r){var i=M9(t,s),o=i[1],l=i[2];if(o>l)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},Eme=function(t){var e=t.scrollTop,n=t.scrollHeight,s=t.clientHeight;return[e,n,s]},Ime=function(t){var e=t.scrollLeft,n=t.scrollWidth,s=t.clientWidth;return[e,n,s]},R9=function(t,e){return t==="v"?Tme(e):Cme(e)},M9=function(t,e){return t==="v"?Eme(e):Ime(e)},Pme=function(t,e){return t==="h"&&e==="rtl"?-1:1},_me=function(t,e,n,s,r){var i=Pme(t,window.getComputedStyle(e).direction),o=i*s,l=n.target,c=e.contains(l),d=!1,u=o>0,h=0,f=0;do{var m=M9(t,l),g=m[0],p=m[1],w=m[2],b=p-w-i*g;(g||b)&&R9(t,l)&&(h+=b,f+=g),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(u&&(Math.abs(h)<1||!r)||!u&&(Math.abs(f)<1||!r))&&(d=!0),d},k0=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},cR=function(t){return[t.deltaX,t.deltaY]},dR=function(t){return t&&"current"in t?t.current:t},Rme=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Mme=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Ome=0,iu=[];function Dme(t){var e=v.useRef([]),n=v.useRef([0,0]),s=v.useRef(),r=v.useState(Ome++)[0],i=v.useState(P9)[0],o=v.useRef(t);v.useEffect(function(){o.current=t},[t]),v.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(r));var p=sme([t.lockRef.current],(t.shards||[]).map(dR),!0).filter(Boolean);return p.forEach(function(w){return w.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),p.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(r))})}}},[t.inert,t.lockRef.current,t.shards]);var l=v.useCallback(function(p,w){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var b=k0(p),y=n.current,N="deltaX"in p?p.deltaX:y[0]-b[0],A="deltaY"in p?p.deltaY:y[1]-b[1],S,T=p.target,_=Math.abs(N)>Math.abs(A)?"h":"v";if("touches"in p&&_==="h"&&T.type==="range")return!1;var R=lR(_,T);if(!R)return!0;if(R?S=_:(S=_==="v"?"h":"v",R=lR(_,T)),!R)return!1;if(!s.current&&"changedTouches"in p&&(N||A)&&(s.current=S),!S)return!0;var B=s.current||S;return _me(B,w,p,B==="h"?N:A,!0)},[]),c=v.useCallback(function(p){var w=p;if(!(!iu.length||iu[iu.length-1]!==i)){var b="deltaY"in w?cR(w):k0(w),y=e.current.filter(function(S){return S.name===w.type&&(S.target===w.target||w.target===S.shadowParent)&&Rme(S.delta,b)})[0];if(y&&y.should){w.cancelable&&w.preventDefault();return}if(!y){var N=(o.current.shards||[]).map(dR).filter(Boolean).filter(function(S){return S.contains(w.target)}),A=N.length>0?l(w,N[0]):!o.current.noIsolation;A&&w.cancelable&&w.preventDefault()}}},[]),d=v.useCallback(function(p,w,b,y){var N={name:p,delta:w,target:b,should:y,shadowParent:$me(b)};e.current.push(N),setTimeout(function(){e.current=e.current.filter(function(A){return A!==N})},1)},[]),u=v.useCallback(function(p){n.current=k0(p),s.current=void 0},[]),h=v.useCallback(function(p){d(p.type,cR(p),p.target,l(p,t.lockRef.current))},[]),f=v.useCallback(function(p){d(p.type,k0(p),p.target,l(p,t.lockRef.current))},[]);v.useEffect(function(){return iu.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,ru),document.addEventListener("touchmove",c,ru),document.addEventListener("touchstart",u,ru),function(){iu=iu.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,ru),document.removeEventListener("touchmove",c,ru),document.removeEventListener("touchstart",u,ru)}},[]);var m=t.removeScrollBar,g=t.inert;return v.createElement(v.Fragment,null,g?v.createElement(i,{styles:Mme(r)}):null,m?v.createElement(Sme,{gapMode:t.gapMode}):null)}function $me(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Fme=hme(I9,Dme);var vT=v.forwardRef(function(t,e){return v.createElement(xb,_a({},t,{ref:e,sideCar:Fme}))});vT.classNames=xb.classNames;var Lme=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},au=new WeakMap,j0=new WeakMap,S0={},k1=0,O9=function(t){return t&&(t.host||O9(t.parentNode))},Bme=function(t,e){return e.map(function(n){if(t.contains(n))return n;var s=O9(n);return s&&t.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Ume=function(t,e,n,s){var r=Bme(e,Array.isArray(t)?t:[t]);S0[n]||(S0[n]=new WeakMap);var i=S0[n],o=[],l=new Set,c=new Set(r),d=function(h){!h||l.has(h)||(l.add(h),d(h.parentNode))};r.forEach(d);var u=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))u(f);else try{var m=f.getAttribute(s),g=m!==null&&m!=="false",p=(au.get(f)||0)+1,w=(i.get(f)||0)+1;au.set(f,p),i.set(f,w),o.push(f),p===1&&g&&j0.set(f,!0),w===1&&f.setAttribute(n,"true"),g||f.setAttribute(s,"true")}catch(b){console.error("aria-hidden: cannot operate on ",f,b)}})};return u(e),l.clear(),k1++,function(){o.forEach(function(h){var f=au.get(h)-1,m=i.get(h)-1;au.set(h,f),i.set(h,m),f||(j0.has(h)||h.removeAttribute(s),j0.delete(h)),m||h.removeAttribute(n)}),k1--,k1||(au=new WeakMap,au=new WeakMap,j0=new WeakMap,S0={})}},D9=function(t,e,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(t)?t:[t]),r=Lme(t);return r?(s.push.apply(s,Array.from(r.querySelectorAll("[aria-live]"))),Ume(s,r,n,"aria-hidden")):function(){return null}},bT="Dialog",[$9,Rje]=Qo(bT),[Vme,ha]=$9(bT),F9=t=>{const{__scopeDialog:e,children:n,open:s,defaultOpen:r,onOpenChange:i,modal:o=!0}=t,l=v.useRef(null),c=v.useRef(null),[d=!1,u]=qa({prop:s,defaultProp:r,onChange:i});return a.jsx(Vme,{scope:e,triggerRef:l,contentRef:c,contentId:Da(),titleId:Da(),descriptionId:Da(),open:d,onOpenChange:u,onOpenToggle:v.useCallback(()=>u(h=>!h),[u]),modal:o,children:n})};F9.displayName=bT;var L9="DialogTrigger",zme=v.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=ha(L9,n),i=on(e,r.triggerRef);return a.jsx(gt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":kT(r.open),...s,ref:i,onClick:mt(t.onClick,r.onOpenToggle)})});zme.displayName=L9;var wT="DialogPortal",[Hme,B9]=$9(wT,{forceMount:void 0}),U9=t=>{const{__scopeDialog:e,forceMount:n,children:s,container:r}=t,i=ha(wT,e);return a.jsx(Hme,{scope:e,forceMount:n,children:v.Children.map(s,o=>a.jsx(vc,{present:n||i.open,children:a.jsx(Rv,{asChild:!0,container:r,children:o})}))})};U9.displayName=wT;var Xy="DialogOverlay",V9=v.forwardRef((t,e)=>{const n=B9(Xy,t.__scopeDialog),{forceMount:s=n.forceMount,...r}=t,i=ha(Xy,t.__scopeDialog);return i.modal?a.jsx(vc,{present:s||i.open,children:a.jsx(Wme,{...r,ref:e})}):null});V9.displayName=Xy;var Wme=v.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=ha(Xy,n);return a.jsx(vT,{as:Cd,allowPinchZoom:!0,shards:[r.contentRef],children:a.jsx(gt.div,{"data-state":kT(r.open),...s,ref:e,style:{pointerEvents:"auto",...s.style}})})}),$d="DialogContent",z9=v.forwardRef((t,e)=>{const n=B9($d,t.__scopeDialog),{forceMount:s=n.forceMount,...r}=t,i=ha($d,t.__scopeDialog);return a.jsx(vc,{present:s||i.open,children:i.modal?a.jsx(Kme,{...r,ref:e}):a.jsx(qme,{...r,ref:e})})});z9.displayName=$d;var Kme=v.forwardRef((t,e)=>{const n=ha($d,t.__scopeDialog),s=v.useRef(null),r=on(e,n.contentRef,s);return v.useEffect(()=>{const i=s.current;if(i)return D9(i)},[]),a.jsx(H9,{...t,ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:mt(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:mt(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:mt(t.onFocusOutside,i=>i.preventDefault())})}),qme=v.forwardRef((t,e)=>{const n=ha($d,t.__scopeDialog),s=v.useRef(!1),r=v.useRef(!1);return a.jsx(H9,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,r.current=!1},onInteractOutside:i=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&r.current&&i.preventDefault()}})}),H9=v.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:r,onCloseAutoFocus:i,...o}=t,l=ha($d,n),c=v.useRef(null),d=on(e,c);return T9(),a.jsxs(a.Fragment,{children:[a.jsx(yT,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:r,onUnmountAutoFocus:i,children:a.jsx(pg,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":kT(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(Gme,{titleId:l.titleId}),a.jsx(Xme,{contentRef:c,descriptionId:l.descriptionId})]})]})}),NT="DialogTitle",W9=v.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=ha(NT,n);return a.jsx(gt.h2,{id:r.titleId,...s,ref:e})});W9.displayName=NT;var K9="DialogDescription",q9=v.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=ha(K9,n);return a.jsx(gt.p,{id:r.descriptionId,...s,ref:e})});q9.displayName=K9;var G9="DialogClose",Y9=v.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=ha(G9,n);return a.jsx(gt.button,{type:"button",...s,ref:e,onClick:mt(t.onClick,()=>r.onOpenChange(!1))})});Y9.displayName=G9;function kT(t){return t?"open":"closed"}var X9="DialogTitleWarning",[Mje,Q9]=yK(X9,{contentName:$d,titleName:NT,docsSlug:"dialog"}),Gme=({titleId:t})=>{const e=Q9(X9),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return v.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Yme="DialogDescriptionWarning",Xme=({contentRef:t,descriptionId:e})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Q9(Yme).contentName}}.`;return v.useEffect(()=>{var i;const r=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&r&&(document.getElementById(e)||console.warn(s))},[s,t,e]),null},Qme=F9,Jme=U9,J9=V9,Z9=z9,e7=W9,t7=q9,Zme=Y9;const ir=Qme,epe=Jme,n7=v.forwardRef(({className:t,...e},n)=>a.jsx(J9,{ref:n,className:ut("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));n7.displayName=J9.displayName;const Vs=v.forwardRef(({className:t,children:e,...n},s)=>a.jsxs(epe,{children:[a.jsx(n7,{}),a.jsxs(Z9,{ref:s,className:ut("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,a.jsxs(Zme,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx($v,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Vs.displayName=Z9.displayName;const zs=({className:t,...e})=>a.jsx("div",{className:ut("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});zs.displayName="DialogHeader";const Nl=({className:t,...e})=>a.jsx("div",{className:ut("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Nl.displayName="DialogFooter";const Hs=v.forwardRef(({className:t,...e},n)=>a.jsx(e7,{ref:n,className:ut("text-lg font-semibold leading-none tracking-tight",t),...e}));Hs.displayName=e7.displayName;const Ra=v.forwardRef(({className:t,...e},n)=>a.jsx(t7,{ref:n,className:ut("text-sm text-muted-foreground",t),...e}));Ra.displayName=t7.displayName;const Gt=v.forwardRef(({className:t,type:e,...n},s)=>{const[i,o]=v.useState(!1);let l=uk(0),c=uk(0);function d({currentTarget:u,clientX:h,clientY:f}){let{left:m,top:g}=u.getBoundingClientRect();l.set(h-m),c.set(f-g)}return a.jsx(Co.div,{style:{background:Khe`
        radial-gradient(
          ${i?"100px":"0px"} circle at ${l}px ${c}px,
          #3b82f6,
          transparent 80%
        )
      `},onMouseMove:d,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),className:"group/input rounded-lg p-[2px] transition duration-300",children:a.jsx("input",{type:e,className:ut("shadow-input dark:placeholder-text-neutral-600 flex h-10 w-full rounded-md border-none bg-gray-50 px-3 py-2 text-sm text-black transition duration-400 group-hover/input:shadow-none file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-neutral-400 focus-visible:ring-[2px] focus-visible:ring-neutral-400 focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50 dark:bg-zinc-800 dark:text-white dark:shadow-[0px_0px_1px_1px_#404040] dark:focus-visible:ring-neutral-600",t),ref:s,...n})})});Gt.displayName="Input";function uR(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function tpe(...t){return e=>{let n=!1;const s=t.map(r=>{const i=uR(r,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let r=0;r<s.length;r++){const i=s[r];typeof i=="function"?i():uR(t[r],null)}}}}function npe(t){const e=spe(t),n=v.forwardRef((s,r)=>{const{children:i,...o}=s,l=v.Children.toArray(i),c=l.find(ipe);if(c){const d=c.props.children,u=l.map(h=>h===c?v.Children.count(d)>1?v.Children.only(null):v.isValidElement(d)?d.props.children:null:h);return a.jsx(e,{...o,ref:r,children:v.isValidElement(d)?v.cloneElement(d,void 0,u):null})}return a.jsx(e,{...o,ref:r,children:i})});return n.displayName=`${t}.Slot`,n}function spe(t){const e=v.forwardRef((n,s)=>{const{children:r,...i}=n;if(v.isValidElement(r)){const o=ope(r),l=ape(i,r.props);return r.type!==v.Fragment&&(l.ref=s?tpe(s,o):o),v.cloneElement(r,l)}return v.Children.count(r)>1?v.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var rpe=Symbol("radix.slottable");function ipe(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===rpe}function ape(t,e){const n={...e};for(const s in e){const r=t[s],i=e[s];/^on[A-Z]/.test(s)?r&&i?n[s]=(...l)=>{const c=i(...l);return r(...l),c}:r&&(n[s]=r):s==="style"?n[s]={...r,...i}:s==="className"&&(n[s]=[r,i].filter(Boolean).join(" "))}return{...t,...n}}function ope(t){var s,r;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var lpe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],cpe=lpe.reduce((t,e)=>{const n=npe(`Primitive.${e}`),s=v.forwardRef((r,i)=>{const{asChild:o,...l}=r,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{}),dpe="Label",s7=v.forwardRef((t,e)=>a.jsx(cpe.label,{...t,ref:e,onMouseDown:n=>{var r;n.target.closest("button, input, select, textarea")||((r=t.onMouseDown)==null||r.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));s7.displayName=dpe;var r7=s7;const Rt=v.forwardRef(({className:t,...e},n)=>a.jsx(r7,{ref:n,className:ut("text-sm font-medium text-black dark:text-white leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t),...e}));Rt.displayName=r7.displayName;function hR(t,[e,n]){return Math.min(n,Math.max(e,t))}function i7(t){const e=v.useRef({value:t,previous:t});return v.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var upe=[" ","Enter","ArrowUp","ArrowDown"],hpe=[" ","Enter"],Mg="Select",[yb,vb,fpe]=_v(Mg),[pf,Oje]=Qo(Mg,[fpe,Uv]),bb=Uv(),[mpe,Sc]=pf(Mg),[ppe,gpe]=pf(Mg),a7=t=>{const{__scopeSelect:e,children:n,open:s,defaultOpen:r,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:h,disabled:f,required:m,form:g}=t,p=bb(e),[w,b]=v.useState(null),[y,N]=v.useState(null),[A,S]=v.useState(!1),T=Wv(d),[_=!1,R]=qa({prop:s,defaultProp:r,onChange:i}),[B,V]=qa({prop:o,defaultProp:l,onChange:c}),U=v.useRef(null),L=w?g||!!w.closest("form"):!0,[M,x]=v.useState(new Set),j=Array.from(M).map(E=>E.props.value).join(";");return a.jsx(XY,{...p,children:a.jsxs(mpe,{required:m,scope:e,trigger:w,onTriggerChange:b,valueNode:y,onValueNodeChange:N,valueNodeHasChildren:A,onValueNodeHasChildrenChange:S,contentId:Da(),value:B,onValueChange:V,open:_,onOpenChange:R,dir:T,triggerPointerDownPosRef:U,disabled:f,children:[a.jsx(yb.Provider,{scope:e,children:a.jsx(ppe,{scope:t.__scopeSelect,onNativeOptionAdd:v.useCallback(E=>{x(D=>new Set(D).add(E))},[]),onNativeOptionRemove:v.useCallback(E=>{x(D=>{const C=new Set(D);return C.delete(E),C})},[]),children:n})}),L?a.jsxs(P7,{"aria-hidden":!0,required:m,tabIndex:-1,name:u,autoComplete:h,value:B,onChange:E=>V(E.target.value),disabled:f,form:g,children:[B===void 0?a.jsx("option",{value:""}):null,Array.from(M)]},j):null]})})};a7.displayName=Mg;var o7="SelectTrigger",l7=v.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:s=!1,...r}=t,i=bb(n),o=Sc(o7,n),l=o.disabled||s,c=on(e,o.onTriggerChange),d=vb(n),u=v.useRef("touch"),[h,f,m]=_7(p=>{const w=d().filter(N=>!N.disabled),b=w.find(N=>N.value===o.value),y=R7(w,p,b);y!==void 0&&o.onValueChange(y.value)}),g=p=>{l||(o.onOpenChange(!0),m()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return a.jsx(dD,{asChild:!0,...i,children:a.jsx(gt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":I7(o.value)?"":void 0,...r,ref:c,onClick:mt(r.onClick,p=>{p.currentTarget.focus(),u.current!=="mouse"&&g(p)}),onPointerDown:mt(r.onPointerDown,p=>{u.current=p.pointerType;const w=p.target;w.hasPointerCapture(p.pointerId)&&w.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(g(p),p.preventDefault())}),onKeyDown:mt(r.onKeyDown,p=>{const w=h.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&f(p.key),!(w&&p.key===" ")&&upe.includes(p.key)&&(g(),p.preventDefault())})})})});l7.displayName=o7;var c7="SelectValue",d7=v.forwardRef((t,e)=>{const{__scopeSelect:n,className:s,style:r,children:i,placeholder:o="",...l}=t,c=Sc(c7,n),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,h=on(e,c.onValueNodeChange);return fs(()=>{d(u)},[d,u]),a.jsx(gt.span,{...l,ref:h,style:{pointerEvents:"none"},children:I7(c.value)?a.jsx(a.Fragment,{children:o}):i})});d7.displayName=c7;var xpe="SelectIcon",u7=v.forwardRef((t,e)=>{const{__scopeSelect:n,children:s,...r}=t;return a.jsx(gt.span,{"aria-hidden":!0,...r,ref:e,children:s||""})});u7.displayName=xpe;var ype="SelectPortal",h7=t=>a.jsx(Rv,{asChild:!0,...t});h7.displayName=ype;var Fd="SelectContent",f7=v.forwardRef((t,e)=>{const n=Sc(Fd,t.__scopeSelect),[s,r]=v.useState();if(fs(()=>{r(new DocumentFragment)},[]),!n.open){const i=s;return i?Yd.createPortal(a.jsx(m7,{scope:t.__scopeSelect,children:a.jsx(yb.Slot,{scope:t.__scopeSelect,children:a.jsx("div",{children:t.children})})}),i):null}return a.jsx(p7,{...t,ref:e})});f7.displayName=Fd;var Li=10,[m7,Ac]=pf(Fd),vpe="SelectContentImpl",p7=v.forwardRef((t,e)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:r,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:w,...b}=t,y=Sc(Fd,n),[N,A]=v.useState(null),[S,T]=v.useState(null),_=on(e,K=>A(K)),[R,B]=v.useState(null),[V,U]=v.useState(null),L=vb(n),[M,x]=v.useState(!1),j=v.useRef(!1);v.useEffect(()=>{if(N)return D9(N)},[N]),T9();const E=v.useCallback(K=>{const[H,...q]=L().map(te=>te.ref.current),[Q]=q.slice(-1),J=document.activeElement;for(const te of K)if(te===J||(te==null||te.scrollIntoView({block:"nearest"}),te===H&&S&&(S.scrollTop=0),te===Q&&S&&(S.scrollTop=S.scrollHeight),te==null||te.focus(),document.activeElement!==J))return},[L,S]),D=v.useCallback(()=>E([R,N]),[E,R,N]);v.useEffect(()=>{M&&D()},[M,D]);const{onOpenChange:C,triggerPointerDownPosRef:I}=y;v.useEffect(()=>{if(N){let K={x:0,y:0};const H=Q=>{var J,te;K={x:Math.abs(Math.round(Q.pageX)-(((J=I.current)==null?void 0:J.x)??0)),y:Math.abs(Math.round(Q.pageY)-(((te=I.current)==null?void 0:te.y)??0))}},q=Q=>{K.x<=10&&K.y<=10?Q.preventDefault():N.contains(Q.target)||C(!1),document.removeEventListener("pointermove",H),I.current=null};return I.current!==null&&(document.addEventListener("pointermove",H),document.addEventListener("pointerup",q,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",H),document.removeEventListener("pointerup",q,{capture:!0})}}},[N,C,I]),v.useEffect(()=>{const K=()=>C(!1);return window.addEventListener("blur",K),window.addEventListener("resize",K),()=>{window.removeEventListener("blur",K),window.removeEventListener("resize",K)}},[C]);const[F,O]=_7(K=>{const H=L().filter(J=>!J.disabled),q=H.find(J=>J.ref.current===document.activeElement),Q=R7(H,K,q);Q&&setTimeout(()=>Q.ref.current.focus())}),k=v.useCallback((K,H,q)=>{const Q=!j.current&&!q;(y.value!==void 0&&y.value===H||Q)&&(B(K),Q&&(j.current=!0))},[y.value]),$=v.useCallback(()=>N==null?void 0:N.focus(),[N]),G=v.useCallback((K,H,q)=>{const Q=!j.current&&!q;(y.value!==void 0&&y.value===H||Q)&&U(K)},[y.value]),P=s==="popper"?yk:g7,z=P===yk?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:w}:{};return a.jsx(m7,{scope:n,content:N,viewport:S,onViewportChange:T,itemRefCallback:k,selectedItem:R,onItemLeave:$,itemTextRefCallback:G,focusSelectedItem:D,selectedItemText:V,position:s,isPositioned:M,searchRef:F,children:a.jsx(vT,{as:Cd,allowPinchZoom:!0,children:a.jsx(yT,{asChild:!0,trapped:y.open,onMountAutoFocus:K=>{K.preventDefault()},onUnmountAutoFocus:mt(r,K=>{var H;(H=y.trigger)==null||H.focus({preventScroll:!0}),K.preventDefault()}),children:a.jsx(pg,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:K=>K.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:a.jsx(P,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:K=>K.preventDefault(),...b,...z,onPlaced:()=>x(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:mt(b.onKeyDown,K=>{const H=K.ctrlKey||K.altKey||K.metaKey;if(K.key==="Tab"&&K.preventDefault(),!H&&K.key.length===1&&O(K.key),["ArrowUp","ArrowDown","Home","End"].includes(K.key)){let Q=L().filter(J=>!J.disabled).map(J=>J.ref.current);if(["ArrowUp","End"].includes(K.key)&&(Q=Q.slice().reverse()),["ArrowUp","ArrowDown"].includes(K.key)){const J=K.target,te=Q.indexOf(J);Q=Q.slice(te+1)}setTimeout(()=>E(Q)),K.preventDefault()}})})})})})})});p7.displayName=vpe;var bpe="SelectItemAlignedPosition",g7=v.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:s,...r}=t,i=Sc(Fd,n),o=Ac(Fd,n),[l,c]=v.useState(null),[d,u]=v.useState(null),h=on(e,_=>u(_)),f=vb(n),m=v.useRef(!1),g=v.useRef(!0),{viewport:p,selectedItem:w,selectedItemText:b,focusSelectedItem:y}=o,N=v.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&p&&w&&b){const _=i.trigger.getBoundingClientRect(),R=d.getBoundingClientRect(),B=i.valueNode.getBoundingClientRect(),V=b.getBoundingClientRect();if(i.dir!=="rtl"){const J=V.left-R.left,te=B.left-J,Me=_.left-te,ee=_.width+Me,he=Math.max(ee,R.width),ke=window.innerWidth-Li,se=hR(te,[Li,Math.max(Li,ke-he)]);l.style.minWidth=ee+"px",l.style.left=se+"px"}else{const J=R.right-V.right,te=window.innerWidth-B.right-J,Me=window.innerWidth-_.right-te,ee=_.width+Me,he=Math.max(ee,R.width),ke=window.innerWidth-Li,se=hR(te,[Li,Math.max(Li,ke-he)]);l.style.minWidth=ee+"px",l.style.right=se+"px"}const U=f(),L=window.innerHeight-Li*2,M=p.scrollHeight,x=window.getComputedStyle(d),j=parseInt(x.borderTopWidth,10),E=parseInt(x.paddingTop,10),D=parseInt(x.borderBottomWidth,10),C=parseInt(x.paddingBottom,10),I=j+E+M+C+D,F=Math.min(w.offsetHeight*5,I),O=window.getComputedStyle(p),k=parseInt(O.paddingTop,10),$=parseInt(O.paddingBottom,10),G=_.top+_.height/2-Li,P=L-G,z=w.offsetHeight/2,K=w.offsetTop+z,H=j+E+K,q=I-H;if(H<=G){const J=U.length>0&&w===U[U.length-1].ref.current;l.style.bottom="0px";const te=d.clientHeight-p.offsetTop-p.offsetHeight,Me=Math.max(P,z+(J?$:0)+te+D),ee=H+Me;l.style.height=ee+"px"}else{const J=U.length>0&&w===U[0].ref.current;l.style.top="0px";const Me=Math.max(G,j+p.offsetTop+(J?k:0)+z)+q;l.style.height=Me+"px",p.scrollTop=H-G+p.offsetTop}l.style.margin=`${Li}px 0`,l.style.minHeight=F+"px",l.style.maxHeight=L+"px",s==null||s(),requestAnimationFrame(()=>m.current=!0)}},[f,i.trigger,i.valueNode,l,d,p,w,b,i.dir,s]);fs(()=>N(),[N]);const[A,S]=v.useState();fs(()=>{d&&S(window.getComputedStyle(d).zIndex)},[d]);const T=v.useCallback(_=>{_&&g.current===!0&&(N(),y==null||y(),g.current=!1)},[N,y]);return a.jsx(Npe,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:T,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:a.jsx(gt.div,{...r,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...r.style}})})})});g7.displayName=bpe;var wpe="SelectPopperPosition",yk=v.forwardRef((t,e)=>{const{__scopeSelect:n,align:s="start",collisionPadding:r=Li,...i}=t,o=bb(n);return a.jsx(uD,{...o,...i,ref:e,align:s,collisionPadding:r,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});yk.displayName=wpe;var[Npe,jT]=pf(Fd,{}),vk="SelectViewport",x7=v.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:s,...r}=t,i=Ac(vk,n),o=jT(vk,n),l=on(e,i.onViewportChange),c=v.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),a.jsx(yb.Slot,{scope:n,children:a.jsx(gt.div,{"data-radix-select-viewport":"",role:"presentation",...r,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...r.style},onScroll:mt(r.onScroll,d=>{const u=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&h){const m=Math.abs(c.current-u.scrollTop);if(m>0){const g=window.innerHeight-Li*2,p=parseFloat(h.style.minHeight),w=parseFloat(h.style.height),b=Math.max(p,w);if(b<g){const y=b+m,N=Math.min(g,y),A=y-N;h.style.height=N+"px",h.style.bottom==="0px"&&(u.scrollTop=A>0?A:0,h.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});x7.displayName=vk;var y7="SelectGroup",[kpe,jpe]=pf(y7),Spe=v.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,r=Da();return a.jsx(kpe,{scope:n,id:r,children:a.jsx(gt.div,{role:"group","aria-labelledby":r,...s,ref:e})})});Spe.displayName=y7;var v7="SelectLabel",b7=v.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,r=jpe(v7,n);return a.jsx(gt.div,{id:r.id,...s,ref:e})});b7.displayName=v7;var Qy="SelectItem",[Ape,w7]=pf(Qy),N7=v.forwardRef((t,e)=>{const{__scopeSelect:n,value:s,disabled:r=!1,textValue:i,...o}=t,l=Sc(Qy,n),c=Ac(Qy,n),d=l.value===s,[u,h]=v.useState(i??""),[f,m]=v.useState(!1),g=on(e,y=>{var N;return(N=c.itemRefCallback)==null?void 0:N.call(c,y,s,r)}),p=Da(),w=v.useRef("touch"),b=()=>{r||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(Ape,{scope:n,value:s,disabled:r,textId:p,isSelected:d,onItemTextChange:v.useCallback(y=>{h(N=>N||((y==null?void 0:y.textContent)??"").trim())},[]),children:a.jsx(yb.ItemSlot,{scope:n,value:s,disabled:r,textValue:u,children:a.jsx(gt.div,{role:"option","aria-labelledby":p,"data-highlighted":f?"":void 0,"aria-selected":d&&f,"data-state":d?"checked":"unchecked","aria-disabled":r||void 0,"data-disabled":r?"":void 0,tabIndex:r?void 0:-1,...o,ref:g,onFocus:mt(o.onFocus,()=>m(!0)),onBlur:mt(o.onBlur,()=>m(!1)),onClick:mt(o.onClick,()=>{w.current!=="mouse"&&b()}),onPointerUp:mt(o.onPointerUp,()=>{w.current==="mouse"&&b()}),onPointerDown:mt(o.onPointerDown,y=>{w.current=y.pointerType}),onPointerMove:mt(o.onPointerMove,y=>{var N;w.current=y.pointerType,r?(N=c.onItemLeave)==null||N.call(c):w.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:mt(o.onPointerLeave,y=>{var N;y.currentTarget===document.activeElement&&((N=c.onItemLeave)==null||N.call(c))}),onKeyDown:mt(o.onKeyDown,y=>{var A;((A=c.searchRef)==null?void 0:A.current)!==""&&y.key===" "||(hpe.includes(y.key)&&b(),y.key===" "&&y.preventDefault())})})})})});N7.displayName=Qy;var tm="SelectItemText",k7=v.forwardRef((t,e)=>{const{__scopeSelect:n,className:s,style:r,...i}=t,o=Sc(tm,n),l=Ac(tm,n),c=w7(tm,n),d=gpe(tm,n),[u,h]=v.useState(null),f=on(e,b=>h(b),c.onItemTextChange,b=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,b,c.value,c.disabled)}),m=u==null?void 0:u.textContent,g=v.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:w}=d;return fs(()=>(p(g),()=>w(g)),[p,w,g]),a.jsxs(a.Fragment,{children:[a.jsx(gt.span,{id:c.textId,...i,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Yd.createPortal(i.children,o.valueNode):null]})});k7.displayName=tm;var j7="SelectItemIndicator",S7=v.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t;return w7(j7,n).isSelected?a.jsx(gt.span,{"aria-hidden":!0,...s,ref:e}):null});S7.displayName=j7;var bk="SelectScrollUpButton",A7=v.forwardRef((t,e)=>{const n=Ac(bk,t.__scopeSelect),s=jT(bk,t.__scopeSelect),[r,i]=v.useState(!1),o=on(e,s.onScrollButtonChange);return fs(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),r?a.jsx(C7,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});A7.displayName=bk;var wk="SelectScrollDownButton",T7=v.forwardRef((t,e)=>{const n=Ac(wk,t.__scopeSelect),s=jT(wk,t.__scopeSelect),[r,i]=v.useState(!1),o=on(e,s.onScrollButtonChange);return fs(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),r?a.jsx(C7,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});T7.displayName=wk;var C7=v.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:s,...r}=t,i=Ac("SelectScrollButton",n),o=v.useRef(null),l=vb(n),c=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>c(),[c]),fs(()=>{var u;const d=l().find(h=>h.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),a.jsx(gt.div,{"aria-hidden":!0,...r,ref:e,style:{flexShrink:0,...r.style},onPointerDown:mt(r.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:mt(r.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:mt(r.onPointerLeave,()=>{c()})})}),Tpe="SelectSeparator",E7=v.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t;return a.jsx(gt.div,{"aria-hidden":!0,...s,ref:e})});E7.displayName=Tpe;var Nk="SelectArrow",Cpe=v.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,r=bb(n),i=Sc(Nk,n),o=Ac(Nk,n);return i.open&&o.position==="popper"?a.jsx(hD,{...r,...s,ref:e}):null});Cpe.displayName=Nk;function I7(t){return t===""||t===void 0}var P7=v.forwardRef((t,e)=>{const{value:n,...s}=t,r=v.useRef(null),i=on(e,r),o=i7(n);return v.useEffect(()=>{const l=r.current,c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==n&&u){const h=new Event("change",{bubbles:!0});u.call(l,n),l.dispatchEvent(h)}},[o,n]),a.jsx(gg,{asChild:!0,children:a.jsx("select",{...s,ref:i,defaultValue:n})})});P7.displayName="BubbleSelect";function _7(t){const e=dr(t),n=v.useRef(""),s=v.useRef(0),r=v.useCallback(o=>{const l=n.current+o;e(l),function c(d){n.current=d,window.clearTimeout(s.current),d!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),i=v.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,r,i]}function R7(t,e,n){const r=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=Epe(t,Math.max(i,0));r.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(r.toLowerCase()));return c!==n?c:void 0}function Epe(t,e){return t.map((n,s)=>t[(e+s)%t.length])}var Ipe=a7,M7=l7,Ppe=d7,_pe=u7,Rpe=h7,O7=f7,Mpe=x7,D7=b7,$7=N7,Ope=k7,Dpe=S7,F7=A7,L7=T7,B7=E7;const $h=Ipe,Fh=Ppe,Ld=v.forwardRef(({className:t,children:e,...n},s)=>a.jsxs(M7,{ref:s,className:ut("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,a.jsx(_pe,{asChild:!0,children:a.jsx(cS,{className:"h-4 w-4 opacity-50"})})]}));Ld.displayName=M7.displayName;const U7=v.forwardRef(({className:t,...e},n)=>a.jsx(F7,{ref:n,className:ut("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(dq,{className:"h-4 w-4"})}));U7.displayName=F7.displayName;const V7=v.forwardRef(({className:t,...e},n)=>a.jsx(L7,{ref:n,className:ut("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(cS,{className:"h-4 w-4"})}));V7.displayName=L7.displayName;const Bd=v.forwardRef(({className:t,children:e,position:n="popper",...s},r)=>a.jsx(Rpe,{children:a.jsxs(O7,{ref:r,className:ut("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...s,children:[a.jsx(U7,{}),a.jsx(Mpe,{className:ut("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),a.jsx(V7,{})]})}));Bd.displayName=O7.displayName;const $pe=v.forwardRef(({className:t,...e},n)=>a.jsx(D7,{ref:n,className:ut("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));$pe.displayName=D7.displayName;const kr=v.forwardRef(({className:t,children:e,...n},s)=>a.jsxs($7,{ref:s,className:ut("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(Dpe,{children:a.jsx(gy,{className:"h-4 w-4"})})}),a.jsx(Ope,{children:e})]}));kr.displayName=$7.displayName;const Fpe=v.forwardRef(({className:t,...e},n)=>a.jsx(B7,{ref:n,className:ut("-mx-1 my-1 h-px bg-muted",t),...e}));Fpe.displayName=B7.displayName;var ST="Switch",[Lpe,Dje]=Qo(ST),[Bpe,Upe]=Lpe(ST),z7=v.forwardRef((t,e)=>{const{__scopeSwitch:n,name:s,checked:r,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...h}=t,[f,m]=v.useState(null),g=on(e,N=>m(N)),p=v.useRef(!1),w=f?u||!!f.closest("form"):!0,[b=!1,y]=qa({prop:r,defaultProp:i,onChange:d});return a.jsxs(Bpe,{scope:n,checked:b,disabled:l,children:[a.jsx(gt.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":K7(b),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:g,onClick:mt(t.onClick,N=>{y(A=>!A),w&&(p.current=N.isPropagationStopped(),p.current||N.stopPropagation())})}),w&&a.jsx(Vpe,{control:f,bubbles:!p.current,name:s,value:c,checked:b,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});z7.displayName=ST;var H7="SwitchThumb",W7=v.forwardRef((t,e)=>{const{__scopeSwitch:n,...s}=t,r=Upe(H7,n);return a.jsx(gt.span,{"data-state":K7(r.checked),"data-disabled":r.disabled?"":void 0,...s,ref:e})});W7.displayName=H7;var Vpe=t=>{const{control:e,checked:n,bubbles:s=!0,...r}=t,i=v.useRef(null),o=i7(n),l=eD(e);return v.useEffect(()=>{const c=i.current,d=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==n&&h){const f=new Event("click",{bubbles:s});h.call(c,n),c.dispatchEvent(f)}},[o,n,s]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...r,tabIndex:-1,ref:i,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function K7(t){return t?"checked":"unchecked"}var q7=z7,zpe=W7;const G7=v.forwardRef(({className:t,...e},n)=>a.jsx(q7,{className:ut("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:a.jsx(zpe,{className:ut("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));G7.displayName=q7.displayName;const Hpe="https://onlyassets-server.onrender.com",Ri=`${Hpe}/auth`,ao=()=>{const t=localStorage.getItem("authToken");return{"Content-Type":"application/json",...t&&{Authorization:`Bearer ${t}`}}},Mi=async t=>{const e=await t.json();if(!t.ok){console.error("API Error Response:",{status:t.status,statusText:t.statusText,data:e});let n=e.message||e.error||`HTTP error! status: ${t.status}`;throw e.errors&&Array.isArray(e.errors)&&(n+=": "+e.errors.join(", ")),new Error(n)}return e},Lh={register:async t=>{try{const e=await fetch(`${Ri}/register`,{method:"POST",headers:ao(),body:JSON.stringify(t)}),n=await Mi(e);return n.success&&n.data.token&&(localStorage.setItem("authToken",n.data.token),localStorage.setItem("user",JSON.stringify(n.data.user)),localStorage.setItem("currentRole",n.data.currentRole),localStorage.setItem("availableRoles",JSON.stringify(n.data.availableRoles))),n}catch(e){throw console.error("Registration error:",e),e}},login:async t=>{try{const e=await fetch(`${Ri}/login`,{method:"POST",headers:ao(),body:JSON.stringify(t)}),n=await Mi(e);return n.success&&n.data.token&&(localStorage.setItem("authToken",n.data.token),localStorage.setItem("user",JSON.stringify(n.data.user)),localStorage.setItem("currentRole",n.data.currentRole),localStorage.setItem("availableRoles",JSON.stringify(n.data.availableRoles))),n}catch(e){throw console.error("Login error:",e),e}},getProfile:async()=>{try{const t=await fetch(`${Ri}/profile`,{method:"GET",headers:ao()});return await Mi(t)}catch(t){throw console.error("Get profile error:",t),t}},updateProfile:async t=>{try{const e=await fetch(`${Ri}/profile`,{method:"PUT",headers:ao(),body:JSON.stringify(t)}),n=await Mi(e);return n.success&&localStorage.setItem("user",JSON.stringify(n.data.user)),n}catch(e){throw console.error("Update profile error:",e),e}},verifyWallet:async t=>{try{const e=await fetch(`${Ri}/verify-wallet`,{method:"POST",headers:ao(),body:JSON.stringify({walletAddress:t})});return await Mi(e)}catch(e){throw console.error("Verify wallet error:",e),e}},switchRole:async t=>{try{const e=await fetch(`${Ri}/switch-role`,{method:"POST",headers:ao(),body:JSON.stringify({newRole:t})}),n=await Mi(e);return n.success&&n.data.token&&(localStorage.setItem("authToken",n.data.token),localStorage.setItem("user",JSON.stringify(n.data.user)),localStorage.setItem("currentRole",n.data.currentRole)),n}catch(e){throw console.error("Switch role error:",e),e}},getUserRoles:async()=>{try{const t=await fetch(`${Ri}/roles`,{method:"GET",headers:ao()});return await Mi(t)}catch(t){throw console.error("Get user roles error:",t),t}},logout:async()=>{try{const t=await fetch(`${Ri}/logout`,{method:"POST",headers:ao()}),e=await Mi(t);return localStorage.removeItem("authToken"),localStorage.removeItem("user"),localStorage.removeItem("currentRole"),localStorage.removeItem("availableRoles"),e}catch(t){throw console.error("Logout error:",t),localStorage.removeItem("authToken"),localStorage.removeItem("user"),localStorage.removeItem("currentRole"),localStorage.removeItem("availableRoles"),t}},isAuthenticated:()=>{const t=localStorage.getItem("authToken"),e=localStorage.getItem("user"),n=!!(t&&e);return console.log("Authentication check:",{hasToken:!!t,hasUser:!!e,isAuthenticated:n}),n},getCurrentUser:()=>{try{const t=localStorage.getItem("user");return t?JSON.parse(t):null}catch(t){return console.error("Error parsing user data:",t),null}},getToken:()=>localStorage.getItem("authToken"),clearAuthData:()=>{localStorage.removeItem("authToken"),localStorage.removeItem("user"),localStorage.removeItem("currentRole"),localStorage.removeItem("availableRoles")},getCurrentRole:()=>localStorage.getItem("currentRole"),getAvailableRoles:()=>{try{const t=localStorage.getItem("availableRoles");return t?JSON.parse(t):[]}catch(t){return console.error("Error parsing available roles:",t),[]}},createUser:async t=>{try{const e=await fetch(`${Ri}/admin/create-user`,{method:"POST",headers:ao(),body:JSON.stringify(t)});return await Mi(e)}catch(e){throw console.error("Create user error:",e),e}},healthCheck:async()=>{try{const t=await fetch(`${Ri}/health`,{method:"GET",headers:{"Content-Type":"application/json"}});return await Mi(t)}catch(t){throw console.error("Health check error:",t),t}},ping:async()=>{try{const t=await fetch(`${Ri}/ping`,{method:"GET",headers:{"Content-Type":"application/json"}});return await Mi(t)}catch(t){throw console.error("Ping error:",t),t}}},{register:Wpe,login:$je,getProfile:Fje,updateProfile:Lje,logout:Bje,verifyWallet:Uje,switchRole:Vje,getUserRoles:zje,createUser:Hje,isAuthenticated:Wje,getCurrentUser:Kje,getToken:qje,clearAuthData:Gje,getCurrentRole:Yje,getAvailableRoles:Xje,healthCheck:Qje,ping:Jje}=Lh,Y7=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"InvoiceSettledByAdmin",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"issuer",type:"address"},{indexed:!1,internalType:"string",name:"metadataURI",type:"string"}],name:"IssuerAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"manager",type:"address"},{indexed:!1,internalType:"string",name:"metadataURI",type:"string"}],name:"ManagerAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"paused",type:"bool"}],name:"MarketplacePaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[{internalType:"address",name:"_issuer",type:"address"},{internalType:"string",name:"_metadataURI",type:"string"}],name:"addIssuer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_manager",type:"address"},{internalType:"string",name:"_metadataURI",type:"string"}],name:"addManager",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"allIssuers",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"allManagers",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_manager",type:"address"},{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"assignManager",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getAllIssuers",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAllManagers",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"getIssuerAt",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getIssuerCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"getManagerAt",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getManagerCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_manager",type:"address"}],name:"getManagerTokens",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getTokenLifecycle",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_address",type:"address"}],name:"isAdmin",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"isIssuer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"isManager",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_manager",type:"address"},{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"isManagerForToken",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"isTokenSettled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"issuerMetadata",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"managerMetadata",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"managerTokens",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"marketplacePaused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pauseMarketplace",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_issuer",type:"address"}],name:"removeIssuer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_manager",type:"address"}],name:"removeManager",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_tokenContract",type:"address"}],name:"setTokenContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"settleInvoice",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"tokenContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenManager",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}],X7=[{inputs:[{internalType:"address",name:"_adminContract",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"settlementAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"InvoiceSettled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"enum ERC1155Core.TokenLifecycle",name:"newStatus",type:"uint8"}],name:"LifecycleChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"TokenBurned",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"issuer",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"price",type:"uint256"},{indexed:!1,internalType:"string",name:"metadataURI",type:"string"}],name:"TokenMinted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256[]",name:"ids",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"TransferBatch",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"TransferSingle",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"value",type:"string"},{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"URI",type:"event"},{inputs:[],name:"adminContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"accounts",type:"address[]"},{internalType:"uint256[]",name:"ids",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"burnAllTokens",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getSettlementInfo",outputs:[{internalType:"bool",name:"settled",type:"bool"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getTokenHolders",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getTokenInfo",outputs:[{internalType:"uint256",name:"price",type:"uint256"},{internalType:"string",name:"metadataURI",type:"string"},{internalType:"address",name:"issuer",type:"address"},{internalType:"uint256",name:"supply",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getTokenLifecycleStatus",outputs:[{internalType:"enum ERC1155Core.TokenLifecycle",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"}],name:"isTokenHolder",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"isTokenTradeable",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"issuerContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"markInvoiceSettled",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"uint256",name:"_price",type:"uint256"},{internalType:"string",name:"_metadataURI",type:"string"}],name:"mintToken",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_issuer",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"uint256",name:"_price",type:"uint256"},{internalType:"string",name:"_metadataURI",type:"string"}],name:"mintTokenForIssuer",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"uint256",name:"_price",type:"uint256"},{internalType:"string",name:"_metadataURI",type:"string"}],name:"mintTokenTo",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"nextTokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"paymentSplitterContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_issuerContract",type:"address"}],name:"setIssuerContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_paymentSplitterContract",type:"address"}],name:"setPaymentSplitterContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_tokenManagementContract",type:"address"}],name:"setTokenManagementContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"settlementAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"settlementTimestamp",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],name:"tokenHolders",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenIssuer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenLifecycle",outputs:[{internalType:"enum ERC1155Core.TokenLifecycle",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"tokenManagementContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenMetadata",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenSettled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"newPrice",type:"uint256"}],name:"updateTokenPrice",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_issuer",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"newPrice",type:"uint256"}],name:"updateTokenPriceForIssuer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],Q7=[{inputs:[{internalType:"address",name:"_adminContract",type:"address"},{internalType:"address",name:"_tokenContract",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"buyer",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"platformFee",type:"uint256"}],name:"AssetBought",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"issuer",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"price",type:"uint256"}],name:"AssetListed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"seller",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"platformFee",type:"uint256"}],name:"AssetSold",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"holder",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"AssetWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"admin",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"EarningsWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"issuer",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"ListingRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"string",name:"newMetadataURI",type:"string"}],name:"ListingUpdated",type:"event"},{inputs:[],name:"PLATFORM_FEE_PERCENT",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"activeTokens",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"adminContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"buyAsset",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"getAllListings",outputs:[{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"},{internalType:"address[]",name:"issuers",type:"address[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"uint256[]",name:"prices",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMyAssets",outputs:[{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"getTokenHolders",outputs:[{internalType:"address[]",name:"holders",type:"address[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"getTokenHoldersList",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"getTotalListed",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_user",type:"address"},{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"getUserBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"listAsset",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"listings",outputs:[{internalType:"address",name:"issuer",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bool",name:"active",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155BatchReceived",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[],name:"paymentSplitter",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"removeListing",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"sellAsset",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_paymentSplitter",type:"address"}],name:"setPaymentSplitter",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_tokenManagementContract",type:"address"}],name:"setTokenManagementContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"tokenContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"tokenHolders",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],name:"tokenHoldersList",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"tokenManagementContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalEarnings",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"totalTokensListed",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"string",name:"_newMetadataURI",type:"string"}],name:"updateListing",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"userTokenIds",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"withdrawAsset",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawEarnings",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],J7=[{inputs:[{internalType:"address",name:"_adminContract",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"totalAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"toHolders",type:"uint256"},{indexed:!1,internalType:"uint256",name:"toPlatform",type:"uint256"}],name:"InvoiceSettled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"totalAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"toHolders",type:"uint256"},{indexed:!1,internalType:"uint256",name:"toPlatform",type:"uint256"}],name:"RentalDistributed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"settlementAmount",type:"uint256"}],name:"TokenBurnInitiated",type:"event"},{inputs:[],name:"adminContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"getSettlementAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"isTokenSettled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"marketplaceContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"processInvoiceSettlement",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_marketplaceContract",type:"address"}],name:"setMarketplace",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_tokenContract",type:"address"}],name:"setTokenContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"settlementAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"submitRental",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"tokenContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenSettled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{stateMutability:"payable",type:"receive"}],Z7=[{inputs:[{internalType:"address",name:"_adminContract",type:"address"},{internalType:"address",name:"_tokenContract",type:"address"},{internalType:"address",name:"_marketplaceContract",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"requestId",type:"bytes32"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"issuer",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"price",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"TokenDeployed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"issuer",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"price",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"TokenListedOnMarketplace",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"requestId",type:"bytes32"},{indexed:!0,internalType:"address",name:"admin",type:"address"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"TokenRequestApproved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"requestId",type:"bytes32"},{indexed:!0,internalType:"address",name:"admin",type:"address"},{indexed:!1,internalType:"string",name:"reason",type:"string"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"TokenRequestRejected",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"requestId",type:"bytes32"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"settlementAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"TokenRequestSettled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"requestId",type:"bytes32"},{indexed:!0,internalType:"address",name:"issuer",type:"address"},{indexed:!1,internalType:"string",name:"metadataURI",type:"string"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"price",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"TokenRequestSubmitted",type:"event"},{inputs:[],name:"adminContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"allRequestIds",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_requestId",type:"bytes32"}],name:"approveTokenRequest",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"approvedRequestIds",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_requestId",type:"bytes32"}],name:"deployApprovedToken",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getApprovedRequests",outputs:[{internalType:"bytes32[]",name:"",type:"bytes32[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMyRequests",outputs:[{internalType:"bytes32[]",name:"",type:"bytes32[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMyTokens",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPendingRequests",outputs:[{internalType:"bytes32[]",name:"",type:"bytes32[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_requestId",type:"bytes32"}],name:"getRequestDetails",outputs:[{components:[{internalType:"bytes32",name:"requestId",type:"bytes32"},{internalType:"address",name:"issuer",type:"address"},{internalType:"string",name:"metadataURI",type:"string"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"enum TokenManagement.RequestStatus",name:"status",type:"uint8"},{internalType:"uint256",name:"submittedAt",type:"uint256"},{internalType:"uint256",name:"approvedAt",type:"uint256"},{internalType:"uint256",name:"deployedAt",type:"uint256"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"rejectionReason",type:"string"},{internalType:"uint256",name:"settledAt",type:"uint256"},{internalType:"uint256",name:"settlementAmount",type:"uint256"}],internalType:"struct TokenManagement.TokenRequest",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getRequestIdFromTokenId",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"requestId",type:"bytes32"}],name:"getRequestSettlementInfo",outputs:[{internalType:"bool",name:"settled",type:"bool"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"issuer",type:"address"}],name:"getSettledRequests",outputs:[{internalType:"bytes32[]",name:"",type:"bytes32[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"requestId",type:"bytes32"}],name:"isRequestSettled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"issuerRequests",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"issuerTokens",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_requestId",type:"bytes32"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"listTokenOnMarketplace",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"markRequestSettled",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"marketplaceContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"pendingRequestIds",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_requestId",type:"bytes32"},{internalType:"string",name:"_reason",type:"string"}],name:"rejectTokenRequest",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"requestSettled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"requestSettlementAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_metadataURI",type:"string"},{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"uint256",name:"_price",type:"uint256"}],name:"submitTokenRequest",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"tokenContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenIdToRequestId",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"tokenRequests",outputs:[{internalType:"bytes32",name:"requestId",type:"bytes32"},{internalType:"address",name:"issuer",type:"address"},{internalType:"string",name:"metadataURI",type:"string"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"enum TokenManagement.RequestStatus",name:"status",type:"uint8"},{internalType:"uint256",name:"submittedAt",type:"uint256"},{internalType:"uint256",name:"approvedAt",type:"uint256"},{internalType:"uint256",name:"deployedAt",type:"uint256"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"rejectionReason",type:"string"},{internalType:"uint256",name:"settledAt",type:"uint256"},{internalType:"uint256",name:"settlementAmount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_adminContract",type:"address"},{internalType:"address",name:"_tokenContract",type:"address"},{internalType:"address",name:"_marketplaceContract",type:"address"}],name:"updateContracts",outputs:[],stateMutability:"nonpayable",type:"function"}],As={ADMIN:Y7,ERC1155CORE:X7,MARKETPLACE:Q7,PAYMENTSPLITTER:J7,TOKENMANAGEMENT:Z7},ki=Object.freeze(Object.defineProperty({__proto__:null,ADMIN_ABI:Y7,CONTRACT_ABIS:As,ERC1155CORE_ABI:X7,MARKETPLACE_ABI:Q7,PAYMENTSPLITTER_ABI:J7,TOKENMANAGEMENT_ABI:Z7},Symbol.toStringTag,{value:"Module"})),Kpe=["function getPendingRequests() external view returns (bytes32[] memory)","function getApprovedRequests() external view returns (bytes32[] memory)","function getRequestDetails(bytes32 _requestId) external view returns (tuple(bytes32 requestId, address issuer, string metadataURI, uint256 amount, uint256 price, uint8 status, uint256 submittedAt, uint256 approvedAt, uint256 deployedAt, uint256 tokenId, string rejectionReason))","function approveTokenRequest(bytes32 _requestId) external","function rejectTokenRequest(bytes32 _requestId, string memory _reason) external","event TokenRequestSubmitted(bytes32 indexed requestId, address indexed issuer, string metadataURI, uint256 amount, uint256 price, uint256 timestamp)","event TokenRequestApproved(bytes32 indexed requestId, address indexed admin, uint256 timestamp)","event TokenRequestRejected(bytes32 indexed requestId, address indexed admin, string reason, uint256 timestamp)"];class qpe{constructor(){this.initialized=!1,this.tokenManagementContract=null,this.tokenManagementAddress="0x24eb8429Dc1e5f217866D0c74Db245Fa3aAFA31A"}async initialize(e,n){try{this.provider=e,this.signer=e.getSigner(),this.tokenManagementContract=new Xe(n,Kpe,this.signer),this.initialized=!0,console.log(" Admin Token Management Service initialized:",n)}catch(s){throw console.error(" Failed to initialize Admin Token Management Service:",s),s}}async getPendingTokenRequests(){if(!this.initialized)throw new Error("Service not initialized");try{console.log(" Fetching pending token requests from TokenManagement contract...");const e=await this.tokenManagementContract.getPendingRequests();console.log(" Found pending request IDs:",e);const n=[];for(const s of e)try{const r=await this.tokenManagementContract.getRequestDetails(s),i={requestId:s,issuer:r.issuer,metadataURI:r.metadataURI,amount:r.amount.toString(),price:Be(r.price),status:this._getStatusString(r.status),submittedAt:new Date(r.submittedAt*1e3),approvedAt:r.approvedAt>0?new Date(r.approvedAt*1e3):void 0,deployedAt:r.deployedAt>0?new Date(r.deployedAt*1e3):void 0,tokenId:r.tokenId>0?r.tokenId.toString():void 0,rejectionReason:r.rejectionReason||void 0};n.push(i),console.log(" Request details:",i)}catch(r){console.warn(`Failed to fetch details for request ${s}:`,r)}return console.log(" Fetched pending requests:",n.length),n}catch(e){throw console.error(" Failed to fetch pending token requests:",e),e}}async getApprovedTokenRequests(){if(!this.initialized)throw new Error("Service not initialized");try{console.log(" Fetching approved token requests...");const e=await this.tokenManagementContract.getApprovedRequests(),n=[];for(const s of e)try{const r=await this.tokenManagementContract.getRequestDetails(s);n.push({requestId:s,issuer:r.issuer,metadataURI:r.metadataURI,amount:r.amount.toString(),price:Be(r.price),status:this._getStatusString(r.status),submittedAt:new Date(r.submittedAt*1e3),approvedAt:r.approvedAt>0?new Date(r.approvedAt*1e3):void 0})}catch(r){console.warn(`Failed to fetch details for approved request ${s}:`,r)}return console.log(" Fetched approved requests:",n.length),n}catch(e){throw console.error(" Failed to fetch approved token requests:",e),e}}async approveTokenRequest(e){if(!this.initialized)throw new Error("Service not initialized");try{console.log(" Approving token request:",e);const n=await this.tokenManagementContract.approveTokenRequest(e);console.log(" Approval transaction sent:",n.hash);const s=await n.wait();return console.log(" Token request approved successfully!"),{txHash:n.hash,status:"approved"}}catch(n){throw console.error(" Failed to approve token request:",n),n}}async rejectTokenRequest(e,n){if(!this.initialized)throw new Error("Service not initialized");try{console.log(" Rejecting token request:",e,"Reason:",n);const s=await this.tokenManagementContract.rejectTokenRequest(e,n);console.log(" Rejection transaction sent:",s.hash);const r=await s.wait();return console.log(" Token request rejected successfully!"),{txHash:s.hash,status:"rejected"}}catch(s){throw console.error(" Failed to reject token request:",s),s}}async fetchMetadataFromIPFS(e){try{const n=await fetch(e);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(n){return console.error("Failed to fetch metadata from IPFS:",n),null}}async getFormattedPendingAssets(){try{const e=await this.getPendingTokenRequests(),n=await Promise.all(e.map(async s=>{let r=null;return s.metadataURI&&(r=await this.fetchMetadataFromIPFS(s.metadataURI)),{assetId:s.requestId,requestId:s.requestId,name:(r==null?void 0:r.name)||`Token Request ${s.requestId.slice(0,8)}...`,description:(r==null?void 0:r.description)||`${s.amount} tokens at ${s.price} ETH each`,status:"Pending",createdAt:s.submittedAt,metadataURI:s.metadataURI,issuer:s.issuer,amount:s.amount,price:s.price,metadata:r,tokenRequest:!0,submittedAt:s.submittedAt}}));return console.log(" Formatted pending assets for UI:",n.length),n}catch(e){return console.error(" Failed to get formatted pending assets:",e),[]}}_getStatusString(e){return{0:"Pending",1:"Approved",2:"Rejected",3:"Deployed",4:"Listed"}[e]||"Unknown"}}function eU(t,e){return function(){return t.apply(e,arguments)}}const{toString:Gpe}=Object.prototype,{getPrototypeOf:AT}=Object,{iterator:wb,toStringTag:tU}=Symbol,Nb=(t=>e=>{const n=Gpe.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),fa=t=>(t=t.toLowerCase(),e=>Nb(e)===t),kb=t=>e=>typeof e===t,{isArray:gf}=Array,Ip=kb("undefined");function Ype(t){return t!==null&&!Ip(t)&&t.constructor!==null&&!Ip(t.constructor)&&Or(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const nU=fa("ArrayBuffer");function Xpe(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&nU(t.buffer),e}const Qpe=kb("string"),Or=kb("function"),sU=kb("number"),jb=t=>t!==null&&typeof t=="object",Jpe=t=>t===!0||t===!1,Mx=t=>{if(Nb(t)!=="object")return!1;const e=AT(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(tU in t)&&!(wb in t)},Zpe=fa("Date"),ege=fa("File"),tge=fa("Blob"),nge=fa("FileList"),sge=t=>jb(t)&&Or(t.pipe),rge=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Or(t.append)&&((e=Nb(t))==="formdata"||e==="object"&&Or(t.toString)&&t.toString()==="[object FormData]"))},ige=fa("URLSearchParams"),[age,oge,lge,cge]=["ReadableStream","Request","Response","Headers"].map(fa),dge=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Og(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let s,r;if(typeof t!="object"&&(t=[t]),gf(t))for(s=0,r=t.length;s<r;s++)e.call(null,t[s],s,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let l;for(s=0;s<o;s++)l=i[s],e.call(null,t[l],l,t)}}function rU(t,e){e=e.toLowerCase();const n=Object.keys(t);let s=n.length,r;for(;s-- >0;)if(r=n[s],e===r.toLowerCase())return r;return null}const Zc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,iU=t=>!Ip(t)&&t!==Zc;function kk(){const{caseless:t}=iU(this)&&this||{},e={},n=(s,r)=>{const i=t&&rU(e,r)||r;Mx(e[i])&&Mx(s)?e[i]=kk(e[i],s):Mx(s)?e[i]=kk({},s):gf(s)?e[i]=s.slice():e[i]=s};for(let s=0,r=arguments.length;s<r;s++)arguments[s]&&Og(arguments[s],n);return e}const uge=(t,e,n,{allOwnKeys:s}={})=>(Og(e,(r,i)=>{n&&Or(r)?t[i]=eU(r,n):t[i]=r},{allOwnKeys:s}),t),hge=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),fge=(t,e,n,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},mge=(t,e,n,s)=>{let r,i,o;const l={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),i=r.length;i-- >0;)o=r[i],(!s||s(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=n!==!1&&AT(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},pge=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const s=t.indexOf(e,n);return s!==-1&&s===n},gge=t=>{if(!t)return null;if(gf(t))return t;let e=t.length;if(!sU(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},xge=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&AT(Uint8Array)),yge=(t,e)=>{const s=(t&&t[wb]).call(t);let r;for(;(r=s.next())&&!r.done;){const i=r.value;e.call(t,i[0],i[1])}},vge=(t,e)=>{let n;const s=[];for(;(n=t.exec(e))!==null;)s.push(n);return s},bge=fa("HTMLFormElement"),wge=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,r){return s.toUpperCase()+r}),fR=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Nge=fa("RegExp"),aU=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),s={};Og(n,(r,i)=>{let o;(o=e(r,i,t))!==!1&&(s[i]=o||r)}),Object.defineProperties(t,s)},kge=t=>{aU(t,(e,n)=>{if(Or(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=t[n];if(Or(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},jge=(t,e)=>{const n={},s=r=>{r.forEach(i=>{n[i]=!0})};return gf(t)?s(t):s(String(t).split(e)),n},Sge=()=>{},Age=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Tge(t){return!!(t&&Or(t.append)&&t[tU]==="FormData"&&t[wb])}const Cge=t=>{const e=new Array(10),n=(s,r)=>{if(jb(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[r]=s;const i=gf(s)?[]:{};return Og(s,(o,l)=>{const c=n(o,r+1);!Ip(c)&&(i[l]=c)}),e[r]=void 0,i}}return s};return n(t,0)},Ege=fa("AsyncFunction"),Ige=t=>t&&(jb(t)||Or(t))&&Or(t.then)&&Or(t.catch),oU=((t,e)=>t?setImmediate:e?((n,s)=>(Zc.addEventListener("message",({source:r,data:i})=>{r===Zc&&i===n&&s.length&&s.shift()()},!1),r=>{s.push(r),Zc.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Or(Zc.postMessage)),Pge=typeof queueMicrotask<"u"?queueMicrotask.bind(Zc):typeof process<"u"&&process.nextTick||oU,_ge=t=>t!=null&&Or(t[wb]),ce={isArray:gf,isArrayBuffer:nU,isBuffer:Ype,isFormData:rge,isArrayBufferView:Xpe,isString:Qpe,isNumber:sU,isBoolean:Jpe,isObject:jb,isPlainObject:Mx,isReadableStream:age,isRequest:oge,isResponse:lge,isHeaders:cge,isUndefined:Ip,isDate:Zpe,isFile:ege,isBlob:tge,isRegExp:Nge,isFunction:Or,isStream:sge,isURLSearchParams:ige,isTypedArray:xge,isFileList:nge,forEach:Og,merge:kk,extend:uge,trim:dge,stripBOM:hge,inherits:fge,toFlatObject:mge,kindOf:Nb,kindOfTest:fa,endsWith:pge,toArray:gge,forEachEntry:yge,matchAll:vge,isHTMLForm:bge,hasOwnProperty:fR,hasOwnProp:fR,reduceDescriptors:aU,freezeMethods:kge,toObjectSet:jge,toCamelCase:wge,noop:Sge,toFiniteNumber:Age,findKey:rU,global:Zc,isContextDefined:iU,isSpecCompliantForm:Tge,toJSONObject:Cge,isAsyncFn:Ege,isThenable:Ige,setImmediate:oU,asap:Pge,isIterable:_ge};function It(t,e,n,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),s&&(this.request=s),r&&(this.response=r,this.status=r.status?r.status:null)}ce.inherits(It,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ce.toJSONObject(this.config),code:this.code,status:this.status}}});const lU=It.prototype,cU={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{cU[t]={value:t}});Object.defineProperties(It,cU);Object.defineProperty(lU,"isAxiosError",{value:!0});It.from=(t,e,n,s,r,i)=>{const o=Object.create(lU);return ce.toFlatObject(t,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),It.call(o,t.message,e,n,s,r),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const Rge=null;function jk(t){return ce.isPlainObject(t)||ce.isArray(t)}function dU(t){return ce.endsWith(t,"[]")?t.slice(0,-2):t}function mR(t,e,n){return t?t.concat(e).map(function(r,i){return r=dU(r),!n&&i?"["+r+"]":r}).join(n?".":""):e}function Mge(t){return ce.isArray(t)&&!t.some(jk)}const Oge=ce.toFlatObject(ce,{},null,function(e){return/^is[A-Z]/.test(e)});function Sb(t,e,n){if(!ce.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=ce.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,w){return!ce.isUndefined(w[p])});const s=n.metaTokens,r=n.visitor||u,i=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&ce.isSpecCompliantForm(e);if(!ce.isFunction(r))throw new TypeError("visitor must be a function");function d(g){if(g===null)return"";if(ce.isDate(g))return g.toISOString();if(ce.isBoolean(g))return g.toString();if(!c&&ce.isBlob(g))throw new It("Blob is not supported. Use a Buffer instead.");return ce.isArrayBuffer(g)||ce.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,p,w){let b=g;if(g&&!w&&typeof g=="object"){if(ce.endsWith(p,"{}"))p=s?p:p.slice(0,-2),g=JSON.stringify(g);else if(ce.isArray(g)&&Mge(g)||(ce.isFileList(g)||ce.endsWith(p,"[]"))&&(b=ce.toArray(g)))return p=dU(p),b.forEach(function(N,A){!(ce.isUndefined(N)||N===null)&&e.append(o===!0?mR([p],A,i):o===null?p:p+"[]",d(N))}),!1}return jk(g)?!0:(e.append(mR(w,p,i),d(g)),!1)}const h=[],f=Object.assign(Oge,{defaultVisitor:u,convertValue:d,isVisitable:jk});function m(g,p){if(!ce.isUndefined(g)){if(h.indexOf(g)!==-1)throw Error("Circular reference detected in "+p.join("."));h.push(g),ce.forEach(g,function(b,y){(!(ce.isUndefined(b)||b===null)&&r.call(e,b,ce.isString(y)?y.trim():y,p,f))===!0&&m(b,p?p.concat(y):[y])}),h.pop()}}if(!ce.isObject(t))throw new TypeError("data must be an object");return m(t),e}function pR(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function TT(t,e){this._pairs=[],t&&Sb(t,this,e)}const uU=TT.prototype;uU.append=function(e,n){this._pairs.push([e,n])};uU.toString=function(e){const n=e?function(s){return e.call(this,s,pR)}:pR;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function Dge(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function hU(t,e,n){if(!e)return t;const s=n&&n.encode||Dge;ce.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let i;if(r?i=r(e,n):i=ce.isURLSearchParams(e)?e.toString():new TT(e,n).toString(s),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class gR{constructor(){this.handlers=[]}use(e,n,s){return this.handlers.push({fulfilled:e,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ce.forEach(this.handlers,function(s){s!==null&&e(s)})}}const fU={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},$ge=typeof URLSearchParams<"u"?URLSearchParams:TT,Fge=typeof FormData<"u"?FormData:null,Lge=typeof Blob<"u"?Blob:null,Bge={isBrowser:!0,classes:{URLSearchParams:$ge,FormData:Fge,Blob:Lge},protocols:["http","https","file","blob","url","data"]},CT=typeof window<"u"&&typeof document<"u",Sk=typeof navigator=="object"&&navigator||void 0,Uge=CT&&(!Sk||["ReactNative","NativeScript","NS"].indexOf(Sk.product)<0),Vge=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",zge=CT&&window.location.href||"http://localhost",Hge=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:CT,hasStandardBrowserEnv:Uge,hasStandardBrowserWebWorkerEnv:Vge,navigator:Sk,origin:zge},Symbol.toStringTag,{value:"Module"})),Ws={...Hge,...Bge};function Wge(t,e){return Sb(t,new Ws.classes.URLSearchParams,Object.assign({visitor:function(n,s,r,i){return Ws.isNode&&ce.isBuffer(n)?(this.append(s,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function Kge(t){return ce.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function qge(t){const e={},n=Object.keys(t);let s;const r=n.length;let i;for(s=0;s<r;s++)i=n[s],e[i]=t[i];return e}function mU(t){function e(n,s,r,i){let o=n[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=n.length;return o=!o&&ce.isArray(r)?r.length:o,c?(ce.hasOwnProp(r,o)?r[o]=[r[o],s]:r[o]=s,!l):((!r[o]||!ce.isObject(r[o]))&&(r[o]=[]),e(n,s,r[o],i)&&ce.isArray(r[o])&&(r[o]=qge(r[o])),!l)}if(ce.isFormData(t)&&ce.isFunction(t.entries)){const n={};return ce.forEachEntry(t,(s,r)=>{e(Kge(s),r,n,0)}),n}return null}function Gge(t,e,n){if(ce.isString(t))try{return(e||JSON.parse)(t),ce.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(0,JSON.stringify)(t)}const Dg={transitional:fU,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const s=n.getContentType()||"",r=s.indexOf("application/json")>-1,i=ce.isObject(e);if(i&&ce.isHTMLForm(e)&&(e=new FormData(e)),ce.isFormData(e))return r?JSON.stringify(mU(e)):e;if(ce.isArrayBuffer(e)||ce.isBuffer(e)||ce.isStream(e)||ce.isFile(e)||ce.isBlob(e)||ce.isReadableStream(e))return e;if(ce.isArrayBufferView(e))return e.buffer;if(ce.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return Wge(e,this.formSerializer).toString();if((l=ce.isFileList(e))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Sb(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return i||r?(n.setContentType("application/json",!1),Gge(e)):e}],transformResponse:[function(e){const n=this.transitional||Dg.transitional,s=n&&n.forcedJSONParsing,r=this.responseType==="json";if(ce.isResponse(e)||ce.isReadableStream(e))return e;if(e&&ce.isString(e)&&(s&&!this.responseType||r)){const o=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?It.from(l,It.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ws.classes.FormData,Blob:Ws.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ce.forEach(["delete","get","head","post","put","patch"],t=>{Dg.headers[t]={}});const Yge=ce.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Xge=t=>{const e={};let n,s,r;return t&&t.split(`
`).forEach(function(o){r=o.indexOf(":"),n=o.substring(0,r).trim().toLowerCase(),s=o.substring(r+1).trim(),!(!n||e[n]&&Yge[n])&&(n==="set-cookie"?e[n]?e[n].push(s):e[n]=[s]:e[n]=e[n]?e[n]+", "+s:s)}),e},xR=Symbol("internals");function Ff(t){return t&&String(t).trim().toLowerCase()}function Ox(t){return t===!1||t==null?t:ce.isArray(t)?t.map(Ox):String(t)}function Qge(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(t);)e[s[1]]=s[2];return e}const Jge=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function j1(t,e,n,s,r){if(ce.isFunction(s))return s.call(this,e,n);if(r&&(e=n),!!ce.isString(e)){if(ce.isString(s))return e.indexOf(s)!==-1;if(ce.isRegExp(s))return s.test(e)}}function Zge(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,s)=>n.toUpperCase()+s)}function e0e(t,e){const n=ce.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+n,{value:function(r,i,o){return this[s].call(this,e,r,i,o)},configurable:!0})})}class Dr{constructor(e){e&&this.set(e)}set(e,n,s){const r=this;function i(l,c,d){const u=Ff(c);if(!u)throw new Error("header name must be a non-empty string");const h=ce.findKey(r,u);(!h||r[h]===void 0||d===!0||d===void 0&&r[h]!==!1)&&(r[h||c]=Ox(l))}const o=(l,c)=>ce.forEach(l,(d,u)=>i(d,u,c));if(ce.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(ce.isString(e)&&(e=e.trim())&&!Jge(e))o(Xge(e),n);else if(ce.isObject(e)&&ce.isIterable(e)){let l={},c,d;for(const u of e){if(!ce.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[d=u[0]]=(c=l[d])?ce.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}o(l,n)}else e!=null&&i(n,e,s);return this}get(e,n){if(e=Ff(e),e){const s=ce.findKey(this,e);if(s){const r=this[s];if(!n)return r;if(n===!0)return Qge(r);if(ce.isFunction(n))return n.call(this,r,s);if(ce.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Ff(e),e){const s=ce.findKey(this,e);return!!(s&&this[s]!==void 0&&(!n||j1(this,this[s],s,n)))}return!1}delete(e,n){const s=this;let r=!1;function i(o){if(o=Ff(o),o){const l=ce.findKey(s,o);l&&(!n||j1(s,s[l],l,n))&&(delete s[l],r=!0)}}return ce.isArray(e)?e.forEach(i):i(e),r}clear(e){const n=Object.keys(this);let s=n.length,r=!1;for(;s--;){const i=n[s];(!e||j1(this,this[i],i,e,!0))&&(delete this[i],r=!0)}return r}normalize(e){const n=this,s={};return ce.forEach(this,(r,i)=>{const o=ce.findKey(s,i);if(o){n[o]=Ox(r),delete n[i];return}const l=e?Zge(i):String(i).trim();l!==i&&delete n[i],n[l]=Ox(r),s[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return ce.forEach(this,(s,r)=>{s!=null&&s!==!1&&(n[r]=e&&ce.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const s=new this(e);return n.forEach(r=>s.set(r)),s}static accessor(e){const s=(this[xR]=this[xR]={accessors:{}}).accessors,r=this.prototype;function i(o){const l=Ff(o);s[l]||(e0e(r,o),s[l]=!0)}return ce.isArray(e)?e.forEach(i):i(e),this}}Dr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ce.reduceDescriptors(Dr.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[n]=s}}});ce.freezeMethods(Dr);function S1(t,e){const n=this||Dg,s=e||n,r=Dr.from(s.headers);let i=s.data;return ce.forEach(t,function(l){i=l.call(n,i,r.normalize(),e?e.status:void 0)}),r.normalize(),i}function pU(t){return!!(t&&t.__CANCEL__)}function xf(t,e,n){It.call(this,t??"canceled",It.ERR_CANCELED,e,n),this.name="CanceledError"}ce.inherits(xf,It,{__CANCEL__:!0});function gU(t,e,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?t(n):e(new It("Request failed with status code "+n.status,[It.ERR_BAD_REQUEST,It.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function t0e(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function n0e(t,e){t=t||10;const n=new Array(t),s=new Array(t);let r=0,i=0,o;return e=e!==void 0?e:1e3,function(c){const d=Date.now(),u=s[i];o||(o=d),n[r]=c,s[r]=d;let h=i,f=0;for(;h!==r;)f+=n[h++],h=h%t;if(r=(r+1)%t,r===i&&(i=(i+1)%t),d-o<e)return;const m=u&&d-u;return m?Math.round(f*1e3/m):void 0}}function s0e(t,e){let n=0,s=1e3/e,r,i;const o=(d,u=Date.now())=>{n=u,r=null,i&&(clearTimeout(i),i=null),t.apply(null,d)};return[(...d)=>{const u=Date.now(),h=u-n;h>=s?o(d,u):(r=d,i||(i=setTimeout(()=>{i=null,o(r)},s-h)))},()=>r&&o(r)]}const Jy=(t,e,n=3)=>{let s=0;const r=n0e(50,250);return s0e(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-s,d=r(c),u=o<=l;s=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&u?(l-o)/d:void 0,event:i,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(h)},n)},yR=(t,e)=>{const n=t!=null;return[s=>e[0]({lengthComputable:n,total:t,loaded:s}),e[1]]},vR=t=>(...e)=>ce.asap(()=>t(...e)),r0e=Ws.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Ws.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Ws.origin),Ws.navigator&&/(msie|trident)/i.test(Ws.navigator.userAgent)):()=>!0,i0e=Ws.hasStandardBrowserEnv?{write(t,e,n,s,r,i){const o=[t+"="+encodeURIComponent(e)];ce.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),ce.isString(s)&&o.push("path="+s),ce.isString(r)&&o.push("domain="+r),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function a0e(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function o0e(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function xU(t,e,n){let s=!a0e(e);return t&&(s||n==!1)?o0e(t,e):e}const bR=t=>t instanceof Dr?{...t}:t;function Ud(t,e){e=e||{};const n={};function s(d,u,h,f){return ce.isPlainObject(d)&&ce.isPlainObject(u)?ce.merge.call({caseless:f},d,u):ce.isPlainObject(u)?ce.merge({},u):ce.isArray(u)?u.slice():u}function r(d,u,h,f){if(ce.isUndefined(u)){if(!ce.isUndefined(d))return s(void 0,d,h,f)}else return s(d,u,h,f)}function i(d,u){if(!ce.isUndefined(u))return s(void 0,u)}function o(d,u){if(ce.isUndefined(u)){if(!ce.isUndefined(d))return s(void 0,d)}else return s(void 0,u)}function l(d,u,h){if(h in e)return s(d,u);if(h in t)return s(void 0,d)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,u,h)=>r(bR(d),bR(u),h,!0)};return ce.forEach(Object.keys(Object.assign({},t,e)),function(u){const h=c[u]||r,f=h(t[u],e[u],u);ce.isUndefined(f)&&h!==l||(n[u]=f)}),n}const yU=t=>{const e=Ud({},t);let{data:n,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:i,headers:o,auth:l}=e;e.headers=o=Dr.from(o),e.url=hU(xU(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(ce.isFormData(n)){if(Ws.hasStandardBrowserEnv||Ws.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[d,...u]=c?c.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([d||"multipart/form-data",...u].join("; "))}}if(Ws.hasStandardBrowserEnv&&(s&&ce.isFunction(s)&&(s=s(e)),s||s!==!1&&r0e(e.url))){const d=r&&i&&i0e.read(i);d&&o.set(r,d)}return e},l0e=typeof XMLHttpRequest<"u",c0e=l0e&&function(t){return new Promise(function(n,s){const r=yU(t);let i=r.data;const o=Dr.from(r.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=r,u,h,f,m,g;function p(){m&&m(),g&&g(),r.cancelToken&&r.cancelToken.unsubscribe(u),r.signal&&r.signal.removeEventListener("abort",u)}let w=new XMLHttpRequest;w.open(r.method.toUpperCase(),r.url,!0),w.timeout=r.timeout;function b(){if(!w)return;const N=Dr.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),S={data:!l||l==="text"||l==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:N,config:t,request:w};gU(function(_){n(_),p()},function(_){s(_),p()},S),w=null}"onloadend"in w?w.onloadend=b:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(b)},w.onabort=function(){w&&(s(new It("Request aborted",It.ECONNABORTED,t,w)),w=null)},w.onerror=function(){s(new It("Network Error",It.ERR_NETWORK,t,w)),w=null},w.ontimeout=function(){let A=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const S=r.transitional||fU;r.timeoutErrorMessage&&(A=r.timeoutErrorMessage),s(new It(A,S.clarifyTimeoutError?It.ETIMEDOUT:It.ECONNABORTED,t,w)),w=null},i===void 0&&o.setContentType(null),"setRequestHeader"in w&&ce.forEach(o.toJSON(),function(A,S){w.setRequestHeader(S,A)}),ce.isUndefined(r.withCredentials)||(w.withCredentials=!!r.withCredentials),l&&l!=="json"&&(w.responseType=r.responseType),d&&([f,g]=Jy(d,!0),w.addEventListener("progress",f)),c&&w.upload&&([h,m]=Jy(c),w.upload.addEventListener("progress",h),w.upload.addEventListener("loadend",m)),(r.cancelToken||r.signal)&&(u=N=>{w&&(s(!N||N.type?new xf(null,t,w):N),w.abort(),w=null)},r.cancelToken&&r.cancelToken.subscribe(u),r.signal&&(r.signal.aborted?u():r.signal.addEventListener("abort",u)));const y=t0e(r.url);if(y&&Ws.protocols.indexOf(y)===-1){s(new It("Unsupported protocol "+y+":",It.ERR_BAD_REQUEST,t));return}w.send(i||null)})},d0e=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let s=new AbortController,r;const i=function(d){if(!r){r=!0,l();const u=d instanceof Error?d:this.reason;s.abort(u instanceof It?u:new xf(u instanceof Error?u.message:u))}};let o=e&&setTimeout(()=>{o=null,i(new It(`timeout ${e} of ms exceeded`,It.ETIMEDOUT))},e);const l=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),t=null)};t.forEach(d=>d.addEventListener("abort",i));const{signal:c}=s;return c.unsubscribe=()=>ce.asap(l),c}},u0e=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let s=0,r;for(;s<n;)r=s+e,yield t.slice(s,r),s=r},h0e=async function*(t,e){for await(const n of f0e(t))yield*u0e(n,e)},f0e=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:s}=await e.read();if(n)break;yield s}}finally{await e.cancel()}},wR=(t,e,n,s)=>{const r=h0e(t,e);let i=0,o,l=c=>{o||(o=!0,s&&s(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await r.next();if(d){l(),c.close();return}let h=u.byteLength;if(n){let f=i+=h;n(f)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),r.return()}},{highWaterMark:2})},Ab=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",vU=Ab&&typeof ReadableStream=="function",m0e=Ab&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),bU=(t,...e)=>{try{return!!t(...e)}catch{return!1}},p0e=vU&&bU(()=>{let t=!1;const e=new Request(Ws.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),NR=64*1024,Ak=vU&&bU(()=>ce.isReadableStream(new Response("").body)),Zy={stream:Ak&&(t=>t.body)};Ab&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Zy[e]&&(Zy[e]=ce.isFunction(t[e])?n=>n[e]():(n,s)=>{throw new It(`Response type '${e}' is not supported`,It.ERR_NOT_SUPPORT,s)})})})(new Response);const g0e=async t=>{if(t==null)return 0;if(ce.isBlob(t))return t.size;if(ce.isSpecCompliantForm(t))return(await new Request(Ws.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(ce.isArrayBufferView(t)||ce.isArrayBuffer(t))return t.byteLength;if(ce.isURLSearchParams(t)&&(t=t+""),ce.isString(t))return(await m0e(t)).byteLength},x0e=async(t,e)=>{const n=ce.toFiniteNumber(t.getContentLength());return n??g0e(e)},y0e=Ab&&(async t=>{let{url:e,method:n,data:s,signal:r,cancelToken:i,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:d,headers:u,withCredentials:h="same-origin",fetchOptions:f}=yU(t);d=d?(d+"").toLowerCase():"text";let m=d0e([r,i&&i.toAbortSignal()],o),g;const p=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let w;try{if(c&&p0e&&n!=="get"&&n!=="head"&&(w=await x0e(u,s))!==0){let S=new Request(e,{method:"POST",body:s,duplex:"half"}),T;if(ce.isFormData(s)&&(T=S.headers.get("content-type"))&&u.setContentType(T),S.body){const[_,R]=yR(w,Jy(vR(c)));s=wR(S.body,NR,_,R)}}ce.isString(h)||(h=h?"include":"omit");const b="credentials"in Request.prototype;g=new Request(e,{...f,signal:m,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:s,duplex:"half",credentials:b?h:void 0});let y=await fetch(g,f);const N=Ak&&(d==="stream"||d==="response");if(Ak&&(l||N&&p)){const S={};["status","statusText","headers"].forEach(B=>{S[B]=y[B]});const T=ce.toFiniteNumber(y.headers.get("content-length")),[_,R]=l&&yR(T,Jy(vR(l),!0))||[];y=new Response(wR(y.body,NR,_,()=>{R&&R(),p&&p()}),S)}d=d||"text";let A=await Zy[ce.findKey(Zy,d)||"text"](y,t);return!N&&p&&p(),await new Promise((S,T)=>{gU(S,T,{data:A,headers:Dr.from(y.headers),status:y.status,statusText:y.statusText,config:t,request:g})})}catch(b){throw p&&p(),b&&b.name==="TypeError"&&/Load failed|fetch/i.test(b.message)?Object.assign(new It("Network Error",It.ERR_NETWORK,t,g),{cause:b.cause||b}):It.from(b,b&&b.code,t,g)}}),Tk={http:Rge,xhr:c0e,fetch:y0e};ce.forEach(Tk,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const kR=t=>`- ${t}`,v0e=t=>ce.isFunction(t)||t===null||t===!1,wU={getAdapter:t=>{t=ce.isArray(t)?t:[t];const{length:e}=t;let n,s;const r={};for(let i=0;i<e;i++){n=t[i];let o;if(s=n,!v0e(n)&&(s=Tk[(o=String(n)).toLowerCase()],s===void 0))throw new It(`Unknown adapter '${o}'`);if(s)break;r[o||"#"+i]=s}if(!s){const i=Object.entries(r).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(kR).join(`
`):" "+kR(i[0]):"as no adapter specified";throw new It("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s},adapters:Tk};function A1(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new xf(null,t)}function jR(t){return A1(t),t.headers=Dr.from(t.headers),t.data=S1.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),wU.getAdapter(t.adapter||Dg.adapter)(t).then(function(s){return A1(t),s.data=S1.call(t,t.transformResponse,s),s.headers=Dr.from(s.headers),s},function(s){return pU(s)||(A1(t),s&&s.response&&(s.response.data=S1.call(t,t.transformResponse,s.response),s.response.headers=Dr.from(s.response.headers))),Promise.reject(s)})}const NU="1.10.0",Tb={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Tb[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const SR={};Tb.transitional=function(e,n,s){function r(i,o){return"[Axios v"+NU+"] Transitional option '"+i+"'"+o+(s?". "+s:"")}return(i,o,l)=>{if(e===!1)throw new It(r(o," has been removed"+(n?" in "+n:"")),It.ERR_DEPRECATED);return n&&!SR[o]&&(SR[o]=!0,console.warn(r(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,l):!0}};Tb.spelling=function(e){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function b0e(t,e,n){if(typeof t!="object")throw new It("options must be an object",It.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let r=s.length;for(;r-- >0;){const i=s[r],o=e[i];if(o){const l=t[i],c=l===void 0||o(l,i,t);if(c!==!0)throw new It("option "+i+" must be "+c,It.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new It("Unknown option "+i,It.ERR_BAD_OPTION)}}const Dx={assertOptions:b0e,validators:Tb},ga=Dx.validators;class bd{constructor(e){this.defaults=e||{},this.interceptors={request:new gR,response:new gR}}async request(e,n){try{return await this._request(e,n)}catch(s){if(s instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const i=r.stack?r.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Ud(this.defaults,n);const{transitional:s,paramsSerializer:r,headers:i}=n;s!==void 0&&Dx.assertOptions(s,{silentJSONParsing:ga.transitional(ga.boolean),forcedJSONParsing:ga.transitional(ga.boolean),clarifyTimeoutError:ga.transitional(ga.boolean)},!1),r!=null&&(ce.isFunction(r)?n.paramsSerializer={serialize:r}:Dx.assertOptions(r,{encode:ga.function,serialize:ga.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Dx.assertOptions(n,{baseUrl:ga.spelling("baseURL"),withXsrfToken:ga.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&ce.merge(i.common,i[n.method]);i&&ce.forEach(["delete","get","head","post","put","patch","common"],g=>{delete i[g]}),n.headers=Dr.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(n)===!1||(c=c&&p.synchronous,l.unshift(p.fulfilled,p.rejected))});const d=[];this.interceptors.response.forEach(function(p){d.push(p.fulfilled,p.rejected)});let u,h=0,f;if(!c){const g=[jR.bind(this),void 0];for(g.unshift.apply(g,l),g.push.apply(g,d),f=g.length,u=Promise.resolve(n);h<f;)u=u.then(g[h++],g[h++]);return u}f=l.length;let m=n;for(h=0;h<f;){const g=l[h++],p=l[h++];try{m=g(m)}catch(w){p.call(this,w);break}}try{u=jR.call(this,m)}catch(g){return Promise.reject(g)}for(h=0,f=d.length;h<f;)u=u.then(d[h++],d[h++]);return u}getUri(e){e=Ud(this.defaults,e);const n=xU(e.baseURL,e.url,e.allowAbsoluteUrls);return hU(n,e.params,e.paramsSerializer)}}ce.forEach(["delete","get","head","options"],function(e){bd.prototype[e]=function(n,s){return this.request(Ud(s||{},{method:e,url:n,data:(s||{}).data}))}});ce.forEach(["post","put","patch"],function(e){function n(s){return function(i,o,l){return this.request(Ud(l||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}bd.prototype[e]=n(),bd.prototype[e+"Form"]=n(!0)});class ET{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const s=this;this.promise.then(r=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](r);s._listeners=null}),this.promise.then=r=>{let i;const o=new Promise(l=>{s.subscribe(l),i=l}).then(r);return o.cancel=function(){s.unsubscribe(i)},o},e(function(i,o,l){s.reason||(s.reason=new xf(i,o,l),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=s=>{e.abort(s)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new ET(function(r){e=r}),cancel:e}}}function w0e(t){return function(n){return t.apply(null,n)}}function N0e(t){return ce.isObject(t)&&t.isAxiosError===!0}const Ck={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ck).forEach(([t,e])=>{Ck[e]=t});function kU(t){const e=new bd(t),n=eU(bd.prototype.request,e);return ce.extend(n,bd.prototype,e,{allOwnKeys:!0}),ce.extend(n,e,null,{allOwnKeys:!0}),n.create=function(r){return kU(Ud(t,r))},n}const Vn=kU(Dg);Vn.Axios=bd;Vn.CanceledError=xf;Vn.CancelToken=ET;Vn.isCancel=pU;Vn.VERSION=NU;Vn.toFormData=Sb;Vn.AxiosError=It;Vn.Cancel=Vn.CanceledError;Vn.all=function(e){return Promise.all(e)};Vn.spread=w0e;Vn.isAxiosError=N0e;Vn.mergeConfig=Ud;Vn.AxiosHeaders=Dr;Vn.formToJSON=t=>mU(ce.isHTMLForm(t)?new FormData(t):t);Vn.getAdapter=wU.getAdapter;Vn.HttpStatusCode=Ck;Vn.default=Vn;const k0e=["https://gateway.pinata.cloud/ipfs/","https://ipfs.io/ipfs/","https://cloudflare-ipfs.com/ipfs/","https://gateway.ipfs.io/ipfs/"],A0=async t=>{try{if(!t.startsWith("ipfs://"))return console.log("Not an IPFS URI:",t),null;const e=t.replace("ipfs://","");console.log("Fetching IPFS content for hash:",e);for(const n of k0e)try{const s=await fetch(`${n}${e}`,{method:"GET",headers:{Accept:"application/json"},signal:AbortSignal.timeout(1e4)});if(!s.ok){console.log(`Gateway ${n} failed with status:`,s.status);continue}const r=await s.json();return console.log("Successfully fetched IPFS content:",r),r}catch(s){console.log(`Gateway ${n} failed:`,s);continue}return console.log("All IPFS gateways failed for hash:",e),null}catch(e){return console.error("Error fetching IPFS content:",e),null}},j0e="ee7fd8b4670e8e75cf1f",S0e="8765707d70f702f1da012ea6e52f345221d8a4c801acb5e7f8599760822577df",AR=async t=>{var e,n,s;try{const r=await Vn({method:"post",url:"https://api.pinata.cloud/pinning/pinJSONToIPFS",data:t,headers:{pinata_api_key:j0e,pinata_secret_api_key:S0e,"Content-Type":"application/json"}});return console.log(" JSON uploaded to Pinata:",r.data.IpfsHash),r.data.IpfsHash}catch(r){throw console.error("Error uploading JSON to Pinata:",r),Vn.isAxiosError(r)?(console.error("Response:",(e=r.response)==null?void 0:e.data),new Error(`Pinata JSON upload failed: ${((s=(n=r.response)==null?void 0:n.data)==null?void 0:s.message)||r.message}`)):r}},A0e={TESTNET:{chainId:747,name:"Flow Testnet",rpcUrl:"https://mainnet.evm.nodes.onflow.org",blockExplorer:"https://www.flowscan.io/",nativeCurrency:{name:"Flow",symbol:"FLOW",decimals:18}},MAINNET:{chainId:747,name:"Flow Mainnet",rpcUrl:"https://mainnet.evm.nodes.onflow.org",blockExplorer:"https://evm.flowscan.io/",nativeCurrency:{name:"Flow",symbol:"FLOW",decimals:18}}},Lf={ADMIN:"0xFC53E7A6b94173D82d07a127A38d9D852bf478d4",TOKEN_CONTRACT:"0x7C082010BcF338675508E2FD9d6C0dD2E43b37d8",MARKETPLACE:"0xE8DE43BD00370F48db7Ac139146AC27B1AfEd7aF",PAYMENT_SPLITTER:"0x6f2db3e628879ee72B455a946C1d6cfBa51aac91",TOKEN_MANAGEMENT:"0xA632A492cCd898De4a4B17DC786B381d099F5815"},Bf={ISSUER_ADDED:"IssuerAdded",MANAGER_ADDED:"ManagerAdded",MARKETPLACE_PAUSED:"MarketplacePaused",INVOICE_SETTLED_BY_ADMIN:"InvoiceSettledByAdmin",TOKEN_MINTED:"TokenMinted",INVOICE_SETTLED:"InvoiceSettled",TOKEN_BURNED:"TokenBurned",LIFECYCLE_CHANGED:"LifecycleChanged",TOKEN_REQUEST_SUBMITTED:"TokenRequestSubmitted",TOKEN_REQUEST_APPROVED:"TokenRequestApproved",TOKEN_REQUEST_REJECTED:"TokenRequestRejected",TOKEN_DEPLOYED:"TokenDeployed",TOKEN_LISTED_ON_MARKETPLACE:"TokenListedOnMarketplace",TOKEN_REQUEST_SETTLED:"TokenRequestSettled",ASSET_LISTED:"AssetListed",ASSET_BOUGHT:"AssetBought",ASSET_SOLD:"AssetSold",ASSET_WITHDRAWN:"AssetWithdrawn",EARNINGS_WITHDRAWN:"EarningsWithdrawn",LISTING_REMOVED:"ListingRemoved",LISTING_UPDATED:"ListingUpdated",RENTAL_DISTRIBUTED:"RentalDistributed",TOKEN_BURN_INITIATED:"TokenBurnInitiated"},ou={WALLET_NOT_CONNECTED:"Please connect your wallet first",INSUFFICIENT_BALANCE:"Insufficient balance for this transaction",TRANSACTION_REJECTED:"Transaction was rejected by user",NETWORK_MISMATCH:"Please switch to Flow Testnet",CONTRACT_ERROR:"Contract interaction failed",UNAUTHORIZED:"You don't have permission for this action",INVALID_TOKEN:"Invalid token ID or token not found",TOKEN_NOT_TRADEABLE:"This token cannot be traded (settled or burned)",ALREADY_SETTLED:"This invoice has already been settled",INSUFFICIENT_PAYMENT:"Payment amount is insufficient"},oo={TRANSACTION_SENT:"Transaction sent successfully",ISSUER_ADDED:"Issuer added successfully",MANAGER_ADDED:"Manager added successfully",TOKEN_REQUEST_SUBMITTED:"Token request submitted for approval",TOKEN_REQUEST_APPROVED:"Token request approved",TOKEN_DEPLOYED:"Token deployed successfully",TOKEN_LISTED:"Token listed on marketplace",TOKEN_PURCHASED:"Tokens purchased successfully",INVOICE_SETTLED:"Invoice settled successfully",TOKENS_BURNED:"Tokens burned after settlement"};class Cb{constructor(e=null){this.provider=null,this.signer=null,this.contracts={},this.walletProvider=e,this.isConnected=!1,this.userAddress=null,this.userRoles={isAdmin:!1,isIssuer:!1,isManager:!1}}async connect(){try{if(!this.walletProvider)throw new Error("No wallet provider available");if(await this.walletProvider.request({method:"eth_requestAccounts"}),this.provider=new ra(this.walletProvider),this.signer=this.provider.getSigner(),this.userAddress=await this.signer.getAddress(),(await this.provider.getNetwork()).chainId!==A0e.TESTNET.chainId)throw new Error(ou.NETWORK_MISMATCH);return await this.initializeContracts(),await this.loadUserRoles(),this.isConnected=!0,console.log(" Connected to Invoice Financing System"),console.log("User Address:",this.userAddress),console.log("User Roles:",this.userRoles),{success:!0,userAddress:this.userAddress,userRoles:this.userRoles}}catch(e){throw console.error(" Connection failed:",e),e}}async initializeContracts(){try{this.contracts={admin:new Xe(Lf.ADMIN,As.ADMIN,this.signer),tokenContract:new Xe(Lf.TOKEN_CONTRACT,As.ERC1155CORE,this.signer),marketplace:new Xe(Lf.MARKETPLACE,As.MARKETPLACE,this.signer),paymentSplitter:new Xe(Lf.PAYMENT_SPLITTER,As.PAYMENTSPLITTER,this.signer),tokenManagement:new Xe(Lf.TOKEN_MANAGEMENT,As.TOKENMANAGEMENT,this.signer)},console.log(" Contracts initialized")}catch(e){throw console.error(" Contract initialization failed:",e),e}}async loadUserRoles(){try{this.userRoles={isAdmin:await this.contracts.admin.isAdmin(this.userAddress),isIssuer:await this.contracts.admin.isIssuer(this.userAddress),isManager:await this.contracts.admin.isManager(this.userAddress)}}catch(e){console.error(" Failed to load user roles:",e),this.userRoles={isAdmin:!1,isIssuer:!1,isManager:!1}}}async addIssuer(e,n){this.requireRole("isAdmin");try{const s=await this.contracts.admin.addIssuer(e,n);return await s.wait(),{success:!0,message:oo.ISSUER_ADDED,txHash:s.hash}}catch(s){throw this.handleError(s)}}async addManager(e,n){this.requireRole("isAdmin");try{const s=await this.contracts.admin.addManager(e,n);return await s.wait(),{success:!0,message:oo.MANAGER_ADDED,txHash:s.hash}}catch(s){throw this.handleError(s)}}async approveTokenRequest(e){this.requireRole("isAdmin");try{const n=await this.contracts.tokenManagement.approveTokenRequest(e);return await n.wait(),{success:!0,message:oo.TOKEN_REQUEST_APPROVED,txHash:n.hash}}catch(n){throw this.handleError(n)}}async rejectTokenRequest(e,n){this.requireRole("isAdmin");try{const s=await this.contracts.tokenManagement.rejectTokenRequest(e,n);return await s.wait(),{success:!0,message:"Token request rejected",txHash:s.hash}}catch(s){throw this.handleError(s)}}async settleInvoice(e,n){this.requireRole("isAdmin");try{const s=await this.contracts.admin.settleInvoice(e,n);return await s.wait(),{success:!0,message:oo.INVOICE_SETTLED,txHash:s.hash}}catch(s){throw this.handleError(s)}}async getPendingRequests(){try{const e=await this.contracts.tokenManagement.getPendingRequests();return await Promise.all(e.map(s=>this.getRequestDetails(s)))}catch(e){throw this.handleError(e)}}async submitTokenRequest(e,n,s){this.requireRole("isIssuer");try{const r=await this.contracts.tokenManagement.submitTokenRequest(e,n,s),o=(await r.wait()).logs.find(c=>{try{return this.contracts.tokenManagement.interface.parseLog(c).name==="TokenRequestSubmitted"}catch{return!1}}),l=this.contracts.tokenManagement.interface.parseLog(o).args.requestId;return{success:!0,message:oo.TOKEN_REQUEST_SUBMITTED,requestId:l,txHash:r.hash}}catch(r){throw this.handleError(r)}}async deployApprovedToken(e){this.requireRole("isIssuer");try{const n=await this.contracts.tokenManagement.deployApprovedToken(e),r=(await n.wait()).logs.find(o=>{try{return this.contracts.tokenManagement.interface.parseLog(o).name==="TokenDeployed"}catch{return!1}}),i=this.contracts.tokenManagement.interface.parseLog(r).args.tokenId;return{success:!0,message:oo.TOKEN_DEPLOYED,tokenId:i.toString(),txHash:n.hash}}catch(n){throw this.handleError(n)}}async listTokenOnMarketplace(e,n){this.requireRole("isIssuer");try{const s=await this.contracts.tokenManagement.listTokenOnMarketplace(e,n);return await s.wait(),{success:!0,message:oo.TOKEN_LISTED,txHash:s.hash}}catch(s){throw this.handleError(s)}}async getMyRequests(){this.requireRole("isIssuer");try{const e=await this.contracts.tokenManagement.getMyRequests();return await Promise.all(e.map(s=>this.getRequestDetails(s)))}catch(e){throw this.handleError(e)}}async getMyTokens(){this.requireRole("isIssuer");try{const e=await this.contracts.tokenManagement.getMyTokens();return await Promise.all(e.map(s=>this.getTokenInfo(s)))}catch(e){throw this.handleError(e)}}async buyTokens(e,n,s){try{const r=await this.contracts.marketplace.buyAsset(e,n,{value:s});return await r.wait(),{success:!0,message:oo.TOKEN_PURCHASED,txHash:r.hash}}catch(r){throw this.handleError(r)}}async sellTokens(e,n,s){try{const r=await this.contracts.marketplace.sellAsset(e,n,{value:s});return await r.wait(),{success:!0,message:"Tokens sold successfully",txHash:r.hash}}catch(r){throw this.handleError(r)}}async withdrawTokens(e,n){try{const s=await this.contracts.marketplace.withdrawAsset(e,n);return await s.wait(),{success:!0,message:"Tokens withdrawn successfully",txHash:s.hash}}catch(s){throw this.handleError(s)}}async getMarketplaceBalance(e){try{return(await this.contracts.marketplace.getUserBalance(this.userAddress,e)).toString()}catch(n){throw this.handleError(n)}}async getWalletBalance(e){try{return(await this.contracts.tokenContract.balanceOf(this.userAddress,e)).toString()}catch(n){throw this.handleError(n)}}async processInvoiceSettlement(e,n){this.requireManagerForToken(e);try{const s=await this.contracts.paymentSplitter.processInvoiceSettlement(e,{value:n,gasLimit:3e5});return await s.wait(),{success:!0,message:oo.INVOICE_SETTLED,txHash:s.hash}}catch(s){throw this.handleError(s)}}async submitRentalPayment(e,n){this.requireManagerForToken(e);try{const s=await this.contracts.paymentSplitter.submitRental(e,{value:n});return await s.wait(),{success:!0,message:"Rental payment distributed successfully",txHash:s.hash}}catch(s){throw this.handleError(s)}}async getTokenInfo(e){try{const n=await this.contracts.tokenContract.getTokenInfo(e),s=await this.contracts.tokenContract.getTokenLifecycleStatus(e);let r="0",i="0",o=!1;try{const l=await this.contracts.tokenContract.settlementAmount(e),c=await this.contracts.tokenContract.settlementTimestamp(e);r=l.gt(0)?Be(l):"0",i=c.toString(),o=l.gt(0)}catch(l){console.warn(`Could not fetch settlement info for token ${e}:`,l)}return{tokenId:e.toString(),price:Be(n.price),metadataURI:n.metadataURI,issuer:n.issuer,supply:n.supply.toString(),lifecycle:this.getLifecycleName(s),lifecycleStatus:s,settlement:{settled:o,amount:r,timestamp:i}}}catch(n){throw this.handleError(n)}}async getRequestDetails(e){try{const n=await this.contracts.tokenManagement.getRequestDetails(e);return{requestId:e,issuer:n.issuer,metadataURI:n.metadataURI,amount:n.amount.toString(),price:Be(n.price),status:this.getRequestStatusName(n.status),statusCode:n.status,submittedAt:new Date(Number(n.submittedAt)*1e3).toISOString(),approvedAt:n.approvedAt>0?new Date(Number(n.approvedAt)*1e3).toISOString():null,deployedAt:n.deployedAt>0?new Date(Number(n.deployedAt)*1e3).toISOString():null,tokenId:n.tokenId>0?n.tokenId.toString():null,rejectionReason:n.rejectionReason,settlement:{settled:n.settledAt>0,amount:n.settlementAmount>0?Be(n.settlementAmount):"0",timestamp:n.settledAt>0?new Date(Number(n.settledAt)*1e3).toISOString():null}}}catch(n){throw this.handleError(n)}}async getAllListings(){try{const e=await this.contracts.marketplace.getAllListings();return{tokenIds:e.tokenIds.map(n=>n.toString()),issuers:e.issuers,amounts:e.amounts.map(n=>n.toString()),prices:e.prices.map(n=>Be(n))}}catch(e){throw this.handleError(e)}}async isTokenTradeable(e){try{return await this.contracts.tokenContract.isTokenTradeable(e)}catch(n){throw this.handleError(n)}}async getSettlementInfo(e){try{const n=await this.contracts.tokenContract.settlementAmount(e),s=await this.contracts.tokenContract.settlementTimestamp(e);return{settled:n.gt(0),amount:n.gt(0)?Be(n):"0",timestamp:s.gt(0)?new Date(Number(s)*1e3).toISOString():null}}catch(n){throw this.handleError(n)}}async getTokenLifecycle(e){try{const n=await this.contracts.tokenContract.getTokenLifecycleStatus(e);return{status:n,name:this.getLifecycleName(n)}}catch(n){throw this.handleError(n)}}onTokenRequestSubmitted(e){this.contracts.tokenManagement.on(Bf.TOKEN_REQUEST_SUBMITTED,e)}onTokenDeployed(e){this.contracts.tokenManagement.on(Bf.TOKEN_DEPLOYED,e)}onInvoiceSettled(e){this.contracts.tokenContract.on(Bf.INVOICE_SETTLED,e)}onTokenBurned(e){this.contracts.tokenContract.on(Bf.TOKEN_BURNED,e)}onAssetBought(e){this.contracts.marketplace.on(Bf.ASSET_BOUGHT,e)}removeAllListeners(){Object.values(this.contracts).forEach(e=>{e.removeAllListeners()})}requireRole(e){if(!this.isConnected)throw new Error(ou.WALLET_NOT_CONNECTED);if(!this.userRoles[e])throw new Error(ou.UNAUTHORIZED)}async requireManagerForToken(e){this.requireRole("isManager");try{if(!await this.contracts.admin.isManagerForToken(this.userAddress,e))throw new Error("Not assigned manager for this token")}catch(n){throw new Error("Manager validation failed: "+n.message)}}getLifecycleName(e){return["Active","Settled","Burned"][e]||"Unknown"}getRequestStatusName(e){return["Pending","Approved","Rejected","Deployed","Listed","Settled"][e]||"Unknown"}handleError(e){return console.error("Contract error:",e),e.message.includes("user rejected")?new Error(ou.TRANSACTION_REJECTED):e.message.includes("insufficient funds")?new Error(ou.INSUFFICIENT_BALANCE):e.message.includes("execution reverted")?new Error(ou.CONTRACT_ERROR+": "+e.message):e}formatAmount(e,n=18){return Pa(e,n)}parseAmount(e,n=18){return b8(e.toString(),n)}async getTransactionReceipt(e){try{return await this.provider.getTransactionReceipt(e)}catch(n){throw this.handleError(n)}}disconnect(){this.removeAllListeners(),this.provider=null,this.signer=null,this.contracts={},this.isConnected=!1,this.userAddress=null,this.userRoles={isAdmin:!1,isIssuer:!1,isManager:!1},console.log(" Disconnected from Invoice Financing System")}}const T0e=()=>{const{signer:t,isConnected:e}=Mn(),[n,s]=v.useState(null),[r,i]=v.useState([]),[o,l]=v.useState(!1),[c,d]=v.useState({tokenId:"",amount:""}),[u,h]=v.useState(null);v.useEffect(()=>{if(e&&t){const b=new Cb(window.ethereum);b.connect().then(()=>{s(b),f()}).catch(console.error)}},[e,t]);const f=async b=>{try{if(l(!0),console.log(" Loading marketplace tokens for settlement..."),!t){console.log("No signer available");return}const{ADMIN_CONTRACT:y,TOKEN_CONTRACT:N,MARKETPLACE_CONTRACT:A}=await Ct(async()=>{const{ADMIN_CONTRACT:j,TOKEN_CONTRACT:E,MARKETPLACE_CONTRACT:D}=await Promise.resolve().then(()=>ia);return{ADMIN_CONTRACT:j,TOKEN_CONTRACT:E,MARKETPLACE_CONTRACT:D}},void 0),{CONTRACT_ABIS:S}=await Ct(async()=>{const{CONTRACT_ABIS:j}=await Promise.resolve().then(()=>ki);return{CONTRACT_ABIS:j}},void 0),{ethers:T}=await Ct(async()=>{const{ethers:j}=await import("./index-DhQz1Dli.js");return{ethers:j}},[]),_=new T.Contract(A,S.MARKETPLACE,t),R=new T.Contract(N,S.ERC1155CORE,t),B=await _.getAllListings(),[V,U,L,M]=B,x=[];for(let j=0;j<V.length;j++){const E=V[j].toString();try{const D=await R.getTokenInfo(E),C=await R.getTokenLifecycleStatus(E);let I="0",F="0";try{const k=await R.settlementAmount(E),$=await R.settlementTimestamp(E);I=k.gt(0)?T.utils.formatEther(k):"0",F=$.toString()}catch{console.warn(`Could not fetch settlement info for token ${E}`)}let O=`Asset #${E}`;if(D.metadataURI&&D.metadataURI.startsWith("ipfs://"))try{const k=D.metadataURI.replace("ipfs://",""),$=await fetch(`https://gateway.pinata.cloud/ipfs/${k}`);$.ok&&(O=(await $.json()).name||O)}catch{console.warn(`Could not fetch metadata for token ${E}`)}x.push({tokenId:E,issuer:D.issuer,supply:D.supply.toString(),price:T.utils.formatEther(D.price),metadataURI:D.metadataURI,lifecycle:C,settlementAmount:I,settlementTimestamp:F,assetName:O}),console.log(` Loaded token ${E}: ${O}`)}catch(D){console.warn(`Could not load details for token ${E}:`,D)}}i(x),console.log(` Loaded ${x.length} tokens for settlement management`)}catch(y){console.error("Failed to load tokens:",y),ue.error("Failed to load marketplace tokens")}finally{l(!1)}},m=async b=>{if(!c.amount){ue.error("Please enter settlement amount");return}if(!t){ue.error("Please connect your wallet");return}try{h(b);const{ADMIN_CONTRACT:y}=await Ct(async()=>{const{ADMIN_CONTRACT:R}=await Promise.resolve().then(()=>ia);return{ADMIN_CONTRACT:R}},void 0),{CONTRACT_ABIS:N}=await Ct(async()=>{const{CONTRACT_ABIS:R}=await Promise.resolve().then(()=>ki);return{CONTRACT_ABIS:R}},void 0),{ethers:A}=await Ct(async()=>{const{ethers:R}=await import("./index-DhQz1Dli.js");return{ethers:R}},[]),S=new A.Contract(y,N.ADMIN,t);console.log(` Settling invoice for token ${b} with amount ${c.amount}...`);const T=await S.settleInvoice(b,A.utils.parseEther(c.amount));console.log(" Settlement transaction sent:",T.hash),ue.info("Transaction submitted. Waiting for confirmation...");const _=await T.wait();console.log(" Settlement transaction confirmed:",_.transactionHash),ue.success("Invoice settled successfully!"),await f(),d({tokenId:"",amount:""})}catch(y){console.error("Settlement failed:",y);let N="Settlement failed";y.code===4001?N="Transaction cancelled by user":y.reason?N=`Transaction failed: ${y.reason}`:y.message&&(N=y.message),ue.error(N)}finally{h(null)}},g=async b=>{if(!t){ue.error("Please connect your wallet");return}try{h(b);const{ADMIN_CONTRACT:y}=await Ct(async()=>{const{ADMIN_CONTRACT:R}=await Promise.resolve().then(()=>ia);return{ADMIN_CONTRACT:R}},void 0),{CONTRACT_ABIS:N}=await Ct(async()=>{const{CONTRACT_ABIS:R}=await Promise.resolve().then(()=>ki);return{CONTRACT_ABIS:R}},void 0),{ethers:A}=await Ct(async()=>{const{ethers:R}=await import("./index-DhQz1Dli.js");return{ethers:R}},[]),S=new A.Contract(y,N.ADMIN,t);console.log(` Burning all tokens for token ID ${b}...`);const T=await S.burnAllTokens(b);console.log(" Burn transaction sent:",T.hash),ue.info("Burn transaction submitted. Waiting for confirmation...");const _=await T.wait();console.log(" Burn transaction confirmed:",_.transactionHash),ue.success("Tokens burned successfully!"),await f()}catch(y){console.error("Burn failed:",y);let N="Token burn failed";y.code===4001?N="Transaction cancelled by user":y.reason?N=`Transaction failed: ${y.reason}`:y.message&&(N=y.message),ue.error(N)}finally{h(null)}},p=b=>{switch(b){case 0:return a.jsxs(Ue,{variant:"default",className:"bg-green-500",children:[a.jsx(Ed,{className:"w-3 h-3 mr-1"}),"Active"]});case 1:return a.jsxs(Ue,{variant:"secondary",className:"bg-yellow-500",children:[a.jsx(Gn,{className:"w-3 h-3 mr-1"}),"Settled"]});case 2:return a.jsxs(Ue,{variant:"destructive",children:[a.jsx(yy,{className:"w-3 h-3 mr-1"}),"Burned"]});default:return a.jsxs(Ue,{variant:"outline",children:[a.jsx(Io,{className:"w-3 h-3 mr-1"}),"Unknown"]})}},w=b=>`${b} FLOW`;return a.jsxs(pe,{className:"w-full",children:[a.jsxs(yt,{children:[a.jsxs(vt,{className:"flex items-center gap-2",children:[a.jsx(Gn,{className:"w-5 h-5"}),"Invoice Settlement Panel"]}),a.jsx(ls,{children:"Manually settle invoices and manage token lifecycle"})]}),a.jsx(ge,{children:o?a.jsx("div",{className:"flex justify-center p-4",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx(Rt,{htmlFor:"tokenId",children:"Token ID"}),a.jsx(Gt,{id:"tokenId",placeholder:"Enter token ID",value:c.tokenId,onChange:b=>d(y=>({...y,tokenId:b.target.value}))})]}),a.jsxs("div",{children:[a.jsx(Rt,{htmlFor:"amount",children:"Settlement Amount (FLOW)"}),a.jsx(Gt,{id:"amount",type:"number",placeholder:"Enter amount",value:c.amount,onChange:b=>d(y=>({...y,amount:b.target.value}))})]}),a.jsx("div",{className:"flex items-end",children:a.jsx(Z,{onClick:()=>m(c.tokenId),disabled:!c.tokenId||!c.amount||u!==null,className:"w-full",children:u===c.tokenId?"Settling...":"Settle Invoice"})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Active Tokens"}),r.length===0?a.jsx("p",{className:"text-gray-500 text-center py-4",children:"No tokens found"}):r.map(b=>a.jsx(pe,{className:"border-l-4 border-l-blue-500",children:a.jsx(ge,{className:"p-4",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium",children:b.assetName||`Token #${b.tokenId}`}),p(b.lifecycle)]}),a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Token ID:"})," ",b.tokenId]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Issuer:"})," ",b.issuer.slice(0,10),"..."]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Supply:"})," ",b.supply," tokens"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Price:"})," ",w(b.price)]}),b.settlementAmount&&b.settlementAmount!=="0"&&a.jsxs("p",{children:[a.jsx("strong",{children:"Settlement:"})," ",w(b.settlementAmount)]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[b.lifecycle===0&&a.jsx(Z,{size:"sm",onClick:()=>{d(y=>({...y,tokenId:b.tokenId}))},disabled:u!==null,children:"Select for Settlement"}),b.lifecycle===1&&a.jsx(Z,{size:"sm",variant:"destructive",onClick:()=>g(b.tokenId),disabled:u!==null,children:u===b.tokenId?"Burning...":"Burn Tokens"})]})]})})},b.tokenId))]})]})})]})},C0e=()=>{const{signer:t,isConnected:e}=Mn(),[n,s]=v.useState(null),[r,i]=v.useState([]),[o,l]=v.useState({activeTokens:0,settledTokens:0,burnedTokens:0,totalSettlementValue:"0",averageSettlementTime:0}),[c,d]=v.useState(!1),[u,h]=v.useState(null),[f,m]=v.useState(!1);v.useEffect(()=>{if(e&&t){const N=new Cb(window.ethereum);N.connect().then(()=>{s(N),g()}).catch(console.error)}},[e,t]);const g=async N=>{var A;try{if(d(!0),console.log(" Loading real token lifecycle data..."),!t){console.log("No signer available");return}const{ADMIN_CONTRACT:S,TOKEN_CONTRACT:T,MARKETPLACE_CONTRACT:_}=await Ct(async()=>{const{ADMIN_CONTRACT:k,TOKEN_CONTRACT:$,MARKETPLACE_CONTRACT:G}=await Promise.resolve().then(()=>ia);return{ADMIN_CONTRACT:k,TOKEN_CONTRACT:$,MARKETPLACE_CONTRACT:G}},void 0),{CONTRACT_ABIS:R}=await Ct(async()=>{const{CONTRACT_ABIS:k}=await Promise.resolve().then(()=>ki);return{CONTRACT_ABIS:k}},void 0),{ethers:B}=await Ct(async()=>{const{ethers:k}=await import("./index-DhQz1Dli.js");return{ethers:k}},[]),V=new B.Contract(_,R.MARKETPLACE,t),U=new B.Contract(T,R.ERC1155CORE,t),L=await V.getAllListings(),[M,x,j,E]=L,D=[];for(let k=0;k<M.length;k++){const $=M[k].toString();try{const G=await U.getTokenInfo($),P=await U.getTokenLifecycleStatus($);let z="0",K="0";try{const Q=await U.settlementAmount($),J=await U.settlementTimestamp($);z=Q.gt(0)?B.utils.formatEther(Q):"0",K=J.toString()}catch{console.warn(`Could not fetch settlement info for token ${$}`)}let H=0,q="0";try{H=((A=(await V.getTokenHolders($))[0])==null?void 0:A.length)||0,q=B.utils.formatEther(G.price.mul(G.supply))}catch{console.warn(`Could not fetch holder info for token ${$}`),q=B.utils.formatEther(G.price.mul(G.supply))}D.push({tokenId:$,issuer:G.issuer,supply:G.supply.toString(),price:B.utils.formatEther(G.price),lifecycle:P,settlementAmount:z,settlementTimestamp:K,holderCount:H,totalValueLocked:q,metadataURI:G.metadataURI}),console.log(` Loaded lifecycle data for token ${$}`)}catch(G){console.warn(`Could not load lifecycle data for token ${$}:`,G)}}i(D),console.log(` Loaded ${D.length} tokens for lifecycle monitoring`);const C=D.filter(k=>k.lifecycle===0).length,I=D.filter(k=>k.lifecycle===1).length,F=D.filter(k=>k.lifecycle===2).length,O=D.filter(k=>k.settlementAmount&&parseFloat(k.settlementAmount)>0).reduce((k,$)=>k+parseFloat($.settlementAmount),0);l({activeTokens:C,settledTokens:I,burnedTokens:F,totalSettlementValue:O.toString(),averageSettlementTime:2})}catch(S){console.error("Failed to load token lifecycle data:",S),ue.error("Failed to load token data")}finally{d(!1)}},p=N=>{switch(N){case 0:return a.jsxs(Ue,{variant:"default",className:"bg-green-500",children:[a.jsx(Ed,{className:"w-3 h-3 mr-1"}),"Active"]});case 1:return a.jsxs(Ue,{variant:"secondary",className:"bg-yellow-500",children:[a.jsx(Gn,{className:"w-3 h-3 mr-1"}),"Settled"]});case 2:return a.jsxs(Ue,{variant:"destructive",children:[a.jsx(yy,{className:"w-3 h-3 mr-1"}),"Burned"]});default:return a.jsx(Ue,{variant:"outline",children:"Unknown"})}},w=N=>`${parseFloat(N).toLocaleString()} FLOW`,b=N=>new Date(parseInt(N)).toLocaleDateString(),y=N=>["Active","Settled","Burned"].slice(0,N+1);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-5 gap-4",children:[a.jsx(pe,{children:a.jsx(ge,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ed,{className:"h-4 w-4 text-green-600"}),a.jsxs("div",{className:"ml-2",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Tokens"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:o.activeTokens})]})]})})}),a.jsx(pe,{children:a.jsx(ge,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Gn,{className:"h-4 w-4 text-yellow-600"}),a.jsxs("div",{className:"ml-2",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Settled"}),a.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:o.settledTokens})]})]})})}),a.jsx(pe,{children:a.jsx(ge,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(yy,{className:"h-4 w-4 text-red-600"}),a.jsxs("div",{className:"ml-2",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Burned"}),a.jsx("p",{className:"text-2xl font-bold text-red-600",children:o.burnedTokens})]})]})})}),a.jsx(pe,{children:a.jsx(ge,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(cs,{className:"h-4 w-4 text-blue-600"}),a.jsxs("div",{className:"ml-2",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Settled"}),a.jsx("p",{className:"text-lg font-bold text-blue-600",children:w(o.totalSettlementValue)})]})]})})}),a.jsx(pe,{children:a.jsx(ge,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(ns,{className:"h-4 w-4 text-purple-600"}),a.jsxs("div",{className:"ml-2",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Settlement"}),a.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[o.averageSettlementTime,"d"]})]})]})})})]}),a.jsxs(pe,{children:[a.jsxs(yt,{children:[a.jsxs(vt,{className:"flex items-center gap-2",children:[a.jsx(Ml,{className:"w-5 h-5"}),"Token Lifecycle Monitor"]}),a.jsx(ls,{children:"Track the complete lifecycle of all tokens from active to settlement to burning"})]}),a.jsx(ge,{children:c?a.jsx("div",{className:"flex justify-center p-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):a.jsx("div",{className:"space-y-4",children:r.length===0?a.jsx("p",{className:"text-gray-500 text-center py-8",children:"No tokens found"}):r.map(N=>a.jsx(pe,{className:"border-l-4 border-l-blue-500",children:a.jsx(ge,{className:"p-6",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("span",{className:"font-bold text-lg",children:["Token #",N.tokenId]}),p(N.lifecycle)]}),a.jsx("div",{className:"flex items-center gap-2",children:y(N.lifecycle).map((A,S)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${S<=N.lifecycle?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:A}),S<2&&a.jsx("div",{className:`w-4 h-0.5 ${S<N.lifecycle?"bg-green-500":"bg-gray-300"}`})]},A))}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Issuer"}),a.jsxs("p",{className:"font-medium",children:[N.issuer.slice(0,10),"..."]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Supply"}),a.jsxs("p",{className:"font-medium",children:[N.supply," tokens"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Price"}),a.jsx("p",{className:"font-medium",children:w(N.price)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Holders"}),a.jsxs("p",{className:"font-medium flex items-center gap-1",children:[a.jsx(Ah,{className:"w-3 h-3"}),N.holderCount]})]})]}),N.settlementAmount&&a.jsx("div",{className:"bg-yellow-50 p-3 rounded-lg",children:a.jsxs("p",{className:"text-sm",children:[a.jsx("strong",{children:"Settlement:"})," ",w(N.settlementAmount),N.settlementTimestamp&&a.jsxs("span",{className:"ml-2 text-gray-600",children:["on ",b(N.settlementTimestamp)]})]})})]}),a.jsx("div",{className:"flex gap-2",children:a.jsxs(Z,{size:"sm",variant:"outline",onClick:()=>{h(N),m(!0)},children:[a.jsx(sa,{className:"w-4 h-4 mr-1"}),"Details"]})})]})})},N.tokenId))})})]}),u&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs(pe,{className:"w-full max-w-2xl max-h-[80vh] overflow-auto",children:[a.jsxs(yt,{children:[a.jsxs(vt,{children:["Token #",u.tokenId," Details"]}),a.jsx(ls,{children:"Complete lifecycle information"})]}),a.jsxs(ge,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Token ID"}),a.jsx("p",{className:"font-medium",children:u.tokenId})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Status"}),p(u.lifecycle)]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Issuer"}),a.jsx("p",{className:"font-medium font-mono text-xs",children:u.issuer})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Total Supply"}),a.jsxs("p",{className:"font-medium",children:[u.supply," tokens"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Price per Token"}),a.jsx("p",{className:"font-medium",children:w(u.price)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Current Holders"}),a.jsx("p",{className:"font-medium",children:u.holderCount})]})]}),u.settlementAmount&&a.jsxs("div",{className:"border-t pt-4",children:[a.jsx("h4",{className:"font-medium mb-2",children:"Settlement Information"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Settlement Amount"}),a.jsx("p",{className:"font-medium",children:w(u.settlementAmount)})]}),u.settlementTimestamp&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Settlement Date"}),a.jsx("p",{className:"font-medium",children:b(u.settlementTimestamp)})]})]})]}),a.jsx("div",{className:"flex justify-end gap-2 pt-4",children:a.jsx(Z,{variant:"outline",onClick:()=>m(!1),children:"Close"})})]})]})})]})},E0e=()=>{const{address:t,isConnected:e,connectWallet:n,signer:s}=Mn(),[r,i]=v.useState(!1),[o,l]=v.useState("overview"),[c,d]=v.useState([]),[u,h]=v.useState([]),[f,m]=v.useState(null),[g,p]=v.useState(null),[w,b]=v.useState(!1),[y,N]=v.useState({addresses:[],count:0,metadata:{}}),[A,S]=v.useState({addresses:[],count:0,metadata:{}}),[T,_]=v.useState(!1),[R,B]=v.useState({totalIssuers:0,totalManagers:0,activeTokens:0,totalVolume:0,marketplaceStatus:!0,platformFees:0}),[V,U]=v.useState([]),[L,M]=v.useState([]),[x,j]=v.useState(!1),[E,D]=v.useState(!1),[C,I]=v.useState(!1),[F,O]=v.useState(!1),[k,$]=v.useState(!1),[G,P]=v.useState(!1),[z,K]=v.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",walletAddress:"",role:"issuer",metadataURI:""}),[H,q]=v.useState(null),[Q,J]=v.useState(!1),[te,Me]=v.useState({tokenId:"",managerAddress:"",selectedAsset:null});v.useEffect(()=>{e&&s&&ee()},[e,s]),v.useEffect(()=>{f&&he()},[f]);const ee=async()=>{try{if(!e||!s){console.log(" Wallet not connected");return}console.log(" Initializing admin contract..."),console.log("Contract address:",yn),console.log("Network:",Nt),console.log("RPC URL:",Et[Nt].rpcUrl);const W=await s.provider.getNetwork();if(console.log("Connected to network:",W.name,"Chain ID:",W.chainId),console.log("Expected Chain ID:",Et[Nt].chainId),W.chainId!==Et[Nt].chainId){console.error(" Wrong network! Expected Chain ID:",Et[Nt].chainId,"Got:",W.chainId),ue.error(`Please switch to ${Et[Nt].name} (Chain ID: ${Et[Nt].chainId})`);return}const de=new Xe(yn,As.ADMIN,s);try{if(await s.provider.getCode(yn)==="0x"){console.error(" No Admin contract found at address:",yn),ue.error("Admin contract not found at the specified address");return}console.log(" Admin contract verified at address:",yn);try{const le=await de.getIssuerCount();console.log(" Admin contract is responsive, issuer count:",le.toString())}catch(le){console.log(" Admin contract found but function call failed:",le.message)}}catch(ne){console.error(" Error verifying contracts:",ne),ue.error("Failed to verify contracts");return}m(de);try{const ne=new qpe;await ne.initialize(s.provider,l9),p(ne),console.log(" TokenManagement service initialized successfully")}catch(ne){console.error(" Failed to initialize TokenManagement service:",ne),ue.error("Failed to initialize token management service")}console.log(" Admin contracts initialized successfully")}catch(W){console.error(" Error initializing contract:",W),console.log("Contract initialization failed, page will still load with limited functionality")}},he=async()=>{if(!f){console.log(" Admin contract not initialized");return}J(!0);try{console.log(" Loading contract data from blockchain..."),console.log("Admin contract address:",f.address),console.log("Signer address:",await f.signer.getAddress());const W=await f.provider.getNetwork();console.log("Connected to network:",W.name,"Chain ID:",W.chainId);let de,ne;try{console.log(" Calling getAllIssuers from Admin contract..."),de=await f.getAllIssuers(),console.log(" getAllIssuers result:",de)}catch(je){console.error(" getAllIssuers failed:",je),de=[]}try{console.log(" Calling getAllManagers from Admin contract..."),ne=await f.getAllManagers(),console.log(" getAllManagers result:",ne)}catch(je){console.error(" getAllManagers failed:",je),ne=[]}console.log(" Contract Data Received:"),console.log("Issuers:",de),console.log("Managers:",ne);const le=de||[],Ne=[];console.log(" Fetching IPFS metadata for issuers...");for(let je=0;je<le.length;je++){const We=le[je];try{const be=await f.issuerMetadata(We);if(console.log(` Metadata URI for ${We}:`,be),be&&be!==""){const Se=await A0(be);console.log(` Metadata for ${We}:`,Se),Se?Ne.push({id:We,address:We,name:Se.name||`Issuer ${je+1}`,email:Se.email||`issuer${je+1}@example.com`,role:"issuer",status:"active",metadataURI:be,joinedDate:Se.joinedDate||"2024-01-01",lastActive:"2024-12-28",tokensManaged:Se.tokensManaged||0,totalVolume:Se.totalVolume||0}):Ne.push({id:We,address:We,name:`Issuer ${je+1}`,email:`issuer${je+1}@example.com`,role:"issuer",status:"active",metadataURI:be,joinedDate:"2024-01-01",lastActive:"2024-12-28",tokensManaged:0,totalVolume:0})}else Ne.push({id:We,address:We,name:`Issuer ${je+1}`,email:`issuer${je+1}@example.com`,role:"issuer",status:"active",metadataURI:"",joinedDate:"2024-01-01",lastActive:"2024-12-28",tokensManaged:0,totalVolume:0})}catch(be){console.error(` Error fetching metadata for issuer ${We}:`,be),Ne.push({id:We,address:We,name:`Issuer ${je+1}`,email:`issuer${je+1}@example.com`,role:"issuer",status:"active",metadataURI:"",joinedDate:"2024-01-01",lastActive:"2024-12-28",tokensManaged:0,totalVolume:0})}}const Re=ne||[],Pe=[];console.log(" Fetching IPFS metadata for managers...");for(let je=0;je<Re.length;je++){const We=Re[je];try{const be=await f.managerMetadata(We);console.log(` Manager metadata URI for ${We}:`,be);let Se=[];try{Se=(await f.getManagerTokens(We)).map(_e=>_e.toString()),console.log(` Manager ${We} assigned tokens:`,Se)}catch(Fe){console.error(` Failed to fetch assigned tokens for manager ${We}:`,Fe)}if(be&&be!==""){const Fe=await A0(be);console.log(` Manager metadata for ${We}:`,Fe),Fe?Pe.push({id:We,address:We,name:Fe.name||`Manager ${je+1}`,email:Fe.email||`manager${je+1}@example.com`,role:"manager",status:"active",metadataURI:be,joinedDate:Fe.joinedDate||"2024-01-01",lastActive:"2024-12-28",tokensManaged:Se.length,totalVolume:Fe.totalVolume||0,assignedTokens:Se}):Pe.push({id:We,address:We,name:`Manager ${je+1}`,email:`manager${je+1}@example.com`,role:"manager",status:"active",metadataURI:be,joinedDate:"2024-01-01",lastActive:"2024-12-28",tokensManaged:Se.length,totalVolume:0,assignedTokens:Se})}else Pe.push({id:We,address:We,name:`Manager ${je+1}`,email:`manager${je+1}@example.com`,role:"manager",status:"active",metadataURI:"",joinedDate:"2024-01-01",lastActive:"2024-12-28",tokensManaged:Se.length,totalVolume:0,assignedTokens:Se})}catch(be){console.error(` Error fetching metadata for manager ${We}:`,be);let Se=[];try{Se=(await f.getManagerTokens(We)).map(_e=>_e.toString())}catch(Fe){console.error(` Failed to fetch assigned tokens for manager ${We}:`,Fe)}Pe.push({id:We,address:We,name:`Manager ${je+1}`,email:`manager${je+1}@example.com`,role:"manager",status:"active",metadataURI:"",joinedDate:"2024-01-01",lastActive:"2024-12-28",tokensManaged:Se.length,totalVolume:0,assignedTokens:Se})}}const Lt={addresses:le,count:le.length,metadata:{}},ze={addresses:Re,count:Re.length,metadata:{}};N(Lt),S(ze),b(!1),d(Ne),h(Pe),B({totalIssuers:Lt.count,totalManagers:ze.count,activeTokens:0,totalVolume:0,marketplaceStatus:!0,platformFees:0}),console.log(" Contract data loaded successfully"),console.log(` Active Issuers: ${Lt.count}`),console.log(` Property Managers: ${ze.count}`)}catch(W){console.error(" Failed to load contract data:",W),console.log(" Loading fallback mock data...");const de={addresses:["0x742D35Cc6635Cf532793FAa14d4A6ce8D8c5D93e"],count:1,metadata:{}},ne={addresses:["0x3456789012345678901234567890123456789012"],count:1,metadata:{}};N(de),S(ne),b(!1);const le=[{id:"0x742D35Cc6635Cf532793FAa14d4A6ce8D8c5D93e",address:"0x742D35Cc6635Cf532793FAa14d4A6ce8D8c5D93e",name:"Mock Issuer",email:"issuer@example.com",role:"issuer",status:"active",metadataURI:"",joinedDate:"2024-01-01",lastActive:"2024-12-28",tokensManaged:0,totalVolume:0}],Ne=[{id:"0x3456789012345678901234567890123456789012",address:"0x3456789012345678901234567890123456789012",name:"Mock Manager",email:"manager@example.com",role:"manager",status:"active",metadataURI:"",joinedDate:"2024-01-01",lastActive:"2024-12-28",tokensManaged:0,totalVolume:0,assignedTokens:[]}];d(le),h(Ne),B({totalIssuers:1,totalManagers:1,activeTokens:0,totalVolume:0,marketplaceStatus:!0,platformFees:0})}finally{J(!1)}},ke=async()=>{if(!f||!s){console.log(" Contracts not initialized for marketplace asset fetching");return}j(!0);try{console.log(" Loading marketplace assets for assignment...");const W=new Xe(Tn,As.MARKETPLACE,s),de=new Xe(Sr,As.ERC1155CORE,s),ne=await W.getAllListings();console.log(" Raw marketplace listings:",ne);let le,Ne,Re,Pe;if(Array.isArray(ne)&&ne.length===4)[le,Ne,Re,Pe]=ne;else{console.warn(" Unexpected marketplace response format"),M([]);return}if(console.log(" Marketplace data:",{tokenIds:le,issuers:Ne,amounts:Re,prices:Pe}),!le||le.length===0){console.log(" No assets found on marketplace"),M([]);return}const Lt=[];for(let ze=0;ze<le.length;ze++)try{const je=le[ze].toString(),We=Ne[ze],be=Re[ze].toString(),Se=Be(Pe[ze]);try{if(await de.getTokenLifecycleStatus(je)===2){console.log(` Skipping burned token ${je} in admin dashboard`);continue}}catch{console.warn(` Could not check lifecycle for token ${je}, including in admin dashboard`)}console.log(` Fetching metadata for token ${je}...`);let Fe="";try{Fe=await de.uri(je),console.log(` Metadata URI for token ${je}:`,Fe)}catch(Zt){console.warn(` Failed to get metadata URI for token ${je}:`,Zt)}let _e=null;if(Fe)try{_e=await A0(Fe),console.log(` Metadata for token ${je}:`,_e)}catch(Zt){console.warn(` Failed to fetch IPFS metadata for token ${je}:`,Zt)}const ft={tokenId:je,name:(_e==null?void 0:_e.name)||`Asset #${je}`,description:(_e==null?void 0:_e.description)||"No description available",price:Se,issuer:We,amount:be,metadataURI:Fe,imageUrl:(_e==null?void 0:_e.image)||(_e==null?void 0:_e.imageUrl),type:(_e==null?void 0:_e.type)||(_e==null?void 0:_e.assetType)||"Unknown",location:(_e==null?void 0:_e.location)||"Unknown location"};Lt.push(ft),console.log(` Processed asset ${je}:`,ft)}catch(je){console.error(` Error processing asset at index ${ze}:`,je)}console.log(` Loaded ${Lt.length} marketplace assets`),M(Lt)}catch(W){console.error(" Failed to load marketplace assets:",W),ue.error("Failed to load marketplace assets"),M([])}finally{j(!1)}},se=async()=>{if(!f){ue.error("Admin contract not initialized");return}if(console.log(` Creating new ${z.role} account:`,z),!z.firstName||!z.lastName||!z.email||!z.password||!z.walletAddress){ue.error("Please fill all required fields");return}if(z.password!==z.confirmPassword){ue.error("Passwords do not match");return}if(z.password.length<6){ue.error("Password must be at least 6 characters long");return}if(z.firstName.trim().length<2){ue.error("First name must be at least 2 characters long");return}if(z.lastName.trim().length<2){ue.error("Last name must be at least 2 characters long");return}if(z.firstName.trim().length>50){ue.error("First name cannot exceed 50 characters");return}if(z.lastName.trim().length>50){ue.error("Last name cannot exceed 50 characters");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(z.email)){ue.error("Please provide a valid email address");return}try{const de=Ro(z.walletAddress);console.log(" Valid wallet address:",de)}catch{ue.error("Invalid wallet address format or checksum");return}if(J(!0),console.log(" Contract Configuration Check:"),console.log("ADMIN_CONTRACT:",yn),console.log("Signer available:",!!s),console.log("Network:",Nt),!yn){console.error(" ADMIN_CONTRACT not configured"),ue.error("UserRegistry contract address not configured"),J(!1);return}try{console.log(" Step 1: Registering user in backend...");const de={firstName:z.firstName,lastName:z.lastName,email:z.email,password:z.password,confirmPassword:z.confirmPassword,walletAddress:z.walletAddress,role:z.role};try{console.log(" Sending registration data:",de);const ne=await Wpe(de);console.log(" User registered in backend successfully:",ne),ue.success("User registered in backend")}catch(ne){console.error(" Backend registration failed:",ne),console.error(" Registration data that failed:",de);let le="Failed to register user in backend";ne&&typeof ne=="object"&&ne.message&&(le=ne.message),ue.error(`Backend registration failed: ${le}`),J(!1);return}if(z.role==="issuer"){console.log(" Step 2: Uploading issuer metadata to IPFS...");const ne={name:`${z.firstName} ${z.lastName}`,email:z.email,walletAddress:z.walletAddress,role:"issuer",joinedDate:new Date().toISOString().split("T")[0],createdBy:"admin",type:"issuer-profile"};let le;try{le=await AR(ne),console.log(" Metadata uploaded to IPFS:",le),ue.success("Metadata uploaded to IPFS")}catch(Ne){console.error(" IPFS upload failed:",Ne),ue.error("Failed to upload metadata to IPFS"),J(!1);return}console.log(" Step 3: Adding issuer to smart contract...");try{if(!s)throw new Error("Wallet not connected");const Ne=await s.provider.getNetwork();console.log(" Current network:",Ne.name,"Chain ID:",Ne.chainId);const Re=Et[Nt].chainId;if(console.log(" Expected Chain ID:",Re),Ne.chainId!==Re)throw new Error(`Wrong network. Please switch to ${Nt} (Chain ID: ${Re})`);if(!yn)throw new Error("UserRegistry contract address not configured");console.log(" Creating UserRegistry contract instance..."),console.log("Contract Address:",yn),console.log("Signer Address:",await s.getAddress());const Pe=new Xe(yn,As.ADMIN,s);if(await s.provider.getCode(yn)==="0x")throw new Error(`No contract found at address: ${yn}`);const ze=`ipfs://${le}`,je=Ro(z.walletAddress);try{const Fe=await Pe.owner(),_e=await s.getAddress();if(console.log(" Contract responsive. Owner:",Fe),console.log("Current Admin Address:",_e),Fe.toLowerCase()!==_e.toLowerCase())throw new Error(`Access denied: Only contract owner can add issuers. Owner: ${Fe}, Current: ${_e}`);if(await Pe.isIssuer(je))throw new Error("Address is already registered as an issuer");console.log(" Address validation passed, proceeding with addIssuer...")}catch(Fe){throw console.error(" Pre-validation failed:",Fe),new Error(`Contract validation failed: ${Fe.message}`)}console.log(" Calling addIssuer function on UserRegistry..."),console.log("UserRegistry Address:",yn),console.log("Address:",je),console.log("Metadata URI:",ze);const We=await Pe.addIssuer(je,ze);console.log(" Transaction sent:",We.hash),ue.success(`Transaction sent: ${We.hash.slice(0,10)}...`),console.log(" Waiting for transaction confirmation...");const be=await We.wait();console.log(" Transaction confirmed:",be.transactionHash),ue.success("Issuer added to blockchain successfully!");const Se={id:je,address:je,name:`${z.firstName} ${z.lastName}`,email:z.email,role:"issuer",status:"active",metadataURI:ze,joinedDate:new Date().toISOString().split("T")[0],lastActive:new Date().toISOString().split("T")[0],tokensManaged:0,totalVolume:0};d(Fe=>[...Fe,Se]),B(Fe=>({...Fe,totalIssuers:Fe.totalIssuers+1}))}catch(Ne){console.error(" Smart contract call failed:",Ne),Ne.reason?(console.error("Contract Error Reason:",Ne.reason),ue.error(`Smart contract error: ${Ne.reason}`)):Ne.message?(console.error("Contract Error Message:",Ne.message),ue.error(`Failed to add issuer: ${Ne.message}`)):(console.error("Unknown contract error:",Ne),ue.error("Failed to add issuer to smart contract")),J(!1);return}}else if(z.role==="manager"){console.log(" Step 2: Uploading manager metadata to IPFS...");const ne={name:`${z.firstName} ${z.lastName}`,email:z.email,walletAddress:z.walletAddress,role:"manager",joinedDate:new Date().toISOString().split("T")[0],createdBy:"admin",type:"manager-profile",tokensManaged:0,totalVolume:0,assignedTokens:[]};let le;try{le=await AR(ne),console.log(" Manager metadata uploaded to IPFS:",le),ue.success("Manager metadata uploaded to IPFS")}catch(Ne){console.error(" IPFS upload failed:",Ne),ue.error("Failed to upload manager metadata to IPFS"),J(!1);return}console.log(" Step 3: Adding manager to smart contract...");try{if(!s)throw new Error("Wallet not connected");const Ne=await s.provider.getNetwork();console.log(" Current network:",Ne.name,"Chain ID:",Ne.chainId);const Re=Et[Nt].chainId;if(console.log(" Expected Chain ID:",Re),Ne.chainId!==Re)throw new Error(`Wrong network. Please switch to ${Nt} (Chain ID: ${Re})`);if(!yn)throw new Error("UserRegistry contract address not configured");console.log(" Creating UserRegistry contract instance..."),console.log("Contract Address:",yn),console.log("Signer Address:",await s.getAddress());const Pe=new Xe(yn,As.ADMIN,s);if(await s.provider.getCode(yn)==="0x")throw new Error(`No contract found at address: ${yn}`);const ze=`ipfs://${le}`,je=Ro(z.walletAddress);console.log(" Calling addManager function on UserRegistry..."),console.log("UserRegistry Address:",yn),console.log("Address:",je),console.log("Metadata URI:",ze);const We=await Pe.addManager(je,ze);console.log(" Transaction sent:",We.hash),ue.success(`Transaction sent: ${We.hash.slice(0,10)}...`),console.log(" Waiting for transaction confirmation...");const be=await We.wait();console.log(" Transaction confirmed:",be.transactionHash),ue.success("Manager added to blockchain successfully!");const Se={id:je,address:je,name:`${z.firstName} ${z.lastName}`,email:z.email,role:"manager",status:"active",metadataURI:ze,joinedDate:new Date().toISOString().split("T")[0],lastActive:new Date().toISOString().split("T")[0],tokensManaged:0,totalVolume:0,assignedTokens:[]};h(Fe=>[...Fe,Se]),B(Fe=>({...Fe,totalManagers:Fe.totalManagers+1}))}catch(Ne){console.error(" Smart contract call failed:",Ne),Ne.reason?(console.error("Contract Error Reason:",Ne.reason),ue.error(`Smart contract error: ${Ne.reason}`)):Ne.message?(console.error("Contract Error Message:",Ne.message),ue.error(`Failed to add manager: ${Ne.message}`)):(console.error("Unknown contract error:",Ne),ue.error("Failed to add manager to smart contract")),J(!1);return}}else ue.success(`${z.role} account created in backend`);D(!1),K({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",walletAddress:"",role:"issuer",metadataURI:""}),console.log(" User creation process completed successfully")}catch(de){console.error(" Error in user creation process:",de),ue.error(`Failed to create user: ${de.message}`)}finally{J(!1)}},X=async()=>{if(H){if(!s){ue.error("Please connect your wallet");return}J(!0);try{console.log(" Removing user from contract:",H);const W=new Xe(yn,As.ADMIN,s);let de;if(H.role==="issuer")console.log(" Calling removeIssuer on UserRegistry..."),de=await W.removeIssuer(H.address);else if(H.role==="manager")console.log(" Calling removeManager on UserRegistry..."),de=await W.removeManager(H.address);else throw new Error("Invalid user role");console.log(" Transaction sent:",de.hash),ue.loading("Transaction submitted. Waiting for confirmation...");const ne=await de.wait();console.log(" Transaction confirmed:",ne),await he(),ue.success(`${H.role==="issuer"?"Issuer":"Manager"} removed successfully!`),O(!1),q(null)}catch(W){console.error("Error removing user:",W),W.code==="ACTION_REJECTED"?ue.error("Transaction was rejected by user"):W.reason?ue.error(`Contract error: ${W.reason}`):W.message.includes("revert")?ue.error("Transaction reverted. Check if you have admin permissions and the user exists."):W.message.includes("Not an issuer")?ue.error("This address is not registered as an issuer"):W.message.includes("Not a manager")?ue.error("This address is not registered as a manager"):ue.error(`Failed to remove user: ${W.message}`)}finally{J(!1)}}},re=async()=>{if(!f){ue.error("Admin contract not initialized");return}J(!0);try{console.log(" Toggling marketplace status on blockchain..."),console.log("Current marketplace paused status:",w);const W=await f.pauseMarketplace();console.log(" Transaction sent:",W.hash),ue.success(`Transaction sent: ${W.hash.slice(0,10)}...`),console.log(" Waiting for transaction confirmation...");const de=await W.wait();console.log(" Transaction confirmed:",de.transactionHash);const ne=await f.marketplacePaused();console.log(" New marketplace status from contract:",ne),b(ne),B(Ne=>({...Ne,marketplaceStatus:!ne}));const le=ne?"paused":"resumed";ue.success(`Marketplace ${le} successfully on blockchain!`),console.log(` Marketplace ${le} successfully`),$(!1)}catch(W){console.error(" Error toggling marketplace on blockchain:",W),W.code===4001?ue.error("Transaction rejected by user"):W.code==="UNPREDICTABLE_GAS_LIMIT"?ue.error("Gas estimation failed - check contract state"):ue.error(`Failed to toggle marketplace: ${W.message}`)}finally{J(!1)}},ve=()=>{$(!0)},$e=async()=>{if(!te.selectedAsset){ue.error("Please select an asset to assign");return}if(!te.managerAddress){ue.error("Manager address is required");return}if(!s){ue.error("Please connect your wallet");return}J(!0);try{console.log(" Assigning token to manager...",te);const W=new Xe(yn,As.ADMIN,s),de=parseInt(te.selectedAsset.tokenId),ne=await W.assignManager(te.managerAddress,de);console.log(" Transaction sent:",ne.hash),ue.loading("Transaction submitted. Waiting for confirmation...");const le=await ne.wait();console.log(" Transaction confirmed:",le),ue.success("Token assigned to manager successfully!"),await he(),P(!1),Me({tokenId:"",managerAddress:"",selectedAsset:null})}catch(W){console.error("Error assigning token:",W),W.code==="ACTION_REJECTED"?ue.error("Transaction was rejected by user"):W.reason?ue.error(`Contract error: ${W.reason}`):W.message.includes("revert")?ue.error("Transaction reverted. Check if you have admin permissions and the manager exists."):ue.error(`Failed to assign token: ${W.message}`)}finally{J(!1)}},it=W=>{Me({tokenId:"",managerAddress:W.address,selectedAsset:null}),P(!0),ke()},Oe=async()=>{J(!0);try{if(console.log(" Fetching pending assets from TokenManagement contract..."),!g)throw new Error("AdminTokenManagementService not initialized");const W=await g.getFormattedPendingAssets();console.log(" Fetched assets from TokenManagement:",W),U(W),ue.success(`Found ${W.length} pending requests`)}catch(W){console.error(" Error fetching assets from contract:",W),ue.error("Failed to fetch pending requests: "+W.message)}finally{J(!1)}},ht=async()=>{try{console.log(" Fetching pending assets from TokenManagement contract and localStorage...");const W=JSON.parse(localStorage.getItem("pendingAssets")||"[]");console.log(" Assets from localStorage:",W.length);let de=[...W];if(f)try{const ne=await f.getAllAssets();console.log(" All asset IDs from contract:",ne);for(const le of ne)try{const Ne=await f.isAssetActive(le),Re=await f.getAssetInfo(le);Ne||de.some(Lt=>Lt.assetId===le)||de.push({assetId:le,name:Re.ipfsMetadataCID?`Asset ${le.slice(0,8)}...`:"Unknown Asset",description:"Asset awaiting approval",status:"Pending",createdAt:new Date(Re.registrationTimestamp*1e3),metadataURI:Re.ipfsMetadataCID||""})}catch(Ne){console.warn(`Failed to fetch info for asset ${le}:`,Ne)}}catch(ne){console.warn(" Failed to fetch from AssetRegistry contract:",ne)}else console.warn(" Admin contract not initialized, using localStorage only");U(de),console.log(" Total pending assets loaded:",de.length),console.log(" Pending assets:",de)}catch(W){console.error(" Error fetching pending assets:",W),ue.error("Failed to load pending assets"),U([])}},lt=async(W,de)=>{var ne,le,Ne;try{if(console.log(` ${de?"Approving":"Rejecting"} token request ${W}...`),!g)throw new Error("TokenManagement service not initialized");if(de){console.log(" Calling TokenManagement.approveTokenRequest...");const Re=await g.approveTokenRequest(W);console.log(" Approval result:",Re),ue.success(`Token request approved! Transaction: ${Re.txHash.slice(0,10)}...`),ue.success("Issuer can now deploy their token from the issuer dashboard")}else{console.log(" Calling TokenManagement.rejectTokenRequest...");const Pe=await g.rejectTokenRequest(W,"Rejected by admin");console.log(" Rejection result:",Pe),ue.success(`Token request rejected! Transaction: ${Pe.txHash.slice(0,10)}...`)}console.log(" Refreshing pending assets from contract..."),await Oe(),console.log(` Token request ${de?"approved":"rejected"} successfully on blockchain!`)}catch(Re){console.error(` Error ${de?"approving":"rejecting"} token request:`,Re),Re.code===4001?ue.error("Transaction rejected by user"):(ne=Re.message)!=null&&ne.includes("TokenManagement service not initialized")?ue.error("Admin service not ready. Please refresh the page."):(le=Re.message)!=null&&le.includes("Request does not exist")?ue.error("Token request not found in contract"):(Ne=Re.message)!=null&&Ne.includes("Request not pending")?ue.error("Token request is no longer pending"):ue.error(`Failed to ${de?"approve":"reject"} token request: ${Re.message}`)}},me=async W=>{var de,ne;try{console.log(" Fetching asset metadata:",W);const le=await A0(W),Ne={name:le.name||"Unknown",description:le.description||"No description",assetType:((ne=(de=le.attributes)==null?void 0:de.find(Pe=>Pe.trait_type==="Asset Type"))==null?void 0:ne.value)||"Unknown",intendedMintAmount:le.intendedMintAmount||"Not specified",assetDetails:le.assetDetails||{}},Re=[`Name: ${Ne.name}`,`Description: ${Ne.description}`,`Asset Type: ${Ne.assetType}`,`Intended Mint Amount: ${Ne.intendedMintAmount}`,"","Asset Details:",...Object.entries(Ne.assetDetails).map(([Pe,Lt])=>`  ${Pe}: ${Lt}`)].join(`
`);alert(`Asset Metadata:

${Re}`)}catch(le){console.error(" Error fetching metadata:",le),ue.error("Failed to load asset metadata")}};return v.useEffect(()=>{(f||g)&&o==="approvals"&&ht()},[f,g,o]),a.jsxs("div",{className:`min-h-screen ${r?"bg-slate-900":"bg-slate-50"}`,children:[a.jsx("header",{className:`${r?"bg-slate-800/95 backdrop-blur-md border-slate-700/50":"bg-white/95 backdrop-blur-md border-slate-200/60"} border-b sticky top-0 z-50 shadow-sm`,children:a.jsx("div",{className:"max-w-7xl mx-auto px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-9 h-9 bg-slate-800 rounded-lg flex items-center justify-center shadow-md",children:a.jsx(Po,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:`text-lg font-semibold tracking-tight ${r?"text-white":"text-slate-900"}`,children:"Administration Console"}),a.jsx("p",{className:`text-sm ${r?"text-slate-400":"text-slate-600"}`,children:"Platform Management & Control"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:`flex items-center space-x-2 px-3 py-1.5 rounded-md text-xs font-medium ${w?"bg-red-50 text-red-700 border border-red-200":"bg-emerald-50 text-emerald-700 border border-emerald-200"} ${r&&(w?"bg-red-900/20 text-red-400 border-red-800/30":"bg-emerald-900/20 text-emerald-400 border-emerald-800/30")}`,children:[a.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${w?"bg-red-500":"bg-emerald-500"}`}),a.jsx("span",{children:w?"Trading Suspended":"System Operational"})]}),a.jsxs("div",{className:`flex items-center space-x-2 px-3 py-1.5 rounded-md text-xs font-medium ${e?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"} ${r&&(e?"bg-green-900/20 text-green-400 border-green-800/30":"bg-red-900/20 text-red-400 border-red-800/30")}`,children:[a.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${e?"bg-green-500":"bg-red-500"}`}),a.jsx("span",{children:e?"Wallet Connected":"Wallet Disconnected"})]}),!e&&a.jsx(Z,{onClick:n,size:"sm",className:"bg-slate-900 hover:bg-slate-800 text-white px-3 py-1.5 text-xs",children:"Connect Wallet"}),a.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>i(!r),className:`${r?"text-slate-400 hover:text-white hover:bg-slate-700":"text-slate-600 hover:text-slate-900 hover:bg-slate-100"} h-8 w-8 p-0`,children:r?a.jsx(MO,{className:"w-4 h-4"}):a.jsx(_O,{className:"w-4 h-4"})}),a.jsx(Z,{variant:"ghost",size:"sm",className:`${r?"text-slate-400 hover:text-white hover:bg-slate-700":"text-slate-600 hover:text-slate-900 hover:bg-slate-100"} h-8 w-8 p-0`,children:a.jsx(zu,{className:"w-4 h-4"})}),a.jsx(Z,{asChild:!0,variant:"ghost",size:"sm",className:`${r?"text-slate-400 hover:text-white hover:bg-slate-700":"text-slate-600 hover:text-slate-900 hover:bg-slate-100"}`,children:a.jsxs(lN,{to:"/marketplace",className:"flex items-center space-x-2 px-3 py-1.5",children:[a.jsx(ns,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:"Marketplace"})]})}),a.jsx(Z,{asChild:!0,variant:"ghost",size:"sm",className:`${r?"text-slate-400 hover:text-white hover:bg-slate-700":"text-slate-600 hover:text-slate-900 hover:bg-slate-100"}`,children:a.jsxs(lN,{to:"/",className:"flex items-center space-x-2 px-3 py-1.5",children:[a.jsx(Id,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:"Home"})]})}),a.jsx("div",{className:"w-px h-6 bg-slate-300 dark:bg-slate-600"}),a.jsx(Qu,{className:"h-8 w-8 border border-slate-200 dark:border-slate-700",children:a.jsx(Ju,{className:"text-xs bg-slate-100 dark:bg-slate-800",children:"AD"})})]})]})})}),a.jsx("main",{className:"max-w-7xl mx-auto px-6 lg:px-8 py-8",children:a.jsxs(zo,{value:o,onValueChange:l,className:"space-y-8",children:[a.jsxs(Ho,{className:`inline-flex h-10 items-center justify-center rounded-lg p-1 ${r?"bg-slate-800 text-slate-400":"bg-slate-100 text-slate-600"}`,children:[a.jsx(bn,{value:"overview",className:"data-[state=active]:bg-white data-[state=active]:text-slate-900 data-[state=active]:shadow-sm dark:data-[state=active]:bg-slate-700 dark:data-[state=active]:text-white",children:"Overview"}),a.jsx(bn,{value:"issuers",className:"data-[state=active]:bg-white data-[state=active]:text-slate-900 data-[state=active]:shadow-sm dark:data-[state=active]:bg-slate-700 dark:data-[state=active]:text-white",children:"Issuers"}),a.jsx(bn,{value:"approvals",className:"data-[state=active]:bg-white data-[state=active]:text-slate-900 data-[state=active]:shadow-sm dark:data-[state=active]:bg-slate-700 dark:data-[state=active]:text-white",children:"Asset Approvals"}),a.jsx(bn,{value:"managers",className:"data-[state=active]:bg-white data-[state=active]:text-slate-900 data-[state=active]:shadow-sm dark:data-[state=active]:bg-slate-700 dark:data-[state=active]:text-white",children:"Managers"}),a.jsx(bn,{value:"system",className:"data-[state=active]:bg-white data-[state=active]:text-slate-900 data-[state=active]:shadow-sm dark:data-[state=active]:bg-slate-700 dark:data-[state=active]:text-white",children:"System"}),a.jsx(bn,{value:"settlements",className:"data-[state=active]:bg-white data-[state=active]:text-slate-900 data-[state=active]:shadow-sm dark:data-[state=active]:bg-slate-700 dark:data-[state=active]:text-white",children:"Invoice Settlements"})]}),a.jsxs(Nn,{value:"overview",className:"space-y-8",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6",children:[a.jsx(pe,{className:`${r?"bg-slate-800/50 border-slate-700/50":"bg-white border-slate-200"} shadow-sm hover:shadow-md transition-shadow duration-200`,children:a.jsx(ge,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:`text-sm font-medium ${r?"text-slate-400":"text-slate-600"}`,children:"Active Issuers"}),a.jsx("p",{className:`text-2xl font-semibold tracking-tight ${r?"text-white":"text-slate-900"}`,children:T?a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 border-2 border-slate-300 border-t-slate-600 rounded-full animate-spin"}),a.jsx("span",{className:"text-lg",children:"Loading..."})]}):R.totalIssuers}),a.jsx("p",{className:"text-xs text-emerald-600 dark:text-emerald-400",children:"Live contract data"})]}),a.jsx("div",{className:"p-3 bg-slate-100 dark:bg-slate-700 rounded-lg",children:a.jsx(Uc,{className:"w-5 h-5 text-slate-700 dark:text-slate-300"})})]})})}),a.jsx(pe,{className:`${r?"bg-slate-800/50 border-slate-700/50":"bg-white border-slate-200"} shadow-sm hover:shadow-md transition-shadow duration-200`,children:a.jsx(ge,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:`text-sm font-medium ${r?"text-slate-400":"text-slate-600"}`,children:"Property Managers"}),a.jsx("p",{className:`text-2xl font-semibold tracking-tight ${r?"text-white":"text-slate-900"}`,children:T?a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 border-2 border-slate-300 border-t-slate-600 rounded-full animate-spin"}),a.jsx("span",{className:"text-lg",children:"Loading..."})]}):R.totalManagers}),a.jsx("p",{className:"text-xs text-emerald-600 dark:text-emerald-400",children:"Live contract data"})]}),a.jsx("div",{className:"p-3 bg-slate-100 dark:bg-slate-700 rounded-lg",children:a.jsx(Ah,{className:"w-5 h-5 text-slate-700 dark:text-slate-300"})})]})})}),a.jsx(pe,{className:`${r?"bg-slate-800/50 border-slate-700/50":"bg-white border-slate-200"} shadow-sm hover:shadow-md transition-shadow duration-200`,children:a.jsx(ge,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:`text-sm font-medium ${r?"text-slate-400":"text-slate-600"}`,children:"Active Tokens"}),a.jsx("p",{className:`text-2xl font-semibold tracking-tight ${r?"text-white":"text-slate-900"}`,children:R.activeTokens}),a.jsx("p",{className:"text-xs text-emerald-600 dark:text-emerald-400",children:"+3 this week"})]}),a.jsx("div",{className:"p-3 bg-slate-100 dark:bg-slate-700 rounded-lg",children:a.jsx(fS,{className:"w-5 h-5 text-slate-700 dark:text-slate-300"})})]})})}),a.jsx(pe,{className:`${r?"bg-slate-800/50 border-slate-700/50":"bg-white border-slate-200"} shadow-sm hover:shadow-md transition-shadow duration-200`,children:a.jsx(ge,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:`text-sm font-medium ${r?"text-slate-400":"text-slate-600"}`,children:"Total Volume"}),a.jsxs("p",{className:`text-2xl font-semibold tracking-tight ${r?"text-white":"text-slate-900"}`,children:["$",(R.totalVolume/1e6).toFixed(1),"M"]}),a.jsx("p",{className:"text-xs text-emerald-600 dark:text-emerald-400",children:"+$2.1M this month"})]}),a.jsx("div",{className:"p-3 bg-slate-100 dark:bg-slate-700 rounded-lg",children:a.jsx(ns,{className:"w-5 h-5 text-slate-700 dark:text-slate-300"})})]})})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs(pe,{className:`${r?"bg-slate-800/50 border-slate-700/50":"bg-white border-slate-200"} shadow-sm`,children:[a.jsxs(yt,{className:"pb-4",children:[a.jsx(vt,{className:`text-lg font-semibold ${r?"text-white":"text-slate-900"}`,children:"Administrative Actions"}),a.jsx("p",{className:`text-sm ${r?"text-slate-400":"text-slate-600"}`,children:"Manage platform users and system settings"})]}),a.jsx(ge,{children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs(Z,{onClick:()=>D(!0),disabled:!e,className:"h-20 flex-col space-y-2 bg-slate-900 hover:bg-slate-800 text-white border-0 shadow-sm hover:shadow-md transition-all duration-200 disabled:opacity-50",children:[a.jsx(Eq,{className:"w-5 h-5"}),a.jsx("span",{className:"text-sm font-medium",children:e?"Add User":"Connect Wallet"})]}),a.jsxs(Z,{onClick:he,disabled:T||!e,variant:"outline",className:`h-20 flex-col space-y-2 ${r?"border-slate-700 bg-slate-800/30 text-slate-300 hover:bg-slate-700":"border-slate-200 bg-slate-50 text-slate-600 hover:bg-slate-100"} disabled:opacity-50`,children:[T?a.jsx(Un,{className:"w-5 h-5 animate-spin"}):a.jsx(Un,{className:"w-5 h-5"}),a.jsx("span",{className:"text-sm font-medium",children:T?"Loading...":"Refresh Data"})]}),a.jsxs(Z,{variant:"outline",className:`h-20 flex-col space-y-2 ${r?"border-slate-700 bg-slate-800/30 text-slate-300 hover:bg-slate-700":"border-slate-200 bg-slate-50 text-slate-600 hover:bg-slate-100"}`,children:[a.jsx(Gi,{className:"w-5 h-5"}),a.jsx("span",{className:"text-sm font-medium",children:"Audit Logs"})]}),a.jsxs(Z,{variant:"outline",className:`h-20 flex-col space-y-2 ${r?"border-slate-700 bg-slate-800/30 text-slate-300 hover:bg-slate-700":"border-slate-200 bg-slate-50 text-slate-600 hover:bg-slate-100"}`,children:[a.jsx(hq,{className:"w-5 h-5"}),a.jsx("span",{className:"text-sm font-medium",children:"Fee Management"})]}),a.jsxs(Z,{variant:"outline",className:`h-20 flex-col space-y-2 ${r?"border-slate-700 bg-slate-800/30 text-slate-300 hover:bg-slate-700":"border-slate-200 bg-slate-50 text-slate-600 hover:bg-slate-100"}`,children:[a.jsx(IO,{className:"w-5 h-5"}),a.jsx("span",{className:"text-sm font-medium",children:"Asset Registry"})]})]})})]})}),a.jsx("div",{children:a.jsxs(pe,{className:`${r?"bg-slate-800/50 border-slate-700/50":"bg-white border-slate-200"} shadow-sm`,children:[a.jsx(yt,{className:"pb-4",children:a.jsx(vt,{className:`text-lg font-semibold ${r?"text-white":"text-slate-900"}`,children:"System Health"})}),a.jsxs(ge,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${w?"bg-red-500":"bg-emerald-500"}`}),a.jsx("span",{className:`text-sm ${r?"text-slate-300":"text-slate-700"}`,children:"Trading Engine"})]}),a.jsx(Ue,{variant:w?"destructive":"default",className:"text-xs",children:w?"Paused":"Active"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),a.jsx("span",{className:`text-sm ${r?"text-slate-300":"text-slate-700"}`,children:"Smart Contracts"})]}),a.jsx(Ue,{variant:"default",className:"text-xs",children:"Deployed"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),a.jsx("span",{className:`text-sm ${r?"text-slate-300":"text-slate-700"}`,children:"Infrastructure"})]}),a.jsx(Ue,{variant:"default",className:"text-xs",children:"Healthy"})]})]})]})})]})]}),a.jsxs(Nn,{value:"issuers",className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:`text-xl font-semibold tracking-tight ${r?"text-white":"text-slate-900"}`,children:"Platform Issuers"}),a.jsx("p",{className:`text-sm ${r?"text-slate-400":"text-slate-600"}`,children:"Manage tokenization partners and authorized issuers"})]}),a.jsxs(Z,{onClick:()=>{K(W=>({...W,role:"issuer"})),D(!0)},className:"bg-slate-900 hover:bg-slate-800 text-white shadow-sm",children:[a.jsx(Ol,{className:"w-4 h-4 mr-2"}),"Add Issuer"]})]}),a.jsx("div",{className:"space-y-4",children:c.map(W=>a.jsx(pe,{className:`${r?"bg-slate-800/50 border-slate-700/50":"bg-white border-slate-200"} shadow-sm hover:shadow-md transition-all duration-200`,children:a.jsx(ge,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(Qu,{className:"h-11 w-11 border border-slate-200 dark:border-slate-700",children:a.jsx(Ju,{className:"bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 font-medium",children:W.name.charAt(0)})}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("h3",{className:`font-medium ${r?"text-white":"text-slate-900"}`,children:W.name}),a.jsx("p",{className:`text-sm ${r?"text-slate-400":"text-slate-600"}`,children:W.email}),a.jsxs("p",{className:"text-xs font-mono text-slate-500",children:[W.address.slice(0,8),"...",W.address.slice(-6)]})]})]}),a.jsxs("div",{className:"flex items-center space-x-8",children:[a.jsxs("div",{className:"text-right space-y-1",children:[a.jsxs("p",{className:`text-sm font-medium ${r?"text-white":"text-slate-900"}`,children:[W.tokensManaged," Active Tokens"]}),a.jsxs("p",{className:`text-sm ${r?"text-slate-400":"text-slate-600"}`,children:["$",(W.totalVolume/1e6).toFixed(1),"M Total Volume"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${W.status==="active"?"bg-emerald-500":"bg-slate-400"}`}),a.jsx(Ue,{variant:W.status==="active"?"default":"secondary",className:"text-xs font-medium",children:W.status})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(Z,{variant:"outline",size:"sm",className:"h-8 w-8 p-0",onClick:()=>{q(W),I(!0)},children:a.jsx(sa,{className:"w-4 h-4"})}),a.jsx(Z,{variant:"outline",size:"sm",className:"h-8 w-8 p-0 text-red-600 border-red-200 hover:bg-red-50 dark:text-red-400 dark:border-red-800 dark:hover:bg-red-950",onClick:()=>{q(W),O(!0)},children:a.jsx(EE,{className:"w-4 h-4"})})]})]})]})})},W.id))})]}),a.jsxs(Nn,{value:"approvals",className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:`text-xl font-semibold tracking-tight ${r?"text-white":"text-slate-900"}`,children:"Asset Approvals"}),a.jsx("p",{className:`text-sm ${r?"text-slate-400":"text-slate-600"}`,children:"Review and approve asset registrations from issuers"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Z,{onClick:()=>Oe(),variant:"default",className:"bg-green-600 hover:bg-green-700 text-white",children:" Load from Contract"}),a.jsx(Z,{onClick:async()=>{if(console.log(" Debug: Testing TokenManagement service..."),console.log(" AdminTokenManagementService:",g),g)try{const W=await g.getPendingTokenRequests();console.log(" Raw pending requests:",W);const de=await g.getFormattedPendingAssets();console.log(" Formatted pending assets:",de),ue.success(`Found ${W.length} pending requests`)}catch(W){console.error(" Debug error:",W),ue.error("Debug test failed: "+W.message)}else ue.error("TokenManagement service not initialized")},variant:"outline",className:`${r?"border-blue-600 text-blue-300 hover:bg-blue-800":"border-blue-300 text-blue-700 hover:bg-blue-50"}`,children:" Debug"}),a.jsxs(Z,{onClick:()=>ht(),variant:"outline",className:`${r?"border-slate-600 text-slate-300 hover:bg-slate-800":"border-slate-300 text-slate-700 hover:bg-slate-50"}`,children:[a.jsx(Un,{className:"w-4 h-4 mr-2"}),"Refresh (Old)"]})]})]}),a.jsx("div",{className:"grid grid-cols-1 gap-6",children:V.length===0?a.jsx(pe,{className:`${r?"bg-slate-800/50 border-slate-700/50":"bg-white border-slate-200"}`,children:a.jsxs(ge,{className:"p-12 text-center",children:[a.jsx(Gi,{className:`w-16 h-16 mx-auto mb-4 ${r?"text-slate-600":"text-slate-400"}`}),a.jsx("h3",{className:`text-lg font-medium mb-2 ${r?"text-white":"text-slate-900"}`,children:"No Pending Assets"}),a.jsx("p",{className:`${r?"text-slate-400":"text-slate-600"}`,children:"All asset registrations have been reviewed"})]})}):V.map((W,de)=>a.jsx(pe,{className:`${r?"bg-slate-800/50 border-slate-700/50":"bg-white border-slate-200"} shadow-sm hover:shadow-md transition-shadow duration-200`,children:a.jsxs(ge,{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h3",{className:`text-lg font-semibold ${r?"text-white":"text-slate-900"}`,children:W.name}),a.jsx(Ue,{variant:W.status==="Pending"?"secondary":W.status==="Approved"?"default":"destructive",children:W.status})]}),a.jsx("p",{className:`text-sm ${r?"text-slate-400":"text-slate-600"} mb-3 line-clamp-2`,children:W.description}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:`${r?"text-slate-400":"text-slate-600"}`,children:"Asset ID:"}),a.jsxs("span",{className:`ml-2 font-mono ${r?"text-slate-300":"text-slate-700"}`,children:["#",W.assetId]})]}),a.jsxs("div",{children:[a.jsx("span",{className:`${r?"text-slate-400":"text-slate-600"}`,children:"Price per Token:"}),a.jsxs("span",{className:`ml-2 font-semibold ${r?"text-white":"text-slate-900"}`,children:[W.price," Flow"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:`${r?"text-slate-400":"text-slate-600"}`,children:"Submitted:"}),a.jsx("span",{className:`ml-2 ${r?"text-slate-300":"text-slate-700"}`,children:new Date(W.createdAt).toLocaleDateString()})]}),a.jsxs("div",{children:[a.jsx("span",{className:`${r?"text-slate-400":"text-slate-600"}`,children:"Issuer:"}),a.jsx("span",{className:`ml-2 font-mono text-xs ${r?"text-slate-300":"text-slate-700"}`,children:W.issuer?`${W.issuer.slice(0,6)}...${W.issuer.slice(-4)}`:"Unknown"})]})]})]}),W.status==="Pending"&&a.jsxs("div",{className:"flex gap-2 ml-4",children:[a.jsxs(Z,{onClick:()=>lt(W.assetId,!0),size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",children:[a.jsx(Gn,{className:"w-4 h-4 mr-1"}),"Approve"]}),a.jsxs(Z,{onClick:()=>lt(W.assetId,!1),size:"sm",variant:"destructive",children:[a.jsx(uq,{className:"w-4 h-4 mr-1"}),"Reject"]})]})]}),a.jsx("div",{className:"pt-4 border-t border-slate-200 dark:border-slate-700",children:a.jsxs(Z,{onClick:()=>me(W.metadataURI),variant:"outline",size:"sm",className:`${r?"border-slate-600 text-slate-300 hover:bg-slate-800":"border-slate-300 text-slate-700 hover:bg-slate-50"}`,children:[a.jsx(sa,{className:"w-4 h-4 mr-2"}),"View Details"]})})]})},de))})]}),a.jsxs(Nn,{value:"managers",className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:`text-xl font-semibold tracking-tight ${r?"text-white":"text-slate-900"}`,children:"Property Managers"}),a.jsx("p",{className:`text-sm ${r?"text-slate-400":"text-slate-600"}`,children:"Manage asset managers and property supervisors"})]}),a.jsxs(Z,{onClick:()=>{K(W=>({...W,role:"manager"})),D(!0)},className:"bg-slate-900 hover:bg-slate-800 text-white shadow-sm",children:[a.jsx(Ol,{className:"w-4 h-4 mr-2"}),"Add Manager"]})]}),a.jsx("div",{className:"space-y-4",children:u.map(W=>a.jsx(pe,{className:`${r?"bg-slate-800/50 border-slate-700/50":"bg-white border-slate-200"} shadow-sm hover:shadow-md transition-all duration-200`,children:a.jsx(ge,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(Qu,{className:"h-11 w-11 border border-slate-200 dark:border-slate-700",children:a.jsx(Ju,{className:"bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 font-medium",children:W.name.split(" ").map(de=>de.charAt(0)).join("")})}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("h3",{className:`font-medium ${r?"text-white":"text-slate-900"}`,children:W.name}),a.jsx("p",{className:`text-sm ${r?"text-slate-400":"text-slate-600"}`,children:W.email}),a.jsxs("p",{className:"text-xs font-mono text-slate-500",children:[W.address.slice(0,8),"...",W.address.slice(-6)]})]})]}),a.jsxs("div",{className:"flex items-center space-x-8",children:[a.jsxs("div",{className:"text-right space-y-1",children:[a.jsxs("p",{className:`text-sm font-medium ${r?"text-white":"text-slate-900"}`,children:[W.tokensManaged," Managed Assets"]}),a.jsxs("p",{className:`text-sm ${r?"text-slate-400":"text-slate-600"}`,children:["$",W.totalVolume.toLocaleString()," Monthly Income"]}),W.assignedTokens&&W.assignedTokens.length>0&&a.jsxs("p",{className:"text-xs text-slate-500 font-mono",children:["Tokens: ",W.assignedTokens.join(", ")]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${W.status==="active"?"bg-emerald-500":"bg-slate-400"}`}),a.jsx(Ue,{variant:W.status==="active"?"default":"secondary",className:"text-xs font-medium",children:W.status})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(Z,{variant:"outline",size:"sm",className:"h-8 w-8 p-0 text-blue-600 border-blue-200 hover:bg-blue-50 dark:text-blue-400 dark:border-blue-800 dark:hover:bg-blue-950",onClick:()=>it(W),title:"Assign Token",children:a.jsx(Ol,{className:"w-4 h-4"})}),a.jsx(Z,{variant:"outline",size:"sm",className:"h-8 w-8 p-0",onClick:()=>{q(W),I(!0)},children:a.jsx(sa,{className:"w-4 h-4"})}),a.jsx(Z,{variant:"outline",size:"sm",className:"h-8 w-8 p-0 text-red-600 border-red-200 hover:bg-red-50 dark:text-red-400 dark:border-red-800 dark:hover:bg-red-950",onClick:()=>{q(W),O(!0)},children:a.jsx(EE,{className:"w-4 h-4"})})]})]})]})})},W.id))})]}),a.jsxs(Nn,{value:"system",className:"space-y-6",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("div",{children:[a.jsx("h2",{className:`text-xl font-semibold tracking-tight ${r?"text-white":"text-slate-900"}`,children:"System Administration"}),a.jsx("p",{className:`text-sm ${r?"text-slate-400":"text-slate-600"}`,children:"Configure platform settings and monitor system health"})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs(pe,{className:`${r?"bg-slate-800/50 border-slate-700/50":"bg-white border-slate-200"} shadow-sm`,children:[a.jsxs(yt,{className:"pb-4",children:[a.jsx(vt,{className:`text-lg font-semibold ${r?"text-white":"text-slate-900"}`,children:"Trading Controls"}),a.jsx("p",{className:`text-sm ${r?"text-slate-400":"text-slate-600"}`,children:"Manage marketplace operations"})]}),a.jsxs(ge,{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:`font-medium ${r?"text-white":"text-slate-900"}`,children:"Marketplace Status"}),a.jsx("p",{className:`text-sm ${r?"text-slate-400":"text-slate-600"}`,children:w?"All trading operations are currently suspended":"Trading operations are active and functioning normally"})]}),a.jsx(G7,{checked:!w,onCheckedChange:ve,disabled:Q||!e})]}),a.jsx("div",{className:"pt-4 border-t border-slate-200 dark:border-slate-700",children:a.jsx(Z,{onClick:ve,disabled:Q||!e,className:"w-full",variant:w?"default":"destructive",children:Q?a.jsxs(a.Fragment,{children:[a.jsx(Un,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):a.jsxs(a.Fragment,{children:[w?a.jsx(ux,{className:"w-4 h-4 mr-2"}):a.jsx(Ql,{className:"w-4 h-4 mr-2"}),w?"Resume Trading":"Suspend Trading"]})})})]})]}),a.jsxs(pe,{className:`${r?"bg-slate-800/50 border-slate-700/50":"bg-white border-slate-200"} shadow-sm`,children:[a.jsxs(yt,{className:"pb-4",children:[a.jsx(vt,{className:`text-lg font-semibold ${r?"text-white":"text-slate-900"}`,children:"Platform Configuration"}),a.jsx("p",{className:`text-sm ${r?"text-slate-400":"text-slate-600"}`,children:"System settings and administration tools"})]}),a.jsxs(ge,{className:"space-y-3",children:[a.jsxs(Z,{variant:"outline",className:"w-full justify-start h-12",children:[a.jsx(gm,{className:"w-4 h-4 mr-3"}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"font-medium",children:"Fee Structure"}),a.jsx("div",{className:`text-xs ${r?"text-slate-400":"text-slate-600"}`,children:"Configure platform fees and commissions"})]})]}),a.jsxs(Z,{variant:"outline",className:"w-full justify-start h-12",children:[a.jsx(kh,{className:"w-4 h-4 mr-3"}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"font-medium",children:"Export Logs"}),a.jsx("div",{className:`text-xs ${r?"text-slate-400":"text-slate-600"}`,children:"Download system logs and audit trails"})]})]}),a.jsxs(Z,{variant:"outline",className:"w-full justify-start h-12",children:[a.jsx(na,{className:"w-4 h-4 mr-3"}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"font-medium",children:"Analytics Dashboard"}),a.jsx("div",{className:`text-xs ${r?"text-slate-400":"text-slate-600"}`,children:"View detailed platform analytics"})]})]})]})]})]})]}),a.jsxs(Nn,{value:"settlements",className:"space-y-6",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("div",{children:[a.jsx("h2",{className:`text-xl font-semibold tracking-tight ${r?"text-white":"text-slate-900"}`,children:"Invoice Settlement Management"}),a.jsx("p",{className:`text-sm ${r?"text-slate-400":"text-slate-600"}`,children:"Process invoice settlements and monitor token lifecycle"})]})}),a.jsxs("div",{className:"space-y-8",children:[a.jsx(T0e,{}),a.jsx(C0e,{})]})]})]})}),a.jsx(ir,{open:E,onOpenChange:D,children:a.jsxs(Vs,{className:`sm:max-w-md ${r?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-xl`,children:[a.jsxs(zs,{className:"space-y-3",children:[a.jsxs(Hs,{className:`text-lg font-semibold ${r?"text-white":"text-slate-900"}`,children:["Add ",z.role.charAt(0).toUpperCase()+z.role.slice(1)]}),a.jsxs(Ra,{className:`text-sm ${r?"text-slate-400":"text-slate-600"}`,children:["Create a new ",z.role," account with platform access and appropriate permissions."]})]}),a.jsxs("div",{className:"space-y-4 py-4 max-h-96 overflow-y-auto",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Rt,{htmlFor:"role",className:`text-sm font-medium ${r?"text-slate-200":"text-slate-700"}`,children:"User Role"}),a.jsxs($h,{value:z.role,onValueChange:W=>K(de=>({...de,role:W})),children:[a.jsx(Ld,{className:`${r?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300"}`,children:a.jsx(Fh,{})}),a.jsxs(Bd,{children:[a.jsx(kr,{value:"issuer",children:"Platform Issuer"}),a.jsx(kr,{value:"manager",children:"Property Manager"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Rt,{htmlFor:"firstName",className:`text-sm font-medium ${r?"text-slate-200":"text-slate-700"}`,children:"First Name"}),a.jsx(Gt,{id:"firstName",placeholder:"John",value:z.firstName,onChange:W=>K(de=>({...de,firstName:W.target.value})),className:`${r?"bg-slate-700 border-slate-600 text-white placeholder:text-slate-400":"bg-white border-slate-300"}`})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Rt,{htmlFor:"lastName",className:`text-sm font-medium ${r?"text-slate-200":"text-slate-700"}`,children:"Last Name"}),a.jsx(Gt,{id:"lastName",placeholder:"Doe",value:z.lastName,onChange:W=>K(de=>({...de,lastName:W.target.value})),className:`${r?"bg-slate-700 border-slate-600 text-white placeholder:text-slate-400":"bg-white border-slate-300"}`})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Rt,{htmlFor:"email",className:`text-sm font-medium ${r?"text-slate-200":"text-slate-700"}`,children:"Email Address"}),a.jsx(Gt,{id:"email",type:"email",placeholder:"john.doe@company.com",value:z.email,onChange:W=>K(de=>({...de,email:W.target.value})),className:`${r?"bg-slate-700 border-slate-600 text-white placeholder:text-slate-400":"bg-white border-slate-300"}`})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Rt,{htmlFor:"walletAddress",className:`text-sm font-medium ${r?"text-slate-200":"text-slate-700"}`,children:"Wallet Address"}),a.jsx(Gt,{id:"walletAddress",placeholder:"0x742d35Cc...",value:z.walletAddress,onChange:W=>K(de=>({...de,walletAddress:W.target.value})),className:`${r?"bg-slate-700 border-slate-600 text-white placeholder:text-slate-400":"bg-white border-slate-300"} font-mono text-sm`})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Rt,{htmlFor:"password",className:`text-sm font-medium ${r?"text-slate-200":"text-slate-700"}`,children:"Password"}),a.jsx(Gt,{id:"password",type:"password",placeholder:"Enter secure password",value:z.password,onChange:W=>K(de=>({...de,password:W.target.value})),className:`${r?"bg-slate-700 border-slate-600 text-white placeholder:text-slate-400":"bg-white border-slate-300"}`})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Rt,{htmlFor:"confirmPassword",className:`text-sm font-medium ${r?"text-slate-200":"text-slate-700"}`,children:"Confirm Password"}),a.jsx(Gt,{id:"confirmPassword",type:"password",placeholder:"Confirm password",value:z.confirmPassword,onChange:W=>K(de=>({...de,confirmPassword:W.target.value})),className:`${r?"bg-slate-700 border-slate-600 text-white placeholder:text-slate-400":"bg-white border-slate-300"}`})]})]}),a.jsxs(Nl,{className:"space-x-2 pt-4",children:[a.jsx(Z,{variant:"outline",onClick:()=>D(!1),children:"Cancel"}),a.jsx(Z,{onClick:se,disabled:Q,className:"bg-slate-900 hover:bg-slate-800",children:Q?a.jsxs(a.Fragment,{children:[a.jsx(Un,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating Account..."]}):`Create ${z.role.charAt(0).toUpperCase()+z.role.slice(1)} Account`})]})]})}),a.jsx(ir,{open:C,onOpenChange:I,children:a.jsx(Vs,{className:`sm:max-w-2xl ${r?"bg-gray-900 border-gray-700":"bg-white border-gray-200"}`,children:H&&a.jsxs(a.Fragment,{children:[a.jsxs(zs,{children:[a.jsx(Hs,{className:`${r?"text-white":"text-gray-900"}`,children:H.name}),a.jsxs(Ra,{className:`${r?"text-gray-300":"text-gray-600"}`,children:[H.role.charAt(0).toUpperCase()+H.role.slice(1)," Details"]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:`text-sm font-medium ${r?"text-gray-400":"text-gray-600"}`,children:"Wallet Address"}),a.jsx("p",{className:`font-mono text-sm ${r?"text-white":"text-gray-900"}`,children:H.address})]}),a.jsxs("div",{children:[a.jsx("p",{className:`text-sm font-medium ${r?"text-gray-400":"text-gray-600"}`,children:"Email"}),a.jsx("p",{className:`${r?"text-white":"text-gray-900"}`,children:H.email})]}),a.jsxs("div",{children:[a.jsx("p",{className:`text-sm font-medium ${r?"text-gray-400":"text-gray-600"}`,children:"Status"}),a.jsx(Ue,{variant:H.status==="active"?"default":"secondary",children:H.status})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:`text-sm font-medium ${r?"text-gray-400":"text-gray-600"}`,children:"Joined Date"}),a.jsx("p",{className:`${r?"text-white":"text-gray-900"}`,children:H.joinedDate})]}),a.jsxs("div",{children:[a.jsx("p",{className:`text-sm font-medium ${r?"text-gray-400":"text-gray-600"}`,children:"Last Active"}),a.jsx("p",{className:`${r?"text-white":"text-gray-900"}`,children:H.lastActive})]}),a.jsxs("div",{children:[a.jsx("p",{className:`text-sm font-medium ${r?"text-gray-400":"text-gray-600"}`,children:H.role==="issuer"?"Tokens Created":"Assets Managed"}),a.jsx("p",{className:`${r?"text-white":"text-gray-900"}`,children:H.tokensManaged})]})]})]}),a.jsx(Nl,{children:a.jsx(Z,{variant:"outline",onClick:()=>I(!1),children:"Close"})})]})})}),a.jsx(ir,{open:F,onOpenChange:O,children:a.jsx(Vs,{className:`sm:max-w-md ${r?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-xl`,children:H&&a.jsxs(a.Fragment,{children:[a.jsx(zs,{className:"space-y-3",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 rounded-full bg-red-100 dark:bg-red-900/20",children:a.jsx(np,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),a.jsxs("div",{children:[a.jsx(Hs,{className:`text-lg font-semibold ${r?"text-white":"text-slate-900"}`,children:"Confirm Removal"}),a.jsx(Ra,{className:`text-sm ${r?"text-slate-400":"text-slate-600"}`,children:"Are you sure you want to remove this user from the blockchain? This action cannot be undone."})]})]})}),a.jsx("div",{className:"py-4",children:a.jsxs("div",{className:`p-4 rounded-lg ${r?"bg-slate-700/50":"bg-slate-50"} border ${r?"border-slate-600":"border-slate-200"}`,children:[a.jsxs("p",{className:`text-sm ${r?"text-slate-300":"text-slate-700"}`,children:["You are about to remove ",a.jsx("span",{className:"font-medium",children:H.name})," from the platform."]}),a.jsxs("p",{className:`text-xs mt-2 ${r?"text-slate-400":"text-slate-600"}`,children:["Role: ",a.jsx("span",{className:"capitalize font-medium",children:H.role})]}),a.jsxs("p",{className:`text-xs mt-1 ${r?"text-slate-400":"text-slate-600"}`,children:["Address: ",a.jsx("span",{className:"font-mono",children:H.address})]}),a.jsx("div",{className:`mt-3 p-3 rounded ${r?"bg-red-900/20 border border-red-800/30":"bg-red-50 border border-red-200"}`,children:a.jsx("p",{className:`text-xs font-medium ${r?"text-red-300":"text-red-700"}`,children:" This action cannot be undone. All associated permissions will be permanently revoked."})})]})}),a.jsxs(Nl,{className:"space-x-2",children:[a.jsx(Z,{variant:"outline",onClick:()=>O(!1),children:"Cancel"}),a.jsx(Z,{variant:"destructive",onClick:X,disabled:Q,className:"bg-red-600 hover:bg-red-700",children:Q?a.jsxs(a.Fragment,{children:[a.jsx(Un,{className:"w-4 h-4 mr-2 animate-spin"}),"Removing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Cq,{className:"w-4 h-4 mr-2"}),"Remove User"]})})]})]})})}),a.jsx(ir,{open:k,onOpenChange:$,children:a.jsxs(Vs,{className:`sm:max-w-md ${r?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-xl`,children:[a.jsx(zs,{className:"space-y-3",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`p-2 rounded-full ${w?"bg-green-100 dark:bg-green-900/20":"bg-red-100 dark:bg-red-900/20"}`,children:w?a.jsx(ux,{className:`w-5 h-5 ${w?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`}):a.jsx(Ql,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),a.jsxs("div",{children:[a.jsx(Hs,{className:`text-lg font-semibold ${r?"text-white":"text-slate-900"}`,children:w?"Resume Trading":"Suspend Trading"}),a.jsx(Ra,{className:`text-sm ${r?"text-slate-400":"text-slate-600"}`,children:"This action will affect the entire marketplace operations"})]})]})}),a.jsx("div",{className:"py-4",children:a.jsxs("div",{className:`p-4 rounded-lg ${r?"bg-slate-700/50":"bg-slate-50"} border ${r?"border-slate-600":"border-slate-200"}`,children:[w?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:`text-sm font-medium ${r?"text-white":"text-slate-900"} mb-2`,children:" Resume Marketplace Trading"}),a.jsx("p",{className:`text-sm ${r?"text-slate-300":"text-slate-700"} mb-3`,children:"This will enable all trading operations across the platform:"}),a.jsxs("ul",{className:`text-xs ${r?"text-slate-400":"text-slate-600"} space-y-1 ml-4`,children:[a.jsx("li",{children:" Token buying and selling will be enabled"}),a.jsx("li",{children:" All marketplace functions will be active"}),a.jsx("li",{children:" Users can perform transactions normally"}),a.jsx("li",{children:" Platform fees and commissions will apply"})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:`text-sm font-medium ${r?"text-white":"text-slate-900"} mb-2`,children:" Suspend All Marketplace Trading"}),a.jsx("p",{className:`text-sm ${r?"text-slate-300":"text-slate-700"} mb-3`,children:"This will immediately halt all trading operations:"}),a.jsxs("ul",{className:`text-xs ${r?"text-slate-400":"text-slate-600"} space-y-1 ml-4`,children:[a.jsx("li",{children:" All token purchases will be disabled"}),a.jsx("li",{children:" Existing listings will be suspended"}),a.jsx("li",{children:" Users cannot buy or sell any assets"}),a.jsx("li",{children:" Only viewing functions will remain active"})]})]}),a.jsx("div",{className:`mt-3 p-3 rounded ${r?"bg-orange-900/20 border border-orange-800/30":"bg-orange-50 border border-orange-200"}`,children:a.jsx("p",{className:`text-xs font-medium ${r?"text-orange-400":"text-orange-700"}`,children:" This action requires a blockchain transaction and will affect all users immediately."})})]})}),a.jsxs(Nl,{className:"space-x-2",children:[a.jsx(Z,{variant:"outline",onClick:()=>$(!1),children:"Cancel"}),a.jsx(Z,{onClick:re,disabled:Q||!e,variant:w?"default":"destructive",className:w?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700",children:Q?a.jsxs(a.Fragment,{children:[a.jsx(Un,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):a.jsx(a.Fragment,{children:w?a.jsxs(a.Fragment,{children:[a.jsx(ux,{className:"w-4 h-4 mr-2"}),"Confirm Resume Trading"]}):a.jsxs(a.Fragment,{children:[a.jsx(Ql,{className:"w-4 h-4 mr-2"}),"Confirm Suspend Trading"]})})})]})]})}),a.jsx(ir,{open:G,onOpenChange:P,children:a.jsxs(Vs,{className:`sm:max-w-4xl ${r?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-xl`,children:[a.jsxs(zs,{className:"space-y-3",children:[a.jsx(Hs,{className:`text-lg font-semibold ${r?"text-white":"text-slate-900"}`,children:"Assign Asset to Manager"}),a.jsx(Ra,{className:`text-sm ${r?"text-slate-400":"text-slate-600"}`,children:"Select a marketplace asset to assign to this manager for income management."})]}),a.jsx("div",{className:"py-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:`p-3 rounded-lg ${r?"bg-slate-700/50":"bg-slate-50"} border ${r?"border-slate-600":"border-slate-200"}`,children:[a.jsx("p",{className:`text-sm font-medium ${r?"text-slate-200":"text-slate-700"}`,children:"Manager Address:"}),a.jsx("p",{className:`text-xs font-mono ${r?"text-slate-400":"text-slate-600"} mt-1`,children:te.managerAddress})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(Rt,{className:`text-sm font-medium ${r?"text-slate-200":"text-slate-700"}`,children:"Select Asset to Assign *"}),L.length===0?a.jsxs("div",{className:`p-6 text-center rounded-lg border-2 border-dashed ${r?"border-slate-600 bg-slate-700/30":"border-slate-300 bg-slate-50"}`,children:[a.jsx(jq,{className:`w-8 h-8 mx-auto mb-3 ${r?"text-slate-400":"text-slate-500"}`}),a.jsx("p",{className:`text-sm font-medium ${r?"text-slate-300":"text-slate-700"}`,children:"No marketplace assets found"}),a.jsx("p",{className:`text-xs ${r?"text-slate-400":"text-slate-600"} mt-1`,children:"Create and list assets on the marketplace first"})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 max-h-64 overflow-y-auto",children:L.map(W=>{var de;return a.jsx("div",{onClick:()=>Me(ne=>({...ne,selectedAsset:W})),className:`p-3 rounded-lg border-2 cursor-pointer transition-all ${((de=te.selectedAsset)==null?void 0:de.tokenId)===W.tokenId?r?"border-blue-500 bg-blue-500/10":"border-blue-500 bg-blue-50":r?"border-slate-600 bg-slate-700/30 hover:border-slate-500":"border-slate-200 bg-white hover:border-slate-300"}`,children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${r?"bg-slate-600":"bg-slate-100"}`,children:a.jsx(Uc,{className:`w-6 h-6 ${r?"text-slate-300":"text-slate-600"}`})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:`text-sm font-medium truncate ${r?"text-white":"text-slate-900"}`,children:W.name||`Asset #${W.tokenId}`}),a.jsx("p",{className:`text-xs ${r?"text-slate-400":"text-slate-600"} mt-1`,children:W.location||"No location specified"}),a.jsxs("div",{className:"flex justify-between items-center mt-2",children:[a.jsxs("span",{className:`text-xs font-medium ${r?"text-green-400":"text-green-600"}`,children:[W.price," ETH"]}),a.jsxs("span",{className:`text-xs ${r?"text-slate-400":"text-slate-600"}`,children:["ID: ",W.tokenId]})]})]})]})},W.tokenId)})}),te.selectedAsset&&a.jsxs("div",{className:`p-3 rounded-lg ${r?"bg-blue-500/10 border-blue-500/30":"bg-blue-50 border-blue-200"} border`,children:[a.jsxs("p",{className:`text-sm font-medium ${r?"text-blue-300":"text-blue-700"}`,children:["Selected Asset: ",te.selectedAsset.name||`Asset #${te.selectedAsset.tokenId}`]}),a.jsxs("p",{className:`text-xs ${r?"text-blue-400":"text-blue-600"} mt-1`,children:["Token ID: ",te.selectedAsset.tokenId,"  Price: ",te.selectedAsset.price," ETH"]})]})]})]})}),a.jsxs(Nl,{className:"space-x-2",children:[a.jsx(Z,{variant:"outline",onClick:()=>P(!1),children:"Cancel"}),a.jsx(Z,{onClick:$e,disabled:Q||!te.selectedAsset||!e,className:"bg-blue-600 hover:bg-blue-700",children:Q?a.jsxs(a.Fragment,{children:[a.jsx(Un,{className:"w-4 h-4 mr-2 animate-spin"}),"Assigning..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ol,{className:"w-4 h-4 mr-2"}),"Assign Asset"]})})]})]})})]})},Eb=v.forwardRef(({className:t,...e},n)=>a.jsx("textarea",{className:ut("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));Eb.displayName="Textarea";const lu="http://localhost:3001/api";class I0e{async generateMintToken(e){var n;try{const s=await fetch(`${lu}/verification/generate-mint-token`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await s.json();if(s.status===403&&r.error==="SIMILARITY_BLOCKED")return r;if(!s.ok)throw new Error(((n=r.error)==null?void 0:n.message)||"Failed to generate mint token");return r.data}catch(s){throw console.error("Error generating mint token:",s),s}}async checkTokenStatus(e){var n;try{const s=await fetch(`${lu}/verification/token/${e}/status`),r=await s.json();if(!s.ok)throw new Error(((n=r.error)==null?void 0:n.message)||"Failed to check token status");return r.data}catch(s){throw console.error("Error checking token status:",s),s}}async updateTokenAfterMint(e){var n;try{const s=await fetch(`${lu}/verification/token/${e.nonce}/update`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({ipId:e.ipId,tokenId:e.tokenId,txHash:e.txHash})}),r=await s.json();if(!s.ok)throw new Error(((n=r.error)==null?void 0:n.message)||"Failed to update token")}catch(s){throw console.error("Error updating token:",s),s}}hashContent(e){return(void 0)((void 0)(e))}getRemainingTime(e){const n=Math.floor(Date.now()/1e3),s=Math.max(0,e-n);return{minutes:Math.floor(s/60),seconds:s%60,isExpired:s===0}}async findLicenseTerms(e,n){const s=await fetch(`${lu}/license-terms/find?type=${e}&royalty=${n}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!s.ok)throw new Error(`Failed to find license terms: ${s.statusText}`);return s.json()}async cacheLicenseTerms(e){const n=localStorage.getItem("token"),s=await fetch(`${lu}/license-terms/cache`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify(e)});if(!s.ok)throw new Error(`Failed to cache license terms: ${s.statusText}`);return s.json()}async finalizeMint(e){const n=localStorage.getItem("token"),s=await fetch(`${lu}/verification/token/${e.nonce}/finalize`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({ipId:e.ipId,tokenId:e.tokenId,txHash:e.txHash,licenseTermsId:e.licenseTermsId,licenseType:e.licenseType,royaltyPercent:e.royaltyPercent,licenseTxHash:e.licenseTxHash})});if(!s.ok){const r=await s.json();throw new Error(r.error||`Failed to finalize mint: ${s.statusText}`)}return s.json()}}const ec=new I0e,jU="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySW5mb3JtYXRpb24iOnsiaWQiOiI2ZDgwYjIxNy04NmQyLTQwMTItODg1My1iODZjODQyYWM5ZTYiLCJlbWFpbCI6ImRpdnlyYWouc2FpbmkyMmJAaWlpdGcuYWMuaW4iLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwicGluX3BvbGljeSI6eyJyZWdpb25zIjpbeyJkZXNpcmVkUmVwbGljYXRpb25Db3VudCI6MSwiaWQiOiJGUkExIn0seyJkZXNpcmVkUmVwbGljYXRpb25Db3VudCI6MSwiaWQiOiJOWUMxIn1dLCJ2ZXJzaW9uIjoxfSwibWZhX2VuYWJsZWQiOmZhbHNlLCJzdGF0dXMiOiJBQ1RJVkUifSwiYXV0aGVudGljYXRpb25UeXBlIjoic2NvcGVkS2V5Iiwic2NvcGVkS2V5S2V5IjoiYjA4M2NhMTZmNDlmYmI2YTEyN2YiLCJzY29wZWRLZXlTZWNyZXQiOiI0NDllNDdjZmFjODllMDU3NzNjOTE5OGQyNzcxODU2MzI3MGNkYTIzMTQ1ODg2MDk4OWQ4ZDA0MjQyNGI2YzhjIiwiZXhwIjoxNzk2NDI2NTczfQ.Y97KdGkpDTxNupWsAnxhxofmJ3bNTRh5o_bqHqZ_eyI";async function ev(t,e){try{const n={pinataContent:t,pinataMetadata:{name:e||`metadata-${Date.now()}`}},s=await fetch("https://api.pinata.cloud/pinning/pinJSONToIPFS",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${jU}`},body:JSON.stringify(n)});if(!s.ok){const o=await s.text();throw console.error("Pinata upload error:",o),new Error(`Pinata upload failed: ${s.status} ${s.statusText}`)}const i=`ipfs://${(await s.json()).IpfsHash}`;return console.log(` Uploaded to IPFS: ${i}`),i}catch(n){throw console.error("Error uploading JSON to Pinata:",n),n}}async function P0e(t,e){try{const n=new FormData;n.append("file",t);const s=JSON.stringify({name:e||t.name});n.append("pinataMetadata",s);const r=await fetch("https://api.pinata.cloud/pinning/pinFileToIPFS",{method:"POST",headers:{Authorization:`Bearer ${jU}`},body:n});if(!r.ok){const l=await r.text();throw console.error("Pinata file upload error:",l),new Error(`Pinata file upload failed: ${r.status} ${r.statusText}`)}const o=`ipfs://${(await r.json()).IpfsHash}`;return console.log(` Uploaded file to IPFS: ${o}`),o}catch(n){throw console.error("Error uploading file to Pinata:",n),n}}const SU="0x2E896b0b2Fdb7457499B56AAaA4AE55BCB4Cd316",_0e="0x04fbd8a2e56dd85CFD5500A4A4DfA955B9f1dE6f",R0e="0xBe54FB168b3c982b7AaE60dB6CF75Bd8447b390E",M0e="0xF2104833d386a2734a4eB3B8ad6FC6812F29E38E",O0e=SU,D0e=R0e,$0e=M0e,TR=SU,F0e=_0e,L0e=["function registerLicenseTerms((bool transferable, address royaltyPolicy, uint256 defaultMintingFee, uint256 expiration, bool commercialUse, bool commercialAttribution, address commercializerChecker, bytes commercializerCheckerData, uint32 commercialRevShare, uint256 commercialRevCeiling, bool derivativesAllowed, bool derivativesAttribution, bool derivativesApproval, bool derivativesReciprocal, uint256 derivativeRevCeiling, address currency, string uri) terms) external returns (uint256 licenseTermsId)"],B0e=["function attachLicenseTerms(address ipId, address licenseTemplate, uint256 licenseTermsId) external"];async function IT(t,e){if(t==="non_commercial"&&e===0)return console.log(" Using preset non-commercial license (ID: 1)"),"1";const n=await ec.findLicenseTerms(t,e);if(n.licenseTermsId)return console.log(` Using cached license terms: ${n.licenseTermsId}`),n.licenseTermsId;console.log(` Registering license terms: ${t} ${e}%`);const s=new ra(window.ethereum,"any");await s.send("eth_requestAccounts",[]);const r=s.getSigner(),i=new Xe(O0e,L0e,r),o={transferable:!0,royaltyPolicy:D0e,defaultMintingFee:0,expiration:0,commercialUse:t==="commercial_remix",commercialAttribution:!0,commercializerChecker:Kae,commercializerCheckerData:"0x",commercialRevShare:e*1e6,commercialRevCeiling:0,derivativesAllowed:!0,derivativesAttribution:!0,derivativesApproval:!1,derivativesReciprocal:!1,derivativeRevCeiling:0,currency:$0e,uri:""};console.log(" Simulating call to get license terms ID...");const l=await i.callStatic.registerLicenseTerms(o);console.log(" Will register license terms ID:",l.toString()),console.log(" Executing license registration transaction...");const d=await(await i.registerLicenseTerms(o)).wait();console.log(" License registered! TX:",d.transactionHash),console.log(" License Terms ID:",l.toString());const u=l.toString();return await ec.cacheLicenseTerms({licenseType:t,royaltyPercent:e,licenseTermsId:u,transactionHash:d.transactionHash}),u}async function PT(t,e){const n=new ra(window.ethereum,"any");await n.send("eth_requestAccounts",[]);const s=n.getSigner(),r=new Xe(F0e,B0e,s);console.log(" Attaching license terms..."),console.log("  IP ID:",t),console.log("  License Template:",TR),console.log("  License Terms ID:",e);const i=await r.attachLicenseTerms(t,TR,e);console.log(" Waiting for attach transaction...");const o=await i.wait();return console.log(" License attached! TX:",o.transactionHash),{txHash:o.transactionHash}}const AU=({isOpen:t,onClose:e,similarityInfo:n,onProceedAsOriginal:s,onRegisterAsDerivative:r})=>{if(!t)return null;const{score:i,topMatch:o,llmAnalysis:l}=n,c=i>=60;return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[a.jsx("div",{className:`p-6 border-b ${c?"bg-red-50":"bg-yellow-50"}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("span",{className:"text-3xl",children:c?"":""}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Similar Content Detected"}),a.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[i,"% similarity to existing IP"]})]})]}),a.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:""})]})}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Similarity Score"}),a.jsxs("span",{className:"text-lg font-bold text-gray-900",children:[i,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:a.jsx("div",{className:`h-3 rounded-full ${i>=60?"bg-red-500":"bg-yellow-500"}`,style:{width:`${i}%`}})})]}),l&&a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("span",{className:"text-2xl",children:""}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"AI Analysis"}),a.jsx("p",{className:"text-sm text-blue-800 mb-3",children:l.summary}),l.key_differences&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-blue-700 mb-1",children:"Key Differences:"}),a.jsx("ul",{className:"text-xs text-blue-700 space-y-1",children:l.key_differences.map((d,u)=>a.jsxs("li",{children:[" ",d]},u))})]}),a.jsxs("div",{className:"mt-2 text-xs text-blue-600",children:["Confidence: ",l.confidence_score,"%"]})]})]})}),a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Most Similar Content"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"IP ID:"}),a.jsx("span",{className:"font-mono text-xs",children:o.ipId})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Creator:"}),a.jsx("span",{className:"font-mono text-xs",children:o.creatorAddress})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Content Hash:"}),a.jsx("span",{className:"font-mono text-xs truncate max-w-xs",children:o.contentHash})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Asset Type:"}),a.jsx("span",{className:"capitalize",children:o.assetType})]})]})]}),a.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"What does this mean?"}),a.jsx("p",{className:"text-sm text-gray-700",children:i>=60?a.jsxs(a.Fragment,{children:["Your content is ",a.jsx("strong",{children:"highly similar"})," to existing registered IP. We ",a.jsx("strong",{children:"strongly recommend"})," registering it as a derivative work to properly attribute the original creator and comply with licensing terms."]}):a.jsxs(a.Fragment,{children:["Your content shows ",a.jsx("strong",{children:"moderate similarity"})," to existing IP. If you created this independently, you can proceed. If this is a remix or derivative, we recommend linking it to the parent IP."]})})]})]}),a.jsxs("div",{className:"p-6 border-t bg-gray-50 space-y-3",children:[a.jsx("button",{onClick:r,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-4 rounded-lg transition-colors",children:" Register as Derivative (Recommended)"}),a.jsx("button",{onClick:s,className:"w-full bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-3 px-4 rounded-lg transition-colors",children:"Continue as Original Work"}),a.jsx("p",{className:"text-xs text-gray-500 text-center",children:"By proceeding as original, you confirm you created this content independently. False claims may result in account suspension."})]})]})})},TU=({isOpen:t,onClose:e,blockedInfo:n})=>{if(!t)return null;const{score:s,topMatch:r,llmAnalysis:i}=n;return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-2xl max-w-2xl w-full mx-4",children:[a.jsx("div",{className:"p-6 bg-red-600 text-white rounded-t-lg",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("span",{className:"text-4xl",children:""}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Upload Blocked"}),a.jsxs("p",{className:"text-red-100 mt-1",children:["High similarity detected (",s,"%)"]})]})]})}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[a.jsx("p",{className:"text-red-900 font-medium mb-2",children:" Your upload has been blocked"}),a.jsxs("p",{className:"text-red-800 text-sm",children:["Our AI detected ",s,"% similarity to existing registered IP. This level of similarity indicates potential copyright infringement and requires manual review before proceeding."]})]}),i&&a.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:" AI Analysis"}),a.jsx("p",{className:"text-sm text-gray-700",children:i.summary}),i.is_plagiarism&&a.jsx("div",{className:"mt-2 text-sm text-red-600 font-medium",children:" Potential plagiarism detected"})]}),a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Similar to:"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"IP ID:"}),a.jsx("span",{className:"font-mono text-xs",children:r.ipId})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Creator:"}),a.jsx("span",{className:"font-mono text-xs",children:r.creatorAddress})]})]})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"What can you do?"}),a.jsxs("ul",{className:"text-sm text-blue-800 space-y-2",children:[a.jsx("li",{children:" If you created this content independently, contact support with proof"}),a.jsx("li",{children:" If this is a derivative/remix, obtain a license from the original creator"}),a.jsx("li",{children:" Upload different content that doesn't infringe on existing IP"})]})]})]}),a.jsxs("div",{className:"p-6 border-t bg-gray-50",children:[a.jsx("button",{onClick:e,className:"w-full bg-gray-800 hover:bg-gray-900 text-white font-medium py-3 px-4 rounded-lg transition-colors",children:"Close"}),a.jsx("p",{className:"text-xs text-gray-500 text-center mt-3",children:"Your upload has been flagged for admin review. You'll be notified if the decision is reversed."})]})]})})},CU="0x523",CR={chainId:CU,chainName:"Story Aeneid Testnet",nativeCurrency:{name:"IP",symbol:"IP",decimals:18},rpcUrls:["https://aeneid.storyrpc.io"],blockExplorerUrls:["https://aeneid.storyscan.xyz"]},U0e=["text"],V0e=()=>{const t=no(),e=to(),{address:n,isConnected:s,connectWallet:r,provider:i,signer:o}=Mn();v.useState(null),v.useState(null),v.useState(null),v.useState(null),v.useState(!1);const[l,c]=v.useState(null),[d,u]=v.useState(!1),[h,f]=v.useState("dashboard"),[m,g]=v.useState([]),[p,w]=v.useState(!1),[b,y]=v.useState({title:"",description:"",assetType:"text",imageFiles:[]}),[N,A]=v.useState(!1),[S,T]=v.useState("Ready to Register"),[_,R]=v.useState(null),[B,V]=v.useState(null),[U,L]=v.useState(""),[M,x]=v.useState(""),[j,E]=v.useState(""),[D,C]=v.useState(!1),[I,F]=v.useState(!1),[O,k]=v.useState(null),[$,G]=v.useState(!1),[P,z]=v.useState({type:"commercial_remix",royaltyPercent:10}),[K,H]=v.useState(null),q=se=>Xi(Zl(se)),Q=async()=>{if(!window.ethereum)throw new Error("MetaMask not found");try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:CU}]})}catch(se){if(se.code===4902)await window.ethereum.request({method:"wallet_addEthereumChain",params:[CR]});else throw se}},J=async()=>{var se,X;if(!o||!n){ue.error("Please connect your wallet first");return}if(!b.title||!b.description){ue.error("Please fill in a title and description for your IP asset.");return}A(!0),T(" Starting..."),G(!1),C(!1),F(!1);try{T(" Connecting to Aeneid network..."),await Q();const re=o.provider,ve=await re.getNetwork();if(ve.chainId!==1315)throw new Error(`Wrong network! Please switch to Aeneid (Chain ID: 1315). Current: ${ve.chainId}`);const $e=n;console.log("Connected as:",$e),T(" Preparing content...");const it=`# ${b.title}

${b.description}`,Oe=q(it);L(Oe),console.log("Content hash:",Oe),T(" Uploading metadata to IPFS...");let ht="";if(b.imageFiles.length>0)try{ht=await P0e(b.imageFiles[0],b.title),console.log(" Image uploaded:",ht)}catch(Ne){console.warn(" Image upload failed:",Ne)}const lt={title:b.title,description:b.description,contentHash:Oe,assetType:b.assetType.toLowerCase(),creator:$e,createdAt:new Date().toISOString()},me={name:b.title,description:`NFT for IP Asset - ${b.assetType}`,image:ht,attributes:[{trait_type:"Asset Type",value:b.assetType},{trait_type:"Creator",value:$e},{trait_type:"Content Hash",value:Oe}]};console.log(" Uploading IP metadata to Pinata..."),console.log("IP Metadata:",lt);let W,de;try{W=await ev(lt,`ip-metadata-${Oe}`),console.log(` IP Metadata uploaded: ${W}`)}catch(Ne){throw console.error(" Failed to upload IP metadata:",Ne),new Error(`IPFS upload failed: ${Ne instanceof Error?Ne.message:"Unknown error"}`)}console.log(" Uploading NFT metadata to Pinata..."),console.log("NFT Metadata:",me);try{de=await ev(me,`nft-metadata-${Oe}`),console.log(` NFT Metadata uploaded: ${de}`)}catch(Ne){throw console.error(" Failed to upload NFT metadata:",Ne),new Error(`IPFS upload failed: ${Ne instanceof Error?Ne.message:"Unknown error"}`)}x(W),E(de),T(" Checking for similar content (RAG Detection Engine)...");const ne=await ec.generateMintToken({creatorAddress:$e,contentHash:Oe,ipMetadataURI:W,nftMetadataURI:de,assetType:b.assetType.toLowerCase()});if("error"in ne&&ne.error==="SIMILARITY_BLOCKED"){T(" Upload blocked due to high similarity"),k(ne.similarity),F(!0),A(!1);return}const le=ne;if(R(le),(se=le.similarity)!=null&&se.warning){T(" Similar content detected - review required"),k(le.similarity),C(!0),A(!1);return}T(" Content verified clean! Minting..."),await te(le,$e,re,Oe,W,de)}catch(re){console.error("Minting error:",re);const ve=re.reason||((X=re.data)==null?void 0:X.message)||re.message||"Unknown error";T(` Failed: ${ve}`),ue.error(`Minting failed: ${ve}`,{duration:5e3})}finally{A(!1)}},te=async(se,X,re,ve,$e,it)=>{try{T(" Minting IP Asset on Story Protocol...");const Oe=re.getSigner(),ht="0xbe39E1C756e921BD25DF86e7AAa31106d1eb0424",lt="0x78AD3d22E62824945DED384a5542Ad65de16E637",me=["function mintAndRegisterIp(address spgNftContract, address recipient, tuple(string ipMetadataURI, bytes32 ipMetadataHash, string nftMetadataURI, bytes32 nftMetadataHash) ipMetadata, bool allowDuplicates) returns (address ipId, uint256 tokenId)"],W=new Xe(ht,me,Oe),de={ipMetadataURI:$e,ipMetadataHash:Xi(Zl($e)),nftMetadataURI:it,nftMetadataHash:Xi(Zl(it))};console.log(" Calling RegistrationWorkflows.mintAndRegisterIp DIRECTLY"),console.log("SPG NFT Contract:",lt),console.log("Recipient:",X),console.log("Metadata:",de),T(" Simulating transaction to get return values...");const{ipId:ne,tokenId:le}=await W.callStatic.mintAndRegisterIp(lt,X,de,!0);console.log(" Predicted return values:",{ipId:ne,tokenId:le.toString()}),T(" Sending transaction to blockchain...");const Ne=await W.mintAndRegisterIp(lt,X,de,!0,{gasLimit:5e6});console.log(" Transaction sent:",Ne.hash),T(" Waiting for confirmation...");const Re=await Ne.wait();console.log(" Transaction confirmed!",Re);const Pe=ne,Lt=le.toNumber(),ze={ipId:Pe,tokenId:Lt,txHash:Re.transactionHash};console.log(" Mint result:",ze);try{T(" Updating backend with IP ID..."),await ec.updateTokenAfterMint({nonce:se.nonce,ipId:ze.ipId,tokenId:ze.tokenId,txHash:ze.txHash}),console.log(" Backend updated successfully with IP ID and token ID"),T(" Backend updated! IP Asset registered successfully.")}catch(je){console.error(" Backend update failed:",je),T(" IP minted but backend update failed. Asset may show as pending.")}T(" IP Asset Registered! Configure license terms below."),V(ze),G(!0),ue.success(" IP Asset minted successfully! Please attach license terms.")}catch(Oe){throw console.error("Minting failed:",Oe),Oe}},Me=async()=>{var se;C(!1),A(!0);try{if(!_)throw new Error("No mint token available");if(!U)throw new Error("No content hash available");if(!M||!j)throw new Error("Metadata URIs not available");const X=new ra(window.ethereum),ve=await X.getSigner().getAddress();T(" Proceeding as original work..."),await te(_,ve,X,U,M,j)}catch(X){console.error("Minting error:",X);const re=X.reason||((se=X.data)==null?void 0:se.message)||X.message||"Unknown error";T(` Failed: ${re}`),ue.error(`Minting failed: ${re}`,{duration:5e3})}finally{A(!1)}},ee=async()=>{var se;C(!1),A(!0);try{if(!_||!O||!("warning"in O))throw new Error("No similarity data available");if(!U||!M||!j)throw new Error("Metadata not available");const X=new ra(window.ethereum),ve=await X.getSigner().getAddress();T(" Registering as derivative work..."),await te(_,ve,X,U,M,j),localStorage.setItem("pendingDerivativeParent",O.topMatch.ipId)}catch(X){console.error("Derivative registration error:",X);const re=X.reason||((se=X.data)==null?void 0:se.message)||X.message||"Unknown error";T(` Failed: ${re}`),ue.error(`Registration failed: ${re}`,{duration:5e3})}finally{A(!1)}},he=async()=>{var se;if(!B||!_){ue.error("No mint result to attach license to.");return}A(!0),T("Attaching license terms...");try{T("Getting or registering license terms...");const X=await IT(P.type,P.royaltyPercent);console.log(" License terms ID:",X),T("Attaching license to IP asset on-chain...");const re=await PT(B.ipId,X);console.log(" License attached on-chain! TX:",re.txHash),T(" Finalizing registration with backend..."),await ec.finalizeMint({nonce:_.nonce,ipId:B.ipId,tokenId:B.tokenId,txHash:B.txHash,licenseTermsId:X,licenseType:P.type,royaltyPercent:P.royaltyPercent,licenseTxHash:re.txHash}),console.log(" Backend finalized successfully with license info"),T(" SUCCESS! IP fully registered with license terms in backend."),H({...B,licenseTermsId:X,licenseTxHash:re.txHash}),G(!1),ue.success(" License attached successfully! IP Asset is fully registered.");try{const ve={ipId:B.ipId,tokenId:B.tokenId,title:b.title,description:b.description,assetType:b.assetType,contentHash:U,ipMetadataURI:M,nftMetadataURI:j,txHash:B.txHash,licenseTxHash:re.txHash,licenseTermsId:X,licenseType:P.type,royaltyPercent:P.royaltyPercent,creator:n,registeredAt:new Date().toISOString(),status:"registered"},$e=JSON.parse(localStorage.getItem("registeredIPAssets")||"[]");$e.unshift(ve),localStorage.setItem("registeredIPAssets",JSON.stringify($e)),console.log(" Saved to localStorage:",ve)}catch(ve){console.warn(" Failed to save to localStorage:",ve)}y({title:"",description:"",assetType:"text",imageFiles:[]})}catch(X){console.error("License attachment failed:",X);const re=X.reason||((se=X.data)==null?void 0:se.message)||X.message||"License attachment failed";T(` License attachment failed: ${re}`),ue.error(`License attachment failed: ${re}`,{duration:5e3})}finally{A(!1)}};if(!s)return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:a.jsxs(pe,{className:"w-full max-w-md",children:[a.jsxs(yt,{className:"text-center",children:[a.jsx(vt,{children:"Connect Wallet"}),a.jsx(ls,{children:"Please connect your wallet to access the issuer dashboard"})]}),a.jsx(ge,{className:"text-center",children:a.jsx(Z,{onClick:r,className:"w-full",children:"Connect Wallet"})})]})});if(d)return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:a.jsx(pe,{className:"w-full max-w-md",children:a.jsx(ge,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),a.jsx("span",{children:"Initializing issuer service..."})]})})})});if(l===!1)return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:a.jsxs(pe,{className:"w-full max-w-md",children:[a.jsxs(yt,{className:"text-center",children:[a.jsx(vt,{className:"text-red-600",children:"Not Authorized"}),a.jsx(ls,{children:"Your wallet is not authorized as an issuer. Please contact the admin."})]}),a.jsxs(ge,{className:"text-center",children:[a.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Wallet: ",n]}),a.jsx(Z,{variant:"outline",onClick:()=>window.location.reload(),children:"Refresh"})]})]})});const ke=()=>{var X;const se=(X=e.state)==null?void 0:X.from;t(se||-1)};return a.jsxs("div",{className:"min-h-screen  from-blue-50 to-indigo-100",style:{backgroundColor:"rgba(230, 240, 249, 0.9)"},children:[a.jsx(CS,{}),a.jsxs("div",{className:"container mx-auto px-4 py-8",style:{position:"relative",zIndex:1},children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs(Z,{variant:"ghost",onClick:ke,className:"mb-4 hover:bg-gray-200 text-gray-700",children:[a.jsx(Y2,{className:"w-4 h-4 mr-2"}),"Back"]}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2 z-100",children:"Issuer Dashboard"}),a.jsx("p",{className:"text-gray-600",children:"Register new IP assets and manage legacy token requests."}),a.jsx("div",{className:"mt-4",children:a.jsxs(Ue,{variant:"outline",className:"mr-2",children:["Connected: ",n==null?void 0:n.slice(0,6),"...",n==null?void 0:n.slice(-4)]})})]}),a.jsxs(zo,{value:h,onValueChange:f,className:"space-y-6",children:[a.jsxs(Ho,{className:"grid w-full grid-cols-3",children:[a.jsx(bn,{value:"dashboard",children:"Dashboard"}),a.jsx(bn,{value:"create",children:"Register IP Asset"}),a.jsx(bn,{value:"requests",children:"Legacy Requests"})]}),a.jsx(Nn,{value:"dashboard",className:"space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 z-1",children:[a.jsxs(pe,{className:"flex flex-col bg-white/20",children:[a.jsxs(yt,{children:[a.jsx(vt,{children:"Register New IP Asset"}),a.jsx(ls,{children:"Use the verified Story Protocol workflow to mint a new IP asset directly on-chain."})]}),a.jsx(ge,{className:"flex-grow flex items-center justify-center",children:a.jsxs(Z,{size:"lg",onClick:()=>f("create"),children:[a.jsx(CE,{className:"w-5 h-5 mr-2"}),"Go to Registration"]})})]}),a.jsxs(pe,{className:"flex flex-col bg-white/20",children:[a.jsxs(yt,{children:[a.jsx(vt,{children:"Legacy Token Requests"}),a.jsx(ls,{children:"View and manage your requests submitted through the old admin approval system."})]}),a.jsx(ge,{className:"flex-grow flex items-center justify-center",children:a.jsxs(Z,{size:"lg",variant:"secondary",onClick:()=>f("requests"),children:[a.jsx(Gi,{className:"w-5 h-5 mr-2"}),"View Legacy Requests"]})})]})]})}),a.jsx(Nn,{value:"create",className:"space-y-6",children:a.jsxs(pe,{className:"bg-white/20",children:[a.jsxs(yt,{children:[a.jsx(vt,{children:"Register New IP Asset"}),a.jsx(ls,{children:"This will register your IP directly on the Story Protocol Aeneid testnet."})]}),a.jsxs(ge,{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Rt,{htmlFor:"title",children:"IP Asset Title *"}),a.jsx(Gt,{id:"title",value:b.title,onChange:se=>y(X=>({...X,title:se.target.value})),placeholder:"e.g., My Awesome Sci-Fi Novel"})]}),a.jsxs("div",{children:[a.jsx(Rt,{htmlFor:"assetType",children:"Asset Type *"}),a.jsxs($h,{value:b.assetType,onValueChange:se=>y(X=>({...X,assetType:se})),children:[a.jsx(Ld,{children:a.jsx(Fh,{placeholder:"Select asset type"})}),a.jsx(Bd,{children:U0e.map(se=>a.jsx(kr,{value:se,children:se},se))})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Rt,{htmlFor:"description",children:"Description *"}),a.jsx(Eb,{id:"description",value:b.description,onChange:se=>y(X=>({...X,description:se.target.value})),placeholder:"A brief summary of your intellectual property.",rows:4})]}),a.jsxs("div",{children:[a.jsx(Rt,{htmlFor:"document",children:"Upload Document (Optional)"}),a.jsx(Gt,{id:"text",type:"file",accept:".txt,.md,.pdf,.doc,.docx,.odt,.rtf",onChange:se=>{const X=Array.from(se.target.files||[]);y(re=>({...re,imageFiles:X}))}}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Supported formats: TXT, MD, PDF, DOC, DOCX, ODT, RTF"})]})]})]}),a.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[a.jsx(Z,{onClick:J,disabled:N||!b.title||!b.description,className:"w-full max-w-xs",size:"lg",children:N?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-3"}),"Submitting..."]}):a.jsxs(a.Fragment,{children:[a.jsx(CE,{className:"w-5 h-5 mr-2"}),"Register IP Asset"]})}),a.jsx("p",{className:"text-sm text-gray-600 font-mono h-4",children:N&&S})]})]})]})}),a.jsx(Nn,{value:"requests",className:"space-y-6",children:a.jsxs(pe,{className:"bg-white/20",children:[a.jsxs(yt,{children:[a.jsx(vt,{children:"Legacy Token Requests"}),a.jsx(ls,{children:"History of requests submitted via the admin approval system."})]}),a.jsx(ge,{children:p?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Loading requests..."})]}):m.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Gi,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No legacy requests found"})]}):a.jsx("div",{className:"space-y-4"})})]})})]}),$&&!K&&B&&a.jsxs(pe,{className:"mt-6 border-2 border-blue-400 bg-blue-50",children:[a.jsxs(yt,{children:[a.jsx(vt,{className:"text-blue-700",children:" IP Registered! Now, Attach a License."}),a.jsx(ls,{children:"Your IP Asset has been minted. Attach license terms to complete registration."})]}),a.jsxs(ge,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2 font-mono text-sm bg-white p-4 rounded",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"IP ID:"})," ",a.jsx("span",{className:"text-blue-600 break-all",children:B.ipId})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Token ID:"})," ",a.jsx("span",{className:"text-blue-600",children:B.tokenId})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"license-type-selector bg-white p-4 rounded-md space-y-2",children:[a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"licenseType",className:"form-radio h-5 w-5 text-blue-600",checked:P.type==="commercial_remix",onChange:()=>z({...P,type:"commercial_remix"})}),a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold",children:"Commercial Remix"}),a.jsx("span",{className:"block text-xs text-gray-600",children:" Commercial use  Derivatives  Attribution"})]})]}),a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"licenseType",className:"form-radio h-5 w-5 text-blue-600",checked:P.type==="non_commercial",onChange:()=>z({...P,type:"non_commercial",royaltyPercent:0})}),a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold",children:"Non-Commercial Only"}),a.jsx("span",{className:"block text-xs text-gray-600",children:" No commercial use  Derivatives  Attribution"})]})]})]}),P.type==="commercial_remix"&&a.jsxs("div",{className:"royalty-slider bg-white p-4 rounded-md",children:[a.jsxs("label",{className:"block mb-2 font-semibold",children:["Royalty Percentage: ",P.royaltyPercent,"%"]}),a.jsx("input",{type:"range",min:"0",max:"100",value:P.royaltyPercent,onChange:se=>z({...P,royaltyPercent:parseInt(se.target.value)}),className:"w-full h-2 bg-gray-300 rounded-lg appearance-none cursor-pointer"})]}),a.jsx(Z,{onClick:he,disabled:N,className:"w-full",size:"lg",children:N?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-3"}),"Attaching..."]}):"Attach License & Finalize"})]})]})]}),K&&a.jsxs(pe,{className:"mt-6 border-2 border-green-500 bg-green-50",children:[a.jsxs(yt,{children:[a.jsx(vt,{className:"text-green-700",children:" IP Fully Registered!"}),a.jsx(ls,{children:"Your IP Asset is now fully registered with license terms on Story Protocol."})]}),a.jsxs(ge,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2 font-mono text-sm bg-white p-4 rounded",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"IP ID:"})," ",a.jsx("span",{className:"text-green-600 break-all",children:K.ipId})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Token ID:"})," ",a.jsx("span",{className:"text-green-600",children:K.tokenId})]}),K.licenseTermsId&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"License Terms ID:"})," ",a.jsx("span",{className:"text-green-600",children:K.licenseTermsId})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Mint Tx Hash:"})," ",a.jsx("span",{className:"text-green-600 break-all",children:K.txHash})]}),K.licenseTxHash&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"License Tx Hash:"})," ",a.jsx("span",{className:"text-green-600 break-all",children:K.licenseTxHash})]})]}),a.jsx(Z,{onClick:()=>window.open(`${CR.blockExplorerUrls[0]}/tx/${K.licenseTxHash||K.txHash}`,"_blank"),variant:"outline",className:"w-full",children:"View on Explorer "})]})]})]}),D&&O&&"warning"in O&&a.jsx(AU,{isOpen:D,onClose:()=>C(!1),similarityInfo:O,onProceedAsOriginal:Me,onRegisterAsDerivative:ee}),I&&O&&!("warning"in O)&&a.jsx(TU,{isOpen:I,onClose:()=>{F(!1),y({title:"",description:"",assetType:"text",imageFiles:[]})},blockedInfo:O})]})},z0e=({children:t,className:e})=>a.jsxs("div",{className:ut("relative flex min-h-screen flex-col items-center justify-center overflow-hidden bg-slate-950 w-full rounded-md z-0",e),children:[a.jsxs("div",{className:"relative flex w-full flex-1 scale-y-125 items-center justify-center isolate z-0 ",children:[a.jsxs(Co.div,{initial:{opacity:.5,width:"15rem"},whileInView:{opacity:1,width:"30rem"},transition:{delay:.3,duration:.8,ease:"easeInOut"},style:{backgroundImage:"conic-gradient(var(--conic-position), var(--tw-gradient-stops))"},className:"absolute inset-auto right-1/2 h-56 overflow-visible w-[30rem] bg-gradient-conic from-cyan-500 via-transparent to-transparent text-white [--conic-position:from_70deg_at_center_top]",children:[a.jsx("div",{className:"absolute  w-[100%] left-0 bg-slate-950 h-40 bottom-0 z-20 [mask-image:linear-gradient(to_top,white,transparent)]"}),a.jsx("div",{className:"absolute  w-40 h-[100%] left-0 bg-slate-950  bottom-0 z-20 [mask-image:linear-gradient(to_right,white,transparent)]"})]}),a.jsxs(Co.div,{initial:{opacity:.5,width:"15rem"},whileInView:{opacity:1,width:"30rem"},transition:{delay:.3,duration:.8,ease:"easeInOut"},style:{backgroundImage:"conic-gradient(var(--conic-position), var(--tw-gradient-stops))"},className:"absolute inset-auto left-1/2 h-56 w-[30rem] bg-gradient-conic from-transparent via-transparent to-cyan-500 text-white [--conic-position:from_290deg_at_center_top]",children:[a.jsx("div",{className:"absolute  w-40 h-[100%] right-0 bg-slate-950  bottom-0 z-20 [mask-image:linear-gradient(to_left,white,transparent)]"}),a.jsx("div",{className:"absolute  w-[100%] right-0 bg-slate-950 h-40 bottom-0 z-20 [mask-image:linear-gradient(to_top,white,transparent)]"})]}),a.jsx("div",{className:"absolute top-1/2 h-48 w-full translate-y-12 scale-x-150 bg-slate-950 blur-2xl"}),a.jsx("div",{className:"absolute top-1/2 z-50 h-48 w-full bg-transparent opacity-10 backdrop-blur-md"}),a.jsx("div",{className:"absolute inset-auto z-50 h-36 w-[28rem] -translate-y-1/2 rounded-full bg-cyan-500 opacity-50 blur-3xl"}),a.jsx(Co.div,{initial:{width:"8rem"},whileInView:{width:"16rem"},transition:{delay:.3,duration:.8,ease:"easeInOut"},className:"absolute inset-auto z-30 h-36 w-64 -translate-y-[6rem] rounded-full bg-cyan-400 blur-2xl"}),a.jsx(Co.div,{initial:{width:"15rem"},whileInView:{width:"30rem"},transition:{delay:.3,duration:.8,ease:"easeInOut"},className:"absolute inset-auto z-50 h-0.5 w-[30rem] -translate-y-[7rem] bg-cyan-400 "}),a.jsx("div",{className:"absolute inset-auto z-40 h-44 w-full -translate-y-[12.5rem] bg-slate-950 "})]}),a.jsx("div",{className:"relative z-50 flex -translate-y-80 flex-col items-center px-5",children:t})]}),EU=({navItems:t,className:e})=>{const n=no(),{scrollYProgress:s}=Hhe(),[r,i]=v.useState(!0);return ghe(s,"change",o=>{if(typeof o=="number"){let l=o-s.getPrevious();s.get()<.05||l<0?i(!0):i(!1)}}),a.jsx(k8,{mode:"wait",children:a.jsxs(Co.div,{initial:{opacity:1,y:-100},animate:{y:r?0:-100,opacity:r?1:0},transition:{duration:.2},className:ut("flex max-w-fit  fixed top-10 inset-x-0 mx-auto border border-transparent dark:border-white/[0.2] rounded-full dark:bg-black bg-white shadow-[0px_2px_3px_-1px_rgba(0,0,0,0.1),0px_1px_0px_0px_rgba(25,28,33,0.02),0px_0px_0px_1px_rgba(25,28,33,0.08)] z-[5000] pr-2 pl-8 py-2  items-center justify-center space-x-4",e),children:[t.map((o,l)=>a.jsxs("a",{href:o.link,className:ut("relative dark:text-neutral-50 items-center flex space-x-1 text-neutral-600 dark:hover:text-neutral-300 hover:text-neutral-500"),children:[a.jsx("span",{className:"block sm:hidden",children:o.icon}),a.jsx("span",{className:"hidden sm:block text-sm",children:o.name})]},`link=${l}`)),"        ",a.jsxs("button",{onClick:()=>n("/marketplace"),className:"border text-sm font-medium relative border-neutral-200 dark:border-white/[0.2] text-black dark:text-white px-4 py-2 rounded-full hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-colors",children:[a.jsx("span",{children:"Marketplace"}),a.jsx("span",{className:"absolute inset-x-0 w-1/2 mx-auto -bottom-px bg-gradient-to-r from-transparent via-blue-500 to-transparent  h-px"})]})]})})};/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var H0e={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=(t,e,n,s)=>{const r=v.forwardRef(({color:i="currentColor",size:o=24,stroke:l=2,title:c,className:d,children:u,...h},f)=>v.createElement("svg",{ref:f,...H0e[t],width:o,height:o,className:["tabler-icon",`tabler-icon-${e}`,d].join(" "),strokeWidth:l,stroke:i,...h},[c&&v.createElement("title",{key:"svg-title"},c),...s.map(([m,g])=>v.createElement(m,g)),...Array.isArray(u)?u:[u]]));return r.displayName=`${n}`,r};/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var W0e=tl("outline","coin","IconCoin",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M14.8 9a2 2 0 0 0 -1.8 -1h-2a2 2 0 1 0 0 4h2a2 2 0 1 1 0 4h-2a2 2 0 0 1 -1.8 -1",key:"svg-1"}],["path",{d:"M12 7v10",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var K0e=tl("outline","globe","IconGlobe",[["path",{d:"M7 9a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M5.75 15a8.015 8.015 0 1 0 9.25 -13",key:"svg-1"}],["path",{d:"M11 17v4",key:"svg-2"}],["path",{d:"M7 21h8",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IU=tl("outline","home","IconHome",[["path",{d:"M5 12l-2 0l9 -9l9 9l-2 0",key:"svg-0"}],["path",{d:"M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7",key:"svg-1"}],["path",{d:"M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var q0e=tl("outline","lock","IconLock",[["path",{d:"M5 13a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v6a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-6z",key:"svg-0"}],["path",{d:"M11 16a1 1 0 1 0 2 0a1 1 0 0 0 -2 0",key:"svg-1"}],["path",{d:"M8 11v-4a4 4 0 1 1 8 0v4",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var PU=tl("outline","message","IconMessage",[["path",{d:"M8 9h8",key:"svg-0"}],["path",{d:"M8 13h6",key:"svg-1"}],["path",{d:"M18 4a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-5l-5 3v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12z",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var G0e=tl("outline","shield","IconShield",[["path",{d:"M12 3a12 12 0 0 0 8.5 3a12 12 0 0 1 -8.5 15a12 12 0 0 1 -8.5 -15a12 12 0 0 0 8.5 -3",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Y0e=tl("outline","trending-up","IconTrendingUp",[["path",{d:"M3 17l6 -6l4 4l8 -8",key:"svg-0"}],["path",{d:"M14 7l7 0l0 7",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var _U=tl("outline","user","IconUser",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var X0e=tl("outline","users","IconUsers",[["path",{d:"M9 7m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-0"}],["path",{d:"M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"svg-2"}],["path",{d:"M21 21v-2a4 4 0 0 0 -3 -3.85",key:"svg-3"}]]);const Q0e=()=>{const t=[{name:"Home",link:"/",icon:a.jsx(IU,{className:"h-4 w-4 text-neutral-500 dark:text-white"})},{name:"About",link:"/about",icon:a.jsx(_U,{className:"h-4 w-4 text-neutral-500 dark:text-white"})},{name:"Tokenize",link:"/issuer",icon:a.jsx(PU,{className:"h-4 w-4 text-neutral-500 dark:text-white"})}];return a.jsxs("div",{className:"min-h-screen bg-black",children:[a.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-black/50 backdrop-blur-sm",children:a.jsx("div",{className:"container mx-auto",children:a.jsx(EU,{navItems:t})})}),a.jsx("div",{className:"h-screen",children:a.jsxs(z0e,{className:"h-screen",children:[a.jsx(Qt.h1,{initial:{opacity:.5,y:100},whileInView:{opacity:1,y:0},transition:{delay:.3,duration:.8,ease:"easeInOut"},className:"mt-40 text-center text-4xl font-light tracking-tight text-white md:text-6xl lg:text-7xl",children:"Open Assets"}),a.jsxs(Qt.div,{initial:{opacity:0,y:100},whileInView:{opacity:1,y:0},transition:{delay:.5,duration:.8},className:"mt-8 max-w-4xl text-center text-white/90",children:[a.jsx("p",{className:"text-xl md:text-2xl font-light leading-relaxed mb-6",children:"Democratizing Premium Real-World Asset Investment Through Blockchain Technology"}),a.jsxs("p",{className:"text-lg text-white/70 font-light leading-relaxed max-w-3xl mx-auto flex items-center justify-center gap-2",children:["Built on ",a.jsx("span",{className:"text-white font-medium",children:"Flow Network"}),a.jsx("img",{src:"flowscan-logo.svg",alt:"Flow Logo",className:"h-6 w-auto inline-block"})]})]})]})}),a.jsx("div",{className:"py-20 bg-gradient-to-b from-gray-50 to-white",children:a.jsx("div",{className:"container mx-auto px-4 max-w-6xl",children:a.jsxs(Qt.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{delay:.2,duration:.8},className:"text-center mb-16",children:[a.jsx("h2",{className:"text-4xl md:text-5xl font-light text-gray-900 mb-6",children:"Our Mission"}),a.jsx("p",{className:"text-xl text-gray-600 font-light leading-relaxed max-w-4xl mx-auto",children:"To democratize access to premium real-world assets by creating the most secure, compliant, and accessible tokenization platform, enabling anyone to invest in high-value assets starting from just $10."})]})})}),a.jsx("div",{className:"py-16 bg-white",children:a.jsx("div",{className:"container mx-auto px-4 max-w-6xl",children:a.jsxs(Qt.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{delay:.3,duration:.8},className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-20",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-4xl font-light text-blue-600 mb-2",children:"$280T"}),a.jsx("div",{className:"text-gray-600 font-light",children:"Global RWA Market"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-4xl font-light text-blue-600 mb-2",children:"$10"}),a.jsx("div",{className:"text-gray-600 font-light",children:"Minimum Investment"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-4xl font-light text-blue-600 mb-2",children:"2s"}),a.jsx("div",{className:"text-gray-600 font-light",children:"Transaction Finality"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-4xl font-light text-blue-600 mb-2",children:"24/7"}),a.jsx("div",{className:"text-gray-600 font-light",children:"Global Trading"})]})]})})}),a.jsx("div",{className:"py-20 bg-gray-50",children:a.jsx("div",{className:"container mx-auto px-4 max-w-6xl",children:a.jsxs(Qt.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{delay:.3,duration:.8},className:"mb-20",children:[a.jsx("h2",{className:"text-4xl md:text-5xl font-light text-gray-900 mb-6 text-center",children:"Platform Overview"}),a.jsx("p",{className:"text-xl text-gray-600 font-light text-center max-w-3xl mx-auto leading-relaxed mb-16",children:"A comprehensive ecosystem for tokenizing, trading, and managing real-world assets with institutional-grade security and retail accessibility."}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[a.jsxs(Qt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.4,duration:.6},className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100",children:[a.jsx(G0e,{className:"w-12 h-12 text-blue-600 mb-6"}),a.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-4",children:"ERC-3643 Compliance"}),a.jsx("p",{className:"text-gray-600 font-light leading-relaxed",children:"Regulatory-compliant tokenization with built-in KYC/AML protocols, identity registry, and automated transfer restrictions ensuring full regulatory compliance."})]}),a.jsxs(Qt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.5,duration:.6},className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100",children:[a.jsx(Y0e,{className:"w-12 h-12 text-blue-600 mb-6"}),a.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-4",children:"Fractional Ownership"}),a.jsx("p",{className:"text-gray-600 font-light leading-relaxed",children:"Own portions of premium assets like luxury real estate, commercial properties, and infrastructure projects with investments starting from $10."})]}),a.jsxs(Qt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.6,duration:.6},className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100",children:[a.jsx(K0e,{className:"w-12 h-12 text-blue-600 mb-6"}),a.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-4",children:"Global Marketplace"}),a.jsx("p",{className:"text-gray-600 font-light leading-relaxed",children:"Access a diverse portfolio of tokenized assets from around the world, including real estate, commodities, art, and revenue-generating assets."})]}),a.jsxs(Qt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.7,duration:.6},className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100",children:[a.jsx(X0e,{className:"w-12 h-12 text-blue-600 mb-6"}),a.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-4",children:"P2P Trading"}),a.jsx("p",{className:"text-gray-600 font-light leading-relaxed",children:"Trade tokenized assets directly with other verified investors through our secure order book system with escrow-protected transactions."})]}),a.jsxs(Qt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.8,duration:.6},className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100",children:[a.jsx(W0e,{className:"w-12 h-12 text-blue-600 mb-6"}),a.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-4",children:"Yield Distribution"}),a.jsx("p",{className:"text-gray-600 font-light leading-relaxed",children:"Receive automated yield distributions from rental income, dividends, and asset appreciation directly to your wallet through smart contracts."})]}),a.jsxs(Qt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.9,duration:.6},className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100",children:[a.jsx(q0e,{className:"w-12 h-12 text-blue-600 mb-6"}),a.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-4",children:"Institutional Security"}),a.jsx("p",{className:"text-gray-600 font-light leading-relaxed",children:"Multi-signature security, smart contract audits, insurance coverage, and regulatory oversight ensure maximum protection for your investments."})]})]})]})})}),a.jsx("div",{className:"py-20 bg-white",children:a.jsx("div",{className:"container mx-auto px-4 max-w-6xl",children:a.jsxs(Qt.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{delay:.3,duration:.8},className:"mb-20",children:[a.jsxs("h2",{className:"text-4xl md:text-5xl font-light text-gray-900 mb-6 text-center",children:["Built on ",a.jsx("span",{className:"font-medium text-gray-900",children:"Flow Network"}),a.jsx("img",{src:"/flowscan-logo.svg",alt:"Flow Logo",className:"h-12 w-auto inline align-middle ml-2"})]}),a.jsx("p",{className:"text-xl text-gray-600 font-light text-center max-w-3xl mx-auto leading-relaxed mb-16",children:"Leveraging Flow Network's high-performance blockchain infrastructure for seamless asset tokenization with instant finality and ultra-low fees."}),a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-3xl p-8 md:p-12 mb-12",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-medium text-gray-900 mb-6",children:"Network Specifications"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),a.jsx("span",{className:"text-gray-700 font-light",children:"Chain ID: 39 (Flow Network)"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),a.jsx("span",{className:"text-gray-700 font-light",children:"Block Time: ~2 seconds"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),a.jsx("span",{className:"text-gray-700 font-light",children:"Transaction Finality: Instant"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),a.jsx("span",{className:"text-gray-700 font-light",children:"Gas Efficiency: Ultra-low fees"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-medium text-gray-900 mb-6",children:"Integration Benefits"}),a.jsxs("div",{className:"space-y-4 text-gray-700 font-light leading-relaxed",children:[a.jsx("p",{children:"All smart contracts including ERC-3643 compliant tokens, marketplace, order book escrow, and payment distribution systems are deployed directly on Flow Network."}),a.jsx("p",{children:"The Flow integration enables cost-effective fractional ownership starting from $10, making the $280 trillion global real world assets market accessible to retail investors worldwide."}),a.jsx("p",{children:"With instant finality, investors trade tokenized assets 24/7 with confidence while automated yield distributions execute seamlessly through our smart contract infrastructure."})]})]})]})}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-gray-600 font-light mb-4",children:"Discover more about the underlying blockchain technology"}),a.jsxs("a",{href:"https://flow.com",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white font-light rounded-lg hover:bg-blue-700 transition-colors",children:["Visit Flow Network",a.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]})]})})}),a.jsx("div",{className:"py-20 bg-gray-50",children:a.jsx("div",{className:"container mx-auto px-4 max-w-6xl",children:a.jsxs(Qt.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{delay:.3,duration:.8},className:"mb-20",children:[a.jsx("h2",{className:"text-4xl md:text-5xl font-light text-gray-900 mb-6 text-center",children:"How It Works"}),a.jsx("p",{className:"text-xl text-gray-600 font-light text-center max-w-3xl mx-auto leading-relaxed mb-16",children:"Our streamlined process makes tokenizing and investing in real-world assets simple, secure, and accessible to everyone."}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[a.jsxs(Qt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.4,duration:.6},className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx("span",{className:"text-2xl font-light text-blue-600",children:"1"})}),a.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-4",children:"Asset Submission"}),a.jsx("p",{className:"text-gray-600 font-light leading-relaxed",children:"Asset owners submit tokenization requests with comprehensive documentation, legal structure, and valuation reports."})]}),a.jsxs(Qt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.5,duration:.6},className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx("span",{className:"text-2xl font-light text-blue-600",children:"2"})}),a.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-4",children:"Due Diligence"}),a.jsx("p",{className:"text-gray-600 font-light leading-relaxed",children:"Our team conducts thorough due diligence including legal review, asset valuation, and regulatory compliance verification."})]}),a.jsxs(Qt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.6,duration:.6},className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx("span",{className:"text-2xl font-light text-blue-600",children:"3"})}),a.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-4",children:"Token Creation"}),a.jsx("p",{className:"text-gray-600 font-light leading-relaxed",children:"ERC-3643 compliant tokens are deployed on Flow Network with built-in compliance rules and investor protections."})]}),a.jsxs(Qt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.7,duration:.6},className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx("span",{className:"text-2xl font-light text-blue-600",children:"4"})}),a.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-4",children:"Market Launch"}),a.jsx("p",{className:"text-gray-600 font-light leading-relaxed",children:"Tokens are listed on our marketplace for primary sales and secondary trading with full transparency and liquidity."})]})]})]})})}),a.jsx("div",{className:"py-20 bg-white",children:a.jsx("div",{className:"container mx-auto px-4 max-w-6xl",children:a.jsxs(Qt.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{delay:.3,duration:.8},className:"mb-20",children:[a.jsx("h2",{className:"text-4xl md:text-5xl font-light text-gray-900 mb-6 text-center",children:"Investment Benefits"}),a.jsx("p",{className:"text-xl text-gray-600 font-light text-center max-w-3xl mx-auto leading-relaxed mb-16",children:"Experience the advantages of tokenized real-world asset investment with enhanced liquidity, transparency, and accessibility."}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[a.jsxs(Qt.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},transition:{delay:.4,duration:.6},children:[a.jsx("h3",{className:"text-2xl font-medium text-gray-900 mb-8",children:"For Investors"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-3"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Stable Yields"}),a.jsx("p",{className:"text-gray-600 font-light",children:"8-12% annual returns backed by real assets with consistent income streams"})]})]}),a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-3"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Portfolio Diversification"}),a.jsx("p",{className:"text-gray-600 font-light",children:"Access multiple asset classes and global markets with a single platform"})]})]}),a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-3"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Enhanced Liquidity"}),a.jsx("p",{className:"text-gray-600 font-light",children:"Trade 24/7 on secondary markets vs. traditional illiquid investments"})]})]}),a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-3"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Transparency"}),a.jsx("p",{className:"text-gray-600 font-light",children:"Blockchain-based performance tracking and immutable transaction history"})]})]})]})]}),a.jsxs(Qt.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},transition:{delay:.5,duration:.6},children:[a.jsx("h3",{className:"text-2xl font-medium text-gray-900 mb-8",children:"For Asset Owners"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-3"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Global Capital Access"}),a.jsx("p",{className:"text-gray-600 font-light",children:"Tap into worldwide investor base for asset financing and growth"})]})]}),a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-3"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Reduced Costs"}),a.jsx("p",{className:"text-gray-600 font-light",children:"Lower issuance and management fees compared to traditional REITs"})]})]}),a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-3"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Automated Compliance"}),a.jsx("p",{className:"text-gray-600 font-light",children:"Built-in regulatory compliance and automated reporting"})]})]}),a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-3"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Market Efficiency"}),a.jsx("p",{className:"text-gray-600 font-light",children:"Streamlined investor onboarding and asset management"})]})]})]})]})]})]})})}),a.jsx("div",{className:"py-20 bg-gray-50",children:a.jsx("div",{className:"container mx-auto px-4 max-w-6xl",children:a.jsxs(Qt.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{delay:.3,duration:.8},className:"mb-20",children:[a.jsx("h2",{className:"text-4xl md:text-5xl font-light text-gray-900 mb-6 text-center",children:"Security & Compliance"}),a.jsx("p",{className:"text-xl text-gray-600 font-light text-center max-w-3xl mx-auto leading-relaxed mb-16",children:"Institutional-grade security and regulatory compliance ensure your investments are protected by the highest industry standards."}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[a.jsxs(Qt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.4,duration:.6},className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100",children:[a.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-6",children:"Regulatory Framework"}),a.jsxs("ul",{className:"space-y-3 text-gray-600 font-light",children:[a.jsxs("li",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2.5"}),a.jsx("span",{children:"ERC-3643 compliance standard"})]}),a.jsxs("li",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2.5"}),a.jsx("span",{children:"KYC/AML verification protocols"})]}),a.jsxs("li",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2.5"}),a.jsx("span",{children:"Securities law compliance"})]}),a.jsxs("li",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2.5"}),a.jsx("span",{children:"Multi-jurisdiction support"})]})]})]}),a.jsxs(Qt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.5,duration:.6},className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100",children:[a.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-6",children:"Technical Security"}),a.jsxs("ul",{className:"space-y-3 text-gray-600 font-light",children:[a.jsxs("li",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full mt-2.5"}),a.jsx("span",{children:"Multi-signature wallet protection"})]}),a.jsxs("li",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full mt-2.5"}),a.jsx("span",{children:"Smart contract audits"})]}),a.jsxs("li",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full mt-2.5"}),a.jsx("span",{children:"Immutable blockchain records"})]}),a.jsxs("li",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full mt-2.5"}),a.jsx("span",{children:"Escrow-secured transactions"})]})]})]}),a.jsxs(Qt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.6,duration:.6},className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100",children:[a.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-6",children:"Asset Protection"}),a.jsxs("ul",{className:"space-y-3 text-gray-600 font-light",children:[a.jsxs("li",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-purple-500 rounded-full mt-2.5"}),a.jsx("span",{children:"Insurance coverage for assets"})]}),a.jsxs("li",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-purple-500 rounded-full mt-2.5"}),a.jsx("span",{children:"Legal structure validation"})]}),a.jsxs("li",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-purple-500 rounded-full mt-2.5"}),a.jsx("span",{children:"SPV verification system"})]}),a.jsxs("li",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-purple-500 rounded-full mt-2.5"}),a.jsx("span",{children:"Regular compliance audits"})]})]})]})]})]})})})]})},T1=t=>{try{const n=t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),s=decodeURIComponent(atob(n).split("").map(r=>"%"+("00"+r.charCodeAt(0).toString(16)).slice(-2)).join(""));return JSON.parse(s)}catch(e){return console.error("Error decoding JWT:",e),null}},RU=v.createContext(void 0),J0e=({children:t})=>{const[e,n]=v.useState(!1),[s,r]=v.useState(!0),[i,o]=v.useState(null),[l,c]=v.useState(null),[d,u]=v.useState([]),[h,f]=v.useState(null),[m,g]=v.useState(null),p=no(),w=to();v.useEffect(()=>{const V=async()=>{try{console.log(" Initializing Auth Context...");const L=localStorage.getItem("authToken"),M=localStorage.getItem("user"),x=localStorage.getItem("currentRole"),j=localStorage.getItem("availableRoles");if(L&&M){const E=T1(L);if(E){const D=JSON.parse(M),C=E.roles||D.roles||[],I=E.currentRole||x||C[0],F=E.primaryRole||D.primaryRole||C[0],O=Date.now()/1e3;if(E.exp&&E.exp<O){console.log(" Token expired, clearing auth data"),b(),r(!1);return}c(L),o(D),u(C),f(I),g(F),n(!0),console.log(" Auth state initialized:",{userId:D._id,roles:C,currentRole:I,primaryRole:F})}else console.log(" Invalid token, clearing auth data"),b()}else console.log(" No auth data found"),n(!1)}catch(L){console.error(" Error initializing auth:",L),b()}finally{r(!1)}},U=setTimeout(()=>{r(!1)},3e3);return V(),()=>clearTimeout(U)},[]);const b=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("user"),localStorage.removeItem("currentRole"),localStorage.removeItem("availableRoles"),c(null),o(null),u([]),f(null),g(null),n(!1)},y=async V=>{var U,L;try{r(!0);const M=await Lh.login(V);if(M.success){const{user:x,token:j,currentRole:E,availableRoles:D}=M.data;localStorage.setItem("authToken",j),localStorage.setItem("user",JSON.stringify(x)),localStorage.setItem("currentRole",E),localStorage.setItem("availableRoles",JSON.stringify(D));const C=T1(j);c(j),o(x),u(D),f(E),g(x.primaryRole),n(!0),console.log(" Login successful:",{userId:x._id,roles:D,currentRole:E});const I=((L=(U=w.state)==null?void 0:U.from)==null?void 0:L.pathname)||R(D);p(I,{replace:!0})}}catch(M){throw console.error(" Login failed:",M),M}finally{r(!1)}},N=()=>{console.log(" Logging out user"),b(),p("/login",{replace:!0})},A=async V=>{try{if(!d.includes(V))throw new Error(`You do not have ${V} role`);const U=await Lh.switchRole(V);if(U.success){const L=U.data.token,M=T1(L);localStorage.setItem("authToken",L),localStorage.setItem("currentRole",V),c(L),f(V),console.log(" Role switched to:",V);const x=R([V]);p(x,{replace:!0})}}catch(U){throw console.error(" Role switch failed:",U),U}},S=V=>d.includes(V),T=V=>V.some(U=>d.includes(U)),_=V=>e?T(V):!1,R=V=>V.includes("admin")?"/admin":V.includes("issuer")?"/issuer":V.includes("manager")?"/manager":"/marketplace",B={isAuthenticated:e,isLoading:s,user:i,token:l,userRoles:d,currentRole:h,primaryRole:m,login:y,logout:N,switchRole:A,hasRole:S,hasAnyRole:T,canAccess:_};return a.jsx(RU.Provider,{value:B,children:t})},_T=()=>{const t=v.useContext(RU);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},zn={KEYS:{USER_ASSETS:"dashboard_user_assets",PORTFOLIO_DATA:"dashboard_portfolio_data",TRANSACTION_HISTORY:"dashboard_transactions",NOTIFICATIONS:"dashboard_notifications",LAST_REFRESH:"dashboard_last_refresh"},EXPIRATION:{USER_ASSETS:5*60*1e3,PORTFOLIO_DATA:5*60*1e3,TRANSACTION_HISTORY:10*60*1e3,NOTIFICATIONS:2*60*1e3}},Hc=class Hc{static getInstance(){return Hc.instance||(Hc.instance=new Hc),Hc.instance}constructor(){}setCache(e,n,s){try{const r={data:n,timestamp:Date.now(),walletAddress:s};localStorage.setItem(e,JSON.stringify(r)),console.log(` Cached data for key: ${e}, wallet: ${s}`)}catch(r){console.warn(` Failed to cache data for key: ${e}`,r)}}getCache(e,n,s){try{const r=localStorage.getItem(e);if(!r)return console.log(` No cached data found for key: ${e}`),null;const i=JSON.parse(r);if(i.walletAddress!==n)return console.log(` Cache invalidated - different wallet (cached: ${i.walletAddress}, current: ${n})`),localStorage.removeItem(e),null;const l=Date.now()-i.timestamp;return l>s?(console.log(` Cache expired for key: ${e} (age: ${Math.round(l/1e3)}s, max: ${Math.round(s/1e3)}s)`),localStorage.removeItem(e),null):(console.log(` Using cached data for key: ${e} (age: ${Math.round(l/1e3)}s)`),i.data)}catch(r){return console.warn(` Failed to retrieve cached data for key: ${e}`,r),localStorage.removeItem(e),null}}clearCache(e){try{Object.values(zn.KEYS).forEach(n=>{if(e){const s=localStorage.getItem(n);s&&JSON.parse(s).walletAddress===e&&(localStorage.removeItem(n),console.log(` Cleared cache for key: ${n}, wallet: ${e}`))}else localStorage.removeItem(n),console.log(` Cleared all cache for key: ${n}`)})}catch(n){console.warn(" Failed to clear cache",n)}}cacheUserAssets(e,n){const s=e.filter(r=>{const i=Ji({name:r.name,metadata:r.metadata,assetType:r.type}),o=r.name&&(r.name.includes("Unknown Asset")||r.name.match(/Unknown Asset #\d+/)||r.type==="Unknown"&&r.name.includes("Asset #"));return!i&&!o});console.log(` Filtered dashboard user assets: ${e.length}  ${s.length} (removed ${e.length-s.length} dummy entries)`),s.length>0?this.setCache(zn.KEYS.USER_ASSETS,s,n):console.warn(" All user assets were dummy data - not caching")}getCachedUserAssets(e){const n=this.getCache(zn.KEYS.USER_ASSETS,e,zn.EXPIRATION.USER_ASSETS);if(!n)return console.log(" No cached user assets found"),null;const s=n.filter(r=>{const i=Ji({name:r.name,metadata:r.metadata,assetType:r.type}),o=r.name&&(r.name.includes("Unknown Asset")||r.name.match(/Unknown Asset #\d+/)||r.type==="Unknown"&&r.name.includes("Asset #"));return!i&&!o});if(s.length!==n.length)if(console.log(` Cleaned dashboard cache: ${n.length}  ${s.length} (removed ${n.length-s.length} dummy entries)`),s.length>0)this.cacheUserAssets(s,e);else return localStorage.removeItem(zn.KEYS.USER_ASSETS),null;return console.log(" Dashboard cache result:",s?`${s.length} clean assets found`:"No cache found"),s.length>0?s:null}cachePortfolioData(e,n){this.setCache(zn.KEYS.PORTFOLIO_DATA,e,n)}getCachedPortfolioData(e){return this.getCache(zn.KEYS.PORTFOLIO_DATA,e,zn.EXPIRATION.PORTFOLIO_DATA)}cacheTransactionHistory(e,n){this.setCache(zn.KEYS.TRANSACTION_HISTORY,e,n)}getCachedTransactionHistory(e){return this.getCache(zn.KEYS.TRANSACTION_HISTORY,e,zn.EXPIRATION.TRANSACTION_HISTORY)}cacheNotifications(e,n){this.setCache(zn.KEYS.NOTIFICATIONS,e,n)}getCachedNotifications(e){return this.getCache(zn.KEYS.NOTIFICATIONS,e,zn.EXPIRATION.NOTIFICATIONS)}recordLastRefresh(e){this.setCache(zn.KEYS.LAST_REFRESH,Date.now(),e)}shouldForceRefresh(e,n){const s=this.getCache(zn.KEYS.LAST_REFRESH,e,864e5);return s?n&&n>s?(console.log(" Force refresh needed - action performed after last refresh"),!0):!1:!0}getCacheStats(e){const n={};return Object.entries(zn.KEYS).forEach(([s,r])=>{const i=localStorage.getItem(r);if(i)try{const o=JSON.parse(i);n[s]={size:i.length,age:Date.now()-o.timestamp,wallet:o.walletAddress,isValidWallet:o.walletAddress===e}}catch{n[s]={error:"Invalid cache entry"}}else n[s]={status:"not cached"}}),n}clearDummyDataFromCache(e){console.log(" Clearing dummy data from dashboard cache...");let n=0;if(e){const s=this.getCachedUserAssets(e);if(s){const r=s.length,i=s.filter(o=>{const l=Ji({name:o.name,metadata:o.metadata,assetType:o.type}),c=o.name&&(o.name.includes("Unknown Asset")||o.name.match(/Unknown Asset #\d+/)||o.type==="Unknown"&&o.name.includes("Asset #"));return!l&&!c});if(i.length!==r){const o=r-i.length;n+=o,i.length===0?(localStorage.removeItem(zn.KEYS.USER_ASSETS),console.log(` Removed all dummy dashboard assets for wallet: ${e}`)):(this.cacheUserAssets(i,e),console.log(` Cleaned ${o} dummy assets from dashboard cache for wallet: ${e}`))}}}else Object.values(zn.KEYS).forEach(s=>{for(let r=localStorage.length-1;r>=0;r--){const i=localStorage.key(r);if(!(!i||!i.startsWith(s)))try{const o=localStorage.getItem(i);if(!o)continue;const l=JSON.parse(o);if(!l.data)continue;if(Array.isArray(l.data)&&s===zn.KEYS.USER_ASSETS){const c=l.data.length;if(l.data=l.data.filter(d=>{const u=Ji({name:d.name,metadata:d.metadata,assetType:d.type}),h=d.name&&(d.name.includes("Unknown Asset")||d.name.match(/Unknown Asset #\d+/)||d.type==="Unknown"&&d.name.includes("Asset #"));return!u&&!h}),l.data.length!==c){const d=c-l.data.length;n+=d,l.data.length===0?(localStorage.removeItem(i),console.log(` Removed empty dashboard cache entry: ${i}`)):(localStorage.setItem(i,JSON.stringify(l)),console.log(` Cleaned ${d} dummy entries from: ${i}`))}}}catch(o){console.warn(` Error processing dashboard cache key ${i}:`,o)}}});return console.log(` Cleared ${n} dummy data entries from dashboard cache`),n}};Ge(Hc,"instance");let tv=Hc;const er=tv.getInstance(),ci=Object.freeze(Object.defineProperty({__proto__:null,CACHE_CONFIG:zn,DashboardCache:tv,dashboardCache:er},Symbol.toStringTag,{value:"Module"})),Pp=[{type:"constructor",inputs:[{name:"_tokenContract",type:"address"}]},{type:"event",name:"SellOrderCreated",inputs:[{name:"orderId",type:"uint256",indexed:!0},{name:"seller",type:"address",indexed:!0},{name:"tokenId",type:"uint256",indexed:!0},{name:"amount",type:"uint256"},{name:"pricePerToken",type:"uint256"}]},{type:"event",name:"BuyOrderCreated",inputs:[{name:"orderId",type:"uint256",indexed:!0},{name:"buyer",type:"address",indexed:!0},{name:"tokenId",type:"uint256",indexed:!0},{name:"amount",type:"uint256"},{name:"pricePerToken",type:"uint256"}]},{type:"event",name:"OrderFilled",inputs:[{name:"orderId",type:"uint256",indexed:!0},{name:"taker",type:"address",indexed:!0},{name:"amount",type:"uint256"},{name:"totalPrice",type:"uint256"}]},{type:"event",name:"OrderCancelled",inputs:[{name:"orderId",type:"uint256",indexed:!0},{name:"maker",type:"address",indexed:!0}]},{type:"function",name:"createSellOrder",inputs:[{name:"_tokenId",type:"uint256"},{name:"_amount",type:"uint256"},{name:"_pricePerTokenU2U",type:"uint256"}],outputs:[{name:"orderId",type:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"createBuyOrder",inputs:[{name:"_tokenId",type:"uint256"},{name:"_amount",type:"uint256"},{name:"_pricePerTokenU2U",type:"uint256"}],outputs:[{name:"orderId",type:"uint256"}],stateMutability:"payable"},{type:"function",name:"fillOrder",inputs:[{name:"_orderId",type:"uint256"},{name:"_amountToFill",type:"uint256"}],outputs:[],stateMutability:"payable"},{type:"function",name:"cancelOrder",inputs:[{name:"_orderId",type:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getActiveOrders",inputs:[{name:"_tokenId",type:"uint256"}],outputs:[{name:"sellOrders",type:"uint256[]"},{name:"buyOrders",type:"uint256[]"}],stateMutability:"view"},{type:"function",name:"activeOrders",inputs:[{name:"",type:"uint256"}],outputs:[{name:"orderId",type:"uint256"},{name:"maker",type:"address"},{name:"tokenId",type:"uint256"},{name:"amount",type:"uint256"},{name:"pricePerTokenU2U",type:"uint256"},{name:"isBuyOrder",type:"bool"},{name:"isActive",type:"bool"},{name:"isFilled",type:"bool"},{name:"timestamp",type:"uint256"},{name:"expiryTimestamp",type:"uint256"}],stateMutability:"view"},{type:"function",name:"getEscrowedAssets",inputs:[{name:"_user",type:"address"},{name:"_tokenId",type:"uint256"}],outputs:[{name:"",type:"uint256"}],stateMutability:"view"},{type:"function",name:"getEscrowedU2U",inputs:[{name:"_user",type:"address"}],outputs:[{name:"",type:"uint256"}],stateMutability:"view"},{type:"function",name:"getUserOrders",inputs:[{name:"_user",type:"address"}],outputs:[{name:"",type:"uint256[]"}],stateMutability:"view"},{type:"function",name:"getBestAskPrice",inputs:[{name:"_tokenId",type:"uint256"}],outputs:[{name:"bestPrice",type:"uint256"},{name:"amount",type:"uint256"}],stateMutability:"view"},{type:"function",name:"getBestBidPrice",inputs:[{name:"_tokenId",type:"uint256"}],outputs:[{name:"bestPrice",type:"uint256"},{name:"amount",type:"uint256"}],stateMutability:"view"},{type:"function",name:"tokenContract",inputs:[],outputs:[{name:"",type:"address"}],stateMutability:"view"},{type:"function",name:"nextOrderId",inputs:[],outputs:[{name:"",type:"uint256"}],stateMutability:"view"},{type:"function",name:"PLATFORM_FEE_PERCENT",inputs:[],outputs:[{name:"",type:"uint256"}],stateMutability:"view"},{type:"function",name:"onERC1155Received",inputs:[{name:"",type:"address"},{name:"",type:"address"},{name:"",type:"uint256"},{name:"",type:"uint256"},{name:"",type:"bytes"}],outputs:[{name:"",type:"bytes4"}],stateMutability:"pure"},{type:"function",name:"onERC1155BatchReceived",inputs:[{name:"",type:"address"},{name:"",type:"address"},{name:"",type:"uint256[]"},{name:"",type:"uint256[]"},{name:"",type:"bytes"}],outputs:[{name:"",type:"bytes4"}],stateMutability:"pure"}],Z0e=()=>{const{isConnected:t,address:e,signer:n}=Mn(),[s,r]=v.useState(!1),[i,o]=v.useState([]),[l,c]=v.useState({totalYieldReceived:"0",totalPrincipalInvested:"0",currentPortfolioValue:"0",totalReturn:"0",returnPercentage:0,activeAssets:0,lastPaymentDate:"",monthlyAverageYield:"0",yearlyProjectedYield:"0"}),[d,u]=v.useState([]);v.useEffect(()=>{t&&e&&n&&h()},[t,e,n]);const h=async()=>{try{if(r(!0),console.log("Loading real yield and principal data..."),!n||!e)return;const{MARKETPLACE_CONTRACT:A,TOKEN_CONTRACT:S,PAYMENT_SPLITTER_CONTRACT:T}=await Ct(async()=>{const{MARKETPLACE_CONTRACT:j,TOKEN_CONTRACT:E,PAYMENT_SPLITTER_CONTRACT:D}=await Promise.resolve().then(()=>ia);return{MARKETPLACE_CONTRACT:j,TOKEN_CONTRACT:E,PAYMENT_SPLITTER_CONTRACT:D}},void 0),{CONTRACT_ABIS:_}=await Ct(async()=>{const{CONTRACT_ABIS:j}=await Promise.resolve().then(()=>ki);return{CONTRACT_ABIS:j}},void 0),R=new Xe(A,_.MARKETPLACE,n),B=new Xe(S,_.ERC1155CORE,n),V=new Xe(T,_.PAYMENTSPLITTER,n),U=await f(R,B),L=await m(V,U),M=g(U,L),x=p(U,L);o(L),c(M),u(x),console.log("Yield data loaded successfully")}catch(A){console.error("Failed to load yield data:",A),we.error("Failed to load yield data")}finally{r(!1)}},f=async(A,S)=>{console.log("Fetching user token holdings...");const T=await A.getAllListings(),[_,,R,B]=T,V=[];for(let U=0;U<_.length;U++){const L=_[U].toString();try{const M=await S.balanceOf(e,L),x=await A.getUserBalance(e,L),j=M.add(x);if(j.gt(0)){const E=await S.getTokenInfo(L);let D=`Asset #${L}`;if(E.metadataURI)try{let C=E.metadataURI;E.metadataURI.startsWith("ipfs://")&&(C=`https://gateway.pinata.cloud/ipfs/${E.metadataURI.replace("ipfs://","")}`);const I=await fetch(C);if(I.ok){const F=await I.json();D=(F==null?void 0:F.name)||D}}catch{console.warn(`Could not fetch metadata for token ${L}`)}V.push({tokenId:L,assetName:D,balance:j.toString(),walletBalance:M.toString(),marketplaceBalance:x.toString(),price:Be(E.price),totalInvested:Be(E.price.mul(j))})}}catch(M){console.warn(`Error checking balance for token ${L}:`,M)}}return console.log(`Found ${V.length} user assets`),V},m=async(A,S)=>{var _,R,B,V,U,L,M;console.log("Fetching yield transaction history...");const T=[];try{const x=await A.provider.getBlockNumber(),j=[],E=5e3;for(let I=0;I<10;I++){const F=x-I*E,O=Math.max(1,F-E);O<F&&j.push({from:O,to:F})}let D=[];for(const I of j)try{const F=A.filters.InvoiceSettled(),O=await A.queryFilter(F,I.from,I.to);D=D.concat(O)}catch(F){console.warn(`Error in settlement range ${I.from}-${I.to}`,F)}for(const I of D){const F=(R=(_=I.args)==null?void 0:_.tokenId)==null?void 0:R.toString(),O=(B=I.args)==null?void 0:B.toHolders;if(!F||!O)continue;const{MARKETPLACE_CONTRACT:k}=await Ct(async()=>{const{MARKETPLACE_CONTRACT:q}=await Promise.resolve().then(()=>ia);return{MARKETPLACE_CONTRACT:q}},void 0),{CONTRACT_ABIS:$}=await Ct(async()=>{const{CONTRACT_ABIS:q}=await Promise.resolve().then(()=>ki);return{CONTRACT_ABIS:q}},void 0),P=await new Xe(k,$.MARKETPLACE,n).getTokenHolders(F),[z,K]=P,H=z.findIndex(q=>q.toLowerCase()===(e==null?void 0:e.toLowerCase()));if(H>=0){const q=parseFloat(Pa(K[H],0)),Q=K.reduce((J,te)=>J+parseFloat(Pa(te,0)),0);if(q>0&&Q>0){const J=q/Q,te=(parseFloat(Be(O))*J).toFixed(6);if(parseFloat(te)>0){const Me=await I.getBlock(),ee=((V=S.find(he=>he.tokenId===F))==null?void 0:V.assetName)||`Asset #${F}`;T.push({tokenId:F,assetName:ee,amount:te,timestamp:new Date(Me.timestamp*1e3).toISOString(),type:"settlement",transactionHash:I.transactionHash,blockNumber:I.blockNumber})}}}}let C=[];for(const I of j)try{const F=A.filters.RentalDistributed(),O=await A.queryFilter(F,I.from,I.to);C=C.concat(O)}catch(F){console.warn(`Error in rental range ${I.from}-${I.to}`,F)}for(const I of C){const F=(L=(U=I.args)==null?void 0:U.tokenId)==null?void 0:L.toString(),O=(M=I.args)==null?void 0:M.toHolders,k=S.find($=>$.tokenId===F);if(k&&parseFloat(k.marketplaceBalance)>0&&O){const{MARKETPLACE_CONTRACT:$}=await Ct(async()=>{const{MARKETPLACE_CONTRACT:J}=await Promise.resolve().then(()=>ia);return{MARKETPLACE_CONTRACT:J}},void 0),{CONTRACT_ABIS:G}=await Ct(async()=>{const{CONTRACT_ABIS:J}=await Promise.resolve().then(()=>ki);return{CONTRACT_ABIS:J}},void 0),z=await new Xe($,G.MARKETPLACE,n).getTokenHolders(F),[,K]=z,H=K.reduce((J,te)=>J+parseFloat(Pa(te,0)),0),q=parseFloat(k.marketplaceBalance)/H,Q=(parseFloat(Be(O))*q).toFixed(6);if(parseFloat(Q)>0){const J=await I.getBlock();T.push({tokenId:F,assetName:k.assetName,amount:Q,timestamp:new Date(J.timestamp*1e3).toISOString(),type:"rental",transactionHash:I.transactionHash,blockNumber:I.blockNumber})}}}T.sort((I,F)=>new Date(F.timestamp).getTime()-new Date(I.timestamp).getTime())}catch(x){console.warn("Could not fetch yield events:",x)}return console.log(`Found ${T.length} yield transactions`),T},g=(A,S)=>{const T=A.reduce((M,x)=>M+parseFloat(x.totalInvested),0),_=S.reduce((M,x)=>M+parseFloat(x.amount),0),R=T>0?_/T*100:0,B=S.length>0?S[0].timestamp:"",V=Math.max(1,Math.ceil(S.length/4)),U=_/V,L=U*12;return{totalYieldReceived:_.toFixed(6),totalPrincipalInvested:T.toFixed(6),currentPortfolioValue:T.toFixed(6),totalReturn:_.toFixed(6),returnPercentage:R,activeAssets:A.length,lastPaymentDate:B,monthlyAverageYield:U.toFixed(6),yearlyProjectedYield:L.toFixed(6)}},p=(A,S)=>A.map(T=>{const _=S.filter(U=>U.tokenId===T.tokenId),R=_.reduce((U,L)=>U+parseFloat(L.amount),0),B=parseFloat(T.totalInvested)>0?R/parseFloat(T.totalInvested)*100:0,V=_.length>0?_[0].timestamp:"";return{tokenId:T.tokenId,assetName:T.assetName,principalInvested:T.totalInvested,totalYieldReceived:R.toFixed(6),currentValue:T.totalInvested,yieldPercentage:B,lastPaymentDate:V,paymentCount:_.length}}),w=()=>{console.log("Generating professional PDF report...");const A={generatedAt:new Date().toISOString(),address:e,summary:l,transactions:i,assetBreakdown:d},S=b(A),T=window.open("","_blank");T&&(T.document.write(S),T.document.close(),T.focus(),setTimeout(()=>{T.print()},500)),we.success('Report opened. Use "Save as PDF" in print dialog.')},b=A=>{const S=_=>new Date(_).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),T=_=>parseFloat(_).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:6});return`
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Yield & Income Statement</title>
  <style>
    @page { size: A4; margin: 0.8in; }
    body { font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 10pt; line-height: 1.4; color: #000; background: #fff; margin: 0; padding: 0; }
    .container { width: 100%; max-width: 8.5in; margin: 0 auto; }
    .header { border-bottom: 2px solid #003087; padding-bottom: 12px; margin-bottom: 20px; }
    .logo { font-size: 18pt; font-weight: bold; color: #003087; margin: 0; }
    .subtitle { font-size: 14pt; margin: 4px 0 0; color: #000; }
    .report-info { font-size: 9pt; margin-top: 8px; }
    .section { margin-bottom: 24px; }
    .section-title { font-size: 12pt; font-weight: bold; color: #003087; border-bottom: 1px solid #003087; padding-bottom: 4px; margin-bottom: 10px; }
    table { width: 100%; border-collapse: collapse; margin-bottom: 16px; font-size: 9pt; }
    th { background-color: #f0f4f8; color: #003087; font-weight: bold; text-align: left; padding: 8px 10px; border-bottom: 2px solid #003087; }
    td { padding: 8px 10px; border-bottom: 1px solid #d0d7e0; }
    tr:nth-child(even) { background-color: #f9fbfd; }
    .text-right { text-align: right; }
    .text-center { text-align: center; }
    .font-bold { font-weight: bold; }
    .text-blue { color: #003087; }
    .summary-grid { display: table; width: 100%; border-collapse: collapse; margin-bottom: 20px; }
    .summary-row { display: table-row; }
    .summary-cell { display: table-cell; padding: 12px; border: 1px solid #d0d7e0; background-color: #f0f4f8; }
    .summary-label { font-weight: bold; color: #003087; }
    .summary-value { font-size: 11pt; font-weight: bold; color: #000; margin-top: 4px; }
    .footer { margin-top: 40px; padding-top: 16px; border-top: 1px solid #d0d7e0; font-size: 8pt; color: #555; text-align: center; }
    @media print { body { -webkit-print-color-adjust: exact; } }
  </style>
</head>
<body>
  <div class="container">
    <div class="header" style="display: flex; align-items: center; gap: 12px; border-bottom: 2px solid #003087; padding-bottom: 12px; margin-bottom: 20px;">
  <img src="/Orion.png" alt="OpenAsset Logo" style="height: 40px; width: auto;" />
  <div>
    <h1 class="logo" style="margin: 0; font-size: 18pt; color: #003087; line-height: 1.2;">OpenAsset RWA Platform</h1>
    <p class="subtitle" style="margin: 4px 0 0; font-size: 14pt; color: #000;">Yield & Income Statement</p>
  </div>
</div>
<div class="report-info" style="font-size: 9pt; margin-top: 8px;">
  <div><strong>Account Holder:</strong> ${A.address}</div>
  <div><strong>Statement Date:</strong> ${S(A.generatedAt)}</div>
  <div><strong>Generated On:</strong> ${new Date().toLocaleString("en-US")}</div>
</div>

    <div class="section">
      <h2 class="section-title">Portfolio Summary</h2>
      <table class="summary-grid">
        <tr class="summary-row">
          <td class="summary-cell"><div class="summary-label">Total Principal Invested</div><div class="summary-value">${T(A.summary.totalPrincipalInvested)} FLOW</div></td>
          <td class="summary-cell"><div class="summary-label">Total Yield Received</div><div class="summary-value text-blue">${T(A.summary.totalYieldReceived)} FLOW</div></td>
        </tr>
        <tr class="summary-row">
          <td class="summary-cell"><div class="summary-label">Total Return</div><div class="summary-value">${A.summary.returnPercentage.toFixed(2)}%</div></td>
          <td class="summary-cell"><div class="summary-label">Active Assets</div><div class="summary-value">${A.summary.activeAssets}</div></td>
        </tr>
      </table>
    </div>

    <div class="section">
      <h2 class="section-title">Asset Yield Breakdown</h2>
      <table>
        <thead>
          <tr>
            <th>Asset</th>
            <th class="text-right">Principal</th>
            <th class="text-right">Yield Received</th>
            <th class="text-right">Return (%)</th>
            <th class="text-right">Payments</th>
            <th>Last Payment</th>
          </tr>
        </thead>
        <tbody>
          ${A.assetBreakdown.map(_=>`
            <tr>
              <td class="font-bold">${_.assetName}</td>
              <td class="text-right">${T(_.principalInvested)} FLOW</td>
              <td class="text-right text-blue">${T(_.totalYieldReceived)} FLOW</td>
              <td class="text-right">${_.yieldPercentage.toFixed(2)}%</td>
              <td class="text-right">${_.paymentCount}</td>
              <td>${_.lastPaymentDate?S(_.lastPaymentDate):""}</td>
            </tr>
          `).join("")}
        </tbody>
      </table>
    </div>

    <div class="section">
      <h2 class="section-title">Recent Yield Transactions (Last 10)</h2>
      <table>
        <thead>
          <tr>
            <th>Date</th>
            <th>Asset</th>
            <th>Type</th>
            <th class="text-right">Amount (FLOW)</th>
          </tr>
        </thead>
        <tbody>
          ${A.transactions.slice(0,10).map(_=>`
            <tr>
              <td>${S(_.timestamp)}</td>
              <td>${_.assetName}</td>
              <td><span style="text-transform: capitalize;">${_.type}</span></td>
              <td class="text-right text-blue">+${T(_.amount)}</td>
            </tr>
          `).join("")}
          ${A.transactions.length===0?'<tr><td colspan="4" class="text-center" style="color: #666;">No transactions recorded</td></tr>':""}
        </tbody>
      </table>
    </div>

    <div class="footer">
      <p><strong>Confidential Financial Statement</strong>  Generated from verified on-chain data.</p>
      <p>OpenAsset RWA Platform  Report ID: YIELD-${new Date().toISOString().slice(0,10).replace(/-/g,"")}-${Math.random().toString(36).substr(2,5).toUpperCase()}</p>
    </div>
  </div>
</body>
</html>`},y=A=>new Date(A).toLocaleDateString(),N=A=>`${parseFloat(A).toLocaleString()} FLOW`;return t?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Yield & Income Report"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Track your real yield and principal returns from tokenized assets"})]}),a.jsxs(Z,{onClick:w,className:"bg-blue-600 hover:bg-blue-700",children:[a.jsx(kh,{className:"w-4 h-4 mr-2"}),"Download Report"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6",children:[a.jsx(pe,{children:a.jsx(ge,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(cs,{className:"h-4 w-4 text-blue-600"}),a.jsxs("div",{className:"ml-2",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Principal"}),a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:N(l.totalPrincipalInvested)})]})]})})}),a.jsx(pe,{children:a.jsx(ge,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(ns,{className:"h-4 w-4 text-green-600"}),a.jsxs("div",{className:"ml-2",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Yield Received"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:N(l.totalYieldReceived)})]})]})})}),a.jsx(pe,{children:a.jsx(ge,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(na,{className:"h-4 w-4 text-purple-600"}),a.jsxs("div",{className:"ml-2",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Return"}),a.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[l.returnPercentage.toFixed(2),"%"]})]})]})})}),a.jsx(pe,{children:a.jsx(ge,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Nh,{className:"h-4 w-4 text-orange-600"}),a.jsxs("div",{className:"ml-2",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Assets"}),a.jsx("p",{className:"text-2xl font-bold text-orange-600",children:l.activeAssets})]})]})})})]}),a.jsxs(pe,{children:[a.jsxs(yt,{children:[a.jsxs(vt,{className:"flex items-center gap-2",children:[a.jsx(Nh,{className:"w-5 h-5"}),"Asset Yield Breakdown"]}),a.jsx(ls,{children:"Individual asset performance and yield history"})]}),a.jsx(ge,{children:s?a.jsx("div",{className:"flex justify-center p-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):d.length===0?a.jsx("p",{className:"text-gray-500 text-center py-8",children:"No asset data available"}):a.jsx("div",{className:"space-y-4",children:d.map(A=>a.jsx(pe,{className:"border-l-4 border-l-green-500",children:a.jsx(ge,{className:"p-6",children:a.jsx("div",{className:"flex justify-between items-start",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"font-bold text-lg",children:A.assetName}),a.jsxs(Ue,{variant:"outline",className:"bg-green-50 text-green-700",children:[A.yieldPercentage.toFixed(2),"% Return"]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Principal Invested"}),a.jsx("p",{className:"font-medium",children:N(A.principalInvested)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Yield Received"}),a.jsx("p",{className:"font-medium text-green-600",children:N(A.totalYieldReceived)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Payments Count"}),a.jsxs("p",{className:"font-medium",children:[A.paymentCount," payments"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Last Payment"}),a.jsx("p",{className:"font-medium",children:A.lastPaymentDate?y(A.lastPaymentDate):"None"})]})]})]})})})},A.tokenId))})})]}),a.jsxs(pe,{children:[a.jsxs(yt,{children:[a.jsxs(vt,{className:"flex items-center gap-2",children:[a.jsx(Ml,{className:"w-5 h-5"}),"Recent Yield Transactions"]}),a.jsx(ls,{children:"Latest yield payments received from your assets"})]}),a.jsx(ge,{children:s?a.jsx("div",{className:"flex justify-center p-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):i.length===0?a.jsx("p",{className:"text-gray-500 text-center py-8",children:"No yield transactions found"}):a.jsx("div",{className:"space-y-3",children:i.slice(0,10).map((A,S)=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(cs,{className:"w-5 h-5 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:A.assetName}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ue,{variant:"outline",className:"bg-green-50 text-green-700",children:A.type}),a.jsx("span",{className:"text-sm text-gray-500",children:y(A.timestamp)})]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-lg font-bold text-green-600",children:["+",N(A.amount)]}),a.jsxs("div",{className:"flex items-center justify-end space-x-1",children:[a.jsx(Gc,{className:"w-3 h-3 text-green-500"}),a.jsx("span",{className:"text-xs text-green-500",children:"Credited"})]})]})]},S))})})]})]}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(qr,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Connect Your Wallet"}),a.jsx("p",{className:"text-gray-600",children:"Connect your wallet to view your yield and income report"})]})};var exe="Separator",ER="horizontal",txe=["horizontal","vertical"],MU=v.forwardRef((t,e)=>{const{decorative:n,orientation:s=ER,...r}=t,i=nxe(s)?s:ER,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return a.jsx(gt.div,{"data-orientation":i,...l,...r,ref:e})});MU.displayName=exe;function nxe(t){return txe.includes(t)}var OU=MU;const DU=v.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...s},r)=>a.jsx(OU,{ref:r,decorative:n,orientation:e,className:ut("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...s}));DU.displayName=OU.displayName;/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function $g(t){return t+.5|0}const Ll=(t,e,n)=>Math.max(Math.min(t,n),e);function nm(t){return Ll($g(t*2.55),0,255)}function tc(t){return Ll($g(t*255),0,255)}function vo(t){return Ll($g(t/2.55)/100,0,1)}function IR(t){return Ll($g(t*100),0,100)}const di={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ek=[..."0123456789ABCDEF"],sxe=t=>Ek[t&15],rxe=t=>Ek[(t&240)>>4]+Ek[t&15],T0=t=>(t&240)>>4===(t&15),ixe=t=>T0(t.r)&&T0(t.g)&&T0(t.b)&&T0(t.a);function axe(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&di[t[1]]*17,g:255&di[t[2]]*17,b:255&di[t[3]]*17,a:e===5?di[t[4]]*17:255}:(e===7||e===9)&&(n={r:di[t[1]]<<4|di[t[2]],g:di[t[3]]<<4|di[t[4]],b:di[t[5]]<<4|di[t[6]],a:e===9?di[t[7]]<<4|di[t[8]]:255})),n}const oxe=(t,e)=>t<255?e(t):"";function lxe(t){var e=ixe(t)?sxe:rxe;return t?"#"+e(t.r)+e(t.g)+e(t.b)+oxe(t.a,e):void 0}const cxe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function $U(t,e,n){const s=e*Math.min(n,1-n),r=(i,o=(i+t/30)%12)=>n-s*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function dxe(t,e,n){const s=(r,i=(r+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0);return[s(5),s(3),s(1)]}function uxe(t,e,n){const s=$U(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)s[r]*=1-e-n,s[r]+=e;return s}function hxe(t,e,n,s,r){return t===r?(e-n)/s+(e<n?6:0):e===r?(n-t)/s+2:(t-e)/s+4}function RT(t){const n=t.r/255,s=t.g/255,r=t.b/255,i=Math.max(n,s,r),o=Math.min(n,s,r),l=(i+o)/2;let c,d,u;return i!==o&&(u=i-o,d=l>.5?u/(2-i-o):u/(i+o),c=hxe(n,s,r,u,i),c=c*60+.5),[c|0,d||0,l]}function MT(t,e,n,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,s)).map(tc)}function OT(t,e,n){return MT($U,t,e,n)}function fxe(t,e,n){return MT(uxe,t,e,n)}function mxe(t,e,n){return MT(dxe,t,e,n)}function FU(t){return(t%360+360)%360}function pxe(t){const e=cxe.exec(t);let n=255,s;if(!e)return;e[5]!==s&&(n=e[6]?nm(+e[5]):tc(+e[5]));const r=FU(+e[2]),i=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?s=fxe(r,i,o):e[1]==="hsv"?s=mxe(r,i,o):s=OT(r,i,o),{r:s[0],g:s[1],b:s[2],a:n}}function gxe(t,e){var n=RT(t);n[0]=FU(n[0]+e),n=OT(n),t.r=n[0],t.g=n[1],t.b=n[2]}function xxe(t){if(!t)return;const e=RT(t),n=e[0],s=IR(e[1]),r=IR(e[2]);return t.a<255?`hsla(${n}, ${s}%, ${r}%, ${vo(t.a)})`:`hsl(${n}, ${s}%, ${r}%)`}const PR={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},_R={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function yxe(){const t={},e=Object.keys(_R),n=Object.keys(PR);let s,r,i,o,l;for(s=0;s<e.length;s++){for(o=l=e[s],r=0;r<n.length;r++)i=n[r],l=l.replace(i,PR[i]);i=parseInt(_R[o],16),t[l]=[i>>16&255,i>>8&255,i&255]}return t}let C0;function vxe(t){C0||(C0=yxe(),C0.transparent=[0,0,0,0]);const e=C0[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const bxe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function wxe(t){const e=bxe.exec(t);let n=255,s,r,i;if(e){if(e[7]!==s){const o=+e[7];n=e[8]?nm(o):Ll(o*255,0,255)}return s=+e[1],r=+e[3],i=+e[5],s=255&(e[2]?nm(s):Ll(s,0,255)),r=255&(e[4]?nm(r):Ll(r,0,255)),i=255&(e[6]?nm(i):Ll(i,0,255)),{r:s,g:r,b:i,a:n}}}function Nxe(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${vo(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const C1=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,cu=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function kxe(t,e,n){const s=cu(vo(t.r)),r=cu(vo(t.g)),i=cu(vo(t.b));return{r:tc(C1(s+n*(cu(vo(e.r))-s))),g:tc(C1(r+n*(cu(vo(e.g))-r))),b:tc(C1(i+n*(cu(vo(e.b))-i))),a:t.a+n*(e.a-t.a)}}function E0(t,e,n){if(t){let s=RT(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*n,e===0?360:1)),s=OT(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function LU(t,e){return t&&Object.assign(e||{},t)}function RR(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=tc(t[3]))):(e=LU(t,{r:0,g:0,b:0,a:1}),e.a=tc(e.a)),e}function jxe(t){return t.charAt(0)==="r"?wxe(t):pxe(t)}class _p{constructor(e){if(e instanceof _p)return e;const n=typeof e;let s;n==="object"?s=RR(e):n==="string"&&(s=axe(e)||vxe(e)||jxe(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=LU(this._rgb);return e&&(e.a=vo(e.a)),e}set rgb(e){this._rgb=RR(e)}rgbString(){return this._valid?Nxe(this._rgb):void 0}hexString(){return this._valid?lxe(this._rgb):void 0}hslString(){return this._valid?xxe(this._rgb):void 0}mix(e,n){if(e){const s=this.rgb,r=e.rgb;let i;const o=n===i?.5:n,l=2*o-1,c=s.a-r.a,d=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;i=1-d,s.r=255&d*s.r+i*r.r+.5,s.g=255&d*s.g+i*r.g+.5,s.b=255&d*s.b+i*r.b+.5,s.a=o*s.a+(1-o)*r.a,this.rgb=s}return this}interpolate(e,n){return e&&(this._rgb=kxe(this._rgb,e._rgb,n)),this}clone(){return new _p(this.rgb)}alpha(e){return this._rgb.a=tc(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=$g(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return E0(this._rgb,2,e),this}darken(e){return E0(this._rgb,2,-e),this}saturate(e){return E0(this._rgb,1,e),this}desaturate(e){return E0(this._rgb,1,-e),this}rotate(e){return gxe(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function lo(){}const Sxe=(()=>{let t=0;return()=>t++})();function tn(t){return t==null}function ss(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function qt(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Xs(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function xa(t,e){return Xs(t)?t:e}function $t(t,e){return typeof t>"u"?e:t}const Axe=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function vn(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function sn(t,e,n,s){let r,i,o;if(ss(t))for(i=t.length,r=0;r<i;r++)e.call(n,t[r],r);else if(qt(t))for(o=Object.keys(t),i=o.length,r=0;r<i;r++)e.call(n,t[o[r]],o[r])}function nv(t,e){let n,s,r,i;if(!t||!e||t.length!==e.length)return!1;for(n=0,s=t.length;n<s;++n)if(r=t[n],i=e[n],r.datasetIndex!==i.datasetIndex||r.index!==i.index)return!1;return!0}function sv(t){if(ss(t))return t.map(sv);if(qt(t)){const e=Object.create(null),n=Object.keys(t),s=n.length;let r=0;for(;r<s;++r)e[n[r]]=sv(t[n[r]]);return e}return t}function BU(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function Txe(t,e,n,s){if(!BU(t))return;const r=e[t],i=n[t];qt(r)&&qt(i)?Rp(r,i,s):e[t]=sv(i)}function Rp(t,e,n){const s=ss(e)?e:[e],r=s.length;if(!qt(t))return t;n=n||{};const i=n.merger||Txe;let o;for(let l=0;l<r;++l){if(o=s[l],!qt(o))continue;const c=Object.keys(o);for(let d=0,u=c.length;d<u;++d)i(c[d],t,o,n)}return t}function _m(t,e){return Rp(t,e,{merger:Cxe})}function Cxe(t,e,n){if(!BU(t))return;const s=e[t],r=n[t];qt(s)&&qt(r)?_m(s,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=sv(r))}const MR={"":t=>t,x:t=>t.x,y:t=>t.y};function Exe(t){const e=t.split("."),n=[];let s="";for(const r of e)s+=r,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function Ixe(t){const e=Exe(t);return n=>{for(const s of e){if(s==="")break;n=n&&n[s]}return n}}function Bh(t,e){return(MR[e]||(MR[e]=Ixe(e)))(t)}function DT(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Mp=t=>typeof t<"u",pc=t=>typeof t=="function",OR=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function Pxe(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const ws=Math.PI,aa=2*ws,_xe=aa+ws,rv=Number.POSITIVE_INFINITY,Rxe=ws/180,Zi=ws/2,_c=ws/4,DR=ws*2/3,Ik=Math.log10,Ka=Math.sign;function Rm(t,e,n){return Math.abs(t-e)<n}function $R(t){const e=Math.round(t);t=Rm(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Ik(t))),s=t/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function Mxe(t){const e=[],n=Math.sqrt(t);let s;for(s=1;s<n;s++)t%s===0&&(e.push(s),e.push(t/s));return n===(n|0)&&e.push(n),e.sort((r,i)=>r-i).pop(),e}function Oxe(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Op(t){return!Oxe(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function Dxe(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function $xe(t,e,n){let s,r,i;for(s=0,r=t.length;s<r;s++)i=t[s][n],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function ed(t){return t*(ws/180)}function Fxe(t){return t*(180/ws)}function FR(t){if(!Xs(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Lxe(t,e){const n=e.x-t.x,s=e.y-t.y,r=Math.sqrt(n*n+s*s);let i=Math.atan2(s,n);return i<-.5*ws&&(i+=aa),{angle:i,distance:r}}function Pk(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Bxe(t,e){return(t-e+_xe)%aa-ws}function ja(t){return(t%aa+aa)%aa}function UU(t,e,n,s){const r=ja(t),i=ja(e),o=ja(n),l=ja(i-r),c=ja(o-r),d=ja(r-i),u=ja(r-o);return r===i||r===o||s&&i===o||l>c&&d<u}function Yr(t,e,n){return Math.max(e,Math.min(n,t))}function Uxe(t){return Yr(t,-32768,32767)}function Bl(t,e,n,s=1e-6){return t>=Math.min(e,n)-s&&t<=Math.max(e,n)+s}function $T(t,e,n){n=n||(o=>t[o]<e);let s=t.length-1,r=0,i;for(;s-r>1;)i=r+s>>1,n(i)?r=i:s=i;return{lo:r,hi:s}}const td=(t,e,n,s)=>$T(t,n,s?r=>{const i=t[r][e];return i<n||i===n&&t[r+1][e]===n}:r=>t[r][e]<n),Vxe=(t,e,n)=>$T(t,n,s=>t[s][e]>=n);function zxe(t,e,n){let s=0,r=t.length;for(;s<r&&t[s]<e;)s++;for(;r>s&&t[r-1]>n;)r--;return s>0||r<t.length?t.slice(s,r):t}const VU=["push","pop","shift","splice","unshift"];function Hxe(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),VU.forEach(n=>{const s="_onData"+DT(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...i){const o=r.apply(this,i);return t._chartjs.listeners.forEach(l=>{typeof l[s]=="function"&&l[s](...i)}),o}})})}function LR(t,e){const n=t._chartjs;if(!n)return;const s=n.listeners,r=s.indexOf(e);r!==-1&&s.splice(r,1),!(s.length>0)&&(VU.forEach(i=>{delete t[i]}),delete t._chartjs)}function zU(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const HU=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function WU(t,e){let n=[],s=!1;return function(...r){n=r,s||(s=!0,HU.call(window,()=>{s=!1,t.apply(e,n)}))}}function Wxe(t,e){let n;return function(...s){return e?(clearTimeout(n),n=setTimeout(t,e,s)):t.apply(this,s),e}}const FT=t=>t==="start"?"left":t==="end"?"right":"center",Os=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,Kxe=(t,e,n,s)=>t===(s?"left":"right")?n:t==="center"?(e+n)/2:e;function qxe(t,e,n){const s=e.length;let r=0,i=s;if(t._sorted){const{iScale:o,vScale:l,_parsed:c}=t,d=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=o.axis,{min:h,max:f,minDefined:m,maxDefined:g}=o.getUserBounds();if(m){if(r=Math.min(td(c,u,h).lo,n?s:td(e,u,o.getPixelForValue(h)).lo),d){const p=c.slice(0,r+1).reverse().findIndex(w=>!tn(w[l.axis]));r-=Math.max(0,p)}r=Yr(r,0,s-1)}if(g){let p=Math.max(td(c,o.axis,f,!0).hi+1,n?0:td(e,u,o.getPixelForValue(f),!0).hi+1);if(d){const w=c.slice(p-1).findIndex(b=>!tn(b[l.axis]));p+=Math.max(0,w)}i=Yr(p,r,s)-r}else i=s-r}return{start:r,count:i}}function Gxe(t){const{xScale:e,yScale:n,_scaleRanges:s}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!s)return t._scaleRanges=r,!0;const i=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==n.min||s.ymax!==n.max;return Object.assign(s,r),i}const I0=t=>t===0||t===1,BR=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*aa/n)),UR=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*aa/n)+1,Mm={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Zi)+1,easeOutSine:t=>Math.sin(t*Zi),easeInOutSine:t=>-.5*(Math.cos(ws*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>I0(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>I0(t)?t:BR(t,.075,.3),easeOutElastic:t=>I0(t)?t:UR(t,.075,.3),easeInOutElastic(t){return I0(t)?t:t<.5?.5*BR(t*2,.1125,.45):.5+.5*UR(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Mm.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Mm.easeInBounce(t*2)*.5:Mm.easeOutBounce(t*2-1)*.5+.5};function LT(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function VR(t){return LT(t)?t:new _p(t)}function E1(t){return LT(t)?t:new _p(t).saturate(.5).darken(.1).hexString()}const Yxe=["x","y","borderWidth","radius","tension"],Xxe=["color","borderColor","backgroundColor"];function Qxe(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:Xxe},numbers:{type:"number",properties:Yxe}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Jxe(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const zR=new Map;function Zxe(t,e){e=e||{};const n=t+JSON.stringify(e);let s=zR.get(n);return s||(s=new Intl.NumberFormat(t,e),zR.set(n,s)),s}function KU(t,e,n){return Zxe(e,n).format(t)}const qU={values(t){return ss(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const s=this.chart.options.locale;let r,i=t;if(n.length>1){const d=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(d<1e-4||d>1e15)&&(r="scientific"),i=eye(t,n)}const o=Ik(Math.abs(i)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:r,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),KU(t,s,c)},logarithmic(t,e,n){if(t===0)return"0";const s=n[e].significand||t/Math.pow(10,Math.floor(Ik(t)));return[1,2,3,5,10,15].includes(s)||e>.8*n.length?qU.numeric.call(this,t,e,n):""}};function eye(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var GU={formatters:qU};function tye(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:GU.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Vd=Object.create(null),_k=Object.create(null);function Om(t,e){if(!e)return t;const n=e.split(".");for(let s=0,r=n.length;s<r;++s){const i=n[s];t=t[i]||(t[i]=Object.create(null))}return t}function I1(t,e,n){return typeof e=="string"?Rp(Om(t,e),n):Rp(Om(t,""),e)}class nye{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,r)=>E1(r.backgroundColor),this.hoverBorderColor=(s,r)=>E1(r.borderColor),this.hoverColor=(s,r)=>E1(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return I1(this,e,n)}get(e){return Om(this,e)}describe(e,n){return I1(_k,e,n)}override(e,n){return I1(Vd,e,n)}route(e,n,s,r){const i=Om(this,e),o=Om(this,s),l="_"+n;Object.defineProperties(i,{[l]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const c=this[l],d=o[r];return qt(c)?Object.assign({},d,c):$t(c,d)},set(c){this[l]=c}}})}apply(e){e.forEach(n=>n(this))}}var qn=new nye({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Qxe,Jxe,tye]);function sye(t){return!t||tn(t.size)||tn(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function HR(t,e,n,s,r){let i=e[r];return i||(i=e[r]=t.measureText(r).width,n.push(r)),i>s&&(s=i),s}function Rc(t,e,n){const s=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*s)/s+r}function WR(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Rk(t,e,n,s){YU(t,e,n,s,null)}function YU(t,e,n,s,r){let i,o,l,c,d,u,h,f;const m=e.pointStyle,g=e.rotation,p=e.radius;let w=(g||0)*Rxe;if(m&&typeof m=="object"&&(i=m.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(n,s),t.rotate(w),t.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),t.restore();return}if(!(isNaN(p)||p<=0)){switch(t.beginPath(),m){default:r?t.ellipse(n,s,r/2,p,0,0,aa):t.arc(n,s,p,0,aa),t.closePath();break;case"triangle":u=r?r/2:p,t.moveTo(n+Math.sin(w)*u,s-Math.cos(w)*p),w+=DR,t.lineTo(n+Math.sin(w)*u,s-Math.cos(w)*p),w+=DR,t.lineTo(n+Math.sin(w)*u,s-Math.cos(w)*p),t.closePath();break;case"rectRounded":d=p*.516,c=p-d,o=Math.cos(w+_c)*c,h=Math.cos(w+_c)*(r?r/2-d:c),l=Math.sin(w+_c)*c,f=Math.sin(w+_c)*(r?r/2-d:c),t.arc(n-h,s-l,d,w-ws,w-Zi),t.arc(n+f,s-o,d,w-Zi,w),t.arc(n+h,s+l,d,w,w+Zi),t.arc(n-f,s+o,d,w+Zi,w+ws),t.closePath();break;case"rect":if(!g){c=Math.SQRT1_2*p,u=r?r/2:c,t.rect(n-u,s-c,2*u,2*c);break}w+=_c;case"rectRot":h=Math.cos(w)*(r?r/2:p),o=Math.cos(w)*p,l=Math.sin(w)*p,f=Math.sin(w)*(r?r/2:p),t.moveTo(n-h,s-l),t.lineTo(n+f,s-o),t.lineTo(n+h,s+l),t.lineTo(n-f,s+o),t.closePath();break;case"crossRot":w+=_c;case"cross":h=Math.cos(w)*(r?r/2:p),o=Math.cos(w)*p,l=Math.sin(w)*p,f=Math.sin(w)*(r?r/2:p),t.moveTo(n-h,s-l),t.lineTo(n+h,s+l),t.moveTo(n+f,s-o),t.lineTo(n-f,s+o);break;case"star":h=Math.cos(w)*(r?r/2:p),o=Math.cos(w)*p,l=Math.sin(w)*p,f=Math.sin(w)*(r?r/2:p),t.moveTo(n-h,s-l),t.lineTo(n+h,s+l),t.moveTo(n+f,s-o),t.lineTo(n-f,s+o),w+=_c,h=Math.cos(w)*(r?r/2:p),o=Math.cos(w)*p,l=Math.sin(w)*p,f=Math.sin(w)*(r?r/2:p),t.moveTo(n-h,s-l),t.lineTo(n+h,s+l),t.moveTo(n+f,s-o),t.lineTo(n-f,s+o);break;case"line":o=r?r/2:Math.cos(w)*p,l=Math.sin(w)*p,t.moveTo(n-o,s-l),t.lineTo(n+o,s+l);break;case"dash":t.moveTo(n,s),t.lineTo(n+Math.cos(w)*(r?r/2:p),s+Math.sin(w)*p);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Dp(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Ib(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Pb(t){t.restore()}function rye(t,e,n,s,r){if(!e)return t.lineTo(n.x,n.y);if(r==="middle"){const i=(e.x+n.x)/2;t.lineTo(i,e.y),t.lineTo(i,n.y)}else r==="after"!=!!s?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function iye(t,e,n,s){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?n.cp2x:n.cp1x,s?n.cp2y:n.cp1y,n.x,n.y)}function aye(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),tn(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function oye(t,e,n,s,r){if(r.strikethrough||r.underline){const i=t.measureText(s),o=e-i.actualBoundingBoxLeft,l=e+i.actualBoundingBoxRight,c=n-i.actualBoundingBoxAscent,d=n+i.actualBoundingBoxDescent,u=r.strikethrough?(c+d)/2:d;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(o,u),t.lineTo(l,u),t.stroke()}}function lye(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function $p(t,e,n,s,r,i={}){const o=ss(e)?e:[e],l=i.strokeWidth>0&&i.strokeColor!=="";let c,d;for(t.save(),t.font=r.string,aye(t,i),c=0;c<o.length;++c)d=o[c],i.backdrop&&lye(t,i.backdrop),l&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),tn(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(d,n,s,i.maxWidth)),t.fillText(d,n,s,i.maxWidth),oye(t,n,s,d,i),s+=Number(r.lineHeight);t.restore()}function iv(t,e){const{x:n,y:s,w:r,h:i,radius:o}=e;t.arc(n+o.topLeft,s+o.topLeft,o.topLeft,1.5*ws,ws,!0),t.lineTo(n,s+i-o.bottomLeft),t.arc(n+o.bottomLeft,s+i-o.bottomLeft,o.bottomLeft,ws,Zi,!0),t.lineTo(n+r-o.bottomRight,s+i),t.arc(n+r-o.bottomRight,s+i-o.bottomRight,o.bottomRight,Zi,0,!0),t.lineTo(n+r,s+o.topRight),t.arc(n+r-o.topRight,s+o.topRight,o.topRight,0,-Zi,!0),t.lineTo(n+o.topLeft,s)}const cye=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,dye=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function uye(t,e){const n=(""+t).match(cye);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const hye=t=>+t||0;function XU(t,e){const n={},s=qt(e),r=s?Object.keys(e):e,i=qt(t)?s?o=>$t(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of r)n[o]=hye(i(o));return n}function QU(t){return XU(t,{top:"y",right:"x",bottom:"y",left:"x"})}function eh(t){return XU(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Ti(t){const e=QU(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function qs(t,e){t=t||{},e=e||qn.font;let n=$t(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let s=$t(t.style,e.style);s&&!(""+s).match(dye)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const r={family:$t(t.family,e.family),lineHeight:uye($t(t.lineHeight,e.lineHeight),n),size:n,style:s,weight:$t(t.weight,e.weight),string:""};return r.string=sye(r),r}function P0(t,e,n,s){let r,i,o;for(r=0,i=t.length;r<i;++r)if(o=t[r],o!==void 0&&o!==void 0)return o}function fye(t,e,n){const{min:s,max:r}=t,i=Axe(e,(r-s)/2),o=(l,c)=>n&&l===0?0:l+c;return{min:o(s,-Math.abs(i)),max:o(r,i)}}function Jd(t,e){return Object.assign(Object.create(t),e)}function BT(t,e=[""],n,s,r=()=>t[0]){const i=n||t;typeof s>"u"&&(s=tV("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:s,_getTarget:r,override:l=>BT([l,...t],e,i,s)};return new Proxy(o,{deleteProperty(l,c){return delete l[c],delete l._keys,delete t[0][c],!0},get(l,c){return ZU(l,c,()=>wye(c,e,t,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,c){return qR(l).includes(c)},ownKeys(l){return qR(l)},set(l,c,d){const u=l._storage||(l._storage=r());return l[c]=u[c]=d,delete l._keys,!0}})}function Uh(t,e,n,s){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:JU(t,s),setContext:i=>Uh(t,i,n,s),override:i=>Uh(t.override(i),e,n,s)};return new Proxy(r,{deleteProperty(i,o){return delete i[o],delete t[o],!0},get(i,o,l){return ZU(i,o,()=>pye(i,o,l))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(i,o,l){return t[o]=l,delete i[o],!0}})}function JU(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:s=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:s,isScriptable:pc(n)?n:()=>n,isIndexable:pc(s)?s:()=>s}}const mye=(t,e)=>t?t+DT(e):e,UT=(t,e)=>qt(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function ZU(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const s=n();return t[e]=s,s}function pye(t,e,n){const{_proxy:s,_context:r,_subProxy:i,_descriptors:o}=t;let l=s[e];return pc(l)&&o.isScriptable(e)&&(l=gye(e,l,t,n)),ss(l)&&l.length&&(l=xye(e,l,t,o.isIndexable)),UT(e,l)&&(l=Uh(l,r,i&&i[e],o)),l}function gye(t,e,n,s){const{_proxy:r,_context:i,_subProxy:o,_stack:l}=n;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let c=e(i,o||s);return l.delete(t),UT(t,c)&&(c=VT(r._scopes,r,t,c)),c}function xye(t,e,n,s){const{_proxy:r,_context:i,_subProxy:o,_descriptors:l}=n;if(typeof i.index<"u"&&s(t))return e[i.index%e.length];if(qt(e[0])){const c=e,d=r._scopes.filter(u=>u!==c);e=[];for(const u of c){const h=VT(d,r,t,u);e.push(Uh(h,i,o&&o[t],l))}}return e}function eV(t,e,n){return pc(t)?t(e,n):t}const yye=(t,e)=>t===!0?e:typeof t=="string"?Bh(e,t):void 0;function vye(t,e,n,s,r){for(const i of e){const o=yye(n,i);if(o){t.add(o);const l=eV(o._fallback,n,r);if(typeof l<"u"&&l!==n&&l!==s)return l}else if(o===!1&&typeof s<"u"&&n!==s)return null}return!1}function VT(t,e,n,s){const r=e._rootScopes,i=eV(e._fallback,n,s),o=[...t,...r],l=new Set;l.add(s);let c=KR(l,o,n,i||n,s);return c===null||typeof i<"u"&&i!==n&&(c=KR(l,o,i,c,s),c===null)?!1:BT(Array.from(l),[""],r,i,()=>bye(e,n,s))}function KR(t,e,n,s,r){for(;n;)n=vye(t,e,n,s,r);return n}function bye(t,e,n){const s=t._getTarget();e in s||(s[e]={});const r=s[e];return ss(r)&&qt(n)?n:r||{}}function wye(t,e,n,s){let r;for(const i of e)if(r=tV(mye(i,t),n),typeof r<"u")return UT(t,r)?VT(n,s,t,r):r}function tV(t,e){for(const n of e){if(!n)continue;const s=n[t];if(typeof s<"u")return s}}function qR(t){let e=t._keys;return e||(e=t._keys=Nye(t._scopes)),e}function Nye(t){const e=new Set;for(const n of t)for(const s of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(s);return Array.from(e)}const kye=Number.EPSILON||1e-14,Vh=(t,e)=>e<t.length&&!t[e].skip&&t[e],nV=t=>t==="x"?"y":"x";function jye(t,e,n,s){const r=t.skip?e:t,i=e,o=n.skip?e:n,l=Pk(i,r),c=Pk(o,i);let d=l/(l+c),u=c/(l+c);d=isNaN(d)?0:d,u=isNaN(u)?0:u;const h=s*d,f=s*u;return{previous:{x:i.x-h*(o.x-r.x),y:i.y-h*(o.y-r.y)},next:{x:i.x+f*(o.x-r.x),y:i.y+f*(o.y-r.y)}}}function Sye(t,e,n){const s=t.length;let r,i,o,l,c,d=Vh(t,0);for(let u=0;u<s-1;++u)if(c=d,d=Vh(t,u+1),!(!c||!d)){if(Rm(e[u],0,kye)){n[u]=n[u+1]=0;continue}r=n[u]/e[u],i=n[u+1]/e[u],l=Math.pow(r,2)+Math.pow(i,2),!(l<=9)&&(o=3/Math.sqrt(l),n[u]=r*o*e[u],n[u+1]=i*o*e[u])}}function Aye(t,e,n="x"){const s=nV(n),r=t.length;let i,o,l,c=Vh(t,0);for(let d=0;d<r;++d){if(o=l,l=c,c=Vh(t,d+1),!l)continue;const u=l[n],h=l[s];o&&(i=(u-o[n])/3,l[`cp1${n}`]=u-i,l[`cp1${s}`]=h-i*e[d]),c&&(i=(c[n]-u)/3,l[`cp2${n}`]=u+i,l[`cp2${s}`]=h+i*e[d])}}function Tye(t,e="x"){const n=nV(e),s=t.length,r=Array(s).fill(0),i=Array(s);let o,l,c,d=Vh(t,0);for(o=0;o<s;++o)if(l=c,c=d,d=Vh(t,o+1),!!c){if(d){const u=d[e]-c[e];r[o]=u!==0?(d[n]-c[n])/u:0}i[o]=l?d?Ka(r[o-1])!==Ka(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}Sye(t,r,i),Aye(t,i,e)}function _0(t,e,n){return Math.max(Math.min(t,n),e)}function Cye(t,e){let n,s,r,i,o,l=Dp(t[0],e);for(n=0,s=t.length;n<s;++n)o=i,i=l,l=n<s-1&&Dp(t[n+1],e),i&&(r=t[n],o&&(r.cp1x=_0(r.cp1x,e.left,e.right),r.cp1y=_0(r.cp1y,e.top,e.bottom)),l&&(r.cp2x=_0(r.cp2x,e.left,e.right),r.cp2y=_0(r.cp2y,e.top,e.bottom)))}function Eye(t,e,n,s,r){let i,o,l,c;if(e.spanGaps&&(t=t.filter(d=>!d.skip)),e.cubicInterpolationMode==="monotone")Tye(t,r);else{let d=s?t[t.length-1]:t[0];for(i=0,o=t.length;i<o;++i)l=t[i],c=jye(d,l,t[Math.min(i+1,o-(s?0:1))%o],e.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,d=l}e.capBezierPoints&&Cye(t,n)}function zT(){return typeof window<"u"&&typeof document<"u"}function HT(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function av(t,e,n){let s;return typeof t=="string"?(s=parseInt(t,10),t.indexOf("%")!==-1&&(s=s/100*e.parentNode[n])):s=t,s}const _b=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function Iye(t,e){return _b(t).getPropertyValue(e)}const Pye=["top","right","bottom","left"];function wd(t,e,n){const s={};n=n?"-"+n:"";for(let r=0;r<4;r++){const i=Pye[r];s[i]=parseFloat(t[e+"-"+i+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const _ye=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function Rye(t,e){const n=t.touches,s=n&&n.length?n[0]:t,{offsetX:r,offsetY:i}=s;let o=!1,l,c;if(_ye(r,i,t.target))l=r,c=i;else{const d=e.getBoundingClientRect();l=s.clientX-d.left,c=s.clientY-d.top,o=!0}return{x:l,y:c,box:o}}function Lc(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:s}=e,r=_b(n),i=r.boxSizing==="border-box",o=wd(r,"padding"),l=wd(r,"border","width"),{x:c,y:d,box:u}=Rye(t,n),h=o.left+(u&&l.left),f=o.top+(u&&l.top);let{width:m,height:g}=e;return i&&(m-=o.width+l.width,g-=o.height+l.height),{x:Math.round((c-h)/m*n.width/s),y:Math.round((d-f)/g*n.height/s)}}function Mye(t,e,n){let s,r;if(e===void 0||n===void 0){const i=t&&HT(t);if(!i)e=t.clientWidth,n=t.clientHeight;else{const o=i.getBoundingClientRect(),l=_b(i),c=wd(l,"border","width"),d=wd(l,"padding");e=o.width-d.width-c.width,n=o.height-d.height-c.height,s=av(l.maxWidth,i,"clientWidth"),r=av(l.maxHeight,i,"clientHeight")}}return{width:e,height:n,maxWidth:s||rv,maxHeight:r||rv}}const R0=t=>Math.round(t*10)/10;function Oye(t,e,n,s){const r=_b(t),i=wd(r,"margin"),o=av(r.maxWidth,t,"clientWidth")||rv,l=av(r.maxHeight,t,"clientHeight")||rv,c=Mye(t,e,n);let{width:d,height:u}=c;if(r.boxSizing==="content-box"){const f=wd(r,"border","width"),m=wd(r,"padding");d-=m.width+f.width,u-=m.height+f.height}return d=Math.max(0,d-i.width),u=Math.max(0,s?d/s:u-i.height),d=R0(Math.min(d,o,c.maxWidth)),u=R0(Math.min(u,l,c.maxHeight)),d&&!u&&(u=R0(d/2)),(e!==void 0||n!==void 0)&&s&&c.height&&u>c.height&&(u=c.height,d=R0(Math.floor(u*s))),{width:d,height:u}}function GR(t,e,n){const s=e||1,r=Math.floor(t.height*s),i=Math.floor(t.width*s);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==s||o.height!==r||o.width!==i?(t.currentDevicePixelRatio=s,o.height=r,o.width=i,t.ctx.setTransform(s,0,0,s,0,0),!0):!1}const Dye=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};zT()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function YR(t,e){const n=Iye(t,e),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function Bc(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function $ye(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:s==="middle"?n<.5?t.y:e.y:s==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function Fye(t,e,n,s){const r={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},o=Bc(t,r,n),l=Bc(r,i,n),c=Bc(i,e,n),d=Bc(o,l,n),u=Bc(l,c,n);return Bc(d,u,n)}const Lye=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},Bye=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function th(t,e,n){return t?Lye(e,n):Bye()}function sV(t,e){let n,s;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=s)}function rV(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function iV(t){return t==="angle"?{between:UU,compare:Bxe,normalize:ja}:{between:Bl,compare:(e,n)=>e-n,normalize:e=>e}}function XR({start:t,end:e,count:n,loop:s,style:r}){return{start:t%n,end:e%n,loop:s&&(e-t+1)%n===0,style:r}}function Uye(t,e,n){const{property:s,start:r,end:i}=n,{between:o,normalize:l}=iV(s),c=e.length;let{start:d,end:u,loop:h}=t,f,m;if(h){for(d+=c,u+=c,f=0,m=c;f<m&&o(l(e[d%c][s]),r,i);++f)d--,u--;d%=c,u%=c}return u<d&&(u+=c),{start:d,end:u,loop:h,style:t.style}}function aV(t,e,n){if(!n)return[t];const{property:s,start:r,end:i}=n,o=e.length,{compare:l,between:c,normalize:d}=iV(s),{start:u,end:h,loop:f,style:m}=Uye(t,e,n),g=[];let p=!1,w=null,b,y,N;const A=()=>c(r,N,b)&&l(r,N)!==0,S=()=>l(i,b)===0||c(i,N,b),T=()=>p||A(),_=()=>!p||S();for(let R=u,B=u;R<=h;++R)y=e[R%o],!y.skip&&(b=d(y[s]),b!==N&&(p=c(b,r,i),w===null&&T()&&(w=l(b,r)===0?R:B),w!==null&&_()&&(g.push(XR({start:w,end:R,loop:f,count:o,style:m})),w=null),B=R,N=b));return w!==null&&g.push(XR({start:w,end:h,loop:f,count:o,style:m})),g}function oV(t,e){const n=[],s=t.segments;for(let r=0;r<s.length;r++){const i=aV(s[r],t.points,e);i.length&&n.push(...i)}return n}function Vye(t,e,n,s){let r=0,i=e-1;if(n&&!s)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(i+=r);i>r&&t[i%e].skip;)i--;return i%=e,{start:r,end:i}}function zye(t,e,n,s){const r=t.length,i=[];let o=e,l=t[e],c;for(c=e+1;c<=n;++c){const d=t[c%r];d.skip||d.stop?l.skip||(s=!1,i.push({start:e%r,end:(c-1)%r,loop:s}),e=o=d.stop?c:null):(o=c,l.skip&&(e=c)),l=d}return o!==null&&i.push({start:e%r,end:o%r,loop:s}),i}function Hye(t,e){const n=t.points,s=t.options.spanGaps,r=n.length;if(!r)return[];const i=!!t._loop,{start:o,end:l}=Vye(n,r,i,s);if(s===!0)return QR(t,[{start:o,end:l,loop:i}],n,e);const c=l<o?l+r:l,d=!!t._fullLoop&&o===0&&l===r-1;return QR(t,zye(n,o,c,d),n,e)}function QR(t,e,n,s){return!s||!s.setContext||!n?e:Wye(t,e,n,s)}function Wye(t,e,n,s){const r=t._chart.getContext(),i=JR(t.options),{_datasetIndex:o,options:{spanGaps:l}}=t,c=n.length,d=[];let u=i,h=e[0].start,f=h;function m(g,p,w,b){const y=l?-1:1;if(g!==p){for(g+=c;n[g%c].skip;)g-=y;for(;n[p%c].skip;)p+=y;g%c!==p%c&&(d.push({start:g%c,end:p%c,loop:w,style:b}),u=b,h=p%c)}}for(const g of e){h=l?h:g.start;let p=n[h%c],w;for(f=h+1;f<=g.end;f++){const b=n[f%c];w=JR(s.setContext(Jd(r,{type:"segment",p0:p,p1:b,p0DataIndex:(f-1)%c,p1DataIndex:f%c,datasetIndex:o}))),Kye(w,u)&&m(h,f-1,g.loop,u),p=b,u=w}h<f-1&&m(h,f-1,g.loop,u)}return d}function JR(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Kye(t,e){if(!e)return!1;const n=[],s=function(r,i){return LT(i)?(n.includes(i)||n.push(i),n.indexOf(i)):i};return JSON.stringify(t,s)!==JSON.stringify(e,s)}function M0(t,e,n){return t.options.clip?t[n]:e[n]}function qye(t,e){const{xScale:n,yScale:s}=t;return n&&s?{left:M0(n,e,"left"),right:M0(n,e,"right"),top:M0(s,e,"top"),bottom:M0(s,e,"bottom")}:e}function lV(t,e){const n=e._clip;if(n.disabled)return!1;const s=qye(e,t.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:s.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Gye{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,s,r){const i=n.listeners[r],o=n.duration;i.forEach(l=>l({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(s-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=HU.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((s,r)=>{if(!s.running||!s.items.length)return;const i=s.items;let o=i.length-1,l=!1,c;for(;o>=0;--o)c=i[o],c._active?(c._total>s.duration&&(s.duration=c._total),c.tick(e),l=!0):(i[o]=i[i.length-1],i.pop());l&&(r.draw(),this._notify(r,s,e,"progress")),i.length||(s.running=!1,this._notify(r,s,e,"complete"),s.initial=!1),n+=i.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let s=n.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,s)),s}listen(e,n,s){this._getAnims(e).listeners[n].push(s)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,r)=>Math.max(s,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const s=n.items;let r=s.length-1;for(;r>=0;--r)s[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var uo=new Gye;const ZR="transparent",Yye={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const s=VR(t||ZR),r=s.valid&&VR(e||ZR);return r&&r.valid?r.mix(s,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class Xye{constructor(e,n,s,r){const i=n[s];r=P0([e.to,r,i,e.from]);const o=P0([e.from,i,r]);this._active=!0,this._fn=e.fn||Yye[e.type||typeof o],this._easing=Mm[e.easing]||Mm.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=s,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,s){if(this._active){this._notify(!1);const r=this._target[this._prop],i=s-this._start,o=this._duration-i;this._start=s,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=P0([e.to,n,r,e.from]),this._from=P0([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,s=this._duration,r=this._prop,i=this._from,o=this._loop,l=this._to;let c;if(this._active=i!==l&&(o||n<s),!this._active){this._target[r]=l,this._notify(!0);return}if(n<0){this._target[r]=i;return}c=n/s%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[r]=this._fn(i,l,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,s)=>{e.push({res:n,rej:s})})}_notify(e){const n=e?"res":"rej",s=this._promises||[];for(let r=0;r<s.length;r++)s[r][n]()}}class cV{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!qt(e))return;const n=Object.keys(qn.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const i=e[r];if(!qt(i))return;const o={};for(const l of n)o[l]=i[l];(ss(i.properties)&&i.properties||[r]).forEach(l=>{(l===r||!s.has(l))&&s.set(l,o)})})}_animateOptions(e,n){const s=n.options,r=Jye(e,s);if(!r)return[];const i=this._createAnimations(r,s);return s.$shared&&Qye(e.options.$animations,s).then(()=>{e.options=s},()=>{}),i}_createAnimations(e,n){const s=this._properties,r=[],i=e.$animations||(e.$animations={}),o=Object.keys(n),l=Date.now();let c;for(c=o.length-1;c>=0;--c){const d=o[c];if(d.charAt(0)==="$")continue;if(d==="options"){r.push(...this._animateOptions(e,n));continue}const u=n[d];let h=i[d];const f=s.get(d);if(h)if(f&&h.active()){h.update(f,u,l);continue}else h.cancel();if(!f||!f.duration){e[d]=u;continue}i[d]=h=new Xye(f,e,d,u),r.push(h)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const s=this._createAnimations(e,n);if(s.length)return uo.add(this._chart,s),!0}}function Qye(t,e){const n=[],s=Object.keys(e);for(let r=0;r<s.length;r++){const i=t[s[r]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function Jye(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function e6(t,e){const n=t&&t.options||{},s=n.reverse,r=n.min===void 0?e:0,i=n.max===void 0?e:0;return{start:s?i:r,end:s?r:i}}function Zye(t,e,n){if(n===!1)return!1;const s=e6(t,n),r=e6(e,n);return{top:r.end,right:s.end,bottom:r.start,left:s.start}}function eve(t){let e,n,s,r;return qt(t)?(e=t.top,n=t.right,s=t.bottom,r=t.left):e=n=s=r=t,{top:e,right:n,bottom:s,left:r,disabled:t===!1}}function dV(t,e){const n=[],s=t._getSortedDatasetMetas(e);let r,i;for(r=0,i=s.length;r<i;++r)n.push(s[r].index);return n}function t6(t,e,n,s={}){const r=t.keys,i=s.mode==="single";let o,l,c,d;if(e===null)return;let u=!1;for(o=0,l=r.length;o<l;++o){if(c=+r[o],c===n){if(u=!0,s.all)continue;break}d=t.values[c],Xs(d)&&(i||e===0||Ka(e)===Ka(d))&&(e+=d)}return!u&&!s.all?0:e}function tve(t,e){const{iScale:n,vScale:s}=e,r=n.axis==="x"?"x":"y",i=s.axis==="x"?"x":"y",o=Object.keys(t),l=new Array(o.length);let c,d,u;for(c=0,d=o.length;c<d;++c)u=o[c],l[c]={[r]:u,[i]:t[u]};return l}function P1(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function nve(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function sve(t){const{min:e,max:n,minDefined:s,maxDefined:r}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function rve(t,e,n){const s=t[e]||(t[e]={});return s[n]||(s[n]={})}function n6(t,e,n,s){for(const r of e.getMatchingVisibleMetas(s).reverse()){const i=t[r.index];if(n&&i>0||!n&&i<0)return r.index}return null}function s6(t,e){const{chart:n,_cachedMeta:s}=t,r=n._stacks||(n._stacks={}),{iScale:i,vScale:o,index:l}=s,c=i.axis,d=o.axis,u=nve(i,o,s),h=e.length;let f;for(let m=0;m<h;++m){const g=e[m],{[c]:p,[d]:w}=g,b=g._stacks||(g._stacks={});f=b[d]=rve(r,u,p),f[l]=w,f._top=n6(f,o,!0,s.type),f._bottom=n6(f,o,!1,s.type);const y=f._visualValues||(f._visualValues={});y[l]=w}}function _1(t,e){const n=t.scales;return Object.keys(n).filter(s=>n[s].axis===e).shift()}function ive(t,e){return Jd(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function ave(t,e,n){return Jd(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Uf(t,e){const n=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t._parsed;for(const r of e){const i=r._stacks;if(!i||i[s]===void 0||i[s][n]===void 0)return;delete i[s][n],i[s]._visualValues!==void 0&&i[s]._visualValues[n]!==void 0&&delete i[s]._visualValues[n]}}}const R1=t=>t==="reset"||t==="none",r6=(t,e)=>e?t:Object.assign({},t),ove=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:dV(n,!0),values:null};class nh{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=P1(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Uf(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,s=this.getDataset(),r=(h,f,m,g)=>h==="x"?f:h==="r"?g:m,i=n.xAxisID=$t(s.xAxisID,_1(e,"x")),o=n.yAxisID=$t(s.yAxisID,_1(e,"y")),l=n.rAxisID=$t(s.rAxisID,_1(e,"r")),c=n.indexAxis,d=n.iAxisID=r(c,i,o,l),u=n.vAxisID=r(c,o,i,l);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(l),n.iScale=this.getScaleForId(d),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&LR(this._data,this),e._stacked&&Uf(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),s=this._data;if(qt(n)){const r=this._cachedMeta;this._data=tve(n,r)}else if(s!==n){if(s){LR(s,this);const r=this._cachedMeta;Uf(r),r._parsed=[]}n&&Object.isExtensible(n)&&Hxe(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,s=this.getDataset();let r=!1;this._dataCheck();const i=n._stacked;n._stacked=P1(n.vScale,n),n.stack!==s.stack&&(r=!0,Uf(n),n.stack=s.stack),this._resyncElements(e),(r||i!==n._stacked)&&(s6(this,n._parsed),n._stacked=P1(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:s,_data:r}=this,{iScale:i,_stacked:o}=s,l=i.axis;let c=e===0&&n===r.length?!0:s._sorted,d=e>0&&s._parsed[e-1],u,h,f;if(this._parsing===!1)s._parsed=r,s._sorted=!0,f=r;else{ss(r[e])?f=this.parseArrayData(s,r,e,n):qt(r[e])?f=this.parseObjectData(s,r,e,n):f=this.parsePrimitiveData(s,r,e,n);const m=()=>h[l]===null||d&&h[l]<d[l];for(u=0;u<n;++u)s._parsed[u+e]=h=f[u],c&&(m()&&(c=!1),d=h);s._sorted=c}o&&s6(this,f)}parsePrimitiveData(e,n,s,r){const{iScale:i,vScale:o}=e,l=i.axis,c=o.axis,d=i.getLabels(),u=i===o,h=new Array(r);let f,m,g;for(f=0,m=r;f<m;++f)g=f+s,h[f]={[l]:u||i.parse(d[g],g),[c]:o.parse(n[g],g)};return h}parseArrayData(e,n,s,r){const{xScale:i,yScale:o}=e,l=new Array(r);let c,d,u,h;for(c=0,d=r;c<d;++c)u=c+s,h=n[u],l[c]={x:i.parse(h[0],u),y:o.parse(h[1],u)};return l}parseObjectData(e,n,s,r){const{xScale:i,yScale:o}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=new Array(r);let u,h,f,m;for(u=0,h=r;u<h;++u)f=u+s,m=n[f],d[u]={x:i.parse(Bh(m,l),f),y:o.parse(Bh(m,c),f)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,s){const r=this.chart,i=this._cachedMeta,o=n[e.axis],l={keys:dV(r,!0),values:n._stacks[e.axis]._visualValues};return t6(l,o,i.index,{mode:s})}updateRangeFromParsed(e,n,s,r){const i=s[n.axis];let o=i===null?NaN:i;const l=r&&s._stacks[n.axis];r&&l&&(r.values=l,o=t6(r,i,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const s=this._cachedMeta,r=s._parsed,i=s._sorted&&e===s.iScale,o=r.length,l=this._getOtherScale(e),c=ove(n,s,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=sve(l);let f,m;function g(){m=r[f];const p=m[l.axis];return!Xs(m[e.axis])||u>p||h<p}for(f=0;f<o&&!(!g()&&(this.updateRangeFromParsed(d,e,m,c),i));++f);if(i){for(f=o-1;f>=0;--f)if(!g()){this.updateRangeFromParsed(d,e,m,c);break}}return d}getAllParsedValues(e){const n=this._cachedMeta._parsed,s=[];let r,i,o;for(r=0,i=n.length;r<i;++r)o=n[r][e.axis],Xs(o)&&s.push(o);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,s=n.iScale,r=n.vScale,i=this.getParsed(e);return{label:s?""+s.getLabelForValue(i[s.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=eve($t(this.options.clip,Zye(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,s=this._cachedMeta,r=s.data||[],i=n.chartArea,o=[],l=this._drawStart||0,c=this._drawCount||r.length-l,d=this.options.drawActiveElementsOnTop;let u;for(s.dataset&&s.dataset.draw(e,i,l,c),u=l;u<l+c;++u){const h=r[u];h.hidden||(h.active&&d?o.push(h):h.draw(e,i))}for(u=0;u<o.length;++u)o[u].draw(e,i)}getStyle(e,n){const s=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,n,s){const r=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];i=o.$context||(o.$context=ave(this.getContext(),e,o)),i.parsed=this.getParsed(e),i.raw=r.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=ive(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=s,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",s){const r=n==="active",i=this._cachedDataOpts,o=e+"-"+n,l=i[o],c=this.enableOptionSharing&&Mp(s);if(l)return r6(l,c);const d=this.chart.config,u=d.datasetElementScopeKeys(this._type,e),h=r?[`${e}Hover`,"hover",e,""]:[e,""],f=d.getOptionScopes(this.getDataset(),u),m=Object.keys(qn.elements[e]),g=()=>this.getContext(s,r,n),p=d.resolveNamedOptions(f,m,g,h);return p.$shared&&(p.$shared=c,i[o]=Object.freeze(r6(p,c))),p}_resolveAnimations(e,n,s){const r=this.chart,i=this._cachedDataOpts,o=`animation-${n}`,l=i[o];if(l)return l;let c;if(r.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,n),f=u.getOptionScopes(this.getDataset(),h);c=u.createResolver(f,this.getContext(e,s,n))}const d=new cV(r,c&&c.animations);return c&&c._cacheable&&(i[o]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||R1(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const s=this.resolveDataElementOptions(e,n),r=this._sharedOptions,i=this.getSharedOptions(s),o=this.includeOptions(n,i)||i!==r;return this.updateSharedOptions(i,n,s),{sharedOptions:i,includeOptions:o}}updateElement(e,n,s,r){R1(r)?Object.assign(e,s):this._resolveAnimations(n,r).update(e,s)}updateSharedOptions(e,n,s){e&&!R1(n)&&this._resolveAnimations(void 0,n).update(e,s)}_setStyle(e,n,s,r){e.active=r;const i=this.getStyle(n,r);this._resolveAnimations(n,s,r).update(e,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(e,n,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,n,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,s=this._cachedMeta.data;for(const[l,c,d]of this._syncList)this[l](c,d);this._syncList=[];const r=s.length,i=n.length,o=Math.min(i,r);o&&this.parse(0,o),i>r?this._insertElements(r,i-r,e):i<r&&this._removeElements(i,r-i)}_insertElements(e,n,s=!0){const r=this._cachedMeta,i=r.data,o=e+n;let l;const c=d=>{for(d.length+=n,l=d.length-1;l>=o;l--)d[l]=d[l-n]};for(c(i),l=e;l<o;++l)i[l]=new this.dataElementType;this._parsing&&c(r._parsed),this.parse(e,n),s&&this.updateElements(i,e,n,"reset")}updateElements(e,n,s,r){}_removeElements(e,n){const s=this._cachedMeta;if(this._parsing){const r=s._parsed.splice(e,n);s._stacked&&Uf(s,r)}s.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,s,r]=e;this[n](s,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Ge(nh,"defaults",{}),Ge(nh,"datasetElementType",null),Ge(nh,"dataElementType",null);function lve(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let s=[];for(let r=0,i=n.length;r<i;r++)s=s.concat(n[r].controller.getAllParsedValues(t));t._cache.$bar=zU(s.sort((r,i)=>r-i))}return t._cache.$bar}function cve(t){const e=t.iScale,n=lve(e,t.type);let s=e._length,r,i,o,l;const c=()=>{o===32767||o===-32768||(Mp(l)&&(s=Math.min(s,Math.abs(o-l)||s)),l=o)};for(r=0,i=n.length;r<i;++r)o=e.getPixelForValue(n[r]),c();for(l=void 0,r=0,i=e.ticks.length;r<i;++r)o=e.getPixelForTick(r),c();return s}function dve(t,e,n,s){const r=n.barThickness;let i,o;return tn(r)?(i=e.min*n.categoryPercentage,o=n.barPercentage):(i=r*s,o=1),{chunk:i/s,ratio:o,start:e.pixels[t]-i/2}}function uve(t,e,n,s){const r=e.pixels,i=r[t];let o=t>0?r[t-1]:null,l=t<r.length-1?r[t+1]:null;const c=n.categoryPercentage;o===null&&(o=i-(l===null?e.end-e.start:l-i)),l===null&&(l=i+i-o);const d=i-(i-Math.min(o,l))/2*c;return{chunk:Math.abs(l-o)/2*c/s,ratio:n.barPercentage,start:d}}function hve(t,e,n,s){const r=n.parse(t[0],s),i=n.parse(t[1],s),o=Math.min(r,i),l=Math.max(r,i);let c=o,d=l;Math.abs(o)>Math.abs(l)&&(c=l,d=o),e[n.axis]=d,e._custom={barStart:c,barEnd:d,start:r,end:i,min:o,max:l}}function uV(t,e,n,s){return ss(t)?hve(t,e,n,s):e[n.axis]=n.parse(t,s),e}function i6(t,e,n,s){const r=t.iScale,i=t.vScale,o=r.getLabels(),l=r===i,c=[];let d,u,h,f;for(d=n,u=n+s;d<u;++d)f=e[d],h={},h[r.axis]=l||r.parse(o[d],d),c.push(uV(f,h,i,d));return c}function M1(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function fve(t,e,n){return t!==0?Ka(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function mve(t){let e,n,s,r,i;return t.horizontal?(e=t.base>t.x,n="left",s="right"):(e=t.base<t.y,n="bottom",s="top"),e?(r="end",i="start"):(r="start",i="end"),{start:n,end:s,reverse:e,top:r,bottom:i}}function pve(t,e,n,s){let r=e.borderSkipped;const i={};if(!r){t.borderSkipped=i;return}if(r===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:l,reverse:c,top:d,bottom:u}=mve(t);r==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===s?r=d:(n._bottom||0)===s?r=u:(i[a6(u,o,l,c)]=!0,r=d)),i[a6(r,o,l,c)]=!0,t.borderSkipped=i}function a6(t,e,n,s){return s?(t=gve(t,e,n),t=o6(t,n,e)):t=o6(t,e,n),t}function gve(t,e,n){return t===e?n:t===n?e:t}function o6(t,e,n){return t==="start"?e:t==="end"?n:t}function xve(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class $x extends nh{parsePrimitiveData(e,n,s,r){return i6(e,n,s,r)}parseArrayData(e,n,s,r){return i6(e,n,s,r)}parseObjectData(e,n,s,r){const{iScale:i,vScale:o}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=i.axis==="x"?l:c,u=o.axis==="x"?l:c,h=[];let f,m,g,p;for(f=s,m=s+r;f<m;++f)p=n[f],g={},g[i.axis]=i.parse(Bh(p,d),f),h.push(uV(Bh(p,u),g,o,f));return h}updateRangeFromParsed(e,n,s,r){super.updateRangeFromParsed(e,n,s,r);const i=s._custom;i&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:s,vScale:r}=n,i=this.getParsed(e),o=i._custom,l=M1(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+s.getLabelForValue(i[s.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,s,r){const i=r==="reset",{index:o,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),d=l.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(n,r);for(let m=n;m<n+s;m++){const g=this.getParsed(m),p=i||tn(g[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(m),w=this._calculateBarIndexPixels(m,u),b=(g._stacks||{})[l.axis],y={horizontal:d,base:p.base,enableBorderRadius:!b||M1(g._custom)||o===b._top||o===b._bottom,x:d?p.head:w.center,y:d?w.center:p.head,height:d?w.size:Math.abs(p.size),width:d?Math.abs(p.size):w.size};f&&(y.options=h||this.resolveDataElementOptions(m,e[m].active?"active":r));const N=y.options||e[m].options;pve(y,N,b,o),xve(y,N,u.ratio),this.updateElement(e[m],m,y,r)}}_getStacks(e,n){const{iScale:s}=this._cachedMeta,r=s.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),i=s.options.stacked,o=[],l=this._cachedMeta.controller.getParsed(n),c=l&&l[s.axis],d=u=>{const h=u._parsed.find(m=>m[s.axis]===c),f=h&&h[u.vScale.axis];if(tn(f)||isNaN(f))return!0};for(const u of r)if(!(n!==void 0&&d(u))&&((i===!1||o.indexOf(u.stack)===-1||i===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(s=>e[s].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)e[$t(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,s){const r=this._getStacks(e,s),i=n!==void 0?r.indexOf(n):-1;return i===-1?r.length-1:i}_getRuler(){const e=this.options,n=this._cachedMeta,s=n.iScale,r=[];let i,o;for(i=0,o=n.data.length;i<o;++i)r.push(s.getPixelForValue(this.getParsed(i)[s.axis],i));const l=e.barThickness;return{min:l||cve(n),pixels:r,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:s,index:r},options:{base:i,minBarLength:o}}=this,l=i||0,c=this.getParsed(e),d=c._custom,u=M1(d);let h=c[n.axis],f=0,m=s?this.applyStack(n,c,s):h,g,p;m!==h&&(f=m-h,m=h),u&&(h=d.barStart,m=d.barEnd-d.barStart,h!==0&&Ka(h)!==Ka(d.barEnd)&&(f=0),f+=h);const w=!tn(i)&&!u?i:f;let b=n.getPixelForValue(w);if(this.chart.getDataVisibility(e)?g=n.getPixelForValue(f+m):g=b,p=g-b,Math.abs(p)<o){p=fve(p,n,l)*o,h===l&&(b-=p/2);const y=n.getPixelForDecimal(0),N=n.getPixelForDecimal(1),A=Math.min(y,N),S=Math.max(y,N);b=Math.max(Math.min(b,S),A),g=b+p,s&&!u&&(c._stacks[n.axis]._visualValues[r]=n.getValueForPixel(g)-n.getValueForPixel(b))}if(b===n.getPixelForValue(l)){const y=Ka(p)*n.getLineWidthForValue(l)/2;b+=y,p-=y}return{size:p,base:b,head:g,center:g+p/2}}_calculateBarIndexPixels(e,n){const s=n.scale,r=this.options,i=r.skipNull,o=$t(r.maxBarThickness,1/0);let l,c;const d=this._getAxisCount();if(n.grouped){const u=i?this._getStackCount(e):n.stackCount,h=r.barThickness==="flex"?uve(e,n,r,u*d):dve(e,n,r,u*d),f=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,m=this._getAxis().indexOf($t(f,this.getFirstScaleIdForIndexAxis())),g=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+m;l=h.start+h.chunk*g+h.chunk/2,c=Math.min(o,h.chunk*h.ratio)}else l=s.getPixelForValue(this.getParsed(e)[s.axis],e),c=Math.min(o,n.min*n.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const e=this._cachedMeta,n=e.vScale,s=e.data,r=s.length;let i=0;for(;i<r;++i)this.getParsed(i)[n.axis]!==null&&!s[i].hidden&&s[i].draw(this._ctx)}}Ge($x,"id","bar"),Ge($x,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Ge($x,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Fx extends nh{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:s,data:r=[],_dataset:i}=n,o=this.chart._animationsDisabled;let{start:l,count:c}=qxe(n,r,o);this._drawStart=l,this._drawCount=c,Gxe(n)&&(l=0,c=r.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!i._decimated,s.points=r;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(s,void 0,{animated:!o,options:d},e),this.updateElements(r,l,c,e)}updateElements(e,n,s,r){const i=r==="reset",{iScale:o,vScale:l,_stacked:c,_dataset:d}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(n,r),f=o.axis,m=l.axis,{spanGaps:g,segment:p}=this.options,w=Op(g)?g:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||i||r==="none",y=n+s,N=e.length;let A=n>0&&this.getParsed(n-1);for(let S=0;S<N;++S){const T=e[S],_=b?T:{};if(S<n||S>=y){_.skip=!0;continue}const R=this.getParsed(S),B=tn(R[m]),V=_[f]=o.getPixelForValue(R[f],S),U=_[m]=i||B?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,R,c):R[m],S);_.skip=isNaN(V)||isNaN(U)||B,_.stop=S>0&&Math.abs(R[f]-A[f])>w,p&&(_.parsed=R,_.raw=d.data[S]),h&&(_.options=u||this.resolveDataElementOptions(S,T.active?"active":r)),b||this.updateElement(T,S,_,r),A=R}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,s=n.options&&n.options.borderWidth||0,r=e.data||[];if(!r.length)return s;const i=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(s,i,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Ge(Fx,"id","line"),Ge(Fx,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Ge(Fx,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Mc(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class WT{constructor(e){Ge(this,"options");this.options=e||{}}static override(e){Object.assign(WT.prototype,e)}init(){}formats(){return Mc()}parse(){return Mc()}format(){return Mc()}add(){return Mc()}diff(){return Mc()}startOf(){return Mc()}endOf(){return Mc()}}var yve={_date:WT};function vve(t,e,n,s){const{controller:r,data:i,_sorted:o}=t,l=r._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&o&&i.length){const d=l._reversePixels?Vxe:td;if(s){if(r._sharedOptions){const u=i[0],h=typeof u.getRange=="function"&&u.getRange(e);if(h){const f=d(i,e,n-h),m=d(i,e,n+h);return{lo:f.lo,hi:m.hi}}}}else{const u=d(i,e,n);if(c){const{vScale:h}=r._cachedMeta,{_parsed:f}=t,m=f.slice(0,u.lo+1).reverse().findIndex(p=>!tn(p[h.axis]));u.lo-=Math.max(0,m);const g=f.slice(u.hi).findIndex(p=>!tn(p[h.axis]));u.hi+=Math.max(0,g)}return u}}return{lo:0,hi:i.length-1}}function Fg(t,e,n,s,r){const i=t.getSortedVisibleDatasetMetas(),o=n[e];for(let l=0,c=i.length;l<c;++l){const{index:d,data:u}=i[l],{lo:h,hi:f}=vve(i[l],e,o,r);for(let m=h;m<=f;++m){const g=u[m];g.skip||s(g,d,m)}}}function bve(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(s,r){const i=e?Math.abs(s.x-r.x):0,o=n?Math.abs(s.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function O1(t,e,n,s,r){const i=[];return!r&&!t.isPointInArea(e)||Fg(t,n,e,function(l,c,d){!r&&!Dp(l,t.chartArea,0)||l.inRange(e.x,e.y,s)&&i.push({element:l,datasetIndex:c,index:d})},!0),i}function wve(t,e,n,s){let r=[];function i(o,l,c){const{startAngle:d,endAngle:u}=o.getProps(["startAngle","endAngle"],s),{angle:h}=Lxe(o,{x:e.x,y:e.y});UU(h,d,u)&&r.push({element:o,datasetIndex:l,index:c})}return Fg(t,n,e,i),r}function Nve(t,e,n,s,r,i){let o=[];const l=bve(n);let c=Number.POSITIVE_INFINITY;function d(u,h,f){const m=u.inRange(e.x,e.y,r);if(s&&!m)return;const g=u.getCenterPoint(r);if(!(!!i||t.isPointInArea(g))&&!m)return;const w=l(e,g);w<c?(o=[{element:u,datasetIndex:h,index:f}],c=w):w===c&&o.push({element:u,datasetIndex:h,index:f})}return Fg(t,n,e,d),o}function D1(t,e,n,s,r,i){return!i&&!t.isPointInArea(e)?[]:n==="r"&&!s?wve(t,e,n,r):Nve(t,e,n,s,r,i)}function l6(t,e,n,s,r){const i=[],o=n==="x"?"inXRange":"inYRange";let l=!1;return Fg(t,n,e,(c,d,u)=>{c[o]&&c[o](e[n],r)&&(i.push({element:c,datasetIndex:d,index:u}),l=l||c.inRange(e.x,e.y,r))}),s&&!l?[]:i}var kve={evaluateInteractionItems:Fg,modes:{index(t,e,n,s){const r=Lc(e,t),i=n.axis||"x",o=n.includeInvisible||!1,l=n.intersect?O1(t,r,i,s,o):D1(t,r,i,!1,s,o),c=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(d=>{const u=l[0].index,h=d.data[u];h&&!h.skip&&c.push({element:h,datasetIndex:d.index,index:u})}),c):[]},dataset(t,e,n,s){const r=Lc(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;let l=n.intersect?O1(t,r,i,s,o):D1(t,r,i,!1,s,o);if(l.length>0){const c=l[0].datasetIndex,d=t.getDatasetMeta(c).data;l=[];for(let u=0;u<d.length;++u)l.push({element:d[u],datasetIndex:c,index:u})}return l},point(t,e,n,s){const r=Lc(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;return O1(t,r,i,s,o)},nearest(t,e,n,s){const r=Lc(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;return D1(t,r,i,n.intersect,s,o)},x(t,e,n,s){const r=Lc(e,t);return l6(t,r,"x",n.intersect,s)},y(t,e,n,s){const r=Lc(e,t);return l6(t,r,"y",n.intersect,s)}}};const hV=["left","top","right","bottom"];function Vf(t,e){return t.filter(n=>n.pos===e)}function c6(t,e){return t.filter(n=>hV.indexOf(n.pos)===-1&&n.box.axis===e)}function zf(t,e){return t.sort((n,s)=>{const r=e?s:n,i=e?n:s;return r.weight===i.weight?r.index-i.index:r.weight-i.weight})}function jve(t){const e=[];let n,s,r,i,o,l;for(n=0,s=(t||[]).length;n<s;++n)r=t[n],{position:i,options:{stack:o,stackWeight:l=1}}=r,e.push({index:n,box:r,pos:i,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&i+o,stackWeight:l});return e}function Sve(t){const e={};for(const n of t){const{stack:s,pos:r,stackWeight:i}=n;if(!s||!hV.includes(r))continue;const o=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}function Ave(t,e){const n=Sve(t),{vBoxMaxWidth:s,hBoxMaxHeight:r}=e;let i,o,l;for(i=0,o=t.length;i<o;++i){l=t[i];const{fullSize:c}=l.box,d=n[l.stack],u=d&&l.stackWeight/d.weight;l.horizontal?(l.width=u?u*s:c&&e.availableWidth,l.height=r):(l.width=s,l.height=u?u*r:c&&e.availableHeight)}return n}function Tve(t){const e=jve(t),n=zf(e.filter(d=>d.box.fullSize),!0),s=zf(Vf(e,"left"),!0),r=zf(Vf(e,"right")),i=zf(Vf(e,"top"),!0),o=zf(Vf(e,"bottom")),l=c6(e,"x"),c=c6(e,"y");return{fullSize:n,leftAndTop:s.concat(i),rightAndBottom:r.concat(c).concat(o).concat(l),chartArea:Vf(e,"chartArea"),vertical:s.concat(r).concat(c),horizontal:i.concat(o).concat(l)}}function d6(t,e,n,s){return Math.max(t[n],e[n])+Math.max(t[s],e[s])}function fV(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Cve(t,e,n,s){const{pos:r,box:i}=n,o=t.maxPadding;if(!qt(r)){n.size&&(t[r]-=n.size);const h=s[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?i.height:i.width),n.size=h.size/h.count,t[r]+=n.size}i.getPadding&&fV(o,i.getPadding());const l=Math.max(0,e.outerWidth-d6(o,t,"left","right")),c=Math.max(0,e.outerHeight-d6(o,t,"top","bottom")),d=l!==t.w,u=c!==t.h;return t.w=l,t.h=c,n.horizontal?{same:d,other:u}:{same:u,other:d}}function Eve(t){const e=t.maxPadding;function n(s){const r=Math.max(e[s]-t[s],0);return t[s]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function Ive(t,e){const n=e.maxPadding;function s(r){const i={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{i[o]=Math.max(e[o],n[o])}),i}return s(t?["left","right"]:["top","bottom"])}function sm(t,e,n,s){const r=[];let i,o,l,c,d,u;for(i=0,o=t.length,d=0;i<o;++i){l=t[i],c=l.box,c.update(l.width||e.w,l.height||e.h,Ive(l.horizontal,e));const{same:h,other:f}=Cve(e,n,l,s);d|=h&&r.length,u=u||f,c.fullSize||r.push(l)}return d&&sm(r,e,n,s)||u}function O0(t,e,n,s,r){t.top=n,t.left=e,t.right=e+s,t.bottom=n+r,t.width=s,t.height=r}function u6(t,e,n,s){const r=n.padding;let{x:i,y:o}=e;for(const l of t){const c=l.box,d=s[l.stack]||{count:1,placed:0,weight:1},u=l.stackWeight/d.weight||1;if(l.horizontal){const h=e.w*u,f=d.size||c.height;Mp(d.start)&&(o=d.start),c.fullSize?O0(c,r.left,o,n.outerWidth-r.right-r.left,f):O0(c,e.left+d.placed,o,h,f),d.start=o,d.placed+=h,o=c.bottom}else{const h=e.h*u,f=d.size||c.width;Mp(d.start)&&(i=d.start),c.fullSize?O0(c,i,r.top,f,n.outerHeight-r.bottom-r.top):O0(c,i,e.top+d.placed,f,h),d.start=i,d.placed+=h,i=c.right}}e.x=i,e.y=o}var bi={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,s){if(!t)return;const r=Ti(t.options.layout.padding),i=Math.max(e-r.width,0),o=Math.max(n-r.height,0),l=Tve(t.boxes),c=l.vertical,d=l.horizontal;sn(t.boxes,p=>{typeof p.beforeLayout=="function"&&p.beforeLayout()});const u=c.reduce((p,w)=>w.box.options&&w.box.options.display===!1?p:p+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},r);fV(f,Ti(s));const m=Object.assign({maxPadding:f,w:i,h:o,x:r.left,y:r.top},r),g=Ave(c.concat(d),h);sm(l.fullSize,m,h,g),sm(c,m,h,g),sm(d,m,h,g)&&sm(c,m,h,g),Eve(m),u6(l.leftAndTop,m,h,g),m.x+=m.w,m.y+=m.h,u6(l.rightAndBottom,m,h,g),t.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},sn(l.chartArea,p=>{const w=p.box;Object.assign(w,t.chartArea),w.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class mV{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,s){}removeEventListener(e,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,s,r){return n=Math.max(0,n||e.width),s=s||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):s)}}isAttached(e){return!0}updateConfig(e){}}class Pve extends mV{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Lx="$chartjs",_ve={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},h6=t=>t===null||t==="";function Rve(t,e){const n=t.style,s=t.getAttribute("height"),r=t.getAttribute("width");if(t[Lx]={initial:{height:s,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",h6(r)){const i=YR(t,"width");i!==void 0&&(t.width=i)}if(h6(s))if(t.style.height==="")t.height=t.width/(e||2);else{const i=YR(t,"height");i!==void 0&&(t.height=i)}return t}const pV=Dye?{passive:!0}:!1;function Mve(t,e,n){t&&t.addEventListener(e,n,pV)}function Ove(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,pV)}function Dve(t,e){const n=_ve[t.type]||t.type,{x:s,y:r}=Lc(t,e);return{type:n,chart:e,native:t,x:s!==void 0?s:null,y:r!==void 0?r:null}}function ov(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function $ve(t,e,n){const s=t.canvas,r=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||ov(l.addedNodes,s),o=o&&!ov(l.removedNodes,s);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function Fve(t,e,n){const s=t.canvas,r=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||ov(l.removedNodes,s),o=o&&!ov(l.addedNodes,s);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const Fp=new Map;let f6=0;function gV(){const t=window.devicePixelRatio;t!==f6&&(f6=t,Fp.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function Lve(t,e){Fp.size||window.addEventListener("resize",gV),Fp.set(t,e)}function Bve(t){Fp.delete(t),Fp.size||window.removeEventListener("resize",gV)}function Uve(t,e,n){const s=t.canvas,r=s&&HT(s);if(!r)return;const i=WU((l,c)=>{const d=r.clientWidth;n(l,c),d<r.clientWidth&&n()},window),o=new ResizeObserver(l=>{const c=l[0],d=c.contentRect.width,u=c.contentRect.height;d===0&&u===0||i(d,u)});return o.observe(r),Lve(t,i),o}function $1(t,e,n){n&&n.disconnect(),e==="resize"&&Bve(t)}function Vve(t,e,n){const s=t.canvas,r=WU(i=>{t.ctx!==null&&n(Dve(i,t))},t);return Mve(s,e,r),r}class zve extends mV{acquireContext(e,n){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(Rve(e,n),s):null}releaseContext(e){const n=e.canvas;if(!n[Lx])return!1;const s=n[Lx].initial;["height","width"].forEach(i=>{const o=s[i];tn(o)?n.removeAttribute(i):n.setAttribute(i,o)});const r=s.style||{};return Object.keys(r).forEach(i=>{n.style[i]=r[i]}),n.width=n.width,delete n[Lx],!0}addEventListener(e,n,s){this.removeEventListener(e,n);const r=e.$proxies||(e.$proxies={}),o={attach:$ve,detach:Fve,resize:Uve}[n]||Vve;r[n]=o(e,n,s)}removeEventListener(e,n){const s=e.$proxies||(e.$proxies={}),r=s[n];if(!r)return;({attach:$1,detach:$1,resize:$1}[n]||Ove)(e,n,r),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,s,r){return Oye(e,n,s,r)}isAttached(e){const n=e&&HT(e);return!!(n&&n.isConnected)}}function Hve(t){return!zT()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?Pve:zve}var X0;let Tc=(X0=class{constructor(){Ge(this,"x");Ge(this,"y");Ge(this,"active",!1);Ge(this,"options");Ge(this,"$animations")}tooltipPosition(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}hasValue(){return Op(this.x)&&Op(this.y)}getProps(e,n){const s=this.$animations;if(!n||!s)return this;const r={};return e.forEach(i=>{r[i]=s[i]&&s[i].active()?s[i]._to:this[i]}),r}},Ge(X0,"defaults",{}),Ge(X0,"defaultRoutes"),X0);function Wve(t,e){const n=t.options.ticks,s=Kve(t),r=Math.min(n.maxTicksLimit||s,s),i=n.major.enabled?Gve(e):[],o=i.length,l=i[0],c=i[o-1],d=[];if(o>r)return Yve(e,d,i,o/r),d;const u=qve(i,e,r);if(o>0){let h,f;const m=o>1?Math.round((c-l)/(o-1)):null;for(D0(e,d,u,tn(m)?0:l-m,l),h=0,f=o-1;h<f;h++)D0(e,d,u,i[h],i[h+1]);return D0(e,d,u,c,tn(m)?e.length:c+m),d}return D0(e,d,u),d}function Kve(t){const e=t.options.offset,n=t._tickSize(),s=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(s,r))}function qve(t,e,n){const s=Xve(t),r=e.length/n;if(!s)return Math.max(r,1);const i=Mxe(s);for(let o=0,l=i.length-1;o<l;o++){const c=i[o];if(c>r)return c}return Math.max(r,1)}function Gve(t){const e=[];let n,s;for(n=0,s=t.length;n<s;n++)t[n].major&&e.push(n);return e}function Yve(t,e,n,s){let r=0,i=n[0],o;for(s=Math.ceil(s),o=0;o<t.length;o++)o===i&&(e.push(t[o]),r++,i=n[r*s])}function D0(t,e,n,s,r){const i=$t(s,0),o=Math.min($t(r,t.length),t.length);let l=0,c,d,u;for(n=Math.ceil(n),r&&(c=r-s,n=c/Math.floor(c/n)),u=i;u<0;)l++,u=Math.round(i+l*n);for(d=Math.max(i,0);d<o;d++)d===u&&(e.push(t[d]),l++,u=Math.round(i+l*n))}function Xve(t){const e=t.length;let n,s;if(e<2)return!1;for(s=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==s)return!1;return s}const Qve=t=>t==="left"?"right":t==="right"?"left":t,m6=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,p6=(t,e)=>Math.min(e||t,t);function g6(t,e){const n=[],s=t.length/e,r=t.length;let i=0;for(;i<r;i+=s)n.push(t[Math.floor(i)]);return n}function Jve(t,e,n){const s=t.ticks.length,r=Math.min(e,s-1),i=t._startPixel,o=t._endPixel,l=1e-6;let c=t.getPixelForTick(r),d;if(!(n&&(s===1?d=Math.max(c-i,o-c):e===0?d=(t.getPixelForTick(1)-c)/2:d=(c-t.getPixelForTick(r-1))/2,c+=r<e?d:-d,c<i-l||c>o+l)))return c}function Zve(t,e){sn(t,n=>{const s=n.gc,r=s.length/2;let i;if(r>e){for(i=0;i<r;++i)delete n.data[s[i]];s.splice(0,r)}})}function Hf(t){return t.drawTicks?t.tickLength:0}function x6(t,e){if(!t.display)return 0;const n=qs(t.font,e),s=Ti(t.padding);return(ss(t.text)?t.text.length:1)*n.lineHeight+s.height}function ebe(t,e){return Jd(t,{scale:e,type:"scale"})}function tbe(t,e,n){return Jd(t,{tick:n,index:e,type:"tick"})}function nbe(t,e,n){let s=FT(t);return(n&&e!=="right"||!n&&e==="right")&&(s=Qve(s)),s}function sbe(t,e,n,s){const{top:r,left:i,bottom:o,right:l,chart:c}=t,{chartArea:d,scales:u}=c;let h=0,f,m,g;const p=o-r,w=l-i;if(t.isHorizontal()){if(m=Os(s,i,l),qt(n)){const b=Object.keys(n)[0],y=n[b];g=u[b].getPixelForValue(y)+p-e}else n==="center"?g=(d.bottom+d.top)/2+p-e:g=m6(t,n,e);f=l-i}else{if(qt(n)){const b=Object.keys(n)[0],y=n[b];m=u[b].getPixelForValue(y)-w+e}else n==="center"?m=(d.left+d.right)/2-w+e:m=m6(t,n,e);g=Os(s,o,r),h=n==="left"?-Zi:Zi}return{titleX:m,titleY:g,maxWidth:f,rotation:h}}class yf extends Tc{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:s,_suggestedMax:r}=this;return e=xa(e,Number.POSITIVE_INFINITY),n=xa(n,Number.NEGATIVE_INFINITY),s=xa(s,Number.POSITIVE_INFINITY),r=xa(r,Number.NEGATIVE_INFINITY),{min:xa(e,s),max:xa(n,r),minDefined:Xs(e),maxDefined:Xs(n)}}getMinMax(e){let{min:n,max:s,minDefined:r,maxDefined:i}=this.getUserBounds(),o;if(r&&i)return{min:n,max:s};const l=this.getMatchingVisibleMetas();for(let c=0,d=l.length;c<d;++c)o=l[c].controller.getMinMax(this,e),r||(n=Math.min(n,o.min)),i||(s=Math.max(s,o.max));return n=i&&n>s?s:n,s=r&&n>s?n:s,{min:xa(n,xa(s,n)),max:xa(s,xa(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){vn(this.options.beforeUpdate,[this])}update(e,n,s){const{beginAtZero:r,grace:i,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=fye(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?g6(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=Wve(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,e=!e),this._startPixel=n,this._endPixel=s,this._reversePixels=e,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){vn(this.options.afterUpdate,[this])}beforeSetDimensions(){vn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){vn(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),vn(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){vn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let s,r,i;for(s=0,r=e.length;s<r;s++)i=e[s],i.label=vn(n.callback,[i.value,s,e],this)}afterTickToLabelConversion(){vn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){vn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,s=p6(this.ticks.length,e.ticks.maxTicksLimit),r=n.minRotation||0,i=n.maxRotation;let o=r,l,c,d;if(!this._isVisible()||!n.display||r>=i||s<=1||!this.isHorizontal()){this.labelRotation=r;return}const u=this._getLabelSizes(),h=u.widest.width,f=u.highest.height,m=Yr(this.chart.width-h,0,this.maxWidth);l=e.offset?this.maxWidth/s:m/(s-1),h+6>l&&(l=m/(s-(e.offset?.5:1)),c=this.maxHeight-Hf(e.grid)-n.padding-x6(e.title,this.chart.options.font),d=Math.sqrt(h*h+f*f),o=Fxe(Math.min(Math.asin(Yr((u.highest.height+6)/l,-1,1)),Math.asin(Yr(c/d,-1,1))-Math.asin(Yr(f/d,-1,1)))),o=Math.max(r,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){vn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){vn(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:s,title:r,grid:i}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const c=x6(r,n.options.font);if(l?(e.width=this.maxWidth,e.height=Hf(i)+c):(e.height=this.maxHeight,e.width=Hf(i)+c),s.display&&this.ticks.length){const{first:d,last:u,widest:h,highest:f}=this._getLabelSizes(),m=s.padding*2,g=ed(this.labelRotation),p=Math.cos(g),w=Math.sin(g);if(l){const b=s.mirror?0:w*h.width+p*f.height;e.height=Math.min(this.maxHeight,e.height+b+m)}else{const b=s.mirror?0:p*h.width+w*f.height;e.width=Math.min(this.maxWidth,e.width+b+m)}this._calculatePadding(d,u,w,p)}}this._handleMargins(),l?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,s,r){const{ticks:{align:i,padding:o},position:l}=this.options,c=this.labelRotation!==0,d=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,m=0;c?d?(f=r*e.width,m=s*n.height):(f=s*e.height,m=r*n.width):i==="start"?m=n.width:i==="end"?f=e.width:i!=="inner"&&(f=e.width/2,m=n.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((m-h+o)*this.width/(this.width-h),0)}else{let u=n.height/2,h=e.height/2;i==="start"?(u=0,h=e.height):i==="end"&&(u=n.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){vn(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,s;for(n=0,s=e.length;n<s;n++)tn(e[n].label)&&(e.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=g6(s,n)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,s){const{ctx:r,_longestTextCache:i}=this,o=[],l=[],c=Math.floor(n/p6(n,s));let d=0,u=0,h,f,m,g,p,w,b,y,N,A,S;for(h=0;h<n;h+=c){if(g=e[h].label,p=this._resolveTickFontOptions(h),r.font=w=p.string,b=i[w]=i[w]||{data:{},gc:[]},y=p.lineHeight,N=A=0,!tn(g)&&!ss(g))N=HR(r,b.data,b.gc,N,g),A=y;else if(ss(g))for(f=0,m=g.length;f<m;++f)S=g[f],!tn(S)&&!ss(S)&&(N=HR(r,b.data,b.gc,N,S),A+=y);o.push(N),l.push(A),d=Math.max(N,d),u=Math.max(A,u)}Zve(i,n);const T=o.indexOf(d),_=l.indexOf(u),R=B=>({width:o[B]||0,height:l[B]||0});return{first:R(0),last:R(n-1),widest:R(T),highest:R(_),widths:o,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return Uxe(this._alignToPixels?Rc(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const s=n[e];return s.$context||(s.$context=tbe(this.getContext(),e,s))}return this.$context||(this.$context=ebe(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=ed(this.labelRotation),s=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),i=this._getLabelSizes(),o=e.autoSkipPadding||0,l=i?i.widest.width+o:0,c=i?i.highest.height+o:0;return this.isHorizontal()?c*s>l*r?l/s:c/r:c*r<l*s?c/s:l/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,s=this.chart,r=this.options,{grid:i,position:o,border:l}=r,c=i.offset,d=this.isHorizontal(),h=this.ticks.length+(c?1:0),f=Hf(i),m=[],g=l.setContext(this.getContext()),p=g.display?g.width:0,w=p/2,b=function(E){return Rc(s,E,p)};let y,N,A,S,T,_,R,B,V,U,L,M;if(o==="top")y=b(this.bottom),_=this.bottom-f,B=y-w,U=b(e.top)+w,M=e.bottom;else if(o==="bottom")y=b(this.top),U=e.top,M=b(e.bottom)-w,_=y+w,B=this.top+f;else if(o==="left")y=b(this.right),T=this.right-f,R=y-w,V=b(e.left)+w,L=e.right;else if(o==="right")y=b(this.left),V=e.left,L=b(e.right)-w,T=y+w,R=this.left+f;else if(n==="x"){if(o==="center")y=b((e.top+e.bottom)/2+.5);else if(qt(o)){const E=Object.keys(o)[0],D=o[E];y=b(this.chart.scales[E].getPixelForValue(D))}U=e.top,M=e.bottom,_=y+w,B=_+f}else if(n==="y"){if(o==="center")y=b((e.left+e.right)/2);else if(qt(o)){const E=Object.keys(o)[0],D=o[E];y=b(this.chart.scales[E].getPixelForValue(D))}T=y-w,R=T-f,V=e.left,L=e.right}const x=$t(r.ticks.maxTicksLimit,h),j=Math.max(1,Math.ceil(h/x));for(N=0;N<h;N+=j){const E=this.getContext(N),D=i.setContext(E),C=l.setContext(E),I=D.lineWidth,F=D.color,O=C.dash||[],k=C.dashOffset,$=D.tickWidth,G=D.tickColor,P=D.tickBorderDash||[],z=D.tickBorderDashOffset;A=Jve(this,N,c),A!==void 0&&(S=Rc(s,A,I),d?T=R=V=L=S:_=B=U=M=S,m.push({tx1:T,ty1:_,tx2:R,ty2:B,x1:V,y1:U,x2:L,y2:M,width:I,color:F,borderDash:O,borderDashOffset:k,tickWidth:$,tickColor:G,tickBorderDash:P,tickBorderDashOffset:z}))}return this._ticksLength=h,this._borderValue=y,m}_computeLabelItems(e){const n=this.axis,s=this.options,{position:r,ticks:i}=s,o=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:d,padding:u,mirror:h}=i,f=Hf(s.grid),m=f+u,g=h?-u:m,p=-ed(this.labelRotation),w=[];let b,y,N,A,S,T,_,R,B,V,U,L,M="middle";if(r==="top")T=this.bottom-g,_=this._getXAxisLabelAlignment();else if(r==="bottom")T=this.top+g,_=this._getXAxisLabelAlignment();else if(r==="left"){const j=this._getYAxisLabelAlignment(f);_=j.textAlign,S=j.x}else if(r==="right"){const j=this._getYAxisLabelAlignment(f);_=j.textAlign,S=j.x}else if(n==="x"){if(r==="center")T=(e.top+e.bottom)/2+m;else if(qt(r)){const j=Object.keys(r)[0],E=r[j];T=this.chart.scales[j].getPixelForValue(E)+m}_=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")S=(e.left+e.right)/2-m;else if(qt(r)){const j=Object.keys(r)[0],E=r[j];S=this.chart.scales[j].getPixelForValue(E)}_=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(c==="start"?M="top":c==="end"&&(M="bottom"));const x=this._getLabelSizes();for(b=0,y=l.length;b<y;++b){N=l[b],A=N.label;const j=i.setContext(this.getContext(b));R=this.getPixelForTick(b)+i.labelOffset,B=this._resolveTickFontOptions(b),V=B.lineHeight,U=ss(A)?A.length:1;const E=U/2,D=j.color,C=j.textStrokeColor,I=j.textStrokeWidth;let F=_;o?(S=R,_==="inner"&&(b===y-1?F=this.options.reverse?"left":"right":b===0?F=this.options.reverse?"right":"left":F="center"),r==="top"?d==="near"||p!==0?L=-U*V+V/2:d==="center"?L=-x.highest.height/2-E*V+V:L=-x.highest.height+V/2:d==="near"||p!==0?L=V/2:d==="center"?L=x.highest.height/2-E*V:L=x.highest.height-U*V,h&&(L*=-1),p!==0&&!j.showLabelBackdrop&&(S+=V/2*Math.sin(p))):(T=R,L=(1-U)*V/2);let O;if(j.showLabelBackdrop){const k=Ti(j.backdropPadding),$=x.heights[b],G=x.widths[b];let P=L-k.top,z=0-k.left;switch(M){case"middle":P-=$/2;break;case"bottom":P-=$;break}switch(_){case"center":z-=G/2;break;case"right":z-=G;break;case"inner":b===y-1?z-=G:b>0&&(z-=G/2);break}O={left:z,top:P,width:G+k.width,height:$+k.height,color:j.backdropColor}}w.push({label:A,font:B,textOffset:L,options:{rotation:p,color:D,strokeColor:C,strokeWidth:I,textAlign:F,textBaseline:M,translation:[S,T],backdrop:O}})}return w}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-ed(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:s,mirror:r,padding:i}}=this.options,o=this._getLabelSizes(),l=e+i,c=o.widest.width;let d,u;return n==="left"?r?(u=this.right+i,s==="near"?d="left":s==="center"?(d="center",u+=c/2):(d="right",u+=c)):(u=this.right-l,s==="near"?d="right":s==="center"?(d="center",u-=c/2):(d="left",u=this.left)):n==="right"?r?(u=this.left+i,s==="near"?d="right":s==="center"?(d="center",u-=c/2):(d="left",u-=c)):(u=this.left+l,s==="near"?d="left":s==="center"?(d="center",u+=c/2):(d="right",u=this.right)):d="right",{textAlign:d,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:s,top:r,width:i,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(s,r,i,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(i=>i.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const n=this.options.grid,s=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,o;const l=(c,d,u)=>{!u.width||!u.color||(s.save(),s.lineWidth=u.width,s.strokeStyle=u.color,s.setLineDash(u.borderDash||[]),s.lineDashOffset=u.borderDashOffset,s.beginPath(),s.moveTo(c.x,c.y),s.lineTo(d.x,d.y),s.stroke(),s.restore())};if(n.display)for(i=0,o=r.length;i<o;++i){const c=r[i];n.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),n.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:s,grid:r}}=this,i=s.setContext(this.getContext()),o=s.display?i.width:0;if(!o)return;const l=r.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let d,u,h,f;this.isHorizontal()?(d=Rc(e,this.left,o)-o/2,u=Rc(e,this.right,l)+l/2,h=f=c):(h=Rc(e,this.top,o)-o/2,f=Rc(e,this.bottom,l)+l/2,d=u=c),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(d,h),n.lineTo(u,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,r=this._computeLabelArea();r&&Ib(s,r);const i=this.getLabelItems(e);for(const o of i){const l=o.options,c=o.font,d=o.label,u=o.textOffset;$p(s,d,0,u,c,l)}r&&Pb(s)}drawTitle(){const{ctx:e,options:{position:n,title:s,reverse:r}}=this;if(!s.display)return;const i=qs(s.font),o=Ti(s.padding),l=s.align;let c=i.lineHeight/2;n==="bottom"||n==="center"||qt(n)?(c+=o.bottom,ss(s.text)&&(c+=i.lineHeight*(s.text.length-1))):c+=o.top;const{titleX:d,titleY:u,maxWidth:h,rotation:f}=sbe(this,c,n,l);$p(e,s.text,0,0,i,{color:s.color,maxWidth:h,rotation:f,textAlign:nbe(l,n,r),textBaseline:"middle",translation:[d,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,s=$t(e.grid&&e.grid.z,-1),r=$t(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==yf.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:s,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",r=[];let i,o;for(i=0,o=n.length;i<o;++i){const l=n[i];l[s]===this.id&&(!e||l.type===e)&&r.push(l)}return r}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return qs(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class $0{constructor(e,n,s){this.type=e,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let s;abe(n)&&(s=this.register(n));const r=this.items,i=e.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in r||(r[i]=e,rbe(e,o,s),this.override&&qn.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,s=e.id,r=this.scope;s in n&&delete n[s],r&&s in qn[r]&&(delete qn[r][s],this.override&&delete Vd[s])}}function rbe(t,e,n){const s=Rp(Object.create(null),[n?qn.get(n):{},qn.get(e),t.defaults]);qn.set(e,s),t.defaultRoutes&&ibe(e,t.defaultRoutes),t.descriptors&&qn.describe(e,t.descriptors)}function ibe(t,e){Object.keys(e).forEach(n=>{const s=n.split("."),r=s.pop(),i=[t].concat(s).join("."),o=e[n].split("."),l=o.pop(),c=o.join(".");qn.route(i,r,c,l)})}function abe(t){return"id"in t&&"defaults"in t}class obe{constructor(){this.controllers=new $0(nh,"datasets",!0),this.elements=new $0(Tc,"elements"),this.plugins=new $0(Object,"plugins"),this.scales=new $0(yf,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,s){[...n].forEach(r=>{const i=s||this._getRegistryForType(r);s||i.isForType(r)||i===this.plugins&&r.id?this._exec(e,i,r):sn(r,o=>{const l=s||this._getRegistryForType(o);this._exec(e,l,o)})})}_exec(e,n,s){const r=DT(e);vn(s["before"+r],[],s),n[e](s),vn(s["after"+r],[],s)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(e))return s}return this.plugins}_get(e,n,s){const r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return r}}var wa=new obe;class lbe{constructor(){this._init=[]}notify(e,n,s,r){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(i,e,n,s);return n==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,s,r){r=r||{};for(const i of e){const o=i.plugin,l=o[s],c=[n,r,i.options];if(vn(l,c,o)===!1&&r.cancelable)return!1}return!0}invalidate(){tn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const s=e&&e.config,r=$t(s.options&&s.options.plugins,{}),i=cbe(s);return r===!1&&!n?[]:ube(e,i,r,n)}_notifyStateChanges(e){const n=this._oldCache||[],s=this._cache,r=(i,o)=>i.filter(l=>!o.some(c=>l.plugin.id===c.plugin.id));this._notify(r(n,s),e,"stop"),this._notify(r(s,n),e,"start")}}function cbe(t){const e={},n=[],s=Object.keys(wa.plugins.items);for(let i=0;i<s.length;i++)n.push(wa.getPlugin(s[i]));const r=t.plugins||[];for(let i=0;i<r.length;i++){const o=r[i];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function dbe(t,e){return!e&&t===!1?null:t===!0?{}:t}function ube(t,{plugins:e,localIds:n},s,r){const i=[],o=t.getContext();for(const l of e){const c=l.id,d=dbe(s[c],r);d!==null&&i.push({plugin:l,options:hbe(t.config,{plugin:l,local:n[c]},d,o)})}return i}function hbe(t,{plugin:e,local:n},s,r){const i=t.pluginScopeKeys(e),o=t.getOptionScopes(s,i);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Mk(t,e){const n=qn.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function fbe(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function mbe(t,e){return t===e?"_index_":"_value_"}function y6(t){if(t==="x"||t==="y"||t==="r")return t}function pbe(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Ok(t,...e){if(y6(t))return t;for(const n of e){const s=n.axis||pbe(n.position)||t.length>1&&y6(t[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function v6(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function gbe(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(s=>s.xAxisID===t||s.yAxisID===t);if(n.length)return v6(t,"x",n[0])||v6(t,"y",n[0])}return{}}function xbe(t,e){const n=Vd[t.type]||{scales:{}},s=e.scales||{},r=Mk(t.type,e),i=Object.create(null);return Object.keys(s).forEach(o=>{const l=s[o];if(!qt(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=Ok(o,l,gbe(o,t),qn.scales[l.type]),d=mbe(c,r),u=n.scales||{};i[o]=_m(Object.create(null),[{axis:c},l,u[c],u[d]])}),t.data.datasets.forEach(o=>{const l=o.type||t.type,c=o.indexAxis||Mk(l,e),u=(Vd[l]||{}).scales||{};Object.keys(u).forEach(h=>{const f=fbe(h,c),m=o[f+"AxisID"]||f;i[m]=i[m]||Object.create(null),_m(i[m],[{axis:f},s[m],u[h]])})}),Object.keys(i).forEach(o=>{const l=i[o];_m(l,[qn.scales[l.type],qn.scale])}),i}function xV(t){const e=t.options||(t.options={});e.plugins=$t(e.plugins,{}),e.scales=xbe(t,e)}function yV(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function ybe(t){return t=t||{},t.data=yV(t.data),xV(t),t}const b6=new Map,vV=new Set;function F0(t,e){let n=b6.get(t);return n||(n=e(),b6.set(t,n),vV.add(n)),n}const Wf=(t,e,n)=>{const s=Bh(e,n);s!==void 0&&t.add(s)};class vbe{constructor(e){this._config=ybe(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=yV(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),xV(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return F0(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return F0(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return F0(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,s=this.type;return F0(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const s=this._scopeCache;let r=s.get(e);return(!r||n)&&(r=new Map,s.set(e,r)),r}getOptionScopes(e,n,s){const{options:r,type:i}=this,o=this._cachedScopes(e,s),l=o.get(n);if(l)return l;const c=new Set;n.forEach(u=>{e&&(c.add(e),u.forEach(h=>Wf(c,e,h))),u.forEach(h=>Wf(c,r,h)),u.forEach(h=>Wf(c,Vd[i]||{},h)),u.forEach(h=>Wf(c,qn,h)),u.forEach(h=>Wf(c,_k,h))});const d=Array.from(c);return d.length===0&&d.push(Object.create(null)),vV.has(n)&&o.set(n,d),d}chartOptionScopes(){const{options:e,type:n}=this;return[e,Vd[n]||{},qn.datasets[n]||{},{type:n},qn,_k]}resolveNamedOptions(e,n,s,r=[""]){const i={$shared:!0},{resolver:o,subPrefixes:l}=w6(this._resolverCache,e,r);let c=o;if(wbe(o,n)){i.$shared=!1,s=pc(s)?s():s;const d=this.createResolver(e,s,l);c=Uh(o,s,d)}for(const d of n)i[d]=c[d];return i}createResolver(e,n,s=[""],r){const{resolver:i}=w6(this._resolverCache,e,s);return qt(n)?Uh(i,n,void 0,r):i}}function w6(t,e,n){let s=t.get(e);s||(s=new Map,t.set(e,s));const r=n.join();let i=s.get(r);return i||(i={resolver:BT(e,n),subPrefixes:n.filter(l=>!l.toLowerCase().includes("hover"))},s.set(r,i)),i}const bbe=t=>qt(t)&&Object.getOwnPropertyNames(t).some(e=>pc(t[e]));function wbe(t,e){const{isScriptable:n,isIndexable:s}=JU(t);for(const r of e){const i=n(r),o=s(r),l=(o||i)&&t[r];if(i&&(pc(l)||bbe(l))||o&&ss(l))return!0}return!1}var Nbe="4.5.0";const kbe=["top","bottom","left","right","chartArea"];function N6(t,e){return t==="top"||t==="bottom"||kbe.indexOf(t)===-1&&e==="x"}function k6(t,e){return function(n,s){return n[t]===s[t]?n[e]-s[e]:n[t]-s[t]}}function j6(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),vn(n&&n.onComplete,[t],e)}function jbe(t){const e=t.chart,n=e.options.animation;vn(n&&n.onProgress,[t],e)}function bV(t){return zT()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Bx={},S6=t=>{const e=bV(t);return Object.values(Bx).filter(n=>n.canvas===e).pop()};function Sbe(t,e,n){const s=Object.keys(t);for(const r of s){const i=+r;if(i>=e){const o=t[r];delete t[r],(n>0||i>e)&&(t[i+n]=o)}}}function Abe(t,e,n,s){return!n||t.type==="mouseout"?null:s?e:t}var ll;let Rb=(ll=class{static register(...e){wa.add(...e),A6()}static unregister(...e){wa.remove(...e),A6()}constructor(e,n){const s=this.config=new vbe(n),r=bV(e),i=S6(r);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||Hve(r)),this.platform.updateConfig(s);const l=this.platform.acquireContext(r,o.aspectRatio),c=l&&l.canvas,d=c&&c.height,u=c&&c.width;if(this.id=Sxe(),this.ctx=l,this.canvas=c,this.width=u,this.height=d,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new lbe,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Wxe(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],Bx[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}uo.listen(this,"complete",j6),uo.listen(this,"progress",jbe),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:s,height:r,_aspectRatio:i}=this;return tn(e)?n&&i?i:r?s/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return wa}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():GR(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return WR(this.canvas,this.ctx),this}stop(){return uo.stop(this),this}resize(e,n){uo.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const s=this.options,r=this.canvas,i=s.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,e,n,i),l=s.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,GR(this,l,!0)&&(this.notifyPlugins("resize",{size:o}),vn(s.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};sn(n,(s,r)=>{s.id=r})}buildOrUpdateScales(){const e=this.options,n=e.scales,s=this.scales,r=Object.keys(s).reduce((o,l)=>(o[l]=!1,o),{});let i=[];n&&(i=i.concat(Object.keys(n).map(o=>{const l=n[o],c=Ok(o,l),d=c==="r",u=c==="x";return{options:l,dposition:d?"chartArea":u?"bottom":"left",dtype:d?"radialLinear":u?"category":"linear"}}))),sn(i,o=>{const l=o.options,c=l.id,d=Ok(c,l),u=$t(l.type,o.dtype);(l.position===void 0||N6(l.position,d)!==N6(o.dposition))&&(l.position=o.dposition),r[c]=!0;let h=null;if(c in s&&s[c].type===u)h=s[c];else{const f=wa.getScale(u);h=new f({id:c,type:u,ctx:this.ctx,chart:this}),s[h.id]=h}h.init(l,e)}),sn(r,(o,l)=>{o||delete s[l]}),sn(s,o=>{bi.configure(this,o,o.options),bi.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,s=e.length;if(e.sort((r,i)=>r.index-i.index),s>n){for(let r=n;r<s;++r)this._destroyDatasetMeta(r);e.splice(n,s-n)}this._sortedMetasets=e.slice(0).sort(k6("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((s,r)=>{n.filter(i=>i===s._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let s,r;for(this._removeUnreferencedMetasets(),s=0,r=n.length;s<r;s++){const i=n[s];let o=this.getDatasetMeta(s);const l=i.type||this.config.type;if(o.type&&o.type!==l&&(this._destroyDatasetMeta(s),o=this.getDatasetMeta(s)),o.type=l,o.indexAxis=i.indexAxis||Mk(l,this.options),o.order=i.order||0,o.index=s,o.label=""+i.label,o.visible=this.isDatasetVisible(s),o.controller)o.controller.updateIndex(s),o.controller.linkScales();else{const c=wa.getController(l),{datasetElementType:d,dataElementType:u}=qn.datasets[l];Object.assign(c,{dataElementType:wa.getElement(u),datasetElementType:d&&wa.getElement(d)}),o.controller=new c(this,s),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){sn(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let d=0,u=this.data.datasets.length;d<u;d++){const{controller:h}=this.getDatasetMeta(d),f=!r&&i.indexOf(h)===-1;h.buildOrUpdateElements(f),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=s.layout.autoPadding?o:0,this._updateLayout(o),r||sn(i,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(k6("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){sn(this.scales,e=>{bi.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!OR(n,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:r,count:i}of n){const o=s==="_removeElements"?-i:i;Sbe(e,r,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=i=>new Set(e.filter(o=>o[0]===i).map((o,l)=>l+","+o.splice(1).join(","))),r=s(0);for(let i=1;i<n;i++)if(!OR(r,s(i)))return;return Array.from(r).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;bi.update(this,this.width,this.height,e);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],sn(this.boxes,r=>{s&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,i)=>{r._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,pc(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const s=this.getDatasetMeta(e),r={meta:s,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(s.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(uo.has(this)?this.attached&&!uo.running(this)&&uo.start(this):(this.draw(),j6({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,s=[];let r,i;for(r=0,i=n.length;r<i;++r){const o=n[r];(!e||o.visible)&&s.push(o)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,s={meta:e,index:e.index,cancelable:!0},r=lV(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(r&&Ib(n,r),e.controller.draw(),r&&Pb(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return Dp(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,s,r){const i=kve.modes[n];return typeof i=="function"?i(this,e,s,r):[]}getDatasetMeta(e){const n=this.data.datasets[e],s=this._metasets;let r=s.filter(i=>i&&i._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},s.push(r)),r}getContext(){return this.$context||(this.$context=Jd(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(e,n){const s=this.getDatasetMeta(e);s.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,s){const r=s?"show":"hide",i=this.getDatasetMeta(e),o=i.controller._resolveAnimations(void 0,r);Mp(n)?(i.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),o.update(i,{visible:s}),this.update(l=>l.datasetIndex===e?r:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),uo.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),WR(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Bx[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,s=(i,o)=>{n.addEventListener(this,i,o),e[i]=o},r=(i,o,l)=>{i.offsetX=o,i.offsetY=l,this._eventHandler(i)};sn(this.options.events,i=>s(i,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,s=(c,d)=>{n.addEventListener(this,c,d),e[c]=d},r=(c,d)=>{e[c]&&(n.removeEventListener(this,c,d),delete e[c])},i=(c,d)=>{this.canvas&&this.resize(c,d)};let o;const l=()=>{r("attach",l),this.attached=!0,this.resize(),s("resize",i),s("detach",o)};o=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),s("attach",l)},n.isAttached(this.canvas)?l():o()}unbindEvents(){sn(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},sn(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,s){const r=s?"set":"remove";let i,o,l,c;for(n==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){o=e[l];const d=o&&this.getDatasetMeta(o.datasetIndex).controller;d&&d[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],s=e.map(({datasetIndex:i,index:o})=>{const l=this.getDatasetMeta(i);if(!l)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:l.data[o],index:o}});!nv(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(e,n,s){return this._plugins.notify(this,e,n,s)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,s){const r=this.options.hover,i=(c,d)=>c.filter(u=>!d.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=i(n,e),l=s?e:i(e,n);o.length&&this.updateHoverStyle(o,r.mode,!1),l.length&&r.mode&&this.updateHoverStyle(l,r.mode,!0)}_eventHandler(e,n){const s={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},r=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,r)===!1)return;const i=this._handleEvent(e,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,r),(i||s.changed)&&this.render(),this}_handleEvent(e,n,s){const{_active:r=[],options:i}=this,o=n,l=this._getActiveElements(e,r,s,o),c=Pxe(e),d=Abe(e,this._lastEvent,s,c);s&&(this._lastEvent=null,vn(i.onHover,[e,l,this],this),c&&vn(i.onClick,[e,l,this],this));const u=!nv(l,r);return(u||n)&&(this._active=l,this._updateHoverStyles(l,r,n)),this._lastEvent=d,u}_getActiveElements(e,n,s,r){if(e.type==="mouseout")return[];if(!s)return n;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,r)}},Ge(ll,"defaults",qn),Ge(ll,"instances",Bx),Ge(ll,"overrides",Vd),Ge(ll,"registry",wa),Ge(ll,"version",Nbe),Ge(ll,"getChart",S6),ll);function A6(){return sn(Rb.instances,t=>t._plugins.invalidate())}function wV(t,e,n=e){t.lineCap=$t(n.borderCapStyle,e.borderCapStyle),t.setLineDash($t(n.borderDash,e.borderDash)),t.lineDashOffset=$t(n.borderDashOffset,e.borderDashOffset),t.lineJoin=$t(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=$t(n.borderWidth,e.borderWidth),t.strokeStyle=$t(n.borderColor,e.borderColor)}function Tbe(t,e,n){t.lineTo(n.x,n.y)}function Cbe(t){return t.stepped?rye:t.tension||t.cubicInterpolationMode==="monotone"?iye:Tbe}function NV(t,e,n={}){const s=t.length,{start:r=0,end:i=s-1}=n,{start:o,end:l}=e,c=Math.max(r,o),d=Math.min(i,l),u=r<o&&i<o||r>l&&i>l;return{count:s,start:c,loop:e.loop,ilen:d<c&&!u?s+d-c:d-c}}function Ebe(t,e,n,s){const{points:r,options:i}=e,{count:o,start:l,loop:c,ilen:d}=NV(r,n,s),u=Cbe(i);let{move:h=!0,reverse:f}=s||{},m,g,p;for(m=0;m<=d;++m)g=r[(l+(f?d-m:m))%o],!g.skip&&(h?(t.moveTo(g.x,g.y),h=!1):u(t,p,g,f,i.stepped),p=g);return c&&(g=r[(l+(f?d:0))%o],u(t,p,g,f,i.stepped)),!!c}function Ibe(t,e,n,s){const r=e.points,{count:i,start:o,ilen:l}=NV(r,n,s),{move:c=!0,reverse:d}=s||{};let u=0,h=0,f,m,g,p,w,b;const y=A=>(o+(d?l-A:A))%i,N=()=>{p!==w&&(t.lineTo(u,w),t.lineTo(u,p),t.lineTo(u,b))};for(c&&(m=r[y(0)],t.moveTo(m.x,m.y)),f=0;f<=l;++f){if(m=r[y(f)],m.skip)continue;const A=m.x,S=m.y,T=A|0;T===g?(S<p?p=S:S>w&&(w=S),u=(h*u+A)/++h):(N(),t.lineTo(A,S),g=T,h=0,p=w=S),b=S}N()}function Dk(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?Ibe:Ebe}function Pbe(t){return t.stepped?$ye:t.tension||t.cubicInterpolationMode==="monotone"?Fye:Bc}function _be(t,e,n,s){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,s)&&r.closePath()),wV(t,e.options),t.stroke(r)}function Rbe(t,e,n,s){const{segments:r,options:i}=e,o=Dk(e);for(const l of r)wV(t,i,l.style),t.beginPath(),o(t,e,l,{start:n,end:n+s-1})&&t.closePath(),t.stroke()}const Mbe=typeof Path2D=="function";function Obe(t,e,n,s){Mbe&&!e.options.segment?_be(t,e,n,s):Rbe(t,e,n,s)}class Ul extends Tc{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const r=s.spanGaps?this._loop:this._fullLoop;Eye(this._points,s,e,r,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Hye(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,s=e.length;return s&&n[e[s-1].end]}interpolate(e,n){const s=this.options,r=e[n],i=this.points,o=oV(this,{property:n,start:r,end:r});if(!o.length)return;const l=[],c=Pbe(s);let d,u;for(d=0,u=o.length;d<u;++d){const{start:h,end:f}=o[d],m=i[h],g=i[f];if(m===g){l.push(m);continue}const p=Math.abs((r-m[n])/(g[n]-m[n])),w=c(m,g,p,s.stepped);w[n]=e[n],l.push(w)}return l.length===1?l[0]:l}pathSegment(e,n,s){return Dk(this)(e,this,n,s)}path(e,n,s){const r=this.segments,i=Dk(this);let o=this._loop;n=n||0,s=s||this.points.length-n;for(const l of r)o&=i(e,this,l,{start:n,end:n+s-1});return!!o}draw(e,n,s,r){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),Obe(e,this,s,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Ge(Ul,"id","line"),Ge(Ul,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Ge(Ul,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Ge(Ul,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function T6(t,e,n,s){const r=t.options,{[n]:i}=t.getProps([n],s);return Math.abs(e-i)<r.radius+r.hitRadius}class Ux extends Tc{constructor(n){super();Ge(this,"parsed");Ge(this,"skip");Ge(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,s,r){const i=this.options,{x:o,y:l}=this.getProps(["x","y"],r);return Math.pow(n-o,2)+Math.pow(s-l,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(n,s){return T6(this,n,"x",s)}inYRange(n,s){return T6(this,n,"y",s)}getCenterPoint(n){const{x:s,y:r}=this.getProps(["x","y"],n);return{x:s,y:r}}size(n){n=n||this.options||{};let s=n.radius||0;s=Math.max(s,s&&n.hoverRadius||0);const r=s&&n.borderWidth||0;return(s+r)*2}draw(n,s){const r=this.options;this.skip||r.radius<.1||!Dp(this,s,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,Rk(n,r,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}Ge(Ux,"id","point"),Ge(Ux,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Ge(Ux,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function kV(t,e){const{x:n,y:s,base:r,width:i,height:o}=t.getProps(["x","y","base","width","height"],e);let l,c,d,u,h;return t.horizontal?(h=o/2,l=Math.min(n,r),c=Math.max(n,r),d=s-h,u=s+h):(h=i/2,l=n-h,c=n+h,d=Math.min(s,r),u=Math.max(s,r)),{left:l,top:d,right:c,bottom:u}}function Vl(t,e,n,s){return t?0:Yr(e,n,s)}function Dbe(t,e,n){const s=t.options.borderWidth,r=t.borderSkipped,i=QU(s);return{t:Vl(r.top,i.top,0,n),r:Vl(r.right,i.right,0,e),b:Vl(r.bottom,i.bottom,0,n),l:Vl(r.left,i.left,0,e)}}function $be(t,e,n){const{enableBorderRadius:s}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,i=eh(r),o=Math.min(e,n),l=t.borderSkipped,c=s||qt(r);return{topLeft:Vl(!c||l.top||l.left,i.topLeft,0,o),topRight:Vl(!c||l.top||l.right,i.topRight,0,o),bottomLeft:Vl(!c||l.bottom||l.left,i.bottomLeft,0,o),bottomRight:Vl(!c||l.bottom||l.right,i.bottomRight,0,o)}}function Fbe(t){const e=kV(t),n=e.right-e.left,s=e.bottom-e.top,r=Dbe(t,n/2,s/2),i=$be(t,n/2,s/2);return{outer:{x:e.left,y:e.top,w:n,h:s,radius:i},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:s-r.t-r.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,i.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(r.b,r.r))}}}}function F1(t,e,n,s){const r=e===null,i=n===null,l=t&&!(r&&i)&&kV(t,s);return l&&(r||Bl(e,l.left,l.right))&&(i||Bl(n,l.top,l.bottom))}function Lbe(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function Bbe(t,e){t.rect(e.x,e.y,e.w,e.h)}function L1(t,e,n={}){const s=t.x!==n.x?-e:0,r=t.y!==n.y?-e:0,i=(t.x+t.w!==n.x+n.w?e:0)-s,o=(t.y+t.h!==n.y+n.h?e:0)-r;return{x:t.x+s,y:t.y+r,w:t.w+i,h:t.h+o,radius:t.radius}}class Vx extends Tc{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:s,backgroundColor:r}}=this,{inner:i,outer:o}=Fbe(this),l=Lbe(o.radius)?iv:Bbe;e.save(),(o.w!==i.w||o.h!==i.h)&&(e.beginPath(),l(e,L1(o,n,i)),e.clip(),l(e,L1(i,-n,o)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),l(e,L1(i,n)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,n,s){return F1(this,e,n,s)}inXRange(e,n){return F1(this,e,null,n)}inYRange(e,n){return F1(this,null,e,n)}getCenterPoint(e){const{x:n,y:s,base:r,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(n+r)/2:n,y:i?s:(s+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}Ge(Vx,"id","bar"),Ge(Vx,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Ge(Vx,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Ube(t,e,n){const s=t.segments,r=t.points,i=e.points,o=[];for(const l of s){let{start:c,end:d}=l;d=Mb(c,d,r);const u=$k(n,r[c],r[d],l.loop);if(!e.segments){o.push({source:l,target:u,start:r[c],end:r[d]});continue}const h=oV(e,u);for(const f of h){const m=$k(n,i[f.start],i[f.end],f.loop),g=aV(l,r,m);for(const p of g)o.push({source:p,target:f,start:{[n]:C6(u,m,"start",Math.max)},end:{[n]:C6(u,m,"end",Math.min)}})}}return o}function $k(t,e,n,s){if(s)return;let r=e[t],i=n[t];return t==="angle"&&(r=ja(r),i=ja(i)),{property:t,start:r,end:i}}function Vbe(t,e){const{x:n=null,y:s=null}=t||{},r=e.points,i=[];return e.segments.forEach(({start:o,end:l})=>{l=Mb(o,l,r);const c=r[o],d=r[l];s!==null?(i.push({x:c.x,y:s}),i.push({x:d.x,y:s})):n!==null&&(i.push({x:n,y:c.y}),i.push({x:n,y:d.y}))}),i}function Mb(t,e,n){for(;e>t;e--){const s=n[e];if(!isNaN(s.x)&&!isNaN(s.y))break}return e}function C6(t,e,n,s){return t&&e?s(t[n],e[n]):t?t[n]:e?e[n]:0}function jV(t,e){let n=[],s=!1;return ss(t)?(s=!0,n=t):n=Vbe(t,e),n.length?new Ul({points:n,options:{tension:0},_loop:s,_fullLoop:s}):null}function E6(t){return t&&t.fill!==!1}function zbe(t,e,n){let r=t[e].fill;const i=[e];let o;if(!n)return r;for(;r!==!1&&i.indexOf(r)===-1;){if(!Xs(r))return r;if(o=t[r],!o)return!1;if(o.visible)return r;i.push(r),r=o.fill}return!1}function Hbe(t,e,n){const s=Gbe(t);if(qt(s))return isNaN(s.value)?!1:s;let r=parseFloat(s);return Xs(r)&&Math.floor(r)===r?Wbe(s[0],e,r,n):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function Wbe(t,e,n,s){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=s?!1:n}function Kbe(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:qt(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function qbe(t,e,n){let s;return t==="start"?s=n:t==="end"?s=e.options.reverse?e.min:e.max:qt(t)?s=t.value:s=e.getBaseValue(),s}function Gbe(t){const e=t.options,n=e.fill;let s=$t(n&&n.target,n);return s===void 0&&(s=!!e.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function Ybe(t){const{scale:e,index:n,line:s}=t,r=[],i=s.segments,o=s.points,l=Xbe(e,n);l.push(jV({x:null,y:e.bottom},s));for(let c=0;c<i.length;c++){const d=i[c];for(let u=d.start;u<=d.end;u++)Qbe(r,o[u],l)}return new Ul({points:r,options:{}})}function Xbe(t,e){const n=[],s=t.getMatchingVisibleMetas("line");for(let r=0;r<s.length;r++){const i=s[r];if(i.index===e)break;i.hidden||n.unshift(i.dataset)}return n}function Qbe(t,e,n){const s=[];for(let r=0;r<n.length;r++){const i=n[r],{first:o,last:l,point:c}=Jbe(i,e,"x");if(!(!c||o&&l)){if(o)s.unshift(c);else if(t.push(c),!l)break}}t.push(...s)}function Jbe(t,e,n){const s=t.interpolate(e,n);if(!s)return{};const r=s[n],i=t.segments,o=t.points;let l=!1,c=!1;for(let d=0;d<i.length;d++){const u=i[d],h=o[u.start][n],f=o[u.end][n];if(Bl(r,h,f)){l=r===h,c=r===f;break}}return{first:l,last:c,point:s}}class SV{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,s){const{x:r,y:i,radius:o}=this;return n=n||{start:0,end:aa},e.arc(r,i,o,n.end,n.start,!0),!s.bounds}interpolate(e){const{x:n,y:s,radius:r}=this,i=e.angle;return{x:n+Math.cos(i)*r,y:s+Math.sin(i)*r,angle:i}}}function Zbe(t){const{chart:e,fill:n,line:s}=t;if(Xs(n))return ewe(e,n);if(n==="stack")return Ybe(t);if(n==="shape")return!0;const r=twe(t);return r instanceof SV?r:jV(r,s)}function ewe(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function twe(t){return(t.scale||{}).getPointPositionForValue?swe(t):nwe(t)}function nwe(t){const{scale:e={},fill:n}=t,s=Kbe(n,e);if(Xs(s)){const r=e.isHorizontal();return{x:r?s:null,y:r?null:s}}return null}function swe(t){const{scale:e,fill:n}=t,s=e.options,r=e.getLabels().length,i=s.reverse?e.max:e.min,o=qbe(n,e,i),l=[];if(s.grid.circular){const c=e.getPointPositionForValue(0,i);return new SV({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(o)})}for(let c=0;c<r;++c)l.push(e.getPointPositionForValue(c,o));return l}function B1(t,e,n){const s=Zbe(e),{chart:r,index:i,line:o,scale:l,axis:c}=e,d=o.options,u=d.fill,h=d.backgroundColor,{above:f=h,below:m=h}=u||{},g=r.getDatasetMeta(i),p=lV(r,g);s&&o.points.length&&(Ib(t,n),rwe(t,{line:o,target:s,above:f,below:m,area:n,scale:l,axis:c,clip:p}),Pb(t))}function rwe(t,e){const{line:n,target:s,above:r,below:i,area:o,scale:l,clip:c}=e,d=n._loop?"angle":e.axis;t.save();let u=i;i!==r&&(d==="x"?(I6(t,s,o.top),U1(t,{line:n,target:s,color:r,scale:l,property:d,clip:c}),t.restore(),t.save(),I6(t,s,o.bottom)):d==="y"&&(P6(t,s,o.left),U1(t,{line:n,target:s,color:i,scale:l,property:d,clip:c}),t.restore(),t.save(),P6(t,s,o.right),u=r)),U1(t,{line:n,target:s,color:u,scale:l,property:d,clip:c}),t.restore()}function I6(t,e,n){const{segments:s,points:r}=e;let i=!0,o=!1;t.beginPath();for(const l of s){const{start:c,end:d}=l,u=r[c],h=r[Mb(c,d,r)];i?(t.moveTo(u.x,u.y),i=!1):(t.lineTo(u.x,n),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,l,{move:o}),o?t.closePath():t.lineTo(h.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function P6(t,e,n){const{segments:s,points:r}=e;let i=!0,o=!1;t.beginPath();for(const l of s){const{start:c,end:d}=l,u=r[c],h=r[Mb(c,d,r)];i?(t.moveTo(u.x,u.y),i=!1):(t.lineTo(n,u.y),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,l,{move:o}),o?t.closePath():t.lineTo(n,h.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function U1(t,e){const{line:n,target:s,property:r,color:i,scale:o,clip:l}=e,c=Ube(n,s,r);for(const{source:d,target:u,start:h,end:f}of c){const{style:{backgroundColor:m=i}={}}=d,g=s!==!0;t.save(),t.fillStyle=m,iwe(t,o,l,g&&$k(r,h,f)),t.beginPath();const p=!!n.pathSegment(t,d);let w;if(g){p?t.closePath():_6(t,s,f,r);const b=!!s.pathSegment(t,u,{move:p,reverse:!0});w=p&&b,w||_6(t,s,h,r)}t.closePath(),t.fill(w?"evenodd":"nonzero"),t.restore()}}function iwe(t,e,n,s){const r=e.chart.chartArea,{property:i,start:o,end:l}=s||{};if(i==="x"||i==="y"){let c,d,u,h;i==="x"?(c=o,d=r.top,u=l,h=r.bottom):(c=r.left,d=o,u=r.right,h=l),t.beginPath(),n&&(c=Math.max(c,n.left),u=Math.min(u,n.right),d=Math.max(d,n.top),h=Math.min(h,n.bottom)),t.rect(c,d,u-c,h-d),t.clip()}}function _6(t,e,n,s){const r=e.interpolate(n,s);r&&t.lineTo(r.x,r.y)}var awe={id:"filler",afterDatasetsUpdate(t,e,n){const s=(t.data.datasets||[]).length,r=[];let i,o,l,c;for(o=0;o<s;++o)i=t.getDatasetMeta(o),l=i.dataset,c=null,l&&l.options&&l instanceof Ul&&(c={visible:t.isDatasetVisible(o),index:o,fill:Hbe(l,o,s),chart:t,axis:i.controller.options.indexAxis,scale:i.vScale,line:l}),i.$filler=c,r.push(c);for(o=0;o<s;++o)c=r[o],!(!c||c.fill===!1)&&(c.fill=zbe(r,o,n.propagate))},beforeDraw(t,e,n){const s=n.drawTime==="beforeDraw",r=t.getSortedVisibleDatasetMetas(),i=t.chartArea;for(let o=r.length-1;o>=0;--o){const l=r[o].$filler;l&&(l.line.updateControlPoints(i,l.axis),s&&l.fill&&B1(t.ctx,l,i))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const s=t.getSortedVisibleDatasetMetas();for(let r=s.length-1;r>=0;--r){const i=s[r].$filler;E6(i)&&B1(t.ctx,i,t.chartArea)}},beforeDatasetDraw(t,e,n){const s=e.meta.$filler;!E6(s)||n.drawTime!=="beforeDatasetDraw"||B1(t.ctx,s,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const R6=(t,e)=>{let{boxHeight:n=e,boxWidth:s=e}=t;return t.usePointStyle&&(n=Math.min(n,e),s=t.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(e,n)}},owe=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class M6 extends Tc{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,s){this.maxWidth=e,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=vn(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(s=>e.filter(s,this.chart.data))),e.sort&&(n=n.sort((s,r)=>e.sort(s,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,r=qs(s.font),i=r.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=R6(s,i);let d,u;n.font=r.string,this.isHorizontal()?(d=this.maxWidth,u=this._fitRows(o,i,l,c)+10):(u=this.maxHeight,d=this._fitCols(o,r,l,c)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,s,r){const{ctx:i,maxWidth:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.lineWidths=[0],u=r+l;let h=e;i.textAlign="left",i.textBaseline="middle";let f=-1,m=-u;return this.legendItems.forEach((g,p)=>{const w=s+n/2+i.measureText(g.text).width;(p===0||d[d.length-1]+w+2*l>o)&&(h+=u,d[d.length-(p>0?0:1)]=0,m+=u,f++),c[p]={left:0,top:m,row:f,width:w,height:r},d[d.length-1]+=w+l}),h}_fitCols(e,n,s,r){const{ctx:i,maxHeight:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.columnSizes=[],u=o-e;let h=l,f=0,m=0,g=0,p=0;return this.legendItems.forEach((w,b)=>{const{itemWidth:y,itemHeight:N}=lwe(s,n,i,w,r);b>0&&m+N+2*l>u&&(h+=f+l,d.push({width:f,height:m}),g+=f+l,p++,f=m=0),c[b]={left:g,top:m,col:p,width:y,height:N},f=Math.max(f,y),m+=N+l}),h+=f,d.push({width:f,height:m}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:r},rtl:i}}=this,o=th(i,this.left,this.width);if(this.isHorizontal()){let l=0,c=Os(s,this.left+r,this.right-this.lineWidths[l]);for(const d of n)l!==d.row&&(l=d.row,c=Os(s,this.left+r,this.right-this.lineWidths[l])),d.top+=this.top+e+r,d.left=o.leftForLtr(o.x(c),d.width),c+=d.width+r}else{let l=0,c=Os(s,this.top+e+r,this.bottom-this.columnSizes[l].height);for(const d of n)d.col!==l&&(l=d.col,c=Os(s,this.top+e+r,this.bottom-this.columnSizes[l].height)),d.top=c,d.left+=this.left+r,d.left=o.leftForLtr(o.x(d.left),d.width),c+=d.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Ib(e,this),this._draw(),Pb(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:s,ctx:r}=this,{align:i,labels:o}=e,l=qn.color,c=th(e.rtl,this.left,this.width),d=qs(o.font),{padding:u}=o,h=d.size,f=h/2;let m;this.drawTitle(),r.textAlign=c.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=d.string;const{boxWidth:g,boxHeight:p,itemHeight:w}=R6(o,h),b=function(T,_,R){if(isNaN(g)||g<=0||isNaN(p)||p<0)return;r.save();const B=$t(R.lineWidth,1);if(r.fillStyle=$t(R.fillStyle,l),r.lineCap=$t(R.lineCap,"butt"),r.lineDashOffset=$t(R.lineDashOffset,0),r.lineJoin=$t(R.lineJoin,"miter"),r.lineWidth=B,r.strokeStyle=$t(R.strokeStyle,l),r.setLineDash($t(R.lineDash,[])),o.usePointStyle){const V={radius:p*Math.SQRT2/2,pointStyle:R.pointStyle,rotation:R.rotation,borderWidth:B},U=c.xPlus(T,g/2),L=_+f;YU(r,V,U,L,o.pointStyleWidth&&g)}else{const V=_+Math.max((h-p)/2,0),U=c.leftForLtr(T,g),L=eh(R.borderRadius);r.beginPath(),Object.values(L).some(M=>M!==0)?iv(r,{x:U,y:V,w:g,h:p,radius:L}):r.rect(U,V,g,p),r.fill(),B!==0&&r.stroke()}r.restore()},y=function(T,_,R){$p(r,R.text,T,_+w/2,d,{strikethrough:R.hidden,textAlign:c.textAlign(R.textAlign)})},N=this.isHorizontal(),A=this._computeTitleHeight();N?m={x:Os(i,this.left+u,this.right-s[0]),y:this.top+u+A,line:0}:m={x:this.left+u,y:Os(i,this.top+A+u,this.bottom-n[0].height),line:0},sV(this.ctx,e.textDirection);const S=w+u;this.legendItems.forEach((T,_)=>{r.strokeStyle=T.fontColor,r.fillStyle=T.fontColor;const R=r.measureText(T.text).width,B=c.textAlign(T.textAlign||(T.textAlign=o.textAlign)),V=g+f+R;let U=m.x,L=m.y;c.setWidth(this.width),N?_>0&&U+V+u>this.right&&(L=m.y+=S,m.line++,U=m.x=Os(i,this.left+u,this.right-s[m.line])):_>0&&L+S>this.bottom&&(U=m.x=U+n[m.line].width+u,m.line++,L=m.y=Os(i,this.top+A+u,this.bottom-n[m.line].height));const M=c.x(U);if(b(M,L,T),U=Kxe(B,U+g+f,N?U+V:this.right,e.rtl),y(c.x(U),L,T),N)m.x+=V+u;else if(typeof T.text!="string"){const x=d.lineHeight;m.y+=AV(T,x)+u}else m.y+=S}),rV(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,s=qs(n.font),r=Ti(n.padding);if(!n.display)return;const i=th(e.rtl,this.left,this.width),o=this.ctx,l=n.position,c=s.size/2,d=r.top+c;let u,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+d,h=Os(e.align,h,this.right-f);else{const g=this.columnSizes.reduce((p,w)=>Math.max(p,w.height),0);u=d+Os(e.align,this.top,this.bottom-g-e.labels.padding-this._computeTitleHeight())}const m=Os(l,h,h+f);o.textAlign=i.textAlign(FT(l)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=s.string,$p(o,n.text,m,u,s)}_computeTitleHeight(){const e=this.options.title,n=qs(e.font),s=Ti(e.padding);return e.display?n.lineHeight+s.height:0}_getLegendItemAt(e,n){let s,r,i;if(Bl(e,this.left,this.right)&&Bl(n,this.top,this.bottom)){for(i=this.legendHitBoxes,s=0;s<i.length;++s)if(r=i[s],Bl(e,r.left,r.left+r.width)&&Bl(n,r.top,r.top+r.height))return this.legendItems[s]}return null}handleEvent(e){const n=this.options;if(!uwe(e.type,n))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,i=owe(r,s);r&&!i&&vn(n.onLeave,[e,r,this],this),this._hoveredItem=s,s&&!i&&vn(n.onHover,[e,s,this],this)}else s&&vn(n.onClick,[e,s,this],this)}}function lwe(t,e,n,s,r){const i=cwe(s,t,e,n),o=dwe(r,s,e.lineHeight);return{itemWidth:i,itemHeight:o}}function cwe(t,e,n,s){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((i,o)=>i.length>o.length?i:o)),e+n.size/2+s.measureText(r).width}function dwe(t,e,n){let s=t;return typeof e.text!="string"&&(s=AV(e,n)),s}function AV(t,e){const n=t.text?t.text.length:0;return e*n}function uwe(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var hwe={id:"legend",_element:M6,start(t,e,n){const s=t.legend=new M6({ctx:t.ctx,options:n,chart:t});bi.configure(t,s,n),bi.addBox(t,s)},stop(t){bi.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const s=t.legend;bi.configure(t,s,n),s.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const s=e.datasetIndex,r=n.chart;r.isDatasetVisible(s)?(r.hide(s),e.hidden=!0):(r.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:r,color:i,useBorderRadius:o,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const d=c.controller.getStyle(n?0:void 0),u=Ti(d.borderWidth);return{text:e[c.index].label,fillStyle:d.backgroundColor,fontColor:i,hidden:!c.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:d.borderColor,pointStyle:s||d.pointStyle,rotation:d.rotation,textAlign:r||d.textAlign,borderRadius:o&&(l||d.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class TV extends Tc{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const r=ss(s.text)?s.text.length:1;this._padding=Ti(s.padding);const i=r*qs(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:s,bottom:r,right:i,options:o}=this,l=o.align;let c=0,d,u,h;return this.isHorizontal()?(u=Os(l,s,i),h=n+e,d=i-s):(o.position==="left"?(u=s+e,h=Os(l,r,n),c=ws*-.5):(u=i-e,h=Os(l,n,r),c=ws*.5),d=r-n),{titleX:u,titleY:h,maxWidth:d,rotation:c}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const s=qs(n.font),i=s.lineHeight/2+this._padding.top,{titleX:o,titleY:l,maxWidth:c,rotation:d}=this._drawArgs(i);$p(e,n.text,0,0,s,{color:n.color,maxWidth:c,rotation:d,textAlign:FT(n.align),textBaseline:"middle",translation:[o,l]})}}function fwe(t,e){const n=new TV({ctx:t.ctx,options:e,chart:t});bi.configure(t,n,e),bi.addBox(t,n),t.titleBlock=n}var mwe={id:"title",_element:TV,start(t,e,n){fwe(t,n)},stop(t){const e=t.titleBlock;bi.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const s=t.titleBlock;bi.configure(t,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const rm={average(t){if(!t.length)return!1;let e,n,s=new Set,r=0,i=0;for(e=0,n=t.length;e<n;++e){const l=t[e].element;if(l&&l.hasValue()){const c=l.tooltipPosition();s.add(c.x),r+=c.y,++i}}return i===0||s.size===0?!1:{x:[...s].reduce((l,c)=>l+c)/s.size,y:r/i}},nearest(t,e){if(!t.length)return!1;let n=e.x,s=e.y,r=Number.POSITIVE_INFINITY,i,o,l;for(i=0,o=t.length;i<o;++i){const c=t[i].element;if(c&&c.hasValue()){const d=c.getCenterPoint(),u=Pk(e,d);u<r&&(r=u,l=c)}}if(l){const c=l.tooltipPosition();n=c.x,s=c.y}return{x:n,y:s}}};function va(t,e){return e&&(ss(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function ho(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function pwe(t,e){const{element:n,datasetIndex:s,index:r}=e,i=t.getDatasetMeta(s).controller,{label:o,value:l}=i.getLabelAndValue(r);return{chart:t,label:o,parsed:i.getParsed(r),raw:t.data.datasets[s].data[r],formattedValue:l,dataset:i.getDataset(),dataIndex:r,datasetIndex:s,element:n}}function O6(t,e){const n=t.chart.ctx,{body:s,footer:r,title:i}=t,{boxWidth:o,boxHeight:l}=e,c=qs(e.bodyFont),d=qs(e.titleFont),u=qs(e.footerFont),h=i.length,f=r.length,m=s.length,g=Ti(e.padding);let p=g.height,w=0,b=s.reduce((A,S)=>A+S.before.length+S.lines.length+S.after.length,0);if(b+=t.beforeBody.length+t.afterBody.length,h&&(p+=h*d.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),b){const A=e.displayColors?Math.max(l,c.lineHeight):c.lineHeight;p+=m*A+(b-m)*c.lineHeight+(b-1)*e.bodySpacing}f&&(p+=e.footerMarginTop+f*u.lineHeight+(f-1)*e.footerSpacing);let y=0;const N=function(A){w=Math.max(w,n.measureText(A).width+y)};return n.save(),n.font=d.string,sn(t.title,N),n.font=c.string,sn(t.beforeBody.concat(t.afterBody),N),y=e.displayColors?o+2+e.boxPadding:0,sn(s,A=>{sn(A.before,N),sn(A.lines,N),sn(A.after,N)}),y=0,n.font=u.string,sn(t.footer,N),n.restore(),w+=g.width,{width:w,height:p}}function gwe(t,e){const{y:n,height:s}=e;return n<s/2?"top":n>t.height-s/2?"bottom":"center"}function xwe(t,e,n,s){const{x:r,width:i}=s,o=n.caretSize+n.caretPadding;if(t==="left"&&r+i+o>e.width||t==="right"&&r-i-o<0)return!0}function ywe(t,e,n,s){const{x:r,width:i}=n,{width:o,chartArea:{left:l,right:c}}=t;let d="center";return s==="center"?d=r<=(l+c)/2?"left":"right":r<=i/2?d="left":r>=o-i/2&&(d="right"),xwe(d,t,e,n)&&(d="center"),d}function D6(t,e,n){const s=n.yAlign||e.yAlign||gwe(t,n);return{xAlign:n.xAlign||e.xAlign||ywe(t,e,n,s),yAlign:s}}function vwe(t,e){let{x:n,width:s}=t;return e==="right"?n-=s:e==="center"&&(n-=s/2),n}function bwe(t,e,n){let{y:s,height:r}=t;return e==="top"?s+=n:e==="bottom"?s-=r+n:s-=r/2,s}function $6(t,e,n,s){const{caretSize:r,caretPadding:i,cornerRadius:o}=t,{xAlign:l,yAlign:c}=n,d=r+i,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:m}=eh(o);let g=vwe(e,l);const p=bwe(e,c,d);return c==="center"?l==="left"?g+=d:l==="right"&&(g-=d):l==="left"?g-=Math.max(u,f)+r:l==="right"&&(g+=Math.max(h,m)+r),{x:Yr(g,0,s.width-e.width),y:Yr(p,0,s.height-e.height)}}function L0(t,e,n){const s=Ti(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-s.right:t.x+s.left}function F6(t){return va([],ho(t))}function wwe(t,e,n){return Jd(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function L6(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const CV={beforeTitle:lo,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return n[e.dataIndex]}return""},afterTitle:lo,beforeBody:lo,beforeLabel:lo,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return tn(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:lo,afterBody:lo,beforeFooter:lo,footer:lo,afterFooter:lo};function xr(t,e,n,s){const r=t[e].call(n,s);return typeof r>"u"?CV[e].call(n,s):r}class Fk extends Tc{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,s=this.options.setContext(this.getContext()),r=s.enabled&&n.options.animation&&s.animations,i=new cV(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=wwe(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:s}=n,r=xr(s,"beforeTitle",this,e),i=xr(s,"title",this,e),o=xr(s,"afterTitle",this,e);let l=[];return l=va(l,ho(r)),l=va(l,ho(i)),l=va(l,ho(o)),l}getBeforeBody(e,n){return F6(xr(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:s}=n,r=[];return sn(e,i=>{const o={before:[],lines:[],after:[]},l=L6(s,i);va(o.before,ho(xr(l,"beforeLabel",this,i))),va(o.lines,xr(l,"label",this,i)),va(o.after,ho(xr(l,"afterLabel",this,i))),r.push(o)}),r}getAfterBody(e,n){return F6(xr(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:s}=n,r=xr(s,"beforeFooter",this,e),i=xr(s,"footer",this,e),o=xr(s,"afterFooter",this,e);let l=[];return l=va(l,ho(r)),l=va(l,ho(i)),l=va(l,ho(o)),l}_createItems(e){const n=this._active,s=this.chart.data,r=[],i=[],o=[];let l=[],c,d;for(c=0,d=n.length;c<d;++c)l.push(pwe(this.chart,n[c]));return e.filter&&(l=l.filter((u,h,f)=>e.filter(u,h,f,s))),e.itemSort&&(l=l.sort((u,h)=>e.itemSort(u,h,s))),sn(l,u=>{const h=L6(e.callbacks,u);r.push(xr(h,"labelColor",this,u)),i.push(xr(h,"labelPointStyle",this,u)),o.push(xr(h,"labelTextColor",this,u))}),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=l,l}update(e,n){const s=this.options.setContext(this.getContext()),r=this._active;let i,o=[];if(!r.length)this.opacity!==0&&(i={opacity:0});else{const l=rm[s.position].call(this,r,this._eventPosition);o=this._createItems(s),this.title=this.getTitle(o,s),this.beforeBody=this.getBeforeBody(o,s),this.body=this.getBody(o,s),this.afterBody=this.getAfterBody(o,s),this.footer=this.getFooter(o,s);const c=this._size=O6(this,s),d=Object.assign({},l,c),u=D6(this.chart,s,d),h=$6(s,d,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,i={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,s,r){const i=this.getCaretPosition(e,s,r);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(e,n,s){const{xAlign:r,yAlign:i}=this,{caretSize:o,cornerRadius:l}=s,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:h}=eh(l),{x:f,y:m}=e,{width:g,height:p}=n;let w,b,y,N,A,S;return i==="center"?(A=m+p/2,r==="left"?(w=f,b=w-o,N=A+o,S=A-o):(w=f+g,b=w+o,N=A-o,S=A+o),y=w):(r==="left"?b=f+Math.max(c,u)+o:r==="right"?b=f+g-Math.max(d,h)-o:b=this.caretX,i==="top"?(N=m,A=N-o,w=b-o,y=b+o):(N=m+p,A=N+o,w=b+o,y=b-o),S=N),{x1:w,x2:b,x3:y,y1:N,y2:A,y3:S}}drawTitle(e,n,s){const r=this.title,i=r.length;let o,l,c;if(i){const d=th(s.rtl,this.x,this.width);for(e.x=L0(this,s.titleAlign,s),n.textAlign=d.textAlign(s.titleAlign),n.textBaseline="middle",o=qs(s.titleFont),l=s.titleSpacing,n.fillStyle=s.titleColor,n.font=o.string,c=0;c<i;++c)n.fillText(r[c],d.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+l,c+1===i&&(e.y+=s.titleMarginBottom-l)}}_drawColorBox(e,n,s,r,i){const o=this.labelColors[s],l=this.labelPointStyles[s],{boxHeight:c,boxWidth:d}=i,u=qs(i.bodyFont),h=L0(this,"left",i),f=r.x(h),m=c<u.lineHeight?(u.lineHeight-c)/2:0,g=n.y+m;if(i.usePointStyle){const p={radius:Math.min(d,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},w=r.leftForLtr(f,d)+d/2,b=g+c/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,Rk(e,p,w,b),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Rk(e,p,w,b)}else{e.lineWidth=qt(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const p=r.leftForLtr(f,d),w=r.leftForLtr(r.xPlus(f,1),d-2),b=eh(o.borderRadius);Object.values(b).some(y=>y!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,iv(e,{x:p,y:g,w:d,h:c,radius:b}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),iv(e,{x:w,y:g+1,w:d-2,h:c-2,radius:b}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(p,g,d,c),e.strokeRect(p,g,d,c),e.fillStyle=o.backgroundColor,e.fillRect(w,g+1,d-2,c-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,n,s){const{body:r}=this,{bodySpacing:i,bodyAlign:o,displayColors:l,boxHeight:c,boxWidth:d,boxPadding:u}=s,h=qs(s.bodyFont);let f=h.lineHeight,m=0;const g=th(s.rtl,this.x,this.width),p=function(R){n.fillText(R,g.x(e.x+m),e.y+f/2),e.y+=f+i},w=g.textAlign(o);let b,y,N,A,S,T,_;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,e.x=L0(this,w,s),n.fillStyle=s.bodyColor,sn(this.beforeBody,p),m=l&&w!=="right"?o==="center"?d/2+u:d+2+u:0,A=0,T=r.length;A<T;++A){for(b=r[A],y=this.labelTextColors[A],n.fillStyle=y,sn(b.before,p),N=b.lines,l&&N.length&&(this._drawColorBox(n,e,A,g,s),f=Math.max(h.lineHeight,c)),S=0,_=N.length;S<_;++S)p(N[S]),f=h.lineHeight;sn(b.after,p)}m=0,f=h.lineHeight,sn(this.afterBody,p),e.y-=i}drawFooter(e,n,s){const r=this.footer,i=r.length;let o,l;if(i){const c=th(s.rtl,this.x,this.width);for(e.x=L0(this,s.footerAlign,s),e.y+=s.footerMarginTop,n.textAlign=c.textAlign(s.footerAlign),n.textBaseline="middle",o=qs(s.footerFont),n.fillStyle=s.footerColor,n.font=o.string,l=0;l<i;++l)n.fillText(r[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+s.footerSpacing}}drawBackground(e,n,s,r){const{xAlign:i,yAlign:o}=this,{x:l,y:c}=e,{width:d,height:u}=s,{topLeft:h,topRight:f,bottomLeft:m,bottomRight:g}=eh(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(l+h,c),o==="top"&&this.drawCaret(e,n,s,r),n.lineTo(l+d-f,c),n.quadraticCurveTo(l+d,c,l+d,c+f),o==="center"&&i==="right"&&this.drawCaret(e,n,s,r),n.lineTo(l+d,c+u-g),n.quadraticCurveTo(l+d,c+u,l+d-g,c+u),o==="bottom"&&this.drawCaret(e,n,s,r),n.lineTo(l+m,c+u),n.quadraticCurveTo(l,c+u,l,c+u-m),o==="center"&&i==="left"&&this.drawCaret(e,n,s,r),n.lineTo(l,c+h),n.quadraticCurveTo(l,c,l+h,c),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,s=this.$animations,r=s&&s.x,i=s&&s.y;if(r||i){const o=rm[e.position].call(this,this._active,this._eventPosition);if(!o)return;const l=this._size=O6(this,e),c=Object.assign({},o,this._size),d=D6(n,e,c),u=$6(e,c,d,n);(r._to!==u.x||i._to!==u.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const o=Ti(n.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&l&&(e.save(),e.globalAlpha=s,this.drawBackground(i,e,r,n),sV(e,n.textDirection),i.y+=o.top,this.drawTitle(i,e,n),this.drawBody(i,e,n),this.drawFooter(i,e,n),rV(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const s=this._active,r=e.map(({datasetIndex:l,index:c})=>{const d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[c],index:c}}),i=!nv(s,r),o=this._positionChanged(r,n);(i||o)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],o=this._getActiveElements(e,i,n,s),l=this._positionChanged(o,e),c=n||!nv(o,i)||l;return c&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),c}_getActiveElements(e,n,s,r){const i=this.options;if(e.type==="mouseout")return[];if(!r)return n.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,i.mode,i,s);return i.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:s,caretY:r,options:i}=this,o=rm[i.position].call(this,e,n);return o!==!1&&(s!==o.x||r!==o.y)}}Ge(Fk,"positioners",rm);var Nwe={id:"tooltip",_element:Fk,positioners:rm,afterInit(t,e,n){n&&(t.tooltip=new Fk({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:CV},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const kwe=(t,e,n,s)=>(typeof e=="string"?(n=t.push(e)-1,s.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function jwe(t,e,n,s){const r=t.indexOf(e);if(r===-1)return kwe(t,e,n,s);const i=t.lastIndexOf(e);return r!==i?n:r}const Swe=(t,e)=>t===null?null:Yr(Math.round(t),0,e);function B6(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Lk extends yf{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:r,label:i}of n)s[r]===i&&s.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(tn(e))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===e?n:jwe(s,e,$t(n,e),this._addedLabels),Swe(n,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:s,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),n||(r=this.getLabels().length-1)),this.min=s,this.max=r}buildTicks(){const e=this.min,n=this.max,s=this.options.offset,r=[];let i=this.getLabels();i=e===0&&n===i.length-1?i:i.slice(e,n+1),this._valueRange=Math.max(i.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let o=e;o<=n;o++)r.push({value:o});return r}getLabelForValue(e){return B6.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Ge(Lk,"id","category"),Ge(Lk,"defaults",{ticks:{callback:B6}});function Awe(t,e){const n=[],{bounds:r,step:i,min:o,max:l,precision:c,count:d,maxTicks:u,maxDigits:h,includeBounds:f}=t,m=i||1,g=u-1,{min:p,max:w}=e,b=!tn(o),y=!tn(l),N=!tn(d),A=(w-p)/(h+1);let S=$R((w-p)/g/m)*m,T,_,R,B;if(S<1e-14&&!b&&!y)return[{value:p},{value:w}];B=Math.ceil(w/S)-Math.floor(p/S),B>g&&(S=$R(B*S/g/m)*m),tn(c)||(T=Math.pow(10,c),S=Math.ceil(S*T)/T),r==="ticks"?(_=Math.floor(p/S)*S,R=Math.ceil(w/S)*S):(_=p,R=w),b&&y&&i&&Dxe((l-o)/i,S/1e3)?(B=Math.round(Math.min((l-o)/S,u)),S=(l-o)/B,_=o,R=l):N?(_=b?o:_,R=y?l:R,B=d-1,S=(R-_)/B):(B=(R-_)/S,Rm(B,Math.round(B),S/1e3)?B=Math.round(B):B=Math.ceil(B));const V=Math.max(FR(S),FR(_));T=Math.pow(10,tn(c)?V:c),_=Math.round(_*T)/T,R=Math.round(R*T)/T;let U=0;for(b&&(f&&_!==o?(n.push({value:o}),_<o&&U++,Rm(Math.round((_+U*S)*T)/T,o,U6(o,A,t))&&U++):_<o&&U++);U<B;++U){const L=Math.round((_+U*S)*T)/T;if(y&&L>l)break;n.push({value:L})}return y&&f&&R!==l?n.length&&Rm(n[n.length-1].value,l,U6(l,A,t))?n[n.length-1].value=l:n.push({value:l}):(!y||R===l)&&n.push({value:R}),n}function U6(t,e,{horizontal:n,minRotation:s}){const r=ed(s),i=(n?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+t).length;return Math.min(e/i,o)}class Twe extends yf{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return tn(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:r,max:i}=this;const o=c=>r=n?r:c,l=c=>i=s?i:c;if(e){const c=Ka(r),d=Ka(i);c<0&&d<0?l(0):c>0&&d>0&&o(0)}if(r===i){let c=i===0?1:Math.abs(i*.05);l(i+c),e||o(r-c)}this.min=r,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=e,r;return s?(r=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const r={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,o=Awe(r,i);return e.bounds==="ticks"&&$xe(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const r=(s-n)/Math.max(e.length-1,1)/2;n-=r,s+=r}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(e){return KU(e,this.chart.options.locale,this.options.ticks.format)}}class Bk extends Twe{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Xs(e)?e:0,this.max=Xs(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,s=ed(this.options.ticks.minRotation),r=(e?Math.sin(s):Math.cos(s))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Ge(Bk,"id","linear"),Ge(Bk,"defaults",{ticks:{callback:GU.formatters.numeric}});const Ob={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ar=Object.keys(Ob);function V6(t,e){return t-e}function z6(t,e){if(tn(e))return null;const n=t._adapter,{parser:s,round:r,isoWeekday:i}=t._parseOpts;let o=e;return typeof s=="function"&&(o=s(o)),Xs(o)||(o=typeof s=="string"?n.parse(o,s):n.parse(o)),o===null?null:(r&&(o=r==="week"&&(Op(i)||i===!0)?n.startOf(o,"isoWeek",i):n.startOf(o,r)),+o)}function H6(t,e,n,s){const r=Ar.length;for(let i=Ar.indexOf(t);i<r-1;++i){const o=Ob[Ar[i]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(l*o.size))<=s)return Ar[i]}return Ar[r-1]}function Cwe(t,e,n,s,r){for(let i=Ar.length-1;i>=Ar.indexOf(n);i--){const o=Ar[i];if(Ob[o].common&&t._adapter.diff(r,s,o)>=e-1)return o}return Ar[n?Ar.indexOf(n):0]}function Ewe(t){for(let e=Ar.indexOf(t)+1,n=Ar.length;e<n;++e)if(Ob[Ar[e]].common)return Ar[e]}function W6(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:s,hi:r}=$T(n,e),i=n[s]>=e?n[s]:n[r];t[i]=!0}}function Iwe(t,e,n,s){const r=t._adapter,i=+r.startOf(e[0].value,s),o=e[e.length-1].value;let l,c;for(l=i;l<=o;l=+r.add(l,1,s))c=n[l],c>=0&&(e[c].major=!0);return e}function K6(t,e,n){const s=[],r={},i=e.length;let o,l;for(o=0;o<i;++o)l=e[o],r[l]=o,s.push({value:l,major:!1});return i===0||!n?s:Iwe(t,s,r,n)}class lv extends yf{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const s=e.time||(e.time={}),r=this._adapter=new yve._date(e.adapters.date);r.init(n),_m(s.displayFormats,r.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:z6(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,s=e.time.unit||"day";let{min:r,max:i,minDefined:o,maxDefined:l}=this.getUserBounds();function c(d){!o&&!isNaN(d.min)&&(r=Math.min(r,d.min)),!l&&!isNaN(d.max)&&(i=Math.max(i,d.max))}(!o||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),r=Xs(r)&&!isNaN(r)?r:+n.startOf(Date.now(),s),i=Xs(i)&&!isNaN(i)?i:+n.endOf(Date.now(),s)+1,this.min=Math.min(r,i-1),this.max=Math.max(r+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],s=e[e.length-1]),{min:n,max:s}}buildTicks(){const e=this.options,n=e.time,s=e.ticks,r=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const i=this.min,o=this.max,l=zxe(r,i,o);return this._unit=n.unit||(s.autoSkip?H6(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):Cwe(this,l.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:Ewe(this._unit),this.initOffsets(r),e.reverse&&l.reverse(),K6(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,s=0,r,i;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?n=1-r:n=(this.getDecimalForValue(e[1])-r)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?s=i:s=(i-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=Yr(n,0,o),s=Yr(s,0,o),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const e=this._adapter,n=this.min,s=this.max,r=this.options,i=r.time,o=i.unit||H6(i.minUnit,n,s,this._getLabelCapacity(n)),l=$t(r.ticks.stepSize,1),c=o==="week"?i.isoWeekday:!1,d=Op(c)||c===!0,u={};let h=n,f,m;if(d&&(h=+e.startOf(h,"isoWeek",c)),h=+e.startOf(h,d?"day":o),e.diff(s,n,o)>1e5*l)throw new Error(n+" and "+s+" are too far apart with stepSize of "+l+" "+o);const g=r.ticks.source==="data"&&this.getDataTimestamps();for(f=h,m=0;f<s;f=+e.add(f,l,o),m++)W6(u,f,g);return(f===s||r.bounds==="ticks"||m===1)&&W6(u,f,g),Object.keys(u).sort(V6).map(p=>+p)}getLabelForValue(e){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(e,s.tooltipFormat):n.format(e,s.displayFormats.datetime)}format(e,n){const r=this.options.time.displayFormats,i=this._unit,o=n||r[i];return this._adapter.format(e,o)}_tickFormatFunction(e,n,s,r){const i=this.options,o=i.ticks.callback;if(o)return vn(o,[e,n,s],this);const l=i.time.displayFormats,c=this._unit,d=this._majorUnit,u=c&&l[c],h=d&&l[d],f=s[n],m=d&&h&&f&&f.major;return this._adapter.format(e,r||(m?h:u))}generateTickLabels(e){let n,s,r;for(n=0,s=e.length;n<s;++n)r=e[n],r.label=this._tickFormatFunction(r.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,s=this.ctx.measureText(e).width,r=ed(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(r),o=Math.sin(r),l=this._resolveTickFontOptions(0).size;return{w:s*i+l*o,h:s*o+l*i}}_getLabelCapacity(e){const n=this.options.time,s=n.displayFormats,r=s[n.unit]||s.millisecond,i=this._tickFormatFunction(e,0,K6(this,[e],this._majorUnit),r),o=this._getLabelSize(i),l=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],n,s;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,s=r.length;n<s;++n)e=e.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,s;if(e.length)return e;const r=this.getLabels();for(n=0,s=r.length;n<s;++n)e.push(z6(this,r[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return zU(e.sort(V6))}}Ge(lv,"id","time"),Ge(lv,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function B0(t,e,n){let s=0,r=t.length-1,i,o,l,c;n?(e>=t[s].pos&&e<=t[r].pos&&({lo:s,hi:r}=td(t,"pos",e)),{pos:i,time:l}=t[s],{pos:o,time:c}=t[r]):(e>=t[s].time&&e<=t[r].time&&({lo:s,hi:r}=td(t,"time",e)),{time:i,pos:l}=t[s],{time:o,pos:c}=t[r]);const d=o-i;return d?l+(c-l)*(e-i)/d:l}class q6 extends lv{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=B0(n,this.min),this._tableRange=B0(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:s}=this,r=[],i=[];let o,l,c,d,u;for(o=0,l=e.length;o<l;++o)d=e[o],d>=n&&d<=s&&r.push(d);if(r.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(o=0,l=r.length;o<l;++o)u=r[o+1],c=r[o-1],d=r[o],Math.round((u+c)/2)!==d&&i.push({time:d,pos:o/(l-1)});return i}_generate(){const e=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((r,i)=>r-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?e=this.normalize(n.concat(s)):e=n.length?n:s,e=this._cache.all=e,e}getDecimalForValue(e){return(B0(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return B0(this._table,s*this._tableRange+this._minPos,!0)}}Ge(q6,"id","timeseries"),Ge(q6,"defaults",lv.defaults);const EV="label";function G6(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function Pwe(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function IV(t,e){t.labels=e}function PV(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:EV;const s=[];t.datasets=e.map(r=>{const i=t.datasets.find(o=>o[n]===r[n]);return!i||!r.data||s.includes(i)?{...r}:(s.push(i),Object.assign(i,r),i)})}function _we(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:EV;const n={labels:[],datasets:[]};return IV(n,t.labels),PV(n,t.datasets,e),n}function Rwe(t,e){const{height:n=150,width:s=300,redraw:r=!1,datasetIdKey:i,type:o,data:l,options:c,plugins:d=[],fallbackContent:u,updateMode:h,...f}=t,m=v.useRef(null),g=v.useRef(null),p=()=>{m.current&&(g.current=new Rb(m.current,{type:o,data:_we(l,i),options:c&&{...c},plugins:d}),G6(e,g.current))},w=()=>{G6(e,null),g.current&&(g.current.destroy(),g.current=null)};return v.useEffect(()=>{!r&&g.current&&c&&Pwe(g.current,c)},[r,c]),v.useEffect(()=>{!r&&g.current&&IV(g.current.config.data,l.labels)},[r,l.labels]),v.useEffect(()=>{!r&&g.current&&l.datasets&&PV(g.current.config.data,l.datasets,i)},[r,l.datasets]),v.useEffect(()=>{g.current&&(r?(w(),setTimeout(p)):g.current.update(h))},[r,c,l.labels,l.datasets,h]),v.useEffect(()=>{g.current&&(w(),setTimeout(p))},[o]),v.useEffect(()=>(p(),()=>w()),[]),Ae.createElement("canvas",{ref:m,role:"img",height:n,width:s,...f},u)}const Mwe=v.forwardRef(Rwe);function _V(t,e){return Rb.register(e),v.forwardRef((n,s)=>Ae.createElement(Mwe,{...n,ref:s,type:t}))}const Owe=_V("line",Fx),Dwe=_V("bar",$x);Rb.register(Lk,Bk,Ux,Ul,Vx,mwe,Nwe,hwe,awe);const $we=({selectedToken:t,onClose:e,userWallet:n})=>{const{provider:s,signer:r,isConnected:i}=Mn(),[o,l]=v.useState({buys:[],sells:[]}),[c,d]=v.useState([]),[u,h]=v.useState([]),[f,m]=v.useState([]),[g,p]=v.useState([]),[w,b]=v.useState("sell"),[y,N]=v.useState("limit"),[A,S]=v.useState(""),[T,_]=v.useState(""),[R,B]=v.useState(!1),V=!0;v.useEffect(()=>{(async()=>{try{U(),we.success("Marketplace loaded! Permissionless trading is enabled.")}catch(I){console.error("Error initializing marketplace:",I),U()}})()},[t]);const U=()=>{const C=[{orderId:"1",side:"sell",price:1.05,amount:100,total:105,timestamp:Date.now(),user:"0x123...",filled:0,status:"active"},{orderId:"2",side:"sell",price:1.04,amount:250,total:260,timestamp:Date.now(),user:"0x456...",filled:0,status:"active"},{orderId:"3",side:"sell",price:1.03,amount:150,total:154.5,timestamp:Date.now(),user:"0x789...",filled:0,status:"active"},{orderId:"4",side:"sell",price:1.02,amount:300,total:306,timestamp:Date.now(),user:"0xabc...",filled:0,status:"active"},{orderId:"5",side:"sell",price:1.01,amount:200,total:202,timestamp:Date.now(),user:"0xdef...",filled:0,status:"active"}],I=[{orderId:"6",side:"buy",price:.99,amount:150,total:148.5,timestamp:Date.now(),user:"0x111...",filled:0,status:"active"},{orderId:"7",side:"buy",price:.98,amount:200,total:196,timestamp:Date.now(),user:"0x222...",filled:0,status:"active"},{orderId:"8",side:"buy",price:.97,amount:100,total:97,timestamp:Date.now(),user:"0x333...",filled:0,status:"active"},{orderId:"9",side:"buy",price:.96,amount:300,total:288,timestamp:Date.now(),user:"0x444...",filled:0,status:"active"},{orderId:"10",side:"buy",price:.95,amount:250,total:237.5,timestamp:Date.now(),user:"0x555...",filled:0,status:"active"}];l({sells:C.sort(($,G)=>$.price-G.price),buys:I.sort(($,G)=>G.price-$.price)});const F=[{tradeId:"1",price:1,amount:50,timestamp:Date.now()-3e5,side:"buy"},{tradeId:"2",price:.99,amount:75,timestamp:Date.now()-6e5,side:"sell"},{tradeId:"3",price:1.01,amount:25,timestamp:Date.now()-9e5,side:"buy"},{tradeId:"4",price:1,amount:100,timestamp:Date.now()-12e5,side:"sell"},{tradeId:"5",price:1.02,amount:60,timestamp:Date.now()-15e5,side:"buy"}];d(F);const O=Array.from({length:24},($,G)=>t.currentPrice+(Math.random()-.5)*.1);m(O);const k=Array.from({length:24},()=>Math.random()*1e3+500);p(k)},L=async()=>{if(!A||!T){we.error("Please enter valid price and amount");return}if(!i){we.error("Please connect your wallet");return}we.info("Redirecting to OrderBook for advanced trading..."),B(!0);try{const C=parseFloat(A),I=parseInt(T);await new Promise(F=>setTimeout(F,1e3)),w==="sell"?we.success(`Mock sell order created: ${I} tokens at ${C} U2U each`):we.success(`Mock buy order created: ${I} tokens at ${C} U2U each`),U(),S(""),_("")}catch(C){console.error("Mock order creation:",C),we.error("Mock order creation demonstration completed")}finally{B(!1)}},M=async C=>{try{B(!0),we.info("Mock purchase from P2P order..."),await new Promise(I=>setTimeout(I,1e3)),we.success(`Mock purchase completed: ${C.amount} tokens at ${C.price} U2U each`),U()}catch(I){console.error("Mock purchase:",I),we.error("Mock purchase demonstration completed")}finally{B(!1)}},x=async C=>{try{B(!0),we.info("Mock order cancellation..."),await new Promise(I=>setTimeout(I,1e3)),we.success(`Mock order cancelled: ${C}`),U()}catch(I){console.error("Mock cancellation:",I),we.error("Mock cancellation demonstration completed")}finally{B(!1)}},j={labels:Array.from({length:24},(C,I)=>`${I}:00`),datasets:[{label:"Price (ETH)",data:f,borderColor:t.priceChange24h>=0?"#10B981":"#EF4444",backgroundColor:t.priceChange24h>=0?"rgba(16, 185, 129, 0.1)":"rgba(239, 68, 68, 0.1)",borderWidth:2,fill:!0,tension:.4}]},E={labels:Array.from({length:24},(C,I)=>`${I}:00`),datasets:[{label:"Volume",data:g,backgroundColor:"rgba(59, 130, 246, 0.8)",borderColor:"rgb(59, 130, 246)",borderWidth:1}]},D={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{x:{display:!0,grid:{display:!1}},y:{display:!0,grid:{color:"rgba(0, 0, 0, 0.1)"}}}};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl max-w-7xl w-full h-[90vh] overflow-hidden flex flex-col",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-b border-blue-200 p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(na,{className:"w-4 h-4 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-blue-900",children:" Trading Demo Interface"}),a.jsx("p",{className:"text-sm text-blue-700",children:"This is a demonstration interface with mock data."})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Z,{variant:"outline",size:"sm",onClick:()=>window.open("/orderbook","_blank"),className:"bg-white text-blue-600 border-blue-300 hover:bg-blue-50",children:" Open Real OrderBook"}),a.jsx("p",{className:"text-xs text-blue-600",children:"Use OrderBook for actual trading"})]})]})}),a.jsxs("div",{className:"p-6 border-b flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(na,{className:"w-5 h-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-bold text-gray-900",children:t.name}),a.jsxs("p",{className:"text-sm text-gray-600",children:["#",t.tokenId,"  Secondary Market"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[t.currentPrice.toFixed(4)," ETH"]}),a.jsxs("div",{className:`flex items-center justify-center space-x-1 ${t.priceChange24h>=0?"text-green-600":"text-red-600"}`,children:[t.priceChange24h>=0?a.jsx(ns,{className:"w-4 h-4"}):a.jsx(hS,{className:"w-4 h-4"}),a.jsxs("span",{className:"text-sm font-medium",children:[t.priceChange24h>=0?"+":"",t.priceChange24h.toFixed(2),"%"]})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600",children:"24h Volume"}),a.jsxs("p",{className:"font-bold",children:[t.volume24h.toFixed(2)," ETH"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Market Cap"}),a.jsxs("p",{className:"font-bold",children:[(t.marketCap/1e3).toFixed(1),"K ETH"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Your Balance"}),a.jsx("p",{className:"font-bold text-blue-600",children:t.userBalance})]})]})]})]}),a.jsx("div",{className:"mx-6",children:a.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[a.jsx("h3",{className:"font-medium text-green-800 mb-2",children:" Trading Enabled"}),a.jsx("p",{className:"text-sm text-green-600",children:"Permissionless trading is active. No KYC required."})]})}),a.jsx(Z,{variant:"outline",onClick:e,children:"Close"})]}),a.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[a.jsxs("div",{className:"flex-1 flex flex-col",children:[a.jsxs("div",{className:"h-80 p-6 border-b",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Price Chart (24h)"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(Ue,{variant:"outline",children:"1H"}),a.jsx(Ue,{variant:"default",children:"24H"}),a.jsx(Ue,{variant:"outline",children:"7D"}),a.jsx(Ue,{variant:"outline",children:"30D"})]})]}),a.jsx("div",{className:"h-64",children:a.jsx(Owe,{data:j,options:D})})]}),a.jsxs("div",{className:"flex-1 p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"P2P Trading"}),a.jsx("p",{className:"text-sm text-gray-600",children:"List your tokens for sale or buy from other users in the peer-to-peer marketplace"})]}),a.jsxs(zo,{value:w,onValueChange:C=>b(C),children:[a.jsxs(Ho,{className:"grid w-full grid-cols-2",children:[a.jsx(bn,{value:"sell",className:"text-red-600 font-semibold",children:" List Tokens for Sale"}),a.jsx(bn,{value:"buy",className:"text-green-600",children:" Buy from Market"})]}),a.jsx(Nn,{value:"sell",className:"space-y-4",children:a.jsx(Y6,{side:"sell",orderType:y,setOrderType:N,price:A,setPrice:S,amount:T,setAmount:_,onSubmit:L,loading:R,tokenInfo:t,kycVerified:!0})}),a.jsx(Nn,{value:"buy",className:"space-y-4",children:a.jsx(Y6,{side:"buy",orderType:y,setOrderType:N,price:A,setPrice:S,amount:T,setAmount:_,onSubmit:L,loading:R,tokenInfo:t,kycVerified:!0})})]})]})]}),a.jsxs("div",{className:"w-96 border-l flex flex-col",children:[a.jsxs("div",{className:"flex-1 p-4",children:[a.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[a.jsx(Ml,{className:"w-5 h-5 mr-2"}),"Order Book"]}),a.jsx(Fwe,{orderBook:o,currentPrice:t.currentPrice,onBuyFromOrder:M,onCancelOrder:x,userWallet:n,kycVerified:V})]}),a.jsx("div",{className:"h-64 p-4 border-t",children:a.jsxs(zo,{defaultValue:"trades",className:"h-full",children:[a.jsxs(Ho,{className:"grid w-full grid-cols-2 mb-4",children:[a.jsx(bn,{value:"trades",children:"Recent Trades"}),a.jsx(bn,{value:"myorders",children:"My Orders"})]}),a.jsx(Nn,{value:"trades",className:"h-44",children:a.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:c.map(C=>a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${C.side==="buy"?"bg-green-500":"bg-red-500"}`}),a.jsx("span",{className:"font-mono",children:C.price.toFixed(4)})]}),a.jsx("span",{className:"text-gray-600",children:C.amount}),a.jsx("span",{className:"text-xs text-gray-500",children:new Date(C.timestamp).toLocaleTimeString()})]},C.tradeId))})}),a.jsx(Nn,{value:"myorders",className:"h-44",children:a.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:u.length===0?a.jsx("div",{className:"text-center text-gray-500 py-4",children:"No active orders"}):u.map(C=>a.jsxs("div",{className:"flex items-center justify-between text-sm bg-gray-50 p-2 rounded",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsxs("span",{className:"font-mono text-xs",children:[C.price.toFixed(4)," ETH"]}),a.jsxs("span",{className:"text-gray-500 text-xs",children:[C.amount," tokens"]})]}),a.jsx(Ue,{variant:C.status==="active"?"default":"secondary",children:C.status}),C.status==="active"&&a.jsx(Z,{size:"sm",variant:"outline",className:"text-xs h-6 px-2 border-red-300 text-red-600 hover:bg-red-100",onClick:()=>x(C.orderId),children:"Cancel"})]},C.orderId))})})]})})]})]}),a.jsxs("div",{className:"h-32 p-4 border-t",children:[a.jsx("h3",{className:"text-sm font-semibold mb-2",children:"Volume (24h)"}),a.jsx("div",{className:"h-20",children:a.jsx(Dwe,{data:E,options:{...D,scales:{...D.scales,y:{display:!1}}}})})]})]})})},Y6=({side:t,orderType:e,setOrderType:n,price:s,setPrice:r,amount:i,setAmount:o,onSubmit:l,loading:c,tokenInfo:d,kycVerified:u})=>{const h=s&&i?(parseFloat(s)*parseFloat(i)).toFixed(6):"0";return a.jsxs(pe,{children:[a.jsxs(yt,{children:[a.jsxs(vt,{className:`flex items-center ${t==="buy"?"text-green-600":"text-red-600"}`,children:[t==="buy"?a.jsx(Ol,{className:"w-5 h-5 mr-2"}):a.jsx(kq,{className:"w-5 h-5 mr-2"}),t==="buy"?"Buy":"List for Sale"," ",d.symbol]}),t==="sell"&&a.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Create a sell order to list your ",d.symbol," tokens for sale in the P2P marketplace"]})]}),a.jsxs(ge,{className:"space-y-4",children:[a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(Z,{variant:e==="limit"?"default":"outline",size:"sm",onClick:()=>n("limit"),className:"flex-1",children:"Limit Order"}),a.jsx(Z,{variant:e==="market"?"default":"outline",size:"sm",onClick:()=>n("market"),className:"flex-1",children:"Market Order"})]}),e==="limit"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Rt,{htmlFor:"price",children:"Price (ETH)"}),a.jsx(Gt,{id:"price",type:"number",placeholder:"0.0000",value:s,onChange:f=>r(f.target.value),step:"0.0001"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Rt,{htmlFor:"amount",children:"Amount"}),t==="sell"&&a.jsxs("span",{className:"text-xs text-gray-500",children:["Available: ",d.userBalance]})]}),a.jsx(Gt,{id:"amount",type:"number",placeholder:"0",value:i,onChange:f=>o(f.target.value),step:"1"}),t==="sell"&&a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(Z,{variant:"outline",size:"sm",onClick:()=>o((d.userBalance*.25).toString()),children:"25%"}),a.jsx(Z,{variant:"outline",size:"sm",onClick:()=>o((d.userBalance*.5).toString()),children:"50%"}),a.jsx(Z,{variant:"outline",size:"sm",onClick:()=>o((d.userBalance*.75).toString()),children:"75%"}),a.jsx(Z,{variant:"outline",size:"sm",onClick:()=>o(d.userBalance.toString()),children:"Max"})]})]}),a.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Total"}),a.jsxs("span",{className:"font-bold",children:[h," ETH"]})]})}),a.jsx(Z,{onClick:l,disabled:c||!i||e==="limit"&&!s||!u,className:`w-full ${t==="buy"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"} ${u?"":"opacity-50 cursor-not-allowed"}`,children:c?a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating Order..."]}):u?`${t==="buy"?"Buy":"List for Sale"} ${d.symbol}`:"KYC Verification Required"})]})]})},Fwe=({orderBook:t,currentPrice:e,onBuyFromOrder:n,onCancelOrder:s,userWallet:r="",kycVerified:i=!1})=>a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-red-600 mb-2",children:"Sell Orders"}),a.jsxs("div",{className:"space-y-1",children:[t.sells.slice(0,8).map(o=>{const l=o.user.startsWith(r.substring(0,6));return a.jsxs("div",{className:"flex justify-between items-center text-xs bg-red-50 p-2 rounded",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsxs("span",{className:"text-red-600 font-mono",children:[o.price.toFixed(4)," ETH"]}),a.jsx("span",{className:"text-gray-500 text-xs",children:o.user})]}),a.jsx("span",{className:"text-gray-600 font-medium",children:o.amount}),a.jsxs("div",{className:"flex flex-col items-end",children:[a.jsx("span",{className:"text-gray-900 font-medium",children:o.total.toFixed(4)}),l?a.jsx(Z,{size:"sm",variant:"outline",className:"text-xs h-6 px-2 mt-1 border-red-300 text-red-600 hover:bg-red-100",onClick:()=>s==null?void 0:s(o.orderId),children:"Cancel"}):a.jsx(Z,{size:"sm",variant:"default",className:"text-xs h-6 px-2 mt-1 bg-green-600 hover:bg-green-700",onClick:()=>n==null?void 0:n(o),disabled:!i,children:"Buy"})]})]},o.orderId)}),t.sells.length===0&&a.jsx("div",{className:"text-center text-gray-500 py-4",children:"No sell orders available"})]})]}),a.jsx("div",{className:"py-2 px-3 bg-gray-100 rounded text-center",children:a.jsxs("span",{className:"font-bold text-gray-900",children:[e.toFixed(4)," ETH"]})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-green-600 mb-2",children:"Buy Orders"}),a.jsx("div",{className:"space-y-1",children:t.buys.slice(0,5).map(o=>a.jsxs("div",{className:"flex justify-between text-xs",children:[a.jsx("span",{className:"text-green-600 font-mono",children:o.price.toFixed(4)}),a.jsx("span",{className:"text-gray-600",children:o.amount}),a.jsx("span",{className:"text-gray-500",children:o.total.toFixed(2)})]},o.orderId))})]})]}),Lwe=["function isRegistered(address user) external view returns (bool)","function registerIdentity(address user, address provider) external","function getIdentity(address user) external view returns (address)"],Bwe=["function hasValidClaim(address user) external view returns (bool)","function issueClaim(address user) external","function getClaimData(address user) external view returns (tuple(uint256 claimId, uint256 issuanceDate, uint256 expiryDate, bool isValid))"],Uwe=["function canTransfer(address from, address to, uint256 amount) external view returns (bool)","function validateCompliance(address user) external view returns (bool)"];class Vwe{constructor(e,n){Ge(this,"provider");Ge(this,"signer");Ge(this,"identityRegistry",null);Ge(this,"kycVendor",null);Ge(this,"ruleContract",null);Ge(this,"contractsInitialized",!1);this.provider=e,this.signer=n,this.initializeContracts()}async initializeContracts(){try{if(Qn.IDENTITY_REGISTRY&&Qn.MOCK_KYC_VENDOR&&Qn.RULE_CONTRACT){const[e,n,s]=await Promise.all([this.provider.getCode(Qn.IDENTITY_REGISTRY),this.provider.getCode(Qn.MOCK_KYC_VENDOR),this.provider.getCode(Qn.RULE_CONTRACT)]);e!=="0x"&&n!=="0x"&&s!=="0x"?(this.identityRegistry=new Xe(Qn.IDENTITY_REGISTRY,Lwe,this.signer||this.provider),this.kycVendor=new Xe(Qn.MOCK_KYC_VENDOR,Bwe,this.signer||this.provider),this.ruleContract=new Xe(Qn.RULE_CONTRACT,Uwe,this.provider),this.contractsInitialized=!0,console.log("ERC-3643 contracts initialized successfully")):console.warn("One or more ERC-3643 contracts not found at specified addresses")}else console.warn("ERC-3643 contract addresses not configured for current network")}catch(e){console.error("Failed to initialize ERC-3643 contracts:",e)}}async checkComplianceStatus(e){try{if(!this.contractsInitialized||!this.identityRegistry||!this.kycVendor)return console.warn("ERC-3643 contracts not available, returning default compliance status"),{isRegistered:!1,hasValidKYC:!1,canTrade:!1,lastChecked:Date.now()};const n=await this.identityRegistry.isRegistered(e),s=await this.kycVendor.hasValidClaim(e);let r;if(s)try{const o=await this.kycVendor.getClaimData(e);r={claimId:o.claimId.toString(),issuanceDate:Number(o.issuanceDate),expiryDate:Number(o.expiryDate),isValid:o.isValid}}catch(o){console.warn("Could not retrieve KYC claim data:",o)}return{isRegistered:n,hasValidKYC:s,canTrade:n&&s,kycData:r,lastChecked:Date.now()}}catch(n){return console.error("Error checking compliance status:",n),{isRegistered:!1,hasValidKYC:!1,canTrade:!1,lastChecked:Date.now()}}}async registerForKYC(e){if(!this.signer)throw new Error("Signer required for KYC registration");if(!this.contractsInitialized||!this.identityRegistry||!this.kycVendor)throw new Error("ERC-3643 contracts not available. Please ensure you are connected to the correct network.");try{await this.identityRegistry.isRegistered(e)||(console.log("Registering user identity..."),await(await this.identityRegistry.registerIdentity(e,Qn.MOCK_KYC_VENDOR)).wait(),console.log("Identity registered successfully")),console.log("Issuing KYC claim...");const r=await(await this.kycVendor.issueClaim(e)).wait();return console.log("KYC claim issued successfully"),r.transactionHash}catch(n){throw console.error("KYC registration failed:",n),new Error(`KYC registration failed: ${n.message}`)}}async validateTransfer(e,n,s){try{if(!this.contractsInitialized)return console.warn("ERC-3643 contracts not available, allowing transfer"),{canTransfer:!0,reason:"Compliance contracts not available - transfer allowed"};const[r,i]=await Promise.all([this.checkComplianceStatus(e),this.checkComplianceStatus(n)]);if(!r.canTrade)return{canTransfer:!1,reason:"Sender not KYC verified",requiresAction:"Complete KYC verification to enable trading"};if(!i.canTrade)return{canTransfer:!1,reason:"Recipient not KYC verified",requiresAction:"Recipient must complete KYC verification"};if(this.ruleContract)try{if(!await this.ruleContract.canTransfer(e,n,Zr(s.toString())))return{canTransfer:!1,reason:"Transfer blocked by compliance rules",requiresAction:"Contact support for rule clarification"}}catch(o){console.warn("Rule contract validation failed, allowing transfer:",o)}return{canTransfer:!0,reason:"All compliance checks passed"}}catch(r){return console.error("Transfer validation failed:",r),{canTransfer:!1,reason:"Validation error occurred",requiresAction:"Please try again or contact support"}}}async isKYCExpired(e){try{const n=await this.checkComplianceStatus(e);return n.kycData?Math.floor(Date.now()/1e3)>n.kycData.expiryDate:!0}catch(n){return console.error("Error checking KYC expiry:",n),!0}}async getIdentityProvider(e){try{return await this.identityRegistry.getIdentity(e)}catch(n){return console.error("Error getting identity provider:",n),null}}async batchCheckCompliance(e){const n=new Map;try{const s=e.map(i=>this.checkComplianceStatus(i).then(o=>({address:i,status:o})).catch(o=>({address:i,status:{isRegistered:!1,hasValidKYC:!1,canTrade:!1,lastChecked:Date.now()}})));(await Promise.all(s)).forEach(({address:i,status:o})=>{n.set(i,o)})}catch(s){console.error("Batch compliance check failed:",s)}return n}getContractAddresses(){return Qn}formatComplianceStatus(e){return e.canTrade?"Verified ":e.isRegistered&&!e.hasValidKYC?"KYC Pending ":e.isRegistered?"Verification Failed ":"Registration Required "}getKYCTimeToExpiry(e){if(!e.kycData||!e.kycData.isValid)return null;const n=Math.floor(Date.now()/1e3),s=e.kycData.expiryDate-n;if(s<=0)return"Expired";const r=Math.floor(s/(24*60*60)),i=Math.floor(s%(24*60*60)/(60*60));return r>0?`${r} days, ${i} hours`:`${i} hours`}}let V1=null;const cv=(t,e)=>(V1||(V1=new Vwe(t,e)),V1),zwe=Dv("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Ts=v.forwardRef(({className:t,variant:e,...n},s)=>a.jsx("div",{ref:s,role:"alert",className:ut(zwe({variant:e}),t),...n}));Ts.displayName="Alert";const Hwe=v.forwardRef(({className:t,...e},n)=>a.jsx("h5",{ref:n,className:ut("mb-1 font-medium leading-none tracking-tight",t),...e}));Hwe.displayName="AlertTitle";const Cs=v.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:ut("text-sm [&_p]:leading-relaxed",t),...e}));Cs.displayName="AlertDescription";class Uk{static async checkAndSwitchNetwork(e){try{if(!window.ethereum)return we.error("Please install MetaMask to continue"),!1;const n=Et[Nt],s=await window.ethereum.request({method:"eth_chainId"});if(parseInt(s,16)===n.chainId)return!0;if(!window.confirm(`You need to switch to ${n.name} (Chain ID: ${n.chainId}) to use ERC-3643 features. Switch now?`))return we.error("Please switch to the correct network to continue"),!1;try{return await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:`0x${n.chainId.toString(16)}`}]}),we.success(`Switched to ${n.name}`),!0}catch(o){if(o.code===4902)try{return await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:`0x${n.chainId.toString(16)}`,chainName:n.name,nativeCurrency:n.nativeCurrency,rpcUrls:[n.rpcUrl],blockExplorerUrls:[n.blockExplorer]}]}),we.success(`Added and switched to ${n.name}`),!0}catch(l){return console.error("Failed to add network:",l),we.error("Failed to add network. Please add it manually."),!1}else return console.error("Failed to switch network:",o),we.error("Failed to switch network. Please switch manually."),!1}}catch(n){return console.error("Network detection error:",n),we.error("Network detection failed"),!1}}static isCorrectNetwork(e){return e?e===Et[Nt].chainId:!1}static getCurrentNetworkInfo(){return Et[Nt]}static async getNetworkStatus(){try{if(!window.ethereum)return{isConnected:!1,isCorrectNetwork:!1,targetChainId:Et[Nt].chainId,networkName:Et[Nt].name};const e=await window.ethereum.request({method:"eth_chainId"}),n=parseInt(e,16),s=Et[Nt].chainId;return{isConnected:!0,isCorrectNetwork:n===s,currentChainId:n,targetChainId:s,networkName:Et[Nt].name}}catch(e){return console.error("Failed to get network status:",e),{isConnected:!1,isCorrectNetwork:!1,targetChainId:Et[Nt].chainId,networkName:Et[Nt].name}}}}const Wwe=({onNetworkSwitched:t})=>{const{isConnected:e,chainId:n}=Mn(),[s,r]=v.useState(null),[i,o]=v.useState(!1),l=Et[Nt];v.useEffect(()=>{e&&(async()=>{const u=await Uk.getNetworkStatus();r(u)})()},[e,n]);const c=async()=>{o(!0);try{await Uk.checkAndSwitchNetwork()&&t&&t()}catch(d){console.error("Network switch failed:",d)}finally{o(!1)}};return e?s?s.isCorrectNetwork?a.jsxs(Ts,{className:"border-green-200 bg-green-50",children:[a.jsx(Gn,{className:"h-4 w-4 text-green-600"}),a.jsxs(Cs,{className:"text-green-800",children:["Connected to ",l.name," - ERC-3643 features available"]})]}):a.jsxs(pe,{className:"border-gray-800 bg-gray-900",children:[a.jsx(yt,{className:"pb-3",children:a.jsxs(vt,{className:"flex items-center gap-2 text-orange-800",children:[a.jsx(np,{className:"h-5 w-5"}),"Network Switch Required"]})}),a.jsxs(ge,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-orange-700",children:"Current Network:"}),a.jsxs(Ue,{variant:"outline",className:"border-orange-300 text-orange-700",children:["Chain ID: ",s.currentChainId]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-orange-700",children:"Required Network:"}),a.jsxs(Ue,{className:"bg-green-600 text-white",children:[l.name," (Chain ID: ",l.chainId,")"]})]})]}),a.jsx(Ts,{className:"border-orange-300 bg-orange-100",children:a.jsxs(Cs,{className:"text-orange-800 text-sm",children:["ERC-3643 compliance features require connection to ",l.name,". Your existing dApp features will continue to work on any network."]})}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[a.jsx(Z,{onClick:c,disabled:i,className:"flex-1",variant:"default",children:i?"Switching...":`Switch to ${l.name}`}),a.jsxs(Z,{variant:"outline",onClick:()=>window.open(l.blockExplorer,"_blank"),className:"flex items-center gap-2",children:[a.jsx(jh,{className:"h-4 w-4"}),"Explorer"]})]}),a.jsxs("div",{className:"text-xs text-orange-600 space-y-1",children:[a.jsx("p",{children:a.jsx("strong",{children:"Network Details:"})}),a.jsxs("p",{children:[" RPC URL: ",l.rpcUrl]}),a.jsxs("p",{children:[" Chain ID: ",l.chainId]}),a.jsxs("p",{children:[" Currency: ",l.nativeCurrency.symbol]})]})]})]}):a.jsxs(Ts,{children:[a.jsx(TE,{className:"h-4 w-4"}),a.jsx(Cs,{children:"Checking network status..."})]}):a.jsxs(Ts,{children:[a.jsx(TE,{className:"h-4 w-4"}),a.jsx(Cs,{children:"Please connect your wallet to check network status."})]})},Kwe={apiKey:"b083ca16f49fbb6a127f",apiSecret:""},X6="0x...",qwe=["function publishMerkleTree(bytes32 root, string calldata ipfsCID, uint256 expiryTimestamp) external returns (bytes32 treeId)","function verifyKYC(bytes32 treeId, bytes32[] calldata proof) external returns (bool)","function verifyKYCForUser(address user, bytes32 treeId, bytes32[] calldata proof) external view returns (bool)","function isKYCVerified(address user) external view returns (bool)","function getLeafHash(address user) external view returns (bytes32)","function getActiveTreeIds() external view returns (bytes32[] memory)","function getTreeData(bytes32 treeId) external view returns (tuple(bytes32 root, string ipfsCID, uint256 timestamp, uint256 expiryTimestamp, bool isActive, address issuer))"],Gwe=({isOpen:t,onClose:e,userAddress:n,onKYCComplete:s,isAdmin:r=!1})=>{const{provider:i,signer:o,address:l}=Mn(),[c,d]=v.useState(null),[u,h]=v.useState(null),[f,m]=v.useState(null),[g,p]=v.useState(null),w=n||l,[b,y]=v.useState({fullName:"",email:"",dateOfBirth:"",nationality:"",documentType:"passport",documentNumber:"",documentExpiry:"",verificationLevel:"basic"}),[N,A]=v.useState({step:"form",loading:!1}),[S,T]=v.useState(""),[_,R]=v.useState([]);v.useEffect(()=>{(async()=>{if(i){const E=await Uk.getNetworkStatus();p(E);const D=cv(i,o);if(d(D),o&&X6){const C=new Xe(X6,qwe,o);m(C)}}})()},[i,o]),v.useEffect(()=>{t&&f&&B()},[t,f]);const B=async()=>{if(f)try{const j=await f.getActiveTreeIds(),E=await Promise.all(j.map(async D=>{const C=await f.getTreeData(D);return{id:D,...C}}));R(E)}catch(j){console.error("Failed to load active trees:",j)}},V=async()=>{if(!u||!w){we.error("Service not initialized or address missing");return}A(j=>({...j,loading:!0,step:"upload"}));try{const j={address:w,...b,timestamp:Math.floor(Date.now()/1e3),ipAddress:"masked",userAgent:"masked"},E=await u.uploadKYCData(j,{name:`KYC-${w}-${Date.now()}`,keyvalues:{address:w,verificationLevel:b.verificationLevel,type:"individual-kyc"}});A(D=>({...D,ipfsHash:E,step:"verify",loading:!1})),we.success("KYC data uploaded to IPFS successfully!")}catch(j){console.error("KYC upload failed:",j),A(E=>({...E,loading:!1,error:j.message,step:"form"})),we.error(`Upload failed: ${j.message}`)}},U=async()=>{if(!u||!f||!S.trim()){we.error("Missing required data for batch KYC");return}A(j=>({...j,loading:!0}));try{const j=S.split(`
`).map(k=>k.trim()).filter(k=>k&&Ioe(k));if(j.length===0)throw new Error("No valid addresses provided");const E=Xi(Zl(`kyc-salt-${Date.now()}`)),D=u.generateMerkleTree(j,l||"",E),C=await u.uploadMerkleTree(D,{name:`MerkleKYC-Batch-${Date.now()}`,keyvalues:{type:"merkle-kyc-tree",userCount:j.length.toString(),issuer:l||""}}),I=Math.floor(Date.now()/1e3)+365*24*60*60,O=await(await f.publishMerkleTree(D.root,C,I)).wait();A(k=>({...k,loading:!1,ipfsHash:C,transactionHash:O.transactionHash,step:"complete"})),we.success(`Batch KYC published! ${j.length} users can now verify.`),B()}catch(j){console.error("Batch KYC failed:",j),A(E=>({...E,loading:!1,error:j.message})),we.error(`Batch KYC failed: ${j.message}`)}},L=async j=>{if(!f||!u||!w){we.error("Service not initialized");return}A(E=>({...E,loading:!0}));try{const E=await f.getTreeData(j),C=(await u.retrieveFromIPFS(E.ipfsCID)).proofs[w];if(!C)throw new Error("User not found in this KYC batch");const F=await(await f.verifyKYC(j,C)).wait();A(O=>({...O,loading:!1,transactionHash:F.transactionHash,merkleProof:C,step:"complete"})),we.success("KYC verification successful!"),s&&s(!0,{treeId:j,proof:C,txHash:F.transactionHash})}catch(E){console.error("KYC verification failed:",E),A(D=>({...D,loading:!1,error:E.message})),we.error(`Verification failed: ${E.message}`)}},M=()=>{A({step:"form",loading:!1}),y({fullName:"",email:"",dateOfBirth:"",nationality:"",documentType:"passport",documentNumber:"",documentExpiry:"",verificationLevel:"basic"})},x=j=>{navigator.clipboard.writeText(j),we.success("Copied to clipboard!")};return!u&&Kwe.apiKey?a.jsx(ir,{open:t,onOpenChange:e,children:a.jsxs(Vs,{children:[a.jsx(zs,{children:a.jsxs(Hs,{className:"flex items-center",children:[a.jsx(Io,{className:"w-5 h-5 mr-2 text-red-500"}),"Configuration Required"]})}),a.jsxs(Ts,{className:"border-red-200 bg-red-50",children:[a.jsx(Io,{className:"h-4 w-4 text-red-600"}),a.jsx(Cs,{className:"text-red-800",children:"Pinata API credentials are required for enhanced KYC flow. Please configure REACT_APP_PINATA_API_KEY and REACT_APP_PINATA_SECRET environment variables."})]})]})}):a.jsx(ir,{open:t,onOpenChange:e,children:a.jsxs(Vs,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(zs,{children:[a.jsxs(Hs,{className:"flex items-center",children:[a.jsx(Po,{className:"w-5 h-5 mr-2"}),"Enhanced KYC Verification"]}),a.jsx(Ra,{children:"Privacy-preserving KYC using IPFS storage and Merkle proof verification"})]}),a.jsx(Wwe,{onNetworkSwitched:()=>{if(i&&o){const j=cv(i,o);d(j)}}}),a.jsxs(zo,{defaultValue:r?"admin":"user",className:"w-full",children:[a.jsxs(Ho,{className:"grid w-full grid-cols-2",children:[a.jsx(bn,{value:"user",children:"Individual KYC"}),r&&a.jsx(bn,{value:"admin",children:"Batch KYC (Admin)"})]}),a.jsxs(Nn,{value:"user",className:"space-y-6",children:[N.step==="form"&&a.jsxs(pe,{children:[a.jsx(yt,{children:a.jsxs(vt,{className:"flex items-center",children:[a.jsx(Gi,{className:"w-5 h-5 mr-2"}),"KYC Information"]})}),a.jsxs(ge,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Rt,{htmlFor:"fullName",children:"Full Name"}),a.jsx(Gt,{id:"fullName",value:b.fullName,onChange:j=>y(E=>({...E,fullName:j.target.value})),placeholder:"Enter your full name"})]}),a.jsxs("div",{children:[a.jsx(Rt,{htmlFor:"email",children:"Email Address"}),a.jsx(Gt,{id:"email",type:"email",value:b.email,onChange:j=>y(E=>({...E,email:j.target.value})),placeholder:"your@email.com"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Rt,{htmlFor:"dateOfBirth",children:"Date of Birth"}),a.jsx(Gt,{id:"dateOfBirth",type:"date",value:b.dateOfBirth,onChange:j=>y(E=>({...E,dateOfBirth:j.target.value}))})]}),a.jsxs("div",{children:[a.jsx(Rt,{htmlFor:"nationality",children:"Nationality"}),a.jsx(Gt,{id:"nationality",value:b.nationality,onChange:j=>y(E=>({...E,nationality:j.target.value})),placeholder:"Your nationality"})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(Rt,{htmlFor:"documentType",children:"Document Type"}),a.jsxs($h,{value:b.documentType,onValueChange:j=>y(E=>({...E,documentType:j})),children:[a.jsx(Ld,{children:a.jsx(Fh,{})}),a.jsxs(Bd,{children:[a.jsx(kr,{value:"passport",children:"Passport"}),a.jsx(kr,{value:"national_id",children:"National ID"}),a.jsx(kr,{value:"drivers_license",children:"Driver's License"})]})]})]}),a.jsxs("div",{children:[a.jsx(Rt,{htmlFor:"documentNumber",children:"Document Number"}),a.jsx(Gt,{id:"documentNumber",value:b.documentNumber,onChange:j=>y(E=>({...E,documentNumber:j.target.value})),placeholder:"Document number"})]}),a.jsxs("div",{children:[a.jsx(Rt,{htmlFor:"documentExpiry",children:"Document Expiry"}),a.jsx(Gt,{id:"documentExpiry",type:"date",value:b.documentExpiry,onChange:j=>y(E=>({...E,documentExpiry:j.target.value}))})]})]}),a.jsxs("div",{children:[a.jsx(Rt,{htmlFor:"verificationLevel",children:"Verification Level"}),a.jsxs($h,{value:b.verificationLevel,onValueChange:j=>y(E=>({...E,verificationLevel:j})),children:[a.jsx(Ld,{children:a.jsx(Fh,{})}),a.jsxs(Bd,{children:[a.jsx(kr,{value:"basic",children:"Basic (Identity + Email)"}),a.jsx(kr,{value:"enhanced",children:"Enhanced (+ Address Verification)"}),a.jsx(kr,{value:"premium",children:"Premium (+ Income Verification)"})]})]})]}),a.jsxs(Ts,{className:"border-blue-200 bg-blue-50",children:[a.jsx(Ql,{className:"h-4 w-4 text-blue-600"}),a.jsx(Cs,{className:"text-blue-800",children:"Your personal data will be encrypted and stored on IPFS. Only verification status will be recorded on-chain."})]}),a.jsx(Z,{onClick:V,disabled:N.loading||!b.fullName||!b.email,className:"w-full",children:N.loading?a.jsxs("div",{className:"flex items-center",children:[a.jsx(Un,{className:"w-4 h-4 animate-spin mr-2"}),"Uploading to IPFS..."]}):a.jsxs("div",{className:"flex items-center",children:[a.jsx(Tq,{className:"w-4 h-4 mr-2"}),"Submit KYC Data"]})})]})]}),N.step==="verify"&&a.jsxs(pe,{children:[a.jsx(yt,{children:a.jsxs(vt,{className:"flex items-center",children:[a.jsx(Gn,{className:"w-5 h-5 mr-2 text-green-500"}),"Data Uploaded Successfully"]})}),a.jsxs(ge,{className:"space-y-4",children:[a.jsxs(Ts,{className:"border-green-200 bg-green-50",children:[a.jsx(fq,{className:"h-4 w-4 text-green-600"}),a.jsx(Cs,{className:"text-green-800",children:"Your KYC data has been uploaded to IPFS. You can now verify against available Merkle trees."})]}),N.ipfsHash&&a.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[a.jsx(Rt,{className:"text-sm font-medium",children:"IPFS Hash:"}),a.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[a.jsx("code",{className:"text-xs bg-white p-2 rounded border flex-1 truncate",children:N.ipfsHash}),a.jsx(Z,{size:"sm",variant:"outline",onClick:()=>x(N.ipfsHash),children:a.jsx(SE,{className:"w-4 h-4"})}),a.jsx(Z,{size:"sm",variant:"outline",onClick:()=>window.open(`https://gateway.pinata.cloud/ipfs/${N.ipfsHash}`,"_blank"),children:a.jsx(jh,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{className:"font-medium",children:"Available KYC Trees:"}),_.length===0?a.jsxs(Ts,{children:[a.jsx(Ed,{className:"h-4 w-4"}),a.jsx(Cs,{children:"No active KYC trees available. Please wait for an admin to publish a batch."})]}):_.map((j,E)=>a.jsx(pe,{className:"border-gray-200",children:a.jsx(ge,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium",children:["Tree #",E+1]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Issued: ",new Date(j.timestamp*1e3).toLocaleDateString()]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Expires: ",new Date(j.expiryTimestamp*1e3).toLocaleDateString()]})]}),a.jsx(Z,{onClick:()=>L(j.id),disabled:N.loading,children:N.loading?"Verifying...":"Verify KYC"})]})})},j.id))]})]})]}),N.step==="complete"&&a.jsxs(pe,{children:[a.jsx(yt,{children:a.jsxs(vt,{className:"flex items-center",children:[a.jsx(Gn,{className:"w-5 h-5 mr-2 text-green-500"}),"KYC Verification Complete"]})}),a.jsxs(ge,{className:"space-y-4",children:[a.jsxs(Ts,{className:"border-green-200 bg-green-50",children:[a.jsx(Gn,{className:"h-4 w-4 text-green-600"}),a.jsx(Cs,{className:"text-green-800",children:"Your KYC verification has been successfully recorded on-chain. You can now participate in compliant trading."})]}),N.transactionHash&&a.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[a.jsx(Rt,{className:"text-sm font-medium",children:"Transaction Hash:"}),a.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[a.jsx("code",{className:"text-xs bg-white p-2 rounded border flex-1 truncate",children:N.transactionHash}),a.jsx(Z,{size:"sm",variant:"outline",onClick:()=>x(N.transactionHash),children:a.jsx(SE,{className:"w-4 h-4"})}),a.jsx(Z,{size:"sm",variant:"outline",onClick:()=>window.open(`https://Flowscan.xyz/tx/${N.transactionHash}`,"_blank"),children:a.jsx(jh,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx(Z,{onClick:M,variant:"outline",className:"flex-1",children:"Start New KYC"}),a.jsx(Z,{onClick:e,className:"flex-1",children:"Close"})]})]})]})]}),r&&a.jsx(Nn,{value:"admin",className:"space-y-6",children:a.jsxs(pe,{children:[a.jsx(yt,{children:a.jsxs(vt,{className:"flex items-center",children:[a.jsx(Ah,{className:"w-5 h-5 mr-2"}),"Batch KYC Management"]})}),a.jsxs(ge,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Rt,{htmlFor:"batchUsers",children:"User Addresses (one per line)"}),a.jsx(Eb,{id:"batchUsers",placeholder:`0x1234...
0x5678...
0x9abc...`,value:S,onChange:j=>T(j.target.value),rows:6,className:"font-mono text-sm"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Enter Ethereum addresses that have completed KYC verification"})]}),a.jsx(Z,{onClick:U,disabled:N.loading||!S.trim(),className:"w-full",children:N.loading?a.jsxs("div",{className:"flex items-center",children:[a.jsx(Un,{className:"w-4 h-4 animate-spin mr-2"}),"Publishing Batch KYC..."]}):a.jsxs("div",{className:"flex items-center",children:[a.jsx(xq,{className:"w-4 h-4 mr-2"}),"Publish Batch KYC Tree"]})}),_.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{className:"font-medium",children:"Active KYC Trees:"}),_.map((j,E)=>a.jsx(pe,{className:"border-gray-200",children:a.jsx(ge,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium",children:["Tree #",E+1]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Root: ",j.root.substring(0,20),"..."]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["IPFS: ",j.ipfsCID]})]}),a.jsx(Ue,{variant:j.isActive?"default":"secondary",children:j.isActive?"Active":"Inactive"})]})})},j.id))]})]})]})})]}),N.error&&a.jsxs(Ts,{className:"border-red-200 bg-red-50",children:[a.jsx(Io,{className:"h-4 w-4 text-red-600"}),a.jsx(Cs,{className:"text-red-800",children:N.error})]})]})})},Ywe=({userAddress:t,onComplianceVerified:e,showActions:n=!0,compact:s=!1,className:r=""})=>{const{provider:i,signer:o,account:l}=Mn(),[c,d]=v.useState(null),[u,h]=v.useState(!1),[f,m]=v.useState(!1),[g,p]=v.useState(null),[w,b]=v.useState(!1),y=t||l;v.useEffect(()=>{if(i){const R=cv(i,o);p(R)}},[i,o]),v.useEffect(()=>{g&&y&&N()},[g,y]);const N=async()=>{if(!(!g||!y)){m(!0);try{const R=await g.checkComplianceStatus(y);d(R),e&&e(R)}catch(R){console.error("Error checking compliance:",R),we.error("Failed to check compliance status")}finally{m(!1)}}},A=async()=>{if(!(!g||!y)){h(!0);try{we.info("Starting KYC registration...");const R=await g.registerForKYC(y);we.success(`KYC registration successful! Transaction: ${R.substring(0,10)}...`),setTimeout(()=>{N()},2e3)}catch(R){console.error("KYC registration failed:",R),we.error(R.message||"KYC registration failed")}finally{h(!1)}}},S=()=>c?c.canTrade?a.jsx(Gn,{className:"w-5 h-5 text-green-500"}):c.isRegistered?a.jsx(Ed,{className:"w-5 h-5 text-yellow-500"}):a.jsx(Io,{className:"w-5 h-5 text-red-500"}):a.jsx(Po,{className:"w-5 h-5 text-gray-400"}),T=()=>c?c.canTrade?"bg-green-100 text-green-800 border-green-200":c.isRegistered?"bg-yellow-100 text-yellow-800 border-yellow-200":"bg-red-100 text-red-800 border-red-200":"bg-gray-100 text-gray-600",_=R=>`${R.substring(0,6)}...${R.substring(R.length-4)}`;return s?a.jsxs("div",{className:`flex items-center space-x-2 ${r}`,children:[S(),a.jsx(Ue,{variant:"outline",className:T(),children:c?g==null?void 0:g.formatComplianceStatus(c):"Checking..."}),f&&a.jsx(Un,{className:"w-4 h-4 animate-spin text-blue-500"})]}):a.jsxs(pe,{className:`${r}`,children:[a.jsxs(yt,{className:"pb-3",children:[a.jsxs(vt,{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[S(),a.jsx("span",{children:"Compliance Status"})]}),a.jsx(Z,{variant:"ghost",size:"sm",onClick:N,disabled:f,className:"h-8 w-8 p-0",children:a.jsx(Un,{className:`w-4 h-4 ${f?"animate-spin":""}`})})]}),y&&a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx(Sh,{className:"w-4 h-4 inline mr-1"}),_(y)]})]}),a.jsxs(ge,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[S(),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:c?g==null?void 0:g.formatComplianceStatus(c):"Checking..."}),a.jsx("p",{className:"text-sm text-gray-600",children:c!=null&&c.canTrade?"Ready to trade":"Trading restricted"})]})]}),a.jsx(Ue,{className:T(),children:c!=null&&c.canTrade?"Verified":"Pending"})]}),c&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Identity Registered:"}),a.jsx("span",{className:c.isRegistered?"text-green-600":"text-red-600",children:c.isRegistered?"Yes":"No"})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"KYC Verified:"}),a.jsx("span",{className:c.hasValidKYC?"text-green-600":"text-red-600",children:c.hasValidKYC?"Yes":"No"})]}),c.kycData&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"KYC Expires:"}),a.jsx("span",{className:"text-gray-900",children:(g==null?void 0:g.getKYCTimeToExpiry(c))||"Unknown"})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Last Checked:"}),a.jsx("span",{className:"text-gray-600",children:new Date(c.lastChecked).toLocaleTimeString()})]})]}),n&&c&&!c.canTrade&&a.jsxs("div",{className:"space-y-3",children:[!c.isRegistered&&a.jsxs(Ts,{children:[a.jsx(Io,{className:"h-4 w-4"}),a.jsx(Cs,{children:"You need to register for KYC verification to start trading."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{onClick:A,disabled:u,className:"w-full",children:u?a.jsxs("div",{className:"flex items-center",children:[a.jsx(Un,{className:"w-4 h-4 animate-spin mr-2"}),"Registering..."]}):a.jsxs("div",{className:"flex items-center",children:[a.jsx(fS,{className:"w-4 h-4 mr-2"}),c.isRegistered?"Complete KYC":"Start KYC Registration"]})}),a.jsxs(Z,{onClick:()=>b(!0),variant:"outline",className:"w-full",children:[a.jsx(Po,{className:"w-4 h-4 mr-2"}),"Enhanced KYC (IPFS)"]})]})]}),(c==null?void 0:c.canTrade)&&a.jsxs(Ts,{className:"border-green-200 bg-green-50",children:[a.jsx(Gn,{className:"h-4 w-4 text-green-600"}),a.jsx(Cs,{className:"text-green-800",children:"Your account is fully verified and ready for trading!"})]}),g&&a.jsxs("div",{className:"pt-3 border-t",children:[a.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Contract Addresses:"}),a.jsx("div",{className:"space-y-1",children:Object.entries(g.getContractAddresses()).map(([R,B])=>a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsx("span",{className:"text-gray-600",children:R.replace(/_/g," ")}),a.jsxs("a",{href:`https://Flowscan.xyz/address/${B}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-blue-600 hover:underline",children:[_(B),a.jsx(jh,{className:"w-3 h-3 ml-1"})]})]},R))})]}),a.jsx(Gwe,{isOpen:w,onClose:()=>b(!1),userAddress:y,onKYCComplete:R=>{R&&(b(!1),N(),we.success("Enhanced KYC completed successfully!"))}})]})]})},Q6=({children:t,requiresKYC:e=!0,transferDetails:n,onComplianceVerified:s,onComplianceFailed:r,blockingMode:i=!1,customMessage:o})=>{var b,y;const{provider:l,signer:c,account:d}=Mn(),[u,h]=v.useState({isChecking:!1,isCompliant:!1,showComplianceModal:!1,hasChecked:!1}),[f,m]=v.useState(null);v.useEffect(()=>{if(l){const N=cv(l,c);m(N)}},[l,c]),v.useEffect(()=>{f&&d&&e&&g()},[f,d,e]);const g=async()=>{if(!(!f||!d)){h(N=>({...N,isChecking:!0}));try{const N=await f.checkComplianceStatus(d);let A;n&&(A=await f.validateTransfer(n.fromAddress,n.toAddress,n.amount));const S=N.canTrade&&(A?A.canTransfer:!0);if(h(T=>({...T,isChecking:!1,isCompliant:S,complianceStatus:N,transferValidation:A,hasChecked:!0,showComplianceModal:!S&&i})),S&&s)s();else if(!S&&r){const T=(A==null?void 0:A.reason)||"KYC verification required";r(T)}}catch(N){console.error("Compliance check failed:",N),h(A=>({...A,isChecking:!1,isCompliant:!1,hasChecked:!0,showComplianceModal:i})),r&&r("Unable to verify compliance status")}}},p=()=>{h(N=>({...N,showComplianceModal:!1})),setTimeout(()=>{g()},1e3)},w=()=>{h(N=>({...N,showComplianceModal:!1}))};return u.isChecking&&i?a.jsx("div",{className:"flex items-center justify-center p-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Po,{className:"w-5 h-5 animate-pulse text-blue-500"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Checking compliance..."})]})}):!i&&u.hasChecked&&!u.isCompliant?a.jsxs("div",{className:"space-y-3",children:[a.jsxs(Ts,{className:"border-yellow-200 bg-yellow-50",children:[a.jsx(np,{className:"h-4 w-4 text-yellow-600"}),a.jsxs(Cs,{className:"text-yellow-800",children:[o||((b=u.transferValidation)==null?void 0:b.reason)||"KYC verification required for this action",((y=u.transferValidation)==null?void 0:y.requiresAction)&&a.jsx("div",{className:"mt-1 text-sm",children:u.transferValidation.requiresAction})]})]}),t]}):i&&u.hasChecked&&!u.isCompliant?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 bg-gray-100 bg-opacity-75 flex items-center justify-center z-10 rounded-lg",children:a.jsxs("div",{className:"text-center p-4",children:[a.jsx(Po,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Compliance verification required"}),a.jsx(Z,{size:"sm",onClick:()=>h(N=>({...N,showComplianceModal:!0})),children:"Verify Compliance"})]})}),a.jsx("div",{className:"opacity-50 pointer-events-none",children:t})]}),a.jsx(ir,{open:u.showComplianceModal,onOpenChange:w,children:a.jsxs(Vs,{className:"max-w-md",children:[a.jsxs(zs,{children:[a.jsxs(Hs,{className:"flex items-center space-x-2",children:[a.jsx(Po,{className:"w-5 h-5"}),a.jsx("span",{children:"Compliance Verification Required"})]}),a.jsx(Ra,{children:o||"Complete KYC verification to proceed with this action."})]}),a.jsxs("div",{className:"space-y-4",children:[u.transferValidation&&!u.transferValidation.canTransfer&&a.jsxs(Ts,{className:"border-red-200 bg-red-50",children:[a.jsx(np,{className:"h-4 w-4 text-red-600"}),a.jsxs(Cs,{className:"text-red-800",children:[a.jsx("strong",{children:"Transfer Blocked:"})," ",u.transferValidation.reason,u.transferValidation.requiresAction&&a.jsxs("div",{className:"mt-1",children:[a.jsx("strong",{children:"Action Required:"})," ",u.transferValidation.requiresAction]})]})]}),a.jsx(Ywe,{userAddress:d,onComplianceVerified:N=>{N.canTrade&&(p(),we.success("Compliance verified! You can now proceed."))},showActions:!0,className:"border-0 shadow-none p-0"}),n&&a.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg text-sm",children:[a.jsx("h4",{className:"font-medium mb-2",children:"Transaction Details:"}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"From:"}),a.jsxs("span",{className:"font-mono",children:[n.fromAddress.substring(0,10),"..."]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"To:"}),a.jsxs("span",{className:"font-mono",children:[n.toAddress.substring(0,10),"..."]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Amount:"}),a.jsx("span",{children:n.amount})]}),n.tokenId&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Token ID:"}),a.jsx("span",{children:n.tokenId})]})]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(Z,{variant:"outline",onClick:w,className:"flex-1",children:"Cancel"}),a.jsxs(Z,{onClick:g,className:"flex-1",children:[a.jsx(fS,{className:"w-4 h-4 mr-2"}),"Recheck"]})]})]})]})})]}):a.jsx(a.Fragment,{children:t})};var vf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Xwe={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},kl,uj,EM,Qwe=(EM=class{constructor(){dt(this,kl,Xwe);dt(this,uj,!1)}setTimeoutProvider(t){He(this,kl,t)}setTimeout(t,e){return Y(this,kl).setTimeout(t,e)}clearTimeout(t){Y(this,kl).clearTimeout(t)}setInterval(t,e){return Y(this,kl).setInterval(t,e)}clearInterval(t){Y(this,kl).clearInterval(t)}},kl=new WeakMap,uj=new WeakMap,EM),nd=new Qwe;function Jwe(t){setTimeout(t,0)}var zd=typeof window>"u"||"Deno"in globalThis;function sr(){}function Zwe(t,e){return typeof t=="function"?t(e):t}function Vk(t){return typeof t=="number"&&t>=0&&t!==1/0}function RV(t,e){return Math.max(t+(e||0)-Date.now(),0)}function nc(t,e){return typeof t=="function"?t(e):t}function pi(t,e){return typeof t=="function"?t(e):t}function J6(t,e){const{type:n="all",exact:s,fetchStatus:r,predicate:i,queryKey:o,stale:l}=t;if(o){if(s){if(e.queryHash!==KT(o,e.options))return!1}else if(!Lp(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||r&&r!==e.state.fetchStatus||i&&!i(e))}function Z6(t,e){const{exact:n,status:s,predicate:r,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Hd(e.options.mutationKey)!==Hd(i))return!1}else if(!Lp(e.options.mutationKey,i))return!1}return!(s&&e.state.status!==s||r&&!r(e))}function KT(t,e){return((e==null?void 0:e.queryKeyHashFn)||Hd)(t)}function Hd(t){return JSON.stringify(t,(e,n)=>zk(n)?Object.keys(n).sort().reduce((s,r)=>(s[r]=n[r],s),{}):n)}function Lp(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Lp(t[n],e[n])):!1}var e1e=Object.prototype.hasOwnProperty;function MV(t,e){if(t===e)return t;const n=eM(t)&&eM(e);if(!n&&!(zk(t)&&zk(e)))return e;const r=(n?t:Object.keys(t)).length,i=n?e:Object.keys(e),o=i.length,l=n?new Array(o):{};let c=0;for(let d=0;d<o;d++){const u=n?d:i[d],h=t[u],f=e[u];if(h===f){l[u]=h,(n?d<r:e1e.call(t,u))&&c++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){l[u]=f;continue}const m=MV(h,f);l[u]=m,m===h&&c++}return r===o&&c===r?t:l}function dv(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function eM(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function zk(t){if(!tM(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!tM(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function tM(t){return Object.prototype.toString.call(t)==="[object Object]"}function t1e(t){return new Promise(e=>{nd.setTimeout(e,t)})}function Hk(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?MV(t,e):e}function n1e(t,e,n=0){const s=[...t,e];return n&&s.length>n?s.slice(1):s}function s1e(t,e,n=0){const s=[e,...t];return n&&s.length>n?s.slice(0,-1):s}var qT=Symbol();function OV(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===qT?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function DV(t,e){return typeof t=="function"?t(...e):!!t}var rd,jl,sh,IM,r1e=(IM=class extends vf{constructor(){super();dt(this,rd);dt(this,jl);dt(this,sh);He(this,sh,e=>{if(!zd&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Y(this,jl)||this.setEventListener(Y(this,sh))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,jl))==null||e.call(this),He(this,jl,void 0))}setEventListener(e){var n;He(this,sh,e),(n=Y(this,jl))==null||n.call(this),He(this,jl,e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(e){Y(this,rd)!==e&&(He(this,rd,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof Y(this,rd)=="boolean"?Y(this,rd):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},rd=new WeakMap,jl=new WeakMap,sh=new WeakMap,IM),GT=new r1e;function Wk(){let t,e;const n=new Promise((r,i)=>{t=r,e=i});n.status="pending",n.catch(()=>{});function s(r){Object.assign(n,r),delete n.resolve,delete n.reject}return n.resolve=r=>{s({status:"fulfilled",value:r}),t(r)},n.reject=r=>{s({status:"rejected",reason:r}),e(r)},n}var i1e=Jwe;function a1e(){let t=[],e=0,n=l=>{l()},s=l=>{l()},r=i1e;const i=l=>{e?t.push(l):r(()=>{n(l)})},o=()=>{const l=t;t=[],l.length&&r(()=>{s(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{r=l}}}var ds=a1e(),rh,Sl,ih,PM,o1e=(PM=class extends vf{constructor(){super();dt(this,rh,!0);dt(this,Sl);dt(this,ih);He(this,ih,e=>{if(!zd&&window.addEventListener){const n=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}})}onSubscribe(){Y(this,Sl)||this.setEventListener(Y(this,ih))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,Sl))==null||e.call(this),He(this,Sl,void 0))}setEventListener(e){var n;He(this,ih,e),(n=Y(this,Sl))==null||n.call(this),He(this,Sl,e(this.setOnline.bind(this)))}setOnline(e){Y(this,rh)!==e&&(He(this,rh,e),this.listeners.forEach(s=>{s(e)}))}isOnline(){return Y(this,rh)}},rh=new WeakMap,Sl=new WeakMap,ih=new WeakMap,PM),uv=new o1e;function l1e(t){return Math.min(1e3*2**t,3e4)}function $V(t){return(t??"online")==="online"?uv.isOnline():!0}var Kk=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function FV(t){let e=!1,n=0,s;const r=Wk(),i=()=>r.status!=="pending",o=p=>{var w;if(!i()){const b=new Kk(p);f(b),(w=t.onCancel)==null||w.call(t,b)}},l=()=>{e=!0},c=()=>{e=!1},d=()=>GT.isFocused()&&(t.networkMode==="always"||uv.isOnline())&&t.canRun(),u=()=>$V(t.networkMode)&&t.canRun(),h=p=>{i()||(s==null||s(),r.resolve(p))},f=p=>{i()||(s==null||s(),r.reject(p))},m=()=>new Promise(p=>{var w;s=b=>{(i()||d())&&p(b)},(w=t.onPause)==null||w.call(t)}).then(()=>{var p;s=void 0,i()||(p=t.onContinue)==null||p.call(t)}),g=()=>{if(i())return;let p;const w=n===0?t.initialPromise:void 0;try{p=w??t.fn()}catch(b){p=Promise.reject(b)}Promise.resolve(p).then(h).catch(b=>{var T;if(i())return;const y=t.retry??(zd?0:3),N=t.retryDelay??l1e,A=typeof N=="function"?N(n,b):N,S=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,b);if(e||!S){f(b);return}n++,(T=t.onFail)==null||T.call(t,n,b),t1e(A).then(()=>d()?void 0:m()).then(()=>{e?f(b):g()})})};return{promise:r,status:()=>r.status,cancel:o,continue:()=>(s==null||s(),r),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?g():m().then(g),r)}}var id,_M,LV=(_M=class{constructor(){dt(this,id)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Vk(this.gcTime)&&He(this,id,nd.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(zd?1/0:5*60*1e3))}clearGcTimeout(){Y(this,id)&&(nd.clearTimeout(Y(this,id)),He(this,id,void 0))}},id=new WeakMap,_M),ad,ah,mi,od,ps,ig,ld,Hi,fo,RM,c1e=(RM=class extends LV{constructor(e){super();dt(this,Hi);dt(this,ad);dt(this,ah);dt(this,mi);dt(this,od);dt(this,ps);dt(this,ig);dt(this,ld);He(this,ld,!1),He(this,ig,e.defaultOptions),this.setOptions(e.options),this.observers=[],He(this,od,e.client),He(this,mi,Y(this,od).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,He(this,ad,sM(this.options)),this.state=e.state??Y(this,ad),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=Y(this,ps))==null?void 0:e.promise}setOptions(e){if(this.options={...Y(this,ig),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=sM(this.options);n.data!==void 0&&(this.setState(nM(n.data,n.dataUpdatedAt)),He(this,ad,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Y(this,mi).remove(this)}setData(e,n){const s=Hk(this.state.data,e,this.options);return _t(this,Hi,fo).call(this,{data:s,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),s}setState(e,n){_t(this,Hi,fo).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var s,r;const n=(s=Y(this,ps))==null?void 0:s.promise;return(r=Y(this,ps))==null||r.cancel(e),n?n.then(sr).catch(sr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Y(this,ad))}isActive(){return this.observers.some(e=>pi(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===qT||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>nc(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!RV(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(s=>s.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=Y(this,ps))==null||n.continue()}onOnline(){var n;const e=this.observers.find(s=>s.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=Y(this,ps))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Y(this,mi).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(Y(this,ps)&&(Y(this,ld)?Y(this,ps).cancel({revert:!0}):Y(this,ps).cancelRetry()),this.scheduleGc()),Y(this,mi).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||_t(this,Hi,fo).call(this,{type:"invalidate"})}async fetch(e,n){var c,d,u,h,f,m,g,p,w,b,y,N;if(this.state.fetchStatus!=="idle"&&((c=Y(this,ps))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Y(this,ps))return Y(this,ps).continueRetry(),Y(this,ps).promise}if(e&&this.setOptions(e),!this.options.queryFn){const A=this.observers.find(S=>S.options.queryFn);A&&this.setOptions(A.options)}const s=new AbortController,r=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>(He(this,ld,!0),s.signal)})},i=()=>{const A=OV(this.options,n),T=(()=>{const _={client:Y(this,od),queryKey:this.queryKey,meta:this.meta};return r(_),_})();return He(this,ld,!1),this.options.persister?this.options.persister(A,T,this):A(T)},l=(()=>{const A={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:Y(this,od),state:this.state,fetchFn:i};return r(A),A})();(d=this.options.behavior)==null||d.onFetch(l,this),He(this,ah,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=l.fetchOptions)==null?void 0:u.meta))&&_t(this,Hi,fo).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta}),He(this,ps,FV({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,onCancel:A=>{A instanceof Kk&&A.revert&&this.setState({...Y(this,ah),fetchStatus:"idle"}),s.abort()},onFail:(A,S)=>{_t(this,Hi,fo).call(this,{type:"failed",failureCount:A,error:S})},onPause:()=>{_t(this,Hi,fo).call(this,{type:"pause"})},onContinue:()=>{_t(this,Hi,fo).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const A=await Y(this,ps).start();if(A===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(A),(m=(f=Y(this,mi).config).onSuccess)==null||m.call(f,A,this),(p=(g=Y(this,mi).config).onSettled)==null||p.call(g,A,this.state.error,this),A}catch(A){if(A instanceof Kk){if(A.silent)return Y(this,ps).promise;if(A.revert){if(this.state.data===void 0)throw A;return this.state.data}}throw _t(this,Hi,fo).call(this,{type:"error",error:A}),(b=(w=Y(this,mi).config).onError)==null||b.call(w,A,this),(N=(y=Y(this,mi).config).onSettled)==null||N.call(y,this.state.data,A,this),A}finally{this.scheduleGc()}}},ad=new WeakMap,ah=new WeakMap,mi=new WeakMap,od=new WeakMap,ps=new WeakMap,ig=new WeakMap,ld=new WeakMap,Hi=new WeakSet,fo=function(e){const n=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...BV(s.data,this.options),fetchMeta:e.meta??null};case"success":const r={...s,...nM(e.data,e.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return He(this,ah,e.manual?r:void 0),r;case"error":const i=e.error;return{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=n(this.state),ds.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),Y(this,mi).notify({query:this,type:"updated",action:e})})},RM);function BV(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:$V(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function nM(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function sM(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,s=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var vr,Wt,ag,Js,cd,oh,bo,Al,og,lh,ch,dd,ud,Tl,dh,nn,im,qk,Gk,Yk,Xk,Qk,Jk,Zk,UV,MM,d1e=(MM=class extends vf{constructor(e,n){super();dt(this,nn);dt(this,vr);dt(this,Wt);dt(this,ag);dt(this,Js);dt(this,cd);dt(this,oh);dt(this,bo);dt(this,Al);dt(this,og);dt(this,lh);dt(this,ch);dt(this,dd);dt(this,ud);dt(this,Tl);dt(this,dh,new Set);this.options=n,He(this,vr,e),He(this,Al,null),He(this,bo,Wk()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Y(this,Wt).addObserver(this),rM(Y(this,Wt),this.options)?_t(this,nn,im).call(this):this.updateResult(),_t(this,nn,Xk).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ej(Y(this,Wt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ej(Y(this,Wt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,_t(this,nn,Qk).call(this),_t(this,nn,Jk).call(this),Y(this,Wt).removeObserver(this)}setOptions(e){const n=this.options,s=Y(this,Wt);if(this.options=Y(this,vr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof pi(this.options.enabled,Y(this,Wt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");_t(this,nn,Zk).call(this),Y(this,Wt).setOptions(this.options),n._defaulted&&!dv(this.options,n)&&Y(this,vr).getQueryCache().notify({type:"observerOptionsUpdated",query:Y(this,Wt),observer:this});const r=this.hasListeners();r&&iM(Y(this,Wt),s,this.options,n)&&_t(this,nn,im).call(this),this.updateResult(),r&&(Y(this,Wt)!==s||pi(this.options.enabled,Y(this,Wt))!==pi(n.enabled,Y(this,Wt))||nc(this.options.staleTime,Y(this,Wt))!==nc(n.staleTime,Y(this,Wt)))&&_t(this,nn,qk).call(this);const i=_t(this,nn,Gk).call(this);r&&(Y(this,Wt)!==s||pi(this.options.enabled,Y(this,Wt))!==pi(n.enabled,Y(this,Wt))||i!==Y(this,Tl))&&_t(this,nn,Yk).call(this,i)}getOptimisticResult(e){const n=Y(this,vr).getQueryCache().build(Y(this,vr),e),s=this.createResult(n,e);return h1e(this,s)&&(He(this,Js,s),He(this,oh,this.options),He(this,cd,Y(this,Wt).state)),s}getCurrentResult(){return Y(this,Js)}trackResult(e,n){return new Proxy(e,{get:(s,r)=>(this.trackProp(r),n==null||n(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&Y(this,bo).status==="pending"&&Y(this,bo).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(s,r))})}trackProp(e){Y(this,dh).add(e)}getCurrentQuery(){return Y(this,Wt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=Y(this,vr).defaultQueryOptions(e),s=Y(this,vr).getQueryCache().build(Y(this,vr),n);return s.fetch().then(()=>this.createResult(s,n))}fetch(e){return _t(this,nn,im).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),Y(this,Js)))}createResult(e,n){var B;const s=Y(this,Wt),r=this.options,i=Y(this,Js),o=Y(this,cd),l=Y(this,oh),d=e!==s?e.state:Y(this,ag),{state:u}=e;let h={...u},f=!1,m;if(n._optimisticResults){const V=this.hasListeners(),U=!V&&rM(e,n),L=V&&iM(e,s,n,r);(U||L)&&(h={...h,...BV(u.data,e.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:g,errorUpdatedAt:p,status:w}=h;m=h.data;let b=!1;if(n.placeholderData!==void 0&&m===void 0&&w==="pending"){let V;i!=null&&i.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(V=i.data,b=!0):V=typeof n.placeholderData=="function"?n.placeholderData((B=Y(this,ch))==null?void 0:B.state.data,Y(this,ch)):n.placeholderData,V!==void 0&&(w="success",m=Hk(i==null?void 0:i.data,V,n),f=!0)}if(n.select&&m!==void 0&&!b)if(i&&m===(o==null?void 0:o.data)&&n.select===Y(this,og))m=Y(this,lh);else try{He(this,og,n.select),m=n.select(m),m=Hk(i==null?void 0:i.data,m,n),He(this,lh,m),He(this,Al,null)}catch(V){He(this,Al,V)}Y(this,Al)&&(g=Y(this,Al),m=Y(this,lh),p=Date.now(),w="error");const y=h.fetchStatus==="fetching",N=w==="pending",A=w==="error",S=N&&y,T=m!==void 0,R={status:w,fetchStatus:h.fetchStatus,isPending:N,isSuccess:w==="success",isError:A,isInitialLoading:S,isLoading:S,data:m,dataUpdatedAt:h.dataUpdatedAt,error:g,errorUpdatedAt:p,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:y,isRefetching:y&&!N,isLoadingError:A&&!T,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:A&&T,isStale:YT(e,n),refetch:this.refetch,promise:Y(this,bo),isEnabled:pi(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const V=M=>{R.status==="error"?M.reject(R.error):R.data!==void 0&&M.resolve(R.data)},U=()=>{const M=He(this,bo,R.promise=Wk());V(M)},L=Y(this,bo);switch(L.status){case"pending":e.queryHash===s.queryHash&&V(L);break;case"fulfilled":(R.status==="error"||R.data!==L.value)&&U();break;case"rejected":(R.status!=="error"||R.error!==L.reason)&&U();break}}return R}updateResult(){const e=Y(this,Js),n=this.createResult(Y(this,Wt),this.options);if(He(this,cd,Y(this,Wt).state),He(this,oh,this.options),Y(this,cd).data!==void 0&&He(this,ch,Y(this,Wt)),dv(n,e))return;He(this,Js,n);const s=()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!Y(this,dh).size)return!0;const o=new Set(i??Y(this,dh));return this.options.throwOnError&&o.add("error"),Object.keys(Y(this,Js)).some(l=>{const c=l;return Y(this,Js)[c]!==e[c]&&o.has(c)})};_t(this,nn,UV).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&_t(this,nn,Xk).call(this)}},vr=new WeakMap,Wt=new WeakMap,ag=new WeakMap,Js=new WeakMap,cd=new WeakMap,oh=new WeakMap,bo=new WeakMap,Al=new WeakMap,og=new WeakMap,lh=new WeakMap,ch=new WeakMap,dd=new WeakMap,ud=new WeakMap,Tl=new WeakMap,dh=new WeakMap,nn=new WeakSet,im=function(e){_t(this,nn,Zk).call(this);let n=Y(this,Wt).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(sr)),n},qk=function(){_t(this,nn,Qk).call(this);const e=nc(this.options.staleTime,Y(this,Wt));if(zd||Y(this,Js).isStale||!Vk(e))return;const s=RV(Y(this,Js).dataUpdatedAt,e)+1;He(this,dd,nd.setTimeout(()=>{Y(this,Js).isStale||this.updateResult()},s))},Gk=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Y(this,Wt)):this.options.refetchInterval)??!1},Yk=function(e){_t(this,nn,Jk).call(this),He(this,Tl,e),!(zd||pi(this.options.enabled,Y(this,Wt))===!1||!Vk(Y(this,Tl))||Y(this,Tl)===0)&&He(this,ud,nd.setInterval(()=>{(this.options.refetchIntervalInBackground||GT.isFocused())&&_t(this,nn,im).call(this)},Y(this,Tl)))},Xk=function(){_t(this,nn,qk).call(this),_t(this,nn,Yk).call(this,_t(this,nn,Gk).call(this))},Qk=function(){Y(this,dd)&&(nd.clearTimeout(Y(this,dd)),He(this,dd,void 0))},Jk=function(){Y(this,ud)&&(nd.clearInterval(Y(this,ud)),He(this,ud,void 0))},Zk=function(){const e=Y(this,vr).getQueryCache().build(Y(this,vr),this.options);if(e===Y(this,Wt))return;const n=Y(this,Wt);He(this,Wt,e),He(this,ag,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},UV=function(e){ds.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(Y(this,Js))}),Y(this,vr).getQueryCache().notify({query:Y(this,Wt),type:"observerResultsUpdated"})})},MM);function u1e(t,e){return pi(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function rM(t,e){return u1e(t,e)||t.state.data!==void 0&&ej(t,e,e.refetchOnMount)}function ej(t,e,n){if(pi(e.enabled,t)!==!1&&nc(e.staleTime,t)!=="static"){const s=typeof n=="function"?n(t):n;return s==="always"||s!==!1&&YT(t,e)}return!1}function iM(t,e,n,s){return(t!==e||pi(s.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&YT(t,n)}function YT(t,e){return pi(e.enabled,t)!==!1&&t.isStaleByTime(nc(e.staleTime,t))}function h1e(t,e){return!dv(t.getCurrentResult(),e)}function aM(t){return{onFetch:(e,n)=>{var u,h,f,m,g;const s=e.options,r=(f=(h=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],o=((g=e.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let p=!1;const w=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(e.signal.aborted?p=!0:e.signal.addEventListener("abort",()=>{p=!0}),e.signal)})},b=OV(e.options,e.fetchOptions),y=async(N,A,S)=>{if(p)return Promise.reject();if(A==null&&N.pages.length)return Promise.resolve(N);const _=(()=>{const U={client:e.client,queryKey:e.queryKey,pageParam:A,direction:S?"backward":"forward",meta:e.options.meta};return w(U),U})(),R=await b(_),{maxPages:B}=e.options,V=S?s1e:n1e;return{pages:V(N.pages,R,B),pageParams:V(N.pageParams,A,B)}};if(r&&i.length){const N=r==="backward",A=N?f1e:oM,S={pages:i,pageParams:o},T=A(s,S);l=await y(S,T,N)}else{const N=t??i.length;do{const A=c===0?o[0]??s.initialPageParam:oM(s,l);if(c>0&&A==null)break;l=await y(l,A),c++}while(c<N)}return l};e.options.persister?e.fetchFn=()=>{var p,w;return(w=(p=e.options).persister)==null?void 0:w.call(p,d,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=d}}}function oM(t,{pages:e,pageParams:n}){const s=e.length-1;return e.length>0?t.getNextPageParam(e[s],e,n[s],n):void 0}function f1e(t,{pages:e,pageParams:n}){var s;return e.length>0?(s=t.getPreviousPageParam)==null?void 0:s.call(t,e[0],e,n[0],n):void 0}var lg,Sa,Zs,hd,Aa,fl,OM,m1e=(OM=class extends LV{constructor(e){super();dt(this,Aa);dt(this,lg);dt(this,Sa);dt(this,Zs);dt(this,hd);He(this,lg,e.client),this.mutationId=e.mutationId,He(this,Zs,e.mutationCache),He(this,Sa,[]),this.state=e.state||VV(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Y(this,Sa).includes(e)||(Y(this,Sa).push(e),this.clearGcTimeout(),Y(this,Zs).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){He(this,Sa,Y(this,Sa).filter(n=>n!==e)),this.scheduleGc(),Y(this,Zs).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Y(this,Sa).length||(this.state.status==="pending"?this.scheduleGc():Y(this,Zs).remove(this))}continue(){var e;return((e=Y(this,hd))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,l,c,d,u,h,f,m,g,p,w,b,y,N,A,S,T,_,R,B;const n=()=>{_t(this,Aa,fl).call(this,{type:"continue"})},s={client:Y(this,lg),meta:this.options.meta,mutationKey:this.options.mutationKey};He(this,hd,FV({fn:()=>this.options.mutationFn?this.options.mutationFn(e,s):Promise.reject(new Error("No mutationFn found")),onFail:(V,U)=>{_t(this,Aa,fl).call(this,{type:"failed",failureCount:V,error:U})},onPause:()=>{_t(this,Aa,fl).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Y(this,Zs).canRun(this)}));const r=this.state.status==="pending",i=!Y(this,hd).canStart();try{if(r)n();else{_t(this,Aa,fl).call(this,{type:"pending",variables:e,isPaused:i}),await((l=(o=Y(this,Zs).config).onMutate)==null?void 0:l.call(o,e,this,s));const U=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,e,s));U!==this.state.context&&_t(this,Aa,fl).call(this,{type:"pending",context:U,variables:e,isPaused:i})}const V=await Y(this,hd).start();return await((h=(u=Y(this,Zs).config).onSuccess)==null?void 0:h.call(u,V,e,this.state.context,this,s)),await((m=(f=this.options).onSuccess)==null?void 0:m.call(f,V,e,this.state.context,s)),await((p=(g=Y(this,Zs).config).onSettled)==null?void 0:p.call(g,V,null,this.state.variables,this.state.context,this,s)),await((b=(w=this.options).onSettled)==null?void 0:b.call(w,V,null,e,this.state.context,s)),_t(this,Aa,fl).call(this,{type:"success",data:V}),V}catch(V){try{throw await((N=(y=Y(this,Zs).config).onError)==null?void 0:N.call(y,V,e,this.state.context,this,s)),await((S=(A=this.options).onError)==null?void 0:S.call(A,V,e,this.state.context,s)),await((_=(T=Y(this,Zs).config).onSettled)==null?void 0:_.call(T,void 0,V,this.state.variables,this.state.context,this,s)),await((B=(R=this.options).onSettled)==null?void 0:B.call(R,void 0,V,e,this.state.context,s)),V}finally{_t(this,Aa,fl).call(this,{type:"error",error:V})}}finally{Y(this,Zs).runNext(this)}}},lg=new WeakMap,Sa=new WeakMap,Zs=new WeakMap,hd=new WeakMap,Aa=new WeakSet,fl=function(e){const n=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),ds.batch(()=>{Y(this,Sa).forEach(s=>{s.onMutationUpdate(e)}),Y(this,Zs).notify({mutation:this,type:"updated",action:e})})},OM);function VV(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var wo,Wi,cg,DM,p1e=(DM=class extends vf{constructor(e={}){super();dt(this,wo);dt(this,Wi);dt(this,cg);this.config=e,He(this,wo,new Set),He(this,Wi,new Map),He(this,cg,0)}build(e,n,s){const r=new m1e({client:e,mutationCache:this,mutationId:++Bg(this,cg)._,options:e.defaultMutationOptions(n),state:s});return this.add(r),r}add(e){Y(this,wo).add(e);const n=U0(e);if(typeof n=="string"){const s=Y(this,Wi).get(n);s?s.push(e):Y(this,Wi).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Y(this,wo).delete(e)){const n=U0(e);if(typeof n=="string"){const s=Y(this,Wi).get(n);if(s)if(s.length>1){const r=s.indexOf(e);r!==-1&&s.splice(r,1)}else s[0]===e&&Y(this,Wi).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=U0(e);if(typeof n=="string"){const s=Y(this,Wi).get(n),r=s==null?void 0:s.find(i=>i.state.status==="pending");return!r||r===e}else return!0}runNext(e){var s;const n=U0(e);if(typeof n=="string"){const r=(s=Y(this,Wi).get(n))==null?void 0:s.find(i=>i!==e&&i.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ds.batch(()=>{Y(this,wo).forEach(e=>{this.notify({type:"removed",mutation:e})}),Y(this,wo).clear(),Y(this,Wi).clear()})}getAll(){return Array.from(Y(this,wo))}find(e){const n={exact:!0,...e};return this.getAll().find(s=>Z6(n,s))}findAll(e={}){return this.getAll().filter(n=>Z6(e,n))}notify(e){ds.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return ds.batch(()=>Promise.all(e.map(n=>n.continue().catch(sr))))}},wo=new WeakMap,Wi=new WeakMap,cg=new WeakMap,DM);function U0(t){var e;return(e=t.options.scope)==null?void 0:e.id}var No,Cl,br,ko,Mo,zx,tj,$M,g1e=($M=class extends vf{constructor(n,s){super();dt(this,Mo);dt(this,No);dt(this,Cl);dt(this,br);dt(this,ko);He(this,No,n),this.setOptions(s),this.bindMethods(),_t(this,Mo,zx).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var r;const s=this.options;this.options=Y(this,No).defaultMutationOptions(n),dv(this.options,s)||Y(this,No).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Y(this,br),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&Hd(s.mutationKey)!==Hd(this.options.mutationKey)?this.reset():((r=Y(this,br))==null?void 0:r.state.status)==="pending"&&Y(this,br).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=Y(this,br))==null||n.removeObserver(this)}onMutationUpdate(n){_t(this,Mo,zx).call(this),_t(this,Mo,tj).call(this,n)}getCurrentResult(){return Y(this,Cl)}reset(){var n;(n=Y(this,br))==null||n.removeObserver(this),He(this,br,void 0),_t(this,Mo,zx).call(this),_t(this,Mo,tj).call(this)}mutate(n,s){var r;return He(this,ko,s),(r=Y(this,br))==null||r.removeObserver(this),He(this,br,Y(this,No).getMutationCache().build(Y(this,No),this.options)),Y(this,br).addObserver(this),Y(this,br).execute(n)}},No=new WeakMap,Cl=new WeakMap,br=new WeakMap,ko=new WeakMap,Mo=new WeakSet,zx=function(){var s;const n=((s=Y(this,br))==null?void 0:s.state)??VV();He(this,Cl,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},tj=function(n){ds.batch(()=>{var s,r,i,o,l,c,d,u;if(Y(this,ko)&&this.hasListeners()){const h=Y(this,Cl).variables,f=Y(this,Cl).context,m={client:Y(this,No),meta:this.options.meta,mutationKey:this.options.mutationKey};(n==null?void 0:n.type)==="success"?((r=(s=Y(this,ko)).onSuccess)==null||r.call(s,n.data,h,f,m),(o=(i=Y(this,ko)).onSettled)==null||o.call(i,n.data,null,h,f,m)):(n==null?void 0:n.type)==="error"&&((c=(l=Y(this,ko)).onError)==null||c.call(l,n.error,h,f,m),(u=(d=Y(this,ko)).onSettled)==null||u.call(d,void 0,n.error,h,f,m))}this.listeners.forEach(h=>{h(Y(this,Cl))})})},$M),Ta,FM,x1e=(FM=class extends vf{constructor(e={}){super();dt(this,Ta);this.config=e,He(this,Ta,new Map)}build(e,n,s){const r=n.queryKey,i=n.queryHash??KT(r,n);let o=this.get(i);return o||(o=new c1e({client:e,queryKey:r,queryHash:i,options:e.defaultQueryOptions(n),state:s,defaultOptions:e.getQueryDefaults(r)}),this.add(o)),o}add(e){Y(this,Ta).has(e.queryHash)||(Y(this,Ta).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=Y(this,Ta).get(e.queryHash);n&&(e.destroy(),n===e&&Y(this,Ta).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ds.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Y(this,Ta).get(e)}getAll(){return[...Y(this,Ta).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(s=>J6(n,s))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(s=>J6(e,s)):n}notify(e){ds.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){ds.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ds.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ta=new WeakMap,FM),On,El,Il,uh,hh,Pl,fh,mh,LM,y1e=(LM=class{constructor(t={}){dt(this,On);dt(this,El);dt(this,Il);dt(this,uh);dt(this,hh);dt(this,Pl);dt(this,fh);dt(this,mh);He(this,On,t.queryCache||new x1e),He(this,El,t.mutationCache||new p1e),He(this,Il,t.defaultOptions||{}),He(this,uh,new Map),He(this,hh,new Map),He(this,Pl,0)}mount(){Bg(this,Pl)._++,Y(this,Pl)===1&&(He(this,fh,GT.subscribe(async t=>{t&&(await this.resumePausedMutations(),Y(this,On).onFocus())})),He(this,mh,uv.subscribe(async t=>{t&&(await this.resumePausedMutations(),Y(this,On).onOnline())})))}unmount(){var t,e;Bg(this,Pl)._--,Y(this,Pl)===0&&((t=Y(this,fh))==null||t.call(this),He(this,fh,void 0),(e=Y(this,mh))==null||e.call(this),He(this,mh,void 0))}isFetching(t){return Y(this,On).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Y(this,El).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Y(this,On).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=Y(this,On).build(this,e),s=n.state.data;return s===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(nc(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(t){return Y(this,On).findAll(t).map(({queryKey:e,state:n})=>{const s=n.data;return[e,s]})}setQueryData(t,e,n){const s=this.defaultQueryOptions({queryKey:t}),r=Y(this,On).get(s.queryHash),i=r==null?void 0:r.state.data,o=Zwe(e,i);if(o!==void 0)return Y(this,On).build(this,s).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return ds.batch(()=>Y(this,On).findAll(t).map(({queryKey:s})=>[s,this.setQueryData(s,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Y(this,On).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=Y(this,On);ds.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=Y(this,On);return ds.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},s=ds.batch(()=>Y(this,On).findAll(t).map(r=>r.cancel(n)));return Promise.all(s).then(sr).catch(sr)}invalidateQueries(t,e={}){return ds.batch(()=>(Y(this,On).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},s=ds.batch(()=>Y(this,On).findAll(t).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let i=r.fetch(void 0,n);return n.throwOnError||(i=i.catch(sr)),r.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(sr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=Y(this,On).build(this,e);return n.isStaleByTime(nc(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(sr).catch(sr)}fetchInfiniteQuery(t){return t.behavior=aM(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(sr).catch(sr)}ensureInfiniteQueryData(t){return t.behavior=aM(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return uv.isOnline()?Y(this,El).resumePausedMutations():Promise.resolve()}getQueryCache(){return Y(this,On)}getMutationCache(){return Y(this,El)}getDefaultOptions(){return Y(this,Il)}setDefaultOptions(t){He(this,Il,t)}setQueryDefaults(t,e){Y(this,uh).set(Hd(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...Y(this,uh).values()],n={};return e.forEach(s=>{Lp(t,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(t,e){Y(this,hh).set(Hd(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...Y(this,hh).values()],n={};return e.forEach(s=>{Lp(t,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...Y(this,Il).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=KT(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===qT&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Y(this,Il).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Y(this,On).clear(),Y(this,El).clear()}},On=new WeakMap,El=new WeakMap,Il=new WeakMap,uh=new WeakMap,hh=new WeakMap,Pl=new WeakMap,fh=new WeakMap,mh=new WeakMap,LM),zV=v.createContext(void 0),XT=t=>{const e=v.useContext(zV);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},v1e=({client:t,children:e})=>(v.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),a.jsx(zV.Provider,{value:t,children:e})),HV=v.createContext(!1),b1e=()=>v.useContext(HV);HV.Provider;function w1e(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var N1e=v.createContext(w1e()),k1e=()=>v.useContext(N1e),j1e=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},S1e=t=>{v.useEffect(()=>{t.clearReset()},[t])},A1e=({result:t,errorResetBoundary:e,throwOnError:n,query:s,suspense:r})=>t.isError&&!e.isReset()&&!t.isFetching&&s&&(r&&t.data===void 0||DV(n,[t.error,s])),T1e=t=>{if(t.suspense){const n=r=>r==="static"?r:Math.max(r??1e3,1e3),s=t.staleTime;t.staleTime=typeof s=="function"?(...r)=>n(s(...r)):n(s),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},C1e=(t,e)=>t.isLoading&&t.isFetching&&!e,E1e=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,lM=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function I1e(t,e,n){var h,f,m,g,p;const s=b1e(),r=k1e(),i=XT(),o=i.defaultQueryOptions(t);(f=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||f.call(h,o),o._optimisticResults=s?"isRestoring":"optimistic",T1e(o),j1e(o,r),S1e(r);const l=!i.getQueryCache().get(o.queryHash),[c]=v.useState(()=>new e(i,o)),d=c.getOptimisticResult(o),u=!s&&t.subscribed!==!1;if(v.useSyncExternalStore(v.useCallback(w=>{const b=u?c.subscribe(ds.batchCalls(w)):sr;return c.updateResult(),b},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),v.useEffect(()=>{c.setOptions(o)},[o,c]),E1e(o,d))throw lM(o,c,r);if(A1e({result:d,errorResetBoundary:r,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw d.error;if((g=(m=i.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||g.call(m,o,d),o.experimental_prefetchInRender&&!zd&&C1e(d,s)){const w=l?lM(o,c,r):(p=i.getQueryCache().get(o.queryHash))==null?void 0:p.promise;w==null||w.catch(sr).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function WV(t,e){return I1e(t,d1e)}function P1e(t,e){const n=XT(),[s]=v.useState(()=>new g1e(n,t));v.useEffect(()=>{s.setOptions(t)},[s,t]);const r=v.useSyncExternalStore(v.useCallback(o=>s.subscribe(ds.batchCalls(o)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),i=v.useCallback((o,l)=>{s.mutate(o,l).catch(sr)},[s]);if(r.error&&DV(s.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:i,mutateAsync:r.mutate}}const QT=Vn.create({baseURL:"http://localhost:3001/api"});QT.interceptors.request.use(t=>{const e=localStorage.getItem("jwt_token");return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));const JT=({walletAddress:t,status:e,page:n=1,limit:s=50})=>WV({queryKey:["userAssets",t,e,n,s],queryFn:async()=>{const r=new URLSearchParams;e&&r.append("status",e),r.append("page",n.toString()),r.append("limit",s.toString());const{data:i}=await QT.get(`/assets/wallet/${t}?${r}`);return i.data},enabled:!!t,staleTime:3e4,refetchOnWindowFocus:!0}),_1e=()=>{const t=XT();return P1e({mutationFn:async({assetId:e,licenseTermsId:n})=>{const{data:s}=await QT.post("/story/attach-license-to-asset",{assetId:e,licenseTermsId:n});return s.data},onSuccess:(e,n)=>{t.invalidateQueries({queryKey:["userAssets"]}),t.invalidateQueries({queryKey:["asset",n.assetId]})}})},R1e=[{licenseTermsId:"1",type:"commercial_remix",royalty:10,currency:"ETH"},{licenseTermsId:"2",type:"non_commercial",royalty:0,currency:"ETH"},{licenseTermsId:"55",type:"commercial_remix",royalty:15,currency:"USDC"}],M1e=()=>WV({queryKey:["licenseTerms"],queryFn:async()=>Promise.resolve(R1e),staleTime:1/0}),O1e=({onClose:t,onSelect:e,licenseOptions:n,isLoading:s,open:r})=>r?a.jsx(ir,{open:r,onOpenChange:t,children:a.jsxs(Vs,{children:[a.jsx(zs,{children:a.jsx(Hs,{children:"Select License Terms"})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 py-4",children:n==null?void 0:n.map(i=>a.jsxs(pe,{children:[a.jsx(yt,{children:a.jsx(vt,{children:i.type==="commercial_remix"?"Commercial Remix":"Non-Commercial"})}),a.jsxs(ge,{children:[a.jsxs("p",{children:["Royalty: ",i.royalty,"%"]}),a.jsxs("p",{children:["Currency: ",i.currency]}),a.jsx(Z,{onClick:()=>e(i.licenseTermsId),disabled:s,className:"w-full mt-4",children:s?"Attaching...":"Select This License"})]})]},i.licenseTermsId))})]})}):null,D1e=({status:t})=>{const e={registered:"default",pending:"secondary",disputed:"destructive",rejected:"outline"}[t];return a.jsx(Ue,{variant:e,children:t})},KV=({asset:t})=>{const[e,n]=v.useState(!1),s=_1e(),{data:r}=M1e(),i=async l=>{try{await s.mutateAsync({assetId:t._id,licenseTermsId:l}),n(!1)}catch(c){console.error("Failed to attach license:",c)}},o=t.status==="registered"&&t.storyIpId&&!t.licenseTermsId;return a.jsxs(pe,{children:[a.jsx(yt,{children:a.jsx("img",{src:t.ipfsUrl,alt:t.originalFilename,className:"rounded-md"})}),a.jsxs(ge,{children:[a.jsx(vt,{className:"text-lg font-bold mb-2",children:t.originalFilename}),a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx(D1e,{status:t.status}),t.storyIpId?a.jsxs("div",{className:"text-xs",children:["IP ID: ",t.storyIpId.slice(0,10),"..."]}):null]}),t.licenseTermsId?a.jsxs(Ue,{variant:"secondary",children:["Licensed (#",t.licenseTermsId,")"]}):a.jsx(Ue,{variant:"outline",children:"No License"})]}),a.jsx(p9,{children:o&&a.jsx(Z,{onClick:()=>n(!0),className:"w-full",children:"Attach License"})}),a.jsx(O1e,{open:e,onClose:()=>n(!1),onSelect:i,licenseOptions:r,isLoading:s.isPending})]})},cM=[{id:"analytics",label:"IP Analytics",icon:na},{id:"my-ips",label:"My Registered IPs",icon:oq},{id:"my-licenses",label:"My Owned Licenses",icon:Po},{id:"royalties",label:"Royalty Dashboard",icon:cs},{id:"transactions",label:"Transactions",icon:Ml},{id:"profile",label:"Profile",icon:Sh},{id:"notifications",label:"Notifications",icon:zu}];new Date(Date.now()-10*24*60*60*1e3).toISOString(),new Date(Date.now()-5*24*60*60*1e3).toISOString();new Date(Date.now()-3*24*60*60*1e3).toISOString(),new Date(Date.now()-20*24*60*60*1e3).toISOString();const $1e=()=>{const t=no(),[e,n]=v.useState("analytics"),[s,r]=v.useState(!1),[i,o]=v.useState(!0),[l,c]=v.useState(!1),[d,u]=v.useState(!1),{provider:h,signer:f,address:m,isConnected:g}=Mn(),{user:p,isAuthenticated:w,isLoading:b}=_T(),[y,N]=v.useState(null),[A,S]=v.useState(!1),[T,_]=v.useState(null),[R,B]=v.useState([]),[V,U]=v.useState(!1);v.useState([]),v.useState({totalIPs:0,totalLicenses:0,totalRoyaltiesEarned:0,claimableRevenue:0});const[L,M]=v.useState(!1),[x,j]=v.useState([]),[E,D]=v.useState([]),[C,I]=v.useState(0),[F,O]=v.useState([]),[k,$]=v.useState({totalInvestment:0,currentValue:0,totalReturn:0,returnPercentage:0,monthlyIncome:0,totalAssets:0,activeInvestments:0}),[G,P]=v.useState({assets:{isLoading:!1,isFromCache:!1},portfolio:{isLoading:!1,isFromCache:!1},transactions:{isLoading:!1,isFromCache:!1},notifications:{isLoading:!1,isFromCache:!1}}),[z,K]=v.useState(!1),[H,q]=v.useState(null),[Q,J]=v.useState(""),[te,Me]=v.useState(!1),[ee,he]=v.useState(null),[ke,se]=v.useState(null),[X,re]=v.useState(!1),[ve,$e]=v.useState(!1),{data:it,isLoading:Oe,error:ht}=JT({walletAddress:m}),lt=(fe,ye)=>{P(Ze=>({...Ze,[fe]:{...Ze[fe],...ye}}))};v.useEffect(()=>{e==="transactions"&&g&&h&&m&&ze()},[e,g,h,m]),v.useEffect(()=>{e==="notifications"&&g&&h&&m&&Re()},[e,g,h,m,F]),v.useEffect(()=>{if(g&&h&&m){const fe=setInterval(()=>{Re()},3e4);return()=>clearInterval(fe)}},[g,h,m,F]),v.useEffect(()=>{w&&!b&&W()},[w,b]),v.useEffect(()=>{g&&m&&e==="portfolio"&&de()},[g,m,e]),v.useEffect(()=>{e==="profile"&&w&&!y&&W()},[e,w,y]);const me=async()=>{try{if(M(!0),!g){we.error("Please connect your wallet first");return}we.success("Wallet connected successfully!"),await ne(),await ze()}catch(fe){console.error("Wallet connection failed:",fe),we.error(`Failed to connect wallet: ${fe.message||"Unknown error"}`)}finally{M(!1)}},W=async()=>{if(!w){console.log("User not authenticated");return}try{S(!0),_(null);const fe=await Lh.getProfile();if(fe.success)N(fe.data.user),we.success("Profile data loaded successfully");else throw new Error("Failed to fetch profile data")}catch(fe){console.error("Failed to fetch user profile:",fe),_(fe.message||"Failed to load profile data"),we.error(`Failed to load profile: ${fe.message||"Unknown error"}`)}finally{S(!1)}},de=async()=>{if(m){U(!0);try{const ye=JSON.parse(localStorage.getItem("registeredIPAssets")||"[]").filter(Ze=>{var Ke;return((Ke=Ze.creator)==null?void 0:Ke.toLowerCase())===m.toLowerCase()});console.log(` Loaded ${ye.length} registered IP assets from localStorage`),B(ye)}catch(fe){console.error("Failed to load registered IP assets:",fe)}finally{U(!1)}}},ne=async(fe=!1)=>{var ye;if(!g||!h||!m||!f){console.log("Wallet not connected or signer not available");return}try{if(!fe){console.log(" Checking cache for user assets..."),lt("assets",{isLoading:!0,isFromCache:!0});const xe=er.getCachedUserAssets(m),mn=er.getCachedPortfolioData(m);if(xe&&mn){console.log(` Loaded ${xe.length} assets from cache instantly!`),O(xe),$(mn),lt("assets",{isLoading:!1,isFromCache:!0,lastUpdated:Date.now()}),xe.length>0&&we.success(`Portfolio loaded with ${xe.length} assets`),setTimeout(()=>{console.log(" Background refresh starting..."),ne(!0)},3e4);return}else console.log(" No valid cache found, fetching from blockchain...")}lt("assets",{isLoading:!0,isFromCache:!1}),M(!0),console.log(" Loading assets from blockchain for:",m);const Ze=new Xe(Tn,vi,f);console.log(" Step 1: Calling getMyAssets from marketplace...");const Ke=await Ze.getMyAssets(),[qe,xt]=Ke;console.log(" Marketplace assets:",{tokenIds:qe.map(xe=>xe.toString()),amounts:xt.map(xe=>xe.toString())}),console.log(" Step 2: Calling getAllListings...");const Je=await Ze.getAllListings(),[Te,pt,Ye,st]=Je;console.log(" All listings:",{tokenIds:Te.map(xe=>xe.toString()),prices:st.map(xe=>xe.toString())}),console.log(" Step 3: Checking wallet directly for withdrawn tokens...");const Bt=["function uri(uint256 tokenId) external view returns (string memory)","function tokenMetadata(uint256 tokenId) external view returns (string memory)","function tokenPrice(uint256 tokenId) external view returns (uint256)","function balanceOf(address account, uint256 id) external view returns (uint256)"],rt=new Xe(Sr,Bt,f),ct=[{address:Sr,name:"Current ERC1155"},{address:"0xf52D58076D1cC8e9f744c0c845cc6A6E57419032",name:"Legacy ERC1155"}],Ht=new Set;Te.forEach(xe=>{Ht.add(xe.toString())});for(let xe=1;xe<=100;xe++)Ht.add(xe.toString());const at=new Map;for(const xe of ct){console.log(` Checking ${xe.name} contract: ${xe.address}`);try{const mn=new Xe(xe.address,Bt,f);for(const dn of Ht)try{const hn=(await mn.balanceOf(m,dn)).toNumber();if(hn>0){const en=`${xe.address}-${dn}`;at.set(en,{amount:hn,contract:xe.address}),console.log(` Found wallet balance for token ${dn} on ${xe.name}: ${hn}`)}}catch{}}catch(mn){console.warn(` Failed to check contract ${xe.name}:`,mn)}}const Ie=new Map;for(let xe=0;xe<qe.length;xe++){const mn=qe[xe].toString(),dn=xt[xe].toNumber();dn>0&&Ie.set(mn,{amount:dn,source:"marketplace"})}for(const[xe,mn]of at){const[dn,Xn]=xe.split("-"),{amount:hn,contract:en}=mn;if(!Ie.has(Xn))Ie.set(Xn,{amount:hn,source:"wallet",contract:en}),console.log(` Adding withdrawn token ${Xn} from wallet with balance: ${hn} (contract: ${en})`);else{const At=Ie.get(Xn);Ie.set(Xn,{amount:At.amount+hn,source:"marketplace",contract:At.contract||en}),console.log(` Adding additional wallet balance for token ${Xn}: +${hn} (total: ${At.amount+hn})`)}}console.log(` Total owned tokens found: ${Ie.size}`);const oe=["function uri(uint256 tokenId) external view returns (string memory)","function tokenMetadata(uint256 tokenId) external view returns (string memory)","function tokenPrice(uint256 tokenId) external view returns (uint256)"];let De;try{const xe=f||h;De=new Xe(Sr,oe,xe)}catch(xe){console.error(" Failed to initialize metadata token contract:",xe)}const nt=new Map;for(let xe=0;xe<Te.length;xe++)nt.set(Te[xe].toString(),st[xe]);console.log(" Fetching prices for withdrawn tokens...");for(const[xe,mn]of Ie)if(!nt.has(xe))try{console.log(` Fetching price for withdrawn token ${xe}...`);const dn=mn.contract||Sr,hn=await new Xe(dn,oe,f||h).tokenPrice(xe);nt.set(xe,hn),console.log(` Fetched price for token ${xe}: ${Be(hn)} U2U`)}catch(dn){console.warn(` Could not fetch price for token ${xe}:`,dn),nt.set(xe,Zr("1000"))}const jt=async(xe,mn)=>{try{const dn=mn||Sr,Xn=new Xe(dn,oe,f||h);let hn="";try{hn=await Xn.tokenMetadata(xe),console.log(` Metadata URI for token ${xe} (${dn}):`,hn)}catch{try{hn=await Xn.uri(xe),console.log(` Metadata URI (fallback) for token ${xe} (${dn}):`,hn)}catch(mr){console.warn(` Failed to get metadata URI for token ${xe} on ${dn}:`,mr)}}let en=null;if(hn)try{console.log(` Fetching metadata from: ${hn}`),en=(await ln.fetchMetadataWithCache(xe,hn)).metadata,console.log(` Metadata fetched for token ${xe}:`,en)}catch(ms){console.warn(` Failed to fetch metadata for token ${xe}:`,ms)}let At="Unknown";if(en!=null&&en.attributes){const ms=en.attributes.find(mr=>mr.trait_type==="Asset Type");At=(ms==null?void 0:ms.value)||At}else en!=null&&en.assetDetails&&(At=en.assetDetails.assetType||At);const fr=Od(At,xe,dn);console.log(` Selected unique fallback image for token ${xe} (${At}):`,fr);const Qs=d9((en==null?void 0:en.image)||"",en);return console.log(` Enhanced image processing for token ${xe}: ${en==null?void 0:en.image}  ${Qs}`),{imageUrl:Qs,metadata:en,assetType:At}}catch(dn){return console.error(` Error processing metadata for token ${xe}:`,dn),{imageUrl:Od("Real Estate",xe),metadata:null,assetType:"Real World Asset"}}},ae=[],St=new Set;console.log(" Processing all owned tokens (marketplace + wallet)...");for(const[xe,mn]of Ie){const{amount:dn,source:Xn}=mn,hn=nt.get(xe)||un.from(0);if(dn<=0){console.log(` Skipping token ${xe} - zero balance`);continue}if(St.has(xe)){console.log(` Skipping duplicate token ${xe} - already processed`);continue}try{if(await rt.getTokenLifecycleStatus(xe)===2){console.log(` Skipping burned token ${xe} in user dashboard`);continue}}catch{console.warn(` Could not check lifecycle for token ${xe}, including in user dashboard`)}console.log(` Processing token ${xe} from ${Xn} with amount: ${dn}`),St.add(xe),console.log(` Processing metadata for token ${xe}...`);const{imageUrl:en,metadata:At,assetType:fr}=await jt(xe,mn.contract);let Qs=`${fr} Asset #${xe}`;if(At!=null&&At.name)Qs=At.name;else if(At!=null&&At.title)Qs=At.title;else if((ye=At==null?void 0:At.assetDetails)!=null&&ye.location)Qs=`${fr} in ${At.assetDetails.location}`;else if(At!=null&&At.attributes){const ms=At.attributes.find(Cc=>Cc.trait_type.toLowerCase().includes("location")),mr=At.attributes.find(Cc=>Cc.trait_type==="Asset Type");ms?Qs=`${(mr==null?void 0:mr.value)||fr} in ${ms.value}`:Qs=`${(mr==null?void 0:mr.value)||fr} Token #${xe}`}console.log(` Extracted asset name: "${Qs}" for token ${xe}`),ae.push({tokenId:xe,name:Qs,description:(At==null?void 0:At.description)||(At==null?void 0:At.desc)||`A tokenized ${fr.toLowerCase()} asset with ID ${xe}`,image:en,price:hn.toString(),amount:dn,seller:pt[Te.findIndex(ms=>ms.toString()===xe)]||m,metadataURI:At?`ipfs://token${xe}`:"",metadata:At||{name:Qs,description:`A tokenized ${fr.toLowerCase()} asset with ID ${xe}`},attributes:(At==null?void 0:At.attributes)||[{trait_type:"Asset Type",value:fr},{trait_type:"Token ID",value:xe},{trait_type:"Source",value:Xn}],type:fr,source:Xn})}O(ae),console.log(" Loaded",ae.length,"assets from blockchain with metadata (including withdrawn tokens)"),console.log(" Preloading dashboard images...");const Mt=ae.map(xe=>({url:xe.image,assetType:xe.type||"Real Estate",tokenId:xe.tokenId}));Rg.preloadImages(Mt).catch(xe=>{console.warn(" Image preloading failed:",xe)}),le(ae,nt),console.log(" Caching assets and portfolio data..."),er.cacheUserAssets(ae,m),er.recordLastRefresh(m),lt("assets",{isLoading:!1,isFromCache:!1,lastUpdated:Date.now()}),ae.length===0?we.info("No assets found. Make sure you have purchased tokens and the transaction is confirmed."):G.assets.isFromCache&&G.assets.lastUpdated?console.log(` Background refresh: Updated ${ae.length} assets`):we.success(`Loaded ${ae.length} assets`)}catch(Ze){console.error(" Failed to load assets from blockchain:",Ze),O([]),le([]),lt("assets",{isLoading:!1,isFromCache:!1})}finally{M(!1)}},le=(fe,ye)=>{if(fe.length===0){$({totalInvestment:0,currentValue:0,totalReturn:0,returnPercentage:0,monthlyIncome:0,totalAssets:0,activeInvestments:0});return}const Ze=fe.reduce((Ye,st)=>{const Bt=un.from(st.price),rt=parseFloat(Be(Bt)),ct=rt*st.amount;return console.log(`Asset ${st.tokenId}: ${st.amount} tokens  ${rt.toFixed(6)} U2U = ${ct.toFixed(6)} U2U`),Ye+ct},0);console.log(`Total portfolio value: ${Ze.toFixed(6)} U2U`);const Ke=Ze,qe=Ze,xt=0,Je=0,Te=qe*.08;console.log(`Yearly income calculation: ${qe.toFixed(6)} U2U  0.08 = ${Te.toFixed(6)} U2U`);const pt={totalInvestment:Ke,currentValue:qe,totalReturn:xt,returnPercentage:Je,monthlyIncome:Te,totalAssets:fe.length,activeInvestments:fe.filter(Ye=>parseFloat(Ye.price)>0).length};$(pt),m&&(er.cachePortfolioData(pt,m),console.log(" Cached portfolio data"))},Ne=()=>{if(!x||x.length===0)return{totalBought:0,totalSold:0,dividendIncome:0,buyTransactions:0,sellTransactions:0,dividendPayments:0};const fe=x.filter(Je=>Je.type==="buy"),ye=fe.reduce((Je,Te)=>{const pt=parseFloat(Te.price)||0;return Je+pt},0),Ze=x.filter(Je=>Je.type==="sell"),Ke=Ze.reduce((Je,Te)=>{const pt=parseFloat(Te.price)||0;return Je+pt},0),xt=k.currentValue*.08;return console.log(" Transaction Statistics:",{totalBought:ye.toFixed(4),totalSold:Ke.toFixed(4),dividendIncome:xt.toFixed(4),buyTransactions:fe.length,sellTransactions:Ze.length}),{totalBought:ye,totalSold:Ke,dividendIncome:xt,buyTransactions:fe.length,sellTransactions:Ze.length,dividendPayments:1}},Re=async(fe=!1)=>{if(!g||!h||!m){console.log(" Wallet not connected, cannot fetch notifications");return}try{if(!fe){console.log(" Checking cache for notifications..."),lt("notifications",{isLoading:!0,isFromCache:!0});const Ie=er.getCachedNotifications(m);if(Ie)return console.log(` Loaded ${Ie.length} notifications from cache instantly!`),D(Ie),I(Ie.filter(oe=>!oe.read).length),lt("notifications",{isLoading:!1,isFromCache:!0,lastUpdated:Date.now()}),setTimeout(()=>{console.log(" Background notification refresh starting..."),Re(!0)},2e4),Ie;console.log(" No valid notification cache found, fetching from blockchain...")}lt("notifications",{isLoading:!0,isFromCache:!1}),console.log(" Generating notifications from trading events...");const ye=[],Ze=Date.now(),Ke=await h.getBlockNumber(),qe=Math.max(0,Ke-7200),xt=new Xe(os,Pp,h),Je=xt.filters.SellOrderCreated(null,m),Te=await xt.queryFilter(Je,qe,Ke);for(const Ie of Te){const oe=Ie.args,De=await h.getBlock(Ie.blockNumber);let nt=`Asset #${oe.tokenId.toString()}`;try{const jt=F.find(ae=>ae.tokenId===oe.tokenId.toString());jt&&(nt=jt.name)}catch{console.log("Could not resolve asset name for notification")}ye.push({id:`sell_order_${Ie.transactionHash}_${Ie.logIndex}`,timestamp:De.timestamp*1e3,type:"order_created",title:"Buy Order Created",message:`Your buy order for ${oe.amount.toString()} tokens of ${nt} at ${Be(oe.pricePerToken)} U2U each is now active in the OrderBook.`,status:"pending",priority:"medium",read:!1,orderData:{orderId:oe.orderId.toString(),tokenId:oe.tokenId.toString(),assetName:nt,amount:oe.amount.toNumber(),price:Be(oe.pricePerToken),orderType:"sell",escrowAmount:Be(oe.pricePerToken.mul(oe.amount))},transactionHash:Ie.transactionHash})}const pt=xt.filters.BuyOrderCreated(null,m),Ye=await xt.queryFilter(pt,qe,Ke);for(const Ie of Ye){const oe=Ie.args,De=await h.getBlock(Ie.blockNumber);let nt=`Asset #${oe.tokenId.toString()}`;try{const ae=F.find(St=>St.tokenId===oe.tokenId.toString());ae&&(nt=ae.name)}catch{console.log("Could not resolve asset name for notification")}const jt=Be(oe.pricePerToken.mul(oe.amount));ye.push({id:`buy_order_${Ie.transactionHash}_${Ie.logIndex}`,timestamp:De.timestamp*1e3,type:"order_created",title:"Sell Order Created & Funds Escrowed",message:`Your sell order for ${oe.amount.toString()} tokens of ${nt} at ${Be(oe.pricePerToken)} Flow each is active. ${jt} Flow has been escrowed.`,status:"pending",priority:"high",read:!1,orderData:{orderId:oe.orderId.toString(),tokenId:oe.tokenId.toString(),assetName:nt,amount:oe.amount.toNumber(),price:Be(oe.pricePerToken),orderType:"buy",escrowAmount:jt},transactionHash:Ie.transactionHash})}const st=xt.filters.OrderFilled(null,m),Bt=await xt.queryFilter(st,qe,Ke);for(const Ie of Bt){const oe=Ie.args,De=await h.getBlock(Ie.blockNumber);ye.push({id:`order_filled_${Ie.transactionHash}_${Ie.logIndex}`,timestamp:De.timestamp*1e3,type:"order_filled",title:"Order Executed Successfully",message:`Your order #${oe.orderId.toString()} has been filled! ${oe.amount.toString()} tokens traded for ${Be(oe.totalPrice)} Flow. Escrow released.`,status:"completed",priority:"high",read:!1,orderData:{orderId:oe.orderId.toString(),tokenId:"unknown",assetName:"P2P Trade",amount:oe.amount.toNumber(),price:Be(oe.totalPrice),orderType:"buy",escrowAmount:Be(oe.totalPrice)},transactionHash:Ie.transactionHash})}const rt=new Xe(Tn,vi,h),ct=rt.filters.AssetBought(null,m),Ht=await rt.queryFilter(ct,qe,Ke);for(const Ie of Ht){const oe=Ie.args,De=await h.getBlock(Ie.blockNumber);let nt=`Asset #${oe.tokenId.toString()}`;try{const jt=F.find(ae=>ae.tokenId===oe.tokenId.toString());jt&&(nt=jt.name)}catch{console.log("Could not resolve asset name for notification")}ye.push({id:`asset_bought_${Ie.transactionHash}_${Ie.logIndex}`,timestamp:De.timestamp*1e3,type:"trade_completed",title:"Asset Purchase Completed",message:`Successfully purchased ${oe.amount.toString()} tokens of ${nt} from the primary marketplace.`,status:"completed",priority:"medium",read:!1,orderData:{orderId:Ie.transactionHash,tokenId:oe.tokenId.toString(),assetName:nt,amount:oe.amount.toNumber(),price:"0",orderType:"buy"},transactionHash:Ie.transactionHash})}ye.sort((Ie,oe)=>oe.timestamp-Ie.timestamp);const at=ye.slice(0,50);return console.log(` Generated ${at.length} trading notifications`),D(at),I(at.filter(Ie=>!Ie.read).length),console.log(" Caching notifications..."),er.cacheNotifications(at,m),lt("notifications",{isLoading:!1,isFromCache:!1,lastUpdated:Date.now()}),at}catch(ye){console.error(" Error generating notifications:",ye),lt("notifications",{isLoading:!1,isFromCache:!1}),we.error(`Failed to load notifications: ${ye.message||"Unknown error"}`)}},Pe=fe=>{D(ye=>ye.map(Ze=>Ze.id===fe?{...Ze,read:!0}:Ze)),I(ye=>Math.max(0,ye-1))},Lt=()=>{D(fe=>fe.map(ye=>({...ye,read:!0}))),I(0)},ze=async(fe=!1)=>{var Ze,Ke,qe,xt,Je;if(!g||!m){console.log(" Wallet not connected, cannot fetch transaction history"),console.log("Debug - Connection status:",{isConnected:g,address:m});return}if(!h){console.log(" No provider available for transaction history");return}const ye=h;console.log(" Using wallet provider for transaction history (same as working notifications)");try{if(!fe){console.log(" Checking cache for transaction history..."),lt("transactions",{isLoading:!0,isFromCache:!0});const oe=er.getCachedTransactionHistory(m);if(oe){console.log(` Loaded ${oe.length} transactions from cache instantly!`),j(oe),lt("transactions",{isLoading:!1,isFromCache:!0,lastUpdated:Date.now()}),oe.length>0&&we.success("Transaction history loaded"),setTimeout(()=>{console.log(" Background transaction refresh starting..."),ze(!0)},45e3);return}else console.log(" No valid transaction cache found, fetching from blockchain...")}lt("transactions",{isLoading:!0,isFromCache:!1}),$e(!0),console.log(" Loading comprehensive transaction history for wallet:",m);const Te=await ye.getBlockNumber();console.log(" Current blockchain block:",Te);const pt=Math.max(0,Te-7200);console.log(` Searching events from block ${pt} to ${Te} (${Te-pt} blocks)`);const Ye=[];console.log(" Checking Primary Marketplace Contract:",Tn);const st=new Xe(Tn,vi,ye);try{const oe=await ye.getCode(Tn);console.log(" Marketplace contract code length:",oe.length),oe==="0x"&&console.warn(" Marketplace contract not found at address:",Tn)}catch(oe){console.error(" Error checking marketplace contract:",oe)}let Bt=[],rt=[];try{console.log(" Searching for AssetBought events for buyer:",m);const oe=st.filters.AssetBought(null,m);Bt=await st.queryFilter(oe,pt,Te),console.log(` Found ${Bt.length} buy events`)}catch(oe){console.warn(" Failed to fetch buy events:",oe)}try{console.log(" Searching for AssetSold events for seller:",m);const oe=st.filters.AssetSold(null,m);rt=await st.queryFilter(oe,pt,Te),console.log(` Found ${rt.length} sell events`)}catch(oe){console.warn(" Failed to fetch sell events:",oe)}console.log(` Primary Marketplace Results: ${Bt.length} buy events, ${rt.length} sell events`),console.log(" Checking OrderBook Contract:",os);const ct=new Xe(os,Pp,ye);try{const oe=await ye.getCode(os);console.log(" OrderBook contract code length:",oe.length),oe==="0x"&&console.warn(" OrderBook contract not found at address:",os)}catch(oe){console.error(" Error checking OrderBook contract:",oe)}let Ht=[],at=[],Ie=[];try{console.log(" Searching for OrderFilled events for taker:",m);const oe=ct.filters.OrderFilled(null,m);Ht=await ct.queryFilter(oe,pt,Te),console.log(` Found ${Ht.length} filled orders`)}catch(oe){console.warn(" Failed to fetch OrderFilled events:",oe)}try{console.log(" Searching for SellOrderCreated events for maker:",m);const oe=ct.filters.SellOrderCreated(null,m);at=await ct.queryFilter(oe,pt,Te),console.log(` Found ${at.length} sell orders`)}catch(oe){console.warn(" Failed to fetch SellOrderCreated events:",oe)}try{console.log(" Searching for BuyOrderCreated events for maker:",m);const oe=ct.filters.BuyOrderCreated(null,m);Ie=await ct.queryFilter(oe,pt,Te),console.log(` Found ${Ie.length} buy orders`)}catch(oe){console.warn(" Failed to fetch BuyOrderCreated events:",oe)}console.log(` Secondary Market Results: ${Ht.length} filled orders, ${at.length} sell orders, ${Ie.length} buy orders created`),console.log(" Debugging: Checking for ANY events from contracts...");try{const oe=await st.queryFilter({},pt,Te);console.log(` Total marketplace events in range: ${oe.length}`),oe.length>0&&console.log(" Sample marketplace events:",oe.slice(0,3).map(De=>({event:De.event,args:De.args,blockNumber:De.blockNumber})))}catch(oe){console.error(" Error fetching all marketplace events:",oe)}try{const oe=await ct.queryFilter({},pt,Te);console.log(` Total OrderBook events in range: ${oe.length}`),oe.length>0&&console.log(" Sample OrderBook events:",oe.slice(0,3).map(De=>({event:De.event,args:De.args,blockNumber:De.blockNumber})))}catch(oe){console.error(" Error fetching all OrderBook events:",oe)}for(const oe of Bt){const De=oe.args,nt=await ye.getBlock(oe.blockNumber),jt=await ye.getTransaction(oe.transactionHash),ae=await ye.getTransactionReceipt(oe.transactionHash);let St=`Asset #${De.tokenId.toString()}`;try{const Mt=F.find(xe=>xe.tokenId===De.tokenId.toString());Mt&&(St=Mt.name)}catch{console.log("Could not resolve asset name, using default")}Ye.push({hash:oe.transactionHash,blockNumber:oe.blockNumber,timestamp:nt.timestamp*1e3,type:"buy",tokenId:De.tokenId.toString(),amount:De.amount.toNumber(),price:Be(jt.value||"0"),from:jt.from,to:jt.to||Tn,gasUsed:ae.gasUsed.toString(),gasPrice:Pa(jt.gasPrice||"0","gwei"),status:ae.status===1?"success":"failed",assetName:St,platformFee:Be(De.platformFee||"0")})}for(const oe of rt){const De=oe.args,nt=await ye.getBlock(oe.blockNumber),jt=await ye.getTransaction(oe.transactionHash),ae=await ye.getTransactionReceipt(oe.transactionHash);let St=`Asset #${De.tokenId.toString()}`;try{const Mt=F.find(xe=>xe.tokenId===De.tokenId.toString());Mt&&(St=Mt.name)}catch{console.log("Could not resolve asset name, using default")}Ye.push({hash:oe.transactionHash,blockNumber:oe.blockNumber,timestamp:nt.timestamp*1e3,type:"sell",tokenId:De.tokenId.toString(),amount:De.amount.toNumber(),price:"0",from:jt.from,to:jt.to||Tn,gasUsed:ae.gasUsed.toString(),gasPrice:Pa(jt.gasPrice||"0","gwei"),status:ae.status===1?"success":"failed",assetName:St,platformFee:Be(De.platformFee||"0")})}for(const oe of Ht){const De=oe.args,nt=await ye.getBlock(oe.blockNumber),jt=await ye.getTransaction(oe.transactionHash),ae=await ye.getTransactionReceipt(oe.transactionHash);let St="Unknown",Mt="P2P Trade";try{Mt=`P2P Purchase (Order #${De.orderId.toString()})`}catch{console.log("Could not resolve order details")}Ye.push({hash:oe.transactionHash,blockNumber:oe.blockNumber,timestamp:nt.timestamp*1e3,type:"buy",tokenId:St,amount:De.amount.toNumber(),price:Be(De.totalPrice||"0"),from:jt.from,to:os,gasUsed:ae.gasUsed.toString(),gasPrice:Pa(jt.gasPrice||"0","gwei"),status:ae.status===1?"success":"failed",assetName:Mt,platformFee:"0"})}for(const oe of at){const De=oe.args,nt=await ye.getBlock(oe.blockNumber),jt=await ye.getTransaction(oe.transactionHash),ae=await ye.getTransactionReceipt(oe.transactionHash);let St=`Asset #${De.tokenId.toString()}`;try{const Mt=F.find(xe=>xe.tokenId===De.tokenId.toString());Mt&&(St=Mt.name)}catch{console.log("Could not resolve asset name for sell order")}Ye.push({hash:oe.transactionHash,blockNumber:oe.blockNumber,timestamp:nt.timestamp*1e3,type:"listing",tokenId:De.tokenId.toString(),amount:De.amount.toNumber(),price:Be(De.pricePerToken||"0"),from:jt.from,to:os,gasUsed:ae.gasUsed.toString(),gasPrice:Pa(jt.gasPrice||"0","gwei"),status:ae.status===1?"success":"failed",assetName:`${St} (P2P Listing)`,platformFee:"0"})}for(const oe of Ie){const De=oe.args,nt=await ye.getBlock(oe.blockNumber),jt=await ye.getTransaction(oe.transactionHash),ae=await ye.getTransactionReceipt(oe.transactionHash);let St=`Asset #${De.tokenId.toString()}`;try{const Mt=F.find(xe=>xe.tokenId===De.tokenId.toString());Mt&&(St=Mt.name)}catch{console.log("Could not resolve asset name for buy order")}Ye.push({hash:oe.transactionHash,blockNumber:oe.blockNumber,timestamp:nt.timestamp*1e3,type:"listing",tokenId:De.tokenId.toString(),amount:De.amount.toNumber(),price:Be(De.pricePerToken||"0"),from:jt.from,to:os,gasUsed:ae.gasUsed.toString(),gasPrice:Pa(jt.gasPrice||"0","gwei"),status:ae.status===1?"success":"failed",assetName:`${St} (P2P Buy Order)`,platformFee:"0"})}Ye.sort((oe,De)=>De.timestamp-oe.timestamp),console.log(" FINAL TRANSACTION SUMMARY:"),console.log(`- Total transactions found: ${Ye.length}`),console.log(`- Primary marketplace: ${Bt.length+rt.length} (${Bt.length} buys, ${rt.length} sells)`),console.log(`- Secondary market: ${Ht.length+at.length+Ie.length} (${Ht.length} filled, ${at.length} sell orders, ${Ie.length} buy orders)`),console.log(`- Block range searched: ${pt} to ${Te} (${Te-pt} blocks)`),console.log(`- Wallet address: ${m}`),Ye.length===0?(console.log(" NO TRANSACTIONS FOUND! Possible reasons:"),console.log("  1. No transactions in the searched block range"),console.log("  2. Wallet address might not have made any transactions"),console.log("  3. Contract addresses might be incorrect"),console.log("  4. Event signatures might not match"),console.log("  5. Transactions might be older than 50,000 blocks"),we.info("No recent transactions found. This could mean you haven't made any trades yet, or your transactions are older than the search range.")):(console.log(" Sample transactions:",Ye.slice(0,2)),G.transactions.isFromCache&&G.transactions.lastUpdated?console.log(` Background refresh: Updated ${Ye.length} transactions`):we.success(`Found ${Ye.length} transaction(s) in your history`)),j(Ye),console.log(" Caching transaction history..."),er.cacheTransactionHistory(Ye,m),lt("transactions",{isLoading:!1,isFromCache:!1,lastUpdated:Date.now()})}catch(Te){console.error(" Error fetching transaction history:",Te),console.log("Error details:",{message:Te.message,code:Te.code,data:Te.data,stack:Te.stack}),lt("transactions",{isLoading:!1,isFromCache:!1});let pt="Unknown error occurred";(Ze=Te.message)!=null&&Ze.includes("network")||(Ke=Te.message)!=null&&Ke.includes("RPC")?pt="Network connection issue. Please check your internet connection and try again.":(qe=Te.message)!=null&&qe.includes("timeout")?pt="Request timed out. Please try again.":Te.code==="NETWORK_ERROR"?pt="Unable to connect to Flow blockchain. Please try again later.":Te.code==="SERVER_ERROR"?pt="Blockchain service temporarily unavailable. Please try again.":(xt=Te.message)!=null&&xt.includes("missing trie node")||(Je=Te.message)!=null&&Je.includes("client error")?pt="Blockchain data synchronization issue. Please try again in a few moments.":pt=Te.message||"Failed to load transaction history",we.error(`Failed to load transaction history: ${pt}`)}finally{$e(!1)}},je=async()=>{var ye,Ze,Ke;if(!H||!Q||!g||!f){we.error("Please enter a valid amount and ensure wallet is connected");return}const fe=parseInt(Q);if(fe<=0||fe>H.amount){we.error(`Amount must be between 1 and ${H.amount}`);return}try{Me(!0),console.log(` Selling ${fe} tokens of asset ${H.tokenId} via marketplace contract...`);const qe=new Xe(Tn,vi,f),xt=un.from(H.price),Je=xt.mul(fe),Te=Je.mul(1).div(100);console.log(" Transaction details:",{tokenId:H.tokenId,amount:fe,tokenPrice:Be(xt)+" U2U",totalValue:Be(Je)+" U2U",platformFee:Be(Te)+" U2U"}),console.log(" Calling sellAsset on marketplace contract...");const pt=await qe.sellAsset(H.tokenId,fe,{value:Te,gasLimit:5e5});console.log(" Transaction submitted:",pt.hash),we.info(`Transaction submitted: ${pt.hash.substring(0,10)}...`);const Ye=await pt.wait();console.log(" Transaction confirmed:",Ye);const st=parseFloat(Be(Je)),Bt=parseFloat(Be(Te));we.success(`Successfully sold ${fe} tokens for ${st.toFixed(4)} Flow
        ! Platform fee: ${Bt.toFixed(4)} Flow
        `,{duration:5e3}),K(!1),q(null),J(""),console.log(" Clearing dashboard and marketplace cache after successful sale..."),er.clearCache(m),ln.clearCache(),console.log(" Refreshing portfolio after successful sale..."),await ne(!0),await ze(!0)}catch(qe){console.error(" Failed to sell asset:",qe);let xt="Failed to sell asset";(ye=qe.message)!=null&&ye.includes("Insufficient balance")?xt="Insufficient token balance for this transaction":(Ze=qe.message)!=null&&Ze.includes("Insufficient marketplace funds")?xt="Marketplace has insufficient funds to buy back this asset":(Ke=qe.message)!=null&&Ke.includes("Must pay platform fee")?xt="Failed to pay platform fee. Please ensure sufficient U2U balance.":qe.code==="ACTION_REJECTED"?xt="Transaction was cancelled by user":qe.code==="INSUFFICIENT_FUNDS"?xt="Insufficient U2U for gas fees and platform fee":xt=`Transaction failed: ${qe.message||"Unknown error"}`,we.error(xt,{duration:5e3})}finally{Me(!1)}},We=fe=>{let ye=0;try{const Ze=un.from(fe.price);ye=parseFloat(Be(Ze)),console.log(` Converting price for ${fe.name}: ${fe.price} Wei  ${ye} U2U`)}catch(Ze){console.warn(" Error converting price:",Ze),ye=parseFloat(fe.price)||0}t("/orderbook",{state:{selectedToken:{tokenId:fe.tokenId,name:fe.name,image:fe.image,type:fe.type,userBalance:fe.amount,price:fe.price,marketplacePrice:ye,description:fe.description}}})},be=fe=>{We(fe)},Se=fe=>{se(fe),re(!0)},Fe=async fe=>{var ye;if(!g||!f){we.error("Please connect your wallet first");return}try{we.info("Preparing to withdraw tokens from marketplace to your wallet...");const{TokenService:Ze}=await Ct(async()=>{const{TokenService:qe}=await Promise.resolve().then(()=>l2e);return{TokenService:qe}},void 0);await new Ze(h,f).withdrawAsset(fe.tokenId,fe.amount),we.success(`Successfully withdrew ${fe.amount} tokens of ${fe.name} to your wallet! You can now use them in the OrderBook.`,{duration:5e3}),console.log(" Clearing dashboard and marketplace cache after successful withdrawal..."),er.clearCache(m),ln.clearCache(),console.log(" Refreshing portfolio after successful withdrawal..."),await ne(!0)}catch(Ze){console.error(" Failed to withdraw asset:",Ze);let Ke="Failed to withdraw asset";(ye=Ze.message)!=null&&ye.includes("Insufficient balance")?Ke="Insufficient balance in marketplace for withdrawal":Ze.code==="ACTION_REJECTED"?Ke="Transaction was cancelled by user":Ze.code==="INSUFFICIENT_FUNDS"?Ke="Insufficient U2U for gas fees":Ke=`Withdrawal failed: ${Ze.message||"Unknown error"}`,we.error(Ke,{duration:5e3})}};v.useEffect(()=>{g&&m&&(console.log("Wallet connected, loading assets..."),ne())},[g,m]);const _e=()=>{const ye=(()=>{const Ht=(k.currentValue||1)*.85,at=[];for(let Ie=0;Ie<24;Ie++){const oe=Ie/23,De=(Math.random()-.5)*.1,nt=1+oe*.15+De,jt=Math.max(Ht*nt,.001);at.push(jt)}return at})(),Ze=Math.max(...ye),Ke=Math.min(...ye),qe=Ze-Ke||1,xt=800,Je=300,Te=40,pt=xt-Te*2,Ye=Je-Te*2,st=()=>{let ct="";return ye.forEach((Ht,at)=>{const Ie=at/(ye.length-1)*pt+Te,oe=Je-Te-(Ht-Ke)/qe*Ye;at===0?ct+=`M ${Ie} ${oe}`:ct+=` L ${Ie} ${oe}`}),ct},Bt=()=>{let ct=st();const Ht=pt+Te,at=Je-Te;return ct+=` L ${Ht} ${at} L ${Te} ${at} Z`,ct},rt=((ye[ye.length-1]-ye[0])/ye[0]*100).toFixed(1);return a.jsxs("div",{className:"w-full h-full flex flex-col",children:[a.jsxs("div",{className:"mb-3 md:mb-4 flex flex-col sm:flex-row sm:items-start justify-between gap-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-sm md:text-base font-semibold text-gray-900",children:"Portfolio Value"}),a.jsxs("p",{className:"text-base md:text-xl font-bold text-gray-900",children:[ye[ye.length-1].toFixed(4)," Flow"]}),a.jsxs("p",{className:`text-xs md:text-sm ${parseFloat(rt)>=0?"text-green-600":"text-red-600"}`,children:[parseFloat(rt)>=0?"+":"",rt,"% (6 months)"]})]}),a.jsxs("div",{className:"flex items-center space-x-2 text-xs md:text-sm",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),a.jsx("span",{className:"text-gray-600",children:"Portfolio Value"})]})]}),a.jsx("div",{className:"flex-1 min-h-0 relative",children:a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsxs("svg",{width:"100%",height:"100%",viewBox:`0 0 ${xt} ${Je}`,className:"max-w-full max-h-full",preserveAspectRatio:"xMidYMid meet",children:[a.jsxs("defs",{children:[a.jsx("pattern",{id:"gridPattern",width:"40",height:"30",patternUnits:"userSpaceOnUse",children:a.jsx("path",{d:"M 40 0 L 0 0 0 30",fill:"none",stroke:"#f1f5f9",strokeWidth:"1"})}),a.jsxs("linearGradient",{id:"areaGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[a.jsx("stop",{offset:"0%",stopColor:"#3b82f6",stopOpacity:"0.2"}),a.jsx("stop",{offset:"100%",stopColor:"#3b82f6",stopOpacity:"0.02"})]})]}),a.jsx("rect",{x:Te,y:Te,width:pt,height:Ye,fill:"url(#gridPattern)",opacity:"0.5"}),a.jsx("path",{d:Bt(),fill:"url(#areaGradient)"}),a.jsx("path",{d:st(),fill:"none",stroke:"#3b82f6",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),ye.map((ct,Ht)=>{if(Ht%4===0){const at=Ht/(ye.length-1)*pt+Te,Ie=Je-Te-(ct-Ke)/qe*Ye;return a.jsx("circle",{cx:at,cy:Ie,r:"4",fill:"#3b82f6",stroke:"white",strokeWidth:"2",className:"drop-shadow-sm",children:a.jsxs("title",{children:[ct.toFixed(4)," Flow"]})},Ht)}return null}),a.jsxs("text",{x:Te-10,y:Te+5,textAnchor:"end",className:"text-xs fill-gray-500 font-medium",children:[Ze.toFixed(3)," Flow"]}),a.jsxs("text",{x:Te-10,y:Je-Te+5,textAnchor:"end",className:"text-xs fill-gray-500 font-medium",children:[Ke.toFixed(3)," Flow"]}),a.jsx("text",{x:Te,y:Je-10,textAnchor:"start",className:"text-xs fill-gray-500 font-medium",children:"6 months ago"}),a.jsx("text",{x:xt-Te,y:Je-10,textAnchor:"end",className:"text-xs fill-gray-500 font-medium",children:"Today"})]})})}),a.jsxs("div",{className:"mt-3 md:mt-4 grid grid-cols-3 gap-2 md:gap-4 pt-3 border-t border-gray-100",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"HIGHEST"}),a.jsxs("p",{className:"text-xs md:text-sm font-bold text-gray-900",children:[Ze.toFixed(4)," Flow"]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"LOWEST"}),a.jsxs("p",{className:"text-xs md:text-sm font-bold text-gray-900",children:[Ke.toFixed(4)," Flow"]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"GROWTH"}),a.jsxs("p",{className:`text-xs md:text-sm font-bold ${parseFloat(rt)>=0?"text-green-600":"text-red-600"}`,children:[parseFloat(rt)>=0?"+":"",rt,"%"]})]})]})]})},ft=()=>{const fe=F.reduce((Ye,st)=>{const Bt=st.type||"Other";Ye[Bt]||(Ye[Bt]=0);const rt=parseFloat(Be(st.price))*st.amount;return Ye[Bt]+=rt,Ye},{}),ye=Object.values(fe).reduce((Ye,st)=>Ye+st,0),Ze=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6"];if(ye===0)return a.jsx("div",{className:"w-full h-full flex flex-col",children:a.jsx("div",{className:"flex-1 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Nh,{className:"w-12 md:w-16 h-12 md:h-16 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 font-medium text-sm md:text-base",children:"Asset Allocation"}),a.jsx("p",{className:"text-gray-400 text-xs md:text-sm mt-1",children:"No assets to display"})]})})});let Ke=0;const qe=80,xt=140,Je=120;return a.jsxs("div",{className:"w-full h-full flex flex-col",children:[a.jsxs("div",{className:"mb-3 md:mb-4 text-center",children:[a.jsx("h3",{className:"text-sm md:text-base font-semibold text-gray-900",children:"Asset Distribution"}),a.jsxs("p",{className:"text-base md:text-xl font-bold text-gray-900",children:[F.length," Assets"]}),a.jsxs("p",{className:"text-xs md:text-sm text-gray-600",children:[ye.toFixed(4)," Flow Total"]})]}),a.jsx("div",{className:"flex-1 min-h-0 flex items-center justify-center",children:a.jsx("div",{className:"relative w-full h-full max-w-xs",children:a.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 280 240",className:"max-w-full max-h-full",preserveAspectRatio:"xMidYMid meet",children:[Object.entries(fe).map(([Ye,st],Bt)=>{const rt=st/ye*100,ct=Ke/100*360,Ht=(Ke+rt)/100*360,at=(ct-90)*(Math.PI/180),Ie=(Ht-90)*(Math.PI/180),oe=xt+qe*Math.cos(at),De=Je+qe*Math.sin(at),nt=xt+qe*Math.cos(Ie),jt=Je+qe*Math.sin(Ie),ae=rt>50?1:0,St=[`M ${xt} ${Je}`,`L ${oe} ${De}`,`A ${qe} ${qe} 0 ${ae} 1 ${nt} ${jt}`,"Z"].join(" ");return Ke+=rt,a.jsx("g",{children:a.jsx("path",{d:St,fill:Ze[Bt%Ze.length],className:"hover:opacity-80 transition-opacity cursor-pointer drop-shadow-sm",children:a.jsxs("title",{children:[Ye,": ",rt.toFixed(1),"%"]})})},Ye)}),a.jsx("circle",{cx:xt,cy:Je,r:qe*.55,fill:"white",className:"drop-shadow-sm"}),a.jsx("text",{x:xt,y:Je-5,textAnchor:"middle",className:"text-xs fill-gray-500 font-medium",children:"Total Value"}),a.jsxs("text",{x:xt,y:Je+8,textAnchor:"middle",className:"text-xs md:text-sm fill-gray-900 font-bold",children:[ye.toFixed(3)," Flow"]})]})})}),a.jsx("div",{className:"mt-3 md:mt-4 space-y-1 md:space-y-2 pt-3 border-t border-gray-100",children:Object.entries(fe).map(([Ye,st],Bt)=>{const rt=st/ye*100;return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Ze[Bt%Ze.length]}}),a.jsx("span",{className:"text-xs md:text-sm font-medium text-gray-700 truncate",children:Ye})]}),a.jsxs("div",{className:"text-right flex-shrink-0",children:[a.jsxs("p",{className:"text-xs md:text-sm font-bold text-gray-900",children:[rt.toFixed(1),"%"]}),a.jsxs("p",{className:"text-xs text-gray-500",children:[st.toFixed(3)," Flow"]})]})]},Ye)})})]})},Zt=()=>{var fe,ye,Ze,Ke,qe,xt,Je,Te,pt,Ye,st,Bt,rt,ct,Ht,at,Ie,oe,De,nt,jt;switch(e){case"analytics":return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Analytics Overview"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Portfolio insights and performance metrics"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center space-y-2 sm:space-y-0 sm:space-x-3",children:[a.jsxs("div",{className:"flex items-center space-x-2 px-3 py-1 bg-gray-100 rounded-lg",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Live"})]}),a.jsxs(Z,{variant:"outline",size:"sm",children:[a.jsx(tp,{className:"w-4 h-4 mr-2"}),"Last 30 days"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-4 md:gap-6",children:[a.jsx(pe,{className:"border border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:a.jsx(ge,{className:"p-4 md:p-6",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[a.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600 mb-2",children:"TOTAL INVESTMENT"}),a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("p",{className:"text-base md:text-lg lg:text-xl font-bold text-gray-900 truncate",children:i?`${k.totalInvestment.toFixed(4)} Flow`:""}),a.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>o(!i),className:"h-5 w-5 p-0 flex-shrink-0",children:i?a.jsx(sa,{className:"w-3 h-3"}):a.jsx(X2,{className:"w-3 h-3"})})]}),a.jsx("p",{className:"text-green-600 text-xs md:text-sm",children:g?"+2.4% from last month":"Connect wallet to view"})]}),a.jsx("div",{className:"p-1.5 md:p-2 bg-gray-100 rounded-lg flex-shrink-0",children:a.jsx(ns,{className:"w-4 md:w-5 h-4 md:h-5 text-gray-600"})})]})})}),a.jsx(pe,{className:"border border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:a.jsx(ge,{className:"p-4 md:p-6",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[a.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600 mb-2",children:"CURRENT VALUE"}),a.jsx("p",{className:"text-base md:text-lg lg:text-xl font-bold text-gray-900 mb-2 truncate",children:i?`${k.currentValue.toFixed(4)} Flow`:""}),a.jsxs("p",{className:"text-green-600 text-xs md:text-sm",children:["+",k.returnPercentage.toFixed(2),"% total return"]})]}),a.jsx("div",{className:"p-1.5 md:p-2 bg-gray-100 rounded-lg flex-shrink-0",children:a.jsx(Gc,{className:"w-4 md:w-5 h-4 md:h-5 text-gray-600"})})]})})}),a.jsx(pe,{className:"border border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:a.jsx(ge,{className:"p-4 md:p-6",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[a.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600 mb-2",children:"TOTAL RETURN"}),a.jsxs("div",{className:"flex flex-col space-y-1 mb-2",children:[a.jsx("p",{className:"text-base md:text-lg lg:text-xl font-bold text-gray-900 truncate",children:i?`${k.totalReturn.toFixed(4)} Flow`:""}),a.jsxs(Ue,{variant:"secondary",className:"bg-green-100 text-green-800 text-xs w-fit",children:["+",k.returnPercentage.toFixed(2),"%"]})]}),a.jsx("p",{className:"text-green-600 text-xs md:text-sm",children:"Above market average"})]}),a.jsx("div",{className:"p-1.5 md:p-2 bg-gray-100 rounded-lg flex-shrink-0",children:a.jsx(ns,{className:"w-4 md:w-5 h-4 md:h-5 text-gray-600"})})]})})}),a.jsx(pe,{className:"border border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:a.jsx(ge,{className:"p-4 md:p-6",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[a.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600 mb-2",children:"YEARLY INCOME"}),a.jsx("p",{className:"text-base md:text-lg lg:text-xl font-bold text-gray-900 mb-2 truncate",children:i?`${k.monthlyIncome.toFixed(4)} Flow`:""}),a.jsx("p",{className:"text-green-600 text-xs md:text-sm",children:"8% yield annually"})]}),a.jsx("div",{className:"p-1.5 md:p-2 bg-gray-100 rounded-lg flex-shrink-0",children:a.jsx(cs,{className:"w-4 md:w-5 h-4 md:h-5 text-gray-600"})})]})})})]}),a.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[a.jsxs(pe,{className:"xl:col-span-2 border border-gray-200 shadow-sm flex flex-col min-h-[400px] lg:min-h-[500px]",children:[a.jsx(yt,{className:"pb-4 flex-shrink-0",children:a.jsxs(vt,{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-lg md:text-xl font-bold text-gray-900",children:"Portfolio Performance"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"6-month growth trajectory"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Live"})]})]})}),a.jsx(ge,{className:"flex-1 min-h-0 p-4 md:p-6",children:a.jsx("div",{className:"h-full w-full",children:a.jsx(_e,{})})})]}),a.jsxs(pe,{className:"border border-gray-200 shadow-sm flex flex-col min-h-[400px] lg:min-h-[500px]",children:[a.jsx(yt,{className:"pb-4 flex-shrink-0",children:a.jsxs(vt,{children:[a.jsx("span",{className:"text-lg md:text-xl font-bold text-gray-900",children:"Asset Allocation"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Portfolio distribution"})]})}),a.jsx(ge,{className:"flex-1 min-h-0 p-4 md:p-6",children:a.jsx("div",{className:"h-full w-full",children:a.jsx(ft,{})})})]})]})]});case"portfolio":return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center",children:[a.jsx(eu,{className:"w-5 h-5 mr-2 text-green-600"}),"My Registered IP Assets"]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"IP assets you've registered on Story Protocol"})]}),R.length>0&&a.jsxs(Ue,{variant:"secondary",className:"bg-green-100 text-green-800 px-3 py-1",children:[R.length," Registered"]})]}),V?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600 mx-auto"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Loading your registered IP assets..."})]}):R.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:R.map((ae,St)=>{var Mt;return a.jsxs(pe,{className:"border border-green-200 shadow-sm hover:shadow-md transition-shadow",children:[a.jsx(yt,{className:"pb-3",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(vt,{className:"text-base font-bold text-gray-900 line-clamp-1",children:ae.title}),a.jsx(Ue,{variant:"outline",className:"mt-2 text-xs",children:ae.assetType})]}),a.jsx(Gn,{className:"w-5 h-5 text-green-600 flex-shrink-0"})]})}),a.jsxs(ge,{className:"pt-0 space-y-3",children:[a.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:ae.description}),a.jsxs("div",{className:"space-y-2 text-xs",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"IP ID:"}),a.jsxs("span",{className:"font-mono text-gray-900 truncate ml-2",title:ae.ipId,children:[(Mt=ae.ipId)==null?void 0:Mt.slice(0,10),"..."]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Token ID:"}),a.jsxs("span",{className:"font-mono text-gray-900",children:["#",ae.tokenId]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"License:"}),a.jsx("span",{className:"font-medium text-gray-900",children:ae.licenseType==="commercial_remix"?"Commercial":"Non-Commercial"})]}),ae.royaltyPercent>0&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Royalty:"}),a.jsxs("span",{className:"font-medium text-green-600",children:[ae.royaltyPercent,"%"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Registered:"}),a.jsx("span",{className:"text-gray-900",children:new Date(ae.registeredAt).toLocaleDateString()})]})]}),a.jsx("div",{className:"pt-2 border-t border-gray-100",children:a.jsxs(Z,{variant:"outline",size:"sm",className:"w-full text-xs",onClick:()=>{window.open(`https://aeneid.storyscan.xyz/tx/${ae.txHash}`,"_blank")},children:[a.jsx(jh,{className:"w-3 h-3 mr-1"}),"View on Explorer"]})})]})]},ae.ipId||St)})}):a.jsx(pe,{className:"border border-dashed border-gray-300",children:a.jsxs(ge,{className:"text-center py-12",children:[a.jsx(eu,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No IP Assets Registered Yet"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Register your first IP asset on Story Protocol to get started."}),a.jsx(Z,{onClick:()=>window.location.href="/issuer",variant:"default",className:"bg-green-600 hover:bg-green-700",children:"Register IP Asset"})]})})]}),m&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center",children:[a.jsx(eu,{className:"w-5 h-5 mr-2 text-blue-600"}),"Backend Registered IP Assets"]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"IP assets registered on Story Protocol (tracked in backend database)"})]}),it&&it.assets.length>0&&a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Ue,{variant:"secondary",className:"bg-blue-100 text-blue-800 px-3 py-1",children:[it.summary.total," Total"]}),a.jsxs(Ue,{variant:"secondary",className:"bg-green-100 text-green-800 px-3 py-1",children:[it.summary.minted," Minted"]})]})]}),Oe?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Loading backend assets..."})]}):ht?a.jsx(pe,{className:"border border-red-200 bg-red-50",children:a.jsx(ge,{className:"p-6 text-center",children:a.jsxs("p",{className:"text-red-600",children:["Error loading backend assets: ",ht.message]})})}):it&&it.assets.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:it.assets.map(ae=>a.jsx(KV,{asset:ae},ae._id))}):a.jsx(pe,{className:"border border-dashed border-gray-300",children:a.jsxs(ge,{className:"text-center py-12",children:[a.jsx(eu,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Backend Assets Found"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Assets registered through the Story Protocol flow will appear here."})]})})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Owned Assets"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Your tokenized real-world asset portfolio"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center space-y-2 sm:space-y-0 sm:space-x-3",children:[a.jsxs(Ue,{variant:"secondary",className:"bg-gray-100 text-gray-900 px-3 py-1",children:[a.jsx(qr,{className:"w-4 h-4 mr-2"}),F.length," Assets"]}),a.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>g&&ne(),disabled:L||!g,children:[a.jsx(Nh,{className:"w-4 h-4 mr-2"}),L?"Loading...":"Refresh"]})]})]}),g?F.length===0?a.jsx(pe,{className:"border border-gray-200 shadow-sm",children:a.jsxs(ge,{className:"p-12 text-center",children:[a.jsx(gl,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Assets Found"}),a.jsx("p",{className:"text-gray-600 mb-6",children:L?"Loading your assets...":"You don't own any tokenized assets yet"}),!L&&a.jsxs(Z,{variant:"outline",onClick:()=>window.open("/marketplace","_blank"),children:[a.jsx(gl,{className:"w-4 h-4 mr-2"}),"Browse Marketplace"]})]})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:F.map((ae,St)=>{const Mt=parseFloat(Be(ae.price))*ae.amount,xe=ae.type==="Real Estate"?gl:ae.type==="Invoice"?Gi:ae.type==="Commodity"?Hu:PO;return a.jsxs(Qt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:St*.1},onClick:()=>Se(ae),className:"group bg-white/90 backdrop-blur-sm rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 cursor-pointer border border-gray-200/50 hover:border-gray-300/50 overflow-hidden hover:scale-[1.02]",children:[a.jsxs("div",{className:"relative overflow-hidden",children:[ae.image&&a.jsx(Dd,{src:ae.image,alt:ae.name,className:"w-full h-48 object-cover group-hover:scale-110 transition-transform duration-700",assetType:ae.type||"Real Estate",tokenId:ae.tokenId}),a.jsx("div",{className:"absolute top-4 left-4",children:a.jsxs("span",{className:"px-3 py-1 bg-white/90 backdrop-blur-sm rounded-full text-xs font-medium text-gray-700 border border-gray-200/50 flex items-center",children:[a.jsx(xe,{className:"w-3 h-3 mr-1"}),ae.type]})}),a.jsx("div",{className:"absolute top-4 right-4",children:a.jsxs("span",{className:"px-2 py-1 bg-blue-500/90 backdrop-blur-sm rounded-full text-xs font-medium text-white border border-blue-400/50",children:["#",ae.tokenId]})}),a.jsx("div",{className:"absolute bottom-4 left-4",children:a.jsx("span",{className:`px-3 py-1 backdrop-blur-sm rounded-full text-xs font-medium border ${ae.source==="marketplace"?"bg-blue-500/90 text-white border-blue-400/50":"bg-green-500/90 text-white border-green-400/50"}`,children:ae.source==="marketplace"?" Marketplace":" Wallet"})}),a.jsx("div",{className:"absolute bottom-4 right-4",children:a.jsxs("span",{className:"px-3 py-1 bg-white/90 backdrop-blur-sm rounded-full text-xs font-medium text-gray-700 border border-gray-200/50",children:[ae.amount," tokens"]})})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"font-bold text-gray-900 mb-2 group-hover:text-gray-700 transition-colors line-clamp-1",children:ae.name}),a.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2 leading-relaxed",children:ae.description}),a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-lg font-bold text-blue-600",children:[Mt.toFixed(4)," Flow"]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Total Value"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm font-medium text-green-600",children:"+5.0%"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Performance"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),a.jsx("span",{className:"text-xs text-gray-600",children:"Available"})]}),a.jsxs("div",{className:"flex space-x-2",children:[ae.source==="marketplace"&&a.jsxs("button",{className:"px-3 py-1 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all duration-300 shadow-md hover:shadow-lg text-xs font-medium",onClick:mn=>{mn.stopPropagation(),Fe(ae)},children:[a.jsx(kh,{className:"w-3 h-3 mr-1 inline"}),"Withdraw"]}),a.jsx(Q6,{requiresKYC:!0,blockingMode:!1,customMessage:"KYC verification required for P2P trading",onComplianceVerified:()=>We(ae),children:a.jsxs("button",{className:"px-3 py-1 bg-gradient-to-r from-gray-800 to-black text-white rounded-lg hover:from-gray-900 hover:to-gray-800 transition-all duration-300 shadow-md hover:shadow-lg text-xs font-medium",onClick:mn=>{mn.stopPropagation(),We(ae)},children:[a.jsx(cs,{className:"w-3 h-3 mr-1 inline"}),"Trade"]})})]})]})]})]},ae.tokenId)})}):a.jsx(pe,{className:"border border-gray-200 shadow-sm",children:a.jsxs(ge,{className:"p-12 text-center",children:[a.jsx(qr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Connect Your Wallet"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Connect your wallet to view your owned assets"}),a.jsxs(Z,{onClick:me,disabled:L,children:[a.jsx(qr,{className:"w-4 h-4 mr-2"}),L?"Connecting...":"Connect Wallet"]})]})})]});case"income":return a.jsx(Z0e,{});case"transactions":return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Transaction History"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"View your complete trading and investment history"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center space-y-2 sm:space-y-0 sm:space-x-3",children:[a.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>ze(!0),disabled:ve,children:[a.jsx(Un,{className:`w-4 h-4 mr-2 ${ve?"animate-spin":""}`}),ve?"Loading...":"Refresh"]}),a.jsxs(Z,{variant:"outline",size:"sm",children:[a.jsx(kh,{className:"w-4 h-4 mr-2"}),"Export"]}),a.jsxs(Z,{variant:"outline",size:"sm",children:[a.jsx(xy,{className:"w-4 h-4 mr-2"}),"Filter"]})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(Ue,{variant:"secondary",className:"bg-gray-100 text-gray-900",children:"All Transactions"}),a.jsx(Ue,{variant:"outline",children:"Buys"}),a.jsx(Ue,{variant:"outline",children:"Sells"}),a.jsx(Ue,{variant:"outline",children:"Dividends"})]}),a.jsx(pe,{className:"border border-gray-200 shadow-sm",children:a.jsxs(ge,{className:"p-0",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left py-3 px-4 md:px-6 text-xs md:text-sm font-medium text-gray-600 uppercase tracking-wide",children:"Date"}),a.jsx("th",{className:"text-left py-3 px-4 md:px-6 text-xs md:text-sm font-medium text-gray-600 uppercase tracking-wide",children:"Asset"}),a.jsx("th",{className:"text-left py-3 px-4 md:px-6 text-xs md:text-sm font-medium text-gray-600 uppercase tracking-wide",children:"Type"}),a.jsx("th",{className:"text-right py-3 px-4 md:px-6 text-xs md:text-sm font-medium text-gray-600 uppercase tracking-wide",children:"Amount"}),a.jsx("th",{className:"text-right py-3 px-4 md:px-6 text-xs md:text-sm font-medium text-gray-600 uppercase tracking-wide",children:"Price"}),a.jsx("th",{className:"text-center py-3 px-4 md:px-6 text-xs md:text-sm font-medium text-gray-600 uppercase tracking-wide",children:"Status"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:ve?Array.from({length:5}).map((ae,St)=>a.jsxs("tr",{className:"animate-pulse",children:[a.jsxs("td",{className:"py-3 px-4 md:px-6",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"}),a.jsx("div",{className:"h-3 bg-gray-200 rounded w-16 mt-1"})]}),a.jsx("td",{className:"py-3 px-4 md:px-6",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 bg-gray-200 rounded-lg"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"}),a.jsx("div",{className:"h-3 bg-gray-200 rounded w-16 mt-1"})]})]})}),a.jsx("td",{className:"py-3 px-4 md:px-6",children:a.jsx("div",{className:"h-6 bg-gray-200 rounded w-12"})}),a.jsx("td",{className:"py-3 px-4 md:px-6 text-right",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded w-16 ml-auto"})}),a.jsx("td",{className:"py-3 px-4 md:px-6 text-right",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded w-20 ml-auto"})}),a.jsx("td",{className:"py-3 px-4 md:px-6 text-center",children:a.jsx("div",{className:"h-6 bg-gray-200 rounded w-16 mx-auto"})})]},St)):x.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:6,className:"py-12 text-center text-gray-500",children:[a.jsx(Ml,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),a.jsx("p",{className:"text-lg font-medium mb-2",children:"No transactions found"}),a.jsx("p",{className:"text-sm",children:"Your transaction history will appear here once you buy or sell assets."})]})}):x.map((ae,St)=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"py-3 px-4 md:px-6 text-xs md:text-sm text-gray-900",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:new Date(ae.timestamp).toLocaleDateString()}),a.jsx("div",{className:"text-gray-500 text-xs",children:new Date(ae.timestamp).toLocaleTimeString()})]})}),a.jsx("td",{className:"py-3 px-4 md:px-6",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 bg-gray-100 rounded-lg flex items-center justify-center flex-shrink-0",children:a.jsx(gl,{className:"w-4 md:w-5 h-4 md:h-5 text-gray-600"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-900 truncate",children:ae.assetName}),a.jsxs("p",{className:"text-xs text-gray-500 truncate",children:["Token ID: ",ae.tokenId]})]})]})}),a.jsx("td",{className:"py-3 px-4 md:px-6",children:a.jsx(Ue,{variant:ae.type==="buy"?"default":"secondary",className:`text-xs ${ae.type==="buy"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:ae.type.charAt(0).toUpperCase()+ae.type.slice(1)})}),a.jsxs("td",{className:"py-3 px-4 md:px-6 text-right text-xs md:text-sm font-medium text-gray-900",children:[ae.amount," ",ae.amount===1?"token":"tokens"]}),a.jsxs("td",{className:"py-3 px-4 md:px-6 text-right text-xs md:text-sm font-bold text-gray-900",children:[parseFloat(ae.price).toFixed(4)," Flow",ae.platformFee&&parseFloat(ae.platformFee)>0&&a.jsxs("div",{className:"text-xs text-gray-500",children:["Fee: ",parseFloat(ae.platformFee).toFixed(4)," Flow"]})]}),a.jsx("td",{className:"py-3 px-4 md:px-6 text-center",children:a.jsx(Ue,{variant:"outline",className:`text-xs cursor-pointer ${ae.status==="success"?"bg-green-50 text-green-700 border-green-200":"bg-red-50 text-red-700 border-red-200"}`,onClick:()=>window.open(`https://arbiscan.io/tx/${ae.hash}`,"_blank"),title:`View on Arbiscan: ${ae.hash}`,children:ae.status==="success"?"Success":"Failed"})})]},ae.hash))})]})}),a.jsx("div",{className:"border-t border-gray-200 p-4 md:p-6 text-center",children:a.jsx(Z,{variant:"outline",size:"sm",children:"Load More Transactions"})})]})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:[a.jsx(pe,{className:"border border-gray-200 shadow-sm",children:a.jsx(ge,{className:"p-4 md:p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600 mb-1",children:"TOTAL BOUGHT"}),a.jsxs("p",{className:"text-xl md:text-2xl font-bold text-gray-900",children:[Ne().totalBought.toFixed(4)," Flow"]}),a.jsxs("p",{className:"text-gray-500 text-xs md:text-sm mt-1",children:[Ne().buyTransactions," transactions"]})]}),a.jsx("div",{className:"p-2 md:p-3 bg-green-100 rounded-lg",children:a.jsx(Gc,{className:"w-5 md:w-6 h-5 md:h-6 text-green-600"})})]})})}),a.jsx(pe,{className:"border border-gray-200 shadow-sm",children:a.jsx(ge,{className:"p-4 md:p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600 mb-1",children:"TOTAL SOLD"}),a.jsxs("p",{className:"text-xl md:text-2xl font-bold text-gray-900",children:[Ne().totalSold.toFixed(4)," Flow"]}),a.jsxs("p",{className:"text-gray-500 text-xs md:text-sm mt-1",children:[Ne().sellTransactions," transactions"]})]}),a.jsx("div",{className:"p-2 md:p-3 bg-red-100 rounded-lg",children:a.jsx(rq,{className:"w-5 md:w-6 h-5 md:h-6 text-red-600"})})]})})}),a.jsx(pe,{className:"border border-gray-200 shadow-sm",children:a.jsx(ge,{className:"p-4 md:p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600 mb-1",children:"DIVIDEND INCOME"}),a.jsxs("p",{className:"text-xl md:text-2xl font-bold text-gray-900",children:[Ne().dividendIncome.toFixed(4)," Flow"]}),a.jsx("p",{className:"text-gray-500 text-xs md:text-sm mt-1",children:"Estimated annual return (8%)"})]}),a.jsx("div",{className:"p-2 md:p-3 bg-blue-100 rounded-lg",children:a.jsx(cs,{className:"w-5 md:w-6 h-5 md:h-6 text-blue-600"})})]})})})]})]});case"profile":return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Profile Settings"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your account and preferences"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(Z,{onClick:W,disabled:A,variant:"outline",className:"w-fit",children:[a.jsx(Un,{className:`w-4 h-4 mr-2 ${A?"animate-spin":""}`}),"Refresh Profile"]}),a.jsxs(Z,{className:"bg-gray-900 hover:bg-gray-800 text-white w-fit",children:[a.jsx(gm,{className:"w-4 h-4 mr-2"}),"Advanced Settings"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(pe,{className:"border border-gray-200 shadow-sm",children:[a.jsx(yt,{className:"pb-4",children:a.jsxs(vt,{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-gray-900 rounded-lg",children:a.jsx(Sh,{className:"w-5 md:w-6 h-5 md:h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("span",{className:"text-lg md:text-2xl font-bold text-gray-900",children:"Profile Information"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Your account details"})]})]})}),a.jsx(ge,{className:"space-y-6",children:A?a.jsxs("div",{className:"flex items-center justify-center p-8",children:[a.jsx(Un,{className:"w-6 h-6 animate-spin text-gray-400 mr-2"}),a.jsx("span",{className:"text-gray-600",children:"Loading profile..."})]}):T?a.jsxs("div",{className:"text-center p-8",children:[a.jsxs("div",{className:"text-red-500 mb-4",children:[a.jsx(Sh,{className:"w-12 h-12 mx-auto mb-2"}),a.jsx("p",{className:"font-semibold",children:"Failed to load profile"}),a.jsx("p",{className:"text-sm text-gray-600",children:T})]}),a.jsxs(Z,{onClick:W,variant:"outline",size:"sm",children:[a.jsx(Un,{className:"w-4 h-4 mr-2"}),"Retry"]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-4 sm:space-y-0 sm:space-x-6",children:[a.jsxs("div",{className:"relative",children:[a.jsxs(Qu,{className:"w-20 h-20 md:w-24 md:h-24 border-4 border-gray-200",children:[a.jsx(S9,{src:(y==null?void 0:y.profilePicture)||"/placeholder-avatar.jpg"}),a.jsxs(Ju,{className:"bg-gray-900 text-white text-xl md:text-2xl font-bold",children:[((fe=y==null?void 0:y.firstName)==null?void 0:fe.charAt(0))||((ye=p==null?void 0:p.firstName)==null?void 0:ye.charAt(0))||"U",((Ze=y==null?void 0:y.lastName)==null?void 0:Ze.charAt(0))||((Ke=p==null?void 0:p.lastName)==null?void 0:Ke.charAt(0))||"S"]})]}),a.jsx("div",{className:"absolute -bottom-2 -right-2 p-1.5 md:p-2 bg-green-500 rounded-full shadow-lg",children:a.jsx(gy,{className:"w-3 h-3 md:w-4 md:h-4 text-white"})})]}),a.jsxs("div",{className:"space-y-2 text-center sm:text-left",children:[a.jsx("h3",{className:"text-xl md:text-2xl font-bold text-gray-900",children:(y==null?void 0:y.fullName)||`${(y==null?void 0:y.firstName)||(p==null?void 0:p.firstName)||"Unknown"} ${(y==null?void 0:y.lastName)||(p==null?void 0:p.lastName)||"User"}`}),a.jsx("p",{className:"text-gray-600",children:(y==null?void 0:y.primaryRole)==="admin"?"Administrator":(y==null?void 0:y.primaryRole)==="issuer"?"Asset Issuer":(y==null?void 0:y.primaryRole)==="manager"?"Portfolio Manager":"Premium Account Holder"}),a.jsxs(Ue,{className:`${y!=null&&y.isVerified||p!=null&&p.isVerified?"bg-green-50 text-green-700 border-green-200":"bg-yellow-50 text-yellow-700 border-yellow-200"}`,children:[a.jsx(RO,{className:"w-3 h-3 mr-1"}),y!=null&&y.isVerified||p!=null&&p.isVerified?"Verified Investor":"Pending Verification"]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900",children:"Email Address"}),a.jsx("p",{className:"text-gray-600 text-sm",children:(y==null?void 0:y.email)||(p==null?void 0:p.email)||"Not provided"})]}),a.jsx(Ue,{variant:"outline",className:`${y!=null&&y.isVerified||p!=null&&p.isVerified?"bg-green-50 text-green-700 border-green-200":"bg-yellow-50 text-yellow-700 border-yellow-200"}`,children:y!=null&&y.isVerified||p!=null&&p.isVerified?"Verified":"Pending"})]})}),a.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900",children:"Phone Number"}),a.jsx("p",{className:"text-gray-600 text-sm",children:(y==null?void 0:y.phone)||"Not provided"})]}),a.jsx(Ue,{variant:"outline",className:`${y!=null&&y.phone?"bg-green-50 text-green-700 border-green-200":"bg-gray-50 text-gray-700 border-gray-200"}`,children:y!=null&&y.phone?"Provided":"Not Set"})]})}),a.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900",children:"Wallet Address"}),a.jsx("p",{className:"text-gray-600 text-sm font-mono break-all",children:(y==null?void 0:y.walletAddress)||(p==null?void 0:p.walletAddress)||m||"Not connected"})]}),a.jsx(Ue,{variant:"outline",className:`${y!=null&&y.walletAddress||p!=null&&p.walletAddress||m?"bg-blue-50 text-blue-700 border-blue-200":"bg-gray-50 text-gray-700 border-gray-200"}`,children:y!=null&&y.walletAddress||p!=null&&p.walletAddress||m?"Connected":"Not Connected"})]})}),(y==null?void 0:y.address)&&a.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900",children:"Address"}),a.jsxs("p",{className:"text-gray-600 text-sm",children:[[y.address.street,y.address.city,y.address.state,y.address.country].filter(Boolean).join(", ")||"Not provided",y.address.zipCode&&` ${y.address.zipCode}`]})]}),a.jsx(Ue,{variant:"outline",className:"bg-purple-50 text-purple-700 border-purple-200",children:"Address Set"})]})}),a.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900",children:"Member Since"}),a.jsx("p",{className:"text-gray-600 text-sm",children:y!=null&&y.createdAt||p!=null&&p.createdAt?new Date((y==null?void 0:y.createdAt)||(p==null?void 0:p.createdAt)).toLocaleDateString("en-US",{year:"numeric",month:"long"}):"Unknown"})]}),a.jsx(Ue,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:y!=null&&y.createdAt||p!=null&&p.createdAt?Math.floor((Date.now()-new Date((y==null?void 0:y.createdAt)||(p==null?void 0:p.createdAt)).getTime())/(1e3*60*60*24*30))+" months":"New"})]})})]})]})})]}),a.jsxs(pe,{className:"border border-gray-200 shadow-sm",children:[a.jsx(yt,{className:"pb-4",children:a.jsxs(vt,{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-gray-900 rounded-lg",children:a.jsx(na,{className:"w-5 md:w-6 h-5 md:h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("span",{className:"text-lg md:text-2xl font-bold text-gray-900",children:"Account Statistics"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Your investment journey"})]})]})}),a.jsxs(ge,{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-3 md:p-4 bg-green-50 rounded-lg border border-green-200 text-center",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg w-fit mx-auto mb-3",children:a.jsx(ns,{className:"w-4 md:w-5 h-4 md:h-5 text-green-600"})}),a.jsx("p",{className:"text-lg md:text-2xl font-bold text-green-600",children:F.length}),a.jsx("p",{className:"text-green-700 text-xs md:text-sm font-medium",children:"Assets Owned"})]}),a.jsxs("div",{className:"p-3 md:p-4 bg-blue-50 rounded-lg border border-blue-200 text-center",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg w-fit mx-auto mb-3",children:a.jsx(Ml,{className:"w-4 md:w-5 h-4 md:h-5 text-blue-600"})}),a.jsx("p",{className:"text-lg md:text-2xl font-bold text-blue-600",children:x.length}),a.jsx("p",{className:"text-blue-700 text-xs md:text-sm font-medium",children:"Transactions"})]}),a.jsxs("div",{className:"p-3 md:p-4 bg-orange-50 rounded-lg border border-orange-200 text-center",children:[a.jsx("div",{className:"p-2 bg-orange-100 rounded-lg w-fit mx-auto mb-3",children:a.jsx(tp,{className:"w-4 md:w-5 h-4 md:h-5 text-orange-600"})}),a.jsx("p",{className:"text-lg md:text-2xl font-bold text-orange-600",children:y!=null&&y.createdAt||p!=null&&p.createdAt?Math.floor((Date.now()-new Date((y==null?void 0:y.createdAt)||(p==null?void 0:p.createdAt)).getTime())/(1e3*60*60*24*30)):0}),a.jsx("p",{className:"text-orange-700 text-xs md:text-sm font-medium",children:"Months Active"})]}),a.jsxs("div",{className:"p-3 md:p-4 bg-purple-50 rounded-lg border border-purple-200 text-center",children:[a.jsx("div",{className:"p-2 bg-purple-100 rounded-lg w-fit mx-auto mb-3",children:a.jsx(eu,{className:"w-4 md:w-5 h-4 md:h-5 text-purple-600"})}),a.jsx("p",{className:"text-lg md:text-2xl font-bold text-purple-600",children:(y==null?void 0:y.kycStatus)==="approved"||(p==null?void 0:p.kycStatus)==="approved"?"Gold":(y==null?void 0:y.kycStatus)==="pending"||(p==null?void 0:p.kycStatus)==="pending"?"Silver":"Bronze"}),a.jsx("p",{className:"text-purple-700 text-xs md:text-sm font-medium",children:"Tier Status"})]})]}),a.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-semibold text-gray-900 text-sm",children:"Investment Level"}),a.jsxs(Ue,{className:"bg-yellow-50 text-orange-700 border-orange-200",children:[a.jsx(eu,{className:"w-3 h-3 mr-1"}),(y==null?void 0:y.kycStatus)==="approved"||(p==null?void 0:p.kycStatus)==="approved"?"Premium Investor":(y==null?void 0:y.kycStatus)==="pending"||(p==null?void 0:p.kycStatus)==="pending"?"Standard Investor":"Basic Investor"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-semibold text-gray-900 text-sm",children:"KYC Status"}),a.jsx(Ue,{variant:"outline",className:`${(y==null?void 0:y.kycStatus)==="approved"||(p==null?void 0:p.kycStatus)==="approved"?"bg-green-50 text-green-700 border-green-200":(y==null?void 0:y.kycStatus)==="pending"||(p==null?void 0:p.kycStatus)==="pending"?"bg-yellow-50 text-yellow-700 border-yellow-200":"bg-red-50 text-red-700 border-red-200"}`,children:(y==null?void 0:y.kycStatus)==="approved"||(p==null?void 0:p.kycStatus)==="approved"?"Approved":(y==null?void 0:y.kycStatus)==="pending"||(p==null?void 0:p.kycStatus)==="pending"?"Pending":"Not Started"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-semibold text-gray-900 text-sm",children:"User Roles"}),a.jsx("div",{className:"flex gap-1",children:((y==null?void 0:y.roles)||(p==null?void 0:p.roles)||[]).map((ae,St)=>a.jsx(Ue,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200 text-xs",children:ae.charAt(0).toUpperCase()+ae.slice(1)},St))})]})]})]})]})]}),a.jsxs(pe,{className:"border border-gray-200 shadow-sm",children:[a.jsx(yt,{className:"pb-4",children:a.jsxs(vt,{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-gray-900 rounded-lg",children:a.jsx(gm,{className:"w-5 md:w-6 h-5 md:h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("span",{className:"text-lg md:text-2xl font-bold text-gray-900",children:"Preferences & Settings"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Customize your experience"})]})]})}),a.jsx(ge,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"font-semibold text-gray-900 text-base md:text-lg",children:"Notifications"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Email Notifications"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Receive updates via email"})]}),a.jsx("div",{className:`w-12 h-6 rounded-full relative ${((xt=(qe=y==null?void 0:y.preferences)==null?void 0:qe.notifications)==null?void 0:xt.email)!==!1?"bg-green-500":"bg-gray-300"}`,children:a.jsx("div",{className:`w-5 h-5 bg-white rounded-full absolute top-0.5 shadow-sm transition-all ${((Te=(Je=y==null?void 0:y.preferences)==null?void 0:Je.notifications)==null?void 0:Te.email)!==!1?"right-0.5":"left-0.5"}`})})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Push Notifications"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Real-time alerts"})]}),a.jsx("div",{className:`w-12 h-6 rounded-full relative ${(Ye=(pt=y==null?void 0:y.preferences)==null?void 0:pt.notifications)!=null&&Ye.push?"bg-green-500":"bg-gray-300"}`,children:a.jsx("div",{className:`w-5 h-5 bg-white rounded-full absolute top-0.5 shadow-sm transition-all ${(Bt=(st=y==null?void 0:y.preferences)==null?void 0:st.notifications)!=null&&Bt.push?"right-0.5":"left-0.5"}`})})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:"SMS Notifications"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Text message alerts"})]}),a.jsx("div",{className:`w-12 h-6 rounded-full relative ${(ct=(rt=y==null?void 0:y.preferences)==null?void 0:rt.notifications)!=null&&ct.sms?"bg-green-500":"bg-gray-300"}`,children:a.jsx("div",{className:`w-5 h-5 bg-white rounded-full absolute top-0.5 shadow-sm transition-all ${(at=(Ht=y==null?void 0:y.preferences)==null?void 0:Ht.notifications)!=null&&at.sms?"right-0.5":"left-0.5"}`})})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"font-semibold text-gray-900 text-base md:text-lg",children:"Account Settings"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Currency Preference"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Display currency"})]}),a.jsx(Ue,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:((Ie=y==null?void 0:y.preferences)==null?void 0:Ie.currency)||"USD"})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Language"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Interface language"})]}),a.jsx(Ue,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:((oe=y==null?void 0:y.preferences)==null?void 0:oe.language)==="en"?"English":((De=y==null?void 0:y.preferences)==null?void 0:De.language)==="es"?"Spanish":((nt=y==null?void 0:y.preferences)==null?void 0:nt.language)==="fr"?"French":"English"})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Last Login"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Last active session"})]}),a.jsx(Ue,{variant:"outline",className:"bg-gray-50 text-gray-700 border-gray-200",children:y!=null&&y.lastLogin||p!=null&&p.lastLogin?new Date((y==null?void 0:y.lastLogin)||(p==null?void 0:p.lastLogin)).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Unknown"})]})]})]})]})})]})]});case"notifications":return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Trading Notifications"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Your escrow status, order updates, and trading activities"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"flex items-center space-x-2 px-3 py-1 bg-blue-50 rounded-lg border border-blue-200",children:[a.jsx(zu,{className:"w-4 h-4 text-blue-600"}),a.jsxs("span",{className:"text-sm font-medium text-blue-700",children:[C," unread"]})]}),C>0&&a.jsx(Z,{variant:"outline",size:"sm",onClick:Lt,children:"Mark All Read"})]})]}),a.jsx(pe,{className:"border border-gray-200 shadow-sm",children:a.jsx(ge,{className:"p-0",children:E.length===0?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(zu,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Notifications Yet"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Your trading activities, escrow status, and order updates will appear here."}),a.jsx(Z,{variant:"outline",onClick:()=>n("transactions"),children:"View Transaction History"})]}):a.jsx("div",{className:"divide-y divide-gray-100",children:E.map(ae=>{var St;return a.jsxs("div",{className:`p-4 md:p-6 hover:bg-gray-50 transition-colors cursor-pointer ${ae.read?"":"bg-blue-50/30 border-l-4 border-l-blue-500"}`,onClick:()=>Pe(ae.id),children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsxs("div",{className:`p-2 rounded-lg ${ae.type==="order_created"?"bg-blue-100":ae.type==="order_filled"?"bg-green-100":ae.type==="order_cancelled"?"bg-red-100":ae.type==="escrow_released"?"bg-yellow-100":"bg-gray-100"}`,children:[ae.type==="order_created"&&a.jsx(Ml,{className:`w-4 h-4 ${((St=ae.orderData)==null?void 0:St.orderType)==="buy"?"text-blue-600":"text-orange-600"}`}),ae.type==="order_filled"&&a.jsx(Gn,{className:"w-4 h-4 text-green-600"}),ae.type==="trade_completed"&&a.jsx(ns,{className:"w-4 h-4 text-green-600"}),ae.type==="escrow_released"&&a.jsx(ux,{className:"w-4 h-4 text-yellow-600"})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"text-sm md:text-base font-semibold text-gray-900 truncate",children:ae.title}),a.jsx("p",{className:"text-xs md:text-sm text-gray-600 mt-1 line-clamp-2",children:ae.message})]})]}),ae.orderData&&a.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg border border-gray-200",children:a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-xs md:text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-600",children:"Asset"}),a.jsx("p",{className:"text-gray-900 truncate",children:ae.orderData.assetName})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-600",children:"Amount"}),a.jsxs("p",{className:"text-gray-900",children:[ae.orderData.amount," tokens"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-600",children:"Price"}),a.jsxs("p",{className:"text-gray-900",children:[ae.orderData.price," Flow"]})]}),ae.orderData.escrowAmount&&a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-600",children:"Escrow"}),a.jsxs("p",{className:"text-gray-900",children:[ae.orderData.escrowAmount," Flow"]})]})]})})]}),a.jsxs("div",{className:"flex flex-col items-end space-y-2 flex-shrink-0 ml-4",children:[a.jsx("div",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${ae.status==="completed"?"bg-green-100 text-green-800":ae.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:ae.status}),a.jsx("div",{className:"text-xs text-gray-500",children:new Date(ae.timestamp).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}),!ae.read&&a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]})]}),ae.transactionHash&&a.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:a.jsxs(Z,{variant:"outline",size:"sm",onClick:Mt=>{Mt.stopPropagation(),window.open(`https://www.flowscan.io/tx/${ae.transactionHash}`,"_blank")},className:"text-xs",children:[a.jsx(jh,{className:"w-3 h-3 mr-1"}),"View Transaction"]})})]},ae.id)})})})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(pe,{className:"border border-gray-200 shadow-sm",children:a.jsx(ge,{className:"p-4 md:p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600 mb-1",children:"ACTIVE ORDERS"}),a.jsx("p",{className:"text-xl md:text-2xl font-bold text-blue-600",children:E.filter(ae=>ae.status==="pending"&&ae.type==="order_created").length})]}),a.jsx("div",{className:"p-2 md:p-3 bg-blue-100 rounded-lg",children:a.jsx(Ml,{className:"w-5 md:w-6 h-5 md:h-6 text-blue-600"})})]})})}),a.jsx(pe,{className:"border border-gray-200 shadow-sm",children:a.jsx(ge,{className:"p-4 md:p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600 mb-1",children:"COMPLETED TRADES"}),a.jsx("p",{className:"text-xl md:text-2xl font-bold text-green-600",children:E.filter(ae=>ae.status==="completed").length})]}),a.jsx("div",{className:"p-2 md:p-3 bg-green-100 rounded-lg",children:a.jsx(Gn,{className:"w-5 md:w-6 h-5 md:h-6 text-green-600"})})]})})}),a.jsx(pe,{className:"border border-gray-200 shadow-sm",children:a.jsx(ge,{className:"p-4 md:p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600 mb-1",children:"FUNDS ESCROWED"}),a.jsxs("p",{className:"text-xl md:text-2xl font-bold text-yellow-600",children:[E.filter(ae=>{var St;return ae.status==="pending"&&((St=ae.orderData)==null?void 0:St.escrowAmount)}).reduce((ae,St)=>{var Mt;return ae+parseFloat(((Mt=St.orderData)==null?void 0:Mt.escrowAmount)||"0")},0).toFixed(4)," Flow"]})]}),a.jsx("div",{className:"p-2 md:p-3 bg-yellow-100 rounded-lg",children:a.jsx(Ql,{className:"w-5 md:w-6 h-5 md:h-6 text-yellow-600"})})]})})})]})]});default:return a.jsxs("div",{className:"space-y-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:(jt=cM.find(ae=>ae.id===e))==null?void 0:jt.label}),a.jsx(pe,{className:"border-0 shadow-sm",children:a.jsx(ge,{className:"p-12 text-center",children:a.jsx("p",{className:"text-gray-600",children:"This section is coming soon..."})})})]})}};return a.jsxs("div",{className:`min-h-screen flex ${d?"dark bg-gray-900":"bg-gray-50"}`,children:[l&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>c(!1)}),a.jsxs(Qt.div,{className:`fixed left-0 top-0 h-full shadow-lg z-50 transition-all duration-300 ${d?"bg-gray-800 border-gray-700":"bg-white"} ${s?"w-16":"w-64"} ${l?"translate-x-0":"-translate-x-full"} lg:translate-x-0`,initial:!1,animate:{width:s?64:256},children:[a.jsx("div",{className:`p-6 border-b ${d?"border-gray-700":"border-gray-200"}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${d?"bg-gray-100":"bg-gray-900"}`,children:a.jsx(Id,{className:`w-5 h-5 ${d?"text-gray-900":"text-white"}`})}),!s&&a.jsxs("div",{children:[a.jsx("p",{className:`font-bold ${d?"text-white":"text-gray-900"}`,children:"AssetDash"}),a.jsx("p",{className:`text-xs ${d?"text-gray-400":"text-gray-600"}`,children:"Portfolio Manager"})]})]}),a.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>c(!1),className:"lg:hidden",children:a.jsx($v,{className:"w-4 h-4"})})]})}),a.jsx("nav",{className:"p-4",children:a.jsx("div",{className:"space-y-2",children:cM.map(fe=>a.jsxs("button",{onClick:()=>{n(fe.id),c(!1)},className:`w-full flex items-center space-x-3 px-3 py-2 rounded-lg transition-colors relative ${e===fe.id?`${d?"bg-gray-700 text-white":"bg-gray-100 text-gray-900"}`:`${d?"text-gray-300 hover:bg-gray-700 hover:text-white":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`}`,children:[a.jsx(fe.icon,{className:"w-5 h-5"}),!s&&a.jsx("span",{className:"font-medium flex-1 text-left",children:fe.label}),!s&&fe.id==="notifications"&&C>0&&a.jsx("div",{className:"inline-flex items-center justify-center w-5 h-5 text-xs font-bold text-white bg-red-500 rounded-full",children:C>99?"99+":C}),s&&fe.id==="notifications"&&C>0&&a.jsx("div",{className:"absolute -top-1 -right-1 inline-flex items-center justify-center w-4 h-4 text-xs font-bold text-white bg-red-500 rounded-full",children:C>9?"9+":C})]},fe.id))})}),a.jsx("div",{className:"absolute bottom-4 left-4 right-4 hidden lg:block",children:a.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>r(!s),className:"w-full justify-center hover:bg-gray-100",children:a.jsx(cq,{className:`w-4 h-4 transition-transform ${s?"":"rotate-180"}`})})})]}),a.jsxs("div",{className:`flex-1 transition-all duration-300 ${s?"lg:ml-16":"lg:ml-64"} ml-0`,children:[a.jsx("header",{className:`border-b px-4 md:px-6 py-4 ${d?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>c(!l),className:"lg:hidden",children:a.jsx(Nq,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:`text-sm ${d?"text-gray-400":"text-gray-600"}`,children:"Welcome back,"}),a.jsx("p",{className:`font-semibold ${d?"text-white":"text-gray-900"}`,children:g&&m?`${m.slice(0,6)}...${m.slice(-4)}`:"Investor"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[a.jsxs(Z,{onClick:()=>t("/issuer",{state:{from:"/dashboard"}}),className:"bg-green-600 hover:bg-green-700 text-white",size:"sm",children:[a.jsx(Gi,{className:"w-4 h-4 mr-2"}),"Register IP"]}),a.jsxs(Z,{onClick:()=>we.error("Derivative registration feature coming soon!"),variant:"outline",size:"sm",className:"hidden md:flex",children:[a.jsx(IO,{className:"w-4 h-4 mr-2"}),"Register Derivative"]}),g?a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("div",{className:"hidden md:flex items-center space-x-2 px-3 py-1 bg-green-50 border border-green-200 rounded-lg",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),a.jsx("span",{className:"text-sm font-medium text-green-700",children:"Connected"})]}),a.jsx(Z,{variant:"outline",size:"sm",onClick:()=>ne(),disabled:L,className:"hidden md:flex",children:L?"Loading...":"Refresh"})]}):a.jsxs(Z,{onClick:me,disabled:L,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[a.jsx(qr,{className:"w-4 h-4 mr-2"}),L?"Connecting...":"Connect Wallet"]}),a.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>u(!d),className:`hidden md:flex ${d?"hover:bg-gray-700 text-yellow-400":"hover:bg-gray-100 text-gray-600"}`,children:a.jsx(yq,{className:`w-5 h-5 ${d?"fill-current":""}`})}),a.jsx(Z,{variant:"ghost",size:"sm",className:"hidden md:flex",children:a.jsx(zu,{className:"w-5 h-5"})}),a.jsx(Z,{variant:"ghost",size:"sm",className:"hidden md:flex",children:a.jsx(gm,{className:"w-5 h-5"})}),a.jsx(DU,{orientation:"vertical",className:"h-6 hidden md:block"}),a.jsx(Z,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700",onClick:()=>t("/marketplace"),children:a.jsx(bq,{className:"w-5 h-5"})})]})]})}),a.jsx("main",{className:`p-4 md:p-6 ${d?"bg-gray-900":""}`,children:a.jsx(oA,{mode:"wait",children:a.jsx(Qt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:d?"text-white":"",children:Zt()},e)})})]}),a.jsx(ir,{open:X,onOpenChange:re,children:a.jsxs(Vs,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx(zs,{children:a.jsxs(Hs,{className:"flex items-center space-x-2",children:[a.jsx(sa,{className:"w-5 h-5 text-blue-600"}),a.jsx("span",{children:"Asset Details"})]})}),ke&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"w-full h-48 rounded-lg overflow-hidden",children:a.jsx(Dd,{src:ke.image,alt:ke.name,className:"w-full h-full object-cover",assetType:ke.type||"Real Estate",tokenId:ke.tokenId})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:ke.name}),a.jsx("p",{className:"text-gray-600 leading-relaxed",children:ke.description})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs font-medium text-gray-600 mb-1",children:"TOKEN ID"}),a.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["#",ke.tokenId]})]}),a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs font-medium text-gray-600 mb-1",children:"OWNED TOKENS"}),a.jsx("p",{className:"text-lg font-bold text-blue-600",children:ke.amount})]}),a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs font-medium text-gray-600 mb-1",children:"PRICE PER TOKEN"}),a.jsxs("p",{className:"text-lg font-bold text-green-600",children:[parseFloat(Be(ke.price)).toFixed(6)," Flow"]})]}),a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs font-medium text-gray-600 mb-1",children:"TOTAL VALUE"}),a.jsxs("p",{className:"text-lg font-bold text-green-600",children:[(parseFloat(Be(ke.price))*ke.amount).toFixed(6)," Flow"]})]})]}),ke.attributes&&ke.attributes.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Asset Properties"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:ke.attributes.map((fe,ye)=>a.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg border border-blue-200",children:[a.jsxs("span",{className:"text-sm font-medium text-blue-700",children:[fe.trait_type,":"]}),a.jsx("span",{className:"text-sm font-bold text-blue-900",children:fe.value})]},ye))})]}),a.jsxs("div",{className:"bg-gray-900 text-white p-4 rounded-lg",children:[a.jsxs("h4",{className:"text-lg font-semibold mb-3 flex items-center",children:[a.jsx(gl,{className:"w-5 h-5 mr-2"}),"Blockchain Information"]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Contract:"}),a.jsxs("span",{className:"font-mono bg-gray-800 px-2 py-1 rounded",children:[ke.seller.substring(0,10),"...",ke.seller.substring(ke.seller.length-8)]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Asset Type:"}),a.jsx("span",{className:"font-medium",children:ke.type})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Network:"}),a.jsx("span",{className:"font-medium",children:"Flow Mainnet "})]}),ke.metadataURI&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Metadata:"}),a.jsx("span",{className:"font-mono bg-gray-800 px-2 py-1 rounded text-xs",children:"IPFS"})]})]})]}),a.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[a.jsxs("h4",{className:"text-lg font-semibold text-green-900 mb-3 flex items-center",children:[a.jsx(ns,{className:"w-5 h-5 mr-2"}),"Performance & Yield"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-green-700 font-medium",children:"Current Performance"}),a.jsx("p",{className:"text-xl font-bold text-green-600",children:"+5.2%"}),a.jsx("p",{className:"text-xs text-green-600",children:"Since purchase"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-green-700 font-medium",children:"Estimated Yearly Yield"}),a.jsx("p",{className:"text-xl font-bold text-green-600",children:"8.0%"}),a.jsx("p",{className:"text-xs text-green-600",children:"Based on asset type"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-green-700 font-medium",children:"Monthly Income"}),a.jsxs("p",{className:"text-xl font-bold text-green-600",children:[(parseFloat(Be(ke.price))*ke.amount*.08/12).toFixed(6)," S"]}),a.jsx("p",{className:"text-xs text-green-600",children:"Estimated"})]})]})]}),a.jsxs("div",{className:"flex space-x-3 pt-4",children:[a.jsx(Z,{variant:"outline",className:"flex-1",onClick:()=>re(!1),children:"Close"}),a.jsx(Q6,{requiresKYC:!0,blockingMode:!1,customMessage:"KYC verification required for P2P trading",onComplianceVerified:()=>{re(!1),be(ke)},children:a.jsxs(Z,{variant:"default",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",onClick:()=>{re(!1),We(ke)},children:[a.jsx(cs,{className:"w-4 h-4 mr-2"}),"Trade P2P"]})})]})]})]})}),a.jsx(ir,{open:z,onOpenChange:K,children:a.jsxs(Vs,{className:"sm:max-w-md",children:[a.jsx(zs,{children:a.jsxs(Hs,{className:"flex items-center space-x-2",children:[a.jsx(cs,{className:"w-5 h-5 text-red-600"}),a.jsx("span",{children:"Sell Asset"})]})}),H&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[a.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:a.jsx(gl,{className:"w-5 h-5 text-gray-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-gray-900",children:H.name}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Token ID: #",H.tokenId]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Owned Tokens"}),a.jsx("p",{className:"font-bold text-gray-900",children:H.amount})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Price per Token"}),a.jsxs("p",{className:"font-bold text-green-600",children:[(parseFloat(H.price)/Math.pow(10,18)).toFixed(4)," S"]})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Rt,{htmlFor:"sellAmount",children:"Amount to Sell"}),a.jsx(Gt,{id:"sellAmount",type:"number",placeholder:"Enter amount",value:Q,onChange:fe=>J(fe.target.value),min:"1",max:H.amount.toString()}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Maximum: ",H.amount," tokens"]})]}),Q&&parseInt(Q)>0&&parseInt(Q)<=H.amount&&a.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[a.jsx("h4",{className:"font-medium text-blue-900 mb-3",children:"Transaction Summary"}),(()=>{const fe=parseInt(Q),ye=un.from(H.price),Ze=ye.mul(fe),Ke=Ze.mul(1).div(100),qe=Ze;return a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-blue-700",children:"Selling:"}),a.jsxs("span",{className:"font-medium text-blue-900",children:[fe," tokens"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-blue-700",children:"Price per token:"}),a.jsxs("span",{className:"font-medium text-blue-900",children:[parseFloat(Be(ye)).toFixed(6)," S"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-blue-700",children:"Total value:"}),a.jsxs("span",{className:"font-medium text-blue-900",children:[parseFloat(Be(Ze)).toFixed(6)," S"]})]}),a.jsxs("div",{className:"border-t border-blue-200 pt-2",children:[a.jsxs("div",{className:"flex justify-between text-red-600",children:[a.jsx("span",{children:"Platform fee (1%):"}),a.jsxs("span",{className:"font-medium",children:["-",parseFloat(Be(Ke)).toFixed(6)," S"]})]}),a.jsxs("div",{className:"flex justify-between font-bold text-green-600 mt-1",children:[a.jsx("span",{children:"You receive:"}),a.jsxs("span",{children:[parseFloat(Be(qe)).toFixed(6)," S"]})]})]}),a.jsx("div",{className:"mt-3 p-2 bg-yellow-50 rounded border border-yellow-200",children:a.jsxs("p",{className:"text-xs text-yellow-800",children:[a.jsx("strong",{children:"Note:"})," You will pay ",parseFloat(Be(Ke)).toFixed(6)," S as platform fee when confirming this transaction."]})})]})})()]}),a.jsxs("div",{className:"flex space-x-3 pt-4",children:[a.jsx(Z,{variant:"outline",className:"flex-1",onClick:()=>K(!1),disabled:te,children:"Cancel"}),a.jsx(Z,{variant:"destructive",className:"flex-1",onClick:je,disabled:te||!Q||parseInt(Q)<=0||parseInt(Q)>H.amount,children:te?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Selling..."]}):a.jsxs(a.Fragment,{children:[a.jsx(cs,{className:"w-4 h-4 mr-2"}),"Sell ",Q||"0"," Tokens"]})})]})]})]})}),secondaryMarketOpen&&ee&&a.jsx($we,{selectedToken:{tokenId:ee.tokenId.toString(),name:ee.name,symbol:ee.name.substring(0,4).toUpperCase(),currentPrice:parseFloat(Be(ee.price)),priceChange24h:0,volume24h:ee.amount*parseFloat(Be(ee.price)),marketCap:0,totalSupply:0,userBalance:ee.amount},onClose:()=>{setSecondaryMarketOpen(!1),he(null)},userWallet:m||""})]})},F1e=()=>{const t=no(),{address:e,isConnected:n,connectWallet:s,disconnectWallet:r}=Mn(),{login:i}=_T(),[o,l]=v.useState(!0),[c,d]=v.useState(!1),[u,h]=v.useState(!1),[f,m]=v.useState(!1),[g,p]=v.useState(null),[w,b]=v.useState(null),[y,N]=v.useState(!1),[A,S]=v.useState("user"),[T,_]=v.useState("email"),[R,B]=v.useState([]),[V,U]=v.useState(null),[L,M]=v.useState({email:"",password:"",confirmPassword:"",firstName:"",lastName:"",acceptTerms:!1,walletAddress:""});v.useEffect(()=>{n&&e?(N(!0),M(C=>({...C,walletAddress:e})),x(e)):(N(!1),M(C=>({...C,walletAddress:""})),B([]),U(null))},[n,e]);const x=async C=>{try{const I=await Lh.verifyWallet(C);I.success&&I.data.walletExists&&(B(I.data.availableRoles),U(I.data.availableRoles.length>0?I.data.availableRoles[0]:null),I.data.userInfo&&M(F=>{var O,k,$;return{...F,firstName:((O=I.data.userInfo)==null?void 0:O.firstName)||"",lastName:((k=I.data.userInfo)==null?void 0:k.lastName)||"",email:(($=I.data.userInfo)==null?void 0:$.email)||""}}))}catch(I){console.error("Wallet verification error:",I)}},j=C=>{const{name:I,value:F,type:O,checked:k}=C.target;M($=>({...$,[I]:O==="checkbox"?k:F})),g&&p(null)},E=()=>{if(T==="wallet")return!y||!L.walletAddress?"Please connect your wallet first":o&&R.length===0?"No registered account found for this wallet":!o&&(!L.firstName||!L.lastName||!L.email)?"First name, last name, and email are required for registration":null;if(!L.email||!L.password)return"Email and password are required";if(!o){if(!L.firstName||!L.lastName)return"First name and last name are required";if(!y||!L.walletAddress)return"Please connect your wallet to complete registration";if(L.password!==L.confirmPassword)return"Passwords do not match";if(L.password.length<6)return"Password must be at least 6 characters long";if(!L.acceptTerms)return"You must accept the terms and conditions"}return null},D=async C=>{var F,O,k;C.preventDefault(),p(null),b(null);const I=E();if(I){p(I);return}m(!0);try{if(o){let $;T==="wallet"?$={walletAddress:L.walletAddress}:$={email:L.email,password:L.password},await i($),b("Login successful! Redirecting...")}else{const $={firstName:L.firstName,lastName:L.lastName,email:L.email,password:L.password,confirmPassword:L.confirmPassword,walletAddress:L.walletAddress,role:A},G=await Lh.register($);if(G.success){b("Registration successful! Redirecting...");const P=((F=G.data.user)==null?void 0:F.primaryRole)||((k=(O=G.data.user)==null?void 0:O.roles)==null?void 0:k[0])||"user";let z="/marketplace";switch(P){case"admin":z="/admin";break;case"issuer":z="/issuer";break;case"manager":z="/manager";break;default:z="/marketplace"}setTimeout(()=>{t(z)},1e3)}}}catch($){console.error("Auth error:",$),p($.message||"An error occurred. Please try again.")}finally{m(!1)}};return a.jsxs("div",{className:"min-h-screen bg-gray-50 flex relative",children:[a.jsx("div",{className:"absolute top-6 left-6 z-20",children:a.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>t("/"),className:"bg-white/90 backdrop-blur-sm border-gray-200 text-gray-700 hover:bg-white hover:text-gray-900 hover:shadow-md transition-all duration-200",children:[a.jsx(Id,{className:"w-4 h-4 mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Home"})]})}),a.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-gray-900 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-800 to-gray-900"}),a.jsx("div",{className:"relative z-10 flex flex-col justify-center items-center p-12 text-white",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"flex items-center justify-center space-x-3 mb-8",children:a.jsx("div",{className:"w-16 h-16 bg-white rounded-2xl flex items-center justify-center",children:a.jsx(gl,{className:"w-10 h-10 text-gray-900"})})}),a.jsx("h1",{className:"text-4xl font-bold mb-3",children:"Orion"}),a.jsx("p",{className:"text-gray-300 text-lg mb-8",children:"Investment Portfolio Management"}),a.jsx("div",{className:"w-24 h-1 bg-white mx-auto mb-8 rounded-full"}),a.jsx("p",{className:"text-gray-400 max-w-md mx-auto leading-relaxed",children:"Secure access to your investment dashboard and portfolio management tools."})]})})]}),a.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-white",children:a.jsxs("div",{className:"w-full max-w-sm",children:[a.jsxs("div",{className:"lg:hidden text-center mb-8",children:[a.jsx("div",{className:"w-12 h-12 bg-gray-900 rounded-xl flex items-center justify-center mx-auto mb-3",children:a.jsx(gl,{className:"w-7 h-7 text-white"})}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"AssetDash"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Portfolio Management"})]}),a.jsxs(pe,{className:"border-0 shadow-xl",children:[a.jsxs(yt,{className:"text-center pb-6",children:[a.jsx(vt,{className:"text-2xl font-bold text-gray-900 mb-2",children:o?"Welcome Back":"Create Account"}),a.jsx("p",{className:"text-gray-600 text-sm",children:o?"Enter your credentials to access your dashboard":"Fill in your information to get started"})]}),a.jsxs(ge,{className:"pt-0",children:[a.jsxs("div",{className:"flex bg-gray-50 rounded-xl p-1 mb-10 mt-8",children:[a.jsx("button",{onClick:()=>l(!0),className:`flex-1 py-3 px-4 rounded-lg text-sm font-medium transition-all duration-200 ${o?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"Sign In"}),a.jsx("button",{onClick:()=>l(!1),className:`flex-1 py-3 px-4 rounded-lg text-sm font-medium transition-all duration-200 ${o?"text-gray-500 hover:text-gray-700":"bg-white text-gray-900 shadow-sm"}`,children:"Sign Up"})]}),(!o||T==="wallet")&&a.jsxs("div",{className:"mb-6",children:[a.jsxs(Rt,{className:"text-sm font-medium text-gray-700 mb-3 block",children:["Connect Wallet ",o?"(Alternative Login)":""]}),a.jsxs("div",{className:"space-y-3",children:[n?a.jsx(Z,{onClick:r,variant:"outline",className:"w-full",children:"Disconnect Wallet"}):a.jsxs(Z,{onClick:s,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:[a.jsx(qr,{className:"w-4 h-4 mr-2"}),"Connect Wallet"]}),y&&e&&a.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center text-green-700",children:[a.jsx(Gn,{className:"w-4 h-4 mr-2"}),a.jsxs("span",{className:"text-sm",children:["Wallet Connected: ",e.slice(0,6),"...",e.slice(-4)]})]}),V&&a.jsxs("div",{className:"mt-2 text-sm text-green-600",children:["Account type: ",V.charAt(0).toUpperCase()+V.slice(1)]}),R.length===0&&o&&a.jsx("div",{className:"mt-2 text-sm text-orange-600",children:"No registered account found for this wallet"})]})]})]}),!o&&V&&a.jsxs("div",{className:"mb-6",children:[a.jsx(Rt,{className:"text-sm font-medium text-gray-700 mb-3 block",children:"Existing Account Detected"}),a.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center text-blue-700",children:[a.jsx(Io,{className:"w-4 h-4 mr-2"}),a.jsxs("span",{className:"text-sm font-medium",children:["This wallet already has roles: ",R.join(", ")]})]}),a.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"You can add additional roles to this wallet or login with existing roles."})]})]}),!o&&!V&&a.jsxs("div",{className:"mb-6",children:[a.jsx(Rt,{className:"text-sm font-medium text-gray-700 mb-3 block",children:"Account Type"}),a.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center text-blue-700",children:[a.jsx(Sh,{className:"w-4 h-4 mr-2"}),a.jsx("span",{className:"text-sm font-medium",children:"User Account - Investor"})]}),a.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Only user accounts can be created here. Issuer and manager accounts are created by administrators."})]})]}),a.jsxs("form",{onSubmit:D,className:"space-y-0",children:[g&&a.jsxs(Ts,{className:"mb-4 border-red-200 bg-red-50",children:[a.jsx(Io,{className:"h-4 w-4 text-red-600"}),a.jsx(Cs,{className:"text-red-800",children:g})]}),w&&a.jsxs(Ts,{className:"mb-4 border-green-200 bg-green-50",children:[a.jsx(Gn,{className:"h-4 w-4 text-green-600"}),a.jsx(Cs,{className:"text-green-800",children:w})]}),!o&&a.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"First Name"}),a.jsxs("div",{className:"relative",children:[a.jsx(Sh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx(Gt,{type:"text",name:"firstName",value:L.firstName,onChange:j,placeholder:"John",className:"pl-10 h-11 border-gray-200 focus:border-gray-900 focus:ring-1 focus:ring-gray-900",required:!o})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Last Name"}),a.jsx(Gt,{type:"text",name:"lastName",value:L.lastName,onChange:j,placeholder:"Doe",className:"h-11 border-gray-200 focus:border-gray-900 focus:ring-1 focus:ring-gray-900",required:!o})]})]}),(T==="email"||!o)&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Email Address"}),a.jsxs("div",{className:"relative",children:[a.jsx(wq,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx(Gt,{type:"email",name:"email",value:L.email,onChange:j,placeholder:"john@example.com",className:"pl-10 h-11 border-gray-200 focus:border-gray-900 focus:ring-1 focus:ring-gray-900",required:!0})]})]}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ql,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx(Gt,{type:c?"text":"password",name:"password",value:L.password,onChange:j,placeholder:"Enter your password",className:"pl-10 pr-10 h-11 border-gray-200 focus:border-gray-900 focus:ring-1 focus:ring-gray-900",required:!0}),a.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:c?a.jsx(X2,{className:"w-4 h-4"}):a.jsx(sa,{className:"w-4 h-4"})})]})]})]}),!o&&a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Confirm Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ql,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx(Gt,{type:u?"text":"password",name:"confirmPassword",value:L.confirmPassword,onChange:j,placeholder:"Confirm your password",className:"pl-10 pr-10 h-11 border-gray-200 focus:border-gray-900 focus:ring-1 focus:ring-gray-900",required:!o}),a.jsx("button",{type:"button",onClick:()=>h(!u),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:u?a.jsx(X2,{className:"w-4 h-4"}):a.jsx(sa,{className:"w-4 h-4"})})]})]}),!o&&a.jsx("div",{className:"mb-6",children:a.jsxs("label",{className:"flex items-start space-x-2",children:[a.jsx("input",{type:"checkbox",name:"acceptTerms",checked:L.acceptTerms,onChange:j,className:"w-4 h-4 text-gray-900 border-gray-300 rounded focus:ring-gray-900 focus:ring-1 mt-0.5",required:!0}),a.jsxs("span",{className:"text-sm text-gray-600 leading-5",children:["I agree to the"," ",a.jsx("button",{type:"button",className:"text-gray-900 hover:text-gray-700 font-medium",children:"Terms of Service"})," ","and"," ",a.jsx("button",{type:"button",className:"text-gray-900 hover:text-gray-700 font-medium",children:"Privacy Policy"})," ","*"]})]})}),o&&a.jsxs("div",{className:"flex items-center justify-between mb-10",children:[a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",className:"w-4 h-4 text-gray-900 border-gray-300 rounded focus:ring-gray-900 focus:ring-1"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Remember me"})]}),a.jsx("button",{type:"button",className:"text-sm text-gray-900 hover:text-gray-700 font-medium",children:"Forgot password?"})]}),a.jsx(Z,{type:"submit",disabled:f,className:"w-full bg-gray-900 hover:bg-gray-800 disabled:bg-gray-400 disabled:cursor-not-allowed text-white h-11 text-base font-medium transition-colors duration-200 mb-10",children:f?a.jsxs(a.Fragment,{children:[a.jsx(dS,{className:"w-4 h-4 mr-2 animate-spin"}),o?"Signing In...":"Creating Account..."]}):a.jsxs(a.Fragment,{children:[o?"Sign In":"Create Account",a.jsx(iq,{className:"w-4 h-4 ml-2"})]})}),o&&a.jsx(a.Fragment,{children:a.jsxs("div",{className:"mt-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t border-gray-200"})}),a.jsx("div",{className:"relative flex justify-center text-sm",children:a.jsx("span",{className:"px-2 bg-white text-gray-500",children:"or continue with"})})]}),a.jsx("div",{className:"mt-6",children:a.jsxs(Z,{type:"button",variant:"outline",className:"w-full h-11 border-gray-200",onClick:()=>_("wallet"),children:[a.jsx(qr,{className:"w-4 h-4 mr-2"}),"Connect Wallet to Login"]})})]})})]})]})]})]})})]})};function L1e(t,e=[]){let n=[];function s(i,o){const l=v.createContext(o),c=n.length;n=[...n,o];function d(h){const{scope:f,children:m,...g}=h,p=(f==null?void 0:f[t][c])||l,w=v.useMemo(()=>g,Object.values(g));return a.jsx(p.Provider,{value:w,children:m})}function u(h,f){const m=(f==null?void 0:f[t][c])||l,g=v.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const r=()=>{const i=n.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return r.scopeName=t,[s,B1e(r,...e)]}function B1e(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var ZT="Progress",eC=100,[U1e,nSe]=L1e(ZT),[V1e,z1e]=U1e(ZT),qV=v.forwardRef((t,e)=>{const{__scopeProgress:n,value:s=null,max:r,getValueLabel:i=H1e,...o}=t;(r||r===0)&&!dM(r)&&console.error(W1e(`${r}`,"Progress"));const l=dM(r)?r:eC;s!==null&&!uM(s,l)&&console.error(K1e(`${s}`,"Progress"));const c=uM(s,l)?s:null,d=hv(c)?i(c,l):void 0;return a.jsx(V1e,{scope:n,value:c,max:l,children:a.jsx(gt.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":hv(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":XV(c,l),"data-value":c??void 0,"data-max":l,...o,ref:e})})});qV.displayName=ZT;var GV="ProgressIndicator",YV=v.forwardRef((t,e)=>{const{__scopeProgress:n,...s}=t,r=z1e(GV,n);return a.jsx(gt.div,{"data-state":XV(r.value,r.max),"data-value":r.value??void 0,"data-max":r.max,...s,ref:e})});YV.displayName=GV;function H1e(t,e){return`${Math.round(t/e*100)}%`}function XV(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function hv(t){return typeof t=="number"}function dM(t){return hv(t)&&!isNaN(t)&&t>0}function uM(t,e){return hv(t)&&!isNaN(t)&&t<=e&&t>=0}function W1e(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${eC}\`.`}function K1e(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${eC} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var QV=qV,q1e=YV;const nj=v.forwardRef(({className:t,value:e,...n},s)=>a.jsx(QV,{ref:s,className:ut("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:a.jsx(q1e,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));nj.displayName=QV.displayName;const G1e=()=>{const{signer:t,isConnected:e,address:n}=Mn(),[s,r]=v.useState(null),[i,o]=v.useState([]),[l,c]=v.useState(!1),[d,u]=v.useState(null),[h,f]=v.useState({invoiceAmount:"",yieldRate:"5.0",notes:""}),[m,g]=v.useState(null),[p,w]=v.useState(!1);v.useEffect(()=>{(async()=>{if(e&&t&&n)try{const _=new Cb(window.ethereum);await _.connect(),r(_),await b()}catch(_){console.error("Failed to initialize settlement processor:",_)}})()},[e,t,n]);const b=async T=>{var _,R,B,V,U;try{if(c(!0),console.log(" Loading real assigned tokens for settlement processing..."),!t||!n){console.log("No signer or address available");return}const{ADMIN_CONTRACT:L,TOKEN_CONTRACT:M,MARKETPLACE_CONTRACT:x}=await Ct(async()=>{const{ADMIN_CONTRACT:P,TOKEN_CONTRACT:z,MARKETPLACE_CONTRACT:K}=await Promise.resolve().then(()=>ia);return{ADMIN_CONTRACT:P,TOKEN_CONTRACT:z,MARKETPLACE_CONTRACT:K}},void 0),{CONTRACT_ABIS:j}=await Ct(async()=>{const{CONTRACT_ABIS:P}=await Promise.resolve().then(()=>ki);return{CONTRACT_ABIS:P}},void 0),{ethers:E}=await Ct(async()=>{const{ethers:P}=await import("./index-DhQz1Dli.js");return{ethers:P}},[]),D=new E.Contract(L,j.ADMIN,t),C=new E.Contract(M,j.ERC1155CORE,t);console.log(" Checking manager authorization for settlement processor...");let I;try{I=await D.getAllManagers(),console.log(" All managers from contract:",I)}catch(P){console.error(" Error calling getAllManagers:",P),ue.error("Failed to fetch managers from contract"),o([]);return}if(!(I||[]).some(P=>P.toLowerCase()===n.toLowerCase())){console.log(" User is not an authorized manager for settlement processing"),ue.error("You are not authorized as a manager"),o([]);return}console.log(" User is authorized manager for settlement processing");const k=await D.getManagerTokens(n);console.log(" Assigned token IDs for settlement:",k.map(P=>P.toString()));const $=k.map(P=>P.toString());if($.length===0){console.log(" No tokens assigned to this manager for settlement"),o([]);return}const G=[];for(const P of $)try{console.log(` Processing settlement token ${P}...`);const z=await C.getTokenInfo(P),K=await C.getTokenLifecycleStatus(P);let H=`Asset #${P}`,q="Investment Asset",Q=null;if(z.metadataURI&&z.metadataURI.length>0)try{console.log(` Fetching metadata for token ${P} from URI: ${z.metadataURI}`);const he=[{name:"Pinata",url:"https://gateway.pinata.cloud/ipfs/"},{name:"IPFS",url:"https://ipfs.io/ipfs/"},{name:"Cloudflare",url:"https://cloudflare-ipfs.com/ipfs/"},{name:"Dweb",url:"https://dweb.link/ipfs/"}];let ke=z.metadataURI;if(z.metadataURI.startsWith("ipfs://")){const se=z.metadataURI.replace("ipfs://","");ke=`${he[0].url}${se}`}else z.metadataURI.startsWith("Qm")&&(ke=`${he[0].url}${z.metadataURI}`);for(const se of he)try{let X=ke;if(z.metadataURI.startsWith("ipfs://")||z.metadataURI.startsWith("Qm")){const ve=z.metadataURI.replace("ipfs://","");X=`${se.url}${ve}`}console.log(` Trying ${se.name} gateway: ${X}`);const re=await fetch(X,{timeout:1e4,headers:{Accept:"application/json","Cache-Control":"no-cache"}});if(re.ok){Q=await re.json(),console.log(` Metadata fetched successfully from ${se.name}:`,Q);break}}catch(X){console.warn(` ${se.name} gateway failed:`,X);continue}if(Q){if(Q.name&&Q.name.trim()&&!Q.name.trim().startsWith("Asset Token #"))H=Q.name.trim();else if(Q.title&&Q.title.trim())H=Q.title.trim();else if(Q.assetName&&Q.assetName.trim())H=Q.assetName.trim();else if((_=Q.assetDetails)!=null&&_.name)H=Q.assetDetails.name.trim();else if((R=Q.assetDetails)!=null&&R.title)H=Q.assetDetails.title.trim();else if((B=Q.assetDetails)!=null&&B.location)q=((V=Q.assetDetails)==null?void 0:V.type)||"Real Estate",H=`${q} in ${Q.assetDetails.location}`;else if(Q.attributes){const se=Q.attributes.find(re=>re.trait_type&&re.trait_type.toLowerCase().includes("location")),X=Q.attributes.find(re=>re.trait_type==="Asset Type");X!=null&&X.value&&(q=X.value),se!=null&&se.value?H=`${q} in ${se.value}`:X!=null&&X.value&&(H=`${X.value} Token #${P}`)}if((U=Q.assetDetails)!=null&&U.type)q=Q.assetDetails.type;else if(Q.attributes){const se=Q.attributes.find(X=>X.trait_type==="Asset Type");se!=null&&se.value&&(q=se.value)}else Q.type&&(q=Q.type);console.log(` Extracted asset details - Name: "${H}", Type: "${q}"`)}}catch(he){console.warn(` Could not fetch metadata for token ${P}:`,he),H=`${q} Asset #${P}`}else console.log(` No metadata URI for token ${P}, using fallback name`),H=`${q} Asset #${P}`;let J=0,te=[];const Me=E.utils.formatEther(z.price.mul(z.supply));try{const ke=await new E.Contract(x,j.MARKETPLACE,t).getTokenHolders(P),[se,X]=ke;J=se.length,te=se.map((re,ve)=>({address:re,amount:E.utils.formatEther(X[ve])})),console.log(` Found ${J} real holders for token ${P}`)}catch(he){console.warn(` Could not fetch holders for token ${P}, using fallback:`,he),J=1,te=[{address:z.issuer,amount:Me}]}const ee={invoiceNumber:`INV-${P}-2024`,dueDate:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],originalAmount:E.utils.formatEther(z.price.mul(z.supply)),currentValue:E.utils.formatEther(z.price.mul(z.supply))};G.push({tokenId:P,name:H,assetType:q,issuer:z.issuer,supply:z.supply.toString(),price:E.utils.formatEther(z.price),lifecycle:K,holderCount:J,totalValueLocked:Me,metadataURI:z.metadataURI,metadata:Q,holders:te,invoiceDetails:ee}),console.log(` Loaded settlement token ${P}: ${H}`)}catch(z){console.warn(`Could not load settlement data for token ${P}:`,z)}o(G),console.log(` Settlement Processor: Loaded ${G.length} tokens for settlement processing`),console.log(" Settlement Processor: Token details:",G.map(P=>({tokenId:P.tokenId,name:P.name,assetType:P.assetType,lifecycle:P.lifecycle,holderCount:P.holderCount})))}catch(L){console.error("Failed to load assigned tokens:",L),ue.error("Failed to load assigned tokens")}finally{c(!1)}},y=()=>{if(!d||!h.invoiceAmount||!h.yieldRate)return;const T=parseFloat(h.invoiceAmount),_=parseFloat(h.yieldRate)/100,R=T/(1+_),B=T-R;let V=[];if(d.holders&&d.holders.length>0){const U=d.holders.reduce((L,M)=>L+parseFloat(M.amount),0);V=d.holders.map(L=>{const M=parseFloat(L.amount)/U,x=T*M;return{address:L.address,amount:x.toFixed(6)}})}else V=[{address:d.issuer,amount:T.toString()}];g({principal:R.toFixed(2),yield:B.toFixed(2),total:T.toFixed(2),holderDistribution:V})};v.useEffect(()=>{d&&h.invoiceAmount&&h.yieldRate&&y()},[d,h.invoiceAmount,h.yieldRate]);const N=async()=>{if(!s||!d||!m){ue.error("Please complete settlement calculation first");return}try{w(!0),console.log(" Starting settlement process with yield distribution...");const{ethers:T}=await Ct(async()=>{const{ethers:B}=await import("./index-DhQz1Dli.js");return{ethers:B}},[]),_=T.utils.parseEther(m.total);if(console.log(" Step 1: Recording invoice settlement..."),console.log(" Settlement amount:",m.total,"FLOW"),console.log(" Settlement amount (Wei):",_.toString()),(await s.processInvoiceSettlement(d.tokenId,_)).success){console.log(" Settlement recorded successfully"),console.log(" Step 2: Distributing yield to token holders...");try{const{PAYMENT_SPLITTER_CONTRACT:B}=await Ct(async()=>{const{PAYMENT_SPLITTER_CONTRACT:x}=await Promise.resolve().then(()=>ia);return{PAYMENT_SPLITTER_CONTRACT:x}},void 0),{CONTRACT_ABIS:V}=await Ct(async()=>{const{CONTRACT_ABIS:x}=await Promise.resolve().then(()=>ki);return{CONTRACT_ABIS:x}},void 0),L=await new T.Contract(B,V.PAYMENTSPLITTER,t).submitRental(d.tokenId,{value:_,gasLimit:5e5});console.log(" Yield distribution transaction sent:",L.hash),ue.info("Distributing yield to token holders...");const M=await L.wait();console.log(" Yield distribution confirmed:",M.transactionHash),ue.success(` Settlement completed for ${d.name} and yield distributed to all token holders!`)}catch(B){console.error("Yield distribution failed:",B),ue.error("Settlement recorded but yield distribution failed. Please try distributing manually.")}console.log(" Step 3: Burning tokens and updating lifecycle...");try{const{TOKEN_CONTRACT:B}=await Ct(async()=>{const{TOKEN_CONTRACT:x}=await Promise.resolve().then(()=>ia);return{TOKEN_CONTRACT:x}},void 0),{CONTRACT_ABIS:V}=await Ct(async()=>{const{CONTRACT_ABIS:x}=await Promise.resolve().then(()=>ki);return{CONTRACT_ABIS:x}},void 0),U=new T.Contract(B,V.ERC1155CORE,t);console.log(" Marking invoice as settled..."),await(await U.markInvoiceSettled(d.tokenId,_,{gasLimit:3e5})).wait(),console.log(" Invoice marked as settled"),console.log(" Burning all tokens..."),await(await U.burnAllTokens(d.tokenId,{gasLimit:3e5})).wait(),console.log(" All tokens burned successfully"),ue.success(` ${d.name} tokens burned successfully! Asset lifecycle completed.`)}catch(B){console.error("Token burning failed:",B),ue.error("Settlement completed but token burning failed. Please burn manually.")}await b(s),u(null),f({invoiceAmount:"",yieldRate:"5.0",notes:""}),g(null)}else throw new Error("Settlement recording failed")}catch(T){console.error("Settlement failed:",T),ue.error(T.message||"Settlement processing failed")}finally{w(!1)}},A=T=>{switch(T){case 0:return a.jsxs(Ue,{variant:"default",className:"bg-green-500",children:[a.jsx(Ed,{className:"w-3 h-3 mr-1"}),"Active"]});case 1:return a.jsxs(Ue,{variant:"secondary",className:"bg-yellow-500",children:[a.jsx(Gn,{className:"w-3 h-3 mr-1"}),"Settled"]});case 2:return a.jsxs(Ue,{variant:"destructive",children:[a.jsx(yy,{className:"w-3 h-3 mr-1"}),"Burned"]});default:return a.jsx(Ue,{variant:"outline",children:"Unknown"})}},S=T=>`${parseFloat(T).toLocaleString()} FLOW`;return a.jsxs("div",{className:"space-y-6",children:[a.jsx(pe,{children:a.jsxs(yt,{children:[a.jsxs(vt,{className:"flex items-center gap-2",children:[a.jsx(cs,{className:"w-5 h-5"}),"Invoice Settlement Processor"]}),a.jsx(ls,{children:"Process invoice settlements and distribute payments to token holders"})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(pe,{children:[a.jsxs(yt,{children:[a.jsx(vt,{children:"Assigned Tokens"}),a.jsx(ls,{children:"Tokens assigned to you for settlement management"})]}),a.jsx(ge,{children:l?a.jsx("div",{className:"flex justify-center p-4",children:a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"})}):i.length===0?a.jsx("p",{className:"text-gray-500 text-center py-4",children:"No tokens assigned"}):a.jsx("div",{className:"space-y-3",children:i.map(T=>a.jsx(pe,{className:`cursor-pointer transition-colors ${(d==null?void 0:d.tokenId)===T.tokenId?"border-blue-500 bg-blue-50":"hover:bg-gray-50"}`,onClick:()=>u(T),children:a.jsx(ge,{className:"p-4",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium",children:T.name}),A(T.lifecycle)]}),a.jsxs("div",{className:"text-xs text-gray-600",children:[T.assetType,"  Token #",T.tokenId]}),T.invoiceDetails&&a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Invoice:"})," ",T.invoiceDetails.invoiceNumber]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Due:"})," ",T.invoiceDetails.dueDate]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Value:"})," ",S(T.invoiceDetails.currentValue)]})]}),a.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Ah,{className:"w-3 h-3"}),T.holderCount," holders"]}),a.jsxs("span",{children:[S(T.totalValueLocked)," locked"]})]})]}),T.lifecycle===0&&a.jsx(Z,{size:"sm",variant:(d==null?void 0:d.tokenId)===T.tokenId?"default":"outline",children:(d==null?void 0:d.tokenId)===T.tokenId?"Selected":"Select"})]})})},T.tokenId))})})]}),a.jsxs(pe,{children:[a.jsxs(yt,{children:[a.jsx(vt,{children:"Settlement Processing"}),a.jsx(ls,{children:d?`Processing settlement for ${d.name} (Token #${d.tokenId})`:"Select a token to begin settlement"})]}),a.jsx(ge,{children:d?d.lifecycle!==0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(Gn,{className:"w-12 h-12 mx-auto mb-4"}),a.jsx("p",{children:"This token has already been processed"})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Rt,{htmlFor:"invoiceAmount",children:"Invoice Settlement Amount (FLOW)"}),a.jsx(Gt,{id:"invoiceAmount",type:"number",step:"0.01",placeholder:"Enter received invoice amount",value:h.invoiceAmount,onChange:T=>f(_=>({..._,invoiceAmount:T.target.value}))})]}),a.jsxs("div",{children:[a.jsx(Rt,{htmlFor:"yieldRate",children:"Yield Rate (%)"}),a.jsx(Gt,{id:"yieldRate",type:"number",step:"0.1",placeholder:"5.0",value:h.yieldRate,onChange:T=>f(_=>({..._,yieldRate:T.target.value}))})]}),a.jsxs("div",{children:[a.jsx(Rt,{htmlFor:"notes",children:"Settlement Notes (Optional)"}),a.jsx(Gt,{id:"notes",placeholder:"Add any settlement notes",value:h.notes,onChange:T=>f(_=>({..._,notes:T.target.value}))})]})]}),m&&a.jsxs(pe,{className:"bg-blue-50 border-blue-200",children:[a.jsx(yt,{className:"pb-3",children:a.jsxs(vt,{className:"text-lg flex items-center gap-2",children:[a.jsx(lq,{className:"w-4 h-4"}),"Settlement Breakdown"]})}),a.jsxs(ge,{className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Principal"}),a.jsx("p",{className:"font-medium",children:S(m.principal)})]}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-gray-600",children:["Yield (",h.yieldRate,"%)"]}),a.jsx("p",{className:"font-medium",children:S(m.yield)})]})]}),a.jsx("div",{className:"border-t pt-2",children:a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"font-semibold",children:"Total Distribution:"}),a.jsx("span",{className:"font-semibold",children:S(m.total)})]})}),a.jsxs("div",{className:"mt-4",children:[a.jsx("p",{className:"text-sm font-medium mb-2",children:"Holder Distribution:"}),a.jsx("div",{className:"space-y-1 text-xs",children:m.holderDistribution.map((T,_)=>a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"font-mono",children:T.address}),a.jsx("span",{children:S(T.amount)})]},_))})]})]})]}),a.jsx(Z,{onClick:N,disabled:!m||p,className:"w-full",size:"lg",children:p?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing Settlement..."]}):a.jsxs(a.Fragment,{children:[a.jsx(cs,{className:"w-4 h-4 mr-2"}),"Process Settlement & Burn Tokens"]})}),m&&a.jsxs("div",{className:"text-xs text-gray-500 text-center",children:[" This will distribute ",S(m.total)," to all token holders and permanently burn all tokens for this invoice."]})]}):a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(np,{className:"w-12 h-12 mx-auto mb-4"}),a.jsx("p",{children:"Please select a token from the list to begin settlement processing"})]})})]})]})]})},Y1e=()=>{const{signer:t,isConnected:e,address:n}=Mn(),[s,r]=v.useState(null),[i,o]=v.useState([]),[l,c]=v.useState([]),[d,u]=v.useState({totalSettlements:0,totalValueProcessed:"0",averageYieldRate:0,averageProcessingTime:0,successRate:0}),[h,f]=v.useState(!1),[m,g]=v.useState(""),[p,w]=v.useState(null),[b,y]=v.useState(!1);v.useEffect(()=>{if(e&&t&&n){const R=new Cb(window.ethereum);R.connect().then(()=>{r(R),N()}).catch(console.error)}},[e,t,n]);const N=async R=>{try{if(f(!0),console.log(" Loading real settlement history from blockchain..."),!t||!n){console.log("No signer or address available");return}const{ADMIN_CONTRACT:B,TOKEN_CONTRACT:V,MARKETPLACE_CONTRACT:U,PAYMENT_SPLITTER_CONTRACT:L}=await Ct(async()=>{const{ADMIN_CONTRACT:H,TOKEN_CONTRACT:q,MARKETPLACE_CONTRACT:Q,PAYMENT_SPLITTER_CONTRACT:J}=await Promise.resolve().then(()=>ia);return{ADMIN_CONTRACT:H,TOKEN_CONTRACT:q,MARKETPLACE_CONTRACT:Q,PAYMENT_SPLITTER_CONTRACT:J}},void 0),{CONTRACT_ABIS:M}=await Ct(async()=>{const{CONTRACT_ABIS:H}=await Promise.resolve().then(()=>ki);return{CONTRACT_ABIS:H}},void 0),{ethers:x}=await Ct(async()=>{const{ethers:H}=await import("./index-DhQz1Dli.js");return{ethers:H}},[]),j=new x.Contract(B,M.ADMIN,t),E=new x.Contract(V,M.ERC1155CORE,t),D=new x.Contract(L,M.PAYMENTSPLITTER,t),C=new x.Contract(U,M.MARKETPLACE,t);if(!(await j.getAllManagers()).some(H=>H.toLowerCase()===n.toLowerCase())){console.log(" User is not an authorized manager"),o([]),c([]);return}const k=(await j.getManagerTokens(n)).map(H=>H.toString());if(console.log(" Manager assigned tokens:",k),k.length===0){console.log(" No tokens assigned to this manager"),o([]),c([]);return}const $=[];for(const H of k)try{console.log(` Fetching settlement events for token ${H}...`);const q=await E.getTokenInfo(H),Q=await E.getTokenLifecycleStatus(H),J=D.filters.RentalDistributed(H),te=await D.queryFilter(J,0,"latest");console.log(` Found ${te.length} rental events for token ${H}`);for(let Me=0;Me<te.length;Me++){const ee=te[Me],{totalAmount:he,toHolders:ke,toPlatform:se}=ee.args,X=await t.provider.getBlock(ee.blockNumber),re=new Date(X.timestamp*1e3).toISOString().split("T")[0];let ve=[],$e=0;try{const W=await C.getTokenHolders(H),[de,ne]=W;$e=de.length;const le=x.utils.formatEther(ke);ve=de.map((Ne,Re)=>{const Pe=parseFloat(x.utils.formatEther(ne[Re])),Lt=parseFloat(q.supply.toString()),ze=Pe/Lt*100,je=ze/100*parseFloat(le);return{address:`${Ne.slice(0,6)}...${Ne.slice(-4)}`,amount:je.toFixed(6),percentage:Math.round(ze*100)/100}})}catch(W){console.warn(` Could not fetch holders for token ${H}:`,W),$e=1,ve=[{address:`${q.issuer.slice(0,6)}...${q.issuer.slice(-4)}`,amount:x.utils.formatEther(ke),percentage:100}]}const it=parseFloat(x.utils.formatEther(q.price.mul(q.supply))),Oe=parseFloat(x.utils.formatEther(ke)),ht=it>0?Oe/it*100:0;let lt=`Asset #${H}`;if(q.metadataURI&&q.metadataURI.length>0)try{let W=q.metadataURI;q.metadataURI.startsWith("ipfs://")?W=`https://gateway.pinata.cloud/ipfs/${q.metadataURI.replace("ipfs://","")}`:q.metadataURI.startsWith("Qm")&&(W=`https://gateway.pinata.cloud/ipfs/${q.metadataURI}`);const de=await fetch(W);if(de.ok){const ne=await de.json();lt=(ne==null?void 0:ne.name)||(ne==null?void 0:ne.title)||lt}}catch(W){console.warn(` Could not fetch metadata for token ${H}:`,W)}const me={id:`${H}-${Me}`,tokenId:H,invoiceNumber:`${lt.replace(/\s+/g,"-").toUpperCase()}-${H}`,settlementDate:re,totalAmount:x.utils.formatEther(he),principalAmount:x.utils.formatEther(he.sub(ke.sub(se))),yieldAmount:x.utils.formatEther(ke),yieldRate:Math.round(ht*100)/100,holderCount:$e,status:"completed",transactionHash:ee.transactionHash,notes:`Yield distribution for ${lt}`,holderDistribution:ve};$.push(me)}if(te.length===0&&Q===0){let Me=`Asset #${H}`;if(q.metadataURI&&q.metadataURI.length>0)try{let he=q.metadataURI;q.metadataURI.startsWith("ipfs://")?he=`https://gateway.pinata.cloud/ipfs/${q.metadataURI.replace("ipfs://","")}`:q.metadataURI.startsWith("Qm")&&(he=`https://gateway.pinata.cloud/ipfs/${q.metadataURI}`);const ke=await fetch(he);if(ke.ok){const se=await ke.json();Me=(se==null?void 0:se.name)||(se==null?void 0:se.title)||Me}}catch(he){console.warn(` Could not fetch metadata for token ${H}:`,he)}const ee={id:`${H}-pending`,tokenId:H,invoiceNumber:`${Me.replace(/\s+/g,"-").toUpperCase()}-${H}`,settlementDate:new Date().toISOString().split("T")[0],totalAmount:"0",principalAmount:x.utils.formatEther(q.price.mul(q.supply)),yieldAmount:"0",yieldRate:0,holderCount:0,status:"pending",transactionHash:"",notes:`Awaiting first yield distribution for ${Me}`,holderDistribution:[]};$.push(ee)}}catch(q){console.error(` Error processing token ${H}:`,q)}$.sort((H,q)=>new Date(q.settlementDate).getTime()-new Date(H.settlementDate).getTime()),console.log(` Loaded ${$.length} settlement records`),o($),c($);const G=$.filter(H=>H.status==="completed"),P=G.reduce((H,q)=>H+parseFloat(q.totalAmount),0),z=G.length>0?G.reduce((H,q)=>H+q.yieldRate,0)/G.length:0,K=$.length>0?G.length/$.length*100:0;u({totalSettlements:$.length,totalValueProcessed:P.toString(),averageYieldRate:Math.round(z*100)/100,averageProcessingTime:1,successRate:Math.round(K*100)/100})}catch(B){console.error("Failed to load settlement history:",B),ue.error("Failed to load settlement history from blockchain")}finally{f(!1)}};v.useEffect(()=>{if(!m)c(i);else{const R=i.filter(B=>B.invoiceNumber.toLowerCase().includes(m.toLowerCase())||B.tokenId.includes(m)||B.transactionHash.toLowerCase().includes(m.toLowerCase()));c(R)}},[m,i]);const A=R=>{switch(R){case"completed":return a.jsxs(Ue,{variant:"default",className:"bg-green-500",children:[a.jsx(Gn,{className:"w-3 h-3 mr-1"}),"Completed"]});case"pending":return a.jsx(Ue,{variant:"secondary",className:"bg-yellow-500",children:"Pending"});case"failed":return a.jsx(Ue,{variant:"destructive",children:"Failed"});default:return a.jsx(Ue,{variant:"outline",children:R})}},S=R=>`${parseFloat(R).toLocaleString()} FLOW`,T=R=>new Date(R).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),_=()=>{const R=l.map(M=>({"Token ID":M.tokenId,"Invoice Number":M.invoiceNumber,"Settlement Date":M.settlementDate,"Total Amount (FLOW)":M.totalAmount,"Principal (FLOW)":M.principalAmount,"Yield (FLOW)":M.yieldAmount,"Yield Rate (%)":M.yieldRate,"Holder Count":M.holderCount,Status:M.status,"Transaction Hash":M.transactionHash})),B=[Object.keys(R[0]).join(","),...R.map(M=>Object.values(M).join(","))].join(`
`),V=new Blob([B],{type:"text/csv"}),U=window.URL.createObjectURL(V),L=document.createElement("a");L.href=U,L.download=`settlement-history-${new Date().toISOString().split("T")[0]}.csv`,L.click(),window.URL.revokeObjectURL(U),ue.success("Settlement history exported successfully")};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-5 gap-4",children:[a.jsx(pe,{children:a.jsx(ge,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(AE,{className:"h-4 w-4 text-blue-600"}),a.jsxs("div",{className:"ml-2",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Settlements"}),a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:d.totalSettlements})]})]})})}),a.jsx(pe,{children:a.jsx(ge,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(cs,{className:"h-4 w-4 text-green-600"}),a.jsxs("div",{className:"ml-2",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Processed"}),a.jsx("p",{className:"text-lg font-bold text-green-600",children:S(d.totalValueProcessed)})]})]})})}),a.jsx(pe,{children:a.jsx(ge,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ah,{className:"h-4 w-4 text-purple-600"}),a.jsxs("div",{className:"ml-2",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Yield Rate"}),a.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[d.averageYieldRate.toFixed(1),"%"]})]})]})})}),a.jsx(pe,{children:a.jsx(ge,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(tp,{className:"h-4 w-4 text-orange-600"}),a.jsxs("div",{className:"ml-2",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Processing"}),a.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[d.averageProcessingTime,"d"]})]})]})})}),a.jsx(pe,{children:a.jsx(ge,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Gn,{className:"h-4 w-4 text-green-600"}),a.jsxs("div",{className:"ml-2",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Success Rate"}),a.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[d.successRate.toFixed(0),"%"]})]})]})})})]}),a.jsxs(pe,{children:[a.jsx(yt,{children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsxs(vt,{className:"flex items-center gap-2",children:[a.jsx(AE,{className:"w-5 h-5"}),"Settlement History"]}),a.jsx(ls,{children:"Complete history of processed invoice settlements"})]}),a.jsx("div",{className:"flex gap-2",children:a.jsxs(Z,{variant:"outline",onClick:_,children:[a.jsx(kh,{className:"w-4 h-4 mr-2"}),"Export CSV"]})})]})}),a.jsxs(ge,{children:[a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"relative",children:[a.jsx(uS,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx(Gt,{placeholder:"Search by invoice number, token ID, or transaction hash...",value:m,onChange:R=>g(R.target.value),className:"pl-10"})]})}),h?a.jsx("div",{className:"flex justify-center p-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):l.length===0?a.jsx("p",{className:"text-gray-500 text-center py-8",children:"No settlements found"}):a.jsx("div",{className:"space-y-4",children:l.map(R=>a.jsx(pe,{className:"border-l-4 border-l-green-500",children:a.jsx(ge,{className:"p-6",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"font-bold text-lg",children:R.invoiceNumber}),A(R.status),a.jsxs(Ue,{variant:"outline",children:["Token #",R.tokenId]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Settlement Date"}),a.jsxs("p",{className:"font-medium flex items-center gap-1",children:[a.jsx(tp,{className:"w-3 h-3"}),T(R.settlementDate)]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Total Amount"}),a.jsx("p",{className:"font-medium",children:S(R.totalAmount)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Yield Rate"}),a.jsxs("p",{className:"font-medium",children:[R.yieldRate,"%"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Holders"}),a.jsxs("p",{className:"font-medium flex items-center gap-1",children:[a.jsx(Ah,{className:"w-3 h-3"}),R.holderCount]})]})]}),a.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Principal"}),a.jsx("p",{className:"font-medium",children:S(R.principalAmount)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Yield"}),a.jsx("p",{className:"font-medium",children:S(R.yieldAmount)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Transaction"}),a.jsxs("p",{className:"font-mono text-xs",children:[R.transactionHash.slice(0,10),"..."]})]})]})}),R.notes&&a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsx("strong",{children:"Notes:"})," ",R.notes]})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx(Z,{size:"sm",variant:"outline",onClick:()=>{w(R),y(!0)},children:"View Details"}),a.jsx(Z,{size:"sm",variant:"outline",onClick:()=>{window.open(`https://www.flowscan.io/tx/${R.transactionHash}`,"_blank")},children:"View Tx"})]})]})})},R.id))})]})]}),p&&b&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs(pe,{className:"w-full max-w-4xl max-h-[80vh] overflow-auto",children:[a.jsxs(yt,{children:[a.jsxs(vt,{children:["Settlement Details - ",p.invoiceNumber]}),a.jsx(ls,{children:"Complete settlement breakdown and holder distribution"})]}),a.jsxs(ge,{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-3",children:"Settlement Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Token ID:"}),a.jsxs("span",{className:"font-medium",children:["#",p.tokenId]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Invoice Number:"}),a.jsx("span",{className:"font-medium",children:p.invoiceNumber})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Settlement Date:"}),a.jsx("span",{className:"font-medium",children:T(p.settlementDate)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Status:"}),A(p.status)]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-3",children:"Financial Breakdown"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Principal Amount:"}),a.jsx("span",{className:"font-medium",children:S(p.principalAmount)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Yield Amount:"}),a.jsx("span",{className:"font-medium",children:S(p.yieldAmount)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Yield Rate:"}),a.jsxs("span",{className:"font-medium",children:[p.yieldRate,"%"]})]}),a.jsxs("div",{className:"flex justify-between border-t pt-2",children:[a.jsx("span",{className:"font-medium",children:"Total Distributed:"}),a.jsx("span",{className:"font-bold",children:S(p.totalAmount)})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-3",children:"Holder Distribution"}),a.jsx("div",{className:"space-y-2",children:p.holderDistribution.map((R,B)=>a.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-mono text-sm",children:R.address}),a.jsxs("p",{className:"text-xs text-gray-600",children:[R.percentage,"% of total supply"]})]}),a.jsx("div",{className:"text-right",children:a.jsx("p",{className:"font-medium",children:S(R.amount)})})]},B))})]}),a.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[a.jsx(Z,{variant:"outline",onClick:()=>{window.open(`https://www.flowscan.io/tx/${p.transactionHash}`,"_blank")},children:"View on Explorer"}),a.jsx(Z,{variant:"outline",onClick:()=>y(!1),children:"Close"})]})]})]})})]})},X1e=()=>{const[t,e]=v.useState(!1),{provider:n,signer:s,address:r,isConnected:i}=Mn(),[o,l]=v.useState(null),[c,d]=v.useState(!1),[u,h]=v.useState(null),[f,m]=v.useState(null),[g,p]=v.useState(null),[w,b]=v.useState(null),[y,N]=v.useState([]),[A,S]=v.useState([]),[T,_]=v.useState(!1),[R,B]=v.useState(null),[V,U]=v.useState("overview"),[L,M]=v.useState(!1),[x,j]=v.useState(!1),[E,D]=v.useState(!1),[C,I]=v.useState({tokenId:"",assetName:"",amount:0,month:"",type:"rental",notes:"",receipts:[]}),[F,O]=v.useState([]),[k,$]=v.useState(0),[G,P]=v.useState(0),[z,K]=v.useState(!1);v.useEffect(()=>{(async()=>{if(!i||!r||!s){console.log("Wallet not connected, resetting manager state"),l(null),S([]),N([]);return}d(!0),console.log(" Starting contract initialization and manager authorization check for:",r);try{await H()}catch(re){console.error(" Error during initialization:",re),we.error("Failed to initialize contracts")}finally{d(!1)}})()},[i,r,s]);const H=async()=>{try{if(!i||!s){console.log(" Wallet not connected or signer not available");return}console.log(" Initializing admin contract..."),console.log("Contract address:",yn);const X=new Xe(yn,As.ADMIN,s);try{if(await s.provider.getCode(yn)==="0x")throw new Error("Contract not deployed at this address")}catch(it){throw console.error(" Contract verification failed:",it),it}h(X),console.log(" Admin contract initialized successfully");let re=null;try{re=new Xe(Sr,As.ERC1155CORE,s),m(re),console.log(" Token contract initialized successfully")}catch(it){console.warn(" Token contract initialization failed:",it)}let ve=null;try{ve=new Xe(Tn,As.MARKETPLACE,s),p(ve),console.log(" Marketplace contract initialized successfully")}catch(it){console.warn(" Marketplace contract initialization failed:",it)}let $e=null;try{$e=new Xe(c9,As.PAYMENTSPLITTER,s),b($e),console.log(" Payment splitter contract initialized successfully")}catch(it){console.warn(" Payment splitter contract initialization failed:",it)}await q(X,re,ve,$e)}catch(X){console.error(" Error initializing admin contract:",X),we.error("Failed to initialize admin contract")}},q=async(X,re,ve,$e)=>{const it=X||u;if(!it||!r){console.log(" Admin contract not initialized or address not available");return}try{console.log(" Checking manager authorization for:",r);let Oe;try{Oe=await it.getAllManagers(),console.log(" All managers from contract:",Oe)}catch(me){console.error(" Error calling getAllManagers:",me),we.error("Failed to fetch managers from contract"),l(!1);return}const ht=Oe||[],lt=ht.some(me=>me.toLowerCase()===r.toLowerCase());l(lt),lt?(console.log(" User is authorized manager"),we.success("Manager authorization confirmed!"),await Q(it,re,ve,$e)):(console.log(" User is not an authorized manager"),we.error("You are not authorized as a manager"),S([]),N([])),console.log(` Manager check completed. Authorized: ${lt}`),console.log(` Total Managers: ${ht.length}`)}catch(Oe){console.error(" Error checking manager authorization:",Oe),l(!1),we.error("Failed to check manager authorization")}},Q=async(X,re,ve,$e)=>{const it=X||u,Oe=re||f,ht=ve||g;if(!it||!r){console.log(" Contract not initialized or address not available");return}try{_(!0),console.log(" Fetching assigned assets for manager:",r);const lt=await it.getManagerTokens(r);console.log(" Assigned token IDs:",lt.map(ne=>ne.toString()));const me=lt.map(ne=>ne.toString());if(N(me),me.length===0){console.log(" No assets assigned to this manager"),S([]);return}const W=[];for(const ne of me)try{if(console.log(` Processing metadata for token ${ne}...`),Oe)try{if(await Oe.getTokenLifecycleStatus(ne)===2){console.log(` Skipping burned token ${ne} in manager dashboard`);continue}}catch{console.warn(` Could not check lifecycle for token ${ne}, including in manager dashboard`)}let le={},Ne=un.from(0),Re="",Pe=`Asset #${ne}`;if(Oe)try{const We=await Oe.getTokenInfo(ne);Ne=We.price,Re=We.issuer;const be=We.metadataURI;if(console.log(` Token ${ne} info:`,{price:Be(Ne),issuer:Re,metadataURI:be}),be&&be.length>0)try{let Se=be;be.startsWith("ipfs://")?Se=`https://gateway.pinata.cloud/ipfs/${be.replace("ipfs://","")}`:be.startsWith("Qm")&&(Se=`https://gateway.pinata.cloud/ipfs/${be}`),console.log(` Fetching metadata from: ${Se}`);const Fe=await fetch(Se);Fe.ok?(le=await Fe.json(),Pe=(le==null?void 0:le.name)||(le==null?void 0:le.title)||Pe,console.log(` Fetched metadata for token ${ne}:`,le)):console.warn(` Metadata fetch failed with status: ${Fe.status}`)}catch(Se){console.warn(` Could not fetch metadata for token ${ne}:`,Se)}if(!(le!=null&&le.name))try{const Se=await Oe.tokenMetadata(ne);Se&&Se!==be&&console.log(` Trying direct tokenMetadata call: ${Se}`)}catch(Se){console.warn(" Direct tokenMetadata call failed:",Se)}}catch(We){console.warn(` Could not fetch token info for ${ne}:`,We);try{Ne=await Oe.tokenPrice(ne),Re=await Oe.tokenIssuer(ne)}catch(be){console.warn(" Fallback token calls failed:",be)}}let Lt=1e3,ze=0;if(ht)try{const We=await ht.totalTokensListed(ne);Lt=parseInt(We.toString()),ze=Lt,console.log(` Token ${ne} marketplace data: ${ze}/${Lt} listed`)}catch(We){console.warn(` Could not fetch marketplace data for token ${ne}:`,We)}const je={tokenId:ne,name:Pe,type:J(le),location:te(le),totalTokens:Lt,soldTokens:ze,currentValue:parseFloat(Be(Ne)),monthlyIncome:(le==null?void 0:le.expectedMonthlyIncome)||0,occupancyRate:(le==null?void 0:le.occupancyRate)||85,lastInspection:(le==null?void 0:le.lastInspection)||"2024-03-01",nextPayment:(le==null?void 0:le.nextPayment)||"2024-04-01",status:(le==null?void 0:le.status)||"active",metadataURI:le?`ipfs://token${ne}`:"",images:le!=null&&le.images||le!=null&&le.image?[le.image]:[]};W.push(je),console.log(` Processed asset ${ne}:`,je.name)}catch(le){console.error(` Error processing asset ${ne}:`,le),W.push({tokenId:ne,name:`Asset #${ne}`,type:"real-estate",location:"Unknown",totalTokens:1e3,soldTokens:750,currentValue:0,monthlyIncome:0,occupancyRate:0,lastInspection:"2024-03-01",nextPayment:"2024-04-01",status:"active",metadataURI:"",images:[]})}S(W),console.log(` Loaded ${W.length} assigned assets`),$(W.length);const de=W.reduce((ne,le)=>ne+le.monthlyIncome,0);P(de)}catch(lt){console.error(" Error fetching assigned assets:",lt),we.error(`Failed to load assigned assets: ${lt.message||"Unknown error"}`)}finally{_(!1)}},J=X=>{if(!(X!=null&&X.attributes))return"real-estate";const re=X.attributes.find(ve=>ve.trait_type==="Asset Type"||ve.trait_type==="asset_type");if(re!=null&&re.value){const ve=re.value.toLowerCase();if(ve.includes("real")||ve.includes("estate"))return"real-estate";if(ve.includes("commodity")||ve.includes("gold"))return"commodity";if(ve.includes("bond"))return"bonds";if(ve.includes("stock")||ve.includes("equity"))return"equity"}return"real-estate"},te=X=>{if(!(X!=null&&X.assetDetails))return"Unknown Location";const re=X.assetDetails;return re.location?re.location:re.city&&re.state?`${re.city}, ${re.state}`:re.address?re.address:"Unknown Location"},Me=async()=>{try{if(!i){we.error("Please connect your wallet first");return}we.success("Wallet connected successfully!")}catch(X){console.error("Wallet connection failed:",X),we.error(`Failed to connect wallet: ${X.message||"Unknown error"}`)}},ee=async X=>{console.log("fetchManagerAssets called - refreshing assigned assets"),o&&u&&await Q(u,f,g)},he=async()=>{if(!C.tokenId||!C.amount||!C.month){we.error("Please fill all required fields");return}if(!w||!s){we.error("Payment splitter contract not initialized or wallet not connected");return}const X=A.find(re=>re.tokenId===C.tokenId);if(!X){we.error("Selected asset not found in your assigned assets");return}if(C.amount<=0){we.error("Amount must be greater than 0");return}K(!0);try{console.log(" Submitting rental income to payment splitter..."),console.log("Asset:",X.name),console.log("Token ID:",C.tokenId),console.log("Amount (S):",C.amount),console.log("Income Type:",C.type),console.log("Period:",C.month);const re=Zr(C.amount.toString());console.log("Amount in Wei:",re.toString());const ve=await w.submitRental(C.tokenId,{value:re,gasLimit:5e5});console.log(" Transaction sent:",ve.hash),we.info("Transaction submitted. Waiting for confirmation...");const $e=await ve.wait();console.log(" Transaction confirmed:",$e.transactionHash);const it={id:`inc_${Date.now()}`,tokenId:C.tokenId,assetName:C.assetName,amount:C.amount,perToken:0,submittedDate:new Date().toISOString().split("T")[0],distributedDate:new Date().toISOString().split("T")[0],type:C.type,status:"distributed"};O(Oe=>[it,...Oe]),M(!1),I({tokenId:"",assetName:"",amount:0,month:"",type:"rental",notes:"",receipts:[]}),we.success(`${C.type.charAt(0).toUpperCase()+C.type.slice(1)} income of ${C.amount} ETH distributed successfully for ${X.name}!`)}catch(re){console.error(" Error submitting rental income:",re);let ve="Failed to submit rental income";re.code===4001?ve="Transaction cancelled by user":re.reason?ve=`Transaction failed: ${re.reason}`:re.message&&(ve=re.message),we.error(ve)}finally{K(!1)}},ke=X=>{switch(X){case"active":return"bg-green-500";case"maintenance":return"bg-yellow-500";case"vacancy":return"bg-red-500";case"development":return"bg-blue-500";default:return"bg-gray-500"}},se=X=>{switch(X){case"real-estate":return Uc;case"commodity":return Hu;case"bonds":return Gi;case"equity":return ns;default:return Uc}};return a.jsxs("div",{className:`min-h-screen ${t?"bg-gray-950":"bg-gray-50"}`,children:[a.jsx("header",{className:`${t?"bg-gray-900/50 backdrop-blur-xl border-gray-800":"bg-white/80 backdrop-blur-xl border-gray-200"} border-b sticky top-0 z-50`,children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-emerald-500 to-blue-500 rounded-lg flex items-center justify-center",children:a.jsx(gm,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:`text-xl font-bold ${t?"text-white":"text-gray-900"}`,children:"Asset Manager"}),a.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:"Portfolio Management Dashboard"})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[i?a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"flex items-center space-x-2 bg-green-500/10 px-3 py-2 rounded-lg border border-green-500/20",children:[a.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),a.jsx("span",{className:"text-green-400 text-sm font-medium",children:r?`${r.slice(0,6)}...${r.slice(-4)}`:"Unknown"})]}),o?a.jsxs("div",{className:"flex items-center space-x-2 bg-emerald-500/10 px-3 py-2 rounded-lg border border-emerald-500/20",children:[a.jsx(Gn,{className:"w-4 h-4 text-emerald-400"}),a.jsx("span",{className:"text-emerald-400 text-sm font-medium",children:"Authorized Manager"})]}):a.jsxs("div",{className:"flex items-center space-x-2 bg-red-500/10 px-3 py-2 rounded-lg border border-red-500/20",children:[a.jsx(Io,{className:"w-4 h-4 text-red-400"}),a.jsx("span",{className:"text-red-400 text-sm font-medium",children:"Not Authorized"})]})]}):a.jsxs(Z,{onClick:Me,disabled:T,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[a.jsx(qr,{className:"w-4 h-4 mr-2"}),T?"Connecting...":"Connect Wallet"]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("div",{className:"flex items-center space-x-2 bg-emerald-500/10 px-3 py-2 rounded-lg border border-emerald-500/20",children:[a.jsx("div",{className:"w-2 h-2 bg-emerald-400 rounded-full"}),a.jsx("span",{className:"text-emerald-400 text-sm font-medium",children:"Active Manager"})]})}),a.jsx(Z,{variant:"ghost",size:"icon",onClick:()=>e(!t),className:`${t?"text-gray-400 hover:text-white hover:bg-gray-800":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:t?a.jsx(MO,{className:"w-4 h-4"}):a.jsx(_O,{className:"w-4 h-4"})}),a.jsx(Z,{variant:"ghost",size:"icon",className:`${t?"text-gray-400 hover:text-white hover:bg-gray-800":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:a.jsx(zu,{className:"w-4 h-4"})}),a.jsx(Z,{asChild:!0,variant:"ghost",className:`${t?"text-gray-400 hover:text-white hover:bg-gray-800":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:a.jsxs(lN,{to:"/",className:"flex items-center space-x-2",children:[a.jsx(Id,{className:"w-4 h-4"}),a.jsx("span",{children:"Home"})]})}),a.jsx(Qu,{className:"h-8 w-8",children:a.jsx(Ju,{children:"AM"})})]})]})})}),a.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:i?c?a.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:a.jsx(pe,{className:`max-w-md w-full ${t?"bg-gray-900/50 border-gray-800":"bg-white border-gray-200"}`,children:a.jsxs(ge,{className:"p-8 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-blue-500/10 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Un,{className:"w-8 h-8 text-blue-500 animate-spin"})}),a.jsx("h2",{className:`text-xl font-bold mb-2 ${t?"text-white":"text-gray-900"}`,children:"Checking Authorization"}),a.jsx("p",{className:`text-sm mb-6 ${t?"text-gray-400":"text-gray-600"}`,children:"Verifying manager permissions..."}),a.jsxs("p",{className:"text-xs mb-6 text-gray-500",children:["Connected: ",r?`${r.slice(0,10)}...${r.slice(-8)}`:"Unknown"]})]})})}):o===!1?a.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:a.jsx(pe,{className:`max-w-md w-full ${t?"bg-gray-900/50 border-gray-800":"bg-white border-gray-200"}`,children:a.jsxs(ge,{className:"p-8 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-red-500/10 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Po,{className:"w-8 h-8 text-red-500"})}),a.jsx("h2",{className:`text-xl font-bold mb-2 ${t?"text-white":"text-gray-900"}`,children:"Access Restricted"}),a.jsx("p",{className:`text-sm mb-4 ${t?"text-gray-400":"text-gray-600"}`,children:"Your wallet address is not authorized to access the Asset Manager Dashboard."}),a.jsxs("p",{className:"text-xs mb-6 text-gray-500",children:["Connected: ",r?`${r.slice(0,10)}...${r.slice(-8)}`:"Unknown"]}),a.jsxs(Z,{onClick:()=>window.location.href="/",variant:"outline",className:"w-full",children:[a.jsx(Id,{className:"w-4 h-4 mr-2"}),"Return to Home"]})]})})}):a.jsxs(zo,{value:V,onValueChange:U,className:"space-y-6",children:[a.jsxs(Ho,{className:`grid w-full grid-cols-5 ${t?"bg-gray-900 border-gray-800":"bg-gray-100 border-gray-200"}`,children:[a.jsx(bn,{value:"overview",children:"Overview"}),a.jsx(bn,{value:"assets",children:"My Assets"}),a.jsx(bn,{value:"income",children:"Income"}),a.jsx(bn,{value:"settlements",children:"Settlements"}),a.jsx(bn,{value:"reports",children:"Reports"})]}),a.jsxs(Nn,{value:"overview",className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx(pe,{className:`${t?"bg-gray-900/50 border-gray-800":"bg-white border-gray-200"}`,children:a.jsxs(ge,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-600"}`,children:"Assets Managed"}),a.jsx("p",{className:`text-2xl font-bold ${t?"text-white":"text-gray-900"}`,children:i&&o?k:"N/A"})]}),a.jsx("div",{className:"p-3 bg-blue-500/10 rounded-lg",children:a.jsx(Uc,{className:"w-6 h-6 text-blue-500"})})]}),a.jsxs("div",{className:"mt-4 flex items-center",children:[a.jsx(Gc,{className:"w-4 h-4 text-green-500 mr-1"}),a.jsx("span",{className:"text-sm text-green-500",children:i?"Real-time data":"Connect wallet to view"})]})]})}),a.jsx(pe,{className:`${t?"bg-gray-900/50 border-gray-800":"bg-white border-gray-200"}`,children:a.jsxs(ge,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-600"}`,children:"Monthly Income"}),a.jsx("p",{className:`text-2xl font-bold ${t?"text-white":"text-gray-900"}`,children:i&&o?`$${G.toLocaleString()}`:"N/A"})]}),a.jsx("div",{className:"p-3 bg-emerald-500/10 rounded-lg",children:a.jsx(cs,{className:"w-6 h-6 text-emerald-500"})})]}),a.jsxs("div",{className:"mt-4 flex items-center",children:[a.jsx(Gc,{className:"w-4 h-4 text-green-500 mr-1"}),a.jsx("span",{className:"text-sm text-green-500",children:i?"From assigned assets":"Connect wallet to view"})]})]})}),a.jsx(pe,{className:`${t?"bg-gray-900/50 border-gray-800":"bg-white border-gray-200"}`,children:a.jsxs(ge,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-600"}`,children:"Avg Occupancy"}),a.jsx("p",{className:`text-2xl font-bold ${t?"text-white":"text-gray-900"}`,children:i&&o&&A.length>0?`${Math.round(A.reduce((X,re)=>X+re.occupancyRate,0)/A.length)}%`:"N/A"})]}),a.jsx("div",{className:"p-3 bg-purple-500/10 rounded-lg",children:a.jsx(Nh,{className:"w-6 h-6 text-purple-500"})})]}),a.jsxs("div",{className:"mt-4 flex items-center",children:[a.jsx(Gc,{className:"w-4 h-4 text-green-500 mr-1"}),a.jsx("span",{className:"text-sm text-green-500",children:"+3% from last month"})]})]})}),a.jsx(pe,{className:`${t?"bg-gray-900/50 border-gray-800":"bg-white border-gray-200"}`,children:a.jsxs(ge,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-600"}`,children:"Total Value"}),a.jsx("p",{className:`text-2xl font-bold ${t?"text-white":"text-gray-900"}`,children:i&&o?`$${(A.reduce((X,re)=>X+re.currentValue,0)/1e6).toFixed(1)}M`:"N/A"})]}),a.jsx("div",{className:"p-3 bg-orange-500/10 rounded-lg",children:a.jsx(ns,{className:"w-6 h-6 text-orange-500"})})]}),a.jsxs("div",{className:"mt-4 flex items-center",children:[a.jsx(Gc,{className:"w-4 h-4 text-green-500 mr-1"}),a.jsx("span",{className:"text-sm text-green-500",children:"+15.2% from last month"})]})]})})]}),a.jsxs(pe,{className:`${t?"bg-gray-900/50 border-gray-800":"bg-white border-gray-200"}`,children:[a.jsx(yt,{children:a.jsx(vt,{className:`${t?"text-white":"text-gray-900"}`,children:"Quick Actions"})}),a.jsx(ge,{children:a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs(Z,{onClick:()=>M(!0),className:"h-24 flex-col space-y-2 bg-emerald-600 hover:bg-emerald-700 text-white",children:[a.jsx(cs,{className:"w-6 h-6"}),a.jsx("span",{className:"text-sm font-medium",children:"Submit Income"})]}),a.jsxs(Z,{variant:"outline",className:`h-24 flex-col space-y-2 ${t?"border-gray-700 bg-gray-800/50 text-gray-300 hover:bg-gray-800 hover:text-white":"border-gray-200 bg-gray-50 text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,onClick:()=>D(!0),children:[a.jsx(na,{className:"w-6 h-6"}),a.jsx("span",{className:"text-sm font-medium",children:"View History"})]}),a.jsxs(Z,{variant:"outline",className:`h-24 flex-col space-y-2 ${t?"border-gray-700 bg-gray-800/50 text-gray-300 hover:bg-gray-800 hover:text-white":"border-gray-200 bg-gray-50 text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[a.jsx(Gi,{className:"w-6 h-6"}),a.jsx("span",{className:"text-sm font-medium",children:"Generate Report"})]}),a.jsxs(Z,{variant:"outline",className:`h-24 flex-col space-y-2 ${t?"border-gray-700 bg-gray-800/50 text-gray-300 hover:bg-gray-800 hover:text-white":"border-gray-200 bg-gray-50 text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[a.jsx(tp,{className:"w-6 h-6"}),a.jsx("span",{className:"text-sm font-medium",children:"Schedule Inspection"})]})]})})]}),a.jsxs(pe,{className:`${t?"bg-gray-900/50 border-gray-800":"bg-white border-gray-200"}`,children:[a.jsx(yt,{children:a.jsx(vt,{className:`${t?"text-white":"text-gray-900"}`,children:"Recent Activity"})}),a.jsx(ge,{children:a.jsx("div",{className:"space-y-4",children:F.slice(0,3).map(X=>a.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg ${t?"bg-gray-800/50":"bg-gray-50"}`,children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${X.status==="distributed"?"bg-green-400":"bg-yellow-400"}`}),a.jsxs("div",{children:[a.jsxs("p",{className:`font-medium ${t?"text-white":"text-gray-900"}`,children:[X.type.charAt(0).toUpperCase()+X.type.slice(1)," - ",X.assetName]}),a.jsxs("p",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:["$",X.amount.toLocaleString()," distributed"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx(Ue,{variant:X.status==="distributed"?"default":"secondary",children:X.status}),a.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-600"} mt-1`,children:X.submittedDate})]})]},X.id))})})]})]}),a.jsxs(Nn,{value:"assets",className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:`text-2xl font-bold ${t?"text-white":"text-gray-900"}`,children:"My Assigned Assets"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>i&&ee(),disabled:T||!i,children:[a.jsx(Un,{className:`w-4 h-4 mr-2 ${T?"animate-spin":""}`}),T?"Loading...":"Refresh"]}),a.jsxs(Z,{variant:"outline",size:"sm",children:[a.jsx(xy,{className:"w-4 h-4 mr-2"}),"Filter"]}),a.jsxs(Z,{variant:"outline",size:"sm",children:[a.jsx(uS,{className:"w-4 h-4 mr-2"}),"Search"]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:A.length===0?a.jsx("div",{className:"col-span-full",children:a.jsx(pe,{className:`${t?"bg-gray-900/50 border-gray-800":"bg-white border-gray-200"}`,children:a.jsxs(ge,{className:"p-12 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-blue-500/10 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Uc,{className:"w-8 h-8 text-blue-500"})}),a.jsx("h3",{className:`text-xl font-bold mb-2 ${t?"text-white":"text-gray-900"}`,children:"No Assets Assigned"}),a.jsx("p",{className:`text-sm mb-6 ${t?"text-gray-400":"text-gray-600"}`,children:i?"You currently have no assets assigned to manage. Contact the admin to get assets assigned.":"Connect your wallet to view assigned assets."}),i&&a.jsxs(Z,{onClick:()=>ee(),disabled:T,variant:"outline",children:[a.jsx(Un,{className:`w-4 h-4 mr-2 ${T?"animate-spin":""}`}),T?"Checking...":"Check Again"]})]})})}):A.map(X=>{se(X.type);const re=X.images&&X.images.length>0?X.images[0]:"https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?w=800&h=600&fit=crop",ve=$e=>{switch($e){case"real-estate":return"bg-blue-500/10 text-blue-600 border-blue-200";case"commodity":return"bg-green-500/10 text-green-600 border-green-200";case"bonds":return"bg-purple-500/10 text-purple-600 border-purple-200";case"equity":return"bg-orange-500/10 text-orange-600 border-orange-200";default:return"bg-gray-500/10 text-gray-600 border-gray-200"}};return a.jsxs(pe,{className:`overflow-hidden ${t?"bg-gray-900/50 border-gray-800":"bg-white border-gray-200"} cursor-pointer hover:shadow-lg transition-all hover:scale-[1.02]`,onClick:()=>{B(X),j(!0)},children:[a.jsxs("div",{className:"relative h-48 w-full overflow-hidden",children:[a.jsx("img",{src:re,alt:X.name,className:"h-full w-full object-cover transition-transform hover:scale-105",onError:$e=>{$e.target.src="https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?w=800&h=600&fit=crop"}}),a.jsx(Ue,{className:`absolute top-3 right-3 ${ve(X.type)} border`,children:X.type.replace("-"," ").replace(/\b\w/g,$e=>$e.toUpperCase())}),a.jsx("div",{className:`absolute top-3 left-3 w-3 h-3 rounded-full ${ke(X.status)} ring-2 ring-white`})]}),a.jsxs(ge,{className:"p-4",children:[a.jsxs("div",{className:"mb-3",children:[a.jsx("h3",{className:`font-semibold text-lg mb-1 ${t?"text-white":"text-gray-900"}`,children:X.name}),a.jsxs("p",{className:`text-sm flex items-center ${t?"text-gray-400":"text-gray-600"}`,children:[a.jsx(Q2,{className:"w-3 h-3 mr-1"}),X.location]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[a.jsxs("div",{className:`p-3 rounded-lg ${t?"bg-gray-800/50":"bg-gray-50"}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:`text-xs ${t?"text-gray-400":"text-gray-600"}`,children:"Token Price"}),a.jsx(cs,{className:"w-3 h-3 text-green-500"})]}),a.jsxs("p",{className:`text-sm font-bold ${t?"text-white":"text-gray-900"}`,children:[X.currentValue.toFixed(4)," ETH"]})]}),a.jsxs("div",{className:`p-3 rounded-lg ${t?"bg-gray-800/50":"bg-gray-50"}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:`text-xs ${t?"text-gray-400":"text-gray-600"}`,children:"Occupancy"}),a.jsx(ns,{className:"w-3 h-3 text-blue-500"})]}),a.jsxs("p",{className:`text-sm font-bold ${t?"text-white":"text-gray-900"}`,children:[X.occupancyRate,"%"]})]})]}),a.jsxs("div",{className:"mb-3",children:[a.jsxs("div",{className:"flex justify-between items-center mb-1",children:[a.jsx("span",{className:`text-xs ${t?"text-gray-400":"text-gray-600"}`,children:"Tokens Listed"}),a.jsxs("span",{className:`text-xs font-medium ${t?"text-white":"text-gray-900"}`,children:[X.soldTokens,"/",X.totalTokens]})]}),a.jsx(nj,{value:X.soldTokens/X.totalTokens*100,className:"h-1.5"})]}),a.jsx("div",{className:`p-3 rounded-lg ${t?"bg-green-500/10 border-green-500/20":"bg-green-50 border-green-200"} border mb-3`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Hu,{className:"w-4 h-4 text-green-500"}),a.jsx("span",{className:`text-sm font-medium ${t?"text-green-300":"text-green-700"}`,children:"Monthly Income"})]}),a.jsxs("span",{className:`text-sm font-bold ${t?"text-green-200":"text-green-800"}`,children:["$",X.monthlyIncome.toLocaleString()]})]})}),a.jsxs(Z,{size:"sm",className:"w-full bg-blue-600 hover:bg-blue-700 text-white",onClick:$e=>{$e.stopPropagation(),I(it=>({...it,tokenId:X.tokenId,assetName:X.name})),M(!0)},children:[a.jsx(Ol,{className:"w-4 h-4 mr-2"}),"Submit Income"]})]})]},X.tokenId)})})]}),a.jsxs(Nn,{value:"income",className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:`text-2xl font-bold ${t?"text-white":"text-gray-900"}`,children:"Income Management"}),a.jsxs(Z,{onClick:()=>M(!0),children:[a.jsx(Ol,{className:"w-4 h-4 mr-2"}),"Submit New Income"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[a.jsx(pe,{className:`${t?"bg-gray-900/50 border-gray-800":"bg-white border-gray-200"}`,children:a.jsx(ge,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-600"}`,children:"This Month"}),a.jsx("p",{className:`text-2xl font-bold ${t?"text-white":"text-gray-900"}`,children:"$38,700"})]}),a.jsx("div",{className:"p-3 bg-green-500/10 rounded-lg",children:a.jsx(ns,{className:"w-6 h-6 text-green-500"})})]})})}),a.jsx(pe,{className:`${t?"bg-gray-900/50 border-gray-800":"bg-white border-gray-200"}`,children:a.jsx(ge,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-600"}`,children:"Pending"}),a.jsx("p",{className:`text-2xl font-bold ${t?"text-white":"text-gray-900"}`,children:"$0"})]}),a.jsx("div",{className:"p-3 bg-yellow-500/10 rounded-lg",children:a.jsx(Ed,{className:"w-6 h-6 text-yellow-500"})})]})})}),a.jsx(pe,{className:`${t?"bg-gray-900/50 border-gray-800":"bg-white border-gray-200"}`,children:a.jsx(ge,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-600"}`,children:"YTD Total"}),a.jsx("p",{className:`text-2xl font-bold ${t?"text-white":"text-gray-900"}`,children:"$428,400"})]}),a.jsx("div",{className:"p-3 bg-blue-500/10 rounded-lg",children:a.jsx(na,{className:"w-6 h-6 text-blue-500"})})]})})})]}),a.jsxs(pe,{className:`${t?"bg-gray-900/50 border-gray-800":"bg-white border-gray-200"}`,children:[a.jsx(yt,{children:a.jsx(vt,{className:`${t?"text-white":"text-gray-900"}`,children:"Income History"})}),a.jsx(ge,{children:a.jsx("div",{className:"space-y-4",children:F.map(X=>a.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border ${t?"border-gray-700 bg-gray-800/30":"border-gray-200 bg-gray-50"}`,children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${X.type==="rental"?"bg-blue-500/10":X.type==="dividend"?"bg-emerald-500/10":"bg-purple-500/10"}`,children:X.type==="rental"?a.jsx(Uc,{className:"w-5 h-5 text-blue-500"}):X.type==="dividend"?a.jsx(Hu,{className:"w-5 h-5 text-emerald-500"}):a.jsx(Gi,{className:"w-5 h-5 text-purple-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:`font-medium ${t?"text-white":"text-gray-900"}`,children:X.assetName}),a.jsxs("p",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:[X.type.charAt(0).toUpperCase()+X.type.slice(1),"  Token ID: ",X.tokenId]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:`font-semibold ${t?"text-white":"text-gray-900"}`,children:["$",X.amount.toLocaleString()]}),a.jsxs("p",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:["$",X.perToken,"/token"]})]}),a.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[a.jsx(Ue,{variant:X.status==="distributed"?"default":X.status==="pending"?"secondary":"destructive",children:X.status}),a.jsx("p",{className:`text-xs ${t?"text-gray-400":"text-gray-600"}`,children:X.submittedDate})]})]},X.id))})})]})]}),a.jsxs(Nn,{value:"reports",className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:`text-2xl font-bold ${t?"text-white":"text-gray-900"}`,children:"Reports & Analytics"}),a.jsxs(Z,{variant:"outline",children:[a.jsx(kh,{className:"w-4 h-4 mr-2"}),"Export Reports"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(pe,{className:`${t?"bg-gray-900/50 border-gray-800":"bg-white border-gray-200"}`,children:[a.jsx(yt,{children:a.jsx(vt,{className:`${t?"text-white":"text-gray-900"}`,children:"Performance Summary"})}),a.jsx(ge,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:`${t?"text-gray-400":"text-gray-600"}`,children:"Total Assets Under Management"}),a.jsx("span",{className:`font-medium ${t?"text-white":"text-gray-900"}`,children:"3"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:`${t?"text-gray-400":"text-gray-600"}`,children:"Combined Asset Value"}),a.jsx("span",{className:`font-medium ${t?"text-white":"text-gray-900"}`,children:"$5.5M"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:`${t?"text-gray-400":"text-gray-600"}`,children:"Average Monthly Income"}),a.jsx("span",{className:`font-medium ${t?"text-white":"text-gray-900"}`,children:"$38.7K"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:`${t?"text-gray-400":"text-gray-600"}`,children:"Portfolio Yield"}),a.jsx("span",{className:`font-medium ${t?"text-white":"text-gray-900"}`,children:"8.4%"})]})]})})]}),a.jsxs(pe,{className:`${t?"bg-gray-900/50 border-gray-800":"bg-white border-gray-200"}`,children:[a.jsx(yt,{children:a.jsx(vt,{className:`${t?"text-white":"text-gray-900"}`,children:"Quick Reports"})}),a.jsx(ge,{children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs(Z,{variant:"outline",className:"w-full justify-start",children:[a.jsx(Gi,{className:"w-4 h-4 mr-2"}),"Monthly Income Report"]}),a.jsxs(Z,{variant:"outline",className:"w-full justify-start",children:[a.jsx(na,{className:"w-4 h-4 mr-2"}),"Asset Performance Analysis"]}),a.jsxs(Z,{variant:"outline",className:"w-full justify-start",children:[a.jsx(ns,{className:"w-4 h-4 mr-2"}),"Occupancy Trends"]}),a.jsxs(Z,{variant:"outline",className:"w-full justify-start",children:[a.jsx(Nh,{className:"w-4 h-4 mr-2"}),"Portfolio Distribution"]})]})})]})]})]}),a.jsxs(Nn,{value:"settlements",className:"space-y-6",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsx("h2",{className:`text-2xl font-bold ${t?"text-white":"text-gray-900"}`,children:"Invoice Settlement Management"})}),a.jsxs(zo,{defaultValue:"processor",className:"space-y-6",children:[a.jsxs(Ho,{className:`${t?"bg-gray-900 border-gray-800":"bg-gray-100 border-gray-200"}`,children:[a.jsx(bn,{value:"processor",children:"Settlement Processor"}),a.jsx(bn,{value:"history",children:"Settlement History"})]}),a.jsx(Nn,{value:"processor",children:a.jsx(G1e,{})}),a.jsx(Nn,{value:"history",children:a.jsx(Y1e,{})})]})]})]}):a.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:a.jsx(pe,{className:`max-w-md w-full ${t?"bg-gray-900/50 border-gray-800":"bg-white border-gray-200"}`,children:a.jsxs(ge,{className:"p-8 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-blue-500/10 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(qr,{className:"w-8 h-8 text-blue-500"})}),a.jsx("h2",{className:`text-xl font-bold mb-2 ${t?"text-white":"text-gray-900"}`,children:"Connect Your Wallet"}),a.jsx("p",{className:`text-sm mb-6 ${t?"text-gray-400":"text-gray-600"}`,children:"Connect your wallet to access the Asset Manager Dashboard and manage your assigned properties."}),a.jsxs(Z,{onClick:Me,disabled:T,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:[a.jsx(qr,{className:"w-4 h-4 mr-2"}),T?"Connecting...":"Connect Wallet"]})]})})})}),a.jsx(ir,{open:L,onOpenChange:M,children:a.jsxs(Vs,{className:`sm:max-w-lg ${t?"bg-gray-900 border-gray-700":"bg-white border-gray-200"}`,children:[a.jsxs(zs,{children:[a.jsx(Hs,{className:`${t?"text-white":"text-gray-900"}`,children:"Submit Income"}),a.jsx(Ra,{className:`${t?"text-gray-300":"text-gray-600"}`,children:"Submit rental income or dividends for distribution to token holders."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Rt,{htmlFor:"asset-select",className:`${t?"text-gray-200":"text-gray-700"}`,children:"Select Asset"}),a.jsxs($h,{value:C.tokenId,onValueChange:X=>{const re=A.find(ve=>ve.tokenId===X);I(ve=>({...ve,tokenId:X,assetName:(re==null?void 0:re.name)||""}))},children:[a.jsx(Ld,{className:`${t?"bg-gray-800 border-gray-600 text-white":"bg-white border-gray-300"}`,children:a.jsx(Fh,{placeholder:"Choose an asset"})}),a.jsx(Bd,{children:A.map(X=>a.jsxs(kr,{value:X.tokenId,children:[X.name," (ID: ",X.tokenId,")"]},X.tokenId))})]})]}),a.jsxs("div",{children:[a.jsx(Rt,{htmlFor:"income-type",className:`${t?"text-gray-200":"text-gray-700"}`,children:"Income Type"}),a.jsxs($h,{value:C.type,onValueChange:X=>I(re=>({...re,type:X})),children:[a.jsx(Ld,{className:`${t?"bg-gray-800 border-gray-600 text-white":"bg-white border-gray-300"}`,children:a.jsx(Fh,{})}),a.jsxs(Bd,{children:[a.jsx(kr,{value:"rental",children:"Rental Income"}),a.jsx(kr,{value:"dividend",children:"Dividend"}),a.jsx(kr,{value:"interest",children:"Interest Payment"})]})]})]}),a.jsxs("div",{children:[a.jsx(Rt,{htmlFor:"amount",className:`${t?"text-gray-200":"text-gray-700"}`,children:"Amount (S)"}),a.jsx(Gt,{id:"amount",type:"number",step:"0.001",min:"0",placeholder:"Enter amount in S (e.g., 0.002)",value:C.amount||"",onChange:X=>I(re=>({...re,amount:Number(X.target.value)})),className:`${t?"bg-gray-800 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),a.jsxs("div",{children:[a.jsx(Rt,{htmlFor:"month",className:`${t?"text-gray-200":"text-gray-700"}`,children:"Period"}),a.jsx(Gt,{id:"month",type:"month",value:C.month,onChange:X=>I(re=>({...re,month:X.target.value})),className:`${t?"bg-gray-800 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),a.jsxs("div",{children:[a.jsx(Rt,{htmlFor:"notes",className:`${t?"text-gray-200":"text-gray-700"}`,children:"Notes (Optional)"}),a.jsx(Eb,{id:"notes",placeholder:"Additional notes or details",value:C.notes,onChange:X=>I(re=>({...re,notes:X.target.value})),className:`${t?"bg-gray-800 border-gray-600 text-white":"bg-white border-gray-300"}`})]})]}),a.jsxs(Nl,{children:[a.jsx(Z,{variant:"outline",onClick:()=>M(!1),children:"Cancel"}),a.jsx(Z,{onClick:he,disabled:z,children:z?a.jsxs(a.Fragment,{children:[a.jsx(Un,{className:"w-4 h-4 mr-2 animate-spin"}),"Submitting..."]}):"Submit Income"})]})]})}),a.jsx(ir,{open:x,onOpenChange:j,children:a.jsx(Vs,{className:`sm:max-w-2xl ${t?"bg-gray-900 border-gray-700":"bg-white border-gray-200"}`,children:R&&a.jsxs(a.Fragment,{children:[a.jsxs(zs,{children:[a.jsx(Hs,{className:`${t?"text-white":"text-gray-900"}`,children:R.name}),a.jsx(Ra,{className:`${t?"text-gray-300":"text-gray-600"}`,children:"Asset Details and Management"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-600"}`,children:"Token ID"}),a.jsx("p",{className:`${t?"text-white":"text-gray-900"}`,children:R.tokenId})]}),a.jsxs("div",{children:[a.jsx("p",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-600"}`,children:"Location"}),a.jsx("p",{className:`${t?"text-white":"text-gray-900"}`,children:R.location})]}),a.jsxs("div",{children:[a.jsx("p",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-600"}`,children:"Current Value"}),a.jsxs("p",{className:`${t?"text-white":"text-gray-900"}`,children:["$",R.currentValue.toLocaleString()]})]}),a.jsxs("div",{children:[a.jsx("p",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-600"}`,children:"Monthly Income"}),a.jsxs("p",{className:`${t?"text-white":"text-gray-900"}`,children:["$",R.monthlyIncome.toLocaleString()]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-600"}`,children:"Tokens"}),a.jsxs("p",{className:`${t?"text-white":"text-gray-900"}`,children:[R.soldTokens," / ",R.totalTokens," sold"]}),a.jsx(nj,{value:R.soldTokens/R.totalTokens*100,className:"mt-2"})]}),a.jsxs("div",{children:[a.jsx("p",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-600"}`,children:"Occupancy Rate"}),a.jsxs("p",{className:`${t?"text-white":"text-gray-900"}`,children:[R.occupancyRate,"%"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-600"}`,children:"Last Inspection"}),a.jsx("p",{className:`${t?"text-white":"text-gray-900"}`,children:R.lastInspection})]}),a.jsxs("div",{children:[a.jsx("p",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-600"}`,children:"Next Payment"}),a.jsx("p",{className:`${t?"text-white":"text-gray-900"}`,children:R.nextPayment})]})]})]}),a.jsxs(Nl,{children:[a.jsx(Z,{variant:"outline",onClick:()=>j(!1),children:"Close"}),a.jsx(Z,{onClick:()=>{I(X=>({...X,tokenId:R.tokenId,assetName:R.name})),j(!1),M(!0)},children:"Submit Income"})]})]})})})]})},V0=({children:t,allowedRoles:e,redirectTo:n="/login"})=>{const{isAuthenticated:s,isLoading:r,canAccess:i,userRoles:o,primaryRole:l}=_T(),c=to();if(r)return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-slate-900 mx-auto mb-4"}),a.jsx("p",{className:"text-slate-600 text-lg",children:"Verifying access..."})]})});if(!s)return console.log(" User not authenticated, redirecting to login"),a.jsx(GE,{to:n,state:{from:c},replace:!0});if(!i(e)){console.log(" User lacks required roles, redirecting to appropriate dashboard:",{userRoles:o,requiredRoles:e,primaryRole:l});const d=l||o[0]||"user";let u="/dashboard";switch(d){case"admin":u="/admin";break;case"issuer":u="/issuer";break;case"manager":u="/manager";break;default:u="/dashboard"}return a.jsx(GE,{to:u,replace:!0})}return console.log(" Access granted to protected route"),a.jsx(a.Fragment,{children:t})};class Q1e{static clearMetadataCache(){const e=window.metadataService;if(e&&e.cache){const n=e.cache.size;e.cache.clear(),console.log(` Cleared metadata cache (${n} entries)`)}else console.warn(" Metadata service cache not found")}static clearFailedCacheEntries(){const e=window.metadataService;if(e&&e.cache){let n=0;for(const[s,r]of e.cache.entries())r.error&&(e.cache.delete(s),n++);console.log(` Cleared ${n} failed cache entries`)}}static inspectCache(){const e=window.metadataService;if(!e||!e.cache){console.warn(" Metadata service cache not found");return}const n=e.cache,s=n.size;let r=0,i=0,o=0;console.log(" Metadata Cache Inspection:"),console.log(`Total entries: ${s}`);for(const[c,d]of n.entries()){const u=d;u.error?(i++,u.expiry&&Date.now()>u.expiry&&o++):r++}console.log(` Successful: ${r}`),console.log(` Failed: ${i}`),console.log(` Expired failures: ${o}`);let l=0;for(const[c,d]of n.entries()){if(l>=3)break;const u=d;console.log(`
Sample entry ${l+1}:`),console.log(`URI: ${c}`),console.log(`Status: ${u.error?"Failed":"Success"}`),u.error?(console.log(`Error: ${u.error}`),console.log(`Expires: ${u.expiry?new Date(u.expiry).toLocaleString():"Never"}`)):(console.log(`Name: ${u.name||"Unknown"}`),console.log(`Description: ${u.description?u.description.substring(0,50)+"...":"None"}`)),l++}}static async testIPFSFetch(e){const n=[{name:"Custom Pinata",url:`https://olive-left-snake-740.mypinata.cloud/ipfs/${e}`},{name:"Pinata Gateway",url:`https://gateway.pinata.cloud/ipfs/${e}`},{name:"IPFS.io",url:`https://ipfs.io/ipfs/${e}`},{name:"Dweb Link",url:`https://dweb.link/ipfs/${e}`},{name:"Cloudflare",url:`https://cloudflare-ipfs.com/ipfs/${e}`}];console.log(` Testing IPFS gateways for hash: ${e}`);for(const s of n)try{console.log(`Testing ${s.name}...`);const r=Date.now(),i=await Promise.race([fetch(s.url),new Promise((c,d)=>setTimeout(()=>d(new Error("Timeout")),1e4))]),l=Date.now()-r;if(i.ok){const c=await i.json();console.log(` ${s.name}: Success (${l}ms)`),console.log(`   Name: ${c.name||"Unknown"}`),console.log(`   Image: ${c.image?"Present":"Missing"}`)}else console.log(` ${s.name}: HTTP ${i.status} (${l}ms)`)}catch(r){console.log(` ${s.name}: ${r.message}`)}}static enableRealTimeMonitoring(){const e=console.log,n=console.warn,s=console.error;console.log(" Metadata monitoring enabled. Watch for metadata service calls..."),console.log=(...r)=>{r[0]&&typeof r[0]=="string"&&(r[0].includes(" Fetching metadata")||r[0].includes(" Metadata fetched")||r[0].includes(" Using cached"))?e(" METADATA MONITOR:",...r):e(...r)},console.warn=(...r)=>{r[0]&&typeof r[0]=="string"&&r[0].includes("Gateway")?n(" METADATA MONITOR:",...r):n(...r)},console.error=(...r)=>{r[0]&&typeof r[0]=="string"&&(r[0].includes("IPFS gateways failed")||r[0].includes("metadata fetching"))?s(" METADATA MONITOR:",...r):s(...r)}}}window.MetadataDebugUtils=Q1e;class J1e{constructor(){Ge(this,"results",[])}async testCommonIPFSFormats(){console.log(` Testing Common IPFS URI Formats...
`);const e=["ipfs://QmYwAPJzv5CZsnA625s3Xf2nemtYgPpHdWEz79ojWnPbdG","https://gateway.pinata.cloud/ipfs/QmYwAPJzv5CZsnA625s3Xf2nemtYgPpHdWEz79ojWnPbdG","QmYwAPJzv5CZsnA625s3Xf2nemtYgPpHdWEz79ojWnPbdG","ipfs://bafybeigdyrzt5sfp7udm7hu76uh7y26nf3efuylqabf3oclgtqy55fbzdi","https://gateway.pinata.cloud/ipfs/bafybeigdyrzt5sfp7udm7hu76uh7y26nf3efuylqabf3oclgtqy55fbzdi","ipfs://TestHash123","https://gateway.pinata.cloud/ipfs/TestHash123","","invalid-uri"];for(const n of e)await this.testSingleURI("Common Format Test",n);this.printResults("Common IPFS Format Tests")}async testGatewayPerformance(){console.log(`
 Testing Individual Gateway Performance...
`);const e="QmYwAPJzv5CZsnA625s3Xf2nemtYgPpHdWEz79ojWnPbdG",n=[{name:"Custom Pinata",url:`https://olive-left-snake-740.mypinata.cloud/ipfs/${e}`},{name:"Pinata Gateway",url:`https://gateway.pinata.cloud/ipfs/${e}`},{name:"IPFS.io",url:`https://ipfs.io/ipfs/${e}`},{name:"Dweb Link",url:`https://dweb.link/ipfs/${e}`},{name:"Cloudflare",url:`https://cloudflare-ipfs.com/ipfs/${e}`},{name:"IPFS Gateway",url:`https://gateway.ipfs.io/ipfs/${e}`},{name:"Infura",url:`https://ipfs.infura.io/ipfs/${e}`},{name:"CF IPFS",url:`https://cf-ipfs.com/ipfs/${e}`}];for(const s of n)await this.testGatewayDirect(s.name,s.url);this.printResults("Gateway Performance Tests")}async testCurrentAppMetadata(){console.log(`
 Testing Current App Metadata Sources...
`);const e=localStorage.getItem("marketplaceCache"),n=localStorage.getItem("dashboardCache");if(console.log(" Checking localStorage caches..."),e)try{const s=JSON.parse(e);console.log(" Marketplace cache found:",Object.keys(s).length,"entries");const r=Object.values(s).slice(0,3).map(i=>i.metadataURI).filter(Boolean);for(const i of r)await this.testSingleURI("Marketplace Cache",i)}catch(s){console.warn(" Error parsing marketplace cache:",s)}if(n)try{const s=JSON.parse(n);console.log(" Dashboard cache found:",Object.keys(s).length,"entries");const r=Object.values(s).slice(0,3).map(i=>i.metadataURI).filter(Boolean);for(const i of r)await this.testSingleURI("Dashboard Cache",i)}catch(s){console.warn(" Error parsing dashboard cache:",s)}await this.testSimulatedContractData(),this.printResults("Current App Metadata Tests")}async testSimulatedContractData(){console.log(`
 Testing Simulated Contract Metadata...`);const e=["ipfs://TestHash_Asset_1","ipfs://TestHash_Asset_2","https://gateway.pinata.cloud/ipfs/TestHash_Asset_3","https://gateway.pinata.cloud/ipfs/https://gateway.pinata.cloud/ipfs/TestHash_Doubled","","ipfs://QmRealHashButMightNotExist123456789012345678901234567890123"];for(const n of e)await this.testSingleURI("Simulated Contract",n)}async testSingleURI(e,n){const s=Date.now();try{console.log(`
 Testing [${e}]: ${n||"(empty)"}`);const r=await Yy.fetchMetadataFromIPFS(n),i=Date.now()-s;r?(console.log(`   Success (${i}ms)`),console.log(`   Name: ${r.name||"N/A"}`),console.log(`   Image: ${r.image?"Present":"Missing"}`),console.log(`   Asset Type: ${this.extractAssetType(r)}`),this.results.push({source:e,uri:n,success:!0,metadata:r,timeTaken:i})):(console.log(`   Failed (${i}ms) - Returned null`),this.results.push({source:e,uri:n,success:!1,metadata:null,error:"Returned null",timeTaken:i}))}catch(r){const i=Date.now()-s;console.log(`   Error (${i}ms):`,r.message),this.results.push({source:e,uri:n,success:!1,metadata:null,error:r.message,timeTaken:i})}}async testGatewayDirect(e,n){const s=Date.now();try{console.log(`
 Testing Gateway [${e}]: ${n}`);const r=await Promise.race([fetch(n,{method:"GET",headers:{Accept:"application/json"}}),new Promise((o,l)=>setTimeout(()=>l(new Error("Timeout after 10s")),1e4))]),i=Date.now()-s;if(r.ok)try{const o=await r.json();console.log(`   Gateway Success (${i}ms)`),console.log(`   Content: ${o.name||"No name"}`),this.results.push({source:`Gateway: ${e}`,uri:n,success:!0,metadata:o,timeTaken:i})}catch{console.log(`   Gateway responded but invalid JSON (${i}ms)`),this.results.push({source:`Gateway: ${e}`,uri:n,success:!1,metadata:null,error:"Invalid JSON response",timeTaken:i})}else console.log(`   Gateway HTTP ${r.status} (${i}ms)`),this.results.push({source:`Gateway: ${e}`,uri:n,success:!1,metadata:null,error:`HTTP ${r.status}`,timeTaken:i})}catch(r){const i=Date.now()-s;console.log(`   Gateway Error (${i}ms):`,r.message),this.results.push({source:`Gateway: ${e}`,uri:n,success:!1,metadata:null,error:r.message,timeTaken:i})}}extractAssetType(e){var n;if(e!=null&&e.attributes){const s=e.attributes.find(r=>r.trait_type==="Asset Type");if(s)return s.value}return(n=e==null?void 0:e.assetDetails)!=null&&n.assetType?e.assetDetails.assetType:"Unknown"}printResults(e){console.log(`
 === ${e} Results ===`);const n=this.results.filter(o=>o.success).length,s=this.results.length,r=s>0?(n/s*100).toFixed(1):"0";if(console.log(`Success Rate: ${n}/${s} (${r}%)`),n>0){const o=this.results.filter(l=>l.success).reduce((l,c)=>l+c.timeTaken,0)/n;console.log(`Average Success Time: ${o.toFixed(0)}ms`)}const i=this.results.filter(o=>!o.success).reduce((o,l)=>{const c=l.error||"Unknown error";return o[c]=(o[c]||0)+1,o},{});Object.keys(i).length>0&&(console.log(`
 Error Breakdown:`),Object.entries(i).forEach(([o,l])=>{console.log(`  ${o}: ${l} times`)})),this.results=[]}async runCompleteTest(){console.log(` Starting Complete IPFS Metadata Test Suite...
`),Yy.clearCache();try{await this.testCommonIPFSFormats(),await this.testGatewayPerformance(),await this.testCurrentAppMetadata(),console.log(`
 Complete test suite finished!`),console.log(`
 Debugging Tips:`),console.log("1. Check browser console for detailed gateway logs"),console.log("2. Use window.metadataService.cache to inspect cached results"),console.log("3. Use window.MetadataDebugUtils.inspectCache() for cache analysis"),console.log("4. Look for patterns in failed URIs vs successful ones")}catch(e){console.error(" Test suite error:",e)}}async quickTest(e){console.log(` Quick test for IPFS hash: ${e}`);const n=[`ipfs://${e}`,`https://gateway.pinata.cloud/ipfs/${e}`,e];for(const s of n)await this.testSingleURI("Quick Test",s)}}const Z1e=new J1e;window.IPFSTestScript=Z1e;class e2e{static async runFullCleanup(){console.log(` Starting comprehensive cache cleanup...
`),console.log(" Initial Cache Analysis:");const e=Px();console.log(`  Total cache entries: ${e.totalCacheEntries}`),console.log(`  Dummy data entries: ${e.dummyDataEntries}`),console.log(`  Failed fetch markers: ${e.failedFetchMarkers}`),console.log(`  Expired failed fetches: ${e.expiredFailedFetches}
`),console.log(" Clearing metadata service cache..."),window.metadataService&&window.metadataService.clearCache(),console.log(" Clearing marketplace dummy data...");const n=ln.clearDummyDataFromCache();console.log(" Clearing dashboard dummy data...");const s=er.clearDummyDataFromCache();console.log(" Clearing general dummy data...");const r=pk();console.log(" Clearing expired cache entries..."),ln.clearExpiredCache(),console.log(`
 Final Cache Analysis:`);const i=Px();console.log(`  Total cache entries: ${i.totalCacheEntries}`),console.log(`  Dummy data entries: ${i.dummyDataEntries}`),console.log(`  Failed fetch markers: ${i.failedFetchMarkers}`),console.log(`  Expired failed fetches: ${i.expiredFailedFetches}`);const o=n+s+r;console.log(`
 Cleanup completed! Removed ${o} dummy data entries.`),o>0&&(console.log(`
 Recommendations:`),console.log("1. Refresh the page to see clean data"),console.log("2. Check marketplace, dashboard, and orderbook for proper metadata"),console.log("3. Monitor console for IPFS gateway performance"),console.log("4. Use window.IPFSTestScript.runCompleteTest() to test IPFS connectivity"))}static async quickCleanup(){console.log(" Running quick cache cleanup..."),ln.clearCache(),er.clearCache(),window.metadataService&&window.metadataService.clearCache();const e=pk()+ln.clearDummyDataFromCache()+er.clearDummyDataFromCache();console.log(` Quick cleanup done! Cleared ${e} dummy entries.`),console.log(" Refresh the page to see fresh data.")}static analyzeCacheState(){console.log(` Analyzing current cache state...
`);const e=Px();console.log(" Dummy Data Analysis:"),console.log(`  Total cache entries: ${e.totalCacheEntries}`),console.log(`  Dummy data entries: ${e.dummyDataEntries}`),console.log(`  Failed fetch markers: ${e.failedFetchMarkers}`),console.log(`  Expired failed fetches: ${e.expiredFailedFetches}`),console.log(`
 Marketplace Cache Analysis:`);const n=ln.getCacheStats();if(Object.entries(n).forEach(([s,r])=>{console.log(`  ${s}: ${r.count} entries (${Math.round(r.totalSize/1024)}KB)`)}),console.log(`
 Metadata Service Cache:`),window.metadataService&&window.metadataService.cache){const s=window.metadataService.cache;console.log(`  Size: ${s.size} entries`);let r=0,i=0;for(const[o,l]of s.entries())l&&l.error?i++:l&&r++;console.log(`  Successful: ${r}`),console.log(`  Failed: ${i}`)}else console.log("  Metadata service cache not available");e.dummyDataEntries>0?(console.log(`
 Issues Found:`),console.log(`  ${e.dummyDataEntries} dummy data entries detected`),console.log("  Run window.CacheCleanupScript.runFullCleanup() to fix")):console.log(`
 Cache appears clean!`)}static async testAfterCleanup(){console.log(` Testing metadata fetching after cleanup...
`);const e=[{name:"Empty URI",uri:""},{name:"Test Hash",uri:"ipfs://TestHash123"},{name:"Valid IPFS Format",uri:"ipfs://QmYwAPJzv5CZsnA625s3Xf2nemtYgPpHdWEz79ojWnPbdG"}];for(const n of e){console.log(`Testing: ${n.name}`);try{const s=await window.metadataService.fetchMetadataFromIPFS(n.uri);console.log(s?`   Success: ${s.name||"No name"}`:"   Failed: null result")}catch(s){console.log(`   Error: ${s.message}`)}}console.log(`
 Use window.IPFSTestScript.runCompleteTest() for comprehensive testing`)}static startCacheMonitoring(){console.log(" Starting cache monitoring..."),console.log("Monitor will log cache operations as they happen."),console.log(`Use window.CacheCleanupScript.stopCacheMonitoring() to stop.
`);const e=localStorage.setItem;localStorage.setItem=function(n,s){try{const r=JSON.parse(s);(n.includes("marketplace")||n.includes("asset_metadata"))&&console.log(` CACHE SET: ${n}`,{dataType:Array.isArray(r.data)?"array":typeof r.data,itemCount:Array.isArray(r.data)?r.data.length:1,timestamp:new Date().toLocaleTimeString()})}catch{}return e.call(this,n,s)},window._originalSetItem=e}static stopCacheMonitoring(){window._originalSetItem&&(localStorage.setItem=window._originalSetItem,delete window._originalSetItem,console.log(" Cache monitoring stopped."))}}window.CacheCleanupScript=e2e;class sj{constructor(e,n){Ge(this,"provider");Ge(this,"signer");Ge(this,"marketplaceAddress");Ge(this,"tokenAddress");this.provider=e,this.signer=n,this.marketplaceAddress=Tn,this.tokenAddress=Sr}async fetchEnhancedMarketplaceListings(e){try{console.log(" ENHANCED: Fetching detailed marketplace listings for OrderBook...");const n=this.signer||this.provider,s=new Xe(this.marketplaceAddress,vi,n),r=["function balanceOf(address account, uint256 id) view returns (uint256)","function uri(uint256 id) view returns (string)","function getTokenLifecycleStatus(uint256 tokenId) external view returns (uint8)"],i=new Xe(this.tokenAddress,r,this.provider);console.log(" Getting all marketplace listings...");const o=await s.getAllListings(),[l,c,d,u]=o;console.log(`Found ${l.length} marketplace listings`);const h=[];for(let f=0;f<l.length;f++){const m=l[f].toString(),g=d[f].toString(),p=u[f];try{try{if(await i.getTokenLifecycleStatus(m)===2){console.log(` Skipping burned token ${m} in orderbook`);continue}}catch{console.warn(` Could not check lifecycle for token ${m}, including in orderbook`)}let w=0;if(e)try{const N=await i.balanceOf(e,m);w=parseInt(N.toString())}catch{console.warn(`Could not fetch wallet balance for token ${m}`),w=0}const b=await this.fetchEnhancedMetadata(i,m),y={id:m,name:b.name,symbol:b.symbol,description:b.description,image:b.image,totalSupply:parseInt(g),userBalance:w,isListed:!0,marketplacePrice:p?parseFloat(Be(p)):0,exists:!0,metadata:b.metadata,assetType:b.assetType,location:b.location,valuation:b.valuation,area:b.area,bedrooms:b.bedrooms,bathrooms:b.bathrooms,attributes:b.attributes,lastPrice:p?parseFloat(Be(p)):0,priceChange24h:this.generateMockPriceChange(),volume24h:this.generateMockVolume()};h.push(y),console.log(` ENHANCED: Added token ${m}:`,{name:y.name,assetType:y.assetType,location:y.location,userBalance:y.userBalance})}catch(w){console.error(`Error processing enhanced token ${m}:`,w)}}return console.log(` ENHANCED LISTINGS: Found ${h.length} detailed tokens for OrderBook`),h}catch(n){return console.error(" Error fetching enhanced marketplace listings:",n),[]}}async fetchEnhancedMetadata(e,n){var s,r,i,o,l,c,d,u,h;try{console.log(` Fetching enhanced metadata for token ${n}...`);let f="";try{f=await e.uri(n),console.log(`Got metadata URI for token ${n}:`,f)}catch{console.log(`Could not fetch URI for token ${n}, using fallbacks`)}let m;if(f&&f!==""&&!f.includes("TestHash")){const g=await Yy.fetchMetadataFromIPFS(f);g&&(m={name:g.name||"",description:g.description||"",image:g.image||"",external_url:g.external_url,attributes:g.attributes||[],asset_type:((s=g.assetDetails)==null?void 0:s.assetType)||((i=(r=g.attributes)==null?void 0:r.find(p=>p.trait_type==="Asset Type"))==null?void 0:i.value),location:((l=(o=g.attributes)==null?void 0:o.find(p=>p.trait_type==="Location"))==null?void 0:l.value)||"",valuation:((d=(c=g.attributes)==null?void 0:c.find(p=>p.trait_type==="Valuation"))==null?void 0:d.value)||"",certification:((h=(u=g.attributes)==null?void 0:u.find(p=>p.trait_type==="Certification"))==null?void 0:h.value)||""})}return this.createEnhancedTokenData(n,m)}catch(f){return console.error(`Error fetching enhanced metadata for token ${n}:`,f),this.createEnhancedTokenData(n,void 0)}}async parseMetadataFromUri(e){try{let n=e;e.startsWith("ipfs://")?n=e.replace("ipfs://","https://gateway.pinata.cloud/ipfs/"):e.startsWith("http")||(n=`https://gateway.pinata.cloud/ipfs/${e}`),console.log(`Fetching metadata from: ${n}`);const s=await fetch(n,{method:"GET",headers:{Accept:"application/json"},signal:AbortSignal.timeout(1e4)});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);const r=await s.json();if(console.log(" Successfully fetched metadata:",r),r.image)if(r.image.startsWith("ipfs://")){const i=r.image.replace("ipfs://","https://gateway.pinata.cloud/ipfs/");try{(await fetch(i,{method:"HEAD",signal:AbortSignal.timeout(5e3)})).ok?(r.image=i,console.log(` IPFS image validated: ${i}`)):(console.warn(` IPFS image not accessible: ${i}`),r.image="")}catch(o){console.warn(` IPFS image validation failed: ${i}`,o),r.image=""}}else r.image.startsWith("http")||(console.warn(` Invalid image URL format: ${r.image}`),r.image="");return r}catch(n){console.log("Could not fetch metadata from URI:",n);return}}createEnhancedTokenData(e,n){const s=(n==null?void 0:n.attributes)||[],r=this.determineAssetType(n,s),i=this.extractLocation(n,s),o=this.extractValuation(n,s),l=this.extractAttribute(s,["Area","Size","Square Feet","Sq Ft"]),c=this.extractAttribute(s,["Bedrooms","Beds","Bedroom"]),d=this.extractAttribute(s,["Bathrooms","Baths","Bathroom"]);return{name:(n==null?void 0:n.name)||this.generateFallbackName(e,r),symbol:this.generateSymbol(e,r),description:(n==null?void 0:n.description)||this.generateFallbackDescription(e,r),image:h9((n==null?void 0:n.image)||"",r,e),metadata:n,assetType:r,location:i,valuation:o,area:l,bedrooms:c,bathrooms:d,attributes:s}}determineAssetType(e,n=[]){if(e!=null&&e.asset_type)return e.asset_type;const s=this.extractAttribute(n,["Type","Asset Type","Category"]);if(s)return s;const r=`${(e==null?void 0:e.name)||""} ${(e==null?void 0:e.description)||""}`.toLowerCase();return r.includes("real estate")||r.includes("property")||r.includes("villa")||r.includes("house")?"Real Estate":r.includes("gold")||r.includes("silver")||r.includes("metal")||r.includes("bullion")?"Precious Metals":r.includes("wine")||r.includes("vintage")||r.includes("bottle")?"Collectibles":r.includes("art")||r.includes("painting")||r.includes("sculpture")?"Art":r.includes("carbon")||r.includes("credit")||r.includes("offset")?"Carbon Credits":"Real World Asset"}extractLocation(e,n=[]){const s=this.extractAttribute(n,["Location","Address","City","Region","Country"]);if(s)return s;if(e!=null&&e.description){const r=/(in|at|located in)\s+([A-Z][a-zA-Z\s,]+)/i,i=e.description.match(r);if(i)return i[2].trim()}return"Location TBD"}extractValuation(e,n=[]){return this.extractAttribute(n,["Valuation","Value","Worth","Appraisal"])||"Valuation Pending"}extractAttribute(e,n){var s;for(const r of e)for(const i of n)if(((s=r.trait_type)==null?void 0:s.toLowerCase())===i.toLowerCase())return r.value;return""}generateFallbackName(e,n){return{"Real Estate":`Property #${e}`,"Precious Metals":`Gold Asset #${e}`,Collectibles:`Collectible #${e}`,Art:`Artwork #${e}`,"Carbon Credits":`Carbon Credit #${e}`}[n]||`Asset #${e}`}generateSymbol(e,n){return{"Real Estate":`PROP${e}`,"Precious Metals":`GOLD${e}`,Collectibles:`COLL${e}`,Art:`ART${e}`,"Carbon Credits":`CARB${e}`}[n]||`RWA${e}`}generateFallbackDescription(e,n){return{"Real Estate":`Tokenized real estate property with fractional ownership rights. Property ID: ${e}`,"Precious Metals":`Physical precious metal asset backed by certified bullion. Asset ID: ${e}`,Collectibles:`Authenticated collectible item with provenance tracking. Item ID: ${e}`,Art:`Tokenized artwork with verified authenticity and ownership history. Piece ID: ${e}`,"Carbon Credits":`Verified carbon offset credit representing environmental impact reduction. Credit ID: ${e}`}[n]||`Real-world asset token with verifiable ownership rights. Asset ID: ${e}`}generateFallbackImage(e,n){return Od(e,n||"1")}generateMockPriceChange(){const e=["+2.4%","-1.8%","+0.7%","-0.3%","+4.1%","-2.9%","+1.2%"];return e[Math.floor(Math.random()*e.length)]}generateMockVolume(){return Math.floor(Math.random()*1e3)+100}async getDetailedTokenInfo(e,n){try{return(await this.fetchEnhancedMarketplaceListings(n)).find(r=>r.id===e)||null}catch(s){return console.error(`Error fetching detailed info for token ${e}:`,s),null}}async getU2UBalance(e){try{const n=await this.provider.getBalance(e);return Be(n)}catch(n){return console.error("Error fetching U2U balance:",n),"0"}}}const t2e=(t,e)=>(t*e).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),n2e=({token:t,isSelected:e=!1,onSelect:n,showTradeButton:s=!1,onTrade:r,compact:i=!1})=>{var b;const[o,l]=v.useState(!1),[c,d]=v.useState(!1),[u,h]=v.useState(""),[f,m]=v.useState(0),g=()=>{console.log(` Image failed to load: ${u}`);const y=mT(u);if(y&&f<qy.length-1){const A=f+1,S=u9(`ipfs://${y}`,A);console.log(` Trying IPFS gateway ${A+1}/${qy.length}: ${S}`),m(A),h(S),d(!1),l(!1);return}const N=f9(t.assetType);console.log(` Using fixed fallback image for ${t.assetType}: ${N}`),h(N),d(!0)};v.useEffect(()=>{const y=h9(t.image,t.assetType,t.id);console.log(` Processed image URL for token ${t.id}: ${t.image}  ${y}`),h(y),l(!1),d(!1),m(0)},[t.image,t.assetType,t.id]);const p=y=>y.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:4}),w=(b=t.priceChange24h)==null?void 0:b.startsWith("+");return i?a.jsx(pe,{className:`bg-white border-gray-200 shadow-sm hover:shadow-md transition-all duration-200 cursor-pointer ${e?"ring-2 ring-blue-500 border-blue-200":""}`,onClick:n,children:a.jsx(ge,{className:"p-4",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"relative w-16 h-16 rounded-lg overflow-hidden bg-gray-100",children:a.jsx(Dd,{src:u,alt:t.name,className:"w-full h-full object-cover",assetType:t.assetType||"Real Estate",tokenId:t.id,onLoad:()=>{l(!0),console.log(` Image loaded successfully: ${u}`)},onError:g})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-gray-900 text-sm truncate",children:t.name}),a.jsxs("p",{className:"text-xs text-gray-500 flex items-center mt-1",children:[a.jsx(Q2,{className:"w-3 h-3 mr-1"}),t.location]}),a.jsxs("div",{className:"flex items-center justify-between mt-2",children:[a.jsx("div",{children:a.jsxs("p",{className:"text-sm font-bold text-gray-900",children:[t.marketplacePrice?p(t.marketplacePrice):"N/A"," Flow"]})}),t.userBalance>0&&a.jsxs(Ue,{className:"bg-green-50 text-green-700 border-green-200 text-xs",children:[a.jsx(qr,{className:"w-3 h-3 mr-1"}),t.userBalance]})]})]})]})})}):a.jsxs(Qt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},whileHover:{scale:1.02},onClick:n,className:`group bg-white/90 backdrop-blur-sm rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 cursor-pointer border border-gray-200/50 hover:border-gray-300/50 overflow-hidden ${e?"ring-2 ring-blue-500 border-blue-200 shadow-2xl scale-[1.02]":""}`,children:[a.jsxs("div",{className:"relative overflow-hidden",children:[!o&&!c&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100 z-10",children:a.jsx(dS,{className:"w-8 h-8 animate-spin text-gray-400"})}),c&&!o&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100 z-10",children:a.jsx(gq,{className:"w-8 h-8 text-gray-400"})}),a.jsx(Dd,{src:u,alt:t.name,className:"w-full h-48 object-cover group-hover:scale-110 transition-transform duration-700",assetType:t.assetType||"Real Estate",tokenId:t.id,onLoad:()=>{l(!0),console.log(` Image loaded successfully: ${u}`)},onError:g}),a.jsx("div",{className:"absolute top-4 left-4",children:a.jsx("span",{className:"px-3 py-1 bg-white/90 backdrop-blur-sm rounded-full text-xs font-medium text-gray-700 border border-gray-200/50",children:t.assetType})}),a.jsx("div",{className:"absolute top-4 right-4",children:a.jsxs("span",{className:"px-2 py-1 bg-blue-500/90 backdrop-blur-sm rounded-full text-xs font-medium text-white border border-blue-400/50",children:["#",t.id]})}),t.userBalance>0&&a.jsx("div",{className:"absolute top-4 right-20",children:a.jsxs("span",{className:"px-2 py-1 bg-green-500/90 backdrop-blur-sm rounded-full text-xs font-medium text-white border border-green-400/50",children:[a.jsx(qr,{className:"w-3 h-3 inline mr-1"}),t.userBalance]})})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"font-bold text-gray-900 mb-2 group-hover:text-gray-700 transition-colors line-clamp-1",children:t.name}),a.jsxs("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2 leading-relaxed flex items-center",children:[a.jsx(Q2,{className:"w-3 h-3 mr-1 text-gray-400"}),t.location]}),a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-xs text-gray-500",children:["Price per token (",t.marketplacePrice?p(t.marketplacePrice):"N/A"," Flow)"]}),a.jsxs("p",{className:"text-sm font-semibold text-blue-600 mt-1",children:["Total Valuation: ",t.marketplacePrice?t2e(t.marketplacePrice,t.totalSupply):"N/A"," Flow"]}),t.priceChange24h&&a.jsxs("p",{className:`text-xs flex items-center mt-1 ${w?"text-green-600":"text-red-600"}`,children:[w?a.jsx(ns,{className:"w-3 h-3 mr-1"}):a.jsx(hS,{className:"w-3 h-3 mr-1"}),t.priceChange24h," (24h)"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm font-medium text-green-600",children:[t.totalSupply," Total"]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Supply"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),a.jsx("span",{className:"text-xs text-gray-600",children:"Available Now"})]}),s?a.jsx("button",{className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-xl hover:from-blue-700 hover:to-blue-800 transition-all duration-300 shadow-md hover:shadow-lg text-sm font-medium",onClick:y=>{y.stopPropagation(),r==null||r()},children:"Trade Now"}):a.jsx("button",{className:"px-4 py-2 bg-gradient-to-r from-gray-800 to-black text-white rounded-xl hover:from-gray-900 hover:to-gray-800 transition-all duration-300 shadow-md hover:shadow-lg text-sm font-medium",onClick:y=>{y.stopPropagation(),n==null||n()},children:"Select Asset"})]})]})]})},s2e=({selectedTokenId:t,onTokenSelect:e,showOwnedOnly:n=!1})=>{const{provider:s,signer:r,address:i}=Mn();console.log(" AssetTokenSelector: Component initialized",{selectedTokenId:t,showOwnedOnly:n,hasProvider:!!s,hasAddress:!!i});const[o,l]=v.useState([]),[c,d]=v.useState([]),[u,h]=v.useState(!0),[f,m]=v.useState(""),[g,p]=v.useState("all"),[w,b]=v.useState("grid"),[y,N]=v.useState(!1),[A,S]=v.useState(!1),[T,_]=v.useState(null),R=async(x,j=0)=>{var I,F,O,k,$,G,P,z,K,H,q,Q,J,te,Me;const E=parseFloat(Be(x.price||"0"));let D=x.name,C=x.type||x.category||"Real World Asset";if(x.metadata){const ee=x.metadata.name||x.metadata.title||x.metadata.assetName||((I=x.metadata.assetDetails)==null?void 0:I.name)||((F=x.metadata.assetDetails)==null?void 0:F.title);ee&&ee!==`Asset Token #${x.tokenId}`&&(D=ee);const he=x.metadata.assetType||((O=x.metadata.assetDetails)==null?void 0:O.assetType)||((k=x.metadata.assetDetails)==null?void 0:k.category);if(he&&(C=he),x.metadata.attributes){const ke=x.metadata.attributes.find(se=>se.trait_type==="Asset Type"||se.trait_type==="Category"||se.trait_type==="Type");ke!=null&&ke.value&&(C=ke.value)}}if(D===x.name&&(D!=null&&D.startsWith("Asset Token #"))){const ee=ln.getCachedAssetMetadata(x.tokenId);if(ee!=null&&ee.metadata){const he=ee.metadata.name||ee.metadata.title||ee.metadata.assetName;he&&(D=he);const ke=ee.metadata.assetType||(($=ee.metadata.assetDetails)==null?void 0:$.assetType);ke&&(C=ke)}}return{id:x.tokenId,name:D,symbol:`TOA${x.tokenId}`,description:x.description,image:x.image,totalSupply:x.totalSupply||x.amount,userBalance:j,isListed:!0,marketplacePrice:E,exists:!0,metadata:x.metadata,assetType:C,location:((P=(G=x.attributes)==null?void 0:G.find(ee=>{var he;return(he=ee.trait_type)==null?void 0:he.toLowerCase().includes("location")}))==null?void 0:P.value)||"Unknown",valuation:((K=(z=x.attributes)==null?void 0:z.find(ee=>{var he;return(he=ee.trait_type)==null?void 0:he.toLowerCase().includes("valuation")}))==null?void 0:K.value)||`${E.toFixed(2)} Flow`,area:(q=(H=x.attributes)==null?void 0:H.find(ee=>{var he;return(he=ee.trait_type)==null?void 0:he.toLowerCase().includes("area")}))==null?void 0:q.value,bedrooms:(J=(Q=x.attributes)==null?void 0:Q.find(ee=>{var he;return(he=ee.trait_type)==null?void 0:he.toLowerCase().includes("bedroom")}))==null?void 0:J.value,bathrooms:(Me=(te=x.attributes)==null?void 0:te.find(ee=>{var he;return(he=ee.trait_type)==null?void 0:he.toLowerCase().includes("bathroom")}))==null?void 0:Me.value,attributes:x.attributes||[],lastPrice:E,priceChange24h:"0.00%",volume24h:0}},B=v.useCallback(async(x=!1)=>{if(s)try{if(!x){console.log(" Checking marketplace cache for asset token data...");const C=ln.getCachedMarketplaceListings();if(C&&C.length>0){console.log(` Loaded ${C.length} assets from marketplace cache instantly!`);const{CONTRACT_ABIS:I}=await Ct(async()=>{const{CONTRACT_ABIS:G}=await Promise.resolve().then(()=>ki);return{CONTRACT_ABIS:G}},void 0),F=new Xe(Sr,I.ERC1155CORE,s),O=[];for(const G of C)try{await F.getTokenLifecycleStatus(G.tokenId)!==2?O.push(G):console.log(` Skipping burned token ${G.tokenId} in AssetTokenSelector`)}catch{console.warn(` Could not check lifecycle for token ${G.tokenId}, including in AssetTokenSelector`),O.push(G)}console.log(` Filtered ${O.length} active tokens (excluded ${C.length-O.length} burned)`);const k=await Promise.all(O.map(async G=>{var z,K,H;let P=0;if(i)try{const q=await F.balanceOf(i,G.tokenId);P=parseInt(q.toString())}catch{console.warn(`Could not fetch balance for token ${G.tokenId}`)}if((z=G.name)!=null&&z.startsWith("Asset Token #")||G.type==="Unknown"||!((K=G.metadata)!=null&&K.name)){console.log(` Refreshing metadata for token ${G.tokenId} with incomplete data...`);try{const q=ln.getCachedAssetMetadata(G.tokenId);q!=null&&q.metadata&&(G.metadata=q.metadata,G.name=q.metadata.name||q.metadata.title||G.name,G.type=q.metadata.assetType||((H=q.metadata.assetDetails)==null?void 0:H.assetType)||G.type)}catch(q){console.warn(`Could not refresh metadata for token ${G.tokenId}:`,q)}}return R(G,P)}));console.log(` AssetTokenSelector: Setting ${k.length} tokens from cache`),l(k),S(!0),_(Date.now());const $=k.filter(G=>{var P;return((P=G.name)==null?void 0:P.startsWith("Asset Token #"))||G.assetType==="Real World Asset"});$.length>0?(console.log(` Found ${$.length} assets with incomplete metadata, triggering background refresh...`),setTimeout(()=>{console.log(" Background refresh starting due to incomplete metadata..."),B(!0)},2e3)):setTimeout(()=>{console.log(" Background asset refresh starting..."),B(!0)},3e4);return}else console.log(" No valid marketplace cache found, fetching fresh data...")}S(!1),console.log(" Loading fresh asset data...");const E=await new sj(s,r).fetchEnhancedMarketplaceListings(i);console.log(` AssetTokenSelector: Setting ${E.length} tokens from fresh fetch`),l(E),console.log(" Enhanced tokens loaded:",E.length),console.log(" Preloading AssetTokenSelector images...");const D=E.map(C=>({url:C.image,assetType:C.assetType||"Real Estate",tokenId:C.id}));if(Rg.preloadImages(D).catch(C=>{console.warn(" Image preloading failed:",C)}),E.length>0){console.log(" Caching fresh contract data from AssetTokenSelector...");const C=E.map(I=>{var F;return{tokenId:I.id,name:I.name,description:I.description,image:I.image,price:Zr(((F=I.marketplacePrice)==null?void 0:F.toString())||"0").toString(),amount:I.totalSupply,totalSupply:I.totalSupply,seller:"",metadataURI:"",metadata:I.metadata,attributes:I.attributes,type:I.assetType,category:I.assetType}});ln.cacheMarketplaceListings(C),console.log(` Cached ${C.length} marketplace listings from AssetTokenSelector fresh fetch`)}}catch(j){console.error("Error loading tokens with cache:",j);try{const D=await new sj(s,r).fetchEnhancedMarketplaceListings(i);if(l(D),D.length>0){console.log(" Caching fallback contract data from AssetTokenSelector...");const C=D.map(I=>{var F;return{tokenId:I.id,name:I.name,description:I.description,image:I.image,price:Zr(((F=I.marketplacePrice)==null?void 0:F.toString())||"0").toString(),amount:I.totalSupply,totalSupply:I.totalSupply,seller:"",metadataURI:"",metadata:I.metadata,attributes:I.attributes,type:I.assetType,category:I.assetType}});ln.cacheMarketplaceListings(C),console.log(` Cached ${C.length} marketplace listings from AssetTokenSelector fallback fetch`)}}catch(E){console.error("Fallback token loading also failed:",E)}}},[s,r,i]);v.useEffect(()=>{(async()=>{if(s)try{h(!0),console.log(" AssetTokenSelector: Starting token fetch process..."),console.log(" AssetTokenSelector: Checking marketplace cache...");const j=ln.getCachedMarketplaceListings();console.log(" AssetTokenSelector: Cache check result:",{hasCachedData:!!j,cachedCount:(j==null?void 0:j.length)||0,cacheInstance:!!ln}),!j||j.length===0?(console.log(" AssetTokenSelector: No cache found, forcing fresh fetch..."),await B(!0)):(console.log(" AssetTokenSelector: Using existing cache..."),await B(),setTimeout(async()=>{o.length===0&&!u&&(console.log(" AssetTokenSelector: No tokens loaded from cache, forcing refresh..."),await B(!0))},2e3))}catch(j){console.error(" AssetTokenSelector: Error fetching enhanced tokens:",j)}finally{h(!1)}})()},[s,r,i,B]);const V=async()=>{N(!0);try{await B(!0)}catch(x){console.error("Error refreshing tokens:",x)}finally{N(!1)}};v.useEffect(()=>{let x=o;f&&(x=x.filter(j=>j.name.toLowerCase().includes(f.toLowerCase())||j.location.toLowerCase().includes(f.toLowerCase())||j.description.toLowerCase().includes(f.toLowerCase())||j.id===f)),g!=="all"&&(x=x.filter(j=>j.assetType===g)),n&&(x=x.filter(j=>j.userBalance>0)),console.log(` AssetTokenSelector: Filtered ${x.length} tokens from ${o.length} total (search: "${f}", type: "${g}", ownedOnly: ${n})`),d(x)},[o,f,g,n]);const U=Array.from(new Set(o.map(x=>x.assetType))),L=x=>{switch(x){case"Real Estate":return a.jsx(Id,{className:"w-4 h-4"});case"Precious Metals":return a.jsx(Hu,{className:"w-4 h-4"});case"Collectibles":return a.jsx(mq,{className:"w-4 h-4"});case"Art":return a.jsx(Sq,{className:"w-4 h-4"});case"Carbon Credits":return a.jsx(PO,{className:"w-4 h-4"});default:return a.jsx(Id,{className:"w-4 h-4"})}},M=x=>{const j=o.filter(D=>D.assetType===x),E=j.filter(D=>D.userBalance>0).length;return{total:j.length,owned:E}};return u?a.jsx(pe,{className:"bg-white border-gray-200 shadow-sm",children:a.jsx(ge,{className:"p-8",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx(dS,{className:"w-6 h-6 animate-spin mr-2 text-blue-600"}),a.jsx("span",{className:"text-gray-700",children:"Loading enhanced asset information..."})]})})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs(pe,{className:"bg-white border-gray-200 shadow-sm",children:[a.jsx(yt,{children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs(vt,{className:"flex items-center gap-2 text-gray-900",children:[a.jsx(xy,{className:"w-5 h-5"}),"Asset Selection & Filtering"]}),a.jsxs(Z,{variant:"outline",size:"sm",onClick:V,disabled:y,className:"flex items-center gap-2 border-gray-300 text-gray-700 hover:bg-gray-50",children:[a.jsx(Un,{className:`w-4 h-4 ${y?"animate-spin":""}`}),"Refresh"]})]})}),a.jsxs(ge,{children:[a.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(uS,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),a.jsx(Gt,{placeholder:"Search by name, location, or token ID...",value:f,onChange:x=>m(x.target.value),className:"pl-10 bg-white border-gray-300 text-gray-900 placeholder-gray-500"})]})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Z,{variant:w==="grid"?"default":"outline",size:"sm",onClick:()=>b("grid"),className:w==="grid"?"bg-blue-600 hover:bg-blue-700 text-white":"border-gray-300 text-gray-700 hover:bg-gray-50",children:a.jsx(pq,{className:"w-4 h-4"})}),a.jsx(Z,{variant:w==="list"?"default":"outline",size:"sm",onClick:()=>b("list"),className:w==="list"?"bg-blue-600 hover:bg-blue-700 text-white":"border-gray-300 text-gray-700 hover:bg-gray-50",children:a.jsx(vq,{className:"w-4 h-4"})})]})]}),a.jsx(zo,{value:g,onValueChange:p,children:a.jsxs(Ho,{className:"grid w-full grid-cols-6 bg-gray-100 border-gray-200",children:[a.jsxs(bn,{value:"all",className:"flex items-center gap-2 data-[state=active]:bg-blue-600 data-[state=active]:text-white text-gray-700",children:["All Assets (",o.length,")"]}),U.map(x=>{const j=M(x);return a.jsxs(bn,{value:x,className:"flex items-center gap-2 data-[state=active]:bg-blue-600 data-[state=active]:text-white text-gray-700",children:[L(x),a.jsx("span",{className:"hidden sm:inline",children:x.split(" ")[0]}),a.jsx(Ue,{variant:"secondary",className:"text-xs bg-gray-200 text-gray-700 border-gray-300",children:j.total})]},x)})]})})]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("span",{className:"text-sm text-gray-600",children:["Showing ",c.length," of ",o.length," assets"]}),n&&a.jsx(Ue,{variant:"outline",className:"text-xs border-blue-200 text-blue-700 bg-blue-50",children:"Owned Assets Only"})]}),a.jsxs("div",{className:"text-sm text-gray-600",children:["You own ",o.filter(x=>x.userBalance>0).length," assets"]})]}),c.length===0?a.jsx(pe,{className:"bg-white border-gray-200 shadow-sm",children:a.jsx(ge,{className:"p-8 text-center",children:a.jsxs("div",{className:"text-gray-700",children:[a.jsx(xy,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),a.jsx("h3",{className:"text-lg font-medium mb-2 text-gray-900",children:"No assets found"}),a.jsx("p",{className:"text-sm text-gray-600",children:f?`No assets match your search "${f}"`:g!=="all"?`No ${g} assets found`:"No assets available"})]})})}):a.jsx("div",{className:w==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-4",children:c.map(x=>a.jsx(n2e,{token:x,isSelected:t===x.id,onSelect:()=>e(x),compact:w==="list",showTradeButton:!1},x.id))})]})};class JV{constructor(e,n,s){Ge(this,"provider");Ge(this,"signer");Ge(this,"contractAddress");this.provider=e,this.contractAddress=n,this.signer=s}getContract(e=!1){return new Xe(this.contractAddress,Pp,e&&this.signer?this.signer:this.provider)}async createSellOrder(e,n,s){if(!this.signer)throw new Error("Signer required");const r=this.getContract(!0),i=Zr(s);return await r.createSellOrder(e,n,i)}async createBuyOrder(e,n,s){if(!this.signer)throw new Error("Signer required");const r=this.getContract(!0),i=Zr(s),o=i.mul(n);return await r.createBuyOrder(e,n,i,{value:o})}async fillOrder(e,n,s){if(!this.signer)throw new Error("Signer required");const r=this.getContract(!0);if(s.isBuyOrder)return await r.fillOrder(e,n);{const i=Zr(s.pricePerTokenU2U.toString()).mul(n),o=i.div(100),l=i.add(o);return await r.fillOrder(e,n,{value:l})}}async getOrderBook(e){const n=this.getContract(),[s,r]=await n.getActiveOrders(e),i=[],o=[];for(const l of s)try{const c=await n.activeOrders(l);c.isActive&&!c.isBuyOrder&&i.push({orderId:l.toString(),maker:c.maker,tokenId:c.tokenId.toString(),amount:c.amount.toNumber(),pricePerTokenU2U:parseFloat(Be(c.pricePerTokenU2U)),isBuyOrder:c.isBuyOrder,isActive:c.isActive,isFilled:c.isFilled,timestamp:c.timestamp.toNumber(),expiryTimestamp:c.expiryTimestamp.toNumber()})}catch(c){console.warn(`Error fetching sell order ${l}:`,c)}for(const l of r)try{const c=await n.activeOrders(l);c.isActive&&c.isBuyOrder&&o.push({orderId:l.toString(),maker:c.maker,tokenId:c.tokenId.toString(),amount:c.amount.toNumber(),pricePerTokenU2U:parseFloat(Be(c.pricePerTokenU2U)),isBuyOrder:c.isBuyOrder,isActive:c.isActive,isFilled:c.isFilled,timestamp:c.timestamp.toNumber(),expiryTimestamp:c.expiryTimestamp.toNumber()})}catch(c){console.warn(`Error fetching buy order ${l}:`,c)}return i.sort((l,c)=>l.pricePerTokenU2U-c.pricePerTokenU2U),o.sort((l,c)=>c.pricePerTokenU2U-l.pricePerTokenU2U),{sellOrders:i,buyOrders:o}}async cancelOrder(e){if(!this.signer)throw new Error("Signer required");return await this.getContract(!0).cancelOrder(e)}async getEscrowBalances(e){const s=await this.getContract().getEscrowedU2U(e);return{u2u:parseFloat(Be(s)),tokens:{}}}async getUserOrders(e){return(await this.getContract().getUserOrders(e)).map(r=>r.toString())}async getBestAskPrice(e){const n=this.getContract(),[s,r]=await n.getBestAskPrice(e);return{price:parseFloat(Be(s)),amount:r.toNumber()}}async getBestBidPrice(e){const n=this.getContract(),[s,r]=await n.getBestBidPrice(e);return{price:parseFloat(Be(s)),amount:r.toNumber()}}async getOrderDetails(e){try{const s=await this.getContract().activeOrders(e);return{orderId:e,maker:s.maker,tokenId:s.tokenId.toString(),amount:s.amount.toNumber(),pricePerTokenU2U:parseFloat(Be(s.pricePerTokenU2U)),isBuyOrder:s.isBuyOrder,isActive:s.isActive,isFilled:s.isFilled,timestamp:s.timestamp.toNumber(),expiryTimestamp:s.expiryTimestamp.toNumber()}}catch(n){return console.error(`Error fetching order ${e}:`,n),null}}async checkApproval(e,n){return await new Xe(n,["function isApprovedForAll(address owner, address operator) external view returns (bool)"],this.provider).isApprovedForAll(e,this.contractAddress)}async approveContract(e){if(!this.signer)throw new Error("Signer required");return await new Xe(e,["function setApprovalForAll(address operator, bool approved) external"],this.signer).setApprovalForAll(this.contractAddress,!0)}}const r2e=t=>{const{provider:e,signer:n,address:s}=Mn(),[r,i]=v.useState(null),[o,l]=v.useState(null),[c,d]=v.useState([]),[u,h]=v.useState(!1),[f,m]=v.useState(!1),[g,p]=v.useState(null);v.useEffect(()=>{if(e&&os){const _=new JV(e,os,n);i(_)}},[e,n]);const w=v.useCallback(async()=>{if(!(!r||!t)){m(!0),p(null);try{const _=await r.getOrderBook(t);if(l(_),s){const B=[..._.sellOrders,..._.buyOrders].filter(V=>V.maker.toLowerCase()===s.toLowerCase());d(B)}}catch(_){console.error("Error loading order book:",_),p("Failed to load order book data")}finally{m(!1)}}},[r,t,s]),b=v.useCallback(async()=>{if(!(!r||!s))try{const _=await r.checkApproval(s,Sr);h(_)}catch(_){console.error("Error checking approval:",_)}},[r,s]);v.useEffect(()=>{if(r&&t){w(),b();const _=setInterval(()=>{w()},1e4);return()=>clearInterval(_)}},[r,t,w,b]);const y=v.useCallback(async()=>{if(!r)throw new Error("Service not initialized");m(!0);try{await(await r.approveContract(Sr)).wait(),h(!0),await w()}catch(_){throw console.error("Error approving contract:",_),_}finally{m(!1)}},[r,w]),N=v.useCallback(async(_,R,B)=>{if(!r)throw new Error("Service not initialized");m(!0);try{if(s){const{dashboardCache:U}=await Ct(async()=>{const{dashboardCache:C}=await Promise.resolve().then(()=>ci);return{dashboardCache:C}},void 0),L={hash:`pending_${Date.now()}`,blockNumber:0,timestamp:Date.now(),type:"sell",tokenId:_,amount:R,price:Zr(B).toString(),from:s,to:os,gasUsed:"0",gasPrice:"0",status:"pending",assetName:`Asset #${_} (Sell Order)`,platformFee:"0"},M=U.getCachedTransactionHistory(s)||[],x=[L,...M];U.cacheTransactionHistory(x,s),console.log(" Added pending sell order to transaction cache");const j={id:`sell_order_pending_${Date.now()}`,timestamp:Date.now(),type:"order_created",title:"Sell Order Creating...",message:`Creating sell order for ${R} tokens of Asset #${_} at ${B} U2U each. Waiting for blockchain confirmation...`,status:"pending",priority:"medium",read:!1,orderData:{orderId:`pending_${Date.now()}`,tokenId:_,assetName:`Asset #${_}`,amount:R,price:B,orderType:"sell"}},E=U.getCachedNotifications(s)||[],D=[j,...E];U.cacheNotifications(D,s),console.log(" Added pending sell order notification")}const V=await r.createSellOrder(_,R,B);if(s){const{dashboardCache:U}=await Ct(async()=>{const{dashboardCache:x}=await Promise.resolve().then(()=>ci);return{dashboardCache:x}},void 0),M=(U.getCachedTransactionHistory(s)||[]).map(x=>x.hash.startsWith("pending_")&&x.tokenId===_&&x.type==="sell"?{...x,hash:V.hash,status:"pending"}:x);U.cacheTransactionHistory(M,s),console.log(" Updated pending sell order with real tx hash:",V.hash)}if(await V.wait(),s){const{dashboardCache:U}=await Ct(async()=>{const{dashboardCache:x}=await Promise.resolve().then(()=>ci);return{dashboardCache:x}},void 0),M=(U.getCachedNotifications(s)||[]).map(x=>{var j;return x.id.includes("sell_order_pending_")&&((j=x.orderData)==null?void 0:j.tokenId)===_?{...x,id:`sell_order_confirmed_${V.hash}`,title:"Sell Order Created Successfully",message:`Your sell order for ${R} tokens of Asset #${_} at ${B} U2U each is now active in the OrderBook.`,status:"completed",priority:"high",transactionHash:V.hash,orderData:{...x.orderData,orderId:V.hash}}:x});U.cacheNotifications(M,s),console.log(" Updated sell order notification with success status")}await w()}catch(V){if(console.error("Error creating sell order:",V),s){const{dashboardCache:U}=await Ct(async()=>{const{dashboardCache:E}=await Promise.resolve().then(()=>ci);return{dashboardCache:E}},void 0),M=(U.getCachedTransactionHistory(s)||[]).filter(E=>!(E.hash.startsWith("pending_")&&E.tokenId===_&&E.type==="sell"));U.cacheTransactionHistory(M,s);const j=(U.getCachedNotifications(s)||[]).map(E=>{var D;return E.id.includes("sell_order_pending_")&&((D=E.orderData)==null?void 0:D.tokenId)===_?{...E,title:"Sell Order Failed",message:`Failed to create sell order for Asset #${_}. Please try again.`,status:"failed",priority:"high"}:E});U.cacheNotifications(j,s),console.log(" Removed failed pending sell order from cache and updated notification")}throw V}finally{m(!1)}},[r,w,s]),A=v.useCallback(async(_,R,B)=>{if(!r)throw new Error("Service not initialized");m(!0);try{if(s){const{dashboardCache:U}=await Ct(async()=>{const{dashboardCache:C}=await Promise.resolve().then(()=>ci);return{dashboardCache:C}},void 0),L={hash:`pending_${Date.now()}`,blockNumber:0,timestamp:Date.now(),type:"buy",tokenId:_,amount:R,price:Zr(B).toString(),from:s,to:os,gasUsed:"0",gasPrice:"0",status:"pending",assetName:`Asset #${_} (Buy Order)`,platformFee:"0"},M=U.getCachedTransactionHistory(s)||[],x=[L,...M];U.cacheTransactionHistory(x,s),console.log(" Added pending buy order to transaction cache");const j={id:`buy_order_pending_${Date.now()}`,timestamp:Date.now(),type:"order_created",title:"Buy Order Creating...",message:`Creating buy order for ${R} tokens of Asset #${_} at ${B} U2U each. Funds will be escrowed upon confirmation...`,status:"pending",priority:"medium",read:!1,orderData:{orderId:`pending_${Date.now()}`,tokenId:_,assetName:`Asset #${_}`,amount:R,price:B,orderType:"buy"}},E=U.getCachedNotifications(s)||[],D=[j,...E];U.cacheNotifications(D,s),console.log(" Added pending buy order notification")}const V=await r.createBuyOrder(_,R,B);if(s){const{dashboardCache:U}=await Ct(async()=>{const{dashboardCache:x}=await Promise.resolve().then(()=>ci);return{dashboardCache:x}},void 0),M=(U.getCachedTransactionHistory(s)||[]).map(x=>x.hash.startsWith("pending_")&&x.tokenId===_&&x.type==="buy"?{...x,hash:V.hash,status:"pending"}:x);U.cacheTransactionHistory(M,s),console.log(" Updated pending buy order with real tx hash:",V.hash)}if(await V.wait(),s){const{dashboardCache:U}=await Ct(async()=>{const{dashboardCache:x}=await Promise.resolve().then(()=>ci);return{dashboardCache:x}},void 0),M=(U.getCachedNotifications(s)||[]).map(x=>{var j;return x.id.includes("buy_order_pending_")&&((j=x.orderData)==null?void 0:j.tokenId)===_?{...x,id:`buy_order_confirmed_${V.hash}`,title:"Buy Order Created & Funds Escrowed",message:`Your buy order for ${R} tokens of Asset #${_} at ${B} U2U each is now active. ${(R*parseFloat(B)).toFixed(2)} U2U has been escrowed.`,status:"completed",priority:"high",transactionHash:V.hash,orderData:{...x.orderData,orderId:V.hash,escrowAmount:(R*parseFloat(B)).toFixed(2)}}:x});U.cacheNotifications(M,s),console.log(" Updated buy order notification with success status")}await w()}catch(V){if(console.error("Error creating buy order:",V),s){const{dashboardCache:U}=await Ct(async()=>{const{dashboardCache:E}=await Promise.resolve().then(()=>ci);return{dashboardCache:E}},void 0),M=(U.getCachedTransactionHistory(s)||[]).filter(E=>!(E.hash.startsWith("pending_")&&E.tokenId===_&&E.type==="buy"));U.cacheTransactionHistory(M,s);const j=(U.getCachedNotifications(s)||[]).map(E=>{var D;return E.id.includes("buy_order_pending_")&&((D=E.orderData)==null?void 0:D.tokenId)===_?{...E,title:"Buy Order Failed",message:`Failed to create sell order for Asset #${_}. Please try again.`,status:"failed",priority:"high"}:E});U.cacheNotifications(j,s),console.log(" Removed failed pending buy order from cache and updated notification")}throw V}finally{m(!1)}},[r,w,s]),S=v.useCallback(async(_,R,B)=>{if(!r)throw new Error("Service not initialized");m(!0);try{if(s){const{dashboardCache:U}=await Ct(async()=>{const{dashboardCache:C}=await Promise.resolve().then(()=>ci);return{dashboardCache:C}},void 0),L={hash:`pending_fill_${Date.now()}`,blockNumber:0,timestamp:Date.now(),type:B.isBuyOrder?"sell":"buy",tokenId:B.tokenId,amount:R,price:Zr(B.pricePerTokenU2U.toString()).toString(),from:s,to:B.maker,gasUsed:"0",gasPrice:"0",status:"pending",assetName:`Asset #${B.tokenId} (P2P Trade)`,platformFee:"0"},M=U.getCachedTransactionHistory(s)||[],x=[L,...M];U.cacheTransactionHistory(x,s);const j={id:`order_fill_pending_${Date.now()}`,timestamp:Date.now(),type:"order_filled",title:"Executing Trade...",message:`Executing ${B.isBuyOrder?"sell":"buy"} trade for ${R} tokens of Asset #${B.tokenId}. Waiting for confirmation...`,status:"pending",priority:"high",read:!1,orderData:{orderId:_,tokenId:B.tokenId,assetName:`Asset #${B.tokenId}`,amount:R,price:B.pricePerTokenU2U.toString(),orderType:B.isBuyOrder?"sell":"buy"}},E=U.getCachedNotifications(s)||[],D=[j,...E];U.cacheNotifications(D,s),console.log(" Added pending order fill transaction and notification")}const V=await r.fillOrder(_,R,B);if(s){const{dashboardCache:U}=await Ct(async()=>{const{dashboardCache:x}=await Promise.resolve().then(()=>ci);return{dashboardCache:x}},void 0),M=(U.getCachedTransactionHistory(s)||[]).map(x=>x.hash.startsWith("pending_fill_")&&x.tokenId===B.tokenId?{...x,hash:V.hash,status:"pending"}:x);U.cacheTransactionHistory(M,s)}if(await V.wait(),s){const{dashboardCache:U}=await Ct(async()=>{const{dashboardCache:x}=await Promise.resolve().then(()=>ci);return{dashboardCache:x}},void 0),M=(U.getCachedNotifications(s)||[]).map(x=>{var j;return x.id.includes("order_fill_pending_")&&((j=x.orderData)==null?void 0:j.tokenId)===B.tokenId?{...x,id:`order_filled_success_${V.hash}`,title:"Trade Executed Successfully",message:`Successfully ${B.isBuyOrder?"sold":"bought"} ${R} tokens of Asset #${B.tokenId} for ${(R*B.pricePerTokenU2U).toFixed(2)} U2U. Trade completed!`,status:"completed",transactionHash:V.hash}:x});U.cacheNotifications(M,s),console.log(" Updated order fill notification with success status")}await w()}catch(V){if(console.error("Error filling order:",V),s){const{dashboardCache:U}=await Ct(async()=>{const{dashboardCache:E}=await Promise.resolve().then(()=>ci);return{dashboardCache:E}},void 0),M=(U.getCachedTransactionHistory(s)||[]).filter(E=>!E.hash.startsWith("pending_fill_"));U.cacheTransactionHistory(M,s);const j=(U.getCachedNotifications(s)||[]).map(E=>E.id.includes("order_fill_pending_")?{...E,title:"Trade Failed",message:`Failed to execute trade for Asset #${B.tokenId}. Please try again.`,status:"failed"}:E);U.cacheNotifications(j,s),console.log(" Updated order fill notification with failure status")}throw V}finally{m(!1)}},[r,w,s]),T=v.useCallback(async _=>{if(!r)throw new Error("Service not initialized");m(!0);try{await(await r.cancelOrder(_)).wait(),await w()}catch(R){throw console.error("Error cancelling order:",R),R}finally{m(!1)}},[r,w]);return{orderBookData:o,loading:f,error:g,refreshOrderBook:w,isApproved:u,approveContract:y,createSellOrder:N,createBuyOrder:A,fillOrder:S,cancelOrder:T,userOrders:c}},i2e=({selectedToken:t,buyOrders:e,sellOrders:n})=>{const[s,r]=v.useState("24h"),[i,o]=v.useState([]),[l,c]=v.useState(()=>{const L=t.marketplacePrice||0;return L>=1e15?L/1e18:L}),[d,u]=v.useState(0),[h,f]=v.useState([]),[m,g]=v.useState(!1),{provider:p,signer:w}=Mn(),b=Ae.useMemo(()=>p&&w?new JV(p,os,w):null,[p,w]),y=L=>L>=1e9?(L/1e9).toFixed(2)+"B":L>=1e6?(L/1e6).toFixed(2)+"M":L>=1e3?(L/1e3).toFixed(2)+"K":L.toFixed(2),N=L=>isNaN(L)||L===0?"0":y(L),A=L=>{if(isNaN(L)||L===0)return"0.00";const M=L;return M>=1?M.toFixed(2):M>=.01?M.toFixed(4):M>0?M.toFixed(6):"0.00"},S=async()=>{if(!p||!t.id){console.log(" Missing provider or token ID:",{provider:!!p,tokenId:t.id});return}g(!0);try{console.log(" === STARTING TRANSACTION FETCH ==="),console.log(" Token ID:",t.id),console.log(" Token Symbol:",t.symbol),console.log(" Provider:",p.connection.url),console.log(" OrderBookService available:",!!b);const L=[];try{const M=new Xe(Tn,vi,p);console.log(` Searching marketplace events for token: ${t.id}`),console.log(` Marketplace contract: ${Tn}`);const x=["OrderFilled","TokenPurchased","TokenSold","Purchase"];for(const j of x)try{const E=M.filters[j]?M.filters[j]():null;if(E){const D=await M.queryFilter(E,-5e3);console.log(` Found ${D.length} total ${j} events`);const C=D.filter(I=>{if(!I.args)return!1;const F=I.args.tokenId||I.args._tokenId||I.args.id;return F&&F.toString()===t.id.toString()});console.log(` Found ${C.length} ${j} events for token ${t.id}`);for(const I of C)if(I.args){const F=await p.getBlock(I.blockNumber);let O=0,k=1;I.args.totalPrice&&I.args.amount?(O=parseFloat(Be(I.args.totalPrice)),k=parseFloat(I.args.amount.toString())):I.args.price&&(O=parseFloat(Be(I.args.price)),k=I.args.amount?parseFloat(I.args.amount.toString()):1),O>0&&L.push({timestamp:F.timestamp*1e3,price:k>0?O/k:O,amount:k,type:"sell",txHash:I.transactionHash})}}}catch(E){console.log(` Event ${j} not found or error:`,E.message)}}catch(M){console.warn(" Could not fetch marketplace events:",M)}try{const M=new Xe(os,Pp,p);console.log(` Searching OrderFilled events for token: ${t.id}`),console.log(` OrderBook contract: ${os}`);try{console.log(" Looking for OrderFilled events...");const j=M.filters.OrderFilled(),E=[-2e4,-5e4,-1e5];let D=[];for(const C of E){console.log(` Searching last ${Math.abs(C)} blocks for OrderFilled events...`);try{const I=await M.queryFilter(j,C);if(console.log(` Found ${I.length} total OrderFilled events in last ${Math.abs(C)} blocks`),I.length>0){D=I;break}}catch(I){console.log(` Block range ${C} failed:`,I.message)}}if(D.length===0){console.log(" No events in recent blocks, searching for order creation events to find trading period...");try{const C=M.filters.SellOrderCreated?M.filters.SellOrderCreated():null,I=M.filters.BuyOrderCreated?M.filters.BuyOrderCreated():null;let F=null;if(C||I){const O=C?await M.queryFilter(C,-1e5):[],k=I?await M.queryFilter(I,-1e5):[],$=[...O.filter(G=>G.args&&G.args.tokenId&&G.args.tokenId.toString()===t.id),...k.filter(G=>G.args&&G.args.tokenId&&G.args.tokenId.toString()===t.id)];$.length>0&&(F=Math.min(...$.map(G=>G.blockNumber)),console.log(` Found trading activity starting from block ${F}`),D=await M.queryFilter(j,F),console.log(` Found ${D.length} OrderFilled events from trading start (block ${F})`))}if(D.length===0){console.log(" Last resort: searching maximum block range...");const O=await p.getBlockNumber(),k=Math.max(0,O-1e6);D=await M.queryFilter(j,k),console.log(` Found ${D.length} total OrderFilled events from block ${k} to ${O}`)}}catch(C){console.log(" Extended search failed:",C.message)}}D.length===0&&(console.log(" No OrderFilled events found. This might mean:"),console.log("   - No trades have happened recently (last 5000 blocks)"),console.log("   - OrderFilled event name is different"),console.log("   - Contract address is wrong"));for(const C of D)if(C.args)try{const{orderId:I,taker:F,amount:O,totalPrice:k}=C.args;console.log(" Processing OrderFilled Event:"),console.log(`   - OrderId: ${I}`),console.log(`   - Taker: ${F}`),console.log(`   - Amount: ${O}`),console.log(`   - TotalPrice: ${k}`),console.log(`   - Block: ${C.blockNumber}`),console.log(`   - TxHash: ${C.transactionHash}`);let $=null;if(b)try{console.log(` Looking up order details for orderId ${I}...`),$=await b.getOrderDetails(I.toString()),$?(console.log(" Order details found:"),console.log(`   - TokenId: ${$.tokenId}`),console.log(`   - Maker: ${$.maker}`),console.log(`   - IsBuyOrder: ${$.isBuyOrder}`),console.log(`   - Amount: ${$.amount}`),console.log(`   - PricePerToken: ${$.pricePerTokenU2U}`)):console.log(` Order details returned null for orderId ${I}`)}catch(G){console.warn(` Could not lookup order details for orderId ${I}:`,G);continue}else{console.warn(" OrderBookService not available for order lookup");continue}if($&&$.tokenId===t.id){const G=await p.getBlock(C.blockNumber),P=parseFloat(Be(k))/parseFloat(O.toString()),z=parseFloat(O.toString());console.log(" FOUND MATCHING TRADE!"),console.log(`   - TokenId Match: ${$.tokenId} === ${t.id}`),console.log(`   - Price per token: ${P} U2U`),console.log(`   - Trade amount: ${z}`),console.log(`   - Trade type: ${$.isBuyOrder?"buy":"sell"}`),console.log(`   - Block timestamp: ${G.timestamp}`),console.log(`   - Transaction hash: ${C.transactionHash}`),L.push({timestamp:G.timestamp*1e3,price:P,amount:z,type:$.isBuyOrder?"buy":"sell",txHash:C.transactionHash})}else $?(console.log(" TOKEN ID MISMATCH:"),console.log(`   - Order tokenId: "${$.tokenId}" (type: ${typeof $.tokenId})`),console.log(`   - Looking for: "${t.id}" (type: ${typeof t.id})`),console.log(`   - String comparison: ${$.tokenId} === ${t.id} = ${$.tokenId===t.id}`),console.log(`   - Loose comparison: ${$.tokenId} == ${t.id} = ${$.tokenId==t.id}`)):console.log(` Skipping OrderFilled ${I} - could not get order details`)}catch(I){console.warn(" Error processing OrderFilled event:",I)}}catch(j){console.warn(" Could not fetch OrderFilled events:",j)}const x=["OrderExecuted","TradeExecuted","OrderMatched"];for(const j of x)try{const E=M.filters[j]?M.filters[j]():null;if(E){const D=await M.queryFilter(E,-5e3);console.log(` Found ${D.length} total ${j} events (fallback)`);const C=D.filter(I=>{if(!I.args)return!1;const F=I.args.tokenId||I.args._tokenId||I.args.id;return F&&F.toString()===t.id.toString()});console.log(` Found ${C.length} ${j} events for token ${t.id}`);for(const I of C)if(I.args){const F=await p.getBlock(I.blockNumber);let O=0,k=1,$=!1;I.args.pricePerToken?O=parseFloat(Be(I.args.pricePerToken)):I.args.price?O=parseFloat(Be(I.args.price)):I.args.totalPrice&&I.args.amount&&(O=parseFloat(Be(I.args.totalPrice))/parseFloat(I.args.amount.toString())),I.args.amount&&(k=parseFloat(I.args.amount.toString())),I.args.isBuyOrder!==void 0?$=I.args.isBuyOrder:I.args.orderType&&($=I.args.orderType===1),O>0&&L.push({timestamp:F.timestamp*1e3,price:O,amount:k,type:$?"buy":"sell",txHash:I.transactionHash})}}}catch(E){console.log(` OrderBook event ${j} not found:`,E.message)}}catch(M){console.warn(" Could not fetch orderbook events:",M)}if(L.length===0){console.log(" No specific events found, trying broader transaction search...");try{const M=await p.getBlockNumber(),x=Math.max(0,M-1e3);console.log(` Scanning blocks ${x} to ${M} for transactions...`);const j=[Tn,os];for(const E of j)try{for(let D=M;D>x&&D>=0;D-=100){const C=await p.getBlockWithTransactions(D);for(const I of C.transactions)I.to===E&&I.data.includes(t.id.replace("0x",""))&&(console.log(` Found potential transaction: ${I.hash}`),L.push({timestamp:C.timestamp*1e3,price:parseFloat(Be(I.value||0)),amount:1,type:"sell",txHash:I.hash}));if(L.length>0)break}}catch(D){console.log(" Block scanning error:",D.message)}}catch(M){console.log(" Broad search failed:",M.message)}}if(L.sort((M,x)=>M.timestamp-x.timestamp),f(L),console.log(" === TRANSACTION FETCH COMPLETE ==="),console.log(" Final Results:"),console.log(`   - Total transactions found: ${L.length}`),console.log(`   - Target token ID: ${t.id}`),console.log("   - Transactions:",L),L.length===0){console.log(" NO TRANSACTIONS FOUND - Possible causes:"),console.log("   1. No trades have happened for this token"),console.log("   2. Token ID format mismatch (string vs number)"),console.log("   3. OrderFilled events not being emitted"),console.log("   4. Order lookup service failing"),console.log("   5. Contract addresses incorrect"),console.log(" Falling back to mock transaction data for chart visualization..."),T();return}else console.log(" SUCCESS - Found real blockchain transactions!")}catch(L){console.error(" Error fetching real blockchain transactions:",L),console.log(" Falling back to mock transaction data due to error..."),T()}finally{g(!1)}},T=()=>{const L=[],M=Date.now();[...e.slice(0,3),...n.slice(0,3)].forEach((x,j)=>{const E=M-j*36e5;let D=t.marketplacePrice||100;D>=1e15&&(D=D/1e18),x.pricePerTokenU2U&&(D=x.pricePerTokenU2U>1e4?x.pricePerTokenU2U/1e6*100:x.pricePerTokenU2U);const C=.95+Math.random()*.1,I=Math.max(.01,D*C);L.push({timestamp:E+Math.random()*18e5,price:I,amount:Math.min(x.amount||1,100),type:x.isBuyOrder?"buy":"sell",txHash:`0x${Math.random().toString(16).substr(2,64)}`})});for(let x=0;x<20;x++){let j=t.marketplacePrice||100;j>=1e15&&(j=j/1e18);const E=j*(.95+Math.random()*.1);L.push({timestamp:M-x*18e5,price:E,amount:1+Math.random()*5,type:Math.random()>.5?"buy":"sell",txHash:`0x${Math.random().toString(16).substr(2,64)}`})}L.sort((x,j)=>x.timestamp-j.timestamp),f(L)},_=()=>{if(h.length===0)return;const L=h[h.length-1];if(c(L.price),h.length>1){const M=h[0],x=(L.price-M.price)/M.price*100;u(x)}console.log(` Price updated from real trades: ${L.price} Flow`)},R=()=>{if(h.length===0)return console.log(" No real transactions found - chart will be empty until trades happen"),[];console.log(` Generating price history from ${h.length} real transactions`);const L=[...h].sort((I,F)=>I.timestamp-F.timestamp),M=[];L.forEach(I=>{M.push({timestamp:I.timestamp,price:I.price,type:I.type})});const x=[],j=5*60*1e3,E=Date.now(),D=Math.min(...L.map(I=>I.timestamp));for(let I=D;I<=E;I+=j){const F=L.filter(O=>O.timestamp<=I).slice(-1)[0];F&&x.push({timestamp:I,price:F.price,type:"main"})}const C=[...M,...x];return console.log(` Generated ${C.length} price points (${M.length} transactions + ${x.length} main line)`),C};v.useEffect(()=>{const L=R();o(L),console.log(` Chart updated with ${L.length} price points (${h.length} real transactions)`)},[s,t.id,h]),v.useEffect(()=>{_()},[h]);const B=async()=>{if(!b){console.log(" OrderBook service not available");return}try{console.log(" === TESTING ORDERBOOK SERVICE ===");const L=await b.getOrderBook(t.id);if(console.log(` Current orders: ${L.sellOrders.length} sell, ${L.buyOrders.length} buy`),L.sellOrders.length>0||L.buyOrders.length>0){console.log(" Active orders found - this suggests trades should have happened!"),console.log(" Since orders exist, we should look for filled/cancelled orders too");const M=[...L.sellOrders,...L.buyOrders];for(let x=0;x<Math.min(3,M.length);x++){const j=M[x];console.log(` Order ${j.orderId} details:`,j)}console.log(" SUGGESTION: Look for OrderCreated events to find when trading started"),console.log(" Then search for OrderFilled events from that time period");try{const x=new Xe(os,Pp,p);console.log(" Searching for SellOrderCreated and BuyOrderCreated events...");const j=x.filters.SellOrderCreated?x.filters.SellOrderCreated():null,E=x.filters.BuyOrderCreated?x.filters.BuyOrderCreated():null;if(j||E){const D=j?await x.queryFilter(j,-1e5):[],C=E?await x.queryFilter(E,-1e5):[];console.log(` Found ${D.length} SellOrderCreated and ${C.length} BuyOrderCreated events`);const I=D.filter(O=>O.args&&O.args.tokenId&&O.args.tokenId.toString()===t.id),F=C.filter(O=>O.args&&O.args.tokenId&&O.args.tokenId.toString()===t.id);if(console.log(` Token-specific events: ${I.length} sell, ${F.length} buy`),I.length>0||F.length>0){const O=[...I,...F],k=Math.min(...O.map(G=>G.blockNumber)),$=Math.max(...O.map(G=>G.blockNumber));console.log(` Trading activity detected between blocks ${k} and ${$}`),console.log(" Should search for OrderFilled events in this range!"),window.tradingBlockRange={earliestBlock:k,latestBlock:$},console.log(" Block range saved to window.tradingBlockRange for manual search")}}}catch(x){console.log(" Could not search for order creation events:",x.message)}}else console.log(" No active orders found - this token might not have any trading activity")}catch(L){console.error(" OrderBook service test failed:",L)}};v.useEffect(()=>{S()},[t.id,p,e.length,n.length]);const V=()=>{if(m)return a.jsx("div",{className:"h-full flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Loading transaction data..."})]})});if(i.length===0)return a.jsx("div",{className:"h-full flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(ns,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("h4",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No Trading Data"}),a.jsx("p",{className:"text-gray-500",children:"No executed transactions found for this token."}),a.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Chart will show real price movements when trades happen."})]})});const L=800,M=400,x=50,j=i.filter(H=>H.type==="main").sort((H,q)=>H.timestamp-q.timestamp),E=i.filter(H=>H.type==="buy").sort((H,q)=>H.timestamp-q.timestamp),D=i.filter(H=>H.type==="sell").sort((H,q)=>H.timestamp-q.timestamp);if(j.length===0&&E.length===0&&D.length===0)return a.jsx("div",{className:"h-full flex items-center justify-center",children:a.jsx("p",{className:"text-gray-500",children:"No price data available"})});const C=i.map(H=>H.price),I=Math.min(...C)*.95,F=Math.max(...C)*1.05,O=F-I||1,k=i.map(H=>H.timestamp),$=Math.min(...k),P=Math.max(...k)-$||1,z=(H,q)=>{const Q=x+(q-$)/P*(L-x*2),J=x+(F-H)/O*(M-x*2);return{x:Q,y:J}},K=H=>H.length===0?"":H.map(J=>z(J.price,J.timestamp)).map((J,te)=>`${te===0?"M":"L"} ${J.x} ${J.y}`).join(" ");return a.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-slate-50 to-slate-100 rounded-lg",children:a.jsxs("svg",{viewBox:`0 0 ${L} ${M}`,className:"w-full h-full max-h-96 drop-shadow-sm",preserveAspectRatio:"xMidYMid meet",children:[a.jsxs("defs",{children:[a.jsxs("linearGradient",{id:"mainGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[a.jsx("stop",{offset:"0%",style:{stopColor:"#3b82f6",stopOpacity:.8}}),a.jsx("stop",{offset:"100%",style:{stopColor:"#1e40af",stopOpacity:.9}})]}),a.jsxs("filter",{id:"glow",children:[a.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),a.jsxs("feMerge",{children:[a.jsx("feMergeNode",{in:"coloredBlur"}),a.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),a.jsx("rect",{width:L,height:M,fill:"url(#backgroundGradient)"}),Array.from({length:6}).map((H,q)=>{const Q=x+q*(M-x*2)/5,J=F-q*O/5;return a.jsxs("g",{children:[a.jsx("line",{x1:x,y1:Q,x2:L-x,y2:Q,stroke:"#e5e7eb",strokeWidth:"0.5",strokeDasharray:"2,2",opacity:"0.5"}),a.jsx("text",{x:x-10,y:Q+3,fontSize:"10",fill:"#6b7280",textAnchor:"end",children:J.toFixed(4)})]},q)}),Array.from({length:4}).map((H,q)=>{const Q=x+q*(L-x*2)/3,J=$+q*P/3,te=new Date(J).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return a.jsxs("g",{children:[a.jsx("line",{x1:Q,y1:x,x2:Q,y2:M-x,stroke:"#e5e7eb",strokeWidth:"0.5",strokeDasharray:"2,2",opacity:"0.3"}),a.jsx("text",{x:Q,y:M-x+15,fontSize:"9",fill:"#6b7280",textAnchor:"middle",children:te})]},`time-${q}`)}),j.length>1&&a.jsx("path",{d:K(j),stroke:"url(#mainGradient)",strokeWidth:"3",fill:"none",filter:"url(#glow)"}),E.length>1&&a.jsx("path",{d:K(E),stroke:"#10b981",strokeWidth:"2",fill:"none",strokeDasharray:"4,4",opacity:"0.7"}),D.length>1&&a.jsx("path",{d:K(D),stroke:"#ef4444",strokeWidth:"2",fill:"none",strokeDasharray:"4,4",opacity:"0.7"}),i.filter(H=>H.type!=="main").map((H,q)=>{const Q=z(H.price,H.timestamp),J=H.type==="buy"?"#10b981":"#ef4444";return a.jsx("g",{children:a.jsx("circle",{cx:Q.x,cy:Q.y,r:"4",fill:J,stroke:"white",strokeWidth:"2",opacity:"0.8"})},`point-${q}`)}),h.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("line",{x1:x,y1:z(l,Date.now()).y,x2:L-x,y2:z(l,Date.now()).y,stroke:"#3b82f6",strokeWidth:"2",strokeDasharray:"8,4",opacity:"0.9"}),a.jsxs("text",{x:L-x+10,y:z(l,Date.now()).y+3,fontSize:"12",fill:"#3b82f6",fontWeight:"bold",children:[l.toFixed(4)," Flow"]})]}),a.jsxs("g",{transform:`translate(${x}, ${x-30})`,children:[a.jsx("line",{x1:"0",y1:"0",x2:"20",y2:"0",stroke:"url(#mainGradient)",strokeWidth:"3"}),a.jsx("text",{x:"25",y:"4",fontSize:"10",fill:"#374151",children:"Main Price"}),a.jsx("line",{x1:"100",y1:"0",x2:"120",y2:"0",stroke:"#10b981",strokeWidth:"2",strokeDasharray:"4,4"}),a.jsx("text",{x:"125",y:"4",fontSize:"10",fill:"#374151",children:"Buy Orders"}),a.jsx("line",{x1:"220",y1:"0",x2:"240",y2:"0",stroke:"#ef4444",strokeWidth:"2",strokeDasharray:"4,4"}),a.jsx("text",{x:"245",y:"4",fontSize:"10",fill:"#374151",children:"Sell Orders"})]})]})})},U=d>=0;return a.jsxs("div",{className:"w-full h-full bg-white rounded-lg border border-gray-200",children:[a.jsxs("div",{className:"p-4 border-b border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[t.symbol,"/Flow"]}),a.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[a.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[A(l>0?l:t.marketplacePrice||0)," Flow"]}),h.length>0&&a.jsxs(Ue,{variant:"secondary",className:"text-xs",children:["Live from ",h.length," trades"]}),a.jsxs("span",{className:`flex items-center text-sm font-medium ${U?"text-green-600":"text-red-600"}`,children:[U?a.jsx(ns,{className:"w-4 h-4 mr-1"}):a.jsx(hS,{className:"w-4 h-4 mr-1"}),U?"+":"",d.toFixed(2),"% (",s,")"]})]})]}),a.jsx("div",{className:"flex bg-gray-100 rounded-lg p-1",children:["1h","24h","7d","30d"].map(L=>a.jsx("button",{onClick:()=>r(L),className:`px-3 py-1 text-xs font-medium rounded-md transition-all ${s===L?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-blue-600"}`,children:L},L))})]}),a.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs text-gray-500",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${h.length>0?"bg-green-500 animate-pulse":"bg-gray-400"}`}),h.length>0?a.jsxs("span",{children:["Live blockchain data  ",h.length," real transactions"]}):a.jsx("span",{children:"Waiting for real transactions  Static chart display"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:S,className:"text-blue-600 hover:text-blue-700 font-medium",disabled:m,children:m?"Searching...":"Refresh "}),a.jsx("button",{onClick:()=>{console.log(" === COMPREHENSIVE DEBUG INFO ==="),console.log(" Token Information:"),console.log("   - Token ID:",t.id,`(type: ${typeof t.id})`),console.log("   - Token Symbol:",t.symbol),console.log("   - Token Name:",t.name),console.log("   - Marketplace Price:",t.marketplacePrice),console.log(""),console.log(" Connection Status:"),console.log("   - Provider available:",!!p),console.log("   - Signer available:",!!w),console.log("   - OrderBookService available:",!!b),console.log(""),console.log(" Transaction Data:"),console.log("   - Real transactions count:",h.length),console.log("   - Price history count:",i.length),console.log("   - Current price:",l),console.log("   - Price change:",d),console.log(""),console.log(" Raw Data:"),console.log("   - Real transactions:",h),console.log("   - Price history:",i),console.log(""),console.log(" Contract Addresses:"),console.log("   - Marketplace:",Tn),console.log("   - OrderBook Escrow:",os),B(),console.log(""),console.log(" Triggering manual transaction fetch..."),S()},className:"text-gray-500 hover:text-gray-700 text-xs",title:"Debug info & manual fetch",children:" Debug"})]})]})]}),a.jsx("div",{className:"h-80 p-4",children:a.jsx("div",{className:"h-full bg-gray-50 rounded-lg border border-gray-100 overflow-hidden",children:a.jsx(V,{})})}),a.jsxs("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:[a.jsxs("div",{className:"grid grid-cols-4 gap-4 text-center",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-500",children:"24h High"}),a.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[h.length>0?A(Math.max(...h.map(L=>L.price))):"0.00"," Flow"]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-500",children:"24h Low"}),a.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[h.length>0?A(Math.min(...h.map(L=>L.price))):"0.00"," Flow"]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-500",children:"Total Volume"}),a.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[h.length>0?N(h.reduce((L,M)=>L+M.amount,0)):"0"," Tokens"]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-500",children:"Last Trade"}),a.jsx("div",{className:"text-sm font-semibold text-gray-900",children:h.length>0?new Date(h[h.length-1].timestamp).toLocaleTimeString():"No trades"})]})]}),h.length>0&&a.jsxs("div",{className:"mt-2 p-3 bg-blue-50 rounded-lg",children:[a.jsx("h4",{className:"text-xs font-medium text-blue-800 mb-2",children:"Recent Blockchain Transactions"}),a.jsx("div",{className:"space-y-1 max-h-24 overflow-y-auto",children:h.slice(-3).reverse().map((L,M)=>a.jsxs("div",{className:"flex justify-between text-xs",children:[a.jsxs("span",{className:`font-medium ${L.type==="buy"?"text-green-600":"text-red-600"}`,children:[L.type.toUpperCase()," ",L.amount]}),a.jsxs("span",{className:"text-gray-600",children:["@ ",A(L.price)," Flow"]}),a.jsx("span",{className:"text-gray-500",children:new Date(L.timestamp).toLocaleTimeString()})]},L.txHash))})]})]})]})},a2e=({selectedToken:t,onChangeAsset:e})=>{const{address:n}=Mn(),[s,r]=v.useState(!1),[i,o]=v.useState(null),[l,c]=v.useState(!1),[d,u]=v.useState("buy"),[h,f]=v.useState(""),[m,g]=v.useState(""),[p,w]=v.useState(""),[b,y]=v.useState(""),{orderBookData:N,userOrders:A=[],cancelOrder:S,createBuyOrder:T,createSellOrder:_,fillOrder:R,refreshOrderBook:B,isApproved:V,approveContract:U}=r2e(t.id||t.symbol||""),L=(N==null?void 0:N.buyOrders)||[],M=(N==null?void 0:N.sellOrders)||[],x=O=>{const k=typeof O=="string"?parseFloat(O):O;return isNaN(k)||k===0?"0.0000":k>=1e6?(k/1e6).toFixed(2)+"M":k>=1e3?(k/1e3).toFixed(2)+"K":k>=1?k.toFixed(4):k>=.01?k.toFixed(6):k.toExponential(2)},j=O=>{const k=typeof O=="string"?parseFloat(O):O;return isNaN(k)||k===0?"0.00":k>=1?k.toFixed(2):k>=.01?k.toFixed(4):k>0?k.toFixed(6):"0.00"},E=async()=>{if(!p||!h){we.error("Please enter both amount and price");return}r(!0);try{await T(t.id||"1",parseInt(p),h),we.success("Buy order created successfully!"),w(""),f(""),o(null),B()}catch(O){console.error("Error creating buy order:",O),we.error("Failed to create sell order")}finally{r(!1)}},D=async()=>{var O,k;if(!b||!m){we.error("Please enter both amount and price");return}r(!0);try{V||(we.info("Approving OrderBook contract to manage your tokens..."),console.log(" Approval required - requesting user approval for OrderBook contract"),await U(),we.success("Contract approved! Now creating sell order..."),console.log(" Contract approved successfully")),await _(t.id||"1",parseInt(b),m),we.success("Sell order created successfully!"),y(""),g(""),o(null),B()}catch($){console.error("Error creating sell order:",$),(O=$==null?void 0:$.message)!=null&&O.includes("Not approved")||(k=$==null?void 0:$.reason)!=null&&k.includes("Not approved")?we.error("Please approve the contract first to create sell orders"):we.error("Failed to create sell order")}finally{r(!1)}},C=async O=>{r(!0);try{await R(O.orderId,parseInt(String(O.amount)),O),we.success(`Order filled! Bought ${O.amount} tokens at ${x(O.pricePerTokenU2U||0)} U2U`),B()}catch(k){console.error("Error filling sell order:",k),we.error("Failed to fill order")}finally{r(!1)}},I=async O=>{r(!0);try{await R(O.orderId,parseInt(String(O.amount)),O),we.success(`Order filled! Sold ${O.amount} tokens at ${x(O.pricePerTokenU2U||0)} U2U`),B()}catch(k){console.error("Error filling buy order:",k),we.error("Failed to fill order")}finally{r(!1)}},F=async O=>{r(!0);try{await S(O),we.success("Order cancelled successfully"),B()}catch(k){console.error("Error cancelling order:",k),we.error("Failed to cancel order")}finally{r(!1)}};return a.jsxs("div",{className:"h-screen flex flex-col bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50",children:[a.jsx("div",{className:"bg-white/80 backdrop-blur-lg border-b border-gray-200/50 px-4 py-2 shadow-sm flex-shrink-0",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("img",{src:t.image,alt:t.name,className:"w-8 h-8 rounded-full shadow-sm border border-white"}),a.jsxs("div",{children:[a.jsxs("div",{className:"font-semibold text-sm text-gray-900",children:[t.symbol,"/Flow"]}),a.jsx("div",{className:"text-xs text-gray-500",children:t.name})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(Z,{onClick:()=>o("buy"),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1.5 text-xs h-7 shadow-sm",children:[a.jsx(Ol,{className:"w-3 h-3 mr-1"}),"Create Order"]}),a.jsxs(Z,{variant:"outline",onClick:()=>c(!0),className:"border-gray-300 text-gray-600 hover:bg-gray-50 px-3 py-1.5 text-xs h-7",children:[a.jsx(sa,{className:"w-3 h-3 mr-1"}),"View Orders"]}),n&&a.jsxs("div",{className:"text-xs text-gray-600 bg-gray-100 px-2 py-1 rounded",children:[n.slice(0,6),"...",n.slice(-4)]})]})]})}),a.jsx("div",{className:"flex-1 p-4 overflow-hidden",children:a.jsxs("div",{className:"grid grid-cols-12 gap-4 h-full",children:[a.jsx("div",{className:"col-span-9 h-full",children:a.jsx(pe,{className:"bg-white/70 backdrop-blur-lg border-gray-200/50 shadow-xl h-full",children:a.jsx(ge,{className:"p-4 h-full overflow-hidden",children:a.jsx(i2e,{selectedToken:t,buyOrders:L,sellOrders:M})})})}),a.jsx("div",{className:"col-span-3 h-full",children:a.jsx(pe,{className:"bg-white/70 backdrop-blur-lg border-gray-200/50 shadow-xl h-full",children:a.jsxs(ge,{className:"p-4 h-full flex flex-col",children:[a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"flex bg-gray-100/80 backdrop-blur-sm p-1 rounded-lg w-full",children:[a.jsx("button",{onClick:()=>u("buy"),className:`flex-1 py-2 rounded-md font-semibold text-sm transition-all duration-300 ${d==="buy"?"bg-green-600 text-white shadow-lg":"text-gray-600 hover:text-green-600"}`,children:"Buy"}),a.jsx("button",{onClick:()=>u("sell"),className:`flex-1 py-2 rounded-md font-semibold text-sm transition-all duration-300 ${d==="sell"?"bg-red-600 text-white shadow-lg":"text-gray-600 hover:text-red-600"}`,children:"Sell"})]})}),a.jsx("div",{className:"flex-1 overflow-hidden",children:d==="buy"?a.jsx("div",{children:a.jsx("div",{className:"space-y-1 max-h-96 overflow-y-auto",children:M.length>0?M.map((O,k)=>a.jsxs("div",{className:"flex items-center justify-between p-2  rounded cursor-pointer transition-colors border border-black-200",onClick:()=>C(O),children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"text-xs font-medium text-black-700 truncate",children:[O.amount," tokens @ ",j(O.pricePerTokenU2U||0)," Flow"]}),a.jsxs("div",{className:"text-xs text-gray-500",children:["Total: ",x(parseFloat(String(O.amount))*parseFloat(String(O.pricePerTokenU2U||0)))," U2U"]})]}),a.jsx(Z,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white text-xs h-6 px-2 ml-2",onClick:$=>{$.stopPropagation(),C(O)},disabled:s,children:"Buy"})]},k)):a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"text-gray-400 mb-2",children:a.jsx(Aq,{className:"w-8 h-8 mx-auto mb-2"})}),a.jsx("div",{className:"text-sm text-gray-500",children:"No buy orders available"}),a.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Be the first to create a buy order"})]})})}):a.jsx("div",{children:a.jsx("div",{className:"space-y-1 max-h-96 overflow-y-auto",children:L.length>0?L.map((O,k)=>a.jsxs("div",{className:"flex items-center justify-between p-2   rounded cursor-pointer transition-colors border border-black-200",onClick:()=>I(O),children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"text-xs font-medium text-black-700 truncate",children:[O.amount," tokens @ ",x(O.pricePerTokenU2U||0)," U2U"]}),a.jsxs("div",{className:"text-xs text-gray-500",children:["Total: ",x(parseFloat(String(O.amount))*parseFloat(String(O.pricePerTokenU2U||0)))," U2U"]})]}),a.jsx(Z,{size:"sm",className:"bg-red-600 hover:bg-red-700 text-white text-xs h-6 px-2 ml-2",onClick:$=>{$.stopPropagation(),I(O)},disabled:s,children:"Sell"})]},k)):a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"text-gray-400 mb-2",children:a.jsx(cs,{className:"w-8 h-8 mx-auto mb-2"})}),a.jsx("div",{className:"text-sm text-gray-500",children:"No sell orders available"}),a.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Be the first to create a sell order"})]})})})})]})})})]})}),a.jsx(ir,{open:i!==null,onOpenChange:()=>o(null),children:a.jsxs(Vs,{className:"bg-white/90 backdrop-blur-lg border-gray-200/50 shadow-2xl max-w-md",children:[a.jsx(zs,{children:a.jsxs(Hs,{className:"flex items-center space-x-2 text-base",children:[a.jsx(aq,{className:"w-4 h-4 text-blue-600"}),a.jsxs("span",{children:["Create ",i==="buy"?"Buy":"Sell"," Order"]})]})}),a.jsxs("div",{className:"space-y-4 pt-3",children:[a.jsxs("div",{className:"flex bg-gray-100/80 backdrop-blur-sm p-1 rounded-lg",children:[a.jsx("button",{onClick:()=>o("buy"),className:`flex-1 py-2 rounded-md font-semibold text-sm transition-all duration-300 ${i==="buy"?"bg-green-600 text-white shadow-lg":"text-gray-600 hover:text-green-600"}`,children:"Buy"}),a.jsx("button",{onClick:()=>o("sell"),className:`flex-1 py-2 rounded-md font-semibold text-sm transition-all duration-300 ${i==="sell"?"bg-red-600 text-white shadow-lg":"text-gray-600 hover:text-red-600"}`,children:"Sell"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount (Tokens)"}),a.jsx(Gt,{type:"number",placeholder:"Enter amount",value:i==="buy"?p:b,onChange:O=>{i==="buy"?w(O.target.value):y(O.target.value)},className:"text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price per Token (Flow)"}),a.jsx(Gt,{type:"number",step:"0.000001",placeholder:"Enter price",value:i==="buy"?h:m,onChange:O=>{i==="buy"?f(O.target.value):g(O.target.value)},className:"text-sm"})]}),a.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Total Cost:"}),a.jsxs("span",{className:"text-sm font-bold text-gray-900",children:[i==="buy"?j(parseFloat(p||"0")*parseFloat(h||"0")):x(parseFloat(b||"0")*parseFloat(m||"0"))," Flow"]})]})}),i==="sell"&&a.jsxs("div",{className:`p-3 rounded-lg border ${V?"bg-green-50 border-green-200":"bg-yellow-50 border-yellow-200"}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center space-x-2",children:V?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),a.jsx("span",{className:"text-sm font-medium text-green-700",children:"Contract Approved"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),a.jsx("span",{className:"text-sm font-medium text-yellow-700",children:"Approval Required"})]})}),!V&&a.jsx(Z,{variant:"outline",size:"sm",onClick:U,disabled:s,className:"text-xs h-7 border-yellow-300 text-yellow-700 hover:bg-yellow-100",children:"Approve Now"})]}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:V?"You can create sell orders without additional approvals":"Grant permission for the OrderBook contract to manage your tokens"})]})]}),a.jsxs("div",{className:"flex space-x`-2 pt-4",children:[a.jsx(Z,{variant:"outline",onClick:()=>o(null),className:"flex-1 h-9 text-sm",children:"Cancel"}),a.jsxs(Z,{onClick:i==="buy"?E:D,disabled:s||i==="buy"&&(!p||!h)||i==="sell"&&(!b||!m),className:`flex-1 h-9 text-sm ${i==="buy"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"} text-white font-semibold shadow-lg`,children:[a.jsx(Ql,{className:"w-3 h-3 mr-1"}),"Place Order"]})]})]})]})}),a.jsx(ir,{open:l,onOpenChange:c,children:a.jsxs(Vs,{className:"bg-white/90 backdrop-blur-lg border-gray-200/50 shadow-2xl max-w-4xl max-h-[80vh] overflow-y-auto",children:[a.jsx(zs,{children:a.jsxs(Hs,{className:"flex items-center space-x-2 text-base",children:[a.jsx(sa,{className:"w-4 h-4 text-blue-600"}),a.jsx("span",{children:"Your Orders"})]})}),a.jsx("div",{className:"space-y-4 pt-3",children:A&&A.length>0?a.jsx("div",{className:"space-y-3",children:A.map((O,k)=>a.jsxs("div",{className:"grid grid-cols-12 gap-3 p-3 bg-white border border-gray-200 rounded-lg hover:shadow-md transition-all duration-200",children:[a.jsx("div",{className:"col-span-2",children:a.jsx(Ue,{variant:"outline",className:O.isBuyOrder?"border-green-500 text-green-700":"border-red-500 text-red-700",children:O.isBuyOrder?"Buy":"Sell"})}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("div",{className:"text-xs text-gray-500",children:"Amount"}),a.jsx("div",{className:"text-sm font-semibold",children:O.amount})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("div",{className:"text-xs text-gray-500",children:"Price"}),a.jsxs("div",{className:"text-sm font-semibold",children:[x(O.pricePerTokenU2U||0)," U2U"]})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("div",{className:"text-xs text-gray-500",children:"Status"}),a.jsx(Ue,{variant:"outline",className:"border-yellow-500 text-yellow-700 text-xs",children:"Active"})]}),a.jsx("div",{className:"col-span-4 flex justify-end",children:a.jsx(Z,{onClick:()=>F(O.orderId),variant:"outline",size:"sm",className:"text-red-600 border-red-200 hover:bg-red-50 text-xs h-7",disabled:s,children:"Cancel"})})]},k))}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(sa,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No Orders Found"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"You haven't placed any orders yet"}),a.jsx(Z,{onClick:()=>{c(!1),o("buy")},className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Create Your First Order"})]})}),a.jsx("div",{className:"flex justify-end pt-4 border-t",children:a.jsx(Z,{variant:"outline",onClick:()=>c(!1),className:"text-sm",children:"Close"})})]})})]})},Dm=()=>{const t=[{name:"Home",link:"/",icon:a.jsx(IU,{className:"h-4 w-4 text-neutral-500 dark:text-white"})},{name:"About",link:"/about",icon:a.jsx(_U,{className:"h-4 w-4 text-neutral-500 dark:text-white"})},{name:"Tokenize",link:"/issuer",icon:a.jsx(PU,{className:"h-4 w-4 text-neutral-500 dark:text-white"})}];return window.location.pathname!=="/"?null:a.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-black/50 backdrop-blur-sm",children:a.jsx("div",{className:"container mx-auto",children:a.jsx(EU,{navItems:t})})})},o2e=()=>{const{address:t,connectWallet:e,provider:n,signer:s}=Mn(),r=to(),[i,o]=v.useState(null),[l,c]=v.useState("0"),[d,u]=v.useState(!0);v.useEffect(()=>{var f,m;if((f=r.state)!=null&&f.selectedToken){const g=r.state.selectedToken,p={id:g.tokenId,name:g.name,symbol:((m=g.name)==null?void 0:m.substring(0,3).toUpperCase())||"TKN",description:g.description||"",image:g.image,totalSupply:0,userBalance:parseFloat(g.userBalance||"0"),isListed:!0,marketplacePrice:parseFloat(g.marketplacePrice||g.price||"0"),exists:!0,metadata:void 0,assetType:g.type||"real-estate",location:"Unknown",valuation:g.price||"0",attributes:[],lastPrice:parseFloat(g.marketplacePrice||g.price||"0"),priceChange24h:"0",volume24h:0};o(p),u(!1),we.success(`Selected ${p.name} for trading`)}},[r.state]);const h=f=>{o(f),u(!1),we.success(`Selected ${f.name} for trading`)};return v.useEffect(()=>{(async()=>{if(!(!n||!t))try{const g=await new sj(n,s).getU2UBalance(t);c(g)}catch(m){console.error("Error fetching U2U balance:",m)}})()},[n,s,t]),t?d||!i?a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx(Dm,{}),a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-8 text-center",children:[a.jsxs("h1",{className:"text-4xl font-bold text-gray-900 mb-4 flex items-center justify-center gap-3",children:[a.jsx(na,{className:"w-10 h-10 text-blue-600"}),"Open Assets Exchange"]}),a.jsx("p",{className:"text-xl text-gray-600",children:"Select an asset to begin professional RWA trading"})]}),a.jsx(s2e,{selectedTokenId:i==null?void 0:i.id,onTokenSelect:h})]})})]}):a.jsx(a.Fragment,{children:a.jsx(a2e,{selectedToken:i,onChangeAsset:()=>u(!0)})}):a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx(Dm,{}),a.jsx("div",{className:"flex items-center justify-center min-h-[80vh]",children:a.jsxs(pe,{className:"border border-gray-200 shadow-sm p-8 text-center bg-white",children:[a.jsx(yt,{children:a.jsxs(vt,{className:"flex items-center gap-2 justify-center text-gray-900",children:[a.jsx(qr,{className:"w-6 h-6"}),"Connect Your Wallet"]})}),a.jsxs(ge,{className:"bg-white",children:[a.jsx("p",{className:"text-gray-600 mb-6",children:"Connect your wallet to access the premium trading terminal and start trading tokenized assets."}),a.jsx(Z,{onClick:e,className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold",children:"Connect Wallet"})]})]})})]})};class ZV{constructor(e,n){Ge(this,"provider");Ge(this,"signer");Ge(this,"marketplaceAddress");Ge(this,"tokenAddress");this.provider=e,this.signer=n,this.marketplaceAddress=Tn,this.tokenAddress=Sr}async fetchAllTokens(e){try{if(console.log(" FIXED TOKEN FETCHING: Only showing tokens with user balance > 0..."),!e)return console.log("No user address provided, returning empty array"),[];const n=this.signer||this.provider,s=new Xe(this.marketplaceAddress,vi,n),r=["function balanceOf(address account, uint256 id) view returns (uint256)","function uri(uint256 id) view returns (string)"],i=new Xe(this.tokenAddress,r,this.provider),o=[];console.log(" Checking user balance for tokens 1-10...");for(let l=1;l<=10;l++)try{const c=await i.balanceOf(e,l),d=parseInt(c.toString());if(d>0){console.log(` Found owned Token ID ${l} with balance:`,d);let u=`Token #${l}`,h=`TOKEN${l}`;try{const p=await i.uri(l);if(p){const w=await this.fetchTokenMetadata(p);w&&(u=w.name||u,h=w.symbol||h)}}catch{console.log(`Could not fetch metadata for token ${l}`)}let f=0;try{const p=await i.tokenSupply(l);f=parseFloat(Be(p))}catch{console.log(`Could not fetch total supply for token ${l}`)}let m=!1,g=0;try{const[p,,,w]=await s.getAllListings();for(let b=0;b<p.length;b++)if(p[b].toString()===l.toString()){m=!0,g=parseFloat(Be(w[b]));break}}catch{console.log("Could not check marketplace listings")}o.push({id:l.toString(),name:u,symbol:h,totalSupply:f,userBalance:d,isListed:m,price:g,exists:!0})}}catch{}return console.log(` SUCCESS: Returning ${o.length} tokens with user balance > 0:`,o.map(l=>`ID ${l.id} (${l.userBalance} tokens)`)),o.length===0&&console.log(" WARNING: User has no tokens with balance > 0"),o}catch(n){return console.error("Error fetching user-owned tokens:",n),[]}}async getTokenBalance(e,n){try{console.log(` Fetching WALLET balance for Token ID ${e}, User: ${n}`);try{const s=["function balanceOf(address account, uint256 id) view returns (uint256)"],i=await new Xe(this.tokenAddress,s,this.provider).balanceOf(n,e),o=parseInt(i.toString());return console.log(` Token ID ${e} WALLET balance: ${o} (for OrderBook)`),o}catch(s){return console.warn(` Wallet balance call failed for token ${e}:`,s.message),0}}catch(s){return console.error(" Error setting up marketplace contract:",s),0}}async getU2UBalance(e){try{const n=await this.provider.getBalance(e);return Be(n)}catch(n){return console.error("Error fetching U2U balance:",n),"0"}}async fetchTokenMetadata(e){try{const n=e.replace("ipfs://","https://gateway.pinata.cloud/ipfs/"),s=await fetch(n,{method:"GET",headers:{Accept:"application/json"}});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return await s.json()}catch(n){return console.log("Could not fetch token metadata:",n),null}}async fetchMarketplaceListings(e){try{console.log(" FETCHING MARKETPLACE LISTINGS for OrderBook...");const n=this.signer||this.provider,s=new Xe(this.marketplaceAddress,vi,n),r=["function balanceOf(address account, uint256 id) view returns (uint256)","function uri(uint256 id) view returns (string)"],i=new Xe(this.tokenAddress,r,this.provider);console.log(" Getting all marketplace listings...");const o=await s.getAllListings(),[l,c,d,u]=o;console.log(`Found ${l.length} marketplace listings`);const h=[];for(let f=0;f<l.length;f++){const m=l[f].toString(),g=c[f],p=d[f].toString(),w=u[f];try{let b=0;if(e)try{console.log(` DEBUGGING: Checking wallet balance for token ${m}, user: ${e}`);const S=await i.balanceOf(e,m);b=parseInt(S.toString()),console.log(` DEBUGGING: User wallet balance for token ${m}: ${b} (for OrderBook trading)`)}catch(S){console.warn(` DEBUGGING: Could not fetch wallet balance for token ${m}:`,S.message),b=0}else console.log(" DEBUGGING: No userAddress provided, setting balance to 0");let y=`Property #${m}`,N=`PROP${m}`;console.log(`Using fallback name for token ${m}: ${y}`);const A={id:m,name:y,symbol:N,totalSupply:parseInt(p),userBalance:b,isListed:!0,price:w?parseFloat(Be(w)):0,exists:!0};h.push(A),console.log(" DEBUGGING: Added marketplace listing:",{tokenId:A.id,name:A.name,userBalance:A.userBalance,totalSupply:A.totalSupply})}catch(b){console.error(`Error processing token ${m}:`,b)}}return console.log(` MARKETPLACE LISTINGS: Found ${h.length} listed tokens for OrderBook`),h}catch(n){return console.error(" Error fetching marketplace listings:",n),[]}}async withdrawAsset(e,n){try{if(console.log(` Withdrawing ${n} of token ${e} from marketplace to wallet...`),!this.signer)throw new Error("Signer required for withdrawal");const r=await new Xe(this.marketplaceAddress,vi,this.signer).withdrawAsset(e,n);console.log(" Withdrawal transaction sent:",r.hash);const i=await r.wait();return console.log(" Withdrawal confirmed in block:",i.blockNumber),!0}catch(s){throw console.error(" Error withdrawing asset:",s),s}}}const l2e=Object.freeze(Object.defineProperty({__proto__:null,TokenService:ZV},Symbol.toStringTag,{value:"Module"}));function ol({className:t,...e}){return a.jsx("div",{className:ut("animate-pulse rounded-md bg-muted",t),...e})}const c2e=()=>{const{tokenId:t}=zX(),e=no(),{address:n,provider:s}=Mn(),[r,i]=v.useState(null),[o,l]=v.useState(!0),[c,d]=v.useState(null);return v.useEffect(()=>{(async()=>{var h;if(!t||!s){l(!1);return}try{l(!0),d(null);const f=s.getSigner(n||""),g=await new ZV(s,f).fetchMarketplaceListings(n||"");console.log(" Trading Page: Fetched listings:",g);const p=g.find(S=>S.id===t);if(!p)throw new Error(`Asset with Token ID ${t} not found`);const b=(S=>{if(S){const T=S.find(_=>_.trait_type==="Asset Type");return(T==null?void 0:T.value)||"Unknown"}return"Unknown"})(p.attributes),y=p.image||"https://images.unsplash.com/photo-1559526324-4b87b5e36e44?w=400&h=300&fit=crop",N=p.description||`${p.name} - Tokenized ${b.toLowerCase()} asset with ${p.totalSupply} total supply. Available for secondary P2P trading on the Open Assets Trading Platform.`,A={tokenId:p.id,name:p.name,description:N,image:y,category:b,price:((h=p.price)==null?void 0:h.toString())||"1.0",availableSupply:Number(p.totalSupply)-Number(p.userBalance||0),attributes:p.attributes||[]};i(A),console.log(" Asset details loaded:",A)}catch(f){console.error(" Error fetching asset details:",f),d(f instanceof Error?f.message:"Failed to load asset details"),we.error("Failed to load asset details")}finally{l(!1)}})()},[t,s,n]),o?a.jsxs(a.Fragment,{children:[a.jsx(Dm,{}),a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-white",children:a.jsxs("div",{className:"container mx-auto px-4 pt-8",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[a.jsx(ol,{className:"w-10 h-10 rounded-lg"}),a.jsxs("div",{children:[a.jsx(ol,{className:"w-48 h-8 mb-2"}),a.jsx(ol,{className:"w-32 h-4"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-1",children:a.jsx(pe,{children:a.jsxs(ge,{className:"p-6",children:[a.jsx(ol,{className:"w-full h-64 mb-4 rounded-lg"}),a.jsx(ol,{className:"w-3/4 h-6 mb-2"}),a.jsx(ol,{className:"w-full h-4 mb-4"}),a.jsx(ol,{className:"w-1/2 h-4"})]})})}),a.jsx("div",{className:"lg:col-span-2",children:a.jsx(pe,{children:a.jsx(ge,{className:"p-6",children:a.jsx(ol,{className:"w-full h-96"})})})})]})]})})]}):c||!r?a.jsxs(a.Fragment,{children:[a.jsx(Dm,{}),a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-white flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{className:"w-8 h-8 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16c-.77.833.192 2.5 1.732 2.5z"})})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Asset Not Found"}),a.jsx("p",{className:"text-gray-600 mb-6",children:c||"The requested asset could not be found."}),a.jsxs(Z,{onClick:()=>e("/orderbook"),className:"bg-blue-600 hover:bg-blue-700",children:[a.jsx(Y2,{className:"w-4 h-4 mr-2"}),"Back to Open Assets Trading Platform"]})]})})]}):a.jsxs(a.Fragment,{children:[a.jsx(Dm,{}),a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-white",children:a.jsxs("div",{className:"container mx-auto px-4 pt-8",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[a.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>e("/orderbook"),className:"flex items-center gap-2",children:[a.jsx(Y2,{className:"w-4 h-4"}),"Back to Assets"]}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Trading Terminal"}),a.jsx("p",{className:"text-gray-600",children:"Real-time trading with on-chain escrow"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-1",children:a.jsxs(pe,{className:"sticky top-4",children:[a.jsx(yt,{children:a.jsxs(vt,{className:"flex items-center gap-2",children:[a.jsx(Hu,{className:"w-5 h-5"}),"Asset Details"]})}),a.jsxs(ge,{className:"space-y-6",children:[a.jsxs("div",{className:"relative overflow-hidden rounded-lg",children:[a.jsx("img",{src:r.image,alt:r.name,className:"w-full h-64 object-cover",onError:u=>{const h=u.target;h.src="https://images.unsplash.com/photo-1559526324-4b87b5e36e44?w=400&h=300&fit=crop"}}),a.jsx("div",{className:"absolute top-4 left-4",children:a.jsx(Ue,{className:"bg-white/90 text-gray-700",children:r.category})}),a.jsx("div",{className:"absolute top-4 right-4",children:a.jsxs(Ue,{variant:"secondary",className:"bg-blue-500/90 text-white",children:["#",r.tokenId]})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:r.name}),a.jsx("p",{className:"text-gray-600 text-sm leading-relaxed mb-4",children:r.description})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Price per Token"}),a.jsxs("p",{className:"text-lg font-bold text-green-600",children:[parseFloat(r.price).toFixed(4)," U2U"]})]}),a.jsx(ns,{className:"w-8 h-8 text-green-500"})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Available Supply"}),a.jsxs("p",{className:"text-lg font-bold text-blue-600",children:[r.availableSupply.toLocaleString()," tokens"]})]}),a.jsx(na,{className:"w-8 h-8 text-blue-500"})]})]}),r.attributes&&r.attributes.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Attributes"}),a.jsx("div",{className:"space-y-2",children:r.attributes.map((u,h)=>a.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[a.jsx("span",{className:"text-sm text-gray-600",children:u.trait_type}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:u.value})]},h))})]}),a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Live Trading Active"})]})]})]})}),a.jsx("div",{className:"lg:col-span-2",children:a.jsxs(pe,{children:[a.jsxs(yt,{children:[a.jsxs(vt,{className:"flex items-center gap-2",children:[a.jsx(ns,{className:"w-5 h-5"}),"Trading Terminal - ",r.name]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Real-time P2P trading with secure escrow  Token ID: ",r.tokenId]})]}),a.jsx(ge,{children:n?a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Trading Terminal"}),a.jsxs("p",{className:"text-gray-600 mb-4",children:["Trading for ",r.name," (Token ID: ",r.tokenId,")"]}),a.jsx("p",{className:"text-sm text-yellow-600",children:"Trading terminal integration in progress. Please use the orderbook page for now."})]}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Connect Wallet to Trade"}),a.jsx("p",{className:"text-gray-600",children:"Please connect your wallet to access the trading terminal."})]})})]})})]})]})})]})};function tC(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function hM(t){return tC(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const ez="2.41.2";let Kf={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${ez}`},ma=class rj extends Error{constructor(e,n={}){var l;const s=(()=>{var c;return n.cause instanceof rj?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),r=n.cause instanceof rj&&n.cause.docsPath||n.docsPath,i=(l=Kf.getDocsUrl)==null?void 0:l.call(Kf,{...n,docsPath:r}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...s?[`Details: ${s}`]:[],...Kf.version?[`Version: ${Kf.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=s,this.docsPath=r,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=ez}walk(e){return tz(this,e)}};function tz(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?tz(t.cause,e):e?null:t}class nz extends ma{constructor({size:e,targetSize:n,type:s}){super(`${s.charAt(0).toUpperCase()}${s.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}function Lg(t,{dir:e,size:n=32}={}){return typeof t=="string"?d2e(t,{dir:e,size:n}):u2e(t,{dir:e,size:n})}function d2e(t,{dir:e,size:n=32}={}){if(n===null)return t;const s=t.replace("0x","");if(s.length>n*2)throw new nz({size:Math.ceil(s.length/2),targetSize:n,type:"hex"});return`0x${s[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function u2e(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new nz({size:t.length,targetSize:n,type:"bytes"});const s=new Uint8Array(n);for(let r=0;r<n;r++){const i=e==="right";s[i?r:n-r-1]=t[i?r:t.length-r-1]}return s}class h2e extends ma{constructor({max:e,min:n,signed:s,size:r,value:i}){super(`Number "${i}" is not in safe ${r?`${r*8}-bit ${s?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class f2e extends ma{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function Db(t,{size:e}){if(hM(t)>e)throw new f2e({givenSize:hM(t),maxSize:e})}const m2e=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function p2e(t,e={}){let n="";for(let r=0;r<t.length;r++)n+=m2e[t[r]];const s=`0x${n}`;return typeof e.size=="number"?(Db(s,{size:e.size}),Lg(s,{dir:"right",size:e.size})):s}function ij(t,e={}){const{signed:n,size:s}=e,r=BigInt(t);let i;s?n?i=(1n<<BigInt(s)*8n-1n)-1n:i=2n**(BigInt(s)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&r>i||r<o){const c=typeof t=="bigint"?"n":"";throw new h2e({max:i?`${i}${c}`:void 0,min:`${o}${c}`,signed:n,size:s,value:`${t}${c}`})}const l=`0x${(n&&r<0?(1n<<BigInt(s*8))+BigInt(r):r).toString(16)}`;return s?Lg(l,{size:s}):l}const g2e=new TextEncoder;function x2e(t,e={}){const n=g2e.encode(t);return p2e(n,e)}const y2e=new TextEncoder;function v2e(t,e={}){return typeof t=="number"||typeof t=="bigint"?w2e(t,e):typeof t=="boolean"?b2e(t,e):tC(t)?sz(t,e):rz(t,e)}function b2e(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(Db(n,{size:e.size}),Lg(n,{size:e.size})):n}const co={zero:48,nine:57,A:65,F:70,a:97,f:102};function fM(t){if(t>=co.zero&&t<=co.nine)return t-co.zero;if(t>=co.A&&t<=co.F)return t-(co.A-10);if(t>=co.a&&t<=co.f)return t-(co.a-10)}function sz(t,e={}){let n=t;e.size&&(Db(n,{size:e.size}),n=Lg(n,{dir:"right",size:e.size}));let s=n.slice(2);s.length%2&&(s=`0${s}`);const r=s.length/2,i=new Uint8Array(r);for(let o=0,l=0;o<r;o++){const c=fM(s.charCodeAt(l++)),d=fM(s.charCodeAt(l++));if(c===void 0||d===void 0)throw new ma(`Invalid byte sequence ("${s[l-2]}${s[l-1]}" in "${s}").`);i[o]=c*16+d}return i}function w2e(t,e){const n=ij(t,e);return sz(n)}function rz(t,e={}){const n=y2e.encode(t);return typeof e.size=="number"?(Db(n,{size:e.size}),Lg(n,{dir:"right",size:e.size})):n}const z0=BigInt(2**32-1),mM=BigInt(32);function N2e(t,e=!1){return e?{h:Number(t&z0),l:Number(t>>mM&z0)}:{h:Number(t>>mM&z0)|0,l:Number(t&z0)|0}}function k2e(t,e=!1){const n=t.length;let s=new Uint32Array(n),r=new Uint32Array(n);for(let i=0;i<n;i++){const{h:o,l}=N2e(t[i],e);[s[i],r[i]]=[o,l]}return[s,r]}const j2e=(t,e,n)=>t<<n|e>>>32-n,S2e=(t,e,n)=>e<<n|t>>>32-n,A2e=(t,e,n)=>e<<n-32|t>>>64-n,T2e=(t,e,n)=>t<<n-32|e>>>64-n;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function C2e(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function pM(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function fv(t,...e){if(!C2e(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function gM(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function E2e(t,e){fv(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function I2e(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function iz(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}const P2e=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function _2e(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function R2e(t){for(let e=0;e<t.length;e++)t[e]=_2e(t[e]);return t}const xM=P2e?t=>t:R2e;function M2e(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function az(t){return typeof t=="string"&&(t=M2e(t)),fv(t),t}class O2e{}function D2e(t){const e=s=>t().update(az(s)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}const $2e=BigInt(0),qf=BigInt(1),F2e=BigInt(2),L2e=BigInt(7),B2e=BigInt(256),U2e=BigInt(113),oz=[],lz=[],cz=[];for(let t=0,e=qf,n=1,s=0;t<24;t++){[n,s]=[s,(2*n+3*s)%5],oz.push(2*(5*s+n)),lz.push((t+1)*(t+2)/2%64);let r=$2e;for(let i=0;i<7;i++)e=(e<<qf^(e>>L2e)*U2e)%B2e,e&F2e&&(r^=qf<<(qf<<BigInt(i))-qf);cz.push(r)}const dz=k2e(cz,!0),V2e=dz[0],z2e=dz[1],yM=(t,e,n)=>n>32?A2e(t,e,n):j2e(t,e,n),vM=(t,e,n)=>n>32?T2e(t,e,n):S2e(t,e,n);function H2e(t,e=24){const n=new Uint32Array(10);for(let s=24-e;s<24;s++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const l=(o+8)%10,c=(o+2)%10,d=n[c],u=n[c+1],h=yM(d,u,1)^n[l],f=vM(d,u,1)^n[l+1];for(let m=0;m<50;m+=10)t[o+m]^=h,t[o+m+1]^=f}let r=t[2],i=t[3];for(let o=0;o<24;o++){const l=lz[o],c=yM(r,i,l),d=vM(r,i,l),u=oz[o];r=t[u],i=t[u+1],t[u]=c,t[u+1]=d}for(let o=0;o<50;o+=10){for(let l=0;l<10;l++)n[l]=t[o+l];for(let l=0;l<10;l++)t[o+l]^=~n[(l+2)%10]&n[(l+4)%10]}t[0]^=V2e[s],t[1]^=z2e[s]}iz(n)}class nC extends O2e{constructor(e,n,s,r=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=s,this.enableXOF=r,this.rounds=i,pM(s),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=I2e(this.state)}clone(){return this._cloneInto()}keccak(){xM(this.state32),H2e(this.state32,this.rounds),xM(this.state32),this.posOut=0,this.pos=0}update(e){gM(this),e=az(e),fv(e);const{blockLen:n,state:s}=this,r=e.length;for(let i=0;i<r;){const o=Math.min(n-this.pos,r-i);for(let l=0;l<o;l++)s[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:s,blockLen:r}=this;e[s]^=n,n&128&&s===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){gM(this,!1),fv(e),this.finish();const n=this.state,{blockLen:s}=this;for(let r=0,i=e.length;r<i;){this.posOut>=s&&this.keccak();const o=Math.min(s-this.posOut,i-r);e.set(n.subarray(this.posOut,this.posOut+o),r),this.posOut+=o,r+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return pM(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(E2e(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,iz(this.state)}_cloneInto(e){const{blockLen:n,suffix:s,outputLen:r,rounds:i,enableXOF:o}=this;return e||(e=new nC(n,s,r,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=s,e.outputLen=r,e.enableXOF=o,e.destroyed=this.destroyed,e}}const W2e=(t,e,n)=>D2e(()=>new nC(e,t,n)),K2e=W2e(1,136,256/8);function q2e(t,e){return K2e(tC(t,{strict:!1})?v2e(t):t)}class G2e extends ma{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}class sC extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const s=this.keys().next().value;s&&this.delete(s)}return this}}const z1=new sC(8192);function uz(t,e){if(z1.has(`${t}.${e}`))return z1.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),s=q2e(rz(n)),r=n.split("");for(let o=0;o<40;o+=2)s[o>>1]>>4>=8&&r[o]&&(r[o]=r[o].toUpperCase()),(s[o>>1]&15)>=8&&r[o+1]&&(r[o+1]=r[o+1].toUpperCase());const i=`0x${r.join("")}`;return z1.set(`${t}.${e}`,i),i}function H0(t,e){if(!X2e(t,{strict:!1}))throw new G2e({address:t});return uz(t,e)}const Y2e=/^0x[a-fA-F0-9]{40}$/,H1=new sC(8192);function X2e(t,e){const{strict:n=!0}=e??{},s=`${t}.${n}`;if(H1.has(s))return H1.get(s);const r=Y2e.test(t)?t.toLowerCase()===t?!0:n?uz(t)===t:!0:!1;return H1.set(s,r),r}function Q2e(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}const Nd=(t,e,n)=>JSON.stringify(t,(s,r)=>typeof r=="bigint"?r.toString():r,n),rC=t=>t;class $m extends ma{constructor({body:e,cause:n,details:s,headers:r,status:i,url:o}){super("HTTP request failed.",{cause:n,details:s,metaMessages:[i&&`Status: ${i}`,`URL: ${rC(o)}`,e&&`Request body: ${Nd(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=r,this.status=i,this.url=o}}class hz extends ma{constructor({body:e,error:n,url:s}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${rC(s)}`,`Request body: ${Nd(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data,this.url=s}}class bM extends ma{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${rC(n)}`,`Request body: ${Nd(e)}`],name:"TimeoutError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=n}}const J2e=-1;class Fr extends ma{constructor(e,{code:n,docsPath:s,metaMessages:r,name:i,shortMessage:o}){super(o,{cause:e,docsPath:s,metaMessages:r||(e==null?void 0:e.metaMessages),name:i||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=i||e.name,this.code=e instanceof hz?e.code:n??J2e}}class ri extends Fr{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class Bp extends Fr{constructor(e){super(e,{code:Bp.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Bp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Up extends Fr{constructor(e){super(e,{code:Up.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Up,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Vp extends Fr{constructor(e,{method:n}={}){super(e,{code:Vp.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(Vp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class zp extends Fr{constructor(e){super(e,{code:zp.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(zp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class zh extends Fr{constructor(e){super(e,{code:zh.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(zh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Hp extends Fr{constructor(e){super(e,{code:Hp.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Hp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Wp extends Fr{constructor(e){super(e,{code:Wp.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Wp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class sc extends Fr{constructor(e){super(e,{code:sc.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(sc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Kp extends Fr{constructor(e){super(e,{code:Kp.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Kp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class sd extends Fr{constructor(e,{method:n}={}){super(e,{code:sd.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(sd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Hh extends Fr{constructor(e){super(e,{code:Hh.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Hh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class qp extends Fr{constructor(e){super(e,{code:qp.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(qp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class nr extends ri{constructor(e){super(e,{code:nr.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(nr,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Gp extends ri{constructor(e){super(e,{code:Gp.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(Gp,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Yp extends ri{constructor(e,{method:n}={}){super(e,{code:Yp.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(Yp,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Xp extends ri{constructor(e){super(e,{code:Xp.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Xp,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Qp extends ri{constructor(e){super(e,{code:Qp.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Qp,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Wd extends ri{constructor(e){super(e,{code:Wd.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(Wd,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Jp extends ri{constructor(e){super(e,{code:Jp.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Jp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class Zp extends ri{constructor(e){super(e,{code:Zp.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(Zp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class eg extends ri{constructor(e){super(e,{code:eg.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(eg,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class tg extends ri{constructor(e){super(e,{code:tg.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(tg,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class ng extends ri{constructor(e){super(e,{code:ng.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(ng,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class sg extends ri{constructor(e){super(e,{code:sg.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(sg,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class rg extends ri{constructor(e){super(e,{code:rg.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(rg,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class Z2e extends Fr{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}function eNe(){let t=()=>{},e=()=>{};return{promise:new Promise((s,r)=>{t=s,e=r}),resolve:t,reject:e}}const W1=new Map;function tNe({fn:t,id:e,shouldSplitBatch:n,wait:s=0,sort:r}){const i=async()=>{const u=c();o();const h=u.map(({args:f})=>f);h.length!==0&&t(h).then(f=>{r&&Array.isArray(f)&&f.sort(r);for(let m=0;m<u.length;m++){const{resolve:g}=u[m];g==null||g([f[m],f])}}).catch(f=>{for(let m=0;m<u.length;m++){const{reject:g}=u[m];g==null||g(f)}})},o=()=>W1.delete(e),l=()=>c().map(({args:u})=>u),c=()=>W1.get(e)||[],d=u=>W1.set(e,[...c(),u]);return{flush:o,async schedule(u){const{promise:h,resolve:f,reject:m}=eNe();return(n==null?void 0:n([...l(),u]))&&i(),c().length>0?(d({args:u,resolve:f,reject:m}),h):(d({args:u,resolve:f,reject:m}),setTimeout(i,s),h)}}}async function nNe(t){return new Promise(e=>setTimeout(e,t))}function fz(t,{delay:e=100,retryCount:n=2,shouldRetry:s=()=>!0}={}){return new Promise((r,i)=>{const o=async({count:l=0}={})=>{const c=async({error:d})=>{const u=typeof e=="function"?e({count:l,error:d}):e;u&&await nNe(u),o({count:l+1})};try{const d=await t();r(d)}catch(d){if(l<n&&await s({count:l,error:d}))return c({error:d});i(d)}};o()})}const aj=256;let W0=aj,K0;function mz(t=11){if(!K0||W0+t>aj*2){K0="",W0=0;for(let e=0;e<aj;e++)K0+=(256+Math.random()*256|0).toString(16).substring(1)}return K0.substring(W0,W0+++t)}function sNe(t){const{batch:e,chain:n,ccipRead:s,key:r="base",name:i="Base Client",type:o="base"}=t,l=t.experimental_blockTag??(typeof(n==null?void 0:n.experimental_preconfirmationTime)=="number"?"pending":void 0),c=(n==null?void 0:n.blockTime)??12e3,d=Math.min(Math.max(Math.floor(c/2),500),4e3),u=t.pollingInterval??d,h=t.cacheTime??u,f=t.account?Q2e(t.account):void 0,{config:m,request:g,value:p}=t.transport({account:f,chain:n,pollingInterval:u}),w={...m,...p},b={account:f,batch:e,cacheTime:h,ccipRead:s,chain:n,key:r,name:i,pollingInterval:u,request:g,transport:w,type:o,uid:mz(),...l?{experimental_blockTag:l}:{}};function y(N){return A=>{const S=A(N);for(const _ in b)delete S[_];const T={...N,...S};return Object.assign(T,{extend:y(T)})}}return Object.assign(b,{extend:y(b)})}const q0=new sC(8192);function rNe(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(q0.get(n))return q0.get(n);const s=t().finally(()=>q0.delete(n));return q0.set(n,s),s}function iNe(t,e={}){return async(n,s={})=>{var h;const{dedupe:r=!1,methods:i,retryDelay:o=150,retryCount:l=3,uid:c}={...e,...s},{method:d}=n;if((h=i==null?void 0:i.exclude)!=null&&h.includes(d))throw new sd(new Error("method not supported"),{method:d});if(i!=null&&i.include&&!i.include.includes(d))throw new sd(new Error("method not supported"),{method:d});const u=r?x2e(`${c}.${Nd(n)}`):void 0;return rNe(()=>fz(async()=>{try{return await t(n)}catch(f){const m=f;switch(m.code){case Bp.code:throw new Bp(m);case Up.code:throw new Up(m);case Vp.code:throw new Vp(m,{method:n.method});case zp.code:throw new zp(m);case zh.code:throw new zh(m);case Hp.code:throw new Hp(m);case Wp.code:throw new Wp(m);case sc.code:throw new sc(m);case Kp.code:throw new Kp(m);case sd.code:throw new sd(m,{method:n.method});case Hh.code:throw new Hh(m);case qp.code:throw new qp(m);case nr.code:throw new nr(m);case Gp.code:throw new Gp(m);case Yp.code:throw new Yp(m);case Xp.code:throw new Xp(m);case Qp.code:throw new Qp(m);case Wd.code:throw new Wd(m);case Jp.code:throw new Jp(m);case Zp.code:throw new Zp(m);case eg.code:throw new eg(m);case tg.code:throw new tg(m);case ng.code:throw new ng(m);case sg.code:throw new sg(m);case rg.code:throw new rg(m);case 5e3:throw new nr(m);default:throw f instanceof ma?f:new Z2e(m)}}},{delay:({count:f,error:m})=>{var g;if(m&&m instanceof $m){const p=(g=m==null?void 0:m.headers)==null?void 0:g.get("Retry-After");if(p!=null&&p.match(/\d/))return Number.parseInt(p,10)*1e3}return~~(1<<f)*o},retryCount:l,shouldRetry:({error:f})=>aNe(f)}),{enabled:r,id:u})}}function aNe(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===Hh.code||t.code===zh.code:t instanceof $m&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function iC(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}function pz(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:s}){return new Promise((r,i)=>{(async()=>{let o;try{const l=new AbortController;n>0&&(o=setTimeout(()=>{s?l.abort():i(e)},n)),r(await t({signal:(l==null?void 0:l.signal)||null}))}catch(l){(l==null?void 0:l.name)==="AbortError"&&i(e),i(l)}finally{clearTimeout(o)}})()})}function oNe(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const wM=oNe();function lNe(t,e={}){return{async request(n){var f;const{body:s,fetchFn:r=e.fetchFn??fetch,onRequest:i=e.onRequest,onResponse:o=e.onResponse,timeout:l=e.timeout??1e4}=n,c={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:d,method:u,signal:h}=c;try{const m=await pz(async({signal:p})=>{const w={...c,body:Array.isArray(s)?Nd(s.map(A=>({jsonrpc:"2.0",id:A.id??wM.take(),...A}))):Nd({jsonrpc:"2.0",id:s.id??wM.take(),...s}),headers:{"Content-Type":"application/json",...d},method:u||"POST",signal:h||(l>0?p:null)},b=new Request(t,w),y=await(i==null?void 0:i(b,w))??{...w,url:t};return await r(y.url??t,y)},{errorInstance:new bM({body:s,url:t}),timeout:l,signal:!0});o&&await o(m);let g;if((f=m.headers.get("Content-Type"))!=null&&f.startsWith("application/json"))g=await m.json();else{g=await m.text();try{g=JSON.parse(g||"{}")}catch(p){if(m.ok)throw p;g={error:g}}}if(!m.ok)throw new $m({body:s,details:Nd(g.error)||m.statusText,headers:m.headers,status:m.status,url:t});return g}catch(m){throw m instanceof $m||m instanceof bM?m:new $m({body:s,cause:m,url:t})}}}}function cNe({key:t,methods:e,name:n,request:s,retryCount:r=3,retryDelay:i=150,timeout:o,type:l},c){const d=mz();return{config:{key:t,methods:e,name:n,request:s,retryCount:r,retryDelay:i,timeout:o,type:l},request:iNe(s,{methods:e,retryCount:r,retryDelay:i,uid:d}),value:c}}class dNe extends ma{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function NM(t,e={}){const{batch:n,fetchFn:s,fetchOptions:r,key:i="http",methods:o,name:l="HTTP JSON-RPC",onFetchRequest:c,onFetchResponse:d,retryDelay:u,raw:h}=e;return({chain:f,retryCount:m,timeout:g})=>{const{batchSize:p=1e3,wait:w=0}=typeof n=="object"?n:{},b=e.retryCount??m,y=g??e.timeout??1e4,N=f==null?void 0:f.rpcUrls.default.http[0];if(!N)throw new dNe;const A=lNe(N,{fetchFn:s,fetchOptions:r,onRequest:c,onResponse:d,timeout:y});return cNe({key:i,methods:o,name:l,async request({method:S,params:T}){const _={method:S,params:T},{schedule:R}=tNe({id:N,wait:w,shouldSplitBatch(L){return L.length>p},fn:L=>A.request({body:L}),sort:(L,M)=>L.id-M.id}),B=async L=>n?R(L):[await A.request({body:L})],[{error:V,result:U}]=await B(_);if(h)return{error:V,result:U};if(V)throw new hz({body:_,error:V,url:N});return U},retryCount:b,retryDelay:u,timeout:y,type:"http"},{fetchOptions:r,url:N})}}const Hx="3.0.0",uNe=()=>`@wagmi/core@${Hx}`;var gz=function(t,e,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(t):s?s.value:e.get(t)},mv,xz;let aC=class oj extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return uNe()}constructor(e,n={}){var i;super(),mv.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const s=n.cause instanceof oj?n.cause.details:(i=n.cause)!=null&&i.message?n.cause.message:n.details,r=n.cause instanceof oj&&n.cause.docsPath||n.docsPath;this.message=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...r?[`Docs: ${this.docsBaseUrl}${r}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...s?[`Details: ${s}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=s,this.docsPath=r,this.metaMessages=n.metaMessages,this.shortMessage=e}walk(e){return gz(this,mv,"m",xz).call(this,this,e)}};mv=new WeakSet,xz=function t(e,n){return n!=null&&n(e)?e:e.cause?gz(this,mv,"m",t).call(this,e.cause,n):e};class lj extends aC{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}function pv(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;let n,s;if(Array.isArray(t)&&Array.isArray(e)){if(n=t.length,n!==e.length)return!1;for(s=n;s--!==0;)if(!pv(t[s],e[s]))return!1;return!0}if(typeof t.valueOf=="function"&&t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(typeof t.toString=="function"&&t.toString!==Object.prototype.toString)return t.toString()===e.toString();const r=Object.keys(t);if(n=r.length,n!==Object.keys(e).length)return!1;for(s=n;s--!==0;)if(!Object.hasOwn(e,r[s]))return!1;for(s=n;s--!==0;){const i=r[s];if(i&&!pv(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function yz(t){const e=t.state.current,n=t.state.connections.get(e),s=n==null?void 0:n.accounts,r=s==null?void 0:s[0],i=t.chains.find(l=>l.id===(n==null?void 0:n.chainId)),o=t.state.status;switch(o){case"connected":return{address:r,addresses:s,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:o};case"reconnecting":return{address:r,addresses:s,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!!r,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:o};case"connecting":return{address:r,addresses:s,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:o};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:o}}}let K1=!1;async function hNe(t,e={}){var d,u;if(K1)return[];K1=!0,t.setState(h=>({...h,status:h.current?"reconnecting":"connecting"}));const n=[];if((d=e.connectors)!=null&&d.length)for(const h of e.connectors){let f;typeof h=="function"?f=t._internal.connectors.setup(h):f=h,n.push(f)}else n.push(...t.connectors);let s;try{s=await((u=t.storage)==null?void 0:u.getItem("recentConnectorId"))}catch{}const r={};for(const[,h]of t.state.connections)r[h.connector.id]=1;s&&(r[s]=0);const i=Object.keys(r).length>0?[...n].sort((h,f)=>(r[h.id]??10)-(r[f.id]??10)):n;let o=!1;const l=[],c=[];for(const h of i){const f=await h.getProvider().catch(()=>{});if(!f||c.some(p=>p===f)||!await h.isAuthorized())continue;const g=await h.connect({isReconnecting:!0}).catch(()=>null);g&&(h.emitter.off("connect",t._internal.events.connect),h.emitter.on("change",t._internal.events.change),h.emitter.on("disconnect",t._internal.events.disconnect),t.setState(p=>{const w=new Map(o?p.connections:new Map).set(h.uid,{accounts:g.accounts,chainId:g.chainId,connector:h});return{...p,current:o?p.current:h.uid,connections:w}}),l.push({accounts:g.accounts,chainId:g.chainId,connector:h}),c.push(f),o=!0)}return(t.state.status==="reconnecting"||t.state.status==="connecting")&&(o?t.setState(h=>({...h,status:"connected"})):t.setState(h=>({...h,connections:new Map,current:null,status:"disconnected"}))),K1=!1,l}class du extends aC{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}function fNe(t,e){const{onChange:n}=e;return t.subscribe(()=>yz(t),n,{equalityFn(s,r){const{connector:i,...o}=s,{connector:l,...c}=r;return pv(o,c)&&(i==null?void 0:i.id)===(l==null?void 0:l.id)&&(i==null?void 0:i.uid)===(l==null?void 0:l.uid)}})}oC.type="injected";function oC(t={}){const{shimDisconnect:e=!0,unstable_shimAsyncInject:n}=t;function s(){const c=t.target;if(typeof c=="function"){const d=c();if(d)return d}return typeof c=="object"?c:typeof c=="string"?{...mNe[c]??{id:c,name:`${c[0].toUpperCase()}${c.slice(1)}`,provider:`is${c[0].toUpperCase()}${c.slice(1)}`}}:{id:"injected",name:"Injected",provider(d){return d==null?void 0:d.ethereum}}}let r,i,o,l;return c=>({get icon(){return s().icon},get id(){return s().id},get name(){return s().name},type:oC.type,async setup(){const d=await this.getProvider();d!=null&&d.on&&t.target&&(o||(o=this.onConnect.bind(this),d.on("connect",o)),r||(r=this.onAccountsChanged.bind(this),d.on("accountsChanged",r)))},async connect({chainId:d,isReconnecting:u,withCapabilities:h}={}){var g,p,w,b,y,N;const f=await this.getProvider();if(!f)throw new du;let m=[];if(u)m=await this.getAccounts().catch(()=>[]);else if(e)try{m=(b=(w=(p=(g=(await f.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0])==null?void 0:g.caveats)==null?void 0:p[0])==null?void 0:w.value)==null?void 0:b.map(S=>H0(S)),m.length>0&&(m=await this.getAccounts())}catch(A){const S=A;if(S.code===nr.code)throw new nr(S);if(S.code===sc.code)throw S}try{!(m!=null&&m.length)&&!u&&(m=(await f.request({method:"eth_requestAccounts"})).map(T=>H0(T))),o&&(f.removeListener("connect",o),o=void 0),r||(r=this.onAccountsChanged.bind(this),f.on("accountsChanged",r)),i||(i=this.onChainChanged.bind(this),f.on("chainChanged",i)),l||(l=this.onDisconnect.bind(this),f.on("disconnect",l));let A=await this.getChainId();if(d&&A!==d){const S=await this.switchChain({chainId:d}).catch(T=>{if(T.code===nr.code)throw T;return{id:A}});A=(S==null?void 0:S.id)??A}return e&&await((y=c.storage)==null?void 0:y.removeItem(`${this.id}.disconnected`)),t.target||await((N=c.storage)==null?void 0:N.setItem("injected.connected",!0)),{accounts:h?m.map(S=>({address:S,capabilities:{}})):m,chainId:A}}catch(A){const S=A;throw S.code===nr.code?new nr(S):S.code===sc.code?new sc(S):S}},async disconnect(){var u,h;const d=await this.getProvider();if(!d)throw new du;i&&(d.removeListener("chainChanged",i),i=void 0),l&&(d.removeListener("disconnect",l),l=void 0),o||(o=this.onConnect.bind(this),d.on("connect",o));try{await pz(()=>d.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}e&&await((u=c.storage)==null?void 0:u.setItem(`${this.id}.disconnected`,!0)),t.target||await((h=c.storage)==null?void 0:h.removeItem("injected.connected"))},async getAccounts(){const d=await this.getProvider();if(!d)throw new du;return(await d.request({method:"eth_accounts"})).map(h=>H0(h))},async getChainId(){const d=await this.getProvider();if(!d)throw new du;const u=await d.request({method:"eth_chainId"});return Number(u)},async getProvider(){if(typeof window>"u")return;let d;const u=s();return typeof u.provider=="function"?d=u.provider(window):typeof u.provider=="string"?d=Wx(window,u.provider):d=u.provider,d&&!d.removeListener&&("off"in d&&typeof d.off=="function"?d.removeListener=d.off:d.removeListener=()=>{}),d},async isAuthorized(){var d,u;try{if(e&&await((d=c.storage)==null?void 0:d.getItem(`${this.id}.disconnected`))||!t.target&&!await((u=c.storage)==null?void 0:u.getItem("injected.connected")))return!1;if(!await this.getProvider()){if(n!==void 0&&n!==!1){const g=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",g),!!await this.getProvider()),p=typeof n=="number"?n:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(b=>window.addEventListener("ethereum#initialized",()=>b(g()),{once:!0}))]:[],new Promise(b=>setTimeout(()=>b(g()),p))]))return!0}throw new du}return!!(await fz(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:d,chainId:u}){var g,p,w,b;const h=await this.getProvider();if(!h)throw new du;const f=c.chains.find(y=>y.id===u);if(!f)throw new Wd(new lj);const m=new Promise(y=>{const N=A=>{"chainId"in A&&A.chainId===u&&(c.emitter.off("change",N),y())};c.emitter.on("change",N)});try{return await Promise.all([h.request({method:"wallet_switchEthereumChain",params:[{chainId:ij(u)}]}).then(async()=>{await this.getChainId()===u&&c.emitter.emit("change",{chainId:u})}),m]),f}catch(y){const N=y;if(N.code===4902||((p=(g=N==null?void 0:N.data)==null?void 0:g.originalError)==null?void 0:p.code)===4902)try{const{default:A,...S}=f.blockExplorers??{};let T;d!=null&&d.blockExplorerUrls?T=d.blockExplorerUrls:A&&(T=[A.url,...Object.values(S).map(B=>B.url)]);let _;(w=d==null?void 0:d.rpcUrls)!=null&&w.length?_=d.rpcUrls:_=[((b=f.rpcUrls.default)==null?void 0:b.http[0])??""];const R={blockExplorerUrls:T,chainId:ij(u),chainName:(d==null?void 0:d.chainName)??f.name,iconUrls:d==null?void 0:d.iconUrls,nativeCurrency:(d==null?void 0:d.nativeCurrency)??f.nativeCurrency,rpcUrls:_};return await Promise.all([h.request({method:"wallet_addEthereumChain",params:[R]}).then(async()=>{if(await this.getChainId()===u)c.emitter.emit("change",{chainId:u});else throw new nr(new Error("User rejected switch after adding network."))}),m]),f}catch(A){throw new nr(A)}throw N.code===nr.code?new nr(N):new Wd(N)}},async onAccountsChanged(d){var u;if(d.length===0)this.onDisconnect();else if(c.emitter.listenerCount("connect")){const h=(await this.getChainId()).toString();this.onConnect({chainId:h}),e&&await((u=c.storage)==null?void 0:u.removeItem(`${this.id}.disconnected`))}else c.emitter.emit("change",{accounts:d.map(h=>H0(h))})},onChainChanged(d){const u=Number(d);c.emitter.emit("change",{chainId:u})},async onConnect(d){const u=await this.getAccounts();if(u.length===0)return;const h=Number(d.chainId);c.emitter.emit("connect",{accounts:u,chainId:h});const f=await this.getProvider();f&&(o&&(f.removeListener("connect",o),o=void 0),r||(r=this.onAccountsChanged.bind(this),f.on("accountsChanged",r)),i||(i=this.onChainChanged.bind(this),f.on("chainChanged",i)),l||(l=this.onDisconnect.bind(this),f.on("disconnect",l)))},async onDisconnect(d){const u=await this.getProvider();d&&d.code===1013&&u&&(await this.getAccounts()).length||(c.emitter.emit("disconnect"),u&&(i&&(u.removeListener("chainChanged",i),i=void 0),l&&(u.removeListener("disconnect",l),l=void 0),o||(o=this.onConnect.bind(this),u.on("connect",o))))}})}const mNe={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(t){return t!=null&&t.coinbaseWalletExtension?t.coinbaseWalletExtension:Wx(t,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(t){return Wx(t,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;const n=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const s of n)if(e[s])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(t){var e,n;return(e=t==null?void 0:t.phantom)!=null&&e.ethereum?(n=t.phantom)==null?void 0:n.ethereum:Wx(t,"isPhantom")}}};function Wx(t,e){function n(r){return typeof e=="function"?e(r):typeof e=="string"?r[e]:!0}const s=t.ethereum;if(s!=null&&s.providers)return s.providers.find(r=>n(r));if(s&&n(s))return s}function pNe(t){if(typeof window>"u")return;const e=n=>t(n.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function gNe(){const t=new Set;let e=[];const n=()=>pNe(r=>{e.some(({info:i})=>i.uuid===r.info.uuid)||(e=[...e,r],t.forEach(i=>i(e,{added:[r]})))});let s=n();return{_listeners(){return t},clear(){t.forEach(r=>r([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),s==null||s()},findProvider({rdns:r}){return e.find(i=>i.info.rdns===r)},getProviders(){return e},reset(){this.clear(),s==null||s(),s=n()},subscribe(r,{emitImmediately:i}={}){return t.add(r),i&&r(e,{added:e}),()=>t.delete(r)}}}const xNe=t=>(e,n,s)=>{const r=s.subscribe;return s.subscribe=(o,l,c)=>{let d=o;if(l){const u=(c==null?void 0:c.equalityFn)||Object.is;let h=o(s.getState());d=f=>{const m=o(f);if(!u(h,m)){const g=h;l(h=m,g)}},c!=null&&c.fireImmediately&&l(h,h)}return r(d)},t(e,n,s)},yNe=xNe;function vNe(t,e){let n;try{n=t()}catch{return}return{getItem:r=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),l=(i=n.getItem(r))!=null?i:null;return l instanceof Promise?l.then(o):o(l)},setItem:(r,i)=>n.setItem(r,JSON.stringify(i,void 0)),removeItem:r=>n.removeItem(r)}}const cj=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(s){return cj(s)(n)},catch(s){return this}}}catch(n){return{then(s){return this},catch(s){return cj(s)(n)}}}},bNe=(t,e)=>(n,s,r)=>{let i={storage:vNe(()=>localStorage),partialize:p=>p,version:0,merge:(p,w)=>({...w,...p}),...e},o=!1;const l=new Set,c=new Set;let d=i.storage;if(!d)return t((...p)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...p)},s,r);const u=()=>{const p=i.partialize({...s()});return d.setItem(i.name,{state:p,version:i.version})},h=r.setState;r.setState=(p,w)=>{h(p,w),u()};const f=t((...p)=>{n(...p),u()},s,r);r.getInitialState=()=>f;let m;const g=()=>{var p,w;if(!d)return;o=!1,l.forEach(y=>{var N;return y((N=s())!=null?N:f)});const b=((w=i.onRehydrateStorage)==null?void 0:w.call(i,(p=s())!=null?p:f))||void 0;return cj(d.getItem.bind(d))(i.name).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==i.version){if(i.migrate)return[!0,i.migrate(y.state,y.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,y.state];return[!1,void 0]}).then(y=>{var N;const[A,S]=y;if(m=i.merge(S,(N=s())!=null?N:f),n(m,!0),A)return u()}).then(()=>{b==null||b(m,void 0),m=s(),o=!0,c.forEach(y=>y(m))}).catch(y=>{b==null||b(void 0,y)})};return r.persist={setOptions:p=>{i={...i,...p},p.storage&&(d=p.storage)},clearStorage:()=>{d==null||d.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:p=>(l.add(p),()=>{l.delete(p)}),onFinishHydration:p=>(c.add(p),()=>{c.delete(p)})},i.skipHydration||g(),m||f},wNe=bNe,kM=t=>{let e;const n=new Set,s=(d,u)=>{const h=typeof d=="function"?d(e):d;if(!Object.is(h,e)){const f=e;e=u??(typeof h!="object"||h===null)?h:Object.assign({},e,h),n.forEach(m=>m(e,f))}},r=()=>e,l={setState:s,getState:r,getInitialState:()=>c,subscribe:d=>(n.add(d),()=>n.delete(d))},c=e=t(s,r,l);return l},q1=t=>t?kM(t):kM;var vz={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(n=!1));function r(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,h,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var m=new r(u,h||c,f),g=n?n+d:d;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],m]:c._events[g].push(m):(c._events[g]=m,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new s:delete c._events[d]}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,h;if(this._eventsCount===0)return d;for(h in u=this._events)e.call(u,h)&&d.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=n?n+d:d,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,m=h.length,g=new Array(m);f<m;f++)g[f]=h[f].fn;return g},l.prototype.listenerCount=function(d){var u=n?n+d:d,h=this._events[u];return h?h.fn?1:h.length:0},l.prototype.emit=function(d,u,h,f,m,g){var p=n?n+d:d;if(!this._events[p])return!1;var w=this._events[p],b=arguments.length,y,N;if(w.fn){switch(w.once&&this.removeListener(d,w.fn,void 0,!0),b){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,u),!0;case 3:return w.fn.call(w.context,u,h),!0;case 4:return w.fn.call(w.context,u,h,f),!0;case 5:return w.fn.call(w.context,u,h,f,m),!0;case 6:return w.fn.call(w.context,u,h,f,m,g),!0}for(N=1,y=new Array(b-1);N<b;N++)y[N-1]=arguments[N];w.fn.apply(w.context,y)}else{var A=w.length,S;for(N=0;N<A;N++)switch(w[N].once&&this.removeListener(d,w[N].fn,void 0,!0),b){case 1:w[N].fn.call(w[N].context);break;case 2:w[N].fn.call(w[N].context,u);break;case 3:w[N].fn.call(w[N].context,u,h);break;case 4:w[N].fn.call(w[N].context,u,h,f);break;default:if(!y)for(S=1,y=new Array(b-1);S<b;S++)y[S-1]=arguments[S];w[N].fn.apply(w[N].context,y)}}return!0},l.prototype.on=function(d,u,h){return i(this,d,u,h,!1)},l.prototype.once=function(d,u,h){return i(this,d,u,h,!0)},l.prototype.removeListener=function(d,u,h,f){var m=n?n+d:d;if(!this._events[m])return this;if(!u)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===u&&(!f||g.once)&&(!h||g.context===h)&&o(this,m);else{for(var p=0,w=[],b=g.length;p<b;p++)(g[p].fn!==u||f&&!g[p].once||h&&g[p].context!==h)&&w.push(g[p]);w.length?this._events[m]=w.length===1?w[0]:w:o(this,m)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=n?n+d:d,this._events[u]&&o(this,u)):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(vz);var NNe=vz.exports;const kNe=Kd(NNe);class jNe{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new kNe})}on(e,n){this._emitter.on(e,n)}once(e,n){this._emitter.once(e,n)}off(e,n){this._emitter.off(e,n)}emit(e,...n){const s=n[0];this._emitter.emit(e,{uid:this.uid,...s})}listenerCount(e){return this._emitter.listenerCount(e)}}function SNe(t){return new jNe(t)}function ANe(t,e){return JSON.parse(t,(n,s)=>{let r=s;return(r==null?void 0:r.__type)==="bigint"&&(r=BigInt(r.value)),(r==null?void 0:r.__type)==="Map"&&(r=new Map(r.value)),(e==null?void 0:e(n,r))??r})}function jM(t,e){return t.slice(0,e).join(".")||"."}function SM(t,e){const{length:n}=t;for(let s=0;s<n;++s)if(t[s]===e)return s+1;return 0}function TNe(t,e){const n=typeof t=="function",s=typeof e=="function",r=[],i=[];return function(l,c){if(typeof c=="object")if(r.length){const d=SM(r,this);d===0?r[r.length]=this:(r.splice(d),i.splice(d)),i[i.length]=l;const u=SM(r,c);if(u!==0)return s?e.call(this,l,c,jM(i,u)):`[ref=${jM(i,u)}]`}else r[0]=c,i[0]=l;return n?t.call(this,l,c):c}}function CNe(t,e,n,s){return JSON.stringify(t,TNe((r,i)=>{let o=i;return typeof o=="bigint"&&(o={__type:"bigint",value:i.toString()}),o instanceof Map&&(o={__type:"Map",value:Array.from(i.entries())}),(e==null?void 0:e(r,o))??o},s),n??void 0)}function ENe(t){const{deserialize:e=ANe,key:n="wagmi",serialize:s=CNe,storage:r=bz}=t;function i(o){return o instanceof Promise?o.then(l=>l).catch(()=>null):o}return{...r,key:n,async getItem(o,l){const c=r.getItem(`${n}.${o}`),d=await i(c);return d?e(d)??null:l??null},async setItem(o,l){const c=`${n}.${o}`;l===null?await i(r.removeItem(c)):await i(r.setItem(c,s(l)))},async removeItem(o){await i(r.removeItem(`${n}.${o}`))}}}const bz={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function INe(){const t=typeof window<"u"&&window.localStorage?window.localStorage:bz;return{getItem(e){return t.getItem(e)},removeItem(e){t.removeItem(e)},setItem(e,n){try{t.setItem(e,n)}catch{}}}}const dj=256;let G0=dj,Y0;function PNe(t=11){if(!Y0||G0+t>dj*2){Y0="",G0=0;for(let e=0;e<dj;e++)Y0+=(256+Math.random()*256|0).toString(16).substring(1)}return Y0.substring(G0,G0+++t)}function _Ne(t){const{multiInjectedProviderDiscovery:e=!0,storage:n=ENe({storage:INe()}),syncConnectedChain:s=!0,ssr:r=!1,...i}=t,o=typeof window<"u"&&e?gNe():void 0,l=q1(()=>i.chains),c=q1(()=>{const S=[],T=new Set;for(const _ of i.connectors??[]){const R=d(_);if(S.push(R),!r&&R.rdns){const B=typeof R.rdns=="string"?[R.rdns]:R.rdns;for(const V of B)T.add(V)}}if(!r&&o){const _=o.getProviders();for(const R of _)T.has(R.info.rdns)||S.push(d(u(R)))}return S});function d(S){var R;const T=SNe(PNe()),_={...S({emitter:T,chains:l.getState(),storage:n,transports:i.transports}),emitter:T,uid:T.uid};return T.on("connect",N),(R=_.setup)==null||R.call(_),_}function u(S){const{info:T}=S,_=S.provider;return oC({target:{...T,id:T.rdns,provider:_}})}const h=new Map;function f(S={}){const T=S.chainId??w.getState().chainId,_=l.getState().find(B=>B.id===T);if(S.chainId&&!_)throw new lj;{const B=h.get(w.getState().chainId);if(B&&!_)return B;if(!_)throw new lj}{const B=h.get(T);if(B)return B}let R;if(i.client)R=i.client({chain:_});else{const B=_.id,V=l.getState().map(M=>M.id),U={},L=Object.entries(i);for(const[M,x]of L)if(!(M==="chains"||M==="client"||M==="connectors"||M==="transports"))if(typeof x=="object")if(B in x)U[M]=x[B];else{if(V.some(E=>E in x))continue;U[M]=x}else U[M]=x;R=sNe({...U,chain:_,batch:U.batch??{multicall:!0},transport:M=>i.transports[B]({...M,connectors:c})})}return h.set(T,R),R}function m(){return{chainId:l.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let g;const p="0.0.0-canary-";Hx.startsWith(p)?g=Number.parseInt(Hx.replace(p,""),10):g=Number.parseInt(Hx.split(".")[0]??"0",10);const w=q1(yNe(n?wNe(m,{migrate(S,T){if(T===g)return S;const _=m(),R=b(S,_.chainId);return{..._,chainId:R}},name:"store",partialize(S){return{connections:{__type:"Map",value:Array.from(S.connections.entries()).map(([T,_])=>{const{id:R,name:B,type:V,uid:U}=_.connector;return[T,{..._,connector:{id:R,name:B,type:V,uid:U}}]})},chainId:S.chainId,current:S.current}},merge(S,T){typeof S=="object"&&S&&"status"in S&&delete S.status;const _=b(S,T.chainId);return{...T,...S,chainId:_}},skipHydration:r,storage:n,version:g}):m));w.setState(m());function b(S,T){return S&&typeof S=="object"&&"chainId"in S&&typeof S.chainId=="number"&&l.getState().some(_=>_.id===S.chainId)?S.chainId:T}s&&w.subscribe(({connections:S,current:T})=>{var _;return T?(_=S.get(T))==null?void 0:_.chainId:void 0},S=>{if(l.getState().some(_=>_.id===S))return w.setState(_=>({..._,chainId:S??_.chainId}))}),o==null||o.subscribe(S=>{const T=new Set,_=new Set;for(const B of c.getState())if(T.add(B.id),B.rdns){const V=typeof B.rdns=="string"?[B.rdns]:B.rdns;for(const U of V)_.add(U)}const R=[];for(const B of S){if(_.has(B.info.rdns))continue;const V=d(u(B));T.has(V.id)||R.push(V)}n&&!w.persist.hasHydrated()||c.setState(B=>[...B,...R],!0)});function y(S){w.setState(T=>{const _=T.connections.get(S.uid);return _?{...T,connections:new Map(T.connections).set(S.uid,{accounts:S.accounts??_.accounts,chainId:S.chainId??_.chainId,connector:_.connector})}:T})}function N(S){w.getState().status==="connecting"||w.getState().status==="reconnecting"||w.setState(T=>{const _=c.getState().find(R=>R.uid===S.uid);return _?(_.emitter.listenerCount("connect")&&_.emitter.off("connect",y),_.emitter.listenerCount("change")||_.emitter.on("change",y),_.emitter.listenerCount("disconnect")||_.emitter.on("disconnect",A),{...T,connections:new Map(T.connections).set(S.uid,{accounts:S.accounts,chainId:S.chainId,connector:_}),current:S.uid,status:"connected"}):T})}function A(S){w.setState(T=>{const _=T.connections.get(S.uid);if(_){const B=_.connector;B.emitter.listenerCount("change")&&_.connector.emitter.off("change",y),B.emitter.listenerCount("disconnect")&&_.connector.emitter.off("disconnect",A),B.emitter.listenerCount("connect")||_.connector.emitter.on("connect",N)}if(T.connections.delete(S.uid),T.connections.size===0)return{...T,connections:new Map,current:null,status:"disconnected"};const R=T.connections.values().next().value;return{...T,connections:new Map(T.connections),current:R.connector.uid}})}return{get chains(){return l.getState()},get connectors(){return c.getState()},storage:n,getClient:f,get state(){return w.getState()},setState(S){let T;typeof S=="function"?T=S(w.getState()):T=S;const _=m();typeof T!="object"&&(T=_),Object.keys(_).some(B=>!(B in T))&&(T=_),w.setState(T,!0)},subscribe(S,T,_){return w.subscribe(S,T,_?{..._,fireImmediately:_.emitImmediately}:void 0)},_internal:{mipd:o,async revalidate(){const S=w.getState(),T=S.connections;let _=S.current;for(const[,R]of T){const B=R.connector;B.isAuthorized&&await B.isAuthorized()||(T.delete(B.uid),_===B.uid&&(_=null))}w.setState(R=>({...R,connections:T,current:_}))},store:w,ssr:!!r,syncConnectedChain:s,transports:i.transports,chains:{setState(S){const T=typeof S=="function"?S(l.getState()):S;if(T.length!==0)return l.setState(T,!0)},subscribe(S){return l.subscribe(S)}},connectors:{providerDetailToConnector:u,setup:d,setState(S){return c.setState(typeof S=="function"?S(c.getState()):S,!0)},subscribe(S){return c.subscribe(S)}},events:{change:y,connect:N,disconnect:A}}}}function RNe(t,e){const{initialState:n,reconnectOnMount:s}=e;return n&&!t._internal.store.persist.hasHydrated()&&t.setState({...n,chainId:t.chains.some(r=>r.id===n.chainId)?n.chainId:t.chains[0].id,connections:s?n.connections:new Map,status:s?"reconnecting":"disconnected"}),{async onMount(){t._internal.ssr&&(await t._internal.store.persist.rehydrate(),t._internal.mipd&&t._internal.connectors.setState(r=>{var c;const i=new Set;for(const d of r??[])if(d.rdns){const u=Array.isArray(d.rdns)?d.rdns:[d.rdns];for(const h of u)i.add(h)}const o=[],l=((c=t._internal.mipd)==null?void 0:c.getProviders())??[];for(const d of l){if(i.has(d.info.rdns))continue;const u=t._internal.connectors.providerDetailToConnector(d),h=t._internal.connectors.setup(u);o.push(h)}return[...r,...o]})),s?hNe(t):t.storage&&t.setState(r=>({...r,connections:new Map}))}}}function MNe(t){const{children:e,config:n,initialState:s,reconnectOnMount:r=!0}=t,{onMount:i}=RNe(n,{initialState:s,reconnectOnMount:r});n._internal.ssr||i();const o=v.useRef(!0);return v.useEffect(()=>{if(o.current&&n._internal.ssr)return i(),()=>{o.current=!1}},[]),e}const wz=v.createContext(void 0);function ONe(t){const{children:e,config:n}=t,s={value:n};return v.createElement(MNe,t,v.createElement(wz.Provider,s,e))}const DNe="3.1.0",$Ne=()=>`wagmi@${DNe}`;class FNe extends aC{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return $Ne()}}class LNe extends FNe{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function BNe(t={}){const e=t.config??v.useContext(wz);if(!e)throw new LNe;return e}var Nz={exports:{}},kz={},jz={exports:{}},Sz={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wh=v;function UNe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var VNe=typeof Object.is=="function"?Object.is:UNe,zNe=Wh.useState,HNe=Wh.useEffect,WNe=Wh.useLayoutEffect,KNe=Wh.useDebugValue;function qNe(t,e){var n=e(),s=zNe({inst:{value:n,getSnapshot:e}}),r=s[0].inst,i=s[1];return WNe(function(){r.value=n,r.getSnapshot=e,G1(r)&&i({inst:r})},[t,n,e]),HNe(function(){return G1(r)&&i({inst:r}),t(function(){G1(r)&&i({inst:r})})},[t]),KNe(n),n}function G1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!VNe(t,n)}catch{return!0}}function GNe(t,e){return e()}var YNe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?GNe:qNe;Sz.useSyncExternalStore=Wh.useSyncExternalStore!==void 0?Wh.useSyncExternalStore:YNe;jz.exports=Sz;var XNe=jz.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $b=v,QNe=XNe;function JNe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ZNe=typeof Object.is=="function"?Object.is:JNe,eke=QNe.useSyncExternalStore,tke=$b.useRef,nke=$b.useEffect,ske=$b.useMemo,rke=$b.useDebugValue;kz.useSyncExternalStoreWithSelector=function(t,e,n,s,r){var i=tke(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=ske(function(){function c(m){if(!d){if(d=!0,u=m,m=s(m),r!==void 0&&o.hasValue){var g=o.value;if(r(g,m))return h=g}return h=m}if(g=h,ZNe(u,m))return g;var p=s(m);return r!==void 0&&r(g,p)?(u=m,g):(u=m,h=p)}var d=!1,u,h,f=n===void 0?null:n;return[function(){return c(e())},f===null?void 0:function(){return c(f())}]},[e,n,s,r]);var l=eke(t,i[0],i[1]);return nke(function(){o.hasValue=!0,o.value=l},[l]),rke(l),l};Nz.exports=kz;var ike=Nz.exports;const Y1=t=>typeof t=="object"&&!Array.isArray(t);function ake(t,e,n=e,s=pv){const r=v.useRef([]),i=ike.useSyncExternalStoreWithSelector(t,e,n,o=>o,(o,l)=>{if(Y1(o)&&Y1(l)&&r.current.length){for(const c of r.current)if(!s(o[c],l[c]))return!1;return!0}return s(o,l)});return v.useMemo(()=>{if(Y1(i)){const o={...i};let l={};for(const[c,d]of Object.entries(o))l={...l,[c]:{configurable:!1,enumerable:!0,get:()=>(r.current.includes(c)||r.current.push(c),d)}};return Object.defineProperties(o,l),o}return i},[i])}function Az(t={}){const e=BNe(t);return ake(n=>fNe(e,{onChange:n}),()=>yz(e))}const lC=1315,Tz=`0x${lC.toString(16)}`,AM={chainId:Tz,chainName:"Story Aeneid Testnet",nativeCurrency:{name:"IP",symbol:"IP",decimals:18},rpcUrls:["https://aeneid.storyrpc.io"],blockExplorerUrls:["https://aeneid.storyscan.xyz"]};iC({id:lC,name:"Story Aeneid Testnet",network:"aeneid",nativeCurrency:{name:"IP",symbol:"IP",decimals:18},rpcUrls:{default:{http:["https://aeneid.storyrpc.io"]},public:{http:["https://aeneid.storyrpc.io"]}},blockExplorers:{default:{name:"StoryScan",url:"https://aeneid.storyscan.xyz"}}});function oke(){const[t,e]=v.useState("Ready to test"),[n,s]=v.useState(!1),[r,i]=v.useState(null),[o,l]=v.useState(null),[c,d]=v.useState(null),[u,h]=v.useState(null),[f,m]=v.useState(""),[g,p]=v.useState(""),[w,b]=v.useState(""),[y,N]=v.useState(null),[A,S]=v.useState("text"),[T,_]=v.useState(!1),[R,B]=v.useState(!1),[V,U]=v.useState(null),[L,M]=v.useState(!1),[x,j]=v.useState({type:"commercial_remix",royaltyPercent:10}),E=P=>Xi(Zl(P)),D=async P=>{const z=await P.arrayBuffer(),K=new Uint8Array(z);return Xi(K)},C=P=>{var K;const z=(K=P.target.files)==null?void 0:K[0];z&&(N(z),z.type.startsWith("video/")?S("video"):z.type.startsWith("image/")?S("image"):z.type.startsWith("audio/")?S("audio"):S("text"))},I=async()=>{if(!window.ethereum)throw new Error("MetaMask not found");try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:Tz}]})}catch(P){if(P.code===4902)await window.ethereum.request({method:"wallet_addEthereumChain",params:[AM]});else throw P}},F=async()=>{var P;s(!0),l(null),i(null),M(!1),_(!1),B(!1);try{e(" Connecting to Aeneid network..."),await I();const z=new ra(window.ethereum);await z.send("eth_requestAccounts",[]);const H=await z.getSigner().getAddress();if((await z.getNetwork()).chainId!==lC)throw new Error("Wrong network! Please switch to Aeneid.");e(" Preparing content...");let Q;if(y)Q=await D(y);else{const se=`# Test IP Asset

Created at: ${new Date().toISOString()}`;Q=E(se)}m(Q),e(" Uploading metadata to IPFS...");const J={title:(y==null?void 0:y.name)||"Test IP Asset",description:`IP Asset created on ${new Date().toISOString()}`,contentHash:Q,assetType:A,creator:H,createdAt:new Date().toISOString()},te={name:(y==null?void 0:y.name)||"Test IP Asset NFT",description:`NFT for IP Asset - ${A}`,image:"",attributes:[{trait_type:"Asset Type",value:A},{trait_type:"Creator",value:H},{trait_type:"Content Hash",value:Q}]};console.log(" Uploading IP metadata to Pinata..."),console.log("IP Metadata:",J);let Me,ee;try{Me=await ev(J,`ip-metadata-${Q}`),console.log(` IP Metadata uploaded: ${Me}`)}catch(se){throw console.error(" Failed to upload IP metadata to Pinata:",se),new Error(`IPFS upload failed: ${se instanceof Error?se.message:"Unknown error"}`)}console.log(" Uploading NFT metadata to Pinata..."),console.log("NFT Metadata:",te);try{ee=await ev(te,`nft-metadata-${Q}`),console.log(` NFT Metadata uploaded: ${ee}`)}catch(se){throw console.error(" Failed to upload NFT metadata to Pinata:",se),new Error(`IPFS upload failed: ${se instanceof Error?se.message:"Unknown error"}`)}p(Me),b(ee),e(" Checking for similar content (RAG Detection Engine)...");const he=await ec.generateMintToken({creatorAddress:H,contentHash:Q,ipMetadataURI:Me,nftMetadataURI:ee,assetType:A});if("error"in he&&he.error==="SIMILARITY_BLOCKED"){e(" Upload blocked due to high similarity"),U(he.similarity),B(!0),s(!1);return}const ke=he;if(d(ke),(P=ke.similarity)!=null&&P.warning){e(" Similar content detected - review required"),U(ke.similarity),_(!0),s(!1);return}e(" Content verified clean! Minting..."),await O(ke,H,z,Q,Me,ee)}catch(z){console.error("Minting error:",z),l(z.message||"Unknown error"),e(" Failed")}finally{s(!1)}},O=async(P,z,K,H,q,Q)=>{try{e(" Minting IP Asset on Story Protocol...");const J=K.getSigner(),te="0xbe39E1C756e921BD25DF86e7AAa31106d1eb0424",Me="0x78AD3d22E62824945DED384a5542Ad65de16E637",ee=["function mintAndRegisterIp(address spgNftContract, address recipient, tuple(string ipMetadataURI, bytes32 ipMetadataHash, string nftMetadataURI, bytes32 nftMetadataHash) ipMetadata, bool allowDuplicates) returns (address ipId, uint256 tokenId)"],he=new Xe(te,ee,J),ke={ipMetadataURI:q,ipMetadataHash:Xi(Zl(q)),nftMetadataURI:Q,nftMetadataHash:Xi(Zl(Q))};console.log(" Calling RegistrationWorkflows.mintAndRegisterIp DIRECTLY"),console.log("SPG NFT Contract:",Me),console.log("Recipient:",z),console.log("Metadata:",ke),e(" Simulating transaction to get return values...");const{ipId:se,tokenId:X}=await he.callStatic.mintAndRegisterIp(Me,z,ke,!0);console.log(" Predicted return values:",{ipId:se,tokenId:X.toString()}),e(" Sending transaction to blockchain...");const re=await he.mintAndRegisterIp(Me,z,ke,!0,{gasLimit:5e6});console.log(" Transaction sent:",re.hash),e(" Waiting for confirmation...");const ve=await re.wait();console.log(" Transaction confirmed!",ve);const $e=se,it=X.toNumber(),Oe={ipId:$e,tokenId:it,txHash:ve.transactionHash};console.log(" Mint result:",Oe);try{e(" Updating backend with IP ID..."),await ec.updateTokenAfterMint({nonce:P.nonce,ipId:Oe.ipId,tokenId:Oe.tokenId,txHash:Oe.txHash}),console.log(" Backend updated successfully with IP ID and token ID"),e(" Backend updated! IP Asset registered successfully.")}catch(ht){console.error(" Backend update failed:",ht),e(" IP minted but backend update failed. Asset may show as pending.")}e(" IP Asset Registered! Configure license terms below."),h(Oe),M(!0)}catch(J){throw console.error("Minting failed:",J),J}},k=async()=>{_(!1),s(!0);try{if(!c)throw new Error("No mint token available");if(!f)throw new Error("No content hash available");if(!g||!w)throw new Error("Metadata URIs not available");const P=new ra(window.ethereum),K=await P.getSigner().getAddress();e(" Proceeding as original work..."),await O(c,K,P,f,g,w)}catch(P){console.error("Minting error:",P),l(P.message||"Unknown error"),e(" Failed")}finally{s(!1)}},$=async()=>{_(!1),s(!0);try{if(!c||!V||!("warning"in V))throw new Error("No similarity data available");if(!f||!g||!w)throw new Error("Metadata not available");const P=new ra(window.ethereum),K=await P.getSigner().getAddress();e(" Registering as derivative work..."),await O(c,K,P,f,g,w),localStorage.setItem("pendingDerivativeParent",V.topMatch.ipId)}catch(P){console.error("Derivative registration error:",P),l(P.message||"Unknown error"),e(" Failed")}finally{s(!1)}};async function G(){if(!u||!c){l("No mint result to attach license to.");return}s(!0),l(null);try{e("Attaching license terms..."),e("Getting or registering license terms...");const P=await IT(x.type,x.royaltyPercent);e("Attaching license to IP asset on-chain...");const z=await PT(u.ipId,P);console.log(" License attached on-chain! TX:",z.txHash),e(" Finalizing registration with backend..."),await ec.finalizeMint({nonce:c.nonce,ipId:u.ipId,tokenId:u.tokenId,txHash:u.txHash,licenseTermsId:P,licenseType:x.type,royaltyPercent:x.royaltyPercent,licenseTxHash:z.txHash}),console.log(" Backend finalized successfully with license info"),e(" SUCCESS! IP fully registered with license terms in backend."),i({...u,licenseTermsId:P,licenseTxHash:z.txHash}),M(!1)}catch(P){console.error("License attachment failed:",P),l(P.message||"License attachment failed"),e(" License attachment failed")}finally{s(!1)}}return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-black text-white p-8",children:[a.jsxs("div",{className:"max-w-2xl mx-auto",children:[a.jsx("h1",{className:"text-4xl font-bold mb-8",children:" Story Protocol Minting Test"}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-lg p-6 mb-6",children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Upload Content (Optional)"}),a.jsxs("div",{className:"border-2 border-dashed border-white/30 rounded-lg p-8 text-center mb-4",children:[a.jsx("input",{type:"file",accept:"video/*,image/*,audio/*,text/*,.md,.txt",onChange:C,className:"hidden",id:"file-upload"}),a.jsx("label",{htmlFor:"file-upload",className:"cursor-pointer",children:a.jsx("div",{className:"text-white",children:y?a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"font-medium text-lg mb-2",children:[" ",y.name]}),a.jsxs("p",{className:"text-sm text-gray-300",children:[(y.size/1024).toFixed(2)," KB  ",y.type||"Unknown type"]})]}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-lg mb-2",children:" Click to upload"}),a.jsx("p",{className:"text-sm text-gray-300",children:"Video, Image, Audio, or Text file"})]})})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Asset Type"}),a.jsxs("select",{value:A,onChange:P=>S(P.target.value),className:"w-full bg-white/10 border border-white/30 rounded-lg px-4 py-2 text-white",children:[a.jsx("option",{value:"text",children:"Text"}),a.jsx("option",{value:"image",children:"Image"}),a.jsx("option",{value:"video",children:"Video"}),a.jsx("option",{value:"audio",children:"Audio"})]}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:y?"Auto-detected from file":"Select the type of content you're minting"})]})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-lg p-6 mb-6",children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Full E2E Minting Flow"}),a.jsxs("p",{className:"text-gray-300 mb-4",children:["Tests: Wallet Connect  ",a.jsx("strong",{children:"RAG Similarity Check"}),"  Backend Auth  Mint IP  Attach License"]}),a.jsx("button",{onClick:F,disabled:n||L,className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-white font-bold py-4 px-8 rounded-lg transition-all duration-300 transform hover:scale-105",children:n?" Processing...":y?" Upload & Mint IP Asset":" Start Full Minting Flow"})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-lg p-6 mb-6",children:[a.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Status"}),a.jsx("p",{className:"text-lg font-mono",children:t})]}),o&&a.jsxs("div",{className:"bg-red-500/20 border-2 border-red-500 rounded-lg p-6 mb-6",children:[a.jsx("h3",{className:"text-xl font-semibold mb-2 text-red-400",children:" Error"}),a.jsx("p",{className:"font-mono text-red-300",children:o})]}),L&&!r&&a.jsxs("div",{className:"bg-blue-500/20 border-2 border-blue-400 rounded-lg p-6 mb-6",children:[a.jsx("h3",{className:"text-2xl font-semibold mb-4 text-blue-300",children:" IP Registered! Now, Attach a License."}),a.jsxs("div",{className:"space-y-2 font-mono text-sm mb-6",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400",children:"IP ID:"})," ",a.jsx("p",{className:"text-blue-200 break-all",children:u==null?void 0:u.ipId})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400",children:"Token ID:"})," ",a.jsx("p",{className:"text-blue-200",children:u==null?void 0:u.tokenId})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"license-type-selector bg-black/20 p-4 rounded-md",children:[a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"licenseType",className:"form-radio h-5 w-5 text-blue-400 bg-gray-700 border-gray-600 focus:ring-blue-500",checked:x.type==="commercial_remix",onChange:()=>j({...x,type:"commercial_remix"})}),a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold",children:"Commercial Remix"}),a.jsx("span",{className:"block text-xs text-gray-400",children:" Commercial use  Derivatives  Attribution"})]})]}),a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer mt-2",children:[a.jsx("input",{type:"radio",name:"licenseType",className:"form-radio h-5 w-5 text-blue-400 bg-gray-700 border-gray-600 focus:ring-blue-500",checked:x.type==="non_commercial",onChange:()=>j({...x,type:"non_commercial",royaltyPercent:0})}),a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold",children:"Non-Commercial Only"}),a.jsx("span",{className:"block text-xs text-gray-400",children:" No commercial use  Derivatives  Attribution"})]})]})]}),x.type==="commercial_remix"&&a.jsxs("div",{className:"royalty-slider bg-black/20 p-4 rounded-md",children:[a.jsxs("label",{className:"block mb-2 font-semibold",children:["Royalty Percentage: ",x.royaltyPercent,"%"]}),a.jsx("input",{type:"range",min:"0",max:"100",value:x.royaltyPercent,onChange:P=>j({...x,royaltyPercent:parseInt(P.target.value)}),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer"})]}),a.jsx("button",{onClick:G,disabled:n,className:"w-full bg-gradient-to-r from-blue-600 to-teal-500 hover:from-blue-700 hover:to-teal-600 disabled:opacity-50 text-white font-bold py-3 px-6 rounded-lg transition-all",children:n?" Attaching...":"Attach License & Finalize"})]})]}),r&&a.jsxs("div",{className:"bg-green-500/20 border-2 border-green-500 rounded-lg p-6",children:[a.jsx("h3",{className:"text-xl font-semibold mb-4 text-green-400",children:" IP Fully Registered!"}),a.jsxs("div",{className:"space-y-2 font-mono text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400",children:"IP ID:"}),a.jsx("p",{className:"text-green-300 break-all",children:r.ipId})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400",children:"Token ID:"}),a.jsx("p",{className:"text-green-300",children:r.tokenId})]}),r.licenseTermsId&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400",children:"License Terms ID:"}),a.jsx("p",{className:"text-green-300",children:r.licenseTermsId})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400",children:"Mint Tx Hash:"}),a.jsx("p",{className:"text-green-300 break-all",children:r.txHash})]}),r.licenseTxHash&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400",children:"License Tx Hash:"}),a.jsx("p",{className:"text-green-300 break-all",children:r.licenseTxHash})]})]}),a.jsx("a",{href:`${AM.blockExplorerUrls[0]}/tx/${r.licenseTxHash||r.txHash}`,target:"_blank",rel:"noopener noreferrer",className:"mt-4 inline-block bg-blue-600 hover:bg-blue-700 px-6 py-2 rounded-lg transition-colors",children:"View on Explorer "})]}),a.jsx(lke,{}),a.jsxs("div",{className:"mt-8 bg-white/5 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:" What This Tests:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-300",children:[a.jsxs("li",{children:[" ",a.jsx("strong",{children:"RAG-Powered Similarity Detection"})," (NEW!)"]}),a.jsx("li",{children:"File upload support for real content"}),a.jsx("li",{children:"Aeneid network connection and switching"}),a.jsx("li",{children:"Backend signature authorization"}),a.jsx("li",{children:"Direct user wallet call to RegistrationWorkflows"}),a.jsx("li",{children:"Story Protocol IP registration"}),a.jsx("li",{children:"License attachment with user choice"}),a.jsx("li",{children:"Complete end-to-end flow (upload  detect  mint  license)"})]})]})]}),T&&V&&"warning"in V&&a.jsx(AU,{isOpen:T,onClose:()=>_(!1),similarityInfo:V,onProceedAsOriginal:k,onRegisterAsDerivative:$}),R&&V&&!("warning"in V)&&a.jsx(TU,{isOpen:R,onClose:()=>{B(!1),N(null)},blockedInfo:V})]})}function lke(){const{address:t}=Az(),{data:e,isLoading:n,error:s}=JT({walletAddress:t});return t?a.jsxs("div",{className:"mt-8 bg-white/5 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Your Minted Assets"}),n&&a.jsx("p",{children:"Loading your assets..."}),s&&a.jsxs("p",{children:["Error loading assets: ",s.message]}),e&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.assets.map(r=>a.jsx(KV,{asset:r},r._id))})]}):a.jsxs("div",{className:"mt-8 bg-white/5 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Your Minted Assets"}),a.jsx("p",{children:"Please connect your wallet to see your minted assets."})]})}const Cz="0x78AD3d22E62824945DED384a5542Ad65de16E637",cke="0x77319B4031e6eF1250907aa00018B8B1c67a244b",Ez="https://aeneid.storyrpc.io",dke=["function ipId(uint256 chainId, address tokenContract, uint256 tokenId) view returns (address)"],uke=["function ownerOf(uint256 tokenId) view returns (address)","function tokenURI(uint256 tokenId) view returns (string)","function totalSupply() view returns (uint256)"];async function hke(t){const e=new $l(Ez);return await new Xe(cke,dke,e).ipId(1315,Cz,t)}async function fke(t){const e=new $l(Ez),n=new Xe(Cz,uke,e);try{const s=await n.totalSupply(),r=[];for(let i=1;i<=s.toNumber();i++)try{(await n.ownerOf(i)).toLowerCase()===t.toLowerCase()&&r.push(i)}catch{}return r}catch(s){return console.error("Error fetching owned tokens:",s),[]}}async function mke(t){const e=await fke(t),n=[];for(const s of e)try{const r=await hke(s);n.push({tokenId:s,ipId:r})}catch(r){console.error(`Error getting IP ID for token ${s}:`,r)}return n}const X1="0x78AD3d22E62824945DED384a5542Ad65de16E637",pke="0x77319B4031e6eF1250907aa00018B8B1c67a244b",gke="https://aeneid.storyrpc.io",xke=["function tokenURI(uint256 tokenId) view returns (string)","function ownerOf(uint256 tokenId) view returns (address)","function totalSupply() view returns (uint256)"],yke=["function ipId(uint256 chainId, address tokenContract, uint256 tokenId) view returns (address)"];async function vke(t,e){const n=new $l(gke),s=new Xe(X1,xke,n),r=new Xe(pke,yke,n);try{console.log(` Searching for IPFS CID: ${t} owned by ${e}`);const i=await s.totalSupply();console.log(` Total NFTs minted: ${i.toString()}`);for(let o=1;o<=i.toNumber();o++)try{if((await s.ownerOf(o)).toLowerCase()!==e.toLowerCase())continue;console.log(` Checking Token #${o} (owned by user)`);const c=await s.tokenURI(o);if(console.log(`  Token URI: ${c}`),c.includes(t))return console.log(` MATCH! Token #${o} has matching IPFS CID`),{ipId:await r.ipId(1315,X1,o),tokenId:o};try{const d=c.replace("ipfs://","https://gateway.pinata.cloud/ipfs/"),h=await(await fetch(d)).json();if(JSON.stringify(h).toLowerCase().includes(t.toLowerCase()))return console.log(` MATCH in metadata! Token #${o}`),{ipId:await r.ipId(1315,X1,o),tokenId:o}}catch{console.log(`  Could not fetch metadata for token #${o}`)}}catch{continue}return console.log(" No matching token found"),null}catch(i){return console.error("Error searching for IP:",i),null}}async function bke(t){const e=new Map;for(const n of t){console.log(`
 Looking up asset: ${n._id}`);const s=await vke(n.ipfsCid,n.creatorWallet);s?(e.set(n._id,s),console.log(` Found: ${n._id}  Token #${s.tokenId}`)):console.log(` Not found: ${n._id}`),await new Promise(r=>setTimeout(r,1e3))}return e}const Iz="0x523",Q1={chainId:Iz,chainName:"Story Aeneid Testnet",nativeCurrency:{name:"IP",symbol:"IP",decimals:18},rpcUrls:["https://aeneid.storyrpc.io"],blockExplorerUrls:["https://aeneid.storyscan.xyz"]};function wke(){const{address:t}=Az(),{data:e,isLoading:n,error:s,refetch:r}=JT({walletAddress:t}),[i,o]=v.useState(""),[l,c]=v.useState(""),[d,u]=v.useState("commercial_remix"),[h,f]=v.useState(10),[m,g]=v.useState("Ready"),[p,w]=v.useState(!1),[b,y]=v.useState(null),[N,A]=v.useState([]),[S,T]=v.useState(new Map),_=async()=>{if(!window.ethereum)throw new Error("MetaMask not found");try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:Iz}]})}catch(U){if(U.code===4902)await window.ethereum.request({method:"wallet_addEthereumChain",params:[Q1]});else throw U}},R=async()=>{var U,L,M,x;if(!i.trim()){alert("Please enter an IP ID");return}w(!0),g("Processing..."),y(null);try{g(" Switching to Aeneid network..."),await _(),g(" Getting license terms ID...");const j=await IT(d,h);console.log("License Terms ID:",j),g(" Attaching license to IP...");const{txHash:E}=await PT(i.trim(),j);if(l.trim()){g(" Updating backend...");const C=await fetch(`http://localhost:3001/api/assets/${l}/finalize`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({storyIpId:i.trim(),licenseTermsId:j,licenseTxHash:E})});C.ok?(console.log(" Backend updated successfully"),r()):console.warn("Backend update failed:",await C.text())}g(" License attached successfully!"),y({ipId:i.trim(),licenseTermsId:j,txHash:E,explorerUrl:`${Q1.blockExplorerUrls[0]}/tx/${E}`})}catch(j){console.error("License attachment error:",j);const E=((U=j.message)==null?void 0:U.toLowerCase())||"",D=((M=(L=j.error)==null?void 0:L.data)==null?void 0:M.data)||((x=j.data)==null?void 0:x.data)||"";E.includes("execution reverted")&&D.includes("55d48f8d")?(g(" License terms are already attached to this IP!"),y({ipId:i.trim(),licenseTermsId,alreadyAttached:!0,message:"This IP already has license terms attached. No transaction needed."})):g(` Error: ${j.message}`)}finally{w(!1)}},B=async()=>{w(!0),g(" Fetching your IP IDs...");try{if(!window.ethereum)throw new Error("MetaMask not found");await _();const U=new ra(window.ethereum);await U.send("eth_requestAccounts",[]);const M=await U.getSigner().getAddress();console.log("Fetching IP IDs for:",M);const x=await mke(M);A(x),g(` Found ${x.length} IP(s) owned by your wallet`),x.length>0&&o(x[0].ipId)}catch(U){console.error("Error fetching IP IDs:",U),g(` Error: ${U.message}`)}finally{w(!1)}},V=async()=>{if(!e||e.assets.length===0){g(" No assets to search");return}w(!0),g(" Searching blockchain for missing IP IDs...");try{const U=e.assets.filter(M=>!M.storyIpId);if(U.length===0){g(" All assets already have IP IDs!"),w(!1);return}console.log(` Found ${U.length} assets without IP IDs`),g(` Searching for ${U.length} missing IP ID(s)...`);const L=await bke(U.map(M=>({_id:M._id,ipfsCid:M.ipfsCid,creatorWallet:M.creatorWallet})));if(T(L),L.size>0){g(` Found ${L.size} IP ID(s)! Click "Update Backend" on each asset to save.`);const M="http://localhost:3001/api";let x=0;for(const[j,{ipId:E,tokenId:D}]of L.entries())try{(await fetch(`${M}/assets/${j}/finalize`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({storyIpId:E,storyTokenId:D,status:"registered"})})).ok&&(x++,console.log(` Updated backend for ${j}`))}catch(C){console.error(`Failed to update ${j}:`,C)}x>0&&(g(` Found and updated ${x} asset(s) in backend!`),r())}else g(" Could not find any matching IP IDs on blockchain")}catch(U){console.error("Error finding IP IDs:",U),g(` Error: ${U.message}`)}finally{w(!1)}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-indigo-900 to-blue-900 text-white p-8",children:a.jsxs("div",{className:"max-w-2xl mx-auto",children:[a.jsx("h1",{className:"text-4xl font-bold mb-8",children:" Attach License to Existing IP"}),!t&&a.jsx("div",{className:"bg-yellow-500/20 border border-yellow-500/50 rounded-lg p-6 mb-6",children:a.jsx("p",{className:"text-yellow-300",children:" Please connect your wallet to see your assets and attach licenses."})}),t&&a.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 mb-6",children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Your Backend Assets"}),n&&a.jsx("p",{className:"text-gray-300",children:"Loading your assets..."}),s&&a.jsxs("p",{className:"text-red-400",children:["Error: ",s.message]}),e&&e.assets.length===0&&a.jsx("p",{className:"text-gray-400",children:"No assets found in backend."}),e&&e.assets.length>0&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("button",{onClick:V,disabled:p,className:"w-full bg-green-600 hover:bg-green-700 disabled:bg-gray-600 px-4 py-3 rounded-lg font-medium transition-all disabled:cursor-not-allowed",children:p?" Searching blockchain...":" Find Missing IP IDs (Auto-Update Backend)"}),a.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"This will scan the blockchain for tokens matching your assets' IPFS CIDs and automatically update the backend."})]}),a.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:e.assets.map(U=>{var j;const L=S.get(U._id),M=U.storyIpId||(L==null?void 0:L.ipId),x=U.storyTokenId||(L==null?void 0:L.tokenId);return a.jsxs("div",{className:`border rounded-lg p-4 transition-all ${l===U._id?"border-blue-500 bg-blue-500/20":"border-white/20 bg-white/5 hover:bg-white/10"}`,children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold",children:U.originalFilename}),a.jsxs("p",{className:"text-xs text-gray-400 font-mono mt-1",children:["ID: ",U._id]})]}),a.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${U.status==="registered"?"bg-green-500/20 text-green-300":U.status==="pending"?"bg-yellow-500/20 text-yellow-300":"bg-gray-500/20 text-gray-300"}`,children:U.status})]}),a.jsxs("div",{className:"space-y-1 text-sm",children:[M?a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400",children:"IP ID:"}),L&&!U.storyIpId&&a.jsx("span",{className:"ml-2 px-2 py-0.5 bg-green-500/20 text-green-300 text-xs rounded",children:"Just Found!"}),a.jsx("p",{className:"font-mono text-xs text-green-300 break-all",children:M})]}):a.jsx("p",{className:"text-red-400 text-xs",children:" No Story IP ID"}),x&&a.jsxs("p",{className:"text-gray-400",children:["Token ID: ",a.jsx("span",{className:"text-white",children:x})]}),U.licenseTermsId?a.jsxs("p",{className:"text-green-400 text-xs",children:[" Licensed (Terms #",U.licenseTermsId,")"]}):a.jsx("p",{className:"text-yellow-400 text-xs",children:" No license attached"}),a.jsxs("p",{className:"text-gray-400 text-xs",children:["IPFS: ",a.jsxs("span",{className:"text-white",children:[(j=U.ipfsCid)==null?void 0:j.slice(0,20),"..."]})]})]}),a.jsx("button",{onClick:()=>{c(U._id),M&&o(M)},className:`mt-3 w-full px-4 py-2 rounded font-medium transition-all ${M&&!U.licenseTermsId?"bg-blue-600 hover:bg-blue-700":M?"bg-gray-600 hover:bg-gray-700":"bg-red-600/50 cursor-not-allowed"}`,disabled:!M,children:M?U.licenseTermsId?" Already Licensed (Re-license)":L&&!U.storyIpId?" Select (Just Found!)":" Select to License":" Missing IP ID"})]},U._id)})})]})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 space-y-6",children:[a.jsx("h2",{className:"text-2xl font-semibold",children:"License Configuration"}),a.jsx("div",{className:"flex gap-4",children:a.jsx("button",{onClick:B,disabled:p||!t,className:"flex-1 bg-indigo-600 hover:bg-indigo-700 disabled:bg-gray-600 px-4 py-2 rounded-lg font-medium transition-all disabled:cursor-not-allowed",children:" Fetch IP IDs from Blockchain"})}),a.jsx("p",{className:"text-sm text-gray-400",children:" Use this if your backend assets don't have IP IDs yet. It will scan the blockchain for tokens you own."}),N.length>0&&a.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Blockchain IP Assets Found:"}),a.jsx("p",{className:"text-xs text-gray-400 mb-3",children:"These are tokens you own on the Story Protocol blockchain."}),a.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:N.map(({tokenId:U,ipId:L})=>a.jsx("button",{onClick:()=>o(L),className:`w-full text-left px-3 py-2 rounded border ${i===L?"border-blue-500 bg-blue-500/20":"border-white/20 hover:bg-white/5"} transition-all`,children:a.jsxs("div",{className:"font-mono text-sm",children:[a.jsxs("span",{className:"text-gray-400",children:["Token #",U]}),a.jsx("br",{}),a.jsx("span",{className:"text-xs break-all",children:L})]})},U))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Story IP ID"}),a.jsx("input",{type:"text",value:i,onChange:U=>o(U.target.value),placeholder:"0x... (auto-filled when you select an asset above)",className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:!t}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:i?" IP ID ready":"Select an asset from above to auto-fill"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Backend Asset ID"}),a.jsx("input",{type:"text",value:l,onChange:U=>c(U.target.value),placeholder:"Auto-filled when you select an asset above",className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:!t}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:l?" Will update backend after license attachment":"Optional - for backend sync"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"License Type"}),a.jsxs("select",{value:d,onChange:U=>u(U.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"commercial_remix",children:"Commercial Remix (with royalties)"}),a.jsx("option",{value:"non_commercial",children:"Non-Commercial (no royalties)"})]})]}),d==="commercial_remix"&&a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Royalty Percentage: ",h,"%"]}),a.jsx("input",{type:"range",min:"0",max:"100",value:h,onChange:U=>f(parseInt(U.target.value)),className:"w-full"})]}),a.jsx("button",{onClick:R,disabled:p||!i.trim()||!t,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 disabled:from-gray-600 disabled:to-gray-600 px-8 py-4 rounded-lg font-semibold text-lg transition-all disabled:cursor-not-allowed",children:p?" Processing...":t?i.trim()?" Attach License to IP":" Select an IP Asset First":" Connect Wallet First"}),a.jsx("div",{className:"text-center font-medium",children:m})]}),b&&a.jsxs("div",{className:`mt-6 border-2 rounded-lg p-6 ${b.alreadyAttached?"bg-blue-500/20 border-blue-500":"bg-green-500/20 border-green-500"}`,children:[a.jsx("h3",{className:`text-xl font-semibold mb-4 ${b.alreadyAttached?"text-blue-400":"text-green-400"}`,children:b.alreadyAttached?" Already Licensed":" License Attached!"}),b.alreadyAttached&&a.jsx("p",{className:"text-blue-300 mb-4",children:b.message}),a.jsxs("div",{className:"space-y-2 font-mono text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400",children:"IP ID:"}),a.jsx("p",{className:`break-all ${b.alreadyAttached?"text-blue-300":"text-green-300"}`,children:b.ipId})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400",children:"License Terms ID:"}),a.jsx("p",{className:b.alreadyAttached?"text-blue-300":"text-green-300",children:b.licenseTermsId})]}),b.txHash&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400",children:"Transaction Hash:"}),a.jsx("p",{className:"text-green-300 break-all",children:b.txHash})]})]}),b.explorerUrl&&a.jsx("a",{href:b.explorerUrl,target:"_blank",rel:"noopener noreferrer",className:"mt-4 inline-block bg-blue-600 hover:bg-blue-700 px-6 py-2 rounded-lg transition-colors",children:"View on Explorer "})]}),a.jsxs("div",{className:"mt-8 bg-white/5 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:" How to Use:"}),a.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-gray-300",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Connect your wallet"})," - Your backend assets will appear"]}),a.jsxs("li",{children:[a.jsx("strong",{children:'Click "Find Missing IP IDs"'})," - This scans the blockchain for your minted tokens"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Wait for search to complete"})," - Backend will auto-update with found IP IDs"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Select an asset"})," - Click the asset you want to license"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Configure license"})," - Choose type and royalty percentage"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Attach license"})," - Confirm the transaction in your wallet"]})]}),a.jsx("div",{className:"mt-4 p-4 bg-blue-500/10 border border-blue-500/30 rounded",children:a.jsxs("p",{className:"text-blue-300 text-sm",children:[a.jsx("strong",{children:" How It Works:"}),' The "Find Missing IP IDs" button matches your backend assets to blockchain tokens by comparing IPFS metadata URIs. When a match is found, it automatically updates your backend with the IP ID and token number!']})}),a.jsx("div",{className:"mt-4 p-4 bg-green-500/10 border border-green-500/30 rounded",children:a.jsxs("p",{className:"text-green-300 text-sm",children:[a.jsx("strong",{children:" Your Assets:"})," You have ",(e==null?void 0:e.assets.filter(U=>!U.storyIpId).length)||0," asset(s) missing IP IDs. Click the button above to find them automatically!"]})})]}),a.jsxs("div",{className:"mt-6 flex gap-4",children:[a.jsx("a",{href:"/",className:"flex-1 text-center bg-white/10 hover:bg-white/20 px-4 py-2 rounded-lg transition-colors",children:" Back to Home"}),a.jsx("a",{href:Q1.blockExplorerUrls[0],target:"_blank",rel:"noopener noreferrer",className:"flex-1 text-center bg-white/10 hover:bg-white/20 px-4 py-2 rounded-lg transition-colors",children:"Story Explorer "})]})]})})}const Nke=()=>a.jsx(fX,{children:a.jsx(dQ,{children:a.jsx(J0e,{children:a.jsx("div",{className:"relative min-h-screen",children:a.jsxs("div",{className:"content",children:[a.jsx(uG,{}),a.jsx(BG,{}),a.jsxs(sQ,{children:[a.jsx(yr,{path:"/login",element:a.jsx(F1e,{})}),a.jsx(yr,{path:"/",element:a.jsx(WQ,{})}),a.jsx(yr,{path:"/about",element:a.jsx(Q0e,{})}),a.jsx(yr,{path:"/admin",element:a.jsx(V0,{allowedRoles:["admin"],children:a.jsx(E0e,{})})}),a.jsx(yr,{path:"/issuer",element:a.jsx(V0e,{})}),a.jsx(yr,{path:"/manager",element:a.jsx(V0,{allowedRoles:["manager"],children:a.jsx(X1e,{})})}),a.jsx(yr,{path:"/dashboard",element:a.jsx($1e,{})}),a.jsx(yr,{path:"/marketplace",element:a.jsx(zfe,{})}),a.jsx(yr,{path:"/orderbook",element:a.jsx(V0,{allowedRoles:["admin","issuer","manager","user"],children:a.jsx(o2e,{})})}),a.jsx(yr,{path:"/trading/:tokenId",element:a.jsx(V0,{allowedRoles:["admin","issuer","manager","user"],children:a.jsx(c2e,{})})}),a.jsx(yr,{path:"/test-minting",element:a.jsx(oke,{})}),a.jsx(yr,{path:"/license-attachment",element:a.jsx(wke,{})}),a.jsx(yr,{path:"*",element:a.jsx(KQ,{})})]})]})})})})}),TM=iC({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockTime:12e3,rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensUniversalResolver:{address:"0xeeeeeeee14d718c2b47d9923deab1335e144eeee",blockCreated:23085558},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),CM=iC({id:11155111,name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://11155111.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.etherscan.io",apiUrl:"https://api-sepolia.etherscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:751532},ensUniversalResolver:{address:"0xeeeeeeee14d718c2b47d9923deab1335e144eeee",blockCreated:8928790}},testnet:!0}),kke=new y1e,jke=_Ne({chains:[TM,CM],transports:{[TM.id]:NM(),[CM.id]:NM()}});tO(document.getElementById("root")).render(a.jsx(ONe,{config:jke,children:a.jsx(v1e,{client:kke,children:a.jsx(Ife,{children:a.jsx(Nke,{})})})}));export{u8 as $,dje as A,un as B,lje as C,Ng as D,qL as E,Yt as F,Kae as G,ob as H,Gr as I,$l as J,bje as K,Ot as L,yoe as M,PA as N,Wo as O,tb as P,bA as Q,uf as R,gae as S,Lr as T,yp as U,vje as V,rs as W,Zf as X,Yae as Y,ra as Z,et as _,Jr as a,p_ as a0,doe as a1,hje as a2,s8 as a3,es as a4,Ro as a5,Zl as a6,Tje as a7,Cje as a8,kp as a9,mje as aA,Zr as aB,b8 as aC,xje as aD,Fae as aE,Rae as aF,Xe as aG,uje as aH,Vi as aI,Ooe as aa,Xi as ab,Rr as ac,r8 as ad,Zne as ae,kt as af,wr as ag,JP as ah,Bae as ai,$ae as aj,f8 as ak,n8 as al,Aoe as am,Nje as an,Moe as ao,Hr as ap,Aje as aq,Eje as ar,Be as as,Pa as at,jje as au,Sje as av,kje as aw,Lae as ax,fje as ay,Ioe as az,Ag as b,or as c,ot as d,yje as e,tt as f,Ce as g,Yw as h,pje as i,Pu as j,us as k,ie as l,Ve as m,Fs as n,wae as o,jn as p,UN as q,gje as r,t_ as s,Ya as t,BN as u,Uae as v,Kd as w,Ps as x,af as y,Jn as z};
