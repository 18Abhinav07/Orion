var Nee=Object.defineProperty;var ZP=t=>{throw TypeError(t)};var See=(t,e,n)=>e in t?Nee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ke=(t,e,n)=>See(t,typeof e!="symbol"?e+"":e,n),sA=(t,e,n)=>e.has(t)||ZP("Cannot "+n);var X=(t,e,n)=>(sA(t,e,"read from private field"),n?n.call(t):e.get(t)),lt=(t,e,n)=>e.has(t)?ZP("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),He=(t,e,n,r)=>(sA(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Bt=(t,e,n)=>(sA(t,e,"access private method"),n);var Wv=(t,e,n,r)=>({set _(s){He(t,e,s,n)},get _(){return X(t,e,r)}});function Ree(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var PF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Mee(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var jF={exports:{}},V1={},DF={exports:{}},Yt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv=Symbol.for("react.element"),Pee=Symbol.for("react.portal"),jee=Symbol.for("react.fragment"),Dee=Symbol.for("react.strict_mode"),_ee=Symbol.for("react.profiler"),Lee=Symbol.for("react.provider"),Oee=Symbol.for("react.context"),$ee=Symbol.for("react.forward_ref"),Fee=Symbol.for("react.suspense"),Bee=Symbol.for("react.memo"),Uee=Symbol.for("react.lazy"),JP=Symbol.iterator;function zee(t){return t===null||typeof t!="object"?null:(t=JP&&t[JP]||t["@@iterator"],typeof t=="function"?t:null)}var _F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},LF=Object.assign,OF={};function fm(t,e,n){this.props=t,this.context=e,this.refs=OF,this.updater=n||_F}fm.prototype.isReactComponent={};fm.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};fm.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function $F(){}$F.prototype=fm.prototype;function YN(t,e,n){this.props=t,this.context=e,this.refs=OF,this.updater=n||_F}var qN=YN.prototype=new $F;qN.constructor=YN;LF(qN,fm.prototype);qN.isPureReactComponent=!0;var QP=Array.isArray,FF=Object.prototype.hasOwnProperty,XN={current:null},BF={key:!0,ref:!0,__self:!0,__source:!0};function UF(t,e,n){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)FF.call(e,r)&&!BF.hasOwnProperty(r)&&(s[r]=e[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:sv,type:t,key:i,ref:a,props:s,_owner:XN.current}}function Vee(t,e){return{$$typeof:sv,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ZN(t){return typeof t=="object"&&t!==null&&t.$$typeof===sv}function Hee(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ej=/\/+/g;function iA(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Hee(""+t.key):e.toString(36)}function ow(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case sv:case Pee:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+iA(a,0):r,QP(s)?(n="",t!=null&&(n=t.replace(ej,"$&/")+"/"),ow(s,e,n,"",function(u){return u})):s!=null&&(ZN(s)&&(s=Vee(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(ej,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",QP(t))for(var o=0;o<t.length;o++){i=t[o];var l=r+iA(i,o);a+=ow(i,e,n,l,s)}else if(l=zee(t),typeof l=="function")for(t=l.call(t),o=0;!(i=t.next()).done;)i=i.value,l=r+iA(i,o++),a+=ow(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Gv(t,e,n){if(t==null)return t;var r=[],s=0;return ow(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Wee(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ws={current:null},lw={transition:null},Gee={ReactCurrentDispatcher:Ws,ReactCurrentBatchConfig:lw,ReactCurrentOwner:XN};function zF(){throw Error("act(...) is not supported in production builds of React.")}Yt.Children={map:Gv,forEach:function(t,e,n){Gv(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Gv(t,function(){e++}),e},toArray:function(t){return Gv(t,function(e){return e})||[]},only:function(t){if(!ZN(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Yt.Component=fm;Yt.Fragment=jee;Yt.Profiler=_ee;Yt.PureComponent=YN;Yt.StrictMode=Dee;Yt.Suspense=Fee;Yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gee;Yt.act=zF;Yt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=LF({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=XN.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)FF.call(e,l)&&!BF.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:sv,type:t.type,key:s,ref:i,props:r,_owner:a}};Yt.createContext=function(t){return t={$$typeof:Oee,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Lee,_context:t},t.Consumer=t};Yt.createElement=UF;Yt.createFactory=function(t){var e=UF.bind(null,t);return e.type=t,e};Yt.createRef=function(){return{current:null}};Yt.forwardRef=function(t){return{$$typeof:$ee,render:t}};Yt.isValidElement=ZN;Yt.lazy=function(t){return{$$typeof:Uee,_payload:{_status:-1,_result:t},_init:Wee}};Yt.memo=function(t,e){return{$$typeof:Bee,type:t,compare:e===void 0?null:e}};Yt.startTransition=function(t){var e=lw.transition;lw.transition={};try{t()}finally{lw.transition=e}};Yt.unstable_act=zF;Yt.useCallback=function(t,e){return Ws.current.useCallback(t,e)};Yt.useContext=function(t){return Ws.current.useContext(t)};Yt.useDebugValue=function(){};Yt.useDeferredValue=function(t){return Ws.current.useDeferredValue(t)};Yt.useEffect=function(t,e){return Ws.current.useEffect(t,e)};Yt.useId=function(){return Ws.current.useId()};Yt.useImperativeHandle=function(t,e,n){return Ws.current.useImperativeHandle(t,e,n)};Yt.useInsertionEffect=function(t,e){return Ws.current.useInsertionEffect(t,e)};Yt.useLayoutEffect=function(t,e){return Ws.current.useLayoutEffect(t,e)};Yt.useMemo=function(t,e){return Ws.current.useMemo(t,e)};Yt.useReducer=function(t,e,n){return Ws.current.useReducer(t,e,n)};Yt.useRef=function(t){return Ws.current.useRef(t)};Yt.useState=function(t){return Ws.current.useState(t)};Yt.useSyncExternalStore=function(t,e,n){return Ws.current.useSyncExternalStore(t,e,n)};Yt.useTransition=function(){return Ws.current.useTransition()};Yt.version="18.3.1";DF.exports=Yt;var T=DF.exports;const Se=tf(T),VF=Ree({__proto__:null,default:Se},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kee=T,Yee=Symbol.for("react.element"),qee=Symbol.for("react.fragment"),Xee=Object.prototype.hasOwnProperty,Zee=Kee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Jee={key:!0,ref:!0,__self:!0,__source:!0};function HF(t,e,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)Xee.call(e,r)&&!Jee.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Yee,type:t,key:i,ref:a,props:s,_owner:Zee.current}}V1.Fragment=qee;V1.jsx=HF;V1.jsxs=HF;jF.exports=V1;var c=jF.exports,WF={exports:{}},Vi={},GF={exports:{}},KF={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(S,L){var V=S.length;S.push(L);e:for(;0<V;){var F=V-1>>>1,R=S[F];if(0<s(R,L))S[F]=L,S[V]=R,V=F;else break e}}function n(S){return S.length===0?null:S[0]}function r(S){if(S.length===0)return null;var L=S[0],V=S.pop();if(V!==L){S[0]=V;e:for(var F=0,R=S.length,z=R>>>1;F<z;){var Q=2*(F+1)-1,O=S[Q],H=Q+1,Y=S[H];if(0>s(O,V))H<R&&0>s(Y,O)?(S[F]=Y,S[H]=V,F=H):(S[F]=O,S[Q]=V,F=Q);else if(H<R&&0>s(Y,V))S[F]=Y,S[H]=V,F=H;else break e}}return L}function s(S,L){var V=S.sortIndex-L.sortIndex;return V!==0?V:S.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],d=1,p=null,f=3,h=!1,y=!1,m=!1,g=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(S){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=S)r(u),L.sortIndex=L.expirationTime,e(l,L);else break;L=n(u)}}function A(S){if(m=!1,w(S),!y)if(n(l)!==null)y=!0,M(I);else{var L=n(u);L!==null&&P(A,L.startTime-S)}}function I(S,L){y=!1,m&&(m=!1,v(N),N=-1),h=!0;var V=f;try{for(w(L),p=n(l);p!==null&&(!(p.expirationTime>L)||S&&!$());){var F=p.callback;if(typeof F=="function"){p.callback=null,f=p.priorityLevel;var R=F(p.expirationTime<=L);L=t.unstable_now(),typeof R=="function"?p.callback=R:p===n(l)&&r(l),w(L)}else r(l);p=n(l)}if(p!==null)var z=!0;else{var Q=n(u);Q!==null&&P(A,Q.startTime-L),z=!1}return z}finally{p=null,f=V,h=!1}}var C=!1,E=null,N=-1,_=5,U=-1;function $(){return!(t.unstable_now()-U<_)}function B(){if(E!==null){var S=t.unstable_now();U=S;var L=!0;try{L=E(!0,S)}finally{L?j():(C=!1,E=null)}}else C=!1}var j;if(typeof b=="function")j=function(){b(B)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,k=x.port2;x.port1.onmessage=B,j=function(){k.postMessage(null)}}else j=function(){g(B,0)};function M(S){E=S,C||(C=!0,j())}function P(S,L){N=g(function(){S(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(S){S.callback=null},t.unstable_continueExecution=function(){y||h||(y=!0,M(I))},t.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<S?Math.floor(1e3/S):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(S){switch(f){case 1:case 2:case 3:var L=3;break;default:L=f}var V=f;f=L;try{return S()}finally{f=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(S,L){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var V=f;f=S;try{return L()}finally{f=V}},t.unstable_scheduleCallback=function(S,L,V){var F=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?F+V:F):V=F,S){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=V+R,S={id:d++,callback:L,priorityLevel:S,startTime:V,expirationTime:R,sortIndex:-1},V>F?(S.sortIndex=V,e(u,S),n(l)===null&&S===n(u)&&(m?(v(N),N=-1):m=!0,P(A,V-F))):(S.sortIndex=R,e(l,S),y||h||(y=!0,M(I))),S},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(S){var L=f;return function(){var V=f;f=L;try{return S.apply(this,arguments)}finally{f=V}}}})(KF);GF.exports=KF;var Qee=GF.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ete=T,Bi=Qee;function De(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var YF=new Set,Ag={};function nf(t,e){Oh(t,e),Oh(t+"Capture",e)}function Oh(t,e){for(Ag[t]=e,t=0;t<e.length;t++)YF.add(e[t])}var uc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bk=Object.prototype.hasOwnProperty,tte=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,tj={},nj={};function nte(t){return Bk.call(nj,t)?!0:Bk.call(tj,t)?!1:tte.test(t)?nj[t]=!0:(tj[t]=!0,!1)}function rte(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ste(t,e,n,r){if(e===null||typeof e>"u"||rte(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Gs(t,e,n,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var rs={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){rs[t]=new Gs(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];rs[e]=new Gs(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){rs[t]=new Gs(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){rs[t]=new Gs(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){rs[t]=new Gs(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){rs[t]=new Gs(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){rs[t]=new Gs(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){rs[t]=new Gs(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){rs[t]=new Gs(t,5,!1,t.toLowerCase(),null,!1,!1)});var JN=/[\-:]([a-z])/g;function QN(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(JN,QN);rs[e]=new Gs(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(JN,QN);rs[e]=new Gs(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(JN,QN);rs[e]=new Gs(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){rs[t]=new Gs(t,1,!1,t.toLowerCase(),null,!1,!1)});rs.xlinkHref=new Gs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){rs[t]=new Gs(t,1,!1,t.toLowerCase(),null,!0,!0)});function e5(t,e,n,r){var s=rs.hasOwnProperty(e)?rs[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ste(e,n,s,r)&&(n=null),r||s===null?nte(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Sc=ete.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Kv=Symbol.for("react.element"),Ef=Symbol.for("react.portal"),Nf=Symbol.for("react.fragment"),t5=Symbol.for("react.strict_mode"),Uk=Symbol.for("react.profiler"),qF=Symbol.for("react.provider"),XF=Symbol.for("react.context"),n5=Symbol.for("react.forward_ref"),zk=Symbol.for("react.suspense"),Vk=Symbol.for("react.suspense_list"),r5=Symbol.for("react.memo"),eu=Symbol.for("react.lazy"),ZF=Symbol.for("react.offscreen"),rj=Symbol.iterator;function Xm(t){return t===null||typeof t!="object"?null:(t=rj&&t[rj]||t["@@iterator"],typeof t=="function"?t:null)}var Gn=Object.assign,aA;function Ny(t){if(aA===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);aA=e&&e[1]||""}return`
`+aA+t}var oA=!1;function lA(t,e){if(!t||oA)return"";oA=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var l=`
`+s[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{oA=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ny(t):""}function ite(t){switch(t.tag){case 5:return Ny(t.type);case 16:return Ny("Lazy");case 13:return Ny("Suspense");case 19:return Ny("SuspenseList");case 0:case 2:case 15:return t=lA(t.type,!1),t;case 11:return t=lA(t.type.render,!1),t;case 1:return t=lA(t.type,!0),t;default:return""}}function Hk(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Nf:return"Fragment";case Ef:return"Portal";case Uk:return"Profiler";case t5:return"StrictMode";case zk:return"Suspense";case Vk:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case XF:return(t.displayName||"Context")+".Consumer";case qF:return(t._context.displayName||"Context")+".Provider";case n5:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case r5:return e=t.displayName||null,e!==null?e:Hk(t.type)||"Memo";case eu:e=t._payload,t=t._init;try{return Hk(t(e))}catch{}}return null}function ate(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Hk(e);case 8:return e===t5?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Gu(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function JF(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ote(t){var e=JF(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Yv(t){t._valueTracker||(t._valueTracker=ote(t))}function QF(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=JF(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function sx(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Wk(t,e){var n=e.checked;return Gn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function sj(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Gu(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function e9(t,e){e=e.checked,e!=null&&e5(t,"checked",e,!1)}function Gk(t,e){e9(t,e);var n=Gu(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Kk(t,e.type,n):e.hasOwnProperty("defaultValue")&&Kk(t,e.type,Gu(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ij(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Kk(t,e,n){(e!=="number"||sx(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Sy=Array.isArray;function rh(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Gu(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Yk(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(De(91));return Gn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function aj(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(De(92));if(Sy(n)){if(1<n.length)throw Error(De(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Gu(n)}}function t9(t,e){var n=Gu(e.value),r=Gu(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function oj(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function n9(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qk(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?n9(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var qv,r9=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(qv=qv||document.createElement("div"),qv.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=qv.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ig(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Uy={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lte=["Webkit","ms","Moz","O"];Object.keys(Uy).forEach(function(t){lte.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Uy[e]=Uy[t]})});function s9(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Uy.hasOwnProperty(t)&&Uy[t]?(""+e).trim():e+"px"}function i9(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=s9(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var cte=Gn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xk(t,e){if(e){if(cte[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(De(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(De(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(De(61))}if(e.style!=null&&typeof e.style!="object")throw Error(De(62))}}function Zk(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jk=null;function s5(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qk=null,sh=null,ih=null;function lj(t){if(t=ov(t)){if(typeof Qk!="function")throw Error(De(280));var e=t.stateNode;e&&(e=Y1(e),Qk(t.stateNode,t.type,e))}}function a9(t){sh?ih?ih.push(t):ih=[t]:sh=t}function o9(){if(sh){var t=sh,e=ih;if(ih=sh=null,lj(t),e)for(t=0;t<e.length;t++)lj(e[t])}}function l9(t,e){return t(e)}function c9(){}var cA=!1;function u9(t,e,n){if(cA)return t(e,n);cA=!0;try{return l9(t,e,n)}finally{cA=!1,(sh!==null||ih!==null)&&(c9(),o9())}}function kg(t,e){var n=t.stateNode;if(n===null)return null;var r=Y1(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(De(231,e,typeof n));return n}var eC=!1;if(uc)try{var Zm={};Object.defineProperty(Zm,"passive",{get:function(){eC=!0}}),window.addEventListener("test",Zm,Zm),window.removeEventListener("test",Zm,Zm)}catch{eC=!1}function ute(t,e,n,r,s,i,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var zy=!1,ix=null,ax=!1,tC=null,dte={onError:function(t){zy=!0,ix=t}};function pte(t,e,n,r,s,i,a,o,l){zy=!1,ix=null,ute.apply(dte,arguments)}function fte(t,e,n,r,s,i,a,o,l){if(pte.apply(this,arguments),zy){if(zy){var u=ix;zy=!1,ix=null}else throw Error(De(198));ax||(ax=!0,tC=u)}}function rf(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function d9(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function cj(t){if(rf(t)!==t)throw Error(De(188))}function hte(t){var e=t.alternate;if(!e){if(e=rf(t),e===null)throw Error(De(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return cj(s),t;if(i===r)return cj(s),e;i=i.sibling}throw Error(De(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a)throw Error(De(189))}}if(n.alternate!==r)throw Error(De(190))}if(n.tag!==3)throw Error(De(188));return n.stateNode.current===n?t:e}function p9(t){return t=hte(t),t!==null?f9(t):null}function f9(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=f9(t);if(e!==null)return e;t=t.sibling}return null}var h9=Bi.unstable_scheduleCallback,uj=Bi.unstable_cancelCallback,mte=Bi.unstable_shouldYield,yte=Bi.unstable_requestPaint,ir=Bi.unstable_now,gte=Bi.unstable_getCurrentPriorityLevel,i5=Bi.unstable_ImmediatePriority,m9=Bi.unstable_UserBlockingPriority,ox=Bi.unstable_NormalPriority,vte=Bi.unstable_LowPriority,y9=Bi.unstable_IdlePriority,H1=null,zo=null;function bte(t){if(zo&&typeof zo.onCommitFiberRoot=="function")try{zo.onCommitFiberRoot(H1,t,void 0,(t.current.flags&128)===128)}catch{}}var Ja=Math.clz32?Math.clz32:Tte,wte=Math.log,xte=Math.LN2;function Tte(t){return t>>>=0,t===0?32:31-(wte(t)/xte|0)|0}var Xv=64,Zv=4194304;function Ry(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function lx(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~s;o!==0?r=Ry(o):(i&=a,i!==0&&(r=Ry(i)))}else a=n&~s,a!==0?r=Ry(a):i!==0&&(r=Ry(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ja(e),s=1<<n,r|=t[n],e&=~s;return r}function Ate(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ite(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-Ja(i),o=1<<a,l=s[a];l===-1?(!(o&n)||o&r)&&(s[a]=Ate(o,e)):l<=e&&(t.expiredLanes|=o),i&=~o}}function nC(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function g9(){var t=Xv;return Xv<<=1,!(Xv&4194240)&&(Xv=64),t}function uA(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function iv(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ja(e),t[e]=n}function kte(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Ja(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function a5(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ja(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var hn=0;function v9(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var b9,o5,w9,x9,T9,rC=!1,Jv=[],Su=null,Ru=null,Mu=null,Cg=new Map,Eg=new Map,su=[],Cte="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dj(t,e){switch(t){case"focusin":case"focusout":Su=null;break;case"dragenter":case"dragleave":Ru=null;break;case"mouseover":case"mouseout":Mu=null;break;case"pointerover":case"pointerout":Cg.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Eg.delete(e.pointerId)}}function Jm(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ov(e),e!==null&&o5(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Ete(t,e,n,r,s){switch(e){case"focusin":return Su=Jm(Su,t,e,n,r,s),!0;case"dragenter":return Ru=Jm(Ru,t,e,n,r,s),!0;case"mouseover":return Mu=Jm(Mu,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Cg.set(i,Jm(Cg.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Eg.set(i,Jm(Eg.get(i)||null,t,e,n,r,s)),!0}return!1}function A9(t){var e=Wd(t.target);if(e!==null){var n=rf(e);if(n!==null){if(e=n.tag,e===13){if(e=d9(n),e!==null){t.blockedOn=e,T9(t.priority,function(){w9(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function cw(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=sC(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Jk=r,n.target.dispatchEvent(r),Jk=null}else return e=ov(n),e!==null&&o5(e),t.blockedOn=n,!1;e.shift()}return!0}function pj(t,e,n){cw(t)&&n.delete(e)}function Nte(){rC=!1,Su!==null&&cw(Su)&&(Su=null),Ru!==null&&cw(Ru)&&(Ru=null),Mu!==null&&cw(Mu)&&(Mu=null),Cg.forEach(pj),Eg.forEach(pj)}function Qm(t,e){t.blockedOn===e&&(t.blockedOn=null,rC||(rC=!0,Bi.unstable_scheduleCallback(Bi.unstable_NormalPriority,Nte)))}function Ng(t){function e(s){return Qm(s,t)}if(0<Jv.length){Qm(Jv[0],t);for(var n=1;n<Jv.length;n++){var r=Jv[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Su!==null&&Qm(Su,t),Ru!==null&&Qm(Ru,t),Mu!==null&&Qm(Mu,t),Cg.forEach(e),Eg.forEach(e),n=0;n<su.length;n++)r=su[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<su.length&&(n=su[0],n.blockedOn===null);)A9(n),n.blockedOn===null&&su.shift()}var ah=Sc.ReactCurrentBatchConfig,cx=!0;function Ste(t,e,n,r){var s=hn,i=ah.transition;ah.transition=null;try{hn=1,l5(t,e,n,r)}finally{hn=s,ah.transition=i}}function Rte(t,e,n,r){var s=hn,i=ah.transition;ah.transition=null;try{hn=4,l5(t,e,n,r)}finally{hn=s,ah.transition=i}}function l5(t,e,n,r){if(cx){var s=sC(t,e,n,r);if(s===null)wA(t,e,r,ux,n),dj(t,r);else if(Ete(s,t,e,n,r))r.stopPropagation();else if(dj(t,r),e&4&&-1<Cte.indexOf(t)){for(;s!==null;){var i=ov(s);if(i!==null&&b9(i),i=sC(t,e,n,r),i===null&&wA(t,e,r,ux,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else wA(t,e,r,null,n)}}var ux=null;function sC(t,e,n,r){if(ux=null,t=s5(r),t=Wd(t),t!==null)if(e=rf(t),e===null)t=null;else if(n=e.tag,n===13){if(t=d9(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ux=t,null}function I9(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gte()){case i5:return 1;case m9:return 4;case ox:case vte:return 16;case y9:return 536870912;default:return 16}default:return 16}}var vu=null,c5=null,uw=null;function k9(){if(uw)return uw;var t,e=c5,n=e.length,r,s="value"in vu?vu.value:vu.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[i-r];r++);return uw=s.slice(t,1<r?1-r:void 0)}function dw(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Qv(){return!0}function fj(){return!1}function Hi(t){function e(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Qv:fj,this.isPropagationStopped=fj,this}return Gn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Qv)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Qv)},persist:function(){},isPersistent:Qv}),e}var hm={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},u5=Hi(hm),av=Gn({},hm,{view:0,detail:0}),Mte=Hi(av),dA,pA,ey,W1=Gn({},av,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:d5,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ey&&(ey&&t.type==="mousemove"?(dA=t.screenX-ey.screenX,pA=t.screenY-ey.screenY):pA=dA=0,ey=t),dA)},movementY:function(t){return"movementY"in t?t.movementY:pA}}),hj=Hi(W1),Pte=Gn({},W1,{dataTransfer:0}),jte=Hi(Pte),Dte=Gn({},av,{relatedTarget:0}),fA=Hi(Dte),_te=Gn({},hm,{animationName:0,elapsedTime:0,pseudoElement:0}),Lte=Hi(_te),Ote=Gn({},hm,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$te=Hi(Ote),Fte=Gn({},hm,{data:0}),mj=Hi(Fte),Bte={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ute={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zte={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vte(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=zte[t])?!!e[t]:!1}function d5(){return Vte}var Hte=Gn({},av,{key:function(t){if(t.key){var e=Bte[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=dw(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ute[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:d5,charCode:function(t){return t.type==="keypress"?dw(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?dw(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Wte=Hi(Hte),Gte=Gn({},W1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yj=Hi(Gte),Kte=Gn({},av,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:d5}),Yte=Hi(Kte),qte=Gn({},hm,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xte=Hi(qte),Zte=Gn({},W1,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Jte=Hi(Zte),Qte=[9,13,27,32],p5=uc&&"CompositionEvent"in window,Vy=null;uc&&"documentMode"in document&&(Vy=document.documentMode);var ene=uc&&"TextEvent"in window&&!Vy,C9=uc&&(!p5||Vy&&8<Vy&&11>=Vy),gj=" ",vj=!1;function E9(t,e){switch(t){case"keyup":return Qte.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function N9(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Sf=!1;function tne(t,e){switch(t){case"compositionend":return N9(e);case"keypress":return e.which!==32?null:(vj=!0,gj);case"textInput":return t=e.data,t===gj&&vj?null:t;default:return null}}function nne(t,e){if(Sf)return t==="compositionend"||!p5&&E9(t,e)?(t=k9(),uw=c5=vu=null,Sf=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return C9&&e.locale!=="ko"?null:e.data;default:return null}}var rne={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bj(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!rne[t.type]:e==="textarea"}function S9(t,e,n,r){a9(r),e=dx(e,"onChange"),0<e.length&&(n=new u5("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Hy=null,Sg=null;function sne(t){B9(t,0)}function G1(t){var e=Pf(t);if(QF(e))return t}function ine(t,e){if(t==="change")return e}var R9=!1;if(uc){var hA;if(uc){var mA="oninput"in document;if(!mA){var wj=document.createElement("div");wj.setAttribute("oninput","return;"),mA=typeof wj.oninput=="function"}hA=mA}else hA=!1;R9=hA&&(!document.documentMode||9<document.documentMode)}function xj(){Hy&&(Hy.detachEvent("onpropertychange",M9),Sg=Hy=null)}function M9(t){if(t.propertyName==="value"&&G1(Sg)){var e=[];S9(e,Sg,t,s5(t)),u9(sne,e)}}function ane(t,e,n){t==="focusin"?(xj(),Hy=e,Sg=n,Hy.attachEvent("onpropertychange",M9)):t==="focusout"&&xj()}function one(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return G1(Sg)}function lne(t,e){if(t==="click")return G1(e)}function cne(t,e){if(t==="input"||t==="change")return G1(e)}function une(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ro=typeof Object.is=="function"?Object.is:une;function Rg(t,e){if(ro(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Bk.call(e,s)||!ro(t[s],e[s]))return!1}return!0}function Tj(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Aj(t,e){var n=Tj(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Tj(n)}}function P9(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?P9(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function j9(){for(var t=window,e=sx();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=sx(t.document)}return e}function f5(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function dne(t){var e=j9(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&P9(n.ownerDocument.documentElement,n)){if(r!==null&&f5(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Aj(n,i);var a=Aj(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var pne=uc&&"documentMode"in document&&11>=document.documentMode,Rf=null,iC=null,Wy=null,aC=!1;function Ij(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;aC||Rf==null||Rf!==sx(r)||(r=Rf,"selectionStart"in r&&f5(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Wy&&Rg(Wy,r)||(Wy=r,r=dx(iC,"onSelect"),0<r.length&&(e=new u5("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Rf)))}function eb(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Mf={animationend:eb("Animation","AnimationEnd"),animationiteration:eb("Animation","AnimationIteration"),animationstart:eb("Animation","AnimationStart"),transitionend:eb("Transition","TransitionEnd")},yA={},D9={};uc&&(D9=document.createElement("div").style,"AnimationEvent"in window||(delete Mf.animationend.animation,delete Mf.animationiteration.animation,delete Mf.animationstart.animation),"TransitionEvent"in window||delete Mf.transitionend.transition);function K1(t){if(yA[t])return yA[t];if(!Mf[t])return t;var e=Mf[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in D9)return yA[t]=e[n];return t}var _9=K1("animationend"),L9=K1("animationiteration"),O9=K1("animationstart"),$9=K1("transitionend"),F9=new Map,kj="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cd(t,e){F9.set(t,e),nf(e,[t])}for(var gA=0;gA<kj.length;gA++){var vA=kj[gA],fne=vA.toLowerCase(),hne=vA[0].toUpperCase()+vA.slice(1);cd(fne,"on"+hne)}cd(_9,"onAnimationEnd");cd(L9,"onAnimationIteration");cd(O9,"onAnimationStart");cd("dblclick","onDoubleClick");cd("focusin","onFocus");cd("focusout","onBlur");cd($9,"onTransitionEnd");Oh("onMouseEnter",["mouseout","mouseover"]);Oh("onMouseLeave",["mouseout","mouseover"]);Oh("onPointerEnter",["pointerout","pointerover"]);Oh("onPointerLeave",["pointerout","pointerover"]);nf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));nf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));nf("onBeforeInput",["compositionend","keypress","textInput","paste"]);nf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));nf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));nf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var My="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mne=new Set("cancel close invalid load scroll toggle".split(" ").concat(My));function Cj(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,fte(r,e,void 0,t),t.currentTarget=null}function B9(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;Cj(s,o,u),i=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;Cj(s,o,u),i=l}}}if(ax)throw t=tC,ax=!1,tC=null,t}function In(t,e){var n=e[dC];n===void 0&&(n=e[dC]=new Set);var r=t+"__bubble";n.has(r)||(U9(e,t,2,!1),n.add(r))}function bA(t,e,n){var r=0;e&&(r|=4),U9(n,t,r,e)}var tb="_reactListening"+Math.random().toString(36).slice(2);function Mg(t){if(!t[tb]){t[tb]=!0,YF.forEach(function(n){n!=="selectionchange"&&(mne.has(n)||bA(n,!1,t),bA(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[tb]||(e[tb]=!0,bA("selectionchange",!1,e))}}function U9(t,e,n,r){switch(I9(e)){case 1:var s=Ste;break;case 4:s=Rte;break;default:s=l5}n=s.bind(null,e,n,t),s=void 0,!eC||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function wA(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;o!==null;){if(a=Wd(o),a===null)return;if(l=a.tag,l===5||l===6){r=i=a;continue e}o=o.parentNode}}r=r.return}u9(function(){var u=i,d=s5(n),p=[];e:{var f=F9.get(t);if(f!==void 0){var h=u5,y=t;switch(t){case"keypress":if(dw(n)===0)break e;case"keydown":case"keyup":h=Wte;break;case"focusin":y="focus",h=fA;break;case"focusout":y="blur",h=fA;break;case"beforeblur":case"afterblur":h=fA;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=hj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=jte;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Yte;break;case _9:case L9:case O9:h=Lte;break;case $9:h=Xte;break;case"scroll":h=Mte;break;case"wheel":h=Jte;break;case"copy":case"cut":case"paste":h=$te;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=yj}var m=(e&4)!==0,g=!m&&t==="scroll",v=m?f!==null?f+"Capture":null:f;m=[];for(var b=u,w;b!==null;){w=b;var A=w.stateNode;if(w.tag===5&&A!==null&&(w=A,v!==null&&(A=kg(b,v),A!=null&&m.push(Pg(b,A,w)))),g)break;b=b.return}0<m.length&&(f=new h(f,y,null,n,d),p.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&n!==Jk&&(y=n.relatedTarget||n.fromElement)&&(Wd(y)||y[dc]))break e;if((h||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,h?(y=n.relatedTarget||n.toElement,h=u,y=y?Wd(y):null,y!==null&&(g=rf(y),y!==g||y.tag!==5&&y.tag!==6)&&(y=null)):(h=null,y=u),h!==y)){if(m=hj,A="onMouseLeave",v="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(m=yj,A="onPointerLeave",v="onPointerEnter",b="pointer"),g=h==null?f:Pf(h),w=y==null?f:Pf(y),f=new m(A,b+"leave",h,n,d),f.target=g,f.relatedTarget=w,A=null,Wd(d)===u&&(m=new m(v,b+"enter",y,n,d),m.target=w,m.relatedTarget=g,A=m),g=A,h&&y)t:{for(m=h,v=y,b=0,w=m;w;w=ff(w))b++;for(w=0,A=v;A;A=ff(A))w++;for(;0<b-w;)m=ff(m),b--;for(;0<w-b;)v=ff(v),w--;for(;b--;){if(m===v||v!==null&&m===v.alternate)break t;m=ff(m),v=ff(v)}m=null}else m=null;h!==null&&Ej(p,f,h,m,!1),y!==null&&g!==null&&Ej(p,g,y,m,!0)}}e:{if(f=u?Pf(u):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var I=ine;else if(bj(f))if(R9)I=cne;else{I=one;var C=ane}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(I=lne);if(I&&(I=I(t,u))){S9(p,I,n,d);break e}C&&C(t,f,u),t==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&Kk(f,"number",f.value)}switch(C=u?Pf(u):window,t){case"focusin":(bj(C)||C.contentEditable==="true")&&(Rf=C,iC=u,Wy=null);break;case"focusout":Wy=iC=Rf=null;break;case"mousedown":aC=!0;break;case"contextmenu":case"mouseup":case"dragend":aC=!1,Ij(p,n,d);break;case"selectionchange":if(pne)break;case"keydown":case"keyup":Ij(p,n,d)}var E;if(p5)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Sf?E9(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(C9&&n.locale!=="ko"&&(Sf||N!=="onCompositionStart"?N==="onCompositionEnd"&&Sf&&(E=k9()):(vu=d,c5="value"in vu?vu.value:vu.textContent,Sf=!0)),C=dx(u,N),0<C.length&&(N=new mj(N,t,null,n,d),p.push({event:N,listeners:C}),E?N.data=E:(E=N9(n),E!==null&&(N.data=E)))),(E=ene?tne(t,n):nne(t,n))&&(u=dx(u,"onBeforeInput"),0<u.length&&(d=new mj("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:u}),d.data=E))}B9(p,e)})}function Pg(t,e,n){return{instance:t,listener:e,currentTarget:n}}function dx(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=kg(t,n),i!=null&&r.unshift(Pg(t,i,s)),i=kg(t,e),i!=null&&r.push(Pg(t,i,s))),t=t.return}return r}function ff(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ej(t,e,n,r,s){for(var i=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,s?(l=kg(n,i),l!=null&&a.unshift(Pg(n,l,o))):s||(l=kg(n,i),l!=null&&a.push(Pg(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var yne=/\r\n?/g,gne=/\u0000|\uFFFD/g;function Nj(t){return(typeof t=="string"?t:""+t).replace(yne,`
`).replace(gne,"")}function nb(t,e,n){if(e=Nj(e),Nj(t)!==e&&n)throw Error(De(425))}function px(){}var oC=null,lC=null;function cC(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var uC=typeof setTimeout=="function"?setTimeout:void 0,vne=typeof clearTimeout=="function"?clearTimeout:void 0,Sj=typeof Promise=="function"?Promise:void 0,bne=typeof queueMicrotask=="function"?queueMicrotask:typeof Sj<"u"?function(t){return Sj.resolve(null).then(t).catch(wne)}:uC;function wne(t){setTimeout(function(){throw t})}function xA(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ng(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ng(e)}function Pu(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Rj(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var mm=Math.random().toString(36).slice(2),Lo="__reactFiber$"+mm,jg="__reactProps$"+mm,dc="__reactContainer$"+mm,dC="__reactEvents$"+mm,xne="__reactListeners$"+mm,Tne="__reactHandles$"+mm;function Wd(t){var e=t[Lo];if(e)return e;for(var n=t.parentNode;n;){if(e=n[dc]||n[Lo]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Rj(t);t!==null;){if(n=t[Lo])return n;t=Rj(t)}return e}t=n,n=t.parentNode}return null}function ov(t){return t=t[Lo]||t[dc],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Pf(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(De(33))}function Y1(t){return t[jg]||null}var pC=[],jf=-1;function ud(t){return{current:t}}function En(t){0>jf||(t.current=pC[jf],pC[jf]=null,jf--)}function xn(t,e){jf++,pC[jf]=t.current,t.current=e}var Ku={},Cs=ud(Ku),ui=ud(!1),Np=Ku;function $h(t,e){var n=t.type.contextTypes;if(!n)return Ku;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function di(t){return t=t.childContextTypes,t!=null}function fx(){En(ui),En(Cs)}function Mj(t,e,n){if(Cs.current!==Ku)throw Error(De(168));xn(Cs,e),xn(ui,n)}function z9(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(De(108,ate(t)||"Unknown",s));return Gn({},n,r)}function hx(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ku,Np=Cs.current,xn(Cs,t),xn(ui,ui.current),!0}function Pj(t,e,n){var r=t.stateNode;if(!r)throw Error(De(169));n?(t=z9(t,e,Np),r.__reactInternalMemoizedMergedChildContext=t,En(ui),En(Cs),xn(Cs,t)):En(ui),xn(ui,n)}var Dl=null,q1=!1,TA=!1;function V9(t){Dl===null?Dl=[t]:Dl.push(t)}function Ane(t){q1=!0,V9(t)}function dd(){if(!TA&&Dl!==null){TA=!0;var t=0,e=hn;try{var n=Dl;for(hn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Dl=null,q1=!1}catch(s){throw Dl!==null&&(Dl=Dl.slice(t+1)),h9(i5,dd),s}finally{hn=e,TA=!1}}return null}var Df=[],_f=0,mx=null,yx=0,oa=[],la=0,Sp=null,Wl=1,Gl="";function Md(t,e){Df[_f++]=yx,Df[_f++]=mx,mx=t,yx=e}function H9(t,e,n){oa[la++]=Wl,oa[la++]=Gl,oa[la++]=Sp,Sp=t;var r=Wl;t=Gl;var s=32-Ja(r)-1;r&=~(1<<s),n+=1;var i=32-Ja(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Wl=1<<32-Ja(e)+s|n<<s|r,Gl=i+t}else Wl=1<<i|n<<s|r,Gl=t}function h5(t){t.return!==null&&(Md(t,1),H9(t,1,0))}function m5(t){for(;t===mx;)mx=Df[--_f],Df[_f]=null,yx=Df[--_f],Df[_f]=null;for(;t===Sp;)Sp=oa[--la],oa[la]=null,Gl=oa[--la],oa[la]=null,Wl=oa[--la],oa[la]=null}var Oi=null,Di=null,Dn=!1,za=null;function W9(t,e){var n=ua(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function jj(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Oi=t,Di=Pu(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Oi=t,Di=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Sp!==null?{id:Wl,overflow:Gl}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ua(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Oi=t,Di=null,!0):!1;default:return!1}}function fC(t){return(t.mode&1)!==0&&(t.flags&128)===0}function hC(t){if(Dn){var e=Di;if(e){var n=e;if(!jj(t,e)){if(fC(t))throw Error(De(418));e=Pu(n.nextSibling);var r=Oi;e&&jj(t,e)?W9(r,n):(t.flags=t.flags&-4097|2,Dn=!1,Oi=t)}}else{if(fC(t))throw Error(De(418));t.flags=t.flags&-4097|2,Dn=!1,Oi=t}}}function Dj(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Oi=t}function rb(t){if(t!==Oi)return!1;if(!Dn)return Dj(t),Dn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!cC(t.type,t.memoizedProps)),e&&(e=Di)){if(fC(t))throw G9(),Error(De(418));for(;e;)W9(t,e),e=Pu(e.nextSibling)}if(Dj(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(De(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Di=Pu(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Di=null}}else Di=Oi?Pu(t.stateNode.nextSibling):null;return!0}function G9(){for(var t=Di;t;)t=Pu(t.nextSibling)}function Fh(){Di=Oi=null,Dn=!1}function y5(t){za===null?za=[t]:za.push(t)}var Ine=Sc.ReactCurrentBatchConfig;function ty(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(De(309));var r=n.stateNode}if(!r)throw Error(De(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(De(284));if(!n._owner)throw Error(De(290,t))}return t}function sb(t,e){throw t=Object.prototype.toString.call(e),Error(De(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function _j(t){var e=t._init;return e(t._payload)}function K9(t){function e(v,b){if(t){var w=v.deletions;w===null?(v.deletions=[b],v.flags|=16):w.push(b)}}function n(v,b){if(!t)return null;for(;b!==null;)e(v,b),b=b.sibling;return null}function r(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function s(v,b){return v=Lu(v,b),v.index=0,v.sibling=null,v}function i(v,b,w){return v.index=w,t?(w=v.alternate,w!==null?(w=w.index,w<b?(v.flags|=2,b):w):(v.flags|=2,b)):(v.flags|=1048576,b)}function a(v){return t&&v.alternate===null&&(v.flags|=2),v}function o(v,b,w,A){return b===null||b.tag!==6?(b=SA(w,v.mode,A),b.return=v,b):(b=s(b,w),b.return=v,b)}function l(v,b,w,A){var I=w.type;return I===Nf?d(v,b,w.props.children,A,w.key):b!==null&&(b.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===eu&&_j(I)===b.type)?(A=s(b,w.props),A.ref=ty(v,b,w),A.return=v,A):(A=vw(w.type,w.key,w.props,null,v.mode,A),A.ref=ty(v,b,w),A.return=v,A)}function u(v,b,w,A){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=RA(w,v.mode,A),b.return=v,b):(b=s(b,w.children||[]),b.return=v,b)}function d(v,b,w,A,I){return b===null||b.tag!==7?(b=yp(w,v.mode,A,I),b.return=v,b):(b=s(b,w),b.return=v,b)}function p(v,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=SA(""+b,v.mode,w),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Kv:return w=vw(b.type,b.key,b.props,null,v.mode,w),w.ref=ty(v,null,b),w.return=v,w;case Ef:return b=RA(b,v.mode,w),b.return=v,b;case eu:var A=b._init;return p(v,A(b._payload),w)}if(Sy(b)||Xm(b))return b=yp(b,v.mode,w,null),b.return=v,b;sb(v,b)}return null}function f(v,b,w,A){var I=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return I!==null?null:o(v,b,""+w,A);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Kv:return w.key===I?l(v,b,w,A):null;case Ef:return w.key===I?u(v,b,w,A):null;case eu:return I=w._init,f(v,b,I(w._payload),A)}if(Sy(w)||Xm(w))return I!==null?null:d(v,b,w,A,null);sb(v,w)}return null}function h(v,b,w,A,I){if(typeof A=="string"&&A!==""||typeof A=="number")return v=v.get(w)||null,o(b,v,""+A,I);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Kv:return v=v.get(A.key===null?w:A.key)||null,l(b,v,A,I);case Ef:return v=v.get(A.key===null?w:A.key)||null,u(b,v,A,I);case eu:var C=A._init;return h(v,b,w,C(A._payload),I)}if(Sy(A)||Xm(A))return v=v.get(w)||null,d(b,v,A,I,null);sb(b,A)}return null}function y(v,b,w,A){for(var I=null,C=null,E=b,N=b=0,_=null;E!==null&&N<w.length;N++){E.index>N?(_=E,E=null):_=E.sibling;var U=f(v,E,w[N],A);if(U===null){E===null&&(E=_);break}t&&E&&U.alternate===null&&e(v,E),b=i(U,b,N),C===null?I=U:C.sibling=U,C=U,E=_}if(N===w.length)return n(v,E),Dn&&Md(v,N),I;if(E===null){for(;N<w.length;N++)E=p(v,w[N],A),E!==null&&(b=i(E,b,N),C===null?I=E:C.sibling=E,C=E);return Dn&&Md(v,N),I}for(E=r(v,E);N<w.length;N++)_=h(E,v,N,w[N],A),_!==null&&(t&&_.alternate!==null&&E.delete(_.key===null?N:_.key),b=i(_,b,N),C===null?I=_:C.sibling=_,C=_);return t&&E.forEach(function($){return e(v,$)}),Dn&&Md(v,N),I}function m(v,b,w,A){var I=Xm(w);if(typeof I!="function")throw Error(De(150));if(w=I.call(w),w==null)throw Error(De(151));for(var C=I=null,E=b,N=b=0,_=null,U=w.next();E!==null&&!U.done;N++,U=w.next()){E.index>N?(_=E,E=null):_=E.sibling;var $=f(v,E,U.value,A);if($===null){E===null&&(E=_);break}t&&E&&$.alternate===null&&e(v,E),b=i($,b,N),C===null?I=$:C.sibling=$,C=$,E=_}if(U.done)return n(v,E),Dn&&Md(v,N),I;if(E===null){for(;!U.done;N++,U=w.next())U=p(v,U.value,A),U!==null&&(b=i(U,b,N),C===null?I=U:C.sibling=U,C=U);return Dn&&Md(v,N),I}for(E=r(v,E);!U.done;N++,U=w.next())U=h(E,v,N,U.value,A),U!==null&&(t&&U.alternate!==null&&E.delete(U.key===null?N:U.key),b=i(U,b,N),C===null?I=U:C.sibling=U,C=U);return t&&E.forEach(function(B){return e(v,B)}),Dn&&Md(v,N),I}function g(v,b,w,A){if(typeof w=="object"&&w!==null&&w.type===Nf&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Kv:e:{for(var I=w.key,C=b;C!==null;){if(C.key===I){if(I=w.type,I===Nf){if(C.tag===7){n(v,C.sibling),b=s(C,w.props.children),b.return=v,v=b;break e}}else if(C.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===eu&&_j(I)===C.type){n(v,C.sibling),b=s(C,w.props),b.ref=ty(v,C,w),b.return=v,v=b;break e}n(v,C);break}else e(v,C);C=C.sibling}w.type===Nf?(b=yp(w.props.children,v.mode,A,w.key),b.return=v,v=b):(A=vw(w.type,w.key,w.props,null,v.mode,A),A.ref=ty(v,b,w),A.return=v,v=A)}return a(v);case Ef:e:{for(C=w.key;b!==null;){if(b.key===C)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(v,b.sibling),b=s(b,w.children||[]),b.return=v,v=b;break e}else{n(v,b);break}else e(v,b);b=b.sibling}b=RA(w,v.mode,A),b.return=v,v=b}return a(v);case eu:return C=w._init,g(v,b,C(w._payload),A)}if(Sy(w))return y(v,b,w,A);if(Xm(w))return m(v,b,w,A);sb(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(n(v,b.sibling),b=s(b,w),b.return=v,v=b):(n(v,b),b=SA(w,v.mode,A),b.return=v,v=b),a(v)):n(v,b)}return g}var Bh=K9(!0),Y9=K9(!1),gx=ud(null),vx=null,Lf=null,g5=null;function v5(){g5=Lf=vx=null}function b5(t){var e=gx.current;En(gx),t._currentValue=e}function mC(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function oh(t,e){vx=t,g5=Lf=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ai=!0),t.firstContext=null)}function ma(t){var e=t._currentValue;if(g5!==t)if(t={context:t,memoizedValue:e,next:null},Lf===null){if(vx===null)throw Error(De(308));Lf=t,vx.dependencies={lanes:0,firstContext:t}}else Lf=Lf.next=t;return e}var Gd=null;function w5(t){Gd===null?Gd=[t]:Gd.push(t)}function q9(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,w5(e)):(n.next=s.next,s.next=n),e.interleaved=n,pc(t,r)}function pc(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var tu=!1;function x5(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function X9(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Jl(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ju(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,an&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,pc(t,n)}return s=r.interleaved,s===null?(e.next=e,w5(r)):(e.next=s.next,s.next=e),r.interleaved=e,pc(t,n)}function pw(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,a5(t,n)}}function Lj(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function bx(t,e,n,r){var s=t.updateQueue;tu=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?i=u:a.next=u,a=l;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(i!==null){var p=s.baseState;a=0,d=u=l=null,o=i;do{var f=o.lane,h=o.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=t,m=o;switch(f=e,h=n,m.tag){case 1:if(y=m.payload,typeof y=="function"){p=y.call(h,p,f);break e}p=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=m.payload,f=typeof y=="function"?y.call(h,p,f):y,f==null)break e;p=Gn({},p,f);break e;case 2:tu=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[o]:f.push(o))}else h={eventTime:h,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=h,l=p):d=d.next=h,a|=f;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;f=o,o=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=p),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Mp|=a,t.lanes=a,t.memoizedState=p}}function Oj(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(De(191,s));s.call(r)}}}var lv={},Vo=ud(lv),Dg=ud(lv),_g=ud(lv);function Kd(t){if(t===lv)throw Error(De(174));return t}function T5(t,e){switch(xn(_g,e),xn(Dg,t),xn(Vo,lv),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:qk(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=qk(e,t)}En(Vo),xn(Vo,e)}function Uh(){En(Vo),En(Dg),En(_g)}function Z9(t){Kd(_g.current);var e=Kd(Vo.current),n=qk(e,t.type);e!==n&&(xn(Dg,t),xn(Vo,n))}function A5(t){Dg.current===t&&(En(Vo),En(Dg))}var Un=ud(0);function wx(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var AA=[];function I5(){for(var t=0;t<AA.length;t++)AA[t]._workInProgressVersionPrimary=null;AA.length=0}var fw=Sc.ReactCurrentDispatcher,IA=Sc.ReactCurrentBatchConfig,Rp=0,Hn=null,Ir=null,$r=null,xx=!1,Gy=!1,Lg=0,kne=0;function as(){throw Error(De(321))}function k5(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ro(t[n],e[n]))return!1;return!0}function C5(t,e,n,r,s,i){if(Rp=i,Hn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,fw.current=t===null||t.memoizedState===null?Sne:Rne,t=n(r,s),Gy){i=0;do{if(Gy=!1,Lg=0,25<=i)throw Error(De(301));i+=1,$r=Ir=null,e.updateQueue=null,fw.current=Mne,t=n(r,s)}while(Gy)}if(fw.current=Tx,e=Ir!==null&&Ir.next!==null,Rp=0,$r=Ir=Hn=null,xx=!1,e)throw Error(De(300));return t}function E5(){var t=Lg!==0;return Lg=0,t}function Co(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $r===null?Hn.memoizedState=$r=t:$r=$r.next=t,$r}function ya(){if(Ir===null){var t=Hn.alternate;t=t!==null?t.memoizedState:null}else t=Ir.next;var e=$r===null?Hn.memoizedState:$r.next;if(e!==null)$r=e,Ir=t;else{if(t===null)throw Error(De(310));Ir=t,t={memoizedState:Ir.memoizedState,baseState:Ir.baseState,baseQueue:Ir.baseQueue,queue:Ir.queue,next:null},$r===null?Hn.memoizedState=$r=t:$r=$r.next=t}return $r}function Og(t,e){return typeof e=="function"?e(t):e}function kA(t){var e=ya(),n=e.queue;if(n===null)throw Error(De(311));n.lastRenderedReducer=t;var r=Ir,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var o=a=null,l=null,u=i;do{var d=u.lane;if((Rp&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=p,a=r):l=l.next=p,Hn.lanes|=d,Mp|=d}u=u.next}while(u!==null&&u!==i);l===null?a=r:l.next=o,ro(r,e.memoizedState)||(ai=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Hn.lanes|=i,Mp|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function CA(t){var e=ya(),n=e.queue;if(n===null)throw Error(De(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);ro(i,e.memoizedState)||(ai=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function J9(){}function Q9(t,e){var n=Hn,r=ya(),s=e(),i=!ro(r.memoizedState,s);if(i&&(r.memoizedState=s,ai=!0),r=r.queue,N5(nB.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||$r!==null&&$r.memoizedState.tag&1){if(n.flags|=2048,$g(9,tB.bind(null,n,r,s,e),void 0,null),Vr===null)throw Error(De(349));Rp&30||eB(n,e,s)}return s}function eB(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Hn.updateQueue,e===null?(e={lastEffect:null,stores:null},Hn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function tB(t,e,n,r){e.value=n,e.getSnapshot=r,rB(e)&&sB(t)}function nB(t,e,n){return n(function(){rB(e)&&sB(t)})}function rB(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ro(t,n)}catch{return!0}}function sB(t){var e=pc(t,1);e!==null&&Qa(e,t,1,-1)}function $j(t){var e=Co();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Og,lastRenderedState:t},e.queue=t,t=t.dispatch=Nne.bind(null,Hn,t),[e.memoizedState,t]}function $g(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Hn.updateQueue,e===null?(e={lastEffect:null,stores:null},Hn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function iB(){return ya().memoizedState}function hw(t,e,n,r){var s=Co();Hn.flags|=t,s.memoizedState=$g(1|e,n,void 0,r===void 0?null:r)}function X1(t,e,n,r){var s=ya();r=r===void 0?null:r;var i=void 0;if(Ir!==null){var a=Ir.memoizedState;if(i=a.destroy,r!==null&&k5(r,a.deps)){s.memoizedState=$g(e,n,i,r);return}}Hn.flags|=t,s.memoizedState=$g(1|e,n,i,r)}function Fj(t,e){return hw(8390656,8,t,e)}function N5(t,e){return X1(2048,8,t,e)}function aB(t,e){return X1(4,2,t,e)}function oB(t,e){return X1(4,4,t,e)}function lB(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function cB(t,e,n){return n=n!=null?n.concat([t]):null,X1(4,4,lB.bind(null,e,t),n)}function S5(){}function uB(t,e){var n=ya();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&k5(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function dB(t,e){var n=ya();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&k5(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function pB(t,e,n){return Rp&21?(ro(n,e)||(n=g9(),Hn.lanes|=n,Mp|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ai=!0),t.memoizedState=n)}function Cne(t,e){var n=hn;hn=n!==0&&4>n?n:4,t(!0);var r=IA.transition;IA.transition={};try{t(!1),e()}finally{hn=n,IA.transition=r}}function fB(){return ya().memoizedState}function Ene(t,e,n){var r=_u(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},hB(t))mB(e,n);else if(n=q9(t,e,n,r),n!==null){var s=Us();Qa(n,t,r,s),yB(n,e,r)}}function Nne(t,e,n){var r=_u(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(hB(t))mB(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,o=i(a,n);if(s.hasEagerState=!0,s.eagerState=o,ro(o,a)){var l=e.interleaved;l===null?(s.next=s,w5(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=q9(t,e,s,r),n!==null&&(s=Us(),Qa(n,t,r,s),yB(n,e,r))}}function hB(t){var e=t.alternate;return t===Hn||e!==null&&e===Hn}function mB(t,e){Gy=xx=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function yB(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,a5(t,n)}}var Tx={readContext:ma,useCallback:as,useContext:as,useEffect:as,useImperativeHandle:as,useInsertionEffect:as,useLayoutEffect:as,useMemo:as,useReducer:as,useRef:as,useState:as,useDebugValue:as,useDeferredValue:as,useTransition:as,useMutableSource:as,useSyncExternalStore:as,useId:as,unstable_isNewReconciler:!1},Sne={readContext:ma,useCallback:function(t,e){return Co().memoizedState=[t,e===void 0?null:e],t},useContext:ma,useEffect:Fj,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,hw(4194308,4,lB.bind(null,e,t),n)},useLayoutEffect:function(t,e){return hw(4194308,4,t,e)},useInsertionEffect:function(t,e){return hw(4,2,t,e)},useMemo:function(t,e){var n=Co();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Co();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Ene.bind(null,Hn,t),[r.memoizedState,t]},useRef:function(t){var e=Co();return t={current:t},e.memoizedState=t},useState:$j,useDebugValue:S5,useDeferredValue:function(t){return Co().memoizedState=t},useTransition:function(){var t=$j(!1),e=t[0];return t=Cne.bind(null,t[1]),Co().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Hn,s=Co();if(Dn){if(n===void 0)throw Error(De(407));n=n()}else{if(n=e(),Vr===null)throw Error(De(349));Rp&30||eB(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Fj(nB.bind(null,r,i,t),[t]),r.flags|=2048,$g(9,tB.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Co(),e=Vr.identifierPrefix;if(Dn){var n=Gl,r=Wl;n=(r&~(1<<32-Ja(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Lg++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=kne++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Rne={readContext:ma,useCallback:uB,useContext:ma,useEffect:N5,useImperativeHandle:cB,useInsertionEffect:aB,useLayoutEffect:oB,useMemo:dB,useReducer:kA,useRef:iB,useState:function(){return kA(Og)},useDebugValue:S5,useDeferredValue:function(t){var e=ya();return pB(e,Ir.memoizedState,t)},useTransition:function(){var t=kA(Og)[0],e=ya().memoizedState;return[t,e]},useMutableSource:J9,useSyncExternalStore:Q9,useId:fB,unstable_isNewReconciler:!1},Mne={readContext:ma,useCallback:uB,useContext:ma,useEffect:N5,useImperativeHandle:cB,useInsertionEffect:aB,useLayoutEffect:oB,useMemo:dB,useReducer:CA,useRef:iB,useState:function(){return CA(Og)},useDebugValue:S5,useDeferredValue:function(t){var e=ya();return Ir===null?e.memoizedState=t:pB(e,Ir.memoizedState,t)},useTransition:function(){var t=CA(Og)[0],e=ya().memoizedState;return[t,e]},useMutableSource:J9,useSyncExternalStore:Q9,useId:fB,unstable_isNewReconciler:!1};function Da(t,e){if(t&&t.defaultProps){e=Gn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function yC(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Gn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Z1={isMounted:function(t){return(t=t._reactInternals)?rf(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Us(),s=_u(t),i=Jl(r,s);i.payload=e,n!=null&&(i.callback=n),e=ju(t,i,s),e!==null&&(Qa(e,t,s,r),pw(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Us(),s=_u(t),i=Jl(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ju(t,i,s),e!==null&&(Qa(e,t,s,r),pw(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Us(),r=_u(t),s=Jl(n,r);s.tag=2,e!=null&&(s.callback=e),e=ju(t,s,r),e!==null&&(Qa(e,t,r,n),pw(e,t,r))}};function Bj(t,e,n,r,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!Rg(n,r)||!Rg(s,i):!0}function gB(t,e,n){var r=!1,s=Ku,i=e.contextType;return typeof i=="object"&&i!==null?i=ma(i):(s=di(e)?Np:Cs.current,r=e.contextTypes,i=(r=r!=null)?$h(t,s):Ku),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Z1,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Uj(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Z1.enqueueReplaceState(e,e.state,null)}function gC(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},x5(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=ma(i):(i=di(e)?Np:Cs.current,s.context=$h(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(yC(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Z1.enqueueReplaceState(s,s.state,null),bx(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function zh(t,e){try{var n="",r=e;do n+=ite(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function EA(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function vC(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Pne=typeof WeakMap=="function"?WeakMap:Map;function vB(t,e,n){n=Jl(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ix||(Ix=!0,NC=r),vC(t,e)},n}function bB(t,e,n){n=Jl(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){vC(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){vC(t,e),typeof r!="function"&&(Du===null?Du=new Set([this]):Du.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function zj(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Pne;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Gne.bind(null,t,e,n),e.then(t,t))}function Vj(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Hj(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Jl(-1,1),e.tag=2,ju(n,e,1))),n.lanes|=1),t)}var jne=Sc.ReactCurrentOwner,ai=!1;function Rs(t,e,n,r){e.child=t===null?Y9(e,null,n,r):Bh(e,t.child,n,r)}function Wj(t,e,n,r,s){n=n.render;var i=e.ref;return oh(e,s),r=C5(t,e,n,r,i,s),n=E5(),t!==null&&!ai?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,fc(t,e,s)):(Dn&&n&&h5(e),e.flags|=1,Rs(t,e,r,s),e.child)}function Gj(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!O5(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,wB(t,e,i,r,s)):(t=vw(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Rg,n(a,r)&&t.ref===e.ref)return fc(t,e,s)}return e.flags|=1,t=Lu(i,r),t.ref=e.ref,t.return=e,e.child=t}function wB(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Rg(i,r)&&t.ref===e.ref)if(ai=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(ai=!0);else return e.lanes=t.lanes,fc(t,e,s)}return bC(t,e,n,r,s)}function xB(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},xn($f,ki),ki|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,xn($f,ki),ki|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,xn($f,ki),ki|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,xn($f,ki),ki|=r;return Rs(t,e,s,n),e.child}function TB(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function bC(t,e,n,r,s){var i=di(n)?Np:Cs.current;return i=$h(e,i),oh(e,s),n=C5(t,e,n,r,i,s),r=E5(),t!==null&&!ai?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,fc(t,e,s)):(Dn&&r&&h5(e),e.flags|=1,Rs(t,e,n,s),e.child)}function Kj(t,e,n,r,s){if(di(n)){var i=!0;hx(e)}else i=!1;if(oh(e,s),e.stateNode===null)mw(t,e),gB(e,n,r),gC(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=ma(u):(u=di(n)?Np:Cs.current,u=$h(e,u));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==u)&&Uj(e,a,r,u),tu=!1;var f=e.memoizedState;a.state=f,bx(e,r,a,s),l=e.memoizedState,o!==r||f!==l||ui.current||tu?(typeof d=="function"&&(yC(e,n,d,r),l=e.memoizedState),(o=tu||Bj(e,n,o,r,f,l,u))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,X9(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:Da(e.type,o),a.props=u,p=e.pendingProps,f=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=ma(l):(l=di(n)?Np:Cs.current,l=$h(e,l));var h=n.getDerivedStateFromProps;(d=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==p||f!==l)&&Uj(e,a,r,l),tu=!1,f=e.memoizedState,a.state=f,bx(e,r,a,s);var y=e.memoizedState;o!==p||f!==y||ui.current||tu?(typeof h=="function"&&(yC(e,n,h,r),y=e.memoizedState),(u=tu||Bj(e,n,u,r,f,y,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,y,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,y,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),a.props=r,a.state=y,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return wC(t,e,n,r,i,s)}function wC(t,e,n,r,s,i){TB(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&Pj(e,n,!1),fc(t,e,i);r=e.stateNode,jne.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Bh(e,t.child,null,i),e.child=Bh(e,null,o,i)):Rs(t,e,o,i),e.memoizedState=r.state,s&&Pj(e,n,!0),e.child}function AB(t){var e=t.stateNode;e.pendingContext?Mj(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Mj(t,e.context,!1),T5(t,e.containerInfo)}function Yj(t,e,n,r,s){return Fh(),y5(s),e.flags|=256,Rs(t,e,n,r),e.child}var xC={dehydrated:null,treeContext:null,retryLane:0};function TC(t){return{baseLanes:t,cachePool:null,transitions:null}}function IB(t,e,n){var r=e.pendingProps,s=Un.current,i=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(s&2)!==0),o?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),xn(Un,s&1),t===null)return hC(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=eT(a,r,0,null),t=yp(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=TC(n),e.memoizedState=xC,t):R5(e,a));if(s=t.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return Dne(t,e,a,r,o,s,n);if(i){i=r.fallback,a=e.mode,s=t.child,o=s.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Lu(s,l),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Lu(o,i):(i=yp(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?TC(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=xC,r}return i=t.child,t=i.sibling,r=Lu(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function R5(t,e){return e=eT({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ib(t,e,n,r){return r!==null&&y5(r),Bh(e,t.child,null,n),t=R5(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Dne(t,e,n,r,s,i,a){if(n)return e.flags&256?(e.flags&=-257,r=EA(Error(De(422))),ib(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=eT({mode:"visible",children:r.children},s,0,null),i=yp(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Bh(e,t.child,null,a),e.child.memoizedState=TC(a),e.memoizedState=xC,i);if(!(e.mode&1))return ib(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(De(419)),r=EA(i,r,void 0),ib(t,e,a,r)}if(o=(a&t.childLanes)!==0,ai||o){if(r=Vr,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,pc(t,s),Qa(r,t,s,-1))}return L5(),r=EA(Error(De(421))),ib(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Kne.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Di=Pu(s.nextSibling),Oi=e,Dn=!0,za=null,t!==null&&(oa[la++]=Wl,oa[la++]=Gl,oa[la++]=Sp,Wl=t.id,Gl=t.overflow,Sp=e),e=R5(e,r.children),e.flags|=4096,e)}function qj(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),mC(t.return,e,n)}function NA(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function kB(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Rs(t,e,r.children,n),r=Un.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&qj(t,n,e);else if(t.tag===19)qj(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(xn(Un,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&wx(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),NA(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&wx(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}NA(e,!0,n,null,i);break;case"together":NA(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function mw(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function fc(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Mp|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(De(153));if(e.child!==null){for(t=e.child,n=Lu(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Lu(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function _ne(t,e,n){switch(e.tag){case 3:AB(e),Fh();break;case 5:Z9(e);break;case 1:di(e.type)&&hx(e);break;case 4:T5(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;xn(gx,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(xn(Un,Un.current&1),e.flags|=128,null):n&e.child.childLanes?IB(t,e,n):(xn(Un,Un.current&1),t=fc(t,e,n),t!==null?t.sibling:null);xn(Un,Un.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return kB(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),xn(Un,Un.current),r)break;return null;case 22:case 23:return e.lanes=0,xB(t,e,n)}return fc(t,e,n)}var CB,AC,EB,NB;CB=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};AC=function(){};EB=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Kd(Vo.current);var i=null;switch(n){case"input":s=Wk(t,s),r=Wk(t,r),i=[];break;case"select":s=Gn({},s,{value:void 0}),r=Gn({},r,{value:void 0}),i=[];break;case"textarea":s=Yk(t,s),r=Yk(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=px)}Xk(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ag.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(o=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ag.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&In("scroll",t),i||o===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};NB=function(t,e,n,r){n!==r&&(e.flags|=4)};function ny(t,e){if(!Dn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function os(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Lne(t,e,n){var r=e.pendingProps;switch(m5(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return os(e),null;case 1:return di(e.type)&&fx(),os(e),null;case 3:return r=e.stateNode,Uh(),En(ui),En(Cs),I5(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(rb(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,za!==null&&(MC(za),za=null))),AC(t,e),os(e),null;case 5:A5(e);var s=Kd(_g.current);if(n=e.type,t!==null&&e.stateNode!=null)EB(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(De(166));return os(e),null}if(t=Kd(Vo.current),rb(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Lo]=e,r[jg]=i,t=(e.mode&1)!==0,n){case"dialog":In("cancel",r),In("close",r);break;case"iframe":case"object":case"embed":In("load",r);break;case"video":case"audio":for(s=0;s<My.length;s++)In(My[s],r);break;case"source":In("error",r);break;case"img":case"image":case"link":In("error",r),In("load",r);break;case"details":In("toggle",r);break;case"input":sj(r,i),In("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},In("invalid",r);break;case"textarea":aj(r,i),In("invalid",r)}Xk(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&nb(r.textContent,o,t),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&nb(r.textContent,o,t),s=["children",""+o]):Ag.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&In("scroll",r)}switch(n){case"input":Yv(r),ij(r,i,!0);break;case"textarea":Yv(r),oj(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=px)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=n9(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Lo]=e,t[jg]=r,CB(t,e,!1,!1),e.stateNode=t;e:{switch(a=Zk(n,r),n){case"dialog":In("cancel",t),In("close",t),s=r;break;case"iframe":case"object":case"embed":In("load",t),s=r;break;case"video":case"audio":for(s=0;s<My.length;s++)In(My[s],t);s=r;break;case"source":In("error",t),s=r;break;case"img":case"image":case"link":In("error",t),In("load",t),s=r;break;case"details":In("toggle",t),s=r;break;case"input":sj(t,r),s=Wk(t,r),In("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Gn({},r,{value:void 0}),In("invalid",t);break;case"textarea":aj(t,r),s=Yk(t,r),In("invalid",t);break;default:s=r}Xk(n,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?i9(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&r9(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ig(t,l):typeof l=="number"&&Ig(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ag.hasOwnProperty(i)?l!=null&&i==="onScroll"&&In("scroll",t):l!=null&&e5(t,i,l,a))}switch(n){case"input":Yv(t),ij(t,r,!1);break;case"textarea":Yv(t),oj(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Gu(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?rh(t,!!r.multiple,i,!1):r.defaultValue!=null&&rh(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=px)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return os(e),null;case 6:if(t&&e.stateNode!=null)NB(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(De(166));if(n=Kd(_g.current),Kd(Vo.current),rb(e)){if(r=e.stateNode,n=e.memoizedProps,r[Lo]=e,(i=r.nodeValue!==n)&&(t=Oi,t!==null))switch(t.tag){case 3:nb(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&nb(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Lo]=e,e.stateNode=r}return os(e),null;case 13:if(En(Un),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Dn&&Di!==null&&e.mode&1&&!(e.flags&128))G9(),Fh(),e.flags|=98560,i=!1;else if(i=rb(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(De(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(De(317));i[Lo]=e}else Fh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;os(e),i=!1}else za!==null&&(MC(za),za=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Un.current&1?Sr===0&&(Sr=3):L5())),e.updateQueue!==null&&(e.flags|=4),os(e),null);case 4:return Uh(),AC(t,e),t===null&&Mg(e.stateNode.containerInfo),os(e),null;case 10:return b5(e.type._context),os(e),null;case 17:return di(e.type)&&fx(),os(e),null;case 19:if(En(Un),i=e.memoizedState,i===null)return os(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)ny(i,!1);else{if(Sr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=wx(t),a!==null){for(e.flags|=128,ny(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return xn(Un,Un.current&1|2),e.child}t=t.sibling}i.tail!==null&&ir()>Vh&&(e.flags|=128,r=!0,ny(i,!1),e.lanes=4194304)}else{if(!r)if(t=wx(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ny(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Dn)return os(e),null}else 2*ir()-i.renderingStartTime>Vh&&n!==1073741824&&(e.flags|=128,r=!0,ny(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ir(),e.sibling=null,n=Un.current,xn(Un,r?n&1|2:n&1),e):(os(e),null);case 22:case 23:return _5(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ki&1073741824&&(os(e),e.subtreeFlags&6&&(e.flags|=8192)):os(e),null;case 24:return null;case 25:return null}throw Error(De(156,e.tag))}function One(t,e){switch(m5(e),e.tag){case 1:return di(e.type)&&fx(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Uh(),En(ui),En(Cs),I5(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return A5(e),null;case 13:if(En(Un),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(De(340));Fh()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return En(Un),null;case 4:return Uh(),null;case 10:return b5(e.type._context),null;case 22:case 23:return _5(),null;case 24:return null;default:return null}}var ab=!1,hs=!1,$ne=typeof WeakSet=="function"?WeakSet:Set,qe=null;function Of(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Jn(t,e,r)}else n.current=null}function IC(t,e,n){try{n()}catch(r){Jn(t,e,r)}}var Xj=!1;function Fne(t,e){if(oC=cx,t=j9(),f5(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,u=0,d=0,p=t,f=null;t:for(;;){for(var h;p!==n||s!==0&&p.nodeType!==3||(o=a+s),p!==i||r!==0&&p.nodeType!==3||(l=a+r),p.nodeType===3&&(a+=p.nodeValue.length),(h=p.firstChild)!==null;)f=p,p=h;for(;;){if(p===t)break t;if(f===n&&++u===s&&(o=a),f===i&&++d===r&&(l=a),(h=p.nextSibling)!==null)break;p=f,f=p.parentNode}p=h}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(lC={focusedElem:t,selectionRange:n},cx=!1,qe=e;qe!==null;)if(e=qe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,qe=t;else for(;qe!==null;){e=qe;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var m=y.memoizedProps,g=y.memoizedState,v=e.stateNode,b=v.getSnapshotBeforeUpdate(e.elementType===e.type?m:Da(e.type,m),g);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(De(163))}}catch(A){Jn(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,qe=t;break}qe=e.return}return y=Xj,Xj=!1,y}function Ky(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&IC(e,n,i)}s=s.next}while(s!==r)}}function J1(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function kC(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function SB(t){var e=t.alternate;e!==null&&(t.alternate=null,SB(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Lo],delete e[jg],delete e[dC],delete e[xne],delete e[Tne])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function RB(t){return t.tag===5||t.tag===3||t.tag===4}function Zj(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||RB(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function CC(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=px));else if(r!==4&&(t=t.child,t!==null))for(CC(t,e,n),t=t.sibling;t!==null;)CC(t,e,n),t=t.sibling}function EC(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(EC(t,e,n),t=t.sibling;t!==null;)EC(t,e,n),t=t.sibling}var Yr=null,Ua=!1;function Bc(t,e,n){for(n=n.child;n!==null;)MB(t,e,n),n=n.sibling}function MB(t,e,n){if(zo&&typeof zo.onCommitFiberUnmount=="function")try{zo.onCommitFiberUnmount(H1,n)}catch{}switch(n.tag){case 5:hs||Of(n,e);case 6:var r=Yr,s=Ua;Yr=null,Bc(t,e,n),Yr=r,Ua=s,Yr!==null&&(Ua?(t=Yr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Yr.removeChild(n.stateNode));break;case 18:Yr!==null&&(Ua?(t=Yr,n=n.stateNode,t.nodeType===8?xA(t.parentNode,n):t.nodeType===1&&xA(t,n),Ng(t)):xA(Yr,n.stateNode));break;case 4:r=Yr,s=Ua,Yr=n.stateNode.containerInfo,Ua=!0,Bc(t,e,n),Yr=r,Ua=s;break;case 0:case 11:case 14:case 15:if(!hs&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&IC(n,e,a),s=s.next}while(s!==r)}Bc(t,e,n);break;case 1:if(!hs&&(Of(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Jn(n,e,o)}Bc(t,e,n);break;case 21:Bc(t,e,n);break;case 22:n.mode&1?(hs=(r=hs)||n.memoizedState!==null,Bc(t,e,n),hs=r):Bc(t,e,n);break;default:Bc(t,e,n)}}function Jj(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new $ne),e.forEach(function(r){var s=Yne.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ia(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Yr=o.stateNode,Ua=!1;break e;case 3:Yr=o.stateNode.containerInfo,Ua=!0;break e;case 4:Yr=o.stateNode.containerInfo,Ua=!0;break e}o=o.return}if(Yr===null)throw Error(De(160));MB(i,a,s),Yr=null,Ua=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Jn(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)PB(e,t),e=e.sibling}function PB(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ia(e,t),bo(t),r&4){try{Ky(3,t,t.return),J1(3,t)}catch(m){Jn(t,t.return,m)}try{Ky(5,t,t.return)}catch(m){Jn(t,t.return,m)}}break;case 1:Ia(e,t),bo(t),r&512&&n!==null&&Of(n,n.return);break;case 5:if(Ia(e,t),bo(t),r&512&&n!==null&&Of(n,n.return),t.flags&32){var s=t.stateNode;try{Ig(s,"")}catch(m){Jn(t,t.return,m)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&e9(s,i),Zk(o,a);var u=Zk(o,i);for(a=0;a<l.length;a+=2){var d=l[a],p=l[a+1];d==="style"?i9(s,p):d==="dangerouslySetInnerHTML"?r9(s,p):d==="children"?Ig(s,p):e5(s,d,p,u)}switch(o){case"input":Gk(s,i);break;case"textarea":t9(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?rh(s,!!i.multiple,h,!1):f!==!!i.multiple&&(i.defaultValue!=null?rh(s,!!i.multiple,i.defaultValue,!0):rh(s,!!i.multiple,i.multiple?[]:"",!1))}s[jg]=i}catch(m){Jn(t,t.return,m)}}break;case 6:if(Ia(e,t),bo(t),r&4){if(t.stateNode===null)throw Error(De(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(m){Jn(t,t.return,m)}}break;case 3:if(Ia(e,t),bo(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ng(e.containerInfo)}catch(m){Jn(t,t.return,m)}break;case 4:Ia(e,t),bo(t);break;case 13:Ia(e,t),bo(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(j5=ir())),r&4&&Jj(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(hs=(u=hs)||d,Ia(e,t),hs=u):Ia(e,t),bo(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(qe=t,d=t.child;d!==null;){for(p=qe=d;qe!==null;){switch(f=qe,h=f.child,f.tag){case 0:case 11:case 14:case 15:Ky(4,f,f.return);break;case 1:Of(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(m){Jn(r,n,m)}}break;case 5:Of(f,f.return);break;case 22:if(f.memoizedState!==null){e3(p);continue}}h!==null?(h.return=f,qe=h):e3(p)}d=d.sibling}e:for(d=null,p=t;;){if(p.tag===5){if(d===null){d=p;try{s=p.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=p.stateNode,l=p.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=s9("display",a))}catch(m){Jn(t,t.return,m)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(m){Jn(t,t.return,m)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Ia(e,t),bo(t),r&4&&Jj(t);break;case 21:break;default:Ia(e,t),bo(t)}}function bo(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(RB(n)){var r=n;break e}n=n.return}throw Error(De(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ig(s,""),r.flags&=-33);var i=Zj(t);EC(t,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,o=Zj(t);CC(t,o,a);break;default:throw Error(De(161))}}catch(l){Jn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Bne(t,e,n){qe=t,jB(t)}function jB(t,e,n){for(var r=(t.mode&1)!==0;qe!==null;){var s=qe,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||ab;if(!a){var o=s.alternate,l=o!==null&&o.memoizedState!==null||hs;o=ab;var u=hs;if(ab=a,(hs=l)&&!u)for(qe=s;qe!==null;)a=qe,l=a.child,a.tag===22&&a.memoizedState!==null?t3(s):l!==null?(l.return=a,qe=l):t3(s);for(;i!==null;)qe=i,jB(i),i=i.sibling;qe=s,ab=o,hs=u}Qj(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,qe=i):Qj(t)}}function Qj(t){for(;qe!==null;){var e=qe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:hs||J1(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!hs)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Da(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Oj(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Oj(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&Ng(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(De(163))}hs||e.flags&512&&kC(e)}catch(f){Jn(e,e.return,f)}}if(e===t){qe=null;break}if(n=e.sibling,n!==null){n.return=e.return,qe=n;break}qe=e.return}}function e3(t){for(;qe!==null;){var e=qe;if(e===t){qe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,qe=n;break}qe=e.return}}function t3(t){for(;qe!==null;){var e=qe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{J1(4,e)}catch(l){Jn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Jn(e,s,l)}}var i=e.return;try{kC(e)}catch(l){Jn(e,i,l)}break;case 5:var a=e.return;try{kC(e)}catch(l){Jn(e,a,l)}}}catch(l){Jn(e,e.return,l)}if(e===t){qe=null;break}var o=e.sibling;if(o!==null){o.return=e.return,qe=o;break}qe=e.return}}var Une=Math.ceil,Ax=Sc.ReactCurrentDispatcher,M5=Sc.ReactCurrentOwner,fa=Sc.ReactCurrentBatchConfig,an=0,Vr=null,yr=null,ns=0,ki=0,$f=ud(0),Sr=0,Fg=null,Mp=0,Q1=0,P5=0,Yy=null,ri=null,j5=0,Vh=1/0,Rl=null,Ix=!1,NC=null,Du=null,ob=!1,bu=null,kx=0,qy=0,SC=null,yw=-1,gw=0;function Us(){return an&6?ir():yw!==-1?yw:yw=ir()}function _u(t){return t.mode&1?an&2&&ns!==0?ns&-ns:Ine.transition!==null?(gw===0&&(gw=g9()),gw):(t=hn,t!==0||(t=window.event,t=t===void 0?16:I9(t.type)),t):1}function Qa(t,e,n,r){if(50<qy)throw qy=0,SC=null,Error(De(185));iv(t,n,r),(!(an&2)||t!==Vr)&&(t===Vr&&(!(an&2)&&(Q1|=n),Sr===4&&iu(t,ns)),pi(t,r),n===1&&an===0&&!(e.mode&1)&&(Vh=ir()+500,q1&&dd()))}function pi(t,e){var n=t.callbackNode;Ite(t,e);var r=lx(t,t===Vr?ns:0);if(r===0)n!==null&&uj(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&uj(n),e===1)t.tag===0?Ane(n3.bind(null,t)):V9(n3.bind(null,t)),bne(function(){!(an&6)&&dd()}),n=null;else{switch(v9(r)){case 1:n=i5;break;case 4:n=m9;break;case 16:n=ox;break;case 536870912:n=y9;break;default:n=ox}n=UB(n,DB.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function DB(t,e){if(yw=-1,gw=0,an&6)throw Error(De(327));var n=t.callbackNode;if(lh()&&t.callbackNode!==n)return null;var r=lx(t,t===Vr?ns:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Cx(t,r);else{e=r;var s=an;an|=2;var i=LB();(Vr!==t||ns!==e)&&(Rl=null,Vh=ir()+500,mp(t,e));do try{Hne();break}catch(o){_B(t,o)}while(!0);v5(),Ax.current=i,an=s,yr!==null?e=0:(Vr=null,ns=0,e=Sr)}if(e!==0){if(e===2&&(s=nC(t),s!==0&&(r=s,e=RC(t,s))),e===1)throw n=Fg,mp(t,0),iu(t,r),pi(t,ir()),n;if(e===6)iu(t,r);else{if(s=t.current.alternate,!(r&30)&&!zne(s)&&(e=Cx(t,r),e===2&&(i=nC(t),i!==0&&(r=i,e=RC(t,i))),e===1))throw n=Fg,mp(t,0),iu(t,r),pi(t,ir()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(De(345));case 2:Pd(t,ri,Rl);break;case 3:if(iu(t,r),(r&130023424)===r&&(e=j5+500-ir(),10<e)){if(lx(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Us(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=uC(Pd.bind(null,t,ri,Rl),e);break}Pd(t,ri,Rl);break;case 4:if(iu(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-Ja(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=ir()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Une(r/1960))-r,10<r){t.timeoutHandle=uC(Pd.bind(null,t,ri,Rl),r);break}Pd(t,ri,Rl);break;case 5:Pd(t,ri,Rl);break;default:throw Error(De(329))}}}return pi(t,ir()),t.callbackNode===n?DB.bind(null,t):null}function RC(t,e){var n=Yy;return t.current.memoizedState.isDehydrated&&(mp(t,e).flags|=256),t=Cx(t,e),t!==2&&(e=ri,ri=n,e!==null&&MC(e)),t}function MC(t){ri===null?ri=t:ri.push.apply(ri,t)}function zne(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ro(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function iu(t,e){for(e&=~P5,e&=~Q1,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ja(e),r=1<<n;t[n]=-1,e&=~r}}function n3(t){if(an&6)throw Error(De(327));lh();var e=lx(t,0);if(!(e&1))return pi(t,ir()),null;var n=Cx(t,e);if(t.tag!==0&&n===2){var r=nC(t);r!==0&&(e=r,n=RC(t,r))}if(n===1)throw n=Fg,mp(t,0),iu(t,e),pi(t,ir()),n;if(n===6)throw Error(De(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Pd(t,ri,Rl),pi(t,ir()),null}function D5(t,e){var n=an;an|=1;try{return t(e)}finally{an=n,an===0&&(Vh=ir()+500,q1&&dd())}}function Pp(t){bu!==null&&bu.tag===0&&!(an&6)&&lh();var e=an;an|=1;var n=fa.transition,r=hn;try{if(fa.transition=null,hn=1,t)return t()}finally{hn=r,fa.transition=n,an=e,!(an&6)&&dd()}}function _5(){ki=$f.current,En($f)}function mp(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,vne(n)),yr!==null)for(n=yr.return;n!==null;){var r=n;switch(m5(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&fx();break;case 3:Uh(),En(ui),En(Cs),I5();break;case 5:A5(r);break;case 4:Uh();break;case 13:En(Un);break;case 19:En(Un);break;case 10:b5(r.type._context);break;case 22:case 23:_5()}n=n.return}if(Vr=t,yr=t=Lu(t.current,null),ns=ki=e,Sr=0,Fg=null,P5=Q1=Mp=0,ri=Yy=null,Gd!==null){for(e=0;e<Gd.length;e++)if(n=Gd[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}Gd=null}return t}function _B(t,e){do{var n=yr;try{if(v5(),fw.current=Tx,xx){for(var r=Hn.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}xx=!1}if(Rp=0,$r=Ir=Hn=null,Gy=!1,Lg=0,M5.current=null,n===null||n.return===null){Sr=1,Fg=e,yr=null;break}e:{var i=t,a=n.return,o=n,l=e;if(e=ns,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=o,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=Vj(a);if(h!==null){h.flags&=-257,Hj(h,a,o,i,e),h.mode&1&&zj(i,u,e),e=h,l=u;var y=e.updateQueue;if(y===null){var m=new Set;m.add(l),e.updateQueue=m}else y.add(l);break e}else{if(!(e&1)){zj(i,u,e),L5();break e}l=Error(De(426))}}else if(Dn&&o.mode&1){var g=Vj(a);if(g!==null){!(g.flags&65536)&&(g.flags|=256),Hj(g,a,o,i,e),y5(zh(l,o));break e}}i=l=zh(l,o),Sr!==4&&(Sr=2),Yy===null?Yy=[i]:Yy.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=vB(i,l,e);Lj(i,v);break e;case 1:o=l;var b=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Du===null||!Du.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var A=bB(i,o,e);Lj(i,A);break e}}i=i.return}while(i!==null)}$B(n)}catch(I){e=I,yr===n&&n!==null&&(yr=n=n.return);continue}break}while(!0)}function LB(){var t=Ax.current;return Ax.current=Tx,t===null?Tx:t}function L5(){(Sr===0||Sr===3||Sr===2)&&(Sr=4),Vr===null||!(Mp&268435455)&&!(Q1&268435455)||iu(Vr,ns)}function Cx(t,e){var n=an;an|=2;var r=LB();(Vr!==t||ns!==e)&&(Rl=null,mp(t,e));do try{Vne();break}catch(s){_B(t,s)}while(!0);if(v5(),an=n,Ax.current=r,yr!==null)throw Error(De(261));return Vr=null,ns=0,Sr}function Vne(){for(;yr!==null;)OB(yr)}function Hne(){for(;yr!==null&&!mte();)OB(yr)}function OB(t){var e=BB(t.alternate,t,ki);t.memoizedProps=t.pendingProps,e===null?$B(t):yr=e,M5.current=null}function $B(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=One(n,e),n!==null){n.flags&=32767,yr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Sr=6,yr=null;return}}else if(n=Lne(n,e,ki),n!==null){yr=n;return}if(e=e.sibling,e!==null){yr=e;return}yr=e=t}while(e!==null);Sr===0&&(Sr=5)}function Pd(t,e,n){var r=hn,s=fa.transition;try{fa.transition=null,hn=1,Wne(t,e,n,r)}finally{fa.transition=s,hn=r}return null}function Wne(t,e,n,r){do lh();while(bu!==null);if(an&6)throw Error(De(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(De(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(kte(t,i),t===Vr&&(yr=Vr=null,ns=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ob||(ob=!0,UB(ox,function(){return lh(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=fa.transition,fa.transition=null;var a=hn;hn=1;var o=an;an|=4,M5.current=null,Fne(t,n),PB(n,t),dne(lC),cx=!!oC,lC=oC=null,t.current=n,Bne(n),yte(),an=o,hn=a,fa.transition=i}else t.current=n;if(ob&&(ob=!1,bu=t,kx=s),i=t.pendingLanes,i===0&&(Du=null),bte(n.stateNode),pi(t,ir()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ix)throw Ix=!1,t=NC,NC=null,t;return kx&1&&t.tag!==0&&lh(),i=t.pendingLanes,i&1?t===SC?qy++:(qy=0,SC=t):qy=0,dd(),null}function lh(){if(bu!==null){var t=v9(kx),e=fa.transition,n=hn;try{if(fa.transition=null,hn=16>t?16:t,bu===null)var r=!1;else{if(t=bu,bu=null,kx=0,an&6)throw Error(De(331));var s=an;for(an|=4,qe=t.current;qe!==null;){var i=qe,a=i.child;if(qe.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(qe=u;qe!==null;){var d=qe;switch(d.tag){case 0:case 11:case 15:Ky(8,d,i)}var p=d.child;if(p!==null)p.return=d,qe=p;else for(;qe!==null;){d=qe;var f=d.sibling,h=d.return;if(SB(d),d===u){qe=null;break}if(f!==null){f.return=h,qe=f;break}qe=h}}}var y=i.alternate;if(y!==null){var m=y.child;if(m!==null){y.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(m!==null)}}qe=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,qe=a;else e:for(;qe!==null;){if(i=qe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ky(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,qe=v;break e}qe=i.return}}var b=t.current;for(qe=b;qe!==null;){a=qe;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,qe=w;else e:for(a=b;qe!==null;){if(o=qe,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:J1(9,o)}}catch(I){Jn(o,o.return,I)}if(o===a){qe=null;break e}var A=o.sibling;if(A!==null){A.return=o.return,qe=A;break e}qe=o.return}}if(an=s,dd(),zo&&typeof zo.onPostCommitFiberRoot=="function")try{zo.onPostCommitFiberRoot(H1,t)}catch{}r=!0}return r}finally{hn=n,fa.transition=e}}return!1}function r3(t,e,n){e=zh(n,e),e=vB(t,e,1),t=ju(t,e,1),e=Us(),t!==null&&(iv(t,1,e),pi(t,e))}function Jn(t,e,n){if(t.tag===3)r3(t,t,n);else for(;e!==null;){if(e.tag===3){r3(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Du===null||!Du.has(r))){t=zh(n,t),t=bB(e,t,1),e=ju(e,t,1),t=Us(),e!==null&&(iv(e,1,t),pi(e,t));break}}e=e.return}}function Gne(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Us(),t.pingedLanes|=t.suspendedLanes&n,Vr===t&&(ns&n)===n&&(Sr===4||Sr===3&&(ns&130023424)===ns&&500>ir()-j5?mp(t,0):P5|=n),pi(t,e)}function FB(t,e){e===0&&(t.mode&1?(e=Zv,Zv<<=1,!(Zv&130023424)&&(Zv=4194304)):e=1);var n=Us();t=pc(t,e),t!==null&&(iv(t,e,n),pi(t,n))}function Kne(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),FB(t,n)}function Yne(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(De(314))}r!==null&&r.delete(e),FB(t,n)}var BB;BB=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ui.current)ai=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ai=!1,_ne(t,e,n);ai=!!(t.flags&131072)}else ai=!1,Dn&&e.flags&1048576&&H9(e,yx,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;mw(t,e),t=e.pendingProps;var s=$h(e,Cs.current);oh(e,n),s=C5(null,e,r,t,s,n);var i=E5();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,di(r)?(i=!0,hx(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,x5(e),s.updater=Z1,e.stateNode=s,s._reactInternals=e,gC(e,r,t,n),e=wC(null,e,r,!0,i,n)):(e.tag=0,Dn&&i&&h5(e),Rs(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(mw(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Xne(r),t=Da(r,t),s){case 0:e=bC(null,e,r,t,n);break e;case 1:e=Kj(null,e,r,t,n);break e;case 11:e=Wj(null,e,r,t,n);break e;case 14:e=Gj(null,e,r,Da(r.type,t),n);break e}throw Error(De(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Da(r,s),bC(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Da(r,s),Kj(t,e,r,s,n);case 3:e:{if(AB(e),t===null)throw Error(De(387));r=e.pendingProps,i=e.memoizedState,s=i.element,X9(t,e),bx(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=zh(Error(De(423)),e),e=Yj(t,e,r,n,s);break e}else if(r!==s){s=zh(Error(De(424)),e),e=Yj(t,e,r,n,s);break e}else for(Di=Pu(e.stateNode.containerInfo.firstChild),Oi=e,Dn=!0,za=null,n=Y9(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fh(),r===s){e=fc(t,e,n);break e}Rs(t,e,r,n)}e=e.child}return e;case 5:return Z9(e),t===null&&hC(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,cC(r,s)?a=null:i!==null&&cC(r,i)&&(e.flags|=32),TB(t,e),Rs(t,e,a,n),e.child;case 6:return t===null&&hC(e),null;case 13:return IB(t,e,n);case 4:return T5(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Bh(e,null,r,n):Rs(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Da(r,s),Wj(t,e,r,s,n);case 7:return Rs(t,e,e.pendingProps,n),e.child;case 8:return Rs(t,e,e.pendingProps.children,n),e.child;case 12:return Rs(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,xn(gx,r._currentValue),r._currentValue=a,i!==null)if(ro(i.value,a)){if(i.children===s.children&&!ui.current){e=fc(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Jl(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),mC(i.return,n,e),o.lanes|=n;break}l=l.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(De(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),mC(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Rs(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,oh(e,n),s=ma(s),r=r(s),e.flags|=1,Rs(t,e,r,n),e.child;case 14:return r=e.type,s=Da(r,e.pendingProps),s=Da(r.type,s),Gj(t,e,r,s,n);case 15:return wB(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Da(r,s),mw(t,e),e.tag=1,di(r)?(t=!0,hx(e)):t=!1,oh(e,n),gB(e,r,s),gC(e,r,s,n),wC(null,e,r,!0,t,n);case 19:return kB(t,e,n);case 22:return xB(t,e,n)}throw Error(De(156,e.tag))};function UB(t,e){return h9(t,e)}function qne(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ua(t,e,n,r){return new qne(t,e,n,r)}function O5(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Xne(t){if(typeof t=="function")return O5(t)?1:0;if(t!=null){if(t=t.$$typeof,t===n5)return 11;if(t===r5)return 14}return 2}function Lu(t,e){var n=t.alternate;return n===null?(n=ua(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function vw(t,e,n,r,s,i){var a=2;if(r=t,typeof t=="function")O5(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Nf:return yp(n.children,s,i,e);case t5:a=8,s|=8;break;case Uk:return t=ua(12,n,e,s|2),t.elementType=Uk,t.lanes=i,t;case zk:return t=ua(13,n,e,s),t.elementType=zk,t.lanes=i,t;case Vk:return t=ua(19,n,e,s),t.elementType=Vk,t.lanes=i,t;case ZF:return eT(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case qF:a=10;break e;case XF:a=9;break e;case n5:a=11;break e;case r5:a=14;break e;case eu:a=16,r=null;break e}throw Error(De(130,t==null?t:typeof t,""))}return e=ua(a,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function yp(t,e,n,r){return t=ua(7,t,r,e),t.lanes=n,t}function eT(t,e,n,r){return t=ua(22,t,r,e),t.elementType=ZF,t.lanes=n,t.stateNode={isHidden:!1},t}function SA(t,e,n){return t=ua(6,t,null,e),t.lanes=n,t}function RA(t,e,n){return e=ua(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Zne(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=uA(0),this.expirationTimes=uA(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uA(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function $5(t,e,n,r,s,i,a,o,l){return t=new Zne(t,e,n,o,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=ua(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},x5(i),t}function Jne(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ef,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function zB(t){if(!t)return Ku;t=t._reactInternals;e:{if(rf(t)!==t||t.tag!==1)throw Error(De(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(di(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(De(171))}if(t.tag===1){var n=t.type;if(di(n))return z9(t,n,e)}return e}function VB(t,e,n,r,s,i,a,o,l){return t=$5(n,r,!0,t,s,i,a,o,l),t.context=zB(null),n=t.current,r=Us(),s=_u(n),i=Jl(r,s),i.callback=e??null,ju(n,i,s),t.current.lanes=s,iv(t,s,r),pi(t,r),t}function tT(t,e,n,r){var s=e.current,i=Us(),a=_u(s);return n=zB(n),e.context===null?e.context=n:e.pendingContext=n,e=Jl(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ju(s,e,a),t!==null&&(Qa(t,s,a,i),pw(t,s,a)),a}function Ex(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function s3(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function F5(t,e){s3(t,e),(t=t.alternate)&&s3(t,e)}function Qne(){return null}var HB=typeof reportError=="function"?reportError:function(t){console.error(t)};function B5(t){this._internalRoot=t}nT.prototype.render=B5.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(De(409));tT(t,e,null,null)};nT.prototype.unmount=B5.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Pp(function(){tT(null,t,null,null)}),e[dc]=null}};function nT(t){this._internalRoot=t}nT.prototype.unstable_scheduleHydration=function(t){if(t){var e=x9();t={blockedOn:null,target:t,priority:e};for(var n=0;n<su.length&&e!==0&&e<su[n].priority;n++);su.splice(n,0,t),n===0&&A9(t)}};function U5(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function rT(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function i3(){}function ere(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Ex(a);i.call(u)}}var a=VB(e,r,t,0,null,!1,!1,"",i3);return t._reactRootContainer=a,t[dc]=a.current,Mg(t.nodeType===8?t.parentNode:t),Pp(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var u=Ex(l);o.call(u)}}var l=$5(t,0,!1,null,null,!1,!1,"",i3);return t._reactRootContainer=l,t[dc]=l.current,Mg(t.nodeType===8?t.parentNode:t),Pp(function(){tT(e,l,n,r)}),l}function sT(t,e,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var l=Ex(a);o.call(l)}}tT(e,a,t,s)}else a=ere(n,e,t,s,r);return Ex(a)}b9=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ry(e.pendingLanes);n!==0&&(a5(e,n|1),pi(e,ir()),!(an&6)&&(Vh=ir()+500,dd()))}break;case 13:Pp(function(){var r=pc(t,1);if(r!==null){var s=Us();Qa(r,t,1,s)}}),F5(t,1)}};o5=function(t){if(t.tag===13){var e=pc(t,134217728);if(e!==null){var n=Us();Qa(e,t,134217728,n)}F5(t,134217728)}};w9=function(t){if(t.tag===13){var e=_u(t),n=pc(t,e);if(n!==null){var r=Us();Qa(n,t,e,r)}F5(t,e)}};x9=function(){return hn};T9=function(t,e){var n=hn;try{return hn=t,e()}finally{hn=n}};Qk=function(t,e,n){switch(e){case"input":if(Gk(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Y1(r);if(!s)throw Error(De(90));QF(r),Gk(r,s)}}}break;case"textarea":t9(t,n);break;case"select":e=n.value,e!=null&&rh(t,!!n.multiple,e,!1)}};l9=D5;c9=Pp;var tre={usingClientEntryPoint:!1,Events:[ov,Pf,Y1,a9,o9,D5]},ry={findFiberByHostInstance:Wd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nre={bundleType:ry.bundleType,version:ry.version,rendererPackageName:ry.rendererPackageName,rendererConfig:ry.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Sc.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=p9(t),t===null?null:t.stateNode},findFiberByHostInstance:ry.findFiberByHostInstance||Qne,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lb.isDisabled&&lb.supportsFiber)try{H1=lb.inject(nre),zo=lb}catch{}}Vi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tre;Vi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!U5(e))throw Error(De(200));return Jne(t,e,null,n)};Vi.createRoot=function(t,e){if(!U5(t))throw Error(De(299));var n=!1,r="",s=HB;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=$5(t,1,!1,null,null,n,!1,r,s),t[dc]=e.current,Mg(t.nodeType===8?t.parentNode:t),new B5(e)};Vi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(De(188)):(t=Object.keys(t).join(","),Error(De(268,t)));return t=p9(e),t=t===null?null:t.stateNode,t};Vi.flushSync=function(t){return Pp(t)};Vi.hydrate=function(t,e,n){if(!rT(e))throw Error(De(200));return sT(null,t,e,!0,n)};Vi.hydrateRoot=function(t,e,n){if(!U5(t))throw Error(De(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=HB;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=VB(e,null,t,1,n??null,s,!1,i,a),t[dc]=e.current,Mg(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new nT(e)};Vi.render=function(t,e,n){if(!rT(e))throw Error(De(200));return sT(null,t,e,!1,n)};Vi.unmountComponentAtNode=function(t){if(!rT(t))throw Error(De(40));return t._reactRootContainer?(Pp(function(){sT(null,null,t,!1,function(){t._reactRootContainer=null,t[dc]=null})}),!0):!1};Vi.unstable_batchedUpdates=D5;Vi.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!rT(n))throw Error(De(200));if(t==null||t._reactInternals===void 0)throw Error(De(38));return sT(t,e,n,!1,r)};Vi.version="18.3.1-next-f1338f8080-20240426";function WB(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(WB)}catch(t){console.error(t)}}WB(),WF.exports=Vi;var sf=WF.exports;const GB=tf(sf);var KB,a3=sf;KB=a3.createRoot,a3.hydrateRoot;const rre=1,sre=1e6;let MA=0;function ire(){return MA=(MA+1)%Number.MAX_SAFE_INTEGER,MA.toString()}const PA=new Map,o3=t=>{if(PA.has(t))return;const e=setTimeout(()=>{PA.delete(t),Xy({type:"REMOVE_TOAST",toastId:t})},sre);PA.set(t,e)},are=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,rre)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?o3(n):t.toasts.forEach(r=>{o3(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},bw=[];let ww={toasts:[]};function Xy(t){ww=are(ww,t),bw.forEach(e=>{e(ww)})}function ore({...t}){const e=ire(),n=s=>Xy({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Xy({type:"DISMISS_TOAST",toastId:e});return Xy({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function lre(){const[t,e]=T.useState(ww);return T.useEffect(()=>(bw.push(e),()=>{const n=bw.indexOf(e);n>-1&&bw.splice(n,1)}),[t]),{...t,toast:ore,dismiss:n=>Xy({type:"DISMISS_TOAST",toastId:n})}}function ht(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function cre(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function YB(...t){return e=>t.forEach(n=>cre(n,e))}function mn(...t){return T.useCallback(YB(...t),t)}function ure(t,e=[]){let n=[];function r(i,a){const o=T.createContext(a),l=n.length;n=[...n,a];function u(p){const{scope:f,children:h,...y}=p,m=(f==null?void 0:f[t][l])||o,g=T.useMemo(()=>y,Object.values(y));return c.jsx(m.Provider,{value:g,children:h})}function d(p,f){const h=(f==null?void 0:f[t][l])||o,y=T.useContext(h);if(y)return y;if(a!==void 0)return a;throw new Error(`\`${p}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=n.map(a=>T.createContext(a));return function(o){const l=(o==null?void 0:o[t])||i;return T.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return s.scopeName=t,[r,dre(s,...e)]}function dre(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((o,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...o,...p}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var jp=T.forwardRef((t,e)=>{const{children:n,...r}=t,s=T.Children.toArray(n),i=s.find(pre);if(i){const a=i.props.children,o=s.map(l=>l===i?T.Children.count(a)>1?T.Children.only(null):T.isValidElement(a)?a.props.children:null:l);return c.jsx(PC,{...r,ref:e,children:T.isValidElement(a)?T.cloneElement(a,void 0,o):null})}return c.jsx(PC,{...r,ref:e,children:n})});jp.displayName="Slot";var PC=T.forwardRef((t,e)=>{const{children:n,...r}=t;if(T.isValidElement(n)){const s=hre(n);return T.cloneElement(n,{...fre(r,n.props),ref:e?YB(e,s):s})}return T.Children.count(n)>1?T.Children.only(null):null});PC.displayName="SlotClone";var qB=({children:t})=>c.jsx(c.Fragment,{children:t});function pre(t){return T.isValidElement(t)&&t.type===qB}function fre(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...o)=>{i(...o),s(...o)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function hre(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function iT(t){const e=t+"CollectionProvider",[n,r]=ure(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=h=>{const{scope:y,children:m}=h,g=Se.useRef(null),v=Se.useRef(new Map).current;return c.jsx(s,{scope:y,itemMap:v,collectionRef:g,children:m})};a.displayName=e;const o=t+"CollectionSlot",l=Se.forwardRef((h,y)=>{const{scope:m,children:g}=h,v=i(o,m),b=mn(y,v.collectionRef);return c.jsx(jp,{ref:b,children:g})});l.displayName=o;const u=t+"CollectionItemSlot",d="data-radix-collection-item",p=Se.forwardRef((h,y)=>{const{scope:m,children:g,...v}=h,b=Se.useRef(null),w=mn(y,b),A=i(u,m);return Se.useEffect(()=>(A.itemMap.set(b,{ref:b,...v}),()=>void A.itemMap.delete(b))),c.jsx(jp,{[d]:"",ref:w,children:g})});p.displayName=u;function f(h){const y=i(t+"CollectionConsumer",h);return Se.useCallback(()=>{const g=y.collectionRef.current;if(!g)return[];const v=Array.from(g.querySelectorAll(`[${d}]`));return Array.from(y.itemMap.values()).sort((A,I)=>v.indexOf(A.ref.current)-v.indexOf(I.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:a,Slot:l,ItemSlot:p},f,r]}function mre(t,e){const n=T.createContext(e),r=i=>{const{children:a,...o}=i,l=T.useMemo(()=>o,Object.values(o));return c.jsx(n.Provider,{value:l,children:a})};r.displayName=t+"Provider";function s(i){const a=T.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Rc(t,e=[]){let n=[];function r(i,a){const o=T.createContext(a),l=n.length;n=[...n,a];const u=p=>{var v;const{scope:f,children:h,...y}=p,m=((v=f==null?void 0:f[t])==null?void 0:v[l])||o,g=T.useMemo(()=>y,Object.values(y));return c.jsx(m.Provider,{value:g,children:h})};u.displayName=i+"Provider";function d(p,f){var m;const h=((m=f==null?void 0:f[t])==null?void 0:m[l])||o,y=T.useContext(h);if(y)return y;if(a!==void 0)return a;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(a=>T.createContext(a));return function(o){const l=(o==null?void 0:o[t])||i;return T.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return s.scopeName=t,[r,yre(s,...e)]}function yre(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((o,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...o,...p}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var gre=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],vt=gre.reduce((t,e)=>{const n=T.forwardRef((r,s)=>{const{asChild:i,...a}=r,o=i?jp:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(o,{...a,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function XB(t,e){t&&sf.flushSync(()=>t.dispatchEvent(e))}function Hs(t){const e=T.useRef(t);return T.useEffect(()=>{e.current=t}),T.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function vre(t,e=globalThis==null?void 0:globalThis.document){const n=Hs(t);T.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var bre="DismissableLayer",jC="dismissableLayer.update",wre="dismissableLayer.pointerDownOutside",xre="dismissableLayer.focusOutside",l3,ZB=T.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),cv=T.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:o,...l}=t,u=T.useContext(ZB),[d,p]=T.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=T.useState({}),y=mn(e,E=>p(E)),m=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=m.indexOf(g),b=d?m.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,A=b>=v,I=Are(E=>{const N=E.target,_=[...u.branches].some(U=>U.contains(N));!A||_||(s==null||s(E),a==null||a(E),E.defaultPrevented||o==null||o())},f),C=Ire(E=>{const N=E.target;[...u.branches].some(U=>U.contains(N))||(i==null||i(E),a==null||a(E),E.defaultPrevented||o==null||o())},f);return vre(E=>{b===u.layers.size-1&&(r==null||r(E),!E.defaultPrevented&&o&&(E.preventDefault(),o()))},f),T.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(l3=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),c3(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=l3)}},[d,f,n,u]),T.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),c3())},[d,u]),T.useEffect(()=>{const E=()=>h({});return document.addEventListener(jC,E),()=>document.removeEventListener(jC,E)},[]),c.jsx(vt.div,{...l,ref:y,style:{pointerEvents:w?A?"auto":"none":void 0,...t.style},onFocusCapture:ht(t.onFocusCapture,C.onFocusCapture),onBlurCapture:ht(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:ht(t.onPointerDownCapture,I.onPointerDownCapture)})});cv.displayName=bre;var Tre="DismissableLayerBranch",JB=T.forwardRef((t,e)=>{const n=T.useContext(ZB),r=T.useRef(null),s=mn(e,r);return T.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),c.jsx(vt.div,{...t,ref:s})});JB.displayName=Tre;function Are(t,e=globalThis==null?void 0:globalThis.document){const n=Hs(t),r=T.useRef(!1),s=T.useRef(()=>{});return T.useEffect(()=>{const i=o=>{if(o.target&&!r.current){let l=function(){QB(wre,n,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Ire(t,e=globalThis==null?void 0:globalThis.document){const n=Hs(t),r=T.useRef(!1);return T.useEffect(()=>{const s=i=>{i.target&&!r.current&&QB(xre,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function c3(){const t=new CustomEvent(jC);document.dispatchEvent(t)}function QB(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?XB(s,i):s.dispatchEvent(i)}var kre=cv,Cre=JB,Pr=globalThis!=null&&globalThis.document?T.useLayoutEffect:()=>{},Ere="Portal",aT=T.forwardRef((t,e)=>{var o;const{container:n,...r}=t,[s,i]=T.useState(!1);Pr(()=>i(!0),[]);const a=n||s&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return a?GB.createPortal(c.jsx(vt.div,{...r,ref:e}),a):null});aT.displayName=Ere;function Nre(t,e){return T.useReducer((n,r)=>e[n][r]??n,t)}var pd=t=>{const{present:e,children:n}=t,r=Sre(e),s=typeof n=="function"?n({present:r.isPresent}):T.Children.only(n),i=mn(r.ref,Rre(s));return typeof n=="function"||r.isPresent?T.cloneElement(s,{ref:i}):null};pd.displayName="Presence";function Sre(t){const[e,n]=T.useState(),r=T.useRef({}),s=T.useRef(t),i=T.useRef("none"),a=t?"mounted":"unmounted",[o,l]=Nre(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return T.useEffect(()=>{const u=cb(r.current);i.current=o==="mounted"?u:"none"},[o]),Pr(()=>{const u=r.current,d=s.current;if(d!==t){const f=i.current,h=cb(u);t?l("MOUNT"):h==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&f!==h?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Pr(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,p=h=>{const m=cb(r.current).includes(h.animationName);if(h.target===e&&m&&(l("ANIMATION_END"),!s.current)){const g=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=g)})}},f=h=>{h.target===e&&(i.current=cb(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:T.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function cb(t){return(t==null?void 0:t.animationName)||"none"}function Rre(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function il({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=Mre({defaultProp:e,onChange:n}),i=t!==void 0,a=i?t:r,o=Hs(n),l=T.useCallback(u=>{if(i){const p=typeof u=="function"?u(t):u;p!==t&&o(p)}else s(u)},[i,t,s,o]);return[a,l]}function Mre({defaultProp:t,onChange:e}){const n=T.useState(t),[r]=n,s=T.useRef(r),i=Hs(e);return T.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var Pre="VisuallyHidden",uv=T.forwardRef((t,e)=>c.jsx(vt.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));uv.displayName=Pre;var jre=uv,z5="ToastProvider",[V5,Dre,_re]=iT("Toast"),[eU,_Fe]=Rc("Toast",[_re]),[Lre,oT]=eU(z5),tU=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:a}=t,[o,l]=T.useState(null),[u,d]=T.useState(0),p=T.useRef(!1),f=T.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${z5}\`. Expected non-empty \`string\`.`),c.jsx(V5.Provider,{scope:e,children:c.jsx(Lre,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:o,onViewportChange:l,onToastAdd:T.useCallback(()=>d(h=>h+1),[]),onToastRemove:T.useCallback(()=>d(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:f,children:a})})};tU.displayName=z5;var nU="ToastViewport",Ore=["F8"],DC="toast.viewportPause",_C="toast.viewportResume",rU=T.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=Ore,label:s="Notifications ({hotkey})",...i}=t,a=oT(nU,n),o=Dre(n),l=T.useRef(null),u=T.useRef(null),d=T.useRef(null),p=T.useRef(null),f=mn(e,p,a.onViewportChange),h=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=a.toastCount>0;T.useEffect(()=>{const g=v=>{var w;r.length!==0&&r.every(A=>v[A]||v.code===A)&&((w=p.current)==null||w.focus())};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[r]),T.useEffect(()=>{const g=l.current,v=p.current;if(y&&g&&v){const b=()=>{if(!a.isClosePausedRef.current){const C=new CustomEvent(DC);v.dispatchEvent(C),a.isClosePausedRef.current=!0}},w=()=>{if(a.isClosePausedRef.current){const C=new CustomEvent(_C);v.dispatchEvent(C),a.isClosePausedRef.current=!1}},A=C=>{!g.contains(C.relatedTarget)&&w()},I=()=>{g.contains(document.activeElement)||w()};return g.addEventListener("focusin",b),g.addEventListener("focusout",A),g.addEventListener("pointermove",b),g.addEventListener("pointerleave",I),window.addEventListener("blur",b),window.addEventListener("focus",w),()=>{g.removeEventListener("focusin",b),g.removeEventListener("focusout",A),g.removeEventListener("pointermove",b),g.removeEventListener("pointerleave",I),window.removeEventListener("blur",b),window.removeEventListener("focus",w)}}},[y,a.isClosePausedRef]);const m=T.useCallback(({tabbingDirection:g})=>{const b=o().map(w=>{const A=w.ref.current,I=[A,...Xre(A)];return g==="forwards"?I:I.reverse()});return(g==="forwards"?b.reverse():b).flat()},[o]);return T.useEffect(()=>{const g=p.current;if(g){const v=b=>{var I,C,E;const w=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!w){const N=document.activeElement,_=b.shiftKey;if(b.target===g&&_){(I=u.current)==null||I.focus();return}const B=m({tabbingDirection:_?"backwards":"forwards"}),j=B.findIndex(x=>x===N);jA(B.slice(j+1))?b.preventDefault():_?(C=u.current)==null||C.focus():(E=d.current)==null||E.focus()}};return g.addEventListener("keydown",v),()=>g.removeEventListener("keydown",v)}},[o,m]),c.jsxs(Cre,{ref:l,role:"region","aria-label":s.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&c.jsx(LC,{ref:u,onFocusFromOutsideViewport:()=>{const g=m({tabbingDirection:"forwards"});jA(g)}}),c.jsx(V5.Slot,{scope:n,children:c.jsx(vt.ol,{tabIndex:-1,...i,ref:f})}),y&&c.jsx(LC,{ref:d,onFocusFromOutsideViewport:()=>{const g=m({tabbingDirection:"backwards"});jA(g)}})]})});rU.displayName=nU;var sU="ToastFocusProxy",LC=T.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=oT(sU,n);return c.jsx(uv,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:a=>{var u;const o=a.relatedTarget;!((u=i.viewport)!=null&&u.contains(o))&&r()}})});LC.displayName=sU;var lT="Toast",$re="toast.swipeStart",Fre="toast.swipeMove",Bre="toast.swipeCancel",Ure="toast.swipeEnd",iU=T.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...a}=t,[o=!0,l]=il({prop:r,defaultProp:s,onChange:i});return c.jsx(pd,{present:n||o,children:c.jsx(Hre,{open:o,...a,ref:e,onClose:()=>l(!1),onPause:Hs(t.onPause),onResume:Hs(t.onResume),onSwipeStart:ht(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ht(t.onSwipeMove,u=>{const{x:d,y:p}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:ht(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ht(t.onSwipeEnd,u=>{const{x:d,y:p}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),l(!1)})})})});iU.displayName=lT;var[zre,Vre]=eU(lT,{onClose(){}}),Hre=T.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:a,onEscapeKeyDown:o,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:p,onSwipeCancel:f,onSwipeEnd:h,...y}=t,m=oT(lT,n),[g,v]=T.useState(null),b=mn(e,x=>v(x)),w=T.useRef(null),A=T.useRef(null),I=s||m.duration,C=T.useRef(0),E=T.useRef(I),N=T.useRef(0),{onToastAdd:_,onToastRemove:U}=m,$=Hs(()=>{var k;(g==null?void 0:g.contains(document.activeElement))&&((k=m.viewport)==null||k.focus()),a()}),B=T.useCallback(x=>{!x||x===1/0||(window.clearTimeout(N.current),C.current=new Date().getTime(),N.current=window.setTimeout($,x))},[$]);T.useEffect(()=>{const x=m.viewport;if(x){const k=()=>{B(E.current),u==null||u()},M=()=>{const P=new Date().getTime()-C.current;E.current=E.current-P,window.clearTimeout(N.current),l==null||l()};return x.addEventListener(DC,M),x.addEventListener(_C,k),()=>{x.removeEventListener(DC,M),x.removeEventListener(_C,k)}}},[m.viewport,I,l,u,B]),T.useEffect(()=>{i&&!m.isClosePausedRef.current&&B(I)},[i,I,m.isClosePausedRef,B]),T.useEffect(()=>(_(),()=>U()),[_,U]);const j=T.useMemo(()=>g?pU(g):null,[g]);return m.viewport?c.jsxs(c.Fragment,{children:[j&&c.jsx(Wre,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:j}),c.jsx(zre,{scope:n,onClose:$,children:sf.createPortal(c.jsx(V5.ItemSlot,{scope:n,children:c.jsx(kre,{asChild:!0,onEscapeKeyDown:ht(o,()=>{m.isFocusedToastEscapeKeyDownRef.current||$(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:c.jsx(vt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":m.swipeDirection,...y,ref:b,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ht(t.onKeyDown,x=>{x.key==="Escape"&&(o==null||o(x.nativeEvent),x.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,$()))}),onPointerDown:ht(t.onPointerDown,x=>{x.button===0&&(w.current={x:x.clientX,y:x.clientY})}),onPointerMove:ht(t.onPointerMove,x=>{if(!w.current)return;const k=x.clientX-w.current.x,M=x.clientY-w.current.y,P=!!A.current,S=["left","right"].includes(m.swipeDirection),L=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,V=S?L(0,k):0,F=S?0:L(0,M),R=x.pointerType==="touch"?10:2,z={x:V,y:F},Q={originalEvent:x,delta:z};P?(A.current=z,ub(Fre,p,Q,{discrete:!1})):u3(z,m.swipeDirection,R)?(A.current=z,ub($re,d,Q,{discrete:!1}),x.target.setPointerCapture(x.pointerId)):(Math.abs(k)>R||Math.abs(M)>R)&&(w.current=null)}),onPointerUp:ht(t.onPointerUp,x=>{const k=A.current,M=x.target;if(M.hasPointerCapture(x.pointerId)&&M.releasePointerCapture(x.pointerId),A.current=null,w.current=null,k){const P=x.currentTarget,S={originalEvent:x,delta:k};u3(k,m.swipeDirection,m.swipeThreshold)?ub(Ure,h,S,{discrete:!0}):ub(Bre,f,S,{discrete:!0}),P.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),Wre=t=>{const{__scopeToast:e,children:n,...r}=t,s=oT(lT,e),[i,a]=T.useState(!1),[o,l]=T.useState(!1);return Yre(()=>a(!0)),T.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),o?null:c.jsx(aT,{asChild:!0,children:c.jsx(uv,{...r,children:i&&c.jsxs(c.Fragment,{children:[s.label," ",n]})})})},Gre="ToastTitle",aU=T.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return c.jsx(vt.div,{...r,ref:e})});aU.displayName=Gre;var Kre="ToastDescription",oU=T.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return c.jsx(vt.div,{...r,ref:e})});oU.displayName=Kre;var lU="ToastAction",cU=T.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?c.jsx(dU,{altText:n,asChild:!0,children:c.jsx(H5,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${lU}\`. Expected non-empty \`string\`.`),null)});cU.displayName=lU;var uU="ToastClose",H5=T.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=Vre(uU,n);return c.jsx(dU,{asChild:!0,children:c.jsx(vt.button,{type:"button",...r,ref:e,onClick:ht(t.onClick,s.onClose)})})});H5.displayName=uU;var dU=T.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return c.jsx(vt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function pU(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),qre(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const a=r.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...pU(r))}}),e}function ub(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?XB(s,i):s.dispatchEvent(i)}var u3=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function Yre(t=()=>{}){const e=Hs(t);Pr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function qre(t){return t.nodeType===t.ELEMENT_NODE}function Xre(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function jA(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var Zre=tU,fU=rU,hU=iU,mU=aU,yU=oU,gU=cU,vU=H5;function bU(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=bU(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function wU(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=bU(t))&&(r&&(r+=" "),r+=e);return r}const d3=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,p3=wU,cT=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return p3(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,a=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],p=i==null?void 0:i[u];if(d===null)return null;const f=d3(d)||d3(p);return s[u][f]}),o=n&&Object.entries(n).reduce((u,d)=>{let[p,f]=d;return f===void 0||(u[p]=f),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:p,className:f,...h}=d;return Object.entries(h).every(y=>{let[m,g]=y;return Array.isArray(g)?g.includes({...i,...o}[m]):{...i,...o}[m]===g})?[...u,p,f]:u},[]);return p3(t,a,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jre=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xU=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Qre={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ese=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...o},l)=>T.createElement("svg",{ref:l,...Qre,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:xU("lucide",s),...o},[...a.map(([u,d])=>T.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=(t,e)=>{const n=T.forwardRef(({className:r,...s},i)=>T.createElement(ese,{ref:i,iconNode:e,className:xU(`lucide-${Jre(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=$e("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=$e("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tse=$e("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nse=$e("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=$e("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=$e("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=$e("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rse=$e("BookCopy",[["path",{d:"M2 16V4a2 2 0 0 1 2-2h11",key:"spzkk5"}],["path",{d:"M22 18H11a2 2 0 1 0 0 4h10.5a.5.5 0 0 0 .5-.5v-15a.5.5 0 0 0-.5-.5H11a2 2 0 0 0-2 2v12",key:"1wz07i"}],["path",{d:"M5 14H4a2 2 0 1 0 0 4h1",key:"16gqf9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TU=$e("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=$e("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=$e("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sse=$e("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=$e("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=$e("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=$e("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=$e("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=$e("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ise=$e("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AU=$e("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ase=$e("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ec=$e("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=$e("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ose=$e("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yu=$e("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=$e("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=$e("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lse=$e("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cse=$e("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=$e("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K5=$e("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=$e("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=$e("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=$e("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=$e("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=$e("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=$e("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const use=$e("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dse=$e("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=$e("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dp=$e("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pse=$e("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=$e("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fse=$e("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hse=$e("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mse=$e("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yse=$e("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=$e("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=$e("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gp=$e("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gse=$e("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vse=$e("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=$e("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bse=$e("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wse=$e("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IU=$e("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=$e("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xse=$e("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tse=$e("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wu=$e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=$e("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=$e("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=$e("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=$e("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=$e("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ase=$e("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kU=$e("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ise=$e("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=$e("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=$e("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=$e("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=$e("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kse=$e("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cse=$e("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ese=$e("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=$e("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=$e("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tc=$e("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=$e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=$e("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Q5="-",Nse=t=>{const e=Rse(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const o=a.split(Q5);return o[0]===""&&o.length!==1&&o.shift(),CU(o,e)||Sse(a)},getConflictingClassGroupIds:(a,o)=>{const l=n[a]||[];return o&&r[a]?[...l,...r[a]]:l}}},CU=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?CU(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Q5);return(a=e.validators.find(({validator:o})=>o(i)))==null?void 0:a.classGroupId},x3=/^\[(.+)\]$/,Sse=t=>{if(x3.test(t)){const e=x3.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Rse=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Pse(Object.entries(t.classGroups),n).forEach(([i,a])=>{BC(a,r,i,e)}),r},BC=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:T3(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(Mse(s)){BC(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,a])=>{BC(a,T3(e,i),n,r)})})},T3=(t,e)=>{let n=t;return e.split(Q5).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Mse=t=>t.isThemeGetter,Pse=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,o])=>[e+a,o])):i);return[n,s]}):t,jse=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,a)=>{n.set(i,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return s(i,a),a},set(i,a){n.has(i)?n.set(i,a):s(i,a)}}},EU="!",Dse=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,a=o=>{const l=[];let u=0,d=0,p;for(let g=0;g<o.length;g++){let v=o[g];if(u===0){if(v===s&&(r||o.slice(g,g+i)===e)){l.push(o.slice(d,g)),d=g+i;continue}if(v==="/"){p=g;continue}}v==="["?u++:v==="]"&&u--}const f=l.length===0?o:o.substring(d),h=f.startsWith(EU),y=h?f.substring(1):f,m=p&&p>d?p-d:void 0;return{modifiers:l,hasImportantModifier:h,baseClassName:y,maybePostfixModifierPosition:m}};return n?o=>n({className:o,parseClassName:a}):a},_se=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},Lse=t=>({cache:jse(t.cacheSize),parseClassName:Dse(t),...Nse(t)}),Ose=/\s+/,$se=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],a=t.trim().split(Ose);let o="";for(let l=a.length-1;l>=0;l-=1){const u=a[l],{modifiers:d,hasImportantModifier:p,baseClassName:f,maybePostfixModifierPosition:h}=n(u);let y=!!h,m=r(y?f.substring(0,h):f);if(!m){if(!y){o=u+(o.length>0?" "+o:o);continue}if(m=r(f),!m){o=u+(o.length>0?" "+o:o);continue}y=!1}const g=_se(d).join(":"),v=p?g+EU:g,b=v+m;if(i.includes(b))continue;i.push(b);const w=s(m,y);for(let A=0;A<w.length;++A){const I=w[A];i.push(v+I)}o=u+(o.length>0?" "+o:o)}return o};function Fse(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=NU(e))&&(r&&(r+=" "),r+=n);return r}const NU=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=NU(t[r]))&&(n&&(n+=" "),n+=e);return n};function Bse(t,...e){let n,r,s,i=a;function a(l){const u=e.reduce((d,p)=>p(d),t());return n=Lse(u),r=n.cache.get,s=n.cache.set,i=o,o(l)}function o(l){const u=r(l);if(u)return u;const d=$se(l,n);return s(l,d),d}return function(){return i(Fse.apply(null,arguments))}}const Tn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},SU=/^\[(?:([a-z-]+):)?(.+)\]$/i,Use=/^\d+\/\d+$/,zse=new Set(["px","full","screen"]),Vse=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Hse=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Wse=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Gse=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Kse=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,vl=t=>ch(t)||zse.has(t)||Use.test(t),Uc=t=>ym(t,"length",tie),ch=t=>!!t&&!Number.isNaN(Number(t)),LA=t=>ym(t,"number",ch),sy=t=>!!t&&Number.isInteger(Number(t)),Yse=t=>t.endsWith("%")&&ch(t.slice(0,-1)),Ot=t=>SU.test(t),zc=t=>Vse.test(t),qse=new Set(["length","size","percentage"]),Xse=t=>ym(t,qse,RU),Zse=t=>ym(t,"position",RU),Jse=new Set(["image","url"]),Qse=t=>ym(t,Jse,rie),eie=t=>ym(t,"",nie),iy=()=>!0,ym=(t,e,n)=>{const r=SU.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},tie=t=>Hse.test(t)&&!Wse.test(t),RU=()=>!1,nie=t=>Gse.test(t),rie=t=>Kse.test(t),sie=()=>{const t=Tn("colors"),e=Tn("spacing"),n=Tn("blur"),r=Tn("brightness"),s=Tn("borderColor"),i=Tn("borderRadius"),a=Tn("borderSpacing"),o=Tn("borderWidth"),l=Tn("contrast"),u=Tn("grayscale"),d=Tn("hueRotate"),p=Tn("invert"),f=Tn("gap"),h=Tn("gradientColorStops"),y=Tn("gradientColorStopPositions"),m=Tn("inset"),g=Tn("margin"),v=Tn("opacity"),b=Tn("padding"),w=Tn("saturate"),A=Tn("scale"),I=Tn("sepia"),C=Tn("skew"),E=Tn("space"),N=Tn("translate"),_=()=>["auto","contain","none"],U=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto",Ot,e],B=()=>[Ot,e],j=()=>["",vl,Uc],x=()=>["auto",ch,Ot],k=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],M=()=>["solid","dashed","dotted","double","none"],P=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],S=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",Ot],V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],F=()=>[ch,Ot];return{cacheSize:500,separator:":",theme:{colors:[iy],spacing:[vl,Uc],blur:["none","",zc,Ot],brightness:F(),borderColor:[t],borderRadius:["none","","full",zc,Ot],borderSpacing:B(),borderWidth:j(),contrast:F(),grayscale:L(),hueRotate:F(),invert:L(),gap:B(),gradientColorStops:[t],gradientColorStopPositions:[Yse,Uc],inset:$(),margin:$(),opacity:F(),padding:B(),saturate:F(),scale:F(),sepia:L(),skew:F(),space:B(),translate:B()},classGroups:{aspect:[{aspect:["auto","square","video",Ot]}],container:["container"],columns:[{columns:[zc]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...k(),Ot]}],overflow:[{overflow:U()}],"overflow-x":[{"overflow-x":U()}],"overflow-y":[{"overflow-y":U()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",sy,Ot]}],basis:[{basis:$()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ot]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",sy,Ot]}],"grid-cols":[{"grid-cols":[iy]}],"col-start-end":[{col:["auto",{span:["full",sy,Ot]},Ot]}],"col-start":[{"col-start":x()}],"col-end":[{"col-end":x()}],"grid-rows":[{"grid-rows":[iy]}],"row-start-end":[{row:["auto",{span:[sy,Ot]},Ot]}],"row-start":[{"row-start":x()}],"row-end":[{"row-end":x()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ot]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ot]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...S()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...S(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...S(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ot,e]}],"min-w":[{"min-w":[Ot,e,"min","max","fit"]}],"max-w":[{"max-w":[Ot,e,"none","full","min","max","fit","prose",{screen:[zc]},zc]}],h:[{h:[Ot,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ot,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ot,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ot,e,"auto","min","max","fit"]}],"font-size":[{text:["base",zc,Uc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",LA]}],"font-family":[{font:[iy]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ot]}],"line-clamp":[{"line-clamp":["none",ch,LA]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",vl,Ot]}],"list-image":[{"list-image":["none",Ot]}],"list-style-type":[{list:["none","disc","decimal",Ot]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...M(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",vl,Uc]}],"underline-offset":[{"underline-offset":["auto",vl,Ot]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ot]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ot]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...k(),Zse]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Xse]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Qse]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...M(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:M()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...M()]}],"outline-offset":[{"outline-offset":[vl,Ot]}],"outline-w":[{outline:[vl,Uc]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:j()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[vl,Uc]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",zc,eie]}],"shadow-color":[{shadow:[iy]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...P(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":P()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",zc,Ot]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[p]}],saturate:[{saturate:[w]}],sepia:[{sepia:[I]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[I]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ot]}],duration:[{duration:F()}],ease:[{ease:["linear","in","out","in-out",Ot]}],delay:[{delay:F()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ot]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[sy,Ot]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ot]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ot]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ot]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[vl,Uc,LA]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},iie=Bse(sie);function dt(...t){return iie(wU(t))}const aie=Zre,MU=T.forwardRef(({className:t,...e},n)=>c.jsx(fU,{ref:n,className:dt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));MU.displayName=fU.displayName;const oie=cT("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),PU=T.forwardRef(({className:t,variant:e,...n},r)=>c.jsx(hU,{ref:r,className:dt(oie({variant:e}),t),...n}));PU.displayName=hU.displayName;const lie=T.forwardRef(({className:t,...e},n)=>c.jsx(gU,{ref:n,className:dt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));lie.displayName=gU.displayName;const jU=T.forwardRef(({className:t,...e},n)=>c.jsx(vU,{ref:n,className:dt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:c.jsx(dT,{className:"h-4 w-4"})}));jU.displayName=vU.displayName;const DU=T.forwardRef(({className:t,...e},n)=>c.jsx(mU,{ref:n,className:dt("text-sm font-semibold",t),...e}));DU.displayName=mU.displayName;const _U=T.forwardRef(({className:t,...e},n)=>c.jsx(yU,{ref:n,className:dt("text-sm opacity-90",t),...e}));_U.displayName=yU.displayName;function cie(){const{toasts:t}=lre();return c.jsxs(aie,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return c.jsxs(PU,{...i,children:[c.jsxs("div",{className:"grid gap-1",children:[n&&c.jsx(DU,{children:n}),r&&c.jsx(_U,{children:r})]}),s,c.jsx(jU,{})]},e)}),c.jsx(MU,{})]})}var A3=["light","dark"],uie="(prefers-color-scheme: dark)",die=T.createContext(void 0),pie={setTheme:t=>{},themes:[]},fie=()=>{var t;return(t=T.useContext(die))!=null?t:pie};T.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:a,attrs:o,nonce:l})=>{let u=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${o.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,p=s?A3.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(y,m=!1,g=!0)=>{let v=a?a[y]:y,b=m?y+"|| ''":`'${v}'`,w="";return s&&g&&!m&&A3.includes(y)&&(w+=`d.style.colorScheme = '${y}';`),n==="class"?m||v?w+=`c.add(${b})`:w+="null":v&&(w+=`d[s](n,${b})`),w},h=t?`!function(){${d}${f(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${uie}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${f(a?"x[e]":"e",!0)}}${u?"":"else{"+f(i,!1,!1)+"}"}${p}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${f(a?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${p}}catch(t){}}();`;return T.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:h}})});var hie=t=>{switch(t){case"success":return gie;case"info":return bie;case"warning":return vie;case"error":return wie;default:return null}},mie=Array(12).fill(0),yie=({visible:t})=>Se.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},Se.createElement("div",{className:"sonner-spinner"},mie.map((e,n)=>Se.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),gie=Se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Se.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),vie=Se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Se.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),bie=Se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Se.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),wie=Se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Se.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),xie=()=>{let[t,e]=Se.useState(document.hidden);return Se.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},UC=1,Tie=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:UC++,i=this.toasts.find(o=>o.id===s),a=t.dismissible===void 0?!0:t.dismissible;return i?this.toasts=this.toasts.map(o=>o.id===s?(this.publish({...o,...t,id:s,title:n}),{...o,...t,id:s,dismissible:a,title:n}):o):this.addToast({title:n,...r,dismissible:a,id:s}),s},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0;return r.then(async i=>{if(Iie(i)&&!i.ok){s=!1;let a=typeof e.error=="function"?await e.error(`HTTP error! status: ${i.status}`):e.error,o=typeof e.description=="function"?await e.description(`HTTP error! status: ${i.status}`):e.description;this.create({id:n,type:"error",message:a,description:o})}else if(e.success!==void 0){s=!1;let a=typeof e.success=="function"?await e.success(i):e.success,o=typeof e.description=="function"?await e.description(i):e.description;this.create({id:n,type:"success",message:a,description:o})}}).catch(async i=>{if(e.error!==void 0){s=!1;let a=typeof e.error=="function"?await e.error(i):e.error,o=typeof e.description=="function"?await e.description(i):e.description;this.create({id:n,type:"error",message:a,description:o})}}).finally(()=>{var i;s&&(this.dismiss(n),n=void 0),(i=e.finally)==null||i.call(e)}),n},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||UC++;return this.create({jsx:t(n),id:n,...e}),n},this.subscribers=[],this.toasts=[]}},Ii=new Tie,Aie=(t,e)=>{let n=(e==null?void 0:e.id)||UC++;return Ii.addToast({title:t,...e,id:n}),n},Iie=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",kie=Aie,Cie=()=>Ii.toasts,Ie=Object.assign(kie,{success:Ii.success,info:Ii.info,warning:Ii.warning,error:Ii.error,custom:Ii.custom,message:Ii.message,promise:Ii.promise,dismiss:Ii.dismiss,loading:Ii.loading},{getHistory:Cie});function Eie(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}Eie(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function pb(t){return t.label!==void 0}var Nie=3,Sie="32px",Rie=4e3,Mie=356,Pie=14,jie=20,Die=200;function _ie(...t){return t.filter(Boolean).join(" ")}var Lie=t=>{var e,n,r,s,i,a,o,l,u,d;let{invert:p,toast:f,unstyled:h,interacting:y,setHeights:m,visibleToasts:g,heights:v,index:b,toasts:w,expanded:A,removeToast:I,defaultRichColors:C,closeButton:E,style:N,cancelButtonStyle:_,actionButtonStyle:U,className:$="",descriptionClassName:B="",duration:j,position:x,gap:k,loadingIcon:M,expandByDefault:P,classNames:S,icons:L,closeButtonAriaLabel:V="Close toast",pauseWhenPageIsHidden:F,cn:R}=t,[z,Q]=Se.useState(!1),[O,H]=Se.useState(!1),[Y,G]=Se.useState(!1),[Z,te]=Se.useState(!1),[q,ne]=Se.useState(0),[Re,se]=Se.useState(0),ve=Se.useRef(null),We=Se.useRef(null),fe=b===0,ee=b+1<=g,pe=f.type,xe=f.dismissible!==!1,Fe=f.className||"",Ze=f.descriptionClassName||"",Oe=Se.useMemo(()=>v.findIndex(ie=>ie.toastId===f.id)||0,[v,f.id]),rt=Se.useMemo(()=>{var ie;return(ie=f.closeButton)!=null?ie:E},[f.closeButton,E]),zt=Se.useMemo(()=>f.duration||j||Rie,[f.duration,j]),ct=Se.useRef(0),J=Se.useRef(0),Ee=Se.useRef(0),le=Se.useRef(null),[ue,he]=x.split("-"),Ne=Se.useMemo(()=>v.reduce((ie,ge,je)=>je>=Oe?ie:ie+ge.height,0),[v,Oe]),Ge=xie(),Te=f.invert||p,me=pe==="loading";J.current=Se.useMemo(()=>Oe*k+Ne,[Oe,Ne]),Se.useEffect(()=>{Q(!0)},[]),Se.useLayoutEffect(()=>{if(!z)return;let ie=We.current,ge=ie.style.height;ie.style.height="auto";let je=ie.getBoundingClientRect().height;ie.style.height=ge,se(je),m(we=>we.find(Be=>Be.toastId===f.id)?we.map(Be=>Be.toastId===f.id?{...Be,height:je}:Be):[{toastId:f.id,height:je,position:f.position},...we])},[z,f.title,f.description,m,f.id]);let de=Se.useCallback(()=>{H(!0),ne(J.current),m(ie=>ie.filter(ge=>ge.toastId!==f.id)),setTimeout(()=>{I(f)},Die)},[f,I,m,J]);Se.useEffect(()=>{if(f.promise&&pe==="loading"||f.duration===1/0||f.type==="loading")return;let ie,ge=zt;return A||y||F&&Ge?(()=>{if(Ee.current<ct.current){let je=new Date().getTime()-ct.current;ge=ge-je}Ee.current=new Date().getTime()})():ge!==1/0&&(ct.current=new Date().getTime(),ie=setTimeout(()=>{var je;(je=f.onAutoClose)==null||je.call(f,f),de()},ge)),()=>clearTimeout(ie)},[A,y,P,f,zt,de,f.promise,pe,F,Ge]),Se.useEffect(()=>{let ie=We.current;if(ie){let ge=ie.getBoundingClientRect().height;return se(ge),m(je=>[{toastId:f.id,height:ge,position:f.position},...je]),()=>m(je=>je.filter(we=>we.toastId!==f.id))}},[m,f.id]),Se.useEffect(()=>{f.delete&&de()},[de,f.delete]);function Me(){return L!=null&&L.loading?Se.createElement("div",{className:"sonner-loader","data-visible":pe==="loading"},L.loading):M?Se.createElement("div",{className:"sonner-loader","data-visible":pe==="loading"},M):Se.createElement(yie,{visible:pe==="loading"})}return Se.createElement("li",{"aria-live":f.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:We,className:R($,Fe,S==null?void 0:S.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,S==null?void 0:S.default,S==null?void 0:S[pe],(n=f==null?void 0:f.classNames)==null?void 0:n[pe]),"data-sonner-toast":"","data-rich-colors":(r=f.richColors)!=null?r:C,"data-styled":!(f.jsx||f.unstyled||h),"data-mounted":z,"data-promise":!!f.promise,"data-removed":O,"data-visible":ee,"data-y-position":ue,"data-x-position":he,"data-index":b,"data-front":fe,"data-swiping":Y,"data-dismissible":xe,"data-type":pe,"data-invert":Te,"data-swipe-out":Z,"data-expanded":!!(A||P&&z),style:{"--index":b,"--toasts-before":b,"--z-index":w.length-b,"--offset":`${O?q:J.current}px`,"--initial-height":P?"auto":`${Re}px`,...N,...f.style},onPointerDown:ie=>{me||!xe||(ve.current=new Date,ne(J.current),ie.target.setPointerCapture(ie.pointerId),ie.target.tagName!=="BUTTON"&&(G(!0),le.current={x:ie.clientX,y:ie.clientY}))},onPointerUp:()=>{var ie,ge,je,we;if(Z||!xe)return;le.current=null;let Be=Number(((ie=We.current)==null?void 0:ie.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Nt=new Date().getTime()-((ge=ve.current)==null?void 0:ge.getTime()),mt=Math.abs(Be)/Nt;if(Math.abs(Be)>=jie||mt>.11){ne(J.current),(je=f.onDismiss)==null||je.call(f,f),de(),te(!0);return}(we=We.current)==null||we.style.setProperty("--swipe-amount","0px"),G(!1)},onPointerMove:ie=>{var ge;if(!le.current||!xe)return;let je=ie.clientY-le.current.y,we=ie.clientX-le.current.x,Be=(ue==="top"?Math.min:Math.max)(0,je),Nt=ie.pointerType==="touch"?10:2;Math.abs(Be)>Nt?(ge=We.current)==null||ge.style.setProperty("--swipe-amount",`${je}px`):Math.abs(we)>Nt&&(le.current=null)}},rt&&!f.jsx?Se.createElement("button",{"aria-label":V,"data-disabled":me,"data-close-button":!0,onClick:me||!xe?()=>{}:()=>{var ie;de(),(ie=f.onDismiss)==null||ie.call(f,f)},className:R(S==null?void 0:S.closeButton,(s=f==null?void 0:f.classNames)==null?void 0:s.closeButton)},Se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Se.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Se.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,f.jsx||Se.isValidElement(f.title)?f.jsx||f.title:Se.createElement(Se.Fragment,null,pe||f.icon||f.promise?Se.createElement("div",{"data-icon":"",className:R(S==null?void 0:S.icon,(i=f==null?void 0:f.classNames)==null?void 0:i.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||Me():null,f.type!=="loading"?f.icon||(L==null?void 0:L[pe])||hie(pe):null):null,Se.createElement("div",{"data-content":"",className:R(S==null?void 0:S.content,(a=f==null?void 0:f.classNames)==null?void 0:a.content)},Se.createElement("div",{"data-title":"",className:R(S==null?void 0:S.title,(o=f==null?void 0:f.classNames)==null?void 0:o.title)},f.title),f.description?Se.createElement("div",{"data-description":"",className:R(B,Ze,S==null?void 0:S.description,(l=f==null?void 0:f.classNames)==null?void 0:l.description)},f.description):null),Se.isValidElement(f.cancel)?f.cancel:f.cancel&&pb(f.cancel)?Se.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||_,onClick:ie=>{var ge,je;pb(f.cancel)&&xe&&((je=(ge=f.cancel).onClick)==null||je.call(ge,ie),de())},className:R(S==null?void 0:S.cancelButton,(u=f==null?void 0:f.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,Se.isValidElement(f.action)?f.action:f.action&&pb(f.action)?Se.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||U,onClick:ie=>{var ge,je;pb(f.action)&&(ie.defaultPrevented||((je=(ge=f.action).onClick)==null||je.call(ge,ie),de()))},className:R(S==null?void 0:S.actionButton,(d=f==null?void 0:f.classNames)==null?void 0:d.actionButton)},f.action.label):null))};function I3(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var Oie=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:i,className:a,offset:o,theme:l="light",richColors:u,duration:d,style:p,visibleToasts:f=Nie,toastOptions:h,dir:y=I3(),gap:m=Pie,loadingIcon:g,icons:v,containerAriaLabel:b="Notifications",pauseWhenPageIsHidden:w,cn:A=_ie}=t,[I,C]=Se.useState([]),E=Se.useMemo(()=>Array.from(new Set([n].concat(I.filter(F=>F.position).map(F=>F.position)))),[I,n]),[N,_]=Se.useState([]),[U,$]=Se.useState(!1),[B,j]=Se.useState(!1),[x,k]=Se.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),M=Se.useRef(null),P=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=Se.useRef(null),L=Se.useRef(!1),V=Se.useCallback(F=>{var R;(R=I.find(z=>z.id===F.id))!=null&&R.delete||Ii.dismiss(F.id),C(z=>z.filter(({id:Q})=>Q!==F.id))},[I]);return Se.useEffect(()=>Ii.subscribe(F=>{if(F.dismiss){C(R=>R.map(z=>z.id===F.id?{...z,delete:!0}:z));return}setTimeout(()=>{GB.flushSync(()=>{C(R=>{let z=R.findIndex(Q=>Q.id===F.id);return z!==-1?[...R.slice(0,z),{...R[z],...F},...R.slice(z+1)]:[F,...R]})})})}),[]),Se.useEffect(()=>{if(l!=="system"){k(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?k("dark"):k("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:F})=>{k(F?"dark":"light")})},[l]),Se.useEffect(()=>{I.length<=1&&$(!1)},[I]),Se.useEffect(()=>{let F=R=>{var z,Q;r.every(O=>R[O]||R.code===O)&&($(!0),(z=M.current)==null||z.focus()),R.code==="Escape"&&(document.activeElement===M.current||(Q=M.current)!=null&&Q.contains(document.activeElement))&&$(!1)};return document.addEventListener("keydown",F),()=>document.removeEventListener("keydown",F)},[r]),Se.useEffect(()=>{if(M.current)return()=>{S.current&&(S.current.focus({preventScroll:!0}),S.current=null,L.current=!1)}},[M.current]),I.length?Se.createElement("section",{"aria-label":`${b} ${P}`,tabIndex:-1},E.map((F,R)=>{var z;let[Q,O]=F.split("-");return Se.createElement("ol",{key:F,dir:y==="auto"?I3():y,tabIndex:-1,ref:M,className:a,"data-sonner-toaster":!0,"data-theme":x,"data-y-position":Q,"data-x-position":O,style:{"--front-toast-height":`${((z=N[0])==null?void 0:z.height)||0}px`,"--offset":typeof o=="number"?`${o}px`:o||Sie,"--width":`${Mie}px`,"--gap":`${m}px`,...p},onBlur:H=>{L.current&&!H.currentTarget.contains(H.relatedTarget)&&(L.current=!1,S.current&&(S.current.focus({preventScroll:!0}),S.current=null))},onFocus:H=>{H.target instanceof HTMLElement&&H.target.dataset.dismissible==="false"||L.current||(L.current=!0,S.current=H.relatedTarget)},onMouseEnter:()=>$(!0),onMouseMove:()=>$(!0),onMouseLeave:()=>{B||$(!1)},onPointerDown:H=>{H.target instanceof HTMLElement&&H.target.dataset.dismissible==="false"||j(!0)},onPointerUp:()=>j(!1)},I.filter(H=>!H.position&&R===0||H.position===F).map((H,Y)=>{var G,Z;return Se.createElement(Lie,{key:H.id,icons:v,index:Y,toast:H,defaultRichColors:u,duration:(G=h==null?void 0:h.duration)!=null?G:d,className:h==null?void 0:h.className,descriptionClassName:h==null?void 0:h.descriptionClassName,invert:e,visibleToasts:f,closeButton:(Z=h==null?void 0:h.closeButton)!=null?Z:i,interacting:B,position:F,style:h==null?void 0:h.style,unstyled:h==null?void 0:h.unstyled,classNames:h==null?void 0:h.classNames,cancelButtonStyle:h==null?void 0:h.cancelButtonStyle,actionButtonStyle:h==null?void 0:h.actionButtonStyle,removeToast:V,toasts:I.filter(te=>te.position==H.position),heights:N.filter(te=>te.position==H.position),setHeights:_,expandByDefault:s,gap:m,loadingIcon:g,expanded:U,pauseWhenPageIsHidden:w,cn:A})}))})):null};const $ie=({...t})=>{const{theme:e="system"}=fie();return c.jsx(Oie,{theme:e,className:"toaster group",position:"bottom-right",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var Fie=VF.useId||(()=>{}),Bie=0;function Go(t){const[e,n]=T.useState(Fie());return Pr(()=>{n(r=>r??String(Bie++))},[t]),e?`radix-${e}`:""}const Uie=["top","right","bottom","left"],qu=Math.min,Ri=Math.max,Dx=Math.round,fb=Math.floor,Xu=t=>({x:t,y:t}),zie={left:"right",right:"left",bottom:"top",top:"bottom"},Vie={start:"end",end:"start"};function zC(t,e,n){return Ri(t,qu(e,n))}function hc(t,e){return typeof t=="function"?t(e):t}function mc(t){return t.split("-")[0]}function gm(t){return t.split("-")[1]}function eS(t){return t==="x"?"y":"x"}function tS(t){return t==="y"?"height":"width"}function Zu(t){return["top","bottom"].includes(mc(t))?"y":"x"}function nS(t){return eS(Zu(t))}function Hie(t,e,n){n===void 0&&(n=!1);const r=gm(t),s=nS(t),i=tS(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=_x(a)),[a,_x(a)]}function Wie(t){const e=_x(t);return[VC(t),e,VC(e)]}function VC(t){return t.replace(/start|end/g,e=>Vie[e])}function Gie(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:a;default:return[]}}function Kie(t,e,n,r){const s=gm(t);let i=Gie(mc(t),n==="start",r);return s&&(i=i.map(a=>a+"-"+s),e&&(i=i.concat(i.map(VC)))),i}function _x(t){return t.replace(/left|right|bottom|top/g,e=>zie[e])}function Yie(t){return{top:0,right:0,bottom:0,left:0,...t}}function LU(t){return typeof t!="number"?Yie(t):{top:t,right:t,bottom:t,left:t}}function Lx(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function k3(t,e,n){let{reference:r,floating:s}=t;const i=Zu(e),a=nS(e),o=tS(a),l=mc(e),u=i==="y",d=r.x+r.width/2-s.width/2,p=r.y+r.height/2-s.height/2,f=r[o]/2-s[o]/2;let h;switch(l){case"top":h={x:d,y:r.y-s.height};break;case"bottom":h={x:d,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:p};break;case"left":h={x:r.x-s.width,y:p};break;default:h={x:r.x,y:r.y}}switch(gm(e)){case"start":h[a]-=f*(n&&u?-1:1);break;case"end":h[a]+=f*(n&&u?-1:1);break}return h}const qie=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:a}=n,o=i.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:p}=k3(u,r,l),f=r,h={},y=0;for(let m=0;m<o.length;m++){const{name:g,fn:v}=o[m],{x:b,y:w,data:A,reset:I}=await v({x:d,y:p,initialPlacement:r,placement:f,strategy:s,middlewareData:h,rects:u,platform:a,elements:{reference:t,floating:e}});d=b??d,p=w??p,h={...h,[g]:{...h[g],...A}},I&&y<=50&&(y++,typeof I=="object"&&(I.placement&&(f=I.placement),I.rects&&(u=I.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:s}):I.rects),{x:d,y:p}=k3(u,f,l)),m=-1)}return{x:d,y:p,placement:f,strategy:s,middlewareData:h}};async function Ug(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:a,elements:o,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:p="floating",altBoundary:f=!1,padding:h=0}=hc(e,t),y=LU(h),g=o[f?p==="floating"?"reference":"floating":p],v=Lx(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(g)))==null||n?g:g.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(o.floating)),boundary:u,rootBoundary:d,strategy:l})),b=p==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(o.floating)),A=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},I=Lx(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:b,offsetParent:w,strategy:l}):b);return{top:(v.top-I.top+y.top)/A.y,bottom:(I.bottom-v.bottom+y.bottom)/A.y,left:(v.left-I.left+y.left)/A.x,right:(I.right-v.right+y.right)/A.x}}const Xie=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:a,elements:o,middlewareData:l}=e,{element:u,padding:d=0}=hc(t,e)||{};if(u==null)return{};const p=LU(d),f={x:n,y:r},h=nS(s),y=tS(h),m=await a.getDimensions(u),g=h==="y",v=g?"top":"left",b=g?"bottom":"right",w=g?"clientHeight":"clientWidth",A=i.reference[y]+i.reference[h]-f[h]-i.floating[y],I=f[h]-i.reference[h],C=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let E=C?C[w]:0;(!E||!await(a.isElement==null?void 0:a.isElement(C)))&&(E=o.floating[w]||i.floating[y]);const N=A/2-I/2,_=E/2-m[y]/2-1,U=qu(p[v],_),$=qu(p[b],_),B=U,j=E-m[y]-$,x=E/2-m[y]/2+N,k=zC(B,x,j),M=!l.arrow&&gm(s)!=null&&x!==k&&i.reference[y]/2-(x<B?U:$)-m[y]/2<0,P=M?x<B?x-B:x-j:0;return{[h]:f[h]+P,data:{[h]:k,centerOffset:x-k-P,...M&&{alignmentOffset:P}},reset:M}}}),Zie=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:a,initialPlacement:o,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:p=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:m=!0,...g}=hc(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=mc(s),b=Zu(o),w=mc(o)===o,A=await(l.isRTL==null?void 0:l.isRTL(u.floating)),I=f||(w||!m?[_x(o)]:Wie(o)),C=y!=="none";!f&&C&&I.push(...Kie(o,m,y,A));const E=[o,...I],N=await Ug(e,g),_=[];let U=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&_.push(N[v]),p){const x=Hie(s,a,A);_.push(N[x[0]],N[x[1]])}if(U=[...U,{placement:s,overflows:_}],!_.every(x=>x<=0)){var $,B;const x=((($=i.flip)==null?void 0:$.index)||0)+1,k=E[x];if(k)return{data:{index:x,overflows:U},reset:{placement:k}};let M=(B=U.filter(P=>P.overflows[0]<=0).sort((P,S)=>P.overflows[1]-S.overflows[1])[0])==null?void 0:B.placement;if(!M)switch(h){case"bestFit":{var j;const P=(j=U.filter(S=>{if(C){const L=Zu(S.placement);return L===b||L==="y"}return!0}).map(S=>[S.placement,S.overflows.filter(L=>L>0).reduce((L,V)=>L+V,0)]).sort((S,L)=>S[1]-L[1])[0])==null?void 0:j[0];P&&(M=P);break}case"initialPlacement":M=o;break}if(s!==M)return{reset:{placement:M}}}return{}}}};function C3(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function E3(t){return Uie.some(e=>t[e]>=0)}const Jie=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=hc(t,e);switch(r){case"referenceHidden":{const i=await Ug(e,{...s,elementContext:"reference"}),a=C3(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:E3(a)}}}case"escaped":{const i=await Ug(e,{...s,altBoundary:!0}),a=C3(i,n.floating);return{data:{escapedOffsets:a,escaped:E3(a)}}}default:return{}}}}};async function Qie(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=mc(n),o=gm(n),l=Zu(n)==="y",u=["left","top"].includes(a)?-1:1,d=i&&l?-1:1,p=hc(e,t);let{mainAxis:f,crossAxis:h,alignmentAxis:y}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return o&&typeof y=="number"&&(h=o==="end"?y*-1:y),l?{x:h*d,y:f*u}:{x:f*u,y:h*d}}const eae=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:a,middlewareData:o}=e,l=await Qie(e,t);return a===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:a}}}}},tae=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:a=!1,limiter:o={fn:g=>{let{x:v,y:b}=g;return{x:v,y:b}}},...l}=hc(t,e),u={x:n,y:r},d=await Ug(e,l),p=Zu(mc(s)),f=eS(p);let h=u[f],y=u[p];if(i){const g=f==="y"?"top":"left",v=f==="y"?"bottom":"right",b=h+d[g],w=h-d[v];h=zC(b,h,w)}if(a){const g=p==="y"?"top":"left",v=p==="y"?"bottom":"right",b=y+d[g],w=y-d[v];y=zC(b,y,w)}const m=o.fn({...e,[f]:h,[p]:y});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[f]:i,[p]:a}}}}}},nae=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:a}=e,{offset:o=0,mainAxis:l=!0,crossAxis:u=!0}=hc(t,e),d={x:n,y:r},p=Zu(s),f=eS(p);let h=d[f],y=d[p];const m=hc(o,e),g=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const w=f==="y"?"height":"width",A=i.reference[f]-i.floating[w]+g.mainAxis,I=i.reference[f]+i.reference[w]-g.mainAxis;h<A?h=A:h>I&&(h=I)}if(u){var v,b;const w=f==="y"?"width":"height",A=["top","left"].includes(mc(s)),I=i.reference[p]-i.floating[w]+(A&&((v=a.offset)==null?void 0:v[p])||0)+(A?0:g.crossAxis),C=i.reference[p]+i.reference[w]+(A?0:((b=a.offset)==null?void 0:b[p])||0)-(A?g.crossAxis:0);y<I?y=I:y>C&&(y=C)}return{[f]:h,[p]:y}}}},rae=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:a,elements:o}=e,{apply:l=()=>{},...u}=hc(t,e),d=await Ug(e,u),p=mc(s),f=gm(s),h=Zu(s)==="y",{width:y,height:m}=i.floating;let g,v;p==="top"||p==="bottom"?(g=p,v=f===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(v=p,g=f==="end"?"top":"bottom");const b=m-d.top-d.bottom,w=y-d.left-d.right,A=qu(m-d[g],b),I=qu(y-d[v],w),C=!e.middlewareData.shift;let E=A,N=I;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(N=w),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(E=b),C&&!f){const U=Ri(d.left,0),$=Ri(d.right,0),B=Ri(d.top,0),j=Ri(d.bottom,0);h?N=y-2*(U!==0||$!==0?U+$:Ri(d.left,d.right)):E=m-2*(B!==0||j!==0?B+j:Ri(d.top,d.bottom))}await l({...e,availableWidth:N,availableHeight:E});const _=await a.getDimensions(o.floating);return y!==_.width||m!==_.height?{reset:{rects:!0}}:{}}}};function pT(){return typeof window<"u"}function vm(t){return OU(t)?(t.nodeName||"").toLowerCase():"#document"}function $i(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ml(t){var e;return(e=(OU(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function OU(t){return pT()?t instanceof Node||t instanceof $i(t).Node:!1}function so(t){return pT()?t instanceof Element||t instanceof $i(t).Element:!1}function al(t){return pT()?t instanceof HTMLElement||t instanceof $i(t).HTMLElement:!1}function N3(t){return!pT()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof $i(t).ShadowRoot}function dv(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=io(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function sae(t){return["table","td","th"].includes(vm(t))}function fT(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function rS(t){const e=sS(),n=so(t)?io(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function iae(t){let e=Ju(t);for(;al(e)&&!Hh(e);){if(rS(e))return e;if(fT(e))return null;e=Ju(e)}return null}function sS(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Hh(t){return["html","body","#document"].includes(vm(t))}function io(t){return $i(t).getComputedStyle(t)}function hT(t){return so(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ju(t){if(vm(t)==="html")return t;const e=t.assignedSlot||t.parentNode||N3(t)&&t.host||ml(t);return N3(e)?e.host:e}function $U(t){const e=Ju(t);return Hh(e)?t.ownerDocument?t.ownerDocument.body:t.body:al(e)&&dv(e)?e:$U(e)}function zg(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=$U(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),a=$i(s);if(i){const o=HC(a);return e.concat(a,a.visualViewport||[],dv(s)?s:[],o&&n?zg(o):[])}return e.concat(s,zg(s,[],n))}function HC(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function FU(t){const e=io(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=al(t),i=s?t.offsetWidth:n,a=s?t.offsetHeight:r,o=Dx(n)!==i||Dx(r)!==a;return o&&(n=i,r=a),{width:n,height:r,$:o}}function iS(t){return so(t)?t:t.contextElement}function uh(t){const e=iS(t);if(!al(e))return Xu(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=FU(e);let a=(i?Dx(n.width):n.width)/r,o=(i?Dx(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const aae=Xu(0);function BU(t){const e=$i(t);return!sS()||!e.visualViewport?aae:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function oae(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==$i(t)?!1:e}function Lp(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=iS(t);let a=Xu(1);e&&(r?so(r)&&(a=uh(r)):a=uh(t));const o=oae(i,n,r)?BU(i):Xu(0);let l=(s.left+o.x)/a.x,u=(s.top+o.y)/a.y,d=s.width/a.x,p=s.height/a.y;if(i){const f=$i(i),h=r&&so(r)?$i(r):r;let y=f,m=HC(y);for(;m&&r&&h!==y;){const g=uh(m),v=m.getBoundingClientRect(),b=io(m),w=v.left+(m.clientLeft+parseFloat(b.paddingLeft))*g.x,A=v.top+(m.clientTop+parseFloat(b.paddingTop))*g.y;l*=g.x,u*=g.y,d*=g.x,p*=g.y,l+=w,u+=A,y=$i(m),m=HC(y)}}return Lx({width:d,height:p,x:l,y:u})}function lae(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",a=ml(r),o=e?fT(e.floating):!1;if(r===a||o&&i)return n;let l={scrollLeft:0,scrollTop:0},u=Xu(1);const d=Xu(0),p=al(r);if((p||!p&&!i)&&((vm(r)!=="body"||dv(a))&&(l=hT(r)),al(r))){const f=Lp(r);u=uh(r),d.x=f.x+r.clientLeft,d.y=f.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x,y:n.y*u.y-l.scrollTop*u.y+d.y}}function cae(t){return Array.from(t.getClientRects())}function WC(t,e){const n=hT(t).scrollLeft;return e?e.left+n:Lp(ml(t)).left+n}function uae(t){const e=ml(t),n=hT(t),r=t.ownerDocument.body,s=Ri(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Ri(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+WC(t);const o=-n.scrollTop;return io(r).direction==="rtl"&&(a+=Ri(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:a,y:o}}function dae(t,e){const n=$i(t),r=ml(t),s=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,o=0,l=0;if(s){i=s.width,a=s.height;const u=sS();(!u||u&&e==="fixed")&&(o=s.offsetLeft,l=s.offsetTop)}return{width:i,height:a,x:o,y:l}}function pae(t,e){const n=Lp(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=al(t)?uh(t):Xu(1),a=t.clientWidth*i.x,o=t.clientHeight*i.y,l=s*i.x,u=r*i.y;return{width:a,height:o,x:l,y:u}}function S3(t,e,n){let r;if(e==="viewport")r=dae(t,n);else if(e==="document")r=uae(ml(t));else if(so(e))r=pae(e,n);else{const s=BU(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return Lx(r)}function UU(t,e){const n=Ju(t);return n===e||!so(n)||Hh(n)?!1:io(n).position==="fixed"||UU(n,e)}function fae(t,e){const n=e.get(t);if(n)return n;let r=zg(t,[],!1).filter(o=>so(o)&&vm(o)!=="body"),s=null;const i=io(t).position==="fixed";let a=i?Ju(t):t;for(;so(a)&&!Hh(a);){const o=io(a),l=rS(a);!l&&o.position==="fixed"&&(s=null),(i?!l&&!s:!l&&o.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||dv(a)&&!l&&UU(t,a))?r=r.filter(d=>d!==a):s=o,a=Ju(a)}return e.set(t,r),r}function hae(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const a=[...n==="clippingAncestors"?fT(e)?[]:fae(e,this._c):[].concat(n),r],o=a[0],l=a.reduce((u,d)=>{const p=S3(e,d,s);return u.top=Ri(p.top,u.top),u.right=qu(p.right,u.right),u.bottom=qu(p.bottom,u.bottom),u.left=Ri(p.left,u.left),u},S3(e,o,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function mae(t){const{width:e,height:n}=FU(t);return{width:e,height:n}}function yae(t,e,n){const r=al(e),s=ml(e),i=n==="fixed",a=Lp(t,!0,i,e);let o={scrollLeft:0,scrollTop:0};const l=Xu(0);if(r||!r&&!i)if((vm(e)!=="body"||dv(s))&&(o=hT(e)),r){const h=Lp(e,!0,i,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else s&&(l.x=WC(s));let u=0,d=0;if(s&&!r&&!i){const h=s.getBoundingClientRect();d=h.top+o.scrollTop,u=h.left+o.scrollLeft-WC(s,h)}const p=a.left+o.scrollLeft-l.x-u,f=a.top+o.scrollTop-l.y-d;return{x:p,y:f,width:a.width,height:a.height}}function OA(t){return io(t).position==="static"}function R3(t,e){if(!al(t)||io(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ml(t)===n&&(n=n.ownerDocument.body),n}function zU(t,e){const n=$i(t);if(fT(t))return n;if(!al(t)){let s=Ju(t);for(;s&&!Hh(s);){if(so(s)&&!OA(s))return s;s=Ju(s)}return n}let r=R3(t,e);for(;r&&sae(r)&&OA(r);)r=R3(r,e);return r&&Hh(r)&&OA(r)&&!rS(r)?n:r||iae(t)||n}const gae=async function(t){const e=this.getOffsetParent||zU,n=this.getDimensions,r=await n(t.floating);return{reference:yae(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function vae(t){return io(t).direction==="rtl"}const bae={convertOffsetParentRelativeRectToViewportRelativeRect:lae,getDocumentElement:ml,getClippingRect:hae,getOffsetParent:zU,getElementRects:gae,getClientRects:cae,getDimensions:mae,getScale:uh,isElement:so,isRTL:vae};function wae(t,e){let n=null,r;const s=ml(t);function i(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),i();const{left:u,top:d,width:p,height:f}=t.getBoundingClientRect();if(o||e(),!p||!f)return;const h=fb(d),y=fb(s.clientWidth-(u+p)),m=fb(s.clientHeight-(d+f)),g=fb(u),b={rootMargin:-h+"px "+-y+"px "+-m+"px "+-g+"px",threshold:Ri(0,qu(1,l))||1};let w=!0;function A(I){const C=I[0].intersectionRatio;if(C!==l){if(!w)return a();C?a(!1,C):r=setTimeout(()=>{a(!1,1e-7)},1e3)}w=!1}try{n=new IntersectionObserver(A,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(A,b)}n.observe(t)}return a(!0),i}function xae(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=iS(t),d=s||i?[...u?zg(u):[],...zg(e)]:[];d.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const p=u&&o?wae(u,n):null;let f=-1,h=null;a&&(h=new ResizeObserver(v=>{let[b]=v;b&&b.target===u&&h&&(h.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=h)==null||w.observe(e)})),n()}),u&&!l&&h.observe(u),h.observe(e));let y,m=l?Lp(t):null;l&&g();function g(){const v=Lp(t);m&&(v.x!==m.x||v.y!==m.y||v.width!==m.width||v.height!==m.height)&&n(),m=v,y=requestAnimationFrame(g)}return n(),()=>{var v;d.forEach(b=>{s&&b.removeEventListener("scroll",n),i&&b.removeEventListener("resize",n)}),p==null||p(),(v=h)==null||v.disconnect(),h=null,l&&cancelAnimationFrame(y)}}const Tae=eae,Aae=tae,Iae=Zie,kae=rae,Cae=Jie,M3=Xie,Eae=nae,Nae=(t,e,n)=>{const r=new Map,s={platform:bae,...n},i={...s.platform,_c:r};return qie(t,e,{...s,platform:i})};var xw=typeof document<"u"?T.useLayoutEffect:T.useEffect;function Ox(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Ox(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Ox(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function VU(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function P3(t,e){const n=VU(t);return Math.round(e*n)/n}function $A(t){const e=T.useRef(t);return xw(()=>{e.current=t}),e}function Sae(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:a}={},transform:o=!0,whileElementsMounted:l,open:u}=t,[d,p]=T.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,h]=T.useState(r);Ox(f,r)||h(r);const[y,m]=T.useState(null),[g,v]=T.useState(null),b=T.useCallback(S=>{S!==C.current&&(C.current=S,m(S))},[]),w=T.useCallback(S=>{S!==E.current&&(E.current=S,v(S))},[]),A=i||y,I=a||g,C=T.useRef(null),E=T.useRef(null),N=T.useRef(d),_=l!=null,U=$A(l),$=$A(s),B=$A(u),j=T.useCallback(()=>{if(!C.current||!E.current)return;const S={placement:e,strategy:n,middleware:f};$.current&&(S.platform=$.current),Nae(C.current,E.current,S).then(L=>{const V={...L,isPositioned:B.current!==!1};x.current&&!Ox(N.current,V)&&(N.current=V,sf.flushSync(()=>{p(V)}))})},[f,e,n,$,B]);xw(()=>{u===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,p(S=>({...S,isPositioned:!1})))},[u]);const x=T.useRef(!1);xw(()=>(x.current=!0,()=>{x.current=!1}),[]),xw(()=>{if(A&&(C.current=A),I&&(E.current=I),A&&I){if(U.current)return U.current(A,I,j);j()}},[A,I,j,U,_]);const k=T.useMemo(()=>({reference:C,floating:E,setReference:b,setFloating:w}),[b,w]),M=T.useMemo(()=>({reference:A,floating:I}),[A,I]),P=T.useMemo(()=>{const S={position:n,left:0,top:0};if(!M.floating)return S;const L=P3(M.floating,d.x),V=P3(M.floating,d.y);return o?{...S,transform:"translate("+L+"px, "+V+"px)",...VU(M.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:L,top:V}},[n,o,M.floating,d.x,d.y]);return T.useMemo(()=>({...d,update:j,refs:k,elements:M,floatingStyles:P}),[d,j,k,M,P])}const Rae=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?M3({element:r.current,padding:s}).fn(n):{}:r?M3({element:r,padding:s}).fn(n):{}}}},Mae=(t,e)=>({...Tae(t),options:[t,e]}),Pae=(t,e)=>({...Aae(t),options:[t,e]}),jae=(t,e)=>({...Eae(t),options:[t,e]}),Dae=(t,e)=>({...Iae(t),options:[t,e]}),_ae=(t,e)=>({...kae(t),options:[t,e]}),Lae=(t,e)=>({...Cae(t),options:[t,e]}),Oae=(t,e)=>({...Rae(t),options:[t,e]});var $ae="Arrow",HU=T.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return c.jsx(vt.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});HU.displayName=$ae;var Fae=HU;function Bae(t,e=[]){let n=[];function r(i,a){const o=T.createContext(a),l=n.length;n=[...n,a];function u(p){const{scope:f,children:h,...y}=p,m=(f==null?void 0:f[t][l])||o,g=T.useMemo(()=>y,Object.values(y));return c.jsx(m.Provider,{value:g,children:h})}function d(p,f){const h=(f==null?void 0:f[t][l])||o,y=T.useContext(h);if(y)return y;if(a!==void 0)return a;throw new Error(`\`${p}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=n.map(a=>T.createContext(a));return function(o){const l=(o==null?void 0:o[t])||i;return T.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return s.scopeName=t,[r,Uae(s,...e)]}function Uae(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((o,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...o,...p}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function WU(t){const[e,n]=T.useState(void 0);return Pr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,o;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;a=u.inlineSize,o=u.blockSize}else a=t.offsetWidth,o=t.offsetHeight;n({width:a,height:o})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var aS="Popper",[GU,mT]=Bae(aS),[zae,KU]=GU(aS),YU=t=>{const{__scopePopper:e,children:n}=t,[r,s]=T.useState(null);return c.jsx(zae,{scope:e,anchor:r,onAnchorChange:s,children:n})};YU.displayName=aS;var qU="PopperAnchor",XU=T.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=KU(qU,n),a=T.useRef(null),o=mn(e,a);return T.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:c.jsx(vt.div,{...s,ref:o})});XU.displayName=qU;var oS="PopperContent",[Vae,Hae]=GU(oS),ZU=T.forwardRef((t,e)=>{var Y,G,Z,te,q,ne;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:p="partial",hideWhenDetached:f=!1,updatePositionStrategy:h="optimized",onPlaced:y,...m}=t,g=KU(oS,n),[v,b]=T.useState(null),w=mn(e,Re=>b(Re)),[A,I]=T.useState(null),C=WU(A),E=(C==null?void 0:C.width)??0,N=(C==null?void 0:C.height)??0,_=r+(i!=="center"?"-"+i:""),U=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},$=Array.isArray(u)?u:[u],B=$.length>0,j={padding:U,boundary:$.filter(Gae),altBoundary:B},{refs:x,floatingStyles:k,placement:M,isPositioned:P,middlewareData:S}=Sae({strategy:"fixed",placement:_,whileElementsMounted:(...Re)=>xae(...Re,{animationFrame:h==="always"}),elements:{reference:g.anchor},middleware:[Mae({mainAxis:s+N,alignmentAxis:a}),l&&Pae({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?jae():void 0,...j}),l&&Dae({...j}),_ae({...j,apply:({elements:Re,rects:se,availableWidth:ve,availableHeight:We})=>{const{width:fe,height:ee}=se.reference,pe=Re.floating.style;pe.setProperty("--radix-popper-available-width",`${ve}px`),pe.setProperty("--radix-popper-available-height",`${We}px`),pe.setProperty("--radix-popper-anchor-width",`${fe}px`),pe.setProperty("--radix-popper-anchor-height",`${ee}px`)}}),A&&Oae({element:A,padding:o}),Kae({arrowWidth:E,arrowHeight:N}),f&&Lae({strategy:"referenceHidden",...j})]}),[L,V]=e7(M),F=Hs(y);Pr(()=>{P&&(F==null||F())},[P,F]);const R=(Y=S.arrow)==null?void 0:Y.x,z=(G=S.arrow)==null?void 0:G.y,Q=((Z=S.arrow)==null?void 0:Z.centerOffset)!==0,[O,H]=T.useState();return Pr(()=>{v&&H(window.getComputedStyle(v).zIndex)},[v]),c.jsx("div",{ref:x.setFloating,"data-radix-popper-content-wrapper":"",style:{...k,transform:P?k.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:O,"--radix-popper-transform-origin":[(te=S.transformOrigin)==null?void 0:te.x,(q=S.transformOrigin)==null?void 0:q.y].join(" "),...((ne=S.hide)==null?void 0:ne.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:c.jsx(Vae,{scope:n,placedSide:L,onArrowChange:I,arrowX:R,arrowY:z,shouldHideArrow:Q,children:c.jsx(vt.div,{"data-side":L,"data-align":V,...m,ref:w,style:{...m.style,animation:P?void 0:"none"}})})})});ZU.displayName=oS;var JU="PopperArrow",Wae={top:"bottom",right:"left",bottom:"top",left:"right"},QU=T.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=Hae(JU,r),a=Wae[i.placedSide];return c.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:c.jsx(Fae,{...s,ref:n,style:{...s.style,display:"block"}})})});QU.displayName=JU;function Gae(t){return t!==null}var Kae=t=>({name:"transformOrigin",options:t,fn(e){var g,v,b;const{placement:n,rects:r,middlewareData:s}=e,a=((g=s.arrow)==null?void 0:g.centerOffset)!==0,o=a?0:t.arrowWidth,l=a?0:t.arrowHeight,[u,d]=e7(n),p={start:"0%",center:"50%",end:"100%"}[d],f=(((v=s.arrow)==null?void 0:v.x)??0)+o/2,h=(((b=s.arrow)==null?void 0:b.y)??0)+l/2;let y="",m="";return u==="bottom"?(y=a?p:`${f}px`,m=`${-l}px`):u==="top"?(y=a?p:`${f}px`,m=`${r.floating.height+l}px`):u==="right"?(y=`${-l}px`,m=a?p:`${h}px`):u==="left"&&(y=`${r.floating.width+l}px`,m=a?p:`${h}px`),{data:{x:y,y:m}}}});function e7(t){const[e,n="center"]=t.split("-");return[e,n]}var Yae=YU,t7=XU,n7=ZU,r7=QU,[yT,LFe]=Rc("Tooltip",[mT]),lS=mT(),s7="TooltipProvider",qae=700,j3="tooltip.open",[Xae,i7]=yT(s7),a7=t=>{const{__scopeTooltip:e,delayDuration:n=qae,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[a,o]=T.useState(!0),l=T.useRef(!1),u=T.useRef(0);return T.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),c.jsx(Xae,{scope:e,isOpenDelayed:a,delayDuration:n,onOpen:T.useCallback(()=>{window.clearTimeout(u.current),o(!1)},[]),onClose:T.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>o(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:T.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:i})};a7.displayName=s7;var o7="Tooltip",[OFe,gT]=yT(o7),GC="TooltipTrigger",Zae=T.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=gT(GC,n),i=i7(GC,n),a=lS(n),o=T.useRef(null),l=mn(e,o,s.onTriggerChange),u=T.useRef(!1),d=T.useRef(!1),p=T.useCallback(()=>u.current=!1,[]);return T.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),c.jsx(t7,{asChild:!0,...a,children:c.jsx(vt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:ht(t.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:ht(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:ht(t.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:ht(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:ht(t.onBlur,s.onClose),onClick:ht(t.onClick,s.onClose)})})});Zae.displayName=GC;var Jae="TooltipPortal",[$Fe,Qae]=yT(Jae,{forceMount:void 0}),Wh="TooltipContent",l7=T.forwardRef((t,e)=>{const n=Qae(Wh,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,a=gT(Wh,t.__scopeTooltip);return c.jsx(pd,{present:r||a.open,children:a.disableHoverableContent?c.jsx(c7,{side:s,...i,ref:e}):c.jsx(eoe,{side:s,...i,ref:e})})}),eoe=T.forwardRef((t,e)=>{const n=gT(Wh,t.__scopeTooltip),r=i7(Wh,t.__scopeTooltip),s=T.useRef(null),i=mn(e,s),[a,o]=T.useState(null),{trigger:l,onClose:u}=n,d=s.current,{onPointerInTransitChange:p}=r,f=T.useCallback(()=>{o(null),p(!1)},[p]),h=T.useCallback((y,m)=>{const g=y.currentTarget,v={x:y.clientX,y:y.clientY},b=soe(v,g.getBoundingClientRect()),w=ioe(v,b),A=aoe(m.getBoundingClientRect()),I=loe([...w,...A]);o(I),p(!0)},[p]);return T.useEffect(()=>()=>f(),[f]),T.useEffect(()=>{if(l&&d){const y=g=>h(g,d),m=g=>h(g,l);return l.addEventListener("pointerleave",y),d.addEventListener("pointerleave",m),()=>{l.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",m)}}},[l,d,h,f]),T.useEffect(()=>{if(a){const y=m=>{const g=m.target,v={x:m.clientX,y:m.clientY},b=(l==null?void 0:l.contains(g))||(d==null?void 0:d.contains(g)),w=!ooe(v,a);b?f():w&&(f(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[l,d,a,u,f]),c.jsx(c7,{...t,ref:i})}),[toe,noe]=yT(o7,{isInside:!1}),c7=T.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:a,...o}=t,l=gT(Wh,n),u=lS(n),{onClose:d}=l;return T.useEffect(()=>(document.addEventListener(j3,d),()=>document.removeEventListener(j3,d)),[d]),T.useEffect(()=>{if(l.trigger){const p=f=>{const h=f.target;h!=null&&h.contains(l.trigger)&&d()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[l.trigger,d]),c.jsx(cv,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:p=>p.preventDefault(),onDismiss:d,children:c.jsxs(n7,{"data-state":l.stateAttribute,...u,...o,ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(qB,{children:r}),c.jsx(toe,{scope:n,isInside:!0,children:c.jsx(jre,{id:l.contentId,role:"tooltip",children:s||r})})]})})});l7.displayName=Wh;var u7="TooltipArrow",roe=T.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=lS(n);return noe(u7,n).isInside?null:c.jsx(r7,{...s,...r,ref:e})});roe.displayName=u7;function soe(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function ioe(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function aoe(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function ooe(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const o=e[i].x,l=e[i].y,u=e[a].x,d=e[a].y;l>r!=d>r&&n<(u-o)*(r-l)/(d-l)+o&&(s=!s)}return s}function loe(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),coe(e)}function coe(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],a=e[e.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],a=n[n.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var uoe=a7,d7=l7;const doe=uoe,poe=T.forwardRef(({className:t,sideOffset:e=4,...n},r)=>c.jsx(d7,{ref:r,sideOffset:e,className:dt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));poe.displayName=d7.displayName;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vg(){return Vg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vg.apply(this,arguments)}var xu;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(xu||(xu={}));const D3="popstate";function foe(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:a,hash:o}=r.location;return KC("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:$x(s)}return moe(e,n,null,t)}function or(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function p7(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hoe(){return Math.random().toString(36).substr(2,8)}function _3(t,e){return{usr:t.state,key:t.key,idx:e}}function KC(t,e,n,r){return n===void 0&&(n=null),Vg({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?bm(e):e,{state:n,key:e&&e.key||r||hoe()})}function $x(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function bm(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function moe(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,o=xu.Pop,l=null,u=d();u==null&&(u=0,a.replaceState(Vg({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function p(){o=xu.Pop;let g=d(),v=g==null?null:g-u;u=g,l&&l({action:o,location:m.location,delta:v})}function f(g,v){o=xu.Push;let b=KC(m.location,g,v);u=d()+1;let w=_3(b,u),A=m.createHref(b);try{a.pushState(w,"",A)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;s.location.assign(A)}i&&l&&l({action:o,location:m.location,delta:1})}function h(g,v){o=xu.Replace;let b=KC(m.location,g,v);u=d();let w=_3(b,u),A=m.createHref(b);a.replaceState(w,"",A),i&&l&&l({action:o,location:m.location,delta:0})}function y(g){let v=s.location.origin!=="null"?s.location.origin:s.location.href,b=typeof g=="string"?g:$x(g);return b=b.replace(/ $/,"%20"),or(v,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,v)}let m={get action(){return o},get location(){return t(s,a)},listen(g){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(D3,p),l=g,()=>{s.removeEventListener(D3,p),l=null}},createHref(g){return e(s,g)},createURL:y,encodeLocation(g){let v=y(g);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:h,go(g){return a.go(g)}};return m}var L3;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(L3||(L3={}));function yoe(t,e,n){return n===void 0&&(n="/"),goe(t,e,n,!1)}function goe(t,e,n,r){let s=typeof e=="string"?bm(e):e,i=cS(s.pathname||"/",n);if(i==null)return null;let a=f7(t);voe(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=Soe(i);o=Eoe(a[l],u,r)}return o}function f7(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&(or(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Ou([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(or(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),f7(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:koe(u,i.index),routesMeta:d})};return t.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let l of h7(i.path))s(i,a,l)}),e}function h7(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=h7(r.join("/")),o=[];return o.push(...a.map(l=>l===""?i:[i,l].join("/"))),s&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function voe(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Coe(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const boe=/^:[\w-]+$/,woe=3,xoe=2,Toe=1,Aoe=10,Ioe=-2,O3=t=>t==="*";function koe(t,e){let n=t.split("/"),r=n.length;return n.some(O3)&&(r+=Ioe),e&&(r+=xoe),n.filter(s=>!O3(s)).reduce((s,i)=>s+(boe.test(i)?woe:i===""?Toe:Aoe),r)}function Coe(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function Eoe(t,e,n){let{routesMeta:r}=t,s={},i="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",p=$3({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!p&&u&&n&&!r[r.length-1].route.index&&(p=$3({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!p)return null;Object.assign(s,p.params),a.push({params:s,pathname:Ou([i,p.pathname]),pathnameBase:joe(Ou([i,p.pathnameBase])),route:f}),p.pathnameBase!=="/"&&(i=Ou([i,p.pathnameBase]))}return a}function $3(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Noe(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((u,d,p)=>{let{paramName:f,isOptional:h}=d;if(f==="*"){let m=o[p]||"";a=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const y=o[p];return h&&!y?u[f]=void 0:u[f]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:t}}function Noe(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),p7(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Soe(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return p7(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function cS(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Roe(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?bm(t):t;return{pathname:n?n.startsWith("/")?n:Moe(n,e):e,search:Doe(r),hash:_oe(s)}}function Moe(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function FA(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Poe(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function uS(t,e){let n=Poe(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function dS(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=bm(t):(s=Vg({},t),or(!s.pathname||!s.pathname.includes("?"),FA("?","pathname","search",s)),or(!s.pathname||!s.pathname.includes("#"),FA("#","pathname","hash",s)),or(!s.search||!s.search.includes("#"),FA("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=n;else{let p=e.length-1;if(!r&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),p-=1;s.pathname=f.join("/")}o=p>=0?e[p]:"/"}let l=Roe(s,o),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Ou=t=>t.join("/").replace(/\/\/+/g,"/"),joe=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Doe=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,_oe=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Loe(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const m7=["post","put","patch","delete"];new Set(m7);const Ooe=["get",...m7];new Set(Ooe);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hg(){return Hg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hg.apply(this,arguments)}const pS=T.createContext(null),$oe=T.createContext(null),fd=T.createContext(null),vT=T.createContext(null),Mc=T.createContext({outlet:null,matches:[],isDataRoute:!1}),y7=T.createContext(null);function Foe(t,e){let{relative:n}=e===void 0?{}:e;wm()||or(!1);let{basename:r,navigator:s}=T.useContext(fd),{hash:i,pathname:a,search:o}=v7(t,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:Ou([r,a])),s.createHref({pathname:l,search:o,hash:i})}function wm(){return T.useContext(vT)!=null}function yl(){return wm()||or(!1),T.useContext(vT).location}function g7(t){T.useContext(fd).static||T.useLayoutEffect(t)}function mo(){let{isDataRoute:t}=T.useContext(Mc);return t?Qoe():Boe()}function Boe(){wm()||or(!1);let t=T.useContext(pS),{basename:e,future:n,navigator:r}=T.useContext(fd),{matches:s}=T.useContext(Mc),{pathname:i}=yl(),a=JSON.stringify(uS(s,n.v7_relativeSplatPath)),o=T.useRef(!1);return g7(()=>{o.current=!0}),T.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let p=dS(u,JSON.parse(a),i,d.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Ou([e,p.pathname])),(d.replace?r.replace:r.push)(p,d.state,d)},[e,r,a,i,t])}function Uoe(){let{matches:t}=T.useContext(Mc),e=t[t.length-1];return e?e.params:{}}function v7(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=T.useContext(fd),{matches:s}=T.useContext(Mc),{pathname:i}=yl(),a=JSON.stringify(uS(s,r.v7_relativeSplatPath));return T.useMemo(()=>dS(t,JSON.parse(a),i,n==="path"),[t,a,i,n])}function zoe(t,e){return Voe(t,e)}function Voe(t,e,n,r){wm()||or(!1);let{navigator:s}=T.useContext(fd),{matches:i}=T.useContext(Mc),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=yl(),d;if(e){var p;let g=typeof e=="string"?bm(e):e;l==="/"||(p=g.pathname)!=null&&p.startsWith(l)||or(!1),d=g}else d=u;let f=d.pathname||"/",h=f;if(l!=="/"){let g=l.replace(/^\//,"").split("/");h="/"+f.replace(/^\//,"").split("/").slice(g.length).join("/")}let y=yoe(t,{pathname:h}),m=Yoe(y&&y.map(g=>Object.assign({},g,{params:Object.assign({},o,g.params),pathname:Ou([l,s.encodeLocation?s.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?l:Ou([l,s.encodeLocation?s.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,n,r);return e&&m?T.createElement(vT.Provider,{value:{location:Hg({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:xu.Pop}},m):m}function Hoe(){let t=Joe(),e=Loe(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:s},n):null,null)}const Woe=T.createElement(Hoe,null);class Goe extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?T.createElement(Mc.Provider,{value:this.props.routeContext},T.createElement(y7.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Koe(t){let{routeContext:e,match:n,children:r}=t,s=T.useContext(pS);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(Mc.Provider,{value:e},r)}function Yoe(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=(s=n)==null?void 0:s.errors;if(o!=null){let d=a.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);d>=0||or(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let p=a[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=d),p.route.id){let{loaderData:f,errors:h}=n,y=p.route.loader&&f[p.route.id]===void 0&&(!h||h[p.route.id]===void 0);if(p.route.lazy||y){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,p,f)=>{let h,y=!1,m=null,g=null;n&&(h=o&&p.route.id?o[p.route.id]:void 0,m=p.route.errorElement||Woe,l&&(u<0&&f===0?(y=!0,g=null):u===f&&(y=!0,g=p.route.hydrateFallbackElement||null)));let v=e.concat(a.slice(0,f+1)),b=()=>{let w;return h?w=m:y?w=g:p.route.Component?w=T.createElement(p.route.Component,null):p.route.element?w=p.route.element:w=d,T.createElement(Koe,{match:p,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:w})};return n&&(p.route.ErrorBoundary||p.route.errorElement||f===0)?T.createElement(Goe,{location:n.location,revalidation:n.revalidation,component:m,error:h,children:b(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):b()},null)}var b7=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(b7||{}),Fx=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Fx||{});function qoe(t){let e=T.useContext(pS);return e||or(!1),e}function Xoe(t){let e=T.useContext($oe);return e||or(!1),e}function Zoe(t){let e=T.useContext(Mc);return e||or(!1),e}function w7(t){let e=Zoe(),n=e.matches[e.matches.length-1];return n.route.id||or(!1),n.route.id}function Joe(){var t;let e=T.useContext(y7),n=Xoe(Fx.UseRouteError),r=w7(Fx.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Qoe(){let{router:t}=qoe(b7.UseNavigateStable),e=w7(Fx.UseNavigateStable),n=T.useRef(!1);return g7(()=>{n.current=!0}),T.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Hg({fromRouteId:e},i)))},[t,e])}function F3(t){let{to:e,replace:n,state:r,relative:s}=t;wm()||or(!1);let{future:i,static:a}=T.useContext(fd),{matches:o}=T.useContext(Mc),{pathname:l}=yl(),u=mo(),d=dS(e,uS(o,i.v7_relativeSplatPath),l,s==="path"),p=JSON.stringify(d);return T.useEffect(()=>u(JSON.parse(p),{replace:n,state:r,relative:s}),[u,p,s,n,r]),null}function ls(t){or(!1)}function ele(t){let{basename:e="/",children:n=null,location:r,navigationType:s=xu.Pop,navigator:i,static:a=!1,future:o}=t;wm()&&or(!1);let l=e.replace(/^\/*/,"/"),u=T.useMemo(()=>({basename:l,navigator:i,static:a,future:Hg({v7_relativeSplatPath:!1},o)}),[l,o,i,a]);typeof r=="string"&&(r=bm(r));let{pathname:d="/",search:p="",hash:f="",state:h=null,key:y="default"}=r,m=T.useMemo(()=>{let g=cS(d,l);return g==null?null:{location:{pathname:g,search:p,hash:f,state:h,key:y},navigationType:s}},[l,d,p,f,h,y,s]);return m==null?null:T.createElement(fd.Provider,{value:u},T.createElement(vT.Provider,{children:n,value:m}))}function tle(t){let{children:e,location:n}=t;return zoe(YC(e),n)}new Promise(()=>{});function YC(t,e){e===void 0&&(e=[]);let n=[];return T.Children.forEach(t,(r,s)=>{if(!T.isValidElement(r))return;let i=[...e,s];if(r.type===T.Fragment){n.push.apply(n,YC(r.props.children,i));return}r.type!==ls&&or(!1),!r.props.index||!r.props.children||or(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=YC(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qC(){return qC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qC.apply(this,arguments)}function nle(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function rle(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function sle(t,e){return t.button===0&&(!e||e==="_self")&&!rle(t)}const ile=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ale="6";try{window.__reactRouterVersion=ale}catch{}const ole="startTransition",B3=VF[ole];function lle(t){let{basename:e,children:n,future:r,window:s}=t,i=T.useRef();i.current==null&&(i.current=foe({window:s,v5Compat:!0}));let a=i.current,[o,l]=T.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=T.useCallback(p=>{u&&B3?B3(()=>l(p)):l(p)},[l,u]);return T.useLayoutEffect(()=>a.listen(d),[a,d]),T.createElement(ele,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}const cle=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ule=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,XC=T.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:o,target:l,to:u,preventScrollReset:d,viewTransition:p}=e,f=nle(e,ile),{basename:h}=T.useContext(fd),y,m=!1;if(typeof u=="string"&&ule.test(u)&&(y=u,cle))try{let w=new URL(window.location.href),A=u.startsWith("//")?new URL(w.protocol+u):new URL(u),I=cS(A.pathname,h);A.origin===w.origin&&I!=null?u=I+A.search+A.hash:m=!0}catch{}let g=Foe(u,{relative:s}),v=dle(u,{replace:a,state:o,target:l,preventScrollReset:d,relative:s,viewTransition:p});function b(w){r&&r(w),w.defaultPrevented||v(w)}return T.createElement("a",qC({},f,{href:y||g,onClick:m||i?r:b,ref:n,target:l}))});var U3;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(U3||(U3={}));var z3;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(z3||(z3={}));function dle(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:o}=e===void 0?{}:e,l=mo(),u=yl(),d=v7(t,{relative:a});return T.useCallback(p=>{if(sle(p,n)){p.preventDefault();let f=r!==void 0?r:$x(u)===$x(d);l(t,{replace:f,state:s,preventScrollReset:i,relative:a,viewTransition:o})}},[u,l,d,r,s,n,t,i,a,o])}const ple=cT("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),re=T.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const a=r?jp:"button";return c.jsx(a,{className:dt(ple({variant:e,size:n,className:t})),ref:i,...s})});re.displayName="Button";const bT=()=>c.jsxs("div",{className:"framer-1fpxu4o",children:[c.jsx("div",{className:"framer-1yp8dcl"}),c.jsx("div",{className:"framer-1tkmzk9"}),c.jsx("div",{className:"framer-if0sjr"}),c.jsx("div",{className:"framer-1xgonwz"}),c.jsx("div",{className:"framer-1lv1w0o"})]}),xm="/assets/cloud-9FvyjO3L.png",fle=()=>{const t=T.useRef(null),e=mo(),n=()=>{e("/dashboard")};return T.useEffect(()=>{var d;const u=(d=t.current)==null?void 0:d.querySelectorAll("[data-animate]");u==null||u.forEach((p,f)=>{setTimeout(()=>{p.classList.add("animate-hero-word")},f*80)})},[]),c.jsxs("section",{id:"hero",ref:t,className:"relative min-h-screen flex flex-col justify-center overflow-hidden pt-20 pb-24",style:{backgroundColor:"#f0f8ffe6"},children:[c.jsx(bT,{}),c.jsx("div",{className:"flex justify-center mb-8 relative z-10",children:c.jsx("div",{className:"w-16 h-16 bg-foreground rounded-xl flex items-center justify-center shadow-lg opacity-0 animate-fade-in-up",style:{animationDelay:"0.2s"},children:c.jsx("div",{className:"w-8 h-8 bg-background rounded-md"})})}),c.jsx("div",{className:"max-w-[1200px] mx-auto px-6 relative z-10",children:c.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[c.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-30",style:{zIndex:1},children:c.jsx("img",{src:xm,alt:"",className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-[40%] w-[900px] max-w-none mix-blend-soft-light"})}),c.jsxs("h1",{className:"font-antic text-5xl md:text-6xl lg:text-[64px] font-normal text-foreground mb-6 leading-tight tracking-tight relative mt-8",style:{zIndex:2},children:[c.jsx("span",{className:"inline-block opacity-0","data-animate":!0,style:{animationDelay:"0s"},children:"Register,"})," ",c.jsx("span",{className:"inline-block font-beau text-[68px] opacity-0","data-animate":!0,style:{animationDelay:"0.08s"},children:"Manage,"}),c.jsx("span",{className:"inline-block opacity-0","data-animate":!0,style:{animationDelay:"0.16s"},children:"& Monetize"}),c.jsx("br",{}),c.jsx("span",{className:"inline-block opacity-0","data-animate":!0,style:{animationDelay:"0.24s"},children:"Your Creative IP with"})," ",c.jsx("span",{className:"inline-block font-beau text-[68px] opacity-0","data-animate":!0,style:{animationDelay:"0.32s"},children:" Story Protocol. "}),c.jsx("span",{className:"inline-block opacity-0","data-animate":!0,style:{animationDelay:"0.4s"},children:""})]}),c.jsx("p",{className:"font-inter text-base md:text-lg text-foreground/80 mb-12 max-w-xl mx-auto opacity-0 animate-fade-in-up relative",style:{animationDelay:"0.8s",zIndex:2},children:"IP-OPS is the ultimate platform for creators to establish on-chain provenance, manage derivatives, and automate royalties for their digital and real-world intellectual property."}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center relative",style:{zIndex:2},children:[c.jsxs(re,{size:"lg",className:"btn-gradient text-white rounded-[10px] font-inter font-medium px-8 py-6 text-sm opacity-0 inline-flex items-center gap-2",style:{animation:"fade-in-up 0.6s cubic-bezier(0.44, 0, 0.56, 1) forwards",animationDelay:"1s",background:"linear-gradient(125deg, rgb(119, 75, 229) -4%, rgb(119, 75, 229) 100%)",boxShadow:"rgb(192, 176, 232) 0px 1px 2px 0px inset, rgba(99, 69, 173, 0.35) 0px 0.706592px 0.706592px -0.583333px, rgba(99, 69, 173, 0.34) 0px 1.80656px 1.80656px -1.16667px, rgba(99, 69, 173, 0.33) 0px 3.62176px 3.62176px -1.75px, rgba(99, 69, 173, 0.3) 0px 6.8656px 6.8656px -2.33333px, rgba(99, 69, 173, 0.26) 0px 13.6468px 13.6468px -2.91667px, rgba(99, 69, 173, 0.15) 0px 30px 30px -3.5px"},onClick:n,children:["Register Your IP",c.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 256 256",children:c.jsx("path",{d:"M221.66,133.66l-72,72A8,8,0,0,1,136,200V136H40a8,8,0,0,1,0-16h96V56a8,8,0,0,1,13.66-5.66l72,72A8,8,0,0,1,221.66,133.66Z"})})]}),c.jsxs(re,{size:"lg",className:"text-white rounded-[10px] font-inter font-medium px-8 py-6 text-sm opacity-0 inline-flex items-center gap-2",style:{animation:"fade-in-up 0.6s cubic-bezier(0.44, 0, 0.56, 1) forwards",animationDelay:"1.1s",background:"linear-gradient(127deg, rgb(14, 28, 41) -68%, rgb(50, 61, 104) 100%)",boxShadow:"rgb(184, 193, 230) 0px 1px 2px 0px inset, rgba(46, 64, 128, 0.35) 0px 0.706592px 0.706592px -0.583333px, rgba(46, 64, 128, 0.34) 0px 1.80656px 1.80656px -1.16667px, rgba(46, 64, 128, 0.33) 0px 3.62176px 3.62176px -1.75px, rgba(46, 64, 128, 0.3) 0px 6.8656px 6.8656px -2.33333px, rgba(46, 64, 128, 0.26) 0px 13.6468px 13.6468px -2.91667px, rgba(46, 64, 128, 0.15) 0px 30px 30px -3.5px"},children:["Explore Marketplace",c.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 256 256",children:c.jsx("path",{d:"M140,180a12,12,0,1,1-12-12A12,12,0,0,1,140,180ZM128,72c-22.06,0-40,16.15-40,36v4a8,8,0,0,0,16,0v-4c0-11,10.77-20,24-20s24,9,24,20-10.77,20-24,20a8,8,0,0,0-8,8v8a8,8,0,0,0,16,0v-.72c18.24-3.35,32-17.9,32-35.28C168,88.15,150.06,72,128,72Zm104,56A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128Z"})})]})]})]})})]})},hle=()=>c.jsxs("div",{className:"integration-container",children:[c.jsxs("div",{className:"left-icons",children:[c.jsx("div",{className:"icon-pill icon-1",children:c.jsx("div",{className:"icon-container",children:c.jsxs("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[c.jsx("rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"}),c.jsx("path",{d:"m2 7 10 6 10-6"})]})})}),c.jsx("div",{className:"icon-pill icon-2",children:c.jsx("div",{className:"icon-container",children:c.jsx("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:c.jsx("path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"})})})}),c.jsx("div",{className:"icon-pill icon-3",children:c.jsx("div",{className:"icon-container",children:c.jsxs("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[c.jsx("circle",{cx:"12",cy:"12",r:"10"}),c.jsx("circle",{cx:"12",cy:"12",r:"4"}),c.jsx("path",{d:"M12 2v4"}),c.jsx("path",{d:"M12 18v4"}),c.jsx("path",{d:"M4.93 4.93l2.83 2.83"}),c.jsx("path",{d:"M16.24 16.24l2.83 2.83"}),c.jsx("path",{d:"M2 12h4"}),c.jsx("path",{d:"M18 12h4"}),c.jsx("path",{d:"M4.93 19.07l2.83-2.83"}),c.jsx("path",{d:"M16.24 7.76l2.83-2.83"})]})})})]}),c.jsxs("div",{className:"right-icons",children:[c.jsx("div",{className:"icon-pill icon-4",children:c.jsx("div",{className:"icon-container",children:c.jsx("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:c.jsx("path",{d:"M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"})})})}),c.jsx("div",{className:"icon-pill icon-5",children:c.jsx("div",{className:"icon-container",children:c.jsxs("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[c.jsx("path",{d:"M9 17H7A5 5 0 0 1 7 7h2"}),c.jsx("path",{d:"M15 7h2a5 5 0 1 1 0 10h-2"}),c.jsx("line",{x1:"8",y1:"12",x2:"16",y2:"12"})]})})}),c.jsx("div",{className:"icon-pill icon-6",children:c.jsx("div",{className:"icon-container",children:c.jsx("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:c.jsx("path",{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"})})})})]}),c.jsx("div",{className:"central-logo",children:c.jsx("div",{className:"logo-container",children:c.jsx("div",{className:"logo-icon",children:c.jsx("svg",{viewBox:"0 0 24 24",width:"24",height:"24",fill:"white",children:c.jsx("path",{d:"M2 12l7-7 3 3 7-7v5l-7 7-3-3-7 7V12z"})})})})}),c.jsxs("div",{className:"connecting-lines",children:[c.jsx("svg",{className:"line-left-top",viewBox:"0 0 400 200",style:{position:"absolute",top:"9px",left:"60px",width:"400px",height:"200px",pointerEvents:"none"},children:c.jsx("path",{d:"M 0 1 L 122.022 1 C 130.298 1 137.01 7.702 137.022 15.978 L 137.175 122.029 C 137.187 130.302 143.895 137.003 152.168 137.007 L 275.007 137.066 C 283.289 137.07 290 143.785 290 152.066 L 290 177 C 290 185.284 296.716 192 305 192 L 437 192",fill:"transparent",stroke:"rgb(156,163,175)",strokeWidth:"1.5",strokeMiterlimit:"10",strokeDasharray:"6,4",strokeLinecap:"round"})}),c.jsx("svg",{className:"line-left-middle",viewBox:"0 0 300 60",style:{position:"absolute",top:"calc(50% - 30px)",left:"104px",width:"300px",height:"60px",pointerEvents:"none"},children:c.jsx("path",{d:"M 0 30 L 300 30",fill:"transparent",stroke:"rgb(156,163,175)",strokeWidth:"1.5",strokeMiterlimit:"10",strokeDasharray:"6,4",strokeLinecap:"round"})}),c.jsx("svg",{className:"line-left-bottom",viewBox:"0 0 400 200",style:{position:"absolute",bottom:"1px",left:"60px",width:"400px",height:"200px",pointerEvents:"none"},children:c.jsx("path",{d:"M 0 192 L 122.022 192 C 130.298 192 137.01 185.298 137.022 177.022 L 137.175 70.971 C 137.187 62.698 143.906 55.997 152.179 55.993 L 274.996 55.933 C 283.278 55.93 290 49.215 290 40.933 L 290 16 C 290 7.716 296.716 1 305 1 L 437 1",fill:"transparent",stroke:"rgb(156,163,175)",strokeWidth:"1.5",strokeMiterlimit:"10",strokeDasharray:"6,4",strokeLinecap:"round"})}),c.jsx("svg",{className:"line-right-top",viewBox:"0 0 400 200",style:{position:"absolute",top:"9px",right:"104px",width:"400px",height:"200px",pointerEvents:"none"},children:c.jsx("path",{d:"M 437 1 L 314.978 1 C 306.702 1 299.99 7.702 299.978 15.978 L 299.825 122.029 C 299.813 130.302 293.105 137.003 284.832 137.007 L 161.993 137.066 C 153.711 137.07 147 143.785 147 152.066 L 147 177 C 147 185.284 140.284 192 132 192 L 0 192",fill:"transparent",stroke:"rgb(156,163,175)",strokeWidth:"1.5",strokeMiterlimit:"10",strokeDasharray:"6,4",strokeLinecap:"round"})}),c.jsx("svg",{className:"line-right-middle",viewBox:"0 0 300 60",style:{position:"absolute",top:"calc(50% - 30px)",right:"104px",width:"300px",height:"60px",pointerEvents:"none"},children:c.jsx("path",{d:"M 300 30 L 0 30",fill:"transparent",stroke:"rgb(156,163,175)",strokeWidth:"1.5",strokeMiterlimit:"10",strokeDasharray:"6,4",strokeLinecap:"round"})}),c.jsx("svg",{className:"line-right-bottom",viewBox:"0 0 400 200",style:{position:"absolute",bottom:"1px",right:"104px",width:"400px",height:"200px",pointerEvents:"none"},children:c.jsx("path",{d:"M 437 192 L 314.978 192 C 306.702 192 299.99 185.298 299.978 177.022 L 299.825 70.971 C 299.813 62.698 293.105 55.997 284.832 55.993 L 161.993 55.933 C 153.711 55.93 147 49.215 147 40.933 L 147 16 C 147 7.716 140.284 1 132 1 L 0 1",fill:"transparent",stroke:"rgb(156,163,175)",strokeWidth:"1.5",strokeMiterlimit:"10",strokeDasharray:"6,4",strokeLinecap:"round"})})]})]}),mle=()=>{const t=T.useRef(null);T.useEffect(()=>{var s;const n=new IntersectionObserver(i=>{i.forEach(a=>{a.isIntersecting&&a.target.classList.add("animate-fade-in-up")})},{threshold:.1}),r=(s=t.current)==null?void 0:s.querySelectorAll("[data-scroll-reveal]");return r==null||r.forEach(i=>n.observe(i)),()=>n.disconnect()},[]);const e=["On-Chain Provenance","Automated Royalties","Derivative Tracking"];return c.jsx("section",{id:"integrations",ref:t,className:"py-24 relative",children:c.jsx("div",{className:"max-w-[1200px] mx-auto px-6",children:c.jsxs("div",{className:"bg-[#d8dfe5] rounded-[20px] p-12 md:p-16 card-shadow relative opacity-0","data-scroll-reveal":!0,style:{boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",animationDelay:"0.2s"},children:[c.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-10 overflow-hidden rounded-[20px]",children:c.jsx("img",{src:xm,alt:"",className:"absolute top-1/2 right-0 transform -translate-y-1/2 translate-x-1/4 w-[600px] max-w-none mix-blend-soft-light"})}),c.jsxs("div",{className:"text-center mb-16",children:[c.jsx("div",{className:"inline-block bg-white/80 backdrop-blur-sm rounded-full px-4 py-2 text-sm font-medium text-gray-700 mb-6",children:"Story Protocol Integration"}),c.jsx("h2",{className:"font-['Plus_Jakarta_Sans'] mb-2  text-[#0e1c29] text-[44px] not-italic font-normal h-[52.8px] tracking-[-0.44px] leading-[52.8px]",children:"Deeply Integrated with Story Protocol"})]}),c.jsx("div",{className:"mb-16","data-scroll-reveal":!0,style:{animationDelay:"0.4s"},children:c.jsx(hle,{})}),c.jsx("div",{className:"flex flex-col md:flex-row justify-center items-center gap-8 md:gap-12 text-center",children:e.map((n,r)=>c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:"font-medium text-gray-700 text-lg",children:n}),r<e.length-1&&c.jsx("div",{className:"hidden md:block w-px h-8 bg-gray-400 mx-8 opacity-50",style:{background:"repeating-linear-gradient(to bottom, #9ca3af 0px, #9ca3af 3px, transparent 3px, transparent 6px)"}})]},n))})]})})})},yle=()=>{const t=T.useRef(null);T.useEffect(()=>{var i;const r=new IntersectionObserver(a=>{a.forEach(o=>{o.isIntersecting&&o.target.classList.add("animate-fade-in-up")})},{threshold:.1}),s=(i=t.current)==null?void 0:i.querySelectorAll("[data-scroll-reveal]");return s==null||s.forEach(a=>r.observe(a)),()=>r.disconnect()},[]);const e=["Immutable Ownership Records","Verifiable Creation Timestamps","Transparent Licensing History","Public IP Registry"],n=["Automatic Royalty Payouts","Seamless Derivative Linking","Fair Revenue Distribution","Clear Attribution Trails"];return c.jsxs("section",{id:"insights",ref:t,className:"py-24 relative overflow-hidden",children:[c.jsx("div",{className:"absolute top-1/2 left-0 pointer-events-none opacity-20 transform -translate-y-1/2 -translate-x-1/3",children:c.jsx("img",{src:xm,alt:"",className:"w-[500px] mix-blend-soft-light"})}),c.jsxs("div",{className:"max-w-[1200px] mx-auto px-6 relative z-10",children:[c.jsxs("div",{className:"text-center mb-16 opacity-0","data-scroll-reveal":!0,children:[c.jsx("h2",{className:"font-jakarta text-5xl md:text-[56px] font-italic text-foreground mb-4",children:"Unveiling IP-OPS Insights"}),c.jsx("p",{className:"font-inter text-base md:text-lg text-foreground/80 max-w-2xl mx-auto",children:"Gain unparalleled clarity into your intellectual property, from creation to monetization, all powered by Story Protocol."})]}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-12 mb-16",children:[c.jsx("div",{className:"opacity-0","data-scroll-reveal":!0,children:c.jsxs("div",{className:"bg-card rounded-2xl p-8 card-shadow hover-lift",children:[c.jsx("h3",{className:"font-inter text-2xl font-semibold text-foreground mb-4",children:"On-Chain Provenance & Transparency"}),c.jsx("p",{className:"font-inter text-base text-foreground/80 mb-6 leading-relaxed",children:"Every action related to your IP is immutably recorded on the blockchain, providing undeniable proof of ownership, creation, and licensing history."}),c.jsx("div",{className:"space-y-3",children:e.map((r,s)=>c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-5 h-5 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:c.jsx($C,{className:"w-3 h-3 text-primary"})}),c.jsx("span",{className:"font-inter text-sm text-foreground/80",children:r})]},`insight-${s}`))})]})}),c.jsx("div",{className:"opacity-0","data-scroll-reveal":!0,children:c.jsxs("div",{className:"bg-card rounded-2xl p-8 card-shadow hover-lift",children:[c.jsx("h3",{className:"font-inter text-2xl font-semibold text-foreground mb-4",children:"Automated Royalty & Derivative Tracking"}),c.jsx("p",{className:"font-inter text-base text-foreground/80 mb-6 leading-relaxed",children:"Experience seamless revenue distribution and automatic derivative linking, ensuring fair compensation and clear attribution across the entire IP lifecycle."}),c.jsx("div",{className:"space-y-3",children:n.map((r,s)=>c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-5 h-5 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:c.jsx($C,{className:"w-3 h-3 text-primary"})}),c.jsx("span",{className:"font-inter text-sm text-foreground/80",children:r})]},`benefit-${s}`))})]})})]})]})]})},gle=()=>{const t=T.useRef(null);T.useEffect(()=>{var s;const n=new IntersectionObserver(i=>{i.forEach(a=>{a.isIntersecting&&a.target.classList.add("animate-fade-in-up")})},{threshold:.1}),r=(s=t.current)==null?void 0:s.querySelectorAll("[data-scroll-reveal]");return r==null||r.forEach(i=>n.observe(i)),()=>n.disconnect()},[]);const e=[{title:"Effortless Royalty Distribution",description:"Story Protocol automates royalty payouts directly to all eligible rights holders, ensuring fair and transparent compensation without manual intervention."},{title:"Seamless Derivative Tracking",description:"Automatically link and track derivative works to their parent IPs, maintaining a clear chain of provenance and ensuring creators benefit from their original content."},{title:"On-Chain Licensing & Usage",description:"Manage and enforce IP licenses directly on the blockchain, granting permissions and collecting fees with unparalleled transparency and security."},{title:"Real-Time Revenue Insights",description:"Gain instant visibility into your IP's performance and royalty earnings through comprehensive, up-to-date dashboards and analytics."},{title:"Dispute Resolution Framework",description:"Our integrated system provides tools and processes for efficiently resolving IP disputes, supported by transparent on-chain records."},{title:"Global Reach & Accessibility",description:"Expand the reach of your intellectual property to a global audience with a decentralized platform that operates 24/7, accessible to creators worldwide."}];return c.jsxs("section",{id:"auto-repaying",ref:t,className:"py-24 bg-card/30 relative overflow-hidden",children:[c.jsx("div",{className:"absolute top-0 right-0 pointer-events-none opacity-40",children:c.jsx("img",{src:xm,alt:"",className:"w-[400px] mix-blend-screen"})}),c.jsxs("div",{className:"max-w-[1200px] mx-auto px-6 relative z-10",children:[c.jsxs("div",{className:"text-center mb-16 opacity-0","data-scroll-reveal":!0,children:[c.jsx("p",{className:"font-inter text-sm font-medium text-primary mb-3 uppercase tracking-wider",children:"Automated Monetization"}),c.jsx("h2",{className:"font-antic text-5xl md:text-[56px] font-italic text-foreground mb-4",children:"Automatic Royalty & Derivative Management"}),c.jsx("p",{className:"font-inter text-base md:text-lg text-foreground/80 max-w-2xl mx-auto",children:"IP-OPS streamlines your IP monetization, ensuring creators are fairly compensated and derivatives are tracked seamlessly."})]}),c.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map((n,r)=>c.jsxs("div",{"data-scroll-reveal":!0,className:"rounded-2xl p-8 card-shadow opacity-0 hover-lift",style:{background:"linear-gradient(to bottom, #ffffff 0%, #d8dfe5 100%)",animationDelay:`${r*.1}s`},children:[c.jsx("h3",{className:"font-inter text-xl font-semibold text-foreground mb-3",children:n.title}),c.jsx("p",{className:"font-inter text-sm text-foreground/70 leading-relaxed",children:n.description})]},`auto-feature-${r}`))}),c.jsxs("div",{className:"mt-16 flex flex-wrap justify-center gap-6 opacity-0","data-scroll-reveal":!0,children:[c.jsx("div",{className:"text-center px-8 py-4",children:c.jsx("div",{className:"font-inter text-sm font-medium text-muted-foreground mb-1",children:"Fair Compensation"})}),c.jsx("div",{className:"text-center px-8 py-4",children:c.jsx("div",{className:"font-inter text-sm font-medium text-muted-foreground mb-1",children:"Transparent Transactions"})}),c.jsx("div",{className:"text-center px-8 py-4",children:c.jsx("div",{className:"font-inter text-sm font-medium text-muted-foreground mb-1",children:"Creator Empowerment"})})]})]})]})};var fS="Collapsible",[vle,x7]=Rc(fS),[ble,hS]=vle(fS),T7=T.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:i,onOpenChange:a,...o}=t,[l=!1,u]=il({prop:r,defaultProp:s,onChange:a});return c.jsx(ble,{scope:n,disabled:i,contentId:Go(),open:l,onOpenToggle:T.useCallback(()=>u(d=>!d),[u]),children:c.jsx(vt.div,{"data-state":yS(l),"data-disabled":i?"":void 0,...o,ref:e})})});T7.displayName=fS;var A7="CollapsibleTrigger",I7=T.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,s=hS(A7,n);return c.jsx(vt.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":yS(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:e,onClick:ht(t.onClick,s.onOpenToggle)})});I7.displayName=A7;var mS="CollapsibleContent",k7=T.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=hS(mS,t.__scopeCollapsible);return c.jsx(pd,{present:n||s.open,children:({present:i})=>c.jsx(wle,{...r,ref:e,present:i})})});k7.displayName=mS;var wle=T.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:s,...i}=t,a=hS(mS,n),[o,l]=T.useState(r),u=T.useRef(null),d=mn(e,u),p=T.useRef(0),f=p.current,h=T.useRef(0),y=h.current,m=a.open||o,g=T.useRef(m),v=T.useRef();return T.useEffect(()=>{const b=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(b)},[]),Pr(()=>{const b=u.current;if(b){v.current=v.current||{transitionDuration:b.style.transitionDuration,animationName:b.style.animationName},b.style.transitionDuration="0s",b.style.animationName="none";const w=b.getBoundingClientRect();p.current=w.height,h.current=w.width,g.current||(b.style.transitionDuration=v.current.transitionDuration,b.style.animationName=v.current.animationName),l(r)}},[a.open,r]),c.jsx(vt.div,{"data-state":yS(a.open),"data-disabled":a.disabled?"":void 0,id:a.contentId,hidden:!m,...i,ref:d,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...t.style},children:m&&s})});function yS(t){return t?"open":"closed"}var xle=T7,Tle=I7,Ale=k7,Ile=T.createContext(void 0);function wT(t){const e=T.useContext(Ile);return t||e||"ltr"}var Pc="Accordion",kle=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[gS,Cle,Ele]=iT(Pc),[xT,FFe]=Rc(Pc,[Ele,x7]),vS=x7(),C7=Se.forwardRef((t,e)=>{const{type:n,...r}=t,s=r,i=r;return c.jsx(gS.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?c.jsx(Mle,{...i,ref:e}):c.jsx(Rle,{...s,ref:e})})});C7.displayName=Pc;var[E7,Nle]=xT(Pc),[N7,Sle]=xT(Pc,{collapsible:!1}),Rle=Se.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},collapsible:i=!1,...a}=t,[o,l]=il({prop:n,defaultProp:r,onChange:s});return c.jsx(E7,{scope:t.__scopeAccordion,value:o?[o]:[],onItemOpen:l,onItemClose:Se.useCallback(()=>i&&l(""),[i,l]),children:c.jsx(N7,{scope:t.__scopeAccordion,collapsible:i,children:c.jsx(S7,{...a,ref:e})})})}),Mle=Se.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},...i}=t,[a=[],o]=il({prop:n,defaultProp:r,onChange:s}),l=Se.useCallback(d=>o((p=[])=>[...p,d]),[o]),u=Se.useCallback(d=>o((p=[])=>p.filter(f=>f!==d)),[o]);return c.jsx(E7,{scope:t.__scopeAccordion,value:a,onItemOpen:l,onItemClose:u,children:c.jsx(N7,{scope:t.__scopeAccordion,collapsible:!0,children:c.jsx(S7,{...i,ref:e})})})}),[Ple,TT]=xT(Pc),S7=Se.forwardRef((t,e)=>{const{__scopeAccordion:n,disabled:r,dir:s,orientation:i="vertical",...a}=t,o=Se.useRef(null),l=mn(o,e),u=Cle(n),p=wT(s)==="ltr",f=ht(t.onKeyDown,h=>{var N;if(!kle.includes(h.key))return;const y=h.target,m=u().filter(_=>{var U;return!((U=_.ref.current)!=null&&U.disabled)}),g=m.findIndex(_=>_.ref.current===y),v=m.length;if(g===-1)return;h.preventDefault();let b=g;const w=0,A=v-1,I=()=>{b=g+1,b>A&&(b=w)},C=()=>{b=g-1,b<w&&(b=A)};switch(h.key){case"Home":b=w;break;case"End":b=A;break;case"ArrowRight":i==="horizontal"&&(p?I():C());break;case"ArrowDown":i==="vertical"&&I();break;case"ArrowLeft":i==="horizontal"&&(p?C():I());break;case"ArrowUp":i==="vertical"&&C();break}const E=b%v;(N=m[E].ref.current)==null||N.focus()});return c.jsx(Ple,{scope:n,disabled:r,direction:s,orientation:i,children:c.jsx(gS.Slot,{scope:n,children:c.jsx(vt.div,{...a,"data-orientation":i,ref:l,onKeyDown:r?void 0:f})})})}),Bx="AccordionItem",[jle,bS]=xT(Bx),R7=Se.forwardRef((t,e)=>{const{__scopeAccordion:n,value:r,...s}=t,i=TT(Bx,n),a=Nle(Bx,n),o=vS(n),l=Go(),u=r&&a.value.includes(r)||!1,d=i.disabled||t.disabled;return c.jsx(jle,{scope:n,open:u,disabled:d,triggerId:l,children:c.jsx(xle,{"data-orientation":i.orientation,"data-state":L7(u),...o,...s,ref:e,disabled:d,open:u,onOpenChange:p=>{p?a.onItemOpen(r):a.onItemClose(r)}})})});R7.displayName=Bx;var M7="AccordionHeader",P7=Se.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=TT(Pc,n),i=bS(M7,n);return c.jsx(vt.h3,{"data-orientation":s.orientation,"data-state":L7(i.open),"data-disabled":i.disabled?"":void 0,...r,ref:e})});P7.displayName=M7;var ZC="AccordionTrigger",j7=Se.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=TT(Pc,n),i=bS(ZC,n),a=Sle(ZC,n),o=vS(n);return c.jsx(gS.ItemSlot,{scope:n,children:c.jsx(Tle,{"aria-disabled":i.open&&!a.collapsible||void 0,"data-orientation":s.orientation,id:i.triggerId,...o,...r,ref:e})})});j7.displayName=ZC;var D7="AccordionContent",_7=Se.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=TT(Pc,n),i=bS(D7,n),a=vS(n);return c.jsx(Ale,{role:"region","aria-labelledby":i.triggerId,"data-orientation":s.orientation,...a,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});_7.displayName=D7;function L7(t){return t?"open":"closed"}var Dle=C7,_le=R7,Lle=P7,O7=j7,$7=_7;const Ole=Dle,F7=T.forwardRef(({className:t,...e},n)=>c.jsx(_le,{ref:n,className:dt("border-b",t),...e}));F7.displayName="AccordionItem";const B7=T.forwardRef(({className:t,children:e,...n},r)=>c.jsx(Lle,{className:"flex",children:c.jsxs(O7,{ref:r,className:dt("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...n,children:[e,c.jsx(G5,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));B7.displayName=O7.displayName;const U7=T.forwardRef(({className:t,children:e,...n},r)=>c.jsx($7,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:c.jsx("div",{className:dt("pb-4 pt-0",t),children:e})}));U7.displayName=$7.displayName;const $le=()=>{const t=T.useRef(null);T.useEffect(()=>{var s;const n=new IntersectionObserver(i=>{i.forEach(a=>{a.isIntersecting&&a.target.classList.add("animate-fade-in-up")})},{threshold:.1}),r=(s=t.current)==null?void 0:s.querySelectorAll("[data-scroll-reveal]");return r==null||r.forEach(i=>n.observe(i)),()=>n.disconnect()},[]);const e=[{question:"What is IP-OPS and how does it utilize Story Protocol?",answer:"IP-OPS is a decentralized platform built on Story Protocol, designed to empower creators with on-chain tools for registering, managing, and monetizing their intellectual property. Story Protocol provides the foundational infrastructure for IP assets, derivatives, and royalty distribution."},{question:"How does IP-OPS ensure my IP's authenticity and provenance?",answer:"Through Story Protocol, every IP registration on IP-OPS creates an immutable record on the blockchain. This provides verifiable proof of creation, ownership, and a transparent history of all associated licenses and derivatives."},{question:"Can I track derivatives of my IP on IP-OPS?",answer:"Yes, IP-OPS, powered by Story Protocol, offers robust derivative tracking. When a new work is identified as a derivative of your IP, it can be linked on-chain, automatically setting up royalty flows for the original creator."},{question:"How are royalties distributed for my IP on IP-OPS?",answer:"Royalties are automatically distributed via Story Protocol's royalty module. Once your IP is registered and licensed, any revenue generated by your original or derivative works is split and paid out to all eligible rights holders according to pre-defined terms."},{question:"Is IP-OPS designed for all types of creators and intellectual property?",answer:"IP-OPS is built to support a wide range of creative IPs, from digital art and music to written works and real-world assets. Our platform provides a flexible framework for creators across various industries to manage and monetize their unique intellectual property."}];return c.jsx("section",{id:"faqs",ref:t,className:"py-24 relative",children:c.jsx("div",{className:"max-w-[1200px] mx-auto px-6",children:c.jsxs("div",{className:"bg-[#d8dfe5] rounded-[20px] p-12 md:p-16 card-shadow relative opacity-0","data-scroll-reveal":!0,style:{boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",animationDelay:"0.2s"},children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsx("div",{className:"inline-block bg-white/80 backdrop-blur-sm rounded-full px-4 py-2 text-sm font-medium text-gray-700 mb-6",children:"FAQ"}),c.jsx("h2",{className:"font-['Plus_Jakarta_Sans'] mb-2 text-[#0e1c29] text-[44px] not-italic font-normal h-[52.8px] tracking-[-0.44px] leading-[52.8px]",children:"Your IP-OPS Questions, Answered."}),c.jsx("p",{className:"font-inter text-base md:text-lg text-[#0e1c29]/80 max-w-2xl mx-auto mt-4",children:"Everything you need to know about IP-OPS, Story Protocol, and on-chain IP management."})]}),c.jsx("div",{className:"max-w-3xl mx-auto opacity-0","data-scroll-reveal":!0,style:{animationDelay:"0.4s"},children:c.jsx(Ole,{type:"single",collapsible:!0,className:"space-y-4",children:e.map((n,r)=>c.jsxs(F7,{value:`item-${r}`,className:"bg-white/80 backdrop-blur-sm rounded-2xl px-6 border-0",style:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"},children:[c.jsx(B7,{className:"font-jakarta text-lg font-semibold text-[#0e1c29] hover:no-underline py-6",children:n.question}),c.jsx(U7,{className:"font-inter text-base text-[#0e1c29]/80 leading-relaxed pb-6",children:n.answer})]},`faq-${r}`))})})]})})})},Fle=()=>{const t=T.useRef(null);T.useEffect(()=>{var s;const n=new IntersectionObserver(i=>{i.forEach(a=>{a.isIntersecting&&a.target.classList.add("animate-fade-in-up")})},{threshold:.1}),r=(s=t.current)==null?void 0:s.querySelectorAll("[data-scroll-reveal]");return r==null||r.forEach(i=>n.observe(i)),()=>n.disconnect()},[]);const e=[{name:"Alex 'BeatMaster' Reed",role:"Independent Musician",content:"IP-OPS with Story Protocol has been a game-changer for my music. Registering my tracks on-chain and seeing royalties flow directly has brought a level of transparency and control I never thought possible. No more opaque record deals!",rating:5},{name:"Maya 'PixelDreams' Singh",role:"Digital Artist & NFT Creator",content:"As a digital artist, protecting my work is crucial. IP-OPS's derivative tracking is incredible; it ensures that even remixes and adaptations of my art give proper attribution and royalties. Its truly empowering!",rating:5},{name:"Dr. Ben Carter",role:"Academic Author & Researcher",content:"The on-chain provenance provided by IP-OPS is invaluable for academic integrity. Registering my research papers secures my authorship and allows for clear licensing terms for collaborations and further studies. A revolutionary tool for creators.",rating:5}];return c.jsxs("section",{id:"reviews",ref:t,className:"py-24 relative overflow-hidden",children:[c.jsx("div",{className:"absolute top-0 right-0 pointer-events-none opacity-25 transform translate-x-1/3 -translate-y-1/4",children:c.jsx("img",{src:xm,alt:"",className:"w-[450px] mix-blend-soft-light"})}),c.jsxs("div",{className:"max-w-[1200px] mx-auto px-6 relative z-10",children:[c.jsxs("div",{className:"text-center mb-16 opacity-0","data-scroll-reveal":!0,children:[c.jsx("h2",{className:"font-jakarta text-5xl md:text-[56px] font-italic text-foreground mb-4",children:"Creators Trust IP-OPS."}),c.jsx("p",{className:"font-inter text-lg text-foreground/80 max-w-2xl mx-auto",children:"Hear from artists, musicians, and innovators benefiting from transparent IP management."})]}),c.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:e.map((n,r)=>c.jsxs("div",{"data-scroll-reveal":!0,className:"bg-card rounded-2xl p-8 card-shadow opacity-0",style:{animationDelay:`${r*.1}s`},children:[c.jsx("div",{className:"flex gap-1 mb-4",children:Array.from({length:n.rating},(s,i)=>c.jsx(Ase,{className:"w-5 h-5 fill-primary text-primary"},`star-${r}-${i}`))}),c.jsxs("p",{className:"font-inter text-base text-foreground/90 mb-6 leading-relaxed",children:['"',n.content,'"']}),c.jsxs("div",{className:"border-t border-border divider-dotted pt-4",children:[c.jsx("p",{className:"font-jakarta font-semibold text-foreground",children:n.name}),c.jsx("p",{className:"font-inter text-sm text-foreground/70",children:n.role})]})]},`review-${r}`))})]})]})},V3="/assets/Orion-C76Ip51K.png",Ble=()=>{const[t,e]=T.useState(!1);return T.useEffect(()=>{const n=()=>{const r=window.scrollY;e(r>100)};return window.addEventListener("scroll",n),()=>window.removeEventListener("scroll",n)},[]),c.jsxs("header",{className:"navbar-container",children:[c.jsxs("div",{className:`navbar-desktop ${t?"navbar-scrolled":""}`,children:[c.jsx("div",{className:"navbar-logo",children:c.jsx("div",{className:"logo-placeholder",children:c.jsx("div",{className:"logo-icon",children:c.jsx("img",{src:V3,alt:"Orion"})})})}),c.jsxs("nav",{className:"navbar-nav",children:[c.jsx("a",{href:"#features",className:"nav-link",children:"Features"}),c.jsx("a",{href:"#pricing",className:"nav-link",children:"Pricing"}),c.jsx("a",{href:"#changelog",className:"nav-link",children:"Changelog"}),c.jsx("a",{href:"#contact",className:"nav-link",children:"Contact"})]}),c.jsx("a",{href:"/dashboard",className:"cta-button",children:"Launch App"})]}),c.jsxs("div",{className:`navbar-mobile ${t?"navbar-scrolled":""}`,children:[c.jsx("div",{className:"navbar-logo",children:c.jsx("div",{className:"logo-placeholder",children:c.jsx("div",{className:"logo-icon",children:c.jsx("img",{src:V3,alt:"Orion"})})})}),c.jsxs("div",{className:"hamburger-menu",children:[c.jsx("div",{className:"hamburger-line"}),c.jsx("div",{className:"hamburger-line"}),c.jsx("div",{className:"hamburger-line"})]})]})]})},Ule=()=>{const t=T.useRef(null);return T.useEffect(()=>{var r;const e=new IntersectionObserver(s=>{s.forEach(i=>{i.isIntersecting&&i.target.classList.add("animate-fade-in-up")})},{threshold:.1}),n=(r=t.current)==null?void 0:r.querySelectorAll("[data-scroll-reveal]");return n==null||n.forEach(s=>e.observe(s)),()=>e.disconnect()},[]),c.jsx("section",{id:"insights",ref:t,className:"py-24 relative",children:c.jsx("div",{className:"max-w-[1200px] mx-auto px-6",children:c.jsxs("div",{className:"bg-[#d8dfe5] rounded-[20px] p-12 md:p-16 card-shadow relative opacity-0 overflow-hidden","data-scroll-reveal":!0,style:{boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",animationDelay:"0.2s"},children:[c.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-10",children:c.jsx("img",{src:xm,alt:"",className:"absolute top-1/2 right-0 transform -translate-y-1/2 translate-x-1/4 w-[600px] max-w-none mix-blend-soft-light"})}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center relative z-10",children:[c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"inline-flex items-center gap-3 bg-white/80 backdrop-blur-sm rounded-full px-4 py-2 border border-[#d8dfe5]",children:[c.jsx("div",{className:"w-5 h-5 rounded-full bg-[#0e1c29] flex items-center justify-center",children:c.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 256 256",children:c.jsx("path",{d:"M64.12,147.8a4,4,0,0,1-4,4.2H16a8,8,0,0,1-7.8-6.17,8.35,8.35,0,0,1,1.62-6.93A67.79,67.79,0,0,1,37,117.51a40,40,0,1,1,66.46-35.8,3.94,3.94,0,0,1-2.27,4.18A64.08,64.08,0,0,0,64,144C64,145.28,64,146.54,64.12,147.8Zm182-8.91A67.76,67.76,0,0,0,219,117.51a40,40,0,1,0-66.46-35.8,3.94,3.94,0,0,0,2.27,4.18A64.08,64.08,0,0,1,192,144c0,1.28,0,2.54-.12,3.8a4,4,0,0,0,4,4.2H240a8,8,0,0,0,7.8-6.17A8.33,8.33,0,0,0,246.17,138.89Zm-89,43.18a48,48,0,1,0-58.37,0A72.13,72.13,0,0,0,65.07,212A8,8,0,0,0,72,224H184a8,8,0,0,0,6.93-12A72.15,72.15,0,0,0,157.19,182.07Z"})})}),c.jsx("span",{className:"text-sm font-medium text-[#0e1c29] opacity-80",children:"Trusted by creators worldwide"})]}),c.jsx("h2",{className:"font-antic text-[#0e1c29] text-[44px] md:text-[52px] not-italic font-normal tracking-[-0.44px] leading-[1.1]",children:"Ready to Protect and Monetize Your IP?"}),c.jsx("p",{className:"font-inter text-base md:text-lg text-[#0e1c29]/80 leading-relaxed max-w-lg",children:"Join the next generation of creators leveraging Story Protocol for transparent IP registration, automated royalties, and seamless derivative management."}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[c.jsxs(re,{size:"lg",className:"btn-gradient text-white rounded-[10px] font-inter font-medium px-8 py-6 text-sm opacity-0 inline-flex items-center gap-2","data-scroll-reveal":!0,style:{animationDelay:"0.4s",background:"linear-gradient(125deg, rgb(119, 75, 229) -4%, rgb(119, 75, 229) 100%)",boxShadow:"rgb(192, 176, 232) 0px 1px 2px 0px inset, rgba(99, 69, 173, 0.35) 0px 0.706592px 0.706592px -0.583333px, rgba(99, 69, 173, 0.34) 0px 1.80656px 1.80656px -1.16667px, rgba(99, 69, 173, 0.33) 0px 3.62176px 3.62176px -1.75px, rgba(99, 69, 173, 0.3) 0px 6.8656px 6.8656px -2.33333px, rgba(99, 69, 173, 0.26) 0px 13.6468px 13.6468px -2.91667px, rgba(99, 69, 173, 0.15) 0px 30px 30px -3.5px"},children:["Register Your IP",c.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 256 256",children:c.jsx("path",{d:"M221.66,133.66l-72,72A8,8,0,0,1,136,200V136H40a8,8,0,0,1,0-16h96V56a8,8,0,0,1,13.66-5.66l72,72A8,8,0,0,1,221.66,133.66Z"})})]}),c.jsxs(re,{size:"lg",className:"text-white rounded-[10px] font-inter font-medium px-8 py-6 text-sm opacity-0 inline-flex items-center gap-2","data-scroll-reveal":!0,style:{animationDelay:"0.5s",background:"linear-gradient(127deg, rgb(14, 28, 41) -68%, rgb(50, 61, 104) 100%)",boxShadow:"rgb(184, 193, 230) 0px 1px 2px 0px inset, rgba(46, 64, 128, 0.35) 0px 0.706592px 0.706592px -0.583333px, rgba(46, 64, 128, 0.34) 0px 1.80656px 1.80656px -1.16667px, rgba(46, 64, 128, 0.33) 0px 3.62176px 3.62176px -1.75px, rgba(46, 64, 128, 0.3) 0px 6.8656px 6.8656px -2.33333px, rgba(46, 64, 128, 0.26) 0px 13.6468px 13.6468px -2.91667px, rgba(46, 64, 128, 0.15) 0px 30px 30px -3.5px"},children:["Explore the Marketplace",c.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 256 256",children:c.jsx("path",{d:"M140,180a12,12,0,1,1-12-12A12,12,0,0,1,140,180ZM128,72c-22.06,0-40,16.15-40,36v4a8,8,0,0,0,16,0v-4c0-11,10.77-20,24-20s24,9,24,20-10.77,20-24,20a8,8,0,0,0-8,8v8a8,8,0,0,0,16,0v-.72c18.24-3.35,32-17.9,32-35.28C168,88.15,150.06,72,128,72Zm104,56A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128Z"})})]})]})]}),c.jsx("div",{className:"flex justify-center lg:justify-end",children:c.jsx("div",{className:"relative w-full max-w-md opacity-0","data-scroll-reveal":!0,style:{animationDelay:"0.6s"},children:c.jsxs("div",{className:"bg-white rounded-[16px] p-6 shadow-lg border border-white/50",children:[c.jsxs("div",{className:"mb-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Total Registered IPs"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),c.jsx("span",{className:"text-xs text-green-600 font-medium",children:"Growing"})]})]}),c.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"12,345"})]}),c.jsx("div",{className:"relative h-20 mb-4",children:c.jsx("div",{className:"absolute bottom-0 left-0 w-full flex items-end gap-1",children:[.3,.7,.4,.8,.6,.9,1,.5,.7,.4,.6,.8].map((e,n)=>c.jsx("div",{className:`flex-1 rounded-t ${n===6?"bg-purple-500":"bg-gray-200"}`,style:{height:`${e*100}%`}},`chart-bar-${n}`))})}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Royalties Claimed"}),c.jsx("div",{className:"text-sm font-semibold text-gray-900",children:"$15,200"})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Derivative Links"}),c.jsx("div",{className:"text-sm font-semibold text-green-600",children:"8,765"})]})]})]})})})]})]})})})},zle=()=>c.jsx("footer",{className:"bg-black/[0.96] text-gray-300",children:c.jsxs("div",{className:"container py-12",children:[c.jsxs("div",{className:"grid gap-8 md:grid-cols-2 lg:grid-cols-4",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[c.jsx("div",{className:"bg-purple-500 text-white font-bold text-xl px-2 py-1 rounded",children:"IP-OPS"}),c.jsx("span",{className:"font-semibold text-xl text-white"})]}),c.jsx("p",{className:"text-sm mb-4",children:"The next-generation platform for on-chain intellectual property, empowering creators with transparent registration, automated royalties, and derivative tracking."}),c.jsxs("div",{className:"flex space-x-4",children:[c.jsx("a",{href:"https://x.com/TheOpenAssets",className:"text-gray-400 hover:text-white",children:c.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:c.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})}),c.jsx("a",{href:"https://discord.gg/hKp6RTSp59",className:"text-gray-400 hover:text-white",children:c.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:c.jsx("path",{d:"M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.0371 19.7363 19.7363 0 00-4.8852 1.5152.0699.0699 0 00-.0321.0277C2.263 9.0458 1.6663 13.5799 2.0344 18.057c.0016.0162.0116.0315.0247.0416 2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.8732.8914.0766.0766 0 00-.0406.1066c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.9616-.6067 3.9491-1.5219 6.002-3.0294a.077.077 0 00.0247-.0416c.5004-5.177-.8382-9.6732-3.5485-13.6594a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9558-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0957 2.1568 2.4189 0 1.3333-.9558 2.419-2.1569 2.419zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9558-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0957 2.1568 2.4189 0 1.3333-.946 2.419-2.1568 2.419z"})})})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-white mb-4",children:"Quick Links"}),c.jsxs("ul",{className:"space-y-2",children:[c.jsx("li",{children:c.jsx("a",{href:"/about",className:"hover:text-white transition-colors",children:"About IP-OPS"})}),c.jsx("li",{children:c.jsx("a",{href:"/marketplace",className:"hover:text-white transition-colors",children:"IP Marketplace"})}),c.jsx("li",{children:c.jsx("a",{href:"/support",className:"hover:text-white transition-colors",children:"Support"})})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-white mb-4",children:"IP Categories"}),c.jsxs("ul",{className:"space-y-2",children:[c.jsx("li",{children:c.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Digital Art"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Music"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Written Works"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Videos"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Software"})})]})]})]}),c.jsxs("div",{className:"border-t border-gray-800 mt-12 pt-8 flex flex-col md:flex-row justify-between",children:[c.jsxs("div",{className:"flex flex-col space-y-2",children:[c.jsx("p",{className:"text-sm",children:" 2025 IP-OPS. All rights reserved."}),c.jsxs("p",{className:"text-sm text-gray-400",children:["Powered by"," ",c.jsx("a",{href:"https://www.storyprotocol.xyz/",target:"_blank",rel:"noopener noreferrer",className:"bg-purple-500 text-white font-bold text-sm px-2 py-1 rounded",children:"Story Protocol"})]})]}),c.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[c.jsx("a",{href:"#",className:"text-sm hover:text-white transition-colors",children:"Privacy Policy"}),c.jsx("a",{href:"#",className:"text-sm hover:text-white transition-colors",children:"Terms of Service"}),c.jsx("a",{href:"#",className:"text-sm hover:text-white transition-colors",children:"Legal"})]})]})]})}),Vle=()=>c.jsxs("div",{className:"min-h-screen",children:[c.jsx(Ble,{}),c.jsxs("main",{children:[c.jsx(fle,{}),c.jsx(mle,{}),c.jsx(yle,{}),c.jsx(gle,{}),c.jsx($le,{}),c.jsx(Fle,{}),c.jsx(Ule,{})]}),c.jsx(zle,{})]}),Hle=()=>{const t=yl();return T.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),c.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),c.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},Wle=cT("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function st({className:t,variant:e,...n}){return c.jsx("div",{className:dt(Wle({variant:e}),t),...n})}const _e=T.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:dt("rounded-lg border bg-white/30 text-card-foreground shadow-sm",t),...e}));_e.displayName="Card";const _t=T.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:dt("flex flex-col space-y-1.5 p-6",t),...e}));_t.displayName="CardHeader";const Lt=T.forwardRef(({className:t,...e},n)=>c.jsx("h3",{ref:n,className:dt("text-2xl font-semibold leading-none tracking-tight",t),...e}));Lt.displayName="CardTitle";const Zr=T.forwardRef(({className:t,...e},n)=>c.jsx("p",{ref:n,className:dt("text-sm text-muted-foreground",t),...e}));Zr.displayName="CardDescription";const Le=T.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:dt("p-6 pt-0",t),...e}));Le.displayName="CardContent";const wS=T.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:dt("flex items-center p-6 pt-0",t),...e}));wS.displayName="CardFooter";function H3(t,[e,n]){return Math.min(n,Math.max(e,t))}var BA=0;function z7(){T.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??W3()),document.body.insertAdjacentElement("beforeend",t[1]??W3()),BA++,()=>{BA===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),BA--}},[])}function W3(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var UA="focusScope.autoFocusOnMount",zA="focusScope.autoFocusOnUnmount",G3={bubbles:!1,cancelable:!0},Gle="FocusScope",xS=T.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=t,[o,l]=T.useState(null),u=Hs(s),d=Hs(i),p=T.useRef(null),f=mn(e,m=>l(m)),h=T.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;T.useEffect(()=>{if(r){let m=function(w){if(h.paused||!o)return;const A=w.target;o.contains(A)?p.current=A:qc(p.current,{select:!0})},g=function(w){if(h.paused||!o)return;const A=w.relatedTarget;A!==null&&(o.contains(A)||qc(p.current,{select:!0}))},v=function(w){if(document.activeElement===document.body)for(const I of w)I.removedNodes.length>0&&qc(o)};document.addEventListener("focusin",m),document.addEventListener("focusout",g);const b=new MutationObserver(v);return o&&b.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",g),b.disconnect()}}},[r,o,h.paused]),T.useEffect(()=>{if(o){Y3.add(h);const m=document.activeElement;if(!o.contains(m)){const v=new CustomEvent(UA,G3);o.addEventListener(UA,u),o.dispatchEvent(v),v.defaultPrevented||(Kle(Jle(V7(o)),{select:!0}),document.activeElement===m&&qc(o))}return()=>{o.removeEventListener(UA,u),setTimeout(()=>{const v=new CustomEvent(zA,G3);o.addEventListener(zA,d),o.dispatchEvent(v),v.defaultPrevented||qc(m??document.body,{select:!0}),o.removeEventListener(zA,d),Y3.remove(h)},0)}}},[o,u,d,h]);const y=T.useCallback(m=>{if(!n&&!r||h.paused)return;const g=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,v=document.activeElement;if(g&&v){const b=m.currentTarget,[w,A]=Yle(b);w&&A?!m.shiftKey&&v===A?(m.preventDefault(),n&&qc(w,{select:!0})):m.shiftKey&&v===w&&(m.preventDefault(),n&&qc(A,{select:!0})):v===b&&m.preventDefault()}},[n,r,h.paused]);return c.jsx(vt.div,{tabIndex:-1,...a,ref:f,onKeyDown:y})});xS.displayName=Gle;function Kle(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(qc(r,{select:e}),document.activeElement!==n)return}function Yle(t){const e=V7(t),n=K3(e,t),r=K3(e.reverse(),t);return[n,r]}function V7(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function K3(t,e){for(const n of t)if(!qle(n,{upTo:e}))return n}function qle(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Xle(t){return t instanceof HTMLInputElement&&"select"in t}function qc(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Xle(t)&&e&&t.select()}}var Y3=Zle();function Zle(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=q3(t,e),t.unshift(e)},remove(e){var n;t=q3(t,e),(n=t[0])==null||n.resume()}}}function q3(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Jle(t){return t.filter(e=>e.tagName!=="A")}function H7(t){const e=T.useRef({value:t,previous:t});return T.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Qle=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},hf=new WeakMap,hb=new WeakMap,mb={},VA=0,W7=function(t){return t&&(t.host||W7(t.parentNode))},ece=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=W7(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},tce=function(t,e,n,r){var s=ece(e,Array.isArray(t)?t:[t]);mb[n]||(mb[n]=new WeakMap);var i=mb[n],a=[],o=new Set,l=new Set(s),u=function(p){!p||o.has(p)||(o.add(p),u(p.parentNode))};s.forEach(u);var d=function(p){!p||l.has(p)||Array.prototype.forEach.call(p.children,function(f){if(o.has(f))d(f);else try{var h=f.getAttribute(r),y=h!==null&&h!=="false",m=(hf.get(f)||0)+1,g=(i.get(f)||0)+1;hf.set(f,m),i.set(f,g),a.push(f),m===1&&y&&hb.set(f,!0),g===1&&f.setAttribute(n,"true"),y||f.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",f,v)}})};return d(e),o.clear(),VA++,function(){a.forEach(function(p){var f=hf.get(p)-1,h=i.get(p)-1;hf.set(p,f),i.set(p,h),f||(hb.has(p)||p.removeAttribute(r),hb.delete(p)),h||p.removeAttribute(n)}),VA--,VA||(hf=new WeakMap,hf=new WeakMap,hb=new WeakMap,mb={})}},G7=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=Qle(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),tce(r,s,n,"aria-hidden")):function(){return null}},Oo=function(){return Oo=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Oo.apply(this,arguments)};function K7(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function nce(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Tw="right-scroll-bar-position",Aw="width-before-scroll-bar",rce="with-scroll-bars-hidden",sce="--removed-body-scroll-bar-size";function HA(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function ice(t,e){var n=T.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var ace=typeof window<"u"?T.useLayoutEffect:T.useEffect,X3=new WeakMap;function oce(t,e){var n=ice(null,function(r){return t.forEach(function(s){return HA(s,r)})});return ace(function(){var r=X3.get(n);if(r){var s=new Set(r),i=new Set(t),a=n.current;s.forEach(function(o){i.has(o)||HA(o,null)}),i.forEach(function(o){s.has(o)||HA(o,a)})}X3.set(n,t)},[t]),n}function lce(t){return t}function cce(t,e){e===void 0&&(e=lce);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var a=e(i,r);return n.push(a),function(){n=n.filter(function(o){return o!==a})}},assignSyncMedium:function(i){for(r=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(o){return i(o)},filter:function(){return n}}},assignMedium:function(i){r=!0;var a=[];if(n.length){var o=n;n=[],o.forEach(i),a=n}var l=function(){var d=a;a=[],d.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),n}}}};return s}function uce(t){t===void 0&&(t={});var e=cce(null);return e.options=Oo({async:!0,ssr:!1},t),e}var Y7=function(t){var e=t.sideCar,n=K7(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return T.createElement(r,Oo({},n))};Y7.isSideCarExport=!0;function dce(t,e){return t.useMedium(e),Y7}var q7=uce(),WA=function(){},AT=T.forwardRef(function(t,e){var n=T.useRef(null),r=T.useState({onScrollCapture:WA,onWheelCapture:WA,onTouchMoveCapture:WA}),s=r[0],i=r[1],a=t.forwardProps,o=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,p=t.shards,f=t.sideCar,h=t.noIsolation,y=t.inert,m=t.allowPinchZoom,g=t.as,v=g===void 0?"div":g,b=t.gapMode,w=K7(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=f,I=oce([n,e]),C=Oo(Oo({},w),s);return T.createElement(T.Fragment,null,d&&T.createElement(A,{sideCar:q7,removeScrollBar:u,shards:p,noIsolation:h,inert:y,setCallbacks:i,allowPinchZoom:!!m,lockRef:n,gapMode:b}),a?T.cloneElement(T.Children.only(o),Oo(Oo({},C),{ref:I})):T.createElement(v,Oo({},C,{className:l,ref:I}),o))});AT.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};AT.classNames={fullWidth:Aw,zeroRight:Tw};var pce=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function fce(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=pce();return e&&t.setAttribute("nonce",e),t}function hce(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function mce(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var yce=function(){var t=0,e=null;return{add:function(n){t==0&&(e=fce())&&(hce(e,n),mce(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},gce=function(){var t=yce();return function(e,n){T.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},X7=function(){var t=gce(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},vce={left:0,top:0,right:0,gap:0},GA=function(t){return parseInt(t||"",10)||0},bce=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[GA(n),GA(r),GA(s)]},wce=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return vce;var e=bce(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},xce=X7(),dh="data-scroll-locked",Tce=function(t,e,n,r){var s=t.left,i=t.top,a=t.right,o=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(rce,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(o,"px ").concat(r,`;
  }
  body[`).concat(dh,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Tw,` {
    right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(Aw,` {
    margin-right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(Tw," .").concat(Tw,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Aw," .").concat(Aw,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(dh,`] {
    `).concat(sce,": ").concat(o,`px;
  }
`)},Z3=function(){var t=parseInt(document.body.getAttribute(dh)||"0",10);return isFinite(t)?t:0},Ace=function(){T.useEffect(function(){return document.body.setAttribute(dh,(Z3()+1).toString()),function(){var t=Z3()-1;t<=0?document.body.removeAttribute(dh):document.body.setAttribute(dh,t.toString())}},[])},Ice=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;Ace();var i=T.useMemo(function(){return wce(s)},[s]);return T.createElement(xce,{styles:Tce(i,!e,s,n?"":"!important")})},JC=!1;if(typeof window<"u")try{var yb=Object.defineProperty({},"passive",{get:function(){return JC=!0,!0}});window.addEventListener("test",yb,yb),window.removeEventListener("test",yb,yb)}catch{JC=!1}var mf=JC?{passive:!1}:!1,kce=function(t){return t.tagName==="TEXTAREA"},Z7=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!kce(t)&&n[e]==="visible")},Cce=function(t){return Z7(t,"overflowY")},Ece=function(t){return Z7(t,"overflowX")},J3=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=J7(t,r);if(s){var i=Q7(t,r),a=i[1],o=i[2];if(a>o)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Nce=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Sce=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},J7=function(t,e){return t==="v"?Cce(e):Ece(e)},Q7=function(t,e){return t==="v"?Nce(e):Sce(e)},Rce=function(t,e){return t==="h"&&e==="rtl"?-1:1},Mce=function(t,e,n,r,s){var i=Rce(t,window.getComputedStyle(e).direction),a=i*r,o=n.target,l=e.contains(o),u=!1,d=a>0,p=0,f=0;do{var h=Q7(t,o),y=h[0],m=h[1],g=h[2],v=m-g-i*y;(y||v)&&J7(t,o)&&(p+=v,f+=y),o instanceof ShadowRoot?o=o.host:o=o.parentNode}while(!l&&o!==document.body||l&&(e.contains(o)||e===o));return(d&&(Math.abs(p)<1||!s)||!d&&(Math.abs(f)<1||!s))&&(u=!0),u},gb=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Q3=function(t){return[t.deltaX,t.deltaY]},e4=function(t){return t&&"current"in t?t.current:t},Pce=function(t,e){return t[0]===e[0]&&t[1]===e[1]},jce=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Dce=0,yf=[];function _ce(t){var e=T.useRef([]),n=T.useRef([0,0]),r=T.useRef(),s=T.useState(Dce++)[0],i=T.useState(X7)[0],a=T.useRef(t);T.useEffect(function(){a.current=t},[t]),T.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var m=nce([t.lockRef.current],(t.shards||[]).map(e4),!0).filter(Boolean);return m.forEach(function(g){return g.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var o=T.useCallback(function(m,g){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!a.current.allowPinchZoom;var v=gb(m),b=n.current,w="deltaX"in m?m.deltaX:b[0]-v[0],A="deltaY"in m?m.deltaY:b[1]-v[1],I,C=m.target,E=Math.abs(w)>Math.abs(A)?"h":"v";if("touches"in m&&E==="h"&&C.type==="range")return!1;var N=J3(E,C);if(!N)return!0;if(N?I=E:(I=E==="v"?"h":"v",N=J3(E,C)),!N)return!1;if(!r.current&&"changedTouches"in m&&(w||A)&&(r.current=I),!I)return!0;var _=r.current||I;return Mce(_,g,m,_==="h"?w:A,!0)},[]),l=T.useCallback(function(m){var g=m;if(!(!yf.length||yf[yf.length-1]!==i)){var v="deltaY"in g?Q3(g):gb(g),b=e.current.filter(function(I){return I.name===g.type&&(I.target===g.target||g.target===I.shadowParent)&&Pce(I.delta,v)})[0];if(b&&b.should){g.cancelable&&g.preventDefault();return}if(!b){var w=(a.current.shards||[]).map(e4).filter(Boolean).filter(function(I){return I.contains(g.target)}),A=w.length>0?o(g,w[0]):!a.current.noIsolation;A&&g.cancelable&&g.preventDefault()}}},[]),u=T.useCallback(function(m,g,v,b){var w={name:m,delta:g,target:v,should:b,shadowParent:Lce(v)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(A){return A!==w})},1)},[]),d=T.useCallback(function(m){n.current=gb(m),r.current=void 0},[]),p=T.useCallback(function(m){u(m.type,Q3(m),m.target,o(m,t.lockRef.current))},[]),f=T.useCallback(function(m){u(m.type,gb(m),m.target,o(m,t.lockRef.current))},[]);T.useEffect(function(){return yf.push(i),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:f}),document.addEventListener("wheel",l,mf),document.addEventListener("touchmove",l,mf),document.addEventListener("touchstart",d,mf),function(){yf=yf.filter(function(m){return m!==i}),document.removeEventListener("wheel",l,mf),document.removeEventListener("touchmove",l,mf),document.removeEventListener("touchstart",d,mf)}},[]);var h=t.removeScrollBar,y=t.inert;return T.createElement(T.Fragment,null,y?T.createElement(i,{styles:jce(s)}):null,h?T.createElement(Ice,{gapMode:t.gapMode}):null)}function Lce(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Oce=dce(q7,_ce);var TS=T.forwardRef(function(t,e){return T.createElement(AT,Oo({},t,{ref:e,sideCar:Oce}))});TS.classNames=AT.classNames;var $ce=[" ","Enter","ArrowUp","ArrowDown"],Fce=[" ","Enter"],pv="Select",[IT,kT,Bce]=iT(pv),[Tm,BFe]=Rc(pv,[Bce,mT]),CT=mT(),[Uce,hd]=Tm(pv),[zce,Vce]=Tm(pv),ez=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:a,defaultValue:o,onValueChange:l,dir:u,name:d,autoComplete:p,disabled:f,required:h,form:y}=t,m=CT(e),[g,v]=T.useState(null),[b,w]=T.useState(null),[A,I]=T.useState(!1),C=wT(u),[E=!1,N]=il({prop:r,defaultProp:s,onChange:i}),[_,U]=il({prop:a,defaultProp:o,onChange:l}),$=T.useRef(null),B=g?y||!!g.closest("form"):!0,[j,x]=T.useState(new Set),k=Array.from(j).map(M=>M.props.value).join(";");return c.jsx(Yae,{...m,children:c.jsxs(Uce,{required:h,scope:e,trigger:g,onTriggerChange:v,valueNode:b,onValueNodeChange:w,valueNodeHasChildren:A,onValueNodeHasChildrenChange:I,contentId:Go(),value:_,onValueChange:U,open:E,onOpenChange:N,dir:C,triggerPointerDownPosRef:$,disabled:f,children:[c.jsx(IT.Provider,{scope:e,children:c.jsx(zce,{scope:t.__scopeSelect,onNativeOptionAdd:T.useCallback(M=>{x(P=>new Set(P).add(M))},[]),onNativeOptionRemove:T.useCallback(M=>{x(P=>{const S=new Set(P);return S.delete(M),S})},[]),children:n})}),B?c.jsxs(kz,{"aria-hidden":!0,required:h,tabIndex:-1,name:d,autoComplete:p,value:_,onChange:M=>U(M.target.value),disabled:f,form:y,children:[_===void 0?c.jsx("option",{value:""}):null,Array.from(j)]},k):null]})})};ez.displayName=pv;var tz="SelectTrigger",nz=T.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=CT(n),a=hd(tz,n),o=a.disabled||r,l=mn(e,a.onTriggerChange),u=kT(n),d=T.useRef("touch"),[p,f,h]=Cz(m=>{const g=u().filter(w=>!w.disabled),v=g.find(w=>w.value===a.value),b=Ez(g,m,v);b!==void 0&&a.onValueChange(b.value)}),y=m=>{o||(a.onOpenChange(!0),h()),m&&(a.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return c.jsx(t7,{asChild:!0,...i,children:c.jsx(vt.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":Iz(a.value)?"":void 0,...s,ref:l,onClick:ht(s.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&y(m)}),onPointerDown:ht(s.onPointerDown,m=>{d.current=m.pointerType;const g=m.target;g.hasPointerCapture(m.pointerId)&&g.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(y(m),m.preventDefault())}),onKeyDown:ht(s.onKeyDown,m=>{const g=p.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&f(m.key),!(g&&m.key===" ")&&$ce.includes(m.key)&&(y(),m.preventDefault())})})})});nz.displayName=tz;var rz="SelectValue",sz=T.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:a="",...o}=t,l=hd(rz,n),{onValueNodeHasChildrenChange:u}=l,d=i!==void 0,p=mn(e,l.onValueNodeChange);return Pr(()=>{u(d)},[u,d]),c.jsx(vt.span,{...o,ref:p,style:{pointerEvents:"none"},children:Iz(l.value)?c.jsx(c.Fragment,{children:a}):i})});sz.displayName=rz;var Hce="SelectIcon",iz=T.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return c.jsx(vt.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});iz.displayName=Hce;var Wce="SelectPortal",az=t=>c.jsx(aT,{asChild:!0,...t});az.displayName=Wce;var Op="SelectContent",oz=T.forwardRef((t,e)=>{const n=hd(Op,t.__scopeSelect),[r,s]=T.useState();if(Pr(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?sf.createPortal(c.jsx(lz,{scope:t.__scopeSelect,children:c.jsx(IT.Slot,{scope:t.__scopeSelect,children:c.jsx("div",{children:t.children})})}),i):null}return c.jsx(cz,{...t,ref:e})});oz.displayName=Op;var Ma=10,[lz,md]=Tm(Op),Gce="SelectContentImpl",cz=T.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:a,side:o,sideOffset:l,align:u,alignOffset:d,arrowPadding:p,collisionBoundary:f,collisionPadding:h,sticky:y,hideWhenDetached:m,avoidCollisions:g,...v}=t,b=hd(Op,n),[w,A]=T.useState(null),[I,C]=T.useState(null),E=mn(e,Y=>A(Y)),[N,_]=T.useState(null),[U,$]=T.useState(null),B=kT(n),[j,x]=T.useState(!1),k=T.useRef(!1);T.useEffect(()=>{if(w)return G7(w)},[w]),z7();const M=T.useCallback(Y=>{const[G,...Z]=B().map(ne=>ne.ref.current),[te]=Z.slice(-1),q=document.activeElement;for(const ne of Y)if(ne===q||(ne==null||ne.scrollIntoView({block:"nearest"}),ne===G&&I&&(I.scrollTop=0),ne===te&&I&&(I.scrollTop=I.scrollHeight),ne==null||ne.focus(),document.activeElement!==q))return},[B,I]),P=T.useCallback(()=>M([N,w]),[M,N,w]);T.useEffect(()=>{j&&P()},[j,P]);const{onOpenChange:S,triggerPointerDownPosRef:L}=b;T.useEffect(()=>{if(w){let Y={x:0,y:0};const G=te=>{var q,ne;Y={x:Math.abs(Math.round(te.pageX)-(((q=L.current)==null?void 0:q.x)??0)),y:Math.abs(Math.round(te.pageY)-(((ne=L.current)==null?void 0:ne.y)??0))}},Z=te=>{Y.x<=10&&Y.y<=10?te.preventDefault():w.contains(te.target)||S(!1),document.removeEventListener("pointermove",G),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",G),document.addEventListener("pointerup",Z,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",G),document.removeEventListener("pointerup",Z,{capture:!0})}}},[w,S,L]),T.useEffect(()=>{const Y=()=>S(!1);return window.addEventListener("blur",Y),window.addEventListener("resize",Y),()=>{window.removeEventListener("blur",Y),window.removeEventListener("resize",Y)}},[S]);const[V,F]=Cz(Y=>{const G=B().filter(q=>!q.disabled),Z=G.find(q=>q.ref.current===document.activeElement),te=Ez(G,Y,Z);te&&setTimeout(()=>te.ref.current.focus())}),R=T.useCallback((Y,G,Z)=>{const te=!k.current&&!Z;(b.value!==void 0&&b.value===G||te)&&(_(Y),te&&(k.current=!0))},[b.value]),z=T.useCallback(()=>w==null?void 0:w.focus(),[w]),Q=T.useCallback((Y,G,Z)=>{const te=!k.current&&!Z;(b.value!==void 0&&b.value===G||te)&&$(Y)},[b.value]),O=r==="popper"?QC:uz,H=O===QC?{side:o,sideOffset:l,align:u,alignOffset:d,arrowPadding:p,collisionBoundary:f,collisionPadding:h,sticky:y,hideWhenDetached:m,avoidCollisions:g}:{};return c.jsx(lz,{scope:n,content:w,viewport:I,onViewportChange:C,itemRefCallback:R,selectedItem:N,onItemLeave:z,itemTextRefCallback:Q,focusSelectedItem:P,selectedItemText:U,position:r,isPositioned:j,searchRef:V,children:c.jsx(TS,{as:jp,allowPinchZoom:!0,children:c.jsx(xS,{asChild:!0,trapped:b.open,onMountAutoFocus:Y=>{Y.preventDefault()},onUnmountAutoFocus:ht(s,Y=>{var G;(G=b.trigger)==null||G.focus({preventScroll:!0}),Y.preventDefault()}),children:c.jsx(cv,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:Y=>Y.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:c.jsx(O,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:Y=>Y.preventDefault(),...v,...H,onPlaced:()=>x(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:ht(v.onKeyDown,Y=>{const G=Y.ctrlKey||Y.altKey||Y.metaKey;if(Y.key==="Tab"&&Y.preventDefault(),!G&&Y.key.length===1&&F(Y.key),["ArrowUp","ArrowDown","Home","End"].includes(Y.key)){let te=B().filter(q=>!q.disabled).map(q=>q.ref.current);if(["ArrowUp","End"].includes(Y.key)&&(te=te.slice().reverse()),["ArrowUp","ArrowDown"].includes(Y.key)){const q=Y.target,ne=te.indexOf(q);te=te.slice(ne+1)}setTimeout(()=>M(te)),Y.preventDefault()}})})})})})})});cz.displayName=Gce;var Kce="SelectItemAlignedPosition",uz=T.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=hd(Op,n),a=md(Op,n),[o,l]=T.useState(null),[u,d]=T.useState(null),p=mn(e,E=>d(E)),f=kT(n),h=T.useRef(!1),y=T.useRef(!0),{viewport:m,selectedItem:g,selectedItemText:v,focusSelectedItem:b}=a,w=T.useCallback(()=>{if(i.trigger&&i.valueNode&&o&&u&&m&&g&&v){const E=i.trigger.getBoundingClientRect(),N=u.getBoundingClientRect(),_=i.valueNode.getBoundingClientRect(),U=v.getBoundingClientRect();if(i.dir!=="rtl"){const q=U.left-N.left,ne=_.left-q,Re=E.left-ne,se=E.width+Re,ve=Math.max(se,N.width),We=window.innerWidth-Ma,fe=H3(ne,[Ma,Math.max(Ma,We-ve)]);o.style.minWidth=se+"px",o.style.left=fe+"px"}else{const q=N.right-U.right,ne=window.innerWidth-_.right-q,Re=window.innerWidth-E.right-ne,se=E.width+Re,ve=Math.max(se,N.width),We=window.innerWidth-Ma,fe=H3(ne,[Ma,Math.max(Ma,We-ve)]);o.style.minWidth=se+"px",o.style.right=fe+"px"}const $=f(),B=window.innerHeight-Ma*2,j=m.scrollHeight,x=window.getComputedStyle(u),k=parseInt(x.borderTopWidth,10),M=parseInt(x.paddingTop,10),P=parseInt(x.borderBottomWidth,10),S=parseInt(x.paddingBottom,10),L=k+M+j+S+P,V=Math.min(g.offsetHeight*5,L),F=window.getComputedStyle(m),R=parseInt(F.paddingTop,10),z=parseInt(F.paddingBottom,10),Q=E.top+E.height/2-Ma,O=B-Q,H=g.offsetHeight/2,Y=g.offsetTop+H,G=k+M+Y,Z=L-G;if(G<=Q){const q=$.length>0&&g===$[$.length-1].ref.current;o.style.bottom="0px";const ne=u.clientHeight-m.offsetTop-m.offsetHeight,Re=Math.max(O,H+(q?z:0)+ne+P),se=G+Re;o.style.height=se+"px"}else{const q=$.length>0&&g===$[0].ref.current;o.style.top="0px";const Re=Math.max(Q,k+m.offsetTop+(q?R:0)+H)+Z;o.style.height=Re+"px",m.scrollTop=G-Q+m.offsetTop}o.style.margin=`${Ma}px 0`,o.style.minHeight=V+"px",o.style.maxHeight=B+"px",r==null||r(),requestAnimationFrame(()=>h.current=!0)}},[f,i.trigger,i.valueNode,o,u,m,g,v,i.dir,r]);Pr(()=>w(),[w]);const[A,I]=T.useState();Pr(()=>{u&&I(window.getComputedStyle(u).zIndex)},[u]);const C=T.useCallback(E=>{E&&y.current===!0&&(w(),b==null||b(),y.current=!1)},[w,b]);return c.jsx(qce,{scope:n,contentWrapper:o,shouldExpandOnScrollRef:h,onScrollButtonChange:C,children:c.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:c.jsx(vt.div,{...s,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});uz.displayName=Kce;var Yce="SelectPopperPosition",QC=T.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Ma,...i}=t,a=CT(n);return c.jsx(n7,{...a,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});QC.displayName=Yce;var[qce,AS]=Tm(Op,{}),e6="SelectViewport",dz=T.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=md(e6,n),a=AS(e6,n),o=mn(e,i.onViewportChange),l=T.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),c.jsx(IT.Slot,{scope:n,children:c.jsx(vt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ht(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:f}=a;if(f!=null&&f.current&&p){const h=Math.abs(l.current-d.scrollTop);if(h>0){const y=window.innerHeight-Ma*2,m=parseFloat(p.style.minHeight),g=parseFloat(p.style.height),v=Math.max(m,g);if(v<y){const b=v+h,w=Math.min(y,b),A=b-w;p.style.height=w+"px",p.style.bottom==="0px"&&(d.scrollTop=A>0?A:0,p.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});dz.displayName=e6;var pz="SelectGroup",[Xce,Zce]=Tm(pz),Jce=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Go();return c.jsx(Xce,{scope:n,id:s,children:c.jsx(vt.div,{role:"group","aria-labelledby":s,...r,ref:e})})});Jce.displayName=pz;var fz="SelectLabel",hz=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Zce(fz,n);return c.jsx(vt.div,{id:s.id,...r,ref:e})});hz.displayName=fz;var Ux="SelectItem",[Qce,mz]=Tm(Ux),yz=T.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...a}=t,o=hd(Ux,n),l=md(Ux,n),u=o.value===r,[d,p]=T.useState(i??""),[f,h]=T.useState(!1),y=mn(e,b=>{var w;return(w=l.itemRefCallback)==null?void 0:w.call(l,b,r,s)}),m=Go(),g=T.useRef("touch"),v=()=>{s||(o.onValueChange(r),o.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(Qce,{scope:n,value:r,disabled:s,textId:m,isSelected:u,onItemTextChange:T.useCallback(b=>{p(w=>w||((b==null?void 0:b.textContent)??"").trim())},[]),children:c.jsx(IT.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:c.jsx(vt.div,{role:"option","aria-labelledby":m,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:y,onFocus:ht(a.onFocus,()=>h(!0)),onBlur:ht(a.onBlur,()=>h(!1)),onClick:ht(a.onClick,()=>{g.current!=="mouse"&&v()}),onPointerUp:ht(a.onPointerUp,()=>{g.current==="mouse"&&v()}),onPointerDown:ht(a.onPointerDown,b=>{g.current=b.pointerType}),onPointerMove:ht(a.onPointerMove,b=>{var w;g.current=b.pointerType,s?(w=l.onItemLeave)==null||w.call(l):g.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ht(a.onPointerLeave,b=>{var w;b.currentTarget===document.activeElement&&((w=l.onItemLeave)==null||w.call(l))}),onKeyDown:ht(a.onKeyDown,b=>{var A;((A=l.searchRef)==null?void 0:A.current)!==""&&b.key===" "||(Fce.includes(b.key)&&v(),b.key===" "&&b.preventDefault())})})})})});yz.displayName=Ux;var Py="SelectItemText",gz=T.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,a=hd(Py,n),o=md(Py,n),l=mz(Py,n),u=Vce(Py,n),[d,p]=T.useState(null),f=mn(e,v=>p(v),l.onItemTextChange,v=>{var b;return(b=o.itemTextRefCallback)==null?void 0:b.call(o,v,l.value,l.disabled)}),h=d==null?void 0:d.textContent,y=T.useMemo(()=>c.jsx("option",{value:l.value,disabled:l.disabled,children:h},l.value),[l.disabled,l.value,h]),{onNativeOptionAdd:m,onNativeOptionRemove:g}=u;return Pr(()=>(m(y),()=>g(y)),[m,g,y]),c.jsxs(c.Fragment,{children:[c.jsx(vt.span,{id:l.textId,...i,ref:f}),l.isSelected&&a.valueNode&&!a.valueNodeHasChildren?sf.createPortal(i.children,a.valueNode):null]})});gz.displayName=Py;var vz="SelectItemIndicator",bz=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return mz(vz,n).isSelected?c.jsx(vt.span,{"aria-hidden":!0,...r,ref:e}):null});bz.displayName=vz;var t6="SelectScrollUpButton",wz=T.forwardRef((t,e)=>{const n=md(t6,t.__scopeSelect),r=AS(t6,t.__scopeSelect),[s,i]=T.useState(!1),a=mn(e,r.onScrollButtonChange);return Pr(()=>{if(n.viewport&&n.isPositioned){let o=function(){const u=l.scrollTop>0;i(u)};const l=n.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),s?c.jsx(Tz,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=n;o&&l&&(o.scrollTop=o.scrollTop-l.offsetHeight)}}):null});wz.displayName=t6;var n6="SelectScrollDownButton",xz=T.forwardRef((t,e)=>{const n=md(n6,t.__scopeSelect),r=AS(n6,t.__scopeSelect),[s,i]=T.useState(!1),a=mn(e,r.onScrollButtonChange);return Pr(()=>{if(n.viewport&&n.isPositioned){let o=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;i(d)};const l=n.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),s?c.jsx(Tz,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=n;o&&l&&(o.scrollTop=o.scrollTop+l.offsetHeight)}}):null});xz.displayName=n6;var Tz=T.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=md("SelectScrollButton",n),a=T.useRef(null),o=kT(n),l=T.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return T.useEffect(()=>()=>l(),[l]),Pr(()=>{var d;const u=o().find(p=>p.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[o]),c.jsx(vt.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:ht(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:ht(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:ht(s.onPointerLeave,()=>{l()})})}),eue="SelectSeparator",Az=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return c.jsx(vt.div,{"aria-hidden":!0,...r,ref:e})});Az.displayName=eue;var r6="SelectArrow",tue=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=CT(n),i=hd(r6,n),a=md(r6,n);return i.open&&a.position==="popper"?c.jsx(r7,{...s,...r,ref:e}):null});tue.displayName=r6;function Iz(t){return t===""||t===void 0}var kz=T.forwardRef((t,e)=>{const{value:n,...r}=t,s=T.useRef(null),i=mn(e,s),a=H7(n);return T.useEffect(()=>{const o=s.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==n&&d){const p=new Event("change",{bubbles:!0});d.call(o,n),o.dispatchEvent(p)}},[a,n]),c.jsx(uv,{asChild:!0,children:c.jsx("select",{...r,ref:i,defaultValue:n})})});kz.displayName="BubbleSelect";function Cz(t){const e=Hs(t),n=T.useRef(""),r=T.useRef(0),s=T.useCallback(a=>{const o=n.current+a;e(o),function l(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(o)},[e]),i=T.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return T.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function Ez(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let a=nue(t,Math.max(i,0));s.length===1&&(a=a.filter(u=>u!==n));const l=a.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function nue(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var rue=ez,Nz=nz,sue=sz,iue=iz,aue=az,Sz=oz,oue=dz,Rz=hz,Mz=yz,lue=gz,cue=bz,Pz=wz,jz=xz,Dz=Az;const Qu=rue,ed=sue,yc=T.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(Nz,{ref:r,className:dt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,c.jsx(iue,{asChild:!0,children:c.jsx(G5,{className:"h-4 w-4 opacity-50"})})]}));yc.displayName=Nz.displayName;const _z=T.forwardRef(({className:t,...e},n)=>c.jsx(Pz,{ref:n,className:dt("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(ase,{className:"h-4 w-4"})}));_z.displayName=Pz.displayName;const Lz=T.forwardRef(({className:t,...e},n)=>c.jsx(jz,{ref:n,className:dt("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(G5,{className:"h-4 w-4"})}));Lz.displayName=jz.displayName;const gc=T.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>c.jsx(aue,{children:c.jsxs(Sz,{ref:s,className:dt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[c.jsx(_z,{}),c.jsx(oue,{className:dt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),c.jsx(Lz,{})]})}));gc.displayName=Sz.displayName;const uue=T.forwardRef(({className:t,...e},n)=>c.jsx(Rz,{ref:n,className:dt("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));uue.displayName=Rz.displayName;const mr=T.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(Mz,{ref:r,className:dt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(cue,{children:c.jsx($C,{className:"h-4 w-4"})})}),c.jsx(lue,{children:e})]}));mr.displayName=Mz.displayName;const due=T.forwardRef(({className:t,...e},n)=>c.jsx(Dz,{ref:n,className:dt("-mx-1 my-1 h-px bg-muted",t),...e}));due.displayName=Dz.displayName;const pue="http://localhost:3001/api",fue=()=>{const[t,e]=T.useState([]),[n,r]=T.useState(!0),[s,i]=T.useState(""),[a,o]=T.useState(null),[l,u]=T.useState(null),[d,p]=T.useState(!1),[f,h]=T.useState(null),[y,m]=T.useState(2500);T.useState(!0);const[g,v]=T.useState(!1);T.useState(null);const[b,w]=T.useState(!1),{provider:A,signer:I}=useWallet(),[C,E]=T.useState(null),[N,_]=T.useState([]),U=mo();T.useEffect(()=>{I&&(async()=>{const ne=await licenseTokenService.getUserLicenses(await I.getAddress(),A);_(ne)})()},[I,A]);const $=q=>{let ne=0;try{const Re=ethers.BigNumber.from(q.price);ne=parseFloat(ethers.utils.formatEther(Re)),console.log(` Converting price for ${q.name}: ${q.price} Wei  ${ne} U2U`)}catch(Re){console.warn(" Error converting price:",Re),ne=parseFloat(q.price)||0}U("/orderbook",{state:{selectedToken:{tokenId:q.tokenId,name:q.name,image:q.image,type:q.type||q.category,userBalance:0,price:q.price,marketplacePrice:ne,description:q.description}}})},[B,j]=T.useState([]),[x,k]=T.useState("all"),[M,P]=T.useState("all"),[S,L]=T.useState(100),[V,F]=T.useState(1),[R,z]=T.useState(1),Q=()=>{U("/dashboard")},O=async()=>{var q,ne,Re,se,ve,We,fe,ee,pe;try{r(!0),i("");const xe=new URLSearchParams;xe.append("page",V.toString()),xe.append("limit","20"),x!=="all"&&xe.append("licenseType",x),M==="commercial"?xe.append("commercialUse","true"):M==="non-commercial"&&xe.append("commercialUse","false"),S<100&&xe.append("maxRoyalty",S.toString()),console.log(" Fetching licensed IPs with params:",xe.toString());const Fe=await fetch(`${pue}/marketplace/licensed?${xe}`);if(!Fe.ok)throw new Error(`API error: ${Fe.statusText}`);const Ze=await Fe.json();if(!Ze.success)throw new Error("Failed to fetch licensed IPs");console.log(" Fetched licensed IPs:",Ze.data),j(Ze.data.ips),z(Ze.data.pagination.totalPages),r(!1),console.log(` Found ${Ze.data.ips.length} licensed IPs`);let Oe;try{const he=I||A||new ethers.providers.JsonRpcProvider(NETWORK_CONFIG[ACTIVE_NETWORK].rpcUrl);Oe=new ethers.Contract(TOKEN_CONTRACT,TOKEN_ABI,he)}catch(he){console.error(" Failed to initialize token contract:",he)}const rt=[],zt=await marketplaceService.getLicensedIps(),ct=new Map(zt.map(he=>[he.ipId,he])),J=[],Ee=[];for(let he=0;he<tokenIds.length;he++)try{const Ne=(ethers.BigNumber.isBigNumber(tokenIds[he]),tokenIds[he].toString()),Ge=issuers[he],Te=ethers.BigNumber.isBigNumber(amounts[he])?amounts[he].toNumber():Number(amounts[he]),me=(ethers.BigNumber.isBigNumber(prices[he]),prices[he].toString());if(Oe)try{if(await Oe.getTokenLifecycleStatus(Ne)===2){console.log(` Skipping burned token ${Ne}`);continue}}catch{console.warn(` Could not check lifecycle for token ${Ne}, including in listings`)}console.log(` Preparing listing ${he+1}/${tokenIds.length}:`,{tokenId:Ne,issuer:Ge,amount:Te,priceInETH:ethers.utils.formatEther(me),priceInWei:me}),Ee.push({tokenId:Ne,issuer:Ge,amount:Te,price:me,index:he});let de="";if(Oe)try{de=await Oe.tokenMetadata(Ne),console.log(" Got metadata URI from tokenMetadata:",de)}catch{try{de=await Oe.uri(Ne),console.log(" Got metadata URI from uri:",de)}catch{console.warn(" Could not get metadata URI for token:",Ne),de=""}}de&&J.push({tokenId:Ne,metadataURI:de,index:he})}catch(Ne){console.error(` Error preparing listing ${he}:`,Ne)}console.log(` Prepared ${Ee.length} listings, ${J.length} metadata requests`);const le=await marketplaceCache.batchFetchMetadataWithCache(J);for(const he of Ee)try{const{tokenId:Ne,issuer:Ge,amount:Te,price:me,index:de}=he,Me=le.get(Ne),ie=Me==null?void 0:Me.metadata,ge=(Me==null?void 0:Me.processedImageUrl)||"";let je="Investment Asset";if(ie){const Kt=ie.assetType||((q=ie.assetDetails)==null?void 0:q.assetType)||((ne=ie.assetDetails)==null?void 0:ne.category);if(Kt&&Kt.trim()&&Kt.trim()!=="Unknown"&&(je=Kt.trim()),ie.attributes&&Array.isArray(ie.attributes)){const gt=ie.attributes.find(Tt=>Tt.trait_type==="Asset Type"||Tt.trait_type==="Category"||Tt.trait_type==="Type");gt!=null&&gt.value&&gt.value.trim()&&gt.value.trim()!=="Unknown"&&(je=gt.value.trim())}}const we=ge||getDeterministicAssetImage(je,Ne);console.log(` Final unique image for token ${Ne} (${je}):`,we);let Be=0;try{const Kt=await C.totalTokensListed(Ne);Be=parseInt(Kt.toString()),console.log(` Token ${Ne} total supply: ${Be}`)}catch(Kt){console.warn(` Could not fetch total supply for token ${Ne}:`,Kt),Be=Te}let Nt=`Asset Token #${Ne}`,mt=je;if(ie){const Kt=ie.name||ie.title||ie.assetName||((Re=ie.assetDetails)==null?void 0:Re.name)||((se=ie.assetDetails)==null?void 0:se.title);Kt&&Kt.trim()&&(Nt=Kt.trim());const gt=ie.assetType||((ve=ie.assetDetails)==null?void 0:ve.assetType)||((We=ie.assetDetails)==null?void 0:We.category);if(gt&&gt.trim()&&(mt=gt.trim()),ie.attributes&&Array.isArray(ie.attributes)){const Tt=ie.attributes.find(wn=>wn.trait_type==="Asset Type"||wn.trait_type==="Category"||wn.trait_type==="Type");Tt!=null&&Tt.value&&Tt.value.trim()&&(mt=Tt.value.trim())}}console.log(` Token ${Ne} processed with name: "${Nt}", type: "${mt}"`);const St={tokenId:Ne,name:Nt,description:(ie==null?void 0:ie.description)||`Asset token listed on the marketplace. Token ID: ${Ne}`,image:we,price:me,amount:Te,totalSupply:Be,seller:Ge,metadataURI:((fe=J.find(Kt=>Kt.tokenId===Ne))==null?void 0:fe.metadataURI)||`placeholder-${Ne}`,metadata:ie,attributes:(ie==null?void 0:ie.attributes)||[{trait_type:"Asset Type",value:mt}],type:mt,category:mt};ct.has(Ne)&&(St.license=ct.get(Ne)),rt.push(St)}catch(Ne){console.error(` Error processing listing for token ${he.tokenId}:`,Ne)}e(rt),console.log(" Marketplace listings loaded:",rt.length),console.log(" Preloading marketplace images...");const ue=rt.map(he=>{var Ne,Ge;return{url:he.image,assetType:((Ge=(Ne=he.attributes)==null?void 0:Ne.find(Te=>Te.trait_type==="Asset Type"))==null?void 0:Ge.value)||"Real Estate",tokenId:he.tokenId}});imageCacheService.preloadImages(ue).catch(he=>{console.warn(" Image preloading failed:",he)}),w(!0),fetchedRealData=!0,console.log(" Real contract data fetched and marked"),console.log(" Caching marketplace listings..."),marketplaceCache.cacheMarketplaceListings(rt),rt.length===0?Ie.info("No assets could be loaded from the marketplace"):g?console.log(` Background refresh: Updated ${rt.length} marketplace listings`):Ie.success(`${rt.length} assets loaded from marketplace`)}catch(xe){console.error(" Error loading marketplace listings:",xe);let Fe="Failed to load marketplace listings";(ee=xe.message)!=null&&ee.includes("Network synchronization")?Fe="Network synchronization issue. Loading demo data as fallback.":(pe=xe.message)!=null&&pe.includes("Smart contract call failed")?Fe="Marketplace contract unavailable. Loading demo data as fallback.":xe.code==="NETWORK_ERROR"?Fe="Network connection issue. Loading demo data as fallback.":Fe="Contract data unavailable. Loading demo data as fallback.",console.log(" Loading demo marketplace data as fallback..."),e(DEMO_MARKETPLACE_DATA),i(Fe),w(!1),console.log(" Demo data loaded - keeping loading state active"),Ie.error(Fe)}finally{fetchedRealData?(r(!1),console.log(" Turning off loading - real contract data fetched successfully")):console.log(" Keeping loading state - no real contract data fetched yet")}};T.useEffect(()=>{O()},[V,x,M,S]);const H=q=>{console.log(" Buy license requested for:",q),Ie.info("Buy License feature coming soon! Backend will provide contract call service.",{description:`License for: ${q.originalFilename||`IP Asset #${q.tokenId}`}`,duration:4e3})},Y=async(q,ne)=>{if(!I){Ie.error("Please connect your wallet to mint a license.");return}try{const Re=await licenseTokenService.mintLicenseToken(q.license.ipId,q.license.licenseTermsId,await I.getAddress(),ne,I);Ie.success(`Successfully minted license token #${Re}`),p(!1);const se=await licenseTokenService.getUserLicenses(await I.getAddress(),A);_(se)}catch(Re){console.error("Error minting license:",Re),Ie.error("Failed to mint license.")}},G=()=>c.jsxs("div",{className:"bg-white/60 rounded-lg shadow-sm p-6 mb-6",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsx(Mx,{className:"w-5 h-5 text-gray-600"}),c.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Filters"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"License Type"}),c.jsxs(Qu,{value:x,onValueChange:k,children:[c.jsx(yc,{children:c.jsx(ed,{placeholder:"All Types"})}),c.jsxs(gc,{children:[c.jsx(mr,{value:"all",children:"All Types"}),c.jsx(mr,{value:"commercial_remix",children:"Commercial Remix"}),c.jsx(mr,{value:"non_commercial",children:"Non-Commercial"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Commercial Use"}),c.jsxs(Qu,{value:M,onValueChange:P,children:[c.jsx(yc,{children:c.jsx(ed,{placeholder:"All"})}),c.jsxs(gc,{children:[c.jsx(mr,{value:"all",children:"All"}),c.jsx(mr,{value:"commercial",children:"Commercial"}),c.jsx(mr,{value:"non-commercial",children:"Non-Commercial"})]})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Max Royalty: ",S,"%"]}),c.jsx("input",{type:"range",min:"0",max:"100",value:S,onChange:q=>L(parseInt(q.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]})]}),c.jsx(re,{onClick:()=>{k("all"),P("all"),L(100),F(1)},variant:"outline",className:"mt-4",children:"Reset Filters"})]}),Z=q=>c.jsxs(_e,{className:"hover:shadow-lg transition-shadow ",children:[c.jsxs(_t,{children:[c.jsxs("div",{className:"flex items-start justify-between mb-2",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx(Lt,{className:"text-lg font-bold line-clamp-1",children:q.originalFilename||`IP Asset #${q.tokenId}`}),c.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[c.jsx(st,{variant:q.license.licenseType==="commercial_remix"?"default":"secondary",children:q.license.licenseType==="commercial_remix"?"Commercial Remix":"Non-Commercial"}),q.license.royaltyPercent>0&&c.jsxs(st,{variant:"outline",className:"text-green-600",children:[q.license.royaltyPercent,"% Royalty"]})]})]}),c.jsx(DA,{className:"w-6 h-6 text-blue-600 flex-shrink-0"})]}),c.jsx("div",{className:"w-full h-48 bg-gray-100 rounded-md overflow-hidden",children:c.jsx("img",{src:q.ipfsUrl?q.ipfsUrl.replace("ipfs://","https://ipfs.io/ipfs/"):"https://via.placeholder.com/400x300?text=IP+Asset",alt:q.originalFilename||`IP Asset #${q.tokenId}`,className:"w-full h-full object-cover",onError:ne=>{ne.target.src="https://via.placeholder.com/400x300?text=IP+Asset"}})})]}),c.jsx(Le,{className:"space-y-3",children:c.jsxs("div",{className:"space-y-2 text-sm",children:[q.ipId&&c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-500",children:"IP ID:"}),c.jsxs("span",{className:"font-mono text-gray-900 truncate ml-2",title:q.ipId,children:[q.ipId.slice(0,10),"..."]})]}),q.tokenId&&c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-500",children:"Token ID:"}),c.jsxs("span",{className:"font-mono text-gray-900",children:["#",q.tokenId]})]}),q.license.licenseTermsId&&c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-500",children:"License ID:"}),c.jsx("span",{className:"font-mono text-gray-900 truncate ml-2",title:q.license.licenseTermsId,children:q.license.licenseTermsId})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-gray-500",children:"Derivatives:"}),c.jsx(st,{variant:q.license.allowDerivatives?"default":"secondary",className:"text-xs",children:q.license.allowDerivatives?" Allowed":" Not Allowed"})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-gray-500",children:"Commercial:"}),c.jsx(st,{variant:q.license.commercialUse?"default":"secondary",className:"text-xs",children:q.license.commercialUse?" Yes":" No"})]})]})}),c.jsxs(wS,{className:"flex flex-col gap-2",children:[c.jsxs(re,{onClick:()=>H(q),className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:[c.jsx(Wo,{className:"w-4 h-4 mr-2"}),"Buy License"]}),q.creatorAddress&&c.jsxs("p",{className:"text-xs text-gray-500 text-center",children:["Created by: ",q.creatorAddress.slice(0,6),"...",q.creatorAddress.slice(-4)]})]})]},q.nonce),te=()=>R<=1?null:c.jsxs("div",{className:"flex items-center justify-center gap-4 mt-8",children:[c.jsxs(re,{onClick:()=>F(q=>Math.max(1,q-1)),disabled:V===1,variant:"outline",children:[c.jsx(ise,{className:"w-4 h-4 mr-2"}),"Previous"]}),c.jsx("div",{className:"flex items-center gap-2",children:c.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",V," of ",R]})}),c.jsxs(re,{onClick:()=>F(q=>Math.min(R,q+1)),disabled:V===R,variant:"outline",children:["Next",c.jsx(AU,{className:"w-4 h-4 ml-2"})]})]});return c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx(bT,{}),c.jsxs("div",{className:"container mx-auto px-4 py-8 relative z-10",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Licensed IP Marketplace"}),c.jsx("p",{className:"text-lg text-gray-600",children:"Discover and license intellectual property assets on Story Protocol"})]}),c.jsx("div",{className:"absolute top-9 right-4 z-20",children:c.jsx(re,{className:"bg-black",onClick:Q,children:"Go to Dashboard"})}),G(),n&&c.jsxs("div",{className:"text-center py-20",children:[c.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto"}),c.jsx("p",{className:"mt-4 text-gray-600",children:"Loading licensed IP assets..."})]}),s&&!n&&c.jsx(_e,{className:"border border-red-200 bg-red-50",children:c.jsxs(Le,{className:"p-12 text-center",children:[c.jsx(DA,{className:"w-16 h-16 text-red-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Failed to Load Marketplace"}),c.jsx("p",{className:"text-red-600 mb-4",children:s}),c.jsx(re,{onClick:O,variant:"outline",children:"Retry"})]})}),!n&&!s&&B.length===0&&c.jsx(_e,{className:"border border-dashed border-gray-300 w-full",children:c.jsxs(Le,{className:"p-12 text-center",children:[c.jsx(DA,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"No Licensed IPs Available"}),c.jsx("p",{className:"text-gray-600 mb-4",children:"No IP assets match your current filters. Try adjusting the filters or check back later."}),c.jsx(re,{onClick:()=>U("/issuer"),variant:"default",className:"bg-green-600 hover:bg-green-700",children:"Register Your IP Asset"})]})}),!n&&!s&&B.length>0&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"mb-4 text-sm text-gray-600",children:["Showing ",B.length," licensed IP asset",B.length!==1?"s":""]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:B.map(Z)}),te()]}),l&&c.jsx(ProfessionalExpandedDetail,{listing:l,onClose:()=>u(null),onBuy:q=>{u(null),o(q)},onNavigateToTrading:$,tokenPrice:y,onMintLicense:q=>{h(q),p(!0)}}),d&&f&&c.jsx(LicenseMintingModal,{listing:f,tokenPrice:y,onClose:()=>p(!1),onMint:Y})]})]})},IS=T.createContext({});function kS(t){const e=T.useRef(null);return e.current===null&&(e.current=t()),e.current}const CS=typeof window<"u",Oz=CS?T.useLayoutEffect:T.useEffect,ET=T.createContext(null);function ES(t,e){t.indexOf(e)===-1&&t.push(e)}function NS(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const vc=(t,e,n)=>n>e?e:n<t?t:n;let zx=()=>{};const bc={},$z=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Fz(t){return typeof t=="object"&&t!==null}const Bz=t=>/^0[^.\s]+$/u.test(t);function SS(t){let e;return()=>(e===void 0&&(e=t()),e)}const ha=t=>t,hue=(t,e)=>n=>e(t(n)),fv=(...t)=>t.reduce(hue),Wg=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};let RS=class{constructor(){this.subscriptions=[]}add(e){return ES(this.subscriptions,e),()=>NS(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}};const Ko=t=>t*1e3,Yo=t=>t/1e3;function Uz(t,e){return e?t*(1e3/e):0}const zz=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,mue=1e-7,yue=12;function gue(t,e,n,r,s){let i,a,o=0;do a=e+(n-e)/2,i=zz(a,r,s)-t,i>0?n=a:e=a;while(Math.abs(i)>mue&&++o<yue);return a}function hv(t,e,n,r){if(t===e&&n===r)return ha;const s=i=>gue(i,0,1,t,n);return i=>i===0||i===1?i:zz(s(i),e,r)}const Vz=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Hz=t=>e=>1-t(1-e),Wz=hv(.33,1.53,.69,.99),MS=Hz(Wz),Gz=Vz(MS),Kz=t=>(t*=2)<1?.5*MS(t):.5*(2-Math.pow(2,-10*(t-1))),PS=t=>1-Math.sin(Math.acos(t)),Yz=Hz(PS),qz=Vz(PS),vue=hv(.42,0,1,1),bue=hv(0,0,.58,1),Xz=hv(.42,0,.58,1),wue=t=>Array.isArray(t)&&typeof t[0]!="number",Zz=t=>Array.isArray(t)&&typeof t[0]=="number",t4={linear:ha,easeIn:vue,easeInOut:Xz,easeOut:bue,circIn:PS,circInOut:qz,circOut:Yz,backIn:MS,backInOut:Gz,backOut:Wz,anticipate:Kz},xue=t=>typeof t=="string",n4=t=>{if(Zz(t)){zx(t.length===4);const[e,n,r,s]=t;return hv(e,n,r,s)}else if(xue(t))return zx(t4[t]!==void 0),t4[t];return t},vb=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],r4={value:null,addProjectionMetrics:null};function Tue(t,e){let n=new Set,r=new Set,s=!1,i=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1},l=0;function u(p){a.has(p)&&(d.schedule(p),t()),l++,p(o)}const d={schedule:(p,f=!1,h=!1)=>{const m=h&&s?n:r;return f&&a.add(p),m.has(p)||m.add(p),p},cancel:p=>{r.delete(p),a.delete(p)},process:p=>{if(o=p,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(u),e&&r4.value&&r4.value.frameloop[e].push(l),l=0,n.clear(),s=!1,i&&(i=!1,d.process(p))}};return d}const Aue=40;function Jz(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=vb.reduce((w,A)=>(w[A]=Tue(i,e?A:void 0),w),{}),{setup:o,read:l,resolveKeyframes:u,preUpdate:d,update:p,preRender:f,render:h,postRender:y}=a,m=()=>{const w=bc.useManualTiming?s.timestamp:performance.now();n=!1,bc.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(w-s.timestamp,Aue),1)),s.timestamp=w,s.isProcessing=!0,o.process(s),l.process(s),u.process(s),d.process(s),p.process(s),f.process(s),h.process(s),y.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(m))},g=()=>{n=!0,r=!0,s.isProcessing||t(m)};return{schedule:vb.reduce((w,A)=>{const I=a[A];return w[A]=(C,E=!1,N=!1)=>(n||g(),I.schedule(C,E,N)),w},{}),cancel:w=>{for(let A=0;A<vb.length;A++)a[vb[A]].cancel(w)},state:s,steps:a}}const{schedule:Wn,cancel:td,state:Xr,steps:KA}=Jz(typeof requestAnimationFrame<"u"?requestAnimationFrame:ha,!0);let Iw;function Iue(){Iw=void 0}const oi={now:()=>(Iw===void 0&&oi.set(Xr.isProcessing||bc.useManualTiming?Xr.timestamp:performance.now()),Iw),set:t=>{Iw=t,queueMicrotask(Iue)}},Qz=t=>e=>typeof e=="string"&&e.startsWith(t),jS=Qz("--"),kue=Qz("var(--"),DS=t=>kue(t)?Cue.test(t.split("/*")[0].trim()):!1,Cue=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Am={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Gg={...Am,transform:t=>vc(0,1,t)},bb={...Am,default:1},Jy=t=>Math.round(t*1e5)/1e5,_S=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Eue(t){return t==null}const Nue=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,LS=(t,e)=>n=>!!(typeof n=="string"&&Nue.test(n)&&n.startsWith(t)||e&&!Eue(n)&&Object.prototype.hasOwnProperty.call(n,e)),eV=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,a,o]=r.match(_S);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},Sue=t=>vc(0,255,t),YA={...Am,transform:t=>Math.round(Sue(t))},Yd={test:LS("rgb","red"),parse:eV("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+YA.transform(t)+", "+YA.transform(e)+", "+YA.transform(n)+", "+Jy(Gg.transform(r))+")"};function Rue(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const s6={test:LS("#"),parse:Rue,transform:Yd.transform},mv=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Xc=mv("deg"),qo=mv("%"),It=mv("px"),Mue=mv("vh"),Pue=mv("vw"),s4={...qo,parse:t=>qo.parse(t)/100,transform:t=>qo.transform(t*100)},Ff={test:LS("hsl","hue"),parse:eV("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+qo.transform(Jy(e))+", "+qo.transform(Jy(n))+", "+Jy(Gg.transform(r))+")"},ds={test:t=>Yd.test(t)||s6.test(t)||Ff.test(t),parse:t=>Yd.test(t)?Yd.parse(t):Ff.test(t)?Ff.parse(t):s6.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Yd.transform(t):Ff.transform(t)},jue=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Due(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(_S))==null?void 0:e.length)||0)+(((n=t.match(jue))==null?void 0:n.length)||0)>0}const tV="number",nV="color",_ue="var",Lue="var(",i4="${}",Oue=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Kg(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const o=e.replace(Oue,l=>(ds.test(l)?(r.color.push(i),s.push(nV),n.push(ds.parse(l))):l.startsWith(Lue)?(r.var.push(i),s.push(_ue),n.push(l)):(r.number.push(i),s.push(tV),n.push(parseFloat(l))),++i,i4)).split(i4);return{values:n,split:o,indexes:r,types:s}}function rV(t){return Kg(t).values}function sV(t){const{split:e,types:n}=Kg(t),r=e.length;return s=>{let i="";for(let a=0;a<r;a++)if(i+=e[a],s[a]!==void 0){const o=n[a];o===tV?i+=Jy(s[a]):o===nV?i+=ds.transform(s[a]):i+=s[a]}return i}}const $ue=t=>typeof t=="number"?0:t;function Fue(t){const e=rV(t);return sV(t)(e.map($ue))}const nd={test:Due,parse:rV,createTransformer:sV,getAnimatableNone:Fue};function qA(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Bue({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,a=0;if(!e)s=i=a=n;else{const o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;s=qA(l,o,t+1/3),i=qA(l,o,t),a=qA(l,o,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}function Vx(t,e){return n=>n>0?e:t}const zn=(t,e,n)=>t+(e-t)*n,XA=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},Uue=[s6,Yd,Ff],zue=t=>Uue.find(e=>e.test(t));function a4(t){const e=zue(t);if(!e)return!1;let n=e.parse(t);return e===Ff&&(n=Bue(n)),n}const o4=(t,e)=>{const n=a4(t),r=a4(e);if(!n||!r)return Vx(t,e);const s={...n};return i=>(s.red=XA(n.red,r.red,i),s.green=XA(n.green,r.green,i),s.blue=XA(n.blue,r.blue,i),s.alpha=zn(n.alpha,r.alpha,i),Yd.transform(s))},i6=new Set(["none","hidden"]);function Vue(t,e){return i6.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Hue(t,e){return n=>zn(t,e,n)}function OS(t){return typeof t=="number"?Hue:typeof t=="string"?DS(t)?Vx:ds.test(t)?o4:Kue:Array.isArray(t)?iV:typeof t=="object"?ds.test(t)?o4:Wue:Vx}function iV(t,e){const n=[...t],r=n.length,s=t.map((i,a)=>OS(i)(i,e[a]));return i=>{for(let a=0;a<r;a++)n[a]=s[a](i);return n}}function Wue(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=OS(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function Gue(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],a=t.indexes[i][r[i]],o=t.values[a]??0;n[s]=o,r[i]++}return n}const Kue=(t,e)=>{const n=nd.createTransformer(e),r=Kg(t),s=Kg(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?i6.has(t)&&!s.values.length||i6.has(e)&&!r.values.length?Vue(t,e):fv(iV(Gue(r,s),s.values),n):Vx(t,e)};function aV(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?zn(t,e,n):OS(t)(t,e)}const Yue=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Wn.update(e,n),stop:()=>td(e),now:()=>Xr.isProcessing?Xr.timestamp:oi.now()}},oV=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=t(i/(s-1))+", ";return`linear(${r.substring(0,r.length-2)})`},Hx=2e4;function $S(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Hx;)e+=n,r=t.next(e);return e>=Hx?1/0:e}function que(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min($S(r),Hx);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:Yo(s)}}const Xue=5;function lV(t,e,n){const r=Math.max(e-Xue,0);return Uz(n-t(r),e-r)}const Xn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ZA=.001;function Zue({duration:t=Xn.duration,bounce:e=Xn.bounce,velocity:n=Xn.velocity,mass:r=Xn.mass}){let s,i,a=1-e;a=vc(Xn.minDamping,Xn.maxDamping,a),t=vc(Xn.minDuration,Xn.maxDuration,Yo(t)),a<1?(s=u=>{const d=u*a,p=d*t,f=d-n,h=a6(u,a),y=Math.exp(-p);return ZA-f/h*y},i=u=>{const p=u*a*t,f=p*n+n,h=Math.pow(a,2)*Math.pow(u,2)*t,y=Math.exp(-p),m=a6(Math.pow(u,2),a);return(-s(u)+ZA>0?-1:1)*((f-h)*y)/m}):(s=u=>{const d=Math.exp(-u*t),p=(u-n)*t+1;return-ZA+d*p},i=u=>{const d=Math.exp(-u*t),p=(n-u)*(t*t);return d*p});const o=5/t,l=Que(s,i,o);if(t=Ko(t),isNaN(l))return{stiffness:Xn.stiffness,damping:Xn.damping,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:t}}}const Jue=12;function Que(t,e,n){let r=n;for(let s=1;s<Jue;s++)r=r-t(r)/e(r);return r}function a6(t,e){return t*Math.sqrt(1-e*e)}const ede=["duration","bounce"],tde=["stiffness","damping","mass"];function l4(t,e){return e.some(n=>t[n]!==void 0)}function nde(t){let e={velocity:Xn.velocity,stiffness:Xn.stiffness,damping:Xn.damping,mass:Xn.mass,isResolvedFromDuration:!1,...t};if(!l4(t,tde)&&l4(t,ede))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*vc(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Xn.mass,stiffness:s,damping:i}}else{const n=Zue(t);e={...e,...n,mass:Xn.mass},e.isResolvedFromDuration=!0}return e}function Wx(t=Xn.visualDuration,e=Xn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:i},{stiffness:l,damping:u,mass:d,duration:p,velocity:f,isResolvedFromDuration:h}=nde({...n,velocity:-Yo(n.velocity||0)}),y=f||0,m=u/(2*Math.sqrt(l*d)),g=a-i,v=Yo(Math.sqrt(l/d)),b=Math.abs(g)<5;r||(r=b?Xn.restSpeed.granular:Xn.restSpeed.default),s||(s=b?Xn.restDelta.granular:Xn.restDelta.default);let w;if(m<1){const I=a6(v,m);w=C=>{const E=Math.exp(-m*v*C);return a-E*((y+m*v*g)/I*Math.sin(I*C)+g*Math.cos(I*C))}}else if(m===1)w=I=>a-Math.exp(-v*I)*(g+(y+v*g)*I);else{const I=v*Math.sqrt(m*m-1);w=C=>{const E=Math.exp(-m*v*C),N=Math.min(I*C,300);return a-E*((y+m*v*g)*Math.sinh(N)+I*g*Math.cosh(N))/I}}const A={calculatedDuration:h&&p||null,next:I=>{const C=w(I);if(h)o.done=I>=p;else{let E=I===0?y:0;m<1&&(E=I===0?Ko(y):lV(w,I,C));const N=Math.abs(E)<=r,_=Math.abs(a-C)<=s;o.done=N&&_}return o.value=o.done?a:C,o},toString:()=>{const I=Math.min($S(A),Hx),C=oV(E=>A.next(I*E).value,I,30);return I+"ms "+C},toTransition:()=>{}};return A}Wx.applyToOptions=t=>{const e=que(t,100,Wx);return t.ease=e.ease,t.duration=Ko(e.duration),t.type="keyframes",t};function o6({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:o,max:l,restDelta:u=.5,restSpeed:d}){const p=t[0],f={done:!1,value:p},h=N=>o!==void 0&&N<o||l!==void 0&&N>l,y=N=>o===void 0?l:l===void 0||Math.abs(o-N)<Math.abs(l-N)?o:l;let m=n*e;const g=p+m,v=a===void 0?g:a(g);v!==g&&(m=v-p);const b=N=>-m*Math.exp(-N/r),w=N=>v+b(N),A=N=>{const _=b(N),U=w(N);f.done=Math.abs(_)<=u,f.value=f.done?v:U};let I,C;const E=N=>{h(f.value)&&(I=N,C=Wx({keyframes:[f.value,y(f.value)],velocity:lV(w,N,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return E(0),{calculatedDuration:null,next:N=>{let _=!1;return!C&&I===void 0&&(_=!0,A(N),E(N)),I!==void 0&&N>=I?C.next(N-I):(!_&&A(N),f)}}}function rde(t,e,n){const r=[],s=n||bc.mix||aV,i=t.length-1;for(let a=0;a<i;a++){let o=s(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||ha:e;o=fv(l,o)}r.push(o)}return r}function sde(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(zx(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=rde(e,r,s),l=o.length,u=d=>{if(a&&d<t[0])return e[0];let p=0;if(l>1)for(;p<t.length-2&&!(d<t[p+1]);p++);const f=Wg(t[p],t[p+1],d);return o[p](f)};return n?d=>u(vc(t[0],t[i-1],d)):u}function ide(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Wg(0,e,r);t.push(zn(n,1,s))}}function ade(t){const e=[0];return ide(e,t.length-1),e}function ode(t,e){return t.map(n=>n*e)}function lde(t,e){return t.map(()=>e||Xz).splice(0,t.length-1)}function Qy({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=wue(r)?r.map(n4):n4(r),i={done:!1,value:e[0]},a=ode(n&&n.length===e.length?n:ade(e),t),o=sde(a,e,{ease:Array.isArray(s)?s:lde(e,s)});return{calculatedDuration:t,next:l=>(i.value=o(l),i.done=l>=t,i)}}const cde=t=>t!==null;function FS(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(cde),o=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const ude={decay:o6,inertia:o6,tween:Qy,keyframes:Qy,spring:Wx};function cV(t){typeof t.type=="string"&&(t.type=ude[t.type])}let BS=class{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}};const dde=t=>t/100;let US=class extends BS{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(n=!0)=>{var r,s;if(n){const{motionValue:i}=this.options;i&&i.updatedAt!==oi.now()&&this.tick(oi.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;cV(e);const{type:n=Qy,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=e;let{keyframes:o}=e;const l=n||Qy;l!==Qy&&typeof o[0]!="number"&&(this.mixKeyframes=fv(dde,aV(o[0],o[1])),o=[0,100]);const u=l({...e,keyframes:o});i==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...o].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=$S(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:d,repeat:p,repeatType:f,repeatDelay:h,type:y,onUpdate:m,finalKeyframe:g}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const v=this.currentTime-u*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?v<0:v>s;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let w=this.currentTime,A=r;if(p){const N=Math.min(this.currentTime,s)/o;let _=Math.floor(N),U=N%1;!U&&N>=1&&(U=1),U===1&&_--,_=Math.min(_,p+1),!!(_%2)&&(f==="reverse"?(U=1-U,h&&(U-=h/o)):f==="mirror"&&(A=a)),w=vc(0,1,U)*o}const I=b?{done:!1,value:d[0]}:A.next(w);i&&(I.value=i(I.value));let{done:C}=I;!b&&l!==null&&(C=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return E&&y!==o6&&(I.value=FS(d,this.options,g,this.speed)),m&&m(I.value),E&&this.finish(),I}then(e,n){return this.finished.then(e,n)}get duration(){return Yo(this.calculatedDuration)}get time(){return Yo(this.currentTime)}set time(e){var n;e=Ko(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(oi.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Yo(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:e=Yue,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(oi.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}};function pde(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const qd=t=>t*180/Math.PI,l6=t=>{const e=qd(Math.atan2(t[1],t[0]));return c6(e)},fde={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:l6,rotateZ:l6,skewX:t=>qd(Math.atan(t[1])),skewY:t=>qd(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},c6=t=>(t=t%360,t<0&&(t+=360),t),c4=l6,u4=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),d4=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),hde={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:u4,scaleY:d4,scale:t=>(u4(t)+d4(t))/2,rotateX:t=>c6(qd(Math.atan2(t[6],t[5]))),rotateY:t=>c6(qd(Math.atan2(-t[2],t[0]))),rotateZ:c4,rotate:c4,skewX:t=>qd(Math.atan(t[4])),skewY:t=>qd(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function u6(t){return t.includes("scale")?1:0}function d6(t,e){if(!t||t==="none")return u6(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=hde,s=n;else{const o=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=fde,s=o}if(!s)return u6(e);const i=r[e],a=s[1].split(",").map(yde);return typeof i=="function"?i(a):a[i]}const mde=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return d6(n,e)};function yde(t){return parseFloat(t.trim())}const Im=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],km=new Set(Im),p4=t=>t===Am||t===It,gde=new Set(["x","y","z"]),vde=Im.filter(t=>!gde.has(t));function bde(t){const e=[];return vde.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const vp={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>d6(e,"x"),y:(t,{transform:e})=>d6(e,"y")};vp.translateX=vp.x;vp.translateY=vp.y;const bp=new Set;let p6=!1,f6=!1,h6=!1;function uV(){if(f6){const t=Array.from(bp).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=bde(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,a])=>{var o;(o=r.getValue(i))==null||o.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}f6=!1,p6=!1,bp.forEach(t=>t.complete(h6)),bp.clear()}function dV(){bp.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(f6=!0)})}function wde(){h6=!0,dV(),uV(),h6=!1}let zS=class{constructor(e,n,r,s,i,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(bp.add(this),p6||(p6=!0,Wn.read(dV),Wn.resolveKeyframes(uV))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),a=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const o=r.readValue(n,a);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=a),s&&i===void 0&&s.set(e[0])}pde(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),bp.delete(this)}cancel(){this.state==="scheduled"&&(bp.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}};const xde=t=>t.startsWith("--");function Tde(t,e,n){xde(e)?t.style.setProperty(e,n):t.style[e]=n}const Ade=SS(()=>window.ScrollTimeline!==void 0),Ide={};function kde(t,e){const n=SS(t);return()=>Ide[e]??n()}const pV=kde(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),jy=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,f4={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:jy([0,.65,.55,1]),circOut:jy([.55,0,1,.45]),backIn:jy([.31,.01,.66,-.59]),backOut:jy([.33,1.53,.69,.99])};function fV(t,e){if(t)return typeof t=="function"?pV()?oV(t,e):"ease-out":Zz(t)?jy(t):Array.isArray(t)?t.map(n=>fV(n,e)||f4.easeOut):f4[t]}function Cde(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:o="easeOut",times:l}={},u=void 0){const d={[e]:n};l&&(d.offset=l);const p=fV(o,s);Array.isArray(p)&&(d.easing=p);const f={delay:r,duration:s,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),t.animate(d,f)}function hV(t){return typeof t=="function"&&"applyToOptions"in t}function Ede({type:t,...e}){return hV(t)&&pV()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}let Nde=class extends BS{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:o,onComplete:l}=e;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=e,zx(typeof e.type!="string");const u=Ede(e);this.animation=Cde(n,r,s,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=FS(s,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(d):Tde(n,r,d),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Yo(Number(e))}get time(){return Yo(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ko(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Ade()?(this.animation.timeline=e,ha):n(this)}};const mV={anticipate:Kz,backInOut:Gz,circInOut:qz};function Sde(t){return t in mV}function Rde(t){typeof t.ease=="string"&&Sde(t.ease)&&(t.ease=mV[t.ease])}const h4=10;let Mde=class extends Nde{constructor(e){Rde(e),cV(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const o=new US({...a,autoplay:!1}),l=Ko(this.finishedTime??this.time);n.setWithVelocity(o.sample(l-h4).value,o.sample(l).value,h4),o.stop()}};const m4=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(nd.test(t)||t==="0")&&!t.startsWith("url("));function Pde(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function jde(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],a=m4(s,e),o=m4(i,e);return!a||!o?!1:Pde(t)||(n==="spring"||hV(n))&&r}function VS(t){return Fz(t)&&"offsetHeight"in t}const Dde=new Set(["opacity","clipPath","filter","transform"]),_de=SS(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Lde(t){var u;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:a}=t;if(!VS((u=e==null?void 0:e.owner)==null?void 0:u.current))return!1;const{onUpdate:o,transformTemplate:l}=e.owner.getProps();return _de()&&n&&Dde.has(n)&&(n!=="transform"||!l)&&!o&&!r&&s!=="mirror"&&i!==0&&a!=="inertia"}const Ode=40;let $de=class extends BS{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",keyframes:o,name:l,motionValue:u,element:d,...p}){var y;super(),this.stop=()=>{var m,g;this._animation&&(this._animation.stop(),(m=this.stopTimeline)==null||m.call(this)),(g=this.keyframeResolver)==null||g.cancel()},this.createdAt=oi.now();const f={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:a,name:l,motionValue:u,element:d,...p},h=(d==null?void 0:d.KeyframeResolver)||zS;this.keyframeResolver=new h(o,(m,g,v)=>this.onKeyframesResolved(m,g,f,!v),l,u,d),(y=this.keyframeResolver)==null||y.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:a,velocity:o,delay:l,isHandoff:u,onUpdate:d}=r;this.resolvedAt=oi.now(),jde(e,i,a,o)||((bc.instantAnimations||!l)&&(d==null||d(FS(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const f={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>Ode?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},h=!u&&Lde(f)?new Mde({...f,element:f.motionValue.owner.current}):new US(f);h.finished.then(()=>this.notifyFinished()).catch(ha),this.pendingTimeline&&(this.stopTimeline=h.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=h}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),wde()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}};const Fde=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Bde(t){const e=Fde.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function yV(t,e,n=1){const[r,s]=Bde(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const a=i.trim();return $z(a)?parseFloat(a):a}return DS(s)?yV(s,e,n+1):s}function HS(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const gV=new Set(["width","height","top","left","right","bottom",...Im]),Ude={test:t=>t==="auto",parse:t=>t},vV=t=>e=>e.test(t),bV=[Am,It,qo,Xc,Pue,Mue,Ude],y4=t=>bV.find(vV(t));function zde(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Bz(t):!0}const Vde=new Set(["brightness","contrast","saturate","opacity"]);function Hde(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(_S)||[];if(!r)return t;const s=n.replace(r,"");let i=Vde.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const Wde=/\b([a-z-]*)\(.*?\)/gu,m6={...nd,getAnimatableNone:t=>{const e=t.match(Wde);return e?e.map(Hde).join(" "):t}},g4={...Am,transform:Math.round},Gde={rotate:Xc,rotateX:Xc,rotateY:Xc,rotateZ:Xc,scale:bb,scaleX:bb,scaleY:bb,scaleZ:bb,skew:Xc,skewX:Xc,skewY:Xc,distance:It,translateX:It,translateY:It,translateZ:It,x:It,y:It,z:It,perspective:It,transformPerspective:It,opacity:Gg,originX:s4,originY:s4,originZ:It},WS={borderWidth:It,borderTopWidth:It,borderRightWidth:It,borderBottomWidth:It,borderLeftWidth:It,borderRadius:It,radius:It,borderTopLeftRadius:It,borderTopRightRadius:It,borderBottomRightRadius:It,borderBottomLeftRadius:It,width:It,maxWidth:It,height:It,maxHeight:It,top:It,right:It,bottom:It,left:It,padding:It,paddingTop:It,paddingRight:It,paddingBottom:It,paddingLeft:It,margin:It,marginTop:It,marginRight:It,marginBottom:It,marginLeft:It,backgroundPositionX:It,backgroundPositionY:It,...Gde,zIndex:g4,fillOpacity:Gg,strokeOpacity:Gg,numOctaves:g4},Kde={...WS,color:ds,backgroundColor:ds,outlineColor:ds,fill:ds,stroke:ds,borderColor:ds,borderTopColor:ds,borderRightColor:ds,borderBottomColor:ds,borderLeftColor:ds,filter:m6,WebkitFilter:m6},wV=t=>Kde[t];function xV(t,e){let n=wV(t);return n!==m6&&(n=nd),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Yde=new Set(["auto","none","0"]);function qde(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!Yde.has(i)&&Kg(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=xV(n,s)}let Xde=class extends zS{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),DS(u))){const d=yV(u,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!gV.has(r)||e.length!==2)return;const[s,i]=e,a=y4(s),o=y4(i);if(a!==o)if(p4(a)&&p4(o))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else vp[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||zde(e[s]))&&r.push(s);r.length&&qde(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=vp[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var o;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,a=r[i];r[i]=vp[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}};function Zde(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const s=document.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const v4=30,Jde=t=>!isNaN(parseFloat(t));let Qde=class{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{var a,o;const i=oi.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();s&&((o=this.events.renderRequest)==null||o.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=oi.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Jde(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new RS);const r=this.events[e].add(n);return e==="change"?()=>{r(),Wn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=oi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>v4)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,v4);return Uz(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}};function Gh(t,e){return new Qde(t,e)}const TV=(t,e)=>e&&typeof t=="number"?e.transform(t):t,{schedule:GS,cancel:XFe}=Jz(queueMicrotask,!1),Pa={x:!1,y:!1};function AV(){return Pa.x||Pa.y}function epe(t){return t==="x"||t==="y"?Pa[t]?null:(Pa[t]=!0,()=>{Pa[t]=!1}):Pa.x||Pa.y?null:(Pa.x=Pa.y=!0,()=>{Pa.x=Pa.y=!1})}function IV(t,e){const n=Zde(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function b4(t){return!(t.pointerType==="touch"||AV())}function tpe(t,e,n={}){const[r,s,i]=IV(t,n),a=o=>{if(!b4(o))return;const{target:l}=o,u=e(l,o);if(typeof u!="function"||!l)return;const d=p=>{b4(p)&&(u(p),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,s)};return r.forEach(o=>{o.addEventListener("pointerenter",a,s)}),i}const kV=(t,e)=>e?t===e?!0:kV(t,e.parentElement):!1,KS=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,npe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function rpe(t){return npe.has(t.tagName)||t.tabIndex!==-1}const kw=new WeakSet;function w4(t){return e=>{e.key==="Enter"&&t(e)}}function JA(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const spe=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=w4(()=>{if(kw.has(n))return;JA(n,"down");const s=w4(()=>{JA(n,"up")}),i=()=>JA(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function x4(t){return KS(t)&&!AV()}function ipe(t,e,n={}){const[r,s,i]=IV(t,n),a=o=>{const l=o.currentTarget;if(!x4(o))return;kw.add(l);const u=e(l,o),d=(h,y)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",f),kw.has(l)&&kw.delete(l),x4(h)&&typeof u=="function"&&u(h,{success:y})},p=h=>{d(h,l===window||l===document||n.useGlobalTarget||kV(l,h.target))},f=h=>{d(h,!1)};window.addEventListener("pointerup",p,s),window.addEventListener("pointercancel",f,s)};return r.forEach(o=>{(n.useGlobalTarget?window:o).addEventListener("pointerdown",a,s),VS(o)&&(o.addEventListener("focus",u=>spe(u,s)),!rpe(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),i}function CV(t){return Fz(t)&&"ownerSVGElement"in t}function ape(t){return CV(t)&&t.tagName==="svg"}const As=t=>!!(t&&t.getVelocity),ope=[...bV,ds,nd],lpe=t=>ope.find(vV(t)),YS=T.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});let cpe=class extends T.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=VS(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}};function upe({children:t,isPresent:e,anchorX:n}){const r=T.useId(),s=T.useRef(null),i=T.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=T.useContext(YS);return T.useInsertionEffect(()=>{const{width:o,height:l,top:u,left:d,right:p}=i.current;if(e||!s.current||!o||!l)return;const f=n==="left"?`left: ${d}`:`right: ${p}`;s.current.dataset.motionPopId=r;const h=document.createElement("style");return a&&(h.nonce=a),document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            ${f}px !important;
            top: ${u}px !important;
          }
        `),()=>{document.head.contains(h)&&document.head.removeChild(h)}},[e]),c.jsx(cpe,{isPresent:e,childRef:s,sizeRef:i,children:T.cloneElement(t,{ref:s})})}const dpe=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:a,anchorX:o})=>{const l=kS(ppe),u=T.useId();let d=!0,p=T.useMemo(()=>(d=!1,{id:u,initial:e,isPresent:n,custom:s,onExitComplete:f=>{l.set(f,!0);for(const h of l.values())if(!h)return;r&&r()},register:f=>(l.set(f,!1),()=>l.delete(f))}),[n,l,r]);return i&&d&&(p={...p}),T.useMemo(()=>{l.forEach((f,h)=>l.set(h,!1))},[n]),T.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),a==="popLayout"&&(t=c.jsx(upe,{isPresent:n,anchorX:o,children:t})),c.jsx(ET.Provider,{value:p,children:t})};function ppe(){return new Map}function EV(t=!0){const e=T.useContext(ET);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=T.useId();T.useEffect(()=>{if(t)return s(i)},[t]);const a=T.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,a]:[!0]}const wb=t=>t.key||"";function T4(t){const e=[];return T.Children.forEach(t,n=>{T.isValidElement(n)&&e.push(n)}),e}const qS=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:a=!1,anchorX:o="left"})=>{const[l,u]=EV(a),d=T.useMemo(()=>T4(t),[t]),p=a&&!l?[]:d.map(wb),f=T.useRef(!0),h=T.useRef(d),y=kS(()=>new Map),[m,g]=T.useState(d),[v,b]=T.useState(d);Oz(()=>{f.current=!1,h.current=d;for(let I=0;I<v.length;I++){const C=wb(v[I]);p.includes(C)?y.delete(C):y.get(C)!==!0&&y.set(C,!1)}},[v,p.length,p.join("-")]);const w=[];if(d!==m){let I=[...d];for(let C=0;C<v.length;C++){const E=v[C],N=wb(E);p.includes(N)||(I.splice(C,0,E),w.push(E))}return i==="wait"&&w.length&&(I=w),b(T4(I)),g(d),null}const{forceRender:A}=T.useContext(IS);return c.jsx(c.Fragment,{children:v.map(I=>{const C=wb(I),E=a&&!l?!1:d===v||p.includes(C),N=()=>{if(y.has(C))y.set(C,!0);else return;let _=!0;y.forEach(U=>{U||(_=!1)}),_&&(A==null||A(),b(h.current),a&&(u==null||u()),r&&r())};return c.jsx(dpe,{isPresent:E,initial:!f.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,onExitComplete:E?void 0:N,anchorX:o,children:I},C)})})},NV=T.createContext({strict:!1}),A4={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Kh={};for(const t in A4)Kh[t]={isEnabled:e=>A4[t].some(n=>!!e[n])};function fpe(t){for(const e in t)Kh[e]={...Kh[e],...t[e]}}const hpe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Gx(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||hpe.has(t)}let SV=t=>!Gx(t);function mpe(t){t&&(SV=e=>e.startsWith("on")?!Gx(e):t(e))}try{mpe(require("@emotion/is-prop-valid").default)}catch{}function ype(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(SV(s)||n===!0&&Gx(s)||!e&&!Gx(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function gpe(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const NT=T.createContext({});function ST(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Yg(t){return typeof t=="string"||Array.isArray(t)}const XS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ZS=["initial",...XS];function RT(t){return ST(t.animate)||ZS.some(e=>Yg(t[e]))}function RV(t){return!!(RT(t)||t.variants)}function vpe(t,e){if(RT(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Yg(n)?n:void 0,animate:Yg(r)?r:void 0}}return t.inherit!==!1?e:{}}function bpe(t){const{initial:e,animate:n}=vpe(t,T.useContext(NT));return T.useMemo(()=>({initial:e,animate:n}),[I4(e),I4(n)])}function I4(t){return Array.isArray(t)?t.join(" "):t}const wpe=Symbol.for("motionComponentSymbol");function Bf(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function xpe(t,e,n){return T.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Bf(n)&&(n.current=r))},[e])}const JS=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Tpe="framerAppearId",MV="data-"+JS(Tpe),PV=T.createContext({});function Ape(t,e,n,r,s){var m,g;const{visualElement:i}=T.useContext(NT),a=T.useContext(NV),o=T.useContext(ET),l=T.useContext(YS).reducedMotion,u=T.useRef(null);r=r||a.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const d=u.current,p=T.useContext(PV);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&Ipe(u.current,n,s,p);const f=T.useRef(!1);T.useInsertionEffect(()=>{d&&f.current&&d.update(n,o)});const h=n[MV],y=T.useRef(!!h&&!((m=window.MotionHandoffIsComplete)!=null&&m.call(window,h))&&((g=window.MotionHasOptimisedAnimation)==null?void 0:g.call(window,h)));return Oz(()=>{d&&(f.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),GS.render(d.render),y.current&&d.animationState&&d.animationState.animateChanges())}),T.useEffect(()=>{d&&(!y.current&&d.animationState&&d.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,h)}),y.current=!1))}),d}function Ipe(t,e,n,r){const{layoutId:s,layout:i,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:u,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:jV(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||o&&Bf(o),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:u})}function jV(t){if(t)return t.options.allowProjection!==!1?t.projection:jV(t.parent)}function kpe({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&fpe(t);function i(o,l){let u;const d={...T.useContext(YS),...o,layoutId:Cpe(o)},{isStatic:p}=d,f=bpe(o),h=r(o,p);if(!p&&CS){Epe();const y=Npe(d);u=y.MeasureLayout,f.visualElement=Ape(s,h,d,e,y.ProjectionNode)}return c.jsxs(NT.Provider,{value:f,children:[u&&f.visualElement?c.jsx(u,{visualElement:f.visualElement,...d}):null,n(s,o,xpe(h,f.visualElement,l),h,p,f.visualElement)]})}i.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const a=T.forwardRef(i);return a[wpe]=s,a}function Cpe({layoutId:t}){const e=T.useContext(IS).id;return e&&t!==void 0?e+"-"+t:t}function Epe(t,e){T.useContext(NV).strict}function Npe(t){const{drag:e,layout:n}=Kh;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const qg={};function Spe(t){for(const e in t)qg[e]=t[e],jS(e)&&(qg[e].isCSSVariable=!0)}function DV(t,{layout:e,layoutId:n}){return km.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!qg[t]||t==="opacity")}const Rpe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Mpe=Im.length;function Ppe(t,e,n){let r="",s=!0;for(let i=0;i<Mpe;i++){const a=Im[i],o=t[a];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(a.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||n){const u=TV(o,WS[a]);if(!l){s=!1;const d=Rpe[a]||a;r+=`${d}(${u}) `}n&&(e[a]=u)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function QS(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let a=!1,o=!1;for(const l in e){const u=e[l];if(km.has(l)){a=!0;continue}else if(jS(l)){s[l]=u;continue}else{const d=TV(u,WS[l]);l.startsWith("origin")?(o=!0,i[l]=d):r[l]=d}}if(e.transform||(a||n?r.transform=Ppe(e,t.transform,n):r.transform&&(r.transform="none")),o){const{originX:l="50%",originY:u="50%",originZ:d=0}=i;r.transformOrigin=`${l} ${u} ${d}`}}const eR=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function _V(t,e,n){for(const r in e)!As(e[r])&&!DV(r,n)&&(t[r]=e[r])}function jpe({transformTemplate:t},e){return T.useMemo(()=>{const n=eR();return QS(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Dpe(t,e){const n=t.style||{},r={};return _V(r,n,t),Object.assign(r,jpe(t,e)),r}function _pe(t,e){const n={},r=Dpe(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const Lpe={offset:"stroke-dashoffset",array:"stroke-dasharray"},Ope={offset:"strokeDashoffset",array:"strokeDasharray"};function $pe(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?Lpe:Ope;t[i.offset]=It.transform(-r);const a=It.transform(e),o=It.transform(n);t[i.array]=`${a} ${o}`}function LV(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:a=0,...o},l,u,d){if(QS(t,o,u),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:f}=t;p.transform&&(f.transform=p.transform,delete p.transform),(f.transform||p.transformOrigin)&&(f.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete p.transformBox),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),s!==void 0&&$pe(p,s,i,a,!1)}const OV=()=>({...eR(),attrs:{}}),$V=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Fpe(t,e,n,r){const s=T.useMemo(()=>{const i=OV();return LV(i,e,$V(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};_V(i,t.style,t),s.style={...i,...s.style}}return s}const Bpe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function tR(t){return typeof t!="string"||t.includes("-")?!1:!!(Bpe.indexOf(t)>-1||/[A-Z]/u.test(t))}function Upe(t=!1){return(n,r,s,{latestValues:i},a)=>{const l=(tR(n)?Fpe:_pe)(r,i,a,n),u=ype(r,typeof n=="string",t),d=n!==T.Fragment?{...u,...l,ref:s}:{},{children:p}=r,f=T.useMemo(()=>As(p)?p.get():p,[p]);return T.createElement(n,{...d,children:f})}}function k4(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function nR(t,e,n,r){if(typeof e=="function"){const[s,i]=k4(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=k4(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function Cw(t){return As(t)?t.get():t}function zpe({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:Vpe(n,r,s,t),renderState:e()}}const FV=t=>(e,n)=>{const r=T.useContext(NT),s=T.useContext(ET),i=()=>zpe(t,e,r,s);return n?i():kS(i)};function Vpe(t,e,n,r){const s={},i=r(t,{});for(const f in i)s[f]=Cw(i[f]);let{initial:a,animate:o}=t;const l=RT(t),u=RV(t);e&&u&&!l&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const p=d?o:a;if(p&&typeof p!="boolean"&&!ST(p)){const f=Array.isArray(p)?p:[p];for(let h=0;h<f.length;h++){const y=nR(t,f[h]);if(y){const{transitionEnd:m,transition:g,...v}=y;for(const b in v){let w=v[b];if(Array.isArray(w)){const A=d?w.length-1:0;w=w[A]}w!==null&&(s[b]=w)}for(const b in m)s[b]=m[b]}}}return s}function rR(t,e,n){var i;const{style:r}=t,s={};for(const a in r)(As(r[a])||e.style&&As(e.style[a])||DV(a,t)||((i=n==null?void 0:n.getValue(a))==null?void 0:i.liveStyle)!==void 0)&&(s[a]=r[a]);return s}const Hpe={useVisualState:FV({scrapeMotionValuesFromProps:rR,createRenderState:eR})};function BV(t,e,n){const r=rR(t,e,n);for(const s in t)if(As(t[s])||As(e[s])){const i=Im.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const Wpe={useVisualState:FV({scrapeMotionValuesFromProps:BV,createRenderState:OV})};function Gpe(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const a={...tR(r)?Wpe:Hpe,preloadedFeatures:t,useRender:Upe(s),createVisualElement:e,Component:r};return kpe(a)}}function Xg(t,e,n){const r=t.getProps();return nR(r,e,n!==void 0?n:r.custom,t)}const y6=t=>Array.isArray(t);function Kpe(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Gh(n))}function Ype(t){return y6(t)?t[t.length-1]||0:t}function qpe(t,e){const n=Xg(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const a in i){const o=Ype(i[a]);Kpe(t,a,o)}}function Xpe(t){return!!(As(t)&&t.add)}function g6(t,e){const n=t.getValue("willChange");if(Xpe(n))return n.add(e);if(!n&&bc.WillChange){const r=new bc.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function UV(t){return t.props[MV]}const Zpe=t=>t!==null;function Jpe(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(Zpe),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const Qpe={type:"spring",stiffness:500,damping:25,restSpeed:10},efe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),tfe={type:"keyframes",duration:.8},nfe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},rfe=(t,{keyframes:e})=>e.length>2?tfe:km.has(t)?t.startsWith("scale")?efe(e[1]):Qpe:nfe;function sfe({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:o,from:l,elapsed:u,...d}){return!!Object.keys(d).length}const sR=(t,e,n,r={},s,i)=>a=>{const o=HS(r,t)||{},l=o.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Ko(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-u,onUpdate:f=>{e.set(f),o.onUpdate&&o.onUpdate(f)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:i?void 0:s};sfe(o)||Object.assign(d,rfe(t,d)),d.duration&&(d.duration=Ko(d.duration)),d.repeatDelay&&(d.repeatDelay=Ko(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let p=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(p=!0)),(bc.instantAnimations||bc.skipAnimations)&&(p=!0,d.duration=0,d.delay=0),d.allowFlatten=!o.type&&!o.ease,p&&!i&&e.get()!==void 0){const f=Jpe(d.keyframes,o);if(f!==void 0){Wn.update(()=>{d.onUpdate(f),d.onComplete()});return}}return o.isSync?new US(d):new $de(d)};function ife({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function zV(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:a,...o}=e;r&&(i=r);const l=[],u=s&&t.animationState&&t.animationState.getState()[s];for(const d in o){const p=t.getValue(d,t.latestValues[d]??null),f=o[d];if(f===void 0||u&&ife(u,d))continue;const h={delay:n,...HS(i||{},d)},y=p.get();if(y!==void 0&&!p.isAnimating&&!Array.isArray(f)&&f===y&&!h.velocity)continue;let m=!1;if(window.MotionHandoffAnimation){const v=UV(t);if(v){const b=window.MotionHandoffAnimation(v,d,Wn);b!==null&&(h.startTime=b,m=!0)}}g6(t,d),p.start(sR(d,p,f,t.shouldReduceMotion&&gV.has(d)?{type:!1}:h,t,m));const g=p.animation;g&&l.push(g)}return a&&Promise.all(l).then(()=>{Wn.update(()=>{a&&qpe(t,a)})}),l}function v6(t,e,n={}){var l;const r=Xg(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(zV(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:p,staggerDirection:f}=s;return afe(t,e,d+u,p,f,n)}:()=>Promise.resolve(),{when:o}=s;if(o){const[u,d]=o==="beforeChildren"?[i,a]:[a,i];return u().then(()=>d())}else return Promise.all([i(),a(n.delay)])}function afe(t,e,n=0,r=0,s=1,i){const a=[],o=(t.variantChildren.size-1)*r,l=s===1?(u=0)=>u*r:(u=0)=>o-u*r;return Array.from(t.variantChildren).sort(ofe).forEach((u,d)=>{u.notify("AnimationStart",e),a.push(v6(u,e,{...i,delay:n+l(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(a)}function ofe(t,e){return t.sortNodePosition(e)}function lfe(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>v6(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=v6(t,e,n);else{const s=typeof e=="function"?Xg(t,e,n.custom):e;r=Promise.all(zV(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function VV(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const cfe=ZS.length;function HV(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?HV(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<cfe;n++){const r=ZS[n],s=t.props[r];(Yg(s)||s===!1)&&(e[r]=s)}return e}const ufe=[...XS].reverse(),dfe=XS.length;function pfe(t){return e=>Promise.all(e.map(({animation:n,options:r})=>lfe(t,n,r)))}function ffe(t){let e=pfe(t),n=C4(),r=!0;const s=l=>(u,d)=>{var f;const p=Xg(t,d,l==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(p){const{transition:h,transitionEnd:y,...m}=p;u={...u,...m,...y}}return u};function i(l){e=l(t)}function a(l){const{props:u}=t,d=HV(t.parent)||{},p=[],f=new Set;let h={},y=1/0;for(let g=0;g<dfe;g++){const v=ufe[g],b=n[v],w=u[v]!==void 0?u[v]:d[v],A=Yg(w),I=v===l?b.isActive:null;I===!1&&(y=g);let C=w===d[v]&&w!==u[v]&&A;if(C&&r&&t.manuallyAnimateOnMount&&(C=!1),b.protectedKeys={...h},!b.isActive&&I===null||!w&&!b.prevProp||ST(w)||typeof w=="boolean")continue;const E=hfe(b.prevProp,w);let N=E||v===l&&b.isActive&&!C&&A||g>y&&A,_=!1;const U=Array.isArray(w)?w:[w];let $=U.reduce(s(v),{});I===!1&&($={});const{prevResolvedValues:B={}}=b,j={...B,...$},x=P=>{N=!0,f.has(P)&&(_=!0,f.delete(P)),b.needsAnimating[P]=!0;const S=t.getValue(P);S&&(S.liveStyle=!1)};for(const P in j){const S=$[P],L=B[P];if(h.hasOwnProperty(P))continue;let V=!1;y6(S)&&y6(L)?V=!VV(S,L):V=S!==L,V?S!=null?x(P):f.add(P):S!==void 0&&f.has(P)?x(P):b.protectedKeys[P]=!0}b.prevProp=w,b.prevResolvedValues=$,b.isActive&&(h={...h,...$}),r&&t.blockInitialAnimation&&(N=!1),N&&(!(C&&E)||_)&&p.push(...U.map(P=>({animation:P,options:{type:v}})))}if(f.size){const g={};if(typeof u.initial!="boolean"){const v=Xg(t,Array.isArray(u.initial)?u.initial[0]:u.initial);v&&v.transition&&(g.transition=v.transition)}f.forEach(v=>{const b=t.getBaseTarget(v),w=t.getValue(v);w&&(w.liveStyle=!0),g[v]=b??null}),p.push({animation:g})}let m=!!p.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(m=!1),r=!1,m?e(p):Promise.resolve()}function o(l,u){var p;if(n[l].isActive===u)return Promise.resolve();(p=t.variantChildren)==null||p.forEach(f=>{var h;return(h=f.animationState)==null?void 0:h.setActive(l,u)}),n[l].isActive=u;const d=a(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:a,setActive:o,setAnimateFunction:i,getState:()=>n,reset:()=>{n=C4(),r=!0}}}function hfe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!VV(e,t):!1}function Cd(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function C4(){return{animate:Cd(!0),whileInView:Cd(),whileHover:Cd(),whileTap:Cd(),whileDrag:Cd(),whileFocus:Cd(),exit:Cd()}}let yd=class{constructor(e){this.isMounted=!1,this.node=e}update(){}},mfe=class extends yd{constructor(e){super(e),e.animationState||(e.animationState=ffe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ST(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}},yfe=0,gfe=class extends yd{constructor(){super(...arguments),this.id=yfe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}};const vfe={animation:{Feature:mfe},exit:{Feature:gfe}};function Zg(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function yv(t){return{point:{x:t.pageX,y:t.pageY}}}const bfe=t=>e=>KS(e)&&t(e,yv(e));function eg(t,e,n,r){return Zg(t,e,bfe(n),r)}function WV({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function wfe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function xfe(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const GV=1e-4,Tfe=1-GV,Afe=1+GV,KV=.01,Ife=0-KV,kfe=0+KV;function $s(t){return t.max-t.min}function Cfe(t,e,n){return Math.abs(t-e)<=n}function E4(t,e,n,r=.5){t.origin=r,t.originPoint=zn(e.min,e.max,t.origin),t.scale=$s(n)/$s(e),t.translate=zn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Tfe&&t.scale<=Afe||isNaN(t.scale))&&(t.scale=1),(t.translate>=Ife&&t.translate<=kfe||isNaN(t.translate))&&(t.translate=0)}function tg(t,e,n,r){E4(t.x,e.x,n.x,r?r.originX:void 0),E4(t.y,e.y,n.y,r?r.originY:void 0)}function N4(t,e,n){t.min=n.min+e.min,t.max=t.min+$s(e)}function Efe(t,e,n){N4(t.x,e.x,n.x),N4(t.y,e.y,n.y)}function S4(t,e,n){t.min=e.min-n.min,t.max=t.min+$s(e)}function ng(t,e,n){S4(t.x,e.x,n.x),S4(t.y,e.y,n.y)}const R4=()=>({translate:0,scale:1,origin:0,originPoint:0}),Uf=()=>({x:R4(),y:R4()}),M4=()=>({min:0,max:0}),nr=()=>({x:M4(),y:M4()});function ta(t){return[t("x"),t("y")]}function QA(t){return t===void 0||t===1}function b6({scale:t,scaleX:e,scaleY:n}){return!QA(t)||!QA(e)||!QA(n)}function jd(t){return b6(t)||YV(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function YV(t){return P4(t.x)||P4(t.y)}function P4(t){return t&&t!=="0%"}function Kx(t,e,n){const r=t-n,s=e*r;return n+s}function j4(t,e,n,r,s){return s!==void 0&&(t=Kx(t,s,r)),Kx(t,n,r)+e}function w6(t,e=0,n=1,r,s){t.min=j4(t.min,e,n,r,s),t.max=j4(t.max,e,n,r,s)}function qV(t,{x:e,y:n}){w6(t.x,e.translate,e.scale,e.originPoint),w6(t.y,n.translate,n.scale,n.originPoint)}const D4=.999999999999,_4=1.0000000000001;function Nfe(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,a;for(let o=0;o<s;o++){i=n[o],a=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Vf(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,qV(t,a)),r&&jd(i.latestValues)&&Vf(t,i.latestValues))}e.x<_4&&e.x>D4&&(e.x=1),e.y<_4&&e.y>D4&&(e.y=1)}function zf(t,e){t.min=t.min+e,t.max=t.max+e}function L4(t,e,n,r,s=.5){const i=zn(t.min,t.max,s);w6(t,e,n,i,r)}function Vf(t,e){L4(t.x,e.x,e.scaleX,e.scale,e.originX),L4(t.y,e.y,e.scaleY,e.scale,e.originY)}function XV(t,e){return WV(xfe(t.getBoundingClientRect(),e))}function Sfe(t,e,n){const r=XV(t,n),{scroll:s}=e;return s&&(zf(r.x,s.offset.x),zf(r.y,s.offset.y)),r}const ZV=({current:t})=>t?t.ownerDocument.defaultView:null,O4=(t,e)=>Math.abs(t-e);function Rfe(t,e){const n=O4(t.x,e.x),r=O4(t.y,e.y);return Math.sqrt(n**2+r**2)}let JV=class{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=tI(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,h=Rfe(p.offset,{x:0,y:0})>=3;if(!f&&!h)return;const{point:y}=p,{timestamp:m}=Xr;this.history.push({...y,timestamp:m});const{onStart:g,onMove:v}=this.handlers;f||(g&&g(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,p)},this.handlePointerMove=(p,f)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=eI(f,this.transformPagePoint),Wn.update(this.updatePoint,!0)},this.handlePointerUp=(p,f)=>{this.end();const{onEnd:h,onSessionEnd:y,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=tI(p.type==="pointercancel"?this.lastMoveEventInfo:eI(f,this.transformPagePoint),this.history);this.startEvent&&h&&h(p,g),y&&y(p,g)},!KS(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const a=yv(e),o=eI(a,this.transformPagePoint),{point:l}=o,{timestamp:u}=Xr;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,tI(o,this.history)),this.removeListeners=fv(eg(this.contextWindow,"pointermove",this.handlePointerMove),eg(this.contextWindow,"pointerup",this.handlePointerUp),eg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),td(this.updatePoint)}};function eI(t,e){return e?{point:e(t.point)}:t}function $4(t,e){return{x:t.x-e.x,y:t.y-e.y}}function tI({point:t},e){return{point:t,delta:$4(t,QV(e)),offset:$4(t,Mfe(e)),velocity:Pfe(e,.1)}}function Mfe(t){return t[0]}function QV(t){return t[t.length-1]}function Pfe(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=QV(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Ko(e)));)n--;if(!r)return{x:0,y:0};const i=Yo(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function jfe(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?zn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?zn(n,t,r.max):Math.min(t,n)),t}function F4(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Dfe(t,{top:e,left:n,bottom:r,right:s}){return{x:F4(t.x,n,s),y:F4(t.y,e,r)}}function B4(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function _fe(t,e){return{x:B4(t.x,e.x),y:B4(t.y,e.y)}}function Lfe(t,e){let n=.5;const r=$s(t),s=$s(e);return s>r?n=Wg(e.min,e.max-r,t.min):r>s&&(n=Wg(t.min,t.max-s,e.min)),vc(0,1,n)}function Ofe(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const x6=.35;function $fe(t=x6){return t===!1?t=0:t===!0&&(t=x6),{x:U4(t,"left","right"),y:U4(t,"top","bottom")}}function U4(t,e,n){return{min:z4(t,e),max:z4(t,n)}}function z4(t,e){return typeof t=="number"?t:t[e]||0}const Ffe=new WeakMap;let Bfe=class{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=nr(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(yv(d).point)},i=(d,p)=>{const{drag:f,dragPropagation:h,onDragStart:y}=this.getProps();if(f&&!h&&(this.openDragLock&&this.openDragLock(),this.openDragLock=epe(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ta(g=>{let v=this.getAxisMotionValue(g).get()||0;if(qo.test(v)){const{projection:b}=this.visualElement;if(b&&b.layout){const w=b.layout.layoutBox[g];w&&(v=$s(w)*(parseFloat(v)/100))}}this.originPoint[g]=v}),y&&Wn.postRender(()=>y(d,p)),g6(this.visualElement,"transform");const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},a=(d,p)=>{const{dragPropagation:f,dragDirectionLock:h,onDirectionLock:y,onDrag:m}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:g}=p;if(h&&this.currentDirection===null){this.currentDirection=Ufe(g),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",p.point,g),this.updateAxis("y",p.point,g),this.visualElement.render(),m&&m(d,p)},o=(d,p)=>this.stop(d,p),l=()=>ta(d=>{var p;return this.getAnimationState(d)==="paused"&&((p=this.getAxisMotionValue(d).animation)==null?void 0:p.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new JV(e,{onSessionStart:s,onStart:i,onMove:a,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:ZV(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&Wn.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!xb(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=jfe(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&Bf(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=Dfe(r.layoutBox,e):this.constraints=!1,this.elastic=$fe(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ta(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=Ofe(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Bf(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=Sfe(r,s.root,this.visualElement.getTransformPagePoint());let a=_fe(s.layout.layoutBox,i);if(n){const o=n(wfe(a));this.hasMutatedConstraints=!!o,o&&(a=WV(o))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},u=ta(d=>{if(!xb(d,n,this.currentDirection))return;let p=l&&l[d]||{};a&&(p={min:0,max:0});const f=s?200:1e6,h=s?40:1e7,y={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...i,...p};return this.startAxisValueAnimation(d,y)});return Promise.all(u).then(o)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return g6(this.visualElement,e),r.start(sR(e,r,0,n,this.visualElement,!1))}stopAnimation(){ta(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ta(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ta(n=>{const{drag:r}=this.getProps();if(!xb(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:o}=s.layout.layoutBox[n];i.set(e[n]-zn(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Bf(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ta(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();s[a]=Lfe({min:l,max:l},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ta(a=>{if(!xb(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:u}=this.constraints[a];o.set(zn(l,u,s[a]))})}addListeners(){if(!this.visualElement.current)return;Ffe.set(this.visualElement,this);const e=this.visualElement.current,n=eg(e,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Bf(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Wn.read(r);const a=Zg(window,"resize",()=>this.scalePositionWithinConstraints()),o=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(ta(d=>{const p=this.getAxisMotionValue(d);p&&(this.originPoint[d]+=l[d].translate,p.set(p.get()+l[d].translate))}),this.visualElement.render())});return()=>{a(),n(),i(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=x6,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:o}}};function xb(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Ufe(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}let zfe=class extends yd{constructor(e){super(e),this.removeGroupControls=ha,this.removeListeners=ha,this.controls=new Bfe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ha}unmount(){this.removeGroupControls(),this.removeListeners()}};const V4=t=>(e,n)=>{t&&Wn.postRender(()=>t(e,n))};let Vfe=class extends yd{constructor(){super(...arguments),this.removePointerDownListener=ha}onPointerDown(e){this.session=new JV(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ZV(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:V4(e),onStart:V4(n),onMove:r,onEnd:(i,a)=>{delete this.session,s&&Wn.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=eg(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}};const Ew={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function H4(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ay={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(It.test(t))t=parseFloat(t);else return t;const n=H4(t,e.target.x),r=H4(t,e.target.y);return`${n}% ${r}%`}},Hfe={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=nd.parse(t);if(s.length>5)return r;const i=nd.createTransformer(t),a=typeof s[0]!="number"?1:0,o=n.x.scale*e.x,l=n.y.scale*e.y;s[0+a]/=o,s[1+a]/=l;const u=zn(o,l,.5);return typeof s[2+a]=="number"&&(s[2+a]/=u),typeof s[3+a]=="number"&&(s[3+a]/=u),i(s)}};let Wfe=class extends T.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;Spe(Gfe),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Ew.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:a}=r;return a&&(a.isPresent=i,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||Wn.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),GS.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}};function eH(t){const[e,n]=EV(),r=T.useContext(IS);return c.jsx(Wfe,{...t,layoutGroup:r,switchLayoutGroup:T.useContext(PV),isPresent:e,safeToRemove:n})}const Gfe={borderRadius:{...ay,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ay,borderTopRightRadius:ay,borderBottomLeftRadius:ay,borderBottomRightRadius:ay,boxShadow:Hfe};function Kfe(t,e,n){const r=As(t)?t:Gh(t);return r.start(sR("",r,e,n)),r.animation}const Yfe=(t,e)=>t.depth-e.depth;let qfe=class{constructor(){this.children=[],this.isDirty=!1}add(e){ES(this.children,e),this.isDirty=!0}remove(e){NS(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Yfe),this.isDirty=!1,this.children.forEach(e)}};function Xfe(t,e){const n=oi.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(td(r),t(i-e))};return Wn.setup(r,!0),()=>td(r)}const tH=["TopLeft","TopRight","BottomLeft","BottomRight"],Zfe=tH.length,W4=t=>typeof t=="string"?parseFloat(t):t,G4=t=>typeof t=="number"||It.test(t);function Jfe(t,e,n,r,s,i){s?(t.opacity=zn(0,n.opacity??1,Qfe(r)),t.opacityExit=zn(e.opacity??1,0,ehe(r))):i&&(t.opacity=zn(e.opacity??1,n.opacity??1,r));for(let a=0;a<Zfe;a++){const o=`border${tH[a]}Radius`;let l=K4(e,o),u=K4(n,o);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||G4(l)===G4(u)?(t[o]=Math.max(zn(W4(l),W4(u),r),0),(qo.test(u)||qo.test(l))&&(t[o]+="%")):t[o]=u}(e.rotate||n.rotate)&&(t.rotate=zn(e.rotate||0,n.rotate||0,r))}function K4(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Qfe=nH(0,.5,Yz),ehe=nH(.5,.95,ha);function nH(t,e,n){return r=>r<t?0:r>e?1:n(Wg(t,e,r))}function Y4(t,e){t.min=e.min,t.max=e.max}function Ki(t,e){Y4(t.x,e.x),Y4(t.y,e.y)}function q4(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function X4(t,e,n,r,s){return t-=e,t=Kx(t,1/n,r),s!==void 0&&(t=Kx(t,1/s,r)),t}function the(t,e=0,n=1,r=.5,s,i=t,a=t){if(qo.test(e)&&(e=parseFloat(e),e=zn(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=zn(i.min,i.max,r);t===i&&(o-=e),t.min=X4(t.min,e,n,o,s),t.max=X4(t.max,e,n,o,s)}function Z4(t,e,[n,r,s],i,a){the(t,e[n],e[r],e[s],e.scale,i,a)}const nhe=["x","scaleX","originX"],rhe=["y","scaleY","originY"];function J4(t,e,n,r){Z4(t.x,e,nhe,n?n.x:void 0,r?r.x:void 0),Z4(t.y,e,rhe,n?n.y:void 0,r?r.y:void 0)}function Q4(t){return t.translate===0&&t.scale===1}function rH(t){return Q4(t.x)&&Q4(t.y)}function eD(t,e){return t.min===e.min&&t.max===e.max}function she(t,e){return eD(t.x,e.x)&&eD(t.y,e.y)}function tD(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function sH(t,e){return tD(t.x,e.x)&&tD(t.y,e.y)}function nD(t){return $s(t.x)/$s(t.y)}function rD(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}let ihe=class{constructor(){this.members=[]}add(e){ES(this.members,e),e.scheduleRender()}remove(e){if(NS(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}};function ahe(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((s||i||a)&&(r=`translate3d(${s}px, ${i}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:p,rotateY:f,skewX:h,skewY:y}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),p&&(r+=`rotateX(${p}deg) `),f&&(r+=`rotateY(${f}deg) `),h&&(r+=`skewX(${h}deg) `),y&&(r+=`skewY(${y}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const nI=["","X","Y","Z"],ohe={visibility:"hidden"},lhe=1e3;let che=0;function rI(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function iH(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=UV(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Wn,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&iH(r)}function aH({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},o=e==null?void 0:e()){this.id=che++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(phe),this.nodes.forEach(ghe),this.nodes.forEach(vhe),this.nodes.forEach(fhe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new qfe)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new RS),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=CV(a)&&!ape(a),this.instance=a;const{layoutId:o,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),t){let d;const p=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=Xfe(p,250),Ew.hasAnimatedSinceResize&&(Ew.hasAnimatedSinceResize=!1,this.nodes.forEach(iD))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&u&&(o||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeLayoutChanged:f,layout:h})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||Ahe,{onLayoutAnimationStart:m,onLayoutAnimationComplete:g}=u.getProps(),v=!this.targetLayout||!sH(this.targetLayout,h),b=!p&&f;if(this.options.layoutRoot||this.resumeFrom||b||p&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,b);const w={...HS(y,"layout"),onPlay:m,onComplete:g};(u.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else p||iD(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=h})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),td(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(bhe),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&iH(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const p=this.path[d];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(sD);return}this.isUpdating||this.nodes.forEach(mhe),this.isUpdating=!1,this.nodes.forEach(yhe),this.nodes.forEach(uhe),this.nodes.forEach(dhe),this.clearAllSnapshots();const o=oi.now();Xr.delta=vc(0,1e3/60,o-Xr.timestamp),Xr.timestamp=o,Xr.isProcessing=!0,KA.update.process(Xr),KA.preRender.process(Xr),KA.render.process(Xr),Xr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,GS.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(hhe),this.sharedNodes.forEach(whe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Wn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Wn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!$s(this.snapshot.measuredBox.x)&&!$s(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=nr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!rH(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&this.instance&&(o||jd(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),Ihe(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:a}=this.options;if(!a)return nr();const o=a.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(khe))){const{scroll:d}=this.root;d&&(zf(o.x,d.offset.x),zf(o.y,d.offset.y))}return o}removeElementScroll(a){var l;const o=nr();if(Ki(o,a),(l=this.scroll)!=null&&l.wasRoot)return o;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:p,options:f}=d;d!==this.root&&p&&f.layoutScroll&&(p.wasRoot&&Ki(o,a),zf(o.x,p.offset.x),zf(o.y,p.offset.y))}return o}applyTransform(a,o=!1){const l=nr();Ki(l,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Vf(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),jd(d.latestValues)&&Vf(l,d.latestValues)}return jd(this.latestValues)&&Vf(l,this.latestValues),l}removeTransform(a){const o=nr();Ki(o,a);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!jd(u.latestValues))continue;b6(u.latestValues)&&u.updateSnapshot();const d=nr(),p=u.measurePageBox();Ki(d,p),J4(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return jd(this.latestValues)&&J4(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Xr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var f;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(a||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:p}=this.options;if(!(!this.layout||!(d||p))){if(this.resolvedRelativeTargetAt=Xr.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nr(),this.relativeTargetOrigin=nr(),ng(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),Ki(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=nr(),this.targetWithTransforms=nr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Efe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ki(this.target,this.layout.layoutBox),qV(this.target,this.targetDelta)):Ki(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nr(),this.relativeTargetOrigin=nr(),ng(this.relativeTargetOrigin,this.target,h.target),Ki(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||b6(this.parent.latestValues)||YV(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var y;const a=this.getLead(),o=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Xr.timestamp&&(l=!1),l)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Ki(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,f=this.treeScale.y;Nfe(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=nr());const{target:h}=a;if(!h){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(q4(this.prevProjectionDelta.x,this.projectionDelta.x),q4(this.prevProjectionDelta.y,this.projectionDelta.y)),tg(this.projectionDelta,this.layoutCorrected,h,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==f||!rD(this.projectionDelta.x,this.prevProjectionDelta.x)||!rD(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",h))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Uf(),this.projectionDelta=Uf(),this.projectionDeltaWithTransform=Uf()}setAnimationOrigin(a,o=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},p=Uf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=nr(),h=l?l.source:void 0,y=this.layout?this.layout.source:void 0,m=h!==y,g=this.getStack(),v=!g||g.members.length<=1,b=!!(m&&!v&&this.options.crossfade===!0&&!this.path.some(The));this.animationProgress=0;let w;this.mixTargetDelta=A=>{const I=A/1e3;aD(p.x,a.x,I),aD(p.y,a.y,I),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ng(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),xhe(this.relativeTarget,this.relativeTargetOrigin,f,I),w&&she(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=nr()),Ki(w,this.relativeTarget)),m&&(this.animationValues=d,Jfe(d,u,this.latestValues,I,b,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var o,l,u;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(!1),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(!1),this.pendingAnimation&&(td(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Wn.update(()=>{Ew.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Gh(0)),this.currentAnimation=Kfe(this.motionValue,[0,1e3],{...a,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),a.onUpdate&&a.onUpdate(d)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(lhe),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:u,latestValues:d}=a;if(!(!o||!l||!u)){if(this!==a&&this.layout&&u&&oH(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||nr();const p=$s(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+p;const f=$s(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+f}Ki(o,l),Vf(o,d),tg(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new ihe),this.sharedNodes.get(a).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const u={};l.z&&rI("z",a,u,this.animationValues);for(let d=0;d<nI.length;d++)rI(`rotate${nI[d]}`,a,u,this.animationValues),rI(`skew${nI[d]}`,a,u,this.animationValues);a.render();for(const d in u)a.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);a.scheduleRender()}getProjectionStyles(a){if(!this.instance||this.isSVG)return;if(!this.isVisible)return ohe;const o={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,o.opacity="",o.pointerEvents=Cw(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none",o;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const h={};return this.options.layoutId&&(h.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,h.pointerEvents=Cw(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!jd(this.latestValues)&&(h.transform=l?l({},""):"none",this.hasProjected=!1),h}const d=u.animationValues||u.latestValues;this.applyTransformsToTarget(),o.transform=ahe(this.projectionDeltaWithTransform,this.treeScale,d),l&&(o.transform=l(d,o.transform));const{x:p,y:f}=this.projectionDelta;o.transformOrigin=`${p.origin*100}% ${f.origin*100}% 0`,u.animationValues?o.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const h in qg){if(d[h]===void 0)continue;const{correct:y,applyTo:m,isCSSVariable:g}=qg[h],v=o.transform==="none"?d[h]:y(d[h],u);if(m){const b=m.length;for(let w=0;w<b;w++)o[m[w]]=v}else g?this.options.visualElement.renderState.vars[h]=v:o[h]=v}return this.options.layoutId&&(o.pointerEvents=u===this?Cw(a==null?void 0:a.pointerEvents)||"":"none"),o}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)==null?void 0:o.stop(!1)}),this.root.nodes.forEach(sD),this.root.sharedNodes.clear()}}}function uhe(t){t.updateLayout()}function dhe(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,a=e.source!==t.layout.source;i==="size"?ta(p=>{const f=a?e.measuredBox[p]:e.layoutBox[p],h=$s(f);f.min=r[p].min,f.max=f.min+h}):oH(i,e.layoutBox,r)&&ta(p=>{const f=a?e.measuredBox[p]:e.layoutBox[p],h=$s(r[p]);f.max=f.min+h,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+h)});const o=Uf();tg(o,r,e.layoutBox);const l=Uf();a?tg(l,t.applyTransform(s,!0),e.measuredBox):tg(l,r,e.layoutBox);const u=!rH(o);let d=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:f,layout:h}=p;if(f&&h){const y=nr();ng(y,e.layoutBox,f.layoutBox);const m=nr();ng(m,r,h.layoutBox),sH(y,m)||(d=!0),p.options.layoutRoot&&(t.relativeTarget=m,t.relativeTargetOrigin=y,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:o,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function phe(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function fhe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function hhe(t){t.clearSnapshot()}function sD(t){t.clearMeasurements()}function mhe(t){t.isLayoutDirty=!1}function yhe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function iD(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function ghe(t){t.resolveTargetDelta()}function vhe(t){t.calcProjection()}function bhe(t){t.resetSkewAndRotation()}function whe(t){t.removeLeadSnapshot()}function aD(t,e,n){t.translate=zn(e.translate,0,n),t.scale=zn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function oD(t,e,n,r){t.min=zn(e.min,n.min,r),t.max=zn(e.max,n.max,r)}function xhe(t,e,n,r){oD(t.x,e.x,n.x,r),oD(t.y,e.y,n.y,r)}function The(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Ahe={duration:.45,ease:[.4,0,.1,1]},lD=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),cD=lD("applewebkit/")&&!lD("chrome/")?Math.round:ha;function uD(t){t.min=cD(t.min),t.max=cD(t.max)}function Ihe(t){uD(t.x),uD(t.y)}function oH(t,e,n){return t==="position"||t==="preserve-aspect"&&!Cfe(nD(e),nD(n),.2)}function khe(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const Che=aH({attachResizeListener:(t,e)=>Zg(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),sI={current:void 0},lH=aH({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!sI.current){const t=new Che({});t.mount(window),t.setOptions({layoutScroll:!0}),sI.current=t}return sI.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Ehe={pan:{Feature:Vfe},drag:{Feature:zfe,ProjectionNode:lH,MeasureLayout:eH}};function dD(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Wn.postRender(()=>i(e,yv(e)))}let Nhe=class extends yd{mount(){const{current:e}=this.node;e&&(this.unmount=tpe(e,(n,r)=>(dD(this.node,r,"Start"),s=>dD(this.node,s,"End"))))}unmount(){}},She=class extends yd{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=fv(Zg(this.node.current,"focus",()=>this.onFocus()),Zg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}};function pD(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Wn.postRender(()=>i(e,yv(e)))}let Rhe=class extends yd{mount(){const{current:e}=this.node;e&&(this.unmount=ipe(e,(n,r)=>(pD(this.node,r,"Start"),(s,{success:i})=>pD(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}};const T6=new WeakMap,iI=new WeakMap,Mhe=t=>{const e=T6.get(t.target);e&&e(t)},Phe=t=>{t.forEach(Mhe)};function jhe({root:t,...e}){const n=t||document;iI.has(n)||iI.set(n,{});const r=iI.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(Phe,{root:t,...e})),r[s]}function Dhe(t,e,n){const r=jhe(e);return T6.set(t,n),r.observe(t),()=>{T6.delete(t),r.unobserve(t)}}const _he={some:0,all:1};let Lhe=class extends yd{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:_he[s]},o=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:p}=this.node.getProps(),f=u?d:p;f&&f(l)};return Dhe(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Ohe(e,n))&&this.startObserver()}unmount(){}};function Ohe({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const $he={inView:{Feature:Lhe},tap:{Feature:Rhe},focus:{Feature:She},hover:{Feature:Nhe}},Fhe={layout:{ProjectionNode:lH,MeasureLayout:eH}},A6={current:null},cH={current:!1};function Bhe(){if(cH.current=!0,!!CS)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>A6.current=t.matches;t.addListener(e),e()}else A6.current=!1}const Uhe=new WeakMap;function zhe(t,e,n){for(const r in e){const s=e[r],i=n[r];if(As(s))t.addValue(r,s);else if(As(i))t.addValue(r,Gh(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=t.getStaticValue(r);t.addValue(r,Gh(a!==void 0?a:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const fD=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Vhe=class{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=zS,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=oi.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Wn.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=RT(n),this.isVariantNode=RV(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in p){const h=p[f];l[f]!==void 0&&As(h)&&h.set(l[f],!1)}}mount(e){this.current=e,Uhe.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),cH.current||Bhe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:A6.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),td(this.notifyUpdate),td(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=km.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Wn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Kh){const n=Kh[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):nr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<fD.length;r++){const s=fD[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=e[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=zhe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Gh(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&($z(r)||Bz(r))?r=parseFloat(r):!lpe(r)&&nd.test(n)&&(r=xV(e,n)),this.setBaseTarget(e,As(r)?r.get():r)),As(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=nR(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);a&&(r=a[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!As(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new RS),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}},uH=class extends Vhe{constructor(){super(...arguments),this.KeyframeResolver=Xde}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;As(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}};function dH(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}function Hhe(t){return window.getComputedStyle(t)}let Whe=class extends uH{constructor(){super(...arguments),this.type="html",this.renderInstance=dH}readValueFromInstance(e,n){var r;if(km.has(n))return(r=this.projection)!=null&&r.isProjecting?u6(n):mde(e,n);{const s=Hhe(e),i=(jS(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return XV(e,n)}build(e,n,r){QS(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return rR(e,n,r)}};const pH=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ghe(t,e,n,r){dH(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(pH.has(s)?s:JS(s),e.attrs[s])}let Khe=class extends uH{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=nr}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(km.has(n)){const r=wV(n);return r&&r.default||0}return n=pH.has(n)?n:JS(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return BV(e,n,r)}build(e,n,r){LV(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){Ghe(e,n,r,s)}mount(e){this.isSVGTag=$V(e.tagName),super.mount(e)}};const Yhe=(t,e)=>tR(t)?new Khe(e):new Whe(e,{allowProjection:t!==T.Fragment}),qhe=Gpe({...vfe,...$he,...Ehe,...Fhe},Yhe),Qt=gpe(qhe);function Xhe(t,e=[]){let n=[];function r(i,a){const o=T.createContext(a),l=n.length;n=[...n,a];function u(p){const{scope:f,children:h,...y}=p,m=(f==null?void 0:f[t][l])||o,g=T.useMemo(()=>y,Object.values(y));return c.jsx(m.Provider,{value:g,children:h})}function d(p,f){const h=(f==null?void 0:f[t][l])||o,y=T.useContext(h);if(y)return y;if(a!==void 0)return a;throw new Error(`\`${p}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=n.map(a=>T.createContext(a));return function(o){const l=(o==null?void 0:o[t])||i;return T.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return s.scopeName=t,[r,Zhe(s,...e)]}function Zhe(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((o,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...o,...p}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var aI="rovingFocusGroup.onEntryFocus",Jhe={bubbles:!1,cancelable:!0},MT="RovingFocusGroup",[I6,fH,Qhe]=iT(MT),[eme,hH]=Xhe(MT,[Qhe]),[tme,nme]=eme(MT),mH=T.forwardRef((t,e)=>c.jsx(I6.Provider,{scope:t.__scopeRovingFocusGroup,children:c.jsx(I6.Slot,{scope:t.__scopeRovingFocusGroup,children:c.jsx(rme,{...t,ref:e})})}));mH.displayName=MT;var rme=T.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...p}=t,f=T.useRef(null),h=mn(e,f),y=wT(i),[m=null,g]=il({prop:a,defaultProp:o,onChange:l}),[v,b]=T.useState(!1),w=Hs(u),A=fH(n),I=T.useRef(!1),[C,E]=T.useState(0);return T.useEffect(()=>{const N=f.current;if(N)return N.addEventListener(aI,w),()=>N.removeEventListener(aI,w)},[w]),c.jsx(tme,{scope:n,orientation:r,dir:y,loop:s,currentTabStopId:m,onItemFocus:T.useCallback(N=>g(N),[g]),onItemShiftTab:T.useCallback(()=>b(!0),[]),onFocusableItemAdd:T.useCallback(()=>E(N=>N+1),[]),onFocusableItemRemove:T.useCallback(()=>E(N=>N-1),[]),children:c.jsx(vt.div,{tabIndex:v||C===0?-1:0,"data-orientation":r,...p,ref:h,style:{outline:"none",...t.style},onMouseDown:ht(t.onMouseDown,()=>{I.current=!0}),onFocus:ht(t.onFocus,N=>{const _=!I.current;if(N.target===N.currentTarget&&_&&!v){const U=new CustomEvent(aI,Jhe);if(N.currentTarget.dispatchEvent(U),!U.defaultPrevented){const $=A().filter(M=>M.focusable),B=$.find(M=>M.active),j=$.find(M=>M.id===m),k=[B,j,...$].filter(Boolean).map(M=>M.ref.current);vH(k,d)}}I.current=!1}),onBlur:ht(t.onBlur,()=>b(!1))})})}),yH="RovingFocusGroupItem",gH=T.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...a}=t,o=Go(),l=i||o,u=nme(yH,n),d=u.currentTabStopId===l,p=fH(n),{onFocusableItemAdd:f,onFocusableItemRemove:h}=u;return T.useEffect(()=>{if(r)return f(),()=>h()},[r,f,h]),c.jsx(I6.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:c.jsx(vt.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...a,ref:e,onMouseDown:ht(t.onMouseDown,y=>{r?u.onItemFocus(l):y.preventDefault()}),onFocus:ht(t.onFocus,()=>u.onItemFocus(l)),onKeyDown:ht(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const m=ame(y,u.orientation,u.dir);if(m!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let v=p().filter(b=>b.focusable).map(b=>b.ref.current);if(m==="last")v.reverse();else if(m==="prev"||m==="next"){m==="prev"&&v.reverse();const b=v.indexOf(y.currentTarget);v=u.loop?ome(v,b+1):v.slice(b+1)}setTimeout(()=>vH(v))}})})})});gH.displayName=yH;var sme={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ime(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function ame(t,e,n){const r=ime(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return sme[r]}function vH(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function ome(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var lme=mH,cme=gH,iR="Tabs",[ume,g9e]=Rc(iR,[hH]),bH=hH(),[dme,aR]=ume(iR),wH=T.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:a="horizontal",dir:o,activationMode:l="automatic",...u}=t,d=wT(o),[p,f]=il({prop:r,onChange:s,defaultProp:i});return c.jsx(dme,{scope:n,baseId:Go(),value:p,onValueChange:f,orientation:a,dir:d,activationMode:l,children:c.jsx(vt.div,{dir:d,"data-orientation":a,...u,ref:e})})});wH.displayName=iR;var xH="TabsList",TH=T.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=aR(xH,n),a=bH(n);return c.jsx(lme,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:r,children:c.jsx(vt.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});TH.displayName=xH;var AH="TabsTrigger",IH=T.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,a=aR(AH,n),o=bH(n),l=EH(a.baseId,r),u=NH(a.baseId,r),d=r===a.value;return c.jsx(cme,{asChild:!0,...o,focusable:!s,active:d,children:c.jsx(vt.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:ht(t.onMouseDown,p=>{!s&&p.button===0&&p.ctrlKey===!1?a.onValueChange(r):p.preventDefault()}),onKeyDown:ht(t.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&a.onValueChange(r)}),onFocus:ht(t.onFocus,()=>{const p=a.activationMode!=="manual";!d&&!s&&p&&a.onValueChange(r)})})})});IH.displayName=AH;var kH="TabsContent",CH=T.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...a}=t,o=aR(kH,n),l=EH(o.baseId,r),u=NH(o.baseId,r),d=r===o.value,p=T.useRef(d);return T.useEffect(()=>{const f=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(f)},[]),c.jsx(pd,{present:s||d,children:({present:f})=>c.jsx(vt.div,{"data-state":d?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":l,hidden:!f,id:u,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:p.current?"0s":void 0},children:f&&i})})});CH.displayName=kH;function EH(t,e){return`${t}-trigger-${e}`}function NH(t,e){return`${t}-content-${e}`}var pme=wH,SH=TH,RH=IH,MH=CH;const wc=pme,ol=T.forwardRef(({className:t,...e},n)=>c.jsx(SH,{ref:n,className:dt("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));ol.displayName=SH.displayName;const vn=T.forwardRef(({className:t,...e},n)=>c.jsx(RH,{ref:n,className:dt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));vn.displayName=RH.displayName;const jn=T.forwardRef(({className:t,...e},n)=>c.jsx(MH,{ref:n,className:dt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));jn.displayName=MH.displayName;const oR=T.createContext({});function gv(t){const e=T.useRef(null);return e.current===null&&(e.current=t()),e.current}const lR=typeof window<"u",PT=lR?T.useLayoutEffect:T.useEffect,jT=T.createContext(null),DT=T.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function PH(t){return typeof t=="object"&&t!==null}function _T(t){return PH(t)&&"offsetHeight"in t}class fme extends T.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=_T(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function hme({children:t,isPresent:e,anchorX:n}){const r=T.useId(),s=T.useRef(null),i=T.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=T.useContext(DT);return T.useInsertionEffect(()=>{const{width:o,height:l,top:u,left:d,right:p}=i.current;if(e||!s.current||!o||!l)return;const f=n==="left"?`left: ${d}`:`right: ${p}`;s.current.dataset.motionPopId=r;const h=document.createElement("style");return a&&(h.nonce=a),document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            ${f}px !important;
            top: ${u}px !important;
          }
        `),()=>{document.head.contains(h)&&document.head.removeChild(h)}},[e]),c.jsx(fme,{isPresent:e,childRef:s,sizeRef:i,children:T.cloneElement(t,{ref:s})})}const mme=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:a,anchorX:o})=>{const l=gv(yme),u=T.useId();let d=!0,p=T.useMemo(()=>(d=!1,{id:u,initial:e,isPresent:n,custom:s,onExitComplete:f=>{l.set(f,!0);for(const h of l.values())if(!h)return;r&&r()},register:f=>(l.set(f,!1),()=>l.delete(f))}),[n,l,r]);return i&&d&&(p={...p}),T.useMemo(()=>{l.forEach((f,h)=>l.set(h,!1))},[n]),T.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),a==="popLayout"&&(t=c.jsx(hme,{isPresent:n,anchorX:o,children:t})),c.jsx(jT.Provider,{value:p,children:t})};function yme(){return new Map}function jH(t=!0){const e=T.useContext(jT);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=T.useId();T.useEffect(()=>{if(t)return s(i)},[t]);const a=T.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,a]:[!0]}const Tb=t=>t.key||"";function hD(t){const e=[];return T.Children.forEach(t,n=>{T.isValidElement(n)&&e.push(n)}),e}const DH=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:a=!1,anchorX:o="left"})=>{const[l,u]=jH(a),d=T.useMemo(()=>hD(t),[t]),p=a&&!l?[]:d.map(Tb),f=T.useRef(!0),h=T.useRef(d),y=gv(()=>new Map),[m,g]=T.useState(d),[v,b]=T.useState(d);PT(()=>{f.current=!1,h.current=d;for(let I=0;I<v.length;I++){const C=Tb(v[I]);p.includes(C)?y.delete(C):y.get(C)!==!0&&y.set(C,!1)}},[v,p.length,p.join("-")]);const w=[];if(d!==m){let I=[...d];for(let C=0;C<v.length;C++){const E=v[C],N=Tb(E);p.includes(N)||(I.splice(C,0,E),w.push(E))}return i==="wait"&&w.length&&(I=w),b(hD(I)),g(d),null}const{forceRender:A}=T.useContext(oR);return c.jsx(c.Fragment,{children:v.map(I=>{const C=Tb(I),E=a&&!l?!1:d===v||p.includes(C),N=()=>{if(y.has(C))y.set(C,!0);else return;let _=!0;y.forEach(U=>{U||(_=!1)}),_&&(A==null||A(),b(h.current),a&&(u==null||u()),r&&r())};return c.jsx(mme,{isPresent:E,initial:!f.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,onExitComplete:E?void 0:N,anchorX:o,children:I},C)})})},Ab=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],mD={value:null,addProjectionMetrics:null};function gme(t,e){let n=new Set,r=new Set,s=!1,i=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1},l=0;function u(p){a.has(p)&&(d.schedule(p),t()),l++,p(o)}const d={schedule:(p,f=!1,h=!1)=>{const m=h&&s?n:r;return f&&a.add(p),m.has(p)||m.add(p),p},cancel:p=>{r.delete(p),a.delete(p)},process:p=>{if(o=p,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(u),e&&mD.value&&mD.value.frameloop[e].push(l),l=0,n.clear(),s=!1,i&&(i=!1,d.process(p))}};return d}const xc={},vme=40;function _H(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=Ab.reduce((w,A)=>(w[A]=gme(i,e?A:void 0),w),{}),{setup:o,read:l,resolveKeyframes:u,preUpdate:d,update:p,preRender:f,render:h,postRender:y}=a,m=()=>{const w=xc.useManualTiming?s.timestamp:performance.now();n=!1,xc.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(w-s.timestamp,vme),1)),s.timestamp=w,s.isProcessing=!0,o.process(s),l.process(s),u.process(s),d.process(s),p.process(s),f.process(s),h.process(s),y.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(m))},g=()=>{n=!0,r=!0,s.isProcessing||t(m)};return{schedule:Ab.reduce((w,A)=>{const I=a[A];return w[A]=(C,E=!1,N=!1)=>(n||g(),I.schedule(C,E,N)),w},{}),cancel:w=>{for(let A=0;A<Ab.length;A++)a[Ab[A]].cancel(w)},state:s,steps:a}}const fi=t=>t,{schedule:fn,cancel:ao,state:_r,steps:oI}=_H(typeof requestAnimationFrame<"u"?requestAnimationFrame:fi,!0),LH=T.createContext({strict:!1}),yD={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Yh={};for(const t in yD)Yh[t]={isEnabled:e=>yD[t].some(n=>!!e[n])};function bme(t){for(const e in t)Yh[e]={...Yh[e],...t[e]}}const wme=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Yx(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||wme.has(t)}let OH=t=>!Yx(t);function xme(t){t&&(OH=e=>e.startsWith("on")?!Yx(e):t(e))}try{xme(require("@emotion/is-prop-valid").default)}catch{}function Tme(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(OH(s)||n===!0&&Yx(s)||!e&&!Yx(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function Ame(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const LT=T.createContext({});function OT(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Jg(t){return typeof t=="string"||Array.isArray(t)}const cR=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],uR=["initial",...cR];function $T(t){return OT(t.animate)||uR.some(e=>Jg(t[e]))}function $H(t){return!!($T(t)||t.variants)}function Ime(t,e){if($T(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Jg(n)?n:void 0,animate:Jg(r)?r:void 0}}return t.inherit!==!1?e:{}}function kme(t){const{initial:e,animate:n}=Ime(t,T.useContext(LT));return T.useMemo(()=>({initial:e,animate:n}),[gD(e),gD(n)])}function gD(t){return Array.isArray(t)?t.join(" "):t}const Cme=Symbol.for("motionComponentSymbol");function Hf(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Eme(t,e,n){return T.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Hf(n)&&(n.current=r))},[e])}const dR=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Nme="framerAppearId",FH="data-"+dR(Nme),BH=T.createContext({}),{schedule:pR,cancel:v9e}=_H(queueMicrotask,!1);function Sme(t,e,n,r,s){var m,g;const{visualElement:i}=T.useContext(LT),a=T.useContext(LH),o=T.useContext(jT),l=T.useContext(DT).reducedMotion,u=T.useRef(null);r=r||a.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const d=u.current,p=T.useContext(BH);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&Rme(u.current,n,s,p);const f=T.useRef(!1);T.useInsertionEffect(()=>{d&&f.current&&d.update(n,o)});const h=n[FH],y=T.useRef(!!h&&!((m=window.MotionHandoffIsComplete)!=null&&m.call(window,h))&&((g=window.MotionHasOptimisedAnimation)==null?void 0:g.call(window,h)));return PT(()=>{d&&(f.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),pR.render(d.render),y.current&&d.animationState&&d.animationState.animateChanges())}),T.useEffect(()=>{d&&(!y.current&&d.animationState&&d.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,h)}),y.current=!1))}),d}function Rme(t,e,n,r){const{layoutId:s,layout:i,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:u,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:UH(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||o&&Hf(o),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:u})}function UH(t){if(t)return t.options.allowProjection!==!1?t.projection:UH(t.parent)}let Mme=()=>{},qx=()=>{};function Pme({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&bme(t);function i(o,l){let u;const d={...T.useContext(DT),...o,layoutId:jme(o)},{isStatic:p}=d,f=kme(o),h=r(o,p);if(!p&&lR){Dme();const y=_me(d);u=y.MeasureLayout,f.visualElement=Sme(s,h,d,e,y.ProjectionNode)}return c.jsxs(LT.Provider,{value:f,children:[u&&f.visualElement?c.jsx(u,{visualElement:f.visualElement,...d}):null,n(s,o,Eme(h,f.visualElement,l),h,p,f.visualElement)]})}i.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const a=T.forwardRef(i);return a[Cme]=s,a}function jme({layoutId:t}){const e=T.useContext(oR).id;return e&&t!==void 0?e+"-"+t:t}function Dme(t,e){T.useContext(LH).strict}function _me(t){const{drag:e,layout:n}=Yh;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const zH=t=>e=>typeof e=="string"&&e.startsWith(t),fR=zH("--"),Lme=zH("var(--"),hR=t=>Lme(t)?Ome.test(t.split("/*")[0].trim()):!1,Ome=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Qg={};function $me(t){for(const e in t)Qg[e]=t[e],fR(e)&&(Qg[e].isCSSVariable=!0)}const Cm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Em=new Set(Cm);function VH(t,{layout:e,layoutId:n}){return Em.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Qg[t]||t==="opacity")}const HH=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ll=(t,e,n)=>n>e?e:n<t?t:n,Nm={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},e0={...Nm,transform:t=>ll(0,1,t)},Ib={...Nm,default:1},vD={...Nm,transform:Math.round},vv=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Zc=vv("deg"),Xo=vv("%"),kt=vv("px"),Fme=vv("vh"),Bme=vv("vw"),bD={...Xo,parse:t=>Xo.parse(t)/100,transform:t=>Xo.transform(t*100)},Ume={rotate:Zc,rotateX:Zc,rotateY:Zc,rotateZ:Zc,scale:Ib,scaleX:Ib,scaleY:Ib,scaleZ:Ib,skew:Zc,skewX:Zc,skewY:Zc,distance:kt,translateX:kt,translateY:kt,translateZ:kt,x:kt,y:kt,z:kt,perspective:kt,transformPerspective:kt,opacity:e0,originX:bD,originY:bD,originZ:kt},mR={borderWidth:kt,borderTopWidth:kt,borderRightWidth:kt,borderBottomWidth:kt,borderLeftWidth:kt,borderRadius:kt,radius:kt,borderTopLeftRadius:kt,borderTopRightRadius:kt,borderBottomRightRadius:kt,borderBottomLeftRadius:kt,width:kt,maxWidth:kt,height:kt,maxHeight:kt,top:kt,right:kt,bottom:kt,left:kt,padding:kt,paddingTop:kt,paddingRight:kt,paddingBottom:kt,paddingLeft:kt,margin:kt,marginTop:kt,marginRight:kt,marginBottom:kt,marginLeft:kt,backgroundPositionX:kt,backgroundPositionY:kt,...Ume,zIndex:vD,fillOpacity:e0,strokeOpacity:e0,numOctaves:vD},zme={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Vme=Cm.length;function Hme(t,e,n){let r="",s=!0;for(let i=0;i<Vme;i++){const a=Cm[i],o=t[a];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(a.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||n){const u=HH(o,mR[a]);if(!l){s=!1;const d=zme[a]||a;r+=`${d}(${u}) `}n&&(e[a]=u)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function yR(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let a=!1,o=!1;for(const l in e){const u=e[l];if(Em.has(l)){a=!0;continue}else if(fR(l)){s[l]=u;continue}else{const d=HH(u,mR[l]);l.startsWith("origin")?(o=!0,i[l]=d):r[l]=d}}if(e.transform||(a||n?r.transform=Hme(e,t.transform,n):r.transform&&(r.transform="none")),o){const{originX:l="50%",originY:u="50%",originZ:d=0}=i;r.transformOrigin=`${l} ${u} ${d}`}}const gR=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Ur=t=>!!(t&&t.getVelocity);function WH(t,e,n){for(const r in e)!Ur(e[r])&&!VH(r,n)&&(t[r]=e[r])}function Wme({transformTemplate:t},e){return T.useMemo(()=>{const n=gR();return yR(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Gme(t,e){const n=t.style||{},r={};return WH(r,n,t),Object.assign(r,Wme(t,e)),r}function Kme(t,e){const n={},r=Gme(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const Yme={offset:"stroke-dashoffset",array:"stroke-dasharray"},qme={offset:"strokeDashoffset",array:"strokeDasharray"};function Xme(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?Yme:qme;t[i.offset]=kt.transform(-r);const a=kt.transform(e),o=kt.transform(n);t[i.array]=`${a} ${o}`}function GH(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:a=0,...o},l,u,d){if(yR(t,o,u),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:f}=t;p.transform&&(f.transform=p.transform,delete p.transform),(f.transform||p.transformOrigin)&&(f.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete p.transformBox),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),s!==void 0&&Xme(p,s,i,a,!1)}const KH=()=>({...gR(),attrs:{}}),YH=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Zme(t,e,n,r){const s=T.useMemo(()=>{const i=KH();return GH(i,e,YH(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};WH(i,t.style,t),s.style={...i,...s.style}}return s}const Jme=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function vR(t){return typeof t!="string"||t.includes("-")?!1:!!(Jme.indexOf(t)>-1||/[A-Z]/u.test(t))}function Qme(t=!1){return(n,r,s,{latestValues:i},a)=>{const l=(vR(n)?Zme:Kme)(r,i,a,n),u=Tme(r,typeof n=="string",t),d=n!==T.Fragment?{...u,...l,ref:s}:{},{children:p}=r,f=T.useMemo(()=>Ur(p)?p.get():p,[p]);return T.createElement(n,{...d,children:f})}}function wD(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function bR(t,e,n,r){if(typeof e=="function"){const[s,i]=wD(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=wD(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function Nw(t){return Ur(t)?t.get():t}function eye({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:tye(n,r,s,t),renderState:e()}}const qH=t=>(e,n)=>{const r=T.useContext(LT),s=T.useContext(jT),i=()=>eye(t,e,r,s);return n?i():gv(i)};function tye(t,e,n,r){const s={},i=r(t,{});for(const f in i)s[f]=Nw(i[f]);let{initial:a,animate:o}=t;const l=$T(t),u=$H(t);e&&u&&!l&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const p=d?o:a;if(p&&typeof p!="boolean"&&!OT(p)){const f=Array.isArray(p)?p:[p];for(let h=0;h<f.length;h++){const y=bR(t,f[h]);if(y){const{transitionEnd:m,transition:g,...v}=y;for(const b in v){let w=v[b];if(Array.isArray(w)){const A=d?w.length-1:0;w=w[A]}w!==null&&(s[b]=w)}for(const b in m)s[b]=m[b]}}}return s}function wR(t,e,n){var i;const{style:r}=t,s={};for(const a in r)(Ur(r[a])||e.style&&Ur(e.style[a])||VH(a,t)||((i=n==null?void 0:n.getValue(a))==null?void 0:i.liveStyle)!==void 0)&&(s[a]=r[a]);return s}const nye={useVisualState:qH({scrapeMotionValuesFromProps:wR,createRenderState:gR})};function XH(t,e,n){const r=wR(t,e,n);for(const s in t)if(Ur(t[s])||Ur(e[s])){const i=Cm.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const rye={useVisualState:qH({scrapeMotionValuesFromProps:XH,createRenderState:KH})};function sye(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const a={...vR(r)?rye:nye,preloadedFeatures:t,useRender:Qme(s),createVisualElement:e,Component:r};return Pme(a)}}function t0(t,e,n){const r=t.getProps();return bR(r,e,n!==void 0?n:r.custom,t)}const k6=t=>Array.isArray(t);let Sw;function iye(){Sw=void 0}const li={now:()=>(Sw===void 0&&li.set(_r.isProcessing||xc.useManualTiming?_r.timestamp:performance.now()),Sw),set:t=>{Sw=t,queueMicrotask(iye)}};function xR(t,e){t.indexOf(e)===-1&&t.push(e)}function TR(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class AR{constructor(){this.subscriptions=[]}add(e){return xR(this.subscriptions,e),()=>TR(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function IR(t,e){return e?t*(1e3/e):0}const xD=30,aye=t=>!isNaN(parseFloat(t));class oye{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{var a,o;const i=li.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();s&&((o=this.events.renderRequest)==null||o.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=li.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=aye(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new AR);const r=this.events[e].add(n);return e==="change"?()=>{r(),fn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=li.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>xD)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,xD);return IR(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Wa(t,e){return new oye(t,e)}function lye(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Wa(n))}function cye(t){return k6(t)?t[t.length-1]||0:t}function uye(t,e){const n=t0(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const a in i){const o=cye(i[a]);lye(t,a,o)}}function dye(t){return!!(Ur(t)&&t.add)}function C6(t,e){const n=t.getValue("willChange");if(dye(n))return n.add(e);if(!n&&xc.WillChange){const r=new xc.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function ZH(t){return t.props[FH]}const pye=t=>t!==null;function fye(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(pye),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const hye={type:"spring",stiffness:500,damping:25,restSpeed:10},mye=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),yye={type:"keyframes",duration:.8},gye={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},vye=(t,{keyframes:e})=>e.length>2?yye:Em.has(t)?t.startsWith("scale")?mye(e[1]):hye:gye;function bye({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:o,from:l,elapsed:u,...d}){return!!Object.keys(d).length}function kR(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const Zo=t=>t*1e3,Jo=t=>t/1e3,rg=t=>Math.round(t*1e5)/1e5,CR=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function wye(t){return t==null}const xye=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ER=(t,e)=>n=>!!(typeof n=="string"&&xye.test(n)&&n.startsWith(t)||e&&!wye(n)&&Object.prototype.hasOwnProperty.call(n,e)),JH=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,a,o]=r.match(CR);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},Tye=t=>ll(0,255,t),lI={...Nm,transform:t=>Math.round(Tye(t))},Xd={test:ER("rgb","red"),parse:JH("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+lI.transform(t)+", "+lI.transform(e)+", "+lI.transform(n)+", "+rg(e0.transform(r))+")"};function Aye(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const E6={test:ER("#"),parse:Aye,transform:Xd.transform},Wf={test:ER("hsl","hue"),parse:JH("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Xo.transform(rg(e))+", "+Xo.transform(rg(n))+", "+rg(e0.transform(r))+")"},ps={test:t=>Xd.test(t)||E6.test(t)||Wf.test(t),parse:t=>Xd.test(t)?Xd.parse(t):Wf.test(t)?Wf.parse(t):E6.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Xd.transform(t):Wf.transform(t)},Iye=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function kye(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(CR))==null?void 0:e.length)||0)+(((n=t.match(Iye))==null?void 0:n.length)||0)>0}const QH="number",eW="color",Cye="var",Eye="var(",TD="${}",Nye=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function n0(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const o=e.replace(Nye,l=>(ps.test(l)?(r.color.push(i),s.push(eW),n.push(ps.parse(l))):l.startsWith(Eye)?(r.var.push(i),s.push(Cye),n.push(l)):(r.number.push(i),s.push(QH),n.push(parseFloat(l))),++i,TD)).split(TD);return{values:n,split:o,indexes:r,types:s}}function tW(t){return n0(t).values}function nW(t){const{split:e,types:n}=n0(t),r=e.length;return s=>{let i="";for(let a=0;a<r;a++)if(i+=e[a],s[a]!==void 0){const o=n[a];o===QH?i+=rg(s[a]):o===eW?i+=ps.transform(s[a]):i+=s[a]}return i}}const Sye=t=>typeof t=="number"?0:t;function Rye(t){const e=tW(t);return nW(t)(e.map(Sye))}const rd={test:kye,parse:tW,createTransformer:nW,getAnimatableNone:Rye};function cI(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Mye({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,a=0;if(!e)s=i=a=n;else{const o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;s=cI(l,o,t+1/3),i=cI(l,o,t),a=cI(l,o,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}function Xx(t,e){return n=>n>0?e:t}const Vn=(t,e,n)=>t+(e-t)*n,uI=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},Pye=[E6,Xd,Wf],jye=t=>Pye.find(e=>e.test(t));function AD(t){const e=jye(t);if(!e)return!1;let n=e.parse(t);return e===Wf&&(n=Mye(n)),n}const ID=(t,e)=>{const n=AD(t),r=AD(e);if(!n||!r)return Xx(t,e);const s={...n};return i=>(s.red=uI(n.red,r.red,i),s.green=uI(n.green,r.green,i),s.blue=uI(n.blue,r.blue,i),s.alpha=Vn(n.alpha,r.alpha,i),Xd.transform(s))},N6=new Set(["none","hidden"]);function Dye(t,e){return N6.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}const _ye=(t,e)=>n=>e(t(n)),bv=(...t)=>t.reduce(_ye);function Lye(t,e){return n=>Vn(t,e,n)}function NR(t){return typeof t=="number"?Lye:typeof t=="string"?hR(t)?Xx:ps.test(t)?ID:Fye:Array.isArray(t)?rW:typeof t=="object"?ps.test(t)?ID:Oye:Xx}function rW(t,e){const n=[...t],r=n.length,s=t.map((i,a)=>NR(i)(i,e[a]));return i=>{for(let a=0;a<r;a++)n[a]=s[a](i);return n}}function Oye(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=NR(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function $ye(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],a=t.indexes[i][r[i]],o=t.values[a]??0;n[s]=o,r[i]++}return n}const Fye=(t,e)=>{const n=rd.createTransformer(e),r=n0(t),s=n0(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?N6.has(t)&&!s.values.length||N6.has(e)&&!r.values.length?Dye(t,e):bv(rW($ye(r,s),s.values),n):Xx(t,e)};function sW(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Vn(t,e,n):NR(t)(t,e)}const Bye=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>fn.update(e,n),stop:()=>ao(e),now:()=>_r.isProcessing?_r.timestamp:li.now()}},iW=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=t(i/(s-1))+", ";return`linear(${r.substring(0,r.length-2)})`},Zx=2e4;function SR(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Zx;)e+=n,r=t.next(e);return e>=Zx?1/0:e}function Uye(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(SR(r),Zx);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:Jo(s)}}const zye=5;function aW(t,e,n){const r=Math.max(e-zye,0);return IR(n-t(r),e-r)}const Zn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},dI=.001;function Vye({duration:t=Zn.duration,bounce:e=Zn.bounce,velocity:n=Zn.velocity,mass:r=Zn.mass}){let s,i,a=1-e;a=ll(Zn.minDamping,Zn.maxDamping,a),t=ll(Zn.minDuration,Zn.maxDuration,Jo(t)),a<1?(s=u=>{const d=u*a,p=d*t,f=d-n,h=S6(u,a),y=Math.exp(-p);return dI-f/h*y},i=u=>{const p=u*a*t,f=p*n+n,h=Math.pow(a,2)*Math.pow(u,2)*t,y=Math.exp(-p),m=S6(Math.pow(u,2),a);return(-s(u)+dI>0?-1:1)*((f-h)*y)/m}):(s=u=>{const d=Math.exp(-u*t),p=(u-n)*t+1;return-dI+d*p},i=u=>{const d=Math.exp(-u*t),p=(n-u)*(t*t);return d*p});const o=5/t,l=Wye(s,i,o);if(t=Zo(t),isNaN(l))return{stiffness:Zn.stiffness,damping:Zn.damping,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:t}}}const Hye=12;function Wye(t,e,n){let r=n;for(let s=1;s<Hye;s++)r=r-t(r)/e(r);return r}function S6(t,e){return t*Math.sqrt(1-e*e)}const Gye=["duration","bounce"],Kye=["stiffness","damping","mass"];function kD(t,e){return e.some(n=>t[n]!==void 0)}function Yye(t){let e={velocity:Zn.velocity,stiffness:Zn.stiffness,damping:Zn.damping,mass:Zn.mass,isResolvedFromDuration:!1,...t};if(!kD(t,Kye)&&kD(t,Gye))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*ll(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Zn.mass,stiffness:s,damping:i}}else{const n=Vye(t);e={...e,...n,mass:Zn.mass},e.isResolvedFromDuration=!0}return e}function Jx(t=Zn.visualDuration,e=Zn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:i},{stiffness:l,damping:u,mass:d,duration:p,velocity:f,isResolvedFromDuration:h}=Yye({...n,velocity:-Jo(n.velocity||0)}),y=f||0,m=u/(2*Math.sqrt(l*d)),g=a-i,v=Jo(Math.sqrt(l/d)),b=Math.abs(g)<5;r||(r=b?Zn.restSpeed.granular:Zn.restSpeed.default),s||(s=b?Zn.restDelta.granular:Zn.restDelta.default);let w;if(m<1){const I=S6(v,m);w=C=>{const E=Math.exp(-m*v*C);return a-E*((y+m*v*g)/I*Math.sin(I*C)+g*Math.cos(I*C))}}else if(m===1)w=I=>a-Math.exp(-v*I)*(g+(y+v*g)*I);else{const I=v*Math.sqrt(m*m-1);w=C=>{const E=Math.exp(-m*v*C),N=Math.min(I*C,300);return a-E*((y+m*v*g)*Math.sinh(N)+I*g*Math.cosh(N))/I}}const A={calculatedDuration:h&&p||null,next:I=>{const C=w(I);if(h)o.done=I>=p;else{let E=I===0?y:0;m<1&&(E=I===0?Zo(y):aW(w,I,C));const N=Math.abs(E)<=r,_=Math.abs(a-C)<=s;o.done=N&&_}return o.value=o.done?a:C,o},toString:()=>{const I=Math.min(SR(A),Zx),C=iW(E=>A.next(I*E).value,I,30);return I+"ms "+C},toTransition:()=>{}};return A}Jx.applyToOptions=t=>{const e=Uye(t,100,Jx);return t.ease=e.ease,t.duration=Zo(e.duration),t.type="keyframes",t};function R6({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:o,max:l,restDelta:u=.5,restSpeed:d}){const p=t[0],f={done:!1,value:p},h=N=>o!==void 0&&N<o||l!==void 0&&N>l,y=N=>o===void 0?l:l===void 0||Math.abs(o-N)<Math.abs(l-N)?o:l;let m=n*e;const g=p+m,v=a===void 0?g:a(g);v!==g&&(m=v-p);const b=N=>-m*Math.exp(-N/r),w=N=>v+b(N),A=N=>{const _=b(N),U=w(N);f.done=Math.abs(_)<=u,f.value=f.done?v:U};let I,C;const E=N=>{h(f.value)&&(I=N,C=Jx({keyframes:[f.value,y(f.value)],velocity:aW(w,N,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return E(0),{calculatedDuration:null,next:N=>{let _=!1;return!C&&I===void 0&&(_=!0,A(N),E(N)),I!==void 0&&N>=I?C.next(N-I):(!_&&A(N),f)}}}const qh=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};function qye(t,e,n){const r=[],s=n||xc.mix||sW,i=t.length-1;for(let a=0;a<i;a++){let o=s(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||fi:e;o=bv(l,o)}r.push(o)}return r}function oW(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(qx(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=qye(e,r,s),l=o.length,u=d=>{if(a&&d<t[0])return e[0];let p=0;if(l>1)for(;p<t.length-2&&!(d<t[p+1]);p++);const f=qh(t[p],t[p+1],d);return o[p](f)};return n?d=>u(ll(t[0],t[i-1],d)):u}function Xye(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=qh(0,e,r);t.push(Vn(n,1,s))}}function lW(t){const e=[0];return Xye(e,t.length-1),e}function Zye(t,e){return t.map(n=>n*e)}const cW=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Jye=1e-7,Qye=12;function ege(t,e,n,r,s){let i,a,o=0;do a=e+(n-e)/2,i=cW(a,r,s)-t,i>0?n=a:e=a;while(Math.abs(i)>Jye&&++o<Qye);return a}function wv(t,e,n,r){if(t===e&&n===r)return fi;const s=i=>ege(i,0,1,t,n);return i=>i===0||i===1?i:cW(s(i),e,r)}const tge=wv(.42,0,1,1),nge=wv(0,0,.58,1),uW=wv(.42,0,.58,1),rge=t=>Array.isArray(t)&&typeof t[0]!="number",dW=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,pW=t=>e=>1-t(1-e),fW=wv(.33,1.53,.69,.99),RR=pW(fW),hW=dW(RR),mW=t=>(t*=2)<1?.5*RR(t):.5*(2-Math.pow(2,-10*(t-1))),MR=t=>1-Math.sin(Math.acos(t)),yW=pW(MR),gW=dW(MR),vW=t=>Array.isArray(t)&&typeof t[0]=="number",CD={linear:fi,easeIn:tge,easeInOut:uW,easeOut:nge,circIn:MR,circInOut:gW,circOut:yW,backIn:RR,backInOut:hW,backOut:fW,anticipate:mW},sge=t=>typeof t=="string",ED=t=>{if(vW(t)){qx(t.length===4);const[e,n,r,s]=t;return wv(e,n,r,s)}else if(sge(t))return qx(CD[t]!==void 0),CD[t];return t};function ige(t,e){return t.map(()=>e||uW).splice(0,t.length-1)}function sg({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=rge(r)?r.map(ED):ED(r),i={done:!1,value:e[0]},a=Zye(n&&n.length===e.length?n:lW(e),t),o=oW(a,e,{ease:Array.isArray(s)?s:ige(e,s)});return{calculatedDuration:t,next:l=>(i.value=o(l),i.done=l>=t,i)}}const age=t=>t!==null;function PR(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(age),o=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const oge={decay:R6,inertia:R6,tween:sg,keyframes:sg,spring:Jx};function bW(t){typeof t.type=="string"&&(t.type=oge[t.type])}class jR{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const lge=t=>t/100;class DR extends jR{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(n=!0)=>{var r,s;if(n){const{motionValue:i}=this.options;i&&i.updatedAt!==li.now()&&this.tick(li.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;bW(e);const{type:n=sg,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=e;let{keyframes:o}=e;const l=n||sg;l!==sg&&typeof o[0]!="number"&&(this.mixKeyframes=bv(lge,sW(o[0],o[1])),o=[0,100]);const u=l({...e,keyframes:o});i==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...o].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=SR(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:d,repeat:p,repeatType:f,repeatDelay:h,type:y,onUpdate:m,finalKeyframe:g}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const v=this.currentTime-u*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?v<0:v>s;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let w=this.currentTime,A=r;if(p){const N=Math.min(this.currentTime,s)/o;let _=Math.floor(N),U=N%1;!U&&N>=1&&(U=1),U===1&&_--,_=Math.min(_,p+1),!!(_%2)&&(f==="reverse"?(U=1-U,h&&(U-=h/o)):f==="mirror"&&(A=a)),w=ll(0,1,U)*o}const I=b?{done:!1,value:d[0]}:A.next(w);i&&(I.value=i(I.value));let{done:C}=I;!b&&l!==null&&(C=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return E&&y!==R6&&(I.value=PR(d,this.options,g,this.speed)),m&&m(I.value),E&&this.finish(),I}then(e,n){return this.finished.then(e,n)}get duration(){return Jo(this.calculatedDuration)}get time(){return Jo(this.currentTime)}set time(e){var n;e=Zo(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(li.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Jo(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:e=Bye,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(li.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function cge(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Zd=t=>t*180/Math.PI,M6=t=>{const e=Zd(Math.atan2(t[1],t[0]));return P6(e)},uge={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:M6,rotateZ:M6,skewX:t=>Zd(Math.atan(t[1])),skewY:t=>Zd(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},P6=t=>(t=t%360,t<0&&(t+=360),t),ND=M6,SD=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),RD=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),dge={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:SD,scaleY:RD,scale:t=>(SD(t)+RD(t))/2,rotateX:t=>P6(Zd(Math.atan2(t[6],t[5]))),rotateY:t=>P6(Zd(Math.atan2(-t[2],t[0]))),rotateZ:ND,rotate:ND,skewX:t=>Zd(Math.atan(t[4])),skewY:t=>Zd(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function j6(t){return t.includes("scale")?1:0}function D6(t,e){if(!t||t==="none")return j6(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=dge,s=n;else{const o=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=uge,s=o}if(!s)return j6(e);const i=r[e],a=s[1].split(",").map(fge);return typeof i=="function"?i(a):a[i]}const pge=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return D6(n,e)};function fge(t){return parseFloat(t.trim())}const MD=t=>t===Nm||t===kt,hge=new Set(["x","y","z"]),mge=Cm.filter(t=>!hge.has(t));function yge(t){const e=[];return mge.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const wp={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>D6(e,"x"),y:(t,{transform:e})=>D6(e,"y")};wp.translateX=wp.x;wp.translateY=wp.y;const xp=new Set;let _6=!1,L6=!1,O6=!1;function wW(){if(L6){const t=Array.from(xp).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=yge(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,a])=>{var o;(o=r.getValue(i))==null||o.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}L6=!1,_6=!1,xp.forEach(t=>t.complete(O6)),xp.clear()}function xW(){xp.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(L6=!0)})}function gge(){O6=!0,xW(),wW(),O6=!1}class _R{constructor(e,n,r,s,i,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(xp.add(this),_6||(_6=!0,fn.read(xW),fn.resolveKeyframes(wW))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),a=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const o=r.readValue(n,a);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=a),s&&i===void 0&&s.set(e[0])}cge(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),xp.delete(this)}cancel(){this.state==="scheduled"&&(xp.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const vge=t=>t.startsWith("--");function bge(t,e,n){vge(e)?t.style.setProperty(e,n):t.style[e]=n}function LR(t){let e;return()=>(e===void 0&&(e=t()),e)}const TW=LR(()=>window.ScrollTimeline!==void 0),wge={};function xge(t,e){const n=LR(t);return()=>wge[e]??n()}const AW=xge(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Dy=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,PD={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Dy([0,.65,.55,1]),circOut:Dy([.55,0,1,.45]),backIn:Dy([.31,.01,.66,-.59]),backOut:Dy([.33,1.53,.69,.99])};function IW(t,e){if(t)return typeof t=="function"?AW()?iW(t,e):"ease-out":vW(t)?Dy(t):Array.isArray(t)?t.map(n=>IW(n,e)||PD.easeOut):PD[t]}function Tge(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:o="easeOut",times:l}={},u=void 0){const d={[e]:n};l&&(d.offset=l);const p=IW(o,s);Array.isArray(p)&&(d.easing=p);const f={delay:r,duration:s,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),t.animate(d,f)}function kW(t){return typeof t=="function"&&"applyToOptions"in t}function Age({type:t,...e}){return kW(t)&&AW()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Ige extends jR{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:o,onComplete:l}=e;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=e,qx(typeof e.type!="string");const u=Age(e);this.animation=Tge(n,r,s,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=PR(s,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(d):bge(n,r,d),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Jo(Number(e))}get time(){return Jo(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Zo(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&TW()?(this.animation.timeline=e,fi):n(this)}}const CW={anticipate:mW,backInOut:hW,circInOut:gW};function kge(t){return t in CW}function Cge(t){typeof t.ease=="string"&&kge(t.ease)&&(t.ease=CW[t.ease])}const jD=10;class Ege extends Ige{constructor(e){Cge(e),bW(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const o=new DR({...a,autoplay:!1}),l=Zo(this.finishedTime??this.time);n.setWithVelocity(o.sample(l-jD).value,o.sample(l).value,jD),o.stop()}}const DD=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(rd.test(t)||t==="0")&&!t.startsWith("url("));function Nge(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Sge(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],a=DD(s,e),o=DD(i,e);return!a||!o?!1:Nge(t)||(n==="spring"||kW(n))&&r}const Rge=new Set(["opacity","clipPath","filter","transform"]),Mge=LR(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Pge(t){var u;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:a}=t;if(!_T((u=e==null?void 0:e.owner)==null?void 0:u.current))return!1;const{onUpdate:o,transformTemplate:l}=e.owner.getProps();return Mge()&&n&&Rge.has(n)&&(n!=="transform"||!l)&&!o&&!r&&s!=="mirror"&&i!==0&&a!=="inertia"}const jge=40;class Dge extends jR{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",keyframes:o,name:l,motionValue:u,element:d,...p}){var y;super(),this.stop=()=>{var m,g;this._animation&&(this._animation.stop(),(m=this.stopTimeline)==null||m.call(this)),(g=this.keyframeResolver)==null||g.cancel()},this.createdAt=li.now();const f={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:a,name:l,motionValue:u,element:d,...p},h=(d==null?void 0:d.KeyframeResolver)||_R;this.keyframeResolver=new h(o,(m,g,v)=>this.onKeyframesResolved(m,g,f,!v),l,u,d),(y=this.keyframeResolver)==null||y.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:a,velocity:o,delay:l,isHandoff:u,onUpdate:d}=r;this.resolvedAt=li.now(),Sge(e,i,a,o)||((xc.instantAnimations||!l)&&(d==null||d(PR(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const f={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>jge?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},h=!u&&Pge(f)?new Ege({...f,element:f.motionValue.owner.current}):new DR(f);h.finished.then(()=>this.notifyFinished()).catch(fi),this.pendingTimeline&&(this.stopTimeline=h.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=h}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),gge()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const OR=(t,e,n,r={},s,i)=>a=>{const o=kR(r,t)||{},l=o.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Zo(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-u,onUpdate:f=>{e.set(f),o.onUpdate&&o.onUpdate(f)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:i?void 0:s};bye(o)||Object.assign(d,vye(t,d)),d.duration&&(d.duration=Zo(d.duration)),d.repeatDelay&&(d.repeatDelay=Zo(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let p=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(p=!0)),(xc.instantAnimations||xc.skipAnimations)&&(p=!0,d.duration=0,d.delay=0),d.allowFlatten=!o.type&&!o.ease,p&&!i&&e.get()!==void 0){const f=fye(d.keyframes,o);if(f!==void 0){fn.update(()=>{d.onUpdate(f),d.onComplete()});return}}return o.isSync?new DR(d):new Dge(d)},EW=new Set(["width","height","top","left","right","bottom",...Cm]);function _ge({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function NW(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:a,...o}=e;r&&(i=r);const l=[],u=s&&t.animationState&&t.animationState.getState()[s];for(const d in o){const p=t.getValue(d,t.latestValues[d]??null),f=o[d];if(f===void 0||u&&_ge(u,d))continue;const h={delay:n,...kR(i||{},d)},y=p.get();if(y!==void 0&&!p.isAnimating&&!Array.isArray(f)&&f===y&&!h.velocity)continue;let m=!1;if(window.MotionHandoffAnimation){const v=ZH(t);if(v){const b=window.MotionHandoffAnimation(v,d,fn);b!==null&&(h.startTime=b,m=!0)}}C6(t,d),p.start(OR(d,p,f,t.shouldReduceMotion&&EW.has(d)?{type:!1}:h,t,m));const g=p.animation;g&&l.push(g)}return a&&Promise.all(l).then(()=>{fn.update(()=>{a&&uye(t,a)})}),l}function $6(t,e,n={}){var l;const r=t0(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(NW(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:p,staggerDirection:f}=s;return Lge(t,e,d+u,p,f,n)}:()=>Promise.resolve(),{when:o}=s;if(o){const[u,d]=o==="beforeChildren"?[i,a]:[a,i];return u().then(()=>d())}else return Promise.all([i(),a(n.delay)])}function Lge(t,e,n=0,r=0,s=1,i){const a=[],o=(t.variantChildren.size-1)*r,l=s===1?(u=0)=>u*r:(u=0)=>o-u*r;return Array.from(t.variantChildren).sort(Oge).forEach((u,d)=>{u.notify("AnimationStart",e),a.push($6(u,e,{...i,delay:n+l(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(a)}function Oge(t,e){return t.sortNodePosition(e)}function $ge(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>$6(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=$6(t,e,n);else{const s=typeof e=="function"?t0(t,e,n.custom):e;r=Promise.all(NW(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function SW(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const Fge=uR.length;function RW(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?RW(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Fge;n++){const r=uR[n],s=t.props[r];(Jg(s)||s===!1)&&(e[r]=s)}return e}const Bge=[...cR].reverse(),Uge=cR.length;function zge(t){return e=>Promise.all(e.map(({animation:n,options:r})=>$ge(t,n,r)))}function Vge(t){let e=zge(t),n=_D(),r=!0;const s=l=>(u,d)=>{var f;const p=t0(t,d,l==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(p){const{transition:h,transitionEnd:y,...m}=p;u={...u,...m,...y}}return u};function i(l){e=l(t)}function a(l){const{props:u}=t,d=RW(t.parent)||{},p=[],f=new Set;let h={},y=1/0;for(let g=0;g<Uge;g++){const v=Bge[g],b=n[v],w=u[v]!==void 0?u[v]:d[v],A=Jg(w),I=v===l?b.isActive:null;I===!1&&(y=g);let C=w===d[v]&&w!==u[v]&&A;if(C&&r&&t.manuallyAnimateOnMount&&(C=!1),b.protectedKeys={...h},!b.isActive&&I===null||!w&&!b.prevProp||OT(w)||typeof w=="boolean")continue;const E=Hge(b.prevProp,w);let N=E||v===l&&b.isActive&&!C&&A||g>y&&A,_=!1;const U=Array.isArray(w)?w:[w];let $=U.reduce(s(v),{});I===!1&&($={});const{prevResolvedValues:B={}}=b,j={...B,...$},x=P=>{N=!0,f.has(P)&&(_=!0,f.delete(P)),b.needsAnimating[P]=!0;const S=t.getValue(P);S&&(S.liveStyle=!1)};for(const P in j){const S=$[P],L=B[P];if(h.hasOwnProperty(P))continue;let V=!1;k6(S)&&k6(L)?V=!SW(S,L):V=S!==L,V?S!=null?x(P):f.add(P):S!==void 0&&f.has(P)?x(P):b.protectedKeys[P]=!0}b.prevProp=w,b.prevResolvedValues=$,b.isActive&&(h={...h,...$}),r&&t.blockInitialAnimation&&(N=!1),N&&(!(C&&E)||_)&&p.push(...U.map(P=>({animation:P,options:{type:v}})))}if(f.size){const g={};if(typeof u.initial!="boolean"){const v=t0(t,Array.isArray(u.initial)?u.initial[0]:u.initial);v&&v.transition&&(g.transition=v.transition)}f.forEach(v=>{const b=t.getBaseTarget(v),w=t.getValue(v);w&&(w.liveStyle=!0),g[v]=b??null}),p.push({animation:g})}let m=!!p.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(m=!1),r=!1,m?e(p):Promise.resolve()}function o(l,u){var p;if(n[l].isActive===u)return Promise.resolve();(p=t.variantChildren)==null||p.forEach(f=>{var h;return(h=f.animationState)==null?void 0:h.setActive(l,u)}),n[l].isActive=u;const d=a(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:a,setActive:o,setAnimateFunction:i,getState:()=>n,reset:()=>{n=_D(),r=!0}}}function Hge(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!SW(e,t):!1}function Ed(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function _D(){return{animate:Ed(!0),whileInView:Ed(),whileHover:Ed(),whileTap:Ed(),whileDrag:Ed(),whileFocus:Ed(),exit:Ed()}}class gd{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Wge extends gd{constructor(e){super(e),e.animationState||(e.animationState=Vge(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();OT(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Gge=0;class Kge extends gd{constructor(){super(...arguments),this.id=Gge++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Yge={animation:{Feature:Wge},exit:{Feature:Kge}};function r0(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const $R=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function xv(t){return{point:{x:t.pageX,y:t.pageY}}}const qge=t=>e=>$R(e)&&t(e,xv(e));function ig(t,e,n,r){return r0(t,e,qge(n),r)}function MW({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Xge({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Zge(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const PW=1e-4,Jge=1-PW,Qge=1+PW,jW=.01,e0e=0-jW,t0e=0+jW;function Fs(t){return t.max-t.min}function n0e(t,e,n){return Math.abs(t-e)<=n}function LD(t,e,n,r=.5){t.origin=r,t.originPoint=Vn(e.min,e.max,t.origin),t.scale=Fs(n)/Fs(e),t.translate=Vn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Jge&&t.scale<=Qge||isNaN(t.scale))&&(t.scale=1),(t.translate>=e0e&&t.translate<=t0e||isNaN(t.translate))&&(t.translate=0)}function ag(t,e,n,r){LD(t.x,e.x,n.x,r?r.originX:void 0),LD(t.y,e.y,n.y,r?r.originY:void 0)}function OD(t,e,n){t.min=n.min+e.min,t.max=t.min+Fs(e)}function r0e(t,e,n){OD(t.x,e.x,n.x),OD(t.y,e.y,n.y)}function $D(t,e,n){t.min=e.min-n.min,t.max=t.min+Fs(e)}function og(t,e,n){$D(t.x,e.x,n.x),$D(t.y,e.y,n.y)}const FD=()=>({translate:0,scale:1,origin:0,originPoint:0}),Gf=()=>({x:FD(),y:FD()}),BD=()=>({min:0,max:0}),rr=()=>({x:BD(),y:BD()});function na(t){return[t("x"),t("y")]}function pI(t){return t===void 0||t===1}function F6({scale:t,scaleX:e,scaleY:n}){return!pI(t)||!pI(e)||!pI(n)}function Dd(t){return F6(t)||DW(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function DW(t){return UD(t.x)||UD(t.y)}function UD(t){return t&&t!=="0%"}function Qx(t,e,n){const r=t-n,s=e*r;return n+s}function zD(t,e,n,r,s){return s!==void 0&&(t=Qx(t,s,r)),Qx(t,n,r)+e}function B6(t,e=0,n=1,r,s){t.min=zD(t.min,e,n,r,s),t.max=zD(t.max,e,n,r,s)}function _W(t,{x:e,y:n}){B6(t.x,e.translate,e.scale,e.originPoint),B6(t.y,n.translate,n.scale,n.originPoint)}const VD=.999999999999,HD=1.0000000000001;function s0e(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,a;for(let o=0;o<s;o++){i=n[o],a=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Yf(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,_W(t,a)),r&&Dd(i.latestValues)&&Yf(t,i.latestValues))}e.x<HD&&e.x>VD&&(e.x=1),e.y<HD&&e.y>VD&&(e.y=1)}function Kf(t,e){t.min=t.min+e,t.max=t.max+e}function WD(t,e,n,r,s=.5){const i=Vn(t.min,t.max,s);B6(t,e,n,i,r)}function Yf(t,e){WD(t.x,e.x,e.scaleX,e.scale,e.originX),WD(t.y,e.y,e.scaleY,e.scale,e.originY)}function LW(t,e){return MW(Zge(t.getBoundingClientRect(),e))}function i0e(t,e,n){const r=LW(t,n),{scroll:s}=e;return s&&(Kf(r.x,s.offset.x),Kf(r.y,s.offset.y)),r}const OW=({current:t})=>t?t.ownerDocument.defaultView:null,GD=(t,e)=>Math.abs(t-e);function a0e(t,e){const n=GD(t.x,e.x),r=GD(t.y,e.y);return Math.sqrt(n**2+r**2)}class $W{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=hI(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,h=a0e(p.offset,{x:0,y:0})>=3;if(!f&&!h)return;const{point:y}=p,{timestamp:m}=_r;this.history.push({...y,timestamp:m});const{onStart:g,onMove:v}=this.handlers;f||(g&&g(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,p)},this.handlePointerMove=(p,f)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=fI(f,this.transformPagePoint),fn.update(this.updatePoint,!0)},this.handlePointerUp=(p,f)=>{this.end();const{onEnd:h,onSessionEnd:y,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=hI(p.type==="pointercancel"?this.lastMoveEventInfo:fI(f,this.transformPagePoint),this.history);this.startEvent&&h&&h(p,g),y&&y(p,g)},!$R(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const a=xv(e),o=fI(a,this.transformPagePoint),{point:l}=o,{timestamp:u}=_r;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,hI(o,this.history)),this.removeListeners=bv(ig(this.contextWindow,"pointermove",this.handlePointerMove),ig(this.contextWindow,"pointerup",this.handlePointerUp),ig(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ao(this.updatePoint)}}function fI(t,e){return e?{point:e(t.point)}:t}function KD(t,e){return{x:t.x-e.x,y:t.y-e.y}}function hI({point:t},e){return{point:t,delta:KD(t,FW(e)),offset:KD(t,o0e(e)),velocity:l0e(e,.1)}}function o0e(t){return t[0]}function FW(t){return t[t.length-1]}function l0e(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=FW(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Zo(e)));)n--;if(!r)return{x:0,y:0};const i=Jo(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function c0e(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Vn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Vn(n,t,r.max):Math.min(t,n)),t}function YD(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function u0e(t,{top:e,left:n,bottom:r,right:s}){return{x:YD(t.x,n,s),y:YD(t.y,e,r)}}function qD(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function d0e(t,e){return{x:qD(t.x,e.x),y:qD(t.y,e.y)}}function p0e(t,e){let n=.5;const r=Fs(t),s=Fs(e);return s>r?n=qh(e.min,e.max-r,t.min):r>s&&(n=qh(t.min,t.max-s,e.min)),ll(0,1,n)}function f0e(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const U6=.35;function h0e(t=U6){return t===!1?t=0:t===!0&&(t=U6),{x:XD(t,"left","right"),y:XD(t,"top","bottom")}}function XD(t,e,n){return{min:ZD(t,e),max:ZD(t,n)}}function ZD(t,e){return typeof t=="number"?t:t[e]||0}const ja={x:!1,y:!1};function BW(){return ja.x||ja.y}function m0e(t){return t==="x"||t==="y"?ja[t]?null:(ja[t]=!0,()=>{ja[t]=!1}):ja.x||ja.y?null:(ja.x=ja.y=!0,()=>{ja.x=ja.y=!1})}const y0e=new WeakMap;class g0e{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=rr(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(xv(d).point)},i=(d,p)=>{const{drag:f,dragPropagation:h,onDragStart:y}=this.getProps();if(f&&!h&&(this.openDragLock&&this.openDragLock(),this.openDragLock=m0e(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),na(g=>{let v=this.getAxisMotionValue(g).get()||0;if(Xo.test(v)){const{projection:b}=this.visualElement;if(b&&b.layout){const w=b.layout.layoutBox[g];w&&(v=Fs(w)*(parseFloat(v)/100))}}this.originPoint[g]=v}),y&&fn.postRender(()=>y(d,p)),C6(this.visualElement,"transform");const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},a=(d,p)=>{const{dragPropagation:f,dragDirectionLock:h,onDirectionLock:y,onDrag:m}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:g}=p;if(h&&this.currentDirection===null){this.currentDirection=v0e(g),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",p.point,g),this.updateAxis("y",p.point,g),this.visualElement.render(),m&&m(d,p)},o=(d,p)=>this.stop(d,p),l=()=>na(d=>{var p;return this.getAnimationState(d)==="paused"&&((p=this.getAxisMotionValue(d).animation)==null?void 0:p.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new $W(e,{onSessionStart:s,onStart:i,onMove:a,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:OW(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&fn.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!kb(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=c0e(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&Hf(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=u0e(r.layoutBox,e):this.constraints=!1,this.elastic=h0e(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&na(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=f0e(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Hf(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=i0e(r,s.root,this.visualElement.getTransformPagePoint());let a=d0e(s.layout.layoutBox,i);if(n){const o=n(Xge(a));this.hasMutatedConstraints=!!o,o&&(a=MW(o))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},u=na(d=>{if(!kb(d,n,this.currentDirection))return;let p=l&&l[d]||{};a&&(p={min:0,max:0});const f=s?200:1e6,h=s?40:1e7,y={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...i,...p};return this.startAxisValueAnimation(d,y)});return Promise.all(u).then(o)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return C6(this.visualElement,e),r.start(OR(e,r,0,n,this.visualElement,!1))}stopAnimation(){na(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){na(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){na(n=>{const{drag:r}=this.getProps();if(!kb(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:o}=s.layout.layoutBox[n];i.set(e[n]-Vn(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Hf(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};na(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();s[a]=p0e({min:l,max:l},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),na(a=>{if(!kb(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:u}=this.constraints[a];o.set(Vn(l,u,s[a]))})}addListeners(){if(!this.visualElement.current)return;y0e.set(this.visualElement,this);const e=this.visualElement.current,n=ig(e,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Hf(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),fn.read(r);const a=r0(window,"resize",()=>this.scalePositionWithinConstraints()),o=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(na(d=>{const p=this.getAxisMotionValue(d);p&&(this.originPoint[d]+=l[d].translate,p.set(p.get()+l[d].translate))}),this.visualElement.render())});return()=>{a(),n(),i(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=U6,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:o}}}function kb(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function v0e(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class b0e extends gd{constructor(e){super(e),this.removeGroupControls=fi,this.removeListeners=fi,this.controls=new g0e(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||fi}unmount(){this.removeGroupControls(),this.removeListeners()}}const JD=t=>(e,n)=>{t&&fn.postRender(()=>t(e,n))};class w0e extends gd{constructor(){super(...arguments),this.removePointerDownListener=fi}onPointerDown(e){this.session=new $W(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:OW(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:JD(e),onStart:JD(n),onMove:r,onEnd:(i,a)=>{delete this.session,s&&fn.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=ig(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Rw={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function QD(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const oy={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(kt.test(t))t=parseFloat(t);else return t;const n=QD(t,e.target.x),r=QD(t,e.target.y);return`${n}% ${r}%`}},x0e={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=rd.parse(t);if(s.length>5)return r;const i=rd.createTransformer(t),a=typeof s[0]!="number"?1:0,o=n.x.scale*e.x,l=n.y.scale*e.y;s[0+a]/=o,s[1+a]/=l;const u=Vn(o,l,.5);return typeof s[2+a]=="number"&&(s[2+a]/=u),typeof s[3+a]=="number"&&(s[3+a]/=u),i(s)}};class T0e extends T.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;$me(A0e),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Rw.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:a}=r;return a&&(a.isPresent=i,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||fn.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),pR.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function UW(t){const[e,n]=jH(),r=T.useContext(oR);return c.jsx(T0e,{...t,layoutGroup:r,switchLayoutGroup:T.useContext(BH),isPresent:e,safeToRemove:n})}const A0e={borderRadius:{...oy,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:oy,borderTopRightRadius:oy,borderBottomLeftRadius:oy,borderBottomRightRadius:oy,boxShadow:x0e};function I0e(t,e,n){const r=Ur(t)?t:Wa(t);return r.start(OR("",r,e,n)),r.animation}const k0e=(t,e)=>t.depth-e.depth;class C0e{constructor(){this.children=[],this.isDirty=!1}add(e){xR(this.children,e),this.isDirty=!0}remove(e){TR(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(k0e),this.isDirty=!1,this.children.forEach(e)}}function E0e(t,e){const n=li.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(ao(r),t(i-e))};return fn.setup(r,!0),()=>ao(r)}const zW=["TopLeft","TopRight","BottomLeft","BottomRight"],N0e=zW.length,e_=t=>typeof t=="string"?parseFloat(t):t,t_=t=>typeof t=="number"||kt.test(t);function S0e(t,e,n,r,s,i){s?(t.opacity=Vn(0,n.opacity??1,R0e(r)),t.opacityExit=Vn(e.opacity??1,0,M0e(r))):i&&(t.opacity=Vn(e.opacity??1,n.opacity??1,r));for(let a=0;a<N0e;a++){const o=`border${zW[a]}Radius`;let l=n_(e,o),u=n_(n,o);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||t_(l)===t_(u)?(t[o]=Math.max(Vn(e_(l),e_(u),r),0),(Xo.test(u)||Xo.test(l))&&(t[o]+="%")):t[o]=u}(e.rotate||n.rotate)&&(t.rotate=Vn(e.rotate||0,n.rotate||0,r))}function n_(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const R0e=VW(0,.5,yW),M0e=VW(.5,.95,fi);function VW(t,e,n){return r=>r<t?0:r>e?1:n(qh(t,e,r))}function r_(t,e){t.min=e.min,t.max=e.max}function Yi(t,e){r_(t.x,e.x),r_(t.y,e.y)}function s_(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function i_(t,e,n,r,s){return t-=e,t=Qx(t,1/n,r),s!==void 0&&(t=Qx(t,1/s,r)),t}function P0e(t,e=0,n=1,r=.5,s,i=t,a=t){if(Xo.test(e)&&(e=parseFloat(e),e=Vn(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=Vn(i.min,i.max,r);t===i&&(o-=e),t.min=i_(t.min,e,n,o,s),t.max=i_(t.max,e,n,o,s)}function a_(t,e,[n,r,s],i,a){P0e(t,e[n],e[r],e[s],e.scale,i,a)}const j0e=["x","scaleX","originX"],D0e=["y","scaleY","originY"];function o_(t,e,n,r){a_(t.x,e,j0e,n?n.x:void 0,r?r.x:void 0),a_(t.y,e,D0e,n?n.y:void 0,r?r.y:void 0)}function l_(t){return t.translate===0&&t.scale===1}function HW(t){return l_(t.x)&&l_(t.y)}function c_(t,e){return t.min===e.min&&t.max===e.max}function _0e(t,e){return c_(t.x,e.x)&&c_(t.y,e.y)}function u_(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function WW(t,e){return u_(t.x,e.x)&&u_(t.y,e.y)}function d_(t){return Fs(t.x)/Fs(t.y)}function p_(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class L0e{constructor(){this.members=[]}add(e){xR(this.members,e),e.scheduleRender()}remove(e){if(TR(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function O0e(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((s||i||a)&&(r=`translate3d(${s}px, ${i}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:p,rotateY:f,skewX:h,skewY:y}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),p&&(r+=`rotateX(${p}deg) `),f&&(r+=`rotateY(${f}deg) `),h&&(r+=`skewX(${h}deg) `),y&&(r+=`skewY(${y}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}function FR(t){return PH(t)&&"ownerSVGElement"in t}function $0e(t){return FR(t)&&t.tagName==="svg"}const mI=["","X","Y","Z"],F0e={visibility:"hidden"},B0e=1e3;let U0e=0;function yI(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function GW(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=ZH(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",fn,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&GW(r)}function KW({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},o=e==null?void 0:e()){this.id=U0e++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(H0e),this.nodes.forEach(q0e),this.nodes.forEach(X0e),this.nodes.forEach(W0e)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new C0e)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new AR),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=FR(a)&&!$0e(a),this.instance=a;const{layoutId:o,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),t){let d;const p=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=E0e(p,250),Rw.hasAnimatedSinceResize&&(Rw.hasAnimatedSinceResize=!1,this.nodes.forEach(h_))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&u&&(o||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeLayoutChanged:f,layout:h})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||tve,{onLayoutAnimationStart:m,onLayoutAnimationComplete:g}=u.getProps(),v=!this.targetLayout||!WW(this.targetLayout,h),b=!p&&f;if(this.options.layoutRoot||this.resumeFrom||b||p&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,b);const w={...kR(y,"layout"),onPlay:m,onComplete:g};(u.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else p||h_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=h})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ao(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Z0e),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&GW(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const p=this.path[d];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(f_);return}this.isUpdating||this.nodes.forEach(K0e),this.isUpdating=!1,this.nodes.forEach(Y0e),this.nodes.forEach(z0e),this.nodes.forEach(V0e),this.clearAllSnapshots();const o=li.now();_r.delta=ll(0,1e3/60,o-_r.timestamp),_r.timestamp=o,_r.isProcessing=!0,oI.update.process(_r),oI.preRender.process(_r),oI.render.process(_r),_r.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,pR.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(G0e),this.sharedNodes.forEach(J0e)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,fn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){fn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Fs(this.snapshot.measuredBox.x)&&!Fs(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=rr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!HW(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&this.instance&&(o||Dd(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),nve(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:a}=this.options;if(!a)return rr();const o=a.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(rve))){const{scroll:d}=this.root;d&&(Kf(o.x,d.offset.x),Kf(o.y,d.offset.y))}return o}removeElementScroll(a){var l;const o=rr();if(Yi(o,a),(l=this.scroll)!=null&&l.wasRoot)return o;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:p,options:f}=d;d!==this.root&&p&&f.layoutScroll&&(p.wasRoot&&Yi(o,a),Kf(o.x,p.offset.x),Kf(o.y,p.offset.y))}return o}applyTransform(a,o=!1){const l=rr();Yi(l,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Yf(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Dd(d.latestValues)&&Yf(l,d.latestValues)}return Dd(this.latestValues)&&Yf(l,this.latestValues),l}removeTransform(a){const o=rr();Yi(o,a);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Dd(u.latestValues))continue;F6(u.latestValues)&&u.updateSnapshot();const d=rr(),p=u.measurePageBox();Yi(d,p),o_(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Dd(this.latestValues)&&o_(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==_r.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var f;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(a||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:p}=this.options;if(!(!this.layout||!(d||p))){if(this.resolvedRelativeTargetAt=_r.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rr(),this.relativeTargetOrigin=rr(),og(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),Yi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=rr(),this.targetWithTransforms=rr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),r0e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Yi(this.target,this.layout.layoutBox),_W(this.target,this.targetDelta)):Yi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rr(),this.relativeTargetOrigin=rr(),og(this.relativeTargetOrigin,this.target,h.target),Yi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||F6(this.parent.latestValues)||DW(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var y;const a=this.getLead(),o=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===_r.timestamp&&(l=!1),l)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Yi(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,f=this.treeScale.y;s0e(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=rr());const{target:h}=a;if(!h){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(s_(this.prevProjectionDelta.x,this.projectionDelta.x),s_(this.prevProjectionDelta.y,this.projectionDelta.y)),ag(this.projectionDelta,this.layoutCorrected,h,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==f||!p_(this.projectionDelta.x,this.prevProjectionDelta.x)||!p_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",h))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Gf(),this.projectionDelta=Gf(),this.projectionDeltaWithTransform=Gf()}setAnimationOrigin(a,o=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},p=Gf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=rr(),h=l?l.source:void 0,y=this.layout?this.layout.source:void 0,m=h!==y,g=this.getStack(),v=!g||g.members.length<=1,b=!!(m&&!v&&this.options.crossfade===!0&&!this.path.some(eve));this.animationProgress=0;let w;this.mixTargetDelta=A=>{const I=A/1e3;m_(p.x,a.x,I),m_(p.y,a.y,I),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(og(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Q0e(this.relativeTarget,this.relativeTargetOrigin,f,I),w&&_0e(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=rr()),Yi(w,this.relativeTarget)),m&&(this.animationValues=d,S0e(d,u,this.latestValues,I,b,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var o,l,u;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(!1),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(!1),this.pendingAnimation&&(ao(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=fn.update(()=>{Rw.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Wa(0)),this.currentAnimation=I0e(this.motionValue,[0,1e3],{...a,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),a.onUpdate&&a.onUpdate(d)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(B0e),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:u,latestValues:d}=a;if(!(!o||!l||!u)){if(this!==a&&this.layout&&u&&YW(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||rr();const p=Fs(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+p;const f=Fs(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+f}Yi(o,l),Yf(o,d),ag(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new L0e),this.sharedNodes.get(a).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const u={};l.z&&yI("z",a,u,this.animationValues);for(let d=0;d<mI.length;d++)yI(`rotate${mI[d]}`,a,u,this.animationValues),yI(`skew${mI[d]}`,a,u,this.animationValues);a.render();for(const d in u)a.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);a.scheduleRender()}getProjectionStyles(a){if(!this.instance||this.isSVG)return;if(!this.isVisible)return F0e;const o={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,o.opacity="",o.pointerEvents=Nw(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none",o;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const h={};return this.options.layoutId&&(h.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,h.pointerEvents=Nw(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Dd(this.latestValues)&&(h.transform=l?l({},""):"none",this.hasProjected=!1),h}const d=u.animationValues||u.latestValues;this.applyTransformsToTarget(),o.transform=O0e(this.projectionDeltaWithTransform,this.treeScale,d),l&&(o.transform=l(d,o.transform));const{x:p,y:f}=this.projectionDelta;o.transformOrigin=`${p.origin*100}% ${f.origin*100}% 0`,u.animationValues?o.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const h in Qg){if(d[h]===void 0)continue;const{correct:y,applyTo:m,isCSSVariable:g}=Qg[h],v=o.transform==="none"?d[h]:y(d[h],u);if(m){const b=m.length;for(let w=0;w<b;w++)o[m[w]]=v}else g?this.options.visualElement.renderState.vars[h]=v:o[h]=v}return this.options.layoutId&&(o.pointerEvents=u===this?Nw(a==null?void 0:a.pointerEvents)||"":"none"),o}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)==null?void 0:o.stop(!1)}),this.root.nodes.forEach(f_),this.root.sharedNodes.clear()}}}function z0e(t){t.updateLayout()}function V0e(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,a=e.source!==t.layout.source;i==="size"?na(p=>{const f=a?e.measuredBox[p]:e.layoutBox[p],h=Fs(f);f.min=r[p].min,f.max=f.min+h}):YW(i,e.layoutBox,r)&&na(p=>{const f=a?e.measuredBox[p]:e.layoutBox[p],h=Fs(r[p]);f.max=f.min+h,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+h)});const o=Gf();ag(o,r,e.layoutBox);const l=Gf();a?ag(l,t.applyTransform(s,!0),e.measuredBox):ag(l,r,e.layoutBox);const u=!HW(o);let d=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:f,layout:h}=p;if(f&&h){const y=rr();og(y,e.layoutBox,f.layoutBox);const m=rr();og(m,r,h.layoutBox),WW(y,m)||(d=!0),p.options.layoutRoot&&(t.relativeTarget=m,t.relativeTargetOrigin=y,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:o,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function H0e(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function W0e(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function G0e(t){t.clearSnapshot()}function f_(t){t.clearMeasurements()}function K0e(t){t.isLayoutDirty=!1}function Y0e(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function h_(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function q0e(t){t.resolveTargetDelta()}function X0e(t){t.calcProjection()}function Z0e(t){t.resetSkewAndRotation()}function J0e(t){t.removeLeadSnapshot()}function m_(t,e,n){t.translate=Vn(e.translate,0,n),t.scale=Vn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function y_(t,e,n,r){t.min=Vn(e.min,n.min,r),t.max=Vn(e.max,n.max,r)}function Q0e(t,e,n,r){y_(t.x,e.x,n.x,r),y_(t.y,e.y,n.y,r)}function eve(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const tve={duration:.45,ease:[.4,0,.1,1]},g_=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),v_=g_("applewebkit/")&&!g_("chrome/")?Math.round:fi;function b_(t){t.min=v_(t.min),t.max=v_(t.max)}function nve(t){b_(t.x),b_(t.y)}function YW(t,e,n){return t==="position"||t==="preserve-aspect"&&!n0e(d_(e),d_(n),.2)}function rve(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const sve=KW({attachResizeListener:(t,e)=>r0(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),gI={current:void 0},qW=KW({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!gI.current){const t=new sve({});t.mount(window),t.setOptions({layoutScroll:!0}),gI.current=t}return gI.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),ive={pan:{Feature:w0e},drag:{Feature:b0e,ProjectionNode:qW,MeasureLayout:UW}};function XW(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const s=document.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function ZW(t,e){const n=XW(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function w_(t){return!(t.pointerType==="touch"||BW())}function ave(t,e,n={}){const[r,s,i]=ZW(t,n),a=o=>{if(!w_(o))return;const{target:l}=o,u=e(l,o);if(typeof u!="function"||!l)return;const d=p=>{w_(p)&&(u(p),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,s)};return r.forEach(o=>{o.addEventListener("pointerenter",a,s)}),i}function x_(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&fn.postRender(()=>i(e,xv(e)))}class ove extends gd{mount(){const{current:e}=this.node;e&&(this.unmount=ave(e,(n,r)=>(x_(this.node,r,"Start"),s=>x_(this.node,s,"End"))))}unmount(){}}class lve extends gd{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=bv(r0(this.node.current,"focus",()=>this.onFocus()),r0(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const JW=(t,e)=>e?t===e?!0:JW(t,e.parentElement):!1,cve=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function uve(t){return cve.has(t.tagName)||t.tabIndex!==-1}const Mw=new WeakSet;function T_(t){return e=>{e.key==="Enter"&&t(e)}}function vI(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const dve=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=T_(()=>{if(Mw.has(n))return;vI(n,"down");const s=T_(()=>{vI(n,"up")}),i=()=>vI(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function A_(t){return $R(t)&&!BW()}function pve(t,e,n={}){const[r,s,i]=ZW(t,n),a=o=>{const l=o.currentTarget;if(!A_(o))return;Mw.add(l);const u=e(l,o),d=(h,y)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",f),Mw.has(l)&&Mw.delete(l),A_(h)&&typeof u=="function"&&u(h,{success:y})},p=h=>{d(h,l===window||l===document||n.useGlobalTarget||JW(l,h.target))},f=h=>{d(h,!1)};window.addEventListener("pointerup",p,s),window.addEventListener("pointercancel",f,s)};return r.forEach(o=>{(n.useGlobalTarget?window:o).addEventListener("pointerdown",a,s),_T(o)&&(o.addEventListener("focus",u=>dve(u,s)),!uve(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),i}function I_(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&fn.postRender(()=>i(e,xv(e)))}class fve extends gd{mount(){const{current:e}=this.node;e&&(this.unmount=pve(e,(n,r)=>(I_(this.node,r,"Start"),(s,{success:i})=>I_(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const z6=new WeakMap,bI=new WeakMap,hve=t=>{const e=z6.get(t.target);e&&e(t)},mve=t=>{t.forEach(hve)};function yve({root:t,...e}){const n=t||document;bI.has(n)||bI.set(n,{});const r=bI.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(mve,{root:t,...e})),r[s]}function gve(t,e,n){const r=yve(e);return z6.set(t,n),r.observe(t),()=>{z6.delete(t),r.unobserve(t)}}const vve={some:0,all:1};class bve extends gd{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:vve[s]},o=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:p}=this.node.getProps(),f=u?d:p;f&&f(l)};return gve(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(wve(e,n))&&this.startObserver()}unmount(){}}function wve({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const xve={inView:{Feature:bve},tap:{Feature:fve},focus:{Feature:lve},hover:{Feature:ove}},Tve={layout:{ProjectionNode:qW,MeasureLayout:UW}},V6={current:null},QW={current:!1};function Ave(){if(QW.current=!0,!!lR)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>V6.current=t.matches;t.addListener(e),e()}else V6.current=!1}const Ive=new WeakMap;function kve(t,e,n){for(const r in e){const s=e[r],i=n[r];if(Ur(s))t.addValue(r,s);else if(Ur(i))t.addValue(r,Wa(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=t.getStaticValue(r);t.addValue(r,Wa(a!==void 0?a:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const eG=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),tG=t=>/^0[^.\s]+$/u.test(t),Cve={test:t=>t==="auto",parse:t=>t},nG=t=>e=>e.test(t),rG=[Nm,kt,Xo,Zc,Bme,Fme,Cve],k_=t=>rG.find(nG(t)),Eve=[...rG,ps,rd],Nve=t=>Eve.find(nG(t)),Sve=new Set(["brightness","contrast","saturate","opacity"]);function Rve(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(CR)||[];if(!r)return t;const s=n.replace(r,"");let i=Sve.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const Mve=/\b([a-z-]*)\(.*?\)/gu,H6={...rd,getAnimatableNone:t=>{const e=t.match(Mve);return e?e.map(Rve).join(" "):t}},Pve={...mR,color:ps,backgroundColor:ps,outlineColor:ps,fill:ps,stroke:ps,borderColor:ps,borderTopColor:ps,borderRightColor:ps,borderBottomColor:ps,borderLeftColor:ps,filter:H6,WebkitFilter:H6},sG=t=>Pve[t];function iG(t,e){let n=sG(t);return n!==H6&&(n=rd),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const C_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class jve{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=_R,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=li.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,fn.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=$T(n),this.isVariantNode=$H(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in p){const h=p[f];l[f]!==void 0&&Ur(h)&&h.set(l[f],!1)}}mount(e){this.current=e,Ive.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),QW.current||Ave(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:V6.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ao(this.notifyUpdate),ao(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Em.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&fn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Yh){const n=Yh[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):rr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<C_.length;r++){const s=C_[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=e[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=kve(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Wa(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(eG(r)||tG(r))?r=parseFloat(r):!Nve(r)&&rd.test(n)&&(r=iG(e,n)),this.setBaseTarget(e,Ur(r)?r.get():r)),Ur(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=bR(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);a&&(r=a[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Ur(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new AR),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}const Dve=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function _ve(t){const e=Dve.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function aG(t,e,n=1){const[r,s]=_ve(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const a=i.trim();return eG(a)?parseFloat(a):a}return hR(s)?aG(s,e,n+1):s}function Lve(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||tG(t):!0}const Ove=new Set(["auto","none","0"]);function $ve(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!Ove.has(i)&&n0(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=iG(n,s)}class Fve extends _R{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),hR(u))){const d=aG(u,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!EW.has(r)||e.length!==2)return;const[s,i]=e,a=k_(s),o=k_(i);if(a!==o)if(MD(a)&&MD(o))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else wp[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||Lve(e[s]))&&r.push(s);r.length&&$ve(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=wp[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var o;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,a=r[i];r[i]=wp[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}class oG extends jve{constructor(){super(...arguments),this.KeyframeResolver=Fve}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ur(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function lG(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}function Bve(t){return window.getComputedStyle(t)}class Uve extends oG{constructor(){super(...arguments),this.type="html",this.renderInstance=lG}readValueFromInstance(e,n){var r;if(Em.has(n))return(r=this.projection)!=null&&r.isProjecting?j6(n):pge(e,n);{const s=Bve(e),i=(fR(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return LW(e,n)}build(e,n,r){yR(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return wR(e,n,r)}}const cG=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function zve(t,e,n,r){lG(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(cG.has(s)?s:dR(s),e.attrs[s])}class Vve extends oG{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=rr}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Em.has(n)){const r=sG(n);return r&&r.default||0}return n=cG.has(n)?n:dR(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return XH(e,n,r)}build(e,n,r){GH(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){zve(e,n,r,s)}mount(e){this.isSVGTag=YH(e.tagName),super.mount(e)}}const Hve=(t,e)=>vR(t)?new Vve(e):new Uve(e,{allowProjection:t!==T.Fragment}),Wve=sye({...Yge,...xve,...ive,...Tve},Hve),Kl=Ame(Wve);function Gve(t,e,n){T.useInsertionEffect(()=>t.on(e,n),[t,e,n])}const Pw=new WeakMap;let Jc;function Kve(t,e){if(e){const{inlineSize:n,blockSize:r}=e[0];return{width:n,height:r}}else return FR(t)&&"getBBox"in t?t.getBBox():{width:t.offsetWidth,height:t.offsetHeight}}function Yve({target:t,contentRect:e,borderBoxSize:n}){var r;(r=Pw.get(t))==null||r.forEach(s=>{s({target:t,contentSize:e,get size(){return Kve(t,n)}})})}function qve(t){t.forEach(Yve)}function Xve(){typeof ResizeObserver>"u"||(Jc=new ResizeObserver(qve))}function Zve(t,e){Jc||Xve();const n=XW(t);return n.forEach(r=>{let s=Pw.get(r);s||(s=new Set,Pw.set(r,s)),s.add(e),Jc==null||Jc.observe(r)}),()=>{n.forEach(r=>{const s=Pw.get(r);s==null||s.delete(e),s!=null&&s.size||Jc==null||Jc.unobserve(r)})}}const jw=new Set;let lg;function Jve(){lg=()=>{const t={width:window.innerWidth,height:window.innerHeight},e={target:window,size:t,contentSize:t};jw.forEach(n=>n(e))},window.addEventListener("resize",lg)}function Qve(t){return jw.add(t),lg||Jve(),()=>{jw.delete(t),!jw.size&&lg&&(lg=void 0)}}function ebe(t,e){return typeof t=="function"?Qve(t):Zve(t,e)}const tbe=50,E_=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),nbe=()=>({time:0,x:E_(),y:E_()}),rbe={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function N_(t,e,n,r){const s=n[e],{length:i,position:a}=rbe[e],o=s.current,l=n.time;s.current=t[`scroll${a}`],s.scrollLength=t[`scroll${i}`]-t[`client${i}`],s.offset.length=0,s.offset[0]=0,s.offset[1]=s.scrollLength,s.progress=qh(0,s.scrollLength,s.current);const u=r-l;s.velocity=u>tbe?0:IR(s.current-o,u)}function sbe(t,e,n){N_(t,"x",e,n),N_(t,"y",e,n),e.time=n}function ibe(t,e){const n={x:0,y:0};let r=t;for(;r&&r!==e;)if(_T(r))n.x+=r.offsetLeft,n.y+=r.offsetTop,r=r.offsetParent;else if(r.tagName==="svg"){const s=r.getBoundingClientRect();r=r.parentElement;const i=r.getBoundingClientRect();n.x+=s.left-i.left,n.y+=s.top-i.top}else if(r instanceof SVGGraphicsElement){const{x:s,y:i}=r.getBBox();n.x+=s,n.y+=i;let a=null,o=r.parentNode;for(;!a;)o.tagName==="svg"&&(a=o),o=r.parentNode;r=a}else break;return n}const W6={start:0,center:.5,end:1};function S_(t,e,n=0){let r=0;if(t in W6&&(t=W6[t]),typeof t=="string"){const s=parseFloat(t);t.endsWith("px")?r=s:t.endsWith("%")?t=s/100:t.endsWith("vw")?r=s/100*document.documentElement.clientWidth:t.endsWith("vh")?r=s/100*document.documentElement.clientHeight:t=s}return typeof t=="number"&&(r=e*t),n+r}const abe=[0,0];function obe(t,e,n,r){let s=Array.isArray(t)?t:abe,i=0,a=0;return typeof t=="number"?s=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?s=t.split(" "):s=[t,W6[t]?t:"0"]),i=S_(s[0],n,r),a=S_(s[1],e),i-a}const lbe={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},cbe={x:0,y:0};function ube(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function dbe(t,e,n){const{offset:r=lbe.All}=n,{target:s=t,axis:i="y"}=n,a=i==="y"?"height":"width",o=s!==t?ibe(s,t):cbe,l=s===t?{width:t.scrollWidth,height:t.scrollHeight}:ube(s),u={width:t.clientWidth,height:t.clientHeight};e[i].offset.length=0;let d=!e[i].interpolate;const p=r.length;for(let f=0;f<p;f++){const h=obe(r[f],u[a],l[a],o[i]);!d&&h!==e[i].interpolatorOffsets[f]&&(d=!0),e[i].offset[f]=h}d&&(e[i].interpolate=oW(e[i].offset,lW(r),{clamp:!1}),e[i].interpolatorOffsets=[...e[i].offset]),e[i].progress=ll(0,1,e[i].interpolate(e[i].current))}function pbe(t,e=t,n){if(n.x.targetOffset=0,n.y.targetOffset=0,e!==t){let r=e;for(;r&&r!==t;)n.x.targetOffset+=r.offsetLeft,n.y.targetOffset+=r.offsetTop,r=r.offsetParent}n.x.targetLength=e===t?e.scrollWidth:e.clientWidth,n.y.targetLength=e===t?e.scrollHeight:e.clientHeight,n.x.containerLength=t.clientWidth,n.y.containerLength=t.clientHeight}function fbe(t,e,n,r={}){return{measure:()=>pbe(t,r.target,n),update:s=>{sbe(t,n,s),(r.offset||r.target)&&dbe(t,n,r)},notify:()=>e(n)}}const ly=new WeakMap,R_=new WeakMap,wI=new WeakMap,M_=t=>t===document.scrollingElement?window:t;function uG(t,{container:e=document.scrollingElement,...n}={}){if(!e)return fi;let r=wI.get(e);r||(r=new Set,wI.set(e,r));const s=nbe(),i=fbe(e,t,s,n);if(r.add(i),!ly.has(e)){const o=()=>{for(const f of r)f.measure()},l=()=>{for(const f of r)f.update(_r.timestamp)},u=()=>{for(const f of r)f.notify()},d=()=>{fn.read(o),fn.read(l),fn.preUpdate(u)};ly.set(e,d);const p=M_(e);window.addEventListener("resize",d,{passive:!0}),e!==document.documentElement&&R_.set(e,ebe(e,d)),p.addEventListener("scroll",d,{passive:!0}),d()}const a=ly.get(e);return fn.read(a,!1,!0),()=>{var u;ao(a);const o=wI.get(e);if(!o||(o.delete(i),o.size))return;const l=ly.get(e);ly.delete(e),l&&(M_(e).removeEventListener("scroll",l),(u=R_.get(e))==null||u(),window.removeEventListener("resize",l))}}const P_=new Map;function hbe(t){const e={value:0},n=uG(r=>{e.value=r[t.axis].progress*100},t);return{currentTime:e,cancel:n}}function dG({source:t,container:e,...n}){const{axis:r}=n;t&&(e=t);const s=P_.get(e)??new Map;P_.set(e,s);const i=n.target??"self",a=s.get(i)??{},o=r+(n.offset??[]).join(",");return a[o]||(a[o]=!n.target&&TW()?new ScrollTimeline({source:e,axis:r}):hbe({container:e,...n})),a[o]}function pG(t,e){let n;const r=()=>{const{currentTime:s}=e,a=(s===null?0:s.value)/100;n!==a&&t(a),n=a};return fn.preUpdate(r,!0),()=>ao(r)}function mbe(t,e){const n=dG(e);return t.attachTimeline({timeline:e.target?void 0:n,observe:r=>(r.pause(),pG(s=>{r.time=r.duration*s},n))})}function ybe(t){return t.length===2}function gbe(t,e){return ybe(t)?uG(n=>{t(n[e.axis].progress,n)},e):pG(t,dG(e))}function vbe(t,{axis:e="y",container:n=document.scrollingElement,...r}={}){if(!n)return fi;const s={axis:e,container:n,...r};return typeof t=="function"?gbe(t,s):mbe(t,s)}function j_(t,e){Mme(!!(!e||e.current))}const bbe=()=>({scrollX:Wa(0),scrollY:Wa(0),scrollXProgress:Wa(0),scrollYProgress:Wa(0)});function wbe({container:t,target:e,layoutEffect:n=!0,...r}={}){const s=gv(bbe);return(n?PT:T.useEffect)(()=>(j_("target",e),j_("container",t),vbe((a,{x:o,y:l})=>{s.scrollX.set(o.current),s.scrollXProgress.set(o.progress),s.scrollY.set(l.current),s.scrollYProgress.set(l.progress)},{...r,container:(t==null?void 0:t.current)||void 0,target:(e==null?void 0:e.current)||void 0})),[t,e,JSON.stringify(r.offset)]),s}function G6(t){const e=gv(()=>Wa(t)),{isStatic:n}=T.useContext(DT);if(n){const[,r]=T.useState(t);T.useEffect(()=>e.on("change",r),[])}return e}function xbe(t,e){const n=G6(e()),r=()=>n.set(e());return r(),PT(()=>{const s=()=>fn.preRender(r,!1,!0),i=t.map(a=>a.on("change",s));return()=>{i.forEach(a=>a()),ao(r)}}),n}function Tbe(t,...e){const n=t.length;function r(){let s="";for(let i=0;i<n;i++){s+=t[i];const a=e[i];a&&(s+=Ur(a)?a.get():a)}return s}return xbe(e.filter(Ur),r)}const Abe=({children:t,className:e})=>{const n=T.useRef(null),r=T.useRef(null),s=[{initialX:10,translateX:10,duration:5,repeatDelay:1,delay:1},{initialX:300,translateX:300,duration:4,repeatDelay:2,delay:2},{initialX:600,translateX:600,duration:3,repeatDelay:1,delay:1},{initialX:100,translateX:100,duration:5,repeatDelay:2,className:"h-6"},{initialX:400,translateX:400,duration:4,repeatDelay:3,delay:2},{initialX:700,translateX:700,duration:6,repeatDelay:1,className:"h-20"},{initialX:900,translateX:900,duration:3,repeatDelay:1,className:"h-12"},{initialX:1100,translateX:1100,duration:4,repeatDelay:2,delay:1,className:"h-6"},{initialX:1300,translateX:1300,duration:5,repeatDelay:1,delay:2,className:"h-8"},{initialX:200,translateX:200,duration:3,repeatDelay:1,className:"h-10"}];return c.jsxs("div",{ref:r,className:dt("h-screen md:h-[0rem] bg-gradient-to-b from-white to-neutral-100 dark:from-neutral-950 dark:to-neutral-800 relative flex items-center w-full justify-center overflow-hidden",e),children:[s.map(i=>c.jsx(fG,{beamOptions:i,containerRef:n,parentRef:r},i.initialX+"beam-idx")),t,c.jsx("div",{ref:n,className:"absolute bottom-0 bg-neutral-100 w-full inset-x-0 pointer-events-none",style:{boxShadow:"0 0 24px rgba(34, 42, 53, 0.06), 0 1px 1px rgba(0, 0, 0, 0.05), 0 0 0 1px rgba(34, 42, 53, 0.04), 0 0 4px rgba(34, 42, 53, 0.08), 0 16px 68px rgba(47, 48, 55, 0.05), 0 1px 0 rgba(255, 255, 255, 0.1) inset"}})]})},fG=Se.forwardRef(({parentRef:t,containerRef:e,beamOptions:n={}},r)=>{const s=T.useRef(null),[i,a]=T.useState({detected:!1,coordinates:null}),[o,l]=T.useState(0),[u,d]=T.useState(!1);return T.useEffect(()=>{const f=setInterval(()=>{if(s.current&&e.current&&t.current&&!u){const h=s.current.getBoundingClientRect(),y=e.current.getBoundingClientRect(),m=t.current.getBoundingClientRect();if(h.bottom>=y.top){const g=h.left-m.left+h.width/2,v=h.bottom-m.top;a({detected:!0,coordinates:{x:g,y:v}}),d(!0)}}},50);return()=>clearInterval(f)},[u,e]),T.useEffect(()=>{i.detected&&i.coordinates&&(setTimeout(()=>{a({detected:!1,coordinates:null}),d(!1)},2e3),setTimeout(()=>{l(p=>p+1)},2e3))},[i]),c.jsxs(c.Fragment,{children:[c.jsx(Kl.div,{ref:s,animate:"animate",initial:{translateY:n.initialY||"-200px",translateX:n.initialX||"0px",rotate:n.rotate||0},variants:{animate:{translateY:n.translateY||"1800px",translateX:n.translateX||"0px",rotate:n.rotate||0}},transition:{duration:n.duration||8,repeat:1/0,repeatType:"loop",ease:"linear",delay:n.delay||0,repeatDelay:n.repeatDelay||0},className:dt("absolute left-0 top-20 m-auto h-14 w-px rounded-full bg-gradient-to-t from-indigo-500 via-purple-500 to-transparent",n.className)},o),c.jsx(DH,{children:i.detected&&i.coordinates&&c.jsx(Ibe,{className:"",style:{left:`${i.coordinates.x}px`,top:`${i.coordinates.y}px`,transform:"translate(-50%, -50%)"}},`${i.coordinates.x}-${i.coordinates.y}`)})]})});fG.displayName="CollisionMechanism";const Ibe=({...t})=>{const e=Array.from({length:20},(n,r)=>({id:r,initialX:0,initialY:0,directionX:Math.floor(Math.random()*80-40),directionY:Math.floor(Math.random()*-50-10)}));return c.jsxs("div",{...t,className:dt("absolute z-50 h-2 w-2",t.className),children:[c.jsx(Kl.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1.5,ease:"easeOut"},className:"absolute -inset-x-10 top-0 m-auto h-2 w-10 rounded-full bg-gradient-to-r from-transparent via-indigo-500 to-transparent blur-sm"}),e.map(n=>c.jsx(Kl.span,{initial:{x:n.initialX,y:n.initialY,opacity:1},animate:{x:n.directionX,y:n.directionY,opacity:0},transition:{duration:Math.random()*1.5+.5,ease:"easeOut"},className:"absolute h-1 w-1 rounded-full bg-gradient-to-b from-indigo-500 to-purple-500"},n.id))]})};var BR={exports:{}};const kbe={},Cbe=Object.freeze(Object.defineProperty({__proto__:null,default:kbe},Symbol.toStringTag,{value:"Module"})),Tv=Mee(Cbe);BR.exports;(function(t){(function(e,n){function r(j,x){if(!j)throw new Error(x||"Assertion failed")}function s(j,x){j.super_=x;var k=function(){};k.prototype=x.prototype,j.prototype=new k,j.prototype.constructor=j}function i(j,x,k){if(i.isBN(j))return j;this.negative=0,this.words=null,this.length=0,this.red=null,j!==null&&((x==="le"||x==="be")&&(k=x,x=10),this._init(j||0,x||10,k||"be"))}typeof e=="object"?e.exports=i:n.BN=i,i.BN=i,i.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=Tv.Buffer}catch{}i.isBN=function(x){return x instanceof i?!0:x!==null&&typeof x=="object"&&x.constructor.wordSize===i.wordSize&&Array.isArray(x.words)},i.max=function(x,k){return x.cmp(k)>0?x:k},i.min=function(x,k){return x.cmp(k)<0?x:k},i.prototype._init=function(x,k,M){if(typeof x=="number")return this._initNumber(x,k,M);if(typeof x=="object")return this._initArray(x,k,M);k==="hex"&&(k=16),r(k===(k|0)&&k>=2&&k<=36),x=x.toString().replace(/\s+/g,"");var P=0;x[0]==="-"&&(P++,this.negative=1),P<x.length&&(k===16?this._parseHex(x,P,M):(this._parseBase(x,k,P),M==="le"&&this._initArray(this.toArray(),k,M)))},i.prototype._initNumber=function(x,k,M){x<0&&(this.negative=1,x=-x),x<67108864?(this.words=[x&67108863],this.length=1):x<4503599627370496?(this.words=[x&67108863,x/67108864&67108863],this.length=2):(r(x<9007199254740992),this.words=[x&67108863,x/67108864&67108863,1],this.length=3),M==="le"&&this._initArray(this.toArray(),k,M)},i.prototype._initArray=function(x,k,M){if(r(typeof x.length=="number"),x.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(x.length/3),this.words=new Array(this.length);for(var P=0;P<this.length;P++)this.words[P]=0;var S,L,V=0;if(M==="be")for(P=x.length-1,S=0;P>=0;P-=3)L=x[P]|x[P-1]<<8|x[P-2]<<16,this.words[S]|=L<<V&67108863,this.words[S+1]=L>>>26-V&67108863,V+=24,V>=26&&(V-=26,S++);else if(M==="le")for(P=0,S=0;P<x.length;P+=3)L=x[P]|x[P+1]<<8|x[P+2]<<16,this.words[S]|=L<<V&67108863,this.words[S+1]=L>>>26-V&67108863,V+=24,V>=26&&(V-=26,S++);return this._strip()};function o(j,x){var k=j.charCodeAt(x);if(k>=48&&k<=57)return k-48;if(k>=65&&k<=70)return k-55;if(k>=97&&k<=102)return k-87;r(!1,"Invalid character in "+j)}function l(j,x,k){var M=o(j,k);return k-1>=x&&(M|=o(j,k-1)<<4),M}i.prototype._parseHex=function(x,k,M){this.length=Math.ceil((x.length-k)/6),this.words=new Array(this.length);for(var P=0;P<this.length;P++)this.words[P]=0;var S=0,L=0,V;if(M==="be")for(P=x.length-1;P>=k;P-=2)V=l(x,k,P)<<S,this.words[L]|=V&67108863,S>=18?(S-=18,L+=1,this.words[L]|=V>>>26):S+=8;else{var F=x.length-k;for(P=F%2===0?k+1:k;P<x.length;P+=2)V=l(x,k,P)<<S,this.words[L]|=V&67108863,S>=18?(S-=18,L+=1,this.words[L]|=V>>>26):S+=8}this._strip()};function u(j,x,k,M){for(var P=0,S=0,L=Math.min(j.length,k),V=x;V<L;V++){var F=j.charCodeAt(V)-48;P*=M,F>=49?S=F-49+10:F>=17?S=F-17+10:S=F,r(F>=0&&S<M,"Invalid character"),P+=S}return P}i.prototype._parseBase=function(x,k,M){this.words=[0],this.length=1;for(var P=0,S=1;S<=67108863;S*=k)P++;P--,S=S/k|0;for(var L=x.length-M,V=L%P,F=Math.min(L,L-V)+M,R=0,z=M;z<F;z+=P)R=u(x,z,z+P,k),this.imuln(S),this.words[0]+R<67108864?this.words[0]+=R:this._iaddn(R);if(V!==0){var Q=1;for(R=u(x,z,x.length,k),z=0;z<V;z++)Q*=k;this.imuln(Q),this.words[0]+R<67108864?this.words[0]+=R:this._iaddn(R)}this._strip()},i.prototype.copy=function(x){x.words=new Array(this.length);for(var k=0;k<this.length;k++)x.words[k]=this.words[k];x.length=this.length,x.negative=this.negative,x.red=this.red};function d(j,x){j.words=x.words,j.length=x.length,j.negative=x.negative,j.red=x.red}if(i.prototype._move=function(x){d(x,this)},i.prototype.clone=function(){var x=new i(null);return this.copy(x),x},i.prototype._expand=function(x){for(;this.length<x;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=p}catch{i.prototype.inspect=p}else i.prototype.inspect=p;function p(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(x,k){x=x||10,k=k|0||1;var M;if(x===16||x==="hex"){M="";for(var P=0,S=0,L=0;L<this.length;L++){var V=this.words[L],F=((V<<P|S)&16777215).toString(16);S=V>>>24-P&16777215,P+=2,P>=26&&(P-=26,L--),S!==0||L!==this.length-1?M=f[6-F.length]+F+M:M=F+M}for(S!==0&&(M=S.toString(16)+M);M.length%k!==0;)M="0"+M;return this.negative!==0&&(M="-"+M),M}if(x===(x|0)&&x>=2&&x<=36){var R=h[x],z=y[x];M="";var Q=this.clone();for(Q.negative=0;!Q.isZero();){var O=Q.modrn(z).toString(x);Q=Q.idivn(z),Q.isZero()?M=O+M:M=f[R-O.length]+O+M}for(this.isZero()&&(M="0"+M);M.length%k!==0;)M="0"+M;return this.negative!==0&&(M="-"+M),M}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var x=this.words[0];return this.length===2?x+=this.words[1]*67108864:this.length===3&&this.words[2]===1?x+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-x:x},i.prototype.toJSON=function(){return this.toString(16,2)},a&&(i.prototype.toBuffer=function(x,k){return this.toArrayLike(a,x,k)}),i.prototype.toArray=function(x,k){return this.toArrayLike(Array,x,k)};var m=function(x,k){return x.allocUnsafe?x.allocUnsafe(k):new x(k)};i.prototype.toArrayLike=function(x,k,M){this._strip();var P=this.byteLength(),S=M||Math.max(1,P);r(P<=S,"byte array longer than desired length"),r(S>0,"Requested array length <= 0");var L=m(x,S),V=k==="le"?"LE":"BE";return this["_toArrayLike"+V](L,P),L},i.prototype._toArrayLikeLE=function(x,k){for(var M=0,P=0,S=0,L=0;S<this.length;S++){var V=this.words[S]<<L|P;x[M++]=V&255,M<x.length&&(x[M++]=V>>8&255),M<x.length&&(x[M++]=V>>16&255),L===6?(M<x.length&&(x[M++]=V>>24&255),P=0,L=0):(P=V>>>24,L+=2)}if(M<x.length)for(x[M++]=P;M<x.length;)x[M++]=0},i.prototype._toArrayLikeBE=function(x,k){for(var M=x.length-1,P=0,S=0,L=0;S<this.length;S++){var V=this.words[S]<<L|P;x[M--]=V&255,M>=0&&(x[M--]=V>>8&255),M>=0&&(x[M--]=V>>16&255),L===6?(M>=0&&(x[M--]=V>>24&255),P=0,L=0):(P=V>>>24,L+=2)}if(M>=0)for(x[M--]=P;M>=0;)x[M--]=0},Math.clz32?i.prototype._countBits=function(x){return 32-Math.clz32(x)}:i.prototype._countBits=function(x){var k=x,M=0;return k>=4096&&(M+=13,k>>>=13),k>=64&&(M+=7,k>>>=7),k>=8&&(M+=4,k>>>=4),k>=2&&(M+=2,k>>>=2),M+k},i.prototype._zeroBits=function(x){if(x===0)return 26;var k=x,M=0;return k&8191||(M+=13,k>>>=13),k&127||(M+=7,k>>>=7),k&15||(M+=4,k>>>=4),k&3||(M+=2,k>>>=2),k&1||M++,M},i.prototype.bitLength=function(){var x=this.words[this.length-1],k=this._countBits(x);return(this.length-1)*26+k};function g(j){for(var x=new Array(j.bitLength()),k=0;k<x.length;k++){var M=k/26|0,P=k%26;x[k]=j.words[M]>>>P&1}return x}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var x=0,k=0;k<this.length;k++){var M=this._zeroBits(this.words[k]);if(x+=M,M!==26)break}return x},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(x){return this.negative!==0?this.abs().inotn(x).iaddn(1):this.clone()},i.prototype.fromTwos=function(x){return this.testn(x-1)?this.notn(x).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(x){for(;this.length<x.length;)this.words[this.length++]=0;for(var k=0;k<x.length;k++)this.words[k]=this.words[k]|x.words[k];return this._strip()},i.prototype.ior=function(x){return r((this.negative|x.negative)===0),this.iuor(x)},i.prototype.or=function(x){return this.length>x.length?this.clone().ior(x):x.clone().ior(this)},i.prototype.uor=function(x){return this.length>x.length?this.clone().iuor(x):x.clone().iuor(this)},i.prototype.iuand=function(x){var k;this.length>x.length?k=x:k=this;for(var M=0;M<k.length;M++)this.words[M]=this.words[M]&x.words[M];return this.length=k.length,this._strip()},i.prototype.iand=function(x){return r((this.negative|x.negative)===0),this.iuand(x)},i.prototype.and=function(x){return this.length>x.length?this.clone().iand(x):x.clone().iand(this)},i.prototype.uand=function(x){return this.length>x.length?this.clone().iuand(x):x.clone().iuand(this)},i.prototype.iuxor=function(x){var k,M;this.length>x.length?(k=this,M=x):(k=x,M=this);for(var P=0;P<M.length;P++)this.words[P]=k.words[P]^M.words[P];if(this!==k)for(;P<k.length;P++)this.words[P]=k.words[P];return this.length=k.length,this._strip()},i.prototype.ixor=function(x){return r((this.negative|x.negative)===0),this.iuxor(x)},i.prototype.xor=function(x){return this.length>x.length?this.clone().ixor(x):x.clone().ixor(this)},i.prototype.uxor=function(x){return this.length>x.length?this.clone().iuxor(x):x.clone().iuxor(this)},i.prototype.inotn=function(x){r(typeof x=="number"&&x>=0);var k=Math.ceil(x/26)|0,M=x%26;this._expand(k),M>0&&k--;for(var P=0;P<k;P++)this.words[P]=~this.words[P]&67108863;return M>0&&(this.words[P]=~this.words[P]&67108863>>26-M),this._strip()},i.prototype.notn=function(x){return this.clone().inotn(x)},i.prototype.setn=function(x,k){r(typeof x=="number"&&x>=0);var M=x/26|0,P=x%26;return this._expand(M+1),k?this.words[M]=this.words[M]|1<<P:this.words[M]=this.words[M]&~(1<<P),this._strip()},i.prototype.iadd=function(x){var k;if(this.negative!==0&&x.negative===0)return this.negative=0,k=this.isub(x),this.negative^=1,this._normSign();if(this.negative===0&&x.negative!==0)return x.negative=0,k=this.isub(x),x.negative=1,k._normSign();var M,P;this.length>x.length?(M=this,P=x):(M=x,P=this);for(var S=0,L=0;L<P.length;L++)k=(M.words[L]|0)+(P.words[L]|0)+S,this.words[L]=k&67108863,S=k>>>26;for(;S!==0&&L<M.length;L++)k=(M.words[L]|0)+S,this.words[L]=k&67108863,S=k>>>26;if(this.length=M.length,S!==0)this.words[this.length]=S,this.length++;else if(M!==this)for(;L<M.length;L++)this.words[L]=M.words[L];return this},i.prototype.add=function(x){var k;return x.negative!==0&&this.negative===0?(x.negative=0,k=this.sub(x),x.negative^=1,k):x.negative===0&&this.negative!==0?(this.negative=0,k=x.sub(this),this.negative=1,k):this.length>x.length?this.clone().iadd(x):x.clone().iadd(this)},i.prototype.isub=function(x){if(x.negative!==0){x.negative=0;var k=this.iadd(x);return x.negative=1,k._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(x),this.negative=1,this._normSign();var M=this.cmp(x);if(M===0)return this.negative=0,this.length=1,this.words[0]=0,this;var P,S;M>0?(P=this,S=x):(P=x,S=this);for(var L=0,V=0;V<S.length;V++)k=(P.words[V]|0)-(S.words[V]|0)+L,L=k>>26,this.words[V]=k&67108863;for(;L!==0&&V<P.length;V++)k=(P.words[V]|0)+L,L=k>>26,this.words[V]=k&67108863;if(L===0&&V<P.length&&P!==this)for(;V<P.length;V++)this.words[V]=P.words[V];return this.length=Math.max(this.length,V),P!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(x){return this.clone().isub(x)};function v(j,x,k){k.negative=x.negative^j.negative;var M=j.length+x.length|0;k.length=M,M=M-1|0;var P=j.words[0]|0,S=x.words[0]|0,L=P*S,V=L&67108863,F=L/67108864|0;k.words[0]=V;for(var R=1;R<M;R++){for(var z=F>>>26,Q=F&67108863,O=Math.min(R,x.length-1),H=Math.max(0,R-j.length+1);H<=O;H++){var Y=R-H|0;P=j.words[Y]|0,S=x.words[H]|0,L=P*S+Q,z+=L/67108864|0,Q=L&67108863}k.words[R]=Q|0,F=z|0}return F!==0?k.words[R]=F|0:k.length--,k._strip()}var b=function(x,k,M){var P=x.words,S=k.words,L=M.words,V=0,F,R,z,Q=P[0]|0,O=Q&8191,H=Q>>>13,Y=P[1]|0,G=Y&8191,Z=Y>>>13,te=P[2]|0,q=te&8191,ne=te>>>13,Re=P[3]|0,se=Re&8191,ve=Re>>>13,We=P[4]|0,fe=We&8191,ee=We>>>13,pe=P[5]|0,xe=pe&8191,Fe=pe>>>13,Ze=P[6]|0,Oe=Ze&8191,rt=Ze>>>13,zt=P[7]|0,ct=zt&8191,J=zt>>>13,Ee=P[8]|0,le=Ee&8191,ue=Ee>>>13,he=P[9]|0,Ne=he&8191,Ge=he>>>13,Te=S[0]|0,me=Te&8191,de=Te>>>13,Me=S[1]|0,ie=Me&8191,ge=Me>>>13,je=S[2]|0,we=je&8191,Be=je>>>13,Nt=S[3]|0,mt=Nt&8191,St=Nt>>>13,Kt=S[4]|0,gt=Kt&8191,Tt=Kt>>>13,wn=S[5]|0,Ue=wn&8191,ae=wn>>>13,ut=S[6]|0,pt=ut&8191,ot=ut>>>13,Ft=S[7]|0,Rt=Ft&8191,Et=Ft>>>13,Ae=S[8]|0,Pt=Ae&8191,wt=Ae>>>13,Mn=S[9]|0,At=Mn&8191,yt=Mn>>>13;M.negative=x.negative^k.negative,M.length=19,F=Math.imul(O,me),R=Math.imul(O,de),R=R+Math.imul(H,me)|0,z=Math.imul(H,de);var xt=(V+F|0)+((R&8191)<<13)|0;V=(z+(R>>>13)|0)+(xt>>>26)|0,xt&=67108863,F=Math.imul(G,me),R=Math.imul(G,de),R=R+Math.imul(Z,me)|0,z=Math.imul(Z,de),F=F+Math.imul(O,ie)|0,R=R+Math.imul(O,ge)|0,R=R+Math.imul(H,ie)|0,z=z+Math.imul(H,ge)|0;var br=(V+F|0)+((R&8191)<<13)|0;V=(z+(R>>>13)|0)+(br>>>26)|0,br&=67108863,F=Math.imul(q,me),R=Math.imul(q,de),R=R+Math.imul(ne,me)|0,z=Math.imul(ne,de),F=F+Math.imul(G,ie)|0,R=R+Math.imul(G,ge)|0,R=R+Math.imul(Z,ie)|0,z=z+Math.imul(Z,ge)|0,F=F+Math.imul(O,we)|0,R=R+Math.imul(O,Be)|0,R=R+Math.imul(H,we)|0,z=z+Math.imul(H,Be)|0;var lr=(V+F|0)+((R&8191)<<13)|0;V=(z+(R>>>13)|0)+(lr>>>26)|0,lr&=67108863,F=Math.imul(se,me),R=Math.imul(se,de),R=R+Math.imul(ve,me)|0,z=Math.imul(ve,de),F=F+Math.imul(q,ie)|0,R=R+Math.imul(q,ge)|0,R=R+Math.imul(ne,ie)|0,z=z+Math.imul(ne,ge)|0,F=F+Math.imul(G,we)|0,R=R+Math.imul(G,Be)|0,R=R+Math.imul(Z,we)|0,z=z+Math.imul(Z,Be)|0,F=F+Math.imul(O,mt)|0,R=R+Math.imul(O,St)|0,R=R+Math.imul(H,mt)|0,z=z+Math.imul(H,St)|0;var On=(V+F|0)+((R&8191)<<13)|0;V=(z+(R>>>13)|0)+(On>>>26)|0,On&=67108863,F=Math.imul(fe,me),R=Math.imul(fe,de),R=R+Math.imul(ee,me)|0,z=Math.imul(ee,de),F=F+Math.imul(se,ie)|0,R=R+Math.imul(se,ge)|0,R=R+Math.imul(ve,ie)|0,z=z+Math.imul(ve,ge)|0,F=F+Math.imul(q,we)|0,R=R+Math.imul(q,Be)|0,R=R+Math.imul(ne,we)|0,z=z+Math.imul(ne,Be)|0,F=F+Math.imul(G,mt)|0,R=R+Math.imul(G,St)|0,R=R+Math.imul(Z,mt)|0,z=z+Math.imul(Z,St)|0,F=F+Math.imul(O,gt)|0,R=R+Math.imul(O,Tt)|0,R=R+Math.imul(H,gt)|0,z=z+Math.imul(H,Tt)|0;var wr=(V+F|0)+((R&8191)<<13)|0;V=(z+(R>>>13)|0)+(wr>>>26)|0,wr&=67108863,F=Math.imul(xe,me),R=Math.imul(xe,de),R=R+Math.imul(Fe,me)|0,z=Math.imul(Fe,de),F=F+Math.imul(fe,ie)|0,R=R+Math.imul(fe,ge)|0,R=R+Math.imul(ee,ie)|0,z=z+Math.imul(ee,ge)|0,F=F+Math.imul(se,we)|0,R=R+Math.imul(se,Be)|0,R=R+Math.imul(ve,we)|0,z=z+Math.imul(ve,Be)|0,F=F+Math.imul(q,mt)|0,R=R+Math.imul(q,St)|0,R=R+Math.imul(ne,mt)|0,z=z+Math.imul(ne,St)|0,F=F+Math.imul(G,gt)|0,R=R+Math.imul(G,Tt)|0,R=R+Math.imul(Z,gt)|0,z=z+Math.imul(Z,Tt)|0,F=F+Math.imul(O,Ue)|0,R=R+Math.imul(O,ae)|0,R=R+Math.imul(H,Ue)|0,z=z+Math.imul(H,ae)|0;var kd=(V+F|0)+((R&8191)<<13)|0;V=(z+(R>>>13)|0)+(kd>>>26)|0,kd&=67108863,F=Math.imul(Oe,me),R=Math.imul(Oe,de),R=R+Math.imul(rt,me)|0,z=Math.imul(rt,de),F=F+Math.imul(xe,ie)|0,R=R+Math.imul(xe,ge)|0,R=R+Math.imul(Fe,ie)|0,z=z+Math.imul(Fe,ge)|0,F=F+Math.imul(fe,we)|0,R=R+Math.imul(fe,Be)|0,R=R+Math.imul(ee,we)|0,z=z+Math.imul(ee,Be)|0,F=F+Math.imul(se,mt)|0,R=R+Math.imul(se,St)|0,R=R+Math.imul(ve,mt)|0,z=z+Math.imul(ve,St)|0,F=F+Math.imul(q,gt)|0,R=R+Math.imul(q,Tt)|0,R=R+Math.imul(ne,gt)|0,z=z+Math.imul(ne,Tt)|0,F=F+Math.imul(G,Ue)|0,R=R+Math.imul(G,ae)|0,R=R+Math.imul(Z,Ue)|0,z=z+Math.imul(Z,ae)|0,F=F+Math.imul(O,pt)|0,R=R+Math.imul(O,ot)|0,R=R+Math.imul(H,pt)|0,z=z+Math.imul(H,ot)|0;var W2=(V+F|0)+((R&8191)<<13)|0;V=(z+(R>>>13)|0)+(W2>>>26)|0,W2&=67108863,F=Math.imul(ct,me),R=Math.imul(ct,de),R=R+Math.imul(J,me)|0,z=Math.imul(J,de),F=F+Math.imul(Oe,ie)|0,R=R+Math.imul(Oe,ge)|0,R=R+Math.imul(rt,ie)|0,z=z+Math.imul(rt,ge)|0,F=F+Math.imul(xe,we)|0,R=R+Math.imul(xe,Be)|0,R=R+Math.imul(Fe,we)|0,z=z+Math.imul(Fe,Be)|0,F=F+Math.imul(fe,mt)|0,R=R+Math.imul(fe,St)|0,R=R+Math.imul(ee,mt)|0,z=z+Math.imul(ee,St)|0,F=F+Math.imul(se,gt)|0,R=R+Math.imul(se,Tt)|0,R=R+Math.imul(ve,gt)|0,z=z+Math.imul(ve,Tt)|0,F=F+Math.imul(q,Ue)|0,R=R+Math.imul(q,ae)|0,R=R+Math.imul(ne,Ue)|0,z=z+Math.imul(ne,ae)|0,F=F+Math.imul(G,pt)|0,R=R+Math.imul(G,ot)|0,R=R+Math.imul(Z,pt)|0,z=z+Math.imul(Z,ot)|0,F=F+Math.imul(O,Rt)|0,R=R+Math.imul(O,Et)|0,R=R+Math.imul(H,Rt)|0,z=z+Math.imul(H,Et)|0;var G2=(V+F|0)+((R&8191)<<13)|0;V=(z+(R>>>13)|0)+(G2>>>26)|0,G2&=67108863,F=Math.imul(le,me),R=Math.imul(le,de),R=R+Math.imul(ue,me)|0,z=Math.imul(ue,de),F=F+Math.imul(ct,ie)|0,R=R+Math.imul(ct,ge)|0,R=R+Math.imul(J,ie)|0,z=z+Math.imul(J,ge)|0,F=F+Math.imul(Oe,we)|0,R=R+Math.imul(Oe,Be)|0,R=R+Math.imul(rt,we)|0,z=z+Math.imul(rt,Be)|0,F=F+Math.imul(xe,mt)|0,R=R+Math.imul(xe,St)|0,R=R+Math.imul(Fe,mt)|0,z=z+Math.imul(Fe,St)|0,F=F+Math.imul(fe,gt)|0,R=R+Math.imul(fe,Tt)|0,R=R+Math.imul(ee,gt)|0,z=z+Math.imul(ee,Tt)|0,F=F+Math.imul(se,Ue)|0,R=R+Math.imul(se,ae)|0,R=R+Math.imul(ve,Ue)|0,z=z+Math.imul(ve,ae)|0,F=F+Math.imul(q,pt)|0,R=R+Math.imul(q,ot)|0,R=R+Math.imul(ne,pt)|0,z=z+Math.imul(ne,ot)|0,F=F+Math.imul(G,Rt)|0,R=R+Math.imul(G,Et)|0,R=R+Math.imul(Z,Rt)|0,z=z+Math.imul(Z,Et)|0,F=F+Math.imul(O,Pt)|0,R=R+Math.imul(O,wt)|0,R=R+Math.imul(H,Pt)|0,z=z+Math.imul(H,wt)|0;var K2=(V+F|0)+((R&8191)<<13)|0;V=(z+(R>>>13)|0)+(K2>>>26)|0,K2&=67108863,F=Math.imul(Ne,me),R=Math.imul(Ne,de),R=R+Math.imul(Ge,me)|0,z=Math.imul(Ge,de),F=F+Math.imul(le,ie)|0,R=R+Math.imul(le,ge)|0,R=R+Math.imul(ue,ie)|0,z=z+Math.imul(ue,ge)|0,F=F+Math.imul(ct,we)|0,R=R+Math.imul(ct,Be)|0,R=R+Math.imul(J,we)|0,z=z+Math.imul(J,Be)|0,F=F+Math.imul(Oe,mt)|0,R=R+Math.imul(Oe,St)|0,R=R+Math.imul(rt,mt)|0,z=z+Math.imul(rt,St)|0,F=F+Math.imul(xe,gt)|0,R=R+Math.imul(xe,Tt)|0,R=R+Math.imul(Fe,gt)|0,z=z+Math.imul(Fe,Tt)|0,F=F+Math.imul(fe,Ue)|0,R=R+Math.imul(fe,ae)|0,R=R+Math.imul(ee,Ue)|0,z=z+Math.imul(ee,ae)|0,F=F+Math.imul(se,pt)|0,R=R+Math.imul(se,ot)|0,R=R+Math.imul(ve,pt)|0,z=z+Math.imul(ve,ot)|0,F=F+Math.imul(q,Rt)|0,R=R+Math.imul(q,Et)|0,R=R+Math.imul(ne,Rt)|0,z=z+Math.imul(ne,Et)|0,F=F+Math.imul(G,Pt)|0,R=R+Math.imul(G,wt)|0,R=R+Math.imul(Z,Pt)|0,z=z+Math.imul(Z,wt)|0,F=F+Math.imul(O,At)|0,R=R+Math.imul(O,yt)|0,R=R+Math.imul(H,At)|0,z=z+Math.imul(H,yt)|0;var Y2=(V+F|0)+((R&8191)<<13)|0;V=(z+(R>>>13)|0)+(Y2>>>26)|0,Y2&=67108863,F=Math.imul(Ne,ie),R=Math.imul(Ne,ge),R=R+Math.imul(Ge,ie)|0,z=Math.imul(Ge,ge),F=F+Math.imul(le,we)|0,R=R+Math.imul(le,Be)|0,R=R+Math.imul(ue,we)|0,z=z+Math.imul(ue,Be)|0,F=F+Math.imul(ct,mt)|0,R=R+Math.imul(ct,St)|0,R=R+Math.imul(J,mt)|0,z=z+Math.imul(J,St)|0,F=F+Math.imul(Oe,gt)|0,R=R+Math.imul(Oe,Tt)|0,R=R+Math.imul(rt,gt)|0,z=z+Math.imul(rt,Tt)|0,F=F+Math.imul(xe,Ue)|0,R=R+Math.imul(xe,ae)|0,R=R+Math.imul(Fe,Ue)|0,z=z+Math.imul(Fe,ae)|0,F=F+Math.imul(fe,pt)|0,R=R+Math.imul(fe,ot)|0,R=R+Math.imul(ee,pt)|0,z=z+Math.imul(ee,ot)|0,F=F+Math.imul(se,Rt)|0,R=R+Math.imul(se,Et)|0,R=R+Math.imul(ve,Rt)|0,z=z+Math.imul(ve,Et)|0,F=F+Math.imul(q,Pt)|0,R=R+Math.imul(q,wt)|0,R=R+Math.imul(ne,Pt)|0,z=z+Math.imul(ne,wt)|0,F=F+Math.imul(G,At)|0,R=R+Math.imul(G,yt)|0,R=R+Math.imul(Z,At)|0,z=z+Math.imul(Z,yt)|0;var q2=(V+F|0)+((R&8191)<<13)|0;V=(z+(R>>>13)|0)+(q2>>>26)|0,q2&=67108863,F=Math.imul(Ne,we),R=Math.imul(Ne,Be),R=R+Math.imul(Ge,we)|0,z=Math.imul(Ge,Be),F=F+Math.imul(le,mt)|0,R=R+Math.imul(le,St)|0,R=R+Math.imul(ue,mt)|0,z=z+Math.imul(ue,St)|0,F=F+Math.imul(ct,gt)|0,R=R+Math.imul(ct,Tt)|0,R=R+Math.imul(J,gt)|0,z=z+Math.imul(J,Tt)|0,F=F+Math.imul(Oe,Ue)|0,R=R+Math.imul(Oe,ae)|0,R=R+Math.imul(rt,Ue)|0,z=z+Math.imul(rt,ae)|0,F=F+Math.imul(xe,pt)|0,R=R+Math.imul(xe,ot)|0,R=R+Math.imul(Fe,pt)|0,z=z+Math.imul(Fe,ot)|0,F=F+Math.imul(fe,Rt)|0,R=R+Math.imul(fe,Et)|0,R=R+Math.imul(ee,Rt)|0,z=z+Math.imul(ee,Et)|0,F=F+Math.imul(se,Pt)|0,R=R+Math.imul(se,wt)|0,R=R+Math.imul(ve,Pt)|0,z=z+Math.imul(ve,wt)|0,F=F+Math.imul(q,At)|0,R=R+Math.imul(q,yt)|0,R=R+Math.imul(ne,At)|0,z=z+Math.imul(ne,yt)|0;var X2=(V+F|0)+((R&8191)<<13)|0;V=(z+(R>>>13)|0)+(X2>>>26)|0,X2&=67108863,F=Math.imul(Ne,mt),R=Math.imul(Ne,St),R=R+Math.imul(Ge,mt)|0,z=Math.imul(Ge,St),F=F+Math.imul(le,gt)|0,R=R+Math.imul(le,Tt)|0,R=R+Math.imul(ue,gt)|0,z=z+Math.imul(ue,Tt)|0,F=F+Math.imul(ct,Ue)|0,R=R+Math.imul(ct,ae)|0,R=R+Math.imul(J,Ue)|0,z=z+Math.imul(J,ae)|0,F=F+Math.imul(Oe,pt)|0,R=R+Math.imul(Oe,ot)|0,R=R+Math.imul(rt,pt)|0,z=z+Math.imul(rt,ot)|0,F=F+Math.imul(xe,Rt)|0,R=R+Math.imul(xe,Et)|0,R=R+Math.imul(Fe,Rt)|0,z=z+Math.imul(Fe,Et)|0,F=F+Math.imul(fe,Pt)|0,R=R+Math.imul(fe,wt)|0,R=R+Math.imul(ee,Pt)|0,z=z+Math.imul(ee,wt)|0,F=F+Math.imul(se,At)|0,R=R+Math.imul(se,yt)|0,R=R+Math.imul(ve,At)|0,z=z+Math.imul(ve,yt)|0;var Z2=(V+F|0)+((R&8191)<<13)|0;V=(z+(R>>>13)|0)+(Z2>>>26)|0,Z2&=67108863,F=Math.imul(Ne,gt),R=Math.imul(Ne,Tt),R=R+Math.imul(Ge,gt)|0,z=Math.imul(Ge,Tt),F=F+Math.imul(le,Ue)|0,R=R+Math.imul(le,ae)|0,R=R+Math.imul(ue,Ue)|0,z=z+Math.imul(ue,ae)|0,F=F+Math.imul(ct,pt)|0,R=R+Math.imul(ct,ot)|0,R=R+Math.imul(J,pt)|0,z=z+Math.imul(J,ot)|0,F=F+Math.imul(Oe,Rt)|0,R=R+Math.imul(Oe,Et)|0,R=R+Math.imul(rt,Rt)|0,z=z+Math.imul(rt,Et)|0,F=F+Math.imul(xe,Pt)|0,R=R+Math.imul(xe,wt)|0,R=R+Math.imul(Fe,Pt)|0,z=z+Math.imul(Fe,wt)|0,F=F+Math.imul(fe,At)|0,R=R+Math.imul(fe,yt)|0,R=R+Math.imul(ee,At)|0,z=z+Math.imul(ee,yt)|0;var J2=(V+F|0)+((R&8191)<<13)|0;V=(z+(R>>>13)|0)+(J2>>>26)|0,J2&=67108863,F=Math.imul(Ne,Ue),R=Math.imul(Ne,ae),R=R+Math.imul(Ge,Ue)|0,z=Math.imul(Ge,ae),F=F+Math.imul(le,pt)|0,R=R+Math.imul(le,ot)|0,R=R+Math.imul(ue,pt)|0,z=z+Math.imul(ue,ot)|0,F=F+Math.imul(ct,Rt)|0,R=R+Math.imul(ct,Et)|0,R=R+Math.imul(J,Rt)|0,z=z+Math.imul(J,Et)|0,F=F+Math.imul(Oe,Pt)|0,R=R+Math.imul(Oe,wt)|0,R=R+Math.imul(rt,Pt)|0,z=z+Math.imul(rt,wt)|0,F=F+Math.imul(xe,At)|0,R=R+Math.imul(xe,yt)|0,R=R+Math.imul(Fe,At)|0,z=z+Math.imul(Fe,yt)|0;var Q2=(V+F|0)+((R&8191)<<13)|0;V=(z+(R>>>13)|0)+(Q2>>>26)|0,Q2&=67108863,F=Math.imul(Ne,pt),R=Math.imul(Ne,ot),R=R+Math.imul(Ge,pt)|0,z=Math.imul(Ge,ot),F=F+Math.imul(le,Rt)|0,R=R+Math.imul(le,Et)|0,R=R+Math.imul(ue,Rt)|0,z=z+Math.imul(ue,Et)|0,F=F+Math.imul(ct,Pt)|0,R=R+Math.imul(ct,wt)|0,R=R+Math.imul(J,Pt)|0,z=z+Math.imul(J,wt)|0,F=F+Math.imul(Oe,At)|0,R=R+Math.imul(Oe,yt)|0,R=R+Math.imul(rt,At)|0,z=z+Math.imul(rt,yt)|0;var eA=(V+F|0)+((R&8191)<<13)|0;V=(z+(R>>>13)|0)+(eA>>>26)|0,eA&=67108863,F=Math.imul(Ne,Rt),R=Math.imul(Ne,Et),R=R+Math.imul(Ge,Rt)|0,z=Math.imul(Ge,Et),F=F+Math.imul(le,Pt)|0,R=R+Math.imul(le,wt)|0,R=R+Math.imul(ue,Pt)|0,z=z+Math.imul(ue,wt)|0,F=F+Math.imul(ct,At)|0,R=R+Math.imul(ct,yt)|0,R=R+Math.imul(J,At)|0,z=z+Math.imul(J,yt)|0;var tA=(V+F|0)+((R&8191)<<13)|0;V=(z+(R>>>13)|0)+(tA>>>26)|0,tA&=67108863,F=Math.imul(Ne,Pt),R=Math.imul(Ne,wt),R=R+Math.imul(Ge,Pt)|0,z=Math.imul(Ge,wt),F=F+Math.imul(le,At)|0,R=R+Math.imul(le,yt)|0,R=R+Math.imul(ue,At)|0,z=z+Math.imul(ue,yt)|0;var nA=(V+F|0)+((R&8191)<<13)|0;V=(z+(R>>>13)|0)+(nA>>>26)|0,nA&=67108863,F=Math.imul(Ne,At),R=Math.imul(Ne,yt),R=R+Math.imul(Ge,At)|0,z=Math.imul(Ge,yt);var rA=(V+F|0)+((R&8191)<<13)|0;return V=(z+(R>>>13)|0)+(rA>>>26)|0,rA&=67108863,L[0]=xt,L[1]=br,L[2]=lr,L[3]=On,L[4]=wr,L[5]=kd,L[6]=W2,L[7]=G2,L[8]=K2,L[9]=Y2,L[10]=q2,L[11]=X2,L[12]=Z2,L[13]=J2,L[14]=Q2,L[15]=eA,L[16]=tA,L[17]=nA,L[18]=rA,V!==0&&(L[19]=V,M.length++),M};Math.imul||(b=v);function w(j,x,k){k.negative=x.negative^j.negative,k.length=j.length+x.length;for(var M=0,P=0,S=0;S<k.length-1;S++){var L=P;P=0;for(var V=M&67108863,F=Math.min(S,x.length-1),R=Math.max(0,S-j.length+1);R<=F;R++){var z=S-R,Q=j.words[z]|0,O=x.words[R]|0,H=Q*O,Y=H&67108863;L=L+(H/67108864|0)|0,Y=Y+V|0,V=Y&67108863,L=L+(Y>>>26)|0,P+=L>>>26,L&=67108863}k.words[S]=V,M=L,L=P}return M!==0?k.words[S]=M:k.length--,k._strip()}function A(j,x,k){return w(j,x,k)}i.prototype.mulTo=function(x,k){var M,P=this.length+x.length;return this.length===10&&x.length===10?M=b(this,x,k):P<63?M=v(this,x,k):P<1024?M=w(this,x,k):M=A(this,x,k),M},i.prototype.mul=function(x){var k=new i(null);return k.words=new Array(this.length+x.length),this.mulTo(x,k)},i.prototype.mulf=function(x){var k=new i(null);return k.words=new Array(this.length+x.length),A(this,x,k)},i.prototype.imul=function(x){return this.clone().mulTo(x,this)},i.prototype.imuln=function(x){var k=x<0;k&&(x=-x),r(typeof x=="number"),r(x<67108864);for(var M=0,P=0;P<this.length;P++){var S=(this.words[P]|0)*x,L=(S&67108863)+(M&67108863);M>>=26,M+=S/67108864|0,M+=L>>>26,this.words[P]=L&67108863}return M!==0&&(this.words[P]=M,this.length++),this.length=x===0?1:this.length,k?this.ineg():this},i.prototype.muln=function(x){return this.clone().imuln(x)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(x){var k=g(x);if(k.length===0)return new i(1);for(var M=this,P=0;P<k.length&&k[P]===0;P++,M=M.sqr());if(++P<k.length)for(var S=M.sqr();P<k.length;P++,S=S.sqr())k[P]!==0&&(M=M.mul(S));return M},i.prototype.iushln=function(x){r(typeof x=="number"&&x>=0);var k=x%26,M=(x-k)/26,P=67108863>>>26-k<<26-k,S;if(k!==0){var L=0;for(S=0;S<this.length;S++){var V=this.words[S]&P,F=(this.words[S]|0)-V<<k;this.words[S]=F|L,L=V>>>26-k}L&&(this.words[S]=L,this.length++)}if(M!==0){for(S=this.length-1;S>=0;S--)this.words[S+M]=this.words[S];for(S=0;S<M;S++)this.words[S]=0;this.length+=M}return this._strip()},i.prototype.ishln=function(x){return r(this.negative===0),this.iushln(x)},i.prototype.iushrn=function(x,k,M){r(typeof x=="number"&&x>=0);var P;k?P=(k-k%26)/26:P=0;var S=x%26,L=Math.min((x-S)/26,this.length),V=67108863^67108863>>>S<<S,F=M;if(P-=L,P=Math.max(0,P),F){for(var R=0;R<L;R++)F.words[R]=this.words[R];F.length=L}if(L!==0)if(this.length>L)for(this.length-=L,R=0;R<this.length;R++)this.words[R]=this.words[R+L];else this.words[0]=0,this.length=1;var z=0;for(R=this.length-1;R>=0&&(z!==0||R>=P);R--){var Q=this.words[R]|0;this.words[R]=z<<26-S|Q>>>S,z=Q&V}return F&&z!==0&&(F.words[F.length++]=z),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(x,k,M){return r(this.negative===0),this.iushrn(x,k,M)},i.prototype.shln=function(x){return this.clone().ishln(x)},i.prototype.ushln=function(x){return this.clone().iushln(x)},i.prototype.shrn=function(x){return this.clone().ishrn(x)},i.prototype.ushrn=function(x){return this.clone().iushrn(x)},i.prototype.testn=function(x){r(typeof x=="number"&&x>=0);var k=x%26,M=(x-k)/26,P=1<<k;if(this.length<=M)return!1;var S=this.words[M];return!!(S&P)},i.prototype.imaskn=function(x){r(typeof x=="number"&&x>=0);var k=x%26,M=(x-k)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=M)return this;if(k!==0&&M++,this.length=Math.min(M,this.length),k!==0){var P=67108863^67108863>>>k<<k;this.words[this.length-1]&=P}return this._strip()},i.prototype.maskn=function(x){return this.clone().imaskn(x)},i.prototype.iaddn=function(x){return r(typeof x=="number"),r(x<67108864),x<0?this.isubn(-x):this.negative!==0?this.length===1&&(this.words[0]|0)<=x?(this.words[0]=x-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(x),this.negative=1,this):this._iaddn(x)},i.prototype._iaddn=function(x){this.words[0]+=x;for(var k=0;k<this.length&&this.words[k]>=67108864;k++)this.words[k]-=67108864,k===this.length-1?this.words[k+1]=1:this.words[k+1]++;return this.length=Math.max(this.length,k+1),this},i.prototype.isubn=function(x){if(r(typeof x=="number"),r(x<67108864),x<0)return this.iaddn(-x);if(this.negative!==0)return this.negative=0,this.iaddn(x),this.negative=1,this;if(this.words[0]-=x,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var k=0;k<this.length&&this.words[k]<0;k++)this.words[k]+=67108864,this.words[k+1]-=1;return this._strip()},i.prototype.addn=function(x){return this.clone().iaddn(x)},i.prototype.subn=function(x){return this.clone().isubn(x)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(x,k,M){var P=x.length+M,S;this._expand(P);var L,V=0;for(S=0;S<x.length;S++){L=(this.words[S+M]|0)+V;var F=(x.words[S]|0)*k;L-=F&67108863,V=(L>>26)-(F/67108864|0),this.words[S+M]=L&67108863}for(;S<this.length-M;S++)L=(this.words[S+M]|0)+V,V=L>>26,this.words[S+M]=L&67108863;if(V===0)return this._strip();for(r(V===-1),V=0,S=0;S<this.length;S++)L=-(this.words[S]|0)+V,V=L>>26,this.words[S]=L&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(x,k){var M=this.length-x.length,P=this.clone(),S=x,L=S.words[S.length-1]|0,V=this._countBits(L);M=26-V,M!==0&&(S=S.ushln(M),P.iushln(M),L=S.words[S.length-1]|0);var F=P.length-S.length,R;if(k!=="mod"){R=new i(null),R.length=F+1,R.words=new Array(R.length);for(var z=0;z<R.length;z++)R.words[z]=0}var Q=P.clone()._ishlnsubmul(S,1,F);Q.negative===0&&(P=Q,R&&(R.words[F]=1));for(var O=F-1;O>=0;O--){var H=(P.words[S.length+O]|0)*67108864+(P.words[S.length+O-1]|0);for(H=Math.min(H/L|0,67108863),P._ishlnsubmul(S,H,O);P.negative!==0;)H--,P.negative=0,P._ishlnsubmul(S,1,O),P.isZero()||(P.negative^=1);R&&(R.words[O]=H)}return R&&R._strip(),P._strip(),k!=="div"&&M!==0&&P.iushrn(M),{div:R||null,mod:P}},i.prototype.divmod=function(x,k,M){if(r(!x.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var P,S,L;return this.negative!==0&&x.negative===0?(L=this.neg().divmod(x,k),k!=="mod"&&(P=L.div.neg()),k!=="div"&&(S=L.mod.neg(),M&&S.negative!==0&&S.iadd(x)),{div:P,mod:S}):this.negative===0&&x.negative!==0?(L=this.divmod(x.neg(),k),k!=="mod"&&(P=L.div.neg()),{div:P,mod:L.mod}):this.negative&x.negative?(L=this.neg().divmod(x.neg(),k),k!=="div"&&(S=L.mod.neg(),M&&S.negative!==0&&S.isub(x)),{div:L.div,mod:S}):x.length>this.length||this.cmp(x)<0?{div:new i(0),mod:this}:x.length===1?k==="div"?{div:this.divn(x.words[0]),mod:null}:k==="mod"?{div:null,mod:new i(this.modrn(x.words[0]))}:{div:this.divn(x.words[0]),mod:new i(this.modrn(x.words[0]))}:this._wordDiv(x,k)},i.prototype.div=function(x){return this.divmod(x,"div",!1).div},i.prototype.mod=function(x){return this.divmod(x,"mod",!1).mod},i.prototype.umod=function(x){return this.divmod(x,"mod",!0).mod},i.prototype.divRound=function(x){var k=this.divmod(x);if(k.mod.isZero())return k.div;var M=k.div.negative!==0?k.mod.isub(x):k.mod,P=x.ushrn(1),S=x.andln(1),L=M.cmp(P);return L<0||S===1&&L===0?k.div:k.div.negative!==0?k.div.isubn(1):k.div.iaddn(1)},i.prototype.modrn=function(x){var k=x<0;k&&(x=-x),r(x<=67108863);for(var M=(1<<26)%x,P=0,S=this.length-1;S>=0;S--)P=(M*P+(this.words[S]|0))%x;return k?-P:P},i.prototype.modn=function(x){return this.modrn(x)},i.prototype.idivn=function(x){var k=x<0;k&&(x=-x),r(x<=67108863);for(var M=0,P=this.length-1;P>=0;P--){var S=(this.words[P]|0)+M*67108864;this.words[P]=S/x|0,M=S%x}return this._strip(),k?this.ineg():this},i.prototype.divn=function(x){return this.clone().idivn(x)},i.prototype.egcd=function(x){r(x.negative===0),r(!x.isZero());var k=this,M=x.clone();k.negative!==0?k=k.umod(x):k=k.clone();for(var P=new i(1),S=new i(0),L=new i(0),V=new i(1),F=0;k.isEven()&&M.isEven();)k.iushrn(1),M.iushrn(1),++F;for(var R=M.clone(),z=k.clone();!k.isZero();){for(var Q=0,O=1;!(k.words[0]&O)&&Q<26;++Q,O<<=1);if(Q>0)for(k.iushrn(Q);Q-- >0;)(P.isOdd()||S.isOdd())&&(P.iadd(R),S.isub(z)),P.iushrn(1),S.iushrn(1);for(var H=0,Y=1;!(M.words[0]&Y)&&H<26;++H,Y<<=1);if(H>0)for(M.iushrn(H);H-- >0;)(L.isOdd()||V.isOdd())&&(L.iadd(R),V.isub(z)),L.iushrn(1),V.iushrn(1);k.cmp(M)>=0?(k.isub(M),P.isub(L),S.isub(V)):(M.isub(k),L.isub(P),V.isub(S))}return{a:L,b:V,gcd:M.iushln(F)}},i.prototype._invmp=function(x){r(x.negative===0),r(!x.isZero());var k=this,M=x.clone();k.negative!==0?k=k.umod(x):k=k.clone();for(var P=new i(1),S=new i(0),L=M.clone();k.cmpn(1)>0&&M.cmpn(1)>0;){for(var V=0,F=1;!(k.words[0]&F)&&V<26;++V,F<<=1);if(V>0)for(k.iushrn(V);V-- >0;)P.isOdd()&&P.iadd(L),P.iushrn(1);for(var R=0,z=1;!(M.words[0]&z)&&R<26;++R,z<<=1);if(R>0)for(M.iushrn(R);R-- >0;)S.isOdd()&&S.iadd(L),S.iushrn(1);k.cmp(M)>=0?(k.isub(M),P.isub(S)):(M.isub(k),S.isub(P))}var Q;return k.cmpn(1)===0?Q=P:Q=S,Q.cmpn(0)<0&&Q.iadd(x),Q},i.prototype.gcd=function(x){if(this.isZero())return x.abs();if(x.isZero())return this.abs();var k=this.clone(),M=x.clone();k.negative=0,M.negative=0;for(var P=0;k.isEven()&&M.isEven();P++)k.iushrn(1),M.iushrn(1);do{for(;k.isEven();)k.iushrn(1);for(;M.isEven();)M.iushrn(1);var S=k.cmp(M);if(S<0){var L=k;k=M,M=L}else if(S===0||M.cmpn(1)===0)break;k.isub(M)}while(!0);return M.iushln(P)},i.prototype.invm=function(x){return this.egcd(x).a.umod(x)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(x){return this.words[0]&x},i.prototype.bincn=function(x){r(typeof x=="number");var k=x%26,M=(x-k)/26,P=1<<k;if(this.length<=M)return this._expand(M+1),this.words[M]|=P,this;for(var S=P,L=M;S!==0&&L<this.length;L++){var V=this.words[L]|0;V+=S,S=V>>>26,V&=67108863,this.words[L]=V}return S!==0&&(this.words[L]=S,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(x){var k=x<0;if(this.negative!==0&&!k)return-1;if(this.negative===0&&k)return 1;this._strip();var M;if(this.length>1)M=1;else{k&&(x=-x),r(x<=67108863,"Number is too big");var P=this.words[0]|0;M=P===x?0:P<x?-1:1}return this.negative!==0?-M|0:M},i.prototype.cmp=function(x){if(this.negative!==0&&x.negative===0)return-1;if(this.negative===0&&x.negative!==0)return 1;var k=this.ucmp(x);return this.negative!==0?-k|0:k},i.prototype.ucmp=function(x){if(this.length>x.length)return 1;if(this.length<x.length)return-1;for(var k=0,M=this.length-1;M>=0;M--){var P=this.words[M]|0,S=x.words[M]|0;if(P!==S){P<S?k=-1:P>S&&(k=1);break}}return k},i.prototype.gtn=function(x){return this.cmpn(x)===1},i.prototype.gt=function(x){return this.cmp(x)===1},i.prototype.gten=function(x){return this.cmpn(x)>=0},i.prototype.gte=function(x){return this.cmp(x)>=0},i.prototype.ltn=function(x){return this.cmpn(x)===-1},i.prototype.lt=function(x){return this.cmp(x)===-1},i.prototype.lten=function(x){return this.cmpn(x)<=0},i.prototype.lte=function(x){return this.cmp(x)<=0},i.prototype.eqn=function(x){return this.cmpn(x)===0},i.prototype.eq=function(x){return this.cmp(x)===0},i.red=function(x){return new $(x)},i.prototype.toRed=function(x){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),x.convertTo(this)._forceRed(x)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(x){return this.red=x,this},i.prototype.forceRed=function(x){return r(!this.red,"Already a number in reduction context"),this._forceRed(x)},i.prototype.redAdd=function(x){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,x)},i.prototype.redIAdd=function(x){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,x)},i.prototype.redSub=function(x){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,x)},i.prototype.redISub=function(x){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,x)},i.prototype.redShl=function(x){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,x)},i.prototype.redMul=function(x){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,x),this.red.mul(this,x)},i.prototype.redIMul=function(x){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,x),this.red.imul(this,x)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(x){return r(this.red&&!x.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,x)};var I={k256:null,p224:null,p192:null,p25519:null};function C(j,x){this.name=j,this.p=new i(x,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}C.prototype._tmp=function(){var x=new i(null);return x.words=new Array(Math.ceil(this.n/13)),x},C.prototype.ireduce=function(x){var k=x,M;do this.split(k,this.tmp),k=this.imulK(k),k=k.iadd(this.tmp),M=k.bitLength();while(M>this.n);var P=M<this.n?-1:k.ucmp(this.p);return P===0?(k.words[0]=0,k.length=1):P>0?k.isub(this.p):k.strip!==void 0?k.strip():k._strip(),k},C.prototype.split=function(x,k){x.iushrn(this.n,0,k)},C.prototype.imulK=function(x){return x.imul(this.k)};function E(){C.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(E,C),E.prototype.split=function(x,k){for(var M=4194303,P=Math.min(x.length,9),S=0;S<P;S++)k.words[S]=x.words[S];if(k.length=P,x.length<=9){x.words[0]=0,x.length=1;return}var L=x.words[9];for(k.words[k.length++]=L&M,S=10;S<x.length;S++){var V=x.words[S]|0;x.words[S-10]=(V&M)<<4|L>>>22,L=V}L>>>=22,x.words[S-10]=L,L===0&&x.length>10?x.length-=10:x.length-=9},E.prototype.imulK=function(x){x.words[x.length]=0,x.words[x.length+1]=0,x.length+=2;for(var k=0,M=0;M<x.length;M++){var P=x.words[M]|0;k+=P*977,x.words[M]=k&67108863,k=P*64+(k/67108864|0)}return x.words[x.length-1]===0&&(x.length--,x.words[x.length-1]===0&&x.length--),x};function N(){C.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(N,C);function _(){C.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(_,C);function U(){C.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(U,C),U.prototype.imulK=function(x){for(var k=0,M=0;M<x.length;M++){var P=(x.words[M]|0)*19+k,S=P&67108863;P>>>=26,x.words[M]=S,k=P}return k!==0&&(x.words[x.length++]=k),x},i._prime=function(x){if(I[x])return I[x];var k;if(x==="k256")k=new E;else if(x==="p224")k=new N;else if(x==="p192")k=new _;else if(x==="p25519")k=new U;else throw new Error("Unknown prime "+x);return I[x]=k,k};function $(j){if(typeof j=="string"){var x=i._prime(j);this.m=x.p,this.prime=x}else r(j.gtn(1),"modulus must be greater than 1"),this.m=j,this.prime=null}$.prototype._verify1=function(x){r(x.negative===0,"red works only with positives"),r(x.red,"red works only with red numbers")},$.prototype._verify2=function(x,k){r((x.negative|k.negative)===0,"red works only with positives"),r(x.red&&x.red===k.red,"red works only with red numbers")},$.prototype.imod=function(x){return this.prime?this.prime.ireduce(x)._forceRed(this):(d(x,x.umod(this.m)._forceRed(this)),x)},$.prototype.neg=function(x){return x.isZero()?x.clone():this.m.sub(x)._forceRed(this)},$.prototype.add=function(x,k){this._verify2(x,k);var M=x.add(k);return M.cmp(this.m)>=0&&M.isub(this.m),M._forceRed(this)},$.prototype.iadd=function(x,k){this._verify2(x,k);var M=x.iadd(k);return M.cmp(this.m)>=0&&M.isub(this.m),M},$.prototype.sub=function(x,k){this._verify2(x,k);var M=x.sub(k);return M.cmpn(0)<0&&M.iadd(this.m),M._forceRed(this)},$.prototype.isub=function(x,k){this._verify2(x,k);var M=x.isub(k);return M.cmpn(0)<0&&M.iadd(this.m),M},$.prototype.shl=function(x,k){return this._verify1(x),this.imod(x.ushln(k))},$.prototype.imul=function(x,k){return this._verify2(x,k),this.imod(x.imul(k))},$.prototype.mul=function(x,k){return this._verify2(x,k),this.imod(x.mul(k))},$.prototype.isqr=function(x){return this.imul(x,x.clone())},$.prototype.sqr=function(x){return this.mul(x,x)},$.prototype.sqrt=function(x){if(x.isZero())return x.clone();var k=this.m.andln(3);if(r(k%2===1),k===3){var M=this.m.add(new i(1)).iushrn(2);return this.pow(x,M)}for(var P=this.m.subn(1),S=0;!P.isZero()&&P.andln(1)===0;)S++,P.iushrn(1);r(!P.isZero());var L=new i(1).toRed(this),V=L.redNeg(),F=this.m.subn(1).iushrn(1),R=this.m.bitLength();for(R=new i(2*R*R).toRed(this);this.pow(R,F).cmp(V)!==0;)R.redIAdd(V);for(var z=this.pow(R,P),Q=this.pow(x,P.addn(1).iushrn(1)),O=this.pow(x,P),H=S;O.cmp(L)!==0;){for(var Y=O,G=0;Y.cmp(L)!==0;G++)Y=Y.redSqr();r(G<H);var Z=this.pow(z,new i(1).iushln(H-G-1));Q=Q.redMul(Z),z=Z.redSqr(),O=O.redMul(z),H=G}return Q},$.prototype.invm=function(x){var k=x._invmp(this.m);return k.negative!==0?(k.negative=0,this.imod(k).redNeg()):this.imod(k)},$.prototype.pow=function(x,k){if(k.isZero())return new i(1).toRed(this);if(k.cmpn(1)===0)return x.clone();var M=4,P=new Array(1<<M);P[0]=new i(1).toRed(this),P[1]=x;for(var S=2;S<P.length;S++)P[S]=this.mul(P[S-1],x);var L=P[0],V=0,F=0,R=k.bitLength()%26;for(R===0&&(R=26),S=k.length-1;S>=0;S--){for(var z=k.words[S],Q=R-1;Q>=0;Q--){var O=z>>Q&1;if(L!==P[0]&&(L=this.sqr(L)),O===0&&V===0){F=0;continue}V<<=1,V|=O,F++,!(F!==M&&(S!==0||Q!==0))&&(L=this.mul(L,P[V]),F=0,V=0)}R=26}return L},$.prototype.convertTo=function(x){var k=x.umod(this.m);return k===x?k.clone():k},$.prototype.convertFrom=function(x){var k=x.clone();return k.red=null,k},i.mont=function(x){return new B(x)};function B(j){$.call(this,j),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(B,$),B.prototype.convertTo=function(x){return this.imod(x.ushln(this.shift))},B.prototype.convertFrom=function(x){var k=this.imod(x.mul(this.rinv));return k.red=null,k},B.prototype.imul=function(x,k){if(x.isZero()||k.isZero())return x.words[0]=0,x.length=1,x;var M=x.imul(k),P=M.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=M.isub(P).iushrn(this.shift),L=S;return S.cmp(this.m)>=0?L=S.isub(this.m):S.cmpn(0)<0&&(L=S.iadd(this.m)),L._forceRed(this)},B.prototype.mul=function(x,k){if(x.isZero()||k.isZero())return new i(0)._forceRed(this);var M=x.mul(k),P=M.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=M.isub(P).iushrn(this.shift),L=S;return S.cmp(this.m)>=0?L=S.isub(this.m):S.cmpn(0)<0&&(L=S.iadd(this.m)),L._forceRed(this)},B.prototype.invm=function(x){var k=this.imod(x._invmp(this.m).mul(this.r2));return k._forceRed(this)}})(t,PF)})(BR);var Ebe=BR.exports;const Ct=tf(Ebe),Nbe="logger/5.8.0";let D_=!1,__=!1;const Dw={debug:1,default:2,info:2,warning:3,error:4,off:5};let L_=Dw.default,xI=null;function Sbe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const O_=Sbe();var K6;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(K6||(K6={}));var _a;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(_a||(_a={}));const $_="0123456789abcdef";let oe=class xr{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,n){const r=e.toLowerCase();Dw[r]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(L_>Dw[r])&&console.log.apply(console,n)}debug(...e){this._log(xr.levels.DEBUG,e)}info(...e){this._log(xr.levels.INFO,e)}warn(...e){this._log(xr.levels.WARNING,e)}makeError(e,n,r){if(__)return this.makeError("censored error",n,{});n||(n=xr.errors.UNKNOWN_ERROR),r||(r={});const s=[];Object.keys(r).forEach(l=>{const u=r[l];try{if(u instanceof Uint8Array){let d="";for(let p=0;p<u.length;p++)d+=$_[u[p]>>4],d+=$_[u[p]&15];s.push(l+"=Uint8Array(0x"+d+")")}else s.push(l+"="+JSON.stringify(u))}catch{s.push(l+"="+JSON.stringify(r[l].toString()))}}),s.push(`code=${n}`),s.push(`version=${this.version}`);const i=e;let a="";switch(n){case _a.NUMERIC_FAULT:{a="NUMERIC_FAULT";const l=e;switch(l){case"overflow":case"underflow":case"division-by-zero":a+="-"+l;break;case"negative-power":case"negative-width":a+="-unsupported";break;case"unbound-bitwise-result":a+="-unbound-result";break}break}case _a.CALL_EXCEPTION:case _a.INSUFFICIENT_FUNDS:case _a.MISSING_NEW:case _a.NONCE_EXPIRED:case _a.REPLACEMENT_UNDERPRICED:case _a.TRANSACTION_REPLACED:case _a.UNPREDICTABLE_GAS_LIMIT:a=n;break}a&&(e+=" [ See: https://links.ethers.org/v5-errors-"+a+" ]"),s.length&&(e+=" ("+s.join(", ")+")");const o=new Error(e);return o.reason=i,o.code=n,Object.keys(r).forEach(function(l){o[l]=r[l]}),o}throwError(e,n,r){throw this.makeError(e,n,r)}throwArgumentError(e,n,r){return this.throwError(e,xr.errors.INVALID_ARGUMENT,{argument:n,value:r})}assert(e,n,r,s){e||this.throwError(n,r,s)}assertArgument(e,n,r,s){e||this.throwArgumentError(n,r,s)}checkNormalize(e){O_&&this.throwError("platform missing String.prototype.normalize",xr.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:O_})}checkSafeUint53(e,n){typeof e=="number"&&(n==null&&(n="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(n,xr.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(n,xr.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,n,r){r?r=": "+r:r="",e<n&&this.throwError("missing argument"+r,xr.errors.MISSING_ARGUMENT,{count:e,expectedCount:n}),e>n&&this.throwError("too many arguments"+r,xr.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:n})}checkNew(e,n){(e===Object||e==null)&&this.throwError("missing new",xr.errors.MISSING_NEW,{name:n.name})}checkAbstract(e,n){e===n?this.throwError("cannot instantiate abstract class "+JSON.stringify(n.name)+" directly; use a sub-class",xr.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",xr.errors.MISSING_NEW,{name:n.name})}static globalLogger(){return xI||(xI=new xr(Nbe)),xI}static setCensorship(e,n){if(!e&&n&&this.globalLogger().throwError("cannot permanently disable censorship",xr.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),D_){if(!e)return;this.globalLogger().throwError("error censorship permanent",xr.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}__=!!e,D_=!!n}static setLogLevel(e){const n=Dw[e.toLowerCase()];if(n==null){xr.globalLogger().warn("invalid log level - "+e);return}L_=n}static from(e){return new xr(e)}};oe.errors=_a;oe.levels=K6;const Rbe="bytes/5.8.0",Yn=new oe(Rbe);function hG(t){return!!t.toHexString}function ph(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return ph(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function FT(t){return sn(t)&&!(t.length%2)||af(t)}function F_(t){return typeof t=="number"&&t==t&&t%1===0}function af(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!F_(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const n=t[e];if(!F_(n)||n<0||n>=256)return!1}return!0}function it(t,e){if(e||(e={}),typeof t=="number"){Yn.checkSafeUint53(t,"invalid arrayify value");const n=[];for(;t;)n.unshift(t&255),t=parseInt(String(t/256));return n.length===0&&n.push(0),ph(new Uint8Array(n))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),hG(t)&&(t=t.toHexString()),sn(t)){let n=t.substring(2);n.length%2&&(e.hexPad==="left"?n="0"+n:e.hexPad==="right"?n+="0":Yn.throwArgumentError("hex data is odd-length","value",t));const r=[];for(let s=0;s<n.length;s+=2)r.push(parseInt(n.substring(s,s+2),16));return ph(new Uint8Array(r))}return af(t)?ph(new Uint8Array(t)):Yn.throwArgumentError("invalid arrayify value","value",t)}function Bs(t){const e=t.map(s=>it(s)),n=e.reduce((s,i)=>s+i.length,0),r=new Uint8Array(n);return e.reduce((s,i)=>(r.set(i,s),s+i.length),0),ph(r)}function nc(t){let e=it(t);if(e.length===0)return e;let n=0;for(;n<e.length&&e[n]===0;)n++;return n&&(e=e.slice(n)),e}function Mbe(t,e){t=it(t),t.length>e&&Yn.throwArgumentError("value out of range","value",arguments[0]);const n=new Uint8Array(e);return n.set(t,e-t.length),ph(n)}function sn(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const TI="0123456789abcdef";function Qe(t,e){if(e||(e={}),typeof t=="number"){Yn.checkSafeUint53(t,"invalid hexlify value");let n="";for(;t;)n=TI[t&15]+n,t=Math.floor(t/16);return n.length?(n.length%2&&(n="0"+n),"0x"+n):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),hG(t))return t.toHexString();if(sn(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":Yn.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(af(t)){let n="0x";for(let r=0;r<t.length;r++){let s=t[r];n+=TI[(s&240)>>4]+TI[s&15]}return n}return Yn.throwArgumentError("invalid hexlify value","value",t)}function $p(t){if(typeof t!="string")t=Qe(t);else if(!sn(t)||t.length%2)return null;return(t.length-2)/2}function fs(t,e,n){return typeof t!="string"?t=Qe(t):(!sn(t)||t.length%2)&&Yn.throwArgumentError("invalid hexData","value",t),e=2+2*e,n!=null?"0x"+t.substring(e,2+2*n):"0x"+t.substring(e)}function si(t){let e="0x";return t.forEach(n=>{e+=Qe(n).substring(2)}),e}function UR(t){const e=Pbe(Qe(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function Pbe(t){typeof t!="string"&&(t=Qe(t)),sn(t)||Yn.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function _n(t,e){for(typeof t!="string"?t=Qe(t):sn(t)||Yn.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&Yn.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function Sm(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(FT(t)){let n=it(t);n.length===64?(e.v=27+(n[32]>>7),n[32]&=127,e.r=Qe(n.slice(0,32)),e.s=Qe(n.slice(32,64))):n.length===65?(e.r=Qe(n.slice(0,32)),e.s=Qe(n.slice(32,64)),e.v=n[64]):Yn.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:Yn.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(n[32]|=128),e._vs=Qe(n.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const s=Mbe(it(e._vs),32);e._vs=Qe(s);const i=s[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=i:e.recoveryParam!==i&&Yn.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),s[0]&=127;const a=Qe(s);e.s==null?e.s=a:e.s!==a&&Yn.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?Yn.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const s=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==s&&Yn.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!sn(e.r)?Yn.throwArgumentError("signature missing or invalid r","signature",t):e.r=_n(e.r,32),e.s==null||!sn(e.s)?Yn.throwArgumentError("signature missing or invalid s","signature",t):e.s=_n(e.s,32);const n=it(e.s);n[0]>=128&&Yn.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(n[0]|=128);const r=Qe(n);e._vs&&(sn(e._vs)||Yn.throwArgumentError("signature invalid _vs","signature",t),e._vs=_n(e._vs,32)),e._vs==null?e._vs=r:e._vs!==r&&Yn.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function w9e(t){return t=Sm(t),Qe(Bs([t.r,t.s,t.recoveryParam?"0x1c":"0x1b"]))}const mG="bignumber/5.8.0";var e1=Ct.BN;const Ml=new oe(mG),AI={},B_=9007199254740991;function jbe(t){return t!=null&&(ze.isBigNumber(t)||typeof t=="number"&&t%1===0||typeof t=="string"&&!!t.match(/^-?[0-9]+$/)||sn(t)||typeof t=="bigint"||af(t))}let U_=!1,ze=class Sa{constructor(e,n){e!==AI&&Ml.throwError("cannot call constructor directly; use BigNumber.from",oe.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=n,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return Ks(qt(this).fromTwos(e))}toTwos(e){return Ks(qt(this).toTwos(e))}abs(){return this._hex[0]==="-"?Sa.from(this._hex.substring(1)):this}add(e){return Ks(qt(this).add(qt(e)))}sub(e){return Ks(qt(this).sub(qt(e)))}div(e){return Sa.from(e).isZero()&&qi("division-by-zero","div"),Ks(qt(this).div(qt(e)))}mul(e){return Ks(qt(this).mul(qt(e)))}mod(e){const n=qt(e);return n.isNeg()&&qi("division-by-zero","mod"),Ks(qt(this).umod(n))}pow(e){const n=qt(e);return n.isNeg()&&qi("negative-power","pow"),Ks(qt(this).pow(n))}and(e){const n=qt(e);return(this.isNegative()||n.isNeg())&&qi("unbound-bitwise-result","and"),Ks(qt(this).and(n))}or(e){const n=qt(e);return(this.isNegative()||n.isNeg())&&qi("unbound-bitwise-result","or"),Ks(qt(this).or(n))}xor(e){const n=qt(e);return(this.isNegative()||n.isNeg())&&qi("unbound-bitwise-result","xor"),Ks(qt(this).xor(n))}mask(e){return(this.isNegative()||e<0)&&qi("negative-width","mask"),Ks(qt(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&qi("negative-width","shl"),Ks(qt(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&qi("negative-width","shr"),Ks(qt(this).shrn(e))}eq(e){return qt(this).eq(qt(e))}lt(e){return qt(this).lt(qt(e))}lte(e){return qt(this).lte(qt(e))}gt(e){return qt(this).gt(qt(e))}gte(e){return qt(this).gte(qt(e))}isNegative(){return this._hex[0]==="-"}isZero(){return qt(this).isZero()}toNumber(){try{return qt(this).toNumber()}catch{qi("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Ml.throwError("this platform does not support BigInt",oe.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?U_||(U_=!0,Ml.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Ml.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",oe.errors.UNEXPECTED_ARGUMENT,{}):Ml.throwError("BigNumber.toString does not accept parameters",oe.errors.UNEXPECTED_ARGUMENT,{})),qt(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof Sa)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new Sa(AI,s0(e)):e.match(/^-?[0-9]+$/)?new Sa(AI,s0(new e1(e))):Ml.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&qi("underflow","BigNumber.from",e),(e>=B_||e<=-B_)&&qi("overflow","BigNumber.from",e),Sa.from(String(e));const n=e;if(typeof n=="bigint")return Sa.from(n.toString());if(af(n))return Sa.from(Qe(n));if(n)if(n.toHexString){const r=n.toHexString();if(typeof r=="string")return Sa.from(r)}else{let r=n._hex;if(r==null&&n.type==="BigNumber"&&(r=n.hex),typeof r=="string"&&(sn(r)||r[0]==="-"&&sn(r.substring(1))))return Sa.from(r)}return Ml.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}};function s0(t){if(typeof t!="string")return s0(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&Ml.throwArgumentError("invalid hex","value",t),t=s0(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function Ks(t){return ze.from(s0(t))}function qt(t){const e=ze.from(t).toHexString();return e[0]==="-"?new e1("-"+e.substring(3),16):new e1(e.substring(2),16)}function qi(t,e,n){const r={fault:t,operation:e};return n!=null&&(r.value=n),Ml.throwError(t,oe.errors.NUMERIC_FAULT,r)}function Dbe(t){return new e1(t,36).toString(16)}const _s=new oe(mG),cg={},yG=ze.from(0),gG=ze.from(-1);function vG(t,e,n,r){const s={fault:e,operation:n};return r!==void 0&&(s.value=r),_s.throwError(t,oe.errors.NUMERIC_FAULT,s)}let ug="0";for(;ug.length<256;)ug+=ug;function zR(t){if(typeof t!="number")try{t=ze.from(t).toNumber()}catch{}return typeof t=="number"&&t>=0&&t<=256&&!(t%1)?"1"+ug.substring(0,t):_s.throwArgumentError("invalid decimal size","decimals",t)}function _w(t,e){e==null&&(e=0);const n=zR(e);t=ze.from(t);const r=t.lt(yG);r&&(t=t.mul(gG));let s=t.mod(n).toString();for(;s.length<n.length-1;)s="0"+s;s=s.match(/^([0-9]*[1-9]|0)(0*)/)[1];const i=t.div(n).toString();return n.length===1?t=i:t=i+"."+s,r&&(t="-"+t),t}function Io(t,e){e==null&&(e=0);const n=zR(e);(typeof t!="string"||!t.match(/^-?[0-9.]+$/))&&_s.throwArgumentError("invalid decimal value","value",t);const r=t.substring(0,1)==="-";r&&(t=t.substring(1)),t==="."&&_s.throwArgumentError("missing value","value",t);const s=t.split(".");s.length>2&&_s.throwArgumentError("too many decimal points","value",t);let i=s[0],a=s[1];for(i||(i="0"),a||(a="0");a[a.length-1]==="0";)a=a.substring(0,a.length-1);for(a.length>n.length-1&&vG("fractional component exceeds decimals","underflow","parseFixed"),a===""&&(a="0");a.length<n.length-1;)a+="0";const o=ze.from(i),l=ze.from(a);let u=o.mul(n).add(l);return r&&(u=u.mul(gG)),u}class fh{constructor(e,n,r,s){e!==cg&&_s.throwError("cannot use FixedFormat constructor; use FixedFormat.from",oe.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=n,this.width=r,this.decimals=s,this.name=(n?"":"u")+"fixed"+String(r)+"x"+String(s),this._multiplier=zR(s),Object.freeze(this)}static from(e){if(e instanceof fh)return e;typeof e=="number"&&(e=`fixed128x${e}`);let n=!0,r=128,s=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")n=!1;else{const i=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);i||_s.throwArgumentError("invalid fixed format","format",e),n=i[1]!=="u",r=parseInt(i[2]),s=parseInt(i[3])}}else if(e){const i=(a,o,l)=>e[a]==null?l:(typeof e[a]!==o&&_s.throwArgumentError("invalid fixed format ("+a+" not "+o+")","format."+a,e[a]),e[a]);n=i("signed","boolean",n),r=i("width","number",r),s=i("decimals","number",s)}return r%8&&_s.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",r),s>80&&_s.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",s),new fh(cg,n,r,s)}}class Kr{constructor(e,n,r,s){e!==cg&&_s.throwError("cannot use FixedNumber constructor; use FixedNumber.from",oe.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=s,this._hex=n,this._value=r,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&_s.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const n=Io(this._value,this.format.decimals),r=Io(e._value,e.format.decimals);return Kr.fromValue(n.add(r),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const n=Io(this._value,this.format.decimals),r=Io(e._value,e.format.decimals);return Kr.fromValue(n.sub(r),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const n=Io(this._value,this.format.decimals),r=Io(e._value,e.format.decimals);return Kr.fromValue(n.mul(r).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const n=Io(this._value,this.format.decimals),r=Io(e._value,e.format.decimals);return Kr.fromValue(n.mul(this.format._multiplier).div(r),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let n=Kr.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);return this.isNegative()&&r&&(n=n.subUnsafe(z_.toFormat(n.format))),n}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let n=Kr.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);return!this.isNegative()&&r&&(n=n.addUnsafe(z_.toFormat(n.format))),n}round(e){e==null&&(e=0);const n=this.toString().split(".");if(n.length===1&&n.push("0"),(e<0||e>80||e%1)&&_s.throwArgumentError("invalid decimal count","decimals",e),n[1].length<=e)return this;const r=Kr.from("1"+ug.substring(0,e),this.format),s=_be.toFormat(this.format);return this.mulUnsafe(r).addUnsafe(s).floor().divUnsafe(r)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&_s.throwArgumentError("invalid byte width","width",e);const n=ze.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return _n(n,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return Kr.fromString(this._value,e)}static fromValue(e,n,r){return r==null&&n!=null&&!jbe(n)&&(r=n,n=null),n==null&&(n=0),r==null&&(r="fixed"),Kr.fromString(_w(e,n),fh.from(r))}static fromString(e,n){n==null&&(n="fixed");const r=fh.from(n),s=Io(e,r.decimals);!r.signed&&s.lt(yG)&&vG("unsigned value cannot be negative","overflow","value",e);let i=null;r.signed?i=s.toTwos(r.width).toHexString():(i=s.toHexString(),i=_n(i,r.width/8));const a=_w(s,r.decimals);return new Kr(cg,i,a,r)}static fromBytes(e,n){n==null&&(n="fixed");const r=fh.from(n);if(it(e).length>r.width/8)throw new Error("overflow");let s=ze.from(e);r.signed&&(s=s.fromTwos(r.width));const i=s.toTwos((r.signed?0:1)+r.width).toHexString(),a=_w(s,r.decimals);return new Kr(cg,i,a,r)}static from(e,n){if(typeof e=="string")return Kr.fromString(e,n);if(af(e))return Kr.fromBytes(e,n);try{return Kr.fromValue(e,0,n)}catch(r){if(r.code!==oe.errors.INVALID_ARGUMENT)throw r}return _s.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const z_=Kr.from(1),_be=Kr.from("0.5"),Lbe="properties/5.8.0";var Obe=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(d){try{u(r.next(d))}catch(p){a(p)}}function l(d){try{u(r.throw(d))}catch(p){a(p)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((r=r.apply(t,e||[])).next())})};const t1=new oe(Lbe);function Pe(t,e,n){Object.defineProperty(t,e,{enumerable:!0,value:n,writable:!1})}function _i(t,e){for(let n=0;n<32;n++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function pr(t){return Obe(this,void 0,void 0,function*(){const e=Object.keys(t).map(r=>{const s=t[r];return Promise.resolve(s).then(i=>({key:r,value:i}))});return(yield Promise.all(e)).reduce((r,s)=>(r[s.key]=s.value,r),{})})}function bG(t,e){(!t||typeof t!="object")&&t1.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(n=>{e[n]||t1.throwArgumentError("invalid object key - "+n,"transaction:"+n,t)})}function vr(t){const e={};for(const n in t)e[n]=t[n];return e}const $be={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function wG(t){if(t==null||$be[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let n=0;n<e.length;n++){let r=null;try{r=t[e[n]]}catch{continue}if(!wG(r))return!1}return!0}return t1.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function Fbe(t){if(wG(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>Tc(e)));if(typeof t=="object"){const e={};for(const n in t){const r=t[n];r!==void 0&&Pe(e,n,Tc(r))}return e}return t1.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function Tc(t){return Fbe(t)}let Av=class{constructor(e){for(const n in e)this[n]=Tc(e[n])}};const Iv="abi/5.8.0",en=new oe(Iv),Fp={};let V_={calldata:!0,memory:!0,storage:!0},Bbe={calldata:!0,memory:!0};function Cb(t,e){if(t==="bytes"||t==="string"){if(V_[e])return!0}else if(t==="address"){if(e==="payable")return!0}else if((t.indexOf("[")>=0||t==="tuple")&&Bbe[e])return!0;return(V_[e]||e==="payable")&&en.throwArgumentError("invalid modifier","name",e),!1}function Ube(t,e){let n=t;function r(o){en.throwArgumentError(`unexpected character at position ${o}`,"param",t)}t=t.replace(/\s/g," ");function s(o){let l={type:"",name:"",parent:o,state:{allowType:!0}};return e&&(l.indexed=!1),l}let i={type:"",name:"",state:{allowType:!0}},a=i;for(let o=0;o<t.length;o++){let l=t[o];switch(l){case"(":a.state.allowType&&a.type===""?a.type="tuple":a.state.allowParams||r(o),a.state.allowType=!1,a.type=kf(a.type),a.components=[s(a)],a=a.components[0];break;case")":delete a.state,a.name==="indexed"&&(e||r(o),a.indexed=!0,a.name=""),Cb(a.type,a.name)&&(a.name=""),a.type=kf(a.type);let u=a;a=a.parent,a||r(o),delete u.parent,a.state.allowParams=!1,a.state.allowName=!0,a.state.allowArray=!0;break;case",":delete a.state,a.name==="indexed"&&(e||r(o),a.indexed=!0,a.name=""),Cb(a.type,a.name)&&(a.name=""),a.type=kf(a.type);let d=s(a.parent);a.parent.components.push(d),delete a.parent,a=d;break;case" ":a.state.allowType&&a.type!==""&&(a.type=kf(a.type),delete a.state.allowType,a.state.allowName=!0,a.state.allowParams=!0),a.state.allowName&&a.name!==""&&(a.name==="indexed"?(e||r(o),a.indexed&&r(o),a.indexed=!0,a.name=""):Cb(a.type,a.name)?a.name="":a.state.allowName=!1);break;case"[":a.state.allowArray||r(o),a.type+=l,a.state.allowArray=!1,a.state.allowName=!1,a.state.readArray=!0;break;case"]":a.state.readArray||r(o),a.type+=l,a.state.readArray=!1,a.state.allowArray=!0,a.state.allowName=!0;break;default:a.state.allowType?(a.type+=l,a.state.allowParams=!0,a.state.allowArray=!0):a.state.allowName?(a.name+=l,delete a.state.allowArray):a.state.readArray?a.type+=l:r(o)}}return a.parent&&en.throwArgumentError("unexpected eof","param",t),delete i.state,a.name==="indexed"?(e||r(n.length-7),a.indexed&&r(n.length-7),a.indexed=!0,a.name=""):Cb(a.type,a.name)&&(a.name=""),i.type=kf(i.type),i}function Lw(t,e){for(let n in e)Pe(t,n,e[n])}const on=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),zbe=new RegExp(/^(.*)\[([0-9]*)\]$/);class Br{constructor(e,n){e!==Fp&&en.throwError("use fromString",oe.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),Lw(this,n);let r=this.type.match(zbe);r?Lw(this,{arrayLength:parseInt(r[2]||"-1"),arrayChildren:Br.fromObject({type:r[1],components:this.components}),baseType:"array"}):Lw(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=on.sighash),on[e]||en.throwArgumentError("invalid format type","format",e),e===on.json){let r={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(r.indexed=this.indexed),this.components&&(r.components=this.components.map(s=>JSON.parse(s.format(e)))),JSON.stringify(r)}let n="";return this.baseType==="array"?(n+=this.arrayChildren.format(e),n+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==on.sighash&&(n+=this.type),n+="("+this.components.map(r=>r.format(e)).join(e===on.full?", ":",")+")"):n+=this.type,e!==on.sighash&&(this.indexed===!0&&(n+=" indexed"),e===on.full&&this.name&&(n+=" "+this.name)),n}static from(e,n){return typeof e=="string"?Br.fromString(e,n):Br.fromObject(e)}static fromObject(e){return Br.isParamType(e)?e:new Br(Fp,{name:e.name||null,type:kf(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(Br.fromObject):null})}static fromString(e,n){function r(s){return Br.fromObject({name:s.name,type:s.type,indexed:s.indexed,components:s.components})}return r(Ube(e,!!n))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function i0(t,e){return Hbe(t).map(n=>Br.fromString(n,e))}class Yl{constructor(e,n){e!==Fp&&en.throwError("use a static from method",oe.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),Lw(this,n),this._isFragment=!0,Object.freeze(this)}static from(e){return Yl.isFragment(e)?e:typeof e=="string"?Yl.fromString(e):Yl.fromObject(e)}static fromObject(e){if(Yl.isFragment(e))return e;switch(e.type){case"function":return Fo.fromObject(e);case"event":return Ul.fromObject(e);case"constructor":return $o.fromObject(e);case"error":return au.fromObject(e);case"fallback":case"receive":return null}return en.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?Ul.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?Fo.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?$o.fromString(e.trim()):e.split(" ")[0]==="error"?au.fromString(e.substring(5).trim()):en.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class Ul extends Yl{format(e){if(e||(e=on.sighash),on[e]||en.throwArgumentError("invalid format type","format",e),e===on.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});let n="";return e!==on.sighash&&(n+="event "),n+=this.name+"("+this.inputs.map(r=>r.format(e)).join(e===on.full?", ":",")+") ",e!==on.sighash&&this.anonymous&&(n+="anonymous "),n.trim()}static from(e){return typeof e=="string"?Ul.fromString(e):Ul.fromObject(e)}static fromObject(e){if(Ul.isEventFragment(e))return e;e.type!=="event"&&en.throwArgumentError("invalid event object","value",e);const n={name:a0(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(Br.fromObject):[],type:"event"};return new Ul(Fp,n)}static fromString(e){let n=e.match(o0);n||en.throwArgumentError("invalid event string","value",e);let r=!1;return n[3].split(" ").forEach(s=>{switch(s.trim()){case"anonymous":r=!0;break;case"":break;default:en.warn("unknown modifier: "+s)}}),Ul.fromObject({name:n[1].trim(),anonymous:r,inputs:i0(n[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function xG(t,e){e.gas=null;let n=t.split("@");return n.length!==1?(n.length>2&&en.throwArgumentError("invalid human-readable ABI signature","value",t),n[1].match(/^[0-9]+$/)||en.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=ze.from(n[1]),n[0]):t}function TG(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach(n=>{switch(n.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+n)}})}function AG(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return t.stateMutability!=null?(e.stateMutability=t.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",t.constant!=null&&!!t.constant!==e.constant&&en.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable=e.stateMutability==="payable",t.payable!=null&&!!t.payable!==e.payable&&en.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):t.payable!=null?(e.payable=!!t.payable,t.constant==null&&!e.payable&&t.type!=="constructor"&&en.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&en.throwArgumentError("cannot have constant payable function","value",t)):t.constant!=null?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):t.type!=="constructor"&&en.throwArgumentError("unable to determine stateMutability","value",t),e}class $o extends Yl{format(e){if(e||(e=on.sighash),on[e]||en.throwArgumentError("invalid format type","format",e),e===on.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});e===on.sighash&&en.throwError("cannot format a constructor for sighash",oe.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let n="constructor("+this.inputs.map(r=>r.format(e)).join(e===on.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(n+=this.stateMutability+" "),n.trim()}static from(e){return typeof e=="string"?$o.fromString(e):$o.fromObject(e)}static fromObject(e){if($o.isConstructorFragment(e))return e;e.type!=="constructor"&&en.throwArgumentError("invalid constructor object","value",e);let n=AG(e);n.constant&&en.throwArgumentError("constructor cannot be constant","value",e);const r={name:null,type:e.type,inputs:e.inputs?e.inputs.map(Br.fromObject):[],payable:n.payable,stateMutability:n.stateMutability,gas:e.gas?ze.from(e.gas):null};return new $o(Fp,r)}static fromString(e){let n={type:"constructor"};e=xG(e,n);let r=e.match(o0);return(!r||r[1].trim()!=="constructor")&&en.throwArgumentError("invalid constructor string","value",e),n.inputs=i0(r[2].trim(),!1),TG(r[3].trim(),n),$o.fromObject(n)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class Fo extends $o{format(e){if(e||(e=on.sighash),on[e]||en.throwArgumentError("invalid format type","format",e),e===on.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(r=>JSON.parse(r.format(e))),outputs:this.outputs.map(r=>JSON.parse(r.format(e)))});let n="";return e!==on.sighash&&(n+="function "),n+=this.name+"("+this.inputs.map(r=>r.format(e)).join(e===on.full?", ":",")+") ",e!==on.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(n+=this.stateMutability+" "):this.constant&&(n+="view "),this.outputs&&this.outputs.length&&(n+="returns ("+this.outputs.map(r=>r.format(e)).join(", ")+") "),this.gas!=null&&(n+="@"+this.gas.toString()+" ")),n.trim()}static from(e){return typeof e=="string"?Fo.fromString(e):Fo.fromObject(e)}static fromObject(e){if(Fo.isFunctionFragment(e))return e;e.type!=="function"&&en.throwArgumentError("invalid function object","value",e);let n=AG(e);const r={type:e.type,name:a0(e.name),constant:n.constant,inputs:e.inputs?e.inputs.map(Br.fromObject):[],outputs:e.outputs?e.outputs.map(Br.fromObject):[],payable:n.payable,stateMutability:n.stateMutability,gas:e.gas?ze.from(e.gas):null};return new Fo(Fp,r)}static fromString(e){let n={type:"function"};e=xG(e,n);let r=e.split(" returns ");r.length>2&&en.throwArgumentError("invalid function string","value",e);let s=r[0].match(o0);if(s||en.throwArgumentError("invalid function signature","value",e),n.name=s[1].trim(),n.name&&a0(n.name),n.inputs=i0(s[2],!1),TG(s[3].trim(),n),r.length>1){let i=r[1].match(o0);(i[1].trim()!=""||i[3].trim()!="")&&en.throwArgumentError("unexpected tokens","value",e),n.outputs=i0(i[2],!1)}else n.outputs=[];return Fo.fromObject(n)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function H_(t){const e=t.format();return(e==="Error(string)"||e==="Panic(uint256)")&&en.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",t),t}class au extends Yl{format(e){if(e||(e=on.sighash),on[e]||en.throwArgumentError("invalid format type","format",e),e===on.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});let n="";return e!==on.sighash&&(n+="error "),n+=this.name+"("+this.inputs.map(r=>r.format(e)).join(e===on.full?", ":",")+") ",n.trim()}static from(e){return typeof e=="string"?au.fromString(e):au.fromObject(e)}static fromObject(e){if(au.isErrorFragment(e))return e;e.type!=="error"&&en.throwArgumentError("invalid error object","value",e);const n={type:e.type,name:a0(e.name),inputs:e.inputs?e.inputs.map(Br.fromObject):[]};return H_(new au(Fp,n))}static fromString(e){let n={type:"error"},r=e.match(o0);return r||en.throwArgumentError("invalid error signature","value",e),n.name=r[1].trim(),n.name&&a0(n.name),n.inputs=i0(r[2],!1),H_(au.fromObject(n))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}function kf(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}const Vbe=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function a0(t){return(!t||!t.match(Vbe))&&en.throwArgumentError(`invalid identifier "${t}"`,"value",t),t}const o0=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function Hbe(t){t=t.trim();let e=[],n="",r=0;for(let s=0;s<t.length;s++){let i=t[s];i===","&&r===0?(e.push(n),n=""):(n+=i,i==="("?r++:i===")"&&(r--,r===-1&&en.throwArgumentError("unbalanced parenthesis","value",t)))}return n&&e.push(n),e}const VR=new oe(Iv);function Wbe(t){const e=[],n=function(r,s){if(Array.isArray(s))for(let i in s){const a=r.slice();a.push(i);try{n(a,s[i])}catch(o){e.push({path:a,error:o})}}};return n([],t),e}class jc{constructor(e,n,r,s){this.name=e,this.type=n,this.localName=r,this.dynamic=s}_throwError(e,n){VR.throwArgumentError(e,this.localName,n)}}class Y6{constructor(e){Pe(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return si(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(Bs(e._data))}writeBytes(e){let n=it(e);const r=n.length%this.wordSize;return r&&(n=Bs([n,this._padding.slice(r)])),this._writeData(n)}_getValue(e){let n=it(ze.from(e));return n.length>this.wordSize&&VR.throwError("value out-of-bounds",oe.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:n.length}),n.length%this.wordSize&&(n=Bs([this._padding.slice(n.length%this.wordSize),n])),n}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,n=>{this._data[e]=this._getValue(n)}}}class n1{constructor(e,n,r,s){Pe(this,"_data",it(e)),Pe(this,"wordSize",n||32),Pe(this,"_coerceFunc",r),Pe(this,"allowLoose",s),this._offset=0}get data(){return Qe(this._data)}get consumed(){return this._offset}static coerce(e,n){let r=e.match("^u?int([0-9]+)$");return r&&parseInt(r[1])<=48&&(n=n.toNumber()),n}coerce(e,n){return this._coerceFunc?this._coerceFunc(e,n):n1.coerce(e,n)}_peekBytes(e,n,r){let s=Math.ceil(n/this.wordSize)*this.wordSize;return this._offset+s>this._data.length&&(this.allowLoose&&r&&this._offset+n<=this._data.length?s=n:VR.throwError("data out-of-bounds",oe.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+s})),this._data.slice(this._offset,this._offset+s)}subReader(e){return new n1(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,n){let r=this._peekBytes(0,e,!!n);return this._offset+=r.length,r.slice(0,e)}readValue(){return ze.from(this.readBytes(this.wordSize))}}var IG={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(t){(function(){var e="input is invalid type",n="finalize already called",r=typeof window=="object",s=r?window:{};s.JS_SHA3_NO_WINDOW&&(r=!1);var i=!r&&typeof self=="object",a=!s.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;a?s=PF:i&&(s=self);var o=!s.JS_SHA3_NO_COMMON_JS&&!0&&t.exports,l=!s.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",u="0123456789abcdef".split(""),d=[31,7936,2031616,520093696],p=[4,1024,262144,67108864],f=[1,256,65536,16777216],h=[6,1536,393216,100663296],y=[0,8,16,24],m=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],g=[224,256,384,512],v=[128,256],b=["hex","buffer","arrayBuffer","array","digest"],w={128:168,256:136};(s.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(O){return Object.prototype.toString.call(O)==="[object Array]"}),l&&(s.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(O){return typeof O=="object"&&O.buffer&&O.buffer.constructor===ArrayBuffer});for(var A=function(O,H,Y){return function(G){return new R(O,H,O).update(G)[Y]()}},I=function(O,H,Y){return function(G,Z){return new R(O,H,Z).update(G)[Y]()}},C=function(O,H,Y){return function(G,Z,te,q){return x["cshake"+O].update(G,Z,te,q)[Y]()}},E=function(O,H,Y){return function(G,Z,te,q){return x["kmac"+O].update(G,Z,te,q)[Y]()}},N=function(O,H,Y,G){for(var Z=0;Z<b.length;++Z){var te=b[Z];O[te]=H(Y,G,te)}return O},_=function(O,H){var Y=A(O,H,"hex");return Y.create=function(){return new R(O,H,O)},Y.update=function(G){return Y.create().update(G)},N(Y,A,O,H)},U=function(O,H){var Y=I(O,H,"hex");return Y.create=function(G){return new R(O,H,G)},Y.update=function(G,Z){return Y.create(Z).update(G)},N(Y,I,O,H)},$=function(O,H){var Y=w[O],G=C(O,H,"hex");return G.create=function(Z,te,q){return!te&&!q?x["shake"+O].create(Z):new R(O,H,Z).bytepad([te,q],Y)},G.update=function(Z,te,q,ne){return G.create(te,q,ne).update(Z)},N(G,C,O,H)},B=function(O,H){var Y=w[O],G=E(O,H,"hex");return G.create=function(Z,te,q){return new z(O,H,te).bytepad(["KMAC",q],Y).bytepad([Z],Y)},G.update=function(Z,te,q,ne){return G.create(Z,q,ne).update(te)},N(G,E,O,H)},j=[{name:"keccak",padding:f,bits:g,createMethod:_},{name:"sha3",padding:h,bits:g,createMethod:_},{name:"shake",padding:d,bits:v,createMethod:U},{name:"cshake",padding:p,bits:v,createMethod:$},{name:"kmac",padding:p,bits:v,createMethod:B}],x={},k=[],M=0;M<j.length;++M)for(var P=j[M],S=P.bits,L=0;L<S.length;++L){var V=P.name+"_"+S[L];if(k.push(V),x[V]=P.createMethod(S[L],P.padding),P.name!=="sha3"){var F=P.name+S[L];k.push(F),x[F]=x[V]}}function R(O,H,Y){this.blocks=[],this.s=[],this.padding=H,this.outputBits=Y,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(O<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=Y>>5,this.extraBytes=(Y&31)>>3;for(var G=0;G<50;++G)this.s[G]=0}R.prototype.update=function(O){if(this.finalized)throw new Error(n);var H,Y=typeof O;if(Y!=="string"){if(Y==="object"){if(O===null)throw new Error(e);if(l&&O.constructor===ArrayBuffer)O=new Uint8Array(O);else if(!Array.isArray(O)&&(!l||!ArrayBuffer.isView(O)))throw new Error(e)}else throw new Error(e);H=!0}for(var G=this.blocks,Z=this.byteCount,te=O.length,q=this.blockCount,ne=0,Re=this.s,se,ve;ne<te;){if(this.reset)for(this.reset=!1,G[0]=this.block,se=1;se<q+1;++se)G[se]=0;if(H)for(se=this.start;ne<te&&se<Z;++ne)G[se>>2]|=O[ne]<<y[se++&3];else for(se=this.start;ne<te&&se<Z;++ne)ve=O.charCodeAt(ne),ve<128?G[se>>2]|=ve<<y[se++&3]:ve<2048?(G[se>>2]|=(192|ve>>6)<<y[se++&3],G[se>>2]|=(128|ve&63)<<y[se++&3]):ve<55296||ve>=57344?(G[se>>2]|=(224|ve>>12)<<y[se++&3],G[se>>2]|=(128|ve>>6&63)<<y[se++&3],G[se>>2]|=(128|ve&63)<<y[se++&3]):(ve=65536+((ve&1023)<<10|O.charCodeAt(++ne)&1023),G[se>>2]|=(240|ve>>18)<<y[se++&3],G[se>>2]|=(128|ve>>12&63)<<y[se++&3],G[se>>2]|=(128|ve>>6&63)<<y[se++&3],G[se>>2]|=(128|ve&63)<<y[se++&3]);if(this.lastByteIndex=se,se>=Z){for(this.start=se-Z,this.block=G[q],se=0;se<q;++se)Re[se]^=G[se];Q(Re),this.reset=!0}else this.start=se}return this},R.prototype.encode=function(O,H){var Y=O&255,G=1,Z=[Y];for(O=O>>8,Y=O&255;Y>0;)Z.unshift(Y),O=O>>8,Y=O&255,++G;return H?Z.push(G):Z.unshift(G),this.update(Z),Z.length},R.prototype.encodeString=function(O){var H,Y=typeof O;if(Y!=="string"){if(Y==="object"){if(O===null)throw new Error(e);if(l&&O.constructor===ArrayBuffer)O=new Uint8Array(O);else if(!Array.isArray(O)&&(!l||!ArrayBuffer.isView(O)))throw new Error(e)}else throw new Error(e);H=!0}var G=0,Z=O.length;if(H)G=Z;else for(var te=0;te<O.length;++te){var q=O.charCodeAt(te);q<128?G+=1:q<2048?G+=2:q<55296||q>=57344?G+=3:(q=65536+((q&1023)<<10|O.charCodeAt(++te)&1023),G+=4)}return G+=this.encode(G*8),this.update(O),G},R.prototype.bytepad=function(O,H){for(var Y=this.encode(H),G=0;G<O.length;++G)Y+=this.encodeString(O[G]);var Z=H-Y%H,te=[];return te.length=Z,this.update(te),this},R.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var O=this.blocks,H=this.lastByteIndex,Y=this.blockCount,G=this.s;if(O[H>>2]|=this.padding[H&3],this.lastByteIndex===this.byteCount)for(O[0]=O[Y],H=1;H<Y+1;++H)O[H]=0;for(O[Y-1]|=2147483648,H=0;H<Y;++H)G[H]^=O[H];Q(G)}},R.prototype.toString=R.prototype.hex=function(){this.finalize();for(var O=this.blockCount,H=this.s,Y=this.outputBlocks,G=this.extraBytes,Z=0,te=0,q="",ne;te<Y;){for(Z=0;Z<O&&te<Y;++Z,++te)ne=H[Z],q+=u[ne>>4&15]+u[ne&15]+u[ne>>12&15]+u[ne>>8&15]+u[ne>>20&15]+u[ne>>16&15]+u[ne>>28&15]+u[ne>>24&15];te%O===0&&(Q(H),Z=0)}return G&&(ne=H[Z],q+=u[ne>>4&15]+u[ne&15],G>1&&(q+=u[ne>>12&15]+u[ne>>8&15]),G>2&&(q+=u[ne>>20&15]+u[ne>>16&15])),q},R.prototype.arrayBuffer=function(){this.finalize();var O=this.blockCount,H=this.s,Y=this.outputBlocks,G=this.extraBytes,Z=0,te=0,q=this.outputBits>>3,ne;G?ne=new ArrayBuffer(Y+1<<2):ne=new ArrayBuffer(q);for(var Re=new Uint32Array(ne);te<Y;){for(Z=0;Z<O&&te<Y;++Z,++te)Re[te]=H[Z];te%O===0&&Q(H)}return G&&(Re[Z]=H[Z],ne=ne.slice(0,q)),ne},R.prototype.buffer=R.prototype.arrayBuffer,R.prototype.digest=R.prototype.array=function(){this.finalize();for(var O=this.blockCount,H=this.s,Y=this.outputBlocks,G=this.extraBytes,Z=0,te=0,q=[],ne,Re;te<Y;){for(Z=0;Z<O&&te<Y;++Z,++te)ne=te<<2,Re=H[Z],q[ne]=Re&255,q[ne+1]=Re>>8&255,q[ne+2]=Re>>16&255,q[ne+3]=Re>>24&255;te%O===0&&Q(H)}return G&&(ne=te<<2,Re=H[Z],q[ne]=Re&255,G>1&&(q[ne+1]=Re>>8&255),G>2&&(q[ne+2]=Re>>16&255)),q};function z(O,H,Y){R.call(this,O,H,Y)}z.prototype=new R,z.prototype.finalize=function(){return this.encode(this.outputBits,!0),R.prototype.finalize.call(this)};var Q=function(O){var H,Y,G,Z,te,q,ne,Re,se,ve,We,fe,ee,pe,xe,Fe,Ze,Oe,rt,zt,ct,J,Ee,le,ue,he,Ne,Ge,Te,me,de,Me,ie,ge,je,we,Be,Nt,mt,St,Kt,gt,Tt,wn,Ue,ae,ut,pt,ot,Ft,Rt,Et,Ae,Pt,wt,Mn,At,yt,xt,br,lr,On,wr;for(G=0;G<48;G+=2)Z=O[0]^O[10]^O[20]^O[30]^O[40],te=O[1]^O[11]^O[21]^O[31]^O[41],q=O[2]^O[12]^O[22]^O[32]^O[42],ne=O[3]^O[13]^O[23]^O[33]^O[43],Re=O[4]^O[14]^O[24]^O[34]^O[44],se=O[5]^O[15]^O[25]^O[35]^O[45],ve=O[6]^O[16]^O[26]^O[36]^O[46],We=O[7]^O[17]^O[27]^O[37]^O[47],fe=O[8]^O[18]^O[28]^O[38]^O[48],ee=O[9]^O[19]^O[29]^O[39]^O[49],H=fe^(q<<1|ne>>>31),Y=ee^(ne<<1|q>>>31),O[0]^=H,O[1]^=Y,O[10]^=H,O[11]^=Y,O[20]^=H,O[21]^=Y,O[30]^=H,O[31]^=Y,O[40]^=H,O[41]^=Y,H=Z^(Re<<1|se>>>31),Y=te^(se<<1|Re>>>31),O[2]^=H,O[3]^=Y,O[12]^=H,O[13]^=Y,O[22]^=H,O[23]^=Y,O[32]^=H,O[33]^=Y,O[42]^=H,O[43]^=Y,H=q^(ve<<1|We>>>31),Y=ne^(We<<1|ve>>>31),O[4]^=H,O[5]^=Y,O[14]^=H,O[15]^=Y,O[24]^=H,O[25]^=Y,O[34]^=H,O[35]^=Y,O[44]^=H,O[45]^=Y,H=Re^(fe<<1|ee>>>31),Y=se^(ee<<1|fe>>>31),O[6]^=H,O[7]^=Y,O[16]^=H,O[17]^=Y,O[26]^=H,O[27]^=Y,O[36]^=H,O[37]^=Y,O[46]^=H,O[47]^=Y,H=ve^(Z<<1|te>>>31),Y=We^(te<<1|Z>>>31),O[8]^=H,O[9]^=Y,O[18]^=H,O[19]^=Y,O[28]^=H,O[29]^=Y,O[38]^=H,O[39]^=Y,O[48]^=H,O[49]^=Y,pe=O[0],xe=O[1],ae=O[11]<<4|O[10]>>>28,ut=O[10]<<4|O[11]>>>28,Ge=O[20]<<3|O[21]>>>29,Te=O[21]<<3|O[20]>>>29,br=O[31]<<9|O[30]>>>23,lr=O[30]<<9|O[31]>>>23,gt=O[40]<<18|O[41]>>>14,Tt=O[41]<<18|O[40]>>>14,ge=O[2]<<1|O[3]>>>31,je=O[3]<<1|O[2]>>>31,Fe=O[13]<<12|O[12]>>>20,Ze=O[12]<<12|O[13]>>>20,pt=O[22]<<10|O[23]>>>22,ot=O[23]<<10|O[22]>>>22,me=O[33]<<13|O[32]>>>19,de=O[32]<<13|O[33]>>>19,On=O[42]<<2|O[43]>>>30,wr=O[43]<<2|O[42]>>>30,Pt=O[5]<<30|O[4]>>>2,wt=O[4]<<30|O[5]>>>2,we=O[14]<<6|O[15]>>>26,Be=O[15]<<6|O[14]>>>26,Oe=O[25]<<11|O[24]>>>21,rt=O[24]<<11|O[25]>>>21,Ft=O[34]<<15|O[35]>>>17,Rt=O[35]<<15|O[34]>>>17,Me=O[45]<<29|O[44]>>>3,ie=O[44]<<29|O[45]>>>3,le=O[6]<<28|O[7]>>>4,ue=O[7]<<28|O[6]>>>4,Mn=O[17]<<23|O[16]>>>9,At=O[16]<<23|O[17]>>>9,Nt=O[26]<<25|O[27]>>>7,mt=O[27]<<25|O[26]>>>7,zt=O[36]<<21|O[37]>>>11,ct=O[37]<<21|O[36]>>>11,Et=O[47]<<24|O[46]>>>8,Ae=O[46]<<24|O[47]>>>8,wn=O[8]<<27|O[9]>>>5,Ue=O[9]<<27|O[8]>>>5,he=O[18]<<20|O[19]>>>12,Ne=O[19]<<20|O[18]>>>12,yt=O[29]<<7|O[28]>>>25,xt=O[28]<<7|O[29]>>>25,St=O[38]<<8|O[39]>>>24,Kt=O[39]<<8|O[38]>>>24,J=O[48]<<14|O[49]>>>18,Ee=O[49]<<14|O[48]>>>18,O[0]=pe^~Fe&Oe,O[1]=xe^~Ze&rt,O[10]=le^~he&Ge,O[11]=ue^~Ne&Te,O[20]=ge^~we&Nt,O[21]=je^~Be&mt,O[30]=wn^~ae&pt,O[31]=Ue^~ut&ot,O[40]=Pt^~Mn&yt,O[41]=wt^~At&xt,O[2]=Fe^~Oe&zt,O[3]=Ze^~rt&ct,O[12]=he^~Ge&me,O[13]=Ne^~Te&de,O[22]=we^~Nt&St,O[23]=Be^~mt&Kt,O[32]=ae^~pt&Ft,O[33]=ut^~ot&Rt,O[42]=Mn^~yt&br,O[43]=At^~xt&lr,O[4]=Oe^~zt&J,O[5]=rt^~ct&Ee,O[14]=Ge^~me&Me,O[15]=Te^~de&ie,O[24]=Nt^~St&gt,O[25]=mt^~Kt&Tt,O[34]=pt^~Ft&Et,O[35]=ot^~Rt&Ae,O[44]=yt^~br&On,O[45]=xt^~lr&wr,O[6]=zt^~J&pe,O[7]=ct^~Ee&xe,O[16]=me^~Me&le,O[17]=de^~ie&ue,O[26]=St^~gt&ge,O[27]=Kt^~Tt&je,O[36]=Ft^~Et&wn,O[37]=Rt^~Ae&Ue,O[46]=br^~On&Pt,O[47]=lr^~wr&wt,O[8]=J^~pe&Fe,O[9]=Ee^~xe&Ze,O[18]=Me^~le&he,O[19]=ie^~ue&Ne,O[28]=gt^~ge&we,O[29]=Tt^~je&Be,O[38]=Et^~wn&ae,O[39]=Ae^~Ue&ut,O[48]=On^~Pt&Mn,O[49]=wr^~wt&At,O[0]^=m[G],O[1]^=m[G+1]};if(o)t.exports=x;else for(M=0;M<k.length;++M)s[k[M]]=x[k[M]]})()})(IG);var Gbe=IG.exports;const kG=tf(Gbe);function Er(t){return"0x"+kG.keccak_256(it(t))}const Kbe="rlp/5.8.0",Ro=new oe(Kbe);function W_(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function G_(t,e,n){let r=0;for(let s=0;s<n;s++)r=r*256+t[e+s];return r}function CG(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(i){r=r.concat(CG(i))}),r.length<=55)return r.unshift(192+r.length),r;const s=W_(r.length);return s.unshift(247+s.length),s.concat(r)}FT(t)||Ro.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(it(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const n=W_(e.length);return n.unshift(183+n.length),n.concat(e)}function Xh(t){return Qe(CG(t))}function K_(t,e,n,r){const s=[];for(;n<e+1+r;){const i=EG(t,n);s.push(i.result),n+=i.consumed,n>e+1+r&&Ro.throwError("child data too short",oe.errors.BUFFER_OVERRUN,{})}return{consumed:1+r,result:s}}function EG(t,e){if(t.length===0&&Ro.throwError("data too short",oe.errors.BUFFER_OVERRUN,{}),t[e]>=248){const n=t[e]-247;e+1+n>t.length&&Ro.throwError("data short segment too short",oe.errors.BUFFER_OVERRUN,{});const r=G_(t,e+1,n);return e+1+n+r>t.length&&Ro.throwError("data long segment too short",oe.errors.BUFFER_OVERRUN,{}),K_(t,e,e+1+n,n+r)}else if(t[e]>=192){const n=t[e]-192;return e+1+n>t.length&&Ro.throwError("data array too short",oe.errors.BUFFER_OVERRUN,{}),K_(t,e,e+1,n)}else if(t[e]>=184){const n=t[e]-183;e+1+n>t.length&&Ro.throwError("data array too short",oe.errors.BUFFER_OVERRUN,{});const r=G_(t,e+1,n);e+1+n+r>t.length&&Ro.throwError("data array too short",oe.errors.BUFFER_OVERRUN,{});const s=Qe(t.slice(e+1+n,e+1+n+r));return{consumed:1+n+r,result:s}}else if(t[e]>=128){const n=t[e]-128;e+1+n>t.length&&Ro.throwError("data too short",oe.errors.BUFFER_OVERRUN,{});const r=Qe(t.slice(e+1,e+1+n));return{consumed:1+n,result:r}}return{consumed:1,result:Qe(t[e])}}function HR(t){const e=it(t),n=EG(e,0);return n.consumed!==e.length&&Ro.throwArgumentError("invalid rlp data","data",t),n.result}const Ybe="address/5.8.0",qf=new oe(Ybe);function Y_(t){sn(t,20)||qf.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),n=new Uint8Array(40);for(let s=0;s<40;s++)n[s]=e[s].charCodeAt(0);const r=it(Er(n));for(let s=0;s<40;s+=2)r[s>>1]>>4>=8&&(e[s]=e[s].toUpperCase()),(r[s>>1]&15)>=8&&(e[s+1]=e[s+1].toUpperCase());return"0x"+e.join("")}const qbe=9007199254740991;function Xbe(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const WR={};for(let t=0;t<10;t++)WR[String(t)]=String(t);for(let t=0;t<26;t++)WR[String.fromCharCode(65+t)]=String(10+t);const q_=Math.floor(Xbe(qbe));function Zbe(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(r=>WR[r]).join("");for(;e.length>=q_;){let r=e.substring(0,q_);e=parseInt(r,10)%97+e.substring(r.length)}let n=String(98-parseInt(e,10)%97);for(;n.length<2;)n="0"+n;return n}function ss(t){let e=null;if(typeof t!="string"&&qf.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=Y_(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&qf.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==Zbe(t)&&qf.throwArgumentError("bad icap checksum","address",t),e=Dbe(t.substring(4));e.length<40;)e="0"+e;e=Y_("0x"+e)}else qf.throwArgumentError("invalid address","address",t);return e}function GR(t){let e=null;try{e=ss(t.from)}catch{qf.throwArgumentError("missing from address","transaction",t)}const n=nc(it(ze.from(t.nonce).toHexString()));return ss(fs(Er(Xh([e,n])),12))}class Jbe extends jc{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,n){try{n=ss(n)}catch(r){this._throwError(r.message,n)}return e.writeValue(n)}decode(e){return ss(_n(e.readValue().toHexString(),20))}}class Qbe extends jc{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,n){return this.coder.encode(e,n)}decode(e){return this.coder.decode(e)}}const Xf=new oe(Iv);function NG(t,e,n){let r=null;if(Array.isArray(n))r=n;else if(n&&typeof n=="object"){let l={};r=e.map(u=>{const d=u.localName;return d||Xf.throwError("cannot encode object for signature with missing names",oe.errors.INVALID_ARGUMENT,{argument:"values",coder:u,value:n}),l[d]&&Xf.throwError("cannot encode object for signature with duplicate names",oe.errors.INVALID_ARGUMENT,{argument:"values",coder:u,value:n}),l[d]=!0,n[d]})}else Xf.throwArgumentError("invalid tuple value","tuple",n);e.length!==r.length&&Xf.throwArgumentError("types/value length mismatch","tuple",n);let s=new Y6(t.wordSize),i=new Y6(t.wordSize),a=[];e.forEach((l,u)=>{let d=r[u];if(l.dynamic){let p=i.length;l.encode(i,d);let f=s.writeUpdatableValue();a.push(h=>{f(h+p)})}else l.encode(s,d)}),a.forEach(l=>{l(s.length)});let o=t.appendWriter(s);return o+=t.appendWriter(i),o}function SG(t,e){let n=[],r=t.subReader(0);e.forEach(i=>{let a=null;if(i.dynamic){let o=t.readValue(),l=r.subReader(o.toNumber());try{a=i.decode(l)}catch(u){if(u.code===oe.errors.BUFFER_OVERRUN)throw u;a=u,a.baseType=i.name,a.name=i.localName,a.type=i.type}}else try{a=i.decode(t)}catch(o){if(o.code===oe.errors.BUFFER_OVERRUN)throw o;a=o,a.baseType=i.name,a.name=i.localName,a.type=i.type}a!=null&&n.push(a)});const s=e.reduce((i,a)=>{const o=a.localName;return o&&(i[o]||(i[o]=0),i[o]++),i},{});e.forEach((i,a)=>{let o=i.localName;if(!o||s[o]!==1||(o==="length"&&(o="_length"),n[o]!=null))return;const l=n[a];l instanceof Error?Object.defineProperty(n,o,{enumerable:!0,get:()=>{throw l}}):n[o]=l});for(let i=0;i<n.length;i++){const a=n[i];a instanceof Error&&Object.defineProperty(n,i,{enumerable:!0,get:()=>{throw a}})}return Object.freeze(n)}class ewe extends jc{constructor(e,n,r){const s=e.type+"["+(n>=0?n:"")+"]",i=n===-1||e.dynamic;super("array",s,r,i),this.coder=e,this.length=n}defaultValue(){const e=this.coder.defaultValue(),n=[];for(let r=0;r<this.length;r++)n.push(e);return n}encode(e,n){Array.isArray(n)||this._throwError("expected array value",n);let r=this.length;r===-1&&(r=n.length,e.writeValue(n.length)),Xf.checkArgumentCount(n.length,r,"coder array"+(this.localName?" "+this.localName:""));let s=[];for(let i=0;i<n.length;i++)s.push(this.coder);return NG(e,s,n)}decode(e){let n=this.length;n===-1&&(n=e.readValue().toNumber(),n*32>e._data.length&&Xf.throwError("insufficient data length",oe.errors.BUFFER_OVERRUN,{length:e._data.length,count:n}));let r=[];for(let s=0;s<n;s++)r.push(new Qbe(this.coder));return e.coerce(this.name,SG(e,r))}}class twe extends jc{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,n){return e.writeValue(n?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class RG extends jc{constructor(e,n){super(e,e,n,!0)}defaultValue(){return"0x"}encode(e,n){n=it(n);let r=e.writeValue(n.length);return r+=e.writeBytes(n),r}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class nwe extends RG{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,Qe(super.decode(e)))}}class rwe extends jc{constructor(e,n){let r="bytes"+String(e);super(r,r,n,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,n){let r=it(n);return r.length!==this.size&&this._throwError("incorrect data length",n),e.writeBytes(r)}decode(e){return e.coerce(this.name,Qe(e.readBytes(this.size)))}}class swe extends jc{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,n){return n!=null&&this._throwError("not null",n),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}const iwe="0x0000000000000000000000000000000000000000",awe=ze.from(-1),MG=ze.from(0),owe=ze.from(1),lwe=ze.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),cwe="0x0000000000000000000000000000000000000000000000000000000000000000";class uwe extends jc{constructor(e,n,r){const s=(n?"int":"uint")+e*8;super(s,s,r,!1),this.size=e,this.signed=n}defaultValue(){return 0}encode(e,n){let r=ze.from(n),s=lwe.mask(e.wordSize*8);if(this.signed){let i=s.mask(this.size*8-1);(r.gt(i)||r.lt(i.add(owe).mul(awe)))&&this._throwError("value out-of-bounds",n)}else(r.lt(MG)||r.gt(s.mask(this.size*8)))&&this._throwError("value out-of-bounds",n);return r=r.toTwos(this.size*8).mask(this.size*8),this.signed&&(r=r.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(r)}decode(e){let n=e.readValue().mask(this.size*8);return this.signed&&(n=n.fromTwos(this.size*8)),e.coerce(this.name,n)}}const dwe="strings/5.8.0",PG=new oe(dwe);var l0;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(l0||(l0={}));var Ei;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(Ei||(Ei={}));function pwe(t,e,n,r,s){return PG.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",n)}function jG(t,e,n,r,s){if(t===Ei.BAD_PREFIX||t===Ei.UNEXPECTED_CONTINUE){let i=0;for(let a=e+1;a<n.length&&n[a]>>6===2;a++)i++;return i}return t===Ei.OVERRUN?n.length-e-1:0}function fwe(t,e,n,r,s){return t===Ei.OVERLONG?(r.push(s),0):(r.push(65533),jG(t,e,n))}const hwe=Object.freeze({error:pwe,ignore:jG,replace:fwe});function DG(t,e){e==null&&(e=hwe.error),t=it(t);const n=[];let r=0;for(;r<t.length;){const s=t[r++];if(!(s>>7)){n.push(s);continue}let i=null,a=null;if((s&224)===192)i=1,a=127;else if((s&240)===224)i=2,a=2047;else if((s&248)===240)i=3,a=65535;else{(s&192)===128?r+=e(Ei.UNEXPECTED_CONTINUE,r-1,t,n):r+=e(Ei.BAD_PREFIX,r-1,t,n);continue}if(r-1+i>=t.length){r+=e(Ei.OVERRUN,r-1,t,n);continue}let o=s&(1<<8-i-1)-1;for(let l=0;l<i;l++){let u=t[r];if((u&192)!=128){r+=e(Ei.MISSING_CONTINUE,r,t,n),o=null;break}o=o<<6|u&63,r++}if(o!==null){if(o>1114111){r+=e(Ei.OUT_OF_RANGE,r-1-i,t,n,o);continue}if(o>=55296&&o<=57343){r+=e(Ei.UTF16_SURROGATE,r-1-i,t,n,o);continue}if(o<=a){r+=e(Ei.OVERLONG,r-1-i,t,n,o);continue}n.push(o)}}return n}function cl(t,e=l0.current){e!=l0.current&&(PG.checkNormalize(),t=t.normalize(e));let n=[];for(let r=0;r<t.length;r++){const s=t.charCodeAt(r);if(s<128)n.push(s);else if(s<2048)n.push(s>>6|192),n.push(s&63|128);else if((s&64512)==55296){r++;const i=t.charCodeAt(r);if(r>=t.length||(i&64512)!==56320)throw new Error("invalid utf-8 string");const a=65536+((s&1023)<<10)+(i&1023);n.push(a>>18|240),n.push(a>>12&63|128),n.push(a>>6&63|128),n.push(a&63|128)}else n.push(s>>12|224),n.push(s>>6&63|128),n.push(s&63|128)}return it(n)}function mwe(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function kv(t,e){return mwe(DG(t,e))}function ywe(t,e=l0.current){return DG(cl(t,e))}class gwe extends RG{constructor(e){super("string",e)}defaultValue(){return""}encode(e,n){return super.encode(e,cl(n))}decode(e){return kv(super.decode(e))}}class Eb extends jc{constructor(e,n){let r=!1;const s=[];e.forEach(a=>{a.dynamic&&(r=!0),s.push(a.type)});const i="tuple("+s.join(",")+")";super("tuple",i,n,r),this.coders=e}defaultValue(){const e=[];this.coders.forEach(r=>{e.push(r.defaultValue())});const n=this.coders.reduce((r,s)=>{const i=s.localName;return i&&(r[i]||(r[i]=0),r[i]++),r},{});return this.coders.forEach((r,s)=>{let i=r.localName;!i||n[i]!==1||(i==="length"&&(i="_length"),e[i]==null&&(e[i]=e[s]))}),Object.freeze(e)}encode(e,n){return NG(e,this.coders,n)}decode(e){return e.coerce(this.name,SG(e,this.coders))}}const Nb=new oe(Iv),vwe=new RegExp(/^bytes([0-9]*)$/),bwe=new RegExp(/^(u?int)([0-9]*)$/);class wwe{constructor(e){Pe(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new Jbe(e.name);case"bool":return new twe(e.name);case"string":return new gwe(e.name);case"bytes":return new nwe(e.name);case"array":return new ewe(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new Eb((e.components||[]).map(r=>this._getCoder(r)),e.name);case"":return new swe(e.name)}let n=e.type.match(bwe);if(n){let r=parseInt(n[2]||"256");return(r===0||r>256||r%8!==0)&&Nb.throwArgumentError("invalid "+n[1]+" bit length","param",e),new uwe(r/8,n[1]==="int",e.name)}if(n=e.type.match(vwe),n){let r=parseInt(n[1]);return(r===0||r>32)&&Nb.throwArgumentError("invalid bytes length","param",e),new rwe(r,e.name)}return Nb.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,n){return new n1(e,this._getWordSize(),this.coerceFunc,n)}_getWriter(){return new Y6(this._getWordSize())}getDefaultValue(e){const n=e.map(s=>this._getCoder(Br.from(s)));return new Eb(n,"_").defaultValue()}encode(e,n){e.length!==n.length&&Nb.throwError("types/values length mismatch",oe.errors.INVALID_ARGUMENT,{count:{types:e.length,values:n.length},value:{types:e,values:n}});const r=e.map(a=>this._getCoder(Br.from(a))),s=new Eb(r,"_"),i=this._getWriter();return s.encode(i,n),i.data}decode(e,n,r){const s=e.map(a=>this._getCoder(Br.from(a)));return new Eb(s,"_").decode(this._getReader(it(n),r))}}const xwe=new wwe;function Zf(t){return Er(cl(t))}const _G="hash/5.8.0";function LG(t){t=atob(t);const e=[];for(let n=0;n<t.length;n++)e.push(t.charCodeAt(n));return it(e)}function OG(t){t=it(t);let e="";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return btoa(e)}function $G(t,e){e==null&&(e=1);const n=[],r=n.forEach,s=function(i,a){r.call(i,function(o){a>0&&Array.isArray(o)?s(o,a-1):n.push(o)})};return s(t,e),n}function Twe(t){const e={};for(let n=0;n<t.length;n++){const r=t[n];e[r[0]]=r[1]}return e}function Awe(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),s=1,i=[0,1];for(let I=1;I<r;I++)i.push(s+=n());let a=n(),o=e;e+=a;let l=0,u=0;function d(){return l==0&&(u=u<<8|t[e++],l=8),u>>--l&1}const p=31,f=Math.pow(2,p),h=f>>>1,y=h>>1,m=f-1;let g=0;for(let I=0;I<p;I++)g=g<<1|d();let v=[],b=0,w=f;for(;;){let I=Math.floor(((g-b+1)*s-1)/w),C=0,E=r;for(;E-C>1;){let U=C+E>>>1;I<i[U]?E=U:C=U}if(C==0)break;v.push(C);let N=b+Math.floor(w*i[C]/s),_=b+Math.floor(w*i[C+1]/s)-1;for(;!((N^_)&h);)g=g<<1&m|d(),N=N<<1&m,_=_<<1&m|1;for(;N&~_&y;)g=g&h|g<<1&m>>>1|d(),N=N<<1^h,_=(_^h)<<1|h|1;b=N,w=1+_-N}let A=r-4;return v.map(I=>{switch(I-A){case 3:return A+65792+(t[o++]<<16|t[o++]<<8|t[o++]);case 2:return A+256+(t[o++]<<8|t[o++]);case 1:return A+t[o++];default:return I-1}})}function Iwe(t){let e=0;return()=>t[e++]}function kwe(t){return Iwe(Awe(t))}function Cwe(t){return t&1?~t>>1:t>>1}function Ewe(t,e){let n=Array(t);for(let r=0;r<t;r++)n[r]=1+e();return n}function X_(t,e){let n=Array(t);for(let r=0,s=-1;r<t;r++)n[r]=s+=1+e();return n}function Nwe(t,e){let n=Array(t);for(let r=0,s=0;r<t;r++)n[r]=s+=Cwe(e());return n}function r1(t,e){let n=X_(t(),t),r=t(),s=X_(r,t),i=Ewe(r,t);for(let a=0;a<r;a++)for(let o=0;o<i[a];o++)n.push(s[a]+o);return e?n.map(a=>e[a]):n}function Swe(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(Mwe(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(Pwe(n,t))}return Twe($G(e))}function Rwe(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(n)}return e}function FG(t,e,n){let r=Array(t).fill(void 0).map(()=>[]);for(let s=0;s<e;s++)Nwe(t,n).forEach((i,a)=>r[a].push(i));return r}function Mwe(t,e){let n=1+e(),r=e(),s=Rwe(e),i=FG(s.length,1+t,e);return $G(i.map((a,o)=>{const l=a[0],u=a.slice(1);return Array(s[o]).fill(void 0).map((d,p)=>{let f=p*r;return[l+p*n,u.map(h=>h+f)]})}))}function Pwe(t,e){let n=1+e();return FG(n,1+t,e).map(s=>[s[0],s.slice(1)])}function jwe(t){let e=r1(t).sort((r,s)=>r-s);return n();function n(){let r=[];for(;;){let u=r1(t,e);if(u.length==0)break;r.push({set:new Set(u),node:n()})}r.sort((u,d)=>d.set.size-u.set.size);let s=t(),i=s%3;s=s/3|0;let a=!!(s&1);s>>=1;let o=s==1,l=s==2;return{branches:r,valid:i,fe0f:a,save:o,check:l}}}function Dwe(){return kwe(LG("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const BT=Dwe(),_we=new Set(r1(BT)),Lwe=new Set(r1(BT)),Owe=Swe(BT),$we=jwe(BT),Z_=45,J_=95;function BG(t){return ywe(t)}function Fwe(t){return t.filter(e=>e!=65039)}function UG(t){for(let e of t.split(".")){let n=BG(e);try{for(let r=n.lastIndexOf(J_)-1;r>=0;r--)if(n[r]!==J_)throw new Error("underscore only allowed at start");if(n.length>=4&&n.every(r=>r<128)&&n[2]===Z_&&n[3]===Z_)throw new Error("invalid label extension")}catch(r){throw new Error(`Invalid label "${e}": ${r.message}`)}}return t}function Bwe(t){return UG(Uwe(t,Fwe))}function Uwe(t,e){let n=BG(t).reverse(),r=[];for(;n.length;){let s=Vwe(n);if(s){r.push(...e(s));continue}let i=n.pop();if(_we.has(i)){r.push(i);continue}if(Lwe.has(i))continue;let a=Owe[i];if(a){r.push(...a);continue}throw new Error(`Disallowed codepoint: 0x${i.toString(16).toUpperCase()}`)}return UG(zwe(String.fromCodePoint(...r)))}function zwe(t){return t.normalize("NFC")}function Vwe(t,e){var n;let r=$we,s,i,a=[],o=t.length;for(;o;){let l=t[--o];if(r=(n=r.branches.find(u=>u.set.has(l)))===null||n===void 0?void 0:n.node,!r)break;if(r.save)i=l;else if(r.check&&l===i)break;a.push(l),r.fe0f&&(a.push(65039),o>0&&t[o-1]==65039&&o--),r.valid&&(s=a.slice(),r.valid==2&&s.splice(1,1),t.length=o)}return s}const Hwe=new oe(_G),zG=new Uint8Array(32);zG.fill(0);function Q_(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}function VG(t){const e=cl(Bwe(t)),n=[];if(t.length===0)return n;let r=0;for(let s=0;s<e.length;s++)e[s]===46&&(n.push(Q_(e.slice(r,s))),r=s+1);if(r>=e.length)throw new Error("invalid ENS name; empty component");return n.push(Q_(e.slice(r))),n}function Ow(t){typeof t!="string"&&Hwe.throwArgumentError("invalid ENS name; not a string","name",t);let e=zG;const n=VG(t);for(;n.length;)e=Er(Bs([e,Er(n.pop())]));return Qe(e)}function Wwe(t){return Qe(Bs(VG(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const n=new Uint8Array(e.length+1);return n.set(e,1),n[0]=n.length-1,n})))+"00"}var Gwe=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(d){try{u(r.next(d))}catch(p){a(p)}}function l(d){try{u(r.throw(d))}catch(p){a(p)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((r=r.apply(t,e||[])).next())})};const Fn=new oe(_G),HG=new Uint8Array(32);HG.fill(0);const Kwe=ze.from(-1),WG=ze.from(0),GG=ze.from(1),Ywe=ze.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function qwe(t){const e=it(t),n=e.length%32;return n?si([e,HG.slice(n)]):Qe(e)}const Xwe=_n(GG.toHexString(),32),Zwe=_n(WG.toHexString(),32),eL={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},II=["name","version","chainId","verifyingContract","salt"];function tL(t){return function(e){return typeof e!="string"&&Fn.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const Jwe={name:tL("name"),version:tL("version"),chainId:function(t){try{return ze.from(t).toString()}catch{}return Fn.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return ss(t).toLowerCase()}catch{}return Fn.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=it(t);if(e.length!==32)throw new Error("bad length");return Qe(e)}catch{}return Fn.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function kI(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const n=e[1]==="",r=parseInt(e[2]||"256");(r%8!==0||r>256||e[2]&&e[2]!==String(r))&&Fn.throwArgumentError("invalid numeric width","type",t);const s=Ywe.mask(n?r-1:r),i=n?s.add(GG).mul(Kwe):WG;return function(a){const o=ze.from(a);return(o.lt(i)||o.gt(s))&&Fn.throwArgumentError(`value out-of-bounds for ${t}`,"value",a),_n(o.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const n=parseInt(e[1]);return(n===0||n>32||e[1]!==String(n))&&Fn.throwArgumentError("invalid bytes width","type",t),function(r){return it(r).length!==n&&Fn.throwArgumentError(`invalid length for ${t}`,"value",r),qwe(r)}}}switch(t){case"address":return function(e){return _n(ss(e),32)};case"bool":return function(e){return e?Xwe:Zwe};case"bytes":return function(e){return Er(e)};case"string":return function(e){return Zf(e)}}return null}function nL(t,e){return`${t}(${e.map(({name:n,type:r})=>r+" "+n).join(",")})`}class Ti{constructor(e){Pe(this,"types",Object.freeze(Tc(e))),Pe(this,"_encoderCache",{}),Pe(this,"_types",{});const n={},r={},s={};Object.keys(e).forEach(o=>{n[o]={},r[o]=[],s[o]={}});for(const o in e){const l={};e[o].forEach(u=>{l[u.name]&&Fn.throwArgumentError(`duplicate variable name ${JSON.stringify(u.name)} in ${JSON.stringify(o)}`,"types",e),l[u.name]=!0;const d=u.type.match(/^([^\x5b]*)(\x5b|$)/)[1];d===o&&Fn.throwArgumentError(`circular type reference to ${JSON.stringify(d)}`,"types",e),!kI(d)&&(r[d]||Fn.throwArgumentError(`unknown type ${JSON.stringify(d)}`,"types",e),r[d].push(o),n[o][d]=!0)})}const i=Object.keys(r).filter(o=>r[o].length===0);i.length===0?Fn.throwArgumentError("missing primary type","types",e):i.length>1&&Fn.throwArgumentError(`ambiguous primary types or unused types: ${i.map(o=>JSON.stringify(o)).join(", ")}`,"types",e),Pe(this,"primaryType",i[0]);function a(o,l){l[o]&&Fn.throwArgumentError(`circular type reference to ${JSON.stringify(o)}`,"types",e),l[o]=!0,Object.keys(n[o]).forEach(u=>{r[u]&&(a(u,l),Object.keys(l).forEach(d=>{s[d][u]=!0}))}),delete l[o]}a(this.primaryType,{});for(const o in s){const l=Object.keys(s[o]);l.sort(),this._types[o]=nL(o,e[o])+l.map(u=>nL(u,e[u])).join("")}}getEncoder(e){let n=this._encoderCache[e];return n||(n=this._encoderCache[e]=this._getEncoder(e)),n}_getEncoder(e){{const s=kI(e);if(s)return s}const n=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){const s=n[1],i=this.getEncoder(s),a=parseInt(n[3]);return o=>{a>=0&&o.length!==a&&Fn.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",o);let l=o.map(i);return this._types[s]&&(l=l.map(Er)),Er(si(l))}}const r=this.types[e];if(r){const s=Zf(this._types[e]);return i=>{const a=r.map(({name:o,type:l})=>{const u=this.getEncoder(l)(i[o]);return this._types[l]?Er(u):u});return a.unshift(s),si(a)}}return Fn.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const n=this._types[e];return n||Fn.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),n}encodeData(e,n){return this.getEncoder(e)(n)}hashStruct(e,n){return Er(this.encodeData(e,n))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,n,r){if(kI(e))return r(e,n);const s=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(s){const a=s[1],o=parseInt(s[3]);return o>=0&&n.length!==o&&Fn.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",n),n.map(l=>this._visit(a,l,r))}const i=this.types[e];return i?i.reduce((a,{name:o,type:l})=>(a[o]=this._visit(l,n[o],r),a),{}):Fn.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,n){return this._visit(this.primaryType,e,n)}static from(e){return new Ti(e)}static getPrimaryType(e){return Ti.from(e).primaryType}static hashStruct(e,n,r){return Ti.from(n).hashStruct(e,r)}static hashDomain(e){const n=[];for(const r in e){const s=eL[r];s||Fn.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),n.push({name:r,type:s})}return n.sort((r,s)=>II.indexOf(r.name)-II.indexOf(s.name)),Ti.hashStruct("EIP712Domain",{EIP712Domain:n},e)}static encode(e,n,r){return si(["0x1901",Ti.hashDomain(e),Ti.from(n).hash(r)])}static hash(e,n,r){return Er(Ti.encode(e,n,r))}static resolveNames(e,n,r,s){return Gwe(this,void 0,void 0,function*(){e=vr(e);const i={};e.verifyingContract&&!sn(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");const a=Ti.from(n);a.visit(r,(o,l)=>(o==="address"&&!sn(l,20)&&(i[l]="0x"),l));for(const o in i)i[o]=yield s(o);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),r=a.visit(r,(o,l)=>o==="address"&&i[l]?i[l]:l),{domain:e,value:r}})}static getPayload(e,n,r){Ti.hashDomain(e);const s={},i=[];II.forEach(l=>{const u=e[l];u!=null&&(s[l]=Jwe[l](u),i.push({name:l,type:eL[l]}))});const a=Ti.from(n),o=vr(n);return o.EIP712Domain?Fn.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",n):o.EIP712Domain=i,a.encode(r),{types:o,domain:s,primaryType:a.primaryType,message:a.visit(r,(l,u)=>{if(l.match(/^bytes(\d*)/))return Qe(it(u));if(l.match(/^u?int/))return ze.from(u).toString();switch(l){case"address":return u.toLowerCase();case"bool":return!!u;case"string":return typeof u!="string"&&Fn.throwArgumentError("invalid string","value",u),u}return Fn.throwArgumentError("unsupported type","type",l)})}}}const $n=new oe(Iv);class Qwe extends Av{}class exe extends Av{}class txe extends Av{}class q6 extends Av{static isIndexed(e){return!!(e&&e._isIndexed)}}const nxe={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function rL(t,e){const n=new Error(`deferred error during ABI decoding triggered accessing ${t}`);return n.error=e,n}class sL{constructor(e){let n=[];typeof e=="string"?n=JSON.parse(e):n=e,Pe(this,"fragments",n.map(r=>Yl.from(r)).filter(r=>r!=null)),Pe(this,"_abiCoder",_i(new.target,"getAbiCoder")()),Pe(this,"functions",{}),Pe(this,"errors",{}),Pe(this,"events",{}),Pe(this,"structs",{}),this.fragments.forEach(r=>{let s=null;switch(r.type){case"constructor":if(this.deploy){$n.warn("duplicate definition - constructor");return}Pe(this,"deploy",r);return;case"function":s=this.functions;break;case"event":s=this.events;break;case"error":s=this.errors;break;default:return}let i=r.format();if(s[i]){$n.warn("duplicate definition - "+i);return}s[i]=r}),this.deploy||Pe(this,"deploy",$o.from({payable:!1,type:"constructor"})),Pe(this,"_isInterface",!0)}format(e){e||(e=on.full),e===on.sighash&&$n.throwArgumentError("interface does not support formatting sighash","format",e);const n=this.fragments.map(r=>r.format(e));return e===on.json?JSON.stringify(n.map(r=>JSON.parse(r))):n}static getAbiCoder(){return xwe}static getAddress(e){return ss(e)}static getSighash(e){return fs(Zf(e.format()),0,4)}static getEventTopic(e){return Zf(e.format())}getFunction(e){if(sn(e)){for(const r in this.functions)if(e===this.getSighash(r))return this.functions[r];$n.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const r=e.trim(),s=Object.keys(this.functions).filter(i=>i.split("(")[0]===r);return s.length===0?$n.throwArgumentError("no matching function","name",r):s.length>1&&$n.throwArgumentError("multiple matching functions","name",r),this.functions[s[0]]}const n=this.functions[Fo.fromString(e).format()];return n||$n.throwArgumentError("no matching function","signature",e),n}getEvent(e){if(sn(e)){const r=e.toLowerCase();for(const s in this.events)if(r===this.getEventTopic(s))return this.events[s];$n.throwArgumentError("no matching event","topichash",r)}if(e.indexOf("(")===-1){const r=e.trim(),s=Object.keys(this.events).filter(i=>i.split("(")[0]===r);return s.length===0?$n.throwArgumentError("no matching event","name",r):s.length>1&&$n.throwArgumentError("multiple matching events","name",r),this.events[s[0]]}const n=this.events[Ul.fromString(e).format()];return n||$n.throwArgumentError("no matching event","signature",e),n}getError(e){if(sn(e)){const r=_i(this.constructor,"getSighash");for(const s in this.errors){const i=this.errors[s];if(e===r(i))return this.errors[s]}$n.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const r=e.trim(),s=Object.keys(this.errors).filter(i=>i.split("(")[0]===r);return s.length===0?$n.throwArgumentError("no matching error","name",r):s.length>1&&$n.throwArgumentError("multiple matching errors","name",r),this.errors[s[0]]}const n=this.errors[Fo.fromString(e).format()];return n||$n.throwArgumentError("no matching error","signature",e),n}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(n){try{e=this.getError(e)}catch{throw n}}return _i(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),_i(this.constructor,"getEventTopic")(e)}_decodeParams(e,n){return this._abiCoder.decode(e,n)}_encodeParams(e,n){return this._abiCoder.encode(e,n)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,n){typeof e=="string"&&(e=this.getError(e));const r=it(n);return Qe(r.slice(0,4))!==this.getSighash(e)&&$n.throwArgumentError(`data signature does not match error ${e.name}.`,"data",Qe(r)),this._decodeParams(e.inputs,r.slice(4))}encodeErrorResult(e,n){return typeof e=="string"&&(e=this.getError(e)),Qe(Bs([this.getSighash(e),this._encodeParams(e.inputs,n||[])]))}decodeFunctionData(e,n){typeof e=="string"&&(e=this.getFunction(e));const r=it(n);return Qe(r.slice(0,4))!==this.getSighash(e)&&$n.throwArgumentError(`data signature does not match function ${e.name}.`,"data",Qe(r)),this._decodeParams(e.inputs,r.slice(4))}encodeFunctionData(e,n){return typeof e=="string"&&(e=this.getFunction(e)),Qe(Bs([this.getSighash(e),this._encodeParams(e.inputs,n||[])]))}decodeFunctionResult(e,n){typeof e=="string"&&(e=this.getFunction(e));let r=it(n),s=null,i="",a=null,o=null,l=null;switch(r.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,r)}catch{}break;case 4:{const u=Qe(r.slice(0,4)),d=nxe[u];if(d)a=this._abiCoder.decode(d.inputs,r.slice(4)),o=d.name,l=d.signature,d.reason&&(s=a[0]),o==="Error"?i=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(a[0])}`:o==="Panic"&&(i=`; VM Exception while processing transaction: reverted with panic code ${a[0]}`);else try{const p=this.getError(u);a=this._abiCoder.decode(p.inputs,r.slice(4)),o=p.name,l=p.format()}catch{}break}}return $n.throwError("call revert exception"+i,oe.errors.CALL_EXCEPTION,{method:e.format(),data:Qe(n),errorArgs:a,errorName:o,errorSignature:l,reason:s})}encodeFunctionResult(e,n){return typeof e=="string"&&(e=this.getFunction(e)),Qe(this._abiCoder.encode(e.outputs,n||[]))}encodeFilterTopics(e,n){typeof e=="string"&&(e=this.getEvent(e)),n.length>e.inputs.length&&$n.throwError("too many arguments for "+e.format(),oe.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:n});let r=[];e.anonymous||r.push(this.getEventTopic(e));const s=(i,a)=>i.type==="string"?Zf(a):i.type==="bytes"?Er(Qe(a)):(i.type==="bool"&&typeof a=="boolean"&&(a=a?"0x01":"0x00"),i.type.match(/^u?int/)&&(a=ze.from(a).toHexString()),i.type==="address"&&this._abiCoder.encode(["address"],[a]),_n(Qe(a),32));for(n.forEach((i,a)=>{let o=e.inputs[a];if(!o.indexed){i!=null&&$n.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+o.name,i);return}i==null?r.push(null):o.baseType==="array"||o.baseType==="tuple"?$n.throwArgumentError("filtering with tuples or arrays not supported","contract."+o.name,i):Array.isArray(i)?r.push(i.map(l=>s(o,l))):r.push(s(o,i))});r.length&&r[r.length-1]===null;)r.pop();return r}encodeEventLog(e,n){typeof e=="string"&&(e=this.getEvent(e));const r=[],s=[],i=[];return e.anonymous||r.push(this.getEventTopic(e)),n.length!==e.inputs.length&&$n.throwArgumentError("event arguments/values mismatch","values",n),e.inputs.forEach((a,o)=>{const l=n[o];if(a.indexed)if(a.type==="string")r.push(Zf(l));else if(a.type==="bytes")r.push(Er(l));else{if(a.baseType==="tuple"||a.baseType==="array")throw new Error("not implemented");r.push(this._abiCoder.encode([a.type],[l]))}else s.push(a),i.push(l)}),{data:this._abiCoder.encode(s,i),topics:r}}decodeEventLog(e,n,r){if(typeof e=="string"&&(e=this.getEvent(e)),r!=null&&!e.anonymous){let f=this.getEventTopic(e);(!sn(r[0],32)||r[0].toLowerCase()!==f)&&$n.throwError("fragment/topic mismatch",oe.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:f,value:r[0]}),r=r.slice(1)}let s=[],i=[],a=[];e.inputs.forEach((f,h)=>{f.indexed?f.type==="string"||f.type==="bytes"||f.baseType==="tuple"||f.baseType==="array"?(s.push(Br.fromObject({type:"bytes32",name:f.name})),a.push(!0)):(s.push(f),a.push(!1)):(i.push(f),a.push(!1))});let o=r!=null?this._abiCoder.decode(s,Bs(r)):null,l=this._abiCoder.decode(i,n,!0),u=[],d=0,p=0;e.inputs.forEach((f,h)=>{if(f.indexed)if(o==null)u[h]=new q6({_isIndexed:!0,hash:null});else if(a[h])u[h]=new q6({_isIndexed:!0,hash:o[p++]});else try{u[h]=o[p++]}catch(y){u[h]=y}else try{u[h]=l[d++]}catch(y){u[h]=y}if(f.name&&u[f.name]==null){const y=u[h];y instanceof Error?Object.defineProperty(u,f.name,{enumerable:!0,get:()=>{throw rL(`property ${JSON.stringify(f.name)}`,y)}}):u[f.name]=y}});for(let f=0;f<u.length;f++){const h=u[f];h instanceof Error&&Object.defineProperty(u,f,{enumerable:!0,get:()=>{throw rL(`index ${f}`,h)}})}return Object.freeze(u)}parseTransaction(e){let n=this.getFunction(e.data.substring(0,10).toLowerCase());return n?new exe({args:this._abiCoder.decode(n.inputs,"0x"+e.data.substring(10)),functionFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n),value:ze.from(e.value||"0")}):null}parseLog(e){let n=this.getEvent(e.topics[0]);return!n||n.anonymous?null:new Qwe({eventFragment:n,name:n.name,signature:n.format(),topic:this.getEventTopic(n),args:this.decodeEventLog(n,e.data,e.topics)})}parseError(e){const n=Qe(e);let r=this.getError(n.substring(0,10).toLowerCase());return r?new txe({args:this._abiCoder.decode(r.inputs,"0x"+n.substring(10)),errorFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r)}):null}static isInterface(e){return!!(e&&e._isInterface)}}const rxe="abstract-provider/5.8.0";var sxe=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(d){try{u(r.next(d))}catch(p){a(p)}}function l(d){try{u(r.throw(d))}catch(p){a(p)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((r=r.apply(t,e||[])).next())})};const ixe=new oe(rxe);class axe extends Av{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class UT{constructor(){ixe.checkAbstract(new.target,UT),Pe(this,"_isProvider",!0)}getFeeData(){return sxe(this,void 0,void 0,function*(){const{block:e,gasPrice:n}=yield pr({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(a=>null)});let r=null,s=null,i=null;return e&&e.baseFeePerGas&&(r=e.baseFeePerGas,i=ze.from("1500000000"),s=e.baseFeePerGas.mul(2).add(i)),{lastBaseFeePerGas:r,maxFeePerGas:s,maxPriorityFeePerGas:i,gasPrice:n}})}addListener(e,n){return this.on(e,n)}removeListener(e,n){return this.off(e,n)}static isProvider(e){return!!(e&&e._isProvider)}}const oxe="abstract-signer/5.8.0";var ka=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(d){try{u(r.next(d))}catch(p){a(p)}}function l(d){try{u(r.throw(d))}catch(p){a(p)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((r=r.apply(t,e||[])).next())})};const ea=new oe(oxe),lxe=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],cxe=[oe.errors.INSUFFICIENT_FUNDS,oe.errors.NONCE_EXPIRED,oe.errors.REPLACEMENT_UNDERPRICED];class Rm{constructor(){ea.checkAbstract(new.target,Rm),Pe(this,"_isSigner",!0)}getBalance(e){return ka(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return ka(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return ka(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const n=yield pr(this.checkTransaction(e));return yield this.provider.estimateGas(n)})}call(e,n){return ka(this,void 0,void 0,function*(){this._checkProvider("call");const r=yield pr(this.checkTransaction(e));return yield this.provider.call(r,n)})}sendTransaction(e){return ka(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const n=yield this.populateTransaction(e),r=yield this.signTransaction(n);return yield this.provider.sendTransaction(r)})}getChainId(){return ka(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return ka(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return ka(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return ka(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const r in e)lxe.indexOf(r)===-1&&ea.throwArgumentError("invalid transaction key: "+r,"transaction",e);const n=vr(e);return n.from==null?n.from=this.getAddress():n.from=Promise.all([Promise.resolve(n.from),this.getAddress()]).then(r=>(r[0].toLowerCase()!==r[1].toLowerCase()&&ea.throwArgumentError("from address mismatch","transaction",e),r[0])),n}populateTransaction(e){return ka(this,void 0,void 0,function*(){const n=yield pr(this.checkTransaction(e));n.to!=null&&(n.to=Promise.resolve(n.to).then(s=>ka(this,void 0,void 0,function*(){if(s==null)return null;const i=yield this.resolveName(s);return i==null&&ea.throwArgumentError("provided ENS name resolves to null","tx.to",s),i})),n.to.catch(s=>{}));const r=n.maxFeePerGas!=null||n.maxPriorityFeePerGas!=null;if(n.gasPrice!=null&&(n.type===2||r)?ea.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(n.type===0||n.type===1)&&r&&ea.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(n.type===2||n.type==null)&&n.maxFeePerGas!=null&&n.maxPriorityFeePerGas!=null)n.type=2;else if(n.type===0||n.type===1)n.gasPrice==null&&(n.gasPrice=this.getGasPrice());else{const s=yield this.getFeeData();if(n.type==null)if(s.maxFeePerGas!=null&&s.maxPriorityFeePerGas!=null)if(n.type=2,n.gasPrice!=null){const i=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=i,n.maxPriorityFeePerGas=i}else n.maxFeePerGas==null&&(n.maxFeePerGas=s.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=s.maxPriorityFeePerGas);else s.gasPrice!=null?(r&&ea.throwError("network does not support EIP-1559",oe.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),n.gasPrice==null&&(n.gasPrice=s.gasPrice),n.type=0):ea.throwError("failed to get consistent fee data",oe.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else n.type===2&&(n.maxFeePerGas==null&&(n.maxFeePerGas=s.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=s.maxPriorityFeePerGas))}return n.nonce==null&&(n.nonce=this.getTransactionCount("pending")),n.gasLimit==null&&(n.gasLimit=this.estimateGas(n).catch(s=>{if(cxe.indexOf(s.code)>=0)throw s;return ea.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",oe.errors.UNPREDICTABLE_GAS_LIMIT,{error:s,tx:n})})),n.chainId==null?n.chainId=this.getChainId():n.chainId=Promise.all([Promise.resolve(n.chainId),this.getChainId()]).then(s=>(s[1]!==0&&s[0]!==s[1]&&ea.throwArgumentError("chainId address mismatch","transaction",e),s[0])),yield pr(n)})}_checkProvider(e){this.provider||ea.throwError("missing provider",oe.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class KR extends Rm{constructor(e,n){super(),Pe(this,"address",e),Pe(this,"provider",n||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,n){return Promise.resolve().then(()=>{ea.throwError(e,oe.errors.UNSUPPORTED_OPERATION,{operation:n})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,n,r){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new KR(this.address,e)}}var KG={},Zt={},Cv=YG;function YG(t,e){if(!t)throw new Error(e||"Assertion failed")}YG.equal=function(e,n,r){if(e!=n)throw new Error(r||"Assertion failed: "+e+" != "+n)};var X6={exports:{}};typeof Object.create=="function"?X6.exports=function(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:X6.exports=function(e,n){if(n){e.super_=n;var r=function(){};r.prototype=n.prototype,e.prototype=new r,e.prototype.constructor=e}};var uxe=X6.exports,dxe=Cv,pxe=uxe;Zt.inherits=pxe;function fxe(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function hxe(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var n=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),s=0;s<t.length;s+=2)n.push(parseInt(t[s]+t[s+1],16))}else for(var r=0,s=0;s<t.length;s++){var i=t.charCodeAt(s);i<128?n[r++]=i:i<2048?(n[r++]=i>>6|192,n[r++]=i&63|128):fxe(t,s)?(i=65536+((i&1023)<<10)+(t.charCodeAt(++s)&1023),n[r++]=i>>18|240,n[r++]=i>>12&63|128,n[r++]=i>>6&63|128,n[r++]=i&63|128):(n[r++]=i>>12|224,n[r++]=i>>6&63|128,n[r++]=i&63|128)}else for(s=0;s<t.length;s++)n[s]=t[s]|0;return n}Zt.toArray=hxe;function mxe(t){for(var e="",n=0;n<t.length;n++)e+=XG(t[n].toString(16));return e}Zt.toHex=mxe;function qG(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}Zt.htonl=qG;function yxe(t,e){for(var n="",r=0;r<t.length;r++){var s=t[r];e==="little"&&(s=qG(s)),n+=ZG(s.toString(16))}return n}Zt.toHex32=yxe;function XG(t){return t.length===1?"0"+t:t}Zt.zero2=XG;function ZG(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}Zt.zero8=ZG;function gxe(t,e,n,r){var s=n-e;dxe(s%4===0);for(var i=new Array(s/4),a=0,o=e;a<i.length;a++,o+=4){var l;r==="big"?l=t[o]<<24|t[o+1]<<16|t[o+2]<<8|t[o+3]:l=t[o+3]<<24|t[o+2]<<16|t[o+1]<<8|t[o],i[a]=l>>>0}return i}Zt.join32=gxe;function vxe(t,e){for(var n=new Array(t.length*4),r=0,s=0;r<t.length;r++,s+=4){var i=t[r];e==="big"?(n[s]=i>>>24,n[s+1]=i>>>16&255,n[s+2]=i>>>8&255,n[s+3]=i&255):(n[s+3]=i>>>24,n[s+2]=i>>>16&255,n[s+1]=i>>>8&255,n[s]=i&255)}return n}Zt.split32=vxe;function bxe(t,e){return t>>>e|t<<32-e}Zt.rotr32=bxe;function wxe(t,e){return t<<e|t>>>32-e}Zt.rotl32=wxe;function xxe(t,e){return t+e>>>0}Zt.sum32=xxe;function Txe(t,e,n){return t+e+n>>>0}Zt.sum32_3=Txe;function Axe(t,e,n,r){return t+e+n+r>>>0}Zt.sum32_4=Axe;function Ixe(t,e,n,r,s){return t+e+n+r+s>>>0}Zt.sum32_5=Ixe;function kxe(t,e,n,r){var s=t[e],i=t[e+1],a=r+i>>>0,o=(a<r?1:0)+n+s;t[e]=o>>>0,t[e+1]=a}Zt.sum64=kxe;function Cxe(t,e,n,r){var s=e+r>>>0,i=(s<e?1:0)+t+n;return i>>>0}Zt.sum64_hi=Cxe;function Exe(t,e,n,r){var s=e+r;return s>>>0}Zt.sum64_lo=Exe;function Nxe(t,e,n,r,s,i,a,o){var l=0,u=e;u=u+r>>>0,l+=u<e?1:0,u=u+i>>>0,l+=u<i?1:0,u=u+o>>>0,l+=u<o?1:0;var d=t+n+s+a+l;return d>>>0}Zt.sum64_4_hi=Nxe;function Sxe(t,e,n,r,s,i,a,o){var l=e+r+i+o;return l>>>0}Zt.sum64_4_lo=Sxe;function Rxe(t,e,n,r,s,i,a,o,l,u){var d=0,p=e;p=p+r>>>0,d+=p<e?1:0,p=p+i>>>0,d+=p<i?1:0,p=p+o>>>0,d+=p<o?1:0,p=p+u>>>0,d+=p<u?1:0;var f=t+n+s+a+l+d;return f>>>0}Zt.sum64_5_hi=Rxe;function Mxe(t,e,n,r,s,i,a,o,l,u){var d=e+r+i+o+u;return d>>>0}Zt.sum64_5_lo=Mxe;function Pxe(t,e,n){var r=e<<32-n|t>>>n;return r>>>0}Zt.rotr64_hi=Pxe;function jxe(t,e,n){var r=t<<32-n|e>>>n;return r>>>0}Zt.rotr64_lo=jxe;function Dxe(t,e,n){return t>>>n}Zt.shr64_hi=Dxe;function _xe(t,e,n){var r=t<<32-n|e>>>n;return r>>>0}Zt.shr64_lo=_xe;var Mm={},iL=Zt,Lxe=Cv;function zT(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Mm.BlockHash=zT;zT.prototype.update=function(e,n){if(e=iL.toArray(e,n),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var r=e.length%this._delta8;this.pending=e.slice(e.length-r,e.length),this.pending.length===0&&(this.pending=null),e=iL.join32(e,0,e.length-r,this.endian);for(var s=0;s<e.length;s+=this._delta32)this._update(e,s,s+this._delta32)}return this};zT.prototype.digest=function(e){return this.update(this._pad()),Lxe(this.pending===null),this._digest(e)};zT.prototype._pad=function(){var e=this.pendingTotal,n=this._delta8,r=n-(e+this.padLength)%n,s=new Array(r+this.padLength);s[0]=128;for(var i=1;i<r;i++)s[i]=0;if(e<<=3,this.endian==="big"){for(var a=8;a<this.padLength;a++)s[i++]=0;s[i++]=0,s[i++]=0,s[i++]=0,s[i++]=0,s[i++]=e>>>24&255,s[i++]=e>>>16&255,s[i++]=e>>>8&255,s[i++]=e&255}else for(s[i++]=e&255,s[i++]=e>>>8&255,s[i++]=e>>>16&255,s[i++]=e>>>24&255,s[i++]=0,s[i++]=0,s[i++]=0,s[i++]=0,a=8;a<this.padLength;a++)s[i++]=0;return s};var Pm={},gl={},Oxe=Zt,Qo=Oxe.rotr32;function $xe(t,e,n,r){if(t===0)return JG(e,n,r);if(t===1||t===3)return eK(e,n,r);if(t===2)return QG(e,n,r)}gl.ft_1=$xe;function JG(t,e,n){return t&e^~t&n}gl.ch32=JG;function QG(t,e,n){return t&e^t&n^e&n}gl.maj32=QG;function eK(t,e,n){return t^e^n}gl.p32=eK;function Fxe(t){return Qo(t,2)^Qo(t,13)^Qo(t,22)}gl.s0_256=Fxe;function Bxe(t){return Qo(t,6)^Qo(t,11)^Qo(t,25)}gl.s1_256=Bxe;function Uxe(t){return Qo(t,7)^Qo(t,18)^t>>>3}gl.g0_256=Uxe;function zxe(t){return Qo(t,17)^Qo(t,19)^t>>>10}gl.g1_256=zxe;var Zh=Zt,Vxe=Mm,Hxe=gl,CI=Zh.rotl32,cy=Zh.sum32,Wxe=Zh.sum32_5,Gxe=Hxe.ft_1,tK=Vxe.BlockHash,Kxe=[1518500249,1859775393,2400959708,3395469782];function ul(){if(!(this instanceof ul))return new ul;tK.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Zh.inherits(ul,tK);var Yxe=ul;ul.blockSize=512;ul.outSize=160;ul.hmacStrength=80;ul.padLength=64;ul.prototype._update=function(e,n){for(var r=this.W,s=0;s<16;s++)r[s]=e[n+s];for(;s<r.length;s++)r[s]=CI(r[s-3]^r[s-8]^r[s-14]^r[s-16],1);var i=this.h[0],a=this.h[1],o=this.h[2],l=this.h[3],u=this.h[4];for(s=0;s<r.length;s++){var d=~~(s/20),p=Wxe(CI(i,5),Gxe(d,a,o,l),u,r[s],Kxe[d]);u=l,l=o,o=CI(a,30),a=i,i=p}this.h[0]=cy(this.h[0],i),this.h[1]=cy(this.h[1],a),this.h[2]=cy(this.h[2],o),this.h[3]=cy(this.h[3],l),this.h[4]=cy(this.h[4],u)};ul.prototype._digest=function(e){return e==="hex"?Zh.toHex32(this.h,"big"):Zh.split32(this.h,"big")};var Jh=Zt,qxe=Mm,jm=gl,Xxe=Cv,Ca=Jh.sum32,Zxe=Jh.sum32_4,Jxe=Jh.sum32_5,Qxe=jm.ch32,e1e=jm.maj32,t1e=jm.s0_256,n1e=jm.s1_256,r1e=jm.g0_256,s1e=jm.g1_256,nK=qxe.BlockHash,i1e=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function dl(){if(!(this instanceof dl))return new dl;nK.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=i1e,this.W=new Array(64)}Jh.inherits(dl,nK);var rK=dl;dl.blockSize=512;dl.outSize=256;dl.hmacStrength=192;dl.padLength=64;dl.prototype._update=function(e,n){for(var r=this.W,s=0;s<16;s++)r[s]=e[n+s];for(;s<r.length;s++)r[s]=Zxe(s1e(r[s-2]),r[s-7],r1e(r[s-15]),r[s-16]);var i=this.h[0],a=this.h[1],o=this.h[2],l=this.h[3],u=this.h[4],d=this.h[5],p=this.h[6],f=this.h[7];for(Xxe(this.k.length===r.length),s=0;s<r.length;s++){var h=Jxe(f,n1e(u),Qxe(u,d,p),this.k[s],r[s]),y=Ca(t1e(i),e1e(i,a,o));f=p,p=d,d=u,u=Ca(l,h),l=o,o=a,a=i,i=Ca(h,y)}this.h[0]=Ca(this.h[0],i),this.h[1]=Ca(this.h[1],a),this.h[2]=Ca(this.h[2],o),this.h[3]=Ca(this.h[3],l),this.h[4]=Ca(this.h[4],u),this.h[5]=Ca(this.h[5],d),this.h[6]=Ca(this.h[6],p),this.h[7]=Ca(this.h[7],f)};dl.prototype._digest=function(e){return e==="hex"?Jh.toHex32(this.h,"big"):Jh.split32(this.h,"big")};var Z6=Zt,sK=rK;function Ac(){if(!(this instanceof Ac))return new Ac;sK.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Z6.inherits(Ac,sK);var a1e=Ac;Ac.blockSize=512;Ac.outSize=224;Ac.hmacStrength=192;Ac.padLength=64;Ac.prototype._digest=function(e){return e==="hex"?Z6.toHex32(this.h.slice(0,7),"big"):Z6.split32(this.h.slice(0,7),"big")};var vi=Zt,o1e=Mm,l1e=Cv,el=vi.rotr64_hi,tl=vi.rotr64_lo,iK=vi.shr64_hi,aK=vi.shr64_lo,Vc=vi.sum64,EI=vi.sum64_hi,NI=vi.sum64_lo,c1e=vi.sum64_4_hi,u1e=vi.sum64_4_lo,d1e=vi.sum64_5_hi,p1e=vi.sum64_5_lo,oK=o1e.BlockHash,f1e=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function oo(){if(!(this instanceof oo))return new oo;oK.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=f1e,this.W=new Array(160)}vi.inherits(oo,oK);var lK=oo;oo.blockSize=1024;oo.outSize=512;oo.hmacStrength=192;oo.padLength=128;oo.prototype._prepareBlock=function(e,n){for(var r=this.W,s=0;s<32;s++)r[s]=e[n+s];for(;s<r.length;s+=2){var i=I1e(r[s-4],r[s-3]),a=k1e(r[s-4],r[s-3]),o=r[s-14],l=r[s-13],u=T1e(r[s-30],r[s-29]),d=A1e(r[s-30],r[s-29]),p=r[s-32],f=r[s-31];r[s]=c1e(i,a,o,l,u,d,p,f),r[s+1]=u1e(i,a,o,l,u,d,p,f)}};oo.prototype._update=function(e,n){this._prepareBlock(e,n);var r=this.W,s=this.h[0],i=this.h[1],a=this.h[2],o=this.h[3],l=this.h[4],u=this.h[5],d=this.h[6],p=this.h[7],f=this.h[8],h=this.h[9],y=this.h[10],m=this.h[11],g=this.h[12],v=this.h[13],b=this.h[14],w=this.h[15];l1e(this.k.length===r.length);for(var A=0;A<r.length;A+=2){var I=b,C=w,E=w1e(f,h),N=x1e(f,h),_=h1e(f,h,y,m,g),U=m1e(f,h,y,m,g,v),$=this.k[A],B=this.k[A+1],j=r[A],x=r[A+1],k=d1e(I,C,E,N,_,U,$,B,j,x),M=p1e(I,C,E,N,_,U,$,B,j,x);I=v1e(s,i),C=b1e(s,i),E=y1e(s,i,a,o,l),N=g1e(s,i,a,o,l,u);var P=EI(I,C,E,N),S=NI(I,C,E,N);b=g,w=v,g=y,v=m,y=f,m=h,f=EI(d,p,k,M),h=NI(p,p,k,M),d=l,p=u,l=a,u=o,a=s,o=i,s=EI(k,M,P,S),i=NI(k,M,P,S)}Vc(this.h,0,s,i),Vc(this.h,2,a,o),Vc(this.h,4,l,u),Vc(this.h,6,d,p),Vc(this.h,8,f,h),Vc(this.h,10,y,m),Vc(this.h,12,g,v),Vc(this.h,14,b,w)};oo.prototype._digest=function(e){return e==="hex"?vi.toHex32(this.h,"big"):vi.split32(this.h,"big")};function h1e(t,e,n,r,s){var i=t&n^~t&s;return i<0&&(i+=4294967296),i}function m1e(t,e,n,r,s,i){var a=e&r^~e&i;return a<0&&(a+=4294967296),a}function y1e(t,e,n,r,s){var i=t&n^t&s^n&s;return i<0&&(i+=4294967296),i}function g1e(t,e,n,r,s,i){var a=e&r^e&i^r&i;return a<0&&(a+=4294967296),a}function v1e(t,e){var n=el(t,e,28),r=el(e,t,2),s=el(e,t,7),i=n^r^s;return i<0&&(i+=4294967296),i}function b1e(t,e){var n=tl(t,e,28),r=tl(e,t,2),s=tl(e,t,7),i=n^r^s;return i<0&&(i+=4294967296),i}function w1e(t,e){var n=el(t,e,14),r=el(t,e,18),s=el(e,t,9),i=n^r^s;return i<0&&(i+=4294967296),i}function x1e(t,e){var n=tl(t,e,14),r=tl(t,e,18),s=tl(e,t,9),i=n^r^s;return i<0&&(i+=4294967296),i}function T1e(t,e){var n=el(t,e,1),r=el(t,e,8),s=iK(t,e,7),i=n^r^s;return i<0&&(i+=4294967296),i}function A1e(t,e){var n=tl(t,e,1),r=tl(t,e,8),s=aK(t,e,7),i=n^r^s;return i<0&&(i+=4294967296),i}function I1e(t,e){var n=el(t,e,19),r=el(e,t,29),s=iK(t,e,6),i=n^r^s;return i<0&&(i+=4294967296),i}function k1e(t,e){var n=tl(t,e,19),r=tl(e,t,29),s=aK(t,e,6),i=n^r^s;return i<0&&(i+=4294967296),i}var J6=Zt,cK=lK;function Ic(){if(!(this instanceof Ic))return new Ic;cK.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}J6.inherits(Ic,cK);var C1e=Ic;Ic.blockSize=1024;Ic.outSize=384;Ic.hmacStrength=192;Ic.padLength=128;Ic.prototype._digest=function(e){return e==="hex"?J6.toHex32(this.h.slice(0,12),"big"):J6.split32(this.h.slice(0,12),"big")};Pm.sha1=Yxe;Pm.sha224=a1e;Pm.sha256=rK;Pm.sha384=C1e;Pm.sha512=lK;var uK={},Bp=Zt,E1e=Mm,Sb=Bp.rotl32,aL=Bp.sum32,uy=Bp.sum32_3,oL=Bp.sum32_4,dK=E1e.BlockHash;function pl(){if(!(this instanceof pl))return new pl;dK.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Bp.inherits(pl,dK);uK.ripemd160=pl;pl.blockSize=512;pl.outSize=160;pl.hmacStrength=192;pl.padLength=64;pl.prototype._update=function(e,n){for(var r=this.h[0],s=this.h[1],i=this.h[2],a=this.h[3],o=this.h[4],l=r,u=s,d=i,p=a,f=o,h=0;h<80;h++){var y=aL(Sb(oL(r,lL(h,s,i,a),e[R1e[h]+n],N1e(h)),P1e[h]),o);r=o,o=a,a=Sb(i,10),i=s,s=y,y=aL(Sb(oL(l,lL(79-h,u,d,p),e[M1e[h]+n],S1e(h)),j1e[h]),f),l=f,f=p,p=Sb(d,10),d=u,u=y}y=uy(this.h[1],i,p),this.h[1]=uy(this.h[2],a,f),this.h[2]=uy(this.h[3],o,l),this.h[3]=uy(this.h[4],r,u),this.h[4]=uy(this.h[0],s,d),this.h[0]=y};pl.prototype._digest=function(e){return e==="hex"?Bp.toHex32(this.h,"little"):Bp.split32(this.h,"little")};function lL(t,e,n,r){return t<=15?e^n^r:t<=31?e&n|~e&r:t<=47?(e|~n)^r:t<=63?e&r|n&~r:e^(n|~r)}function N1e(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function S1e(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var R1e=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],M1e=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],P1e=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],j1e=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],D1e=Zt,_1e=Cv;function Qh(t,e,n){if(!(this instanceof Qh))return new Qh(t,e,n);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(D1e.toArray(e,n))}var L1e=Qh;Qh.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),_1e(e.length<=this.blockSize);for(var n=e.length;n<this.blockSize;n++)e.push(0);for(n=0;n<e.length;n++)e[n]^=54;for(this.inner=new this.Hash().update(e),n=0;n<e.length;n++)e[n]^=106;this.outer=new this.Hash().update(e)};Qh.prototype.update=function(e,n){return this.inner.update(e,n),this};Qh.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(t){var e=t;e.utils=Zt,e.common=Mm,e.sha=Pm,e.ripemd=uK,e.hmac=L1e,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(KG);const ei=tf(KG);function Dm(t,e,n){return n={path:e,exports:{},require:function(r,s){return O1e(r,s??n.path)}},t(n,n.exports),n.exports}function O1e(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var YR=pK;function pK(t,e){if(!t)throw new Error(e||"Assertion failed")}pK.equal=function(e,n,r){if(e!=n)throw new Error(r||"Assertion failed: "+e+" != "+n)};var Ga=Dm(function(t,e){var n=e;function r(a,o){if(Array.isArray(a))return a.slice();if(!a)return[];var l=[];if(typeof a!="string"){for(var u=0;u<a.length;u++)l[u]=a[u]|0;return l}if(o==="hex"){a=a.replace(/[^a-z0-9]+/ig,""),a.length%2!==0&&(a="0"+a);for(var u=0;u<a.length;u+=2)l.push(parseInt(a[u]+a[u+1],16))}else for(var u=0;u<a.length;u++){var d=a.charCodeAt(u),p=d>>8,f=d&255;p?l.push(p,f):l.push(f)}return l}n.toArray=r;function s(a){return a.length===1?"0"+a:a}n.zero2=s;function i(a){for(var o="",l=0;l<a.length;l++)o+=s(a[l].toString(16));return o}n.toHex=i,n.encode=function(o,l){return l==="hex"?i(o):o}}),Wi=Dm(function(t,e){var n=e;n.assert=YR,n.toArray=Ga.toArray,n.zero2=Ga.zero2,n.toHex=Ga.toHex,n.encode=Ga.encode;function r(l,u,d){var p=new Array(Math.max(l.bitLength(),d)+1),f;for(f=0;f<p.length;f+=1)p[f]=0;var h=1<<u+1,y=l.clone();for(f=0;f<p.length;f++){var m,g=y.andln(h-1);y.isOdd()?(g>(h>>1)-1?m=(h>>1)-g:m=g,y.isubn(m)):m=0,p[f]=m,y.iushrn(1)}return p}n.getNAF=r;function s(l,u){var d=[[],[]];l=l.clone(),u=u.clone();for(var p=0,f=0,h;l.cmpn(-p)>0||u.cmpn(-f)>0;){var y=l.andln(3)+p&3,m=u.andln(3)+f&3;y===3&&(y=-1),m===3&&(m=-1);var g;y&1?(h=l.andln(7)+p&7,(h===3||h===5)&&m===2?g=-y:g=y):g=0,d[0].push(g);var v;m&1?(h=u.andln(7)+f&7,(h===3||h===5)&&y===2?v=-m:v=m):v=0,d[1].push(v),2*p===g+1&&(p=1-p),2*f===v+1&&(f=1-f),l.iushrn(1),u.iushrn(1)}return d}n.getJSF=s;function i(l,u,d){var p="_"+u;l.prototype[u]=function(){return this[p]!==void 0?this[p]:this[p]=d.call(this)}}n.cachedProperty=i;function a(l){return typeof l=="string"?n.toArray(l,"hex"):l}n.parseBytes=a;function o(l){return new Ct(l,"hex","le")}n.intFromLE=o}),s1=Wi.getNAF,$1e=Wi.getJSF,i1=Wi.assert;function vd(t,e){this.type=t,this.p=new Ct(e.p,16),this.red=e.prime?Ct.red(e.prime):Ct.mont(this.p),this.zero=new Ct(0).toRed(this.red),this.one=new Ct(1).toRed(this.red),this.two=new Ct(2).toRed(this.red),this.n=e.n&&new Ct(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var of=vd;vd.prototype.point=function(){throw new Error("Not implemented")};vd.prototype.validate=function(){throw new Error("Not implemented")};vd.prototype._fixedNafMul=function(e,n){i1(e.precomputed);var r=e._getDoubles(),s=s1(n,1,this._bitLength),i=(1<<r.step+1)-(r.step%2===0?2:1);i/=3;var a=[],o,l;for(o=0;o<s.length;o+=r.step){l=0;for(var u=o+r.step-1;u>=o;u--)l=(l<<1)+s[u];a.push(l)}for(var d=this.jpoint(null,null,null),p=this.jpoint(null,null,null),f=i;f>0;f--){for(o=0;o<a.length;o++)l=a[o],l===f?p=p.mixedAdd(r.points[o]):l===-f&&(p=p.mixedAdd(r.points[o].neg()));d=d.add(p)}return d.toP()};vd.prototype._wnafMul=function(e,n){var r=4,s=e._getNAFPoints(r);r=s.wnd;for(var i=s.points,a=s1(n,r,this._bitLength),o=this.jpoint(null,null,null),l=a.length-1;l>=0;l--){for(var u=0;l>=0&&a[l]===0;l--)u++;if(l>=0&&u++,o=o.dblp(u),l<0)break;var d=a[l];i1(d!==0),e.type==="affine"?d>0?o=o.mixedAdd(i[d-1>>1]):o=o.mixedAdd(i[-d-1>>1].neg()):d>0?o=o.add(i[d-1>>1]):o=o.add(i[-d-1>>1].neg())}return e.type==="affine"?o.toP():o};vd.prototype._wnafMulAdd=function(e,n,r,s,i){var a=this._wnafT1,o=this._wnafT2,l=this._wnafT3,u=0,d,p,f;for(d=0;d<s;d++){f=n[d];var h=f._getNAFPoints(e);a[d]=h.wnd,o[d]=h.points}for(d=s-1;d>=1;d-=2){var y=d-1,m=d;if(a[y]!==1||a[m]!==1){l[y]=s1(r[y],a[y],this._bitLength),l[m]=s1(r[m],a[m],this._bitLength),u=Math.max(l[y].length,u),u=Math.max(l[m].length,u);continue}var g=[n[y],null,null,n[m]];n[y].y.cmp(n[m].y)===0?(g[1]=n[y].add(n[m]),g[2]=n[y].toJ().mixedAdd(n[m].neg())):n[y].y.cmp(n[m].y.redNeg())===0?(g[1]=n[y].toJ().mixedAdd(n[m]),g[2]=n[y].add(n[m].neg())):(g[1]=n[y].toJ().mixedAdd(n[m]),g[2]=n[y].toJ().mixedAdd(n[m].neg()));var v=[-3,-1,-5,-7,0,7,5,1,3],b=$1e(r[y],r[m]);for(u=Math.max(b[0].length,u),l[y]=new Array(u),l[m]=new Array(u),p=0;p<u;p++){var w=b[0][p]|0,A=b[1][p]|0;l[y][p]=v[(w+1)*3+(A+1)],l[m][p]=0,o[y]=g}}var I=this.jpoint(null,null,null),C=this._wnafT4;for(d=u;d>=0;d--){for(var E=0;d>=0;){var N=!0;for(p=0;p<s;p++)C[p]=l[p][d]|0,C[p]!==0&&(N=!1);if(!N)break;E++,d--}if(d>=0&&E++,I=I.dblp(E),d<0)break;for(p=0;p<s;p++){var _=C[p];_!==0&&(_>0?f=o[p][_-1>>1]:_<0&&(f=o[p][-_-1>>1].neg()),f.type==="affine"?I=I.mixedAdd(f):I=I.add(f))}}for(d=0;d<s;d++)o[d]=null;return i?I:I.toP()};function xa(t,e){this.curve=t,this.type=e,this.precomputed=null}vd.BasePoint=xa;xa.prototype.eq=function(){throw new Error("Not implemented")};xa.prototype.validate=function(){return this.curve.validate(this)};vd.prototype.decodePoint=function(e,n){e=Wi.toArray(e,n);var r=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*r){e[0]===6?i1(e[e.length-1]%2===0):e[0]===7&&i1(e[e.length-1]%2===1);var s=this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));return s}else if((e[0]===2||e[0]===3)&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),e[0]===3);throw new Error("Unknown point format")};xa.prototype.encodeCompressed=function(e){return this.encode(e,!0)};xa.prototype._encode=function(e){var n=this.curve.p.byteLength(),r=this.getX().toArray("be",n);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",n))};xa.prototype.encode=function(e,n){return Wi.encode(this._encode(n),e)};xa.prototype.precompute=function(e){if(this.precomputed)return this;var n={doubles:null,naf:null,beta:null};return n.naf=this._getNAFPoints(8),n.doubles=this._getDoubles(4,e),n.beta=this._getBeta(),this.precomputed=n,this};xa.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var n=this.precomputed.doubles;return n?n.points.length>=Math.ceil((e.bitLength()+1)/n.step):!1};xa.prototype._getDoubles=function(e,n){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],s=this,i=0;i<n;i+=e){for(var a=0;a<e;a++)s=s.dbl();r.push(s)}return{step:e,points:r}};xa.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var n=[this],r=(1<<e)-1,s=r===1?null:this.dbl(),i=1;i<r;i++)n[i]=n[i-1].add(s);return{wnd:e,points:n}};xa.prototype._getBeta=function(){return null};xa.prototype.dblp=function(e){for(var n=this,r=0;r<e;r++)n=n.dbl();return n};var qR=Dm(function(t){typeof Object.create=="function"?t.exports=function(n,r){r&&(n.super_=r,n.prototype=Object.create(r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(n,r){if(r){n.super_=r;var s=function(){};s.prototype=r.prototype,n.prototype=new s,n.prototype.constructor=n}}}),F1e=Wi.assert;function Ta(t){of.call(this,"short",t),this.a=new Ct(t.a,16).toRed(this.red),this.b=new Ct(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}qR(Ta,of);var B1e=Ta;Ta.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var n,r;if(e.beta)n=new Ct(e.beta,16).toRed(this.red);else{var s=this._getEndoRoots(this.p);n=s[0].cmp(s[1])<0?s[0]:s[1],n=n.toRed(this.red)}if(e.lambda)r=new Ct(e.lambda,16);else{var i=this._getEndoRoots(this.n);this.g.mul(i[0]).x.cmp(this.g.x.redMul(n))===0?r=i[0]:(r=i[1],F1e(this.g.mul(r).x.cmp(this.g.x.redMul(n))===0))}var a;return e.basis?a=e.basis.map(function(o){return{a:new Ct(o.a,16),b:new Ct(o.b,16)}}):a=this._getEndoBasis(r),{beta:n,lambda:r,basis:a}}};Ta.prototype._getEndoRoots=function(e){var n=e===this.p?this.red:Ct.mont(e),r=new Ct(2).toRed(n).redInvm(),s=r.redNeg(),i=new Ct(3).toRed(n).redNeg().redSqrt().redMul(r),a=s.redAdd(i).fromRed(),o=s.redSub(i).fromRed();return[a,o]};Ta.prototype._getEndoBasis=function(e){for(var n=this.n.ushrn(Math.floor(this.n.bitLength()/2)),r=e,s=this.n.clone(),i=new Ct(1),a=new Ct(0),o=new Ct(0),l=new Ct(1),u,d,p,f,h,y,m,g=0,v,b;r.cmpn(0)!==0;){var w=s.div(r);v=s.sub(w.mul(r)),b=o.sub(w.mul(i));var A=l.sub(w.mul(a));if(!p&&v.cmp(n)<0)u=m.neg(),d=i,p=v.neg(),f=b;else if(p&&++g===2)break;m=v,s=r,r=v,o=i,i=b,l=a,a=A}h=v.neg(),y=b;var I=p.sqr().add(f.sqr()),C=h.sqr().add(y.sqr());return C.cmp(I)>=0&&(h=u,y=d),p.negative&&(p=p.neg(),f=f.neg()),h.negative&&(h=h.neg(),y=y.neg()),[{a:p,b:f},{a:h,b:y}]};Ta.prototype._endoSplit=function(e){var n=this.endo.basis,r=n[0],s=n[1],i=s.b.mul(e).divRound(this.n),a=r.b.neg().mul(e).divRound(this.n),o=i.mul(r.a),l=a.mul(s.a),u=i.mul(r.b),d=a.mul(s.b),p=e.sub(o).sub(l),f=u.add(d).neg();return{k1:p,k2:f}};Ta.prototype.pointFromX=function(e,n){e=new Ct(e,16),e.red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),s=r.redSqrt();if(s.redSqr().redSub(r).cmp(this.zero)!==0)throw new Error("invalid point");var i=s.fromRed().isOdd();return(n&&!i||!n&&i)&&(s=s.redNeg()),this.point(e,s)};Ta.prototype.validate=function(e){if(e.inf)return!0;var n=e.x,r=e.y,s=this.a.redMul(n),i=n.redSqr().redMul(n).redIAdd(s).redIAdd(this.b);return r.redSqr().redISub(i).cmpn(0)===0};Ta.prototype._endoWnafMulAdd=function(e,n,r){for(var s=this._endoWnafT1,i=this._endoWnafT2,a=0;a<e.length;a++){var o=this._endoSplit(n[a]),l=e[a],u=l._getBeta();o.k1.negative&&(o.k1.ineg(),l=l.neg(!0)),o.k2.negative&&(o.k2.ineg(),u=u.neg(!0)),s[a*2]=l,s[a*2+1]=u,i[a*2]=o.k1,i[a*2+1]=o.k2}for(var d=this._wnafMulAdd(1,s,i,a*2,r),p=0;p<a*2;p++)s[p]=null,i[p]=null;return d};function Gr(t,e,n,r){of.BasePoint.call(this,t,"affine"),e===null&&n===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Ct(e,16),this.y=new Ct(n,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}qR(Gr,of.BasePoint);Ta.prototype.point=function(e,n,r){return new Gr(this,e,n,r)};Ta.prototype.pointFromJSON=function(e,n){return Gr.fromJSON(this,e,n)};Gr.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var n=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,s=function(i){return r.point(i.x.redMul(r.endo.beta),i.y)};e.beta=n,n.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(s)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(s)}}}return n}};Gr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Gr.fromJSON=function(e,n,r){typeof n=="string"&&(n=JSON.parse(n));var s=e.point(n[0],n[1],r);if(!n[2])return s;function i(o){return e.point(o[0],o[1],r)}var a=n[2];return s.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[s].concat(a.doubles.points.map(i))},naf:a.naf&&{wnd:a.naf.wnd,points:[s].concat(a.naf.points.map(i))}},s};Gr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Gr.prototype.isInfinity=function(){return this.inf};Gr.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var n=this.y.redSub(e.y);n.cmpn(0)!==0&&(n=n.redMul(this.x.redSub(e.x).redInvm()));var r=n.redSqr().redISub(this.x).redISub(e.x),s=n.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,s)};Gr.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var n=this.curve.a,r=this.x.redSqr(),s=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(n).redMul(s),a=i.redSqr().redISub(this.x.redAdd(this.x)),o=i.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,o)};Gr.prototype.getX=function(){return this.x.fromRed()};Gr.prototype.getY=function(){return this.y.fromRed()};Gr.prototype.mul=function(e){return e=new Ct(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Gr.prototype.mulAdd=function(e,n,r){var s=[this,n],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(s,i):this.curve._wnafMulAdd(1,s,i,2)};Gr.prototype.jmulAdd=function(e,n,r){var s=[this,n],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(s,i,!0):this.curve._wnafMulAdd(1,s,i,2,!0)};Gr.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Gr.prototype.neg=function(e){if(this.inf)return this;var n=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,s=function(i){return i.neg()};n.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(s)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(s)}}}return n};Gr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function is(t,e,n,r){of.BasePoint.call(this,t,"jacobian"),e===null&&n===null&&r===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Ct(0)):(this.x=new Ct(e,16),this.y=new Ct(n,16),this.z=new Ct(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}qR(is,of.BasePoint);Ta.prototype.jpoint=function(e,n,r){return new is(this,e,n,r)};is.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),n=e.redSqr(),r=this.x.redMul(n),s=this.y.redMul(n).redMul(e);return this.curve.point(r,s)};is.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};is.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var n=e.z.redSqr(),r=this.z.redSqr(),s=this.x.redMul(n),i=e.x.redMul(r),a=this.y.redMul(n.redMul(e.z)),o=e.y.redMul(r.redMul(this.z)),l=s.redSub(i),u=a.redSub(o);if(l.cmpn(0)===0)return u.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var d=l.redSqr(),p=d.redMul(l),f=s.redMul(d),h=u.redSqr().redIAdd(p).redISub(f).redISub(f),y=u.redMul(f.redISub(h)).redISub(a.redMul(p)),m=this.z.redMul(e.z).redMul(l);return this.curve.jpoint(h,y,m)};is.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var n=this.z.redSqr(),r=this.x,s=e.x.redMul(n),i=this.y,a=e.y.redMul(n).redMul(this.z),o=r.redSub(s),l=i.redSub(a);if(o.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=o.redSqr(),d=u.redMul(o),p=r.redMul(u),f=l.redSqr().redIAdd(d).redISub(p).redISub(p),h=l.redMul(p.redISub(f)).redISub(i.redMul(d)),y=this.z.redMul(o);return this.curve.jpoint(f,h,y)};is.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var n;if(this.curve.zeroA||this.curve.threeA){var r=this;for(n=0;n<e;n++)r=r.dbl();return r}var s=this.curve.a,i=this.curve.tinv,a=this.x,o=this.y,l=this.z,u=l.redSqr().redSqr(),d=o.redAdd(o);for(n=0;n<e;n++){var p=a.redSqr(),f=d.redSqr(),h=f.redSqr(),y=p.redAdd(p).redIAdd(p).redIAdd(s.redMul(u)),m=a.redMul(f),g=y.redSqr().redISub(m.redAdd(m)),v=m.redISub(g),b=y.redMul(v);b=b.redIAdd(b).redISub(h);var w=d.redMul(l);n+1<e&&(u=u.redMul(h)),a=g,l=w,d=b}return this.curve.jpoint(a,d.redMul(i),l)};is.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};is.prototype._zeroDbl=function(){var e,n,r;if(this.zOne){var s=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(s).redISub(a);o=o.redIAdd(o);var l=s.redAdd(s).redIAdd(s),u=l.redSqr().redISub(o).redISub(o),d=a.redIAdd(a);d=d.redIAdd(d),d=d.redIAdd(d),e=u,n=l.redMul(o.redISub(u)).redISub(d),r=this.y.redAdd(this.y)}else{var p=this.x.redSqr(),f=this.y.redSqr(),h=f.redSqr(),y=this.x.redAdd(f).redSqr().redISub(p).redISub(h);y=y.redIAdd(y);var m=p.redAdd(p).redIAdd(p),g=m.redSqr(),v=h.redIAdd(h);v=v.redIAdd(v),v=v.redIAdd(v),e=g.redISub(y).redISub(y),n=m.redMul(y.redISub(e)).redISub(v),r=this.y.redMul(this.z),r=r.redIAdd(r)}return this.curve.jpoint(e,n,r)};is.prototype._threeDbl=function(){var e,n,r;if(this.zOne){var s=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(s).redISub(a);o=o.redIAdd(o);var l=s.redAdd(s).redIAdd(s).redIAdd(this.curve.a),u=l.redSqr().redISub(o).redISub(o);e=u;var d=a.redIAdd(a);d=d.redIAdd(d),d=d.redIAdd(d),n=l.redMul(o.redISub(u)).redISub(d),r=this.y.redAdd(this.y)}else{var p=this.z.redSqr(),f=this.y.redSqr(),h=this.x.redMul(f),y=this.x.redSub(p).redMul(this.x.redAdd(p));y=y.redAdd(y).redIAdd(y);var m=h.redIAdd(h);m=m.redIAdd(m);var g=m.redAdd(m);e=y.redSqr().redISub(g),r=this.y.redAdd(this.z).redSqr().redISub(f).redISub(p);var v=f.redSqr();v=v.redIAdd(v),v=v.redIAdd(v),v=v.redIAdd(v),n=y.redMul(m.redISub(e)).redISub(v)}return this.curve.jpoint(e,n,r)};is.prototype._dbl=function(){var e=this.curve.a,n=this.x,r=this.y,s=this.z,i=s.redSqr().redSqr(),a=n.redSqr(),o=r.redSqr(),l=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(i)),u=n.redAdd(n);u=u.redIAdd(u);var d=u.redMul(o),p=l.redSqr().redISub(d.redAdd(d)),f=d.redISub(p),h=o.redSqr();h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var y=l.redMul(f).redISub(h),m=r.redAdd(r).redMul(s);return this.curve.jpoint(p,y,m)};is.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),n=this.y.redSqr(),r=this.z.redSqr(),s=n.redSqr(),i=e.redAdd(e).redIAdd(e),a=i.redSqr(),o=this.x.redAdd(n).redSqr().redISub(e).redISub(s);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(a);var l=o.redSqr(),u=s.redIAdd(s);u=u.redIAdd(u),u=u.redIAdd(u),u=u.redIAdd(u);var d=i.redIAdd(o).redSqr().redISub(a).redISub(l).redISub(u),p=n.redMul(d);p=p.redIAdd(p),p=p.redIAdd(p);var f=this.x.redMul(l).redISub(p);f=f.redIAdd(f),f=f.redIAdd(f);var h=this.y.redMul(d.redMul(u.redISub(d)).redISub(o.redMul(l)));h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var y=this.z.redAdd(o).redSqr().redISub(r).redISub(l);return this.curve.jpoint(f,h,y)};is.prototype.mul=function(e,n){return e=new Ct(e,n),this.curve._wnafMul(this,e)};is.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var n=this.z.redSqr(),r=e.z.redSqr();if(this.x.redMul(r).redISub(e.x.redMul(n)).cmpn(0)!==0)return!1;var s=n.redMul(this.z),i=r.redMul(e.z);return this.y.redMul(i).redISub(e.y.redMul(s)).cmpn(0)===0};is.prototype.eqXToP=function(e){var n=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(n);if(this.x.cmp(r)===0)return!0;for(var s=e.clone(),i=this.curve.redN.redMul(n);;){if(s.iadd(this.curve.n),s.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}};is.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};is.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var $w=Dm(function(t,e){var n=e;n.base=of,n.short=B1e,n.mont=null,n.edwards=null}),Fw=Dm(function(t,e){var n=e,r=Wi.assert;function s(o){o.type==="short"?this.curve=new $w.short(o):o.type==="edwards"?this.curve=new $w.edwards(o):this.curve=new $w.mont(o),this.g=this.curve.g,this.n=this.curve.n,this.hash=o.hash,r(this.g.validate(),"Invalid curve"),r(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}n.PresetCurve=s;function i(o,l){Object.defineProperty(n,o,{configurable:!0,enumerable:!0,get:function(){var u=new s(l);return Object.defineProperty(n,o,{configurable:!0,enumerable:!0,value:u}),u}})}i("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:ei.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),i("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:ei.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),i("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:ei.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),i("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:ei.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),i("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:ei.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),i("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:ei.sha256,gRed:!1,g:["9"]}),i("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:ei.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var a;try{a=null.crash()}catch{a=void 0}i("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:ei.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",a]})});function sd(t){if(!(this instanceof sd))return new sd(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Ga.toArray(t.entropy,t.entropyEnc||"hex"),n=Ga.toArray(t.nonce,t.nonceEnc||"hex"),r=Ga.toArray(t.pers,t.persEnc||"hex");YR(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,n,r)}var fK=sd;sd.prototype._init=function(e,n,r){var s=e.concat(n).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(s),this._reseed=1,this.reseedInterval=281474976710656};sd.prototype._hmac=function(){return new ei.hmac(this.hash,this.K)};sd.prototype._update=function(e){var n=this._hmac().update(this.V).update([0]);e&&(n=n.update(e)),this.K=n.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};sd.prototype.reseed=function(e,n,r,s){typeof n!="string"&&(s=r,r=n,n=null),e=Ga.toArray(e,n),r=Ga.toArray(r,s),YR(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1};sd.prototype.generate=function(e,n,r,s){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof n!="string"&&(s=r,r=n,n=null),r&&(r=Ga.toArray(r,s||"hex"),this._update(r));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var a=i.slice(0,e);return this._update(r),this._reseed++,Ga.encode(a,n)};var Q6=Wi.assert;function ks(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var XR=ks;ks.fromPublic=function(e,n,r){return n instanceof ks?n:new ks(e,{pub:n,pubEnc:r})};ks.fromPrivate=function(e,n,r){return n instanceof ks?n:new ks(e,{priv:n,privEnc:r})};ks.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};ks.prototype.getPublic=function(e,n){return typeof e=="string"&&(n=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),n?this.pub.encode(n,e):this.pub};ks.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};ks.prototype._importPrivate=function(e,n){this.priv=new Ct(e,n||16),this.priv=this.priv.umod(this.ec.curve.n)};ks.prototype._importPublic=function(e,n){if(e.x||e.y){this.ec.curve.type==="mont"?Q6(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Q6(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,n)};ks.prototype.derive=function(e){return e.validate()||Q6(e.validate(),"public point not validated"),e.mul(this.priv).getX()};ks.prototype.sign=function(e,n,r){return this.ec.sign(e,this,n,r)};ks.prototype.verify=function(e,n,r){return this.ec.verify(e,n,this,void 0,r)};ks.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var U1e=Wi.assert;function VT(t,e){if(t instanceof VT)return t;this._importDER(t,e)||(U1e(t.r&&t.s,"Signature without r or s"),this.r=new Ct(t.r,16),this.s=new Ct(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var HT=VT;function z1e(){this.place=0}function SI(t,e){var n=t[e.place++];if(!(n&128))return n;var r=n&15;if(r===0||r>4||t[e.place]===0)return!1;for(var s=0,i=0,a=e.place;i<r;i++,a++)s<<=8,s|=t[a],s>>>=0;return s<=127?!1:(e.place=a,s)}function cL(t){for(var e=0,n=t.length-1;!t[e]&&!(t[e+1]&128)&&e<n;)e++;return e===0?t:t.slice(e)}VT.prototype._importDER=function(e,n){e=Wi.toArray(e,n);var r=new z1e;if(e[r.place++]!==48)return!1;var s=SI(e,r);if(s===!1||s+r.place!==e.length||e[r.place++]!==2)return!1;var i=SI(e,r);if(i===!1||e[r.place]&128)return!1;var a=e.slice(r.place,i+r.place);if(r.place+=i,e[r.place++]!==2)return!1;var o=SI(e,r);if(o===!1||e.length!==o+r.place||e[r.place]&128)return!1;var l=e.slice(r.place,o+r.place);if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;if(l[0]===0)if(l[1]&128)l=l.slice(1);else return!1;return this.r=new Ct(a),this.s=new Ct(l),this.recoveryParam=null,!0};function RI(t,e){if(e<128){t.push(e);return}var n=1+(Math.log(e)/Math.LN2>>>3);for(t.push(n|128);--n;)t.push(e>>>(n<<3)&255);t.push(e)}VT.prototype.toDER=function(e){var n=this.r.toArray(),r=this.s.toArray();for(n[0]&128&&(n=[0].concat(n)),r[0]&128&&(r=[0].concat(r)),n=cL(n),r=cL(r);!r[0]&&!(r[1]&128);)r=r.slice(1);var s=[2];RI(s,n.length),s=s.concat(n),s.push(2),RI(s,r.length);var i=s.concat(r),a=[48];return RI(a,i.length),a=a.concat(i),Wi.encode(a,e)};var V1e=function(){throw new Error("unsupported")},Bd=Wi.assert;function ga(t){if(!(this instanceof ga))return new ga(t);typeof t=="string"&&(Bd(Object.prototype.hasOwnProperty.call(Fw,t),"Unknown curve "+t),t=Fw[t]),t instanceof Fw.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var H1e=ga;ga.prototype.keyPair=function(e){return new XR(this,e)};ga.prototype.keyFromPrivate=function(e,n){return XR.fromPrivate(this,e,n)};ga.prototype.keyFromPublic=function(e,n){return XR.fromPublic(this,e,n)};ga.prototype.genKeyPair=function(e){e||(e={});for(var n=new fK({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||V1e(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),s=this.n.sub(new Ct(2));;){var i=new Ct(n.generate(r));if(!(i.cmp(s)>0))return i.iaddn(1),this.keyFromPrivate(i)}};ga.prototype._truncateToN=function(e,n,r){var s;if(Ct.isBN(e)||typeof e=="number")e=new Ct(e,16),s=e.byteLength();else if(typeof e=="object")s=e.length,e=new Ct(e,16);else{var i=e.toString();s=i.length+1>>>1,e=new Ct(i,16)}typeof r!="number"&&(r=s*8);var a=r-this.n.bitLength();return a>0&&(e=e.ushrn(a)),!n&&e.cmp(this.n)>=0?e.sub(this.n):e};ga.prototype.sign=function(e,n,r,s){if(typeof r=="object"&&(s=r,r=null),s||(s={}),typeof e!="string"&&typeof e!="number"&&!Ct.isBN(e)){Bd(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),Bd(e.length>>>0===e.length);for(var i=0;i<e.length;i++)Bd((e[i]&255)===e[i])}n=this.keyFromPrivate(n,r),e=this._truncateToN(e,!1,s.msgBitLength),Bd(!e.isNeg(),"Can not sign a negative message");var a=this.n.byteLength(),o=n.getPrivate().toArray("be",a),l=e.toArray("be",a);Bd(new Ct(l).eq(e),"Can not sign message");for(var u=new fK({hash:this.hash,entropy:o,nonce:l,pers:s.pers,persEnc:s.persEnc||"utf8"}),d=this.n.sub(new Ct(1)),p=0;;p++){var f=s.k?s.k(p):new Ct(u.generate(this.n.byteLength()));if(f=this._truncateToN(f,!0),!(f.cmpn(1)<=0||f.cmp(d)>=0)){var h=this.g.mul(f);if(!h.isInfinity()){var y=h.getX(),m=y.umod(this.n);if(m.cmpn(0)!==0){var g=f.invm(this.n).mul(m.mul(n.getPrivate()).iadd(e));if(g=g.umod(this.n),g.cmpn(0)!==0){var v=(h.getY().isOdd()?1:0)|(y.cmp(m)!==0?2:0);return s.canonical&&g.cmp(this.nh)>0&&(g=this.n.sub(g),v^=1),new HT({r:m,s:g,recoveryParam:v})}}}}}};ga.prototype.verify=function(e,n,r,s,i){i||(i={}),e=this._truncateToN(e,!1,i.msgBitLength),r=this.keyFromPublic(r,s),n=new HT(n,"hex");var a=n.r,o=n.s;if(a.cmpn(1)<0||a.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var l=o.invm(this.n),u=l.mul(e).umod(this.n),d=l.mul(a).umod(this.n),p;return this.curve._maxwellTrick?(p=this.g.jmulAdd(u,r.getPublic(),d),p.isInfinity()?!1:p.eqXToP(a)):(p=this.g.mulAdd(u,r.getPublic(),d),p.isInfinity()?!1:p.getX().umod(this.n).cmp(a)===0)};ga.prototype.recoverPubKey=function(t,e,n,r){Bd((3&n)===n,"The recovery param is more than two bits"),e=new HT(e,r);var s=this.n,i=new Ct(t),a=e.r,o=e.s,l=n&1,u=n>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw new Error("Unable to find sencond key candinate");u?a=this.curve.pointFromX(a.add(this.curve.n),l):a=this.curve.pointFromX(a,l);var d=e.r.invm(s),p=s.sub(i).mul(d).umod(s),f=o.mul(d).umod(s);return this.g.mulAdd(p,a,f)};ga.prototype.getKeyRecoveryParam=function(t,e,n,r){if(e=new HT(e,r),e.recoveryParam!==null)return e.recoveryParam;for(var s=0;s<4;s++){var i;try{i=this.recoverPubKey(t,e,s)}catch{continue}if(i.eq(n))return s}throw new Error("Unable to find valid recovery factor")};var W1e=Dm(function(t,e){var n=e;n.version="6.6.1",n.utils=Wi,n.rand=function(){throw new Error("unsupported")},n.curve=$w,n.curves=Fw,n.ec=H1e,n.eddsa=null}),G1e=W1e.ec;const K1e="signing-key/5.8.0",eE=new oe(K1e);let MI=null;function nu(){return MI||(MI=new G1e("secp256k1")),MI}class Y1e{constructor(e){Pe(this,"curve","secp256k1"),Pe(this,"privateKey",Qe(e)),$p(this.privateKey)!==32&&eE.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const n=nu().keyFromPrivate(it(this.privateKey));Pe(this,"publicKey","0x"+n.getPublic(!1,"hex")),Pe(this,"compressedPublicKey","0x"+n.getPublic(!0,"hex")),Pe(this,"_isSigningKey",!0)}_addPoint(e){const n=nu().keyFromPublic(it(this.publicKey)),r=nu().keyFromPublic(it(e));return"0x"+n.pub.add(r.pub).encodeCompressed("hex")}signDigest(e){const n=nu().keyFromPrivate(it(this.privateKey)),r=it(e);r.length!==32&&eE.throwArgumentError("bad digest length","digest",e);const s=n.sign(r,{canonical:!0});return Sm({recoveryParam:s.recoveryParam,r:_n("0x"+s.r.toString(16),32),s:_n("0x"+s.s.toString(16),32)})}computeSharedSecret(e){const n=nu().keyFromPrivate(it(this.privateKey)),r=nu().keyFromPublic(it(hK(e)));return _n("0x"+n.derive(r.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function q1e(t,e){const n=Sm(e),r={r:it(n.r),s:it(n.s)};return"0x"+nu().recoverPubKey(it(t),r,n.recoveryParam).encode("hex",!1)}function hK(t,e){const n=it(t);return n.length===32?new Y1e(n).publicKey:n.length===33?"0x"+nu().keyFromPublic(n).getPublic(!1,"hex"):n.length===65?Qe(n):eE.throwArgumentError("invalid public or private key","key","[REDACTED]")}const X1e="transactions/5.8.0",vs=new oe(X1e);var uL;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(uL||(uL={}));function ZR(t){return t==="0x"?null:ss(t)}function ms(t){return t==="0x"?MG:ze.from(t)}const Z1e=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],J1e={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function Q1e(t){const e=hK(t);return ss(fs(Er(fs(e,1)),12))}function mK(t,e){return Q1e(q1e(it(t),e))}function Ni(t,e){const n=nc(ze.from(t).toHexString());return n.length>32&&vs.throwArgumentError("invalid length for "+e,"transaction:"+e,t),n}function PI(t,e){return{address:ss(t),storageKeys:(e||[]).map((n,r)=>($p(n)!==32&&vs.throwArgumentError("invalid access list storageKey",`accessList[${t}:${r}]`,n),n.toLowerCase()))}}function _m(t){if(Array.isArray(t))return t.map((n,r)=>Array.isArray(n)?(n.length>2&&vs.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${r}]`,n),PI(n[0],n[1])):PI(n.address,n.storageKeys));const e=Object.keys(t).map(n=>{const r=t[n].reduce((s,i)=>(s[i]=!0,s),{});return PI(n,Object.keys(r).sort())});return e.sort((n,r)=>n.address.localeCompare(r.address)),e}function yK(t){return _m(t).map(e=>[e.address,e.storageKeys])}function gK(t,e){if(t.gasPrice!=null){const r=ze.from(t.gasPrice),s=ze.from(t.maxFeePerGas||0);r.eq(s)||vs.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:r,maxFeePerGas:s})}const n=[Ni(t.chainId||0,"chainId"),Ni(t.nonce||0,"nonce"),Ni(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Ni(t.maxFeePerGas||0,"maxFeePerGas"),Ni(t.gasLimit||0,"gasLimit"),t.to!=null?ss(t.to):"0x",Ni(t.value||0,"value"),t.data||"0x",yK(t.accessList||[])];if(e){const r=Sm(e);n.push(Ni(r.recoveryParam,"recoveryParam")),n.push(nc(r.r)),n.push(nc(r.s))}return si(["0x02",Xh(n)])}function vK(t,e){const n=[Ni(t.chainId||0,"chainId"),Ni(t.nonce||0,"nonce"),Ni(t.gasPrice||0,"gasPrice"),Ni(t.gasLimit||0,"gasLimit"),t.to!=null?ss(t.to):"0x",Ni(t.value||0,"value"),t.data||"0x",yK(t.accessList||[])];if(e){const r=Sm(e);n.push(Ni(r.recoveryParam,"recoveryParam")),n.push(nc(r.r)),n.push(nc(r.s))}return si(["0x01",Xh(n)])}function eTe(t,e){bG(t,J1e);const n=[];Z1e.forEach(function(a){let o=t[a.name]||[];const l={};a.numeric&&(l.hexPad="left"),o=it(Qe(o,l)),a.length&&o.length!==a.length&&o.length>0&&vs.throwArgumentError("invalid length for "+a.name,"transaction:"+a.name,o),a.maxLength&&(o=nc(o),o.length>a.maxLength&&vs.throwArgumentError("invalid length for "+a.name,"transaction:"+a.name,o)),n.push(Qe(o))});let r=0;if(t.chainId!=null?(r=t.chainId,typeof r!="number"&&vs.throwArgumentError("invalid transaction.chainId","transaction",t)):e&&!FT(e)&&e.v>28&&(r=Math.floor((e.v-35)/2)),r!==0&&(n.push(Qe(r)),n.push("0x"),n.push("0x")),!e)return Xh(n);const s=Sm(e);let i=27+s.recoveryParam;return r!==0?(n.pop(),n.pop(),n.pop(),i+=r*2+8,s.v>28&&s.v!==i&&vs.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):s.v!==i&&vs.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),n.push(Qe(i)),n.push(nc(it(s.r))),n.push(nc(it(s.s))),Xh(n)}function T9e(t,e){if(t.type==null||t.type===0)return t.accessList!=null&&vs.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",t),eTe(t,e);switch(t.type){case 1:return vK(t,e);case 2:return gK(t,e)}return vs.throwError(`unsupported transaction type: ${t.type}`,oe.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:t.type})}function bK(t,e,n){try{const r=ms(e[0]).toNumber();if(r!==0&&r!==1)throw new Error("bad recid");t.v=r}catch{vs.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=_n(e[1],32),t.s=_n(e[2],32);try{const r=Er(n(t));t.from=mK(r,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function tTe(t){const e=HR(t.slice(1));e.length!==9&&e.length!==12&&vs.throwArgumentError("invalid component count for transaction type: 2","payload",Qe(t));const n=ms(e[2]),r=ms(e[3]),s={type:2,chainId:ms(e[0]).toNumber(),nonce:ms(e[1]).toNumber(),maxPriorityFeePerGas:n,maxFeePerGas:r,gasPrice:null,gasLimit:ms(e[4]),to:ZR(e[5]),value:ms(e[6]),data:e[7],accessList:_m(e[8])};return e.length===9||(s.hash=Er(t),bK(s,e.slice(9),gK)),s}function nTe(t){const e=HR(t.slice(1));e.length!==8&&e.length!==11&&vs.throwArgumentError("invalid component count for transaction type: 1","payload",Qe(t));const n={type:1,chainId:ms(e[0]).toNumber(),nonce:ms(e[1]).toNumber(),gasPrice:ms(e[2]),gasLimit:ms(e[3]),to:ZR(e[4]),value:ms(e[5]),data:e[6],accessList:_m(e[7])};return e.length===8||(n.hash=Er(t),bK(n,e.slice(8),vK)),n}function rTe(t){const e=HR(t);e.length!==9&&e.length!==6&&vs.throwArgumentError("invalid raw transaction","rawTransaction",t);const n={nonce:ms(e[0]).toNumber(),gasPrice:ms(e[1]),gasLimit:ms(e[2]),to:ZR(e[3]),value:ms(e[4]),data:e[5],chainId:0};if(e.length===6)return n;try{n.v=ze.from(e[6]).toNumber()}catch{return n}if(n.r=_n(e[7],32),n.s=_n(e[8],32),ze.from(n.r).isZero()&&ze.from(n.s).isZero())n.chainId=n.v,n.v=0;else{n.chainId=Math.floor((n.v-35)/2),n.chainId<0&&(n.chainId=0);let r=n.v-27;const s=e.slice(0,6);n.chainId!==0&&(s.push(Qe(n.chainId)),s.push("0x"),s.push("0x"),r-=n.chainId*2+8);const i=Er(Xh(s));try{n.from=mK(i,{r:Qe(n.r),s:Qe(n.s),recoveryParam:r})}catch{}n.hash=Er(t)}return n.type=null,n}function sTe(t){const e=it(t);if(e[0]>127)return rTe(e);switch(e[0]){case 1:return nTe(e);case 2:return tTe(e)}return vs.throwError(`unsupported transaction type: ${e[0]}`,oe.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const iTe="contracts/5.7.0";var id=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(d){try{u(r.next(d))}catch(p){a(p)}}function l(d){try{u(r.throw(d))}catch(p){a(p)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((r=r.apply(t,e||[])).next())})};const yn=new oe(iTe),aTe={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0,customData:!0,ccipReadEnabled:!0};function a1(t,e){return id(this,void 0,void 0,function*(){const n=yield e;typeof n!="string"&&yn.throwArgumentError("invalid address or ENS name","name",n);try{return ss(n)}catch{}t||yn.throwError("a provider or signer is needed to resolve ENS names",oe.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const r=yield t.resolveName(n);return r==null&&yn.throwArgumentError("resolver or addr is not configured for ENS name","name",n),r})}function dg(t,e,n){return id(this,void 0,void 0,function*(){return Array.isArray(n)?yield Promise.all(n.map((r,s)=>dg(t,Array.isArray(e)?e[s]:e[r.name],r))):n.type==="address"?yield a1(t,e):n.type==="tuple"?yield dg(t,e,n.components):n.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(r=>dg(t,r,n.arrayChildren))):Promise.reject(yn.makeError("invalid value for array",oe.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function WT(t,e,n){return id(this,void 0,void 0,function*(){let r={};n.length===e.inputs.length+1&&typeof n[n.length-1]=="object"&&(r=vr(n.pop())),yn.checkArgumentCount(n.length,e.inputs.length,"passed to contract"),t.signer?r.from?r.from=pr({override:a1(t.signer,r.from),signer:t.signer.getAddress()}).then(u=>id(this,void 0,void 0,function*(){return ss(u.signer)!==u.override&&yn.throwError("Contract with a Signer cannot override from",oe.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),u.override})):r.from=t.signer.getAddress():r.from&&(r.from=a1(t.provider,r.from));const s=yield pr({args:dg(t.signer||t.provider,n,e.inputs),address:t.resolvedAddress,overrides:pr(r)||{}}),i=t.interface.encodeFunctionData(e,s.args),a={data:i,to:s.address},o=s.overrides;if(o.nonce!=null&&(a.nonce=ze.from(o.nonce).toNumber()),o.gasLimit!=null&&(a.gasLimit=ze.from(o.gasLimit)),o.gasPrice!=null&&(a.gasPrice=ze.from(o.gasPrice)),o.maxFeePerGas!=null&&(a.maxFeePerGas=ze.from(o.maxFeePerGas)),o.maxPriorityFeePerGas!=null&&(a.maxPriorityFeePerGas=ze.from(o.maxPriorityFeePerGas)),o.from!=null&&(a.from=o.from),o.type!=null&&(a.type=o.type),o.accessList!=null&&(a.accessList=_m(o.accessList)),a.gasLimit==null&&e.gas!=null){let u=21e3;const d=it(i);for(let p=0;p<d.length;p++)u+=4,d[p]&&(u+=64);a.gasLimit=ze.from(e.gas).add(u)}if(o.value){const u=ze.from(o.value);!u.isZero()&&!e.payable&&yn.throwError("non-payable method cannot override value",oe.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:r.value}),a.value=u}o.customData&&(a.customData=vr(o.customData)),o.ccipReadEnabled&&(a.ccipReadEnabled=!!o.ccipReadEnabled),delete r.nonce,delete r.gasLimit,delete r.gasPrice,delete r.from,delete r.value,delete r.type,delete r.accessList,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas,delete r.customData,delete r.ccipReadEnabled;const l=Object.keys(r).filter(u=>r[u]!=null);return l.length&&yn.throwError(`cannot override ${l.map(u=>JSON.stringify(u)).join(",")}`,oe.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:l}),a})}function oTe(t,e){return function(...n){return WT(t,e,n)}}function lTe(t,e){const n=t.signer||t.provider;return function(...r){return id(this,void 0,void 0,function*(){n||yn.throwError("estimate require a provider or signer",oe.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const s=yield WT(t,e,r);return yield n.estimateGas(s)})}}function wK(t,e){const n=e.wait.bind(e);e.wait=r=>n(r).then(s=>(s.events=s.logs.map(i=>{let a=Tc(i),o=null;try{o=t.interface.parseLog(i)}catch{}return o&&(a.args=o.args,a.decode=(l,u)=>t.interface.decodeEventLog(o.eventFragment,l,u),a.event=o.name,a.eventSignature=o.signature),a.removeListener=()=>t.provider,a.getBlock=()=>t.provider.getBlock(s.blockHash),a.getTransaction=()=>t.provider.getTransaction(s.transactionHash),a.getTransactionReceipt=()=>Promise.resolve(s),a}),s))}function xK(t,e,n){const r=t.signer||t.provider;return function(...s){return id(this,void 0,void 0,function*(){let i;if(s.length===e.inputs.length+1&&typeof s[s.length-1]=="object"){const l=vr(s.pop());l.blockTag!=null&&(i=yield l.blockTag),delete l.blockTag,s.push(l)}t.deployTransaction!=null&&(yield t._deployed(i));const a=yield WT(t,e,s),o=yield r.call(a,i);try{let l=t.interface.decodeFunctionResult(e,o);return n&&e.outputs.length===1&&(l=l[0]),l}catch(l){throw l.code===oe.errors.CALL_EXCEPTION&&(l.address=t.address,l.args=s,l.transaction=a),l}})}}function cTe(t,e){return function(...n){return id(this,void 0,void 0,function*(){t.signer||yn.throwError("sending a transaction requires a signer",oe.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),t.deployTransaction!=null&&(yield t._deployed());const r=yield WT(t,e,n),s=yield t.signer.sendTransaction(r);return wK(t,s),s})}}function dL(t,e,n){return e.constant?xK(t,e,n):cTe(t,e)}function TK(t){return t.address&&(t.topics==null||t.topics.length===0)?"*":(t.address||"*")+"@"+(t.topics?t.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class c0{constructor(e,n){Pe(this,"tag",e),Pe(this,"filter",n),this._listeners=[]}addListener(e,n){this._listeners.push({listener:e,once:n})}removeListener(e){let n=!1;this._listeners=this._listeners.filter(r=>n||r.listener!==e?!0:(n=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const n=this.listenerCount();return this._listeners=this._listeners.filter(r=>{const s=e.slice();return setTimeout(()=>{r.listener.apply(this,s)},0),!r.once}),n}prepareEvent(e){}getEmit(e){return[e]}}class uTe extends c0{constructor(){super("error",null)}}class pL extends c0{constructor(e,n,r,s){const i={address:e};let a=n.getEventTopic(r);s?(a!==s[0]&&yn.throwArgumentError("topic mismatch","topics",s),i.topics=s.slice()):i.topics=[a],super(TK(i),i),Pe(this,"address",e),Pe(this,"interface",n),Pe(this,"fragment",r)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(n,r)=>this.interface.decodeEventLog(this.fragment,n,r);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(n){e.args=null,e.decodeError=n}}getEmit(e){const n=Wbe(e.args);if(n.length)throw n[0].error;const r=(e.args||[]).slice();return r.push(e),r}}class fL extends c0{constructor(e,n){super("*",{address:e}),Pe(this,"address",e),Pe(this,"interface",n)}prepareEvent(e){super.prepareEvent(e);try{const n=this.interface.parseLog(e);e.event=n.name,e.eventSignature=n.signature,e.decode=(r,s)=>this.interface.decodeEventLog(n.eventFragment,r,s),e.args=n.args}catch{}}}class dTe{constructor(e,n,r){Pe(this,"interface",_i(new.target,"getInterface")(n)),r==null?(Pe(this,"provider",null),Pe(this,"signer",null)):Rm.isSigner(r)?(Pe(this,"provider",r.provider||null),Pe(this,"signer",r)):UT.isProvider(r)?(Pe(this,"provider",r),Pe(this,"signer",null)):yn.throwArgumentError("invalid signer or provider","signerOrProvider",r),Pe(this,"callStatic",{}),Pe(this,"estimateGas",{}),Pe(this,"functions",{}),Pe(this,"populateTransaction",{}),Pe(this,"filters",{});{const a={};Object.keys(this.interface.events).forEach(o=>{const l=this.interface.events[o];Pe(this.filters,o,(...u)=>({address:this.address,topics:this.interface.encodeFilterTopics(l,u)})),a[l.name]||(a[l.name]=[]),a[l.name].push(o)}),Object.keys(a).forEach(o=>{const l=a[o];l.length===1?Pe(this.filters,o,this.filters[l[0]]):yn.warn(`Duplicate definition of ${o} (${l.join(", ")})`)})}if(Pe(this,"_runningEvents",{}),Pe(this,"_wrappedEmits",{}),e==null&&yn.throwArgumentError("invalid contract address or ENS name","addressOrName",e),Pe(this,"address",e),this.provider)Pe(this,"resolvedAddress",a1(this.provider,e));else try{Pe(this,"resolvedAddress",Promise.resolve(ss(e)))}catch{yn.throwError("provider is required to use ENS name as contract address",oe.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(a=>{});const s={},i={};Object.keys(this.interface.functions).forEach(a=>{const o=this.interface.functions[a];if(i[a]){yn.warn(`Duplicate ABI entry for ${JSON.stringify(a)}`);return}i[a]=!0;{const l=o.name;s[`%${l}`]||(s[`%${l}`]=[]),s[`%${l}`].push(a)}this[a]==null&&Pe(this,a,dL(this,o,!0)),this.functions[a]==null&&Pe(this.functions,a,dL(this,o,!1)),this.callStatic[a]==null&&Pe(this.callStatic,a,xK(this,o,!0)),this.populateTransaction[a]==null&&Pe(this.populateTransaction,a,oTe(this,o)),this.estimateGas[a]==null&&Pe(this.estimateGas,a,lTe(this,o))}),Object.keys(s).forEach(a=>{const o=s[a];if(o.length>1)return;a=a.substring(1);const l=o[0];try{this[a]==null&&Pe(this,a,this[l])}catch{}this.functions[a]==null&&Pe(this.functions,a,this.functions[l]),this.callStatic[a]==null&&Pe(this.callStatic,a,this.callStatic[l]),this.populateTransaction[a]==null&&Pe(this.populateTransaction,a,this.populateTransaction[l]),this.estimateGas[a]==null&&Pe(this.estimateGas,a,this.estimateGas[l])})}static getContractAddress(e){return GR(e)}static getInterface(e){return sL.isInterface(e)?e:new sL(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(n=>(n==="0x"&&yn.throwError("contract not deployed",oe.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||yn.throwError("sending a transactions require a signer",oe.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const n=vr(e||{});return["from","to"].forEach(function(r){n[r]!=null&&yn.throwError("cannot override "+r,oe.errors.UNSUPPORTED_OPERATION,{operation:r})}),n.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(n))}connect(e){typeof e=="string"&&(e=new KR(e,this.provider));const n=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&Pe(n,"deployTransaction",this.deployTransaction),n}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return q6.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new uTe);if(e==="event")return this._normalizeRunningEvent(new c0("event",null));if(e==="*")return this._normalizeRunningEvent(new fL(this.address,this.interface));const n=this.interface.getEvent(e);return this._normalizeRunningEvent(new pL(this.address,this.interface,n))}if(e.topics&&e.topics.length>0){try{const r=e.topics[0];if(typeof r!="string")throw new Error("invalid topic");const s=this.interface.getEvent(r);return this._normalizeRunningEvent(new pL(this.address,this.interface,s,e.topics))}catch{}const n={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new c0(TK(n),n))}return this._normalizeRunningEvent(new fL(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const n=this._wrappedEmits[e.tag];n&&e.filter&&(this.provider.off(e.filter,n),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,n,r){const s=Tc(n);return s.removeListener=()=>{r&&(e.removeListener(r),this._checkRunningEvents(e))},s.getBlock=()=>this.provider.getBlock(n.blockHash),s.getTransaction=()=>this.provider.getTransaction(n.transactionHash),s.getTransactionReceipt=()=>this.provider.getTransactionReceipt(n.transactionHash),e.prepareEvent(s),s}_addEventListener(e,n,r){if(this.provider||yn.throwError("events require a provider or a signer with a provider",oe.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(n,r),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const s=i=>{let a=this._wrapEvent(e,i,n);if(a.decodeError==null)try{const o=e.getEmit(a);this.emit(e.filter,...o)}catch(o){a.decodeError=o.error}e.filter!=null&&this.emit("event",a),a.decodeError!=null&&this.emit("error",a.decodeError,a)};this._wrappedEmits[e.tag]=s,e.filter!=null&&this.provider.on(e.filter,s)}}queryFilter(e,n,r){const s=this._getRunningEvent(e),i=vr(s.filter);return typeof n=="string"&&sn(n,32)?(r!=null&&yn.throwArgumentError("cannot specify toBlock with blockhash","toBlock",r),i.blockHash=n):(i.fromBlock=n??0,i.toBlock=r??"latest"),this.provider.getLogs(i).then(a=>a.map(o=>this._wrapEvent(s,o,null)))}on(e,n){return this._addEventListener(this._getRunningEvent(e),n,!1),this}once(e,n){return this._addEventListener(this._getRunningEvent(e),n,!0),this}emit(e,...n){if(!this.provider)return!1;const r=this._getRunningEvent(e),s=r.run(n)>0;return this._checkRunningEvents(r),s}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((n,r)=>n+this._runningEvents[r].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const n=[];for(let r in this._runningEvents)this._runningEvents[r].listeners().forEach(s=>{n.push(s)});return n}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const r in this._runningEvents){const s=this._runningEvents[r];s.removeAllListeners(),this._checkRunningEvents(s)}return this}const n=this._getRunningEvent(e);return n.removeAllListeners(),this._checkRunningEvents(n),this}off(e,n){if(!this.provider)return this;const r=this._getRunningEvent(e);return r.removeListener(n),this._checkRunningEvents(r),this}removeListener(e,n){return this.off(e,n)}}class at extends dTe{}class A9e{constructor(e,n,r){let s=null;typeof n=="string"?s=n:af(n)?s=Qe(n):n&&typeof n.object=="string"?s=n.object:s="!",s.substring(0,2)!=="0x"&&(s="0x"+s),(!sn(s)||s.length%2)&&yn.throwArgumentError("invalid bytecode","bytecode",n),r&&!Rm.isSigner(r)&&yn.throwArgumentError("invalid signer","signer",r),Pe(this,"bytecode",s),Pe(this,"interface",_i(new.target,"getInterface")(e)),Pe(this,"signer",r||null)}getDeployTransaction(...e){let n={};if(e.length===this.interface.deploy.inputs.length+1&&typeof e[e.length-1]=="object"){n=vr(e.pop());for(const r in n)if(!aTe[r])throw new Error("unknown transaction override "+r)}return["data","from","to"].forEach(r=>{n[r]!=null&&yn.throwError("cannot override "+r,oe.errors.UNSUPPORTED_OPERATION,{operation:r})}),n.value&&!ze.from(n.value).isZero()&&!this.interface.deploy.payable&&yn.throwError("non-payable constructor cannot override value",oe.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),yn.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor"),n.data=Qe(Bs([this.bytecode,this.interface.encodeDeploy(e)])),n}deploy(...e){return id(this,void 0,void 0,function*(){let n={};e.length===this.interface.deploy.inputs.length+1&&(n=e.pop()),yn.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor");const r=yield dg(this.signer,e,this.interface.deploy.inputs);r.push(n);const s=this.getDeployTransaction(...r),i=yield this.signer.sendTransaction(s),a=_i(this.constructor,"getContractAddress")(i),o=_i(this.constructor,"getContract")(a,this.interface,this.signer);return wK(o,i),Pe(o,"deployTransaction",i),o})}attach(e){return this.constructor.getContract(e,this.interface,this.signer)}connect(e){return new this.constructor(this.interface,this.bytecode,e)}static fromSolidity(e,n){e==null&&yn.throwError("missing compiler output",oe.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),typeof e=="string"&&(e=JSON.parse(e));const r=e.abi;let s=null;return e.bytecode?s=e.bytecode:e.evm&&e.evm.bytecode&&(s=e.evm.bytecode),new this(r,s,n)}static getInterface(e){return at.getInterface(e)}static getContractAddress(e){return GR(e)}static getContract(e,n,r){return new at(e,n,r)}}const pTe="logger/5.7.0";let hL=!1,mL=!1;const Bw={debug:1,default:2,info:2,warning:3,error:4,off:5};let yL=Bw.default,jI=null;function fTe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const gL=fTe();var tE;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(tE||(tE={}));var La;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(La||(La={}));const vL="0123456789abcdef";class Vt{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,n){const r=e.toLowerCase();Bw[r]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(yL>Bw[r])&&console.log.apply(console,n)}debug(...e){this._log(Vt.levels.DEBUG,e)}info(...e){this._log(Vt.levels.INFO,e)}warn(...e){this._log(Vt.levels.WARNING,e)}makeError(e,n,r){if(mL)return this.makeError("censored error",n,{});n||(n=Vt.errors.UNKNOWN_ERROR),r||(r={});const s=[];Object.keys(r).forEach(l=>{const u=r[l];try{if(u instanceof Uint8Array){let d="";for(let p=0;p<u.length;p++)d+=vL[u[p]>>4],d+=vL[u[p]&15];s.push(l+"=Uint8Array(0x"+d+")")}else s.push(l+"="+JSON.stringify(u))}catch{s.push(l+"="+JSON.stringify(r[l].toString()))}}),s.push(`code=${n}`),s.push(`version=${this.version}`);const i=e;let a="";switch(n){case La.NUMERIC_FAULT:{a="NUMERIC_FAULT";const l=e;switch(l){case"overflow":case"underflow":case"division-by-zero":a+="-"+l;break;case"negative-power":case"negative-width":a+="-unsupported";break;case"unbound-bitwise-result":a+="-unbound-result";break}break}case La.CALL_EXCEPTION:case La.INSUFFICIENT_FUNDS:case La.MISSING_NEW:case La.NONCE_EXPIRED:case La.REPLACEMENT_UNDERPRICED:case La.TRANSACTION_REPLACED:case La.UNPREDICTABLE_GAS_LIMIT:a=n;break}a&&(e+=" [ See: https://links.ethers.org/v5-errors-"+a+" ]"),s.length&&(e+=" ("+s.join(", ")+")");const o=new Error(e);return o.reason=i,o.code=n,Object.keys(r).forEach(function(l){o[l]=r[l]}),o}throwError(e,n,r){throw this.makeError(e,n,r)}throwArgumentError(e,n,r){return this.throwError(e,Vt.errors.INVALID_ARGUMENT,{argument:n,value:r})}assert(e,n,r,s){e||this.throwError(n,r,s)}assertArgument(e,n,r,s){e||this.throwArgumentError(n,r,s)}checkNormalize(e){gL&&this.throwError("platform missing String.prototype.normalize",Vt.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:gL})}checkSafeUint53(e,n){typeof e=="number"&&(n==null&&(n="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(n,Vt.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(n,Vt.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,n,r){r?r=": "+r:r="",e<n&&this.throwError("missing argument"+r,Vt.errors.MISSING_ARGUMENT,{count:e,expectedCount:n}),e>n&&this.throwError("too many arguments"+r,Vt.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:n})}checkNew(e,n){(e===Object||e==null)&&this.throwError("missing new",Vt.errors.MISSING_NEW,{name:n.name})}checkAbstract(e,n){e===n?this.throwError("cannot instantiate abstract class "+JSON.stringify(n.name)+" directly; use a sub-class",Vt.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Vt.errors.MISSING_NEW,{name:n.name})}static globalLogger(){return jI||(jI=new Vt(pTe)),jI}static setCensorship(e,n){if(!e&&n&&this.globalLogger().throwError("cannot permanently disable censorship",Vt.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),hL){if(!e)return;this.globalLogger().throwError("error censorship permanent",Vt.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}mL=!!e,hL=!!n}static setLogLevel(e){const n=Bw[e.toLowerCase()];if(n==null){Vt.globalLogger().warn("invalid log level - "+e);return}yL=n}static from(e){return new Vt(e)}}Vt.errors=La;Vt.levels=tE;const hTe="bytes/5.7.0",qn=new Vt(hTe);function AK(t){return!!t.toHexString}function hh(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return hh(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function IK(t){return hi(t)&&!(t.length%2)||Ev(t)}function bL(t){return typeof t=="number"&&t==t&&t%1===0}function Ev(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!bL(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const n=t[e];if(!bL(n)||n<0||n>=256)return!1}return!0}function Fi(t,e){if(e||(e={}),typeof t=="number"){qn.checkSafeUint53(t,"invalid arrayify value");const n=[];for(;t;)n.unshift(t&255),t=parseInt(String(t/256));return n.length===0&&n.push(0),hh(new Uint8Array(n))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),AK(t)&&(t=t.toHexString()),hi(t)){let n=t.substring(2);n.length%2&&(e.hexPad==="left"?n="0"+n:e.hexPad==="right"?n+="0":qn.throwArgumentError("hex data is odd-length","value",t));const r=[];for(let s=0;s<n.length;s+=2)r.push(parseInt(n.substring(s,s+2),16));return hh(new Uint8Array(r))}return Ev(t)?hh(new Uint8Array(t)):qn.throwArgumentError("invalid arrayify value","value",t)}function kK(t){const e=t.map(s=>Fi(s)),n=e.reduce((s,i)=>s+i.length,0),r=new Uint8Array(n);return e.reduce((s,i)=>(r.set(i,s),s+i.length),0),hh(r)}function mTe(t){let e=Fi(t);if(e.length===0)return e;let n=0;for(;n<e.length&&e[n]===0;)n++;return n&&(e=e.slice(n)),e}function yTe(t,e){t=Fi(t),t.length>e&&qn.throwArgumentError("value out of range","value",arguments[0]);const n=new Uint8Array(e);return n.set(t,e-t.length),hh(n)}function hi(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const DI="0123456789abcdef";function hr(t,e){if(e||(e={}),typeof t=="number"){qn.checkSafeUint53(t,"invalid hexlify value");let n="";for(;t;)n=DI[t&15]+n,t=Math.floor(t/16);return n.length?(n.length%2&&(n="0"+n),"0x"+n):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),AK(t))return t.toHexString();if(hi(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":qn.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(Ev(t)){let n="0x";for(let r=0;r<t.length;r++){let s=t[r];n+=DI[(s&240)>>4]+DI[s&15]}return n}return qn.throwArgumentError("invalid hexlify value","value",t)}function wL(t){if(typeof t!="string")t=hr(t);else if(!hi(t)||t.length%2)return null;return(t.length-2)/2}function CK(t,e,n){return typeof t!="string"?t=hr(t):(!hi(t)||t.length%2)&&qn.throwArgumentError("invalid hexData","value",t),e=2+2*e,n!=null?"0x"+t.substring(e,2+2*n):"0x"+t.substring(e)}function I9e(t){let e="0x";return t.forEach(n=>{e+=hr(n).substring(2)}),e}function k9e(t){const e=gTe(hr(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function gTe(t){typeof t!="string"&&(t=hr(t)),hi(t)||qn.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function _I(t,e){for(typeof t!="string"?t=hr(t):hi(t)||qn.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&qn.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function vTe(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(IK(t)){let n=Fi(t);n.length===64?(e.v=27+(n[32]>>7),n[32]&=127,e.r=hr(n.slice(0,32)),e.s=hr(n.slice(32,64))):n.length===65?(e.r=hr(n.slice(0,32)),e.s=hr(n.slice(32,64)),e.v=n[64]):qn.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:qn.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(n[32]|=128),e._vs=hr(n.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const s=yTe(Fi(e._vs),32);e._vs=hr(s);const i=s[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=i:e.recoveryParam!==i&&qn.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),s[0]&=127;const a=hr(s);e.s==null?e.s=a:e.s!==a&&qn.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?qn.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const s=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==s&&qn.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!hi(e.r)?qn.throwArgumentError("signature missing or invalid r","signature",t):e.r=_I(e.r,32),e.s==null||!hi(e.s)?qn.throwArgumentError("signature missing or invalid s","signature",t):e.s=_I(e.s,32);const n=Fi(e.s);n[0]>=128&&qn.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(n[0]|=128);const r=hr(n);e._vs&&(hi(e._vs)||qn.throwArgumentError("signature invalid _vs","signature",t),e._vs=_I(e._vs,32)),e._vs==null?e._vs=r:e._vs!==r&&qn.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function C9e(t){return t=vTe(t),hr(kK([t.r,t.s,t.recoveryParam?"0x1c":"0x1b"]))}const bTe="bignumber/5.7.0";var u0=Ct.BN;const Pl=new Vt(bTe),LI={},xL=9007199254740991;function E9e(t){return t!=null&&(sr.isBigNumber(t)||typeof t=="number"&&t%1===0||typeof t=="string"&&!!t.match(/^-?[0-9]+$/)||hi(t)||typeof t=="bigint"||Ev(t))}let TL=!1;class sr{constructor(e,n){e!==LI&&Pl.throwError("cannot call constructor directly; use BigNumber.from",Vt.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=n,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return Ys(Xt(this).fromTwos(e))}toTwos(e){return Ys(Xt(this).toTwos(e))}abs(){return this._hex[0]==="-"?sr.from(this._hex.substring(1)):this}add(e){return Ys(Xt(this).add(Xt(e)))}sub(e){return Ys(Xt(this).sub(Xt(e)))}div(e){return sr.from(e).isZero()&&Xi("division-by-zero","div"),Ys(Xt(this).div(Xt(e)))}mul(e){return Ys(Xt(this).mul(Xt(e)))}mod(e){const n=Xt(e);return n.isNeg()&&Xi("division-by-zero","mod"),Ys(Xt(this).umod(n))}pow(e){const n=Xt(e);return n.isNeg()&&Xi("negative-power","pow"),Ys(Xt(this).pow(n))}and(e){const n=Xt(e);return(this.isNegative()||n.isNeg())&&Xi("unbound-bitwise-result","and"),Ys(Xt(this).and(n))}or(e){const n=Xt(e);return(this.isNegative()||n.isNeg())&&Xi("unbound-bitwise-result","or"),Ys(Xt(this).or(n))}xor(e){const n=Xt(e);return(this.isNegative()||n.isNeg())&&Xi("unbound-bitwise-result","xor"),Ys(Xt(this).xor(n))}mask(e){return(this.isNegative()||e<0)&&Xi("negative-width","mask"),Ys(Xt(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&Xi("negative-width","shl"),Ys(Xt(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&Xi("negative-width","shr"),Ys(Xt(this).shrn(e))}eq(e){return Xt(this).eq(Xt(e))}lt(e){return Xt(this).lt(Xt(e))}lte(e){return Xt(this).lte(Xt(e))}gt(e){return Xt(this).gt(Xt(e))}gte(e){return Xt(this).gte(Xt(e))}isNegative(){return this._hex[0]==="-"}isZero(){return Xt(this).isZero()}toNumber(){try{return Xt(this).toNumber()}catch{Xi("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Pl.throwError("this platform does not support BigInt",Vt.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?TL||(TL=!0,Pl.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Pl.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Vt.errors.UNEXPECTED_ARGUMENT,{}):Pl.throwError("BigNumber.toString does not accept parameters",Vt.errors.UNEXPECTED_ARGUMENT,{})),Xt(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof sr)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new sr(LI,d0(e)):e.match(/^-?[0-9]+$/)?new sr(LI,d0(new u0(e))):Pl.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&Xi("underflow","BigNumber.from",e),(e>=xL||e<=-xL)&&Xi("overflow","BigNumber.from",e),sr.from(String(e));const n=e;if(typeof n=="bigint")return sr.from(n.toString());if(Ev(n))return sr.from(hr(n));if(n)if(n.toHexString){const r=n.toHexString();if(typeof r=="string")return sr.from(r)}else{let r=n._hex;if(r==null&&n.type==="BigNumber"&&(r=n.hex),typeof r=="string"&&(hi(r)||r[0]==="-"&&hi(r.substring(1))))return sr.from(r)}return Pl.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function d0(t){if(typeof t!="string")return d0(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&Pl.throwArgumentError("invalid hex","value",t),t=d0(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function Ys(t){return sr.from(d0(t))}function Xt(t){const e=sr.from(t).toHexString();return e[0]==="-"?new u0("-"+e.substring(3),16):new u0(e.substring(2),16)}function Xi(t,e,n){const r={fault:t,operation:e};return n!=null&&(r.value=n),Pl.throwError(t,Vt.errors.NUMERIC_FAULT,r)}function wTe(t){return new u0(t,36).toString(16)}function xTe(t){return new u0(t,16).toString(36)}class EK{constructor(e){Pe(this,"alphabet",e),Pe(this,"base",e.length),Pe(this,"_alphabetMap",{}),Pe(this,"_leader",e.charAt(0));for(let n=0;n<e.length;n++)this._alphabetMap[e.charAt(n)]=n}encode(e){let n=it(e);if(n.length===0)return"";let r=[0];for(let i=0;i<n.length;++i){let a=n[i];for(let o=0;o<r.length;++o)a+=r[o]<<8,r[o]=a%this.base,a=a/this.base|0;for(;a>0;)r.push(a%this.base),a=a/this.base|0}let s="";for(let i=0;n[i]===0&&i<n.length-1;++i)s+=this._leader;for(let i=r.length-1;i>=0;--i)s+=this.alphabet[r[i]];return s}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let n=[];if(e.length===0)return new Uint8Array(n);n.push(0);for(let r=0;r<e.length;r++){let s=this._alphabetMap[e[r]];if(s===void 0)throw new Error("Non-base"+this.base+" character");let i=s;for(let a=0;a<n.length;++a)i+=n[a]*this.base,n[a]=i&255,i>>=8;for(;i>0;)n.push(i&255),i>>=8}for(let r=0;e[r]===this._leader&&r<e.length-1;++r)n.push(0);return it(new Uint8Array(n.reverse()))}}new EK("abcdefghijklmnopqrstuvwxyz234567");const nE=new EK("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var rE;(function(t){t.sha256="sha256",t.sha512="sha512"})(rE||(rE={}));const TTe="sha2/5.7.0",ATe=new oe(TTe);function N9e(t){return"0x"+ei.ripemd160().update(it(t)).digest("hex")}function AL(t){return"0x"+ei.sha256().update(it(t)).digest("hex")}function S9e(t){return"0x"+ei.sha512().update(it(t)).digest("hex")}function R9e(t,e,n){return rE[t]||ATe.throwError("unsupported algorithm "+t,oe.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:t}),"0x"+ei.hmac(ei[t],it(e)).update(it(n)).digest("hex")}const ITe="0x0000000000000000000000000000000000000000",kTe="networks/5.8.0",IL=new oe(kTe);function CTe(t){return t&&typeof t.renetwork=="function"}function Oa(t){const e=function(n,r){r==null&&(r={});const s=[];if(n.InfuraProvider&&r.infura!=="-")try{s.push(new n.InfuraProvider(t,r.infura))}catch{}if(n.EtherscanProvider&&r.etherscan!=="-")try{s.push(new n.EtherscanProvider(t,r.etherscan))}catch{}if(n.AlchemyProvider&&r.alchemy!=="-")try{s.push(new n.AlchemyProvider(t,r.alchemy))}catch{}if(n.PocketProvider&&r.pocket!=="-"){const i=["goerli","ropsten","rinkeby","sepolia"];try{const a=new n.PocketProvider(t,r.pocket);a.network&&i.indexOf(a.network.name)===-1&&s.push(a)}catch{}}if(n.CloudflareProvider&&r.cloudflare!=="-")try{s.push(new n.CloudflareProvider(t))}catch{}if(n.AnkrProvider&&r.ankr!=="-")try{const i=["ropsten"],a=new n.AnkrProvider(t,r.ankr);a.network&&i.indexOf(a.network.name)===-1&&s.push(a)}catch{}if(n.QuickNodeProvider&&r.quicknode!=="-")try{s.push(new n.QuickNodeProvider(t,r.quicknode))}catch{}if(s.length===0)return null;if(n.FallbackProvider){let i=1;return r.quorum!=null?i=r.quorum:t==="homestead"&&(i=2),new n.FallbackProvider(s,i)}return s[0]};return e.renetwork=function(n){return Oa(n)},e}function o1(t,e){const n=function(r,s){return r.JsonRpcProvider?new r.JsonRpcProvider(t,e):null};return n.renetwork=function(r){return o1(t,r)},n}const kL={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:Oa("homestead")},CL={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:Oa("ropsten")},EL={chainId:63,name:"classicMordor",_defaultProvider:o1("https://www.ethercluster.com/mordor","classicMordor")},Rb={unspecified:{chainId:0,name:"unspecified"},homestead:kL,mainnet:kL,morden:{chainId:2,name:"morden"},ropsten:CL,testnet:CL,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:Oa("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:Oa("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:Oa("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"sepolia",_defaultProvider:Oa("sepolia")},holesky:{chainId:17e3,name:"holesky",_defaultProvider:Oa("holesky")},classic:{chainId:61,name:"classic",_defaultProvider:o1("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:EL,classicTestnet:EL,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:o1("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:Oa("matic")},maticmum:{chainId:80001,name:"maticmum",_defaultProvider:Oa("maticmum")},optimism:{chainId:10,name:"optimism",_defaultProvider:Oa("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},"optimism-sepolia":{chainId:11155420,name:"optimism-sepolia"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},"arbitrum-sepolia":{chainId:421614,name:"arbitrum-sepolia"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function ETe(t){if(t==null)return null;if(typeof t=="number"){for(const r in Rb){const s=Rb[r];if(s.chainId===t)return{name:s.name,chainId:s.chainId,ensAddress:s.ensAddress||null,_defaultProvider:s._defaultProvider||null}}return{chainId:t,name:"unknown"}}if(typeof t=="string"){const r=Rb[t];return r==null?null:{name:r.name,chainId:r.chainId,ensAddress:r.ensAddress,_defaultProvider:r._defaultProvider||null}}const e=Rb[t.name];if(!e)return typeof t.chainId!="number"&&IL.throwArgumentError("invalid network chainId","network",t),t;t.chainId!==0&&t.chainId!==e.chainId&&IL.throwArgumentError("network chainId mismatch","network",t);let n=t._defaultProvider||null;return n==null&&e._defaultProvider&&(CTe(e._defaultProvider)?n=e._defaultProvider.renetwork(t):n=e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:n}}const NTe="web/5.8.0";var STe=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(d){try{u(r.next(d))}catch(p){a(p)}}function l(d){try{u(r.throw(d))}catch(p){a(p)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((r=r.apply(t,e||[])).next())})};function RTe(t,e){return STe(this,void 0,void 0,function*(){e==null&&(e={});const n={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(n.mode="cors",n.cache="no-cache",n.credentials="same-origin",n.redirect="follow",n.referrer="client"),e.fetchOptions!=null){const a=e.fetchOptions;a.mode&&(n.mode=a.mode),a.cache&&(n.cache=a.cache),a.credentials&&(n.credentials=a.credentials),a.redirect&&(n.redirect=a.redirect),a.referrer&&(n.referrer=a.referrer)}const r=yield fetch(t,n),s=yield r.arrayBuffer(),i={};return r.headers.forEach?r.headers.forEach((a,o)=>{i[o.toLowerCase()]=a}):r.headers.keys().forEach(a=>{i[a.toLowerCase()]=r.headers.get(a)}),{headers:i,statusCode:r.status,statusMessage:r.statusText,body:it(new Uint8Array(s))}})}var MTe=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(d){try{u(r.next(d))}catch(p){a(p)}}function l(d){try{u(r.throw(d))}catch(p){a(p)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((r=r.apply(t,e||[])).next())})};const Ra=new oe(NTe);function NL(t){return new Promise(e=>{setTimeout(e,t)})}function Hc(t,e){if(t==null)return null;if(typeof t=="string")return t;if(FT(t)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return kv(t)}catch{}return Qe(t)}return t}function PTe(t){return cl(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,n)=>String.fromCharCode(parseInt(n,16))))}function jTe(t,e,n){const r=typeof t=="object"&&t.throttleLimit!=null?t.throttleLimit:12;Ra.assertArgument(r>0&&r%1===0,"invalid connection throttle limit","connection.throttleLimit",r);const s=typeof t=="object"?t.throttleCallback:null,i=typeof t=="object"&&typeof t.throttleSlotInterval=="number"?t.throttleSlotInterval:100;Ra.assertArgument(i>0&&i%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",i);const a=typeof t=="object"?!!t.errorPassThrough:!1,o={};let l=null;const u={method:"GET"};let d=!1,p=2*60*1e3;if(typeof t=="string")l=t;else if(typeof t=="object"){if((t==null||t.url==null)&&Ra.throwArgumentError("missing URL","connection.url",t),l=t.url,typeof t.timeout=="number"&&t.timeout>0&&(p=t.timeout),t.headers)for(const v in t.headers)o[v.toLowerCase()]={key:v,value:String(t.headers[v])},["if-none-match","if-modified-since"].indexOf(v.toLowerCase())>=0&&(d=!0);if(u.allowGzip=!!t.allowGzip,t.user!=null&&t.password!=null){l.substring(0,6)!=="https:"&&t.allowInsecureAuthentication!==!0&&Ra.throwError("basic authentication requires a secure https url",oe.errors.INVALID_ARGUMENT,{argument:"url",url:l,user:t.user,password:"[REDACTED]"});const v=t.user+":"+t.password;o.authorization={key:"Authorization",value:"Basic "+OG(cl(v))}}t.skipFetchSetup!=null&&(u.skipFetchSetup=!!t.skipFetchSetup),t.fetchOptions!=null&&(u.fetchOptions=vr(t.fetchOptions))}const f=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),h=l?l.match(f):null;if(h)try{const v={statusCode:200,statusMessage:"OK",headers:{"content-type":h[1]||"text/plain"},body:h[2]?LG(h[3]):PTe(h[3])};let b=v.body;return n&&(b=n(v.body,v)),Promise.resolve(b)}catch(v){Ra.throwError("processing response error",oe.errors.SERVER_ERROR,{body:Hc(h[1],h[2]),error:v,requestBody:null,requestMethod:"GET",url:l})}e&&(u.method="POST",u.body=e,o["content-type"]==null&&(o["content-type"]={key:"Content-Type",value:"application/octet-stream"}),o["content-length"]==null&&(o["content-length"]={key:"Content-Length",value:String(e.length)}));const y={};Object.keys(o).forEach(v=>{const b=o[v];y[b.key]=b.value}),u.headers=y;const m=function(){let v=null;return{promise:new Promise(function(A,I){p&&(v=setTimeout(()=>{v!=null&&(v=null,I(Ra.makeError("timeout",oe.errors.TIMEOUT,{requestBody:Hc(u.body,y["content-type"]),requestMethod:u.method,timeout:p,url:l})))},p))}),cancel:function(){v!=null&&(clearTimeout(v),v=null)}}}(),g=function(){return MTe(this,void 0,void 0,function*(){for(let v=0;v<r;v++){let b=null;try{if(b=yield RTe(l,u),v<r){if(b.statusCode===301||b.statusCode===302){const A=b.headers.location||"";if(u.method==="GET"&&A.match(/^https:/)){l=b.headers.location;continue}}else if(b.statusCode===429){let A=!0;if(s&&(A=yield s(v,l)),A){let I=0;const C=b.headers["retry-after"];typeof C=="string"&&C.match(/^[1-9][0-9]*$/)?I=parseInt(C)*1e3:I=i*parseInt(String(Math.random()*Math.pow(2,v))),yield NL(I);continue}}}}catch(A){b=A.response,b==null&&(m.cancel(),Ra.throwError("missing response",oe.errors.SERVER_ERROR,{requestBody:Hc(u.body,y["content-type"]),requestMethod:u.method,serverError:A,url:l}))}let w=b.body;if(d&&b.statusCode===304?w=null:!a&&(b.statusCode<200||b.statusCode>=300)&&(m.cancel(),Ra.throwError("bad response",oe.errors.SERVER_ERROR,{status:b.statusCode,headers:b.headers,body:Hc(w,b.headers?b.headers["content-type"]:null),requestBody:Hc(u.body,y["content-type"]),requestMethod:u.method,url:l})),n)try{const A=yield n(w,b);return m.cancel(),A}catch(A){if(A.throttleRetry&&v<r){let I=!0;if(s&&(I=yield s(v,l)),I){const C=i*parseInt(String(Math.random()*Math.pow(2,v)));yield NL(C);continue}}m.cancel(),Ra.throwError("processing response error",oe.errors.SERVER_ERROR,{body:Hc(w,b.headers?b.headers["content-type"]:null),error:A,requestBody:Hc(u.body,y["content-type"]),requestMethod:u.method,url:l})}return m.cancel(),w}return Ra.throwError("failed response",oe.errors.SERVER_ERROR,{requestBody:Hc(u.body,y["content-type"]),requestMethod:u.method,url:l})})}();return Promise.race([m.promise,g])}function JR(t,e,n){let r=(i,a)=>{let o=null;if(i!=null)try{o=JSON.parse(kv(i))}catch(l){Ra.throwError("invalid JSON",oe.errors.SERVER_ERROR,{body:i,error:l})}return n&&(o=n(o,a)),o},s=null;if(e!=null){s=cl(e);const i=typeof t=="string"?{url:t}:vr(t);i.headers?Object.keys(i.headers).filter(o=>o.toLowerCase()==="content-type").length!==0||(i.headers=vr(i.headers),i.headers["content-type"]="application/json"):i.headers={"content-type":"application/json"},t=i}return jTe(t,s,r)}function _y(t,e){return e||(e={}),e=vr(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(n,r){let s=null,i=!1;const a=()=>i?!1:(i=!0,s&&clearTimeout(s),!0);e.timeout&&(s=setTimeout(()=>{a()&&r(new Error("timeout"))},e.timeout));const o=e.retryLimit;let l=0;function u(){return t().then(function(d){if(d!==void 0)a()&&n(d);else if(e.oncePoll)e.oncePoll.once("poll",u);else if(e.onceBlock)e.onceBlock.once("block",u);else if(!i){if(l++,l>o){a()&&r(new Error("retry limit reached"));return}let p=e.interval*parseInt(String(Math.random()*Math.pow(2,l)));p<e.floor&&(p=e.floor),p>e.ceiling&&(p=e.ceiling),setTimeout(u,p)}return null},function(d){a()&&r(d)})}u()})}var l1="qpzry9x8gf2tvdw0s3jn54khce6mua7l",sE={};for(var Mb=0;Mb<l1.length;Mb++){var OI=l1.charAt(Mb);if(sE[OI]!==void 0)throw new TypeError(OI+" is ambiguous");sE[OI]=Mb}function mh(t){var e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function NK(t){for(var e=1,n=0;n<t.length;++n){var r=t.charCodeAt(n);if(r<33||r>126)return"Invalid prefix ("+t+")";e=mh(e)^r>>5}for(e=mh(e),n=0;n<t.length;++n){var s=t.charCodeAt(n);e=mh(e)^s&31}return e}function DTe(t,e,n){if(n=n||90,t.length+7+e.length>n)throw new TypeError("Exceeds length limit");t=t.toLowerCase();var r=NK(t);if(typeof r=="string")throw new Error(r);for(var s=t+"1",i=0;i<e.length;++i){var a=e[i];if(a>>5)throw new Error("Non 5-bit word");r=mh(r)^a,s+=l1.charAt(a)}for(i=0;i<6;++i)r=mh(r);for(r^=1,i=0;i<6;++i){var o=r>>(5-i)*5&31;s+=l1.charAt(o)}return s}function SK(t,e){if(e=e||90,t.length<8)return t+" too short";if(t.length>e)return"Exceeds length limit";var n=t.toLowerCase(),r=t.toUpperCase();if(t!==n&&t!==r)return"Mixed-case string "+t;t=n;var s=t.lastIndexOf("1");if(s===-1)return"No separator character for "+t;if(s===0)return"Missing prefix for "+t;var i=t.slice(0,s),a=t.slice(s+1);if(a.length<6)return"Data too short";var o=NK(i);if(typeof o=="string")return o;for(var l=[],u=0;u<a.length;++u){var d=a.charAt(u),p=sE[d];if(p===void 0)return"Unknown character "+d;o=mh(o)^p,!(u+6>=a.length)&&l.push(p)}return o!==1?"Invalid checksum for "+t:{prefix:i,words:l}}function _Te(){var t=SK.apply(null,arguments);if(typeof t=="object")return t}function LTe(t){var e=SK.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function GT(t,e,n,r){for(var s=0,i=0,a=(1<<n)-1,o=[],l=0;l<t.length;++l)for(s=s<<e|t[l],i+=e;i>=n;)i-=n,o.push(s>>i&a);if(r)i>0&&o.push(s<<n-i&a);else{if(i>=e)return"Excess padding";if(s<<n-i&a)return"Non-zero padding"}return o}function OTe(t){var e=GT(t,8,5,!0);if(Array.isArray(e))return e}function $Te(t){var e=GT(t,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function FTe(t){var e=GT(t,5,8,!1);if(Array.isArray(e))return e}function BTe(t){var e=GT(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}var UTe={decodeUnsafe:_Te,decode:LTe,encode:DTe,toWordsUnsafe:OTe,toWords:$Te,fromWordsUnsafe:FTe,fromWords:BTe};const SL=tf(UTe),KT="providers/5.7.0",dy=new oe(KT);class Je{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},n=this.address.bind(this),r=this.bigNumber.bind(this),s=this.blockTag.bind(this),i=this.data.bind(this),a=this.hash.bind(this),o=this.hex.bind(this),l=this.number.bind(this),u=this.type.bind(this),d=p=>this.data(p,!0);return e.transaction={hash:a,type:u,accessList:Je.allowNull(this.accessList.bind(this),null),blockHash:Je.allowNull(a,null),blockNumber:Je.allowNull(l,null),transactionIndex:Je.allowNull(l,null),confirmations:Je.allowNull(l,null),from:n,gasPrice:Je.allowNull(r),maxPriorityFeePerGas:Je.allowNull(r),maxFeePerGas:Je.allowNull(r),gasLimit:r,to:Je.allowNull(n,null),value:r,nonce:l,data:i,r:Je.allowNull(this.uint256),s:Je.allowNull(this.uint256),v:Je.allowNull(l),creates:Je.allowNull(n,null),raw:Je.allowNull(i)},e.transactionRequest={from:Je.allowNull(n),nonce:Je.allowNull(l),gasLimit:Je.allowNull(r),gasPrice:Je.allowNull(r),maxPriorityFeePerGas:Je.allowNull(r),maxFeePerGas:Je.allowNull(r),to:Je.allowNull(n),value:Je.allowNull(r),data:Je.allowNull(d),type:Je.allowNull(l),accessList:Je.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:l,blockNumber:l,transactionHash:a,address:n,topics:Je.arrayOf(a),data:i,logIndex:l,blockHash:a},e.receipt={to:Je.allowNull(this.address,null),from:Je.allowNull(this.address,null),contractAddress:Je.allowNull(n,null),transactionIndex:l,root:Je.allowNull(o),gasUsed:r,logsBloom:Je.allowNull(i),blockHash:a,transactionHash:a,logs:Je.arrayOf(this.receiptLog.bind(this)),blockNumber:l,confirmations:Je.allowNull(l,null),cumulativeGasUsed:r,effectiveGasPrice:Je.allowNull(r),status:Je.allowNull(l),type:u},e.block={hash:Je.allowNull(a),parentHash:a,number:l,timestamp:l,nonce:Je.allowNull(o),difficulty:this.difficulty.bind(this),gasLimit:r,gasUsed:r,miner:Je.allowNull(n),extraData:i,transactions:Je.allowNull(Je.arrayOf(a)),baseFeePerGas:Je.allowNull(r)},e.blockWithTransactions=vr(e.block),e.blockWithTransactions.transactions=Je.allowNull(Je.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:Je.allowNull(s,void 0),toBlock:Je.allowNull(s,void 0),blockHash:Je.allowNull(a,void 0),address:Je.allowNull(n,void 0),topics:Je.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:Je.allowNull(l),blockHash:Je.allowNull(a),transactionIndex:l,removed:Je.allowNull(this.boolean.bind(this)),address:n,data:Je.allowFalsish(i,"0x"),topics:Je.arrayOf(a),transactionHash:a,logIndex:l},e}accessList(e){return _m(e||[])}number(e){return e==="0x"?0:ze.from(e).toNumber()}type(e){return e==="0x"||e==null?0:ze.from(e).toNumber()}bigNumber(e){return ze.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,n){return typeof e=="string"&&(!n&&e.substring(0,2)!=="0x"&&(e="0x"+e),sn(e))?e.toLowerCase():dy.throwArgumentError("invalid hash","value",e)}data(e,n){const r=this.hex(e,n);if(r.length%2!==0)throw new Error("invalid data; odd-length - "+e);return r}address(e){return ss(e)}callAddress(e){if(!sn(e,32))return null;const n=ss(fs(e,12));return n===iwe?null:n}contractAddress(e){return GR(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||sn(e))return UR(e);throw new Error("invalid blockTag")}hash(e,n){const r=this.hex(e,n);return $p(r)!==32?dy.throwArgumentError("invalid hash","value",e):r}difficulty(e){if(e==null)return null;const n=ze.from(e);try{return n.toNumber()}catch{}return null}uint256(e){if(!sn(e))throw new Error("invalid uint256");return _n(e,32)}_block(e,n){e.author!=null&&e.miner==null&&(e.miner=e.author);const r=e._difficulty!=null?e._difficulty:e.difficulty,s=Je.check(n,e);return s._difficulty=r==null?null:ze.from(r),s}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return Je.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&ze.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const n=Je.check(this.formats.transaction,e);if(e.chainId!=null){let r=e.chainId;sn(r)&&(r=ze.from(r).toNumber()),n.chainId=r}else{let r=e.networkId;r==null&&n.v==null&&(r=e.chainId),sn(r)&&(r=ze.from(r).toNumber()),typeof r!="number"&&n.v!=null&&(r=(n.v-35)/2,r<0&&(r=0),r=parseInt(r)),typeof r!="number"&&(r=0),n.chainId=r}return n.blockHash&&n.blockHash.replace(/0/g,"")==="x"&&(n.blockHash=null),n}transaction(e){return sTe(e)}receiptLog(e){return Je.check(this.formats.receiptLog,e)}receipt(e){const n=Je.check(this.formats.receipt,e);if(n.root!=null)if(n.root.length<=4){const r=ze.from(n.root).toNumber();r===0||r===1?(n.status!=null&&n.status!==r&&dy.throwArgumentError("alt-root-status/status mismatch","value",{root:n.root,status:n.status}),n.status=r,delete n.root):dy.throwArgumentError("invalid alt-root-status","value.root",n.root)}else n.root.length!==66&&dy.throwArgumentError("invalid root hash","value.root",n.root);return n.status!=null&&(n.byzantium=!0),n}topics(e){return Array.isArray(e)?e.map(n=>this.topics(n)):e!=null?this.hash(e,!0):null}filter(e){return Je.check(this.formats.filter,e)}filterLog(e){return Je.check(this.formats.filterLog,e)}static check(e,n){const r={};for(const s in e)try{const i=e[s](n[s]);i!==void 0&&(r[s]=i)}catch(i){throw i.checkKey=s,i.checkValue=n[s],i}return r}static allowNull(e,n){return function(r){return r==null?n:e(r)}}static allowFalsish(e,n){return function(r){return r?e(r):n}}static arrayOf(e){return function(n){if(!Array.isArray(n))throw new Error("not an array");const r=[];return n.forEach(function(s){r.push(e(s))}),r}}}function zTe(t){return t&&typeof t.isCommunityResource=="function"}function M9e(t){return zTe(t)&&t.isCommunityResource()}let RL=!1;function P9e(){RL||(RL=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var Mt=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(d){try{u(r.next(d))}catch(p){a(p)}}function l(d){try{u(r.throw(d))}catch(p){a(p)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((r=r.apply(t,e||[])).next())})};const Wt=new oe(KT),VTe=10;function ML(t){return t==null?"null":($p(t)!==32&&Wt.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function PL(t){for(t=t.slice();t.length>0&&t[t.length-1]==null;)t.pop();return t.map(e=>{if(Array.isArray(e)){const n={};e.forEach(s=>{n[ML(s)]=!0});const r=Object.keys(n);return r.sort(),r.join("|")}else return ML(e)}).join("&")}function HTe(t){return t===""?[]:t.split(/&/g).map(e=>{if(e==="")return[];const n=e.split("|").map(r=>r==="null"?null:r);return n.length===1?n[0]:n})}function gf(t){if(typeof t=="string"){if(t=t.toLowerCase(),$p(t)===32)return"tx:"+t;if(t.indexOf(":")===-1)return t}else{if(Array.isArray(t))return"filter:*:"+PL(t);if(axe.isForkEvent(t))throw Wt.warn("not implemented"),new Error("not implemented");if(t&&typeof t=="object")return"filter:"+(t.address||"*")+":"+PL(t.topics||[])}throw new Error("invalid event - "+t)}function py(){return new Date().getTime()}function jL(t){return new Promise(e=>{setTimeout(e,t)})}const WTe=["block","network","pending","poll"];let GTe=class{constructor(e,n,r){Pe(this,"tag",e),Pe(this,"listener",n),Pe(this,"once",r),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const n=e[1],r=HTe(e[2]),s={};return r.length>0&&(s.topics=r),n&&n!=="*"&&(s.address=n),s}pollable(){return this.tag.indexOf(":")>=0||WTe.indexOf(this.tag)>=0}};const KTe={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function $I(t){return _n(ze.from(t).toHexString(),32)}function DL(t){return nE.encode(Bs([t,fs(AL(AL(t)),0,4)]))}const RK=new RegExp("^(ipfs)://(.*)$","i"),_L=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),RK,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function Uw(t,e){try{return kv(p0(t,e))}catch{}return null}function p0(t,e){if(t==="0x")return null;const n=ze.from(fs(t,e,e+32)).toNumber(),r=ze.from(fs(t,n,n+32)).toNumber();return fs(t,n+32,n+32+r)}function FI(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):Wt.throwArgumentError("unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}function LL(t){const e=it(t);if(e.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(e,32-e.length),n}function YTe(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}function MK(t){const e=[];let n=0;for(let r=0;r<t.length;r++)e.push(null),n+=32;for(let r=0;r<t.length;r++){const s=it(t[r]);e[r]=LL(n),e.push(LL(s.length)),e.push(YTe(s)),n+=32+Math.ceil(s.length/32)*32}return si(e)}class OL{constructor(e,n,r,s){Pe(this,"provider",e),Pe(this,"name",r),Pe(this,"address",e.formatter.address(n)),Pe(this,"_resolvedAddress",s)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>ze.from(e).eq(1)).catch(e=>{if(e.code===oe.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,n){return Mt(this,void 0,void 0,function*(){const r={to:this.address,ccipReadEnabled:!0,data:si([e,Ow(this.name),n||"0x"])};let s=!1;(yield this.supportsWildcard())&&(s=!0,r.data=si(["0x9061b923",MK([Wwe(this.name),r.data])]));try{let i=yield this.provider.call(r);return it(i).length%32===4&&Wt.throwError("resolver threw error",oe.errors.CALL_EXCEPTION,{transaction:r,data:i}),s&&(i=p0(i,0)),i}catch(i){if(i.code===oe.errors.CALL_EXCEPTION)return null;throw i}})}_fetchBytes(e,n){return Mt(this,void 0,void 0,function*(){const r=yield this._fetch(e,n);return r!=null?p0(r,0):null})}_getAddress(e,n){const r=KTe[String(e)];if(r==null&&Wt.throwError(`unsupported coin type: ${e}`,oe.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),r.ilk==="eth")return this.provider.formatter.address(n);const s=it(n);if(r.p2pkh!=null){const i=n.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(i){const a=parseInt(i[1],16);if(i[2].length===a*2&&a>=1&&a<=75)return DL(Bs([[r.p2pkh],"0x"+i[2]]))}}if(r.p2sh!=null){const i=n.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(i){const a=parseInt(i[1],16);if(i[2].length===a*2&&a>=1&&a<=75)return DL(Bs([[r.p2sh],"0x"+i[2]]))}}if(r.prefix!=null){const i=s[1];let a=s[0];if(a===0?i!==20&&i!==32&&(a=-1):a=-1,a>=0&&s.length===2+i&&i>=1&&i<=75){const o=SL.toWords(s.slice(2));return o.unshift(a),SL.encode(r.prefix,o)}}return null}getAddress(e){return Mt(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const s=yield this._fetch("0x3b3b57de");return s==="0x"||s===cwe?null:this.provider.formatter.callAddress(s)}catch(s){if(s.code===oe.errors.CALL_EXCEPTION)return null;throw s}const n=yield this._fetchBytes("0xf1cb7e06",$I(e));if(n==null||n==="0x")return null;const r=this._getAddress(e,n);return r==null&&Wt.throwError("invalid or unsupported coin data",oe.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:n}),r})}getAvatar(){return Mt(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const n=yield this.getText("avatar");if(n==null)return null;for(let r=0;r<_L.length;r++){const s=n.match(_L[r]);if(s==null)continue;const i=s[1].toLowerCase();switch(i){case"https":return e.push({type:"url",content:n}),{linkage:e,url:n};case"data":return e.push({type:"data",content:n}),{linkage:e,url:n};case"ipfs":return e.push({type:"ipfs",content:n}),{linkage:e,url:FI(n)};case"erc721":case"erc1155":{const a=i==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:i,content:n});const o=this._resolvedAddress||(yield this.getAddress()),l=(s[2]||"").split("/");if(l.length!==2)return null;const u=yield this.provider.formatter.address(l[0]),d=_n(ze.from(l[1]).toHexString(),32);if(i==="erc721"){const m=this.provider.formatter.callAddress(yield this.provider.call({to:u,data:si(["0x6352211e",d])}));if(o!==m)return null;e.push({type:"owner",content:m})}else if(i==="erc1155"){const m=ze.from(yield this.provider.call({to:u,data:si(["0x00fdd58e",_n(o,32),d])}));if(m.isZero())return null;e.push({type:"balance",content:m.toString()})}const p={to:this.provider.formatter.address(l[0]),data:si([a,d])};let f=Uw(yield this.provider.call(p),0);if(f==null)return null;e.push({type:"metadata-url-base",content:f}),i==="erc1155"&&(f=f.replace("{id}",d.substring(2)),e.push({type:"metadata-url-expanded",content:f})),f.match(/^ipfs:/i)&&(f=FI(f)),e.push({type:"metadata-url",content:f});const h=yield JR(f);if(!h)return null;e.push({type:"metadata",content:JSON.stringify(h)});let y=h.image;if(typeof y!="string")return null;if(!y.match(/^(https:\/\/|data:)/i)){if(y.match(RK)==null)return null;e.push({type:"url-ipfs",content:y}),y=FI(y)}return e.push({type:"url",content:y}),{linkage:e,url:y}}}}}catch{}return null})}getContentHash(){return Mt(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const n=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const a=parseInt(n[3],16);if(n[4].length===a*2)return"ipfs://"+nE.encode("0x"+n[1])}const r=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const a=parseInt(r[3],16);if(r[4].length===a*2)return"ipns://"+nE.encode("0x"+r[1])}const s=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(s&&s[1].length===32*2)return"bzz://"+s[1];const i=e.match(/^0x90b2c605([0-9a-f]*)$/);if(i&&i[1].length===34*2){const a={"=":"","+":"-","/":"_"};return"sia://"+OG("0x"+i[1]).replace(/[=+\/]/g,l=>a[l])}return Wt.throwError("invalid or unsupported content hash data",oe.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return Mt(this,void 0,void 0,function*(){let n=cl(e);n=Bs([$I(64),$I(n.length),n]),n.length%32!==0&&(n=Bs([n,_n("0x",32-e.length%32)]));const r=yield this._fetchBytes("0x59d1d43c",Qe(n));return r==null||r==="0x"?null:kv(r)})}}let BI=null,qTe=1;class XTe extends UT{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),Pe(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(n=>{}),this._ready().catch(n=>{});else{const n=_i(new.target,"getNetwork")(e);n?(Pe(this,"_network",n),this.emit("network",n,null)):Wt.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return Mt(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||Wt.throwError("no network detected",oe.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:Pe(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return _y(()=>this._ready().then(e=>e,e=>{if(!(e.code===oe.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return BI==null&&(BI=new Je),BI}static getNetwork(e){return ETe(e??"homestead")}ccipReadFetch(e,n,r){return Mt(this,void 0,void 0,function*(){if(this.disableCcipRead||r.length===0)return null;const s=e.to.toLowerCase(),i=n.toLowerCase(),a=[];for(let o=0;o<r.length;o++){const l=r[o],u=l.replace("{sender}",s).replace("{data}",i),d=l.indexOf("{data}")>=0?null:JSON.stringify({data:i,sender:s}),p=yield JR({url:u,errorPassThrough:!0},d,(h,y)=>(h.status=y.statusCode,h));if(p.data)return p.data;const f=p.message||"unknown error";if(p.status>=400&&p.status<500)return Wt.throwError(`response not found during CCIP fetch: ${f}`,oe.errors.SERVER_ERROR,{url:l,errorMessage:f});a.push(f)}return Wt.throwError(`error encountered during CCIP fetch: ${a.map(o=>JSON.stringify(o)).join(", ")}`,oe.errors.SERVER_ERROR,{urls:r,errorMessages:a})})}_getInternalBlockNumber(e){return Mt(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const s=this._internalBlockNumber;try{const i=yield s;if(py()-i.respTime<=e)return i.blockNumber;break}catch{if(this._internalBlockNumber===s)break}}const n=py(),r=pr({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(s=>null,s=>s)}).then(({blockNumber:s,networkError:i})=>{if(i)throw this._internalBlockNumber===r&&(this._internalBlockNumber=null),i;const a=py();return s=ze.from(s).toNumber(),s<this._maxInternalBlockNumber&&(s=this._maxInternalBlockNumber),this._maxInternalBlockNumber=s,this._setFastBlockNumber(s),{blockNumber:s,reqTime:n,respTime:a}});return this._internalBlockNumber=r,r.catch(s=>{this._internalBlockNumber===r&&(this._internalBlockNumber=null)}),(yield r).blockNumber})}poll(){return Mt(this,void 0,void 0,function*(){const e=qTe++,n=[];let r=null;try{r=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(s){this.emit("error",s);return}if(this._setFastBlockNumber(r),this.emit("poll",e,r),r===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=r-1),Math.abs(this._emitted.block-r)>1e3)Wt.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${r})`),this.emit("error",Wt.makeError("network block skew detected",oe.errors.NETWORK_ERROR,{blockNumber:r,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",r);else for(let s=this._emitted.block+1;s<=r;s++)this.emit("block",s);this._emitted.block!==r&&(this._emitted.block=r,Object.keys(this._emitted).forEach(s=>{if(s==="block")return;const i=this._emitted[s];i!=="pending"&&r-i>12&&delete this._emitted[s]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=r-1),this._events.forEach(s=>{switch(s.type){case"tx":{const i=s.hash;let a=this.getTransactionReceipt(i).then(o=>(!o||o.blockNumber==null||(this._emitted["t:"+i]=o.blockNumber,this.emit(i,o)),null)).catch(o=>{this.emit("error",o)});n.push(a);break}case"filter":{if(!s._inflight){s._inflight=!0,s._lastBlockNumber===-2&&(s._lastBlockNumber=r-1);const i=s.filter;i.fromBlock=s._lastBlockNumber+1,i.toBlock=r;const a=i.toBlock-this._maxFilterBlockRange;a>i.fromBlock&&(i.fromBlock=a),i.fromBlock<0&&(i.fromBlock=0);const o=this.getLogs(i).then(l=>{s._inflight=!1,l.length!==0&&l.forEach(u=>{u.blockNumber>s._lastBlockNumber&&(s._lastBlockNumber=u.blockNumber),this._emitted["b:"+u.blockHash]=u.blockNumber,this._emitted["t:"+u.transactionHash]=u.blockNumber,this.emit(i,u)})}).catch(l=>{this.emit("error",l),s._inflight=!1});n.push(o)}break}}}),this._lastBlockNumber=r,Promise.all(n).then(()=>{this.emit("didPoll",e)}).catch(s=>{this.emit("error",s)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return Mt(this,void 0,void 0,function*(){return Wt.throwError("provider does not support network detection",oe.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return Mt(this,void 0,void 0,function*(){const e=yield this._ready(),n=yield this.detectNetwork();if(e.chainId!==n.chainId){if(this.anyNetwork)return this._network=n,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",n,e),yield jL(0),this._network;const r=Wt.makeError("underlying network changed",oe.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:n});throw this.emit("error",r),r}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=py();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(n=>((this._fastBlockNumber==null||n>this._fastBlockNumber)&&(this._fastBlockNumber=n),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=py(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,n,r){return Mt(this,void 0,void 0,function*(){return this._waitForTransaction(e,n??1,r||0,null)})}_waitForTransaction(e,n,r,s){return Mt(this,void 0,void 0,function*(){const i=yield this.getTransactionReceipt(e);return(i?i.confirmations:0)>=n?i:new Promise((a,o)=>{const l=[];let u=!1;const d=function(){return u?!0:(u=!0,l.forEach(f=>{f()}),!1)},p=f=>{f.confirmations<n||d()||a(f)};if(this.on(e,p),l.push(()=>{this.removeListener(e,p)}),s){let f=s.startBlock,h=null;const y=m=>Mt(this,void 0,void 0,function*(){u||(yield jL(1e3),this.getTransactionCount(s.from).then(g=>Mt(this,void 0,void 0,function*(){if(!u){if(g<=s.nonce)f=m;else{{const v=yield this.getTransaction(e);if(v&&v.blockNumber!=null)return}for(h==null&&(h=f-3,h<s.startBlock&&(h=s.startBlock));h<=m;){if(u)return;const v=yield this.getBlockWithTransactions(h);for(let b=0;b<v.transactions.length;b++){const w=v.transactions[b];if(w.hash===e)return;if(w.from===s.from&&w.nonce===s.nonce){if(u)return;const A=yield this.waitForTransaction(w.hash,n);if(d())return;let I="replaced";w.data===s.data&&w.to===s.to&&w.value.eq(s.value)?I="repriced":w.data==="0x"&&w.from===w.to&&w.value.isZero()&&(I="cancelled"),o(Wt.makeError("transaction was replaced",oe.errors.TRANSACTION_REPLACED,{cancelled:I==="replaced"||I==="cancelled",reason:I,replacement:this._wrapTransaction(w),hash:e,receipt:A}));return}}h++}}u||this.once("block",y)}}),g=>{u||this.once("block",y)}))});if(u)return;this.once("block",y),l.push(()=>{this.removeListener("block",y)})}if(typeof r=="number"&&r>0){const f=setTimeout(()=>{d()||o(Wt.makeError("timeout exceeded",oe.errors.TIMEOUT,{timeout:r}))},r);f.unref&&f.unref(),l.push(()=>{clearTimeout(f)})}})})}getBlockNumber(){return Mt(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return Mt(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return ze.from(e)}catch(n){return Wt.throwError("bad result from backend",oe.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:n})}})}getBalance(e,n){return Mt(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield pr({address:this._getAddress(e),blockTag:this._getBlockTag(n)}),s=yield this.perform("getBalance",r);try{return ze.from(s)}catch(i){return Wt.throwError("bad result from backend",oe.errors.SERVER_ERROR,{method:"getBalance",params:r,result:s,error:i})}})}getTransactionCount(e,n){return Mt(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield pr({address:this._getAddress(e),blockTag:this._getBlockTag(n)}),s=yield this.perform("getTransactionCount",r);try{return ze.from(s).toNumber()}catch(i){return Wt.throwError("bad result from backend",oe.errors.SERVER_ERROR,{method:"getTransactionCount",params:r,result:s,error:i})}})}getCode(e,n){return Mt(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield pr({address:this._getAddress(e),blockTag:this._getBlockTag(n)}),s=yield this.perform("getCode",r);try{return Qe(s)}catch(i){return Wt.throwError("bad result from backend",oe.errors.SERVER_ERROR,{method:"getCode",params:r,result:s,error:i})}})}getStorageAt(e,n,r){return Mt(this,void 0,void 0,function*(){yield this.getNetwork();const s=yield pr({address:this._getAddress(e),blockTag:this._getBlockTag(r),position:Promise.resolve(n).then(a=>UR(a))}),i=yield this.perform("getStorageAt",s);try{return Qe(i)}catch(a){return Wt.throwError("bad result from backend",oe.errors.SERVER_ERROR,{method:"getStorageAt",params:s,result:i,error:a})}})}_wrapTransaction(e,n,r){if(n!=null&&$p(n)!==32)throw new Error("invalid response - sendTransaction");const s=e;return n!=null&&e.hash!==n&&Wt.throwError("Transaction hash mismatch from Provider.sendTransaction.",oe.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:n}),s.wait=(i,a)=>Mt(this,void 0,void 0,function*(){i==null&&(i=1),a==null&&(a=0);let o;i!==0&&r!=null&&(o={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:r});const l=yield this._waitForTransaction(e.hash,i,a,o);return l==null&&i===0?null:(this._emitted["t:"+e.hash]=l.blockNumber,l.status===0&&Wt.throwError("transaction failed",oe.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:l}),l)}),s}sendTransaction(e){return Mt(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Promise.resolve(e).then(i=>Qe(i)),r=this.formatter.transaction(e);r.confirmations==null&&(r.confirmations=0);const s=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const i=yield this.perform("sendTransaction",{signedTransaction:n});return this._wrapTransaction(r,i,s)}catch(i){throw i.transaction=r,i.transactionHash=r.hash,i}})}_getTransactionRequest(e){return Mt(this,void 0,void 0,function*(){const n=yield e,r={};return["from","to"].forEach(s=>{n[s]!=null&&(r[s]=Promise.resolve(n[s]).then(i=>i?this._getAddress(i):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(s=>{n[s]!=null&&(r[s]=Promise.resolve(n[s]).then(i=>i?ze.from(i):null))}),["type"].forEach(s=>{n[s]!=null&&(r[s]=Promise.resolve(n[s]).then(i=>i??null))}),n.accessList&&(r.accessList=this.formatter.accessList(n.accessList)),["data"].forEach(s=>{n[s]!=null&&(r[s]=Promise.resolve(n[s]).then(i=>i?Qe(i):null))}),this.formatter.transactionRequest(yield pr(r))})}_getFilter(e){return Mt(this,void 0,void 0,function*(){e=yield e;const n={};return e.address!=null&&(n.address=this._getAddress(e.address)),["blockHash","topics"].forEach(r=>{e[r]!=null&&(n[r]=e[r])}),["fromBlock","toBlock"].forEach(r=>{e[r]!=null&&(n[r]=this._getBlockTag(e[r]))}),this.formatter.filter(yield pr(n))})}_call(e,n,r){return Mt(this,void 0,void 0,function*(){r>=VTe&&Wt.throwError("CCIP read exceeded maximum redirections",oe.errors.SERVER_ERROR,{redirects:r,transaction:e});const s=e.to,i=yield this.perform("call",{transaction:e,blockTag:n});if(r>=0&&n==="latest"&&s!=null&&i.substring(0,10)==="0x556f1830"&&$p(i)%32===4)try{const a=fs(i,4),o=fs(a,0,32);ze.from(o).eq(s)||Wt.throwError("CCIP Read sender did not match",oe.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});const l=[],u=ze.from(fs(a,32,64)).toNumber(),d=ze.from(fs(a,u,u+32)).toNumber(),p=fs(a,u+32);for(let v=0;v<d;v++){const b=Uw(p,v*32);b==null&&Wt.throwError("CCIP Read contained corrupt URL string",oe.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i}),l.push(b)}const f=p0(a,64);ze.from(fs(a,100,128)).isZero()||Wt.throwError("CCIP Read callback selector included junk",oe.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});const h=fs(a,96,100),y=p0(a,128),m=yield this.ccipReadFetch(e,f,l);m==null&&Wt.throwError("CCIP Read disabled or provided no URLs",oe.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});const g={to:s,data:si([h,MK([m,y])])};return this._call(g,n,r+1)}catch(a){if(a.code===oe.errors.SERVER_ERROR)throw a}try{return Qe(i)}catch(a){return Wt.throwError("bad result from backend",oe.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:n},result:i,error:a})}})}call(e,n){return Mt(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield pr({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(n),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(r.transaction,r.blockTag,r.ccipReadEnabled?0:-1)})}estimateGas(e){return Mt(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield pr({transaction:this._getTransactionRequest(e)}),r=yield this.perform("estimateGas",n);try{return ze.from(r)}catch(s){return Wt.throwError("bad result from backend",oe.errors.SERVER_ERROR,{method:"estimateGas",params:n,result:r,error:s})}})}_getAddress(e){return Mt(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&Wt.throwArgumentError("invalid address or ENS name","name",e);const n=yield this.resolveName(e);return n==null&&Wt.throwError("ENS name not configured",oe.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),n})}_getBlock(e,n){return Mt(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let r=-128;const s={includeTransactions:!!n};if(sn(e,32))s.blockHash=e;else try{s.blockTag=yield this._getBlockTag(e),sn(s.blockTag)&&(r=parseInt(s.blockTag.substring(2),16))}catch{Wt.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return _y(()=>Mt(this,void 0,void 0,function*(){const i=yield this.perform("getBlock",s);if(i==null)return s.blockHash!=null&&this._emitted["b:"+s.blockHash]==null||s.blockTag!=null&&r>this._emitted.block?null:void 0;if(n){let a=null;for(let l=0;l<i.transactions.length;l++){const u=i.transactions[l];if(u.blockNumber==null)u.confirmations=0;else if(u.confirmations==null){a==null&&(a=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let d=a-u.blockNumber+1;d<=0&&(d=1),u.confirmations=d}}const o=this.formatter.blockWithTransactions(i);return o.transactions=o.transactions.map(l=>this._wrapTransaction(l)),o}return this.formatter.block(i)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return Mt(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const n={transactionHash:this.formatter.hash(e,!0)};return _y(()=>Mt(this,void 0,void 0,function*(){const r=yield this.perform("getTransaction",n);if(r==null)return this._emitted["t:"+e]==null?null:void 0;const s=this.formatter.transactionResponse(r);if(s.blockNumber==null)s.confirmations=0;else if(s.confirmations==null){let a=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-s.blockNumber+1;a<=0&&(a=1),s.confirmations=a}return this._wrapTransaction(s)}),{oncePoll:this})})}getTransactionReceipt(e){return Mt(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const n={transactionHash:this.formatter.hash(e,!0)};return _y(()=>Mt(this,void 0,void 0,function*(){const r=yield this.perform("getTransactionReceipt",n);if(r==null)return this._emitted["t:"+e]==null?null:void 0;if(r.blockHash==null)return;const s=this.formatter.receipt(r);if(s.blockNumber==null)s.confirmations=0;else if(s.confirmations==null){let a=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-s.blockNumber+1;a<=0&&(a=1),s.confirmations=a}return s}),{oncePoll:this})})}getLogs(e){return Mt(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield pr({filter:this._getFilter(e)}),r=yield this.perform("getLogs",n);return r.forEach(s=>{s.removed==null&&(s.removed=!1)}),Je.arrayOf(this.formatter.filterLog.bind(this.formatter))(r)})}getEtherPrice(){return Mt(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return Mt(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&Wt.throwArgumentError("invalid BlockTag","blockTag",e);let n=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return n+=e,n<0&&(n=0),this.formatter.blockTag(n)}return this.formatter.blockTag(e)})}getResolver(e){return Mt(this,void 0,void 0,function*(){let n=e;for(;;){if(n===""||n==="."||e!=="eth"&&n==="eth")return null;const r=yield this._getResolver(n,"getResolver");if(r!=null){const s=new OL(this,r,e);return n!==e&&!(yield s.supportsWildcard())?null:s}n=n.split(".").slice(1).join(".")}})}_getResolver(e,n){return Mt(this,void 0,void 0,function*(){n==null&&(n="ENS");const r=yield this.getNetwork();r.ensAddress||Wt.throwError("network does not support ENS",oe.errors.UNSUPPORTED_OPERATION,{operation:n,network:r.name});try{const s=yield this.call({to:r.ensAddress,data:"0x0178b8bf"+Ow(e).substring(2)});return this.formatter.callAddress(s)}catch{}return null})}resolveName(e){return Mt(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(r){if(sn(e))throw r}typeof e!="string"&&Wt.throwArgumentError("invalid ENS name","name",e);const n=yield this.getResolver(e);return n?yield n.getAddress():null})}lookupAddress(e){return Mt(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const n=e.substring(2).toLowerCase()+".addr.reverse",r=yield this._getResolver(n,"lookupAddress");if(r==null)return null;const s=Uw(yield this.call({to:r,data:"0x691f3431"+Ow(n).substring(2)}),0);return(yield this.resolveName(s))!=e?null:s})}getAvatar(e){return Mt(this,void 0,void 0,function*(){let n=null;if(sn(e)){const i=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",a=yield this._getResolver(i,"getAvatar");if(!a)return null;n=new OL(this,a,i);try{const o=yield n.getAvatar();if(o)return o.url}catch(o){if(o.code!==oe.errors.CALL_EXCEPTION)throw o}try{const o=Uw(yield this.call({to:a,data:"0x691f3431"+Ow(i).substring(2)}),0);n=yield this.getResolver(o)}catch(o){if(o.code!==oe.errors.CALL_EXCEPTION)throw o;return null}}else if(n=yield this.getResolver(e),!n)return null;const r=yield n.getAvatar();return r==null?null:r.url})}perform(e,n){return Wt.throwError(e+" not implemented",oe.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(n=>n.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(n=>n.pollable()).length>0}_addEventListener(e,n,r){const s=new GTe(gf(e),n,r);return this._events.push(s),this._startEvent(s),this}on(e,n){return this._addEventListener(e,n,!1)}once(e,n){return this._addEventListener(e,n,!0)}emit(e,...n){let r=!1,s=[],i=gf(e);return this._events=this._events.filter(a=>a.tag!==i?!0:(setTimeout(()=>{a.listener.apply(this,n)},0),r=!0,a.once?(s.push(a),!1):!0)),s.forEach(a=>{this._stopEvent(a)}),r}listenerCount(e){if(!e)return this._events.length;let n=gf(e);return this._events.filter(r=>r.tag===n).length}listeners(e){if(e==null)return this._events.map(r=>r.listener);let n=gf(e);return this._events.filter(r=>r.tag===n).map(r=>r.listener)}off(e,n){if(n==null)return this.removeAllListeners(e);const r=[];let s=!1,i=gf(e);return this._events=this._events.filter(a=>a.tag!==i||a.listener!=n||s?!0:(s=!0,r.push(a),!1)),r.forEach(a=>{this._stopEvent(a)}),this}removeAllListeners(e){let n=[];if(e==null)n=this._events,this._events=[];else{const r=gf(e);this._events=this._events.filter(s=>s.tag!==r?!0:(n.push(s),!1))}return n.forEach(r=>{this._stopEvent(r)}),this}}var jl=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(d){try{u(r.next(d))}catch(p){a(p)}}function l(d){try{u(r.throw(d))}catch(p){a(p)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((r=r.apply(t,e||[])).next())})};const fr=new oe(KT),ZTe=["call","estimateGas"];function pg(t,e){if(t==null)return null;if(typeof t.message=="string"&&t.message.match("reverted")){const n=sn(t.data)?t.data:null;if(!e||n)return{message:t.message,data:n}}if(typeof t=="object"){for(const n in t){const r=pg(t[n],e);if(r)return r}return null}if(typeof t=="string")try{return pg(JSON.parse(t),e)}catch{}return null}function PK(t,e,n){const r=n.transaction||n.signedTransaction;if(t==="call"){const i=pg(e,!0);if(i)return i.data;fr.throwError("missing revert data in call exception; Transaction reverted without a reason string",oe.errors.CALL_EXCEPTION,{data:"0x",transaction:r,error:e})}if(t==="estimateGas"){let i=pg(e.body,!1);i==null&&(i=pg(e,!1)),i&&fr.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",oe.errors.UNPREDICTABLE_GAS_LIMIT,{reason:i.message,method:t,transaction:r,error:e})}let s=e.message;throw e.code===oe.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?s=e.error.message:typeof e.body=="string"?s=e.body:typeof e.responseText=="string"&&(s=e.responseText),s=(s||"").toLowerCase(),s.match(/insufficient funds|base fee exceeds gas limit/i)&&fr.throwError("insufficient funds for intrinsic transaction cost",oe.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:r}),s.match(/nonce (is )?too low/i)&&fr.throwError("nonce has already been used",oe.errors.NONCE_EXPIRED,{error:e,method:t,transaction:r}),s.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&fr.throwError("replacement fee too low",oe.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:r}),s.match(/only replay-protected/i)&&fr.throwError("legacy pre-eip-155 transactions not supported",oe.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:r}),ZTe.indexOf(t)>=0&&s.match(/gas required exceeds allowance|always failing transaction|execution reverted/)&&fr.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",oe.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:r}),e}function $L(t){return new Promise(function(e){setTimeout(e,t)})}function JTe(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function fy(t){return t&&t.toLowerCase()}const iE={};class jK extends Rm{constructor(e,n,r){if(super(),e!==iE)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");Pe(this,"provider",n),r==null&&(r=0),typeof r=="string"?(Pe(this,"_address",this.provider.formatter.address(r)),Pe(this,"_index",null)):typeof r=="number"?(Pe(this,"_index",r),Pe(this,"_address",null)):fr.throwArgumentError("invalid address or index","addressOrIndex",r)}connect(e){return fr.throwError("cannot alter JSON-RPC Signer connection",oe.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new QTe(iE,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&fr.throwError("unknown account #"+this._index,oe.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=vr(e);const n=this.getAddress().then(r=>(r&&(r=r.toLowerCase()),r));if(e.gasLimit==null){const r=vr(e);r.from=n,e.gasLimit=this.provider.estimateGas(r)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(r=>jl(this,void 0,void 0,function*(){if(r==null)return null;const s=yield this.provider.resolveName(r);return s==null&&fr.throwArgumentError("provided ENS name resolves to null","tx.to",r),s}))),pr({tx:pr(e),sender:n}).then(({tx:r,sender:s})=>{r.from!=null?r.from.toLowerCase()!==s&&fr.throwArgumentError("from address mismatch","transaction",e):r.from=s;const i=this.provider.constructor.hexlifyTransaction(r,{from:!0});return this.provider.send("eth_sendTransaction",[i]).then(a=>a,a=>(typeof a.message=="string"&&a.message.match(/user denied/i)&&fr.throwError("user rejected transaction",oe.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:r}),PK("sendTransaction",a,i)))})}signTransaction(e){return fr.throwError("signing transactions is unsupported",oe.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return jl(this,void 0,void 0,function*(){const n=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),r=yield this.sendUncheckedTransaction(e);try{return yield _y(()=>jl(this,void 0,void 0,function*(){const s=yield this.provider.getTransaction(r);if(s!==null)return this.provider._wrapTransaction(s,r,n)}),{oncePoll:this.provider})}catch(s){throw s.transactionHash=r,s}})}signMessage(e){return jl(this,void 0,void 0,function*(){const n=typeof e=="string"?cl(e):e,r=yield this.getAddress();try{return yield this.provider.send("personal_sign",[Qe(n),r.toLowerCase()])}catch(s){throw typeof s.message=="string"&&s.message.match(/user denied/i)&&fr.throwError("user rejected signing",oe.errors.ACTION_REJECTED,{action:"signMessage",from:r,message:n}),s}})}_legacySignMessage(e){return jl(this,void 0,void 0,function*(){const n=typeof e=="string"?cl(e):e,r=yield this.getAddress();try{return yield this.provider.send("eth_sign",[r.toLowerCase(),Qe(n)])}catch(s){throw typeof s.message=="string"&&s.message.match(/user denied/i)&&fr.throwError("user rejected signing",oe.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:r,message:n}),s}})}_signTypedData(e,n,r){return jl(this,void 0,void 0,function*(){const s=yield Ti.resolveNames(e,n,r,a=>this.provider.resolveName(a)),i=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[i.toLowerCase(),JSON.stringify(Ti.getPayload(s.domain,n,s.value))])}catch(a){throw typeof a.message=="string"&&a.message.match(/user denied/i)&&fr.throwError("user rejected signing",oe.errors.ACTION_REJECTED,{action:"_signTypedData",from:i,message:{domain:s.domain,types:n,value:s.value}}),a}})}unlock(e){return jl(this,void 0,void 0,function*(){const n=this.provider,r=yield this.getAddress();return n.send("personal_unlockAccount",[r.toLowerCase(),e,null])})}}class QTe extends jK{sendTransaction(e){return this.sendUncheckedTransaction(e).then(n=>({hash:n,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:r=>this.provider.waitForTransaction(n,r)}))}}const e2e={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class YT extends XTe{constructor(e,n){let r=n;r==null&&(r=new Promise((s,i)=>{setTimeout(()=>{this.detectNetwork().then(a=>{s(a)},a=>{i(a)})},0)})),super(r),e||(e=_i(this.constructor,"defaultUrl")()),typeof e=="string"?Pe(this,"connection",Object.freeze({url:e})):Pe(this,"connection",Object.freeze(vr(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return jl(this,void 0,void 0,function*(){yield $L(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const n=_i(this.constructor,"getNetwork");try{return n(ze.from(e).toNumber())}catch(r){return fr.throwError("could not detect network",oe.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:r})}}return fr.throwError("could not detect network",oe.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new jK(iE,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(n=>this.formatter.address(n)))}send(e,n){const r={method:e,params:n,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:Tc(r),provider:this});const s=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(s&&this._cache[e])return this._cache[e];const i=JR(this.connection,JSON.stringify(r),JTe).then(a=>(this.emit("debug",{action:"response",request:r,response:a,provider:this}),a),a=>{throw this.emit("debug",{action:"response",error:a,request:r,provider:this}),a});return s&&(this._cache[e]=i,setTimeout(()=>{this._cache[e]=null},0)),i}prepareRequest(e,n){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[fy(n.address),n.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[fy(n.address),n.blockTag]];case"getCode":return["eth_getCode",[fy(n.address),n.blockTag]];case"getStorageAt":return["eth_getStorageAt",[fy(n.address),_n(n.position,32),n.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[n.signedTransaction]];case"getBlock":return n.blockTag?["eth_getBlockByNumber",[n.blockTag,!!n.includeTransactions]]:n.blockHash?["eth_getBlockByHash",[n.blockHash,!!n.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[n.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[n.transactionHash]];case"call":return["eth_call",[_i(this.constructor,"hexlifyTransaction")(n.transaction,{from:!0}),n.blockTag]];case"estimateGas":return["eth_estimateGas",[_i(this.constructor,"hexlifyTransaction")(n.transaction,{from:!0})]];case"getLogs":return n.filter&&n.filter.address!=null&&(n.filter.address=fy(n.filter.address)),["eth_getLogs",[n.filter]]}return null}perform(e,n){return jl(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const s=n.transaction;if(s&&s.type!=null&&ze.from(s.type).isZero()&&s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null){const i=yield this.getFeeData();i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null&&(n=vr(n),n.transaction=vr(s),delete n.transaction.type)}}const r=this.prepareRequest(e,n);r==null&&fr.throwError(e+" not implemented",oe.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(r[0],r[1])}catch(s){return PK(e,s,n)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,n=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=n,n.then(function(r){function s(){e.send("eth_getFilterChanges",[r]).then(function(i){if(e._pendingFilter!=n)return null;let a=Promise.resolve();return i.forEach(function(o){e._emitted["t:"+o.toLowerCase()]="pending",a=a.then(function(){return e.getTransaction(o).then(function(l){return e.emit("pending",l),null})})}),a.then(function(){return $L(1e3)})}).then(function(){if(e._pendingFilter!=n){e.send("eth_uninstallFilter",[r]);return}return setTimeout(function(){s()},0),null}).catch(i=>{})}return s(),r}).catch(r=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,n){const r=vr(e2e);if(n)for(const i in n)n[i]&&(r[i]=!0);bG(e,r);const s={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(i){if(e[i]==null)return;const a=UR(ze.from(e[i]));i==="gasLimit"&&(i="gas"),s[i]=a}),["from","to","data"].forEach(function(i){e[i]!=null&&(s[i]=Qe(e[i]))}),e.accessList&&(s.accessList=_m(e.accessList)),s}}const FL=new oe(KT);let t2e=1;function BL(t,e){const n="Web3LegacyFetcher";return function(r,s){const i={method:r,params:s,id:t2e++,jsonrpc:"2.0"};return new Promise((a,o)=>{this.emit("debug",{action:"request",fetcher:n,request:Tc(i),provider:this}),e(i,(l,u)=>{if(l)return this.emit("debug",{action:"response",fetcher:n,error:l,request:i,provider:this}),o(l);if(this.emit("debug",{action:"response",fetcher:n,request:i,response:u,provider:this}),u.error){const d=new Error(u.error.message);return d.code=u.error.code,d.data=u.error.data,o(d)}a(u.result)})})}}function n2e(t){return function(e,n){n==null&&(n=[]);const r={method:e,params:n};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:Tc(r),provider:this}),t.request(r).then(s=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:r,response:s,provider:this}),s),s=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:r,error:s,provider:this}),s})}}class eo extends YT{constructor(e,n){e==null&&FL.throwArgumentError("missing provider","provider",e);let r=null,s=null,i=null;typeof e=="function"?(r="unknown:",s=e):(r=e.host||e.path||"",!r&&e.isMetaMask&&(r="metamask"),i=e,e.request?(r===""&&(r="eip-1193:"),s=n2e(e)):e.sendAsync?s=BL(e,e.sendAsync.bind(e)):e.send?s=BL(e,e.send.bind(e)):FL.throwArgumentError("unsupported provider","provider",e),r||(r="unknown:")),super(r,n),Pe(this,"jsonRpcFetchFunc",s),Pe(this,"provider",i)}send(e,n){return this.jsonRpcFetchFunc(e,n)}}function da(t){return"0x"+kG.keccak_256(Fi(t))}const r2e="rlp/5.7.0",Mo=new Vt(r2e);function UL(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function zL(t,e,n){let r=0;for(let s=0;s<n;s++)r=r*256+t[e+s];return r}function DK(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(i){r=r.concat(DK(i))}),r.length<=55)return r.unshift(192+r.length),r;const s=UL(r.length);return s.unshift(247+s.length),s.concat(r)}IK(t)||Mo.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(Fi(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const n=UL(e.length);return n.unshift(183+n.length),n.concat(e)}function _K(t){return hr(DK(t))}function VL(t,e,n,r){const s=[];for(;n<e+1+r;){const i=LK(t,n);s.push(i.result),n+=i.consumed,n>e+1+r&&Mo.throwError("child data too short",Vt.errors.BUFFER_OVERRUN,{})}return{consumed:1+r,result:s}}function LK(t,e){if(t.length===0&&Mo.throwError("data too short",Vt.errors.BUFFER_OVERRUN,{}),t[e]>=248){const n=t[e]-247;e+1+n>t.length&&Mo.throwError("data short segment too short",Vt.errors.BUFFER_OVERRUN,{});const r=zL(t,e+1,n);return e+1+n+r>t.length&&Mo.throwError("data long segment too short",Vt.errors.BUFFER_OVERRUN,{}),VL(t,e,e+1+n,n+r)}else if(t[e]>=192){const n=t[e]-192;return e+1+n>t.length&&Mo.throwError("data array too short",Vt.errors.BUFFER_OVERRUN,{}),VL(t,e,e+1,n)}else if(t[e]>=184){const n=t[e]-183;e+1+n>t.length&&Mo.throwError("data array too short",Vt.errors.BUFFER_OVERRUN,{});const r=zL(t,e+1,n);e+1+n+r>t.length&&Mo.throwError("data array too short",Vt.errors.BUFFER_OVERRUN,{});const s=hr(t.slice(e+1+n,e+1+n+r));return{consumed:1+n+r,result:s}}else if(t[e]>=128){const n=t[e]-128;e+1+n>t.length&&Mo.throwError("data too short",Vt.errors.BUFFER_OVERRUN,{});const r=hr(t.slice(e+1,e+1+n));return{consumed:1+n,result:r}}return{consumed:1,result:hr(t[e])}}function s2e(t){const e=Fi(t),n=LK(e,0);return n.consumed!==e.length&&Mo.throwArgumentError("invalid rlp data","data",t),n.result}const D9e=Object.freeze(Object.defineProperty({__proto__:null,decode:s2e,encode:_K},Symbol.toStringTag,{value:"Module"})),i2e="address/5.7.0",Tu=new Vt(i2e);function HL(t){hi(t,20)||Tu.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),n=new Uint8Array(40);for(let s=0;s<40;s++)n[s]=e[s].charCodeAt(0);const r=Fi(da(n));for(let s=0;s<40;s+=2)r[s>>1]>>4>=8&&(e[s]=e[s].toUpperCase()),(r[s>>1]&15)>=8&&(e[s+1]=e[s+1].toUpperCase());return"0x"+e.join("")}const a2e=9007199254740991;function o2e(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const QR={};for(let t=0;t<10;t++)QR[String(t)]=String(t);for(let t=0;t<26;t++)QR[String.fromCharCode(65+t)]=String(10+t);const WL=Math.floor(o2e(a2e));function OK(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(r=>QR[r]).join("");for(;e.length>=WL;){let r=e.substring(0,WL);e=parseInt(r,10)%97+e.substring(r.length)}let n=String(98-parseInt(e,10)%97);for(;n.length<2;)n="0"+n;return n}function rc(t){let e=null;if(typeof t!="string"&&Tu.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=HL(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&Tu.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==OK(t)&&Tu.throwArgumentError("bad icap checksum","address",t),e=wTe(t.substring(4));e.length<40;)e="0"+e;e=HL("0x"+e)}else Tu.throwArgumentError("invalid address","address",t);return e}function l2e(t){try{return rc(t),!0}catch{}return!1}function _9e(t){let e=xTe(rc(t).substring(2)).toUpperCase();for(;e.length<30;)e="0"+e;return"XE"+OK("XE00"+e)+e}function L9e(t){let e=null;try{e=rc(t.from)}catch{Tu.throwArgumentError("missing from address","transaction",t)}const n=mTe(Fi(sr.from(t.nonce).toHexString()));return rc(CK(da(_K([e,n])),12))}function O9e(t,e,n){return wL(e)!==32&&Tu.throwArgumentError("salt must be 32 bytes","salt",e),wL(n)!==32&&Tu.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",n),rc(CK(da(kK(["0xff",rc(t),e,n])),12))}const c2e="strings/5.7.0",$K=new Vt(c2e);var f0;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(f0||(f0={}));var Si;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(Si||(Si={}));function u2e(t,e,n,r,s){return $K.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",n)}function FK(t,e,n,r,s){if(t===Si.BAD_PREFIX||t===Si.UNEXPECTED_CONTINUE){let i=0;for(let a=e+1;a<n.length&&n[a]>>6===2;a++)i++;return i}return t===Si.OVERRUN?n.length-e-1:0}function d2e(t,e,n,r,s){return t===Si.OVERLONG?(r.push(s),0):(r.push(65533),FK(t,e,n))}const p2e=Object.freeze({error:u2e,ignore:FK,replace:d2e});function eM(t,e){e==null&&(e=p2e.error),t=Fi(t);const n=[];let r=0;for(;r<t.length;){const s=t[r++];if(!(s>>7)){n.push(s);continue}let i=null,a=null;if((s&224)===192)i=1,a=127;else if((s&240)===224)i=2,a=2047;else if((s&248)===240)i=3,a=65535;else{(s&192)===128?r+=e(Si.UNEXPECTED_CONTINUE,r-1,t,n):r+=e(Si.BAD_PREFIX,r-1,t,n);continue}if(r-1+i>=t.length){r+=e(Si.OVERRUN,r-1,t,n);continue}let o=s&(1<<8-i-1)-1;for(let l=0;l<i;l++){let u=t[r];if((u&192)!=128){r+=e(Si.MISSING_CONTINUE,r,t,n),o=null;break}o=o<<6|u&63,r++}if(o!==null){if(o>1114111){r+=e(Si.OUT_OF_RANGE,r-1-i,t,n,o);continue}if(o>=55296&&o<=57343){r+=e(Si.UTF16_SURROGATE,r-1-i,t,n,o);continue}if(o<=a){r+=e(Si.OVERLONG,r-1-i,t,n,o);continue}n.push(o)}}return n}function sc(t,e=f0.current){e!=f0.current&&($K.checkNormalize(),t=t.normalize(e));let n=[];for(let r=0;r<t.length;r++){const s=t.charCodeAt(r);if(s<128)n.push(s);else if(s<2048)n.push(s>>6|192),n.push(s&63|128);else if((s&64512)==55296){r++;const i=t.charCodeAt(r);if(r>=t.length||(i&64512)!==56320)throw new Error("invalid utf-8 string");const a=65536+((s&1023)<<10)+(i&1023);n.push(a>>18|240),n.push(a>>12&63|128),n.push(a>>6&63|128),n.push(a&63|128)}else n.push(s>>12|224),n.push(s>>6&63|128),n.push(s&63|128)}return Fi(n)}function UI(t){const e="0000"+t.toString(16);return"\\u"+e.substring(e.length-4)}function $9e(t,e){return'"'+eM(t,e).map(n=>{if(n<256){switch(n){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(n>=32&&n<127)return String.fromCharCode(n)}return n<=65535?UI(n):(n-=65536,UI((n>>10&1023)+55296)+UI((n&1023)+56320))}).join("")+'"'}function f2e(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function F9e(t,e){return f2e(eM(t,e))}function B9e(t,e=f0.current){return eM(sc(t,e))}const h2e="units/5.7.0",BK=new oe(h2e),UK=["wei","kwei","mwei","gwei","szabo","finney","ether"];function U9e(t){const e=String(t).split(".");(e.length>2||!e[0].match(/^-?[0-9]*$/)||e[1]&&!e[1].match(/^[0-9]*$/)||t==="."||t==="-.")&&BK.throwArgumentError("invalid value","value",t);let n=e[0],r="";for(n.substring(0,1)==="-"&&(r="-",n=n.substring(1));n.substring(0,1)==="0";)n=n.substring(1);n===""&&(n="0");let s="";for(e.length===2&&(s="."+(e[1]||"0"));s.length>2&&s[s.length-1]==="0";)s=s.substring(0,s.length-1);const i=[];for(;n.length;)if(n.length<=3){i.unshift(n);break}else{const a=n.length-3;i.unshift(n.substring(a)),n=n.substring(0,a)}return r+i.join(",")+s}function Ud(t,e){if(typeof e=="string"){const n=UK.indexOf(e);n!==-1&&(e=3*n)}return _w(t,e??18)}function zK(t,e){if(typeof t!="string"&&BK.throwArgumentError("value must be a string","value",t),typeof e=="string"){const n=UK.indexOf(e);n!==-1&&(e=3*n)}return Io(t,e??18)}function Ye(t){return Ud(t,18)}function to(t){return zK(t,18)}const m2e={STORY_AEINED_TESTNET:{chainId:1315,name:"Story Aeined Testnet",rpcUrl:"https://aeneid.storyrpc.io",blockExplorer:"https://testnet.storyscan.xyz",nativeCurrency:{name:"IP",symbol:"IP",decimals:18},contracts:{IP_ASSET_REGISTRY:"0x1a9d0d28a0422f26d31be72edc6f13ea4371e11b",LICENSING_MODULE:"0x5a7d9fa17de09350f481a53b470d798c1c1b7485",ROYALTY_MODULE:"0x16eF58e959522727588921A92e424025b49D4B29",SPG_NFT_CONTRACT:"",PIL_TEMPLATE:"0x58E2c909D557Cd23EF90D14f8fd21667A5Ae7a93",LAP_ROYALTY_POLICY:"0x28b4F70ffE5ba7A26aEF979226f77Eb57fb9Fdb6",WIP_TOKEN_ADDRESS:"0xB132A6B7AE652c974EE1557A3521D53d18F6739f",USDC_ADDRESS:""}}},y2e="STORY_AEINED_TESTNET",GL=m2e[y2e],VK=T.createContext(void 0),er=()=>{const t=T.useContext(VK);if(!t)throw new Error("useWallet must be used within a WalletProvider");return t},g2e=({children:t})=>{const[e,n]=T.useState(null),[r,s]=T.useState(!1),[i,a]=T.useState(null),[o,l]=T.useState(null),[u,d]=T.useState(null),[p,f]=T.useState(null),h=GL.chainId,y=p===h,m=async()=>{try{if(!window.ethereum)throw new Error("No wallet found");const w=GL;try{return await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:`0x${w.chainId.toString(16)}`}]}),!0}catch(A){if(A.code===4902)try{return await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:`0x${w.chainId.toString(16)}`,chainName:w.name,nativeCurrency:w.nativeCurrency,rpcUrls:[w.rpcUrl],blockExplorerUrls:[w.blockExplorer]}]}),!0}catch(I){return console.error("Failed to add Story Aeined Testnet:",I),!1}return console.error("Failed to switch to Story Aeined Testnet:",A),!1}}catch(w){return console.error("Network switch error:",w),!1}},g=async()=>{try{if(!window.ethereum)throw new Error("No wallet found. Please install MetaMask.");const w=new eo(window.ethereum);await w.send("eth_requestAccounts",[]);const A=w.getSigner(),I=await A.getAddress(),C=await w.getNetwork();f(C.chainId),d(C.name),a(w),l(A),n(I),s(!0),localStorage.setItem("walletConnected","true")}catch(w){throw console.error("Failed to connect wallet:",w),w}},v=()=>{a(null),l(null),n(null),s(!1),d(null),f(null),localStorage.removeItem("walletConnected")};T.useEffect(()=>{(async()=>{if(localStorage.getItem("walletConnected")&&window.ethereum)try{const I=new eo(window.ethereum);if((await I.listAccounts()).length>0){const E=I.getSigner(),N=await E.getAddress(),_=await I.getNetwork();f(_.chainId),d(_.name),a(I),l(E),n(N),s(!0)}}catch(I){console.error("Auto-connect failed:",I),localStorage.removeItem("walletConnected")}})()},[]),T.useEffect(()=>{if(window.ethereum){const w=I=>{I.length===0?v():I[0]!==e&&g()},A=()=>{window.location.reload()};return window.ethereum.on("accountsChanged",w),window.ethereum.on("chainChanged",A),()=>{window.ethereum.removeListener("accountsChanged",w),window.ethereum.removeListener("chainChanged",A)}}},[e]);const b={address:e,isConnected:r,provider:i,signer:o,network:u,chainId:p,connectWallet:g,disconnectWallet:v,switchToRequiredNetwork:m,isCorrectNetwork:y};return c.jsx(VK.Provider,{value:b,children:t})},c1={"Real Estate":["/assets/realestate/types-of-real-estate-cover.jpg","/assets/realestate/real-estate-asset-classes-hero.jpeg","/assets/realestate/types-of-real-estate-overview-scaled.jpg","/assets/realestate/banglore.jpeg"],Invoice:["/assets/invoices/Commercial-Invoice-Template.webp","/assets/invoices/1131w-KuVdlrcyWPE.webp","/assets/invoices/images-3.png"],Commodity:["/placeholder.svg"],Stocks:["/placeholder.svg"],"Carbon Credits":["/placeholder.svg"],"Precious Metals":["/placeholder.svg"],Collectibles:["/placeholder.svg"],Art:["/placeholder.svg"],Unknown:["/placeholder.svg"]},KL={"Real Estate":"/assets/realestate/types-of-real-estate-cover.jpg",Invoice:"/assets/invoices/Commercial-Invoice-Template.webp",Commodity:"/placeholder.svg",Stocks:"/placeholder.svg","Carbon Credits":"/placeholder.svg","Precious Metals":"/placeholder.svg",Collectibles:"/placeholder.svg",Art:"/placeholder.svg",Unknown:"/placeholder.svg"},HK=t=>KL[t]||KL.Unknown,v2e=(t,e)=>{const n=c1[t]||c1.Unknown,r=parseInt(e.toString())%n.length;return n[r]},u1=(t,e,n)=>{const r=c1[t]||c1.Unknown,s=n?`${e}-${n}`:e.toString();let i=0;for(let o=0;o<s.length;o++){const l=s.charCodeAt(o);i=(i<<5)-i+l,i=i&i}const a=Math.abs(i)%r.length;return r[a]},vf="image_cache_",b2e=24,YL=100,qL="1.0";class w2e{constructor(){Ke(this,"cache",new Map);Ke(this,"loadingPromises",new Map);this.loadCacheFromStorage(),this.cleanupExpiredEntries()}async getCachedImage(e,n="Real Estate",r="1",s=!1){const i=this.generateCacheKey(e,n,r);if(!s&&this.cache.has(i)){const o=this.cache.get(i);if(this.isCacheEntryValid(o))return console.log(` Using cached image for ${i}:`,o.url),o.url;this.cache.delete(i),this.removeCacheFromStorage(i)}if(this.loadingPromises.has(i))return console.log(` Image already loading for ${i}, waiting...`),this.loadingPromises.get(i);const a=this.loadAndCacheImage(e,n,r,i);this.loadingPromises.set(i,a);try{const o=await a;return this.loadingPromises.delete(i),o}catch(o){throw this.loadingPromises.delete(i),o}}async loadAndCacheImage(e,n,r,s){if(console.log(` Loading and caching image for ${s}...`),this.isIPFSUrl(e)){console.log(` Attempting IPFS image: ${e}`);const a=this.getIPFSGateways(e);for(const o of a)try{if(await this.testImageUrl(o))return console.log(` IPFS image loaded successfully: ${o}`),this.cacheImage(s,o,"ipfs",n,r),o}catch{console.log(` IPFS gateway failed: ${o}`);continue}console.log(` All IPFS gateways failed for: ${e}`)}if(!this.isIPFSUrl(e)&&e&&!e.includes("placeholder")){console.log(` Attempting original URL: ${e}`);try{if(await this.testImageUrl(e))return console.log(` Original image loaded successfully: ${e}`),this.cacheImage(s,e,"external",n,r),e}catch{console.log(` Original URL failed: ${e}`)}}console.log(` Using deterministic local asset for ${n} token ${r}`);const i=u1(n,r);return this.cacheImage(s,i,"local",n,r),console.log(` Cached local asset: ${i}`),i}testImageUrl(e){return new Promise(n=>{const r=new Image,s=setTimeout(()=>{r.onload=null,r.onerror=null,n(!1)},5e3);r.onload=()=>{clearTimeout(s),n(!0)},r.onerror=()=>{clearTimeout(s),n(!1)},r.src=e})}cacheImage(e,n,r,s,i){const a={url:n,timestamp:Date.now(),source:r,assetType:s,tokenId:i,version:qL};this.cache.set(e,a),this.saveCacheToStorage(e,a),this.cache.size>YL&&this.cleanupOldestEntries(),console.log(` Cached image: ${e}  ${n} (${r})`)}generateCacheKey(e,n,r){const s=this.simpleHash(e||"empty");return`${n}_${r}_${s}`}simpleHash(e){let n=0;for(let r=0;r<e.length;r++){const s=e.charCodeAt(r);n=(n<<5)-n+s,n=n&n}return Math.abs(n).toString(36)}isIPFSUrl(e){return e.startsWith("ipfs://")||e.includes("/ipfs/")||e.match(/^Qm[a-zA-Z0-9]{44}$/)!==null}getIPFSGateways(e){let n="";if(e.startsWith("ipfs://"))n=e.replace("ipfs://","");else if(e.includes("/ipfs/")){const r=e.split("/ipfs/");n=r[r.length-1]}else e.match(/^Qm[a-zA-Z0-9]{44}$/)&&(n=e);return n?[`https://gateway.pinata.cloud/ipfs/${n}`,`https://ipfs.io/ipfs/${n}`,`https://cloudflare-ipfs.com/ipfs/${n}`,`https://dweb.link/ipfs/${n}`,`https://gateway.ipfs.io/ipfs/${n}`]:[e]}isCacheEntryValid(e){const n=Date.now(),r=e.timestamp+b2e*60*60*1e3,s=n>r,i=e.version===qL;return!s&&i}loadCacheFromStorage(){try{const e=Object.keys(localStorage).filter(n=>n.startsWith(vf));for(const n of e){const r=localStorage.getItem(n);if(r){const s=JSON.parse(r),i=n.replace(vf,"");this.isCacheEntryValid(s)?this.cache.set(i,s):localStorage.removeItem(n)}}console.log(` Loaded ${this.cache.size} images from cache storage`)}catch(e){console.error(" Error loading image cache from storage:",e)}}saveCacheToStorage(e,n){try{localStorage.setItem(vf+e,JSON.stringify(n))}catch(r){console.error(" Error saving image cache to storage:",r),this.cleanupOldestEntries();try{localStorage.setItem(vf+e,JSON.stringify(n))}catch(s){console.error(" Error saving image cache after cleanup:",s)}}}removeCacheFromStorage(e){try{localStorage.removeItem(vf+e)}catch(n){console.error(" Error removing image cache from storage:",n)}}cleanupExpiredEntries(){const e=[];for(const[n,r]of this.cache.entries())this.isCacheEntryValid(r)||e.push(n);for(const n of e)this.cache.delete(n),this.removeCacheFromStorage(n);e.length>0&&console.log(` Cleaned up ${e.length} expired image cache entries`)}cleanupOldestEntries(){const e=Array.from(this.cache.entries());e.sort((r,s)=>r[1].timestamp-s[1].timestamp);const n=e.slice(0,Math.ceil(YL*.2));for(const[r]of n)this.cache.delete(r),this.removeCacheFromStorage(r);console.log(` Cleaned up ${n.length} oldest image cache entries`)}clearAllCache(){this.cache.clear();try{const e=Object.keys(localStorage).filter(n=>n.startsWith(vf));for(const n of e)localStorage.removeItem(n);console.log(" Cleared all image cache")}catch(e){console.error(" Error clearing image cache:",e)}}getCacheStats(){const e=Array.from(this.cache.values()).filter(s=>s.source==="ipfs").length,n=Array.from(this.cache.values()).filter(s=>s.source==="local").length,r=Array.from(this.cache.values()).filter(s=>s.source==="external").length;return{totalEntries:this.cache.size,ipfsEntries:e,localEntries:n,externalEntries:r,cacheSize:`${Math.round(this.cache.size*.5)}KB`}}async preloadImages(e){console.log(` Preloading ${e.length} images...`);const n=e.map(async({url:i,assetType:a,tokenId:o})=>{try{return await this.getCachedImage(i,a,o),!0}catch(l){return console.error(` Failed to preload image for token ${o}:`,l),!1}}),s=(await Promise.allSettled(n)).filter(i=>i.status==="fulfilled").length;console.log(` Preloaded ${s}/${e.length} images`)}}const qT=new w2e;window.imageCacheService=qT;const em=({src:t,alt:e,className:n="",assetType:r="Real Estate",tokenId:s="1",forceRefresh:i=!1,onLoad:a,onError:o,placeholder:l})=>{const[u,d]=T.useState(""),[p,f]=T.useState(!0),[h,y]=T.useState(!1),[m,g]=T.useState("");T.useEffect(()=>{let A=!0;return(async()=>{f(!0),y(!1);try{console.log(` Loading cached image for token ${s} (${r}):`,t);const C=await qT.getCachedImage(t,r,s,i);A&&(d(C),C.includes("/assets/")?g("local"):C.includes("ipfs")||C.includes("gateway")?g("ipfs"):g("external"),console.log(` Cached image loaded for token ${s}:`,C))}catch(C){console.error(` Failed to load cached image for token ${s}:`,C),A&&(y(!0),f(!1),o==null||o())}})(),()=>{A=!1}},[t,r,s,i]);const v=()=>{f(!1),y(!1),a==null||a(),console.log(` Image rendered successfully for token ${s} from ${m} cache`)},b=()=>{y(!0),f(!1),o==null||o(),console.error(` Image render failed for token ${s}:`,u)},w=c.jsx("div",{className:"flex items-center justify-center bg-gray-200 animate-pulse",children:c.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})});return c.jsxs("div",{className:`relative ${n}`,children:[p&&c.jsx("div",{className:"absolute inset-0",children:l||w}),u&&c.jsx("img",{src:u,alt:e,className:`${n} ${p?"opacity-0":"opacity-100"} transition-opacity duration-300`,onLoad:v,onError:b}),h&&!p&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100",children:c.jsxs("div",{className:"text-center text-gray-500",children:[c.jsx("svg",{className:"w-8 h-8 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})}),c.jsx("span",{className:"text-xs",children:"Image unavailable"})]})}),!1]})},x2e=(t,e)=>(parseFloat(Ye(t))*e).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),T2e=({listings:t,onSelectListing:e,onViewDetails:n,tokenPrice:r})=>{var l,u,d;const[s,i]=T.useState(0);T.useEffect(()=>{if(t.length===0)return;const p=setInterval(()=>{i(f=>(f+1)%t.length)},5e3);return()=>clearInterval(p)},[t.length]);const a=()=>{t.length!==0&&i(p=>(p+1)%t.length)},o=()=>{t.length!==0&&i(p=>(p-1+t.length)%t.length)};return t.length===0?null:c.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-br from-gray-900 via-gray-800 to-black shadow-2xl",children:[c.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_30%_20%,rgba(75,85,99,0.2),transparent_50%)]"}),c.jsxs("div",{className:"relative",children:[c.jsx(qS,{mode:"wait",children:c.jsxs(Qt.div,{initial:{opacity:0,x:300},animate:{opacity:1,x:0},exit:{opacity:0,x:-300},transition:{duration:.5,ease:"easeInOut"},className:"flex flex-col lg:flex-row",children:[c.jsxs("div",{className:"lg:w-1/2 relative",children:[c.jsx(em,{src:t[s].image,alt:t[s].name,className:"w-full h-64 lg:h-96 object-cover",assetType:((u=(l=t[s].attributes)==null?void 0:l.find(p=>p.trait_type==="Asset Type"))==null?void 0:u.value)||"Real Estate",tokenId:t[s].tokenId}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"}),c.jsx("div",{className:"absolute top-6 left-6",children:c.jsx("span",{className:"px-4 py-2 bg-gradient-to-r from-yellow-400 to-orange-500 text-black rounded-full text-sm font-bold shadow-lg",children:" FEATURED"})})]}),c.jsxs("div",{className:"lg:w-1/2 p-8 lg:p-12 text-white flex flex-col justify-center",children:[c.jsx("div",{className:"mb-4",children:c.jsx("span",{className:"px-3 py-1 bg-white/20 backdrop-blur-sm rounded-full text-sm font-medium",children:(d=t[s].attributes.find(p=>p.trait_type==="Asset Type"))==null?void 0:d.value})}),c.jsx("h3",{className:"text-3xl lg:text-4xl font-bold mb-4 leading-tight",children:t[s].name}),c.jsx("p",{className:"text-lg text-gray-100 mb-6 leading-relaxed",children:t[s].description}),c.jsxs("div",{className:"flex items-center justify-between mb-8",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"text-gray-200 text-sm",children:["Price per token (",(parseFloat(t[s].price)/Math.pow(10,18)).toFixed(4)," Flow)"]}),c.jsxs("div",{className:"text-yellow-400 text-sm mt-1 font-semibold",children:["Total Valuation: $",x2e(t[s].price,t[s].totalSupply)]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"text-green-400 font-bold",children:["Token #",t[s].tokenId]}),c.jsxs("div",{className:"text-gray-200 text-sm",children:[t[s].amount," Available"]})]})]}),c.jsxs("div",{className:"flex space-x-4",children:[c.jsx("button",{onClick:()=>n(t[s]),className:"flex-1 px-6 py-3 bg-white text-gray-900 rounded-xl hover:bg-gray-50 transition-all duration-300 font-semibold shadow-lg",children:"View Details"}),c.jsx("button",{onClick:()=>e(t[s]),className:"flex-1 px-6 py-3 bg-gradient-to-r from-gray-700 to-gray-800 text-white rounded-xl hover:from-gray-800 hover:to-gray-900 transition-all duration-300 font-semibold shadow-lg",children:"Invest Now"})]})]})]},s)}),c.jsx("button",{onClick:o,className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-12 h-12 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-white/30 transition-all duration-300",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),c.jsx("button",{onClick:a,className:"absolute right-4 top-1/2 transform -translate-y-1/2 w-12 h-12 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-white/30 transition-all duration-300",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),c.jsx("div",{className:"absolute bottom-6 left-1/2 transform -translate-x-1/2 flex space-x-2",children:t.map((p,f)=>c.jsx("button",{onClick:()=>i(f),className:`w-3 h-3 rounded-full transition-all duration-300 ${f===s?"bg-white shadow-lg":"bg-white/40 hover:bg-white/60"}`},f))})]})]})},WK=(t,e)=>{const n=t*e;return n<1?`$${n.toFixed(4)}`:n<1e3?`$${n.toFixed(2)}`:`$${n.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`},A2e=({listings:t,category:e,onSelectListing:n,onNavigateToTrading:r,tokenPrice:s,loading:i=!1,userLicenses:a=[]})=>{const[o,l]=T.useState(null);return i?c.jsxs("div",{className:"text-center py-16",children:[c.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-100 to-blue-200 rounded-full flex items-center justify-center mx-auto mb-4 animate-pulse",children:c.jsx("svg",{className:"w-12 h-12 text-blue-500 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),c.jsxs("h3",{className:"text-xl font-medium text-gray-800",children:["Loading ",e]}),c.jsx("p",{className:"text-gray-500",children:"Fetching the latest listings from the blockchain..."})]}):t.length===0?c.jsxs("div",{className:"text-center py-16",children:[c.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-gray-100 to-gray-200 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),c.jsxs("h3",{className:"text-xl font-medium text-gray-800",children:["No ",e," Available"]}),c.jsx("p",{className:"text-gray-500",children:"There are currently no assets listed in this category."})]}):c.jsx(Qt.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:t.map(u=>{var d,p,f,h;return c.jsxs(Qt.div,{className:"bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden group relative border border-gray-200/80",whileHover:{y:-8},onMouseEnter:()=>l(u),onMouseLeave:()=>l(null),children:[c.jsxs("div",{className:"relative",children:[c.jsx(em,{src:u.image,alt:u.name,className:"w-full h-56 object-cover",assetType:((p=(d=u.attributes)==null?void 0:d.find(y=>y.trait_type==="Asset Type"))==null?void 0:p.value)||"Real Estate",tokenId:u.tokenId}),c.jsxs("div",{className:"absolute top-4 left-4 flex space-x-2",children:[c.jsx(st,{variant:"secondary",className:"bg-white/80 backdrop-blur-sm text-gray-800 shadow",children:(h=(f=u.attributes)==null?void 0:f.find(y=>y.trait_type==="Asset Type"))==null?void 0:h.value}),u.license&&c.jsx(st,{variant:"secondary",className:"bg-blue-100 text-blue-800 shadow",children:"Licensable"}),a.some(y=>y.ipId===u.tokenId)&&c.jsx(st,{variant:"secondary",className:"bg-green-100 text-green-800 shadow",children:"Licensed"})]}),c.jsxs("div",{className:"absolute bottom-4 right-4 text-white text-right bg-black/50 backdrop-blur-sm px-3 py-1 rounded-lg",children:[c.jsx("div",{className:"text-lg font-bold",children:WK(u.price,s)}),u.license&&c.jsxs("div",{className:"text-xs text-green-400",children:[u.license.terms.commercialRevShare,"% Royalty"]})]})]}),c.jsxs("div",{className:"p-6",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-900 truncate mb-2",children:u.name}),c.jsx("p",{className:"text-gray-600 h-10 overflow-hidden mb-4",children:u.description}),u.license&&c.jsx("div",{className:"mb-4",children:c.jsxs(st,{children:["Royalty: ",u.license.terms.commercialRevShare,"%"]})}),c.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-500 mb-4",children:[c.jsxs("span",{children:["Token #",u.tokenId]}),c.jsxs("span",{className:"font-semibold text-green-600",children:[u.amount," Available"]})]})]}),c.jsx("div",{className:"px-6 pb-6 pt-2 border-t border-gray-100",children:c.jsxs("div",{className:"flex space-x-3",children:[c.jsxs(re,{size:"sm",className:"flex-1 bg-gray-800 hover:bg-gray-900",onClick:()=>n(u),children:[c.jsx(zs,{className:"w-4 h-4 mr-2"}),"Buy"]}),c.jsx(re,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>r(u),children:"Trade"})]})})]},u.tokenId)})})},I2e=(t,e)=>(parseFloat(Ye(t))*e).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),k2e=({listing:t,onClose:e,onBuy:n,onNavigateToTrading:r,tokenPrice:s,onMintLicense:i})=>{var a,o,l,u;return T.useEffect(()=>{const d=p=>{p.key==="Escape"&&e()};return window.addEventListener("keydown",d),()=>{window.removeEventListener("keydown",d)}},[e]),c.jsx(qS,{children:c.jsx(Qt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:e,children:c.jsxs(Qt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.3},className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",onClick:d=>d.stopPropagation(),children:[c.jsxs("header",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t.name}),c.jsx(re,{variant:"ghost",size:"icon",onClick:e,className:"rounded-full",children:c.jsx(dT,{className:"w-6 h-6"})})]}),c.jsx("div",{className:"flex-grow overflow-y-auto",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 p-8",children:[c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"relative rounded-xl overflow-hidden shadow-lg",children:[c.jsx(em,{src:t.image,alt:t.name,className:"w-full h-80 object-cover",assetType:((o=(a=t.attributes)==null?void 0:a.find(d=>d.trait_type==="Asset Type"))==null?void 0:o.value)||"Real Estate",tokenId:t.tokenId}),c.jsx("div",{className:"absolute top-4 left-4",children:c.jsx(st,{variant:"secondary",className:"bg-white/80 backdrop-blur-sm shadow",children:(u=(l=t.attributes)==null?void 0:l.find(d=>d.trait_type==="Asset Type"))==null?void 0:u.value})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[c.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[c.jsxs("div",{className:"flex items-center text-gray-500 mb-1",children:[c.jsx(zs,{className:"w-4 h-4 mr-2"})," Price per Token"]}),c.jsx("div",{className:"font-bold text-lg text-gray-900",children:WK(t.price,s)})]}),c.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[c.jsxs("div",{className:"flex items-center text-gray-500 mb-1",children:[c.jsx(gs,{className:"w-4 h-4 mr-2"})," Total Valuation"]}),c.jsxs("div",{className:"font-bold text-lg text-green-600",children:["$",I2e(t.price,t.totalSupply)]})]}),c.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[c.jsxs("div",{className:"flex items-center text-gray-500 mb-1",children:[c.jsx(_p,{className:"w-4 h-4 mr-2"})," Tokens Available"]}),c.jsx("div",{className:"font-bold text-lg text-gray-900",children:t.amount})]}),c.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[c.jsxs("div",{className:"flex items-center text-gray-500 mb-1",children:[c.jsx(Yu,{className:"w-4 h-4 mr-2"})," Token ID"]}),c.jsxs("div",{className:"font-bold text-lg text-gray-900",children:["#",t.tokenId]})]})]})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-3 flex items-center",children:[c.jsx(g3,{className:"w-5 h-5 mr-2 text-gray-500"}),"Asset Details"]}),c.jsx("div",{className:"space-y-2 text-sm",children:t.attributes.map((d,p)=>c.jsxs("div",{className:"flex justify-between p-3 bg-gray-50 rounded-md",children:[c.jsx("span",{className:"text-gray-600",children:d.trait_type}),c.jsx("span",{className:"font-semibold text-gray-900",children:d.value})]},p))})]}),t.license&&c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-3 flex items-center",children:[c.jsx(g3,{className:"w-5 h-5 mr-2 text-gray-500"}),"License Terms"]}),c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("div",{className:"flex justify-between p-3 bg-gray-50 rounded-md",children:[c.jsx("span",{className:"text-gray-600",children:"Commercial Use"}),c.jsx("span",{className:"font-semibold text-gray-900",children:t.license.terms.commercialUse?"Yes":"No"})]}),c.jsxs("div",{className:"flex justify-between p-3 bg-gray-50 rounded-md",children:[c.jsx("span",{className:"text-gray-600",children:"Derivatives"}),c.jsx("span",{className:"font-semibold text-gray-900",children:t.license.terms.derivativesAllowed?"Yes":"No"})]}),c.jsxs("div",{className:"flex justify-between p-3 bg-gray-50 rounded-md",children:[c.jsx("span",{className:"text-gray-600",children:"Royalty"}),c.jsxs("span",{className:"font-semibold text-gray-900",children:[t.license.terms.commercialRevShare,"%"]})]})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:"Description"}),c.jsx("p",{className:"text-gray-600 leading-relaxed text-sm",children:t.description})]}),t.metadataURI&&c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:"Metadata"}),c.jsx("a",{href:`https://gateway.pinata.cloud/ipfs/${t.metadataURI.replace("ipfs://","")}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm truncate block",children:"View on IPFS"})]})]})]})}),c.jsx("footer",{className:"p-6 bg-gray-50 border-t border-gray-200",children:c.jsxs("div",{className:"flex justify-end space-x-4",children:[c.jsx(re,{variant:"outline",size:"lg",onClick:()=>r(t),children:"Go to Trading"}),c.jsxs(re,{size:"lg",className:"bg-gray-800 hover:bg-gray-900",onClick:()=>n(t),children:[c.jsx(zs,{className:"w-5 h-5 mr-2"}),"Buy Now"]}),t.license&&c.jsx(re,{size:"lg",className:"bg-blue-600 hover:bg-blue-700",onClick:()=>i(t),children:"Mint License"})]})})]})})})},C2e=({listing:t,tokenPrice:e,onClose:n,onMint:r})=>{const[s,i]=T.useState(1),[a,o]=T.useState(!1),l=()=>{console.log(" Mint button clicked:",{agree:a,amount:s,listing:t}),a?(console.log(" Agreement confirmed, calling onMint..."),r(t,s)):console.warn(" User must agree to terms first")};if(!t.license)return console.error(" No license found on listing:",t),null;console.log(" License Modal Data:",t.license);const u=t.license.terms.defaultMintingFee?parseFloat(Ye(t.license.terms.defaultMintingFee)):0;return c.jsx(Qt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:n,children:c.jsx(Qt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg",onClick:d=>d.stopPropagation(),children:c.jsxs("div",{className:"p-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Mint License"}),c.jsxs("p",{className:"text-gray-600 mb-4",children:["You are about to mint a license for:"," ",c.jsx("span",{className:"font-semibold",children:t.name})]}),c.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-4",children:[c.jsx("h3",{className:"font-semibold mb-2",children:"License Terms Summary"}),c.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[c.jsxs("li",{children:[" Commercial Use: ",t.license.terms.commercialUse?"Yes":"No"]}),c.jsxs("li",{children:[" Derivative Works: ",t.license.terms.derivativesAllowed?"Yes":"No"]}),c.jsxs("li",{children:[" Royalty: ",t.license.terms.commercialRevShare,"% of revenue"]}),c.jsxs("li",{children:[" Minting Fee: ",u," ETH"]})]})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount to mint"}),c.jsx("input",{type:"number",id:"amount",value:s,onChange:d=>i(parseInt(d.target.value,10)),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"1"})]}),c.jsxs("div",{className:"flex items-start mb-6",children:[c.jsx("input",{id:"agree",type:"checkbox",checked:a,onChange:d=>o(d.target.checked),className:"h-4 w-4 text-blue-600 border-gray-300 rounded mt-1"}),c.jsx("label",{htmlFor:"agree",className:"ml-2 text-sm text-gray-700",children:"I agree to the license terms, including the royalty commitment."})]}),c.jsxs("div",{className:"flex justify-end space-x-4",children:[c.jsx(re,{variant:"outline",onClick:n,children:"Cancel"}),c.jsx(re,{onClick:l,disabled:!a,children:"Mint License"})]})]})})})};function GK(t,e){return function(){return t.apply(e,arguments)}}const{toString:E2e}=Object.prototype,{getPrototypeOf:tM}=Object,{iterator:XT,toStringTag:KK}=Symbol,ZT=(t=>e=>{const n=E2e.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),yo=t=>(t=t.toLowerCase(),e=>ZT(e)===t),JT=t=>e=>typeof e===t,{isArray:Lm}=Array,h0=JT("undefined");function N2e(t){return t!==null&&!h0(t)&&t.constructor!==null&&!h0(t.constructor)&&mi(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const YK=yo("ArrayBuffer");function S2e(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&YK(t.buffer),e}const R2e=JT("string"),mi=JT("function"),qK=JT("number"),QT=t=>t!==null&&typeof t=="object",M2e=t=>t===!0||t===!1,zw=t=>{if(ZT(t)!=="object")return!1;const e=tM(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(KK in t)&&!(XT in t)},P2e=yo("Date"),j2e=yo("File"),D2e=yo("Blob"),_2e=yo("FileList"),L2e=t=>QT(t)&&mi(t.pipe),O2e=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||mi(t.append)&&((e=ZT(t))==="formdata"||e==="object"&&mi(t.toString)&&t.toString()==="[object FormData]"))},$2e=yo("URLSearchParams"),[F2e,B2e,U2e,z2e]=["ReadableStream","Request","Response","Headers"].map(yo),V2e=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Nv(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),Lm(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),a=i.length;let o;for(r=0;r<a;r++)o=i[r],e.call(null,t[o],o,t)}}function XK(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const Jd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ZK=t=>!h0(t)&&t!==Jd;function aE(){const{caseless:t}=ZK(this)&&this||{},e={},n=(r,s)=>{const i=t&&XK(e,s)||s;zw(e[i])&&zw(r)?e[i]=aE(e[i],r):zw(r)?e[i]=aE({},r):Lm(r)?e[i]=r.slice():e[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&Nv(arguments[r],n);return e}const H2e=(t,e,n,{allOwnKeys:r}={})=>(Nv(e,(s,i)=>{n&&mi(s)?t[i]=GK(s,n):t[i]=s},{allOwnKeys:r}),t),W2e=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),G2e=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},K2e=(t,e,n,r)=>{let s,i,a;const o={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)a=s[i],(!r||r(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=n!==!1&&tM(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Y2e=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},q2e=t=>{if(!t)return null;if(Lm(t))return t;let e=t.length;if(!qK(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},X2e=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&tM(Uint8Array)),Z2e=(t,e)=>{const r=(t&&t[XT]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},J2e=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},Q2e=yo("HTMLFormElement"),eAe=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),XL=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),tAe=yo("RegExp"),JK=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Nv(n,(s,i)=>{let a;(a=e(s,i,t))!==!1&&(r[i]=a||s)}),Object.defineProperties(t,r)},nAe=t=>{JK(t,(e,n)=>{if(mi(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(mi(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},rAe=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return Lm(t)?r(t):r(String(t).split(e)),n},sAe=()=>{},iAe=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function aAe(t){return!!(t&&mi(t.append)&&t[KK]==="FormData"&&t[XT])}const oAe=t=>{const e=new Array(10),n=(r,s)=>{if(QT(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const i=Lm(r)?[]:{};return Nv(r,(a,o)=>{const l=n(a,s+1);!h0(l)&&(i[o]=l)}),e[s]=void 0,i}}return r};return n(t,0)},lAe=yo("AsyncFunction"),cAe=t=>t&&(QT(t)||mi(t))&&mi(t.then)&&mi(t.catch),QK=((t,e)=>t?setImmediate:e?((n,r)=>(Jd.addEventListener("message",({source:s,data:i})=>{s===Jd&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),Jd.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",mi(Jd.postMessage)),uAe=typeof queueMicrotask<"u"?queueMicrotask.bind(Jd):typeof process<"u"&&process.nextTick||QK,dAe=t=>t!=null&&mi(t[XT]),ce={isArray:Lm,isArrayBuffer:YK,isBuffer:N2e,isFormData:O2e,isArrayBufferView:S2e,isString:R2e,isNumber:qK,isBoolean:M2e,isObject:QT,isPlainObject:zw,isReadableStream:F2e,isRequest:B2e,isResponse:U2e,isHeaders:z2e,isUndefined:h0,isDate:P2e,isFile:j2e,isBlob:D2e,isRegExp:tAe,isFunction:mi,isStream:L2e,isURLSearchParams:$2e,isTypedArray:X2e,isFileList:_2e,forEach:Nv,merge:aE,extend:H2e,trim:V2e,stripBOM:W2e,inherits:G2e,toFlatObject:K2e,kindOf:ZT,kindOfTest:yo,endsWith:Y2e,toArray:q2e,forEachEntry:Z2e,matchAll:J2e,isHTMLForm:Q2e,hasOwnProperty:XL,hasOwnProp:XL,reduceDescriptors:JK,freezeMethods:nAe,toObjectSet:rAe,toCamelCase:eAe,noop:sAe,toFiniteNumber:iAe,findKey:XK,global:Jd,isContextDefined:ZK,isSpecCompliantForm:aAe,toJSONObject:oAe,isAsyncFn:lAe,isThenable:cAe,setImmediate:QK,asap:uAe,isIterable:dAe};function Dt(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}ce.inherits(Dt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ce.toJSONObject(this.config),code:this.code,status:this.status}}});const eY=Dt.prototype,tY={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{tY[t]={value:t}});Object.defineProperties(Dt,tY);Object.defineProperty(eY,"isAxiosError",{value:!0});Dt.from=(t,e,n,r,s,i)=>{const a=Object.create(eY);return ce.toFlatObject(t,a,function(l){return l!==Error.prototype},o=>o!=="isAxiosError"),Dt.call(a,t.message,e,n,r,s),a.cause=t,a.name=t.name,i&&Object.assign(a,i),a};const pAe=null;function oE(t){return ce.isPlainObject(t)||ce.isArray(t)}function nY(t){return ce.endsWith(t,"[]")?t.slice(0,-2):t}function ZL(t,e,n){return t?t.concat(e).map(function(s,i){return s=nY(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function fAe(t){return ce.isArray(t)&&!t.some(oE)}const hAe=ce.toFlatObject(ce,{},null,function(e){return/^is[A-Z]/.test(e)});function e2(t,e,n){if(!ce.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=ce.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,g){return!ce.isUndefined(g[m])});const r=n.metaTokens,s=n.visitor||d,i=n.dots,a=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&ce.isSpecCompliantForm(e);if(!ce.isFunction(s))throw new TypeError("visitor must be a function");function u(y){if(y===null)return"";if(ce.isDate(y))return y.toISOString();if(ce.isBoolean(y))return y.toString();if(!l&&ce.isBlob(y))throw new Dt("Blob is not supported. Use a Buffer instead.");return ce.isArrayBuffer(y)||ce.isTypedArray(y)?l&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function d(y,m,g){let v=y;if(y&&!g&&typeof y=="object"){if(ce.endsWith(m,"{}"))m=r?m:m.slice(0,-2),y=JSON.stringify(y);else if(ce.isArray(y)&&fAe(y)||(ce.isFileList(y)||ce.endsWith(m,"[]"))&&(v=ce.toArray(y)))return m=nY(m),v.forEach(function(w,A){!(ce.isUndefined(w)||w===null)&&e.append(a===!0?ZL([m],A,i):a===null?m:m+"[]",u(w))}),!1}return oE(y)?!0:(e.append(ZL(g,m,i),u(y)),!1)}const p=[],f=Object.assign(hAe,{defaultVisitor:d,convertValue:u,isVisitable:oE});function h(y,m){if(!ce.isUndefined(y)){if(p.indexOf(y)!==-1)throw Error("Circular reference detected in "+m.join("."));p.push(y),ce.forEach(y,function(v,b){(!(ce.isUndefined(v)||v===null)&&s.call(e,v,ce.isString(b)?b.trim():b,m,f))===!0&&h(v,m?m.concat(b):[b])}),p.pop()}}if(!ce.isObject(t))throw new TypeError("data must be an object");return h(t),e}function JL(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function nM(t,e){this._pairs=[],t&&e2(t,this,e)}const rY=nM.prototype;rY.append=function(e,n){this._pairs.push([e,n])};rY.toString=function(e){const n=e?function(r){return e.call(this,r,JL)}:JL;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function mAe(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function sY(t,e,n){if(!e)return t;const r=n&&n.encode||mAe;ce.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(e,n):i=ce.isURLSearchParams(e)?e.toString():new nM(e,n).toString(r),i){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class QL{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ce.forEach(this.handlers,function(r){r!==null&&e(r)})}}const iY={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},yAe=typeof URLSearchParams<"u"?URLSearchParams:nM,gAe=typeof FormData<"u"?FormData:null,vAe=typeof Blob<"u"?Blob:null,bAe={isBrowser:!0,classes:{URLSearchParams:yAe,FormData:gAe,Blob:vAe},protocols:["http","https","file","blob","url","data"]},rM=typeof window<"u"&&typeof document<"u",lE=typeof navigator=="object"&&navigator||void 0,wAe=rM&&(!lE||["ReactNative","NativeScript","NS"].indexOf(lE.product)<0),xAe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",TAe=rM&&window.location.href||"http://localhost",AAe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:rM,hasStandardBrowserEnv:wAe,hasStandardBrowserWebWorkerEnv:xAe,navigator:lE,origin:TAe},Symbol.toStringTag,{value:"Module"})),bs={...AAe,...bAe};function IAe(t,e){return e2(t,new bs.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return bs.isNode&&ce.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function kAe(t){return ce.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function CAe(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function aY(t){function e(n,r,s,i){let a=n[i++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=i>=n.length;return a=!a&&ce.isArray(s)?s.length:a,l?(ce.hasOwnProp(s,a)?s[a]=[s[a],r]:s[a]=r,!o):((!s[a]||!ce.isObject(s[a]))&&(s[a]=[]),e(n,r,s[a],i)&&ce.isArray(s[a])&&(s[a]=CAe(s[a])),!o)}if(ce.isFormData(t)&&ce.isFunction(t.entries)){const n={};return ce.forEachEntry(t,(r,s)=>{e(kAe(r),s,n,0)}),n}return null}function EAe(t,e,n){if(ce.isString(t))try{return(e||JSON.parse)(t),ce.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(t)}const Sv={transitional:iY,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=ce.isObject(e);if(i&&ce.isHTMLForm(e)&&(e=new FormData(e)),ce.isFormData(e))return s?JSON.stringify(aY(e)):e;if(ce.isArrayBuffer(e)||ce.isBuffer(e)||ce.isStream(e)||ce.isFile(e)||ce.isBlob(e)||ce.isReadableStream(e))return e;if(ce.isArrayBufferView(e))return e.buffer;if(ce.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return IAe(e,this.formSerializer).toString();if((o=ce.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return e2(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),EAe(e)):e}],transformResponse:[function(e){const n=this.transitional||Sv.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(ce.isResponse(e)||ce.isReadableStream(e))return e;if(e&&ce.isString(e)&&(r&&!this.responseType||s)){const a=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(o){if(a)throw o.name==="SyntaxError"?Dt.from(o,Dt.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:bs.classes.FormData,Blob:bs.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ce.forEach(["delete","get","head","post","put","patch"],t=>{Sv.headers[t]={}});const NAe=ce.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),SAe=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(a){s=a.indexOf(":"),n=a.substring(0,s).trim().toLowerCase(),r=a.substring(s+1).trim(),!(!n||e[n]&&NAe[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},eO=Symbol("internals");function hy(t){return t&&String(t).trim().toLowerCase()}function Vw(t){return t===!1||t==null?t:ce.isArray(t)?t.map(Vw):String(t)}function RAe(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const MAe=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function zI(t,e,n,r,s){if(ce.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!ce.isString(e)){if(ce.isString(r))return e.indexOf(r)!==-1;if(ce.isRegExp(r))return r.test(e)}}function PAe(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function jAe(t,e){const n=ce.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,a){return this[r].call(this,e,s,i,a)},configurable:!0})})}class yi{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(o,l,u){const d=hy(l);if(!d)throw new Error("header name must be a non-empty string");const p=ce.findKey(s,d);(!p||s[p]===void 0||u===!0||u===void 0&&s[p]!==!1)&&(s[p||l]=Vw(o))}const a=(o,l)=>ce.forEach(o,(u,d)=>i(u,d,l));if(ce.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(ce.isString(e)&&(e=e.trim())&&!MAe(e))a(SAe(e),n);else if(ce.isObject(e)&&ce.isIterable(e)){let o={},l,u;for(const d of e){if(!ce.isArray(d))throw TypeError("Object iterator must return a key-value pair");o[u=d[0]]=(l=o[u])?ce.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}a(o,n)}else e!=null&&i(n,e,r);return this}get(e,n){if(e=hy(e),e){const r=ce.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return RAe(s);if(ce.isFunction(n))return n.call(this,s,r);if(ce.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=hy(e),e){const r=ce.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||zI(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(a){if(a=hy(a),a){const o=ce.findKey(r,a);o&&(!n||zI(r,r[o],o,n))&&(delete r[o],s=!0)}}return ce.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||zI(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return ce.forEach(this,(s,i)=>{const a=ce.findKey(r,i);if(a){n[a]=Vw(s),delete n[i];return}const o=e?PAe(i):String(i).trim();o!==i&&delete n[i],n[o]=Vw(s),r[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return ce.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&ce.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[eO]=this[eO]={accessors:{}}).accessors,s=this.prototype;function i(a){const o=hy(a);r[o]||(jAe(s,a),r[o]=!0)}return ce.isArray(e)?e.forEach(i):i(e),this}}yi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ce.reduceDescriptors(yi.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});ce.freezeMethods(yi);function VI(t,e){const n=this||Sv,r=e||n,s=yi.from(r.headers);let i=r.data;return ce.forEach(t,function(o){i=o.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function oY(t){return!!(t&&t.__CANCEL__)}function Om(t,e,n){Dt.call(this,t??"canceled",Dt.ERR_CANCELED,e,n),this.name="CanceledError"}ce.inherits(Om,Dt,{__CANCEL__:!0});function lY(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Dt("Request failed with status code "+n.status,[Dt.ERR_BAD_REQUEST,Dt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function DAe(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function _Ae(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,a;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),d=r[i];a||(a=u),n[s]=l,r[s]=u;let p=i,f=0;for(;p!==s;)f+=n[p++],p=p%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),u-a<e)return;const h=d&&u-d;return h?Math.round(f*1e3/h):void 0}}function LAe(t,e){let n=0,r=1e3/e,s,i;const a=(u,d=Date.now())=>{n=d,s=null,i&&(clearTimeout(i),i=null),t.apply(null,u)};return[(...u)=>{const d=Date.now(),p=d-n;p>=r?a(u,d):(s=u,i||(i=setTimeout(()=>{i=null,a(s)},r-p)))},()=>s&&a(s)]}const d1=(t,e,n=3)=>{let r=0;const s=_Ae(50,250);return LAe(i=>{const a=i.loaded,o=i.lengthComputable?i.total:void 0,l=a-r,u=s(l),d=a<=o;r=a;const p={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:u||void 0,estimated:u&&o&&d?(o-a)/u:void 0,event:i,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(p)},n)},tO=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},nO=t=>(...e)=>ce.asap(()=>t(...e)),OAe=bs.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,bs.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(bs.origin),bs.navigator&&/(msie|trident)/i.test(bs.navigator.userAgent)):()=>!0,$Ae=bs.hasStandardBrowserEnv?{write(t,e,n,r,s,i){const a=[t+"="+encodeURIComponent(e)];ce.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),ce.isString(r)&&a.push("path="+r),ce.isString(s)&&a.push("domain="+s),i===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function FAe(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function BAe(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function cY(t,e,n){let r=!FAe(e);return t&&(r||n==!1)?BAe(t,e):e}const rO=t=>t instanceof yi?{...t}:t;function Up(t,e){e=e||{};const n={};function r(u,d,p,f){return ce.isPlainObject(u)&&ce.isPlainObject(d)?ce.merge.call({caseless:f},u,d):ce.isPlainObject(d)?ce.merge({},d):ce.isArray(d)?d.slice():d}function s(u,d,p,f){if(ce.isUndefined(d)){if(!ce.isUndefined(u))return r(void 0,u,p,f)}else return r(u,d,p,f)}function i(u,d){if(!ce.isUndefined(d))return r(void 0,d)}function a(u,d){if(ce.isUndefined(d)){if(!ce.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function o(u,d,p){if(p in e)return r(u,d);if(p in t)return r(void 0,u)}const l={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(u,d,p)=>s(rO(u),rO(d),p,!0)};return ce.forEach(Object.keys(Object.assign({},t,e)),function(d){const p=l[d]||s,f=p(t[d],e[d],d);ce.isUndefined(f)&&p!==o||(n[d]=f)}),n}const uY=t=>{const e=Up({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:a,auth:o}=e;e.headers=a=yi.from(a),e.url=sY(cY(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let l;if(ce.isFormData(n)){if(bs.hasStandardBrowserEnv||bs.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((l=a.getContentType())!==!1){const[u,...d]=l?l.split(";").map(p=>p.trim()).filter(Boolean):[];a.setContentType([u||"multipart/form-data",...d].join("; "))}}if(bs.hasStandardBrowserEnv&&(r&&ce.isFunction(r)&&(r=r(e)),r||r!==!1&&OAe(e.url))){const u=s&&i&&$Ae.read(i);u&&a.set(s,u)}return e},UAe=typeof XMLHttpRequest<"u",zAe=UAe&&function(t){return new Promise(function(n,r){const s=uY(t);let i=s.data;const a=yi.from(s.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:u}=s,d,p,f,h,y;function m(){h&&h(),y&&y(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let g=new XMLHttpRequest;g.open(s.method.toUpperCase(),s.url,!0),g.timeout=s.timeout;function v(){if(!g)return;const w=yi.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),I={data:!o||o==="text"||o==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:w,config:t,request:g};lY(function(E){n(E),m()},function(E){r(E),m()},I),g=null}"onloadend"in g?g.onloadend=v:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(v)},g.onabort=function(){g&&(r(new Dt("Request aborted",Dt.ECONNABORTED,t,g)),g=null)},g.onerror=function(){r(new Dt("Network Error",Dt.ERR_NETWORK,t,g)),g=null},g.ontimeout=function(){let A=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const I=s.transitional||iY;s.timeoutErrorMessage&&(A=s.timeoutErrorMessage),r(new Dt(A,I.clarifyTimeoutError?Dt.ETIMEDOUT:Dt.ECONNABORTED,t,g)),g=null},i===void 0&&a.setContentType(null),"setRequestHeader"in g&&ce.forEach(a.toJSON(),function(A,I){g.setRequestHeader(I,A)}),ce.isUndefined(s.withCredentials)||(g.withCredentials=!!s.withCredentials),o&&o!=="json"&&(g.responseType=s.responseType),u&&([f,y]=d1(u,!0),g.addEventListener("progress",f)),l&&g.upload&&([p,h]=d1(l),g.upload.addEventListener("progress",p),g.upload.addEventListener("loadend",h)),(s.cancelToken||s.signal)&&(d=w=>{g&&(r(!w||w.type?new Om(null,t,g):w),g.abort(),g=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const b=DAe(s.url);if(b&&bs.protocols.indexOf(b)===-1){r(new Dt("Unsupported protocol "+b+":",Dt.ERR_BAD_REQUEST,t));return}g.send(i||null)})},VAe=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,s;const i=function(u){if(!s){s=!0,o();const d=u instanceof Error?u:this.reason;r.abort(d instanceof Dt?d:new Om(d instanceof Error?d.message:d))}};let a=e&&setTimeout(()=>{a=null,i(new Dt(`timeout ${e} of ms exceeded`,Dt.ETIMEDOUT))},e);const o=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),t=null)};t.forEach(u=>u.addEventListener("abort",i));const{signal:l}=r;return l.unsubscribe=()=>ce.asap(o),l}},HAe=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},WAe=async function*(t,e){for await(const n of GAe(t))yield*HAe(n,e)},GAe=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},sO=(t,e,n,r)=>{const s=WAe(t,e);let i=0,a,o=l=>{a||(a=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:d}=await s.next();if(u){o(),l.close();return}let p=d.byteLength;if(n){let f=i+=p;n(f)}l.enqueue(new Uint8Array(d))}catch(u){throw o(u),u}},cancel(l){return o(l),s.return()}},{highWaterMark:2})},t2=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",dY=t2&&typeof ReadableStream=="function",KAe=t2&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),pY=(t,...e)=>{try{return!!t(...e)}catch{return!1}},YAe=dY&&pY(()=>{let t=!1;const e=new Request(bs.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),iO=64*1024,cE=dY&&pY(()=>ce.isReadableStream(new Response("").body)),p1={stream:cE&&(t=>t.body)};t2&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!p1[e]&&(p1[e]=ce.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new Dt(`Response type '${e}' is not supported`,Dt.ERR_NOT_SUPPORT,r)})})})(new Response);const qAe=async t=>{if(t==null)return 0;if(ce.isBlob(t))return t.size;if(ce.isSpecCompliantForm(t))return(await new Request(bs.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(ce.isArrayBufferView(t)||ce.isArrayBuffer(t))return t.byteLength;if(ce.isURLSearchParams(t)&&(t=t+""),ce.isString(t))return(await KAe(t)).byteLength},XAe=async(t,e)=>{const n=ce.toFiniteNumber(t.getContentLength());return n??qAe(e)},ZAe=t2&&(async t=>{let{url:e,method:n,data:r,signal:s,cancelToken:i,timeout:a,onDownloadProgress:o,onUploadProgress:l,responseType:u,headers:d,withCredentials:p="same-origin",fetchOptions:f}=uY(t);u=u?(u+"").toLowerCase():"text";let h=VAe([s,i&&i.toAbortSignal()],a),y;const m=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let g;try{if(l&&YAe&&n!=="get"&&n!=="head"&&(g=await XAe(d,r))!==0){let I=new Request(e,{method:"POST",body:r,duplex:"half"}),C;if(ce.isFormData(r)&&(C=I.headers.get("content-type"))&&d.setContentType(C),I.body){const[E,N]=tO(g,d1(nO(l)));r=sO(I.body,iO,E,N)}}ce.isString(p)||(p=p?"include":"omit");const v="credentials"in Request.prototype;y=new Request(e,{...f,signal:h,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:v?p:void 0});let b=await fetch(y,f);const w=cE&&(u==="stream"||u==="response");if(cE&&(o||w&&m)){const I={};["status","statusText","headers"].forEach(_=>{I[_]=b[_]});const C=ce.toFiniteNumber(b.headers.get("content-length")),[E,N]=o&&tO(C,d1(nO(o),!0))||[];b=new Response(sO(b.body,iO,E,()=>{N&&N(),m&&m()}),I)}u=u||"text";let A=await p1[ce.findKey(p1,u)||"text"](b,t);return!w&&m&&m(),await new Promise((I,C)=>{lY(I,C,{data:A,headers:yi.from(b.headers),status:b.status,statusText:b.statusText,config:t,request:y})})}catch(v){throw m&&m(),v&&v.name==="TypeError"&&/Load failed|fetch/i.test(v.message)?Object.assign(new Dt("Network Error",Dt.ERR_NETWORK,t,y),{cause:v.cause||v}):Dt.from(v,v&&v.code,t,y)}}),uE={http:pAe,xhr:zAe,fetch:ZAe};ce.forEach(uE,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const aO=t=>`- ${t}`,JAe=t=>ce.isFunction(t)||t===null||t===!1,fY={getAdapter:t=>{t=ce.isArray(t)?t:[t];const{length:e}=t;let n,r;const s={};for(let i=0;i<e;i++){n=t[i];let a;if(r=n,!JAe(n)&&(r=uE[(a=String(n)).toLowerCase()],r===void 0))throw new Dt(`Unknown adapter '${a}'`);if(r)break;s[a||"#"+i]=r}if(!r){const i=Object.entries(s).map(([o,l])=>`adapter ${o} `+(l===!1?"is not supported by the environment":"is not available in the build"));let a=e?i.length>1?`since :
`+i.map(aO).join(`
`):" "+aO(i[0]):"as no adapter specified";throw new Dt("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},adapters:uE};function HI(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Om(null,t)}function oO(t){return HI(t),t.headers=yi.from(t.headers),t.data=VI.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),fY.getAdapter(t.adapter||Sv.adapter)(t).then(function(r){return HI(t),r.data=VI.call(t,t.transformResponse,r),r.headers=yi.from(r.headers),r},function(r){return oY(r)||(HI(t),r&&r.response&&(r.response.data=VI.call(t,t.transformResponse,r.response),r.response.headers=yi.from(r.response.headers))),Promise.reject(r)})}const hY="1.10.0",n2={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{n2[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const lO={};n2.transitional=function(e,n,r){function s(i,a){return"[Axios v"+hY+"] Transitional option '"+i+"'"+a+(r?". "+r:"")}return(i,a,o)=>{if(e===!1)throw new Dt(s(a," has been removed"+(n?" in "+n:"")),Dt.ERR_DEPRECATED);return n&&!lO[a]&&(lO[a]=!0,console.warn(s(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,a,o):!0}};n2.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function QAe(t,e,n){if(typeof t!="object")throw new Dt("options must be an object",Dt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],a=e[i];if(a){const o=t[i],l=o===void 0||a(o,i,t);if(l!==!0)throw new Dt("option "+i+" must be "+l,Dt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Dt("Unknown option "+i,Dt.ERR_BAD_OPTION)}}const Hw={assertOptions:QAe,validators:n2},wo=Hw.validators;class Tp{constructor(e){this.defaults=e||{},this.interceptors={request:new QL,response:new QL}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Up(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&Hw.assertOptions(r,{silentJSONParsing:wo.transitional(wo.boolean),forcedJSONParsing:wo.transitional(wo.boolean),clarifyTimeoutError:wo.transitional(wo.boolean)},!1),s!=null&&(ce.isFunction(s)?n.paramsSerializer={serialize:s}:Hw.assertOptions(s,{encode:wo.function,serialize:wo.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Hw.assertOptions(n,{baseUrl:wo.spelling("baseURL"),withXsrfToken:wo.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=i&&ce.merge(i.common,i[n.method]);i&&ce.forEach(["delete","get","head","post","put","patch","common"],y=>{delete i[y]}),n.headers=yi.concat(a,i);const o=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(l=l&&m.synchronous,o.unshift(m.fulfilled,m.rejected))});const u=[];this.interceptors.response.forEach(function(m){u.push(m.fulfilled,m.rejected)});let d,p=0,f;if(!l){const y=[oO.bind(this),void 0];for(y.unshift.apply(y,o),y.push.apply(y,u),f=y.length,d=Promise.resolve(n);p<f;)d=d.then(y[p++],y[p++]);return d}f=o.length;let h=n;for(p=0;p<f;){const y=o[p++],m=o[p++];try{h=y(h)}catch(g){m.call(this,g);break}}try{d=oO.call(this,h)}catch(y){return Promise.reject(y)}for(p=0,f=u.length;p<f;)d=d.then(u[p++],u[p++]);return d}getUri(e){e=Up(this.defaults,e);const n=cY(e.baseURL,e.url,e.allowAbsoluteUrls);return sY(n,e.params,e.paramsSerializer)}}ce.forEach(["delete","get","head","options"],function(e){Tp.prototype[e]=function(n,r){return this.request(Up(r||{},{method:e,url:n,data:(r||{}).data}))}});ce.forEach(["post","put","patch"],function(e){function n(r){return function(i,a,o){return this.request(Up(o||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}Tp.prototype[e]=n(),Tp.prototype[e+"Form"]=n(!0)});class sM{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const a=new Promise(o=>{r.subscribe(o),i=o}).then(s);return a.cancel=function(){r.unsubscribe(i)},a},e(function(i,a,o){r.reason||(r.reason=new Om(i,a,o),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new sM(function(s){e=s}),cancel:e}}}function eIe(t){return function(n){return t.apply(null,n)}}function tIe(t){return ce.isObject(t)&&t.isAxiosError===!0}const dE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(dE).forEach(([t,e])=>{dE[e]=t});function mY(t){const e=new Tp(t),n=GK(Tp.prototype.request,e);return ce.extend(n,Tp.prototype,e,{allOwnKeys:!0}),ce.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return mY(Up(t,s))},n}const bn=mY(Sv);bn.Axios=Tp;bn.CanceledError=Om;bn.CancelToken=sM;bn.isCancel=oY;bn.VERSION=hY;bn.toFormData=e2;bn.AxiosError=Dt;bn.Cancel=bn.CanceledError;bn.all=function(e){return Promise.all(e)};bn.spread=eIe;bn.isAxiosError=tIe;bn.mergeConfig=Up;bn.AxiosHeaders=yi;bn.formToJSON=t=>aY(ce.isHTMLForm(t)?new FormData(t):t);bn.getAdapter=fY.getAdapter;bn.HttpStatusCode=dE;bn.default=bn;const nIe="http://localhost:3001/api",rIe={async getLicensedIps(t,e,n){var r,s;try{const i=new URLSearchParams;t!==void 0&&i.append("commercialUse",String(t)),e!==void 0&&i.append("maxRoyalty",String(e)),n&&i.append("licenseType",n);const a=await bn.get(`${nIe}/marketplace/licensed`,{params:i});console.log(" Backend response:",a.data);const o=((s=(r=a.data)==null?void 0:r.data)==null?void 0:s.ips)||[];return console.log(` Extracted ${o.length} licensed IPs from backend`),o}catch(i){return console.error("Error fetching licensed IPs:",i),[]}}};var bd={exports:{}};const sIe="dotenv",iIe="16.6.1",aIe="Loads environment variables from .env file",oIe="lib/main.js",lIe="lib/main.d.ts",cIe={".":{types:"./lib/main.d.ts",require:"./lib/main.js",default:"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},uIe={"dts-check":"tsc --project tests/types/tsconfig.json",lint:"standard",pretest:"npm run lint && npm run dts-check",test:"tap run --allow-empty-coverage --disable-coverage --timeout=60000","test:coverage":"tap run --show-full-coverage --timeout=60000 --coverage-report=text --coverage-report=lcov",prerelease:"npm test",release:"standard-version"},dIe={type:"git",url:"git://github.com/motdotla/dotenv.git"},pIe="https://github.com/motdotla/dotenv#readme",fIe="https://dotenvx.com",hIe=["dotenv","env",".env","environment","variables","config","settings"],mIe="README.md",yIe="BSD-2-Clause",gIe={"@types/node":"^18.11.3",decache:"^4.6.2",sinon:"^14.0.1",standard:"^17.0.0","standard-version":"^9.5.0",tap:"^19.2.0",typescript:"^4.8.4"},vIe={node:">=12"},bIe={fs:!1},wIe={name:sIe,version:iIe,description:aIe,main:oIe,types:lIe,exports:cIe,scripts:uIe,repository:dIe,homepage:pIe,funding:fIe,keywords:hIe,readmeFilename:mIe,license:yIe,devDependencies:gIe,engines:vIe,browser:bIe};var fg={};const pE=Tv,f1=Tv,xIe=Tv,TIe=Tv,AIe=wIe,iM=AIe.version,IIe=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/mg;function kIe(t){const e={};let n=t.toString();n=n.replace(/\r\n?/mg,`
`);let r;for(;(r=IIe.exec(n))!=null;){const s=r[1];let i=r[2]||"";i=i.trim();const a=i[0];i=i.replace(/^(['"`])([\s\S]*)\1$/mg,"$2"),a==='"'&&(i=i.replace(/\\n/g,`
`),i=i.replace(/\\r/g,"\r")),e[s]=i}return e}function CIe(t){t=t||{};const e=vY(t);t.path=e;const n=Rr.configDotenv(t);if(!n.parsed){const a=new Error(`MISSING_DATA: Cannot parse ${e} for an unknown reason`);throw a.code="MISSING_DATA",a}const r=gY(t).split(","),s=r.length;let i;for(let a=0;a<s;a++)try{const o=r[a].trim(),l=NIe(n,o);i=Rr.decrypt(l.ciphertext,l.key);break}catch(o){if(a+1>=s)throw o}return Rr.parse(i)}function EIe(t){console.log(`[dotenv@${iM}][WARN] ${t}`)}function hg(t){console.log(`[dotenv@${iM}][DEBUG] ${t}`)}function yY(t){console.log(`[dotenv@${iM}] ${t}`)}function gY(t){return t&&t.DOTENV_KEY&&t.DOTENV_KEY.length>0?t.DOTENV_KEY:fg.DOTENV_KEY&&fg.DOTENV_KEY.length>0?fg.DOTENV_KEY:""}function NIe(t,e){let n;try{n=new URL(e)}catch(o){if(o.code==="ERR_INVALID_URL"){const l=new Error("INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenvx.com/vault/.env.vault?environment=development");throw l.code="INVALID_DOTENV_KEY",l}throw o}const r=n.password;if(!r){const o=new Error("INVALID_DOTENV_KEY: Missing key part");throw o.code="INVALID_DOTENV_KEY",o}const s=n.searchParams.get("environment");if(!s){const o=new Error("INVALID_DOTENV_KEY: Missing environment part");throw o.code="INVALID_DOTENV_KEY",o}const i=`DOTENV_VAULT_${s.toUpperCase()}`,a=t.parsed[i];if(!a){const o=new Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${i} in your .env.vault file.`);throw o.code="NOT_FOUND_DOTENV_ENVIRONMENT",o}return{ciphertext:a,key:r}}function vY(t){let e=null;if(t&&t.path&&t.path.length>0)if(Array.isArray(t.path))for(const n of t.path)pE.existsSync(n)&&(e=n.endsWith(".vault")?n:`${n}.vault`);else e=t.path.endsWith(".vault")?t.path:`${t.path}.vault`;else e=f1.resolve(process.cwd(),".env.vault");return pE.existsSync(e)?e:null}function cO(t){return t[0]==="~"?f1.join(xIe.homedir(),t.slice(1)):t}function SIe(t){const e=!!(t&&t.debug),n=t&&"quiet"in t?t.quiet:!0;(e||!n)&&yY("Loading env from encrypted .env.vault");const r=Rr._parseVault(t);let s=fg;return t&&t.processEnv!=null&&(s=t.processEnv),Rr.populate(s,r,t),{parsed:r}}function RIe(t){const e=f1.resolve(process.cwd(),".env");let n="utf8";const r=!!(t&&t.debug),s=t&&"quiet"in t?t.quiet:!0;t&&t.encoding?n=t.encoding:r&&hg("No encoding is specified. UTF-8 is used by default");let i=[e];if(t&&t.path)if(!Array.isArray(t.path))i=[cO(t.path)];else{i=[];for(const u of t.path)i.push(cO(u))}let a;const o={};for(const u of i)try{const d=Rr.parse(pE.readFileSync(u,{encoding:n}));Rr.populate(o,d,t)}catch(d){r&&hg(`Failed to load ${u} ${d.message}`),a=d}let l=fg;if(t&&t.processEnv!=null&&(l=t.processEnv),Rr.populate(l,o,t),r||!s){const u=Object.keys(o).length,d=[];for(const p of i)try{const f=f1.relative(process.cwd(),p);d.push(f)}catch(f){r&&hg(`Failed to load ${p} ${f.message}`),a=f}yY(`injecting env (${u}) from ${d.join(",")}`)}return a?{parsed:o,error:a}:{parsed:o}}function MIe(t){if(gY(t).length===0)return Rr.configDotenv(t);const e=vY(t);return e?Rr._configVault(t):(EIe(`You set DOTENV_KEY but you are missing a .env.vault file at ${e}. Did you forget to build it?`),Rr.configDotenv(t))}function PIe(t,e){const n=Buffer.from(e.slice(-64),"hex");let r=Buffer.from(t,"base64");const s=r.subarray(0,12),i=r.subarray(-16);r=r.subarray(12,-16);try{const a=TIe.createDecipheriv("aes-256-gcm",n,s);return a.setAuthTag(i),`${a.update(r)}${a.final()}`}catch(a){const o=a instanceof RangeError,l=a.message==="Invalid key length",u=a.message==="Unsupported state or unable to authenticate data";if(o||l){const d=new Error("INVALID_DOTENV_KEY: It must be 64 characters long (or more)");throw d.code="INVALID_DOTENV_KEY",d}else if(u){const d=new Error("DECRYPTION_FAILED: Please check your DOTENV_KEY");throw d.code="DECRYPTION_FAILED",d}else throw a}}function jIe(t,e,n={}){const r=!!(n&&n.debug),s=!!(n&&n.override);if(typeof e!="object"){const i=new Error("OBJECT_REQUIRED: Please check the processEnv argument being passed to populate");throw i.code="OBJECT_REQUIRED",i}for(const i of Object.keys(e))Object.prototype.hasOwnProperty.call(t,i)?(s===!0&&(t[i]=e[i]),r&&hg(s===!0?`"${i}" is already defined and WAS overwritten`:`"${i}" is already defined and was NOT overwritten`)):t[i]=e[i]}const Rr={configDotenv:RIe,_configVault:SIe,_parseVault:CIe,config:MIe,decrypt:PIe,parse:kIe,populate:jIe};bd.exports.configDotenv=Rr.configDotenv;bd.exports._configVault=Rr._configVault;bd.exports._parseVault=Rr._parseVault;var DIe=bd.exports.config=Rr.config;bd.exports.decrypt=Rr.decrypt;bd.exports.parse=Rr.parse;bd.exports.populate=Rr.populate;bd.exports=Rr;const _Ie="1.1.0";let Aa=class fE extends Error{constructor(e,n={}){var a;const r=n.cause instanceof fE?n.cause.details:(a=n.cause)!=null&&a.message?n.cause.message:n.details,s=n.cause instanceof fE&&n.cause.docsPath||n.docsPath,i=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${_Ie}`].join(`
`);super(i),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=e}};function Dc(t,e){const n=t.exec(e);return n==null?void 0:n.groups}const bY=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,wY=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,xY=/^\(.+?\).*?$/,uO=/^tuple(?<array>(\[(\d*)\])*)$/;function hE(t){let e=t.type;if(uO.test(t.type)&&"components"in t){e="(";const n=t.components.length;for(let s=0;s<n;s++){const i=t.components[s];e+=hE(i),s<n-1&&(e+=", ")}const r=Dc(uO,t.type);return e+=`)${(r==null?void 0:r.array)??""}`,hE({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function my(t){let e="";const n=t.length;for(let r=0;r<n;r++){const s=t[r];e+=hE(s),r!==n-1&&(e+=", ")}return e}function LIe(t){var e;return t.type==="function"?`function ${t.name}(${my(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${(e=t.outputs)!=null&&e.length?` returns (${my(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${my(t.inputs)})`:t.type==="error"?`error ${t.name}(${my(t.inputs)})`:t.type==="constructor"?`constructor(${my(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const TY=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function OIe(t){return TY.test(t)}function $Ie(t){return Dc(TY,t)}const AY=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function FIe(t){return AY.test(t)}function BIe(t){return Dc(AY,t)}const IY=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function UIe(t){return IY.test(t)}function zIe(t){return Dc(IY,t)}const kY=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function CY(t){return kY.test(t)}function VIe(t){return Dc(kY,t)}const EY=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function HIe(t){return EY.test(t)}function WIe(t){return Dc(EY,t)}const NY=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function GIe(t){return NY.test(t)}function KIe(t){return Dc(NY,t)}const YIe=/^receive\(\) external payable$/;function qIe(t){return YIe.test(t)}const XIe=new Set(["indexed"]),mE=new Set(["calldata","memory","storage"]);let ZIe=class extends Aa{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}},JIe=class extends Aa{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}},QIe=class extends Aa{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}},eke=class extends Aa{constructor({param:e,name:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}},tke=class extends Aa{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}},nke=class extends Aa{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}},rke=class extends Aa{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}},$m=class extends Aa{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}},ske=class extends Aa{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}},ike=class extends Aa{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}},ake=class extends Aa{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}},oke=class extends Aa{constructor({current:e,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}};function lke(t,e,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let i="";for(const a of s[1])i+=`[${a.type}${a.name?`:${a.name}`:""}]`;r+=`(${s[0]}{${i}})`}return e?`${e}:${t}${r}`:t}const WI=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function cke(t,e={}){if(UIe(t))return uke(t,e);if(FIe(t))return dke(t,e);if(OIe(t))return pke(t,e);if(HIe(t))return fke(t,e);if(GIe(t))return hke(t);if(qIe(t))return{type:"receive",stateMutability:"payable"};throw new ske({signature:t})}function uke(t,e={}){const n=zIe(t);if(!n)throw new $m({signature:t,type:"function"});const r=Ha(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(zp(r[o],{modifiers:mE,structs:e,type:"function"}));const a=[];if(n.returns){const o=Ha(n.returns),l=o.length;for(let u=0;u<l;u++)a.push(zp(o[u],{modifiers:mE,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:a}}function dke(t,e={}){const n=BIe(t);if(!n)throw new $m({signature:t,type:"event"});const r=Ha(n.parameters),s=[],i=r.length;for(let a=0;a<i;a++)s.push(zp(r[a],{modifiers:XIe,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:s}}function pke(t,e={}){const n=$Ie(t);if(!n)throw new $m({signature:t,type:"error"});const r=Ha(n.parameters),s=[],i=r.length;for(let a=0;a<i;a++)s.push(zp(r[a],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:s}}function fke(t,e={}){const n=WIe(t);if(!n)throw new $m({signature:t,type:"constructor"});const r=Ha(n.parameters),s=[],i=r.length;for(let a=0;a<i;a++)s.push(zp(r[a],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function hke(t){const e=KIe(t);if(!e)throw new $m({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const mke=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,yke=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,gke=/^u?int$/;function zp(t,e){var p,f;const n=lke(t,e==null?void 0:e.type,e==null?void 0:e.structs);if(WI.has(n))return WI.get(n);const r=xY.test(t),s=Dc(r?yke:mke,t);if(!s)throw new QIe({param:t});if(s.name&&bke(s.name))throw new eke({param:t,name:s.name});const i=s.name?{name:s.name}:{},a=s.modifier==="indexed"?{indexed:!0}:{},o=(e==null?void 0:e.structs)??{};let l,u={};if(r){l="tuple";const h=Ha(s.type),y=[],m=h.length;for(let g=0;g<m;g++)y.push(zp(h[g],{structs:o}));u={components:y}}else if(s.type in o)l="tuple",u={components:o[s.type]};else if(gke.test(s.type))l=`${s.type}256`;else if(s.type==="address payable")l="address";else if(l=s.type,(e==null?void 0:e.type)!=="struct"&&!SY(l))throw new JIe({type:l});if(s.modifier){if(!((f=(p=e==null?void 0:e.modifiers)==null?void 0:p.has)!=null&&f.call(p,s.modifier)))throw new tke({param:t,type:e==null?void 0:e.type,modifier:s.modifier});if(mE.has(s.modifier)&&!wke(l,!!s.array))throw new nke({param:t,type:e==null?void 0:e.type,modifier:s.modifier})}const d={type:`${l}${s.array??""}`,...i,...a,...u};return WI.set(n,d),d}function Ha(t,e=[],n="",r=0){const s=t.trim().length;for(let i=0;i<s;i++){const a=t[i],o=t.slice(i+1);switch(a){case",":return r===0?Ha(o,[...e,n.trim()]):Ha(o,e,`${n}${a}`,r);case"(":return Ha(o,e,`${n}${a}`,r+1);case")":return Ha(o,e,`${n}${a}`,r-1);default:return Ha(o,e,`${n}${a}`,r)}}if(n==="")return e;if(r!==0)throw new oke({current:n,depth:r});return e.push(n.trim()),e}function SY(t){return t==="address"||t==="bool"||t==="function"||t==="string"||bY.test(t)||wY.test(t)}const vke=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function bke(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||bY.test(t)||wY.test(t)||vke.test(t)}function wke(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function xke(t){const e={},n=t.length;for(let a=0;a<n;a++){const o=t[a];if(!CY(o))continue;const l=VIe(o);if(!l)throw new $m({signature:o,type:"struct"});const u=l.properties.split(";"),d=[],p=u.length;for(let f=0;f<p;f++){const y=u[f].trim();if(!y)continue;const m=zp(y,{type:"struct"});d.push(m)}if(!d.length)throw new ike({signature:o});e[l.name]=d}const r={},s=Object.entries(e),i=s.length;for(let a=0;a<i;a++){const[o,l]=s[a];r[o]=RY(l,e)}return r}const Tke=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function RY(t,e,n=new Set){const r=[],s=t.length;for(let i=0;i<s;i++){const a=t[i];if(xY.test(a.type))r.push(a);else{const l=Dc(Tke,a.type);if(!(l!=null&&l.type))throw new rke({abiParameter:a});const{array:u,type:d}=l;if(d in e){if(n.has(d))throw new ake({type:d});r.push({...a,type:`tuple${u??""}`,components:RY(e[d]??[],e,new Set([...n,d]))})}else if(SY(d))r.push(a);else throw new ZIe({type:d})}}return r}function MY(t){const e=xke(t),n=[],r=t.length;for(let s=0;s<r;s++){const i=t[s];CY(i)||n.push(cke(i,e))}return n}function Xe(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const s=t[n];return typeof s=="function"?s:i=>e(t,i)}function lo(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new _ke(t.type);return`${t.name}(${r2(t.inputs,{includeName:e})})`}function r2(t,{includeName:e=!1}={}){return t?t.map(n=>Ake(n,{includeName:e})).join(e?", ":","):""}function Ake(t,{includeName:e}){return t.type.startsWith("tuple")?`(${r2(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}function fl(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function Qn(t){return fl(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const PY="2.41.2";let yy={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${PY}`},Ce=class yE extends Error{constructor(e,n={}){var o;const r=(()=>{var l;return n.cause instanceof yE?n.cause.details:(l=n.cause)!=null&&l.message?n.cause.message:n.details})(),s=n.cause instanceof yE&&n.cause.docsPath||n.docsPath,i=(o=yy.getDocsUrl)==null?void 0:o.call(yy,{...n,docsPath:s}),a=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...yy.version?[`Version: ${yy.version}`]:[]].join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=PY}walk(e){return jY(this,e)}};function jY(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?jY(t.cause,e):e?null:t}class Ike extends Ce{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class dO extends Ce{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class DY extends Ce{constructor({data:e,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${r2(n,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=r}}class Rv extends Ce{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class kke extends Ce{constructor({expectedLength:e,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class Cke extends Ce{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${Qn(n)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class Eke extends Ce{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class Nke extends Ce{constructor(e,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class pO extends Ce{constructor(e,{docsPath:n}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class _Y extends Ce{constructor(e,{docsPath:n}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class Ske extends Ce{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class LY extends Ce{constructor(e,{docsPath:n}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class fO extends Ce{constructor(e,{docsPath:n}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class tm extends Ce{constructor(e,{docsPath:n}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class OY extends Ce{constructor(e,{docsPath:n}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class Rke extends Ce{constructor(e,{docsPath:n}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class Mke extends Ce{constructor(e,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${lo(e.abiItem)}\`, and`,`\`${n.type}\` in \`${lo(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let Pke=class extends Ce{constructor({expectedSize:e,givenSize:n}){super(`Expected bytes${e}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class m0 extends Ce{constructor({abiItem:e,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${r2(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=n,this.params=r,this.size=s}}class s2 extends Ce{constructor({abiItem:e,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${lo(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class jke extends Ce{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class Dke extends Ce{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let $Y=class extends Ce{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class _ke extends Ce{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class Lke extends Ce{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}let FY=class extends Ce{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},BY=class extends Ce{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class hO extends Ce{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}function Fm(t,{dir:e,size:n=32}={}){return typeof t=="string"?$u(t,{dir:e,size:n}):Oke(t,{dir:e,size:n})}function $u(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new BY({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function Oke(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new BY({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const i=e==="right";r[i?s:n-s-1]=t[i?s:t.length-s-1]}return r}let UY=class extends Ce{constructor({max:e,min:n,signed:r,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},$ke=class extends Ce{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};class Fke extends Ce{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let Bke=class extends Ce{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function Fu(t,{dir:e="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,r=0;for(let s=0;s<n.length-1&&n[e==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=e==="left"?n.slice(r):n.slice(0,n.length-r),typeof t=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function go(t,{size:e}){if(Qn(t)>e)throw new Bke({givenSize:Qn(t),maxSize:e})}function Ui(t,e={}){const{signed:n}=e;e.size&&go(t,{size:e.size});const r=BigInt(t);if(!n)return r;const s=(t.length-2)/2,i=(1n<<BigInt(s)*8n-1n)-1n;return r<=i?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function Uke(t,e={}){let n=t;if(e.size&&(go(n,{size:e.size}),n=Fu(n)),Fu(n)==="0x00")return!1;if(Fu(n)==="0x01")return!0;throw new Fke(n)}function co(t,e={}){return Number(Ui(t,e))}const zke=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function va(t,e={}){return typeof t=="number"||typeof t=="bigint"?nt(t,e):typeof t=="string"?Vp(t,e):typeof t=="boolean"?zY(t,e):jr(t,e)}function zY(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(go(n,{size:e.size}),Fm(n,{size:e.size})):n}function jr(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=zke[t[s]];const r=`0x${n}`;return typeof e.size=="number"?(go(r,{size:e.size}),Fm(r,{dir:"right",size:e.size})):r}function nt(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const a=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<a){const l=typeof t=="bigint"?"n":"";throw new UY({max:i?`${i}${l}`:void 0,min:`${a}${l}`,signed:n,size:r,value:`${t}${l}`})}const o=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Fm(o,{size:r}):o}const Vke=new TextEncoder;function Vp(t,e={}){const n=Vke.encode(t);return jr(n,e)}const Hke=new TextEncoder;function Bm(t,e={}){return typeof t=="number"||typeof t=="bigint"?Gke(t,e):typeof t=="boolean"?Wke(t,e):fl(t)?hl(t,e):Ap(t,e)}function Wke(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(go(n,{size:e.size}),Fm(n,{size:e.size})):n}const bl={zero:48,nine:57,A:65,F:70,a:97,f:102};function mO(t){if(t>=bl.zero&&t<=bl.nine)return t-bl.zero;if(t>=bl.A&&t<=bl.F)return t-(bl.A-10);if(t>=bl.a&&t<=bl.f)return t-(bl.a-10)}function hl(t,e={}){let n=t;e.size&&(go(n,{size:e.size}),n=Fm(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,i=new Uint8Array(s);for(let a=0,o=0;a<s;a++){const l=mO(r.charCodeAt(o++)),u=mO(r.charCodeAt(o++));if(l===void 0||u===void 0)throw new Ce(`Invalid byte sequence ("${r[o-2]}${r[o-1]}" in "${r}").`);i[a]=l*16+u}return i}function Gke(t,e){const n=nt(t,e);return hl(n)}function Ap(t,e={}){const n=Hke.encode(t);return typeof e.size=="number"?(go(n,{size:e.size}),Fm(n,{dir:"right",size:e.size})):n}const Pb=BigInt(2**32-1),yO=BigInt(32);function Kke(t,e=!1){return e?{h:Number(t&Pb),l:Number(t>>yO&Pb)}:{h:Number(t>>yO&Pb)|0,l:Number(t&Pb)|0}}function Yke(t,e=!1){const n=t.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:a,l:o}=Kke(t[i],e);[r[i],s[i]]=[a,o]}return[r,s]}const qke=(t,e,n)=>t<<n|e>>>32-n,Xke=(t,e,n)=>e<<n|t>>>32-n,Zke=(t,e,n)=>e<<n-32|t>>>64-n,Jke=(t,e,n)=>t<<n-32|e>>>64-n,bf=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Qke(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function y0(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Hp(t,...e){if(!Qke(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function eCe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");y0(t.outputLen),y0(t.blockLen)}function nm(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function VY(t,e){Hp(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function tCe(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function rm(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function GI(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function xo(t,e){return t<<32-e|t>>>e}const nCe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function rCe(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function sCe(t){for(let e=0;e<t.length;e++)t[e]=rCe(t[e]);return t}const gO=nCe?t=>t:sCe;function iCe(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function i2(t){return typeof t=="string"&&(t=iCe(t)),Hp(t),t}function aCe(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];Hp(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}class aM{}function HY(t){const e=r=>t().update(i2(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function oCe(t=32){if(bf&&typeof bf.getRandomValues=="function")return bf.getRandomValues(new Uint8Array(t));if(bf&&typeof bf.randomBytes=="function")return Uint8Array.from(bf.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const lCe=BigInt(0),gy=BigInt(1),cCe=BigInt(2),uCe=BigInt(7),dCe=BigInt(256),pCe=BigInt(113),WY=[],GY=[],KY=[];for(let t=0,e=gy,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],WY.push(2*(5*r+n)),GY.push((t+1)*(t+2)/2%64);let s=lCe;for(let i=0;i<7;i++)e=(e<<gy^(e>>uCe)*pCe)%dCe,e&cCe&&(s^=gy<<(gy<<BigInt(i))-gy);KY.push(s)}const YY=Yke(KY,!0),fCe=YY[0],hCe=YY[1],vO=(t,e,n)=>n>32?Zke(t,e,n):qke(t,e,n),bO=(t,e,n)=>n>32?Jke(t,e,n):Xke(t,e,n);function mCe(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let a=0;a<10;a++)n[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){const o=(a+8)%10,l=(a+2)%10,u=n[l],d=n[l+1],p=vO(u,d,1)^n[o],f=bO(u,d,1)^n[o+1];for(let h=0;h<50;h+=10)t[a+h]^=p,t[a+h+1]^=f}let s=t[2],i=t[3];for(let a=0;a<24;a++){const o=GY[a],l=vO(s,i,o),u=bO(s,i,o),d=WY[a];s=t[d],i=t[d+1],t[d]=l,t[d+1]=u}for(let a=0;a<50;a+=10){for(let o=0;o<10;o++)n[o]=t[a+o];for(let o=0;o<10;o++)t[a+o]^=~n[(o+2)%10]&n[(o+4)%10]}t[0]^=fCe[r],t[1]^=hCe[r]}rm(n)}class oM extends aM{constructor(e,n,r,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,y0(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=tCe(this.state)}clone(){return this._cloneInto()}keccak(){gO(this.state32),mCe(this.state32,this.rounds),gO(this.state32),this.posOut=0,this.pos=0}update(e){nm(this),e=i2(e),Hp(e);const{blockLen:n,state:r}=this,s=e.length;for(let i=0;i<s;){const a=Math.min(n-this.pos,s-i);for(let o=0;o<a;o++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,n&128&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){nm(this,!1),Hp(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const a=Math.min(r-this.posOut,i-s);e.set(n.subarray(this.posOut,this.posOut+a),s),this.posOut+=a,s+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return y0(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(VY(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,rm(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:a}=this;return e||(e=new oM(n,r,s,a,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=a,e.destroyed=this.destroyed,e}}const yCe=(t,e,n)=>HY(()=>new oM(e,t,n)),qY=yCe(1,136,256/8);function zr(t,e){const n=e||"hex",r=qY(fl(t,{strict:!1})?Bm(t):t);return n==="bytes"?r:va(r)}const gCe=t=>zr(Bm(t));function vCe(t){return gCe(t)}function bCe(t){let e=!0,n="",r=0,s="",i=!1;for(let a=0;a<t.length;a++){const o=t[a];if(["(",")",","].includes(o)&&(e=!0),o==="("&&r++,o===")"&&r--,!!e){if(r===0){if(o===" "&&["event","function",""].includes(s))s="";else if(s+=o,o===")"){i=!0;break}continue}if(o===" "){t[a-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}s+=o,n+=o}}if(!i)throw new Ce("Unable to normalize signature.");return s}const wCe=t=>{const e=typeof t=="string"?t:LIe(t);return bCe(e)};function XY(t){return vCe(wCe(t))}const a2=XY;let ad=class extends Ce{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},Um=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const KI=new Um(8192);function Mv(t,e){if(KI.has(`${t}.${e}`))return KI.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=zr(Ap(n),"bytes"),s=n.split("");for(let a=0;a<40;a+=2)r[a>>1]>>4>=8&&s[a]&&(s[a]=s[a].toUpperCase()),(r[a>>1]&15)>=8&&s[a+1]&&(s[a+1]=s[a+1].toUpperCase());const i=`0x${s.join("")}`;return KI.set(`${t}.${e}`,i),i}function Qd(t,e){if(!bi(t,{strict:!1}))throw new ad({address:t});return Mv(t,e)}const xCe=/^0x[a-fA-F0-9]{40}$/,YI=new Um(8192);function bi(t,e){const{strict:n=!0}=e??{},r=`${t}.${n}`;if(YI.has(r))return YI.get(r);const s=xCe.test(t)?t.toLowerCase()===t?!0:n?Mv(t)===t:!0:!1;return YI.set(r,s),s}function ba(t){return typeof t[0]=="string"?zm(t):TCe(t)}function TCe(t){let e=0;for(const s of t)e+=s.length;const n=new Uint8Array(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return n}function zm(t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function sm(t,e,n,{strict:r}={}){return fl(t,{strict:!1})?gE(t,e,n,{strict:r}):QY(t,e,n,{strict:r})}function ZY(t,e){if(typeof e=="number"&&e>0&&e>Qn(t)-1)throw new FY({offset:e,position:"start",size:Qn(t)})}function JY(t,e,n){if(typeof e=="number"&&typeof n=="number"&&Qn(t)!==n-e)throw new FY({offset:n,position:"end",size:Qn(t)})}function QY(t,e,n,{strict:r}={}){ZY(t,e);const s=t.slice(e,n);return r&&JY(s,e,n),s}function gE(t,e,n,{strict:r}={}){ZY(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return r&&JY(s,e,n),s}const ACe=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,eq=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function _c(t,e){if(t.length!==e.length)throw new Eke({expectedLength:t.length,givenLength:e.length});const n=ICe({params:t,values:e}),r=cM(n);return r.length===0?"0x":r}function ICe({params:t,values:e}){const n=[];for(let r=0;r<t.length;r++)n.push(lM({param:t[r],value:e[r]}));return n}function lM({param:t,value:e}){const n=uM(t.type);if(n){const[r,s]=n;return CCe(e,{length:r,param:{...t,type:s}})}if(t.type==="tuple")return MCe(e,{param:t});if(t.type==="address")return kCe(e);if(t.type==="bool")return NCe(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const r=t.type.startsWith("int"),[,,s="256"]=eq.exec(t.type)??[];return SCe(e,{signed:r,size:Number(s)})}if(t.type.startsWith("bytes"))return ECe(e,{param:t});if(t.type==="string")return RCe(e);throw new jke(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function cM(t){let e=0;for(let i=0;i<t.length;i++){const{dynamic:a,encoded:o}=t[i];a?e+=32:e+=Qn(o)}const n=[],r=[];let s=0;for(let i=0;i<t.length;i++){const{dynamic:a,encoded:o}=t[i];a?(n.push(nt(e+s,{size:32})),r.push(o),s+=Qn(o)):n.push(o)}return ba([...n,...r])}function kCe(t){if(!bi(t))throw new ad({address:t});return{dynamic:!1,encoded:$u(t.toLowerCase())}}function CCe(t,{length:e,param:n}){const r=e===null;if(!Array.isArray(t))throw new $Y(t);if(!r&&t.length!==e)throw new kke({expectedLength:e,givenLength:t.length,type:`${n.type}[${e}]`});let s=!1;const i=[];for(let a=0;a<t.length;a++){const o=lM({param:n,value:t[a]});o.dynamic&&(s=!0),i.push(o)}if(r||s){const a=cM(i);if(r){const o=nt(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?ba([o,a]):o}}if(s)return{dynamic:!0,encoded:a}}return{dynamic:!1,encoded:ba(i.map(({encoded:a})=>a))}}function ECe(t,{param:e}){const[,n]=e.type.split("bytes"),r=Qn(t);if(!n){let s=t;return r%32!==0&&(s=$u(s,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:ba([$u(nt(r,{size:32})),s])}}if(r!==Number.parseInt(n,10))throw new Cke({expectedSize:Number.parseInt(n,10),value:t});return{dynamic:!1,encoded:$u(t,{dir:"right"})}}function NCe(t){if(typeof t!="boolean")throw new Ce(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:$u(zY(t))}}function SCe(t,{signed:e,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,s=e?-r-1n:0n;if(t>r||t<s)throw new UY({max:r.toString(),min:s.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:nt(t,{size:32,signed:e})}}function RCe(t){const e=Vp(t),n=Math.ceil(Qn(e)/32),r=[];for(let s=0;s<n;s++)r.push($u(sm(e,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:ba([$u(nt(Qn(e),{size:32})),...r])}}function MCe(t,{param:e}){let n=!1;const r=[];for(let s=0;s<e.components.length;s++){const i=e.components[s],a=Array.isArray(t)?s:i.name,o=lM({param:i,value:t[a]});r.push(o),o.dynamic&&(n=!0)}return{dynamic:n,encoded:n?cM(r):ba(r.map(({encoded:s})=>s))}}function uM(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}const Ka=t=>sm(XY(t),0,4);function lf(t){const{abi:e,args:n=[],name:r}=t,s=fl(r,{strict:!1}),i=e.filter(o=>s?o.type==="function"?Ka(o)===r:o.type==="event"?a2(o)===r:!1:"name"in o&&o.name===r);if(i.length===0)return;if(i.length===1)return i[0];let a;for(const o of i){if(!("inputs"in o))continue;if(!n||n.length===0){if(!o.inputs||o.inputs.length===0)return o;continue}if(!o.inputs||o.inputs.length===0||o.inputs.length!==n.length)continue;if(n.every((u,d)=>{const p="inputs"in o&&o.inputs[d];return p?vE(u,p):!1})){if(a&&"inputs"in a&&a.inputs){const u=tq(o.inputs,a.inputs,n);if(u)throw new Mke({abiItem:o,type:u[0]},{abiItem:a,type:u[1]})}a=o}}return a||i[0]}function vE(t,e){const n=typeof t,r=e.type;switch(r){case"address":return bi(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((s,i)=>vE(Object.values(t)[i],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(s=>vE(s,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function tq(t,e,n){for(const r in t){const s=t[r],i=e[r];if(s.type==="tuple"&&i.type==="tuple"&&"components"in s&&"components"in i)return tq(s.components,i.components,n[r]);const a=[s.type,i.type];if(a.includes("address")&&a.includes("bytes20")?!0:a.includes("address")&&a.includes("string")?bi(n[r],{strict:!1}):a.includes("address")&&a.includes("bytes")?bi(n[r],{strict:!1}):!1)return a}}const wO="/docs/contract/encodeEventTopics";function Pv(t){var l;const{abi:e,eventName:n,args:r}=t;let s=e[0];if(n){const u=lf({abi:e,name:n});if(!u)throw new fO(n,{docsPath:wO});s=u}if(s.type!=="event")throw new fO(void 0,{docsPath:wO});const i=lo(s),a=a2(i);let o=[];if(r&&"inputs"in s){const u=(l=s.inputs)==null?void 0:l.filter(p=>"indexed"in p&&p.indexed),d=Array.isArray(r)?r:Object.values(r).length>0?(u==null?void 0:u.map(p=>r[p.name]))??[]:[];d.length>0&&(o=(u==null?void 0:u.map((p,f)=>Array.isArray(d[f])?d[f].map((h,y)=>xO({param:p,value:d[f][y]})):typeof d[f]<"u"&&d[f]!==null?xO({param:p,value:d[f]}):null))??[])}return[a,...o]}function xO({param:t,value:e}){if(t.type==="string"||t.type==="bytes")return zr(Bm(e));if(t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/))throw new Lke(t.type);return _c([t],[e])}function o2(t,{method:e}){var r,s;const n={};return t.transport.type==="fallback"&&((s=(r=t.transport).onResponse)==null||s.call(r,({method:i,response:a,status:o,transport:l})=>{o==="success"&&e===i&&(n[a]=l.request)})),i=>n[i]||t.request}async function nq(t,e){const{address:n,abi:r,args:s,eventName:i,fromBlock:a,strict:o,toBlock:l}=e,u=o2(t,{method:"eth_newFilter"}),d=i?Pv({abi:r,args:s,eventName:i}):void 0,p=await t.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof a=="bigint"?nt(a):a,toBlock:typeof l=="bigint"?nt(l):l,topics:d}]});return{abi:r,args:s,eventName:i,id:p,request:u(p),strict:!!o,type:"event"}}function Ln(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}const TO="/docs/contract/encodeFunctionData";function PCe(t){const{abi:e,args:n,functionName:r}=t;let s=e[0];if(r){const i=lf({abi:e,args:n,name:r});if(!i)throw new tm(r,{docsPath:TO});s=i}if(s.type!=="function")throw new tm(void 0,{docsPath:TO});return{abi:[s],functionName:Ka(lo(s))}}function ke(t){const{args:e}=t,{abi:n,functionName:r}=(()=>{var o;return t.abi.length===1&&((o=t.functionName)!=null&&o.startsWith("0x"))?t:PCe(t)})(),s=n[0],i=r,a="inputs"in s&&s.inputs?_c(s.inputs,e??[]):void 0;return zm([i,a??"0x"])}const jCe={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},rq={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},DCe={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};let AO=class extends Ce{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}},sq=class extends Ce{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}},_Ce=class extends Ce{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}};const LCe={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new _Ce({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new sq({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new AO({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new AO({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function dM(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(LCe);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}function OCe(t,e={}){typeof e.size<"u"&&go(t,{size:e.size});const n=jr(t,e);return Ui(n,e)}function $Ce(t,e={}){let n=t;if(typeof e.size<"u"&&(go(n,{size:e.size}),n=Fu(n)),n.length>1||n[0]>1)throw new $ke(n);return!!n[0]}function ic(t,e={}){typeof e.size<"u"&&go(t,{size:e.size});const n=jr(t,e);return co(n,e)}function FCe(t,e={}){let n=t;return typeof e.size<"u"&&(go(n,{size:e.size}),n=Fu(n,{dir:"right"})),new TextDecoder().decode(n)}function jv(t,e){const n=typeof e=="string"?hl(e):e,r=dM(n);if(Qn(n)===0&&t.length>0)throw new Rv;if(Qn(e)&&Qn(e)<32)throw new DY({data:typeof e=="string"?e:jr(e),params:t,size:Qn(e)});let s=0;const i=[];for(let a=0;a<t.length;++a){const o=t[a];r.setPosition(s);const[l,u]=yh(r,o,{staticPosition:0});s+=u,i.push(l)}return i}function yh(t,e,{staticPosition:n}){const r=uM(e.type);if(r){const[s,i]=r;return UCe(t,{...e,type:i},{length:s,staticPosition:n})}if(e.type==="tuple")return WCe(t,e,{staticPosition:n});if(e.type==="address")return BCe(t);if(e.type==="bool")return zCe(t);if(e.type.startsWith("bytes"))return VCe(t,e,{staticPosition:n});if(e.type.startsWith("uint")||e.type.startsWith("int"))return HCe(t,e);if(e.type==="string")return GCe(t,{staticPosition:n});throw new Dke(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const IO=32,bE=32;function BCe(t){const e=t.readBytes(32);return[Mv(jr(QY(e,-20))),32]}function UCe(t,e,{length:n,staticPosition:r}){if(!n){const a=ic(t.readBytes(bE)),o=r+a,l=o+IO;t.setPosition(o);const u=ic(t.readBytes(IO)),d=g0(e);let p=0;const f=[];for(let h=0;h<u;++h){t.setPosition(l+(d?h*32:p));const[y,m]=yh(t,e,{staticPosition:l});p+=m,f.push(y)}return t.setPosition(r+32),[f,32]}if(g0(e)){const a=ic(t.readBytes(bE)),o=r+a,l=[];for(let u=0;u<n;++u){t.setPosition(o+u*32);const[d]=yh(t,e,{staticPosition:o});l.push(d)}return t.setPosition(r+32),[l,32]}let s=0;const i=[];for(let a=0;a<n;++a){const[o,l]=yh(t,e,{staticPosition:r+s});s+=l,i.push(o)}return[i,s]}function zCe(t){return[$Ce(t.readBytes(32),{size:32}),32]}function VCe(t,e,{staticPosition:n}){const[r,s]=e.type.split("bytes");if(!s){const a=ic(t.readBytes(32));t.setPosition(n+a);const o=ic(t.readBytes(32));if(o===0)return t.setPosition(n+32),["0x",32];const l=t.readBytes(o);return t.setPosition(n+32),[jr(l),32]}return[jr(t.readBytes(Number.parseInt(s,10),32)),32]}function HCe(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256",10),s=t.readBytes(32);return[r>48?OCe(s,{signed:n}):ic(s,{signed:n}),32]}function WCe(t,e,{staticPosition:n}){const r=e.components.length===0||e.components.some(({name:a})=>!a),s=r?[]:{};let i=0;if(g0(e)){const a=ic(t.readBytes(bE)),o=n+a;for(let l=0;l<e.components.length;++l){const u=e.components[l];t.setPosition(o+i);const[d,p]=yh(t,u,{staticPosition:o});i+=p,s[r?l:u==null?void 0:u.name]=d}return t.setPosition(n+32),[s,32]}for(let a=0;a<e.components.length;++a){const o=e.components[a],[l,u]=yh(t,o,{staticPosition:n});s[r?a:o==null?void 0:o.name]=l,i+=u}return[s,i]}function GCe(t,{staticPosition:e}){const n=ic(t.readBytes(32)),r=e+n;t.setPosition(r);const s=ic(t.readBytes(32));if(s===0)return t.setPosition(e+32),["",32];const i=t.readBytes(s,32),a=FCe(Fu(i));return t.setPosition(e+32),[a,32]}function g0(t){var r;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(r=t.components)==null?void 0:r.some(g0);const n=uM(t.type);return!!(n&&g0({...t,type:n[1]}))}function KCe(t){const{abi:e,data:n}=t,r=sm(n,0,4);if(r==="0x")throw new Rv;const i=[...e||[],rq,DCe].find(a=>a.type==="error"&&r===Ka(lo(a)));if(!i)throw new _Y(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:i,args:"inputs"in i&&i.inputs&&i.inputs.length>0?jv(i.inputs,sm(n,4)):void 0,errorName:i.name}}const Mr=(t,e,n)=>JSON.stringify(t,(r,s)=>typeof s=="bigint"?s.toString():s,n);function iq({abiItem:t,args:e,includeFunctionName:n=!0,includeName:r=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${n?t.name:""}(${t.inputs.map((s,i)=>`${r&&s.name?`${s.name}: `:""}${typeof e[i]=="object"?Mr(e[i]):e[i]}`).join(", ")})`}const YCe={gwei:9,wei:18},qCe={ether:-9,wei:9};function aq(t,e){let n=t.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(e,"0");let[s,i]=[n.slice(0,n.length-e),n.slice(n.length-e)];return i=i.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${i?`.${i}`:""}`}function l2(t,e="wei"){return aq(t,YCe[e])}function gi(t,e="wei"){return aq(t,qCe[e])}class XCe extends Ce{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class ZCe extends Ce{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function kO(t){return t.reduce((e,{slot:n,value:r})=>`${e}        ${n}: ${r}
`,"")}function JCe(t){return t.reduce((e,{address:n,...r})=>{let s=`${e}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=kO(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=kO(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function Dv(t){const e=Object.entries(t).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=e.reduce((r,[s])=>Math.max(r,s.length),0);return e.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class QCe extends Ce{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Dv(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class e6e extends Ce{constructor(e,{account:n,docsPath:r,chain:s,data:i,gas:a,gasPrice:o,maxFeePerGas:l,maxPriorityFeePerGas:u,nonce:d,to:p,value:f}){var y;const h=Dv({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:n==null?void 0:n.address,to:p,value:typeof f<"u"&&`${l2(f)} ${((y=s==null?void 0:s.nativeCurrency)==null?void 0:y.symbol)||"ETH"}`,data:i,gas:a,gasPrice:typeof o<"u"&&`${gi(o)} gwei`,maxFeePerGas:typeof l<"u"&&`${gi(l)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${gi(u)} gwei`,nonce:d});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",h].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class oq extends Ce{constructor({blockHash:e,blockNumber:n,blockTag:r,hash:s,index:i}){let a="Transaction";r&&i!==void 0&&(a=`Transaction at block time "${r}" at index "${i}"`),e&&i!==void 0&&(a=`Transaction at block hash "${e}" at index "${i}"`),n&&i!==void 0&&(a=`Transaction at block number "${n}" at index "${i}"`),s&&(a=`Transaction with hash "${s}"`),super(`${a} could not be found.`,{name:"TransactionNotFoundError"})}}class lq extends Ce{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class cq extends Ce{constructor({receipt:e}){super(`Transaction with hash "${e.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=e}}class t6e extends Ce{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const n6e=t=>t,pM=t=>t;class uq extends Ce{constructor(e,{account:n,docsPath:r,chain:s,data:i,gas:a,gasPrice:o,maxFeePerGas:l,maxPriorityFeePerGas:u,nonce:d,to:p,value:f,stateOverride:h}){var g;const y=n?Ln(n):void 0;let m=Dv({from:y==null?void 0:y.address,to:p,value:typeof f<"u"&&`${l2(f)} ${((g=s==null?void 0:s.nativeCurrency)==null?void 0:g.symbol)||"ETH"}`,data:i,gas:a,gasPrice:typeof o<"u"&&`${gi(o)} gwei`,maxFeePerGas:typeof l<"u"&&`${gi(l)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${gi(u)} gwei`,nonce:d});h&&(m+=`
${JCe(h)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",m].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class dq extends Ce{constructor(e,{abi:n,args:r,contractAddress:s,docsPath:i,functionName:a,sender:o}){const l=lf({abi:n,args:r,name:a}),u=l?iq({abiItem:l,args:r,includeFunctionName:!1,includeName:!1}):void 0,d=l?lo(l,{includeName:!0}):void 0,p=Dv({address:s&&n6e(s),function:d,args:u&&u!=="()"&&`${[...Array((a==null?void 0:a.length)??0).keys()].map(()=>" ").join("")}${u}`,sender:o});super(e.shortMessage||`An unknown error occurred while executing the contract function "${a}".`,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],p&&"Contract Call:",p].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=e,this.contractAddress=s,this.functionName=a,this.sender=o}}class wE extends Ce{constructor({abi:e,data:n,functionName:r,message:s}){let i,a,o,l;if(n&&n!=="0x")try{a=KCe({abi:e,data:n});const{abiItem:d,errorName:p,args:f}=a;if(p==="Error")l=f[0];else if(p==="Panic"){const[h]=f;l=jCe[h]}else{const h=d?lo(d,{includeName:!0}):void 0,y=d&&f?iq({abiItem:d,args:f,includeFunctionName:!1,includeName:!1}):void 0;o=[h?`Error: ${h}`:"",y&&y!=="()"?`       ${[...Array((p==null?void 0:p.length)??0).keys()].map(()=>" ").join("")}${y}`:""]}}catch(d){i=d}else s&&(l=s);let u;i instanceof _Y&&(u=i.signature,o=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(l&&l!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,l||u].join(`
`):`The contract function "${r}" reverted.`,{cause:i,metaMessages:o,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=a,this.raw=n,this.reason=l,this.signature=u}}class r6e extends Ce{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class s6e extends Ce{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class c2 extends Ce{constructor({data:e,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}class mg extends Ce{constructor({body:e,cause:n,details:r,headers:s,status:i,url:a}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[i&&`Status: ${i}`,`URL: ${pM(a)}`,e&&`Request body: ${Mr(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=s,this.status=i,this.url=a}}class fM extends Ce{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${pM(r)}`,`Request body: ${Mr(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data,this.url=r}}class CO extends Ce{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${pM(n)}`,`Request body: ${Mr(e)}`],name:"TimeoutError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=n}}const i6e=-1;class wi extends Ce{constructor(e,{code:n,docsPath:r,metaMessages:s,name:i,shortMessage:a}){super(a,{cause:e,docsPath:r,metaMessages:s||(e==null?void 0:e.metaMessages),name:i||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=i||e.name,this.code=e instanceof fM?e.code:n??i6e}}class Gi extends wi{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class v0 extends wi{constructor(e){super(e,{code:v0.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(v0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class b0 extends wi{constructor(e){super(e,{code:b0.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(b0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class w0 extends wi{constructor(e,{method:n}={}){super(e,{code:w0.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(w0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class x0 extends wi{constructor(e){super(e,{code:x0.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(x0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Wp extends wi{constructor(e){super(e,{code:Wp.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Wp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class od extends wi{constructor(e){super(e,{code:od.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(od,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class T0 extends wi{constructor(e){super(e,{code:T0.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(T0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Bu extends wi{constructor(e){super(e,{code:Bu.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Bu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class A0 extends wi{constructor(e){super(e,{code:A0.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(A0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class ep extends wi{constructor(e,{method:n}={}){super(e,{code:ep.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(ep,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class im extends wi{constructor(e){super(e,{code:im.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(im,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class I0 extends wi{constructor(e){super(e,{code:I0.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(I0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Ms extends Gi{constructor(e){super(e,{code:Ms.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(Ms,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class k0 extends Gi{constructor(e){super(e,{code:k0.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(k0,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class C0 extends Gi{constructor(e,{method:n}={}){super(e,{code:C0.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(C0,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class E0 extends Gi{constructor(e){super(e,{code:E0.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(E0,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class N0 extends Gi{constructor(e){super(e,{code:N0.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(N0,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Gp extends Gi{constructor(e){super(e,{code:Gp.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(Gp,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class am extends Gi{constructor(e){super(e,{code:am.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(am,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class S0 extends Gi{constructor(e){super(e,{code:S0.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(S0,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class R0 extends Gi{constructor(e){super(e,{code:R0.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(R0,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class M0 extends Gi{constructor(e){super(e,{code:M0.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(M0,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class P0 extends Gi{constructor(e){super(e,{code:P0.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(P0,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class j0 extends Gi{constructor(e){super(e,{code:j0.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(j0,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class om extends Gi{constructor(e){super(e,{code:om.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(om,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class a6e extends wi{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const o6e=3;function Kp(t,{abi:e,address:n,args:r,docsPath:s,functionName:i,sender:a}){const o=t instanceof c2?t:t instanceof Ce?t.walk(y=>"data"in y)||t.walk():{},{code:l,data:u,details:d,message:p,shortMessage:f}=o,h=t instanceof Rv?new r6e({functionName:i}):[o6e,Wp.code].includes(l)&&(u||d||p||f)||l===od.code&&d==="execution reverted"&&u?new wE({abi:e,data:typeof u=="object"?u.data:u,functionName:i,message:o instanceof fM?d:f??p}):t;return new dq(h,{abi:e,args:r,contractAddress:n,docsPath:s,functionName:i,sender:a})}function l6e(t){const e=zr(`0x${t.substring(4)}`).substring(26);return Mv(`0x${e}`)}const c6e="modulepreload",u6e=function(t){return"/"+t},EO={},Ht=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=u6e(l),l in EO)return;EO[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":c6e,u||(p.as="script"),p.crossOrigin="",p.href=l,o&&p.setAttribute("nonce",o),document.head.appendChild(p),u)return new Promise((f,h)=>{p.addEventListener("load",f),p.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})};async function d6e({hash:t,signature:e}){const n=fl(t)?t:va(t),{secp256k1:r}=await Ht(async()=>{const{secp256k1:a}=await Promise.resolve().then(()=>oRe);return{secp256k1:a}},void 0);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:u,s:d,v:p,yParity:f}=e,h=Number(f??p),y=NO(h);return new r.Signature(Ui(u),Ui(d)).addRecoveryBit(y)}const a=fl(e)?e:va(e);if(Qn(a)!==65)throw new Error("invalid signature length");const o=co(`0x${a.slice(130)}`),l=NO(o);return r.Signature.fromCompact(a.substring(2,130)).addRecoveryBit(l)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function NO(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function pq({hash:t,signature:e}){return l6e(await d6e({hash:t,signature:e}))}function p6e(t,e="hex"){const n=fq(t),r=dM(new Uint8Array(n.length));return n.encode(r),e==="hex"?jr(r.bytes):r.bytes}function fq(t){return Array.isArray(t)?f6e(t.map(e=>fq(e))):h6e(t)}function f6e(t){const e=t.reduce((s,i)=>s+i.length,0),n=hq(e);return{length:e<=55?1+e:1+n+e,encode(s){e<=55?s.pushByte(192+e):(s.pushByte(247+n),n===1?s.pushUint8(e):n===2?s.pushUint16(e):n===3?s.pushUint24(e):s.pushUint32(e));for(const{encode:i}of t)i(s)}}}function h6e(t){const e=typeof t=="string"?hl(t):t,n=hq(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length,encode(s){e.length===1&&e[0]<128?s.pushBytes(e):e.length<=55?(s.pushByte(128+e.length),s.pushBytes(e)):(s.pushByte(183+n),n===1?s.pushUint8(e.length):n===2?s.pushUint16(e.length):n===3?s.pushUint24(e.length):s.pushUint32(e.length),s.pushBytes(e))}}}function hq(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new Ce("Length is too large.")}function m6e(t){const{chainId:e,nonce:n,to:r}=t,s=t.contractAddress??t.address,i=zr(zm(["0x05",p6e([e?nt(e):"0x",s,n?nt(n):"0x"])]));return r==="bytes"?hl(i):i}async function u2(t){const{authorization:e,signature:n}=t;return pq({hash:m6e(e),signature:n??e})}class y6e extends Ce{constructor(e,{account:n,docsPath:r,chain:s,data:i,gas:a,gasPrice:o,maxFeePerGas:l,maxPriorityFeePerGas:u,nonce:d,to:p,value:f}){var y;const h=Dv({from:n==null?void 0:n.address,to:p,value:typeof f<"u"&&`${l2(f)} ${((y=s==null?void 0:s.nativeCurrency)==null?void 0:y.symbol)||"ETH"}`,data:i,gas:a,gasPrice:typeof o<"u"&&`${gi(o)} gwei`,maxFeePerGas:typeof l<"u"&&`${gi(l)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${gi(u)} gwei`,nonce:d});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",h].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class Jf extends Ce{constructor({cause:e,message:n}={}){var s;const r=(s=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(Jf,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(Jf,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class h1 extends Ce{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${gi(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(h1,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class xE extends Ce{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${gi(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(xE,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class TE extends Ce{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(TE,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class AE extends Ce{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(AE,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class IE extends Ce{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(IE,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class kE extends Ce{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(kE,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class CE extends Ce{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(CE,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class EE extends Ce{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(EE,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class NE extends Ce{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(NE,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class m1 extends Ce{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${gi(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${gi(r)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(m1,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class _v extends Ce{constructor({cause:e}){super(`An error occurred while executing: ${e==null?void 0:e.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function d2(t,e){const n=(t.details||"").toLowerCase(),r=t instanceof Ce?t.walk(s=>(s==null?void 0:s.code)===Jf.code):t;return r instanceof Ce?new Jf({cause:t,message:r.details}):Jf.nodeMessage.test(n)?new Jf({cause:t,message:t.details}):h1.nodeMessage.test(n)?new h1({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):xE.nodeMessage.test(n)?new xE({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):TE.nodeMessage.test(n)?new TE({cause:t,nonce:e==null?void 0:e.nonce}):AE.nodeMessage.test(n)?new AE({cause:t,nonce:e==null?void 0:e.nonce}):IE.nodeMessage.test(n)?new IE({cause:t,nonce:e==null?void 0:e.nonce}):kE.nodeMessage.test(n)?new kE({cause:t}):CE.nodeMessage.test(n)?new CE({cause:t,gas:e==null?void 0:e.gas}):EE.nodeMessage.test(n)?new EE({cause:t,gas:e==null?void 0:e.gas}):NE.nodeMessage.test(n)?new NE({cause:t}):m1.nodeMessage.test(n)?new m1({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas,maxPriorityFeePerGas:e==null?void 0:e.maxPriorityFeePerGas}):new _v({cause:t})}function g6e(t,{docsPath:e,...n}){const r=(()=>{const s=d2(t,n);return s instanceof _v?t:s})();return new y6e(r,{docsPath:e,...n})}function Vm(t,{format:e}){if(!e)return{};const n={};function r(i){const a=Object.keys(i);for(const o of a)o in t&&(n[o]=t[o]),i[o]&&typeof i[o]=="object"&&!Array.isArray(i[o])&&r(i[o])}const s=e(t||{});return r(s),n}const v6e={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function wd(t,e){const n={};return typeof t.authorizationList<"u"&&(n.authorizationList=b6e(t.authorizationList)),typeof t.accessList<"u"&&(n.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(n.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?n.blobs=t.blobs.map(r=>jr(r)):n.blobs=t.blobs),typeof t.data<"u"&&(n.data=t.data),t.account&&(n.from=t.account.address),typeof t.from<"u"&&(n.from=t.from),typeof t.gas<"u"&&(n.gas=nt(t.gas)),typeof t.gasPrice<"u"&&(n.gasPrice=nt(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=nt(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(n.maxFeePerGas=nt(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=nt(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(n.nonce=nt(t.nonce)),typeof t.to<"u"&&(n.to=t.to),typeof t.type<"u"&&(n.type=v6e[t.type]),typeof t.value<"u"&&(n.value=nt(t.value)),n}function b6e(t){return t.map(e=>({address:e.address,r:e.r?nt(BigInt(e.r)):e.r,s:e.s?nt(BigInt(e.s)):e.s,chainId:nt(e.chainId),nonce:nt(e.nonce),...typeof e.yParity<"u"?{yParity:nt(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:nt(e.v)}:{}}))}function SO(t){if(!(!t||t.length===0))return t.reduce((e,{slot:n,value:r})=>{if(n.length!==66)throw new hO({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new hO({size:r.length,targetSize:66,type:"hex"});return e[n]=r,e},{})}function w6e(t){const{balance:e,nonce:n,state:r,stateDiff:s,code:i}=t,a={};if(i!==void 0&&(a.code=i),e!==void 0&&(a.balance=nt(e)),n!==void 0&&(a.nonce=nt(n)),r!==void 0&&(a.state=SO(r)),s!==void 0){if(a.state)throw new ZCe;a.stateDiff=SO(s)}return a}function hM(t){if(!t)return;const e={};for(const{address:n,...r}of t){if(!bi(n,{strict:!1}))throw new ad({address:n});if(e[n])throw new XCe({address:n});e[n]=w6e(r)}return e}const x6e=2n**32n-1n,D0=2n**256n-1n;function Lc(t){const{account:e,maxFeePerGas:n,maxPriorityFeePerGas:r,to:s}=t,i=e?Ln(e):void 0;if(i&&!bi(i.address))throw new ad({address:i.address});if(s&&!bi(s))throw new ad({address:s});if(n&&n>D0)throw new h1({maxFeePerGas:n});if(r&&n&&r>n)throw new m1({maxFeePerGas:n,maxPriorityFeePerGas:r})}class mq extends Ce{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class mM extends Ce{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class T6e extends Ce{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${gi(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class yq extends Ce{constructor({blockHash:e,blockNumber:n}){let r="Block";e&&(r=`Block at hash "${e}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const gq={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function yM(t,e){const n={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?co(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?co(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?gq[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(n.authorizationList=A6e(t.authorizationList)),n.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof n.v=="bigint"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type==="legacy"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type==="eip2930"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type==="eip1559"&&delete n.maxFeePerBlobGas,n}function A6e(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function vq(t,e){const n=(t.transactions??[]).map(r=>typeof r=="string"?r:yM(r));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:n,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}async function Ya(t,{blockHash:e,blockNumber:n,blockTag:r=t.experimental_blockTag??"latest",includeTransactions:s}={}){var u,d,p;const i=s??!1,a=n!==void 0?nt(n):void 0;let o=null;if(e?o=await t.request({method:"eth_getBlockByHash",params:[e,i]},{dedupe:!0}):o=await t.request({method:"eth_getBlockByNumber",params:[a||r,i]},{dedupe:!!a}),!o)throw new yq({blockHash:e,blockNumber:n});return(((p=(d=(u=t.chain)==null?void 0:u.formatters)==null?void 0:d.block)==null?void 0:p.format)||vq)(o,"getBlock")}async function gM(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function I6e(t,e){return bq(t,e)}async function bq(t,e){var i,a;const{block:n,chain:r=t.chain,request:s}=e||{};try{const o=((i=r==null?void 0:r.fees)==null?void 0:i.maxPriorityFeePerGas)??((a=r==null?void 0:r.fees)==null?void 0:a.defaultPriorityFee);if(typeof o=="function"){const u=n||await Xe(t,Ya,"getBlock")({}),d=await o({block:u,client:t,request:s});if(d===null)throw new Error;return d}if(typeof o<"u")return o;const l=await t.request({method:"eth_maxPriorityFeePerGas"});return Ui(l)}catch{const[o,l]=await Promise.all([n?Promise.resolve(n):Xe(t,Ya,"getBlock")({}),Xe(t,gM,"getGasPrice")({})]);if(typeof o.baseFeePerGas!="bigint")throw new mM;const u=l-o.baseFeePerGas;return u<0n?0n:u}}async function k6e(t,e){return SE(t,e)}async function SE(t,e){var f,h;const{block:n,chain:r=t.chain,request:s,type:i="eip1559"}=e||{},a=await(async()=>{var y,m;return typeof((y=r==null?void 0:r.fees)==null?void 0:y.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:t,request:s}):((m=r==null?void 0:r.fees)==null?void 0:m.baseFeeMultiplier)??1.2})();if(a<1)throw new mq;const l=10**(((f=a.toString().split(".")[1])==null?void 0:f.length)??0),u=y=>y*BigInt(Math.ceil(a*l))/BigInt(l),d=n||await Xe(t,Ya,"getBlock")({});if(typeof((h=r==null?void 0:r.fees)==null?void 0:h.estimateFeesPerGas)=="function"){const y=await r.fees.estimateFeesPerGas({block:n,client:t,multiply:u,request:s,type:i});if(y!==null)return y}if(i==="eip1559"){if(typeof d.baseFeePerGas!="bigint")throw new mM;const y=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await bq(t,{block:d,chain:r,request:s}),m=u(d.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??m+y,maxPriorityFeePerGas:y}}return{gasPrice:(s==null?void 0:s.gasPrice)??u(await Xe(t,gM,"getGasPrice")({}))}}async function vM(t,{address:e,blockTag:n="latest",blockNumber:r}){const s=await t.request({method:"eth_getTransactionCount",params:[e,typeof r=="bigint"?nt(r):n]},{dedupe:!!r});return co(s)}function wq(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(i=>hl(i)):t.blobs,s=[];for(const i of r)s.push(Uint8Array.from(e.blobToKzgCommitment(i)));return n==="bytes"?s:s.map(i=>jr(i))}function xq(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(a=>hl(a)):t.blobs,s=typeof t.commitments[0]=="string"?t.commitments.map(a=>hl(a)):t.commitments,i=[];for(let a=0;a<r.length;a++){const o=r[a],l=s[a];i.push(Uint8Array.from(e.computeBlobKzgProof(o,l)))}return n==="bytes"?i:i.map(a=>jr(a))}function C6e(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),a=Number(n>>s&i),o=Number(n&i),l=r?4:0,u=r?0:4;t.setUint32(e+l,a,r),t.setUint32(e+u,o,r)}function E6e(t,e,n){return t&e^~t&n}function N6e(t,e,n){return t&e^t&n^e&n}class S6e extends aM{constructor(e,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(e),this.view=GI(this.buffer)}update(e){nm(this),e=i2(e),Hp(e);const{view:n,buffer:r,blockLen:s}=this,i=e.length;for(let a=0;a<i;){const o=Math.min(s-this.pos,i-a);if(o===s){const l=GI(e);for(;s<=i-a;a+=s)this.process(l,a);continue}r.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){nm(this),VY(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:a}=this;n[a++]=128,rm(this.buffer.subarray(a)),this.padOffset>s-a&&(this.process(r,0),a=0);for(let p=a;p<s;p++)n[p]=0;C6e(r,s-8,BigInt(this.length*8),i),this.process(r,0);const o=GI(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=l/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<u;p++)o.setUint32(4*p,d[p],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:a,pos:o}=this;return e.destroyed=a,e.finished=i,e.length=s,e.pos=o,s%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const Wc=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),R6e=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Gc=new Uint32Array(64);class M6e extends S6e{constructor(e=32){super(64,e,8,!1),this.A=Wc[0]|0,this.B=Wc[1]|0,this.C=Wc[2]|0,this.D=Wc[3]|0,this.E=Wc[4]|0,this.F=Wc[5]|0,this.G=Wc[6]|0,this.H=Wc[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:a,G:o,H:l}=this;return[e,n,r,s,i,a,o,l]}set(e,n,r,s,i,a,o,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=a|0,this.G=o|0,this.H=l|0}process(e,n){for(let p=0;p<16;p++,n+=4)Gc[p]=e.getUint32(n,!1);for(let p=16;p<64;p++){const f=Gc[p-15],h=Gc[p-2],y=xo(f,7)^xo(f,18)^f>>>3,m=xo(h,17)^xo(h,19)^h>>>10;Gc[p]=m+Gc[p-7]+y+Gc[p-16]|0}let{A:r,B:s,C:i,D:a,E:o,F:l,G:u,H:d}=this;for(let p=0;p<64;p++){const f=xo(o,6)^xo(o,11)^xo(o,25),h=d+f+E6e(o,l,u)+R6e[p]+Gc[p]|0,m=(xo(r,2)^xo(r,13)^xo(r,22))+N6e(r,s,i)|0;d=u,u=l,l=o,o=a+h|0,a=i,i=s,s=r,r=h+m|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,a=a+this.D|0,o=o+this.E|0,l=l+this.F|0,u=u+this.G|0,d=d+this.H|0,this.set(r,s,i,a,o,l,u,d)}roundClean(){rm(Gc)}destroy(){this.set(0,0,0,0,0,0,0,0),rm(this.buffer)}}const Tq=HY(()=>new M6e),P6e=Tq;function j6e(t,e){return P6e(fl(t,{strict:!1})?Bm(t):t)}function D6e(t){const{commitment:e,version:n=1}=t,r=t.to??(typeof e=="string"?"hex":"bytes"),s=j6e(e);return s.set([n],0),r==="bytes"?s:jr(s)}function _6e(t){const{commitments:e,version:n}=t,r=t.to??(typeof e[0]=="string"?"hex":"bytes"),s=[];for(const i of e)s.push(D6e({commitment:i,to:r,version:n}));return s}const RO=6,Aq=32,bM=4096,Iq=Aq*bM,MO=Iq*RO-1-1*bM*RO;class L6e extends Ce{constructor({maxSize:e,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class O6e extends Ce{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function $6e(t){const e=t.to??(typeof t.data=="string"?"hex":"bytes"),n=typeof t.data=="string"?hl(t.data):t.data,r=Qn(n);if(!r)throw new O6e;if(r>MO)throw new L6e({maxSize:MO,size:r});const s=[];let i=!0,a=0;for(;i;){const o=dM(new Uint8Array(Iq));let l=0;for(;l<bM;){const u=n.slice(a,a+(Aq-1));if(o.pushByte(0),o.pushBytes(u),u.length<31){o.pushByte(128),i=!1;break}l++,a+=31}s.push(o)}return e==="bytes"?s.map(o=>o.bytes):s.map(o=>jr(o.bytes))}function F6e(t){const{data:e,kzg:n,to:r}=t,s=t.blobs??$6e({data:e,to:r}),i=t.commitments??wq({blobs:s,kzg:n,to:r}),a=t.proofs??xq({blobs:s,commitments:i,kzg:n,to:r}),o=[];for(let l=0;l<s.length;l++)o.push({blob:s[l],commitment:i[l],proof:a[l]});return o}function B6e(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new QCe({transaction:t})}function p2(t,{docsPath:e,...n}){const r=(()=>{const s=d2(t,n);return s instanceof _v?t:s})();return new e6e(r,{docsPath:e,...n})}async function xd(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return co(e)}async function wM(t,e){var N,_,U,$,B;const{account:n=t.account,accessList:r,authorizationList:s,chain:i=t.chain,blobVersionedHashes:a,blobs:o,data:l,gas:u,gasPrice:d,maxFeePerBlobGas:p,maxFeePerGas:f,maxPriorityFeePerGas:h,nonce:y,nonceManager:m,to:g,type:v,value:b,...w}=e,A=await(async()=>{if(!n||!m||typeof y<"u")return y;const j=Ln(n),x=i?i.id:await Xe(t,xd,"getChainId")({});return await m.consume({address:j.address,chainId:x,client:t})})();Lc(e);const I=(_=(N=i==null?void 0:i.formatters)==null?void 0:N.transactionRequest)==null?void 0:_.format,E=(I||wd)({...Vm(w,{format:I}),account:n?Ln(n):void 0,accessList:r,authorizationList:s,blobs:o,blobVersionedHashes:a,data:l,gas:u,gasPrice:d,maxFeePerBlobGas:p,maxFeePerGas:f,maxPriorityFeePerGas:h,nonce:A,to:g,type:v,value:b},"fillTransaction");try{const j=await t.request({method:"eth_fillTransaction",params:[E]}),k=((($=(U=i==null?void 0:i.formatters)==null?void 0:U.transaction)==null?void 0:$.format)||yM)(j.tx);delete k.blockHash,delete k.blockNumber,delete k.r,delete k.s,delete k.transactionIndex,delete k.v,delete k.yParity,k.data=k.input,k.gas&&(k.gas=e.gas??k.gas),k.gasPrice&&(k.gasPrice=e.gasPrice??k.gasPrice),k.maxFeePerBlobGas&&(k.maxFeePerBlobGas=e.maxFeePerBlobGas??k.maxFeePerBlobGas),k.maxFeePerGas&&(k.maxFeePerGas=e.maxFeePerGas??k.maxFeePerGas),k.maxPriorityFeePerGas&&(k.maxPriorityFeePerGas=e.maxPriorityFeePerGas??k.maxPriorityFeePerGas),k.nonce&&(k.nonce=e.nonce??k.nonce);const M=await(async()=>{var V,F;if(typeof((V=i==null?void 0:i.fees)==null?void 0:V.baseFeeMultiplier)=="function"){const R=await Xe(t,Ya,"getBlock")({});return i.fees.baseFeeMultiplier({block:R,client:t,request:e})}return((F=i==null?void 0:i.fees)==null?void 0:F.baseFeeMultiplier)??1.2})();if(M<1)throw new mq;const S=10**(((B=M.toString().split(".")[1])==null?void 0:B.length)??0),L=V=>V*BigInt(Math.ceil(M*S))/BigInt(S);return k.maxFeePerGas&&!e.maxFeePerGas&&(k.maxFeePerGas=L(k.maxFeePerGas)),k.gasPrice&&!e.gasPrice&&(k.gasPrice=L(k.gasPrice)),{raw:j.raw,transaction:{from:E.from,...k}}}catch(j){throw p2(j,{...e,chain:t.chain})}}const xM=["blobVersionedHashes","chainId","fees","gas","nonce","type"],PO=new Map,qI=new Um(128);async function Lv(t,e){var A,I,C;let n=e;const{account:r=t.account,chain:s=t.chain,nonceManager:i,parameters:a=xM}=n,o=(()=>{if(typeof(s==null?void 0:s.prepareTransactionRequest)=="function")return{fn:s.prepareTransactionRequest,runAt:["beforeFillTransaction"]};if(Array.isArray(s==null?void 0:s.prepareTransactionRequest))return{fn:s.prepareTransactionRequest[0],runAt:s.prepareTransactionRequest[1].runAt}})();let l;async function u(){return l||(typeof n.chainId<"u"?n.chainId:s?s.id:(l=await Xe(t,xd,"getChainId")({}),l))}const d=r&&Ln(r);let p=n.nonce;if(a.includes("nonce")&&typeof p>"u"&&d&&i){const E=await u();p=await i.consume({address:d.address,chainId:E,client:t})}o!=null&&o.fn&&((A=o.runAt)!=null&&A.includes("beforeFillTransaction"))&&(n=await o.fn(n,{phase:"beforeFillTransaction"}),p??(p=n.nonce));const h=((a.includes("blobVersionedHashes")||a.includes("sidecars"))&&n.kzg&&n.blobs||qI.get(t.uid)===!1||!["fees","gas"].some(N=>a.includes(N))?!1:!!(a.includes("chainId")&&typeof n.chainId!="number"||a.includes("nonce")&&typeof p!="number"||a.includes("fees")&&typeof n.gasPrice!="bigint"&&(typeof n.maxFeePerGas!="bigint"||typeof n.maxPriorityFeePerGas!="bigint")||a.includes("gas")&&typeof n.gas!="bigint"))?await Xe(t,wM,"fillTransaction")({...n,nonce:p}).then(E=>{const{chainId:N,from:_,gas:U,gasPrice:$,nonce:B,maxFeePerBlobGas:j,maxFeePerGas:x,maxPriorityFeePerGas:k,type:M,...P}=E.transaction;return qI.set(t.uid,!0),{...n,..._?{from:_}:{},...M?{type:M}:{},...typeof N<"u"?{chainId:N}:{},...typeof U<"u"?{gas:U}:{},...typeof $<"u"?{gasPrice:$}:{},...typeof B<"u"?{nonce:B}:{},...typeof j<"u"?{maxFeePerBlobGas:j}:{},...typeof x<"u"?{maxFeePerGas:x}:{},...typeof k<"u"?{maxPriorityFeePerGas:k}:{},..."nonceKey"in P&&typeof P.nonceKey<"u"?{nonceKey:P.nonceKey}:{}}}).catch(E=>{var U;const N=E;return((U=N.walk)==null?void 0:U.call(N,$=>{const B=$;return B.name==="MethodNotFoundRpcError"||B.name==="MethodNotSupportedRpcError"}))&&qI.set(t.uid,!1),n}):n;p??(p=h.nonce),n={...h,...d?{from:d==null?void 0:d.address}:{},...p?{nonce:p}:{}};const{blobs:y,gas:m,kzg:g,type:v}=n;o!=null&&o.fn&&((I=o.runAt)!=null&&I.includes("beforeFillParameters"))&&(n=await o.fn(n,{phase:"beforeFillParameters"}));let b;async function w(){return b||(b=await Xe(t,Ya,"getBlock")({blockTag:"latest"}),b)}if(a.includes("nonce")&&typeof p>"u"&&d&&!i&&(n.nonce=await Xe(t,vM,"getTransactionCount")({address:d.address,blockTag:"pending"})),(a.includes("blobVersionedHashes")||a.includes("sidecars"))&&y&&g){const E=wq({blobs:y,kzg:g});if(a.includes("blobVersionedHashes")){const N=_6e({commitments:E,to:"hex"});n.blobVersionedHashes=N}if(a.includes("sidecars")){const N=xq({blobs:y,commitments:E,kzg:g}),_=F6e({blobs:y,commitments:E,proofs:N,to:"hex"});n.sidecars=_}}if(a.includes("chainId")&&(n.chainId=await u()),(a.includes("fees")||a.includes("type"))&&typeof v>"u")try{n.type=B6e(n)}catch{let E=PO.get(t.uid);if(typeof E>"u"){const N=await w();E=typeof(N==null?void 0:N.baseFeePerGas)=="bigint",PO.set(t.uid,E)}n.type=E?"eip1559":"legacy"}if(a.includes("fees"))if(n.type!=="legacy"&&n.type!=="eip2930"){if(typeof n.maxFeePerGas>"u"||typeof n.maxPriorityFeePerGas>"u"){const E=await w(),{maxFeePerGas:N,maxPriorityFeePerGas:_}=await SE(t,{block:E,chain:s,request:n});if(typeof n.maxPriorityFeePerGas>"u"&&n.maxFeePerGas&&n.maxFeePerGas<_)throw new T6e({maxPriorityFeePerGas:_});n.maxPriorityFeePerGas=_,n.maxFeePerGas=N}}else{if(typeof n.maxFeePerGas<"u"||typeof n.maxPriorityFeePerGas<"u")throw new mM;if(typeof n.gasPrice>"u"){const E=await w(),{gasPrice:N}=await SE(t,{block:E,chain:s,request:n,type:"legacy"});n.gasPrice=N}}return a.includes("gas")&&typeof m>"u"&&(n.gas=await Xe(t,TM,"estimateGas")({...n,account:d,prepare:(d==null?void 0:d.type)==="local"?[]:["blobVersionedHashes"]})),o!=null&&o.fn&&((C=o.runAt)!=null&&C.includes("afterFillParameters"))&&(n=await o.fn(n,{phase:"afterFillParameters"})),Lc(n),delete n.parameters,n}async function TM(t,e){var a,o,l;const{account:n=t.account,prepare:r=!0}=e,s=n?Ln(n):void 0,i=(()=>{if(Array.isArray(r))return r;if((s==null?void 0:s.type)!=="local")return["blobVersionedHashes"]})();try{const u=await(async()=>{if(e.to)return e.to;if(e.authorizationList&&e.authorizationList.length>0)return await u2({authorization:e.authorizationList[0]}).catch(()=>{throw new Ce("`to` is required. Could not infer from `authorizationList`")})})(),{accessList:d,authorizationList:p,blobs:f,blobVersionedHashes:h,blockNumber:y,blockTag:m,data:g,gas:v,gasPrice:b,maxFeePerBlobGas:w,maxFeePerGas:A,maxPriorityFeePerGas:I,nonce:C,value:E,stateOverride:N,..._}=r?await Lv(t,{...e,parameters:i,to:u}):e;if(v&&e.gas!==v)return v;const $=(typeof y=="bigint"?nt(y):void 0)||m,B=hM(N);Lc(e);const j=(l=(o=(a=t.chain)==null?void 0:a.formatters)==null?void 0:o.transactionRequest)==null?void 0:l.format,k=(j||wd)({...Vm(_,{format:j}),account:s,accessList:d,authorizationList:p,blobs:f,blobVersionedHashes:h,data:g,gasPrice:b,maxFeePerBlobGas:w,maxFeePerGas:A,maxPriorityFeePerGas:I,nonce:C,to:u,value:E},"estimateGas");return BigInt(await t.request({method:"eth_estimateGas",params:B?[k,$??t.experimental_blockTag??"latest",B]:$?[k,$]:[k]}))}catch(u){throw g6e(u,{...e,account:s,chain:t.chain})}}async function U6e(t,e){const{abi:n,address:r,args:s,functionName:i,dataSuffix:a,...o}=e,l=ke({abi:n,args:s,functionName:i});try{return await Xe(t,TM,"estimateGas")({data:`${l}${a?a.replace("0x",""):""}`,to:r,...o})}catch(u){const d=o.account?Ln(o.account):void 0;throw Kp(u,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:i,sender:d==null?void 0:d.address})}}function Ov(t,e){if(!bi(t,{strict:!1}))throw new ad({address:t});if(!bi(e,{strict:!1}))throw new ad({address:e});return t.toLowerCase()===e.toLowerCase()}const jO="/docs/contract/decodeEventLog";function cn(t){const{abi:e,data:n,strict:r,topics:s}=t,i=r??!0,[a,...o]=s;if(!a)throw new Ske({docsPath:jO});const l=e.find(m=>m.type==="event"&&a===a2(lo(m)));if(!(l&&"name"in l)||l.type!=="event")throw new LY(a,{docsPath:jO});const{name:u,inputs:d}=l,p=d==null?void 0:d.some(m=>!("name"in m&&m.name)),f=p?[]:{},h=d.map((m,g)=>[m,g]).filter(([m])=>"indexed"in m&&m.indexed);for(let m=0;m<h.length;m++){const[g,v]=h[m],b=o[m];if(!b)throw new s2({abiItem:l,param:g});f[p?v:g.name||v]=z6e({param:g,value:b})}const y=d.filter(m=>!("indexed"in m&&m.indexed));if(y.length>0){if(n&&n!=="0x")try{const m=jv(y,n);if(m)if(p)for(let g=0;g<d.length;g++)f[g]=f[g]??m.shift();else for(let g=0;g<y.length;g++)f[y[g].name]=m[g]}catch(m){if(i)throw m instanceof DY||m instanceof sq?new m0({abiItem:l,data:n,params:y,size:Qn(n)}):m}else if(i)throw new m0({abiItem:l,data:"0x",params:y,size:0})}return{eventName:u,args:Object.values(f).length>0?f:void 0}}function z6e({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(jv([t],e)||[])[0]}function AM(t){const{abi:e,args:n,logs:r,strict:s=!0}=t,i=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return r.map(a=>{var o;try{const l=e.find(d=>d.type==="event"&&a.topics[0]===a2(d));if(!l)return null;const u=cn({...a,abi:[l],strict:s});return i&&!i.includes(u.eventName)||!V6e({args:u.args,inputs:l.inputs,matchArgs:n})?null:{...u,...a}}catch(l){let u,d;if(l instanceof LY)return null;if(l instanceof m0||l instanceof s2){if(s)return null;u=l.abiItem.name,d=(o=l.abiItem.inputs)==null?void 0:o.some(p=>!("name"in p&&p.name))}return{...a,args:d?[]:{},eventName:u}}}).filter(Boolean)}function V6e(t){const{args:e,inputs:n,matchArgs:r}=t;if(!r)return!0;if(!e)return!1;function s(i,a,o){try{return i.type==="address"?Ov(a,o):i.type==="string"||i.type==="bytes"?zr(Bm(a))===o:a===o}catch{return!1}}return Array.isArray(e)&&Array.isArray(r)?r.every((i,a)=>{if(i==null)return!0;const o=n[a];return o?(Array.isArray(i)?i:[i]).some(u=>s(o,u,e[a])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([i,a])=>{if(a==null)return!0;const o=n.find(u=>u.name===i);return o?(Array.isArray(a)?a:[a]).some(u=>s(o,u,e[i])):!1}):!1}function kc(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}async function IM(t,{address:e,blockHash:n,fromBlock:r,toBlock:s,event:i,events:a,args:o,strict:l}={}){const u=l??!1,d=a??(i?[i]:void 0);let p=[];d&&(p=[d.flatMap(m=>Pv({abi:[m],eventName:m.name,args:a?void 0:o}))],i&&(p=p[0]));let f;n?f=await t.request({method:"eth_getLogs",params:[{address:e,topics:p,blockHash:n}]}):f=await t.request({method:"eth_getLogs",params:[{address:e,topics:p,fromBlock:typeof r=="bigint"?nt(r):r,toBlock:typeof s=="bigint"?nt(s):s}]});const h=f.map(y=>kc(y));return d?AM({abi:d,args:o,logs:h,strict:u}):h}async function kq(t,e){const{abi:n,address:r,args:s,blockHash:i,eventName:a,fromBlock:o,toBlock:l,strict:u}=e,d=a?lf({abi:n,name:a}):void 0,p=d?void 0:n.filter(f=>f.type==="event");return Xe(t,IM,"getLogs")({address:r,args:s,blockHash:i,event:d,events:p,fromBlock:o,toBlock:l,strict:u})}const XI="/docs/contract/decodeFunctionResult";function cf(t){const{abi:e,args:n,functionName:r,data:s}=t;let i=e[0];if(r){const o=lf({abi:e,args:n,name:r});if(!o)throw new tm(r,{docsPath:XI});i=o}if(i.type!=="function")throw new tm(void 0,{docsPath:XI});if(!i.outputs)throw new OY(i.name,{docsPath:XI});const a=jv(i.outputs,s);if(a&&a.length>1)return a;if(a&&a.length===1)return a[0]}const H6e="0.1.1";function W6e(){return H6e}let nn=class RE extends Error{constructor(e,n={}){const r=(()=>{var l;if(n.cause instanceof RE){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(l=n.cause)!=null&&l.message?n.cause.message:n.details})(),s=n.cause instanceof RE&&n.cause.docsPath||n.docsPath,a=`https://oxlib.sh${s??""}`,o=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${a}`:void 0]:[]].filter(l=>typeof l=="string").join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${W6e()}`}),this.cause=n.cause,this.details=r,this.docs=a,this.docsPath=s,this.shortMessage=e}walk(e){return Cq(this,e)}};function Cq(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?Cq(t.cause,e):e?null:t}function $v(t,e){if(Qf(t)>e)throw new lEe({givenSize:Qf(t),maxSize:e})}const wl={zero:48,nine:57,A:65,F:70,a:97,f:102};function DO(t){if(t>=wl.zero&&t<=wl.nine)return t-wl.zero;if(t>=wl.A&&t<=wl.F)return t-(wl.A-10);if(t>=wl.a&&t<=wl.f)return t-(wl.a-10)}function G6e(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;if(t.length>r)throw new cEe({size:t.length,targetSize:r,type:"Bytes"});const s=new Uint8Array(r);for(let i=0;i<r;i++){const a=n==="right";s[a?i:r-i-1]=t[a?i:t.length-i-1]}return s}function Eq(t,e={}){const{dir:n="left"}=e;let r=t,s=0;for(let i=0;i<r.length-1&&r[n==="left"?i:r.length-i-1].toString()==="0";i++)s++;return r=n==="left"?r.slice(s):r.slice(0,r.length-s),r}function f2(t,e){if(zi(t)>e)throw new mEe({givenSize:zi(t),maxSize:e})}function K6e(t,e){if(typeof e=="number"&&e>0&&e>zi(t)-1)throw new Lq({offset:e,position:"start",size:zi(t)})}function Y6e(t,e,n){if(typeof e=="number"&&typeof n=="number"&&zi(t)!==n-e)throw new Lq({offset:n,position:"end",size:zi(t)})}function Nq(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;const s=t.replace("0x","");if(s.length>r*2)throw new yEe({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const q6e="#__bigint";function Sq(t,e,n){return JSON.stringify(t,(r,s)=>typeof s=="bigint"?s.toString()+q6e:s,n)}const X6e=new TextDecoder,Z6e=new TextEncoder;function J6e(t){return t instanceof Uint8Array?t:typeof t=="string"?Rq(t):Q6e(t)}function Q6e(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function Rq(t,e={}){const{size:n}=e;let r=t;n&&(f2(t,n),r=qp(t,n));let s=r.slice(2);s.length%2&&(s=`0${s}`);const i=s.length/2,a=new Uint8Array(i);for(let o=0,l=0;o<i;o++){const u=DO(s.charCodeAt(l++)),d=DO(s.charCodeAt(l++));if(u===void 0||d===void 0)throw new nn(`Invalid byte sequence ("${s[l-2]}${s[l-1]}" in "${s}").`);a[o]=u*16+d}return a}function eEe(t,e={}){const{size:n}=e,r=Z6e.encode(t);return typeof n=="number"?($v(r,n),tEe(r,n)):r}function tEe(t,e){return G6e(t,{dir:"right",size:e})}function Qf(t){return t.length}function nEe(t,e,n,r={}){return t.slice(e,n)}function rEe(t,e={}){const{size:n}=e;typeof n<"u"&&$v(t,n);const r=po(t,e);return jq(r,e)}function sEe(t,e={}){const{size:n}=e;let r=t;if(typeof n<"u"&&($v(r,n),r=Mq(r)),r.length>1||r[0]>1)throw new oEe(r);return!!r[0]}function ac(t,e={}){const{size:n}=e;typeof n<"u"&&$v(t,n);const r=po(t,e);return Dq(r,e)}function iEe(t,e={}){const{size:n}=e;let r=t;return typeof n<"u"&&($v(r,n),r=aEe(r)),X6e.decode(r)}function Mq(t){return Eq(t,{dir:"left"})}function aEe(t){return Eq(t,{dir:"right"})}class oEe extends nn{constructor(e){super(`Bytes value \`${e}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let lEe=class extends nn{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},cEe=class extends nn{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const uEe=new TextEncoder,dEe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function pEe(t,e={}){const{strict:n=!1}=e;if(!t)throw new _O(t);if(typeof t!="string")throw new _O(t);if(n&&!/^0x[0-9a-fA-F]*$/.test(t))throw new LO(t);if(!t.startsWith("0x"))throw new LO(t)}function uo(...t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function fEe(t){return t instanceof Uint8Array?po(t):Array.isArray(t)?po(new Uint8Array(t)):t}function Pq(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(f2(n,e.size),Yp(n,e.size)):n}function po(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=dEe[t[s]];const r=`0x${n}`;return typeof e.size=="number"?(f2(r,e.size),qp(r,e.size)):r}function Ds(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const a=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<a){const u=typeof t=="bigint"?"n":"";throw new _q({max:i?`${i}${u}`:void 0,min:`${a}${u}`,signed:n,size:r,value:`${t}${u}`})}const l=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Yp(l,r):l}function kM(t,e={}){return po(uEe.encode(t),e)}function Yp(t,e){return Nq(t,{dir:"left",size:e})}function qp(t,e){return Nq(t,{dir:"right",size:e})}function nl(t,e,n,r={}){const{strict:s}=r;K6e(t,e);const i=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return s&&Y6e(i,e,n),i}function zi(t){return Math.ceil((t.length-2)/2)}function jq(t,e={}){const{signed:n}=e;e.size&&f2(t,e.size);const r=BigInt(t);if(!n)return r;const s=(t.length-2)/2,i=(1n<<BigInt(s)*8n)-1n,a=i>>1n;return r<=a?r:r-i-1n}function Dq(t,e={}){const{signed:n,size:r}=e;return Number(!n&&!r?t:jq(t,e))}function hEe(t,e={}){const{strict:n=!1}=e;try{return pEe(t,{strict:n}),!0}catch{return!1}}class _q extends nn{constructor({max:e,min:n,signed:r,size:s,value:i}){super(`Number \`${i}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class _O extends nn{constructor(e){super(`Value \`${typeof e=="object"?Sq(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class LO extends nn{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class mEe extends nn{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class Lq extends nn{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class yEe extends nn{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function gEe(t){return{address:t.address,amount:Ds(t.amount),index:Ds(t.index),validatorIndex:Ds(t.validatorIndex)}}function Oq(t){return{...typeof t.baseFeePerGas=="bigint"&&{baseFeePerGas:Ds(t.baseFeePerGas)},...typeof t.blobBaseFee=="bigint"&&{blobBaseFee:Ds(t.blobBaseFee)},...typeof t.feeRecipient=="string"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit=="bigint"&&{gasLimit:Ds(t.gasLimit)},...typeof t.number=="bigint"&&{number:Ds(t.number)},...typeof t.prevRandao=="bigint"&&{prevRandao:Ds(t.prevRandao)},...typeof t.time=="bigint"&&{time:Ds(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map(gEe)}}}const y1=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],ME=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],$q=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],Fq=[...$q,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],vEe=[...$q,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],OO=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],$O=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],Bq=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],FO=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],bEe=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],wEe="0x82ad56cb",Uq="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",xEe="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",TEe="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",CM="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class PE extends Ce{constructor({blockNumber:e,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class AEe extends Ce{constructor({chain:e,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${e.id}  ${e.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e.id}  ${e.name}`],name:"ChainMismatchError"})}}class IEe extends Ce{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class zq extends Ce{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}const ZI="/docs/contract/encodeDeployData";function h2(t){const{abi:e,args:n,bytecode:r}=t;if(!n||n.length===0)return r;const s=e.find(a=>"type"in a&&a.type==="constructor");if(!s)throw new Ike({docsPath:ZI});if(!("inputs"in s))throw new dO({docsPath:ZI});if(!s.inputs||s.inputs.length===0)throw new dO({docsPath:ZI});const i=_c(s.inputs,n);return zm([r,i])}function Hm({blockNumber:t,chain:e,contract:n}){var s;const r=(s=e==null?void 0:e.contracts)==null?void 0:s[n];if(!r)throw new PE({chain:e,contract:{name:n}});if(t&&r.blockCreated&&r.blockCreated>t)throw new PE({blockNumber:t,chain:e,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function Vq(t,{docsPath:e,...n}){const r=(()=>{const s=d2(t,n);return s instanceof _v?t:s})();return new uq(r,{docsPath:e,...n})}function EM(){let t=()=>{},e=()=>{};return{promise:new Promise((r,s)=>{t=r,e=s}),resolve:t,reject:e}}const JI=new Map;function Hq({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:s}){const i=async()=>{const d=l();a();const p=d.map(({args:f})=>f);p.length!==0&&t(p).then(f=>{s&&Array.isArray(f)&&f.sort(s);for(let h=0;h<d.length;h++){const{resolve:y}=d[h];y==null||y([f[h],f])}}).catch(f=>{for(let h=0;h<d.length;h++){const{reject:y}=d[h];y==null||y(f)}})},a=()=>JI.delete(e),o=()=>l().map(({args:d})=>d),l=()=>JI.get(e)||[],u=d=>JI.set(e,[...l(),d]);return{flush:a,async schedule(d){const{promise:p,resolve:f,reject:h}=EM();return(n==null?void 0:n([...o(),d]))&&i(),l().length>0?(u({args:d,resolve:f,reject:h}),p):(u({args:d,resolve:f,reject:h}),setTimeout(i,r),p)}}}async function m2(t,e){var j,x,k,M;const{account:n=t.account,authorizationList:r,batch:s=!!((j=t.batch)!=null&&j.multicall),blockNumber:i,blockTag:a=t.experimental_blockTag??"latest",accessList:o,blobs:l,blockOverrides:u,code:d,data:p,factory:f,factoryData:h,gas:y,gasPrice:m,maxFeePerBlobGas:g,maxFeePerGas:v,maxPriorityFeePerGas:b,nonce:w,to:A,value:I,stateOverride:C,...E}=e,N=n?Ln(n):void 0;if(d&&(f||h))throw new Ce("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(d&&A)throw new Ce("Cannot provide both `code` & `to` as parameters.");const _=d&&p,U=f&&h&&A&&p,$=_||U,B=_?Wq({code:d,data:p}):U?EEe({data:p,factory:f,factoryData:h,to:A}):p;try{Lc(e);const S=(typeof i=="bigint"?nt(i):void 0)||a,L=u?Oq(u):void 0,V=hM(C),F=(M=(k=(x=t.chain)==null?void 0:x.formatters)==null?void 0:k.transactionRequest)==null?void 0:M.format,z=(F||wd)({...Vm(E,{format:F}),accessList:o,account:N,authorizationList:r,blobs:l,data:B,gas:y,gasPrice:m,maxFeePerBlobGas:g,maxFeePerGas:v,maxPriorityFeePerGas:b,nonce:w,to:$?void 0:A,value:I},"call");if(s&&kEe({request:z})&&!V&&!L)try{return await CEe(t,{...z,blockNumber:i,blockTag:a})}catch(H){if(!(H instanceof zq)&&!(H instanceof PE))throw H}const Q=(()=>{const H=[z,S];return V&&L?[...H,V,L]:V?[...H,V]:L?[...H,{},L]:H})(),O=await t.request({method:"eth_call",params:Q});return O==="0x"?{data:void 0}:{data:O}}catch(P){const S=NEe(P),{offchainLookup:L,offchainLookupSignature:V}=await Ht(async()=>{const{offchainLookup:F,offchainLookupSignature:R}=await import("./ccip-CrmewnDZ.js");return{offchainLookup:F,offchainLookupSignature:R}},[]);if(t.ccipRead!==!1&&(S==null?void 0:S.slice(0,10))===V&&A)return{data:await L(t,{data:S,to:A})};throw $&&(S==null?void 0:S.slice(0,10))==="0x101bb98d"?new s6e({factory:f}):Vq(P,{...e,account:N,chain:t.chain})}}function kEe({request:t}){const{data:e,to:n,...r}=t;return!(!e||e.startsWith(wEe)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function CEe(t,e){var m;const{batchSize:n=1024,deployless:r=!1,wait:s=0}=typeof((m=t.batch)==null?void 0:m.multicall)=="object"?t.batch.multicall:{},{blockNumber:i,blockTag:a=t.experimental_blockTag??"latest",data:o,to:l}=e,u=(()=>{if(r)return null;if(e.multicallAddress)return e.multicallAddress;if(t.chain)return Hm({blockNumber:i,chain:t.chain,contract:"multicall3"});throw new zq})(),p=(typeof i=="bigint"?nt(i):void 0)||a,{schedule:f}=Hq({id:`${t.uid}.${p}`,wait:s,shouldSplitBatch(g){return g.reduce((b,{data:w})=>b+(w.length-2),0)>n*2},fn:async g=>{const v=g.map(A=>({allowFailure:!0,callData:A.data,target:A.to})),b=ke({abi:y1,args:[v],functionName:"aggregate3"}),w=await t.request({method:"eth_call",params:[{...u===null?{data:Wq({code:CM,data:b})}:{to:u,data:b}},p]});return cf({abi:y1,args:[v],functionName:"aggregate3",data:w||"0x"})}}),[{returnData:h,success:y}]=await f({data:o,to:l});if(!y)throw new c2({data:h});return h==="0x"?{data:void 0}:{data:h}}function Wq(t){const{code:e,data:n}=t;return h2({abi:MY(["constructor(bytes, bytes)"]),bytecode:Uq,args:[e,n]})}function EEe(t){const{data:e,factory:n,factoryData:r,to:s}=t;return h2({abi:MY(["constructor(address, bytes, address, bytes)"]),bytecode:xEe,args:[s,e,n,r]})}function NEe(t){var n;if(!(t instanceof Ce))return;const e=t.walk();return typeof(e==null?void 0:e.data)=="object"?(n=e.data)==null?void 0:n.data:e.data}async function fo(t,e){const{abi:n,address:r,args:s,functionName:i,...a}=e,o=ke({abi:n,args:s,functionName:i});try{const{data:l}=await Xe(t,m2,"call")({...a,data:o,to:r});return cf({abi:n,args:s,functionName:i,data:l||"0x"})}catch(l){throw Kp(l,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:i})}}async function SEe(t,e){const{abi:n,address:r,args:s,dataSuffix:i,functionName:a,...o}=e,l=o.account?Ln(o.account):t.account,u=ke({abi:n,args:s,functionName:a});try{const{data:d}=await Xe(t,m2,"call")({batch:!1,data:`${u}${i?i.replace("0x",""):""}`,to:r,...o,account:l}),p=cf({abi:n,args:s,functionName:a,data:d||"0x"}),f=n.filter(h=>"name"in h&&h.name===e.functionName);return{result:p,request:{abi:f,address:r,args:s,dataSuffix:i,functionName:a,...o,account:l}}}catch(d){throw Kp(d,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:a,sender:l==null?void 0:l.address})}}const QI=new Map,BO=new Map;let REe=0;function Cc(t,e,n){const r=++REe,s=()=>QI.get(t)||[],i=()=>{const d=s();QI.set(t,d.filter(p=>p.id!==r))},a=()=>{const d=s();if(!d.some(f=>f.id===r))return;const p=BO.get(t);if(d.length===1&&p){const f=p();f instanceof Promise&&f.catch(()=>{})}i()},o=s();if(QI.set(t,[...o,{id:r,fns:e}]),o&&o.length>0)return a;const l={};for(const d in e)l[d]=(...p)=>{var h,y;const f=s();if(f.length!==0)for(const m of f)(y=(h=m.fns)[d])==null||y.call(h,...p)};const u=n(l);return typeof u=="function"&&BO.set(t,u),a}async function jE(t){return new Promise(e=>setTimeout(e,t))}function Wm(t,{emitOnBegin:e,initialWaitTime:n,interval:r}){let s=!0;const i=()=>s=!1;return(async()=>{let o;e&&(o=await t({unpoll:i}));const l=await(n==null?void 0:n(o))??r;await jE(l);const u=async()=>{s&&(await t({unpoll:i}),await jE(r),u())};u()})(),i}const MEe=new Map,PEe=new Map;function jEe(t){const e=(s,i)=>({clear:()=>i.delete(s),get:()=>i.get(s),set:a=>i.set(s,a)}),n=e(t,MEe),r=e(t,PEe);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function DEe(t,{cacheKey:e,cacheTime:n=Number.POSITIVE_INFINITY}){const r=jEe(e),s=r.response.get();if(s&&n>0&&Date.now()-s.created.getTime()<n)return s.data;let i=r.promise.get();i||(i=t(),r.promise.set(i));try{const a=await i;return r.response.set({created:new Date,data:a}),a}finally{r.promise.clear()}}const _Ee=t=>`blockNumber.${t}`;async function Fv(t,{cacheTime:e=t.cacheTime}={}){const n=await DEe(()=>t.request({method:"eth_blockNumber"}),{cacheKey:_Ee(t.uid),cacheTime:e});return BigInt(n)}async function y2(t,{filter:e}){const n="strict"in e&&e.strict,r=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof r[0]=="string")return r;const s=r.map(i=>kc(i));return!("abi"in e)||!e.abi?s:AM({abi:e.abi,logs:s,strict:n})}async function g2(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function LEe(t,e){const{abi:n,address:r,args:s,batch:i=!0,eventName:a,fromBlock:o,onError:l,onLogs:u,poll:d,pollingInterval:p=t.pollingInterval,strict:f}=e;return(typeof d<"u"?d:typeof o=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")))?(()=>{const g=f??!1,v=Mr(["watchContractEvent",r,s,i,t.uid,a,p,g,o]);return Cc(v,{onLogs:u,onError:l},b=>{let w;o!==void 0&&(w=o-1n);let A,I=!1;const C=Wm(async()=>{var E;if(!I){try{A=await Xe(t,nq,"createContractEventFilter")({abi:n,address:r,args:s,eventName:a,strict:g,fromBlock:o})}catch{}I=!0;return}try{let N;if(A)N=await Xe(t,y2,"getFilterChanges")({filter:A});else{const _=await Xe(t,Fv,"getBlockNumber")({});w&&w<_?N=await Xe(t,kq,"getContractEvents")({abi:n,address:r,args:s,eventName:a,fromBlock:w+1n,toBlock:_,strict:g}):N=[],w=_}if(N.length===0)return;if(i)b.onLogs(N);else for(const _ of N)b.onLogs([_])}catch(N){A&&N instanceof od&&(I=!1),(E=b.onError)==null||E.call(b,N)}},{emitOnBegin:!0,interval:p});return async()=>{A&&await Xe(t,g2,"uninstallFilter")({filter:A}),C()}})})():(()=>{const g=f??!1,v=Mr(["watchContractEvent",r,s,i,t.uid,a,p,g]);let b=!0,w=()=>b=!1;return Cc(v,{onLogs:u,onError:l},A=>((async()=>{try{const I=(()=>{if(t.transport.type==="fallback"){const N=t.transport.transports.find(_=>_.config.type==="webSocket"||_.config.type==="ipc");return N?N.value:t.transport}return t.transport})(),C=a?Pv({abi:n,eventName:a,args:s}):[],{unsubscribe:E}=await I.subscribe({params:["logs",{address:r,topics:C}],onData(N){var U;if(!b)return;const _=N.result;try{const{eventName:$,args:B}=cn({abi:n,data:_.data,topics:_.topics,strict:f}),j=kc(_,{args:B,eventName:$});A.onLogs([j])}catch($){let B,j;if($ instanceof m0||$ instanceof s2){if(f)return;B=$.abiItem.name,j=(U=$.abiItem.inputs)==null?void 0:U.some(k=>!("name"in k&&k.name))}const x=kc(_,{args:j?[]:{},eventName:B});A.onLogs([x])}},onError(N){var _;(_=A.onError)==null||_.call(A,N)}});w=E,b||w()}catch(I){l==null||l(I)}})(),()=>w()))})()}class Td extends Ce{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class Ip extends Ce{constructor({docsPath:e,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:e,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function NM({chain:t,currentChainId:e}){if(!t)throw new IEe;if(e!==t.id)throw new AEe({chain:t,currentChainId:e})}async function SM(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const ek=new Um(128);async function v2(t,e){var b,w,A,I;const{account:n=t.account,chain:r=t.chain,accessList:s,authorizationList:i,blobs:a,data:o,gas:l,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:p,maxPriorityFeePerGas:f,nonce:h,type:y,value:m,...g}=e;if(typeof n>"u")throw new Td({docsPath:"/docs/actions/wallet/sendTransaction"});const v=n?Ln(n):null;try{Lc(e);const C=await(async()=>{if(e.to)return e.to;if(e.to!==null&&i&&i.length>0)return await u2({authorization:i[0]}).catch(()=>{throw new Ce("`to` is required. Could not infer from `authorizationList`.")})})();if((v==null?void 0:v.type)==="json-rpc"||v===null){let E;r!==null&&(E=await Xe(t,xd,"getChainId")({}),NM({currentChainId:E,chain:r}));const N=(A=(w=(b=t.chain)==null?void 0:b.formatters)==null?void 0:w.transactionRequest)==null?void 0:A.format,U=(N||wd)({...Vm(g,{format:N}),accessList:s,account:v,authorizationList:i,blobs:a,chainId:E,data:o,gas:l,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:p,maxPriorityFeePerGas:f,nonce:h,to:C,type:y,value:m},"sendTransaction"),$=ek.get(t.uid),B=$?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:B,params:[U]},{retryCount:0})}catch(j){if($===!1)throw j;const x=j;if(x.name==="InvalidInputRpcError"||x.name==="InvalidParamsRpcError"||x.name==="MethodNotFoundRpcError"||x.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[U]},{retryCount:0}).then(k=>(ek.set(t.uid,!0),k)).catch(k=>{const M=k;throw M.name==="MethodNotFoundRpcError"||M.name==="MethodNotSupportedRpcError"?(ek.set(t.uid,!1),x):M});throw x}}if((v==null?void 0:v.type)==="local"){const E=await Xe(t,Lv,"prepareTransactionRequest")({account:v,accessList:s,authorizationList:i,blobs:a,chain:r,data:o,gas:l,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:p,maxPriorityFeePerGas:f,nonce:h,nonceManager:v.nonceManager,parameters:[...xM,"sidecars"],type:y,value:m,...g,to:C}),N=(I=r==null?void 0:r.serializers)==null?void 0:I.transaction,_=await v.signTransaction(E,{serializer:N});return await Xe(t,SM,"sendRawTransaction")({serializedTransaction:_})}throw(v==null?void 0:v.type)==="smart"?new Ip({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new Ip({docsPath:"/docs/actions/wallet/sendTransaction",type:v==null?void 0:v.type})}catch(C){throw C instanceof Ip?C:p2(C,{...e,account:v,chain:e.chain||void 0})}}async function _0(t,e){return _0.internal(t,v2,"sendTransaction",e)}(function(t){async function e(n,r,s,i){const{abi:a,account:o=n.account,address:l,args:u,dataSuffix:d,functionName:p,...f}=i;if(typeof o>"u")throw new Td({docsPath:"/docs/contract/writeContract"});const h=o?Ln(o):null,y=ke({abi:a,args:u,functionName:p});try{return await Xe(n,r,s)({data:`${y}${d?d.replace("0x",""):""}`,to:l,account:h,...f})}catch(m){throw Kp(m,{abi:a,address:l,args:u,docsPath:"/docs/contract/writeContract",functionName:p,sender:h==null?void 0:h.address})}}t.internal=e})(_0||(_0={}));class OEe extends Ce{constructor(e){super(`Call bundle failed with status: ${e.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=e}}function L0(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,i)=>{const a=async({count:o=0}={})=>{const l=async({error:u})=>{const d=typeof e=="function"?e({count:o,error:u}):e;d&&await jE(d),a({count:o+1})};try{const u=await t();s(u)}catch(u){if(o<n&&await r({count:o,error:u}))return l({error:u});i(u)}};a()})}const Gq={"0x0":"reverted","0x1":"success"};function Kq(t,e){const n={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(r=>kc(r)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?co(t.transactionIndex):null,status:t.status?Gq[t.status]:null,type:t.type?gq[t.type]||t.type:null};return t.blobGasPrice&&(n.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(n.blobGasUsed=BigInt(t.blobGasUsed)),n}const Yq="0x5792579257925792579257925792579257925792579257925792579257925792",qq=nt(0,{size:32});async function Xq(t,e){const{account:n=t.account,capabilities:r,chain:s=t.chain,experimental_fallback:i,experimental_fallbackDelay:a=32,forceAtomic:o=!1,id:l,version:u="2.0.0"}=e,d=n?Ln(n):null,p=e.calls.map(f=>{const h=f,y=h.abi?ke({abi:h.abi,functionName:h.functionName,args:h.args}):h.data;return{data:h.dataSuffix&&y?ba([y,h.dataSuffix]):y,to:h.to,value:h.value?nt(h.value):void 0}});try{const f=await t.request({method:"wallet_sendCalls",params:[{atomicRequired:o,calls:p,capabilities:r,chainId:nt(s.id),from:d==null?void 0:d.address,id:l,version:u}]},{retryCount:0});return typeof f=="string"?{id:f}:f}catch(f){const h=f;if(i&&(h.name==="MethodNotFoundRpcError"||h.name==="MethodNotSupportedRpcError"||h.name==="UnknownRpcError"||h.details.toLowerCase().includes("does not exist / is not available")||h.details.toLowerCase().includes("missing or invalid. request()")||h.details.toLowerCase().includes("did not match any variant of untagged enum")||h.details.toLowerCase().includes("account upgraded to unsupported contract")||h.details.toLowerCase().includes("eip-7702 not supported")||h.details.toLowerCase().includes("unsupported wc_ method")||h.details.toLowerCase().includes("feature toggled misconfigured")||h.details.toLowerCase().includes("jsonrpcengine: response has no error or result for request"))){if(r&&Object.values(r).some(b=>!b.optional)){const b="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new am(new Ce(b,{details:b}))}if(o&&p.length>1){const v="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new om(new Ce(v,{details:v}))}const y=[];for(const v of p){const b=v2(t,{account:d,chain:s,data:v.data,to:v.to,value:v.value?Ui(v.value):void 0});y.push(b),a>0&&await new Promise(w=>setTimeout(w,a))}const m=await Promise.allSettled(y);if(m.every(v=>v.status==="rejected"))throw m[0].reason;const g=m.map(v=>v.status==="fulfilled"?v.value:qq);return{id:ba([...g,nt(s.id,{size:32}),Yq])}}throw p2(f,{...e,account:d,chain:e.chain})}}async function Zq(t,e){async function n(d){if(d.endsWith(Yq.slice(2))){const f=Fu(gE(d,-64,-32)),h=gE(d,0,-64).slice(2).match(/.{1,64}/g),y=await Promise.all(h.map(g=>qq.slice(2)!==g?t.request({method:"eth_getTransactionReceipt",params:[`0x${g}`]},{dedupe:!0}):void 0)),m=y.some(g=>g===null)?100:y.every(g=>(g==null?void 0:g.status)==="0x1")?200:y.every(g=>(g==null?void 0:g.status)==="0x0")?500:600;return{atomic:!1,chainId:co(f),receipts:y.filter(Boolean),status:m,version:"2.0.0"}}return t.request({method:"wallet_getCallsStatus",params:[d]})}const{atomic:r=!1,chainId:s,receipts:i,version:a="2.0.0",...o}=await n(e.id),[l,u]=(()=>{const d=o.status;return d>=100&&d<200?["pending",d]:d>=200&&d<300?["success",d]:d>=300&&d<700?["failure",d]:d==="CONFIRMED"?["success",200]:d==="PENDING"?["pending",100]:[void 0,d]})();return{...o,atomic:r,chainId:s?co(s):void 0,receipts:(i==null?void 0:i.map(d=>({...d,blockNumber:Ui(d.blockNumber),gasUsed:Ui(d.gasUsed),status:Gq[d.status]})))??[],statusCode:u,status:l,version:a}}async function Jq(t,e){const{id:n,pollingInterval:r=t.pollingInterval,status:s=({statusCode:m})=>m===200||m>=300,retryCount:i=4,retryDelay:a=({count:m})=>~~(1<<m)*200,timeout:o=6e4,throwOnFailure:l=!1}=e,u=Mr(["waitForCallsStatus",t.uid,n]),{promise:d,resolve:p,reject:f}=EM();let h;const y=Cc(u,{resolve:p,reject:f},m=>{const g=Wm(async()=>{const v=b=>{clearTimeout(h),g(),b(),y()};try{const b=await L0(async()=>{const w=await Xe(t,Zq,"getCallsStatus")({id:n});if(l&&w.status==="failure")throw new OEe(w);return w},{retryCount:i,delay:a});if(!s(b))return;v(()=>m.resolve(b))}catch(b){v(()=>m.reject(b))}},{interval:r,emitOnBegin:!0});return g});return h=o?setTimeout(()=>{y(),clearTimeout(h),f(new $Ee({id:n}))},o):void 0,await d}class $Ee extends Ce{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}const DE=256;let jb=DE,Db;function Qq(t=11){if(!Db||jb+t>DE*2){Db="",jb=0;for(let e=0;e<DE;e++)Db+=(256+Math.random()*256|0).toString(16).substring(1)}return Db.substring(jb,jb+++t)}function RM(t){const{batch:e,chain:n,ccipRead:r,key:s="base",name:i="Base Client",type:a="base"}=t,o=t.experimental_blockTag??(typeof(n==null?void 0:n.experimental_preconfirmationTime)=="number"?"pending":void 0),l=(n==null?void 0:n.blockTime)??12e3,u=Math.min(Math.max(Math.floor(l/2),500),4e3),d=t.pollingInterval??u,p=t.cacheTime??d,f=t.account?Ln(t.account):void 0,{config:h,request:y,value:m}=t.transport({account:f,chain:n,pollingInterval:d}),g={...h,...m},v={account:f,batch:e,cacheTime:p,ccipRead:r,chain:n,key:s,name:i,pollingInterval:d,request:y,transport:g,type:a,uid:Qq(),...o?{experimental_blockTag:o}:{}};function b(w){return A=>{const I=A(w);for(const E in v)delete I[E];const C={...w,...I};return Object.assign(C,{extend:b(C)})}}return Object.assign(v,{extend:b(v)})}function MM(t){var n,r,s,i,a,o;if(!(t instanceof Ce))return!1;const e=t.walk(l=>l instanceof wE);return e instanceof wE?((n=e.data)==null?void 0:n.errorName)==="HttpError"||((r=e.data)==null?void 0:r.errorName)==="ResolverError"||((s=e.data)==null?void 0:s.errorName)==="ResolverNotContract"||((i=e.data)==null?void 0:i.errorName)==="ResolverNotFound"||((a=e.data)==null?void 0:a.errorName)==="ReverseAddressMismatch"||((o=e.data)==null?void 0:o.errorName)==="UnsupportedResolverProfile":!1}function FEe(t){const{abi:e,data:n}=t,r=sm(n,0,4),s=e.find(i=>i.type==="function"&&r===Ka(lo(i)));if(!s)throw new Rke(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?jv(s.inputs,sm(n,4)):void 0}}const tk="/docs/contract/encodeErrorResult";function UO(t){const{abi:e,errorName:n,args:r}=t;let s=e[0];if(n){const l=lf({abi:e,args:r,name:n});if(!l)throw new pO(n,{docsPath:tk});s=l}if(s.type!=="error")throw new pO(void 0,{docsPath:tk});const i=lo(s),a=Ka(i);let o="0x";if(r&&r.length>0){if(!s.inputs)throw new Nke(s.name,{docsPath:tk});o=_c(s.inputs,r)}return zm([a,o])}const nk="/docs/contract/encodeFunctionResult";function BEe(t){const{abi:e,functionName:n,result:r}=t;let s=e[0];if(n){const a=lf({abi:e,name:n});if(!a)throw new tm(n,{docsPath:nk});s=a}if(s.type!=="function")throw new tm(void 0,{docsPath:nk});if(!s.outputs)throw new OY(s.name,{docsPath:nk});const i=(()=>{if(s.outputs.length===0)return[];if(s.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new $Y(r)})();return _c(s.outputs,i)}const b2="x-batch-gateway:true";async function UEe(t){const{data:e,ccipRequest:n}=t,{args:[r]}=FEe({abi:ME,data:e}),s=[],i=[];return await Promise.all(r.map(async(a,o)=>{try{i[o]=a.urls.includes(b2)?await UEe({data:a.data,ccipRequest:n}):await n(a),s[o]=!1}catch(l){s[o]=!0,i[o]=zEe(l)}})),BEe({abi:ME,functionName:"query",result:[s,i]})}function zEe(t){return t.name==="HttpRequestError"&&t.status?UO({abi:ME,errorName:"HttpError",args:[t.status,t.shortMessage]}):UO({abi:[rq],errorName:"Error",args:["shortMessage"in t?t.shortMessage:t.message]})}function eX(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;const e=`0x${t.slice(1,65)}`;return fl(e)?e:null}function _E(t){let e=new Uint8Array(32).fill(0);if(!t)return jr(e);const n=t.split(".");for(let r=n.length-1;r>=0;r-=1){const s=eX(n[r]),i=s?Bm(s):zr(Ap(n[r]),"bytes");e=zr(ba([e,i]),"bytes")}return jr(e)}function VEe(t){return`[${t.slice(2)}]`}function HEe(t){const e=new Uint8Array(32).fill(0);return t?eX(t)||zr(Ap(t)):jr(e)}function PM(t){const e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const n=new Uint8Array(Ap(e).byteLength+2);let r=0;const s=e.split(".");for(let i=0;i<s.length;i++){let a=Ap(s[i]);a.byteLength>255&&(a=Ap(VEe(HEe(s[i])))),n[r]=a.length,n.set(a,r+1),r+=a.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function WEe(t,e){const{blockNumber:n,blockTag:r,coinType:s,name:i,gatewayUrls:a,strict:o}=e,{chain:l}=t,u=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!l)throw new Error("client chain not configured. universalResolverAddress is required.");return Hm({blockNumber:n,chain:l,contract:"ensUniversalResolver"})})(),d=l==null?void 0:l.ensTlds;if(d&&!d.some(f=>i.endsWith(f)))return null;const p=s!=null?[_E(i),BigInt(s)]:[_E(i)];try{const f=ke({abi:$O,functionName:"addr",args:p}),h={address:u,abi:Fq,functionName:"resolveWithGateways",args:[va(PM(i)),f,a??[b2]],blockNumber:n,blockTag:r},m=await Xe(t,fo,"readContract")(h);if(m[0]==="0x")return null;const g=cf({abi:$O,args:p,functionName:"addr",data:m[0]});return g==="0x"||Fu(g)==="0x00"?null:g}catch(f){if(o)throw f;if(MM(f))return null;throw f}}class GEe extends Ce{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class vy extends Ce{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class jM extends Ce{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class KEe extends Ce{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const YEe=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,qEe=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,XEe=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,ZEe=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function JEe(t){try{const e=await fetch(t,{method:"HEAD"});if(e.status===200){const n=e.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=t})}}function zO(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function tX({uri:t,gatewayUrls:e}){const n=XEe.test(t);if(n)return{uri:t,isOnChain:!0,isEncoded:n};const r=zO(e==null?void 0:e.ipfs,"https://ipfs.io"),s=zO(e==null?void 0:e.arweave,"https://arweave.net"),i=t.match(YEe),{protocol:a,subpath:o,target:l,subtarget:u=""}=(i==null?void 0:i.groups)||{},d=a==="ipns:/"||o==="ipns/",p=a==="ipfs:/"||o==="ipfs/"||qEe.test(t);if(t.startsWith("http")&&!d&&!p){let h=t;return e!=null&&e.arweave&&(h=t.replace(/https:\/\/arweave.net/g,e==null?void 0:e.arweave)),{uri:h,isOnChain:!1,isEncoded:!1}}if((d||p)&&l)return{uri:`${r}/${d?"ipns":"ipfs"}/${l}${u}`,isOnChain:!1,isEncoded:!1};if(a==="ar:/"&&l)return{uri:`${s}/${l}${u||""}`,isOnChain:!1,isEncoded:!1};let f=t.replace(ZEe,"");if(f.startsWith("<svg")&&(f=`data:image/svg+xml;base64,${btoa(f)}`),f.startsWith("data:")||f.startsWith("{"))return{uri:f,isOnChain:!0,isEncoded:!1};throw new jM({uri:t})}function nX(t){if(typeof t!="object"||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new GEe({data:t});return t.image||t.image_url||t.image_data}async function QEe({gatewayUrls:t,uri:e}){try{const n=await fetch(e).then(s=>s.json());return await DM({gatewayUrls:t,uri:nX(n)})}catch{throw new jM({uri:e})}}async function DM({gatewayUrls:t,uri:e}){const{uri:n,isOnChain:r}=tX({uri:e,gatewayUrls:t});if(r||await JEe(n))return n;throw new jM({uri:e})}function eNe(t){let e=t;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=e.split("/"),[i,a]=n.split(":"),[o,l]=r.split(":");if(!i||i.toLowerCase()!=="eip155")throw new vy({reason:"Only EIP-155 supported"});if(!a)throw new vy({reason:"Chain ID not found"});if(!l)throw new vy({reason:"Contract address not found"});if(!s)throw new vy({reason:"Token ID not found"});if(!o)throw new vy({reason:"ERC namespace not found"});return{chainID:Number.parseInt(a,10),namespace:o.toLowerCase(),contractAddress:l,tokenID:s}}async function tNe(t,{nft:e}){if(e.namespace==="erc721")return fo(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return fo(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new KEe({namespace:e.namespace})}async function nNe(t,{gatewayUrls:e,record:n}){return/eip155:/i.test(n)?rNe(t,{gatewayUrls:e,record:n}):DM({uri:n,gatewayUrls:e})}async function rNe(t,{gatewayUrls:e,record:n}){const r=eNe(n),s=await tNe(t,{nft:r}),{uri:i,isOnChain:a,isEncoded:o}=tX({uri:s,gatewayUrls:e});if(a&&(i.includes("data:application/json;base64,")||i.startsWith("{"))){const u=o?atob(i.replace("data:application/json;base64,","")):i,d=JSON.parse(u);return DM({uri:nX(d),gatewayUrls:e})}let l=r.tokenID;return r.namespace==="erc1155"&&(l=l.replace("0x","").padStart(64,"0")),QEe({gatewayUrls:e,uri:i.replace(/(?:0x)?{id}/,l)})}async function rX(t,e){const{blockNumber:n,blockTag:r,key:s,name:i,gatewayUrls:a,strict:o}=e,{chain:l}=t,u=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!l)throw new Error("client chain not configured. universalResolverAddress is required.");return Hm({blockNumber:n,chain:l,contract:"ensUniversalResolver"})})(),d=l==null?void 0:l.ensTlds;if(d&&!d.some(p=>i.endsWith(p)))return null;try{const p={address:u,abi:Fq,args:[va(PM(i)),ke({abi:OO,functionName:"text",args:[_E(i),s]}),a??[b2]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},h=await Xe(t,fo,"readContract")(p);if(h[0]==="0x")return null;const y=cf({abi:OO,functionName:"text",data:h[0]});return y===""?null:y}catch(p){if(o)throw p;if(MM(p))return null;throw p}}async function sNe(t,{blockNumber:e,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:i,strict:a,universalResolverAddress:o}){const l=await Xe(t,rX,"getEnsText")({blockNumber:e,blockTag:n,key:"avatar",name:s,universalResolverAddress:o,gatewayUrls:i,strict:a});if(!l)return null;try{return await nNe(t,{record:l,gatewayUrls:r})}catch{return null}}async function iNe(t,e){const{address:n,blockNumber:r,blockTag:s,coinType:i=60n,gatewayUrls:a,strict:o}=e,{chain:l}=t,u=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!l)throw new Error("client chain not configured. universalResolverAddress is required.");return Hm({blockNumber:r,chain:l,contract:"ensUniversalResolver"})})();try{const d={address:u,abi:vEe,args:[n,i,a??[b2]],functionName:"reverseWithGateways",blockNumber:r,blockTag:s},p=Xe(t,fo,"readContract"),[f]=await p(d);return f||null}catch(d){if(o)throw d;if(MM(d))return null;throw d}}async function aNe(t,e){const{blockNumber:n,blockTag:r,name:s}=e,{chain:i}=t,a=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!i)throw new Error("client chain not configured. universalResolverAddress is required.");return Hm({blockNumber:n,chain:i,contract:"ensUniversalResolver"})})(),o=i==null?void 0:i.ensTlds;if(o&&!o.some(u=>s.endsWith(u)))throw new Error(`${s} is not a valid ENS TLD (${o==null?void 0:o.join(", ")}) for chain "${i.name}" (id: ${i.id}).`);const[l]=await Xe(t,fo,"readContract")({address:a,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[va(PM(s))],blockNumber:n,blockTag:r});return l}async function sX(t,e){var g,v,b;const{account:n=t.account,blockNumber:r,blockTag:s="latest",blobs:i,data:a,gas:o,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:p,to:f,value:h,...y}=e,m=n?Ln(n):void 0;try{Lc(e);const A=(typeof r=="bigint"?nt(r):void 0)||s,I=(b=(v=(g=t.chain)==null?void 0:g.formatters)==null?void 0:v.transactionRequest)==null?void 0:b.format,E=(I||wd)({...Vm(y,{format:I}),account:m,blobs:i,data:a,gas:o,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:p,to:f,value:h},"createAccessList"),N=await t.request({method:"eth_createAccessList",params:[E,A]});return{accessList:N.accessList,gasUsed:BigInt(N.gasUsed)}}catch(w){throw Vq(w,{...e,account:m,chain:t.chain})}}async function oNe(t){const e=o2(t,{method:"eth_newBlockFilter"}),n=await t.request({method:"eth_newBlockFilter"});return{id:n,request:e(n),type:"block"}}async function iX(t,{address:e,args:n,event:r,events:s,fromBlock:i,strict:a,toBlock:o}={}){const l=s??(r?[r]:void 0),u=o2(t,{method:"eth_newFilter"});let d=[];l&&(d=[l.flatMap(h=>Pv({abi:[h],eventName:h.name,args:n}))],r&&(d=d[0]));const p=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof i=="bigint"?nt(i):i,toBlock:typeof o=="bigint"?nt(o):o,...d.length?{topics:d}:{}}]});return{abi:l,args:n,eventName:r?r.name:void 0,fromBlock:i,id:p,request:u(p),strict:!!a,toBlock:o,type:"event"}}async function aX(t){const e=o2(t,{method:"eth_newPendingTransactionFilter"}),n=await t.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}}async function lNe(t,{address:e,blockNumber:n,blockTag:r=t.experimental_blockTag??"latest"}){const s=typeof n=="bigint"?nt(n):void 0,i=await t.request({method:"eth_getBalance",params:[e,s||r]});return BigInt(i)}async function cNe(t){const e=await t.request({method:"eth_blobBaseFee"});return BigInt(e)}async function uNe(t,{blockHash:e,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?nt(n):void 0;let i;return e?i=await t.request({method:"eth_getBlockTransactionCountByHash",params:[e]},{dedupe:!0}):i=await t.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),co(i)}async function LE(t,{address:e,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?nt(n):void 0,i=await t.request({method:"eth_getCode",params:[e,s||r]},{dedupe:!!s});if(i!=="0x")return i}class dNe extends Ce{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function pNe(t,e){const{address:n,factory:r,factoryData:s}=e;try{const[i,a,o,l,u,d,p]=await Xe(t,fo,"readContract")({abi:fNe,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:a,version:o,chainId:Number(l),verifyingContract:u,salt:d},extensions:p,fields:i}}catch(i){const a=i;throw a.name==="ContractFunctionExecutionError"&&a.cause.name==="ContractFunctionZeroDataError"?new dNe({address:n}):a}}const fNe=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function hNe(t){var e;return{baseFeePerGas:t.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:t.gasUsedRatio,oldestBlock:BigInt(t.oldestBlock),reward:(e=t.reward)==null?void 0:e.map(n=>n.map(r=>BigInt(r)))}}async function mNe(t,{blockCount:e,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const i=typeof n=="bigint"?nt(n):void 0,a=await t.request({method:"eth_feeHistory",params:[nt(e),i||r,s]},{dedupe:!!i});return hNe(a)}async function yNe(t,{filter:e}){const n=e.strict??!1,s=(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map(i=>kc(i));return e.abi?AM({abi:e.abi,logs:s,strict:n}):s}async function gNe({address:t,authorization:e,signature:n}){return Ov(Qd(t),await u2({authorization:e,signature:n}))}const _b=new Um(8192);function vNe(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(_b.get(n))return _b.get(n);const r=t().finally(()=>_b.delete(n));return _b.set(n,r),r}function bNe(t,e={}){return async(n,r={})=>{var p;const{dedupe:s=!1,methods:i,retryDelay:a=150,retryCount:o=3,uid:l}={...e,...r},{method:u}=n;if((p=i==null?void 0:i.exclude)!=null&&p.includes(u))throw new ep(new Error("method not supported"),{method:u});if(i!=null&&i.include&&!i.include.includes(u))throw new ep(new Error("method not supported"),{method:u});const d=s?Vp(`${l}.${Mr(n)}`):void 0;return vNe(()=>L0(async()=>{try{return await t(n)}catch(f){const h=f;switch(h.code){case v0.code:throw new v0(h);case b0.code:throw new b0(h);case w0.code:throw new w0(h,{method:n.method});case x0.code:throw new x0(h);case Wp.code:throw new Wp(h);case od.code:throw new od(h);case T0.code:throw new T0(h);case Bu.code:throw new Bu(h);case A0.code:throw new A0(h);case ep.code:throw new ep(h,{method:n.method});case im.code:throw new im(h);case I0.code:throw new I0(h);case Ms.code:throw new Ms(h);case k0.code:throw new k0(h);case C0.code:throw new C0(h);case E0.code:throw new E0(h);case N0.code:throw new N0(h);case Gp.code:throw new Gp(h);case am.code:throw new am(h);case S0.code:throw new S0(h);case R0.code:throw new R0(h);case M0.code:throw new M0(h);case P0.code:throw new P0(h);case j0.code:throw new j0(h);case om.code:throw new om(h);case 5e3:throw new Ms(h);default:throw f instanceof Ce?f:new a6e(h)}}},{delay:({count:f,error:h})=>{var y;if(h&&h instanceof mg){const m=(y=h==null?void 0:h.headers)==null?void 0:y.get("Retry-After");if(m!=null&&m.match(/\d/))return Number.parseInt(m,10)*1e3}return~~(1<<f)*a},retryCount:o,shouldRetry:({error:f})=>wNe(f)}),{enabled:s,id:d})}}function wNe(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===im.code||t.code===Wp.code:t instanceof mg&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function Gm(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}function oX(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,i)=>{(async()=>{let a;try{const o=new AbortController;n>0&&(a=setTimeout(()=>{r?o.abort():i(e)},n)),s(await t({signal:(o==null?void 0:o.signal)||null}))}catch(o){(o==null?void 0:o.name)==="AbortError"&&i(e),i(o)}finally{clearTimeout(a)}})()})}function xNe(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const VO=xNe();function TNe(t,e={}){return{async request(n){var f;const{body:r,fetchFn:s=e.fetchFn??fetch,onRequest:i=e.onRequest,onResponse:a=e.onResponse,timeout:o=e.timeout??1e4}=n,l={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:u,method:d,signal:p}=l;try{const h=await oX(async({signal:m})=>{const g={...l,body:Array.isArray(r)?Mr(r.map(A=>({jsonrpc:"2.0",id:A.id??VO.take(),...A}))):Mr({jsonrpc:"2.0",id:r.id??VO.take(),...r}),headers:{"Content-Type":"application/json",...u},method:d||"POST",signal:p||(o>0?m:null)},v=new Request(t,g),b=await(i==null?void 0:i(v,g))??{...g,url:t};return await s(b.url??t,b)},{errorInstance:new CO({body:r,url:t}),timeout:o,signal:!0});a&&await a(h);let y;if((f=h.headers.get("Content-Type"))!=null&&f.startsWith("application/json"))y=await h.json();else{y=await h.text();try{y=JSON.parse(y||"{}")}catch(m){if(h.ok)throw m;y={error:y}}}if(!h.ok)throw new mg({body:r,details:Mr(y.error)||h.statusText,headers:h.headers,status:h.status,url:t});return y}catch(h){throw h instanceof mg||h instanceof CO?h:new mg({body:r,cause:h,url:t})}}}}const ANe=`Ethereum Signed Message:
`;function INe(t){const e=typeof t=="string"?Vp(t):typeof t.raw=="string"?t.raw:jr(t.raw),n=Vp(`${ANe}${Qn(e)}`);return ba([n,e])}function lX(t,e){return zr(INe(t),e)}class kNe extends Ce{constructor({domain:e}){super(`Invalid domain "${Mr(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class CNe extends Ce{constructor({primaryType:e,types:n}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class ENe extends Ce{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function NNe(t){const{domain:e,message:n,primaryType:r,types:s}=t,i=(l,u)=>{const d={...u};for(const p of l){const{name:f,type:h}=p;h==="address"&&(d[f]=d[f].toLowerCase())}return d},a=s.EIP712Domain?e?i(s.EIP712Domain,e):{}:{},o=(()=>{if(r!=="EIP712Domain")return i(s[r],n)})();return Mr({domain:a,message:o,primaryType:r,types:s})}function cX(t){const{domain:e,message:n,primaryType:r,types:s}=t,i=(a,o)=>{for(const l of a){const{name:u,type:d}=l,p=o[u],f=d.match(eq);if(f&&(typeof p=="number"||typeof p=="bigint")){const[m,g,v]=f;nt(p,{signed:g==="int",size:Number.parseInt(v,10)/8})}if(d==="address"&&typeof p=="string"&&!bi(p))throw new ad({address:p});const h=d.match(ACe);if(h){const[m,g]=h;if(g&&Qn(p)!==Number.parseInt(g,10))throw new Pke({expectedSize:Number.parseInt(g,10),givenSize:Qn(p)})}const y=s[d];y&&(SNe(d),i(y,p))}};if(s.EIP712Domain&&e){if(typeof e!="object")throw new kNe({domain:e});i(s.EIP712Domain,e)}if(r!=="EIP712Domain")if(s[r])i(s[r],n);else throw new CNe({primaryType:r,types:s})}function uX({domain:t}){return[typeof(t==null?void 0:t.name)=="string"&&{name:"name",type:"string"},(t==null?void 0:t.version)&&{name:"version",type:"string"},(typeof(t==null?void 0:t.chainId)=="number"||typeof(t==null?void 0:t.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(t==null?void 0:t.verifyingContract)&&{name:"verifyingContract",type:"address"},(t==null?void 0:t.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function SNe(t){if(t==="address"||t==="bool"||t==="string"||t.startsWith("bytes")||t.startsWith("uint")||t.startsWith("int"))throw new ENe({type:t})}function RNe(t){const{domain:e={},message:n,primaryType:r}=t,s={EIP712Domain:uX({domain:e}),...t.types};cX({domain:e,message:n,primaryType:r,types:s});const i=["0x1901"];return e&&i.push(MNe({domain:e,types:s})),r!=="EIP712Domain"&&i.push(dX({data:n,primaryType:r,types:s})),zr(ba(i))}function MNe({domain:t,types:e}){return dX({data:t,primaryType:"EIP712Domain",types:e})}function dX({data:t,primaryType:e,types:n}){const r=pX({data:t,primaryType:e,types:n});return zr(r)}function pX({data:t,primaryType:e,types:n}){const r=[{type:"bytes32"}],s=[PNe({primaryType:e,types:n})];for(const i of n[e]){const[a,o]=hX({types:n,name:i.name,type:i.type,value:t[i.name]});r.push(a),s.push(o)}return _c(r,s)}function PNe({primaryType:t,types:e}){const n=va(jNe({primaryType:t,types:e}));return zr(n)}function jNe({primaryType:t,types:e}){let n="";const r=fX({primaryType:t,types:e});r.delete(t);const s=[t,...Array.from(r).sort()];for(const i of s)n+=`${i}(${e[i].map(({name:a,type:o})=>`${o} ${a}`).join(",")})`;return n}function fX({primaryType:t,types:e},n=new Set){const r=t.match(/^\w*/u),s=r==null?void 0:r[0];if(n.has(s)||e[s]===void 0)return n;n.add(s);for(const i of e[s])fX({primaryType:i.type,types:e},n);return n}function hX({types:t,name:e,type:n,value:r}){if(t[n]!==void 0)return[{type:"bytes32"},zr(pX({data:r,primaryType:n,types:t}))];if(n==="bytes")return[{type:"bytes32"},zr(r)];if(n==="string")return[{type:"bytes32"},zr(va(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),i=r.map(a=>hX({name:e,type:s,types:t,value:a}));return[{type:"bytes32"},zr(_c(i.map(([a])=>a),i.map(([,a])=>a)))]}return[{type:n},r]}const g1="0x0000000000000000000000000000000000000000000000000000000000000000",DNe="1.2.2";let xi=class OE extends Error{constructor(e,n={}){var a;const r=n.cause instanceof OE?n.cause.details:(a=n.cause)!=null&&a.message?n.cause.message:n.details,s=n.cause instanceof OE&&n.cause.docsPath||n.docsPath,i=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${DNe}`].join(`
`);super(i),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=e}};function Oc(t,e){const n=t.exec(e);return n==null?void 0:n.groups}const mX=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,yX=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,gX=/^\(.+?\).*?$/,HO=/^tuple(?<array>(\[(\d*)\])*)$/;function $E(t){let e=t.type;if(HO.test(t.type)&&"components"in t){e="(";const n=t.components.length;for(let s=0;s<n;s++){const i=t.components[s];e+=$E(i),s<n-1&&(e+=", ")}const r=Oc(HO,t.type);return e+=`)${(r==null?void 0:r.array)||""}`,$E({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function Cf(t){let e="";const n=t.length;for(let r=0;r<n;r++){const s=t[r];e+=$E(s),r!==n-1&&(e+=", ")}return e}function FE(t){var e;return t.type==="function"?`function ${t.name}(${Cf(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${(e=t.outputs)!=null&&e.length?` returns (${Cf(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${Cf(t.inputs)})`:t.type==="error"?`error ${t.name}(${Cf(t.inputs)})`:t.type==="constructor"?`constructor(${Cf(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const vX=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function _Ne(t){return vX.test(t)}function LNe(t){return Oc(vX,t)}const bX=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function ONe(t){return bX.test(t)}function $Ne(t){return Oc(bX,t)}const wX=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function FNe(t){return wX.test(t)}function BNe(t){return Oc(wX,t)}const xX=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function _M(t){return xX.test(t)}function UNe(t){return Oc(xX,t)}const TX=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function zNe(t){return TX.test(t)}function VNe(t){return Oc(TX,t)}const AX=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function HNe(t){return AX.test(t)}function WNe(t){return Oc(AX,t)}const GNe=/^receive\(\) external payable$/;function KNe(t){return GNe.test(t)}const WO=new Set(["memory","indexed","storage","calldata"]),YNe=new Set(["indexed"]),BE=new Set(["calldata","memory","storage"]);class qNe extends xi{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class XNe extends xi{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class ZNe extends xi{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class JNe extends xi{constructor({params:e}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class QNe extends xi{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class e5e extends xi{constructor({param:e,name:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class t5e extends xi{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class n5e extends xi{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class r5e extends xi{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class Km extends xi{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class s5e extends xi{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class i5e extends xi{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class a5e extends xi{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class o5e extends xi{constructor({current:e,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function l5e(t,e,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let i="";for(const a of s[1])i+=`[${a.type}${a.name?`:${a.name}`:""}]`;r+=`(${s[0]}{${i}})`}return e?`${e}:${t}${r}`:`${t}${r}`}const rk=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function GO(t,e={}){if(FNe(t))return c5e(t,e);if(ONe(t))return u5e(t,e);if(_Ne(t))return d5e(t,e);if(zNe(t))return p5e(t,e);if(HNe(t))return f5e(t);if(KNe(t))return{type:"receive",stateMutability:"payable"};throw new s5e({signature:t})}function c5e(t,e={}){const n=BNe(t);if(!n)throw new Km({signature:t,type:"function"});const r=Mi(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(Ec(r[o],{modifiers:BE,structs:e,type:"function"}));const a=[];if(n.returns){const o=Mi(n.returns),l=o.length;for(let u=0;u<l;u++)a.push(Ec(o[u],{modifiers:BE,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:a}}function u5e(t,e={}){const n=$Ne(t);if(!n)throw new Km({signature:t,type:"event"});const r=Mi(n.parameters),s=[],i=r.length;for(let a=0;a<i;a++)s.push(Ec(r[a],{modifiers:YNe,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:s}}function d5e(t,e={}){const n=LNe(t);if(!n)throw new Km({signature:t,type:"error"});const r=Mi(n.parameters),s=[],i=r.length;for(let a=0;a<i;a++)s.push(Ec(r[a],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:s}}function p5e(t,e={}){const n=VNe(t);if(!n)throw new Km({signature:t,type:"constructor"});const r=Mi(n.parameters),s=[],i=r.length;for(let a=0;a<i;a++)s.push(Ec(r[a],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function f5e(t){const e=WNe(t);if(!e)throw new Km({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const h5e=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,m5e=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,y5e=/^u?int$/;function Ec(t,e){var p,f;const n=l5e(t,e==null?void 0:e.type,e==null?void 0:e.structs);if(rk.has(n))return rk.get(n);const r=gX.test(t),s=Oc(r?m5e:h5e,t);if(!s)throw new QNe({param:t});if(s.name&&v5e(s.name))throw new e5e({param:t,name:s.name});const i=s.name?{name:s.name}:{},a=s.modifier==="indexed"?{indexed:!0}:{},o=(e==null?void 0:e.structs)??{};let l,u={};if(r){l="tuple";const h=Mi(s.type),y=[],m=h.length;for(let g=0;g<m;g++)y.push(Ec(h[g],{structs:o}));u={components:y}}else if(s.type in o)l="tuple",u={components:o[s.type]};else if(y5e.test(s.type))l=`${s.type}256`;else if(s.type==="address payable")l="address";else if(l=s.type,(e==null?void 0:e.type)!=="struct"&&!IX(l))throw new ZNe({type:l});if(s.modifier){if(!((f=(p=e==null?void 0:e.modifiers)==null?void 0:p.has)!=null&&f.call(p,s.modifier)))throw new t5e({param:t,type:e==null?void 0:e.type,modifier:s.modifier});if(BE.has(s.modifier)&&!b5e(l,!!s.array))throw new n5e({param:t,type:e==null?void 0:e.type,modifier:s.modifier})}const d={type:`${l}${s.array??""}`,...i,...a,...u};return rk.set(n,d),d}function Mi(t,e=[],n="",r=0){const s=t.trim().length;for(let i=0;i<s;i++){const a=t[i],o=t.slice(i+1);switch(a){case",":return r===0?Mi(o,[...e,n.trim()]):Mi(o,e,`${n}${a}`,r);case"(":return Mi(o,e,`${n}${a}`,r+1);case")":return Mi(o,e,`${n}${a}`,r-1);default:return Mi(o,e,`${n}${a}`,r)}}if(n==="")return e;if(r!==0)throw new o5e({current:n,depth:r});return e.push(n.trim()),e}function IX(t){return t==="address"||t==="bool"||t==="function"||t==="string"||mX.test(t)||yX.test(t)}const g5e=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function v5e(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||mX.test(t)||yX.test(t)||g5e.test(t)}function b5e(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function kX(t){const e={},n=t.length;for(let a=0;a<n;a++){const o=t[a];if(!_M(o))continue;const l=UNe(o);if(!l)throw new Km({signature:o,type:"struct"});const u=l.properties.split(";"),d=[],p=u.length;for(let f=0;f<p;f++){const y=u[f].trim();if(!y)continue;const m=Ec(y,{type:"struct"});d.push(m)}if(!d.length)throw new i5e({signature:o});e[l.name]=d}const r={},s=Object.entries(e),i=s.length;for(let a=0;a<i;a++){const[o,l]=s[a];r[o]=CX(l,e)}return r}const w5e=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function CX(t=[],e={},n=new Set){const r=[],s=t.length;for(let i=0;i<s;i++){const a=t[i];if(gX.test(a.type))r.push(a);else{const l=Oc(w5e,a.type);if(!(l!=null&&l.type))throw new r5e({abiParameter:a});const{array:u,type:d}=l;if(d in e){if(n.has(d))throw new a5e({type:d});r.push({...a,type:`tuple${u??""}`,components:CX(e[d],e,new Set([...n,d]))})}else if(IX(d))r.push(a);else throw new XNe({type:d})}}return r}function KO(t){let e;if(typeof t=="string")e=GO(t);else{const n=kX(t),r=t.length;for(let s=0;s<r;s++){const i=t[s];if(!_M(i)){e=GO(i,n);break}}}if(!e)throw new qNe({signature:t});return e}function YO(t){const e=[];if(typeof t=="string"){const n=Mi(t),r=n.length;for(let s=0;s<r;s++)e.push(Ec(n[s],{modifiers:WO}))}else{const n=kX(t),r=t.length;for(let s=0;s<r;s++){const i=t[s];if(_M(i))continue;const a=Mi(i),o=a.length;for(let l=0;l<o;l++)e.push(Ec(a[l],{modifiers:WO,structs:n}))}}if(e.length===0)throw new JNe({params:t});return e}class x5e extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const T5e={checksum:new x5e(8192)},sk=T5e.checksum;function EX(t,e={}){const{as:n=typeof t=="string"?"Hex":"Bytes"}=e,r=qY(J6e(t));return n==="Bytes"?r:po(r)}const A5e=/^0x[a-fA-F0-9]{40}$/;function w2(t,e={}){const{strict:n=!0}=e;if(!A5e.test(t))throw new qO({address:t,cause:new I5e});if(n){if(t.toLowerCase()===t)return;if(NX(t)!==t)throw new qO({address:t,cause:new k5e})}}function NX(t){if(sk.has(t))return sk.get(t);w2(t,{strict:!1});const e=t.substring(2).toLowerCase(),n=EX(eEe(e),{as:"Bytes"}),r=e.split("");for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&r[i]&&(r[i]=r[i].toUpperCase()),(n[i>>1]&15)>=8&&r[i+1]&&(r[i+1]=r[i+1].toUpperCase());const s=`0x${r.join("")}`;return sk.set(t,s),s}function UE(t,e={}){const{strict:n=!0}=e??{};try{return w2(t,{strict:n}),!0}catch{return!1}}class qO extends nn{constructor({address:e,cause:n}){super(`Address "${e}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class I5e extends nn{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class k5e extends nn{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const C5e=/^(.*)\[([0-9]*)\]$/,E5e=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,SX=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,XO=2n**256n-1n;function gh(t,e,n){const{checksumAddress:r,staticPosition:s}=n,i=$M(e.type);if(i){const[a,o]=i;return S5e(t,{...e,type:o},{checksumAddress:r,length:a,staticPosition:s})}if(e.type==="tuple")return j5e(t,e,{checksumAddress:r,staticPosition:s});if(e.type==="address")return N5e(t,{checksum:r});if(e.type==="bool")return R5e(t);if(e.type.startsWith("bytes"))return M5e(t,e,{staticPosition:s});if(e.type.startsWith("uint")||e.type.startsWith("int"))return P5e(t,e);if(e.type==="string")return D5e(t,{staticPosition:s});throw new BM(e.type)}const ZO=32,zE=32;function N5e(t,e={}){const{checksum:n=!1}=e,r=t.readBytes(32);return[(i=>n?NX(i):i)(po(nEe(r,-20))),32]}function S5e(t,e,n){const{checksumAddress:r,length:s,staticPosition:i}=n;if(!s){const l=ac(t.readBytes(zE)),u=i+l,d=u+ZO;t.setPosition(u);const p=ac(t.readBytes(ZO)),f=O0(e);let h=0;const y=[];for(let m=0;m<p;++m){t.setPosition(d+(f?m*32:h));const[g,v]=gh(t,e,{checksumAddress:r,staticPosition:d});h+=v,y.push(g)}return t.setPosition(i+32),[y,32]}if(O0(e)){const l=ac(t.readBytes(zE)),u=i+l,d=[];for(let p=0;p<s;++p){t.setPosition(u+p*32);const[f]=gh(t,e,{checksumAddress:r,staticPosition:u});d.push(f)}return t.setPosition(i+32),[d,32]}let a=0;const o=[];for(let l=0;l<s;++l){const[u,d]=gh(t,e,{checksumAddress:r,staticPosition:i+a});a+=d,o.push(u)}return[o,a]}function R5e(t){return[sEe(t.readBytes(32),{size:32}),32]}function M5e(t,e,{staticPosition:n}){const[r,s]=e.type.split("bytes");if(!s){const a=ac(t.readBytes(32));t.setPosition(n+a);const o=ac(t.readBytes(32));if(o===0)return t.setPosition(n+32),["0x",32];const l=t.readBytes(o);return t.setPosition(n+32),[po(l),32]}return[po(t.readBytes(Number.parseInt(s,10),32)),32]}function P5e(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256",10),s=t.readBytes(32);return[r>48?rEe(s,{signed:n}):ac(s,{signed:n}),32]}function j5e(t,e,n){const{checksumAddress:r,staticPosition:s}=n,i=e.components.length===0||e.components.some(({name:l})=>!l),a=i?[]:{};let o=0;if(O0(e)){const l=ac(t.readBytes(zE)),u=s+l;for(let d=0;d<e.components.length;++d){const p=e.components[d];t.setPosition(u+o);const[f,h]=gh(t,p,{checksumAddress:r,staticPosition:u});o+=h,a[i?d:p==null?void 0:p.name]=f}return t.setPosition(s+32),[a,32]}for(let l=0;l<e.components.length;++l){const u=e.components[l],[d,p]=gh(t,u,{checksumAddress:r,staticPosition:s});a[i?l:u==null?void 0:u.name]=d,o+=p}return[a,o]}function D5e(t,{staticPosition:e}){const n=ac(t.readBytes(32)),r=e+n;t.setPosition(r);const s=ac(t.readBytes(32));if(s===0)return t.setPosition(e+32),["",32];const i=t.readBytes(s,32),a=iEe(Mq(i));return t.setPosition(e+32),[a,32]}function _5e({checksumAddress:t,parameters:e,values:n}){const r=[];for(let s=0;s<e.length;s++)r.push(LM({checksumAddress:t,parameter:e[s],value:n[s]}));return r}function LM({checksumAddress:t=!1,parameter:e,value:n}){const r=e,s=$M(r.type);if(s){const[i,a]=s;return O5e(n,{checksumAddress:t,length:i,parameter:{...r,type:a}})}if(r.type==="tuple")return z5e(n,{checksumAddress:t,parameter:r});if(r.type==="address")return L5e(n,{checksum:t});if(r.type==="bool")return F5e(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const i=r.type.startsWith("int"),[,,a="256"]=SX.exec(r.type)??[];return B5e(n,{signed:i,size:Number(a)})}if(r.type.startsWith("bytes"))return $5e(n,{type:r.type});if(r.type==="string")return U5e(n);throw new BM(r.type)}function OM(t){let e=0;for(let i=0;i<t.length;i++){const{dynamic:a,encoded:o}=t[i];a?e+=32:e+=zi(o)}const n=[],r=[];let s=0;for(let i=0;i<t.length;i++){const{dynamic:a,encoded:o}=t[i];a?(n.push(Ds(e+s,{size:32})),r.push(o),s+=zi(o)):n.push(o)}return uo(...n,...r)}function L5e(t,e){const{checksum:n=!1}=e;return w2(t,{strict:n}),{dynamic:!1,encoded:Yp(t.toLowerCase())}}function O5e(t,e){const{checksumAddress:n,length:r,parameter:s}=e,i=r===null;if(!Array.isArray(t))throw new Z5e(t);if(!i&&t.length!==r)throw new X5e({expectedLength:r,givenLength:t.length,type:`${s.type}[${r}]`});let a=!1;const o=[];for(let l=0;l<t.length;l++){const u=LM({checksumAddress:n,parameter:s,value:t[l]});u.dynamic&&(a=!0),o.push(u)}if(i||a){const l=OM(o);if(i){const u=Ds(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?uo(u,l):u}}if(a)return{dynamic:!0,encoded:l}}return{dynamic:!1,encoded:uo(...o.map(({encoded:l})=>l))}}function $5e(t,{type:e}){const[,n]=e.split("bytes"),r=zi(t);if(!n){let s=t;return r%32!==0&&(s=qp(s,Math.ceil((t.length-2)/2/32)*32)),{dynamic:!0,encoded:uo(Yp(Ds(r,{size:32})),s)}}if(r!==Number.parseInt(n,10))throw new MX({expectedSize:Number.parseInt(n,10),value:t});return{dynamic:!1,encoded:qp(t)}}function F5e(t){if(typeof t!="boolean")throw new nn(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Yp(Pq(t))}}function B5e(t,{signed:e,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,s=e?-r-1n:0n;if(t>r||t<s)throw new _q({max:r.toString(),min:s.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:Ds(t,{size:32,signed:e})}}function U5e(t){const e=kM(t),n=Math.ceil(zi(e)/32),r=[];for(let s=0;s<n;s++)r.push(qp(nl(e,s*32,(s+1)*32)));return{dynamic:!0,encoded:uo(qp(Ds(zi(e),{size:32})),...r)}}function z5e(t,e){const{checksumAddress:n,parameter:r}=e;let s=!1;const i=[];for(let a=0;a<r.components.length;a++){const o=r.components[a],l=Array.isArray(t)?a:o.name,u=LM({checksumAddress:n,parameter:o,value:t[l]});i.push(u),u.dynamic&&(s=!0)}return{dynamic:s,encoded:s?OM(i):uo(...i.map(({encoded:a})=>a))}}function $M(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function O0(t){var r;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(r=t.components)==null?void 0:r.some(O0);const n=$M(t.type);return!!(n&&O0({...t,type:n[1]}))}const V5e={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new G5e({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new W5e({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new JO({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new JO({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function H5e(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(V5e);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}class JO extends nn{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class W5e extends nn{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class G5e extends nn{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function K5e(t,e,n={}){const{as:r="Array",checksumAddress:s=!1}=n,i=typeof e=="string"?Rq(e):e,a=H5e(i);if(Qf(i)===0&&t.length>0)throw new q5e;if(Qf(i)&&Qf(i)<32)throw new Y5e({data:typeof e=="string"?e:po(e),parameters:t,size:Qf(i)});let o=0;const l=r==="Array"?[]:{};for(let u=0;u<t.length;++u){const d=t[u];a.setPosition(o);const[p,f]=gh(a,d,{checksumAddress:s,staticPosition:0});o+=f,r==="Array"?l.push(p):l[d.name??u]=p}return l}function FM(t,e,n){const{checksumAddress:r=!1}={};if(t.length!==e.length)throw new PX({expectedLength:t.length,givenLength:e.length});const s=_5e({checksumAddress:r,parameters:t,values:e}),i=OM(s);return i.length===0?"0x":i}function VE(t,e){if(t.length!==e.length)throw new PX({expectedLength:t.length,givenLength:e.length});const n=[];for(let r=0;r<t.length;r++){const s=t[r],i=e[r];n.push(VE.encode(s,i))}return uo(...n)}(function(t){function e(n,r,s=!1){if(n==="address"){const l=r;return w2(l),Yp(l.toLowerCase(),s?32:0)}if(n==="string")return kM(r);if(n==="bytes")return r;if(n==="bool")return Yp(Pq(r),s?32:1);const i=n.match(SX);if(i){const[l,u,d="256"]=i,p=Number.parseInt(d,10)/8;return Ds(r,{size:s?32:p,signed:u==="int"})}const a=n.match(E5e);if(a){const[l,u]=a;if(Number.parseInt(u,10)!==(r.length-2)/2)throw new MX({expectedSize:Number.parseInt(u,10),value:r});return qp(r,s?32:0)}const o=n.match(C5e);if(o&&Array.isArray(r)){const[l,u]=o,d=[];for(let p=0;p<r.length;p++)d.push(e(u,r[p],!0));return d.length===0?"0x":uo(...d)}throw new BM(n)}t.encode=e})(VE||(VE={}));function RX(t){return Array.isArray(t)&&typeof t[0]=="string"||typeof t=="string"?YO(t):t}class Y5e extends nn{constructor({data:e,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${Cf(n)})`,`Data:   ${e} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class q5e extends nn{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class X5e extends nn{constructor({expectedLength:e,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${e}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class MX extends nn{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${zi(n)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class PX extends nn{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class Z5e extends nn{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class BM extends nn{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}class jX extends aM{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,eCe(e);const r=i2(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let a=0;a<i.length;a++)i[a]^=54;this.iHash.update(i),this.oHash=e.create();for(let a=0;a<i.length;a++)i[a]^=106;this.oHash.update(i),rm(i)}update(e){return nm(this),this.iHash.update(e),this}digestInto(e){nm(this),Hp(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:a,outputLen:o}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=a,e.outputLen=o,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const DX=(t,e,n)=>new jX(t,e).update(n).digest();DX.create=(t,e)=>new jX(t,e);function _X(t,e={}){const{recovered:n}=e;if(typeof t.r>"u")throw new ik({signature:t});if(typeof t.s>"u")throw new ik({signature:t});if(n&&typeof t.yParity>"u")throw new ik({signature:t});if(t.r<0n||t.r>XO)throw new sSe({value:t.r});if(t.s<0n||t.s>XO)throw new iSe({value:t.s});if(typeof t.yParity=="number"&&t.yParity!==0&&t.yParity!==1)throw new zM({value:t.yParity})}function J5e(t){return LX(po(t))}function LX(t){if(t.length!==130&&t.length!==132)throw new rSe({signature:t});const e=BigInt(nl(t,0,32)),n=BigInt(nl(t,32,64)),r=(()=>{const s=+`0x${t.slice(130)}`;if(!Number.isNaN(s))try{return UM(s)}catch{throw new zM({value:s})}})();return typeof r>"u"?{r:e,s:n}:{r:e,s:n,yParity:r}}function Q5e(t){if(!(typeof t.r>"u")&&!(typeof t.s>"u"))return eSe(t)}function eSe(t){const e=typeof t=="string"?LX(t):t instanceof Uint8Array?J5e(t):typeof t.r=="string"?nSe(t):t.v?tSe(t):{r:t.r,s:t.s,...typeof t.yParity<"u"?{yParity:t.yParity}:{}};return _X(e),e}function tSe(t){return{r:t.r,s:t.s,yParity:UM(t.v)}}function nSe(t){const e=(()=>{const n=t.v?Number(t.v):void 0;let r=t.yParity?Number(t.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=UM(n)),typeof r!="number")throw new zM({value:t.yParity});return r})();return{r:BigInt(t.r),s:BigInt(t.s),yParity:e}}function UM(t){if(t===0||t===27)return 0;if(t===1||t===28)return 1;if(t>=35)return t%2===0?1:0;throw new aSe({value:t})}class rSe extends nn{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${zi(fEe(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class ik extends nn{constructor({signature:e}){super(`Signature \`${Sq(e)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class sSe extends nn{constructor({value:e}){super(`Value \`${e}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class iSe extends nn{constructor({value:e}){super(`Value \`${e}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class zM extends nn{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class aSe extends nn{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function oSe(t,e={}){return typeof t.chainId=="string"?lSe(t):{...t,...e.signature}}function lSe(t){const{address:e,chainId:n,nonce:r}=t,s=Q5e(t);return{address:e,chainId:Number(n),nonce:BigInt(r),...s}}const cSe="0x8010801080108010801080108010801080108010801080108010801080108010",uSe=RX("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function OX(t){if(typeof t=="string"){if(nl(t,-32)!==cSe)throw new fSe(t)}else _X(t.authorization)}function dSe(t){OX(t);const e=Dq(nl(t,-64,-32)),n=nl(t,-e-64,-64),r=nl(t,0,-e-64),[s,i,a]=K5e(uSe,n);return{authorization:oSe({address:s.delegation,chainId:Number(s.chainId),nonce:s.nonce,yParity:s.yParity,r:s.r,s:s.s}),signature:r,...a&&a!=="0x"?{data:a,to:i}:{}}}function pSe(t){try{return OX(t),!0}catch{return!1}}let fSe=class extends nn{constructor(e){super(`Value \`${e}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};function hSe(t){return t.map(e=>({...e,value:BigInt(e.value)}))}function mSe(t){return{...t,balance:t.balance?BigInt(t.balance):void 0,nonce:t.nonce?co(t.nonce):void 0,storageProof:t.storageProof?hSe(t.storageProof):void 0}}async function ySe(t,{address:e,blockNumber:n,blockTag:r,storageKeys:s}){const i=r??"latest",a=n!==void 0?nt(n):void 0,o=await t.request({method:"eth_getProof",params:[e,s,a||i]});return mSe(o)}async function gSe(t,{address:e,blockNumber:n,blockTag:r="latest",slot:s}){const i=n!==void 0?nt(n):void 0;return await t.request({method:"eth_getStorageAt",params:[e,s,i||r]})}async function VM(t,{blockHash:e,blockNumber:n,blockTag:r,hash:s,index:i,sender:a,nonce:o}){var f,h,y;const l=r||"latest",u=n!==void 0?nt(n):void 0;let d=null;if(s?d=await t.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):e?d=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,nt(i)]},{dedupe:!0}):(u||l)&&typeof i=="number"?d=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[u||l,nt(i)]},{dedupe:!!u}):a&&typeof o=="number"&&(d=await t.request({method:"eth_getTransactionBySenderAndNonce",params:[a,nt(o)]},{dedupe:!0})),!d)throw new oq({blockHash:e,blockNumber:n,blockTag:l,hash:s,index:i});return(((y=(h=(f=t.chain)==null?void 0:f.formatters)==null?void 0:h.transaction)==null?void 0:y.format)||yM)(d,"getTransaction")}async function vSe(t,{hash:e,transactionReceipt:n}){const[r,s]=await Promise.all([Xe(t,Fv,"getBlockNumber")({}),e?Xe(t,VM,"getTransaction")({hash:e}):void 0]),i=(n==null?void 0:n.blockNumber)||(s==null?void 0:s.blockNumber);return i?r-i+1n:0n}async function Ww(t,{hash:e}){var s,i,a;const n=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!n)throw new lq({hash:e});return(((a=(i=(s=t.chain)==null?void 0:s.formatters)==null?void 0:i.transactionReceipt)==null?void 0:a.format)||Kq)(n,"getTransactionReceipt")}async function bSe(t,e){var b;const{account:n,authorizationList:r,allowFailure:s=!0,blockNumber:i,blockOverrides:a,blockTag:o,stateOverride:l}=e,u=e.contracts,{batchSize:d=e.batchSize??1024,deployless:p=e.deployless??!1}=typeof((b=t.batch)==null?void 0:b.multicall)=="object"?t.batch.multicall:{},f=(()=>{if(e.multicallAddress)return e.multicallAddress;if(p)return null;if(t.chain)return Hm({blockNumber:i,chain:t.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),h=[[]];let y=0,m=0;for(let w=0;w<u.length;w++){const{abi:A,address:I,args:C,functionName:E}=u[w];try{const N=ke({abi:A,args:C,functionName:E});m+=(N.length-2)/2,d>0&&m>d&&h[y].length>0&&(y++,m=(N.length-2)/2,h[y]=[]),h[y]=[...h[y],{allowFailure:!0,callData:N,target:I}]}catch(N){const _=Kp(N,{abi:A,address:I,args:C,docsPath:"/docs/contract/multicall",functionName:E,sender:n});if(!s)throw _;h[y]=[...h[y],{allowFailure:!0,callData:"0x",target:I}]}}const g=await Promise.allSettled(h.map(w=>Xe(t,fo,"readContract")({...f===null?{code:CM}:{address:f},abi:y1,account:n,args:[w],authorizationList:r,blockNumber:i,blockOverrides:a,blockTag:o,functionName:"aggregate3",stateOverride:l}))),v=[];for(let w=0;w<g.length;w++){const A=g[w];if(A.status==="rejected"){if(!s)throw A.reason;for(let C=0;C<h[w].length;C++)v.push({status:"failure",error:A.reason,result:void 0});continue}const I=A.value;for(let C=0;C<I.length;C++){const{returnData:E,success:N}=I[C],{callData:_}=h[w][C],{abi:U,address:$,functionName:B,args:j}=u[v.length];try{if(_==="0x")throw new Rv;if(!N)throw new c2({data:E});const x=cf({abi:U,args:j,data:E,functionName:B});v.push(s?{result:x,status:"success"}:x)}catch(x){const k=Kp(x,{abi:U,address:$,args:j,docsPath:"/docs/contract/multicall",functionName:B});if(!s)throw k;v.push({error:k,result:void 0,status:"failure"})}}}if(v.length!==u.length)throw new Ce("multicall results mismatch");return v}async function HE(t,e){const{blockNumber:n,blockTag:r=t.experimental_blockTag??"latest",blocks:s,returnFullTransactions:i,traceTransfers:a,validation:o}=e;try{const l=[];for(const f of s){const h=f.blockOverrides?Oq(f.blockOverrides):void 0,y=f.calls.map(g=>{const v=g,b=v.account?Ln(v.account):void 0,w=v.abi?ke(v):v.data,A={...v,account:b,data:v.dataSuffix?ba([w||"0x",v.dataSuffix]):w,from:v.from??(b==null?void 0:b.address)};return Lc(A),wd(A)}),m=f.stateOverrides?hM(f.stateOverrides):void 0;l.push({blockOverrides:h,calls:y,stateOverrides:m})}const d=(typeof n=="bigint"?nt(n):void 0)||r;return(await t.request({method:"eth_simulateV1",params:[{blockStateCalls:l,returnFullTransactions:i,traceTransfers:a,validation:o},d]})).map((f,h)=>({...vq(f),calls:f.calls.map((y,m)=>{var U,$;const{abi:g,args:v,functionName:b,to:w}=s[h].calls[m],A=((U=y.error)==null?void 0:U.data)??y.returnData,I=BigInt(y.gasUsed),C=($=y.logs)==null?void 0:$.map(B=>kc(B)),E=y.status==="0x1"?"success":"failure",N=g&&E==="success"&&A!=="0x"?cf({abi:g,data:A,functionName:b}):null,_=(()=>{var j;if(E==="success")return;let B;if(((j=y.error)==null?void 0:j.data)==="0x"?B=new Rv:y.error&&(B=new c2(y.error)),!!B)return Kp(B,{abi:g??[],address:w??"0x",args:v,functionName:b??"<unknown>"})})();return{data:A,gasUsed:I,logs:C,status:E,...E==="success"?{result:N}:{error:_}}})}))}catch(l){const u=l,d=d2(u,{});throw d instanceof _v?u:d}}function WE(t){let e=!0,n="",r=0,s="",i=!1;for(let a=0;a<t.length;a++){const o=t[a];if(["(",")",","].includes(o)&&(e=!0),o==="("&&r++,o===")"&&r--,!!e){if(r===0){if(o===" "&&["event","function","error",""].includes(s))s="";else if(s+=o,o===")"){i=!0;break}continue}if(o===" "){t[a-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}s+=o,n+=o}}if(!i)throw new nn("Unable to normalize signature.");return s}function GE(t,e){const n=typeof t,r=e.type;switch(r){case"address":return UE(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((s,i)=>GE(Object.values(t)[i],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(s=>GE(s,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function $X(t,e,n){for(const r in t){const s=t[r],i=e[r];if(s.type==="tuple"&&i.type==="tuple"&&"components"in s&&"components"in i)return $X(s.components,i.components,n[r]);const a=[s.type,i.type];if(a.includes("address")&&a.includes("bytes20")?!0:a.includes("address")&&a.includes("string")?UE(n[r],{strict:!1}):a.includes("address")&&a.includes("bytes")?UE(n[r],{strict:!1}):!1)return a}}function FX(t,e={}){const{prepare:n=!0}=e,r=Array.isArray(t)||typeof t=="string"?KO(t):t;return{...r,...n?{hash:eh(r)}:{}}}function x2(t,e,n){const{args:r=[],prepare:s=!0}=n??{},i=hEe(e,{strict:!1}),a=t.filter(u=>i?u.type==="function"||u.type==="error"?BX(u)===nl(e,0,4):u.type==="event"?eh(u)===e:!1:"name"in u&&u.name===e);if(a.length===0)throw new v1({name:e});if(a.length===1)return{...a[0],...s?{hash:eh(a[0])}:{}};let o;for(const u of a){if(!("inputs"in u))continue;if(!r||r.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...s?{hash:eh(u)}:{}};continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==r.length)continue;if(r.every((p,f)=>{const h="inputs"in u&&u.inputs[f];return h?GE(p,h):!1})){if(o&&"inputs"in o&&o.inputs){const p=$X(u.inputs,o.inputs,r);if(p)throw new xSe({abiItem:u,type:p[0]},{abiItem:o,type:p[1]})}o=u}}const l=(()=>{if(o)return o;const[u,...d]=a;return{...u,overloads:d}})();if(!l)throw new v1({name:e});return{...l,...s?{hash:eh(l)}:{}}}function BX(...t){const e=(()=>{if(Array.isArray(t[0])){const[n,r]=t;return x2(n,r)}return t[0]})();return nl(eh(e),0,4)}function wSe(...t){const e=(()=>{if(Array.isArray(t[0])){const[r,s]=t;return x2(r,s)}return t[0]})(),n=typeof e=="string"?e:FE(e);return WE(n)}function eh(...t){const e=(()=>{if(Array.isArray(t[0])){const[n,r]=t;return x2(n,r)}return t[0]})();return typeof e!="string"&&"hash"in e&&e.hash?e.hash:EX(kM(wSe(e)))}class xSe extends nn{constructor(e,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${WE(FE(e.abiItem))}\`, and`,`\`${n.type}\` in \`${WE(FE(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class v1 extends nn{constructor({name:e,data:n,type:r="item"}){const s=e?` with name "${e}"`:n?` with data "${n}"`:"";super(`ABI ${r}${s} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function TSe(...t){var i;const[e,n]=(()=>{if(Array.isArray(t[0])){const[a,o]=t;return[ISe(a),o]}return t})(),{bytecode:r,args:s}=n;return uo(r,(i=e.inputs)!=null&&i.length&&(s!=null&&s.length)?FM(e.inputs,s):"0x")}function ASe(t){return FX(t)}function ISe(t){const e=t.find(n=>n.type==="constructor");if(!e)throw new v1({name:"constructor"});return e}function kSe(...t){const[e,n=[]]=(()=>{if(Array.isArray(t[0])){const[u,d,p]=t;return[QO(u,d,{args:p}),p]}const[o,l]=t;return[o,l]})(),{overloads:r}=e,s=r?QO([e,...r],e.name,{args:n}):e,i=CSe(s),a=n.length>0?FM(s.inputs,n):void 0;return a?uo(i,a):i}function wf(t,e={}){return FX(t,e)}function QO(t,e,n){const r=x2(t,e,n);if(r.type!=="function")throw new v1({name:e,type:"function"});return r}function CSe(t){return BX(t)}const ESe="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",$t="0x0000000000000000000000000000000000000000",NSe="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function SSe(t,e){const{blockNumber:n,blockTag:r,calls:s,stateOverrides:i,traceAssetChanges:a,traceTransfers:o,validation:l}=e,u=e.account?Ln(e.account):void 0;if(a&&!u)throw new Ce("`account` is required when `traceAssetChanges` is true");const d=u?TSe(ASe("constructor(bytes, bytes)"),{bytecode:Uq,args:[NSe,kSe(wf("function getBalance(address)"),[u.address])]}):void 0,p=a?await Promise.all(e.calls.map(async S=>{if(!S.data&&!S.abi)return;const{accessList:L}=await sX(t,{account:u.address,...S,data:S.abi?ke(S):S.data});return L.map(({address:V,storageKeys:F})=>F.length>0?V:null)})).then(S=>S.flat().filter(Boolean)):[],f=await HE(t,{blockNumber:n,blockTag:r,blocks:[...a?[{calls:[{data:d}],stateOverrides:i},{calls:p.map((S,L)=>({abi:[wf("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:S,from:$t,nonce:L})),stateOverrides:[{address:$t,nonce:0}]}]:[],{calls:[...s,{}].map(S=>({...S,from:u==null?void 0:u.address})),stateOverrides:i},...a?[{calls:[{data:d}]},{calls:p.map((S,L)=>({abi:[wf("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:S,from:$t,nonce:L})),stateOverrides:[{address:$t,nonce:0}]},{calls:p.map((S,L)=>({to:S,abi:[wf("function decimals() returns (uint256)")],functionName:"decimals",from:$t,nonce:L})),stateOverrides:[{address:$t,nonce:0}]},{calls:p.map((S,L)=>({to:S,abi:[wf("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:$t,nonce:L})),stateOverrides:[{address:$t,nonce:0}]},{calls:p.map((S,L)=>({to:S,abi:[wf("function symbol() returns (string)")],functionName:"symbol",from:$t,nonce:L})),stateOverrides:[{address:$t,nonce:0}]}]:[]],traceTransfers:o,validation:l}),h=a?f[2]:f[0],[y,m,,g,v,b,w,A]=a?f:[],{calls:I,...C}=h,E=I.slice(0,-1)??[],N=(y==null?void 0:y.calls)??[],_=(m==null?void 0:m.calls)??[],U=[...N,..._].map(S=>S.status==="success"?Ui(S.data):null),$=(g==null?void 0:g.calls)??[],B=(v==null?void 0:v.calls)??[],j=[...$,...B].map(S=>S.status==="success"?Ui(S.data):null),x=((b==null?void 0:b.calls)??[]).map(S=>S.status==="success"?S.result:null),k=((A==null?void 0:A.calls)??[]).map(S=>S.status==="success"?S.result:null),M=((w==null?void 0:w.calls)??[]).map(S=>S.status==="success"?S.result:null),P=[];for(const[S,L]of j.entries()){const V=U[S];if(typeof L!="bigint"||typeof V!="bigint")continue;const F=x[S-1],R=k[S-1],z=M[S-1],Q=S===0?{address:ESe,decimals:18,symbol:"ETH"}:{address:p[S-1],decimals:z||F?Number(F??1):void 0,symbol:R??void 0};P.some(O=>O.token.address===Q.address)||P.push({token:Q,value:{pre:V,post:L,diff:L-V}})}return{assetChanges:P,block:C,results:E}}const UX="0x6492649264926492649264926492649264926492649264926492649264926492";function RSe(t){if(nl(t,-32)!==UX)throw new jSe(t)}function MSe(t){const{data:e,signature:n,to:r}=t;return uo(FM(RX("address, bytes, bytes"),[r,e,n]),UX)}function PSe(t){try{return RSe(t),!0}catch{return!1}}class jSe extends nn{constructor(e){super(`Value \`${e}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const HM=BigInt(0),KE=BigInt(1);function Bv(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function WM(t){if(!Bv(t))throw new Error("Uint8Array expected")}function $0(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function Lb(t){const e=t.toString(16);return e.length&1?"0"+e:e}function zX(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?HM:BigInt("0x"+t)}const VX=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",DSe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function F0(t){if(WM(t),VX)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=DSe[t[n]];return e}const xl={_0:48,_9:57,A:65,F:70,a:97,f:102};function e$(t){if(t>=xl._0&&t<=xl._9)return t-xl._0;if(t>=xl.A&&t<=xl.F)return t-(xl.A-10);if(t>=xl.a&&t<=xl.f)return t-(xl.a-10)}function b1(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(VX)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const a=e$(t.charCodeAt(i)),o=e$(t.charCodeAt(i+1));if(a===void 0||o===void 0){const l=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+i)}r[s]=a*16+o}return r}function kp(t){return zX(F0(t))}function HX(t){return WM(t),zX(F0(Uint8Array.from(t).reverse()))}function Uv(t,e){return b1(t.toString(16).padStart(e*2,"0"))}function WX(t,e){return Uv(t,e).reverse()}function sa(t,e,n){let r;if(typeof e=="string")try{r=b1(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(Bv(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(t+" of length "+n+" expected, got "+s);return r}function w1(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];WM(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}const ak=t=>typeof t=="bigint"&&HM<=t;function GM(t,e,n){return ak(t)&&ak(e)&&ak(n)&&e<=t&&t<n}function vh(t,e,n,r){if(!GM(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function _Se(t){let e;for(e=0;t>HM;t>>=KE,e+=1);return e}const T2=t=>(KE<<BigInt(t))-KE,ok=t=>new Uint8Array(t),t$=t=>Uint8Array.from(t);function LSe(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=ok(t),s=ok(t),i=0;const a=()=>{r.fill(1),s.fill(0),i=0},o=(...p)=>n(s,r,...p),l=(p=ok(0))=>{s=o(t$([0]),p),r=o(),p.length!==0&&(s=o(t$([1]),p),r=o())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let p=0;const f=[];for(;p<e;){r=o();const h=r.slice();f.push(h),p+=r.length}return w1(...f)};return(p,f)=>{a(),l(p);let h;for(;!(h=f(u()));)l();return a(),h}}const OSe={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Bv(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function A2(t,e,n={}){const r=(s,i,a)=>{const o=OSe[i];if(typeof o!="function")throw new Error("invalid validator function");const l=t[s];if(!(a&&l===void 0)&&!o(l,t))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+l)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return t}function n$(t){const e=new WeakMap;return(n,...r)=>{const s=e.get(n);if(s!==void 0)return s;const i=t(n,...r);return e.set(n,i),i}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ci=BigInt(0),Vs=BigInt(1),tp=BigInt(2),$Se=BigInt(3),GX=BigInt(4),KX=BigInt(5),YX=BigInt(8);function ti(t,e){const n=t%e;return n>=ci?n:e+n}function Zi(t,e,n){let r=t;for(;e-- >ci;)r*=r,r%=n;return r}function YE(t,e){if(t===ci)throw new Error("invert: expected non-zero number");if(e<=ci)throw new Error("invert: expected positive modulus, got "+e);let n=ti(t,e),r=e,s=ci,i=Vs;for(;n!==ci;){const o=r/n,l=r%n,u=s-i*o;r=n,n=l,s=i,i=u}if(r!==Vs)throw new Error("invert: does not exist");return ti(s,e)}function qX(t,e){const n=(t.ORDER+Vs)/GX,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function FSe(t,e){const n=(t.ORDER-KX)/YX,r=t.mul(e,tp),s=t.pow(r,n),i=t.mul(e,s),a=t.mul(t.mul(i,tp),s),o=t.mul(i,t.sub(a,t.ONE));if(!t.eql(t.sqr(o),e))throw new Error("Cannot find square root");return o}function BSe(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-Vs,n=0;for(;e%tp===ci;)e/=tp,n++;let r=tp;const s=KM(t);for(;r$(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return qX;let i=s.pow(r,e);const a=(e+Vs)/tp;return function(l,u){if(l.is0(u))return u;if(r$(l,u)!==1)throw new Error("Cannot find square root");let d=n,p=l.mul(l.ONE,i),f=l.pow(u,e),h=l.pow(u,a);for(;!l.eql(f,l.ONE);){if(l.is0(f))return l.ZERO;let y=1,m=l.sqr(f);for(;!l.eql(m,l.ONE);)if(y++,m=l.sqr(m),y===d)throw new Error("Cannot find square root");const g=Vs<<BigInt(d-y-1),v=l.pow(p,g);d=y,p=l.sqr(v),f=l.mul(f,p),h=l.mul(h,v)}return h}}function USe(t){return t%GX===$Se?qX:t%YX===KX?FSe:BSe(t)}const zSe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function VSe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=zSe.reduce((r,s)=>(r[s]="function",r),e);return A2(t,n)}function HSe(t,e,n){if(n<ci)throw new Error("invalid exponent, negatives unsupported");if(n===ci)return t.ONE;if(n===Vs)return e;let r=t.ONE,s=e;for(;n>ci;)n&Vs&&(r=t.mul(r,s)),s=t.sqr(s),n>>=Vs;return r}function XX(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),s=e.reduce((a,o,l)=>t.is0(o)?a:(r[l]=a,t.mul(a,o)),t.ONE),i=t.inv(s);return e.reduceRight((a,o,l)=>t.is0(o)?a:(r[l]=t.mul(a,r[l]),t.mul(a,o)),i),r}function r$(t,e){const n=(t.ORDER-Vs)/tp,r=t.pow(e,n),s=t.eql(r,t.ONE),i=t.eql(r,t.ZERO),a=t.eql(r,t.neg(t.ONE));if(!s&&!i&&!a)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function ZX(t,e){e!==void 0&&y0(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function KM(t,e,n=!1,r={}){if(t<=ci)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:s,nByteLength:i}=ZX(t,e);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let a;const o=Object.freeze({ORDER:t,isLE:n,BITS:s,BYTES:i,MASK:T2(s),ZERO:ci,ONE:Vs,create:l=>ti(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof l);return ci<=l&&l<t},is0:l=>l===ci,isOdd:l=>(l&Vs)===Vs,neg:l=>ti(-l,t),eql:(l,u)=>l===u,sqr:l=>ti(l*l,t),add:(l,u)=>ti(l+u,t),sub:(l,u)=>ti(l-u,t),mul:(l,u)=>ti(l*u,t),pow:(l,u)=>HSe(o,l,u),div:(l,u)=>ti(l*YE(u,t),t),sqrN:l=>l*l,addN:(l,u)=>l+u,subN:(l,u)=>l-u,mulN:(l,u)=>l*u,inv:l=>YE(l,t),sqrt:r.sqrt||(l=>(a||(a=USe(t)),a(o,l))),toBytes:l=>n?WX(l,i):Uv(l,i),fromBytes:l=>{if(l.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+l.length);return n?HX(l):kp(l)},invertBatch:l=>XX(o,l),cmov:(l,u,d)=>d?u:l});return Object.freeze(o)}function JX(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function QX(t){const e=JX(t);return e+Math.ceil(e/2)}function WSe(t,e,n=!1){const r=t.length,s=JX(e),i=QX(e);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const a=n?HX(t):kp(t),o=ti(a,e-Vs)+Vs;return n?WX(o,s):Uv(o,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const s$=BigInt(0),qE=BigInt(1);function lk(t,e){const n=e.negate();return t?n:e}function eZ(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function ck(t,e){eZ(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),s=2**t,i=T2(t),a=BigInt(t);return{windows:n,windowSize:r,mask:i,maxNumber:s,shiftBy:a}}function i$(t,e,n){const{windowSize:r,mask:s,maxNumber:i,shiftBy:a}=n;let o=Number(t&s),l=t>>a;o>r&&(o-=i,l+=qE);const u=e*r,d=u+Math.abs(o)-1,p=o===0,f=o<0,h=e%2!==0;return{nextN:l,offset:d,isZero:p,isNeg:f,isNegF:h,offsetF:u}}function GSe(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function KSe(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const uk=new WeakMap,tZ=new WeakMap;function dk(t){return tZ.get(t)||1}function YSe(t,e){return{constTimeNegate:lk,hasPrecomputes(n){return dk(n)!==1},unsafeLadder(n,r,s=t.ZERO){let i=n;for(;r>s$;)r&qE&&(s=s.add(i)),i=i.double(),r>>=qE;return s},precomputeWindow(n,r){const{windows:s,windowSize:i}=ck(r,e),a=[];let o=n,l=o;for(let u=0;u<s;u++){l=o,a.push(l);for(let d=1;d<i;d++)l=l.add(o),a.push(l);o=l.double()}return a},wNAF(n,r,s){let i=t.ZERO,a=t.BASE;const o=ck(n,e);for(let l=0;l<o.windows;l++){const{nextN:u,offset:d,isZero:p,isNeg:f,isNegF:h,offsetF:y}=i$(s,l,o);s=u,p?a=a.add(lk(h,r[y])):i=i.add(lk(f,r[d]))}return{p:i,f:a}},wNAFUnsafe(n,r,s,i=t.ZERO){const a=ck(n,e);for(let o=0;o<a.windows&&s!==s$;o++){const{nextN:l,offset:u,isZero:d,isNeg:p}=i$(s,o,a);if(s=l,!d){const f=r[u];i=i.add(p?f.negate():f)}}return i},getPrecomputes(n,r,s){let i=uk.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&uk.set(r,s(i))),i},wNAFCached(n,r,s){const i=dk(n);return this.wNAF(i,this.getPrecomputes(i,n,s),r)},wNAFCachedUnsafe(n,r,s,i){const a=dk(n);return a===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(a,this.getPrecomputes(a,n,s),r,i)},setWindowSize(n,r){eZ(r,e),tZ.set(n,r),uk.delete(n)}}}function qSe(t,e,n,r){GSe(n,t),KSe(r,e);const s=n.length,i=r.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const a=t.ZERO,o=_Se(BigInt(s));let l=1;o>12?l=o-3:o>4?l=o-2:o>0&&(l=2);const u=T2(l),d=new Array(Number(u)+1).fill(a),p=Math.floor((e.BITS-1)/l)*l;let f=a;for(let h=p;h>=0;h-=l){d.fill(a);for(let m=0;m<i;m++){const g=r[m],v=Number(g>>BigInt(h)&u);d[v]=d[v].add(n[m])}let y=a;for(let m=d.length-1,g=a;m>0;m--)g=g.add(d[m]),y=y.add(g);if(f=f.add(y),h!==0)for(let m=0;m<l;m++)f=f.double()}return f}function nZ(t){return VSe(t.Fp),A2(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...ZX(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function a$(t){t.lowS!==void 0&&$0("lowS",t.lowS),t.prehash!==void 0&&$0("prehash",t.prehash)}function XSe(t){const e=nZ(t);A2(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:s}=e;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}class ZSe extends Error{constructor(e=""){super(e)}}const _l={Err:ZSe,_tlv:{encode:(t,e)=>{const{Err:n}=_l;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,s=Lb(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?Lb(s.length/2|128):"";return Lb(t)+i+s+e},decode(t,e){const{Err:n}=_l;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const s=e[r++],i=!!(s&128);let a=0;if(!i)a=s;else{const l=s&127;if(!l)throw new n("tlv.decode(long): indefinite length not supported");if(l>4)throw new n("tlv.decode(long): byte length is too big");const u=e.subarray(r,r+l);if(u.length!==l)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const d of u)a=a<<8|d;if(r+=l,a<128)throw new n("tlv.decode(long): not minimal encoding")}const o=e.subarray(r,r+a);if(o.length!==a)throw new n("tlv.decode: wrong value length");return{v:o,l:e.subarray(r+a)}}},_int:{encode(t){const{Err:e}=_l;if(t<zl)throw new e("integer: negative integers are not allowed");let n=Lb(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=_l;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return kp(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=_l,s=sa("signature",t),{v:i,l:a}=r.decode(48,s);if(a.length)throw new e("invalid signature: left bytes after parsing");const{v:o,l}=r.decode(2,i),{v:u,l:d}=r.decode(2,l);if(d.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(o),s:n.decode(u)}},hexFromSig(t){const{_tlv:e,_int:n}=_l,r=e.encode(2,n.encode(t.r)),s=e.encode(2,n.encode(t.s)),i=r+s;return e.encode(48,i)}};function pk(t,e){return F0(Uv(t,e))}const zl=BigInt(0),Lr=BigInt(1);BigInt(2);const fk=BigInt(3),JSe=BigInt(4);function QSe(t){const e=XSe(t),{Fp:n}=e,r=KM(e.n,e.nBitLength),s=e.toBytes||((w,A,I)=>{const C=A.toAffine();return w1(Uint8Array.from([4]),n.toBytes(C.x),n.toBytes(C.y))}),i=e.fromBytes||(w=>{const A=w.subarray(1),I=n.fromBytes(A.subarray(0,n.BYTES)),C=n.fromBytes(A.subarray(n.BYTES,2*n.BYTES));return{x:I,y:C}});function a(w){const{a:A,b:I}=e,C=n.sqr(w),E=n.mul(C,w);return n.add(n.add(E,n.mul(w,A)),I)}function o(w,A){const I=n.sqr(A),C=a(w);return n.eql(I,C)}if(!o(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const l=n.mul(n.pow(e.a,fk),JSe),u=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(l,u)))throw new Error("bad curve params: a or b");function d(w){return GM(w,Lr,e.n)}function p(w){const{allowedPrivateKeyLengths:A,nByteLength:I,wrapPrivateKey:C,n:E}=e;if(A&&typeof w!="bigint"){if(Bv(w)&&(w=F0(w)),typeof w!="string"||!A.includes(w.length))throw new Error("invalid private key");w=w.padStart(I*2,"0")}let N;try{N=typeof w=="bigint"?w:kp(sa("private key",w,I))}catch{throw new Error("invalid private key, expected hex or "+I+" bytes, got "+typeof w)}return C&&(N=ti(N,E)),vh("private key",N,Lr,E),N}function f(w){if(!(w instanceof m))throw new Error("ProjectivePoint expected")}const h=n$((w,A)=>{const{px:I,py:C,pz:E}=w;if(n.eql(E,n.ONE))return{x:I,y:C};const N=w.is0();A==null&&(A=N?n.ONE:n.inv(E));const _=n.mul(I,A),U=n.mul(C,A),$=n.mul(E,A);if(N)return{x:n.ZERO,y:n.ZERO};if(!n.eql($,n.ONE))throw new Error("invZ was invalid");return{x:_,y:U}}),y=n$(w=>{if(w.is0()){if(e.allowInfinityPoint&&!n.is0(w.py))return;throw new Error("bad point: ZERO")}const{x:A,y:I}=w.toAffine();if(!n.isValid(A)||!n.isValid(I))throw new Error("bad point: x or y not FE");if(!o(A,I))throw new Error("bad point: equation left != right");if(!w.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class m{constructor(A,I,C){if(A==null||!n.isValid(A))throw new Error("x required");if(I==null||!n.isValid(I)||n.is0(I))throw new Error("y required");if(C==null||!n.isValid(C))throw new Error("z required");this.px=A,this.py=I,this.pz=C,Object.freeze(this)}static fromAffine(A){const{x:I,y:C}=A||{};if(!A||!n.isValid(I)||!n.isValid(C))throw new Error("invalid affine point");if(A instanceof m)throw new Error("projective point not allowed");const E=N=>n.eql(N,n.ZERO);return E(I)&&E(C)?m.ZERO:new m(I,C,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(A){const I=XX(n,A.map(C=>C.pz));return A.map((C,E)=>C.toAffine(I[E])).map(m.fromAffine)}static fromHex(A){const I=m.fromAffine(i(sa("pointHex",A)));return I.assertValidity(),I}static fromPrivateKey(A){return m.BASE.multiply(p(A))}static msm(A,I){return qSe(m,r,A,I)}_setWindowSize(A){b.setWindowSize(this,A)}assertValidity(){y(this)}hasEvenY(){const{y:A}=this.toAffine();if(n.isOdd)return!n.isOdd(A);throw new Error("Field doesn't support isOdd")}equals(A){f(A);const{px:I,py:C,pz:E}=this,{px:N,py:_,pz:U}=A,$=n.eql(n.mul(I,U),n.mul(N,E)),B=n.eql(n.mul(C,U),n.mul(_,E));return $&&B}negate(){return new m(this.px,n.neg(this.py),this.pz)}double(){const{a:A,b:I}=e,C=n.mul(I,fk),{px:E,py:N,pz:_}=this;let U=n.ZERO,$=n.ZERO,B=n.ZERO,j=n.mul(E,E),x=n.mul(N,N),k=n.mul(_,_),M=n.mul(E,N);return M=n.add(M,M),B=n.mul(E,_),B=n.add(B,B),U=n.mul(A,B),$=n.mul(C,k),$=n.add(U,$),U=n.sub(x,$),$=n.add(x,$),$=n.mul(U,$),U=n.mul(M,U),B=n.mul(C,B),k=n.mul(A,k),M=n.sub(j,k),M=n.mul(A,M),M=n.add(M,B),B=n.add(j,j),j=n.add(B,j),j=n.add(j,k),j=n.mul(j,M),$=n.add($,j),k=n.mul(N,_),k=n.add(k,k),j=n.mul(k,M),U=n.sub(U,j),B=n.mul(k,x),B=n.add(B,B),B=n.add(B,B),new m(U,$,B)}add(A){f(A);const{px:I,py:C,pz:E}=this,{px:N,py:_,pz:U}=A;let $=n.ZERO,B=n.ZERO,j=n.ZERO;const x=e.a,k=n.mul(e.b,fk);let M=n.mul(I,N),P=n.mul(C,_),S=n.mul(E,U),L=n.add(I,C),V=n.add(N,_);L=n.mul(L,V),V=n.add(M,P),L=n.sub(L,V),V=n.add(I,E);let F=n.add(N,U);return V=n.mul(V,F),F=n.add(M,S),V=n.sub(V,F),F=n.add(C,E),$=n.add(_,U),F=n.mul(F,$),$=n.add(P,S),F=n.sub(F,$),j=n.mul(x,V),$=n.mul(k,S),j=n.add($,j),$=n.sub(P,j),j=n.add(P,j),B=n.mul($,j),P=n.add(M,M),P=n.add(P,M),S=n.mul(x,S),V=n.mul(k,V),P=n.add(P,S),S=n.sub(M,S),S=n.mul(x,S),V=n.add(V,S),M=n.mul(P,V),B=n.add(B,M),M=n.mul(F,V),$=n.mul(L,$),$=n.sub($,M),M=n.mul(L,P),j=n.mul(F,j),j=n.add(j,M),new m($,B,j)}subtract(A){return this.add(A.negate())}is0(){return this.equals(m.ZERO)}wNAF(A){return b.wNAFCached(this,A,m.normalizeZ)}multiplyUnsafe(A){const{endo:I,n:C}=e;vh("scalar",A,zl,C);const E=m.ZERO;if(A===zl)return E;if(this.is0()||A===Lr)return this;if(!I||b.hasPrecomputes(this))return b.wNAFCachedUnsafe(this,A,m.normalizeZ);let{k1neg:N,k1:_,k2neg:U,k2:$}=I.splitScalar(A),B=E,j=E,x=this;for(;_>zl||$>zl;)_&Lr&&(B=B.add(x)),$&Lr&&(j=j.add(x)),x=x.double(),_>>=Lr,$>>=Lr;return N&&(B=B.negate()),U&&(j=j.negate()),j=new m(n.mul(j.px,I.beta),j.py,j.pz),B.add(j)}multiply(A){const{endo:I,n:C}=e;vh("scalar",A,Lr,C);let E,N;if(I){const{k1neg:_,k1:U,k2neg:$,k2:B}=I.splitScalar(A);let{p:j,f:x}=this.wNAF(U),{p:k,f:M}=this.wNAF(B);j=b.constTimeNegate(_,j),k=b.constTimeNegate($,k),k=new m(n.mul(k.px,I.beta),k.py,k.pz),E=j.add(k),N=x.add(M)}else{const{p:_,f:U}=this.wNAF(A);E=_,N=U}return m.normalizeZ([E,N])[0]}multiplyAndAddUnsafe(A,I,C){const E=m.BASE,N=(U,$)=>$===zl||$===Lr||!U.equals(E)?U.multiplyUnsafe($):U.multiply($),_=N(this,I).add(N(A,C));return _.is0()?void 0:_}toAffine(A){return h(this,A)}isTorsionFree(){const{h:A,isTorsionFree:I}=e;if(A===Lr)return!0;if(I)return I(m,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:A,clearCofactor:I}=e;return A===Lr?this:I?I(m,this):this.multiplyUnsafe(e.h)}toRawBytes(A=!0){return $0("isCompressed",A),this.assertValidity(),s(m,this,A)}toHex(A=!0){return $0("isCompressed",A),F0(this.toRawBytes(A))}}m.BASE=new m(e.Gx,e.Gy,n.ONE),m.ZERO=new m(n.ZERO,n.ONE,n.ZERO);const{endo:g,nBitLength:v}=e,b=YSe(m,g?Math.ceil(v/2):v);return{CURVE:e,ProjectivePoint:m,normPrivateKeyToScalar:p,weierstrassEquation:a,isWithinCurveOrder:d}}function eRe(t){const e=nZ(t);return A2(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function tRe(t){const e=eRe(t),{Fp:n,n:r,nByteLength:s,nBitLength:i}=e,a=n.BYTES+1,o=2*n.BYTES+1;function l(k){return ti(k,r)}function u(k){return YE(k,r)}const{ProjectivePoint:d,normPrivateKeyToScalar:p,weierstrassEquation:f,isWithinCurveOrder:h}=QSe({...e,toBytes(k,M,P){const S=M.toAffine(),L=n.toBytes(S.x),V=w1;return $0("isCompressed",P),P?V(Uint8Array.from([M.hasEvenY()?2:3]),L):V(Uint8Array.from([4]),L,n.toBytes(S.y))},fromBytes(k){const M=k.length,P=k[0],S=k.subarray(1);if(M===a&&(P===2||P===3)){const L=kp(S);if(!GM(L,Lr,n.ORDER))throw new Error("Point is not on curve");const V=f(L);let F;try{F=n.sqrt(V)}catch(Q){const O=Q instanceof Error?": "+Q.message:"";throw new Error("Point is not on curve"+O)}const R=(F&Lr)===Lr;return(P&1)===1!==R&&(F=n.neg(F)),{x:L,y:F}}else if(M===o&&P===4){const L=n.fromBytes(S.subarray(0,n.BYTES)),V=n.fromBytes(S.subarray(n.BYTES,2*n.BYTES));return{x:L,y:V}}else{const L=a,V=o;throw new Error("invalid Point, expected length of "+L+", or uncompressed "+V+", got "+M)}}});function y(k){const M=r>>Lr;return k>M}function m(k){return y(k)?l(-k):k}const g=(k,M,P)=>kp(k.slice(M,P));class v{constructor(M,P,S){vh("r",M,Lr,r),vh("s",P,Lr,r),this.r=M,this.s=P,S!=null&&(this.recovery=S),Object.freeze(this)}static fromCompact(M){const P=s;return M=sa("compactSignature",M,P*2),new v(g(M,0,P),g(M,P,2*P))}static fromDER(M){const{r:P,s:S}=_l.toSig(sa("DER",M));return new v(P,S)}assertValidity(){}addRecoveryBit(M){return new v(this.r,this.s,M)}recoverPublicKey(M){const{r:P,s:S,recovery:L}=this,V=E(sa("msgHash",M));if(L==null||![0,1,2,3].includes(L))throw new Error("recovery id invalid");const F=L===2||L===3?P+e.n:P;if(F>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const R=L&1?"03":"02",z=d.fromHex(R+pk(F,n.BYTES)),Q=u(F),O=l(-V*Q),H=l(S*Q),Y=d.BASE.multiplyAndAddUnsafe(z,O,H);if(!Y)throw new Error("point at infinify");return Y.assertValidity(),Y}hasHighS(){return y(this.s)}normalizeS(){return this.hasHighS()?new v(this.r,l(-this.s),this.recovery):this}toDERRawBytes(){return b1(this.toDERHex())}toDERHex(){return _l.hexFromSig(this)}toCompactRawBytes(){return b1(this.toCompactHex())}toCompactHex(){const M=s;return pk(this.r,M)+pk(this.s,M)}}const b={isValidPrivateKey(k){try{return p(k),!0}catch{return!1}},normPrivateKeyToScalar:p,randomPrivateKey:()=>{const k=QX(e.n);return WSe(e.randomBytes(k),e.n)},precompute(k=8,M=d.BASE){return M._setWindowSize(k),M.multiply(BigInt(3)),M}};function w(k,M=!0){return d.fromPrivateKey(k).toRawBytes(M)}function A(k){if(typeof k=="bigint")return!1;if(k instanceof d)return!0;const P=sa("key",k).length,S=n.BYTES,L=S+1,V=2*S+1;if(!(e.allowedPrivateKeyLengths||s===L))return P===L||P===V}function I(k,M,P=!0){if(A(k)===!0)throw new Error("first arg must be private key");if(A(M)===!1)throw new Error("second arg must be public key");return d.fromHex(M).multiply(p(k)).toRawBytes(P)}const C=e.bits2int||function(k){if(k.length>8192)throw new Error("input is too large");const M=kp(k),P=k.length*8-i;return P>0?M>>BigInt(P):M},E=e.bits2int_modN||function(k){return l(C(k))},N=T2(i);function _(k){return vh("num < 2^"+i,k,zl,N),Uv(k,s)}function U(k,M,P=$){if(["recovered","canonical"].some(Z=>Z in P))throw new Error("sign() legacy options not supported");const{hash:S,randomBytes:L}=e;let{lowS:V,prehash:F,extraEntropy:R}=P;V==null&&(V=!0),k=sa("msgHash",k),a$(P),F&&(k=sa("prehashed msgHash",S(k)));const z=E(k),Q=p(M),O=[_(Q),_(z)];if(R!=null&&R!==!1){const Z=R===!0?L(n.BYTES):R;O.push(sa("extraEntropy",Z))}const H=w1(...O),Y=z;function G(Z){const te=C(Z);if(!h(te))return;const q=u(te),ne=d.BASE.multiply(te).toAffine(),Re=l(ne.x);if(Re===zl)return;const se=l(q*l(Y+Re*Q));if(se===zl)return;let ve=(ne.x===Re?0:2)|Number(ne.y&Lr),We=se;return V&&y(se)&&(We=m(se),ve^=1),new v(Re,We,ve)}return{seed:H,k2sig:G}}const $={lowS:e.lowS,prehash:!1},B={lowS:e.lowS,prehash:!1};function j(k,M,P=$){const{seed:S,k2sig:L}=U(k,M,P),V=e;return LSe(V.hash.outputLen,V.nByteLength,V.hmac)(S,L)}d.BASE._setWindowSize(8);function x(k,M,P,S=B){var ve;const L=k;M=sa("msgHash",M),P=sa("publicKey",P);const{lowS:V,prehash:F,format:R}=S;if(a$(S),"strict"in S)throw new Error("options.strict was renamed to lowS");if(R!==void 0&&R!=="compact"&&R!=="der")throw new Error("format must be compact or der");const z=typeof L=="string"||Bv(L),Q=!z&&!R&&typeof L=="object"&&L!==null&&typeof L.r=="bigint"&&typeof L.s=="bigint";if(!z&&!Q)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let O,H;try{if(Q&&(O=new v(L.r,L.s)),z){try{R!=="compact"&&(O=v.fromDER(L))}catch(We){if(!(We instanceof _l.Err))throw We}!O&&R!=="der"&&(O=v.fromCompact(L))}H=d.fromHex(P)}catch{return!1}if(!O||V&&O.hasHighS())return!1;F&&(M=e.hash(M));const{r:Y,s:G}=O,Z=E(M),te=u(G),q=l(Z*te),ne=l(Y*te),Re=(ve=d.BASE.multiplyAndAddUnsafe(H,q,ne))==null?void 0:ve.toAffine();return Re?l(Re.x)===Y:!1}return{CURVE:e,getPublicKey:w,getSharedSecret:I,sign:j,verify:x,ProjectivePoint:d,Signature:v,utils:b}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function nRe(t){return{hash:t,hmac:(e,...n)=>DX(t,e,aCe(...n)),randomBytes:oCe}}function rRe(t,e){const n=r=>tRe({...t,...nRe(r)});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const rZ=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),o$=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),sRe=BigInt(0),iRe=BigInt(1),XE=BigInt(2),l$=(t,e)=>(t+e/XE)/e;function aRe(t){const e=rZ,n=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),a=BigInt(23),o=BigInt(44),l=BigInt(88),u=t*t*t%e,d=u*u*t%e,p=Zi(d,n,e)*d%e,f=Zi(p,n,e)*d%e,h=Zi(f,XE,e)*u%e,y=Zi(h,s,e)*h%e,m=Zi(y,i,e)*y%e,g=Zi(m,o,e)*m%e,v=Zi(g,l,e)*g%e,b=Zi(v,o,e)*m%e,w=Zi(b,n,e)*d%e,A=Zi(w,a,e)*y%e,I=Zi(A,r,e)*u%e,C=Zi(I,XE,e);if(!ZE.eql(ZE.sqr(C),t))throw new Error("Cannot find square root");return C}const ZE=KM(rZ,void 0,void 0,{sqrt:aRe}),sZ=rRe({a:sRe,b:BigInt(7),Fp:ZE,n:o$,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=o$,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-iRe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,a=BigInt("0x100000000000000000000000000000000"),o=l$(i*t,e),l=l$(-r*t,e);let u=ti(t-o*n-l*s,e),d=ti(-o*r-l*i,e);const p=u>a,f=d>a;if(p&&(u=e-u),f&&(d=e-d),u>a||d>a)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:p,k1:u,k2neg:f,k2:d}}}},Tq),oRe=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:sZ},Symbol.toStringTag,{value:"Module"}));function lRe({r:t,s:e,to:n="hex",v:r,yParity:s}){const i=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),a=`0x${new sZ.Signature(Ui(t),Ui(e)).toCompactHex()}${i===0?"1b":"1c"}`;return n==="hex"?a:hl(a)}async function I2(t,e){var o,l,u,d,p,f;const{address:n,hash:r,erc6492VerifierAddress:s=e.universalSignatureVerifierAddress??((u=(l=(o=t.chain)==null?void 0:o.contracts)==null?void 0:l.erc6492Verifier)==null?void 0:u.address),multicallAddress:i=e.multicallAddress??((f=(p=(d=t.chain)==null?void 0:d.contracts)==null?void 0:p.multicall3)==null?void 0:f.address)}=e,a=(()=>{const h=e.signature;return fl(h)?h:typeof h=="object"&&"r"in h&&"s"in h?lRe(h):jr(h)})();try{return pSe(a)?await cRe(t,{...e,multicallAddress:i,signature:a}):await uRe(t,{...e,verifierAddress:s,signature:a})}catch(h){try{if(Ov(Qd(n),await pq({hash:r,signature:a})))return!0}catch{}if(h instanceof Xp)return!1;throw h}}async function cRe(t,e){var g;const{address:n,blockNumber:r,blockTag:s,hash:i,multicallAddress:a}=e,{authorization:o,data:l,signature:u,to:d}=dSe(e.signature);if(await LE(t,{address:n,blockNumber:r,blockTag:s})===zm(["0xef0100",o.address]))return await dRe(t,{address:n,blockNumber:r,blockTag:s,hash:i,signature:u});const f={address:o.address,chainId:Number(o.chainId),nonce:Number(o.nonce),r:nt(o.r,{size:32}),s:nt(o.s,{size:32}),yParity:o.yParity};if(!await gNe({address:n,authorization:f}))throw new Xp;const y=await Xe(t,fo,"readContract")({...a?{address:a}:{code:CM},authorizationList:[f],abi:y1,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...l?[{allowFailure:!0,target:d??n,callData:l}]:[],{allowFailure:!0,target:n,callData:ke({abi:Bq,functionName:"isValidSignature",args:[i,u]})}]]}),m=(g=y[y.length-1])==null?void 0:g.returnData;if(m!=null&&m.startsWith("0x1626ba7e"))return!0;throw new Xp}async function uRe(t,e){const{address:n,factory:r,factoryData:s,hash:i,signature:a,verifierAddress:o,...l}=e,u=await(async()=>!r&&!s||PSe(a)?a:MSe({data:s,signature:a,to:r}))(),d=o?{to:o,data:ke({abi:FO,functionName:"isValidSig",args:[n,i,u]}),...l}:{data:h2({abi:FO,args:[n,i,u],bytecode:TEe}),...l},{data:p}=await Xe(t,m2,"call")(d).catch(f=>{throw f instanceof uq?new Xp:f});if(Uke(p??"0x0"))return!0;throw new Xp}async function dRe(t,e){const{address:n,blockNumber:r,blockTag:s,hash:i,signature:a}=e;if((await Xe(t,fo,"readContract")({address:n,abi:Bq,args:[i,a],blockNumber:r,blockTag:s,functionName:"isValidSignature"}).catch(l=>{throw l instanceof dq?new Xp:l})).startsWith("0x1626ba7e"))return!0;throw new Xp}class Xp extends Error{}async function pRe(t,{address:e,message:n,factory:r,factoryData:s,signature:i,...a}){const o=lX(n);return Xe(t,I2,"verifyHash")({address:e,factory:r,factoryData:s,hash:o,signature:i,...a})}async function fRe(t,e){const{address:n,factory:r,factoryData:s,signature:i,message:a,primaryType:o,types:l,domain:u,...d}=e,p=RNe({message:a,primaryType:o,types:l,domain:u});return Xe(t,I2,"verifyHash")({address:n,factory:r,factoryData:s,hash:p,signature:i,...d})}function iZ(t,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:i,pollingInterval:a=t.pollingInterval}){const o=typeof i<"u"?i:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc"));let l;return o?(()=>{const p=Mr(["watchBlockNumber",t.uid,e,n,a]);return Cc(p,{onBlockNumber:r,onError:s},f=>Wm(async()=>{var h;try{const y=await Xe(t,Fv,"getBlockNumber")({cacheTime:0});if(l!==void 0){if(y===l)return;if(y-l>1&&n)for(let m=l+1n;m<y;m++)f.onBlockNumber(m,l),l=m}(l===void 0||y>l)&&(f.onBlockNumber(y,l),l=y)}catch(y){(h=f.onError)==null||h.call(f,y)}},{emitOnBegin:e,interval:a}))})():(()=>{const p=Mr(["watchBlockNumber",t.uid,e,n]);return Cc(p,{onBlockNumber:r,onError:s},f=>{let h=!0,y=()=>h=!1;return(async()=>{try{const m=(()=>{if(t.transport.type==="fallback"){const v=t.transport.transports.find(b=>b.config.type==="webSocket"||b.config.type==="ipc");return v?v.value:t.transport}return t.transport})(),{unsubscribe:g}=await m.subscribe({params:["newHeads"],onData(v){var w;if(!h)return;const b=Ui((w=v.result)==null?void 0:w.number);f.onBlockNumber(b,l),l=b},onError(v){var b;(b=f.onError)==null||b.call(f,v)}});y=g,h||y()}catch(m){s==null||s(m)}})(),()=>y()})})()}async function aZ(t,e){const{checkReplacement:n=!0,confirmations:r=1,hash:s,onReplaced:i,retryCount:a=6,retryDelay:o=({count:I})=>~~(1<<I)*200,timeout:l=18e4}=e,u=Mr(["waitForTransactionReceipt",t.uid,s]),d=(()=>{var I;return e.pollingInterval?e.pollingInterval:(I=t.chain)!=null&&I.experimental_preconfirmationTime?t.chain.experimental_preconfirmationTime:t.pollingInterval})();let p,f,h,y=!1,m,g;const{promise:v,resolve:b,reject:w}=EM(),A=l?setTimeout(()=>{g==null||g(),m==null||m(),w(new t6e({hash:s}))},l):void 0;return m=Cc(u,{onReplaced:i,resolve:b,reject:w},async I=>{if(h=await Xe(t,Ww,"getTransactionReceipt")({hash:s}).catch(()=>{}),h&&r<=1){clearTimeout(A),I.resolve(h),m==null||m();return}g=Xe(t,iZ,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:d,async onBlockNumber(C){const E=_=>{clearTimeout(A),g==null||g(),_(),m==null||m()};let N=C;if(!y)try{if(h){if(r>1&&(!h.blockNumber||N-h.blockNumber+1n<r))return;E(()=>I.resolve(h));return}if(n&&!p&&(y=!0,await L0(async()=>{p=await Xe(t,VM,"getTransaction")({hash:s}),p.blockNumber&&(N=p.blockNumber)},{delay:o,retryCount:a}),y=!1),h=await Xe(t,Ww,"getTransactionReceipt")({hash:s}),r>1&&(!h.blockNumber||N-h.blockNumber+1n<r))return;E(()=>I.resolve(h))}catch(_){if(_ instanceof oq||_ instanceof lq){if(!p){y=!1;return}try{f=p,y=!0;const U=await L0(()=>Xe(t,Ya,"getBlock")({blockNumber:N,includeTransactions:!0}),{delay:o,retryCount:a,shouldRetry:({error:j})=>j instanceof yq});y=!1;const $=U.transactions.find(({from:j,nonce:x})=>j===f.from&&x===f.nonce);if(!$||(h=await Xe(t,Ww,"getTransactionReceipt")({hash:$.hash}),r>1&&(!h.blockNumber||N-h.blockNumber+1n<r)))return;let B="replaced";$.to===f.to&&$.value===f.value&&$.input===f.input?B="repriced":$.from===$.to&&$.value===0n&&(B="cancelled"),E(()=>{var j;(j=I.onReplaced)==null||j.call(I,{reason:B,replacedTransaction:f,transaction:$,transactionReceipt:h}),I.resolve(h)})}catch(U){E(()=>I.reject(U))}}else E(()=>I.reject(_))}}})}),v}function hRe(t,{blockTag:e=t.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:i,includeTransactions:a,poll:o,pollingInterval:l=t.pollingInterval}){const u=typeof o<"u"?o:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),d=a??!1;let p;return u?(()=>{const y=Mr(["watchBlocks",t.uid,e,n,r,d,l]);return Cc(y,{onBlock:s,onError:i},m=>Wm(async()=>{var g;try{const v=await Xe(t,Ya,"getBlock")({blockTag:e,includeTransactions:d});if(v.number!==null&&(p==null?void 0:p.number)!=null){if(v.number===p.number)return;if(v.number-p.number>1&&n)for(let b=(p==null?void 0:p.number)+1n;b<v.number;b++){const w=await Xe(t,Ya,"getBlock")({blockNumber:b,includeTransactions:d});m.onBlock(w,p),p=w}}((p==null?void 0:p.number)==null||e==="pending"&&(v==null?void 0:v.number)==null||v.number!==null&&v.number>p.number)&&(m.onBlock(v,p),p=v)}catch(v){(g=m.onError)==null||g.call(m,v)}},{emitOnBegin:r,interval:l}))})():(()=>{let y=!0,m=!0,g=()=>y=!1;return(async()=>{try{r&&Xe(t,Ya,"getBlock")({blockTag:e,includeTransactions:d}).then(w=>{y&&m&&(s(w,void 0),m=!1)}).catch(i);const v=(()=>{if(t.transport.type==="fallback"){const w=t.transport.transports.find(A=>A.config.type==="webSocket"||A.config.type==="ipc");return w?w.value:t.transport}return t.transport})(),{unsubscribe:b}=await v.subscribe({params:["newHeads"],async onData(w){var I;if(!y)return;const A=await Xe(t,Ya,"getBlock")({blockNumber:(I=w.result)==null?void 0:I.number,includeTransactions:d}).catch(()=>{});y&&(s(A,p),m=!1,p=A)},onError(w){i==null||i(w)}});g=b,y||g()}catch(v){i==null||i(v)}})(),()=>g()})()}function mRe(t,{address:e,args:n,batch:r=!0,event:s,events:i,fromBlock:a,onError:o,onLogs:l,poll:u,pollingInterval:d=t.pollingInterval,strict:p}){const f=typeof u<"u"?u:typeof a=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),h=p??!1;return f?(()=>{const g=Mr(["watchEvent",e,n,r,t.uid,s,d,a]);return Cc(g,{onLogs:l,onError:o},v=>{let b;a!==void 0&&(b=a-1n);let w,A=!1;const I=Wm(async()=>{var C;if(!A){try{w=await Xe(t,iX,"createEventFilter")({address:e,args:n,event:s,events:i,strict:h,fromBlock:a})}catch{}A=!0;return}try{let E;if(w)E=await Xe(t,y2,"getFilterChanges")({filter:w});else{const N=await Xe(t,Fv,"getBlockNumber")({});b&&b!==N?E=await Xe(t,IM,"getLogs")({address:e,args:n,event:s,events:i,fromBlock:b+1n,toBlock:N}):E=[],b=N}if(E.length===0)return;if(r)v.onLogs(E);else for(const N of E)v.onLogs([N])}catch(E){w&&E instanceof od&&(A=!1),(C=v.onError)==null||C.call(v,E)}},{emitOnBegin:!0,interval:d});return async()=>{w&&await Xe(t,g2,"uninstallFilter")({filter:w}),I()}})})():(()=>{let g=!0,v=()=>g=!1;return(async()=>{try{const b=(()=>{if(t.transport.type==="fallback"){const C=t.transport.transports.find(E=>E.config.type==="webSocket"||E.config.type==="ipc");return C?C.value:t.transport}return t.transport})(),w=i??(s?[s]:void 0);let A=[];w&&(A=[w.flatMap(E=>Pv({abi:[E],eventName:E.name,args:n}))],s&&(A=A[0]));const{unsubscribe:I}=await b.subscribe({params:["logs",{address:e,topics:A}],onData(C){var N;if(!g)return;const E=C.result;try{const{eventName:_,args:U}=cn({abi:w??[],data:E.data,topics:E.topics,strict:h}),$=kc(E,{args:U,eventName:_});l([$])}catch(_){let U,$;if(_ instanceof m0||_ instanceof s2){if(p)return;U=_.abiItem.name,$=(N=_.abiItem.inputs)==null?void 0:N.some(j=>!("name"in j&&j.name))}const B=kc(E,{args:$?[]:{},eventName:U});l([B])}},onError(C){o==null||o(C)}});v=I,g||v()}catch(b){o==null||o(b)}})(),()=>v()})()}function yRe(t,{batch:e=!0,onError:n,onTransactions:r,poll:s,pollingInterval:i=t.pollingInterval}){return(typeof s<"u"?s:t.transport.type!=="webSocket"&&t.transport.type!=="ipc")?(()=>{const u=Mr(["watchPendingTransactions",t.uid,e,i]);return Cc(u,{onTransactions:r,onError:n},d=>{let p;const f=Wm(async()=>{var h;try{if(!p)try{p=await Xe(t,aX,"createPendingTransactionFilter")({});return}catch(m){throw f(),m}const y=await Xe(t,y2,"getFilterChanges")({filter:p});if(y.length===0)return;if(e)d.onTransactions(y);else for(const m of y)d.onTransactions([m])}catch(y){(h=d.onError)==null||h.call(d,y)}},{emitOnBegin:!0,interval:i});return async()=>{p&&await Xe(t,g2,"uninstallFilter")({filter:p}),f()}})})():(()=>{let u=!0,d=()=>u=!1;return(async()=>{try{const{unsubscribe:p}=await t.transport.subscribe({params:["newPendingTransactions"],onData(f){if(!u)return;const h=f.result;r([h])},onError(f){n==null||n(f)}});d=p,u||d()}catch(p){n==null||n(p)}})(),()=>d()})()}function gRe(t){var p,f,h;const{scheme:e,statement:n,...r}=((p=t.match(vRe))==null?void 0:p.groups)??{},{chainId:s,expirationTime:i,issuedAt:a,notBefore:o,requestId:l,...u}=((f=t.match(bRe))==null?void 0:f.groups)??{},d=(h=t.split("Resources:")[1])==null?void 0:h.split(`
- `).slice(1);return{...r,...u,...s?{chainId:Number(s)}:{},...i?{expirationTime:new Date(i)}:{},...a?{issuedAt:new Date(a)}:{},...o?{notBefore:new Date(o)}:{},...l?{requestId:l}:{},...d?{resources:d}:{},...e?{scheme:e}:{},...n?{statement:n}:{}}}const vRe=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,bRe=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function wRe(t){const{address:e,domain:n,message:r,nonce:s,scheme:i,time:a=new Date}=t;if(n&&r.domain!==n||s&&r.nonce!==s||i&&r.scheme!==i||r.expirationTime&&a>=r.expirationTime||r.notBefore&&a<r.notBefore)return!1;try{if(!r.address||!bi(r.address,{strict:!1})||e&&!Ov(r.address,e))return!1}catch{return!1}return!0}async function xRe(t,e){const{address:n,domain:r,message:s,nonce:i,scheme:a,signature:o,time:l=new Date,...u}=e,d=gRe(s);if(!d.address||!wRe({address:n,domain:r,message:d,nonce:i,scheme:a,time:l}))return!1;const f=lX(s);return I2(t,{address:d.address,hash:f,signature:o,...u})}async function YM(t,{serializedTransaction:e,throwOnReceiptRevert:n,timeout:r}){var o,l,u;const s=await t.request({method:"eth_sendRawTransactionSync",params:r?[e,nt(r)]:[e]},{retryCount:0}),a=(((u=(l=(o=t.chain)==null?void 0:o.formatters)==null?void 0:l.transactionReceipt)==null?void 0:u.format)||Kq)(s);if(a.status==="reverted"&&n)throw new cq({receipt:a});return a}function TRe(t){return{call:e=>m2(t,e),createAccessList:e=>sX(t,e),createBlockFilter:()=>oNe(t),createContractEventFilter:e=>nq(t,e),createEventFilter:e=>iX(t,e),createPendingTransactionFilter:()=>aX(t),estimateContractGas:e=>U6e(t,e),estimateGas:e=>TM(t,e),getBalance:e=>lNe(t,e),getBlobBaseFee:()=>cNe(t),getBlock:e=>Ya(t,e),getBlockNumber:e=>Fv(t,e),getBlockTransactionCount:e=>uNe(t,e),getBytecode:e=>LE(t,e),getChainId:()=>xd(t),getCode:e=>LE(t,e),getContractEvents:e=>kq(t,e),getEip712Domain:e=>pNe(t,e),getEnsAddress:e=>WEe(t,e),getEnsAvatar:e=>sNe(t,e),getEnsName:e=>iNe(t,e),getEnsResolver:e=>aNe(t,e),getEnsText:e=>rX(t,e),getFeeHistory:e=>mNe(t,e),estimateFeesPerGas:e=>k6e(t,e),getFilterChanges:e=>y2(t,e),getFilterLogs:e=>yNe(t,e),getGasPrice:()=>gM(t),getLogs:e=>IM(t,e),getProof:e=>ySe(t,e),estimateMaxPriorityFeePerGas:e=>I6e(t,e),fillTransaction:e=>wM(t,e),getStorageAt:e=>gSe(t,e),getTransaction:e=>VM(t,e),getTransactionConfirmations:e=>vSe(t,e),getTransactionCount:e=>vM(t,e),getTransactionReceipt:e=>Ww(t,e),multicall:e=>bSe(t,e),prepareTransactionRequest:e=>Lv(t,e),readContract:e=>fo(t,e),sendRawTransaction:e=>SM(t,e),sendRawTransactionSync:e=>YM(t,e),simulate:e=>HE(t,e),simulateBlocks:e=>HE(t,e),simulateCalls:e=>SSe(t,e),simulateContract:e=>SEe(t,e),verifyHash:e=>I2(t,e),verifyMessage:e=>pRe(t,e),verifySiweMessage:e=>xRe(t,e),verifyTypedData:e=>fRe(t,e),uninstallFilter:e=>g2(t,e),waitForTransactionReceipt:e=>aZ(t,e),watchBlocks:e=>hRe(t,e),watchBlockNumber:e=>iZ(t,e),watchContractEvent:e=>LEe(t,e),watchEvent:e=>mRe(t,e),watchPendingTransactions:e=>yRe(t,e)}}function ARe(t){const{key:e="public",name:n="Public Client"}=t;return RM({...t,key:e,name:n,type:"publicClient"}).extend(TRe)}async function IRe(t,{chain:e}){const{id:n,name:r,nativeCurrency:s,rpcUrls:i,blockExplorers:a}=e;await t.request({method:"wallet_addEthereumChain",params:[{chainId:nt(n),chainName:r,nativeCurrency:s,rpcUrls:i.default.http,blockExplorerUrls:a?Object.values(a).map(({url:o})=>o):void 0}]},{dedupe:!0,retryCount:0})}function kRe(t,e){const{abi:n,args:r,bytecode:s,...i}=e,a=h2({abi:n,args:r,bytecode:s});return v2(t,{...i,...i.authorizationList?{to:null}:{},data:a})}async function CRe(t){var n;return((n=t.account)==null?void 0:n.type)==="local"?[t.account.address]:(await t.request({method:"eth_accounts"},{dedupe:!0})).map(r=>Mv(r))}async function ERe(t,e={}){const{account:n=t.account,chainId:r}=e,s=n?Ln(n):void 0,i=r?[s==null?void 0:s.address,[nt(r)]]:[s==null?void 0:s.address],a=await t.request({method:"wallet_getCapabilities",params:i}),o={};for(const[l,u]of Object.entries(a)){o[Number(l)]={};for(let[d,p]of Object.entries(u))d==="addSubAccount"&&(d="unstable_addSubAccount"),o[Number(l)][d]=p}return typeof r=="number"?o[r]:o}async function NRe(t){return await t.request({method:"wallet_getPermissions"},{dedupe:!0})}async function oZ(t,e){var l;const{account:n=t.account,chainId:r,nonce:s}=e;if(!n)throw new Td({docsPath:"/docs/eip7702/prepareAuthorization"});const i=Ln(n),a=(()=>{if(e.executor)return e.executor==="self"?e.executor:Ln(e.executor)})(),o={address:e.contractAddress??e.address,chainId:r,nonce:s};return typeof o.chainId>"u"&&(o.chainId=((l=t.chain)==null?void 0:l.id)??await Xe(t,xd,"getChainId")({})),typeof o.nonce>"u"&&(o.nonce=await Xe(t,vM,"getTransactionCount")({address:i.address,blockTag:"pending"}),(a==="self"||a!=null&&a.address&&Ov(a.address,i.address))&&(o.nonce+=1)),o}async function SRe(t){return(await t.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>Qd(n))}async function RRe(t,e){return t.request({method:"wallet_requestPermissions",params:[e]},{retryCount:0})}async function MRe(t,e){const{chain:n=t.chain}=e,r=e.timeout??Math.max(((n==null?void 0:n.blockTime)??0)*3,5e3),s=await Xq(t,e);return await Jq(t,{...e,id:s.id,timeout:r})}const hk=new Um(128);async function lZ(t,e){var I,C,E,N;const{account:n=t.account,chain:r=t.chain,accessList:s,authorizationList:i,blobs:a,data:o,gas:l,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:p,maxPriorityFeePerGas:f,nonce:h,pollingInterval:y,throwOnReceiptRevert:m,type:g,value:v,...b}=e,w=e.timeout??Math.max(((r==null?void 0:r.blockTime)??0)*3,5e3);if(typeof n>"u")throw new Td({docsPath:"/docs/actions/wallet/sendTransactionSync"});const A=n?Ln(n):null;try{Lc(e);const _=await(async()=>{if(e.to)return e.to;if(e.to!==null&&i&&i.length>0)return await u2({authorization:i[0]}).catch(()=>{throw new Ce("`to` is required. Could not infer from `authorizationList`.")})})();if((A==null?void 0:A.type)==="json-rpc"||A===null){let U;r!==null&&(U=await Xe(t,xd,"getChainId")({}),NM({currentChainId:U,chain:r}));const $=(E=(C=(I=t.chain)==null?void 0:I.formatters)==null?void 0:C.transactionRequest)==null?void 0:E.format,j=($||wd)({...Vm(b,{format:$}),accessList:s,account:A,authorizationList:i,blobs:a,chainId:U,data:o,gas:l,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:p,maxPriorityFeePerGas:f,nonce:h,to:_,type:g,value:v},"sendTransaction"),x=hk.get(t.uid),k=x?"wallet_sendTransaction":"eth_sendTransaction",M=await(async()=>{try{return await t.request({method:k,params:[j]},{retryCount:0})}catch(S){if(x===!1)throw S;const L=S;if(L.name==="InvalidInputRpcError"||L.name==="InvalidParamsRpcError"||L.name==="MethodNotFoundRpcError"||L.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[j]},{retryCount:0}).then(V=>(hk.set(t.uid,!0),V)).catch(V=>{const F=V;throw F.name==="MethodNotFoundRpcError"||F.name==="MethodNotSupportedRpcError"?(hk.set(t.uid,!1),L):F});throw L}})(),P=await Xe(t,aZ,"waitForTransactionReceipt")({checkReplacement:!1,hash:M,pollingInterval:y,timeout:w});if(m&&P.status==="reverted")throw new cq({receipt:P});return P}if((A==null?void 0:A.type)==="local"){const U=await Xe(t,Lv,"prepareTransactionRequest")({account:A,accessList:s,authorizationList:i,blobs:a,chain:r,data:o,gas:l,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:p,maxPriorityFeePerGas:f,nonce:h,nonceManager:A.nonceManager,parameters:[...xM,"sidecars"],type:g,value:v,...b,to:_}),$=(N=r==null?void 0:r.serializers)==null?void 0:N.transaction,B=await A.signTransaction(U,{serializer:$});return await Xe(t,YM,"sendRawTransactionSync")({serializedTransaction:B,throwOnReceiptRevert:m})}throw(A==null?void 0:A.type)==="smart"?new Ip({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new Ip({docsPath:"/docs/actions/wallet/sendTransactionSync",type:A==null?void 0:A.type})}catch(_){throw _ instanceof Ip?_:p2(_,{...e,account:A,chain:e.chain||void 0})}}async function PRe(t,e){const{id:n}=e;await t.request({method:"wallet_showCallsStatus",params:[n]})}async function jRe(t,e){const{account:n=t.account}=e;if(!n)throw new Td({docsPath:"/docs/eip7702/signAuthorization"});const r=Ln(n);if(!r.signAuthorization)throw new Ip({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const s=await oZ(t,e);return r.signAuthorization(s)}async function DRe(t,{account:e=t.account,message:n}){if(!e)throw new Td({docsPath:"/docs/actions/wallet/signMessage"});const r=Ln(e);if(r.signMessage)return r.signMessage({message:n});const s=typeof n=="string"?Vp(n):n.raw instanceof Uint8Array?va(n.raw):n.raw;return t.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}async function _Re(t,e){var u,d,p,f;const{account:n=t.account,chain:r=t.chain,...s}=e;if(!n)throw new Td({docsPath:"/docs/actions/wallet/signTransaction"});const i=Ln(n);Lc({account:i,...e});const a=await Xe(t,xd,"getChainId")({});r!==null&&NM({currentChainId:a,chain:r});const o=(r==null?void 0:r.formatters)||((u=t.chain)==null?void 0:u.formatters),l=((d=o==null?void 0:o.transactionRequest)==null?void 0:d.format)||wd;return i.signTransaction?i.signTransaction({...s,chainId:a},{serializer:(f=(p=t.chain)==null?void 0:p.serializers)==null?void 0:f.transaction}):await t.request({method:"eth_signTransaction",params:[{...l({...s,account:i},"signTransaction"),chainId:nt(a),from:i.address}]},{retryCount:0})}async function LRe(t,e){const{account:n=t.account,domain:r,message:s,primaryType:i}=e;if(!n)throw new Td({docsPath:"/docs/actions/wallet/signTypedData"});const a=Ln(n),o={EIP712Domain:uX({domain:r}),...e.types};if(cX({domain:r,message:s,primaryType:i,types:o}),a.signTypedData)return a.signTypedData({domain:r,message:s,primaryType:i,types:o});const l=NNe({domain:r,message:s,primaryType:i,types:o});return t.request({method:"eth_signTypedData_v4",params:[a.address,l]},{retryCount:0})}async function ORe(t,{id:e}){await t.request({method:"wallet_switchEthereumChain",params:[{chainId:nt(e)}]},{retryCount:0})}async function $Re(t,e){return await t.request({method:"wallet_watchAsset",params:e},{retryCount:0})}async function FRe(t,e){return _0.internal(t,lZ,"sendTransactionSync",e)}function BRe(t){return{addChain:e=>IRe(t,e),deployContract:e=>kRe(t,e),fillTransaction:e=>wM(t,e),getAddresses:()=>CRe(t),getCallsStatus:e=>Zq(t,e),getCapabilities:e=>ERe(t,e),getChainId:()=>xd(t),getPermissions:()=>NRe(t),prepareAuthorization:e=>oZ(t,e),prepareTransactionRequest:e=>Lv(t,e),requestAddresses:()=>SRe(t),requestPermissions:e=>RRe(t,e),sendCalls:e=>Xq(t,e),sendCallsSync:e=>MRe(t,e),sendRawTransaction:e=>SM(t,e),sendRawTransactionSync:e=>YM(t,e),sendTransaction:e=>v2(t,e),sendTransactionSync:e=>lZ(t,e),showCallsStatus:e=>PRe(t,e),signAuthorization:e=>jRe(t,e),signMessage:e=>DRe(t,e),signTransaction:e=>_Re(t,e),signTypedData:e=>LRe(t,e),switchChain:e=>ORe(t,e),waitForCallsStatus:e=>Jq(t,e),watchAsset:e=>$Re(t,e),writeContract:e=>_0(t,e),writeContractSync:e=>FRe(t,e)}}function cZ(t){const{key:e="wallet",name:n="Wallet Client",transport:r}=t;return RM({...t,key:e,name:n,transport:r,type:"walletClient"}).extend(BRe)}function uZ({key:t,methods:e,name:n,request:r,retryCount:s=3,retryDelay:i=150,timeout:a,type:o},l){const u=Qq();return{config:{key:t,methods:e,name:n,request:r,retryCount:s,retryDelay:i,timeout:a,type:o},request:bNe(r,{methods:e,retryCount:s,retryDelay:i,uid:u}),value:l}}function c$(t,e={}){const{key:n="custom",methods:r,name:s="Custom Provider",retryDelay:i}=e;return({retryCount:a})=>uZ({key:n,methods:r,name:s,request:t.request.bind(t),retryCount:e.retryCount??a,retryDelay:i,type:"custom"})}class URe extends Ce{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function u$(t,e={}){const{batch:n,fetchFn:r,fetchOptions:s,key:i="http",methods:a,name:o="HTTP JSON-RPC",onFetchRequest:l,onFetchResponse:u,retryDelay:d,raw:p}=e;return({chain:f,retryCount:h,timeout:y})=>{const{batchSize:m=1e3,wait:g=0}=typeof n=="object"?n:{},v=e.retryCount??h,b=y??e.timeout??1e4,w=f==null?void 0:f.rpcUrls.default.http[0];if(!w)throw new URe;const A=TNe(w,{fetchFn:r,fetchOptions:s,onRequest:l,onResponse:u,timeout:b});return uZ({key:i,methods:a,name:o,async request({method:I,params:C}){const E={method:I,params:C},{schedule:N}=Hq({id:w,wait:g,shouldSplitBatch(B){return B.length>m},fn:B=>A.request({body:B}),sort:(B,j)=>B.id-j.id}),_=async B=>n?N(B):[await A.request({body:B})],[{error:U,result:$}]=await _(E);if(p)return{error:U,result:$};if(U)throw new fM({body:E,error:U,url:w});return $},retryCount:v,retryDelay:d,timeout:b,type:"http"},{fetchOptions:s,url:w})}}function zRe(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let u=0;u<e.length;u++)e[u]=255;for(let u=0;u<t.length;u++){const d=t.charAt(u),p=d.charCodeAt(0);if(e[p]!==255)throw new TypeError(d+" is ambiguous");e[p]=u}const n=t.length,r=t.charAt(0),s=Math.log(n)/Math.log(256),i=Math.log(256)/Math.log(n);function a(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(u.length===0)return"";let d=0,p=0,f=0;const h=u.length;for(;f!==h&&u[f]===0;)f++,d++;const y=(h-f)*i+1>>>0,m=new Uint8Array(y);for(;f!==h;){let b=u[f],w=0;for(let A=y-1;(b!==0||w<p)&&A!==-1;A--,w++)b+=256*m[A]>>>0,m[A]=b%n>>>0,b=b/n>>>0;if(b!==0)throw new Error("Non-zero carry");p=w,f++}let g=y-p;for(;g!==y&&m[g]===0;)g++;let v=r.repeat(d);for(;g<y;++g)v+=t.charAt(m[g]);return v}function o(u){if(typeof u!="string")throw new TypeError("Expected String");if(u.length===0)return new Uint8Array;let d=0,p=0,f=0;for(;u[d]===r;)p++,d++;const h=(u.length-d)*s+1>>>0,y=new Uint8Array(h);for(;d<u.length;){const b=u.charCodeAt(d);if(b>255)return;let w=e[b];if(w===255)return;let A=0;for(let I=h-1;(w!==0||A<f)&&I!==-1;I--,A++)w+=n*y[I]>>>0,y[I]=w%256>>>0,w=w/256>>>0;if(w!==0)throw new Error("Non-zero carry");f=A,d++}let m=h-f;for(;m!==h&&y[m]===0;)m++;const g=new Uint8Array(p+(h-m));let v=p;for(;m!==h;)g[v++]=y[m++];return g}function l(u){const d=o(u);if(d)return d;throw new Error("Non-base"+n+" character")}return{encode:a,decodeUnsafe:o,decode:l}}var VRe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const HRe=zRe(VRe);function WRe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),a=i.charCodeAt(0);if(n[a]!==255)throw new TypeError(i+" is ambiguous");n[a]=s}var o=t.length,l=t.charAt(0),u=Math.log(o)/Math.log(256),d=Math.log(256)/Math.log(o);function p(y){if(y instanceof Uint8Array||(ArrayBuffer.isView(y)?y=new Uint8Array(y.buffer,y.byteOffset,y.byteLength):Array.isArray(y)&&(y=Uint8Array.from(y))),!(y instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(y.length===0)return"";for(var m=0,g=0,v=0,b=y.length;v!==b&&y[v]===0;)v++,m++;for(var w=(b-v)*d+1>>>0,A=new Uint8Array(w);v!==b;){for(var I=y[v],C=0,E=w-1;(I!==0||C<g)&&E!==-1;E--,C++)I+=256*A[E]>>>0,A[E]=I%o>>>0,I=I/o>>>0;if(I!==0)throw new Error("Non-zero carry");g=C,v++}for(var N=w-g;N!==w&&A[N]===0;)N++;for(var _=l.repeat(m);N<w;++N)_+=t.charAt(A[N]);return _}function f(y){if(typeof y!="string")throw new TypeError("Expected String");if(y.length===0)return new Uint8Array;var m=0;if(y[m]!==" "){for(var g=0,v=0;y[m]===l;)g++,m++;for(var b=(y.length-m)*u+1>>>0,w=new Uint8Array(b);y[m];){var A=n[y.charCodeAt(m)];if(A===255)return;for(var I=0,C=b-1;(A!==0||I<v)&&C!==-1;C--,I++)A+=o*w[C]>>>0,w[C]=A%256>>>0,A=A/256>>>0;if(A!==0)throw new Error("Non-zero carry");v=I,m++}if(y[m]!==" "){for(var E=b-v;E!==b&&w[E]===0;)E++;for(var N=new Uint8Array(g+(b-E)),_=g;E!==b;)N[_++]=w[E++];return N}}}function h(y){var m=f(y);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:p,decodeUnsafe:f,decode:h}}var GRe=WRe,KRe=GRe;const YRe=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let n=0;n<t.byteLength;n++)if(t[n]!==e[n])return!1;return!0},qM=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")};class qRe{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class XRe{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return dZ(this,e)}}class ZRe{constructor(e){this.decoders=e}or(e){return dZ(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const dZ=(t,e)=>new ZRe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class JRe{constructor(e,n,r,s){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new qRe(e,n,r),this.decoder=new XRe(e,n,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const pZ=({name:t,prefix:e,encode:n,decode:r})=>new JRe(t,e,n,r),fZ=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:s}=KRe(n,e);return pZ({prefix:t,name:e,encode:r,decode:i=>qM(s(i))})},QRe=(t,e,n,r)=>{const s={};for(let d=0;d<e.length;++d)s[e[d]]=d;let i=t.length;for(;t[i-1]==="=";)--i;const a=new Uint8Array(i*n/8|0);let o=0,l=0,u=0;for(let d=0;d<i;++d){const p=s[t[d]];if(p===void 0)throw new SyntaxError(`Non-${r} character`);l=l<<n|p,o+=n,o>=8&&(o-=8,a[u++]=255&l>>o)}if(o>=n||255&l<<8-o)throw new SyntaxError("Unexpected end of data");return a},eMe=(t,e,n)=>{const r=e[e.length-1]==="=",s=(1<<n)-1;let i="",a=0,o=0;for(let l=0;l<t.length;++l)for(o=o<<8|t[l],a+=8;a>n;)a-=n,i+=e[s&o>>a];if(a&&(i+=e[s&o<<n-a]),r)for(;i.length*n&7;)i+="=";return i},$c=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>pZ({prefix:e,name:t,encode(s){return eMe(s,r,n)},decode(s){return QRe(s,r,n,t)}}),ru=fZ({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});fZ({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var tMe=hZ,d$=128,nMe=127,rMe=~nMe,sMe=Math.pow(2,31);function hZ(t,e,n){e=e||[],n=n||0;for(var r=n;t>=sMe;)e[n++]=t&255|d$,t/=128;for(;t&rMe;)e[n++]=t&255|d$,t>>>=7;return e[n]=t|0,hZ.bytes=n-r+1,e}var iMe=JE,aMe=128,p$=127;function JE(t,r){var n=0,r=r||0,s=0,i=r,a,o=t.length;do{if(i>=o)throw JE.bytes=0,new RangeError("Could not decode varint");a=t[i++],n+=s<28?(a&p$)<<s:(a&p$)*Math.pow(2,s),s+=7}while(a>=aMe);return JE.bytes=i-r,n}var oMe=Math.pow(2,7),lMe=Math.pow(2,14),cMe=Math.pow(2,21),uMe=Math.pow(2,28),dMe=Math.pow(2,35),pMe=Math.pow(2,42),fMe=Math.pow(2,49),hMe=Math.pow(2,56),mMe=Math.pow(2,63),yMe=function(t){return t<oMe?1:t<lMe?2:t<cMe?3:t<uMe?4:t<dMe?5:t<pMe?6:t<fMe?7:t<hMe?8:t<mMe?9:10},gMe={encode:tMe,decode:iMe,encodingLength:yMe},x1=gMe;const QE=(t,e=0)=>[x1.decode(t,e),x1.decode.bytes],T1=(t,e,n=0)=>(x1.encode(t,e,n),e),A1=t=>x1.encodingLength(t),vMe=(t,e)=>{const n=e.byteLength,r=A1(t),s=r+A1(n),i=new Uint8Array(s+n);return T1(t,i,0),T1(n,i,r),i.set(e,s),new XM(t,n,e,i)},bMe=t=>{const e=qM(t),[n,r]=QE(e),[s,i]=QE(e.subarray(r)),a=e.subarray(r+i);if(a.byteLength!==s)throw new Error("Incorrect length");return new XM(n,s,a,e)},wMe=(t,e)=>t===e?!0:t.code===e.code&&t.size===e.size&&YRe(t.bytes,e.bytes);class XM{constructor(e,n,r,s){this.code=e,this.size=n,this.digest=r,this.bytes=s}}const Gw=$c({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});$c({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});$c({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});$c({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});$c({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});$c({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});$c({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});$c({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});$c({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});class cs{constructor(e,n,r,s){this.code=n,this.version=e,this.multihash=r,this.bytes=s,this.byteOffset=s.byteOffset,this.byteLength=s.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:$b,byteLength:$b,code:Ob,version:Ob,multihash:Ob,bytes:Ob,_baseCache:$b,asCID:$b})}toV0(){switch(this.version){case 0:return this;default:{const{code:e,multihash:n}=this;if(e!==by)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(n.code!==IMe)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return cs.createV0(n)}}}toV1(){switch(this.version){case 0:{const{code:e,digest:n}=this.multihash,r=vMe(e,n);return cs.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&wMe(this.multihash,e.multihash)}toString(e){const{bytes:n,version:r,_baseCache:s}=this;switch(r){case 0:return TMe(n,s,e||ru.encoder);default:return AMe(n,s,e||Gw.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return CMe(/^0\.0/,EMe),!!(e&&(e[h$]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof cs)return e;if(e!=null&&e.asCID===e){const{version:n,code:r,multihash:s,bytes:i}=e;return new cs(n,r,s,i||f$(n,r,s.bytes))}else if(e!=null&&e[h$]===!0){const{version:n,multihash:r,code:s}=e,i=bMe(r);return cs.create(n,s,i)}else return null}static create(e,n,r){if(typeof n!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(n!==by)throw new Error(`Version 0 CID must use dag-pb (code: ${by}) block encoding`);return new cs(e,n,r,r.bytes)}case 1:{const s=f$(e,n,r.bytes);return new cs(e,n,r,s)}default:throw new Error("Invalid version")}}static createV0(e){return cs.create(0,by,e)}static createV1(e,n){return cs.create(1,e,n)}static decode(e){const[n,r]=cs.decodeFirst(e);if(r.length)throw new Error("Incorrect length");return n}static decodeFirst(e){const n=cs.inspectBytes(e),r=n.size-n.multihashSize,s=qM(e.subarray(r,r+n.multihashSize));if(s.byteLength!==n.multihashSize)throw new Error("Incorrect length");const i=s.subarray(n.multihashSize-n.digestSize),a=new XM(n.multihashCode,n.digestSize,i,s);return[n.version===0?cs.createV0(a):cs.createV1(n.codec,a),e.subarray(n.size)]}static inspectBytes(e){let n=0;const r=()=>{const[p,f]=QE(e.subarray(n));return n+=f,p};let s=r(),i=by;if(s===18?(s=0,n=0):s===1&&(i=r()),s!==0&&s!==1)throw new RangeError(`Invalid CID version ${s}`);const a=n,o=r(),l=r(),u=n+l,d=u-a;return{version:s,codec:i,multihashCode:o,digestSize:l,multihashSize:d,size:u}}static parse(e,n){const[r,s]=xMe(e,n),i=cs.decode(s);return i._baseCache.set(r,e),i}}const xMe=(t,e)=>{switch(t[0]){case"Q":{const n=e||ru;return[ru.prefix,n.decode(`${ru.prefix}${t}`)]}case ru.prefix:{const n=e||ru;return[ru.prefix,n.decode(t)]}case Gw.prefix:{const n=e||Gw;return[Gw.prefix,n.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},TMe=(t,e,n)=>{const{prefix:r}=n;if(r!==ru.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const s=e.get(r);if(s==null){const i=n.encode(t).slice(1);return e.set(r,i),i}else return s},AMe=(t,e,n)=>{const{prefix:r}=n,s=e.get(r);if(s==null){const i=n.encode(t);return e.set(r,i),i}else return s},by=112,IMe=18,f$=(t,e,n)=>{const r=A1(t),s=r+A1(e),i=new Uint8Array(s+n.byteLength);return T1(t,i,0),T1(e,i,r),i.set(n,s),i},h$=Symbol.for("@ipld/js-cid/CID"),Ob={writable:!1,configurable:!1,enumerable:!0},$b={writable:!1,enumerable:!1,configurable:!1},kMe="0.0.0-dev",CMe=(t,e)=>{if(t.test(kMe))console.warn(e);else throw new Error(e)},EMe=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`;function Ai(t,e,n,r){var s=Object.defineProperty;try{s({},"",{})}catch{s=0}Ai=function(i,a,o,l){function u(d,p){Ai(i,d,function(f){return this._invoke(d,p,f)})}a?s?s(i,a,{value:o,enumerable:!l,configurable:!l,writable:!l}):i[a]=o:(u("next",0),u("throw",1),u("return",2))},Ai(t,e,n,r)}function D(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,e,n=typeof Symbol=="function"?Symbol:{},r=n.iterator||"@@iterator",s=n.toStringTag||"@@toStringTag";function i(h,y,m,g){var v=y&&y.prototype instanceof o?y:o,b=Object.create(v.prototype);return Ai(b,"_invoke",function(w,A,I){var C,E,N,_=0,U=I||[],$=!1,B={p:0,n:0,v:t,a:j,f:j.bind(t,4),d:function(x,k){return C=x,E=0,N=t,B.n=k,a}};function j(x,k){for(E=x,N=k,e=0;!$&&_&&!M&&e<U.length;e++){var M,P=U[e],S=B.p,L=P[2];x>3?(M=L===k)&&(N=P[(E=P[4])?5:(E=3,3)],P[4]=P[5]=t):P[0]<=S&&((M=x<2&&S<P[1])?(E=0,B.v=k,B.n=P[1]):S<L&&(M=x<3||P[0]>k||k>L)&&(P[4]=x,P[5]=k,B.n=L,E=0))}if(M||x>1)return a;throw $=!0,k}return function(x,k,M){if(_>1)throw TypeError("Generator is already running");for($&&k===1&&j(k,M),E=k,N=M;(e=E<2?t:N)||!$;){C||(E?E<3?(E>1&&(B.n=-1),j(E,N)):B.n=N:B.v=N);try{if(_=2,C){if(E||(x="next"),e=C[x]){if(!(e=e.call(C,N)))throw TypeError("iterator result is not an object");if(!e.done)return e;N=e.value,E<2&&(E=0)}else E===1&&(e=C.return)&&e.call(C),E<2&&(N=TypeError("The iterator does not provide a '"+x+"' method"),E=1);C=t}else if((e=($=B.n<0)?N:w.call(A,B))!==a)break}catch(P){C=t,E=1,N=P}finally{_=1}}return{value:e,done:$}}}(h,m,g),!0),b}var a={};function o(){}function l(){}function u(){}e=Object.getPrototypeOf;var d=[][r]?e(e([][r]())):(Ai(e={},r,function(){return this}),e),p=u.prototype=o.prototype=Object.create(d);function f(h){return Object.setPrototypeOf?Object.setPrototypeOf(h,u):(h.__proto__=u,Ai(h,s,"GeneratorFunction")),h.prototype=Object.create(p),h}return l.prototype=u,Ai(p,"constructor",u),Ai(u,"constructor",l),l.displayName="GeneratorFunction",Ai(u,s,"GeneratorFunction"),Ai(p),Ai(p,s,"Generator"),Ai(p,r,function(){return this}),Ai(p,"toString",function(){return"[object Generator]"}),(D=function(){return{w:i,m:f}})()}function m$(t,e,n,r,s,i,a){try{var o=t[i](a),l=o.value}catch(u){return void n(u)}o.done?e(l):Promise.resolve(l).then(r,s)}function W(t){return function(){var e=this,n=arguments;return new Promise(function(r,s){var i=t.apply(e,n);function a(l){m$(i,r,s,a,o,"next",l)}function o(l){m$(i,r,s,a,o,"throw",l)}a(void 0)})}}function NMe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function mZ(t){var e=NMe(t,"string");return typeof e=="symbol"?e:e+""}function ln(t,e,n){return(e=mZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function K(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y$(Object(n),!0).forEach(function(r){ln(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function et(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mZ(r.key),r)}}function tt(t,e,n){return e&&g$(t.prototype,e),n&&g$(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function eN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function ZM(t,e){if(t){if(typeof t=="string")return eN(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eN(t,e):void 0}}function bt(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=ZM(t))||e){n&&(t=n);var r=0,s=function(){};return{s,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(l){throw l},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,a=!0,o=!1;return{s:function(){n=n.call(t)},n:function(){var l=n.next();return a=l.done,l},e:function(l){o=!0,i=l},f:function(){try{a||n.return==null||n.return()}finally{if(o)throw i}}}}function SMe(t){if(Array.isArray(t))return t}function RMe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,a,o=[],l=!0,u=!1;try{if(i=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){u=!0,s=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw s}}return o}}function MMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tN(t,e){return SMe(t)||RMe(t,e)||ZM(t,e)||MMe()}function B0(t){return B0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},B0(t)}function JM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JM=function(){return!!t})()}function PMe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jMe(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PMe(t)}function Nn(t,e,n){return e=B0(e),jMe(t,JM()?Reflect.construct(e,n||[],B0(t).constructor):e.apply(t,n))}function U0(t,e){return U0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},U0(t,e)}function Sn(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U0(t,e)}var Va=[{type:"constructor",inputs:[{name:"ipAccountRegistry",internalType:"address",type:"address"},{name:"moduleRegistry",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"error",inputs:[{name:"signer",internalType:"address",type:"address"},{name:"to",internalType:"address",type:"address"}],name:"AccessController__BothCallerAndRecipientAreNotRegisteredModule"},{type:"error",inputs:[],name:"AccessController__CallerIsNotIPAccountOrOwner"},{type:"error",inputs:[{name:"ipAccount",internalType:"address",type:"address"}],name:"AccessController__IPAccountIsNotValid"},{type:"error",inputs:[],name:"AccessController__IPAccountIsZeroAddress"},{type:"error",inputs:[{name:"ipAccount",internalType:"address",type:"address"},{name:"owner",internalType:"address",type:"address"}],name:"AccessController__OwnerIsIPAccount"},{type:"error",inputs:[{name:"ipAccount",internalType:"address",type:"address"},{name:"signer",internalType:"address",type:"address"},{name:"to",internalType:"address",type:"address"},{name:"func",internalType:"bytes4",type:"bytes4"}],name:"AccessController__PermissionDenied"},{type:"error",inputs:[],name:"AccessController__PermissionIsNotValid"},{type:"error",inputs:[],name:"AccessController__SignerIsZeroAddress"},{type:"error",inputs:[],name:"AccessController__ToAndFuncAreZeroAddressShouldCallSetAllPermissions"},{type:"error",inputs:[],name:"AccessController__ZeroAccessManager"},{type:"error",inputs:[],name:"AccessController__ZeroIPAccountRegistry"},{type:"error",inputs:[],name:"AccessController__ZeroModuleRegistry"},{type:"error",inputs:[{name:"authority",internalType:"address",type:"address"}],name:"AccessManagedInvalidAuthority"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"delay",internalType:"uint32",type:"uint32"}],name:"AccessManagedRequiredDelay"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"}],name:"AccessManagedUnauthorized"},{type:"error",inputs:[{name:"target",internalType:"address",type:"address"}],name:"AddressEmptyCode"},{type:"error",inputs:[{name:"implementation",internalType:"address",type:"address"}],name:"ERC1967InvalidImplementation"},{type:"error",inputs:[],name:"ERC1967NonPayable"},{type:"error",inputs:[],name:"EnforcedPause"},{type:"error",inputs:[],name:"ExpectedPause"},{type:"error",inputs:[],name:"FailedCall"},{type:"error",inputs:[],name:"InvalidInitialization"},{type:"error",inputs:[],name:"NotInitializing"},{type:"error",inputs:[],name:"UUPSUnauthorizedCallContext"},{type:"error",inputs:[{name:"slot",internalType:"bytes32",type:"bytes32"}],name:"UUPSUnsupportedProxiableUUID"},{type:"event",anonymous:!1,inputs:[{name:"authority",internalType:"address",type:"address",indexed:!1}],name:"AuthorityUpdated"},{type:"event",anonymous:!1,inputs:[{name:"version",internalType:"uint64",type:"uint64",indexed:!1}],name:"Initialized"},{type:"event",anonymous:!1,inputs:[{name:"account",internalType:"address",type:"address",indexed:!1}],name:"Paused"},{type:"event",anonymous:!1,inputs:[{name:"ipAccountOwner",internalType:"address",type:"address",indexed:!1},{name:"ipAccount",internalType:"address",type:"address",indexed:!0},{name:"signer",internalType:"address",type:"address",indexed:!0},{name:"to",internalType:"address",type:"address",indexed:!0},{name:"func",internalType:"bytes4",type:"bytes4",indexed:!1},{name:"permission",internalType:"uint8",type:"uint8",indexed:!1}],name:"PermissionSet"},{type:"event",anonymous:!1,inputs:[{name:"ipAccountOwner",internalType:"address",type:"address",indexed:!1},{name:"ipAccount",internalType:"address",type:"address",indexed:!0},{name:"signer",internalType:"address",type:"address",indexed:!0},{name:"to",internalType:"address",type:"address",indexed:!0},{name:"func",internalType:"bytes4",type:"bytes4",indexed:!1},{name:"permission",internalType:"uint8",type:"uint8",indexed:!1}],name:"TransientPermissionSet"},{type:"event",anonymous:!1,inputs:[{name:"account",internalType:"address",type:"address",indexed:!1}],name:"Unpaused"},{type:"event",anonymous:!1,inputs:[{name:"implementation",internalType:"address",type:"address",indexed:!0}],name:"Upgraded"},{type:"function",inputs:[],name:"IP_ASSET_REGISTRY",outputs:[{name:"",internalType:"contract IIPAssetRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"MODULE_REGISTRY",outputs:[{name:"",internalType:"contract IModuleRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"UPGRADE_INTERFACE_VERSION",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[{name:"accessManager",internalType:"address",type:"address"}],name:"__ProtocolPausable_init",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"authority",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipAccount",internalType:"address",type:"address"},{name:"signer",internalType:"address",type:"address"},{name:"to",internalType:"address",type:"address"},{name:"func",internalType:"bytes4",type:"bytes4"}],name:"checkPermission",outputs:[],stateMutability:"view"},{type:"function",inputs:[{name:"ipAccount",internalType:"address",type:"address"},{name:"signer",internalType:"address",type:"address"},{name:"to",internalType:"address",type:"address"},{name:"func",internalType:"bytes4",type:"bytes4"}],name:"getPermanentPermission",outputs:[{name:"",internalType:"uint8",type:"uint8"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipAccount",internalType:"address",type:"address"},{name:"signer",internalType:"address",type:"address"},{name:"to",internalType:"address",type:"address"},{name:"func",internalType:"bytes4",type:"bytes4"}],name:"getPermission",outputs:[{name:"",internalType:"uint8",type:"uint8"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipAccount",internalType:"address",type:"address"},{name:"signer",internalType:"address",type:"address"},{name:"to",internalType:"address",type:"address"},{name:"func",internalType:"bytes4",type:"bytes4"}],name:"getTransientPermission",outputs:[{name:"",internalType:"uint8",type:"uint8"}],stateMutability:"view"},{type:"function",inputs:[{name:"accessManager",internalType:"address",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"isConsumingScheduledOp",outputs:[{name:"",internalType:"bytes4",type:"bytes4"}],stateMutability:"view"},{type:"function",inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"paused",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[],name:"proxiableUUID",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipAccount",internalType:"address",type:"address"},{name:"signer",internalType:"address",type:"address"},{name:"permission",internalType:"uint8",type:"uint8"}],name:"setAllPermissions",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"ipAccount",internalType:"address",type:"address"},{name:"signer",internalType:"address",type:"address"},{name:"permission",internalType:"uint8",type:"uint8"}],name:"setAllTransientPermissions",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newAuthority",internalType:"address",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"permissions",internalType:"struct AccessPermission.Permission[]",type:"tuple[]",components:[{name:"ipAccount",internalType:"address",type:"address"},{name:"signer",internalType:"address",type:"address"},{name:"to",internalType:"address",type:"address"},{name:"func",internalType:"bytes4",type:"bytes4"},{name:"permission",internalType:"uint8",type:"uint8"}]}],name:"setBatchPermissions",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"permissions",internalType:"struct AccessPermission.Permission[]",type:"tuple[]",components:[{name:"ipAccount",internalType:"address",type:"address"},{name:"signer",internalType:"address",type:"address"},{name:"to",internalType:"address",type:"address"},{name:"func",internalType:"bytes4",type:"bytes4"},{name:"permission",internalType:"uint8",type:"uint8"}]}],name:"setBatchTransientPermissions",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"ipAccount",internalType:"address",type:"address"},{name:"signer",internalType:"address",type:"address"},{name:"to",internalType:"address",type:"address"},{name:"func",internalType:"bytes4",type:"bytes4"},{name:"permission",internalType:"uint8",type:"uint8"}],name:"setPermission",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"ipAccount",internalType:"address",type:"address"},{name:"signer",internalType:"address",type:"address"},{name:"to",internalType:"address",type:"address"},{name:"func",internalType:"bytes4",type:"bytes4"},{name:"permission",internalType:"uint8",type:"uint8"}],name:"setTransientPermission",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newImplementation",internalType:"address",type:"address"},{name:"data",internalType:"bytes",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable"}],yZ={1315:"0xcCF37d0a503Ee1D4C11208672e622ed3DFB2275a",1514:"0xcCF37d0a503Ee1D4C11208672e622ed3DFB2275a"},zd=[{type:"constructor",inputs:[{name:"disputeModule",internalType:"address",type:"address"},{name:"royaltyModule",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"error",inputs:[{name:"authority",internalType:"address",type:"address"}],name:"AccessManagedInvalidAuthority"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"delay",internalType:"uint32",type:"uint32"}],name:"AccessManagedRequiredDelay"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"}],name:"AccessManagedUnauthorized"},{type:"error",inputs:[{name:"target",internalType:"address",type:"address"}],name:"AddressEmptyCode"},{type:"error",inputs:[],name:"ArbitrationPolicyUMA__BondAboveMax"},{type:"error",inputs:[],name:"ArbitrationPolicyUMA__CannotCancel"},{type:"error",inputs:[],name:"ArbitrationPolicyUMA__CannotDisputeAssertionIfTagIsInherited"},{type:"error",inputs:[],name:"ArbitrationPolicyUMA__CurrencyNotWhitelisted"},{type:"error",inputs:[],name:"ArbitrationPolicyUMA__DisputeNotFound"},{type:"error",inputs:[],name:"ArbitrationPolicyUMA__IpOwnerTimePercentAboveMax"},{type:"error",inputs:[],name:"ArbitrationPolicyUMA__LivenessAboveMax"},{type:"error",inputs:[],name:"ArbitrationPolicyUMA__LivenessBelowMin"},{type:"error",inputs:[],name:"ArbitrationPolicyUMA__MaxBondBelowMinimumBond"},{type:"error",inputs:[],name:"ArbitrationPolicyUMA__MinLivenessAboveMax"},{type:"error",inputs:[],name:"ArbitrationPolicyUMA__NoCounterEvidence"},{type:"error",inputs:[],name:"ArbitrationPolicyUMA__NotDisputeModule"},{type:"error",inputs:[],name:"ArbitrationPolicyUMA__NotOOV3"},{type:"error",inputs:[],name:"ArbitrationPolicyUMA__OnlyDisputePolicyUMA"},{type:"error",inputs:[{name:"elapsedTime",internalType:"uint64",type:"uint64"},{name:"liveness",internalType:"uint64",type:"uint64"},{name:"caller",internalType:"address",type:"address"}],name:"ArbitrationPolicyUMA__OnlyTargetIpIdCanDisputeWithinTimeWindow"},{type:"error",inputs:[],name:"ArbitrationPolicyUMA__ZeroAccessManager"},{type:"error",inputs:[],name:"ArbitrationPolicyUMA__ZeroDisputeModule"},{type:"error",inputs:[],name:"ArbitrationPolicyUMA__ZeroMaxLiveness"},{type:"error",inputs:[],name:"ArbitrationPolicyUMA__ZeroMinLiveness"},{type:"error",inputs:[],name:"ArbitrationPolicyUMA__ZeroOOV3"},{type:"error",inputs:[],name:"ArbitrationPolicyUMA__ZeroRoyaltyModule"},{type:"error",inputs:[{name:"implementation",internalType:"address",type:"address"}],name:"ERC1967InvalidImplementation"},{type:"error",inputs:[],name:"ERC1967NonPayable"},{type:"error",inputs:[],name:"EnforcedPause"},{type:"error",inputs:[],name:"ExpectedPause"},{type:"error",inputs:[],name:"FailedCall"},{type:"error",inputs:[],name:"InvalidInitialization"},{type:"error",inputs:[],name:"NotInitializing"},{type:"error",inputs:[],name:"ReentrancyGuardReentrantCall"},{type:"error",inputs:[{name:"token",internalType:"address",type:"address"}],name:"SafeERC20FailedOperation"},{type:"error",inputs:[],name:"UUPSUnauthorizedCallContext"},{type:"error",inputs:[{name:"slot",internalType:"bytes32",type:"bytes32"}],name:"UUPSUnsupportedProxiableUUID"},{type:"event",anonymous:!1,inputs:[{name:"disputeId",internalType:"uint256",type:"uint256",indexed:!1},{name:"assertionId",internalType:"bytes32",type:"bytes32",indexed:!1},{name:"counterEvidenceHash",internalType:"bytes32",type:"bytes32",indexed:!1}],name:"AssertionDisputed"},{type:"event",anonymous:!1,inputs:[{name:"authority",internalType:"address",type:"address",indexed:!1}],name:"AuthorityUpdated"},{type:"event",anonymous:!1,inputs:[{name:"disputeId",internalType:"uint256",type:"uint256",indexed:!1},{name:"assertionId",internalType:"bytes32",type:"bytes32",indexed:!1},{name:"caller",internalType:"address",type:"address",indexed:!1},{name:"liveness",internalType:"uint64",type:"uint64",indexed:!1},{name:"currency",internalType:"address",type:"address",indexed:!1},{name:"bond",internalType:"uint256",type:"uint256",indexed:!1}],name:"DisputeRaisedUMA"},{type:"event",anonymous:!1,inputs:[{name:"version",internalType:"uint64",type:"uint64",indexed:!1}],name:"Initialized"},{type:"event",anonymous:!1,inputs:[{name:"minLiveness",internalType:"uint64",type:"uint64",indexed:!1},{name:"maxLiveness",internalType:"uint64",type:"uint64",indexed:!1},{name:"ipOwnerTimePercent",internalType:"uint32",type:"uint32",indexed:!1}],name:"LivenessSet"},{type:"event",anonymous:!1,inputs:[{name:"token",internalType:"address",type:"address",indexed:!1},{name:"maxBond",internalType:"uint256",type:"uint256",indexed:!1}],name:"MaxBondSet"},{type:"event",anonymous:!1,inputs:[{name:"oov3",internalType:"address",type:"address",indexed:!1}],name:"OOV3Set"},{type:"event",anonymous:!1,inputs:[{name:"account",internalType:"address",type:"address",indexed:!1}],name:"Paused"},{type:"event",anonymous:!1,inputs:[{name:"account",internalType:"address",type:"address",indexed:!1}],name:"Unpaused"},{type:"event",anonymous:!1,inputs:[{name:"implementation",internalType:"address",type:"address",indexed:!0}],name:"Upgraded"},{type:"function",inputs:[],name:"DISPUTE_MODULE",outputs:[{name:"",internalType:"contract IDisputeModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"ROYALTY_MODULE",outputs:[{name:"",internalType:"contract IRoyaltyModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"UPGRADE_INTERFACE_VERSION",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[{name:"accessManager",internalType:"address",type:"address"}],name:"__ProtocolPausable_init",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"assertionId",internalType:"bytes32",type:"bytes32"}],name:"assertionDisputedCallback",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"assertionId",internalType:"bytes32",type:"bytes32"}],name:"assertionIdToDisputeId",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"assertionId",internalType:"bytes32",type:"bytes32"},{name:"assertedTruthfully",internalType:"bool",type:"bool"}],name:"assertionResolvedCallback",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"authority",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"assertionId",internalType:"bytes32",type:"bytes32"},{name:"counterEvidenceHash",internalType:"bytes32",type:"bytes32"}],name:"disputeAssertion",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"disputeId",internalType:"uint256",type:"uint256"}],name:"disputeIdToAssertionId",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"accessManager",internalType:"address",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"ipOwnerTimePercent",outputs:[{name:"",internalType:"uint32",type:"uint32"}],stateMutability:"view"},{type:"function",inputs:[{name:"disputeId",internalType:"uint256",type:"uint256"}],name:"ipOwnerTimePercents",outputs:[{name:"",internalType:"uint32",type:"uint32"}],stateMutability:"view"},{type:"function",inputs:[],name:"isConsumingScheduledOp",outputs:[{name:"",internalType:"bytes4",type:"bytes4"}],stateMutability:"view"},{type:"function",inputs:[{name:"token",internalType:"address",type:"address"}],name:"maxBonds",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[],name:"maxLiveness",outputs:[{name:"",internalType:"uint64",type:"uint64"}],stateMutability:"view"},{type:"function",inputs:[],name:"minLiveness",outputs:[{name:"",internalType:"uint64",type:"uint64"}],stateMutability:"view"},{type:"function",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"disputeId",internalType:"uint256",type:"uint256"},{name:"data",internalType:"bytes",type:"bytes"}],name:"onDisputeCancel",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"disputeId",internalType:"uint256",type:"uint256"},{name:"decision",internalType:"bool",type:"bool"},{name:"data",internalType:"bytes",type:"bytes"}],name:"onDisputeJudgement",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"targetIpId",internalType:"address",type:"address"},{name:"disputeEvidenceHash",internalType:"bytes32",type:"bytes32"},{name:"targetTag",internalType:"bytes32",type:"bytes32"},{name:"disputeId",internalType:"uint256",type:"uint256"},{name:"data",internalType:"bytes",type:"bytes"}],name:"onRaiseDispute",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"disputeId",internalType:"uint256",type:"uint256"},{name:"data",internalType:"bytes",type:"bytes"}],name:"onResolveDispute",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"oov3",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"paused",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[],name:"proxiableUUID",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"newAuthority",internalType:"address",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"minLiveness",internalType:"uint64",type:"uint64"},{name:"maxLiveness",internalType:"uint64",type:"uint64"},{name:"ipOwnerTimePercent",internalType:"uint32",type:"uint32"}],name:"setLiveness",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"token",internalType:"address",type:"address"},{name:"maxBond",internalType:"uint256",type:"uint256"}],name:"setMaxBond",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"oov3",internalType:"address",type:"address"}],name:"setOOV3",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newImplementation",internalType:"address",type:"address"},{name:"data",internalType:"bytes",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable"}],DMe={1315:"0xfFD98c3877B8789124f02C7E8239A4b0Ef11E936",1514:"0xfFD98c3877B8789124f02C7E8239A4b0Ef11E936"},jt=[{type:"constructor",inputs:[{name:"accessController",internalType:"address",type:"address"},{name:"ipAccountRegistry",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"error",inputs:[{name:"ipAccount",internalType:"address",type:"address"}],name:"AccessControlled__NotIpAccount"},{type:"error",inputs:[],name:"AccessControlled__ZeroAddress"},{type:"error",inputs:[{name:"authority",internalType:"address",type:"address"}],name:"AccessManagedInvalidAuthority"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"delay",internalType:"uint32",type:"uint32"}],name:"AccessManagedRequiredDelay"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"}],name:"AccessManagedUnauthorized"},{type:"error",inputs:[{name:"target",internalType:"address",type:"address"}],name:"AddressEmptyCode"},{type:"error",inputs:[],name:"CoreMetadataModule__MetadataAlreadyFrozen"},{type:"error",inputs:[],name:"CoreMetadataModule__ZeroAccessManager"},{type:"error",inputs:[{name:"implementation",internalType:"address",type:"address"}],name:"ERC1967InvalidImplementation"},{type:"error",inputs:[],name:"ERC1967NonPayable"},{type:"error",inputs:[],name:"FailedCall"},{type:"error",inputs:[],name:"InvalidInitialization"},{type:"error",inputs:[],name:"NotInitializing"},{type:"error",inputs:[],name:"UUPSUnauthorizedCallContext"},{type:"error",inputs:[{name:"slot",internalType:"bytes32",type:"bytes32"}],name:"UUPSUnsupportedProxiableUUID"},{type:"event",anonymous:!1,inputs:[{name:"authority",internalType:"address",type:"address",indexed:!1}],name:"AuthorityUpdated"},{type:"event",anonymous:!1,inputs:[{name:"version",internalType:"uint64",type:"uint64",indexed:!1}],name:"Initialized"},{type:"event",anonymous:!1,inputs:[{name:"ipId",internalType:"address",type:"address",indexed:!0}],name:"MetadataFrozen"},{type:"event",anonymous:!1,inputs:[{name:"ipId",internalType:"address",type:"address",indexed:!0},{name:"metadataURI",internalType:"string",type:"string",indexed:!1},{name:"metadataHash",internalType:"bytes32",type:"bytes32",indexed:!1}],name:"MetadataURISet"},{type:"event",anonymous:!1,inputs:[{name:"ipId",internalType:"address",type:"address",indexed:!0},{name:"nftTokenURI",internalType:"string",type:"string",indexed:!1},{name:"nftMetadataHash",internalType:"bytes32",type:"bytes32",indexed:!1}],name:"NFTTokenURISet"},{type:"event",anonymous:!1,inputs:[{name:"implementation",internalType:"address",type:"address",indexed:!0}],name:"Upgraded"},{type:"function",inputs:[],name:"ACCESS_CONTROLLER",outputs:[{name:"",internalType:"contract IAccessController",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"IP_ASSET_REGISTRY",outputs:[{name:"",internalType:"contract IIPAssetRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"UPGRADE_INTERFACE_VERSION",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[],name:"authority",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"}],name:"freezeMetadata",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"accessManager",internalType:"address",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"isConsumingScheduledOp",outputs:[{name:"",internalType:"bytes4",type:"bytes4"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"}],name:"isMetadataFrozen",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[],name:"name",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"pure"},{type:"function",inputs:[],name:"proxiableUUID",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"metadataURI",internalType:"string",type:"string"},{name:"metadataHash",internalType:"bytes32",type:"bytes32"},{name:"nftMetadataHash",internalType:"bytes32",type:"bytes32"}],name:"setAll",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newAuthority",internalType:"address",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"metadataURI",internalType:"string",type:"string"},{name:"metadataHash",internalType:"bytes32",type:"bytes32"}],name:"setMetadataURI",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"interfaceId",internalType:"bytes4",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"nftMetadataHash",internalType:"bytes32",type:"bytes32"}],name:"updateNftTokenURI",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newImplementation",internalType:"address",type:"address"},{name:"data",internalType:"bytes",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable"}],QM={1315:"0x6E81a25C99C6e8430aeC7353325EB138aFE5DC16",1514:"0x6E81a25C99C6e8430aeC7353325EB138aFE5DC16"},ra=[{type:"constructor",inputs:[{name:"accessController",internalType:"address",type:"address"},{name:"coreMetadataModule",internalType:"address",type:"address"},{name:"ipAssetRegistry",internalType:"address",type:"address"},{name:"licenseRegistry",internalType:"address",type:"address"},{name:"licenseToken",internalType:"address",type:"address"},{name:"licensingModule",internalType:"address",type:"address"},{name:"pilTemplate",internalType:"address",type:"address"},{name:"royaltyModule",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"error",inputs:[{name:"authority",internalType:"address",type:"address"}],name:"AccessManagedInvalidAuthority"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"delay",internalType:"uint32",type:"uint32"}],name:"AccessManagedRequiredDelay"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"}],name:"AccessManagedUnauthorized"},{type:"error",inputs:[{name:"target",internalType:"address",type:"address"}],name:"AddressEmptyCode"},{type:"error",inputs:[{name:"tokenId",internalType:"uint256",type:"uint256"},{name:"caller",internalType:"address",type:"address"},{name:"actualTokenOwner",internalType:"address",type:"address"}],name:"DerivativeWorkflows__CallerAndNotTokenOwner"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"signer",internalType:"address",type:"address"}],name:"DerivativeWorkflows__CallerNotSigner"},{type:"error",inputs:[],name:"DerivativeWorkflows__EmptyLicenseTokens"},{type:"error",inputs:[],name:"DerivativeWorkflows__ZeroAddressParam"},{type:"error",inputs:[{name:"implementation",internalType:"address",type:"address"}],name:"ERC1967InvalidImplementation"},{type:"error",inputs:[],name:"ERC1967NonPayable"},{type:"error",inputs:[],name:"FailedCall"},{type:"error",inputs:[],name:"InvalidInitialization"},{type:"error",inputs:[],name:"LicensingHelper__ParentIpIdsAndLicenseTermsIdsMismatch"},{type:"error",inputs:[],name:"NotInitializing"},{type:"error",inputs:[],name:"PermissionHelper__ModulesAndSelectorsMismatch"},{type:"error",inputs:[{name:"token",internalType:"address",type:"address"}],name:"SafeERC20FailedOperation"},{type:"error",inputs:[],name:"UUPSUnauthorizedCallContext"},{type:"error",inputs:[{name:"slot",internalType:"bytes32",type:"bytes32"}],name:"UUPSUnsupportedProxiableUUID"},{type:"error",inputs:[],name:"Workflow__CallerNotAuthorizedToMint"},{type:"event",anonymous:!1,inputs:[{name:"authority",internalType:"address",type:"address",indexed:!1}],name:"AuthorityUpdated"},{type:"event",anonymous:!1,inputs:[{name:"version",internalType:"uint64",type:"uint64",indexed:!1}],name:"Initialized"},{type:"event",anonymous:!1,inputs:[{name:"implementation",internalType:"address",type:"address",indexed:!0}],name:"Upgraded"},{type:"function",inputs:[],name:"ACCESS_CONTROLLER",outputs:[{name:"",internalType:"contract IAccessController",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"CORE_METADATA_MODULE",outputs:[{name:"",internalType:"contract ICoreMetadataModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"IP_ASSET_REGISTRY",outputs:[{name:"",internalType:"contract IIPAssetRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"LICENSE_REGISTRY",outputs:[{name:"",internalType:"contract ILicenseRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"LICENSE_TOKEN",outputs:[{name:"",internalType:"contract ILicenseToken",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"LICENSING_MODULE",outputs:[{name:"",internalType:"contract ILicensingModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"PIL_TEMPLATE",outputs:[{name:"",internalType:"contract IPILicenseTemplate",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"ROYALTY_MODULE",outputs:[{name:"",internalType:"contract IRoyaltyModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"UPGRADE_INTERFACE_VERSION",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[],name:"authority",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"accessManager",internalType:"address",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"isConsumingScheduledOp",outputs:[{name:"",internalType:"bytes4",type:"bytes4"}],stateMutability:"view"},{type:"function",inputs:[{name:"spgNftContract",internalType:"address",type:"address"},{name:"derivData",internalType:"struct WorkflowStructs.MakeDerivative",type:"tuple",components:[{name:"parentIpIds",internalType:"address[]",type:"address[]"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsIds",internalType:"uint256[]",type:"uint256[]"},{name:"royaltyContext",internalType:"bytes",type:"bytes"},{name:"maxMintingFee",internalType:"uint256",type:"uint256"},{name:"maxRts",internalType:"uint32",type:"uint32"},{name:"maxRevenueShare",internalType:"uint32",type:"uint32"}]},{name:"ipMetadata",internalType:"struct WorkflowStructs.IPMetadata",type:"tuple",components:[{name:"ipMetadataURI",internalType:"string",type:"string"},{name:"ipMetadataHash",internalType:"bytes32",type:"bytes32"},{name:"nftMetadataURI",internalType:"string",type:"string"},{name:"nftMetadataHash",internalType:"bytes32",type:"bytes32"}]},{name:"recipient",internalType:"address",type:"address"},{name:"allowDuplicates",internalType:"bool",type:"bool"}],name:"mintAndRegisterIpAndMakeDerivative",outputs:[{name:"ipId",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"spgNftContract",internalType:"address",type:"address"},{name:"licenseTokenIds",internalType:"uint256[]",type:"uint256[]"},{name:"royaltyContext",internalType:"bytes",type:"bytes"},{name:"maxRts",internalType:"uint32",type:"uint32"},{name:"ipMetadata",internalType:"struct WorkflowStructs.IPMetadata",type:"tuple",components:[{name:"ipMetadataURI",internalType:"string",type:"string"},{name:"ipMetadataHash",internalType:"bytes32",type:"bytes32"},{name:"nftMetadataURI",internalType:"string",type:"string"},{name:"nftMetadataHash",internalType:"bytes32",type:"bytes32"}]},{name:"recipient",internalType:"address",type:"address"},{name:"allowDuplicates",internalType:"bool",type:"bool"}],name:"mintAndRegisterIpAndMakeDerivativeWithLicenseTokens",outputs:[{name:"ipId",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"data",internalType:"bytes[]",type:"bytes[]"}],name:"multicall",outputs:[{name:"results",internalType:"bytes[]",type:"bytes[]"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"",internalType:"address",type:"address"},{name:"",internalType:"address",type:"address"},{name:"",internalType:"uint256",type:"uint256"},{name:"",internalType:"bytes",type:"bytes"}],name:"onERC721Received",outputs:[{name:"",internalType:"bytes4",type:"bytes4"}],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"proxiableUUID",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"nftContract",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"},{name:"derivData",internalType:"struct WorkflowStructs.MakeDerivative",type:"tuple",components:[{name:"parentIpIds",internalType:"address[]",type:"address[]"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsIds",internalType:"uint256[]",type:"uint256[]"},{name:"royaltyContext",internalType:"bytes",type:"bytes"},{name:"maxMintingFee",internalType:"uint256",type:"uint256"},{name:"maxRts",internalType:"uint32",type:"uint32"},{name:"maxRevenueShare",internalType:"uint32",type:"uint32"}]},{name:"ipMetadata",internalType:"struct WorkflowStructs.IPMetadata",type:"tuple",components:[{name:"ipMetadataURI",internalType:"string",type:"string"},{name:"ipMetadataHash",internalType:"bytes32",type:"bytes32"},{name:"nftMetadataURI",internalType:"string",type:"string"},{name:"nftMetadataHash",internalType:"bytes32",type:"bytes32"}]},{name:"sigMetadataAndRegister",internalType:"struct WorkflowStructs.SignatureData",type:"tuple",components:[{name:"signer",internalType:"address",type:"address"},{name:"deadline",internalType:"uint256",type:"uint256"},{name:"signature",internalType:"bytes",type:"bytes"}]}],name:"registerIpAndMakeDerivative",outputs:[{name:"ipId",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"nftContract",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"},{name:"licenseTokenIds",internalType:"uint256[]",type:"uint256[]"},{name:"royaltyContext",internalType:"bytes",type:"bytes"},{name:"maxRts",internalType:"uint32",type:"uint32"},{name:"ipMetadata",internalType:"struct WorkflowStructs.IPMetadata",type:"tuple",components:[{name:"ipMetadataURI",internalType:"string",type:"string"},{name:"ipMetadataHash",internalType:"bytes32",type:"bytes32"},{name:"nftMetadataURI",internalType:"string",type:"string"},{name:"nftMetadataHash",internalType:"bytes32",type:"bytes32"}]},{name:"sigMetadataAndRegister",internalType:"struct WorkflowStructs.SignatureData",type:"tuple",components:[{name:"signer",internalType:"address",type:"address"},{name:"deadline",internalType:"uint256",type:"uint256"},{name:"signature",internalType:"bytes",type:"bytes"}]}],name:"registerIpAndMakeDerivativeWithLicenseTokens",outputs:[{name:"ipId",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newAuthority",internalType:"address",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newImplementation",internalType:"address",type:"address"},{name:"data",internalType:"bytes",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable"}],gZ={1315:"0x9e2d496f72C547C2C535B167e06ED8729B374a4f",1514:"0x9e2d496f72C547C2C535B167e06ED8729B374a4f"},Ps=[{type:"constructor",inputs:[{name:"accessController",internalType:"address",type:"address"},{name:"ipAssetRegistry",internalType:"address",type:"address"},{name:"licenseRegistry",internalType:"address",type:"address"},{name:"ipGraphAcl",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"error",inputs:[{name:"ipAccount",internalType:"address",type:"address"}],name:"AccessControlled__NotIpAccount"},{type:"error",inputs:[],name:"AccessControlled__ZeroAddress"},{type:"error",inputs:[{name:"authority",internalType:"address",type:"address"}],name:"AccessManagedInvalidAuthority"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"delay",internalType:"uint32",type:"uint32"}],name:"AccessManagedRequiredDelay"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"}],name:"AccessManagedUnauthorized"},{type:"error",inputs:[{name:"target",internalType:"address",type:"address"}],name:"AddressEmptyCode"},{type:"error",inputs:[],name:"DisputeModule__CannotBlacklistBaseArbitrationPolicy"},{type:"error",inputs:[],name:"DisputeModule__DisputeAlreadyPropagated"},{type:"error",inputs:[],name:"DisputeModule__DisputeWithoutInfringementTag"},{type:"error",inputs:[],name:"DisputeModule__EvidenceHashAlreadyUsed"},{type:"error",inputs:[],name:"DisputeModule__NotAbleToResolve"},{type:"error",inputs:[],name:"DisputeModule__NotAllowedToWhitelist"},{type:"error",inputs:[],name:"DisputeModule__NotArbitrationRelayer"},{type:"error",inputs:[],name:"DisputeModule__NotDerivativeOrGroupIp"},{type:"error",inputs:[],name:"DisputeModule__NotDisputeInitiator"},{type:"error",inputs:[],name:"DisputeModule__NotInDisputeState"},{type:"error",inputs:[],name:"DisputeModule__NotRegisteredIpId"},{type:"error",inputs:[],name:"DisputeModule__NotWhitelistedArbitrationPolicy"},{type:"error",inputs:[],name:"DisputeModule__NotWhitelistedDisputeTag"},{type:"error",inputs:[],name:"DisputeModule__RelatedDisputeNotResolved"},{type:"error",inputs:[],name:"DisputeModule__ZeroAccessController"},{type:"error",inputs:[],name:"DisputeModule__ZeroAccessManager"},{type:"error",inputs:[],name:"DisputeModule__ZeroArbitrationPolicy"},{type:"error",inputs:[],name:"DisputeModule__ZeroArbitrationPolicyCooldown"},{type:"error",inputs:[],name:"DisputeModule__ZeroDisputeEvidenceHash"},{type:"error",inputs:[],name:"DisputeModule__ZeroDisputeTag"},{type:"error",inputs:[],name:"DisputeModule__ZeroIPAssetRegistry"},{type:"error",inputs:[],name:"DisputeModule__ZeroIPGraphACL"},{type:"error",inputs:[],name:"DisputeModule__ZeroLicenseRegistry"},{type:"error",inputs:[{name:"implementation",internalType:"address",type:"address"}],name:"ERC1967InvalidImplementation"},{type:"error",inputs:[],name:"ERC1967NonPayable"},{type:"error",inputs:[],name:"EnforcedPause"},{type:"error",inputs:[],name:"ExpectedPause"},{type:"error",inputs:[],name:"FailedCall"},{type:"error",inputs:[],name:"InvalidInitialization"},{type:"error",inputs:[],name:"NotInitializing"},{type:"error",inputs:[],name:"ReentrancyGuardReentrantCall"},{type:"error",inputs:[],name:"UUPSUnauthorizedCallContext"},{type:"error",inputs:[{name:"slot",internalType:"bytes32",type:"bytes32"}],name:"UUPSUnsupportedProxiableUUID"},{type:"event",anonymous:!1,inputs:[{name:"cooldown",internalType:"uint256",type:"uint256",indexed:!1}],name:"ArbitrationPolicyCooldownUpdated"},{type:"event",anonymous:!1,inputs:[{name:"ipId",internalType:"address",type:"address",indexed:!1},{name:"arbitrationPolicy",internalType:"address",type:"address",indexed:!1},{name:"nextArbitrationUpdateTimestamp",internalType:"uint256",type:"uint256",indexed:!1}],name:"ArbitrationPolicySet"},{type:"event",anonymous:!1,inputs:[{name:"arbitrationPolicy",internalType:"address",type:"address",indexed:!1},{name:"allowed",internalType:"bool",type:"bool",indexed:!1}],name:"ArbitrationPolicyWhitelistUpdated"},{type:"event",anonymous:!1,inputs:[{name:"arbitrationPolicy",internalType:"address",type:"address",indexed:!1},{name:"arbitrationRelayer",internalType:"address",type:"address",indexed:!1}],name:"ArbitrationRelayerUpdated"},{type:"event",anonymous:!1,inputs:[{name:"authority",internalType:"address",type:"address",indexed:!1}],name:"AuthorityUpdated"},{type:"event",anonymous:!1,inputs:[{name:"arbitrationPolicy",internalType:"address",type:"address",indexed:!1}],name:"DefaultArbitrationPolicyUpdated"},{type:"event",anonymous:!1,inputs:[{name:"disputeId",internalType:"uint256",type:"uint256",indexed:!1},{name:"data",internalType:"bytes",type:"bytes",indexed:!1}],name:"DisputeCancelled"},{type:"event",anonymous:!1,inputs:[{name:"disputeId",internalType:"uint256",type:"uint256",indexed:!1},{name:"decision",internalType:"bool",type:"bool",indexed:!1},{name:"data",internalType:"bytes",type:"bytes",indexed:!1}],name:"DisputeJudgementSet"},{type:"event",anonymous:!1,inputs:[{name:"disputeId",internalType:"uint256",type:"uint256",indexed:!1},{name:"targetIpId",internalType:"address",type:"address",indexed:!1},{name:"disputeInitiator",internalType:"address",type:"address",indexed:!1},{name:"disputeTimestamp",internalType:"uint256",type:"uint256",indexed:!1},{name:"arbitrationPolicy",internalType:"address",type:"address",indexed:!1},{name:"disputeEvidenceHash",internalType:"bytes32",type:"bytes32",indexed:!1},{name:"targetTag",internalType:"bytes32",type:"bytes32",indexed:!1},{name:"data",internalType:"bytes",type:"bytes",indexed:!1}],name:"DisputeRaised"},{type:"event",anonymous:!1,inputs:[{name:"disputeId",internalType:"uint256",type:"uint256",indexed:!1},{name:"data",internalType:"bytes",type:"bytes",indexed:!1}],name:"DisputeResolved"},{type:"event",anonymous:!1,inputs:[{name:"version",internalType:"uint64",type:"uint64",indexed:!1}],name:"Initialized"},{type:"event",anonymous:!1,inputs:[{name:"disputeId",internalType:"uint256",type:"uint256",indexed:!1},{name:"infringingIpId",internalType:"address",type:"address",indexed:!1},{name:"ipIdToTag",internalType:"address",type:"address",indexed:!1},{name:"infringerDisputeId",internalType:"uint256",type:"uint256",indexed:!1},{name:"tag",internalType:"bytes32",type:"bytes32",indexed:!1},{name:"disputeTimestamp",internalType:"uint256",type:"uint256",indexed:!1}],name:"IpTaggedOnRelatedIpInfringement"},{type:"event",anonymous:!1,inputs:[{name:"account",internalType:"address",type:"address",indexed:!1}],name:"Paused"},{type:"event",anonymous:!1,inputs:[{name:"tag",internalType:"bytes32",type:"bytes32",indexed:!1},{name:"allowed",internalType:"bool",type:"bool",indexed:!1}],name:"TagWhitelistUpdated"},{type:"event",anonymous:!1,inputs:[{name:"account",internalType:"address",type:"address",indexed:!1}],name:"Unpaused"},{type:"event",anonymous:!1,inputs:[{name:"implementation",internalType:"address",type:"address",indexed:!0}],name:"Upgraded"},{type:"function",inputs:[],name:"ACCESS_CONTROLLER",outputs:[{name:"",internalType:"contract IAccessController",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"GROUP_IP_ASSET_REGISTRY",outputs:[{name:"",internalType:"contract IGroupIPAssetRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"IN_DISPUTE",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[],name:"IP_ASSET_REGISTRY",outputs:[{name:"",internalType:"contract IIPAssetRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"IP_GRAPH_ACL",outputs:[{name:"",internalType:"contract IPGraphACL",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"LICENSE_REGISTRY",outputs:[{name:"",internalType:"contract ILicenseRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"UPGRADE_INTERFACE_VERSION",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[{name:"accessManager",internalType:"address",type:"address"}],name:"__ProtocolPausable_init",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"}],name:"arbitrationPolicies",outputs:[{name:"policy",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"arbitrationPolicyCooldown",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"arbitrationPolicy",internalType:"address",type:"address"}],name:"arbitrationRelayer",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"authority",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"baseArbitrationPolicy",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"disputeId",internalType:"uint256",type:"uint256"},{name:"data",internalType:"bytes",type:"bytes"}],name:"cancelDispute",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"disputeCounter",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"disputeId",internalType:"uint256",type:"uint256"}],name:"disputes",outputs:[{name:"targetIpId",internalType:"address",type:"address"},{name:"disputeInitiator",internalType:"address",type:"address"},{name:"disputeTimestamp",internalType:"uint256",type:"uint256"},{name:"arbitrationPolicy",internalType:"address",type:"address"},{name:"disputeEvidenceHash",internalType:"bytes32",type:"bytes32"},{name:"targetTag",internalType:"bytes32",type:"bytes32"},{name:"currentTag",internalType:"bytes32",type:"bytes32"},{name:"infringerDisputeId",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"accessManager",internalType:"address",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"isConsumingScheduledOp",outputs:[{name:"",internalType:"bytes4",type:"bytes4"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"}],name:"isIpTagged",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"arbitrationPolicy",internalType:"address",type:"address"}],name:"isWhitelistedArbitrationPolicy",outputs:[{name:"allowed",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"tag",internalType:"bytes32",type:"bytes32"}],name:"isWhitelistedDisputeTag",outputs:[{name:"allowed",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"data",internalType:"bytes[]",type:"bytes[]"}],name:"multicall",outputs:[{name:"results",internalType:"bytes[]",type:"bytes[]"}],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"name",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"}],name:"nextArbitrationPolicies",outputs:[{name:"policy",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"}],name:"nextArbitrationUpdateTimestamps",outputs:[{name:"timestamp",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"paused",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[],name:"proxiableUUID",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"targetIpId",internalType:"address",type:"address"},{name:"disputeEvidenceHash",internalType:"bytes32",type:"bytes32"},{name:"targetTag",internalType:"bytes32",type:"bytes32"},{name:"data",internalType:"bytes",type:"bytes"}],name:"raiseDispute",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"disputeId",internalType:"uint256",type:"uint256"},{name:"data",internalType:"bytes",type:"bytes"}],name:"resolveDispute",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"nextArbitrationPolicy",internalType:"address",type:"address"}],name:"setArbitrationPolicy",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"cooldown",internalType:"uint256",type:"uint256"}],name:"setArbitrationPolicyCooldown",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"arbitrationPolicy",internalType:"address",type:"address"},{name:"arbPolicyRelayer",internalType:"address",type:"address"}],name:"setArbitrationRelayer",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newAuthority",internalType:"address",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"arbitrationPolicy",internalType:"address",type:"address"}],name:"setBaseArbitrationPolicy",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"disputeId",internalType:"uint256",type:"uint256"},{name:"decision",internalType:"bool",type:"bool"},{name:"data",internalType:"bytes",type:"bytes"}],name:"setDisputeJudgement",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"interfaceId",internalType:"bytes4",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipIdToTag",internalType:"address",type:"address"},{name:"infringerDisputeId",internalType:"uint256",type:"uint256"}],name:"tagIfRelatedIpInfringed",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"}],name:"updateActiveArbitrationPolicy",outputs:[{name:"arbitrationPolicy",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newImplementation",internalType:"address",type:"address"},{name:"data",internalType:"bytes",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable"},{type:"function",inputs:[{name:"arbitrationPolicy",internalType:"address",type:"address"},{name:"allowed",internalType:"bool",type:"bool"}],name:"whitelistArbitrationPolicy",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"tag",internalType:"bytes32",type:"bytes32"},{name:"allowed",internalType:"bool",type:"bool"}],name:"whitelistDisputeTag",outputs:[],stateMutability:"nonpayable"}],_Me={1315:"0x9b7A9c70AFF961C799110954fc06F3093aeb94C5",1514:"0x9b7A9c70AFF961C799110954fc06F3093aeb94C5"},Eo=[{type:"constructor",inputs:[],stateMutability:"nonpayable"},{type:"error",inputs:[{name:"spender",internalType:"address",type:"address"},{name:"allowance",internalType:"uint256",type:"uint256"},{name:"needed",internalType:"uint256",type:"uint256"}],name:"ERC20InsufficientAllowance"},{type:"error",inputs:[{name:"sender",internalType:"address",type:"address"},{name:"balance",internalType:"uint256",type:"uint256"},{name:"needed",internalType:"uint256",type:"uint256"}],name:"ERC20InsufficientBalance"},{type:"error",inputs:[{name:"approver",internalType:"address",type:"address"}],name:"ERC20InvalidApprover"},{type:"error",inputs:[{name:"receiver",internalType:"address",type:"address"}],name:"ERC20InvalidReceiver"},{type:"error",inputs:[{name:"sender",internalType:"address",type:"address"}],name:"ERC20InvalidSender"},{type:"error",inputs:[{name:"spender",internalType:"address",type:"address"}],name:"ERC20InvalidSpender"},{type:"event",anonymous:!1,inputs:[{name:"owner",internalType:"address",type:"address",indexed:!0},{name:"spender",internalType:"address",type:"address",indexed:!0},{name:"value",internalType:"uint256",type:"uint256",indexed:!1}],name:"Approval"},{type:"event",anonymous:!1,inputs:[{name:"from",internalType:"address",type:"address",indexed:!0},{name:"to",internalType:"address",type:"address",indexed:!0},{name:"value",internalType:"uint256",type:"uint256",indexed:!1}],name:"Transfer"},{type:"function",inputs:[{name:"owner",internalType:"address",type:"address"},{name:"spender",internalType:"address",type:"address"}],name:"allowance",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"spender",internalType:"address",type:"address"},{name:"value",internalType:"uint256",type:"uint256"}],name:"approve",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"account",internalType:"address",type:"address"}],name:"balanceOf",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"from",internalType:"address",type:"address"},{name:"amount",internalType:"uint256",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"decimals",outputs:[{name:"",internalType:"uint8",type:"uint8"}],stateMutability:"view"},{type:"function",inputs:[{name:"to",internalType:"address",type:"address"},{name:"amount",internalType:"uint256",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"name",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[],name:"symbol",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[],name:"totalSupply",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"to",internalType:"address",type:"address"},{name:"value",internalType:"uint256",type:"uint256"}],name:"transfer",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"from",internalType:"address",type:"address"},{name:"to",internalType:"address",type:"address"},{name:"value",internalType:"uint256",type:"uint256"}],name:"transferFrom",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"nonpayable"}],LMe={1315:"0xF2104833d386a2734a4eB3B8ad6FC6812F29E38E",1514:"0xF2104833d386a2734a4eB3B8ad6FC6812F29E38E"},Tr=[{type:"constructor",inputs:[{name:"accessController",internalType:"address",type:"address"},{name:"ipAssetRegistry",internalType:"address",type:"address"},{name:"licenseRegistry",internalType:"address",type:"address"},{name:"licenseToken",internalType:"address",type:"address"},{name:"groupNFT",internalType:"address",type:"address"},{name:"royaltyModule",internalType:"address",type:"address"},{name:"disputeModule",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"error",inputs:[{name:"ipAccount",internalType:"address",type:"address"}],name:"AccessControlled__NotIpAccount"},{type:"error",inputs:[],name:"AccessControlled__ZeroAddress"},{type:"error",inputs:[{name:"authority",internalType:"address",type:"address"}],name:"AccessManagedInvalidAuthority"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"delay",internalType:"uint32",type:"uint32"}],name:"AccessManagedRequiredDelay"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"}],name:"AccessManagedUnauthorized"},{type:"error",inputs:[{name:"target",internalType:"address",type:"address"}],name:"AddressEmptyCode"},{type:"error",inputs:[{name:"implementation",internalType:"address",type:"address"}],name:"ERC1967InvalidImplementation"},{type:"error",inputs:[],name:"ERC1967NonPayable"},{type:"error",inputs:[],name:"EnforcedPause"},{type:"error",inputs:[],name:"ExpectedPause"},{type:"error",inputs:[],name:"FailedCall"},{type:"error",inputs:[{name:"ipId",internalType:"address",type:"address"}],name:"GroupingModule__CannotAddDisputedIpToGroup"},{type:"error",inputs:[{name:"groupId",internalType:"address",type:"address"},{name:"childGroupId",internalType:"address",type:"address"}],name:"GroupingModule__CannotAddGroupToGroup"},{type:"error",inputs:[{name:"groupId",internalType:"address",type:"address"}],name:"GroupingModule__DisputedGroupCannotAddIp"},{type:"error",inputs:[{name:"groupId",internalType:"address",type:"address"}],name:"GroupingModule__DisputedGroupCannotClaimReward"},{type:"error",inputs:[{name:"groupId",internalType:"address",type:"address"}],name:"GroupingModule__DisputedGroupCannotCollectRoyalties"},{type:"error",inputs:[{name:"groupId",internalType:"address",type:"address"}],name:"GroupingModule__GroupFrozenDueToAlreadyMintLicenseTokens"},{type:"error",inputs:[{name:"groupId",internalType:"address",type:"address"}],name:"GroupingModule__GroupFrozenDueToHasDerivativeIps"},{type:"error",inputs:[{name:"groupId",internalType:"address",type:"address"}],name:"GroupingModule__GroupIPHasNoLicenseTerms"},{type:"error",inputs:[{name:"groupId",internalType:"address",type:"address"}],name:"GroupingModule__GroupIPLicenseHasNotSpecifyRevenueToken"},{type:"error",inputs:[{name:"groupId",internalType:"address",type:"address"},{name:"groupRewardPool",internalType:"address",type:"address"}],name:"GroupingModule__GroupRewardPoolNotWhitelisted"},{type:"error",inputs:[{name:"groupNFT",internalType:"address",type:"address"}],name:"GroupingModule__InvalidGroupNFT"},{type:"error",inputs:[{name:"groupId",internalType:"address",type:"address"},{name:"ipId",internalType:"address",type:"address"},{name:"maxAllowedRewardShare",internalType:"uint256",type:"uint256"},{name:"expectGroupRewardShare",internalType:"uint256",type:"uint256"}],name:"GroupingModule__IpExpectedShareExceedsMaxAllowedShare"},{type:"error",inputs:[{name:"groupId",internalType:"address",type:"address"},{name:"maxAllowedRewardShare",internalType:"uint256",type:"uint256"}],name:"GroupingModule__MaxAllowedRewardShareExceeds100Percent"},{type:"error",inputs:[{name:"groupId",internalType:"address",type:"address"},{name:"royaltyToken",internalType:"address",type:"address"}],name:"GroupingModule__RoyaltyTokenNotWhitelisted"},{type:"error",inputs:[{name:"groupId",internalType:"address",type:"address"},{name:"groupCurrentToken",internalType:"address",type:"address"},{name:"token",internalType:"address",type:"address"}],name:"GroupingModule__TokenNotMatchGroupRevenueToken"},{type:"error",inputs:[{name:"groupId",internalType:"address",type:"address"},{name:"totalGroupRewardShare",internalType:"uint256",type:"uint256"},{name:"ipId",internalType:"address",type:"address"},{name:"expectGroupRewardShare",internalType:"uint256",type:"uint256"}],name:"GroupingModule__TotalGroupRewardShareExceeds100Percent"},{type:"error",inputs:[],name:"GroupingModule__ZeroAccessManager"},{type:"error",inputs:[],name:"GroupingModule__ZeroGroupNFT"},{type:"error",inputs:[],name:"GroupingModule__ZeroGroupRewardPool"},{type:"error",inputs:[],name:"GroupingModule__ZeroIpAssetRegistry"},{type:"error",inputs:[],name:"GroupingModule__ZeroLicenseRegistry"},{type:"error",inputs:[],name:"GroupingModule__ZeroLicenseToken"},{type:"error",inputs:[],name:"GroupingModule__ZeroRoyaltyModule"},{type:"error",inputs:[],name:"InvalidInitialization"},{type:"error",inputs:[],name:"NotInitializing"},{type:"error",inputs:[],name:"ReentrancyGuardReentrantCall"},{type:"error",inputs:[],name:"UUPSUnauthorizedCallContext"},{type:"error",inputs:[{name:"slot",internalType:"bytes32",type:"bytes32"}],name:"UUPSUnsupportedProxiableUUID"},{type:"event",anonymous:!1,inputs:[{name:"groupId",internalType:"address",type:"address",indexed:!0},{name:"ipIds",internalType:"address[]",type:"address[]",indexed:!1}],name:"AddedIpToGroup"},{type:"event",anonymous:!1,inputs:[{name:"authority",internalType:"address",type:"address",indexed:!1}],name:"AuthorityUpdated"},{type:"event",anonymous:!1,inputs:[{name:"groupId",internalType:"address",type:"address",indexed:!0},{name:"token",internalType:"address",type:"address",indexed:!0},{name:"ipId",internalType:"address[]",type:"address[]",indexed:!1},{name:"amount",internalType:"uint256[]",type:"uint256[]",indexed:!1}],name:"ClaimedReward"},{type:"event",anonymous:!1,inputs:[{name:"groupId",internalType:"address",type:"address",indexed:!0},{name:"token",internalType:"address",type:"address",indexed:!0},{name:"pool",internalType:"address",type:"address",indexed:!0},{name:"amount",internalType:"uint256",type:"uint256",indexed:!1}],name:"CollectedRoyaltiesToGroupPool"},{type:"event",anonymous:!1,inputs:[{name:"groupId",internalType:"address",type:"address",indexed:!0},{name:"groupPool",internalType:"address",type:"address",indexed:!0}],name:"IPGroupRegistered"},{type:"event",anonymous:!1,inputs:[{name:"version",internalType:"uint64",type:"uint64",indexed:!1}],name:"Initialized"},{type:"event",anonymous:!1,inputs:[{name:"account",internalType:"address",type:"address",indexed:!1}],name:"Paused"},{type:"event",anonymous:!1,inputs:[{name:"groupId",internalType:"address",type:"address",indexed:!0},{name:"ipIds",internalType:"address[]",type:"address[]",indexed:!1}],name:"RemovedIpFromGroup"},{type:"event",anonymous:!1,inputs:[{name:"account",internalType:"address",type:"address",indexed:!1}],name:"Unpaused"},{type:"event",anonymous:!1,inputs:[{name:"implementation",internalType:"address",type:"address",indexed:!0}],name:"Upgraded"},{type:"function",inputs:[],name:"ACCESS_CONTROLLER",outputs:[{name:"",internalType:"contract IAccessController",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"DISPUTE_MODULE",outputs:[{name:"",internalType:"contract IDisputeModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"GROUP_IP_ASSET_REGISTRY",outputs:[{name:"",internalType:"contract IGroupIPAssetRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"GROUP_NFT",outputs:[{name:"",internalType:"contract IGroupNFT",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"IP_ASSET_REGISTRY",outputs:[{name:"",internalType:"contract IIPAssetRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"LICENSE_REGISTRY",outputs:[{name:"",internalType:"contract ILicenseRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"LICENSE_TOKEN",outputs:[{name:"",internalType:"contract ILicenseToken",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"ROYALTY_MODULE",outputs:[{name:"",internalType:"contract IRoyaltyModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"UPGRADE_INTERFACE_VERSION",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[{name:"accessManager",internalType:"address",type:"address"}],name:"__ProtocolPausable_init",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"groupIpId",internalType:"address",type:"address"},{name:"ipIds",internalType:"address[]",type:"address[]"},{name:"maxAllowedRewardShare",internalType:"uint256",type:"uint256"}],name:"addIp",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"authority",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"groupId",internalType:"address",type:"address"},{name:"token",internalType:"address",type:"address"},{name:"ipIds",internalType:"address[]",type:"address[]"}],name:"claimReward",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"groupId",internalType:"address",type:"address"},{name:"token",internalType:"address",type:"address"}],name:"collectRoyalties",outputs:[{name:"royalties",internalType:"uint256",type:"uint256"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"groupId",internalType:"address",type:"address"},{name:"token",internalType:"address",type:"address"},{name:"ipIds",internalType:"address[]",type:"address[]"}],name:"getClaimableReward",outputs:[{name:"",internalType:"uint256[]",type:"uint256[]"}],stateMutability:"view"},{type:"function",inputs:[{name:"accessManager",internalType:"address",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"isConsumingScheduledOp",outputs:[{name:"",internalType:"bytes4",type:"bytes4"}],stateMutability:"view"},{type:"function",inputs:[],name:"name",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"pure"},{type:"function",inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"paused",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[],name:"proxiableUUID",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"groupPool",internalType:"address",type:"address"}],name:"registerGroup",outputs:[{name:"groupId",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"groupIpId",internalType:"address",type:"address"},{name:"ipIds",internalType:"address[]",type:"address[]"}],name:"removeIp",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newAuthority",internalType:"address",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"interfaceId",internalType:"bytes4",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newImplementation",internalType:"address",type:"address"},{name:"data",internalType:"bytes",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable"},{type:"function",inputs:[{name:"rewardPool",internalType:"address",type:"address"},{name:"allowed",internalType:"bool",type:"bool"}],name:"whitelistGroupRewardPool",outputs:[],stateMutability:"nonpayable"}],OMe={1315:"0x69D3a7aa9edb72Bc226E745A7cCdd50D947b69Ac",1514:"0x69D3a7aa9edb72Bc226E745A7cCdd50D947b69Ac"},To=[{type:"constructor",inputs:[{name:"accessController",internalType:"address",type:"address"},{name:"coreMetadataModule",internalType:"address",type:"address"},{name:"groupingModule",internalType:"address",type:"address"},{name:"groupNft",internalType:"address",type:"address"},{name:"ipAssetRegistry",internalType:"address",type:"address"},{name:"licenseRegistry",internalType:"address",type:"address"},{name:"licensingModule",internalType:"address",type:"address"},{name:"pilTemplate",internalType:"address",type:"address"},{name:"royaltyModule",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"error",inputs:[{name:"authority",internalType:"address",type:"address"}],name:"AccessManagedInvalidAuthority"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"delay",internalType:"uint32",type:"uint32"}],name:"AccessManagedRequiredDelay"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"}],name:"AccessManagedUnauthorized"},{type:"error",inputs:[{name:"target",internalType:"address",type:"address"}],name:"AddressEmptyCode"},{type:"error",inputs:[{name:"implementation",internalType:"address",type:"address"}],name:"ERC1967InvalidImplementation"},{type:"error",inputs:[],name:"ERC1967NonPayable"},{type:"error",inputs:[],name:"FailedCall"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"signer",internalType:"address",type:"address"}],name:"GroupingWorkflows__CallerNotSigner"},{type:"error",inputs:[],name:"GroupingWorkflows__NoLicenseData"},{type:"error",inputs:[],name:"GroupingWorkflows__ZeroAddressParam"},{type:"error",inputs:[],name:"InvalidInitialization"},{type:"error",inputs:[],name:"NotInitializing"},{type:"error",inputs:[],name:"PermissionHelper__ModulesAndSelectorsMismatch"},{type:"error",inputs:[],name:"UUPSUnauthorizedCallContext"},{type:"error",inputs:[{name:"slot",internalType:"bytes32",type:"bytes32"}],name:"UUPSUnsupportedProxiableUUID"},{type:"error",inputs:[],name:"Workflow__CallerNotAuthorizedToMint"},{type:"event",anonymous:!1,inputs:[{name:"authority",internalType:"address",type:"address",indexed:!1}],name:"AuthorityUpdated"},{type:"event",anonymous:!1,inputs:[{name:"version",internalType:"uint64",type:"uint64",indexed:!1}],name:"Initialized"},{type:"event",anonymous:!1,inputs:[{name:"implementation",internalType:"address",type:"address",indexed:!0}],name:"Upgraded"},{type:"function",inputs:[],name:"ACCESS_CONTROLLER",outputs:[{name:"",internalType:"contract IAccessController",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"CORE_METADATA_MODULE",outputs:[{name:"",internalType:"contract ICoreMetadataModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"GROUPING_MODULE",outputs:[{name:"",internalType:"contract IGroupingModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"GROUP_NFT",outputs:[{name:"",internalType:"contract GroupNFT",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"IP_ASSET_REGISTRY",outputs:[{name:"",internalType:"contract IIPAssetRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"LICENSE_REGISTRY",outputs:[{name:"",internalType:"contract ILicenseRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"LICENSING_MODULE",outputs:[{name:"",internalType:"contract ILicensingModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"PIL_TEMPLATE",outputs:[{name:"",internalType:"contract IPILicenseTemplate",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"ROYALTY_MODULE",outputs:[{name:"",internalType:"contract RoyaltyModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"UPGRADE_INTERFACE_VERSION",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[],name:"authority",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"groupIpId",internalType:"address",type:"address"},{name:"currencyTokens",internalType:"address[]",type:"address[]"},{name:"memberIpIds",internalType:"address[]",type:"address[]"}],name:"collectRoyaltiesAndClaimReward",outputs:[{name:"collectedRoyalties",internalType:"uint256[]",type:"uint256[]"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"accessManager",internalType:"address",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"isConsumingScheduledOp",outputs:[{name:"",internalType:"bytes4",type:"bytes4"}],stateMutability:"view"},{type:"function",inputs:[{name:"spgNftContract",internalType:"address",type:"address"},{name:"groupId",internalType:"address",type:"address"},{name:"recipient",internalType:"address",type:"address"},{name:"maxAllowedRewardShare",internalType:"uint256",type:"uint256"},{name:"licensesData",internalType:"struct WorkflowStructs.LicenseData[]",type:"tuple[]",components:[{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"},{name:"licensingConfig",internalType:"struct Licensing.LicensingConfig",type:"tuple",components:[{name:"isSet",internalType:"bool",type:"bool"},{name:"mintingFee",internalType:"uint256",type:"uint256"},{name:"licensingHook",internalType:"address",type:"address"},{name:"hookData",internalType:"bytes",type:"bytes"},{name:"commercialRevShare",internalType:"uint32",type:"uint32"},{name:"disabled",internalType:"bool",type:"bool"},{name:"expectMinimumGroupRewardShare",internalType:"uint32",type:"uint32"},{name:"expectGroupRewardPool",internalType:"address",type:"address"}]}]},{name:"ipMetadata",internalType:"struct WorkflowStructs.IPMetadata",type:"tuple",components:[{name:"ipMetadataURI",internalType:"string",type:"string"},{name:"ipMetadataHash",internalType:"bytes32",type:"bytes32"},{name:"nftMetadataURI",internalType:"string",type:"string"},{name:"nftMetadataHash",internalType:"bytes32",type:"bytes32"}]},{name:"sigAddToGroup",internalType:"struct WorkflowStructs.SignatureData",type:"tuple",components:[{name:"signer",internalType:"address",type:"address"},{name:"deadline",internalType:"uint256",type:"uint256"},{name:"signature",internalType:"bytes",type:"bytes"}]},{name:"allowDuplicates",internalType:"bool",type:"bool"}],name:"mintAndRegisterIpAndAttachLicenseAndAddToGroup",outputs:[{name:"ipId",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"data",internalType:"bytes[]",type:"bytes[]"}],name:"multicall",outputs:[{name:"results",internalType:"bytes[]",type:"bytes[]"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"",internalType:"address",type:"address"},{name:"",internalType:"address",type:"address"},{name:"",internalType:"uint256",type:"uint256"},{name:"",internalType:"bytes",type:"bytes"}],name:"onERC721Received",outputs:[{name:"",internalType:"bytes4",type:"bytes4"}],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"proxiableUUID",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"groupPool",internalType:"address",type:"address"},{name:"licenseData",internalType:"struct WorkflowStructs.LicenseData",type:"tuple",components:[{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"},{name:"licensingConfig",internalType:"struct Licensing.LicensingConfig",type:"tuple",components:[{name:"isSet",internalType:"bool",type:"bool"},{name:"mintingFee",internalType:"uint256",type:"uint256"},{name:"licensingHook",internalType:"address",type:"address"},{name:"hookData",internalType:"bytes",type:"bytes"},{name:"commercialRevShare",internalType:"uint32",type:"uint32"},{name:"disabled",internalType:"bool",type:"bool"},{name:"expectMinimumGroupRewardShare",internalType:"uint32",type:"uint32"},{name:"expectGroupRewardPool",internalType:"address",type:"address"}]}]}],name:"registerGroupAndAttachLicense",outputs:[{name:"groupId",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"groupPool",internalType:"address",type:"address"},{name:"ipIds",internalType:"address[]",type:"address[]"},{name:"maxAllowedRewardShare",internalType:"uint256",type:"uint256"},{name:"licenseData",internalType:"struct WorkflowStructs.LicenseData",type:"tuple",components:[{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"},{name:"licensingConfig",internalType:"struct Licensing.LicensingConfig",type:"tuple",components:[{name:"isSet",internalType:"bool",type:"bool"},{name:"mintingFee",internalType:"uint256",type:"uint256"},{name:"licensingHook",internalType:"address",type:"address"},{name:"hookData",internalType:"bytes",type:"bytes"},{name:"commercialRevShare",internalType:"uint32",type:"uint32"},{name:"disabled",internalType:"bool",type:"bool"},{name:"expectMinimumGroupRewardShare",internalType:"uint32",type:"uint32"},{name:"expectGroupRewardPool",internalType:"address",type:"address"}]}]}],name:"registerGroupAndAttachLicenseAndAddIps",outputs:[{name:"groupId",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"nftContract",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"},{name:"groupId",internalType:"address",type:"address"},{name:"maxAllowedRewardShare",internalType:"uint256",type:"uint256"},{name:"licensesData",internalType:"struct WorkflowStructs.LicenseData[]",type:"tuple[]",components:[{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"},{name:"licensingConfig",internalType:"struct Licensing.LicensingConfig",type:"tuple",components:[{name:"isSet",internalType:"bool",type:"bool"},{name:"mintingFee",internalType:"uint256",type:"uint256"},{name:"licensingHook",internalType:"address",type:"address"},{name:"hookData",internalType:"bytes",type:"bytes"},{name:"commercialRevShare",internalType:"uint32",type:"uint32"},{name:"disabled",internalType:"bool",type:"bool"},{name:"expectMinimumGroupRewardShare",internalType:"uint32",type:"uint32"},{name:"expectGroupRewardPool",internalType:"address",type:"address"}]}]},{name:"ipMetadata",internalType:"struct WorkflowStructs.IPMetadata",type:"tuple",components:[{name:"ipMetadataURI",internalType:"string",type:"string"},{name:"ipMetadataHash",internalType:"bytes32",type:"bytes32"},{name:"nftMetadataURI",internalType:"string",type:"string"},{name:"nftMetadataHash",internalType:"bytes32",type:"bytes32"}]},{name:"sigMetadataAndAttachAndConfig",internalType:"struct WorkflowStructs.SignatureData",type:"tuple",components:[{name:"signer",internalType:"address",type:"address"},{name:"deadline",internalType:"uint256",type:"uint256"},{name:"signature",internalType:"bytes",type:"bytes"}]},{name:"sigAddToGroup",internalType:"struct WorkflowStructs.SignatureData",type:"tuple",components:[{name:"signer",internalType:"address",type:"address"},{name:"deadline",internalType:"uint256",type:"uint256"},{name:"signature",internalType:"bytes",type:"bytes"}]}],name:"registerIpAndAttachLicenseAndAddToGroup",outputs:[{name:"ipId",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newAuthority",internalType:"address",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newImplementation",internalType:"address",type:"address"},{name:"data",internalType:"bytes",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable"}],$Me={1315:"0xD7c0beb3aa4DCD4723465f1ecAd045676c24CDCd",1514:"0xD7c0beb3aa4DCD4723465f1ecAd045676c24CDCd"},Ci=[{type:"constructor",inputs:[{name:"accessController",internalType:"address",type:"address"},{name:"ipAssetRegistry",internalType:"address",type:"address"},{name:"licenseRegistry",internalType:"address",type:"address"},{name:"moduleRegistry",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"error",inputs:[],name:"FnSelectorNotRecognized"},{type:"error",inputs:[],name:"IPAccountStorage__InvalidBatchLengths"},{type:"error",inputs:[{name:"module",internalType:"address",type:"address"}],name:"IPAccountStorage__NotRegisteredModule"},{type:"error",inputs:[],name:"IPAccountStorage__ZeroIpAssetRegistry"},{type:"error",inputs:[],name:"IPAccountStorage__ZeroLicenseRegistry"},{type:"error",inputs:[],name:"IPAccountStorage__ZeroModuleRegistry"},{type:"error",inputs:[],name:"IPAccount__ExpiredSignature"},{type:"error",inputs:[],name:"IPAccount__InvalidCalldata"},{type:"error",inputs:[],name:"IPAccount__InvalidOperation"},{type:"error",inputs:[],name:"IPAccount__InvalidSignature"},{type:"error",inputs:[],name:"IPAccount__InvalidSigner"},{type:"error",inputs:[],name:"IPAccount__UUPSUpgradeDisabled"},{type:"error",inputs:[],name:"IPAccount__ZeroAccessController"},{type:"error",inputs:[],name:"OperationNotSupported"},{type:"error",inputs:[],name:"SelfOwnDetected"},{type:"error",inputs:[],name:"Unauthorized"},{type:"error",inputs:[],name:"UnauthorizedCallContext"},{type:"error",inputs:[],name:"UpgradeFailed"},{type:"event",anonymous:!1,inputs:[{name:"to",internalType:"address",type:"address",indexed:!0},{name:"value",internalType:"uint256",type:"uint256",indexed:!1},{name:"data",internalType:"bytes",type:"bytes",indexed:!1},{name:"nonce",internalType:"bytes32",type:"bytes32",indexed:!1}],name:"Executed"},{type:"event",anonymous:!1,inputs:[{name:"to",internalType:"address",type:"address",indexed:!0},{name:"value",internalType:"uint256",type:"uint256",indexed:!1},{name:"data",internalType:"bytes",type:"bytes",indexed:!1},{name:"nonce",internalType:"bytes32",type:"bytes32",indexed:!1},{name:"deadline",internalType:"uint256",type:"uint256",indexed:!1},{name:"signer",internalType:"address",type:"address",indexed:!0},{name:"signature",internalType:"bytes",type:"bytes",indexed:!1}],name:"ExecutedWithSig"},{type:"event",anonymous:!1,inputs:[{name:"implementation",internalType:"address",type:"address",indexed:!0}],name:"Upgraded"},{type:"fallback",stateMutability:"payable"},{type:"function",inputs:[],name:"ACCESS_CONTROLLER",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"IP_ASSET_REGISTRY",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"LICENSE_REGISTRY",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"MODULE_REGISTRY",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"",internalType:"bytes32",type:"bytes32"},{name:"",internalType:"bytes32",type:"bytes32"}],name:"bytes32Data",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"",internalType:"bytes32",type:"bytes32"},{name:"",internalType:"bytes32",type:"bytes32"}],name:"bytesData",outputs:[{name:"",internalType:"bytes",type:"bytes"}],stateMutability:"view"},{type:"function",inputs:[],name:"eip712Domain",outputs:[{name:"fields",internalType:"bytes1",type:"bytes1"},{name:"name",internalType:"string",type:"string"},{name:"version",internalType:"string",type:"string"},{name:"chainId",internalType:"uint256",type:"uint256"},{name:"verifyingContract",internalType:"address",type:"address"},{name:"salt",internalType:"bytes32",type:"bytes32"},{name:"extensions",internalType:"uint256[]",type:"uint256[]"}],stateMutability:"view"},{type:"function",inputs:[{name:"to",internalType:"address",type:"address"},{name:"value",internalType:"uint256",type:"uint256"},{name:"data",internalType:"bytes",type:"bytes"},{name:"operation",internalType:"uint8",type:"uint8"}],name:"execute",outputs:[{name:"result",internalType:"bytes",type:"bytes"}],stateMutability:"payable"},{type:"function",inputs:[{name:"to",internalType:"address",type:"address"},{name:"value",internalType:"uint256",type:"uint256"},{name:"data",internalType:"bytes",type:"bytes"}],name:"execute",outputs:[{name:"result",internalType:"bytes",type:"bytes"}],stateMutability:"payable"},{type:"function",inputs:[{name:"calls",internalType:"struct ERC6551.Call[]",type:"tuple[]",components:[{name:"target",internalType:"address",type:"address"},{name:"value",internalType:"uint256",type:"uint256"},{name:"data",internalType:"bytes",type:"bytes"}]},{name:"operation",internalType:"uint8",type:"uint8"}],name:"executeBatch",outputs:[{name:"results",internalType:"bytes[]",type:"bytes[]"}],stateMutability:"payable"},{type:"function",inputs:[{name:"to",internalType:"address",type:"address"},{name:"value",internalType:"uint256",type:"uint256"},{name:"data",internalType:"bytes",type:"bytes"},{name:"signer",internalType:"address",type:"address"},{name:"deadline",internalType:"uint256",type:"uint256"},{name:"signature",internalType:"bytes",type:"bytes"}],name:"executeWithSig",outputs:[{name:"result",internalType:"bytes",type:"bytes"}],stateMutability:"payable"},{type:"function",inputs:[{name:"key",internalType:"bytes32",type:"bytes32"}],name:"getBytes",outputs:[{name:"",internalType:"bytes",type:"bytes"}],stateMutability:"view"},{type:"function",inputs:[{name:"namespace",internalType:"bytes32",type:"bytes32"},{name:"key",internalType:"bytes32",type:"bytes32"}],name:"getBytes",outputs:[{name:"",internalType:"bytes",type:"bytes"}],stateMutability:"view"},{type:"function",inputs:[{name:"namespace",internalType:"bytes32",type:"bytes32"},{name:"key",internalType:"bytes32",type:"bytes32"}],name:"getBytes32",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"key",internalType:"bytes32",type:"bytes32"}],name:"getBytes32",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"namespaces",internalType:"bytes32[]",type:"bytes32[]"},{name:"keys",internalType:"bytes32[]",type:"bytes32[]"}],name:"getBytes32Batch",outputs:[{name:"values",internalType:"bytes32[]",type:"bytes32[]"}],stateMutability:"view"},{type:"function",inputs:[{name:"namespaces",internalType:"bytes32[]",type:"bytes32[]"},{name:"keys",internalType:"bytes32[]",type:"bytes32[]"}],name:"getBytesBatch",outputs:[{name:"values",internalType:"bytes[]",type:"bytes[]"}],stateMutability:"view"},{type:"function",inputs:[{name:"hash",internalType:"bytes32",type:"bytes32"},{name:"signature",internalType:"bytes",type:"bytes"}],name:"isValidSignature",outputs:[{name:"result",internalType:"bytes4",type:"bytes4"}],stateMutability:"view"},{type:"function",inputs:[{name:"signer",internalType:"address",type:"address"},{name:"data",internalType:"bytes",type:"bytes"}],name:"isValidSigner",outputs:[{name:"result",internalType:"bytes4",type:"bytes4"}],stateMutability:"view"},{type:"function",inputs:[{name:"signer",internalType:"address",type:"address"},{name:"to",internalType:"address",type:"address"},{name:"data",internalType:"bytes",type:"bytes"}],name:"isValidSigner",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[],name:"owner",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"proxiableUUID",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"key",internalType:"bytes32",type:"bytes32"},{name:"value",internalType:"bytes",type:"bytes"}],name:"setBytes",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"key",internalType:"bytes32",type:"bytes32"},{name:"value",internalType:"bytes32",type:"bytes32"}],name:"setBytes32",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"keys",internalType:"bytes32[]",type:"bytes32[]"},{name:"values",internalType:"bytes32[]",type:"bytes32[]"}],name:"setBytes32Batch",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"keys",internalType:"bytes32[]",type:"bytes32[]"},{name:"values",internalType:"bytes[]",type:"bytes[]"}],name:"setBytesBatch",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"state",outputs:[{name:"result",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"interfaceId",internalType:"bytes4",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[],name:"token",outputs:[{name:"",internalType:"uint256",type:"uint256"},{name:"",internalType:"address",type:"address"},{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"newImplementation",internalType:"address",type:"address"},{name:"data",internalType:"bytes",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable"},{type:"receive",stateMutability:"payable"}],FMe={1315:"0x7343646585443F1c3F64E4F08b708788527e1C77",1514:"0x7343646585443F1c3F64E4F08b708788527e1C77"},Au=[{type:"constructor",inputs:[{name:"erc6551Registry",internalType:"address",type:"address"},{name:"ipAccountImpl",internalType:"address",type:"address"},{name:"groupingModule",internalType:"address",type:"address"},{name:"ipAccountImplBeacon",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"error",inputs:[{name:"authority",internalType:"address",type:"address"}],name:"AccessManagedInvalidAuthority"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"delay",internalType:"uint32",type:"uint32"}],name:"AccessManagedRequiredDelay"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"}],name:"AccessManagedUnauthorized"},{type:"error",inputs:[{name:"target",internalType:"address",type:"address"}],name:"AddressEmptyCode"},{type:"error",inputs:[{name:"implementation",internalType:"address",type:"address"}],name:"ERC1967InvalidImplementation"},{type:"error",inputs:[],name:"ERC1967NonPayable"},{type:"error",inputs:[],name:"EnforcedPause"},{type:"error",inputs:[],name:"ExpectedPause"},{type:"error",inputs:[],name:"FailedCall"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"}],name:"GroupIPAssetRegistry__CallerIsNotGroupingModule"},{type:"error",inputs:[{name:"groupPool",internalType:"address",type:"address"}],name:"GroupIPAssetRegistry__GroupRewardPoolNotRegistered"},{type:"error",inputs:[{name:"groupSize",internalType:"uint256",type:"uint256"},{name:"limit",internalType:"uint256",type:"uint256"}],name:"GroupIPAssetRegistry__GroupSizeExceedsLimit"},{type:"error",inputs:[{name:"rewardPool",internalType:"address",type:"address"}],name:"GroupIPAssetRegistry__InvalidGroupRewardPool"},{type:"error",inputs:[{name:"groupId",internalType:"address",type:"address"}],name:"GroupIPAssetRegistry__NotRegisteredGroupIP"},{type:"error",inputs:[{name:"ipId",internalType:"address",type:"address"}],name:"GroupIPAssetRegistry__NotRegisteredIP"},{type:"error",inputs:[{name:"pageSize",internalType:"uint256",type:"uint256"},{name:"limit",internalType:"uint256",type:"uint256"}],name:"GroupIPAssetRegistry__PageSizeExceedsLimit"},{type:"error",inputs:[],name:"IPAccountRegistry_ZeroERC6551Registry"},{type:"error",inputs:[],name:"IPAccountRegistry_ZeroIpAccountImpl"},{type:"error",inputs:[],name:"IPAccountRegistry_ZeroIpAccountImplBeacon"},{type:"error",inputs:[{name:"contractAddress",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"}],name:"IPAssetRegistry__InvalidToken"},{type:"error",inputs:[{name:"contractAddress",internalType:"address",type:"address"}],name:"IPAssetRegistry__UnsupportedIERC721"},{type:"error",inputs:[{name:"contractAddress",internalType:"address",type:"address"}],name:"IPAssetRegistry__UnsupportedIERC721Metadata"},{type:"error",inputs:[],name:"IPAssetRegistry__ZeroAccessManager"},{type:"error",inputs:[{name:"name",internalType:"string",type:"string"}],name:"IPAssetRegistry__ZeroAddress"},{type:"error",inputs:[],name:"InvalidInitialization"},{type:"error",inputs:[],name:"NotInitializing"},{type:"error",inputs:[{name:"token",internalType:"address",type:"address"}],name:"SafeERC20FailedOperation"},{type:"error",inputs:[{name:"value",internalType:"uint256",type:"uint256"},{name:"length",internalType:"uint256",type:"uint256"}],name:"StringsInsufficientHexLength"},{type:"error",inputs:[],name:"UUPSUnauthorizedCallContext"},{type:"error",inputs:[{name:"slot",internalType:"bytes32",type:"bytes32"}],name:"UUPSUnsupportedProxiableUUID"},{type:"event",anonymous:!1,inputs:[{name:"authority",internalType:"address",type:"address",indexed:!1}],name:"AuthorityUpdated"},{type:"event",anonymous:!1,inputs:[{name:"account",internalType:"address",type:"address",indexed:!0},{name:"implementation",internalType:"address",type:"address",indexed:!0},{name:"chainId",internalType:"uint256",type:"uint256",indexed:!0},{name:"tokenContract",internalType:"address",type:"address",indexed:!1},{name:"tokenId",internalType:"uint256",type:"uint256",indexed:!1}],name:"IPAccountRegistered"},{type:"event",anonymous:!1,inputs:[{name:"ipId",internalType:"address",type:"address",indexed:!1},{name:"chainId",internalType:"uint256",type:"uint256",indexed:!0},{name:"tokenContract",internalType:"address",type:"address",indexed:!0},{name:"tokenId",internalType:"uint256",type:"uint256",indexed:!0},{name:"name",internalType:"string",type:"string",indexed:!1},{name:"uri",internalType:"string",type:"string",indexed:!1},{name:"registrationDate",internalType:"uint256",type:"uint256",indexed:!1}],name:"IPRegistered"},{type:"event",anonymous:!1,inputs:[{name:"payer",internalType:"address",type:"address",indexed:!0},{name:"treasury",internalType:"address",type:"address",indexed:!0},{name:"feeToken",internalType:"address",type:"address",indexed:!0},{name:"amount",internalType:"uint96",type:"uint96",indexed:!1}],name:"IPRegistrationFeePaid"},{type:"event",anonymous:!1,inputs:[{name:"version",internalType:"uint64",type:"uint64",indexed:!1}],name:"Initialized"},{type:"event",anonymous:!1,inputs:[{name:"account",internalType:"address",type:"address",indexed:!1}],name:"Paused"},{type:"event",anonymous:!1,inputs:[{name:"treasury",internalType:"address",type:"address",indexed:!0},{name:"feeToken",internalType:"address",type:"address",indexed:!0},{name:"feeAmount",internalType:"uint96",type:"uint96",indexed:!1}],name:"RegistrationFeeSet"},{type:"event",anonymous:!1,inputs:[{name:"account",internalType:"address",type:"address",indexed:!1}],name:"Unpaused"},{type:"event",anonymous:!1,inputs:[{name:"implementation",internalType:"address",type:"address",indexed:!0}],name:"Upgraded"},{type:"function",inputs:[],name:"ERC6551_PUBLIC_REGISTRY",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"GROUPING_MODULE",outputs:[{name:"",internalType:"contract IGroupingModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"IP_ACCOUNT_IMPL",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"IP_ACCOUNT_IMPL_UPGRADEABLE_BEACON",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"IP_ACCOUNT_SALT",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[],name:"MAX_GROUP_SIZE",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[],name:"UPGRADE_INTERFACE_VERSION",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[{name:"accessManager",internalType:"address",type:"address"}],name:"__ProtocolPausable_init",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"groupId",internalType:"address",type:"address"},{name:"ipIds",internalType:"address[]",type:"address[]"}],name:"addGroupMember",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"authority",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"groupId",internalType:"address",type:"address"},{name:"ipId",internalType:"address",type:"address"}],name:"containsIp",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[],name:"getFeeAmount",outputs:[{name:"",internalType:"uint96",type:"uint96"}],stateMutability:"view"},{type:"function",inputs:[],name:"getFeeToken",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"groupId",internalType:"address",type:"address"},{name:"startIndex",internalType:"uint256",type:"uint256"},{name:"size",internalType:"uint256",type:"uint256"}],name:"getGroupMembers",outputs:[{name:"results",internalType:"address[]",type:"address[]"}],stateMutability:"view"},{type:"function",inputs:[{name:"groupId",internalType:"address",type:"address"}],name:"getGroupRewardPool",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"getIPAccountImpl",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"getTreasury",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"accessManager",internalType:"address",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"chainId",internalType:"uint256",type:"uint256"},{name:"tokenContract",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"}],name:"ipAccount",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"chainId",internalType:"uint256",type:"uint256"},{name:"tokenContract",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"}],name:"ipId",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"isConsumingScheduledOp",outputs:[{name:"",internalType:"bytes4",type:"bytes4"}],stateMutability:"view"},{type:"function",inputs:[{name:"id",internalType:"address",type:"address"}],name:"isRegistered",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"groupId",internalType:"address",type:"address"}],name:"isRegisteredGroup",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"rewardPool",internalType:"address",type:"address"}],name:"isWhitelistedGroupRewardPool",outputs:[{name:"isWhitelisted",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"paused",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[],name:"proxiableUUID",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"chainid",internalType:"uint256",type:"uint256"},{name:"tokenContract",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"}],name:"register",outputs:[{name:"id",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"groupNft",internalType:"address",type:"address"},{name:"groupNftId",internalType:"uint256",type:"uint256"},{name:"rewardPool",internalType:"address",type:"address"},{name:"registerFeePayer",internalType:"address",type:"address"}],name:"registerGroup",outputs:[{name:"groupId",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"groupId",internalType:"address",type:"address"},{name:"ipIds",internalType:"address[]",type:"address[]"}],name:"removeGroupMember",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newAuthority",internalType:"address",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"treasury",internalType:"address",type:"address"},{name:"feeToken",internalType:"address",type:"address"},{name:"feeAmount",internalType:"uint96",type:"uint96"}],name:"setRegistrationFee",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"groupId",internalType:"address",type:"address"}],name:"totalMembers",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[],name:"totalSupply",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newIpAccountImpl",internalType:"address",type:"address"}],name:"upgradeIPAccountImpl",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newImplementation",internalType:"address",type:"address"},{name:"data",internalType:"bytes",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable"},{type:"function",inputs:[{name:"rewardPool",internalType:"address",type:"address"},{name:"allowed",internalType:"bool",type:"bool"}],name:"whitelistGroupRewardPool",outputs:[],stateMutability:"nonpayable"}],BMe={1315:"0x77319B4031e6eF1250907aa00018B8B1c67a244b",1514:"0x77319B4031e6eF1250907aa00018B8B1c67a244b"},bh=[{type:"constructor",inputs:[{name:"disputeModule",internalType:"address",type:"address"},{name:"royaltyModule",internalType:"address",type:"address"},{name:"ipAssetRegistry",internalType:"address",type:"address"},{name:"groupingModule",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"error",inputs:[{name:"spender",internalType:"address",type:"address"},{name:"allowance",internalType:"uint256",type:"uint256"},{name:"needed",internalType:"uint256",type:"uint256"}],name:"ERC20InsufficientAllowance"},{type:"error",inputs:[{name:"sender",internalType:"address",type:"address"},{name:"balance",internalType:"uint256",type:"uint256"},{name:"needed",internalType:"uint256",type:"uint256"}],name:"ERC20InsufficientBalance"},{type:"error",inputs:[{name:"approver",internalType:"address",type:"address"}],name:"ERC20InvalidApprover"},{type:"error",inputs:[{name:"receiver",internalType:"address",type:"address"}],name:"ERC20InvalidReceiver"},{type:"error",inputs:[{name:"sender",internalType:"address",type:"address"}],name:"ERC20InvalidSender"},{type:"error",inputs:[{name:"spender",internalType:"address",type:"address"}],name:"ERC20InvalidSpender"},{type:"error",inputs:[],name:"InvalidInitialization"},{type:"error",inputs:[],name:"IpRoyaltyVault__EnforcedPause"},{type:"error",inputs:[],name:"IpRoyaltyVault__GroupPoolMustClaimViaGroupingModule"},{type:"error",inputs:[{name:"vault",internalType:"address",type:"address"},{name:"account",internalType:"address",type:"address"},{name:"amount",internalType:"uint256",type:"uint256"}],name:"IpRoyaltyVault__InsufficientBalance"},{type:"error",inputs:[],name:"IpRoyaltyVault__InvalidTargetIpId"},{type:"error",inputs:[],name:"IpRoyaltyVault__NegativeValueUnsafeCastingToUint256"},{type:"error",inputs:[],name:"IpRoyaltyVault__NoClaimableTokens"},{type:"error",inputs:[],name:"IpRoyaltyVault__NotAllowedToAddTokenToVault"},{type:"error",inputs:[],name:"IpRoyaltyVault__NotWhitelistedRoyaltyToken"},{type:"error",inputs:[{name:"vault",internalType:"address",type:"address"},{name:"from",internalType:"address",type:"address"}],name:"IpRoyaltyVault__SameFromToAddress"},{type:"error",inputs:[],name:"IpRoyaltyVault__VaultDoesNotBelongToAnAncestor"},{type:"error",inputs:[],name:"IpRoyaltyVault__VaultsMustClaimAsSelf"},{type:"error",inputs:[],name:"IpRoyaltyVault__ZeroAmount"},{type:"error",inputs:[{name:"vault",internalType:"address",type:"address"},{name:"account",internalType:"address",type:"address"}],name:"IpRoyaltyVault__ZeroBalance"},{type:"error",inputs:[],name:"IpRoyaltyVault__ZeroDisputeModule"},{type:"error",inputs:[],name:"IpRoyaltyVault__ZeroGroupingModule"},{type:"error",inputs:[],name:"IpRoyaltyVault__ZeroIpAssetRegistry"},{type:"error",inputs:[],name:"IpRoyaltyVault__ZeroRoyaltyModule"},{type:"error",inputs:[],name:"NotInitializing"},{type:"error",inputs:[],name:"ReentrancyGuardReentrantCall"},{type:"error",inputs:[{name:"token",internalType:"address",type:"address"}],name:"SafeERC20FailedOperation"},{type:"event",anonymous:!1,inputs:[{name:"owner",internalType:"address",type:"address",indexed:!0},{name:"spender",internalType:"address",type:"address",indexed:!0},{name:"value",internalType:"uint256",type:"uint256",indexed:!1}],name:"Approval"},{type:"event",anonymous:!1,inputs:[{name:"version",internalType:"uint64",type:"uint64",indexed:!1}],name:"Initialized"},{type:"event",anonymous:!1,inputs:[{name:"claimer",internalType:"address",type:"address",indexed:!1},{name:"token",internalType:"address",type:"address",indexed:!1},{name:"revenueDebt",internalType:"int256",type:"int256",indexed:!1}],name:"RevenueDebtUpdated"},{type:"event",anonymous:!1,inputs:[{name:"token",internalType:"address",type:"address",indexed:!1},{name:"amount",internalType:"uint256",type:"uint256",indexed:!1}],name:"RevenueTokenAddedToVault"},{type:"event",anonymous:!1,inputs:[{name:"claimer",internalType:"address",type:"address",indexed:!1},{name:"token",internalType:"address",type:"address",indexed:!1},{name:"amount",internalType:"uint256",type:"uint256",indexed:!1}],name:"RevenueTokenClaimed"},{type:"event",anonymous:!1,inputs:[{name:"from",internalType:"address",type:"address",indexed:!0},{name:"to",internalType:"address",type:"address",indexed:!0},{name:"value",internalType:"uint256",type:"uint256",indexed:!1}],name:"Transfer"},{type:"function",inputs:[],name:"DISPUTE_MODULE",outputs:[{name:"",internalType:"contract IDisputeModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"GROUPING_MODULE",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"IP_ASSET_REGISTRY",outputs:[{name:"",internalType:"contract IGroupIPAssetRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"ROYALTY_MODULE",outputs:[{name:"",internalType:"contract IRoyaltyModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"owner",internalType:"address",type:"address"},{name:"spender",internalType:"address",type:"address"}],name:"allowance",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"spender",internalType:"address",type:"address"},{name:"value",internalType:"uint256",type:"uint256"}],name:"approve",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"account",internalType:"address",type:"address"}],name:"balanceOf",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"tokenList",internalType:"address[]",type:"address[]"},{name:"targetIpId",internalType:"address",type:"address"}],name:"claimByTokenBatchAsSelf",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"claimer",internalType:"address",type:"address"},{name:"token",internalType:"address",type:"address"}],name:"claimRevenueOnBehalf",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"claimer",internalType:"address",type:"address"},{name:"tokenList",internalType:"address[]",type:"address[]"}],name:"claimRevenueOnBehalfByTokenBatch",outputs:[{name:"",internalType:"uint256[]",type:"uint256[]"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"claimer",internalType:"address",type:"address"},{name:"token",internalType:"address",type:"address"}],name:"claimableRevenue",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"claimer",internalType:"address",type:"address"},{name:"token",internalType:"address",type:"address"}],name:"claimerRevenueDebt",outputs:[{name:"",internalType:"int256",type:"int256"}],stateMutability:"view"},{type:"function",inputs:[],name:"decimals",outputs:[{name:"",internalType:"uint8",type:"uint8"}],stateMutability:"pure"},{type:"function",inputs:[{name:"name",internalType:"string",type:"string"},{name:"symbol",internalType:"string",type:"string"},{name:"supply",internalType:"uint32",type:"uint32"},{name:"ipIdAddress",internalType:"address",type:"address"},{name:"rtReceiver",internalType:"address",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"ipId",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"name",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[],name:"symbol",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[],name:"tokens",outputs:[{name:"",internalType:"address[]",type:"address[]"}],stateMutability:"view"},{type:"function",inputs:[],name:"totalSupply",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"to",internalType:"address",type:"address"},{name:"value",internalType:"uint256",type:"uint256"}],name:"transfer",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"from",internalType:"address",type:"address"},{name:"to",internalType:"address",type:"address"},{name:"value",internalType:"uint256",type:"uint256"}],name:"transferFrom",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"token",internalType:"address",type:"address"},{name:"amount",internalType:"uint256",type:"uint256"}],name:"updateVaultBalance",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"token",internalType:"address",type:"address"}],name:"vaultAccBalances",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"}],UMe={1315:"0x73e2D097F71e5103824abB6562362106A8955AEc",1514:"0x63cC7611316880213f3A4Ba9bD72b0EaA2010298"},No=[{type:"constructor",inputs:[{name:"accessController",internalType:"address",type:"address"},{name:"coreMetadataModule",internalType:"address",type:"address"},{name:"ipAssetRegistry",internalType:"address",type:"address"},{name:"licenseRegistry",internalType:"address",type:"address"},{name:"licensingModule",internalType:"address",type:"address"},{name:"pilTemplate",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"error",inputs:[{name:"authority",internalType:"address",type:"address"}],name:"AccessManagedInvalidAuthority"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"delay",internalType:"uint32",type:"uint32"}],name:"AccessManagedRequiredDelay"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"}],name:"AccessManagedUnauthorized"},{type:"error",inputs:[{name:"target",internalType:"address",type:"address"}],name:"AddressEmptyCode"},{type:"error",inputs:[{name:"implementation",internalType:"address",type:"address"}],name:"ERC1967InvalidImplementation"},{type:"error",inputs:[],name:"ERC1967NonPayable"},{type:"error",inputs:[],name:"FailedCall"},{type:"error",inputs:[],name:"InvalidInitialization"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"signer",internalType:"address",type:"address"}],name:"LicenseAttachmentWorkflows__CallerNotSigner"},{type:"error",inputs:[],name:"LicenseAttachmentWorkflows__NoLicenseTermsData"},{type:"error",inputs:[],name:"LicenseAttachmentWorkflows__ZeroAddressParam"},{type:"error",inputs:[],name:"NotInitializing"},{type:"error",inputs:[],name:"PermissionHelper__ModulesAndSelectorsMismatch"},{type:"error",inputs:[],name:"UUPSUnauthorizedCallContext"},{type:"error",inputs:[{name:"slot",internalType:"bytes32",type:"bytes32"}],name:"UUPSUnsupportedProxiableUUID"},{type:"error",inputs:[],name:"Workflow__CallerNotAuthorizedToMint"},{type:"event",anonymous:!1,inputs:[{name:"authority",internalType:"address",type:"address",indexed:!1}],name:"AuthorityUpdated"},{type:"event",anonymous:!1,inputs:[{name:"version",internalType:"uint64",type:"uint64",indexed:!1}],name:"Initialized"},{type:"event",anonymous:!1,inputs:[{name:"implementation",internalType:"address",type:"address",indexed:!0}],name:"Upgraded"},{type:"function",inputs:[],name:"ACCESS_CONTROLLER",outputs:[{name:"",internalType:"contract IAccessController",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"CORE_METADATA_MODULE",outputs:[{name:"",internalType:"contract ICoreMetadataModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"IP_ASSET_REGISTRY",outputs:[{name:"",internalType:"contract IIPAssetRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"LICENSE_REGISTRY",outputs:[{name:"",internalType:"contract ILicenseRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"LICENSING_MODULE",outputs:[{name:"",internalType:"contract ILicensingModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"PIL_TEMPLATE",outputs:[{name:"",internalType:"contract IPILicenseTemplate",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"UPGRADE_INTERFACE_VERSION",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[],name:"authority",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"accessManager",internalType:"address",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"isConsumingScheduledOp",outputs:[{name:"",internalType:"bytes4",type:"bytes4"}],stateMutability:"view"},{type:"function",inputs:[{name:"spgNftContract",internalType:"address",type:"address"},{name:"recipient",internalType:"address",type:"address"},{name:"ipMetadata",internalType:"struct WorkflowStructs.IPMetadata",type:"tuple",components:[{name:"ipMetadataURI",internalType:"string",type:"string"},{name:"ipMetadataHash",internalType:"bytes32",type:"bytes32"},{name:"nftMetadataURI",internalType:"string",type:"string"},{name:"nftMetadataHash",internalType:"bytes32",type:"bytes32"}]},{name:"allowDuplicates",internalType:"bool",type:"bool"}],name:"mintAndRegisterIpAndAttachDefaultTerms",outputs:[{name:"ipId",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"spgNftContract",internalType:"address",type:"address"},{name:"recipient",internalType:"address",type:"address"},{name:"ipMetadata",internalType:"struct WorkflowStructs.IPMetadata",type:"tuple",components:[{name:"ipMetadataURI",internalType:"string",type:"string"},{name:"ipMetadataHash",internalType:"bytes32",type:"bytes32"},{name:"nftMetadataURI",internalType:"string",type:"string"},{name:"nftMetadataHash",internalType:"bytes32",type:"bytes32"}]},{name:"licenseTermsData",internalType:"struct WorkflowStructs.LicenseTermsData[]",type:"tuple[]",components:[{name:"terms",internalType:"struct PILTerms",type:"tuple",components:[{name:"transferable",internalType:"bool",type:"bool"},{name:"royaltyPolicy",internalType:"address",type:"address"},{name:"defaultMintingFee",internalType:"uint256",type:"uint256"},{name:"expiration",internalType:"uint256",type:"uint256"},{name:"commercialUse",internalType:"bool",type:"bool"},{name:"commercialAttribution",internalType:"bool",type:"bool"},{name:"commercializerChecker",internalType:"address",type:"address"},{name:"commercializerCheckerData",internalType:"bytes",type:"bytes"},{name:"commercialRevShare",internalType:"uint32",type:"uint32"},{name:"commercialRevCeiling",internalType:"uint256",type:"uint256"},{name:"derivativesAllowed",internalType:"bool",type:"bool"},{name:"derivativesAttribution",internalType:"bool",type:"bool"},{name:"derivativesApproval",internalType:"bool",type:"bool"},{name:"derivativesReciprocal",internalType:"bool",type:"bool"},{name:"derivativeRevCeiling",internalType:"uint256",type:"uint256"},{name:"currency",internalType:"address",type:"address"},{name:"uri",internalType:"string",type:"string"}]},{name:"licensingConfig",internalType:"struct Licensing.LicensingConfig",type:"tuple",components:[{name:"isSet",internalType:"bool",type:"bool"},{name:"mintingFee",internalType:"uint256",type:"uint256"},{name:"licensingHook",internalType:"address",type:"address"},{name:"hookData",internalType:"bytes",type:"bytes"},{name:"commercialRevShare",internalType:"uint32",type:"uint32"},{name:"disabled",internalType:"bool",type:"bool"},{name:"expectMinimumGroupRewardShare",internalType:"uint32",type:"uint32"},{name:"expectGroupRewardPool",internalType:"address",type:"address"}]}]},{name:"allowDuplicates",internalType:"bool",type:"bool"}],name:"mintAndRegisterIpAndAttachPILTerms",outputs:[{name:"ipId",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"},{name:"licenseTermsIds",internalType:"uint256[]",type:"uint256[]"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"data",internalType:"bytes[]",type:"bytes[]"}],name:"multicall",outputs:[{name:"results",internalType:"bytes[]",type:"bytes[]"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"",internalType:"address",type:"address"},{name:"",internalType:"address",type:"address"},{name:"",internalType:"uint256",type:"uint256"},{name:"",internalType:"bytes",type:"bytes"}],name:"onERC721Received",outputs:[{name:"",internalType:"bytes4",type:"bytes4"}],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"proxiableUUID",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"nftContract",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"},{name:"ipMetadata",internalType:"struct WorkflowStructs.IPMetadata",type:"tuple",components:[{name:"ipMetadataURI",internalType:"string",type:"string"},{name:"ipMetadataHash",internalType:"bytes32",type:"bytes32"},{name:"nftMetadataURI",internalType:"string",type:"string"},{name:"nftMetadataHash",internalType:"bytes32",type:"bytes32"}]},{name:"sigMetadataAndDefaultTerms",internalType:"struct WorkflowStructs.SignatureData",type:"tuple",components:[{name:"signer",internalType:"address",type:"address"},{name:"deadline",internalType:"uint256",type:"uint256"},{name:"signature",internalType:"bytes",type:"bytes"}]}],name:"registerIpAndAttachDefaultTerms",outputs:[{name:"ipId",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"nftContract",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"},{name:"ipMetadata",internalType:"struct WorkflowStructs.IPMetadata",type:"tuple",components:[{name:"ipMetadataURI",internalType:"string",type:"string"},{name:"ipMetadataHash",internalType:"bytes32",type:"bytes32"},{name:"nftMetadataURI",internalType:"string",type:"string"},{name:"nftMetadataHash",internalType:"bytes32",type:"bytes32"}]},{name:"licenseTermsData",internalType:"struct WorkflowStructs.LicenseTermsData[]",type:"tuple[]",components:[{name:"terms",internalType:"struct PILTerms",type:"tuple",components:[{name:"transferable",internalType:"bool",type:"bool"},{name:"royaltyPolicy",internalType:"address",type:"address"},{name:"defaultMintingFee",internalType:"uint256",type:"uint256"},{name:"expiration",internalType:"uint256",type:"uint256"},{name:"commercialUse",internalType:"bool",type:"bool"},{name:"commercialAttribution",internalType:"bool",type:"bool"},{name:"commercializerChecker",internalType:"address",type:"address"},{name:"commercializerCheckerData",internalType:"bytes",type:"bytes"},{name:"commercialRevShare",internalType:"uint32",type:"uint32"},{name:"commercialRevCeiling",internalType:"uint256",type:"uint256"},{name:"derivativesAllowed",internalType:"bool",type:"bool"},{name:"derivativesAttribution",internalType:"bool",type:"bool"},{name:"derivativesApproval",internalType:"bool",type:"bool"},{name:"derivativesReciprocal",internalType:"bool",type:"bool"},{name:"derivativeRevCeiling",internalType:"uint256",type:"uint256"},{name:"currency",internalType:"address",type:"address"},{name:"uri",internalType:"string",type:"string"}]},{name:"licensingConfig",internalType:"struct Licensing.LicensingConfig",type:"tuple",components:[{name:"isSet",internalType:"bool",type:"bool"},{name:"mintingFee",internalType:"uint256",type:"uint256"},{name:"licensingHook",internalType:"address",type:"address"},{name:"hookData",internalType:"bytes",type:"bytes"},{name:"commercialRevShare",internalType:"uint32",type:"uint32"},{name:"disabled",internalType:"bool",type:"bool"},{name:"expectMinimumGroupRewardShare",internalType:"uint32",type:"uint32"},{name:"expectGroupRewardPool",internalType:"address",type:"address"}]}]},{name:"sigMetadataAndAttachAndConfig",internalType:"struct WorkflowStructs.SignatureData",type:"tuple",components:[{name:"signer",internalType:"address",type:"address"},{name:"deadline",internalType:"uint256",type:"uint256"},{name:"signature",internalType:"bytes",type:"bytes"}]}],name:"registerIpAndAttachPILTerms",outputs:[{name:"ipId",internalType:"address",type:"address"},{name:"licenseTermsIds",internalType:"uint256[]",type:"uint256[]"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"licenseTermsData",internalType:"struct WorkflowStructs.LicenseTermsData[]",type:"tuple[]",components:[{name:"terms",internalType:"struct PILTerms",type:"tuple",components:[{name:"transferable",internalType:"bool",type:"bool"},{name:"royaltyPolicy",internalType:"address",type:"address"},{name:"defaultMintingFee",internalType:"uint256",type:"uint256"},{name:"expiration",internalType:"uint256",type:"uint256"},{name:"commercialUse",internalType:"bool",type:"bool"},{name:"commercialAttribution",internalType:"bool",type:"bool"},{name:"commercializerChecker",internalType:"address",type:"address"},{name:"commercializerCheckerData",internalType:"bytes",type:"bytes"},{name:"commercialRevShare",internalType:"uint32",type:"uint32"},{name:"commercialRevCeiling",internalType:"uint256",type:"uint256"},{name:"derivativesAllowed",internalType:"bool",type:"bool"},{name:"derivativesAttribution",internalType:"bool",type:"bool"},{name:"derivativesApproval",internalType:"bool",type:"bool"},{name:"derivativesReciprocal",internalType:"bool",type:"bool"},{name:"derivativeRevCeiling",internalType:"uint256",type:"uint256"},{name:"currency",internalType:"address",type:"address"},{name:"uri",internalType:"string",type:"string"}]},{name:"licensingConfig",internalType:"struct Licensing.LicensingConfig",type:"tuple",components:[{name:"isSet",internalType:"bool",type:"bool"},{name:"mintingFee",internalType:"uint256",type:"uint256"},{name:"licensingHook",internalType:"address",type:"address"},{name:"hookData",internalType:"bytes",type:"bytes"},{name:"commercialRevShare",internalType:"uint32",type:"uint32"},{name:"disabled",internalType:"bool",type:"bool"},{name:"expectMinimumGroupRewardShare",internalType:"uint32",type:"uint32"},{name:"expectGroupRewardPool",internalType:"address",type:"address"}]}]},{name:"sigAttachAndConfig",internalType:"struct WorkflowStructs.SignatureData",type:"tuple",components:[{name:"signer",internalType:"address",type:"address"},{name:"deadline",internalType:"uint256",type:"uint256"},{name:"signature",internalType:"bytes",type:"bytes"}]}],name:"registerPILTermsAndAttach",outputs:[{name:"licenseTermsIds",internalType:"uint256[]",type:"uint256[]"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newAuthority",internalType:"address",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newImplementation",internalType:"address",type:"address"},{name:"data",internalType:"bytes",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable"}],vZ={1315:"0xcC2E862bCee5B6036Db0de6E06Ae87e524a79fd8",1514:"0xcC2E862bCee5B6036Db0de6E06Ae87e524a79fd8"},Fb=[{type:"constructor",inputs:[{name:"groupIpAssetRegistry",internalType:"address",type:"address"},{name:"licensingModule",internalType:"address",type:"address"},{name:"disputeModule",internalType:"address",type:"address"},{name:"ipGraphAcl",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"error",inputs:[{name:"authority",internalType:"address",type:"address"}],name:"AccessManagedInvalidAuthority"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"delay",internalType:"uint32",type:"uint32"}],name:"AccessManagedRequiredDelay"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"}],name:"AccessManagedUnauthorized"},{type:"error",inputs:[{name:"target",internalType:"address",type:"address"}],name:"AddressEmptyCode"},{type:"error",inputs:[{name:"implementation",internalType:"address",type:"address"}],name:"ERC1967InvalidImplementation"},{type:"error",inputs:[],name:"ERC1967NonPayable"},{type:"error",inputs:[],name:"FailedCall"},{type:"error",inputs:[],name:"InvalidInitialization"},{type:"error",inputs:[{name:"childIpId",internalType:"address",type:"address"},{name:"parentIpIds",internalType:"address[]",type:"address[]"}],name:"LicenseRegistry__AddParentIpToIPGraphFailed"},{type:"error",inputs:[],name:"LicenseRegistry__CallFailed"},{type:"error",inputs:[],name:"LicenseRegistry__CallerNotLicensingModule"},{type:"error",inputs:[{name:"ipId",internalType:"address",type:"address"}],name:"LicenseRegistry__CannotAddIpWithExpirationToGroup"},{type:"error",inputs:[{name:"childIpId",internalType:"address",type:"address"}],name:"LicenseRegistry__DerivativeAlreadyRegistered"},{type:"error",inputs:[{name:"childIpId",internalType:"address",type:"address"}],name:"LicenseRegistry__DerivativeIpAlreadyHasChild"},{type:"error",inputs:[{name:"childIpId",internalType:"address",type:"address"}],name:"LicenseRegistry__DerivativeIpAlreadyHasLicense"},{type:"error",inputs:[{name:"ipId",internalType:"address",type:"address"}],name:"LicenseRegistry__DerivativeIsParent"},{type:"error",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"parentIpId",internalType:"address",type:"address"}],name:"LicenseRegistry__DuplicateParentIp"},{type:"error",inputs:[{name:"groupId",internalType:"address",type:"address"}],name:"LicenseRegistry__EmptyGroupCannotMintLicenseToken"},{type:"error",inputs:[{name:"groupId",internalType:"address",type:"address"}],name:"LicenseRegistry__GroupCannotHasParentIp"},{type:"error",inputs:[{name:"groupId",internalType:"address",type:"address"}],name:"LicenseRegistry__GroupIpAlreadyHasLicenseTerms"},{type:"error",inputs:[{name:"groupId",internalType:"address",type:"address"},{name:"ipCommercialRevShare",internalType:"uint32",type:"uint32"},{name:"groupCommercialRevShare",internalType:"uint32",type:"uint32"}],name:"LicenseRegistry__GroupIpCommercialRevShareConfigMustNotLessThanIp"},{type:"error",inputs:[{name:"childIpId",internalType:"address",type:"address"},{name:"groupId",internalType:"address",type:"address"}],name:"LicenseRegistry__GroupMustBeSoleParent"},{type:"error",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"index",internalType:"uint256",type:"uint256"},{name:"length",internalType:"uint256",type:"uint256"}],name:"LicenseRegistry__IndexOutOfBounds"},{type:"error",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"expectGroupRewardPool",internalType:"address",type:"address"},{name:"groupId",internalType:"address",type:"address"},{name:"groupRewardPool",internalType:"address",type:"address"}],name:"LicenseRegistry__IpExpectGroupRewardPoolNotMatch"},{type:"error",inputs:[{name:"ipId",internalType:"address",type:"address"}],name:"LicenseRegistry__IpExpectGroupRewardPoolNotSet"},{type:"error",inputs:[{name:"ipId",internalType:"address",type:"address"}],name:"LicenseRegistry__IpExpired"},{type:"error",inputs:[{name:"groupId",internalType:"address",type:"address"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"}],name:"LicenseRegistry__IpHasNoGroupLicenseTerms"},{type:"error",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"}],name:"LicenseRegistry__IpLicenseDisabled"},{type:"error",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"hookData",internalType:"bytes",type:"bytes"},{name:"groupHookData",internalType:"bytes",type:"bytes"}],name:"LicenseRegistry__IpLicensingHookDataNotMatchWithGroup"},{type:"error",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"licensingHook",internalType:"address",type:"address"},{name:"groupLicensingHook",internalType:"address",type:"address"}],name:"LicenseRegistry__IpLicensingHookNotMatchWithGroup"},{type:"error",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"mintingFee",internalType:"uint256",type:"uint256"},{name:"groupMintingFee",internalType:"uint256",type:"uint256"}],name:"LicenseRegistry__IpMintingFeeNotMatchWithGroup"},{type:"error",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"}],name:"LicenseRegistry__LicenseTermsAlreadyAttached"},{type:"error",inputs:[{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"}],name:"LicenseRegistry__LicenseTermsCannotAttachToGroupIp"},{type:"error",inputs:[{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"}],name:"LicenseRegistry__LicenseTermsNotExists"},{type:"error",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"}],name:"LicenseRegistry__LicensorIpHasNoLicenseTerms"},{type:"error",inputs:[{name:"licenseTemplate",internalType:"address",type:"address"}],name:"LicenseRegistry__NotLicenseTemplate"},{type:"error",inputs:[{name:"ipId",internalType:"address",type:"address"}],name:"LicenseRegistry__ParentIpExpired"},{type:"error",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"}],name:"LicenseRegistry__ParentIpHasNoLicenseTerms"},{type:"error",inputs:[{name:"groupId",internalType:"address",type:"address"}],name:"LicenseRegistry__ParentIpIsEmptyGroup"},{type:"error",inputs:[{name:"parentIpId",internalType:"address",type:"address"}],name:"LicenseRegistry__ParentIpNotRegistered"},{type:"error",inputs:[{name:"ipId",internalType:"address",type:"address"}],name:"LicenseRegistry__ParentIpTagged"},{type:"error",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"licenseTemplate",internalType:"address",type:"address"}],name:"LicenseRegistry__ParentIpUnmatchedLicenseTemplate"},{type:"error",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"ancestors",internalType:"uint256",type:"uint256"},{name:"maxAncestors",internalType:"uint256",type:"uint256"}],name:"LicenseRegistry__TooManyAncestors"},{type:"error",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"parents",internalType:"uint256",type:"uint256"},{name:"maxParents",internalType:"uint256",type:"uint256"}],name:"LicenseRegistry__TooManyParents"},{type:"error",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"newLicenseTemplate",internalType:"address",type:"address"}],name:"LicenseRegistry__UnmatchedLicenseTemplate"},{type:"error",inputs:[{name:"licenseTemplate",internalType:"address",type:"address"}],name:"LicenseRegistry__UnregisteredLicenseTemplate"},{type:"error",inputs:[],name:"LicenseRegistry__ZeroAccessManager"},{type:"error",inputs:[],name:"LicenseRegistry__ZeroDisputeModule"},{type:"error",inputs:[],name:"LicenseRegistry__ZeroGroupIpRegistry"},{type:"error",inputs:[],name:"LicenseRegistry__ZeroIPGraphACL"},{type:"error",inputs:[],name:"LicenseRegistry__ZeroLicenseTemplate"},{type:"error",inputs:[],name:"LicenseRegistry__ZeroLicensingModule"},{type:"error",inputs:[],name:"LicensingModule__DerivativesCannotAddLicenseTerms"},{type:"error",inputs:[{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"}],name:"LicensingModule__LicenseTermsNotFound"},{type:"error",inputs:[],name:"NotInitializing"},{type:"error",inputs:[],name:"RoyaltyModule__CallFailed"},{type:"error",inputs:[],name:"UUPSUnauthorizedCallContext"},{type:"error",inputs:[{name:"slot",internalType:"bytes32",type:"bytes32"}],name:"UUPSUnsupportedProxiableUUID"},{type:"event",anonymous:!1,inputs:[{name:"authority",internalType:"address",type:"address",indexed:!1}],name:"AuthorityUpdated"},{type:"event",anonymous:!1,inputs:[{name:"licenseTemplate",internalType:"address",type:"address",indexed:!1},{name:"licenseTermsId",internalType:"uint256",type:"uint256",indexed:!1}],name:"DefaultLicenseTermsSet"},{type:"event",anonymous:!1,inputs:[{name:"ipId",internalType:"address",type:"address",indexed:!0},{name:"expireTime",internalType:"uint256",type:"uint256",indexed:!1}],name:"ExpirationTimeSet"},{type:"event",anonymous:!1,inputs:[{name:"version",internalType:"uint64",type:"uint64",indexed:!1}],name:"Initialized"},{type:"event",anonymous:!1,inputs:[{name:"licenseTemplate",internalType:"address",type:"address",indexed:!0}],name:"LicenseTemplateRegistered"},{type:"event",anonymous:!1,inputs:[{name:"ipId",internalType:"address",type:"address",indexed:!0},{name:"licenseTemplate",internalType:"address",type:"address",indexed:!0},{name:"licenseTermsId",internalType:"uint256",type:"uint256",indexed:!0},{name:"licensingConfig",internalType:"struct Licensing.LicensingConfig",type:"tuple",components:[{name:"isSet",internalType:"bool",type:"bool"},{name:"mintingFee",internalType:"uint256",type:"uint256"},{name:"licensingHook",internalType:"address",type:"address"},{name:"hookData",internalType:"bytes",type:"bytes"},{name:"commercialRevShare",internalType:"uint32",type:"uint32"},{name:"disabled",internalType:"bool",type:"bool"},{name:"expectMinimumGroupRewardShare",internalType:"uint32",type:"uint32"},{name:"expectGroupRewardPool",internalType:"address",type:"address"}],indexed:!1}],name:"LicensingConfigSetForLicense"},{type:"event",anonymous:!1,inputs:[{name:"implementation",internalType:"address",type:"address",indexed:!0}],name:"Upgraded"},{type:"function",inputs:[],name:"DISPUTE_MODULE",outputs:[{name:"",internalType:"contract IDisputeModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"EXPIRATION_TIME",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[],name:"GROUP_IP_ASSET_REGISTRY",outputs:[{name:"",internalType:"contract IGroupIPAssetRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"IP_GRAPH",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"IP_GRAPH_ACL",outputs:[{name:"",internalType:"contract IPGraphACL",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"LICENSING_MODULE",outputs:[{name:"",internalType:"contract ILicensingModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"MAX_ANCESTORS",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[],name:"MAX_PARENTS",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[],name:"UPGRADE_INTERFACE_VERSION",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"}],name:"attachLicenseTermsToIp",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"authority",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"}],name:"exists",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"}],name:"getAncestorsCount",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"index",internalType:"uint256",type:"uint256"}],name:"getAttachedLicenseTerms",outputs:[{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"}],name:"getAttachedLicenseTermsCount",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[],name:"getDefaultLicenseTerms",outputs:[{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"parentIpId",internalType:"address",type:"address"},{name:"index",internalType:"uint256",type:"uint256"}],name:"getDerivativeIp",outputs:[{name:"childIpId",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"parentIpId",internalType:"address",type:"address"}],name:"getDerivativeIpCount",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"}],name:"getExpireTime",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"}],name:"getLicensingConfig",outputs:[{name:"",internalType:"struct Licensing.LicensingConfig",type:"tuple",components:[{name:"isSet",internalType:"bool",type:"bool"},{name:"mintingFee",internalType:"uint256",type:"uint256"},{name:"licensingHook",internalType:"address",type:"address"},{name:"hookData",internalType:"bytes",type:"bytes"},{name:"commercialRevShare",internalType:"uint32",type:"uint32"},{name:"disabled",internalType:"bool",type:"bool"},{name:"expectMinimumGroupRewardShare",internalType:"uint32",type:"uint32"},{name:"expectGroupRewardPool",internalType:"address",type:"address"}]}],stateMutability:"view"},{type:"function",inputs:[{name:"childIpId",internalType:"address",type:"address"},{name:"index",internalType:"uint256",type:"uint256"}],name:"getParentIp",outputs:[{name:"parentIpId",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"childIpId",internalType:"address",type:"address"}],name:"getParentIpCount",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"childIpId",internalType:"address",type:"address"},{name:"parentIpId",internalType:"address",type:"address"}],name:"getParentLicenseTerms",outputs:[{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"}],name:"getRoyaltyPercent",outputs:[{name:"royaltyPercent",internalType:"uint32",type:"uint32"}],stateMutability:"view"},{type:"function",inputs:[{name:"parentIpId",internalType:"address",type:"address"}],name:"hasDerivativeIps",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"}],name:"hasIpAttachedLicenseTerms",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"accessManager",internalType:"address",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"licenseTemplate",internalType:"address",type:"address"}],name:"initializeLicenseTemplate",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"isConsumingScheduledOp",outputs:[{name:"",internalType:"bytes4",type:"bytes4"}],stateMutability:"view"},{type:"function",inputs:[{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"}],name:"isDefaultLicense",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"childIpId",internalType:"address",type:"address"}],name:"isDerivativeIp",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"}],name:"isExpiredNow",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"parentIpId",internalType:"address",type:"address"},{name:"childIpId",internalType:"address",type:"address"}],name:"isParentIp",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"licenseTemplate",internalType:"address",type:"address"}],name:"isRegisteredLicenseTemplate",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[],name:"proxiableUUID",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"childIpId",internalType:"address",type:"address"},{name:"parentIpIds",internalType:"address[]",type:"address[]"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsIds",internalType:"uint256[]",type:"uint256[]"},{name:"isUsingLicenseToken",internalType:"bool",type:"bool"}],name:"registerDerivativeIp",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"licenseTemplate",internalType:"address",type:"address"}],name:"registerLicenseTemplate",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newAuthority",internalType:"address",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newLicenseTemplate",internalType:"address",type:"address"},{name:"newLicenseTermsId",internalType:"uint256",type:"uint256"}],name:"setDefaultLicenseTerms",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"},{name:"licensingConfig",internalType:"struct Licensing.LicensingConfig",type:"tuple",components:[{name:"isSet",internalType:"bool",type:"bool"},{name:"mintingFee",internalType:"uint256",type:"uint256"},{name:"licensingHook",internalType:"address",type:"address"},{name:"hookData",internalType:"bytes",type:"bytes"},{name:"commercialRevShare",internalType:"uint32",type:"uint32"},{name:"disabled",internalType:"bool",type:"bool"},{name:"expectMinimumGroupRewardShare",internalType:"uint32",type:"uint32"},{name:"expectGroupRewardPool",internalType:"address",type:"address"}]}],name:"setLicensingConfigForLicense",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newImplementation",internalType:"address",type:"address"},{name:"data",internalType:"bytes",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable"},{type:"function",inputs:[{name:"groupId",internalType:"address",type:"address"},{name:"groupRewardPool",internalType:"address",type:"address"},{name:"ipId",internalType:"address",type:"address"},{name:"groupLicenseTemplate",internalType:"address",type:"address"},{name:"groupLicenseTermsId",internalType:"uint256",type:"uint256"}],name:"verifyGroupAddIp",outputs:[{name:"ipLicensingConfig",internalType:"struct Licensing.LicensingConfig",type:"tuple",components:[{name:"isSet",internalType:"bool",type:"bool"},{name:"mintingFee",internalType:"uint256",type:"uint256"},{name:"licensingHook",internalType:"address",type:"address"},{name:"hookData",internalType:"bytes",type:"bytes"},{name:"commercialRevShare",internalType:"uint32",type:"uint32"},{name:"disabled",internalType:"bool",type:"bool"},{name:"expectMinimumGroupRewardShare",internalType:"uint32",type:"uint32"},{name:"expectGroupRewardPool",internalType:"address",type:"address"}]}],stateMutability:"view"},{type:"function",inputs:[{name:"licensorIpId",internalType:"address",type:"address"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"},{name:"isMintedByIpOwner",internalType:"bool",type:"bool"}],name:"verifyMintLicenseToken",outputs:[{name:"",internalType:"struct Licensing.LicensingConfig",type:"tuple",components:[{name:"isSet",internalType:"bool",type:"bool"},{name:"mintingFee",internalType:"uint256",type:"uint256"},{name:"licensingHook",internalType:"address",type:"address"},{name:"hookData",internalType:"bytes",type:"bytes"},{name:"commercialRevShare",internalType:"uint32",type:"uint32"},{name:"disabled",internalType:"bool",type:"bool"},{name:"expectMinimumGroupRewardShare",internalType:"uint32",type:"uint32"},{name:"expectGroupRewardPool",internalType:"address",type:"address"}]}],stateMutability:"view"}],zMe={1315:"0x529a750E02d8E2f15649c13D69a465286a780e24",1514:"0x529a750E02d8E2f15649c13D69a465286a780e24"},nN=[{type:"constructor",inputs:[{name:"licensingModule",internalType:"address",type:"address"},{name:"disputeModule",internalType:"address",type:"address"},{name:"licenseRegistry",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"error",inputs:[{name:"authority",internalType:"address",type:"address"}],name:"AccessManagedInvalidAuthority"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"delay",internalType:"uint32",type:"uint32"}],name:"AccessManagedRequiredDelay"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"}],name:"AccessManagedUnauthorized"},{type:"error",inputs:[{name:"target",internalType:"address",type:"address"}],name:"AddressEmptyCode"},{type:"error",inputs:[{name:"implementation",internalType:"address",type:"address"}],name:"ERC1967InvalidImplementation"},{type:"error",inputs:[],name:"ERC1967NonPayable"},{type:"error",inputs:[],name:"ERC721EnumerableForbiddenBatchMint"},{type:"error",inputs:[{name:"sender",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"},{name:"owner",internalType:"address",type:"address"}],name:"ERC721IncorrectOwner"},{type:"error",inputs:[{name:"operator",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"}],name:"ERC721InsufficientApproval"},{type:"error",inputs:[{name:"approver",internalType:"address",type:"address"}],name:"ERC721InvalidApprover"},{type:"error",inputs:[{name:"operator",internalType:"address",type:"address"}],name:"ERC721InvalidOperator"},{type:"error",inputs:[{name:"owner",internalType:"address",type:"address"}],name:"ERC721InvalidOwner"},{type:"error",inputs:[{name:"receiver",internalType:"address",type:"address"}],name:"ERC721InvalidReceiver"},{type:"error",inputs:[{name:"sender",internalType:"address",type:"address"}],name:"ERC721InvalidSender"},{type:"error",inputs:[{name:"tokenId",internalType:"uint256",type:"uint256"}],name:"ERC721NonexistentToken"},{type:"error",inputs:[{name:"owner",internalType:"address",type:"address"},{name:"index",internalType:"uint256",type:"uint256"}],name:"ERC721OutOfBoundsIndex"},{type:"error",inputs:[],name:"FailedCall"},{type:"error",inputs:[],name:"InvalidInitialization"},{type:"error",inputs:[{name:"licenseTemplate",internalType:"address",type:"address"},{name:"anotherLicenseTemplate",internalType:"address",type:"address"}],name:"LicenseToken__AllLicenseTokensMustFromSameLicenseTemplate"},{type:"error",inputs:[{name:"tokenId",internalType:"uint256",type:"uint256"},{name:"caller",internalType:"address",type:"address"},{name:"childIpIp",internalType:"address",type:"address"},{name:"actualTokenOwner",internalType:"address",type:"address"}],name:"LicenseToken__CallerAndChildIPNotTokenOwner"},{type:"error",inputs:[],name:"LicenseToken__CallerNotLicensingModule"},{type:"error",inputs:[{name:"childIpId",internalType:"address",type:"address"}],name:"LicenseToken__ChildIPAlreadyHasBeenMintedLicenseTokens"},{type:"error",inputs:[{name:"commercialRevenueShare",internalType:"uint32",type:"uint32"},{name:"maxRevenueShare",internalType:"uint32",type:"uint32"},{name:"ipId",internalType:"address",type:"address"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"}],name:"LicenseToken__CommercialRevenueShareExceedMaxRevenueShare"},{type:"error",inputs:[{name:"invalidRoyaltyPercent",internalType:"uint32",type:"uint32"},{name:"ipId",internalType:"address",type:"address"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"}],name:"LicenseToken__InvalidRoyaltyPercent"},{type:"error",inputs:[],name:"LicenseToken__NotTransferable"},{type:"error",inputs:[{name:"tokenId",internalType:"uint256",type:"uint256"}],name:"LicenseToken__RevokedLicense"},{type:"error",inputs:[],name:"LicenseToken__ZeroAccessManager"},{type:"error",inputs:[],name:"NotInitializing"},{type:"error",inputs:[{name:"value",internalType:"uint256",type:"uint256"},{name:"length",internalType:"uint256",type:"uint256"}],name:"StringsInsufficientHexLength"},{type:"error",inputs:[],name:"UUPSUnauthorizedCallContext"},{type:"error",inputs:[{name:"slot",internalType:"bytes32",type:"bytes32"}],name:"UUPSUnsupportedProxiableUUID"},{type:"event",anonymous:!1,inputs:[{name:"owner",internalType:"address",type:"address",indexed:!0},{name:"approved",internalType:"address",type:"address",indexed:!0},{name:"tokenId",internalType:"uint256",type:"uint256",indexed:!0}],name:"Approval"},{type:"event",anonymous:!1,inputs:[{name:"owner",internalType:"address",type:"address",indexed:!0},{name:"operator",internalType:"address",type:"address",indexed:!0},{name:"approved",internalType:"bool",type:"bool",indexed:!1}],name:"ApprovalForAll"},{type:"event",anonymous:!1,inputs:[{name:"authority",internalType:"address",type:"address",indexed:!1}],name:"AuthorityUpdated"},{type:"event",anonymous:!1,inputs:[{name:"_fromTokenId",internalType:"uint256",type:"uint256",indexed:!1},{name:"_toTokenId",internalType:"uint256",type:"uint256",indexed:!1}],name:"BatchMetadataUpdate"},{type:"event",anonymous:!1,inputs:[{name:"version",internalType:"uint64",type:"uint64",indexed:!1}],name:"Initialized"},{type:"event",anonymous:!1,inputs:[{name:"minter",internalType:"address",type:"address",indexed:!0},{name:"receiver",internalType:"address",type:"address",indexed:!0},{name:"tokenId",internalType:"uint256",type:"uint256",indexed:!0}],name:"LicenseTokenMinted"},{type:"event",anonymous:!1,inputs:[{name:"from",internalType:"address",type:"address",indexed:!0},{name:"to",internalType:"address",type:"address",indexed:!0},{name:"tokenId",internalType:"uint256",type:"uint256",indexed:!0}],name:"Transfer"},{type:"event",anonymous:!1,inputs:[{name:"implementation",internalType:"address",type:"address",indexed:!0}],name:"Upgraded"},{type:"function",inputs:[],name:"DISPUTE_MODULE",outputs:[{name:"",internalType:"contract IDisputeModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"LICENSE_REGISTRY",outputs:[{name:"",internalType:"contract ILicenseRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"LICENSING_MODULE",outputs:[{name:"",internalType:"contract ILicensingModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"MAX_COMMERCIAL_REVENUE_SHARE",outputs:[{name:"",internalType:"uint32",type:"uint32"}],stateMutability:"view"},{type:"function",inputs:[],name:"UPGRADE_INTERFACE_VERSION",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[{name:"to",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"authority",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"owner",internalType:"address",type:"address"}],name:"balanceOf",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"holder",internalType:"address",type:"address"},{name:"tokenIds",internalType:"uint256[]",type:"uint256[]"}],name:"burnLicenseTokens",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"tokenId",internalType:"uint256",type:"uint256"}],name:"getApproved",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"tokenId",internalType:"uint256",type:"uint256"}],name:"getLicenseTemplate",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"tokenId",internalType:"uint256",type:"uint256"}],name:"getLicenseTermsId",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"tokenId",internalType:"uint256",type:"uint256"}],name:"getLicenseTokenMetadata",outputs:[{name:"",internalType:"struct ILicenseToken.LicenseTokenMetadata",type:"tuple",components:[{name:"licensorIpId",internalType:"address",type:"address"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"},{name:"transferable",internalType:"bool",type:"bool"},{name:"commercialRevShare",internalType:"uint32",type:"uint32"}]}],stateMutability:"view"},{type:"function",inputs:[{name:"tokenId",internalType:"uint256",type:"uint256"}],name:"getLicensorIpId",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"licensorIpId",internalType:"address",type:"address"}],name:"getTotalTokensByLicensor",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"accessManager",internalType:"address",type:"address"},{name:"imageUrl",internalType:"string",type:"string"}],name:"initialize",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"owner",internalType:"address",type:"address"},{name:"operator",internalType:"address",type:"address"}],name:"isApprovedForAll",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[],name:"isConsumingScheduledOp",outputs:[{name:"",internalType:"bytes4",type:"bytes4"}],stateMutability:"view"},{type:"function",inputs:[{name:"tokenId",internalType:"uint256",type:"uint256"}],name:"isLicenseTokenRevoked",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"licensorIpId",internalType:"address",type:"address"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"},{name:"amount",internalType:"uint256",type:"uint256"},{name:"minter",internalType:"address",type:"address"},{name:"receiver",internalType:"address",type:"address"},{name:"maxRevenueShare",internalType:"uint32",type:"uint32"}],name:"mintLicenseTokens",outputs:[{name:"startLicenseTokenId",internalType:"uint256",type:"uint256"}],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"name",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[{name:"tokenId",internalType:"uint256",type:"uint256"}],name:"ownerOf",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"proxiableUUID",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"from",internalType:"address",type:"address"},{name:"to",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"from",internalType:"address",type:"address"},{name:"to",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"},{name:"data",internalType:"bytes",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"operator",internalType:"address",type:"address"},{name:"approved",internalType:"bool",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newAuthority",internalType:"address",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"url",internalType:"string",type:"string"}],name:"setLicensingImageUrl",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"interfaceId",internalType:"bytes4",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[],name:"symbol",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[{name:"index",internalType:"uint256",type:"uint256"}],name:"tokenByIndex",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"owner",internalType:"address",type:"address"},{name:"index",internalType:"uint256",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"id",internalType:"uint256",type:"uint256"}],name:"tokenURI",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[],name:"totalMintedTokens",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[],name:"totalSupply",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"from",internalType:"address",type:"address"},{name:"to",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newImplementation",internalType:"address",type:"address"},{name:"data",internalType:"bytes",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable"},{type:"function",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"childIpId",internalType:"address",type:"address"},{name:"tokenIds",internalType:"uint256[]",type:"uint256[]"}],name:"validateLicenseTokensForDerivative",outputs:[{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licensorIpIds",internalType:"address[]",type:"address[]"},{name:"licenseTermsIds",internalType:"uint256[]",type:"uint256[]"},{name:"commercialRevShares",internalType:"uint32[]",type:"uint32[]"}],stateMutability:"view"}],VMe={1315:"0xFe3838BFb30B34170F00030B52eA4893d8aAC6bC",1514:"0xFe3838BFb30B34170F00030B52eA4893d8aAC6bC"},gn=[{type:"constructor",inputs:[{name:"accessController",internalType:"address",type:"address"},{name:"ipAccountRegistry",internalType:"address",type:"address"},{name:"moduleRegistry",internalType:"address",type:"address"},{name:"royaltyModule",internalType:"address",type:"address"},{name:"licenseRegistry",internalType:"address",type:"address"},{name:"disputeModule",internalType:"address",type:"address"},{name:"licenseToken",internalType:"address",type:"address"},{name:"ipGraphAcl",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"error",inputs:[{name:"ipAccount",internalType:"address",type:"address"}],name:"AccessControlled__NotIpAccount"},{type:"error",inputs:[],name:"AccessControlled__ZeroAddress"},{type:"error",inputs:[{name:"authority",internalType:"address",type:"address"}],name:"AccessManagedInvalidAuthority"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"delay",internalType:"uint32",type:"uint32"}],name:"AccessManagedRequiredDelay"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"}],name:"AccessManagedUnauthorized"},{type:"error",inputs:[{name:"target",internalType:"address",type:"address"}],name:"AddressEmptyCode"},{type:"error",inputs:[{name:"implementation",internalType:"address",type:"address"}],name:"ERC1967InvalidImplementation"},{type:"error",inputs:[],name:"ERC1967NonPayable"},{type:"error",inputs:[],name:"EnforcedPause"},{type:"error",inputs:[],name:"ExpectedPause"},{type:"error",inputs:[],name:"FailedCall"},{type:"error",inputs:[],name:"InvalidInitialization"},{type:"error",inputs:[],name:"LicenseRegistry__LicenseTemplateCannotBeZeroAddress"},{type:"error",inputs:[{name:"licenseTemplate",internalType:"address",type:"address"}],name:"LicenseRegistry__UnregisteredLicenseTemplate"},{type:"error",inputs:[{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"},{name:"newRoyaltyPercent",internalType:"uint32",type:"uint32"}],name:"LicensingModule__CurrentLicenseNotAllowOverrideRoyaltyPercent"},{type:"error",inputs:[{name:"childIpId",internalType:"address",type:"address"}],name:"LicensingModule__DerivativeAlreadyHasBeenMintedLicenseTokens"},{type:"error",inputs:[],name:"LicensingModule__DisputedIpId"},{type:"error",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"},{name:"revenueShare",internalType:"uint32",type:"uint32"},{name:"maxRevenueShare",internalType:"uint32",type:"uint32"}],name:"LicensingModule__ExceedMaxRevenueShare"},{type:"error",inputs:[{name:"groupId",internalType:"address",type:"address"}],name:"LicensingModule__GroupIpCannotChangeHookData"},{type:"error",inputs:[{name:"groupId",internalType:"address",type:"address"}],name:"LicensingModule__GroupIpCannotChangeIsSet"},{type:"error",inputs:[{name:"groupId",internalType:"address",type:"address"}],name:"LicensingModule__GroupIpCannotChangeLicensingHook"},{type:"error",inputs:[{name:"groupId",internalType:"address",type:"address"}],name:"LicensingModule__GroupIpCannotChangeMintingFee"},{type:"error",inputs:[{name:"groupId",internalType:"address",type:"address"},{name:"newRoyaltyPercent",internalType:"uint32",type:"uint32"},{name:"oldRoyaltyPercent",internalType:"uint32",type:"uint32"}],name:"LicensingModule__GroupIpCannotDecreaseRoyalty"},{type:"error",inputs:[{name:"groupId",internalType:"address",type:"address"}],name:"LicensingModule__GroupIpCannotSetExpectGroupRewardPool"},{type:"error",inputs:[{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"}],name:"LicensingModule__InvalidLicenseTermsId"},{type:"error",inputs:[{name:"hook",internalType:"address",type:"address"}],name:"LicensingModule__InvalidLicensingHook"},{type:"error",inputs:[{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"},{name:"licensorIpId",internalType:"address",type:"address"}],name:"LicensingModule__LicenseDenyMintLicenseToken"},{type:"error",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"}],name:"LicensingModule__LicenseDisabled"},{type:"error",inputs:[{name:"childIpId",internalType:"address",type:"address"}],name:"LicensingModule__LicenseNotCompatibleForDerivative"},{type:"error",inputs:[{name:"ipLength",internalType:"uint256",type:"uint256"},{name:"licenseTermsLength",internalType:"uint256",type:"uint256"}],name:"LicensingModule__LicenseTermsLengthMismatch"},{type:"error",inputs:[{name:"childIpId",internalType:"address",type:"address"},{name:"licenseTokenIds",internalType:"uint256[]",type:"uint256[]"}],name:"LicensingModule__LicenseTokenNotCompatibleForDerivative"},{type:"error",inputs:[{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"},{name:"licensingConfigMintingFee",internalType:"uint256",type:"uint256"},{name:"licenseTermsMintingFee",internalType:"uint256",type:"uint256"}],name:"LicensingModule__LicensingConfigMintingFeeBelowLicenseTerms"},{type:"error",inputs:[{name:"licensingHookMintingFee",internalType:"uint256",type:"uint256"},{name:"licenseTermsMintingFee",internalType:"uint256",type:"uint256"}],name:"LicensingModule__LicensingHookMintingFeeBelowLicenseTerms"},{type:"error",inputs:[],name:"LicensingModule__LicensorIpNotRegistered"},{type:"error",inputs:[],name:"LicensingModule__MintAmountZero"},{type:"error",inputs:[{name:"mintingFee",internalType:"uint256",type:"uint256"},{name:"maxMintingFee",internalType:"uint256",type:"uint256"}],name:"LicensingModule__MintingFeeExceedMaxMintingFee"},{type:"error",inputs:[],name:"LicensingModule__MintingFeeRequiresRoyaltyPolicy"},{type:"error",inputs:[],name:"LicensingModule__NoLicenseToken"},{type:"error",inputs:[],name:"LicensingModule__NoParentIp"},{type:"error",inputs:[],name:"LicensingModule__ReceiverZeroAddress"},{type:"error",inputs:[{name:"royaltyPolicy",internalType:"address",type:"address"},{name:"anotherRoyaltyPolicy",internalType:"address",type:"address"}],name:"LicensingModule__RoyaltyPolicyMismatch"},{type:"error",inputs:[{name:"licensorIpId",internalType:"address",type:"address"},{name:"ancestors",internalType:"uint256",type:"uint256"},{name:"maxAncestors",internalType:"uint256",type:"uint256"}],name:"LicensingModule__TooManyAncestorsForMintingLicenseTokenAllowRegisterDerivative"},{type:"error",inputs:[],name:"LicensingModule__ZeroAccessManager"},{type:"error",inputs:[],name:"LicensingModule__ZeroDisputeModule"},{type:"error",inputs:[],name:"LicensingModule__ZeroIPGraphACL"},{type:"error",inputs:[],name:"LicensingModule__ZeroLicenseRegistry"},{type:"error",inputs:[],name:"LicensingModule__ZeroLicenseTemplate"},{type:"error",inputs:[],name:"LicensingModule__ZeroLicenseToken"},{type:"error",inputs:[],name:"LicensingModule__ZeroModuleRegistry"},{type:"error",inputs:[],name:"LicensingModule__ZeroRoyaltyModule"},{type:"error",inputs:[],name:"NotInitializing"},{type:"error",inputs:[],name:"ReentrancyGuardReentrantCall"},{type:"error",inputs:[],name:"UUPSUnauthorizedCallContext"},{type:"error",inputs:[{name:"slot",internalType:"bytes32",type:"bytes32"}],name:"UUPSUnsupportedProxiableUUID"},{type:"event",anonymous:!1,inputs:[{name:"authority",internalType:"address",type:"address",indexed:!1}],name:"AuthorityUpdated"},{type:"event",anonymous:!1,inputs:[{name:"caller",internalType:"address",type:"address",indexed:!0},{name:"childIpId",internalType:"address",type:"address",indexed:!0},{name:"licenseTokenIds",internalType:"uint256[]",type:"uint256[]",indexed:!1},{name:"parentIpIds",internalType:"address[]",type:"address[]",indexed:!1},{name:"licenseTermsIds",internalType:"uint256[]",type:"uint256[]",indexed:!1},{name:"licenseTemplate",internalType:"address",type:"address",indexed:!1}],name:"DerivativeRegistered"},{type:"event",anonymous:!1,inputs:[{name:"version",internalType:"uint64",type:"uint64",indexed:!1}],name:"Initialized"},{type:"event",anonymous:!1,inputs:[{name:"caller",internalType:"address",type:"address",indexed:!0},{name:"ipId",internalType:"address",type:"address",indexed:!0},{name:"licenseTemplate",internalType:"address",type:"address",indexed:!1},{name:"licenseTermsId",internalType:"uint256",type:"uint256",indexed:!1}],name:"LicenseTermsAttached"},{type:"event",anonymous:!1,inputs:[{name:"caller",internalType:"address",type:"address",indexed:!0},{name:"licensorIpId",internalType:"address",type:"address",indexed:!0},{name:"licenseTemplate",internalType:"address",type:"address",indexed:!1},{name:"licenseTermsId",internalType:"uint256",type:"uint256",indexed:!0},{name:"amount",internalType:"uint256",type:"uint256",indexed:!1},{name:"receiver",internalType:"address",type:"address",indexed:!1},{name:"startLicenseTokenId",internalType:"uint256",type:"uint256",indexed:!1}],name:"LicenseTokensMinted"},{type:"event",anonymous:!1,inputs:[{name:"account",internalType:"address",type:"address",indexed:!1}],name:"Paused"},{type:"event",anonymous:!1,inputs:[{name:"account",internalType:"address",type:"address",indexed:!1}],name:"Unpaused"},{type:"event",anonymous:!1,inputs:[{name:"implementation",internalType:"address",type:"address",indexed:!0}],name:"Upgraded"},{type:"function",inputs:[],name:"ACCESS_CONTROLLER",outputs:[{name:"",internalType:"contract IAccessController",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"DISPUTE_MODULE",outputs:[{name:"",internalType:"contract IDisputeModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"IP_ASSET_REGISTRY",outputs:[{name:"",internalType:"contract IIPAssetRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"IP_GRAPH_ACL",outputs:[{name:"",internalType:"contract IPGraphACL",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"LICENSE_NFT",outputs:[{name:"",internalType:"contract ILicenseToken",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"LICENSE_REGISTRY",outputs:[{name:"",internalType:"contract ILicenseRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"MODULE_REGISTRY",outputs:[{name:"",internalType:"contract IModuleRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"ROYALTY_MODULE",outputs:[{name:"",internalType:"contract RoyaltyModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"UPGRADE_INTERFACE_VERSION",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[{name:"accessManager",internalType:"address",type:"address"}],name:"__ProtocolPausable_init",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"}],name:"attachDefaultLicenseTerms",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"}],name:"attachLicenseTerms",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"authority",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"accessManager",internalType:"address",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"isConsumingScheduledOp",outputs:[{name:"",internalType:"bytes4",type:"bytes4"}],stateMutability:"view"},{type:"function",inputs:[{name:"licensorIpId",internalType:"address",type:"address"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"},{name:"amount",internalType:"uint256",type:"uint256"},{name:"receiver",internalType:"address",type:"address"},{name:"royaltyContext",internalType:"bytes",type:"bytes"},{name:"maxMintingFee",internalType:"uint256",type:"uint256"},{name:"maxRevenueShare",internalType:"uint32",type:"uint32"}],name:"mintLicenseTokens",outputs:[{name:"startLicenseTokenId",internalType:"uint256",type:"uint256"}],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"name",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"paused",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"licensorIpId",internalType:"address",type:"address"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"},{name:"amount",internalType:"uint256",type:"uint256"},{name:"receiver",internalType:"address",type:"address"},{name:"royaltyContext",internalType:"bytes",type:"bytes"}],name:"predictMintingLicenseFee",outputs:[{name:"currencyToken",internalType:"address",type:"address"},{name:"tokenAmount",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[],name:"proxiableUUID",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"childIpId",internalType:"address",type:"address"},{name:"parentIpIds",internalType:"address[]",type:"address[]"},{name:"licenseTermsIds",internalType:"uint256[]",type:"uint256[]"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"royaltyContext",internalType:"bytes",type:"bytes"},{name:"maxMintingFee",internalType:"uint256",type:"uint256"},{name:"maxRts",internalType:"uint32",type:"uint32"},{name:"maxRevenueShare",internalType:"uint32",type:"uint32"}],name:"registerDerivative",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"childIpId",internalType:"address",type:"address"},{name:"licenseTokenIds",internalType:"uint256[]",type:"uint256[]"},{name:"royaltyContext",internalType:"bytes",type:"bytes"},{name:"maxRts",internalType:"uint32",type:"uint32"}],name:"registerDerivativeWithLicenseTokens",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newAuthority",internalType:"address",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"},{name:"licensingConfig",internalType:"struct Licensing.LicensingConfig",type:"tuple",components:[{name:"isSet",internalType:"bool",type:"bool"},{name:"mintingFee",internalType:"uint256",type:"uint256"},{name:"licensingHook",internalType:"address",type:"address"},{name:"hookData",internalType:"bytes",type:"bytes"},{name:"commercialRevShare",internalType:"uint32",type:"uint32"},{name:"disabled",internalType:"bool",type:"bool"},{name:"expectMinimumGroupRewardShare",internalType:"uint32",type:"uint32"},{name:"expectGroupRewardPool",internalType:"address",type:"address"}]}],name:"setLicensingConfig",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"interfaceId",internalType:"bytes4",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newImplementation",internalType:"address",type:"address"},{name:"data",internalType:"bytes",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable"}],eP={1315:"0x04fbd8a2e56dd85CFD5500A4A4DfA955B9f1dE6f",1514:"0x04fbd8a2e56dd85CFD5500A4A4DfA955B9f1dE6f"},HMe=[{type:"constructor",inputs:[],stateMutability:"nonpayable"},{type:"error",inputs:[{name:"authority",internalType:"address",type:"address"}],name:"AccessManagedInvalidAuthority"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"delay",internalType:"uint32",type:"uint32"}],name:"AccessManagedRequiredDelay"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"}],name:"AccessManagedUnauthorized"},{type:"error",inputs:[{name:"target",internalType:"address",type:"address"}],name:"AddressEmptyCode"},{type:"error",inputs:[{name:"implementation",internalType:"address",type:"address"}],name:"ERC1967InvalidImplementation"},{type:"error",inputs:[],name:"ERC1967NonPayable"},{type:"error",inputs:[],name:"FailedCall"},{type:"error",inputs:[],name:"InvalidInitialization"},{type:"error",inputs:[],name:"ModuleRegistry__InterfaceIdZero"},{type:"error",inputs:[],name:"ModuleRegistry__ModuleAddressNotContract"},{type:"error",inputs:[],name:"ModuleRegistry__ModuleAddressZeroAddress"},{type:"error",inputs:[],name:"ModuleRegistry__ModuleAlreadyRegistered"},{type:"error",inputs:[],name:"ModuleRegistry__ModuleNotRegistered"},{type:"error",inputs:[],name:"ModuleRegistry__ModuleNotSupportExpectedModuleTypeInterfaceId"},{type:"error",inputs:[],name:"ModuleRegistry__ModuleTypeAlreadyRegistered"},{type:"error",inputs:[],name:"ModuleRegistry__ModuleTypeEmptyString"},{type:"error",inputs:[],name:"ModuleRegistry__ModuleTypeNotRegistered"},{type:"error",inputs:[],name:"ModuleRegistry__NameAlreadyRegistered"},{type:"error",inputs:[],name:"ModuleRegistry__NameDoesNotMatch"},{type:"error",inputs:[],name:"ModuleRegistry__NameEmptyString"},{type:"error",inputs:[],name:"ModuleRegistry__ZeroAccessManager"},{type:"error",inputs:[],name:"NotInitializing"},{type:"error",inputs:[],name:"UUPSUnauthorizedCallContext"},{type:"error",inputs:[{name:"slot",internalType:"bytes32",type:"bytes32"}],name:"UUPSUnsupportedProxiableUUID"},{type:"event",anonymous:!1,inputs:[{name:"authority",internalType:"address",type:"address",indexed:!1}],name:"AuthorityUpdated"},{type:"event",anonymous:!1,inputs:[{name:"version",internalType:"uint64",type:"uint64",indexed:!1}],name:"Initialized"},{type:"event",anonymous:!1,inputs:[{name:"name",internalType:"string",type:"string",indexed:!1},{name:"module",internalType:"address",type:"address",indexed:!0},{name:"moduleTypeInterfaceId",internalType:"bytes4",type:"bytes4",indexed:!0},{name:"moduleType",internalType:"string",type:"string",indexed:!1}],name:"ModuleAdded"},{type:"event",anonymous:!1,inputs:[{name:"name",internalType:"string",type:"string",indexed:!1},{name:"module",internalType:"address",type:"address",indexed:!0}],name:"ModuleRemoved"},{type:"event",anonymous:!1,inputs:[{name:"implementation",internalType:"address",type:"address",indexed:!0}],name:"Upgraded"},{type:"function",inputs:[],name:"UPGRADE_INTERFACE_VERSION",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[],name:"authority",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"name",internalType:"string",type:"string"}],name:"getModule",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"moduleAddress",internalType:"address",type:"address"}],name:"getModuleType",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[{name:"moduleType",internalType:"string",type:"string"}],name:"getModuleTypeInterfaceId",outputs:[{name:"",internalType:"bytes4",type:"bytes4"}],stateMutability:"view"},{type:"function",inputs:[{name:"accessManager",internalType:"address",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"isConsumingScheduledOp",outputs:[{name:"",internalType:"bytes4",type:"bytes4"}],stateMutability:"view"},{type:"function",inputs:[{name:"moduleAddress",internalType:"address",type:"address"}],name:"isRegistered",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[],name:"proxiableUUID",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"name",internalType:"string",type:"string"},{name:"moduleAddress",internalType:"address",type:"address"}],name:"registerModule",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"name",internalType:"string",type:"string"},{name:"moduleAddress",internalType:"address",type:"address"},{name:"moduleType",internalType:"string",type:"string"}],name:"registerModule",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"name",internalType:"string",type:"string"},{name:"interfaceId",internalType:"bytes4",type:"bytes4"}],name:"registerModuleType",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"name",internalType:"string",type:"string"}],name:"removeModule",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"name",internalType:"string",type:"string"}],name:"removeModuleType",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newAuthority",internalType:"address",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newImplementation",internalType:"address",type:"address"},{name:"data",internalType:"bytes",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable"}],WMe={1315:"0x022DBAAeA5D8fB31a0Ad793335e39Ced5D631fa5",1514:"0x022DBAAeA5D8fB31a0Ad793335e39Ced5D631fa5"},rN=[{type:"function",inputs:[{name:"calls",internalType:"struct Multicall3.Call[]",type:"tuple[]",components:[{name:"target",internalType:"address",type:"address"},{name:"callData",internalType:"bytes",type:"bytes"}]}],name:"aggregate",outputs:[{name:"blockNumber",internalType:"uint256",type:"uint256"},{name:"returnData",internalType:"bytes[]",type:"bytes[]"}],stateMutability:"payable"},{type:"function",inputs:[{name:"calls",internalType:"struct Multicall3.Call3[]",type:"tuple[]",components:[{name:"target",internalType:"address",type:"address"},{name:"allowFailure",internalType:"bool",type:"bool"},{name:"callData",internalType:"bytes",type:"bytes"}]}],name:"aggregate3",outputs:[{name:"returnData",internalType:"struct Multicall3.Result[]",type:"tuple[]",components:[{name:"success",internalType:"bool",type:"bool"},{name:"returnData",internalType:"bytes",type:"bytes"}]}],stateMutability:"payable"},{type:"function",inputs:[{name:"calls",internalType:"struct Multicall3.Call3Value[]",type:"tuple[]",components:[{name:"target",internalType:"address",type:"address"},{name:"allowFailure",internalType:"bool",type:"bool"},{name:"value",internalType:"uint256",type:"uint256"},{name:"callData",internalType:"bytes",type:"bytes"}]}],name:"aggregate3Value",outputs:[{name:"returnData",internalType:"struct Multicall3.Result[]",type:"tuple[]",components:[{name:"success",internalType:"bool",type:"bool"},{name:"returnData",internalType:"bytes",type:"bytes"}]}],stateMutability:"payable"},{type:"function",inputs:[{name:"calls",internalType:"struct Multicall3.Call[]",type:"tuple[]",components:[{name:"target",internalType:"address",type:"address"},{name:"callData",internalType:"bytes",type:"bytes"}]}],name:"blockAndAggregate",outputs:[{name:"blockNumber",internalType:"uint256",type:"uint256"},{name:"blockHash",internalType:"bytes32",type:"bytes32"},{name:"returnData",internalType:"struct Multicall3.Result[]",type:"tuple[]",components:[{name:"success",internalType:"bool",type:"bool"},{name:"returnData",internalType:"bytes",type:"bytes"}]}],stateMutability:"payable"},{type:"function",inputs:[],name:"getBasefee",outputs:[{name:"basefee",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"blockNumber",internalType:"uint256",type:"uint256"}],name:"getBlockHash",outputs:[{name:"blockHash",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[],name:"getBlockNumber",outputs:[{name:"blockNumber",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[],name:"getChainId",outputs:[{name:"chainid",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[],name:"getCurrentBlockCoinbase",outputs:[{name:"coinbase",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"getCurrentBlockDifficulty",outputs:[{name:"difficulty",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[],name:"getCurrentBlockGasLimit",outputs:[{name:"gaslimit",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[],name:"getCurrentBlockTimestamp",outputs:[{name:"timestamp",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"addr",internalType:"address",type:"address"}],name:"getEthBalance",outputs:[{name:"balance",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[],name:"getLastBlockHash",outputs:[{name:"blockHash",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"requireSuccess",internalType:"bool",type:"bool"},{name:"calls",internalType:"struct Multicall3.Call[]",type:"tuple[]",components:[{name:"target",internalType:"address",type:"address"},{name:"callData",internalType:"bytes",type:"bytes"}]}],name:"tryAggregate",outputs:[{name:"returnData",internalType:"struct Multicall3.Result[]",type:"tuple[]",components:[{name:"success",internalType:"bool",type:"bool"},{name:"returnData",internalType:"bytes",type:"bytes"}]}],stateMutability:"payable"},{type:"function",inputs:[{name:"requireSuccess",internalType:"bool",type:"bool"},{name:"calls",internalType:"struct Multicall3.Call[]",type:"tuple[]",components:[{name:"target",internalType:"address",type:"address"},{name:"callData",internalType:"bytes",type:"bytes"}]}],name:"tryBlockAndAggregate",outputs:[{name:"blockNumber",internalType:"uint256",type:"uint256"},{name:"blockHash",internalType:"bytes32",type:"bytes32"},{name:"returnData",internalType:"struct Multicall3.Result[]",type:"tuple[]",components:[{name:"success",internalType:"bool",type:"bool"},{name:"returnData",internalType:"bytes",type:"bytes"}]}],stateMutability:"payable"}],GMe={1315:"0xcA11bde05977b3631167028862bE2a173976CA11",1514:"0xcA11bde05977b3631167028862bE2a173976CA11"},ft=[{type:"constructor",inputs:[{name:"accessController",internalType:"address",type:"address"},{name:"ipAccountRegistry",internalType:"address",type:"address"},{name:"licenseRegistry",internalType:"address",type:"address"},{name:"royaltyModule",internalType:"address",type:"address"},{name:"moduleRegistry",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"error",inputs:[{name:"ipAccount",internalType:"address",type:"address"}],name:"AccessControlled__NotIpAccount"},{type:"error",inputs:[],name:"AccessControlled__ZeroAddress"},{type:"error",inputs:[{name:"authority",internalType:"address",type:"address"}],name:"AccessManagedInvalidAuthority"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"delay",internalType:"uint32",type:"uint32"}],name:"AccessManagedRequiredDelay"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"}],name:"AccessManagedUnauthorized"},{type:"error",inputs:[{name:"target",internalType:"address",type:"address"}],name:"AddressEmptyCode"},{type:"error",inputs:[{name:"implementation",internalType:"address",type:"address"}],name:"ERC1967InvalidImplementation"},{type:"error",inputs:[],name:"ERC1967NonPayable"},{type:"error",inputs:[],name:"FailedCall"},{type:"error",inputs:[],name:"InvalidInitialization"},{type:"error",inputs:[],name:"NotInitializing"},{type:"error",inputs:[],name:"PILicenseTemplate__CommercialDisabled_CantAddAttribution"},{type:"error",inputs:[],name:"PILicenseTemplate__CommercialDisabled_CantAddCommercializers"},{type:"error",inputs:[],name:"PILicenseTemplate__CommercialDisabled_CantAddDerivativeRevCeiling"},{type:"error",inputs:[],name:"PILicenseTemplate__CommercialDisabled_CantAddRevCeiling"},{type:"error",inputs:[],name:"PILicenseTemplate__CommercialDisabled_CantAddRevShare"},{type:"error",inputs:[],name:"PILicenseTemplate__CommercialDisabled_CantAddRoyaltyPolicy"},{type:"error",inputs:[],name:"PILicenseTemplate__CommercialEnabled_RoyaltyPolicyRequired"},{type:"error",inputs:[{name:"checker",internalType:"address",type:"address"}],name:"PILicenseTemplate__CommercializerCheckerDoesNotSupportHook"},{type:"error",inputs:[{name:"commercializerChecker",internalType:"address",type:"address"}],name:"PILicenseTemplate__CommercializerCheckerNotRegistered"},{type:"error",inputs:[],name:"PILicenseTemplate__CurrencyTokenNotWhitelisted"},{type:"error",inputs:[],name:"PILicenseTemplate__DerivativesDisabled_CantAddApproval"},{type:"error",inputs:[],name:"PILicenseTemplate__DerivativesDisabled_CantAddAttribution"},{type:"error",inputs:[],name:"PILicenseTemplate__DerivativesDisabled_CantAddDerivativeRevCeiling"},{type:"error",inputs:[],name:"PILicenseTemplate__DerivativesDisabled_CantAddReciprocal"},{type:"error",inputs:[],name:"PILicenseTemplate__MintingFeeRequiresRoyaltyPolicy"},{type:"error",inputs:[],name:"PILicenseTemplate__RoyaltyPolicyNotWhitelisted"},{type:"error",inputs:[],name:"PILicenseTemplate__RoyaltyPolicyRequiresCurrencyToken"},{type:"error",inputs:[],name:"PILicenseTemplate__ZeroAccessManager"},{type:"error",inputs:[],name:"PILicenseTemplate__ZeroLicenseRegistry"},{type:"error",inputs:[],name:"PILicenseTemplate__ZeroRoyaltyModule"},{type:"error",inputs:[],name:"ReentrancyGuardReentrantCall"},{type:"error",inputs:[],name:"UUPSUnauthorizedCallContext"},{type:"error",inputs:[{name:"slot",internalType:"bytes32",type:"bytes32"}],name:"UUPSUnsupportedProxiableUUID"},{type:"event",anonymous:!1,inputs:[{name:"authority",internalType:"address",type:"address",indexed:!1}],name:"AuthorityUpdated"},{type:"event",anonymous:!1,inputs:[{name:"licenseTermsId",internalType:"uint256",type:"uint256",indexed:!0},{name:"ipId",internalType:"address",type:"address",indexed:!0},{name:"caller",internalType:"address",type:"address",indexed:!0},{name:"approved",internalType:"bool",type:"bool",indexed:!1}],name:"DerivativeApproved"},{type:"event",anonymous:!1,inputs:[{name:"version",internalType:"uint64",type:"uint64",indexed:!1}],name:"Initialized"},{type:"event",anonymous:!1,inputs:[{name:"licenseTermsId",internalType:"uint256",type:"uint256",indexed:!0},{name:"licenseTemplate",internalType:"address",type:"address",indexed:!0},{name:"licenseTerms",internalType:"bytes",type:"bytes",indexed:!1}],name:"LicenseTermsRegistered"},{type:"event",anonymous:!1,inputs:[{name:"implementation",internalType:"address",type:"address",indexed:!0}],name:"Upgraded"},{type:"function",inputs:[],name:"ACCESS_CONTROLLER",outputs:[{name:"",internalType:"contract IAccessController",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"IP_ASSET_REGISTRY",outputs:[{name:"",internalType:"contract IIPAssetRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"LICENSE_REGISTRY",outputs:[{name:"",internalType:"contract ILicenseRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"MODULE_REGISTRY",outputs:[{name:"",internalType:"contract IModuleRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"ROYALTY_MODULE",outputs:[{name:"",internalType:"contract IRoyaltyModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"TERMS_RENDERER",outputs:[{name:"",internalType:"contract PILTermsRenderer",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"UPGRADE_INTERFACE_VERSION",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[{name:"licenseTermsId",internalType:"uint256",type:"uint256"}],name:"allowDerivativeRegistration",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[],name:"authority",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"licenseTermsId",internalType:"uint256",type:"uint256"}],name:"canAttachToGroupIp",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"licenseTermsId",internalType:"uint256",type:"uint256"},{name:"newRoyaltyPercent",internalType:"uint32",type:"uint32"}],name:"canOverrideRoyaltyPercent",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"licenseTermsId",internalType:"uint256",type:"uint256"}],name:"exists",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"licenseTermsIds",internalType:"uint256[]",type:"uint256[]"},{name:"start",internalType:"uint256",type:"uint256"}],name:"getEarlierExpireTime",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"licenseTermsId",internalType:"uint256",type:"uint256"},{name:"start",internalType:"uint256",type:"uint256"}],name:"getExpireTime",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"selectedLicenseTermsId",internalType:"uint256",type:"uint256"}],name:"getLicenseTerms",outputs:[{name:"terms",internalType:"struct PILTerms",type:"tuple",components:[{name:"transferable",internalType:"bool",type:"bool"},{name:"royaltyPolicy",internalType:"address",type:"address"},{name:"defaultMintingFee",internalType:"uint256",type:"uint256"},{name:"expiration",internalType:"uint256",type:"uint256"},{name:"commercialUse",internalType:"bool",type:"bool"},{name:"commercialAttribution",internalType:"bool",type:"bool"},{name:"commercializerChecker",internalType:"address",type:"address"},{name:"commercializerCheckerData",internalType:"bytes",type:"bytes"},{name:"commercialRevShare",internalType:"uint32",type:"uint32"},{name:"commercialRevCeiling",internalType:"uint256",type:"uint256"},{name:"derivativesAllowed",internalType:"bool",type:"bool"},{name:"derivativesAttribution",internalType:"bool",type:"bool"},{name:"derivativesApproval",internalType:"bool",type:"bool"},{name:"derivativesReciprocal",internalType:"bool",type:"bool"},{name:"derivativeRevCeiling",internalType:"uint256",type:"uint256"},{name:"currency",internalType:"address",type:"address"},{name:"uri",internalType:"string",type:"string"}]}],stateMutability:"view"},{type:"function",inputs:[{name:"terms",internalType:"struct PILTerms",type:"tuple",components:[{name:"transferable",internalType:"bool",type:"bool"},{name:"royaltyPolicy",internalType:"address",type:"address"},{name:"defaultMintingFee",internalType:"uint256",type:"uint256"},{name:"expiration",internalType:"uint256",type:"uint256"},{name:"commercialUse",internalType:"bool",type:"bool"},{name:"commercialAttribution",internalType:"bool",type:"bool"},{name:"commercializerChecker",internalType:"address",type:"address"},{name:"commercializerCheckerData",internalType:"bytes",type:"bytes"},{name:"commercialRevShare",internalType:"uint32",type:"uint32"},{name:"commercialRevCeiling",internalType:"uint256",type:"uint256"},{name:"derivativesAllowed",internalType:"bool",type:"bool"},{name:"derivativesAttribution",internalType:"bool",type:"bool"},{name:"derivativesApproval",internalType:"bool",type:"bool"},{name:"derivativesReciprocal",internalType:"bool",type:"bool"},{name:"derivativeRevCeiling",internalType:"uint256",type:"uint256"},{name:"currency",internalType:"address",type:"address"},{name:"uri",internalType:"string",type:"string"}]}],name:"getLicenseTermsId",outputs:[{name:"selectedLicenseTermsId",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"licenseTermsId",internalType:"uint256",type:"uint256"}],name:"getLicenseTermsURI",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[],name:"getMetadataURI",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[{name:"licenseTermsId",internalType:"uint256",type:"uint256"}],name:"getRoyaltyPolicy",outputs:[{name:"royaltyPolicy",internalType:"address",type:"address"},{name:"royaltyPercent",internalType:"uint32",type:"uint32"},{name:"mintingFee",internalType:"uint256",type:"uint256"},{name:"currency",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"accessManager",internalType:"address",type:"address"},{name:"name",internalType:"string",type:"string"},{name:"metadataURI",internalType:"string",type:"string"}],name:"initialize",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"isConsumingScheduledOp",outputs:[{name:"",internalType:"bytes4",type:"bytes4"}],stateMutability:"view"},{type:"function",inputs:[{name:"parentIpId",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"},{name:"childIpId",internalType:"address",type:"address"}],name:"isDerivativeApproved",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"licenseTermsId",internalType:"uint256",type:"uint256"}],name:"isLicenseTransferable",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[],name:"name",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[],name:"proxiableUUID",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"terms",internalType:"struct PILTerms",type:"tuple",components:[{name:"transferable",internalType:"bool",type:"bool"},{name:"royaltyPolicy",internalType:"address",type:"address"},{name:"defaultMintingFee",internalType:"uint256",type:"uint256"},{name:"expiration",internalType:"uint256",type:"uint256"},{name:"commercialUse",internalType:"bool",type:"bool"},{name:"commercialAttribution",internalType:"bool",type:"bool"},{name:"commercializerChecker",internalType:"address",type:"address"},{name:"commercializerCheckerData",internalType:"bytes",type:"bytes"},{name:"commercialRevShare",internalType:"uint32",type:"uint32"},{name:"commercialRevCeiling",internalType:"uint256",type:"uint256"},{name:"derivativesAllowed",internalType:"bool",type:"bool"},{name:"derivativesAttribution",internalType:"bool",type:"bool"},{name:"derivativesApproval",internalType:"bool",type:"bool"},{name:"derivativesReciprocal",internalType:"bool",type:"bool"},{name:"derivativeRevCeiling",internalType:"uint256",type:"uint256"},{name:"currency",internalType:"address",type:"address"},{name:"uri",internalType:"string",type:"string"}]}],name:"registerLicenseTerms",outputs:[{name:"id",internalType:"uint256",type:"uint256"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"parentIpId",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"},{name:"childIpId",internalType:"address",type:"address"},{name:"approved",internalType:"bool",type:"bool"}],name:"setApproval",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newAuthority",internalType:"address",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"interfaceId",internalType:"bytes4",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"licenseTermsId",internalType:"uint256",type:"uint256"}],name:"toJson",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[],name:"totalRegisteredLicenseTerms",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"newImplementation",internalType:"address",type:"address"},{name:"data",internalType:"bytes",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable"},{type:"function",inputs:[{name:"licenseTermsIds",internalType:"uint256[]",type:"uint256[]"}],name:"verifyCompatibleLicenses",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"licenseTermsId",internalType:"uint256",type:"uint256"},{name:"licensee",internalType:"address",type:"address"},{name:"licensorIpId",internalType:"address",type:"address"},{name:"",internalType:"uint256",type:"uint256"}],name:"verifyMintLicenseToken",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"childIpId",internalType:"address",type:"address"},{name:"parentIpId",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"},{name:"licensee",internalType:"address",type:"address"}],name:"verifyRegisterDerivative",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"childIpId",internalType:"address",type:"address"},{name:"parentIpIds",internalType:"address[]",type:"address[]"},{name:"licenseTermsIds",internalType:"uint256[]",type:"uint256[]"},{name:"caller",internalType:"address",type:"address"}],name:"verifyRegisterDerivativeForAllParents",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"nonpayable"}],bZ={1315:"0x2E896b0b2Fdb7457499B56AAaA4AE55BCB4Cd316",1514:"0x2E896b0b2Fdb7457499B56AAaA4AE55BCB4Cd316"},$a=[{type:"constructor",inputs:[{name:"accessController",internalType:"address",type:"address"},{name:"coreMetadataModule",internalType:"address",type:"address"},{name:"ipAssetRegistry",internalType:"address",type:"address"},{name:"licenseRegistry",internalType:"address",type:"address"},{name:"licensingModule",internalType:"address",type:"address"},{name:"pilTemplate",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"error",inputs:[{name:"authority",internalType:"address",type:"address"}],name:"AccessManagedInvalidAuthority"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"delay",internalType:"uint32",type:"uint32"}],name:"AccessManagedRequiredDelay"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"}],name:"AccessManagedUnauthorized"},{type:"error",inputs:[{name:"target",internalType:"address",type:"address"}],name:"AddressEmptyCode"},{type:"error",inputs:[{name:"implementation",internalType:"address",type:"address"}],name:"ERC1967InvalidImplementation"},{type:"error",inputs:[],name:"ERC1967NonPayable"},{type:"error",inputs:[],name:"FailedCall"},{type:"error",inputs:[],name:"InvalidInitialization"},{type:"error",inputs:[],name:"NotInitializing"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"signer",internalType:"address",type:"address"}],name:"RegistrationWorkflows__CallerNotSigner"},{type:"error",inputs:[],name:"RegistrationWorkflows__ZeroAddressParam"},{type:"error",inputs:[],name:"UUPSUnauthorizedCallContext"},{type:"error",inputs:[{name:"slot",internalType:"bytes32",type:"bytes32"}],name:"UUPSUnsupportedProxiableUUID"},{type:"error",inputs:[],name:"Workflow__CallerNotAuthorizedToMint"},{type:"event",anonymous:!1,inputs:[{name:"authority",internalType:"address",type:"address",indexed:!1}],name:"AuthorityUpdated"},{type:"event",anonymous:!1,inputs:[{name:"spgNftContract",internalType:"address",type:"address",indexed:!0}],name:"CollectionCreated"},{type:"event",anonymous:!1,inputs:[{name:"version",internalType:"uint64",type:"uint64",indexed:!1}],name:"Initialized"},{type:"event",anonymous:!1,inputs:[{name:"implementation",internalType:"address",type:"address",indexed:!0}],name:"Upgraded"},{type:"function",inputs:[],name:"ACCESS_CONTROLLER",outputs:[{name:"",internalType:"contract IAccessController",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"CORE_METADATA_MODULE",outputs:[{name:"",internalType:"contract ICoreMetadataModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"IP_ASSET_REGISTRY",outputs:[{name:"",internalType:"contract IIPAssetRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"LICENSE_REGISTRY",outputs:[{name:"",internalType:"contract ILicenseRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"LICENSING_MODULE",outputs:[{name:"",internalType:"contract ILicensingModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"PIL_TEMPLATE",outputs:[{name:"",internalType:"contract IPILicenseTemplate",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"UPGRADE_INTERFACE_VERSION",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[],name:"authority",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"spgNftInitParams",internalType:"struct ISPGNFT.InitParams",type:"tuple",components:[{name:"name",internalType:"string",type:"string"},{name:"symbol",internalType:"string",type:"string"},{name:"baseURI",internalType:"string",type:"string"},{name:"contractURI",internalType:"string",type:"string"},{name:"maxSupply",internalType:"uint32",type:"uint32"},{name:"mintFee",internalType:"uint256",type:"uint256"},{name:"mintFeeToken",internalType:"address",type:"address"},{name:"mintFeeRecipient",internalType:"address",type:"address"},{name:"owner",internalType:"address",type:"address"},{name:"mintOpen",internalType:"bool",type:"bool"},{name:"isPublicMinting",internalType:"bool",type:"bool"}]}],name:"createCollection",outputs:[{name:"spgNftContract",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"accessManager",internalType:"address",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"isConsumingScheduledOp",outputs:[{name:"",internalType:"bytes4",type:"bytes4"}],stateMutability:"view"},{type:"function",inputs:[{name:"spgNftContract",internalType:"address",type:"address"},{name:"recipient",internalType:"address",type:"address"},{name:"ipMetadata",internalType:"struct WorkflowStructs.IPMetadata",type:"tuple",components:[{name:"ipMetadataURI",internalType:"string",type:"string"},{name:"ipMetadataHash",internalType:"bytes32",type:"bytes32"},{name:"nftMetadataURI",internalType:"string",type:"string"},{name:"nftMetadataHash",internalType:"bytes32",type:"bytes32"}]},{name:"allowDuplicates",internalType:"bool",type:"bool"}],name:"mintAndRegisterIp",outputs:[{name:"ipId",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"data",internalType:"bytes[]",type:"bytes[]"}],name:"multicall",outputs:[{name:"results",internalType:"bytes[]",type:"bytes[]"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"",internalType:"address",type:"address"},{name:"",internalType:"address",type:"address"},{name:"",internalType:"uint256",type:"uint256"},{name:"",internalType:"bytes",type:"bytes"}],name:"onERC721Received",outputs:[{name:"",internalType:"bytes4",type:"bytes4"}],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"proxiableUUID",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"nftContract",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"},{name:"ipMetadata",internalType:"struct WorkflowStructs.IPMetadata",type:"tuple",components:[{name:"ipMetadataURI",internalType:"string",type:"string"},{name:"ipMetadataHash",internalType:"bytes32",type:"bytes32"},{name:"nftMetadataURI",internalType:"string",type:"string"},{name:"nftMetadataHash",internalType:"bytes32",type:"bytes32"}]},{name:"sigMetadata",internalType:"struct WorkflowStructs.SignatureData",type:"tuple",components:[{name:"signer",internalType:"address",type:"address"},{name:"deadline",internalType:"uint256",type:"uint256"},{name:"signature",internalType:"bytes",type:"bytes"}]}],name:"registerIp",outputs:[{name:"ipId",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newAuthority",internalType:"address",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newNftContractBeacon",internalType:"address",type:"address"}],name:"setNftContractBeacon",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newNftContract",internalType:"address",type:"address"}],name:"upgradeCollections",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newImplementation",internalType:"address",type:"address"},{name:"data",internalType:"bytes",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable"}],wZ={1315:"0xbe39E1C756e921BD25DF86e7AAa31106d1eb0424",1514:"0xbe39E1C756e921BD25DF86e7AAa31106d1eb0424"},ql=[{type:"constructor",inputs:[{name:"licensingModule",internalType:"address",type:"address"},{name:"disputeModule",internalType:"address",type:"address"},{name:"licenseRegistry",internalType:"address",type:"address"},{name:"ipAssetRegistry",internalType:"address",type:"address"},{name:"ipGraphAcl",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"error",inputs:[{name:"authority",internalType:"address",type:"address"}],name:"AccessManagedInvalidAuthority"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"delay",internalType:"uint32",type:"uint32"}],name:"AccessManagedRequiredDelay"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"}],name:"AccessManagedUnauthorized"},{type:"error",inputs:[{name:"target",internalType:"address",type:"address"}],name:"AddressEmptyCode"},{type:"error",inputs:[{name:"implementation",internalType:"address",type:"address"}],name:"ERC1967InvalidImplementation"},{type:"error",inputs:[],name:"ERC1967NonPayable"},{type:"error",inputs:[],name:"EnforcedPause"},{type:"error",inputs:[],name:"ExpectedPause"},{type:"error",inputs:[],name:"FailedCall"},{type:"error",inputs:[],name:"InvalidInitialization"},{type:"error",inputs:[],name:"NotInitializing"},{type:"error",inputs:[],name:"ReentrancyGuardReentrantCall"},{type:"error",inputs:[],name:"RoyaltyModule__AboveAccumulatedRoyaltyPoliciesLimit"},{type:"error",inputs:[],name:"RoyaltyModule__AboveMaxPercent"},{type:"error",inputs:[],name:"RoyaltyModule__AboveMaxRts"},{type:"error",inputs:[],name:"RoyaltyModule__CallFailed"},{type:"error",inputs:[{name:"groupId",internalType:"address",type:"address"},{name:"rewardPool",internalType:"address",type:"address"}],name:"RoyaltyModule__GroupRewardPoolNotWhitelisted"},{type:"error",inputs:[],name:"RoyaltyModule__InvalidExternalRoyaltyPolicy"},{type:"error",inputs:[],name:"RoyaltyModule__IpExpired"},{type:"error",inputs:[],name:"RoyaltyModule__IpIsTagged"},{type:"error",inputs:[],name:"RoyaltyModule__NoParentsOnLinking"},{type:"error",inputs:[],name:"RoyaltyModule__NotAllowedCaller"},{type:"error",inputs:[],name:"RoyaltyModule__NotWhitelistedOrRegisteredRoyaltyPolicy"},{type:"error",inputs:[],name:"RoyaltyModule__NotWhitelistedRoyaltyToken"},{type:"error",inputs:[],name:"RoyaltyModule__PaymentAmountIsTooLow"},{type:"error",inputs:[],name:"RoyaltyModule__PolicyAlreadyRegisteredAsExternalRoyaltyPolicy"},{type:"error",inputs:[],name:"RoyaltyModule__PolicyAlreadyWhitelistedOrRegistered"},{type:"error",inputs:[],name:"RoyaltyModule__UnlinkableToParents"},{type:"error",inputs:[],name:"RoyaltyModule__ZeroAccessManager"},{type:"error",inputs:[],name:"RoyaltyModule__ZeroAccumulatedRoyaltyPoliciesLimit"},{type:"error",inputs:[],name:"RoyaltyModule__ZeroAmount"},{type:"error",inputs:[],name:"RoyaltyModule__ZeroDisputeModule"},{type:"error",inputs:[],name:"RoyaltyModule__ZeroIpAssetRegistry"},{type:"error",inputs:[],name:"RoyaltyModule__ZeroIpGraphAcl"},{type:"error",inputs:[],name:"RoyaltyModule__ZeroLicenseRegistry"},{type:"error",inputs:[],name:"RoyaltyModule__ZeroLicensingModule"},{type:"error",inputs:[],name:"RoyaltyModule__ZeroParentIpId"},{type:"error",inputs:[],name:"RoyaltyModule__ZeroReceiverVault"},{type:"error",inputs:[],name:"RoyaltyModule__ZeroRoyaltyPolicy"},{type:"error",inputs:[],name:"RoyaltyModule__ZeroRoyaltyToken"},{type:"error",inputs:[],name:"RoyaltyModule__ZeroTreasury"},{type:"error",inputs:[{name:"token",internalType:"address",type:"address"}],name:"SafeERC20FailedOperation"},{type:"error",inputs:[],name:"UUPSUnauthorizedCallContext"},{type:"error",inputs:[{name:"slot",internalType:"bytes32",type:"bytes32"}],name:"UUPSUnsupportedProxiableUUID"},{type:"error",inputs:[],name:"VaultController__ZeroIpRoyaltyVaultBeacon"},{type:"event",anonymous:!1,inputs:[{name:"authority",internalType:"address",type:"address",indexed:!1}],name:"AuthorityUpdated"},{type:"event",anonymous:!1,inputs:[{name:"externalRoyaltyPolicy",internalType:"address",type:"address",indexed:!1}],name:"ExternalRoyaltyPolicyRegistered"},{type:"event",anonymous:!1,inputs:[{name:"version",internalType:"uint64",type:"uint64",indexed:!1}],name:"Initialized"},{type:"event",anonymous:!1,inputs:[{name:"ipId",internalType:"address",type:"address",indexed:!1},{name:"ipRoyaltyVault",internalType:"address",type:"address",indexed:!1}],name:"IpRoyaltyVaultDeployed"},{type:"event",anonymous:!1,inputs:[{name:"receiverIpId",internalType:"address",type:"address",indexed:!1},{name:"payerAddress",internalType:"address",type:"address",indexed:!1},{name:"token",internalType:"address",type:"address",indexed:!1},{name:"amount",internalType:"uint256",type:"uint256",indexed:!1},{name:"amountAfterFee",internalType:"uint256",type:"uint256",indexed:!1}],name:"LicenseMintingFeePaid"},{type:"event",anonymous:!1,inputs:[{name:"ipId",internalType:"address",type:"address",indexed:!1},{name:"royaltyPolicy",internalType:"address",type:"address",indexed:!1},{name:"licensePercent",internalType:"uint32",type:"uint32",indexed:!1},{name:"externalData",internalType:"bytes",type:"bytes",indexed:!1}],name:"LicensedWithRoyalty"},{type:"event",anonymous:!1,inputs:[{name:"ipId",internalType:"address",type:"address",indexed:!1},{name:"parentIpIds",internalType:"address[]",type:"address[]",indexed:!1},{name:"licenseRoyaltyPolicies",internalType:"address[]",type:"address[]",indexed:!1},{name:"licensesPercent",internalType:"uint32[]",type:"uint32[]",indexed:!1},{name:"externalData",internalType:"bytes",type:"bytes",indexed:!1}],name:"LinkedToParents"},{type:"event",anonymous:!1,inputs:[{name:"account",internalType:"address",type:"address",indexed:!1}],name:"Paused"},{type:"event",anonymous:!1,inputs:[{name:"royaltyFeePercent",internalType:"uint256",type:"uint256",indexed:!1}],name:"RoyaltyFeePercentSet"},{type:"event",anonymous:!1,inputs:[{name:"accumulatedRoyaltyPoliciesLimit",internalType:"uint256",type:"uint256",indexed:!1}],name:"RoyaltyLimitsUpdated"},{type:"event",anonymous:!1,inputs:[{name:"receiverIpId",internalType:"address",type:"address",indexed:!1},{name:"payerIpId",internalType:"address",type:"address",indexed:!1},{name:"sender",internalType:"address",type:"address",indexed:!1},{name:"token",internalType:"address",type:"address",indexed:!1},{name:"amount",internalType:"uint256",type:"uint256",indexed:!1},{name:"amountAfterFee",internalType:"uint256",type:"uint256",indexed:!1}],name:"RoyaltyPaid"},{type:"event",anonymous:!1,inputs:[{name:"royaltyPolicy",internalType:"address",type:"address",indexed:!1},{name:"allowed",internalType:"bool",type:"bool",indexed:!1}],name:"RoyaltyPolicyWhitelistUpdated"},{type:"event",anonymous:!1,inputs:[{name:"token",internalType:"address",type:"address",indexed:!1},{name:"allowed",internalType:"bool",type:"bool",indexed:!1}],name:"RoyaltyTokenWhitelistUpdated"},{type:"event",anonymous:!1,inputs:[{name:"treasury",internalType:"address",type:"address",indexed:!1}],name:"TreasurySet"},{type:"event",anonymous:!1,inputs:[{name:"account",internalType:"address",type:"address",indexed:!1}],name:"Unpaused"},{type:"event",anonymous:!1,inputs:[{name:"implementation",internalType:"address",type:"address",indexed:!0}],name:"Upgraded"},{type:"function",inputs:[],name:"DISPUTE_MODULE",outputs:[{name:"",internalType:"contract IDisputeModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"IP_ASSET_REGISTRY",outputs:[{name:"",internalType:"contract IGroupIPAssetRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"IP_GRAPH",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"IP_GRAPH_ACL",outputs:[{name:"",internalType:"contract IPGraphACL",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"LICENSE_REGISTRY",outputs:[{name:"",internalType:"contract ILicenseRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"LICENSING_MODULE",outputs:[{name:"",internalType:"contract ILicensingModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"MAX_PERCENT",outputs:[{name:"",internalType:"uint32",type:"uint32"}],stateMutability:"view"},{type:"function",inputs:[],name:"UPGRADE_INTERFACE_VERSION",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[{name:"accessManager",internalType:"address",type:"address"}],name:"__ProtocolPausable_init",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"}],name:"accumulatedRoyaltyPolicies",outputs:[{name:"",internalType:"address[]",type:"address[]"}],stateMutability:"view"},{type:"function",inputs:[],name:"authority",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"}],name:"globalRoyaltyStack",outputs:[{name:"",internalType:"uint32",type:"uint32"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"ancestorIpId",internalType:"address",type:"address"}],name:"hasAncestorIp",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"accessManager",internalType:"address",type:"address"},{name:"accumulatedRoyaltyPoliciesLimit",internalType:"uint256",type:"uint256"}],name:"initialize",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"ipRoyaltyVaultBeacon",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"}],name:"ipRoyaltyVaults",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"isConsumingScheduledOp",outputs:[{name:"",internalType:"bytes4",type:"bytes4"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipRoyaltyVault",internalType:"address",type:"address"}],name:"isIpRoyaltyVault",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"externalRoyaltyPolicy",internalType:"address",type:"address"}],name:"isRegisteredExternalRoyaltyPolicy",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"royaltyPolicy",internalType:"address",type:"address"}],name:"isWhitelistedRoyaltyPolicy",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"token",internalType:"address",type:"address"}],name:"isWhitelistedRoyaltyToken",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[],name:"maxAccumulatedRoyaltyPolicies",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[],name:"maxAncestors",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[],name:"maxParents",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[],name:"maxPercent",outputs:[{name:"",internalType:"uint32",type:"uint32"}],stateMutability:"pure"},{type:"function",inputs:[],name:"name",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"royaltyPolicy",internalType:"address",type:"address"},{name:"licensePercent",internalType:"uint32",type:"uint32"},{name:"externalData",internalType:"bytes",type:"bytes"}],name:"onLicenseMinting",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"parentIpIds",internalType:"address[]",type:"address[]"},{name:"licenseRoyaltyPolicies",internalType:"address[]",type:"address[]"},{name:"licensesPercent",internalType:"uint32[]",type:"uint32[]"},{name:"externalData",internalType:"bytes",type:"bytes"},{name:"maxRts",internalType:"uint32",type:"uint32"}],name:"onLinkToParents",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"paused",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"receiverIpId",internalType:"address",type:"address"},{name:"payerAddress",internalType:"address",type:"address"},{name:"token",internalType:"address",type:"address"},{name:"amount",internalType:"uint256",type:"uint256"}],name:"payLicenseMintingFee",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"receiverIpId",internalType:"address",type:"address"},{name:"payerIpId",internalType:"address",type:"address"},{name:"token",internalType:"address",type:"address"},{name:"amount",internalType:"uint256",type:"uint256"}],name:"payRoyaltyOnBehalf",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"proxiableUUID",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"externalRoyaltyPolicy",internalType:"address",type:"address"}],name:"registerExternalRoyaltyPolicy",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"royaltyFeePercent",outputs:[{name:"",internalType:"uint32",type:"uint32"}],stateMutability:"view"},{type:"function",inputs:[{name:"newAuthority",internalType:"address",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"beacon",internalType:"address",type:"address"}],name:"setIpRoyaltyVaultBeacon",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"royaltyFeePercent",internalType:"uint32",type:"uint32"}],name:"setRoyaltyFeePercent",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"accumulatedRoyaltyPoliciesLimit",internalType:"uint256",type:"uint256"}],name:"setRoyaltyLimits",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"treasury",internalType:"address",type:"address"}],name:"setTreasury",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"interfaceId",internalType:"bytes4",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"token",internalType:"address",type:"address"},{name:"royaltyPolicy",internalType:"address",type:"address"}],name:"totalRevenueTokensAccounted",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"token",internalType:"address",type:"address"}],name:"totalRevenueTokensReceived",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[],name:"treasury",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newImplementation",internalType:"address",type:"address"},{name:"data",internalType:"bytes",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable"},{type:"function",inputs:[{name:"newVault",internalType:"address",type:"address"}],name:"upgradeVaults",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"royaltyPolicy",internalType:"address",type:"address"},{name:"allowed",internalType:"bool",type:"bool"}],name:"whitelistRoyaltyPolicy",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"token",internalType:"address",type:"address"},{name:"allowed",internalType:"bool",type:"bool"}],name:"whitelistRoyaltyToken",outputs:[],stateMutability:"nonpayable"}],xZ={1315:"0xD2f60c40fEbccf6311f8B47c4f2Ec6b040400086",1514:"0xD2f60c40fEbccf6311f8B47c4f2Ec6b040400086"},KMe={1315:"0xBe54FB168b3c982b7AaE60dB6CF75Bd8447b390E",1514:"0xBe54FB168b3c982b7AaE60dB6CF75Bd8447b390E"},YMe=[{type:"constructor",inputs:[{name:"royaltyModule",internalType:"address",type:"address"},{name:"royaltyPolicyLAP",internalType:"address",type:"address"},{name:"ipGraphAcl",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"error",inputs:[{name:"authority",internalType:"address",type:"address"}],name:"AccessManagedInvalidAuthority"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"delay",internalType:"uint32",type:"uint32"}],name:"AccessManagedRequiredDelay"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"}],name:"AccessManagedUnauthorized"},{type:"error",inputs:[{name:"target",internalType:"address",type:"address"}],name:"AddressEmptyCode"},{type:"error",inputs:[{name:"implementation",internalType:"address",type:"address"}],name:"ERC1967InvalidImplementation"},{type:"error",inputs:[],name:"ERC1967NonPayable"},{type:"error",inputs:[],name:"EnforcedPause"},{type:"error",inputs:[],name:"ExpectedPause"},{type:"error",inputs:[],name:"FailedCall"},{type:"error",inputs:[],name:"InvalidInitialization"},{type:"error",inputs:[],name:"NotInitializing"},{type:"error",inputs:[],name:"ReentrancyGuardReentrantCall"},{type:"error",inputs:[],name:"RoyaltyPolicyLRP__AboveMaxPercent"},{type:"error",inputs:[],name:"RoyaltyPolicyLRP__CallFailed"},{type:"error",inputs:[],name:"RoyaltyPolicyLRP__NotRoyaltyModule"},{type:"error",inputs:[],name:"RoyaltyPolicyLRP__SameIpTransfer"},{type:"error",inputs:[],name:"RoyaltyPolicyLRP__ZeroAccessManager"},{type:"error",inputs:[],name:"RoyaltyPolicyLRP__ZeroClaimableRoyalty"},{type:"error",inputs:[],name:"RoyaltyPolicyLRP__ZeroIPGraphACL"},{type:"error",inputs:[],name:"RoyaltyPolicyLRP__ZeroRoyaltyModule"},{type:"error",inputs:[],name:"RoyaltyPolicyLRP__ZeroRoyaltyPolicyLAP"},{type:"error",inputs:[{name:"token",internalType:"address",type:"address"}],name:"SafeERC20FailedOperation"},{type:"error",inputs:[],name:"UUPSUnauthorizedCallContext"},{type:"error",inputs:[{name:"slot",internalType:"bytes32",type:"bytes32"}],name:"UUPSUnsupportedProxiableUUID"},{type:"event",anonymous:!1,inputs:[{name:"authority",internalType:"address",type:"address",indexed:!1}],name:"AuthorityUpdated"},{type:"event",anonymous:!1,inputs:[{name:"version",internalType:"uint64",type:"uint64",indexed:!1}],name:"Initialized"},{type:"event",anonymous:!1,inputs:[{name:"account",internalType:"address",type:"address",indexed:!1}],name:"Paused"},{type:"event",anonymous:!1,inputs:[{name:"ipId",internalType:"address",type:"address",indexed:!1},{name:"ancestorIpId",internalType:"address",type:"address",indexed:!1},{name:"token",internalType:"address",type:"address",indexed:!1},{name:"amount",internalType:"uint256",type:"uint256",indexed:!1}],name:"RevenueTransferredToVault"},{type:"event",anonymous:!1,inputs:[{name:"account",internalType:"address",type:"address",indexed:!1}],name:"Unpaused"},{type:"event",anonymous:!1,inputs:[{name:"implementation",internalType:"address",type:"address",indexed:!0}],name:"Upgraded"},{type:"function",inputs:[],name:"IP_GRAPH",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"IP_GRAPH_ACL",outputs:[{name:"",internalType:"contract IPGraphACL",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"ROYALTY_MODULE",outputs:[{name:"",internalType:"contract IRoyaltyModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"ROYALTY_POLICY_LAP",outputs:[{name:"",internalType:"contract IGraphAwareRoyaltyPolicy",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"UPGRADE_INTERFACE_VERSION",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[{name:"accessManager",internalType:"address",type:"address"}],name:"__ProtocolPausable_init",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"authority",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"ancestorIpId",internalType:"address",type:"address"}],name:"getPolicyRoyalty",outputs:[{name:"",internalType:"uint32",type:"uint32"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"}],name:"getPolicyRoyaltyStack",outputs:[{name:"",internalType:"uint32",type:"uint32"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"licensePercent",internalType:"uint32",type:"uint32"}],name:"getPolicyRtsRequiredToLink",outputs:[{name:"",internalType:"uint32",type:"uint32"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"ancestorIpId",internalType:"address",type:"address"},{name:"token",internalType:"address",type:"address"}],name:"getTransferredTokens",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"accessManager",internalType:"address",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"isConsumingScheduledOp",outputs:[{name:"",internalType:"bytes4",type:"bytes4"}],stateMutability:"view"},{type:"function",inputs:[],name:"isSupportGroup",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"licensePercent",internalType:"uint32",type:"uint32"},{name:"",internalType:"bytes",type:"bytes"}],name:"onLicenseMinting",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"parentIpIds",internalType:"address[]",type:"address[]"},{name:"licenseRoyaltyPolicies",internalType:"address[]",type:"address[]"},{name:"licensesPercent",internalType:"uint32[]",type:"uint32[]"},{name:"",internalType:"bytes",type:"bytes"}],name:"onLinkToParents",outputs:[{name:"newRoyaltyStackLRP",internalType:"uint32",type:"uint32"}],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"paused",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[],name:"proxiableUUID",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"newAuthority",internalType:"address",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"ancestorIpId",internalType:"address",type:"address"},{name:"token",internalType:"address",type:"address"}],name:"transferToVault",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newImplementation",internalType:"address",type:"address"},{name:"data",internalType:"bytes",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable"}],qMe={1315:"0x9156e603C949481883B1d3355c6f1132D191fC41",1514:"0x9156e603C949481883B1d3355c6f1132D191fC41"},qr=[{type:"constructor",inputs:[{name:"accessController",internalType:"address",type:"address"},{name:"coreMetadataModule",internalType:"address",type:"address"},{name:"ipAssetRegistry",internalType:"address",type:"address"},{name:"licenseRegistry",internalType:"address",type:"address"},{name:"licensingModule",internalType:"address",type:"address"},{name:"pilTemplate",internalType:"address",type:"address"},{name:"royaltyModule",internalType:"address",type:"address"},{name:"royaltyPolicyLRP",internalType:"address",type:"address"},{name:"wip",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"error",inputs:[{name:"authority",internalType:"address",type:"address"}],name:"AccessManagedInvalidAuthority"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"delay",internalType:"uint32",type:"uint32"}],name:"AccessManagedRequiredDelay"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"}],name:"AccessManagedUnauthorized"},{type:"error",inputs:[{name:"target",internalType:"address",type:"address"}],name:"AddressEmptyCode"},{type:"error",inputs:[{name:"implementation",internalType:"address",type:"address"}],name:"ERC1967InvalidImplementation"},{type:"error",inputs:[],name:"ERC1967NonPayable"},{type:"error",inputs:[],name:"FailedCall"},{type:"error",inputs:[],name:"InvalidInitialization"},{type:"error",inputs:[],name:"LicensingHelper__ParentIpIdsAndLicenseTermsIdsMismatch"},{type:"error",inputs:[],name:"NotInitializing"},{type:"error",inputs:[],name:"PermissionHelper__ModulesAndSelectorsMismatch"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"signer",internalType:"address",type:"address"}],name:"RoyaltyTokenDistributionWorkflows__CallerNotSigner"},{type:"error",inputs:[],name:"RoyaltyTokenDistributionWorkflows__NoLicenseTermsData"},{type:"error",inputs:[],name:"RoyaltyTokenDistributionWorkflows__RoyaltyVaultNotDeployed"},{type:"error",inputs:[{name:"totalShares",internalType:"uint32",type:"uint32"},{name:"ipAccountBalance",internalType:"uint32",type:"uint32"}],name:"RoyaltyTokenDistributionWorkflows__TotalSharesExceedsIPAccountBalance"},{type:"error",inputs:[],name:"RoyaltyTokenDistributionWorkflows__ZeroAddressParam"},{type:"error",inputs:[{name:"token",internalType:"address",type:"address"}],name:"SafeERC20FailedOperation"},{type:"error",inputs:[],name:"UUPSUnauthorizedCallContext"},{type:"error",inputs:[{name:"slot",internalType:"bytes32",type:"bytes32"}],name:"UUPSUnsupportedProxiableUUID"},{type:"error",inputs:[],name:"Workflow__CallerNotAuthorizedToMint"},{type:"event",anonymous:!1,inputs:[{name:"authority",internalType:"address",type:"address",indexed:!1}],name:"AuthorityUpdated"},{type:"event",anonymous:!1,inputs:[{name:"version",internalType:"uint64",type:"uint64",indexed:!1}],name:"Initialized"},{type:"event",anonymous:!1,inputs:[{name:"implementation",internalType:"address",type:"address",indexed:!0}],name:"Upgraded"},{type:"function",inputs:[],name:"ACCESS_CONTROLLER",outputs:[{name:"",internalType:"contract IAccessController",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"CORE_METADATA_MODULE",outputs:[{name:"",internalType:"contract ICoreMetadataModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"IP_ASSET_REGISTRY",outputs:[{name:"",internalType:"contract IIPAssetRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"LICENSE_REGISTRY",outputs:[{name:"",internalType:"contract ILicenseRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"LICENSING_MODULE",outputs:[{name:"",internalType:"contract ILicensingModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"PIL_TEMPLATE",outputs:[{name:"",internalType:"contract IPILicenseTemplate",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"ROYALTY_MODULE",outputs:[{name:"",internalType:"contract IRoyaltyModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"ROYALTY_POLICY_LRP",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"UPGRADE_INTERFACE_VERSION",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[],name:"WIP",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"authority",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"royaltyShares",internalType:"struct WorkflowStructs.RoyaltyShare[]",type:"tuple[]",components:[{name:"recipient",internalType:"address",type:"address"},{name:"percentage",internalType:"uint32",type:"uint32"}]},{name:"sigApproveRoyaltyTokens",internalType:"struct WorkflowStructs.SignatureData",type:"tuple",components:[{name:"signer",internalType:"address",type:"address"},{name:"deadline",internalType:"uint256",type:"uint256"},{name:"signature",internalType:"bytes",type:"bytes"}]}],name:"distributeRoyaltyTokens",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"accessManager",internalType:"address",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"isConsumingScheduledOp",outputs:[{name:"",internalType:"bytes4",type:"bytes4"}],stateMutability:"view"},{type:"function",inputs:[{name:"spgNftContract",internalType:"address",type:"address"},{name:"recipient",internalType:"address",type:"address"},{name:"ipMetadata",internalType:"struct WorkflowStructs.IPMetadata",type:"tuple",components:[{name:"ipMetadataURI",internalType:"string",type:"string"},{name:"ipMetadataHash",internalType:"bytes32",type:"bytes32"},{name:"nftMetadataURI",internalType:"string",type:"string"},{name:"nftMetadataHash",internalType:"bytes32",type:"bytes32"}]},{name:"licenseTermsData",internalType:"struct WorkflowStructs.LicenseTermsData[]",type:"tuple[]",components:[{name:"terms",internalType:"struct PILTerms",type:"tuple",components:[{name:"transferable",internalType:"bool",type:"bool"},{name:"royaltyPolicy",internalType:"address",type:"address"},{name:"defaultMintingFee",internalType:"uint256",type:"uint256"},{name:"expiration",internalType:"uint256",type:"uint256"},{name:"commercialUse",internalType:"bool",type:"bool"},{name:"commercialAttribution",internalType:"bool",type:"bool"},{name:"commercializerChecker",internalType:"address",type:"address"},{name:"commercializerCheckerData",internalType:"bytes",type:"bytes"},{name:"commercialRevShare",internalType:"uint32",type:"uint32"},{name:"commercialRevCeiling",internalType:"uint256",type:"uint256"},{name:"derivativesAllowed",internalType:"bool",type:"bool"},{name:"derivativesAttribution",internalType:"bool",type:"bool"},{name:"derivativesApproval",internalType:"bool",type:"bool"},{name:"derivativesReciprocal",internalType:"bool",type:"bool"},{name:"derivativeRevCeiling",internalType:"uint256",type:"uint256"},{name:"currency",internalType:"address",type:"address"},{name:"uri",internalType:"string",type:"string"}]},{name:"licensingConfig",internalType:"struct Licensing.LicensingConfig",type:"tuple",components:[{name:"isSet",internalType:"bool",type:"bool"},{name:"mintingFee",internalType:"uint256",type:"uint256"},{name:"licensingHook",internalType:"address",type:"address"},{name:"hookData",internalType:"bytes",type:"bytes"},{name:"commercialRevShare",internalType:"uint32",type:"uint32"},{name:"disabled",internalType:"bool",type:"bool"},{name:"expectMinimumGroupRewardShare",internalType:"uint32",type:"uint32"},{name:"expectGroupRewardPool",internalType:"address",type:"address"}]}]},{name:"royaltyShares",internalType:"struct WorkflowStructs.RoyaltyShare[]",type:"tuple[]",components:[{name:"recipient",internalType:"address",type:"address"},{name:"percentage",internalType:"uint32",type:"uint32"}]},{name:"allowDuplicates",internalType:"bool",type:"bool"}],name:"mintAndRegisterIpAndAttachPILTermsAndDistributeRoyaltyTokens",outputs:[{name:"ipId",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"},{name:"licenseTermsIds",internalType:"uint256[]",type:"uint256[]"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"spgNftContract",internalType:"address",type:"address"},{name:"recipient",internalType:"address",type:"address"},{name:"ipMetadata",internalType:"struct WorkflowStructs.IPMetadata",type:"tuple",components:[{name:"ipMetadataURI",internalType:"string",type:"string"},{name:"ipMetadataHash",internalType:"bytes32",type:"bytes32"},{name:"nftMetadataURI",internalType:"string",type:"string"},{name:"nftMetadataHash",internalType:"bytes32",type:"bytes32"}]},{name:"derivData",internalType:"struct WorkflowStructs.MakeDerivative",type:"tuple",components:[{name:"parentIpIds",internalType:"address[]",type:"address[]"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsIds",internalType:"uint256[]",type:"uint256[]"},{name:"royaltyContext",internalType:"bytes",type:"bytes"},{name:"maxMintingFee",internalType:"uint256",type:"uint256"},{name:"maxRts",internalType:"uint32",type:"uint32"},{name:"maxRevenueShare",internalType:"uint32",type:"uint32"}]},{name:"royaltyShares",internalType:"struct WorkflowStructs.RoyaltyShare[]",type:"tuple[]",components:[{name:"recipient",internalType:"address",type:"address"},{name:"percentage",internalType:"uint32",type:"uint32"}]},{name:"allowDuplicates",internalType:"bool",type:"bool"}],name:"mintAndRegisterIpAndMakeDerivativeAndDistributeRoyaltyTokens",outputs:[{name:"ipId",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"data",internalType:"bytes[]",type:"bytes[]"}],name:"multicall",outputs:[{name:"results",internalType:"bytes[]",type:"bytes[]"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"",internalType:"address",type:"address"},{name:"",internalType:"address",type:"address"},{name:"",internalType:"uint256",type:"uint256"},{name:"",internalType:"bytes",type:"bytes"}],name:"onERC721Received",outputs:[{name:"",internalType:"bytes4",type:"bytes4"}],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"proxiableUUID",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"nftContract",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"},{name:"ipMetadata",internalType:"struct WorkflowStructs.IPMetadata",type:"tuple",components:[{name:"ipMetadataURI",internalType:"string",type:"string"},{name:"ipMetadataHash",internalType:"bytes32",type:"bytes32"},{name:"nftMetadataURI",internalType:"string",type:"string"},{name:"nftMetadataHash",internalType:"bytes32",type:"bytes32"}]},{name:"licenseTermsData",internalType:"struct WorkflowStructs.LicenseTermsData[]",type:"tuple[]",components:[{name:"terms",internalType:"struct PILTerms",type:"tuple",components:[{name:"transferable",internalType:"bool",type:"bool"},{name:"royaltyPolicy",internalType:"address",type:"address"},{name:"defaultMintingFee",internalType:"uint256",type:"uint256"},{name:"expiration",internalType:"uint256",type:"uint256"},{name:"commercialUse",internalType:"bool",type:"bool"},{name:"commercialAttribution",internalType:"bool",type:"bool"},{name:"commercializerChecker",internalType:"address",type:"address"},{name:"commercializerCheckerData",internalType:"bytes",type:"bytes"},{name:"commercialRevShare",internalType:"uint32",type:"uint32"},{name:"commercialRevCeiling",internalType:"uint256",type:"uint256"},{name:"derivativesAllowed",internalType:"bool",type:"bool"},{name:"derivativesAttribution",internalType:"bool",type:"bool"},{name:"derivativesApproval",internalType:"bool",type:"bool"},{name:"derivativesReciprocal",internalType:"bool",type:"bool"},{name:"derivativeRevCeiling",internalType:"uint256",type:"uint256"},{name:"currency",internalType:"address",type:"address"},{name:"uri",internalType:"string",type:"string"}]},{name:"licensingConfig",internalType:"struct Licensing.LicensingConfig",type:"tuple",components:[{name:"isSet",internalType:"bool",type:"bool"},{name:"mintingFee",internalType:"uint256",type:"uint256"},{name:"licensingHook",internalType:"address",type:"address"},{name:"hookData",internalType:"bytes",type:"bytes"},{name:"commercialRevShare",internalType:"uint32",type:"uint32"},{name:"disabled",internalType:"bool",type:"bool"},{name:"expectMinimumGroupRewardShare",internalType:"uint32",type:"uint32"},{name:"expectGroupRewardPool",internalType:"address",type:"address"}]}]},{name:"sigMetadataAndAttachAndConfig",internalType:"struct WorkflowStructs.SignatureData",type:"tuple",components:[{name:"signer",internalType:"address",type:"address"},{name:"deadline",internalType:"uint256",type:"uint256"},{name:"signature",internalType:"bytes",type:"bytes"}]}],name:"registerIpAndAttachPILTermsAndDeployRoyaltyVault",outputs:[{name:"ipId",internalType:"address",type:"address"},{name:"licenseTermsIds",internalType:"uint256[]",type:"uint256[]"},{name:"ipRoyaltyVault",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"nftContract",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"},{name:"ipMetadata",internalType:"struct WorkflowStructs.IPMetadata",type:"tuple",components:[{name:"ipMetadataURI",internalType:"string",type:"string"},{name:"ipMetadataHash",internalType:"bytes32",type:"bytes32"},{name:"nftMetadataURI",internalType:"string",type:"string"},{name:"nftMetadataHash",internalType:"bytes32",type:"bytes32"}]},{name:"derivData",internalType:"struct WorkflowStructs.MakeDerivative",type:"tuple",components:[{name:"parentIpIds",internalType:"address[]",type:"address[]"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsIds",internalType:"uint256[]",type:"uint256[]"},{name:"royaltyContext",internalType:"bytes",type:"bytes"},{name:"maxMintingFee",internalType:"uint256",type:"uint256"},{name:"maxRts",internalType:"uint32",type:"uint32"},{name:"maxRevenueShare",internalType:"uint32",type:"uint32"}]},{name:"sigMetadataAndRegister",internalType:"struct WorkflowStructs.SignatureData",type:"tuple",components:[{name:"signer",internalType:"address",type:"address"},{name:"deadline",internalType:"uint256",type:"uint256"},{name:"signature",internalType:"bytes",type:"bytes"}]}],name:"registerIpAndMakeDerivativeAndDeployRoyaltyVault",outputs:[{name:"ipId",internalType:"address",type:"address"},{name:"ipRoyaltyVault",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newAuthority",internalType:"address",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newImplementation",internalType:"address",type:"address"},{name:"data",internalType:"bytes",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable"}],I1={1315:"0xa38f42B8d33809917f23997B8423054aAB97322C",1514:"0xa38f42B8d33809917f23997B8423054aAB97322C"},Bb=[{type:"constructor",inputs:[{name:"royaltyModule",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"error",inputs:[{name:"authority",internalType:"address",type:"address"}],name:"AccessManagedInvalidAuthority"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"delay",internalType:"uint32",type:"uint32"}],name:"AccessManagedRequiredDelay"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"}],name:"AccessManagedUnauthorized"},{type:"error",inputs:[{name:"target",internalType:"address",type:"address"}],name:"AddressEmptyCode"},{type:"error",inputs:[{name:"implementation",internalType:"address",type:"address"}],name:"ERC1967InvalidImplementation"},{type:"error",inputs:[],name:"ERC1967NonPayable"},{type:"error",inputs:[],name:"FailedCall"},{type:"error",inputs:[],name:"InvalidInitialization"},{type:"error",inputs:[],name:"NotInitializing"},{type:"error",inputs:[],name:"RoyaltyWorkflows__ZeroAddressParam"},{type:"error",inputs:[],name:"UUPSUnauthorizedCallContext"},{type:"error",inputs:[{name:"slot",internalType:"bytes32",type:"bytes32"}],name:"UUPSUnsupportedProxiableUUID"},{type:"event",anonymous:!1,inputs:[{name:"authority",internalType:"address",type:"address",indexed:!1}],name:"AuthorityUpdated"},{type:"event",anonymous:!1,inputs:[{name:"version",internalType:"uint64",type:"uint64",indexed:!1}],name:"Initialized"},{type:"event",anonymous:!1,inputs:[{name:"implementation",internalType:"address",type:"address",indexed:!0}],name:"Upgraded"},{type:"function",inputs:[],name:"ROYALTY_MODULE",outputs:[{name:"",internalType:"contract IRoyaltyModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"UPGRADE_INTERFACE_VERSION",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[],name:"authority",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"ancestorIpId",internalType:"address",type:"address"},{name:"claimer",internalType:"address",type:"address"},{name:"childIpIds",internalType:"address[]",type:"address[]"},{name:"royaltyPolicies",internalType:"address[]",type:"address[]"},{name:"currencyTokens",internalType:"address[]",type:"address[]"}],name:"claimAllRevenue",outputs:[{name:"amountsClaimed",internalType:"uint256[]",type:"uint256[]"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"accessManager",internalType:"address",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"isConsumingScheduledOp",outputs:[{name:"",internalType:"bytes4",type:"bytes4"}],stateMutability:"view"},{type:"function",inputs:[{name:"data",internalType:"bytes[]",type:"bytes[]"}],name:"multicall",outputs:[{name:"results",internalType:"bytes[]",type:"bytes[]"}],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"proxiableUUID",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"newAuthority",internalType:"address",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newImplementation",internalType:"address",type:"address"},{name:"data",internalType:"bytes",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable"}],XMe={1315:"0x9515faE61E0c0447C6AC6dEe5628A2097aFE1890",1514:"0x9515faE61E0c0447C6AC6dEe5628A2097aFE1890"},Vl=[{type:"constructor",inputs:[{name:"derivativeWorkflows",internalType:"address",type:"address"},{name:"groupingWorkflows",internalType:"address",type:"address"},{name:"licenseAttachmentWorkflows",internalType:"address",type:"address"},{name:"registrationWorkflows",internalType:"address",type:"address"},{name:"royaltyTokenDistributionWorkflows",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"error",inputs:[],name:"AccessControlBadConfirmation"},{type:"error",inputs:[{name:"account",internalType:"address",type:"address"},{name:"neededRole",internalType:"bytes32",type:"bytes32"}],name:"AccessControlUnauthorizedAccount"},{type:"error",inputs:[{name:"sender",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"},{name:"owner",internalType:"address",type:"address"}],name:"ERC721IncorrectOwner"},{type:"error",inputs:[{name:"operator",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"}],name:"ERC721InsufficientApproval"},{type:"error",inputs:[{name:"approver",internalType:"address",type:"address"}],name:"ERC721InvalidApprover"},{type:"error",inputs:[{name:"operator",internalType:"address",type:"address"}],name:"ERC721InvalidOperator"},{type:"error",inputs:[{name:"owner",internalType:"address",type:"address"}],name:"ERC721InvalidOwner"},{type:"error",inputs:[{name:"receiver",internalType:"address",type:"address"}],name:"ERC721InvalidReceiver"},{type:"error",inputs:[{name:"sender",internalType:"address",type:"address"}],name:"ERC721InvalidSender"},{type:"error",inputs:[{name:"tokenId",internalType:"uint256",type:"uint256"}],name:"ERC721NonexistentToken"},{type:"error",inputs:[],name:"InvalidInitialization"},{type:"error",inputs:[],name:"NotInitializing"},{type:"error",inputs:[],name:"SPGNFT__CallerNotFeeRecipientOrAdmin"},{type:"error",inputs:[{name:"tokenId",internalType:"uint256",type:"uint256"},{name:"caller",internalType:"address",type:"address"},{name:"owner",internalType:"address",type:"address"}],name:"SPGNFT__CallerNotOwner"},{type:"error",inputs:[],name:"SPGNFT__CallerNotPeripheryContract"},{type:"error",inputs:[{name:"spgNftContract",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"},{name:"nftMetadataHash",internalType:"bytes32",type:"bytes32"}],name:"SPGNFT__DuplicatedNFTMetadataHash"},{type:"error",inputs:[],name:"SPGNFT__MaxSupplyReached"},{type:"error",inputs:[],name:"SPGNFT__MintingClosed"},{type:"error",inputs:[],name:"SPGNFT__MintingDenied"},{type:"error",inputs:[],name:"SPGNFT__ZeroAddressParam"},{type:"error",inputs:[],name:"SPGNFT__ZeroMaxSupply"},{type:"error",inputs:[{name:"token",internalType:"address",type:"address"}],name:"SafeERC20FailedOperation"},{type:"event",anonymous:!1,inputs:[{name:"owner",internalType:"address",type:"address",indexed:!0},{name:"approved",internalType:"address",type:"address",indexed:!0},{name:"tokenId",internalType:"uint256",type:"uint256",indexed:!0}],name:"Approval"},{type:"event",anonymous:!1,inputs:[{name:"owner",internalType:"address",type:"address",indexed:!0},{name:"operator",internalType:"address",type:"address",indexed:!0},{name:"approved",internalType:"bool",type:"bool",indexed:!1}],name:"ApprovalForAll"},{type:"event",anonymous:!1,inputs:[{name:"_fromTokenId",internalType:"uint256",type:"uint256",indexed:!1},{name:"_toTokenId",internalType:"uint256",type:"uint256",indexed:!1}],name:"BatchMetadataUpdate"},{type:"event",anonymous:!1,inputs:[],name:"ContractURIUpdated"},{type:"event",anonymous:!1,inputs:[{name:"version",internalType:"uint64",type:"uint64",indexed:!1}],name:"Initialized"},{type:"event",anonymous:!1,inputs:[{name:"_tokenId",internalType:"uint256",type:"uint256",indexed:!1}],name:"MetadataUpdate"},{type:"event",anonymous:!1,inputs:[{name:"role",internalType:"bytes32",type:"bytes32",indexed:!0},{name:"previousAdminRole",internalType:"bytes32",type:"bytes32",indexed:!0},{name:"newAdminRole",internalType:"bytes32",type:"bytes32",indexed:!0}],name:"RoleAdminChanged"},{type:"event",anonymous:!1,inputs:[{name:"role",internalType:"bytes32",type:"bytes32",indexed:!0},{name:"account",internalType:"address",type:"address",indexed:!0},{name:"sender",internalType:"address",type:"address",indexed:!0}],name:"RoleGranted"},{type:"event",anonymous:!1,inputs:[{name:"role",internalType:"bytes32",type:"bytes32",indexed:!0},{name:"account",internalType:"address",type:"address",indexed:!0},{name:"sender",internalType:"address",type:"address",indexed:!0}],name:"RoleRevoked"},{type:"event",anonymous:!1,inputs:[{name:"from",internalType:"address",type:"address",indexed:!0},{name:"to",internalType:"address",type:"address",indexed:!0},{name:"tokenId",internalType:"uint256",type:"uint256",indexed:!0}],name:"Transfer"},{type:"function",inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[],name:"DERIVATIVE_WORKFLOWS_ADDRESS",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"GROUPING_WORKFLOWS_ADDRESS",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"LICENSE_ATTACHMENT_WORKFLOWS_ADDRESS",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"REGISTRATION_WORKFLOWS_ADDRESS",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"ROYALTY_TOKEN_DISTRIBUTION_WORKFLOWS_ADDRESS",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"to",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"owner",internalType:"address",type:"address"}],name:"balanceOf",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[],name:"baseURI",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[],name:"contractURI",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[{name:"tokenId",internalType:"uint256",type:"uint256"}],name:"getApproved",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"role",internalType:"bytes32",type:"bytes32"}],name:"getRoleAdmin",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"nftMetadataHash",internalType:"bytes32",type:"bytes32"}],name:"getTokenIdByMetadataHash",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"role",internalType:"bytes32",type:"bytes32"},{name:"account",internalType:"address",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"role",internalType:"bytes32",type:"bytes32"},{name:"account",internalType:"address",type:"address"}],name:"hasRole",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"initParams",internalType:"struct ISPGNFT.InitParams",type:"tuple",components:[{name:"name",internalType:"string",type:"string"},{name:"symbol",internalType:"string",type:"string"},{name:"baseURI",internalType:"string",type:"string"},{name:"contractURI",internalType:"string",type:"string"},{name:"maxSupply",internalType:"uint32",type:"uint32"},{name:"mintFee",internalType:"uint256",type:"uint256"},{name:"mintFeeToken",internalType:"address",type:"address"},{name:"mintFeeRecipient",internalType:"address",type:"address"},{name:"owner",internalType:"address",type:"address"},{name:"mintOpen",internalType:"bool",type:"bool"},{name:"isPublicMinting",internalType:"bool",type:"bool"}]}],name:"initialize",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"owner",internalType:"address",type:"address"},{name:"operator",internalType:"address",type:"address"}],name:"isApprovedForAll",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"to",internalType:"address",type:"address"},{name:"nftMetadataURI",internalType:"string",type:"string"},{name:"nftMetadataHash",internalType:"bytes32",type:"bytes32"},{name:"allowDuplicates",internalType:"bool",type:"bool"}],name:"mint",outputs:[{name:"tokenId",internalType:"uint256",type:"uint256"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"to",internalType:"address",type:"address"},{name:"payer",internalType:"address",type:"address"},{name:"nftMetadataURI",internalType:"string",type:"string"},{name:"nftMetadataHash",internalType:"bytes32",type:"bytes32"},{name:"allowDuplicates",internalType:"bool",type:"bool"}],name:"mintByPeriphery",outputs:[{name:"tokenId",internalType:"uint256",type:"uint256"}],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"mintFee",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[],name:"mintFeeRecipient",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"mintFeeToken",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"mintOpen",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[],name:"name",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[{name:"tokenId",internalType:"uint256",type:"uint256"}],name:"ownerOf",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"publicMinting",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"role",internalType:"bytes32",type:"bytes32"},{name:"callerConfirmation",internalType:"address",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"role",internalType:"bytes32",type:"bytes32"},{name:"account",internalType:"address",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"from",internalType:"address",type:"address"},{name:"to",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"from",internalType:"address",type:"address"},{name:"to",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"},{name:"data",internalType:"bytes",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"operator",internalType:"address",type:"address"},{name:"approved",internalType:"bool",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"baseURI",internalType:"string",type:"string"}],name:"setBaseURI",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"contractURI",internalType:"string",type:"string"}],name:"setContractURI",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"fee",internalType:"uint256",type:"uint256"}],name:"setMintFee",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newFeeRecipient",internalType:"address",type:"address"}],name:"setMintFeeRecipient",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"token",internalType:"address",type:"address"}],name:"setMintFeeToken",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"mintOpen",internalType:"bool",type:"bool"}],name:"setMintOpen",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"isPublicMinting",internalType:"bool",type:"bool"}],name:"setPublicMinting",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"tokenId",internalType:"uint256",type:"uint256"},{name:"tokenUri",internalType:"string",type:"string"}],name:"setTokenURI",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"interfaceId",internalType:"bytes4",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[],name:"symbol",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[{name:"tokenId",internalType:"uint256",type:"uint256"}],name:"tokenURI",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[],name:"totalSupply",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"from",internalType:"address",type:"address"},{name:"to",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"token",internalType:"address",type:"address"}],name:"withdrawToken",outputs:[],stateMutability:"nonpayable"}],ZMe={1315:"0x5266215a00c31AaA2f2BB7b951Ea0028Ea8b4e37",1514:"0x6Cfa03Bc64B1a76206d0Ea10baDed31D520449F5"},v$=[{type:"constructor",inputs:[{name:"licenseRegistry",internalType:"address",type:"address"},{name:"licenseToken",internalType:"address",type:"address"},{name:"accessController",internalType:"address",type:"address"},{name:"ipAssetRegistry",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"error",inputs:[{name:"ipAccount",internalType:"address",type:"address"}],name:"AccessControlled__NotIpAccount"},{type:"error",inputs:[],name:"AccessControlled__ZeroAddress"},{type:"error",inputs:[{name:"totalSupply",internalType:"uint256",type:"uint256"},{name:"limit",internalType:"uint256",type:"uint256"}],name:"TotalLicenseTokenLimitHook_LimitLowerThanTotalSupply"},{type:"error",inputs:[{name:"totalSupply",internalType:"uint256",type:"uint256"},{name:"amount",internalType:"uint256",type:"uint256"},{name:"limit",internalType:"uint256",type:"uint256"}],name:"TotalLicenseTokenLimitHook_TotalLicenseTokenLimitExceeded"},{type:"error",inputs:[],name:"TotalLicenseTokenLimitHook_ZeroLicenseRegistry"},{type:"error",inputs:[],name:"TotalLicenseTokenLimitHook_ZeroLicenseToken"},{type:"event",anonymous:!1,inputs:[{name:"licensorIpId",internalType:"address",type:"address",indexed:!0},{name:"licenseTemplate",internalType:"address",type:"address",indexed:!0},{name:"licenseTermsId",internalType:"uint256",type:"uint256",indexed:!0},{name:"limit",internalType:"uint256",type:"uint256",indexed:!1}],name:"SetTotalLicenseTokenLimit"},{type:"function",inputs:[],name:"ACCESS_CONTROLLER",outputs:[{name:"",internalType:"contract IAccessController",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"IP_ASSET_REGISTRY",outputs:[{name:"",internalType:"contract IIPAssetRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"LICENSE_REGISTRY",outputs:[{name:"",internalType:"contract ILicenseRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"LICENSE_TOKEN",outputs:[{name:"",internalType:"contract ILicenseToken",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"licensorIpId",internalType:"address",type:"address"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"},{name:"amount",internalType:"uint256",type:"uint256"},{name:"receiver",internalType:"address",type:"address"},{name:"hookData",internalType:"bytes",type:"bytes"}],name:"beforeMintLicenseTokens",outputs:[{name:"totalMintingFee",internalType:"uint256",type:"uint256"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"childIpId",internalType:"address",type:"address"},{name:"parentIpId",internalType:"address",type:"address"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"},{name:"hookData",internalType:"bytes",type:"bytes"}],name:"beforeRegisterDerivative",outputs:[{name:"mintingFee",internalType:"uint256",type:"uint256"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"licensorIpId",internalType:"address",type:"address"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"},{name:"amount",internalType:"uint256",type:"uint256"},{name:"receiver",internalType:"address",type:"address"},{name:"hookData",internalType:"bytes",type:"bytes"}],name:"calculateMintingFee",outputs:[{name:"totalMintingFee",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"licensorIpId",internalType:"address",type:"address"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"}],name:"getTotalLicenseTokenLimit",outputs:[{name:"limit",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[],name:"name",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[{name:"licensorIpId",internalType:"address",type:"address"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"},{name:"limit",internalType:"uint256",type:"uint256"}],name:"setTotalLicenseTokenLimit",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"interfaceId",internalType:"bytes4",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"",internalType:"bytes32",type:"bytes32"}],name:"totalLicenseTokenLimit",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"}],TZ={1315:"0xaBAD364Bfa41230272b08f171E0Ca939bD600478",1514:"0xB72C9812114a0Fc74D49e01385bd266A75960Cda"},Js=[{type:"error",inputs:[],name:"AllowanceOverflow"},{type:"error",inputs:[],name:"AllowanceUnderflow"},{type:"error",inputs:[{name:"receiver",internalType:"address",type:"address"}],name:"ERC20InvalidReceiver"},{type:"error",inputs:[{name:"spender",internalType:"address",type:"address"}],name:"ERC20InvalidSpender"},{type:"error",inputs:[],name:"IPTransferFailed"},{type:"error",inputs:[],name:"InsufficientAllowance"},{type:"error",inputs:[],name:"InsufficientBalance"},{type:"error",inputs:[],name:"InvalidPermit"},{type:"error",inputs:[],name:"Permit2AllowanceIsFixedAtInfinity"},{type:"error",inputs:[],name:"PermitExpired"},{type:"error",inputs:[],name:"TotalSupplyOverflow"},{type:"event",anonymous:!1,inputs:[{name:"owner",internalType:"address",type:"address",indexed:!0},{name:"spender",internalType:"address",type:"address",indexed:!0},{name:"amount",internalType:"uint256",type:"uint256",indexed:!1}],name:"Approval"},{type:"event",anonymous:!1,inputs:[{name:"from",internalType:"address",type:"address",indexed:!0},{name:"amount",internalType:"uint256",type:"uint256",indexed:!1}],name:"Deposit"},{type:"event",anonymous:!1,inputs:[{name:"from",internalType:"address",type:"address",indexed:!0},{name:"to",internalType:"address",type:"address",indexed:!0},{name:"amount",internalType:"uint256",type:"uint256",indexed:!1}],name:"Transfer"},{type:"event",anonymous:!1,inputs:[{name:"to",internalType:"address",type:"address",indexed:!0},{name:"amount",internalType:"uint256",type:"uint256",indexed:!1}],name:"Withdrawal"},{type:"function",inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{name:"result",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"owner",internalType:"address",type:"address"},{name:"spender",internalType:"address",type:"address"}],name:"allowance",outputs:[{name:"result",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"spender",internalType:"address",type:"address"},{name:"amount",internalType:"uint256",type:"uint256"}],name:"approve",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"owner",internalType:"address",type:"address"}],name:"balanceOf",outputs:[{name:"result",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[],name:"decimals",outputs:[{name:"",internalType:"uint8",type:"uint8"}],stateMutability:"view"},{type:"function",inputs:[],name:"deposit",outputs:[],stateMutability:"payable"},{type:"function",inputs:[],name:"name",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"pure"},{type:"function",inputs:[{name:"owner",internalType:"address",type:"address"}],name:"nonces",outputs:[{name:"result",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"owner",internalType:"address",type:"address"},{name:"spender",internalType:"address",type:"address"},{name:"value",internalType:"uint256",type:"uint256"},{name:"deadline",internalType:"uint256",type:"uint256"},{name:"v",internalType:"uint8",type:"uint8"},{name:"r",internalType:"bytes32",type:"bytes32"},{name:"s",internalType:"bytes32",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"symbol",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"pure"},{type:"function",inputs:[],name:"totalSupply",outputs:[{name:"result",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"to",internalType:"address",type:"address"},{name:"amount",internalType:"uint256",type:"uint256"}],name:"transfer",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"from",internalType:"address",type:"address"},{name:"to",internalType:"address",type:"address"},{name:"amount",internalType:"uint256",type:"uint256"}],name:"transferFrom",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"value",internalType:"uint256",type:"uint256"}],name:"withdraw",outputs:[],stateMutability:"nonpayable"},{type:"receive",stateMutability:"payable"}],AZ={1315:"0x1514000000000000000000000000000000000000",1514:"0x1514000000000000000000000000000000000000"};function Rn(t,e){return t[e||0]||"0x"}var JMe=function(){function t(e,n){var r;et(this,t),this.address=n||Rn(yZ,(r=e.chain)===null||r===void 0?void 0:r.id),this.rpcClient=e}return tt(t,[{key:"watchPermissionSetEvent",value:function(n){return this.rpcClient.watchContractEvent({abi:Va,address:this.address,eventName:"PermissionSet",onLogs:function(s){s.forEach(function(i){return n(i.transactionHash,i.args)})}})}},{key:"parseTxPermissionSetEvent",value:function(n){var r=[],s=bt(n.logs),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;try{var o=cn({abi:Va,eventName:"PermissionSet",data:a.data,topics:a.topics});o.eventName==="PermissionSet"&&r.push(o.args)}catch{}}}catch(l){s.e(l)}finally{s.f()}return r}}])}(),IZ=function(t){function e(n,r,s){var i;return et(this,e),i=Nn(this,e,[n,s]),i.wallet=r,i}return Sn(e,t),tt(e,[{key:"setAllPermissions",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:Va,address:this.address,functionName:"setAllPermissions",account:this.wallet.account,args:[i.ipAccount,i.signer,i.permission]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"setAllPermissionsEncode",value:function(r){return{to:this.address,data:ke({abi:Va,functionName:"setAllPermissions",args:[r.ipAccount,r.signer,r.permission]})}}},{key:"setBatchPermissions",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:Va,address:this.address,functionName:"setBatchPermissions",account:this.wallet.account,args:[i.permissions]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"setBatchPermissionsEncode",value:function(r){return{to:this.address,data:ke({abi:Va,functionName:"setBatchPermissions",args:[r.permissions]})}}},{key:"setPermission",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:Va,address:this.address,functionName:"setPermission",account:this.wallet.account,args:[i.ipAccount,i.signer,i.to,i.func,i.permission]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"setPermissionEncode",value:function(r){return{to:this.address,data:ke({abi:Va,functionName:"setPermission",args:[r.ipAccount,r.signer,r.to,r.func,r.permission]})}}}])}(JMe),QMe=function(){function t(e,n){var r;et(this,t),this.address=n||Rn(DMe,(r=e.chain)===null||r===void 0?void 0:r.id),this.rpcClient=e}return tt(t,[{key:"disputeIdToAssertionId",value:function(){var e=W(D().m(function r(s){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:zd,address:this.address,functionName:"disputeIdToAssertionId",args:[s.disputeId]});case 1:return i.a(2,i.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"maxBonds",value:function(){var e=W(D().m(function r(s){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:zd,address:this.address,functionName:"maxBonds",args:[s.token]});case 1:return i.a(2,i.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"maxLiveness",value:function(){var e=W(D().m(function r(){return D().w(function(s){for(;;)switch(s.n){case 0:return s.n=1,this.rpcClient.readContract({abi:zd,address:this.address,functionName:"maxLiveness"});case 1:return s.a(2,s.v)}},r,this)}));function n(){return e.apply(this,arguments)}return n}()},{key:"minLiveness",value:function(){var e=W(D().m(function r(){return D().w(function(s){for(;;)switch(s.n){case 0:return s.n=1,this.rpcClient.readContract({abi:zd,address:this.address,functionName:"minLiveness"});case 1:return s.a(2,s.v)}},r,this)}));function n(){return e.apply(this,arguments)}return n}()},{key:"oov3",value:function(){var e=W(D().m(function r(){return D().w(function(s){for(;;)switch(s.n){case 0:return s.n=1,this.rpcClient.readContract({abi:zd,address:this.address,functionName:"oov3"});case 1:return s.a(2,s.v)}},r,this)}));function n(){return e.apply(this,arguments)}return n}()}])}(),ePe=function(t){function e(n,r,s){var i;return et(this,e),i=Nn(this,e,[n,s]),i.wallet=r,i}return Sn(e,t),tt(e,[{key:"disputeAssertion",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:zd,address:this.address,functionName:"disputeAssertion",account:this.wallet.account,args:[i.assertionId,i.counterEvidenceHash]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"disputeAssertionEncode",value:function(r){return{to:this.address,data:ke({abi:zd,functionName:"disputeAssertion",args:[r.assertionId,r.counterEvidenceHash]})}}}])}(QMe),tPe=function(){function t(e,n){var r;et(this,t),this.address=n||Rn(QM,(r=e.chain)===null||r===void 0?void 0:r.id),this.rpcClient=e}return tt(t,[{key:"watchAuthorityUpdatedEvent",value:function(n){return this.rpcClient.watchContractEvent({abi:jt,address:this.address,eventName:"AuthorityUpdated",onLogs:function(s){s.forEach(function(i){return n(i.transactionHash,i.args)})}})}},{key:"parseTxAuthorityUpdatedEvent",value:function(n){var r=[],s=bt(n.logs),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;try{var o=cn({abi:jt,eventName:"AuthorityUpdated",data:a.data,topics:a.topics});o.eventName==="AuthorityUpdated"&&r.push(o.args)}catch{}}}catch(l){s.e(l)}finally{s.f()}return r}},{key:"watchInitializedEvent",value:function(n){return this.rpcClient.watchContractEvent({abi:jt,address:this.address,eventName:"Initialized",onLogs:function(s){s.forEach(function(i){return n(i.transactionHash,i.args)})}})}},{key:"parseTxInitializedEvent",value:function(n){var r=[],s=bt(n.logs),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;try{var o=cn({abi:jt,eventName:"Initialized",data:a.data,topics:a.topics});o.eventName==="Initialized"&&r.push(o.args)}catch{}}}catch(l){s.e(l)}finally{s.f()}return r}},{key:"watchMetadataFrozenEvent",value:function(n){return this.rpcClient.watchContractEvent({abi:jt,address:this.address,eventName:"MetadataFrozen",onLogs:function(s){s.forEach(function(i){return n(i.transactionHash,i.args)})}})}},{key:"parseTxMetadataFrozenEvent",value:function(n){var r=[],s=bt(n.logs),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;try{var o=cn({abi:jt,eventName:"MetadataFrozen",data:a.data,topics:a.topics});o.eventName==="MetadataFrozen"&&r.push(o.args)}catch{}}}catch(l){s.e(l)}finally{s.f()}return r}},{key:"watchMetadataUriSetEvent",value:function(n){return this.rpcClient.watchContractEvent({abi:jt,address:this.address,eventName:"MetadataURISet",onLogs:function(s){s.forEach(function(i){return n(i.transactionHash,i.args)})}})}},{key:"parseTxMetadataUriSetEvent",value:function(n){var r=[],s=bt(n.logs),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;try{var o=cn({abi:jt,eventName:"MetadataURISet",data:a.data,topics:a.topics});o.eventName==="MetadataURISet"&&r.push(o.args)}catch{}}}catch(l){s.e(l)}finally{s.f()}return r}},{key:"watchNftTokenUriSetEvent",value:function(n){return this.rpcClient.watchContractEvent({abi:jt,address:this.address,eventName:"NFTTokenURISet",onLogs:function(s){s.forEach(function(i){return n(i.transactionHash,i.args)})}})}},{key:"parseTxNftTokenUriSetEvent",value:function(n){var r=[],s=bt(n.logs),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;try{var o=cn({abi:jt,eventName:"NFTTokenURISet",data:a.data,topics:a.topics});o.eventName==="NFTTokenURISet"&&r.push(o.args)}catch{}}}catch(l){s.e(l)}finally{s.f()}return r}},{key:"watchUpgradedEvent",value:function(n){return this.rpcClient.watchContractEvent({abi:jt,address:this.address,eventName:"Upgraded",onLogs:function(s){s.forEach(function(i){return n(i.transactionHash,i.args)})}})}},{key:"parseTxUpgradedEvent",value:function(n){var r=[],s=bt(n.logs),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;try{var o=cn({abi:jt,eventName:"Upgraded",data:a.data,topics:a.topics});o.eventName==="Upgraded"&&r.push(o.args)}catch{}}}catch(l){s.e(l)}finally{s.f()}return r}}])}(),nPe=function(t){function e(n,r){return et(this,e),Nn(this,e,[n,r])}return Sn(e,t),tt(e,[{key:"accessController",value:function(){var n=W(D().m(function s(){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:jt,address:this.address,functionName:"ACCESS_CONTROLLER"});case 1:return i.a(2,i.v)}},s,this)}));function r(){return n.apply(this,arguments)}return r}()},{key:"ipAssetRegistry",value:function(){var n=W(D().m(function s(){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:jt,address:this.address,functionName:"IP_ASSET_REGISTRY"});case 1:return i.a(2,i.v)}},s,this)}));function r(){return n.apply(this,arguments)}return r}()},{key:"upgradeInterfaceVersion",value:function(){var n=W(D().m(function s(){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:jt,address:this.address,functionName:"UPGRADE_INTERFACE_VERSION"});case 1:return i.a(2,i.v)}},s,this)}));function r(){return n.apply(this,arguments)}return r}()},{key:"authority",value:function(){var n=W(D().m(function s(){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:jt,address:this.address,functionName:"authority"});case 1:return i.a(2,i.v)}},s,this)}));function r(){return n.apply(this,arguments)}return r}()},{key:"isConsumingScheduledOp",value:function(){var n=W(D().m(function s(){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:jt,address:this.address,functionName:"isConsumingScheduledOp"});case 1:return i.a(2,i.v)}},s,this)}));function r(){return n.apply(this,arguments)}return r}()},{key:"isMetadataFrozen",value:function(){var n=W(D().m(function s(i){return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.rpcClient.readContract({abi:jt,address:this.address,functionName:"isMetadataFrozen",args:[i.ipId]});case 1:return a.a(2,a.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"name",value:function(){var n=W(D().m(function s(){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:jt,address:this.address,functionName:"name"});case 1:return i.a(2,i.v)}},s,this)}));function r(){return n.apply(this,arguments)}return r}()},{key:"proxiableUuid",value:function(){var n=W(D().m(function s(){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:jt,address:this.address,functionName:"proxiableUUID"});case 1:return i.a(2,i.v)}},s,this)}));function r(){return n.apply(this,arguments)}return r}()},{key:"supportsInterface",value:function(){var n=W(D().m(function s(i){return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.rpcClient.readContract({abi:jt,address:this.address,functionName:"supportsInterface",args:[i.interfaceId]});case 1:return a.a(2,a.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()}])}(tPe),tP=function(t){function e(n,r,s){var i;return et(this,e),i=Nn(this,e,[n,s]),i.wallet=r,i}return Sn(e,t),tt(e,[{key:"freezeMetadata",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:jt,address:this.address,functionName:"freezeMetadata",account:this.wallet.account,args:[i.ipId]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"freezeMetadataEncode",value:function(r){return{to:this.address,data:ke({abi:jt,functionName:"freezeMetadata",args:[r.ipId]})}}},{key:"initialize",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:jt,address:this.address,functionName:"initialize",account:this.wallet.account,args:[i.accessManager]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"initializeEncode",value:function(r){return{to:this.address,data:ke({abi:jt,functionName:"initialize",args:[r.accessManager]})}}},{key:"setAll",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:jt,address:this.address,functionName:"setAll",account:this.wallet.account,args:[i.ipId,i.metadataURI,i.metadataHash,i.nftMetadataHash]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"setAllEncode",value:function(r){return{to:this.address,data:ke({abi:jt,functionName:"setAll",args:[r.ipId,r.metadataURI,r.metadataHash,r.nftMetadataHash]})}}},{key:"setAuthority",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:jt,address:this.address,functionName:"setAuthority",account:this.wallet.account,args:[i.newAuthority]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"setAuthorityEncode",value:function(r){return{to:this.address,data:ke({abi:jt,functionName:"setAuthority",args:[r.newAuthority]})}}},{key:"setMetadataUri",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:jt,address:this.address,functionName:"setMetadataURI",account:this.wallet.account,args:[i.ipId,i.metadataURI,i.metadataHash]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"setMetadataUriEncode",value:function(r){return{to:this.address,data:ke({abi:jt,functionName:"setMetadataURI",args:[r.ipId,r.metadataURI,r.metadataHash]})}}},{key:"updateNftTokenUri",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:jt,address:this.address,functionName:"updateNftTokenURI",account:this.wallet.account,args:[i.ipId,i.nftMetadataHash]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"updateNftTokenUriEncode",value:function(r){return{to:this.address,data:ke({abi:jt,functionName:"updateNftTokenURI",args:[r.ipId,r.nftMetadataHash]})}}},{key:"upgradeToAndCall",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:jt,address:this.address,functionName:"upgradeToAndCall",account:this.wallet.account,args:[i.newImplementation,i.data]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"upgradeToAndCallEncode",value:function(r){return{to:this.address,data:ke({abi:jt,functionName:"upgradeToAndCall",args:[r.newImplementation,r.data]})}}}])}(nPe),nP=function(){function t(e,n,r){var s;et(this,t),this.address=r||Rn(gZ,(s=e.chain)===null||s===void 0?void 0:s.id),this.rpcClient=e,this.wallet=n}return tt(t,[{key:"mintAndRegisterIpAndMakeDerivative",value:function(){var e=W(D().m(function r(s){var i,a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.rpcClient.simulateContract({abi:ra,address:this.address,functionName:"mintAndRegisterIpAndMakeDerivative",account:this.wallet.account,args:[s.spgNftContract,s.derivData,s.ipMetadata,s.recipient,s.allowDuplicates]});case 1:return i=o.v,a=i.request,o.n=2,this.wallet.writeContract(a);case 2:return o.a(2,o.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"mintAndRegisterIpAndMakeDerivativeEncode",value:function(n){return{to:this.address,data:ke({abi:ra,functionName:"mintAndRegisterIpAndMakeDerivative",args:[n.spgNftContract,n.derivData,n.ipMetadata,n.recipient,n.allowDuplicates]})}}},{key:"mintAndRegisterIpAndMakeDerivativeWithLicenseTokens",value:function(){var e=W(D().m(function r(s){var i,a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.rpcClient.simulateContract({abi:ra,address:this.address,functionName:"mintAndRegisterIpAndMakeDerivativeWithLicenseTokens",account:this.wallet.account,args:[s.spgNftContract,s.licenseTokenIds,s.royaltyContext,s.maxRts,s.ipMetadata,s.recipient,s.allowDuplicates]});case 1:return i=o.v,a=i.request,o.n=2,this.wallet.writeContract(a);case 2:return o.a(2,o.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"mintAndRegisterIpAndMakeDerivativeWithLicenseTokensEncode",value:function(n){return{to:this.address,data:ke({abi:ra,functionName:"mintAndRegisterIpAndMakeDerivativeWithLicenseTokens",args:[n.spgNftContract,n.licenseTokenIds,n.royaltyContext,n.maxRts,n.ipMetadata,n.recipient,n.allowDuplicates]})}}},{key:"multicall",value:function(){var e=W(D().m(function r(s){var i,a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.rpcClient.simulateContract({abi:ra,address:this.address,functionName:"multicall",account:this.wallet.account,args:[s.data]});case 1:return i=o.v,a=i.request,o.n=2,this.wallet.writeContract(a);case 2:return o.a(2,o.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"multicallEncode",value:function(n){return{to:this.address,data:ke({abi:ra,functionName:"multicall",args:[n.data]})}}},{key:"registerIpAndMakeDerivative",value:function(){var e=W(D().m(function r(s){var i,a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.rpcClient.simulateContract({abi:ra,address:this.address,functionName:"registerIpAndMakeDerivative",account:this.wallet.account,args:[s.nftContract,s.tokenId,s.derivData,s.ipMetadata,s.sigMetadataAndRegister]});case 1:return i=o.v,a=i.request,o.n=2,this.wallet.writeContract(a);case 2:return o.a(2,o.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"registerIpAndMakeDerivativeEncode",value:function(n){return{to:this.address,data:ke({abi:ra,functionName:"registerIpAndMakeDerivative",args:[n.nftContract,n.tokenId,n.derivData,n.ipMetadata,n.sigMetadataAndRegister]})}}},{key:"registerIpAndMakeDerivativeWithLicenseTokens",value:function(){var e=W(D().m(function r(s){var i,a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.rpcClient.simulateContract({abi:ra,address:this.address,functionName:"registerIpAndMakeDerivativeWithLicenseTokens",account:this.wallet.account,args:[s.nftContract,s.tokenId,s.licenseTokenIds,s.royaltyContext,s.maxRts,s.ipMetadata,s.sigMetadataAndRegister]});case 1:return i=o.v,a=i.request,o.n=2,this.wallet.writeContract(a);case 2:return o.a(2,o.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"registerIpAndMakeDerivativeWithLicenseTokensEncode",value:function(n){return{to:this.address,data:ke({abi:ra,functionName:"registerIpAndMakeDerivativeWithLicenseTokens",args:[n.nftContract,n.tokenId,n.licenseTokenIds,n.royaltyContext,n.maxRts,n.ipMetadata,n.sigMetadataAndRegister]})}}}])}(),rPe=function(){function t(e,n){var r;et(this,t),this.address=n||Rn(_Me,(r=e.chain)===null||r===void 0?void 0:r.id),this.rpcClient=e}return tt(t,[{key:"watchDisputeCancelledEvent",value:function(n){return this.rpcClient.watchContractEvent({abi:Ps,address:this.address,eventName:"DisputeCancelled",onLogs:function(s){s.forEach(function(i){return n(i.transactionHash,i.args)})}})}},{key:"parseTxDisputeCancelledEvent",value:function(n){var r=[],s=bt(n.logs),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;try{var o=cn({abi:Ps,eventName:"DisputeCancelled",data:a.data,topics:a.topics});o.eventName==="DisputeCancelled"&&r.push(o.args)}catch{}}}catch(l){s.e(l)}finally{s.f()}return r}},{key:"watchDisputeRaisedEvent",value:function(n){return this.rpcClient.watchContractEvent({abi:Ps,address:this.address,eventName:"DisputeRaised",onLogs:function(s){s.forEach(function(i){return n(i.transactionHash,i.args)})}})}},{key:"parseTxDisputeRaisedEvent",value:function(n){var r=[],s=bt(n.logs),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;try{var o=cn({abi:Ps,eventName:"DisputeRaised",data:a.data,topics:a.topics});o.eventName==="DisputeRaised"&&r.push(o.args)}catch{}}}catch(l){s.e(l)}finally{s.f()}return r}},{key:"watchDisputeResolvedEvent",value:function(n){return this.rpcClient.watchContractEvent({abi:Ps,address:this.address,eventName:"DisputeResolved",onLogs:function(s){s.forEach(function(i){return n(i.transactionHash,i.args)})}})}},{key:"parseTxDisputeResolvedEvent",value:function(n){var r=[],s=bt(n.logs),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;try{var o=cn({abi:Ps,eventName:"DisputeResolved",data:a.data,topics:a.topics});o.eventName==="DisputeResolved"&&r.push(o.args)}catch{}}}catch(l){s.e(l)}finally{s.f()}return r}}])}(),sPe=function(t){function e(n,r){return et(this,e),Nn(this,e,[n,r])}return Sn(e,t),tt(e,[{key:"isWhitelistedDisputeTag",value:function(){var n=W(D().m(function s(i){var a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.rpcClient.readContract({abi:Ps,address:this.address,functionName:"isWhitelistedDisputeTag",args:[i.tag]});case 1:return a=o.v,o.a(2,{allowed:a})}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()}])}(rPe),iPe=function(t){function e(n,r,s){var i;return et(this,e),i=Nn(this,e,[n,s]),i.wallet=r,i}return Sn(e,t),tt(e,[{key:"cancelDispute",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:Ps,address:this.address,functionName:"cancelDispute",account:this.wallet.account,args:[i.disputeId,i.data]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"cancelDisputeEncode",value:function(r){return{to:this.address,data:ke({abi:Ps,functionName:"cancelDispute",args:[r.disputeId,r.data]})}}},{key:"raiseDispute",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:Ps,address:this.address,functionName:"raiseDispute",account:this.wallet.account,args:[i.targetIpId,i.disputeEvidenceHash,i.targetTag,i.data]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"raiseDisputeEncode",value:function(r){return{to:this.address,data:ke({abi:Ps,functionName:"raiseDispute",args:[r.targetIpId,r.disputeEvidenceHash,r.targetTag,r.data]})}}},{key:"resolveDispute",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:Ps,address:this.address,functionName:"resolveDispute",account:this.wallet.account,args:[i.disputeId,i.data]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"resolveDisputeEncode",value:function(r){return{to:this.address,data:ke({abi:Ps,functionName:"resolveDispute",args:[r.disputeId,r.data]})}}},{key:"tagIfRelatedIpInfringed",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:Ps,address:this.address,functionName:"tagIfRelatedIpInfringed",account:this.wallet.account,args:[i.ipIdToTag,i.infringerDisputeId]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"tagIfRelatedIpInfringedEncode",value:function(r){return{to:this.address,data:ke({abi:Ps,functionName:"tagIfRelatedIpInfringed",args:[r.ipIdToTag,r.infringerDisputeId]})}}}])}(sPe),aPe=function(){function t(e,n){var r;et(this,t),this.address=n||Rn(LMe,(r=e.chain)===null||r===void 0?void 0:r.id),this.rpcClient=e}return tt(t,[{key:"allowance",value:function(){var e=W(D().m(function r(s){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:Eo,address:this.address,functionName:"allowance",args:[s.owner,s.spender]});case 1:return i.a(2,i.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"balanceOf",value:function(){var e=W(D().m(function r(s){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:Eo,address:this.address,functionName:"balanceOf",args:[s.account]});case 1:return i.a(2,i.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()}])}(),kZ=function(t){function e(n,r,s){var i;return et(this,e),i=Nn(this,e,[n,s]),i.wallet=r,i}return Sn(e,t),tt(e,[{key:"approve",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:Eo,address:this.address,functionName:"approve",account:this.wallet.account,args:[i.spender,i.value]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"approveEncode",value:function(r){return{to:this.address,data:ke({abi:Eo,functionName:"approve",args:[r.spender,r.value]})}}},{key:"mint",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:Eo,address:this.address,functionName:"mint",account:this.wallet.account,args:[i.to,i.amount]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"mintEncode",value:function(r){return{to:this.address,data:ke({abi:Eo,functionName:"mint",args:[r.to,r.amount]})}}},{key:"transfer",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:Eo,address:this.address,functionName:"transfer",account:this.wallet.account,args:[i.to,i.value]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"transferEncode",value:function(r){return{to:this.address,data:ke({abi:Eo,functionName:"transfer",args:[r.to,r.value]})}}},{key:"transferFrom",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:Eo,address:this.address,functionName:"transferFrom",account:this.wallet.account,args:[i.from,i.to,i.value]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"transferFromEncode",value:function(r){return{to:this.address,data:ke({abi:Eo,functionName:"transferFrom",args:[r.from,r.to,r.value]})}}}])}(aPe),CZ=function(){function t(e,n){var r;et(this,t),this.address=n||Rn(OMe,(r=e.chain)===null||r===void 0?void 0:r.id),this.rpcClient=e}return tt(t,[{key:"watchClaimedRewardEvent",value:function(n){return this.rpcClient.watchContractEvent({abi:Tr,address:this.address,eventName:"ClaimedReward",onLogs:function(s){s.forEach(function(i){return n(i.transactionHash,i.args)})}})}},{key:"parseTxClaimedRewardEvent",value:function(n){var r=[],s=bt(n.logs),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;try{var o=cn({abi:Tr,eventName:"ClaimedReward",data:a.data,topics:a.topics});o.eventName==="ClaimedReward"&&r.push(o.args)}catch{}}}catch(l){s.e(l)}finally{s.f()}return r}},{key:"watchCollectedRoyaltiesToGroupPoolEvent",value:function(n){return this.rpcClient.watchContractEvent({abi:Tr,address:this.address,eventName:"CollectedRoyaltiesToGroupPool",onLogs:function(s){s.forEach(function(i){return n(i.transactionHash,i.args)})}})}},{key:"parseTxCollectedRoyaltiesToGroupPoolEvent",value:function(n){var r=[],s=bt(n.logs),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;try{var o=cn({abi:Tr,eventName:"CollectedRoyaltiesToGroupPool",data:a.data,topics:a.topics});o.eventName==="CollectedRoyaltiesToGroupPool"&&r.push(o.args)}catch{}}}catch(l){s.e(l)}finally{s.f()}return r}},{key:"watchIpGroupRegisteredEvent",value:function(n){return this.rpcClient.watchContractEvent({abi:Tr,address:this.address,eventName:"IPGroupRegistered",onLogs:function(s){s.forEach(function(i){return n(i.transactionHash,i.args)})}})}},{key:"parseTxIpGroupRegisteredEvent",value:function(n){var r=[],s=bt(n.logs),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;try{var o=cn({abi:Tr,eventName:"IPGroupRegistered",data:a.data,topics:a.topics});o.eventName==="IPGroupRegistered"&&r.push(o.args)}catch{}}}catch(l){s.e(l)}finally{s.f()}return r}}])}(),oPe=function(t){function e(n,r){return et(this,e),Nn(this,e,[n,r])}return Sn(e,t),tt(e,[{key:"getClaimableReward",value:function(){var n=W(D().m(function s(i){return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.rpcClient.readContract({abi:Tr,address:this.address,functionName:"getClaimableReward",args:[i.groupId,i.token,i.ipIds]});case 1:return a.a(2,a.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()}])}(CZ),lPe=function(t){function e(n,r,s){var i;return et(this,e),i=Nn(this,e,[n,s]),i.wallet=r,i}return Sn(e,t),tt(e,[{key:"addIp",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:Tr,address:this.address,functionName:"addIp",account:this.wallet.account,args:[i.groupIpId,i.ipIds,i.maxAllowedRewardShare]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"addIpEncode",value:function(r){return{to:this.address,data:ke({abi:Tr,functionName:"addIp",args:[r.groupIpId,r.ipIds,r.maxAllowedRewardShare]})}}},{key:"claimReward",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:Tr,address:this.address,functionName:"claimReward",account:this.wallet.account,args:[i.groupId,i.token,i.ipIds]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"claimRewardEncode",value:function(r){return{to:this.address,data:ke({abi:Tr,functionName:"claimReward",args:[r.groupId,r.token,r.ipIds]})}}},{key:"collectRoyalties",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:Tr,address:this.address,functionName:"collectRoyalties",account:this.wallet.account,args:[i.groupId,i.token]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"collectRoyaltiesEncode",value:function(r){return{to:this.address,data:ke({abi:Tr,functionName:"collectRoyalties",args:[r.groupId,r.token]})}}},{key:"registerGroup",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:Tr,address:this.address,functionName:"registerGroup",account:this.wallet.account,args:[i.groupPool]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"registerGroupEncode",value:function(r){return{to:this.address,data:ke({abi:Tr,functionName:"registerGroup",args:[r.groupPool]})}}},{key:"removeIp",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:Tr,address:this.address,functionName:"removeIp",account:this.wallet.account,args:[i.groupIpId,i.ipIds]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"removeIpEncode",value:function(r){return{to:this.address,data:ke({abi:Tr,functionName:"removeIp",args:[r.groupIpId,r.ipIds]})}}}])}(oPe),cPe=function(){function t(e,n,r){var s;et(this,t),this.address=r||Rn($Me,(s=e.chain)===null||s===void 0?void 0:s.id),this.rpcClient=e,this.wallet=n}return tt(t,[{key:"collectRoyaltiesAndClaimReward",value:function(){var e=W(D().m(function r(s){var i,a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.rpcClient.simulateContract({abi:To,address:this.address,functionName:"collectRoyaltiesAndClaimReward",account:this.wallet.account,args:[s.groupIpId,s.currencyTokens,s.memberIpIds]});case 1:return i=o.v,a=i.request,o.n=2,this.wallet.writeContract(a);case 2:return o.a(2,o.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"collectRoyaltiesAndClaimRewardEncode",value:function(n){return{to:this.address,data:ke({abi:To,functionName:"collectRoyaltiesAndClaimReward",args:[n.groupIpId,n.currencyTokens,n.memberIpIds]})}}},{key:"mintAndRegisterIpAndAttachLicenseAndAddToGroup",value:function(){var e=W(D().m(function r(s){var i,a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.rpcClient.simulateContract({abi:To,address:this.address,functionName:"mintAndRegisterIpAndAttachLicenseAndAddToGroup",account:this.wallet.account,args:[s.spgNftContract,s.groupId,s.recipient,s.maxAllowedRewardShare,s.licensesData,s.ipMetadata,s.sigAddToGroup,s.allowDuplicates]});case 1:return i=o.v,a=i.request,o.n=2,this.wallet.writeContract(a);case 2:return o.a(2,o.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"mintAndRegisterIpAndAttachLicenseAndAddToGroupEncode",value:function(n){return{to:this.address,data:ke({abi:To,functionName:"mintAndRegisterIpAndAttachLicenseAndAddToGroup",args:[n.spgNftContract,n.groupId,n.recipient,n.maxAllowedRewardShare,n.licensesData,n.ipMetadata,n.sigAddToGroup,n.allowDuplicates]})}}},{key:"registerGroupAndAttachLicense",value:function(){var e=W(D().m(function r(s){var i,a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.rpcClient.simulateContract({abi:To,address:this.address,functionName:"registerGroupAndAttachLicense",account:this.wallet.account,args:[s.groupPool,s.licenseData]});case 1:return i=o.v,a=i.request,o.n=2,this.wallet.writeContract(a);case 2:return o.a(2,o.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"registerGroupAndAttachLicenseEncode",value:function(n){return{to:this.address,data:ke({abi:To,functionName:"registerGroupAndAttachLicense",args:[n.groupPool,n.licenseData]})}}},{key:"registerGroupAndAttachLicenseAndAddIps",value:function(){var e=W(D().m(function r(s){var i,a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.rpcClient.simulateContract({abi:To,address:this.address,functionName:"registerGroupAndAttachLicenseAndAddIps",account:this.wallet.account,args:[s.groupPool,s.ipIds,s.maxAllowedRewardShare,s.licenseData]});case 1:return i=o.v,a=i.request,o.n=2,this.wallet.writeContract(a);case 2:return o.a(2,o.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"registerGroupAndAttachLicenseAndAddIpsEncode",value:function(n){return{to:this.address,data:ke({abi:To,functionName:"registerGroupAndAttachLicenseAndAddIps",args:[n.groupPool,n.ipIds,n.maxAllowedRewardShare,n.licenseData]})}}},{key:"registerIpAndAttachLicenseAndAddToGroup",value:function(){var e=W(D().m(function r(s){var i,a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.rpcClient.simulateContract({abi:To,address:this.address,functionName:"registerIpAndAttachLicenseAndAddToGroup",account:this.wallet.account,args:[s.nftContract,s.tokenId,s.groupId,s.maxAllowedRewardShare,s.licensesData,s.ipMetadata,s.sigMetadataAndAttachAndConfig,s.sigAddToGroup]});case 1:return i=o.v,a=i.request,o.n=2,this.wallet.writeContract(a);case 2:return o.a(2,o.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"registerIpAndAttachLicenseAndAddToGroupEncode",value:function(n){return{to:this.address,data:ke({abi:To,functionName:"registerIpAndAttachLicenseAndAddToGroup",args:[n.nftContract,n.tokenId,n.groupId,n.maxAllowedRewardShare,n.licensesData,n.ipMetadata,n.sigMetadataAndAttachAndConfig,n.sigAddToGroup]})}}}])}(),uPe=function(){function t(e,n){var r;et(this,t),this.address=n||Rn(FMe,(r=e.chain)===null||r===void 0?void 0:r.id),this.rpcClient=e}return tt(t,[{key:"owner",value:function(){var e=W(D().m(function r(){return D().w(function(s){for(;;)switch(s.n){case 0:return s.n=1,this.rpcClient.readContract({abi:Ci,address:this.address,functionName:"owner"});case 1:return s.a(2,s.v)}},r,this)}));function n(){return e.apply(this,arguments)}return n}()},{key:"state",value:function(){var e=W(D().m(function r(){var s;return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:Ci,address:this.address,functionName:"state"});case 1:return s=i.v,i.a(2,{result:s})}},r,this)}));function n(){return e.apply(this,arguments)}return n}()},{key:"token",value:function(){var e=W(D().m(function r(){return D().w(function(s){for(;;)switch(s.n){case 0:return s.n=1,this.rpcClient.readContract({abi:Ci,address:this.address,functionName:"token"});case 1:return s.a(2,s.v)}},r,this)}));function n(){return e.apply(this,arguments)}return n}()}])}(),Ls=function(t){function e(n,r,s){var i;return et(this,e),i=Nn(this,e,[n,s]),i.wallet=r,i}return Sn(e,t),tt(e,[{key:"execute",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:Ci,address:this.address,functionName:"execute",account:this.wallet.account,args:[i.to,i.value,i.data,i.operation]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"executeEncode",value:function(r){return{to:this.address,data:ke({abi:Ci,functionName:"execute",args:[r.to,r.value,r.data,r.operation]})}}},{key:"execute2",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:Ci,address:this.address,functionName:"execute",account:this.wallet.account,args:[i.to,i.value,i.data]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"execute2Encode",value:function(r){return{to:this.address,data:ke({abi:Ci,functionName:"execute",args:[r.to,r.value,r.data]})}}},{key:"executeBatch",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:Ci,address:this.address,functionName:"executeBatch",account:this.wallet.account,args:[i.calls,i.operation]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"executeBatchEncode",value:function(r){return{to:this.address,data:ke({abi:Ci,functionName:"executeBatch",args:[r.calls,r.operation]})}}},{key:"executeWithSig",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:Ci,address:this.address,functionName:"executeWithSig",account:this.wallet.account,args:[i.to,i.value,i.data,i.signer,i.deadline,i.signature]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"executeWithSigEncode",value:function(r){return{to:this.address,data:ke({abi:Ci,functionName:"executeWithSig",args:[r.to,r.value,r.data,r.signer,r.deadline,r.signature]})}}}])}(uPe),dPe=function(){function t(e,n){var r;et(this,t),this.address=n||Rn(BMe,(r=e.chain)===null||r===void 0?void 0:r.id),this.rpcClient=e}return tt(t,[{key:"watchIpAccountRegisteredEvent",value:function(n){return this.rpcClient.watchContractEvent({abi:Au,address:this.address,eventName:"IPAccountRegistered",onLogs:function(s){s.forEach(function(i){return n(i.transactionHash,i.args)})}})}},{key:"parseTxIpAccountRegisteredEvent",value:function(n){var r=[],s=bt(n.logs),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;try{var o=cn({abi:Au,eventName:"IPAccountRegistered",data:a.data,topics:a.topics});o.eventName==="IPAccountRegistered"&&r.push(o.args)}catch{}}}catch(l){s.e(l)}finally{s.f()}return r}},{key:"watchIpRegisteredEvent",value:function(n){return this.rpcClient.watchContractEvent({abi:Au,address:this.address,eventName:"IPRegistered",onLogs:function(s){s.forEach(function(i){return n(i.transactionHash,i.args)})}})}},{key:"parseTxIpRegisteredEvent",value:function(n){var r=[],s=bt(n.logs),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;try{var o=cn({abi:Au,eventName:"IPRegistered",data:a.data,topics:a.topics});o.eventName==="IPRegistered"&&r.push(o.args)}catch{}}}catch(l){s.e(l)}finally{s.f()}return r}}])}(),pPe=function(t){function e(n,r){return et(this,e),Nn(this,e,[n,r])}return Sn(e,t),tt(e,[{key:"ipId",value:function(){var n=W(D().m(function s(i){return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.rpcClient.readContract({abi:Au,address:this.address,functionName:"ipId",args:[i.chainId,i.tokenContract,i.tokenId]});case 1:return a.a(2,a.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"isRegistered",value:function(){var n=W(D().m(function s(i){return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.rpcClient.readContract({abi:Au,address:this.address,functionName:"isRegistered",args:[i.id]});case 1:return a.a(2,a.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()}])}(dPe),uf=function(t){function e(n,r,s){var i;return et(this,e),i=Nn(this,e,[n,s]),i.wallet=r,i}return Sn(e,t),tt(e,[{key:"register",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:Au,address:this.address,functionName:"register",account:this.wallet.account,args:[i.chainid,i.tokenContract,i.tokenId]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"registerEncode",value:function(r){return{to:this.address,data:ke({abi:Au,functionName:"register",args:[r.chainid,r.tokenContract,r.tokenId]})}}}])}(pPe),EZ=function(){function t(e,n){var r;et(this,t),this.address=n||Rn(UMe,(r=e.chain)===null||r===void 0?void 0:r.id),this.rpcClient=e}return tt(t,[{key:"watchRevenueTokenClaimedEvent",value:function(n){return this.rpcClient.watchContractEvent({abi:bh,address:this.address,eventName:"RevenueTokenClaimed",onLogs:function(s){s.forEach(function(i){return n(i.transactionHash,i.args)})}})}},{key:"parseTxRevenueTokenClaimedEvent",value:function(n){var r=[],s=bt(n.logs),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;try{var o=cn({abi:bh,eventName:"RevenueTokenClaimed",data:a.data,topics:a.topics});o.eventName==="RevenueTokenClaimed"&&r.push(o.args)}catch{}}}catch(l){s.e(l)}finally{s.f()}return r}}])}(),sN=function(t){function e(n,r){return et(this,e),Nn(this,e,[n,r])}return Sn(e,t),tt(e,[{key:"balanceOf",value:function(){var n=W(D().m(function s(i){return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.rpcClient.readContract({abi:bh,address:this.address,functionName:"balanceOf",args:[i.account]});case 1:return a.a(2,a.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"claimableRevenue",value:function(){var n=W(D().m(function s(i){return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.rpcClient.readContract({abi:bh,address:this.address,functionName:"claimableRevenue",args:[i.claimer,i.token]});case 1:return a.a(2,a.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"ipId",value:function(){var n=W(D().m(function s(){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:bh,address:this.address,functionName:"ipId"});case 1:return i.a(2,i.v)}},s,this)}));function r(){return n.apply(this,arguments)}return r}()}])}(EZ),k2=function(){function t(e,n,r){var s;et(this,t),this.address=r||Rn(vZ,(s=e.chain)===null||s===void 0?void 0:s.id),this.rpcClient=e,this.wallet=n}return tt(t,[{key:"mintAndRegisterIpAndAttachPilTerms",value:function(){var e=W(D().m(function r(s){var i,a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.rpcClient.simulateContract({abi:No,address:this.address,functionName:"mintAndRegisterIpAndAttachPILTerms",account:this.wallet.account,args:[s.spgNftContract,s.recipient,s.ipMetadata,s.licenseTermsData,s.allowDuplicates]});case 1:return i=o.v,a=i.request,o.n=2,this.wallet.writeContract(a);case 2:return o.a(2,o.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"mintAndRegisterIpAndAttachPilTermsEncode",value:function(n){return{to:this.address,data:ke({abi:No,functionName:"mintAndRegisterIpAndAttachPILTerms",args:[n.spgNftContract,n.recipient,n.ipMetadata,n.licenseTermsData,n.allowDuplicates]})}}},{key:"multicall",value:function(){var e=W(D().m(function r(s){var i,a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.rpcClient.simulateContract({abi:No,address:this.address,functionName:"multicall",account:this.wallet.account,args:[s.data]});case 1:return i=o.v,a=i.request,o.n=2,this.wallet.writeContract(a);case 2:return o.a(2,o.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"multicallEncode",value:function(n){return{to:this.address,data:ke({abi:No,functionName:"multicall",args:[n.data]})}}},{key:"registerIpAndAttachPilTerms",value:function(){var e=W(D().m(function r(s){var i,a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.rpcClient.simulateContract({abi:No,address:this.address,functionName:"registerIpAndAttachPILTerms",account:this.wallet.account,args:[s.nftContract,s.tokenId,s.ipMetadata,s.licenseTermsData,s.sigMetadataAndAttachAndConfig]});case 1:return i=o.v,a=i.request,o.n=2,this.wallet.writeContract(a);case 2:return o.a(2,o.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"registerIpAndAttachPilTermsEncode",value:function(n){return{to:this.address,data:ke({abi:No,functionName:"registerIpAndAttachPILTerms",args:[n.nftContract,n.tokenId,n.ipMetadata,n.licenseTermsData,n.sigMetadataAndAttachAndConfig]})}}},{key:"registerPilTermsAndAttach",value:function(){var e=W(D().m(function r(s){var i,a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.rpcClient.simulateContract({abi:No,address:this.address,functionName:"registerPILTermsAndAttach",account:this.wallet.account,args:[s.ipId,s.licenseTermsData,s.sigAttachAndConfig]});case 1:return i=o.v,a=i.request,o.n=2,this.wallet.writeContract(a);case 2:return o.a(2,o.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"registerPilTermsAndAttachEncode",value:function(n){return{to:this.address,data:ke({abi:No,functionName:"registerPILTermsAndAttach",args:[n.ipId,n.licenseTermsData,n.sigAttachAndConfig]})}}}])}(),C2=function(){function t(e,n){var r;et(this,t),this.address=n||Rn(zMe,(r=e.chain)===null||r===void 0?void 0:r.id),this.rpcClient=e}return tt(t,[{key:"getDefaultLicenseTerms",value:function(){var e=W(D().m(function r(){var s;return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:Fb,address:this.address,functionName:"getDefaultLicenseTerms"});case 1:return s=i.v,i.a(2,{licenseTemplate:s[0],licenseTermsId:s[1]})}},r,this)}));function n(){return e.apply(this,arguments)}return n}()},{key:"getLicensingConfig",value:function(){var e=W(D().m(function r(s){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:Fb,address:this.address,functionName:"getLicensingConfig",args:[s.ipId,s.licenseTemplate,s.licenseTermsId]});case 1:return i.a(2,i.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"getRoyaltyPercent",value:function(){var e=W(D().m(function r(s){var i;return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.rpcClient.readContract({abi:Fb,address:this.address,functionName:"getRoyaltyPercent",args:[s.ipId,s.licenseTemplate,s.licenseTermsId]});case 1:return i=a.v,a.a(2,{royaltyPercent:i})}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"hasIpAttachedLicenseTerms",value:function(){var e=W(D().m(function r(s){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:Fb,address:this.address,functionName:"hasIpAttachedLicenseTerms",args:[s.ipId,s.licenseTemplate,s.licenseTermsId]});case 1:return i.a(2,i.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()}])}(),rP=function(){function t(e,n){var r;et(this,t),this.address=n||Rn(VMe,(r=e.chain)===null||r===void 0?void 0:r.id),this.rpcClient=e}return tt(t,[{key:"ownerOf",value:function(){var e=W(D().m(function r(s){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:nN,address:this.address,functionName:"ownerOf",args:[s.tokenId]});case 1:return i.a(2,i.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()}])}(),fPe=function(t){function e(n,r,s){var i;return et(this,e),i=Nn(this,e,[n,s]),i.wallet=r,i}return Sn(e,t),tt(e,[{key:"approve",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:nN,address:this.address,functionName:"approve",account:this.wallet.account,args:[i.to,i.tokenId]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"approveEncode",value:function(r){return{to:this.address,data:ke({abi:nN,functionName:"approve",args:[r.to,r.tokenId]})}}}])}(rP),hPe=function(){function t(e,n){var r;et(this,t),this.address=n||Rn(eP,(r=e.chain)===null||r===void 0?void 0:r.id),this.rpcClient=e}return tt(t,[{key:"watchLicenseTermsAttachedEvent",value:function(n){return this.rpcClient.watchContractEvent({abi:gn,address:this.address,eventName:"LicenseTermsAttached",onLogs:function(s){s.forEach(function(i){return n(i.transactionHash,i.args)})}})}},{key:"parseTxLicenseTermsAttachedEvent",value:function(n){var r=[],s=bt(n.logs),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;try{var o=cn({abi:gn,eventName:"LicenseTermsAttached",data:a.data,topics:a.topics});o.eventName==="LicenseTermsAttached"&&r.push(o.args)}catch{}}}catch(l){s.e(l)}finally{s.f()}return r}},{key:"watchLicenseTokensMintedEvent",value:function(n){return this.rpcClient.watchContractEvent({abi:gn,address:this.address,eventName:"LicenseTokensMinted",onLogs:function(s){s.forEach(function(i){return n(i.transactionHash,i.args)})}})}},{key:"parseTxLicenseTokensMintedEvent",value:function(n){var r=[],s=bt(n.logs),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;try{var o=cn({abi:gn,eventName:"LicenseTokensMinted",data:a.data,topics:a.topics});o.eventName==="LicenseTokensMinted"&&r.push(o.args)}catch{}}}catch(l){s.e(l)}finally{s.f()}return r}}])}(),mPe=function(t){function e(n,r){return et(this,e),Nn(this,e,[n,r])}return Sn(e,t),tt(e,[{key:"predictMintingLicenseFee",value:function(){var n=W(D().m(function s(i){var a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.rpcClient.readContract({abi:gn,address:this.address,functionName:"predictMintingLicenseFee",args:[i.licensorIpId,i.licenseTemplate,i.licenseTermsId,i.amount,i.receiver,i.royaltyContext]});case 1:return a=o.v,o.a(2,{currencyToken:a[0],tokenAmount:a[1]})}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()}])}(hPe),sP=function(t){function e(n,r,s){var i;return et(this,e),i=Nn(this,e,[n,s]),i.wallet=r,i}return Sn(e,t),tt(e,[{key:"attachLicenseTerms",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:gn,address:this.address,functionName:"attachLicenseTerms",account:this.wallet.account,args:[i.ipId,i.licenseTemplate,i.licenseTermsId]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"attachLicenseTermsEncode",value:function(r){return{to:this.address,data:ke({abi:gn,functionName:"attachLicenseTerms",args:[r.ipId,r.licenseTemplate,r.licenseTermsId]})}}},{key:"mintLicenseTokens",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:gn,address:this.address,functionName:"mintLicenseTokens",account:this.wallet.account,args:[i.licensorIpId,i.licenseTemplate,i.licenseTermsId,i.amount,i.receiver,i.royaltyContext,i.maxMintingFee,i.maxRevenueShare]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"mintLicenseTokensEncode",value:function(r){return{to:this.address,data:ke({abi:gn,functionName:"mintLicenseTokens",args:[r.licensorIpId,r.licenseTemplate,r.licenseTermsId,r.amount,r.receiver,r.royaltyContext,r.maxMintingFee,r.maxRevenueShare]})}}},{key:"registerDerivative",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:gn,address:this.address,functionName:"registerDerivative",account:this.wallet.account,args:[i.childIpId,i.parentIpIds,i.licenseTermsIds,i.licenseTemplate,i.royaltyContext,i.maxMintingFee,i.maxRts,i.maxRevenueShare]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"registerDerivativeEncode",value:function(r){return{to:this.address,data:ke({abi:gn,functionName:"registerDerivative",args:[r.childIpId,r.parentIpIds,r.licenseTermsIds,r.licenseTemplate,r.royaltyContext,r.maxMintingFee,r.maxRts,r.maxRevenueShare]})}}},{key:"registerDerivativeWithLicenseTokens",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:gn,address:this.address,functionName:"registerDerivativeWithLicenseTokens",account:this.wallet.account,args:[i.childIpId,i.licenseTokenIds,i.royaltyContext,i.maxRts]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"registerDerivativeWithLicenseTokensEncode",value:function(r){return{to:this.address,data:ke({abi:gn,functionName:"registerDerivativeWithLicenseTokens",args:[r.childIpId,r.licenseTokenIds,r.royaltyContext,r.maxRts]})}}},{key:"setLicensingConfig",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:gn,address:this.address,functionName:"setLicensingConfig",account:this.wallet.account,args:[i.ipId,i.licenseTemplate,i.licenseTermsId,i.licensingConfig]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"setLicensingConfigEncode",value:function(r){return{to:this.address,data:ke({abi:gn,functionName:"setLicensingConfig",args:[r.ipId,r.licenseTemplate,r.licenseTermsId,r.licensingConfig]})}}}])}(mPe),yPe=function(){function t(e,n){var r;et(this,t),this.address=n||Rn(WMe,(r=e.chain)===null||r===void 0?void 0:r.id),this.rpcClient=e}return tt(t,[{key:"isRegistered",value:function(){var e=W(D().m(function r(s){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:HMe,address:this.address,functionName:"isRegistered",args:[s.moduleAddress]});case 1:return i.a(2,i.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()}])}(),E2=function(){function t(e,n,r){var s;et(this,t),this.address=r||Rn(GMe,(s=e.chain)===null||s===void 0?void 0:s.id),this.rpcClient=e,this.wallet=n}return tt(t,[{key:"aggregate3",value:function(){var e=W(D().m(function r(s){var i,a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.rpcClient.simulateContract({abi:rN,address:this.address,functionName:"aggregate3",account:this.wallet.account,args:[s.calls]});case 1:return i=o.v,a=i.request,o.n=2,this.wallet.writeContract(a);case 2:return o.a(2,o.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"aggregate3Encode",value:function(n){return{to:this.address,data:ke({abi:rN,functionName:"aggregate3",args:[n.calls]})}}}])}(),gPe=function(){function t(e,n){var r;et(this,t),this.address=n||Rn(bZ,(r=e.chain)===null||r===void 0?void 0:r.id),this.rpcClient=e}return tt(t,[{key:"watchAuthorityUpdatedEvent",value:function(n){return this.rpcClient.watchContractEvent({abi:ft,address:this.address,eventName:"AuthorityUpdated",onLogs:function(s){s.forEach(function(i){return n(i.transactionHash,i.args)})}})}},{key:"parseTxAuthorityUpdatedEvent",value:function(n){var r=[],s=bt(n.logs),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;try{var o=cn({abi:ft,eventName:"AuthorityUpdated",data:a.data,topics:a.topics});o.eventName==="AuthorityUpdated"&&r.push(o.args)}catch{}}}catch(l){s.e(l)}finally{s.f()}return r}},{key:"watchDerivativeApprovedEvent",value:function(n){return this.rpcClient.watchContractEvent({abi:ft,address:this.address,eventName:"DerivativeApproved",onLogs:function(s){s.forEach(function(i){return n(i.transactionHash,i.args)})}})}},{key:"parseTxDerivativeApprovedEvent",value:function(n){var r=[],s=bt(n.logs),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;try{var o=cn({abi:ft,eventName:"DerivativeApproved",data:a.data,topics:a.topics});o.eventName==="DerivativeApproved"&&r.push(o.args)}catch{}}}catch(l){s.e(l)}finally{s.f()}return r}},{key:"watchInitializedEvent",value:function(n){return this.rpcClient.watchContractEvent({abi:ft,address:this.address,eventName:"Initialized",onLogs:function(s){s.forEach(function(i){return n(i.transactionHash,i.args)})}})}},{key:"parseTxInitializedEvent",value:function(n){var r=[],s=bt(n.logs),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;try{var o=cn({abi:ft,eventName:"Initialized",data:a.data,topics:a.topics});o.eventName==="Initialized"&&r.push(o.args)}catch{}}}catch(l){s.e(l)}finally{s.f()}return r}},{key:"watchLicenseTermsRegisteredEvent",value:function(n){return this.rpcClient.watchContractEvent({abi:ft,address:this.address,eventName:"LicenseTermsRegistered",onLogs:function(s){s.forEach(function(i){return n(i.transactionHash,i.args)})}})}},{key:"parseTxLicenseTermsRegisteredEvent",value:function(n){var r=[],s=bt(n.logs),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;try{var o=cn({abi:ft,eventName:"LicenseTermsRegistered",data:a.data,topics:a.topics});o.eventName==="LicenseTermsRegistered"&&r.push(o.args)}catch{}}}catch(l){s.e(l)}finally{s.f()}return r}},{key:"watchUpgradedEvent",value:function(n){return this.rpcClient.watchContractEvent({abi:ft,address:this.address,eventName:"Upgraded",onLogs:function(s){s.forEach(function(i){return n(i.transactionHash,i.args)})}})}},{key:"parseTxUpgradedEvent",value:function(n){var r=[],s=bt(n.logs),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;try{var o=cn({abi:ft,eventName:"Upgraded",data:a.data,topics:a.topics});o.eventName==="Upgraded"&&r.push(o.args)}catch{}}}catch(l){s.e(l)}finally{s.f()}return r}}])}(),NZ=function(t){function e(n,r){return et(this,e),Nn(this,e,[n,r])}return Sn(e,t),tt(e,[{key:"accessController",value:function(){var n=W(D().m(function s(){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:ft,address:this.address,functionName:"ACCESS_CONTROLLER"});case 1:return i.a(2,i.v)}},s,this)}));function r(){return n.apply(this,arguments)}return r}()},{key:"ipAssetRegistry",value:function(){var n=W(D().m(function s(){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:ft,address:this.address,functionName:"IP_ASSET_REGISTRY"});case 1:return i.a(2,i.v)}},s,this)}));function r(){return n.apply(this,arguments)}return r}()},{key:"licenseRegistry",value:function(){var n=W(D().m(function s(){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:ft,address:this.address,functionName:"LICENSE_REGISTRY"});case 1:return i.a(2,i.v)}},s,this)}));function r(){return n.apply(this,arguments)}return r}()},{key:"moduleRegistry",value:function(){var n=W(D().m(function s(){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:ft,address:this.address,functionName:"MODULE_REGISTRY"});case 1:return i.a(2,i.v)}},s,this)}));function r(){return n.apply(this,arguments)}return r}()},{key:"royaltyModule",value:function(){var n=W(D().m(function s(){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:ft,address:this.address,functionName:"ROYALTY_MODULE"});case 1:return i.a(2,i.v)}},s,this)}));function r(){return n.apply(this,arguments)}return r}()},{key:"termsRenderer",value:function(){var n=W(D().m(function s(){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:ft,address:this.address,functionName:"TERMS_RENDERER"});case 1:return i.a(2,i.v)}},s,this)}));function r(){return n.apply(this,arguments)}return r}()},{key:"upgradeInterfaceVersion",value:function(){var n=W(D().m(function s(){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:ft,address:this.address,functionName:"UPGRADE_INTERFACE_VERSION"});case 1:return i.a(2,i.v)}},s,this)}));function r(){return n.apply(this,arguments)}return r}()},{key:"allowDerivativeRegistration",value:function(){var n=W(D().m(function s(i){return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.rpcClient.readContract({abi:ft,address:this.address,functionName:"allowDerivativeRegistration",args:[i.licenseTermsId]});case 1:return a.a(2,a.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"authority",value:function(){var n=W(D().m(function s(){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:ft,address:this.address,functionName:"authority"});case 1:return i.a(2,i.v)}},s,this)}));function r(){return n.apply(this,arguments)}return r}()},{key:"canAttachToGroupIp",value:function(){var n=W(D().m(function s(i){return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.rpcClient.readContract({abi:ft,address:this.address,functionName:"canAttachToGroupIp",args:[i.licenseTermsId]});case 1:return a.a(2,a.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"canOverrideRoyaltyPercent",value:function(){var n=W(D().m(function s(i){return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.rpcClient.readContract({abi:ft,address:this.address,functionName:"canOverrideRoyaltyPercent",args:[i.licenseTermsId,i.newRoyaltyPercent]});case 1:return a.a(2,a.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"exists",value:function(){var n=W(D().m(function s(i){return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.rpcClient.readContract({abi:ft,address:this.address,functionName:"exists",args:[i.licenseTermsId]});case 1:return a.a(2,a.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"getEarlierExpireTime",value:function(){var n=W(D().m(function s(i){return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.rpcClient.readContract({abi:ft,address:this.address,functionName:"getEarlierExpireTime",args:[i.licenseTermsIds,i.start]});case 1:return a.a(2,a.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"getExpireTime",value:function(){var n=W(D().m(function s(i){return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.rpcClient.readContract({abi:ft,address:this.address,functionName:"getExpireTime",args:[i.licenseTermsId,i.start]});case 1:return a.a(2,a.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"getLicenseTerms",value:function(){var n=W(D().m(function s(i){var a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.rpcClient.readContract({abi:ft,address:this.address,functionName:"getLicenseTerms",args:[i.selectedLicenseTermsId]});case 1:return a=o.v,o.a(2,{terms:a})}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"getLicenseTermsId",value:function(){var n=W(D().m(function s(i){var a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.rpcClient.readContract({abi:ft,address:this.address,functionName:"getLicenseTermsId",args:[i.terms]});case 1:return a=o.v,o.a(2,{selectedLicenseTermsId:a})}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"getLicenseTermsUri",value:function(){var n=W(D().m(function s(i){return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.rpcClient.readContract({abi:ft,address:this.address,functionName:"getLicenseTermsURI",args:[i.licenseTermsId]});case 1:return a.a(2,a.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"getMetadataUri",value:function(){var n=W(D().m(function s(){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:ft,address:this.address,functionName:"getMetadataURI"});case 1:return i.a(2,i.v)}},s,this)}));function r(){return n.apply(this,arguments)}return r}()},{key:"getRoyaltyPolicy",value:function(){var n=W(D().m(function s(i){var a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.rpcClient.readContract({abi:ft,address:this.address,functionName:"getRoyaltyPolicy",args:[i.licenseTermsId]});case 1:return a=o.v,o.a(2,{royaltyPolicy:a[0],royaltyPercent:a[1],mintingFee:a[2],currency:a[3]})}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"isConsumingScheduledOp",value:function(){var n=W(D().m(function s(){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:ft,address:this.address,functionName:"isConsumingScheduledOp"});case 1:return i.a(2,i.v)}},s,this)}));function r(){return n.apply(this,arguments)}return r}()},{key:"isDerivativeApproved",value:function(){var n=W(D().m(function s(i){return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.rpcClient.readContract({abi:ft,address:this.address,functionName:"isDerivativeApproved",args:[i.parentIpId,i.licenseTermsId,i.childIpId]});case 1:return a.a(2,a.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"isLicenseTransferable",value:function(){var n=W(D().m(function s(i){return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.rpcClient.readContract({abi:ft,address:this.address,functionName:"isLicenseTransferable",args:[i.licenseTermsId]});case 1:return a.a(2,a.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"name",value:function(){var n=W(D().m(function s(){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:ft,address:this.address,functionName:"name"});case 1:return i.a(2,i.v)}},s,this)}));function r(){return n.apply(this,arguments)}return r}()},{key:"proxiableUuid",value:function(){var n=W(D().m(function s(){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:ft,address:this.address,functionName:"proxiableUUID"});case 1:return i.a(2,i.v)}},s,this)}));function r(){return n.apply(this,arguments)}return r}()},{key:"supportsInterface",value:function(){var n=W(D().m(function s(i){return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.rpcClient.readContract({abi:ft,address:this.address,functionName:"supportsInterface",args:[i.interfaceId]});case 1:return a.a(2,a.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"toJson",value:function(){var n=W(D().m(function s(i){return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.rpcClient.readContract({abi:ft,address:this.address,functionName:"toJson",args:[i.licenseTermsId]});case 1:return a.a(2,a.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"totalRegisteredLicenseTerms",value:function(){var n=W(D().m(function s(){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:ft,address:this.address,functionName:"totalRegisteredLicenseTerms"});case 1:return i.a(2,i.v)}},s,this)}));function r(){return n.apply(this,arguments)}return r}()},{key:"verifyCompatibleLicenses",value:function(){var n=W(D().m(function s(i){return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.rpcClient.readContract({abi:ft,address:this.address,functionName:"verifyCompatibleLicenses",args:[i.licenseTermsIds]});case 1:return a.a(2,a.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()}])}(gPe),iP=function(t){function e(n,r,s){var i;return et(this,e),i=Nn(this,e,[n,s]),i.wallet=r,i}return Sn(e,t),tt(e,[{key:"initialize",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:ft,address:this.address,functionName:"initialize",account:this.wallet.account,args:[i.accessManager,i.name,i.metadataURI]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"initializeEncode",value:function(r){return{to:this.address,data:ke({abi:ft,functionName:"initialize",args:[r.accessManager,r.name,r.metadataURI]})}}},{key:"registerLicenseTerms",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:ft,address:this.address,functionName:"registerLicenseTerms",account:this.wallet.account,args:[i.terms]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"registerLicenseTermsEncode",value:function(r){return{to:this.address,data:ke({abi:ft,functionName:"registerLicenseTerms",args:[r.terms]})}}},{key:"setApproval",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:ft,address:this.address,functionName:"setApproval",account:this.wallet.account,args:[i.parentIpId,i.licenseTermsId,i.childIpId,i.approved]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"setApprovalEncode",value:function(r){return{to:this.address,data:ke({abi:ft,functionName:"setApproval",args:[r.parentIpId,r.licenseTermsId,r.childIpId,r.approved]})}}},{key:"setAuthority",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:ft,address:this.address,functionName:"setAuthority",account:this.wallet.account,args:[i.newAuthority]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"setAuthorityEncode",value:function(r){return{to:this.address,data:ke({abi:ft,functionName:"setAuthority",args:[r.newAuthority]})}}},{key:"upgradeToAndCall",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:ft,address:this.address,functionName:"upgradeToAndCall",account:this.wallet.account,args:[i.newImplementation,i.data]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"upgradeToAndCallEncode",value:function(r){return{to:this.address,data:ke({abi:ft,functionName:"upgradeToAndCall",args:[r.newImplementation,r.data]})}}},{key:"verifyMintLicenseToken",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:ft,address:this.address,functionName:"verifyMintLicenseToken",account:this.wallet.account,args:[i[0],i[1],i[2],i[3]]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"verifyMintLicenseTokenEncode",value:function(r){return{to:this.address,data:ke({abi:ft,functionName:"verifyMintLicenseToken",args:[r[0],r[1],r[2],r[3]]})}}},{key:"verifyRegisterDerivative",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:ft,address:this.address,functionName:"verifyRegisterDerivative",account:this.wallet.account,args:[i.childIpId,i.parentIpId,i.licenseTermsId,i.licensee]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"verifyRegisterDerivativeEncode",value:function(r){return{to:this.address,data:ke({abi:ft,functionName:"verifyRegisterDerivative",args:[r.childIpId,r.parentIpId,r.licenseTermsId,r.licensee]})}}},{key:"verifyRegisterDerivativeForAllParents",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:ft,address:this.address,functionName:"verifyRegisterDerivativeForAllParents",account:this.wallet.account,args:[i.childIpId,i.parentIpIds,i.licenseTermsIds,i.caller]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"verifyRegisterDerivativeForAllParentsEncode",value:function(r){return{to:this.address,data:ke({abi:ft,functionName:"verifyRegisterDerivativeForAllParents",args:[r.childIpId,r.parentIpIds,r.licenseTermsIds,r.caller]})}}}])}(NZ),vPe=function(){function t(e,n){var r;et(this,t),this.address=n||Rn(wZ,(r=e.chain)===null||r===void 0?void 0:r.id),this.rpcClient=e}return tt(t,[{key:"watchCollectionCreatedEvent",value:function(n){return this.rpcClient.watchContractEvent({abi:$a,address:this.address,eventName:"CollectionCreated",onLogs:function(s){s.forEach(function(i){return n(i.transactionHash,i.args)})}})}},{key:"parseTxCollectionCreatedEvent",value:function(n){var r=[],s=bt(n.logs),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;try{var o=cn({abi:$a,eventName:"CollectionCreated",data:a.data,topics:a.topics});o.eventName==="CollectionCreated"&&r.push(o.args)}catch{}}}catch(l){s.e(l)}finally{s.f()}return r}}])}(),SZ=function(t){function e(n,r,s){var i;return et(this,e),i=Nn(this,e,[n,s]),i.wallet=r,i}return Sn(e,t),tt(e,[{key:"createCollection",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:$a,address:this.address,functionName:"createCollection",account:this.wallet.account,args:[i.spgNftInitParams]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"createCollectionEncode",value:function(r){return{to:this.address,data:ke({abi:$a,functionName:"createCollection",args:[r.spgNftInitParams]})}}},{key:"mintAndRegisterIp",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:$a,address:this.address,functionName:"mintAndRegisterIp",account:this.wallet.account,args:[i.spgNftContract,i.recipient,i.ipMetadata,i.allowDuplicates]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"mintAndRegisterIpEncode",value:function(r){return{to:this.address,data:ke({abi:$a,functionName:"mintAndRegisterIp",args:[r.spgNftContract,r.recipient,r.ipMetadata,r.allowDuplicates]})}}},{key:"multicall",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:$a,address:this.address,functionName:"multicall",account:this.wallet.account,args:[i.data]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"multicallEncode",value:function(r){return{to:this.address,data:ke({abi:$a,functionName:"multicall",args:[r.data]})}}},{key:"registerIp",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:$a,address:this.address,functionName:"registerIp",account:this.wallet.account,args:[i.nftContract,i.tokenId,i.ipMetadata,i.sigMetadata]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"registerIpEncode",value:function(r){return{to:this.address,data:ke({abi:$a,functionName:"registerIp",args:[r.nftContract,r.tokenId,r.ipMetadata,r.sigMetadata]})}}}])}(vPe),aP=function(){function t(e,n){var r;et(this,t),this.address=n||Rn(xZ,(r=e.chain)===null||r===void 0?void 0:r.id),this.rpcClient=e}return tt(t,[{key:"watchIpRoyaltyVaultDeployedEvent",value:function(n){return this.rpcClient.watchContractEvent({abi:ql,address:this.address,eventName:"IpRoyaltyVaultDeployed",onLogs:function(s){s.forEach(function(i){return n(i.transactionHash,i.args)})}})}},{key:"parseTxIpRoyaltyVaultDeployedEvent",value:function(n){var r=[],s=bt(n.logs),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;try{var o=cn({abi:ql,eventName:"IpRoyaltyVaultDeployed",data:a.data,topics:a.topics});o.eventName==="IpRoyaltyVaultDeployed"&&r.push(o.args)}catch{}}}catch(l){s.e(l)}finally{s.f()}return r}},{key:"watchRoyaltyPaidEvent",value:function(n){return this.rpcClient.watchContractEvent({abi:ql,address:this.address,eventName:"RoyaltyPaid",onLogs:function(s){s.forEach(function(i){return n(i.transactionHash,i.args)})}})}},{key:"parseTxRoyaltyPaidEvent",value:function(n){var r=[],s=bt(n.logs),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;try{var o=cn({abi:ql,eventName:"RoyaltyPaid",data:a.data,topics:a.topics});o.eventName==="RoyaltyPaid"&&r.push(o.args)}catch{}}}catch(l){s.e(l)}finally{s.f()}return r}}])}(),RZ=function(t){function e(n,r){return et(this,e),Nn(this,e,[n,r])}return Sn(e,t),tt(e,[{key:"ipRoyaltyVaults",value:function(){var n=W(D().m(function s(i){return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.rpcClient.readContract({abi:ql,address:this.address,functionName:"ipRoyaltyVaults",args:[i.ipId]});case 1:return a.a(2,a.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"isWhitelistedRoyaltyPolicy",value:function(){var n=W(D().m(function s(i){return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.rpcClient.readContract({abi:ql,address:this.address,functionName:"isWhitelistedRoyaltyPolicy",args:[i.royaltyPolicy]});case 1:return a.a(2,a.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"isWhitelistedRoyaltyToken",value:function(){var n=W(D().m(function s(i){return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.rpcClient.readContract({abi:ql,address:this.address,functionName:"isWhitelistedRoyaltyToken",args:[i.token]});case 1:return a.a(2,a.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()}])}(aP),bPe=function(t){function e(n,r,s){var i;return et(this,e),i=Nn(this,e,[n,s]),i.wallet=r,i}return Sn(e,t),tt(e,[{key:"payRoyaltyOnBehalf",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:ql,address:this.address,functionName:"payRoyaltyOnBehalf",account:this.wallet.account,args:[i.receiverIpId,i.payerIpId,i.token,i.amount]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"payRoyaltyOnBehalfEncode",value:function(r){return{to:this.address,data:ke({abi:ql,functionName:"payRoyaltyOnBehalf",args:[r.receiverIpId,r.payerIpId,r.token,r.amount]})}}}])}(RZ),N2=function(){function t(e,n,r){var s;et(this,t),this.address=r||Rn(I1,(s=e.chain)===null||s===void 0?void 0:s.id),this.rpcClient=e,this.wallet=n}return tt(t,[{key:"distributeRoyaltyTokens",value:function(){var e=W(D().m(function r(s){var i,a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.rpcClient.simulateContract({abi:qr,address:this.address,functionName:"distributeRoyaltyTokens",account:this.wallet.account,args:[s.ipId,s.royaltyShares,s.sigApproveRoyaltyTokens]});case 1:return i=o.v,a=i.request,o.n=2,this.wallet.writeContract(a);case 2:return o.a(2,o.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"distributeRoyaltyTokensEncode",value:function(n){return{to:this.address,data:ke({abi:qr,functionName:"distributeRoyaltyTokens",args:[n.ipId,n.royaltyShares,n.sigApproveRoyaltyTokens]})}}},{key:"mintAndRegisterIpAndAttachPilTermsAndDistributeRoyaltyTokens",value:function(){var e=W(D().m(function r(s){var i,a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.rpcClient.simulateContract({abi:qr,address:this.address,functionName:"mintAndRegisterIpAndAttachPILTermsAndDistributeRoyaltyTokens",account:this.wallet.account,args:[s.spgNftContract,s.recipient,s.ipMetadata,s.licenseTermsData,s.royaltyShares,s.allowDuplicates]});case 1:return i=o.v,a=i.request,o.n=2,this.wallet.writeContract(a);case 2:return o.a(2,o.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"mintAndRegisterIpAndAttachPilTermsAndDistributeRoyaltyTokensEncode",value:function(n){return{to:this.address,data:ke({abi:qr,functionName:"mintAndRegisterIpAndAttachPILTermsAndDistributeRoyaltyTokens",args:[n.spgNftContract,n.recipient,n.ipMetadata,n.licenseTermsData,n.royaltyShares,n.allowDuplicates]})}}},{key:"mintAndRegisterIpAndMakeDerivativeAndDistributeRoyaltyTokens",value:function(){var e=W(D().m(function r(s){var i,a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.rpcClient.simulateContract({abi:qr,address:this.address,functionName:"mintAndRegisterIpAndMakeDerivativeAndDistributeRoyaltyTokens",account:this.wallet.account,args:[s.spgNftContract,s.recipient,s.ipMetadata,s.derivData,s.royaltyShares,s.allowDuplicates]});case 1:return i=o.v,a=i.request,o.n=2,this.wallet.writeContract(a);case 2:return o.a(2,o.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"mintAndRegisterIpAndMakeDerivativeAndDistributeRoyaltyTokensEncode",value:function(n){return{to:this.address,data:ke({abi:qr,functionName:"mintAndRegisterIpAndMakeDerivativeAndDistributeRoyaltyTokens",args:[n.spgNftContract,n.recipient,n.ipMetadata,n.derivData,n.royaltyShares,n.allowDuplicates]})}}},{key:"multicall",value:function(){var e=W(D().m(function r(s){var i,a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.rpcClient.simulateContract({abi:qr,address:this.address,functionName:"multicall",account:this.wallet.account,args:[s.data]});case 1:return i=o.v,a=i.request,o.n=2,this.wallet.writeContract(a);case 2:return o.a(2,o.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"multicallEncode",value:function(n){return{to:this.address,data:ke({abi:qr,functionName:"multicall",args:[n.data]})}}},{key:"registerIpAndAttachPilTermsAndDeployRoyaltyVault",value:function(){var e=W(D().m(function r(s){var i,a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.rpcClient.simulateContract({abi:qr,address:this.address,functionName:"registerIpAndAttachPILTermsAndDeployRoyaltyVault",account:this.wallet.account,args:[s.nftContract,s.tokenId,s.ipMetadata,s.licenseTermsData,s.sigMetadataAndAttachAndConfig]});case 1:return i=o.v,a=i.request,o.n=2,this.wallet.writeContract(a);case 2:return o.a(2,o.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"registerIpAndAttachPilTermsAndDeployRoyaltyVaultEncode",value:function(n){return{to:this.address,data:ke({abi:qr,functionName:"registerIpAndAttachPILTermsAndDeployRoyaltyVault",args:[n.nftContract,n.tokenId,n.ipMetadata,n.licenseTermsData,n.sigMetadataAndAttachAndConfig]})}}},{key:"registerIpAndMakeDerivativeAndDeployRoyaltyVault",value:function(){var e=W(D().m(function r(s){var i,a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.rpcClient.simulateContract({abi:qr,address:this.address,functionName:"registerIpAndMakeDerivativeAndDeployRoyaltyVault",account:this.wallet.account,args:[s.nftContract,s.tokenId,s.ipMetadata,s.derivData,s.sigMetadataAndRegister]});case 1:return i=o.v,a=i.request,o.n=2,this.wallet.writeContract(a);case 2:return o.a(2,o.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"registerIpAndMakeDerivativeAndDeployRoyaltyVaultEncode",value:function(n){return{to:this.address,data:ke({abi:qr,functionName:"registerIpAndMakeDerivativeAndDeployRoyaltyVault",args:[n.nftContract,n.tokenId,n.ipMetadata,n.derivData,n.sigMetadataAndRegister]})}}}])}(),wPe=function(){function t(e,n,r){var s;et(this,t),this.address=r||Rn(XMe,(s=e.chain)===null||s===void 0?void 0:s.id),this.rpcClient=e,this.wallet=n}return tt(t,[{key:"claimAllRevenue",value:function(){var e=W(D().m(function r(s){var i,a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.rpcClient.simulateContract({abi:Bb,address:this.address,functionName:"claimAllRevenue",account:this.wallet.account,args:[s.ancestorIpId,s.claimer,s.childIpIds,s.royaltyPolicies,s.currencyTokens]});case 1:return i=o.v,a=i.request,o.n=2,this.wallet.writeContract(a);case 2:return o.a(2,o.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"claimAllRevenueEncode",value:function(n){return{to:this.address,data:ke({abi:Bb,functionName:"claimAllRevenue",args:[n.ancestorIpId,n.claimer,n.childIpIds,n.royaltyPolicies,n.currencyTokens]})}}},{key:"multicall",value:function(){var e=W(D().m(function r(s){var i,a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.rpcClient.simulateContract({abi:Bb,address:this.address,functionName:"multicall",account:this.wallet.account,args:[s.data]});case 1:return i=o.v,a=i.request,o.n=2,this.wallet.writeContract(a);case 2:return o.a(2,o.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"multicallEncode",value:function(n){return{to:this.address,data:ke({abi:Bb,functionName:"multicall",args:[n.data]})}}}])}(),xPe=function(){function t(e,n){var r;et(this,t),this.address=n||Rn(ZMe,(r=e.chain)===null||r===void 0?void 0:r.id),this.rpcClient=e}return tt(t,[{key:"watchTransferEvent",value:function(n){return this.rpcClient.watchContractEvent({abi:Vl,address:this.address,eventName:"Transfer",onLogs:function(s){s.forEach(function(i){return n(i.transactionHash,i.args)})}})}},{key:"parseTxTransferEvent",value:function(n){var r=[],s=bt(n.logs),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;try{var o=cn({abi:Vl,eventName:"Transfer",data:a.data,topics:a.topics});o.eventName==="Transfer"&&r.push(o.args)}catch{}}}catch(l){s.e(l)}finally{s.f()}return r}}])}(),rl=function(t){function e(n,r){return et(this,e),Nn(this,e,[n,r])}return Sn(e,t),tt(e,[{key:"hasRole",value:function(){var n=W(D().m(function s(i){return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.rpcClient.readContract({abi:Vl,address:this.address,functionName:"hasRole",args:[i.role,i.account]});case 1:return a.a(2,a.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"mintFee",value:function(){var n=W(D().m(function s(){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:Vl,address:this.address,functionName:"mintFee"});case 1:return i.a(2,i.v)}},s,this)}));function r(){return n.apply(this,arguments)}return r}()},{key:"mintFeeToken",value:function(){var n=W(D().m(function s(){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:Vl,address:this.address,functionName:"mintFeeToken"});case 1:return i.a(2,i.v)}},s,this)}));function r(){return n.apply(this,arguments)}return r}()},{key:"publicMinting",value:function(){var n=W(D().m(function s(){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:Vl,address:this.address,functionName:"publicMinting"});case 1:return i.a(2,i.v)}},s,this)}));function r(){return n.apply(this,arguments)}return r}()},{key:"tokenUri",value:function(){var n=W(D().m(function s(i){return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.rpcClient.readContract({abi:Vl,address:this.address,functionName:"tokenURI",args:[i.tokenId]});case 1:return a.a(2,a.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()}])}(xPe),TPe=function(t){function e(n,r,s){var i;return et(this,e),i=Nn(this,e,[n,s]),i.wallet=r,i}return Sn(e,t),tt(e,[{key:"setTokenUri",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:Vl,address:this.address,functionName:"setTokenURI",account:this.wallet.account,args:[i.tokenId,i.tokenUri]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"setTokenUriEncode",value:function(r){return{to:this.address,data:ke({abi:Vl,functionName:"setTokenURI",args:[r.tokenId,r.tokenUri]})}}}])}(rl),MZ=function(){function t(e,n,r){var s;et(this,t),this.address=r||Rn(TZ,(s=e.chain)===null||s===void 0?void 0:s.id),this.rpcClient=e,this.wallet=n}return tt(t,[{key:"setTotalLicenseTokenLimit",value:function(){var e=W(D().m(function r(s){var i,a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.rpcClient.simulateContract({abi:v$,address:this.address,functionName:"setTotalLicenseTokenLimit",account:this.wallet.account,args:[s.licensorIpId,s.licenseTemplate,s.licenseTermsId,s.limit]});case 1:return i=o.v,a=i.request,o.n=2,this.wallet.writeContract(a);case 2:return o.a(2,o.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"setTotalLicenseTokenLimitEncode",value:function(n){return{to:this.address,data:ke({abi:v$,functionName:"setTotalLicenseTokenLimit",args:[n.licensorIpId,n.licenseTemplate,n.licenseTermsId,n.limit]})}}}])}(),APe=function(){function t(e,n){var r;et(this,t),this.address=n||Rn(AZ,(r=e.chain)===null||r===void 0?void 0:r.id),this.rpcClient=e}return tt(t,[{key:"allowance",value:function(){var e=W(D().m(function r(s){var i;return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.rpcClient.readContract({abi:Js,address:this.address,functionName:"allowance",args:[s.owner,s.spender]});case 1:return i=a.v,a.a(2,{result:i})}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"balanceOf",value:function(){var e=W(D().m(function r(s){var i;return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.rpcClient.readContract({abi:Js,address:this.address,functionName:"balanceOf",args:[s.owner]});case 1:return i=a.v,a.a(2,{result:i})}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()}])}(),df=function(t){function e(n,r,s){var i;return et(this,e),i=Nn(this,e,[n,s]),i.wallet=r,i}return Sn(e,t),tt(e,[{key:"approve",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:Js,address:this.address,functionName:"approve",account:this.wallet.account,args:[i.spender,i.amount]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"approveEncode",value:function(r){return{to:this.address,data:ke({abi:Js,functionName:"approve",args:[r.spender,r.amount]})}}},{key:"deposit",value:function(){var n=W(D().m(function s(){var i,a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.rpcClient.simulateContract({abi:Js,address:this.address,functionName:"deposit",account:this.wallet.account});case 1:return i=o.v,a=i.request,o.n=2,this.wallet.writeContract(a);case 2:return o.a(2,o.v)}},s,this)}));function r(){return n.apply(this,arguments)}return r}()},{key:"depositEncode",value:function(){return{to:this.address,data:ke({abi:Js,functionName:"deposit"})}}},{key:"transfer",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:Js,address:this.address,functionName:"transfer",account:this.wallet.account,args:[i.to,i.amount]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"transferEncode",value:function(r){return{to:this.address,data:ke({abi:Js,functionName:"transfer",args:[r.to,r.amount]})}}},{key:"transferFrom",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:Js,address:this.address,functionName:"transferFrom",account:this.wallet.account,args:[i.from,i.to,i.amount]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"transferFromEncode",value:function(r){return{to:this.address,data:ke({abi:Js,functionName:"transferFrom",args:[r.from,r.to,r.amount]})}}},{key:"withdraw",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:Js,address:this.address,functionName:"withdraw",account:this.wallet.account,args:[i.value]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"withdrawEncode",value:function(r){return{to:this.address,data:ke({abi:Js,functionName:"withdraw",args:[r.value]})}}}])}(APe),IPe=Gm({id:1315,name:"aeneid",nativeCurrency:{name:"IP",symbol:"IP",decimals:18},rpcUrls:{default:{http:["https://aeneid.storyrpc.io/"]}},blockExplorers:{default:{name:"Explorer",url:"https://aeneid.storyscan.xyz/"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1792}},testnet:!0}),PZ=Gm({id:1514,name:"mainnet",nativeCurrency:{name:"IP",symbol:"IP",decimals:18},rpcUrls:{default:{http:["https://mainnet.storyrpc.io/"]}},blockExplorers:{default:{name:"Explorer",url:"https://dev-mainnet.storyscan.xyz/"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:340998}},testnet:!1}),th="0x00000000",mk=1e8,Pi=AZ[PZ.id];function kPe(t){try{return Function.toString.call(t).indexOf("[native code]")!==-1}catch{return typeof t=="function"}}function CPe(t,e,n){if(JM())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var s=new(t.bind.apply(t,r));return n&&U0(s,n.prototype),s}function iN(t){var e=typeof Map=="function"?new Map:void 0;return iN=function(n){if(n===null||!kPe(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,r)}function r(){return CPe(n,arguments,B0(this).constructor)}return r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),U0(r,n)},iN(t)}var Ve=function(e,n){if(e instanceof Error){var r=new Error("".concat(n,": ").concat(e.message));throw r.stack=e.stack,r}throw new Error("".concat(n,": Unknown error type"))},np=function(t){function e(n){var r;return et(this,e),r=Nn(this,e,[n]),r.name="PILFlavorError",r}return Sn(e,t),tt(e)}(iN(Error));function EPe(t){if(Array.isArray(t))return eN(t)}function NPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function SPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ys(t){return EPe(t)||NPe(t)||ZM(t)||SPe()}var b$=function(){var t=W(D().m(function e(n){var r,s,i,a,o,l,u;return D().w(function(d){for(;;)switch(d.n){case 0:return r=n.rpcClient,s=n.wallet,i=n.data,d.n=1,r.simulateContract(K(K({},i),{},{account:s.account}));case 1:return a=d.v,o=a.request,d.n=2,s.writeContract(o);case 2:return l=d.v,d.n=3,r.waitForTransactionReceipt({hash:l});case 3:return u=d.v,d.a(2,{txHash:l,receipt:u})}},e)}));return function(n){return t.apply(this,arguments)}}(),oP=function(){function t(e,n,r){et(this,t),this.ercClient=new kZ(e,n,r)}return tt(t,[{key:"balanceOf",value:function(){var e=W(D().m(function r(s){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.ercClient.balanceOf({account:s});case 1:return i.a(2,i.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"allowance",value:function(){var e=W(D().m(function r(s,i){return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.ercClient.allowance({owner:s,spender:i});case 1:return a.a(2,a.v)}},r,this)}));function n(r,s){return e.apply(this,arguments)}return n}()},{key:"approve",value:function(){var e=W(D().m(function r(s,i){return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.ercClient.approve({spender:s,value:i});case 1:return a.a(2,a.v)}},r,this)}));function n(r,s){return e.apply(this,arguments)}return n}()},{key:"approveEncode",value:function(n,r){return this.ercClient.approveEncode({spender:n,value:r})}},{key:"mint",value:function(){var e=W(D().m(function r(s,i){return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.ercClient.mint({to:s,amount:i});case 1:return a.a(2,a.v)}},r,this)}));function n(r,s){return e.apply(this,arguments)}return n}()}])}(),jZ=function(){function t(e,n){et(this,t),this.wipClient=new df(e,n)}return tt(t,[{key:"balanceOf",value:function(){var e=W(D().m(function r(s){var i,a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.wipClient.balanceOf({owner:s});case 1:return i=o.v,a=i.result,o.a(2,a)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"allowance",value:function(){var e=W(D().m(function r(s,i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.wipClient.allowance({owner:s,spender:i});case 1:return a=l.v,o=a.result,l.a(2,o)}},r,this)}));function n(r,s){return e.apply(this,arguments)}return n}()},{key:"approve",value:function(){var e=W(D().m(function r(s,i){return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.wipClient.approve({spender:s,amount:i});case 1:return a.a(2,a.v)}},r,this)}));function n(r,s){return e.apply(this,arguments)}return n}()},{key:"approveEncode",value:function(n,r){return this.wipClient.approveEncode({spender:n,amount:r})}},{key:"depositEncode",value:function(){return this.wipClient.depositEncode()}},{key:"address",get:function(){return this.wipClient.address}}])}(),ts=function(){var t=W(D().m(function e(n){var r,s,i,a;return D().w(function(o){for(;;)switch(o.n){case 0:return r=n.txOptions,s=n.rpcClient,i=n.txHash,o.n=1,s.waitForTransactionReceipt(K(K({},r),{},{hash:i}));case 1:return a=o.v,o.a(2,{txHash:i,receipt:a})}},e)}));return function(n){return t.apply(this,arguments)}}(),RPe=function(){var t=W(D().m(function e(n){var r,s,i,a;return D().w(function(o){for(;;)switch(o.n){case 0:return r=n.txOptions,s=n.rpcClient,i=n.txHashes,o.n=1,Promise.all(i.map(function(l){return s.waitForTransactionReceipt(K(K({},r),{},{hash:l}))}));case 1:return a=o.v,o.a(2,a.map(function(l){return{txHash:l.transactionHash,receipt:l}}))}},e)}));return function(n){return t.apply(this,arguments)}}(),MPe=function(){var t=W(D().m(function e(n,r,s){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,n.waitForTransactionReceipt(K({hash:r},s));case 1:return i.a(2)}},e)}));return function(n,r,s){return t.apply(this,arguments)}}(),PPe=function(e){switch(e){case 1315:case"aeneid":return IPe;case 1514:case"mainnet":return PZ;default:throw new Error("ChainId ".concat(String(e)," not supported"))}},S2={aeneid:1315,1315:1315,mainnet:1514,1514:1514},ye=function(e){if(!bi(e,{strict:!1}))throw Error("Invalid address: ".concat(e,"."));return e},ca=function(e){return e.map(function(n){return ye(n)})},nh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"IP";return"".concat(l2(e)).concat(n)},w$=function(e,n){var r=e.find(function(s){return s.address===n.address&&s.token===n.token});r?r.amount=(n.amount||0n)+(r.amount||0n):e.push(K(K({},n),{},{amount:n.amount||0n}))},R2=function(){var t=W(D().m(function e(n){var r,s,i,a,o,l,u,d,p,f,h,y,m;return D().w(function(g){for(;;)switch(g.p=g.n){case 0:return r=n.spenders,s=n.client,i=n.owner,a=n.useMultiCall,o=n.rpcClient,l=n.multicallAddress,g.n=1,Promise.all(r.map(function(){var v=W(D().m(function b(w){var A,I;return D().w(function(C){for(;;)switch(C.n){case 0:if(w.address!==l){C.n=1;break}return C.a(2);case 1:return A=w.amount||D0,C.n=2,s.allowance(i,w.address);case 2:if(I=C.v,!(I<A)){C.n=3;break}return C.a(2,{spender:w.address,value:D0});case 3:return C.a(2)}},b)}));return function(b){return v.apply(this,arguments)}}()));case 1:if(u=g.v,!a){g.n=2;break}return d=[],u.forEach(function(v){if(v){var b=s.approveEncode(v.spender,v.value);d.push({target:b.to,allowFailure:!1,value:0n,callData:b.data})}}),g.a(2,d);case 2:p=bt(u),g.p=3,p.s();case 4:if((f=p.n()).done){g.n=8;break}if(h=f.value,h){g.n=5;break}return g.a(3,7);case 5:return g.n=6,s.approve(h.spender,h.value);case 6:return y=g.v,g.n=7,o.waitForTransactionReceipt({hash:y});case 7:g.n=4;break;case 8:g.n=10;break;case 9:g.p=9,m=g.v,p.e(m);case 10:return g.p=10,p.f(),g.f(10);case 11:return g.a(2,[])}},e,null,[[3,9,10,11]])}));return function(n){return t.apply(this,arguments)}}(),jPe=function(){var t=W(D().m(function e(n){var r,s,i,a,o,l,u,d,p,f,h,y,m,g,v;return D().w(function(b){for(;;)switch(b.n){case 0:if(r=n.ipAmountToWrap,s=n.wipClient,i=n.multicall3Address,a=n.wipSpenders,o=n.calls,l=n.rpcClient,u=n.wallet,d=n.contractCall,p=n.wipOptions,r!==0n){b.n=1;break}throw new Error("ipAmountToWrap should be greater than 0");case 1:if(f=[],h=(p==null?void 0:p.useMulticallWhenPossible)!==!1,!h){b.n=2;break}y=s.depositEncode(),f.push({target:y.to,allowFailure:!1,value:r,callData:y.data}),b.n=3;break;case 2:return b.n=3,b$({rpcClient:l,wallet:u,data:{abi:Js,address:s.address,functionName:"deposit",value:r}});case 3:if(m=(p==null?void 0:p.enableAutoApprove)!==!1,!m){b.n=5;break}return b.n=4,R2({spenders:a,client:s,multicallAddress:i,owner:h?i:u.account.address,rpcClient:l,useMultiCall:h});case 4:g=b.v,g.length>0&&h&&f.push.apply(f,ys(g));case 5:if(f.push.apply(f,ys(o)),h){b.n=7;break}return b.n=6,d();case 6:return v=b.v,b.a(2,{txHash:v});case 7:return b.a(2,b$({rpcClient:l,wallet:u,data:{abi:rN,address:i,functionName:"aggregate3Value",args:[f],value:r}}))}},e)}));return function(n){return t.apply(this,arguments)}}(),lP=function(e){return e.reduce(function(n,r){return n+(r.amount||0n)},0n)},DPe=function(){var t=W(D().m(function e(n){var r,s,i,a,o,l,u,d,p,f,h,y;return D().w(function(m){for(;;)switch(m.n){case 0:if(s=n.tokenSpenders,i=n.sender,a=n.options,o=n.multicall3Address,l=n.rpcClient,u=n.wallet,d=n.contractCall,p=n.txOptions,f=new oP(l,u,s[0].token),h=(a==null||(r=a.erc20Options)===null||r===void 0?void 0:r.enableAutoApprove)!==!1,!h){m.n=1;break}return m.n=1,R2({spenders:s,client:f,owner:i,multicallAddress:o,rpcClient:l,useMultiCall:!1});case 1:return y=M2,m.n=2,d();case 2:return m.a(2,y(m.v,l,p))}},e)}));return function(n){return t.apply(this,arguments)}}(),x$=function(){var t=W(D().m(function e(n){var r,s,i,a,o,l,u,d,p,f,h,y,m,g,v;return D().w(function(b){for(;;)switch(b.n){case 0:return s=n.tokenSpenders,i=n.sender,a=n.options,o=n.multicall3Address,l=n.rpcClient,u=n.contractCall,d=n.txOptions,p=n.wallet,f=n.encodedTxs,h=new jZ(l,p),b.n=1,h.balanceOf(i);case 1:if(y=b.v,m=lP(s),!(y<m)){b.n=2;break}return b.a(2,_Pe({tokenSpenders:s,sender:i,options:a,rpcClient:l,multicall3Address:o,contractCall:u,encodedTxs:f,wallet:p,txOptions:d}));case 2:if(g=(a==null||(r=a.wipOptions)===null||r===void 0?void 0:r.enableAutoApprove)!==!1,!g){b.n=3;break}return b.n=3,R2({spenders:s,client:h,owner:i,multicallAddress:o,rpcClient:l,useMultiCall:!1});case 3:return v=M2,b.n=4,u();case 4:return b.a(2,v(b.v,l,d))}},e)}));return function(n){return t.apply(this,arguments)}}(),_Pe=function(){var t=W(D().m(function e(n){var r,s,i,a,o,l,u,d,p,f,h,y,m,g,v,b,w;return D().w(function(A){for(;;)switch(A.n){case 0:return s=n.tokenSpenders,i=n.sender,a=n.options,o=n.rpcClient,l=n.multicall3Address,u=n.contractCall,d=n.encodedTxs,p=n.wallet,f=n.txOptions,h=(a==null||(r=a.wipOptions)===null||r===void 0?void 0:r.enableAutoWrapIp)!==!1,A.n=1,o.getBalance({address:i});case 1:return y=A.v,m=new jZ(o,p),A.n=2,m.balanceOf(i);case 2:if(g=A.v,v=lP(s),!(y<v)){A.n=3;break}throw new Error("Wallet does not have enough IP to wrap to WIP and pay for fees. Total fees: ".concat(nh(v),", balance: ").concat(nh(y),"."));case 3:if(h){A.n=4;break}throw new Error("Wallet does not have enough WIP to pay for fees. Total fees: ".concat(nh(v),", balance: ").concat(nh(g,"WIP"),"."));case 4:return A.n=5,jPe({ipAmountToWrap:v,multicall3Address:l,wipClient:m,wipOptions:a==null?void 0:a.wipOptions,contractCall:u,wipSpenders:s,rpcClient:o,wallet:p,calls:d.map(function(I){return{target:I.to,allowFailure:!1,value:0n,callData:I.data}})});case 5:return b=A.v,w=b.txHash,A.a(2,M2(w,o,f))}},e)}));return function(n){return t.apply(this,arguments)}}(),Uu=function(){var t=W(D().m(function e(n){var r,s,i,a,o,l,u,d,p,f,h,y,m,g,v,b,w,A,I;return D().w(function(C){for(;;)switch(C.n){case 0:if(r=n.options,s=n.multicall3Address,i=n.wallet,a=n.tokenSpenders,o=n.contractCall,l=n.sender,u=n.txOptions,d=n.encodedTxs,p=n.rpcClient,f=a.every(function(E){return E.amount===0n}),!f){C.n=2;break}return I=M2,C.n=1,o();case 1:return C.a(2,I(C.v,p,u));case 2:if(h=LPe(a),y=h.wipSpenders,m=h.erc20Spenders,g={sender:l,options:r,multicall3Address:s,rpcClient:p,contractCall:o,encodedTxs:d,txOptions:u,wallet:i},!(m.length>0)){C.n=3;break}return C.n=3,OPe(m,p,i,l);case 3:if(!(y.length>0&&m.length>0)){C.n=5;break}if(w=(r==null||(v=r.erc20Options)===null||v===void 0?void 0:v.enableAutoApprove)!==!1,A=new oP(p,i,(b=m[0])===null||b===void 0?void 0:b.token),!w){C.n=4;break}return C.n=4,R2({spenders:m,client:A,owner:l,multicallAddress:s,rpcClient:p,useMultiCall:!1});case 4:return C.a(2,x$(K(K({},g),{},{tokenSpenders:y,options:{wipOptions:K(K({},r==null?void 0:r.wipOptions),{},{useMulticallWhenPossible:!1})}})));case 5:if(!(m.length>0)){C.n=6;break}return C.a(2,DPe(K(K({},g),{},{tokenSpenders:m})));case 6:return C.a(2,x$(K(K({},g),{},{tokenSpenders:y})));case 7:return C.a(2)}},e)}));return function(n){return t.apply(this,arguments)}}(),M2=function(){var t=W(D().m(function e(n,r,s){return D().w(function(i){for(;;)switch(i.n){case 0:if(!Array.isArray(n)){i.n=1;break}return i.a(2,RPe({rpcClient:r,txOptions:s,txHashes:n}));case 1:return i.a(2,ts({rpcClient:r,txOptions:s,txHash:n}))}},e)}));return function(n,r,s){return t.apply(this,arguments)}}(),LPe=function(e){var n=[],r=[],s=bt(e),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;a.token.toLowerCase()===Pi.toLowerCase()?w$(n,a):w$(r,a)}}catch(o){s.e(o)}finally{s.f()}return{wipSpenders:n,erc20Spenders:r}},OPe=function(){var t=W(D().m(function e(n,r,s,i){var a,o,l,u;return D().w(function(d){for(;;)switch(d.n){case 0:return o=new oP(r,s,(a=n[0])===null||a===void 0?void 0:a.token),d.n=1,o.balanceOf(i);case 1:if(l=d.v,u=lP(n),!(l<u)){d.n=2;break}throw new Error("Wallet does not have enough erc20 token to pay for fees. Total fees:  ".concat(nh(u),", balance: ").concat(nh(l),"."));case 2:return d.a(2)}},e)}));return function(n,r,s,i){return t.apply(this,arguments)}}(),$Pe="1220",T$=function(e){var n=e.startsWith("Qm"),r=cs.parse(e),s=n?r.toString():r.toV0().toString(),i=HRe.decode(s),a=Array.from(i).map(function(o){return o.toString(16).padStart(2,"0")}).join("");return"0x"+a.slice($Pe.length)},DZ=[{inputs:[{internalType:"bytes32",name:"assertionId",type:"bytes32"}],name:"getAssertion",outputs:[{components:[{components:[{internalType:"bool",name:"arbitrateViaEscalationManager",type:"bool"},{internalType:"bool",name:"discardOracle",type:"bool"},{internalType:"bool",name:"validateDisputers",type:"bool"},{internalType:"address",name:"assertingCaller",type:"address"},{internalType:"address",name:"escalationManager",type:"address"}],internalType:"struct OptimisticOracleV3Interface.EscalationManagerSettings",name:"escalationManagerSettings",type:"tuple"},{internalType:"address",name:"asserter",type:"address"},{internalType:"uint64",name:"assertionTime",type:"uint64"},{internalType:"bool",name:"settled",type:"bool"},{internalType:"contract IERC20",name:"currency",type:"address"},{internalType:"uint64",name:"expirationTime",type:"uint64"},{internalType:"bool",name:"settlementResolution",type:"bool"},{internalType:"bytes32",name:"domainId",type:"bytes32"},{internalType:"bytes32",name:"identifier",type:"bytes32"},{internalType:"uint256",name:"bond",type:"uint256"},{internalType:"address",name:"callbackRecipient",type:"address"},{internalType:"address",name:"disputer",type:"address"}],internalType:"struct OptimisticOracleV3Interface.Assertion",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"assertionId",type:"bytes32"}],name:"settleAssertion",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"currency",type:"address"}],name:"getMinimumBond",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],_Z=function(){var t=W(D().m(function e(n){return D().w(function(r){for(;;)switch(r.n){case 0:return r.n=1,n.oov3();case 1:return r.a(2,r.v)}},e)}));return function(n){return t.apply(this,arguments)}}(),FPe=function(){var t=W(D().m(function e(n,r,s){var i,a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,_Z(r);case 1:return i=l.v,l.n=2,n.readContract({address:i,abi:DZ,functionName:"getAssertion",args:[s]});case 2:return a=l.v,o=a.bond,l.a(2,o)}},e)}));return function(n,r,s){return t.apply(this,arguments)}}(),BPe=function(){var t=W(D().m(function e(n,r,s){var i;return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,_Z(r);case 1:return i=a.v,a.n=2,n.readContract({address:i,abi:DZ,functionName:"getMinimumBond",args:[s]});case 2:return a.a(2,a.v)}},e)}));return function(n,r,s){return t.apply(this,arguments)}}(),UPe=function(){function t(e,n,r){et(this,t),this.rpcClient=e,this.disputeModuleClient=new iPe(e,n),this.arbitrationPolicyUmaClient=new ePe(e,n),this.multicall3Client=new E2(e,n),this.wrappedIpClient=new df(e,n),this.chainId=r,this.wallet=n}return tt(t,[{key:"raiseDispute",value:function(){var e=W(D().m(function r(s){var i=this,a,o,l,u,d,p,f,h,y,m,g,v,b,w,A,I,C,E,N,_,U,$,B;return D().w(function(j){for(;;)switch(j.p=j.n){case 0:return j.p=0,o=BigInt(s.liveness),j.n=1,Promise.all([this.arbitrationPolicyUmaClient.minLiveness(),this.arbitrationPolicyUmaClient.maxLiveness()]);case 1:if(l=j.v,u=tN(l,2),d=u[0],p=u[1],!(o<d||o>p)){j.n=2;break}throw new Error("Liveness must be between ".concat(d," and ").concat(p,"."));case 2:return j.n=3,Promise.all([BPe(this.rpcClient,this.arbitrationPolicyUmaClient,Pi),this.arbitrationPolicyUmaClient.maxBonds({token:Pi})]);case 3:if(f=j.v,h=tN(f,2),y=h[0],m=h[1],g=BigInt(s.bond===void 0?y:s.bond),!(g>m||g<y)){j.n=4;break}throw new Error("Bonds must be between ".concat(y," and ").concat(m,"."));case 4:return v=Vp(s.targetTag,{size:32}),b=_c([{name:"",type:"uint64"},{name:"",type:"address"},{name:"",type:"uint256"}],[o,Pi,g]),j.n=5,this.disputeModuleClient.isWhitelistedDisputeTag({tag:v});case 5:if(w=j.v,A=w.allowed,A){j.n=6;break}throw new Error("The target tag ".concat(s.targetTag," is not whitelisted."));case 6:if(I={targetIpId:ye(s.targetIpId),targetTag:v,disputeEvidenceHash:T$(s.cid),data:b},C=this.disputeModuleClient.raiseDisputeEncode(I),!((a=s.txOptions)!==null&&a!==void 0&&a.encodedTxDataOnly)){j.n=7;break}return j.a(2,{encodedTxData:C});case 7:return E=function(){return i.disputeModuleClient.raiseDispute(I)},j.n=8,Uu({options:{wipOptions:K(K({},s.wipOptions),{},{useMulticallWhenPossible:!1})},multicall3Address:this.multicall3Client.address,rpcClient:this.rpcClient,tokenSpenders:[{address:this.arbitrationPolicyUmaClient.address,amount:g,token:Pi}],contractCall:E,encodedTxs:[C],wallet:this.wallet,txOptions:s.txOptions,sender:this.wallet.account.address});case 8:if(N=j.v,_=N.txHash,U=N.receipt,U){j.n=9;break}return j.a(2,{txHash:_});case 9:return $=this.disputeModuleClient.parseTxDisputeRaisedEvent(U),j.a(2,{txHash:_,disputeId:$[0].disputeId});case 10:j.n=12;break;case 11:return j.p=11,B=j.v,j.a(2,Ve(B,"Failed to raise dispute"));case 12:return j.a(2)}},r,this,[[0,11]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"cancelDispute",value:function(){var e=W(D().m(function r(s){var i,a,o,l;return D().w(function(u){for(;;)switch(u.p=u.n){case 0:if(u.p=0,a={disputeId:BigInt(s.disputeId),data:s.data?s.data:"0x"},!((i=s.txOptions)!==null&&i!==void 0&&i.encodedTxDataOnly)){u.n=1;break}return u.a(2,{encodedTxData:this.disputeModuleClient.cancelDisputeEncode(a)});case 1:return u.n=2,this.disputeModuleClient.cancelDispute(a);case 2:return o=u.v,u.n=3,this.rpcClient.waitForTransactionReceipt(K(K({},s.txOptions),{},{hash:o}));case 3:return u.a(2,{txHash:o});case 4:u.n=6;break;case 5:return u.p=5,l=u.v,u.a(2,Ve(l,"Failed to cancel dispute"));case 6:return u.a(2)}},r,this,[[0,5]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"resolveDispute",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u;return D().w(function(d){for(;;)switch(d.p=d.n){case 0:if(d.p=0,o={disputeId:BigInt(s.disputeId),data:(i=s.data)!==null&&i!==void 0?i:"0x"},!((a=s.txOptions)!==null&&a!==void 0&&a.encodedTxDataOnly)){d.n=1;break}return d.a(2,{encodedTxData:this.disputeModuleClient.resolveDisputeEncode(o)});case 1:return d.n=2,this.disputeModuleClient.resolveDispute(o);case 2:return l=d.v,d.n=3,this.rpcClient.waitForTransactionReceipt(K(K({},s.txOptions),{},{hash:l}));case 3:return d.a(2,{txHash:l});case 4:d.n=6;break;case 5:return d.p=5,u=d.v,d.a(2,Ve(u,"Failed to resolve dispute"));case 6:return d.a(2)}},r,this,[[0,5]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"tagIfRelatedIpInfringed",value:function(){var e=W(D().m(function r(s){var i=this,a,o,l,u,d,p,f,h,y,m,g;return D().w(function(v){for(;;)switch(v.p=v.n){case 0:if(v.p=0,o=s.infringementTags.map(function(b){return{ipIdToTag:ye(b.ipId),infringerDisputeId:BigInt(b.disputeId)}}),l=[],!(((a=s.options)===null||a===void 0?void 0:a.useMulticallWhenPossible)!==!1&&s.infringementTags.length>1)){v.n=2;break}return u=o.map(function(b){return{target:i.disputeModuleClient.address,allowFailure:!1,callData:i.disputeModuleClient.tagIfRelatedIpInfringedEncode(b).data}}),v.n=1,this.multicall3Client.aggregate3({calls:u});case 1:d=v.v,l.push(d),v.n=10;break;case 2:p=bt(o),v.p=3,p.s();case 4:if((f=p.n()).done){v.n=7;break}return h=f.value,v.n=5,this.disputeModuleClient.tagIfRelatedIpInfringed(h);case 5:y=v.v,l.push(y);case 6:v.n=4;break;case 7:v.n=9;break;case 8:v.p=8,m=v.v,p.e(m);case 9:return v.p=9,p.f(),v.f(9);case 10:return v.n=11,Promise.all(l.map(function(b){return ts({txHash:b,txOptions:s.txOptions,rpcClient:i.rpcClient})}));case 11:return v.a(2,v.v);case 12:return v.p=12,g=v.v,v.a(2,Ve(g,"Failed to tag related ip infringed"))}},r,this,[[3,8,9,10],[0,12]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"disputeAssertion",value:function(){var e=W(D().m(function r(s){var i=this,a,o,l,u,d,p,f,h,y,m,g,v;return D().w(function(b){for(;;)switch(b.p=b.n){case 0:return b.p=0,a=new Ls(this.rpcClient,this.wallet,ye(s.ipId)),b.n=1,FPe(this.rpcClient,this.arbitrationPolicyUmaClient,s.assertionId);case 1:return o=b.v,l=T$(s.counterEvidenceCID),u=this.arbitrationPolicyUmaClient.disputeAssertionEncode({assertionId:s.assertionId,counterEvidenceHash:l}),b.n=2,this.wrappedIpClient.allowance({owner:this.wallet.account.address,spender:a.address});case 2:if(d=b.v,p=d.result,!(p<o)){b.n=4;break}return b.n=3,this.wrappedIpClient.approve({spender:a.address,amount:D0});case 3:return f=b.v,b.n=4,this.rpcClient.waitForTransactionReceipt({hash:f});case 4:return h=function(){var A=[];return o>0&&(A.push({target:i.wrappedIpClient.address,value:0n,data:i.wrappedIpClient.transferFromEncode({from:i.wallet.account.address,to:a.address,amount:o}).data}),A.push({target:i.wrappedIpClient.address,value:0n,data:i.wrappedIpClient.approveEncode({spender:i.arbitrationPolicyUmaClient.address,amount:D0}).data})),a.executeBatch({calls:[].concat(A,[{target:u.to,value:0n,data:u.data}]),operation:0})},b.n=5,Uu({options:{wipOptions:K(K({},s.wipOptions),{},{enableAutoApprove:!1,useMulticallWhenPossible:!1})},multicall3Address:this.multicall3Client.address,rpcClient:this.rpcClient,contractCall:h,tokenSpenders:[{address:this.arbitrationPolicyUmaClient.address,amount:o,token:Pi}],encodedTxs:[u],wallet:this.wallet,sender:this.wallet.account.address,txOptions:s.txOptions});case 5:return y=b.v,m=y.txHash,g=y.receipt,b.a(2,{txHash:m,receipt:g});case 6:return b.p=6,v=b.v,b.a(2,Ve(v,"Failed to dispute assertion"))}},r,this,[[0,6]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"disputeIdToAssertionId",value:function(){var e=W(D().m(function r(s){var i;return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.arbitrationPolicyUmaClient.disputeIdToAssertionId({disputeId:BigInt(s)});case 1:return i=a.v,a.a(2,i)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()}])}(),Xl=function(t){return t.COMMERCIAL_REVENUE_SHARE="commercialRevShare",t.MAX_REVENUE_SHARE="maxRevenueShare",t.MAX_ALLOWED_REWARD_SHARE="maxAllowedRewardShare",t.EXPECT_MINIMUM_GROUP_REWARD_SHARE="expectMinimumGroupRewardShare",t.MAX_ALLOWED_REWARD_SHARE_PERCENTAGE="maxAllowedRewardSharePercentage",t}({}),cr=function(t){return t[t.ABSTAIN=0]="ABSTAIN",t[t.ALLOW=1]="ALLOW",t[t.DENY=2]="DENY",t}({}),ur=function(e,n,r){var s=e.filter(function(l){return l.type==="function"&&l.name===n});if(s.length===0)throw new Error("Method ".concat(n," not found in ABI."));if(s.length>1&&r===void 0)throw new Error("Method ".concat(n," has ").concat(s.length," overloads. Please specify overloadIndex (0-").concat(s.length-1,")."));var i=s[0],a=function(u){if(u.type.startsWith("tuple")){var d,p=(d=u.components)===null||d===void 0?void 0:d.map(function(f){return a(f)}).join(",");return"(".concat(p,")")}return u.type},o=i.inputs.map(function(l){return a(l)}).join(",");return"".concat(n,"(").concat(o,")")},Hl=function(e){return{ipMetadataURI:(e==null?void 0:e.ipMetadataURI)||"",ipMetadataHash:(e==null?void 0:e.ipMetadataHash)||g1,nftMetadataURI:(e==null?void 0:e.nftMetadataURI)||"",nftMetadataHash:(e==null?void 0:e.nftMetadataHash)||g1}},A$=function(t){return t[t.LAP=0]="LAP",t[t.LRP=1]="LRP",t}({}),LZ=function(e,n){var r=S2[n||"aeneid"],s;switch(e){case void 0:case A$.LAP:s=KMe[r];break;case A$.LRP:s=qMe[r];break;default:s=ye(e)}return s},qa=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Xl.COMMERCIAL_REVENUE_SHARE;if(e<0||e>100)throw new Error("".concat(n," must be between 0 and 100."));return Math.trunc(e*Math.pow(10,6))},wh=function(){var t=W(D().m(function e(n){var r,s,i,a,o,l,u,d,p;return D().w(function(f){for(;;)switch(f.n){case 0:return r=n.ipId,s=n.deadline,i=n.state,a=n.wallet,o=n.chainId,l=n.permissions,u=yZ[o],d=l.length>=2,p=ke({abi:Va,functionName:d?"setBatchTransientPermissions":"setTransientPermission",args:d?[l.map(function(h){return{ipAccount:ye(h.ipId),signer:ye(h.signer),to:ye(h.to),func:h.func?Ka(h.func):th,permission:h.permission}})]:[ye(l[0].ipId),ye(l[0].signer),ye(l[0].to),l[0].func?Ka(l[0].func):th,l[0].permission]}),f.n=1,OZ({state:i,to:u,encodeData:p,wallet:a,verifyingContract:r,deadline:s,chainId:o});case 1:return f.a(2,f.v)}},e)}));return function(n){return t.apply(this,arguments)}}(),z0=function(e,n){if(n&&BigInt(n)<0n)throw new Error("Invalid deadline value.");return n?e+BigInt(n):e+1000n},OZ=function(){var t=W(D().m(function e(n){var r,s,i,a,o,l,u,d,p;return D().w(function(f){for(;;)switch(f.n){case 0:if(r=n.state,s=n.to,i=n.encodeData,a=n.wallet,o=n.verifyingContract,l=n.deadline,u=n.chainId,a.signTypedData){f.n=1;break}throw new Error("The wallet client does not support signTypedData, please try again.");case 1:if(a.account){f.n=2;break}throw new Error("The wallet client does not have an account, please try again.");case 2:return d=zr(_c([{name:"",type:"bytes32"},{name:"",type:"bytes"}],[r,ke({abi:Ci,functionName:"execute",args:[s,0n,i]})])),f.n=3,a.signTypedData({account:a.account,domain:{name:"Story Protocol IP Account",version:"1",chainId:u,verifyingContract:o},types:{Execute:[{name:"to",type:"address"},{name:"value",type:"uint256"},{name:"data",type:"bytes"},{name:"nonce",type:"bytes32"},{name:"deadline",type:"uint256"}]},primaryType:"Execute",message:{to:s,value:BigInt(0),data:i,nonce:d,deadline:BigInt(l)}});case 3:return p=f.v,f.a(2,{signature:p,nonce:d})}},e)}));return function(n){return t.apply(this,arguments)}}(),cP=function(e){if(!e)return{isSet:!1,mintingFee:0n,licensingHook:$t,hookData:g1,commercialRevShare:0,disabled:!1,expectMinimumGroupRewardShare:0,expectGroupRewardPool:$t};var n={expectMinimumGroupRewardShare:qa(e.expectMinimumGroupRewardShare,Xl.EXPECT_MINIMUM_GROUP_REWARD_SHARE),commercialRevShare:qa(e.commercialRevShare),mintingFee:BigInt(e.mintingFee),expectGroupRewardPool:ye(e.expectGroupRewardPool),licensingHook:ye(e.licensingHook),hookData:e.hookData,isSet:e.isSet,disabled:e.disabled};if(n.mintingFee<0)throw new Error("The mintingFee must be greater than 0.");return n},zPe=function(){function t(e,n,r){et(this,t),this.rpcClient=e,this.wallet=n,this.chainId=r,this.groupingWorkflowsClient=new cPe(e,n),this.groupingModuleEventClient=new CZ(e),this.licenseTemplateClient=new iP(e,n),this.licenseTokenReadOnlyClient=new rP(e),this.ipAssetRegistryClient=new uf(e,n),this.groupingModuleClient=new lPe(e,n),this.coreMetadataModuleClient=new tP(e,n),this.licensingModuleClient=new sP(e,n),this.licenseRegistryReadOnlyClient=new C2(e),this.royaltyModuleEventClient=new aP(e)}return tt(t,[{key:"registerGroup",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d;return D().w(function(p){for(;;)switch(p.p=p.n){case 0:if(p.p=0,a={groupPool:ye(s.groupPool)},!((i=s.txOptions)!==null&&i!==void 0&&i.encodedTxDataOnly)){p.n=1;break}return p.a(2,{encodedTxData:this.groupingModuleClient.registerGroupEncode(a)});case 1:return p.n=2,this.groupingModuleClient.registerGroup(a);case 2:return o=p.v,p.n=3,this.rpcClient.waitForTransactionReceipt(K(K({},s.txOptions),{},{hash:o}));case 3:return l=p.v,u=this.groupingModuleEventClient.parseTxIpGroupRegisteredEvent(l)[0].groupId,p.a(2,{txHash:o,groupId:u});case 4:p.n=6;break;case 5:return p.p=5,d=p.v,p.a(2,Ve(d,"Failed to register group"));case 6:return p.a(2)}},r,this,[[0,5]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"mintAndRegisterIpAndAttachLicenseAndAddToGroup",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p,f,h,y,m,g,v,b,w,A,I,C,E;return D().w(function(N){for(;;)switch(N.p=N.n){case 0:return N.p=0,o=s.groupId,l=s.recipient,u=s.spgNftContract,d=s.deadline,N.n=1,this.ipAssetRegistryClient.isRegistered({id:ye(o)});case 1:if(p=N.v,p){N.n=2;break}throw new Error("Group IP ".concat(o," is not registered."));case 2:return f=new Ls(this.rpcClient,this.wallet,o),N.n=3,f.state();case 3:return h=N.v,y=h.result,N.n=4,this.rpcClient.getBlock();case 4:return m=N.v.timestamp,g=z0(m,d),N.n=5,wh({ipId:o,deadline:g,state:y,wallet:this.wallet,chainId:this.chainId,permissions:[{ipId:o,signer:ye(this.groupingWorkflowsClient.address),to:ye(this.groupingModuleClient.address),permission:cr.ALLOW,func:ur(Tr,"addIp")}]});case 5:if(v=N.v,b=v.signature,w=K(K({},s),{},{allowDuplicates:s.allowDuplicates||!0,spgNftContract:ye(u),recipient:ye(l||this.wallet.account.address),maxAllowedRewardShare:BigInt(qa((i=s.maxAllowedRewardShare)!==null&&i!==void 0?i:100,Xl.MAX_ALLOWED_REWARD_SHARE)),licensesData:this.getLicenseData(s.licenseData),ipMetadata:Hl(s.ipMetadata),sigAddToGroup:{signer:ye(this.wallet.account.address),deadline:g,signature:b}}),!((a=s.txOptions)!==null&&a!==void 0&&a.encodedTxDataOnly)){N.n=6;break}return N.a(2,{encodedTxData:this.groupingWorkflowsClient.mintAndRegisterIpAndAttachLicenseAndAddToGroupEncode(w)});case 6:return N.n=7,this.groupingWorkflowsClient.mintAndRegisterIpAndAttachLicenseAndAddToGroup(w);case 7:return A=N.v,N.n=8,this.rpcClient.waitForTransactionReceipt(K(K({},s.txOptions),{},{hash:A}));case 8:return I=N.v,C=this.ipAssetRegistryClient.parseTxIpRegisteredEvent(I)[0],N.a(2,{txHash:A,ipId:C.ipId,tokenId:C.tokenId});case 9:N.n=11;break;case 10:return N.p=10,E=N.v,N.a(2,Ve(E,"Failed to mint and register IP and attach license and add to group"));case 11:return N.a(2)}},r,this,[[0,10]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"registerIpAndAttachLicenseAndAddToGroup",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p,f,h,y,m,g,v,b,w,A,I,C;return D().w(function(E){for(;;)switch(E.p=E.n){case 0:return E.p=0,E.n=1,this.ipAssetRegistryClient.ipId({chainId:BigInt(this.chainId),tokenContract:ye(s.nftContract),tokenId:BigInt(s.tokenId)});case 1:return o=E.v,E.n=2,this.ipAssetRegistryClient.isRegistered({id:ye(s.groupId)});case 2:if(l=E.v,l){E.n=3;break}throw new Error("Group IP ".concat(s.groupId," is not registered."));case 3:return u=new Ls(this.rpcClient,this.wallet,s.groupId),E.n=4,u.state();case 4:return d=E.v,p=d.result,E.n=5,this.rpcClient.getBlock();case 5:return f=E.v.timestamp,h=z0(f,s.deadline),E.n=6,wh({ipId:s.groupId,deadline:h,state:p,wallet:this.wallet,chainId:this.chainId,permissions:[{ipId:s.groupId,signer:this.groupingWorkflowsClient.address,to:this.groupingModuleClient.address,permission:cr.ALLOW,func:ur(Tr,"addIp")}]});case 6:return y=E.v,m=y.signature,E.n=7,wh({ipId:o,deadline:h,state:va(0,{size:32}),wallet:this.wallet,chainId:this.chainId,permissions:[{ipId:o,signer:this.groupingWorkflowsClient.address,to:ye(this.coreMetadataModuleClient.address),permission:cr.ALLOW,func:ur(jt,"setAll")},{ipId:o,signer:this.groupingWorkflowsClient.address,to:ye(this.licensingModuleClient.address),permission:cr.ALLOW,func:ur(gn,"attachLicenseTerms")},{ipId:o,signer:this.groupingWorkflowsClient.address,to:this.licensingModuleClient.address,permission:cr.ALLOW,func:ur(gn,"setLicensingConfig")}]});case 7:if(g=E.v,v=g.signature,b={nftContract:s.nftContract,groupId:s.groupId,licensesData:this.getLicenseData(s.licenseData),ipMetadata:Hl(s.ipMetadata),tokenId:BigInt(s.tokenId),maxAllowedRewardShare:BigInt(qa((i=s.maxAllowedRewardShare)!==null&&i!==void 0?i:100,Xl.MAX_ALLOWED_REWARD_SHARE)),sigAddToGroup:{signer:ye(this.wallet.account.address),deadline:h,signature:m},sigMetadataAndAttachAndConfig:{signer:this.wallet.account.address,deadline:h,signature:v}},!((a=s.txOptions)!==null&&a!==void 0&&a.encodedTxDataOnly)){E.n=8;break}return E.a(2,{encodedTxData:this.groupingWorkflowsClient.registerIpAndAttachLicenseAndAddToGroupEncode(b)});case 8:return E.n=9,this.groupingWorkflowsClient.registerIpAndAttachLicenseAndAddToGroup(b);case 9:return w=E.v,E.n=10,this.rpcClient.waitForTransactionReceipt(K(K({},s.txOptions),{},{hash:w}));case 10:return A=E.v,I=this.ipAssetRegistryClient.parseTxIpRegisteredEvent(A)[0],E.a(2,{txHash:w,ipId:I.ipId,tokenId:I.tokenId});case 11:return E.p=11,C=E.v,E.a(2,Ve(C,"Failed to register IP and attach license and add to group"))}},r,this,[[0,11]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"registerGroupAndAttachLicense",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d;return D().w(function(p){for(;;)switch(p.p=p.n){case 0:if(p.p=0,a={groupPool:ye(s.groupPool),licenseData:this.getLicenseData(s.licenseData)[0]},!((i=s.txOptions)!==null&&i!==void 0&&i.encodedTxDataOnly)){p.n=1;break}return p.a(2,{encodedTxData:this.groupingWorkflowsClient.registerGroupAndAttachLicenseEncode(a)});case 1:return p.n=2,this.groupingWorkflowsClient.registerGroupAndAttachLicense(a);case 2:return o=p.v,p.n=3,this.rpcClient.waitForTransactionReceipt(K(K({},s.txOptions),{},{hash:o}));case 3:return l=p.v,u=this.groupingModuleEventClient.parseTxIpGroupRegisteredEvent(l)[0].groupId,p.a(2,{txHash:o,groupId:u});case 4:return p.p=4,d=p.v,p.a(2,Ve(d,"Failed to register group and attach license"))}},r,this,[[0,4]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"registerGroupAndAttachLicenseAndAddIps",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p,f,h,y,m;return D().w(function(g){for(;;)switch(g.p=g.n){case 0:g.p=0,o={groupPool:ye(s.groupPool),ipIds:s.ipIds,licenseData:this.getLicenseData(s.licenseData)[0],maxAllowedRewardShare:BigInt(qa((i=s.maxAllowedRewardShare)!==null&&i!==void 0?i:100,Xl.MAX_ALLOWED_REWARD_SHARE))},l=0;case 1:if(!(l<s.ipIds.length)){g.n=4;break}return g.n=2,this.ipAssetRegistryClient.isRegistered({id:ye(s.ipIds[l])});case 2:if(u=g.v,u){g.n=3;break}throw new Error("IP ".concat(s.ipIds[l]," is not registered."));case 3:l++,g.n=1;break;case 4:d=0;case 5:if(!(d<s.ipIds.length)){g.n=8;break}return g.n=6,this.licenseRegistryReadOnlyClient.hasIpAttachedLicenseTerms({ipId:s.ipIds[d],licenseTemplate:o.licenseData.licenseTemplate,licenseTermsId:o.licenseData.licenseTermsId});case 6:if(p=g.v,p){g.n=7;break}throw new Error("License terms must be attached to IP ".concat(s.ipIds[d]," before adding to group."));case 7:d++,g.n=5;break;case 8:if(!((a=s.txOptions)!==null&&a!==void 0&&a.encodedTxDataOnly)){g.n=9;break}return g.a(2,{encodedTxData:this.groupingWorkflowsClient.registerGroupAndAttachLicenseAndAddIpsEncode(o)});case 9:return g.n=10,this.groupingWorkflowsClient.registerGroupAndAttachLicenseAndAddIps(o);case 10:return f=g.v,g.n=11,this.rpcClient.waitForTransactionReceipt(K(K({},s.txOptions),{},{hash:f}));case 11:return h=g.v,y=this.groupingModuleEventClient.parseTxIpGroupRegisteredEvent(h)[0].groupId,g.a(2,{txHash:f,groupId:y});case 12:return g.p=12,m=g.v,g.a(2,Ve(m,"Failed to register group and attach license and add ips"))}},r,this,[[0,12]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"collectAndDistributeGroupRoyalties",value:function(){var e=W(D().m(function r(s){var i=this,a,o,l,u,d,p,f,h,y,m,g,v;return D().w(function(b){for(;;)switch(b.p=b.n){case 0:if(a=s.groupIpId,o=s.currencyTokens,l=s.memberIpIds,u=s.txOptions,b.p=1,o.length){b.n=2;break}throw new Error("At least one currency token is required.");case 2:if(l.length){b.n=3;break}throw new Error("At least one member IP ID is required.");case 3:if(!o.some(function(w){return w===$t})){b.n=4;break}throw new Error("Currency token cannot be the zero address.");case 4:return d={groupIpId:ye(a),currencyTokens:ca(o),memberIpIds:ca(l)},b.n=5,this.ipAssetRegistryClient.isRegistered({id:d.groupIpId});case 5:if(p=b.v,p){b.n=6;break}throw new Error("The group IP with ID ".concat(d.groupIpId," is not registered."));case 6:return b.n=7,Promise.all(d.memberIpIds.map(function(){var w=W(D().m(function A(I){var C;return D().w(function(E){for(;;)switch(E.n){case 0:return E.n=1,i.ipAssetRegistryClient.isRegistered({id:I});case 1:if(C=E.v,C){E.n=2;break}throw new Error("Member IP with ID ".concat(I," is not registered ."));case 2:return E.a(2)}},A)}));return function(A){return w.apply(this,arguments)}}()));case 7:return b.n=8,this.groupingWorkflowsClient.collectRoyaltiesAndClaimReward(d);case 8:return f=b.v,b.n=9,ts({txHash:f,txOptions:u,rpcClient:this.rpcClient});case 9:if(h=b.v,y=h.receipt,y){b.n=10;break}return b.a(2,{txHash:f});case 10:return m=this.groupingModuleEventClient.parseTxCollectedRoyaltiesToGroupPoolEvent(y).map(function(w){var A=w.groupId,I=w.amount,C=w.token;return{groupId:A,amount:I,token:C}}),g=this.royaltyModuleEventClient.parseTxRoyaltyPaidEvent(y).map(function(w){var A=w.receiverIpId,I=w.amount,C=w.token,E=w.amountAfterFee;return{ipId:A,amount:I,token:C,amountAfterFee:E}}),b.a(2,{txHash:f,collectedRoyalties:m,royaltiesDistributed:g});case 11:return b.p=11,v=b.v,b.a(2,Ve(v,"Failed to collect and distribute group royalties"))}},r,this,[[1,11]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"addIpsToGroup",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p;return D().w(function(f){for(;;)switch(f.p=f.n){case 0:return i=s.groupIpId,a=s.ipIds,o=s.maxAllowedRewardSharePercentage,l=s.txOptions,f.p=1,u={groupIpId:ye(i),ipIds:ca(a),maxAllowedRewardShare:BigInt(qa(o??100,Xl.MAX_ALLOWED_REWARD_SHARE_PERCENTAGE))},f.n=2,this.groupingModuleClient.addIp(u);case 2:return d=f.v,f.n=3,ts({txHash:d,txOptions:l,rpcClient:this.rpcClient});case 3:return f.a(2,f.v);case 4:return f.p=4,p=f.v,f.a(2,Ve(p,"Failed to add IP to group"))}},r,this,[[1,4]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"getClaimableReward",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u;return D().w(function(d){for(;;)switch(d.p=d.n){case 0:return i=s.groupIpId,a=s.currencyToken,o=s.memberIpIds,d.p=1,d.n=2,this.groupingModuleClient.getClaimableReward({groupId:ye(i),ipIds:ca(o),token:ye(a)});case 2:return l=d.v,d.a(2,l);case 3:return d.p=3,u=d.v,d.a(2,Ve(u,"Failed to get claimable reward"))}},r,this,[[1,3]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"removeIpsFromGroup",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d;return D().w(function(p){for(;;)switch(p.p=p.n){case 0:return i=s.groupIpId,a=s.ipIds,o=s.txOptions,p.p=1,l={groupIpId:ye(i),ipIds:ca(a)},p.n=2,this.groupingModuleClient.removeIp(l);case 2:return u=p.v,p.n=3,ts({txHash:u,txOptions:o,rpcClient:this.rpcClient});case 3:return p.a(2,p.v);case 4:return p.p=4,d=p.v,p.a(2,Ve(d,"Failed to remove IPs from group"))}},r,this,[[1,4]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"claimReward",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p,f,h,y;return D().w(function(m){for(;;)switch(m.p=m.n){case 0:return i=s.groupIpId,a=s.currencyToken,o=s.memberIpIds,l=s.txOptions,m.p=1,u={groupId:ye(i),ipIds:ca(o),token:ye(a)},m.n=2,this.groupingModuleClient.claimReward(u);case 2:return d=m.v,m.n=3,ts({txHash:d,txOptions:l,rpcClient:this.rpcClient});case 3:if(p=m.v,f=p.receipt,f){m.n=4;break}return m.a(2,{txHash:d});case 4:return h=this.groupingModuleEventClient.parseTxClaimedRewardEvent(f),m.a(2,{txHash:d,claimedReward:h});case 5:return m.p=5,y=m.v,m.a(2,Ve(y,"Failed to claim reward"))}},r,this,[[1,5]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"collectRoyalties",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p,f,h;return D().w(function(y){for(;;)switch(y.p=y.n){case 0:return i=s.groupIpId,a=s.currencyToken,o=s.txOptions,y.p=1,l={groupId:ye(i),token:ye(a)},y.n=2,this.groupingModuleClient.collectRoyalties(l);case 2:return u=y.v,y.n=3,ts({txHash:u,txOptions:o,rpcClient:this.rpcClient});case 3:if(d=y.v,p=d.receipt,p){y.n=4;break}return y.a(2,{txHash:u});case 4:return f=this.groupingModuleEventClient.parseTxCollectedRoyaltiesToGroupPoolEvent(p)[0].amount,y.a(2,{txHash:u,collectedRoyalties:f});case 5:return y.p=5,h=y.v,y.a(2,Ve(h,"Failed to collect royalties"))}},r,this,[[1,5]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"getLicenseData",value:function(n){var r=this,s=Array.isArray(n);if(s&&n.length===0||!n)throw new Error("License data is required.");var i=s?n:[n];return i.map(function(a){return{licenseTemplate:ye(a.licenseTemplate||r.licenseTemplateClient.address),licenseTermsId:BigInt(a.licenseTermsId),licensingConfig:cP(a.licensingConfig)}})}}])}(),VPe=function(){function t(e,n,r){et(this,t),this.wallet=n,this.rpcClient=e,this.chainId=r,this.wrappedIpClient=new df(e,n),this.erc20Client=new kZ(e,n)}return tt(t,[{key:"execute",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u;return D().w(function(d){for(;;)switch(d.p=d.n){case 0:if(d.p=0,a=new Ls(this.rpcClient,this.wallet,ye(s.ipId)),o={to:s.to,value:BigInt(0),data:s.data},!((i=s.txOptions)!==null&&i!==void 0&&i.encodedTxDataOnly)){d.n=1;break}return d.a(2,{encodedTxData:a.executeEncode(K(K({},o),{},{operation:0}))});case 1:return d.n=2,a.execute(K(K({},o),{},{operation:0}));case 2:return l=d.v,d.n=3,this.rpcClient.waitForTransactionReceipt(K(K({},s.txOptions),{},{hash:l}));case 3:return d.a(2,{txHash:l});case 4:d.n=6;break;case 5:return d.p=5,u=d.v,d.a(2,Ve(u,"Failed to execute the IP Account transaction"));case 6:return d.a(2)}},r,this,[[0,5]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"executeWithSig",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u;return D().w(function(d){for(;;)switch(d.p=d.n){case 0:if(d.p=0,a=new Ls(this.rpcClient,this.wallet,ye(s.ipId)),o={to:ye(s.to),value:BigInt(s.value||0),data:s.data,signer:ye(s.signer),deadline:BigInt(s.deadline),signature:s.signature},!((i=s.txOptions)!==null&&i!==void 0&&i.encodedTxDataOnly)){d.n=1;break}return d.a(2,{encodedTxData:a.executeWithSigEncode(o)});case 1:return d.n=2,a.executeWithSig(o);case 2:return l=d.v,d.n=3,this.rpcClient.waitForTransactionReceipt(K(K({},s.txOptions),{},{hash:l}));case 3:return d.a(2,{txHash:l});case 4:d.n=6;break;case 5:return d.p=5,u=d.v,d.a(2,Ve(u,"Failed to execute with signature for the IP Account transaction"));case 6:return d.a(2)}},r,this,[[0,5]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"getIpAccountNonce",value:function(){var e=W(D().m(function r(s){var i,a,o,l;return D().w(function(u){for(;;)switch(u.p=u.n){case 0:return u.p=0,i=new Ls(this.rpcClient,this.wallet,ye(s)),u.n=1,i.state();case 1:return a=u.v,o=a.result,u.a(2,o);case 2:return u.p=2,l=u.v,u.a(2,Ve(l,"Failed to get the IP Account nonce"))}},r,this,[[0,2]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"getToken",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p;return D().w(function(f){for(;;)switch(f.p=f.n){case 0:return f.p=0,i=new Ls(this.rpcClient,this.wallet,ye(s)),f.n=1,i.token();case 1:return a=f.v,o=tN(a,3),l=o[0],u=o[1],d=o[2],f.a(2,{chainId:l,tokenContract:u,tokenId:d});case 2:return f.p=2,p=f.v,f.a(2,Ve(p,"Failed to get the token"))}},r,this,[[0,2]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"setIpMetadata",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p,f;return D().w(function(h){for(;;)switch(h.p=h.n){case 0:return i=s.ipId,a=s.metadataURI,o=s.metadataHash,l=s.txOptions,h.p=1,u=ke({abi:jt,functionName:"setMetadataURI",args:[ye(i),a,o]}),h.n=2,this.execute({ipId:i,to:QM[this.chainId],data:u,value:0,txOptions:K(K({},l),{},{encodedTxDataOnly:!1})});case 2:return d=h.v,p=d.txHash,h.a(2,p);case 3:return h.p=3,f=h.v,h.a(2,Ve(f,"Failed to set the IP metadata"))}},r,this,[[1,3]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"transferErc20",value:function(){var e=W(D().m(function r(s){var i=this,a,o,l,u,d,p,f;return D().w(function(h){for(;;)switch(h.p=h.n){case 0:return a=s.ipId,o=s.tokens,l=s.txOptions,h.p=1,u=new Ls(this.rpcClient,this.wallet,ye(a)),d=o.map(function(y){var m=y.address,g=y.target,v=y.amount,b;return ye(m)===Pi?b=i.wrappedIpClient.transferEncode({to:ye(g),amount:BigInt(v)}).data:b=i.erc20Client.transferEncode({to:ye(g),value:BigInt(v)}).data,{target:m,data:b,value:0n}}),h.n=2,u.executeBatch({calls:d,operation:0});case 2:return p=h.v,h.a(2,ts({txHash:p,txOptions:l,rpcClient:this.rpcClient}));case 3:return h.p=3,f=h.v,h.a(2,Ve(f,"Failed to transfer Erc20"))}},r,this,[[1,3]])}));function n(r){return e.apply(this,arguments)}return n}()}])}(),Bn=function(t){return t.REGISTER_IP_AND_MAKE_DERIVATIVE_AND_DEPLOY_ROYALTY_VAULT="registerIpAndMakeDerivativeAndDeployRoyaltyVault",t.DISTRIBUTE_ROYALTY_TOKENS="distributeRoyaltyTokens",t.REGISTER_DERIVATIVE_IP="registerDerivativeIp",t.REGISTER_IP_AND_ATTACH_PIL_TERMS_AND_DEPLOY_ROYALTY_VAULT="registerIpAndAttachPilTermsAndDeployRoyaltyVault",t.REGISTER_IP_AND_ATTACH_PIL_TERMS="registerIpAndAttachPilTerms",t.REGISTER_IP_AND_MAKE_DERIVATIVE_WITH_LICENSE_TOKENS="registerIpAndMakeDerivativeWithLicenseTokens",t.REGISTER_PIL_TERMS_AND_ATTACH="registerPilTermsAndAttach",t.REGISTER="register",t.BATCH_REGISTER_DERIVATIVE="batchRegisterDerivative",t}({}),$Z=function(){var t=W(D().m(function e(n){var r,s,i,a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return r=n.predictMintingFeeRequest,s=n.rpcClient,i=n.chainId,a=n.walletAddress,l.n=1,s.readContract({abi:gn,address:eP[i],functionName:"predictMintingLicenseFee",args:[r.licensorIpId,r.licenseTemplate,r.licenseTermsId,r.amount,r.receiver,r.royaltyContext],account:a});case 1:return o=l.v,l.a(2,{currencyToken:o[0],tokenAmount:o[1]})}},e)}));return function(n){return t.apply(this,arguments)}}(),uP=function(){var t=W(D().m(function e(n){var r,s,i,a,o,l,u,d,p;return D().w(function(f){for(;;)switch(f.n){case 0:r=n.derivData,s=n.rpcClient,i=n.chainId,a=n.wallet,o=n.sender,l=o||a.account.address,u=[],d=0;case 1:if(!(d<r.parentIpIds.length)){f.n=4;break}return f.n=2,FZ({predictMintingFeeRequest:{licensorIpId:r.parentIpIds[d],licenseTemplate:r.licenseTemplate,licenseTermsId:r.licenseTermsIds[d],receiver:l,amount:1n,royaltyContext:$t},rpcClient:s,chainId:i,walletAddress:l});case 2:p=f.v,p.amount>0n&&u.push(p);case 3:d++,f.n=1;break;case 4:return f.a(2,u)}},e)}));return function(n){return t.apply(this,arguments)}}(),FZ=function(){var t=W(D().m(function e(n){var r,s,i,a,o,l,u;return D().w(function(d){for(;;)switch(d.n){case 0:return r=n.predictMintingFeeRequest,s=n.rpcClient,i=n.chainId,a=n.walletAddress,d.n=1,$Z({predictMintingFeeRequest:r,rpcClient:s,chainId:i,walletAddress:a});case 1:return o=d.v,l=o.currencyToken,u=o.tokenAmount,d.a(2,{token:l,amount:u})}},e)}));return function(n){return t.apply(this,arguments)}}(),aN=function(){var t=W(D().m(function e(n){var r,s;return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,n.mintFeeToken();case 1:return r=i.v,i.n=2,n.mintFee();case 2:if(s=i.v,!(s>0n)){i.n=3;break}return i.a(2,{token:r,amount:s});case 3:return i.a(2)}},e)}));return function(n){return t.apply(this,arguments)}}(),oc=function(){var t=W(D().m(function e(n){var r,s,i,a,o,l,u,d,p,f,h,y,m,g,v,b,w,A,I,C,E,N;return D().w(function(_){for(;;)switch(_.n){case 0:if(r=n.deadline,s=n.ipIdAddress,i=n.methodType,a=n.ipRoyaltyVault,o=n.totalAmount,l=n.state,u=n.encodeData,d=n.wallet,p=n.chainId,f={ipId:s,deadline:r,state:va(0,{size:32}),wallet:d,chainId:S2[p]},!(i===Bn.DISTRIBUTE_ROYALTY_TOKENS&&(!a||!l||!o||!u))){_.n=1;break}throw new Error("ipRoyaltyVault, state, totalAmount, and encodeData are required for distributing royalty tokens.");case 1:if(!(i===Bn.REGISTER_PIL_TERMS_AND_ATTACH&&!l)){_.n=2;break}throw new Error("State is required for registering PIL terms and attaching.");case 2:if(!(i===Bn.BATCH_REGISTER_DERIVATIVE&&(!l||!u))){_.n=3;break}throw new Error("State and encodeData are required for batch registering derivative.");case 3:if(h=I1[p],y=QM[p],m=eP[p],g=gZ[p],v=vZ[p],b=wZ[p],w=ln(ln(ln(ln(ln(ln(ln(ln(ln({},Bn.REGISTER_IP_AND_MAKE_DERIVATIVE_AND_DEPLOY_ROYALTY_VAULT,K(K({},f),{},{permissions:[{ipId:s,signer:h,to:y,permission:cr.ALLOW,func:ur(jt,"setAll")},{ipId:s,signer:h,to:m,permission:cr.ALLOW,func:ur(gn,"registerDerivative")}]})),Bn.DISTRIBUTE_ROYALTY_TOKENS,K(K({},f),{},{verifyingContract:s,deadline:r,state:l,to:a,encodeData:u})),Bn.REGISTER_DERIVATIVE_IP,K(K({},f),{},{permissions:[{ipId:s,signer:g,to:y,permission:cr.ALLOW,func:ur(jt,"setAll")},{ipId:s,signer:g,to:m,permission:cr.ALLOW,func:ur(gn,"registerDerivative")}]})),Bn.REGISTER_IP_AND_ATTACH_PIL_TERMS_AND_DEPLOY_ROYALTY_VAULT,K(K({},f),{},{permissions:[{ipId:s,signer:h,to:y,permission:cr.ALLOW,func:ur(jt,"setAll")},{ipId:s,signer:h,to:m,permission:cr.ALLOW,func:ur(gn,"attachLicenseTerms")},{ipId:s,signer:h,to:m,permission:cr.ALLOW,func:ur(gn,"setLicensingConfig")}]})),Bn.REGISTER_IP_AND_ATTACH_PIL_TERMS,K(K({},f),{},{permissions:[{ipId:s,signer:v,to:y,permission:cr.ALLOW,func:ur(jt,"setAll")},{ipId:s,signer:v,to:m,permission:cr.ALLOW,func:ur(gn,"attachLicenseTerms")},{ipId:s,signer:v,to:m,permission:cr.ALLOW,func:ur(gn,"setLicensingConfig")}]})),Bn.REGISTER_IP_AND_MAKE_DERIVATIVE_WITH_LICENSE_TOKENS,K(K({},f),{},{permissions:[{ipId:s,signer:g,to:y,permission:cr.ALLOW,func:ur(jt,"setAll")},{ipId:s,signer:g,to:m,permission:cr.ALLOW,func:ur(gn,"registerDerivativeWithLicenseTokens")}]})),Bn.REGISTER_PIL_TERMS_AND_ATTACH,K(K({},f),{},{state:l,permissions:[{ipId:s,signer:v,to:m,permission:cr.ALLOW,func:ur(gn,"attachLicenseTerms")},{ipId:s,signer:v,to:m,permission:cr.ALLOW,func:ur(gn,"setLicensingConfig")}]})),Bn.REGISTER,K(K({},f),{},{permissions:[{ipId:s,signer:b,to:y,permission:cr.ALLOW,func:ur(jt,"setAll")}]})),Bn.BATCH_REGISTER_DERIVATIVE,K(K({},f),{},{state:l,to:m,encodeData:u,verifyingContract:s})),A=w[i],!((i===Bn.DISTRIBUTE_ROYALTY_TOKENS||i===Bn.BATCH_REGISTER_DERIVATIVE)&&A)){_.n=5;break}return _.n=4,OZ(A);case 4:return I=_.v,C=I.signature,_.a(2,C);case 5:return _.n=6,wh(A);case 6:return E=_.v,N=E.signature,_.a(2,N);case 7:return _.a(2)}},e)}));return function(n){return t.apply(this,arguments)}}(),ho,P2={NCSR:"https://github.com/piplabs/pil-document/blob/998c13e6ee1d04eb817aefd1fe16dfe8be3cd7a2/off-chain-terms/NCSR.json",COMMERCIAL_USE:"https://github.com/piplabs/pil-document/blob/9a1f803fcf8101a8a78f1dcc929e6014e144ab56/off-chain-terms/CommercialUse.json",COMMERCIAL_REMIX:"https://github.com/piplabs/pil-document/blob/ad67bb632a310d2557f8abcccd428e4c9c798db1/off-chain-terms/CommercialRemix.json",CC_BY:"https://github.com/piplabs/pil-document/blob/998c13e6ee1d04eb817aefd1fe16dfe8be3cd7a2/off-chain-terms/CC-BY.json"},j2={transferable:!0,royaltyPolicy:$t,defaultMintingFee:0n,expiration:0n,commercializerChecker:$t,commercializerCheckerData:$t,commercialRevShare:0,commercialRevCeiling:0n,derivativeRevCeiling:0n,currency:$t},Nr=tt(function t(){et(this,t)});ho=Nr;ln(Nr,"_nonComSocialRemixingPIL",K(K({},j2),{},{commercialUse:!1,commercialAttribution:!1,derivativesAllowed:!0,derivativesAttribution:!0,derivativesApproval:!1,derivativesReciprocal:!0,uri:P2.NCSR}));ln(Nr,"_commercialUse",K(K({},j2),{},{commercialUse:!0,commercialAttribution:!0,derivativesAllowed:!1,derivativesAttribution:!1,derivativesApproval:!1,derivativesReciprocal:!1,uri:P2.COMMERCIAL_USE}));ln(Nr,"_commercialRemix",K(K({},j2),{},{commercialUse:!0,commercialAttribution:!0,derivativesAllowed:!0,derivativesAttribution:!0,derivativesApproval:!1,derivativesReciprocal:!0,uri:P2.COMMERCIAL_REMIX}));ln(Nr,"_creativeCommonsAttribution",K(K({},j2),{},{commercialUse:!0,commercialAttribution:!0,derivativesAllowed:!0,derivativesAttribution:!0,derivativesApproval:!1,derivativesReciprocal:!0,uri:P2.CC_BY}));ln(Nr,"nonCommercialSocialRemixing",function(t){return ho.validateLicenseTerms(K(K({},ho._nonComSocialRemixingPIL),t==null?void 0:t.override),t==null?void 0:t.chainId)});ln(Nr,"commercialUse",function(t){var e=t.defaultMintingFee,n=t.currency,r=t.royaltyPolicy,s=t.chainId,i=t.override;return ho.validateLicenseTerms(K(K({},ho._commercialUse),{},{defaultMintingFee:e,currency:n,royaltyPolicy:r},i),s)});ln(Nr,"commercialRemix",function(t){var e=t.defaultMintingFee,n=t.royaltyPolicy,r=t.currency,s=t.commercialRevShare,i=t.chainId,a=t.override;return ho.validateLicenseTerms(K(K({},ho._commercialRemix),{},{commercialRevShare:s,defaultMintingFee:e,currency:r,royaltyPolicy:n},a),i)});ln(Nr,"creativeCommonsAttribution",function(t){var e=t.royaltyPolicy,n=t.currency,r=t.chainId,s=t.override;return ho.validateLicenseTerms(K(K({},ho._creativeCommonsAttribution),{},{currency:n,royaltyPolicy:e},s),r)});ln(Nr,"validateLicenseTerms",function(t,e){var n=K(K({},t),{},{defaultMintingFee:BigInt(t.defaultMintingFee),expiration:BigInt(t.expiration),commercialRevCeiling:BigInt(t.commercialRevCeiling),derivativeRevCeiling:BigInt(t.derivativeRevCeiling),royaltyPolicy:LZ(t.royaltyPolicy,e)}),r=n.royaltyPolicy,s=n.currency;if(r!==$t&&s===$t)throw new np("Royalty policy requires currency token.");if(n.defaultMintingFee<0n)throw new np("DefaultMintingFee should be greater than or equal to 0.");if(n.defaultMintingFee>0n&&n.royaltyPolicy===$t)throw new np("Royalty policy is required when defaultMintingFee is greater than 0.");if(ho.verifyCommercialUse(n),ho.verifyDerivatives(n),n.commercialRevShare>100||n.commercialRevShare<0)throw new np("commercialRevShare must be between 0 and 100.");return n});ln(Nr,"verifyCommercialUse",function(t){if(t.commercialUse){if(t.royaltyPolicy===$t)throw new np("Royalty policy is required when commercial use is enabled.")}else for(var e=[{field:"commercialAttribution",value:t.commercialAttribution},{field:"commercializerChecker",value:t.commercializerChecker!==$t},{field:"commercialRevShare",value:t.commercialRevShare>0},{field:"commercialRevCeiling",value:t.commercialRevCeiling>0n},{field:"derivativeRevCeiling",value:t.derivativeRevCeiling>0n},{field:"royaltyPolicy",value:t.royaltyPolicy!==$t}],n=0,r=e;n<r.length;n++){var s=r[n],i=s.field,a=s.value;if(a)throw new np("Cannot add ".concat(i," when commercial use is disabled."))}});ln(Nr,"verifyDerivatives",function(t){if(!t.derivativesAllowed)for(var e=[{field:"derivativesAttribution",value:t.derivativesAttribution},{field:"derivativesApproval",value:t.derivativesApproval},{field:"derivativesReciprocal",value:t.derivativesReciprocal},{field:"derivativeRevCeiling",value:t.derivativeRevCeiling>0n}],n=0,r=e;n<r.length;n++){var s=r[n],i=s.field,a=s.value;if(a)throw new np("Cannot add ".concat(i," when derivative use is disabled."))}});function dP(t){if(t!=null){var e=t[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],n=0;if(e)return e.call(t);if(typeof t.next=="function")return t;if(!isNaN(t.length))return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}throw new TypeError(typeof t+" is not iterable")}function HPe(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function s(){for(;n.length;)if((r=n.pop())in e)return s.value=r,s.done=!1,s;return s.done=!0,s}}var oN=function(){var t=W(D().m(function e(n,r){var s;return D().w(function(i){for(;;)switch(i.n){case 0:return s=new rl(r,n),i.n=1,s.publicMinting();case 1:return i.a(2,i.v)}},e)}));return function(n,r){return t.apply(this,arguments)}}(),xh=function(){var t=W(D().m(function e(n,r,s){var i,a,o,l,u,d,p,f,h,y;return D().w(function(m){for(;;)switch(m.n){case 0:i=[],a=[],o=[],l=0;case 1:if(!(l<n.length)){m.n=10;break}if(u=Nr.validateLicenseTerms(n[l].terms,s),u.commercialRevShare=qa(u.commercialRevShare),d=new RZ(r),ye(u.royaltyPolicy)===$t){m.n=3;break}return m.n=2,d.isWhitelistedRoyaltyPolicy({royaltyPolicy:u.royaltyPolicy});case 2:if(p=m.v,p){m.n=3;break}throw new Error("The royalty policy ".concat(u.royaltyPolicy," is not whitelisted."));case 3:if(ye(u.currency)===$t){m.n=5;break}return m.n=4,d.isWhitelistedRoyaltyToken({token:u.currency});case 4:if(f=m.v,f){m.n=5;break}throw new Error("The currency token ".concat(u.currency," is not whitelisted."));case 5:if(h=cP(n[l].licensingConfig),!(h.mintingFee>0&&u.royaltyPolicy===$t)){m.n=6;break}throw new Error("A royalty policy must be provided when the minting fee is greater than 0.");case 6:if(y=n[l].maxLicenseTokens,y===void 0){m.n=8;break}if(!(y<0)){m.n=7;break}throw new Error("The max license tokens must be greater than or equal to 0.");case 7:h.licensingHook=TZ[s],o[l]=BigInt(y);case 8:i.push(u),a.push({terms:u,licensingConfig:h});case 9:l++,m.n=1;break;case 10:return m.a(2,{licenseTerms:i,licenseTermsData:a,maxLicenseTokens:o})}},e)}));return function(n,r,s){return t.apply(this,arguments)}}(),V0=function(e){var n=0,r=0,s=e.map(function(i){if(i.percentage<=0)throw new Error("The percentage of the royalty shares must be greater than 0.");if(i.percentage>100)throw new Error("The percentage of the royalty shares must be less than or equal to 100.");if(r+=i.percentage,r>100)throw new Error("The sum of the royalty shares cannot exceeds 100.");var a=Math.trunc(i.percentage*Math.pow(10,6));return n+=a,K(K({},i),{},{percentage:a})});return{royaltyShares:s,totalAmount:Math.trunc(n)}},pP=function(){var t=W(D().m(function e(n){var r,s,i,a,o,l,u,d,p,f,h,y,m,g,v,b;return D().w(function(w){for(;;)switch(w.n){case 0:if(i=n.derivativeDataInput,a=n.rpcClient,o=n.wallet,l=n.chainId,u=bZ[l],d=new uf(a,o),p=new C2(a),f={parentIpIds:i.parentIpIds,licenseTermsIds:i.licenseTermsIds.map(function(A){return BigInt(A)}),licenseTemplate:ye(i.licenseTemplate||u),royaltyContext:$t,maxMintingFee:BigInt((r=i.maxMintingFee)!==null&&r!==void 0?r:0),maxRts:Ly(i.maxRts),maxRevenueShare:qa((s=i.maxRevenueShare)!==null&&s!==void 0?s:100,Xl.MAX_REVENUE_SHARE)},f.parentIpIds.length!==0){w.n=1;break}throw new Error("The parent IP IDs must be provided.");case 1:if(f.licenseTermsIds.length!==0){w.n=2;break}throw new Error("The license terms IDs must be provided.");case 2:if(f.parentIpIds.length===f.licenseTermsIds.length){w.n=3;break}throw new Error("The number of parent IP IDs must match the number of license terms IDs.");case 3:if(!(f.maxMintingFee<0)){w.n=4;break}throw new Error("The maxMintingFee must be greater than 0.");case 4:h=0;case 5:if(!(h<f.parentIpIds.length)){w.n=12;break}return y=f.parentIpIds[h],w.n=6,d.isRegistered({id:ye(y)});case 6:if(m=w.v,m){w.n=7;break}throw new Error("The parent IP with id ".concat(y," is not registered."));case 7:return w.n=8,p.hasIpAttachedLicenseTerms({ipId:y,licenseTemplate:f.licenseTemplate,licenseTermsId:f.licenseTermsIds[h]});case 8:if(g=w.v,g){w.n=9;break}throw new Error("License terms id ".concat(f.licenseTermsIds[h]," must be attached to the parent ipId ").concat(f.parentIpIds[h]," before registering derivative."));case 9:return w.n=10,p.getRoyaltyPercent({ipId:y,licenseTemplate:f.licenseTemplate,licenseTermsId:f.licenseTermsIds[h]});case 10:if(v=w.v,b=v.royaltyPercent,!(f.maxRevenueShare!==0&&b>f.maxRevenueShare)){w.n=11;break}throw new Error("The royalty percent for the parent IP with id ".concat(y," is greater than the maximum revenue share ").concat(f.maxRevenueShare,"."));case 11:h++,w.n=5;break;case 12:return w.a(2,f)}},e)}));return function(n){return t.apply(this,arguments)}}(),Ly=function(e){if(e===void 0)return mk;if(e<0||e>mk)throw new Error("The maxRts must be greater than 0 and less than ".concat(mk,"."));return e},_d=function(){var t=W(D().m(function e(n){var r,s,i,a,o,l,u;return D().w(function(d){for(;;)switch(d.n){case 0:return r=n.nftContract,s=n.tokenId,i=n.rpcClient,a=n.wallet,o=n.chainId,l=new uf(i,a),d.n=1,l.ipId({chainId:BigInt(S2[o]),tokenContract:ye(r),tokenId:BigInt(s)});case 1:return u=d.v,d.a(2,u)}},e)}));return function(n){return t.apply(this,arguments)}}(),Iu=function(){var t=W(D().m(function e(n,r){var s;return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,n.getBlock();case 1:return s=i.v.timestamp,i.a(2,z0(s,r))}},e)}));return function(n,r){return t.apply(this,arguments)}}(),lN=function(e,n){return!n||n.length===0?e:n.reduce(function(r,s){if(!s||!s.address)return r;var i=r.find(function(a){return a.address===s.address&&a.token===s.token});return i?i.amount=(i.amount||0n)+(s.amount||0n):r.push(K(K({},s),{},{amount:s.amount||0n})),r},ys(e))},WPe=function(){var t=W(D().m(function e(n,r,s){var i,a;return D().w(function(o){for(;;)switch(o.n){case 0:return i=new rl(r,n),a=va(1,{size:32}),o.n=1,i.hasRole({role:a,account:s});case 1:return o.a(2,o.v)}},e)}));return function(n,r,s){return t.apply(this,arguments)}}(),GPe=function(e,n,r){var s={},i=bt(e),a;try{var o=function(){var u,d=a.value,p=d.spenders,f=d.encodedTxData,h=d.workflowClient,y=d.isUseMulticall3,m=d.extraData,g=y;r&&(g=!1);var v=g?n:h.address;s[v]||(s[v]={spenders:[],encodedTxData:[],contractCall:[],extraData:[]});var b=s[v];b.spenders=lN(b.spenders,p||[]),b.encodedTxData=b.encodedTxData.concat(f),b.extraData=(u=b.extraData)===null||u===void 0?void 0:u.concat(m||void 0),y||r?b.contractCall=b.contractCall.concat(d.contractCall):b.contractCall=[function(){return h.multicall({data:b.encodedTxData.map(function(w){return w.data})})}]};for(i.s();!(a=i.n()).done;)o()}catch(l){i.e(l)}finally{i.f()}return s},I$=function(){var t=W(D().m(function e(n){var r,s,i,a,o,l,u,d,p,f,h,y,m;return D().w(function(g){for(;;)switch(g.n){case 0:s=n.transferWorkflowRequests,i=n.multicall3Address,a=n.options,o=n.rpcClient,l=n.wallet,u=n.walletAddress,d=GPe(s,i,(a==null||(r=a.wipOptions)===null||r===void 0?void 0:r.useMulticallWhenPossible)===!1),p=[],f=D().m(function v(){var b,w,A,I,C,E,N;return D().w(function(_){for(;;)switch(_.n){case 0:return b=d[h],w=b.spenders,A=b.encodedTxData,I=b.contractCall,C=function(){var U=W(D().m(function $(){var B,j,x,k,M,P;return D().w(function(S){for(;;)switch(S.p=S.n){case 0:B=[],j=bt(I),S.p=1,j.s();case 2:if((x=j.n()).done){S.n=5;break}return k=x.value,S.n=3,k();case 3:M=S.v,B.push(M);case 4:S.n=2;break;case 5:S.n=7;break;case 6:S.p=6,P=S.v,j.e(P);case 7:return S.p=7,j.f(),S.f(7);case 8:return S.a(2,B)}},$,null,[[1,6,7,8]])}));return function(){return U.apply(this,arguments)}}(),E=h===i,_.n=1,Uu({options:K(K({},a),{},{wipOptions:K(K({},a==null?void 0:a.wipOptions),{},{useMulticallWhenPossible:E})}),multicall3Address:i,rpcClient:o,tokenSpenders:w,contractCall:C,sender:u,wallet:l,encodedTxs:A});case 1:N=_.v,p.push.apply(p,ys(Array.isArray(N)?N:[N]));case 2:return _.a(2)}},v)}),y=HPe(d);case 1:if((m=y()).done){g.n=3;break}return h=m.value,g.d(dP(f()),2);case 2:g.n=1;break;case 3:return g.a(2,{response:p,aggregateRegistrationRequest:d})}},e)}));return function(n){return t.apply(this,arguments)}}(),Tl=function(){var t=W(D().m(function e(n){var r,s,i,a;return D().w(function(o){for(;;)switch(o.n){case 0:if(r=n.request,s=n.rpcClient,i=n.wallet,a=n.chainId,!("spgNftContract"in r)){o.n=1;break}return o.a(2,JPe({request:r,rpcClient:s,wallet:i,chainId:a}));case 1:if(!("nftContract"in r&&"tokenId"in r)){o.n=2;break}return o.a(2,KPe({request:r,rpcClient:s,wallet:i,chainId:a}));case 2:throw new Error("Invalid registration request type");case 3:return o.a(2)}},e)}));return function(n){return t.apply(this,arguments)}}(),KPe=function(){var t=W(D().m(function e(n){var r,s,i,a,o,l,u,d,p,f,h,y,m,g,v,b;return D().w(function(w){for(;;)switch(w.n){case 0:return r=n.request,s=n.rpcClient,i=n.wallet,a=n.chainId,w.n=1,_d({nftContract:ye(r.nftContract),tokenId:BigInt(r.tokenId),rpcClient:s,wallet:i,chainId:a});case 1:return o=w.v,l={nftContract:ye(r.nftContract),tokenId:BigInt(r.tokenId),ipMetadata:Hl(r.ipMetadata)},w.n=2,Iu(s,r.deadline);case 2:if(u=w.v,d=new N2(s,i),p=new k2(s,i),f=new nP(s,i),!("licenseTermsData"in r)){w.n=7;break}return w.n=3,xh(r.licenseTermsData,s,a);case 3:if(h=w.v,y=h.licenseTermsData,m=h.maxLicenseTokens,g=K(K({},l),{},{licenseTermsData:y}),!("royaltyShares"in r)){w.n=5;break}return w.n=4,qPe({request:g,royaltyTokenDistributionWorkflowsClient:d,chainId:a,wallet:i,calculatedDeadline:u,ipIdAddress:o,royaltyShares:r.royaltyShares,maxLicenseTokens:m});case 4:return w.a(2,w.v);case 5:return w.n=6,XPe({request:g,licenseAttachmentWorkflowsClient:p,calculatedDeadline:u,ipIdAddress:o,wallet:i,chainId:a,maxLicenseTokens:m});case 6:return w.a(2,w.v);case 7:if(!("derivData"in r)){w.n=13;break}return w.n=8,pP({derivativeDataInput:r.derivData,rpcClient:s,chainId:a,wallet:i});case 8:return v=w.v,w.n=9,uP({derivData:v,rpcClient:s,chainId:a,wallet:i});case 9:if(b=w.v,!("royaltyShares"in r)){w.n=11;break}return w.n=10,ZPe({request:K(K({},l),{},{derivData:v}),calculatedDeadline:u,ipIdAddress:o,wallet:i,chainId:a,royaltyTokenDistributionWorkflowsClient:d,derivativeMintingFee:b,royaltyShares:r.royaltyShares});case 10:return w.a(2,w.v);case 11:return w.n=12,YPe({request:K(K({},l),{},{derivData:v}),calculatedDeadline:u,ipIdAddress:o,wallet:i,chainId:a,derivativeWorkflowsClient:f,derivativeMintingFee:b});case 12:return w.a(2,w.v);case 13:throw new Error("Invalid register request type");case 14:return w.a(2)}},e)}));return function(n){return t.apply(this,arguments)}}(),YPe=function(){var t=W(D().m(function e(n){var r,s,i,a,o,l,u,d,p,f;return D().w(function(h){for(;;)switch(h.n){case 0:return r=n.request,s=n.calculatedDeadline,i=n.ipIdAddress,a=n.wallet,o=n.chainId,l=n.derivativeWorkflowsClient,u=n.derivativeMintingFee,h.n=1,oc({ipIdAddress:i,methodType:Bn.REGISTER_DERIVATIVE_IP,deadline:s,wallet:a,chainId:o});case 1:return d=h.v,p=K(K({},r),{},{sigMetadataAndRegister:{signer:a.account.address,deadline:s,signature:d}}),f=u.map(function(y){return K({address:l.address},y)}),h.a(2,{transformRequest:p,isUseMulticall3:!1,spenders:f,contractCall:function(){return l.registerIpAndMakeDerivative(p)},workflowClient:l,encodedTxData:{to:l.address,data:ke({abi:ra,functionName:"registerIpAndMakeDerivative",args:[p.nftContract,p.tokenId,p.derivData,p.ipMetadata,p.sigMetadataAndRegister]})}})}},e)}));return function(n){return t.apply(this,arguments)}}(),qPe=function(){var t=W(D().m(function e(n){var r,s,i,a,o,l,u,d,p,f;return D().w(function(h){for(;;)switch(h.n){case 0:return r=n.request,s=n.royaltyTokenDistributionWorkflowsClient,i=n.chainId,a=n.wallet,o=n.calculatedDeadline,l=n.ipIdAddress,u=n.royaltyShares,d=n.maxLicenseTokens,h.n=1,oc({ipIdAddress:l,methodType:Bn.REGISTER_IP_AND_ATTACH_PIL_TERMS_AND_DEPLOY_ROYALTY_VAULT,deadline:o,wallet:a,chainId:i});case 1:return p=h.v,f=K(K({},r),{},{sigMetadataAndAttachAndConfig:{signer:a.account.address,deadline:o,signature:p}}),h.a(2,{transformRequest:f,isUseMulticall3:!1,contractCall:function(){return s.registerIpAndAttachPilTermsAndDeployRoyaltyVault(f)},workflowClient:s,encodedTxData:{to:s.address,data:ke({abi:qr,functionName:"registerIpAndAttachPILTermsAndDeployRoyaltyVault",args:[f.nftContract,f.tokenId,f.ipMetadata,f.licenseTermsData,f.sigMetadataAndAttachAndConfig]})},extraData:{royaltyShares:u,deadline:o,maxLicenseTokens:d,licenseTermsData:r.licenseTermsData}})}},e)}));return function(n){return t.apply(this,arguments)}}(),XPe=function(){var t=W(D().m(function e(n){var r,s,i,a,o,l,u,d,p;return D().w(function(f){for(;;)switch(f.n){case 0:return r=n.request,s=n.licenseAttachmentWorkflowsClient,i=n.calculatedDeadline,a=n.ipIdAddress,o=n.wallet,l=n.chainId,u=n.maxLicenseTokens,f.n=1,oc({ipIdAddress:a,methodType:Bn.REGISTER_IP_AND_ATTACH_PIL_TERMS,deadline:i,wallet:o,chainId:l});case 1:return d=f.v,p=K(K({},r),{},{sigMetadataAndAttachAndConfig:{signer:o.account.address,deadline:i,signature:d}}),f.a(2,{transformRequest:p,isUseMulticall3:!1,contractCall:function(){return s.registerIpAndAttachPilTerms(p)},workflowClient:s,encodedTxData:{to:s.address,data:ke({abi:No,functionName:"registerIpAndAttachPILTerms",args:[p.nftContract,p.tokenId,p.ipMetadata,p.licenseTermsData,p.sigMetadataAndAttachAndConfig]})},extraData:{maxLicenseTokens:u,licenseTermsData:r.licenseTermsData}})}},e)}));return function(n){return t.apply(this,arguments)}}(),ZPe=function(){var t=W(D().m(function e(n){var r,s,i,a,o,l,u,d,p,f,h;return D().w(function(y){for(;;)switch(y.n){case 0:return r=n.request,s=n.calculatedDeadline,i=n.ipIdAddress,a=n.wallet,o=n.chainId,l=n.royaltyTokenDistributionWorkflowsClient,u=n.derivativeMintingFee,d=n.royaltyShares,y.n=1,oc({ipIdAddress:i,methodType:Bn.REGISTER_IP_AND_MAKE_DERIVATIVE_AND_DEPLOY_ROYALTY_VAULT,deadline:s,wallet:a,chainId:o});case 1:return p=y.v,f=K(K({},r),{},{sigMetadataAndRegister:{signer:a.account.address,deadline:s,signature:p}}),h=u.map(function(m){return K({address:l.address},m)}),y.a(2,{transformRequest:f,isUseMulticall3:!1,spenders:h,contractCall:function(){return l.registerIpAndMakeDerivativeAndDeployRoyaltyVault(f)},workflowClient:l,encodedTxData:{to:l.address,data:ke({abi:qr,functionName:"registerIpAndMakeDerivativeAndDeployRoyaltyVault",args:[f.nftContract,f.tokenId,f.ipMetadata,f.derivData,f.sigMetadataAndRegister]})},extraData:{royaltyShares:d,deadline:s}})}},e)}));return function(n){return t.apply(this,arguments)}}(),JPe=function(){var t=W(D().m(function e(n){var r,s,i,a,o,l,u,d,p,f,h,y,m,g,v,b,w,A;return D().w(function(I){for(;;)switch(I.n){case 0:return s=n.request,i=n.rpcClient,a=n.wallet,o=n.chainId,l=new N2(i,a),u=new k2(i,a),d=new nP(i,a),I.n=1,oN(s.spgNftContract,i);case 1:return p=I.v,I.n=2,aN(new rl(i,s.spgNftContract));case 2:if(f=I.v,h={spgNftContract:ye(s.spgNftContract),recipient:ye(s.recipient||a.account.address),ipMetadata:Hl(s.ipMetadata),allowDuplicates:(r=s.allowDuplicates)!==null&&r!==void 0?r:!0},!("licenseTermsData"in s)){I.n=5;break}return I.n=3,xh(s.licenseTermsData,i,o);case 3:if(y=I.v,m=y.licenseTermsData,g=y.maxLicenseTokens,v=K(K({},h),{},{licenseTermsData:m}),!("royaltyShares"in s)){I.n=4;break}return I.a(2,QPe({request:K(K({},v),{},{royaltyShares:s.royaltyShares}),royaltyTokenDistributionWorkflowsClient:l,nftMintFee:f,maxLicenseTokens:g}));case 4:return I.a(2,eje({request:K(K({},v),{},{licenseTermsData:m}),licenseAttachmentWorkflowsClient:u,nftMintFee:f,isPublicMinting:p,maxLicenseTokens:g}));case 5:if(!("derivData"in s)){I.n=9;break}return I.n=6,pP({derivativeDataInput:s.derivData,rpcClient:i,wallet:a,chainId:o});case 6:return b=I.v,I.n=7,uP({derivData:b,rpcClient:i,chainId:o,wallet:a});case 7:if(w=I.v,A=K(K({},h),{},{derivData:b}),!("royaltyShares"in s)){I.n=8;break}return I.a(2,tje({request:K(K({},A),{},{royaltyShares:s.royaltyShares}),nftMintFee:f,isPublicMinting:p,derivativeMintingFee:w,royaltyTokenDistributionWorkflowsClient:l}));case 8:return I.a(2,nje({request:K(K({},A),{},{derivData:b}),derivativeWorkflowsClient:d,nftMintFee:f,isPublicMinting:p,derivativeMintingFee:w}));case 9:throw new Error("Invalid mint and register request type");case 10:return I.a(2)}},e)}));return function(n){return t.apply(this,arguments)}}(),QPe=function(e){var n=e.request,r=e.royaltyTokenDistributionWorkflowsClient,s=e.nftMintFee,i=e.maxLicenseTokens,a=V0(n.royaltyShares),o=a.royaltyShares,l=K(K({},n),{},{royaltyShares:o});return{transformRequest:l,isUseMulticall3:!1,contractCall:function(){return r.mintAndRegisterIpAndAttachPilTermsAndDistributeRoyaltyTokens(l)},spenders:ys(s?[K({address:l.spgNftContract},s)]:[]),encodedTxData:{to:r.address,data:ke({abi:qr,functionName:"mintAndRegisterIpAndAttachPILTermsAndDistributeRoyaltyTokens",args:[l.spgNftContract,l.recipient,l.ipMetadata,l.licenseTermsData,l.royaltyShares,l.allowDuplicates]})},workflowClient:r,extraData:{maxLicenseTokens:i,licenseTermsData:l.licenseTermsData}}},eje=function(e){var n=e.request,r=e.licenseAttachmentWorkflowsClient,s=e.nftMintFee,i=e.isPublicMinting,a=e.maxLicenseTokens,o=s?[K({address:n.spgNftContract},s)]:[];return{transformRequest:n,isUseMulticall3:fP(o)?!1:i,spenders:o,encodedTxData:{to:r.address,data:ke({abi:No,functionName:"mintAndRegisterIpAndAttachPILTerms",args:[n.spgNftContract,n.recipient,n.ipMetadata,n.licenseTermsData,n.allowDuplicates]})},contractCall:function(){return r.mintAndRegisterIpAndAttachPilTerms(n)},workflowClient:r,extraData:{maxLicenseTokens:a,licenseTermsData:n.licenseTermsData}}},tje=function(e){var n,r=e.request,s=e.nftMintFee,i=e.isPublicMinting,a=e.derivativeMintingFee,o=e.royaltyTokenDistributionWorkflowsClient,l=V0(r.royaltyShares),u=l.royaltyShares,d=K(K({},r),{},{royaltyShares:u}),p=(n=a.map(function(f){return K({address:o.address},f)})).concat.apply(n,ys(s?[K({address:r.spgNftContract},s)]:[]));return{transformRequest:d,isUseMulticall3:fP(p)?!1:i,spenders:p,encodedTxData:{to:o.address,data:ke({abi:qr,functionName:"mintAndRegisterIpAndMakeDerivativeAndDistributeRoyaltyTokens",args:[d.spgNftContract,d.recipient,d.ipMetadata,d.derivData,d.royaltyShares,d.allowDuplicates]})},workflowClient:o,contractCall:function(){return o.mintAndRegisterIpAndMakeDerivativeAndDistributeRoyaltyTokens(d)}}},nje=function(e){var n,r=e.request,s=e.derivativeWorkflowsClient,i=e.nftMintFee,a=e.isPublicMinting,o=e.derivativeMintingFee,l=(n=o.map(function(u){return K({address:s.address},u)})).concat.apply(n,ys(i?[K({address:r.spgNftContract},i)]:[]));return{transformRequest:r,isUseMulticall3:fP(l)?!1:a,spenders:l,encodedTxData:{to:s.address,data:ke({abi:ra,functionName:"mintAndRegisterIpAndMakeDerivative",args:[r.spgNftContract,r.derivData,r.ipMetadata,r.recipient,r.allowDuplicates]})},contractCall:function(){return s.mintAndRegisterIpAndMakeDerivative(r)},workflowClient:s}},BZ=function(){var t=W(D().m(function e(n){var r,s,i,a,o,l,u,d,p,f,h,y,m,g,v,b,w;return D().w(function(A){for(;;)switch(A.n){case 0:return r=n.request,s=n.rpcClient,i=n.wallet,a=n.chainId,o=r.ipId,l=r.deadline,u=r.ipRoyaltyVault,d=r.totalAmount,A.n=1,Iu(s,l);case 1:return p=A.v,f=new sN(s,u),A.n=2,f.balanceOf({account:o});case 2:if(h=A.v,y=new N2(s,i),!(BigInt(h)<BigInt(d))){A.n=3;break}throw new Error("The balance of the IP account in the IP Royalty Vault is insufficient to distribute the royalty tokens.");case 3:return m=new Ls(s,i,ye(o)),A.n=4,m.state();case 4:return g=A.v,v=g.result,A.n=5,oc({ipIdAddress:o,methodType:Bn.DISTRIBUTE_ROYALTY_TOKENS,deadline:p,ipRoyaltyVault:u,totalAmount:d,state:v,encodeData:ke({abi:bh,functionName:"approve",args:[I1[a],BigInt(d)]}),wallet:i,chainId:a});case 5:return b=A.v,w={ipId:o,royaltyShares:r.royaltyShares,sigApproveRoyaltyTokens:{signer:i.account.address,deadline:p,signature:b}},A.a(2,{transformRequest:w,isUseMulticall3:!1,contractCall:function(){return y.distributeRoyaltyTokens(w)},workflowClient:y,encodedTxData:{to:I1[a],data:ke({abi:qr,functionName:"distributeRoyaltyTokens",args:[w.ipId,w.royaltyShares,w.sigApproveRoyaltyTokens]})}})}},e)}));return function(n){return t.apply(this,arguments)}}(),rje=function(){var t=W(D().m(function e(n){var r,s,i,a,o,l,u,d,p,f,h,y;return D().w(function(m){for(;;)switch(m.p=m.n){case 0:if(r=n.royaltyDistributionRequests,s=n.ipRegisteredLog,i=n.ipRoyaltyVault,a=n.rpcClient,o=n.wallet,l=n.chainId,r.length!==0){m.n=1;break}return m.a(2,{requests:[],ipRoyaltyVaults:[]});case 1:u=[],d=[],p=bt(r),m.p=2,h=D().m(function g(){var v,b,w,A,I,C,E,N,_;return D().w(function(U){for(;;)switch(U.n){case 0:if(v=f.value,b=s.find(function($){var B=$.tokenContract,j=$.tokenId;return B===v.nftContract&&j===v.tokenId}),!b){U.n=3;break}return A=V0((w=v.royaltyShares)!==null&&w!==void 0?w:[]),I=A.royaltyShares,C=A.totalAmount,U.n=1,Iu(a,v.deadline);case 1:return E=U.v,N=i.find(function($){return $.ipId===b.ipId}),U.n=2,BZ({request:{ipId:b.ipId,ipRoyaltyVault:N.ipRoyaltyVault,royaltyShares:I,totalAmount:C,deadline:E},rpcClient:a,wallet:o,chainId:l});case 2:_=U.v,u.push(_),d.push(N);case 3:return U.a(2)}},g)}),p.s();case 3:if((f=p.n()).done){m.n=5;break}return m.d(dP(h()),4);case 4:m.n=3;break;case 5:m.n=7;break;case 6:m.p=6,y=m.v,p.e(y);case 7:return m.p=7,p.f(),m.f(7);case 8:return m.a(2,{requests:u,ipRoyaltyVaults:d})}},e,null,[[2,6,7,8]])}));return function(n){return t.apply(this,arguments)}}(),fP=function(e){var n=e.filter(function(s){return s.token!==Pi}),r=n.reduce(function(s,i){var a;return s+((a=i.amount)!==null&&a!==void 0?a:0n)},0n);return r>0n},Ld=function(){var t=W(D().m(function e(n){var r,s,i,a,o,l,u,d,p;return D().w(function(f){for(;;)switch(f.n){case 0:r=n.maxLicenseTokensData,s=n.licensorIpId,i=n.licenseTermsIds,a=n.totalLicenseTokenLimitHookClient,o=n.templateAddress,l=[],u=0;case 1:if(!(u<r.length)){f.n=5;break}if(d=r[u].maxLicenseTokens,!(d===void 0||d<0n)){f.n=2;break}return f.a(3,4);case 2:return f.n=3,a.setTotalLicenseTokenLimit({licensorIpId:s,licenseTemplate:o,licenseTermsId:i[u],limit:BigInt(d)});case 3:p=f.v,p&&l.push(p);case 4:u++,f.n=1;break;case 5:return f.a(2,l)}},e)}));return function(n){return t.apply(this,arguments)}}(),sje=function(){function t(e,n,r){et(this,t),this.licensingModuleClient=new sP(e,n),this.ipAssetRegistryClient=new uf(e,n),this.licenseTemplateClient=new iP(e,n),this.licenseRegistryReadOnlyClient=new C2(e),this.licenseTokenReadOnlyClient=new rP(e),this.accessControllerClient=new IZ(e,n),this.coreMetadataModuleClient=new tP(e,n),this.registrationWorkflowsClient=new SZ(e,n),this.licenseAttachmentWorkflowsClient=new k2(e,n),this.derivativeWorkflowsClient=new nP(e,n),this.royaltyTokenDistributionWorkflowsClient=new N2(e,n),this.royaltyModuleEventClient=new aP(e),this.wipClient=new df(e,n),this.multicall3Client=new E2(e,n),this.spgNftClient=new rl(e),this.totalLicenseTokenLimitHookClient=new MZ(e,n),this.licenseTokenClient=new fPe(e,n),this.rpcClient=e,this.wallet=n,this.chainId=r,this.walletAddress=this.wallet.account.address,this.licenseTemplateAddress=this.licenseTemplateClient.address}return tt(t,[{key:"generateCreatorMetadata",value:function(n){return n}},{key:"generateIpMetadata",value:function(n){return n}},{key:"register",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p,f,h,y,m;return D().w(function(g){for(;;)switch(g.p=g.n){case 0:return g.p=0,a=BigInt(s.tokenId),g.n=1,_d({nftContract:s.nftContract,tokenId:a,rpcClient:this.rpcClient,wallet:this.wallet,chainId:this.chainId});case 1:return o=g.v,g.n=2,this.isRegistered(o);case 2:if(l=g.v,!l){g.n=3;break}return g.a(2,{ipId:o});case 3:if(u={tokenId:a,nftContract:ye(s.nftContract),ipMetadata:Hl(s.ipMetadata),sigMetadata:{signer:$t,deadline:BigInt(0),signature:g1}},!s.ipMetadata){g.n=6;break}return g.n=4,Iu(this.rpcClient,s.deadline);case 4:return d=g.v,g.n=5,oc({ipIdAddress:o,methodType:Bn.REGISTER,deadline:d,wallet:this.wallet,chainId:this.chainId});case 5:p=g.v,u.sigMetadata={signer:ye(this.walletAddress),deadline:d,signature:p};case 6:if(!((i=s.txOptions)!==null&&i!==void 0&&i.encodedTxDataOnly)){g.n=9;break}if(!s.ipMetadata){g.n=7;break}return g.a(2,{encodedTxData:this.registrationWorkflowsClient.registerIpEncode(u)});case 7:return g.a(2,{encodedTxData:this.ipAssetRegistryClient.registerEncode({tokenContract:u.nftContract,tokenId:u.tokenId,chainid:BigInt(this.chainId)})});case 8:g.n=15;break;case 9:if(!s.ipMetadata){g.n=11;break}return g.n=10,this.registrationWorkflowsClient.registerIp(u);case 10:f=g.v,g.n=13;break;case 11:return g.n=12,this.ipAssetRegistryClient.register({tokenContract:u.nftContract,tokenId:u.tokenId,chainid:BigInt(this.chainId)});case 12:f=g.v;case 13:return g.n=14,this.rpcClient.waitForTransactionReceipt(K(K({},s.txOptions),{},{hash:f}));case 14:return h=g.v,y=this.getIpIdAndTokenIdsFromEvent(h)[0],g.a(2,K({txHash:f},y));case 15:g.n=17;break;case 16:return g.p=16,m=g.v,g.a(2,Ve(m,"Failed to register IP"));case 17:return g.a(2)}},r,this,[[0,16]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"batchRegister",value:function(){var e=W(D().m(function r(s){var i=this,a,o,l,u,d,p,f,h,y,m,g,v,b,w;return D().w(function(A){for(;;)switch(A.p=A.n){case 0:A.p=0,a=[],o=[],u=bt(s.args),A.p=1,u.s();case 2:if((d=u.n()).done){A.n=8;break}return p=d.value,A.p=3,A.n=4,this.register(K(K({},p),{},{txOptions:{encodedTxDataOnly:!0}}));case 4:f=A.v,l=f.encodedTxData.data,A.n=6;break;case 5:throw A.p=5,v=A.v,new Error(v.message.replace("Failed to register IP:","").trim());case 6:p.ipMetadata?o.push(l):a.push({target:this.ipAssetRegistryClient.address,allowFailure:!1,callData:l});case 7:A.n=2;break;case 8:A.n=10;break;case 9:A.p=9,b=A.v,u.e(b);case 10:return A.p=10,u.f(),A.f(10);case 11:if(!(o.length>0)){A.n=13;break}return A.n=12,this.registrationWorkflowsClient.multicall({data:o});case 12:h=A.v;case 13:if(!(a.length>0)){A.n=15;break}return A.n=14,this.multicall3Client.aggregate3({calls:a});case 14:y=A.v;case 15:if(m=[],g=function(){var I=W(D().m(function C(E,N){var _,U;return D().w(function($){for(;;)switch($.n){case 0:return $.n=1,i.rpcClient.waitForTransactionReceipt(K(K({},s.txOptions),{},{hash:E}));case 1:_=$.v,U=i.getIpIdAndTokenIdsFromEvent(_,N),m.push.apply(m,ys(U));case 2:return $.a(2)}},C)}));return function(E,N){return I.apply(this,arguments)}}(),!y){A.n=16;break}return A.n=16,g(y,"nftContract");case 16:if(!h){A.n=17;break}return A.n=17,g(h,"spgNftContract");case 17:return A.a(2,{txHash:y,spgTxHash:h,results:m});case 18:return A.p=18,w=A.v,A.a(2,Ve(w,"Failed to batch register IP"))}},r,this,[[3,5],[1,9,10,11],[0,18]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"registerDerivative",value:function(){var e=W(D().m(function r(s){var i=this,a,o,l,u,d,p,f,h;return D().w(function(y){for(;;)switch(y.p=y.n){case 0:return y.p=0,y.n=1,this.isRegistered(s.childIpId);case 1:if(o=y.v,o){y.n=2;break}throw new Error("The child IP with id ".concat(s.childIpId," is not registered."));case 2:return y.n=3,pP({derivativeDataInput:s,rpcClient:this.rpcClient,wallet:this.wallet,chainId:this.chainId});case 3:if(l=y.v,u=K({childIpId:s.childIpId},l),d=this.licensingModuleClient.registerDerivativeEncode(u),!((a=s.txOptions)!==null&&a!==void 0&&a.encodedTxDataOnly)){y.n=4;break}return y.a(2,{encodedTxData:d});case 4:return f=function(){return i.licensingModuleClient.registerDerivative(u)},y.a(2,this.handleRegistrationWithFees({sender:this.walletAddress,derivData:u,contractCall:f,txOptions:s.txOptions,encodedTxs:[d],spgSpenderAddress:this.royaltyModuleEventClient.address,options:K(K({},s.options),{},{wipOptions:K(K({},(p=s.options)===null||p===void 0?void 0:p.wipOptions),{},{useMulticallWhenPossible:!1})})}));case 5:y.n=7;break;case 6:return y.p=6,h=y.v,y.a(2,Ve(h,"Failed to register derivative"));case 7:return y.a(2)}},r,this,[[0,6]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"batchRegisterDerivative",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p,f,h,y,m,g,v,b,w,A,I;return D().w(function(C){for(;;)switch(C.p=C.n){case 0:C.p=0,i=[],a=ye(this.licensingModuleClient.address),o=bt(s.args),C.p=1,o.s();case 2:if((l=o.n()).done){C.n=11;break}return p=l.value,C.p=3,C.n=4,this.registerDerivative(K(K({},p),{},{txOptions:{encodedTxDataOnly:!0}}));case 4:C.n=6;break;case 5:throw C.p=5,w=C.v,new Error(w.message.replace("Failed to register derivative:","").trim());case 6:return C.n=7,Iu(this.rpcClient,s.deadline);case 7:return f=C.v,h=new Ls(this.rpcClient,this.wallet,ye(p.childIpId)),y=ke({abi:gn,functionName:"registerDerivative",args:[p.childIpId,p.parentIpIds,p.licenseTermsIds.map(function(E){return BigInt(E)}),p.licenseTemplate||this.licenseTemplateAddress,$t,BigInt((u=p.maxMintingFee)!==null&&u!==void 0?u:0),Ly(p.maxRts),qa((d=p.maxRevenueShare)!==null&&d!==void 0?d:100,Xl.MAX_REVENUE_SHARE)]}),C.n=8,h.state();case 8:return m=C.v,g=m.result,C.n=9,oc({ipIdAddress:p.childIpId,methodType:Bn.BATCH_REGISTER_DERIVATIVE,state:g,encodeData:y,deadline:f,wallet:this.wallet,chainId:this.chainId});case 9:v=C.v,i.push({target:p.childIpId,allowFailure:!1,callData:ke({abi:Ci,functionName:"executeWithSig",args:[a,BigInt(0),y,this.wallet.account.address,f,v]})});case 10:C.n=2;break;case 11:C.n=13;break;case 12:C.p=12,A=C.v,o.e(A);case 13:return C.p=13,o.f(),C.f(13);case 14:return C.n=15,this.multicall3Client.aggregate3({calls:i});case 15:return b=C.v,C.n=16,this.rpcClient.waitForTransactionReceipt(K(K({},s.txOptions),{},{hash:b}));case 16:return C.a(2,{txHash:b});case 17:return C.p=17,I=C.v,C.a(2,Ve(I,"Failed to batch register derivative"))}},r,this,[[3,5],[1,12,13,14],[0,17]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"registerDerivativeWithLicenseTokens",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u;return D().w(function(d){for(;;)switch(d.p=d.n){case 0:return d.p=0,a={childIpId:ye(s.childIpId),licenseTokenIds:s.licenseTokenIds.map(function(p){return BigInt(p)}),royaltyContext:$t,maxRts:Ly(s.maxRts)},d.n=1,this.isRegistered(s.childIpId);case 1:if(o=d.v,o){d.n=2;break}throw new Error("The child IP with id ".concat(s.childIpId," is not registered."));case 2:if(s.licenseTokenIds.length!==0){d.n=3;break}throw new Error("The licenseTokenIds must be provided.");case 3:return d.n=4,this.validateLicenseTokenIds(s.licenseTokenIds);case 4:if(s.licenseTokenIds=d.v,!((i=s.txOptions)!==null&&i!==void 0&&i.encodedTxDataOnly)){d.n=5;break}return d.a(2,{encodedTxData:this.licensingModuleClient.registerDerivativeWithLicenseTokensEncode(a)});case 5:return d.n=6,this.licensingModuleClient.registerDerivativeWithLicenseTokens(a);case 6:return l=d.v,d.n=7,this.rpcClient.waitForTransactionReceipt(K(K({},s.txOptions),{},{hash:l}));case 7:return d.a(2,{txHash:l});case 8:d.n=10;break;case 9:return d.p=9,u=d.v,d.a(2,Ve(u,"Failed to register derivative with license tokens"));case 10:return d.a(2)}},r,this,[[0,9]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"mintAndRegisterIpAssetWithPilTerms",value:function(){var e=W(D().m(function r(s){var i=this,a,o,l,u,d,p,f,h,y;return D().w(function(m){for(;;)switch(m.p=m.n){case 0:return m.p=0,m.n=1,Tl({request:s,rpcClient:this.rpcClient,wallet:this.wallet,chainId:this.chainId});case 1:if(o=m.v,l=o.transformRequest,u=this.licenseAttachmentWorkflowsClient.mintAndRegisterIpAndAttachPilTermsEncode(l),!((a=s.txOptions)!==null&&a!==void 0&&a.encodedTxDataOnly)){m.n=2;break}return m.a(2,{encodedTxData:u});case 2:return d=function(){return i.licenseAttachmentWorkflowsClient.mintAndRegisterIpAndAttachPilTerms(l)},m.n=3,this.handleRegistrationWithFees({options:s.options,sender:this.walletAddress,spgNftContract:l.spgNftContract,spgSpenderAddress:this.royaltyTokenDistributionWorkflowsClient.address,encodedTxs:[u],contractCall:d,txOptions:s.txOptions});case 3:return p=m.v,m.n=4,this.getLicenseTermsId(l.licenseTermsData.map(function(g){return g.terms}));case 4:return f=m.v,m.n=5,Ld({maxLicenseTokensData:s.licenseTermsData,licensorIpId:p.ipId,licenseTermsIds:f,totalLicenseTokenLimitHookClient:this.totalLicenseTokenLimitHookClient,templateAddress:this.licenseTemplateAddress});case 5:return h=m.v,m.a(2,K(K({},p),{},{licenseTermsIds:f},h.length>0&&{maxLicenseTokensTxHashes:h}));case 6:return m.p=6,y=m.v,m.a(2,Ve(y,"Failed to mint and register IP and attach PIL terms"))}},r,this,[[0,6]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"batchMintAndRegisterIpAssetWithPilTerms",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p,f,h,y,m,g,v,b,w,A,I;return D().w(function(C){for(;;)switch(C.p=C.n){case 0:C.p=0,i=[],a=bt(s.args),C.p=1,a.s();case 2:if((o=a.n()).done){C.n=5;break}return l=o.value,C.n=3,this.mintAndRegisterIpAssetWithPilTerms(K(K({},l),{},{txOptions:{encodedTxDataOnly:!0}}));case 3:u=C.v,i.push(u.encodedTxData.data);case 4:C.n=2;break;case 5:C.n=7;break;case 6:C.p=6,A=C.v,a.e(A);case 7:return C.p=7,a.f(),C.f(7);case 8:return C.n=9,this.licenseAttachmentWorkflowsClient.multicall({data:i});case 9:return d=C.v,C.n=10,this.rpcClient.waitForTransactionReceipt(K(K({},s.txOptions),{},{hash:d}));case 10:p=C.v,f=this.ipAssetRegistryClient.parseTxIpRegisteredEvent(p).map(function(E){return{ipId:E.ipId,tokenId:E.tokenId,spgNftContract:E.tokenContract,licenseTermsIds:[]}}),h=0;case 11:if(!(h<s.args.length)){C.n=15;break}for(y=[],m=s.args[h].licenseTermsData,g=0;g<m.length;g++)v=Nr.validateLicenseTerms(m[g].terms,this.chainId),y.push(v);return C.n=12,this.getLicenseTermsId(y);case 12:return b=C.v,f[h].licenseTermsIds=b,C.n=13,Ld({maxLicenseTokensData:m,licensorIpId:f[h].ipId,licenseTermsIds:b,totalLicenseTokenLimitHookClient:this.totalLicenseTokenLimitHookClient,templateAddress:this.licenseTemplateAddress});case 13:w=C.v,w.length>0&&(f[h].maxLicenseTokensTxHashes=w);case 14:h++,C.n=11;break;case 15:return C.a(2,{txHash:d,results:f});case 16:return C.p=16,I=C.v,C.a(2,Ve(I,"Failed to batch mint and register IP and attach PIL terms"))}},r,this,[[1,6,7,8],[0,16]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"registerIpAndAttachPilTerms",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p,f,h,y,m,g,v;return D().w(function(b){for(;;)switch(b.p=b.n){case 0:return b.p=0,s.tokenId=BigInt(s.tokenId),b.n=1,_d({nftContract:s.nftContract,tokenId:s.tokenId,rpcClient:this.rpcClient,wallet:this.wallet,chainId:this.chainId});case 1:return a=b.v,b.n=2,this.isRegistered(a);case 2:if(o=b.v,!o){b.n=3;break}throw new Error("The NFT with id ".concat(s.tokenId," is already registered as IP."));case 3:return b.n=4,xh(s.licenseTermsData,this.rpcClient,this.chainId);case 4:return l=b.v,u=l.licenseTerms,b.n=5,Tl({request:s,rpcClient:this.rpcClient,wallet:this.wallet,chainId:this.chainId});case 5:if(d=b.v,p=d.transformRequest,!((i=s.txOptions)!==null&&i!==void 0&&i.encodedTxDataOnly)){b.n=6;break}return b.a(2,{encodedTxData:this.licenseAttachmentWorkflowsClient.registerIpAndAttachPilTermsEncode(p)});case 6:return b.n=7,this.licenseAttachmentWorkflowsClient.registerIpAndAttachPilTerms(p);case 7:return f=b.v,b.n=8,this.rpcClient.waitForTransactionReceipt(K(K({},s.txOptions),{},{hash:f}));case 8:return h=b.v,y=this.getIpIdAndTokenIdsFromEvent(h)[0],b.n=9,this.getLicenseTermsId(u);case 9:return m=b.v,b.n=10,Ld({maxLicenseTokensData:s.licenseTermsData,licensorIpId:y.ipId,licenseTermsIds:m,totalLicenseTokenLimitHookClient:this.totalLicenseTokenLimitHookClient,templateAddress:this.licenseTemplateAddress});case 10:return g=b.v,b.a(2,K(K({txHash:f,licenseTermsIds:m},g.length>0&&{maxLicenseTokensTxHashes:g}),y));case 11:b.n=13;break;case 12:return b.p=12,v=b.v,b.a(2,Ve(v,"Failed to register IP and attach PIL terms"));case 13:return b.a(2)}},r,this,[[0,12]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"registerDerivativeIp",value:function(){var e=W(D().m(function r(s){var i=this,a,o,l,u,d,p,f,h,y,m;return D().w(function(g){for(;;)switch(g.p=g.n){case 0:return g.p=0,l=BigInt(s.tokenId),g.n=1,_d({nftContract:s.nftContract,tokenId:l,rpcClient:this.rpcClient,wallet:this.wallet,chainId:this.chainId});case 1:return u=g.v,g.n=2,this.isRegistered(u);case 2:if(d=g.v,!d){g.n=3;break}throw new Error("The NFT with id ".concat(l," is already registered as IP."));case 3:return g.n=4,Tl({request:s,rpcClient:this.rpcClient,wallet:this.wallet,chainId:this.chainId});case 4:if(p=g.v,f=p.transformRequest,h=this.derivativeWorkflowsClient.registerIpAndMakeDerivativeEncode(f),!((a=s.txOptions)!==null&&a!==void 0&&a.encodedTxDataOnly)){g.n=5;break}return g.a(2,{encodedTxData:h});case 5:return y=function(){return i.derivativeWorkflowsClient.registerIpAndMakeDerivative(f)},g.a(2,this.handleRegistrationWithFees({options:K(K({},s.options),{},{wipOptions:K(K({},(o=s.options)===null||o===void 0?void 0:o.wipOptions),{},{useMulticallWhenPossible:!1})}),sender:this.walletAddress,spgSpenderAddress:this.derivativeWorkflowsClient.address,derivData:f.derivData,encodedTxs:[h],contractCall:y,txOptions:s.txOptions}));case 6:return g.p=6,m=g.v,g.a(2,Ve(m,"Failed to register derivative IP"))}},r,this,[[0,6]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"mintAndRegisterIpAndMakeDerivative",value:function(){var e=W(D().m(function r(s){var i=this,a,o,l,u,d,p,f;return D().w(function(h){for(;;)switch(h.p=h.n){case 0:return h.p=0,o=ye(s.spgNftContract),h.n=1,Tl({request:s,rpcClient:this.rpcClient,wallet:this.wallet,chainId:this.chainId});case 1:if(l=h.v,u=l.transformRequest,d=this.derivativeWorkflowsClient.mintAndRegisterIpAndMakeDerivativeEncode(u),!((a=s.txOptions)!==null&&a!==void 0&&a.encodedTxDataOnly)){h.n=2;break}return h.a(2,{encodedTxData:d});case 2:return p=function(){return i.derivativeWorkflowsClient.mintAndRegisterIpAndMakeDerivative(u)},h.a(2,this.handleRegistrationWithFees({options:s.options,sender:this.walletAddress,spgSpenderAddress:this.derivativeWorkflowsClient.address,spgNftContract:o,derivData:u.derivData,encodedTxs:[d],contractCall:p,txOptions:s.txOptions}));case 3:return h.p=3,f=h.v,h.a(2,Ve(f,"Failed to mint and register IP and make derivative"))}},r,this,[[0,3]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"batchMintAndRegisterIpAndMakeDerivative",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p,f,h,y;return D().w(function(m){for(;;)switch(m.p=m.n){case 0:m.p=0,i=[],a=bt(s.args),m.p=1,a.s();case 2:if((o=a.n()).done){m.n=7;break}return l=o.value,m.p=3,m.n=4,this.mintAndRegisterIpAndMakeDerivative(K(K({},l),{},{txOptions:{encodedTxDataOnly:!0}}));case 4:u=m.v,i.push(u.encodedTxData.data),m.n=6;break;case 5:throw m.p=5,f=m.v,new Error(f.message.replace("Failed to mint and register IP and make derivative: ","").trim());case 6:m.n=2;break;case 7:m.n=9;break;case 8:m.p=8,h=m.v,a.e(h);case 9:return m.p=9,a.f(),m.f(9);case 10:return m.n=11,this.derivativeWorkflowsClient.multicall({data:i});case 11:return d=m.v,m.n=12,this.rpcClient.waitForTransactionReceipt(K(K({},s.txOptions),{},{hash:d}));case 12:return p=m.v,m.a(2,{txHash:d,results:this.getIpIdAndTokenIdsFromEvent(p,"spgNftContract")});case 13:return m.p=13,y=m.v,m.a(2,Ve(y,"Failed to batch mint and register IP and make derivative"))}},r,this,[[3,5],[1,8,9,10],[0,13]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"mintAndRegisterIp",value:function(){var e=W(D().m(function r(s){var i=this,a,o,l,u,d,p;return D().w(function(f){for(;;)switch(f.p=f.n){case 0:if(f.p=0,l={spgNftContract:ye(s.spgNftContract),recipient:ye(s.recipient||this.walletAddress),ipMetadata:Hl(s.ipMetadata),allowDuplicates:s.allowDuplicates||!0},u=this.registrationWorkflowsClient.mintAndRegisterIpEncode(l),!((a=s.txOptions)!==null&&a!==void 0&&a.encodedTxDataOnly)){f.n=1;break}return f.a(2,{encodedTxData:u});case 1:return d=function(){return i.registrationWorkflowsClient.mintAndRegisterIp(l)},f.a(2,this.handleRegistrationWithFees({sender:this.walletAddress,spgSpenderAddress:this.registrationWorkflowsClient.address,encodedTxs:[u],contractCall:d,spgNftContract:l.spgNftContract,txOptions:s.txOptions,options:K(K({},s.options),{},{wipOptions:K(K({},(o=s.options)===null||o===void 0?void 0:o.wipOptions),{},{useMulticallWhenPossible:!1})})}));case 2:return f.p=2,p=f.v,f.a(2,Ve(p,"Failed to mint and register IP"))}},r,this,[[0,2]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"batchMintAndRegisterIp",value:function(){var e=W(D().m(function r(s){var i=this,a,o,l,u,d,p,f,h,y,m,g,v,b,w,A,I,C,E,N,_,U;return D().w(function($){for(;;)switch($.p=$.n){case 0:$.p=0,a=[],o=[],l=[],u=[],d=bt(s.requests),$.p=1,d.s();case 2:if((p=d.n()).done){$.n=9;break}return f=p.value,h={spgNftContract:ye(f.spgNftContract),recipient:ye(f.recipient||this.walletAddress),ipMetadata:Hl(f.ipMetadata),allowDuplicates:f.allowDuplicates||!0},$.n=3,oN(f.spgNftContract,this.rpcClient);case 3:return y=$.v,$.n=4,aN(new rl(this.rpcClient,h.spgNftContract));case 4:if(m=$.v,g={to:this.registrationWorkflowsClient.address,data:ke({abi:$a,functionName:"mintAndRegisterIp",args:[h.spgNftContract,h.recipient,h.ipMetadata,h.allowDuplicates]})},!y){$.n=5;break}o=lN(o,m?[K({address:h.spgNftContract},m)]:[]),a.push(g),$.n=8;break;case 5:return $.n=6,WPe(h.spgNftContract,this.rpcClient,this.walletAddress);case 6:if(v=$.v,v){$.n=7;break}throw new Error("Caller ".concat(this.walletAddress," does not have the minter role for ").concat(h.spgNftContract));case 7:u=lN(u,m?[K({address:h.spgNftContract},m)]:[]),l.push(g);case 8:$.n=2;break;case 9:$.n=11;break;case 10:$.p=10,E=$.v,d.e(E);case 11:return $.p=11,d.f(),$.f(11);case 12:if(b=function(){var B=W(D().m(function j(){return D().w(function(x){for(;;)switch(x.n){case 0:return x.n=1,Uu({options:{wipOptions:s.wipOptions,erc20Options:s.erc20Options},multicall3Address:i.multicall3Client.address,rpcClient:i.rpcClient,tokenSpenders:o,contractCall:function(){return i.registrationWorkflowsClient.multicall({data:a.map(function(M){return M.data})})},sender:i.walletAddress,wallet:i.wallet,txOptions:s.txOptions,encodedTxs:a});case 1:return x.a(2,x.v)}},j)}));return function(){return B.apply(this,arguments)}}(),w=function(){var B=W(D().m(function j(){return D().w(function(x){for(;;)switch(x.n){case 0:return x.n=1,Uu({options:{wipOptions:K(K({},s.wipOptions),{},{useMulticallWhenPossible:!1}),erc20Options:s.erc20Options},multicall3Address:i.multicall3Client.address,rpcClient:i.rpcClient,tokenSpenders:u,contractCall:function(){return i.registrationWorkflowsClient.multicall({data:l.map(function(M){return M.data})})},sender:i.walletAddress,wallet:i.wallet,txOptions:s.txOptions,encodedTxs:l});case 1:return x.a(2,x.v)}},j)}));return function(){return B.apply(this,arguments)}}(),A=[],l.length!==0){$.n=14;break}return $.n=13,b();case 13:N=$.v,A=[N],$.n=19;break;case 14:if(a.length!==0){$.n=16;break}return $.n=15,w();case 15:_=$.v,A=[_],$.n=19;break;case 16:return $.n=17,b();case 17:return I=$.v,$.n=18,w();case 18:C=$.v,A=[I,C];case 19:return $.a(2,{registrationResults:A.map(function(B){return{txHash:B.txHash,receipt:B.receipt,ipIdsAndTokenIds:i.getIpIdAndTokenIdsFromEvent(B.receipt,"spgNftContract")}})});case 20:return $.p=20,U=$.v,$.a(2,Ve(U,"Failed to batch mint and register IP"))}},r,this,[[1,10,11,12],[0,20]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"mintAndRegisterIpAndMakeDerivativeWithLicenseTokens",value:function(){var e=W(D().m(function r(s){var i=this,a,o,l,u,d,p,f;return D().w(function(h){for(;;)switch(h.p=h.n){case 0:return h.p=0,h.n=1,this.validateLicenseTokenIds(s.licenseTokenIds);case 1:if(l=h.v,u={spgNftContract:ye(s.spgNftContract),recipient:ye(s.recipient||this.walletAddress),ipMetadata:Hl(s.ipMetadata),licenseTokenIds:l,royaltyContext:$t,maxRts:Ly(s.maxRts),allowDuplicates:s.allowDuplicates||!0},d=this.derivativeWorkflowsClient.mintAndRegisterIpAndMakeDerivativeWithLicenseTokensEncode(u),!((a=s.txOptions)!==null&&a!==void 0&&a.encodedTxDataOnly)){h.n=2;break}return h.a(2,{encodedTxData:d});case 2:return h.n=3,this.approveLicenseTokensForDerivativeWorkflows(s.licenseTokenIds,s.autoApproveLicenseTokens);case 3:return p=function(){var y=W(D().m(function m(){return D().w(function(g){for(;;)switch(g.n){case 0:return g.a(2,i.derivativeWorkflowsClient.mintAndRegisterIpAndMakeDerivativeWithLicenseTokens(u))}},m)}));return function(){return y.apply(this,arguments)}}(),h.a(2,this.handleRegistrationWithFees({options:K(K({},s.options),{},{wipOptions:K(K({},(o=s.options)===null||o===void 0?void 0:o.wipOptions),{},{useMulticallWhenPossible:!1})}),sender:this.walletAddress,spgNftContract:u.spgNftContract,spgSpenderAddress:this.derivativeWorkflowsClient.address,encodedTxs:[d],contractCall:p,txOptions:s.txOptions}));case 4:return h.p=4,f=h.v,h.a(2,Ve(f,"Failed to mint and register IP and make derivative with license tokens"))}},r,this,[[0,4]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"registerIpAndMakeDerivativeWithLicenseTokens",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p,f,h,y,m,g;return D().w(function(v){for(;;)switch(v.p=v.n){case 0:return v.p=0,a=BigInt(s.tokenId),v.n=1,_d({nftContract:s.nftContract,tokenId:a,rpcClient:this.rpcClient,wallet:this.wallet,chainId:this.chainId});case 1:return o=v.v,v.n=2,this.isRegistered(o);case 2:if(l=v.v,!l){v.n=3;break}throw new Error("The NFT with id ".concat(a," is already registered as IP."));case 3:return v.n=4,this.validateLicenseTokenIds(s.licenseTokenIds);case 4:return u=v.v,v.n=5,Iu(this.rpcClient,s.deadline);case 5:return d=v.v,v.n=6,oc({ipIdAddress:o,methodType:Bn.REGISTER_IP_AND_MAKE_DERIVATIVE_WITH_LICENSE_TOKENS,deadline:d,wallet:this.wallet,chainId:this.chainId});case 6:return p=v.v,v.n=7,this.approveLicenseTokensForDerivativeWorkflows(u,s.autoApproveLicenseTokens);case 7:if(f=K(K({},s),{},{tokenId:a,licenseTokenIds:u,royaltyContext:$t,ipMetadata:Hl(s.ipMetadata),sigMetadataAndRegister:{signer:ye(this.walletAddress),deadline:d,signature:p},maxRts:Ly(s.maxRts)}),!((i=s.txOptions)!==null&&i!==void 0&&i.encodedTxDataOnly)){v.n=8;break}return v.a(2,{encodedTxData:this.derivativeWorkflowsClient.registerIpAndMakeDerivativeWithLicenseTokensEncode(f)});case 8:return v.n=9,this.derivativeWorkflowsClient.registerIpAndMakeDerivativeWithLicenseTokens(f);case 9:return h=v.v,v.n=10,this.rpcClient.waitForTransactionReceipt(K(K({},s.txOptions),{},{hash:h}));case 10:return y=v.v,m=this.getIpIdAndTokenIdsFromEvent(y)[0],v.a(2,K({txHash:h},m));case 11:v.n=13;break;case 12:return v.p=12,g=v.v,v.a(2,Ve(g,"Failed to register IP and make derivative with license tokens"));case 13:return v.a(2)}},r,this,[[0,12]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"registerIPAndAttachLicenseTermsAndDistributeRoyaltyTokens",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p,f,h,y,m,g,v,b,w,A,I,C;return D().w(function(E){for(;;)switch(E.p=E.n){case 0:return E.p=0,i=V0(s.royaltyShares),a=i.royaltyShares,o=i.totalAmount,E.n=1,xh(s.licenseTermsData,this.rpcClient,this.chainId);case 1:return l=E.v,u=l.licenseTerms,E.n=2,Iu(this.rpcClient,s.deadline);case 2:return d=E.v,E.n=3,_d({nftContract:ye(s.nftContract),tokenId:BigInt(s.tokenId),rpcClient:this.rpcClient,wallet:this.wallet,chainId:this.chainId});case 3:return p=E.v,E.n=4,this.isRegistered(p);case 4:if(f=E.v,!f){E.n=5;break}throw new Error("The NFT with id ".concat(s.tokenId," is already registered as IP."));case 5:return E.n=6,Tl({request:s,rpcClient:this.rpcClient,wallet:this.wallet,chainId:this.chainId});case 6:return h=E.v,y=h.transformRequest,E.n=7,this.royaltyTokenDistributionWorkflowsClient.registerIpAndAttachPilTermsAndDeployRoyaltyVault(y);case 7:return m=E.v,E.n=8,this.rpcClient.waitForTransactionReceipt(K(K({},s.txOptions),{},{hash:m}));case 8:return g=E.v,v=this.getIpIdAndTokenIdsFromEvent(g)[0].ipId,E.n=9,this.getLicenseTermsId(u);case 9:return b=E.v,w=this.royaltyModuleEventClient.parseTxIpRoyaltyVaultDeployedEvent(g)[0].ipRoyaltyVault,E.n=10,this.distributeRoyaltyTokens({ipId:v,deadline:d,ipRoyaltyVault:w,royaltyShares:a,totalAmount:o,txOptions:s.txOptions});case 10:return A=E.v,E.n=11,this.rpcClient.waitForTransactionReceipt(K(K({},s.txOptions),{},{hash:A}));case 11:return E.n=12,Ld({maxLicenseTokensData:s.licenseTermsData,licensorIpId:v,licenseTermsIds:b,totalLicenseTokenLimitHookClient:this.totalLicenseTokenLimitHookClient,templateAddress:this.licenseTemplateAddress});case 12:return I=E.v,E.a(2,K({registerIpAndAttachPilTermsAndDeployRoyaltyVaultTxHash:m,distributeRoyaltyTokensTxHash:A,ipId:v,licenseTermsIds:b,ipRoyaltyVault:w},I.length>0&&{maxLicenseTokensTxHashes:I}));case 13:return E.p=13,C=E.v,E.a(2,Ve(C,"Failed to register IP and attach license terms and distribute royalty tokens"))}},r,this,[[0,13]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"registerDerivativeIpAndAttachLicenseTermsAndDistributeRoyaltyTokens",value:function(){var e=W(D().m(function r(s){var i=this,a,o,l,u,d,p,f,h,y,m,g,v,b,w,A,I,C,E;return D().w(function(N){for(;;)switch(N.p=N.n){case 0:return N.p=0,N.n=1,_d({nftContract:ye(s.nftContract),tokenId:BigInt(s.tokenId),rpcClient:this.rpcClient,wallet:this.wallet,chainId:this.chainId});case 1:return o=N.v,N.n=2,Tl({request:s,rpcClient:this.rpcClient,wallet:this.wallet,chainId:this.chainId});case 2:return l=N.v,u=l.transformRequest,d=V0(s.royaltyShares),p=d.royaltyShares,f=d.totalAmount,N.n=3,this.isRegistered(o);case 3:if(h=N.v,!h){N.n=4;break}throw new Error("The NFT with id ".concat(s.tokenId," is already registered as IP."));case 4:return y=this.royaltyTokenDistributionWorkflowsClient.registerIpAndMakeDerivativeAndDeployRoyaltyVaultEncode(u),m=function(){return i.royaltyTokenDistributionWorkflowsClient.registerIpAndMakeDerivativeAndDeployRoyaltyVault(u)},N.n=5,this.handleRegistrationWithFees({options:K(K({},s.options),{},{wipOptions:K(K({},(a=s.options)===null||a===void 0?void 0:a.wipOptions),{},{useMulticallWhenPossible:!1})}),sender:this.walletAddress,spgSpenderAddress:this.royaltyTokenDistributionWorkflowsClient.address,derivData:u.derivData,encodedTxs:[y],contractCall:m,txOptions:K({},s.txOptions)});case 5:if(g=N.v,v=g.txHash,b=g.ipId,w=g.tokenId,A=g.receipt,!(w===void 0||!b||!A)){N.n=6;break}throw new Error("Failed to register derivative ip and deploy royalty vault.");case 6:return I=this.royaltyModuleEventClient.parseTxIpRoyaltyVaultDeployedEvent(A).filter(function(_){return _.ipId===b})[0].ipRoyaltyVault,N.n=7,this.distributeRoyaltyTokens({ipId:b,deadline:s.deadline,ipRoyaltyVault:I,royaltyShares:p,totalAmount:f,txOptions:s.txOptions});case 7:return C=N.v,N.n=8,this.rpcClient.waitForTransactionReceipt(K(K({},s.txOptions),{},{hash:C}));case 8:return N.a(2,{registerDerivativeIpAndAttachLicenseTermsAndDistributeRoyaltyTokensTxHash:v,distributeRoyaltyTokensTxHash:C,ipId:b,tokenId:w,ipRoyaltyVault:I});case 9:return N.p=9,E=N.v,N.a(2,Ve(E,"Failed to register derivative IP and attach license terms and distribute royalty tokens"))}},r,this,[[0,9]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"mintAndRegisterIpAndAttachPilTermsAndDistributeRoyaltyTokens",value:function(){var e=W(D().m(function r(s){var i=this,a,o,l,u,d,p,f,h,y,m,g,v,b,w,A,I;return D().w(function(C){for(;;)switch(C.p=C.n){case 0:return C.p=0,C.n=1,xh(s.licenseTermsData,this.rpcClient,this.chainId);case 1:return o=C.v,l=o.licenseTerms,C.n=2,Tl({request:s,rpcClient:this.rpcClient,wallet:this.wallet,chainId:this.chainId});case 2:return u=C.v,d=u.transformRequest,p=this.royaltyTokenDistributionWorkflowsClient.mintAndRegisterIpAndAttachPilTermsAndDistributeRoyaltyTokensEncode(d),f=function(){return i.royaltyTokenDistributionWorkflowsClient.mintAndRegisterIpAndAttachPilTermsAndDistributeRoyaltyTokens(d)},C.n=3,this.handleRegistrationWithFees({options:K(K({},s.options),{},{wipOptions:K(K({},(a=s.options)===null||a===void 0?void 0:a.wipOptions),{},{useMulticallWhenPossible:!1})}),sender:this.walletAddress,spgNftContract:d.spgNftContract,spgSpenderAddress:this.royaltyTokenDistributionWorkflowsClient.address,encodedTxs:[p],contractCall:f,txOptions:s.txOptions});case 3:if(h=C.v,y=h.txHash,m=h.ipId,g=h.tokenId,v=h.receipt,v){C.n=4;break}return C.a(2,{txHash:y});case 4:return C.n=5,this.getLicenseTermsId(l);case 5:return b=C.v,w=this.royaltyModuleEventClient.parseTxIpRoyaltyVaultDeployedEvent(v)[0].ipRoyaltyVault,C.n=6,Ld({maxLicenseTokensData:s.licenseTermsData,licensorIpId:m,licenseTermsIds:b,totalLicenseTokenLimitHookClient:this.totalLicenseTokenLimitHookClient,templateAddress:this.licenseTemplateAddress});case 6:return A=C.v,C.a(2,K({txHash:y,ipId:m,licenseTermsIds:b,ipRoyaltyVault:w,tokenId:g},A.length>0&&{maxLicenseTokensTxHashes:A}));case 7:return C.p=7,I=C.v,C.a(2,Ve(I,"Failed to mint and register IP and attach PIL terms and distribute royalty tokens"))}},r,this,[[0,7]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"mintAndRegisterIpAndMakeDerivativeAndDistributeRoyaltyTokens",value:function(){var e=W(D().m(function r(s){var i=this,a,o,l,u,d;return D().w(function(p){for(;;)switch(p.p=p.n){case 0:return p.p=0,p.n=1,Tl({request:s,rpcClient:this.rpcClient,wallet:this.wallet,chainId:this.chainId});case 1:return a=p.v,o=a.transformRequest,l=this.royaltyTokenDistributionWorkflowsClient.mintAndRegisterIpAndMakeDerivativeAndDistributeRoyaltyTokensEncode(o),u=function(){return i.royaltyTokenDistributionWorkflowsClient.mintAndRegisterIpAndMakeDerivativeAndDistributeRoyaltyTokens(o)},p.n=2,this.handleRegistrationWithFees({spgNftContract:o.spgNftContract,options:s.options,sender:this.walletAddress,spgSpenderAddress:this.royaltyTokenDistributionWorkflowsClient.address,derivData:o.derivData,encodedTxs:[l],contractCall:u,txOptions:s.txOptions});case 2:return p.a(2,p.v);case 3:return p.p=3,d=p.v,p.a(2,Ve(d,"Failed to mint and register IP and make derivative and distribute royalty tokens"))}},r,this,[[0,3]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"distributeRoyaltyTokens",value:function(){var e=W(D().m(function r(s){var i,a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,BZ({request:s,rpcClient:this.rpcClient,wallet:this.wallet,chainId:this.chainId});case 1:return i=l.v,a=i.transformRequest,l.n=2,this.royaltyTokenDistributionWorkflowsClient.distributeRoyaltyTokens(a);case 2:return o=l.v,l.n=3,this.rpcClient.waitForTransactionReceipt(K(K({},s.txOptions),{},{hash:o}));case 3:return l.a(2,o)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"isRegistered",value:function(){var e=W(D().m(function r(s){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.ipAssetRegistryClient.isRegistered({id:ye(s)});case 1:return i.a(2,i.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"batchRegisterIpAssetsWithOptimizedWorkflows",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p,f,h,y,m,g,v,b,w,A,I,C,E,N,_,U,$,B,j,x,k,M;return D().w(function(P){for(;;)switch(P.p=P.n){case 0:P.p=0,i=[],a=bt(s.requests),P.p=1,a.s();case 2:if((o=a.n()).done){P.n=5;break}return l=o.value,P.n=3,Tl({request:l,rpcClient:this.rpcClient,wallet:this.wallet,chainId:this.chainId});case 3:u=P.v,i.push(u);case 4:P.n=2;break;case 5:P.n=7;break;case 6:P.p=6,x=P.v,a.e(x);case 7:return P.p=7,a.f(),P.f(7);case 8:return d=i.filter(function(S){var L;return(L=S.extraData)===null||L===void 0?void 0:L.royaltyShares}).map(function(S){return{nftContract:S.transformRequest.nftContract,tokenId:S.transformRequest.tokenId,royaltyShares:S.extraData.royaltyShares,deadline:S.extraData.deadline}}),P.n=9,I$({transferWorkflowRequests:i,multicall3Address:this.multicall3Client.address,rpcClient:this.rpcClient,wallet:this.wallet,walletAddress:this.walletAddress,options:s.options,chainId:this.chainId});case 9:p=P.v,f=p.response,h=p.aggregateRegistrationRequest,y=[],m=[],g=bt(f),P.p=10,g.s();case 11:if((v=g.n()).done){P.n=14;break}return b=v.value,w=b.txHash,A=b.receipt,I=this.ipAssetRegistryClient.parseTxIpRegisteredEvent(A),C=this.royaltyModuleEventClient.parseTxIpRoyaltyVaultDeployedEvent(A),P.n=12,rje({royaltyDistributionRequests:d,ipRegisteredLog:I,ipRoyaltyVault:C,rpcClient:this.rpcClient,wallet:this.wallet,chainId:this.chainId});case 12:E=P.v,N=E.requests,_=E.ipRoyaltyVaults,m.push.apply(m,ys(N)),y.push({txHash:w,receipt:A,ipRoyaltyVault:_,ipAssetsWithLicenseTerms:I.map(function(S){return{ipId:S.ipId,tokenId:S.tokenId}})});case 13:P.n=11;break;case 14:P.n=16;break;case 15:P.p=15,k=P.v,g.e(k);case 16:return P.p=16,g.f(),P.f(16);case 17:if(!(m.length>0)){P.n=19;break}return P.n=18,I$({transferWorkflowRequests:m,multicall3Address:this.multicall3Client.address,rpcClient:this.rpcClient,wallet:this.wallet,walletAddress:this.walletAddress,options:s.options,chainId:this.chainId});case 18:$=P.v,B=$.response,U=B.map(function(S){return S.txHash});case 19:return P.n=20,this.populateLicenseAndTokenIdsForRegistrationResults(y,h);case 20:return j=P.v,P.a(2,K({registrationResults:j},U&&{distributeRoyaltyTokensTxHashes:U}));case 21:return P.p=21,M=P.v,P.a(2,Ve(M,"Failed to batch register IP assets with optimized workflows"))}},r,this,[[10,15,16,17],[1,6,7,8],[0,21]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"registerIpAsset",value:function(){var e=W(D().m(function r(s){var i,a,o,l;return D().w(function(u){for(;;)switch(u.p=u.n){case 0:if(u.p=0,i=s.nft,a=s.licenseTermsData,o=s.royaltyShares,!(o&&!a)){u.n=1;break}throw new Error("License terms data must be provided when royalty shares are specified.");case 1:if(i.type!=="minted"){u.n=3;break}return u.n=2,this.handleMintedNftRegistration(s);case 2:return u.a(2,u.v);case 3:if(i.type!=="mint"){u.n=5;break}return u.n=4,this.handleMintNftRegistration(s);case 4:return u.a(2,u.v);case 5:throw new Error("Invalid NFT type");case 6:u.n=8;break;case 7:return u.p=7,l=u.v,u.a(2,Ve(l,"Failed to register IP Asset"));case 8:return u.a(2)}},r,this,[[0,7]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"registerDerivativeIpAsset",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p;return D().w(function(f){for(;;)switch(f.p=f.n){case 0:if(f.p=0,i=s.nft,a=s.licenseTokenIds,o=s.royaltyShares,l=s.derivData,!(o&&!l)){f.n=1;break}throw new Error("derivData must be provided when royaltyShares are provided.");case 1:if(u=!!l,d=!!(a&&a.length>0),!(!u&&!d)){f.n=2;break}throw new Error("Either derivData or licenseTokenIds must be provided.");case 2:if(i.type!=="minted"){f.n=4;break}return f.n=3,this.handleMintedNftDerivativeRegistration(s);case 3:return f.a(2,f.v);case 4:if(i.type!=="mint"){f.n=6;break}return f.n=5,this.handleMintNftDerivativeRegistration(s);case 5:return f.a(2,f.v);case 6:throw new Error("Invalid NFT type.");case 7:f.n=9;break;case 8:return f.p=8,p=f.v,f.a(2,Ve(p,"Failed to register derivative IP Asset"));case 9:return f.a(2)}},r,this,[[0,8]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"handleMintedNftDerivativeRegistration",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p,f,h,y;return D().w(function(m){for(;;)switch(m.n){case 0:if(i=s.nft,a=s.royaltyShares,o=s.derivData,l=s.maxRts,u=s.licenseTokenIds,d=s.deadline,p=s.txOptions,f=s.options,h=s.ipMetadata,y={nftContract:i.nftContract,tokenId:i.tokenId,ipMetadata:h,deadline:d,txOptions:p,options:f},!(a&&o)){m.n=1;break}return m.a(2,this.registerDerivativeIpAndAttachLicenseTermsAndDistributeRoyaltyTokens(K(K({},y),{},{royaltyShares:a,derivData:o})));case 1:if(!o){m.n=2;break}return m.a(2,this.registerDerivativeIp(K(K({},y),{},{derivData:o})));case 2:return m.a(2,this.registerIpAndMakeDerivativeWithLicenseTokens(K(K({},y),{},{licenseTokenIds:u,maxRts:l,autoApproveLicenseTokens:s.autoApproveLicenseTokens})))}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"handleMintNftDerivativeRegistration",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p,f,h;return D().w(function(y){for(;;)switch(y.n){case 0:if(i=s.nft,a=s.royaltyShares,o=s.derivData,l=s.maxRts,u=s.licenseTokenIds,d=s.txOptions,p=s.options,f=s.ipMetadata,h={spgNftContract:i.spgNftContract,recipient:i.recipient,allowDuplicates:i.allowDuplicates,ipMetadata:f,txOptions:d,options:p},!(a&&o)){y.n=1;break}return y.a(2,this.mintAndRegisterIpAndMakeDerivativeAndDistributeRoyaltyTokens(K(K({},h),{},{royaltyShares:a,derivData:o})));case 1:if(!o){y.n=2;break}return y.a(2,this.mintAndRegisterIpAndMakeDerivative(K(K({},h),{},{derivData:o})));case 2:return y.a(2,this.mintAndRegisterIpAndMakeDerivativeWithLicenseTokens(K(K({},h),{},{licenseTokenIds:u,maxRts:l,autoApproveLicenseTokens:s.autoApproveLicenseTokens})))}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"linkDerivative",value:function(){var e=W(D().m(function r(s){var i;return D().w(function(a){for(;;)switch(a.p=a.n){case 0:if(a.p=0,!("parentIpIds"in s)){a.n=1;break}return a.a(2,this.registerDerivative(s));case 1:return a.a(2,this.registerDerivativeWithLicenseTokens(s));case 2:a.n=4;break;case 3:return a.p=3,i=a.v,a.a(2,Ve(i,"Failed to link derivative"));case 4:return a.a(2)}},r,this,[[0,3]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"handleMintedNftRegistration",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p;return D().w(function(f){for(;;)switch(f.n){case 0:if(i=s.nft,a=s.ipMetadata,o=s.txOptions,l=s.licenseTermsData,u=s.royaltyShares,d=s.deadline,p={nftContract:i.nftContract,tokenId:i.tokenId,ipMetadata:a,deadline:d,txOptions:o},!(l&&u)){f.n=1;break}return f.a(2,this.registerIPAndAttachLicenseTermsAndDistributeRoyaltyTokens(K(K({},p),{},{licenseTermsData:l,royaltyShares:u})));case 1:if(!l){f.n=2;break}return f.a(2,this.registerIpAndAttachPilTerms(K(K({},p),{},{licenseTermsData:l})));case 2:return f.a(2,this.register(K({},p)))}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"handleMintNftRegistration",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p;return D().w(function(f){for(;;)switch(f.n){case 0:if(i=s.nft,a=s.ipMetadata,o=s.txOptions,l=s.options,u=s.licenseTermsData,d=s.royaltyShares,p={spgNftContract:i.spgNftContract,recipient:i.recipient,allowDuplicates:i.allowDuplicates,ipMetadata:a,txOptions:o,options:l},!(u&&d)){f.n=1;break}return f.a(2,this.mintAndRegisterIpAndAttachPilTermsAndDistributeRoyaltyTokens(K(K({},p),{},{licenseTermsData:u,royaltyShares:d})));case 1:if(!u){f.n=2;break}return f.a(2,this.mintAndRegisterIpAssetWithPilTerms(K(K({},p),{},{licenseTermsData:u})));case 2:return f.a(2,this.mintAndRegisterIp(K({},p)))}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"getLicenseTermsId",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d;return D().w(function(p){for(;;)switch(p.p=p.n){case 0:i=[],a=bt(s),p.p=1,a.s();case 2:if((o=a.n()).done){p.n=5;break}return l=o.value,p.n=3,this.licenseTemplateClient.getLicenseTermsId({terms:l});case 3:u=p.v,i.push(u.selectedLicenseTermsId);case 4:p.n=2;break;case 5:p.n=7;break;case 6:p.p=6,d=p.v,a.e(d);case 7:return p.p=7,a.f(),p.f(7);case 8:return p.a(2,i)}},r,this,[[1,6,7,8]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"validateLicenseTokenIds",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d;return D().w(function(p){for(;;)switch(p.p=p.n){case 0:if(s.length!==0){p.n=1;break}throw new Error("License token IDs must be provided.");case 1:i=s.map(function(f){return BigInt(f)}),a=bt(i),p.p=2,a.s();case 3:if((o=a.n()).done){p.n=6;break}return l=o.value,p.n=4,this.licenseTokenReadOnlyClient.ownerOf({tokenId:l});case 4:if(u=p.v,u){p.n=5;break}throw new Error("License token id ".concat(l," must be owned by the caller."));case 5:p.n=3;break;case 6:p.n=8;break;case 7:p.p=7,d=p.v,a.e(d);case 8:return p.p=8,a.f(),p.f(8);case 9:return p.a(2,i)}},r,this,[[2,7,8,9]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"getIpIdAndTokenIdsFromEvent",value:function(n,r){var s=this.ipAssetRegistryClient.parseTxIpRegisteredEvent(n);return s.map(function(i){var a={ipId:i.ipId,tokenId:i.tokenId};return r?K(K({},a),{},ln({},r,i.tokenContract)):a})}},{key:"handleRegistrationWithFees",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p,f,h,y,m,g,v,b,w,A,I,C,E,N,_,U,$,B,j;return D().w(function(x){for(;;)switch(x.n){case 0:if(u=s.sender,d=s.derivData,p=s.spgNftContract,f=s.spgSpenderAddress,h=s.txOptions,y=s.options,m=s.encodedTxs,g=s.contractCall,v=[],b=y==null?void 0:y.wipOptions,w=(i=b==null?void 0:b.useMulticallWhenPossible)!==null&&i!==void 0?i:!0,!p){x.n=3;break}return x.n=1,aN(new rl(this.rpcClient,p));case 1:return A=x.v,x.n=2,oN(p,this.rpcClient);case 2:I=x.v,I||(w=!1),v.push.apply(v,ys(A?[K({address:p},A)]:[]));case 3:if(!d){x.n=5;break}return x.n=4,uP({derivData:d,rpcClient:this.rpcClient,wallet:this.wallet,chainId:this.chainId,sender:u});case 4:C=x.v,E=bt(C);try{for(E.s();!(N=E.n()).done;)_=N.value,v.push(K({address:f},_))}catch(k){E.e(k)}finally{E.f()}case 5:return x.n=6,Uu({options:K(K({},y),{},{wipOptions:K(K({},b),{},{useMulticallWhenPossible:w})}),multicall3Address:this.multicall3Client.address,rpcClient:this.rpcClient,tokenSpenders:v,contractCall:g,sender:u,wallet:this.wallet,txOptions:h,encodedTxs:m});case 6:return U=x.v,$=U.txHash,B=U.receipt,j=(a=this.getIpIdAndTokenIdsFromEvent(B))===null||a===void 0?void 0:a[0],x.a(2,K({txHash:$,receipt:B},j&&{ipId:(o=j.ipId)!==null&&o!==void 0?o:void 0,tokenId:(l=j.tokenId)!==null&&l!==void 0?l:void 0}))}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"populateLicenseAndTokenIdsForRegistrationResults",value:function(){var e=W(D().m(function r(s,i){var a,o,l,u,d,p,f,h,y;return D().w(function(m){for(;;)switch(m.p=m.n){case 0:a=Object.values(i).map(function(g){var v=g.extraData;return v}),o=a.flat(),l=-1,u=bt(s),m.p=1,u.s();case 2:if((d=u.n()).done){m.n=7;break}p=d.value,f=0;case 3:if(!(f<p.ipAssetsWithLicenseTerms.length)){m.n=6;break}if(l++,!(p.ipAssetsWithLicenseTerms[f]&&o[l])){m.n=5;break}return m.n=4,this.processIpAssetLicenseTerms(p.ipAssetsWithLicenseTerms[f],o[l]);case 4:h=m.v,p.ipAssetsWithLicenseTerms[f]=h;case 5:f++,m.n=3;break;case 6:m.n=2;break;case 7:m.n=9;break;case 8:m.p=8,y=m.v,u.e(y);case 9:return m.p=9,u.f(),m.f(9);case 10:return m.a(2,s)}},r,this,[[1,8,9,10]])}));function n(r,s){return e.apply(this,arguments)}return n}()},{key:"processIpAssetLicenseTerms",value:function(){var e=W(D().m(function r(s,i){var a,o,l,u,d;return D().w(function(p){for(;;)switch(p.n){case 0:if(i!=null&&(a=i.licenseTermsData)!==null&&a!==void 0&&a.length){p.n=1;break}return p.a(2,s);case 1:return p.n=2,this.getLicenseTermsId(i.licenseTermsData.map(function(f){return f.terms}));case 2:if(o=p.v,s.licenseTermsIds=o,l=i.maxLicenseTokens,l!=null&&l.length){p.n=3;break}return p.a(2,s);case 3:return u=l.filter(function(f){return f!==void 0}).map(function(f){return{maxLicenseTokens:f}}),p.n=4,Ld({maxLicenseTokensData:u,licensorIpId:s.ipId,licenseTermsIds:o,totalLicenseTokenLimitHookClient:this.totalLicenseTokenLimitHookClient,templateAddress:this.licenseTemplateAddress});case 4:return d=p.v,d!=null&&d.length&&(s.maxLicenseTokensTxHashes=d),p.a(2,s)}},r,this)}));function n(r,s){return e.apply(this,arguments)}return n}()},{key:"approveLicenseTokensForDerivativeWorkflows",value:function(){var e=W(D().m(function r(s,i){var a,o,l,u,d;return D().w(function(p){for(;;)switch(p.p=p.n){case 0:if(i===!1){p.n=8;break}a=bt(s),p.p=1,a.s();case 2:if((o=a.n()).done){p.n=5;break}return l=o.value,p.n=3,this.licenseTokenClient.approve({to:this.derivativeWorkflowsClient.address,tokenId:BigInt(l)});case 3:return u=p.v,p.n=4,MPe(this.rpcClient,u);case 4:p.n=2;break;case 5:p.n=7;break;case 6:p.p=6,d=p.v,a.e(d);case 7:return p.p=7,a.f(),p.f(7);case 8:return p.a(2)}},r,this,[[1,6,7,8]])}));function n(r,s){return e.apply(this,arguments)}return n}()}])}(),ije=function(){function t(e,n,r){et(this,t),this.licensingModuleClient=new sP(e,n),this.piLicenseTemplateReadOnlyClient=new NZ(e),this.licenseTemplateClient=new iP(e,n),this.licenseRegistryReadOnlyClient=new C2(e),this.ipAssetRegistryClient=new uf(e,n),this.moduleRegistryReadOnlyClient=new yPe(e),this.multicall3Client=new E2(e,n),this.wipClient=new df(e,n),this.totalLicenseTokenLimitHookClient=new MZ(e,n),this.licenseAttachmentWorkflowsClient=new k2(e,n),this.rpcClient=e,this.wallet=n,this.chainId=r,this.walletAddress=n.account.address}return tt(t,[{key:"registerPILTerms",value:function(){var e=W(D().m(function r(s){var i,a;return D().w(function(o){for(;;)switch(o.p=o.n){case 0:return o.p=0,i=Nr.validateLicenseTerms(s,this.chainId),o.n=1,this.registerPILTermsHelper(i,s.txOptions);case 1:return o.a(2,o.v);case 2:return o.p=2,a=o.v,o.a(2,Ve(a,"Failed to register license terms"))}},r,this,[[0,2]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"attachLicenseTerms",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p;return D().w(function(f){for(;;)switch(f.p=f.n){case 0:return f.p=0,s.licenseTermsId=BigInt(s.licenseTermsId),f.n=1,this.ipAssetRegistryClient.isRegistered({id:ye(s.ipId)});case 1:if(a=f.v,a){f.n=2;break}throw new Error("The IP with id ".concat(s.ipId," is not registered."));case 2:return f.n=3,this.piLicenseTemplateReadOnlyClient.exists({licenseTermsId:s.licenseTermsId});case 3:if(o=f.v,o){f.n=4;break}throw new Error("License terms id ".concat(s.licenseTermsId," do not exist."));case 4:return f.n=5,this.licenseRegistryReadOnlyClient.hasIpAttachedLicenseTerms({ipId:s.ipId,licenseTemplate:ye(s.licenseTemplate||this.licenseTemplateClient.address),licenseTermsId:s.licenseTermsId});case 5:if(l=f.v,!l){f.n=6;break}return f.a(2,{success:!1});case 6:if(u={ipId:s.ipId,licenseTemplate:s.licenseTemplate||this.licenseTemplateClient.address,licenseTermsId:s.licenseTermsId},!((i=s.txOptions)!==null&&i!==void 0&&i.encodedTxDataOnly)){f.n=7;break}return f.a(2,{encodedTxData:this.licensingModuleClient.attachLicenseTermsEncode(u)});case 7:return f.n=8,this.licensingModuleClient.attachLicenseTerms(u);case 8:return d=f.v,f.n=9,this.rpcClient.waitForTransactionReceipt(K(K({},s.txOptions),{},{hash:d}));case 9:return f.a(2,{txHash:d,success:!0});case 10:f.n=12;break;case 11:return f.p=11,p=f.v,f.a(2,Ve(p,"Failed to attach license terms"));case 12:return f.a(2)}},r,this,[[0,11]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"mintLicenseTokens",value:function(){var e=W(D().m(function r(s){var i=this,a,o,l,u,d,p,f,h,y,m,g,v,b,w,A,I,C,E,N,_,U;return D().w(function($){for(;;)switch($.p=$.n){case 0:if($.p=0,u=ye(s.receiver||this.walletAddress),d={licensorIpId:ye(s.licensorIpId),licenseTemplate:ye(s.licenseTemplate||this.licenseTemplateClient.address),licenseTermsId:BigInt(s.licenseTermsId),amount:BigInt(s.amount===void 0?1:s.amount),receiver:u,royaltyContext:$t,maxMintingFee:BigInt((a=s.maxMintingFee)!==null&&a!==void 0?a:0),maxRevenueShare:qa((o=s.maxRevenueShare)!==null&&o!==void 0?o:100,Xl.MAX_REVENUE_SHARE)},!(d.maxMintingFee<0)){$.n=1;break}throw new Error("The maxMintingFee must be greater than 0.");case 1:return $.n=2,this.ipAssetRegistryClient.isRegistered({id:ye(s.licensorIpId)});case 2:if(p=$.v,p){$.n=3;break}throw new Error("The licensor IP with id ".concat(s.licensorIpId," is not registered."));case 3:return $.n=4,this.piLicenseTemplateReadOnlyClient.exists({licenseTermsId:d.licenseTermsId});case 4:if(f=$.v,f){$.n=5;break}throw new Error("License terms id ".concat(s.licenseTermsId," do not exist."));case 5:return h=new Ls(this.rpcClient,this.wallet,d.licensorIpId),$.n=6,h.owner();case 6:if(y=$.v,y===this.walletAddress){$.n=8;break}return $.n=7,this.licenseRegistryReadOnlyClient.hasIpAttachedLicenseTerms({ipId:d.licensorIpId,licenseTemplate:d.licenseTemplate,licenseTermsId:d.licenseTermsId});case 7:if(m=$.v,m){$.n=8;break}throw new Error("License terms id ".concat(d.licenseTermsId," is not attached to the IP with id ").concat(d.licensorIpId,"."));case 8:if(g=this.licensingModuleClient.mintLicenseTokensEncode(d),!((l=s.txOptions)!==null&&l!==void 0&&l.encodedTxDataOnly)){$.n=9;break}return $.a(2,{encodedTxData:g});case 9:return $.n=10,FZ({predictMintingFeeRequest:d,rpcClient:this.rpcClient,chainId:this.chainId,walletAddress:this.walletAddress});case 10:return v=$.v,b=[],v.amount>0n&&b.push(K({address:xZ[this.chainId]},v)),$.n=11,Uu({options:s.options,multicall3Address:this.multicall3Client.address,rpcClient:this.rpcClient,tokenSpenders:b,contractCall:function(){return i.licensingModuleClient.mintLicenseTokens(d)},wallet:this.wallet,sender:this.walletAddress,txOptions:s.txOptions,encodedTxs:[g]});case 11:for(w=$.v,A=w.txHash,I=w.receipt,C=this.licensingModuleClient.parseTxLicenseTokensMintedEvent(I),E=C[0].startLicenseTokenId,N=[],_=0;_<d.amount;_++)N.push(E+BigInt(_));return $.a(2,{txHash:A,licenseTokenIds:N,receipt:I});case 12:return $.p=12,U=$.v,$.a(2,Ve(U,"Failed to mint license tokens"))}},r,this,[[0,12]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"getLicenseTerms",value:function(){var e=W(D().m(function r(s){var i;return D().w(function(a){for(;;)switch(a.p=a.n){case 0:return a.p=0,a.n=1,this.piLicenseTemplateReadOnlyClient.getLicenseTerms({selectedLicenseTermsId:BigInt(s)});case 1:return a.a(2,a.v);case 2:return a.p=2,i=a.v,a.a(2,Ve(i,"Failed to get license terms"))}},r,this,[[0,2]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"predictMintingLicenseFee",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u;return D().w(function(d){for(;;)switch(d.p=d.n){case 0:return d.p=0,d.n=1,this.ipAssetRegistryClient.isRegistered({id:ye(s.licensorIpId)});case 1:if(i=d.v,i){d.n=2;break}throw new Error("The licensor IP with id ".concat(s.licensorIpId," is not registered."));case 2:return a=BigInt(s.licenseTermsId),d.n=3,this.piLicenseTemplateReadOnlyClient.exists({licenseTermsId:a});case 3:if(o=d.v,o){d.n=4;break}throw new Error("License terms id ".concat(s.licenseTermsId," do not exist."));case 4:return l=K(K({},s),{},{receiver:ye(s.receiver||this.walletAddress),amount:BigInt(s.amount),royaltyContext:$t,licenseTemplate:ye(s.licenseTemplate||this.licenseTemplateClient.address),licenseTermsId:a}),d.n=5,$Z({predictMintingFeeRequest:l,rpcClient:this.rpcClient,chainId:this.chainId,walletAddress:this.walletAddress});case 5:return d.a(2,d.v);case 6:return d.p=6,u=d.v,d.a(2,Ve(u,"Failed to predict minting license fee"))}},r,this,[[0,6]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"setLicensingConfig",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p;return D().w(function(f){for(;;)switch(f.p=f.n){case 0:if(f.p=0,a={ipId:s.ipId,licenseTemplate:ye(s.licenseTemplate||this.licenseTemplateClient.address),licenseTermsId:BigInt(s.licenseTermsId),licensingConfig:cP(s.licensingConfig)},!(a.licenseTemplate===$t&&a.licensingConfig.commercialRevShare!==0)){f.n=1;break}throw new Error("The license template cannot be zero address if commercial revenue share is not zero.");case 1:return f.n=2,this.ipAssetRegistryClient.isRegistered({id:ye(a.ipId)});case 2:if(o=f.v,o){f.n=3;break}throw new Error("The licensor IP with id ".concat(a.ipId," is not registered."));case 3:return f.n=4,this.piLicenseTemplateReadOnlyClient.exists({licenseTermsId:a.licenseTermsId});case 4:if(l=f.v,l){f.n=5;break}throw new Error("License terms id ".concat(a.licenseTermsId," do not exist."));case 5:if(a.licensingConfig.licensingHook===$t){f.n=7;break}return f.n=6,this.moduleRegistryReadOnlyClient.isRegistered({moduleAddress:a.licensingConfig.licensingHook});case 6:if(u=f.v,u){f.n=7;break}throw new Error("The licensing hook is not registered.");case 7:if(!(a.licenseTemplate===$t&&a.licenseTermsId!==0n)){f.n=8;break}throw new Error("The license template is zero address but license terms id is not zero.");case 8:if(!((i=s.txOptions)!==null&&i!==void 0&&i.encodedTxDataOnly)){f.n=9;break}return f.a(2,{encodedTxData:this.licensingModuleClient.setLicensingConfigEncode(a)});case 9:return f.n=10,this.licensingModuleClient.setLicensingConfig(a);case 10:return d=f.v,f.n=11,this.rpcClient.waitForTransactionReceipt(K(K({},s.txOptions),{},{hash:d}));case 11:return f.a(2,{txHash:d,success:!0});case 12:f.n=14;break;case 13:return f.p=13,p=f.v,f.a(2,Ve(p,"Failed to set licensing config"));case 14:return f.a(2)}},r,this,[[0,13]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"setMaxLicenseTokens",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p,f,h,y;return D().w(function(m){for(;;)switch(m.p=m.n){case 0:if(i=s.ipId,a=s.licenseTermsId,o=s.maxLicenseTokens,l=s.licenseTemplate,u=s.txOptions,m.p=1,!(o<0)){m.n=2;break}throw new Error("The max license tokens must be greater than 0.");case 2:return d=BigInt(a),p=ye(l||this.licenseTemplateClient.address),m.n=3,this.getLicensingConfig({ipId:i,licenseTermsId:d,licenseTemplate:p});case 3:if(f=m.v,f.licensingHook===this.totalLicenseTokenLimitHookClient.address){m.n=4;break}return m.n=4,this.setLicensingConfig({ipId:i,licenseTermsId:d,licenseTemplate:p,licensingConfig:K(K({},f),{},{licensingHook:this.totalLicenseTokenLimitHookClient.address,expectMinimumGroupRewardShare:Math.trunc(f.expectMinimumGroupRewardShare/1e6)})});case 4:return m.n=5,this.totalLicenseTokenLimitHookClient.setTotalLicenseTokenLimit({licensorIpId:i,licenseTemplate:p,licenseTermsId:d,limit:BigInt(o)});case 5:return h=m.v,m.a(2,ts({txHash:h,txOptions:u,rpcClient:this.rpcClient}));case 6:return m.p=6,y=m.v,m.a(2,Ve(y,"Failed to set max license tokens"))}},r,this,[[1,6]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"getLicensingConfig",value:function(){var e=W(D().m(function r(s){var i,a;return D().w(function(o){for(;;)switch(o.p=o.n){case 0:return o.p=0,i={ipId:ye(s.ipId),licenseTemplate:ye(s.licenseTemplate||this.licenseTemplateClient.address),licenseTermsId:BigInt(s.licenseTermsId)},o.n=1,this.licenseRegistryReadOnlyClient.getLicensingConfig(i);case 1:return o.a(2,o.v);case 2:return o.p=2,a=o.v,o.a(2,Ve(a,"Failed to get licensing config"))}},r,this,[[0,2]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"registerPilTermsAndAttach",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p,f,h,y,m,g,v,b,w,A,I,C;return D().w(function(E){for(;;)switch(E.p=E.n){case 0:return E.p=0,a=s.ipId,E.n=1,this.ipAssetRegistryClient.isRegistered({id:ye(a)});case 1:if(o=E.v,o){E.n=2;break}throw new Error("The IP with id ".concat(a," is not registered."));case 2:return E.n=3,xh(s.licenseTermsData,this.rpcClient,this.chainId);case 3:return l=E.v,u=l.licenseTerms,d=l.licenseTermsData,E.n=4,Iu(this.rpcClient,s.deadline);case 4:return p=E.v,f=new Ls(this.rpcClient,this.wallet,a),E.n=5,f.state();case 5:return h=E.v,y=h.result,E.n=6,oc({ipIdAddress:a,methodType:Bn.REGISTER_PIL_TERMS_AND_ATTACH,deadline:p,state:y,wallet:this.wallet,chainId:this.chainId});case 6:if(m=E.v,g={ipId:a,licenseTermsData:d,sigAttachAndConfig:{signer:ye(this.walletAddress),deadline:p,signature:m}},!((i=s.txOptions)!==null&&i!==void 0&&i.encodedTxDataOnly)){E.n=7;break}return E.a(2,{encodedTxData:this.licenseAttachmentWorkflowsClient.registerPilTermsAndAttachEncode(g)});case 7:return E.n=8,this.licenseAttachmentWorkflowsClient.registerPilTermsAndAttach(g);case 8:return v=E.v,E.n=9,this.rpcClient.waitForTransactionReceipt(K(K({},s.txOptions),{},{hash:v}));case 9:b=[],w=0;case 10:if(!(w<u.length)){E.n=13;break}return I=b,E.n=11,this.getLicenseTermsId(u[w]);case 11:I.push.call(I,E.v);case 12:w++,E.n=10;break;case 13:return E.n=14,Ld({maxLicenseTokensData:s.licenseTermsData,licensorIpId:a,licenseTermsIds:b,totalLicenseTokenLimitHookClient:this.totalLicenseTokenLimitHookClient,templateAddress:this.licenseTemplateClient.address});case 14:return A=E.v,E.a(2,K({txHash:v,licenseTermsIds:b},A.length>0&&{maxLicenseTokensTxHashes:A}));case 15:E.n=17;break;case 16:return E.p=16,C=E.v,E.a(2,Ve(C,"Failed to register PIL terms and attach"));case 17:return E.a(2)}},r,this,[[0,16]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"registerNonComSocialRemixingPIL",value:function(){var e=W(D().m(function r(s){var i,a;return D().w(function(o){for(;;)switch(o.p=o.n){case 0:return o.p=0,i=Nr.nonCommercialSocialRemixing(),o.n=1,this.registerPILTermsHelper(i,s==null?void 0:s.txOptions);case 1:return o.a(2,o.v);case 2:return o.p=2,a=o.v,o.a(2,Ve(a,"Failed to register non commercial social remixing PIL"))}},r,this,[[0,2]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"registerCommercialUsePIL",value:function(){var e=W(D().m(function r(s){var i,a;return D().w(function(o){for(;;)switch(o.p=o.n){case 0:return o.p=0,i=Nr.commercialUse({defaultMintingFee:Number(s.defaultMintingFee),currency:s.currency,royaltyPolicy:s.royaltyPolicyAddress}),o.n=1,this.registerPILTermsHelper(i,s.txOptions);case 1:return o.a(2,o.v);case 2:return o.p=2,a=o.v,o.a(2,Ve(a,"Failed to register commercial use PIL"))}},r,this,[[0,2]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"registerCommercialRemixPIL",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p;return D().w(function(f){for(;;)switch(f.p=f.n){case 0:return i=s.defaultMintingFee,a=s.currency,o=s.royaltyPolicyAddress,l=s.commercialRevShare,u=s.txOptions,f.p=1,d=Nr.commercialRemix({defaultMintingFee:Number(i),currency:a,royaltyPolicy:o,commercialRevShare:l}),f.n=2,this.registerPILTermsHelper(d,u);case 2:return f.a(2,f.v);case 3:return f.p=3,p=f.v,f.a(2,Ve(p,"Failed to register commercial remix PIL"))}},r,this,[[1,3]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"registerCreativeCommonsAttributionPIL",value:function(){var e=W(D().m(function r(s){var i,a,o,l;return D().w(function(u){for(;;)switch(u.p=u.n){case 0:return i=s.currency,a=s.royaltyPolicyAddress,o=s.txOptions,u.p=1,u.n=2,this.registerPILTermsHelper(Nr.creativeCommonsAttribution({currency:i,royaltyPolicy:a}),o);case 2:return u.a(2,u.v);case 3:return u.p=3,l=u.v,u.a(2,Ve(l,"Failed to register creative commons attribution PIL"))}},r,this,[[1,3]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"getLicenseTermsId",value:function(){var e=W(D().m(function r(s){var i;return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.licenseTemplateClient.getLicenseTermsId({terms:s});case 1:return i=a.v,a.a(2,i.selectedLicenseTermsId)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"registerPILTermsHelper",value:function(){var e=W(D().m(function r(s,i){var a,o,l,u,d;return D().w(function(p){for(;;)switch(p.n){case 0:if(s.commercialRevShare=qa(s.commercialRevShare),!(i!=null&&i.encodedTxDataOnly)){p.n=1;break}return p.a(2,{encodedTxData:this.licenseTemplateClient.registerLicenseTermsEncode({terms:s})});case 1:return p.n=2,this.getLicenseTermsId(s);case 2:if(a=p.v,a===0n){p.n=3;break}return p.a(2,{licenseTermsId:a});case 3:return p.n=4,this.licenseTemplateClient.registerLicenseTerms({terms:s});case 4:return o=p.v,p.n=5,ts({txOptions:i,rpcClient:this.rpcClient,txHash:o});case 5:return l=p.v,u=l.receipt,d=this.licenseTemplateClient.parseTxLicenseTermsRegisteredEvent(u),p.a(2,{txHash:o,licenseTermsId:d[0].licenseTermsId});case 6:return p.a(2)}},r,this)}));function n(r,s){return e.apply(this,arguments)}return n}()}])}(),aje=function(){function t(e,n){et(this,t),this.rpcClient=e,this.wallet=n,this.registrationWorkflowsClient=new SZ(e,n)}return tt(t,[{key:"createNFTCollection",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p,f,h,y;return D().w(function(m){for(;;)switch(m.p=m.n){case 0:if(m.p=0,!(s.mintFee!==void 0&&(s.mintFee<0n||s.mintFeeToken===$t||!bi(s.mintFeeToken||"")))){m.n=1;break}throw new Error("Invalid mint fee token address, mint fee is greater than 0.");case 1:if(d={spgNftInitParams:{name:s.name,symbol:s.symbol,baseURI:(i=s.baseURI)!==null&&i!==void 0?i:"",maxSupply:(a=s.maxSupply)!==null&&a!==void 0?a:Number(x6e),mintFee:BigInt((o=s.mintFee)!==null&&o!==void 0?o:0),mintFeeToken:(l=s.mintFeeToken)!==null&&l!==void 0?l:$t,owner:ye(s.owner||this.wallet.account.address),mintFeeRecipient:ye(s.mintFeeRecipient),mintOpen:s.mintOpen,isPublicMinting:s.isPublicMinting,contractURI:s.contractURI}},!((u=s.txOptions)!==null&&u!==void 0&&u.encodedTxDataOnly)){m.n=2;break}return m.a(2,{encodedTxData:this.registrationWorkflowsClient.createCollectionEncode(d)});case 2:return m.n=3,this.registrationWorkflowsClient.createCollection(d);case 3:return p=m.v,m.n=4,this.rpcClient.waitForTransactionReceipt(K(K({},s.txOptions),{},{hash:p}));case 4:return f=m.v,h=this.registrationWorkflowsClient.parseTxCollectionCreatedEvent(f),m.a(2,{txHash:p,spgNftContract:h[0].spgNftContract});case 5:m.n=7;break;case 6:return m.p=6,y=m.v,m.a(2,Ve(y,"Failed to create an SPG NFT collection"));case 7:return m.a(2)}},r,this,[[0,6]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"getMintFeeToken",value:function(){var e=W(D().m(function r(s){var i;return D().w(function(a){for(;;)switch(a.n){case 0:return i=new rl(this.rpcClient,ye(s)),a.a(2,i.mintFeeToken())}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"getMintFee",value:function(){var e=W(D().m(function r(s){var i;return D().w(function(a){for(;;)switch(a.n){case 0:return i=new rl(this.rpcClient,ye(s)),a.a(2,i.mintFee())}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"setTokenURI",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p;return D().w(function(f){for(;;)switch(f.p=f.n){case 0:return i=s.tokenId,a=s.tokenURI,o=s.spgNftContract,l=s.txOptions,f.p=1,u=new TPe(this.rpcClient,this.wallet,ye(o)),f.n=2,u.setTokenUri({tokenId:BigInt(i),tokenUri:a});case 2:return d=f.v,f.a(2,ts({txHash:d,txOptions:l,rpcClient:this.rpcClient}));case 3:return f.p=3,p=f.v,f.a(2,Ve(p,"Failed to set token URI"))}},r,this,[[1,3]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"getTokenURI",value:function(){var e=W(D().m(function r(s){var i,a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return i=s.tokenId,a=s.spgNftContract,o=new rl(this.rpcClient,a),l.n=1,o.tokenUri({tokenId:BigInt(i)});case 1:return l.a(2,l.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()}])}(),oje=function(){function t(e,n,r){et(this,t),this.rpcClient=e,this.wallet=n,this.chainId=r,this.accessControllerClient=new IZ(this.rpcClient,this.wallet),this.ipAssetRegistryClient=new uf(this.rpcClient,this.wallet),this.coreMetadataModuleClient=new tP(this.rpcClient,this.wallet)}return tt(t,[{key:"setPermission",value:function(){var e=W(D().m(function r(s){var i,a,o,l;return D().w(function(u){for(;;)switch(u.p=u.n){case 0:return u.p=0,u.n=1,this.checkIsRegistered(s.ipId);case 1:if(a={ipAccount:s.ipId,signer:s.signer,to:s.to,func:s.func?Ka(s.func):th,permission:s.permission},!((i=s.txOptions)!==null&&i!==void 0&&i.encodedTxDataOnly)){u.n=2;break}return u.a(2,{encodedTxData:this.accessControllerClient.setPermissionEncode(a)});case 2:return u.n=3,this.accessControllerClient.setPermission(a);case 3:return o=u.v,u.n=4,this.rpcClient.waitForTransactionReceipt(K(K({},s.txOptions),{},{hash:o}));case 4:return u.a(2,{txHash:o,success:!0});case 5:u.n=7;break;case 6:return u.p=6,l=u.v,u.a(2,Ve(l,"Failed to set permissions"));case 7:return u.a(2)}},r,this,[[0,6]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"createSetPermissionSignature",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p,f,h,y,m,g,v,b,w,A,I,C,E;return D().w(function(N){for(;;)switch(N.p=N.n){case 0:return N.p=0,a=s.ipId,o=s.signer,l=s.to,u=s.txOptions,d=s.func,p=s.permission,f=s.deadline,N.n=1,this.checkIsRegistered(a);case 1:return h=new Ls(this.rpcClient,this.wallet,a),y=ke({abi:Va,functionName:"setTransientPermission",args:[a,ye(o),ye(l),d?Ka(d):th,p]}),N.n=2,h.state();case 2:return m=N.v,g=m.result,N.n=3,this.rpcClient.getBlock();case 3:return v=N.v.timestamp,b=z0(v,f),N.n=4,wh({ipId:a,deadline:b,state:g,permissions:[{ipId:a,signer:o,to:l,permission:p,func:d}],chainId:this.chainId,wallet:this.wallet});case 4:if(w=N.v,A=w.signature,I={to:ye(this.accessControllerClient.address),value:BigInt(0),data:y,signer:o,deadline:b,signature:A},!((i=s.txOptions)!==null&&i!==void 0&&i.encodedTxDataOnly)){N.n=5;break}return N.a(2,{encodedTxData:h.executeWithSigEncode(I)});case 5:return N.n=6,h.executeWithSig(I);case 6:return C=N.v,N.n=7,this.rpcClient.waitForTransactionReceipt(K(K({},u),{},{hash:C}));case 7:return N.a(2,{txHash:C,success:!0});case 8:N.n=10;break;case 9:return N.p=9,E=N.v,N.a(2,Ve(E,"Failed to create set permission signature"));case 10:return N.a(2)}},r,this,[[0,9]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"setAllPermissions",value:function(){var e=W(D().m(function r(s){var i,a,o,l;return D().w(function(u){for(;;)switch(u.p=u.n){case 0:return u.p=0,u.n=1,this.checkIsRegistered(s.ipId);case 1:if(a={ipAccount:s.ipId,signer:s.signer,permission:s.permission},!((i=s.txOptions)!==null&&i!==void 0&&i.encodedTxDataOnly)){u.n=2;break}return u.a(2,{encodedTxData:this.accessControllerClient.setAllPermissionsEncode(a)});case 2:return u.n=3,this.accessControllerClient.setAllPermissions(a);case 3:return o=u.v,u.n=4,this.rpcClient.waitForTransactionReceipt(K(K({},s.txOptions),{},{hash:o}));case 4:return u.a(2,{txHash:o,success:!0});case 5:u.n=7;break;case 6:return u.p=6,l=u.v,u.a(2,Ve(l,"Failed to set all permissions"));case 7:return u.a(2)}},r,this,[[0,6]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"setBatchPermissions",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p,f,h,y;return D().w(function(m){for(;;)switch(m.p=m.n){case 0:m.p=0,a=s.permissions,o=s.txOptions,l=bt(a),m.p=1,l.s();case 2:if((u=l.n()).done){m.n=4;break}return d=u.value,m.n=3,this.checkIsRegistered(d.ipId);case 3:m.n=2;break;case 4:m.n=6;break;case 5:m.p=5,h=m.v,l.e(h);case 6:return m.p=6,l.f(),m.f(6);case 7:if(p={permissions:a.map(function(g){return{ipAccount:g.ipId,signer:g.signer,to:g.to,func:g.func?Ka(g.func):th,permission:g.permission}})},!((i=s.txOptions)!==null&&i!==void 0&&i.encodedTxDataOnly)){m.n=8;break}return m.a(2,{encodedTxData:this.accessControllerClient.setBatchPermissionsEncode(p)});case 8:return m.n=9,this.accessControllerClient.setBatchPermissions(p);case 9:return f=m.v,m.n=10,this.rpcClient.waitForTransactionReceipt(K(K({},o),{},{hash:f}));case 10:return m.a(2,{txHash:f,success:!0});case 11:m.n=13;break;case 12:return m.p=12,y=m.v,m.a(2,Ve(y,"Failed to set batch permissions"));case 13:return m.a(2)}},r,this,[[1,5,6,7],[0,12]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"createBatchPermissionSignature",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p,f,h,y,m,g,v,b,w,A,I,C,E,N;return D().w(function(_){for(;;)switch(_.p=_.n){case 0:_.p=0,a=s.permissions,o=s.deadline,l=s.ipId,u=s.txOptions,d=bt(a),_.p=1,d.s();case 2:if((p=d.n()).done){_.n=4;break}return f=p.value,_.n=3,this.checkIsRegistered(f.ipId);case 3:_.n=2;break;case 4:_.n=6;break;case 5:_.p=5,E=_.v,d.e(E);case 6:return _.p=6,d.f(),_.f(6);case 7:return h=new Ls(this.rpcClient,this.wallet,l),y=ke({abi:Va,functionName:"setBatchTransientPermissions",args:[a.map(function(U){return{ipAccount:U.ipId,signer:U.signer,to:U.to,func:U.func?Ka(U.func):th,permission:U.permission}})]}),_.n=8,h.state();case 8:return m=_.v,g=m.result,_.n=9,this.rpcClient.getBlock();case 9:return v=_.v.timestamp,b=z0(v,o),_.n=10,wh({ipId:l,deadline:b,state:g,permissions:a,chainId:this.chainId,wallet:this.wallet});case 10:if(w=_.v,A=w.signature,I={to:ye(this.accessControllerClient.address),value:BigInt(0),data:y,signer:ye(this.wallet.account.address),deadline:b,signature:A},!((i=s.txOptions)!==null&&i!==void 0&&i.encodedTxDataOnly)){_.n=11;break}return _.a(2,{encodedTxData:h.executeWithSigEncode(I)});case 11:return _.n=12,h.executeWithSig(I);case 12:return C=_.v,_.n=13,this.rpcClient.waitForTransactionReceipt(K(K({},u),{},{hash:C}));case 13:return _.a(2,{txHash:C,success:!0});case 14:_.n=16;break;case 15:return _.p=15,N=_.v,_.a(2,Ve(N,"Failed to create batch permission signature"));case 16:return _.a(2)}},r,this,[[1,5,6,7],[0,15]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"checkIsRegistered",value:function(){var e=W(D().m(function r(s){var i;return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.ipAssetRegistryClient.isRegistered({id:ye(s)});case 1:if(i=a.v,i){a.n=2;break}throw new Error("IP id with ".concat(s," is not registered."));case 2:return a.a(2)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()}])}(),lje=function(){function t(e,n,r){et(this,t),this.royaltyModuleClient=new bPe(e,n),this.ipAssetRegistryClient=new uf(e,n),this.ipRoyaltyVaultImplReadOnlyClient=new sN(e),this.ipRoyaltyVaultImplEventClient=new EZ(e),this.royaltyWorkflowsClient=new wPe(e,n),this.multicall3Client=new E2(e,n),this.wrappedIpClient=new df(e,n),this.rpcClient=e,this.wallet=n,this.chainId=r,this.walletAddress=n.account.address}return tt(t,[{key:"claimAllRevenue",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p,f,h,y,m,g,v,b,w,A,I,C,E,N;return D().w(function(_){for(;;)switch(_.p=_.n){case 0:return _.p=0,o=ye(s.ancestorIpId),l=ye(s.claimer),u=ca(s.childIpIds),d=ca(s.royaltyPolicies),p=ca(s.currencyTokens),f=[],_.n=1,this.royaltyWorkflowsClient.claimAllRevenue({ancestorIpId:o,claimer:l,childIpIds:u,royaltyPolicies:d,currencyTokens:p});case 1:return h=_.v,_.n=2,this.rpcClient.waitForTransactionReceipt({hash:h});case 2:return y=_.v,f.push(h),_.n=3,this.getClaimerInfo(l);case 3:if(m=_.v,g=m.ownsClaimer,v=m.isClaimerIp,b=m.ipAccount,w=this.ipRoyaltyVaultImplEventClient.parseTxRevenueTokenClaimedEvent(y),A=((i=s.claimOptions)===null||i===void 0?void 0:i.autoTransferAllClaimedTokensFromIp)!==!1,I=((a=s.claimOptions)===null||a===void 0?void 0:a.autoUnwrapIpTokens)!==!1,!(A&&v&&g)){_.n=5;break}return _.n=4,this.transferClaimedTokensFromIpToWallet({ipAccount:b,claimedTokens:w});case 4:C=_.v,f.push.apply(f,ys(C));case 5:if(!(I&&g)){_.n=7;break}return _.n=6,this.unwrapWipTokens(w);case 6:E=_.v,E&&f.push(E);case 7:return _.a(2,{receipt:y,claimedTokens:w,txHashes:f});case 8:return _.p=8,N=_.v,_.a(2,Ve(N,"Failed to claim all revenue"))}},r,this,[[0,8]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"batchClaimAllRevenue",value:function(){var e=W(D().m(function r(s){var i=this,a,o,l,u,d,p,f,h,y,m,g,v,b,w,A,I,C,E,N,_,U,$,B,j,x,k,M;return D().w(function(P){for(;;)switch(P.p=P.n){case 0:if(P.p=0,u=[],d=[],p=[],f=((a=s.options)===null||a===void 0?void 0:a.useMulticallWhenPossible)!==!1,!(s.ancestorIps.length===1||!f)){P.n=9;break}h=bt(s.ancestorIps),P.p=1,h.s();case 2:if((y=h.n()).done){P.n=5;break}return m=y.value,P.n=3,this.claimAllRevenue(K(K({},m),{},{ancestorIpId:m.ipId,claimOptions:{autoTransferAllClaimedTokensFromIp:!1,autoUnwrapIpTokens:!1}}));case 3:g=P.v,u.push.apply(u,ys(g.txHashes)),d.push(g.receipt),g.claimedTokens&&p.push.apply(p,ys(g.claimedTokens));case 4:P.n=2;break;case 5:P.n=7;break;case 6:P.p=6,x=P.v,h.e(x);case 7:return P.p=7,h.f(),P.f(7);case 8:P.n=12;break;case 9:return v=s.ancestorIps.map(function(S){var L=S.ipId,V=S.claimer,F=S.childIpIds,R=S.royaltyPolicies,z=S.currencyTokens,Q={ancestorIpId:ye(L),claimer:ye(V),childIpIds:ca(F),royaltyPolicies:ca(R),currencyTokens:ca(z)};return i.royaltyWorkflowsClient.claimAllRevenueEncode(Q).data}),P.n=10,this.royaltyWorkflowsClient.multicall({data:v});case 10:return b=P.v,P.n=11,this.rpcClient.waitForTransactionReceipt({hash:b});case 11:w=P.v,u.push(b),d.push(w),A=this.ipRoyaltyVaultImplEventClient.parseTxRevenueTokenClaimedEvent(w),p.push.apply(p,ys(A));case 12:I=Object.values(p.reduce(function(S,L){var V="".concat(L.claimer,"_").concat(L.token);return S[V]?S[V].amount+=L.amount:S[V]=K({},L),S},{})),C=ys(new Set(s.ancestorIps.map(function(S){var L=S.claimer;return L}))),E=((o=s.claimOptions)===null||o===void 0?void 0:o.autoTransferAllClaimedTokensFromIp)!==!1,N=((l=s.claimOptions)===null||l===void 0?void 0:l.autoUnwrapIpTokens)!==!1,_=0n,U=bt(C),P.p=13,B=D().m(function S(){var L,V,F,R,z,Q,O;return D().w(function(H){for(;;)switch(H.n){case 0:return L=$.value,H.n=1,i.getClaimerInfo(L);case 1:if(V=H.v,F=V.ownsClaimer,R=V.isClaimerIp,z=V.ipAccount,F){H.n=2;break}return H.a(2,1);case 2:if(Q=I.filter(function(Y){return Y.claimer===L}),!(E&&R&&F)){H.n=4;break}return H.n=3,i.transferClaimedTokensFromIpToWallet({ipAccount:z,claimedTokens:Q});case 3:O=H.v,u.push.apply(u,ys(O));case 4:_+=Q.reduce(function(Y,G){return G.token===Pi?Y+G.amount:Y},0n);case 5:return H.a(2)}},S)}),U.s();case 14:if(($=U.n()).done){P.n=17;break}return P.d(dP(B()),15);case 15:if(!P.v){P.n=16;break}return P.a(3,16);case 16:P.n=14;break;case 17:P.n=19;break;case 18:P.p=18,k=P.v,U.e(k);case 19:return P.p=19,U.f(),P.f(19);case 20:if(!(_>0n&&N)){P.n=22;break}return P.n=21,this.unwrapWipTokens([{token:Pi,amount:_,claimer:this.walletAddress}]);case 21:j=P.v,j&&u.push(j);case 22:return P.a(2,{receipts:d,claimedTokens:I,txHashes:u});case 23:return P.p=23,M=P.v,P.a(2,Ve(new Error(M.message.replace("Failed to claim all revenue: ","").trim()),"Failed to batch claim all revenue"))}},r,this,[[13,18,19,20],[1,6,7,8],[0,23]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"payRoyaltyOnBehalf",value:function(){var e=W(D().m(function r(s){var i=this,a,o,l,u,d,p,f,h,y,m,g,v,b,w,A,I;return D().w(function(C){for(;;)switch(C.p=C.n){case 0:if(C.p=0,o=s.receiverIpId,l=s.payerIpId,u=s.token,d=s.amount,p=s.options,f=s.txOptions,h=this.wallet.account.address,y=BigInt(d),!(y<=0n)){C.n=1;break}throw new Error("The amount to pay must be number greater than 0.");case 1:return C.n=2,this.ipAssetRegistryClient.isRegistered({id:ye(o)});case 2:if(m=C.v,m){C.n=3;break}throw new Error("The receiver IP with id ".concat(o," is not registered."));case 3:if(!(ye(l)&&l!==$t)){C.n=5;break}return C.n=4,this.ipAssetRegistryClient.isRegistered({id:l});case 4:if(g=C.v,g){C.n=5;break}throw new Error("The payer IP with id ".concat(s.payerIpId," is not registered."));case 5:if(v={receiverIpId:o,payerIpId:l,token:ye(u),amount:BigInt(d)},b=this.royaltyModuleClient.payRoyaltyOnBehalfEncode(v),!((a=s.txOptions)!==null&&a!==void 0&&a.encodedTxDataOnly)){C.n=6;break}return C.a(2,{encodedTxData:b});case 6:return w=function(){return i.royaltyModuleClient.payRoyaltyOnBehalf(v)},A=[{address:this.royaltyModuleClient.address,amount:y,token:u}],C.n=7,Uu({options:p,multicall3Address:this.multicall3Client.address,rpcClient:this.rpcClient,tokenSpenders:A,contractCall:w,sender:h,wallet:this.wallet,txOptions:f,encodedTxs:[b]});case 7:return C.a(2,C.v);case 8:return C.p=8,I=C.v,C.a(2,Ve(I,"Failed to pay royalty on behalf"))}},r,this,[[0,8]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"claimableRevenue",value:function(){var e=W(D().m(function r(s){var i,a,o;return D().w(function(l){for(;;)switch(l.p=l.n){case 0:return l.p=0,l.n=1,this.getRoyaltyVaultAddress(ye(s.ipId));case 1:return i=l.v,a=new sN(this.rpcClient,i),l.n=2,a.claimableRevenue({claimer:ye(s.claimer),token:ye(s.token)});case 2:return l.a(2,l.v);case 3:return l.p=3,o=l.v,l.a(2,Ve(o,"Failed to calculate claimable revenue"))}},r,this,[[0,3]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"getRoyaltyVaultAddress",value:function(){var e=W(D().m(function r(s){var i;return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.ipAssetRegistryClient.isRegistered({id:ye(s)});case 1:if(i=a.v,i){a.n=2;break}throw new Error("The royalty vault IP with id ".concat(s," is not registered."));case 2:return a.n=3,this.royaltyModuleClient.ipRoyaltyVaults({ipId:s});case 3:return a.a(2,a.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"transferToVault",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p,f,h,y;return D().w(function(m){for(;;)switch(m.n){case 0:return i=s.txOptions,a=s.ipId,o=s.royaltyPolicy,l=s.ancestorIpId,u=s.token,d=LZ(o,this.chainId),p=[ye(a),ye(l),ye(u)],m.n=1,this.rpcClient.simulateContract({abi:YMe,address:d,functionName:"transferToVault",account:this.wallet.account,args:p});case 1:return f=m.v,h=f.request,m.n=2,this.wallet.writeContract(h);case 2:return y=m.v,m.a(2,ts({txHash:y,rpcClient:this.rpcClient,txOptions:i}))}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"transferClaimedTokensFromIpToWallet",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p,f,h,y;return D().w(function(m){for(;;)switch(m.n){case 0:i=s.ipAccount,a=s.claimedTokens,o=[],l=[],u=bt(a);try{for(u.s();!(d=u.n()).done;)p=d.value,f=p.token,h=p.amount,l.push({target:f,value:BigInt(0),data:ke({abi:bEe,functionName:"transfer",args:[this.walletAddress,h]})})}catch(g){u.e(g)}finally{u.f()}return m.n=1,i.executeBatch({calls:l,operation:0});case 1:return y=m.v,m.n=2,this.rpcClient.waitForTransactionReceipt({hash:y});case 2:return o.push(y),m.a(2,o)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"getClaimerInfo",value:function(){var e=W(D().m(function r(s){var i,a,o,l;return D().w(function(u){for(;;)switch(u.n){case 0:return u.n=1,this.ipAssetRegistryClient.isRegistered({id:s});case 1:if(i=u.v,a=new Ls(this.rpcClient,this.wallet,s),o=s===this.walletAddress,!i){u.n=3;break}return u.n=2,a.owner();case 2:l=u.v,o=l===this.walletAddress;case 3:return u.a(2,{ownsClaimer:o,isClaimerIp:i,ipAccount:a})}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"unwrapWipTokens",value:function(){var e=W(D().m(function r(s){var i,a,o;return D().w(function(l){for(;;)switch(l.n){case 0:if(i=s.filter(function(u){return u.token===Pi}),!(i.length>1)){l.n=1;break}throw new Error("Multiple WIP tokens found in the claimed tokens.");case 1:if(a=i[0],!(!a||a.amount<=0n)){l.n=2;break}return l.a(2);case 2:return l.n=3,this.wrappedIpClient.withdraw({value:a.amount});case 3:return o=l.v,l.n=4,this.rpcClient.waitForTransactionReceipt({hash:o});case 4:return l.a(2,o)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()}])}(),cje=function(){function t(e,n){et(this,t),this.wrappedIpClient=new df(e,n,Pi),this.rpcClient=e,this.wallet=n}return tt(t,[{key:"deposit",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d;return D().w(function(p){for(;;)switch(p.p=p.n){case 0:if(i=s.amount,a=s.txOptions,p.p=1,!(i<=0)){p.n=2;break}throw new Error("WIP deposit amount must be greater than 0.");case 2:return p.n=3,this.rpcClient.simulateContract({abi:Js,address:Pi,functionName:"deposit",account:this.wallet.account,value:BigInt(i)});case 3:return o=p.v,l=o.request,p.n=4,this.wallet.writeContract(l);case 4:return u=p.v,p.a(2,ts({txHash:u,txOptions:a,rpcClient:this.rpcClient}));case 5:return p.p=5,d=p.v,p.a(2,Ve(d,"Failed to deposit IP for WIP"))}},r,this,[[1,5]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"withdraw",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u;return D().w(function(d){for(;;)switch(d.p=d.n){case 0:if(i=s.amount,a=s.txOptions,d.p=1,o=BigInt(i),!(o<=0)){d.n=2;break}throw new Error("WIP withdraw amount must be greater than 0.");case 2:return d.n=3,this.wrappedIpClient.withdraw({value:o});case 3:return l=d.v,d.a(2,ts({txHash:l,txOptions:a,rpcClient:this.rpcClient}));case 4:return d.p=4,u=d.v,d.a(2,Ve(u,"Failed to withdraw WIP"))}},r,this,[[1,4]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"approve",value:function(){var e=W(D().m(function r(s){var i,a,o,l;return D().w(function(u){for(;;)switch(u.p=u.n){case 0:if(u.p=0,i=BigInt(s.amount),!(i<=0)){u.n=1;break}throw new Error("WIP approve amount must be greater than 0.");case 1:return a=ye(s.spender),u.n=2,this.wrappedIpClient.approve({spender:a,amount:i});case 2:return o=u.v,u.a(2,ts({txHash:o,txOptions:s.txOptions,rpcClient:this.rpcClient}));case 3:return u.p=3,l=u.v,u.a(2,Ve(l,"Failed to approve WIP"))}},r,this,[[0,3]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"balanceOf",value:function(){var e=W(D().m(function r(s){var i,a;return D().w(function(o){for(;;)switch(o.n){case 0:return i=ye(s),o.n=1,this.wrappedIpClient.balanceOf({owner:i});case 1:return a=o.v,o.a(2,a.result)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"transfer",value:function(){var e=W(D().m(function r(s){var i,a,o;return D().w(function(l){for(;;)switch(l.p=l.n){case 0:if(l.p=0,i=BigInt(s.amount),!(i<=0)){l.n=1;break}throw new Error("WIP transfer amount must be greater than 0.");case 1:return l.n=2,this.wrappedIpClient.transfer({to:ye(s.to),amount:i});case 2:return a=l.v,l.a(2,ts({txHash:a,txOptions:s.txOptions,rpcClient:this.rpcClient}));case 3:return l.p=3,o=l.v,l.a(2,Ve(o,"Failed to transfer WIP"))}},r,this,[[0,3]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"transferFrom",value:function(){var e=W(D().m(function r(s){var i,a,o;return D().w(function(l){for(;;)switch(l.p=l.n){case 0:if(l.p=0,i=BigInt(s.amount),!(i<=0)){l.n=1;break}throw new Error("WIP transfer amount must be greater than 0.");case 1:return l.n=2,this.wrappedIpClient.transferFrom({to:ye(s.to),amount:i,from:ye(s.from)});case 2:return a=l.v,l.a(2,ts({txHash:a,txOptions:s.txOptions,rpcClient:this.rpcClient}));case 3:return l.p=3,o=l.v,l.a(2,Ve(o,"Failed to transfer WIP"))}},r,this,[[0,3]])}));function n(r){return e.apply(this,arguments)}return n}()}])}();typeof process<"u"&&DIe();var Kw=function(){function t(e){if(et(this,t),ln(this,"_ipAsset",null),ln(this,"_permission",null),ln(this,"_license",null),ln(this,"_dispute",null),ln(this,"_ipAccount",null),ln(this,"_royalty",null),ln(this,"_nftClient",null),ln(this,"_group",null),ln(this,"_wip",null),this.config=K(K({},e),{},{chainId:S2[e.chainId||1315]}),!this.config.transport)throw new Error("transport is null, please pass in a valid RPC Provider URL as the transport.");var n={chain:PPe(this.chainId),transport:this.config.transport};if(this.rpcClient=ARe(n),this.config.wallet)this.wallet=this.config.wallet;else if(this.config.account){var r=this.config.account;this.wallet=cZ(K(K({},n),{},{account:r}))}else throw new Error("must specify a wallet or account")}return tt(t,[{key:"chainId",get:function(){return this.config.chainId}},{key:"ipAsset",get:function(){return this._ipAsset===null&&(this._ipAsset=new sje(this.rpcClient,this.wallet,this.chainId)),this._ipAsset}},{key:"permission",get:function(){return this._permission===null&&(this._permission=new oje(this.rpcClient,this.wallet,this.chainId)),this._permission}},{key:"license",get:function(){return this._license===null&&(this._license=new ije(this.rpcClient,this.wallet,this.chainId)),this._license}},{key:"dispute",get:function(){return this._dispute===null&&(this._dispute=new UPe(this.rpcClient,this.wallet,this.chainId)),this._dispute}},{key:"ipAccount",get:function(){return this._ipAccount===null&&(this._ipAccount=new VPe(this.rpcClient,this.wallet,this.chainId)),this._ipAccount}},{key:"royalty",get:function(){return this._royalty===null&&(this._royalty=new lje(this.rpcClient,this.wallet,this.chainId)),this._royalty}},{key:"nftClient",get:function(){return this._nftClient===null&&(this._nftClient=new aje(this.rpcClient,this.wallet)),this._nftClient}},{key:"groupClient",get:function(){return this._group===null&&(this._group=new zPe(this.rpcClient,this.wallet,this.chainId)),this._group}},{key:"wipClient",get:function(){return this._wip===null&&(this._wip=new cje(this.rpcClient,this.wallet)),this._wip}},{key:"getWalletBalance",value:function(){var e=W(D().m(function r(){return D().w(function(s){for(;;)switch(s.n){case 0:if(this.wallet.account){s.n=1;break}throw new Error("No account found in wallet");case 1:return s.n=2,this.getBalance(this.wallet.account.address);case 2:return s.a(2,s.v)}},r,this)}));function n(){return e.apply(this,arguments)}return n}()},{key:"getBalance",value:function(){var e=W(D().m(function r(s){var i;return D().w(function(a){for(;;)switch(a.n){case 0:return i=ye(s),a.n=1,this.rpcClient.getBalance({address:i});case 1:return a.a(2,a.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()}],[{key:"newClient",value:function(n){return new t(n)}},{key:"newClientUseWallet",value:function(n){return new t({chainId:n.chainId,transport:n.transport,wallet:n.wallet})}},{key:"newClientUseAccount",value:function(n){return new t({account:n.account,chainId:n.chainId,transport:n.transport})}}])}();const wy="http://localhost:3001/api",uje=Gm({id:1315,name:"Story Aeneid Testnet",nativeCurrency:{name:"IP",symbol:"IP",decimals:18},rpcUrls:{default:{http:["https://aeneid.storyrpc.io"]}},blockExplorers:{default:{name:"Story Explorer",url:"https://testnet.storyscan.xyz"}},testnet:!0}),yk={async recordLicenseTokenMint(t){const e={licenseTokenId:t.licenseTokenId,txHash:t.txHash,ipId:t.ipId,licenseTermsId:t.licenseTermsId,licenseeAddress:t.licenseeAddress,amount:t.amount,mintingFee:"0",currency:"0xB132A6B7AE652c974EE1557A3521D53d18F6739f",royaltyPercentage:10,licenseTerms:{commercialUse:!0,derivativesAllowed:!0,transferable:!0},metadata:{ipMetadataURI:"",nftMetadataURI:"",ipType:"Unknown",ipTitle:`License Token #${t.licenseTokenId}`}};await bn.post(`${wy}/license-tokens/mint`,e)},async mintLicenseToken(t,e,n,r,s){var i,a;try{console.log(" Starting license token minting...");const o=await s.getAddress();if(console.log(" Wallet address:",o),!window.ethereum)throw new Error("MetaMask not found");const l=cZ({chain:uje,transport:c$(window.ethereum)}),[u]=await l.getAddresses();console.log(" Wallet client created with account from MetaMask:",u);const d={account:u,transport:c$(window.ethereum),chainId:"aeneid"};console.log(" Initializing Story Protocol client...");const p=Kw.newClient(d);console.log(" Story Protocol client initialized"),console.log(" Minting parameters:",{licensorIpId:t,licenseTermsId:e,receiver:n,amount:r});const f=await p.license.mintLicenseTokens({licensorIpId:t,licenseTermsId:BigInt(e),receiver:n,amount:r,txOptions:{waitForTransaction:!0}});console.log(" License minting response:",f);const h=((a=(i=f.licenseTokenIds)==null?void 0:i[0])==null?void 0:a.toString())||"";console.log(" License Token ID:",h);try{console.log(" Notifying backend of license mint..."),await this.recordLicenseTokenMint({licenseTokenId:h,txHash:f.txHash||"",ipId:t,licenseTermsId:e,licenseeAddress:n,amount:r,blockNumber:0,timestamp:Math.floor(Date.now()/1e3)}),console.log(" Backend notified successfully")}catch(y){console.error(" Failed to notify backend (non-critical):",y)}return h}catch(o){throw console.error(" Error in mintLicenseToken:",o),o}},async getUserLicenses(t,e){if(!t)return[];try{console.log(` Fetching licenses for user: ${t}`);const n=await bn.get(`${wy}/license-tokens/user/${t}`,{params:{status:"active",sortBy:"timestamp",sortOrder:"desc",limit:100}});if(n.data.success){const r=n.data.data.licenses||[];return console.log(` Fetched ${r.length} licenses from backend`),r}return[]}catch(n){return console.error(" Error fetching user licenses from backend:",n),[]}},async getIPAnalytics(t){try{const e=await bn.get(`${wy}/license-tokens/analytics/ip/${t}`);return e.data.success?e.data.data:null}catch(e){return console.error(" Error fetching IP analytics:",e),null}},async getGlobalStats(){try{const t=await bn.get(`${wy}/license-tokens/stats/global`);return t.data.success?t.data.data:null}catch(t){return console.error(" Error fetching global stats:",t),null}},async verifyOwnership(t,e){try{const n=await bn.get(`${wy}/license-tokens/verify/${t}/owner/${e}`);return n.data.success&&n.data.data.isOwner}catch(n){return console.error(" Error verifying ownership:",n),!1}}},dje=()=>{mo();const{address:t,signer:e,provider:n,isCorrectNetwork:r,switchToRequiredNetwork:s}=er(),[i,a]=T.useState([]),[o,l]=T.useState(!0),[u,d]=T.useState(null),[p,f]=T.useState(null),[h,y]=T.useState(!1),[m,g]=T.useState(!1),[v,b]=T.useState([]),[w,A]=T.useState("all");T.useEffect(()=>{(async()=>{if(t&&n){const U=await yk.getUserLicenses(t,n);b(U)}})()},[t,n]),T.useEffect(()=>{I()},[]);const I=async(_=!1)=>{console.log(` Loading licensed IPs from backend (forceRefresh: ${_})`),l(!0);try{const U=await rIe.getLicensedIps();console.log(` Fetched ${U.length} licensed IPs from backend`);const $=U.map(B=>({tokenId:B.ipId,name:`IP Asset #${B.tokenId}`,description:`Licensed IP Asset - Token ID: ${B.tokenId}`,image:B.metadata.nftMetadataURI||"",price:"0",amount:999,totalSupply:1,seller:B.creatorAddress,metadataURI:B.metadata.ipMetadataURI||"",attributes:[{trait_type:"IP ID",value:B.ipId},{trait_type:"Token ID",value:B.tokenId.toString()},{trait_type:"License Terms ID",value:B.license.licenseTermsId},{trait_type:"Status",value:B.status}],license:{ipId:B.ipId,licenseTermsId:B.license.licenseTermsId,terms:{transferable:!0,commercialUse:!0,commercialRevShare:10,derivativesAllowed:!0,defaultMintingFee:"0",currency:"0x0000000000000000000000000000000000000000"},stats:{totalLicensesMinted:0,activeLicensees:0}}}));a($),console.log(` Processed ${$.length} licensed IP listings`)}catch(U){console.error(" Error loading licensed IPs:",U),Ie.error("Failed to load licensed IP assets"),a([])}finally{l(!1)}},C=async(_,U)=>{if(console.log(" handleMintLicense called with:",{listing:_,amount:U}),!e){Ie.error("Please connect your wallet to mint a license.");return}if(!r){if(Ie.error("Please switch to Story Aeneid Testnet (Chain ID: 1315)"),!await s()){Ie.error("Failed to switch network. Please switch manually in MetaMask.");return}Ie.success("Switched to Story Aeneid Testnet")}if(!_.license){Ie.error("This asset does not have a license attached.");return}try{console.log(" Calling licenseTokenService.mintLicenseToken..."),console.log("Parameters:",{licensorIpId:_.license.ipId,licenseTermsId:_.license.licenseTermsId,receiver:await e.getAddress(),amount:U});const $=await yk.mintLicenseToken(_.license.ipId,_.license.licenseTermsId,await e.getAddress(),U,e);console.log(" License minted successfully:",$),Ie.success(`Successfully minted license token #${$}`),g(!1);const B=await yk.getUserLicenses(await e.getAddress(),n);b(B)}catch($){console.error(" Error minting license:",$),Ie.error(`Failed to mint license: ${$.message||"Unknown error"}`)}},E=_=>{Ie.info("Trading terminal is only available for tradable assets on /testmarketplace")},N=i.filter(_=>{var U,$;return w==="all"?!0:w==="commercial"?((U=_.license)==null?void 0:U.terms.commercialUse)===!0:w==="derivatives"?(($=_.license)==null?void 0:$.terms.derivativesAllowed)===!0:!0});return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50",children:[c.jsx(bT,{}),c.jsx(Abe,{className:"relative",children:c.jsxs("div",{className:"container mx-auto px-4 py-20 relative z-10",children:[c.jsxs(Qt.div,{className:"text-center mb-12",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},children:[c.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6 bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent",children:"License Marketplace"}),c.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Discover and mint license tokens for intellectual property assets powered by Story Protocol"})]}),!o&&i.length>0&&c.jsx(T2e,{listings:i.slice(0,5),onSelectListing:_=>{d(_),y(!0)},tokenPrice:0})]})}),c.jsxs("div",{className:"container mx-auto px-4 py-12",children:[c.jsxs(wc,{value:w,onValueChange:A,className:"mb-8",children:[c.jsxs(ol,{className:"grid grid-cols-3 w-full max-w-2xl mx-auto",children:[c.jsx(vn,{value:"all",children:"All Licensed IPs"}),c.jsx(vn,{value:"commercial",children:"Commercial Use"}),c.jsx(vn,{value:"derivatives",children:"Derivatives Allowed"})]}),c.jsx(jn,{value:w,className:"mt-8",children:c.jsx(A2e,{listings:N,category:w==="all"?"Licensed IP Assets":w==="commercial"?"Commercial Use IPs":"Derivative-Friendly IPs",onSelectListing:_=>{d(_),y(!0)},onNavigateToTrading:E,tokenPrice:0,loading:o,userLicenses:v})})]}),!o&&c.jsx("div",{className:"text-center mt-8",children:c.jsx(re,{variant:"outline",onClick:()=>I(!0),className:"mx-auto",children:" Refresh Marketplace"})})]}),h&&u&&c.jsx(k2e,{listing:u,onClose:()=>y(!1),onBuy:_=>{Ie.info("Asset purchase is available on /testmarketplace")},onNavigateToTrading:E,tokenPrice:0,onMintLicense:_=>{f(_),g(!0)}}),m&&p&&c.jsx(C2e,{listing:p,tokenPrice:0,onClose:()=>g(!1),onMint:C})]})};var hP="Avatar",[pje,mBe]=Rc(hP),[fje,UZ]=pje(hP),zZ=T.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=T.useState("idle");return c.jsx(fje,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:c.jsx(vt.span,{...r,ref:e})})});zZ.displayName=hP;var VZ="AvatarImage",HZ=T.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,a=UZ(VZ,n),o=hje(r,i.referrerPolicy),l=Hs(u=>{s(u),a.onImageLoadingStatusChange(u)});return Pr(()=>{o!=="idle"&&l(o)},[o,l]),o==="loaded"?c.jsx(vt.img,{...i,ref:e,src:r}):null});HZ.displayName=VZ;var WZ="AvatarFallback",GZ=T.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=UZ(WZ,n),[a,o]=T.useState(r===void 0);return T.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>o(!0),r);return()=>window.clearTimeout(l)}},[r]),a&&i.imageLoadingStatus!=="loaded"?c.jsx(vt.span,{...s,ref:e}):null});GZ.displayName=WZ;function hje(t,e){const[n,r]=T.useState("idle");return Pr(()=>{if(!t){r("error");return}let s=!0;const i=new window.Image,a=o=>()=>{s&&r(o)};return r("loading"),i.onload=a("loaded"),i.onerror=a("error"),i.src=t,e&&(i.referrerPolicy=e),()=>{s=!1}},[t,e]),n}var KZ=zZ,YZ=HZ,qZ=GZ;const yg=T.forwardRef(({className:t,...e},n)=>c.jsx(KZ,{ref:n,className:dt("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));yg.displayName=KZ.displayName;const mje=T.forwardRef(({className:t,...e},n)=>c.jsx(YZ,{ref:n,className:dt("aspect-square h-full w-full",t),...e}));mje.displayName=YZ.displayName;const gg=T.forwardRef(({className:t,...e},n)=>c.jsx(qZ,{ref:n,className:dt("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));gg.displayName=qZ.displayName;var mP="Dialog",[XZ,yBe]=Rc(mP),[yje,vo]=XZ(mP),ZZ=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:a=!0}=t,o=T.useRef(null),l=T.useRef(null),[u=!1,d]=il({prop:r,defaultProp:s,onChange:i});return c.jsx(yje,{scope:e,triggerRef:o,contentRef:l,contentId:Go(),titleId:Go(),descriptionId:Go(),open:u,onOpenChange:d,onOpenToggle:T.useCallback(()=>d(p=>!p),[d]),modal:a,children:n})};ZZ.displayName=mP;var JZ="DialogTrigger",gje=T.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=vo(JZ,n),i=mn(e,s.triggerRef);return c.jsx(vt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":vP(s.open),...r,ref:i,onClick:ht(t.onClick,s.onOpenToggle)})});gje.displayName=JZ;var yP="DialogPortal",[vje,QZ]=XZ(yP,{forceMount:void 0}),eJ=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=vo(yP,e);return c.jsx(vje,{scope:e,forceMount:n,children:T.Children.map(r,a=>c.jsx(pd,{present:n||i.open,children:c.jsx(aT,{asChild:!0,container:s,children:a})}))})};eJ.displayName=yP;var k1="DialogOverlay",tJ=T.forwardRef((t,e)=>{const n=QZ(k1,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=vo(k1,t.__scopeDialog);return i.modal?c.jsx(pd,{present:r||i.open,children:c.jsx(bje,{...s,ref:e})}):null});tJ.displayName=k1;var bje=T.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=vo(k1,n);return c.jsx(TS,{as:jp,allowPinchZoom:!0,shards:[s.contentRef],children:c.jsx(vt.div,{"data-state":vP(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Zp="DialogContent",nJ=T.forwardRef((t,e)=>{const n=QZ(Zp,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=vo(Zp,t.__scopeDialog);return c.jsx(pd,{present:r||i.open,children:i.modal?c.jsx(wje,{...s,ref:e}):c.jsx(xje,{...s,ref:e})})});nJ.displayName=Zp;var wje=T.forwardRef((t,e)=>{const n=vo(Zp,t.__scopeDialog),r=T.useRef(null),s=mn(e,n.contentRef,r);return T.useEffect(()=>{const i=r.current;if(i)return G7(i)},[]),c.jsx(rJ,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ht(t.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:ht(t.onPointerDownOutside,i=>{const a=i.detail.originalEvent,o=a.button===0&&a.ctrlKey===!0;(a.button===2||o)&&i.preventDefault()}),onFocusOutside:ht(t.onFocusOutside,i=>i.preventDefault())})}),xje=T.forwardRef((t,e)=>{const n=vo(Zp,t.__scopeDialog),r=T.useRef(!1),s=T.useRef(!1);return c.jsx(rJ,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,o;(a=t.onCloseAutoFocus)==null||a.call(t,i),i.defaultPrevented||(r.current||(o=n.triggerRef.current)==null||o.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),rJ=T.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=t,o=vo(Zp,n),l=T.useRef(null),u=mn(e,l);return z7(),c.jsxs(c.Fragment,{children:[c.jsx(xS,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:c.jsx(cv,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":vP(o.open),...a,ref:u,onDismiss:()=>o.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(Tje,{titleId:o.titleId}),c.jsx(Ije,{contentRef:l,descriptionId:o.descriptionId})]})]})}),gP="DialogTitle",sJ=T.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=vo(gP,n);return c.jsx(vt.h2,{id:s.titleId,...r,ref:e})});sJ.displayName=gP;var iJ="DialogDescription",aJ=T.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=vo(iJ,n);return c.jsx(vt.p,{id:s.descriptionId,...r,ref:e})});aJ.displayName=iJ;var oJ="DialogClose",lJ=T.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=vo(oJ,n);return c.jsx(vt.button,{type:"button",...r,ref:e,onClick:ht(t.onClick,()=>s.onOpenChange(!1))})});lJ.displayName=oJ;function vP(t){return t?"open":"closed"}var cJ="DialogTitleWarning",[gBe,uJ]=mre(cJ,{contentName:Zp,titleName:gP,docsSlug:"dialog"}),Tje=({titleId:t})=>{const e=uJ(cJ),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return T.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Aje="DialogDescriptionWarning",Ije=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${uJ(Aje).contentName}}.`;return T.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},kje=ZZ,Cje=eJ,dJ=tJ,pJ=nJ,fJ=sJ,hJ=aJ,Eje=lJ;const Os=kje,Nje=Cje,mJ=T.forwardRef(({className:t,...e},n)=>c.jsx(dJ,{ref:n,className:dt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));mJ.displayName=dJ.displayName;const ws=T.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(Nje,{children:[c.jsx(mJ,{}),c.jsxs(pJ,{ref:r,className:dt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,c.jsxs(Eje,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[c.jsx(dT,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ws.displayName=pJ.displayName;const xs=({className:t,...e})=>c.jsx("div",{className:dt("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});xs.displayName="DialogHeader";const ou=({className:t,...e})=>c.jsx("div",{className:dt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});ou.displayName="DialogFooter";const Ts=T.forwardRef(({className:t,...e},n)=>c.jsx(fJ,{ref:n,className:dt("text-lg font-semibold leading-none tracking-tight",t),...e}));Ts.displayName=fJ.displayName;const Bo=T.forwardRef(({className:t,...e},n)=>c.jsx(hJ,{ref:n,className:dt("text-sm text-muted-foreground",t),...e}));Bo.displayName=hJ.displayName;const rn=T.forwardRef(({className:t,type:e,...n},r)=>{const[i,a]=T.useState(!1);let o=G6(0),l=G6(0);function u({currentTarget:d,clientX:p,clientY:f}){let{left:h,top:y}=d.getBoundingClientRect();o.set(p-h),l.set(f-y)}return c.jsx(Kl.div,{style:{background:Tbe`
        radial-gradient(
          ${i?"100px":"0px"} circle at ${o}px ${l}px,
          #3b82f6,
          transparent 80%
        )
      `},onMouseMove:u,onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),className:"group/input rounded-lg p-[2px] transition duration-300",children:c.jsx("input",{type:e,className:dt("shadow-input dark:placeholder-text-neutral-600 flex h-10 w-full rounded-md border-none bg-gray-50 px-3 py-2 text-sm text-black transition duration-400 group-hover/input:shadow-none file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-neutral-400 focus-visible:ring-[2px] focus-visible:ring-neutral-400 focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50 dark:bg-zinc-800 dark:text-white dark:shadow-[0px_0px_1px_1px_#404040] dark:focus-visible:ring-neutral-600",t),ref:r,...n})})});rn.displayName="Input";function k$(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Sje(...t){return e=>{let n=!1;const r=t.map(s=>{const i=k$(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():k$(t[s],null)}}}}function Rje(t){const e=Mje(t),n=T.forwardRef((r,s)=>{const{children:i,...a}=r,o=T.Children.toArray(i),l=o.find(jje);if(l){const u=l.props.children,d=o.map(p=>p===l?T.Children.count(u)>1?T.Children.only(null):T.isValidElement(u)?u.props.children:null:p);return c.jsx(e,{...a,ref:s,children:T.isValidElement(u)?T.cloneElement(u,void 0,d):null})}return c.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function Mje(t){const e=T.forwardRef((n,r)=>{const{children:s,...i}=n;if(T.isValidElement(s)){const a=_je(s),o=Dje(i,s.props);return s.type!==T.Fragment&&(o.ref=r?Sje(r,a):a),T.cloneElement(s,o)}return T.Children.count(s)>1?T.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Pje=Symbol("radix.slottable");function jje(t){return T.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Pje}function Dje(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...o)=>{const l=i(...o);return s(...o),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function _je(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Lje=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Oje=Lje.reduce((t,e)=>{const n=Rje(`Primitive.${e}`),r=T.forwardRef((s,i)=>{const{asChild:a,...o}=s,l=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...o,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),$je="Label",yJ=T.forwardRef((t,e)=>c.jsx(Oje.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));yJ.displayName=$je;var gJ=yJ;const Ut=T.forwardRef(({className:t,...e},n)=>c.jsx(gJ,{ref:n,className:dt("text-sm font-medium text-black dark:text-white leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t),...e}));Ut.displayName=gJ.displayName;var bP="Switch",[Fje,vBe]=Rc(bP),[Bje,Uje]=Fje(bP),vJ=T.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:a,disabled:o,value:l="on",onCheckedChange:u,form:d,...p}=t,[f,h]=T.useState(null),y=mn(e,w=>h(w)),m=T.useRef(!1),g=f?d||!!f.closest("form"):!0,[v=!1,b]=il({prop:s,defaultProp:i,onChange:u});return c.jsxs(Bje,{scope:n,checked:v,disabled:o,children:[c.jsx(vt.button,{type:"button",role:"switch","aria-checked":v,"aria-required":a,"data-state":xJ(v),"data-disabled":o?"":void 0,disabled:o,value:l,...p,ref:y,onClick:ht(t.onClick,w=>{b(A=>!A),g&&(m.current=w.isPropagationStopped(),m.current||w.stopPropagation())})}),g&&c.jsx(zje,{control:f,bubbles:!m.current,name:r,value:l,checked:v,required:a,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});vJ.displayName=bP;var bJ="SwitchThumb",wJ=T.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=Uje(bJ,n);return c.jsx(vt.span,{"data-state":xJ(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});wJ.displayName=bJ;var zje=t=>{const{control:e,checked:n,bubbles:r=!0,...s}=t,i=T.useRef(null),a=H7(n),o=WU(e);return T.useEffect(()=>{const l=i.current,u=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(u,"checked").set;if(a!==n&&p){const f=new Event("click",{bubbles:r});p.call(l,n),l.dispatchEvent(f)}},[a,n,r]),c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:i,style:{...t.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function xJ(t){return t?"checked":"unchecked"}var TJ=vJ,Vje=wJ;const AJ=T.forwardRef(({className:t,...e},n)=>c.jsx(TJ,{className:dt("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:c.jsx(Vje,{className:dt("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));AJ.displayName=TJ.displayName;let Hje={data:""},Wje=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||Hje,Gje=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Kje=/\/\*[^]*?\*\/|  +/g,C$=/\n+/g,lu=(t,e)=>{let n="",r="",s="";for(let i in t){let a=t[i];i[0]=="@"?i[1]=="i"?n=i+" "+a+";":r+=i[1]=="f"?lu(a,i):i+"{"+lu(a,i[1]=="k"?"":e)+"}":typeof a=="object"?r+=lu(a,e?e.replace(/([^,])+/g,o=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,o):o?o+" "+l:l)):i):a!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=lu.p?lu.p(i,a):i+":"+a+";")}return n+(e&&s?e+"{"+s+"}":s)+r},Al={},IJ=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+IJ(t[n]);return e}return t},Yje=(t,e,n,r,s)=>{let i=IJ(t),a=Al[i]||(Al[i]=(l=>{let u=0,d=11;for(;u<l.length;)d=101*d+l.charCodeAt(u++)>>>0;return"go"+d})(i));if(!Al[a]){let l=i!==t?t:(u=>{let d,p,f=[{}];for(;d=Gje.exec(u.replace(Kje,""));)d[4]?f.shift():d[3]?(p=d[3].replace(C$," ").trim(),f.unshift(f[0][p]=f[0][p]||{})):f[0][d[1]]=d[2].replace(C$," ").trim();return f[0]})(t);Al[a]=lu(s?{["@keyframes "+a]:l}:l,n?"":"."+a)}let o=n&&Al.g?Al.g:null;return n&&(Al.g=Al[a]),((l,u,d,p)=>{p?u.data=u.data.replace(p,l):u.data.indexOf(l)===-1&&(u.data=d?l+u.data:u.data+l)})(Al[a],e,r,o),a},qje=(t,e,n)=>t.reduce((r,s,i)=>{let a=e[i];if(a&&a.call){let o=a(n),l=o&&o.props&&o.props.className||/^go/.test(o)&&o;a=l?"."+l:o&&typeof o=="object"?o.props?"":lu(o,""):o===!1?"":o}return r+s+(a??"")},"");function D2(t){let e=this||{},n=t.call?t(e.p):t;return Yje(n.unshift?n.raw?qje(n,[].slice.call(arguments,1),e.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(e.p):s),{}):n,Wje(e.target),e.g,e.o,e.k)}let kJ,cN,uN;D2.bind({g:1});let Nc=D2.bind({k:1});function Xje(t,e,n,r){lu.p=e,kJ=t,cN=n,uN=r}function Ad(t,e){let n=this||{};return function(){let r=arguments;function s(i,a){let o=Object.assign({},i),l=o.className||s.className;n.p=Object.assign({theme:cN&&cN()},o),n.o=/ *go\d+/.test(l),o.className=D2.apply(n,r)+(l?" "+l:"");let u=t;return t[0]&&(u=o.as||t,delete o.as),uN&&u[0]&&uN(o),kJ(u,o)}return s}}var Zje=t=>typeof t=="function",dN=(t,e)=>Zje(t)?t(e):t,Jje=(()=>{let t=0;return()=>(++t).toString()})(),Qje=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),e3e=20,CJ=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,e3e)};case 1:return{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:n}=e;return CJ(t,{type:t.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(i=>i.id===r||r===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},t3e=[],gk={toasts:[],pausedAt:void 0},wP=t=>{gk=CJ(gk,t),t3e.forEach(e=>{e(gk)})},n3e=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||Jje()}),zv=t=>(e,n)=>{let r=n3e(e,t,n);return wP({type:2,toast:r}),r.id},be=(t,e)=>zv("blank")(t,e);be.error=zv("error");be.success=zv("success");be.loading=zv("loading");be.custom=zv("custom");be.dismiss=t=>{wP({type:3,toastId:t})};be.remove=t=>wP({type:4,toastId:t});be.promise=(t,e,n)=>{let r=be.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let i=e.success?dN(e.success,s):void 0;return i?be.success(i,{id:r,...n,...n==null?void 0:n.success}):be.dismiss(r),s}).catch(s=>{let i=e.error?dN(e.error,s):void 0;i?be.error(i,{id:r,...n,...n==null?void 0:n.error}):be.dismiss(r)}),t};var r3e=Nc`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,s3e=Nc`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,i3e=Nc`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,a3e=Ad("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${r3e} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${s3e} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${i3e} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,o3e=Nc`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,l3e=Ad("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${o3e} 1s linear infinite;
`,c3e=Nc`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,u3e=Nc`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,d3e=Ad("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${c3e} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${u3e} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,p3e=Ad("div")`
  position: absolute;
`,f3e=Ad("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,h3e=Nc`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,m3e=Ad("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${h3e} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,y3e=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?T.createElement(m3e,null,e):e:n==="blank"?null:T.createElement(f3e,null,T.createElement(l3e,{...r}),n!=="loading"&&T.createElement(p3e,null,n==="error"?T.createElement(a3e,{...r}):T.createElement(d3e,{...r})))},g3e=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,v3e=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,b3e="0%{opacity:0;} 100%{opacity:1;}",w3e="0%{opacity:1;} 100%{opacity:0;}",x3e=Ad("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,T3e=Ad("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,A3e=(t,e)=>{let n=t.includes("top")?1:-1,[r,s]=Qje()?[b3e,w3e]:[g3e(n),v3e(n)];return{animation:e?`${Nc(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Nc(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};T.memo(({toast:t,position:e,style:n,children:r})=>{let s=t.height?A3e(t.position||e||"top-center",t.visible):{opacity:0},i=T.createElement(y3e,{toast:t}),a=T.createElement(T3e,{...t.ariaProps},dN(t.message,t));return T.createElement(x3e,{className:t.className,style:{...s,...n,...t.style}},typeof r=="function"?r({icon:i,message:a}):T.createElement(T.Fragment,null,i,a))});Xje(T.createElement);D2`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;const I3e="https://onlyassets-server.onrender.com",Ea=`${I3e}/auth`,Il=()=>{const t=localStorage.getItem("authToken");return{"Content-Type":"application/json",...t&&{Authorization:`Bearer ${t}`}}},Na=async t=>{const e=await t.json();if(!t.ok){console.error("API Error Response:",{status:t.status,statusText:t.statusText,data:e});let n=e.message||e.error||`HTTP error! status: ${t.status}`;throw e.errors&&Array.isArray(e.errors)&&(n+=": "+e.errors.join(", ")),new Error(n)}return e},lm={register:async t=>{try{const e=await fetch(`${Ea}/register`,{method:"POST",headers:Il(),body:JSON.stringify(t)}),n=await Na(e);return n.success&&n.data.token&&(localStorage.setItem("authToken",n.data.token),localStorage.setItem("user",JSON.stringify(n.data.user)),localStorage.setItem("currentRole",n.data.currentRole),localStorage.setItem("availableRoles",JSON.stringify(n.data.availableRoles))),n}catch(e){throw console.error("Registration error:",e),e}},login:async t=>{try{const e=await fetch(`${Ea}/login`,{method:"POST",headers:Il(),body:JSON.stringify(t)}),n=await Na(e);return n.success&&n.data.token&&(localStorage.setItem("authToken",n.data.token),localStorage.setItem("user",JSON.stringify(n.data.user)),localStorage.setItem("currentRole",n.data.currentRole),localStorage.setItem("availableRoles",JSON.stringify(n.data.availableRoles))),n}catch(e){throw console.error("Login error:",e),e}},getProfile:async()=>{try{const t=await fetch(`${Ea}/profile`,{method:"GET",headers:Il()});return await Na(t)}catch(t){throw console.error("Get profile error:",t),t}},updateProfile:async t=>{try{const e=await fetch(`${Ea}/profile`,{method:"PUT",headers:Il(),body:JSON.stringify(t)}),n=await Na(e);return n.success&&localStorage.setItem("user",JSON.stringify(n.data.user)),n}catch(e){throw console.error("Update profile error:",e),e}},verifyWallet:async t=>{try{const e=await fetch(`${Ea}/verify-wallet`,{method:"POST",headers:Il(),body:JSON.stringify({walletAddress:t})});return await Na(e)}catch(e){throw console.error("Verify wallet error:",e),e}},switchRole:async t=>{try{const e=await fetch(`${Ea}/switch-role`,{method:"POST",headers:Il(),body:JSON.stringify({newRole:t})}),n=await Na(e);return n.success&&n.data.token&&(localStorage.setItem("authToken",n.data.token),localStorage.setItem("user",JSON.stringify(n.data.user)),localStorage.setItem("currentRole",n.data.currentRole)),n}catch(e){throw console.error("Switch role error:",e),e}},getUserRoles:async()=>{try{const t=await fetch(`${Ea}/roles`,{method:"GET",headers:Il()});return await Na(t)}catch(t){throw console.error("Get user roles error:",t),t}},logout:async()=>{try{const t=await fetch(`${Ea}/logout`,{method:"POST",headers:Il()}),e=await Na(t);return localStorage.removeItem("authToken"),localStorage.removeItem("user"),localStorage.removeItem("currentRole"),localStorage.removeItem("availableRoles"),e}catch(t){throw console.error("Logout error:",t),localStorage.removeItem("authToken"),localStorage.removeItem("user"),localStorage.removeItem("currentRole"),localStorage.removeItem("availableRoles"),t}},isAuthenticated:()=>{const t=localStorage.getItem("authToken"),e=localStorage.getItem("user"),n=!!(t&&e);return console.log("Authentication check:",{hasToken:!!t,hasUser:!!e,isAuthenticated:n}),n},getCurrentUser:()=>{try{const t=localStorage.getItem("user");return t?JSON.parse(t):null}catch(t){return console.error("Error parsing user data:",t),null}},getToken:()=>localStorage.getItem("authToken"),clearAuthData:()=>{localStorage.removeItem("authToken"),localStorage.removeItem("user"),localStorage.removeItem("currentRole"),localStorage.removeItem("availableRoles")},getCurrentRole:()=>localStorage.getItem("currentRole"),getAvailableRoles:()=>{try{const t=localStorage.getItem("availableRoles");return t?JSON.parse(t):[]}catch(t){return console.error("Error parsing available roles:",t),[]}},createUser:async t=>{try{const e=await fetch(`${Ea}/admin/create-user`,{method:"POST",headers:Il(),body:JSON.stringify(t)});return await Na(e)}catch(e){throw console.error("Create user error:",e),e}},healthCheck:async()=>{try{const t=await fetch(`${Ea}/health`,{method:"GET",headers:{"Content-Type":"application/json"}});return await Na(t)}catch(t){throw console.error("Health check error:",t),t}},ping:async()=>{try{const t=await fetch(`${Ea}/ping`,{method:"GET",headers:{"Content-Type":"application/json"}});return await Na(t)}catch(t){throw console.error("Ping error:",t),t}}},{register:k3e,login:bBe,getProfile:wBe,updateProfile:xBe,logout:TBe,verifyWallet:ABe,switchRole:IBe,getUserRoles:kBe,createUser:CBe,isAuthenticated:EBe,getCurrentUser:NBe,getToken:SBe,clearAuthData:RBe,getCurrentRole:MBe,getAvailableRoles:PBe,healthCheck:jBe,ping:DBe}=lm,EJ={U2U_LEGACY_TESTNET:{ADMIN:"0xFC53E7A6b94173D82d07a127A38d9D852bf478d4",ERC1155_CORE:"0x7C082010BcF338675508E2FD9d6C0dD2E43b37d8",ISSUER:"0xad367F8b04bC9C373aDcE2a1E797A3c4f1aD5D78",MARKETPLACE:"0xE8DE43BD00370F48db7Ac139146AC27B1AfEd7aF",PAYMENT_SPLITTER:"0x6f2db3e628879ee72B455a946C1d6cfBa51aac91"},U2U_NEBULAS_TESTNET:{ADMIN:"0xFC53E7A6b94173D82d07a127A38d9D852bf478d4",USER_REGISTRY:"0xa9E9DA96A74Ac7d7411426e9B794280BaB49AFBF",TOKEN:"0x7C082010BcF338675508E2FD9d6C0dD2E43b37d8",ISSUER:"0xad367F8b04bC9C373aDcE2a1E797A3c4f1aD5D78",MARKETPLACE:"0xE8DE43BD00370F48db7Ac139146AC27B1AfEd7aF",TOKEN_MANAGEMENT:"0xA632A492cCd898De4a4B17DC786B381d099F5815",SECONDARY_MARKETPLACE:"0xD68805CeC8704e0E262Afa2289EB298b1bD98ce8",ORDER_BOOK_ESCROW:"0x0E3b53858E1F086D6ff1a1613e2d0d951237E949",PAYMENT_SPLITTER:"0x6f2db3e628879ee72B455a946C1d6cfBa51aac91",IDENTITY_REGISTRY:"0x1667Cd2BB3715539C8c232D7cE256dd891Aa6923",CLAIM_ISSUERS_REGISTRY:"0x767FA150B3007ff446ff8f37b3116cA200BC0197",RULE_CONTRACT:"0xdAfc108538b0178071B648BDF5E6295d7eCf7A7C",ASSET_REGISTRY:"0xB6391254407b51e87dB45eCB3CEF9C2f96aad75B",MASTER_TOKEN:"0x2ccb132b985d096dF1A1bFAd1432CD79947295Ad",MULTISIG:"0x541cD0763c52ac9304A099b48fC81554Dd0A0493",TOKEN_FACTORY:"0xF9f94692001602b5E4AEe778659814593B9315C4",ERC3643_MARKETPLACE:"0xD68805CeC8704e0E262Afa2289EB298b1bD98ce8",WATERFALL_CONTRACT:"0xC6D5Eca0d7390bf95e5331EbD4274D3b177961e8",MOCK_KYC_VENDOR:"0x2B0426A3ECE73A9E2e361f111d96bdc6b13495a3",MOCK_LAW_FIRM:"0x56CFAFDdb032BCb5c1697053993aB3406efd6Eb9",MOCK_STABLECOIN:"0x40ACd6248Af692021C82b8333092De184c6e33Ff",MOCK_SPV_BANK_FEED:"0x0b0fD8855a03Bcd63CfA5A1fC6145FF3552c96a4",MERKLE_KYC:"0x65374809f4201Ac29E8176db4B764a0ae360ff56"},STORY_AENEID_TESTNET:{ORION_VERIFIED_MINTER:"0x1B014A3a16E5AF7D1207646f35AFD2b08535c1EB",SPG_NFT_COLLECTION:"0x78AD3d22E62824945DED384a5542Ad65de16E637",IP_ASSET_REGISTRY:"0x77319B4031e6eF1250907aa00018B8B1c67a244b",LICENSING_MODULE:"0x5a7D9Fa17DE09350F481A53B470D798c1c1aabae",ROYALTY_MODULE:"0x3C27b2d6C0a1C5c8A79b6753F32e4c5e3e3f5F1e",REGISTRATION_WORKFLOWS:"0xbe39E1C756e921BD25DF86e7AAa31106d1eb0424",COLLECTION_NAME:"Orion IP-OPS Assets",COLLECTION_SYMBOL:"ORION",MAX_SUPPLY:100,MINT_FEE:0,IS_PUBLIC_MINTING:!0,BACKEND_VERIFIER_ADDRESS:"0x23e67597f0898f747Fa3291C8920168adF9455D0",TOKEN_EXPIRY_SECONDS:900}},Ar={U2U_LEGACY_TESTNET:{chainId:747,name:"Flow Mainnet",rpcUrl:"https://mainnet.evm.nodes.onflow.org",blockExplorer:"https://u2uscan.xyz",nativeCurrency:{name:"FLOW",symbol:"FLOW",decimals:18}},U2U_NEBULAS_TESTNET:{chainId:747,name:"Flow Mainnet",rpcUrl:"https://mainnet.evm.nodes.onflow.org",blockExplorer:"https://www.flowscan.io",nativeCurrency:{name:"FLOW",symbol:"FLOW",decimals:18}},STORY_AENEID_TESTNET:{chainId:1315,name:"Story Protocol Aeneid Testnet",rpcUrl:"https://aeneid.storyrpc.io",blockExplorer:"https://aeneid.storyscan.xyz",nativeCurrency:{name:"IP Token",symbol:"IP",decimals:18}}},Pn="U2U_NEBULAS_TESTNET",dr=EJ[Pn],kn=dr.ADMIN;dr.USER_REGISTRY;const ji=dr.TOKEN;dr.ISSUER;const Or=dr.MARKETPLACE,NJ=dr.TOKEN_MANAGEMENT,kr=dr.ORDER_BOOK_ESCROW,SJ=dr.PAYMENT_SPLITTER,zu=Object.freeze(Object.defineProperty({__proto__:null,ACTIVE_NETWORK:Pn,ADMIN_CONTRACT:kn,CONTRACTS:dr,CONTRACT_ADDRESSES:EJ,MARKETPLACE_CONTRACT:Or,NETWORK_CONFIG:Ar,ORDER_BOOK_ESCROW_CONTRACT:kr,PAYMENT_SPLITTER_CONTRACT:SJ,TOKEN_CONTRACT:ji,TOKEN_MANAGEMENT_CONTRACT:NJ},Symbol.toStringTag,{value:"Module"})),RJ=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"InvoiceSettledByAdmin",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"issuer",type:"address"},{indexed:!1,internalType:"string",name:"metadataURI",type:"string"}],name:"IssuerAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"manager",type:"address"},{indexed:!1,internalType:"string",name:"metadataURI",type:"string"}],name:"ManagerAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"paused",type:"bool"}],name:"MarketplacePaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[{internalType:"address",name:"_issuer",type:"address"},{internalType:"string",name:"_metadataURI",type:"string"}],name:"addIssuer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_manager",type:"address"},{internalType:"string",name:"_metadataURI",type:"string"}],name:"addManager",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"allIssuers",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"allManagers",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_manager",type:"address"},{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"assignManager",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getAllIssuers",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAllManagers",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"getIssuerAt",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getIssuerCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"getManagerAt",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getManagerCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_manager",type:"address"}],name:"getManagerTokens",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getTokenLifecycle",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_address",type:"address"}],name:"isAdmin",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"isIssuer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"isManager",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_manager",type:"address"},{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"isManagerForToken",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"isTokenSettled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"issuerMetadata",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"managerMetadata",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"managerTokens",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"marketplacePaused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pauseMarketplace",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_issuer",type:"address"}],name:"removeIssuer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_manager",type:"address"}],name:"removeManager",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_tokenContract",type:"address"}],name:"setTokenContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"settleInvoice",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"tokenContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenManager",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}],MJ=[{inputs:[{internalType:"address",name:"_adminContract",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"settlementAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"InvoiceSettled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"enum ERC1155Core.TokenLifecycle",name:"newStatus",type:"uint8"}],name:"LifecycleChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"TokenBurned",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"issuer",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"price",type:"uint256"},{indexed:!1,internalType:"string",name:"metadataURI",type:"string"}],name:"TokenMinted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256[]",name:"ids",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"TransferBatch",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"TransferSingle",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"value",type:"string"},{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"URI",type:"event"},{inputs:[],name:"adminContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"accounts",type:"address[]"},{internalType:"uint256[]",name:"ids",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"burnAllTokens",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getSettlementInfo",outputs:[{internalType:"bool",name:"settled",type:"bool"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getTokenHolders",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getTokenInfo",outputs:[{internalType:"uint256",name:"price",type:"uint256"},{internalType:"string",name:"metadataURI",type:"string"},{internalType:"address",name:"issuer",type:"address"},{internalType:"uint256",name:"supply",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getTokenLifecycleStatus",outputs:[{internalType:"enum ERC1155Core.TokenLifecycle",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"}],name:"isTokenHolder",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"isTokenTradeable",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"issuerContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"markInvoiceSettled",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"uint256",name:"_price",type:"uint256"},{internalType:"string",name:"_metadataURI",type:"string"}],name:"mintToken",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_issuer",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"uint256",name:"_price",type:"uint256"},{internalType:"string",name:"_metadataURI",type:"string"}],name:"mintTokenForIssuer",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"uint256",name:"_price",type:"uint256"},{internalType:"string",name:"_metadataURI",type:"string"}],name:"mintTokenTo",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"nextTokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"paymentSplitterContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_issuerContract",type:"address"}],name:"setIssuerContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_paymentSplitterContract",type:"address"}],name:"setPaymentSplitterContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_tokenManagementContract",type:"address"}],name:"setTokenManagementContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"settlementAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"settlementTimestamp",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],name:"tokenHolders",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenIssuer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenLifecycle",outputs:[{internalType:"enum ERC1155Core.TokenLifecycle",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"tokenManagementContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenMetadata",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenSettled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"newPrice",type:"uint256"}],name:"updateTokenPrice",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_issuer",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"newPrice",type:"uint256"}],name:"updateTokenPriceForIssuer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],PJ=[{inputs:[{internalType:"address",name:"_adminContract",type:"address"},{internalType:"address",name:"_tokenContract",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"buyer",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"platformFee",type:"uint256"}],name:"AssetBought",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"issuer",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"price",type:"uint256"}],name:"AssetListed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"seller",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"platformFee",type:"uint256"}],name:"AssetSold",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"holder",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"AssetWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"admin",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"EarningsWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"issuer",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"ListingRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"string",name:"newMetadataURI",type:"string"}],name:"ListingUpdated",type:"event"},{inputs:[],name:"PLATFORM_FEE_PERCENT",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"activeTokens",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"adminContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"buyAsset",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"getAllListings",outputs:[{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"},{internalType:"address[]",name:"issuers",type:"address[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"uint256[]",name:"prices",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMyAssets",outputs:[{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"getTokenHolders",outputs:[{internalType:"address[]",name:"holders",type:"address[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"getTokenHoldersList",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"getTotalListed",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_user",type:"address"},{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"getUserBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"listAsset",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"listings",outputs:[{internalType:"address",name:"issuer",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bool",name:"active",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155BatchReceived",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[],name:"paymentSplitter",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"removeListing",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"sellAsset",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_paymentSplitter",type:"address"}],name:"setPaymentSplitter",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_tokenManagementContract",type:"address"}],name:"setTokenManagementContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"tokenContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"tokenHolders",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],name:"tokenHoldersList",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"tokenManagementContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalEarnings",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"totalTokensListed",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"string",name:"_newMetadataURI",type:"string"}],name:"updateListing",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"userTokenIds",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"withdrawAsset",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawEarnings",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],jJ=[{inputs:[{internalType:"address",name:"_adminContract",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"totalAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"toHolders",type:"uint256"},{indexed:!1,internalType:"uint256",name:"toPlatform",type:"uint256"}],name:"InvoiceSettled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"totalAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"toHolders",type:"uint256"},{indexed:!1,internalType:"uint256",name:"toPlatform",type:"uint256"}],name:"RentalDistributed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"settlementAmount",type:"uint256"}],name:"TokenBurnInitiated",type:"event"},{inputs:[],name:"adminContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"getSettlementAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"isTokenSettled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"marketplaceContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"processInvoiceSettlement",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_marketplaceContract",type:"address"}],name:"setMarketplace",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_tokenContract",type:"address"}],name:"setTokenContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"settlementAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"submitRental",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"tokenContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenSettled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{stateMutability:"payable",type:"receive"}],DJ=[{inputs:[{internalType:"address",name:"_adminContract",type:"address"},{internalType:"address",name:"_tokenContract",type:"address"},{internalType:"address",name:"_marketplaceContract",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"requestId",type:"bytes32"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"issuer",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"price",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"TokenDeployed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"issuer",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"price",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"TokenListedOnMarketplace",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"requestId",type:"bytes32"},{indexed:!0,internalType:"address",name:"admin",type:"address"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"TokenRequestApproved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"requestId",type:"bytes32"},{indexed:!0,internalType:"address",name:"admin",type:"address"},{indexed:!1,internalType:"string",name:"reason",type:"string"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"TokenRequestRejected",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"requestId",type:"bytes32"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"settlementAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"TokenRequestSettled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"requestId",type:"bytes32"},{indexed:!0,internalType:"address",name:"issuer",type:"address"},{indexed:!1,internalType:"string",name:"metadataURI",type:"string"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"price",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"TokenRequestSubmitted",type:"event"},{inputs:[],name:"adminContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"allRequestIds",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_requestId",type:"bytes32"}],name:"approveTokenRequest",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"approvedRequestIds",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_requestId",type:"bytes32"}],name:"deployApprovedToken",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getApprovedRequests",outputs:[{internalType:"bytes32[]",name:"",type:"bytes32[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMyRequests",outputs:[{internalType:"bytes32[]",name:"",type:"bytes32[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMyTokens",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPendingRequests",outputs:[{internalType:"bytes32[]",name:"",type:"bytes32[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_requestId",type:"bytes32"}],name:"getRequestDetails",outputs:[{components:[{internalType:"bytes32",name:"requestId",type:"bytes32"},{internalType:"address",name:"issuer",type:"address"},{internalType:"string",name:"metadataURI",type:"string"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"enum TokenManagement.RequestStatus",name:"status",type:"uint8"},{internalType:"uint256",name:"submittedAt",type:"uint256"},{internalType:"uint256",name:"approvedAt",type:"uint256"},{internalType:"uint256",name:"deployedAt",type:"uint256"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"rejectionReason",type:"string"},{internalType:"uint256",name:"settledAt",type:"uint256"},{internalType:"uint256",name:"settlementAmount",type:"uint256"}],internalType:"struct TokenManagement.TokenRequest",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getRequestIdFromTokenId",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"requestId",type:"bytes32"}],name:"getRequestSettlementInfo",outputs:[{internalType:"bool",name:"settled",type:"bool"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"issuer",type:"address"}],name:"getSettledRequests",outputs:[{internalType:"bytes32[]",name:"",type:"bytes32[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"requestId",type:"bytes32"}],name:"isRequestSettled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"issuerRequests",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"issuerTokens",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_requestId",type:"bytes32"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"listTokenOnMarketplace",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"markRequestSettled",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"marketplaceContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"pendingRequestIds",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_requestId",type:"bytes32"},{internalType:"string",name:"_reason",type:"string"}],name:"rejectTokenRequest",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"requestSettled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"requestSettlementAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_metadataURI",type:"string"},{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"uint256",name:"_price",type:"uint256"}],name:"submitTokenRequest",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"tokenContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenIdToRequestId",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"tokenRequests",outputs:[{internalType:"bytes32",name:"requestId",type:"bytes32"},{internalType:"address",name:"issuer",type:"address"},{internalType:"string",name:"metadataURI",type:"string"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"enum TokenManagement.RequestStatus",name:"status",type:"uint8"},{internalType:"uint256",name:"submittedAt",type:"uint256"},{internalType:"uint256",name:"approvedAt",type:"uint256"},{internalType:"uint256",name:"deployedAt",type:"uint256"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"rejectionReason",type:"string"},{internalType:"uint256",name:"settledAt",type:"uint256"},{internalType:"uint256",name:"settlementAmount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_adminContract",type:"address"},{internalType:"address",name:"_tokenContract",type:"address"},{internalType:"address",name:"_marketplaceContract",type:"address"}],name:"updateContracts",outputs:[],stateMutability:"nonpayable",type:"function"}],Jr={ADMIN:RJ,ERC1155CORE:MJ,MARKETPLACE:PJ,PAYMENTSPLITTER:jJ,TOKENMANAGEMENT:DJ},lc=Object.freeze(Object.defineProperty({__proto__:null,ADMIN_ABI:RJ,CONTRACT_ABIS:Jr,ERC1155CORE_ABI:MJ,MARKETPLACE_ABI:PJ,PAYMENTSPLITTER_ABI:jJ,TOKENMANAGEMENT_ABI:DJ},Symbol.toStringTag,{value:"Module"})),C3e=["function getPendingRequests() external view returns (bytes32[] memory)","function getApprovedRequests() external view returns (bytes32[] memory)","function getRequestDetails(bytes32 _requestId) external view returns (tuple(bytes32 requestId, address issuer, string metadataURI, uint256 amount, uint256 price, uint8 status, uint256 submittedAt, uint256 approvedAt, uint256 deployedAt, uint256 tokenId, string rejectionReason))","function approveTokenRequest(bytes32 _requestId) external","function rejectTokenRequest(bytes32 _requestId, string memory _reason) external","event TokenRequestSubmitted(bytes32 indexed requestId, address indexed issuer, string metadataURI, uint256 amount, uint256 price, uint256 timestamp)","event TokenRequestApproved(bytes32 indexed requestId, address indexed admin, uint256 timestamp)","event TokenRequestRejected(bytes32 indexed requestId, address indexed admin, string reason, uint256 timestamp)"];class E3e{constructor(){this.initialized=!1,this.tokenManagementContract=null,this.tokenManagementAddress="0x24eb8429Dc1e5f217866D0c74Db245Fa3aAFA31A"}async initialize(e,n){try{this.provider=e,this.signer=e.getSigner(),this.tokenManagementContract=new at(n,C3e,this.signer),this.initialized=!0,console.log(" Admin Token Management Service initialized:",n)}catch(r){throw console.error(" Failed to initialize Admin Token Management Service:",r),r}}async getPendingTokenRequests(){if(!this.initialized)throw new Error("Service not initialized");try{console.log(" Fetching pending token requests from TokenManagement contract...");const e=await this.tokenManagementContract.getPendingRequests();console.log(" Found pending request IDs:",e);const n=[];for(const r of e)try{const s=await this.tokenManagementContract.getRequestDetails(r),i={requestId:r,issuer:s.issuer,metadataURI:s.metadataURI,amount:s.amount.toString(),price:Ye(s.price),status:this._getStatusString(s.status),submittedAt:new Date(s.submittedAt*1e3),approvedAt:s.approvedAt>0?new Date(s.approvedAt*1e3):void 0,deployedAt:s.deployedAt>0?new Date(s.deployedAt*1e3):void 0,tokenId:s.tokenId>0?s.tokenId.toString():void 0,rejectionReason:s.rejectionReason||void 0};n.push(i),console.log(" Request details:",i)}catch(s){console.warn(`Failed to fetch details for request ${r}:`,s)}return console.log(" Fetched pending requests:",n.length),n}catch(e){throw console.error(" Failed to fetch pending token requests:",e),e}}async getApprovedTokenRequests(){if(!this.initialized)throw new Error("Service not initialized");try{console.log(" Fetching approved token requests...");const e=await this.tokenManagementContract.getApprovedRequests(),n=[];for(const r of e)try{const s=await this.tokenManagementContract.getRequestDetails(r);n.push({requestId:r,issuer:s.issuer,metadataURI:s.metadataURI,amount:s.amount.toString(),price:Ye(s.price),status:this._getStatusString(s.status),submittedAt:new Date(s.submittedAt*1e3),approvedAt:s.approvedAt>0?new Date(s.approvedAt*1e3):void 0})}catch(s){console.warn(`Failed to fetch details for approved request ${r}:`,s)}return console.log(" Fetched approved requests:",n.length),n}catch(e){throw console.error(" Failed to fetch approved token requests:",e),e}}async approveTokenRequest(e){if(!this.initialized)throw new Error("Service not initialized");try{console.log(" Approving token request:",e);const n=await this.tokenManagementContract.approveTokenRequest(e);console.log(" Approval transaction sent:",n.hash);const r=await n.wait();return console.log(" Token request approved successfully!"),{txHash:n.hash,status:"approved"}}catch(n){throw console.error(" Failed to approve token request:",n),n}}async rejectTokenRequest(e,n){if(!this.initialized)throw new Error("Service not initialized");try{console.log(" Rejecting token request:",e,"Reason:",n);const r=await this.tokenManagementContract.rejectTokenRequest(e,n);console.log(" Rejection transaction sent:",r.hash);const s=await r.wait();return console.log(" Token request rejected successfully!"),{txHash:r.hash,status:"rejected"}}catch(r){throw console.error(" Failed to reject token request:",r),r}}async fetchMetadataFromIPFS(e){try{const n=await fetch(e);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(n){return console.error("Failed to fetch metadata from IPFS:",n),null}}async getFormattedPendingAssets(){try{const e=await this.getPendingTokenRequests(),n=await Promise.all(e.map(async r=>{let s=null;return r.metadataURI&&(s=await this.fetchMetadataFromIPFS(r.metadataURI)),{assetId:r.requestId,requestId:r.requestId,name:(s==null?void 0:s.name)||`Token Request ${r.requestId.slice(0,8)}...`,description:(s==null?void 0:s.description)||`${r.amount} tokens at ${r.price} ETH each`,status:"Pending",createdAt:r.submittedAt,metadataURI:r.metadataURI,issuer:r.issuer,amount:r.amount,price:r.price,metadata:s,tokenRequest:!0,submittedAt:r.submittedAt}}));return console.log(" Formatted pending assets for UI:",n.length),n}catch(e){return console.error(" Failed to get formatted pending assets:",e),[]}}_getStatusString(e){return{0:"Pending",1:"Approved",2:"Rejected",3:"Deployed",4:"Listed"}[e]||"Unknown"}}const N3e=["https://gateway.pinata.cloud/ipfs/","https://ipfs.io/ipfs/","https://cloudflare-ipfs.com/ipfs/","https://gateway.ipfs.io/ipfs/"],Ub=async t=>{try{if(!t.startsWith("ipfs://"))return console.log("Not an IPFS URI:",t),null;const e=t.replace("ipfs://","");console.log("Fetching IPFS content for hash:",e);for(const n of N3e)try{const r=await fetch(`${n}${e}`,{method:"GET",headers:{Accept:"application/json"},signal:AbortSignal.timeout(1e4)});if(!r.ok){console.log(`Gateway ${n} failed with status:`,r.status);continue}const s=await r.json();return console.log("Successfully fetched IPFS content:",s),s}catch(r){console.log(`Gateway ${n} failed:`,r);continue}return console.log("All IPFS gateways failed for hash:",e),null}catch(e){return console.error("Error fetching IPFS content:",e),null}},S3e="ee7fd8b4670e8e75cf1f",R3e="8765707d70f702f1da012ea6e52f345221d8a4c801acb5e7f8599760822577df",E$=async t=>{var e,n,r;try{const s=await bn({method:"post",url:"https://api.pinata.cloud/pinning/pinJSONToIPFS",data:t,headers:{pinata_api_key:S3e,pinata_secret_api_key:R3e,"Content-Type":"application/json"}});return console.log(" JSON uploaded to Pinata:",s.data.IpfsHash),s.data.IpfsHash}catch(s){throw console.error("Error uploading JSON to Pinata:",s),bn.isAxiosError(s)?(console.error("Response:",(e=s.response)==null?void 0:e.data),new Error(`Pinata JSON upload failed: ${((r=(n=s.response)==null?void 0:n.data)==null?void 0:r.message)||s.message}`)):s}},M3e={TESTNET:{chainId:747,name:"Flow Testnet",rpcUrl:"https://mainnet.evm.nodes.onflow.org",blockExplorer:"https://www.flowscan.io/",nativeCurrency:{name:"Flow",symbol:"FLOW",decimals:18}},MAINNET:{chainId:747,name:"Flow Mainnet",rpcUrl:"https://mainnet.evm.nodes.onflow.org",blockExplorer:"https://evm.flowscan.io/",nativeCurrency:{name:"Flow",symbol:"FLOW",decimals:18}}},xy={ADMIN:"0xFC53E7A6b94173D82d07a127A38d9D852bf478d4",TOKEN_CONTRACT:"0x7C082010BcF338675508E2FD9d6C0dD2E43b37d8",MARKETPLACE:"0xE8DE43BD00370F48db7Ac139146AC27B1AfEd7aF",PAYMENT_SPLITTER:"0x6f2db3e628879ee72B455a946C1d6cfBa51aac91",TOKEN_MANAGEMENT:"0xA632A492cCd898De4a4B17DC786B381d099F5815"},Ty={ISSUER_ADDED:"IssuerAdded",MANAGER_ADDED:"ManagerAdded",MARKETPLACE_PAUSED:"MarketplacePaused",INVOICE_SETTLED_BY_ADMIN:"InvoiceSettledByAdmin",TOKEN_MINTED:"TokenMinted",INVOICE_SETTLED:"InvoiceSettled",TOKEN_BURNED:"TokenBurned",LIFECYCLE_CHANGED:"LifecycleChanged",TOKEN_REQUEST_SUBMITTED:"TokenRequestSubmitted",TOKEN_REQUEST_APPROVED:"TokenRequestApproved",TOKEN_REQUEST_REJECTED:"TokenRequestRejected",TOKEN_DEPLOYED:"TokenDeployed",TOKEN_LISTED_ON_MARKETPLACE:"TokenListedOnMarketplace",TOKEN_REQUEST_SETTLED:"TokenRequestSettled",ASSET_LISTED:"AssetListed",ASSET_BOUGHT:"AssetBought",ASSET_SOLD:"AssetSold",ASSET_WITHDRAWN:"AssetWithdrawn",EARNINGS_WITHDRAWN:"EarningsWithdrawn",LISTING_REMOVED:"ListingRemoved",LISTING_UPDATED:"ListingUpdated",RENTAL_DISTRIBUTED:"RentalDistributed",TOKEN_BURN_INITIATED:"TokenBurnInitiated"},xf={WALLET_NOT_CONNECTED:"Please connect your wallet first",INSUFFICIENT_BALANCE:"Insufficient balance for this transaction",TRANSACTION_REJECTED:"Transaction was rejected by user",NETWORK_MISMATCH:"Please switch to Flow Testnet",CONTRACT_ERROR:"Contract interaction failed",UNAUTHORIZED:"You don't have permission for this action",INVALID_TOKEN:"Invalid token ID or token not found",TOKEN_NOT_TRADEABLE:"This token cannot be traded (settled or burned)",ALREADY_SETTLED:"This invoice has already been settled",INSUFFICIENT_PAYMENT:"Payment amount is insufficient"},kl={TRANSACTION_SENT:"Transaction sent successfully",ISSUER_ADDED:"Issuer added successfully",MANAGER_ADDED:"Manager added successfully",TOKEN_REQUEST_SUBMITTED:"Token request submitted for approval",TOKEN_REQUEST_APPROVED:"Token request approved",TOKEN_DEPLOYED:"Token deployed successfully",TOKEN_LISTED:"Token listed on marketplace",TOKEN_PURCHASED:"Tokens purchased successfully",INVOICE_SETTLED:"Invoice settled successfully",TOKENS_BURNED:"Tokens burned after settlement"};class _2{constructor(e=null){this.provider=null,this.signer=null,this.contracts={},this.walletProvider=e,this.isConnected=!1,this.userAddress=null,this.userRoles={isAdmin:!1,isIssuer:!1,isManager:!1}}async connect(){try{if(!this.walletProvider)throw new Error("No wallet provider available");if(await this.walletProvider.request({method:"eth_requestAccounts"}),this.provider=new eo(this.walletProvider),this.signer=this.provider.getSigner(),this.userAddress=await this.signer.getAddress(),(await this.provider.getNetwork()).chainId!==M3e.TESTNET.chainId)throw new Error(xf.NETWORK_MISMATCH);return await this.initializeContracts(),await this.loadUserRoles(),this.isConnected=!0,console.log(" Connected to Invoice Financing System"),console.log("User Address:",this.userAddress),console.log("User Roles:",this.userRoles),{success:!0,userAddress:this.userAddress,userRoles:this.userRoles}}catch(e){throw console.error(" Connection failed:",e),e}}async initializeContracts(){try{this.contracts={admin:new at(xy.ADMIN,Jr.ADMIN,this.signer),tokenContract:new at(xy.TOKEN_CONTRACT,Jr.ERC1155CORE,this.signer),marketplace:new at(xy.MARKETPLACE,Jr.MARKETPLACE,this.signer),paymentSplitter:new at(xy.PAYMENT_SPLITTER,Jr.PAYMENTSPLITTER,this.signer),tokenManagement:new at(xy.TOKEN_MANAGEMENT,Jr.TOKENMANAGEMENT,this.signer)},console.log(" Contracts initialized")}catch(e){throw console.error(" Contract initialization failed:",e),e}}async loadUserRoles(){try{this.userRoles={isAdmin:await this.contracts.admin.isAdmin(this.userAddress),isIssuer:await this.contracts.admin.isIssuer(this.userAddress),isManager:await this.contracts.admin.isManager(this.userAddress)}}catch(e){console.error(" Failed to load user roles:",e),this.userRoles={isAdmin:!1,isIssuer:!1,isManager:!1}}}async addIssuer(e,n){this.requireRole("isAdmin");try{const r=await this.contracts.admin.addIssuer(e,n);return await r.wait(),{success:!0,message:kl.ISSUER_ADDED,txHash:r.hash}}catch(r){throw this.handleError(r)}}async addManager(e,n){this.requireRole("isAdmin");try{const r=await this.contracts.admin.addManager(e,n);return await r.wait(),{success:!0,message:kl.MANAGER_ADDED,txHash:r.hash}}catch(r){throw this.handleError(r)}}async approveTokenRequest(e){this.requireRole("isAdmin");try{const n=await this.contracts.tokenManagement.approveTokenRequest(e);return await n.wait(),{success:!0,message:kl.TOKEN_REQUEST_APPROVED,txHash:n.hash}}catch(n){throw this.handleError(n)}}async rejectTokenRequest(e,n){this.requireRole("isAdmin");try{const r=await this.contracts.tokenManagement.rejectTokenRequest(e,n);return await r.wait(),{success:!0,message:"Token request rejected",txHash:r.hash}}catch(r){throw this.handleError(r)}}async settleInvoice(e,n){this.requireRole("isAdmin");try{const r=await this.contracts.admin.settleInvoice(e,n);return await r.wait(),{success:!0,message:kl.INVOICE_SETTLED,txHash:r.hash}}catch(r){throw this.handleError(r)}}async getPendingRequests(){try{const e=await this.contracts.tokenManagement.getPendingRequests();return await Promise.all(e.map(r=>this.getRequestDetails(r)))}catch(e){throw this.handleError(e)}}async submitTokenRequest(e,n,r){this.requireRole("isIssuer");try{const s=await this.contracts.tokenManagement.submitTokenRequest(e,n,r),a=(await s.wait()).logs.find(l=>{try{return this.contracts.tokenManagement.interface.parseLog(l).name==="TokenRequestSubmitted"}catch{return!1}}),o=this.contracts.tokenManagement.interface.parseLog(a).args.requestId;return{success:!0,message:kl.TOKEN_REQUEST_SUBMITTED,requestId:o,txHash:s.hash}}catch(s){throw this.handleError(s)}}async deployApprovedToken(e){this.requireRole("isIssuer");try{const n=await this.contracts.tokenManagement.deployApprovedToken(e),s=(await n.wait()).logs.find(a=>{try{return this.contracts.tokenManagement.interface.parseLog(a).name==="TokenDeployed"}catch{return!1}}),i=this.contracts.tokenManagement.interface.parseLog(s).args.tokenId;return{success:!0,message:kl.TOKEN_DEPLOYED,tokenId:i.toString(),txHash:n.hash}}catch(n){throw this.handleError(n)}}async listTokenOnMarketplace(e,n){this.requireRole("isIssuer");try{const r=await this.contracts.tokenManagement.listTokenOnMarketplace(e,n);return await r.wait(),{success:!0,message:kl.TOKEN_LISTED,txHash:r.hash}}catch(r){throw this.handleError(r)}}async getMyRequests(){this.requireRole("isIssuer");try{const e=await this.contracts.tokenManagement.getMyRequests();return await Promise.all(e.map(r=>this.getRequestDetails(r)))}catch(e){throw this.handleError(e)}}async getMyTokens(){this.requireRole("isIssuer");try{const e=await this.contracts.tokenManagement.getMyTokens();return await Promise.all(e.map(r=>this.getTokenInfo(r)))}catch(e){throw this.handleError(e)}}async buyTokens(e,n,r){try{const s=await this.contracts.marketplace.buyAsset(e,n,{value:r});return await s.wait(),{success:!0,message:kl.TOKEN_PURCHASED,txHash:s.hash}}catch(s){throw this.handleError(s)}}async sellTokens(e,n,r){try{const s=await this.contracts.marketplace.sellAsset(e,n,{value:r});return await s.wait(),{success:!0,message:"Tokens sold successfully",txHash:s.hash}}catch(s){throw this.handleError(s)}}async withdrawTokens(e,n){try{const r=await this.contracts.marketplace.withdrawAsset(e,n);return await r.wait(),{success:!0,message:"Tokens withdrawn successfully",txHash:r.hash}}catch(r){throw this.handleError(r)}}async getMarketplaceBalance(e){try{return(await this.contracts.marketplace.getUserBalance(this.userAddress,e)).toString()}catch(n){throw this.handleError(n)}}async getWalletBalance(e){try{return(await this.contracts.tokenContract.balanceOf(this.userAddress,e)).toString()}catch(n){throw this.handleError(n)}}async processInvoiceSettlement(e,n){this.requireManagerForToken(e);try{const r=await this.contracts.paymentSplitter.processInvoiceSettlement(e,{value:n,gasLimit:3e5});return await r.wait(),{success:!0,message:kl.INVOICE_SETTLED,txHash:r.hash}}catch(r){throw this.handleError(r)}}async submitRentalPayment(e,n){this.requireManagerForToken(e);try{const r=await this.contracts.paymentSplitter.submitRental(e,{value:n});return await r.wait(),{success:!0,message:"Rental payment distributed successfully",txHash:r.hash}}catch(r){throw this.handleError(r)}}async getTokenInfo(e){try{const n=await this.contracts.tokenContract.getTokenInfo(e),r=await this.contracts.tokenContract.getTokenLifecycleStatus(e);let s="0",i="0",a=!1;try{const o=await this.contracts.tokenContract.settlementAmount(e),l=await this.contracts.tokenContract.settlementTimestamp(e);s=o.gt(0)?Ye(o):"0",i=l.toString(),a=o.gt(0)}catch(o){console.warn(`Could not fetch settlement info for token ${e}:`,o)}return{tokenId:e.toString(),price:Ye(n.price),metadataURI:n.metadataURI,issuer:n.issuer,supply:n.supply.toString(),lifecycle:this.getLifecycleName(r),lifecycleStatus:r,settlement:{settled:a,amount:s,timestamp:i}}}catch(n){throw this.handleError(n)}}async getRequestDetails(e){try{const n=await this.contracts.tokenManagement.getRequestDetails(e);return{requestId:e,issuer:n.issuer,metadataURI:n.metadataURI,amount:n.amount.toString(),price:Ye(n.price),status:this.getRequestStatusName(n.status),statusCode:n.status,submittedAt:new Date(Number(n.submittedAt)*1e3).toISOString(),approvedAt:n.approvedAt>0?new Date(Number(n.approvedAt)*1e3).toISOString():null,deployedAt:n.deployedAt>0?new Date(Number(n.deployedAt)*1e3).toISOString():null,tokenId:n.tokenId>0?n.tokenId.toString():null,rejectionReason:n.rejectionReason,settlement:{settled:n.settledAt>0,amount:n.settlementAmount>0?Ye(n.settlementAmount):"0",timestamp:n.settledAt>0?new Date(Number(n.settledAt)*1e3).toISOString():null}}}catch(n){throw this.handleError(n)}}async getAllListings(){try{const e=await this.contracts.marketplace.getAllListings();return{tokenIds:e.tokenIds.map(n=>n.toString()),issuers:e.issuers,amounts:e.amounts.map(n=>n.toString()),prices:e.prices.map(n=>Ye(n))}}catch(e){throw this.handleError(e)}}async isTokenTradeable(e){try{return await this.contracts.tokenContract.isTokenTradeable(e)}catch(n){throw this.handleError(n)}}async getSettlementInfo(e){try{const n=await this.contracts.tokenContract.settlementAmount(e),r=await this.contracts.tokenContract.settlementTimestamp(e);return{settled:n.gt(0),amount:n.gt(0)?Ye(n):"0",timestamp:r.gt(0)?new Date(Number(r)*1e3).toISOString():null}}catch(n){throw this.handleError(n)}}async getTokenLifecycle(e){try{const n=await this.contracts.tokenContract.getTokenLifecycleStatus(e);return{status:n,name:this.getLifecycleName(n)}}catch(n){throw this.handleError(n)}}onTokenRequestSubmitted(e){this.contracts.tokenManagement.on(Ty.TOKEN_REQUEST_SUBMITTED,e)}onTokenDeployed(e){this.contracts.tokenManagement.on(Ty.TOKEN_DEPLOYED,e)}onInvoiceSettled(e){this.contracts.tokenContract.on(Ty.INVOICE_SETTLED,e)}onTokenBurned(e){this.contracts.tokenContract.on(Ty.TOKEN_BURNED,e)}onAssetBought(e){this.contracts.marketplace.on(Ty.ASSET_BOUGHT,e)}removeAllListeners(){Object.values(this.contracts).forEach(e=>{e.removeAllListeners()})}requireRole(e){if(!this.isConnected)throw new Error(xf.WALLET_NOT_CONNECTED);if(!this.userRoles[e])throw new Error(xf.UNAUTHORIZED)}async requireManagerForToken(e){this.requireRole("isManager");try{if(!await this.contracts.admin.isManagerForToken(this.userAddress,e))throw new Error("Not assigned manager for this token")}catch(n){throw new Error("Manager validation failed: "+n.message)}}getLifecycleName(e){return["Active","Settled","Burned"][e]||"Unknown"}getRequestStatusName(e){return["Pending","Approved","Rejected","Deployed","Listed","Settled"][e]||"Unknown"}handleError(e){return console.error("Contract error:",e),e.message.includes("user rejected")?new Error(xf.TRANSACTION_REJECTED):e.message.includes("insufficient funds")?new Error(xf.INSUFFICIENT_BALANCE):e.message.includes("execution reverted")?new Error(xf.CONTRACT_ERROR+": "+e.message):e}formatAmount(e,n=18){return Ud(e,n)}parseAmount(e,n=18){return zK(e.toString(),n)}async getTransactionReceipt(e){try{return await this.provider.getTransactionReceipt(e)}catch(n){throw this.handleError(n)}}disconnect(){this.removeAllListeners(),this.provider=null,this.signer=null,this.contracts={},this.isConnected=!1,this.userAddress=null,this.userRoles={isAdmin:!1,isIssuer:!1,isManager:!1},console.log(" Disconnected from Invoice Financing System")}}const P3e=()=>{const{signer:t,isConnected:e}=er(),[n,r]=T.useState(null),[s,i]=T.useState([]),[a,o]=T.useState(!1),[l,u]=T.useState({tokenId:"",amount:""}),[d,p]=T.useState(null);T.useEffect(()=>{if(e&&t){const v=new _2(window.ethereum);v.connect().then(()=>{r(v),f()}).catch(console.error)}},[e,t]);const f=async v=>{try{if(o(!0),console.log(" Loading marketplace tokens for settlement..."),!t){console.log("No signer available");return}const{ADMIN_CONTRACT:b,TOKEN_CONTRACT:w,MARKETPLACE_CONTRACT:A}=await Ht(async()=>{const{ADMIN_CONTRACT:k,TOKEN_CONTRACT:M,MARKETPLACE_CONTRACT:P}=await Promise.resolve().then(()=>zu);return{ADMIN_CONTRACT:k,TOKEN_CONTRACT:M,MARKETPLACE_CONTRACT:P}},void 0),{CONTRACT_ABIS:I}=await Ht(async()=>{const{CONTRACT_ABIS:k}=await Promise.resolve().then(()=>lc);return{CONTRACT_ABIS:k}},void 0),{ethers:C}=await Ht(async()=>{const{ethers:k}=await import("./index-KbzIojDx.js");return{ethers:k}},[]),E=new C.Contract(A,I.MARKETPLACE,t),N=new C.Contract(w,I.ERC1155CORE,t),_=await E.getAllListings(),[U,$,B,j]=_,x=[];for(let k=0;k<U.length;k++){const M=U[k].toString();try{const P=await N.getTokenInfo(M),S=await N.getTokenLifecycleStatus(M);let L="0",V="0";try{const R=await N.settlementAmount(M),z=await N.settlementTimestamp(M);L=R.gt(0)?C.utils.formatEther(R):"0",V=z.toString()}catch{console.warn(`Could not fetch settlement info for token ${M}`)}let F=`Asset #${M}`;if(P.metadataURI&&P.metadataURI.startsWith("ipfs://"))try{const R=P.metadataURI.replace("ipfs://",""),z=await fetch(`https://gateway.pinata.cloud/ipfs/${R}`);z.ok&&(F=(await z.json()).name||F)}catch{console.warn(`Could not fetch metadata for token ${M}`)}x.push({tokenId:M,issuer:P.issuer,supply:P.supply.toString(),price:C.utils.formatEther(P.price),metadataURI:P.metadataURI,lifecycle:S,settlementAmount:L,settlementTimestamp:V,assetName:F}),console.log(` Loaded token ${M}: ${F}`)}catch(P){console.warn(`Could not load details for token ${M}:`,P)}}i(x),console.log(` Loaded ${x.length} tokens for settlement management`)}catch(b){console.error("Failed to load tokens:",b),be.error("Failed to load marketplace tokens")}finally{o(!1)}},h=async v=>{if(!l.amount){be.error("Please enter settlement amount");return}if(!t){be.error("Please connect your wallet");return}try{p(v);const{ADMIN_CONTRACT:b}=await Ht(async()=>{const{ADMIN_CONTRACT:N}=await Promise.resolve().then(()=>zu);return{ADMIN_CONTRACT:N}},void 0),{CONTRACT_ABIS:w}=await Ht(async()=>{const{CONTRACT_ABIS:N}=await Promise.resolve().then(()=>lc);return{CONTRACT_ABIS:N}},void 0),{ethers:A}=await Ht(async()=>{const{ethers:N}=await import("./index-KbzIojDx.js");return{ethers:N}},[]),I=new A.Contract(b,w.ADMIN,t);console.log(` Settling invoice for token ${v} with amount ${l.amount}...`);const C=await I.settleInvoice(v,A.utils.parseEther(l.amount));console.log(" Settlement transaction sent:",C.hash),be.info("Transaction submitted. Waiting for confirmation...");const E=await C.wait();console.log(" Settlement transaction confirmed:",E.transactionHash),be.success("Invoice settled successfully!"),await f(),u({tokenId:"",amount:""})}catch(b){console.error("Settlement failed:",b);let w="Settlement failed";b.code===4001?w="Transaction cancelled by user":b.reason?w=`Transaction failed: ${b.reason}`:b.message&&(w=b.message),be.error(w)}finally{p(null)}},y=async v=>{if(!t){be.error("Please connect your wallet");return}try{p(v);const{ADMIN_CONTRACT:b}=await Ht(async()=>{const{ADMIN_CONTRACT:N}=await Promise.resolve().then(()=>zu);return{ADMIN_CONTRACT:N}},void 0),{CONTRACT_ABIS:w}=await Ht(async()=>{const{CONTRACT_ABIS:N}=await Promise.resolve().then(()=>lc);return{CONTRACT_ABIS:N}},void 0),{ethers:A}=await Ht(async()=>{const{ethers:N}=await import("./index-KbzIojDx.js");return{ethers:N}},[]),I=new A.Contract(b,w.ADMIN,t);console.log(` Burning all tokens for token ID ${v}...`);const C=await I.burnAllTokens(v);console.log(" Burn transaction sent:",C.hash),be.info("Burn transaction submitted. Waiting for confirmation...");const E=await C.wait();console.log(" Burn transaction confirmed:",E.transactionHash),be.success("Tokens burned successfully!"),await f()}catch(b){console.error("Burn failed:",b);let w="Token burn failed";b.code===4001?w="Transaction cancelled by user":b.reason?w=`Transaction failed: ${b.reason}`:b.message&&(w=b.message),be.error(w)}finally{p(null)}},m=v=>{switch(v){case 0:return c.jsxs(st,{variant:"default",className:"bg-green-500",children:[c.jsx(Yu,{className:"w-3 h-3 mr-1"}),"Active"]});case 1:return c.jsxs(st,{variant:"secondary",className:"bg-yellow-500",children:[c.jsx(Hr,{className:"w-3 h-3 mr-1"}),"Settled"]});case 2:return c.jsxs(st,{variant:"destructive",children:[c.jsx(Px,{className:"w-3 h-3 mr-1"}),"Burned"]});default:return c.jsxs(st,{variant:"outline",children:[c.jsx(ec,{className:"w-3 h-3 mr-1"}),"Unknown"]})}},g=v=>`${v} FLOW`;return c.jsxs(_e,{className:"w-full",children:[c.jsxs(_t,{children:[c.jsxs(Lt,{className:"flex items-center gap-2",children:[c.jsx(Hr,{className:"w-5 h-5"}),"Invoice Settlement Panel"]}),c.jsx(Zr,{children:"Manually settle invoices and manage token lifecycle"})]}),c.jsx(Le,{children:a?c.jsx("div",{className:"flex justify-center p-4",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 bg-gray-50 rounded-lg",children:[c.jsxs("div",{children:[c.jsx(Ut,{htmlFor:"tokenId",children:"Token ID"}),c.jsx(rn,{id:"tokenId",placeholder:"Enter token ID",value:l.tokenId,onChange:v=>u(b=>({...b,tokenId:v.target.value}))})]}),c.jsxs("div",{children:[c.jsx(Ut,{htmlFor:"amount",children:"Settlement Amount (FLOW)"}),c.jsx(rn,{id:"amount",type:"number",placeholder:"Enter amount",value:l.amount,onChange:v=>u(b=>({...b,amount:v.target.value}))})]}),c.jsx("div",{className:"flex items-end",children:c.jsx(re,{onClick:()=>h(l.tokenId),disabled:!l.tokenId||!l.amount||d!==null,className:"w-full",children:d===l.tokenId?"Settling...":"Settle Invoice"})})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Active Tokens"}),s.length===0?c.jsx("p",{className:"text-gray-500 text-center py-4",children:"No tokens found"}):s.map(v=>c.jsx(_e,{className:"border-l-4 border-l-blue-500",children:c.jsx(Le,{className:"p-4",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-medium",children:v.assetName||`Token #${v.tokenId}`}),m(v.lifecycle)]}),c.jsxs("div",{className:"text-sm text-gray-600",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Token ID:"})," ",v.tokenId]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Issuer:"})," ",v.issuer.slice(0,10),"..."]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Supply:"})," ",v.supply," tokens"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Price:"})," ",g(v.price)]}),v.settlementAmount&&v.settlementAmount!=="0"&&c.jsxs("p",{children:[c.jsx("strong",{children:"Settlement:"})," ",g(v.settlementAmount)]})]})]}),c.jsxs("div",{className:"flex gap-2",children:[v.lifecycle===0&&c.jsx(re,{size:"sm",onClick:()=>{u(b=>({...b,tokenId:v.tokenId}))},disabled:d!==null,children:"Select for Settlement"}),v.lifecycle===1&&c.jsx(re,{size:"sm",variant:"destructive",onClick:()=>y(v.tokenId),disabled:d!==null,children:d===v.tokenId?"Burning...":"Burn Tokens"})]})]})})},v.tokenId))]})]})})]})},j3e=()=>{const{signer:t,isConnected:e}=er(),[n,r]=T.useState(null),[s,i]=T.useState([]),[a,o]=T.useState({activeTokens:0,settledTokens:0,burnedTokens:0,totalSettlementValue:"0",averageSettlementTime:0}),[l,u]=T.useState(!1),[d,p]=T.useState(null),[f,h]=T.useState(!1);T.useEffect(()=>{if(e&&t){const w=new _2(window.ethereum);w.connect().then(()=>{r(w),y()}).catch(console.error)}},[e,t]);const y=async w=>{var A;try{if(u(!0),console.log(" Loading real token lifecycle data..."),!t){console.log("No signer available");return}const{ADMIN_CONTRACT:I,TOKEN_CONTRACT:C,MARKETPLACE_CONTRACT:E}=await Ht(async()=>{const{ADMIN_CONTRACT:R,TOKEN_CONTRACT:z,MARKETPLACE_CONTRACT:Q}=await Promise.resolve().then(()=>zu);return{ADMIN_CONTRACT:R,TOKEN_CONTRACT:z,MARKETPLACE_CONTRACT:Q}},void 0),{CONTRACT_ABIS:N}=await Ht(async()=>{const{CONTRACT_ABIS:R}=await Promise.resolve().then(()=>lc);return{CONTRACT_ABIS:R}},void 0),{ethers:_}=await Ht(async()=>{const{ethers:R}=await import("./index-KbzIojDx.js");return{ethers:R}},[]),U=new _.Contract(E,N.MARKETPLACE,t),$=new _.Contract(C,N.ERC1155CORE,t),B=await U.getAllListings(),[j,x,k,M]=B,P=[];for(let R=0;R<j.length;R++){const z=j[R].toString();try{const Q=await $.getTokenInfo(z),O=await $.getTokenLifecycleStatus(z);let H="0",Y="0";try{const te=await $.settlementAmount(z),q=await $.settlementTimestamp(z);H=te.gt(0)?_.utils.formatEther(te):"0",Y=q.toString()}catch{console.warn(`Could not fetch settlement info for token ${z}`)}let G=0,Z="0";try{G=((A=(await U.getTokenHolders(z))[0])==null?void 0:A.length)||0,Z=_.utils.formatEther(Q.price.mul(Q.supply))}catch{console.warn(`Could not fetch holder info for token ${z}`),Z=_.utils.formatEther(Q.price.mul(Q.supply))}P.push({tokenId:z,issuer:Q.issuer,supply:Q.supply.toString(),price:_.utils.formatEther(Q.price),lifecycle:O,settlementAmount:H,settlementTimestamp:Y,holderCount:G,totalValueLocked:Z,metadataURI:Q.metadataURI}),console.log(` Loaded lifecycle data for token ${z}`)}catch(Q){console.warn(`Could not load lifecycle data for token ${z}:`,Q)}}i(P),console.log(` Loaded ${P.length} tokens for lifecycle monitoring`);const S=P.filter(R=>R.lifecycle===0).length,L=P.filter(R=>R.lifecycle===1).length,V=P.filter(R=>R.lifecycle===2).length,F=P.filter(R=>R.settlementAmount&&parseFloat(R.settlementAmount)>0).reduce((R,z)=>R+parseFloat(z.settlementAmount),0);o({activeTokens:S,settledTokens:L,burnedTokens:V,totalSettlementValue:F.toString(),averageSettlementTime:2})}catch(I){console.error("Failed to load token lifecycle data:",I),be.error("Failed to load token data")}finally{u(!1)}},m=w=>{switch(w){case 0:return c.jsxs(st,{variant:"default",className:"bg-green-500",children:[c.jsx(Yu,{className:"w-3 h-3 mr-1"}),"Active"]});case 1:return c.jsxs(st,{variant:"secondary",className:"bg-yellow-500",children:[c.jsx(Hr,{className:"w-3 h-3 mr-1"}),"Settled"]});case 2:return c.jsxs(st,{variant:"destructive",children:[c.jsx(Px,{className:"w-3 h-3 mr-1"}),"Burned"]});default:return c.jsx(st,{variant:"outline",children:"Unknown"})}},g=w=>`${parseFloat(w).toLocaleString()} FLOW`,v=w=>new Date(parseInt(w)).toLocaleDateString(),b=w=>["Active","Settled","Burned"].slice(0,w+1);return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-5 gap-4",children:[c.jsx(_e,{children:c.jsx(Le,{className:"pt-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Yu,{className:"h-4 w-4 text-green-600"}),c.jsxs("div",{className:"ml-2",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Tokens"}),c.jsx("p",{className:"text-2xl font-bold text-green-600",children:a.activeTokens})]})]})})}),c.jsx(_e,{children:c.jsx(Le,{className:"pt-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Hr,{className:"h-4 w-4 text-yellow-600"}),c.jsxs("div",{className:"ml-2",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Settled"}),c.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:a.settledTokens})]})]})})}),c.jsx(_e,{children:c.jsx(Le,{className:"pt-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Px,{className:"h-4 w-4 text-red-600"}),c.jsxs("div",{className:"ml-2",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Burned"}),c.jsx("p",{className:"text-2xl font-bold text-red-600",children:a.burnedTokens})]})]})})}),c.jsx(_e,{children:c.jsx(Le,{className:"pt-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(zs,{className:"h-4 w-4 text-blue-600"}),c.jsxs("div",{className:"ml-2",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Settled"}),c.jsx("p",{className:"text-lg font-bold text-blue-600",children:g(a.totalSettlementValue)})]})]})})}),c.jsx(_e,{children:c.jsx(Le,{className:"pt-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(gs,{className:"h-4 w-4 text-purple-600"}),c.jsxs("div",{className:"ml-2",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Settlement"}),c.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[a.averageSettlementTime,"d"]})]})]})})})]}),c.jsxs(_e,{children:[c.jsxs(_t,{children:[c.jsxs(Lt,{className:"flex items-center gap-2",children:[c.jsx(W5,{className:"w-5 h-5"}),"Token Lifecycle Monitor"]}),c.jsx(Zr,{children:"Track the complete lifecycle of all tokens from active to settlement to burning"})]}),c.jsx(Le,{children:l?c.jsx("div",{className:"flex justify-center p-8",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):c.jsx("div",{className:"space-y-4",children:s.length===0?c.jsx("p",{className:"text-gray-500 text-center py-8",children:"No tokens found"}):s.map(w=>c.jsx(_e,{className:"border-l-4 border-l-blue-500",children:c.jsx(Le,{className:"p-6",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("span",{className:"font-bold text-lg",children:["Token #",w.tokenId]}),m(w.lifecycle)]}),c.jsx("div",{className:"flex items-center gap-2",children:b(w.lifecycle).map((A,I)=>c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${I<=w.lifecycle?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:A}),I<2&&c.jsx("div",{className:`w-4 h-0.5 ${I<w.lifecycle?"bg-green-500":"bg-gray-300"}`})]},A))}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Issuer"}),c.jsxs("p",{className:"font-medium",children:[w.issuer.slice(0,10),"..."]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Supply"}),c.jsxs("p",{className:"font-medium",children:[w.supply," tokens"]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Price"}),c.jsx("p",{className:"font-medium",children:g(w.price)})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Holders"}),c.jsxs("p",{className:"font-medium flex items-center gap-1",children:[c.jsx(_p,{className:"w-3 h-3"}),w.holderCount]})]})]}),w.settlementAmount&&c.jsx("div",{className:"bg-yellow-50 p-3 rounded-lg",children:c.jsxs("p",{className:"text-sm",children:[c.jsx("strong",{children:"Settlement:"})," ",g(w.settlementAmount),w.settlementTimestamp&&c.jsxs("span",{className:"ml-2 text-gray-600",children:["on ",v(w.settlementTimestamp)]})]})})]}),c.jsx("div",{className:"flex gap-2",children:c.jsxs(re,{size:"sm",variant:"outline",onClick:()=>{p(w),h(!0)},children:[c.jsx(Ho,{className:"w-4 h-4 mr-1"}),"Details"]})})]})})},w.tokenId))})})]}),d&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs(_e,{className:"w-full max-w-2xl max-h-[80vh] overflow-auto",children:[c.jsxs(_t,{children:[c.jsxs(Lt,{children:["Token #",d.tokenId," Details"]}),c.jsx(Zr,{children:"Complete lifecycle information"})]}),c.jsxs(Le,{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Token ID"}),c.jsx("p",{className:"font-medium",children:d.tokenId})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Status"}),m(d.lifecycle)]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Issuer"}),c.jsx("p",{className:"font-medium font-mono text-xs",children:d.issuer})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Total Supply"}),c.jsxs("p",{className:"font-medium",children:[d.supply," tokens"]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Price per Token"}),c.jsx("p",{className:"font-medium",children:g(d.price)})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Current Holders"}),c.jsx("p",{className:"font-medium",children:d.holderCount})]})]}),d.settlementAmount&&c.jsxs("div",{className:"border-t pt-4",children:[c.jsx("h4",{className:"font-medium mb-2",children:"Settlement Information"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Settlement Amount"}),c.jsx("p",{className:"font-medium",children:g(d.settlementAmount)})]}),d.settlementTimestamp&&c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Settlement Date"}),c.jsx("p",{className:"font-medium",children:v(d.settlementTimestamp)})]})]})]}),c.jsx("div",{className:"flex justify-end gap-2 pt-4",children:c.jsx(re,{variant:"outline",onClick:()=>h(!1),children:"Close"})})]})]})})]})},D3e=()=>{const{address:t,isConnected:e,connectWallet:n,signer:r}=er(),[s,i]=T.useState(!1),[a,o]=T.useState("overview"),[l,u]=T.useState([]),[d,p]=T.useState([]),[f,h]=T.useState(null),[y,m]=T.useState(null),[g,v]=T.useState(!1),[b,w]=T.useState({addresses:[],count:0,metadata:{}}),[A,I]=T.useState({addresses:[],count:0,metadata:{}}),[C,E]=T.useState(!1),[N,_]=T.useState({totalIssuers:0,totalManagers:0,activeTokens:0,totalVolume:0,marketplaceStatus:!0,platformFees:0}),[U,$]=T.useState([]),[B,j]=T.useState([]),[x,k]=T.useState(!1),[M,P]=T.useState(!1),[S,L]=T.useState(!1),[V,F]=T.useState(!1),[R,z]=T.useState(!1),[Q,O]=T.useState(!1),[H,Y]=T.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",walletAddress:"",role:"issuer",metadataURI:""}),[G,Z]=T.useState(null),[te,q]=T.useState(!1),[ne,Re]=T.useState({tokenId:"",managerAddress:"",selectedAsset:null});T.useEffect(()=>{e&&r&&se()},[e,r]),T.useEffect(()=>{f&&ve()},[f]);const se=async()=>{try{if(!e||!r){console.log(" Wallet not connected");return}console.log(" Initializing admin contract..."),console.log("Contract address:",kn),console.log("Network:",Pn),console.log("RPC URL:",Ar[Pn].rpcUrl);const J=await r.provider.getNetwork();if(console.log("Connected to network:",J.name,"Chain ID:",J.chainId),console.log("Expected Chain ID:",Ar[Pn].chainId),J.chainId!==Ar[Pn].chainId){console.error(" Wrong network! Expected Chain ID:",Ar[Pn].chainId,"Got:",J.chainId),be.error(`Please switch to ${Ar[Pn].name} (Chain ID: ${Ar[Pn].chainId})`);return}const Ee=new at(kn,Jr.ADMIN,r);try{if(await r.provider.getCode(kn)==="0x"){console.error(" No Admin contract found at address:",kn),be.error("Admin contract not found at the specified address");return}console.log(" Admin contract verified at address:",kn);try{const ue=await Ee.getIssuerCount();console.log(" Admin contract is responsive, issuer count:",ue.toString())}catch(ue){console.log(" Admin contract found but function call failed:",ue.message)}}catch(le){console.error(" Error verifying contracts:",le),be.error("Failed to verify contracts");return}h(Ee);try{const le=new E3e;await le.initialize(r.provider,NJ),m(le),console.log(" TokenManagement service initialized successfully")}catch(le){console.error(" Failed to initialize TokenManagement service:",le),be.error("Failed to initialize token management service")}console.log(" Admin contracts initialized successfully")}catch(J){console.error(" Error initializing contract:",J),console.log("Contract initialization failed, page will still load with limited functionality")}},ve=async()=>{if(!f){console.log(" Admin contract not initialized");return}q(!0);try{console.log(" Loading contract data from blockchain..."),console.log("Admin contract address:",f.address),console.log("Signer address:",await f.signer.getAddress());const J=await f.provider.getNetwork();console.log("Connected to network:",J.name,"Chain ID:",J.chainId);let Ee,le;try{console.log(" Calling getAllIssuers from Admin contract..."),Ee=await f.getAllIssuers(),console.log(" getAllIssuers result:",Ee)}catch(de){console.error(" getAllIssuers failed:",de),Ee=[]}try{console.log(" Calling getAllManagers from Admin contract..."),le=await f.getAllManagers(),console.log(" getAllManagers result:",le)}catch(de){console.error(" getAllManagers failed:",de),le=[]}console.log(" Contract Data Received:"),console.log("Issuers:",Ee),console.log("Managers:",le);const ue=Ee||[],he=[];console.log(" Fetching IPFS metadata for issuers...");for(let de=0;de<ue.length;de++){const Me=ue[de];try{const ie=await f.issuerMetadata(Me);if(console.log(` Metadata URI for ${Me}:`,ie),ie&&ie!==""){const ge=await Ub(ie);console.log(` Metadata for ${Me}:`,ge),ge?he.push({id:Me,address:Me,name:ge.name||`Issuer ${de+1}`,email:ge.email||`issuer${de+1}@example.com`,role:"issuer",status:"active",metadataURI:ie,joinedDate:ge.joinedDate||"2024-01-01",lastActive:"2024-12-28",tokensManaged:ge.tokensManaged||0,totalVolume:ge.totalVolume||0}):he.push({id:Me,address:Me,name:`Issuer ${de+1}`,email:`issuer${de+1}@example.com`,role:"issuer",status:"active",metadataURI:ie,joinedDate:"2024-01-01",lastActive:"2024-12-28",tokensManaged:0,totalVolume:0})}else he.push({id:Me,address:Me,name:`Issuer ${de+1}`,email:`issuer${de+1}@example.com`,role:"issuer",status:"active",metadataURI:"",joinedDate:"2024-01-01",lastActive:"2024-12-28",tokensManaged:0,totalVolume:0})}catch(ie){console.error(` Error fetching metadata for issuer ${Me}:`,ie),he.push({id:Me,address:Me,name:`Issuer ${de+1}`,email:`issuer${de+1}@example.com`,role:"issuer",status:"active",metadataURI:"",joinedDate:"2024-01-01",lastActive:"2024-12-28",tokensManaged:0,totalVolume:0})}}const Ne=le||[],Ge=[];console.log(" Fetching IPFS metadata for managers...");for(let de=0;de<Ne.length;de++){const Me=Ne[de];try{const ie=await f.managerMetadata(Me);console.log(` Manager metadata URI for ${Me}:`,ie);let ge=[];try{ge=(await f.getManagerTokens(Me)).map(we=>we.toString()),console.log(` Manager ${Me} assigned tokens:`,ge)}catch(je){console.error(` Failed to fetch assigned tokens for manager ${Me}:`,je)}if(ie&&ie!==""){const je=await Ub(ie);console.log(` Manager metadata for ${Me}:`,je),je?Ge.push({id:Me,address:Me,name:je.name||`Manager ${de+1}`,email:je.email||`manager${de+1}@example.com`,role:"manager",status:"active",metadataURI:ie,joinedDate:je.joinedDate||"2024-01-01",lastActive:"2024-12-28",tokensManaged:ge.length,totalVolume:je.totalVolume||0,assignedTokens:ge}):Ge.push({id:Me,address:Me,name:`Manager ${de+1}`,email:`manager${de+1}@example.com`,role:"manager",status:"active",metadataURI:ie,joinedDate:"2024-01-01",lastActive:"2024-12-28",tokensManaged:ge.length,totalVolume:0,assignedTokens:ge})}else Ge.push({id:Me,address:Me,name:`Manager ${de+1}`,email:`manager${de+1}@example.com`,role:"manager",status:"active",metadataURI:"",joinedDate:"2024-01-01",lastActive:"2024-12-28",tokensManaged:ge.length,totalVolume:0,assignedTokens:ge})}catch(ie){console.error(` Error fetching metadata for manager ${Me}:`,ie);let ge=[];try{ge=(await f.getManagerTokens(Me)).map(we=>we.toString())}catch(je){console.error(` Failed to fetch assigned tokens for manager ${Me}:`,je)}Ge.push({id:Me,address:Me,name:`Manager ${de+1}`,email:`manager${de+1}@example.com`,role:"manager",status:"active",metadataURI:"",joinedDate:"2024-01-01",lastActive:"2024-12-28",tokensManaged:ge.length,totalVolume:0,assignedTokens:ge})}}const Te={addresses:ue,count:ue.length,metadata:{}},me={addresses:Ne,count:Ne.length,metadata:{}};w(Te),I(me),v(!1),u(he),p(Ge),_({totalIssuers:Te.count,totalManagers:me.count,activeTokens:0,totalVolume:0,marketplaceStatus:!0,platformFees:0}),console.log(" Contract data loaded successfully"),console.log(` Active Issuers: ${Te.count}`),console.log(` Property Managers: ${me.count}`)}catch(J){console.error(" Failed to load contract data:",J),console.log(" Loading fallback mock data...");const Ee={addresses:["0x742D35Cc6635Cf532793FAa14d4A6ce8D8c5D93e"],count:1,metadata:{}},le={addresses:["0x3456789012345678901234567890123456789012"],count:1,metadata:{}};w(Ee),I(le),v(!1);const ue=[{id:"0x742D35Cc6635Cf532793FAa14d4A6ce8D8c5D93e",address:"0x742D35Cc6635Cf532793FAa14d4A6ce8D8c5D93e",name:"Mock Issuer",email:"issuer@example.com",role:"issuer",status:"active",metadataURI:"",joinedDate:"2024-01-01",lastActive:"2024-12-28",tokensManaged:0,totalVolume:0}],he=[{id:"0x3456789012345678901234567890123456789012",address:"0x3456789012345678901234567890123456789012",name:"Mock Manager",email:"manager@example.com",role:"manager",status:"active",metadataURI:"",joinedDate:"2024-01-01",lastActive:"2024-12-28",tokensManaged:0,totalVolume:0,assignedTokens:[]}];u(ue),p(he),_({totalIssuers:1,totalManagers:1,activeTokens:0,totalVolume:0,marketplaceStatus:!0,platformFees:0})}finally{q(!1)}},We=async()=>{if(!f||!r){console.log(" Contracts not initialized for marketplace asset fetching");return}k(!0);try{console.log(" Loading marketplace assets for assignment...");const J=new at(Or,Jr.MARKETPLACE,r),Ee=new at(ji,Jr.ERC1155CORE,r),le=await J.getAllListings();console.log(" Raw marketplace listings:",le);let ue,he,Ne,Ge;if(Array.isArray(le)&&le.length===4)[ue,he,Ne,Ge]=le;else{console.warn(" Unexpected marketplace response format"),j([]);return}if(console.log(" Marketplace data:",{tokenIds:ue,issuers:he,amounts:Ne,prices:Ge}),!ue||ue.length===0){console.log(" No assets found on marketplace"),j([]);return}const Te=[];for(let me=0;me<ue.length;me++)try{const de=ue[me].toString(),Me=he[me],ie=Ne[me].toString(),ge=Ye(Ge[me]);try{if(await Ee.getTokenLifecycleStatus(de)===2){console.log(` Skipping burned token ${de} in admin dashboard`);continue}}catch{console.warn(` Could not check lifecycle for token ${de}, including in admin dashboard`)}console.log(` Fetching metadata for token ${de}...`);let je="";try{je=await Ee.uri(de),console.log(` Metadata URI for token ${de}:`,je)}catch(Nt){console.warn(` Failed to get metadata URI for token ${de}:`,Nt)}let we=null;if(je)try{we=await Ub(je),console.log(` Metadata for token ${de}:`,we)}catch(Nt){console.warn(` Failed to fetch IPFS metadata for token ${de}:`,Nt)}const Be={tokenId:de,name:(we==null?void 0:we.name)||`Asset #${de}`,description:(we==null?void 0:we.description)||"No description available",price:ge,issuer:Me,amount:ie,metadataURI:je,imageUrl:(we==null?void 0:we.image)||(we==null?void 0:we.imageUrl),type:(we==null?void 0:we.type)||(we==null?void 0:we.assetType)||"Unknown",location:(we==null?void 0:we.location)||"Unknown location"};Te.push(Be),console.log(` Processed asset ${de}:`,Be)}catch(de){console.error(` Error processing asset at index ${me}:`,de)}console.log(` Loaded ${Te.length} marketplace assets`),j(Te)}catch(J){console.error(" Failed to load marketplace assets:",J),be.error("Failed to load marketplace assets"),j([])}finally{k(!1)}},fe=async()=>{if(!f){be.error("Admin contract not initialized");return}if(console.log(` Creating new ${H.role} account:`,H),!H.firstName||!H.lastName||!H.email||!H.password||!H.walletAddress){be.error("Please fill all required fields");return}if(H.password!==H.confirmPassword){be.error("Passwords do not match");return}if(H.password.length<6){be.error("Password must be at least 6 characters long");return}if(H.firstName.trim().length<2){be.error("First name must be at least 2 characters long");return}if(H.lastName.trim().length<2){be.error("Last name must be at least 2 characters long");return}if(H.firstName.trim().length>50){be.error("First name cannot exceed 50 characters");return}if(H.lastName.trim().length>50){be.error("Last name cannot exceed 50 characters");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(H.email)){be.error("Please provide a valid email address");return}try{const Ee=rc(H.walletAddress);console.log(" Valid wallet address:",Ee)}catch{be.error("Invalid wallet address format or checksum");return}if(q(!0),console.log(" Contract Configuration Check:"),console.log("ADMIN_CONTRACT:",kn),console.log("Signer available:",!!r),console.log("Network:",Pn),!kn){console.error(" ADMIN_CONTRACT not configured"),be.error("UserRegistry contract address not configured"),q(!1);return}try{console.log(" Step 1: Registering user in backend...");const Ee={firstName:H.firstName,lastName:H.lastName,email:H.email,password:H.password,confirmPassword:H.confirmPassword,walletAddress:H.walletAddress,role:H.role};try{console.log(" Sending registration data:",Ee);const le=await k3e(Ee);console.log(" User registered in backend successfully:",le),be.success("User registered in backend")}catch(le){console.error(" Backend registration failed:",le),console.error(" Registration data that failed:",Ee);let ue="Failed to register user in backend";le&&typeof le=="object"&&le.message&&(ue=le.message),be.error(`Backend registration failed: ${ue}`),q(!1);return}if(H.role==="issuer"){console.log(" Step 2: Uploading issuer metadata to IPFS...");const le={name:`${H.firstName} ${H.lastName}`,email:H.email,walletAddress:H.walletAddress,role:"issuer",joinedDate:new Date().toISOString().split("T")[0],createdBy:"admin",type:"issuer-profile"};let ue;try{ue=await E$(le),console.log(" Metadata uploaded to IPFS:",ue),be.success("Metadata uploaded to IPFS")}catch(he){console.error(" IPFS upload failed:",he),be.error("Failed to upload metadata to IPFS"),q(!1);return}console.log(" Step 3: Adding issuer to smart contract...");try{if(!r)throw new Error("Wallet not connected");const he=await r.provider.getNetwork();console.log(" Current network:",he.name,"Chain ID:",he.chainId);const Ne=Ar[Pn].chainId;if(console.log(" Expected Chain ID:",Ne),he.chainId!==Ne)throw new Error(`Wrong network. Please switch to ${Pn} (Chain ID: ${Ne})`);if(!kn)throw new Error("UserRegistry contract address not configured");console.log(" Creating UserRegistry contract instance..."),console.log("Contract Address:",kn),console.log("Signer Address:",await r.getAddress());const Ge=new at(kn,Jr.ADMIN,r);if(await r.provider.getCode(kn)==="0x")throw new Error(`No contract found at address: ${kn}`);const me=`ipfs://${ue}`,de=rc(H.walletAddress);try{const je=await Ge.owner(),we=await r.getAddress();if(console.log(" Contract responsive. Owner:",je),console.log("Current Admin Address:",we),je.toLowerCase()!==we.toLowerCase())throw new Error(`Access denied: Only contract owner can add issuers. Owner: ${je}, Current: ${we}`);if(await Ge.isIssuer(de))throw new Error("Address is already registered as an issuer");console.log(" Address validation passed, proceeding with addIssuer...")}catch(je){throw console.error(" Pre-validation failed:",je),new Error(`Contract validation failed: ${je.message}`)}console.log(" Calling addIssuer function on UserRegistry..."),console.log("UserRegistry Address:",kn),console.log("Address:",de),console.log("Metadata URI:",me);const Me=await Ge.addIssuer(de,me);console.log(" Transaction sent:",Me.hash),be.success(`Transaction sent: ${Me.hash.slice(0,10)}...`),console.log(" Waiting for transaction confirmation...");const ie=await Me.wait();console.log(" Transaction confirmed:",ie.transactionHash),be.success("Issuer added to blockchain successfully!");const ge={id:de,address:de,name:`${H.firstName} ${H.lastName}`,email:H.email,role:"issuer",status:"active",metadataURI:me,joinedDate:new Date().toISOString().split("T")[0],lastActive:new Date().toISOString().split("T")[0],tokensManaged:0,totalVolume:0};u(je=>[...je,ge]),_(je=>({...je,totalIssuers:je.totalIssuers+1}))}catch(he){console.error(" Smart contract call failed:",he),he.reason?(console.error("Contract Error Reason:",he.reason),be.error(`Smart contract error: ${he.reason}`)):he.message?(console.error("Contract Error Message:",he.message),be.error(`Failed to add issuer: ${he.message}`)):(console.error("Unknown contract error:",he),be.error("Failed to add issuer to smart contract")),q(!1);return}}else if(H.role==="manager"){console.log(" Step 2: Uploading manager metadata to IPFS...");const le={name:`${H.firstName} ${H.lastName}`,email:H.email,walletAddress:H.walletAddress,role:"manager",joinedDate:new Date().toISOString().split("T")[0],createdBy:"admin",type:"manager-profile",tokensManaged:0,totalVolume:0,assignedTokens:[]};let ue;try{ue=await E$(le),console.log(" Manager metadata uploaded to IPFS:",ue),be.success("Manager metadata uploaded to IPFS")}catch(he){console.error(" IPFS upload failed:",he),be.error("Failed to upload manager metadata to IPFS"),q(!1);return}console.log(" Step 3: Adding manager to smart contract...");try{if(!r)throw new Error("Wallet not connected");const he=await r.provider.getNetwork();console.log(" Current network:",he.name,"Chain ID:",he.chainId);const Ne=Ar[Pn].chainId;if(console.log(" Expected Chain ID:",Ne),he.chainId!==Ne)throw new Error(`Wrong network. Please switch to ${Pn} (Chain ID: ${Ne})`);if(!kn)throw new Error("UserRegistry contract address not configured");console.log(" Creating UserRegistry contract instance..."),console.log("Contract Address:",kn),console.log("Signer Address:",await r.getAddress());const Ge=new at(kn,Jr.ADMIN,r);if(await r.provider.getCode(kn)==="0x")throw new Error(`No contract found at address: ${kn}`);const me=`ipfs://${ue}`,de=rc(H.walletAddress);console.log(" Calling addManager function on UserRegistry..."),console.log("UserRegistry Address:",kn),console.log("Address:",de),console.log("Metadata URI:",me);const Me=await Ge.addManager(de,me);console.log(" Transaction sent:",Me.hash),be.success(`Transaction sent: ${Me.hash.slice(0,10)}...`),console.log(" Waiting for transaction confirmation...");const ie=await Me.wait();console.log(" Transaction confirmed:",ie.transactionHash),be.success("Manager added to blockchain successfully!");const ge={id:de,address:de,name:`${H.firstName} ${H.lastName}`,email:H.email,role:"manager",status:"active",metadataURI:me,joinedDate:new Date().toISOString().split("T")[0],lastActive:new Date().toISOString().split("T")[0],tokensManaged:0,totalVolume:0,assignedTokens:[]};p(je=>[...je,ge]),_(je=>({...je,totalManagers:je.totalManagers+1}))}catch(he){console.error(" Smart contract call failed:",he),he.reason?(console.error("Contract Error Reason:",he.reason),be.error(`Smart contract error: ${he.reason}`)):he.message?(console.error("Contract Error Message:",he.message),be.error(`Failed to add manager: ${he.message}`)):(console.error("Unknown contract error:",he),be.error("Failed to add manager to smart contract")),q(!1);return}}else be.success(`${H.role} account created in backend`);P(!1),Y({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",walletAddress:"",role:"issuer",metadataURI:""}),console.log(" User creation process completed successfully")}catch(Ee){console.error(" Error in user creation process:",Ee),be.error(`Failed to create user: ${Ee.message}`)}finally{q(!1)}},ee=async()=>{if(G){if(!r){be.error("Please connect your wallet");return}q(!0);try{console.log(" Removing user from contract:",G);const J=new at(kn,Jr.ADMIN,r);let Ee;if(G.role==="issuer")console.log(" Calling removeIssuer on UserRegistry..."),Ee=await J.removeIssuer(G.address);else if(G.role==="manager")console.log(" Calling removeManager on UserRegistry..."),Ee=await J.removeManager(G.address);else throw new Error("Invalid user role");console.log(" Transaction sent:",Ee.hash),be.loading("Transaction submitted. Waiting for confirmation...");const le=await Ee.wait();console.log(" Transaction confirmed:",le),await ve(),be.success(`${G.role==="issuer"?"Issuer":"Manager"} removed successfully!`),F(!1),Z(null)}catch(J){console.error("Error removing user:",J),J.code==="ACTION_REJECTED"?be.error("Transaction was rejected by user"):J.reason?be.error(`Contract error: ${J.reason}`):J.message.includes("revert")?be.error("Transaction reverted. Check if you have admin permissions and the user exists."):J.message.includes("Not an issuer")?be.error("This address is not registered as an issuer"):J.message.includes("Not a manager")?be.error("This address is not registered as a manager"):be.error(`Failed to remove user: ${J.message}`)}finally{q(!1)}}},pe=async()=>{if(!f){be.error("Admin contract not initialized");return}q(!0);try{console.log(" Toggling marketplace status on blockchain..."),console.log("Current marketplace paused status:",g);const J=await f.pauseMarketplace();console.log(" Transaction sent:",J.hash),be.success(`Transaction sent: ${J.hash.slice(0,10)}...`),console.log(" Waiting for transaction confirmation...");const Ee=await J.wait();console.log(" Transaction confirmed:",Ee.transactionHash);const le=await f.marketplacePaused();console.log(" New marketplace status from contract:",le),v(le),_(he=>({...he,marketplaceStatus:!le}));const ue=le?"paused":"resumed";be.success(`Marketplace ${ue} successfully on blockchain!`),console.log(` Marketplace ${ue} successfully`),z(!1)}catch(J){console.error(" Error toggling marketplace on blockchain:",J),J.code===4001?be.error("Transaction rejected by user"):J.code==="UNPREDICTABLE_GAS_LIMIT"?be.error("Gas estimation failed - check contract state"):be.error(`Failed to toggle marketplace: ${J.message}`)}finally{q(!1)}},xe=()=>{z(!0)},Fe=async()=>{if(!ne.selectedAsset){be.error("Please select an asset to assign");return}if(!ne.managerAddress){be.error("Manager address is required");return}if(!r){be.error("Please connect your wallet");return}q(!0);try{console.log(" Assigning token to manager...",ne);const J=new at(kn,Jr.ADMIN,r),Ee=parseInt(ne.selectedAsset.tokenId),le=await J.assignManager(ne.managerAddress,Ee);console.log(" Transaction sent:",le.hash),be.loading("Transaction submitted. Waiting for confirmation...");const ue=await le.wait();console.log(" Transaction confirmed:",ue),be.success("Token assigned to manager successfully!"),await ve(),O(!1),Re({tokenId:"",managerAddress:"",selectedAsset:null})}catch(J){console.error("Error assigning token:",J),J.code==="ACTION_REJECTED"?be.error("Transaction was rejected by user"):J.reason?be.error(`Contract error: ${J.reason}`):J.message.includes("revert")?be.error("Transaction reverted. Check if you have admin permissions and the manager exists."):be.error(`Failed to assign token: ${J.message}`)}finally{q(!1)}},Ze=J=>{Re({tokenId:"",managerAddress:J.address,selectedAsset:null}),O(!0),We()},Oe=async()=>{q(!0);try{if(console.log(" Fetching pending assets from TokenManagement contract..."),!y)throw new Error("AdminTokenManagementService not initialized");const J=await y.getFormattedPendingAssets();console.log(" Fetched assets from TokenManagement:",J),$(J),be.success(`Found ${J.length} pending requests`)}catch(J){console.error(" Error fetching assets from contract:",J),be.error("Failed to fetch pending requests: "+J.message)}finally{q(!1)}},rt=async()=>{try{console.log(" Fetching pending assets from TokenManagement contract and localStorage...");const J=JSON.parse(localStorage.getItem("pendingAssets")||"[]");console.log(" Assets from localStorage:",J.length);let Ee=[...J];if(f)try{const le=await f.getAllAssets();console.log(" All asset IDs from contract:",le);for(const ue of le)try{const he=await f.isAssetActive(ue),Ne=await f.getAssetInfo(ue);he||Ee.some(Te=>Te.assetId===ue)||Ee.push({assetId:ue,name:Ne.ipfsMetadataCID?`Asset ${ue.slice(0,8)}...`:"Unknown Asset",description:"Asset awaiting approval",status:"Pending",createdAt:new Date(Ne.registrationTimestamp*1e3),metadataURI:Ne.ipfsMetadataCID||""})}catch(he){console.warn(`Failed to fetch info for asset ${ue}:`,he)}}catch(le){console.warn(" Failed to fetch from AssetRegistry contract:",le)}else console.warn(" Admin contract not initialized, using localStorage only");$(Ee),console.log(" Total pending assets loaded:",Ee.length),console.log(" Pending assets:",Ee)}catch(J){console.error(" Error fetching pending assets:",J),be.error("Failed to load pending assets"),$([])}},zt=async(J,Ee)=>{var le,ue,he;try{if(console.log(` ${Ee?"Approving":"Rejecting"} token request ${J}...`),!y)throw new Error("TokenManagement service not initialized");if(Ee){console.log(" Calling TokenManagement.approveTokenRequest...");const Ne=await y.approveTokenRequest(J);console.log(" Approval result:",Ne),be.success(`Token request approved! Transaction: ${Ne.txHash.slice(0,10)}...`),be.success("Issuer can now deploy their token from the issuer dashboard")}else{console.log(" Calling TokenManagement.rejectTokenRequest...");const Ge=await y.rejectTokenRequest(J,"Rejected by admin");console.log(" Rejection result:",Ge),be.success(`Token request rejected! Transaction: ${Ge.txHash.slice(0,10)}...`)}console.log(" Refreshing pending assets from contract..."),await Oe(),console.log(` Token request ${Ee?"approved":"rejected"} successfully on blockchain!`)}catch(Ne){console.error(` Error ${Ee?"approving":"rejecting"} token request:`,Ne),Ne.code===4001?be.error("Transaction rejected by user"):(le=Ne.message)!=null&&le.includes("TokenManagement service not initialized")?be.error("Admin service not ready. Please refresh the page."):(ue=Ne.message)!=null&&ue.includes("Request does not exist")?be.error("Token request not found in contract"):(he=Ne.message)!=null&&he.includes("Request not pending")?be.error("Token request is no longer pending"):be.error(`Failed to ${Ee?"approve":"reject"} token request: ${Ne.message}`)}},ct=async J=>{var Ee,le;try{console.log(" Fetching asset metadata:",J);const ue=await Ub(J),he={name:ue.name||"Unknown",description:ue.description||"No description",assetType:((le=(Ee=ue.attributes)==null?void 0:Ee.find(Ge=>Ge.trait_type==="Asset Type"))==null?void 0:le.value)||"Unknown",intendedMintAmount:ue.intendedMintAmount||"Not specified",assetDetails:ue.assetDetails||{}},Ne=[`Name: ${he.name}`,`Description: ${he.description}`,`Asset Type: ${he.assetType}`,`Intended Mint Amount: ${he.intendedMintAmount}`,"","Asset Details:",...Object.entries(he.assetDetails).map(([Ge,Te])=>`  ${Ge}: ${Te}`)].join(`
`);alert(`Asset Metadata:

${Ne}`)}catch(ue){console.error(" Error fetching metadata:",ue),be.error("Failed to load asset metadata")}};return T.useEffect(()=>{(f||y)&&a==="approvals"&&rt()},[f,y,a]),c.jsxs("div",{className:`min-h-screen ${s?"bg-slate-900":"bg-slate-50"}`,children:[c.jsx("header",{className:`${s?"bg-slate-800/95 backdrop-blur-md border-slate-700/50":"bg-white/95 backdrop-blur-md border-slate-200/60"} border-b sticky top-0 z-50 shadow-sm`,children:c.jsx("div",{className:"max-w-7xl mx-auto px-6 lg:px-8",children:c.jsxs("div",{className:"flex justify-between items-center h-16",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"w-9 h-9 bg-slate-800 rounded-lg flex items-center justify-center shadow-md",children:c.jsx(Wo,{className:"w-5 h-5 text-white"})}),c.jsxs("div",{children:[c.jsx("h1",{className:`text-lg font-semibold tracking-tight ${s?"text-white":"text-slate-900"}`,children:"Administration Console"}),c.jsx("p",{className:`text-sm ${s?"text-slate-400":"text-slate-600"}`,children:"Platform Management & Control"})]})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsxs("div",{className:`flex items-center space-x-2 px-3 py-1.5 rounded-md text-xs font-medium ${g?"bg-red-50 text-red-700 border border-red-200":"bg-emerald-50 text-emerald-700 border border-emerald-200"} ${s&&(g?"bg-red-900/20 text-red-400 border-red-800/30":"bg-emerald-900/20 text-emerald-400 border-emerald-800/30")}`,children:[c.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${g?"bg-red-500":"bg-emerald-500"}`}),c.jsx("span",{children:g?"Trading Suspended":"System Operational"})]}),c.jsxs("div",{className:`flex items-center space-x-2 px-3 py-1.5 rounded-md text-xs font-medium ${e?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"} ${s&&(e?"bg-green-900/20 text-green-400 border-green-800/30":"bg-red-900/20 text-red-400 border-red-800/30")}`,children:[c.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${e?"bg-green-500":"bg-red-500"}`}),c.jsx("span",{children:e?"Wallet Connected":"Wallet Disconnected"})]}),!e&&c.jsx(re,{onClick:n,size:"sm",className:"bg-slate-900 hover:bg-slate-800 text-white px-3 py-1.5 text-xs",children:"Connect Wallet"}),c.jsx(re,{variant:"ghost",size:"sm",onClick:()=>i(!s),className:`${s?"text-slate-400 hover:text-white hover:bg-slate-700":"text-slate-600 hover:text-slate-900 hover:bg-slate-100"} h-8 w-8 p-0`,children:s?c.jsx(kU,{className:"w-4 h-4"}):c.jsx(IU,{className:"w-4 h-4"})}),c.jsx(re,{variant:"ghost",size:"sm",className:`${s?"text-slate-400 hover:text-white hover:bg-slate-700":"text-slate-600 hover:text-slate-900 hover:bg-slate-100"} h-8 w-8 p-0`,children:c.jsx(uT,{className:"w-4 h-4"})}),c.jsx(re,{asChild:!0,variant:"ghost",size:"sm",className:`${s?"text-slate-400 hover:text-white hover:bg-slate-700":"text-slate-600 hover:text-slate-900 hover:bg-slate-100"}`,children:c.jsxs(XC,{to:"/marketplace",className:"flex items-center space-x-2 px-3 py-1.5",children:[c.jsx(gs,{className:"w-4 h-4"}),c.jsx("span",{className:"text-sm",children:"Marketplace"})]})}),c.jsx(re,{asChild:!0,variant:"ghost",size:"sm",className:`${s?"text-slate-400 hover:text-white hover:bg-slate-700":"text-slate-600 hover:text-slate-900 hover:bg-slate-100"}`,children:c.jsxs(XC,{to:"/",className:"flex items-center space-x-2 px-3 py-1.5",children:[c.jsx(Dp,{className:"w-4 h-4"}),c.jsx("span",{className:"text-sm",children:"Home"})]})}),c.jsx("div",{className:"w-px h-6 bg-slate-300 dark:bg-slate-600"}),c.jsx(yg,{className:"h-8 w-8 border border-slate-200 dark:border-slate-700",children:c.jsx(gg,{className:"text-xs bg-slate-100 dark:bg-slate-800",children:"AD"})})]})]})})}),c.jsx("main",{className:"max-w-7xl mx-auto px-6 lg:px-8 py-8",children:c.jsxs(wc,{value:a,onValueChange:o,className:"space-y-8",children:[c.jsxs(ol,{className:`inline-flex h-10 items-center justify-center rounded-lg p-1 ${s?"bg-slate-800 text-slate-400":"bg-slate-100 text-slate-600"}`,children:[c.jsx(vn,{value:"overview",className:"data-[state=active]:bg-white data-[state=active]:text-slate-900 data-[state=active]:shadow-sm dark:data-[state=active]:bg-slate-700 dark:data-[state=active]:text-white",children:"Overview"}),c.jsx(vn,{value:"issuers",className:"data-[state=active]:bg-white data-[state=active]:text-slate-900 data-[state=active]:shadow-sm dark:data-[state=active]:bg-slate-700 dark:data-[state=active]:text-white",children:"Issuers"}),c.jsx(vn,{value:"approvals",className:"data-[state=active]:bg-white data-[state=active]:text-slate-900 data-[state=active]:shadow-sm dark:data-[state=active]:bg-slate-700 dark:data-[state=active]:text-white",children:"Asset Approvals"}),c.jsx(vn,{value:"managers",className:"data-[state=active]:bg-white data-[state=active]:text-slate-900 data-[state=active]:shadow-sm dark:data-[state=active]:bg-slate-700 dark:data-[state=active]:text-white",children:"Managers"}),c.jsx(vn,{value:"system",className:"data-[state=active]:bg-white data-[state=active]:text-slate-900 data-[state=active]:shadow-sm dark:data-[state=active]:bg-slate-700 dark:data-[state=active]:text-white",children:"System"}),c.jsx(vn,{value:"settlements",className:"data-[state=active]:bg-white data-[state=active]:text-slate-900 data-[state=active]:shadow-sm dark:data-[state=active]:bg-slate-700 dark:data-[state=active]:text-white",children:"Invoice Settlements"})]}),c.jsxs(jn,{value:"overview",className:"space-y-8",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6",children:[c.jsx(_e,{className:`${s?"bg-slate-800/50 border-slate-700/50":"bg-white border-slate-200"} shadow-sm hover:shadow-md transition-shadow duration-200`,children:c.jsx(Le,{className:"p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:`text-sm font-medium ${s?"text-slate-400":"text-slate-600"}`,children:"Active Issuers"}),c.jsx("p",{className:`text-2xl font-semibold tracking-tight ${s?"text-white":"text-slate-900"}`,children:C?c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"w-4 h-4 border-2 border-slate-300 border-t-slate-600 rounded-full animate-spin"}),c.jsx("span",{className:"text-lg",children:"Loading..."})]}):N.totalIssuers}),c.jsx("p",{className:"text-xs text-emerald-600 dark:text-emerald-400",children:"Live contract data"})]}),c.jsx("div",{className:"p-3 bg-slate-100 dark:bg-slate-700 rounded-lg",children:c.jsx(Fd,{className:"w-5 h-5 text-slate-700 dark:text-slate-300"})})]})})}),c.jsx(_e,{className:`${s?"bg-slate-800/50 border-slate-700/50":"bg-white border-slate-200"} shadow-sm hover:shadow-md transition-shadow duration-200`,children:c.jsx(Le,{className:"p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:`text-sm font-medium ${s?"text-slate-400":"text-slate-600"}`,children:"Property Managers"}),c.jsx("p",{className:`text-2xl font-semibold tracking-tight ${s?"text-white":"text-slate-900"}`,children:C?c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"w-4 h-4 border-2 border-slate-300 border-t-slate-600 rounded-full animate-spin"}),c.jsx("span",{className:"text-lg",children:"Loading..."})]}):N.totalManagers}),c.jsx("p",{className:"text-xs text-emerald-600 dark:text-emerald-400",children:"Live contract data"})]}),c.jsx("div",{className:"p-3 bg-slate-100 dark:bg-slate-700 rounded-lg",children:c.jsx(_p,{className:"w-5 h-5 text-slate-700 dark:text-slate-300"})})]})})}),c.jsx(_e,{className:`${s?"bg-slate-800/50 border-slate-700/50":"bg-white border-slate-200"} shadow-sm hover:shadow-md transition-shadow duration-200`,children:c.jsx(Le,{className:"p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:`text-sm font-medium ${s?"text-slate-400":"text-slate-600"}`,children:"Active Tokens"}),c.jsx("p",{className:`text-2xl font-semibold tracking-tight ${s?"text-white":"text-slate-900"}`,children:N.activeTokens}),c.jsx("p",{className:"text-xs text-emerald-600 dark:text-emerald-400",children:"+3 this week"})]}),c.jsx("div",{className:"p-3 bg-slate-100 dark:bg-slate-700 rounded-lg",children:c.jsx(J5,{className:"w-5 h-5 text-slate-700 dark:text-slate-300"})})]})})}),c.jsx(_e,{className:`${s?"bg-slate-800/50 border-slate-700/50":"bg-white border-slate-200"} shadow-sm hover:shadow-md transition-shadow duration-200`,children:c.jsx(Le,{className:"p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:`text-sm font-medium ${s?"text-slate-400":"text-slate-600"}`,children:"Total Volume"}),c.jsxs("p",{className:`text-2xl font-semibold tracking-tight ${s?"text-white":"text-slate-900"}`,children:["$",(N.totalVolume/1e6).toFixed(1),"M"]}),c.jsx("p",{className:"text-xs text-emerald-600 dark:text-emerald-400",children:"+$2.1M this month"})]}),c.jsx("div",{className:"p-3 bg-slate-100 dark:bg-slate-700 rounded-lg",children:c.jsx(gs,{className:"w-5 h-5 text-slate-700 dark:text-slate-300"})})]})})})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[c.jsx("div",{className:"lg:col-span-2",children:c.jsxs(_e,{className:`${s?"bg-slate-800/50 border-slate-700/50":"bg-white border-slate-200"} shadow-sm`,children:[c.jsxs(_t,{className:"pb-4",children:[c.jsx(Lt,{className:`text-lg font-semibold ${s?"text-white":"text-slate-900"}`,children:"Administrative Actions"}),c.jsx("p",{className:`text-sm ${s?"text-slate-400":"text-slate-600"}`,children:"Manage platform users and system settings"})]}),c.jsx(Le,{children:c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs(re,{onClick:()=>P(!0),disabled:!e,className:"h-20 flex-col space-y-2 bg-slate-900 hover:bg-slate-800 text-white border-0 shadow-sm hover:shadow-md transition-all duration-200 disabled:opacity-50",children:[c.jsx(Ese,{className:"w-5 h-5"}),c.jsx("span",{className:"text-sm font-medium",children:e?"Add User":"Connect Wallet"})]}),c.jsxs(re,{onClick:ve,disabled:C||!e,variant:"outline",className:`h-20 flex-col space-y-2 ${s?"border-slate-700 bg-slate-800/30 text-slate-300 hover:bg-slate-700":"border-slate-200 bg-slate-50 text-slate-600 hover:bg-slate-100"} disabled:opacity-50`,children:[C?c.jsx(Fr,{className:"w-5 h-5 animate-spin"}):c.jsx(Fr,{className:"w-5 h-5"}),c.jsx("span",{className:"text-sm font-medium",children:C?"Loading...":"Refresh Data"})]}),c.jsxs(re,{variant:"outline",className:`h-20 flex-col space-y-2 ${s?"border-slate-700 bg-slate-800/30 text-slate-300 hover:bg-slate-700":"border-slate-200 bg-slate-50 text-slate-600 hover:bg-slate-100"}`,children:[c.jsx(Uo,{className:"w-5 h-5"}),c.jsx("span",{className:"text-sm font-medium",children:"Audit Logs"})]}),c.jsxs(re,{variant:"outline",className:`h-20 flex-col space-y-2 ${s?"border-slate-700 bg-slate-800/30 text-slate-300 hover:bg-slate-700":"border-slate-200 bg-slate-50 text-slate-600 hover:bg-slate-100"}`,children:[c.jsx(lse,{className:"w-5 h-5"}),c.jsx("span",{className:"text-sm font-medium",children:"Fee Management"})]}),c.jsxs(re,{variant:"outline",className:`h-20 flex-col space-y-2 ${s?"border-slate-700 bg-slate-800/30 text-slate-300 hover:bg-slate-700":"border-slate-200 bg-slate-50 text-slate-600 hover:bg-slate-100"}`,children:[c.jsx(TU,{className:"w-5 h-5"}),c.jsx("span",{className:"text-sm font-medium",children:"Asset Registry"})]})]})})]})}),c.jsx("div",{children:c.jsxs(_e,{className:`${s?"bg-slate-800/50 border-slate-700/50":"bg-white border-slate-200"} shadow-sm`,children:[c.jsx(_t,{className:"pb-4",children:c.jsx(Lt,{className:`text-lg font-semibold ${s?"text-white":"text-slate-900"}`,children:"System Health"})}),c.jsxs(Le,{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:`w-2 h-2 rounded-full ${g?"bg-red-500":"bg-emerald-500"}`}),c.jsx("span",{className:`text-sm ${s?"text-slate-300":"text-slate-700"}`,children:"Trading Engine"})]}),c.jsx(st,{variant:g?"destructive":"default",className:"text-xs",children:g?"Paused":"Active"})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),c.jsx("span",{className:`text-sm ${s?"text-slate-300":"text-slate-700"}`,children:"Smart Contracts"})]}),c.jsx(st,{variant:"default",className:"text-xs",children:"Deployed"})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),c.jsx("span",{className:`text-sm ${s?"text-slate-300":"text-slate-700"}`,children:"Infrastructure"})]}),c.jsx(st,{variant:"default",className:"text-xs",children:"Healthy"})]})]})]})})]})]}),c.jsxs(jn,{value:"issuers",className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h2",{className:`text-xl font-semibold tracking-tight ${s?"text-white":"text-slate-900"}`,children:"Platform Issuers"}),c.jsx("p",{className:`text-sm ${s?"text-slate-400":"text-slate-600"}`,children:"Manage tokenization partners and authorized issuers"})]}),c.jsxs(re,{onClick:()=>{Y(J=>({...J,role:"issuer"})),P(!0)},className:"bg-slate-900 hover:bg-slate-800 text-white shadow-sm",children:[c.jsx(wu,{className:"w-4 h-4 mr-2"}),"Add Issuer"]})]}),c.jsx("div",{className:"space-y-4",children:l.map(J=>c.jsx(_e,{className:`${s?"bg-slate-800/50 border-slate-700/50":"bg-white border-slate-200"} shadow-sm hover:shadow-md transition-all duration-200`,children:c.jsx(Le,{className:"p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx(yg,{className:"h-11 w-11 border border-slate-200 dark:border-slate-700",children:c.jsx(gg,{className:"bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 font-medium",children:J.name.charAt(0)})}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("h3",{className:`font-medium ${s?"text-white":"text-slate-900"}`,children:J.name}),c.jsx("p",{className:`text-sm ${s?"text-slate-400":"text-slate-600"}`,children:J.email}),c.jsxs("p",{className:"text-xs font-mono text-slate-500",children:[J.address.slice(0,8),"...",J.address.slice(-6)]})]})]}),c.jsxs("div",{className:"flex items-center space-x-8",children:[c.jsxs("div",{className:"text-right space-y-1",children:[c.jsxs("p",{className:`text-sm font-medium ${s?"text-white":"text-slate-900"}`,children:[J.tokensManaged," Active Tokens"]}),c.jsxs("p",{className:`text-sm ${s?"text-slate-400":"text-slate-600"}`,children:["$",(J.totalVolume/1e6).toFixed(1),"M Total Volume"]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:`w-2 h-2 rounded-full ${J.status==="active"?"bg-emerald-500":"bg-slate-400"}`}),c.jsx(st,{variant:J.status==="active"?"default":"secondary",className:"text-xs font-medium",children:J.status})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx(re,{variant:"outline",size:"sm",className:"h-8 w-8 p-0",onClick:()=>{Z(J),L(!0)},children:c.jsx(Ho,{className:"w-4 h-4"})}),c.jsx(re,{variant:"outline",size:"sm",className:"h-8 w-8 p-0 text-red-600 border-red-200 hover:bg-red-50 dark:text-red-400 dark:border-red-800 dark:hover:bg-red-950",onClick:()=>{Z(J),F(!0)},children:c.jsx(w3,{className:"w-4 h-4"})})]})]})]})})},J.id))})]}),c.jsxs(jn,{value:"approvals",className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h2",{className:`text-xl font-semibold tracking-tight ${s?"text-white":"text-slate-900"}`,children:"Asset Approvals"}),c.jsx("p",{className:`text-sm ${s?"text-slate-400":"text-slate-600"}`,children:"Review and approve asset registrations from issuers"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(re,{onClick:()=>Oe(),variant:"default",className:"bg-green-600 hover:bg-green-700 text-white",children:" Load from Contract"}),c.jsx(re,{onClick:async()=>{if(console.log(" Debug: Testing TokenManagement service..."),console.log(" AdminTokenManagementService:",y),y)try{const J=await y.getPendingTokenRequests();console.log(" Raw pending requests:",J);const Ee=await y.getFormattedPendingAssets();console.log(" Formatted pending assets:",Ee),be.success(`Found ${J.length} pending requests`)}catch(J){console.error(" Debug error:",J),be.error("Debug test failed: "+J.message)}else be.error("TokenManagement service not initialized")},variant:"outline",className:`${s?"border-blue-600 text-blue-300 hover:bg-blue-800":"border-blue-300 text-blue-700 hover:bg-blue-50"}`,children:" Debug"}),c.jsxs(re,{onClick:()=>rt(),variant:"outline",className:`${s?"border-slate-600 text-slate-300 hover:bg-slate-800":"border-slate-300 text-slate-700 hover:bg-slate-50"}`,children:[c.jsx(Fr,{className:"w-4 h-4 mr-2"}),"Refresh (Old)"]})]})]}),c.jsx("div",{className:"grid grid-cols-1 gap-6",children:U.length===0?c.jsx(_e,{className:`${s?"bg-slate-800/50 border-slate-700/50":"bg-white border-slate-200"}`,children:c.jsxs(Le,{className:"p-12 text-center",children:[c.jsx(Uo,{className:`w-16 h-16 mx-auto mb-4 ${s?"text-slate-600":"text-slate-400"}`}),c.jsx("h3",{className:`text-lg font-medium mb-2 ${s?"text-white":"text-slate-900"}`,children:"No Pending Assets"}),c.jsx("p",{className:`${s?"text-slate-400":"text-slate-600"}`,children:"All asset registrations have been reviewed"})]})}):U.map((J,Ee)=>c.jsx(_e,{className:`${s?"bg-slate-800/50 border-slate-700/50":"bg-white border-slate-200"} shadow-sm hover:shadow-md transition-shadow duration-200`,children:c.jsxs(Le,{className:"p-6",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("h3",{className:`text-lg font-semibold ${s?"text-white":"text-slate-900"}`,children:J.name}),c.jsx(st,{variant:J.status==="Pending"?"secondary":J.status==="Approved"?"default":"destructive",children:J.status})]}),c.jsx("p",{className:`text-sm ${s?"text-slate-400":"text-slate-600"} mb-3 line-clamp-2`,children:J.description}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:`${s?"text-slate-400":"text-slate-600"}`,children:"Asset ID:"}),c.jsxs("span",{className:`ml-2 font-mono ${s?"text-slate-300":"text-slate-700"}`,children:["#",J.assetId]})]}),c.jsxs("div",{children:[c.jsx("span",{className:`${s?"text-slate-400":"text-slate-600"}`,children:"Price per Token:"}),c.jsxs("span",{className:`ml-2 font-semibold ${s?"text-white":"text-slate-900"}`,children:[J.price," Flow"]})]}),c.jsxs("div",{children:[c.jsx("span",{className:`${s?"text-slate-400":"text-slate-600"}`,children:"Submitted:"}),c.jsx("span",{className:`ml-2 ${s?"text-slate-300":"text-slate-700"}`,children:new Date(J.createdAt).toLocaleDateString()})]}),c.jsxs("div",{children:[c.jsx("span",{className:`${s?"text-slate-400":"text-slate-600"}`,children:"Issuer:"}),c.jsx("span",{className:`ml-2 font-mono text-xs ${s?"text-slate-300":"text-slate-700"}`,children:J.issuer?`${J.issuer.slice(0,6)}...${J.issuer.slice(-4)}`:"Unknown"})]})]})]}),J.status==="Pending"&&c.jsxs("div",{className:"flex gap-2 ml-4",children:[c.jsxs(re,{onClick:()=>zt(J.assetId,!0),size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",children:[c.jsx(Hr,{className:"w-4 h-4 mr-1"}),"Approve"]}),c.jsxs(re,{onClick:()=>zt(J.assetId,!1),size:"sm",variant:"destructive",children:[c.jsx(ose,{className:"w-4 h-4 mr-1"}),"Reject"]})]})]}),c.jsx("div",{className:"pt-4 border-t border-slate-200 dark:border-slate-700",children:c.jsxs(re,{onClick:()=>ct(J.metadataURI),variant:"outline",size:"sm",className:`${s?"border-slate-600 text-slate-300 hover:bg-slate-800":"border-slate-300 text-slate-700 hover:bg-slate-50"}`,children:[c.jsx(Ho,{className:"w-4 h-4 mr-2"}),"View Details"]})})]})},Ee))})]}),c.jsxs(jn,{value:"managers",className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h2",{className:`text-xl font-semibold tracking-tight ${s?"text-white":"text-slate-900"}`,children:"Property Managers"}),c.jsx("p",{className:`text-sm ${s?"text-slate-400":"text-slate-600"}`,children:"Manage asset managers and property supervisors"})]}),c.jsxs(re,{onClick:()=>{Y(J=>({...J,role:"manager"})),P(!0)},className:"bg-slate-900 hover:bg-slate-800 text-white shadow-sm",children:[c.jsx(wu,{className:"w-4 h-4 mr-2"}),"Add Manager"]})]}),c.jsx("div",{className:"space-y-4",children:d.map(J=>c.jsx(_e,{className:`${s?"bg-slate-800/50 border-slate-700/50":"bg-white border-slate-200"} shadow-sm hover:shadow-md transition-all duration-200`,children:c.jsx(Le,{className:"p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx(yg,{className:"h-11 w-11 border border-slate-200 dark:border-slate-700",children:c.jsx(gg,{className:"bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 font-medium",children:J.name.split(" ").map(Ee=>Ee.charAt(0)).join("")})}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("h3",{className:`font-medium ${s?"text-white":"text-slate-900"}`,children:J.name}),c.jsx("p",{className:`text-sm ${s?"text-slate-400":"text-slate-600"}`,children:J.email}),c.jsxs("p",{className:"text-xs font-mono text-slate-500",children:[J.address.slice(0,8),"...",J.address.slice(-6)]})]})]}),c.jsxs("div",{className:"flex items-center space-x-8",children:[c.jsxs("div",{className:"text-right space-y-1",children:[c.jsxs("p",{className:`text-sm font-medium ${s?"text-white":"text-slate-900"}`,children:[J.tokensManaged," Managed Assets"]}),c.jsxs("p",{className:`text-sm ${s?"text-slate-400":"text-slate-600"}`,children:["$",J.totalVolume.toLocaleString()," Monthly Income"]}),J.assignedTokens&&J.assignedTokens.length>0&&c.jsxs("p",{className:"text-xs text-slate-500 font-mono",children:["Tokens: ",J.assignedTokens.join(", ")]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:`w-2 h-2 rounded-full ${J.status==="active"?"bg-emerald-500":"bg-slate-400"}`}),c.jsx(st,{variant:J.status==="active"?"default":"secondary",className:"text-xs font-medium",children:J.status})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx(re,{variant:"outline",size:"sm",className:"h-8 w-8 p-0 text-blue-600 border-blue-200 hover:bg-blue-50 dark:text-blue-400 dark:border-blue-800 dark:hover:bg-blue-950",onClick:()=>Ze(J),title:"Assign Token",children:c.jsx(wu,{className:"w-4 h-4"})}),c.jsx(re,{variant:"outline",size:"sm",className:"h-8 w-8 p-0",onClick:()=>{Z(J),L(!0)},children:c.jsx(Ho,{className:"w-4 h-4"})}),c.jsx(re,{variant:"outline",size:"sm",className:"h-8 w-8 p-0 text-red-600 border-red-200 hover:bg-red-50 dark:text-red-400 dark:border-red-800 dark:hover:bg-red-950",onClick:()=>{Z(J),F(!0)},children:c.jsx(w3,{className:"w-4 h-4"})})]})]})]})})},J.id))})]}),c.jsxs(jn,{value:"system",className:"space-y-6",children:[c.jsx("div",{className:"flex justify-between items-center",children:c.jsxs("div",{children:[c.jsx("h2",{className:`text-xl font-semibold tracking-tight ${s?"text-white":"text-slate-900"}`,children:"System Administration"}),c.jsx("p",{className:`text-sm ${s?"text-slate-400":"text-slate-600"}`,children:"Configure platform settings and monitor system health"})]})}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[c.jsxs(_e,{className:`${s?"bg-slate-800/50 border-slate-700/50":"bg-white border-slate-200"} shadow-sm`,children:[c.jsxs(_t,{className:"pb-4",children:[c.jsx(Lt,{className:`text-lg font-semibold ${s?"text-white":"text-slate-900"}`,children:"Trading Controls"}),c.jsx("p",{className:`text-sm ${s?"text-slate-400":"text-slate-600"}`,children:"Manage marketplace operations"})]}),c.jsxs(Le,{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:`font-medium ${s?"text-white":"text-slate-900"}`,children:"Marketplace Status"}),c.jsx("p",{className:`text-sm ${s?"text-slate-400":"text-slate-600"}`,children:g?"All trading operations are currently suspended":"Trading operations are active and functioning normally"})]}),c.jsx(AJ,{checked:!g,onCheckedChange:xe,disabled:te||!e})]}),c.jsx("div",{className:"pt-4 border-t border-slate-200 dark:border-slate-700",children:c.jsx(re,{onClick:xe,disabled:te||!e,className:"w-full",variant:g?"default":"destructive",children:te?c.jsxs(c.Fragment,{children:[c.jsx(Fr,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):c.jsxs(c.Fragment,{children:[g?c.jsx(_A,{className:"w-4 h-4 mr-2"}):c.jsx(gp,{className:"w-4 h-4 mr-2"}),g?"Resume Trading":"Suspend Trading"]})})})]})]}),c.jsxs(_e,{className:`${s?"bg-slate-800/50 border-slate-700/50":"bg-white border-slate-200"} shadow-sm`,children:[c.jsxs(_t,{className:"pb-4",children:[c.jsx(Lt,{className:`text-lg font-semibold ${s?"text-white":"text-slate-900"}`,children:"Platform Configuration"}),c.jsx("p",{className:`text-sm ${s?"text-slate-400":"text-slate-600"}`,children:"System settings and administration tools"})]}),c.jsxs(Le,{className:"space-y-3",children:[c.jsxs(re,{variant:"outline",className:"w-full justify-start h-12",children:[c.jsx(X5,{className:"w-4 h-4 mr-3"}),c.jsxs("div",{className:"text-left",children:[c.jsx("div",{className:"font-medium",children:"Fee Structure"}),c.jsx("div",{className:`text-xs ${s?"text-slate-400":"text-slate-600"}`,children:"Configure platform fees and commissions"})]})]}),c.jsxs(re,{variant:"outline",className:"w-full justify-start h-12",children:[c.jsx(K5,{className:"w-4 h-4 mr-3"}),c.jsxs("div",{className:"text-left",children:[c.jsx("div",{className:"font-medium",children:"Export Logs"}),c.jsx("div",{className:`text-xs ${s?"text-slate-400":"text-slate-600"}`,children:"Download system logs and audit trails"})]})]}),c.jsxs(re,{variant:"outline",className:"w-full justify-start h-12",children:[c.jsx(Ql,{className:"w-4 h-4 mr-3"}),c.jsxs("div",{className:"text-left",children:[c.jsx("div",{className:"font-medium",children:"Analytics Dashboard"}),c.jsx("div",{className:`text-xs ${s?"text-slate-400":"text-slate-600"}`,children:"View detailed platform analytics"})]})]})]})]})]})]}),c.jsxs(jn,{value:"settlements",className:"space-y-6",children:[c.jsx("div",{className:"flex justify-between items-center",children:c.jsxs("div",{children:[c.jsx("h2",{className:`text-xl font-semibold tracking-tight ${s?"text-white":"text-slate-900"}`,children:"Invoice Settlement Management"}),c.jsx("p",{className:`text-sm ${s?"text-slate-400":"text-slate-600"}`,children:"Process invoice settlements and monitor token lifecycle"})]})}),c.jsxs("div",{className:"space-y-8",children:[c.jsx(P3e,{}),c.jsx(j3e,{})]})]})]})}),c.jsx(Os,{open:M,onOpenChange:P,children:c.jsxs(ws,{className:`sm:max-w-md ${s?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-xl`,children:[c.jsxs(xs,{className:"space-y-3",children:[c.jsxs(Ts,{className:`text-lg font-semibold ${s?"text-white":"text-slate-900"}`,children:["Add ",H.role.charAt(0).toUpperCase()+H.role.slice(1)]}),c.jsxs(Bo,{className:`text-sm ${s?"text-slate-400":"text-slate-600"}`,children:["Create a new ",H.role," account with platform access and appropriate permissions."]})]}),c.jsxs("div",{className:"space-y-4 py-4 max-h-96 overflow-y-auto",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ut,{htmlFor:"role",className:`text-sm font-medium ${s?"text-slate-200":"text-slate-700"}`,children:"User Role"}),c.jsxs(Qu,{value:H.role,onValueChange:J=>Y(Ee=>({...Ee,role:J})),children:[c.jsx(yc,{className:`${s?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300"}`,children:c.jsx(ed,{})}),c.jsxs(gc,{children:[c.jsx(mr,{value:"issuer",children:"Platform Issuer"}),c.jsx(mr,{value:"manager",children:"Property Manager"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ut,{htmlFor:"firstName",className:`text-sm font-medium ${s?"text-slate-200":"text-slate-700"}`,children:"First Name"}),c.jsx(rn,{id:"firstName",placeholder:"John",value:H.firstName,onChange:J=>Y(Ee=>({...Ee,firstName:J.target.value})),className:`${s?"bg-slate-700 border-slate-600 text-white placeholder:text-slate-400":"bg-white border-slate-300"}`})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ut,{htmlFor:"lastName",className:`text-sm font-medium ${s?"text-slate-200":"text-slate-700"}`,children:"Last Name"}),c.jsx(rn,{id:"lastName",placeholder:"Doe",value:H.lastName,onChange:J=>Y(Ee=>({...Ee,lastName:J.target.value})),className:`${s?"bg-slate-700 border-slate-600 text-white placeholder:text-slate-400":"bg-white border-slate-300"}`})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ut,{htmlFor:"email",className:`text-sm font-medium ${s?"text-slate-200":"text-slate-700"}`,children:"Email Address"}),c.jsx(rn,{id:"email",type:"email",placeholder:"john.doe@company.com",value:H.email,onChange:J=>Y(Ee=>({...Ee,email:J.target.value})),className:`${s?"bg-slate-700 border-slate-600 text-white placeholder:text-slate-400":"bg-white border-slate-300"}`})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ut,{htmlFor:"walletAddress",className:`text-sm font-medium ${s?"text-slate-200":"text-slate-700"}`,children:"Wallet Address"}),c.jsx(rn,{id:"walletAddress",placeholder:"0x742d35Cc...",value:H.walletAddress,onChange:J=>Y(Ee=>({...Ee,walletAddress:J.target.value})),className:`${s?"bg-slate-700 border-slate-600 text-white placeholder:text-slate-400":"bg-white border-slate-300"} font-mono text-sm`})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ut,{htmlFor:"password",className:`text-sm font-medium ${s?"text-slate-200":"text-slate-700"}`,children:"Password"}),c.jsx(rn,{id:"password",type:"password",placeholder:"Enter secure password",value:H.password,onChange:J=>Y(Ee=>({...Ee,password:J.target.value})),className:`${s?"bg-slate-700 border-slate-600 text-white placeholder:text-slate-400":"bg-white border-slate-300"}`})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ut,{htmlFor:"confirmPassword",className:`text-sm font-medium ${s?"text-slate-200":"text-slate-700"}`,children:"Confirm Password"}),c.jsx(rn,{id:"confirmPassword",type:"password",placeholder:"Confirm password",value:H.confirmPassword,onChange:J=>Y(Ee=>({...Ee,confirmPassword:J.target.value})),className:`${s?"bg-slate-700 border-slate-600 text-white placeholder:text-slate-400":"bg-white border-slate-300"}`})]})]}),c.jsxs(ou,{className:"space-x-2 pt-4",children:[c.jsx(re,{variant:"outline",onClick:()=>P(!1),children:"Cancel"}),c.jsx(re,{onClick:fe,disabled:te,className:"bg-slate-900 hover:bg-slate-800",children:te?c.jsxs(c.Fragment,{children:[c.jsx(Fr,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating Account..."]}):`Create ${H.role.charAt(0).toUpperCase()+H.role.slice(1)} Account`})]})]})}),c.jsx(Os,{open:S,onOpenChange:L,children:c.jsx(ws,{className:`sm:max-w-2xl ${s?"bg-gray-900 border-gray-700":"bg-white border-gray-200"}`,children:G&&c.jsxs(c.Fragment,{children:[c.jsxs(xs,{children:[c.jsx(Ts,{className:`${s?"text-white":"text-gray-900"}`,children:G.name}),c.jsxs(Bo,{className:`${s?"text-gray-300":"text-gray-600"}`,children:[G.role.charAt(0).toUpperCase()+G.role.slice(1)," Details"]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:`text-sm font-medium ${s?"text-gray-400":"text-gray-600"}`,children:"Wallet Address"}),c.jsx("p",{className:`font-mono text-sm ${s?"text-white":"text-gray-900"}`,children:G.address})]}),c.jsxs("div",{children:[c.jsx("p",{className:`text-sm font-medium ${s?"text-gray-400":"text-gray-600"}`,children:"Email"}),c.jsx("p",{className:`${s?"text-white":"text-gray-900"}`,children:G.email})]}),c.jsxs("div",{children:[c.jsx("p",{className:`text-sm font-medium ${s?"text-gray-400":"text-gray-600"}`,children:"Status"}),c.jsx(st,{variant:G.status==="active"?"default":"secondary",children:G.status})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:`text-sm font-medium ${s?"text-gray-400":"text-gray-600"}`,children:"Joined Date"}),c.jsx("p",{className:`${s?"text-white":"text-gray-900"}`,children:G.joinedDate})]}),c.jsxs("div",{children:[c.jsx("p",{className:`text-sm font-medium ${s?"text-gray-400":"text-gray-600"}`,children:"Last Active"}),c.jsx("p",{className:`${s?"text-white":"text-gray-900"}`,children:G.lastActive})]}),c.jsxs("div",{children:[c.jsx("p",{className:`text-sm font-medium ${s?"text-gray-400":"text-gray-600"}`,children:G.role==="issuer"?"Tokens Created":"Assets Managed"}),c.jsx("p",{className:`${s?"text-white":"text-gray-900"}`,children:G.tokensManaged})]})]})]}),c.jsx(ou,{children:c.jsx(re,{variant:"outline",onClick:()=>L(!1),children:"Close"})})]})})}),c.jsx(Os,{open:V,onOpenChange:F,children:c.jsx(ws,{className:`sm:max-w-md ${s?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-xl`,children:G&&c.jsxs(c.Fragment,{children:[c.jsx(xs,{className:"space-y-3",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"p-2 rounded-full bg-red-100 dark:bg-red-900/20",children:c.jsx(Bg,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),c.jsxs("div",{children:[c.jsx(Ts,{className:`text-lg font-semibold ${s?"text-white":"text-slate-900"}`,children:"Confirm Removal"}),c.jsx(Bo,{className:`text-sm ${s?"text-slate-400":"text-slate-600"}`,children:"Are you sure you want to remove this user from the blockchain? This action cannot be undone."})]})]})}),c.jsx("div",{className:"py-4",children:c.jsxs("div",{className:`p-4 rounded-lg ${s?"bg-slate-700/50":"bg-slate-50"} border ${s?"border-slate-600":"border-slate-200"}`,children:[c.jsxs("p",{className:`text-sm ${s?"text-slate-300":"text-slate-700"}`,children:["You are about to remove ",c.jsx("span",{className:"font-medium",children:G.name})," from the platform."]}),c.jsxs("p",{className:`text-xs mt-2 ${s?"text-slate-400":"text-slate-600"}`,children:["Role: ",c.jsx("span",{className:"capitalize font-medium",children:G.role})]}),c.jsxs("p",{className:`text-xs mt-1 ${s?"text-slate-400":"text-slate-600"}`,children:["Address: ",c.jsx("span",{className:"font-mono",children:G.address})]}),c.jsx("div",{className:`mt-3 p-3 rounded ${s?"bg-red-900/20 border border-red-800/30":"bg-red-50 border border-red-200"}`,children:c.jsx("p",{className:`text-xs font-medium ${s?"text-red-300":"text-red-700"}`,children:" This action cannot be undone. All associated permissions will be permanently revoked."})})]})}),c.jsxs(ou,{className:"space-x-2",children:[c.jsx(re,{variant:"outline",onClick:()=>F(!1),children:"Cancel"}),c.jsx(re,{variant:"destructive",onClick:ee,disabled:te,className:"bg-red-600 hover:bg-red-700",children:te?c.jsxs(c.Fragment,{children:[c.jsx(Fr,{className:"w-4 h-4 mr-2 animate-spin"}),"Removing..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Cse,{className:"w-4 h-4 mr-2"}),"Remove User"]})})]})]})})}),c.jsx(Os,{open:R,onOpenChange:z,children:c.jsxs(ws,{className:`sm:max-w-md ${s?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-xl`,children:[c.jsx(xs,{className:"space-y-3",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:`p-2 rounded-full ${g?"bg-green-100 dark:bg-green-900/20":"bg-red-100 dark:bg-red-900/20"}`,children:g?c.jsx(_A,{className:`w-5 h-5 ${g?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`}):c.jsx(gp,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),c.jsxs("div",{children:[c.jsx(Ts,{className:`text-lg font-semibold ${s?"text-white":"text-slate-900"}`,children:g?"Resume Trading":"Suspend Trading"}),c.jsx(Bo,{className:`text-sm ${s?"text-slate-400":"text-slate-600"}`,children:"This action will affect the entire marketplace operations"})]})]})}),c.jsx("div",{className:"py-4",children:c.jsxs("div",{className:`p-4 rounded-lg ${s?"bg-slate-700/50":"bg-slate-50"} border ${s?"border-slate-600":"border-slate-200"}`,children:[g?c.jsxs(c.Fragment,{children:[c.jsx("p",{className:`text-sm font-medium ${s?"text-white":"text-slate-900"} mb-2`,children:" Resume Marketplace Trading"}),c.jsx("p",{className:`text-sm ${s?"text-slate-300":"text-slate-700"} mb-3`,children:"This will enable all trading operations across the platform:"}),c.jsxs("ul",{className:`text-xs ${s?"text-slate-400":"text-slate-600"} space-y-1 ml-4`,children:[c.jsx("li",{children:" Token buying and selling will be enabled"}),c.jsx("li",{children:" All marketplace functions will be active"}),c.jsx("li",{children:" Users can perform transactions normally"}),c.jsx("li",{children:" Platform fees and commissions will apply"})]})]}):c.jsxs(c.Fragment,{children:[c.jsx("p",{className:`text-sm font-medium ${s?"text-white":"text-slate-900"} mb-2`,children:" Suspend All Marketplace Trading"}),c.jsx("p",{className:`text-sm ${s?"text-slate-300":"text-slate-700"} mb-3`,children:"This will immediately halt all trading operations:"}),c.jsxs("ul",{className:`text-xs ${s?"text-slate-400":"text-slate-600"} space-y-1 ml-4`,children:[c.jsx("li",{children:" All token purchases will be disabled"}),c.jsx("li",{children:" Existing listings will be suspended"}),c.jsx("li",{children:" Users cannot buy or sell any assets"}),c.jsx("li",{children:" Only viewing functions will remain active"})]})]}),c.jsx("div",{className:`mt-3 p-3 rounded ${s?"bg-orange-900/20 border border-orange-800/30":"bg-orange-50 border border-orange-200"}`,children:c.jsx("p",{className:`text-xs font-medium ${s?"text-orange-400":"text-orange-700"}`,children:" This action requires a blockchain transaction and will affect all users immediately."})})]})}),c.jsxs(ou,{className:"space-x-2",children:[c.jsx(re,{variant:"outline",onClick:()=>z(!1),children:"Cancel"}),c.jsx(re,{onClick:pe,disabled:te||!e,variant:g?"default":"destructive",className:g?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700",children:te?c.jsxs(c.Fragment,{children:[c.jsx(Fr,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):c.jsx(c.Fragment,{children:g?c.jsxs(c.Fragment,{children:[c.jsx(_A,{className:"w-4 h-4 mr-2"}),"Confirm Resume Trading"]}):c.jsxs(c.Fragment,{children:[c.jsx(gp,{className:"w-4 h-4 mr-2"}),"Confirm Suspend Trading"]})})})]})]})}),c.jsx(Os,{open:Q,onOpenChange:O,children:c.jsxs(ws,{className:`sm:max-w-4xl ${s?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-xl`,children:[c.jsxs(xs,{className:"space-y-3",children:[c.jsx(Ts,{className:`text-lg font-semibold ${s?"text-white":"text-slate-900"}`,children:"Assign Asset to Manager"}),c.jsx(Bo,{className:`text-sm ${s?"text-slate-400":"text-slate-600"}`,children:"Select a marketplace asset to assign to this manager for income management."})]}),c.jsx("div",{className:"py-4",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:`p-3 rounded-lg ${s?"bg-slate-700/50":"bg-slate-50"} border ${s?"border-slate-600":"border-slate-200"}`,children:[c.jsx("p",{className:`text-sm font-medium ${s?"text-slate-200":"text-slate-700"}`,children:"Manager Address:"}),c.jsx("p",{className:`text-xs font-mono ${s?"text-slate-400":"text-slate-600"} mt-1`,children:ne.managerAddress})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx(Ut,{className:`text-sm font-medium ${s?"text-slate-200":"text-slate-700"}`,children:"Select Asset to Assign *"}),B.length===0?c.jsxs("div",{className:`p-6 text-center rounded-lg border-2 border-dashed ${s?"border-slate-600 bg-slate-700/30":"border-slate-300 bg-slate-50"}`,children:[c.jsx(xse,{className:`w-8 h-8 mx-auto mb-3 ${s?"text-slate-400":"text-slate-500"}`}),c.jsx("p",{className:`text-sm font-medium ${s?"text-slate-300":"text-slate-700"}`,children:"No marketplace assets found"}),c.jsx("p",{className:`text-xs ${s?"text-slate-400":"text-slate-600"} mt-1`,children:"Create and list assets on the marketplace first"})]}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 max-h-64 overflow-y-auto",children:B.map(J=>{var Ee;return c.jsx("div",{onClick:()=>Re(le=>({...le,selectedAsset:J})),className:`p-3 rounded-lg border-2 cursor-pointer transition-all ${((Ee=ne.selectedAsset)==null?void 0:Ee.tokenId)===J.tokenId?s?"border-blue-500 bg-blue-500/10":"border-blue-500 bg-blue-50":s?"border-slate-600 bg-slate-700/30 hover:border-slate-500":"border-slate-200 bg-white hover:border-slate-300"}`,children:c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${s?"bg-slate-600":"bg-slate-100"}`,children:c.jsx(Fd,{className:`w-6 h-6 ${s?"text-slate-300":"text-slate-600"}`})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h4",{className:`text-sm font-medium truncate ${s?"text-white":"text-slate-900"}`,children:J.name||`Asset #${J.tokenId}`}),c.jsx("p",{className:`text-xs ${s?"text-slate-400":"text-slate-600"} mt-1`,children:J.location||"No location specified"}),c.jsxs("div",{className:"flex justify-between items-center mt-2",children:[c.jsxs("span",{className:`text-xs font-medium ${s?"text-green-400":"text-green-600"}`,children:[J.price," ETH"]}),c.jsxs("span",{className:`text-xs ${s?"text-slate-400":"text-slate-600"}`,children:["ID: ",J.tokenId]})]})]})]})},J.tokenId)})}),ne.selectedAsset&&c.jsxs("div",{className:`p-3 rounded-lg ${s?"bg-blue-500/10 border-blue-500/30":"bg-blue-50 border-blue-200"} border`,children:[c.jsxs("p",{className:`text-sm font-medium ${s?"text-blue-300":"text-blue-700"}`,children:["Selected Asset: ",ne.selectedAsset.name||`Asset #${ne.selectedAsset.tokenId}`]}),c.jsxs("p",{className:`text-xs ${s?"text-blue-400":"text-blue-600"} mt-1`,children:["Token ID: ",ne.selectedAsset.tokenId,"  Price: ",ne.selectedAsset.price," ETH"]})]})]})]})}),c.jsxs(ou,{className:"space-x-2",children:[c.jsx(re,{variant:"outline",onClick:()=>O(!1),children:"Cancel"}),c.jsx(re,{onClick:Fe,disabled:te||!ne.selectedAsset||!e,className:"bg-blue-600 hover:bg-blue-700",children:te?c.jsxs(c.Fragment,{children:[c.jsx(Fr,{className:"w-4 h-4 mr-2 animate-spin"}),"Assigning..."]}):c.jsxs(c.Fragment,{children:[c.jsx(wu,{className:"w-4 h-4 mr-2"}),"Assign Asset"]})})]})]})})]})},L2=T.forwardRef(({className:t,...e},n)=>c.jsx("textarea",{className:dt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));L2.displayName="Textarea";const Tf="http://localhost:3001/api";class _3e{async generateMintToken(e){var n;try{const r=await fetch(`${Tf}/verification/generate-mint-token`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await r.json();if(r.status===403&&s.error==="SIMILARITY_BLOCKED")return s;if(!r.ok)throw new Error(((n=s.error)==null?void 0:n.message)||"Failed to generate mint token");return s.data}catch(r){throw console.error("Error generating mint token:",r),r}}async checkTokenStatus(e){var n;try{const r=await fetch(`${Tf}/verification/token/${e}/status`),s=await r.json();if(!r.ok)throw new Error(((n=s.error)==null?void 0:n.message)||"Failed to check token status");return s.data}catch(r){throw console.error("Error checking token status:",r),r}}async updateTokenAfterMint(e){var n;try{const r=await fetch(`${Tf}/verification/token/${e.nonce}/update`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({ipId:e.ipId,tokenId:e.tokenId,txHash:e.txHash})}),s=await r.json();if(!r.ok)throw new Error(((n=s.error)==null?void 0:n.message)||"Failed to update token")}catch(r){throw console.error("Error updating token:",r),r}}hashContent(e){return da(sc(e))}getRemainingTime(e){const n=Math.floor(Date.now()/1e3),r=Math.max(0,e-n);return{minutes:Math.floor(r/60),seconds:r%60,isExpired:r===0}}async findLicenseTerms(e,n){const r=await fetch(`${Tf}/license-terms/find?type=${e}&royalty=${n}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!r.ok)throw new Error(`Failed to find license terms: ${r.statusText}`);return r.json()}async cacheLicenseTerms(e){const n=localStorage.getItem("token"),r=await fetch(`${Tf}/license-terms/cache`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify(e)});if(!r.ok)throw new Error(`Failed to cache license terms: ${r.statusText}`);return r.json()}async finalizeMint(e){const n=localStorage.getItem("token"),r=!0,s=e.licenseType==="commercial_remix",i=await fetch(`${Tf}/verification/token/${e.nonce}/finalize`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({ipId:e.ipId,tokenId:e.tokenId,txHash:e.txHash,licenseTermsId:e.licenseTermsId,licenseType:e.licenseType,royaltyPercent:e.royaltyPercent,allowDerivatives:r,commercialUse:s,licenseTxHash:e.licenseTxHash})});if(!i.ok){const a=await i.json();throw new Error(a.error||`Failed to finalize mint: ${i.statusText}`)}return i.json()}}const Vu=new _3e,_J="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySW5mb3JtYXRpb24iOnsiaWQiOiI2ZDgwYjIxNy04NmQyLTQwMTItODg1My1iODZjODQyYWM5ZTYiLCJlbWFpbCI6ImRpdnlyYWouc2FpbmkyMmJAaWlpdGcuYWMuaW4iLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwicGluX3BvbGljeSI6eyJyZWdpb25zIjpbeyJkZXNpcmVkUmVwbGljYXRpb25Db3VudCI6MSwiaWQiOiJGUkExIn0seyJkZXNpcmVkUmVwbGljYXRpb25Db3VudCI6MSwiaWQiOiJOWUMxIn1dLCJ2ZXJzaW9uIjoxfSwibWZhX2VuYWJsZWQiOmZhbHNlLCJzdGF0dXMiOiJBQ1RJVkUifSwiYXV0aGVudGljYXRpb25UeXBlIjoic2NvcGVkS2V5Iiwic2NvcGVkS2V5S2V5IjoiYjA4M2NhMTZmNDlmYmI2YTEyN2YiLCJzY29wZWRLZXlTZWNyZXQiOiI0NDllNDdjZmFjODllMDU3NzNjOTE5OGQyNzcxODU2MzI3MGNkYTIzMTQ1ODg2MDk4OWQ4ZDA0MjQyNGI2YzhjIiwiZXhwIjoxNzk2NDI2NTczfQ.Y97KdGkpDTxNupWsAnxhxofmJ3bNTRh5o_bqHqZ_eyI";async function C1(t,e){try{const n={pinataContent:t,pinataMetadata:{name:e||`metadata-${Date.now()}`}},r=await fetch("https://api.pinata.cloud/pinning/pinJSONToIPFS",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${_J}`},body:JSON.stringify(n)});if(!r.ok){const a=await r.text();throw console.error("Pinata upload error:",a),new Error(`Pinata upload failed: ${r.status} ${r.statusText}`)}const i=`ipfs://${(await r.json()).IpfsHash}`;return console.log(` Uploaded to IPFS: ${i}`),i}catch(n){throw console.error("Error uploading JSON to Pinata:",n),n}}async function L3e(t,e){try{const n=new FormData;n.append("file",t);const r=JSON.stringify({name:e||t.name});n.append("pinataMetadata",r);const s=await fetch("https://api.pinata.cloud/pinning/pinFileToIPFS",{method:"POST",headers:{Authorization:`Bearer ${_J}`},body:n});if(!s.ok){const o=await s.text();throw console.error("Pinata file upload error:",o),new Error(`Pinata file upload failed: ${s.status} ${s.statusText}`)}const a=`ipfs://${(await s.json()).IpfsHash}`;return console.log(` Uploaded file to IPFS: ${a}`),a}catch(n){throw console.error("Error uploading file to Pinata:",n),n}}const LJ="0x2E896b0b2Fdb7457499B56AAaA4AE55BCB4Cd316",O3e="0x04fbd8a2e56dd85CFD5500A4A4DfA955B9f1dE6f",$3e="0xBe54FB168b3c982b7AaE60dB6CF75Bd8447b390E",F3e="0xF2104833d386a2734a4eB3B8ad6FC6812F29E38E",B3e=LJ,U3e=$3e,z3e=F3e,N$=LJ,V3e=O3e,H3e=["function registerLicenseTerms((bool transferable, address royaltyPolicy, uint256 defaultMintingFee, uint256 expiration, bool commercialUse, bool commercialAttribution, address commercializerChecker, bytes commercializerCheckerData, uint32 commercialRevShare, uint256 commercialRevCeiling, bool derivativesAllowed, bool derivativesAttribution, bool derivativesApproval, bool derivativesReciprocal, uint256 derivativeRevCeiling, address currency, string uri) terms) external returns (uint256 licenseTermsId)"],W3e=["function attachLicenseTerms(address ipId, address licenseTemplate, uint256 licenseTermsId) external"];async function xP(t,e){if(t==="non_commercial"&&e===0)return console.log(" Using preset non-commercial license (ID: 1)"),"1";const n=await Vu.findLicenseTerms(t,e);if(n.licenseTermsId)return console.log(` Using cached license terms: ${n.licenseTermsId}`),n.licenseTermsId;console.log(` Registering license terms: ${t} ${e}%`);const r=new eo(window.ethereum,"any");await r.send("eth_requestAccounts",[]);const s=r.getSigner(),i=new at(B3e,H3e,s),a={transferable:!0,royaltyPolicy:U3e,defaultMintingFee:0,expiration:0,commercialUse:t==="commercial_remix",commercialAttribution:!0,commercializerChecker:ITe,commercializerCheckerData:"0x",commercialRevShare:e*1e6,commercialRevCeiling:0,derivativesAllowed:!0,derivativesAttribution:!0,derivativesApproval:!1,derivativesReciprocal:!1,derivativeRevCeiling:0,currency:z3e,uri:""};console.log(" Simulating call to get license terms ID...");const o=await i.callStatic.registerLicenseTerms(a);console.log(" Will register license terms ID:",o.toString()),console.log(" Executing license registration transaction...");const u=await(await i.registerLicenseTerms(a)).wait();console.log(" License registered! TX:",u.transactionHash),console.log(" License Terms ID:",o.toString());const d=o.toString();return await Vu.cacheLicenseTerms({licenseType:t,royaltyPercent:e,licenseTermsId:d,transactionHash:u.transactionHash}),d}async function TP(t,e){const n=new eo(window.ethereum,"any");await n.send("eth_requestAccounts",[]);const r=n.getSigner(),s=new at(V3e,W3e,r);console.log(" Attaching license terms..."),console.log("  IP ID:",t),console.log("  License Template:",N$),console.log("  License Terms ID:",e);const i=await s.attachLicenseTerms(t,N$,e);console.log(" Waiting for attach transaction...");const a=await i.wait();return console.log(" License attached! TX:",a.transactionHash),{txHash:a.transactionHash}}const OJ=({isOpen:t,onClose:e,similarityInfo:n,onProceedAsOriginal:r,onRegisterAsDerivative:s})=>{if(!t)return null;const{score:i,topMatch:a,llmAnalysis:o}=n,l=i>=60;return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[c.jsx("div",{className:`p-6 border-b ${l?"bg-red-50":"bg-yellow-50"}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("span",{className:"text-3xl",children:l?"":""}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Similar Content Detected"}),c.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[i,"% similarity to existing IP"]})]})]}),c.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:""})]})}),c.jsxs("div",{className:"p-6 space-y-6",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Similarity Score"}),c.jsxs("span",{className:"text-lg font-bold text-gray-900",children:[i,"%"]})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:c.jsx("div",{className:`h-3 rounded-full ${i>=60?"bg-red-500":"bg-yellow-500"}`,style:{width:`${i}%`}})})]}),o&&c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx("span",{className:"text-2xl",children:""}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"AI Analysis"}),c.jsx("p",{className:"text-sm text-blue-800 mb-3",children:o.summary}),o.key_differences&&c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-medium text-blue-700 mb-1",children:"Key Differences:"}),c.jsx("ul",{className:"text-xs text-blue-700 space-y-1",children:o.key_differences.map((u,d)=>c.jsxs("li",{children:[" ",u]},d))})]}),c.jsxs("div",{className:"mt-2 text-xs text-blue-600",children:["Confidence: ",o.confidence_score,"%"]})]})]})}),c.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Most Similar Content"}),c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"IP ID:"}),c.jsx("span",{className:"font-mono text-xs",children:a.ipId})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Creator:"}),c.jsx("span",{className:"font-mono text-xs",children:a.creatorAddress})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Content Hash:"}),c.jsx("span",{className:"font-mono text-xs truncate max-w-xs",children:a.contentHash})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Asset Type:"}),c.jsx("span",{className:"capitalize",children:a.assetType})]})]})]}),c.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"What does this mean?"}),c.jsx("p",{className:"text-sm text-gray-700",children:i>=60?c.jsxs(c.Fragment,{children:["Your content is ",c.jsx("strong",{children:"highly similar"})," to existing registered IP. We ",c.jsx("strong",{children:"strongly recommend"})," registering it as a derivative work to properly attribute the original creator and comply with licensing terms."]}):c.jsxs(c.Fragment,{children:["Your content shows ",c.jsx("strong",{children:"moderate similarity"})," to existing IP. If you created this independently, you can proceed. If this is a remix or derivative, we recommend linking it to the parent IP."]})})]})]}),c.jsxs("div",{className:"p-6 border-t bg-gray-50 space-y-3",children:[c.jsx("button",{onClick:s,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-4 rounded-lg transition-colors",children:" Register as Derivative (Recommended)"}),c.jsx("button",{onClick:r,className:"w-full bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-3 px-4 rounded-lg transition-colors",children:"Continue as Original Work"}),c.jsx("p",{className:"text-xs text-gray-500 text-center",children:"By proceeding as original, you confirm you created this content independently. False claims may result in account suspension."})]})]})})},$J=({isOpen:t,onClose:e,blockedInfo:n})=>{if(!t)return null;const{score:r,topMatch:s,llmAnalysis:i}=n;return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-2xl max-w-2xl w-full mx-4",children:[c.jsx("div",{className:"p-6 bg-red-600 text-white rounded-t-lg",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("span",{className:"text-4xl",children:""}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold",children:"Upload Blocked"}),c.jsxs("p",{className:"text-red-100 mt-1",children:["High similarity detected (",r,"%)"]})]})]})}),c.jsxs("div",{className:"p-6 space-y-4",children:[c.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[c.jsx("p",{className:"text-red-900 font-medium mb-2",children:" Your upload has been blocked"}),c.jsxs("p",{className:"text-red-800 text-sm",children:["Our AI detected ",r,"% similarity to existing registered IP. This level of similarity indicates potential copyright infringement and requires manual review before proceeding."]})]}),i&&c.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:" AI Analysis"}),c.jsx("p",{className:"text-sm text-gray-700",children:i.summary}),i.is_plagiarism&&c.jsx("div",{className:"mt-2 text-sm text-red-600 font-medium",children:" Potential plagiarism detected"})]}),c.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Similar to:"}),c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"IP ID:"}),c.jsx("span",{className:"font-mono text-xs",children:s.ipId})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Creator:"}),c.jsx("span",{className:"font-mono text-xs",children:s.creatorAddress})]})]})]}),c.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[c.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"What can you do?"}),c.jsxs("ul",{className:"text-sm text-blue-800 space-y-2",children:[c.jsx("li",{children:" If you created this content independently, contact support with proof"}),c.jsx("li",{children:" If this is a derivative/remix, obtain a license from the original creator"}),c.jsx("li",{children:" Upload different content that doesn't infringe on existing IP"})]})]})]}),c.jsxs("div",{className:"p-6 border-t bg-gray-50",children:[c.jsx("button",{onClick:e,className:"w-full bg-gray-800 hover:bg-gray-900 text-white font-medium py-3 px-4 rounded-lg transition-colors",children:"Close"}),c.jsx("p",{className:"text-xs text-gray-500 text-center mt-3",children:"Your upload has been flagged for admin review. You'll be notified if the decision is reversed."})]})]})})},FJ="0x523",S$={chainId:FJ,chainName:"Story Aeneid Testnet",nativeCurrency:{name:"IP",symbol:"IP",decimals:18},rpcUrls:["https://aeneid.storyrpc.io"],blockExplorerUrls:["https://aeneid.storyscan.xyz"]},G3e=["text"],K3e=()=>{const t=mo(),e=yl(),{address:n,isConnected:r,connectWallet:s,provider:i,signer:a}=er();T.useState(null),T.useState(null),T.useState(null),T.useState(null),T.useState(!1);const[o,l]=T.useState(null),[u,d]=T.useState(!1),[p,f]=T.useState("dashboard"),[h,y]=T.useState([]),[m,g]=T.useState(!1),[v,b]=T.useState({title:"",description:"",assetType:"text",imageFiles:[]}),[w,A]=T.useState(!1),[I,C]=T.useState("Ready to Register"),[E,N]=T.useState(null),[_,U]=T.useState(null),[$,B]=T.useState(""),[j,x]=T.useState(""),[k,M]=T.useState(""),[P,S]=T.useState(!1),[L,V]=T.useState(!1),[F,R]=T.useState(null),[z,Q]=T.useState(!1),[O,H]=T.useState({type:"commercial_remix",royaltyPercent:10}),[Y,G]=T.useState(null),Z=fe=>da(sc(fe)),te=async()=>{if(!window.ethereum)throw new Error("MetaMask not found");try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:FJ}]})}catch(fe){if(fe.code===4902)await window.ethereum.request({method:"wallet_addEthereumChain",params:[S$]});else throw fe}},q=async()=>{var fe,ee;if(!a||!n){be.error("Please connect your wallet first");return}if(!v.title||!v.description){be.error("Please fill in a title and description for your IP asset.");return}A(!0),C(" Starting..."),Q(!1),S(!1),V(!1);try{C(" Connecting to Aeneid network..."),await te();const pe=a.provider,xe=await pe.getNetwork();if(xe.chainId!==1315)throw new Error(`Wrong network! Please switch to Aeneid (Chain ID: 1315). Current: ${xe.chainId}`);const Fe=n;console.log("Connected as:",Fe),C(" Preparing content...");const Ze=`# ${v.title}

${v.description}`,Oe=Z(Ze);B(Oe),console.log("Content hash:",Oe),C(" Uploading metadata to IPFS...");let rt="";if(v.imageFiles.length>0)try{rt=await L3e(v.imageFiles[0],v.title),console.log(" Image uploaded:",rt)}catch(he){console.warn(" Image upload failed:",he)}const zt={title:v.title,description:v.description,contentHash:Oe,assetType:v.assetType.toLowerCase(),creator:Fe,createdAt:new Date().toISOString()},ct={name:v.title,description:`NFT for IP Asset - ${v.assetType}`,image:rt,attributes:[{trait_type:"Asset Type",value:v.assetType},{trait_type:"Creator",value:Fe},{trait_type:"Content Hash",value:Oe}]};console.log(" Uploading IP metadata to Pinata..."),console.log("IP Metadata:",zt);let J,Ee;try{J=await C1(zt,`ip-metadata-${Oe}`),console.log(` IP Metadata uploaded: ${J}`)}catch(he){throw console.error(" Failed to upload IP metadata:",he),new Error(`IPFS upload failed: ${he instanceof Error?he.message:"Unknown error"}`)}console.log(" Uploading NFT metadata to Pinata..."),console.log("NFT Metadata:",ct);try{Ee=await C1(ct,`nft-metadata-${Oe}`),console.log(` NFT Metadata uploaded: ${Ee}`)}catch(he){throw console.error(" Failed to upload NFT metadata:",he),new Error(`IPFS upload failed: ${he instanceof Error?he.message:"Unknown error"}`)}x(J),M(Ee),C(" Checking for similar content (RAG Detection Engine)...");const le=await Vu.generateMintToken({creatorAddress:Fe,contentHash:Oe,ipMetadataURI:J,nftMetadataURI:Ee,assetType:v.assetType.toLowerCase()});if("error"in le&&le.error==="SIMILARITY_BLOCKED"){C(" Upload blocked due to high similarity"),R(le.similarity),V(!0),A(!1);return}const ue=le;if(N(ue),(fe=ue.similarity)!=null&&fe.warning){C(" Similar content detected - review required"),R(ue.similarity),S(!0),A(!1);return}C(" Content verified clean! Minting..."),await ne(ue,Fe,pe,Oe,J,Ee)}catch(pe){console.error("Minting error:",pe);const xe=pe.reason||((ee=pe.data)==null?void 0:ee.message)||pe.message||"Unknown error";C(` Failed: ${xe}`),be.error(`Minting failed: ${xe}`,{duration:5e3})}finally{A(!1)}},ne=async(fe,ee,pe,xe,Fe,Ze)=>{try{C(" Minting IP Asset on Story Protocol...");const Oe=pe.getSigner(),rt="0xbe39E1C756e921BD25DF86e7AAa31106d1eb0424",zt="0x78AD3d22E62824945DED384a5542Ad65de16E637",ct=["function mintAndRegisterIp(address spgNftContract, address recipient, tuple(string ipMetadataURI, bytes32 ipMetadataHash, string nftMetadataURI, bytes32 nftMetadataHash) ipMetadata, bool allowDuplicates) returns (address ipId, uint256 tokenId)"],J=new at(rt,ct,Oe),Ee={ipMetadataURI:Fe,ipMetadataHash:da(sc(Fe)),nftMetadataURI:Ze,nftMetadataHash:da(sc(Ze))};console.log(" Calling RegistrationWorkflows.mintAndRegisterIp DIRECTLY"),console.log("SPG NFT Contract:",zt),console.log("Recipient:",ee),console.log("Metadata:",Ee),C(" Simulating transaction to get return values...");const{ipId:le,tokenId:ue}=await J.callStatic.mintAndRegisterIp(zt,ee,Ee,!0);console.log(" Predicted return values:",{ipId:le,tokenId:ue.toString()}),C(" Sending transaction to blockchain...");const he=await J.mintAndRegisterIp(zt,ee,Ee,!0,{gasLimit:5e6});console.log(" Transaction sent:",he.hash),C(" Waiting for confirmation...");const Ne=await he.wait();console.log(" Transaction confirmed!",Ne);const Ge=le,Te=ue.toNumber(),me={ipId:Ge,tokenId:Te,txHash:Ne.transactionHash};console.log(" Mint result:",me);try{C(" Updating backend with IP ID..."),await Vu.updateTokenAfterMint({nonce:fe.nonce,ipId:me.ipId,tokenId:me.tokenId,txHash:me.txHash}),console.log(" Backend updated successfully with IP ID and token ID"),C(" Backend updated! IP Asset registered successfully.")}catch(de){console.error(" Backend update failed:",de),C(" IP minted but backend update failed. Asset may show as pending.")}C(" IP Asset Registered! Configure license terms below."),U(me),Q(!0),be.success(" IP Asset minted successfully! Please attach license terms.")}catch(Oe){throw console.error("Minting failed:",Oe),Oe}},Re=async()=>{var fe;S(!1),A(!0);try{if(!E)throw new Error("No mint token available");if(!$)throw new Error("No content hash available");if(!j||!k)throw new Error("Metadata URIs not available");const ee=new eo(window.ethereum),xe=await ee.getSigner().getAddress();C(" Proceeding as original work..."),await ne(E,xe,ee,$,j,k)}catch(ee){console.error("Minting error:",ee);const pe=ee.reason||((fe=ee.data)==null?void 0:fe.message)||ee.message||"Unknown error";C(` Failed: ${pe}`),be.error(`Minting failed: ${pe}`,{duration:5e3})}finally{A(!1)}},se=async()=>{var fe;S(!1),A(!0);try{if(!E||!F||!("warning"in F))throw new Error("No similarity data available");if(!$||!j||!k)throw new Error("Metadata not available");const ee=new eo(window.ethereum),xe=await ee.getSigner().getAddress();C(" Registering as derivative work..."),await ne(E,xe,ee,$,j,k),localStorage.setItem("pendingDerivativeParent",F.topMatch.ipId)}catch(ee){console.error("Derivative registration error:",ee);const pe=ee.reason||((fe=ee.data)==null?void 0:fe.message)||ee.message||"Unknown error";C(` Failed: ${pe}`),be.error(`Registration failed: ${pe}`,{duration:5e3})}finally{A(!1)}},ve=async()=>{var fe;if(!_||!E){be.error("No mint result to attach license to.");return}A(!0),C("Attaching license terms...");try{C("Getting or registering license terms...");const ee=await xP(O.type,O.royaltyPercent);console.log(" License terms ID:",ee),C("Attaching license to IP asset on-chain...");const pe=await TP(_.ipId,ee);console.log(" License attached on-chain! TX:",pe.txHash),C(" Finalizing registration with backend..."),await Vu.finalizeMint({nonce:E.nonce,ipId:_.ipId,tokenId:_.tokenId,txHash:_.txHash,licenseTermsId:ee,licenseType:O.type,royaltyPercent:O.royaltyPercent,licenseTxHash:pe.txHash}),console.log(" Backend finalized successfully with license info"),C(" SUCCESS! IP fully registered with license terms in backend."),G({..._,licenseTermsId:ee,licenseTxHash:pe.txHash}),Q(!1),be.success(" License attached successfully! IP Asset is fully registered.");try{const xe={ipId:_.ipId,tokenId:_.tokenId,title:v.title,description:v.description,assetType:v.assetType,contentHash:$,ipMetadataURI:j,nftMetadataURI:k,txHash:_.txHash,licenseTxHash:pe.txHash,licenseTermsId:ee,licenseType:O.type,royaltyPercent:O.royaltyPercent,creator:n,registeredAt:new Date().toISOString(),status:"registered"},Fe=JSON.parse(localStorage.getItem("registeredIPAssets")||"[]");Fe.unshift(xe),localStorage.setItem("registeredIPAssets",JSON.stringify(Fe)),console.log(" Saved to localStorage:",xe)}catch(xe){console.warn(" Failed to save to localStorage:",xe)}b({title:"",description:"",assetType:"text",imageFiles:[]})}catch(ee){console.error("License attachment failed:",ee);const pe=ee.reason||((fe=ee.data)==null?void 0:fe.message)||ee.message||"License attachment failed";C(` License attachment failed: ${pe}`),be.error(`License attachment failed: ${pe}`,{duration:5e3})}finally{A(!1)}};if(!r)return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:c.jsxs(_e,{className:"w-full max-w-md",children:[c.jsxs(_t,{className:"text-center",children:[c.jsx(Lt,{children:"Connect Wallet"}),c.jsx(Zr,{children:"Please connect your wallet to access the issuer dashboard"})]}),c.jsx(Le,{className:"text-center",children:c.jsx(re,{onClick:s,className:"w-full",children:"Connect Wallet"})})]})});if(u)return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:c.jsx(_e,{className:"w-full max-w-md",children:c.jsx(Le,{className:"pt-6",children:c.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[c.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),c.jsx("span",{children:"Initializing issuer service..."})]})})})});if(o===!1)return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:c.jsxs(_e,{className:"w-full max-w-md",children:[c.jsxs(_t,{className:"text-center",children:[c.jsx(Lt,{className:"text-red-600",children:"Not Authorized"}),c.jsx(Zr,{children:"Your wallet is not authorized as an issuer. Please contact the admin."})]}),c.jsxs(Le,{className:"text-center",children:[c.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Wallet: ",n]}),c.jsx(re,{variant:"outline",onClick:()=>window.location.reload(),children:"Refresh"})]})]})});const We=()=>{var ee;const fe=(ee=e.state)==null?void 0:ee.from;t(fe||-1)};return c.jsxs("div",{className:"min-h-screen  from-blue-50 to-indigo-100",style:{backgroundColor:"rgba(230, 240, 249, 0.9)"},children:[c.jsx(bT,{}),c.jsxs("div",{className:"container mx-auto px-4 py-8",style:{position:"relative",zIndex:1},children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs(re,{variant:"ghost",onClick:We,className:"mb-4 hover:bg-gray-200 text-gray-700",children:[c.jsx(OC,{className:"w-4 h-4 mr-2"}),"Back"]}),c.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2 z-100",children:"Issuer Dashboard"}),c.jsx("p",{className:"text-gray-600",children:"Register new IP assets and manage legacy token requests."}),c.jsx("div",{className:"mt-4",children:c.jsxs(st,{variant:"outline",className:"mr-2",children:["Connected: ",n==null?void 0:n.slice(0,6),"...",n==null?void 0:n.slice(-4)]})})]}),c.jsxs(wc,{value:p,onValueChange:f,className:"space-y-6",children:[c.jsxs(ol,{className:"grid w-full grid-cols-3",children:[c.jsx(vn,{value:"dashboard",children:"Dashboard"}),c.jsx(vn,{value:"create",children:"Register IP Asset"}),c.jsx(vn,{value:"requests",children:"Legacy Requests"})]}),c.jsx(jn,{value:"dashboard",className:"space-y-6",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 z-1",children:[c.jsxs(_e,{className:"flex flex-col bg-white/20",children:[c.jsxs(_t,{children:[c.jsx(Lt,{children:"Register New IP Asset"}),c.jsx(Zr,{children:"Use the verified Story Protocol workflow to mint a new IP asset directly on-chain."})]}),c.jsx(Le,{className:"flex-grow flex items-center justify-center",children:c.jsxs(re,{size:"lg",onClick:()=>f("create"),children:[c.jsx(b3,{className:"w-5 h-5 mr-2"}),"Go to Registration"]})})]}),c.jsxs(_e,{className:"flex flex-col bg-white/20",children:[c.jsxs(_t,{children:[c.jsx(Lt,{children:"Legacy Token Requests"}),c.jsx(Zr,{children:"View and manage your requests submitted through the old admin approval system."})]}),c.jsx(Le,{className:"flex-grow flex items-center justify-center",children:c.jsxs(re,{size:"lg",variant:"secondary",onClick:()=>f("requests"),children:[c.jsx(Uo,{className:"w-5 h-5 mr-2"}),"View Legacy Requests"]})})]})]})}),c.jsx(jn,{value:"create",className:"space-y-6",children:c.jsxs(_e,{className:"bg-white/20",children:[c.jsxs(_t,{children:[c.jsx(Lt,{children:"Register New IP Asset"}),c.jsx(Zr,{children:"This will register your IP directly on the Story Protocol Aeneid testnet."})]}),c.jsxs(Le,{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(Ut,{htmlFor:"title",children:"IP Asset Title *"}),c.jsx(rn,{id:"title",value:v.title,onChange:fe=>b(ee=>({...ee,title:fe.target.value})),placeholder:"e.g., My Awesome Sci-Fi Novel"})]}),c.jsxs("div",{children:[c.jsx(Ut,{htmlFor:"assetType",children:"Asset Type *"}),c.jsxs(Qu,{value:v.assetType,onValueChange:fe=>b(ee=>({...ee,assetType:fe})),children:[c.jsx(yc,{children:c.jsx(ed,{placeholder:"Select asset type"})}),c.jsx(gc,{children:G3e.map(fe=>c.jsx(mr,{value:fe,children:fe},fe))})]})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(Ut,{htmlFor:"description",children:"Description *"}),c.jsx(L2,{id:"description",value:v.description,onChange:fe=>b(ee=>({...ee,description:fe.target.value})),placeholder:"A brief summary of your intellectual property.",rows:4})]}),c.jsxs("div",{children:[c.jsx(Ut,{htmlFor:"document",children:"Upload Document (Optional)"}),c.jsx(rn,{id:"text",type:"file",accept:".txt,.md,.pdf,.doc,.docx,.odt,.rtf",onChange:fe=>{const ee=Array.from(fe.target.files||[]);b(pe=>({...pe,imageFiles:ee}))}}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Supported formats: TXT, MD, PDF, DOC, DOCX, ODT, RTF"})]})]})]}),c.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[c.jsx(re,{onClick:q,disabled:w||!v.title||!v.description,className:"w-full max-w-xs",size:"lg",children:w?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-3"}),"Submitting..."]}):c.jsxs(c.Fragment,{children:[c.jsx(b3,{className:"w-5 h-5 mr-2"}),"Register IP Asset"]})}),c.jsx("p",{className:"text-sm text-gray-600 font-mono h-4",children:w&&I})]})]})]})}),c.jsx(jn,{value:"requests",className:"space-y-6",children:c.jsxs(_e,{className:"bg-white/20",children:[c.jsxs(_t,{children:[c.jsx(Lt,{children:"Legacy Token Requests"}),c.jsx(Zr,{children:"History of requests submitted via the admin approval system."})]}),c.jsx(Le,{children:m?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Loading requests..."})]}):h.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx(Uo,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No legacy requests found"})]}):c.jsx("div",{className:"space-y-4"})})]})})]}),z&&!Y&&_&&c.jsxs(_e,{className:"mt-6 border-2 border-blue-400 bg-blue-50",children:[c.jsxs(_t,{children:[c.jsx(Lt,{className:"text-blue-700",children:" IP Registered! Now, Attach a License."}),c.jsx(Zr,{children:"Your IP Asset has been minted. Attach license terms to complete registration."})]}),c.jsxs(Le,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2 font-mono text-sm bg-white p-4 rounded",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-600",children:"IP ID:"})," ",c.jsx("span",{className:"text-blue-600 break-all",children:_.ipId})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-600",children:"Token ID:"})," ",c.jsx("span",{className:"text-blue-600",children:_.tokenId})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"license-type-selector bg-white p-4 rounded-md space-y-2",children:[c.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[c.jsx("input",{type:"radio",name:"licenseType",className:"form-radio h-5 w-5 text-blue-600",checked:O.type==="commercial_remix",onChange:()=>H({...O,type:"commercial_remix"})}),c.jsxs("div",{children:[c.jsx("span",{className:"font-semibold",children:"Commercial Remix"}),c.jsx("span",{className:"block text-xs text-gray-600",children:" Commercial use  Derivatives  Attribution"})]})]}),c.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[c.jsx("input",{type:"radio",name:"licenseType",className:"form-radio h-5 w-5 text-blue-600",checked:O.type==="non_commercial",onChange:()=>H({...O,type:"non_commercial",royaltyPercent:0})}),c.jsxs("div",{children:[c.jsx("span",{className:"font-semibold",children:"Non-Commercial Only"}),c.jsx("span",{className:"block text-xs text-gray-600",children:" No commercial use  Derivatives  Attribution"})]})]})]}),O.type==="commercial_remix"&&c.jsxs("div",{className:"royalty-slider bg-white p-4 rounded-md",children:[c.jsxs("label",{className:"block mb-2 font-semibold",children:["Royalty Percentage: ",O.royaltyPercent,"%"]}),c.jsx("input",{type:"range",min:"0",max:"100",value:O.royaltyPercent,onChange:fe=>H({...O,royaltyPercent:parseInt(fe.target.value)}),className:"w-full h-2 bg-gray-300 rounded-lg appearance-none cursor-pointer"})]}),c.jsx(re,{onClick:ve,disabled:w,className:"w-full",size:"lg",children:w?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-3"}),"Attaching..."]}):"Attach License & Finalize"})]})]})]}),Y&&c.jsxs(_e,{className:"mt-6 border-2 border-green-500 bg-green-50",children:[c.jsxs(_t,{children:[c.jsx(Lt,{className:"text-green-700",children:" IP Fully Registered!"}),c.jsx(Zr,{children:"Your IP Asset is now fully registered with license terms on Story Protocol."})]}),c.jsxs(Le,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2 font-mono text-sm bg-white p-4 rounded",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-600",children:"IP ID:"})," ",c.jsx("span",{className:"text-green-600 break-all",children:Y.ipId})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-600",children:"Token ID:"})," ",c.jsx("span",{className:"text-green-600",children:Y.tokenId})]}),Y.licenseTermsId&&c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-600",children:"License Terms ID:"})," ",c.jsx("span",{className:"text-green-600",children:Y.licenseTermsId})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-600",children:"Mint Tx Hash:"})," ",c.jsx("span",{className:"text-green-600 break-all",children:Y.txHash})]}),Y.licenseTxHash&&c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-600",children:"License Tx Hash:"})," ",c.jsx("span",{className:"text-green-600 break-all",children:Y.licenseTxHash})]})]}),c.jsx(re,{onClick:()=>window.open(`${S$.blockExplorerUrls[0]}/tx/${Y.licenseTxHash||Y.txHash}`,"_blank"),variant:"outline",className:"w-full",children:"View on Explorer "})]})]})]}),P&&F&&"warning"in F&&c.jsx(OJ,{isOpen:P,onClose:()=>S(!1),similarityInfo:F,onProceedAsOriginal:Re,onRegisterAsDerivative:se}),L&&F&&!("warning"in F)&&c.jsx($J,{isOpen:L,onClose:()=>{V(!1),b({title:"",description:"",assetType:"text",imageFiles:[]})},blockedInfo:F})]})},Y3e=({children:t,className:e})=>c.jsxs("div",{className:dt("relative flex min-h-screen flex-col items-center justify-center overflow-hidden bg-slate-950 w-full rounded-md z-0",e),children:[c.jsxs("div",{className:"relative flex w-full flex-1 scale-y-125 items-center justify-center isolate z-0 ",children:[c.jsxs(Kl.div,{initial:{opacity:.5,width:"15rem"},whileInView:{opacity:1,width:"30rem"},transition:{delay:.3,duration:.8,ease:"easeInOut"},style:{backgroundImage:"conic-gradient(var(--conic-position), var(--tw-gradient-stops))"},className:"absolute inset-auto right-1/2 h-56 overflow-visible w-[30rem] bg-gradient-conic from-cyan-500 via-transparent to-transparent text-white [--conic-position:from_70deg_at_center_top]",children:[c.jsx("div",{className:"absolute  w-[100%] left-0 bg-slate-950 h-40 bottom-0 z-20 [mask-image:linear-gradient(to_top,white,transparent)]"}),c.jsx("div",{className:"absolute  w-40 h-[100%] left-0 bg-slate-950  bottom-0 z-20 [mask-image:linear-gradient(to_right,white,transparent)]"})]}),c.jsxs(Kl.div,{initial:{opacity:.5,width:"15rem"},whileInView:{opacity:1,width:"30rem"},transition:{delay:.3,duration:.8,ease:"easeInOut"},style:{backgroundImage:"conic-gradient(var(--conic-position), var(--tw-gradient-stops))"},className:"absolute inset-auto left-1/2 h-56 w-[30rem] bg-gradient-conic from-transparent via-transparent to-cyan-500 text-white [--conic-position:from_290deg_at_center_top]",children:[c.jsx("div",{className:"absolute  w-40 h-[100%] right-0 bg-slate-950  bottom-0 z-20 [mask-image:linear-gradient(to_left,white,transparent)]"}),c.jsx("div",{className:"absolute  w-[100%] right-0 bg-slate-950 h-40 bottom-0 z-20 [mask-image:linear-gradient(to_top,white,transparent)]"})]}),c.jsx("div",{className:"absolute top-1/2 h-48 w-full translate-y-12 scale-x-150 bg-slate-950 blur-2xl"}),c.jsx("div",{className:"absolute top-1/2 z-50 h-48 w-full bg-transparent opacity-10 backdrop-blur-md"}),c.jsx("div",{className:"absolute inset-auto z-50 h-36 w-[28rem] -translate-y-1/2 rounded-full bg-cyan-500 opacity-50 blur-3xl"}),c.jsx(Kl.div,{initial:{width:"8rem"},whileInView:{width:"16rem"},transition:{delay:.3,duration:.8,ease:"easeInOut"},className:"absolute inset-auto z-30 h-36 w-64 -translate-y-[6rem] rounded-full bg-cyan-400 blur-2xl"}),c.jsx(Kl.div,{initial:{width:"15rem"},whileInView:{width:"30rem"},transition:{delay:.3,duration:.8,ease:"easeInOut"},className:"absolute inset-auto z-50 h-0.5 w-[30rem] -translate-y-[7rem] bg-cyan-400 "}),c.jsx("div",{className:"absolute inset-auto z-40 h-44 w-full -translate-y-[12.5rem] bg-slate-950 "})]}),c.jsx("div",{className:"relative z-50 flex -translate-y-80 flex-col items-center px-5",children:t})]}),BJ=({navItems:t,className:e})=>{const n=mo(),{scrollYProgress:r}=wbe(),[s,i]=T.useState(!0);return Gve(r,"change",a=>{if(typeof a=="number"){let o=a-r.getPrevious();r.get()<.05||o<0?i(!0):i(!1)}}),c.jsx(DH,{mode:"wait",children:c.jsxs(Kl.div,{initial:{opacity:1,y:-100},animate:{y:s?0:-100,opacity:s?1:0},transition:{duration:.2},className:dt("flex max-w-fit  fixed top-10 inset-x-0 mx-auto border border-transparent dark:border-white/[0.2] rounded-full dark:bg-black bg-white shadow-[0px_2px_3px_-1px_rgba(0,0,0,0.1),0px_1px_0px_0px_rgba(25,28,33,0.02),0px_0px_0px_1px_rgba(25,28,33,0.08)] z-[5000] pr-2 pl-8 py-2  items-center justify-center space-x-4",e),children:[t.map((a,o)=>c.jsxs("a",{href:a.link,className:dt("relative dark:text-neutral-50 items-center flex space-x-1 text-neutral-600 dark:hover:text-neutral-300 hover:text-neutral-500"),children:[c.jsx("span",{className:"block sm:hidden",children:a.icon}),c.jsx("span",{className:"hidden sm:block text-sm",children:a.name})]},`link=${o}`)),"        ",c.jsxs("button",{onClick:()=>n("/marketplace"),className:"border text-sm font-medium relative border-neutral-200 dark:border-white/[0.2] text-black dark:text-white px-4 py-2 rounded-full hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-colors",children:[c.jsx("span",{children:"Marketplace"}),c.jsx("span",{className:"absolute inset-x-0 w-1/2 mx-auto -bottom-px bg-gradient-to-r from-transparent via-blue-500 to-transparent  h-px"})]})]})})};/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var q3e={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fc=(t,e,n,r)=>{const s=T.forwardRef(({color:i="currentColor",size:a=24,stroke:o=2,title:l,className:u,children:d,...p},f)=>T.createElement("svg",{ref:f,...q3e[t],width:a,height:a,className:["tabler-icon",`tabler-icon-${e}`,u].join(" "),strokeWidth:o,stroke:i,...p},[l&&T.createElement("title",{key:"svg-title"},l),...r.map(([h,y])=>T.createElement(h,y)),...Array.isArray(d)?d:[d]]));return s.displayName=`${n}`,s};/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var X3e=Fc("outline","coin","IconCoin",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M14.8 9a2 2 0 0 0 -1.8 -1h-2a2 2 0 1 0 0 4h2a2 2 0 1 1 0 4h-2a2 2 0 0 1 -1.8 -1",key:"svg-1"}],["path",{d:"M12 7v10",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Z3e=Fc("outline","globe","IconGlobe",[["path",{d:"M7 9a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M5.75 15a8.015 8.015 0 1 0 9.25 -13",key:"svg-1"}],["path",{d:"M11 17v4",key:"svg-2"}],["path",{d:"M7 21h8",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var UJ=Fc("outline","home","IconHome",[["path",{d:"M5 12l-2 0l9 -9l9 9l-2 0",key:"svg-0"}],["path",{d:"M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7",key:"svg-1"}],["path",{d:"M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var J3e=Fc("outline","lock","IconLock",[["path",{d:"M5 13a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v6a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-6z",key:"svg-0"}],["path",{d:"M11 16a1 1 0 1 0 2 0a1 1 0 0 0 -2 0",key:"svg-1"}],["path",{d:"M8 11v-4a4 4 0 1 1 8 0v4",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var zJ=Fc("outline","message","IconMessage",[["path",{d:"M8 9h8",key:"svg-0"}],["path",{d:"M8 13h6",key:"svg-1"}],["path",{d:"M18 4a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-5l-5 3v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12z",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Q3e=Fc("outline","shield","IconShield",[["path",{d:"M12 3a12 12 0 0 0 8.5 3a12 12 0 0 1 -8.5 15a12 12 0 0 1 -8.5 -15a12 12 0 0 0 8.5 -3",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var e4e=Fc("outline","trending-up","IconTrendingUp",[["path",{d:"M3 17l6 -6l4 4l8 -8",key:"svg-0"}],["path",{d:"M14 7l7 0l0 7",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var VJ=Fc("outline","user","IconUser",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var t4e=Fc("outline","users","IconUsers",[["path",{d:"M9 7m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-0"}],["path",{d:"M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"svg-2"}],["path",{d:"M21 21v-2a4 4 0 0 0 -3 -3.85",key:"svg-3"}]]);const n4e=()=>{const t=[{name:"Home",link:"/",icon:c.jsx(UJ,{className:"h-4 w-4 text-neutral-500 dark:text-white"})},{name:"About",link:"/about",icon:c.jsx(VJ,{className:"h-4 w-4 text-neutral-500 dark:text-white"})},{name:"Tokenize",link:"/issuer",icon:c.jsx(zJ,{className:"h-4 w-4 text-neutral-500 dark:text-white"})}];return c.jsxs("div",{className:"min-h-screen bg-black",children:[c.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-black/50 backdrop-blur-sm",children:c.jsx("div",{className:"container mx-auto",children:c.jsx(BJ,{navItems:t})})}),c.jsx("div",{className:"h-screen",children:c.jsxs(Y3e,{className:"h-screen",children:[c.jsx(Qt.h1,{initial:{opacity:.5,y:100},whileInView:{opacity:1,y:0},transition:{delay:.3,duration:.8,ease:"easeInOut"},className:"mt-40 text-center text-4xl font-light tracking-tight text-white md:text-6xl lg:text-7xl",children:"Open Assets"}),c.jsxs(Qt.div,{initial:{opacity:0,y:100},whileInView:{opacity:1,y:0},transition:{delay:.5,duration:.8},className:"mt-8 max-w-4xl text-center text-white/90",children:[c.jsx("p",{className:"text-xl md:text-2xl font-light leading-relaxed mb-6",children:"Democratizing Premium Real-World Asset Investment Through Blockchain Technology"}),c.jsxs("p",{className:"text-lg text-white/70 font-light leading-relaxed max-w-3xl mx-auto flex items-center justify-center gap-2",children:["Built on ",c.jsx("span",{className:"text-white font-medium",children:"Flow Network"}),c.jsx("img",{src:"flowscan-logo.svg",alt:"Flow Logo",className:"h-6 w-auto inline-block"})]})]})]})}),c.jsx("div",{className:"py-20 bg-gradient-to-b from-gray-50 to-white",children:c.jsx("div",{className:"container mx-auto px-4 max-w-6xl",children:c.jsxs(Qt.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{delay:.2,duration:.8},className:"text-center mb-16",children:[c.jsx("h2",{className:"text-4xl md:text-5xl font-light text-gray-900 mb-6",children:"Our Mission"}),c.jsx("p",{className:"text-xl text-gray-600 font-light leading-relaxed max-w-4xl mx-auto",children:"To democratize access to premium real-world assets by creating the most secure, compliant, and accessible tokenization platform, enabling anyone to invest in high-value assets starting from just $10."})]})})}),c.jsx("div",{className:"py-16 bg-white",children:c.jsx("div",{className:"container mx-auto px-4 max-w-6xl",children:c.jsxs(Qt.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{delay:.3,duration:.8},className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-20",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-4xl font-light text-blue-600 mb-2",children:"$280T"}),c.jsx("div",{className:"text-gray-600 font-light",children:"Global RWA Market"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-4xl font-light text-blue-600 mb-2",children:"$10"}),c.jsx("div",{className:"text-gray-600 font-light",children:"Minimum Investment"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-4xl font-light text-blue-600 mb-2",children:"2s"}),c.jsx("div",{className:"text-gray-600 font-light",children:"Transaction Finality"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-4xl font-light text-blue-600 mb-2",children:"24/7"}),c.jsx("div",{className:"text-gray-600 font-light",children:"Global Trading"})]})]})})}),c.jsx("div",{className:"py-20 bg-gray-50",children:c.jsx("div",{className:"container mx-auto px-4 max-w-6xl",children:c.jsxs(Qt.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{delay:.3,duration:.8},className:"mb-20",children:[c.jsx("h2",{className:"text-4xl md:text-5xl font-light text-gray-900 mb-6 text-center",children:"Platform Overview"}),c.jsx("p",{className:"text-xl text-gray-600 font-light text-center max-w-3xl mx-auto leading-relaxed mb-16",children:"A comprehensive ecosystem for tokenizing, trading, and managing real-world assets with institutional-grade security and retail accessibility."}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[c.jsxs(Qt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.4,duration:.6},className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100",children:[c.jsx(Q3e,{className:"w-12 h-12 text-blue-600 mb-6"}),c.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-4",children:"ERC-3643 Compliance"}),c.jsx("p",{className:"text-gray-600 font-light leading-relaxed",children:"Regulatory-compliant tokenization with built-in KYC/AML protocols, identity registry, and automated transfer restrictions ensuring full regulatory compliance."})]}),c.jsxs(Qt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.5,duration:.6},className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100",children:[c.jsx(e4e,{className:"w-12 h-12 text-blue-600 mb-6"}),c.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-4",children:"Fractional Ownership"}),c.jsx("p",{className:"text-gray-600 font-light leading-relaxed",children:"Own portions of premium assets like luxury real estate, commercial properties, and infrastructure projects with investments starting from $10."})]}),c.jsxs(Qt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.6,duration:.6},className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100",children:[c.jsx(Z3e,{className:"w-12 h-12 text-blue-600 mb-6"}),c.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-4",children:"Global Marketplace"}),c.jsx("p",{className:"text-gray-600 font-light leading-relaxed",children:"Access a diverse portfolio of tokenized assets from around the world, including real estate, commodities, art, and revenue-generating assets."})]}),c.jsxs(Qt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.7,duration:.6},className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100",children:[c.jsx(t4e,{className:"w-12 h-12 text-blue-600 mb-6"}),c.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-4",children:"P2P Trading"}),c.jsx("p",{className:"text-gray-600 font-light leading-relaxed",children:"Trade tokenized assets directly with other verified investors through our secure order book system with escrow-protected transactions."})]}),c.jsxs(Qt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.8,duration:.6},className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100",children:[c.jsx(X3e,{className:"w-12 h-12 text-blue-600 mb-6"}),c.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-4",children:"Yield Distribution"}),c.jsx("p",{className:"text-gray-600 font-light leading-relaxed",children:"Receive automated yield distributions from rental income, dividends, and asset appreciation directly to your wallet through smart contracts."})]}),c.jsxs(Qt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.9,duration:.6},className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100",children:[c.jsx(J3e,{className:"w-12 h-12 text-blue-600 mb-6"}),c.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-4",children:"Institutional Security"}),c.jsx("p",{className:"text-gray-600 font-light leading-relaxed",children:"Multi-signature security, smart contract audits, insurance coverage, and regulatory oversight ensure maximum protection for your investments."})]})]})]})})}),c.jsx("div",{className:"py-20 bg-white",children:c.jsx("div",{className:"container mx-auto px-4 max-w-6xl",children:c.jsxs(Qt.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{delay:.3,duration:.8},className:"mb-20",children:[c.jsxs("h2",{className:"text-4xl md:text-5xl font-light text-gray-900 mb-6 text-center",children:["Built on ",c.jsx("span",{className:"font-medium text-gray-900",children:"Flow Network"}),c.jsx("img",{src:"/flowscan-logo.svg",alt:"Flow Logo",className:"h-12 w-auto inline align-middle ml-2"})]}),c.jsx("p",{className:"text-xl text-gray-600 font-light text-center max-w-3xl mx-auto leading-relaxed mb-16",children:"Leveraging Flow Network's high-performance blockchain infrastructure for seamless asset tokenization with instant finality and ultra-low fees."}),c.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-3xl p-8 md:p-12 mb-12",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-2xl font-medium text-gray-900 mb-6",children:"Network Specifications"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),c.jsx("span",{className:"text-gray-700 font-light",children:"Chain ID: 39 (Flow Network)"})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),c.jsx("span",{className:"text-gray-700 font-light",children:"Block Time: ~2 seconds"})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),c.jsx("span",{className:"text-gray-700 font-light",children:"Transaction Finality: Instant"})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),c.jsx("span",{className:"text-gray-700 font-light",children:"Gas Efficiency: Ultra-low fees"})]})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-2xl font-medium text-gray-900 mb-6",children:"Integration Benefits"}),c.jsxs("div",{className:"space-y-4 text-gray-700 font-light leading-relaxed",children:[c.jsx("p",{children:"All smart contracts including ERC-3643 compliant tokens, marketplace, order book escrow, and payment distribution systems are deployed directly on Flow Network."}),c.jsx("p",{children:"The Flow integration enables cost-effective fractional ownership starting from $10, making the $280 trillion global real world assets market accessible to retail investors worldwide."}),c.jsx("p",{children:"With instant finality, investors trade tokenized assets 24/7 with confidence while automated yield distributions execute seamlessly through our smart contract infrastructure."})]})]})]})}),c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-gray-600 font-light mb-4",children:"Discover more about the underlying blockchain technology"}),c.jsxs("a",{href:"https://flow.com",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white font-light rounded-lg hover:bg-blue-700 transition-colors",children:["Visit Flow Network",c.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]})]})})}),c.jsx("div",{className:"py-20 bg-gray-50",children:c.jsx("div",{className:"container mx-auto px-4 max-w-6xl",children:c.jsxs(Qt.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{delay:.3,duration:.8},className:"mb-20",children:[c.jsx("h2",{className:"text-4xl md:text-5xl font-light text-gray-900 mb-6 text-center",children:"How It Works"}),c.jsx("p",{className:"text-xl text-gray-600 font-light text-center max-w-3xl mx-auto leading-relaxed mb-16",children:"Our streamlined process makes tokenizing and investing in real-world assets simple, secure, and accessible to everyone."}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[c.jsxs(Qt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.4,duration:.6},className:"text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6",children:c.jsx("span",{className:"text-2xl font-light text-blue-600",children:"1"})}),c.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-4",children:"Asset Submission"}),c.jsx("p",{className:"text-gray-600 font-light leading-relaxed",children:"Asset owners submit tokenization requests with comprehensive documentation, legal structure, and valuation reports."})]}),c.jsxs(Qt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.5,duration:.6},className:"text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6",children:c.jsx("span",{className:"text-2xl font-light text-blue-600",children:"2"})}),c.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-4",children:"Due Diligence"}),c.jsx("p",{className:"text-gray-600 font-light leading-relaxed",children:"Our team conducts thorough due diligence including legal review, asset valuation, and regulatory compliance verification."})]}),c.jsxs(Qt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.6,duration:.6},className:"text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6",children:c.jsx("span",{className:"text-2xl font-light text-blue-600",children:"3"})}),c.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-4",children:"Token Creation"}),c.jsx("p",{className:"text-gray-600 font-light leading-relaxed",children:"ERC-3643 compliant tokens are deployed on Flow Network with built-in compliance rules and investor protections."})]}),c.jsxs(Qt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.7,duration:.6},className:"text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6",children:c.jsx("span",{className:"text-2xl font-light text-blue-600",children:"4"})}),c.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-4",children:"Market Launch"}),c.jsx("p",{className:"text-gray-600 font-light leading-relaxed",children:"Tokens are listed on our marketplace for primary sales and secondary trading with full transparency and liquidity."})]})]})]})})}),c.jsx("div",{className:"py-20 bg-white",children:c.jsx("div",{className:"container mx-auto px-4 max-w-6xl",children:c.jsxs(Qt.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{delay:.3,duration:.8},className:"mb-20",children:[c.jsx("h2",{className:"text-4xl md:text-5xl font-light text-gray-900 mb-6 text-center",children:"Investment Benefits"}),c.jsx("p",{className:"text-xl text-gray-600 font-light text-center max-w-3xl mx-auto leading-relaxed mb-16",children:"Experience the advantages of tokenized real-world asset investment with enhanced liquidity, transparency, and accessibility."}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[c.jsxs(Qt.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},transition:{delay:.4,duration:.6},children:[c.jsx("h3",{className:"text-2xl font-medium text-gray-900 mb-8",children:"For Investors"}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-3"}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Stable Yields"}),c.jsx("p",{className:"text-gray-600 font-light",children:"8-12% annual returns backed by real assets with consistent income streams"})]})]}),c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-3"}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Portfolio Diversification"}),c.jsx("p",{className:"text-gray-600 font-light",children:"Access multiple asset classes and global markets with a single platform"})]})]}),c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-3"}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Enhanced Liquidity"}),c.jsx("p",{className:"text-gray-600 font-light",children:"Trade 24/7 on secondary markets vs. traditional illiquid investments"})]})]}),c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-3"}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Transparency"}),c.jsx("p",{className:"text-gray-600 font-light",children:"Blockchain-based performance tracking and immutable transaction history"})]})]})]})]}),c.jsxs(Qt.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},transition:{delay:.5,duration:.6},children:[c.jsx("h3",{className:"text-2xl font-medium text-gray-900 mb-8",children:"For Asset Owners"}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-3"}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Global Capital Access"}),c.jsx("p",{className:"text-gray-600 font-light",children:"Tap into worldwide investor base for asset financing and growth"})]})]}),c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-3"}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Reduced Costs"}),c.jsx("p",{className:"text-gray-600 font-light",children:"Lower issuance and management fees compared to traditional REITs"})]})]}),c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-3"}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Automated Compliance"}),c.jsx("p",{className:"text-gray-600 font-light",children:"Built-in regulatory compliance and automated reporting"})]})]}),c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-3"}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Market Efficiency"}),c.jsx("p",{className:"text-gray-600 font-light",children:"Streamlined investor onboarding and asset management"})]})]})]})]})]})]})})}),c.jsx("div",{className:"py-20 bg-gray-50",children:c.jsx("div",{className:"container mx-auto px-4 max-w-6xl",children:c.jsxs(Qt.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{delay:.3,duration:.8},className:"mb-20",children:[c.jsx("h2",{className:"text-4xl md:text-5xl font-light text-gray-900 mb-6 text-center",children:"Security & Compliance"}),c.jsx("p",{className:"text-xl text-gray-600 font-light text-center max-w-3xl mx-auto leading-relaxed mb-16",children:"Institutional-grade security and regulatory compliance ensure your investments are protected by the highest industry standards."}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[c.jsxs(Qt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.4,duration:.6},className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100",children:[c.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-6",children:"Regulatory Framework"}),c.jsxs("ul",{className:"space-y-3 text-gray-600 font-light",children:[c.jsxs("li",{className:"flex items-start space-x-3",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2.5"}),c.jsx("span",{children:"ERC-3643 compliance standard"})]}),c.jsxs("li",{className:"flex items-start space-x-3",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2.5"}),c.jsx("span",{children:"KYC/AML verification protocols"})]}),c.jsxs("li",{className:"flex items-start space-x-3",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2.5"}),c.jsx("span",{children:"Securities law compliance"})]}),c.jsxs("li",{className:"flex items-start space-x-3",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2.5"}),c.jsx("span",{children:"Multi-jurisdiction support"})]})]})]}),c.jsxs(Qt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.5,duration:.6},className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100",children:[c.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-6",children:"Technical Security"}),c.jsxs("ul",{className:"space-y-3 text-gray-600 font-light",children:[c.jsxs("li",{className:"flex items-start space-x-3",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full mt-2.5"}),c.jsx("span",{children:"Multi-signature wallet protection"})]}),c.jsxs("li",{className:"flex items-start space-x-3",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full mt-2.5"}),c.jsx("span",{children:"Smart contract audits"})]}),c.jsxs("li",{className:"flex items-start space-x-3",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full mt-2.5"}),c.jsx("span",{children:"Immutable blockchain records"})]}),c.jsxs("li",{className:"flex items-start space-x-3",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full mt-2.5"}),c.jsx("span",{children:"Escrow-secured transactions"})]})]})]}),c.jsxs(Qt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.6,duration:.6},className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100",children:[c.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-6",children:"Asset Protection"}),c.jsxs("ul",{className:"space-y-3 text-gray-600 font-light",children:[c.jsxs("li",{className:"flex items-start space-x-3",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-purple-500 rounded-full mt-2.5"}),c.jsx("span",{children:"Insurance coverage for assets"})]}),c.jsxs("li",{className:"flex items-start space-x-3",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-purple-500 rounded-full mt-2.5"}),c.jsx("span",{children:"Legal structure validation"})]}),c.jsxs("li",{className:"flex items-start space-x-3",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-purple-500 rounded-full mt-2.5"}),c.jsx("span",{children:"SPV verification system"})]}),c.jsxs("li",{className:"flex items-start space-x-3",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-purple-500 rounded-full mt-2.5"}),c.jsx("span",{children:"Regular compliance audits"})]})]})]})]})]})})})]})},vk=t=>{try{const n=t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),r=decodeURIComponent(atob(n).split("").map(s=>"%"+("00"+s.charCodeAt(0).toString(16)).slice(-2)).join(""));return JSON.parse(r)}catch(e){return console.error("Error decoding JWT:",e),null}},HJ=T.createContext(void 0),r4e=({children:t})=>{const[e,n]=T.useState(!1),[r,s]=T.useState(!0),[i,a]=T.useState(null),[o,l]=T.useState(null),[u,d]=T.useState([]),[p,f]=T.useState(null),[h,y]=T.useState(null),m=mo(),g=yl();T.useEffect(()=>{const U=async()=>{try{console.log(" Initializing Auth Context...");const B=localStorage.getItem("authToken"),j=localStorage.getItem("user"),x=localStorage.getItem("currentRole"),k=localStorage.getItem("availableRoles");if(B&&j){const M=vk(B);if(M){const P=JSON.parse(j),S=M.roles||P.roles||[],L=M.currentRole||x||S[0],V=M.primaryRole||P.primaryRole||S[0],F=Date.now()/1e3;if(M.exp&&M.exp<F){console.log(" Token expired, clearing auth data"),v(),s(!1);return}l(B),a(P),d(S),f(L),y(V),n(!0),console.log(" Auth state initialized:",{userId:P._id,roles:S,currentRole:L,primaryRole:V})}else console.log(" Invalid token, clearing auth data"),v()}else console.log(" No auth data found"),n(!1)}catch(B){console.error(" Error initializing auth:",B),v()}finally{s(!1)}},$=setTimeout(()=>{s(!1)},3e3);return U(),()=>clearTimeout($)},[]);const v=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("user"),localStorage.removeItem("currentRole"),localStorage.removeItem("availableRoles"),l(null),a(null),d([]),f(null),y(null),n(!1)},b=async U=>{var $,B;try{s(!0);const j=await lm.login(U);if(j.success){const{user:x,token:k,currentRole:M,availableRoles:P}=j.data;localStorage.setItem("authToken",k),localStorage.setItem("user",JSON.stringify(x)),localStorage.setItem("currentRole",M),localStorage.setItem("availableRoles",JSON.stringify(P));const S=vk(k);l(k),a(x),d(P),f(M),y(x.primaryRole),n(!0),console.log(" Login successful:",{userId:x._id,roles:P,currentRole:M});const L=((B=($=g.state)==null?void 0:$.from)==null?void 0:B.pathname)||N(P);m(L,{replace:!0})}}catch(j){throw console.error(" Login failed:",j),j}finally{s(!1)}},w=()=>{console.log(" Logging out user"),v(),m("/login",{replace:!0})},A=async U=>{try{if(!u.includes(U))throw new Error(`You do not have ${U} role`);const $=await lm.switchRole(U);if($.success){const B=$.data.token,j=vk(B);localStorage.setItem("authToken",B),localStorage.setItem("currentRole",U),l(B),f(U),console.log(" Role switched to:",U);const x=N([U]);m(x,{replace:!0})}}catch($){throw console.error(" Role switch failed:",$),$}},I=U=>u.includes(U),C=U=>U.some($=>u.includes($)),E=U=>e?C(U):!1,N=U=>U.includes("admin")?"/admin":U.includes("issuer")?"/issuer":U.includes("manager")?"/manager":"/marketplace",_={isAuthenticated:e,isLoading:r,user:i,token:o,userRoles:u,currentRole:p,primaryRole:h,login:b,logout:w,switchRole:A,hasRole:I,hasAnyRole:C,canAccess:E};return c.jsx(HJ.Provider,{value:_,children:t})},AP=()=>{const t=T.useContext(HJ);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t};function Xa(t){return t?!!(t.name&&[/^Asset Token #\d+$/,/^Asset #\d+$/,/^Token #\d+$/,/^NFT #\d+$/,/^Unknown Asset/,/^Default Token/].some(n=>n.test(t.name))||t.description&&[/^Asset token #\d+$/,/^Token #\d+ description$/,/^Default description/,/^Placeholder description/].some(n=>n.test(t.description))||t.assetType==="Unknown"&&(!t.metadata||Object.keys(t.metadata).length===0)||t.metadata&&!(t.metadata.name&&!t.metadata.name.match(/^(Asset|Token) #?\d+$/)&&t.metadata.name.trim().length>0)):!1}function Cp(t){return t?Xa({name:t.name,description:t.description,metadata:t.metadata,assetType:t.type||t.assetType}):!1}function s4e(t,e){return{_isDummyData:!0,_failedFetch:!0,_tokenId:t,_metadataURI:e,_timestamp:Date.now(),_expiry:Date.now()+5*60*1e3}}function O2(t){return t&&t._isDummyData===!0&&t._failedFetch===!0}function IP(t){return O2(t)?Date.now()>t._expiry:!1}function i4e(t){return t.filter(e=>!Cp(e))}function pN(){let t=0;const e=[];for(let n=0;n<localStorage.length;n++){const r=localStorage.key(n);if(r)try{const s=localStorage.getItem(r);if(!s)continue;const i=JSON.parse(s);if(i&&i.data&&Array.isArray(i.data)){const a=i.data.filter(o=>!Cp(o));a.length!==i.data.length&&(console.log(` Found ${i.data.length-a.length} dummy listings in ${r}`),a.length===0?e.push(r):(i.data=a,localStorage.setItem(r,JSON.stringify(i))),t+=i.data.length-a.length)}else(i&&i.metadata&&Xa(i)||O2(i)&&IP(i))&&(e.push(r),t++)}catch{continue}}return e.forEach(n=>{localStorage.removeItem(n),console.log(` Removed dummy data cache key: ${n}`)}),t}function Yw(){let t=0,e=0,n=0,r=0;for(let s=0;s<localStorage.length;s++){const i=localStorage.key(s);if(i)try{const a=localStorage.getItem(i);if(!a)continue;t++;const o=JSON.parse(a);if(o&&o.data&&Array.isArray(o.data)){const l=o.data.filter(u=>Cp(u)).length;e+=l}else o&&o.metadata&&Xa(o)?e++:O2(o)&&(n++,IP(o)&&r++)}catch{continue}}return{totalCacheEntries:t,dummyDataEntries:e,failedFetchMarkers:n,expiredFailedFetches:r}}window.DummyDataUtils={isDummyData:Xa,isMarketplaceListingDummy:Cp,clearDummyDataFromCache:pN,getDummyDataStats:Yw,cleanDummyDataFromListings:i4e};const tr={KEYS:{USER_ASSETS:"dashboard_user_assets",PORTFOLIO_DATA:"dashboard_portfolio_data",TRANSACTION_HISTORY:"dashboard_transactions",NOTIFICATIONS:"dashboard_notifications",LAST_REFRESH:"dashboard_last_refresh"},EXPIRATION:{USER_ASSETS:5*60*1e3,PORTFOLIO_DATA:5*60*1e3,TRANSACTION_HISTORY:10*60*1e3,NOTIFICATIONS:2*60*1e3}},Vd=class Vd{static getInstance(){return Vd.instance||(Vd.instance=new Vd),Vd.instance}constructor(){}setCache(e,n,r){try{const s={data:n,timestamp:Date.now(),walletAddress:r};localStorage.setItem(e,JSON.stringify(s)),console.log(` Cached data for key: ${e}, wallet: ${r}`)}catch(s){console.warn(` Failed to cache data for key: ${e}`,s)}}getCache(e,n,r){try{const s=localStorage.getItem(e);if(!s)return console.log(` No cached data found for key: ${e}`),null;const i=JSON.parse(s);if(i.walletAddress!==n)return console.log(` Cache invalidated - different wallet (cached: ${i.walletAddress}, current: ${n})`),localStorage.removeItem(e),null;const o=Date.now()-i.timestamp;return o>r?(console.log(` Cache expired for key: ${e} (age: ${Math.round(o/1e3)}s, max: ${Math.round(r/1e3)}s)`),localStorage.removeItem(e),null):(console.log(` Using cached data for key: ${e} (age: ${Math.round(o/1e3)}s)`),i.data)}catch(s){return console.warn(` Failed to retrieve cached data for key: ${e}`,s),localStorage.removeItem(e),null}}clearCache(e){try{Object.values(tr.KEYS).forEach(n=>{if(e){const r=localStorage.getItem(n);r&&JSON.parse(r).walletAddress===e&&(localStorage.removeItem(n),console.log(` Cleared cache for key: ${n}, wallet: ${e}`))}else localStorage.removeItem(n),console.log(` Cleared all cache for key: ${n}`)})}catch(n){console.warn(" Failed to clear cache",n)}}cacheUserAssets(e,n){const r=e.filter(s=>{const i=Xa({name:s.name,metadata:s.metadata,assetType:s.type}),a=s.name&&(s.name.includes("Unknown Asset")||s.name.match(/Unknown Asset #\d+/)||s.type==="Unknown"&&s.name.includes("Asset #"));return!i&&!a});console.log(` Filtered dashboard user assets: ${e.length}  ${r.length} (removed ${e.length-r.length} dummy entries)`),r.length>0?this.setCache(tr.KEYS.USER_ASSETS,r,n):console.warn(" All user assets were dummy data - not caching")}getCachedUserAssets(e){const n=this.getCache(tr.KEYS.USER_ASSETS,e,tr.EXPIRATION.USER_ASSETS);if(!n)return console.log(" No cached user assets found"),null;const r=n.filter(s=>{const i=Xa({name:s.name,metadata:s.metadata,assetType:s.type}),a=s.name&&(s.name.includes("Unknown Asset")||s.name.match(/Unknown Asset #\d+/)||s.type==="Unknown"&&s.name.includes("Asset #"));return!i&&!a});if(r.length!==n.length)if(console.log(` Cleaned dashboard cache: ${n.length}  ${r.length} (removed ${n.length-r.length} dummy entries)`),r.length>0)this.cacheUserAssets(r,e);else return localStorage.removeItem(tr.KEYS.USER_ASSETS),null;return console.log(" Dashboard cache result:",r?`${r.length} clean assets found`:"No cache found"),r.length>0?r:null}cachePortfolioData(e,n){this.setCache(tr.KEYS.PORTFOLIO_DATA,e,n)}getCachedPortfolioData(e){return this.getCache(tr.KEYS.PORTFOLIO_DATA,e,tr.EXPIRATION.PORTFOLIO_DATA)}cacheTransactionHistory(e,n){this.setCache(tr.KEYS.TRANSACTION_HISTORY,e,n)}getCachedTransactionHistory(e){return this.getCache(tr.KEYS.TRANSACTION_HISTORY,e,tr.EXPIRATION.TRANSACTION_HISTORY)}cacheNotifications(e,n){this.setCache(tr.KEYS.NOTIFICATIONS,e,n)}getCachedNotifications(e){return this.getCache(tr.KEYS.NOTIFICATIONS,e,tr.EXPIRATION.NOTIFICATIONS)}recordLastRefresh(e){this.setCache(tr.KEYS.LAST_REFRESH,Date.now(),e)}shouldForceRefresh(e,n){const r=this.getCache(tr.KEYS.LAST_REFRESH,e,864e5);return r?n&&n>r?(console.log(" Force refresh needed - action performed after last refresh"),!0):!1:!0}getCacheStats(e){const n={};return Object.entries(tr.KEYS).forEach(([r,s])=>{const i=localStorage.getItem(s);if(i)try{const a=JSON.parse(i);n[r]={size:i.length,age:Date.now()-a.timestamp,wallet:a.walletAddress,isValidWallet:a.walletAddress===e}}catch{n[r]={error:"Invalid cache entry"}}else n[r]={status:"not cached"}}),n}clearDummyDataFromCache(e){console.log(" Clearing dummy data from dashboard cache...");let n=0;if(e){const r=this.getCachedUserAssets(e);if(r){const s=r.length,i=r.filter(a=>{const o=Xa({name:a.name,metadata:a.metadata,assetType:a.type}),l=a.name&&(a.name.includes("Unknown Asset")||a.name.match(/Unknown Asset #\d+/)||a.type==="Unknown"&&a.name.includes("Asset #"));return!o&&!l});if(i.length!==s){const a=s-i.length;n+=a,i.length===0?(localStorage.removeItem(tr.KEYS.USER_ASSETS),console.log(` Removed all dummy dashboard assets for wallet: ${e}`)):(this.cacheUserAssets(i,e),console.log(` Cleaned ${a} dummy assets from dashboard cache for wallet: ${e}`))}}}else Object.values(tr.KEYS).forEach(r=>{for(let s=localStorage.length-1;s>=0;s--){const i=localStorage.key(s);if(!(!i||!i.startsWith(r)))try{const a=localStorage.getItem(i);if(!a)continue;const o=JSON.parse(a);if(!o.data)continue;if(Array.isArray(o.data)&&r===tr.KEYS.USER_ASSETS){const l=o.data.length;if(o.data=o.data.filter(u=>{const d=Xa({name:u.name,metadata:u.metadata,assetType:u.type}),p=u.name&&(u.name.includes("Unknown Asset")||u.name.match(/Unknown Asset #\d+/)||u.type==="Unknown"&&u.name.includes("Asset #"));return!d&&!p}),o.data.length!==l){const u=l-o.data.length;n+=u,o.data.length===0?(localStorage.removeItem(i),console.log(` Removed empty dashboard cache entry: ${i}`)):(localStorage.setItem(i,JSON.stringify(o)),console.log(` Cleaned ${u} dummy entries from: ${i}`))}}}catch(a){console.warn(` Error processing dashboard cache key ${i}:`,a)}}});return console.log(` Cleared ${n} dummy data entries from dashboard cache`),n}};Ke(Vd,"instance");let E1=Vd;const Qs=E1.getInstance(),Ji=Object.freeze(Object.defineProperty({__proto__:null,CACHE_CONFIG:tr,DashboardCache:E1,dashboardCache:Qs},Symbol.toStringTag,{value:"Module"}));class a4e{constructor(){Ke(this,"cache",new Map);Ke(this,"JWT_TOKEN","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySW5mb3JtYXRpb24iOnsiaWQiOiJjMDU3NzI3NC0xMzU2LTRmZjgtODk5Yi02MjU0MTZmNTMxYTEiLCJlbWFpbCI6ImFkb2U3NDAzQGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJwaW5fcG9saWN5Ijp7InJlZ2lvbnMiOlt7ImRlc2lyZWRSZXBsaWNhdGlvbkNvdW50IjoxLCJpZCI6IkZSQTEifSx7ImRlc2lyZWRSZXBsaWNhdGlvbkNvdW50IjoxLCJpZCI6Ik5ZQzEifV0sInZlcnNpb24iOjF9LCJtZmFfZW5hYmxlZCI6ZmFsc2UsInN0YXR1cyI6IkFDVElWRSJ9LCJhdXRoZW50aWNhdGlvblR5cGUiOiJzY29wZWRLZXkiLCJzY29wZWRLZXlLZXkiOiJlZTdmZDhiNDY3MGU4ZTc1Y2YxZiIsInNjb3BlZEtleVNlY3JldCI6Ijg3NjU3MDdkNzBmNzAyZjFkYTAxMmVhNmU1MmYzNDUyMjFkOGE0YzgwMWFjYjVlN2Y4NTk5NzYwODIyNTc3ZGYiLCJleHAiOjE3OTA5Mzk1NTR9.huKruxuknG20OfbJsMjiuIaLTQMbCWsILk1B5Dl7Oko")}extractIPFSHash(e){if(!e)throw new Error("Empty URI provided");if(e.includes("https://gateway.pinata.cloud/ipfs/https://gateway.pinata.cloud/ipfs/")){const n=e.split("https://gateway.pinata.cloud/ipfs/");if(n.length>2){const r=n[n.length-1];if(r.startsWith("Qm")||r.startsWith("baf"))return r}throw new Error("Invalid doubled IPFS URL format")}if(e.startsWith("ipfs://"))return e.replace("ipfs://","");if(e.startsWith("https://gateway.pinata.cloud/ipfs/"))return e.replace("https://gateway.pinata.cloud/ipfs/","");if(e.startsWith("Qm")||e.startsWith("baf"))return e;throw new Error(`Unrecognized IPFS format: ${e}`)}getAssetTypeImage(e,n){return n?v2e(e,n):HK(e)}processImageURL(e){if(!e)return"/placeholder.svg";try{if(e.startsWith("ipfs://"))return`https://gateway.pinata.cloud/ipfs/${e.replace("ipfs://","")}`;if(e.startsWith("Qm")||e.startsWith("baf"))return`https://gateway.pinata.cloud/ipfs/${e}`;if(e.startsWith("http"))return e}catch(n){console.warn("Error processing image URL:",n)}return"/placeholder.svg"}async fetchMetadataFromIPFS(e){if(!e||e.trim()==="")return console.warn("Empty metadata URI provided"),null;if(this.cache.has(e)){const n=this.cache.get(e);if(n.error&&n.expiry&&Date.now()>n.expiry)this.cache.delete(e),console.log(" Failed cache entry expired, retrying:",e);else return n.error?(console.log(" Recently failed, skipping retry for:",e),null):(console.log(" Using cached metadata for:",e),n)}try{const n=this.extractIPFSHash(e);if(n.includes("TestHash")||n.length<40)return console.log(" Skipping fake/test metadata hash:",n),null;console.log(" Fetching metadata from IPFS:",n);const r=[{url:`https://olive-left-snake-740.mypinata.cloud/ipfs/${n}`,name:"Custom Pinata"},{url:`https://gateway.pinata.cloud/ipfs/${n}`,name:"Pinata Gateway"},{url:`https://ipfs.io/ipfs/${n}`,name:"IPFS.io"},{url:`https://dweb.link/ipfs/${n}`,name:"Dweb Link"},{url:`https://cloudflare-ipfs.com/ipfs/${n}`,name:"Cloudflare"},{url:`https://gateway.ipfs.io/ipfs/${n}`,name:"IPFS Gateway"},{url:`https://ipfs.infura.io/ipfs/${n}`,name:"Infura"},{url:`https://cf-ipfs.com/ipfs/${n}`,name:"CF IPFS"},{url:`https://dweb.link/ipfs/${n}`,name:"DWeb.link"}];for(let i=1;i<=2;i++)for(const a of r){console.log(` Trying gateway: ${a.name} - ${a.url} (attempt ${i})`);try{const o=await Promise.race([fetch(a.url,{method:"GET",headers:{Accept:"application/json"}}),new Promise((l,u)=>setTimeout(()=>u(new Error("Timeout")),i===1?5e3:1e4))]);if(o.ok){const l=await o.json();return console.log(` Metadata fetched successfully from ${a.name} on attempt ${i}`),l.image&&(l.image=this.processImageURL(l.image)),this.cache.set(e,l),l}else if(o.status===429){console.log(` Gateway ${a.name} rate limited (429), trying next...`);continue}else if(o.status===404){console.log(` Gateway ${a.name} returned 404 - content not found`);continue}else{console.log(` Gateway ${a.name} failed with status ${o.status}, trying next...`);continue}}catch(o){console.warn(` Gateway ${a.name} error (attempt ${i}):`,o.message);continue}}console.error(" All IPFS gateways failed for:",e);const s={error:"All gateways failed",timestamp:Date.now(),expiry:Date.now()+5*60*1e3};return this.cache.set(e,s),null}catch(n){return console.error(" Error fetching metadata from IPFS:",n),null}}async batchFetchTokenMetadata(e,n){const r=[];console.log(` Batch processing ${e.length} tokens...`);const s=5;for(let i=0;i<e.length;i+=s){const o=e.slice(i,i+s).map(async u=>{try{const d=await n(u),p=await this.fetchMetadataFromIPFS(d);let f="Unknown",h="General";if(p!=null&&p.attributes){const m=p.attributes.find(v=>v.trait_type==="Asset Type");f=(m==null?void 0:m.value)||f;const g=p.attributes.find(v=>v.trait_type==="Category");h=(g==null?void 0:g.value)||h}else p!=null&&p.assetDetails&&(f=p.assetDetails.assetType||f,h=p.assetDetails.category||h);return{tokenId:u,metadata:p,name:(p==null?void 0:p.name)||`Asset Token #${u}`,description:(p==null?void 0:p.description)||`Asset token #${u}`,image:(p==null?void 0:p.image)||this.getAssetTypeImage(f,u),assetType:f,category:h,metadataURI:d,attributes:(p==null?void 0:p.attributes)||[{trait_type:"Asset Type",value:f},{trait_type:"Token ID",value:u}]}}catch(d){return console.error(` Error processing token ${u}:`,d),{tokenId:u,metadata:null,name:`Asset Token #${u}`,description:`Asset token #${u}`,image:this.getAssetTypeImage("Unknown",u),assetType:"Unknown",category:"General",metadataURI:"",attributes:[{trait_type:"Asset Type",value:"Unknown"},{trait_type:"Token ID",value:u}]}}}),l=await Promise.all(o);r.push(...l),i+s<e.length&&await new Promise(u=>setTimeout(u,500))}return console.log(` Batch processing completed: ${r.length} tokens processed`),r}clearCache(){this.cache.clear(),console.log(" Metadata cache cleared")}}const N1=new a4e,An={KEYS:{MARKETPLACE_LISTINGS:"marketplace_listings",ASSET_METADATA:"asset_metadata",IPFS_IMAGES:"ipfs_images",USER_OWNED_ASSETS:"user_owned_assets"},EXPIRATION:{MARKETPLACE_LISTINGS:10*60*1e3,ASSET_METADATA:24*60*60*1e3,IPFS_IMAGES:7*24*60*60*1e3,USER_OWNED_ASSETS:5*60*1e3}},Hd=class Hd{static getInstance(){return Hd.instance||(Hd.instance=new Hd),Hd.instance}constructor(){}setCache(e,n){try{const r={data:n,timestamp:Date.now(),key:e};localStorage.setItem(e,JSON.stringify(r)),console.log(` Cached data for key: ${e}`)}catch(r){console.warn(` Failed to cache data for key: ${e}`,r)}}getCache(e,n){try{const r=localStorage.getItem(e);if(!r)return console.log(` No cached data found for key: ${e}`),null;const s=JSON.parse(r),a=Date.now()-s.timestamp;return a>n?(console.log(` Cache expired for key: ${e} (age: ${Math.round(a/1e3)}s, max: ${Math.round(n/1e3)}s)`),localStorage.removeItem(e),null):(console.log(` Using cached data for key: ${e} (age: ${Math.round(a/1e3)}s)`),s.data)}catch(r){return console.warn(` Failed to retrieve cached data for key: ${e}`,r),localStorage.removeItem(e),null}}clearCache(e){try{e?(localStorage.removeItem(e),console.log(` Cleared cache for key: ${e}`)):(Object.values(An.KEYS).forEach(n=>{localStorage.removeItem(n)}),console.log(" Cleared all marketplace cache"))}catch(n){console.warn(" Failed to clear cache",n)}}clearDummyDataFromCache(){var r;console.log(" Clearing dummy data from marketplace cache...");let e=0;[An.KEYS.MARKETPLACE_LISTINGS,An.KEYS.USER_OWNED_ASSETS].forEach(s=>{for(let i=0;i<localStorage.length;i++){const a=localStorage.key(i);if(!(!a||!a.startsWith(s)))try{const o=localStorage.getItem(a);if(!o)continue;const l=JSON.parse(o);if(!l.data)continue;if(Array.isArray(l.data)){const u=l.data.length;if(l.data=l.data.filter(d=>!Cp(d)),l.data.length!==u){const d=u-l.data.length;e+=d,l.data.length===0?(localStorage.removeItem(a),console.log(` Removed empty cache entry: ${a}`)):(localStorage.setItem(a,JSON.stringify(l)),console.log(` Cleaned ${d} dummy entries from: ${a}`))}}}catch(o){console.warn(` Error processing cache key ${a}:`,o)}}});for(let s=localStorage.length-1;s>=0;s--){const i=localStorage.key(s);if(!(!i||!i.startsWith(An.KEYS.ASSET_METADATA)))try{const a=localStorage.getItem(i);if(!a)continue;const o=JSON.parse(a);o.data&&o.data.metadata&&Xa({metadata:o.data.metadata,name:(r=o.data.metadata)==null?void 0:r.name})&&(localStorage.removeItem(i),e++,console.log(` Removed dummy asset metadata: ${i}`))}catch{}}return console.log(` Cleared ${e} dummy data entries from cache`),e}cacheMarketplaceListings(e){const n=e.filter(r=>!Cp(r));console.log(` Filtered marketplace listings: ${e.length}  ${n.length} (removed ${e.length-n.length} dummy entries)`),n.length>0?this.setCache(An.KEYS.MARKETPLACE_LISTINGS,n):console.warn(" All marketplace listings were dummy data - not caching")}getCachedMarketplaceListings(){console.log(" getCachedMarketplaceListings called");const e=this.getCache(An.KEYS.MARKETPLACE_LISTINGS,An.EXPIRATION.MARKETPLACE_LISTINGS);if(!e)return console.log(" No cached marketplace listings found"),null;const n=e.filter(r=>!Cp(r));if(n.length!==e.length)if(console.log(` Cleaned marketplace cache: ${e.length}  ${n.length} (removed ${e.length-n.length} dummy entries)`),n.length>0)this.cacheMarketplaceListings(n);else return this.clearCache(An.KEYS.MARKETPLACE_LISTINGS),null;return console.log(" Cache result:",n?`${n.length} clean listings found`:"No cache found"),n&&n.length>0&&console.log(" First listing sample:",{name:n[0].name,type:n[0].type,category:n[0].category,attributes:n[0].attributes}),n.length>0?n:null}cacheAssetMetadata(e,n,r,s){if(!n||Xa({metadata:n,name:n==null?void 0:n.name})){console.log(` Skipping cache for token ${e} - dummy or null metadata detected`);const o=s4e(e,s),l=`${An.KEYS.ASSET_METADATA}_${e}_failed`;this.setCache(l,o);return}const i={tokenId:e,metadata:n,processedImageUrl:r,metadataURI:s,fetchedAt:Date.now()},a=`${An.KEYS.ASSET_METADATA}_${e}`;this.setCache(a,i),console.log(` Cached real metadata for token ${e}: ${(n==null?void 0:n.name)||"Unknown name"}`)}getCachedAssetMetadata(e){var a;const n=`${An.KEYS.ASSET_METADATA}_${e}`,r=`${n}_failed`,s=this.getCache(r,An.EXPIRATION.ASSET_METADATA);if(s&&O2(s))if(IP(s))localStorage.removeItem(r),console.log(` Failed fetch marker expired for token ${e}, allowing retry`);else return console.log(` Recent fetch failure for token ${e}, skipping retry`),null;const i=this.getCache(n,An.EXPIRATION.ASSET_METADATA);return i&&Xa({metadata:i.metadata,name:(a=i.metadata)==null?void 0:a.name})?(console.log(` Removing dummy data from cache for token ${e}`),localStorage.removeItem(n),null):i}cacheProcessedImage(e,n){const r={originalUrl:e,processedUrl:n,fetchedAt:Date.now()},s=`${An.KEYS.IPFS_IMAGES}_${this.hashUrl(e)}`;this.setCache(s,r)}getCachedProcessedImage(e){const n=`${An.KEYS.IPFS_IMAGES}_${this.hashUrl(e)}`,r=this.getCache(n,An.EXPIRATION.IPFS_IMAGES);return(r==null?void 0:r.processedUrl)||null}cacheUserOwnedAssets(e,n){const r=`${An.KEYS.USER_OWNED_ASSETS}_${e}`;this.setCache(r,n)}getCachedUserOwnedAssets(e){const n=`${An.KEYS.USER_OWNED_ASSETS}_${e}`;return this.getCache(n,An.EXPIRATION.USER_OWNED_ASSETS)}async fetchMetadataWithCache(e,n){const r=this.getCachedAssetMetadata(e);if(r)return console.log(` Using cached metadata for token ${e}`),{metadata:r.metadata,processedImageUrl:r.processedImageUrl};try{console.log(` Fetching fresh metadata for token ${e} from ${n}`);const s=await N1.fetchMetadataFromIPFS(n);let i="";if(s!=null&&s.image){const a=this.getCachedProcessedImage(s.image);if(a)i=a,console.log(` Using cached image for ${s.image}`);else{const{processImageURL:o}=await Ht(async()=>{const{processImageURL:l}=await Promise.resolve().then(()=>o4e);return{processImageURL:l}},void 0);i=o(s.image,s),this.cacheProcessedImage(s.image,i),console.log(` Processed and cached image: ${s.image}  ${i}`)}}return this.cacheAssetMetadata(e,s,i,n),{metadata:s,processedImageUrl:i}}catch(s){throw console.error(` Failed to fetch metadata for token ${e}:`,s),s}}async batchFetchMetadataWithCache(e){const n=new Map,r=[];for(const s of e){const i=this.getCachedAssetMetadata(s.tokenId);i?(n.set(s.tokenId,{metadata:i.metadata,processedImageUrl:i.processedImageUrl}),console.log(` Cache hit for token ${s.tokenId}`)):r.push(s)}if(console.log(` Cache stats: ${n.size} hits, ${r.length} misses`),r.length>0){console.log(` Fetching ${r.length} uncached metadata entries...`);const s=5;for(let i=0;i<r.length;i+=s){const o=r.slice(i,i+s).map(async l=>{try{const u=await this.fetchMetadataWithCache(l.tokenId,l.metadataURI);n.set(l.tokenId,u)}catch(u){console.warn(` Failed to fetch metadata for token ${l.tokenId}:`,u),n.set(l.tokenId,{metadata:null,processedImageUrl:""})}});await Promise.all(o),i+s<r.length&&await new Promise(l=>setTimeout(l,500))}}return n}hashUrl(e){let n=0;for(let r=0;r<e.length;r++){const s=e.charCodeAt(r);n=(n<<5)-n+s,n=n&n}return Math.abs(n).toString(36)}getCacheStats(){const e={};return Object.entries(An.KEYS).forEach(([n,r])=>{const s=[];for(let i=0;i<localStorage.length;i++){const a=localStorage.key(i);a&&a.startsWith(r)&&s.push(a)}e[n]={count:s.length,keys:s.slice(0,5),totalSize:s.reduce((i,a)=>{const o=localStorage.getItem(a);return i+(o?o.length:0)},0)}}),e}clearExpiredCache(){let e=0;const n=Date.now();for(let r=localStorage.length-1;r>=0;r--){const s=localStorage.key(r);if(!s)continue;if(Object.values(An.KEYS).some(a=>s.startsWith(a)))try{const a=localStorage.getItem(s);if(a){const o=JSON.parse(a),l=n-o.timestamp;let u=An.EXPIRATION.ASSET_METADATA;s.includes("marketplace_listings")?u=An.EXPIRATION.MARKETPLACE_LISTINGS:s.includes("ipfs_images")?u=An.EXPIRATION.IPFS_IMAGES:s.includes("user_owned_assets")&&(u=An.EXPIRATION.USER_OWNED_ASSETS),l>u&&(localStorage.removeItem(s),e++)}}catch{localStorage.removeItem(s),e++}}e>0&&console.log(` Cleared ${e} expired cache entries`)}};Ke(Hd,"instance");let fN=Hd;const ni=fN.getInstance(),Zl=[{type:"constructor",inputs:[{type:"address",name:"_adminContract"},{type:"address",name:"_tokenContract"}]},{type:"function",name:"listAsset",constant:!1,inputs:[{type:"uint256",name:"_tokenId"},{type:"uint256",name:"_amount"}],outputs:[]},{type:"function",name:"buyAsset",constant:!1,stateMutability:"payable",payable:!0,inputs:[{type:"uint256",name:"_tokenId"},{type:"uint256",name:"_amount"}],outputs:[]},{type:"function",name:"getAllListings",constant:!0,stateMutability:"view",inputs:[],outputs:[{type:"uint256[]",name:"tokenIds"},{type:"address[]",name:"issuers"},{type:"uint256[]",name:"amounts"},{type:"uint256[]",name:"prices"}]},{type:"function",name:"tokenManagementContract",constant:!0,stateMutability:"view",inputs:[],outputs:[{type:"address",name:""}]},{type:"function",name:"setTokenManagementContract",constant:!1,inputs:[{type:"address",name:"_tokenManagementContract"}],outputs:[]},{type:"function",name:"listings",constant:!0,stateMutability:"view",inputs:[{type:"uint256",name:""}],outputs:[{type:"address",name:"issuer"},{type:"uint256",name:"amount"},{type:"bool",name:"active"}]},{type:"function",name:"tokenHolders",constant:!0,stateMutability:"view",inputs:[{type:"address",name:""},{type:"uint256",name:""}],outputs:[{type:"uint256",name:""}]},{type:"function",name:"getTokenHolders",constant:!0,stateMutability:"view",inputs:[{type:"uint256",name:"_tokenId"}],outputs:[{type:"address[]",name:"holders"},{type:"uint256[]",name:"amounts"}]},{type:"function",name:"getMyAssets",constant:!0,stateMutability:"view",inputs:[],outputs:[{type:"uint256[]",name:"tokenIds"},{type:"uint256[]",name:"amounts"}]},{type:"function",name:"adminContract",constant:!0,stateMutability:"view",inputs:[],outputs:[{type:"address",name:""}]},{type:"function",name:"tokenContract",constant:!0,stateMutability:"view",inputs:[],outputs:[{type:"address",name:""}]},{type:"function",name:"withdrawEarnings",constant:!1,inputs:[],outputs:[]},{type:"function",name:"withdrawEarnings",constant:!1,inputs:[],outputs:[]},{type:"function",name:"getUserBalance",constant:!0,stateMutability:"view",inputs:[{type:"address",name:"_user"},{type:"uint256",name:"_tokenId"}],outputs:[{type:"uint256",name:""}]},{type:"function",name:"sellAsset",constant:!1,stateMutability:"payable",payable:!0,inputs:[{type:"uint256",name:"_tokenId"},{type:"uint256",name:"_amount"}],outputs:[]},{type:"function",name:"withdrawAsset",constant:!1,stateMutability:"nonpayable",inputs:[{type:"uint256",name:"_tokenId"},{type:"uint256",name:"_amount"}],outputs:[]},{type:"function",name:"removeListing",constant:!1,inputs:[{type:"uint256",name:"_tokenId"}],outputs:[]},{type:"function",name:"updateListing",constant:!1,inputs:[{type:"uint256",name:"_tokenId"},{type:"string",name:"_newMetadataURI"}],outputs:[]},{type:"function",name:"getTotalListed",constant:!0,stateMutability:"view",inputs:[{type:"uint256",name:"_tokenId"}],outputs:[{type:"uint256",name:""}]},{type:"function",name:"getTokenHoldersList",constant:!0,stateMutability:"view",inputs:[{type:"uint256",name:"_tokenId"}],outputs:[{type:"address[]",name:""}]},{type:"event",name:"AssetBought",anonymous:!1,inputs:[{type:"uint256",name:"tokenId",indexed:!0},{type:"address",name:"buyer",indexed:!0},{type:"uint256",name:"amount",indexed:!1},{type:"uint256",name:"platformFee",indexed:!1}]},{type:"event",name:"AssetSold",anonymous:!1,inputs:[{type:"uint256",name:"tokenId",indexed:!0},{type:"address",name:"seller",indexed:!0},{type:"uint256",name:"amount",indexed:!1},{type:"uint256",name:"platformFee",indexed:!1}]},{type:"event",name:"AssetWithdrawn",anonymous:!1,inputs:[{type:"uint256",name:"tokenId",indexed:!0},{type:"address",name:"holder",indexed:!0},{type:"uint256",name:"amount",indexed:!1}]},{type:"function",name:"setPaymentSplitter",constant:!1,inputs:[{type:"address",name:"_paymentSplitter"}],outputs:[]}],H0=[{type:"constructor",inputs:[{name:"_tokenContract",type:"address"}]},{type:"event",name:"SellOrderCreated",inputs:[{name:"orderId",type:"uint256",indexed:!0},{name:"seller",type:"address",indexed:!0},{name:"tokenId",type:"uint256",indexed:!0},{name:"amount",type:"uint256"},{name:"pricePerToken",type:"uint256"}]},{type:"event",name:"BuyOrderCreated",inputs:[{name:"orderId",type:"uint256",indexed:!0},{name:"buyer",type:"address",indexed:!0},{name:"tokenId",type:"uint256",indexed:!0},{name:"amount",type:"uint256"},{name:"pricePerToken",type:"uint256"}]},{type:"event",name:"OrderFilled",inputs:[{name:"orderId",type:"uint256",indexed:!0},{name:"taker",type:"address",indexed:!0},{name:"amount",type:"uint256"},{name:"totalPrice",type:"uint256"}]},{type:"event",name:"OrderCancelled",inputs:[{name:"orderId",type:"uint256",indexed:!0},{name:"maker",type:"address",indexed:!0}]},{type:"function",name:"createSellOrder",inputs:[{name:"_tokenId",type:"uint256"},{name:"_amount",type:"uint256"},{name:"_pricePerTokenU2U",type:"uint256"}],outputs:[{name:"orderId",type:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"createBuyOrder",inputs:[{name:"_tokenId",type:"uint256"},{name:"_amount",type:"uint256"},{name:"_pricePerTokenU2U",type:"uint256"}],outputs:[{name:"orderId",type:"uint256"}],stateMutability:"payable"},{type:"function",name:"fillOrder",inputs:[{name:"_orderId",type:"uint256"},{name:"_amountToFill",type:"uint256"}],outputs:[],stateMutability:"payable"},{type:"function",name:"cancelOrder",inputs:[{name:"_orderId",type:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getActiveOrders",inputs:[{name:"_tokenId",type:"uint256"}],outputs:[{name:"sellOrders",type:"uint256[]"},{name:"buyOrders",type:"uint256[]"}],stateMutability:"view"},{type:"function",name:"activeOrders",inputs:[{name:"",type:"uint256"}],outputs:[{name:"orderId",type:"uint256"},{name:"maker",type:"address"},{name:"tokenId",type:"uint256"},{name:"amount",type:"uint256"},{name:"pricePerTokenU2U",type:"uint256"},{name:"isBuyOrder",type:"bool"},{name:"isActive",type:"bool"},{name:"isFilled",type:"bool"},{name:"timestamp",type:"uint256"},{name:"expiryTimestamp",type:"uint256"}],stateMutability:"view"},{type:"function",name:"getEscrowedAssets",inputs:[{name:"_user",type:"address"},{name:"_tokenId",type:"uint256"}],outputs:[{name:"",type:"uint256"}],stateMutability:"view"},{type:"function",name:"getEscrowedU2U",inputs:[{name:"_user",type:"address"}],outputs:[{name:"",type:"uint256"}],stateMutability:"view"},{type:"function",name:"getUserOrders",inputs:[{name:"_user",type:"address"}],outputs:[{name:"",type:"uint256[]"}],stateMutability:"view"},{type:"function",name:"getBestAskPrice",inputs:[{name:"_tokenId",type:"uint256"}],outputs:[{name:"bestPrice",type:"uint256"},{name:"amount",type:"uint256"}],stateMutability:"view"},{type:"function",name:"getBestBidPrice",inputs:[{name:"_tokenId",type:"uint256"}],outputs:[{name:"bestPrice",type:"uint256"},{name:"amount",type:"uint256"}],stateMutability:"view"},{type:"function",name:"tokenContract",inputs:[],outputs:[{name:"",type:"address"}],stateMutability:"view"},{type:"function",name:"nextOrderId",inputs:[],outputs:[{name:"",type:"uint256"}],stateMutability:"view"},{type:"function",name:"PLATFORM_FEE_PERCENT",inputs:[],outputs:[{name:"",type:"uint256"}],stateMutability:"view"},{type:"function",name:"onERC1155Received",inputs:[{name:"",type:"address"},{name:"",type:"address"},{name:"",type:"uint256"},{name:"",type:"uint256"},{name:"",type:"bytes"}],outputs:[{name:"",type:"bytes4"}],stateMutability:"pure"},{type:"function",name:"onERC1155BatchReceived",inputs:[{name:"",type:"address"},{name:"",type:"address"},{name:"",type:"uint256[]"},{name:"",type:"uint256[]"},{name:"",type:"bytes"}],outputs:[{name:"",type:"bytes4"}],stateMutability:"pure"}],WJ=(t,e)=>{if(!t)return"";if(t.startsWith("http://")||t.startsWith("https://"))return t;if(t.startsWith("ipfs://")){const r=`https://gateway.pinata.cloud/ipfs/${t.replace("ipfs://","")}`;return console.log(" Converting IPFS URL for authenticated access:",t,"",r),r}return t.match(/^[a-zA-Z0-9]{46,59}$/)?`https://gateway.pinata.cloud/ipfs/${t}`:t},o4e=Object.freeze(Object.defineProperty({__proto__:null,processImageURL:WJ},Symbol.toStringTag,{value:"Module"}));var l4e="Separator",R$="horizontal",c4e=["horizontal","vertical"],GJ=T.forwardRef((t,e)=>{const{decorative:n,orientation:r=R$,...s}=t,i=u4e(r)?r:R$,o=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return c.jsx(vt.div,{"data-orientation":i,...o,...s,ref:e})});GJ.displayName=l4e;function u4e(t){return c4e.includes(t)}var KJ=GJ;const YJ=T.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>c.jsx(KJ,{ref:s,decorative:n,orientation:e,className:dt("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));YJ.displayName=KJ.displayName;/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Vv(t){return t+.5|0}const ku=(t,e,n)=>Math.max(Math.min(t,n),e);function Oy(t){return ku(Vv(t*2.55),0,255)}function Hu(t){return ku(Vv(t*255),0,255)}function Ll(t){return ku(Vv(t/2.55)/100,0,1)}function M$(t){return ku(Vv(t*100),0,100)}const Qi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},hN=[..."0123456789ABCDEF"],d4e=t=>hN[t&15],p4e=t=>hN[(t&240)>>4]+hN[t&15],zb=t=>(t&240)>>4===(t&15),f4e=t=>zb(t.r)&&zb(t.g)&&zb(t.b)&&zb(t.a);function h4e(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Qi[t[1]]*17,g:255&Qi[t[2]]*17,b:255&Qi[t[3]]*17,a:e===5?Qi[t[4]]*17:255}:(e===7||e===9)&&(n={r:Qi[t[1]]<<4|Qi[t[2]],g:Qi[t[3]]<<4|Qi[t[4]],b:Qi[t[5]]<<4|Qi[t[6]],a:e===9?Qi[t[7]]<<4|Qi[t[8]]:255})),n}const m4e=(t,e)=>t<255?e(t):"";function y4e(t){var e=f4e(t)?d4e:p4e;return t?"#"+e(t.r)+e(t.g)+e(t.b)+m4e(t.a,e):void 0}const g4e=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function qJ(t,e,n){const r=e*Math.min(n,1-n),s=(i,a=(i+t/30)%12)=>n-r*Math.max(Math.min(a-3,9-a,1),-1);return[s(0),s(8),s(4)]}function v4e(t,e,n){const r=(s,i=(s+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function b4e(t,e,n){const r=qJ(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)r[s]*=1-e-n,r[s]+=e;return r}function w4e(t,e,n,r,s){return t===s?(e-n)/r+(e<n?6:0):e===s?(n-t)/r+2:(t-e)/r+4}function kP(t){const n=t.r/255,r=t.g/255,s=t.b/255,i=Math.max(n,r,s),a=Math.min(n,r,s),o=(i+a)/2;let l,u,d;return i!==a&&(d=i-a,u=o>.5?d/(2-i-a):d/(i+a),l=w4e(n,r,s,d,i),l=l*60+.5),[l|0,u||0,o]}function CP(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(Hu)}function EP(t,e,n){return CP(qJ,t,e,n)}function x4e(t,e,n){return CP(b4e,t,e,n)}function T4e(t,e,n){return CP(v4e,t,e,n)}function XJ(t){return(t%360+360)%360}function A4e(t){const e=g4e.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?Oy(+e[5]):Hu(+e[5]));const s=XJ(+e[2]),i=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?r=x4e(s,i,a):e[1]==="hsv"?r=T4e(s,i,a):r=EP(s,i,a),{r:r[0],g:r[1],b:r[2],a:n}}function I4e(t,e){var n=kP(t);n[0]=XJ(n[0]+e),n=EP(n),t.r=n[0],t.g=n[1],t.b=n[2]}function k4e(t){if(!t)return;const e=kP(t),n=e[0],r=M$(e[1]),s=M$(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${s}%, ${Ll(t.a)})`:`hsl(${n}, ${r}%, ${s}%)`}const P$={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},j$={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function C4e(){const t={},e=Object.keys(j$),n=Object.keys(P$);let r,s,i,a,o;for(r=0;r<e.length;r++){for(a=o=e[r],s=0;s<n.length;s++)i=n[s],o=o.replace(i,P$[i]);i=parseInt(j$[a],16),t[o]=[i>>16&255,i>>8&255,i&255]}return t}let Vb;function E4e(t){Vb||(Vb=C4e(),Vb.transparent=[0,0,0,0]);const e=Vb[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const N4e=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function S4e(t){const e=N4e.exec(t);let n=255,r,s,i;if(e){if(e[7]!==r){const a=+e[7];n=e[8]?Oy(a):ku(a*255,0,255)}return r=+e[1],s=+e[3],i=+e[5],r=255&(e[2]?Oy(r):ku(r,0,255)),s=255&(e[4]?Oy(s):ku(s,0,255)),i=255&(e[6]?Oy(i):ku(i,0,255)),{r,g:s,b:i,a:n}}}function R4e(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Ll(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const bk=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Af=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function M4e(t,e,n){const r=Af(Ll(t.r)),s=Af(Ll(t.g)),i=Af(Ll(t.b));return{r:Hu(bk(r+n*(Af(Ll(e.r))-r))),g:Hu(bk(s+n*(Af(Ll(e.g))-s))),b:Hu(bk(i+n*(Af(Ll(e.b))-i))),a:t.a+n*(e.a-t.a)}}function Hb(t,e,n){if(t){let r=kP(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=EP(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function ZJ(t,e){return t&&Object.assign(e||{},t)}function D$(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Hu(t[3]))):(e=ZJ(t,{r:0,g:0,b:0,a:1}),e.a=Hu(e.a)),e}function P4e(t){return t.charAt(0)==="r"?S4e(t):A4e(t)}class W0{constructor(e){if(e instanceof W0)return e;const n=typeof e;let r;n==="object"?r=D$(e):n==="string"&&(r=h4e(e)||E4e(e)||P4e(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=ZJ(this._rgb);return e&&(e.a=Ll(e.a)),e}set rgb(e){this._rgb=D$(e)}rgbString(){return this._valid?R4e(this._rgb):void 0}hexString(){return this._valid?y4e(this._rgb):void 0}hslString(){return this._valid?k4e(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,s=e.rgb;let i;const a=n===i?.5:n,o=2*a-1,l=r.a-s.a,u=((o*l===-1?o:(o+l)/(1+o*l))+1)/2;i=1-u,r.r=255&u*r.r+i*s.r+.5,r.g=255&u*r.g+i*s.g+.5,r.b=255&u*r.b+i*s.b+.5,r.a=a*r.a+(1-a)*s.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=M4e(this._rgb,e._rgb,n)),this}clone(){return new W0(this.rgb)}alpha(e){return this._rgb.a=Hu(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Vv(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Hb(this._rgb,2,e),this}darken(e){return Hb(this._rgb,2,-e),this}saturate(e){return Hb(this._rgb,1,e),this}desaturate(e){return Hb(this._rgb,1,-e),this}rotate(e){return I4e(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Cl(){}const j4e=(()=>{let t=0;return()=>t++})();function un(t){return t==null}function gr(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function tn(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Es(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Ao(t,e){return Es(t)?t:e}function Gt(t,e){return typeof t>"u"?e:t}const D4e=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Cn(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function pn(t,e,n,r){let s,i,a;if(gr(t))for(i=t.length,s=0;s<i;s++)e.call(n,t[s],s);else if(tn(t))for(a=Object.keys(t),i=a.length,s=0;s<i;s++)e.call(n,t[a[s]],a[s])}function S1(t,e){let n,r,s,i;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(s=t[n],i=e[n],s.datasetIndex!==i.datasetIndex||s.index!==i.index)return!1;return!0}function R1(t){if(gr(t))return t.map(R1);if(tn(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let s=0;for(;s<r;++s)e[n[s]]=R1(t[n[s]]);return e}return t}function JJ(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function _4e(t,e,n,r){if(!JJ(t))return;const s=e[t],i=n[t];tn(s)&&tn(i)?G0(s,i,r):e[t]=R1(i)}function G0(t,e,n){const r=gr(e)?e:[e],s=r.length;if(!tn(t))return t;n=n||{};const i=n.merger||_4e;let a;for(let o=0;o<s;++o){if(a=r[o],!tn(a))continue;const l=Object.keys(a);for(let u=0,d=l.length;u<d;++u)i(l[u],t,a,n)}return t}function vg(t,e){return G0(t,e,{merger:L4e})}function L4e(t,e,n){if(!JJ(t))return;const r=e[t],s=n[t];tn(r)&&tn(s)?vg(r,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=R1(s))}const _$={"":t=>t,x:t=>t.x,y:t=>t.y};function O4e(t){const e=t.split("."),n=[];let r="";for(const s of e)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function $4e(t){const e=O4e(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function cm(t,e){return(_$[e]||(_$[e]=$4e(e)))(t)}function NP(t){return t.charAt(0).toUpperCase()+t.slice(1)}const K0=t=>typeof t<"u",ld=t=>typeof t=="function",L$=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function F4e(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Wr=Math.PI,no=2*Wr,B4e=no+Wr,M1=Number.POSITIVE_INFINITY,U4e=Wr/180,Za=Wr/2,Nd=Wr/4,O$=Wr*2/3,mN=Math.log10,sl=Math.sign;function bg(t,e,n){return Math.abs(t-e)<n}function $$(t){const e=Math.round(t);t=bg(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(mN(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function z4e(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((s,i)=>s-i).pop(),e}function V4e(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Y0(t){return!V4e(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function H4e(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function W4e(t,e,n){let r,s,i;for(r=0,s=t.length;r<s;r++)i=t[r][n],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function rp(t){return t*(Wr/180)}function G4e(t){return t*(180/Wr)}function F$(t){if(!Es(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function K4e(t,e){const n=e.x-t.x,r=e.y-t.y,s=Math.sqrt(n*n+r*r);let i=Math.atan2(r,n);return i<-.5*Wr&&(i+=no),{angle:i,distance:s}}function yN(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Y4e(t,e){return(t-e+B4e)%no-Wr}function Po(t){return(t%no+no)%no}function QJ(t,e,n,r){const s=Po(t),i=Po(e),a=Po(n),o=Po(i-s),l=Po(a-s),u=Po(s-i),d=Po(s-a);return s===i||s===a||r&&i===a||o>l&&u<d}function Li(t,e,n){return Math.max(e,Math.min(n,t))}function q4e(t){return Li(t,-32768,32767)}function Cu(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function SP(t,e,n){n=n||(a=>t[a]<e);let r=t.length-1,s=0,i;for(;r-s>1;)i=s+r>>1,n(i)?s=i:r=i;return{lo:s,hi:r}}const sp=(t,e,n,r)=>SP(t,n,r?s=>{const i=t[s][e];return i<n||i===n&&t[s+1][e]===n}:s=>t[s][e]<n),X4e=(t,e,n)=>SP(t,n,r=>t[r][e]>=n);function Z4e(t,e,n){let r=0,s=t.length;for(;r<s&&t[r]<e;)r++;for(;s>r&&t[s-1]>n;)s--;return r>0||s<t.length?t.slice(r,s):t}const eQ=["push","pop","shift","splice","unshift"];function J4e(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),eQ.forEach(n=>{const r="_onData"+NP(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...i){const a=s.apply(this,i);return t._chartjs.listeners.forEach(o=>{typeof o[r]=="function"&&o[r](...i)}),a}})})}function B$(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,s=r.indexOf(e);s!==-1&&r.splice(s,1),!(r.length>0)&&(eQ.forEach(i=>{delete t[i]}),delete t._chartjs)}function tQ(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const nQ=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function rQ(t,e){let n=[],r=!1;return function(...s){n=s,r||(r=!0,nQ.call(window,()=>{r=!1,t.apply(e,n)}))}}function Q4e(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const RP=t=>t==="start"?"left":t==="end"?"right":"center",us=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,eDe=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function tDe(t,e,n){const r=e.length;let s=0,i=r;if(t._sorted){const{iScale:a,vScale:o,_parsed:l}=t,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,d=a.axis,{min:p,max:f,minDefined:h,maxDefined:y}=a.getUserBounds();if(h){if(s=Math.min(sp(l,d,p).lo,n?r:sp(e,d,a.getPixelForValue(p)).lo),u){const m=l.slice(0,s+1).reverse().findIndex(g=>!un(g[o.axis]));s-=Math.max(0,m)}s=Li(s,0,r-1)}if(y){let m=Math.max(sp(l,a.axis,f,!0).hi+1,n?0:sp(e,d,a.getPixelForValue(f),!0).hi+1);if(u){const g=l.slice(m-1).findIndex(v=>!un(v[o.axis]));m+=Math.max(0,g)}i=Li(m,s,r)-s}else i=r-s}return{start:s,count:i}}function nDe(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,s={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=s,!0;const i=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,s),i}const Wb=t=>t===0||t===1,U$=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*no/n)),z$=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*no/n)+1,wg={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Za)+1,easeOutSine:t=>Math.sin(t*Za),easeInOutSine:t=>-.5*(Math.cos(Wr*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Wb(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Wb(t)?t:U$(t,.075,.3),easeOutElastic:t=>Wb(t)?t:z$(t,.075,.3),easeInOutElastic(t){return Wb(t)?t:t<.5?.5*U$(t*2,.1125,.45):.5+.5*z$(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-wg.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?wg.easeInBounce(t*2)*.5:wg.easeOutBounce(t*2-1)*.5+.5};function MP(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function V$(t){return MP(t)?t:new W0(t)}function wk(t){return MP(t)?t:new W0(t).saturate(.5).darken(.1).hexString()}const rDe=["x","y","borderWidth","radius","tension"],sDe=["color","borderColor","backgroundColor"];function iDe(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:sDe},numbers:{type:"number",properties:rDe}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function aDe(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const H$=new Map;function oDe(t,e){e=e||{};const n=t+JSON.stringify(e);let r=H$.get(n);return r||(r=new Intl.NumberFormat(t,e),H$.set(n,r)),r}function sQ(t,e,n){return oDe(e,n).format(t)}const iQ={values(t){return gr(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let s,i=t;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(s="scientific"),i=lDe(t,n)}const a=mN(Math.abs(i)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:s,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),sQ(t,r,l)},logarithmic(t,e,n){if(t===0)return"0";const r=n[e].significand||t/Math.pow(10,Math.floor(mN(t)));return[1,2,3,5,10,15].includes(r)||e>.8*n.length?iQ.numeric.call(this,t,e,n):""}};function lDe(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var aQ={formatters:iQ};function cDe(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:aQ.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Jp=Object.create(null),gN=Object.create(null);function xg(t,e){if(!e)return t;const n=e.split(".");for(let r=0,s=n.length;r<s;++r){const i=n[r];t=t[i]||(t[i]=Object.create(null))}return t}function xk(t,e,n){return typeof e=="string"?G0(xg(t,e),n):G0(xg(t,""),e)}class uDe{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,s)=>wk(s.backgroundColor),this.hoverBorderColor=(r,s)=>wk(s.borderColor),this.hoverColor=(r,s)=>wk(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return xk(this,e,n)}get(e){return xg(this,e)}describe(e,n){return xk(gN,e,n)}override(e,n){return xk(Jp,e,n)}route(e,n,r,s){const i=xg(this,e),a=xg(this,r),o="_"+n;Object.defineProperties(i,{[o]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[o],u=a[s];return tn(l)?Object.assign({},u,l):Gt(l,u)},set(l){this[o]=l}}})}apply(e){e.forEach(n=>n(this))}}var ar=new uDe({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[iDe,aDe,cDe]);function dDe(t){return!t||un(t.size)||un(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function W$(t,e,n,r,s){let i=e[s];return i||(i=e[s]=t.measureText(s).width,n.push(s)),i>r&&(r=i),r}function Sd(t,e,n){const r=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*r)/r+s}function G$(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function vN(t,e,n,r){oQ(t,e,n,r,null)}function oQ(t,e,n,r,s){let i,a,o,l,u,d,p,f;const h=e.pointStyle,y=e.rotation,m=e.radius;let g=(y||0)*U4e;if(h&&typeof h=="object"&&(i=h.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(g),t.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),t.restore();return}if(!(isNaN(m)||m<=0)){switch(t.beginPath(),h){default:s?t.ellipse(n,r,s/2,m,0,0,no):t.arc(n,r,m,0,no),t.closePath();break;case"triangle":d=s?s/2:m,t.moveTo(n+Math.sin(g)*d,r-Math.cos(g)*m),g+=O$,t.lineTo(n+Math.sin(g)*d,r-Math.cos(g)*m),g+=O$,t.lineTo(n+Math.sin(g)*d,r-Math.cos(g)*m),t.closePath();break;case"rectRounded":u=m*.516,l=m-u,a=Math.cos(g+Nd)*l,p=Math.cos(g+Nd)*(s?s/2-u:l),o=Math.sin(g+Nd)*l,f=Math.sin(g+Nd)*(s?s/2-u:l),t.arc(n-p,r-o,u,g-Wr,g-Za),t.arc(n+f,r-a,u,g-Za,g),t.arc(n+p,r+o,u,g,g+Za),t.arc(n-f,r+a,u,g+Za,g+Wr),t.closePath();break;case"rect":if(!y){l=Math.SQRT1_2*m,d=s?s/2:l,t.rect(n-d,r-l,2*d,2*l);break}g+=Nd;case"rectRot":p=Math.cos(g)*(s?s/2:m),a=Math.cos(g)*m,o=Math.sin(g)*m,f=Math.sin(g)*(s?s/2:m),t.moveTo(n-p,r-o),t.lineTo(n+f,r-a),t.lineTo(n+p,r+o),t.lineTo(n-f,r+a),t.closePath();break;case"crossRot":g+=Nd;case"cross":p=Math.cos(g)*(s?s/2:m),a=Math.cos(g)*m,o=Math.sin(g)*m,f=Math.sin(g)*(s?s/2:m),t.moveTo(n-p,r-o),t.lineTo(n+p,r+o),t.moveTo(n+f,r-a),t.lineTo(n-f,r+a);break;case"star":p=Math.cos(g)*(s?s/2:m),a=Math.cos(g)*m,o=Math.sin(g)*m,f=Math.sin(g)*(s?s/2:m),t.moveTo(n-p,r-o),t.lineTo(n+p,r+o),t.moveTo(n+f,r-a),t.lineTo(n-f,r+a),g+=Nd,p=Math.cos(g)*(s?s/2:m),a=Math.cos(g)*m,o=Math.sin(g)*m,f=Math.sin(g)*(s?s/2:m),t.moveTo(n-p,r-o),t.lineTo(n+p,r+o),t.moveTo(n+f,r-a),t.lineTo(n-f,r+a);break;case"line":a=s?s/2:Math.cos(g)*m,o=Math.sin(g)*m,t.moveTo(n-a,r-o),t.lineTo(n+a,r+o);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(g)*(s?s/2:m),r+Math.sin(g)*m);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function q0(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function $2(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function F2(t){t.restore()}function pDe(t,e,n,r,s){if(!e)return t.lineTo(n.x,n.y);if(s==="middle"){const i=(e.x+n.x)/2;t.lineTo(i,e.y),t.lineTo(i,n.y)}else s==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function fDe(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function hDe(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),un(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function mDe(t,e,n,r,s){if(s.strikethrough||s.underline){const i=t.measureText(r),a=e-i.actualBoundingBoxLeft,o=e+i.actualBoundingBoxRight,l=n-i.actualBoundingBoxAscent,u=n+i.actualBoundingBoxDescent,d=s.strikethrough?(l+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(a,d),t.lineTo(o,d),t.stroke()}}function yDe(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function X0(t,e,n,r,s,i={}){const a=gr(e)?e:[e],o=i.strokeWidth>0&&i.strokeColor!=="";let l,u;for(t.save(),t.font=s.string,hDe(t,i),l=0;l<a.length;++l)u=a[l],i.backdrop&&yDe(t,i.backdrop),o&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),un(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(u,n,r,i.maxWidth)),t.fillText(u,n,r,i.maxWidth),mDe(t,n,r,u,i),r+=Number(s.lineHeight);t.restore()}function P1(t,e){const{x:n,y:r,w:s,h:i,radius:a}=e;t.arc(n+a.topLeft,r+a.topLeft,a.topLeft,1.5*Wr,Wr,!0),t.lineTo(n,r+i-a.bottomLeft),t.arc(n+a.bottomLeft,r+i-a.bottomLeft,a.bottomLeft,Wr,Za,!0),t.lineTo(n+s-a.bottomRight,r+i),t.arc(n+s-a.bottomRight,r+i-a.bottomRight,a.bottomRight,Za,0,!0),t.lineTo(n+s,r+a.topRight),t.arc(n+s-a.topRight,r+a.topRight,a.topRight,0,-Za,!0),t.lineTo(n+a.topLeft,r)}const gDe=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,vDe=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function bDe(t,e){const n=(""+t).match(gDe);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const wDe=t=>+t||0;function lQ(t,e){const n={},r=tn(e),s=r?Object.keys(e):e,i=tn(t)?r?a=>Gt(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of s)n[a]=wDe(i(a));return n}function cQ(t){return lQ(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Th(t){return lQ(t,["topLeft","topRight","bottomLeft","bottomRight"])}function wa(t){const e=cQ(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Is(t,e){t=t||{},e=e||ar.font;let n=Gt(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=Gt(t.style,e.style);r&&!(""+r).match(vDe)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:Gt(t.family,e.family),lineHeight:bDe(Gt(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:Gt(t.weight,e.weight),string:""};return s.string=dDe(s),s}function Gb(t,e,n,r){let s,i,a;for(s=0,i=t.length;s<i;++s)if(a=t[s],a!==void 0&&a!==void 0)return a}function xDe(t,e,n){const{min:r,max:s}=t,i=D4e(e,(s-r)/2),a=(o,l)=>n&&o===0?0:o+l;return{min:a(r,-Math.abs(i)),max:a(s,i)}}function pf(t,e){return Object.assign(Object.create(t),e)}function PP(t,e=[""],n,r,s=()=>t[0]){const i=n||t;typeof r>"u"&&(r=fQ("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:r,_getTarget:s,override:o=>PP([o,...t],e,i,r)};return new Proxy(a,{deleteProperty(o,l){return delete o[l],delete o._keys,delete t[0][l],!0},get(o,l){return dQ(o,l,()=>SDe(l,e,t,o))},getOwnPropertyDescriptor(o,l){return Reflect.getOwnPropertyDescriptor(o._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(o,l){return Y$(o).includes(l)},ownKeys(o){return Y$(o)},set(o,l,u){const d=o._storage||(o._storage=s());return o[l]=d[l]=u,delete o._keys,!0}})}function um(t,e,n,r){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:uQ(t,r),setContext:i=>um(t,i,n,r),override:i=>um(t.override(i),e,n,r)};return new Proxy(s,{deleteProperty(i,a){return delete i[a],delete t[a],!0},get(i,a,o){return dQ(i,a,()=>ADe(i,a,o))},getOwnPropertyDescriptor(i,a){return i._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(i,a,o){return t[a]=o,delete i[a],!0}})}function uQ(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:r,isScriptable:ld(n)?n:()=>n,isIndexable:ld(r)?r:()=>r}}const TDe=(t,e)=>t?t+NP(e):e,jP=(t,e)=>tn(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function dQ(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function ADe(t,e,n){const{_proxy:r,_context:s,_subProxy:i,_descriptors:a}=t;let o=r[e];return ld(o)&&a.isScriptable(e)&&(o=IDe(e,o,t,n)),gr(o)&&o.length&&(o=kDe(e,o,t,a.isIndexable)),jP(e,o)&&(o=um(o,s,i&&i[e],a)),o}function IDe(t,e,n,r){const{_proxy:s,_context:i,_subProxy:a,_stack:o}=n;if(o.has(t))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+t);o.add(t);let l=e(i,a||r);return o.delete(t),jP(t,l)&&(l=DP(s._scopes,s,t,l)),l}function kDe(t,e,n,r){const{_proxy:s,_context:i,_subProxy:a,_descriptors:o}=n;if(typeof i.index<"u"&&r(t))return e[i.index%e.length];if(tn(e[0])){const l=e,u=s._scopes.filter(d=>d!==l);e=[];for(const d of l){const p=DP(u,s,t,d);e.push(um(p,i,a&&a[t],o))}}return e}function pQ(t,e,n){return ld(t)?t(e,n):t}const CDe=(t,e)=>t===!0?e:typeof t=="string"?cm(e,t):void 0;function EDe(t,e,n,r,s){for(const i of e){const a=CDe(n,i);if(a){t.add(a);const o=pQ(a._fallback,n,s);if(typeof o<"u"&&o!==n&&o!==r)return o}else if(a===!1&&typeof r<"u"&&n!==r)return null}return!1}function DP(t,e,n,r){const s=e._rootScopes,i=pQ(e._fallback,n,r),a=[...t,...s],o=new Set;o.add(r);let l=K$(o,a,n,i||n,r);return l===null||typeof i<"u"&&i!==n&&(l=K$(o,a,i,l,r),l===null)?!1:PP(Array.from(o),[""],s,i,()=>NDe(e,n,r))}function K$(t,e,n,r,s){for(;n;)n=EDe(t,e,n,r,s);return n}function NDe(t,e,n){const r=t._getTarget();e in r||(r[e]={});const s=r[e];return gr(s)&&tn(n)?n:s||{}}function SDe(t,e,n,r){let s;for(const i of e)if(s=fQ(TDe(i,t),n),typeof s<"u")return jP(t,s)?DP(n,r,t,s):s}function fQ(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function Y$(t){let e=t._keys;return e||(e=t._keys=RDe(t._scopes)),e}function RDe(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(r);return Array.from(e)}const MDe=Number.EPSILON||1e-14,dm=(t,e)=>e<t.length&&!t[e].skip&&t[e],hQ=t=>t==="x"?"y":"x";function PDe(t,e,n,r){const s=t.skip?e:t,i=e,a=n.skip?e:n,o=yN(i,s),l=yN(a,i);let u=o/(o+l),d=l/(o+l);u=isNaN(u)?0:u,d=isNaN(d)?0:d;const p=r*u,f=r*d;return{previous:{x:i.x-p*(a.x-s.x),y:i.y-p*(a.y-s.y)},next:{x:i.x+f*(a.x-s.x),y:i.y+f*(a.y-s.y)}}}function jDe(t,e,n){const r=t.length;let s,i,a,o,l,u=dm(t,0);for(let d=0;d<r-1;++d)if(l=u,u=dm(t,d+1),!(!l||!u)){if(bg(e[d],0,MDe)){n[d]=n[d+1]=0;continue}s=n[d]/e[d],i=n[d+1]/e[d],o=Math.pow(s,2)+Math.pow(i,2),!(o<=9)&&(a=3/Math.sqrt(o),n[d]=s*a*e[d],n[d+1]=i*a*e[d])}}function DDe(t,e,n="x"){const r=hQ(n),s=t.length;let i,a,o,l=dm(t,0);for(let u=0;u<s;++u){if(a=o,o=l,l=dm(t,u+1),!o)continue;const d=o[n],p=o[r];a&&(i=(d-a[n])/3,o[`cp1${n}`]=d-i,o[`cp1${r}`]=p-i*e[u]),l&&(i=(l[n]-d)/3,o[`cp2${n}`]=d+i,o[`cp2${r}`]=p+i*e[u])}}function _De(t,e="x"){const n=hQ(e),r=t.length,s=Array(r).fill(0),i=Array(r);let a,o,l,u=dm(t,0);for(a=0;a<r;++a)if(o=l,l=u,u=dm(t,a+1),!!l){if(u){const d=u[e]-l[e];s[a]=d!==0?(u[n]-l[n])/d:0}i[a]=o?u?sl(s[a-1])!==sl(s[a])?0:(s[a-1]+s[a])/2:s[a-1]:s[a]}jDe(t,s,i),DDe(t,i,e)}function Kb(t,e,n){return Math.max(Math.min(t,n),e)}function LDe(t,e){let n,r,s,i,a,o=q0(t[0],e);for(n=0,r=t.length;n<r;++n)a=i,i=o,o=n<r-1&&q0(t[n+1],e),i&&(s=t[n],a&&(s.cp1x=Kb(s.cp1x,e.left,e.right),s.cp1y=Kb(s.cp1y,e.top,e.bottom)),o&&(s.cp2x=Kb(s.cp2x,e.left,e.right),s.cp2y=Kb(s.cp2y,e.top,e.bottom)))}function ODe(t,e,n,r,s){let i,a,o,l;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")_De(t,s);else{let u=r?t[t.length-1]:t[0];for(i=0,a=t.length;i<a;++i)o=t[i],l=PDe(u,o,t[Math.min(i+1,a-(r?0:1))%a],e.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,u=o}e.capBezierPoints&&LDe(t,n)}function _P(){return typeof window<"u"&&typeof document<"u"}function LP(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function j1(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const B2=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function $De(t,e){return B2(t).getPropertyValue(e)}const FDe=["top","right","bottom","left"];function Ep(t,e,n){const r={};n=n?"-"+n:"";for(let s=0;s<4;s++){const i=FDe[s];r[i]=parseFloat(t[e+"-"+i+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const BDe=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function UDe(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:s,offsetY:i}=r;let a=!1,o,l;if(BDe(s,i,t.target))o=s,l=i;else{const u=e.getBoundingClientRect();o=r.clientX-u.left,l=r.clientY-u.top,a=!0}return{x:o,y:l,box:a}}function Od(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,s=B2(n),i=s.boxSizing==="border-box",a=Ep(s,"padding"),o=Ep(s,"border","width"),{x:l,y:u,box:d}=UDe(t,n),p=a.left+(d&&o.left),f=a.top+(d&&o.top);let{width:h,height:y}=e;return i&&(h-=a.width+o.width,y-=a.height+o.height),{x:Math.round((l-p)/h*n.width/r),y:Math.round((u-f)/y*n.height/r)}}function zDe(t,e,n){let r,s;if(e===void 0||n===void 0){const i=t&&LP(t);if(!i)e=t.clientWidth,n=t.clientHeight;else{const a=i.getBoundingClientRect(),o=B2(i),l=Ep(o,"border","width"),u=Ep(o,"padding");e=a.width-u.width-l.width,n=a.height-u.height-l.height,r=j1(o.maxWidth,i,"clientWidth"),s=j1(o.maxHeight,i,"clientHeight")}}return{width:e,height:n,maxWidth:r||M1,maxHeight:s||M1}}const Yb=t=>Math.round(t*10)/10;function VDe(t,e,n,r){const s=B2(t),i=Ep(s,"margin"),a=j1(s.maxWidth,t,"clientWidth")||M1,o=j1(s.maxHeight,t,"clientHeight")||M1,l=zDe(t,e,n);let{width:u,height:d}=l;if(s.boxSizing==="content-box"){const f=Ep(s,"border","width"),h=Ep(s,"padding");u-=h.width+f.width,d-=h.height+f.height}return u=Math.max(0,u-i.width),d=Math.max(0,r?u/r:d-i.height),u=Yb(Math.min(u,a,l.maxWidth)),d=Yb(Math.min(d,o,l.maxHeight)),u&&!d&&(d=Yb(u/2)),(e!==void 0||n!==void 0)&&r&&l.height&&d>l.height&&(d=l.height,u=Yb(Math.floor(d*r))),{width:u,height:d}}function q$(t,e,n){const r=e||1,s=Math.floor(t.height*r),i=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||a.height!==s||a.width!==i?(t.currentDevicePixelRatio=r,a.height=s,a.width=i,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const HDe=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};_P()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function X$(t,e){const n=$De(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function $d(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function WDe(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function GDe(t,e,n,r){const s={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},a=$d(t,s,n),o=$d(s,i,n),l=$d(i,e,n),u=$d(a,o,n),d=$d(o,l,n);return $d(u,d,n)}const KDe=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},YDe=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Ah(t,e,n){return t?KDe(e,n):YDe()}function mQ(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function yQ(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function gQ(t){return t==="angle"?{between:QJ,compare:Y4e,normalize:Po}:{between:Cu,compare:(e,n)=>e-n,normalize:e=>e}}function Z$({start:t,end:e,count:n,loop:r,style:s}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:s}}function qDe(t,e,n){const{property:r,start:s,end:i}=n,{between:a,normalize:o}=gQ(r),l=e.length;let{start:u,end:d,loop:p}=t,f,h;if(p){for(u+=l,d+=l,f=0,h=l;f<h&&a(o(e[u%l][r]),s,i);++f)u--,d--;u%=l,d%=l}return d<u&&(d+=l),{start:u,end:d,loop:p,style:t.style}}function vQ(t,e,n){if(!n)return[t];const{property:r,start:s,end:i}=n,a=e.length,{compare:o,between:l,normalize:u}=gQ(r),{start:d,end:p,loop:f,style:h}=qDe(t,e,n),y=[];let m=!1,g=null,v,b,w;const A=()=>l(s,w,v)&&o(s,w)!==0,I=()=>o(i,v)===0||l(i,w,v),C=()=>m||A(),E=()=>!m||I();for(let N=d,_=d;N<=p;++N)b=e[N%a],!b.skip&&(v=u(b[r]),v!==w&&(m=l(v,s,i),g===null&&C()&&(g=o(v,s)===0?N:_),g!==null&&E()&&(y.push(Z$({start:g,end:N,loop:f,count:a,style:h})),g=null),_=N,w=v));return g!==null&&y.push(Z$({start:g,end:p,loop:f,count:a,style:h})),y}function bQ(t,e){const n=[],r=t.segments;for(let s=0;s<r.length;s++){const i=vQ(r[s],t.points,e);i.length&&n.push(...i)}return n}function XDe(t,e,n,r){let s=0,i=e-1;if(n&&!r)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,n&&(i+=s);i>s&&t[i%e].skip;)i--;return i%=e,{start:s,end:i}}function ZDe(t,e,n,r){const s=t.length,i=[];let a=e,o=t[e],l;for(l=e+1;l<=n;++l){const u=t[l%s];u.skip||u.stop?o.skip||(r=!1,i.push({start:e%s,end:(l-1)%s,loop:r}),e=a=u.stop?l:null):(a=l,o.skip&&(e=l)),o=u}return a!==null&&i.push({start:e%s,end:a%s,loop:r}),i}function JDe(t,e){const n=t.points,r=t.options.spanGaps,s=n.length;if(!s)return[];const i=!!t._loop,{start:a,end:o}=XDe(n,s,i,r);if(r===!0)return J$(t,[{start:a,end:o,loop:i}],n,e);const l=o<a?o+s:o,u=!!t._fullLoop&&a===0&&o===s-1;return J$(t,ZDe(n,a,l,u),n,e)}function J$(t,e,n,r){return!r||!r.setContext||!n?e:QDe(t,e,n,r)}function QDe(t,e,n,r){const s=t._chart.getContext(),i=Q$(t.options),{_datasetIndex:a,options:{spanGaps:o}}=t,l=n.length,u=[];let d=i,p=e[0].start,f=p;function h(y,m,g,v){const b=o?-1:1;if(y!==m){for(y+=l;n[y%l].skip;)y-=b;for(;n[m%l].skip;)m+=b;y%l!==m%l&&(u.push({start:y%l,end:m%l,loop:g,style:v}),d=v,p=m%l)}}for(const y of e){p=o?p:y.start;let m=n[p%l],g;for(f=p+1;f<=y.end;f++){const v=n[f%l];g=Q$(r.setContext(pf(s,{type:"segment",p0:m,p1:v,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:a}))),e_e(g,d)&&h(p,f-1,y.loop,d),m=v,d=g}p<f-1&&h(p,f-1,y.loop,d)}return u}function Q$(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function e_e(t,e){if(!e)return!1;const n=[],r=function(s,i){return MP(i)?(n.includes(i)||n.push(i),n.indexOf(i)):i};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function qb(t,e,n){return t.options.clip?t[n]:e[n]}function t_e(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:qb(n,e,"left"),right:qb(n,e,"right"),top:qb(r,e,"top"),bottom:qb(r,e,"bottom")}:e}function wQ(t,e){const n=e._clip;if(n.disabled)return!1;const r=t_e(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class n_e{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,s){const i=n.listeners[s],a=n.duration;i.forEach(o=>o({chart:e,initial:n.initial,numSteps:a,currentStep:Math.min(r-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=nQ.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,s)=>{if(!r.running||!r.items.length)return;const i=r.items;let a=i.length-1,o=!1,l;for(;a>=0;--a)l=i[a],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),o=!0):(i[a]=i[i.length-1],i.pop());o&&(s.draw(),this._notify(s,r,e,"progress")),i.length||(r.running=!1,this._notify(s,r,e,"complete"),r.initial=!1),n+=i.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,s)=>Math.max(r,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let s=r.length-1;for(;s>=0;--s)r[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var El=new n_e;const e8="transparent",r_e={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=V$(t||e8),s=r.valid&&V$(e||e8);return s&&s.valid?s.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class s_e{constructor(e,n,r,s){const i=n[r];s=Gb([e.to,s,i,e.from]);const a=Gb([e.from,i,s]);this._active=!0,this._fn=e.fn||r_e[e.type||typeof a],this._easing=wg[e.easing]||wg.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=a,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const s=this._target[this._prop],i=r-this._start,a=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Gb([e.to,n,s,e.from]),this._from=Gb([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,s=this._prop,i=this._from,a=this._loop,o=this._to;let l;if(this._active=i!==o&&(a||n<r),!this._active){this._target[s]=o,this._notify(!0);return}if(n<0){this._target[s]=i;return}l=n/r%2,l=a&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(i,o,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let s=0;s<r.length;s++)r[s][n]()}}class xQ{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!tn(e))return;const n=Object.keys(ar.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const i=e[s];if(!tn(i))return;const a={};for(const o of n)a[o]=i[o];(gr(i.properties)&&i.properties||[s]).forEach(o=>{(o===s||!r.has(o))&&r.set(o,a)})})}_animateOptions(e,n){const r=n.options,s=a_e(e,r);if(!s)return[];const i=this._createAnimations(s,r);return r.$shared&&i_e(e.options.$animations,r).then(()=>{e.options=r},()=>{}),i}_createAnimations(e,n){const r=this._properties,s=[],i=e.$animations||(e.$animations={}),a=Object.keys(n),o=Date.now();let l;for(l=a.length-1;l>=0;--l){const u=a[l];if(u.charAt(0)==="$")continue;if(u==="options"){s.push(...this._animateOptions(e,n));continue}const d=n[u];let p=i[u];const f=r.get(u);if(p)if(f&&p.active()){p.update(f,d,o);continue}else p.cancel();if(!f||!f.duration){e[u]=d;continue}i[u]=p=new s_e(f,e,u,d),s.push(p)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return El.add(this._chart,r),!0}}function i_e(t,e){const n=[],r=Object.keys(e);for(let s=0;s<r.length;s++){const i=t[r[s]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function a_e(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function t8(t,e){const n=t&&t.options||{},r=n.reverse,s=n.min===void 0?e:0,i=n.max===void 0?e:0;return{start:r?i:s,end:r?s:i}}function o_e(t,e,n){if(n===!1)return!1;const r=t8(t,n),s=t8(e,n);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}function l_e(t){let e,n,r,s;return tn(t)?(e=t.top,n=t.right,r=t.bottom,s=t.left):e=n=r=s=t,{top:e,right:n,bottom:r,left:s,disabled:t===!1}}function TQ(t,e){const n=[],r=t._getSortedDatasetMetas(e);let s,i;for(s=0,i=r.length;s<i;++s)n.push(r[s].index);return n}function n8(t,e,n,r={}){const s=t.keys,i=r.mode==="single";let a,o,l,u;if(e===null)return;let d=!1;for(a=0,o=s.length;a<o;++a){if(l=+s[a],l===n){if(d=!0,r.all)continue;break}u=t.values[l],Es(u)&&(i||e===0||sl(e)===sl(u))&&(e+=u)}return!d&&!r.all?0:e}function c_e(t,e){const{iScale:n,vScale:r}=e,s=n.axis==="x"?"x":"y",i=r.axis==="x"?"x":"y",a=Object.keys(t),o=new Array(a.length);let l,u,d;for(l=0,u=a.length;l<u;++l)d=a[l],o[l]={[s]:d,[i]:t[d]};return o}function Tk(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function u_e(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function d_e(t){const{min:e,max:n,minDefined:r,maxDefined:s}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function p_e(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function r8(t,e,n,r){for(const s of e.getMatchingVisibleMetas(r).reverse()){const i=t[s.index];if(n&&i>0||!n&&i<0)return s.index}return null}function s8(t,e){const{chart:n,_cachedMeta:r}=t,s=n._stacks||(n._stacks={}),{iScale:i,vScale:a,index:o}=r,l=i.axis,u=a.axis,d=u_e(i,a,r),p=e.length;let f;for(let h=0;h<p;++h){const y=e[h],{[l]:m,[u]:g}=y,v=y._stacks||(y._stacks={});f=v[u]=p_e(s,d,m),f[o]=g,f._top=r8(f,a,!0,r.type),f._bottom=r8(f,a,!1,r.type);const b=f._visualValues||(f._visualValues={});b[o]=g}}function Ak(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function f_e(t,e){return pf(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function h_e(t,e,n){return pf(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Ay(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const s of e){const i=s._stacks;if(!i||i[r]===void 0||i[r][n]===void 0)return;delete i[r][n],i[r]._visualValues!==void 0&&i[r]._visualValues[n]!==void 0&&delete i[r]._visualValues[n]}}}const Ik=t=>t==="reset"||t==="none",i8=(t,e)=>e?t:Object.assign({},t),m_e=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:TQ(n,!0),values:null};class Ih{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Tk(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Ay(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),s=(p,f,h,y)=>p==="x"?f:p==="r"?y:h,i=n.xAxisID=Gt(r.xAxisID,Ak(e,"x")),a=n.yAxisID=Gt(r.yAxisID,Ak(e,"y")),o=n.rAxisID=Gt(r.rAxisID,Ak(e,"r")),l=n.indexAxis,u=n.iAxisID=s(l,i,a,o),d=n.vAxisID=s(l,a,i,o);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(o),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&B$(this._data,this),e._stacked&&Ay(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(tn(n)){const s=this._cachedMeta;this._data=c_e(n,s)}else if(r!==n){if(r){B$(r,this);const s=this._cachedMeta;Ay(s),s._parsed=[]}n&&Object.isExtensible(n)&&J4e(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const i=n._stacked;n._stacked=Tk(n.vScale,n),n.stack!==r.stack&&(s=!0,Ay(n),n.stack=r.stack),this._resyncElements(e),(s||i!==n._stacked)&&(s8(this,n._parsed),n._stacked=Tk(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:s}=this,{iScale:i,_stacked:a}=r,o=i.axis;let l=e===0&&n===s.length?!0:r._sorted,u=e>0&&r._parsed[e-1],d,p,f;if(this._parsing===!1)r._parsed=s,r._sorted=!0,f=s;else{gr(s[e])?f=this.parseArrayData(r,s,e,n):tn(s[e])?f=this.parseObjectData(r,s,e,n):f=this.parsePrimitiveData(r,s,e,n);const h=()=>p[o]===null||u&&p[o]<u[o];for(d=0;d<n;++d)r._parsed[d+e]=p=f[d],l&&(h()&&(l=!1),u=p);r._sorted=l}a&&s8(this,f)}parsePrimitiveData(e,n,r,s){const{iScale:i,vScale:a}=e,o=i.axis,l=a.axis,u=i.getLabels(),d=i===a,p=new Array(s);let f,h,y;for(f=0,h=s;f<h;++f)y=f+r,p[f]={[o]:d||i.parse(u[y],y),[l]:a.parse(n[y],y)};return p}parseArrayData(e,n,r,s){const{xScale:i,yScale:a}=e,o=new Array(s);let l,u,d,p;for(l=0,u=s;l<u;++l)d=l+r,p=n[d],o[l]={x:i.parse(p[0],d),y:a.parse(p[1],d)};return o}parseObjectData(e,n,r,s){const{xScale:i,yScale:a}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,u=new Array(s);let d,p,f,h;for(d=0,p=s;d<p;++d)f=d+r,h=n[f],u[d]={x:i.parse(cm(h,o),f),y:a.parse(cm(h,l),f)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const s=this.chart,i=this._cachedMeta,a=n[e.axis],o={keys:TQ(s,!0),values:n._stacks[e.axis]._visualValues};return n8(o,a,i.index,{mode:r})}updateRangeFromParsed(e,n,r,s){const i=r[n.axis];let a=i===null?NaN:i;const o=s&&r._stacks[n.axis];s&&o&&(s.values=o,a=n8(s,i,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,n){const r=this._cachedMeta,s=r._parsed,i=r._sorted&&e===r.iScale,a=s.length,o=this._getOtherScale(e),l=m_e(n,r,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:p}=d_e(o);let f,h;function y(){h=s[f];const m=h[o.axis];return!Es(h[e.axis])||d>m||p<m}for(f=0;f<a&&!(!y()&&(this.updateRangeFromParsed(u,e,h,l),i));++f);if(i){for(f=a-1;f>=0;--f)if(!y()){this.updateRangeFromParsed(u,e,h,l);break}}return u}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let s,i,a;for(s=0,i=n.length;s<i;++s)a=n[s][e.axis],Es(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,s=n.vScale,i=this.getParsed(e);return{label:r?""+r.getLabelForValue(i[r.axis]):"",value:s?""+s.getLabelForValue(i[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=l_e(Gt(this.options.clip,o_e(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,s=r.data||[],i=n.chartArea,a=[],o=this._drawStart||0,l=this._drawCount||s.length-o,u=this.options.drawActiveElementsOnTop;let d;for(r.dataset&&r.dataset.draw(e,i,o,l),d=o;d<o+l;++d){const p=s[d];p.hidden||(p.active&&u?a.push(p):p.draw(e,i))}for(d=0;d<a.length;++d)a[d].draw(e,i)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const s=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];i=a.$context||(a.$context=h_e(this.getContext(),e,a)),i.parsed=this.getParsed(e),i.raw=s.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=f_e(this.chart.getContext(),this.index)),i.dataset=s,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=r,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const s=n==="active",i=this._cachedDataOpts,a=e+"-"+n,o=i[a],l=this.enableOptionSharing&&K0(r);if(o)return i8(o,l);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,e),p=s?[`${e}Hover`,"hover",e,""]:[e,""],f=u.getOptionScopes(this.getDataset(),d),h=Object.keys(ar.elements[e]),y=()=>this.getContext(r,s,n),m=u.resolveNamedOptions(f,h,y,p);return m.$shared&&(m.$shared=l,i[a]=Object.freeze(i8(m,l))),m}_resolveAnimations(e,n,r){const s=this.chart,i=this._cachedDataOpts,a=`animation-${n}`,o=i[a];if(o)return o;let l;if(s.options.animation!==!1){const d=this.chart.config,p=d.datasetAnimationScopeKeys(this._type,n),f=d.getOptionScopes(this.getDataset(),p);l=d.createResolver(f,this.getContext(e,r,n))}const u=new xQ(s,l&&l.animations);return l&&l._cacheable&&(i[a]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Ik(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),s=this._sharedOptions,i=this.getSharedOptions(r),a=this.includeOptions(n,i)||i!==s;return this.updateSharedOptions(i,n,r),{sharedOptions:i,includeOptions:a}}updateElement(e,n,r,s){Ik(s)?Object.assign(e,r):this._resolveAnimations(n,s).update(e,r)}updateSharedOptions(e,n,r){e&&!Ik(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,s){e.active=s;const i=this.getStyle(n,s);this._resolveAnimations(n,r,s).update(e,{options:!s&&this.getSharedOptions(i)||i})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[o,l,u]of this._syncList)this[o](l,u);this._syncList=[];const s=r.length,i=n.length,a=Math.min(i,s);a&&this.parse(0,a),i>s?this._insertElements(s,i-s,e):i<s&&this._removeElements(i,s-i)}_insertElements(e,n,r=!0){const s=this._cachedMeta,i=s.data,a=e+n;let o;const l=u=>{for(u.length+=n,o=u.length-1;o>=a;o--)u[o]=u[o-n]};for(l(i),o=e;o<a;++o)i[o]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(e,n),r&&this.updateElements(i,e,n,"reset")}updateElements(e,n,r,s){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(e,n);r._stacked&&Ay(r,s)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,s]=e;this[n](r,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Ke(Ih,"defaults",{}),Ke(Ih,"datasetElementType",null),Ke(Ih,"dataElementType",null);function y_e(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let s=0,i=n.length;s<i;s++)r=r.concat(n[s].controller.getAllParsedValues(t));t._cache.$bar=tQ(r.sort((s,i)=>s-i))}return t._cache.$bar}function g_e(t){const e=t.iScale,n=y_e(e,t.type);let r=e._length,s,i,a,o;const l=()=>{a===32767||a===-32768||(K0(o)&&(r=Math.min(r,Math.abs(a-o)||r)),o=a)};for(s=0,i=n.length;s<i;++s)a=e.getPixelForValue(n[s]),l();for(o=void 0,s=0,i=e.ticks.length;s<i;++s)a=e.getPixelForTick(s),l();return r}function v_e(t,e,n,r){const s=n.barThickness;let i,a;return un(s)?(i=e.min*n.categoryPercentage,a=n.barPercentage):(i=s*r,a=1),{chunk:i/r,ratio:a,start:e.pixels[t]-i/2}}function b_e(t,e,n,r){const s=e.pixels,i=s[t];let a=t>0?s[t-1]:null,o=t<s.length-1?s[t+1]:null;const l=n.categoryPercentage;a===null&&(a=i-(o===null?e.end-e.start:o-i)),o===null&&(o=i+i-a);const u=i-(i-Math.min(a,o))/2*l;return{chunk:Math.abs(o-a)/2*l/r,ratio:n.barPercentage,start:u}}function w_e(t,e,n,r){const s=n.parse(t[0],r),i=n.parse(t[1],r),a=Math.min(s,i),o=Math.max(s,i);let l=a,u=o;Math.abs(a)>Math.abs(o)&&(l=o,u=a),e[n.axis]=u,e._custom={barStart:l,barEnd:u,start:s,end:i,min:a,max:o}}function AQ(t,e,n,r){return gr(t)?w_e(t,e,n,r):e[n.axis]=n.parse(t,r),e}function a8(t,e,n,r){const s=t.iScale,i=t.vScale,a=s.getLabels(),o=s===i,l=[];let u,d,p,f;for(u=n,d=n+r;u<d;++u)f=e[u],p={},p[s.axis]=o||s.parse(a[u],u),l.push(AQ(f,p,i,u));return l}function kk(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function x_e(t,e,n){return t!==0?sl(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function T_e(t){let e,n,r,s,i;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(s="end",i="start"):(s="start",i="end"),{start:n,end:r,reverse:e,top:s,bottom:i}}function A_e(t,e,n,r){let s=e.borderSkipped;const i={};if(!s){t.borderSkipped=i;return}if(s===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:o,reverse:l,top:u,bottom:d}=T_e(t);s==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?s=u:(n._bottom||0)===r?s=d:(i[o8(d,a,o,l)]=!0,s=u)),i[o8(s,a,o,l)]=!0,t.borderSkipped=i}function o8(t,e,n,r){return r?(t=I_e(t,e,n),t=l8(t,n,e)):t=l8(t,e,n),t}function I_e(t,e,n){return t===e?n:t===n?e:t}function l8(t,e,n){return t==="start"?e:t==="end"?n:t}function k_e(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class qw extends Ih{parsePrimitiveData(e,n,r,s){return a8(e,n,r,s)}parseArrayData(e,n,r,s){return a8(e,n,r,s)}parseObjectData(e,n,r,s){const{iScale:i,vScale:a}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,u=i.axis==="x"?o:l,d=a.axis==="x"?o:l,p=[];let f,h,y,m;for(f=r,h=r+s;f<h;++f)m=n[f],y={},y[i.axis]=i.parse(cm(m,u),f),p.push(AQ(cm(m,d),y,a,f));return p}updateRangeFromParsed(e,n,r,s){super.updateRangeFromParsed(e,n,r,s);const i=r._custom;i&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:s}=n,i=this.getParsed(e),a=i._custom,o=kk(a)?"["+a.start+", "+a.end+"]":""+s.getLabelForValue(i[s.axis]);return{label:""+r.getLabelForValue(i[r.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,s){const i=s==="reset",{index:a,_cachedMeta:{vScale:o}}=this,l=o.getBasePixel(),u=o.isHorizontal(),d=this._getRuler(),{sharedOptions:p,includeOptions:f}=this._getSharedOptions(n,s);for(let h=n;h<n+r;h++){const y=this.getParsed(h),m=i||un(y[o.axis])?{base:l,head:l}:this._calculateBarValuePixels(h),g=this._calculateBarIndexPixels(h,d),v=(y._stacks||{})[o.axis],b={horizontal:u,base:m.base,enableBorderRadius:!v||kk(y._custom)||a===v._top||a===v._bottom,x:u?m.head:g.center,y:u?g.center:m.head,height:u?g.size:Math.abs(m.size),width:u?Math.abs(m.size):g.size};f&&(b.options=p||this.resolveDataElementOptions(h,e[h].active?"active":s));const w=b.options||e[h].options;A_e(b,w,v,a),k_e(b,w,d.ratio),this.updateElement(e[h],h,b,s)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),i=r.options.stacked,a=[],o=this._cachedMeta.controller.getParsed(n),l=o&&o[r.axis],u=d=>{const p=d._parsed.find(h=>h[r.axis]===l),f=p&&p[d.vScale.axis];if(un(f)||isNaN(f))return!0};for(const d of s)if(!(n!==void 0&&u(d))&&((i===!1||a.indexOf(d.stack)===-1||i===void 0&&d.stack===void 0)&&a.push(d.stack),d.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)e[Gt(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,r){const s=this._getStacks(e,r),i=n!==void 0?s.indexOf(n):-1;return i===-1?s.length-1:i}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,s=[];let i,a;for(i=0,a=n.data.length;i<a;++i)s.push(r.getPixelForValue(this.getParsed(i)[r.axis],i));const o=e.barThickness;return{min:o||g_e(n),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r,index:s},options:{base:i,minBarLength:a}}=this,o=i||0,l=this.getParsed(e),u=l._custom,d=kk(u);let p=l[n.axis],f=0,h=r?this.applyStack(n,l,r):p,y,m;h!==p&&(f=h-p,h=p),d&&(p=u.barStart,h=u.barEnd-u.barStart,p!==0&&sl(p)!==sl(u.barEnd)&&(f=0),f+=p);const g=!un(i)&&!d?i:f;let v=n.getPixelForValue(g);if(this.chart.getDataVisibility(e)?y=n.getPixelForValue(f+h):y=v,m=y-v,Math.abs(m)<a){m=x_e(m,n,o)*a,p===o&&(v-=m/2);const b=n.getPixelForDecimal(0),w=n.getPixelForDecimal(1),A=Math.min(b,w),I=Math.max(b,w);v=Math.max(Math.min(v,I),A),y=v+m,r&&!d&&(l._stacks[n.axis]._visualValues[s]=n.getValueForPixel(y)-n.getValueForPixel(v))}if(v===n.getPixelForValue(o)){const b=sl(m)*n.getLineWidthForValue(o)/2;v+=b,m-=b}return{size:m,base:v,head:y,center:y+m/2}}_calculateBarIndexPixels(e,n){const r=n.scale,s=this.options,i=s.skipNull,a=Gt(s.maxBarThickness,1/0);let o,l;const u=this._getAxisCount();if(n.grouped){const d=i?this._getStackCount(e):n.stackCount,p=s.barThickness==="flex"?b_e(e,n,s,d*u):v_e(e,n,s,d*u),f=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,h=this._getAxis().indexOf(Gt(f,this.getFirstScaleIdForIndexAxis())),y=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+h;o=p.start+p.chunk*y+p.chunk/2,l=Math.min(a,p.chunk*p.ratio)}else o=r.getPixelForValue(this.getParsed(e)[r.axis],e),l=Math.min(a,n.min*n.ratio);return{base:o-l/2,head:o+l/2,center:o,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,s=r.length;let i=0;for(;i<s;++i)this.getParsed(i)[n.axis]!==null&&!r[i].hidden&&r[i].draw(this._ctx)}}Ke(qw,"id","bar"),Ke(qw,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Ke(qw,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Xw extends Ih{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:s=[],_dataset:i}=n,a=this.chart._animationsDisabled;let{start:o,count:l}=tDe(n,s,a);this._drawStart=o,this._drawCount=l,nDe(n)&&(o=0,l=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!i._decimated,r.points=s;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:u},e),this.updateElements(s,o,l,e)}updateElements(e,n,r,s){const i=s==="reset",{iScale:a,vScale:o,_stacked:l,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:p}=this._getSharedOptions(n,s),f=a.axis,h=o.axis,{spanGaps:y,segment:m}=this.options,g=Y0(y)?y:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||i||s==="none",b=n+r,w=e.length;let A=n>0&&this.getParsed(n-1);for(let I=0;I<w;++I){const C=e[I],E=v?C:{};if(I<n||I>=b){E.skip=!0;continue}const N=this.getParsed(I),_=un(N[h]),U=E[f]=a.getPixelForValue(N[f],I),$=E[h]=i||_?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,N,l):N[h],I);E.skip=isNaN(U)||isNaN($)||_,E.stop=I>0&&Math.abs(N[f]-A[f])>g,m&&(E.parsed=N,E.raw=u.data[I]),p&&(E.options=d||this.resolveDataElementOptions(I,C.active?"active":s)),v||this.updateElement(C,I,E,s),A=N}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,s=e.data||[];if(!s.length)return r;const i=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,i,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Ke(Xw,"id","line"),Ke(Xw,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Ke(Xw,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Rd(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class OP{constructor(e){Ke(this,"options");this.options=e||{}}static override(e){Object.assign(OP.prototype,e)}init(){}formats(){return Rd()}parse(){return Rd()}format(){return Rd()}add(){return Rd()}diff(){return Rd()}startOf(){return Rd()}endOf(){return Rd()}}var C_e={_date:OP};function E_e(t,e,n,r){const{controller:s,data:i,_sorted:a}=t,o=s._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(o&&e===o.axis&&e!=="r"&&a&&i.length){const u=o._reversePixels?X4e:sp;if(r){if(s._sharedOptions){const d=i[0],p=typeof d.getRange=="function"&&d.getRange(e);if(p){const f=u(i,e,n-p),h=u(i,e,n+p);return{lo:f.lo,hi:h.hi}}}}else{const d=u(i,e,n);if(l){const{vScale:p}=s._cachedMeta,{_parsed:f}=t,h=f.slice(0,d.lo+1).reverse().findIndex(m=>!un(m[p.axis]));d.lo-=Math.max(0,h);const y=f.slice(d.hi).findIndex(m=>!un(m[p.axis]));d.hi+=Math.max(0,y)}return d}}return{lo:0,hi:i.length-1}}function Hv(t,e,n,r,s){const i=t.getSortedVisibleDatasetMetas(),a=n[e];for(let o=0,l=i.length;o<l;++o){const{index:u,data:d}=i[o],{lo:p,hi:f}=E_e(i[o],e,a,s);for(let h=p;h<=f;++h){const y=d[h];y.skip||r(y,u,h)}}}function N_e(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,s){const i=e?Math.abs(r.x-s.x):0,a=n?Math.abs(r.y-s.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(a,2))}}function Ck(t,e,n,r,s){const i=[];return!s&&!t.isPointInArea(e)||Hv(t,n,e,function(o,l,u){!s&&!q0(o,t.chartArea,0)||o.inRange(e.x,e.y,r)&&i.push({element:o,datasetIndex:l,index:u})},!0),i}function S_e(t,e,n,r){let s=[];function i(a,o,l){const{startAngle:u,endAngle:d}=a.getProps(["startAngle","endAngle"],r),{angle:p}=K4e(a,{x:e.x,y:e.y});QJ(p,u,d)&&s.push({element:a,datasetIndex:o,index:l})}return Hv(t,n,e,i),s}function R_e(t,e,n,r,s,i){let a=[];const o=N_e(n);let l=Number.POSITIVE_INFINITY;function u(d,p,f){const h=d.inRange(e.x,e.y,s);if(r&&!h)return;const y=d.getCenterPoint(s);if(!(!!i||t.isPointInArea(y))&&!h)return;const g=o(e,y);g<l?(a=[{element:d,datasetIndex:p,index:f}],l=g):g===l&&a.push({element:d,datasetIndex:p,index:f})}return Hv(t,n,e,u),a}function Ek(t,e,n,r,s,i){return!i&&!t.isPointInArea(e)?[]:n==="r"&&!r?S_e(t,e,n,s):R_e(t,e,n,r,s,i)}function c8(t,e,n,r,s){const i=[],a=n==="x"?"inXRange":"inYRange";let o=!1;return Hv(t,n,e,(l,u,d)=>{l[a]&&l[a](e[n],s)&&(i.push({element:l,datasetIndex:u,index:d}),o=o||l.inRange(e.x,e.y,s))}),r&&!o?[]:i}var M_e={evaluateInteractionItems:Hv,modes:{index(t,e,n,r){const s=Od(e,t),i=n.axis||"x",a=n.includeInvisible||!1,o=n.intersect?Ck(t,s,i,r,a):Ek(t,s,i,!1,r,a),l=[];return o.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const d=o[0].index,p=u.data[d];p&&!p.skip&&l.push({element:p,datasetIndex:u.index,index:d})}),l):[]},dataset(t,e,n,r){const s=Od(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;let o=n.intersect?Ck(t,s,i,r,a):Ek(t,s,i,!1,r,a);if(o.length>0){const l=o[0].datasetIndex,u=t.getDatasetMeta(l).data;o=[];for(let d=0;d<u.length;++d)o.push({element:u[d],datasetIndex:l,index:d})}return o},point(t,e,n,r){const s=Od(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;return Ck(t,s,i,r,a)},nearest(t,e,n,r){const s=Od(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;return Ek(t,s,i,n.intersect,r,a)},x(t,e,n,r){const s=Od(e,t);return c8(t,s,"x",n.intersect,r)},y(t,e,n,r){const s=Od(e,t);return c8(t,s,"y",n.intersect,r)}}};const IQ=["left","top","right","bottom"];function Iy(t,e){return t.filter(n=>n.pos===e)}function u8(t,e){return t.filter(n=>IQ.indexOf(n.pos)===-1&&n.box.axis===e)}function ky(t,e){return t.sort((n,r)=>{const s=e?r:n,i=e?n:r;return s.weight===i.weight?s.index-i.index:s.weight-i.weight})}function P_e(t){const e=[];let n,r,s,i,a,o;for(n=0,r=(t||[]).length;n<r;++n)s=t[n],{position:i,options:{stack:a,stackWeight:o=1}}=s,e.push({index:n,box:s,pos:i,horizontal:s.isHorizontal(),weight:s.weight,stack:a&&i+a,stackWeight:o});return e}function j_e(t){const e={};for(const n of t){const{stack:r,pos:s,stackWeight:i}=n;if(!r||!IQ.includes(s))continue;const a=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=i}return e}function D_e(t,e){const n=j_e(t),{vBoxMaxWidth:r,hBoxMaxHeight:s}=e;let i,a,o;for(i=0,a=t.length;i<a;++i){o=t[i];const{fullSize:l}=o.box,u=n[o.stack],d=u&&o.stackWeight/u.weight;o.horizontal?(o.width=d?d*r:l&&e.availableWidth,o.height=s):(o.width=r,o.height=d?d*s:l&&e.availableHeight)}return n}function __e(t){const e=P_e(t),n=ky(e.filter(u=>u.box.fullSize),!0),r=ky(Iy(e,"left"),!0),s=ky(Iy(e,"right")),i=ky(Iy(e,"top"),!0),a=ky(Iy(e,"bottom")),o=u8(e,"x"),l=u8(e,"y");return{fullSize:n,leftAndTop:r.concat(i),rightAndBottom:s.concat(l).concat(a).concat(o),chartArea:Iy(e,"chartArea"),vertical:r.concat(s).concat(l),horizontal:i.concat(a).concat(o)}}function d8(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function kQ(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function L_e(t,e,n,r){const{pos:s,box:i}=n,a=t.maxPadding;if(!tn(s)){n.size&&(t[s]-=n.size);const p=r[n.stack]||{size:0,count:1};p.size=Math.max(p.size,n.horizontal?i.height:i.width),n.size=p.size/p.count,t[s]+=n.size}i.getPadding&&kQ(a,i.getPadding());const o=Math.max(0,e.outerWidth-d8(a,t,"left","right")),l=Math.max(0,e.outerHeight-d8(a,t,"top","bottom")),u=o!==t.w,d=l!==t.h;return t.w=o,t.h=l,n.horizontal?{same:u,other:d}:{same:d,other:u}}function O_e(t){const e=t.maxPadding;function n(r){const s=Math.max(e[r]-t[r],0);return t[r]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function $_e(t,e){const n=e.maxPadding;function r(s){const i={left:0,top:0,right:0,bottom:0};return s.forEach(a=>{i[a]=Math.max(e[a],n[a])}),i}return r(t?["left","right"]:["top","bottom"])}function $y(t,e,n,r){const s=[];let i,a,o,l,u,d;for(i=0,a=t.length,u=0;i<a;++i){o=t[i],l=o.box,l.update(o.width||e.w,o.height||e.h,$_e(o.horizontal,e));const{same:p,other:f}=L_e(e,n,o,r);u|=p&&s.length,d=d||f,l.fullSize||s.push(o)}return u&&$y(s,e,n,r)||d}function Xb(t,e,n,r,s){t.top=n,t.left=e,t.right=e+r,t.bottom=n+s,t.width=r,t.height=s}function p8(t,e,n,r){const s=n.padding;let{x:i,y:a}=e;for(const o of t){const l=o.box,u=r[o.stack]||{count:1,placed:0,weight:1},d=o.stackWeight/u.weight||1;if(o.horizontal){const p=e.w*d,f=u.size||l.height;K0(u.start)&&(a=u.start),l.fullSize?Xb(l,s.left,a,n.outerWidth-s.right-s.left,f):Xb(l,e.left+u.placed,a,p,f),u.start=a,u.placed+=p,a=l.bottom}else{const p=e.h*d,f=u.size||l.width;K0(u.start)&&(i=u.start),l.fullSize?Xb(l,i,s.top,f,n.outerHeight-s.bottom-s.top):Xb(l,i,e.top+u.placed,f,p),u.start=i,u.placed+=p,i=l.right}}e.x=i,e.y=a}var pa={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const s=wa(t.options.layout.padding),i=Math.max(e-s.width,0),a=Math.max(n-s.height,0),o=__e(t.boxes),l=o.vertical,u=o.horizontal;pn(t.boxes,m=>{typeof m.beforeLayout=="function"&&m.beforeLayout()});const d=l.reduce((m,g)=>g.box.options&&g.box.options.display===!1?m:m+1,0)||1,p=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:i,availableHeight:a,vBoxMaxWidth:i/2/d,hBoxMaxHeight:a/2}),f=Object.assign({},s);kQ(f,wa(r));const h=Object.assign({maxPadding:f,w:i,h:a,x:s.left,y:s.top},s),y=D_e(l.concat(u),p);$y(o.fullSize,h,p,y),$y(l,h,p,y),$y(u,h,p,y)&&$y(l,h,p,y),O_e(h),p8(o.leftAndTop,h,p,y),h.x+=h.w,h.y+=h.h,p8(o.rightAndBottom,h,p,y),t.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h,height:h.h,width:h.w},pn(o.chartArea,m=>{const g=m.box;Object.assign(g,t.chartArea),g.update(h.w,h.h,{left:0,top:0,right:0,bottom:0})})}};class CQ{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,s){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):r)}}isAttached(e){return!0}updateConfig(e){}}class F_e extends CQ{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Zw="$chartjs",B_e={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},f8=t=>t===null||t==="";function U_e(t,e){const n=t.style,r=t.getAttribute("height"),s=t.getAttribute("width");if(t[Zw]={initial:{height:r,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",f8(s)){const i=X$(t,"width");i!==void 0&&(t.width=i)}if(f8(r))if(t.style.height==="")t.height=t.width/(e||2);else{const i=X$(t,"height");i!==void 0&&(t.height=i)}return t}const EQ=HDe?{passive:!0}:!1;function z_e(t,e,n){t&&t.addEventListener(e,n,EQ)}function V_e(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,EQ)}function H_e(t,e){const n=B_e[t.type]||t.type,{x:r,y:s}=Od(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:s!==void 0?s:null}}function D1(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function W_e(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let a=!1;for(const o of i)a=a||D1(o.addedNodes,r),a=a&&!D1(o.removedNodes,r);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function G_e(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let a=!1;for(const o of i)a=a||D1(o.removedNodes,r),a=a&&!D1(o.addedNodes,r);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const Z0=new Map;let h8=0;function NQ(){const t=window.devicePixelRatio;t!==h8&&(h8=t,Z0.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function K_e(t,e){Z0.size||window.addEventListener("resize",NQ),Z0.set(t,e)}function Y_e(t){Z0.delete(t),Z0.size||window.removeEventListener("resize",NQ)}function q_e(t,e,n){const r=t.canvas,s=r&&LP(r);if(!s)return;const i=rQ((o,l)=>{const u=s.clientWidth;n(o,l),u<s.clientWidth&&n()},window),a=new ResizeObserver(o=>{const l=o[0],u=l.contentRect.width,d=l.contentRect.height;u===0&&d===0||i(u,d)});return a.observe(s),K_e(t,i),a}function Nk(t,e,n){n&&n.disconnect(),e==="resize"&&Y_e(t)}function X_e(t,e,n){const r=t.canvas,s=rQ(i=>{t.ctx!==null&&n(H_e(i,t))},t);return z_e(r,e,s),s}class Z_e extends CQ{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(U_e(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[Zw])return!1;const r=n[Zw].initial;["height","width"].forEach(i=>{const a=r[i];un(a)?n.removeAttribute(i):n.setAttribute(i,a)});const s=r.style||{};return Object.keys(s).forEach(i=>{n.style[i]=s[i]}),n.width=n.width,delete n[Zw],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),a={attach:W_e,detach:G_e,resize:q_e}[n]||X_e;s[n]=a(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),s=r[n];if(!s)return;({attach:Nk,detach:Nk,resize:Nk}[n]||V_e)(e,n,s),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,s){return VDe(e,n,r,s)}isAttached(e){const n=e&&LP(e);return!!(n&&n.isConnected)}}function J_e(t){return!_P()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?F_e:Z_e}var aw;let Id=(aw=class{constructor(){Ke(this,"x");Ke(this,"y");Ke(this,"active",!1);Ke(this,"options");Ke(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return Y0(this.x)&&Y0(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const s={};return e.forEach(i=>{s[i]=r[i]&&r[i].active()?r[i]._to:this[i]}),s}},Ke(aw,"defaults",{}),Ke(aw,"defaultRoutes"),aw);function Q_e(t,e){const n=t.options.ticks,r=eLe(t),s=Math.min(n.maxTicksLimit||r,r),i=n.major.enabled?nLe(e):[],a=i.length,o=i[0],l=i[a-1],u=[];if(a>s)return rLe(e,u,i,a/s),u;const d=tLe(i,e,s);if(a>0){let p,f;const h=a>1?Math.round((l-o)/(a-1)):null;for(Zb(e,u,d,un(h)?0:o-h,o),p=0,f=a-1;p<f;p++)Zb(e,u,d,i[p],i[p+1]);return Zb(e,u,d,l,un(h)?e.length:l+h),u}return Zb(e,u,d),u}function eLe(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(r,s))}function tLe(t,e,n){const r=sLe(t),s=e.length/n;if(!r)return Math.max(s,1);const i=z4e(r);for(let a=0,o=i.length-1;a<o;a++){const l=i[a];if(l>s)return l}return Math.max(s,1)}function nLe(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function rLe(t,e,n,r){let s=0,i=n[0],a;for(r=Math.ceil(r),a=0;a<t.length;a++)a===i&&(e.push(t[a]),s++,i=n[s*r])}function Zb(t,e,n,r,s){const i=Gt(r,0),a=Math.min(Gt(s,t.length),t.length);let o=0,l,u,d;for(n=Math.ceil(n),s&&(l=s-r,n=l/Math.floor(l/n)),d=i;d<0;)o++,d=Math.round(i+o*n);for(u=Math.max(i,0);u<a;u++)u===d&&(e.push(t[u]),o++,d=Math.round(i+o*n))}function sLe(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const iLe=t=>t==="left"?"right":t==="right"?"left":t,m8=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,y8=(t,e)=>Math.min(e||t,t);function g8(t,e){const n=[],r=t.length/e,s=t.length;let i=0;for(;i<s;i+=r)n.push(t[Math.floor(i)]);return n}function aLe(t,e,n){const r=t.ticks.length,s=Math.min(e,r-1),i=t._startPixel,a=t._endPixel,o=1e-6;let l=t.getPixelForTick(s),u;if(!(n&&(r===1?u=Math.max(l-i,a-l):e===0?u=(t.getPixelForTick(1)-l)/2:u=(l-t.getPixelForTick(s-1))/2,l+=s<e?u:-u,l<i-o||l>a+o)))return l}function oLe(t,e){pn(t,n=>{const r=n.gc,s=r.length/2;let i;if(s>e){for(i=0;i<s;++i)delete n.data[r[i]];r.splice(0,s)}})}function Cy(t){return t.drawTicks?t.tickLength:0}function v8(t,e){if(!t.display)return 0;const n=Is(t.font,e),r=wa(t.padding);return(gr(t.text)?t.text.length:1)*n.lineHeight+r.height}function lLe(t,e){return pf(t,{scale:e,type:"scale"})}function cLe(t,e,n){return pf(t,{tick:n,index:e,type:"tick"})}function uLe(t,e,n){let r=RP(t);return(n&&e!=="right"||!n&&e==="right")&&(r=iLe(r)),r}function dLe(t,e,n,r){const{top:s,left:i,bottom:a,right:o,chart:l}=t,{chartArea:u,scales:d}=l;let p=0,f,h,y;const m=a-s,g=o-i;if(t.isHorizontal()){if(h=us(r,i,o),tn(n)){const v=Object.keys(n)[0],b=n[v];y=d[v].getPixelForValue(b)+m-e}else n==="center"?y=(u.bottom+u.top)/2+m-e:y=m8(t,n,e);f=o-i}else{if(tn(n)){const v=Object.keys(n)[0],b=n[v];h=d[v].getPixelForValue(b)-g+e}else n==="center"?h=(u.left+u.right)/2-g+e:h=m8(t,n,e);y=us(r,a,s),p=n==="left"?-Za:Za}return{titleX:h,titleY:y,maxWidth:f,rotation:p}}class Ym extends Id{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:s}=this;return e=Ao(e,Number.POSITIVE_INFINITY),n=Ao(n,Number.NEGATIVE_INFINITY),r=Ao(r,Number.POSITIVE_INFINITY),s=Ao(s,Number.NEGATIVE_INFINITY),{min:Ao(e,r),max:Ao(n,s),minDefined:Es(e),maxDefined:Es(n)}}getMinMax(e){let{min:n,max:r,minDefined:s,maxDefined:i}=this.getUserBounds(),a;if(s&&i)return{min:n,max:r};const o=this.getMatchingVisibleMetas();for(let l=0,u=o.length;l<u;++l)a=o[l].controller.getMinMax(this,e),s||(n=Math.min(n,a.min)),i||(r=Math.max(r,a.max));return n=i&&n>r?r:n,r=s&&n>r?n:r,{min:Ao(n,Ao(r,n)),max:Ao(r,Ao(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Cn(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:s,grace:i,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=xDe(this,i,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=o<this.ticks.length;this._convertTicksToLabels(l?g8(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=Q_e(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Cn(this.options.afterUpdate,[this])}beforeSetDimensions(){Cn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Cn(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Cn(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Cn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,s,i;for(r=0,s=e.length;r<s;r++)i=e[r],i.label=Cn(n.callback,[i.value,r,e],this)}afterTickToLabelConversion(){Cn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Cn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=y8(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,i=n.maxRotation;let a=s,o,l,u;if(!this._isVisible()||!n.display||s>=i||r<=1||!this.isHorizontal()){this.labelRotation=s;return}const d=this._getLabelSizes(),p=d.widest.width,f=d.highest.height,h=Li(this.chart.width-p,0,this.maxWidth);o=e.offset?this.maxWidth/r:h/(r-1),p+6>o&&(o=h/(r-(e.offset?.5:1)),l=this.maxHeight-Cy(e.grid)-n.padding-v8(e.title,this.chart.options.font),u=Math.sqrt(p*p+f*f),a=G4e(Math.min(Math.asin(Li((d.highest.height+6)/o,-1,1)),Math.asin(Li(l/u,-1,1))-Math.asin(Li(f/u,-1,1)))),a=Math.max(s,Math.min(i,a))),this.labelRotation=a}afterCalculateLabelRotation(){Cn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Cn(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:s,grid:i}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const l=v8(s,n.options.font);if(o?(e.width=this.maxWidth,e.height=Cy(i)+l):(e.height=this.maxHeight,e.width=Cy(i)+l),r.display&&this.ticks.length){const{first:u,last:d,widest:p,highest:f}=this._getLabelSizes(),h=r.padding*2,y=rp(this.labelRotation),m=Math.cos(y),g=Math.sin(y);if(o){const v=r.mirror?0:g*p.width+m*f.height;e.height=Math.min(this.maxHeight,e.height+v+h)}else{const v=r.mirror?0:m*p.width+g*f.height;e.width=Math.min(this.maxWidth,e.width+v+h)}this._calculatePadding(u,d,g,m)}}this._handleMargins(),o?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,s){const{ticks:{align:i,padding:a},position:o}=this.options,l=this.labelRotation!==0,u=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,p=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,h=0;l?u?(f=s*e.width,h=r*n.height):(f=r*e.height,h=s*n.width):i==="start"?h=n.width:i==="end"?f=e.width:i!=="inner"&&(f=e.width/2,h=n.width/2),this.paddingLeft=Math.max((f-d+a)*this.width/(this.width-d),0),this.paddingRight=Math.max((h-p+a)*this.width/(this.width-p),0)}else{let d=n.height/2,p=e.height/2;i==="start"?(d=0,p=e.height):i==="end"&&(d=n.height,p=0),this.paddingTop=d+a,this.paddingBottom=p+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Cn(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)un(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=g8(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:s,_longestTextCache:i}=this,a=[],o=[],l=Math.floor(n/y8(n,r));let u=0,d=0,p,f,h,y,m,g,v,b,w,A,I;for(p=0;p<n;p+=l){if(y=e[p].label,m=this._resolveTickFontOptions(p),s.font=g=m.string,v=i[g]=i[g]||{data:{},gc:[]},b=m.lineHeight,w=A=0,!un(y)&&!gr(y))w=W$(s,v.data,v.gc,w,y),A=b;else if(gr(y))for(f=0,h=y.length;f<h;++f)I=y[f],!un(I)&&!gr(I)&&(w=W$(s,v.data,v.gc,w,I),A+=b);a.push(w),o.push(A),u=Math.max(w,u),d=Math.max(A,d)}oLe(i,n);const C=a.indexOf(u),E=o.indexOf(d),N=_=>({width:a[_]||0,height:o[_]||0});return{first:N(0),last:N(n-1),widest:N(C),highest:N(E),widths:a,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return q4e(this._alignToPixels?Sd(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=cLe(this.getContext(),e,r))}return this.$context||(this.$context=lLe(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=rp(this.labelRotation),r=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),i=this._getLabelSizes(),a=e.autoSkipPadding||0,o=i?i.widest.width+a:0,l=i?i.highest.height+a:0;return this.isHorizontal()?l*r>o*s?o/r:l/s:l*s<o*r?l/r:o/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,s=this.options,{grid:i,position:a,border:o}=s,l=i.offset,u=this.isHorizontal(),p=this.ticks.length+(l?1:0),f=Cy(i),h=[],y=o.setContext(this.getContext()),m=y.display?y.width:0,g=m/2,v=function(M){return Sd(r,M,m)};let b,w,A,I,C,E,N,_,U,$,B,j;if(a==="top")b=v(this.bottom),E=this.bottom-f,_=b-g,$=v(e.top)+g,j=e.bottom;else if(a==="bottom")b=v(this.top),$=e.top,j=v(e.bottom)-g,E=b+g,_=this.top+f;else if(a==="left")b=v(this.right),C=this.right-f,N=b-g,U=v(e.left)+g,B=e.right;else if(a==="right")b=v(this.left),U=e.left,B=v(e.right)-g,C=b+g,N=this.left+f;else if(n==="x"){if(a==="center")b=v((e.top+e.bottom)/2+.5);else if(tn(a)){const M=Object.keys(a)[0],P=a[M];b=v(this.chart.scales[M].getPixelForValue(P))}$=e.top,j=e.bottom,E=b+g,_=E+f}else if(n==="y"){if(a==="center")b=v((e.left+e.right)/2);else if(tn(a)){const M=Object.keys(a)[0],P=a[M];b=v(this.chart.scales[M].getPixelForValue(P))}C=b-g,N=C-f,U=e.left,B=e.right}const x=Gt(s.ticks.maxTicksLimit,p),k=Math.max(1,Math.ceil(p/x));for(w=0;w<p;w+=k){const M=this.getContext(w),P=i.setContext(M),S=o.setContext(M),L=P.lineWidth,V=P.color,F=S.dash||[],R=S.dashOffset,z=P.tickWidth,Q=P.tickColor,O=P.tickBorderDash||[],H=P.tickBorderDashOffset;A=aLe(this,w,l),A!==void 0&&(I=Sd(r,A,L),u?C=N=U=B=I:E=_=$=j=I,h.push({tx1:C,ty1:E,tx2:N,ty2:_,x1:U,y1:$,x2:B,y2:j,width:L,color:V,borderDash:F,borderDashOffset:R,tickWidth:z,tickColor:Q,tickBorderDash:O,tickBorderDashOffset:H}))}return this._ticksLength=p,this._borderValue=b,h}_computeLabelItems(e){const n=this.axis,r=this.options,{position:s,ticks:i}=r,a=this.isHorizontal(),o=this.ticks,{align:l,crossAlign:u,padding:d,mirror:p}=i,f=Cy(r.grid),h=f+d,y=p?-d:h,m=-rp(this.labelRotation),g=[];let v,b,w,A,I,C,E,N,_,U,$,B,j="middle";if(s==="top")C=this.bottom-y,E=this._getXAxisLabelAlignment();else if(s==="bottom")C=this.top+y,E=this._getXAxisLabelAlignment();else if(s==="left"){const k=this._getYAxisLabelAlignment(f);E=k.textAlign,I=k.x}else if(s==="right"){const k=this._getYAxisLabelAlignment(f);E=k.textAlign,I=k.x}else if(n==="x"){if(s==="center")C=(e.top+e.bottom)/2+h;else if(tn(s)){const k=Object.keys(s)[0],M=s[k];C=this.chart.scales[k].getPixelForValue(M)+h}E=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")I=(e.left+e.right)/2-h;else if(tn(s)){const k=Object.keys(s)[0],M=s[k];I=this.chart.scales[k].getPixelForValue(M)}E=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?j="top":l==="end"&&(j="bottom"));const x=this._getLabelSizes();for(v=0,b=o.length;v<b;++v){w=o[v],A=w.label;const k=i.setContext(this.getContext(v));N=this.getPixelForTick(v)+i.labelOffset,_=this._resolveTickFontOptions(v),U=_.lineHeight,$=gr(A)?A.length:1;const M=$/2,P=k.color,S=k.textStrokeColor,L=k.textStrokeWidth;let V=E;a?(I=N,E==="inner"&&(v===b-1?V=this.options.reverse?"left":"right":v===0?V=this.options.reverse?"right":"left":V="center"),s==="top"?u==="near"||m!==0?B=-$*U+U/2:u==="center"?B=-x.highest.height/2-M*U+U:B=-x.highest.height+U/2:u==="near"||m!==0?B=U/2:u==="center"?B=x.highest.height/2-M*U:B=x.highest.height-$*U,p&&(B*=-1),m!==0&&!k.showLabelBackdrop&&(I+=U/2*Math.sin(m))):(C=N,B=(1-$)*U/2);let F;if(k.showLabelBackdrop){const R=wa(k.backdropPadding),z=x.heights[v],Q=x.widths[v];let O=B-R.top,H=0-R.left;switch(j){case"middle":O-=z/2;break;case"bottom":O-=z;break}switch(E){case"center":H-=Q/2;break;case"right":H-=Q;break;case"inner":v===b-1?H-=Q:v>0&&(H-=Q/2);break}F={left:H,top:O,width:Q+R.width,height:z+R.height,color:k.backdropColor}}g.push({label:A,font:_,textOffset:B,options:{rotation:m,color:P,strokeColor:S,strokeWidth:L,textAlign:V,textBaseline:j,translation:[I,C],backdrop:F}})}return g}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-rp(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:s,padding:i}}=this.options,a=this._getLabelSizes(),o=e+i,l=a.widest.width;let u,d;return n==="left"?s?(d=this.right+i,r==="near"?u="left":r==="center"?(u="center",d+=l/2):(u="right",d+=l)):(d=this.right-o,r==="near"?u="right":r==="center"?(u="center",d-=l/2):(u="left",d=this.left)):n==="right"?s?(d=this.left+i,r==="near"?u="right":r==="center"?(u="center",d-=l/2):(u="left",d-=l)):(d=this.left+o,r==="near"?u="left":r==="center"?(u="center",d+=l/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:s,width:i,height:a}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,s,i,a),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(i=>i.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,a;const o=(l,u,d)=>{!d.width||!d.color||(r.save(),r.lineWidth=d.width,r.strokeStyle=d.color,r.setLineDash(d.borderDash||[]),r.lineDashOffset=d.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(u.x,u.y),r.stroke(),r.restore())};if(n.display)for(i=0,a=s.length;i<a;++i){const l=s[i];n.drawOnChartArea&&o({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&o({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:s}}=this,i=r.setContext(this.getContext()),a=r.display?i.width:0;if(!a)return;const o=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let u,d,p,f;this.isHorizontal()?(u=Sd(e,this.left,a)-a/2,d=Sd(e,this.right,o)+o/2,p=f=l):(p=Sd(e,this.top,a)-a/2,f=Sd(e,this.bottom,o)+o/2,u=d=l),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(u,p),n.lineTo(d,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,s=this._computeLabelArea();s&&$2(r,s);const i=this.getLabelItems(e);for(const a of i){const o=a.options,l=a.font,u=a.label,d=a.textOffset;X0(r,u,0,d,l,o)}s&&F2(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:s}}=this;if(!r.display)return;const i=Is(r.font),a=wa(r.padding),o=r.align;let l=i.lineHeight/2;n==="bottom"||n==="center"||tn(n)?(l+=a.bottom,gr(r.text)&&(l+=i.lineHeight*(r.text.length-1))):l+=a.top;const{titleX:u,titleY:d,maxWidth:p,rotation:f}=dLe(this,l,n,o);X0(e,r.text,0,0,i,{color:r.color,maxWidth:p,rotation:f,textAlign:uLe(o,n,s),textBaseline:"middle",translation:[u,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=Gt(e.grid&&e.grid.z,-1),s=Gt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Ym.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",s=[];let i,a;for(i=0,a=n.length;i<a;++i){const o=n[i];o[r]===this.id&&(!e||o.type===e)&&s.push(o)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Is(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Jb{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;hLe(n)&&(r=this.register(n));const s=this.items,i=e.id,a=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in s||(s[i]=e,pLe(e,a,r),this.override&&ar.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,s=this.scope;r in n&&delete n[r],s&&r in ar[s]&&(delete ar[s][r],this.override&&delete Jp[r])}}function pLe(t,e,n){const r=G0(Object.create(null),[n?ar.get(n):{},ar.get(e),t.defaults]);ar.set(e,r),t.defaultRoutes&&fLe(e,t.defaultRoutes),t.descriptors&&ar.describe(e,t.descriptors)}function fLe(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),s=r.pop(),i=[t].concat(r).join("."),a=e[n].split("."),o=a.pop(),l=a.join(".");ar.route(i,s,l,o)})}function hLe(t){return"id"in t&&"defaults"in t}class mLe{constructor(){this.controllers=new Jb(Ih,"datasets",!0),this.elements=new Jb(Id,"elements"),this.plugins=new Jb(Object,"plugins"),this.scales=new Jb(Ym,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(s=>{const i=r||this._getRegistryForType(s);r||i.isForType(s)||i===this.plugins&&s.id?this._exec(e,i,s):pn(s,a=>{const o=r||this._getRegistryForType(a);this._exec(e,o,a)})})}_exec(e,n,r){const s=NP(e);Cn(r["before"+s],[],r),n[e](r),Cn(r["after"+s],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return s}}var So=new mLe;class yLe{constructor(){this._init=[]}notify(e,n,r,s){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=s?this._descriptors(e).filter(s):this._descriptors(e),a=this._notify(i,e,n,r);return n==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,n,r,s){s=s||{};for(const i of e){const a=i.plugin,o=a[r],l=[n,s,i.options];if(Cn(o,l,a)===!1&&s.cancelable)return!1}return!0}invalidate(){un(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,s=Gt(r.options&&r.options.plugins,{}),i=gLe(r);return s===!1&&!n?[]:bLe(e,i,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,s=(i,a)=>i.filter(o=>!a.some(l=>o.plugin.id===l.plugin.id));this._notify(s(n,r),e,"stop"),this._notify(s(r,n),e,"start")}}function gLe(t){const e={},n=[],r=Object.keys(So.plugins.items);for(let i=0;i<r.length;i++)n.push(So.getPlugin(r[i]));const s=t.plugins||[];for(let i=0;i<s.length;i++){const a=s[i];n.indexOf(a)===-1&&(n.push(a),e[a.id]=!0)}return{plugins:n,localIds:e}}function vLe(t,e){return!e&&t===!1?null:t===!0?{}:t}function bLe(t,{plugins:e,localIds:n},r,s){const i=[],a=t.getContext();for(const o of e){const l=o.id,u=vLe(r[l],s);u!==null&&i.push({plugin:o,options:wLe(t.config,{plugin:o,local:n[l]},u,a)})}return i}function wLe(t,{plugin:e,local:n},r,s){const i=t.pluginScopeKeys(e),a=t.getOptionScopes(r,i);return n&&e.defaults&&a.push(e.defaults),t.createResolver(a,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function bN(t,e){const n=ar.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function xLe(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function TLe(t,e){return t===e?"_index_":"_value_"}function b8(t){if(t==="x"||t==="y"||t==="r")return t}function ALe(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function wN(t,...e){if(b8(t))return t;for(const n of e){const r=n.axis||ALe(n.position)||t.length>1&&b8(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function w8(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function ILe(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return w8(t,"x",n[0])||w8(t,"y",n[0])}return{}}function kLe(t,e){const n=Jp[t.type]||{scales:{}},r=e.scales||{},s=bN(t.type,e),i=Object.create(null);return Object.keys(r).forEach(a=>{const o=r[a];if(!tn(o))return console.error(`Invalid scale configuration for scale: ${a}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const l=wN(a,o,ILe(a,t),ar.scales[o.type]),u=TLe(l,s),d=n.scales||{};i[a]=vg(Object.create(null),[{axis:l},o,d[l],d[u]])}),t.data.datasets.forEach(a=>{const o=a.type||t.type,l=a.indexAxis||bN(o,e),d=(Jp[o]||{}).scales||{};Object.keys(d).forEach(p=>{const f=xLe(p,l),h=a[f+"AxisID"]||f;i[h]=i[h]||Object.create(null),vg(i[h],[{axis:f},r[h],d[p]])})}),Object.keys(i).forEach(a=>{const o=i[a];vg(o,[ar.scales[o.type],ar.scale])}),i}function SQ(t){const e=t.options||(t.options={});e.plugins=Gt(e.plugins,{}),e.scales=kLe(t,e)}function RQ(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function CLe(t){return t=t||{},t.data=RQ(t.data),SQ(t),t}const x8=new Map,MQ=new Set;function Qb(t,e){let n=x8.get(t);return n||(n=e(),x8.set(t,n),MQ.add(n)),n}const Ey=(t,e,n)=>{const r=cm(e,n);r!==void 0&&t.add(r)};class ELe{constructor(e){this._config=CLe(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=RQ(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),SQ(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Qb(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Qb(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Qb(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return Qb(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let s=r.get(e);return(!s||n)&&(s=new Map,r.set(e,s)),s}getOptionScopes(e,n,r){const{options:s,type:i}=this,a=this._cachedScopes(e,r),o=a.get(n);if(o)return o;const l=new Set;n.forEach(d=>{e&&(l.add(e),d.forEach(p=>Ey(l,e,p))),d.forEach(p=>Ey(l,s,p)),d.forEach(p=>Ey(l,Jp[i]||{},p)),d.forEach(p=>Ey(l,ar,p)),d.forEach(p=>Ey(l,gN,p))});const u=Array.from(l);return u.length===0&&u.push(Object.create(null)),MQ.has(n)&&a.set(n,u),u}chartOptionScopes(){const{options:e,type:n}=this;return[e,Jp[n]||{},ar.datasets[n]||{},{type:n},ar,gN]}resolveNamedOptions(e,n,r,s=[""]){const i={$shared:!0},{resolver:a,subPrefixes:o}=T8(this._resolverCache,e,s);let l=a;if(SLe(a,n)){i.$shared=!1,r=ld(r)?r():r;const u=this.createResolver(e,r,o);l=um(a,r,u)}for(const u of n)i[u]=l[u];return i}createResolver(e,n,r=[""],s){const{resolver:i}=T8(this._resolverCache,e,r);return tn(n)?um(i,n,void 0,s):i}}function T8(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const s=n.join();let i=r.get(s);return i||(i={resolver:PP(e,n),subPrefixes:n.filter(o=>!o.toLowerCase().includes("hover"))},r.set(s,i)),i}const NLe=t=>tn(t)&&Object.getOwnPropertyNames(t).some(e=>ld(t[e]));function SLe(t,e){const{isScriptable:n,isIndexable:r}=uQ(t);for(const s of e){const i=n(s),a=r(s),o=(a||i)&&t[s];if(i&&(ld(o)||NLe(o))||a&&gr(o))return!0}return!1}var RLe="4.5.0";const MLe=["top","bottom","left","right","chartArea"];function A8(t,e){return t==="top"||t==="bottom"||MLe.indexOf(t)===-1&&e==="x"}function I8(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function k8(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Cn(n&&n.onComplete,[t],e)}function PLe(t){const e=t.chart,n=e.options.animation;Cn(n&&n.onProgress,[t],e)}function PQ(t){return _P()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Jw={},C8=t=>{const e=PQ(t);return Object.values(Jw).filter(n=>n.canvas===e).pop()};function jLe(t,e,n){const r=Object.keys(t);for(const s of r){const i=+s;if(i>=e){const a=t[s];delete t[s],(n>0||i>e)&&(t[i+n]=a)}}}function DLe(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}var Yc;let U2=(Yc=class{static register(...e){So.add(...e),E8()}static unregister(...e){So.remove(...e),E8()}constructor(e,n){const r=this.config=new ELe(n),s=PQ(e),i=C8(s);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||J_e(s)),this.platform.updateConfig(r);const o=this.platform.acquireContext(s,a.aspectRatio),l=o&&o.canvas,u=l&&l.height,d=l&&l.width;if(this.id=j4e(),this.ctx=o,this.canvas=l,this.width=d,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new yLe,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Q4e(p=>this.update(p),a.resizeDelay||0),this._dataChanges=[],Jw[this.id]=this,!o||!l){console.error("Failed to create chart: can't acquire context from the given item");return}El.listen(this,"complete",k8),El.listen(this,"progress",PLe),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:s,_aspectRatio:i}=this;return un(e)?n&&i?i:s?r/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return So}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():q$(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return G$(this.canvas,this.ctx),this}stop(){return El.stop(this),this}resize(e,n){El.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,s=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,e,n,i),o=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,q$(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),Cn(r.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};pn(n,(r,s)=>{r.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,s=Object.keys(r).reduce((a,o)=>(a[o]=!1,a),{});let i=[];n&&(i=i.concat(Object.keys(n).map(a=>{const o=n[a],l=wN(a,o),u=l==="r",d=l==="x";return{options:o,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),pn(i,a=>{const o=a.options,l=o.id,u=wN(l,o),d=Gt(o.type,a.dtype);(o.position===void 0||A8(o.position,u)!==A8(a.dposition))&&(o.position=a.dposition),s[l]=!0;let p=null;if(l in r&&r[l].type===d)p=r[l];else{const f=So.getScale(d);p=new f({id:l,type:d,ctx:this.ctx,chart:this}),r[p.id]=p}p.init(o,e)}),pn(s,(a,o)=>{a||delete r[o]}),pn(r,a=>{pa.configure(this,a,a.options),pa.addBox(this,a)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((s,i)=>s.index-i.index),r>n){for(let s=n;s<r;++s)this._destroyDatasetMeta(s);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(I8("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,s)=>{n.filter(i=>i===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=n.length;r<s;r++){const i=n[r];let a=this.getDatasetMeta(r);const o=i.type||this.config.type;if(a.type&&a.type!==o&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=o,a.indexAxis=i.indexAxis||bN(o,this.options),a.order=i.order||0,a.index=r,a.label=""+i.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{const l=So.getController(o),{datasetElementType:u,dataElementType:d}=ar.datasets[o];Object.assign(l,{dataElementType:So.getElement(d),datasetElementType:u&&So.getElement(u)}),a.controller=new l(this,r),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){pn(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:p}=this.getDatasetMeta(u),f=!s&&i.indexOf(p)===-1;p.buildOrUpdateElements(f),a=Math.max(+p.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),s||pn(i,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(I8("z","_idx"));const{_active:o,_lastEvent:l}=this;l?this._eventHandler(l,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){pn(this.scales,e=>{pa.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!L$(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:i}of n){const a=r==="_removeElements"?-i:i;jLe(e,s,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=i=>new Set(e.filter(a=>a[0]===i).map((a,o)=>o+","+a.splice(1).join(","))),s=r(0);for(let i=1;i<n;i++)if(!L$(s,r(i)))return;return Array.from(s).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;pa.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],pn(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,i)=>{s._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,ld(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),s={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(El.has(this)?this.attached&&!El.running(this)&&El.start(this):(this.draw(),k8({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let s,i;for(s=0,i=n.length;s<i;++s){const a=n[s];(!e||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},s=wQ(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(s&&$2(n,s),e.controller.draw(),s&&F2(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return q0(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,s){const i=M_e.modes[n];return typeof i=="function"?i(this,e,r,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let s=r.filter(i=>i&&i._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=pf(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const s=r?"show":"hide",i=this.getDatasetMeta(e),a=i.controller._resolveAnimations(void 0,s);K0(n)?(i.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),a.update(i,{visible:r}),this.update(o=>o.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),El.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),G$(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Jw[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(i,a)=>{n.addEventListener(this,i,a),e[i]=a},s=(i,a,o)=>{i.offsetX=a,i.offsetY=o,this._eventHandler(i)};pn(this.options.events,i=>r(i,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,u)=>{n.addEventListener(this,l,u),e[l]=u},s=(l,u)=>{e[l]&&(n.removeEventListener(this,l,u),delete e[l])},i=(l,u)=>{this.canvas&&this.resize(l,u)};let a;const o=()=>{s("attach",o),this.attached=!0,this.resize(),r("resize",i),r("detach",a)};a=()=>{this.attached=!1,s("resize",i),this._stop(),this._resize(0,0),r("attach",o)},n.isAttached(this.canvas)?o():a()}unbindEvents(){pn(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},pn(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const s=r?"set":"remove";let i,a,o,l;for(n==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+s+"DatasetHoverStyle"]()),o=0,l=e.length;o<l;++o){a=e[o];const u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:i,index:a})=>{const o=this.getDatasetMeta(i);if(!o)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:o.data[a],index:a}});!S1(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const s=this.options.hover,i=(l,u)=>l.filter(d=>!u.some(p=>d.datasetIndex===p.datasetIndex&&d.index===p.index)),a=i(n,e),o=r?e:i(e,n);a.length&&this.updateHoverStyle(a,s.mode,!1),o.length&&s.mode&&this.updateHoverStyle(o,s.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;const i=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(i||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:s=[],options:i}=this,a=n,o=this._getActiveElements(e,s,r,a),l=F4e(e),u=DLe(e,this._lastEvent,r,l);r&&(this._lastEvent=null,Cn(i.onHover,[e,o,this],this),l&&Cn(i.onClick,[e,o,this],this));const d=!S1(o,s);return(d||n)&&(this._active=o,this._updateHoverStyles(o,s,n)),this._lastEvent=u,d}_getActiveElements(e,n,r,s){if(e.type==="mouseout")return[];if(!r)return n;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,s)}},Ke(Yc,"defaults",ar),Ke(Yc,"instances",Jw),Ke(Yc,"overrides",Jp),Ke(Yc,"registry",So),Ke(Yc,"version",RLe),Ke(Yc,"getChart",C8),Yc);function E8(){return pn(U2.instances,t=>t._plugins.invalidate())}function jQ(t,e,n=e){t.lineCap=Gt(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Gt(n.borderDash,e.borderDash)),t.lineDashOffset=Gt(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Gt(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Gt(n.borderWidth,e.borderWidth),t.strokeStyle=Gt(n.borderColor,e.borderColor)}function _Le(t,e,n){t.lineTo(n.x,n.y)}function LLe(t){return t.stepped?pDe:t.tension||t.cubicInterpolationMode==="monotone"?fDe:_Le}function DQ(t,e,n={}){const r=t.length,{start:s=0,end:i=r-1}=n,{start:a,end:o}=e,l=Math.max(s,a),u=Math.min(i,o),d=s<a&&i<a||s>o&&i>o;return{count:r,start:l,loop:e.loop,ilen:u<l&&!d?r+u-l:u-l}}function OLe(t,e,n,r){const{points:s,options:i}=e,{count:a,start:o,loop:l,ilen:u}=DQ(s,n,r),d=LLe(i);let{move:p=!0,reverse:f}=r||{},h,y,m;for(h=0;h<=u;++h)y=s[(o+(f?u-h:h))%a],!y.skip&&(p?(t.moveTo(y.x,y.y),p=!1):d(t,m,y,f,i.stepped),m=y);return l&&(y=s[(o+(f?u:0))%a],d(t,m,y,f,i.stepped)),!!l}function $Le(t,e,n,r){const s=e.points,{count:i,start:a,ilen:o}=DQ(s,n,r),{move:l=!0,reverse:u}=r||{};let d=0,p=0,f,h,y,m,g,v;const b=A=>(a+(u?o-A:A))%i,w=()=>{m!==g&&(t.lineTo(d,g),t.lineTo(d,m),t.lineTo(d,v))};for(l&&(h=s[b(0)],t.moveTo(h.x,h.y)),f=0;f<=o;++f){if(h=s[b(f)],h.skip)continue;const A=h.x,I=h.y,C=A|0;C===y?(I<m?m=I:I>g&&(g=I),d=(p*d+A)/++p):(w(),t.lineTo(A,I),y=C,p=0,m=g=I),v=I}w()}function xN(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?$Le:OLe}function FLe(t){return t.stepped?WDe:t.tension||t.cubicInterpolationMode==="monotone"?GDe:$d}function BLe(t,e,n,r){let s=e._path;s||(s=e._path=new Path2D,e.path(s,n,r)&&s.closePath()),jQ(t,e.options),t.stroke(s)}function ULe(t,e,n,r){const{segments:s,options:i}=e,a=xN(e);for(const o of s)jQ(t,i,o.style),t.beginPath(),a(t,e,o,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const zLe=typeof Path2D=="function";function VLe(t,e,n,r){zLe&&!e.options.segment?BLe(t,e,n,r):ULe(t,e,n,r)}class Eu extends Id{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const s=r.spanGaps?this._loop:this._fullLoop;ODe(this._points,r,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=JDe(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,s=e[n],i=this.points,a=bQ(this,{property:n,start:s,end:s});if(!a.length)return;const o=[],l=FLe(r);let u,d;for(u=0,d=a.length;u<d;++u){const{start:p,end:f}=a[u],h=i[p],y=i[f];if(h===y){o.push(h);continue}const m=Math.abs((s-h[n])/(y[n]-h[n])),g=l(h,y,m,r.stepped);g[n]=e[n],o.push(g)}return o.length===1?o[0]:o}pathSegment(e,n,r){return xN(this)(e,this,n,r)}path(e,n,r){const s=this.segments,i=xN(this);let a=this._loop;n=n||0,r=r||this.points.length-n;for(const o of s)a&=i(e,this,o,{start:n,end:n+r-1});return!!a}draw(e,n,r,s){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),VLe(e,this,r,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Ke(Eu,"id","line"),Ke(Eu,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Ke(Eu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Ke(Eu,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function N8(t,e,n,r){const s=t.options,{[n]:i}=t.getProps([n],r);return Math.abs(e-i)<s.radius+s.hitRadius}class Qw extends Id{constructor(n){super();Ke(this,"parsed");Ke(this,"skip");Ke(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,s){const i=this.options,{x:a,y:o}=this.getProps(["x","y"],s);return Math.pow(n-a,2)+Math.pow(r-o,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(n,r){return N8(this,n,"x",r)}inYRange(n,r){return N8(this,n,"y",r)}getCenterPoint(n){const{x:r,y:s}=this.getProps(["x","y"],n);return{x:r,y:s}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const s=r&&n.borderWidth||0;return(r+s)*2}draw(n,r){const s=this.options;this.skip||s.radius<.1||!q0(this,r,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,vN(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}Ke(Qw,"id","point"),Ke(Qw,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Ke(Qw,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function _Q(t,e){const{x:n,y:r,base:s,width:i,height:a}=t.getProps(["x","y","base","width","height"],e);let o,l,u,d,p;return t.horizontal?(p=a/2,o=Math.min(n,s),l=Math.max(n,s),u=r-p,d=r+p):(p=i/2,o=n-p,l=n+p,u=Math.min(r,s),d=Math.max(r,s)),{left:o,top:u,right:l,bottom:d}}function Nu(t,e,n,r){return t?0:Li(e,n,r)}function HLe(t,e,n){const r=t.options.borderWidth,s=t.borderSkipped,i=cQ(r);return{t:Nu(s.top,i.top,0,n),r:Nu(s.right,i.right,0,e),b:Nu(s.bottom,i.bottom,0,n),l:Nu(s.left,i.left,0,e)}}function WLe(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,i=Th(s),a=Math.min(e,n),o=t.borderSkipped,l=r||tn(s);return{topLeft:Nu(!l||o.top||o.left,i.topLeft,0,a),topRight:Nu(!l||o.top||o.right,i.topRight,0,a),bottomLeft:Nu(!l||o.bottom||o.left,i.bottomLeft,0,a),bottomRight:Nu(!l||o.bottom||o.right,i.bottomRight,0,a)}}function GLe(t){const e=_Q(t),n=e.right-e.left,r=e.bottom-e.top,s=HLe(t,n/2,r/2),i=WLe(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:i},inner:{x:e.left+s.l,y:e.top+s.t,w:n-s.l-s.r,h:r-s.t-s.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,i.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(s.b,s.r))}}}}function Sk(t,e,n,r){const s=e===null,i=n===null,o=t&&!(s&&i)&&_Q(t,r);return o&&(s||Cu(e,o.left,o.right))&&(i||Cu(n,o.top,o.bottom))}function KLe(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function YLe(t,e){t.rect(e.x,e.y,e.w,e.h)}function Rk(t,e,n={}){const r=t.x!==n.x?-e:0,s=t.y!==n.y?-e:0,i=(t.x+t.w!==n.x+n.w?e:0)-r,a=(t.y+t.h!==n.y+n.h?e:0)-s;return{x:t.x+r,y:t.y+s,w:t.w+i,h:t.h+a,radius:t.radius}}class ex extends Id{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:s}}=this,{inner:i,outer:a}=GLe(this),o=KLe(a.radius)?P1:YLe;e.save(),(a.w!==i.w||a.h!==i.h)&&(e.beginPath(),o(e,Rk(a,n,i)),e.clip(),o(e,Rk(i,-n,a)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),o(e,Rk(i,n)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,n,r){return Sk(this,e,n,r)}inXRange(e,n){return Sk(this,e,null,n)}inYRange(e,n){return Sk(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:s,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(n+s)/2:n,y:i?r:(r+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}Ke(ex,"id","bar"),Ke(ex,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Ke(ex,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function qLe(t,e,n){const r=t.segments,s=t.points,i=e.points,a=[];for(const o of r){let{start:l,end:u}=o;u=z2(l,u,s);const d=TN(n,s[l],s[u],o.loop);if(!e.segments){a.push({source:o,target:d,start:s[l],end:s[u]});continue}const p=bQ(e,d);for(const f of p){const h=TN(n,i[f.start],i[f.end],f.loop),y=vQ(o,s,h);for(const m of y)a.push({source:m,target:f,start:{[n]:S8(d,h,"start",Math.max)},end:{[n]:S8(d,h,"end",Math.min)}})}}return a}function TN(t,e,n,r){if(r)return;let s=e[t],i=n[t];return t==="angle"&&(s=Po(s),i=Po(i)),{property:t,start:s,end:i}}function XLe(t,e){const{x:n=null,y:r=null}=t||{},s=e.points,i=[];return e.segments.forEach(({start:a,end:o})=>{o=z2(a,o,s);const l=s[a],u=s[o];r!==null?(i.push({x:l.x,y:r}),i.push({x:u.x,y:r})):n!==null&&(i.push({x:n,y:l.y}),i.push({x:n,y:u.y}))}),i}function z2(t,e,n){for(;e>t;e--){const r=n[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function S8(t,e,n,r){return t&&e?r(t[n],e[n]):t?t[n]:e?e[n]:0}function LQ(t,e){let n=[],r=!1;return gr(t)?(r=!0,n=t):n=XLe(t,e),n.length?new Eu({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function R8(t){return t&&t.fill!==!1}function ZLe(t,e,n){let s=t[e].fill;const i=[e];let a;if(!n)return s;for(;s!==!1&&i.indexOf(s)===-1;){if(!Es(s))return s;if(a=t[s],!a)return!1;if(a.visible)return s;i.push(s),s=a.fill}return!1}function JLe(t,e,n){const r=nOe(t);if(tn(r))return isNaN(r.value)?!1:r;let s=parseFloat(r);return Es(s)&&Math.floor(s)===s?QLe(r[0],e,s,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function QLe(t,e,n,r){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=r?!1:n}function eOe(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:tn(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function tOe(t,e,n){let r;return t==="start"?r=n:t==="end"?r=e.options.reverse?e.min:e.max:tn(t)?r=t.value:r=e.getBaseValue(),r}function nOe(t){const e=t.options,n=e.fill;let r=Gt(n&&n.target,n);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function rOe(t){const{scale:e,index:n,line:r}=t,s=[],i=r.segments,a=r.points,o=sOe(e,n);o.push(LQ({x:null,y:e.bottom},r));for(let l=0;l<i.length;l++){const u=i[l];for(let d=u.start;d<=u.end;d++)iOe(s,a[d],o)}return new Eu({points:s,options:{}})}function sOe(t,e){const n=[],r=t.getMatchingVisibleMetas("line");for(let s=0;s<r.length;s++){const i=r[s];if(i.index===e)break;i.hidden||n.unshift(i.dataset)}return n}function iOe(t,e,n){const r=[];for(let s=0;s<n.length;s++){const i=n[s],{first:a,last:o,point:l}=aOe(i,e,"x");if(!(!l||a&&o)){if(a)r.unshift(l);else if(t.push(l),!o)break}}t.push(...r)}function aOe(t,e,n){const r=t.interpolate(e,n);if(!r)return{};const s=r[n],i=t.segments,a=t.points;let o=!1,l=!1;for(let u=0;u<i.length;u++){const d=i[u],p=a[d.start][n],f=a[d.end][n];if(Cu(s,p,f)){o=s===p,l=s===f;break}}return{first:o,last:l,point:r}}class OQ{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,r){const{x:s,y:i,radius:a}=this;return n=n||{start:0,end:no},e.arc(s,i,a,n.end,n.start,!0),!r.bounds}interpolate(e){const{x:n,y:r,radius:s}=this,i=e.angle;return{x:n+Math.cos(i)*s,y:r+Math.sin(i)*s,angle:i}}}function oOe(t){const{chart:e,fill:n,line:r}=t;if(Es(n))return lOe(e,n);if(n==="stack")return rOe(t);if(n==="shape")return!0;const s=cOe(t);return s instanceof OQ?s:LQ(s,r)}function lOe(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function cOe(t){return(t.scale||{}).getPointPositionForValue?dOe(t):uOe(t)}function uOe(t){const{scale:e={},fill:n}=t,r=eOe(n,e);if(Es(r)){const s=e.isHorizontal();return{x:s?r:null,y:s?null:r}}return null}function dOe(t){const{scale:e,fill:n}=t,r=e.options,s=e.getLabels().length,i=r.reverse?e.max:e.min,a=tOe(n,e,i),o=[];if(r.grid.circular){const l=e.getPointPositionForValue(0,i);return new OQ({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(a)})}for(let l=0;l<s;++l)o.push(e.getPointPositionForValue(l,a));return o}function Mk(t,e,n){const r=oOe(e),{chart:s,index:i,line:a,scale:o,axis:l}=e,u=a.options,d=u.fill,p=u.backgroundColor,{above:f=p,below:h=p}=d||{},y=s.getDatasetMeta(i),m=wQ(s,y);r&&a.points.length&&($2(t,n),pOe(t,{line:a,target:r,above:f,below:h,area:n,scale:o,axis:l,clip:m}),F2(t))}function pOe(t,e){const{line:n,target:r,above:s,below:i,area:a,scale:o,clip:l}=e,u=n._loop?"angle":e.axis;t.save();let d=i;i!==s&&(u==="x"?(M8(t,r,a.top),Pk(t,{line:n,target:r,color:s,scale:o,property:u,clip:l}),t.restore(),t.save(),M8(t,r,a.bottom)):u==="y"&&(P8(t,r,a.left),Pk(t,{line:n,target:r,color:i,scale:o,property:u,clip:l}),t.restore(),t.save(),P8(t,r,a.right),d=s)),Pk(t,{line:n,target:r,color:d,scale:o,property:u,clip:l}),t.restore()}function M8(t,e,n){const{segments:r,points:s}=e;let i=!0,a=!1;t.beginPath();for(const o of r){const{start:l,end:u}=o,d=s[l],p=s[z2(l,u,s)];i?(t.moveTo(d.x,d.y),i=!1):(t.lineTo(d.x,n),t.lineTo(d.x,d.y)),a=!!e.pathSegment(t,o,{move:a}),a?t.closePath():t.lineTo(p.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function P8(t,e,n){const{segments:r,points:s}=e;let i=!0,a=!1;t.beginPath();for(const o of r){const{start:l,end:u}=o,d=s[l],p=s[z2(l,u,s)];i?(t.moveTo(d.x,d.y),i=!1):(t.lineTo(n,d.y),t.lineTo(d.x,d.y)),a=!!e.pathSegment(t,o,{move:a}),a?t.closePath():t.lineTo(n,p.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function Pk(t,e){const{line:n,target:r,property:s,color:i,scale:a,clip:o}=e,l=qLe(n,r,s);for(const{source:u,target:d,start:p,end:f}of l){const{style:{backgroundColor:h=i}={}}=u,y=r!==!0;t.save(),t.fillStyle=h,fOe(t,a,o,y&&TN(s,p,f)),t.beginPath();const m=!!n.pathSegment(t,u);let g;if(y){m?t.closePath():j8(t,r,f,s);const v=!!r.pathSegment(t,d,{move:m,reverse:!0});g=m&&v,g||j8(t,r,p,s)}t.closePath(),t.fill(g?"evenodd":"nonzero"),t.restore()}}function fOe(t,e,n,r){const s=e.chart.chartArea,{property:i,start:a,end:o}=r||{};if(i==="x"||i==="y"){let l,u,d,p;i==="x"?(l=a,u=s.top,d=o,p=s.bottom):(l=s.left,u=a,d=s.right,p=o),t.beginPath(),n&&(l=Math.max(l,n.left),d=Math.min(d,n.right),u=Math.max(u,n.top),p=Math.min(p,n.bottom)),t.rect(l,u,d-l,p-u),t.clip()}}function j8(t,e,n,r){const s=e.interpolate(n,r);s&&t.lineTo(s.x,s.y)}var hOe={id:"filler",afterDatasetsUpdate(t,e,n){const r=(t.data.datasets||[]).length,s=[];let i,a,o,l;for(a=0;a<r;++a)i=t.getDatasetMeta(a),o=i.dataset,l=null,o&&o.options&&o instanceof Eu&&(l={visible:t.isDatasetVisible(a),index:a,fill:JLe(o,a,r),chart:t,axis:i.controller.options.indexAxis,scale:i.vScale,line:o}),i.$filler=l,s.push(l);for(a=0;a<r;++a)l=s[a],!(!l||l.fill===!1)&&(l.fill=ZLe(s,a,n.propagate))},beforeDraw(t,e,n){const r=n.drawTime==="beforeDraw",s=t.getSortedVisibleDatasetMetas(),i=t.chartArea;for(let a=s.length-1;a>=0;--a){const o=s[a].$filler;o&&(o.line.updateControlPoints(i,o.axis),r&&o.fill&&Mk(t.ctx,o,i))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=t.getSortedVisibleDatasetMetas();for(let s=r.length-1;s>=0;--s){const i=r[s].$filler;R8(i)&&Mk(t.ctx,i,t.chartArea)}},beforeDatasetDraw(t,e,n){const r=e.meta.$filler;!R8(r)||n.drawTime!=="beforeDatasetDraw"||Mk(t.ctx,r,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const D8=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},mOe=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class _8 extends Id{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Cn(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,s)=>e.sort(r,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,s=Is(r.font),i=s.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:l}=D8(r,i);let u,d;n.font=s.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(a,i,o,l)+10):(d=this.maxHeight,u=this._fitCols(a,s,o,l)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,s){const{ctx:i,maxWidth:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],d=s+o;let p=e;i.textAlign="left",i.textBaseline="middle";let f=-1,h=-d;return this.legendItems.forEach((y,m)=>{const g=r+n/2+i.measureText(y.text).width;(m===0||u[u.length-1]+g+2*o>a)&&(p+=d,u[u.length-(m>0?0:1)]=0,h+=d,f++),l[m]={left:0,top:h,row:f,width:g,height:s},u[u.length-1]+=g+o}),p}_fitCols(e,n,r,s){const{ctx:i,maxHeight:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],d=a-e;let p=o,f=0,h=0,y=0,m=0;return this.legendItems.forEach((g,v)=>{const{itemWidth:b,itemHeight:w}=yOe(r,n,i,g,s);v>0&&h+w+2*o>d&&(p+=f+o,u.push({width:f,height:h}),y+=f+o,m++,f=h=0),l[v]={left:y,top:h,col:m,width:b,height:w},f=Math.max(f,b),h+=w+o}),p+=f,u.push({width:f,height:h}),p}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:s},rtl:i}}=this,a=Ah(i,this.left,this.width);if(this.isHorizontal()){let o=0,l=us(r,this.left+s,this.right-this.lineWidths[o]);for(const u of n)o!==u.row&&(o=u.row,l=us(r,this.left+s,this.right-this.lineWidths[o])),u.top+=this.top+e+s,u.left=a.leftForLtr(a.x(l),u.width),l+=u.width+s}else{let o=0,l=us(r,this.top+e+s,this.bottom-this.columnSizes[o].height);for(const u of n)u.col!==o&&(o=u.col,l=us(r,this.top+e+s,this.bottom-this.columnSizes[o].height)),u.top=l,u.left+=this.left+s,u.left=a.leftForLtr(a.x(u.left),u.width),l+=u.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;$2(e,this),this._draw(),F2(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:s}=this,{align:i,labels:a}=e,o=ar.color,l=Ah(e.rtl,this.left,this.width),u=Is(a.font),{padding:d}=a,p=u.size,f=p/2;let h;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=u.string;const{boxWidth:y,boxHeight:m,itemHeight:g}=D8(a,p),v=function(C,E,N){if(isNaN(y)||y<=0||isNaN(m)||m<0)return;s.save();const _=Gt(N.lineWidth,1);if(s.fillStyle=Gt(N.fillStyle,o),s.lineCap=Gt(N.lineCap,"butt"),s.lineDashOffset=Gt(N.lineDashOffset,0),s.lineJoin=Gt(N.lineJoin,"miter"),s.lineWidth=_,s.strokeStyle=Gt(N.strokeStyle,o),s.setLineDash(Gt(N.lineDash,[])),a.usePointStyle){const U={radius:m*Math.SQRT2/2,pointStyle:N.pointStyle,rotation:N.rotation,borderWidth:_},$=l.xPlus(C,y/2),B=E+f;oQ(s,U,$,B,a.pointStyleWidth&&y)}else{const U=E+Math.max((p-m)/2,0),$=l.leftForLtr(C,y),B=Th(N.borderRadius);s.beginPath(),Object.values(B).some(j=>j!==0)?P1(s,{x:$,y:U,w:y,h:m,radius:B}):s.rect($,U,y,m),s.fill(),_!==0&&s.stroke()}s.restore()},b=function(C,E,N){X0(s,N.text,C,E+g/2,u,{strikethrough:N.hidden,textAlign:l.textAlign(N.textAlign)})},w=this.isHorizontal(),A=this._computeTitleHeight();w?h={x:us(i,this.left+d,this.right-r[0]),y:this.top+d+A,line:0}:h={x:this.left+d,y:us(i,this.top+A+d,this.bottom-n[0].height),line:0},mQ(this.ctx,e.textDirection);const I=g+d;this.legendItems.forEach((C,E)=>{s.strokeStyle=C.fontColor,s.fillStyle=C.fontColor;const N=s.measureText(C.text).width,_=l.textAlign(C.textAlign||(C.textAlign=a.textAlign)),U=y+f+N;let $=h.x,B=h.y;l.setWidth(this.width),w?E>0&&$+U+d>this.right&&(B=h.y+=I,h.line++,$=h.x=us(i,this.left+d,this.right-r[h.line])):E>0&&B+I>this.bottom&&($=h.x=$+n[h.line].width+d,h.line++,B=h.y=us(i,this.top+A+d,this.bottom-n[h.line].height));const j=l.x($);if(v(j,B,C),$=eDe(_,$+y+f,w?$+U:this.right,e.rtl),b(l.x($),B,C),w)h.x+=U+d;else if(typeof C.text!="string"){const x=u.lineHeight;h.y+=$Q(C,x)+d}else h.y+=I}),yQ(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=Is(n.font),s=wa(n.padding);if(!n.display)return;const i=Ah(e.rtl,this.left,this.width),a=this.ctx,o=n.position,l=r.size/2,u=s.top+l;let d,p=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),d=this.top+u,p=us(e.align,p,this.right-f);else{const y=this.columnSizes.reduce((m,g)=>Math.max(m,g.height),0);d=u+us(e.align,this.top,this.bottom-y-e.labels.padding-this._computeTitleHeight())}const h=us(o,p,p+f);a.textAlign=i.textAlign(RP(o)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=r.string,X0(a,n.text,h,d,r)}_computeTitleHeight(){const e=this.options.title,n=Is(e.font),r=wa(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,s,i;if(Cu(e,this.left,this.right)&&Cu(n,this.top,this.bottom)){for(i=this.legendHitBoxes,r=0;r<i.length;++r)if(s=i[r],Cu(e,s.left,s.left+s.width)&&Cu(n,s.top,s.top+s.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!bOe(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,i=mOe(s,r);s&&!i&&Cn(n.onLeave,[e,s,this],this),this._hoveredItem=r,r&&!i&&Cn(n.onHover,[e,r,this],this)}else r&&Cn(n.onClick,[e,r,this],this)}}function yOe(t,e,n,r,s){const i=gOe(r,t,e,n),a=vOe(s,r,e.lineHeight);return{itemWidth:i,itemHeight:a}}function gOe(t,e,n,r){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((i,a)=>i.length>a.length?i:a)),e+n.size/2+r.measureText(s).width}function vOe(t,e,n){let r=t;return typeof e.text!="string"&&(r=$Q(e,n)),r}function $Q(t,e){const n=t.text?t.text.length:0;return e*n}function bOe(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var wOe={id:"legend",_element:_8,start(t,e,n){const r=t.legend=new _8({ctx:t.ctx,options:n,chart:t});pa.configure(t,r,n),pa.addBox(t,r)},stop(t){pa.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;pa.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,s=n.chart;s.isDatasetVisible(r)?(s.hide(r),e.hidden=!0):(s.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:s,color:i,useBorderRadius:a,borderRadius:o}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const u=l.controller.getStyle(n?0:void 0),d=wa(u.borderWidth);return{text:e[l.index].label,fillStyle:u.backgroundColor,fontColor:i,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:r||u.pointStyle,rotation:u.rotation,textAlign:s||u.textAlign,borderRadius:a&&(o||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class FQ extends Id{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=gr(r.text)?r.text.length:1;this._padding=wa(r.padding);const i=s*Is(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:s,right:i,options:a}=this,o=a.align;let l=0,u,d,p;return this.isHorizontal()?(d=us(o,r,i),p=n+e,u=i-r):(a.position==="left"?(d=r+e,p=us(o,s,n),l=Wr*-.5):(d=i-e,p=us(o,n,s),l=Wr*.5),u=s-n),{titleX:d,titleY:p,maxWidth:u,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=Is(n.font),i=r.lineHeight/2+this._padding.top,{titleX:a,titleY:o,maxWidth:l,rotation:u}=this._drawArgs(i);X0(e,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:u,textAlign:RP(n.align),textBaseline:"middle",translation:[a,o]})}}function xOe(t,e){const n=new FQ({ctx:t.ctx,options:e,chart:t});pa.configure(t,n,e),pa.addBox(t,n),t.titleBlock=n}var TOe={id:"title",_element:FQ,start(t,e,n){xOe(t,n)},stop(t){const e=t.titleBlock;pa.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;pa.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Fy={average(t){if(!t.length)return!1;let e,n,r=new Set,s=0,i=0;for(e=0,n=t.length;e<n;++e){const o=t[e].element;if(o&&o.hasValue()){const l=o.tooltipPosition();r.add(l.x),s+=l.y,++i}}return i===0||r.size===0?!1:{x:[...r].reduce((o,l)=>o+l)/r.size,y:s/i}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,s=Number.POSITIVE_INFINITY,i,a,o;for(i=0,a=t.length;i<a;++i){const l=t[i].element;if(l&&l.hasValue()){const u=l.getCenterPoint(),d=yN(e,u);d<s&&(s=d,o=l)}}if(o){const l=o.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function ko(t,e){return e&&(gr(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Nl(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function AOe(t,e){const{element:n,datasetIndex:r,index:s}=e,i=t.getDatasetMeta(r).controller,{label:a,value:o}=i.getLabelAndValue(s);return{chart:t,label:a,parsed:i.getParsed(s),raw:t.data.datasets[r].data[s],formattedValue:o,dataset:i.getDataset(),dataIndex:s,datasetIndex:r,element:n}}function L8(t,e){const n=t.chart.ctx,{body:r,footer:s,title:i}=t,{boxWidth:a,boxHeight:o}=e,l=Is(e.bodyFont),u=Is(e.titleFont),d=Is(e.footerFont),p=i.length,f=s.length,h=r.length,y=wa(e.padding);let m=y.height,g=0,v=r.reduce((A,I)=>A+I.before.length+I.lines.length+I.after.length,0);if(v+=t.beforeBody.length+t.afterBody.length,p&&(m+=p*u.lineHeight+(p-1)*e.titleSpacing+e.titleMarginBottom),v){const A=e.displayColors?Math.max(o,l.lineHeight):l.lineHeight;m+=h*A+(v-h)*l.lineHeight+(v-1)*e.bodySpacing}f&&(m+=e.footerMarginTop+f*d.lineHeight+(f-1)*e.footerSpacing);let b=0;const w=function(A){g=Math.max(g,n.measureText(A).width+b)};return n.save(),n.font=u.string,pn(t.title,w),n.font=l.string,pn(t.beforeBody.concat(t.afterBody),w),b=e.displayColors?a+2+e.boxPadding:0,pn(r,A=>{pn(A.before,w),pn(A.lines,w),pn(A.after,w)}),b=0,n.font=d.string,pn(t.footer,w),n.restore(),g+=y.width,{width:g,height:m}}function IOe(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function kOe(t,e,n,r){const{x:s,width:i}=r,a=n.caretSize+n.caretPadding;if(t==="left"&&s+i+a>e.width||t==="right"&&s-i-a<0)return!0}function COe(t,e,n,r){const{x:s,width:i}=n,{width:a,chartArea:{left:o,right:l}}=t;let u="center";return r==="center"?u=s<=(o+l)/2?"left":"right":s<=i/2?u="left":s>=a-i/2&&(u="right"),kOe(u,t,e,n)&&(u="center"),u}function O8(t,e,n){const r=n.yAlign||e.yAlign||IOe(t,n);return{xAlign:n.xAlign||e.xAlign||COe(t,e,n,r),yAlign:r}}function EOe(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function NOe(t,e,n){let{y:r,height:s}=t;return e==="top"?r+=n:e==="bottom"?r-=s+n:r-=s/2,r}function $8(t,e,n,r){const{caretSize:s,caretPadding:i,cornerRadius:a}=t,{xAlign:o,yAlign:l}=n,u=s+i,{topLeft:d,topRight:p,bottomLeft:f,bottomRight:h}=Th(a);let y=EOe(e,o);const m=NOe(e,l,u);return l==="center"?o==="left"?y+=u:o==="right"&&(y-=u):o==="left"?y-=Math.max(d,f)+s:o==="right"&&(y+=Math.max(p,h)+s),{x:Li(y,0,r.width-e.width),y:Li(m,0,r.height-e.height)}}function ew(t,e,n){const r=wa(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function F8(t){return ko([],Nl(t))}function SOe(t,e,n){return pf(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function B8(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const BQ={beforeTitle:Cl,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:Cl,beforeBody:Cl,beforeLabel:Cl,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return un(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Cl,afterBody:Cl,beforeFooter:Cl,footer:Cl,afterFooter:Cl};function qs(t,e,n,r){const s=t[e].call(n,r);return typeof s>"u"?BQ[e].call(n,r):s}class AN extends Id{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&n.options.animation&&r.animations,i=new xQ(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=SOe(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,s=qs(r,"beforeTitle",this,e),i=qs(r,"title",this,e),a=qs(r,"afterTitle",this,e);let o=[];return o=ko(o,Nl(s)),o=ko(o,Nl(i)),o=ko(o,Nl(a)),o}getBeforeBody(e,n){return F8(qs(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,s=[];return pn(e,i=>{const a={before:[],lines:[],after:[]},o=B8(r,i);ko(a.before,Nl(qs(o,"beforeLabel",this,i))),ko(a.lines,qs(o,"label",this,i)),ko(a.after,Nl(qs(o,"afterLabel",this,i))),s.push(a)}),s}getAfterBody(e,n){return F8(qs(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,s=qs(r,"beforeFooter",this,e),i=qs(r,"footer",this,e),a=qs(r,"afterFooter",this,e);let o=[];return o=ko(o,Nl(s)),o=ko(o,Nl(i)),o=ko(o,Nl(a)),o}_createItems(e){const n=this._active,r=this.chart.data,s=[],i=[],a=[];let o=[],l,u;for(l=0,u=n.length;l<u;++l)o.push(AOe(this.chart,n[l]));return e.filter&&(o=o.filter((d,p,f)=>e.filter(d,p,f,r))),e.itemSort&&(o=o.sort((d,p)=>e.itemSort(d,p,r))),pn(o,d=>{const p=B8(e.callbacks,d);s.push(qs(p,"labelColor",this,d)),i.push(qs(p,"labelPointStyle",this,d)),a.push(qs(p,"labelTextColor",this,d))}),this.labelColors=s,this.labelPointStyles=i,this.labelTextColors=a,this.dataPoints=o,o}update(e,n){const r=this.options.setContext(this.getContext()),s=this._active;let i,a=[];if(!s.length)this.opacity!==0&&(i={opacity:0});else{const o=Fy[r.position].call(this,s,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);const l=this._size=L8(this,r),u=Object.assign({},o,l),d=O8(this.chart,r,u),p=$8(r,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,i={opacity:1,x:p.x,y:p.y,width:l.width,height:l.height,caretX:o.x,caretY:o.y}}this._tooltipItems=a,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,s){const i=this.getCaretPosition(e,r,s);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(e,n,r){const{xAlign:s,yAlign:i}=this,{caretSize:a,cornerRadius:o}=r,{topLeft:l,topRight:u,bottomLeft:d,bottomRight:p}=Th(o),{x:f,y:h}=e,{width:y,height:m}=n;let g,v,b,w,A,I;return i==="center"?(A=h+m/2,s==="left"?(g=f,v=g-a,w=A+a,I=A-a):(g=f+y,v=g+a,w=A-a,I=A+a),b=g):(s==="left"?v=f+Math.max(l,d)+a:s==="right"?v=f+y-Math.max(u,p)-a:v=this.caretX,i==="top"?(w=h,A=w-a,g=v-a,b=v+a):(w=h+m,A=w+a,g=v+a,b=v-a),I=w),{x1:g,x2:v,x3:b,y1:w,y2:A,y3:I}}drawTitle(e,n,r){const s=this.title,i=s.length;let a,o,l;if(i){const u=Ah(r.rtl,this.x,this.width);for(e.x=ew(this,r.titleAlign,r),n.textAlign=u.textAlign(r.titleAlign),n.textBaseline="middle",a=Is(r.titleFont),o=r.titleSpacing,n.fillStyle=r.titleColor,n.font=a.string,l=0;l<i;++l)n.fillText(s[l],u.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+o,l+1===i&&(e.y+=r.titleMarginBottom-o)}}_drawColorBox(e,n,r,s,i){const a=this.labelColors[r],o=this.labelPointStyles[r],{boxHeight:l,boxWidth:u}=i,d=Is(i.bodyFont),p=ew(this,"left",i),f=s.x(p),h=l<d.lineHeight?(d.lineHeight-l)/2:0,y=n.y+h;if(i.usePointStyle){const m={radius:Math.min(u,l)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},g=s.leftForLtr(f,u)+u/2,v=y+l/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,vN(e,m,g,v),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,vN(e,m,g,v)}else{e.lineWidth=tn(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const m=s.leftForLtr(f,u),g=s.leftForLtr(s.xPlus(f,1),u-2),v=Th(a.borderRadius);Object.values(v).some(b=>b!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,P1(e,{x:m,y,w:u,h:l,radius:v}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),P1(e,{x:g,y:y+1,w:u-2,h:l-2,radius:v}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(m,y,u,l),e.strokeRect(m,y,u,l),e.fillStyle=a.backgroundColor,e.fillRect(g,y+1,u-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:s}=this,{bodySpacing:i,bodyAlign:a,displayColors:o,boxHeight:l,boxWidth:u,boxPadding:d}=r,p=Is(r.bodyFont);let f=p.lineHeight,h=0;const y=Ah(r.rtl,this.x,this.width),m=function(N){n.fillText(N,y.x(e.x+h),e.y+f/2),e.y+=f+i},g=y.textAlign(a);let v,b,w,A,I,C,E;for(n.textAlign=a,n.textBaseline="middle",n.font=p.string,e.x=ew(this,g,r),n.fillStyle=r.bodyColor,pn(this.beforeBody,m),h=o&&g!=="right"?a==="center"?u/2+d:u+2+d:0,A=0,C=s.length;A<C;++A){for(v=s[A],b=this.labelTextColors[A],n.fillStyle=b,pn(v.before,m),w=v.lines,o&&w.length&&(this._drawColorBox(n,e,A,y,r),f=Math.max(p.lineHeight,l)),I=0,E=w.length;I<E;++I)m(w[I]),f=p.lineHeight;pn(v.after,m)}h=0,f=p.lineHeight,pn(this.afterBody,m),e.y-=i}drawFooter(e,n,r){const s=this.footer,i=s.length;let a,o;if(i){const l=Ah(r.rtl,this.x,this.width);for(e.x=ew(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",a=Is(r.footerFont),n.fillStyle=r.footerColor,n.font=a.string,o=0;o<i;++o)n.fillText(s[o],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+r.footerSpacing}}drawBackground(e,n,r,s){const{xAlign:i,yAlign:a}=this,{x:o,y:l}=e,{width:u,height:d}=r,{topLeft:p,topRight:f,bottomLeft:h,bottomRight:y}=Th(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(o+p,l),a==="top"&&this.drawCaret(e,n,r,s),n.lineTo(o+u-f,l),n.quadraticCurveTo(o+u,l,o+u,l+f),a==="center"&&i==="right"&&this.drawCaret(e,n,r,s),n.lineTo(o+u,l+d-y),n.quadraticCurveTo(o+u,l+d,o+u-y,l+d),a==="bottom"&&this.drawCaret(e,n,r,s),n.lineTo(o+h,l+d),n.quadraticCurveTo(o,l+d,o,l+d-h),a==="center"&&i==="left"&&this.drawCaret(e,n,r,s),n.lineTo(o,l+p),n.quadraticCurveTo(o,l,o+p,l),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,s=r&&r.x,i=r&&r.y;if(s||i){const a=Fy[e.position].call(this,this._active,this._eventPosition);if(!a)return;const o=this._size=L8(this,e),l=Object.assign({},a,this._size),u=O8(n,e,l),d=$8(e,l,u,n);(s._to!==d.x||i._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=o.width,this.height=o.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const a=wa(n.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&o&&(e.save(),e.globalAlpha=r,this.drawBackground(i,e,s,n),mQ(e,n.textDirection),i.y+=a.top,this.drawTitle(i,e,n),this.drawBody(i,e,n),this.drawFooter(i,e,n),yQ(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,s=e.map(({datasetIndex:o,index:l})=>{const u=this.chart.getDatasetMeta(o);if(!u)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:u.data[l],index:l}}),i=!S1(r,s),a=this._positionChanged(s,n);(i||a)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,i=this._active||[],a=this._getActiveElements(e,i,n,r),o=this._positionChanged(a,e),l=n||!S1(a,i)||o;return l&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,s){const i=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,i.mode,i,r);return i.reverse&&a.reverse(),a}_positionChanged(e,n){const{caretX:r,caretY:s,options:i}=this,a=Fy[i.position].call(this,e,n);return a!==!1&&(r!==a.x||s!==a.y)}}Ke(AN,"positioners",Fy);var ROe={id:"tooltip",_element:AN,positioners:Fy,afterInit(t,e,n){n&&(t.tooltip=new AN({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:BQ},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const MOe=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function POe(t,e,n,r){const s=t.indexOf(e);if(s===-1)return MOe(t,e,n,r);const i=t.lastIndexOf(e);return s!==i?n:s}const jOe=(t,e)=>t===null?null:Li(Math.round(t),0,e);function U8(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class IN extends Ym{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:s,label:i}of n)r[s]===i&&r.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(un(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:POe(r,e,Gt(n,e),this._addedLabels),jOe(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,s=[];let i=this.getLabels();i=e===0&&n===i.length-1?i:i.slice(e,n+1),this._valueRange=Math.max(i.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=e;a<=n;a++)s.push({value:a});return s}getLabelForValue(e){return U8.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Ke(IN,"id","category"),Ke(IN,"defaults",{ticks:{callback:U8}});function DOe(t,e){const n=[],{bounds:s,step:i,min:a,max:o,precision:l,count:u,maxTicks:d,maxDigits:p,includeBounds:f}=t,h=i||1,y=d-1,{min:m,max:g}=e,v=!un(a),b=!un(o),w=!un(u),A=(g-m)/(p+1);let I=$$((g-m)/y/h)*h,C,E,N,_;if(I<1e-14&&!v&&!b)return[{value:m},{value:g}];_=Math.ceil(g/I)-Math.floor(m/I),_>y&&(I=$$(_*I/y/h)*h),un(l)||(C=Math.pow(10,l),I=Math.ceil(I*C)/C),s==="ticks"?(E=Math.floor(m/I)*I,N=Math.ceil(g/I)*I):(E=m,N=g),v&&b&&i&&H4e((o-a)/i,I/1e3)?(_=Math.round(Math.min((o-a)/I,d)),I=(o-a)/_,E=a,N=o):w?(E=v?a:E,N=b?o:N,_=u-1,I=(N-E)/_):(_=(N-E)/I,bg(_,Math.round(_),I/1e3)?_=Math.round(_):_=Math.ceil(_));const U=Math.max(F$(I),F$(E));C=Math.pow(10,un(l)?U:l),E=Math.round(E*C)/C,N=Math.round(N*C)/C;let $=0;for(v&&(f&&E!==a?(n.push({value:a}),E<a&&$++,bg(Math.round((E+$*I)*C)/C,a,z8(a,A,t))&&$++):E<a&&$++);$<_;++$){const B=Math.round((E+$*I)*C)/C;if(b&&B>o)break;n.push({value:B})}return b&&f&&N!==o?n.length&&bg(n[n.length-1].value,o,z8(o,A,t))?n[n.length-1].value=o:n.push({value:o}):(!b||N===o)&&n.push({value:N}),n}function z8(t,e,{horizontal:n,minRotation:r}){const s=rp(r),i=(n?Math.sin(s):Math.cos(s))||.001,a=.75*e*(""+t).length;return Math.min(e/i,a)}class _Oe extends Ym{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return un(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:s,max:i}=this;const a=l=>s=n?s:l,o=l=>i=r?i:l;if(e){const l=sl(s),u=sl(i);l<0&&u<0?o(0):l>0&&u>0&&a(0)}if(s===i){let l=i===0?1:Math.abs(i*.05);o(i+l),e||a(s-l)}this.min=s,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,s;return r?(s=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const s={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,a=DOe(s,i);return e.bounds==="ticks"&&W4e(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const s=(r-n)/Math.max(e.length-1,1)/2;n-=s,r+=s}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return sQ(e,this.chart.options.locale,this.options.ticks.format)}}class kN extends _Oe{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Es(e)?e:0,this.max=Es(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=rp(this.options.ticks.minRotation),s=(e?Math.sin(r):Math.cos(r))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Ke(kN,"id","linear"),Ke(kN,"defaults",{ticks:{callback:aQ.formatters.numeric}});const V2={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ii=Object.keys(V2);function V8(t,e){return t-e}function H8(t,e){if(un(e))return null;const n=t._adapter,{parser:r,round:s,isoWeekday:i}=t._parseOpts;let a=e;return typeof r=="function"&&(a=r(a)),Es(a)||(a=typeof r=="string"?n.parse(a,r):n.parse(a)),a===null?null:(s&&(a=s==="week"&&(Y0(i)||i===!0)?n.startOf(a,"isoWeek",i):n.startOf(a,s)),+a)}function W8(t,e,n,r){const s=ii.length;for(let i=ii.indexOf(t);i<s-1;++i){const a=V2[ii[i]],o=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-e)/(o*a.size))<=r)return ii[i]}return ii[s-1]}function LOe(t,e,n,r,s){for(let i=ii.length-1;i>=ii.indexOf(n);i--){const a=ii[i];if(V2[a].common&&t._adapter.diff(s,r,a)>=e-1)return a}return ii[n?ii.indexOf(n):0]}function OOe(t){for(let e=ii.indexOf(t)+1,n=ii.length;e<n;++e)if(V2[ii[e]].common)return ii[e]}function G8(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:s}=SP(n,e),i=n[r]>=e?n[r]:n[s];t[i]=!0}}function $Oe(t,e,n,r){const s=t._adapter,i=+s.startOf(e[0].value,r),a=e[e.length-1].value;let o,l;for(o=i;o<=a;o=+s.add(o,1,r))l=n[o],l>=0&&(e[l].major=!0);return e}function K8(t,e,n){const r=[],s={},i=e.length;let a,o;for(a=0;a<i;++a)o=e[a],s[o]=a,r.push({value:o,major:!1});return i===0||!n?r:$Oe(t,r,s,n)}class _1 extends Ym{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),s=this._adapter=new C_e._date(e.adapters.date);s.init(n),vg(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:H8(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:s,max:i,minDefined:a,maxDefined:o}=this.getUserBounds();function l(u){!a&&!isNaN(u.min)&&(s=Math.min(s,u.min)),!o&&!isNaN(u.max)&&(i=Math.max(i,u.max))}(!a||!o)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=Es(s)&&!isNaN(s)?s:+n.startOf(Date.now(),r),i=Es(i)&&!isNaN(i)?i:+n.endOf(Date.now(),r)+1,this.min=Math.min(s,i-1),this.max=Math.max(s+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const i=this.min,a=this.max,o=Z4e(s,i,a);return this._unit=n.unit||(r.autoSkip?W8(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):LOe(this,o.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:OOe(this._unit),this.initOffsets(s),e.reverse&&o.reverse(),K8(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,s,i;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?r=i:r=(i-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;n=Li(n,0,a),r=Li(r,0,a),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,s=this.options,i=s.time,a=i.unit||W8(i.minUnit,n,r,this._getLabelCapacity(n)),o=Gt(s.ticks.stepSize,1),l=a==="week"?i.isoWeekday:!1,u=Y0(l)||l===!0,d={};let p=n,f,h;if(u&&(p=+e.startOf(p,"isoWeek",l)),p=+e.startOf(p,u?"day":a),e.diff(r,n,a)>1e5*o)throw new Error(n+" and "+r+" are too far apart with stepSize of "+o+" "+a);const y=s.ticks.source==="data"&&this.getDataTimestamps();for(f=p,h=0;f<r;f=+e.add(f,o,a),h++)G8(d,f,y);return(f===r||s.bounds==="ticks"||h===1)&&G8(d,f,y),Object.keys(d).sort(V8).map(m=>+m)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,i=this._unit,a=n||s[i];return this._adapter.format(e,a)}_tickFormatFunction(e,n,r,s){const i=this.options,a=i.ticks.callback;if(a)return Cn(a,[e,n,r],this);const o=i.time.displayFormats,l=this._unit,u=this._majorUnit,d=l&&o[l],p=u&&o[u],f=r[n],h=u&&p&&f&&f.major;return this._adapter.format(e,s||(h?p:d))}generateTickLabels(e){let n,r,s;for(n=0,r=e.length;n<r;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,s=rp(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(s),a=Math.sin(s),o=this._resolveTickFontOptions(0).size;return{w:r*i+o*a,h:r*a+o*i}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,s=r[n.unit]||r.millisecond,i=this._tickFormatFunction(e,0,K8(this,[e],this._majorUnit),s),a=this._getLabelSize(i),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,r=s.length;n<r;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const s=this.getLabels();for(n=0,r=s.length;n<r;++n)e.push(H8(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return tQ(e.sort(V8))}}Ke(_1,"id","time"),Ke(_1,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function tw(t,e,n){let r=0,s=t.length-1,i,a,o,l;n?(e>=t[r].pos&&e<=t[s].pos&&({lo:r,hi:s}=sp(t,"pos",e)),{pos:i,time:o}=t[r],{pos:a,time:l}=t[s]):(e>=t[r].time&&e<=t[s].time&&({lo:r,hi:s}=sp(t,"time",e)),{time:i,pos:o}=t[r],{time:a,pos:l}=t[s]);const u=a-i;return u?o+(l-o)*(e-i)/u:o}class Y8 extends _1{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=tw(n,this.min),this._tableRange=tw(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,s=[],i=[];let a,o,l,u,d;for(a=0,o=e.length;a<o;++a)u=e[a],u>=n&&u<=r&&s.push(u);if(s.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(a=0,o=s.length;a<o;++a)d=s[a+1],l=s[a-1],u=s[a],Math.round((d+l)/2)!==u&&i.push({time:u,pos:a/(o-1)});return i}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((s,i)=>s-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(tw(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return tw(this._table,r*this._tableRange+this._minPos,!0)}}Ke(Y8,"id","timeseries"),Ke(Y8,"defaults",_1.defaults);const UQ="label";function q8(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function FOe(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function zQ(t,e){t.labels=e}function VQ(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:UQ;const r=[];t.datasets=e.map(s=>{const i=t.datasets.find(a=>a[n]===s[n]);return!i||!s.data||r.includes(i)?{...s}:(r.push(i),Object.assign(i,s),i)})}function BOe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:UQ;const n={labels:[],datasets:[]};return zQ(n,t.labels),VQ(n,t.datasets,e),n}function UOe(t,e){const{height:n=150,width:r=300,redraw:s=!1,datasetIdKey:i,type:a,data:o,options:l,plugins:u=[],fallbackContent:d,updateMode:p,...f}=t,h=T.useRef(null),y=T.useRef(null),m=()=>{h.current&&(y.current=new U2(h.current,{type:a,data:BOe(o,i),options:l&&{...l},plugins:u}),q8(e,y.current))},g=()=>{q8(e,null),y.current&&(y.current.destroy(),y.current=null)};return T.useEffect(()=>{!s&&y.current&&l&&FOe(y.current,l)},[s,l]),T.useEffect(()=>{!s&&y.current&&zQ(y.current.config.data,o.labels)},[s,o.labels]),T.useEffect(()=>{!s&&y.current&&o.datasets&&VQ(y.current.config.data,o.datasets,i)},[s,o.datasets]),T.useEffect(()=>{y.current&&(s?(g(),setTimeout(m)):y.current.update(p))},[s,l,o.labels,o.datasets,p]),T.useEffect(()=>{y.current&&(g(),setTimeout(m))},[a]),T.useEffect(()=>(m(),()=>g()),[]),Se.createElement("canvas",{ref:h,role:"img",height:n,width:r,...f},d)}const zOe=T.forwardRef(UOe);function HQ(t,e){return U2.register(e),T.forwardRef((n,r)=>Se.createElement(zOe,{...n,ref:r,type:t}))}const VOe=HQ("line",Xw),HOe=HQ("bar",qw);U2.register(IN,kN,Qw,Eu,ex,TOe,ROe,wOe,hOe);const WOe=({selectedToken:t,onClose:e,userWallet:n})=>{const{provider:r,signer:s,isConnected:i}=er(),[a,o]=T.useState({buys:[],sells:[]}),[l,u]=T.useState([]),[d,p]=T.useState([]),[f,h]=T.useState([]),[y,m]=T.useState([]),[g,v]=T.useState("sell"),[b,w]=T.useState("limit"),[A,I]=T.useState(""),[C,E]=T.useState(""),[N,_]=T.useState(!1),U=!0;T.useEffect(()=>{(async()=>{try{$(),Ie.success("Marketplace loaded! Permissionless trading is enabled.")}catch(L){console.error("Error initializing marketplace:",L),$()}})()},[t]);const $=()=>{const S=[{orderId:"1",side:"sell",price:1.05,amount:100,total:105,timestamp:Date.now(),user:"0x123...",filled:0,status:"active"},{orderId:"2",side:"sell",price:1.04,amount:250,total:260,timestamp:Date.now(),user:"0x456...",filled:0,status:"active"},{orderId:"3",side:"sell",price:1.03,amount:150,total:154.5,timestamp:Date.now(),user:"0x789...",filled:0,status:"active"},{orderId:"4",side:"sell",price:1.02,amount:300,total:306,timestamp:Date.now(),user:"0xabc...",filled:0,status:"active"},{orderId:"5",side:"sell",price:1.01,amount:200,total:202,timestamp:Date.now(),user:"0xdef...",filled:0,status:"active"}],L=[{orderId:"6",side:"buy",price:.99,amount:150,total:148.5,timestamp:Date.now(),user:"0x111...",filled:0,status:"active"},{orderId:"7",side:"buy",price:.98,amount:200,total:196,timestamp:Date.now(),user:"0x222...",filled:0,status:"active"},{orderId:"8",side:"buy",price:.97,amount:100,total:97,timestamp:Date.now(),user:"0x333...",filled:0,status:"active"},{orderId:"9",side:"buy",price:.96,amount:300,total:288,timestamp:Date.now(),user:"0x444...",filled:0,status:"active"},{orderId:"10",side:"buy",price:.95,amount:250,total:237.5,timestamp:Date.now(),user:"0x555...",filled:0,status:"active"}];o({sells:S.sort((z,Q)=>z.price-Q.price),buys:L.sort((z,Q)=>Q.price-z.price)});const V=[{tradeId:"1",price:1,amount:50,timestamp:Date.now()-3e5,side:"buy"},{tradeId:"2",price:.99,amount:75,timestamp:Date.now()-6e5,side:"sell"},{tradeId:"3",price:1.01,amount:25,timestamp:Date.now()-9e5,side:"buy"},{tradeId:"4",price:1,amount:100,timestamp:Date.now()-12e5,side:"sell"},{tradeId:"5",price:1.02,amount:60,timestamp:Date.now()-15e5,side:"buy"}];u(V);const F=Array.from({length:24},(z,Q)=>t.currentPrice+(Math.random()-.5)*.1);h(F);const R=Array.from({length:24},()=>Math.random()*1e3+500);m(R)},B=async()=>{if(!A||!C){Ie.error("Please enter valid price and amount");return}if(!i){Ie.error("Please connect your wallet");return}Ie.info("Redirecting to OrderBook for advanced trading..."),_(!0);try{const S=parseFloat(A),L=parseInt(C);await new Promise(V=>setTimeout(V,1e3)),g==="sell"?Ie.success(`Mock sell order created: ${L} tokens at ${S} U2U each`):Ie.success(`Mock buy order created: ${L} tokens at ${S} U2U each`),$(),I(""),E("")}catch(S){console.error("Mock order creation:",S),Ie.error("Mock order creation demonstration completed")}finally{_(!1)}},j=async S=>{try{_(!0),Ie.info("Mock purchase from P2P order..."),await new Promise(L=>setTimeout(L,1e3)),Ie.success(`Mock purchase completed: ${S.amount} tokens at ${S.price} U2U each`),$()}catch(L){console.error("Mock purchase:",L),Ie.error("Mock purchase demonstration completed")}finally{_(!1)}},x=async S=>{try{_(!0),Ie.info("Mock order cancellation..."),await new Promise(L=>setTimeout(L,1e3)),Ie.success(`Mock order cancelled: ${S}`),$()}catch(L){console.error("Mock cancellation:",L),Ie.error("Mock cancellation demonstration completed")}finally{_(!1)}},k={labels:Array.from({length:24},(S,L)=>`${L}:00`),datasets:[{label:"Price (ETH)",data:f,borderColor:t.priceChange24h>=0?"#10B981":"#EF4444",backgroundColor:t.priceChange24h>=0?"rgba(16, 185, 129, 0.1)":"rgba(239, 68, 68, 0.1)",borderWidth:2,fill:!0,tension:.4}]},M={labels:Array.from({length:24},(S,L)=>`${L}:00`),datasets:[{label:"Volume",data:y,backgroundColor:"rgba(59, 130, 246, 0.8)",borderColor:"rgb(59, 130, 246)",borderWidth:1}]},P={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{x:{display:!0,grid:{display:!1}},y:{display:!0,grid:{color:"rgba(0, 0, 0, 0.1)"}}}};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl max-w-7xl w-full h-[90vh] overflow-hidden flex flex-col",children:[c.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-b border-blue-200 p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:c.jsx(Ql,{className:"w-4 h-4 text-blue-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-blue-900",children:" Trading Demo Interface"}),c.jsx("p",{className:"text-sm text-blue-700",children:"This is a demonstration interface with mock data."})]})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(re,{variant:"outline",size:"sm",onClick:()=>window.open("/orderbook","_blank"),className:"bg-white text-blue-600 border-blue-300 hover:bg-blue-50",children:" Open Real OrderBook"}),c.jsx("p",{className:"text-xs text-blue-600",children:"Use OrderBook for actual trading"})]})]})}),c.jsxs("div",{className:"p-6 border-b flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:c.jsx(Ql,{className:"w-5 h-5 text-blue-600"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl font-bold text-gray-900",children:t.name}),c.jsxs("p",{className:"text-sm text-gray-600",children:["#",t.tokenId,"  Secondary Market"]})]})]}),c.jsxs("div",{className:"flex items-center space-x-6",children:[c.jsxs("div",{className:"text-center",children:[c.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[t.currentPrice.toFixed(4)," ETH"]}),c.jsxs("div",{className:`flex items-center justify-center space-x-1 ${t.priceChange24h>=0?"text-green-600":"text-red-600"}`,children:[t.priceChange24h>=0?c.jsx(gs,{className:"w-4 h-4"}):c.jsx(Z5,{className:"w-4 h-4"}),c.jsxs("span",{className:"text-sm font-medium",children:[t.priceChange24h>=0?"+":"",t.priceChange24h.toFixed(2),"%"]})]})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"24h Volume"}),c.jsxs("p",{className:"font-bold",children:[t.volume24h.toFixed(2)," ETH"]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Market Cap"}),c.jsxs("p",{className:"font-bold",children:[(t.marketCap/1e3).toFixed(1),"K ETH"]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Your Balance"}),c.jsx("p",{className:"font-bold text-blue-600",children:t.userBalance})]})]})]})]}),c.jsx("div",{className:"mx-6",children:c.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[c.jsx("h3",{className:"font-medium text-green-800 mb-2",children:" Trading Enabled"}),c.jsx("p",{className:"text-sm text-green-600",children:"Permissionless trading is active. No KYC required."})]})}),c.jsx(re,{variant:"outline",onClick:e,children:"Close"})]}),c.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[c.jsxs("div",{className:"flex-1 flex flex-col",children:[c.jsxs("div",{className:"h-80 p-6 border-b",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Price Chart (24h)"}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx(st,{variant:"outline",children:"1H"}),c.jsx(st,{variant:"default",children:"24H"}),c.jsx(st,{variant:"outline",children:"7D"}),c.jsx(st,{variant:"outline",children:"30D"})]})]}),c.jsx("div",{className:"h-64",children:c.jsx(VOe,{data:k,options:P})})]}),c.jsxs("div",{className:"flex-1 p-6",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"P2P Trading"}),c.jsx("p",{className:"text-sm text-gray-600",children:"List your tokens for sale or buy from other users in the peer-to-peer marketplace"})]}),c.jsxs(wc,{value:g,onValueChange:S=>v(S),children:[c.jsxs(ol,{className:"grid w-full grid-cols-2",children:[c.jsx(vn,{value:"sell",className:"text-red-600 font-semibold",children:" List Tokens for Sale"}),c.jsx(vn,{value:"buy",className:"text-green-600",children:" Buy from Market"})]}),c.jsx(jn,{value:"sell",className:"space-y-4",children:c.jsx(X8,{side:"sell",orderType:b,setOrderType:w,price:A,setPrice:I,amount:C,setAmount:E,onSubmit:B,loading:N,tokenInfo:t,kycVerified:!0})}),c.jsx(jn,{value:"buy",className:"space-y-4",children:c.jsx(X8,{side:"buy",orderType:b,setOrderType:w,price:A,setPrice:I,amount:C,setAmount:E,onSubmit:B,loading:N,tokenInfo:t,kycVerified:!0})})]})]})]}),c.jsxs("div",{className:"w-96 border-l flex flex-col",children:[c.jsxs("div",{className:"flex-1 p-4",children:[c.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[c.jsx(W5,{className:"w-5 h-5 mr-2"}),"Order Book"]}),c.jsx(GOe,{orderBook:a,currentPrice:t.currentPrice,onBuyFromOrder:j,onCancelOrder:x,userWallet:n,kycVerified:U})]}),c.jsx("div",{className:"h-64 p-4 border-t",children:c.jsxs(wc,{defaultValue:"trades",className:"h-full",children:[c.jsxs(ol,{className:"grid w-full grid-cols-2 mb-4",children:[c.jsx(vn,{value:"trades",children:"Recent Trades"}),c.jsx(vn,{value:"myorders",children:"My Orders"})]}),c.jsx(jn,{value:"trades",className:"h-44",children:c.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:l.map(S=>c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:`w-2 h-2 rounded-full ${S.side==="buy"?"bg-green-500":"bg-red-500"}`}),c.jsx("span",{className:"font-mono",children:S.price.toFixed(4)})]}),c.jsx("span",{className:"text-gray-600",children:S.amount}),c.jsx("span",{className:"text-xs text-gray-500",children:new Date(S.timestamp).toLocaleTimeString()})]},S.tradeId))})}),c.jsx(jn,{value:"myorders",className:"h-44",children:c.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:d.length===0?c.jsx("div",{className:"text-center text-gray-500 py-4",children:"No active orders"}):d.map(S=>c.jsxs("div",{className:"flex items-center justify-between text-sm bg-gray-50 p-2 rounded",children:[c.jsxs("div",{className:"flex flex-col",children:[c.jsxs("span",{className:"font-mono text-xs",children:[S.price.toFixed(4)," ETH"]}),c.jsxs("span",{className:"text-gray-500 text-xs",children:[S.amount," tokens"]})]}),c.jsx(st,{variant:S.status==="active"?"default":"secondary",children:S.status}),S.status==="active"&&c.jsx(re,{size:"sm",variant:"outline",className:"text-xs h-6 px-2 border-red-300 text-red-600 hover:bg-red-100",onClick:()=>x(S.orderId),children:"Cancel"})]},S.orderId))})})]})})]})]}),c.jsxs("div",{className:"h-32 p-4 border-t",children:[c.jsx("h3",{className:"text-sm font-semibold mb-2",children:"Volume (24h)"}),c.jsx("div",{className:"h-20",children:c.jsx(HOe,{data:M,options:{...P,scales:{...P.scales,y:{display:!1}}}})})]})]})})},X8=({side:t,orderType:e,setOrderType:n,price:r,setPrice:s,amount:i,setAmount:a,onSubmit:o,loading:l,tokenInfo:u,kycVerified:d})=>{const p=r&&i?(parseFloat(r)*parseFloat(i)).toFixed(6):"0";return c.jsxs(_e,{children:[c.jsxs(_t,{children:[c.jsxs(Lt,{className:`flex items-center ${t==="buy"?"text-green-600":"text-red-600"}`,children:[t==="buy"?c.jsx(wu,{className:"w-5 h-5 mr-2"}):c.jsx(wse,{className:"w-5 h-5 mr-2"}),t==="buy"?"Buy":"List for Sale"," ",u.symbol]}),t==="sell"&&c.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Create a sell order to list your ",u.symbol," tokens for sale in the P2P marketplace"]})]}),c.jsxs(Le,{className:"space-y-4",children:[c.jsxs("div",{className:"flex space-x-2",children:[c.jsx(re,{variant:e==="limit"?"default":"outline",size:"sm",onClick:()=>n("limit"),className:"flex-1",children:"Limit Order"}),c.jsx(re,{variant:e==="market"?"default":"outline",size:"sm",onClick:()=>n("market"),className:"flex-1",children:"Market Order"})]}),e==="limit"&&c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ut,{htmlFor:"price",children:"Price (ETH)"}),c.jsx(rn,{id:"price",type:"number",placeholder:"0.0000",value:r,onChange:f=>s(f.target.value),step:"0.0001"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(Ut,{htmlFor:"amount",children:"Amount"}),t==="sell"&&c.jsxs("span",{className:"text-xs text-gray-500",children:["Available: ",u.userBalance]})]}),c.jsx(rn,{id:"amount",type:"number",placeholder:"0",value:i,onChange:f=>a(f.target.value),step:"1"}),t==="sell"&&c.jsxs("div",{className:"flex space-x-2",children:[c.jsx(re,{variant:"outline",size:"sm",onClick:()=>a((u.userBalance*.25).toString()),children:"25%"}),c.jsx(re,{variant:"outline",size:"sm",onClick:()=>a((u.userBalance*.5).toString()),children:"50%"}),c.jsx(re,{variant:"outline",size:"sm",onClick:()=>a((u.userBalance*.75).toString()),children:"75%"}),c.jsx(re,{variant:"outline",size:"sm",onClick:()=>a(u.userBalance.toString()),children:"Max"})]})]}),c.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm text-gray-600",children:"Total"}),c.jsxs("span",{className:"font-bold",children:[p," ETH"]})]})}),c.jsx(re,{onClick:o,disabled:l||!i||e==="limit"&&!r||!d,className:`w-full ${t==="buy"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"} ${d?"":"opacity-50 cursor-not-allowed"}`,children:l?c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating Order..."]}):d?`${t==="buy"?"Buy":"List for Sale"} ${u.symbol}`:"KYC Verification Required"})]})]})},GOe=({orderBook:t,currentPrice:e,onBuyFromOrder:n,onCancelOrder:r,userWallet:s="",kycVerified:i=!1})=>c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-medium text-red-600 mb-2",children:"Sell Orders"}),c.jsxs("div",{className:"space-y-1",children:[t.sells.slice(0,8).map(a=>{const o=a.user.startsWith(s.substring(0,6));return c.jsxs("div",{className:"flex justify-between items-center text-xs bg-red-50 p-2 rounded",children:[c.jsxs("div",{className:"flex flex-col",children:[c.jsxs("span",{className:"text-red-600 font-mono",children:[a.price.toFixed(4)," ETH"]}),c.jsx("span",{className:"text-gray-500 text-xs",children:a.user})]}),c.jsx("span",{className:"text-gray-600 font-medium",children:a.amount}),c.jsxs("div",{className:"flex flex-col items-end",children:[c.jsx("span",{className:"text-gray-900 font-medium",children:a.total.toFixed(4)}),o?c.jsx(re,{size:"sm",variant:"outline",className:"text-xs h-6 px-2 mt-1 border-red-300 text-red-600 hover:bg-red-100",onClick:()=>r==null?void 0:r(a.orderId),children:"Cancel"}):c.jsx(re,{size:"sm",variant:"default",className:"text-xs h-6 px-2 mt-1 bg-green-600 hover:bg-green-700",onClick:()=>n==null?void 0:n(a),disabled:!i,children:"Buy"})]})]},a.orderId)}),t.sells.length===0&&c.jsx("div",{className:"text-center text-gray-500 py-4",children:"No sell orders available"})]})]}),c.jsx("div",{className:"py-2 px-3 bg-gray-100 rounded text-center",children:c.jsxs("span",{className:"font-bold text-gray-900",children:[e.toFixed(4)," ETH"]})}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-medium text-green-600 mb-2",children:"Buy Orders"}),c.jsx("div",{className:"space-y-1",children:t.buys.slice(0,5).map(a=>c.jsxs("div",{className:"flex justify-between text-xs",children:[c.jsx("span",{className:"text-green-600 font-mono",children:a.price.toFixed(4)}),c.jsx("span",{className:"text-gray-600",children:a.amount}),c.jsx("span",{className:"text-gray-500",children:a.total.toFixed(2)})]},a.orderId))})]})]}),KOe=["function isRegistered(address user) external view returns (bool)","function registerIdentity(address user, address provider) external","function getIdentity(address user) external view returns (address)"],YOe=["function hasValidClaim(address user) external view returns (bool)","function issueClaim(address user) external","function getClaimData(address user) external view returns (tuple(uint256 claimId, uint256 issuanceDate, uint256 expiryDate, bool isValid))"],qOe=["function canTransfer(address from, address to, uint256 amount) external view returns (bool)","function validateCompliance(address user) external view returns (bool)"];class XOe{constructor(e,n){Ke(this,"provider");Ke(this,"signer");Ke(this,"identityRegistry",null);Ke(this,"kycVendor",null);Ke(this,"ruleContract",null);Ke(this,"contractsInitialized",!1);this.provider=e,this.signer=n,this.initializeContracts()}async initializeContracts(){try{if(dr.IDENTITY_REGISTRY&&dr.MOCK_KYC_VENDOR&&dr.RULE_CONTRACT){const[e,n,r]=await Promise.all([this.provider.getCode(dr.IDENTITY_REGISTRY),this.provider.getCode(dr.MOCK_KYC_VENDOR),this.provider.getCode(dr.RULE_CONTRACT)]);e!=="0x"&&n!=="0x"&&r!=="0x"?(this.identityRegistry=new at(dr.IDENTITY_REGISTRY,KOe,this.signer||this.provider),this.kycVendor=new at(dr.MOCK_KYC_VENDOR,YOe,this.signer||this.provider),this.ruleContract=new at(dr.RULE_CONTRACT,qOe,this.provider),this.contractsInitialized=!0,console.log("ERC-3643 contracts initialized successfully")):console.warn("One or more ERC-3643 contracts not found at specified addresses")}else console.warn("ERC-3643 contract addresses not configured for current network")}catch(e){console.error("Failed to initialize ERC-3643 contracts:",e)}}async checkComplianceStatus(e){try{if(!this.contractsInitialized||!this.identityRegistry||!this.kycVendor)return console.warn("ERC-3643 contracts not available, returning default compliance status"),{isRegistered:!1,hasValidKYC:!1,canTrade:!1,lastChecked:Date.now()};const n=await this.identityRegistry.isRegistered(e),r=await this.kycVendor.hasValidClaim(e);let s;if(r)try{const a=await this.kycVendor.getClaimData(e);s={claimId:a.claimId.toString(),issuanceDate:Number(a.issuanceDate),expiryDate:Number(a.expiryDate),isValid:a.isValid}}catch(a){console.warn("Could not retrieve KYC claim data:",a)}return{isRegistered:n,hasValidKYC:r,canTrade:n&&r,kycData:s,lastChecked:Date.now()}}catch(n){return console.error("Error checking compliance status:",n),{isRegistered:!1,hasValidKYC:!1,canTrade:!1,lastChecked:Date.now()}}}async registerForKYC(e){if(!this.signer)throw new Error("Signer required for KYC registration");if(!this.contractsInitialized||!this.identityRegistry||!this.kycVendor)throw new Error("ERC-3643 contracts not available. Please ensure you are connected to the correct network.");try{await this.identityRegistry.isRegistered(e)||(console.log("Registering user identity..."),await(await this.identityRegistry.registerIdentity(e,dr.MOCK_KYC_VENDOR)).wait(),console.log("Identity registered successfully")),console.log("Issuing KYC claim...");const s=await(await this.kycVendor.issueClaim(e)).wait();return console.log("KYC claim issued successfully"),s.transactionHash}catch(n){throw console.error("KYC registration failed:",n),new Error(`KYC registration failed: ${n.message}`)}}async validateTransfer(e,n,r){try{if(!this.contractsInitialized)return console.warn("ERC-3643 contracts not available, allowing transfer"),{canTransfer:!0,reason:"Compliance contracts not available - transfer allowed"};const[s,i]=await Promise.all([this.checkComplianceStatus(e),this.checkComplianceStatus(n)]);if(!s.canTrade)return{canTransfer:!1,reason:"Sender not KYC verified",requiresAction:"Complete KYC verification to enable trading"};if(!i.canTrade)return{canTransfer:!1,reason:"Recipient not KYC verified",requiresAction:"Recipient must complete KYC verification"};if(this.ruleContract)try{if(!await this.ruleContract.canTransfer(e,n,to(r.toString())))return{canTransfer:!1,reason:"Transfer blocked by compliance rules",requiresAction:"Contact support for rule clarification"}}catch(a){console.warn("Rule contract validation failed, allowing transfer:",a)}return{canTransfer:!0,reason:"All compliance checks passed"}}catch(s){return console.error("Transfer validation failed:",s),{canTransfer:!1,reason:"Validation error occurred",requiresAction:"Please try again or contact support"}}}async isKYCExpired(e){try{const n=await this.checkComplianceStatus(e);return n.kycData?Math.floor(Date.now()/1e3)>n.kycData.expiryDate:!0}catch(n){return console.error("Error checking KYC expiry:",n),!0}}async getIdentityProvider(e){try{return await this.identityRegistry.getIdentity(e)}catch(n){return console.error("Error getting identity provider:",n),null}}async batchCheckCompliance(e){const n=new Map;try{const r=e.map(i=>this.checkComplianceStatus(i).then(a=>({address:i,status:a})).catch(a=>({address:i,status:{isRegistered:!1,hasValidKYC:!1,canTrade:!1,lastChecked:Date.now()}})));(await Promise.all(r)).forEach(({address:i,status:a})=>{n.set(i,a)})}catch(r){console.error("Batch compliance check failed:",r)}return n}getContractAddresses(){return dr}formatComplianceStatus(e){return e.canTrade?"Verified ":e.isRegistered&&!e.hasValidKYC?"KYC Pending ":e.isRegistered?"Verification Failed ":"Registration Required "}getKYCTimeToExpiry(e){if(!e.kycData||!e.kycData.isValid)return null;const n=Math.floor(Date.now()/1e3),r=e.kycData.expiryDate-n;if(r<=0)return"Expired";const s=Math.floor(r/(24*60*60)),i=Math.floor(r%(24*60*60)/(60*60));return s>0?`${s} days, ${i} hours`:`${i} hours`}}let jk=null;const L1=(t,e)=>(jk||(jk=new XOe(t,e)),jk),ZOe=cT("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Qr=T.forwardRef(({className:t,variant:e,...n},r)=>c.jsx("div",{ref:r,role:"alert",className:dt(ZOe({variant:e}),t),...n}));Qr.displayName="Alert";const JOe=T.forwardRef(({className:t,...e},n)=>c.jsx("h5",{ref:n,className:dt("mb-1 font-medium leading-none tracking-tight",t),...e}));JOe.displayName="AlertTitle";const es=T.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:dt("text-sm [&_p]:leading-relaxed",t),...e}));es.displayName="AlertDescription";class CN{static async checkAndSwitchNetwork(e){try{if(!window.ethereum)return Ie.error("Please install MetaMask to continue"),!1;const n=Ar[Pn],r=await window.ethereum.request({method:"eth_chainId"});if(parseInt(r,16)===n.chainId)return!0;if(!window.confirm(`You need to switch to ${n.name} (Chain ID: ${n.chainId}) to use ERC-3643 features. Switch now?`))return Ie.error("Please switch to the correct network to continue"),!1;try{return await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:`0x${n.chainId.toString(16)}`}]}),Ie.success(`Switched to ${n.name}`),!0}catch(a){if(a.code===4902)try{return await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:`0x${n.chainId.toString(16)}`,chainName:n.name,nativeCurrency:n.nativeCurrency,rpcUrls:[n.rpcUrl],blockExplorerUrls:[n.blockExplorer]}]}),Ie.success(`Added and switched to ${n.name}`),!0}catch(o){return console.error("Failed to add network:",o),Ie.error("Failed to add network. Please add it manually."),!1}else return console.error("Failed to switch network:",a),Ie.error("Failed to switch network. Please switch manually."),!1}}catch(n){return console.error("Network detection error:",n),Ie.error("Network detection failed"),!1}}static isCorrectNetwork(e){return e?e===Ar[Pn].chainId:!1}static getCurrentNetworkInfo(){return Ar[Pn]}static async getNetworkStatus(){try{if(!window.ethereum)return{isConnected:!1,isCorrectNetwork:!1,targetChainId:Ar[Pn].chainId,networkName:Ar[Pn].name};const e=await window.ethereum.request({method:"eth_chainId"}),n=parseInt(e,16),r=Ar[Pn].chainId;return{isConnected:!0,isCorrectNetwork:n===r,currentChainId:n,targetChainId:r,networkName:Ar[Pn].name}}catch(e){return console.error("Failed to get network status:",e),{isConnected:!1,isCorrectNetwork:!1,targetChainId:Ar[Pn].chainId,networkName:Ar[Pn].name}}}}const QOe=({onNetworkSwitched:t})=>{const{isConnected:e,chainId:n}=er(),[r,s]=T.useState(null),[i,a]=T.useState(!1),o=Ar[Pn];T.useEffect(()=>{e&&(async()=>{const d=await CN.getNetworkStatus();s(d)})()},[e,n]);const l=async()=>{a(!0);try{await CN.checkAndSwitchNetwork()&&t&&t()}catch(u){console.error("Network switch failed:",u)}finally{a(!1)}};return e?r?r.isCorrectNetwork?c.jsxs(Qr,{className:"border-green-200 bg-green-50",children:[c.jsx(Hr,{className:"h-4 w-4 text-green-600"}),c.jsxs(es,{className:"text-green-800",children:["Connected to ",o.name," - ERC-3643 features available"]})]}):c.jsxs(_e,{className:"border-gray-800 bg-gray-900",children:[c.jsx(_t,{className:"pb-3",children:c.jsxs(Lt,{className:"flex items-center gap-2 text-orange-800",children:[c.jsx(Bg,{className:"h-5 w-5"}),"Network Switch Required"]})}),c.jsxs(Le,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm text-orange-700",children:"Current Network:"}),c.jsxs(st,{variant:"outline",className:"border-orange-300 text-orange-700",children:["Chain ID: ",r.currentChainId]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm text-orange-700",children:"Required Network:"}),c.jsxs(st,{className:"bg-green-600 text-white",children:[o.name," (Chain ID: ",o.chainId,")"]})]})]}),c.jsx(Qr,{className:"border-orange-300 bg-orange-100",children:c.jsxs(es,{className:"text-orange-800 text-sm",children:["ERC-3643 compliance features require connection to ",o.name,". Your existing dApp features will continue to work on any network."]})}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[c.jsx(re,{onClick:l,disabled:i,className:"flex-1",variant:"default",children:i?"Switching...":`Switch to ${o.name}`}),c.jsxs(re,{variant:"outline",onClick:()=>window.open(o.blockExplorer,"_blank"),className:"flex items-center gap-2",children:[c.jsx(Rx,{className:"h-4 w-4"}),"Explorer"]})]}),c.jsxs("div",{className:"text-xs text-orange-600 space-y-1",children:[c.jsx("p",{children:c.jsx("strong",{children:"Network Details:"})}),c.jsxs("p",{children:[" RPC URL: ",o.rpcUrl]}),c.jsxs("p",{children:[" Chain ID: ",o.chainId]}),c.jsxs("p",{children:[" Currency: ",o.nativeCurrency.symbol]})]})]})]}):c.jsxs(Qr,{children:[c.jsx(v3,{className:"h-4 w-4"}),c.jsx(es,{children:"Checking network status..."})]}):c.jsxs(Qr,{children:[c.jsx(v3,{className:"h-4 w-4"}),c.jsx(es,{children:"Please connect your wallet to check network status."})]})},e$e={apiKey:"b083ca16f49fbb6a127f",apiSecret:""},Z8="0x...",t$e=["function publishMerkleTree(bytes32 root, string calldata ipfsCID, uint256 expiryTimestamp) external returns (bytes32 treeId)","function verifyKYC(bytes32 treeId, bytes32[] calldata proof) external returns (bool)","function verifyKYCForUser(address user, bytes32 treeId, bytes32[] calldata proof) external view returns (bool)","function isKYCVerified(address user) external view returns (bool)","function getLeafHash(address user) external view returns (bytes32)","function getActiveTreeIds() external view returns (bytes32[] memory)","function getTreeData(bytes32 treeId) external view returns (tuple(bytes32 root, string ipfsCID, uint256 timestamp, uint256 expiryTimestamp, bool isActive, address issuer))"],n$e=({isOpen:t,onClose:e,userAddress:n,onKYCComplete:r,isAdmin:s=!1})=>{const{provider:i,signer:a,address:o}=er(),[l,u]=T.useState(null),[d,p]=T.useState(null),[f,h]=T.useState(null),[y,m]=T.useState(null),g=n||o,[v,b]=T.useState({fullName:"",email:"",dateOfBirth:"",nationality:"",documentType:"passport",documentNumber:"",documentExpiry:"",verificationLevel:"basic"}),[w,A]=T.useState({step:"form",loading:!1}),[I,C]=T.useState(""),[E,N]=T.useState([]);T.useEffect(()=>{(async()=>{if(i){const M=await CN.getNetworkStatus();m(M);const P=L1(i,a);if(u(P),a&&Z8){const S=new at(Z8,t$e,a);h(S)}}})()},[i,a]),T.useEffect(()=>{t&&f&&_()},[t,f]);const _=async()=>{if(f)try{const k=await f.getActiveTreeIds(),M=await Promise.all(k.map(async P=>{const S=await f.getTreeData(P);return{id:P,...S}}));N(M)}catch(k){console.error("Failed to load active trees:",k)}},U=async()=>{if(!d||!g){Ie.error("Service not initialized or address missing");return}A(k=>({...k,loading:!0,step:"upload"}));try{const k={address:g,...v,timestamp:Math.floor(Date.now()/1e3),ipAddress:"masked",userAgent:"masked"},M=await d.uploadKYCData(k,{name:`KYC-${g}-${Date.now()}`,keyvalues:{address:g,verificationLevel:v.verificationLevel,type:"individual-kyc"}});A(P=>({...P,ipfsHash:M,step:"verify",loading:!1})),Ie.success("KYC data uploaded to IPFS successfully!")}catch(k){console.error("KYC upload failed:",k),A(M=>({...M,loading:!1,error:k.message,step:"form"})),Ie.error(`Upload failed: ${k.message}`)}},$=async()=>{if(!d||!f||!I.trim()){Ie.error("Missing required data for batch KYC");return}A(k=>({...k,loading:!0}));try{const k=I.split(`
`).map(R=>R.trim()).filter(R=>R&&l2e(R));if(k.length===0)throw new Error("No valid addresses provided");const M=da(sc(`kyc-salt-${Date.now()}`)),P=d.generateMerkleTree(k,o||"",M),S=await d.uploadMerkleTree(P,{name:`MerkleKYC-Batch-${Date.now()}`,keyvalues:{type:"merkle-kyc-tree",userCount:k.length.toString(),issuer:o||""}}),L=Math.floor(Date.now()/1e3)+365*24*60*60,F=await(await f.publishMerkleTree(P.root,S,L)).wait();A(R=>({...R,loading:!1,ipfsHash:S,transactionHash:F.transactionHash,step:"complete"})),Ie.success(`Batch KYC published! ${k.length} users can now verify.`),_()}catch(k){console.error("Batch KYC failed:",k),A(M=>({...M,loading:!1,error:k.message})),Ie.error(`Batch KYC failed: ${k.message}`)}},B=async k=>{if(!f||!d||!g){Ie.error("Service not initialized");return}A(M=>({...M,loading:!0}));try{const M=await f.getTreeData(k),S=(await d.retrieveFromIPFS(M.ipfsCID)).proofs[g];if(!S)throw new Error("User not found in this KYC batch");const V=await(await f.verifyKYC(k,S)).wait();A(F=>({...F,loading:!1,transactionHash:V.transactionHash,merkleProof:S,step:"complete"})),Ie.success("KYC verification successful!"),r&&r(!0,{treeId:k,proof:S,txHash:V.transactionHash})}catch(M){console.error("KYC verification failed:",M),A(P=>({...P,loading:!1,error:M.message})),Ie.error(`Verification failed: ${M.message}`)}},j=()=>{A({step:"form",loading:!1}),b({fullName:"",email:"",dateOfBirth:"",nationality:"",documentType:"passport",documentNumber:"",documentExpiry:"",verificationLevel:"basic"})},x=k=>{navigator.clipboard.writeText(k),Ie.success("Copied to clipboard!")};return!d&&e$e.apiKey?c.jsx(Os,{open:t,onOpenChange:e,children:c.jsxs(ws,{children:[c.jsx(xs,{children:c.jsxs(Ts,{className:"flex items-center",children:[c.jsx(ec,{className:"w-5 h-5 mr-2 text-red-500"}),"Configuration Required"]})}),c.jsxs(Qr,{className:"border-red-200 bg-red-50",children:[c.jsx(ec,{className:"h-4 w-4 text-red-600"}),c.jsx(es,{className:"text-red-800",children:"Pinata API credentials are required for enhanced KYC flow. Please configure REACT_APP_PINATA_API_KEY and REACT_APP_PINATA_SECRET environment variables."})]})]})}):c.jsx(Os,{open:t,onOpenChange:e,children:c.jsxs(ws,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[c.jsxs(xs,{children:[c.jsxs(Ts,{className:"flex items-center",children:[c.jsx(Wo,{className:"w-5 h-5 mr-2"}),"Enhanced KYC Verification"]}),c.jsx(Bo,{children:"Privacy-preserving KYC using IPFS storage and Merkle proof verification"})]}),c.jsx(QOe,{onNetworkSwitched:()=>{if(i&&a){const k=L1(i,a);u(k)}}}),c.jsxs(wc,{defaultValue:s?"admin":"user",className:"w-full",children:[c.jsxs(ol,{className:"grid w-full grid-cols-2",children:[c.jsx(vn,{value:"user",children:"Individual KYC"}),s&&c.jsx(vn,{value:"admin",children:"Batch KYC (Admin)"})]}),c.jsxs(jn,{value:"user",className:"space-y-6",children:[w.step==="form"&&c.jsxs(_e,{children:[c.jsx(_t,{children:c.jsxs(Lt,{className:"flex items-center",children:[c.jsx(Uo,{className:"w-5 h-5 mr-2"}),"KYC Information"]})}),c.jsxs(Le,{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(Ut,{htmlFor:"fullName",children:"Full Name"}),c.jsx(rn,{id:"fullName",value:v.fullName,onChange:k=>b(M=>({...M,fullName:k.target.value})),placeholder:"Enter your full name"})]}),c.jsxs("div",{children:[c.jsx(Ut,{htmlFor:"email",children:"Email Address"}),c.jsx(rn,{id:"email",type:"email",value:v.email,onChange:k=>b(M=>({...M,email:k.target.value})),placeholder:"your@email.com"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(Ut,{htmlFor:"dateOfBirth",children:"Date of Birth"}),c.jsx(rn,{id:"dateOfBirth",type:"date",value:v.dateOfBirth,onChange:k=>b(M=>({...M,dateOfBirth:k.target.value}))})]}),c.jsxs("div",{children:[c.jsx(Ut,{htmlFor:"nationality",children:"Nationality"}),c.jsx(rn,{id:"nationality",value:v.nationality,onChange:k=>b(M=>({...M,nationality:k.target.value})),placeholder:"Your nationality"})]})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx(Ut,{htmlFor:"documentType",children:"Document Type"}),c.jsxs(Qu,{value:v.documentType,onValueChange:k=>b(M=>({...M,documentType:k})),children:[c.jsx(yc,{children:c.jsx(ed,{})}),c.jsxs(gc,{children:[c.jsx(mr,{value:"passport",children:"Passport"}),c.jsx(mr,{value:"national_id",children:"National ID"}),c.jsx(mr,{value:"drivers_license",children:"Driver's License"})]})]})]}),c.jsxs("div",{children:[c.jsx(Ut,{htmlFor:"documentNumber",children:"Document Number"}),c.jsx(rn,{id:"documentNumber",value:v.documentNumber,onChange:k=>b(M=>({...M,documentNumber:k.target.value})),placeholder:"Document number"})]}),c.jsxs("div",{children:[c.jsx(Ut,{htmlFor:"documentExpiry",children:"Document Expiry"}),c.jsx(rn,{id:"documentExpiry",type:"date",value:v.documentExpiry,onChange:k=>b(M=>({...M,documentExpiry:k.target.value}))})]})]}),c.jsxs("div",{children:[c.jsx(Ut,{htmlFor:"verificationLevel",children:"Verification Level"}),c.jsxs(Qu,{value:v.verificationLevel,onValueChange:k=>b(M=>({...M,verificationLevel:k})),children:[c.jsx(yc,{children:c.jsx(ed,{})}),c.jsxs(gc,{children:[c.jsx(mr,{value:"basic",children:"Basic (Identity + Email)"}),c.jsx(mr,{value:"enhanced",children:"Enhanced (+ Address Verification)"}),c.jsx(mr,{value:"premium",children:"Premium (+ Income Verification)"})]})]})]}),c.jsxs(Qr,{className:"border-blue-200 bg-blue-50",children:[c.jsx(gp,{className:"h-4 w-4 text-blue-600"}),c.jsx(es,{className:"text-blue-800",children:"Your personal data will be encrypted and stored on IPFS. Only verification status will be recorded on-chain."})]}),c.jsx(re,{onClick:U,disabled:w.loading||!v.fullName||!v.email,className:"w-full",children:w.loading?c.jsxs("div",{className:"flex items-center",children:[c.jsx(Fr,{className:"w-4 h-4 animate-spin mr-2"}),"Uploading to IPFS..."]}):c.jsxs("div",{className:"flex items-center",children:[c.jsx(kse,{className:"w-4 h-4 mr-2"}),"Submit KYC Data"]})})]})]}),w.step==="verify"&&c.jsxs(_e,{children:[c.jsx(_t,{children:c.jsxs(Lt,{className:"flex items-center",children:[c.jsx(Hr,{className:"w-5 h-5 mr-2 text-green-500"}),"Data Uploaded Successfully"]})}),c.jsxs(Le,{className:"space-y-4",children:[c.jsxs(Qr,{className:"border-green-200 bg-green-50",children:[c.jsx(cse,{className:"h-4 w-4 text-green-600"}),c.jsx(es,{className:"text-green-800",children:"Your KYC data has been uploaded to IPFS. You can now verify against available Merkle trees."})]}),w.ipfsHash&&c.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[c.jsx(Ut,{className:"text-sm font-medium",children:"IPFS Hash:"}),c.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[c.jsx("code",{className:"text-xs bg-white p-2 rounded border flex-1 truncate",children:w.ipfsHash}),c.jsx(re,{size:"sm",variant:"outline",onClick:()=>x(w.ipfsHash),children:c.jsx(h3,{className:"w-4 h-4"})}),c.jsx(re,{size:"sm",variant:"outline",onClick:()=>window.open(`https://gateway.pinata.cloud/ipfs/${w.ipfsHash}`,"_blank"),children:c.jsx(Rx,{className:"w-4 h-4"})})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("h4",{className:"font-medium",children:"Available KYC Trees:"}),E.length===0?c.jsxs(Qr,{children:[c.jsx(Yu,{className:"h-4 w-4"}),c.jsx(es,{children:"No active KYC trees available. Please wait for an admin to publish a batch."})]}):E.map((k,M)=>c.jsx(_e,{className:"border-gray-200",children:c.jsx(Le,{className:"p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("p",{className:"font-medium",children:["Tree #",M+1]}),c.jsxs("p",{className:"text-sm text-gray-600",children:["Issued: ",new Date(k.timestamp*1e3).toLocaleDateString()]}),c.jsxs("p",{className:"text-sm text-gray-600",children:["Expires: ",new Date(k.expiryTimestamp*1e3).toLocaleDateString()]})]}),c.jsx(re,{onClick:()=>B(k.id),disabled:w.loading,children:w.loading?"Verifying...":"Verify KYC"})]})})},k.id))]})]})]}),w.step==="complete"&&c.jsxs(_e,{children:[c.jsx(_t,{children:c.jsxs(Lt,{className:"flex items-center",children:[c.jsx(Hr,{className:"w-5 h-5 mr-2 text-green-500"}),"KYC Verification Complete"]})}),c.jsxs(Le,{className:"space-y-4",children:[c.jsxs(Qr,{className:"border-green-200 bg-green-50",children:[c.jsx(Hr,{className:"h-4 w-4 text-green-600"}),c.jsx(es,{className:"text-green-800",children:"Your KYC verification has been successfully recorded on-chain. You can now participate in compliant trading."})]}),w.transactionHash&&c.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[c.jsx(Ut,{className:"text-sm font-medium",children:"Transaction Hash:"}),c.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[c.jsx("code",{className:"text-xs bg-white p-2 rounded border flex-1 truncate",children:w.transactionHash}),c.jsx(re,{size:"sm",variant:"outline",onClick:()=>x(w.transactionHash),children:c.jsx(h3,{className:"w-4 h-4"})}),c.jsx(re,{size:"sm",variant:"outline",onClick:()=>window.open(`https://Flowscan.xyz/tx/${w.transactionHash}`,"_blank"),children:c.jsx(Rx,{className:"w-4 h-4"})})]})]}),c.jsxs("div",{className:"flex space-x-3",children:[c.jsx(re,{onClick:j,variant:"outline",className:"flex-1",children:"Start New KYC"}),c.jsx(re,{onClick:e,className:"flex-1",children:"Close"})]})]})]})]}),s&&c.jsx(jn,{value:"admin",className:"space-y-6",children:c.jsxs(_e,{children:[c.jsx(_t,{children:c.jsxs(Lt,{className:"flex items-center",children:[c.jsx(_p,{className:"w-5 h-5 mr-2"}),"Batch KYC Management"]})}),c.jsxs(Le,{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(Ut,{htmlFor:"batchUsers",children:"User Addresses (one per line)"}),c.jsx(L2,{id:"batchUsers",placeholder:`0x1234...
0x5678...
0x9abc...`,value:I,onChange:k=>C(k.target.value),rows:6,className:"font-mono text-sm"}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Enter Ethereum addresses that have completed KYC verification"})]}),c.jsx(re,{onClick:$,disabled:w.loading||!I.trim(),className:"w-full",children:w.loading?c.jsxs("div",{className:"flex items-center",children:[c.jsx(Fr,{className:"w-4 h-4 animate-spin mr-2"}),"Publishing Batch KYC..."]}):c.jsxs("div",{className:"flex items-center",children:[c.jsx(fse,{className:"w-4 h-4 mr-2"}),"Publish Batch KYC Tree"]})}),E.length>0&&c.jsxs("div",{className:"space-y-3",children:[c.jsx("h4",{className:"font-medium",children:"Active KYC Trees:"}),E.map((k,M)=>c.jsx(_e,{className:"border-gray-200",children:c.jsx(Le,{className:"p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("p",{className:"font-medium",children:["Tree #",M+1]}),c.jsxs("p",{className:"text-sm text-gray-600",children:["Root: ",k.root.substring(0,20),"..."]}),c.jsxs("p",{className:"text-sm text-gray-600",children:["IPFS: ",k.ipfsCID]})]}),c.jsx(st,{variant:k.isActive?"default":"secondary",children:k.isActive?"Active":"Inactive"})]})})},k.id))]})]})]})})]}),w.error&&c.jsxs(Qr,{className:"border-red-200 bg-red-50",children:[c.jsx(ec,{className:"h-4 w-4 text-red-600"}),c.jsx(es,{className:"text-red-800",children:w.error})]})]})})},r$e=({userAddress:t,onComplianceVerified:e,showActions:n=!0,compact:r=!1,className:s=""})=>{const{provider:i,signer:a,account:o}=er(),[l,u]=T.useState(null),[d,p]=T.useState(!1),[f,h]=T.useState(!1),[y,m]=T.useState(null),[g,v]=T.useState(!1),b=t||o;T.useEffect(()=>{if(i){const N=L1(i,a);m(N)}},[i,a]),T.useEffect(()=>{y&&b&&w()},[y,b]);const w=async()=>{if(!(!y||!b)){h(!0);try{const N=await y.checkComplianceStatus(b);u(N),e&&e(N)}catch(N){console.error("Error checking compliance:",N),Ie.error("Failed to check compliance status")}finally{h(!1)}}},A=async()=>{if(!(!y||!b)){p(!0);try{Ie.info("Starting KYC registration...");const N=await y.registerForKYC(b);Ie.success(`KYC registration successful! Transaction: ${N.substring(0,10)}...`),setTimeout(()=>{w()},2e3)}catch(N){console.error("KYC registration failed:",N),Ie.error(N.message||"KYC registration failed")}finally{p(!1)}}},I=()=>l?l.canTrade?c.jsx(Hr,{className:"w-5 h-5 text-green-500"}):l.isRegistered?c.jsx(Yu,{className:"w-5 h-5 text-yellow-500"}):c.jsx(ec,{className:"w-5 h-5 text-red-500"}):c.jsx(Wo,{className:"w-5 h-5 text-gray-400"}),C=()=>l?l.canTrade?"bg-green-100 text-green-800 border-green-200":l.isRegistered?"bg-yellow-100 text-yellow-800 border-yellow-200":"bg-red-100 text-red-800 border-red-200":"bg-gray-100 text-gray-600",E=N=>`${N.substring(0,6)}...${N.substring(N.length-4)}`;return r?c.jsxs("div",{className:`flex items-center space-x-2 ${s}`,children:[I(),c.jsx(st,{variant:"outline",className:C(),children:l?y==null?void 0:y.formatComplianceStatus(l):"Checking..."}),f&&c.jsx(Fr,{className:"w-4 h-4 animate-spin text-blue-500"})]}):c.jsxs(_e,{className:`${s}`,children:[c.jsxs(_t,{className:"pb-3",children:[c.jsxs(Lt,{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[I(),c.jsx("span",{children:"Compliance Status"})]}),c.jsx(re,{variant:"ghost",size:"sm",onClick:w,disabled:f,className:"h-8 w-8 p-0",children:c.jsx(Fr,{className:`w-4 h-4 ${f?"animate-spin":""}`})})]}),b&&c.jsxs("p",{className:"text-sm text-gray-600",children:[c.jsx(jx,{className:"w-4 h-4 inline mr-1"}),E(b)]})]}),c.jsxs(Le,{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[I(),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:l?y==null?void 0:y.formatComplianceStatus(l):"Checking..."}),c.jsx("p",{className:"text-sm text-gray-600",children:l!=null&&l.canTrade?"Ready to trade":"Trading restricted"})]})]}),c.jsx(st,{className:C(),children:l!=null&&l.canTrade?"Verified":"Pending"})]}),l&&c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-600",children:"Identity Registered:"}),c.jsx("span",{className:l.isRegistered?"text-green-600":"text-red-600",children:l.isRegistered?"Yes":"No"})]}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-600",children:"KYC Verified:"}),c.jsx("span",{className:l.hasValidKYC?"text-green-600":"text-red-600",children:l.hasValidKYC?"Yes":"No"})]}),l.kycData&&c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-600",children:"KYC Expires:"}),c.jsx("span",{className:"text-gray-900",children:(y==null?void 0:y.getKYCTimeToExpiry(l))||"Unknown"})]}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-600",children:"Last Checked:"}),c.jsx("span",{className:"text-gray-600",children:new Date(l.lastChecked).toLocaleTimeString()})]})]}),n&&l&&!l.canTrade&&c.jsxs("div",{className:"space-y-3",children:[!l.isRegistered&&c.jsxs(Qr,{children:[c.jsx(ec,{className:"h-4 w-4"}),c.jsx(es,{children:"You need to register for KYC verification to start trading."})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(re,{onClick:A,disabled:d,className:"w-full",children:d?c.jsxs("div",{className:"flex items-center",children:[c.jsx(Fr,{className:"w-4 h-4 animate-spin mr-2"}),"Registering..."]}):c.jsxs("div",{className:"flex items-center",children:[c.jsx(J5,{className:"w-4 h-4 mr-2"}),l.isRegistered?"Complete KYC":"Start KYC Registration"]})}),c.jsxs(re,{onClick:()=>v(!0),variant:"outline",className:"w-full",children:[c.jsx(Wo,{className:"w-4 h-4 mr-2"}),"Enhanced KYC (IPFS)"]})]})]}),(l==null?void 0:l.canTrade)&&c.jsxs(Qr,{className:"border-green-200 bg-green-50",children:[c.jsx(Hr,{className:"h-4 w-4 text-green-600"}),c.jsx(es,{className:"text-green-800",children:"Your account is fully verified and ready for trading!"})]}),y&&c.jsxs("div",{className:"pt-3 border-t",children:[c.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Contract Addresses:"}),c.jsx("div",{className:"space-y-1",children:Object.entries(y.getContractAddresses()).map(([N,_])=>c.jsxs("div",{className:"flex items-center justify-between text-xs",children:[c.jsx("span",{className:"text-gray-600",children:N.replace(/_/g," ")}),c.jsxs("a",{href:`https://Flowscan.xyz/address/${_}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-blue-600 hover:underline",children:[E(_),c.jsx(Rx,{className:"w-3 h-3 ml-1"})]})]},N))})]}),c.jsx(n$e,{isOpen:g,onClose:()=>v(!1),userAddress:b,onKYCComplete:N=>{N&&(v(!1),w(),Ie.success("Enhanced KYC completed successfully!"))}})]})]})},s$e=({children:t,requiresKYC:e=!0,transferDetails:n,onComplianceVerified:r,onComplianceFailed:s,blockingMode:i=!1,customMessage:a})=>{var v,b;const{provider:o,signer:l,account:u}=er(),[d,p]=T.useState({isChecking:!1,isCompliant:!1,showComplianceModal:!1,hasChecked:!1}),[f,h]=T.useState(null);T.useEffect(()=>{if(o){const w=L1(o,l);h(w)}},[o,l]),T.useEffect(()=>{f&&u&&e&&y()},[f,u,e]);const y=async()=>{if(!(!f||!u)){p(w=>({...w,isChecking:!0}));try{const w=await f.checkComplianceStatus(u);let A;n&&(A=await f.validateTransfer(n.fromAddress,n.toAddress,n.amount));const I=w.canTrade&&(A?A.canTransfer:!0);if(p(C=>({...C,isChecking:!1,isCompliant:I,complianceStatus:w,transferValidation:A,hasChecked:!0,showComplianceModal:!I&&i})),I&&r)r();else if(!I&&s){const C=(A==null?void 0:A.reason)||"KYC verification required";s(C)}}catch(w){console.error("Compliance check failed:",w),p(A=>({...A,isChecking:!1,isCompliant:!1,hasChecked:!0,showComplianceModal:i})),s&&s("Unable to verify compliance status")}}},m=()=>{p(w=>({...w,showComplianceModal:!1})),setTimeout(()=>{y()},1e3)},g=()=>{p(w=>({...w,showComplianceModal:!1}))};return d.isChecking&&i?c.jsx("div",{className:"flex items-center justify-center p-4",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Wo,{className:"w-5 h-5 animate-pulse text-blue-500"}),c.jsx("span",{className:"text-sm text-gray-600",children:"Checking compliance..."})]})}):!i&&d.hasChecked&&!d.isCompliant?c.jsxs("div",{className:"space-y-3",children:[c.jsxs(Qr,{className:"border-yellow-200 bg-yellow-50",children:[c.jsx(Bg,{className:"h-4 w-4 text-yellow-600"}),c.jsxs(es,{className:"text-yellow-800",children:[a||((v=d.transferValidation)==null?void 0:v.reason)||"KYC verification required for this action",((b=d.transferValidation)==null?void 0:b.requiresAction)&&c.jsx("div",{className:"mt-1 text-sm",children:d.transferValidation.requiresAction})]})]}),t]}):i&&d.hasChecked&&!d.isCompliant?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 bg-gray-100 bg-opacity-75 flex items-center justify-center z-10 rounded-lg",children:c.jsxs("div",{className:"text-center p-4",children:[c.jsx(Wo,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),c.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Compliance verification required"}),c.jsx(re,{size:"sm",onClick:()=>p(w=>({...w,showComplianceModal:!0})),children:"Verify Compliance"})]})}),c.jsx("div",{className:"opacity-50 pointer-events-none",children:t})]}),c.jsx(Os,{open:d.showComplianceModal,onOpenChange:g,children:c.jsxs(ws,{className:"max-w-md",children:[c.jsxs(xs,{children:[c.jsxs(Ts,{className:"flex items-center space-x-2",children:[c.jsx(Wo,{className:"w-5 h-5"}),c.jsx("span",{children:"Compliance Verification Required"})]}),c.jsx(Bo,{children:a||"Complete KYC verification to proceed with this action."})]}),c.jsxs("div",{className:"space-y-4",children:[d.transferValidation&&!d.transferValidation.canTransfer&&c.jsxs(Qr,{className:"border-red-200 bg-red-50",children:[c.jsx(Bg,{className:"h-4 w-4 text-red-600"}),c.jsxs(es,{className:"text-red-800",children:[c.jsx("strong",{children:"Transfer Blocked:"})," ",d.transferValidation.reason,d.transferValidation.requiresAction&&c.jsxs("div",{className:"mt-1",children:[c.jsx("strong",{children:"Action Required:"})," ",d.transferValidation.requiresAction]})]})]}),c.jsx(r$e,{userAddress:u,onComplianceVerified:w=>{w.canTrade&&(m(),Ie.success("Compliance verified! You can now proceed."))},showActions:!0,className:"border-0 shadow-none p-0"}),n&&c.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg text-sm",children:[c.jsx("h4",{className:"font-medium mb-2",children:"Transaction Details:"}),c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"From:"}),c.jsxs("span",{className:"font-mono",children:[n.fromAddress.substring(0,10),"..."]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"To:"}),c.jsxs("span",{className:"font-mono",children:[n.toAddress.substring(0,10),"..."]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Amount:"}),c.jsx("span",{children:n.amount})]}),n.tokenId&&c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Token ID:"}),c.jsx("span",{children:n.tokenId})]})]})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx(re,{variant:"outline",onClick:g,className:"flex-1",children:"Cancel"}),c.jsxs(re,{onClick:y,className:"flex-1",children:[c.jsx(J5,{className:"w-4 h-4 mr-2"}),"Recheck"]})]})]})]})})]}):c.jsx(c.Fragment,{children:t})},J8={async getClaimableRevenue(t,e,n,r){return(await Kw.newClient({environment:Environment.TEST,signer:r}).royalty.claimableRevenue({ipId:t,claimer:e,token:n})).toString()},async claimRevenue(t,e,n,r){await Kw.newClient({environment:Environment.TEST,signer:r}).royalty.claimRevenue({ipId:t,token:n})},async payRoyaltyOnBehalf(t,e,n,r,s){await Kw.newClient({environment:Environment.TEST,signer:s}).royalty.payRoyaltyOnBehalf({payerIpId:t,receiverIpId:e,token:n,amount:r})}},WQ=()=>{const{signer:t,provider:e}=er(),[n,r]=T.useState("0"),[s,i]=T.useState(!1);T.useEffect(()=>{t&&a()},[t]);const a=async()=>{if(t){i(!0);try{const d=await J8.getClaimableRevenue("0x1234567890123456789012345678901234567890",await t.getAddress(),"0x0000000000000000000000000000000000000000",t);r(d)}catch(l){console.error("Error fetching claimable revenue:",l),Ie.error("Failed to fetch claimable revenue.")}finally{i(!1)}}},o=async()=>{if(t){i(!0);try{await J8.claimRevenue("0x1234567890123456789012345678901234567890",await t.getAddress(),"0x0000000000000000000000000000000000000000",t),Ie.success("Revenue claimed successfully!"),a()}catch(l){console.error("Error claiming revenue:",l),Ie.error("Failed to claim revenue.")}finally{i(!1)}}};return c.jsxs("div",{className:"container mx-auto p-6",children:[c.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Royalty Dashboard"}),c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mb-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Claimable Revenue"}),c.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-4",children:s?"Loading...":`${n} WIP`}),c.jsx(re,{onClick:o,disabled:s||n==="0",children:s?"Claiming...":"Claim Now"})]}),c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Claim History"}),c.jsx("p",{className:"text-gray-500",children:"Claim history will be displayed here."})]})]})};var qm=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},i$e={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},cu,KN,xF,a$e=(xF=class{constructor(){lt(this,cu,i$e);lt(this,KN,!1)}setTimeoutProvider(t){He(this,cu,t)}setTimeout(t,e){return X(this,cu).setTimeout(t,e)}clearTimeout(t){X(this,cu).clearTimeout(t)}setInterval(t,e){return X(this,cu).setInterval(t,e)}clearInterval(t){X(this,cu).clearInterval(t)}},cu=new WeakMap,KN=new WeakMap,xF),ip=new a$e;function o$e(t){setTimeout(t,0)}var Qp=typeof window>"u"||"Deno"in globalThis;function js(){}function l$e(t,e){return typeof t=="function"?t(e):t}function EN(t){return typeof t=="number"&&t>=0&&t!==1/0}function GQ(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Wu(t,e){return typeof t=="function"?t(e):t}function aa(t,e){return typeof t=="function"?t(e):t}function Q8(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:o}=t;if(a){if(r){if(e.queryHash!==$P(a,e.options))return!1}else if(!J0(e.queryKey,a))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||s&&s!==e.state.fetchStatus||i&&!i(e))}function eF(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(ef(e.options.mutationKey)!==ef(i))return!1}else if(!J0(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function $P(t,e){return((e==null?void 0:e.queryKeyHashFn)||ef)(t)}function ef(t){return JSON.stringify(t,(e,n)=>NN(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function J0(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>J0(t[n],e[n])):!1}var c$e=Object.prototype.hasOwnProperty;function KQ(t,e){if(t===e)return t;const n=tF(t)&&tF(e);if(!n&&!(NN(t)&&NN(e)))return e;const s=(n?t:Object.keys(t)).length,i=n?e:Object.keys(e),a=i.length,o=n?new Array(a):{};let l=0;for(let u=0;u<a;u++){const d=n?u:i[u],p=t[d],f=e[d];if(p===f){o[d]=p,(n?u<s:c$e.call(t,d))&&l++;continue}if(p===null||f===null||typeof p!="object"||typeof f!="object"){o[d]=f;continue}const h=KQ(p,f);o[d]=h,h===p&&l++}return s===a&&l===s?t:o}function O1(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function tF(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function NN(t){if(!nF(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!nF(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function nF(t){return Object.prototype.toString.call(t)==="[object Object]"}function u$e(t){return new Promise(e=>{ip.setTimeout(e,t)})}function SN(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?KQ(t,e):e}function d$e(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function p$e(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var FP=Symbol();function YQ(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===FP?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function qQ(t,e){return typeof t=="function"?t(...e):!!t}var ap,uu,kh,TF,f$e=(TF=class extends qm{constructor(){super();lt(this,ap);lt(this,uu);lt(this,kh);He(this,kh,e=>{if(!Qp&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){X(this,uu)||this.setEventListener(X(this,kh))}onUnsubscribe(){var e;this.hasListeners()||((e=X(this,uu))==null||e.call(this),He(this,uu,void 0))}setEventListener(e){var n;He(this,kh,e),(n=X(this,uu))==null||n.call(this),He(this,uu,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){X(this,ap)!==e&&(He(this,ap,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof X(this,ap)=="boolean"?X(this,ap):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ap=new WeakMap,uu=new WeakMap,kh=new WeakMap,TF),BP=new f$e;function RN(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}var h$e=o$e;function m$e(){let t=[],e=0,n=o=>{o()},r=o=>{o()},s=h$e;const i=o=>{e?t.push(o):s(()=>{n(o)})},a=()=>{const o=t;t=[],o.length&&s(()=>{r(()=>{o.forEach(l=>{n(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||a()}return l},batchCalls:o=>(...l)=>{i(()=>{o(...l)})},schedule:i,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{s=o}}}var Cr=m$e(),Ch,du,Eh,AF,y$e=(AF=class extends qm{constructor(){super();lt(this,Ch,!0);lt(this,du);lt(this,Eh);He(this,Eh,e=>{if(!Qp&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){X(this,du)||this.setEventListener(X(this,Eh))}onUnsubscribe(){var e;this.hasListeners()||((e=X(this,du))==null||e.call(this),He(this,du,void 0))}setEventListener(e){var n;He(this,Eh,e),(n=X(this,du))==null||n.call(this),He(this,du,e(this.setOnline.bind(this)))}setOnline(e){X(this,Ch)!==e&&(He(this,Ch,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return X(this,Ch)}},Ch=new WeakMap,du=new WeakMap,Eh=new WeakMap,AF),$1=new y$e;function g$e(t){return Math.min(1e3*2**t,3e4)}function XQ(t){return(t??"online")==="online"?$1.isOnline():!0}var MN=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function ZQ(t){let e=!1,n=0,r;const s=RN(),i=()=>s.status!=="pending",a=m=>{var g;if(!i()){const v=new MN(m);f(v),(g=t.onCancel)==null||g.call(t,v)}},o=()=>{e=!0},l=()=>{e=!1},u=()=>BP.isFocused()&&(t.networkMode==="always"||$1.isOnline())&&t.canRun(),d=()=>XQ(t.networkMode)&&t.canRun(),p=m=>{i()||(r==null||r(),s.resolve(m))},f=m=>{i()||(r==null||r(),s.reject(m))},h=()=>new Promise(m=>{var g;r=v=>{(i()||u())&&m(v)},(g=t.onPause)==null||g.call(t)}).then(()=>{var m;r=void 0,i()||(m=t.onContinue)==null||m.call(t)}),y=()=>{if(i())return;let m;const g=n===0?t.initialPromise:void 0;try{m=g??t.fn()}catch(v){m=Promise.reject(v)}Promise.resolve(m).then(p).catch(v=>{var C;if(i())return;const b=t.retry??(Qp?0:3),w=t.retryDelay??g$e,A=typeof w=="function"?w(n,v):w,I=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,v);if(e||!I){f(v);return}n++,(C=t.onFail)==null||C.call(t,n,v),u$e(A).then(()=>u()?void 0:h()).then(()=>{e?f(v):y()})})};return{promise:s,status:()=>s.status,cancel:a,continue:()=>(r==null||r(),s),cancelRetry:o,continueRetry:l,canStart:d,start:()=>(d()?y():h().then(y),s)}}var op,IF,JQ=(IF=class{constructor(){lt(this,op)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),EN(this.gcTime)&&He(this,op,ip.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Qp?1/0:5*60*1e3))}clearGcTimeout(){X(this,op)&&(ip.clearTimeout(X(this,op)),He(this,op,void 0))}},op=new WeakMap,IF),lp,Nh,ia,cp,Dr,Q0,up,Fa,Sl,kF,v$e=(kF=class extends JQ{constructor(e){super();lt(this,Fa);lt(this,lp);lt(this,Nh);lt(this,ia);lt(this,cp);lt(this,Dr);lt(this,Q0);lt(this,up);He(this,up,!1),He(this,Q0,e.defaultOptions),this.setOptions(e.options),this.observers=[],He(this,cp,e.client),He(this,ia,X(this,cp).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,He(this,lp,sF(this.options)),this.state=e.state??X(this,lp),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=X(this,Dr))==null?void 0:e.promise}setOptions(e){if(this.options={...X(this,Q0),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=sF(this.options);n.data!==void 0&&(this.setState(rF(n.data,n.dataUpdatedAt)),He(this,lp,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&X(this,ia).remove(this)}setData(e,n){const r=SN(this.state.data,e,this.options);return Bt(this,Fa,Sl).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Bt(this,Fa,Sl).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=X(this,Dr))==null?void 0:r.promise;return(s=X(this,Dr))==null||s.cancel(e),n?n.then(js).catch(js):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(X(this,lp))}isActive(){return this.observers.some(e=>aa(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===FP||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Wu(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!GQ(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=X(this,Dr))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=X(this,Dr))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),X(this,ia).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(X(this,Dr)&&(X(this,up)?X(this,Dr).cancel({revert:!0}):X(this,Dr).cancelRetry()),this.scheduleGc()),X(this,ia).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Bt(this,Fa,Sl).call(this,{type:"invalidate"})}async fetch(e,n){var l,u,d,p,f,h,y,m,g,v,b,w;if(this.state.fetchStatus!=="idle"&&((l=X(this,Dr))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(X(this,Dr))return X(this,Dr).continueRetry(),X(this,Dr).promise}if(e&&this.setOptions(e),!this.options.queryFn){const A=this.observers.find(I=>I.options.queryFn);A&&this.setOptions(A.options)}const r=new AbortController,s=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>(He(this,up,!0),r.signal)})},i=()=>{const A=YQ(this.options,n),C=(()=>{const E={client:X(this,cp),queryKey:this.queryKey,meta:this.meta};return s(E),E})();return He(this,up,!1),this.options.persister?this.options.persister(A,C,this):A(C)},o=(()=>{const A={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:X(this,cp),state:this.state,fetchFn:i};return s(A),A})();(u=this.options.behavior)==null||u.onFetch(o,this),He(this,Nh,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&Bt(this,Fa,Sl).call(this,{type:"fetch",meta:(p=o.fetchOptions)==null?void 0:p.meta}),He(this,Dr,ZQ({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,onCancel:A=>{A instanceof MN&&A.revert&&this.setState({...X(this,Nh),fetchStatus:"idle"}),r.abort()},onFail:(A,I)=>{Bt(this,Fa,Sl).call(this,{type:"failed",failureCount:A,error:I})},onPause:()=>{Bt(this,Fa,Sl).call(this,{type:"pause"})},onContinue:()=>{Bt(this,Fa,Sl).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const A=await X(this,Dr).start();if(A===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(A),(h=(f=X(this,ia).config).onSuccess)==null||h.call(f,A,this),(m=(y=X(this,ia).config).onSettled)==null||m.call(y,A,this.state.error,this),A}catch(A){if(A instanceof MN){if(A.silent)return X(this,Dr).promise;if(A.revert){if(this.state.data===void 0)throw A;return this.state.data}}throw Bt(this,Fa,Sl).call(this,{type:"error",error:A}),(v=(g=X(this,ia).config).onError)==null||v.call(g,A,this),(w=(b=X(this,ia).config).onSettled)==null||w.call(b,this.state.data,A,this),A}finally{this.scheduleGc()}}},lp=new WeakMap,Nh=new WeakMap,ia=new WeakMap,cp=new WeakMap,Dr=new WeakMap,Q0=new WeakMap,up=new WeakMap,Fa=new WeakSet,Sl=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...QQ(r.data,this.options),fetchMeta:e.meta??null};case"success":const s={...r,...rF(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return He(this,Nh,e.manual?s:void 0),s;case"error":const i=e.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Cr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),X(this,ia).notify({query:this,type:"updated",action:e})})},kF);function QQ(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:XQ(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function rF(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function sF(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Xs,Jt,ev,Ns,dp,Sh,Ol,pu,tv,Rh,Mh,pp,fp,fu,Ph,dn,By,PN,jN,DN,_N,LN,ON,$N,eee,CF,b$e=(CF=class extends qm{constructor(e,n){super();lt(this,dn);lt(this,Xs);lt(this,Jt);lt(this,ev);lt(this,Ns);lt(this,dp);lt(this,Sh);lt(this,Ol);lt(this,pu);lt(this,tv);lt(this,Rh);lt(this,Mh);lt(this,pp);lt(this,fp);lt(this,fu);lt(this,Ph,new Set);this.options=n,He(this,Xs,e),He(this,pu,null),He(this,Ol,RN()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(X(this,Jt).addObserver(this),iF(X(this,Jt),this.options)?Bt(this,dn,By).call(this):this.updateResult(),Bt(this,dn,_N).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return FN(X(this,Jt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return FN(X(this,Jt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Bt(this,dn,LN).call(this),Bt(this,dn,ON).call(this),X(this,Jt).removeObserver(this)}setOptions(e){const n=this.options,r=X(this,Jt);if(this.options=X(this,Xs).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof aa(this.options.enabled,X(this,Jt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Bt(this,dn,$N).call(this),X(this,Jt).setOptions(this.options),n._defaulted&&!O1(this.options,n)&&X(this,Xs).getQueryCache().notify({type:"observerOptionsUpdated",query:X(this,Jt),observer:this});const s=this.hasListeners();s&&aF(X(this,Jt),r,this.options,n)&&Bt(this,dn,By).call(this),this.updateResult(),s&&(X(this,Jt)!==r||aa(this.options.enabled,X(this,Jt))!==aa(n.enabled,X(this,Jt))||Wu(this.options.staleTime,X(this,Jt))!==Wu(n.staleTime,X(this,Jt)))&&Bt(this,dn,PN).call(this);const i=Bt(this,dn,jN).call(this);s&&(X(this,Jt)!==r||aa(this.options.enabled,X(this,Jt))!==aa(n.enabled,X(this,Jt))||i!==X(this,fu))&&Bt(this,dn,DN).call(this,i)}getOptimisticResult(e){const n=X(this,Xs).getQueryCache().build(X(this,Xs),e),r=this.createResult(n,e);return x$e(this,r)&&(He(this,Ns,r),He(this,Sh,this.options),He(this,dp,X(this,Jt).state)),r}getCurrentResult(){return X(this,Ns)}trackResult(e,n){return new Proxy(e,{get:(r,s)=>(this.trackProp(s),n==null||n(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&X(this,Ol).status==="pending"&&X(this,Ol).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,s))})}trackProp(e){X(this,Ph).add(e)}getCurrentQuery(){return X(this,Jt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=X(this,Xs).defaultQueryOptions(e),r=X(this,Xs).getQueryCache().build(X(this,Xs),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return Bt(this,dn,By).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),X(this,Ns)))}createResult(e,n){var _;const r=X(this,Jt),s=this.options,i=X(this,Ns),a=X(this,dp),o=X(this,Sh),u=e!==r?e.state:X(this,ev),{state:d}=e;let p={...d},f=!1,h;if(n._optimisticResults){const U=this.hasListeners(),$=!U&&iF(e,n),B=U&&aF(e,r,n,s);($||B)&&(p={...p,...QQ(d.data,e.options)}),n._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:y,errorUpdatedAt:m,status:g}=p;h=p.data;let v=!1;if(n.placeholderData!==void 0&&h===void 0&&g==="pending"){let U;i!=null&&i.isPlaceholderData&&n.placeholderData===(o==null?void 0:o.placeholderData)?(U=i.data,v=!0):U=typeof n.placeholderData=="function"?n.placeholderData((_=X(this,Mh))==null?void 0:_.state.data,X(this,Mh)):n.placeholderData,U!==void 0&&(g="success",h=SN(i==null?void 0:i.data,U,n),f=!0)}if(n.select&&h!==void 0&&!v)if(i&&h===(a==null?void 0:a.data)&&n.select===X(this,tv))h=X(this,Rh);else try{He(this,tv,n.select),h=n.select(h),h=SN(i==null?void 0:i.data,h,n),He(this,Rh,h),He(this,pu,null)}catch(U){He(this,pu,U)}X(this,pu)&&(y=X(this,pu),h=X(this,Rh),m=Date.now(),g="error");const b=p.fetchStatus==="fetching",w=g==="pending",A=g==="error",I=w&&b,C=h!==void 0,N={status:g,fetchStatus:p.fetchStatus,isPending:w,isSuccess:g==="success",isError:A,isInitialLoading:I,isLoading:I,data:h,dataUpdatedAt:p.dataUpdatedAt,error:y,errorUpdatedAt:m,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>u.dataUpdateCount||p.errorUpdateCount>u.errorUpdateCount,isFetching:b,isRefetching:b&&!w,isLoadingError:A&&!C,isPaused:p.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:A&&C,isStale:UP(e,n),refetch:this.refetch,promise:X(this,Ol),isEnabled:aa(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const U=j=>{N.status==="error"?j.reject(N.error):N.data!==void 0&&j.resolve(N.data)},$=()=>{const j=He(this,Ol,N.promise=RN());U(j)},B=X(this,Ol);switch(B.status){case"pending":e.queryHash===r.queryHash&&U(B);break;case"fulfilled":(N.status==="error"||N.data!==B.value)&&$();break;case"rejected":(N.status!=="error"||N.error!==B.reason)&&$();break}}return N}updateResult(){const e=X(this,Ns),n=this.createResult(X(this,Jt),this.options);if(He(this,dp,X(this,Jt).state),He(this,Sh,this.options),X(this,dp).data!==void 0&&He(this,Mh,X(this,Jt)),O1(n,e))return;He(this,Ns,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!X(this,Ph).size)return!0;const a=new Set(i??X(this,Ph));return this.options.throwOnError&&a.add("error"),Object.keys(X(this,Ns)).some(o=>{const l=o;return X(this,Ns)[l]!==e[l]&&a.has(l)})};Bt(this,dn,eee).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Bt(this,dn,_N).call(this)}},Xs=new WeakMap,Jt=new WeakMap,ev=new WeakMap,Ns=new WeakMap,dp=new WeakMap,Sh=new WeakMap,Ol=new WeakMap,pu=new WeakMap,tv=new WeakMap,Rh=new WeakMap,Mh=new WeakMap,pp=new WeakMap,fp=new WeakMap,fu=new WeakMap,Ph=new WeakMap,dn=new WeakSet,By=function(e){Bt(this,dn,$N).call(this);let n=X(this,Jt).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(js)),n},PN=function(){Bt(this,dn,LN).call(this);const e=Wu(this.options.staleTime,X(this,Jt));if(Qp||X(this,Ns).isStale||!EN(e))return;const r=GQ(X(this,Ns).dataUpdatedAt,e)+1;He(this,pp,ip.setTimeout(()=>{X(this,Ns).isStale||this.updateResult()},r))},jN=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(X(this,Jt)):this.options.refetchInterval)??!1},DN=function(e){Bt(this,dn,ON).call(this),He(this,fu,e),!(Qp||aa(this.options.enabled,X(this,Jt))===!1||!EN(X(this,fu))||X(this,fu)===0)&&He(this,fp,ip.setInterval(()=>{(this.options.refetchIntervalInBackground||BP.isFocused())&&Bt(this,dn,By).call(this)},X(this,fu)))},_N=function(){Bt(this,dn,PN).call(this),Bt(this,dn,DN).call(this,Bt(this,dn,jN).call(this))},LN=function(){X(this,pp)&&(ip.clearTimeout(X(this,pp)),He(this,pp,void 0))},ON=function(){X(this,fp)&&(ip.clearInterval(X(this,fp)),He(this,fp,void 0))},$N=function(){const e=X(this,Xs).getQueryCache().build(X(this,Xs),this.options);if(e===X(this,Jt))return;const n=X(this,Jt);He(this,Jt,e),He(this,ev,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},eee=function(e){Cr.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(X(this,Ns))}),X(this,Xs).getQueryCache().notify({query:X(this,Jt),type:"observerResultsUpdated"})})},CF);function w$e(t,e){return aa(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function iF(t,e){return w$e(t,e)||t.state.data!==void 0&&FN(t,e,e.refetchOnMount)}function FN(t,e,n){if(aa(e.enabled,t)!==!1&&Wu(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&UP(t,e)}return!1}function aF(t,e,n,r){return(t!==e||aa(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&UP(t,n)}function UP(t,e){return aa(e.enabled,t)!==!1&&t.isStaleByTime(Wu(e.staleTime,t))}function x$e(t,e){return!O1(t.getCurrentResult(),e)}function oF(t){return{onFetch:(e,n)=>{var d,p,f,h,y;const r=e.options,s=(f=(p=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:p.fetchMore)==null?void 0:f.direction,i=((h=e.state.data)==null?void 0:h.pages)||[],a=((y=e.state.data)==null?void 0:y.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const u=async()=>{let m=!1;const g=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},v=YQ(e.options,e.fetchOptions),b=async(w,A,I)=>{if(m)return Promise.reject();if(A==null&&w.pages.length)return Promise.resolve(w);const E=(()=>{const $={client:e.client,queryKey:e.queryKey,pageParam:A,direction:I?"backward":"forward",meta:e.options.meta};return g($),$})(),N=await v(E),{maxPages:_}=e.options,U=I?p$e:d$e;return{pages:U(w.pages,N,_),pageParams:U(w.pageParams,A,_)}};if(s&&i.length){const w=s==="backward",A=w?T$e:lF,I={pages:i,pageParams:a},C=A(r,I);o=await b(I,C,w)}else{const w=t??i.length;do{const A=l===0?a[0]??r.initialPageParam:lF(r,o);if(l>0&&A==null)break;o=await b(o,A),l++}while(l<w)}return o};e.options.persister?e.fetchFn=()=>{var m,g;return(g=(m=e.options).persister)==null?void 0:g.call(m,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function lF(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function T$e(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var nv,jo,Ss,hp,Do,Qc,EF,A$e=(EF=class extends JQ{constructor(e){super();lt(this,Do);lt(this,nv);lt(this,jo);lt(this,Ss);lt(this,hp);He(this,nv,e.client),this.mutationId=e.mutationId,He(this,Ss,e.mutationCache),He(this,jo,[]),this.state=e.state||tee(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){X(this,jo).includes(e)||(X(this,jo).push(e),this.clearGcTimeout(),X(this,Ss).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){He(this,jo,X(this,jo).filter(n=>n!==e)),this.scheduleGc(),X(this,Ss).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){X(this,jo).length||(this.state.status==="pending"?this.scheduleGc():X(this,Ss).remove(this))}continue(){var e;return((e=X(this,hp))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,o,l,u,d,p,f,h,y,m,g,v,b,w,A,I,C,E,N,_;const n=()=>{Bt(this,Do,Qc).call(this,{type:"continue"})},r={client:X(this,nv),meta:this.options.meta,mutationKey:this.options.mutationKey};He(this,hp,ZQ({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(U,$)=>{Bt(this,Do,Qc).call(this,{type:"failed",failureCount:U,error:$})},onPause:()=>{Bt(this,Do,Qc).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>X(this,Ss).canRun(this)}));const s=this.state.status==="pending",i=!X(this,hp).canStart();try{if(s)n();else{Bt(this,Do,Qc).call(this,{type:"pending",variables:e,isPaused:i}),await((o=(a=X(this,Ss).config).onMutate)==null?void 0:o.call(a,e,this,r));const $=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,e,r));$!==this.state.context&&Bt(this,Do,Qc).call(this,{type:"pending",context:$,variables:e,isPaused:i})}const U=await X(this,hp).start();return await((p=(d=X(this,Ss).config).onSuccess)==null?void 0:p.call(d,U,e,this.state.context,this,r)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,U,e,this.state.context,r)),await((m=(y=X(this,Ss).config).onSettled)==null?void 0:m.call(y,U,null,this.state.variables,this.state.context,this,r)),await((v=(g=this.options).onSettled)==null?void 0:v.call(g,U,null,e,this.state.context,r)),Bt(this,Do,Qc).call(this,{type:"success",data:U}),U}catch(U){try{throw await((w=(b=X(this,Ss).config).onError)==null?void 0:w.call(b,U,e,this.state.context,this,r)),await((I=(A=this.options).onError)==null?void 0:I.call(A,U,e,this.state.context,r)),await((E=(C=X(this,Ss).config).onSettled)==null?void 0:E.call(C,void 0,U,this.state.variables,this.state.context,this,r)),await((_=(N=this.options).onSettled)==null?void 0:_.call(N,void 0,U,e,this.state.context,r)),U}finally{Bt(this,Do,Qc).call(this,{type:"error",error:U})}}finally{X(this,Ss).runNext(this)}}},nv=new WeakMap,jo=new WeakMap,Ss=new WeakMap,hp=new WeakMap,Do=new WeakSet,Qc=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Cr.batch(()=>{X(this,jo).forEach(r=>{r.onMutationUpdate(e)}),X(this,Ss).notify({mutation:this,type:"updated",action:e})})},EF);function tee(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var $l,Ba,rv,NF,I$e=(NF=class extends qm{constructor(e={}){super();lt(this,$l);lt(this,Ba);lt(this,rv);this.config=e,He(this,$l,new Set),He(this,Ba,new Map),He(this,rv,0)}build(e,n,r){const s=new A$e({client:e,mutationCache:this,mutationId:++Wv(this,rv)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){X(this,$l).add(e);const n=nw(e);if(typeof n=="string"){const r=X(this,Ba).get(n);r?r.push(e):X(this,Ba).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(X(this,$l).delete(e)){const n=nw(e);if(typeof n=="string"){const r=X(this,Ba).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&X(this,Ba).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=nw(e);if(typeof n=="string"){const r=X(this,Ba).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=nw(e);if(typeof n=="string"){const s=(r=X(this,Ba).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Cr.batch(()=>{X(this,$l).forEach(e=>{this.notify({type:"removed",mutation:e})}),X(this,$l).clear(),X(this,Ba).clear()})}getAll(){return Array.from(X(this,$l))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>eF(n,r))}findAll(e={}){return this.getAll().filter(n=>eF(e,n))}notify(e){Cr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Cr.batch(()=>Promise.all(e.map(n=>n.continue().catch(js))))}},$l=new WeakMap,Ba=new WeakMap,rv=new WeakMap,NF);function nw(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Fl,hu,Zs,Bl,cc,tx,BN,SF,k$e=(SF=class extends qm{constructor(n,r){super();lt(this,cc);lt(this,Fl);lt(this,hu);lt(this,Zs);lt(this,Bl);He(this,Fl,n),this.setOptions(r),this.bindMethods(),Bt(this,cc,tx).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=X(this,Fl).defaultMutationOptions(n),O1(this.options,r)||X(this,Fl).getMutationCache().notify({type:"observerOptionsUpdated",mutation:X(this,Zs),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&ef(r.mutationKey)!==ef(this.options.mutationKey)?this.reset():((s=X(this,Zs))==null?void 0:s.state.status)==="pending"&&X(this,Zs).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=X(this,Zs))==null||n.removeObserver(this)}onMutationUpdate(n){Bt(this,cc,tx).call(this),Bt(this,cc,BN).call(this,n)}getCurrentResult(){return X(this,hu)}reset(){var n;(n=X(this,Zs))==null||n.removeObserver(this),He(this,Zs,void 0),Bt(this,cc,tx).call(this),Bt(this,cc,BN).call(this)}mutate(n,r){var s;return He(this,Bl,r),(s=X(this,Zs))==null||s.removeObserver(this),He(this,Zs,X(this,Fl).getMutationCache().build(X(this,Fl),this.options)),X(this,Zs).addObserver(this),X(this,Zs).execute(n)}},Fl=new WeakMap,hu=new WeakMap,Zs=new WeakMap,Bl=new WeakMap,cc=new WeakSet,tx=function(){var r;const n=((r=X(this,Zs))==null?void 0:r.state)??tee();He(this,hu,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},BN=function(n){Cr.batch(()=>{var r,s,i,a,o,l,u,d;if(X(this,Bl)&&this.hasListeners()){const p=X(this,hu).variables,f=X(this,hu).context,h={client:X(this,Fl),meta:this.options.meta,mutationKey:this.options.mutationKey};(n==null?void 0:n.type)==="success"?((s=(r=X(this,Bl)).onSuccess)==null||s.call(r,n.data,p,f,h),(a=(i=X(this,Bl)).onSettled)==null||a.call(i,n.data,null,p,f,h)):(n==null?void 0:n.type)==="error"&&((l=(o=X(this,Bl)).onError)==null||l.call(o,n.error,p,f,h),(d=(u=X(this,Bl)).onSettled)==null||d.call(u,void 0,n.error,p,f,h))}this.listeners.forEach(p=>{p(X(this,hu))})})},SF),_o,RF,C$e=(RF=class extends qm{constructor(e={}){super();lt(this,_o);this.config=e,He(this,_o,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??$P(s,n);let a=this.get(i);return a||(a=new v$e({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){X(this,_o).has(e.queryHash)||(X(this,_o).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=X(this,_o).get(e.queryHash);n&&(e.destroy(),n===e&&X(this,_o).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Cr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return X(this,_o).get(e)}getAll(){return[...X(this,_o).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Q8(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>Q8(e,r)):n}notify(e){Cr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Cr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Cr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},_o=new WeakMap,RF),Kn,mu,yu,jh,Dh,gu,_h,Lh,MF,E$e=(MF=class{constructor(t={}){lt(this,Kn);lt(this,mu);lt(this,yu);lt(this,jh);lt(this,Dh);lt(this,gu);lt(this,_h);lt(this,Lh);He(this,Kn,t.queryCache||new C$e),He(this,mu,t.mutationCache||new I$e),He(this,yu,t.defaultOptions||{}),He(this,jh,new Map),He(this,Dh,new Map),He(this,gu,0)}mount(){Wv(this,gu)._++,X(this,gu)===1&&(He(this,_h,BP.subscribe(async t=>{t&&(await this.resumePausedMutations(),X(this,Kn).onFocus())})),He(this,Lh,$1.subscribe(async t=>{t&&(await this.resumePausedMutations(),X(this,Kn).onOnline())})))}unmount(){var t,e;Wv(this,gu)._--,X(this,gu)===0&&((t=X(this,_h))==null||t.call(this),He(this,_h,void 0),(e=X(this,Lh))==null||e.call(this),He(this,Lh,void 0))}isFetching(t){return X(this,Kn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return X(this,mu).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=X(this,Kn).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=X(this,Kn).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Wu(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return X(this,Kn).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=X(this,Kn).get(r.queryHash),i=s==null?void 0:s.state.data,a=l$e(e,i);if(a!==void 0)return X(this,Kn).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return Cr.batch(()=>X(this,Kn).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=X(this,Kn).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=X(this,Kn);Cr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=X(this,Kn);return Cr.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Cr.batch(()=>X(this,Kn).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(js).catch(js)}invalidateQueries(t,e={}){return Cr.batch(()=>(X(this,Kn).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Cr.batch(()=>X(this,Kn).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(js)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(js)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=X(this,Kn).build(this,e);return n.isStaleByTime(Wu(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(js).catch(js)}fetchInfiniteQuery(t){return t.behavior=oF(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(js).catch(js)}ensureInfiniteQueryData(t){return t.behavior=oF(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return $1.isOnline()?X(this,mu).resumePausedMutations():Promise.resolve()}getQueryCache(){return X(this,Kn)}getMutationCache(){return X(this,mu)}getDefaultOptions(){return X(this,yu)}setDefaultOptions(t){He(this,yu,t)}setQueryDefaults(t,e){X(this,jh).set(ef(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...X(this,jh).values()],n={};return e.forEach(r=>{J0(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){X(this,Dh).set(ef(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...X(this,Dh).values()],n={};return e.forEach(r=>{J0(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...X(this,yu).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=$P(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===FP&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...X(this,yu).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){X(this,Kn).clear(),X(this,mu).clear()}},Kn=new WeakMap,mu=new WeakMap,yu=new WeakMap,jh=new WeakMap,Dh=new WeakMap,gu=new WeakMap,_h=new WeakMap,Lh=new WeakMap,MF),nee=T.createContext(void 0),zP=t=>{const e=T.useContext(nee);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},N$e=({client:t,children:e})=>(T.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),c.jsx(nee.Provider,{value:t,children:e})),ree=T.createContext(!1),S$e=()=>T.useContext(ree);ree.Provider;function R$e(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var M$e=T.createContext(R$e()),P$e=()=>T.useContext(M$e),j$e=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},D$e=t=>{T.useEffect(()=>{t.clearReset()},[t])},_$e=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||qQ(n,[t.error,r])),L$e=t=>{if(t.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},O$e=(t,e)=>t.isLoading&&t.isFetching&&!e,$$e=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,cF=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function F$e(t,e,n){var p,f,h,y,m;const r=S$e(),s=P$e(),i=zP(),a=i.defaultQueryOptions(t);(f=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_beforeQuery)==null||f.call(p,a),a._optimisticResults=r?"isRestoring":"optimistic",L$e(a),j$e(a,s),D$e(s);const o=!i.getQueryCache().get(a.queryHash),[l]=T.useState(()=>new e(i,a)),u=l.getOptimisticResult(a),d=!r&&t.subscribed!==!1;if(T.useSyncExternalStore(T.useCallback(g=>{const v=d?l.subscribe(Cr.batchCalls(g)):js;return l.updateResult(),v},[l,d]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),T.useEffect(()=>{l.setOptions(a)},[a,l]),$$e(a,u))throw cF(a,l,s);if(_$e({result:u,errorResetBoundary:s,throwOnError:a.throwOnError,query:i.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw u.error;if((y=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||y.call(h,a,u),a.experimental_prefetchInRender&&!Qp&&O$e(u,r)){const g=o?cF(a,l,s):(m=i.getQueryCache().get(a.queryHash))==null?void 0:m.promise;g==null||g.catch(js).finally(()=>{l.updateResult()})}return a.notifyOnChangeProps?u:l.trackResult(u)}function see(t,e){return F$e(t,b$e)}function B$e(t,e){const n=zP(),[r]=T.useState(()=>new k$e(n,t));T.useEffect(()=>{r.setOptions(t)},[r,t]);const s=T.useSyncExternalStore(T.useCallback(a=>r.subscribe(Cr.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=T.useCallback((a,o)=>{r.mutate(a,o).catch(js)},[r]);if(s.error&&qQ(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}const VP=bn.create({baseURL:"http://localhost:3001/api"});VP.interceptors.request.use(t=>{const e=localStorage.getItem("jwt_token");return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));const HP=({walletAddress:t,status:e,page:n=1,limit:r=50})=>see({queryKey:["userAssets",t,e,n,r],queryFn:async()=>{const s=new URLSearchParams;e&&s.append("status",e),s.append("page",n.toString()),s.append("limit",r.toString());const{data:i}=await VP.get(`/assets/wallet/${t}?${s}`);return i.data},enabled:!!t,staleTime:3e4,refetchOnWindowFocus:!0}),uF=[{id:"analytics",label:"IP Analytics",icon:Ql},{id:"my-ips",label:"My Registered IPs",icon:rse},{id:"my-licenses",label:"My Owned Licenses",icon:Wo},{id:"royalties",label:"Royalty Dashboard",icon:zs},{id:"transactions",label:"Transactions",icon:W5},{id:"profile",label:"Profile",icon:jx},{id:"notifications",label:"Notifications",icon:uT}];new Date(Date.now()-10*24*60*60*1e3).toISOString(),new Date(Date.now()-5*24*60*60*1e3).toISOString();new Date(Date.now()-3*24*60*60*1e3).toISOString(),new Date(Date.now()-20*24*60*60*1e3).toISOString();const U$e=()=>{const t=mo(),[e,n]=T.useState("analytics"),[r,s]=T.useState(!1);T.useState(!0);const[i,a]=T.useState(!1),[o,l]=T.useState(!1),{provider:u,signer:d,address:p,isConnected:f}=er(),{user:h,isAuthenticated:y,isLoading:m}=AP(),[g,v]=T.useState(null),[b,w]=T.useState(!1),[A,I]=T.useState(null),[C,E]=T.useState([]),[N,_]=T.useState(!1);T.useState([]),T.useState({totalIPs:0,totalLicenses:0,totalRoyaltiesEarned:0,claimableRevenue:0});const[U,$]=T.useState(!1),[B,j]=T.useState([]),[x,k]=T.useState([]),[M,P]=T.useState(0),[S,L]=T.useState([]),[V,F]=T.useState({totalInvestment:0,currentValue:0,totalReturn:0,returnPercentage:0,monthlyIncome:0,totalAssets:0,activeInvestments:0}),[R,z]=T.useState({assets:{isLoading:!1,isFromCache:!1},portfolio:{isLoading:!1,isFromCache:!1},transactions:{isLoading:!1,isFromCache:!1},notifications:{isLoading:!1,isFromCache:!1}}),[Q,O]=T.useState(!1),[H,Y]=T.useState(null),[G,Z]=T.useState(""),[te,q]=T.useState(!1),[ne,Re]=T.useState(null),[se,ve]=T.useState(null),[We,fe]=T.useState(!1),[ee,pe]=T.useState(!1),[xe,Fe]=T.useState(!1);HP({walletAddress:p});const Ze=(Te,me)=>{z(de=>({...de,[Te]:{...de[Te],...me}}))};T.useEffect(()=>{e==="transactions"&&f&&u&&p&&le()},[e,f,u,p]),T.useEffect(()=>{e==="notifications"&&f&&u&&p&&Ee()},[e,f,u,p,S]),T.useEffect(()=>{if(f&&u&&p){const Te=setInterval(()=>{Ee()},3e4);return()=>clearInterval(Te)}},[f,u,p,S]),T.useEffect(()=>{y&&!m&&rt()},[y,m]),T.useEffect(()=>{f&&p&&e==="portfolio"&&zt()},[f,p,e]),T.useEffect(()=>{e==="profile"&&y&&!g&&rt()},[e,y,g]);const Oe=async()=>{try{if($(!0),!f){Ie.error("Please connect your wallet first");return}Ie.success("Wallet connected successfully!"),await ct(),await le()}catch(Te){console.error("Wallet connection failed:",Te),Ie.error(`Failed to connect wallet: ${Te.message||"Unknown error"}`)}finally{$(!1)}},rt=async()=>{if(!y){console.log("User not authenticated");return}try{w(!0),I(null);const Te=await lm.getProfile();if(Te.success)v(Te.data.user),Ie.success("Profile data loaded successfully");else throw new Error("Failed to fetch profile data")}catch(Te){console.error("Failed to fetch user profile:",Te),I(Te.message||"Failed to load profile data"),Ie.error(`Failed to load profile: ${Te.message||"Unknown error"}`)}finally{w(!1)}},zt=async()=>{if(p){_(!0);try{const me=JSON.parse(localStorage.getItem("registeredIPAssets")||"[]").filter(de=>{var Me;return((Me=de.creator)==null?void 0:Me.toLowerCase())===p.toLowerCase()});console.log(` Loaded ${me.length} registered IP assets from localStorage`),E(me)}catch(Te){console.error("Failed to load registered IP assets:",Te)}finally{_(!1)}}},ct=async(Te=!1)=>{var me;if(!f||!u||!p||!d){console.log("Wallet not connected or signer not available");return}try{if(!Te){console.log(" Checking cache for user assets..."),Ze("assets",{isLoading:!0,isFromCache:!0});const Ae=Qs.getCachedUserAssets(p),Pt=Qs.getCachedPortfolioData(p);if(Ae&&Pt){console.log(` Loaded ${Ae.length} assets from cache instantly!`),L(Ae),F(Pt),Ze("assets",{isLoading:!1,isFromCache:!0,lastUpdated:Date.now()}),Ae.length>0&&Ie.success(`Portfolio loaded with ${Ae.length} assets`),setTimeout(()=>{console.log(" Background refresh starting..."),ct(!0)},3e4);return}else console.log(" No valid cache found, fetching from blockchain...")}Ze("assets",{isLoading:!0,isFromCache:!1}),$(!0),console.log(" Loading assets from blockchain for:",p);const de=new at(Or,Zl,d);console.log(" Step 1: Calling getMyAssets from marketplace...");const Me=await de.getMyAssets(),[ie,ge]=Me;console.log(" Marketplace assets:",{tokenIds:ie.map(Ae=>Ae.toString()),amounts:ge.map(Ae=>Ae.toString())}),console.log(" Step 2: Calling getAllListings...");const je=await de.getAllListings(),[we,Be,Nt,mt]=je;console.log(" All listings:",{tokenIds:we.map(Ae=>Ae.toString()),prices:mt.map(Ae=>Ae.toString())}),console.log(" Step 3: Checking wallet directly for withdrawn tokens...");const St=["function uri(uint256 tokenId) external view returns (string memory)","function tokenMetadata(uint256 tokenId) external view returns (string memory)","function tokenPrice(uint256 tokenId) external view returns (uint256)","function balanceOf(address account, uint256 id) external view returns (uint256)"],Kt=new at(ji,St,d),gt=[{address:ji,name:"Current ERC1155"},{address:"0xf52D58076D1cC8e9f744c0c845cc6A6E57419032",name:"Legacy ERC1155"}],Tt=new Set;we.forEach(Ae=>{Tt.add(Ae.toString())});for(let Ae=1;Ae<=100;Ae++)Tt.add(Ae.toString());const wn=new Map;for(const Ae of gt){console.log(` Checking ${Ae.name} contract: ${Ae.address}`);try{const Pt=new at(Ae.address,St,d);for(const wt of Tt)try{const At=(await Pt.balanceOf(p,wt)).toNumber();if(At>0){const yt=`${Ae.address}-${wt}`;wn.set(yt,{amount:At,contract:Ae.address}),console.log(` Found wallet balance for token ${wt} on ${Ae.name}: ${At}`)}}catch{}}catch(Pt){console.warn(` Failed to check contract ${Ae.name}:`,Pt)}}const Ue=new Map;for(let Ae=0;Ae<ie.length;Ae++){const Pt=ie[Ae].toString(),wt=ge[Ae].toNumber();wt>0&&Ue.set(Pt,{amount:wt,source:"marketplace"})}for(const[Ae,Pt]of wn){const[wt,Mn]=Ae.split("-"),{amount:At,contract:yt}=Pt;if(!Ue.has(Mn))Ue.set(Mn,{amount:At,source:"wallet",contract:yt}),console.log(` Adding withdrawn token ${Mn} from wallet with balance: ${At} (contract: ${yt})`);else{const xt=Ue.get(Mn);Ue.set(Mn,{amount:xt.amount+At,source:"marketplace",contract:xt.contract||yt}),console.log(` Adding additional wallet balance for token ${Mn}: +${At} (total: ${xt.amount+At})`)}}console.log(` Total owned tokens found: ${Ue.size}`);const ae=["function uri(uint256 tokenId) external view returns (string memory)","function tokenMetadata(uint256 tokenId) external view returns (string memory)","function tokenPrice(uint256 tokenId) external view returns (uint256)"];let ut;try{const Ae=d||u;ut=new at(ji,ae,Ae)}catch(Ae){console.error(" Failed to initialize metadata token contract:",Ae)}const pt=new Map;for(let Ae=0;Ae<we.length;Ae++)pt.set(we[Ae].toString(),mt[Ae]);console.log(" Fetching prices for withdrawn tokens...");for(const[Ae,Pt]of Ue)if(!pt.has(Ae))try{console.log(` Fetching price for withdrawn token ${Ae}...`);const wt=Pt.contract||ji,At=await new at(wt,ae,d||u).tokenPrice(Ae);pt.set(Ae,At),console.log(` Fetched price for token ${Ae}: ${Ye(At)} U2U`)}catch(wt){console.warn(` Could not fetch price for token ${Ae}:`,wt),pt.set(Ae,to("1000"))}const ot=async(Ae,Pt)=>{try{const wt=Pt||ji,Mn=new at(wt,ae,d||u);let At="";try{At=await Mn.tokenMetadata(Ae),console.log(` Metadata URI for token ${Ae} (${wt}):`,At)}catch{try{At=await Mn.uri(Ae),console.log(` Metadata URI (fallback) for token ${Ae} (${wt}):`,At)}catch(wr){console.warn(` Failed to get metadata URI for token ${Ae} on ${wt}:`,wr)}}let yt=null;if(At)try{console.log(` Fetching metadata from: ${At}`),yt=(await ni.fetchMetadataWithCache(Ae,At)).metadata,console.log(` Metadata fetched for token ${Ae}:`,yt)}catch(On){console.warn(` Failed to fetch metadata for token ${Ae}:`,On)}let xt="Unknown";if(yt!=null&&yt.attributes){const On=yt.attributes.find(wr=>wr.trait_type==="Asset Type");xt=(On==null?void 0:On.value)||xt}else yt!=null&&yt.assetDetails&&(xt=yt.assetDetails.assetType||xt);const br=u1(xt,Ae,wt);console.log(` Selected unique fallback image for token ${Ae} (${xt}):`,br);const lr=WJ((yt==null?void 0:yt.image)||"",yt);return console.log(` Enhanced image processing for token ${Ae}: ${yt==null?void 0:yt.image}  ${lr}`),{imageUrl:lr,metadata:yt,assetType:xt}}catch(wt){return console.error(` Error processing metadata for token ${Ae}:`,wt),{imageUrl:u1("Real Estate",Ae),metadata:null,assetType:"Real World Asset"}}},Ft=[],Rt=new Set;console.log(" Processing all owned tokens (marketplace + wallet)...");for(const[Ae,Pt]of Ue){const{amount:wt,source:Mn}=Pt,At=pt.get(Ae)||sr.from(0);if(wt<=0){console.log(` Skipping token ${Ae} - zero balance`);continue}if(Rt.has(Ae)){console.log(` Skipping duplicate token ${Ae} - already processed`);continue}try{if(await Kt.getTokenLifecycleStatus(Ae)===2){console.log(` Skipping burned token ${Ae} in user dashboard`);continue}}catch{console.warn(` Could not check lifecycle for token ${Ae}, including in user dashboard`)}console.log(` Processing token ${Ae} from ${Mn} with amount: ${wt}`),Rt.add(Ae),console.log(` Processing metadata for token ${Ae}...`);const{imageUrl:yt,metadata:xt,assetType:br}=await ot(Ae,Pt.contract);let lr=`${br} Asset #${Ae}`;if(xt!=null&&xt.name)lr=xt.name;else if(xt!=null&&xt.title)lr=xt.title;else if((me=xt==null?void 0:xt.assetDetails)!=null&&me.location)lr=`${br} in ${xt.assetDetails.location}`;else if(xt!=null&&xt.attributes){const On=xt.attributes.find(kd=>kd.trait_type.toLowerCase().includes("location")),wr=xt.attributes.find(kd=>kd.trait_type==="Asset Type");On?lr=`${(wr==null?void 0:wr.value)||br} in ${On.value}`:lr=`${(wr==null?void 0:wr.value)||br} Token #${Ae}`}console.log(` Extracted asset name: "${lr}" for token ${Ae}`),Ft.push({tokenId:Ae,name:lr,description:(xt==null?void 0:xt.description)||(xt==null?void 0:xt.desc)||`A tokenized ${br.toLowerCase()} asset with ID ${Ae}`,image:yt,price:At.toString(),amount:wt,seller:Be[we.findIndex(On=>On.toString()===Ae)]||p,metadataURI:xt?`ipfs://token${Ae}`:"",metadata:xt||{name:lr,description:`A tokenized ${br.toLowerCase()} asset with ID ${Ae}`},attributes:(xt==null?void 0:xt.attributes)||[{trait_type:"Asset Type",value:br},{trait_type:"Token ID",value:Ae},{trait_type:"Source",value:Mn}],type:br,source:Mn})}L(Ft),console.log(" Loaded",Ft.length,"assets from blockchain with metadata (including withdrawn tokens)"),console.log(" Preloading dashboard images...");const Et=Ft.map(Ae=>({url:Ae.image,assetType:Ae.type||"Real Estate",tokenId:Ae.tokenId}));qT.preloadImages(Et).catch(Ae=>{console.warn(" Image preloading failed:",Ae)}),J(Ft,pt),console.log(" Caching assets and portfolio data..."),Qs.cacheUserAssets(Ft,p),Qs.recordLastRefresh(p),Ze("assets",{isLoading:!1,isFromCache:!1,lastUpdated:Date.now()}),Ft.length===0?Ie.info("No assets found. Make sure you have purchased tokens and the transaction is confirmed."):R.assets.isFromCache&&R.assets.lastUpdated?console.log(` Background refresh: Updated ${Ft.length} assets`):Ie.success(`Loaded ${Ft.length} assets`)}catch(de){console.error(" Failed to load assets from blockchain:",de),L([]),J([]),Ze("assets",{isLoading:!1,isFromCache:!1})}finally{$(!1)}},J=(Te,me)=>{if(Te.length===0){F({totalInvestment:0,currentValue:0,totalReturn:0,returnPercentage:0,monthlyIncome:0,totalAssets:0,activeInvestments:0});return}const de=Te.reduce((Nt,mt)=>{const St=sr.from(mt.price),Kt=parseFloat(Ye(St)),gt=Kt*mt.amount;return console.log(`Asset ${mt.tokenId}: ${mt.amount} tokens  ${Kt.toFixed(6)} U2U = ${gt.toFixed(6)} U2U`),Nt+gt},0);console.log(`Total portfolio value: ${de.toFixed(6)} U2U`);const Me=de,ie=de,ge=0,je=0,we=ie*.08;console.log(`Yearly income calculation: ${ie.toFixed(6)} U2U  0.08 = ${we.toFixed(6)} U2U`);const Be={totalInvestment:Me,currentValue:ie,totalReturn:ge,returnPercentage:je,monthlyIncome:we,totalAssets:Te.length,activeInvestments:Te.filter(Nt=>parseFloat(Nt.price)>0).length};F(Be),p&&(Qs.cachePortfolioData(Be,p),console.log(" Cached portfolio data"))},Ee=async(Te=!1)=>{if(!f||!u||!p){console.log(" Wallet not connected, cannot fetch notifications");return}try{if(!Te){console.log(" Checking cache for notifications..."),Ze("notifications",{isLoading:!0,isFromCache:!0});const Ue=Qs.getCachedNotifications(p);if(Ue)return console.log(` Loaded ${Ue.length} notifications from cache instantly!`),k(Ue),P(Ue.filter(ae=>!ae.read).length),Ze("notifications",{isLoading:!1,isFromCache:!0,lastUpdated:Date.now()}),setTimeout(()=>{console.log(" Background notification refresh starting..."),Ee(!0)},2e4),Ue;console.log(" No valid notification cache found, fetching from blockchain...")}Ze("notifications",{isLoading:!0,isFromCache:!1}),console.log(" Generating notifications from trading events...");const me=[],de=Date.now(),Me=await u.getBlockNumber(),ie=Math.max(0,Me-7200),ge=new at(kr,H0,u),je=ge.filters.SellOrderCreated(null,p),we=await ge.queryFilter(je,ie,Me);for(const Ue of we){const ae=Ue.args,ut=await u.getBlock(Ue.blockNumber);let pt=`Asset #${ae.tokenId.toString()}`;try{const ot=S.find(Ft=>Ft.tokenId===ae.tokenId.toString());ot&&(pt=ot.name)}catch{console.log("Could not resolve asset name for notification")}me.push({id:`sell_order_${Ue.transactionHash}_${Ue.logIndex}`,timestamp:ut.timestamp*1e3,type:"order_created",title:"Buy Order Created",message:`Your buy order for ${ae.amount.toString()} tokens of ${pt} at ${Ye(ae.pricePerToken)} U2U each is now active in the OrderBook.`,status:"pending",priority:"medium",read:!1,orderData:{orderId:ae.orderId.toString(),tokenId:ae.tokenId.toString(),assetName:pt,amount:ae.amount.toNumber(),price:Ye(ae.pricePerToken),orderType:"sell",escrowAmount:Ye(ae.pricePerToken.mul(ae.amount))},transactionHash:Ue.transactionHash})}const Be=ge.filters.BuyOrderCreated(null,p),Nt=await ge.queryFilter(Be,ie,Me);for(const Ue of Nt){const ae=Ue.args,ut=await u.getBlock(Ue.blockNumber);let pt=`Asset #${ae.tokenId.toString()}`;try{const Ft=S.find(Rt=>Rt.tokenId===ae.tokenId.toString());Ft&&(pt=Ft.name)}catch{console.log("Could not resolve asset name for notification")}const ot=Ye(ae.pricePerToken.mul(ae.amount));me.push({id:`buy_order_${Ue.transactionHash}_${Ue.logIndex}`,timestamp:ut.timestamp*1e3,type:"order_created",title:"Sell Order Created & Funds Escrowed",message:`Your sell order for ${ae.amount.toString()} tokens of ${pt} at ${Ye(ae.pricePerToken)} Flow each is active. ${ot} Flow has been escrowed.`,status:"pending",priority:"high",read:!1,orderData:{orderId:ae.orderId.toString(),tokenId:ae.tokenId.toString(),assetName:pt,amount:ae.amount.toNumber(),price:Ye(ae.pricePerToken),orderType:"buy",escrowAmount:ot},transactionHash:Ue.transactionHash})}const mt=ge.filters.OrderFilled(null,p),St=await ge.queryFilter(mt,ie,Me);for(const Ue of St){const ae=Ue.args,ut=await u.getBlock(Ue.blockNumber);me.push({id:`order_filled_${Ue.transactionHash}_${Ue.logIndex}`,timestamp:ut.timestamp*1e3,type:"order_filled",title:"Order Executed Successfully",message:`Your order #${ae.orderId.toString()} has been filled! ${ae.amount.toString()} tokens traded for ${Ye(ae.totalPrice)} Flow. Escrow released.`,status:"completed",priority:"high",read:!1,orderData:{orderId:ae.orderId.toString(),tokenId:"unknown",assetName:"P2P Trade",amount:ae.amount.toNumber(),price:Ye(ae.totalPrice),orderType:"buy",escrowAmount:Ye(ae.totalPrice)},transactionHash:Ue.transactionHash})}const Kt=new at(Or,Zl,u),gt=Kt.filters.AssetBought(null,p),Tt=await Kt.queryFilter(gt,ie,Me);for(const Ue of Tt){const ae=Ue.args,ut=await u.getBlock(Ue.blockNumber);let pt=`Asset #${ae.tokenId.toString()}`;try{const ot=S.find(Ft=>Ft.tokenId===ae.tokenId.toString());ot&&(pt=ot.name)}catch{console.log("Could not resolve asset name for notification")}me.push({id:`asset_bought_${Ue.transactionHash}_${Ue.logIndex}`,timestamp:ut.timestamp*1e3,type:"trade_completed",title:"Asset Purchase Completed",message:`Successfully purchased ${ae.amount.toString()} tokens of ${pt} from the primary marketplace.`,status:"completed",priority:"medium",read:!1,orderData:{orderId:Ue.transactionHash,tokenId:ae.tokenId.toString(),assetName:pt,amount:ae.amount.toNumber(),price:"0",orderType:"buy"},transactionHash:Ue.transactionHash})}me.sort((Ue,ae)=>ae.timestamp-Ue.timestamp);const wn=me.slice(0,50);return console.log(` Generated ${wn.length} trading notifications`),k(wn),P(wn.filter(Ue=>!Ue.read).length),console.log(" Caching notifications..."),Qs.cacheNotifications(wn,p),Ze("notifications",{isLoading:!1,isFromCache:!1,lastUpdated:Date.now()}),wn}catch(me){console.error(" Error generating notifications:",me),Ze("notifications",{isLoading:!1,isFromCache:!1}),Ie.error(`Failed to load notifications: ${me.message||"Unknown error"}`)}},le=async(Te=!1)=>{var de,Me,ie,ge,je;if(!f||!p){console.log(" Wallet not connected, cannot fetch transaction history"),console.log("Debug - Connection status:",{isConnected:f,address:p});return}if(!u){console.log(" No provider available for transaction history");return}const me=u;console.log(" Using wallet provider for transaction history (same as working notifications)");try{if(!Te){console.log(" Checking cache for transaction history..."),Ze("transactions",{isLoading:!0,isFromCache:!0});const ae=Qs.getCachedTransactionHistory(p);if(ae){console.log(` Loaded ${ae.length} transactions from cache instantly!`),j(ae),Ze("transactions",{isLoading:!1,isFromCache:!0,lastUpdated:Date.now()}),ae.length>0&&Ie.success("Transaction history loaded"),setTimeout(()=>{console.log(" Background transaction refresh starting..."),le(!0)},45e3);return}else console.log(" No valid transaction cache found, fetching from blockchain...")}Ze("transactions",{isLoading:!0,isFromCache:!1}),pe(!0),console.log(" Loading comprehensive transaction history for wallet:",p);const we=await me.getBlockNumber();console.log(" Current blockchain block:",we);const Be=Math.max(0,we-7200);console.log(` Searching events from block ${Be} to ${we} (${we-Be} blocks)`);const Nt=[];console.log(" Checking Primary Marketplace Contract:",Or);const mt=new at(Or,Zl,me);try{const ae=await me.getCode(Or);console.log(" Marketplace contract code length:",ae.length),ae==="0x"&&console.warn(" Marketplace contract not found at address:",Or)}catch(ae){console.error(" Error checking marketplace contract:",ae)}let St=[],Kt=[];try{console.log(" Searching for AssetBought events for buyer:",p);const ae=mt.filters.AssetBought(null,p);St=await mt.queryFilter(ae,Be,we),console.log(` Found ${St.length} buy events`)}catch(ae){console.warn(" Failed to fetch buy events:",ae)}try{console.log(" Searching for AssetSold events for seller:",p);const ae=mt.filters.AssetSold(null,p);Kt=await mt.queryFilter(ae,Be,we),console.log(` Found ${Kt.length} sell events`)}catch(ae){console.warn(" Failed to fetch sell events:",ae)}console.log(` Primary Marketplace Results: ${St.length} buy events, ${Kt.length} sell events`),console.log(" Checking OrderBook Contract:",kr);const gt=new at(kr,H0,me);try{const ae=await me.getCode(kr);console.log(" OrderBook contract code length:",ae.length),ae==="0x"&&console.warn(" OrderBook contract not found at address:",kr)}catch(ae){console.error(" Error checking OrderBook contract:",ae)}let Tt=[],wn=[],Ue=[];try{console.log(" Searching for OrderFilled events for taker:",p);const ae=gt.filters.OrderFilled(null,p);Tt=await gt.queryFilter(ae,Be,we),console.log(` Found ${Tt.length} filled orders`)}catch(ae){console.warn(" Failed to fetch OrderFilled events:",ae)}try{console.log(" Searching for SellOrderCreated events for maker:",p);const ae=gt.filters.SellOrderCreated(null,p);wn=await gt.queryFilter(ae,Be,we),console.log(` Found ${wn.length} sell orders`)}catch(ae){console.warn(" Failed to fetch SellOrderCreated events:",ae)}try{console.log(" Searching for BuyOrderCreated events for maker:",p);const ae=gt.filters.BuyOrderCreated(null,p);Ue=await gt.queryFilter(ae,Be,we),console.log(` Found ${Ue.length} buy orders`)}catch(ae){console.warn(" Failed to fetch BuyOrderCreated events:",ae)}console.log(` Secondary Market Results: ${Tt.length} filled orders, ${wn.length} sell orders, ${Ue.length} buy orders created`),console.log(" Debugging: Checking for ANY events from contracts...");try{const ae=await mt.queryFilter({},Be,we);console.log(` Total marketplace events in range: ${ae.length}`),ae.length>0&&console.log(" Sample marketplace events:",ae.slice(0,3).map(ut=>({event:ut.event,args:ut.args,blockNumber:ut.blockNumber})))}catch(ae){console.error(" Error fetching all marketplace events:",ae)}try{const ae=await gt.queryFilter({},Be,we);console.log(` Total OrderBook events in range: ${ae.length}`),ae.length>0&&console.log(" Sample OrderBook events:",ae.slice(0,3).map(ut=>({event:ut.event,args:ut.args,blockNumber:ut.blockNumber})))}catch(ae){console.error(" Error fetching all OrderBook events:",ae)}for(const ae of St){const ut=ae.args,pt=await me.getBlock(ae.blockNumber),ot=await me.getTransaction(ae.transactionHash),Ft=await me.getTransactionReceipt(ae.transactionHash);let Rt=`Asset #${ut.tokenId.toString()}`;try{const Et=S.find(Ae=>Ae.tokenId===ut.tokenId.toString());Et&&(Rt=Et.name)}catch{console.log("Could not resolve asset name, using default")}Nt.push({hash:ae.transactionHash,blockNumber:ae.blockNumber,timestamp:pt.timestamp*1e3,type:"buy",tokenId:ut.tokenId.toString(),amount:ut.amount.toNumber(),price:Ye(ot.value||"0"),from:ot.from,to:ot.to||Or,gasUsed:Ft.gasUsed.toString(),gasPrice:Ud(ot.gasPrice||"0","gwei"),status:Ft.status===1?"success":"failed",assetName:Rt,platformFee:Ye(ut.platformFee||"0")})}for(const ae of Kt){const ut=ae.args,pt=await me.getBlock(ae.blockNumber),ot=await me.getTransaction(ae.transactionHash),Ft=await me.getTransactionReceipt(ae.transactionHash);let Rt=`Asset #${ut.tokenId.toString()}`;try{const Et=S.find(Ae=>Ae.tokenId===ut.tokenId.toString());Et&&(Rt=Et.name)}catch{console.log("Could not resolve asset name, using default")}Nt.push({hash:ae.transactionHash,blockNumber:ae.blockNumber,timestamp:pt.timestamp*1e3,type:"sell",tokenId:ut.tokenId.toString(),amount:ut.amount.toNumber(),price:"0",from:ot.from,to:ot.to||Or,gasUsed:Ft.gasUsed.toString(),gasPrice:Ud(ot.gasPrice||"0","gwei"),status:Ft.status===1?"success":"failed",assetName:Rt,platformFee:Ye(ut.platformFee||"0")})}for(const ae of Tt){const ut=ae.args,pt=await me.getBlock(ae.blockNumber),ot=await me.getTransaction(ae.transactionHash),Ft=await me.getTransactionReceipt(ae.transactionHash);let Rt="Unknown",Et="P2P Trade";try{Et=`P2P Purchase (Order #${ut.orderId.toString()})`}catch{console.log("Could not resolve order details")}Nt.push({hash:ae.transactionHash,blockNumber:ae.blockNumber,timestamp:pt.timestamp*1e3,type:"buy",tokenId:Rt,amount:ut.amount.toNumber(),price:Ye(ut.totalPrice||"0"),from:ot.from,to:kr,gasUsed:Ft.gasUsed.toString(),gasPrice:Ud(ot.gasPrice||"0","gwei"),status:Ft.status===1?"success":"failed",assetName:Et,platformFee:"0"})}for(const ae of wn){const ut=ae.args,pt=await me.getBlock(ae.blockNumber),ot=await me.getTransaction(ae.transactionHash),Ft=await me.getTransactionReceipt(ae.transactionHash);let Rt=`Asset #${ut.tokenId.toString()}`;try{const Et=S.find(Ae=>Ae.tokenId===ut.tokenId.toString());Et&&(Rt=Et.name)}catch{console.log("Could not resolve asset name for sell order")}Nt.push({hash:ae.transactionHash,blockNumber:ae.blockNumber,timestamp:pt.timestamp*1e3,type:"listing",tokenId:ut.tokenId.toString(),amount:ut.amount.toNumber(),price:Ye(ut.pricePerToken||"0"),from:ot.from,to:kr,gasUsed:Ft.gasUsed.toString(),gasPrice:Ud(ot.gasPrice||"0","gwei"),status:Ft.status===1?"success":"failed",assetName:`${Rt} (P2P Listing)`,platformFee:"0"})}for(const ae of Ue){const ut=ae.args,pt=await me.getBlock(ae.blockNumber),ot=await me.getTransaction(ae.transactionHash),Ft=await me.getTransactionReceipt(ae.transactionHash);let Rt=`Asset #${ut.tokenId.toString()}`;try{const Et=S.find(Ae=>Ae.tokenId===ut.tokenId.toString());Et&&(Rt=Et.name)}catch{console.log("Could not resolve asset name for buy order")}Nt.push({hash:ae.transactionHash,blockNumber:ae.blockNumber,timestamp:pt.timestamp*1e3,type:"listing",tokenId:ut.tokenId.toString(),amount:ut.amount.toNumber(),price:Ye(ut.pricePerToken||"0"),from:ot.from,to:kr,gasUsed:Ft.gasUsed.toString(),gasPrice:Ud(ot.gasPrice||"0","gwei"),status:Ft.status===1?"success":"failed",assetName:`${Rt} (P2P Buy Order)`,platformFee:"0"})}Nt.sort((ae,ut)=>ut.timestamp-ae.timestamp),console.log(" FINAL TRANSACTION SUMMARY:"),console.log(`- Total transactions found: ${Nt.length}`),console.log(`- Primary marketplace: ${St.length+Kt.length} (${St.length} buys, ${Kt.length} sells)`),console.log(`- Secondary market: ${Tt.length+wn.length+Ue.length} (${Tt.length} filled, ${wn.length} sell orders, ${Ue.length} buy orders)`),console.log(`- Block range searched: ${Be} to ${we} (${we-Be} blocks)`),console.log(`- Wallet address: ${p}`),Nt.length===0?(console.log(" NO TRANSACTIONS FOUND! Possible reasons:"),console.log("  1. No transactions in the searched block range"),console.log("  2. Wallet address might not have made any transactions"),console.log("  3. Contract addresses might be incorrect"),console.log("  4. Event signatures might not match"),console.log("  5. Transactions might be older than 50,000 blocks"),Ie.info("No recent transactions found. This could mean you haven't made any trades yet, or your transactions are older than the search range.")):(console.log(" Sample transactions:",Nt.slice(0,2)),R.transactions.isFromCache&&R.transactions.lastUpdated?console.log(` Background refresh: Updated ${Nt.length} transactions`):Ie.success(`Found ${Nt.length} transaction(s) in your history`)),j(Nt),console.log(" Caching transaction history..."),Qs.cacheTransactionHistory(Nt,p),Ze("transactions",{isLoading:!1,isFromCache:!1,lastUpdated:Date.now()})}catch(we){console.error(" Error fetching transaction history:",we),console.log("Error details:",{message:we.message,code:we.code,data:we.data,stack:we.stack}),Ze("transactions",{isLoading:!1,isFromCache:!1});let Be="Unknown error occurred";(de=we.message)!=null&&de.includes("network")||(Me=we.message)!=null&&Me.includes("RPC")?Be="Network connection issue. Please check your internet connection and try again.":(ie=we.message)!=null&&ie.includes("timeout")?Be="Request timed out. Please try again.":we.code==="NETWORK_ERROR"?Be="Unable to connect to Flow blockchain. Please try again later.":we.code==="SERVER_ERROR"?Be="Blockchain service temporarily unavailable. Please try again.":(ge=we.message)!=null&&ge.includes("missing trie node")||(je=we.message)!=null&&je.includes("client error")?Be="Blockchain data synchronization issue. Please try again in a few moments.":Be=we.message||"Failed to load transaction history",Ie.error(`Failed to load transaction history: ${Be}`)}finally{pe(!1)}},ue=async()=>{var me,de,Me;if(!H||!G||!f||!d){Ie.error("Please enter a valid amount and ensure wallet is connected");return}const Te=parseInt(G);if(Te<=0||Te>H.amount){Ie.error(`Amount must be between 1 and ${H.amount}`);return}try{q(!0),console.log(` Selling ${Te} tokens of asset ${H.tokenId} via marketplace contract...`);const ie=new at(Or,Zl,d),ge=sr.from(H.price),je=ge.mul(Te),we=je.mul(1).div(100);console.log(" Transaction details:",{tokenId:H.tokenId,amount:Te,tokenPrice:Ye(ge)+" U2U",totalValue:Ye(je)+" U2U",platformFee:Ye(we)+" U2U"}),console.log(" Calling sellAsset on marketplace contract...");const Be=await ie.sellAsset(H.tokenId,Te,{value:we,gasLimit:5e5});console.log(" Transaction submitted:",Be.hash),Ie.info(`Transaction submitted: ${Be.hash.substring(0,10)}...`);const Nt=await Be.wait();console.log(" Transaction confirmed:",Nt);const mt=parseFloat(Ye(je)),St=parseFloat(Ye(we));Ie.success(`Successfully sold ${Te} tokens for ${mt.toFixed(4)} Flow
        ! Platform fee: ${St.toFixed(4)} Flow
        `,{duration:5e3}),O(!1),Y(null),Z(""),console.log(" Clearing dashboard and marketplace cache after successful sale..."),Qs.clearCache(p),ni.clearCache(),console.log(" Refreshing portfolio after successful sale..."),await ct(!0),await le(!0)}catch(ie){console.error(" Failed to sell asset:",ie);let ge="Failed to sell asset";(me=ie.message)!=null&&me.includes("Insufficient balance")?ge="Insufficient token balance for this transaction":(de=ie.message)!=null&&de.includes("Insufficient marketplace funds")?ge="Marketplace has insufficient funds to buy back this asset":(Me=ie.message)!=null&&Me.includes("Must pay platform fee")?ge="Failed to pay platform fee. Please ensure sufficient U2U balance.":ie.code==="ACTION_REJECTED"?ge="Transaction was cancelled by user":ie.code==="INSUFFICIENT_FUNDS"?ge="Insufficient U2U for gas fees and platform fee":ge=`Transaction failed: ${ie.message||"Unknown error"}`,Ie.error(ge,{duration:5e3})}finally{q(!1)}},he=Te=>{let me=0;try{const de=sr.from(Te.price);me=parseFloat(Ye(de)),console.log(` Converting price for ${Te.name}: ${Te.price} Wei  ${me} U2U`)}catch(de){console.warn(" Error converting price:",de),me=parseFloat(Te.price)||0}t("/orderbook",{state:{selectedToken:{tokenId:Te.tokenId,name:Te.name,image:Te.image,type:Te.type,userBalance:Te.amount,price:Te.price,marketplacePrice:me,description:Te.description}}})},Ne=Te=>{he(Te)};T.useEffect(()=>{f&&p&&(console.log("Wallet connected, loading assets..."),ct())},[f,p]);const Ge=()=>{var Te;switch(e){case"analytics":return c.jsx("div",{className:"space-y-6",children:c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Analytics Overview"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Portfolio insights and performance metrics"})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center space-y-2 sm:space-y-0 sm:space-x-3",children:[c.jsxs("div",{className:"flex items-center space-x-2 px-3 py-1 bg-gray-100 rounded-lg",children:[c.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Live"})]}),c.jsxs(re,{variant:"outline",size:"sm",children:[c.jsx(Sx,{className:"w-4 h-4 mr-2"}),"Last 30 days"]})]})]})});case"my-ips":return c.jsx("div",{children:"My IPs Section"});case"my-licenses":return c.jsx("div",{children:"My Licenses Section"});case"royalties":return c.jsx(WQ,{});case"transactions":return c.jsx("div",{children:"Transactions Section"});case"profile":return c.jsx("div",{children:"Profile Section"});case"notifications":return c.jsx("div",{children:"Notifications Section"});default:return c.jsxs("div",{className:"space-y-6",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:(Te=uF.find(me=>me.id===e))==null?void 0:Te.label}),c.jsx(_e,{className:"border-0 shadow-sm",children:c.jsx(Le,{className:"p-12 text-center",children:c.jsx("p",{className:"text-gray-600",children:"This section is coming soon..."})})})]})}};return c.jsxs("div",{className:`min-h-screen flex ${o?"dark bg-gray-900":"bg-gray-50"}`,children:[i&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>a(!1)}),c.jsxs(Qt.div,{className:`fixed left-0 top-0 h-full shadow-lg z-50 transition-all duration-300 ${o?"bg-gray-800 border-gray-700":"bg-white"} ${r?"w-16":"w-64"} ${i?"translate-x-0":"-translate-x-full"} lg:translate-x-0`,initial:!1,animate:{width:r?64:256},children:[c.jsx("div",{className:`p-6 border-b ${o?"border-gray-700":"border-gray-200"}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${o?"bg-gray-100":"bg-gray-900"}`,children:c.jsx(Dp,{className:`w-5 h-5 ${o?"text-gray-900":"text-white"}`})}),!r&&c.jsxs("div",{children:[c.jsx("p",{className:`font-bold ${o?"text-white":"text-gray-900"}`,children:"AssetDash"}),c.jsx("p",{className:`text-xs ${o?"text-gray-400":"text-gray-600"}`,children:"Portfolio Manager"})]})]}),c.jsx(re,{variant:"ghost",size:"sm",onClick:()=>a(!1),className:"lg:hidden",children:c.jsx(dT,{className:"w-4 h-4"})})]})}),c.jsx("nav",{className:"p-4",children:c.jsx("div",{className:"space-y-2",children:uF.map(Te=>c.jsxs("button",{onClick:()=>{Te.id==="royalties"?t("/royalty-dashboard"):n(Te.id),a(!1)},className:`w-full flex items-center space-x-3 px-3 py-2 rounded-lg transition-colors relative ${e===Te.id?`${o?"bg-gray-700 text-white":"bg-gray-100 text-gray-900"}`:`${o?"text-gray-300 hover:bg-gray-700 hover:text-white":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`}`,children:[c.jsx(Te.icon,{className:"w-5 h-5"}),!r&&c.jsx("span",{className:"font-medium flex-1 text-left",children:Te.label}),!r&&Te.id==="notifications"&&M>0&&c.jsx("div",{className:"inline-flex items-center justify-center w-5 h-5 text-xs font-bold text-white bg-red-500 rounded-full",children:M>99?"99+":M}),r&&Te.id==="notifications"&&M>0&&c.jsx("div",{className:"absolute -top-1 -right-1 inline-flex items-center justify-center w-4 h-4 text-xs font-bold text-white bg-red-500 rounded-full",children:M>9?"9+":M})]},Te.id))})}),c.jsx("div",{className:"absolute bottom-4 left-4 right-4 hidden lg:block",children:c.jsx(re,{variant:"ghost",size:"sm",onClick:()=>s(!r),className:"w-full justify-center hover:bg-gray-100",children:c.jsx(AU,{className:`w-4 h-4 transition-transform ${r?"":"rotate-180"}`})})})]}),c.jsxs("div",{className:`flex-1 transition-all duration-300 ${r?"lg:ml-16":"lg:ml-64"} ml-0`,children:[c.jsx("header",{className:`border-b px-4 md:px-6 py-4 ${o?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx(re,{variant:"ghost",size:"sm",onClick:()=>a(!i),className:"lg:hidden",children:c.jsx(bse,{className:"w-5 h-5"})}),c.jsxs("div",{children:[c.jsx("p",{className:`text-sm ${o?"text-gray-400":"text-gray-600"}`,children:"Welcome back,"}),c.jsx("p",{className:`font-semibold ${o?"text-white":"text-gray-900"}`,children:f&&p?`${p.slice(0,6)}...${p.slice(-4)}`:"Investor"})]})]}),c.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[c.jsxs(re,{onClick:()=>t("/issuer",{state:{from:"/dashboard"}}),className:"bg-green-600 hover:bg-green-700 text-white",size:"sm",children:[c.jsx(Uo,{className:"w-4 h-4 mr-2"}),"Register IP"]}),c.jsxs(re,{onClick:()=>Ie.error("Derivative registration feature coming soon!"),variant:"outline",size:"sm",className:"hidden md:flex",children:[c.jsx(TU,{className:"w-4 h-4 mr-2"}),"Register Derivative"]}),f?c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs("div",{className:"hidden md:flex items-center space-x-2 px-3 py-1 bg-green-50 border border-green-200 rounded-lg",children:[c.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),c.jsx("span",{className:"text-sm font-medium text-green-700",children:"Connected"})]}),c.jsx(re,{variant:"outline",size:"sm",onClick:()=>ct(),disabled:U,className:"hidden md:flex",children:U?"Loading...":"Refresh"})]}):c.jsxs(re,{onClick:Oe,disabled:U,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[c.jsx(tc,{className:"w-4 h-4 mr-2"}),U?"Connecting...":"Connect Wallet"]}),c.jsx(re,{variant:"ghost",size:"sm",onClick:()=>l(!o),className:`hidden md:flex ${o?"hover:bg-gray-700 text-yellow-400":"hover:bg-gray-100 text-gray-600"}`,children:c.jsx(mse,{className:`w-5 h-5 ${o?"fill-current":""}`})}),c.jsx(re,{variant:"ghost",size:"sm",className:"hidden md:flex",children:c.jsx(uT,{className:"w-5 h-5"})}),c.jsx(re,{variant:"ghost",size:"sm",className:"hidden md:flex",children:c.jsx(X5,{className:"w-5 h-5"})}),c.jsx(YJ,{orientation:"vertical",className:"h-6 hidden md:block"}),c.jsx(re,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700",onClick:()=>t("/marketplace"),children:c.jsx(gse,{className:"w-5 h-5"})})]})]})}),c.jsx("main",{className:`p-4 md:p-6 ${o?"bg-gray-900":""}`,children:c.jsx(qS,{mode:"wait",children:c.jsx(Qt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:o?"text-white":"",children:Ge()},e)})})]}),c.jsx(Os,{open:We,onOpenChange:fe,children:c.jsxs(ws,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[c.jsx(xs,{children:c.jsxs(Ts,{className:"flex items-center space-x-2",children:[c.jsx(Ho,{className:"w-5 h-5 text-blue-600"}),c.jsx("span",{children:"Asset Details"})]})}),se&&c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"w-full h-48 rounded-lg overflow-hidden",children:c.jsx(em,{src:se.image,alt:se.name,className:"w-full h-full object-cover",assetType:se.type||"Real Estate",tokenId:se.tokenId})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:se.name}),c.jsx("p",{className:"text-gray-600 leading-relaxed",children:se.description})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[c.jsx("p",{className:"text-xs font-medium text-gray-600 mb-1",children:"TOKEN ID"}),c.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["#",se.tokenId]})]}),c.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[c.jsx("p",{className:"text-xs font-medium text-gray-600 mb-1",children:"OWNED TOKENS"}),c.jsx("p",{className:"text-lg font-bold text-blue-600",children:se.amount})]}),c.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[c.jsx("p",{className:"text-xs font-medium text-gray-600 mb-1",children:"PRICE PER TOKEN"}),c.jsxs("p",{className:"text-lg font-bold text-green-600",children:[parseFloat(Ye(se.price)).toFixed(6)," Flow"]})]}),c.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[c.jsx("p",{className:"text-xs font-medium text-gray-600 mb-1",children:"TOTAL VALUE"}),c.jsxs("p",{className:"text-lg font-bold text-green-600",children:[(parseFloat(Ye(se.price))*se.amount).toFixed(6)," Flow"]})]})]}),se.attributes&&se.attributes.length>0&&c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Asset Properties"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:se.attributes.map((Te,me)=>c.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg border border-blue-200",children:[c.jsxs("span",{className:"text-sm font-medium text-blue-700",children:[Te.trait_type,":"]}),c.jsx("span",{className:"text-sm font-bold text-blue-900",children:Te.value})]},me))})]}),c.jsxs("div",{className:"bg-gray-900 text-white p-4 rounded-lg",children:[c.jsxs("h4",{className:"text-lg font-semibold mb-3 flex items-center",children:[c.jsx(Nx,{className:"w-5 h-5 mr-2"}),"Blockchain Information"]}),c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-300",children:"Contract:"}),c.jsxs("span",{className:"font-mono bg-gray-800 px-2 py-1 rounded",children:[se.seller.substring(0,10),"...",se.seller.substring(se.seller.length-8)]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-300",children:"Asset Type:"}),c.jsx("span",{className:"font-medium",children:se.type})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-300",children:"Network:"}),c.jsx("span",{className:"font-medium",children:"Flow Mainnet "})]}),se.metadataURI&&c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-300",children:"Metadata:"}),c.jsx("span",{className:"font-mono bg-gray-800 px-2 py-1 rounded text-xs",children:"IPFS"})]})]})]}),c.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[c.jsxs("h4",{className:"text-lg font-semibold text-green-900 mb-3 flex items-center",children:[c.jsx(gs,{className:"w-5 h-5 mr-2"}),"Performance & Yield"]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-green-700 font-medium",children:"Current Performance"}),c.jsx("p",{className:"text-xl font-bold text-green-600",children:"+5.2%"}),c.jsx("p",{className:"text-xs text-green-600",children:"Since purchase"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-green-700 font-medium",children:"Estimated Yearly Yield"}),c.jsx("p",{className:"text-xl font-bold text-green-600",children:"8.0%"}),c.jsx("p",{className:"text-xs text-green-600",children:"Based on asset type"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-green-700 font-medium",children:"Monthly Income"}),c.jsxs("p",{className:"text-xl font-bold text-green-600",children:[(parseFloat(Ye(se.price))*se.amount*.08/12).toFixed(6)," S"]}),c.jsx("p",{className:"text-xs text-green-600",children:"Estimated"})]})]})]}),c.jsxs("div",{className:"flex space-x-3 pt-4",children:[c.jsx(re,{variant:"outline",className:"flex-1",onClick:()=>fe(!1),children:"Close"}),c.jsx(s$e,{requiresKYC:!0,blockingMode:!1,customMessage:"KYC verification required for P2P trading",onComplianceVerified:()=>{fe(!1),Ne(se)},children:c.jsxs(re,{variant:"default",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",onClick:()=>{fe(!1),he(se)},children:[c.jsx(zs,{className:"w-4 h-4 mr-2"}),"Trade P2P"]})})]})]})]})}),c.jsx(Os,{open:Q,onOpenChange:O,children:c.jsxs(ws,{className:"sm:max-w-md",children:[c.jsx(xs,{children:c.jsxs(Ts,{className:"flex items-center space-x-2",children:[c.jsx(zs,{className:"w-5 h-5 text-red-600"}),c.jsx("span",{children:"Sell Asset"})]})}),H&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[c.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:c.jsx(Nx,{className:"w-5 h-5 text-gray-600"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-gray-900",children:H.name}),c.jsxs("p",{className:"text-sm text-gray-600",children:["Token ID: #",H.tokenId]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Owned Tokens"}),c.jsx("p",{className:"font-bold text-gray-900",children:H.amount})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Price per Token"}),c.jsxs("p",{className:"font-bold text-green-600",children:[(parseFloat(H.price)/Math.pow(10,18)).toFixed(4)," S"]})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ut,{htmlFor:"sellAmount",children:"Amount to Sell"}),c.jsx(rn,{id:"sellAmount",type:"number",placeholder:"Enter amount",value:G,onChange:Te=>Z(Te.target.value),min:"1",max:H.amount.toString()}),c.jsxs("p",{className:"text-xs text-gray-500",children:["Maximum: ",H.amount," tokens"]})]}),G&&parseInt(G)>0&&parseInt(G)<=H.amount&&c.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[c.jsx("h4",{className:"font-medium text-blue-900 mb-3",children:"Transaction Summary"}),(()=>{const Te=parseInt(G),me=sr.from(H.price),de=me.mul(Te),Me=de.mul(1).div(100),ie=de;return c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-blue-700",children:"Selling:"}),c.jsxs("span",{className:"font-medium text-blue-900",children:[Te," tokens"]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-blue-700",children:"Price per token:"}),c.jsxs("span",{className:"font-medium text-blue-900",children:[parseFloat(Ye(me)).toFixed(6)," S"]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-blue-700",children:"Total value:"}),c.jsxs("span",{className:"font-medium text-blue-900",children:[parseFloat(Ye(de)).toFixed(6)," S"]})]}),c.jsxs("div",{className:"border-t border-blue-200 pt-2",children:[c.jsxs("div",{className:"flex justify-between text-red-600",children:[c.jsx("span",{children:"Platform fee (1%):"}),c.jsxs("span",{className:"font-medium",children:["-",parseFloat(Ye(Me)).toFixed(6)," S"]})]}),c.jsxs("div",{className:"flex justify-between font-bold text-green-600 mt-1",children:[c.jsx("span",{children:"You receive:"}),c.jsxs("span",{children:[parseFloat(Ye(ie)).toFixed(6)," S"]})]})]}),c.jsx("div",{className:"mt-3 p-2 bg-yellow-50 rounded border border-yellow-200",children:c.jsxs("p",{className:"text-xs text-yellow-800",children:[c.jsx("strong",{children:"Note:"})," You will pay ",parseFloat(Ye(Me)).toFixed(6)," S as platform fee when confirming this transaction."]})})]})})()]}),c.jsxs("div",{className:"flex space-x-3 pt-4",children:[c.jsx(re,{variant:"outline",className:"flex-1",onClick:()=>O(!1),disabled:te,children:"Cancel"}),c.jsx(re,{variant:"destructive",className:"flex-1",onClick:ue,disabled:te||!G||parseInt(G)<=0||parseInt(G)>H.amount,children:te?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Selling..."]}):c.jsxs(c.Fragment,{children:[c.jsx(zs,{className:"w-4 h-4 mr-2"}),"Sell ",G||"0"," Tokens"]})})]})]})]})}),xe&&ne&&c.jsx(WOe,{selectedToken:{tokenId:ne.tokenId.toString(),name:ne.name,symbol:ne.name.substring(0,4).toUpperCase(),currentPrice:parseFloat(Ye(ne.price)),priceChange24h:0,volume24h:ne.amount*parseFloat(Ye(ne.price)),marketCap:0,totalSupply:0,userBalance:ne.amount},onClose:()=>{Fe(!1),Re(null)},userWallet:p||""})]})},z$e=()=>{const t=mo(),{address:e,isConnected:n,connectWallet:r,disconnectWallet:s}=er(),{login:i}=AP(),[a,o]=T.useState(!0),[l,u]=T.useState(!1),[d,p]=T.useState(!1),[f,h]=T.useState(!1),[y,m]=T.useState(null),[g,v]=T.useState(null),[b,w]=T.useState(!1),[A,I]=T.useState("user"),[C,E]=T.useState("email"),[N,_]=T.useState([]),[U,$]=T.useState(null),[B,j]=T.useState({email:"",password:"",confirmPassword:"",firstName:"",lastName:"",acceptTerms:!1,walletAddress:""});T.useEffect(()=>{n&&e?(w(!0),j(S=>({...S,walletAddress:e})),x(e)):(w(!1),j(S=>({...S,walletAddress:""})),_([]),$(null))},[n,e]);const x=async S=>{try{const L=await lm.verifyWallet(S);L.success&&L.data.walletExists&&(_(L.data.availableRoles),$(L.data.availableRoles.length>0?L.data.availableRoles[0]:null),L.data.userInfo&&j(V=>{var F,R,z;return{...V,firstName:((F=L.data.userInfo)==null?void 0:F.firstName)||"",lastName:((R=L.data.userInfo)==null?void 0:R.lastName)||"",email:((z=L.data.userInfo)==null?void 0:z.email)||""}}))}catch(L){console.error("Wallet verification error:",L)}},k=S=>{const{name:L,value:V,type:F,checked:R}=S.target;j(z=>({...z,[L]:F==="checkbox"?R:V})),y&&m(null)},M=()=>{if(C==="wallet")return!b||!B.walletAddress?"Please connect your wallet first":a&&N.length===0?"No registered account found for this wallet":!a&&(!B.firstName||!B.lastName||!B.email)?"First name, last name, and email are required for registration":null;if(!B.email||!B.password)return"Email and password are required";if(!a){if(!B.firstName||!B.lastName)return"First name and last name are required";if(!b||!B.walletAddress)return"Please connect your wallet to complete registration";if(B.password!==B.confirmPassword)return"Passwords do not match";if(B.password.length<6)return"Password must be at least 6 characters long";if(!B.acceptTerms)return"You must accept the terms and conditions"}return null},P=async S=>{var V,F,R;S.preventDefault(),m(null),v(null);const L=M();if(L){m(L);return}h(!0);try{if(a){let z;C==="wallet"?z={walletAddress:B.walletAddress}:z={email:B.email,password:B.password},await i(z),v("Login successful! Redirecting...")}else{const z={firstName:B.firstName,lastName:B.lastName,email:B.email,password:B.password,confirmPassword:B.confirmPassword,walletAddress:B.walletAddress,role:A},Q=await lm.register(z);if(Q.success){v("Registration successful! Redirecting...");const O=((V=Q.data.user)==null?void 0:V.primaryRole)||((R=(F=Q.data.user)==null?void 0:F.roles)==null?void 0:R[0])||"user";let H="/marketplace";switch(O){case"admin":H="/admin";break;case"issuer":H="/issuer";break;case"manager":H="/manager";break;default:H="/marketplace"}setTimeout(()=>{t(H)},1e3)}}}catch(z){console.error("Auth error:",z),m(z.message||"An error occurred. Please try again.")}finally{h(!1)}};return c.jsxs("div",{className:"min-h-screen bg-gray-50 flex relative",children:[c.jsx("div",{className:"absolute top-6 left-6 z-20",children:c.jsxs(re,{variant:"outline",size:"sm",onClick:()=>t("/"),className:"bg-white/90 backdrop-blur-sm border-gray-200 text-gray-700 hover:bg-white hover:text-gray-900 hover:shadow-md transition-all duration-200",children:[c.jsx(Dp,{className:"w-4 h-4 mr-2"}),c.jsx("span",{className:"hidden sm:inline",children:"Home"})]})}),c.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-gray-900 relative overflow-hidden",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-800 to-gray-900"}),c.jsx("div",{className:"relative z-10 flex flex-col justify-center items-center p-12 text-white",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"flex items-center justify-center space-x-3 mb-8",children:c.jsx("div",{className:"w-16 h-16 bg-white rounded-2xl flex items-center justify-center",children:c.jsx(Nx,{className:"w-10 h-10 text-gray-900"})})}),c.jsx("h1",{className:"text-4xl font-bold mb-3",children:"Orion"}),c.jsx("p",{className:"text-gray-300 text-lg mb-8",children:"Investment Portfolio Management"}),c.jsx("div",{className:"w-24 h-1 bg-white mx-auto mb-8 rounded-full"}),c.jsx("p",{className:"text-gray-400 max-w-md mx-auto leading-relaxed",children:"Secure access to your investment dashboard and portfolio management tools."})]})})]}),c.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-white",children:c.jsxs("div",{className:"w-full max-w-sm",children:[c.jsxs("div",{className:"lg:hidden text-center mb-8",children:[c.jsx("div",{className:"w-12 h-12 bg-gray-900 rounded-xl flex items-center justify-center mx-auto mb-3",children:c.jsx(Nx,{className:"w-7 h-7 text-white"})}),c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"AssetDash"}),c.jsx("p",{className:"text-gray-600 text-sm",children:"Portfolio Management"})]}),c.jsxs(_e,{className:"border-0 shadow-xl",children:[c.jsxs(_t,{className:"text-center pb-6",children:[c.jsx(Lt,{className:"text-2xl font-bold text-gray-900 mb-2",children:a?"Welcome Back":"Create Account"}),c.jsx("p",{className:"text-gray-600 text-sm",children:a?"Enter your credentials to access your dashboard":"Fill in your information to get started"})]}),c.jsxs(Le,{className:"pt-0",children:[c.jsxs("div",{className:"flex bg-gray-50 rounded-xl p-1 mb-10 mt-8",children:[c.jsx("button",{onClick:()=>o(!0),className:`flex-1 py-3 px-4 rounded-lg text-sm font-medium transition-all duration-200 ${a?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"Sign In"}),c.jsx("button",{onClick:()=>o(!1),className:`flex-1 py-3 px-4 rounded-lg text-sm font-medium transition-all duration-200 ${a?"text-gray-500 hover:text-gray-700":"bg-white text-gray-900 shadow-sm"}`,children:"Sign Up"})]}),(!a||C==="wallet")&&c.jsxs("div",{className:"mb-6",children:[c.jsxs(Ut,{className:"text-sm font-medium text-gray-700 mb-3 block",children:["Connect Wallet ",a?"(Alternative Login)":""]}),c.jsxs("div",{className:"space-y-3",children:[n?c.jsx(re,{onClick:s,variant:"outline",className:"w-full",children:"Disconnect Wallet"}):c.jsxs(re,{onClick:r,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:[c.jsx(tc,{className:"w-4 h-4 mr-2"}),"Connect Wallet"]}),b&&e&&c.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:[c.jsxs("div",{className:"flex items-center text-green-700",children:[c.jsx(Hr,{className:"w-4 h-4 mr-2"}),c.jsxs("span",{className:"text-sm",children:["Wallet Connected: ",e.slice(0,6),"...",e.slice(-4)]})]}),U&&c.jsxs("div",{className:"mt-2 text-sm text-green-600",children:["Account type: ",U.charAt(0).toUpperCase()+U.slice(1)]}),N.length===0&&a&&c.jsx("div",{className:"mt-2 text-sm text-orange-600",children:"No registered account found for this wallet"})]})]})]}),!a&&U&&c.jsxs("div",{className:"mb-6",children:[c.jsx(Ut,{className:"text-sm font-medium text-gray-700 mb-3 block",children:"Existing Account Detected"}),c.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[c.jsxs("div",{className:"flex items-center text-blue-700",children:[c.jsx(ec,{className:"w-4 h-4 mr-2"}),c.jsxs("span",{className:"text-sm font-medium",children:["This wallet already has roles: ",N.join(", ")]})]}),c.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"You can add additional roles to this wallet or login with existing roles."})]})]}),!a&&!U&&c.jsxs("div",{className:"mb-6",children:[c.jsx(Ut,{className:"text-sm font-medium text-gray-700 mb-3 block",children:"Account Type"}),c.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[c.jsxs("div",{className:"flex items-center text-blue-700",children:[c.jsx(jx,{className:"w-4 h-4 mr-2"}),c.jsx("span",{className:"text-sm font-medium",children:"User Account - Investor"})]}),c.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Only user accounts can be created here. Issuer and manager accounts are created by administrators."})]})]}),c.jsxs("form",{onSubmit:P,className:"space-y-0",children:[y&&c.jsxs(Qr,{className:"mb-4 border-red-200 bg-red-50",children:[c.jsx(ec,{className:"h-4 w-4 text-red-600"}),c.jsx(es,{className:"text-red-800",children:y})]}),g&&c.jsxs(Qr,{className:"mb-4 border-green-200 bg-green-50",children:[c.jsx(Hr,{className:"h-4 w-4 text-green-600"}),c.jsx(es,{className:"text-green-800",children:g})]}),!a&&c.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium text-gray-700",children:"First Name"}),c.jsxs("div",{className:"relative",children:[c.jsx(jx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),c.jsx(rn,{type:"text",name:"firstName",value:B.firstName,onChange:k,placeholder:"John",className:"pl-10 h-11 border-gray-200 focus:border-gray-900 focus:ring-1 focus:ring-gray-900",required:!a})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Last Name"}),c.jsx(rn,{type:"text",name:"lastName",value:B.lastName,onChange:k,placeholder:"Doe",className:"h-11 border-gray-200 focus:border-gray-900 focus:ring-1 focus:ring-gray-900",required:!a})]})]}),(C==="email"||!a)&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"space-y-2 mb-4",children:[c.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Email Address"}),c.jsxs("div",{className:"relative",children:[c.jsx(vse,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),c.jsx(rn,{type:"email",name:"email",value:B.email,onChange:k,placeholder:"john@example.com",className:"pl-10 h-11 border-gray-200 focus:border-gray-900 focus:ring-1 focus:ring-gray-900",required:!0})]})]}),c.jsxs("div",{className:"space-y-2 mb-4",children:[c.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(gp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),c.jsx(rn,{type:l?"text":"password",name:"password",value:B.password,onChange:k,placeholder:"Enter your password",className:"pl-10 pr-10 h-11 border-gray-200 focus:border-gray-900 focus:ring-1 focus:ring-gray-900",required:!0}),c.jsx("button",{type:"button",onClick:()=>u(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:l?c.jsx(m3,{className:"w-4 h-4"}):c.jsx(Ho,{className:"w-4 h-4"})})]})]})]}),!a&&c.jsxs("div",{className:"space-y-2 mb-4",children:[c.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Confirm Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(gp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),c.jsx(rn,{type:d?"text":"password",name:"confirmPassword",value:B.confirmPassword,onChange:k,placeholder:"Confirm your password",className:"pl-10 pr-10 h-11 border-gray-200 focus:border-gray-900 focus:ring-1 focus:ring-gray-900",required:!a}),c.jsx("button",{type:"button",onClick:()=>p(!d),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:d?c.jsx(m3,{className:"w-4 h-4"}):c.jsx(Ho,{className:"w-4 h-4"})})]})]}),!a&&c.jsx("div",{className:"mb-6",children:c.jsxs("label",{className:"flex items-start space-x-2",children:[c.jsx("input",{type:"checkbox",name:"acceptTerms",checked:B.acceptTerms,onChange:k,className:"w-4 h-4 text-gray-900 border-gray-300 rounded focus:ring-gray-900 focus:ring-1 mt-0.5",required:!0}),c.jsxs("span",{className:"text-sm text-gray-600 leading-5",children:["I agree to the"," ",c.jsx("button",{type:"button",className:"text-gray-900 hover:text-gray-700 font-medium",children:"Terms of Service"})," ","and"," ",c.jsx("button",{type:"button",className:"text-gray-900 hover:text-gray-700 font-medium",children:"Privacy Policy"})," ","*"]})]})}),a&&c.jsxs("div",{className:"flex items-center justify-between mb-10",children:[c.jsxs("label",{className:"flex items-center space-x-2",children:[c.jsx("input",{type:"checkbox",className:"w-4 h-4 text-gray-900 border-gray-300 rounded focus:ring-gray-900 focus:ring-1"}),c.jsx("span",{className:"text-sm text-gray-600",children:"Remember me"})]}),c.jsx("button",{type:"button",className:"text-sm text-gray-900 hover:text-gray-700 font-medium",children:"Forgot password?"})]}),c.jsx(re,{type:"submit",disabled:f,className:"w-full bg-gray-900 hover:bg-gray-800 disabled:bg-gray-400 disabled:cursor-not-allowed text-white h-11 text-base font-medium transition-colors duration-200 mb-10",children:f?c.jsxs(c.Fragment,{children:[c.jsx(Y5,{className:"w-4 h-4 mr-2 animate-spin"}),a?"Signing In...":"Creating Account..."]}):c.jsxs(c.Fragment,{children:[a?"Sign In":"Create Account",c.jsx(tse,{className:"w-4 h-4 ml-2"})]})}),a&&c.jsx(c.Fragment,{children:c.jsxs("div",{className:"mt-6",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 flex items-center",children:c.jsx("div",{className:"w-full border-t border-gray-200"})}),c.jsx("div",{className:"relative flex justify-center text-sm",children:c.jsx("span",{className:"px-2 bg-white text-gray-500",children:"or continue with"})})]}),c.jsx("div",{className:"mt-6",children:c.jsxs(re,{type:"button",variant:"outline",className:"w-full h-11 border-gray-200",onClick:()=>E("wallet"),children:[c.jsx(tc,{className:"w-4 h-4 mr-2"}),"Connect Wallet to Login"]})})]})})]})]})]})]})})]})};function V$e(t,e=[]){let n=[];function r(i,a){const o=T.createContext(a),l=n.length;n=[...n,a];function u(p){const{scope:f,children:h,...y}=p,m=(f==null?void 0:f[t][l])||o,g=T.useMemo(()=>y,Object.values(y));return c.jsx(m.Provider,{value:g,children:h})}function d(p,f){const h=(f==null?void 0:f[t][l])||o,y=T.useContext(h);if(y)return y;if(a!==void 0)return a;throw new Error(`\`${p}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=n.map(a=>T.createContext(a));return function(o){const l=(o==null?void 0:o[t])||i;return T.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return s.scopeName=t,[r,H$e(s,...e)]}function H$e(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((o,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...o,...p}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var WP="Progress",GP=100,[W$e,$Be]=V$e(WP),[G$e,K$e]=W$e(WP),iee=T.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=Y$e,...a}=t;(s||s===0)&&!dF(s)&&console.error(q$e(`${s}`,"Progress"));const o=dF(s)?s:GP;r!==null&&!pF(r,o)&&console.error(X$e(`${r}`,"Progress"));const l=pF(r,o)?r:null,u=F1(l)?i(l,o):void 0;return c.jsx(G$e,{scope:n,value:l,max:o,children:c.jsx(vt.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":F1(l)?l:void 0,"aria-valuetext":u,role:"progressbar","data-state":lee(l,o),"data-value":l??void 0,"data-max":o,...a,ref:e})})});iee.displayName=WP;var aee="ProgressIndicator",oee=T.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=K$e(aee,n);return c.jsx(vt.div,{"data-state":lee(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});oee.displayName=aee;function Y$e(t,e){return`${Math.round(t/e*100)}%`}function lee(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function F1(t){return typeof t=="number"}function dF(t){return F1(t)&&!isNaN(t)&&t>0}function pF(t,e){return F1(t)&&!isNaN(t)&&t<=e&&t>=0}function q$e(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${GP}\`.`}function X$e(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${GP} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var cee=iee,Z$e=oee;const UN=T.forwardRef(({className:t,value:e,...n},r)=>c.jsx(cee,{ref:r,className:dt("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:c.jsx(Z$e,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));UN.displayName=cee.displayName;const J$e=()=>{const{signer:t,isConnected:e,address:n}=er(),[r,s]=T.useState(null),[i,a]=T.useState([]),[o,l]=T.useState(!1),[u,d]=T.useState(null),[p,f]=T.useState({invoiceAmount:"",yieldRate:"5.0",notes:""}),[h,y]=T.useState(null),[m,g]=T.useState(!1);T.useEffect(()=>{(async()=>{if(e&&t&&n)try{const E=new _2(window.ethereum);await E.connect(),s(E),await v()}catch(E){console.error("Failed to initialize settlement processor:",E)}})()},[e,t,n]);const v=async C=>{var E,N,_,U,$;try{if(l(!0),console.log(" Loading real assigned tokens for settlement processing..."),!t||!n){console.log("No signer or address available");return}const{ADMIN_CONTRACT:B,TOKEN_CONTRACT:j,MARKETPLACE_CONTRACT:x}=await Ht(async()=>{const{ADMIN_CONTRACT:O,TOKEN_CONTRACT:H,MARKETPLACE_CONTRACT:Y}=await Promise.resolve().then(()=>zu);return{ADMIN_CONTRACT:O,TOKEN_CONTRACT:H,MARKETPLACE_CONTRACT:Y}},void 0),{CONTRACT_ABIS:k}=await Ht(async()=>{const{CONTRACT_ABIS:O}=await Promise.resolve().then(()=>lc);return{CONTRACT_ABIS:O}},void 0),{ethers:M}=await Ht(async()=>{const{ethers:O}=await import("./index-KbzIojDx.js");return{ethers:O}},[]),P=new M.Contract(B,k.ADMIN,t),S=new M.Contract(j,k.ERC1155CORE,t);console.log(" Checking manager authorization for settlement processor...");let L;try{L=await P.getAllManagers(),console.log(" All managers from contract:",L)}catch(O){console.error(" Error calling getAllManagers:",O),be.error("Failed to fetch managers from contract"),a([]);return}if(!(L||[]).some(O=>O.toLowerCase()===n.toLowerCase())){console.log(" User is not an authorized manager for settlement processing"),be.error("You are not authorized as a manager"),a([]);return}console.log(" User is authorized manager for settlement processing");const R=await P.getManagerTokens(n);console.log(" Assigned token IDs for settlement:",R.map(O=>O.toString()));const z=R.map(O=>O.toString());if(z.length===0){console.log(" No tokens assigned to this manager for settlement"),a([]);return}const Q=[];for(const O of z)try{console.log(` Processing settlement token ${O}...`);const H=await S.getTokenInfo(O),Y=await S.getTokenLifecycleStatus(O);let G=`Asset #${O}`,Z="Investment Asset",te=null;if(H.metadataURI&&H.metadataURI.length>0)try{console.log(` Fetching metadata for token ${O} from URI: ${H.metadataURI}`);const ve=[{name:"Pinata",url:"https://gateway.pinata.cloud/ipfs/"},{name:"IPFS",url:"https://ipfs.io/ipfs/"},{name:"Cloudflare",url:"https://cloudflare-ipfs.com/ipfs/"},{name:"Dweb",url:"https://dweb.link/ipfs/"}];let We=H.metadataURI;if(H.metadataURI.startsWith("ipfs://")){const fe=H.metadataURI.replace("ipfs://","");We=`${ve[0].url}${fe}`}else H.metadataURI.startsWith("Qm")&&(We=`${ve[0].url}${H.metadataURI}`);for(const fe of ve)try{let ee=We;if(H.metadataURI.startsWith("ipfs://")||H.metadataURI.startsWith("Qm")){const xe=H.metadataURI.replace("ipfs://","");ee=`${fe.url}${xe}`}console.log(` Trying ${fe.name} gateway: ${ee}`);const pe=await fetch(ee,{timeout:1e4,headers:{Accept:"application/json","Cache-Control":"no-cache"}});if(pe.ok){te=await pe.json(),console.log(` Metadata fetched successfully from ${fe.name}:`,te);break}}catch(ee){console.warn(` ${fe.name} gateway failed:`,ee);continue}if(te){if(te.name&&te.name.trim()&&!te.name.trim().startsWith("Asset Token #"))G=te.name.trim();else if(te.title&&te.title.trim())G=te.title.trim();else if(te.assetName&&te.assetName.trim())G=te.assetName.trim();else if((E=te.assetDetails)!=null&&E.name)G=te.assetDetails.name.trim();else if((N=te.assetDetails)!=null&&N.title)G=te.assetDetails.title.trim();else if((_=te.assetDetails)!=null&&_.location)Z=((U=te.assetDetails)==null?void 0:U.type)||"Real Estate",G=`${Z} in ${te.assetDetails.location}`;else if(te.attributes){const fe=te.attributes.find(pe=>pe.trait_type&&pe.trait_type.toLowerCase().includes("location")),ee=te.attributes.find(pe=>pe.trait_type==="Asset Type");ee!=null&&ee.value&&(Z=ee.value),fe!=null&&fe.value?G=`${Z} in ${fe.value}`:ee!=null&&ee.value&&(G=`${ee.value} Token #${O}`)}if(($=te.assetDetails)!=null&&$.type)Z=te.assetDetails.type;else if(te.attributes){const fe=te.attributes.find(ee=>ee.trait_type==="Asset Type");fe!=null&&fe.value&&(Z=fe.value)}else te.type&&(Z=te.type);console.log(` Extracted asset details - Name: "${G}", Type: "${Z}"`)}}catch(ve){console.warn(` Could not fetch metadata for token ${O}:`,ve),G=`${Z} Asset #${O}`}else console.log(` No metadata URI for token ${O}, using fallback name`),G=`${Z} Asset #${O}`;let q=0,ne=[];const Re=M.utils.formatEther(H.price.mul(H.supply));try{const We=await new M.Contract(x,k.MARKETPLACE,t).getTokenHolders(O),[fe,ee]=We;q=fe.length,ne=fe.map((pe,xe)=>({address:pe,amount:M.utils.formatEther(ee[xe])})),console.log(` Found ${q} real holders for token ${O}`)}catch(ve){console.warn(` Could not fetch holders for token ${O}, using fallback:`,ve),q=1,ne=[{address:H.issuer,amount:Re}]}const se={invoiceNumber:`INV-${O}-2024`,dueDate:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],originalAmount:M.utils.formatEther(H.price.mul(H.supply)),currentValue:M.utils.formatEther(H.price.mul(H.supply))};Q.push({tokenId:O,name:G,assetType:Z,issuer:H.issuer,supply:H.supply.toString(),price:M.utils.formatEther(H.price),lifecycle:Y,holderCount:q,totalValueLocked:Re,metadataURI:H.metadataURI,metadata:te,holders:ne,invoiceDetails:se}),console.log(` Loaded settlement token ${O}: ${G}`)}catch(H){console.warn(`Could not load settlement data for token ${O}:`,H)}a(Q),console.log(` Settlement Processor: Loaded ${Q.length} tokens for settlement processing`),console.log(" Settlement Processor: Token details:",Q.map(O=>({tokenId:O.tokenId,name:O.name,assetType:O.assetType,lifecycle:O.lifecycle,holderCount:O.holderCount})))}catch(B){console.error("Failed to load assigned tokens:",B),be.error("Failed to load assigned tokens")}finally{l(!1)}},b=()=>{if(!u||!p.invoiceAmount||!p.yieldRate)return;const C=parseFloat(p.invoiceAmount),E=parseFloat(p.yieldRate)/100,N=C/(1+E),_=C-N;let U=[];if(u.holders&&u.holders.length>0){const $=u.holders.reduce((B,j)=>B+parseFloat(j.amount),0);U=u.holders.map(B=>{const j=parseFloat(B.amount)/$,x=C*j;return{address:B.address,amount:x.toFixed(6)}})}else U=[{address:u.issuer,amount:C.toString()}];y({principal:N.toFixed(2),yield:_.toFixed(2),total:C.toFixed(2),holderDistribution:U})};T.useEffect(()=>{u&&p.invoiceAmount&&p.yieldRate&&b()},[u,p.invoiceAmount,p.yieldRate]);const w=async()=>{if(!r||!u||!h){be.error("Please complete settlement calculation first");return}try{g(!0),console.log(" Starting settlement process with yield distribution...");const{ethers:C}=await Ht(async()=>{const{ethers:_}=await import("./index-KbzIojDx.js");return{ethers:_}},[]),E=C.utils.parseEther(h.total);if(console.log(" Step 1: Recording invoice settlement..."),console.log(" Settlement amount:",h.total,"FLOW"),console.log(" Settlement amount (Wei):",E.toString()),(await r.processInvoiceSettlement(u.tokenId,E)).success){console.log(" Settlement recorded successfully"),console.log(" Step 2: Distributing yield to token holders...");try{const{PAYMENT_SPLITTER_CONTRACT:_}=await Ht(async()=>{const{PAYMENT_SPLITTER_CONTRACT:x}=await Promise.resolve().then(()=>zu);return{PAYMENT_SPLITTER_CONTRACT:x}},void 0),{CONTRACT_ABIS:U}=await Ht(async()=>{const{CONTRACT_ABIS:x}=await Promise.resolve().then(()=>lc);return{CONTRACT_ABIS:x}},void 0),B=await new C.Contract(_,U.PAYMENTSPLITTER,t).submitRental(u.tokenId,{value:E,gasLimit:5e5});console.log(" Yield distribution transaction sent:",B.hash),be.info("Distributing yield to token holders...");const j=await B.wait();console.log(" Yield distribution confirmed:",j.transactionHash),be.success(` Settlement completed for ${u.name} and yield distributed to all token holders!`)}catch(_){console.error("Yield distribution failed:",_),be.error("Settlement recorded but yield distribution failed. Please try distributing manually.")}console.log(" Step 3: Burning tokens and updating lifecycle...");try{const{TOKEN_CONTRACT:_}=await Ht(async()=>{const{TOKEN_CONTRACT:x}=await Promise.resolve().then(()=>zu);return{TOKEN_CONTRACT:x}},void 0),{CONTRACT_ABIS:U}=await Ht(async()=>{const{CONTRACT_ABIS:x}=await Promise.resolve().then(()=>lc);return{CONTRACT_ABIS:x}},void 0),$=new C.Contract(_,U.ERC1155CORE,t);console.log(" Marking invoice as settled..."),await(await $.markInvoiceSettled(u.tokenId,E,{gasLimit:3e5})).wait(),console.log(" Invoice marked as settled"),console.log(" Burning all tokens..."),await(await $.burnAllTokens(u.tokenId,{gasLimit:3e5})).wait(),console.log(" All tokens burned successfully"),be.success(` ${u.name} tokens burned successfully! Asset lifecycle completed.`)}catch(_){console.error("Token burning failed:",_),be.error("Settlement completed but token burning failed. Please burn manually.")}await v(r),d(null),f({invoiceAmount:"",yieldRate:"5.0",notes:""}),y(null)}else throw new Error("Settlement recording failed")}catch(C){console.error("Settlement failed:",C),be.error(C.message||"Settlement processing failed")}finally{g(!1)}},A=C=>{switch(C){case 0:return c.jsxs(st,{variant:"default",className:"bg-green-500",children:[c.jsx(Yu,{className:"w-3 h-3 mr-1"}),"Active"]});case 1:return c.jsxs(st,{variant:"secondary",className:"bg-yellow-500",children:[c.jsx(Hr,{className:"w-3 h-3 mr-1"}),"Settled"]});case 2:return c.jsxs(st,{variant:"destructive",children:[c.jsx(Px,{className:"w-3 h-3 mr-1"}),"Burned"]});default:return c.jsx(st,{variant:"outline",children:"Unknown"})}},I=C=>`${parseFloat(C).toLocaleString()} FLOW`;return c.jsxs("div",{className:"space-y-6",children:[c.jsx(_e,{children:c.jsxs(_t,{children:[c.jsxs(Lt,{className:"flex items-center gap-2",children:[c.jsx(zs,{className:"w-5 h-5"}),"Invoice Settlement Processor"]}),c.jsx(Zr,{children:"Process invoice settlements and distribute payments to token holders"})]})}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs(_e,{children:[c.jsxs(_t,{children:[c.jsx(Lt,{children:"Assigned Tokens"}),c.jsx(Zr,{children:"Tokens assigned to you for settlement management"})]}),c.jsx(Le,{children:o?c.jsx("div",{className:"flex justify-center p-4",children:c.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"})}):i.length===0?c.jsx("p",{className:"text-gray-500 text-center py-4",children:"No tokens assigned"}):c.jsx("div",{className:"space-y-3",children:i.map(C=>c.jsx(_e,{className:`cursor-pointer transition-colors ${(u==null?void 0:u.tokenId)===C.tokenId?"border-blue-500 bg-blue-50":"hover:bg-gray-50"}`,onClick:()=>d(C),children:c.jsx(Le,{className:"p-4",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-medium",children:C.name}),A(C.lifecycle)]}),c.jsxs("div",{className:"text-xs text-gray-600",children:[C.assetType,"  Token #",C.tokenId]}),C.invoiceDetails&&c.jsxs("div",{className:"text-sm text-gray-600",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Invoice:"})," ",C.invoiceDetails.invoiceNumber]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Due:"})," ",C.invoiceDetails.dueDate]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Value:"})," ",I(C.invoiceDetails.currentValue)]})]}),c.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(_p,{className:"w-3 h-3"}),C.holderCount," holders"]}),c.jsxs("span",{children:[I(C.totalValueLocked)," locked"]})]})]}),C.lifecycle===0&&c.jsx(re,{size:"sm",variant:(u==null?void 0:u.tokenId)===C.tokenId?"default":"outline",children:(u==null?void 0:u.tokenId)===C.tokenId?"Selected":"Select"})]})})},C.tokenId))})})]}),c.jsxs(_e,{children:[c.jsxs(_t,{children:[c.jsx(Lt,{children:"Settlement Processing"}),c.jsx(Zr,{children:u?`Processing settlement for ${u.name} (Token #${u.tokenId})`:"Select a token to begin settlement"})]}),c.jsx(Le,{children:u?u.lifecycle!==0?c.jsxs("div",{className:"text-center py-8 text-gray-500",children:[c.jsx(Hr,{className:"w-12 h-12 mx-auto mb-4"}),c.jsx("p",{children:"This token has already been processed"})]}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(Ut,{htmlFor:"invoiceAmount",children:"Invoice Settlement Amount (FLOW)"}),c.jsx(rn,{id:"invoiceAmount",type:"number",step:"0.01",placeholder:"Enter received invoice amount",value:p.invoiceAmount,onChange:C=>f(E=>({...E,invoiceAmount:C.target.value}))})]}),c.jsxs("div",{children:[c.jsx(Ut,{htmlFor:"yieldRate",children:"Yield Rate (%)"}),c.jsx(rn,{id:"yieldRate",type:"number",step:"0.1",placeholder:"5.0",value:p.yieldRate,onChange:C=>f(E=>({...E,yieldRate:C.target.value}))})]}),c.jsxs("div",{children:[c.jsx(Ut,{htmlFor:"notes",children:"Settlement Notes (Optional)"}),c.jsx(rn,{id:"notes",placeholder:"Add any settlement notes",value:p.notes,onChange:C=>f(E=>({...E,notes:C.target.value}))})]})]}),h&&c.jsxs(_e,{className:"bg-blue-50 border-blue-200",children:[c.jsx(_t,{className:"pb-3",children:c.jsxs(Lt,{className:"text-lg flex items-center gap-2",children:[c.jsx(sse,{className:"w-4 h-4"}),"Settlement Breakdown"]})}),c.jsxs(Le,{className:"space-y-3",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Principal"}),c.jsx("p",{className:"font-medium",children:I(h.principal)})]}),c.jsxs("div",{children:[c.jsxs("p",{className:"text-gray-600",children:["Yield (",p.yieldRate,"%)"]}),c.jsx("p",{className:"font-medium",children:I(h.yield)})]})]}),c.jsx("div",{className:"border-t pt-2",children:c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"font-semibold",children:"Total Distribution:"}),c.jsx("span",{className:"font-semibold",children:I(h.total)})]})}),c.jsxs("div",{className:"mt-4",children:[c.jsx("p",{className:"text-sm font-medium mb-2",children:"Holder Distribution:"}),c.jsx("div",{className:"space-y-1 text-xs",children:h.holderDistribution.map((C,E)=>c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"font-mono",children:C.address}),c.jsx("span",{children:I(C.amount)})]},E))})]})]})]}),c.jsx(re,{onClick:w,disabled:!h||m,className:"w-full",size:"lg",children:m?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing Settlement..."]}):c.jsxs(c.Fragment,{children:[c.jsx(zs,{className:"w-4 h-4 mr-2"}),"Process Settlement & Burn Tokens"]})}),h&&c.jsxs("div",{className:"text-xs text-gray-500 text-center",children:[" This will distribute ",I(h.total)," to all token holders and permanently burn all tokens for this invoice."]})]}):c.jsxs("div",{className:"text-center py-8 text-gray-500",children:[c.jsx(Bg,{className:"w-12 h-12 mx-auto mb-4"}),c.jsx("p",{children:"Please select a token from the list to begin settlement processing"})]})})]})]})]})},Q$e=()=>{const{signer:t,isConnected:e,address:n}=er(),[r,s]=T.useState(null),[i,a]=T.useState([]),[o,l]=T.useState([]),[u,d]=T.useState({totalSettlements:0,totalValueProcessed:"0",averageYieldRate:0,averageProcessingTime:0,successRate:0}),[p,f]=T.useState(!1),[h,y]=T.useState(""),[m,g]=T.useState(null),[v,b]=T.useState(!1);T.useEffect(()=>{if(e&&t&&n){const N=new _2(window.ethereum);N.connect().then(()=>{s(N),w()}).catch(console.error)}},[e,t,n]);const w=async N=>{try{if(f(!0),console.log(" Loading real settlement history from blockchain..."),!t||!n){console.log("No signer or address available");return}const{ADMIN_CONTRACT:_,TOKEN_CONTRACT:U,MARKETPLACE_CONTRACT:$,PAYMENT_SPLITTER_CONTRACT:B}=await Ht(async()=>{const{ADMIN_CONTRACT:G,TOKEN_CONTRACT:Z,MARKETPLACE_CONTRACT:te,PAYMENT_SPLITTER_CONTRACT:q}=await Promise.resolve().then(()=>zu);return{ADMIN_CONTRACT:G,TOKEN_CONTRACT:Z,MARKETPLACE_CONTRACT:te,PAYMENT_SPLITTER_CONTRACT:q}},void 0),{CONTRACT_ABIS:j}=await Ht(async()=>{const{CONTRACT_ABIS:G}=await Promise.resolve().then(()=>lc);return{CONTRACT_ABIS:G}},void 0),{ethers:x}=await Ht(async()=>{const{ethers:G}=await import("./index-KbzIojDx.js");return{ethers:G}},[]),k=new x.Contract(_,j.ADMIN,t),M=new x.Contract(U,j.ERC1155CORE,t),P=new x.Contract(B,j.PAYMENTSPLITTER,t),S=new x.Contract($,j.MARKETPLACE,t);if(!(await k.getAllManagers()).some(G=>G.toLowerCase()===n.toLowerCase())){console.log(" User is not an authorized manager"),a([]),l([]);return}const R=(await k.getManagerTokens(n)).map(G=>G.toString());if(console.log(" Manager assigned tokens:",R),R.length===0){console.log(" No tokens assigned to this manager"),a([]),l([]);return}const z=[];for(const G of R)try{console.log(` Fetching settlement events for token ${G}...`);const Z=await M.getTokenInfo(G),te=await M.getTokenLifecycleStatus(G),q=P.filters.RentalDistributed(G),ne=await P.queryFilter(q,0,"latest");console.log(` Found ${ne.length} rental events for token ${G}`);for(let Re=0;Re<ne.length;Re++){const se=ne[Re],{totalAmount:ve,toHolders:We,toPlatform:fe}=se.args,ee=await t.provider.getBlock(se.blockNumber),pe=new Date(ee.timestamp*1e3).toISOString().split("T")[0];let xe=[],Fe=0;try{const J=await S.getTokenHolders(G),[Ee,le]=J;Fe=Ee.length;const ue=x.utils.formatEther(We);xe=Ee.map((he,Ne)=>{const Ge=parseFloat(x.utils.formatEther(le[Ne])),Te=parseFloat(Z.supply.toString()),me=Ge/Te*100,de=me/100*parseFloat(ue);return{address:`${he.slice(0,6)}...${he.slice(-4)}`,amount:de.toFixed(6),percentage:Math.round(me*100)/100}})}catch(J){console.warn(` Could not fetch holders for token ${G}:`,J),Fe=1,xe=[{address:`${Z.issuer.slice(0,6)}...${Z.issuer.slice(-4)}`,amount:x.utils.formatEther(We),percentage:100}]}const Ze=parseFloat(x.utils.formatEther(Z.price.mul(Z.supply))),Oe=parseFloat(x.utils.formatEther(We)),rt=Ze>0?Oe/Ze*100:0;let zt=`Asset #${G}`;if(Z.metadataURI&&Z.metadataURI.length>0)try{let J=Z.metadataURI;Z.metadataURI.startsWith("ipfs://")?J=`https://gateway.pinata.cloud/ipfs/${Z.metadataURI.replace("ipfs://","")}`:Z.metadataURI.startsWith("Qm")&&(J=`https://gateway.pinata.cloud/ipfs/${Z.metadataURI}`);const Ee=await fetch(J);if(Ee.ok){const le=await Ee.json();zt=(le==null?void 0:le.name)||(le==null?void 0:le.title)||zt}}catch(J){console.warn(` Could not fetch metadata for token ${G}:`,J)}const ct={id:`${G}-${Re}`,tokenId:G,invoiceNumber:`${zt.replace(/\s+/g,"-").toUpperCase()}-${G}`,settlementDate:pe,totalAmount:x.utils.formatEther(ve),principalAmount:x.utils.formatEther(ve.sub(We.sub(fe))),yieldAmount:x.utils.formatEther(We),yieldRate:Math.round(rt*100)/100,holderCount:Fe,status:"completed",transactionHash:se.transactionHash,notes:`Yield distribution for ${zt}`,holderDistribution:xe};z.push(ct)}if(ne.length===0&&te===0){let Re=`Asset #${G}`;if(Z.metadataURI&&Z.metadataURI.length>0)try{let ve=Z.metadataURI;Z.metadataURI.startsWith("ipfs://")?ve=`https://gateway.pinata.cloud/ipfs/${Z.metadataURI.replace("ipfs://","")}`:Z.metadataURI.startsWith("Qm")&&(ve=`https://gateway.pinata.cloud/ipfs/${Z.metadataURI}`);const We=await fetch(ve);if(We.ok){const fe=await We.json();Re=(fe==null?void 0:fe.name)||(fe==null?void 0:fe.title)||Re}}catch(ve){console.warn(` Could not fetch metadata for token ${G}:`,ve)}const se={id:`${G}-pending`,tokenId:G,invoiceNumber:`${Re.replace(/\s+/g,"-").toUpperCase()}-${G}`,settlementDate:new Date().toISOString().split("T")[0],totalAmount:"0",principalAmount:x.utils.formatEther(Z.price.mul(Z.supply)),yieldAmount:"0",yieldRate:0,holderCount:0,status:"pending",transactionHash:"",notes:`Awaiting first yield distribution for ${Re}`,holderDistribution:[]};z.push(se)}}catch(Z){console.error(` Error processing token ${G}:`,Z)}z.sort((G,Z)=>new Date(Z.settlementDate).getTime()-new Date(G.settlementDate).getTime()),console.log(` Loaded ${z.length} settlement records`),a(z),l(z);const Q=z.filter(G=>G.status==="completed"),O=Q.reduce((G,Z)=>G+parseFloat(Z.totalAmount),0),H=Q.length>0?Q.reduce((G,Z)=>G+Z.yieldRate,0)/Q.length:0,Y=z.length>0?Q.length/z.length*100:0;d({totalSettlements:z.length,totalValueProcessed:O.toString(),averageYieldRate:Math.round(H*100)/100,averageProcessingTime:1,successRate:Math.round(Y*100)/100})}catch(_){console.error("Failed to load settlement history:",_),be.error("Failed to load settlement history from blockchain")}finally{f(!1)}};T.useEffect(()=>{if(!h)l(i);else{const N=i.filter(_=>_.invoiceNumber.toLowerCase().includes(h.toLowerCase())||_.tokenId.includes(h)||_.transactionHash.toLowerCase().includes(h.toLowerCase()));l(N)}},[h,i]);const A=N=>{switch(N){case"completed":return c.jsxs(st,{variant:"default",className:"bg-green-500",children:[c.jsx(Hr,{className:"w-3 h-3 mr-1"}),"Completed"]});case"pending":return c.jsx(st,{variant:"secondary",className:"bg-yellow-500",children:"Pending"});case"failed":return c.jsx(st,{variant:"destructive",children:"Failed"});default:return c.jsx(st,{variant:"outline",children:N})}},I=N=>`${parseFloat(N).toLocaleString()} FLOW`,C=N=>new Date(N).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),E=()=>{const N=o.map(j=>({"Token ID":j.tokenId,"Invoice Number":j.invoiceNumber,"Settlement Date":j.settlementDate,"Total Amount (FLOW)":j.totalAmount,"Principal (FLOW)":j.principalAmount,"Yield (FLOW)":j.yieldAmount,"Yield Rate (%)":j.yieldRate,"Holder Count":j.holderCount,Status:j.status,"Transaction Hash":j.transactionHash})),_=[Object.keys(N[0]).join(","),...N.map(j=>Object.values(j).join(","))].join(`
`),U=new Blob([_],{type:"text/csv"}),$=window.URL.createObjectURL(U),B=document.createElement("a");B.href=$,B.download=`settlement-history-${new Date().toISOString().split("T")[0]}.csv`,B.click(),window.URL.revokeObjectURL($),be.success("Settlement history exported successfully")};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-5 gap-4",children:[c.jsx(_e,{children:c.jsx(Le,{className:"pt-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(y3,{className:"h-4 w-4 text-blue-600"}),c.jsxs("div",{className:"ml-2",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Settlements"}),c.jsx("p",{className:"text-2xl font-bold text-blue-600",children:u.totalSettlements})]})]})})}),c.jsx(_e,{children:c.jsx(Le,{className:"pt-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(zs,{className:"h-4 w-4 text-green-600"}),c.jsxs("div",{className:"ml-2",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Processed"}),c.jsx("p",{className:"text-lg font-bold text-green-600",children:I(u.totalValueProcessed)})]})]})})}),c.jsx(_e,{children:c.jsx(Le,{className:"pt-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(_p,{className:"h-4 w-4 text-purple-600"}),c.jsxs("div",{className:"ml-2",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Yield Rate"}),c.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[u.averageYieldRate.toFixed(1),"%"]})]})]})})}),c.jsx(_e,{children:c.jsx(Le,{className:"pt-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Sx,{className:"h-4 w-4 text-orange-600"}),c.jsxs("div",{className:"ml-2",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Processing"}),c.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[u.averageProcessingTime,"d"]})]})]})})}),c.jsx(_e,{children:c.jsx(Le,{className:"pt-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Hr,{className:"h-4 w-4 text-green-600"}),c.jsxs("div",{className:"ml-2",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Success Rate"}),c.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[u.successRate.toFixed(0),"%"]})]})]})})})]}),c.jsxs(_e,{children:[c.jsx(_t,{children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsxs(Lt,{className:"flex items-center gap-2",children:[c.jsx(y3,{className:"w-5 h-5"}),"Settlement History"]}),c.jsx(Zr,{children:"Complete history of processed invoice settlements"})]}),c.jsx("div",{className:"flex gap-2",children:c.jsxs(re,{variant:"outline",onClick:E,children:[c.jsx(K5,{className:"w-4 h-4 mr-2"}),"Export CSV"]})})]})}),c.jsxs(Le,{children:[c.jsx("div",{className:"mb-4",children:c.jsxs("div",{className:"relative",children:[c.jsx(q5,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),c.jsx(rn,{placeholder:"Search by invoice number, token ID, or transaction hash...",value:h,onChange:N=>y(N.target.value),className:"pl-10"})]})}),p?c.jsx("div",{className:"flex justify-center p-8",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):o.length===0?c.jsx("p",{className:"text-gray-500 text-center py-8",children:"No settlements found"}):c.jsx("div",{className:"space-y-4",children:o.map(N=>c.jsx(_e,{className:"border-l-4 border-l-green-500",children:c.jsx(Le,{className:"p-6",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"font-bold text-lg",children:N.invoiceNumber}),A(N.status),c.jsxs(st,{variant:"outline",children:["Token #",N.tokenId]})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Settlement Date"}),c.jsxs("p",{className:"font-medium flex items-center gap-1",children:[c.jsx(Sx,{className:"w-3 h-3"}),C(N.settlementDate)]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Total Amount"}),c.jsx("p",{className:"font-medium",children:I(N.totalAmount)})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Yield Rate"}),c.jsxs("p",{className:"font-medium",children:[N.yieldRate,"%"]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Holders"}),c.jsxs("p",{className:"font-medium flex items-center gap-1",children:[c.jsx(_p,{className:"w-3 h-3"}),N.holderCount]})]})]}),c.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:c.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Principal"}),c.jsx("p",{className:"font-medium",children:I(N.principalAmount)})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Yield"}),c.jsx("p",{className:"font-medium",children:I(N.yieldAmount)})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Transaction"}),c.jsxs("p",{className:"font-mono text-xs",children:[N.transactionHash.slice(0,10),"..."]})]})]})}),N.notes&&c.jsxs("div",{className:"text-sm text-gray-600",children:[c.jsx("strong",{children:"Notes:"})," ",N.notes]})]}),c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsx(re,{size:"sm",variant:"outline",onClick:()=>{g(N),b(!0)},children:"View Details"}),c.jsx(re,{size:"sm",variant:"outline",onClick:()=>{window.open(`https://www.flowscan.io/tx/${N.transactionHash}`,"_blank")},children:"View Tx"})]})]})})},N.id))})]})]}),m&&v&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs(_e,{className:"w-full max-w-4xl max-h-[80vh] overflow-auto",children:[c.jsxs(_t,{children:[c.jsxs(Lt,{children:["Settlement Details - ",m.invoiceNumber]}),c.jsx(Zr,{children:"Complete settlement breakdown and holder distribution"})]}),c.jsxs(Le,{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium mb-3",children:"Settlement Information"}),c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Token ID:"}),c.jsxs("span",{className:"font-medium",children:["#",m.tokenId]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Invoice Number:"}),c.jsx("span",{className:"font-medium",children:m.invoiceNumber})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Settlement Date:"}),c.jsx("span",{className:"font-medium",children:C(m.settlementDate)})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Status:"}),A(m.status)]})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium mb-3",children:"Financial Breakdown"}),c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Principal Amount:"}),c.jsx("span",{className:"font-medium",children:I(m.principalAmount)})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Yield Amount:"}),c.jsx("span",{className:"font-medium",children:I(m.yieldAmount)})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Yield Rate:"}),c.jsxs("span",{className:"font-medium",children:[m.yieldRate,"%"]})]}),c.jsxs("div",{className:"flex justify-between border-t pt-2",children:[c.jsx("span",{className:"font-medium",children:"Total Distributed:"}),c.jsx("span",{className:"font-bold",children:I(m.totalAmount)})]})]})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium mb-3",children:"Holder Distribution"}),c.jsx("div",{className:"space-y-2",children:m.holderDistribution.map((N,_)=>c.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-mono text-sm",children:N.address}),c.jsxs("p",{className:"text-xs text-gray-600",children:[N.percentage,"% of total supply"]})]}),c.jsx("div",{className:"text-right",children:c.jsx("p",{className:"font-medium",children:I(N.amount)})})]},_))})]}),c.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[c.jsx(re,{variant:"outline",onClick:()=>{window.open(`https://www.flowscan.io/tx/${m.transactionHash}`,"_blank")},children:"View on Explorer"}),c.jsx(re,{variant:"outline",onClick:()=>b(!1),children:"Close"})]})]})]})})]})},e8e=()=>{const[t,e]=T.useState(!1),{provider:n,signer:r,address:s,isConnected:i}=er(),[a,o]=T.useState(null),[l,u]=T.useState(!1),[d,p]=T.useState(null),[f,h]=T.useState(null),[y,m]=T.useState(null),[g,v]=T.useState(null),[b,w]=T.useState([]),[A,I]=T.useState([]),[C,E]=T.useState(!1),[N,_]=T.useState(null),[U,$]=T.useState("overview"),[B,j]=T.useState(!1),[x,k]=T.useState(!1),[M,P]=T.useState(!1),[S,L]=T.useState({tokenId:"",assetName:"",amount:0,month:"",type:"rental",notes:"",receipts:[]}),[V,F]=T.useState([]),[R,z]=T.useState(0),[Q,O]=T.useState(0),[H,Y]=T.useState(!1);T.useEffect(()=>{(async()=>{if(!i||!s||!r){console.log("Wallet not connected, resetting manager state"),o(null),I([]),w([]);return}u(!0),console.log(" Starting contract initialization and manager authorization check for:",s);try{await G()}catch(pe){console.error(" Error during initialization:",pe),Ie.error("Failed to initialize contracts")}finally{u(!1)}})()},[i,s,r]);const G=async()=>{try{if(!i||!r){console.log(" Wallet not connected or signer not available");return}console.log(" Initializing admin contract..."),console.log("Contract address:",kn);const ee=new at(kn,Jr.ADMIN,r);try{if(await r.provider.getCode(kn)==="0x")throw new Error("Contract not deployed at this address")}catch(Ze){throw console.error(" Contract verification failed:",Ze),Ze}p(ee),console.log(" Admin contract initialized successfully");let pe=null;try{pe=new at(ji,Jr.ERC1155CORE,r),h(pe),console.log(" Token contract initialized successfully")}catch(Ze){console.warn(" Token contract initialization failed:",Ze)}let xe=null;try{xe=new at(Or,Jr.MARKETPLACE,r),m(xe),console.log(" Marketplace contract initialized successfully")}catch(Ze){console.warn(" Marketplace contract initialization failed:",Ze)}let Fe=null;try{Fe=new at(SJ,Jr.PAYMENTSPLITTER,r),v(Fe),console.log(" Payment splitter contract initialized successfully")}catch(Ze){console.warn(" Payment splitter contract initialization failed:",Ze)}await Z(ee,pe,xe,Fe)}catch(ee){console.error(" Error initializing admin contract:",ee),Ie.error("Failed to initialize admin contract")}},Z=async(ee,pe,xe,Fe)=>{const Ze=ee||d;if(!Ze||!s){console.log(" Admin contract not initialized or address not available");return}try{console.log(" Checking manager authorization for:",s);let Oe;try{Oe=await Ze.getAllManagers(),console.log(" All managers from contract:",Oe)}catch(ct){console.error(" Error calling getAllManagers:",ct),Ie.error("Failed to fetch managers from contract"),o(!1);return}const rt=Oe||[],zt=rt.some(ct=>ct.toLowerCase()===s.toLowerCase());o(zt),zt?(console.log(" User is authorized manager"),Ie.success("Manager authorization confirmed!"),await te(Ze,pe,xe,Fe)):(console.log(" User is not an authorized manager"),Ie.error("You are not authorized as a manager"),I([]),w([])),console.log(` Manager check completed. Authorized: ${zt}`),console.log(` Total Managers: ${rt.length}`)}catch(Oe){console.error(" Error checking manager authorization:",Oe),o(!1),Ie.error("Failed to check manager authorization")}},te=async(ee,pe,xe,Fe)=>{const Ze=ee||d,Oe=pe||f,rt=xe||y;if(!Ze||!s){console.log(" Contract not initialized or address not available");return}try{E(!0),console.log(" Fetching assigned assets for manager:",s);const zt=await Ze.getManagerTokens(s);console.log(" Assigned token IDs:",zt.map(le=>le.toString()));const ct=zt.map(le=>le.toString());if(w(ct),ct.length===0){console.log(" No assets assigned to this manager"),I([]);return}const J=[];for(const le of ct)try{if(console.log(` Processing metadata for token ${le}...`),Oe)try{if(await Oe.getTokenLifecycleStatus(le)===2){console.log(` Skipping burned token ${le} in manager dashboard`);continue}}catch{console.warn(` Could not check lifecycle for token ${le}, including in manager dashboard`)}let ue={},he=sr.from(0),Ne="",Ge=`Asset #${le}`;if(Oe)try{const Me=await Oe.getTokenInfo(le);he=Me.price,Ne=Me.issuer;const ie=Me.metadataURI;if(console.log(` Token ${le} info:`,{price:Ye(he),issuer:Ne,metadataURI:ie}),ie&&ie.length>0)try{let ge=ie;ie.startsWith("ipfs://")?ge=`https://gateway.pinata.cloud/ipfs/${ie.replace("ipfs://","")}`:ie.startsWith("Qm")&&(ge=`https://gateway.pinata.cloud/ipfs/${ie}`),console.log(` Fetching metadata from: ${ge}`);const je=await fetch(ge);je.ok?(ue=await je.json(),Ge=(ue==null?void 0:ue.name)||(ue==null?void 0:ue.title)||Ge,console.log(` Fetched metadata for token ${le}:`,ue)):console.warn(` Metadata fetch failed with status: ${je.status}`)}catch(ge){console.warn(` Could not fetch metadata for token ${le}:`,ge)}if(!(ue!=null&&ue.name))try{const ge=await Oe.tokenMetadata(le);ge&&ge!==ie&&console.log(` Trying direct tokenMetadata call: ${ge}`)}catch(ge){console.warn(" Direct tokenMetadata call failed:",ge)}}catch(Me){console.warn(` Could not fetch token info for ${le}:`,Me);try{he=await Oe.tokenPrice(le),Ne=await Oe.tokenIssuer(le)}catch(ie){console.warn(" Fallback token calls failed:",ie)}}let Te=1e3,me=0;if(rt)try{const Me=await rt.totalTokensListed(le);Te=parseInt(Me.toString()),me=Te,console.log(` Token ${le} marketplace data: ${me}/${Te} listed`)}catch(Me){console.warn(` Could not fetch marketplace data for token ${le}:`,Me)}const de={tokenId:le,name:Ge,type:q(ue),location:ne(ue),totalTokens:Te,soldTokens:me,currentValue:parseFloat(Ye(he)),monthlyIncome:(ue==null?void 0:ue.expectedMonthlyIncome)||0,occupancyRate:(ue==null?void 0:ue.occupancyRate)||85,lastInspection:(ue==null?void 0:ue.lastInspection)||"2024-03-01",nextPayment:(ue==null?void 0:ue.nextPayment)||"2024-04-01",status:(ue==null?void 0:ue.status)||"active",metadataURI:ue?`ipfs://token${le}`:"",images:ue!=null&&ue.images||ue!=null&&ue.image?[ue.image]:[]};J.push(de),console.log(` Processed asset ${le}:`,de.name)}catch(ue){console.error(` Error processing asset ${le}:`,ue),J.push({tokenId:le,name:`Asset #${le}`,type:"real-estate",location:"Unknown",totalTokens:1e3,soldTokens:750,currentValue:0,monthlyIncome:0,occupancyRate:0,lastInspection:"2024-03-01",nextPayment:"2024-04-01",status:"active",metadataURI:"",images:[]})}I(J),console.log(` Loaded ${J.length} assigned assets`),z(J.length);const Ee=J.reduce((le,ue)=>le+ue.monthlyIncome,0);O(Ee)}catch(zt){console.error(" Error fetching assigned assets:",zt),Ie.error(`Failed to load assigned assets: ${zt.message||"Unknown error"}`)}finally{E(!1)}},q=ee=>{if(!(ee!=null&&ee.attributes))return"real-estate";const pe=ee.attributes.find(xe=>xe.trait_type==="Asset Type"||xe.trait_type==="asset_type");if(pe!=null&&pe.value){const xe=pe.value.toLowerCase();if(xe.includes("real")||xe.includes("estate"))return"real-estate";if(xe.includes("commodity")||xe.includes("gold"))return"commodity";if(xe.includes("bond"))return"bonds";if(xe.includes("stock")||xe.includes("equity"))return"equity"}return"real-estate"},ne=ee=>{if(!(ee!=null&&ee.assetDetails))return"Unknown Location";const pe=ee.assetDetails;return pe.location?pe.location:pe.city&&pe.state?`${pe.city}, ${pe.state}`:pe.address?pe.address:"Unknown Location"},Re=async()=>{try{if(!i){Ie.error("Please connect your wallet first");return}Ie.success("Wallet connected successfully!")}catch(ee){console.error("Wallet connection failed:",ee),Ie.error(`Failed to connect wallet: ${ee.message||"Unknown error"}`)}},se=async ee=>{console.log("fetchManagerAssets called - refreshing assigned assets"),a&&d&&await te(d,f,y)},ve=async()=>{if(!S.tokenId||!S.amount||!S.month){Ie.error("Please fill all required fields");return}if(!g||!r){Ie.error("Payment splitter contract not initialized or wallet not connected");return}const ee=A.find(pe=>pe.tokenId===S.tokenId);if(!ee){Ie.error("Selected asset not found in your assigned assets");return}if(S.amount<=0){Ie.error("Amount must be greater than 0");return}Y(!0);try{console.log(" Submitting rental income to payment splitter..."),console.log("Asset:",ee.name),console.log("Token ID:",S.tokenId),console.log("Amount (S):",S.amount),console.log("Income Type:",S.type),console.log("Period:",S.month);const pe=to(S.amount.toString());console.log("Amount in Wei:",pe.toString());const xe=await g.submitRental(S.tokenId,{value:pe,gasLimit:5e5});console.log(" Transaction sent:",xe.hash),Ie.info("Transaction submitted. Waiting for confirmation...");const Fe=await xe.wait();console.log(" Transaction confirmed:",Fe.transactionHash);const Ze={id:`inc_${Date.now()}`,tokenId:S.tokenId,assetName:S.assetName,amount:S.amount,perToken:0,submittedDate:new Date().toISOString().split("T")[0],distributedDate:new Date().toISOString().split("T")[0],type:S.type,status:"distributed"};F(Oe=>[Ze,...Oe]),j(!1),L({tokenId:"",assetName:"",amount:0,month:"",type:"rental",notes:"",receipts:[]}),Ie.success(`${S.type.charAt(0).toUpperCase()+S.type.slice(1)} income of ${S.amount} ETH distributed successfully for ${ee.name}!`)}catch(pe){console.error(" Error submitting rental income:",pe);let xe="Failed to submit rental income";pe.code===4001?xe="Transaction cancelled by user":pe.reason?xe=`Transaction failed: ${pe.reason}`:pe.message&&(xe=pe.message),Ie.error(xe)}finally{Y(!1)}},We=ee=>{switch(ee){case"active":return"bg-green-500";case"maintenance":return"bg-yellow-500";case"vacancy":return"bg-red-500";case"development":return"bg-blue-500";default:return"bg-gray-500"}},fe=ee=>{switch(ee){case"real-estate":return Fd;case"commodity":return Zy;case"bonds":return Uo;case"equity":return gs;default:return Fd}};return c.jsxs("div",{className:`min-h-screen ${t?"bg-gray-950":"bg-gray-50"}`,children:[c.jsx("header",{className:`${t?"bg-gray-900/50 backdrop-blur-xl border-gray-800":"bg-white/80 backdrop-blur-xl border-gray-200"} border-b sticky top-0 z-50`,children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex justify-between items-center h-16",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-emerald-500 to-blue-500 rounded-lg flex items-center justify-center",children:c.jsx(X5,{className:"w-5 h-5 text-white"})}),c.jsxs("div",{children:[c.jsx("h1",{className:`text-xl font-bold ${t?"text-white":"text-gray-900"}`,children:"Asset Manager"}),c.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:"Portfolio Management Dashboard"})]})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[i?c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsxs("div",{className:"flex items-center space-x-2 bg-green-500/10 px-3 py-2 rounded-lg border border-green-500/20",children:[c.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),c.jsx("span",{className:"text-green-400 text-sm font-medium",children:s?`${s.slice(0,6)}...${s.slice(-4)}`:"Unknown"})]}),a?c.jsxs("div",{className:"flex items-center space-x-2 bg-emerald-500/10 px-3 py-2 rounded-lg border border-emerald-500/20",children:[c.jsx(Hr,{className:"w-4 h-4 text-emerald-400"}),c.jsx("span",{className:"text-emerald-400 text-sm font-medium",children:"Authorized Manager"})]}):c.jsxs("div",{className:"flex items-center space-x-2 bg-red-500/10 px-3 py-2 rounded-lg border border-red-500/20",children:[c.jsx(ec,{className:"w-4 h-4 text-red-400"}),c.jsx("span",{className:"text-red-400 text-sm font-medium",children:"Not Authorized"})]})]}):c.jsxs(re,{onClick:Re,disabled:C,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[c.jsx(tc,{className:"w-4 h-4 mr-2"}),C?"Connecting...":"Connect Wallet"]}),c.jsx("div",{className:"flex items-center space-x-2",children:c.jsxs("div",{className:"flex items-center space-x-2 bg-emerald-500/10 px-3 py-2 rounded-lg border border-emerald-500/20",children:[c.jsx("div",{className:"w-2 h-2 bg-emerald-400 rounded-full"}),c.jsx("span",{className:"text-emerald-400 text-sm font-medium",children:"Active Manager"})]})}),c.jsx(re,{variant:"ghost",size:"icon",onClick:()=>e(!t),className:`${t?"text-gray-400 hover:text-white hover:bg-gray-800":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:t?c.jsx(kU,{className:"w-4 h-4"}):c.jsx(IU,{className:"w-4 h-4"})}),c.jsx(re,{variant:"ghost",size:"icon",className:`${t?"text-gray-400 hover:text-white hover:bg-gray-800":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:c.jsx(uT,{className:"w-4 h-4"})}),c.jsx(re,{asChild:!0,variant:"ghost",className:`${t?"text-gray-400 hover:text-white hover:bg-gray-800":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:c.jsxs(XC,{to:"/",className:"flex items-center space-x-2",children:[c.jsx(Dp,{className:"w-4 h-4"}),c.jsx("span",{children:"Home"})]})}),c.jsx(yg,{className:"h-8 w-8",children:c.jsx(gg,{children:"AM"})})]})]})})}),c.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:i?l?c.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:c.jsx(_e,{className:`max-w-md w-full ${t?"bg-gray-900/50 border-gray-800":"bg-white border-gray-200"}`,children:c.jsxs(Le,{className:"p-8 text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-blue-500/10 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(Fr,{className:"w-8 h-8 text-blue-500 animate-spin"})}),c.jsx("h2",{className:`text-xl font-bold mb-2 ${t?"text-white":"text-gray-900"}`,children:"Checking Authorization"}),c.jsx("p",{className:`text-sm mb-6 ${t?"text-gray-400":"text-gray-600"}`,children:"Verifying manager permissions..."}),c.jsxs("p",{className:"text-xs mb-6 text-gray-500",children:["Connected: ",s?`${s.slice(0,10)}...${s.slice(-8)}`:"Unknown"]})]})})}):a===!1?c.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:c.jsx(_e,{className:`max-w-md w-full ${t?"bg-gray-900/50 border-gray-800":"bg-white border-gray-200"}`,children:c.jsxs(Le,{className:"p-8 text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-red-500/10 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(Wo,{className:"w-8 h-8 text-red-500"})}),c.jsx("h2",{className:`text-xl font-bold mb-2 ${t?"text-white":"text-gray-900"}`,children:"Access Restricted"}),c.jsx("p",{className:`text-sm mb-4 ${t?"text-gray-400":"text-gray-600"}`,children:"Your wallet address is not authorized to access the Asset Manager Dashboard."}),c.jsxs("p",{className:"text-xs mb-6 text-gray-500",children:["Connected: ",s?`${s.slice(0,10)}...${s.slice(-8)}`:"Unknown"]}),c.jsxs(re,{onClick:()=>window.location.href="/",variant:"outline",className:"w-full",children:[c.jsx(Dp,{className:"w-4 h-4 mr-2"}),"Return to Home"]})]})})}):c.jsxs(wc,{value:U,onValueChange:$,className:"space-y-6",children:[c.jsxs(ol,{className:`grid w-full grid-cols-5 ${t?"bg-gray-900 border-gray-800":"bg-gray-100 border-gray-200"}`,children:[c.jsx(vn,{value:"overview",children:"Overview"}),c.jsx(vn,{value:"assets",children:"My Assets"}),c.jsx(vn,{value:"income",children:"Income"}),c.jsx(vn,{value:"settlements",children:"Settlements"}),c.jsx(vn,{value:"reports",children:"Reports"})]}),c.jsxs(jn,{value:"overview",className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[c.jsx(_e,{className:`${t?"bg-gray-900/50 border-gray-800":"bg-white border-gray-200"}`,children:c.jsxs(Le,{className:"p-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-600"}`,children:"Assets Managed"}),c.jsx("p",{className:`text-2xl font-bold ${t?"text-white":"text-gray-900"}`,children:i&&a?R:"N/A"})]}),c.jsx("div",{className:"p-3 bg-blue-500/10 rounded-lg",children:c.jsx(Fd,{className:"w-6 h-6 text-blue-500"})})]}),c.jsxs("div",{className:"mt-4 flex items-center",children:[c.jsx(db,{className:"w-4 h-4 text-green-500 mr-1"}),c.jsx("span",{className:"text-sm text-green-500",children:i?"Real-time data":"Connect wallet to view"})]})]})}),c.jsx(_e,{className:`${t?"bg-gray-900/50 border-gray-800":"bg-white border-gray-200"}`,children:c.jsxs(Le,{className:"p-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-600"}`,children:"Monthly Income"}),c.jsx("p",{className:`text-2xl font-bold ${t?"text-white":"text-gray-900"}`,children:i&&a?`$${Q.toLocaleString()}`:"N/A"})]}),c.jsx("div",{className:"p-3 bg-emerald-500/10 rounded-lg",children:c.jsx(zs,{className:"w-6 h-6 text-emerald-500"})})]}),c.jsxs("div",{className:"mt-4 flex items-center",children:[c.jsx(db,{className:"w-4 h-4 text-green-500 mr-1"}),c.jsx("span",{className:"text-sm text-green-500",children:i?"From assigned assets":"Connect wallet to view"})]})]})}),c.jsx(_e,{className:`${t?"bg-gray-900/50 border-gray-800":"bg-white border-gray-200"}`,children:c.jsxs(Le,{className:"p-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-600"}`,children:"Avg Occupancy"}),c.jsx("p",{className:`text-2xl font-bold ${t?"text-white":"text-gray-900"}`,children:i&&a&&A.length>0?`${Math.round(A.reduce((ee,pe)=>ee+pe.occupancyRate,0)/A.length)}%`:"N/A"})]}),c.jsx("div",{className:"p-3 bg-purple-500/10 rounded-lg",children:c.jsx(f3,{className:"w-6 h-6 text-purple-500"})})]}),c.jsxs("div",{className:"mt-4 flex items-center",children:[c.jsx(db,{className:"w-4 h-4 text-green-500 mr-1"}),c.jsx("span",{className:"text-sm text-green-500",children:"+3% from last month"})]})]})}),c.jsx(_e,{className:`${t?"bg-gray-900/50 border-gray-800":"bg-white border-gray-200"}`,children:c.jsxs(Le,{className:"p-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-600"}`,children:"Total Value"}),c.jsx("p",{className:`text-2xl font-bold ${t?"text-white":"text-gray-900"}`,children:i&&a?`$${(A.reduce((ee,pe)=>ee+pe.currentValue,0)/1e6).toFixed(1)}M`:"N/A"})]}),c.jsx("div",{className:"p-3 bg-orange-500/10 rounded-lg",children:c.jsx(gs,{className:"w-6 h-6 text-orange-500"})})]}),c.jsxs("div",{className:"mt-4 flex items-center",children:[c.jsx(db,{className:"w-4 h-4 text-green-500 mr-1"}),c.jsx("span",{className:"text-sm text-green-500",children:"+15.2% from last month"})]})]})})]}),c.jsxs(_e,{className:`${t?"bg-gray-900/50 border-gray-800":"bg-white border-gray-200"}`,children:[c.jsx(_t,{children:c.jsx(Lt,{className:`${t?"text-white":"text-gray-900"}`,children:"Quick Actions"})}),c.jsx(Le,{children:c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.jsxs(re,{onClick:()=>j(!0),className:"h-24 flex-col space-y-2 bg-emerald-600 hover:bg-emerald-700 text-white",children:[c.jsx(zs,{className:"w-6 h-6"}),c.jsx("span",{className:"text-sm font-medium",children:"Submit Income"})]}),c.jsxs(re,{variant:"outline",className:`h-24 flex-col space-y-2 ${t?"border-gray-700 bg-gray-800/50 text-gray-300 hover:bg-gray-800 hover:text-white":"border-gray-200 bg-gray-50 text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,onClick:()=>P(!0),children:[c.jsx(Ql,{className:"w-6 h-6"}),c.jsx("span",{className:"text-sm font-medium",children:"View History"})]}),c.jsxs(re,{variant:"outline",className:`h-24 flex-col space-y-2 ${t?"border-gray-700 bg-gray-800/50 text-gray-300 hover:bg-gray-800 hover:text-white":"border-gray-200 bg-gray-50 text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[c.jsx(Uo,{className:"w-6 h-6"}),c.jsx("span",{className:"text-sm font-medium",children:"Generate Report"})]}),c.jsxs(re,{variant:"outline",className:`h-24 flex-col space-y-2 ${t?"border-gray-700 bg-gray-800/50 text-gray-300 hover:bg-gray-800 hover:text-white":"border-gray-200 bg-gray-50 text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[c.jsx(Sx,{className:"w-6 h-6"}),c.jsx("span",{className:"text-sm font-medium",children:"Schedule Inspection"})]})]})})]}),c.jsxs(_e,{className:`${t?"bg-gray-900/50 border-gray-800":"bg-white border-gray-200"}`,children:[c.jsx(_t,{children:c.jsx(Lt,{className:`${t?"text-white":"text-gray-900"}`,children:"Recent Activity"})}),c.jsx(Le,{children:c.jsx("div",{className:"space-y-4",children:V.slice(0,3).map(ee=>c.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg ${t?"bg-gray-800/50":"bg-gray-50"}`,children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:`w-2 h-2 rounded-full ${ee.status==="distributed"?"bg-green-400":"bg-yellow-400"}`}),c.jsxs("div",{children:[c.jsxs("p",{className:`font-medium ${t?"text-white":"text-gray-900"}`,children:[ee.type.charAt(0).toUpperCase()+ee.type.slice(1)," - ",ee.assetName]}),c.jsxs("p",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:["$",ee.amount.toLocaleString()," distributed"]})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx(st,{variant:ee.status==="distributed"?"default":"secondary",children:ee.status}),c.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-600"} mt-1`,children:ee.submittedDate})]})]},ee.id))})})]})]}),c.jsxs(jn,{value:"assets",className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:`text-2xl font-bold ${t?"text-white":"text-gray-900"}`,children:"My Assigned Assets"}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsxs(re,{variant:"outline",size:"sm",onClick:()=>i&&se(),disabled:C||!i,children:[c.jsx(Fr,{className:`w-4 h-4 mr-2 ${C?"animate-spin":""}`}),C?"Loading...":"Refresh"]}),c.jsxs(re,{variant:"outline",size:"sm",children:[c.jsx(Mx,{className:"w-4 h-4 mr-2"}),"Filter"]}),c.jsxs(re,{variant:"outline",size:"sm",children:[c.jsx(q5,{className:"w-4 h-4 mr-2"}),"Search"]})]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:A.length===0?c.jsx("div",{className:"col-span-full",children:c.jsx(_e,{className:`${t?"bg-gray-900/50 border-gray-800":"bg-white border-gray-200"}`,children:c.jsxs(Le,{className:"p-12 text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-blue-500/10 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(Fd,{className:"w-8 h-8 text-blue-500"})}),c.jsx("h3",{className:`text-xl font-bold mb-2 ${t?"text-white":"text-gray-900"}`,children:"No Assets Assigned"}),c.jsx("p",{className:`text-sm mb-6 ${t?"text-gray-400":"text-gray-600"}`,children:i?"You currently have no assets assigned to manage. Contact the admin to get assets assigned.":"Connect your wallet to view assigned assets."}),i&&c.jsxs(re,{onClick:()=>se(),disabled:C,variant:"outline",children:[c.jsx(Fr,{className:`w-4 h-4 mr-2 ${C?"animate-spin":""}`}),C?"Checking...":"Check Again"]})]})})}):A.map(ee=>{fe(ee.type);const pe=ee.images&&ee.images.length>0?ee.images[0]:"https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?w=800&h=600&fit=crop",xe=Fe=>{switch(Fe){case"real-estate":return"bg-blue-500/10 text-blue-600 border-blue-200";case"commodity":return"bg-green-500/10 text-green-600 border-green-200";case"bonds":return"bg-purple-500/10 text-purple-600 border-purple-200";case"equity":return"bg-orange-500/10 text-orange-600 border-orange-200";default:return"bg-gray-500/10 text-gray-600 border-gray-200"}};return c.jsxs(_e,{className:`overflow-hidden ${t?"bg-gray-900/50 border-gray-800":"bg-white border-gray-200"} cursor-pointer hover:shadow-lg transition-all hover:scale-[1.02]`,onClick:()=>{_(ee),k(!0)},children:[c.jsxs("div",{className:"relative h-48 w-full overflow-hidden",children:[c.jsx("img",{src:pe,alt:ee.name,className:"h-full w-full object-cover transition-transform hover:scale-105",onError:Fe=>{Fe.target.src="https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?w=800&h=600&fit=crop"}}),c.jsx(st,{className:`absolute top-3 right-3 ${xe(ee.type)} border`,children:ee.type.replace("-"," ").replace(/\b\w/g,Fe=>Fe.toUpperCase())}),c.jsx("div",{className:`absolute top-3 left-3 w-3 h-3 rounded-full ${We(ee.status)} ring-2 ring-white`})]}),c.jsxs(Le,{className:"p-4",children:[c.jsxs("div",{className:"mb-3",children:[c.jsx("h3",{className:`font-semibold text-lg mb-1 ${t?"text-white":"text-gray-900"}`,children:ee.name}),c.jsxs("p",{className:`text-sm flex items-center ${t?"text-gray-400":"text-gray-600"}`,children:[c.jsx(FC,{className:"w-3 h-3 mr-1"}),ee.location]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[c.jsxs("div",{className:`p-3 rounded-lg ${t?"bg-gray-800/50":"bg-gray-50"}`,children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:`text-xs ${t?"text-gray-400":"text-gray-600"}`,children:"Token Price"}),c.jsx(zs,{className:"w-3 h-3 text-green-500"})]}),c.jsxs("p",{className:`text-sm font-bold ${t?"text-white":"text-gray-900"}`,children:[ee.currentValue.toFixed(4)," ETH"]})]}),c.jsxs("div",{className:`p-3 rounded-lg ${t?"bg-gray-800/50":"bg-gray-50"}`,children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:`text-xs ${t?"text-gray-400":"text-gray-600"}`,children:"Occupancy"}),c.jsx(gs,{className:"w-3 h-3 text-blue-500"})]}),c.jsxs("p",{className:`text-sm font-bold ${t?"text-white":"text-gray-900"}`,children:[ee.occupancyRate,"%"]})]})]}),c.jsxs("div",{className:"mb-3",children:[c.jsxs("div",{className:"flex justify-between items-center mb-1",children:[c.jsx("span",{className:`text-xs ${t?"text-gray-400":"text-gray-600"}`,children:"Tokens Listed"}),c.jsxs("span",{className:`text-xs font-medium ${t?"text-white":"text-gray-900"}`,children:[ee.soldTokens,"/",ee.totalTokens]})]}),c.jsx(UN,{value:ee.soldTokens/ee.totalTokens*100,className:"h-1.5"})]}),c.jsx("div",{className:`p-3 rounded-lg ${t?"bg-green-500/10 border-green-500/20":"bg-green-50 border-green-200"} border mb-3`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Zy,{className:"w-4 h-4 text-green-500"}),c.jsx("span",{className:`text-sm font-medium ${t?"text-green-300":"text-green-700"}`,children:"Monthly Income"})]}),c.jsxs("span",{className:`text-sm font-bold ${t?"text-green-200":"text-green-800"}`,children:["$",ee.monthlyIncome.toLocaleString()]})]})}),c.jsxs(re,{size:"sm",className:"w-full bg-blue-600 hover:bg-blue-700 text-white",onClick:Fe=>{Fe.stopPropagation(),L(Ze=>({...Ze,tokenId:ee.tokenId,assetName:ee.name})),j(!0)},children:[c.jsx(wu,{className:"w-4 h-4 mr-2"}),"Submit Income"]})]})]},ee.tokenId)})})]}),c.jsxs(jn,{value:"income",className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:`text-2xl font-bold ${t?"text-white":"text-gray-900"}`,children:"Income Management"}),c.jsxs(re,{onClick:()=>j(!0),children:[c.jsx(wu,{className:"w-4 h-4 mr-2"}),"Submit New Income"]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[c.jsx(_e,{className:`${t?"bg-gray-900/50 border-gray-800":"bg-white border-gray-200"}`,children:c.jsx(Le,{className:"p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-600"}`,children:"This Month"}),c.jsx("p",{className:`text-2xl font-bold ${t?"text-white":"text-gray-900"}`,children:"$38,700"})]}),c.jsx("div",{className:"p-3 bg-green-500/10 rounded-lg",children:c.jsx(gs,{className:"w-6 h-6 text-green-500"})})]})})}),c.jsx(_e,{className:`${t?"bg-gray-900/50 border-gray-800":"bg-white border-gray-200"}`,children:c.jsx(Le,{className:"p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-600"}`,children:"Pending"}),c.jsx("p",{className:`text-2xl font-bold ${t?"text-white":"text-gray-900"}`,children:"$0"})]}),c.jsx("div",{className:"p-3 bg-yellow-500/10 rounded-lg",children:c.jsx(Yu,{className:"w-6 h-6 text-yellow-500"})})]})})}),c.jsx(_e,{className:`${t?"bg-gray-900/50 border-gray-800":"bg-white border-gray-200"}`,children:c.jsx(Le,{className:"p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-600"}`,children:"YTD Total"}),c.jsx("p",{className:`text-2xl font-bold ${t?"text-white":"text-gray-900"}`,children:"$428,400"})]}),c.jsx("div",{className:"p-3 bg-blue-500/10 rounded-lg",children:c.jsx(Ql,{className:"w-6 h-6 text-blue-500"})})]})})})]}),c.jsxs(_e,{className:`${t?"bg-gray-900/50 border-gray-800":"bg-white border-gray-200"}`,children:[c.jsx(_t,{children:c.jsx(Lt,{className:`${t?"text-white":"text-gray-900"}`,children:"Income History"})}),c.jsx(Le,{children:c.jsx("div",{className:"space-y-4",children:V.map(ee=>c.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border ${t?"border-gray-700 bg-gray-800/30":"border-gray-200 bg-gray-50"}`,children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${ee.type==="rental"?"bg-blue-500/10":ee.type==="dividend"?"bg-emerald-500/10":"bg-purple-500/10"}`,children:ee.type==="rental"?c.jsx(Fd,{className:"w-5 h-5 text-blue-500"}):ee.type==="dividend"?c.jsx(Zy,{className:"w-5 h-5 text-emerald-500"}):c.jsx(Uo,{className:"w-5 h-5 text-purple-500"})}),c.jsxs("div",{children:[c.jsx("p",{className:`font-medium ${t?"text-white":"text-gray-900"}`,children:ee.assetName}),c.jsxs("p",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:[ee.type.charAt(0).toUpperCase()+ee.type.slice(1),"  Token ID: ",ee.tokenId]})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:`font-semibold ${t?"text-white":"text-gray-900"}`,children:["$",ee.amount.toLocaleString()]}),c.jsxs("p",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:["$",ee.perToken,"/token"]})]}),c.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[c.jsx(st,{variant:ee.status==="distributed"?"default":ee.status==="pending"?"secondary":"destructive",children:ee.status}),c.jsx("p",{className:`text-xs ${t?"text-gray-400":"text-gray-600"}`,children:ee.submittedDate})]})]},ee.id))})})]})]}),c.jsxs(jn,{value:"reports",className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:`text-2xl font-bold ${t?"text-white":"text-gray-900"}`,children:"Reports & Analytics"}),c.jsxs(re,{variant:"outline",children:[c.jsx(K5,{className:"w-4 h-4 mr-2"}),"Export Reports"]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs(_e,{className:`${t?"bg-gray-900/50 border-gray-800":"bg-white border-gray-200"}`,children:[c.jsx(_t,{children:c.jsx(Lt,{className:`${t?"text-white":"text-gray-900"}`,children:"Performance Summary"})}),c.jsx(Le,{children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:`${t?"text-gray-400":"text-gray-600"}`,children:"Total Assets Under Management"}),c.jsx("span",{className:`font-medium ${t?"text-white":"text-gray-900"}`,children:"3"})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:`${t?"text-gray-400":"text-gray-600"}`,children:"Combined Asset Value"}),c.jsx("span",{className:`font-medium ${t?"text-white":"text-gray-900"}`,children:"$5.5M"})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:`${t?"text-gray-400":"text-gray-600"}`,children:"Average Monthly Income"}),c.jsx("span",{className:`font-medium ${t?"text-white":"text-gray-900"}`,children:"$38.7K"})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:`${t?"text-gray-400":"text-gray-600"}`,children:"Portfolio Yield"}),c.jsx("span",{className:`font-medium ${t?"text-white":"text-gray-900"}`,children:"8.4%"})]})]})})]}),c.jsxs(_e,{className:`${t?"bg-gray-900/50 border-gray-800":"bg-white border-gray-200"}`,children:[c.jsx(_t,{children:c.jsx(Lt,{className:`${t?"text-white":"text-gray-900"}`,children:"Quick Reports"})}),c.jsx(Le,{children:c.jsxs("div",{className:"space-y-3",children:[c.jsxs(re,{variant:"outline",className:"w-full justify-start",children:[c.jsx(Uo,{className:"w-4 h-4 mr-2"}),"Monthly Income Report"]}),c.jsxs(re,{variant:"outline",className:"w-full justify-start",children:[c.jsx(Ql,{className:"w-4 h-4 mr-2"}),"Asset Performance Analysis"]}),c.jsxs(re,{variant:"outline",className:"w-full justify-start",children:[c.jsx(gs,{className:"w-4 h-4 mr-2"}),"Occupancy Trends"]}),c.jsxs(re,{variant:"outline",className:"w-full justify-start",children:[c.jsx(f3,{className:"w-4 h-4 mr-2"}),"Portfolio Distribution"]})]})})]})]})]}),c.jsxs(jn,{value:"settlements",className:"space-y-6",children:[c.jsx("div",{className:"flex justify-between items-center",children:c.jsx("h2",{className:`text-2xl font-bold ${t?"text-white":"text-gray-900"}`,children:"Invoice Settlement Management"})}),c.jsxs(wc,{defaultValue:"processor",className:"space-y-6",children:[c.jsxs(ol,{className:`${t?"bg-gray-900 border-gray-800":"bg-gray-100 border-gray-200"}`,children:[c.jsx(vn,{value:"processor",children:"Settlement Processor"}),c.jsx(vn,{value:"history",children:"Settlement History"})]}),c.jsx(jn,{value:"processor",children:c.jsx(J$e,{})}),c.jsx(jn,{value:"history",children:c.jsx(Q$e,{})})]})]})]}):c.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:c.jsx(_e,{className:`max-w-md w-full ${t?"bg-gray-900/50 border-gray-800":"bg-white border-gray-200"}`,children:c.jsxs(Le,{className:"p-8 text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-blue-500/10 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(tc,{className:"w-8 h-8 text-blue-500"})}),c.jsx("h2",{className:`text-xl font-bold mb-2 ${t?"text-white":"text-gray-900"}`,children:"Connect Your Wallet"}),c.jsx("p",{className:`text-sm mb-6 ${t?"text-gray-400":"text-gray-600"}`,children:"Connect your wallet to access the Asset Manager Dashboard and manage your assigned properties."}),c.jsxs(re,{onClick:Re,disabled:C,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:[c.jsx(tc,{className:"w-4 h-4 mr-2"}),C?"Connecting...":"Connect Wallet"]})]})})})}),c.jsx(Os,{open:B,onOpenChange:j,children:c.jsxs(ws,{className:`sm:max-w-lg ${t?"bg-gray-900 border-gray-700":"bg-white border-gray-200"}`,children:[c.jsxs(xs,{children:[c.jsx(Ts,{className:`${t?"text-white":"text-gray-900"}`,children:"Submit Income"}),c.jsx(Bo,{className:`${t?"text-gray-300":"text-gray-600"}`,children:"Submit rental income or dividends for distribution to token holders."})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(Ut,{htmlFor:"asset-select",className:`${t?"text-gray-200":"text-gray-700"}`,children:"Select Asset"}),c.jsxs(Qu,{value:S.tokenId,onValueChange:ee=>{const pe=A.find(xe=>xe.tokenId===ee);L(xe=>({...xe,tokenId:ee,assetName:(pe==null?void 0:pe.name)||""}))},children:[c.jsx(yc,{className:`${t?"bg-gray-800 border-gray-600 text-white":"bg-white border-gray-300"}`,children:c.jsx(ed,{placeholder:"Choose an asset"})}),c.jsx(gc,{children:A.map(ee=>c.jsxs(mr,{value:ee.tokenId,children:[ee.name," (ID: ",ee.tokenId,")"]},ee.tokenId))})]})]}),c.jsxs("div",{children:[c.jsx(Ut,{htmlFor:"income-type",className:`${t?"text-gray-200":"text-gray-700"}`,children:"Income Type"}),c.jsxs(Qu,{value:S.type,onValueChange:ee=>L(pe=>({...pe,type:ee})),children:[c.jsx(yc,{className:`${t?"bg-gray-800 border-gray-600 text-white":"bg-white border-gray-300"}`,children:c.jsx(ed,{})}),c.jsxs(gc,{children:[c.jsx(mr,{value:"rental",children:"Rental Income"}),c.jsx(mr,{value:"dividend",children:"Dividend"}),c.jsx(mr,{value:"interest",children:"Interest Payment"})]})]})]}),c.jsxs("div",{children:[c.jsx(Ut,{htmlFor:"amount",className:`${t?"text-gray-200":"text-gray-700"}`,children:"Amount (S)"}),c.jsx(rn,{id:"amount",type:"number",step:"0.001",min:"0",placeholder:"Enter amount in S (e.g., 0.002)",value:S.amount||"",onChange:ee=>L(pe=>({...pe,amount:Number(ee.target.value)})),className:`${t?"bg-gray-800 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),c.jsxs("div",{children:[c.jsx(Ut,{htmlFor:"month",className:`${t?"text-gray-200":"text-gray-700"}`,children:"Period"}),c.jsx(rn,{id:"month",type:"month",value:S.month,onChange:ee=>L(pe=>({...pe,month:ee.target.value})),className:`${t?"bg-gray-800 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),c.jsxs("div",{children:[c.jsx(Ut,{htmlFor:"notes",className:`${t?"text-gray-200":"text-gray-700"}`,children:"Notes (Optional)"}),c.jsx(L2,{id:"notes",placeholder:"Additional notes or details",value:S.notes,onChange:ee=>L(pe=>({...pe,notes:ee.target.value})),className:`${t?"bg-gray-800 border-gray-600 text-white":"bg-white border-gray-300"}`})]})]}),c.jsxs(ou,{children:[c.jsx(re,{variant:"outline",onClick:()=>j(!1),children:"Cancel"}),c.jsx(re,{onClick:ve,disabled:H,children:H?c.jsxs(c.Fragment,{children:[c.jsx(Fr,{className:"w-4 h-4 mr-2 animate-spin"}),"Submitting..."]}):"Submit Income"})]})]})}),c.jsx(Os,{open:x,onOpenChange:k,children:c.jsx(ws,{className:`sm:max-w-2xl ${t?"bg-gray-900 border-gray-700":"bg-white border-gray-200"}`,children:N&&c.jsxs(c.Fragment,{children:[c.jsxs(xs,{children:[c.jsx(Ts,{className:`${t?"text-white":"text-gray-900"}`,children:N.name}),c.jsx(Bo,{className:`${t?"text-gray-300":"text-gray-600"}`,children:"Asset Details and Management"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-600"}`,children:"Token ID"}),c.jsx("p",{className:`${t?"text-white":"text-gray-900"}`,children:N.tokenId})]}),c.jsxs("div",{children:[c.jsx("p",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-600"}`,children:"Location"}),c.jsx("p",{className:`${t?"text-white":"text-gray-900"}`,children:N.location})]}),c.jsxs("div",{children:[c.jsx("p",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-600"}`,children:"Current Value"}),c.jsxs("p",{className:`${t?"text-white":"text-gray-900"}`,children:["$",N.currentValue.toLocaleString()]})]}),c.jsxs("div",{children:[c.jsx("p",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-600"}`,children:"Monthly Income"}),c.jsxs("p",{className:`${t?"text-white":"text-gray-900"}`,children:["$",N.monthlyIncome.toLocaleString()]})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-600"}`,children:"Tokens"}),c.jsxs("p",{className:`${t?"text-white":"text-gray-900"}`,children:[N.soldTokens," / ",N.totalTokens," sold"]}),c.jsx(UN,{value:N.soldTokens/N.totalTokens*100,className:"mt-2"})]}),c.jsxs("div",{children:[c.jsx("p",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-600"}`,children:"Occupancy Rate"}),c.jsxs("p",{className:`${t?"text-white":"text-gray-900"}`,children:[N.occupancyRate,"%"]})]}),c.jsxs("div",{children:[c.jsx("p",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-600"}`,children:"Last Inspection"}),c.jsx("p",{className:`${t?"text-white":"text-gray-900"}`,children:N.lastInspection})]}),c.jsxs("div",{children:[c.jsx("p",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-600"}`,children:"Next Payment"}),c.jsx("p",{className:`${t?"text-white":"text-gray-900"}`,children:N.nextPayment})]})]})]}),c.jsxs(ou,{children:[c.jsx(re,{variant:"outline",onClick:()=>k(!1),children:"Close"}),c.jsx(re,{onClick:()=>{L(ee=>({...ee,tokenId:N.tokenId,assetName:N.name})),k(!1),j(!0)},children:"Submit Income"})]})]})})})]})},rw=({children:t,allowedRoles:e,redirectTo:n="/login"})=>{const{isAuthenticated:r,isLoading:s,canAccess:i,userRoles:a,primaryRole:o}=AP(),l=yl();if(s)return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-slate-900 mx-auto mb-4"}),c.jsx("p",{className:"text-slate-600 text-lg",children:"Verifying access..."})]})});if(!r)return console.log(" User not authenticated, redirecting to login"),c.jsx(F3,{to:n,state:{from:l},replace:!0});if(!i(e)){console.log(" User lacks required roles, redirecting to appropriate dashboard:",{userRoles:a,requiredRoles:e,primaryRole:o});const u=o||a[0]||"user";let d="/dashboard";switch(u){case"admin":d="/admin";break;case"issuer":d="/issuer";break;case"manager":d="/manager";break;default:d="/dashboard"}return c.jsx(F3,{to:d,replace:!0})}return console.log(" Access granted to protected route"),c.jsx(c.Fragment,{children:t})};class t8e{static clearMetadataCache(){const e=window.metadataService;if(e&&e.cache){const n=e.cache.size;e.cache.clear(),console.log(` Cleared metadata cache (${n} entries)`)}else console.warn(" Metadata service cache not found")}static clearFailedCacheEntries(){const e=window.metadataService;if(e&&e.cache){let n=0;for(const[r,s]of e.cache.entries())s.error&&(e.cache.delete(r),n++);console.log(` Cleared ${n} failed cache entries`)}}static inspectCache(){const e=window.metadataService;if(!e||!e.cache){console.warn(" Metadata service cache not found");return}const n=e.cache,r=n.size;let s=0,i=0,a=0;console.log(" Metadata Cache Inspection:"),console.log(`Total entries: ${r}`);for(const[l,u]of n.entries()){const d=u;d.error?(i++,d.expiry&&Date.now()>d.expiry&&a++):s++}console.log(` Successful: ${s}`),console.log(` Failed: ${i}`),console.log(` Expired failures: ${a}`);let o=0;for(const[l,u]of n.entries()){if(o>=3)break;const d=u;console.log(`
Sample entry ${o+1}:`),console.log(`URI: ${l}`),console.log(`Status: ${d.error?"Failed":"Success"}`),d.error?(console.log(`Error: ${d.error}`),console.log(`Expires: ${d.expiry?new Date(d.expiry).toLocaleString():"Never"}`)):(console.log(`Name: ${d.name||"Unknown"}`),console.log(`Description: ${d.description?d.description.substring(0,50)+"...":"None"}`)),o++}}static async testIPFSFetch(e){const n=[{name:"Custom Pinata",url:`https://olive-left-snake-740.mypinata.cloud/ipfs/${e}`},{name:"Pinata Gateway",url:`https://gateway.pinata.cloud/ipfs/${e}`},{name:"IPFS.io",url:`https://ipfs.io/ipfs/${e}`},{name:"Dweb Link",url:`https://dweb.link/ipfs/${e}`},{name:"Cloudflare",url:`https://cloudflare-ipfs.com/ipfs/${e}`}];console.log(` Testing IPFS gateways for hash: ${e}`);for(const r of n)try{console.log(`Testing ${r.name}...`);const s=Date.now(),i=await Promise.race([fetch(r.url),new Promise((l,u)=>setTimeout(()=>u(new Error("Timeout")),1e4))]),o=Date.now()-s;if(i.ok){const l=await i.json();console.log(` ${r.name}: Success (${o}ms)`),console.log(`   Name: ${l.name||"Unknown"}`),console.log(`   Image: ${l.image?"Present":"Missing"}`)}else console.log(` ${r.name}: HTTP ${i.status} (${o}ms)`)}catch(s){console.log(` ${r.name}: ${s.message}`)}}static enableRealTimeMonitoring(){const e=console.log,n=console.warn,r=console.error;console.log(" Metadata monitoring enabled. Watch for metadata service calls..."),console.log=(...s)=>{s[0]&&typeof s[0]=="string"&&(s[0].includes(" Fetching metadata")||s[0].includes(" Metadata fetched")||s[0].includes(" Using cached"))?e(" METADATA MONITOR:",...s):e(...s)},console.warn=(...s)=>{s[0]&&typeof s[0]=="string"&&s[0].includes("Gateway")?n(" METADATA MONITOR:",...s):n(...s)},console.error=(...s)=>{s[0]&&typeof s[0]=="string"&&(s[0].includes("IPFS gateways failed")||s[0].includes("metadata fetching"))?r(" METADATA MONITOR:",...s):r(...s)}}}window.MetadataDebugUtils=t8e;class n8e{constructor(){Ke(this,"results",[])}async testCommonIPFSFormats(){console.log(` Testing Common IPFS URI Formats...
`);const e=["ipfs://QmYwAPJzv5CZsnA625s3Xf2nemtYgPpHdWEz79ojWnPbdG","https://gateway.pinata.cloud/ipfs/QmYwAPJzv5CZsnA625s3Xf2nemtYgPpHdWEz79ojWnPbdG","QmYwAPJzv5CZsnA625s3Xf2nemtYgPpHdWEz79ojWnPbdG","ipfs://bafybeigdyrzt5sfp7udm7hu76uh7y26nf3efuylqabf3oclgtqy55fbzdi","https://gateway.pinata.cloud/ipfs/bafybeigdyrzt5sfp7udm7hu76uh7y26nf3efuylqabf3oclgtqy55fbzdi","ipfs://TestHash123","https://gateway.pinata.cloud/ipfs/TestHash123","","invalid-uri"];for(const n of e)await this.testSingleURI("Common Format Test",n);this.printResults("Common IPFS Format Tests")}async testGatewayPerformance(){console.log(`
 Testing Individual Gateway Performance...
`);const e="QmYwAPJzv5CZsnA625s3Xf2nemtYgPpHdWEz79ojWnPbdG",n=[{name:"Custom Pinata",url:`https://olive-left-snake-740.mypinata.cloud/ipfs/${e}`},{name:"Pinata Gateway",url:`https://gateway.pinata.cloud/ipfs/${e}`},{name:"IPFS.io",url:`https://ipfs.io/ipfs/${e}`},{name:"Dweb Link",url:`https://dweb.link/ipfs/${e}`},{name:"Cloudflare",url:`https://cloudflare-ipfs.com/ipfs/${e}`},{name:"IPFS Gateway",url:`https://gateway.ipfs.io/ipfs/${e}`},{name:"Infura",url:`https://ipfs.infura.io/ipfs/${e}`},{name:"CF IPFS",url:`https://cf-ipfs.com/ipfs/${e}`}];for(const r of n)await this.testGatewayDirect(r.name,r.url);this.printResults("Gateway Performance Tests")}async testCurrentAppMetadata(){console.log(`
 Testing Current App Metadata Sources...
`);const e=localStorage.getItem("marketplaceCache"),n=localStorage.getItem("dashboardCache");if(console.log(" Checking localStorage caches..."),e)try{const r=JSON.parse(e);console.log(" Marketplace cache found:",Object.keys(r).length,"entries");const s=Object.values(r).slice(0,3).map(i=>i.metadataURI).filter(Boolean);for(const i of s)await this.testSingleURI("Marketplace Cache",i)}catch(r){console.warn(" Error parsing marketplace cache:",r)}if(n)try{const r=JSON.parse(n);console.log(" Dashboard cache found:",Object.keys(r).length,"entries");const s=Object.values(r).slice(0,3).map(i=>i.metadataURI).filter(Boolean);for(const i of s)await this.testSingleURI("Dashboard Cache",i)}catch(r){console.warn(" Error parsing dashboard cache:",r)}await this.testSimulatedContractData(),this.printResults("Current App Metadata Tests")}async testSimulatedContractData(){console.log(`
 Testing Simulated Contract Metadata...`);const e=["ipfs://TestHash_Asset_1","ipfs://TestHash_Asset_2","https://gateway.pinata.cloud/ipfs/TestHash_Asset_3","https://gateway.pinata.cloud/ipfs/https://gateway.pinata.cloud/ipfs/TestHash_Doubled","","ipfs://QmRealHashButMightNotExist123456789012345678901234567890123"];for(const n of e)await this.testSingleURI("Simulated Contract",n)}async testSingleURI(e,n){const r=Date.now();try{console.log(`
 Testing [${e}]: ${n||"(empty)"}`);const s=await N1.fetchMetadataFromIPFS(n),i=Date.now()-r;s?(console.log(`   Success (${i}ms)`),console.log(`   Name: ${s.name||"N/A"}`),console.log(`   Image: ${s.image?"Present":"Missing"}`),console.log(`   Asset Type: ${this.extractAssetType(s)}`),this.results.push({source:e,uri:n,success:!0,metadata:s,timeTaken:i})):(console.log(`   Failed (${i}ms) - Returned null`),this.results.push({source:e,uri:n,success:!1,metadata:null,error:"Returned null",timeTaken:i}))}catch(s){const i=Date.now()-r;console.log(`   Error (${i}ms):`,s.message),this.results.push({source:e,uri:n,success:!1,metadata:null,error:s.message,timeTaken:i})}}async testGatewayDirect(e,n){const r=Date.now();try{console.log(`
 Testing Gateway [${e}]: ${n}`);const s=await Promise.race([fetch(n,{method:"GET",headers:{Accept:"application/json"}}),new Promise((a,o)=>setTimeout(()=>o(new Error("Timeout after 10s")),1e4))]),i=Date.now()-r;if(s.ok)try{const a=await s.json();console.log(`   Gateway Success (${i}ms)`),console.log(`   Content: ${a.name||"No name"}`),this.results.push({source:`Gateway: ${e}`,uri:n,success:!0,metadata:a,timeTaken:i})}catch{console.log(`   Gateway responded but invalid JSON (${i}ms)`),this.results.push({source:`Gateway: ${e}`,uri:n,success:!1,metadata:null,error:"Invalid JSON response",timeTaken:i})}else console.log(`   Gateway HTTP ${s.status} (${i}ms)`),this.results.push({source:`Gateway: ${e}`,uri:n,success:!1,metadata:null,error:`HTTP ${s.status}`,timeTaken:i})}catch(s){const i=Date.now()-r;console.log(`   Gateway Error (${i}ms):`,s.message),this.results.push({source:`Gateway: ${e}`,uri:n,success:!1,metadata:null,error:s.message,timeTaken:i})}}extractAssetType(e){var n;if(e!=null&&e.attributes){const r=e.attributes.find(s=>s.trait_type==="Asset Type");if(r)return r.value}return(n=e==null?void 0:e.assetDetails)!=null&&n.assetType?e.assetDetails.assetType:"Unknown"}printResults(e){console.log(`
 === ${e} Results ===`);const n=this.results.filter(a=>a.success).length,r=this.results.length,s=r>0?(n/r*100).toFixed(1):"0";if(console.log(`Success Rate: ${n}/${r} (${s}%)`),n>0){const a=this.results.filter(o=>o.success).reduce((o,l)=>o+l.timeTaken,0)/n;console.log(`Average Success Time: ${a.toFixed(0)}ms`)}const i=this.results.filter(a=>!a.success).reduce((a,o)=>{const l=o.error||"Unknown error";return a[l]=(a[l]||0)+1,a},{});Object.keys(i).length>0&&(console.log(`
 Error Breakdown:`),Object.entries(i).forEach(([a,o])=>{console.log(`  ${a}: ${o} times`)})),this.results=[]}async runCompleteTest(){console.log(` Starting Complete IPFS Metadata Test Suite...
`),N1.clearCache();try{await this.testCommonIPFSFormats(),await this.testGatewayPerformance(),await this.testCurrentAppMetadata(),console.log(`
 Complete test suite finished!`),console.log(`
 Debugging Tips:`),console.log("1. Check browser console for detailed gateway logs"),console.log("2. Use window.metadataService.cache to inspect cached results"),console.log("3. Use window.MetadataDebugUtils.inspectCache() for cache analysis"),console.log("4. Look for patterns in failed URIs vs successful ones")}catch(e){console.error(" Test suite error:",e)}}async quickTest(e){console.log(` Quick test for IPFS hash: ${e}`);const n=[`ipfs://${e}`,`https://gateway.pinata.cloud/ipfs/${e}`,e];for(const r of n)await this.testSingleURI("Quick Test",r)}}const r8e=new n8e;window.IPFSTestScript=r8e;class s8e{static async runFullCleanup(){console.log(` Starting comprehensive cache cleanup...
`),console.log(" Initial Cache Analysis:");const e=Yw();console.log(`  Total cache entries: ${e.totalCacheEntries}`),console.log(`  Dummy data entries: ${e.dummyDataEntries}`),console.log(`  Failed fetch markers: ${e.failedFetchMarkers}`),console.log(`  Expired failed fetches: ${e.expiredFailedFetches}
`),console.log(" Clearing metadata service cache..."),window.metadataService&&window.metadataService.clearCache(),console.log(" Clearing marketplace dummy data...");const n=ni.clearDummyDataFromCache();console.log(" Clearing dashboard dummy data...");const r=Qs.clearDummyDataFromCache();console.log(" Clearing general dummy data...");const s=pN();console.log(" Clearing expired cache entries..."),ni.clearExpiredCache(),console.log(`
 Final Cache Analysis:`);const i=Yw();console.log(`  Total cache entries: ${i.totalCacheEntries}`),console.log(`  Dummy data entries: ${i.dummyDataEntries}`),console.log(`  Failed fetch markers: ${i.failedFetchMarkers}`),console.log(`  Expired failed fetches: ${i.expiredFailedFetches}`);const a=n+r+s;console.log(`
 Cleanup completed! Removed ${a} dummy data entries.`),a>0&&(console.log(`
 Recommendations:`),console.log("1. Refresh the page to see clean data"),console.log("2. Check marketplace, dashboard, and orderbook for proper metadata"),console.log("3. Monitor console for IPFS gateway performance"),console.log("4. Use window.IPFSTestScript.runCompleteTest() to test IPFS connectivity"))}static async quickCleanup(){console.log(" Running quick cache cleanup..."),ni.clearCache(),Qs.clearCache(),window.metadataService&&window.metadataService.clearCache();const e=pN()+ni.clearDummyDataFromCache()+Qs.clearDummyDataFromCache();console.log(` Quick cleanup done! Cleared ${e} dummy entries.`),console.log(" Refresh the page to see fresh data.")}static analyzeCacheState(){console.log(` Analyzing current cache state...
`);const e=Yw();console.log(" Dummy Data Analysis:"),console.log(`  Total cache entries: ${e.totalCacheEntries}`),console.log(`  Dummy data entries: ${e.dummyDataEntries}`),console.log(`  Failed fetch markers: ${e.failedFetchMarkers}`),console.log(`  Expired failed fetches: ${e.expiredFailedFetches}`),console.log(`
 Marketplace Cache Analysis:`);const n=ni.getCacheStats();if(Object.entries(n).forEach(([r,s])=>{console.log(`  ${r}: ${s.count} entries (${Math.round(s.totalSize/1024)}KB)`)}),console.log(`
 Metadata Service Cache:`),window.metadataService&&window.metadataService.cache){const r=window.metadataService.cache;console.log(`  Size: ${r.size} entries`);let s=0,i=0;for(const[a,o]of r.entries())o&&o.error?i++:o&&s++;console.log(`  Successful: ${s}`),console.log(`  Failed: ${i}`)}else console.log("  Metadata service cache not available");e.dummyDataEntries>0?(console.log(`
 Issues Found:`),console.log(`  ${e.dummyDataEntries} dummy data entries detected`),console.log("  Run window.CacheCleanupScript.runFullCleanup() to fix")):console.log(`
 Cache appears clean!`)}static async testAfterCleanup(){console.log(` Testing metadata fetching after cleanup...
`);const e=[{name:"Empty URI",uri:""},{name:"Test Hash",uri:"ipfs://TestHash123"},{name:"Valid IPFS Format",uri:"ipfs://QmYwAPJzv5CZsnA625s3Xf2nemtYgPpHdWEz79ojWnPbdG"}];for(const n of e){console.log(`Testing: ${n.name}`);try{const r=await window.metadataService.fetchMetadataFromIPFS(n.uri);console.log(r?`   Success: ${r.name||"No name"}`:"   Failed: null result")}catch(r){console.log(`   Error: ${r.message}`)}}console.log(`
 Use window.IPFSTestScript.runCompleteTest() for comprehensive testing`)}static startCacheMonitoring(){console.log(" Starting cache monitoring..."),console.log("Monitor will log cache operations as they happen."),console.log(`Use window.CacheCleanupScript.stopCacheMonitoring() to stop.
`);const e=localStorage.setItem;localStorage.setItem=function(n,r){try{const s=JSON.parse(r);(n.includes("marketplace")||n.includes("asset_metadata"))&&console.log(` CACHE SET: ${n}`,{dataType:Array.isArray(s.data)?"array":typeof s.data,itemCount:Array.isArray(s.data)?s.data.length:1,timestamp:new Date().toLocaleTimeString()})}catch{}return e.call(this,n,r)},window._originalSetItem=e}static stopCacheMonitoring(){window._originalSetItem&&(localStorage.setItem=window._originalSetItem,delete window._originalSetItem,console.log(" Cache monitoring stopped."))}}window.CacheCleanupScript=s8e;const B1=["https://gateway.pinata.cloud/ipfs/","https://olive-left-snake-740.mypinata.cloud/ipfs/","https://ipfs.io/ipfs/","https://cloudflare-ipfs.com/ipfs/","https://dweb.link/ipfs/","https://gateway.ipfs.io/ipfs/"],fF={"Real Estate":["https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=800&h=600&fit=crop"],"Precious Metals":["https://images.unsplash.com/photo-1610375461246-83df859d849d?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1518546305927-5a555bb7020d?w=800&h=600&fit=crop"],Collectibles:["https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1513475382585-d06e58bcb0e0?w=800&h=600&fit=crop"],Art:["https://images.unsplash.com/photo-1541961017774-22349e4a1262?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1578321272176-b7bbc0679853?w=800&h=600&fit=crop"],"Carbon Credits":["https://images.unsplash.com/photo-1569163139342-de0874c4e2c5?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1587614295999-6c1c13675117?w=800&h=600&fit=crop"],Invoice:["https://images.unsplash.com/photo-1554224155-6726b3ff858f?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=800&h=600&fit=crop"],Stocks:["https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1590736969955-71cc94901144?w=800&h=600&fit=crop"],Unknown:["https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?w=800&h=600&fit=crop"]},KP=t=>{if(!t)return null;if(t.startsWith("ipfs://"))return t.replace("ipfs://","");if(t.includes("/ipfs/")){const e=t.split("/ipfs/");return e.length>1?e[1]:null}return t.match(/^(Qm[a-zA-Z0-9]{44}|baf[a-zA-Z0-9]{56})$/)?t:null},uee=(t,e=0)=>{const n=KP(t);return n?`${B1[e]||B1[0]}${n}`:t},hF=(t,e)=>{const r=fF[t||"Unknown"]||fF.Unknown,s=parseInt(e.slice(-1))%r.length;return r[s]},dee=(t,e,n)=>!t||t.includes("placeholder")?hF(e,n):KP(t)?uee(t):t.startsWith("http")?t:hF(e,n);class zN{constructor(e,n){Ke(this,"provider");Ke(this,"signer");Ke(this,"marketplaceAddress");Ke(this,"tokenAddress");this.provider=e,this.signer=n,this.marketplaceAddress=Or,this.tokenAddress=ji}async fetchEnhancedMarketplaceListings(e){try{console.log(" ENHANCED: Fetching detailed marketplace listings for OrderBook...");const n=this.signer||this.provider,r=new at(this.marketplaceAddress,Zl,n),s=["function balanceOf(address account, uint256 id) view returns (uint256)","function uri(uint256 id) view returns (string)","function getTokenLifecycleStatus(uint256 tokenId) external view returns (uint8)"],i=new at(this.tokenAddress,s,this.provider);console.log(" Getting all marketplace listings...");const a=await r.getAllListings(),[o,l,u,d]=a;console.log(`Found ${o.length} marketplace listings`);const p=[];for(let f=0;f<o.length;f++){const h=o[f].toString(),y=u[f].toString(),m=d[f];try{try{if(await i.getTokenLifecycleStatus(h)===2){console.log(` Skipping burned token ${h} in orderbook`);continue}}catch{console.warn(` Could not check lifecycle for token ${h}, including in orderbook`)}let g=0;if(e)try{const w=await i.balanceOf(e,h);g=parseInt(w.toString())}catch{console.warn(`Could not fetch wallet balance for token ${h}`),g=0}const v=await this.fetchEnhancedMetadata(i,h),b={id:h,name:v.name,symbol:v.symbol,description:v.description,image:v.image,totalSupply:parseInt(y),userBalance:g,isListed:!0,marketplacePrice:m?parseFloat(Ye(m)):0,exists:!0,metadata:v.metadata,assetType:v.assetType,location:v.location,valuation:v.valuation,area:v.area,bedrooms:v.bedrooms,bathrooms:v.bathrooms,attributes:v.attributes,lastPrice:m?parseFloat(Ye(m)):0,priceChange24h:this.generateMockPriceChange(),volume24h:this.generateMockVolume()};p.push(b),console.log(` ENHANCED: Added token ${h}:`,{name:b.name,assetType:b.assetType,location:b.location,userBalance:b.userBalance})}catch(g){console.error(`Error processing enhanced token ${h}:`,g)}}return console.log(` ENHANCED LISTINGS: Found ${p.length} detailed tokens for OrderBook`),p}catch(n){return console.error(" Error fetching enhanced marketplace listings:",n),[]}}async fetchEnhancedMetadata(e,n){var r,s,i,a,o,l,u,d,p;try{console.log(` Fetching enhanced metadata for token ${n}...`);let f="";try{f=await e.uri(n),console.log(`Got metadata URI for token ${n}:`,f)}catch{console.log(`Could not fetch URI for token ${n}, using fallbacks`)}let h;if(f&&f!==""&&!f.includes("TestHash")){const y=await N1.fetchMetadataFromIPFS(f);y&&(h={name:y.name||"",description:y.description||"",image:y.image||"",external_url:y.external_url,attributes:y.attributes||[],asset_type:((r=y.assetDetails)==null?void 0:r.assetType)||((i=(s=y.attributes)==null?void 0:s.find(m=>m.trait_type==="Asset Type"))==null?void 0:i.value),location:((o=(a=y.attributes)==null?void 0:a.find(m=>m.trait_type==="Location"))==null?void 0:o.value)||"",valuation:((u=(l=y.attributes)==null?void 0:l.find(m=>m.trait_type==="Valuation"))==null?void 0:u.value)||"",certification:((p=(d=y.attributes)==null?void 0:d.find(m=>m.trait_type==="Certification"))==null?void 0:p.value)||""})}return this.createEnhancedTokenData(n,h)}catch(f){return console.error(`Error fetching enhanced metadata for token ${n}:`,f),this.createEnhancedTokenData(n,void 0)}}async parseMetadataFromUri(e){try{let n=e;e.startsWith("ipfs://")?n=e.replace("ipfs://","https://gateway.pinata.cloud/ipfs/"):e.startsWith("http")||(n=`https://gateway.pinata.cloud/ipfs/${e}`),console.log(`Fetching metadata from: ${n}`);const r=await fetch(n,{method:"GET",headers:{Accept:"application/json"},signal:AbortSignal.timeout(1e4)});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const s=await r.json();if(console.log(" Successfully fetched metadata:",s),s.image)if(s.image.startsWith("ipfs://")){const i=s.image.replace("ipfs://","https://gateway.pinata.cloud/ipfs/");try{(await fetch(i,{method:"HEAD",signal:AbortSignal.timeout(5e3)})).ok?(s.image=i,console.log(` IPFS image validated: ${i}`)):(console.warn(` IPFS image not accessible: ${i}`),s.image="")}catch(a){console.warn(` IPFS image validation failed: ${i}`,a),s.image=""}}else s.image.startsWith("http")||(console.warn(` Invalid image URL format: ${s.image}`),s.image="");return s}catch(n){console.log("Could not fetch metadata from URI:",n);return}}createEnhancedTokenData(e,n){const r=(n==null?void 0:n.attributes)||[],s=this.determineAssetType(n,r),i=this.extractLocation(n,r),a=this.extractValuation(n,r),o=this.extractAttribute(r,["Area","Size","Square Feet","Sq Ft"]),l=this.extractAttribute(r,["Bedrooms","Beds","Bedroom"]),u=this.extractAttribute(r,["Bathrooms","Baths","Bathroom"]);return{name:(n==null?void 0:n.name)||this.generateFallbackName(e,s),symbol:this.generateSymbol(e,s),description:(n==null?void 0:n.description)||this.generateFallbackDescription(e,s),image:dee((n==null?void 0:n.image)||"",s,e),metadata:n,assetType:s,location:i,valuation:a,area:o,bedrooms:l,bathrooms:u,attributes:r}}determineAssetType(e,n=[]){if(e!=null&&e.asset_type)return e.asset_type;const r=this.extractAttribute(n,["Type","Asset Type","Category"]);if(r)return r;const s=`${(e==null?void 0:e.name)||""} ${(e==null?void 0:e.description)||""}`.toLowerCase();return s.includes("real estate")||s.includes("property")||s.includes("villa")||s.includes("house")?"Real Estate":s.includes("gold")||s.includes("silver")||s.includes("metal")||s.includes("bullion")?"Precious Metals":s.includes("wine")||s.includes("vintage")||s.includes("bottle")?"Collectibles":s.includes("art")||s.includes("painting")||s.includes("sculpture")?"Art":s.includes("carbon")||s.includes("credit")||s.includes("offset")?"Carbon Credits":"Real World Asset"}extractLocation(e,n=[]){const r=this.extractAttribute(n,["Location","Address","City","Region","Country"]);if(r)return r;if(e!=null&&e.description){const s=/(in|at|located in)\s+([A-Z][a-zA-Z\s,]+)/i,i=e.description.match(s);if(i)return i[2].trim()}return"Location TBD"}extractValuation(e,n=[]){return this.extractAttribute(n,["Valuation","Value","Worth","Appraisal"])||"Valuation Pending"}extractAttribute(e,n){var r;for(const s of e)for(const i of n)if(((r=s.trait_type)==null?void 0:r.toLowerCase())===i.toLowerCase())return s.value;return""}generateFallbackName(e,n){return{"Real Estate":`Property #${e}`,"Precious Metals":`Gold Asset #${e}`,Collectibles:`Collectible #${e}`,Art:`Artwork #${e}`,"Carbon Credits":`Carbon Credit #${e}`}[n]||`Asset #${e}`}generateSymbol(e,n){return{"Real Estate":`PROP${e}`,"Precious Metals":`GOLD${e}`,Collectibles:`COLL${e}`,Art:`ART${e}`,"Carbon Credits":`CARB${e}`}[n]||`RWA${e}`}generateFallbackDescription(e,n){return{"Real Estate":`Tokenized real estate property with fractional ownership rights. Property ID: ${e}`,"Precious Metals":`Physical precious metal asset backed by certified bullion. Asset ID: ${e}`,Collectibles:`Authenticated collectible item with provenance tracking. Item ID: ${e}`,Art:`Tokenized artwork with verified authenticity and ownership history. Piece ID: ${e}`,"Carbon Credits":`Verified carbon offset credit representing environmental impact reduction. Credit ID: ${e}`}[n]||`Real-world asset token with verifiable ownership rights. Asset ID: ${e}`}generateFallbackImage(e,n){return u1(e,n||"1")}generateMockPriceChange(){const e=["+2.4%","-1.8%","+0.7%","-0.3%","+4.1%","-2.9%","+1.2%"];return e[Math.floor(Math.random()*e.length)]}generateMockVolume(){return Math.floor(Math.random()*1e3)+100}async getDetailedTokenInfo(e,n){try{return(await this.fetchEnhancedMarketplaceListings(n)).find(s=>s.id===e)||null}catch(r){return console.error(`Error fetching detailed info for token ${e}:`,r),null}}async getU2UBalance(e){try{const n=await this.provider.getBalance(e);return Ye(n)}catch(n){return console.error("Error fetching U2U balance:",n),"0"}}}const i8e=(t,e)=>(t*e).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),a8e=({token:t,isSelected:e=!1,onSelect:n,showTradeButton:r=!1,onTrade:s,compact:i=!1})=>{var v;const[a,o]=T.useState(!1),[l,u]=T.useState(!1),[d,p]=T.useState(""),[f,h]=T.useState(0),y=()=>{console.log(` Image failed to load: ${d}`);const b=KP(d);if(b&&f<B1.length-1){const A=f+1,I=uee(`ipfs://${b}`,A);console.log(` Trying IPFS gateway ${A+1}/${B1.length}: ${I}`),h(A),p(I),u(!1),o(!1);return}const w=HK(t.assetType);console.log(` Using fixed fallback image for ${t.assetType}: ${w}`),p(w),u(!0)};T.useEffect(()=>{const b=dee(t.image,t.assetType,t.id);console.log(` Processed image URL for token ${t.id}: ${t.image}  ${b}`),p(b),o(!1),u(!1),h(0)},[t.image,t.assetType,t.id]);const m=b=>b.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:4}),g=(v=t.priceChange24h)==null?void 0:v.startsWith("+");return i?c.jsx(_e,{className:`bg-white border-gray-200 shadow-sm hover:shadow-md transition-all duration-200 cursor-pointer ${e?"ring-2 ring-blue-500 border-blue-200":""}`,onClick:n,children:c.jsx(Le,{className:"p-4",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"relative w-16 h-16 rounded-lg overflow-hidden bg-gray-100",children:c.jsx(em,{src:d,alt:t.name,className:"w-full h-full object-cover",assetType:t.assetType||"Real Estate",tokenId:t.id,onLoad:()=>{o(!0),console.log(` Image loaded successfully: ${d}`)},onError:y})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h3",{className:"font-semibold text-gray-900 text-sm truncate",children:t.name}),c.jsxs("p",{className:"text-xs text-gray-500 flex items-center mt-1",children:[c.jsx(FC,{className:"w-3 h-3 mr-1"}),t.location]}),c.jsxs("div",{className:"flex items-center justify-between mt-2",children:[c.jsx("div",{children:c.jsxs("p",{className:"text-sm font-bold text-gray-900",children:[t.marketplacePrice?m(t.marketplacePrice):"N/A"," Flow"]})}),t.userBalance>0&&c.jsxs(st,{className:"bg-green-50 text-green-700 border-green-200 text-xs",children:[c.jsx(tc,{className:"w-3 h-3 mr-1"}),t.userBalance]})]})]})]})})}):c.jsxs(Qt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},whileHover:{scale:1.02},onClick:n,className:`group bg-white/90 backdrop-blur-sm rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 cursor-pointer border border-gray-200/50 hover:border-gray-300/50 overflow-hidden ${e?"ring-2 ring-blue-500 border-blue-200 shadow-2xl scale-[1.02]":""}`,children:[c.jsxs("div",{className:"relative overflow-hidden",children:[!a&&!l&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100 z-10",children:c.jsx(Y5,{className:"w-8 h-8 animate-spin text-gray-400"})}),l&&!a&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100 z-10",children:c.jsx(pse,{className:"w-8 h-8 text-gray-400"})}),c.jsx(em,{src:d,alt:t.name,className:"w-full h-48 object-cover group-hover:scale-110 transition-transform duration-700",assetType:t.assetType||"Real Estate",tokenId:t.id,onLoad:()=>{o(!0),console.log(` Image loaded successfully: ${d}`)},onError:y}),c.jsx("div",{className:"absolute top-4 left-4",children:c.jsx("span",{className:"px-3 py-1 bg-white/90 backdrop-blur-sm rounded-full text-xs font-medium text-gray-700 border border-gray-200/50",children:t.assetType})}),c.jsx("div",{className:"absolute top-4 right-4",children:c.jsxs("span",{className:"px-2 py-1 bg-blue-500/90 backdrop-blur-sm rounded-full text-xs font-medium text-white border border-blue-400/50",children:["#",t.id]})}),t.userBalance>0&&c.jsx("div",{className:"absolute top-4 right-20",children:c.jsxs("span",{className:"px-2 py-1 bg-green-500/90 backdrop-blur-sm rounded-full text-xs font-medium text-white border border-green-400/50",children:[c.jsx(tc,{className:"w-3 h-3 inline mr-1"}),t.userBalance]})})]}),c.jsxs("div",{className:"p-6",children:[c.jsx("h3",{className:"font-bold text-gray-900 mb-2 group-hover:text-gray-700 transition-colors line-clamp-1",children:t.name}),c.jsxs("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2 leading-relaxed flex items-center",children:[c.jsx(FC,{className:"w-3 h-3 mr-1 text-gray-400"}),t.location]}),c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{children:[c.jsxs("p",{className:"text-xs text-gray-500",children:["Price per token (",t.marketplacePrice?m(t.marketplacePrice):"N/A"," Flow)"]}),c.jsxs("p",{className:"text-sm font-semibold text-blue-600 mt-1",children:["Total Valuation: ",t.marketplacePrice?i8e(t.marketplacePrice,t.totalSupply):"N/A"," Flow"]}),t.priceChange24h&&c.jsxs("p",{className:`text-xs flex items-center mt-1 ${g?"text-green-600":"text-red-600"}`,children:[g?c.jsx(gs,{className:"w-3 h-3 mr-1"}):c.jsx(Z5,{className:"w-3 h-3 mr-1"}),t.priceChange24h," (24h)"]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:"text-sm font-medium text-green-600",children:[t.totalSupply," Total"]}),c.jsx("p",{className:"text-xs text-gray-500",children:"Supply"})]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),c.jsx("span",{className:"text-xs text-gray-600",children:"Available Now"})]}),r?c.jsx("button",{className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-xl hover:from-blue-700 hover:to-blue-800 transition-all duration-300 shadow-md hover:shadow-lg text-sm font-medium",onClick:b=>{b.stopPropagation(),s==null||s()},children:"Trade Now"}):c.jsx("button",{className:"px-4 py-2 bg-gradient-to-r from-gray-800 to-black text-white rounded-xl hover:from-gray-900 hover:to-gray-800 transition-all duration-300 shadow-md hover:shadow-lg text-sm font-medium",onClick:b=>{b.stopPropagation(),n==null||n()},children:"Select Asset"})]})]})]})},o8e=({selectedTokenId:t,onTokenSelect:e,showOwnedOnly:n=!1})=>{const{provider:r,signer:s,address:i}=er();console.log(" AssetTokenSelector: Component initialized",{selectedTokenId:t,showOwnedOnly:n,hasProvider:!!r,hasAddress:!!i});const[a,o]=T.useState([]),[l,u]=T.useState([]),[d,p]=T.useState(!0),[f,h]=T.useState(""),[y,m]=T.useState("all"),[g,v]=T.useState("grid"),[b,w]=T.useState(!1),[A,I]=T.useState(!1),[C,E]=T.useState(null),N=async(x,k=0)=>{var L,V,F,R,z,Q,O,H,Y,G,Z,te,q,ne,Re;const M=parseFloat(Ye(x.price||"0"));let P=x.name,S=x.type||x.category||"Real World Asset";if(x.metadata){const se=x.metadata.name||x.metadata.title||x.metadata.assetName||((L=x.metadata.assetDetails)==null?void 0:L.name)||((V=x.metadata.assetDetails)==null?void 0:V.title);se&&se!==`Asset Token #${x.tokenId}`&&(P=se);const ve=x.metadata.assetType||((F=x.metadata.assetDetails)==null?void 0:F.assetType)||((R=x.metadata.assetDetails)==null?void 0:R.category);if(ve&&(S=ve),x.metadata.attributes){const We=x.metadata.attributes.find(fe=>fe.trait_type==="Asset Type"||fe.trait_type==="Category"||fe.trait_type==="Type");We!=null&&We.value&&(S=We.value)}}if(P===x.name&&(P!=null&&P.startsWith("Asset Token #"))){const se=ni.getCachedAssetMetadata(x.tokenId);if(se!=null&&se.metadata){const ve=se.metadata.name||se.metadata.title||se.metadata.assetName;ve&&(P=ve);const We=se.metadata.assetType||((z=se.metadata.assetDetails)==null?void 0:z.assetType);We&&(S=We)}}return{id:x.tokenId,name:P,symbol:`TOA${x.tokenId}`,description:x.description,image:x.image,totalSupply:x.totalSupply||x.amount,userBalance:k,isListed:!0,marketplacePrice:M,exists:!0,metadata:x.metadata,assetType:S,location:((O=(Q=x.attributes)==null?void 0:Q.find(se=>{var ve;return(ve=se.trait_type)==null?void 0:ve.toLowerCase().includes("location")}))==null?void 0:O.value)||"Unknown",valuation:((Y=(H=x.attributes)==null?void 0:H.find(se=>{var ve;return(ve=se.trait_type)==null?void 0:ve.toLowerCase().includes("valuation")}))==null?void 0:Y.value)||`${M.toFixed(2)} Flow`,area:(Z=(G=x.attributes)==null?void 0:G.find(se=>{var ve;return(ve=se.trait_type)==null?void 0:ve.toLowerCase().includes("area")}))==null?void 0:Z.value,bedrooms:(q=(te=x.attributes)==null?void 0:te.find(se=>{var ve;return(ve=se.trait_type)==null?void 0:ve.toLowerCase().includes("bedroom")}))==null?void 0:q.value,bathrooms:(Re=(ne=x.attributes)==null?void 0:ne.find(se=>{var ve;return(ve=se.trait_type)==null?void 0:ve.toLowerCase().includes("bathroom")}))==null?void 0:Re.value,attributes:x.attributes||[],lastPrice:M,priceChange24h:"0.00%",volume24h:0}},_=T.useCallback(async(x=!1)=>{if(r)try{if(!x){console.log(" Checking marketplace cache for asset token data...");const S=ni.getCachedMarketplaceListings();if(S&&S.length>0){console.log(` Loaded ${S.length} assets from marketplace cache instantly!`);const{CONTRACT_ABIS:L}=await Ht(async()=>{const{CONTRACT_ABIS:Q}=await Promise.resolve().then(()=>lc);return{CONTRACT_ABIS:Q}},void 0),V=new at(ji,L.ERC1155CORE,r),F=[];for(const Q of S)try{await V.getTokenLifecycleStatus(Q.tokenId)!==2?F.push(Q):console.log(` Skipping burned token ${Q.tokenId} in AssetTokenSelector`)}catch{console.warn(` Could not check lifecycle for token ${Q.tokenId}, including in AssetTokenSelector`),F.push(Q)}console.log(` Filtered ${F.length} active tokens (excluded ${S.length-F.length} burned)`);const R=await Promise.all(F.map(async Q=>{var H,Y,G;let O=0;if(i)try{const Z=await V.balanceOf(i,Q.tokenId);O=parseInt(Z.toString())}catch{console.warn(`Could not fetch balance for token ${Q.tokenId}`)}if((H=Q.name)!=null&&H.startsWith("Asset Token #")||Q.type==="Unknown"||!((Y=Q.metadata)!=null&&Y.name)){console.log(` Refreshing metadata for token ${Q.tokenId} with incomplete data...`);try{const Z=ni.getCachedAssetMetadata(Q.tokenId);Z!=null&&Z.metadata&&(Q.metadata=Z.metadata,Q.name=Z.metadata.name||Z.metadata.title||Q.name,Q.type=Z.metadata.assetType||((G=Z.metadata.assetDetails)==null?void 0:G.assetType)||Q.type)}catch(Z){console.warn(`Could not refresh metadata for token ${Q.tokenId}:`,Z)}}return N(Q,O)}));console.log(` AssetTokenSelector: Setting ${R.length} tokens from cache`),o(R),I(!0),E(Date.now());const z=R.filter(Q=>{var O;return((O=Q.name)==null?void 0:O.startsWith("Asset Token #"))||Q.assetType==="Real World Asset"});z.length>0?(console.log(` Found ${z.length} assets with incomplete metadata, triggering background refresh...`),setTimeout(()=>{console.log(" Background refresh starting due to incomplete metadata..."),_(!0)},2e3)):setTimeout(()=>{console.log(" Background asset refresh starting..."),_(!0)},3e4);return}else console.log(" No valid marketplace cache found, fetching fresh data...")}I(!1),console.log(" Loading fresh asset data...");const M=await new zN(r,s).fetchEnhancedMarketplaceListings(i);console.log(` AssetTokenSelector: Setting ${M.length} tokens from fresh fetch`),o(M),console.log(" Enhanced tokens loaded:",M.length),console.log(" Preloading AssetTokenSelector images...");const P=M.map(S=>({url:S.image,assetType:S.assetType||"Real Estate",tokenId:S.id}));if(qT.preloadImages(P).catch(S=>{console.warn(" Image preloading failed:",S)}),M.length>0){console.log(" Caching fresh contract data from AssetTokenSelector...");const S=M.map(L=>{var V;return{tokenId:L.id,name:L.name,description:L.description,image:L.image,price:to(((V=L.marketplacePrice)==null?void 0:V.toString())||"0").toString(),amount:L.totalSupply,totalSupply:L.totalSupply,seller:"",metadataURI:"",metadata:L.metadata,attributes:L.attributes,type:L.assetType,category:L.assetType}});ni.cacheMarketplaceListings(S),console.log(` Cached ${S.length} marketplace listings from AssetTokenSelector fresh fetch`)}}catch(k){console.error("Error loading tokens with cache:",k);try{const P=await new zN(r,s).fetchEnhancedMarketplaceListings(i);if(o(P),P.length>0){console.log(" Caching fallback contract data from AssetTokenSelector...");const S=P.map(L=>{var V;return{tokenId:L.id,name:L.name,description:L.description,image:L.image,price:to(((V=L.marketplacePrice)==null?void 0:V.toString())||"0").toString(),amount:L.totalSupply,totalSupply:L.totalSupply,seller:"",metadataURI:"",metadata:L.metadata,attributes:L.attributes,type:L.assetType,category:L.assetType}});ni.cacheMarketplaceListings(S),console.log(` Cached ${S.length} marketplace listings from AssetTokenSelector fallback fetch`)}}catch(M){console.error("Fallback token loading also failed:",M)}}},[r,s,i]);T.useEffect(()=>{(async()=>{if(r)try{p(!0),console.log(" AssetTokenSelector: Starting token fetch process..."),console.log(" AssetTokenSelector: Checking marketplace cache...");const k=ni.getCachedMarketplaceListings();console.log(" AssetTokenSelector: Cache check result:",{hasCachedData:!!k,cachedCount:(k==null?void 0:k.length)||0,cacheInstance:!!ni}),!k||k.length===0?(console.log(" AssetTokenSelector: No cache found, forcing fresh fetch..."),await _(!0)):(console.log(" AssetTokenSelector: Using existing cache..."),await _(),setTimeout(async()=>{a.length===0&&!d&&(console.log(" AssetTokenSelector: No tokens loaded from cache, forcing refresh..."),await _(!0))},2e3))}catch(k){console.error(" AssetTokenSelector: Error fetching enhanced tokens:",k)}finally{p(!1)}})()},[r,s,i,_]);const U=async()=>{w(!0);try{await _(!0)}catch(x){console.error("Error refreshing tokens:",x)}finally{w(!1)}};T.useEffect(()=>{let x=a;f&&(x=x.filter(k=>k.name.toLowerCase().includes(f.toLowerCase())||k.location.toLowerCase().includes(f.toLowerCase())||k.description.toLowerCase().includes(f.toLowerCase())||k.id===f)),y!=="all"&&(x=x.filter(k=>k.assetType===y)),n&&(x=x.filter(k=>k.userBalance>0)),console.log(` AssetTokenSelector: Filtered ${x.length} tokens from ${a.length} total (search: "${f}", type: "${y}", ownedOnly: ${n})`),u(x)},[a,f,y,n]);const $=Array.from(new Set(a.map(x=>x.assetType))),B=x=>{switch(x){case"Real Estate":return c.jsx(Dp,{className:"w-4 h-4"});case"Precious Metals":return c.jsx(Zy,{className:"w-4 h-4"});case"Collectibles":return c.jsx(use,{className:"w-4 h-4"});case"Art":return c.jsx(Tse,{className:"w-4 h-4"});case"Carbon Credits":return c.jsx(hse,{className:"w-4 h-4"});default:return c.jsx(Dp,{className:"w-4 h-4"})}},j=x=>{const k=a.filter(P=>P.assetType===x),M=k.filter(P=>P.userBalance>0).length;return{total:k.length,owned:M}};return d?c.jsx(_e,{className:"bg-white border-gray-200 shadow-sm",children:c.jsx(Le,{className:"p-8",children:c.jsxs("div",{className:"flex items-center justify-center",children:[c.jsx(Y5,{className:"w-6 h-6 animate-spin mr-2 text-blue-600"}),c.jsx("span",{className:"text-gray-700",children:"Loading enhanced asset information..."})]})})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs(_e,{className:"bg-white border-gray-200 shadow-sm",children:[c.jsx(_t,{children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs(Lt,{className:"flex items-center gap-2 text-gray-900",children:[c.jsx(Mx,{className:"w-5 h-5"}),"Asset Selection & Filtering"]}),c.jsxs(re,{variant:"outline",size:"sm",onClick:U,disabled:b,className:"flex items-center gap-2 border-gray-300 text-gray-700 hover:bg-gray-50",children:[c.jsx(Fr,{className:`w-4 h-4 ${b?"animate-spin":""}`}),"Refresh"]})]})}),c.jsxs(Le,{children:[c.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[c.jsx("div",{className:"flex-1",children:c.jsxs("div",{className:"relative",children:[c.jsx(q5,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),c.jsx(rn,{placeholder:"Search by name, location, or token ID...",value:f,onChange:x=>h(x.target.value),className:"pl-10 bg-white border-gray-300 text-gray-900 placeholder-gray-500"})]})}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(re,{variant:g==="grid"?"default":"outline",size:"sm",onClick:()=>v("grid"),className:g==="grid"?"bg-blue-600 hover:bg-blue-700 text-white":"border-gray-300 text-gray-700 hover:bg-gray-50",children:c.jsx(dse,{className:"w-4 h-4"})}),c.jsx(re,{variant:g==="list"?"default":"outline",size:"sm",onClick:()=>v("list"),className:g==="list"?"bg-blue-600 hover:bg-blue-700 text-white":"border-gray-300 text-gray-700 hover:bg-gray-50",children:c.jsx(yse,{className:"w-4 h-4"})})]})]}),c.jsx(wc,{value:y,onValueChange:m,children:c.jsxs(ol,{className:"grid w-full grid-cols-6 bg-gray-100 border-gray-200",children:[c.jsxs(vn,{value:"all",className:"flex items-center gap-2 data-[state=active]:bg-blue-600 data-[state=active]:text-white text-gray-700",children:["All Assets (",a.length,")"]}),$.map(x=>{const k=j(x);return c.jsxs(vn,{value:x,className:"flex items-center gap-2 data-[state=active]:bg-blue-600 data-[state=active]:text-white text-gray-700",children:[B(x),c.jsx("span",{className:"hidden sm:inline",children:x.split(" ")[0]}),c.jsx(st,{variant:"secondary",className:"text-xs bg-gray-200 text-gray-700 border-gray-300",children:k.total})]},x)})]})})]})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("span",{className:"text-sm text-gray-600",children:["Showing ",l.length," of ",a.length," assets"]}),n&&c.jsx(st,{variant:"outline",className:"text-xs border-blue-200 text-blue-700 bg-blue-50",children:"Owned Assets Only"})]}),c.jsxs("div",{className:"text-sm text-gray-600",children:["You own ",a.filter(x=>x.userBalance>0).length," assets"]})]}),l.length===0?c.jsx(_e,{className:"bg-white border-gray-200 shadow-sm",children:c.jsx(Le,{className:"p-8 text-center",children:c.jsxs("div",{className:"text-gray-700",children:[c.jsx(Mx,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),c.jsx("h3",{className:"text-lg font-medium mb-2 text-gray-900",children:"No assets found"}),c.jsx("p",{className:"text-sm text-gray-600",children:f?`No assets match your search "${f}"`:y!=="all"?`No ${y} assets found`:"No assets available"})]})})}):c.jsx("div",{className:g==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-4",children:l.map(x=>c.jsx(a8e,{token:x,isSelected:t===x.id,onSelect:()=>e(x),compact:g==="list",showTradeButton:!1},x.id))})]})};class pee{constructor(e,n,r){Ke(this,"provider");Ke(this,"signer");Ke(this,"contractAddress");this.provider=e,this.contractAddress=n,this.signer=r}getContract(e=!1){return new at(this.contractAddress,H0,e&&this.signer?this.signer:this.provider)}async createSellOrder(e,n,r){if(!this.signer)throw new Error("Signer required");const s=this.getContract(!0),i=to(r);return await s.createSellOrder(e,n,i)}async createBuyOrder(e,n,r){if(!this.signer)throw new Error("Signer required");const s=this.getContract(!0),i=to(r),a=i.mul(n);return await s.createBuyOrder(e,n,i,{value:a})}async fillOrder(e,n,r){if(!this.signer)throw new Error("Signer required");const s=this.getContract(!0);if(r.isBuyOrder)return await s.fillOrder(e,n);{const i=to(r.pricePerTokenU2U.toString()).mul(n),a=i.div(100),o=i.add(a);return await s.fillOrder(e,n,{value:o})}}async getOrderBook(e){const n=this.getContract(),[r,s]=await n.getActiveOrders(e),i=[],a=[];for(const o of r)try{const l=await n.activeOrders(o);l.isActive&&!l.isBuyOrder&&i.push({orderId:o.toString(),maker:l.maker,tokenId:l.tokenId.toString(),amount:l.amount.toNumber(),pricePerTokenU2U:parseFloat(Ye(l.pricePerTokenU2U)),isBuyOrder:l.isBuyOrder,isActive:l.isActive,isFilled:l.isFilled,timestamp:l.timestamp.toNumber(),expiryTimestamp:l.expiryTimestamp.toNumber()})}catch(l){console.warn(`Error fetching sell order ${o}:`,l)}for(const o of s)try{const l=await n.activeOrders(o);l.isActive&&l.isBuyOrder&&a.push({orderId:o.toString(),maker:l.maker,tokenId:l.tokenId.toString(),amount:l.amount.toNumber(),pricePerTokenU2U:parseFloat(Ye(l.pricePerTokenU2U)),isBuyOrder:l.isBuyOrder,isActive:l.isActive,isFilled:l.isFilled,timestamp:l.timestamp.toNumber(),expiryTimestamp:l.expiryTimestamp.toNumber()})}catch(l){console.warn(`Error fetching buy order ${o}:`,l)}return i.sort((o,l)=>o.pricePerTokenU2U-l.pricePerTokenU2U),a.sort((o,l)=>l.pricePerTokenU2U-o.pricePerTokenU2U),{sellOrders:i,buyOrders:a}}async cancelOrder(e){if(!this.signer)throw new Error("Signer required");return await this.getContract(!0).cancelOrder(e)}async getEscrowBalances(e){const r=await this.getContract().getEscrowedU2U(e);return{u2u:parseFloat(Ye(r)),tokens:{}}}async getUserOrders(e){return(await this.getContract().getUserOrders(e)).map(s=>s.toString())}async getBestAskPrice(e){const n=this.getContract(),[r,s]=await n.getBestAskPrice(e);return{price:parseFloat(Ye(r)),amount:s.toNumber()}}async getBestBidPrice(e){const n=this.getContract(),[r,s]=await n.getBestBidPrice(e);return{price:parseFloat(Ye(r)),amount:s.toNumber()}}async getOrderDetails(e){try{const r=await this.getContract().activeOrders(e);return{orderId:e,maker:r.maker,tokenId:r.tokenId.toString(),amount:r.amount.toNumber(),pricePerTokenU2U:parseFloat(Ye(r.pricePerTokenU2U)),isBuyOrder:r.isBuyOrder,isActive:r.isActive,isFilled:r.isFilled,timestamp:r.timestamp.toNumber(),expiryTimestamp:r.expiryTimestamp.toNumber()}}catch(n){return console.error(`Error fetching order ${e}:`,n),null}}async checkApproval(e,n){return await new at(n,["function isApprovedForAll(address owner, address operator) external view returns (bool)"],this.provider).isApprovedForAll(e,this.contractAddress)}async approveContract(e){if(!this.signer)throw new Error("Signer required");return await new at(e,["function setApprovalForAll(address operator, bool approved) external"],this.signer).setApprovalForAll(this.contractAddress,!0)}}const l8e=t=>{const{provider:e,signer:n,address:r}=er(),[s,i]=T.useState(null),[a,o]=T.useState(null),[l,u]=T.useState([]),[d,p]=T.useState(!1),[f,h]=T.useState(!1),[y,m]=T.useState(null);T.useEffect(()=>{if(e&&kr){const E=new pee(e,kr,n);i(E)}},[e,n]);const g=T.useCallback(async()=>{if(!(!s||!t)){h(!0),m(null);try{const E=await s.getOrderBook(t);if(o(E),r){const _=[...E.sellOrders,...E.buyOrders].filter(U=>U.maker.toLowerCase()===r.toLowerCase());u(_)}}catch(E){console.error("Error loading order book:",E),m("Failed to load order book data")}finally{h(!1)}}},[s,t,r]),v=T.useCallback(async()=>{if(!(!s||!r))try{const E=await s.checkApproval(r,ji);p(E)}catch(E){console.error("Error checking approval:",E)}},[s,r]);T.useEffect(()=>{if(s&&t){g(),v();const E=setInterval(()=>{g()},1e4);return()=>clearInterval(E)}},[s,t,g,v]);const b=T.useCallback(async()=>{if(!s)throw new Error("Service not initialized");h(!0);try{await(await s.approveContract(ji)).wait(),p(!0),await g()}catch(E){throw console.error("Error approving contract:",E),E}finally{h(!1)}},[s,g]),w=T.useCallback(async(E,N,_)=>{if(!s)throw new Error("Service not initialized");h(!0);try{if(r){const{dashboardCache:$}=await Ht(async()=>{const{dashboardCache:S}=await Promise.resolve().then(()=>Ji);return{dashboardCache:S}},void 0),B={hash:`pending_${Date.now()}`,blockNumber:0,timestamp:Date.now(),type:"sell",tokenId:E,amount:N,price:to(_).toString(),from:r,to:kr,gasUsed:"0",gasPrice:"0",status:"pending",assetName:`Asset #${E} (Sell Order)`,platformFee:"0"},j=$.getCachedTransactionHistory(r)||[],x=[B,...j];$.cacheTransactionHistory(x,r),console.log(" Added pending sell order to transaction cache");const k={id:`sell_order_pending_${Date.now()}`,timestamp:Date.now(),type:"order_created",title:"Sell Order Creating...",message:`Creating sell order for ${N} tokens of Asset #${E} at ${_} U2U each. Waiting for blockchain confirmation...`,status:"pending",priority:"medium",read:!1,orderData:{orderId:`pending_${Date.now()}`,tokenId:E,assetName:`Asset #${E}`,amount:N,price:_,orderType:"sell"}},M=$.getCachedNotifications(r)||[],P=[k,...M];$.cacheNotifications(P,r),console.log(" Added pending sell order notification")}const U=await s.createSellOrder(E,N,_);if(r){const{dashboardCache:$}=await Ht(async()=>{const{dashboardCache:x}=await Promise.resolve().then(()=>Ji);return{dashboardCache:x}},void 0),j=($.getCachedTransactionHistory(r)||[]).map(x=>x.hash.startsWith("pending_")&&x.tokenId===E&&x.type==="sell"?{...x,hash:U.hash,status:"pending"}:x);$.cacheTransactionHistory(j,r),console.log(" Updated pending sell order with real tx hash:",U.hash)}if(await U.wait(),r){const{dashboardCache:$}=await Ht(async()=>{const{dashboardCache:x}=await Promise.resolve().then(()=>Ji);return{dashboardCache:x}},void 0),j=($.getCachedNotifications(r)||[]).map(x=>{var k;return x.id.includes("sell_order_pending_")&&((k=x.orderData)==null?void 0:k.tokenId)===E?{...x,id:`sell_order_confirmed_${U.hash}`,title:"Sell Order Created Successfully",message:`Your sell order for ${N} tokens of Asset #${E} at ${_} U2U each is now active in the OrderBook.`,status:"completed",priority:"high",transactionHash:U.hash,orderData:{...x.orderData,orderId:U.hash}}:x});$.cacheNotifications(j,r),console.log(" Updated sell order notification with success status")}await g()}catch(U){if(console.error("Error creating sell order:",U),r){const{dashboardCache:$}=await Ht(async()=>{const{dashboardCache:M}=await Promise.resolve().then(()=>Ji);return{dashboardCache:M}},void 0),j=($.getCachedTransactionHistory(r)||[]).filter(M=>!(M.hash.startsWith("pending_")&&M.tokenId===E&&M.type==="sell"));$.cacheTransactionHistory(j,r);const k=($.getCachedNotifications(r)||[]).map(M=>{var P;return M.id.includes("sell_order_pending_")&&((P=M.orderData)==null?void 0:P.tokenId)===E?{...M,title:"Sell Order Failed",message:`Failed to create sell order for Asset #${E}. Please try again.`,status:"failed",priority:"high"}:M});$.cacheNotifications(k,r),console.log(" Removed failed pending sell order from cache and updated notification")}throw U}finally{h(!1)}},[s,g,r]),A=T.useCallback(async(E,N,_)=>{if(!s)throw new Error("Service not initialized");h(!0);try{if(r){const{dashboardCache:$}=await Ht(async()=>{const{dashboardCache:S}=await Promise.resolve().then(()=>Ji);return{dashboardCache:S}},void 0),B={hash:`pending_${Date.now()}`,blockNumber:0,timestamp:Date.now(),type:"buy",tokenId:E,amount:N,price:to(_).toString(),from:r,to:kr,gasUsed:"0",gasPrice:"0",status:"pending",assetName:`Asset #${E} (Buy Order)`,platformFee:"0"},j=$.getCachedTransactionHistory(r)||[],x=[B,...j];$.cacheTransactionHistory(x,r),console.log(" Added pending buy order to transaction cache");const k={id:`buy_order_pending_${Date.now()}`,timestamp:Date.now(),type:"order_created",title:"Buy Order Creating...",message:`Creating buy order for ${N} tokens of Asset #${E} at ${_} U2U each. Funds will be escrowed upon confirmation...`,status:"pending",priority:"medium",read:!1,orderData:{orderId:`pending_${Date.now()}`,tokenId:E,assetName:`Asset #${E}`,amount:N,price:_,orderType:"buy"}},M=$.getCachedNotifications(r)||[],P=[k,...M];$.cacheNotifications(P,r),console.log(" Added pending buy order notification")}const U=await s.createBuyOrder(E,N,_);if(r){const{dashboardCache:$}=await Ht(async()=>{const{dashboardCache:x}=await Promise.resolve().then(()=>Ji);return{dashboardCache:x}},void 0),j=($.getCachedTransactionHistory(r)||[]).map(x=>x.hash.startsWith("pending_")&&x.tokenId===E&&x.type==="buy"?{...x,hash:U.hash,status:"pending"}:x);$.cacheTransactionHistory(j,r),console.log(" Updated pending buy order with real tx hash:",U.hash)}if(await U.wait(),r){const{dashboardCache:$}=await Ht(async()=>{const{dashboardCache:x}=await Promise.resolve().then(()=>Ji);return{dashboardCache:x}},void 0),j=($.getCachedNotifications(r)||[]).map(x=>{var k;return x.id.includes("buy_order_pending_")&&((k=x.orderData)==null?void 0:k.tokenId)===E?{...x,id:`buy_order_confirmed_${U.hash}`,title:"Buy Order Created & Funds Escrowed",message:`Your buy order for ${N} tokens of Asset #${E} at ${_} U2U each is now active. ${(N*parseFloat(_)).toFixed(2)} U2U has been escrowed.`,status:"completed",priority:"high",transactionHash:U.hash,orderData:{...x.orderData,orderId:U.hash,escrowAmount:(N*parseFloat(_)).toFixed(2)}}:x});$.cacheNotifications(j,r),console.log(" Updated buy order notification with success status")}await g()}catch(U){if(console.error("Error creating buy order:",U),r){const{dashboardCache:$}=await Ht(async()=>{const{dashboardCache:M}=await Promise.resolve().then(()=>Ji);return{dashboardCache:M}},void 0),j=($.getCachedTransactionHistory(r)||[]).filter(M=>!(M.hash.startsWith("pending_")&&M.tokenId===E&&M.type==="buy"));$.cacheTransactionHistory(j,r);const k=($.getCachedNotifications(r)||[]).map(M=>{var P;return M.id.includes("buy_order_pending_")&&((P=M.orderData)==null?void 0:P.tokenId)===E?{...M,title:"Buy Order Failed",message:`Failed to create sell order for Asset #${E}. Please try again.`,status:"failed",priority:"high"}:M});$.cacheNotifications(k,r),console.log(" Removed failed pending buy order from cache and updated notification")}throw U}finally{h(!1)}},[s,g,r]),I=T.useCallback(async(E,N,_)=>{if(!s)throw new Error("Service not initialized");h(!0);try{if(r){const{dashboardCache:$}=await Ht(async()=>{const{dashboardCache:S}=await Promise.resolve().then(()=>Ji);return{dashboardCache:S}},void 0),B={hash:`pending_fill_${Date.now()}`,blockNumber:0,timestamp:Date.now(),type:_.isBuyOrder?"sell":"buy",tokenId:_.tokenId,amount:N,price:to(_.pricePerTokenU2U.toString()).toString(),from:r,to:_.maker,gasUsed:"0",gasPrice:"0",status:"pending",assetName:`Asset #${_.tokenId} (P2P Trade)`,platformFee:"0"},j=$.getCachedTransactionHistory(r)||[],x=[B,...j];$.cacheTransactionHistory(x,r);const k={id:`order_fill_pending_${Date.now()}`,timestamp:Date.now(),type:"order_filled",title:"Executing Trade...",message:`Executing ${_.isBuyOrder?"sell":"buy"} trade for ${N} tokens of Asset #${_.tokenId}. Waiting for confirmation...`,status:"pending",priority:"high",read:!1,orderData:{orderId:E,tokenId:_.tokenId,assetName:`Asset #${_.tokenId}`,amount:N,price:_.pricePerTokenU2U.toString(),orderType:_.isBuyOrder?"sell":"buy"}},M=$.getCachedNotifications(r)||[],P=[k,...M];$.cacheNotifications(P,r),console.log(" Added pending order fill transaction and notification")}const U=await s.fillOrder(E,N,_);if(r){const{dashboardCache:$}=await Ht(async()=>{const{dashboardCache:x}=await Promise.resolve().then(()=>Ji);return{dashboardCache:x}},void 0),j=($.getCachedTransactionHistory(r)||[]).map(x=>x.hash.startsWith("pending_fill_")&&x.tokenId===_.tokenId?{...x,hash:U.hash,status:"pending"}:x);$.cacheTransactionHistory(j,r)}if(await U.wait(),r){const{dashboardCache:$}=await Ht(async()=>{const{dashboardCache:x}=await Promise.resolve().then(()=>Ji);return{dashboardCache:x}},void 0),j=($.getCachedNotifications(r)||[]).map(x=>{var k;return x.id.includes("order_fill_pending_")&&((k=x.orderData)==null?void 0:k.tokenId)===_.tokenId?{...x,id:`order_filled_success_${U.hash}`,title:"Trade Executed Successfully",message:`Successfully ${_.isBuyOrder?"sold":"bought"} ${N} tokens of Asset #${_.tokenId} for ${(N*_.pricePerTokenU2U).toFixed(2)} U2U. Trade completed!`,status:"completed",transactionHash:U.hash}:x});$.cacheNotifications(j,r),console.log(" Updated order fill notification with success status")}await g()}catch(U){if(console.error("Error filling order:",U),r){const{dashboardCache:$}=await Ht(async()=>{const{dashboardCache:M}=await Promise.resolve().then(()=>Ji);return{dashboardCache:M}},void 0),j=($.getCachedTransactionHistory(r)||[]).filter(M=>!M.hash.startsWith("pending_fill_"));$.cacheTransactionHistory(j,r);const k=($.getCachedNotifications(r)||[]).map(M=>M.id.includes("order_fill_pending_")?{...M,title:"Trade Failed",message:`Failed to execute trade for Asset #${_.tokenId}. Please try again.`,status:"failed"}:M);$.cacheNotifications(k,r),console.log(" Updated order fill notification with failure status")}throw U}finally{h(!1)}},[s,g,r]),C=T.useCallback(async E=>{if(!s)throw new Error("Service not initialized");h(!0);try{await(await s.cancelOrder(E)).wait(),await g()}catch(N){throw console.error("Error cancelling order:",N),N}finally{h(!1)}},[s,g]);return{orderBookData:a,loading:f,error:y,refreshOrderBook:g,isApproved:d,approveContract:b,createSellOrder:w,createBuyOrder:A,fillOrder:I,cancelOrder:C,userOrders:l}},c8e=({selectedToken:t,buyOrders:e,sellOrders:n})=>{const[r,s]=T.useState("24h"),[i,a]=T.useState([]),[o,l]=T.useState(()=>{const B=t.marketplacePrice||0;return B>=1e15?B/1e18:B}),[u,d]=T.useState(0),[p,f]=T.useState([]),[h,y]=T.useState(!1),{provider:m,signer:g}=er(),v=Se.useMemo(()=>m&&g?new pee(m,kr,g):null,[m,g]),b=B=>B>=1e9?(B/1e9).toFixed(2)+"B":B>=1e6?(B/1e6).toFixed(2)+"M":B>=1e3?(B/1e3).toFixed(2)+"K":B.toFixed(2),w=B=>isNaN(B)||B===0?"0":b(B),A=B=>{if(isNaN(B)||B===0)return"0.00";const j=B;return j>=1?j.toFixed(2):j>=.01?j.toFixed(4):j>0?j.toFixed(6):"0.00"},I=async()=>{if(!m||!t.id){console.log(" Missing provider or token ID:",{provider:!!m,tokenId:t.id});return}y(!0);try{console.log(" === STARTING TRANSACTION FETCH ==="),console.log(" Token ID:",t.id),console.log(" Token Symbol:",t.symbol),console.log(" Provider:",m.connection.url),console.log(" OrderBookService available:",!!v);const B=[];try{const j=new at(Or,Zl,m);console.log(` Searching marketplace events for token: ${t.id}`),console.log(` Marketplace contract: ${Or}`);const x=["OrderFilled","TokenPurchased","TokenSold","Purchase"];for(const k of x)try{const M=j.filters[k]?j.filters[k]():null;if(M){const P=await j.queryFilter(M,-5e3);console.log(` Found ${P.length} total ${k} events`);const S=P.filter(L=>{if(!L.args)return!1;const V=L.args.tokenId||L.args._tokenId||L.args.id;return V&&V.toString()===t.id.toString()});console.log(` Found ${S.length} ${k} events for token ${t.id}`);for(const L of S)if(L.args){const V=await m.getBlock(L.blockNumber);let F=0,R=1;L.args.totalPrice&&L.args.amount?(F=parseFloat(Ye(L.args.totalPrice)),R=parseFloat(L.args.amount.toString())):L.args.price&&(F=parseFloat(Ye(L.args.price)),R=L.args.amount?parseFloat(L.args.amount.toString()):1),F>0&&B.push({timestamp:V.timestamp*1e3,price:R>0?F/R:F,amount:R,type:"sell",txHash:L.transactionHash})}}}catch(M){console.log(` Event ${k} not found or error:`,M.message)}}catch(j){console.warn(" Could not fetch marketplace events:",j)}try{const j=new at(kr,H0,m);console.log(` Searching OrderFilled events for token: ${t.id}`),console.log(` OrderBook contract: ${kr}`);try{console.log(" Looking for OrderFilled events...");const k=j.filters.OrderFilled(),M=[-2e4,-5e4,-1e5];let P=[];for(const S of M){console.log(` Searching last ${Math.abs(S)} blocks for OrderFilled events...`);try{const L=await j.queryFilter(k,S);if(console.log(` Found ${L.length} total OrderFilled events in last ${Math.abs(S)} blocks`),L.length>0){P=L;break}}catch(L){console.log(` Block range ${S} failed:`,L.message)}}if(P.length===0){console.log(" No events in recent blocks, searching for order creation events to find trading period...");try{const S=j.filters.SellOrderCreated?j.filters.SellOrderCreated():null,L=j.filters.BuyOrderCreated?j.filters.BuyOrderCreated():null;let V=null;if(S||L){const F=S?await j.queryFilter(S,-1e5):[],R=L?await j.queryFilter(L,-1e5):[],z=[...F.filter(Q=>Q.args&&Q.args.tokenId&&Q.args.tokenId.toString()===t.id),...R.filter(Q=>Q.args&&Q.args.tokenId&&Q.args.tokenId.toString()===t.id)];z.length>0&&(V=Math.min(...z.map(Q=>Q.blockNumber)),console.log(` Found trading activity starting from block ${V}`),P=await j.queryFilter(k,V),console.log(` Found ${P.length} OrderFilled events from trading start (block ${V})`))}if(P.length===0){console.log(" Last resort: searching maximum block range...");const F=await m.getBlockNumber(),R=Math.max(0,F-1e6);P=await j.queryFilter(k,R),console.log(` Found ${P.length} total OrderFilled events from block ${R} to ${F}`)}}catch(S){console.log(" Extended search failed:",S.message)}}P.length===0&&(console.log(" No OrderFilled events found. This might mean:"),console.log("   - No trades have happened recently (last 5000 blocks)"),console.log("   - OrderFilled event name is different"),console.log("   - Contract address is wrong"));for(const S of P)if(S.args)try{const{orderId:L,taker:V,amount:F,totalPrice:R}=S.args;console.log(" Processing OrderFilled Event:"),console.log(`   - OrderId: ${L}`),console.log(`   - Taker: ${V}`),console.log(`   - Amount: ${F}`),console.log(`   - TotalPrice: ${R}`),console.log(`   - Block: ${S.blockNumber}`),console.log(`   - TxHash: ${S.transactionHash}`);let z=null;if(v)try{console.log(` Looking up order details for orderId ${L}...`),z=await v.getOrderDetails(L.toString()),z?(console.log(" Order details found:"),console.log(`   - TokenId: ${z.tokenId}`),console.log(`   - Maker: ${z.maker}`),console.log(`   - IsBuyOrder: ${z.isBuyOrder}`),console.log(`   - Amount: ${z.amount}`),console.log(`   - PricePerToken: ${z.pricePerTokenU2U}`)):console.log(` Order details returned null for orderId ${L}`)}catch(Q){console.warn(` Could not lookup order details for orderId ${L}:`,Q);continue}else{console.warn(" OrderBookService not available for order lookup");continue}if(z&&z.tokenId===t.id){const Q=await m.getBlock(S.blockNumber),O=parseFloat(Ye(R))/parseFloat(F.toString()),H=parseFloat(F.toString());console.log(" FOUND MATCHING TRADE!"),console.log(`   - TokenId Match: ${z.tokenId} === ${t.id}`),console.log(`   - Price per token: ${O} U2U`),console.log(`   - Trade amount: ${H}`),console.log(`   - Trade type: ${z.isBuyOrder?"buy":"sell"}`),console.log(`   - Block timestamp: ${Q.timestamp}`),console.log(`   - Transaction hash: ${S.transactionHash}`),B.push({timestamp:Q.timestamp*1e3,price:O,amount:H,type:z.isBuyOrder?"buy":"sell",txHash:S.transactionHash})}else z?(console.log(" TOKEN ID MISMATCH:"),console.log(`   - Order tokenId: "${z.tokenId}" (type: ${typeof z.tokenId})`),console.log(`   - Looking for: "${t.id}" (type: ${typeof t.id})`),console.log(`   - String comparison: ${z.tokenId} === ${t.id} = ${z.tokenId===t.id}`),console.log(`   - Loose comparison: ${z.tokenId} == ${t.id} = ${z.tokenId==t.id}`)):console.log(` Skipping OrderFilled ${L} - could not get order details`)}catch(L){console.warn(" Error processing OrderFilled event:",L)}}catch(k){console.warn(" Could not fetch OrderFilled events:",k)}const x=["OrderExecuted","TradeExecuted","OrderMatched"];for(const k of x)try{const M=j.filters[k]?j.filters[k]():null;if(M){const P=await j.queryFilter(M,-5e3);console.log(` Found ${P.length} total ${k} events (fallback)`);const S=P.filter(L=>{if(!L.args)return!1;const V=L.args.tokenId||L.args._tokenId||L.args.id;return V&&V.toString()===t.id.toString()});console.log(` Found ${S.length} ${k} events for token ${t.id}`);for(const L of S)if(L.args){const V=await m.getBlock(L.blockNumber);let F=0,R=1,z=!1;L.args.pricePerToken?F=parseFloat(Ye(L.args.pricePerToken)):L.args.price?F=parseFloat(Ye(L.args.price)):L.args.totalPrice&&L.args.amount&&(F=parseFloat(Ye(L.args.totalPrice))/parseFloat(L.args.amount.toString())),L.args.amount&&(R=parseFloat(L.args.amount.toString())),L.args.isBuyOrder!==void 0?z=L.args.isBuyOrder:L.args.orderType&&(z=L.args.orderType===1),F>0&&B.push({timestamp:V.timestamp*1e3,price:F,amount:R,type:z?"buy":"sell",txHash:L.transactionHash})}}}catch(M){console.log(` OrderBook event ${k} not found:`,M.message)}}catch(j){console.warn(" Could not fetch orderbook events:",j)}if(B.length===0){console.log(" No specific events found, trying broader transaction search...");try{const j=await m.getBlockNumber(),x=Math.max(0,j-1e3);console.log(` Scanning blocks ${x} to ${j} for transactions...`);const k=[Or,kr];for(const M of k)try{for(let P=j;P>x&&P>=0;P-=100){const S=await m.getBlockWithTransactions(P);for(const L of S.transactions)L.to===M&&L.data.includes(t.id.replace("0x",""))&&(console.log(` Found potential transaction: ${L.hash}`),B.push({timestamp:S.timestamp*1e3,price:parseFloat(Ye(L.value||0)),amount:1,type:"sell",txHash:L.hash}));if(B.length>0)break}}catch(P){console.log(" Block scanning error:",P.message)}}catch(j){console.log(" Broad search failed:",j.message)}}if(B.sort((j,x)=>j.timestamp-x.timestamp),f(B),console.log(" === TRANSACTION FETCH COMPLETE ==="),console.log(" Final Results:"),console.log(`   - Total transactions found: ${B.length}`),console.log(`   - Target token ID: ${t.id}`),console.log("   - Transactions:",B),B.length===0){console.log(" NO TRANSACTIONS FOUND - Possible causes:"),console.log("   1. No trades have happened for this token"),console.log("   2. Token ID format mismatch (string vs number)"),console.log("   3. OrderFilled events not being emitted"),console.log("   4. Order lookup service failing"),console.log("   5. Contract addresses incorrect"),console.log(" Falling back to mock transaction data for chart visualization..."),C();return}else console.log(" SUCCESS - Found real blockchain transactions!")}catch(B){console.error(" Error fetching real blockchain transactions:",B),console.log(" Falling back to mock transaction data due to error..."),C()}finally{y(!1)}},C=()=>{const B=[],j=Date.now();[...e.slice(0,3),...n.slice(0,3)].forEach((x,k)=>{const M=j-k*36e5;let P=t.marketplacePrice||100;P>=1e15&&(P=P/1e18),x.pricePerTokenU2U&&(P=x.pricePerTokenU2U>1e4?x.pricePerTokenU2U/1e6*100:x.pricePerTokenU2U);const S=.95+Math.random()*.1,L=Math.max(.01,P*S);B.push({timestamp:M+Math.random()*18e5,price:L,amount:Math.min(x.amount||1,100),type:x.isBuyOrder?"buy":"sell",txHash:`0x${Math.random().toString(16).substr(2,64)}`})});for(let x=0;x<20;x++){let k=t.marketplacePrice||100;k>=1e15&&(k=k/1e18);const M=k*(.95+Math.random()*.1);B.push({timestamp:j-x*18e5,price:M,amount:1+Math.random()*5,type:Math.random()>.5?"buy":"sell",txHash:`0x${Math.random().toString(16).substr(2,64)}`})}B.sort((x,k)=>x.timestamp-k.timestamp),f(B)},E=()=>{if(p.length===0)return;const B=p[p.length-1];if(l(B.price),p.length>1){const j=p[0],x=(B.price-j.price)/j.price*100;d(x)}console.log(` Price updated from real trades: ${B.price} Flow`)},N=()=>{if(p.length===0)return console.log(" No real transactions found - chart will be empty until trades happen"),[];console.log(` Generating price history from ${p.length} real transactions`);const B=[...p].sort((L,V)=>L.timestamp-V.timestamp),j=[];B.forEach(L=>{j.push({timestamp:L.timestamp,price:L.price,type:L.type})});const x=[],k=5*60*1e3,M=Date.now(),P=Math.min(...B.map(L=>L.timestamp));for(let L=P;L<=M;L+=k){const V=B.filter(F=>F.timestamp<=L).slice(-1)[0];V&&x.push({timestamp:L,price:V.price,type:"main"})}const S=[...j,...x];return console.log(` Generated ${S.length} price points (${j.length} transactions + ${x.length} main line)`),S};T.useEffect(()=>{const B=N();a(B),console.log(` Chart updated with ${B.length} price points (${p.length} real transactions)`)},[r,t.id,p]),T.useEffect(()=>{E()},[p]);const _=async()=>{if(!v){console.log(" OrderBook service not available");return}try{console.log(" === TESTING ORDERBOOK SERVICE ===");const B=await v.getOrderBook(t.id);if(console.log(` Current orders: ${B.sellOrders.length} sell, ${B.buyOrders.length} buy`),B.sellOrders.length>0||B.buyOrders.length>0){console.log(" Active orders found - this suggests trades should have happened!"),console.log(" Since orders exist, we should look for filled/cancelled orders too");const j=[...B.sellOrders,...B.buyOrders];for(let x=0;x<Math.min(3,j.length);x++){const k=j[x];console.log(` Order ${k.orderId} details:`,k)}console.log(" SUGGESTION: Look for OrderCreated events to find when trading started"),console.log(" Then search for OrderFilled events from that time period");try{const x=new at(kr,H0,m);console.log(" Searching for SellOrderCreated and BuyOrderCreated events...");const k=x.filters.SellOrderCreated?x.filters.SellOrderCreated():null,M=x.filters.BuyOrderCreated?x.filters.BuyOrderCreated():null;if(k||M){const P=k?await x.queryFilter(k,-1e5):[],S=M?await x.queryFilter(M,-1e5):[];console.log(` Found ${P.length} SellOrderCreated and ${S.length} BuyOrderCreated events`);const L=P.filter(F=>F.args&&F.args.tokenId&&F.args.tokenId.toString()===t.id),V=S.filter(F=>F.args&&F.args.tokenId&&F.args.tokenId.toString()===t.id);if(console.log(` Token-specific events: ${L.length} sell, ${V.length} buy`),L.length>0||V.length>0){const F=[...L,...V],R=Math.min(...F.map(Q=>Q.blockNumber)),z=Math.max(...F.map(Q=>Q.blockNumber));console.log(` Trading activity detected between blocks ${R} and ${z}`),console.log(" Should search for OrderFilled events in this range!"),window.tradingBlockRange={earliestBlock:R,latestBlock:z},console.log(" Block range saved to window.tradingBlockRange for manual search")}}}catch(x){console.log(" Could not search for order creation events:",x.message)}}else console.log(" No active orders found - this token might not have any trading activity")}catch(B){console.error(" OrderBook service test failed:",B)}};T.useEffect(()=>{I()},[t.id,m,e.length,n.length]);const U=()=>{if(h)return c.jsx("div",{className:"h-full flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-2"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Loading transaction data..."})]})});if(i.length===0)return c.jsx("div",{className:"h-full flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx(gs,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),c.jsx("h4",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No Trading Data"}),c.jsx("p",{className:"text-gray-500",children:"No executed transactions found for this token."}),c.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Chart will show real price movements when trades happen."})]})});const B=800,j=400,x=50,k=i.filter(G=>G.type==="main").sort((G,Z)=>G.timestamp-Z.timestamp),M=i.filter(G=>G.type==="buy").sort((G,Z)=>G.timestamp-Z.timestamp),P=i.filter(G=>G.type==="sell").sort((G,Z)=>G.timestamp-Z.timestamp);if(k.length===0&&M.length===0&&P.length===0)return c.jsx("div",{className:"h-full flex items-center justify-center",children:c.jsx("p",{className:"text-gray-500",children:"No price data available"})});const S=i.map(G=>G.price),L=Math.min(...S)*.95,V=Math.max(...S)*1.05,F=V-L||1,R=i.map(G=>G.timestamp),z=Math.min(...R),O=Math.max(...R)-z||1,H=(G,Z)=>{const te=x+(Z-z)/O*(B-x*2),q=x+(V-G)/F*(j-x*2);return{x:te,y:q}},Y=G=>G.length===0?"":G.map(q=>H(q.price,q.timestamp)).map((q,ne)=>`${ne===0?"M":"L"} ${q.x} ${q.y}`).join(" ");return c.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-slate-50 to-slate-100 rounded-lg",children:c.jsxs("svg",{viewBox:`0 0 ${B} ${j}`,className:"w-full h-full max-h-96 drop-shadow-sm",preserveAspectRatio:"xMidYMid meet",children:[c.jsxs("defs",{children:[c.jsxs("linearGradient",{id:"mainGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[c.jsx("stop",{offset:"0%",style:{stopColor:"#3b82f6",stopOpacity:.8}}),c.jsx("stop",{offset:"100%",style:{stopColor:"#1e40af",stopOpacity:.9}})]}),c.jsxs("filter",{id:"glow",children:[c.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),c.jsxs("feMerge",{children:[c.jsx("feMergeNode",{in:"coloredBlur"}),c.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),c.jsx("rect",{width:B,height:j,fill:"url(#backgroundGradient)"}),Array.from({length:6}).map((G,Z)=>{const te=x+Z*(j-x*2)/5,q=V-Z*F/5;return c.jsxs("g",{children:[c.jsx("line",{x1:x,y1:te,x2:B-x,y2:te,stroke:"#e5e7eb",strokeWidth:"0.5",strokeDasharray:"2,2",opacity:"0.5"}),c.jsx("text",{x:x-10,y:te+3,fontSize:"10",fill:"#6b7280",textAnchor:"end",children:q.toFixed(4)})]},Z)}),Array.from({length:4}).map((G,Z)=>{const te=x+Z*(B-x*2)/3,q=z+Z*O/3,ne=new Date(q).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return c.jsxs("g",{children:[c.jsx("line",{x1:te,y1:x,x2:te,y2:j-x,stroke:"#e5e7eb",strokeWidth:"0.5",strokeDasharray:"2,2",opacity:"0.3"}),c.jsx("text",{x:te,y:j-x+15,fontSize:"9",fill:"#6b7280",textAnchor:"middle",children:ne})]},`time-${Z}`)}),k.length>1&&c.jsx("path",{d:Y(k),stroke:"url(#mainGradient)",strokeWidth:"3",fill:"none",filter:"url(#glow)"}),M.length>1&&c.jsx("path",{d:Y(M),stroke:"#10b981",strokeWidth:"2",fill:"none",strokeDasharray:"4,4",opacity:"0.7"}),P.length>1&&c.jsx("path",{d:Y(P),stroke:"#ef4444",strokeWidth:"2",fill:"none",strokeDasharray:"4,4",opacity:"0.7"}),i.filter(G=>G.type!=="main").map((G,Z)=>{const te=H(G.price,G.timestamp),q=G.type==="buy"?"#10b981":"#ef4444";return c.jsx("g",{children:c.jsx("circle",{cx:te.x,cy:te.y,r:"4",fill:q,stroke:"white",strokeWidth:"2",opacity:"0.8"})},`point-${Z}`)}),p.length>0&&c.jsxs(c.Fragment,{children:[c.jsx("line",{x1:x,y1:H(o,Date.now()).y,x2:B-x,y2:H(o,Date.now()).y,stroke:"#3b82f6",strokeWidth:"2",strokeDasharray:"8,4",opacity:"0.9"}),c.jsxs("text",{x:B-x+10,y:H(o,Date.now()).y+3,fontSize:"12",fill:"#3b82f6",fontWeight:"bold",children:[o.toFixed(4)," Flow"]})]}),c.jsxs("g",{transform:`translate(${x}, ${x-30})`,children:[c.jsx("line",{x1:"0",y1:"0",x2:"20",y2:"0",stroke:"url(#mainGradient)",strokeWidth:"3"}),c.jsx("text",{x:"25",y:"4",fontSize:"10",fill:"#374151",children:"Main Price"}),c.jsx("line",{x1:"100",y1:"0",x2:"120",y2:"0",stroke:"#10b981",strokeWidth:"2",strokeDasharray:"4,4"}),c.jsx("text",{x:"125",y:"4",fontSize:"10",fill:"#374151",children:"Buy Orders"}),c.jsx("line",{x1:"220",y1:"0",x2:"240",y2:"0",stroke:"#ef4444",strokeWidth:"2",strokeDasharray:"4,4"}),c.jsx("text",{x:"245",y:"4",fontSize:"10",fill:"#374151",children:"Sell Orders"})]})]})})},$=u>=0;return c.jsxs("div",{className:"w-full h-full bg-white rounded-lg border border-gray-200",children:[c.jsxs("div",{className:"p-4 border-b border-gray-200",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[t.symbol,"/Flow"]}),c.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[c.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[A(o>0?o:t.marketplacePrice||0)," Flow"]}),p.length>0&&c.jsxs(st,{variant:"secondary",className:"text-xs",children:["Live from ",p.length," trades"]}),c.jsxs("span",{className:`flex items-center text-sm font-medium ${$?"text-green-600":"text-red-600"}`,children:[$?c.jsx(gs,{className:"w-4 h-4 mr-1"}):c.jsx(Z5,{className:"w-4 h-4 mr-1"}),$?"+":"",u.toFixed(2),"% (",r,")"]})]})]}),c.jsx("div",{className:"flex bg-gray-100 rounded-lg p-1",children:["1h","24h","7d","30d"].map(B=>c.jsx("button",{onClick:()=>s(B),className:`px-3 py-1 text-xs font-medium rounded-md transition-all ${r===B?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-blue-600"}`,children:B},B))})]}),c.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs text-gray-500",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${p.length>0?"bg-green-500 animate-pulse":"bg-gray-400"}`}),p.length>0?c.jsxs("span",{children:["Live blockchain data  ",p.length," real transactions"]}):c.jsx("span",{children:"Waiting for real transactions  Static chart display"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:I,className:"text-blue-600 hover:text-blue-700 font-medium",disabled:h,children:h?"Searching...":"Refresh "}),c.jsx("button",{onClick:()=>{console.log(" === COMPREHENSIVE DEBUG INFO ==="),console.log(" Token Information:"),console.log("   - Token ID:",t.id,`(type: ${typeof t.id})`),console.log("   - Token Symbol:",t.symbol),console.log("   - Token Name:",t.name),console.log("   - Marketplace Price:",t.marketplacePrice),console.log(""),console.log(" Connection Status:"),console.log("   - Provider available:",!!m),console.log("   - Signer available:",!!g),console.log("   - OrderBookService available:",!!v),console.log(""),console.log(" Transaction Data:"),console.log("   - Real transactions count:",p.length),console.log("   - Price history count:",i.length),console.log("   - Current price:",o),console.log("   - Price change:",u),console.log(""),console.log(" Raw Data:"),console.log("   - Real transactions:",p),console.log("   - Price history:",i),console.log(""),console.log(" Contract Addresses:"),console.log("   - Marketplace:",Or),console.log("   - OrderBook Escrow:",kr),_(),console.log(""),console.log(" Triggering manual transaction fetch..."),I()},className:"text-gray-500 hover:text-gray-700 text-xs",title:"Debug info & manual fetch",children:" Debug"})]})]})]}),c.jsx("div",{className:"h-80 p-4",children:c.jsx("div",{className:"h-full bg-gray-50 rounded-lg border border-gray-100 overflow-hidden",children:c.jsx(U,{})})}),c.jsxs("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:[c.jsxs("div",{className:"grid grid-cols-4 gap-4 text-center",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-xs text-gray-500",children:"24h High"}),c.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[p.length>0?A(Math.max(...p.map(B=>B.price))):"0.00"," Flow"]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs text-gray-500",children:"24h Low"}),c.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[p.length>0?A(Math.min(...p.map(B=>B.price))):"0.00"," Flow"]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs text-gray-500",children:"Total Volume"}),c.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[p.length>0?w(p.reduce((B,j)=>B+j.amount,0)):"0"," Tokens"]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs text-gray-500",children:"Last Trade"}),c.jsx("div",{className:"text-sm font-semibold text-gray-900",children:p.length>0?new Date(p[p.length-1].timestamp).toLocaleTimeString():"No trades"})]})]}),p.length>0&&c.jsxs("div",{className:"mt-2 p-3 bg-blue-50 rounded-lg",children:[c.jsx("h4",{className:"text-xs font-medium text-blue-800 mb-2",children:"Recent Blockchain Transactions"}),c.jsx("div",{className:"space-y-1 max-h-24 overflow-y-auto",children:p.slice(-3).reverse().map((B,j)=>c.jsxs("div",{className:"flex justify-between text-xs",children:[c.jsxs("span",{className:`font-medium ${B.type==="buy"?"text-green-600":"text-red-600"}`,children:[B.type.toUpperCase()," ",B.amount]}),c.jsxs("span",{className:"text-gray-600",children:["@ ",A(B.price)," Flow"]}),c.jsx("span",{className:"text-gray-500",children:new Date(B.timestamp).toLocaleTimeString()})]},B.txHash))})]})]})]})},u8e=({selectedToken:t,onChangeAsset:e})=>{const{address:n}=er(),[r,s]=T.useState(!1),[i,a]=T.useState(null),[o,l]=T.useState(!1),[u,d]=T.useState("buy"),[p,f]=T.useState(""),[h,y]=T.useState(""),[m,g]=T.useState(""),[v,b]=T.useState(""),{orderBookData:w,userOrders:A=[],cancelOrder:I,createBuyOrder:C,createSellOrder:E,fillOrder:N,refreshOrderBook:_,isApproved:U,approveContract:$}=l8e(t.id||t.symbol||""),B=(w==null?void 0:w.buyOrders)||[],j=(w==null?void 0:w.sellOrders)||[],x=F=>{const R=typeof F=="string"?parseFloat(F):F;return isNaN(R)||R===0?"0.0000":R>=1e6?(R/1e6).toFixed(2)+"M":R>=1e3?(R/1e3).toFixed(2)+"K":R>=1?R.toFixed(4):R>=.01?R.toFixed(6):R.toExponential(2)},k=F=>{const R=typeof F=="string"?parseFloat(F):F;return isNaN(R)||R===0?"0.00":R>=1?R.toFixed(2):R>=.01?R.toFixed(4):R>0?R.toFixed(6):"0.00"},M=async()=>{if(!m||!p){Ie.error("Please enter both amount and price");return}s(!0);try{await C(t.id||"1",parseInt(m),p),Ie.success("Buy order created successfully!"),g(""),f(""),a(null),_()}catch(F){console.error("Error creating buy order:",F),Ie.error("Failed to create sell order")}finally{s(!1)}},P=async()=>{var F,R;if(!v||!h){Ie.error("Please enter both amount and price");return}s(!0);try{U||(Ie.info("Approving OrderBook contract to manage your tokens..."),console.log(" Approval required - requesting user approval for OrderBook contract"),await $(),Ie.success("Contract approved! Now creating sell order..."),console.log(" Contract approved successfully")),await E(t.id||"1",parseInt(v),h),Ie.success("Sell order created successfully!"),b(""),y(""),a(null),_()}catch(z){console.error("Error creating sell order:",z),(F=z==null?void 0:z.message)!=null&&F.includes("Not approved")||(R=z==null?void 0:z.reason)!=null&&R.includes("Not approved")?Ie.error("Please approve the contract first to create sell orders"):Ie.error("Failed to create sell order")}finally{s(!1)}},S=async F=>{s(!0);try{await N(F.orderId,parseInt(String(F.amount)),F),Ie.success(`Order filled! Bought ${F.amount} tokens at ${x(F.pricePerTokenU2U||0)} U2U`),_()}catch(R){console.error("Error filling sell order:",R),Ie.error("Failed to fill order")}finally{s(!1)}},L=async F=>{s(!0);try{await N(F.orderId,parseInt(String(F.amount)),F),Ie.success(`Order filled! Sold ${F.amount} tokens at ${x(F.pricePerTokenU2U||0)} U2U`),_()}catch(R){console.error("Error filling buy order:",R),Ie.error("Failed to fill order")}finally{s(!1)}},V=async F=>{s(!0);try{await I(F),Ie.success("Order cancelled successfully"),_()}catch(R){console.error("Error cancelling order:",R),Ie.error("Failed to cancel order")}finally{s(!1)}};return c.jsxs("div",{className:"h-screen flex flex-col bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50",children:[c.jsx("div",{className:"bg-white/80 backdrop-blur-lg border-b border-gray-200/50 px-4 py-2 shadow-sm flex-shrink-0",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("img",{src:t.image,alt:t.name,className:"w-8 h-8 rounded-full shadow-sm border border-white"}),c.jsxs("div",{children:[c.jsxs("div",{className:"font-semibold text-sm text-gray-900",children:[t.symbol,"/Flow"]}),c.jsx("div",{className:"text-xs text-gray-500",children:t.name})]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs(re,{onClick:()=>a("buy"),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1.5 text-xs h-7 shadow-sm",children:[c.jsx(wu,{className:"w-3 h-3 mr-1"}),"Create Order"]}),c.jsxs(re,{variant:"outline",onClick:()=>l(!0),className:"border-gray-300 text-gray-600 hover:bg-gray-50 px-3 py-1.5 text-xs h-7",children:[c.jsx(Ho,{className:"w-3 h-3 mr-1"}),"View Orders"]}),n&&c.jsxs("div",{className:"text-xs text-gray-600 bg-gray-100 px-2 py-1 rounded",children:[n.slice(0,6),"...",n.slice(-4)]})]})]})}),c.jsx("div",{className:"flex-1 p-4 overflow-hidden",children:c.jsxs("div",{className:"grid grid-cols-12 gap-4 h-full",children:[c.jsx("div",{className:"col-span-9 h-full",children:c.jsx(_e,{className:"bg-white/70 backdrop-blur-lg border-gray-200/50 shadow-xl h-full",children:c.jsx(Le,{className:"p-4 h-full overflow-hidden",children:c.jsx(c8e,{selectedToken:t,buyOrders:B,sellOrders:j})})})}),c.jsx("div",{className:"col-span-3 h-full",children:c.jsx(_e,{className:"bg-white/70 backdrop-blur-lg border-gray-200/50 shadow-xl h-full",children:c.jsxs(Le,{className:"p-4 h-full flex flex-col",children:[c.jsx("div",{className:"mb-4",children:c.jsxs("div",{className:"flex bg-gray-100/80 backdrop-blur-sm p-1 rounded-lg w-full",children:[c.jsx("button",{onClick:()=>d("buy"),className:`flex-1 py-2 rounded-md font-semibold text-sm transition-all duration-300 ${u==="buy"?"bg-green-600 text-white shadow-lg":"text-gray-600 hover:text-green-600"}`,children:"Buy"}),c.jsx("button",{onClick:()=>d("sell"),className:`flex-1 py-2 rounded-md font-semibold text-sm transition-all duration-300 ${u==="sell"?"bg-red-600 text-white shadow-lg":"text-gray-600 hover:text-red-600"}`,children:"Sell"})]})}),c.jsx("div",{className:"flex-1 overflow-hidden",children:u==="buy"?c.jsx("div",{children:c.jsx("div",{className:"space-y-1 max-h-96 overflow-y-auto",children:j.length>0?j.map((F,R)=>c.jsxs("div",{className:"flex items-center justify-between p-2  rounded cursor-pointer transition-colors border border-black-200",onClick:()=>S(F),children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"text-xs font-medium text-black-700 truncate",children:[F.amount," tokens @ ",k(F.pricePerTokenU2U||0)," Flow"]}),c.jsxs("div",{className:"text-xs text-gray-500",children:["Total: ",x(parseFloat(String(F.amount))*parseFloat(String(F.pricePerTokenU2U||0)))," U2U"]})]}),c.jsx(re,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white text-xs h-6 px-2 ml-2",onClick:z=>{z.stopPropagation(),S(F)},disabled:r,children:"Buy"})]},R)):c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"text-gray-400 mb-2",children:c.jsx(Ise,{className:"w-8 h-8 mx-auto mb-2"})}),c.jsx("div",{className:"text-sm text-gray-500",children:"No buy orders available"}),c.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Be the first to create a buy order"})]})})}):c.jsx("div",{children:c.jsx("div",{className:"space-y-1 max-h-96 overflow-y-auto",children:B.length>0?B.map((F,R)=>c.jsxs("div",{className:"flex items-center justify-between p-2   rounded cursor-pointer transition-colors border border-black-200",onClick:()=>L(F),children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"text-xs font-medium text-black-700 truncate",children:[F.amount," tokens @ ",x(F.pricePerTokenU2U||0)," U2U"]}),c.jsxs("div",{className:"text-xs text-gray-500",children:["Total: ",x(parseFloat(String(F.amount))*parseFloat(String(F.pricePerTokenU2U||0)))," U2U"]})]}),c.jsx(re,{size:"sm",className:"bg-red-600 hover:bg-red-700 text-white text-xs h-6 px-2 ml-2",onClick:z=>{z.stopPropagation(),L(F)},disabled:r,children:"Sell"})]},R)):c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"text-gray-400 mb-2",children:c.jsx(zs,{className:"w-8 h-8 mx-auto mb-2"})}),c.jsx("div",{className:"text-sm text-gray-500",children:"No sell orders available"}),c.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Be the first to create a sell order"})]})})})})]})})})]})}),c.jsx(Os,{open:i!==null,onOpenChange:()=>a(null),children:c.jsxs(ws,{className:"bg-white/90 backdrop-blur-lg border-gray-200/50 shadow-2xl max-w-md",children:[c.jsx(xs,{children:c.jsxs(Ts,{className:"flex items-center space-x-2 text-base",children:[c.jsx(nse,{className:"w-4 h-4 text-blue-600"}),c.jsxs("span",{children:["Create ",i==="buy"?"Buy":"Sell"," Order"]})]})}),c.jsxs("div",{className:"space-y-4 pt-3",children:[c.jsxs("div",{className:"flex bg-gray-100/80 backdrop-blur-sm p-1 rounded-lg",children:[c.jsx("button",{onClick:()=>a("buy"),className:`flex-1 py-2 rounded-md font-semibold text-sm transition-all duration-300 ${i==="buy"?"bg-green-600 text-white shadow-lg":"text-gray-600 hover:text-green-600"}`,children:"Buy"}),c.jsx("button",{onClick:()=>a("sell"),className:`flex-1 py-2 rounded-md font-semibold text-sm transition-all duration-300 ${i==="sell"?"bg-red-600 text-white shadow-lg":"text-gray-600 hover:text-red-600"}`,children:"Sell"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount (Tokens)"}),c.jsx(rn,{type:"number",placeholder:"Enter amount",value:i==="buy"?m:v,onChange:F=>{i==="buy"?g(F.target.value):b(F.target.value)},className:"text-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price per Token (Flow)"}),c.jsx(rn,{type:"number",step:"0.000001",placeholder:"Enter price",value:i==="buy"?p:h,onChange:F=>{i==="buy"?f(F.target.value):y(F.target.value)},className:"text-sm"})]}),c.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Total Cost:"}),c.jsxs("span",{className:"text-sm font-bold text-gray-900",children:[i==="buy"?k(parseFloat(m||"0")*parseFloat(p||"0")):x(parseFloat(v||"0")*parseFloat(h||"0"))," Flow"]})]})}),i==="sell"&&c.jsxs("div",{className:`p-3 rounded-lg border ${U?"bg-green-50 border-green-200":"bg-yellow-50 border-yellow-200"}`,children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"flex items-center space-x-2",children:U?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),c.jsx("span",{className:"text-sm font-medium text-green-700",children:"Contract Approved"})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),c.jsx("span",{className:"text-sm font-medium text-yellow-700",children:"Approval Required"})]})}),!U&&c.jsx(re,{variant:"outline",size:"sm",onClick:$,disabled:r,className:"text-xs h-7 border-yellow-300 text-yellow-700 hover:bg-yellow-100",children:"Approve Now"})]}),c.jsx("p",{className:"text-xs text-gray-600 mt-1",children:U?"You can create sell orders without additional approvals":"Grant permission for the OrderBook contract to manage your tokens"})]})]}),c.jsxs("div",{className:"flex space-x`-2 pt-4",children:[c.jsx(re,{variant:"outline",onClick:()=>a(null),className:"flex-1 h-9 text-sm",children:"Cancel"}),c.jsxs(re,{onClick:i==="buy"?M:P,disabled:r||i==="buy"&&(!m||!p)||i==="sell"&&(!v||!h),className:`flex-1 h-9 text-sm ${i==="buy"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"} text-white font-semibold shadow-lg`,children:[c.jsx(gp,{className:"w-3 h-3 mr-1"}),"Place Order"]})]})]})]})}),c.jsx(Os,{open:o,onOpenChange:l,children:c.jsxs(ws,{className:"bg-white/90 backdrop-blur-lg border-gray-200/50 shadow-2xl max-w-4xl max-h-[80vh] overflow-y-auto",children:[c.jsx(xs,{children:c.jsxs(Ts,{className:"flex items-center space-x-2 text-base",children:[c.jsx(Ho,{className:"w-4 h-4 text-blue-600"}),c.jsx("span",{children:"Your Orders"})]})}),c.jsx("div",{className:"space-y-4 pt-3",children:A&&A.length>0?c.jsx("div",{className:"space-y-3",children:A.map((F,R)=>c.jsxs("div",{className:"grid grid-cols-12 gap-3 p-3 bg-white border border-gray-200 rounded-lg hover:shadow-md transition-all duration-200",children:[c.jsx("div",{className:"col-span-2",children:c.jsx(st,{variant:"outline",className:F.isBuyOrder?"border-green-500 text-green-700":"border-red-500 text-red-700",children:F.isBuyOrder?"Buy":"Sell"})}),c.jsxs("div",{className:"col-span-2",children:[c.jsx("div",{className:"text-xs text-gray-500",children:"Amount"}),c.jsx("div",{className:"text-sm font-semibold",children:F.amount})]}),c.jsxs("div",{className:"col-span-2",children:[c.jsx("div",{className:"text-xs text-gray-500",children:"Price"}),c.jsxs("div",{className:"text-sm font-semibold",children:[x(F.pricePerTokenU2U||0)," U2U"]})]}),c.jsxs("div",{className:"col-span-2",children:[c.jsx("div",{className:"text-xs text-gray-500",children:"Status"}),c.jsx(st,{variant:"outline",className:"border-yellow-500 text-yellow-700 text-xs",children:"Active"})]}),c.jsx("div",{className:"col-span-4 flex justify-end",children:c.jsx(re,{onClick:()=>V(F.orderId),variant:"outline",size:"sm",className:"text-red-600 border-red-200 hover:bg-red-50 text-xs h-7",disabled:r,children:"Cancel"})})]},R))}):c.jsxs("div",{className:"text-center py-8",children:[c.jsx(Ho,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),c.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No Orders Found"}),c.jsx("p",{className:"text-gray-500 mb-4",children:"You haven't placed any orders yet"}),c.jsx(re,{onClick:()=>{l(!1),a("buy")},className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Create Your First Order"})]})}),c.jsx("div",{className:"flex justify-end pt-4 border-t",children:c.jsx(re,{variant:"outline",onClick:()=>l(!1),className:"text-sm",children:"Close"})})]})})]})},Tg=()=>{const t=[{name:"Home",link:"/",icon:c.jsx(UJ,{className:"h-4 w-4 text-neutral-500 dark:text-white"})},{name:"About",link:"/about",icon:c.jsx(VJ,{className:"h-4 w-4 text-neutral-500 dark:text-white"})},{name:"Tokenize",link:"/issuer",icon:c.jsx(zJ,{className:"h-4 w-4 text-neutral-500 dark:text-white"})}];return window.location.pathname!=="/"?null:c.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-black/50 backdrop-blur-sm",children:c.jsx("div",{className:"container mx-auto",children:c.jsx(BJ,{navItems:t})})})},d8e=()=>{const{address:t,connectWallet:e,provider:n,signer:r}=er(),s=yl(),[i,a]=T.useState(null),[o,l]=T.useState("0"),[u,d]=T.useState(!0);T.useEffect(()=>{var f,h;if((f=s.state)!=null&&f.selectedToken){const y=s.state.selectedToken,m={id:y.tokenId,name:y.name,symbol:((h=y.name)==null?void 0:h.substring(0,3).toUpperCase())||"TKN",description:y.description||"",image:y.image,totalSupply:0,userBalance:parseFloat(y.userBalance||"0"),isListed:!0,marketplacePrice:parseFloat(y.marketplacePrice||y.price||"0"),exists:!0,metadata:void 0,assetType:y.type||"real-estate",location:"Unknown",valuation:y.price||"0",attributes:[],lastPrice:parseFloat(y.marketplacePrice||y.price||"0"),priceChange24h:"0",volume24h:0};a(m),d(!1),Ie.success(`Selected ${m.name} for trading`)}},[s.state]);const p=f=>{a(f),d(!1),Ie.success(`Selected ${f.name} for trading`)};return T.useEffect(()=>{(async()=>{if(!(!n||!t))try{const y=await new zN(n,r).getU2UBalance(t);l(y)}catch(h){console.error("Error fetching U2U balance:",h)}})()},[n,r,t]),t?u||!i?c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx(Tg,{}),c.jsx("div",{className:"container mx-auto px-4 py-8",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"mb-8 text-center",children:[c.jsxs("h1",{className:"text-4xl font-bold text-gray-900 mb-4 flex items-center justify-center gap-3",children:[c.jsx(Ql,{className:"w-10 h-10 text-blue-600"}),"Open Assets Exchange"]}),c.jsx("p",{className:"text-xl text-gray-600",children:"Select an asset to begin professional RWA trading"})]}),c.jsx(o8e,{selectedTokenId:i==null?void 0:i.id,onTokenSelect:p})]})})]}):c.jsx(c.Fragment,{children:c.jsx(u8e,{selectedToken:i,onChangeAsset:()=>d(!0)})}):c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx(Tg,{}),c.jsx("div",{className:"flex items-center justify-center min-h-[80vh]",children:c.jsxs(_e,{className:"border border-gray-200 shadow-sm p-8 text-center bg-white",children:[c.jsx(_t,{children:c.jsxs(Lt,{className:"flex items-center gap-2 justify-center text-gray-900",children:[c.jsx(tc,{className:"w-6 h-6"}),"Connect Your Wallet"]})}),c.jsxs(Le,{className:"bg-white",children:[c.jsx("p",{className:"text-gray-600 mb-6",children:"Connect your wallet to access the premium trading terminal and start trading tokenized assets."}),c.jsx(re,{onClick:e,className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold",children:"Connect Wallet"})]})]})})]})};class p8e{constructor(e,n){Ke(this,"provider");Ke(this,"signer");Ke(this,"marketplaceAddress");Ke(this,"tokenAddress");this.provider=e,this.signer=n,this.marketplaceAddress=Or,this.tokenAddress=ji}async fetchAllTokens(e){try{if(console.log(" FIXED TOKEN FETCHING: Only showing tokens with user balance > 0..."),!e)return console.log("No user address provided, returning empty array"),[];const n=this.signer||this.provider,r=new at(this.marketplaceAddress,Zl,n),s=["function balanceOf(address account, uint256 id) view returns (uint256)","function uri(uint256 id) view returns (string)"],i=new at(this.tokenAddress,s,this.provider),a=[];console.log(" Checking user balance for tokens 1-10...");for(let o=1;o<=10;o++)try{const l=await i.balanceOf(e,o),u=parseInt(l.toString());if(u>0){console.log(` Found owned Token ID ${o} with balance:`,u);let d=`Token #${o}`,p=`TOKEN${o}`;try{const m=await i.uri(o);if(m){const g=await this.fetchTokenMetadata(m);g&&(d=g.name||d,p=g.symbol||p)}}catch{console.log(`Could not fetch metadata for token ${o}`)}let f=0;try{const m=await i.tokenSupply(o);f=parseFloat(Ye(m))}catch{console.log(`Could not fetch total supply for token ${o}`)}let h=!1,y=0;try{const[m,,,g]=await r.getAllListings();for(let v=0;v<m.length;v++)if(m[v].toString()===o.toString()){h=!0,y=parseFloat(Ye(g[v]));break}}catch{console.log("Could not check marketplace listings")}a.push({id:o.toString(),name:d,symbol:p,totalSupply:f,userBalance:u,isListed:h,price:y,exists:!0})}}catch{}return console.log(` SUCCESS: Returning ${a.length} tokens with user balance > 0:`,a.map(o=>`ID ${o.id} (${o.userBalance} tokens)`)),a.length===0&&console.log(" WARNING: User has no tokens with balance > 0"),a}catch(n){return console.error("Error fetching user-owned tokens:",n),[]}}async getTokenBalance(e,n){try{console.log(` Fetching WALLET balance for Token ID ${e}, User: ${n}`);try{const r=["function balanceOf(address account, uint256 id) view returns (uint256)"],i=await new at(this.tokenAddress,r,this.provider).balanceOf(n,e),a=parseInt(i.toString());return console.log(` Token ID ${e} WALLET balance: ${a} (for OrderBook)`),a}catch(r){return console.warn(` Wallet balance call failed for token ${e}:`,r.message),0}}catch(r){return console.error(" Error setting up marketplace contract:",r),0}}async getU2UBalance(e){try{const n=await this.provider.getBalance(e);return Ye(n)}catch(n){return console.error("Error fetching U2U balance:",n),"0"}}async fetchTokenMetadata(e){try{const n=e.replace("ipfs://","https://gateway.pinata.cloud/ipfs/"),r=await fetch(n,{method:"GET",headers:{Accept:"application/json"}});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);return await r.json()}catch(n){return console.log("Could not fetch token metadata:",n),null}}async fetchMarketplaceListings(e){try{console.log(" FETCHING MARKETPLACE LISTINGS for OrderBook...");const n=this.signer||this.provider,r=new at(this.marketplaceAddress,Zl,n),s=["function balanceOf(address account, uint256 id) view returns (uint256)","function uri(uint256 id) view returns (string)"],i=new at(this.tokenAddress,s,this.provider);console.log(" Getting all marketplace listings...");const a=await r.getAllListings(),[o,l,u,d]=a;console.log(`Found ${o.length} marketplace listings`);const p=[];for(let f=0;f<o.length;f++){const h=o[f].toString(),y=l[f],m=u[f].toString(),g=d[f];try{let v=0;if(e)try{console.log(` DEBUGGING: Checking wallet balance for token ${h}, user: ${e}`);const I=await i.balanceOf(e,h);v=parseInt(I.toString()),console.log(` DEBUGGING: User wallet balance for token ${h}: ${v} (for OrderBook trading)`)}catch(I){console.warn(` DEBUGGING: Could not fetch wallet balance for token ${h}:`,I.message),v=0}else console.log(" DEBUGGING: No userAddress provided, setting balance to 0");let b=`Property #${h}`,w=`PROP${h}`;console.log(`Using fallback name for token ${h}: ${b}`);const A={id:h,name:b,symbol:w,totalSupply:parseInt(m),userBalance:v,isListed:!0,price:g?parseFloat(Ye(g)):0,exists:!0};p.push(A),console.log(" DEBUGGING: Added marketplace listing:",{tokenId:A.id,name:A.name,userBalance:A.userBalance,totalSupply:A.totalSupply})}catch(v){console.error(`Error processing token ${h}:`,v)}}return console.log(` MARKETPLACE LISTINGS: Found ${p.length} listed tokens for OrderBook`),p}catch(n){return console.error(" Error fetching marketplace listings:",n),[]}}async withdrawAsset(e,n){try{if(console.log(` Withdrawing ${n} of token ${e} from marketplace to wallet...`),!this.signer)throw new Error("Signer required for withdrawal");const s=await new at(this.marketplaceAddress,Zl,this.signer).withdrawAsset(e,n);console.log(" Withdrawal transaction sent:",s.hash);const i=await s.wait();return console.log(" Withdrawal confirmed in block:",i.blockNumber),!0}catch(r){throw console.error(" Error withdrawing asset:",r),r}}}function Kc({className:t,...e}){return c.jsx("div",{className:dt("animate-pulse rounded-md bg-muted",t),...e})}const f8e=()=>{const{tokenId:t}=Uoe(),e=mo(),{address:n,provider:r}=er(),[s,i]=T.useState(null),[a,o]=T.useState(!0),[l,u]=T.useState(null);return T.useEffect(()=>{(async()=>{var p;if(!t||!r){o(!1);return}try{o(!0),u(null);const f=r.getSigner(n||""),y=await new p8e(r,f).fetchMarketplaceListings(n||"");console.log(" Trading Page: Fetched listings:",y);const m=y.find(I=>I.id===t);if(!m)throw new Error(`Asset with Token ID ${t} not found`);const v=(I=>{if(I){const C=I.find(E=>E.trait_type==="Asset Type");return(C==null?void 0:C.value)||"Unknown"}return"Unknown"})(m.attributes),b=m.image||"https://images.unsplash.com/photo-1559526324-4b87b5e36e44?w=400&h=300&fit=crop",w=m.description||`${m.name} - Tokenized ${v.toLowerCase()} asset with ${m.totalSupply} total supply. Available for secondary P2P trading on the Open Assets Trading Platform.`,A={tokenId:m.id,name:m.name,description:w,image:b,category:v,price:((p=m.price)==null?void 0:p.toString())||"1.0",availableSupply:Number(m.totalSupply)-Number(m.userBalance||0),attributes:m.attributes||[]};i(A),console.log(" Asset details loaded:",A)}catch(f){console.error(" Error fetching asset details:",f),u(f instanceof Error?f.message:"Failed to load asset details"),Ie.error("Failed to load asset details")}finally{o(!1)}})()},[t,r,n]),a?c.jsxs(c.Fragment,{children:[c.jsx(Tg,{}),c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-white",children:c.jsxs("div",{className:"container mx-auto px-4 pt-8",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[c.jsx(Kc,{className:"w-10 h-10 rounded-lg"}),c.jsxs("div",{children:[c.jsx(Kc,{className:"w-48 h-8 mb-2"}),c.jsx(Kc,{className:"w-32 h-4"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[c.jsx("div",{className:"lg:col-span-1",children:c.jsx(_e,{children:c.jsxs(Le,{className:"p-6",children:[c.jsx(Kc,{className:"w-full h-64 mb-4 rounded-lg"}),c.jsx(Kc,{className:"w-3/4 h-6 mb-2"}),c.jsx(Kc,{className:"w-full h-4 mb-4"}),c.jsx(Kc,{className:"w-1/2 h-4"})]})})}),c.jsx("div",{className:"lg:col-span-2",children:c.jsx(_e,{children:c.jsx(Le,{className:"p-6",children:c.jsx(Kc,{className:"w-full h-96"})})})})]})]})})]}):l||!s?c.jsxs(c.Fragment,{children:[c.jsx(Tg,{}),c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-white flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx("svg",{className:"w-8 h-8 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16c-.77.833.192 2.5 1.732 2.5z"})})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Asset Not Found"}),c.jsx("p",{className:"text-gray-600 mb-6",children:l||"The requested asset could not be found."}),c.jsxs(re,{onClick:()=>e("/orderbook"),className:"bg-blue-600 hover:bg-blue-700",children:[c.jsx(OC,{className:"w-4 h-4 mr-2"}),"Back to Open Assets Trading Platform"]})]})})]}):c.jsxs(c.Fragment,{children:[c.jsx(Tg,{}),c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-white",children:c.jsxs("div",{className:"container mx-auto px-4 pt-8",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[c.jsxs(re,{variant:"outline",size:"sm",onClick:()=>e("/orderbook"),className:"flex items-center gap-2",children:[c.jsx(OC,{className:"w-4 h-4"}),"Back to Assets"]}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Trading Terminal"}),c.jsx("p",{className:"text-gray-600",children:"Real-time trading with on-chain escrow"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[c.jsx("div",{className:"lg:col-span-1",children:c.jsxs(_e,{className:"sticky top-4",children:[c.jsx(_t,{children:c.jsxs(Lt,{className:"flex items-center gap-2",children:[c.jsx(Zy,{className:"w-5 h-5"}),"Asset Details"]})}),c.jsxs(Le,{className:"space-y-6",children:[c.jsxs("div",{className:"relative overflow-hidden rounded-lg",children:[c.jsx("img",{src:s.image,alt:s.name,className:"w-full h-64 object-cover",onError:d=>{const p=d.target;p.src="https://images.unsplash.com/photo-1559526324-4b87b5e36e44?w=400&h=300&fit=crop"}}),c.jsx("div",{className:"absolute top-4 left-4",children:c.jsx(st,{className:"bg-white/90 text-gray-700",children:s.category})}),c.jsx("div",{className:"absolute top-4 right-4",children:c.jsxs(st,{variant:"secondary",className:"bg-blue-500/90 text-white",children:["#",s.tokenId]})})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:s.name}),c.jsx("p",{className:"text-gray-600 text-sm leading-relaxed mb-4",children:s.description})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Price per Token"}),c.jsxs("p",{className:"text-lg font-bold text-green-600",children:[parseFloat(s.price).toFixed(4)," U2U"]})]}),c.jsx(gs,{className:"w-8 h-8 text-green-500"})]}),c.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Available Supply"}),c.jsxs("p",{className:"text-lg font-bold text-blue-600",children:[s.availableSupply.toLocaleString()," tokens"]})]}),c.jsx(Ql,{className:"w-8 h-8 text-blue-500"})]})]}),s.attributes&&s.attributes.length>0&&c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Attributes"}),c.jsx("div",{className:"space-y-2",children:s.attributes.map((d,p)=>c.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[c.jsx("span",{className:"text-sm text-gray-600",children:d.trait_type}),c.jsx("span",{className:"text-sm font-medium text-gray-900",children:d.value})]},p))})]}),c.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gray-50 rounded-lg",children:[c.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),c.jsx("span",{className:"text-sm text-gray-600",children:"Live Trading Active"})]})]})]})}),c.jsx("div",{className:"lg:col-span-2",children:c.jsxs(_e,{children:[c.jsxs(_t,{children:[c.jsxs(Lt,{className:"flex items-center gap-2",children:[c.jsx(gs,{className:"w-5 h-5"}),"Trading Terminal - ",s.name]}),c.jsxs("p",{className:"text-sm text-gray-600",children:["Real-time P2P trading with secure escrow  Token ID: ",s.tokenId]})]}),c.jsx(Le,{children:n?c.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Trading Terminal"}),c.jsxs("p",{className:"text-gray-600 mb-4",children:["Trading for ",s.name," (Token ID: ",s.tokenId,")"]}),c.jsx("p",{className:"text-sm text-yellow-600",children:"Trading terminal integration in progress. Please use the orderbook page for now."})]}):c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Connect Wallet to Trade"}),c.jsx("p",{className:"text-gray-600",children:"Please connect your wallet to access the trading terminal."})]})})]})})]})]})})]})},nx="3.0.0",h8e=()=>`@wagmi/core@${nx}`;var fee=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},U1,hee;let YP=class VN extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return h8e()}constructor(e,n={}){var i;super(),U1.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=n.cause instanceof VN?n.cause.details:(i=n.cause)!=null&&i.message?n.cause.message:n.details,s=n.cause instanceof VN&&n.cause.docsPath||n.docsPath;this.message=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${this.docsBaseUrl}${s}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=e}walk(e){return fee(this,U1,"m",hee).call(this,this,e)}};U1=new WeakSet,hee=function t(e,n){return n!=null&&n(e)?e:e.cause?fee(this,U1,"m",t).call(this,e.cause,n):e};class HN extends YP{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}function z1(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;let n,r;if(Array.isArray(t)&&Array.isArray(e)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!z1(t[r],e[r]))return!1;return!0}if(typeof t.valueOf=="function"&&t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(typeof t.toString=="function"&&t.toString!==Object.prototype.toString)return t.toString()===e.toString();const s=Object.keys(t);if(n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.hasOwn(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(i&&!z1(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function mee(t){const e=t.state.current,n=t.state.connections.get(e),r=n==null?void 0:n.accounts,s=r==null?void 0:r[0],i=t.chains.find(o=>o.id===(n==null?void 0:n.chainId)),a=t.state.status;switch(a){case"connected":return{address:s,addresses:r,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:a};case"reconnecting":return{address:s,addresses:r,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!!s,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:a};case"connecting":return{address:s,addresses:r,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:a};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:a}}}let Dk=!1;async function m8e(t,e={}){var u,d;if(Dk)return[];Dk=!0,t.setState(p=>({...p,status:p.current?"reconnecting":"connecting"}));const n=[];if((u=e.connectors)!=null&&u.length)for(const p of e.connectors){let f;typeof p=="function"?f=t._internal.connectors.setup(p):f=p,n.push(f)}else n.push(...t.connectors);let r;try{r=await((d=t.storage)==null?void 0:d.getItem("recentConnectorId"))}catch{}const s={};for(const[,p]of t.state.connections)s[p.connector.id]=1;r&&(s[r]=0);const i=Object.keys(s).length>0?[...n].sort((p,f)=>(s[p.id]??10)-(s[f.id]??10)):n;let a=!1;const o=[],l=[];for(const p of i){const f=await p.getProvider().catch(()=>{});if(!f||l.some(m=>m===f)||!await p.isAuthorized())continue;const y=await p.connect({isReconnecting:!0}).catch(()=>null);y&&(p.emitter.off("connect",t._internal.events.connect),p.emitter.on("change",t._internal.events.change),p.emitter.on("disconnect",t._internal.events.disconnect),t.setState(m=>{const g=new Map(a?m.connections:new Map).set(p.uid,{accounts:y.accounts,chainId:y.chainId,connector:p});return{...m,current:a?m.current:p.uid,connections:g}}),o.push({accounts:y.accounts,chainId:y.chainId,connector:p}),l.push(f),a=!0)}return(t.state.status==="reconnecting"||t.state.status==="connecting")&&(a?t.setState(p=>({...p,status:"connected"})):t.setState(p=>({...p,connections:new Map,current:null,status:"disconnected"}))),Dk=!1,o}class If extends YP{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}function y8e(t,e){const{onChange:n}=e;return t.subscribe(()=>mee(t),n,{equalityFn(r,s){const{connector:i,...a}=r,{connector:o,...l}=s;return z1(a,l)&&(i==null?void 0:i.id)===(o==null?void 0:o.id)&&(i==null?void 0:i.uid)===(o==null?void 0:o.uid)}})}qP.type="injected";function qP(t={}){const{shimDisconnect:e=!0,unstable_shimAsyncInject:n}=t;function r(){const l=t.target;if(typeof l=="function"){const u=l();if(u)return u}return typeof l=="object"?l:typeof l=="string"?{...g8e[l]??{id:l,name:`${l[0].toUpperCase()}${l.slice(1)}`,provider:`is${l[0].toUpperCase()}${l.slice(1)}`}}:{id:"injected",name:"Injected",provider(u){return u==null?void 0:u.ethereum}}}let s,i,a,o;return l=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},type:qP.type,async setup(){const u=await this.getProvider();u!=null&&u.on&&t.target&&(a||(a=this.onConnect.bind(this),u.on("connect",a)),s||(s=this.onAccountsChanged.bind(this),u.on("accountsChanged",s)))},async connect({chainId:u,isReconnecting:d,withCapabilities:p}={}){var y,m,g,v,b,w;const f=await this.getProvider();if(!f)throw new If;let h=[];if(d)h=await this.getAccounts().catch(()=>[]);else if(e)try{h=(v=(g=(m=(y=(await f.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0])==null?void 0:y.caveats)==null?void 0:m[0])==null?void 0:g.value)==null?void 0:v.map(I=>Qd(I)),h.length>0&&(h=await this.getAccounts())}catch(A){const I=A;if(I.code===Ms.code)throw new Ms(I);if(I.code===Bu.code)throw I}try{!(h!=null&&h.length)&&!d&&(h=(await f.request({method:"eth_requestAccounts"})).map(C=>Qd(C))),a&&(f.removeListener("connect",a),a=void 0),s||(s=this.onAccountsChanged.bind(this),f.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),f.on("chainChanged",i)),o||(o=this.onDisconnect.bind(this),f.on("disconnect",o));let A=await this.getChainId();if(u&&A!==u){const I=await this.switchChain({chainId:u}).catch(C=>{if(C.code===Ms.code)throw C;return{id:A}});A=(I==null?void 0:I.id)??A}return e&&await((b=l.storage)==null?void 0:b.removeItem(`${this.id}.disconnected`)),t.target||await((w=l.storage)==null?void 0:w.setItem("injected.connected",!0)),{accounts:p?h.map(I=>({address:I,capabilities:{}})):h,chainId:A}}catch(A){const I=A;throw I.code===Ms.code?new Ms(I):I.code===Bu.code?new Bu(I):I}},async disconnect(){var d,p;const u=await this.getProvider();if(!u)throw new If;i&&(u.removeListener("chainChanged",i),i=void 0),o&&(u.removeListener("disconnect",o),o=void 0),a||(a=this.onConnect.bind(this),u.on("connect",a));try{await oX(()=>u.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}e&&await((d=l.storage)==null?void 0:d.setItem(`${this.id}.disconnected`,!0)),t.target||await((p=l.storage)==null?void 0:p.removeItem("injected.connected"))},async getAccounts(){const u=await this.getProvider();if(!u)throw new If;return(await u.request({method:"eth_accounts"})).map(p=>Qd(p))},async getChainId(){const u=await this.getProvider();if(!u)throw new If;const d=await u.request({method:"eth_chainId"});return Number(d)},async getProvider(){if(typeof window>"u")return;let u;const d=r();return typeof d.provider=="function"?u=d.provider(window):typeof d.provider=="string"?u=rx(window,d.provider):u=d.provider,u&&!u.removeListener&&("off"in u&&typeof u.off=="function"?u.removeListener=u.off:u.removeListener=()=>{}),u},async isAuthorized(){var u,d;try{if(e&&await((u=l.storage)==null?void 0:u.getItem(`${this.id}.disconnected`))||!t.target&&!await((d=l.storage)==null?void 0:d.getItem("injected.connected")))return!1;if(!await this.getProvider()){if(n!==void 0&&n!==!1){const y=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",y),!!await this.getProvider()),m=typeof n=="number"?n:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(v=>window.addEventListener("ethereum#initialized",()=>v(y()),{once:!0}))]:[],new Promise(v=>setTimeout(()=>v(y()),m))]))return!0}throw new If}return!!(await L0(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:u,chainId:d}){var y,m,g,v;const p=await this.getProvider();if(!p)throw new If;const f=l.chains.find(b=>b.id===d);if(!f)throw new Gp(new HN);const h=new Promise(b=>{const w=A=>{"chainId"in A&&A.chainId===d&&(l.emitter.off("change",w),b())};l.emitter.on("change",w)});try{return await Promise.all([p.request({method:"wallet_switchEthereumChain",params:[{chainId:nt(d)}]}).then(async()=>{await this.getChainId()===d&&l.emitter.emit("change",{chainId:d})}),h]),f}catch(b){const w=b;if(w.code===4902||((m=(y=w==null?void 0:w.data)==null?void 0:y.originalError)==null?void 0:m.code)===4902)try{const{default:A,...I}=f.blockExplorers??{};let C;u!=null&&u.blockExplorerUrls?C=u.blockExplorerUrls:A&&(C=[A.url,...Object.values(I).map(_=>_.url)]);let E;(g=u==null?void 0:u.rpcUrls)!=null&&g.length?E=u.rpcUrls:E=[((v=f.rpcUrls.default)==null?void 0:v.http[0])??""];const N={blockExplorerUrls:C,chainId:nt(d),chainName:(u==null?void 0:u.chainName)??f.name,iconUrls:u==null?void 0:u.iconUrls,nativeCurrency:(u==null?void 0:u.nativeCurrency)??f.nativeCurrency,rpcUrls:E};return await Promise.all([p.request({method:"wallet_addEthereumChain",params:[N]}).then(async()=>{if(await this.getChainId()===d)l.emitter.emit("change",{chainId:d});else throw new Ms(new Error("User rejected switch after adding network."))}),h]),f}catch(A){throw new Ms(A)}throw w.code===Ms.code?new Ms(w):new Gp(w)}},async onAccountsChanged(u){var d;if(u.length===0)this.onDisconnect();else if(l.emitter.listenerCount("connect")){const p=(await this.getChainId()).toString();this.onConnect({chainId:p}),e&&await((d=l.storage)==null?void 0:d.removeItem(`${this.id}.disconnected`))}else l.emitter.emit("change",{accounts:u.map(p=>Qd(p))})},onChainChanged(u){const d=Number(u);l.emitter.emit("change",{chainId:d})},async onConnect(u){const d=await this.getAccounts();if(d.length===0)return;const p=Number(u.chainId);l.emitter.emit("connect",{accounts:d,chainId:p});const f=await this.getProvider();f&&(a&&(f.removeListener("connect",a),a=void 0),s||(s=this.onAccountsChanged.bind(this),f.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),f.on("chainChanged",i)),o||(o=this.onDisconnect.bind(this),f.on("disconnect",o)))},async onDisconnect(u){const d=await this.getProvider();u&&u.code===1013&&d&&(await this.getAccounts()).length||(l.emitter.emit("disconnect"),d&&(i&&(d.removeListener("chainChanged",i),i=void 0),o&&(d.removeListener("disconnect",o),o=void 0),a||(a=this.onConnect.bind(this),d.on("connect",a))))}})}const g8e={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(t){return t!=null&&t.coinbaseWalletExtension?t.coinbaseWalletExtension:rx(t,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(t){return rx(t,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;const n=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of n)if(e[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(t){var e,n;return(e=t==null?void 0:t.phantom)!=null&&e.ethereum?(n=t.phantom)==null?void 0:n.ethereum:rx(t,"isPhantom")}}};function rx(t,e){function n(s){return typeof e=="function"?e(s):typeof e=="string"?s[e]:!0}const r=t.ethereum;if(r!=null&&r.providers)return r.providers.find(s=>n(s));if(r&&n(r))return r}function v8e(t){if(typeof window>"u")return;const e=n=>t(n.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function b8e(){const t=new Set;let e=[];const n=()=>v8e(s=>{e.some(({info:i})=>i.uuid===s.info.uuid)||(e=[...e,s],t.forEach(i=>i(e,{added:[s]})))});let r=n();return{_listeners(){return t},clear(){t.forEach(s=>s([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),r==null||r()},findProvider({rdns:s}){return e.find(i=>i.info.rdns===s)},getProviders(){return e},reset(){this.clear(),r==null||r(),r=n()},subscribe(s,{emitImmediately:i}={}){return t.add(s),i&&s(e,{added:e}),()=>t.delete(s)}}}const w8e=t=>(e,n,r)=>{const s=r.subscribe;return r.subscribe=(a,o,l)=>{let u=a;if(o){const d=(l==null?void 0:l.equalityFn)||Object.is;let p=a(r.getState());u=f=>{const h=a(f);if(!d(p,h)){const y=p;o(p=h,y)}},l!=null&&l.fireImmediately&&o(p,p)}return s(u)},t(e,n,r)},x8e=w8e;function T8e(t,e){let n;try{n=t()}catch{return}return{getItem:s=>{var i;const a=l=>l===null?null:JSON.parse(l,void 0),o=(i=n.getItem(s))!=null?i:null;return o instanceof Promise?o.then(a):a(o)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const WN=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return WN(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return WN(r)(n)}}}},A8e=(t,e)=>(n,r,s)=>{let i={storage:T8e(()=>localStorage),partialize:m=>m,version:0,merge:(m,g)=>({...g,...m}),...e},a=!1;const o=new Set,l=new Set;let u=i.storage;if(!u)return t((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...m)},r,s);const d=()=>{const m=i.partialize({...r()});return u.setItem(i.name,{state:m,version:i.version})},p=s.setState;s.setState=(m,g)=>{p(m,g),d()};const f=t((...m)=>{n(...m),d()},r,s);s.getInitialState=()=>f;let h;const y=()=>{var m,g;if(!u)return;a=!1,o.forEach(b=>{var w;return b((w=r())!=null?w:f)});const v=((g=i.onRehydrateStorage)==null?void 0:g.call(i,(m=r())!=null?m:f))||void 0;return WN(u.getItem.bind(u))(i.name).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==i.version){if(i.migrate)return[!0,i.migrate(b.state,b.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,b.state];return[!1,void 0]}).then(b=>{var w;const[A,I]=b;if(h=i.merge(I,(w=r())!=null?w:f),n(h,!0),A)return d()}).then(()=>{v==null||v(h,void 0),h=r(),a=!0,l.forEach(b=>b(h))}).catch(b=>{v==null||v(void 0,b)})};return s.persist={setOptions:m=>{i={...i,...m},m.storage&&(u=m.storage)},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>y(),hasHydrated:()=>a,onHydrate:m=>(o.add(m),()=>{o.delete(m)}),onFinishHydration:m=>(l.add(m),()=>{l.delete(m)})},i.skipHydration||y(),h||f},I8e=A8e,mF=t=>{let e;const n=new Set,r=(u,d)=>{const p=typeof u=="function"?u(e):u;if(!Object.is(p,e)){const f=e;e=d??(typeof p!="object"||p===null)?p:Object.assign({},e,p),n.forEach(h=>h(e,f))}},s=()=>e,o={setState:r,getState:s,getInitialState:()=>l,subscribe:u=>(n.add(u),()=>n.delete(u))},l=e=t(r,s,o);return o},_k=t=>t?mF(t):mF;var yee={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function i(l,u,d,p,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var h=new s(d,p||l,f),y=n?n+u:u;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],h]:l._events[y].push(h):(l._events[y]=h,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,p;if(this._eventsCount===0)return u;for(p in d=this._events)e.call(d,p)&&u.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=n?n+u:u,p=this._events[d];if(!p)return[];if(p.fn)return[p.fn];for(var f=0,h=p.length,y=new Array(h);f<h;f++)y[f]=p[f].fn;return y},o.prototype.listenerCount=function(u){var d=n?n+u:u,p=this._events[d];return p?p.fn?1:p.length:0},o.prototype.emit=function(u,d,p,f,h,y){var m=n?n+u:u;if(!this._events[m])return!1;var g=this._events[m],v=arguments.length,b,w;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),v){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,d),!0;case 3:return g.fn.call(g.context,d,p),!0;case 4:return g.fn.call(g.context,d,p,f),!0;case 5:return g.fn.call(g.context,d,p,f,h),!0;case 6:return g.fn.call(g.context,d,p,f,h,y),!0}for(w=1,b=new Array(v-1);w<v;w++)b[w-1]=arguments[w];g.fn.apply(g.context,b)}else{var A=g.length,I;for(w=0;w<A;w++)switch(g[w].once&&this.removeListener(u,g[w].fn,void 0,!0),v){case 1:g[w].fn.call(g[w].context);break;case 2:g[w].fn.call(g[w].context,d);break;case 3:g[w].fn.call(g[w].context,d,p);break;case 4:g[w].fn.call(g[w].context,d,p,f);break;default:if(!b)for(I=1,b=new Array(v-1);I<v;I++)b[I-1]=arguments[I];g[w].fn.apply(g[w].context,b)}}return!0},o.prototype.on=function(u,d,p){return i(this,u,d,p,!1)},o.prototype.once=function(u,d,p){return i(this,u,d,p,!0)},o.prototype.removeListener=function(u,d,p,f){var h=n?n+u:u;if(!this._events[h])return this;if(!d)return a(this,h),this;var y=this._events[h];if(y.fn)y.fn===d&&(!f||y.once)&&(!p||y.context===p)&&a(this,h);else{for(var m=0,g=[],v=y.length;m<v;m++)(y[m].fn!==d||f&&!y[m].once||p&&y[m].context!==p)&&g.push(y[m]);g.length?this._events[h]=g.length===1?g[0]:g:a(this,h)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&a(this,d)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(yee);var k8e=yee.exports;const C8e=tf(k8e);class E8e{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new C8e})}on(e,n){this._emitter.on(e,n)}once(e,n){this._emitter.once(e,n)}off(e,n){this._emitter.off(e,n)}emit(e,...n){const r=n[0];this._emitter.emit(e,{uid:this.uid,...r})}listenerCount(e){return this._emitter.listenerCount(e)}}function N8e(t){return new E8e(t)}function S8e(t,e){return JSON.parse(t,(n,r)=>{let s=r;return(s==null?void 0:s.__type)==="bigint"&&(s=BigInt(s.value)),(s==null?void 0:s.__type)==="Map"&&(s=new Map(s.value)),(e==null?void 0:e(n,s))??s})}function yF(t,e){return t.slice(0,e).join(".")||"."}function gF(t,e){const{length:n}=t;for(let r=0;r<n;++r)if(t[r]===e)return r+1;return 0}function R8e(t,e){const n=typeof t=="function",r=typeof e=="function",s=[],i=[];return function(o,l){if(typeof l=="object")if(s.length){const u=gF(s,this);u===0?s[s.length]=this:(s.splice(u),i.splice(u)),i[i.length]=o;const d=gF(s,l);if(d!==0)return r?e.call(this,o,l,yF(i,d)):`[ref=${yF(i,d)}]`}else s[0]=l,i[0]=o;return n?t.call(this,o,l):l}}function M8e(t,e,n,r){return JSON.stringify(t,R8e((s,i)=>{let a=i;return typeof a=="bigint"&&(a={__type:"bigint",value:i.toString()}),a instanceof Map&&(a={__type:"Map",value:Array.from(i.entries())}),(e==null?void 0:e(s,a))??a},r),n??void 0)}function P8e(t){const{deserialize:e=S8e,key:n="wagmi",serialize:r=M8e,storage:s=gee}=t;function i(a){return a instanceof Promise?a.then(o=>o).catch(()=>null):a}return{...s,key:n,async getItem(a,o){const l=s.getItem(`${n}.${a}`),u=await i(l);return u?e(u)??null:o??null},async setItem(a,o){const l=`${n}.${a}`;o===null?await i(s.removeItem(l)):await i(s.setItem(l,r(o)))},async removeItem(a){await i(s.removeItem(`${n}.${a}`))}}}const gee={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function j8e(){const t=typeof window<"u"&&window.localStorage?window.localStorage:gee;return{getItem(e){return t.getItem(e)},removeItem(e){t.removeItem(e)},setItem(e,n){try{t.setItem(e,n)}catch{}}}}const GN=256;let sw=GN,iw;function D8e(t=11){if(!iw||sw+t>GN*2){iw="",sw=0;for(let e=0;e<GN;e++)iw+=(256+Math.random()*256|0).toString(16).substring(1)}return iw.substring(sw,sw+++t)}function _8e(t){const{multiInjectedProviderDiscovery:e=!0,storage:n=P8e({storage:j8e()}),syncConnectedChain:r=!0,ssr:s=!1,...i}=t,a=typeof window<"u"&&e?b8e():void 0,o=_k(()=>i.chains),l=_k(()=>{const I=[],C=new Set;for(const E of i.connectors??[]){const N=u(E);if(I.push(N),!s&&N.rdns){const _=typeof N.rdns=="string"?[N.rdns]:N.rdns;for(const U of _)C.add(U)}}if(!s&&a){const E=a.getProviders();for(const N of E)C.has(N.info.rdns)||I.push(u(d(N)))}return I});function u(I){var N;const C=N8e(D8e()),E={...I({emitter:C,chains:o.getState(),storage:n,transports:i.transports}),emitter:C,uid:C.uid};return C.on("connect",w),(N=E.setup)==null||N.call(E),E}function d(I){const{info:C}=I,E=I.provider;return qP({target:{...C,id:C.rdns,provider:E}})}const p=new Map;function f(I={}){const C=I.chainId??g.getState().chainId,E=o.getState().find(_=>_.id===C);if(I.chainId&&!E)throw new HN;{const _=p.get(g.getState().chainId);if(_&&!E)return _;if(!E)throw new HN}{const _=p.get(C);if(_)return _}let N;if(i.client)N=i.client({chain:E});else{const _=E.id,U=o.getState().map(j=>j.id),$={},B=Object.entries(i);for(const[j,x]of B)if(!(j==="chains"||j==="client"||j==="connectors"||j==="transports"))if(typeof x=="object")if(_ in x)$[j]=x[_];else{if(U.some(M=>M in x))continue;$[j]=x}else $[j]=x;N=RM({...$,chain:E,batch:$.batch??{multicall:!0},transport:j=>i.transports[_]({...j,connectors:l})})}return p.set(C,N),N}function h(){return{chainId:o.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let y;const m="0.0.0-canary-";nx.startsWith(m)?y=Number.parseInt(nx.replace(m,""),10):y=Number.parseInt(nx.split(".")[0]??"0",10);const g=_k(x8e(n?I8e(h,{migrate(I,C){if(C===y)return I;const E=h(),N=v(I,E.chainId);return{...E,chainId:N}},name:"store",partialize(I){return{connections:{__type:"Map",value:Array.from(I.connections.entries()).map(([C,E])=>{const{id:N,name:_,type:U,uid:$}=E.connector;return[C,{...E,connector:{id:N,name:_,type:U,uid:$}}]})},chainId:I.chainId,current:I.current}},merge(I,C){typeof I=="object"&&I&&"status"in I&&delete I.status;const E=v(I,C.chainId);return{...C,...I,chainId:E}},skipHydration:s,storage:n,version:y}):h));g.setState(h());function v(I,C){return I&&typeof I=="object"&&"chainId"in I&&typeof I.chainId=="number"&&o.getState().some(E=>E.id===I.chainId)?I.chainId:C}r&&g.subscribe(({connections:I,current:C})=>{var E;return C?(E=I.get(C))==null?void 0:E.chainId:void 0},I=>{if(o.getState().some(E=>E.id===I))return g.setState(E=>({...E,chainId:I??E.chainId}))}),a==null||a.subscribe(I=>{const C=new Set,E=new Set;for(const _ of l.getState())if(C.add(_.id),_.rdns){const U=typeof _.rdns=="string"?[_.rdns]:_.rdns;for(const $ of U)E.add($)}const N=[];for(const _ of I){if(E.has(_.info.rdns))continue;const U=u(d(_));C.has(U.id)||N.push(U)}n&&!g.persist.hasHydrated()||l.setState(_=>[..._,...N],!0)});function b(I){g.setState(C=>{const E=C.connections.get(I.uid);return E?{...C,connections:new Map(C.connections).set(I.uid,{accounts:I.accounts??E.accounts,chainId:I.chainId??E.chainId,connector:E.connector})}:C})}function w(I){g.getState().status==="connecting"||g.getState().status==="reconnecting"||g.setState(C=>{const E=l.getState().find(N=>N.uid===I.uid);return E?(E.emitter.listenerCount("connect")&&E.emitter.off("connect",b),E.emitter.listenerCount("change")||E.emitter.on("change",b),E.emitter.listenerCount("disconnect")||E.emitter.on("disconnect",A),{...C,connections:new Map(C.connections).set(I.uid,{accounts:I.accounts,chainId:I.chainId,connector:E}),current:I.uid,status:"connected"}):C})}function A(I){g.setState(C=>{const E=C.connections.get(I.uid);if(E){const _=E.connector;_.emitter.listenerCount("change")&&E.connector.emitter.off("change",b),_.emitter.listenerCount("disconnect")&&E.connector.emitter.off("disconnect",A),_.emitter.listenerCount("connect")||E.connector.emitter.on("connect",w)}if(C.connections.delete(I.uid),C.connections.size===0)return{...C,connections:new Map,current:null,status:"disconnected"};const N=C.connections.values().next().value;return{...C,connections:new Map(C.connections),current:N.connector.uid}})}return{get chains(){return o.getState()},get connectors(){return l.getState()},storage:n,getClient:f,get state(){return g.getState()},setState(I){let C;typeof I=="function"?C=I(g.getState()):C=I;const E=h();typeof C!="object"&&(C=E),Object.keys(E).some(_=>!(_ in C))&&(C=E),g.setState(C,!0)},subscribe(I,C,E){return g.subscribe(I,C,E?{...E,fireImmediately:E.emitImmediately}:void 0)},_internal:{mipd:a,async revalidate(){const I=g.getState(),C=I.connections;let E=I.current;for(const[,N]of C){const _=N.connector;_.isAuthorized&&await _.isAuthorized()||(C.delete(_.uid),E===_.uid&&(E=null))}g.setState(N=>({...N,connections:C,current:E}))},store:g,ssr:!!s,syncConnectedChain:r,transports:i.transports,chains:{setState(I){const C=typeof I=="function"?I(o.getState()):I;if(C.length!==0)return o.setState(C,!0)},subscribe(I){return o.subscribe(I)}},connectors:{providerDetailToConnector:d,setup:u,setState(I){return l.setState(typeof I=="function"?I(l.getState()):I,!0)},subscribe(I){return l.subscribe(I)}},events:{change:b,connect:w,disconnect:A}}}}function L8e(t,e){const{initialState:n,reconnectOnMount:r}=e;return n&&!t._internal.store.persist.hasHydrated()&&t.setState({...n,chainId:t.chains.some(s=>s.id===n.chainId)?n.chainId:t.chains[0].id,connections:r?n.connections:new Map,status:r?"reconnecting":"disconnected"}),{async onMount(){t._internal.ssr&&(await t._internal.store.persist.rehydrate(),t._internal.mipd&&t._internal.connectors.setState(s=>{var l;const i=new Set;for(const u of s??[])if(u.rdns){const d=Array.isArray(u.rdns)?u.rdns:[u.rdns];for(const p of d)i.add(p)}const a=[],o=((l=t._internal.mipd)==null?void 0:l.getProviders())??[];for(const u of o){if(i.has(u.info.rdns))continue;const d=t._internal.connectors.providerDetailToConnector(u),p=t._internal.connectors.setup(d);a.push(p)}return[...s,...a]})),r?m8e(t):t.storage&&t.setState(s=>({...s,connections:new Map}))}}}function O8e(t){const{children:e,config:n,initialState:r,reconnectOnMount:s=!0}=t,{onMount:i}=L8e(n,{initialState:r,reconnectOnMount:s});n._internal.ssr||i();const a=T.useRef(!0);return T.useEffect(()=>{if(a.current&&n._internal.ssr)return i(),()=>{a.current=!1}},[]),e}const vee=T.createContext(void 0);function $8e(t){const{children:e,config:n}=t,r={value:n};return T.createElement(O8e,t,T.createElement(vee.Provider,r,e))}const F8e="3.1.0",B8e=()=>`wagmi@${F8e}`;class U8e extends YP{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return B8e()}}class z8e extends U8e{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function V8e(t={}){const e=t.config??T.useContext(vee);if(!e)throw new z8e;return e}var bee={exports:{}},wee={},xee={exports:{}},Tee={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pm=T;function H8e(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var W8e=typeof Object.is=="function"?Object.is:H8e,G8e=pm.useState,K8e=pm.useEffect,Y8e=pm.useLayoutEffect,q8e=pm.useDebugValue;function X8e(t,e){var n=e(),r=G8e({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return Y8e(function(){s.value=n,s.getSnapshot=e,Lk(s)&&i({inst:s})},[t,n,e]),K8e(function(){return Lk(s)&&i({inst:s}),t(function(){Lk(s)&&i({inst:s})})},[t]),q8e(n),n}function Lk(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!W8e(t,n)}catch{return!0}}function Z8e(t,e){return e()}var J8e=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Z8e:X8e;Tee.useSyncExternalStore=pm.useSyncExternalStore!==void 0?pm.useSyncExternalStore:J8e;xee.exports=Tee;var Q8e=xee.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H2=T,eFe=Q8e;function tFe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var nFe=typeof Object.is=="function"?Object.is:tFe,rFe=eFe.useSyncExternalStore,sFe=H2.useRef,iFe=H2.useEffect,aFe=H2.useMemo,oFe=H2.useDebugValue;wee.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=sFe(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=aFe(function(){function l(h){if(!u){if(u=!0,d=h,h=r(h),s!==void 0&&a.hasValue){var y=a.value;if(s(y,h))return p=y}return p=h}if(y=p,nFe(d,h))return y;var m=r(h);return s!==void 0&&s(y,m)?(d=h,y):(d=h,p=m)}var u=!1,d,p,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,s]);var o=rFe(t,i[0],i[1]);return iFe(function(){a.hasValue=!0,a.value=o},[o]),oFe(o),o};bee.exports=wee;var lFe=bee.exports;const Ok=t=>typeof t=="object"&&!Array.isArray(t);function cFe(t,e,n=e,r=z1){const s=T.useRef([]),i=lFe.useSyncExternalStoreWithSelector(t,e,n,a=>a,(a,o)=>{if(Ok(a)&&Ok(o)&&s.current.length){for(const l of s.current)if(!r(a[l],o[l]))return!1;return!0}return r(a,o)});return T.useMemo(()=>{if(Ok(i)){const a={...i};let o={};for(const[l,u]of Object.entries(a))o={...o,[l]:{configurable:!1,enumerable:!0,get:()=>(s.current.includes(l)||s.current.push(l),u)}};return Object.defineProperties(a,o),a}return i},[i])}function Aee(t={}){const e=V8e(t);return cFe(n=>y8e(e,{onChange:n}),()=>mee(e))}const uFe=()=>{const t=zP();return B$e({mutationFn:async({assetId:e,licenseTermsId:n})=>{const{data:r}=await VP.post("/story/attach-license-to-asset",{assetId:e,licenseTermsId:n});return r.data},onSuccess:(e,n)=>{t.invalidateQueries({queryKey:["userAssets"]}),t.invalidateQueries({queryKey:["asset",n.assetId]})}})},dFe=[{licenseTermsId:"1",type:"commercial_remix",royalty:10,currency:"ETH"},{licenseTermsId:"2",type:"non_commercial",royalty:0,currency:"ETH"},{licenseTermsId:"55",type:"commercial_remix",royalty:15,currency:"USDC"}],pFe=()=>see({queryKey:["licenseTerms"],queryFn:async()=>Promise.resolve(dFe),staleTime:1/0}),fFe=({onClose:t,onSelect:e,licenseOptions:n,isLoading:r,open:s})=>s?c.jsx(Os,{open:s,onOpenChange:t,children:c.jsxs(ws,{children:[c.jsx(xs,{children:c.jsx(Ts,{children:"Select License Terms"})}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 py-4",children:n==null?void 0:n.map(i=>c.jsxs(_e,{children:[c.jsx(_t,{children:c.jsx(Lt,{children:i.type==="commercial_remix"?"Commercial Remix":"Non-Commercial"})}),c.jsxs(Le,{children:[c.jsxs("p",{children:["Royalty: ",i.royalty,"%"]}),c.jsxs("p",{children:["Currency: ",i.currency]}),c.jsx(re,{onClick:()=>e(i.licenseTermsId),disabled:r,className:"w-full mt-4",children:r?"Attaching...":"Select This License"})]})]},i.licenseTermsId))})]})}):null,hFe=({status:t})=>{const e={registered:"default",pending:"secondary",disputed:"destructive",rejected:"outline"}[t];return c.jsx(st,{variant:e,children:t})},mFe=({asset:t})=>{const[e,n]=T.useState(!1),r=uFe(),{data:s}=pFe(),i=async o=>{try{await r.mutateAsync({assetId:t._id,licenseTermsId:o}),n(!1)}catch(l){console.error("Failed to attach license:",l)}},a=t.status==="registered"&&t.storyIpId&&!t.licenseTermsId;return c.jsxs(_e,{children:[c.jsx(_t,{children:c.jsx("img",{src:t.ipfsUrl,alt:t.originalFilename,className:"rounded-md"})}),c.jsxs(Le,{children:[c.jsx(Lt,{className:"text-lg font-bold mb-2",children:t.originalFilename}),c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsx(hFe,{status:t.status}),t.storyIpId?c.jsxs("div",{className:"text-xs",children:["IP ID: ",t.storyIpId.slice(0,10),"..."]}):null]}),t.licenseTermsId?c.jsxs(st,{variant:"secondary",children:["Licensed (#",t.licenseTermsId,")"]}):c.jsx(st,{variant:"outline",children:"No License"})]}),c.jsx(wS,{children:a&&c.jsx(re,{onClick:()=>n(!0),className:"w-full",children:"Attach License"})}),c.jsx(fFe,{open:e,onClose:()=>n(!1),onSelect:i,licenseOptions:s,isLoading:r.isPending})]})},XP=1315,Iee=`0x${XP.toString(16)}`,vF={chainId:Iee,chainName:"Story Aeneid Testnet",nativeCurrency:{name:"IP",symbol:"IP",decimals:18},rpcUrls:["https://aeneid.storyrpc.io"],blockExplorerUrls:["https://aeneid.storyscan.xyz"]};Gm({id:XP,name:"Story Aeneid Testnet",network:"aeneid",nativeCurrency:{name:"IP",symbol:"IP",decimals:18},rpcUrls:{default:{http:["https://aeneid.storyrpc.io"]},public:{http:["https://aeneid.storyrpc.io"]}},blockExplorers:{default:{name:"StoryScan",url:"https://aeneid.storyscan.xyz"}}});function yFe(){const[t,e]=T.useState("Ready to test"),[n,r]=T.useState(!1),[s,i]=T.useState(null),[a,o]=T.useState(null),[l,u]=T.useState(null),[d,p]=T.useState(null),[f,h]=T.useState(""),[y,m]=T.useState(""),[g,v]=T.useState(""),[b,w]=T.useState(null),[A,I]=T.useState("text"),[C,E]=T.useState(!1),[N,_]=T.useState(!1),[U,$]=T.useState(null),[B,j]=T.useState(!1),[x,k]=T.useState({type:"commercial_remix",royaltyPercent:10}),M=O=>da(sc(O)),P=async O=>{const H=await O.arrayBuffer(),Y=new Uint8Array(H);return da(Y)},S=O=>{var Y;const H=(Y=O.target.files)==null?void 0:Y[0];H&&(w(H),H.type.startsWith("video/")?I("video"):H.type.startsWith("image/")?I("image"):H.type.startsWith("audio/")?I("audio"):I("text"))},L=async()=>{if(!window.ethereum)throw new Error("MetaMask not found");try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:Iee}]})}catch(O){if(O.code===4902)await window.ethereum.request({method:"wallet_addEthereumChain",params:[vF]});else throw O}},V=async()=>{var O;r(!0),o(null),i(null),j(!1),E(!1),_(!1);try{e(" Connecting to Aeneid network..."),await L();const H=new eo(window.ethereum);await H.send("eth_requestAccounts",[]);const G=await H.getSigner().getAddress();if((await H.getNetwork()).chainId!==XP)throw new Error("Wrong network! Please switch to Aeneid.");e(" Preparing content...");let te;if(b)te=await P(b);else{const fe=`# Test IP Asset

Created at: ${new Date().toISOString()}`;te=M(fe)}h(te),e(" Uploading metadata to IPFS...");const q={title:(b==null?void 0:b.name)||"Test IP Asset",description:`IP Asset created on ${new Date().toISOString()}`,contentHash:te,assetType:A,creator:G,createdAt:new Date().toISOString()},ne={name:(b==null?void 0:b.name)||"Test IP Asset NFT",description:`NFT for IP Asset - ${A}`,image:"",attributes:[{trait_type:"Asset Type",value:A},{trait_type:"Creator",value:G},{trait_type:"Content Hash",value:te}]};console.log(" Uploading IP metadata to Pinata..."),console.log("IP Metadata:",q);let Re,se;try{Re=await C1(q,`ip-metadata-${te}`),console.log(` IP Metadata uploaded: ${Re}`)}catch(fe){throw console.error(" Failed to upload IP metadata to Pinata:",fe),new Error(`IPFS upload failed: ${fe instanceof Error?fe.message:"Unknown error"}`)}console.log(" Uploading NFT metadata to Pinata..."),console.log("NFT Metadata:",ne);try{se=await C1(ne,`nft-metadata-${te}`),console.log(` NFT Metadata uploaded: ${se}`)}catch(fe){throw console.error(" Failed to upload NFT metadata to Pinata:",fe),new Error(`IPFS upload failed: ${fe instanceof Error?fe.message:"Unknown error"}`)}m(Re),v(se),e(" Checking for similar content (RAG Detection Engine)...");const ve=await Vu.generateMintToken({creatorAddress:G,contentHash:te,ipMetadataURI:Re,nftMetadataURI:se,assetType:A});if("error"in ve&&ve.error==="SIMILARITY_BLOCKED"){e(" Upload blocked due to high similarity"),$(ve.similarity),_(!0),r(!1);return}const We=ve;if(u(We),(O=We.similarity)!=null&&O.warning){e(" Similar content detected - review required"),$(We.similarity),E(!0),r(!1);return}e(" Content verified clean! Minting..."),await F(We,G,H,te,Re,se)}catch(H){console.error("Minting error:",H),o(H.message||"Unknown error"),e(" Failed")}finally{r(!1)}},F=async(O,H,Y,G,Z,te)=>{try{e(" Minting IP Asset on Story Protocol...");const q=Y.getSigner(),ne="0xbe39E1C756e921BD25DF86e7AAa31106d1eb0424",Re="0x78AD3d22E62824945DED384a5542Ad65de16E637",se=["function mintAndRegisterIp(address spgNftContract, address recipient, tuple(string ipMetadataURI, bytes32 ipMetadataHash, string nftMetadataURI, bytes32 nftMetadataHash) ipMetadata, bool allowDuplicates) returns (address ipId, uint256 tokenId)"],ve=new at(ne,se,q),We={ipMetadataURI:Z,ipMetadataHash:da(sc(Z)),nftMetadataURI:te,nftMetadataHash:da(sc(te))};console.log(" Calling RegistrationWorkflows.mintAndRegisterIp DIRECTLY"),console.log("SPG NFT Contract:",Re),console.log("Recipient:",H),console.log("Metadata:",We),e(" Simulating transaction to get return values...");const{ipId:fe,tokenId:ee}=await ve.callStatic.mintAndRegisterIp(Re,H,We,!0);console.log(" Predicted return values:",{ipId:fe,tokenId:ee.toString()}),e(" Sending transaction to blockchain...");const pe=await ve.mintAndRegisterIp(Re,H,We,!0,{gasLimit:5e6});console.log(" Transaction sent:",pe.hash),e(" Waiting for confirmation...");const xe=await pe.wait();console.log(" Transaction confirmed!",xe);const Fe=fe,Ze=ee.toNumber(),Oe={ipId:Fe,tokenId:Ze,txHash:xe.transactionHash};console.log(" Mint result:",Oe);try{e(" Updating backend with IP ID..."),await Vu.updateTokenAfterMint({nonce:O.nonce,ipId:Oe.ipId,tokenId:Oe.tokenId,txHash:Oe.txHash}),console.log(" Backend updated successfully with IP ID and token ID"),e(" Backend updated! IP Asset registered successfully.")}catch(rt){console.error(" Backend update failed:",rt),e(" IP minted but backend update failed. Asset may show as pending.")}e(" IP Asset Registered! Configure license terms below."),p(Oe),j(!0)}catch(q){throw console.error("Minting failed:",q),q}},R=async()=>{E(!1),r(!0);try{if(!l)throw new Error("No mint token available");if(!f)throw new Error("No content hash available");if(!y||!g)throw new Error("Metadata URIs not available");const O=new eo(window.ethereum),Y=await O.getSigner().getAddress();e(" Proceeding as original work..."),await F(l,Y,O,f,y,g)}catch(O){console.error("Minting error:",O),o(O.message||"Unknown error"),e(" Failed")}finally{r(!1)}},z=async()=>{E(!1),r(!0);try{if(!l||!U||!("warning"in U))throw new Error("No similarity data available");if(!f||!y||!g)throw new Error("Metadata not available");const O=new eo(window.ethereum),Y=await O.getSigner().getAddress();e(" Registering as derivative work..."),await F(l,Y,O,f,y,g),localStorage.setItem("pendingDerivativeParent",U.topMatch.ipId)}catch(O){console.error("Derivative registration error:",O),o(O.message||"Unknown error"),e(" Failed")}finally{r(!1)}};async function Q(){if(!d||!l){o("No mint result to attach license to.");return}r(!0),o(null);try{e("Attaching license terms..."),e("Getting or registering license terms...");const O=await xP(x.type,x.royaltyPercent);e("Attaching license to IP asset on-chain...");const H=await TP(d.ipId,O);console.log(" License attached on-chain! TX:",H.txHash),e(" Finalizing registration with backend..."),await Vu.finalizeMint({nonce:l.nonce,ipId:d.ipId,tokenId:d.tokenId,txHash:d.txHash,licenseTermsId:O,licenseType:x.type,royaltyPercent:x.royaltyPercent,licenseTxHash:H.txHash}),console.log(" Backend finalized successfully with license info"),e(" SUCCESS! IP fully registered with license terms in backend."),i({...d,licenseTermsId:O,licenseTxHash:H.txHash}),j(!1)}catch(O){console.error("License attachment failed:",O),o(O.message||"License attachment failed"),e(" License attachment failed")}finally{r(!1)}}return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-black text-white p-8",children:[c.jsxs("div",{className:"max-w-2xl mx-auto",children:[c.jsx("h1",{className:"text-4xl font-bold mb-8",children:" Story Protocol Minting Test"}),c.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-lg p-6 mb-6",children:[c.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Upload Content (Optional)"}),c.jsxs("div",{className:"border-2 border-dashed border-white/30 rounded-lg p-8 text-center mb-4",children:[c.jsx("input",{type:"file",accept:"video/*,image/*,audio/*,text/*,.md,.txt",onChange:S,className:"hidden",id:"file-upload"}),c.jsx("label",{htmlFor:"file-upload",className:"cursor-pointer",children:c.jsx("div",{className:"text-white",children:b?c.jsxs(c.Fragment,{children:[c.jsxs("p",{className:"font-medium text-lg mb-2",children:[" ",b.name]}),c.jsxs("p",{className:"text-sm text-gray-300",children:[(b.size/1024).toFixed(2)," KB  ",b.type||"Unknown type"]})]}):c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"text-lg mb-2",children:" Click to upload"}),c.jsx("p",{className:"text-sm text-gray-300",children:"Video, Image, Audio, or Text file"})]})})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Asset Type"}),c.jsxs("select",{value:A,onChange:O=>I(O.target.value),className:"w-full bg-white/10 border border-white/30 rounded-lg px-4 py-2 text-white",children:[c.jsx("option",{value:"text",children:"Text"}),c.jsx("option",{value:"image",children:"Image"}),c.jsx("option",{value:"video",children:"Video"}),c.jsx("option",{value:"audio",children:"Audio"})]}),c.jsx("p",{className:"text-xs text-gray-400 mt-1",children:b?"Auto-detected from file":"Select the type of content you're minting"})]})]}),c.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-lg p-6 mb-6",children:[c.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Full E2E Minting Flow"}),c.jsxs("p",{className:"text-gray-300 mb-4",children:["Tests: Wallet Connect  ",c.jsx("strong",{children:"RAG Similarity Check"}),"  Backend Auth  Mint IP  Attach License"]}),c.jsx("button",{onClick:V,disabled:n||B,className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-white font-bold py-4 px-8 rounded-lg transition-all duration-300 transform hover:scale-105",children:n?" Processing...":b?" Upload & Mint IP Asset":" Start Full Minting Flow"})]}),c.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-lg p-6 mb-6",children:[c.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Status"}),c.jsx("p",{className:"text-lg font-mono",children:t})]}),a&&c.jsxs("div",{className:"bg-red-500/20 border-2 border-red-500 rounded-lg p-6 mb-6",children:[c.jsx("h3",{className:"text-xl font-semibold mb-2 text-red-400",children:" Error"}),c.jsx("p",{className:"font-mono text-red-300",children:a})]}),B&&!s&&c.jsxs("div",{className:"bg-blue-500/20 border-2 border-blue-400 rounded-lg p-6 mb-6",children:[c.jsx("h3",{className:"text-2xl font-semibold mb-4 text-blue-300",children:" IP Registered! Now, Attach a License."}),c.jsxs("div",{className:"space-y-2 font-mono text-sm mb-6",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-400",children:"IP ID:"})," ",c.jsx("p",{className:"text-blue-200 break-all",children:d==null?void 0:d.ipId})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-400",children:"Token ID:"})," ",c.jsx("p",{className:"text-blue-200",children:d==null?void 0:d.tokenId})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"license-type-selector bg-black/20 p-4 rounded-md",children:[c.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[c.jsx("input",{type:"radio",name:"licenseType",className:"form-radio h-5 w-5 text-blue-400 bg-gray-700 border-gray-600 focus:ring-blue-500",checked:x.type==="commercial_remix",onChange:()=>k({...x,type:"commercial_remix"})}),c.jsxs("div",{children:[c.jsx("span",{className:"font-semibold",children:"Commercial Remix"}),c.jsx("span",{className:"block text-xs text-gray-400",children:" Commercial use  Derivatives  Attribution"})]})]}),c.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer mt-2",children:[c.jsx("input",{type:"radio",name:"licenseType",className:"form-radio h-5 w-5 text-blue-400 bg-gray-700 border-gray-600 focus:ring-blue-500",checked:x.type==="non_commercial",onChange:()=>k({...x,type:"non_commercial",royaltyPercent:0})}),c.jsxs("div",{children:[c.jsx("span",{className:"font-semibold",children:"Non-Commercial Only"}),c.jsx("span",{className:"block text-xs text-gray-400",children:" No commercial use  Derivatives  Attribution"})]})]})]}),x.type==="commercial_remix"&&c.jsxs("div",{className:"royalty-slider bg-black/20 p-4 rounded-md",children:[c.jsxs("label",{className:"block mb-2 font-semibold",children:["Royalty Percentage: ",x.royaltyPercent,"%"]}),c.jsx("input",{type:"range",min:"0",max:"100",value:x.royaltyPercent,onChange:O=>k({...x,royaltyPercent:parseInt(O.target.value)}),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer"})]}),c.jsx("button",{onClick:Q,disabled:n,className:"w-full bg-gradient-to-r from-blue-600 to-teal-500 hover:from-blue-700 hover:to-teal-600 disabled:opacity-50 text-white font-bold py-3 px-6 rounded-lg transition-all",children:n?" Attaching...":"Attach License & Finalize"})]})]}),s&&c.jsxs("div",{className:"bg-green-500/20 border-2 border-green-500 rounded-lg p-6",children:[c.jsx("h3",{className:"text-xl font-semibold mb-4 text-green-400",children:" IP Fully Registered!"}),c.jsxs("div",{className:"space-y-2 font-mono text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-400",children:"IP ID:"}),c.jsx("p",{className:"text-green-300 break-all",children:s.ipId})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-400",children:"Token ID:"}),c.jsx("p",{className:"text-green-300",children:s.tokenId})]}),s.licenseTermsId&&c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-400",children:"License Terms ID:"}),c.jsx("p",{className:"text-green-300",children:s.licenseTermsId})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-400",children:"Mint Tx Hash:"}),c.jsx("p",{className:"text-green-300 break-all",children:s.txHash})]}),s.licenseTxHash&&c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-400",children:"License Tx Hash:"}),c.jsx("p",{className:"text-green-300 break-all",children:s.licenseTxHash})]})]}),c.jsx("a",{href:`${vF.blockExplorerUrls[0]}/tx/${s.licenseTxHash||s.txHash}`,target:"_blank",rel:"noopener noreferrer",className:"mt-4 inline-block bg-blue-600 hover:bg-blue-700 px-6 py-2 rounded-lg transition-colors",children:"View on Explorer "})]}),c.jsx(gFe,{}),c.jsxs("div",{className:"mt-8 bg-white/5 rounded-lg p-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-2",children:" What This Tests:"}),c.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-300",children:[c.jsxs("li",{children:[" ",c.jsx("strong",{children:"RAG-Powered Similarity Detection"})," (NEW!)"]}),c.jsx("li",{children:"File upload support for real content"}),c.jsx("li",{children:"Aeneid network connection and switching"}),c.jsx("li",{children:"Backend signature authorization"}),c.jsx("li",{children:"Direct user wallet call to RegistrationWorkflows"}),c.jsx("li",{children:"Story Protocol IP registration"}),c.jsx("li",{children:"License attachment with user choice"}),c.jsx("li",{children:"Complete end-to-end flow (upload  detect  mint  license)"})]})]})]}),C&&U&&"warning"in U&&c.jsx(OJ,{isOpen:C,onClose:()=>E(!1),similarityInfo:U,onProceedAsOriginal:R,onRegisterAsDerivative:z}),N&&U&&!("warning"in U)&&c.jsx($J,{isOpen:N,onClose:()=>{_(!1),w(null)},blockedInfo:U})]})}function gFe(){const{address:t}=Aee(),{data:e,isLoading:n,error:r}=HP({walletAddress:t});return t?c.jsxs("div",{className:"mt-8 bg-white/5 rounded-lg p-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Your Minted Assets"}),n&&c.jsx("p",{children:"Loading your assets..."}),r&&c.jsxs("p",{children:["Error loading assets: ",r.message]}),e&&c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.assets.map(s=>c.jsx(mFe,{asset:s},s._id))})]}):c.jsxs("div",{className:"mt-8 bg-white/5 rounded-lg p-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Your Minted Assets"}),c.jsx("p",{children:"Please connect your wallet to see your minted assets."})]})}const kee="0x78AD3d22E62824945DED384a5542Ad65de16E637",vFe="0x77319B4031e6eF1250907aa00018B8B1c67a244b",Cee="https://aeneid.storyrpc.io",bFe=["function ipId(uint256 chainId, address tokenContract, uint256 tokenId) view returns (address)"],wFe=["function ownerOf(uint256 tokenId) view returns (address)","function tokenURI(uint256 tokenId) view returns (string)","function totalSupply() view returns (uint256)"];async function xFe(t){const e=new YT(Cee);return await new at(vFe,bFe,e).ipId(1315,kee,t)}async function TFe(t){const e=new YT(Cee),n=new at(kee,wFe,e);try{const r=await n.totalSupply(),s=[];for(let i=1;i<=r.toNumber();i++)try{(await n.ownerOf(i)).toLowerCase()===t.toLowerCase()&&s.push(i)}catch{}return s}catch(r){return console.error("Error fetching owned tokens:",r),[]}}async function AFe(t){const e=await TFe(t),n=[];for(const r of e)try{const s=await xFe(r);n.push({tokenId:r,ipId:s})}catch(s){console.error(`Error getting IP ID for token ${r}:`,s)}return n}const $k="0x78AD3d22E62824945DED384a5542Ad65de16E637",IFe="0x77319B4031e6eF1250907aa00018B8B1c67a244b",kFe="https://aeneid.storyrpc.io",CFe=["function tokenURI(uint256 tokenId) view returns (string)","function ownerOf(uint256 tokenId) view returns (address)","function totalSupply() view returns (uint256)"],EFe=["function ipId(uint256 chainId, address tokenContract, uint256 tokenId) view returns (address)"];async function NFe(t,e){const n=new YT(kFe),r=new at($k,CFe,n),s=new at(IFe,EFe,n);try{console.log(` Searching for IPFS CID: ${t} owned by ${e}`);const i=await r.totalSupply();console.log(` Total NFTs minted: ${i.toString()}`);for(let a=1;a<=i.toNumber();a++)try{if((await r.ownerOf(a)).toLowerCase()!==e.toLowerCase())continue;console.log(` Checking Token #${a} (owned by user)`);const l=await r.tokenURI(a);if(console.log(`  Token URI: ${l}`),l.includes(t))return console.log(` MATCH! Token #${a} has matching IPFS CID`),{ipId:await s.ipId(1315,$k,a),tokenId:a};try{const u=l.replace("ipfs://","https://gateway.pinata.cloud/ipfs/"),p=await(await fetch(u)).json();if(JSON.stringify(p).toLowerCase().includes(t.toLowerCase()))return console.log(` MATCH in metadata! Token #${a}`),{ipId:await s.ipId(1315,$k,a),tokenId:a}}catch{console.log(`  Could not fetch metadata for token #${a}`)}}catch{continue}return console.log(" No matching token found"),null}catch(i){return console.error("Error searching for IP:",i),null}}async function SFe(t){const e=new Map;for(const n of t){console.log(`
 Looking up asset: ${n._id}`);const r=await NFe(n.ipfsCid,n.creatorWallet);r?(e.set(n._id,r),console.log(` Found: ${n._id}  Token #${r.tokenId}`)):console.log(` Not found: ${n._id}`),await new Promise(s=>setTimeout(s,1e3))}return e}const Eee="0x523",Fk={chainId:Eee,chainName:"Story Aeneid Testnet",nativeCurrency:{name:"IP",symbol:"IP",decimals:18},rpcUrls:["https://aeneid.storyrpc.io"],blockExplorerUrls:["https://aeneid.storyscan.xyz"]};function RFe(){const{address:t}=Aee(),{data:e,isLoading:n,error:r,refetch:s}=HP({walletAddress:t}),[i,a]=T.useState(""),[o,l]=T.useState(""),[u,d]=T.useState("commercial_remix"),[p,f]=T.useState(10),[h,y]=T.useState("Ready"),[m,g]=T.useState(!1),[v,b]=T.useState(null),[w,A]=T.useState([]),[I,C]=T.useState(new Map),E=async()=>{if(!window.ethereum)throw new Error("MetaMask not found");try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:Eee}]})}catch($){if($.code===4902)await window.ethereum.request({method:"wallet_addEthereumChain",params:[Fk]});else throw $}},N=async()=>{var $,B,j,x;if(!i.trim()){alert("Please enter an IP ID");return}g(!0),y("Processing..."),b(null);try{y(" Switching to Aeneid network..."),await E(),y(" Getting license terms ID...");const k=await xP(u,p);console.log("License Terms ID:",k),y(" Attaching license to IP...");const{txHash:M}=await TP(i.trim(),k);if(o.trim()){y(" Updating backend...");const S=await fetch(`http://localhost:3001/api/assets/${o}/finalize`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({storyIpId:i.trim(),licenseTermsId:k,licenseTxHash:M})});S.ok?(console.log(" Backend updated successfully"),s()):console.warn("Backend update failed:",await S.text())}y(" License attached successfully!"),b({ipId:i.trim(),licenseTermsId:k,txHash:M,explorerUrl:`${Fk.blockExplorerUrls[0]}/tx/${M}`})}catch(k){console.error("License attachment error:",k);const M=(($=k.message)==null?void 0:$.toLowerCase())||"",P=((j=(B=k.error)==null?void 0:B.data)==null?void 0:j.data)||((x=k.data)==null?void 0:x.data)||"";M.includes("execution reverted")&&P.includes("55d48f8d")?(y(" License terms are already attached to this IP!"),b({ipId:i.trim(),licenseTermsId,alreadyAttached:!0,message:"This IP already has license terms attached. No transaction needed."})):y(` Error: ${k.message}`)}finally{g(!1)}},_=async()=>{g(!0),y(" Fetching your IP IDs...");try{if(!window.ethereum)throw new Error("MetaMask not found");await E();const $=new eo(window.ethereum);await $.send("eth_requestAccounts",[]);const j=await $.getSigner().getAddress();console.log("Fetching IP IDs for:",j);const x=await AFe(j);A(x),y(` Found ${x.length} IP(s) owned by your wallet`),x.length>0&&a(x[0].ipId)}catch($){console.error("Error fetching IP IDs:",$),y(` Error: ${$.message}`)}finally{g(!1)}},U=async()=>{if(!e||e.assets.length===0){y(" No assets to search");return}g(!0),y(" Searching blockchain for missing IP IDs...");try{const $=e.assets.filter(j=>!j.storyIpId);if($.length===0){y(" All assets already have IP IDs!"),g(!1);return}console.log(` Found ${$.length} assets without IP IDs`),y(` Searching for ${$.length} missing IP ID(s)...`);const B=await SFe($.map(j=>({_id:j._id,ipfsCid:j.ipfsCid,creatorWallet:j.creatorWallet})));if(C(B),B.size>0){y(` Found ${B.size} IP ID(s)! Click "Update Backend" on each asset to save.`);const j="http://localhost:3001/api";let x=0;for(const[k,{ipId:M,tokenId:P}]of B.entries())try{(await fetch(`${j}/assets/${k}/finalize`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({storyIpId:M,storyTokenId:P,status:"registered"})})).ok&&(x++,console.log(` Updated backend for ${k}`))}catch(S){console.error(`Failed to update ${k}:`,S)}x>0&&(y(` Found and updated ${x} asset(s) in backend!`),s())}else y(" Could not find any matching IP IDs on blockchain")}catch($){console.error("Error finding IP IDs:",$),y(` Error: ${$.message}`)}finally{g(!1)}};return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-indigo-900 to-blue-900 text-white p-8",children:c.jsxs("div",{className:"max-w-2xl mx-auto",children:[c.jsx("h1",{className:"text-4xl font-bold mb-8",children:" Attach License to Existing IP"}),!t&&c.jsx("div",{className:"bg-yellow-500/20 border border-yellow-500/50 rounded-lg p-6 mb-6",children:c.jsx("p",{className:"text-yellow-300",children:" Please connect your wallet to see your assets and attach licenses."})}),t&&c.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 mb-6",children:[c.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Your Backend Assets"}),n&&c.jsx("p",{className:"text-gray-300",children:"Loading your assets..."}),r&&c.jsxs("p",{className:"text-red-400",children:["Error: ",r.message]}),e&&e.assets.length===0&&c.jsx("p",{className:"text-gray-400",children:"No assets found in backend."}),e&&e.assets.length>0&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("button",{onClick:U,disabled:m,className:"w-full bg-green-600 hover:bg-green-700 disabled:bg-gray-600 px-4 py-3 rounded-lg font-medium transition-all disabled:cursor-not-allowed",children:m?" Searching blockchain...":" Find Missing IP IDs (Auto-Update Backend)"}),c.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"This will scan the blockchain for tokens matching your assets' IPFS CIDs and automatically update the backend."})]}),c.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:e.assets.map($=>{var k;const B=I.get($._id),j=$.storyIpId||(B==null?void 0:B.ipId),x=$.storyTokenId||(B==null?void 0:B.tokenId);return c.jsxs("div",{className:`border rounded-lg p-4 transition-all ${o===$._id?"border-blue-500 bg-blue-500/20":"border-white/20 bg-white/5 hover:bg-white/10"}`,children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-semibold",children:$.originalFilename}),c.jsxs("p",{className:"text-xs text-gray-400 font-mono mt-1",children:["ID: ",$._id]})]}),c.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${$.status==="registered"?"bg-green-500/20 text-green-300":$.status==="pending"?"bg-yellow-500/20 text-yellow-300":"bg-gray-500/20 text-gray-300"}`,children:$.status})]}),c.jsxs("div",{className:"space-y-1 text-sm",children:[j?c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-400",children:"IP ID:"}),B&&!$.storyIpId&&c.jsx("span",{className:"ml-2 px-2 py-0.5 bg-green-500/20 text-green-300 text-xs rounded",children:"Just Found!"}),c.jsx("p",{className:"font-mono text-xs text-green-300 break-all",children:j})]}):c.jsx("p",{className:"text-red-400 text-xs",children:" No Story IP ID"}),x&&c.jsxs("p",{className:"text-gray-400",children:["Token ID: ",c.jsx("span",{className:"text-white",children:x})]}),$.licenseTermsId?c.jsxs("p",{className:"text-green-400 text-xs",children:[" Licensed (Terms #",$.licenseTermsId,")"]}):c.jsx("p",{className:"text-yellow-400 text-xs",children:" No license attached"}),c.jsxs("p",{className:"text-gray-400 text-xs",children:["IPFS: ",c.jsxs("span",{className:"text-white",children:[(k=$.ipfsCid)==null?void 0:k.slice(0,20),"..."]})]})]}),c.jsx("button",{onClick:()=>{l($._id),j&&a(j)},className:`mt-3 w-full px-4 py-2 rounded font-medium transition-all ${j&&!$.licenseTermsId?"bg-blue-600 hover:bg-blue-700":j?"bg-gray-600 hover:bg-gray-700":"bg-red-600/50 cursor-not-allowed"}`,disabled:!j,children:j?$.licenseTermsId?" Already Licensed (Re-license)":B&&!$.storyIpId?" Select (Just Found!)":" Select to License":" Missing IP ID"})]},$._id)})})]})]}),c.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 space-y-6",children:[c.jsx("h2",{className:"text-2xl font-semibold",children:"License Configuration"}),c.jsx("div",{className:"flex gap-4",children:c.jsx("button",{onClick:_,disabled:m||!t,className:"flex-1 bg-indigo-600 hover:bg-indigo-700 disabled:bg-gray-600 px-4 py-2 rounded-lg font-medium transition-all disabled:cursor-not-allowed",children:" Fetch IP IDs from Blockchain"})}),c.jsx("p",{className:"text-sm text-gray-400",children:" Use this if your backend assets don't have IP IDs yet. It will scan the blockchain for tokens you own."}),w.length>0&&c.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[c.jsx("h4",{className:"font-semibold mb-2",children:"Blockchain IP Assets Found:"}),c.jsx("p",{className:"text-xs text-gray-400 mb-3",children:"These are tokens you own on the Story Protocol blockchain."}),c.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:w.map(({tokenId:$,ipId:B})=>c.jsx("button",{onClick:()=>a(B),className:`w-full text-left px-3 py-2 rounded border ${i===B?"border-blue-500 bg-blue-500/20":"border-white/20 hover:bg-white/5"} transition-all`,children:c.jsxs("div",{className:"font-mono text-sm",children:[c.jsxs("span",{className:"text-gray-400",children:["Token #",$]}),c.jsx("br",{}),c.jsx("span",{className:"text-xs break-all",children:B})]})},$))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Story IP ID"}),c.jsx("input",{type:"text",value:i,onChange:$=>a($.target.value),placeholder:"0x... (auto-filled when you select an asset above)",className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:!t}),c.jsx("p",{className:"text-xs text-gray-400 mt-1",children:i?" IP ID ready":"Select an asset from above to auto-fill"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Backend Asset ID"}),c.jsx("input",{type:"text",value:o,onChange:$=>l($.target.value),placeholder:"Auto-filled when you select an asset above",className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:!t}),c.jsx("p",{className:"text-xs text-gray-400 mt-1",children:o?" Will update backend after license attachment":"Optional - for backend sync"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"License Type"}),c.jsxs("select",{value:u,onChange:$=>d($.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"commercial_remix",children:"Commercial Remix (with royalties)"}),c.jsx("option",{value:"non_commercial",children:"Non-Commercial (no royalties)"})]})]}),u==="commercial_remix"&&c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Royalty Percentage: ",p,"%"]}),c.jsx("input",{type:"range",min:"0",max:"100",value:p,onChange:$=>f(parseInt($.target.value)),className:"w-full"})]}),c.jsx("button",{onClick:N,disabled:m||!i.trim()||!t,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 disabled:from-gray-600 disabled:to-gray-600 px-8 py-4 rounded-lg font-semibold text-lg transition-all disabled:cursor-not-allowed",children:m?" Processing...":t?i.trim()?" Attach License to IP":" Select an IP Asset First":" Connect Wallet First"}),c.jsx("div",{className:"text-center font-medium",children:h})]}),v&&c.jsxs("div",{className:`mt-6 border-2 rounded-lg p-6 ${v.alreadyAttached?"bg-blue-500/20 border-blue-500":"bg-green-500/20 border-green-500"}`,children:[c.jsx("h3",{className:`text-xl font-semibold mb-4 ${v.alreadyAttached?"text-blue-400":"text-green-400"}`,children:v.alreadyAttached?" Already Licensed":" License Attached!"}),v.alreadyAttached&&c.jsx("p",{className:"text-blue-300 mb-4",children:v.message}),c.jsxs("div",{className:"space-y-2 font-mono text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-400",children:"IP ID:"}),c.jsx("p",{className:`break-all ${v.alreadyAttached?"text-blue-300":"text-green-300"}`,children:v.ipId})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-400",children:"License Terms ID:"}),c.jsx("p",{className:v.alreadyAttached?"text-blue-300":"text-green-300",children:v.licenseTermsId})]}),v.txHash&&c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-400",children:"Transaction Hash:"}),c.jsx("p",{className:"text-green-300 break-all",children:v.txHash})]})]}),v.explorerUrl&&c.jsx("a",{href:v.explorerUrl,target:"_blank",rel:"noopener noreferrer",className:"mt-4 inline-block bg-blue-600 hover:bg-blue-700 px-6 py-2 rounded-lg transition-colors",children:"View on Explorer "})]}),c.jsxs("div",{className:"mt-8 bg-white/5 rounded-lg p-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-2",children:" How to Use:"}),c.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-gray-300",children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Connect your wallet"})," - Your backend assets will appear"]}),c.jsxs("li",{children:[c.jsx("strong",{children:'Click "Find Missing IP IDs"'})," - This scans the blockchain for your minted tokens"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Wait for search to complete"})," - Backend will auto-update with found IP IDs"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Select an asset"})," - Click the asset you want to license"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Configure license"})," - Choose type and royalty percentage"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Attach license"})," - Confirm the transaction in your wallet"]})]}),c.jsx("div",{className:"mt-4 p-4 bg-blue-500/10 border border-blue-500/30 rounded",children:c.jsxs("p",{className:"text-blue-300 text-sm",children:[c.jsx("strong",{children:" How It Works:"}),' The "Find Missing IP IDs" button matches your backend assets to blockchain tokens by comparing IPFS metadata URIs. When a match is found, it automatically updates your backend with the IP ID and token number!']})}),c.jsx("div",{className:"mt-4 p-4 bg-green-500/10 border border-green-500/30 rounded",children:c.jsxs("p",{className:"text-green-300 text-sm",children:[c.jsx("strong",{children:" Your Assets:"})," You have ",(e==null?void 0:e.assets.filter($=>!$.storyIpId).length)||0," asset(s) missing IP IDs. Click the button above to find them automatically!"]})})]}),c.jsxs("div",{className:"mt-6 flex gap-4",children:[c.jsx("a",{href:"/",className:"flex-1 text-center bg-white/10 hover:bg-white/20 px-4 py-2 rounded-lg transition-colors",children:" Back to Home"}),c.jsx("a",{href:Fk.blockExplorerUrls[0],target:"_blank",rel:"noopener noreferrer",className:"flex-1 text-center bg-white/10 hover:bg-white/20 px-4 py-2 rounded-lg transition-colors",children:"Story Explorer "})]})]})})}const MFe=()=>c.jsx(doe,{children:c.jsx(lle,{children:c.jsx(r4e,{children:c.jsx("div",{className:"relative min-h-screen",children:c.jsxs("div",{className:"content",children:[c.jsx(cie,{}),c.jsx($ie,{}),c.jsxs(tle,{children:[c.jsx(ls,{path:"/login",element:c.jsx(z$e,{})}),c.jsx(ls,{path:"/",element:c.jsx(Vle,{})}),c.jsx(ls,{path:"/about",element:c.jsx(n4e,{})}),c.jsx(ls,{path:"/admin",element:c.jsx(rw,{allowedRoles:["admin"],children:c.jsx(D3e,{})})}),c.jsx(ls,{path:"/issuer",element:c.jsx(K3e,{})}),c.jsx(ls,{path:"/manager",element:c.jsx(rw,{allowedRoles:["manager"],children:c.jsx(e8e,{})})}),c.jsx(ls,{path:"/dashboard",element:c.jsx(U$e,{})}),c.jsx(ls,{path:"/royalty-dashboard",element:c.jsx(WQ,{})}),c.jsx(ls,{path:"/marketplace",element:c.jsx(dje,{})}),c.jsx(ls,{path:"/testmarketplace",element:c.jsx(fue,{})}),c.jsx(ls,{path:"/orderbook",element:c.jsx(rw,{allowedRoles:["admin","issuer","manager","user"],children:c.jsx(d8e,{})})}),c.jsx(ls,{path:"/trading/:tokenId",element:c.jsx(rw,{allowedRoles:["admin","issuer","manager","user"],children:c.jsx(f8e,{})})}),c.jsx(ls,{path:"/test-minting",element:c.jsx(yFe,{})}),c.jsx(ls,{path:"/license-attachment",element:c.jsx(RFe,{})}),c.jsx(ls,{path:"*",element:c.jsx(Hle,{})})]})]})})})})}),bF=Gm({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockTime:12e3,rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensUniversalResolver:{address:"0xeeeeeeee14d718c2b47d9923deab1335e144eeee",blockCreated:23085558},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),wF=Gm({id:11155111,name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://11155111.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.etherscan.io",apiUrl:"https://api-sepolia.etherscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:751532},ensUniversalResolver:{address:"0xeeeeeeee14d718c2b47d9923deab1335e144eeee",blockCreated:8928790}},testnet:!0}),PFe=new E$e,jFe=_8e({chains:[bF,wF],transports:{[bF.id]:u$(),[wF.id]:u$()}});KB(document.getElementById("root")).render(c.jsx($8e,{config:jFe,children:c.jsx(N$e,{client:PFe,children:c.jsx(g2e,{children:c.jsx(MFe,{})})})}));export{jK as $,T9e as A,sr as B,w9e as C,Av as D,mK as E,sn as F,ITe as G,KT as H,_i as I,YT as J,P9e as K,Vt as L,XTe as M,JR as N,Tc as O,UT as P,UR as Q,_m as R,Y1e as S,Ti as T,l0 as U,M9e as V,vr as W,_y as X,ETe as Y,eo as Z,Je as _,Fi as a,OL as a0,zTe as a1,I9e as a2,kK as a3,hr as a4,rc as a5,sc as a6,F9e as a7,B9e as a8,f0 as a9,C9e as aA,to as aB,zK as aC,S9e as aD,yTe as aE,dTe as aF,at as aG,A9e as aH,La as aI,Ce as aJ,pM as aK,Mr as aL,KCe as aM,Ov as aN,b2 as aO,UEe as aP,m2 as aQ,ba as aR,_c as aS,mg as aT,fl as aU,f2e as aa,da as ab,hi as ac,CK as ad,Mbe as ae,Ct as af,ei as ag,wL as ah,vTe as ai,mTe as aj,_K as ak,IK as al,s2e as am,D9e as an,p2e as ao,Si as ap,$9e as aq,U9e as ar,Ye as as,Ud as at,L9e as au,O9e as av,_9e as aw,gTe as ax,k9e as ay,l2e as az,Ev as b,Bs as c,it as d,R9e as e,Qe as f,Pe as g,_I as h,E9e as i,Zf as j,Er as k,oe as l,ze as m,fs as n,Q1e as o,_n as p,rE as q,N9e as r,AL as s,cl as t,nE as u,bTe as v,tf as w,ss as x,Rm as y,pr as z};
