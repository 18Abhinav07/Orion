var Mee=Object.defineProperty;var lj=t=>{throw TypeError(t)};var jee=(t,e,n)=>e in t?Mee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ge=(t,e,n)=>jee(t,typeof e!="symbol"?e+"":e,n),mA=(t,e,n)=>e.has(t)||lj("Cannot "+n);var q=(t,e,n)=>(mA(t,e,"read from private field"),n?n.call(t):e.get(t)),ut=(t,e,n)=>e.has(t)?lj("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Be=(t,e,n,r)=>(mA(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),$t=(t,e,n)=>(mA(t,e,"access private method"),n);var bb=(t,e,n,r)=>({set _(s){Be(t,e,s,n)},get _(){return q(t,e,r)}});function _ee(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var HF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Dee(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var WF={exports:{}},yT={},GF={exports:{}},Kt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pv=Symbol.for("react.element"),Oee=Symbol.for("react.portal"),Lee=Symbol.for("react.fragment"),$ee=Symbol.for("react.strict_mode"),Fee=Symbol.for("react.profiler"),Bee=Symbol.for("react.provider"),Uee=Symbol.for("react.context"),zee=Symbol.for("react.forward_ref"),Vee=Symbol.for("react.suspense"),Hee=Symbol.for("react.memo"),Wee=Symbol.for("react.lazy"),cj=Symbol.iterator;function Gee(t){return t===null||typeof t!="object"?null:(t=cj&&t[cj]||t["@@iterator"],typeof t=="function"?t:null)}var KF={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},YF=Object.assign,qF={};function Fm(t,e,n){this.props=t,this.context=e,this.refs=qF,this.updater=n||KF}Fm.prototype.isReactComponent={};Fm.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Fm.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ZF(){}ZF.prototype=Fm.prototype;function c5(t,e,n){this.props=t,this.context=e,this.refs=qF,this.updater=n||KF}var u5=c5.prototype=new ZF;u5.constructor=c5;YF(u5,Fm.prototype);u5.isPureReactComponent=!0;var uj=Array.isArray,XF=Object.prototype.hasOwnProperty,d5={current:null},JF={key:!0,ref:!0,__self:!0,__source:!0};function QF(t,e,n){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)XF.call(e,r)&&!JF.hasOwnProperty(r)&&(s[r]=e[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:Pv,type:t,key:i,ref:a,props:s,_owner:d5.current}}function Kee(t,e){return{$$typeof:Pv,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function p5(t){return typeof t=="object"&&t!==null&&t.$$typeof===Pv}function Yee(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var dj=/\/+/g;function yA(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Yee(""+t.key):e.toString(36)}function _x(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Pv:case Oee:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+yA(a,0):r,uj(s)?(n="",t!=null&&(n=t.replace(dj,"$&/")+"/"),_x(s,e,n,"",function(u){return u})):s!=null&&(p5(s)&&(s=Kee(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(dj,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",uj(t))for(var o=0;o<t.length;o++){i=t[o];var l=r+yA(i,o);a+=_x(i,e,n,l,s)}else if(l=Gee(t),typeof l=="function")for(t=l.call(t),o=0;!(i=t.next()).done;)i=i.value,l=r+yA(i,o++),a+=_x(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function xb(t,e,n){if(t==null)return t;var r=[],s=0;return _x(t,r,"","",function(i){return e.call(n,i,s++)}),r}function qee(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ni={current:null},Dx={transition:null},Zee={ReactCurrentDispatcher:ni,ReactCurrentBatchConfig:Dx,ReactCurrentOwner:d5};function e9(){throw Error("act(...) is not supported in production builds of React.")}Kt.Children={map:xb,forEach:function(t,e,n){xb(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return xb(t,function(){e++}),e},toArray:function(t){return xb(t,function(e){return e})||[]},only:function(t){if(!p5(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Kt.Component=Fm;Kt.Fragment=Lee;Kt.Profiler=Fee;Kt.PureComponent=c5;Kt.StrictMode=$ee;Kt.Suspense=Vee;Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zee;Kt.act=e9;Kt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=YF({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=d5.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)XF.call(e,l)&&!JF.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:Pv,type:t.type,key:s,ref:i,props:r,_owner:a}};Kt.createContext=function(t){return t={$$typeof:Uee,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Bee,_context:t},t.Consumer=t};Kt.createElement=QF;Kt.createFactory=function(t){var e=QF.bind(null,t);return e.type=t,e};Kt.createRef=function(){return{current:null}};Kt.forwardRef=function(t){return{$$typeof:zee,render:t}};Kt.isValidElement=p5;Kt.lazy=function(t){return{$$typeof:Wee,_payload:{_status:-1,_result:t},_init:qee}};Kt.memo=function(t,e){return{$$typeof:Hee,type:t,compare:e===void 0?null:e}};Kt.startTransition=function(t){var e=Dx.transition;Dx.transition={};try{t()}finally{Dx.transition=e}};Kt.unstable_act=e9;Kt.useCallback=function(t,e){return ni.current.useCallback(t,e)};Kt.useContext=function(t){return ni.current.useContext(t)};Kt.useDebugValue=function(){};Kt.useDeferredValue=function(t){return ni.current.useDeferredValue(t)};Kt.useEffect=function(t,e){return ni.current.useEffect(t,e)};Kt.useId=function(){return ni.current.useId()};Kt.useImperativeHandle=function(t,e,n){return ni.current.useImperativeHandle(t,e,n)};Kt.useInsertionEffect=function(t,e){return ni.current.useInsertionEffect(t,e)};Kt.useLayoutEffect=function(t,e){return ni.current.useLayoutEffect(t,e)};Kt.useMemo=function(t,e){return ni.current.useMemo(t,e)};Kt.useReducer=function(t,e,n){return ni.current.useReducer(t,e,n)};Kt.useRef=function(t){return ni.current.useRef(t)};Kt.useState=function(t){return ni.current.useState(t)};Kt.useSyncExternalStore=function(t,e,n){return ni.current.useSyncExternalStore(t,e,n)};Kt.useTransition=function(){return ni.current.useTransition()};Kt.version="18.3.1";GF.exports=Kt;var A=GF.exports;const xe=wf(A),t9=_ee({__proto__:null,default:xe},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xee=A,Jee=Symbol.for("react.element"),Qee=Symbol.for("react.fragment"),ete=Object.prototype.hasOwnProperty,tte=Xee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nte={key:!0,ref:!0,__self:!0,__source:!0};function n9(t,e,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)ete.call(e,r)&&!nte.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Jee,type:t,key:i,ref:a,props:s,_owner:tte.current}}yT.Fragment=Qee;yT.jsx=n9;yT.jsxs=n9;WF.exports=yT;var c=WF.exports,r9={exports:{}},ia={},s9={exports:{}},i9={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,j){var V=R.length;R.push(j);e:for(;0<V;){var O=V-1>>>1,E=R[O];if(0<s(E,j))R[O]=j,R[V]=E,V=O;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var j=R[0],V=R.pop();if(V!==j){R[0]=V;e:for(var O=0,E=R.length,z=E>>>1;O<z;){var Z=2*(O+1)-1,F=R[Z],H=Z+1,K=R[H];if(0>s(F,V))H<E&&0>s(K,F)?(R[O]=K,R[H]=V,O=H):(R[O]=F,R[Z]=V,O=Z);else if(H<E&&0>s(K,V))R[O]=K,R[H]=V,O=H;else break e}}return j}function s(R,j){var V=R.sortIndex-j.sortIndex;return V!==0?V:R.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],d=1,p=null,f=3,h=!1,y=!1,m=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(R){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=R)r(u),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(u)}}function T(R){if(m=!1,x(R),!y)if(n(l)!==null)y=!0,S(I);else{var j=n(u);j!==null&&M(T,j.startTime-R)}}function I(R,j){y=!1,m&&(m=!1,v(P),P=-1),h=!0;var V=f;try{for(x(j),p=n(l);p!==null&&(!(p.expirationTime>j)||R&&!$());){var O=p.callback;if(typeof O=="function"){p.callback=null,f=p.priorityLevel;var E=O(p.expirationTime<=j);j=t.unstable_now(),typeof E=="function"?p.callback=E:p===n(l)&&r(l),x(j)}else r(l);p=n(l)}if(p!==null)var z=!0;else{var Z=n(u);Z!==null&&M(T,Z.startTime-j),z=!1}return z}finally{p=null,f=V,h=!1}}var C=!1,N=null,P=-1,L=5,U=-1;function $(){return!(t.unstable_now()-U<L)}function B(){if(N!==null){var R=t.unstable_now();U=R;var j=!0;try{j=N(!0,R)}finally{j?_():(C=!1,N=null)}}else C=!1}var _;if(typeof g=="function")_=function(){g(B)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,k=w.port2;w.port1.onmessage=B,_=function(){k.postMessage(null)}}else _=function(){b(B,0)};function S(R){N=R,C||(C=!0,_())}function M(R,j){P=b(function(){R(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){y||h||(y=!0,S(I))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(R){switch(f){case 1:case 2:case 3:var j=3;break;default:j=f}var V=f;f=j;try{return R()}finally{f=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,j){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var V=f;f=R;try{return j()}finally{f=V}},t.unstable_scheduleCallback=function(R,j,V){var O=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?O+V:O):V=O,R){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=V+E,R={id:d++,callback:j,priorityLevel:R,startTime:V,expirationTime:E,sortIndex:-1},V>O?(R.sortIndex=V,e(u,R),n(l)===null&&R===n(u)&&(m?(v(P),P=-1):m=!0,M(T,V-O))):(R.sortIndex=E,e(l,R),y||h||(y=!0,S(I))),R},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(R){var j=f;return function(){var V=f;f=j;try{return R.apply(this,arguments)}finally{f=V}}}})(i9);s9.exports=i9;var rte=s9.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ste=A,na=rte;function Ce(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a9=new Set,Kg={};function Tf(t,e){am(t,e),am(t+"Capture",e)}function am(t,e){for(Kg[t]=e,t=0;t<e.length;t++)a9.add(e[t])}var Sc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zk=Object.prototype.hasOwnProperty,ite=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pj={},fj={};function ate(t){return Zk.call(fj,t)?!0:Zk.call(pj,t)?!1:ite.test(t)?fj[t]=!0:(pj[t]=!0,!1)}function ote(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function lte(t,e,n,r){if(e===null||typeof e>"u"||ote(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ri(t,e,n,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var ys={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ys[t]=new ri(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ys[e]=new ri(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ys[t]=new ri(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ys[t]=new ri(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ys[t]=new ri(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ys[t]=new ri(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ys[t]=new ri(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ys[t]=new ri(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ys[t]=new ri(t,5,!1,t.toLowerCase(),null,!1,!1)});var f5=/[\-:]([a-z])/g;function h5(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(f5,h5);ys[e]=new ri(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(f5,h5);ys[e]=new ri(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(f5,h5);ys[e]=new ri(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ys[t]=new ri(t,1,!1,t.toLowerCase(),null,!1,!1)});ys.xlinkHref=new ri("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ys[t]=new ri(t,1,!1,t.toLowerCase(),null,!0,!0)});function m5(t,e,n,r){var s=ys.hasOwnProperty(e)?ys[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(lte(e,n,s,r)&&(n=null),r||s===null?ate(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Gc=ste.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wb=Symbol.for("react.element"),Yf=Symbol.for("react.portal"),qf=Symbol.for("react.fragment"),y5=Symbol.for("react.strict_mode"),Xk=Symbol.for("react.profiler"),o9=Symbol.for("react.provider"),l9=Symbol.for("react.context"),g5=Symbol.for("react.forward_ref"),Jk=Symbol.for("react.suspense"),Qk=Symbol.for("react.suspense_list"),v5=Symbol.for("react.memo"),gu=Symbol.for("react.lazy"),c9=Symbol.for("react.offscreen"),hj=Symbol.iterator;function Ty(t){return t===null||typeof t!="object"?null:(t=hj&&t[hj]||t["@@iterator"],typeof t=="function"?t:null)}var sr=Object.assign,gA;function Qy(t){if(gA===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);gA=e&&e[1]||""}return`
`+gA+t}var vA=!1;function bA(t,e){if(!t||vA)return"";vA=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var l=`
`+s[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{vA=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Qy(t):""}function cte(t){switch(t.tag){case 5:return Qy(t.type);case 16:return Qy("Lazy");case 13:return Qy("Suspense");case 19:return Qy("SuspenseList");case 0:case 2:case 15:return t=bA(t.type,!1),t;case 11:return t=bA(t.type.render,!1),t;case 1:return t=bA(t.type,!0),t;default:return""}}function eC(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case qf:return"Fragment";case Yf:return"Portal";case Xk:return"Profiler";case y5:return"StrictMode";case Jk:return"Suspense";case Qk:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case l9:return(t.displayName||"Context")+".Consumer";case o9:return(t._context.displayName||"Context")+".Provider";case g5:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case v5:return e=t.displayName||null,e!==null?e:eC(t.type)||"Memo";case gu:e=t._payload,t=t._init;try{return eC(t(e))}catch{}}return null}function ute(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return eC(e);case 8:return e===y5?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function dd(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function u9(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function dte(t){var e=u9(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Tb(t){t._valueTracker||(t._valueTracker=dte(t))}function d9(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=u9(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Mw(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function tC(t,e){var n=e.checked;return sr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function mj(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=dd(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function p9(t,e){e=e.checked,e!=null&&m5(t,"checked",e,!1)}function nC(t,e){p9(t,e);var n=dd(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?rC(t,e.type,n):e.hasOwnProperty("defaultValue")&&rC(t,e.type,dd(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function yj(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function rC(t,e,n){(e!=="number"||Mw(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var eg=Array.isArray;function Ch(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+dd(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function sC(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ce(91));return sr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function gj(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Ce(92));if(eg(n)){if(1<n.length)throw Error(Ce(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:dd(n)}}function f9(t,e){var n=dd(e.value),r=dd(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function vj(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function h9(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function iC(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?h9(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ab,m9=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ab=Ab||document.createElement("div"),Ab.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ab.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Yg(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var pg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pte=["Webkit","ms","Moz","O"];Object.keys(pg).forEach(function(t){pte.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),pg[e]=pg[t]})});function y9(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||pg.hasOwnProperty(t)&&pg[t]?(""+e).trim():e+"px"}function g9(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=y9(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var fte=sr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function aC(t,e){if(e){if(fte[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ce(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ce(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ce(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ce(62))}}function oC(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lC=null;function b5(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cC=null,Nh=null,Eh=null;function bj(t){if(t=_v(t)){if(typeof cC!="function")throw Error(Ce(280));var e=t.stateNode;e&&(e=wT(e),cC(t.stateNode,t.type,e))}}function v9(t){Nh?Eh?Eh.push(t):Eh=[t]:Nh=t}function b9(){if(Nh){var t=Nh,e=Eh;if(Eh=Nh=null,bj(t),e)for(t=0;t<e.length;t++)bj(e[t])}}function x9(t,e){return t(e)}function w9(){}var xA=!1;function T9(t,e,n){if(xA)return t(e,n);xA=!0;try{return x9(t,e,n)}finally{xA=!1,(Nh!==null||Eh!==null)&&(w9(),b9())}}function qg(t,e){var n=t.stateNode;if(n===null)return null;var r=wT(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Ce(231,e,typeof n));return n}var uC=!1;if(Sc)try{var Ay={};Object.defineProperty(Ay,"passive",{get:function(){uC=!0}}),window.addEventListener("test",Ay,Ay),window.removeEventListener("test",Ay,Ay)}catch{uC=!1}function hte(t,e,n,r,s,i,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var fg=!1,jw=null,_w=!1,dC=null,mte={onError:function(t){fg=!0,jw=t}};function yte(t,e,n,r,s,i,a,o,l){fg=!1,jw=null,hte.apply(mte,arguments)}function gte(t,e,n,r,s,i,a,o,l){if(yte.apply(this,arguments),fg){if(fg){var u=jw;fg=!1,jw=null}else throw Error(Ce(198));_w||(_w=!0,dC=u)}}function Af(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function A9(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function xj(t){if(Af(t)!==t)throw Error(Ce(188))}function vte(t){var e=t.alternate;if(!e){if(e=Af(t),e===null)throw Error(Ce(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return xj(s),t;if(i===r)return xj(s),e;i=i.sibling}throw Error(Ce(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a)throw Error(Ce(189))}}if(n.alternate!==r)throw Error(Ce(190))}if(n.tag!==3)throw Error(Ce(188));return n.stateNode.current===n?t:e}function I9(t){return t=vte(t),t!==null?k9(t):null}function k9(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=k9(t);if(e!==null)return e;t=t.sibling}return null}var C9=na.unstable_scheduleCallback,wj=na.unstable_cancelCallback,bte=na.unstable_shouldYield,xte=na.unstable_requestPaint,xr=na.unstable_now,wte=na.unstable_getCurrentPriorityLevel,x5=na.unstable_ImmediatePriority,N9=na.unstable_UserBlockingPriority,Dw=na.unstable_NormalPriority,Tte=na.unstable_LowPriority,E9=na.unstable_IdlePriority,gT=null,dl=null;function Ate(t){if(dl&&typeof dl.onCommitFiberRoot=="function")try{dl.onCommitFiberRoot(gT,t,void 0,(t.current.flags&128)===128)}catch{}}var To=Math.clz32?Math.clz32:Cte,Ite=Math.log,kte=Math.LN2;function Cte(t){return t>>>=0,t===0?32:31-(Ite(t)/kte|0)|0}var Ib=64,kb=4194304;function tg(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ow(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~s;o!==0?r=tg(o):(i&=a,i!==0&&(r=tg(i)))}else a=n&~s,a!==0?r=tg(a):i!==0&&(r=tg(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-To(e),s=1<<n,r|=t[n],e&=~s;return r}function Nte(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ete(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-To(i),o=1<<a,l=s[a];l===-1?(!(o&n)||o&r)&&(s[a]=Nte(o,e)):l<=e&&(t.expiredLanes|=o),i&=~o}}function pC(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function S9(){var t=Ib;return Ib<<=1,!(Ib&4194240)&&(Ib=64),t}function wA(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Mv(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-To(e),t[e]=n}function Ste(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-To(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function w5(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-To(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var An=0;function R9(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var P9,T5,M9,j9,_9,fC=!1,Cb=[],Gu=null,Ku=null,Yu=null,Zg=new Map,Xg=new Map,Tu=[],Rte="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tj(t,e){switch(t){case"focusin":case"focusout":Gu=null;break;case"dragenter":case"dragleave":Ku=null;break;case"mouseover":case"mouseout":Yu=null;break;case"pointerover":case"pointerout":Zg.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xg.delete(e.pointerId)}}function Iy(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=_v(e),e!==null&&T5(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Pte(t,e,n,r,s){switch(e){case"focusin":return Gu=Iy(Gu,t,e,n,r,s),!0;case"dragenter":return Ku=Iy(Ku,t,e,n,r,s),!0;case"mouseover":return Yu=Iy(Yu,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Zg.set(i,Iy(Zg.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Xg.set(i,Iy(Xg.get(i)||null,t,e,n,r,s)),!0}return!1}function D9(t){var e=op(t.target);if(e!==null){var n=Af(e);if(n!==null){if(e=n.tag,e===13){if(e=A9(n),e!==null){t.blockedOn=e,_9(t.priority,function(){M9(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ox(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=hC(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);lC=r,n.target.dispatchEvent(r),lC=null}else return e=_v(n),e!==null&&T5(e),t.blockedOn=n,!1;e.shift()}return!0}function Aj(t,e,n){Ox(t)&&n.delete(e)}function Mte(){fC=!1,Gu!==null&&Ox(Gu)&&(Gu=null),Ku!==null&&Ox(Ku)&&(Ku=null),Yu!==null&&Ox(Yu)&&(Yu=null),Zg.forEach(Aj),Xg.forEach(Aj)}function ky(t,e){t.blockedOn===e&&(t.blockedOn=null,fC||(fC=!0,na.unstable_scheduleCallback(na.unstable_NormalPriority,Mte)))}function Jg(t){function e(s){return ky(s,t)}if(0<Cb.length){ky(Cb[0],t);for(var n=1;n<Cb.length;n++){var r=Cb[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Gu!==null&&ky(Gu,t),Ku!==null&&ky(Ku,t),Yu!==null&&ky(Yu,t),Zg.forEach(e),Xg.forEach(e),n=0;n<Tu.length;n++)r=Tu[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Tu.length&&(n=Tu[0],n.blockedOn===null);)D9(n),n.blockedOn===null&&Tu.shift()}var Sh=Gc.ReactCurrentBatchConfig,Lw=!0;function jte(t,e,n,r){var s=An,i=Sh.transition;Sh.transition=null;try{An=1,A5(t,e,n,r)}finally{An=s,Sh.transition=i}}function _te(t,e,n,r){var s=An,i=Sh.transition;Sh.transition=null;try{An=4,A5(t,e,n,r)}finally{An=s,Sh.transition=i}}function A5(t,e,n,r){if(Lw){var s=hC(t,e,n,r);if(s===null)PA(t,e,r,$w,n),Tj(t,r);else if(Pte(s,t,e,n,r))r.stopPropagation();else if(Tj(t,r),e&4&&-1<Rte.indexOf(t)){for(;s!==null;){var i=_v(s);if(i!==null&&P9(i),i=hC(t,e,n,r),i===null&&PA(t,e,r,$w,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else PA(t,e,r,null,n)}}var $w=null;function hC(t,e,n,r){if($w=null,t=b5(r),t=op(t),t!==null)if(e=Af(t),e===null)t=null;else if(n=e.tag,n===13){if(t=A9(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return $w=t,null}function O9(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wte()){case x5:return 1;case N9:return 4;case Dw:case Tte:return 16;case E9:return 536870912;default:return 16}default:return 16}}var Ou=null,I5=null,Lx=null;function L9(){if(Lx)return Lx;var t,e=I5,n=e.length,r,s="value"in Ou?Ou.value:Ou.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[i-r];r++);return Lx=s.slice(t,1<r?1-r:void 0)}function $x(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Nb(){return!0}function Ij(){return!1}function aa(t){function e(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Nb:Ij,this.isPropagationStopped=Ij,this}return sr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Nb)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Nb)},persist:function(){},isPersistent:Nb}),e}var Bm={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},k5=aa(Bm),jv=sr({},Bm,{view:0,detail:0}),Dte=aa(jv),TA,AA,Cy,vT=sr({},jv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:C5,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Cy&&(Cy&&t.type==="mousemove"?(TA=t.screenX-Cy.screenX,AA=t.screenY-Cy.screenY):AA=TA=0,Cy=t),TA)},movementY:function(t){return"movementY"in t?t.movementY:AA}}),kj=aa(vT),Ote=sr({},vT,{dataTransfer:0}),Lte=aa(Ote),$te=sr({},jv,{relatedTarget:0}),IA=aa($te),Fte=sr({},Bm,{animationName:0,elapsedTime:0,pseudoElement:0}),Bte=aa(Fte),Ute=sr({},Bm,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zte=aa(Ute),Vte=sr({},Bm,{data:0}),Cj=aa(Vte),Hte={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wte={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gte={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kte(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Gte[t])?!!e[t]:!1}function C5(){return Kte}var Yte=sr({},jv,{key:function(t){if(t.key){var e=Hte[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=$x(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Wte[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:C5,charCode:function(t){return t.type==="keypress"?$x(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$x(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qte=aa(Yte),Zte=sr({},vT,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nj=aa(Zte),Xte=sr({},jv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:C5}),Jte=aa(Xte),Qte=sr({},Bm,{propertyName:0,elapsedTime:0,pseudoElement:0}),ene=aa(Qte),tne=sr({},vT,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),nne=aa(tne),rne=[9,13,27,32],N5=Sc&&"CompositionEvent"in window,hg=null;Sc&&"documentMode"in document&&(hg=document.documentMode);var sne=Sc&&"TextEvent"in window&&!hg,$9=Sc&&(!N5||hg&&8<hg&&11>=hg),Ej=" ",Sj=!1;function F9(t,e){switch(t){case"keyup":return rne.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function B9(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Zf=!1;function ine(t,e){switch(t){case"compositionend":return B9(e);case"keypress":return e.which!==32?null:(Sj=!0,Ej);case"textInput":return t=e.data,t===Ej&&Sj?null:t;default:return null}}function ane(t,e){if(Zf)return t==="compositionend"||!N5&&F9(t,e)?(t=L9(),Lx=I5=Ou=null,Zf=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $9&&e.locale!=="ko"?null:e.data;default:return null}}var one={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rj(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!one[t.type]:e==="textarea"}function U9(t,e,n,r){v9(r),e=Fw(e,"onChange"),0<e.length&&(n=new k5("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var mg=null,Qg=null;function lne(t){J9(t,0)}function bT(t){var e=Qf(t);if(d9(e))return t}function cne(t,e){if(t==="change")return e}var z9=!1;if(Sc){var kA;if(Sc){var CA="oninput"in document;if(!CA){var Pj=document.createElement("div");Pj.setAttribute("oninput","return;"),CA=typeof Pj.oninput=="function"}kA=CA}else kA=!1;z9=kA&&(!document.documentMode||9<document.documentMode)}function Mj(){mg&&(mg.detachEvent("onpropertychange",V9),Qg=mg=null)}function V9(t){if(t.propertyName==="value"&&bT(Qg)){var e=[];U9(e,Qg,t,b5(t)),T9(lne,e)}}function une(t,e,n){t==="focusin"?(Mj(),mg=e,Qg=n,mg.attachEvent("onpropertychange",V9)):t==="focusout"&&Mj()}function dne(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return bT(Qg)}function pne(t,e){if(t==="click")return bT(e)}function fne(t,e){if(t==="input"||t==="change")return bT(e)}function hne(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var No=typeof Object.is=="function"?Object.is:hne;function e0(t,e){if(No(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Zk.call(e,s)||!No(t[s],e[s]))return!1}return!0}function jj(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _j(t,e){var n=jj(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=jj(n)}}function H9(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?H9(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function W9(){for(var t=window,e=Mw();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Mw(t.document)}return e}function E5(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function mne(t){var e=W9(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&H9(n.ownerDocument.documentElement,n)){if(r!==null&&E5(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=_j(n,i);var a=_j(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var yne=Sc&&"documentMode"in document&&11>=document.documentMode,Xf=null,mC=null,yg=null,yC=!1;function Dj(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;yC||Xf==null||Xf!==Mw(r)||(r=Xf,"selectionStart"in r&&E5(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),yg&&e0(yg,r)||(yg=r,r=Fw(mC,"onSelect"),0<r.length&&(e=new k5("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Xf)))}function Eb(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Jf={animationend:Eb("Animation","AnimationEnd"),animationiteration:Eb("Animation","AnimationIteration"),animationstart:Eb("Animation","AnimationStart"),transitionend:Eb("Transition","TransitionEnd")},NA={},G9={};Sc&&(G9=document.createElement("div").style,"AnimationEvent"in window||(delete Jf.animationend.animation,delete Jf.animationiteration.animation,delete Jf.animationstart.animation),"TransitionEvent"in window||delete Jf.transitionend.transition);function xT(t){if(NA[t])return NA[t];if(!Jf[t])return t;var e=Jf[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in G9)return NA[t]=e[n];return t}var K9=xT("animationend"),Y9=xT("animationiteration"),q9=xT("animationstart"),Z9=xT("transitionend"),X9=new Map,Oj="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nd(t,e){X9.set(t,e),Tf(e,[t])}for(var EA=0;EA<Oj.length;EA++){var SA=Oj[EA],gne=SA.toLowerCase(),vne=SA[0].toUpperCase()+SA.slice(1);Nd(gne,"on"+vne)}Nd(K9,"onAnimationEnd");Nd(Y9,"onAnimationIteration");Nd(q9,"onAnimationStart");Nd("dblclick","onDoubleClick");Nd("focusin","onFocus");Nd("focusout","onBlur");Nd(Z9,"onTransitionEnd");am("onMouseEnter",["mouseout","mouseover"]);am("onMouseLeave",["mouseout","mouseover"]);am("onPointerEnter",["pointerout","pointerover"]);am("onPointerLeave",["pointerout","pointerover"]);Tf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Tf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Tf("onBeforeInput",["compositionend","keypress","textInput","paste"]);Tf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Tf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Tf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ng="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bne=new Set("cancel close invalid load scroll toggle".split(" ").concat(ng));function Lj(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,gte(r,e,void 0,t),t.currentTarget=null}function J9(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;Lj(s,o,u),i=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;Lj(s,o,u),i=l}}}if(_w)throw t=dC,_w=!1,dC=null,t}function $n(t,e){var n=e[wC];n===void 0&&(n=e[wC]=new Set);var r=t+"__bubble";n.has(r)||(Q9(e,t,2,!1),n.add(r))}function RA(t,e,n){var r=0;e&&(r|=4),Q9(n,t,r,e)}var Sb="_reactListening"+Math.random().toString(36).slice(2);function t0(t){if(!t[Sb]){t[Sb]=!0,a9.forEach(function(n){n!=="selectionchange"&&(bne.has(n)||RA(n,!1,t),RA(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Sb]||(e[Sb]=!0,RA("selectionchange",!1,e))}}function Q9(t,e,n,r){switch(O9(e)){case 1:var s=jte;break;case 4:s=_te;break;default:s=A5}n=s.bind(null,e,n,t),s=void 0,!uC||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function PA(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;o!==null;){if(a=op(o),a===null)return;if(l=a.tag,l===5||l===6){r=i=a;continue e}o=o.parentNode}}r=r.return}T9(function(){var u=i,d=b5(n),p=[];e:{var f=X9.get(t);if(f!==void 0){var h=k5,y=t;switch(t){case"keypress":if($x(n)===0)break e;case"keydown":case"keyup":h=qte;break;case"focusin":y="focus",h=IA;break;case"focusout":y="blur",h=IA;break;case"beforeblur":case"afterblur":h=IA;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=kj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Lte;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Jte;break;case K9:case Y9:case q9:h=Bte;break;case Z9:h=ene;break;case"scroll":h=Dte;break;case"wheel":h=nne;break;case"copy":case"cut":case"paste":h=zte;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Nj}var m=(e&4)!==0,b=!m&&t==="scroll",v=m?f!==null?f+"Capture":null:f;m=[];for(var g=u,x;g!==null;){x=g;var T=x.stateNode;if(x.tag===5&&T!==null&&(x=T,v!==null&&(T=qg(g,v),T!=null&&m.push(n0(g,T,x)))),b)break;g=g.return}0<m.length&&(f=new h(f,y,null,n,d),p.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&n!==lC&&(y=n.relatedTarget||n.fromElement)&&(op(y)||y[Rc]))break e;if((h||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,h?(y=n.relatedTarget||n.toElement,h=u,y=y?op(y):null,y!==null&&(b=Af(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(h=null,y=u),h!==y)){if(m=kj,T="onMouseLeave",v="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(m=Nj,T="onPointerLeave",v="onPointerEnter",g="pointer"),b=h==null?f:Qf(h),x=y==null?f:Qf(y),f=new m(T,g+"leave",h,n,d),f.target=b,f.relatedTarget=x,T=null,op(d)===u&&(m=new m(v,g+"enter",y,n,d),m.target=x,m.relatedTarget=b,T=m),b=T,h&&y)t:{for(m=h,v=y,g=0,x=m;x;x=Mf(x))g++;for(x=0,T=v;T;T=Mf(T))x++;for(;0<g-x;)m=Mf(m),g--;for(;0<x-g;)v=Mf(v),x--;for(;g--;){if(m===v||v!==null&&m===v.alternate)break t;m=Mf(m),v=Mf(v)}m=null}else m=null;h!==null&&$j(p,f,h,m,!1),y!==null&&b!==null&&$j(p,b,y,m,!0)}}e:{if(f=u?Qf(u):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var I=cne;else if(Rj(f))if(z9)I=fne;else{I=dne;var C=une}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(I=pne);if(I&&(I=I(t,u))){U9(p,I,n,d);break e}C&&C(t,f,u),t==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&rC(f,"number",f.value)}switch(C=u?Qf(u):window,t){case"focusin":(Rj(C)||C.contentEditable==="true")&&(Xf=C,mC=u,yg=null);break;case"focusout":yg=mC=Xf=null;break;case"mousedown":yC=!0;break;case"contextmenu":case"mouseup":case"dragend":yC=!1,Dj(p,n,d);break;case"selectionchange":if(yne)break;case"keydown":case"keyup":Dj(p,n,d)}var N;if(N5)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Zf?F9(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&($9&&n.locale!=="ko"&&(Zf||P!=="onCompositionStart"?P==="onCompositionEnd"&&Zf&&(N=L9()):(Ou=d,I5="value"in Ou?Ou.value:Ou.textContent,Zf=!0)),C=Fw(u,P),0<C.length&&(P=new Cj(P,t,null,n,d),p.push({event:P,listeners:C}),N?P.data=N:(N=B9(n),N!==null&&(P.data=N)))),(N=sne?ine(t,n):ane(t,n))&&(u=Fw(u,"onBeforeInput"),0<u.length&&(d=new Cj("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:u}),d.data=N))}J9(p,e)})}function n0(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Fw(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=qg(t,n),i!=null&&r.unshift(n0(t,i,s)),i=qg(t,e),i!=null&&r.push(n0(t,i,s))),t=t.return}return r}function Mf(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function $j(t,e,n,r,s){for(var i=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,s?(l=qg(n,i),l!=null&&a.unshift(n0(n,l,o))):s||(l=qg(n,i),l!=null&&a.push(n0(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var xne=/\r\n?/g,wne=/\u0000|\uFFFD/g;function Fj(t){return(typeof t=="string"?t:""+t).replace(xne,`
`).replace(wne,"")}function Rb(t,e,n){if(e=Fj(e),Fj(t)!==e&&n)throw Error(Ce(425))}function Bw(){}var gC=null,vC=null;function bC(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var xC=typeof setTimeout=="function"?setTimeout:void 0,Tne=typeof clearTimeout=="function"?clearTimeout:void 0,Bj=typeof Promise=="function"?Promise:void 0,Ane=typeof queueMicrotask=="function"?queueMicrotask:typeof Bj<"u"?function(t){return Bj.resolve(null).then(t).catch(Ine)}:xC;function Ine(t){setTimeout(function(){throw t})}function MA(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Jg(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Jg(e)}function qu(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Uj(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Um=Math.random().toString(36).slice(2),ol="__reactFiber$"+Um,r0="__reactProps$"+Um,Rc="__reactContainer$"+Um,wC="__reactEvents$"+Um,kne="__reactListeners$"+Um,Cne="__reactHandles$"+Um;function op(t){var e=t[ol];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Rc]||n[ol]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Uj(t);t!==null;){if(n=t[ol])return n;t=Uj(t)}return e}t=n,n=t.parentNode}return null}function _v(t){return t=t[ol]||t[Rc],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Qf(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ce(33))}function wT(t){return t[r0]||null}var TC=[],eh=-1;function Ed(t){return{current:t}}function Un(t){0>eh||(t.current=TC[eh],TC[eh]=null,eh--)}function _n(t,e){eh++,TC[eh]=t.current,t.current=e}var pd={},Ls=Ed(pd),Ii=Ed(!1),Gp=pd;function om(t,e){var n=t.type.contextTypes;if(!n)return pd;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function ki(t){return t=t.childContextTypes,t!=null}function Uw(){Un(Ii),Un(Ls)}function zj(t,e,n){if(Ls.current!==pd)throw Error(Ce(168));_n(Ls,e),_n(Ii,n)}function eB(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(Ce(108,ute(t)||"Unknown",s));return sr({},n,r)}function zw(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||pd,Gp=Ls.current,_n(Ls,t),_n(Ii,Ii.current),!0}function Vj(t,e,n){var r=t.stateNode;if(!r)throw Error(Ce(169));n?(t=eB(t,e,Gp),r.__reactInternalMemoizedMergedChildContext=t,Un(Ii),Un(Ls),_n(Ls,t)):Un(Ii),_n(Ii,n)}var sc=null,TT=!1,jA=!1;function tB(t){sc===null?sc=[t]:sc.push(t)}function Nne(t){TT=!0,tB(t)}function Sd(){if(!jA&&sc!==null){jA=!0;var t=0,e=An;try{var n=sc;for(An=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}sc=null,TT=!1}catch(s){throw sc!==null&&(sc=sc.slice(t+1)),C9(x5,Sd),s}finally{An=e,jA=!1}}return null}var th=[],nh=0,Vw=null,Hw=0,Aa=[],Ia=0,Kp=null,mc=1,yc="";function qd(t,e){th[nh++]=Hw,th[nh++]=Vw,Vw=t,Hw=e}function nB(t,e,n){Aa[Ia++]=mc,Aa[Ia++]=yc,Aa[Ia++]=Kp,Kp=t;var r=mc;t=yc;var s=32-To(r)-1;r&=~(1<<s),n+=1;var i=32-To(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,mc=1<<32-To(e)+s|n<<s|r,yc=i+t}else mc=1<<i|n<<s|r,yc=t}function S5(t){t.return!==null&&(qd(t,1),nB(t,1,0))}function R5(t){for(;t===Vw;)Vw=th[--nh],th[nh]=null,Hw=th[--nh],th[nh]=null;for(;t===Kp;)Kp=Aa[--Ia],Aa[Ia]=null,yc=Aa[--Ia],Aa[Ia]=null,mc=Aa[--Ia],Aa[Ia]=null}var Qi=null,Zi=null,Gn=!1,co=null;function rB(t,e){var n=Ea(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Hj(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Qi=t,Zi=qu(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Qi=t,Zi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Kp!==null?{id:mc,overflow:yc}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ea(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Qi=t,Zi=null,!0):!1;default:return!1}}function AC(t){return(t.mode&1)!==0&&(t.flags&128)===0}function IC(t){if(Gn){var e=Zi;if(e){var n=e;if(!Hj(t,e)){if(AC(t))throw Error(Ce(418));e=qu(n.nextSibling);var r=Qi;e&&Hj(t,e)?rB(r,n):(t.flags=t.flags&-4097|2,Gn=!1,Qi=t)}}else{if(AC(t))throw Error(Ce(418));t.flags=t.flags&-4097|2,Gn=!1,Qi=t}}}function Wj(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Qi=t}function Pb(t){if(t!==Qi)return!1;if(!Gn)return Wj(t),Gn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!bC(t.type,t.memoizedProps)),e&&(e=Zi)){if(AC(t))throw sB(),Error(Ce(418));for(;e;)rB(t,e),e=qu(e.nextSibling)}if(Wj(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ce(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Zi=qu(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Zi=null}}else Zi=Qi?qu(t.stateNode.nextSibling):null;return!0}function sB(){for(var t=Zi;t;)t=qu(t.nextSibling)}function lm(){Zi=Qi=null,Gn=!1}function P5(t){co===null?co=[t]:co.push(t)}var Ene=Gc.ReactCurrentBatchConfig;function Ny(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ce(309));var r=n.stateNode}if(!r)throw Error(Ce(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(Ce(284));if(!n._owner)throw Error(Ce(290,t))}return t}function Mb(t,e){throw t=Object.prototype.toString.call(e),Error(Ce(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Gj(t){var e=t._init;return e(t._payload)}function iB(t){function e(v,g){if(t){var x=v.deletions;x===null?(v.deletions=[g],v.flags|=16):x.push(g)}}function n(v,g){if(!t)return null;for(;g!==null;)e(v,g),g=g.sibling;return null}function r(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function s(v,g){return v=Qu(v,g),v.index=0,v.sibling=null,v}function i(v,g,x){return v.index=x,t?(x=v.alternate,x!==null?(x=x.index,x<g?(v.flags|=2,g):x):(v.flags|=2,g)):(v.flags|=1048576,g)}function a(v){return t&&v.alternate===null&&(v.flags|=2),v}function o(v,g,x,T){return g===null||g.tag!==6?(g=BA(x,v.mode,T),g.return=v,g):(g=s(g,x),g.return=v,g)}function l(v,g,x,T){var I=x.type;return I===qf?d(v,g,x.props.children,T,x.key):g!==null&&(g.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===gu&&Gj(I)===g.type)?(T=s(g,x.props),T.ref=Ny(v,g,x),T.return=v,T):(T=Wx(x.type,x.key,x.props,null,v.mode,T),T.ref=Ny(v,g,x),T.return=v,T)}function u(v,g,x,T){return g===null||g.tag!==4||g.stateNode.containerInfo!==x.containerInfo||g.stateNode.implementation!==x.implementation?(g=UA(x,v.mode,T),g.return=v,g):(g=s(g,x.children||[]),g.return=v,g)}function d(v,g,x,T,I){return g===null||g.tag!==7?(g=jp(x,v.mode,T,I),g.return=v,g):(g=s(g,x),g.return=v,g)}function p(v,g,x){if(typeof g=="string"&&g!==""||typeof g=="number")return g=BA(""+g,v.mode,x),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case wb:return x=Wx(g.type,g.key,g.props,null,v.mode,x),x.ref=Ny(v,null,g),x.return=v,x;case Yf:return g=UA(g,v.mode,x),g.return=v,g;case gu:var T=g._init;return p(v,T(g._payload),x)}if(eg(g)||Ty(g))return g=jp(g,v.mode,x,null),g.return=v,g;Mb(v,g)}return null}function f(v,g,x,T){var I=g!==null?g.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return I!==null?null:o(v,g,""+x,T);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case wb:return x.key===I?l(v,g,x,T):null;case Yf:return x.key===I?u(v,g,x,T):null;case gu:return I=x._init,f(v,g,I(x._payload),T)}if(eg(x)||Ty(x))return I!==null?null:d(v,g,x,T,null);Mb(v,x)}return null}function h(v,g,x,T,I){if(typeof T=="string"&&T!==""||typeof T=="number")return v=v.get(x)||null,o(g,v,""+T,I);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case wb:return v=v.get(T.key===null?x:T.key)||null,l(g,v,T,I);case Yf:return v=v.get(T.key===null?x:T.key)||null,u(g,v,T,I);case gu:var C=T._init;return h(v,g,x,C(T._payload),I)}if(eg(T)||Ty(T))return v=v.get(x)||null,d(g,v,T,I,null);Mb(g,T)}return null}function y(v,g,x,T){for(var I=null,C=null,N=g,P=g=0,L=null;N!==null&&P<x.length;P++){N.index>P?(L=N,N=null):L=N.sibling;var U=f(v,N,x[P],T);if(U===null){N===null&&(N=L);break}t&&N&&U.alternate===null&&e(v,N),g=i(U,g,P),C===null?I=U:C.sibling=U,C=U,N=L}if(P===x.length)return n(v,N),Gn&&qd(v,P),I;if(N===null){for(;P<x.length;P++)N=p(v,x[P],T),N!==null&&(g=i(N,g,P),C===null?I=N:C.sibling=N,C=N);return Gn&&qd(v,P),I}for(N=r(v,N);P<x.length;P++)L=h(N,v,P,x[P],T),L!==null&&(t&&L.alternate!==null&&N.delete(L.key===null?P:L.key),g=i(L,g,P),C===null?I=L:C.sibling=L,C=L);return t&&N.forEach(function($){return e(v,$)}),Gn&&qd(v,P),I}function m(v,g,x,T){var I=Ty(x);if(typeof I!="function")throw Error(Ce(150));if(x=I.call(x),x==null)throw Error(Ce(151));for(var C=I=null,N=g,P=g=0,L=null,U=x.next();N!==null&&!U.done;P++,U=x.next()){N.index>P?(L=N,N=null):L=N.sibling;var $=f(v,N,U.value,T);if($===null){N===null&&(N=L);break}t&&N&&$.alternate===null&&e(v,N),g=i($,g,P),C===null?I=$:C.sibling=$,C=$,N=L}if(U.done)return n(v,N),Gn&&qd(v,P),I;if(N===null){for(;!U.done;P++,U=x.next())U=p(v,U.value,T),U!==null&&(g=i(U,g,P),C===null?I=U:C.sibling=U,C=U);return Gn&&qd(v,P),I}for(N=r(v,N);!U.done;P++,U=x.next())U=h(N,v,P,U.value,T),U!==null&&(t&&U.alternate!==null&&N.delete(U.key===null?P:U.key),g=i(U,g,P),C===null?I=U:C.sibling=U,C=U);return t&&N.forEach(function(B){return e(v,B)}),Gn&&qd(v,P),I}function b(v,g,x,T){if(typeof x=="object"&&x!==null&&x.type===qf&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case wb:e:{for(var I=x.key,C=g;C!==null;){if(C.key===I){if(I=x.type,I===qf){if(C.tag===7){n(v,C.sibling),g=s(C,x.props.children),g.return=v,v=g;break e}}else if(C.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===gu&&Gj(I)===C.type){n(v,C.sibling),g=s(C,x.props),g.ref=Ny(v,C,x),g.return=v,v=g;break e}n(v,C);break}else e(v,C);C=C.sibling}x.type===qf?(g=jp(x.props.children,v.mode,T,x.key),g.return=v,v=g):(T=Wx(x.type,x.key,x.props,null,v.mode,T),T.ref=Ny(v,g,x),T.return=v,v=T)}return a(v);case Yf:e:{for(C=x.key;g!==null;){if(g.key===C)if(g.tag===4&&g.stateNode.containerInfo===x.containerInfo&&g.stateNode.implementation===x.implementation){n(v,g.sibling),g=s(g,x.children||[]),g.return=v,v=g;break e}else{n(v,g);break}else e(v,g);g=g.sibling}g=UA(x,v.mode,T),g.return=v,v=g}return a(v);case gu:return C=x._init,b(v,g,C(x._payload),T)}if(eg(x))return y(v,g,x,T);if(Ty(x))return m(v,g,x,T);Mb(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,g!==null&&g.tag===6?(n(v,g.sibling),g=s(g,x),g.return=v,v=g):(n(v,g),g=BA(x,v.mode,T),g.return=v,v=g),a(v)):n(v,g)}return b}var cm=iB(!0),aB=iB(!1),Ww=Ed(null),Gw=null,rh=null,M5=null;function j5(){M5=rh=Gw=null}function _5(t){var e=Ww.current;Un(Ww),t._currentValue=e}function kC(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Rh(t,e){Gw=t,M5=rh=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(xi=!0),t.firstContext=null)}function Da(t){var e=t._currentValue;if(M5!==t)if(t={context:t,memoizedValue:e,next:null},rh===null){if(Gw===null)throw Error(Ce(308));rh=t,Gw.dependencies={lanes:0,firstContext:t}}else rh=rh.next=t;return e}var lp=null;function D5(t){lp===null?lp=[t]:lp.push(t)}function oB(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,D5(e)):(n.next=s.next,s.next=n),e.interleaved=n,Pc(t,r)}function Pc(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var vu=!1;function O5(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lB(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function wc(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Zu(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,cn&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Pc(t,n)}return s=r.interleaved,s===null?(e.next=e,D5(r)):(e.next=s.next,s.next=e),r.interleaved=e,Pc(t,n)}function Fx(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,w5(t,n)}}function Kj(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Kw(t,e,n,r){var s=t.updateQueue;vu=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?i=u:a.next=u,a=l;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(i!==null){var p=s.baseState;a=0,d=u=l=null,o=i;do{var f=o.lane,h=o.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=t,m=o;switch(f=e,h=n,m.tag){case 1:if(y=m.payload,typeof y=="function"){p=y.call(h,p,f);break e}p=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=m.payload,f=typeof y=="function"?y.call(h,p,f):y,f==null)break e;p=sr({},p,f);break e;case 2:vu=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[o]:f.push(o))}else h={eventTime:h,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=h,l=p):d=d.next=h,a|=f;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;f=o,o=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=p),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);qp|=a,t.lanes=a,t.memoizedState=p}}function Yj(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Ce(191,s));s.call(r)}}}var Dv={},pl=Ed(Dv),s0=Ed(Dv),i0=Ed(Dv);function cp(t){if(t===Dv)throw Error(Ce(174));return t}function L5(t,e){switch(_n(i0,e),_n(s0,t),_n(pl,Dv),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:iC(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=iC(e,t)}Un(pl),_n(pl,e)}function um(){Un(pl),Un(s0),Un(i0)}function cB(t){cp(i0.current);var e=cp(pl.current),n=iC(e,t.type);e!==n&&(_n(s0,t),_n(pl,n))}function $5(t){s0.current===t&&(Un(pl),Un(s0))}var Qn=Ed(0);function Yw(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var _A=[];function F5(){for(var t=0;t<_A.length;t++)_A[t]._workInProgressVersionPrimary=null;_A.length=0}var Bx=Gc.ReactCurrentDispatcher,DA=Gc.ReactCurrentBatchConfig,Yp=0,nr=null,Fr=null,Jr=null,qw=!1,gg=!1,a0=0,Sne=0;function xs(){throw Error(Ce(321))}function B5(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!No(t[n],e[n]))return!1;return!0}function U5(t,e,n,r,s,i){if(Yp=i,nr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Bx.current=t===null||t.memoizedState===null?jne:_ne,t=n(r,s),gg){i=0;do{if(gg=!1,a0=0,25<=i)throw Error(Ce(301));i+=1,Jr=Fr=null,e.updateQueue=null,Bx.current=Dne,t=n(r,s)}while(gg)}if(Bx.current=Zw,e=Fr!==null&&Fr.next!==null,Yp=0,Jr=Fr=nr=null,qw=!1,e)throw Error(Ce(300));return t}function z5(){var t=a0!==0;return a0=0,t}function Xo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jr===null?nr.memoizedState=Jr=t:Jr=Jr.next=t,Jr}function Oa(){if(Fr===null){var t=nr.alternate;t=t!==null?t.memoizedState:null}else t=Fr.next;var e=Jr===null?nr.memoizedState:Jr.next;if(e!==null)Jr=e,Fr=t;else{if(t===null)throw Error(Ce(310));Fr=t,t={memoizedState:Fr.memoizedState,baseState:Fr.baseState,baseQueue:Fr.baseQueue,queue:Fr.queue,next:null},Jr===null?nr.memoizedState=Jr=t:Jr=Jr.next=t}return Jr}function o0(t,e){return typeof e=="function"?e(t):e}function OA(t){var e=Oa(),n=e.queue;if(n===null)throw Error(Ce(311));n.lastRenderedReducer=t;var r=Fr,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var o=a=null,l=null,u=i;do{var d=u.lane;if((Yp&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=p,a=r):l=l.next=p,nr.lanes|=d,qp|=d}u=u.next}while(u!==null&&u!==i);l===null?a=r:l.next=o,No(r,e.memoizedState)||(xi=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,nr.lanes|=i,qp|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function LA(t){var e=Oa(),n=e.queue;if(n===null)throw Error(Ce(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);No(i,e.memoizedState)||(xi=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function uB(){}function dB(t,e){var n=nr,r=Oa(),s=e(),i=!No(r.memoizedState,s);if(i&&(r.memoizedState=s,xi=!0),r=r.queue,V5(hB.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Jr!==null&&Jr.memoizedState.tag&1){if(n.flags|=2048,l0(9,fB.bind(null,n,r,s,e),void 0,null),ns===null)throw Error(Ce(349));Yp&30||pB(n,e,s)}return s}function pB(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=nr.updateQueue,e===null?(e={lastEffect:null,stores:null},nr.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function fB(t,e,n,r){e.value=n,e.getSnapshot=r,mB(e)&&yB(t)}function hB(t,e,n){return n(function(){mB(e)&&yB(t)})}function mB(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!No(t,n)}catch{return!0}}function yB(t){var e=Pc(t,1);e!==null&&Ao(e,t,1,-1)}function qj(t){var e=Xo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o0,lastRenderedState:t},e.queue=t,t=t.dispatch=Mne.bind(null,nr,t),[e.memoizedState,t]}function l0(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=nr.updateQueue,e===null?(e={lastEffect:null,stores:null},nr.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function gB(){return Oa().memoizedState}function Ux(t,e,n,r){var s=Xo();nr.flags|=t,s.memoizedState=l0(1|e,n,void 0,r===void 0?null:r)}function AT(t,e,n,r){var s=Oa();r=r===void 0?null:r;var i=void 0;if(Fr!==null){var a=Fr.memoizedState;if(i=a.destroy,r!==null&&B5(r,a.deps)){s.memoizedState=l0(e,n,i,r);return}}nr.flags|=t,s.memoizedState=l0(1|e,n,i,r)}function Zj(t,e){return Ux(8390656,8,t,e)}function V5(t,e){return AT(2048,8,t,e)}function vB(t,e){return AT(4,2,t,e)}function bB(t,e){return AT(4,4,t,e)}function xB(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function wB(t,e,n){return n=n!=null?n.concat([t]):null,AT(4,4,xB.bind(null,e,t),n)}function H5(){}function TB(t,e){var n=Oa();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&B5(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function AB(t,e){var n=Oa();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&B5(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function IB(t,e,n){return Yp&21?(No(n,e)||(n=S9(),nr.lanes|=n,qp|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,xi=!0),t.memoizedState=n)}function Rne(t,e){var n=An;An=n!==0&&4>n?n:4,t(!0);var r=DA.transition;DA.transition={};try{t(!1),e()}finally{An=n,DA.transition=r}}function kB(){return Oa().memoizedState}function Pne(t,e,n){var r=Ju(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},CB(t))NB(e,n);else if(n=oB(t,e,n,r),n!==null){var s=Qs();Ao(n,t,r,s),EB(n,e,r)}}function Mne(t,e,n){var r=Ju(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(CB(t))NB(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,o=i(a,n);if(s.hasEagerState=!0,s.eagerState=o,No(o,a)){var l=e.interleaved;l===null?(s.next=s,D5(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=oB(t,e,s,r),n!==null&&(s=Qs(),Ao(n,t,r,s),EB(n,e,r))}}function CB(t){var e=t.alternate;return t===nr||e!==null&&e===nr}function NB(t,e){gg=qw=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function EB(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,w5(t,n)}}var Zw={readContext:Da,useCallback:xs,useContext:xs,useEffect:xs,useImperativeHandle:xs,useInsertionEffect:xs,useLayoutEffect:xs,useMemo:xs,useReducer:xs,useRef:xs,useState:xs,useDebugValue:xs,useDeferredValue:xs,useTransition:xs,useMutableSource:xs,useSyncExternalStore:xs,useId:xs,unstable_isNewReconciler:!1},jne={readContext:Da,useCallback:function(t,e){return Xo().memoizedState=[t,e===void 0?null:e],t},useContext:Da,useEffect:Zj,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ux(4194308,4,xB.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ux(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ux(4,2,t,e)},useMemo:function(t,e){var n=Xo();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Xo();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Pne.bind(null,nr,t),[r.memoizedState,t]},useRef:function(t){var e=Xo();return t={current:t},e.memoizedState=t},useState:qj,useDebugValue:H5,useDeferredValue:function(t){return Xo().memoizedState=t},useTransition:function(){var t=qj(!1),e=t[0];return t=Rne.bind(null,t[1]),Xo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=nr,s=Xo();if(Gn){if(n===void 0)throw Error(Ce(407));n=n()}else{if(n=e(),ns===null)throw Error(Ce(349));Yp&30||pB(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Zj(hB.bind(null,r,i,t),[t]),r.flags|=2048,l0(9,fB.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Xo(),e=ns.identifierPrefix;if(Gn){var n=yc,r=mc;n=(r&~(1<<32-To(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=a0++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Sne++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},_ne={readContext:Da,useCallback:TB,useContext:Da,useEffect:V5,useImperativeHandle:wB,useInsertionEffect:vB,useLayoutEffect:bB,useMemo:AB,useReducer:OA,useRef:gB,useState:function(){return OA(o0)},useDebugValue:H5,useDeferredValue:function(t){var e=Oa();return IB(e,Fr.memoizedState,t)},useTransition:function(){var t=OA(o0)[0],e=Oa().memoizedState;return[t,e]},useMutableSource:uB,useSyncExternalStore:dB,useId:kB,unstable_isNewReconciler:!1},Dne={readContext:Da,useCallback:TB,useContext:Da,useEffect:V5,useImperativeHandle:wB,useInsertionEffect:vB,useLayoutEffect:bB,useMemo:AB,useReducer:LA,useRef:gB,useState:function(){return LA(o0)},useDebugValue:H5,useDeferredValue:function(t){var e=Oa();return Fr===null?e.memoizedState=t:IB(e,Fr.memoizedState,t)},useTransition:function(){var t=LA(o0)[0],e=Oa().memoizedState;return[t,e]},useMutableSource:uB,useSyncExternalStore:dB,useId:kB,unstable_isNewReconciler:!1};function to(t,e){if(t&&t.defaultProps){e=sr({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function CC(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:sr({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var IT={isMounted:function(t){return(t=t._reactInternals)?Af(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Qs(),s=Ju(t),i=wc(r,s);i.payload=e,n!=null&&(i.callback=n),e=Zu(t,i,s),e!==null&&(Ao(e,t,s,r),Fx(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Qs(),s=Ju(t),i=wc(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Zu(t,i,s),e!==null&&(Ao(e,t,s,r),Fx(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Qs(),r=Ju(t),s=wc(n,r);s.tag=2,e!=null&&(s.callback=e),e=Zu(t,s,r),e!==null&&(Ao(e,t,r,n),Fx(e,t,r))}};function Xj(t,e,n,r,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!e0(n,r)||!e0(s,i):!0}function SB(t,e,n){var r=!1,s=pd,i=e.contextType;return typeof i=="object"&&i!==null?i=Da(i):(s=ki(e)?Gp:Ls.current,r=e.contextTypes,i=(r=r!=null)?om(t,s):pd),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=IT,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Jj(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&IT.enqueueReplaceState(e,e.state,null)}function NC(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},O5(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Da(i):(i=ki(e)?Gp:Ls.current,s.context=om(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(CC(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&IT.enqueueReplaceState(s,s.state,null),Kw(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function dm(t,e){try{var n="",r=e;do n+=cte(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function $A(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function EC(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var One=typeof WeakMap=="function"?WeakMap:Map;function RB(t,e,n){n=wc(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Jw||(Jw=!0,$C=r),EC(t,e)},n}function PB(t,e,n){n=wc(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){EC(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){EC(t,e),typeof r!="function"&&(Xu===null?Xu=new Set([this]):Xu.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Qj(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new One;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Zne.bind(null,t,e,n),e.then(t,t))}function e3(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function t3(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=wc(-1,1),e.tag=2,Zu(n,e,1))),n.lanes|=1),t)}var Lne=Gc.ReactCurrentOwner,xi=!1;function zs(t,e,n,r){e.child=t===null?aB(e,null,n,r):cm(e,t.child,n,r)}function n3(t,e,n,r,s){n=n.render;var i=e.ref;return Rh(e,s),r=U5(t,e,n,r,i,s),n=z5(),t!==null&&!xi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Mc(t,e,s)):(Gn&&n&&S5(e),e.flags|=1,zs(t,e,r,s),e.child)}function r3(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!J5(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,MB(t,e,i,r,s)):(t=Wx(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:e0,n(a,r)&&t.ref===e.ref)return Mc(t,e,s)}return e.flags|=1,t=Qu(i,r),t.ref=e.ref,t.return=e,e.child=t}function MB(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(e0(i,r)&&t.ref===e.ref)if(xi=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(xi=!0);else return e.lanes=t.lanes,Mc(t,e,s)}return SC(t,e,n,r,s)}function jB(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},_n(ih,Fi),Fi|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,_n(ih,Fi),Fi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,_n(ih,Fi),Fi|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,_n(ih,Fi),Fi|=r;return zs(t,e,s,n),e.child}function _B(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function SC(t,e,n,r,s){var i=ki(n)?Gp:Ls.current;return i=om(e,i),Rh(e,s),n=U5(t,e,n,r,i,s),r=z5(),t!==null&&!xi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Mc(t,e,s)):(Gn&&r&&S5(e),e.flags|=1,zs(t,e,n,s),e.child)}function s3(t,e,n,r,s){if(ki(n)){var i=!0;zw(e)}else i=!1;if(Rh(e,s),e.stateNode===null)zx(t,e),SB(e,n,r),NC(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Da(u):(u=ki(n)?Gp:Ls.current,u=om(e,u));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==u)&&Jj(e,a,r,u),vu=!1;var f=e.memoizedState;a.state=f,Kw(e,r,a,s),l=e.memoizedState,o!==r||f!==l||Ii.current||vu?(typeof d=="function"&&(CC(e,n,d,r),l=e.memoizedState),(o=vu||Xj(e,n,o,r,f,l,u))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,lB(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:to(e.type,o),a.props=u,p=e.pendingProps,f=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Da(l):(l=ki(n)?Gp:Ls.current,l=om(e,l));var h=n.getDerivedStateFromProps;(d=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==p||f!==l)&&Jj(e,a,r,l),vu=!1,f=e.memoizedState,a.state=f,Kw(e,r,a,s);var y=e.memoizedState;o!==p||f!==y||Ii.current||vu?(typeof h=="function"&&(CC(e,n,h,r),y=e.memoizedState),(u=vu||Xj(e,n,u,r,f,y,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,y,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,y,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),a.props=r,a.state=y,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return RC(t,e,n,r,i,s)}function RC(t,e,n,r,s,i){_B(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&Vj(e,n,!1),Mc(t,e,i);r=e.stateNode,Lne.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=cm(e,t.child,null,i),e.child=cm(e,null,o,i)):zs(t,e,o,i),e.memoizedState=r.state,s&&Vj(e,n,!0),e.child}function DB(t){var e=t.stateNode;e.pendingContext?zj(t,e.pendingContext,e.pendingContext!==e.context):e.context&&zj(t,e.context,!1),L5(t,e.containerInfo)}function i3(t,e,n,r,s){return lm(),P5(s),e.flags|=256,zs(t,e,n,r),e.child}var PC={dehydrated:null,treeContext:null,retryLane:0};function MC(t){return{baseLanes:t,cachePool:null,transitions:null}}function OB(t,e,n){var r=e.pendingProps,s=Qn.current,i=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(s&2)!==0),o?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),_n(Qn,s&1),t===null)return IC(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=NT(a,r,0,null),t=jp(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=MC(n),e.memoizedState=PC,t):W5(e,a));if(s=t.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return $ne(t,e,a,r,o,s,n);if(i){i=r.fallback,a=e.mode,s=t.child,o=s.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Qu(s,l),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Qu(o,i):(i=jp(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?MC(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=PC,r}return i=t.child,t=i.sibling,r=Qu(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function W5(t,e){return e=NT({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function jb(t,e,n,r){return r!==null&&P5(r),cm(e,t.child,null,n),t=W5(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function $ne(t,e,n,r,s,i,a){if(n)return e.flags&256?(e.flags&=-257,r=$A(Error(Ce(422))),jb(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=NT({mode:"visible",children:r.children},s,0,null),i=jp(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&cm(e,t.child,null,a),e.child.memoizedState=MC(a),e.memoizedState=PC,i);if(!(e.mode&1))return jb(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(Ce(419)),r=$A(i,r,void 0),jb(t,e,a,r)}if(o=(a&t.childLanes)!==0,xi||o){if(r=ns,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Pc(t,s),Ao(r,t,s,-1))}return X5(),r=$A(Error(Ce(421))),jb(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Xne.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Zi=qu(s.nextSibling),Qi=e,Gn=!0,co=null,t!==null&&(Aa[Ia++]=mc,Aa[Ia++]=yc,Aa[Ia++]=Kp,mc=t.id,yc=t.overflow,Kp=e),e=W5(e,r.children),e.flags|=4096,e)}function a3(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),kC(t.return,e,n)}function FA(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function LB(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(zs(t,e,r.children,n),r=Qn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&a3(t,n,e);else if(t.tag===19)a3(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(_n(Qn,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Yw(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),FA(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Yw(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}FA(e,!0,n,null,i);break;case"together":FA(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function zx(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Mc(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),qp|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ce(153));if(e.child!==null){for(t=e.child,n=Qu(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Qu(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Fne(t,e,n){switch(e.tag){case 3:DB(e),lm();break;case 5:cB(e);break;case 1:ki(e.type)&&zw(e);break;case 4:L5(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;_n(Ww,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(_n(Qn,Qn.current&1),e.flags|=128,null):n&e.child.childLanes?OB(t,e,n):(_n(Qn,Qn.current&1),t=Mc(t,e,n),t!==null?t.sibling:null);_n(Qn,Qn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return LB(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),_n(Qn,Qn.current),r)break;return null;case 22:case 23:return e.lanes=0,jB(t,e,n)}return Mc(t,e,n)}var $B,jC,FB,BB;$B=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};jC=function(){};FB=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,cp(pl.current);var i=null;switch(n){case"input":s=tC(t,s),r=tC(t,r),i=[];break;case"select":s=sr({},s,{value:void 0}),r=sr({},r,{value:void 0}),i=[];break;case"textarea":s=sC(t,s),r=sC(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Bw)}aC(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Kg.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(o=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Kg.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&$n("scroll",t),i||o===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};BB=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ey(t,e){if(!Gn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ws(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Bne(t,e,n){var r=e.pendingProps;switch(R5(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ws(e),null;case 1:return ki(e.type)&&Uw(),ws(e),null;case 3:return r=e.stateNode,um(),Un(Ii),Un(Ls),F5(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Pb(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,co!==null&&(UC(co),co=null))),jC(t,e),ws(e),null;case 5:$5(e);var s=cp(i0.current);if(n=e.type,t!==null&&e.stateNode!=null)FB(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ce(166));return ws(e),null}if(t=cp(pl.current),Pb(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[ol]=e,r[r0]=i,t=(e.mode&1)!==0,n){case"dialog":$n("cancel",r),$n("close",r);break;case"iframe":case"object":case"embed":$n("load",r);break;case"video":case"audio":for(s=0;s<ng.length;s++)$n(ng[s],r);break;case"source":$n("error",r);break;case"img":case"image":case"link":$n("error",r),$n("load",r);break;case"details":$n("toggle",r);break;case"input":mj(r,i),$n("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},$n("invalid",r);break;case"textarea":gj(r,i),$n("invalid",r)}aC(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&Rb(r.textContent,o,t),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Rb(r.textContent,o,t),s=["children",""+o]):Kg.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&$n("scroll",r)}switch(n){case"input":Tb(r),yj(r,i,!0);break;case"textarea":Tb(r),vj(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Bw)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=h9(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[ol]=e,t[r0]=r,$B(t,e,!1,!1),e.stateNode=t;e:{switch(a=oC(n,r),n){case"dialog":$n("cancel",t),$n("close",t),s=r;break;case"iframe":case"object":case"embed":$n("load",t),s=r;break;case"video":case"audio":for(s=0;s<ng.length;s++)$n(ng[s],t);s=r;break;case"source":$n("error",t),s=r;break;case"img":case"image":case"link":$n("error",t),$n("load",t),s=r;break;case"details":$n("toggle",t),s=r;break;case"input":mj(t,r),s=tC(t,r),$n("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=sr({},r,{value:void 0}),$n("invalid",t);break;case"textarea":gj(t,r),s=sC(t,r),$n("invalid",t);break;default:s=r}aC(n,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?g9(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&m9(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Yg(t,l):typeof l=="number"&&Yg(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Kg.hasOwnProperty(i)?l!=null&&i==="onScroll"&&$n("scroll",t):l!=null&&m5(t,i,l,a))}switch(n){case"input":Tb(t),yj(t,r,!1);break;case"textarea":Tb(t),vj(t);break;case"option":r.value!=null&&t.setAttribute("value",""+dd(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Ch(t,!!r.multiple,i,!1):r.defaultValue!=null&&Ch(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Bw)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ws(e),null;case 6:if(t&&e.stateNode!=null)BB(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ce(166));if(n=cp(i0.current),cp(pl.current),Pb(e)){if(r=e.stateNode,n=e.memoizedProps,r[ol]=e,(i=r.nodeValue!==n)&&(t=Qi,t!==null))switch(t.tag){case 3:Rb(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Rb(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ol]=e,e.stateNode=r}return ws(e),null;case 13:if(Un(Qn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Gn&&Zi!==null&&e.mode&1&&!(e.flags&128))sB(),lm(),e.flags|=98560,i=!1;else if(i=Pb(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(Ce(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ce(317));i[ol]=e}else lm(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ws(e),i=!1}else co!==null&&(UC(co),co=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Qn.current&1?Hr===0&&(Hr=3):X5())),e.updateQueue!==null&&(e.flags|=4),ws(e),null);case 4:return um(),jC(t,e),t===null&&t0(e.stateNode.containerInfo),ws(e),null;case 10:return _5(e.type._context),ws(e),null;case 17:return ki(e.type)&&Uw(),ws(e),null;case 19:if(Un(Qn),i=e.memoizedState,i===null)return ws(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)Ey(i,!1);else{if(Hr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Yw(t),a!==null){for(e.flags|=128,Ey(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return _n(Qn,Qn.current&1|2),e.child}t=t.sibling}i.tail!==null&&xr()>pm&&(e.flags|=128,r=!0,Ey(i,!1),e.lanes=4194304)}else{if(!r)if(t=Yw(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ey(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Gn)return ws(e),null}else 2*xr()-i.renderingStartTime>pm&&n!==1073741824&&(e.flags|=128,r=!0,Ey(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=xr(),e.sibling=null,n=Qn.current,_n(Qn,r?n&1|2:n&1),e):(ws(e),null);case 22:case 23:return Z5(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Fi&1073741824&&(ws(e),e.subtreeFlags&6&&(e.flags|=8192)):ws(e),null;case 24:return null;case 25:return null}throw Error(Ce(156,e.tag))}function Une(t,e){switch(R5(e),e.tag){case 1:return ki(e.type)&&Uw(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return um(),Un(Ii),Un(Ls),F5(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return $5(e),null;case 13:if(Un(Qn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ce(340));lm()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Un(Qn),null;case 4:return um(),null;case 10:return _5(e.type._context),null;case 22:case 23:return Z5(),null;case 24:return null;default:return null}}var _b=!1,Ns=!1,zne=typeof WeakSet=="function"?WeakSet:Set,qe=null;function sh(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){fr(t,e,r)}else n.current=null}function _C(t,e,n){try{n()}catch(r){fr(t,e,r)}}var o3=!1;function Vne(t,e){if(gC=Lw,t=W9(),E5(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,u=0,d=0,p=t,f=null;t:for(;;){for(var h;p!==n||s!==0&&p.nodeType!==3||(o=a+s),p!==i||r!==0&&p.nodeType!==3||(l=a+r),p.nodeType===3&&(a+=p.nodeValue.length),(h=p.firstChild)!==null;)f=p,p=h;for(;;){if(p===t)break t;if(f===n&&++u===s&&(o=a),f===i&&++d===r&&(l=a),(h=p.nextSibling)!==null)break;p=f,f=p.parentNode}p=h}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(vC={focusedElem:t,selectionRange:n},Lw=!1,qe=e;qe!==null;)if(e=qe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,qe=t;else for(;qe!==null;){e=qe;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var m=y.memoizedProps,b=y.memoizedState,v=e.stateNode,g=v.getSnapshotBeforeUpdate(e.elementType===e.type?m:to(e.type,m),b);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ce(163))}}catch(T){fr(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,qe=t;break}qe=e.return}return y=o3,o3=!1,y}function vg(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&_C(e,n,i)}s=s.next}while(s!==r)}}function kT(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function DC(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function UB(t){var e=t.alternate;e!==null&&(t.alternate=null,UB(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ol],delete e[r0],delete e[wC],delete e[kne],delete e[Cne])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function zB(t){return t.tag===5||t.tag===3||t.tag===4}function l3(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||zB(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function OC(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Bw));else if(r!==4&&(t=t.child,t!==null))for(OC(t,e,n),t=t.sibling;t!==null;)OC(t,e,n),t=t.sibling}function LC(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(LC(t,e,n),t=t.sibling;t!==null;)LC(t,e,n),t=t.sibling}var os=null,lo=!1;function ru(t,e,n){for(n=n.child;n!==null;)VB(t,e,n),n=n.sibling}function VB(t,e,n){if(dl&&typeof dl.onCommitFiberUnmount=="function")try{dl.onCommitFiberUnmount(gT,n)}catch{}switch(n.tag){case 5:Ns||sh(n,e);case 6:var r=os,s=lo;os=null,ru(t,e,n),os=r,lo=s,os!==null&&(lo?(t=os,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):os.removeChild(n.stateNode));break;case 18:os!==null&&(lo?(t=os,n=n.stateNode,t.nodeType===8?MA(t.parentNode,n):t.nodeType===1&&MA(t,n),Jg(t)):MA(os,n.stateNode));break;case 4:r=os,s=lo,os=n.stateNode.containerInfo,lo=!0,ru(t,e,n),os=r,lo=s;break;case 0:case 11:case 14:case 15:if(!Ns&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&_C(n,e,a),s=s.next}while(s!==r)}ru(t,e,n);break;case 1:if(!Ns&&(sh(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){fr(n,e,o)}ru(t,e,n);break;case 21:ru(t,e,n);break;case 22:n.mode&1?(Ns=(r=Ns)||n.memoizedState!==null,ru(t,e,n),Ns=r):ru(t,e,n);break;default:ru(t,e,n)}}function c3(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new zne),e.forEach(function(r){var s=Jne.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Wa(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:os=o.stateNode,lo=!1;break e;case 3:os=o.stateNode.containerInfo,lo=!0;break e;case 4:os=o.stateNode.containerInfo,lo=!0;break e}o=o.return}if(os===null)throw Error(Ce(160));VB(i,a,s),os=null,lo=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){fr(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)HB(e,t),e=e.sibling}function HB(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Wa(e,t),Ho(t),r&4){try{vg(3,t,t.return),kT(3,t)}catch(m){fr(t,t.return,m)}try{vg(5,t,t.return)}catch(m){fr(t,t.return,m)}}break;case 1:Wa(e,t),Ho(t),r&512&&n!==null&&sh(n,n.return);break;case 5:if(Wa(e,t),Ho(t),r&512&&n!==null&&sh(n,n.return),t.flags&32){var s=t.stateNode;try{Yg(s,"")}catch(m){fr(t,t.return,m)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&p9(s,i),oC(o,a);var u=oC(o,i);for(a=0;a<l.length;a+=2){var d=l[a],p=l[a+1];d==="style"?g9(s,p):d==="dangerouslySetInnerHTML"?m9(s,p):d==="children"?Yg(s,p):m5(s,d,p,u)}switch(o){case"input":nC(s,i);break;case"textarea":f9(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?Ch(s,!!i.multiple,h,!1):f!==!!i.multiple&&(i.defaultValue!=null?Ch(s,!!i.multiple,i.defaultValue,!0):Ch(s,!!i.multiple,i.multiple?[]:"",!1))}s[r0]=i}catch(m){fr(t,t.return,m)}}break;case 6:if(Wa(e,t),Ho(t),r&4){if(t.stateNode===null)throw Error(Ce(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(m){fr(t,t.return,m)}}break;case 3:if(Wa(e,t),Ho(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Jg(e.containerInfo)}catch(m){fr(t,t.return,m)}break;case 4:Wa(e,t),Ho(t);break;case 13:Wa(e,t),Ho(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Y5=xr())),r&4&&c3(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Ns=(u=Ns)||d,Wa(e,t),Ns=u):Wa(e,t),Ho(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(qe=t,d=t.child;d!==null;){for(p=qe=d;qe!==null;){switch(f=qe,h=f.child,f.tag){case 0:case 11:case 14:case 15:vg(4,f,f.return);break;case 1:sh(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(m){fr(r,n,m)}}break;case 5:sh(f,f.return);break;case 22:if(f.memoizedState!==null){d3(p);continue}}h!==null?(h.return=f,qe=h):d3(p)}d=d.sibling}e:for(d=null,p=t;;){if(p.tag===5){if(d===null){d=p;try{s=p.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=p.stateNode,l=p.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=y9("display",a))}catch(m){fr(t,t.return,m)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(m){fr(t,t.return,m)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Wa(e,t),Ho(t),r&4&&c3(t);break;case 21:break;default:Wa(e,t),Ho(t)}}function Ho(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(zB(n)){var r=n;break e}n=n.return}throw Error(Ce(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Yg(s,""),r.flags&=-33);var i=l3(t);LC(t,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,o=l3(t);OC(t,o,a);break;default:throw Error(Ce(161))}}catch(l){fr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Hne(t,e,n){qe=t,WB(t)}function WB(t,e,n){for(var r=(t.mode&1)!==0;qe!==null;){var s=qe,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||_b;if(!a){var o=s.alternate,l=o!==null&&o.memoizedState!==null||Ns;o=_b;var u=Ns;if(_b=a,(Ns=l)&&!u)for(qe=s;qe!==null;)a=qe,l=a.child,a.tag===22&&a.memoizedState!==null?p3(s):l!==null?(l.return=a,qe=l):p3(s);for(;i!==null;)qe=i,WB(i),i=i.sibling;qe=s,_b=o,Ns=u}u3(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,qe=i):u3(t)}}function u3(t){for(;qe!==null;){var e=qe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ns||kT(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ns)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:to(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Yj(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Yj(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&Jg(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ce(163))}Ns||e.flags&512&&DC(e)}catch(f){fr(e,e.return,f)}}if(e===t){qe=null;break}if(n=e.sibling,n!==null){n.return=e.return,qe=n;break}qe=e.return}}function d3(t){for(;qe!==null;){var e=qe;if(e===t){qe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,qe=n;break}qe=e.return}}function p3(t){for(;qe!==null;){var e=qe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{kT(4,e)}catch(l){fr(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){fr(e,s,l)}}var i=e.return;try{DC(e)}catch(l){fr(e,i,l)}break;case 5:var a=e.return;try{DC(e)}catch(l){fr(e,a,l)}}}catch(l){fr(e,e.return,l)}if(e===t){qe=null;break}var o=e.sibling;if(o!==null){o.return=e.return,qe=o;break}qe=e.return}}var Wne=Math.ceil,Xw=Gc.ReactCurrentDispatcher,G5=Gc.ReactCurrentOwner,Ma=Gc.ReactCurrentBatchConfig,cn=0,ns=null,jr=null,ms=0,Fi=0,ih=Ed(0),Hr=0,c0=null,qp=0,CT=0,K5=0,bg=null,fi=null,Y5=0,pm=1/0,ec=null,Jw=!1,$C=null,Xu=null,Db=!1,Lu=null,Qw=0,xg=0,FC=null,Vx=-1,Hx=0;function Qs(){return cn&6?xr():Vx!==-1?Vx:Vx=xr()}function Ju(t){return t.mode&1?cn&2&&ms!==0?ms&-ms:Ene.transition!==null?(Hx===0&&(Hx=S9()),Hx):(t=An,t!==0||(t=window.event,t=t===void 0?16:O9(t.type)),t):1}function Ao(t,e,n,r){if(50<xg)throw xg=0,FC=null,Error(Ce(185));Mv(t,n,r),(!(cn&2)||t!==ns)&&(t===ns&&(!(cn&2)&&(CT|=n),Hr===4&&Au(t,ms)),Ci(t,r),n===1&&cn===0&&!(e.mode&1)&&(pm=xr()+500,TT&&Sd()))}function Ci(t,e){var n=t.callbackNode;Ete(t,e);var r=Ow(t,t===ns?ms:0);if(r===0)n!==null&&wj(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&wj(n),e===1)t.tag===0?Nne(f3.bind(null,t)):tB(f3.bind(null,t)),Ane(function(){!(cn&6)&&Sd()}),n=null;else{switch(R9(r)){case 1:n=x5;break;case 4:n=N9;break;case 16:n=Dw;break;case 536870912:n=E9;break;default:n=Dw}n=QB(n,GB.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function GB(t,e){if(Vx=-1,Hx=0,cn&6)throw Error(Ce(327));var n=t.callbackNode;if(Ph()&&t.callbackNode!==n)return null;var r=Ow(t,t===ns?ms:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=e1(t,r);else{e=r;var s=cn;cn|=2;var i=YB();(ns!==t||ms!==e)&&(ec=null,pm=xr()+500,Mp(t,e));do try{Yne();break}catch(o){KB(t,o)}while(!0);j5(),Xw.current=i,cn=s,jr!==null?e=0:(ns=null,ms=0,e=Hr)}if(e!==0){if(e===2&&(s=pC(t),s!==0&&(r=s,e=BC(t,s))),e===1)throw n=c0,Mp(t,0),Au(t,r),Ci(t,xr()),n;if(e===6)Au(t,r);else{if(s=t.current.alternate,!(r&30)&&!Gne(s)&&(e=e1(t,r),e===2&&(i=pC(t),i!==0&&(r=i,e=BC(t,i))),e===1))throw n=c0,Mp(t,0),Au(t,r),Ci(t,xr()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(Ce(345));case 2:Zd(t,fi,ec);break;case 3:if(Au(t,r),(r&130023424)===r&&(e=Y5+500-xr(),10<e)){if(Ow(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Qs(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=xC(Zd.bind(null,t,fi,ec),e);break}Zd(t,fi,ec);break;case 4:if(Au(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-To(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=xr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Wne(r/1960))-r,10<r){t.timeoutHandle=xC(Zd.bind(null,t,fi,ec),r);break}Zd(t,fi,ec);break;case 5:Zd(t,fi,ec);break;default:throw Error(Ce(329))}}}return Ci(t,xr()),t.callbackNode===n?GB.bind(null,t):null}function BC(t,e){var n=bg;return t.current.memoizedState.isDehydrated&&(Mp(t,e).flags|=256),t=e1(t,e),t!==2&&(e=fi,fi=n,e!==null&&UC(e)),t}function UC(t){fi===null?fi=t:fi.push.apply(fi,t)}function Gne(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!No(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Au(t,e){for(e&=~K5,e&=~CT,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-To(e),r=1<<n;t[n]=-1,e&=~r}}function f3(t){if(cn&6)throw Error(Ce(327));Ph();var e=Ow(t,0);if(!(e&1))return Ci(t,xr()),null;var n=e1(t,e);if(t.tag!==0&&n===2){var r=pC(t);r!==0&&(e=r,n=BC(t,r))}if(n===1)throw n=c0,Mp(t,0),Au(t,e),Ci(t,xr()),n;if(n===6)throw Error(Ce(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Zd(t,fi,ec),Ci(t,xr()),null}function q5(t,e){var n=cn;cn|=1;try{return t(e)}finally{cn=n,cn===0&&(pm=xr()+500,TT&&Sd())}}function Zp(t){Lu!==null&&Lu.tag===0&&!(cn&6)&&Ph();var e=cn;cn|=1;var n=Ma.transition,r=An;try{if(Ma.transition=null,An=1,t)return t()}finally{An=r,Ma.transition=n,cn=e,!(cn&6)&&Sd()}}function Z5(){Fi=ih.current,Un(ih)}function Mp(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Tne(n)),jr!==null)for(n=jr.return;n!==null;){var r=n;switch(R5(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Uw();break;case 3:um(),Un(Ii),Un(Ls),F5();break;case 5:$5(r);break;case 4:um();break;case 13:Un(Qn);break;case 19:Un(Qn);break;case 10:_5(r.type._context);break;case 22:case 23:Z5()}n=n.return}if(ns=t,jr=t=Qu(t.current,null),ms=Fi=e,Hr=0,c0=null,K5=CT=qp=0,fi=bg=null,lp!==null){for(e=0;e<lp.length;e++)if(n=lp[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}lp=null}return t}function KB(t,e){do{var n=jr;try{if(j5(),Bx.current=Zw,qw){for(var r=nr.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}qw=!1}if(Yp=0,Jr=Fr=nr=null,gg=!1,a0=0,G5.current=null,n===null||n.return===null){Hr=1,c0=e,jr=null;break}e:{var i=t,a=n.return,o=n,l=e;if(e=ms,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=o,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=e3(a);if(h!==null){h.flags&=-257,t3(h,a,o,i,e),h.mode&1&&Qj(i,u,e),e=h,l=u;var y=e.updateQueue;if(y===null){var m=new Set;m.add(l),e.updateQueue=m}else y.add(l);break e}else{if(!(e&1)){Qj(i,u,e),X5();break e}l=Error(Ce(426))}}else if(Gn&&o.mode&1){var b=e3(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),t3(b,a,o,i,e),P5(dm(l,o));break e}}i=l=dm(l,o),Hr!==4&&(Hr=2),bg===null?bg=[i]:bg.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=RB(i,l,e);Kj(i,v);break e;case 1:o=l;var g=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Xu===null||!Xu.has(x)))){i.flags|=65536,e&=-e,i.lanes|=e;var T=PB(i,o,e);Kj(i,T);break e}}i=i.return}while(i!==null)}ZB(n)}catch(I){e=I,jr===n&&n!==null&&(jr=n=n.return);continue}break}while(!0)}function YB(){var t=Xw.current;return Xw.current=Zw,t===null?Zw:t}function X5(){(Hr===0||Hr===3||Hr===2)&&(Hr=4),ns===null||!(qp&268435455)&&!(CT&268435455)||Au(ns,ms)}function e1(t,e){var n=cn;cn|=2;var r=YB();(ns!==t||ms!==e)&&(ec=null,Mp(t,e));do try{Kne();break}catch(s){KB(t,s)}while(!0);if(j5(),cn=n,Xw.current=r,jr!==null)throw Error(Ce(261));return ns=null,ms=0,Hr}function Kne(){for(;jr!==null;)qB(jr)}function Yne(){for(;jr!==null&&!bte();)qB(jr)}function qB(t){var e=JB(t.alternate,t,Fi);t.memoizedProps=t.pendingProps,e===null?ZB(t):jr=e,G5.current=null}function ZB(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Une(n,e),n!==null){n.flags&=32767,jr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Hr=6,jr=null;return}}else if(n=Bne(n,e,Fi),n!==null){jr=n;return}if(e=e.sibling,e!==null){jr=e;return}jr=e=t}while(e!==null);Hr===0&&(Hr=5)}function Zd(t,e,n){var r=An,s=Ma.transition;try{Ma.transition=null,An=1,qne(t,e,n,r)}finally{Ma.transition=s,An=r}return null}function qne(t,e,n,r){do Ph();while(Lu!==null);if(cn&6)throw Error(Ce(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Ce(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Ste(t,i),t===ns&&(jr=ns=null,ms=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Db||(Db=!0,QB(Dw,function(){return Ph(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ma.transition,Ma.transition=null;var a=An;An=1;var o=cn;cn|=4,G5.current=null,Vne(t,n),HB(n,t),mne(vC),Lw=!!gC,vC=gC=null,t.current=n,Hne(n),xte(),cn=o,An=a,Ma.transition=i}else t.current=n;if(Db&&(Db=!1,Lu=t,Qw=s),i=t.pendingLanes,i===0&&(Xu=null),Ate(n.stateNode),Ci(t,xr()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Jw)throw Jw=!1,t=$C,$C=null,t;return Qw&1&&t.tag!==0&&Ph(),i=t.pendingLanes,i&1?t===FC?xg++:(xg=0,FC=t):xg=0,Sd(),null}function Ph(){if(Lu!==null){var t=R9(Qw),e=Ma.transition,n=An;try{if(Ma.transition=null,An=16>t?16:t,Lu===null)var r=!1;else{if(t=Lu,Lu=null,Qw=0,cn&6)throw Error(Ce(331));var s=cn;for(cn|=4,qe=t.current;qe!==null;){var i=qe,a=i.child;if(qe.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(qe=u;qe!==null;){var d=qe;switch(d.tag){case 0:case 11:case 15:vg(8,d,i)}var p=d.child;if(p!==null)p.return=d,qe=p;else for(;qe!==null;){d=qe;var f=d.sibling,h=d.return;if(UB(d),d===u){qe=null;break}if(f!==null){f.return=h,qe=f;break}qe=h}}}var y=i.alternate;if(y!==null){var m=y.child;if(m!==null){y.child=null;do{var b=m.sibling;m.sibling=null,m=b}while(m!==null)}}qe=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,qe=a;else e:for(;qe!==null;){if(i=qe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:vg(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,qe=v;break e}qe=i.return}}var g=t.current;for(qe=g;qe!==null;){a=qe;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,qe=x;else e:for(a=g;qe!==null;){if(o=qe,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:kT(9,o)}}catch(I){fr(o,o.return,I)}if(o===a){qe=null;break e}var T=o.sibling;if(T!==null){T.return=o.return,qe=T;break e}qe=o.return}}if(cn=s,Sd(),dl&&typeof dl.onPostCommitFiberRoot=="function")try{dl.onPostCommitFiberRoot(gT,t)}catch{}r=!0}return r}finally{An=n,Ma.transition=e}}return!1}function h3(t,e,n){e=dm(n,e),e=RB(t,e,1),t=Zu(t,e,1),e=Qs(),t!==null&&(Mv(t,1,e),Ci(t,e))}function fr(t,e,n){if(t.tag===3)h3(t,t,n);else for(;e!==null;){if(e.tag===3){h3(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xu===null||!Xu.has(r))){t=dm(n,t),t=PB(e,t,1),e=Zu(e,t,1),t=Qs(),e!==null&&(Mv(e,1,t),Ci(e,t));break}}e=e.return}}function Zne(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Qs(),t.pingedLanes|=t.suspendedLanes&n,ns===t&&(ms&n)===n&&(Hr===4||Hr===3&&(ms&130023424)===ms&&500>xr()-Y5?Mp(t,0):K5|=n),Ci(t,e)}function XB(t,e){e===0&&(t.mode&1?(e=kb,kb<<=1,!(kb&130023424)&&(kb=4194304)):e=1);var n=Qs();t=Pc(t,e),t!==null&&(Mv(t,e,n),Ci(t,n))}function Xne(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),XB(t,n)}function Jne(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Ce(314))}r!==null&&r.delete(e),XB(t,n)}var JB;JB=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ii.current)xi=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return xi=!1,Fne(t,e,n);xi=!!(t.flags&131072)}else xi=!1,Gn&&e.flags&1048576&&nB(e,Hw,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;zx(t,e),t=e.pendingProps;var s=om(e,Ls.current);Rh(e,n),s=U5(null,e,r,t,s,n);var i=z5();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ki(r)?(i=!0,zw(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,O5(e),s.updater=IT,e.stateNode=s,s._reactInternals=e,NC(e,r,t,n),e=RC(null,e,r,!0,i,n)):(e.tag=0,Gn&&i&&S5(e),zs(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(zx(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=ere(r),t=to(r,t),s){case 0:e=SC(null,e,r,t,n);break e;case 1:e=s3(null,e,r,t,n);break e;case 11:e=n3(null,e,r,t,n);break e;case 14:e=r3(null,e,r,to(r.type,t),n);break e}throw Error(Ce(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:to(r,s),SC(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:to(r,s),s3(t,e,r,s,n);case 3:e:{if(DB(e),t===null)throw Error(Ce(387));r=e.pendingProps,i=e.memoizedState,s=i.element,lB(t,e),Kw(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=dm(Error(Ce(423)),e),e=i3(t,e,r,n,s);break e}else if(r!==s){s=dm(Error(Ce(424)),e),e=i3(t,e,r,n,s);break e}else for(Zi=qu(e.stateNode.containerInfo.firstChild),Qi=e,Gn=!0,co=null,n=aB(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(lm(),r===s){e=Mc(t,e,n);break e}zs(t,e,r,n)}e=e.child}return e;case 5:return cB(e),t===null&&IC(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,bC(r,s)?a=null:i!==null&&bC(r,i)&&(e.flags|=32),_B(t,e),zs(t,e,a,n),e.child;case 6:return t===null&&IC(e),null;case 13:return OB(t,e,n);case 4:return L5(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=cm(e,null,r,n):zs(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:to(r,s),n3(t,e,r,s,n);case 7:return zs(t,e,e.pendingProps,n),e.child;case 8:return zs(t,e,e.pendingProps.children,n),e.child;case 12:return zs(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,_n(Ww,r._currentValue),r._currentValue=a,i!==null)if(No(i.value,a)){if(i.children===s.children&&!Ii.current){e=Mc(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=wc(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),kC(i.return,n,e),o.lanes|=n;break}l=l.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(Ce(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),kC(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}zs(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Rh(e,n),s=Da(s),r=r(s),e.flags|=1,zs(t,e,r,n),e.child;case 14:return r=e.type,s=to(r,e.pendingProps),s=to(r.type,s),r3(t,e,r,s,n);case 15:return MB(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:to(r,s),zx(t,e),e.tag=1,ki(r)?(t=!0,zw(e)):t=!1,Rh(e,n),SB(e,r,s),NC(e,r,s,n),RC(null,e,r,!0,t,n);case 19:return LB(t,e,n);case 22:return jB(t,e,n)}throw Error(Ce(156,e.tag))};function QB(t,e){return C9(t,e)}function Qne(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ea(t,e,n,r){return new Qne(t,e,n,r)}function J5(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ere(t){if(typeof t=="function")return J5(t)?1:0;if(t!=null){if(t=t.$$typeof,t===g5)return 11;if(t===v5)return 14}return 2}function Qu(t,e){var n=t.alternate;return n===null?(n=Ea(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Wx(t,e,n,r,s,i){var a=2;if(r=t,typeof t=="function")J5(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case qf:return jp(n.children,s,i,e);case y5:a=8,s|=8;break;case Xk:return t=Ea(12,n,e,s|2),t.elementType=Xk,t.lanes=i,t;case Jk:return t=Ea(13,n,e,s),t.elementType=Jk,t.lanes=i,t;case Qk:return t=Ea(19,n,e,s),t.elementType=Qk,t.lanes=i,t;case c9:return NT(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case o9:a=10;break e;case l9:a=9;break e;case g5:a=11;break e;case v5:a=14;break e;case gu:a=16,r=null;break e}throw Error(Ce(130,t==null?t:typeof t,""))}return e=Ea(a,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function jp(t,e,n,r){return t=Ea(7,t,r,e),t.lanes=n,t}function NT(t,e,n,r){return t=Ea(22,t,r,e),t.elementType=c9,t.lanes=n,t.stateNode={isHidden:!1},t}function BA(t,e,n){return t=Ea(6,t,null,e),t.lanes=n,t}function UA(t,e,n){return e=Ea(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function tre(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wA(0),this.expirationTimes=wA(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wA(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Q5(t,e,n,r,s,i,a,o,l){return t=new tre(t,e,n,o,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ea(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},O5(i),t}function nre(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yf,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function eU(t){if(!t)return pd;t=t._reactInternals;e:{if(Af(t)!==t||t.tag!==1)throw Error(Ce(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ki(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ce(171))}if(t.tag===1){var n=t.type;if(ki(n))return eB(t,n,e)}return e}function tU(t,e,n,r,s,i,a,o,l){return t=Q5(n,r,!0,t,s,i,a,o,l),t.context=eU(null),n=t.current,r=Qs(),s=Ju(n),i=wc(r,s),i.callback=e??null,Zu(n,i,s),t.current.lanes=s,Mv(t,s,r),Ci(t,r),t}function ET(t,e,n,r){var s=e.current,i=Qs(),a=Ju(s);return n=eU(n),e.context===null?e.context=n:e.pendingContext=n,e=wc(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Zu(s,e,a),t!==null&&(Ao(t,s,a,i),Fx(t,s,a)),a}function t1(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function m3(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function eS(t,e){m3(t,e),(t=t.alternate)&&m3(t,e)}function rre(){return null}var nU=typeof reportError=="function"?reportError:function(t){console.error(t)};function tS(t){this._internalRoot=t}ST.prototype.render=tS.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ce(409));ET(t,e,null,null)};ST.prototype.unmount=tS.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Zp(function(){ET(null,t,null,null)}),e[Rc]=null}};function ST(t){this._internalRoot=t}ST.prototype.unstable_scheduleHydration=function(t){if(t){var e=j9();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Tu.length&&e!==0&&e<Tu[n].priority;n++);Tu.splice(n,0,t),n===0&&D9(t)}};function nS(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function RT(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function y3(){}function sre(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=t1(a);i.call(u)}}var a=tU(e,r,t,0,null,!1,!1,"",y3);return t._reactRootContainer=a,t[Rc]=a.current,t0(t.nodeType===8?t.parentNode:t),Zp(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var u=t1(l);o.call(u)}}var l=Q5(t,0,!1,null,null,!1,!1,"",y3);return t._reactRootContainer=l,t[Rc]=l.current,t0(t.nodeType===8?t.parentNode:t),Zp(function(){ET(e,l,n,r)}),l}function PT(t,e,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var l=t1(a);o.call(l)}}ET(e,a,t,s)}else a=sre(n,e,t,s,r);return t1(a)}P9=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=tg(e.pendingLanes);n!==0&&(w5(e,n|1),Ci(e,xr()),!(cn&6)&&(pm=xr()+500,Sd()))}break;case 13:Zp(function(){var r=Pc(t,1);if(r!==null){var s=Qs();Ao(r,t,1,s)}}),eS(t,1)}};T5=function(t){if(t.tag===13){var e=Pc(t,134217728);if(e!==null){var n=Qs();Ao(e,t,134217728,n)}eS(t,134217728)}};M9=function(t){if(t.tag===13){var e=Ju(t),n=Pc(t,e);if(n!==null){var r=Qs();Ao(n,t,e,r)}eS(t,e)}};j9=function(){return An};_9=function(t,e){var n=An;try{return An=t,e()}finally{An=n}};cC=function(t,e,n){switch(e){case"input":if(nC(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=wT(r);if(!s)throw Error(Ce(90));d9(r),nC(r,s)}}}break;case"textarea":f9(t,n);break;case"select":e=n.value,e!=null&&Ch(t,!!n.multiple,e,!1)}};x9=q5;w9=Zp;var ire={usingClientEntryPoint:!1,Events:[_v,Qf,wT,v9,b9,q5]},Sy={findFiberByHostInstance:op,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},are={bundleType:Sy.bundleType,version:Sy.version,rendererPackageName:Sy.rendererPackageName,rendererConfig:Sy.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gc.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=I9(t),t===null?null:t.stateNode},findFiberByHostInstance:Sy.findFiberByHostInstance||rre,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ob=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ob.isDisabled&&Ob.supportsFiber)try{gT=Ob.inject(are),dl=Ob}catch{}}ia.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ire;ia.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nS(e))throw Error(Ce(200));return nre(t,e,null,n)};ia.createRoot=function(t,e){if(!nS(t))throw Error(Ce(299));var n=!1,r="",s=nU;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Q5(t,1,!1,null,null,n,!1,r,s),t[Rc]=e.current,t0(t.nodeType===8?t.parentNode:t),new tS(e)};ia.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ce(188)):(t=Object.keys(t).join(","),Error(Ce(268,t)));return t=I9(e),t=t===null?null:t.stateNode,t};ia.flushSync=function(t){return Zp(t)};ia.hydrate=function(t,e,n){if(!RT(e))throw Error(Ce(200));return PT(null,t,e,!0,n)};ia.hydrateRoot=function(t,e,n){if(!nS(t))throw Error(Ce(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=nU;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=tU(e,null,t,1,n??null,s,!1,i,a),t[Rc]=e.current,t0(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new ST(e)};ia.render=function(t,e,n){if(!RT(e))throw Error(Ce(200));return PT(null,t,e,!1,n)};ia.unmountComponentAtNode=function(t){if(!RT(t))throw Error(Ce(40));return t._reactRootContainer?(Zp(function(){PT(null,null,t,!1,function(){t._reactRootContainer=null,t[Rc]=null})}),!0):!1};ia.unstable_batchedUpdates=q5;ia.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!RT(n))throw Error(Ce(200));if(t==null||t._reactInternals===void 0)throw Error(Ce(38));return PT(t,e,n,!1,r)};ia.version="18.3.1-next-f1338f8080-20240426";function rU(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rU)}catch(t){console.error(t)}}rU(),r9.exports=ia;var If=r9.exports;const sU=wf(If);var iU,g3=If;iU=g3.createRoot,g3.hydrateRoot;const ore=1,lre=1e6;let zA=0;function cre(){return zA=(zA+1)%Number.MAX_SAFE_INTEGER,zA.toString()}const VA=new Map,v3=t=>{if(VA.has(t))return;const e=setTimeout(()=>{VA.delete(t),wg({type:"REMOVE_TOAST",toastId:t})},lre);VA.set(t,e)},ure=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,ore)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?v3(n):t.toasts.forEach(r=>{v3(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Gx=[];let Kx={toasts:[]};function wg(t){Kx=ure(Kx,t),Gx.forEach(e=>{e(Kx)})}function dre({...t}){const e=cre(),n=s=>wg({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>wg({type:"DISMISS_TOAST",toastId:e});return wg({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function pre(){const[t,e]=A.useState(Kx);return A.useEffect(()=>(Gx.push(e),()=>{const n=Gx.indexOf(e);n>-1&&Gx.splice(n,1)}),[t]),{...t,toast:dre,dismiss:n=>wg({type:"DISMISS_TOAST",toastId:n})}}function pt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function fre(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function aU(...t){return e=>t.forEach(n=>fre(n,e))}function In(...t){return A.useCallback(aU(...t),t)}function hre(t,e=[]){let n=[];function r(i,a){const o=A.createContext(a),l=n.length;n=[...n,a];function u(p){const{scope:f,children:h,...y}=p,m=(f==null?void 0:f[t][l])||o,b=A.useMemo(()=>y,Object.values(y));return c.jsx(m.Provider,{value:b,children:h})}function d(p,f){const h=(f==null?void 0:f[t][l])||o,y=A.useContext(h);if(y)return y;if(a!==void 0)return a;throw new Error(`\`${p}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=n.map(a=>A.createContext(a));return function(o){const l=(o==null?void 0:o[t])||i;return A.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return s.scopeName=t,[r,mre(s,...e)]}function mre(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((o,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...o,...p}},{});return A.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var Xp=A.forwardRef((t,e)=>{const{children:n,...r}=t,s=A.Children.toArray(n),i=s.find(yre);if(i){const a=i.props.children,o=s.map(l=>l===i?A.Children.count(a)>1?A.Children.only(null):A.isValidElement(a)?a.props.children:null:l);return c.jsx(zC,{...r,ref:e,children:A.isValidElement(a)?A.cloneElement(a,void 0,o):null})}return c.jsx(zC,{...r,ref:e,children:n})});Xp.displayName="Slot";var zC=A.forwardRef((t,e)=>{const{children:n,...r}=t;if(A.isValidElement(n)){const s=vre(n);return A.cloneElement(n,{...gre(r,n.props),ref:e?aU(e,s):s})}return A.Children.count(n)>1?A.Children.only(null):null});zC.displayName="SlotClone";var oU=({children:t})=>c.jsx(c.Fragment,{children:t});function yre(t){return A.isValidElement(t)&&t.type===oU}function gre(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...o)=>{i(...o),s(...o)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function vre(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function MT(t){const e=t+"CollectionProvider",[n,r]=hre(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=h=>{const{scope:y,children:m}=h,b=xe.useRef(null),v=xe.useRef(new Map).current;return c.jsx(s,{scope:y,itemMap:v,collectionRef:b,children:m})};a.displayName=e;const o=t+"CollectionSlot",l=xe.forwardRef((h,y)=>{const{scope:m,children:b}=h,v=i(o,m),g=In(y,v.collectionRef);return c.jsx(Xp,{ref:g,children:b})});l.displayName=o;const u=t+"CollectionItemSlot",d="data-radix-collection-item",p=xe.forwardRef((h,y)=>{const{scope:m,children:b,...v}=h,g=xe.useRef(null),x=In(y,g),T=i(u,m);return xe.useEffect(()=>(T.itemMap.set(g,{ref:g,...v}),()=>void T.itemMap.delete(g))),c.jsx(Xp,{[d]:"",ref:x,children:b})});p.displayName=u;function f(h){const y=i(t+"CollectionConsumer",h);return xe.useCallback(()=>{const b=y.collectionRef.current;if(!b)return[];const v=Array.from(b.querySelectorAll(`[${d}]`));return Array.from(y.itemMap.values()).sort((T,I)=>v.indexOf(T.ref.current)-v.indexOf(I.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:a,Slot:l,ItemSlot:p},f,r]}function bre(t,e){const n=A.createContext(e),r=i=>{const{children:a,...o}=i,l=A.useMemo(()=>o,Object.values(o));return c.jsx(n.Provider,{value:l,children:a})};r.displayName=t+"Provider";function s(i){const a=A.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Kc(t,e=[]){let n=[];function r(i,a){const o=A.createContext(a),l=n.length;n=[...n,a];const u=p=>{var v;const{scope:f,children:h,...y}=p,m=((v=f==null?void 0:f[t])==null?void 0:v[l])||o,b=A.useMemo(()=>y,Object.values(y));return c.jsx(m.Provider,{value:b,children:h})};u.displayName=i+"Provider";function d(p,f){var m;const h=((m=f==null?void 0:f[t])==null?void 0:m[l])||o,y=A.useContext(h);if(y)return y;if(a!==void 0)return a;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(a=>A.createContext(a));return function(o){const l=(o==null?void 0:o[t])||i;return A.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return s.scopeName=t,[r,xre(s,...e)]}function xre(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((o,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...o,...p}},{});return A.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var wre=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],xt=wre.reduce((t,e)=>{const n=A.forwardRef((r,s)=>{const{asChild:i,...a}=r,o=i?Xp:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(o,{...a,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function lU(t,e){t&&If.flushSync(()=>t.dispatchEvent(e))}function ti(t){const e=A.useRef(t);return A.useEffect(()=>{e.current=t}),A.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function Tre(t,e=globalThis==null?void 0:globalThis.document){const n=ti(t);A.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Are="DismissableLayer",VC="dismissableLayer.update",Ire="dismissableLayer.pointerDownOutside",kre="dismissableLayer.focusOutside",b3,cU=A.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ov=A.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:o,...l}=t,u=A.useContext(cU),[d,p]=A.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=A.useState({}),y=In(e,N=>p(N)),m=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=m.indexOf(b),g=d?m.indexOf(d):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,T=g>=v,I=Nre(N=>{const P=N.target,L=[...u.branches].some(U=>U.contains(P));!T||L||(s==null||s(N),a==null||a(N),N.defaultPrevented||o==null||o())},f),C=Ere(N=>{const P=N.target;[...u.branches].some(U=>U.contains(P))||(i==null||i(N),a==null||a(N),N.defaultPrevented||o==null||o())},f);return Tre(N=>{g===u.layers.size-1&&(r==null||r(N),!N.defaultPrevented&&o&&(N.preventDefault(),o()))},f),A.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(b3=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),x3(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=b3)}},[d,f,n,u]),A.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),x3())},[d,u]),A.useEffect(()=>{const N=()=>h({});return document.addEventListener(VC,N),()=>document.removeEventListener(VC,N)},[]),c.jsx(xt.div,{...l,ref:y,style:{pointerEvents:x?T?"auto":"none":void 0,...t.style},onFocusCapture:pt(t.onFocusCapture,C.onFocusCapture),onBlurCapture:pt(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:pt(t.onPointerDownCapture,I.onPointerDownCapture)})});Ov.displayName=Are;var Cre="DismissableLayerBranch",uU=A.forwardRef((t,e)=>{const n=A.useContext(cU),r=A.useRef(null),s=In(e,r);return A.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),c.jsx(xt.div,{...t,ref:s})});uU.displayName=Cre;function Nre(t,e=globalThis==null?void 0:globalThis.document){const n=ti(t),r=A.useRef(!1),s=A.useRef(()=>{});return A.useEffect(()=>{const i=o=>{if(o.target&&!r.current){let l=function(){dU(Ire,n,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Ere(t,e=globalThis==null?void 0:globalThis.document){const n=ti(t),r=A.useRef(!1);return A.useEffect(()=>{const s=i=>{i.target&&!r.current&&dU(kre,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function x3(){const t=new CustomEvent(VC);document.dispatchEvent(t)}function dU(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?lU(s,i):s.dispatchEvent(i)}var Sre=Ov,Rre=uU,Kr=globalThis!=null&&globalThis.document?A.useLayoutEffect:()=>{},Pre="Portal",jT=A.forwardRef((t,e)=>{var o;const{container:n,...r}=t,[s,i]=A.useState(!1);Kr(()=>i(!0),[]);const a=n||s&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return a?sU.createPortal(c.jsx(xt.div,{...r,ref:e}),a):null});jT.displayName=Pre;function Mre(t,e){return A.useReducer((n,r)=>e[n][r]??n,t)}var Rd=t=>{const{present:e,children:n}=t,r=jre(e),s=typeof n=="function"?n({present:r.isPresent}):A.Children.only(n),i=In(r.ref,_re(s));return typeof n=="function"||r.isPresent?A.cloneElement(s,{ref:i}):null};Rd.displayName="Presence";function jre(t){const[e,n]=A.useState(),r=A.useRef({}),s=A.useRef(t),i=A.useRef("none"),a=t?"mounted":"unmounted",[o,l]=Mre(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return A.useEffect(()=>{const u=Lb(r.current);i.current=o==="mounted"?u:"none"},[o]),Kr(()=>{const u=r.current,d=s.current;if(d!==t){const f=i.current,h=Lb(u);t?l("MOUNT"):h==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&f!==h?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Kr(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,p=h=>{const m=Lb(r.current).includes(h.animationName);if(h.target===e&&m&&(l("ANIMATION_END"),!s.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},f=h=>{h.target===e&&(i.current=Lb(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:A.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Lb(t){return(t==null?void 0:t.animationName)||"none"}function _re(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Cl({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=Dre({defaultProp:e,onChange:n}),i=t!==void 0,a=i?t:r,o=ti(n),l=A.useCallback(u=>{if(i){const p=typeof u=="function"?u(t):u;p!==t&&o(p)}else s(u)},[i,t,s,o]);return[a,l]}function Dre({defaultProp:t,onChange:e}){const n=A.useState(t),[r]=n,s=A.useRef(r),i=ti(e);return A.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var Ore="VisuallyHidden",Lv=A.forwardRef((t,e)=>c.jsx(xt.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Lv.displayName=Ore;var Lre=Lv,rS="ToastProvider",[sS,$re,Fre]=MT("Toast"),[pU,EFe]=Kc("Toast",[Fre]),[Bre,_T]=pU(rS),fU=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:a}=t,[o,l]=A.useState(null),[u,d]=A.useState(0),p=A.useRef(!1),f=A.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${rS}\`. Expected non-empty \`string\`.`),c.jsx(sS.Provider,{scope:e,children:c.jsx(Bre,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:o,onViewportChange:l,onToastAdd:A.useCallback(()=>d(h=>h+1),[]),onToastRemove:A.useCallback(()=>d(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:f,children:a})})};fU.displayName=rS;var hU="ToastViewport",Ure=["F8"],HC="toast.viewportPause",WC="toast.viewportResume",mU=A.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=Ure,label:s="Notifications ({hotkey})",...i}=t,a=_T(hU,n),o=$re(n),l=A.useRef(null),u=A.useRef(null),d=A.useRef(null),p=A.useRef(null),f=In(e,p,a.onViewportChange),h=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=a.toastCount>0;A.useEffect(()=>{const b=v=>{var x;r.length!==0&&r.every(T=>v[T]||v.code===T)&&((x=p.current)==null||x.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),A.useEffect(()=>{const b=l.current,v=p.current;if(y&&b&&v){const g=()=>{if(!a.isClosePausedRef.current){const C=new CustomEvent(HC);v.dispatchEvent(C),a.isClosePausedRef.current=!0}},x=()=>{if(a.isClosePausedRef.current){const C=new CustomEvent(WC);v.dispatchEvent(C),a.isClosePausedRef.current=!1}},T=C=>{!b.contains(C.relatedTarget)&&x()},I=()=>{b.contains(document.activeElement)||x()};return b.addEventListener("focusin",g),b.addEventListener("focusout",T),b.addEventListener("pointermove",g),b.addEventListener("pointerleave",I),window.addEventListener("blur",g),window.addEventListener("focus",x),()=>{b.removeEventListener("focusin",g),b.removeEventListener("focusout",T),b.removeEventListener("pointermove",g),b.removeEventListener("pointerleave",I),window.removeEventListener("blur",g),window.removeEventListener("focus",x)}}},[y,a.isClosePausedRef]);const m=A.useCallback(({tabbingDirection:b})=>{const g=o().map(x=>{const T=x.ref.current,I=[T,...ese(T)];return b==="forwards"?I:I.reverse()});return(b==="forwards"?g.reverse():g).flat()},[o]);return A.useEffect(()=>{const b=p.current;if(b){const v=g=>{var I,C,N;const x=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!x){const P=document.activeElement,L=g.shiftKey;if(g.target===b&&L){(I=u.current)==null||I.focus();return}const B=m({tabbingDirection:L?"backwards":"forwards"}),_=B.findIndex(w=>w===P);HA(B.slice(_+1))?g.preventDefault():L?(C=u.current)==null||C.focus():(N=d.current)==null||N.focus()}};return b.addEventListener("keydown",v),()=>b.removeEventListener("keydown",v)}},[o,m]),c.jsxs(Rre,{ref:l,role:"region","aria-label":s.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&c.jsx(GC,{ref:u,onFocusFromOutsideViewport:()=>{const b=m({tabbingDirection:"forwards"});HA(b)}}),c.jsx(sS.Slot,{scope:n,children:c.jsx(xt.ol,{tabIndex:-1,...i,ref:f})}),y&&c.jsx(GC,{ref:d,onFocusFromOutsideViewport:()=>{const b=m({tabbingDirection:"backwards"});HA(b)}})]})});mU.displayName=hU;var yU="ToastFocusProxy",GC=A.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=_T(yU,n);return c.jsx(Lv,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:a=>{var u;const o=a.relatedTarget;!((u=i.viewport)!=null&&u.contains(o))&&r()}})});GC.displayName=yU;var DT="Toast",zre="toast.swipeStart",Vre="toast.swipeMove",Hre="toast.swipeCancel",Wre="toast.swipeEnd",gU=A.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...a}=t,[o=!0,l]=Cl({prop:r,defaultProp:s,onChange:i});return c.jsx(Rd,{present:n||o,children:c.jsx(Yre,{open:o,...a,ref:e,onClose:()=>l(!1),onPause:ti(t.onPause),onResume:ti(t.onResume),onSwipeStart:pt(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:pt(t.onSwipeMove,u=>{const{x:d,y:p}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:pt(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:pt(t.onSwipeEnd,u=>{const{x:d,y:p}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),l(!1)})})})});gU.displayName=DT;var[Gre,Kre]=pU(DT,{onClose(){}}),Yre=A.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:a,onEscapeKeyDown:o,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:p,onSwipeCancel:f,onSwipeEnd:h,...y}=t,m=_T(DT,n),[b,v]=A.useState(null),g=In(e,w=>v(w)),x=A.useRef(null),T=A.useRef(null),I=s||m.duration,C=A.useRef(0),N=A.useRef(I),P=A.useRef(0),{onToastAdd:L,onToastRemove:U}=m,$=ti(()=>{var k;(b==null?void 0:b.contains(document.activeElement))&&((k=m.viewport)==null||k.focus()),a()}),B=A.useCallback(w=>{!w||w===1/0||(window.clearTimeout(P.current),C.current=new Date().getTime(),P.current=window.setTimeout($,w))},[$]);A.useEffect(()=>{const w=m.viewport;if(w){const k=()=>{B(N.current),u==null||u()},S=()=>{const M=new Date().getTime()-C.current;N.current=N.current-M,window.clearTimeout(P.current),l==null||l()};return w.addEventListener(HC,S),w.addEventListener(WC,k),()=>{w.removeEventListener(HC,S),w.removeEventListener(WC,k)}}},[m.viewport,I,l,u,B]),A.useEffect(()=>{i&&!m.isClosePausedRef.current&&B(I)},[i,I,m.isClosePausedRef,B]),A.useEffect(()=>(L(),()=>U()),[L,U]);const _=A.useMemo(()=>b?IU(b):null,[b]);return m.viewport?c.jsxs(c.Fragment,{children:[_&&c.jsx(qre,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:_}),c.jsx(Gre,{scope:n,onClose:$,children:If.createPortal(c.jsx(sS.ItemSlot,{scope:n,children:c.jsx(Sre,{asChild:!0,onEscapeKeyDown:pt(o,()=>{m.isFocusedToastEscapeKeyDownRef.current||$(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:c.jsx(xt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":m.swipeDirection,...y,ref:g,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:pt(t.onKeyDown,w=>{w.key==="Escape"&&(o==null||o(w.nativeEvent),w.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,$()))}),onPointerDown:pt(t.onPointerDown,w=>{w.button===0&&(x.current={x:w.clientX,y:w.clientY})}),onPointerMove:pt(t.onPointerMove,w=>{if(!x.current)return;const k=w.clientX-x.current.x,S=w.clientY-x.current.y,M=!!T.current,R=["left","right"].includes(m.swipeDirection),j=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,V=R?j(0,k):0,O=R?0:j(0,S),E=w.pointerType==="touch"?10:2,z={x:V,y:O},Z={originalEvent:w,delta:z};M?(T.current=z,$b(Vre,p,Z,{discrete:!1})):w3(z,m.swipeDirection,E)?(T.current=z,$b(zre,d,Z,{discrete:!1}),w.target.setPointerCapture(w.pointerId)):(Math.abs(k)>E||Math.abs(S)>E)&&(x.current=null)}),onPointerUp:pt(t.onPointerUp,w=>{const k=T.current,S=w.target;if(S.hasPointerCapture(w.pointerId)&&S.releasePointerCapture(w.pointerId),T.current=null,x.current=null,k){const M=w.currentTarget,R={originalEvent:w,delta:k};w3(k,m.swipeDirection,m.swipeThreshold)?$b(Wre,h,R,{discrete:!0}):$b(Hre,f,R,{discrete:!0}),M.addEventListener("click",j=>j.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),qre=t=>{const{__scopeToast:e,children:n,...r}=t,s=_T(DT,e),[i,a]=A.useState(!1),[o,l]=A.useState(!1);return Jre(()=>a(!0)),A.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),o?null:c.jsx(jT,{asChild:!0,children:c.jsx(Lv,{...r,children:i&&c.jsxs(c.Fragment,{children:[s.label," ",n]})})})},Zre="ToastTitle",vU=A.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return c.jsx(xt.div,{...r,ref:e})});vU.displayName=Zre;var Xre="ToastDescription",bU=A.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return c.jsx(xt.div,{...r,ref:e})});bU.displayName=Xre;var xU="ToastAction",wU=A.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?c.jsx(AU,{altText:n,asChild:!0,children:c.jsx(iS,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${xU}\`. Expected non-empty \`string\`.`),null)});wU.displayName=xU;var TU="ToastClose",iS=A.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=Kre(TU,n);return c.jsx(AU,{asChild:!0,children:c.jsx(xt.button,{type:"button",...r,ref:e,onClick:pt(t.onClick,s.onClose)})})});iS.displayName=TU;var AU=A.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return c.jsx(xt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function IU(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),Qre(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const a=r.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...IU(r))}}),e}function $b(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?lU(s,i):s.dispatchEvent(i)}var w3=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function Jre(t=()=>{}){const e=ti(t);Kr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function Qre(t){return t.nodeType===t.ELEMENT_NODE}function ese(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function HA(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var tse=fU,kU=mU,CU=gU,NU=vU,EU=bU,SU=wU,RU=iS;function PU(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=PU(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function MU(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=PU(t))&&(r&&(r+=" "),r+=e);return r}const T3=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,A3=MU,OT=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return A3(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,a=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],p=i==null?void 0:i[u];if(d===null)return null;const f=T3(d)||T3(p);return s[u][f]}),o=n&&Object.entries(n).reduce((u,d)=>{let[p,f]=d;return f===void 0||(u[p]=f),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:p,className:f,...h}=d;return Object.entries(h).every(y=>{let[m,b]=y;return Array.isArray(b)?b.includes({...i,...o}[m]):{...i,...o}[m]===b})?[...u,p,f]:u},[]);return A3(t,a,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nse=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jU=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rse={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sse=A.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...o},l)=>A.createElement("svg",{ref:l,...rse,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:jU("lucide",s),...o},[...a.map(([u,d])=>A.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=(t,e)=>{const n=A.forwardRef(({className:r,...s},i)=>A.createElement(sse,{ref:i,iconNode:e,className:jU(`lucide-${nse(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const up=Le("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ise=Le("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=Le("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ase=Le("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ose=Le("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=Le("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vd=Le("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=Le("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lse=Le("BookCopy",[["path",{d:"M2 16V4a2 2 0 0 1 2-2h11",key:"spzkk5"}],["path",{d:"M22 18H11a2 2 0 1 0 0 4h10.5a.5.5 0 0 0 .5-.5v-15a.5.5 0 0 0-.5-.5H11a2 2 0 0 0-2 2v12",key:"1wz07i"}],["path",{d:"M5 14H4a2 2 0 1 0 0 4h1",key:"16gqf9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cse=Le("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=Le("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=Le("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=Le("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jp=Le("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=Le("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=Le("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=Le("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=Le("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const use=Le("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ed=Le("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=Le("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dse=Le("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=Le("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jc=Le("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=Le("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pse=Le("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fse=Le("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=Le("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=Le("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=Le("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=Le("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=Le("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=Le("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=Le("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=Le("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hse=Le("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mse=Le("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=Le("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yse=Le("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=Le("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gse=Le("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=Le("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vse=Le("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=Le("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=Le("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=Le("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bse=Le("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xse=Le("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=Le("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wse=Le("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tse=Le("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ase=Le("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=Le("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ise=Le("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kse=Le("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=Le("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=Le("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=Le("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cse=Le("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=Le("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=Le("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=Le("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OU=Le("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nse=Le("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ese=Le("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=Le("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=Le("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=Le("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=Le("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sse=Le("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rse=Le("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pse=Le("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=Le("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=Le("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=Le("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=Le("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=Le("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),uS="-",Mse=t=>{const e=_se(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const o=a.split(uS);return o[0]===""&&o.length!==1&&o.shift(),LU(o,e)||jse(a)},getConflictingClassGroupIds:(a,o)=>{const l=n[a]||[];return o&&r[a]?[...l,...r[a]]:l}}},LU=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?LU(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(uS);return(a=e.validators.find(({validator:o})=>o(i)))==null?void 0:a.classGroupId},M3=/^\[(.+)\]$/,jse=t=>{if(M3.test(t)){const e=M3.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},_se=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Ose(Object.entries(t.classGroups),n).forEach(([i,a])=>{eN(a,r,i,e)}),r},eN=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:j3(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(Dse(s)){eN(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,a])=>{eN(a,j3(e,i),n,r)})})},j3=(t,e)=>{let n=t;return e.split(uS).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Dse=t=>t.isThemeGetter,Ose=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,o])=>[e+a,o])):i);return[n,s]}):t,Lse=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,a)=>{n.set(i,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return s(i,a),a},set(i,a){n.has(i)?n.set(i,a):s(i,a)}}},$U="!",$se=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,a=o=>{const l=[];let u=0,d=0,p;for(let b=0;b<o.length;b++){let v=o[b];if(u===0){if(v===s&&(r||o.slice(b,b+i)===e)){l.push(o.slice(d,b)),d=b+i;continue}if(v==="/"){p=b;continue}}v==="["?u++:v==="]"&&u--}const f=l.length===0?o:o.substring(d),h=f.startsWith($U),y=h?f.substring(1):f,m=p&&p>d?p-d:void 0;return{modifiers:l,hasImportantModifier:h,baseClassName:y,maybePostfixModifierPosition:m}};return n?o=>n({className:o,parseClassName:a}):a},Fse=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},Bse=t=>({cache:Lse(t.cacheSize),parseClassName:$se(t),...Mse(t)}),Use=/\s+/,zse=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],a=t.trim().split(Use);let o="";for(let l=a.length-1;l>=0;l-=1){const u=a[l],{modifiers:d,hasImportantModifier:p,baseClassName:f,maybePostfixModifierPosition:h}=n(u);let y=!!h,m=r(y?f.substring(0,h):f);if(!m){if(!y){o=u+(o.length>0?" "+o:o);continue}if(m=r(f),!m){o=u+(o.length>0?" "+o:o);continue}y=!1}const b=Fse(d).join(":"),v=p?b+$U:b,g=v+m;if(i.includes(g))continue;i.push(g);const x=s(m,y);for(let T=0;T<x.length;++T){const I=x[T];i.push(v+I)}o=u+(o.length>0?" "+o:o)}return o};function Vse(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=FU(e))&&(r&&(r+=" "),r+=n);return r}const FU=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=FU(t[r]))&&(n&&(n+=" "),n+=e);return n};function Hse(t,...e){let n,r,s,i=a;function a(l){const u=e.reduce((d,p)=>p(d),t());return n=Bse(u),r=n.cache.get,s=n.cache.set,i=o,o(l)}function o(l){const u=r(l);if(u)return u;const d=zse(l,n);return s(l,d),d}return function(){return i(Vse.apply(null,arguments))}}const On=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},BU=/^\[(?:([a-z-]+):)?(.+)\]$/i,Wse=/^\d+\/\d+$/,Gse=new Set(["px","full","screen"]),Kse=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Yse=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,qse=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Zse=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Xse=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,zl=t=>Mh(t)||Gse.has(t)||Wse.test(t),su=t=>zm(t,"length",iie),Mh=t=>!!t&&!Number.isNaN(Number(t)),WA=t=>zm(t,"number",Mh),Ry=t=>!!t&&Number.isInteger(Number(t)),Jse=t=>t.endsWith("%")&&Mh(t.slice(0,-1)),Dt=t=>BU.test(t),iu=t=>Kse.test(t),Qse=new Set(["length","size","percentage"]),eie=t=>zm(t,Qse,UU),tie=t=>zm(t,"position",UU),nie=new Set(["image","url"]),rie=t=>zm(t,nie,oie),sie=t=>zm(t,"",aie),Py=()=>!0,zm=(t,e,n)=>{const r=BU.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},iie=t=>Yse.test(t)&&!qse.test(t),UU=()=>!1,aie=t=>Zse.test(t),oie=t=>Xse.test(t),lie=()=>{const t=On("colors"),e=On("spacing"),n=On("blur"),r=On("brightness"),s=On("borderColor"),i=On("borderRadius"),a=On("borderSpacing"),o=On("borderWidth"),l=On("contrast"),u=On("grayscale"),d=On("hueRotate"),p=On("invert"),f=On("gap"),h=On("gradientColorStops"),y=On("gradientColorStopPositions"),m=On("inset"),b=On("margin"),v=On("opacity"),g=On("padding"),x=On("saturate"),T=On("scale"),I=On("sepia"),C=On("skew"),N=On("space"),P=On("translate"),L=()=>["auto","contain","none"],U=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto",Dt,e],B=()=>[Dt,e],_=()=>["",zl,su],w=()=>["auto",Mh,Dt],k=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],S=()=>["solid","dashed","dotted","double","none"],M=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],j=()=>["","0",Dt],V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>[Mh,Dt];return{cacheSize:500,separator:":",theme:{colors:[Py],spacing:[zl,su],blur:["none","",iu,Dt],brightness:O(),borderColor:[t],borderRadius:["none","","full",iu,Dt],borderSpacing:B(),borderWidth:_(),contrast:O(),grayscale:j(),hueRotate:O(),invert:j(),gap:B(),gradientColorStops:[t],gradientColorStopPositions:[Jse,su],inset:$(),margin:$(),opacity:O(),padding:B(),saturate:O(),scale:O(),sepia:j(),skew:O(),space:B(),translate:B()},classGroups:{aspect:[{aspect:["auto","square","video",Dt]}],container:["container"],columns:[{columns:[iu]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...k(),Dt]}],overflow:[{overflow:U()}],"overflow-x":[{"overflow-x":U()}],"overflow-y":[{"overflow-y":U()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ry,Dt]}],basis:[{basis:$()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Dt]}],grow:[{grow:j()}],shrink:[{shrink:j()}],order:[{order:["first","last","none",Ry,Dt]}],"grid-cols":[{"grid-cols":[Py]}],"col-start-end":[{col:["auto",{span:["full",Ry,Dt]},Dt]}],"col-start":[{"col-start":w()}],"col-end":[{"col-end":w()}],"grid-rows":[{"grid-rows":[Py]}],"row-start-end":[{row:["auto",{span:[Ry,Dt]},Dt]}],"row-start":[{"row-start":w()}],"row-end":[{"row-end":w()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Dt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Dt]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Dt,e]}],"min-w":[{"min-w":[Dt,e,"min","max","fit"]}],"max-w":[{"max-w":[Dt,e,"none","full","min","max","fit","prose",{screen:[iu]},iu]}],h:[{h:[Dt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Dt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Dt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Dt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",iu,su]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",WA]}],"font-family":[{font:[Py]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Dt]}],"line-clamp":[{"line-clamp":["none",Mh,WA]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",zl,Dt]}],"list-image":[{"list-image":["none",Dt]}],"list-style-type":[{list:["none","disc","decimal",Dt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...S(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",zl,su]}],"underline-offset":[{"underline-offset":["auto",zl,Dt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Dt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Dt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...k(),tie]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",eie]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},rie]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...S(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:S()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...S()]}],"outline-offset":[{"outline-offset":[zl,Dt]}],"outline-w":[{outline:[zl,su]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:_()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[zl,su]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",iu,sie]}],"shadow-color":[{shadow:[Py]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...M(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":M()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",iu,Dt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[p]}],saturate:[{saturate:[x]}],sepia:[{sepia:[I]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[I]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Dt]}],duration:[{duration:O()}],ease:[{ease:["linear","in","out","in-out",Dt]}],delay:[{delay:O()}],animate:[{animate:["none","spin","ping","pulse","bounce",Dt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[Ry,Dt]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Dt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Dt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Dt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[zl,su,WA]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},cie=Hse(lie);function vt(...t){return cie(MU(t))}const uie=tse,zU=A.forwardRef(({className:t,...e},n)=>c.jsx(kU,{ref:n,className:vt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));zU.displayName=kU.displayName;const die=OT("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),VU=A.forwardRef(({className:t,variant:e,...n},r)=>c.jsx(CU,{ref:r,className:vt(die({variant:e}),t),...n}));VU.displayName=CU.displayName;const pie=A.forwardRef(({className:t,...e},n)=>c.jsx(SU,{ref:n,className:vt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));pie.displayName=SU.displayName;const HU=A.forwardRef(({className:t,...e},n)=>c.jsx(RU,{ref:n,className:vt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:c.jsx(LT,{className:"h-4 w-4"})}));HU.displayName=RU.displayName;const WU=A.forwardRef(({className:t,...e},n)=>c.jsx(NU,{ref:n,className:vt("text-sm font-semibold",t),...e}));WU.displayName=NU.displayName;const GU=A.forwardRef(({className:t,...e},n)=>c.jsx(EU,{ref:n,className:vt("text-sm opacity-90",t),...e}));GU.displayName=EU.displayName;function fie(){const{toasts:t}=pre();return c.jsxs(uie,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return c.jsxs(VU,{...i,children:[c.jsxs("div",{className:"grid gap-1",children:[n&&c.jsx(WU,{children:n}),r&&c.jsx(GU,{children:r})]}),s,c.jsx(HU,{})]},e)}),c.jsx(zU,{})]})}var _3=["light","dark"],hie="(prefers-color-scheme: dark)",mie=A.createContext(void 0),yie={setTheme:t=>{},themes:[]},gie=()=>{var t;return(t=A.useContext(mie))!=null?t:yie};A.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:a,attrs:o,nonce:l})=>{let u=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${o.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,p=s?_3.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(y,m=!1,b=!0)=>{let v=a?a[y]:y,g=m?y+"|| ''":`'${v}'`,x="";return s&&b&&!m&&_3.includes(y)&&(x+=`d.style.colorScheme = '${y}';`),n==="class"?m||v?x+=`c.add(${g})`:x+="null":v&&(x+=`d[s](n,${g})`),x},h=t?`!function(){${d}${f(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${hie}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${f(a?"x[e]":"e",!0)}}${u?"":"else{"+f(i,!1,!1)+"}"}${p}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${f(a?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${p}}catch(t){}}();`;return A.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:h}})});var vie=t=>{switch(t){case"success":return wie;case"info":return Aie;case"warning":return Tie;case"error":return Iie;default:return null}},bie=Array(12).fill(0),xie=({visible:t})=>xe.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},xe.createElement("div",{className:"sonner-spinner"},bie.map((e,n)=>xe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),wie=xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},xe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Tie=xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},xe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Aie=xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},xe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Iie=xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},xe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),kie=()=>{let[t,e]=xe.useState(document.hidden);return xe.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},tN=1,Cie=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:tN++,i=this.toasts.find(o=>o.id===s),a=t.dismissible===void 0?!0:t.dismissible;return i?this.toasts=this.toasts.map(o=>o.id===s?(this.publish({...o,...t,id:s,title:n}),{...o,...t,id:s,dismissible:a,title:n}):o):this.addToast({title:n,...r,dismissible:a,id:s}),s},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0;return r.then(async i=>{if(Eie(i)&&!i.ok){s=!1;let a=typeof e.error=="function"?await e.error(`HTTP error! status: ${i.status}`):e.error,o=typeof e.description=="function"?await e.description(`HTTP error! status: ${i.status}`):e.description;this.create({id:n,type:"error",message:a,description:o})}else if(e.success!==void 0){s=!1;let a=typeof e.success=="function"?await e.success(i):e.success,o=typeof e.description=="function"?await e.description(i):e.description;this.create({id:n,type:"success",message:a,description:o})}}).catch(async i=>{if(e.error!==void 0){s=!1;let a=typeof e.error=="function"?await e.error(i):e.error,o=typeof e.description=="function"?await e.description(i):e.description;this.create({id:n,type:"error",message:a,description:o})}}).finally(()=>{var i;s&&(this.dismiss(n),n=void 0),(i=e.finally)==null||i.call(e)}),n},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||tN++;return this.create({jsx:t(n),id:n,...e}),n},this.subscribers=[],this.toasts=[]}},$i=new Cie,Nie=(t,e)=>{let n=(e==null?void 0:e.id)||tN++;return $i.addToast({title:t,...e,id:n}),n},Eie=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Sie=Nie,Rie=()=>$i.toasts,le=Object.assign(Sie,{success:$i.success,info:$i.info,warning:$i.warning,error:$i.error,custom:$i.custom,message:$i.message,promise:$i.promise,dismiss:$i.dismiss,loading:$i.loading},{getHistory:Rie});function Pie(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}Pie(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Fb(t){return t.label!==void 0}var Mie=3,jie="32px",_ie=4e3,Die=356,Oie=14,Lie=20,$ie=200;function Fie(...t){return t.filter(Boolean).join(" ")}var Bie=t=>{var e,n,r,s,i,a,o,l,u,d;let{invert:p,toast:f,unstyled:h,interacting:y,setHeights:m,visibleToasts:b,heights:v,index:g,toasts:x,expanded:T,removeToast:I,defaultRichColors:C,closeButton:N,style:P,cancelButtonStyle:L,actionButtonStyle:U,className:$="",descriptionClassName:B="",duration:_,position:w,gap:k,loadingIcon:S,expandByDefault:M,classNames:R,icons:j,closeButtonAriaLabel:V="Close toast",pauseWhenPageIsHidden:O,cn:E}=t,[z,Z]=xe.useState(!1),[F,H]=xe.useState(!1),[K,Y]=xe.useState(!1),[J,re]=xe.useState(!1),[Q,ee]=xe.useState(0),[We,oe]=xe.useState(0),be=xe.useRef(null),ft=xe.useRef(null),Ie=g===0,Ne=g+1<=b,tt=f.type,je=f.dismissible!==!1,Ct=f.className||"",Ar=f.descriptionClassName||"",st=xe.useMemo(()=>v.findIndex(Te=>Te.toastId===f.id)||0,[v,f.id]),Nt=xe.useMemo(()=>{var Te;return(Te=f.closeButton)!=null?Te:N},[f.closeButton,N]),Dn=xe.useMemo(()=>f.duration||_||_ie,[f.duration,_]),zt=xe.useRef(0),X=xe.useRef(0),ke=xe.useRef(0),ve=xe.useRef(null),[Ee,De]=w.split("-"),Me=xe.useMemo(()=>v.reduce((Te,Re,ze)=>ze>=st?Te:Te+Re.height,0),[v,st]),ct=kie(),Pt=f.invert||p,it=tt==="loading";X.current=xe.useMemo(()=>st*k+Me,[st,Me]),xe.useEffect(()=>{Z(!0)},[]),xe.useLayoutEffect(()=>{if(!z)return;let Te=ft.current,Re=Te.style.height;Te.style.height="auto";let ze=Te.getBoundingClientRect().height;Te.style.height=Re,oe(ze),m(Ve=>Ve.find(wt=>wt.toastId===f.id)?Ve.map(wt=>wt.toastId===f.id?{...wt,height:ze}:wt):[{toastId:f.id,height:ze,position:f.position},...Ve])},[z,f.title,f.description,m,f.id]);let we=xe.useCallback(()=>{H(!0),ee(X.current),m(Te=>Te.filter(Re=>Re.toastId!==f.id)),setTimeout(()=>{I(f)},$ie)},[f,I,m,X]);xe.useEffect(()=>{if(f.promise&&tt==="loading"||f.duration===1/0||f.type==="loading")return;let Te,Re=Dn;return T||y||O&&ct?(()=>{if(ke.current<zt.current){let ze=new Date().getTime()-zt.current;Re=Re-ze}ke.current=new Date().getTime()})():Re!==1/0&&(zt.current=new Date().getTime(),Te=setTimeout(()=>{var ze;(ze=f.onAutoClose)==null||ze.call(f,f),we()},Re)),()=>clearTimeout(Te)},[T,y,M,f,Dn,we,f.promise,tt,O,ct]),xe.useEffect(()=>{let Te=ft.current;if(Te){let Re=Te.getBoundingClientRect().height;return oe(Re),m(ze=>[{toastId:f.id,height:Re,position:f.position},...ze]),()=>m(ze=>ze.filter(Ve=>Ve.toastId!==f.id))}},[m,f.id]),xe.useEffect(()=>{f.delete&&we()},[we,f.delete]);function Ye(){return j!=null&&j.loading?xe.createElement("div",{className:"sonner-loader","data-visible":tt==="loading"},j.loading):S?xe.createElement("div",{className:"sonner-loader","data-visible":tt==="loading"},S):xe.createElement(xie,{visible:tt==="loading"})}return xe.createElement("li",{"aria-live":f.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:ft,className:E($,Ct,R==null?void 0:R.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,R==null?void 0:R.default,R==null?void 0:R[tt],(n=f==null?void 0:f.classNames)==null?void 0:n[tt]),"data-sonner-toast":"","data-rich-colors":(r=f.richColors)!=null?r:C,"data-styled":!(f.jsx||f.unstyled||h),"data-mounted":z,"data-promise":!!f.promise,"data-removed":F,"data-visible":Ne,"data-y-position":Ee,"data-x-position":De,"data-index":g,"data-front":Ie,"data-swiping":K,"data-dismissible":je,"data-type":tt,"data-invert":Pt,"data-swipe-out":J,"data-expanded":!!(T||M&&z),style:{"--index":g,"--toasts-before":g,"--z-index":x.length-g,"--offset":`${F?Q:X.current}px`,"--initial-height":M?"auto":`${We}px`,...P,...f.style},onPointerDown:Te=>{it||!je||(be.current=new Date,ee(X.current),Te.target.setPointerCapture(Te.pointerId),Te.target.tagName!=="BUTTON"&&(Y(!0),ve.current={x:Te.clientX,y:Te.clientY}))},onPointerUp:()=>{var Te,Re,ze,Ve;if(J||!je)return;ve.current=null;let wt=Number(((Te=ft.current)==null?void 0:Te.style.getPropertyValue("--swipe-amount").replace("px",""))||0),mr=new Date().getTime()-((Re=be.current)==null?void 0:Re.getTime()),on=Math.abs(wt)/mr;if(Math.abs(wt)>=Lie||on>.11){ee(X.current),(ze=f.onDismiss)==null||ze.call(f,f),we(),re(!0);return}(Ve=ft.current)==null||Ve.style.setProperty("--swipe-amount","0px"),Y(!1)},onPointerMove:Te=>{var Re;if(!ve.current||!je)return;let ze=Te.clientY-ve.current.y,Ve=Te.clientX-ve.current.x,wt=(Ee==="top"?Math.min:Math.max)(0,ze),mr=Te.pointerType==="touch"?10:2;Math.abs(wt)>mr?(Re=ft.current)==null||Re.style.setProperty("--swipe-amount",`${ze}px`):Math.abs(Ve)>mr&&(ve.current=null)}},Nt&&!f.jsx?xe.createElement("button",{"aria-label":V,"data-disabled":it,"data-close-button":!0,onClick:it||!je?()=>{}:()=>{var Te;we(),(Te=f.onDismiss)==null||Te.call(f,f)},className:E(R==null?void 0:R.closeButton,(s=f==null?void 0:f.classNames)==null?void 0:s.closeButton)},xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},xe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),xe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,f.jsx||xe.isValidElement(f.title)?f.jsx||f.title:xe.createElement(xe.Fragment,null,tt||f.icon||f.promise?xe.createElement("div",{"data-icon":"",className:E(R==null?void 0:R.icon,(i=f==null?void 0:f.classNames)==null?void 0:i.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||Ye():null,f.type!=="loading"?f.icon||(j==null?void 0:j[tt])||vie(tt):null):null,xe.createElement("div",{"data-content":"",className:E(R==null?void 0:R.content,(a=f==null?void 0:f.classNames)==null?void 0:a.content)},xe.createElement("div",{"data-title":"",className:E(R==null?void 0:R.title,(o=f==null?void 0:f.classNames)==null?void 0:o.title)},f.title),f.description?xe.createElement("div",{"data-description":"",className:E(B,Ar,R==null?void 0:R.description,(l=f==null?void 0:f.classNames)==null?void 0:l.description)},f.description):null),xe.isValidElement(f.cancel)?f.cancel:f.cancel&&Fb(f.cancel)?xe.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||L,onClick:Te=>{var Re,ze;Fb(f.cancel)&&je&&((ze=(Re=f.cancel).onClick)==null||ze.call(Re,Te),we())},className:E(R==null?void 0:R.cancelButton,(u=f==null?void 0:f.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,xe.isValidElement(f.action)?f.action:f.action&&Fb(f.action)?xe.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||U,onClick:Te=>{var Re,ze;Fb(f.action)&&(Te.defaultPrevented||((ze=(Re=f.action).onClick)==null||ze.call(Re,Te),we()))},className:E(R==null?void 0:R.actionButton,(d=f==null?void 0:f.classNames)==null?void 0:d.actionButton)},f.action.label):null))};function D3(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var Uie=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:i,className:a,offset:o,theme:l="light",richColors:u,duration:d,style:p,visibleToasts:f=Mie,toastOptions:h,dir:y=D3(),gap:m=Oie,loadingIcon:b,icons:v,containerAriaLabel:g="Notifications",pauseWhenPageIsHidden:x,cn:T=Fie}=t,[I,C]=xe.useState([]),N=xe.useMemo(()=>Array.from(new Set([n].concat(I.filter(O=>O.position).map(O=>O.position)))),[I,n]),[P,L]=xe.useState([]),[U,$]=xe.useState(!1),[B,_]=xe.useState(!1),[w,k]=xe.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),S=xe.useRef(null),M=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=xe.useRef(null),j=xe.useRef(!1),V=xe.useCallback(O=>{var E;(E=I.find(z=>z.id===O.id))!=null&&E.delete||$i.dismiss(O.id),C(z=>z.filter(({id:Z})=>Z!==O.id))},[I]);return xe.useEffect(()=>$i.subscribe(O=>{if(O.dismiss){C(E=>E.map(z=>z.id===O.id?{...z,delete:!0}:z));return}setTimeout(()=>{sU.flushSync(()=>{C(E=>{let z=E.findIndex(Z=>Z.id===O.id);return z!==-1?[...E.slice(0,z),{...E[z],...O},...E.slice(z+1)]:[O,...E]})})})}),[]),xe.useEffect(()=>{if(l!=="system"){k(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?k("dark"):k("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:O})=>{k(O?"dark":"light")})},[l]),xe.useEffect(()=>{I.length<=1&&$(!1)},[I]),xe.useEffect(()=>{let O=E=>{var z,Z;r.every(F=>E[F]||E.code===F)&&($(!0),(z=S.current)==null||z.focus()),E.code==="Escape"&&(document.activeElement===S.current||(Z=S.current)!=null&&Z.contains(document.activeElement))&&$(!1)};return document.addEventListener("keydown",O),()=>document.removeEventListener("keydown",O)},[r]),xe.useEffect(()=>{if(S.current)return()=>{R.current&&(R.current.focus({preventScroll:!0}),R.current=null,j.current=!1)}},[S.current]),I.length?xe.createElement("section",{"aria-label":`${g} ${M}`,tabIndex:-1},N.map((O,E)=>{var z;let[Z,F]=O.split("-");return xe.createElement("ol",{key:O,dir:y==="auto"?D3():y,tabIndex:-1,ref:S,className:a,"data-sonner-toaster":!0,"data-theme":w,"data-y-position":Z,"data-x-position":F,style:{"--front-toast-height":`${((z=P[0])==null?void 0:z.height)||0}px`,"--offset":typeof o=="number"?`${o}px`:o||jie,"--width":`${Die}px`,"--gap":`${m}px`,...p},onBlur:H=>{j.current&&!H.currentTarget.contains(H.relatedTarget)&&(j.current=!1,R.current&&(R.current.focus({preventScroll:!0}),R.current=null))},onFocus:H=>{H.target instanceof HTMLElement&&H.target.dataset.dismissible==="false"||j.current||(j.current=!0,R.current=H.relatedTarget)},onMouseEnter:()=>$(!0),onMouseMove:()=>$(!0),onMouseLeave:()=>{B||$(!1)},onPointerDown:H=>{H.target instanceof HTMLElement&&H.target.dataset.dismissible==="false"||_(!0)},onPointerUp:()=>_(!1)},I.filter(H=>!H.position&&E===0||H.position===O).map((H,K)=>{var Y,J;return xe.createElement(Bie,{key:H.id,icons:v,index:K,toast:H,defaultRichColors:u,duration:(Y=h==null?void 0:h.duration)!=null?Y:d,className:h==null?void 0:h.className,descriptionClassName:h==null?void 0:h.descriptionClassName,invert:e,visibleToasts:f,closeButton:(J=h==null?void 0:h.closeButton)!=null?J:i,interacting:B,position:O,style:h==null?void 0:h.style,unstyled:h==null?void 0:h.unstyled,classNames:h==null?void 0:h.classNames,cancelButtonStyle:h==null?void 0:h.cancelButtonStyle,actionButtonStyle:h==null?void 0:h.actionButtonStyle,removeToast:V,toasts:I.filter(re=>re.position==H.position),heights:P.filter(re=>re.position==H.position),setHeights:L,expandByDefault:s,gap:m,loadingIcon:b,expanded:U,pauseWhenPageIsHidden:x,cn:T})}))})):null};const zie=({...t})=>{const{theme:e="system"}=gie();return c.jsx(Uie,{theme:e,className:"toaster group",position:"bottom-right",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var Vie=t9.useId||(()=>{}),Hie=0;function fl(t){const[e,n]=A.useState(Vie());return Kr(()=>{n(r=>r??String(Hie++))},[t]),e?`radix-${e}`:""}const Wie=["top","right","bottom","left"],hd=Math.min,Gi=Math.max,a1=Math.round,Bb=Math.floor,md=t=>({x:t,y:t}),Gie={left:"right",right:"left",bottom:"top",top:"bottom"},Kie={start:"end",end:"start"};function nN(t,e,n){return Gi(t,hd(e,n))}function _c(t,e){return typeof t=="function"?t(e):t}function Dc(t){return t.split("-")[0]}function Vm(t){return t.split("-")[1]}function dS(t){return t==="x"?"y":"x"}function pS(t){return t==="y"?"height":"width"}function yd(t){return["top","bottom"].includes(Dc(t))?"y":"x"}function fS(t){return dS(yd(t))}function Yie(t,e,n){n===void 0&&(n=!1);const r=Vm(t),s=fS(t),i=pS(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=o1(a)),[a,o1(a)]}function qie(t){const e=o1(t);return[rN(t),e,rN(e)]}function rN(t){return t.replace(/start|end/g,e=>Kie[e])}function Zie(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:a;default:return[]}}function Xie(t,e,n,r){const s=Vm(t);let i=Zie(Dc(t),n==="start",r);return s&&(i=i.map(a=>a+"-"+s),e&&(i=i.concat(i.map(rN)))),i}function o1(t){return t.replace(/left|right|bottom|top/g,e=>Gie[e])}function Jie(t){return{top:0,right:0,bottom:0,left:0,...t}}function KU(t){return typeof t!="number"?Jie(t):{top:t,right:t,bottom:t,left:t}}function l1(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function O3(t,e,n){let{reference:r,floating:s}=t;const i=yd(e),a=fS(e),o=pS(a),l=Dc(e),u=i==="y",d=r.x+r.width/2-s.width/2,p=r.y+r.height/2-s.height/2,f=r[o]/2-s[o]/2;let h;switch(l){case"top":h={x:d,y:r.y-s.height};break;case"bottom":h={x:d,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:p};break;case"left":h={x:r.x-s.width,y:p};break;default:h={x:r.x,y:r.y}}switch(Vm(e)){case"start":h[a]-=f*(n&&u?-1:1);break;case"end":h[a]+=f*(n&&u?-1:1);break}return h}const Qie=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:a}=n,o=i.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:p}=O3(u,r,l),f=r,h={},y=0;for(let m=0;m<o.length;m++){const{name:b,fn:v}=o[m],{x:g,y:x,data:T,reset:I}=await v({x:d,y:p,initialPlacement:r,placement:f,strategy:s,middlewareData:h,rects:u,platform:a,elements:{reference:t,floating:e}});d=g??d,p=x??p,h={...h,[b]:{...h[b],...T}},I&&y<=50&&(y++,typeof I=="object"&&(I.placement&&(f=I.placement),I.rects&&(u=I.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:s}):I.rects),{x:d,y:p}=O3(u,f,l)),m=-1)}return{x:d,y:p,placement:f,strategy:s,middlewareData:h}};async function p0(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:a,elements:o,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:p="floating",altBoundary:f=!1,padding:h=0}=_c(e,t),y=KU(h),b=o[f?p==="floating"?"reference":"floating":p],v=l1(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(b)))==null||n?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(o.floating)),boundary:u,rootBoundary:d,strategy:l})),g=p==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(o.floating)),T=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},I=l1(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:g,offsetParent:x,strategy:l}):g);return{top:(v.top-I.top+y.top)/T.y,bottom:(I.bottom-v.bottom+y.bottom)/T.y,left:(v.left-I.left+y.left)/T.x,right:(I.right-v.right+y.right)/T.x}}const eae=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:a,elements:o,middlewareData:l}=e,{element:u,padding:d=0}=_c(t,e)||{};if(u==null)return{};const p=KU(d),f={x:n,y:r},h=fS(s),y=pS(h),m=await a.getDimensions(u),b=h==="y",v=b?"top":"left",g=b?"bottom":"right",x=b?"clientHeight":"clientWidth",T=i.reference[y]+i.reference[h]-f[h]-i.floating[y],I=f[h]-i.reference[h],C=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let N=C?C[x]:0;(!N||!await(a.isElement==null?void 0:a.isElement(C)))&&(N=o.floating[x]||i.floating[y]);const P=T/2-I/2,L=N/2-m[y]/2-1,U=hd(p[v],L),$=hd(p[g],L),B=U,_=N-m[y]-$,w=N/2-m[y]/2+P,k=nN(B,w,_),S=!l.arrow&&Vm(s)!=null&&w!==k&&i.reference[y]/2-(w<B?U:$)-m[y]/2<0,M=S?w<B?w-B:w-_:0;return{[h]:f[h]+M,data:{[h]:k,centerOffset:w-k-M,...S&&{alignmentOffset:M}},reset:S}}}),tae=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:a,initialPlacement:o,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:p=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:m=!0,...b}=_c(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=Dc(s),g=yd(o),x=Dc(o)===o,T=await(l.isRTL==null?void 0:l.isRTL(u.floating)),I=f||(x||!m?[o1(o)]:qie(o)),C=y!=="none";!f&&C&&I.push(...Xie(o,m,y,T));const N=[o,...I],P=await p0(e,b),L=[];let U=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&L.push(P[v]),p){const w=Yie(s,a,T);L.push(P[w[0]],P[w[1]])}if(U=[...U,{placement:s,overflows:L}],!L.every(w=>w<=0)){var $,B;const w=((($=i.flip)==null?void 0:$.index)||0)+1,k=N[w];if(k)return{data:{index:w,overflows:U},reset:{placement:k}};let S=(B=U.filter(M=>M.overflows[0]<=0).sort((M,R)=>M.overflows[1]-R.overflows[1])[0])==null?void 0:B.placement;if(!S)switch(h){case"bestFit":{var _;const M=(_=U.filter(R=>{if(C){const j=yd(R.placement);return j===g||j==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(j=>j>0).reduce((j,V)=>j+V,0)]).sort((R,j)=>R[1]-j[1])[0])==null?void 0:_[0];M&&(S=M);break}case"initialPlacement":S=o;break}if(s!==S)return{reset:{placement:S}}}return{}}}};function L3(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function $3(t){return Wie.some(e=>t[e]>=0)}const nae=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=_c(t,e);switch(r){case"referenceHidden":{const i=await p0(e,{...s,elementContext:"reference"}),a=L3(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:$3(a)}}}case"escaped":{const i=await p0(e,{...s,altBoundary:!0}),a=L3(i,n.floating);return{data:{escapedOffsets:a,escaped:$3(a)}}}default:return{}}}}};async function rae(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=Dc(n),o=Vm(n),l=yd(n)==="y",u=["left","top"].includes(a)?-1:1,d=i&&l?-1:1,p=_c(e,t);let{mainAxis:f,crossAxis:h,alignmentAxis:y}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return o&&typeof y=="number"&&(h=o==="end"?y*-1:y),l?{x:h*d,y:f*u}:{x:f*u,y:h*d}}const sae=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:a,middlewareData:o}=e,l=await rae(e,t);return a===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:a}}}}},iae=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:a=!1,limiter:o={fn:b=>{let{x:v,y:g}=b;return{x:v,y:g}}},...l}=_c(t,e),u={x:n,y:r},d=await p0(e,l),p=yd(Dc(s)),f=dS(p);let h=u[f],y=u[p];if(i){const b=f==="y"?"top":"left",v=f==="y"?"bottom":"right",g=h+d[b],x=h-d[v];h=nN(g,h,x)}if(a){const b=p==="y"?"top":"left",v=p==="y"?"bottom":"right",g=y+d[b],x=y-d[v];y=nN(g,y,x)}const m=o.fn({...e,[f]:h,[p]:y});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[f]:i,[p]:a}}}}}},aae=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:a}=e,{offset:o=0,mainAxis:l=!0,crossAxis:u=!0}=_c(t,e),d={x:n,y:r},p=yd(s),f=dS(p);let h=d[f],y=d[p];const m=_c(o,e),b=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const x=f==="y"?"height":"width",T=i.reference[f]-i.floating[x]+b.mainAxis,I=i.reference[f]+i.reference[x]-b.mainAxis;h<T?h=T:h>I&&(h=I)}if(u){var v,g;const x=f==="y"?"width":"height",T=["top","left"].includes(Dc(s)),I=i.reference[p]-i.floating[x]+(T&&((v=a.offset)==null?void 0:v[p])||0)+(T?0:b.crossAxis),C=i.reference[p]+i.reference[x]+(T?0:((g=a.offset)==null?void 0:g[p])||0)-(T?b.crossAxis:0);y<I?y=I:y>C&&(y=C)}return{[f]:h,[p]:y}}}},oae=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:a,elements:o}=e,{apply:l=()=>{},...u}=_c(t,e),d=await p0(e,u),p=Dc(s),f=Vm(s),h=yd(s)==="y",{width:y,height:m}=i.floating;let b,v;p==="top"||p==="bottom"?(b=p,v=f===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(v=p,b=f==="end"?"top":"bottom");const g=m-d.top-d.bottom,x=y-d.left-d.right,T=hd(m-d[b],g),I=hd(y-d[v],x),C=!e.middlewareData.shift;let N=T,P=I;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(P=x),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(N=g),C&&!f){const U=Gi(d.left,0),$=Gi(d.right,0),B=Gi(d.top,0),_=Gi(d.bottom,0);h?P=y-2*(U!==0||$!==0?U+$:Gi(d.left,d.right)):N=m-2*(B!==0||_!==0?B+_:Gi(d.top,d.bottom))}await l({...e,availableWidth:P,availableHeight:N});const L=await a.getDimensions(o.floating);return y!==L.width||m!==L.height?{reset:{rects:!0}}:{}}}};function $T(){return typeof window<"u"}function Hm(t){return YU(t)?(t.nodeName||"").toLowerCase():"#document"}function ea(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Dl(t){var e;return(e=(YU(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function YU(t){return $T()?t instanceof Node||t instanceof ea(t).Node:!1}function Eo(t){return $T()?t instanceof Element||t instanceof ea(t).Element:!1}function Nl(t){return $T()?t instanceof HTMLElement||t instanceof ea(t).HTMLElement:!1}function F3(t){return!$T()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ea(t).ShadowRoot}function $v(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=So(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function lae(t){return["table","td","th"].includes(Hm(t))}function FT(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function hS(t){const e=mS(),n=Eo(t)?So(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function cae(t){let e=gd(t);for(;Nl(e)&&!mm(e);){if(hS(e))return e;if(FT(e))return null;e=gd(e)}return null}function mS(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function mm(t){return["html","body","#document"].includes(Hm(t))}function So(t){return ea(t).getComputedStyle(t)}function BT(t){return Eo(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function gd(t){if(Hm(t)==="html")return t;const e=t.assignedSlot||t.parentNode||F3(t)&&t.host||Dl(t);return F3(e)?e.host:e}function qU(t){const e=gd(t);return mm(e)?t.ownerDocument?t.ownerDocument.body:t.body:Nl(e)&&$v(e)?e:qU(e)}function f0(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=qU(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),a=ea(s);if(i){const o=sN(a);return e.concat(a,a.visualViewport||[],$v(s)?s:[],o&&n?f0(o):[])}return e.concat(s,f0(s,[],n))}function sN(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function ZU(t){const e=So(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Nl(t),i=s?t.offsetWidth:n,a=s?t.offsetHeight:r,o=a1(n)!==i||a1(r)!==a;return o&&(n=i,r=a),{width:n,height:r,$:o}}function yS(t){return Eo(t)?t:t.contextElement}function jh(t){const e=yS(t);if(!Nl(e))return md(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=ZU(e);let a=(i?a1(n.width):n.width)/r,o=(i?a1(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const uae=md(0);function XU(t){const e=ea(t);return!mS()||!e.visualViewport?uae:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function dae(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ea(t)?!1:e}function Qp(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=yS(t);let a=md(1);e&&(r?Eo(r)&&(a=jh(r)):a=jh(t));const o=dae(i,n,r)?XU(i):md(0);let l=(s.left+o.x)/a.x,u=(s.top+o.y)/a.y,d=s.width/a.x,p=s.height/a.y;if(i){const f=ea(i),h=r&&Eo(r)?ea(r):r;let y=f,m=sN(y);for(;m&&r&&h!==y;){const b=jh(m),v=m.getBoundingClientRect(),g=So(m),x=v.left+(m.clientLeft+parseFloat(g.paddingLeft))*b.x,T=v.top+(m.clientTop+parseFloat(g.paddingTop))*b.y;l*=b.x,u*=b.y,d*=b.x,p*=b.y,l+=x,u+=T,y=ea(m),m=sN(y)}}return l1({width:d,height:p,x:l,y:u})}function pae(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",a=Dl(r),o=e?FT(e.floating):!1;if(r===a||o&&i)return n;let l={scrollLeft:0,scrollTop:0},u=md(1);const d=md(0),p=Nl(r);if((p||!p&&!i)&&((Hm(r)!=="body"||$v(a))&&(l=BT(r)),Nl(r))){const f=Qp(r);u=jh(r),d.x=f.x+r.clientLeft,d.y=f.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x,y:n.y*u.y-l.scrollTop*u.y+d.y}}function fae(t){return Array.from(t.getClientRects())}function iN(t,e){const n=BT(t).scrollLeft;return e?e.left+n:Qp(Dl(t)).left+n}function hae(t){const e=Dl(t),n=BT(t),r=t.ownerDocument.body,s=Gi(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Gi(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+iN(t);const o=-n.scrollTop;return So(r).direction==="rtl"&&(a+=Gi(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:a,y:o}}function mae(t,e){const n=ea(t),r=Dl(t),s=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,o=0,l=0;if(s){i=s.width,a=s.height;const u=mS();(!u||u&&e==="fixed")&&(o=s.offsetLeft,l=s.offsetTop)}return{width:i,height:a,x:o,y:l}}function yae(t,e){const n=Qp(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Nl(t)?jh(t):md(1),a=t.clientWidth*i.x,o=t.clientHeight*i.y,l=s*i.x,u=r*i.y;return{width:a,height:o,x:l,y:u}}function B3(t,e,n){let r;if(e==="viewport")r=mae(t,n);else if(e==="document")r=hae(Dl(t));else if(Eo(e))r=yae(e,n);else{const s=XU(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return l1(r)}function JU(t,e){const n=gd(t);return n===e||!Eo(n)||mm(n)?!1:So(n).position==="fixed"||JU(n,e)}function gae(t,e){const n=e.get(t);if(n)return n;let r=f0(t,[],!1).filter(o=>Eo(o)&&Hm(o)!=="body"),s=null;const i=So(t).position==="fixed";let a=i?gd(t):t;for(;Eo(a)&&!mm(a);){const o=So(a),l=hS(a);!l&&o.position==="fixed"&&(s=null),(i?!l&&!s:!l&&o.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||$v(a)&&!l&&JU(t,a))?r=r.filter(d=>d!==a):s=o,a=gd(a)}return e.set(t,r),r}function vae(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const a=[...n==="clippingAncestors"?FT(e)?[]:gae(e,this._c):[].concat(n),r],o=a[0],l=a.reduce((u,d)=>{const p=B3(e,d,s);return u.top=Gi(p.top,u.top),u.right=hd(p.right,u.right),u.bottom=hd(p.bottom,u.bottom),u.left=Gi(p.left,u.left),u},B3(e,o,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function bae(t){const{width:e,height:n}=ZU(t);return{width:e,height:n}}function xae(t,e,n){const r=Nl(e),s=Dl(e),i=n==="fixed",a=Qp(t,!0,i,e);let o={scrollLeft:0,scrollTop:0};const l=md(0);if(r||!r&&!i)if((Hm(e)!=="body"||$v(s))&&(o=BT(e)),r){const h=Qp(e,!0,i,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else s&&(l.x=iN(s));let u=0,d=0;if(s&&!r&&!i){const h=s.getBoundingClientRect();d=h.top+o.scrollTop,u=h.left+o.scrollLeft-iN(s,h)}const p=a.left+o.scrollLeft-l.x-u,f=a.top+o.scrollTop-l.y-d;return{x:p,y:f,width:a.width,height:a.height}}function GA(t){return So(t).position==="static"}function U3(t,e){if(!Nl(t)||So(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Dl(t)===n&&(n=n.ownerDocument.body),n}function QU(t,e){const n=ea(t);if(FT(t))return n;if(!Nl(t)){let s=gd(t);for(;s&&!mm(s);){if(Eo(s)&&!GA(s))return s;s=gd(s)}return n}let r=U3(t,e);for(;r&&lae(r)&&GA(r);)r=U3(r,e);return r&&mm(r)&&GA(r)&&!hS(r)?n:r||cae(t)||n}const wae=async function(t){const e=this.getOffsetParent||QU,n=this.getDimensions,r=await n(t.floating);return{reference:xae(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Tae(t){return So(t).direction==="rtl"}const Aae={convertOffsetParentRelativeRectToViewportRelativeRect:pae,getDocumentElement:Dl,getClippingRect:vae,getOffsetParent:QU,getElementRects:wae,getClientRects:fae,getDimensions:bae,getScale:jh,isElement:Eo,isRTL:Tae};function Iae(t,e){let n=null,r;const s=Dl(t);function i(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),i();const{left:u,top:d,width:p,height:f}=t.getBoundingClientRect();if(o||e(),!p||!f)return;const h=Bb(d),y=Bb(s.clientWidth-(u+p)),m=Bb(s.clientHeight-(d+f)),b=Bb(u),g={rootMargin:-h+"px "+-y+"px "+-m+"px "+-b+"px",threshold:Gi(0,hd(1,l))||1};let x=!0;function T(I){const C=I[0].intersectionRatio;if(C!==l){if(!x)return a();C?a(!1,C):r=setTimeout(()=>{a(!1,1e-7)},1e3)}x=!1}try{n=new IntersectionObserver(T,{...g,root:s.ownerDocument})}catch{n=new IntersectionObserver(T,g)}n.observe(t)}return a(!0),i}function kae(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=yS(t),d=s||i?[...u?f0(u):[],...f0(e)]:[];d.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const p=u&&o?Iae(u,n):null;let f=-1,h=null;a&&(h=new ResizeObserver(v=>{let[g]=v;g&&g.target===u&&h&&(h.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var x;(x=h)==null||x.observe(e)})),n()}),u&&!l&&h.observe(u),h.observe(e));let y,m=l?Qp(t):null;l&&b();function b(){const v=Qp(t);m&&(v.x!==m.x||v.y!==m.y||v.width!==m.width||v.height!==m.height)&&n(),m=v,y=requestAnimationFrame(b)}return n(),()=>{var v;d.forEach(g=>{s&&g.removeEventListener("scroll",n),i&&g.removeEventListener("resize",n)}),p==null||p(),(v=h)==null||v.disconnect(),h=null,l&&cancelAnimationFrame(y)}}const Cae=sae,Nae=iae,Eae=tae,Sae=oae,Rae=nae,z3=eae,Pae=aae,Mae=(t,e,n)=>{const r=new Map,s={platform:Aae,...n},i={...s.platform,_c:r};return Qie(t,e,{...s,platform:i})};var qx=typeof document<"u"?A.useLayoutEffect:A.useEffect;function c1(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!c1(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!c1(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function e7(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function V3(t,e){const n=e7(t);return Math.round(e*n)/n}function KA(t){const e=A.useRef(t);return qx(()=>{e.current=t}),e}function jae(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:a}={},transform:o=!0,whileElementsMounted:l,open:u}=t,[d,p]=A.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,h]=A.useState(r);c1(f,r)||h(r);const[y,m]=A.useState(null),[b,v]=A.useState(null),g=A.useCallback(R=>{R!==C.current&&(C.current=R,m(R))},[]),x=A.useCallback(R=>{R!==N.current&&(N.current=R,v(R))},[]),T=i||y,I=a||b,C=A.useRef(null),N=A.useRef(null),P=A.useRef(d),L=l!=null,U=KA(l),$=KA(s),B=KA(u),_=A.useCallback(()=>{if(!C.current||!N.current)return;const R={placement:e,strategy:n,middleware:f};$.current&&(R.platform=$.current),Mae(C.current,N.current,R).then(j=>{const V={...j,isPositioned:B.current!==!1};w.current&&!c1(P.current,V)&&(P.current=V,If.flushSync(()=>{p(V)}))})},[f,e,n,$,B]);qx(()=>{u===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,p(R=>({...R,isPositioned:!1})))},[u]);const w=A.useRef(!1);qx(()=>(w.current=!0,()=>{w.current=!1}),[]),qx(()=>{if(T&&(C.current=T),I&&(N.current=I),T&&I){if(U.current)return U.current(T,I,_);_()}},[T,I,_,U,L]);const k=A.useMemo(()=>({reference:C,floating:N,setReference:g,setFloating:x}),[g,x]),S=A.useMemo(()=>({reference:T,floating:I}),[T,I]),M=A.useMemo(()=>{const R={position:n,left:0,top:0};if(!S.floating)return R;const j=V3(S.floating,d.x),V=V3(S.floating,d.y);return o?{...R,transform:"translate("+j+"px, "+V+"px)",...e7(S.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:j,top:V}},[n,o,S.floating,d.x,d.y]);return A.useMemo(()=>({...d,update:_,refs:k,elements:S,floatingStyles:M}),[d,_,k,S,M])}const _ae=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?z3({element:r.current,padding:s}).fn(n):{}:r?z3({element:r,padding:s}).fn(n):{}}}},Dae=(t,e)=>({...Cae(t),options:[t,e]}),Oae=(t,e)=>({...Nae(t),options:[t,e]}),Lae=(t,e)=>({...Pae(t),options:[t,e]}),$ae=(t,e)=>({...Eae(t),options:[t,e]}),Fae=(t,e)=>({...Sae(t),options:[t,e]}),Bae=(t,e)=>({...Rae(t),options:[t,e]}),Uae=(t,e)=>({..._ae(t),options:[t,e]});var zae="Arrow",t7=A.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return c.jsx(xt.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});t7.displayName=zae;var Vae=t7;function Hae(t,e=[]){let n=[];function r(i,a){const o=A.createContext(a),l=n.length;n=[...n,a];function u(p){const{scope:f,children:h,...y}=p,m=(f==null?void 0:f[t][l])||o,b=A.useMemo(()=>y,Object.values(y));return c.jsx(m.Provider,{value:b,children:h})}function d(p,f){const h=(f==null?void 0:f[t][l])||o,y=A.useContext(h);if(y)return y;if(a!==void 0)return a;throw new Error(`\`${p}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=n.map(a=>A.createContext(a));return function(o){const l=(o==null?void 0:o[t])||i;return A.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return s.scopeName=t,[r,Wae(s,...e)]}function Wae(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((o,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...o,...p}},{});return A.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function n7(t){const[e,n]=A.useState(void 0);return Kr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,o;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;a=u.inlineSize,o=u.blockSize}else a=t.offsetWidth,o=t.offsetHeight;n({width:a,height:o})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var gS="Popper",[r7,UT]=Hae(gS),[Gae,s7]=r7(gS),i7=t=>{const{__scopePopper:e,children:n}=t,[r,s]=A.useState(null);return c.jsx(Gae,{scope:e,anchor:r,onAnchorChange:s,children:n})};i7.displayName=gS;var a7="PopperAnchor",o7=A.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=s7(a7,n),a=A.useRef(null),o=In(e,a);return A.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:c.jsx(xt.div,{...s,ref:o})});o7.displayName=a7;var vS="PopperContent",[Kae,Yae]=r7(vS),l7=A.forwardRef((t,e)=>{var K,Y,J,re,Q,ee;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:p="partial",hideWhenDetached:f=!1,updatePositionStrategy:h="optimized",onPlaced:y,...m}=t,b=s7(vS,n),[v,g]=A.useState(null),x=In(e,We=>g(We)),[T,I]=A.useState(null),C=n7(T),N=(C==null?void 0:C.width)??0,P=(C==null?void 0:C.height)??0,L=r+(i!=="center"?"-"+i:""),U=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},$=Array.isArray(u)?u:[u],B=$.length>0,_={padding:U,boundary:$.filter(Zae),altBoundary:B},{refs:w,floatingStyles:k,placement:S,isPositioned:M,middlewareData:R}=jae({strategy:"fixed",placement:L,whileElementsMounted:(...We)=>kae(...We,{animationFrame:h==="always"}),elements:{reference:b.anchor},middleware:[Dae({mainAxis:s+P,alignmentAxis:a}),l&&Oae({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?Lae():void 0,..._}),l&&$ae({..._}),Fae({..._,apply:({elements:We,rects:oe,availableWidth:be,availableHeight:ft})=>{const{width:Ie,height:Ne}=oe.reference,tt=We.floating.style;tt.setProperty("--radix-popper-available-width",`${be}px`),tt.setProperty("--radix-popper-available-height",`${ft}px`),tt.setProperty("--radix-popper-anchor-width",`${Ie}px`),tt.setProperty("--radix-popper-anchor-height",`${Ne}px`)}}),T&&Uae({element:T,padding:o}),Xae({arrowWidth:N,arrowHeight:P}),f&&Bae({strategy:"referenceHidden",..._})]}),[j,V]=d7(S),O=ti(y);Kr(()=>{M&&(O==null||O())},[M,O]);const E=(K=R.arrow)==null?void 0:K.x,z=(Y=R.arrow)==null?void 0:Y.y,Z=((J=R.arrow)==null?void 0:J.centerOffset)!==0,[F,H]=A.useState();return Kr(()=>{v&&H(window.getComputedStyle(v).zIndex)},[v]),c.jsx("div",{ref:w.setFloating,"data-radix-popper-content-wrapper":"",style:{...k,transform:M?k.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:F,"--radix-popper-transform-origin":[(re=R.transformOrigin)==null?void 0:re.x,(Q=R.transformOrigin)==null?void 0:Q.y].join(" "),...((ee=R.hide)==null?void 0:ee.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:c.jsx(Kae,{scope:n,placedSide:j,onArrowChange:I,arrowX:E,arrowY:z,shouldHideArrow:Z,children:c.jsx(xt.div,{"data-side":j,"data-align":V,...m,ref:x,style:{...m.style,animation:M?void 0:"none"}})})})});l7.displayName=vS;var c7="PopperArrow",qae={top:"bottom",right:"left",bottom:"top",left:"right"},u7=A.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=Yae(c7,r),a=qae[i.placedSide];return c.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:c.jsx(Vae,{...s,ref:n,style:{...s.style,display:"block"}})})});u7.displayName=c7;function Zae(t){return t!==null}var Xae=t=>({name:"transformOrigin",options:t,fn(e){var b,v,g;const{placement:n,rects:r,middlewareData:s}=e,a=((b=s.arrow)==null?void 0:b.centerOffset)!==0,o=a?0:t.arrowWidth,l=a?0:t.arrowHeight,[u,d]=d7(n),p={start:"0%",center:"50%",end:"100%"}[d],f=(((v=s.arrow)==null?void 0:v.x)??0)+o/2,h=(((g=s.arrow)==null?void 0:g.y)??0)+l/2;let y="",m="";return u==="bottom"?(y=a?p:`${f}px`,m=`${-l}px`):u==="top"?(y=a?p:`${f}px`,m=`${r.floating.height+l}px`):u==="right"?(y=`${-l}px`,m=a?p:`${h}px`):u==="left"&&(y=`${r.floating.width+l}px`,m=a?p:`${h}px`),{data:{x:y,y:m}}}});function d7(t){const[e,n="center"]=t.split("-");return[e,n]}var Jae=i7,p7=o7,f7=l7,h7=u7,[zT,SFe]=Kc("Tooltip",[UT]),bS=UT(),m7="TooltipProvider",Qae=700,H3="tooltip.open",[eoe,y7]=zT(m7),g7=t=>{const{__scopeTooltip:e,delayDuration:n=Qae,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[a,o]=A.useState(!0),l=A.useRef(!1),u=A.useRef(0);return A.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),c.jsx(eoe,{scope:e,isOpenDelayed:a,delayDuration:n,onOpen:A.useCallback(()=>{window.clearTimeout(u.current),o(!1)},[]),onClose:A.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>o(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:A.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:i})};g7.displayName=m7;var v7="Tooltip",[RFe,VT]=zT(v7),aN="TooltipTrigger",toe=A.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=VT(aN,n),i=y7(aN,n),a=bS(n),o=A.useRef(null),l=In(e,o,s.onTriggerChange),u=A.useRef(!1),d=A.useRef(!1),p=A.useCallback(()=>u.current=!1,[]);return A.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),c.jsx(p7,{asChild:!0,...a,children:c.jsx(xt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:pt(t.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:pt(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:pt(t.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:pt(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:pt(t.onBlur,s.onClose),onClick:pt(t.onClick,s.onClose)})})});toe.displayName=aN;var noe="TooltipPortal",[PFe,roe]=zT(noe,{forceMount:void 0}),ym="TooltipContent",b7=A.forwardRef((t,e)=>{const n=roe(ym,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,a=VT(ym,t.__scopeTooltip);return c.jsx(Rd,{present:r||a.open,children:a.disableHoverableContent?c.jsx(x7,{side:s,...i,ref:e}):c.jsx(soe,{side:s,...i,ref:e})})}),soe=A.forwardRef((t,e)=>{const n=VT(ym,t.__scopeTooltip),r=y7(ym,t.__scopeTooltip),s=A.useRef(null),i=In(e,s),[a,o]=A.useState(null),{trigger:l,onClose:u}=n,d=s.current,{onPointerInTransitChange:p}=r,f=A.useCallback(()=>{o(null),p(!1)},[p]),h=A.useCallback((y,m)=>{const b=y.currentTarget,v={x:y.clientX,y:y.clientY},g=loe(v,b.getBoundingClientRect()),x=coe(v,g),T=uoe(m.getBoundingClientRect()),I=poe([...x,...T]);o(I),p(!0)},[p]);return A.useEffect(()=>()=>f(),[f]),A.useEffect(()=>{if(l&&d){const y=b=>h(b,d),m=b=>h(b,l);return l.addEventListener("pointerleave",y),d.addEventListener("pointerleave",m),()=>{l.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",m)}}},[l,d,h,f]),A.useEffect(()=>{if(a){const y=m=>{const b=m.target,v={x:m.clientX,y:m.clientY},g=(l==null?void 0:l.contains(b))||(d==null?void 0:d.contains(b)),x=!doe(v,a);g?f():x&&(f(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[l,d,a,u,f]),c.jsx(x7,{...t,ref:i})}),[ioe,aoe]=zT(v7,{isInside:!1}),x7=A.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:a,...o}=t,l=VT(ym,n),u=bS(n),{onClose:d}=l;return A.useEffect(()=>(document.addEventListener(H3,d),()=>document.removeEventListener(H3,d)),[d]),A.useEffect(()=>{if(l.trigger){const p=f=>{const h=f.target;h!=null&&h.contains(l.trigger)&&d()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[l.trigger,d]),c.jsx(Ov,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:p=>p.preventDefault(),onDismiss:d,children:c.jsxs(f7,{"data-state":l.stateAttribute,...u,...o,ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(oU,{children:r}),c.jsx(ioe,{scope:n,isInside:!0,children:c.jsx(Lre,{id:l.contentId,role:"tooltip",children:s||r})})]})})});b7.displayName=ym;var w7="TooltipArrow",ooe=A.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=bS(n);return aoe(w7,n).isInside?null:c.jsx(h7,{...s,...r,ref:e})});ooe.displayName=w7;function loe(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function coe(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function uoe(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function doe(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const o=e[i].x,l=e[i].y,u=e[a].x,d=e[a].y;l>r!=d>r&&n<(u-o)*(r-l)/(d-l)+o&&(s=!s)}return s}function poe(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),foe(e)}function foe(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],a=e[e.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],a=n[n.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var hoe=g7,T7=b7;const moe=hoe,yoe=A.forwardRef(({className:t,sideOffset:e=4,...n},r)=>c.jsx(T7,{ref:r,sideOffset:e,className:vt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));yoe.displayName=T7.displayName;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function h0(){return h0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h0.apply(this,arguments)}var $u;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})($u||($u={}));const W3="popstate";function goe(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:a,hash:o}=r.location;return oN("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:u1(s)}return boe(e,n,null,t)}function Tr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function A7(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function voe(){return Math.random().toString(36).substr(2,8)}function G3(t,e){return{usr:t.state,key:t.key,idx:e}}function oN(t,e,n,r){return n===void 0&&(n=null),h0({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Wm(e):e,{state:n,key:e&&e.key||r||voe()})}function u1(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Wm(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function boe(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,o=$u.Pop,l=null,u=d();u==null&&(u=0,a.replaceState(h0({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function p(){o=$u.Pop;let b=d(),v=b==null?null:b-u;u=b,l&&l({action:o,location:m.location,delta:v})}function f(b,v){o=$u.Push;let g=oN(m.location,b,v);u=d()+1;let x=G3(g,u),T=m.createHref(g);try{a.pushState(x,"",T)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;s.location.assign(T)}i&&l&&l({action:o,location:m.location,delta:1})}function h(b,v){o=$u.Replace;let g=oN(m.location,b,v);u=d();let x=G3(g,u),T=m.createHref(g);a.replaceState(x,"",T),i&&l&&l({action:o,location:m.location,delta:0})}function y(b){let v=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof b=="string"?b:u1(b);return g=g.replace(/ $/,"%20"),Tr(v,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,v)}let m={get action(){return o},get location(){return t(s,a)},listen(b){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(W3,p),l=b,()=>{s.removeEventListener(W3,p),l=null}},createHref(b){return e(s,b)},createURL:y,encodeLocation(b){let v=y(b);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:h,go(b){return a.go(b)}};return m}var K3;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(K3||(K3={}));function xoe(t,e,n){return n===void 0&&(n="/"),woe(t,e,n,!1)}function woe(t,e,n,r){let s=typeof e=="string"?Wm(e):e,i=xS(s.pathname||"/",n);if(i==null)return null;let a=I7(t);Toe(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=joe(i);o=Poe(a[l],u,r)}return o}function I7(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&(Tr(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=nd([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(Tr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),I7(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:Soe(u,i.index),routesMeta:d})};return t.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let l of k7(i.path))s(i,a,l)}),e}function k7(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=k7(r.join("/")),o=[];return o.push(...a.map(l=>l===""?i:[i,l].join("/"))),s&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function Toe(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Roe(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Aoe=/^:[\w-]+$/,Ioe=3,koe=2,Coe=1,Noe=10,Eoe=-2,Y3=t=>t==="*";function Soe(t,e){let n=t.split("/"),r=n.length;return n.some(Y3)&&(r+=Eoe),e&&(r+=koe),n.filter(s=>!Y3(s)).reduce((s,i)=>s+(Aoe.test(i)?Ioe:i===""?Coe:Noe),r)}function Roe(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function Poe(t,e,n){let{routesMeta:r}=t,s={},i="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",p=q3({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!p&&u&&n&&!r[r.length-1].route.index&&(p=q3({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!p)return null;Object.assign(s,p.params),a.push({params:s,pathname:nd([i,p.pathname]),pathnameBase:Loe(nd([i,p.pathnameBase])),route:f}),p.pathnameBase!=="/"&&(i=nd([i,p.pathnameBase]))}return a}function q3(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Moe(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((u,d,p)=>{let{paramName:f,isOptional:h}=d;if(f==="*"){let m=o[p]||"";a=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const y=o[p];return h&&!y?u[f]=void 0:u[f]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:t}}function Moe(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),A7(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function joe(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return A7(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function xS(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function _oe(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Wm(t):t;return{pathname:n?n.startsWith("/")?n:Doe(n,e):e,search:$oe(r),hash:Foe(s)}}function Doe(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function YA(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ooe(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function wS(t,e){let n=Ooe(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function TS(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Wm(t):(s=h0({},t),Tr(!s.pathname||!s.pathname.includes("?"),YA("?","pathname","search",s)),Tr(!s.pathname||!s.pathname.includes("#"),YA("#","pathname","hash",s)),Tr(!s.search||!s.search.includes("#"),YA("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=n;else{let p=e.length-1;if(!r&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),p-=1;s.pathname=f.join("/")}o=p>=0?e[p]:"/"}let l=_oe(s,o),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const nd=t=>t.join("/").replace(/\/\/+/g,"/"),Loe=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$oe=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Foe=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Boe(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const C7=["post","put","patch","delete"];new Set(C7);const Uoe=["get",...C7];new Set(Uoe);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function m0(){return m0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},m0.apply(this,arguments)}const AS=A.createContext(null),zoe=A.createContext(null),Pd=A.createContext(null),HT=A.createContext(null),Yc=A.createContext({outlet:null,matches:[],isDataRoute:!1}),N7=A.createContext(null);function Voe(t,e){let{relative:n}=e===void 0?{}:e;Gm()||Tr(!1);let{basename:r,navigator:s}=A.useContext(Pd),{hash:i,pathname:a,search:o}=S7(t,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:nd([r,a])),s.createHref({pathname:l,search:o,hash:i})}function Gm(){return A.useContext(HT)!=null}function Ol(){return Gm()||Tr(!1),A.useContext(HT).location}function E7(t){A.useContext(Pd).static||A.useLayoutEffect(t)}function Ll(){let{isDataRoute:t}=A.useContext(Yc);return t?rle():Hoe()}function Hoe(){Gm()||Tr(!1);let t=A.useContext(AS),{basename:e,future:n,navigator:r}=A.useContext(Pd),{matches:s}=A.useContext(Yc),{pathname:i}=Ol(),a=JSON.stringify(wS(s,n.v7_relativeSplatPath)),o=A.useRef(!1);return E7(()=>{o.current=!0}),A.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let p=TS(u,JSON.parse(a),i,d.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:nd([e,p.pathname])),(d.replace?r.replace:r.push)(p,d.state,d)},[e,r,a,i,t])}function Woe(){let{matches:t}=A.useContext(Yc),e=t[t.length-1];return e?e.params:{}}function S7(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=A.useContext(Pd),{matches:s}=A.useContext(Yc),{pathname:i}=Ol(),a=JSON.stringify(wS(s,r.v7_relativeSplatPath));return A.useMemo(()=>TS(t,JSON.parse(a),i,n==="path"),[t,a,i,n])}function Goe(t,e){return Koe(t,e)}function Koe(t,e,n,r){Gm()||Tr(!1);let{navigator:s}=A.useContext(Pd),{matches:i}=A.useContext(Yc),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=Ol(),d;if(e){var p;let b=typeof e=="string"?Wm(e):e;l==="/"||(p=b.pathname)!=null&&p.startsWith(l)||Tr(!1),d=b}else d=u;let f=d.pathname||"/",h=f;if(l!=="/"){let b=l.replace(/^\//,"").split("/");h="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let y=xoe(t,{pathname:h}),m=Joe(y&&y.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:nd([l,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:nd([l,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n,r);return e&&m?A.createElement(HT.Provider,{value:{location:m0({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:$u.Pop}},m):m}function Yoe(){let t=nle(),e=Boe(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:s},n):null,null)}const qoe=A.createElement(Yoe,null);class Zoe extends A.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?A.createElement(Yc.Provider,{value:this.props.routeContext},A.createElement(N7.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Xoe(t){let{routeContext:e,match:n,children:r}=t,s=A.useContext(AS);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),A.createElement(Yc.Provider,{value:e},r)}function Joe(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=(s=n)==null?void 0:s.errors;if(o!=null){let d=a.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);d>=0||Tr(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let p=a[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=d),p.route.id){let{loaderData:f,errors:h}=n,y=p.route.loader&&f[p.route.id]===void 0&&(!h||h[p.route.id]===void 0);if(p.route.lazy||y){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,p,f)=>{let h,y=!1,m=null,b=null;n&&(h=o&&p.route.id?o[p.route.id]:void 0,m=p.route.errorElement||qoe,l&&(u<0&&f===0?(y=!0,b=null):u===f&&(y=!0,b=p.route.hydrateFallbackElement||null)));let v=e.concat(a.slice(0,f+1)),g=()=>{let x;return h?x=m:y?x=b:p.route.Component?x=A.createElement(p.route.Component,null):p.route.element?x=p.route.element:x=d,A.createElement(Xoe,{match:p,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:x})};return n&&(p.route.ErrorBoundary||p.route.errorElement||f===0)?A.createElement(Zoe,{location:n.location,revalidation:n.revalidation,component:m,error:h,children:g(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):g()},null)}var R7=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(R7||{}),d1=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(d1||{});function Qoe(t){let e=A.useContext(AS);return e||Tr(!1),e}function ele(t){let e=A.useContext(zoe);return e||Tr(!1),e}function tle(t){let e=A.useContext(Yc);return e||Tr(!1),e}function P7(t){let e=tle(),n=e.matches[e.matches.length-1];return n.route.id||Tr(!1),n.route.id}function nle(){var t;let e=A.useContext(N7),n=ele(d1.UseRouteError),r=P7(d1.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function rle(){let{router:t}=Qoe(R7.UseNavigateStable),e=P7(d1.UseNavigateStable),n=A.useRef(!1);return E7(()=>{n.current=!0}),A.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,m0({fromRouteId:e},i)))},[t,e])}function Z3(t){let{to:e,replace:n,state:r,relative:s}=t;Gm()||Tr(!1);let{future:i,static:a}=A.useContext(Pd),{matches:o}=A.useContext(Yc),{pathname:l}=Ol(),u=Ll(),d=TS(e,wS(o,i.v7_relativeSplatPath),l,s==="path"),p=JSON.stringify(d);return A.useEffect(()=>u(JSON.parse(p),{replace:n,state:r,relative:s}),[u,p,s,n,r]),null}function is(t){Tr(!1)}function sle(t){let{basename:e="/",children:n=null,location:r,navigationType:s=$u.Pop,navigator:i,static:a=!1,future:o}=t;Gm()&&Tr(!1);let l=e.replace(/^\/*/,"/"),u=A.useMemo(()=>({basename:l,navigator:i,static:a,future:m0({v7_relativeSplatPath:!1},o)}),[l,o,i,a]);typeof r=="string"&&(r=Wm(r));let{pathname:d="/",search:p="",hash:f="",state:h=null,key:y="default"}=r,m=A.useMemo(()=>{let b=xS(d,l);return b==null?null:{location:{pathname:b,search:p,hash:f,state:h,key:y},navigationType:s}},[l,d,p,f,h,y,s]);return m==null?null:A.createElement(Pd.Provider,{value:u},A.createElement(HT.Provider,{children:n,value:m}))}function ile(t){let{children:e,location:n}=t;return Goe(lN(e),n)}new Promise(()=>{});function lN(t,e){e===void 0&&(e=[]);let n=[];return A.Children.forEach(t,(r,s)=>{if(!A.isValidElement(r))return;let i=[...e,s];if(r.type===A.Fragment){n.push.apply(n,lN(r.props.children,i));return}r.type!==is&&Tr(!1),!r.props.index||!r.props.children||Tr(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=lN(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cN(){return cN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cN.apply(this,arguments)}function ale(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function ole(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function lle(t,e){return t.button===0&&(!e||e==="_self")&&!ole(t)}const cle=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ule="6";try{window.__reactRouterVersion=ule}catch{}const dle="startTransition",X3=t9[dle];function ple(t){let{basename:e,children:n,future:r,window:s}=t,i=A.useRef();i.current==null&&(i.current=goe({window:s,v5Compat:!0}));let a=i.current,[o,l]=A.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=A.useCallback(p=>{u&&X3?X3(()=>l(p)):l(p)},[l,u]);return A.useLayoutEffect(()=>a.listen(d),[a,d]),A.createElement(sle,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}const fle=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hle=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,J3=A.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:o,target:l,to:u,preventScrollReset:d,viewTransition:p}=e,f=ale(e,cle),{basename:h}=A.useContext(Pd),y,m=!1;if(typeof u=="string"&&hle.test(u)&&(y=u,fle))try{let x=new URL(window.location.href),T=u.startsWith("//")?new URL(x.protocol+u):new URL(u),I=xS(T.pathname,h);T.origin===x.origin&&I!=null?u=I+T.search+T.hash:m=!0}catch{}let b=Voe(u,{relative:s}),v=mle(u,{replace:a,state:o,target:l,preventScrollReset:d,relative:s,viewTransition:p});function g(x){r&&r(x),x.defaultPrevented||v(x)}return A.createElement("a",cN({},f,{href:y||b,onClick:m||i?r:g,ref:n,target:l}))});var Q3;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Q3||(Q3={}));var e4;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(e4||(e4={}));function mle(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:o}=e===void 0?{}:e,l=Ll(),u=Ol(),d=S7(t,{relative:a});return A.useCallback(p=>{if(lle(p,n)){p.preventDefault();let f=r!==void 0?r:u1(u)===u1(d);l(t,{replace:f,state:s,preventScrollReset:i,relative:a,viewTransition:o})}},[u,l,d,r,s,n,t,i,a,o])}const yle=OT("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),te=A.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const a=r?Xp:"button";return c.jsx(a,{className:vt(yle({variant:e,size:n,className:t})),ref:i,...s})});te.displayName="Button";const WT=()=>c.jsxs("div",{className:"framer-1fpxu4o",children:[c.jsx("div",{className:"framer-1yp8dcl"}),c.jsx("div",{className:"framer-1tkmzk9"}),c.jsx("div",{className:"framer-if0sjr"}),c.jsx("div",{className:"framer-1xgonwz"}),c.jsx("div",{className:"framer-1lv1w0o"})]}),Km="/assets/cloud-9FvyjO3L.png",gle=()=>{const t=A.useRef(null),e=Ll(),n=()=>{e("/issuer")};return A.useEffect(()=>{var d;const u=(d=t.current)==null?void 0:d.querySelectorAll("[data-animate]");u==null||u.forEach((p,f)=>{setTimeout(()=>{p.classList.add("animate-hero-word")},f*80)})},[]),c.jsxs("section",{id:"hero",ref:t,className:"relative min-h-screen flex flex-col justify-center overflow-hidden pt-20 pb-24",style:{backgroundColor:"#f0f8ffe6"},children:[c.jsx(WT,{}),c.jsx("div",{className:"flex justify-center mb-8 relative z-10",children:c.jsx("div",{className:"w-16 h-16 bg-foreground rounded-xl flex items-center justify-center shadow-lg opacity-0 animate-fade-in-up",style:{animationDelay:"0.2s"},children:c.jsx("div",{className:"w-8 h-8 bg-background rounded-md"})})}),c.jsx("div",{className:"max-w-[1200px] mx-auto px-6 relative z-10",children:c.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[c.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-30",style:{zIndex:1},children:c.jsx("img",{src:Km,alt:"",className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-[40%] w-[900px] max-w-none mix-blend-soft-light"})}),c.jsxs("h1",{className:"font-antic text-5xl md:text-6xl lg:text-[64px] font-normal text-foreground mb-6 leading-tight tracking-tight relative mt-8",style:{zIndex:2},children:[c.jsx("span",{className:"inline-block opacity-0","data-animate":!0,style:{animationDelay:"0s"},children:"Register,"})," ",c.jsx("span",{className:"inline-block font-beau text-[68px] opacity-0","data-animate":!0,style:{animationDelay:"0.08s"},children:"Manage,"}),c.jsx("span",{className:"inline-block opacity-0","data-animate":!0,style:{animationDelay:"0.16s"},children:"& Monetize"}),c.jsx("br",{}),c.jsx("span",{className:"inline-block opacity-0","data-animate":!0,style:{animationDelay:"0.24s"},children:"Your Creative IP with"})," ",c.jsx("span",{className:"inline-block font-beau text-[68px] opacity-0","data-animate":!0,style:{animationDelay:"0.32s"},children:" Story Protocol. "}),c.jsx("span",{className:"inline-block opacity-0","data-animate":!0,style:{animationDelay:"0.4s"},children:""})]}),c.jsx("p",{className:"font-inter text-base md:text-lg text-foreground/80 mb-12 max-w-xl mx-auto opacity-0 animate-fade-in-up relative",style:{animationDelay:"0.8s",zIndex:2},children:"IP-OPS is the ultimate platform for creators to establish on-chain provenance, manage derivatives, and automate royalties for their digital and real-world intellectual property."}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center relative",style:{zIndex:2},children:[c.jsxs(te,{size:"lg",className:"btn-gradient text-white rounded-[10px] font-inter font-medium px-8 py-6 text-sm opacity-0 inline-flex items-center gap-2",style:{animation:"fade-in-up 0.6s cubic-bezier(0.44, 0, 0.56, 1) forwards",animationDelay:"1s",background:"linear-gradient(125deg, rgb(119, 75, 229) -4%, rgb(119, 75, 229) 100%)",boxShadow:"rgb(192, 176, 232) 0px 1px 2px 0px inset, rgba(99, 69, 173, 0.35) 0px 0.706592px 0.706592px -0.583333px, rgba(99, 69, 173, 0.34) 0px 1.80656px 1.80656px -1.16667px, rgba(99, 69, 173, 0.33) 0px 3.62176px 3.62176px -1.75px, rgba(99, 69, 173, 0.3) 0px 6.8656px 6.8656px -2.33333px, rgba(99, 69, 173, 0.26) 0px 13.6468px 13.6468px -2.91667px, rgba(99, 69, 173, 0.15) 0px 30px 30px -3.5px"},onClick:n,children:["Register Your IP",c.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 256 256",children:c.jsx("path",{d:"M221.66,133.66l-72,72A8,8,0,0,1,136,200V136H40a8,8,0,0,1,0-16h96V56a8,8,0,0,1,13.66-5.66l72,72A8,8,0,0,1,221.66,133.66Z"})})]}),c.jsxs(te,{size:"lg",className:"text-white rounded-[10px] font-inter font-medium px-8 py-6 text-sm opacity-0 inline-flex items-center gap-2",style:{animation:"fade-in-up 0.6s cubic-bezier(0.44, 0, 0.56, 1) forwards",animationDelay:"1.1s",background:"linear-gradient(127deg, rgb(14, 28, 41) -68%, rgb(50, 61, 104) 100%)",boxShadow:"rgb(184, 193, 230) 0px 1px 2px 0px inset, rgba(46, 64, 128, 0.35) 0px 0.706592px 0.706592px -0.583333px, rgba(46, 64, 128, 0.34) 0px 1.80656px 1.80656px -1.16667px, rgba(46, 64, 128, 0.33) 0px 3.62176px 3.62176px -1.75px, rgba(46, 64, 128, 0.3) 0px 6.8656px 6.8656px -2.33333px, rgba(46, 64, 128, 0.26) 0px 13.6468px 13.6468px -2.91667px, rgba(46, 64, 128, 0.15) 0px 30px 30px -3.5px"},children:["Explore Marketplace",c.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 256 256",children:c.jsx("path",{d:"M140,180a12,12,0,1,1-12-12A12,12,0,0,1,140,180ZM128,72c-22.06,0-40,16.15-40,36v4a8,8,0,0,0,16,0v-4c0-11,10.77-20,24-20s24,9,24,20-10.77,20-24,20a8,8,0,0,0-8,8v8a8,8,0,0,0,16,0v-.72c18.24-3.35,32-17.9,32-35.28C168,88.15,150.06,72,128,72Zm104,56A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128Z"})})]})]})]})})]})},vle=()=>c.jsxs("div",{className:"integration-container",children:[c.jsxs("div",{className:"left-icons",children:[c.jsx("div",{className:"icon-pill icon-1",children:c.jsx("div",{className:"icon-container",children:c.jsxs("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[c.jsx("rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"}),c.jsx("path",{d:"m2 7 10 6 10-6"})]})})}),c.jsx("div",{className:"icon-pill icon-2",children:c.jsx("div",{className:"icon-container",children:c.jsx("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:c.jsx("path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"})})})}),c.jsx("div",{className:"icon-pill icon-3",children:c.jsx("div",{className:"icon-container",children:c.jsxs("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[c.jsx("circle",{cx:"12",cy:"12",r:"10"}),c.jsx("circle",{cx:"12",cy:"12",r:"4"}),c.jsx("path",{d:"M12 2v4"}),c.jsx("path",{d:"M12 18v4"}),c.jsx("path",{d:"M4.93 4.93l2.83 2.83"}),c.jsx("path",{d:"M16.24 16.24l2.83 2.83"}),c.jsx("path",{d:"M2 12h4"}),c.jsx("path",{d:"M18 12h4"}),c.jsx("path",{d:"M4.93 19.07l2.83-2.83"}),c.jsx("path",{d:"M16.24 7.76l2.83-2.83"})]})})})]}),c.jsxs("div",{className:"right-icons",children:[c.jsx("div",{className:"icon-pill icon-4",children:c.jsx("div",{className:"icon-container",children:c.jsx("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:c.jsx("path",{d:"M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"})})})}),c.jsx("div",{className:"icon-pill icon-5",children:c.jsx("div",{className:"icon-container",children:c.jsxs("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[c.jsx("path",{d:"M9 17H7A5 5 0 0 1 7 7h2"}),c.jsx("path",{d:"M15 7h2a5 5 0 1 1 0 10h-2"}),c.jsx("line",{x1:"8",y1:"12",x2:"16",y2:"12"})]})})}),c.jsx("div",{className:"icon-pill icon-6",children:c.jsx("div",{className:"icon-container",children:c.jsx("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:c.jsx("path",{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"})})})})]}),c.jsx("div",{className:"central-logo",children:c.jsx("div",{className:"logo-container",children:c.jsx("div",{className:"logo-icon",children:c.jsx("svg",{viewBox:"0 0 24 24",width:"24",height:"24",fill:"white",children:c.jsx("path",{d:"M2 12l7-7 3 3 7-7v5l-7 7-3-3-7 7V12z"})})})})}),c.jsxs("div",{className:"connecting-lines",children:[c.jsx("svg",{className:"line-left-top",viewBox:"0 0 400 200",style:{position:"absolute",top:"9px",left:"60px",width:"400px",height:"200px",pointerEvents:"none"},children:c.jsx("path",{d:"M 0 1 L 122.022 1 C 130.298 1 137.01 7.702 137.022 15.978 L 137.175 122.029 C 137.187 130.302 143.895 137.003 152.168 137.007 L 275.007 137.066 C 283.289 137.07 290 143.785 290 152.066 L 290 177 C 290 185.284 296.716 192 305 192 L 437 192",fill:"transparent",stroke:"rgb(156,163,175)",strokeWidth:"1.5",strokeMiterlimit:"10",strokeDasharray:"6,4",strokeLinecap:"round"})}),c.jsx("svg",{className:"line-left-middle",viewBox:"0 0 300 60",style:{position:"absolute",top:"calc(50% - 30px)",left:"104px",width:"300px",height:"60px",pointerEvents:"none"},children:c.jsx("path",{d:"M 0 30 L 300 30",fill:"transparent",stroke:"rgb(156,163,175)",strokeWidth:"1.5",strokeMiterlimit:"10",strokeDasharray:"6,4",strokeLinecap:"round"})}),c.jsx("svg",{className:"line-left-bottom",viewBox:"0 0 400 200",style:{position:"absolute",bottom:"1px",left:"60px",width:"400px",height:"200px",pointerEvents:"none"},children:c.jsx("path",{d:"M 0 192 L 122.022 192 C 130.298 192 137.01 185.298 137.022 177.022 L 137.175 70.971 C 137.187 62.698 143.906 55.997 152.179 55.993 L 274.996 55.933 C 283.278 55.93 290 49.215 290 40.933 L 290 16 C 290 7.716 296.716 1 305 1 L 437 1",fill:"transparent",stroke:"rgb(156,163,175)",strokeWidth:"1.5",strokeMiterlimit:"10",strokeDasharray:"6,4",strokeLinecap:"round"})}),c.jsx("svg",{className:"line-right-top",viewBox:"0 0 400 200",style:{position:"absolute",top:"9px",right:"104px",width:"400px",height:"200px",pointerEvents:"none"},children:c.jsx("path",{d:"M 437 1 L 314.978 1 C 306.702 1 299.99 7.702 299.978 15.978 L 299.825 122.029 C 299.813 130.302 293.105 137.003 284.832 137.007 L 161.993 137.066 C 153.711 137.07 147 143.785 147 152.066 L 147 177 C 147 185.284 140.284 192 132 192 L 0 192",fill:"transparent",stroke:"rgb(156,163,175)",strokeWidth:"1.5",strokeMiterlimit:"10",strokeDasharray:"6,4",strokeLinecap:"round"})}),c.jsx("svg",{className:"line-right-middle",viewBox:"0 0 300 60",style:{position:"absolute",top:"calc(50% - 30px)",right:"104px",width:"300px",height:"60px",pointerEvents:"none"},children:c.jsx("path",{d:"M 300 30 L 0 30",fill:"transparent",stroke:"rgb(156,163,175)",strokeWidth:"1.5",strokeMiterlimit:"10",strokeDasharray:"6,4",strokeLinecap:"round"})}),c.jsx("svg",{className:"line-right-bottom",viewBox:"0 0 400 200",style:{position:"absolute",bottom:"1px",right:"104px",width:"400px",height:"200px",pointerEvents:"none"},children:c.jsx("path",{d:"M 437 192 L 314.978 192 C 306.702 192 299.99 185.298 299.978 177.022 L 299.825 70.971 C 299.813 62.698 293.105 55.997 284.832 55.993 L 161.993 55.933 C 153.711 55.93 147 49.215 147 40.933 L 147 16 C 147 7.716 140.284 1 132 1 L 0 1",fill:"transparent",stroke:"rgb(156,163,175)",strokeWidth:"1.5",strokeMiterlimit:"10",strokeDasharray:"6,4",strokeLinecap:"round"})})]})]}),ble=()=>{const t=A.useRef(null);A.useEffect(()=>{var s;const n=new IntersectionObserver(i=>{i.forEach(a=>{a.isIntersecting&&a.target.classList.add("animate-fade-in-up")})},{threshold:.1}),r=(s=t.current)==null?void 0:s.querySelectorAll("[data-scroll-reveal]");return r==null||r.forEach(i=>n.observe(i)),()=>n.disconnect()},[]);const e=["On-Chain Provenance","Automated Royalties","Derivative Tracking"];return c.jsx("section",{id:"integrations",ref:t,className:"py-24 relative",children:c.jsx("div",{className:"max-w-[1200px] mx-auto px-6",children:c.jsxs("div",{className:"bg-[#d8dfe5] rounded-[20px] p-12 md:p-16 card-shadow relative opacity-0","data-scroll-reveal":!0,style:{boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",animationDelay:"0.2s"},children:[c.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-10 overflow-hidden rounded-[20px]",children:c.jsx("img",{src:Km,alt:"",className:"absolute top-1/2 right-0 transform -translate-y-1/2 translate-x-1/4 w-[600px] max-w-none mix-blend-soft-light"})}),c.jsxs("div",{className:"text-center mb-16",children:[c.jsx("div",{className:"inline-block bg-white/80 backdrop-blur-sm rounded-full px-4 py-2 text-sm font-medium text-gray-700 mb-6",children:"Story Protocol Integration"}),c.jsx("h2",{className:"font-['Plus_Jakarta_Sans'] mb-2  text-[#0e1c29] text-[44px] not-italic font-normal h-[52.8px] tracking-[-0.44px] leading-[52.8px]",children:"Deeply Integrated with Story Protocol"})]}),c.jsx("div",{className:"mb-16","data-scroll-reveal":!0,style:{animationDelay:"0.4s"},children:c.jsx(vle,{})}),c.jsx("div",{className:"flex flex-col md:flex-row justify-center items-center gap-8 md:gap-12 text-center",children:e.map((n,r)=>c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:"font-medium text-gray-700 text-lg",children:n}),r<e.length-1&&c.jsx("div",{className:"hidden md:block w-px h-8 bg-gray-400 mx-8 opacity-50",style:{background:"repeating-linear-gradient(to bottom, #9ca3af 0px, #9ca3af 3px, transparent 3px, transparent 6px)"}})]},n))})]})})})},xle=()=>{const t=A.useRef(null);A.useEffect(()=>{var i;const r=new IntersectionObserver(a=>{a.forEach(o=>{o.isIntersecting&&o.target.classList.add("animate-fade-in-up")})},{threshold:.1}),s=(i=t.current)==null?void 0:i.querySelectorAll("[data-scroll-reveal]");return s==null||s.forEach(a=>r.observe(a)),()=>r.disconnect()},[]);const e=["Immutable Ownership Records","Verifiable Creation Timestamps","Transparent Licensing History","Public IP Registry"],n=["Automatic Royalty Payouts","Seamless Derivative Linking","Fair Revenue Distribution","Clear Attribution Trails"];return c.jsxs("section",{id:"insights",ref:t,className:"py-24 relative overflow-hidden",children:[c.jsx("div",{className:"absolute top-1/2 left-0 pointer-events-none opacity-20 transform -translate-y-1/2 -translate-x-1/3",children:c.jsx("img",{src:Km,alt:"",className:"w-[500px] mix-blend-soft-light"})}),c.jsxs("div",{className:"max-w-[1200px] mx-auto px-6 relative z-10",children:[c.jsxs("div",{className:"text-center mb-16 opacity-0","data-scroll-reveal":!0,children:[c.jsx("h2",{className:"font-jakarta text-5xl md:text-[56px] font-italic text-foreground mb-4",children:"Unveiling IP-OPS Insights"}),c.jsx("p",{className:"font-inter text-base md:text-lg text-foreground/80 max-w-2xl mx-auto",children:"Gain unparalleled clarity into your intellectual property, from creation to monetization, all powered by Story Protocol."})]}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-12 mb-16",children:[c.jsx("div",{className:"opacity-0","data-scroll-reveal":!0,children:c.jsxs("div",{className:"bg-card rounded-2xl p-8 card-shadow hover-lift",children:[c.jsx("h3",{className:"font-inter text-2xl font-semibold text-foreground mb-4",children:"On-Chain Provenance & Transparency"}),c.jsx("p",{className:"font-inter text-base text-foreground/80 mb-6 leading-relaxed",children:"Every action related to your IP is immutably recorded on the blockchain, providing undeniable proof of ownership, creation, and licensing history."}),c.jsx("div",{className:"space-y-3",children:e.map((r,s)=>c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-5 h-5 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:c.jsx(r1,{className:"w-3 h-3 text-primary"})}),c.jsx("span",{className:"font-inter text-sm text-foreground/80",children:r})]},`insight-${s}`))})]})}),c.jsx("div",{className:"opacity-0","data-scroll-reveal":!0,children:c.jsxs("div",{className:"bg-card rounded-2xl p-8 card-shadow hover-lift",children:[c.jsx("h3",{className:"font-inter text-2xl font-semibold text-foreground mb-4",children:"Automated Royalty & Derivative Tracking"}),c.jsx("p",{className:"font-inter text-base text-foreground/80 mb-6 leading-relaxed",children:"Experience seamless revenue distribution and automatic derivative linking, ensuring fair compensation and clear attribution across the entire IP lifecycle."}),c.jsx("div",{className:"space-y-3",children:n.map((r,s)=>c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-5 h-5 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:c.jsx(r1,{className:"w-3 h-3 text-primary"})}),c.jsx("span",{className:"font-inter text-sm text-foreground/80",children:r})]},`benefit-${s}`))})]})})]})]})]})},wle=()=>{const t=A.useRef(null);A.useEffect(()=>{var s;const n=new IntersectionObserver(i=>{i.forEach(a=>{a.isIntersecting&&a.target.classList.add("animate-fade-in-up")})},{threshold:.1}),r=(s=t.current)==null?void 0:s.querySelectorAll("[data-scroll-reveal]");return r==null||r.forEach(i=>n.observe(i)),()=>n.disconnect()},[]);const e=[{title:"Effortless Royalty Distribution",description:"Story Protocol automates royalty payouts directly to all eligible rights holders, ensuring fair and transparent compensation without manual intervention."},{title:"Seamless Derivative Tracking",description:"Automatically link and track derivative works to their parent IPs, maintaining a clear chain of provenance and ensuring creators benefit from their original content."},{title:"On-Chain Licensing & Usage",description:"Manage and enforce IP licenses directly on the blockchain, granting permissions and collecting fees with unparalleled transparency and security."},{title:"Real-Time Revenue Insights",description:"Gain instant visibility into your IP's performance and royalty earnings through comprehensive, up-to-date dashboards and analytics."},{title:"Dispute Resolution Framework",description:"Our integrated system provides tools and processes for efficiently resolving IP disputes, supported by transparent on-chain records."},{title:"Global Reach & Accessibility",description:"Expand the reach of your intellectual property to a global audience with a decentralized platform that operates 24/7, accessible to creators worldwide."}];return c.jsxs("section",{id:"auto-repaying",ref:t,className:"py-24 bg-card/30 relative overflow-hidden",children:[c.jsx("div",{className:"absolute top-0 right-0 pointer-events-none opacity-40",children:c.jsx("img",{src:Km,alt:"",className:"w-[400px] mix-blend-screen"})}),c.jsxs("div",{className:"max-w-[1200px] mx-auto px-6 relative z-10",children:[c.jsxs("div",{className:"text-center mb-16 opacity-0","data-scroll-reveal":!0,children:[c.jsx("p",{className:"font-inter text-sm font-medium text-primary mb-3 uppercase tracking-wider",children:"Automated Monetization"}),c.jsx("h2",{className:"font-antic text-5xl md:text-[56px] font-italic text-foreground mb-4",children:"Automatic Royalty & Derivative Management"}),c.jsx("p",{className:"font-inter text-base md:text-lg text-foreground/80 max-w-2xl mx-auto",children:"IP-OPS streamlines your IP monetization, ensuring creators are fairly compensated and derivatives are tracked seamlessly."})]}),c.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map((n,r)=>c.jsxs("div",{"data-scroll-reveal":!0,className:"rounded-2xl p-8 card-shadow opacity-0 hover-lift",style:{background:"linear-gradient(to bottom, #ffffff 0%, #d8dfe5 100%)",animationDelay:`${r*.1}s`},children:[c.jsx("h3",{className:"font-inter text-xl font-semibold text-foreground mb-3",children:n.title}),c.jsx("p",{className:"font-inter text-sm text-foreground/70 leading-relaxed",children:n.description})]},`auto-feature-${r}`))}),c.jsxs("div",{className:"mt-16 flex flex-wrap justify-center gap-6 opacity-0","data-scroll-reveal":!0,children:[c.jsx("div",{className:"text-center px-8 py-4",children:c.jsx("div",{className:"font-inter text-sm font-medium text-muted-foreground mb-1",children:"Fair Compensation"})}),c.jsx("div",{className:"text-center px-8 py-4",children:c.jsx("div",{className:"font-inter text-sm font-medium text-muted-foreground mb-1",children:"Transparent Transactions"})}),c.jsx("div",{className:"text-center px-8 py-4",children:c.jsx("div",{className:"font-inter text-sm font-medium text-muted-foreground mb-1",children:"Creator Empowerment"})})]})]})]})};var IS="Collapsible",[Tle,M7]=Kc(IS),[Ale,kS]=Tle(IS),j7=A.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:i,onOpenChange:a,...o}=t,[l=!1,u]=Cl({prop:r,defaultProp:s,onChange:a});return c.jsx(Ale,{scope:n,disabled:i,contentId:fl(),open:l,onOpenToggle:A.useCallback(()=>u(d=>!d),[u]),children:c.jsx(xt.div,{"data-state":NS(l),"data-disabled":i?"":void 0,...o,ref:e})})});j7.displayName=IS;var _7="CollapsibleTrigger",D7=A.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,s=kS(_7,n);return c.jsx(xt.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":NS(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:e,onClick:pt(t.onClick,s.onOpenToggle)})});D7.displayName=_7;var CS="CollapsibleContent",O7=A.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=kS(CS,t.__scopeCollapsible);return c.jsx(Rd,{present:n||s.open,children:({present:i})=>c.jsx(Ile,{...r,ref:e,present:i})})});O7.displayName=CS;var Ile=A.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:s,...i}=t,a=kS(CS,n),[o,l]=A.useState(r),u=A.useRef(null),d=In(e,u),p=A.useRef(0),f=p.current,h=A.useRef(0),y=h.current,m=a.open||o,b=A.useRef(m),v=A.useRef();return A.useEffect(()=>{const g=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(g)},[]),Kr(()=>{const g=u.current;if(g){v.current=v.current||{transitionDuration:g.style.transitionDuration,animationName:g.style.animationName},g.style.transitionDuration="0s",g.style.animationName="none";const x=g.getBoundingClientRect();p.current=x.height,h.current=x.width,b.current||(g.style.transitionDuration=v.current.transitionDuration,g.style.animationName=v.current.animationName),l(r)}},[a.open,r]),c.jsx(xt.div,{"data-state":NS(a.open),"data-disabled":a.disabled?"":void 0,id:a.contentId,hidden:!m,...i,ref:d,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...t.style},children:m&&s})});function NS(t){return t?"open":"closed"}var kle=j7,Cle=D7,Nle=O7,Ele=A.createContext(void 0);function GT(t){const e=A.useContext(Ele);return t||e||"ltr"}var qc="Accordion",Sle=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[ES,Rle,Ple]=MT(qc),[KT,MFe]=Kc(qc,[Ple,M7]),SS=M7(),L7=xe.forwardRef((t,e)=>{const{type:n,...r}=t,s=r,i=r;return c.jsx(ES.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?c.jsx(Dle,{...i,ref:e}):c.jsx(_le,{...s,ref:e})})});L7.displayName=qc;var[$7,Mle]=KT(qc),[F7,jle]=KT(qc,{collapsible:!1}),_le=xe.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},collapsible:i=!1,...a}=t,[o,l]=Cl({prop:n,defaultProp:r,onChange:s});return c.jsx($7,{scope:t.__scopeAccordion,value:o?[o]:[],onItemOpen:l,onItemClose:xe.useCallback(()=>i&&l(""),[i,l]),children:c.jsx(F7,{scope:t.__scopeAccordion,collapsible:i,children:c.jsx(B7,{...a,ref:e})})})}),Dle=xe.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},...i}=t,[a=[],o]=Cl({prop:n,defaultProp:r,onChange:s}),l=xe.useCallback(d=>o((p=[])=>[...p,d]),[o]),u=xe.useCallback(d=>o((p=[])=>p.filter(f=>f!==d)),[o]);return c.jsx($7,{scope:t.__scopeAccordion,value:a,onItemOpen:l,onItemClose:u,children:c.jsx(F7,{scope:t.__scopeAccordion,collapsible:!0,children:c.jsx(B7,{...i,ref:e})})})}),[Ole,YT]=KT(qc),B7=xe.forwardRef((t,e)=>{const{__scopeAccordion:n,disabled:r,dir:s,orientation:i="vertical",...a}=t,o=xe.useRef(null),l=In(o,e),u=Rle(n),p=GT(s)==="ltr",f=pt(t.onKeyDown,h=>{var P;if(!Sle.includes(h.key))return;const y=h.target,m=u().filter(L=>{var U;return!((U=L.ref.current)!=null&&U.disabled)}),b=m.findIndex(L=>L.ref.current===y),v=m.length;if(b===-1)return;h.preventDefault();let g=b;const x=0,T=v-1,I=()=>{g=b+1,g>T&&(g=x)},C=()=>{g=b-1,g<x&&(g=T)};switch(h.key){case"Home":g=x;break;case"End":g=T;break;case"ArrowRight":i==="horizontal"&&(p?I():C());break;case"ArrowDown":i==="vertical"&&I();break;case"ArrowLeft":i==="horizontal"&&(p?C():I());break;case"ArrowUp":i==="vertical"&&C();break}const N=g%v;(P=m[N].ref.current)==null||P.focus()});return c.jsx(Ole,{scope:n,disabled:r,direction:s,orientation:i,children:c.jsx(ES.Slot,{scope:n,children:c.jsx(xt.div,{...a,"data-orientation":i,ref:l,onKeyDown:r?void 0:f})})})}),p1="AccordionItem",[Lle,RS]=KT(p1),U7=xe.forwardRef((t,e)=>{const{__scopeAccordion:n,value:r,...s}=t,i=YT(p1,n),a=Mle(p1,n),o=SS(n),l=fl(),u=r&&a.value.includes(r)||!1,d=i.disabled||t.disabled;return c.jsx(Lle,{scope:n,open:u,disabled:d,triggerId:l,children:c.jsx(kle,{"data-orientation":i.orientation,"data-state":K7(u),...o,...s,ref:e,disabled:d,open:u,onOpenChange:p=>{p?a.onItemOpen(r):a.onItemClose(r)}})})});U7.displayName=p1;var z7="AccordionHeader",V7=xe.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=YT(qc,n),i=RS(z7,n);return c.jsx(xt.h3,{"data-orientation":s.orientation,"data-state":K7(i.open),"data-disabled":i.disabled?"":void 0,...r,ref:e})});V7.displayName=z7;var uN="AccordionTrigger",H7=xe.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=YT(qc,n),i=RS(uN,n),a=jle(uN,n),o=SS(n);return c.jsx(ES.ItemSlot,{scope:n,children:c.jsx(Cle,{"aria-disabled":i.open&&!a.collapsible||void 0,"data-orientation":s.orientation,id:i.triggerId,...o,...r,ref:e})})});H7.displayName=uN;var W7="AccordionContent",G7=xe.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=YT(qc,n),i=RS(W7,n),a=SS(n);return c.jsx(Nle,{role:"region","aria-labelledby":i.triggerId,"data-orientation":s.orientation,...a,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});G7.displayName=W7;function K7(t){return t?"open":"closed"}var $le=L7,Fle=U7,Ble=V7,Y7=H7,q7=G7;const Ule=$le,Z7=A.forwardRef(({className:t,...e},n)=>c.jsx(Fle,{ref:n,className:vt("border-b",t),...e}));Z7.displayName="AccordionItem";const X7=A.forwardRef(({className:t,children:e,...n},r)=>c.jsx(Ble,{className:"flex",children:c.jsxs(Y7,{ref:r,className:vt("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...n,children:[e,c.jsx(aS,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));X7.displayName=Y7.displayName;const J7=A.forwardRef(({className:t,children:e,...n},r)=>c.jsx(q7,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:c.jsx("div",{className:vt("pb-4 pt-0",t),children:e})}));J7.displayName=q7.displayName;const zle=()=>{const t=A.useRef(null);A.useEffect(()=>{var s;const n=new IntersectionObserver(i=>{i.forEach(a=>{a.isIntersecting&&a.target.classList.add("animate-fade-in-up")})},{threshold:.1}),r=(s=t.current)==null?void 0:s.querySelectorAll("[data-scroll-reveal]");return r==null||r.forEach(i=>n.observe(i)),()=>n.disconnect()},[]);const e=[{question:"What is IP-OPS and how does it utilize Story Protocol?",answer:"IP-OPS is a decentralized platform built on Story Protocol, designed to empower creators with on-chain tools for registering, managing, and monetizing their intellectual property. Story Protocol provides the foundational infrastructure for IP assets, derivatives, and royalty distribution."},{question:"How does IP-OPS ensure my IP's authenticity and provenance?",answer:"Through Story Protocol, every IP registration on IP-OPS creates an immutable record on the blockchain. This provides verifiable proof of creation, ownership, and a transparent history of all associated licenses and derivatives."},{question:"Can I track derivatives of my IP on IP-OPS?",answer:"Yes, IP-OPS, powered by Story Protocol, offers robust derivative tracking. When a new work is identified as a derivative of your IP, it can be linked on-chain, automatically setting up royalty flows for the original creator."},{question:"How are royalties distributed for my IP on IP-OPS?",answer:"Royalties are automatically distributed via Story Protocol's royalty module. Once your IP is registered and licensed, any revenue generated by your original or derivative works is split and paid out to all eligible rights holders according to pre-defined terms."},{question:"Is IP-OPS designed for all types of creators and intellectual property?",answer:"IP-OPS is built to support a wide range of creative IPs, from digital art and music to written works and real-world assets. Our platform provides a flexible framework for creators across various industries to manage and monetize their unique intellectual property."}];return c.jsx("section",{id:"faqs",ref:t,className:"py-24 relative",children:c.jsx("div",{className:"max-w-[1200px] mx-auto px-6",children:c.jsxs("div",{className:"bg-[#d8dfe5] rounded-[20px] p-12 md:p-16 card-shadow relative opacity-0","data-scroll-reveal":!0,style:{boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",animationDelay:"0.2s"},children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsx("div",{className:"inline-block bg-white/80 backdrop-blur-sm rounded-full px-4 py-2 text-sm font-medium text-gray-700 mb-6",children:"FAQ"}),c.jsx("h2",{className:"font-['Plus_Jakarta_Sans'] mb-2 text-[#0e1c29] text-[44px] not-italic font-normal h-[52.8px] tracking-[-0.44px] leading-[52.8px]",children:"Your IP-OPS Questions, Answered."}),c.jsx("p",{className:"font-inter text-base md:text-lg text-[#0e1c29]/80 max-w-2xl mx-auto mt-4",children:"Everything you need to know about IP-OPS, Story Protocol, and on-chain IP management."})]}),c.jsx("div",{className:"max-w-3xl mx-auto opacity-0","data-scroll-reveal":!0,style:{animationDelay:"0.4s"},children:c.jsx(Ule,{type:"single",collapsible:!0,className:"space-y-4",children:e.map((n,r)=>c.jsxs(Z7,{value:`item-${r}`,className:"bg-white/80 backdrop-blur-sm rounded-2xl px-6 border-0",style:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"},children:[c.jsx(X7,{className:"font-jakarta text-lg font-semibold text-[#0e1c29] hover:no-underline py-6",children:n.question}),c.jsx(J7,{className:"font-inter text-base text-[#0e1c29]/80 leading-relaxed pb-6",children:n.answer})]},`faq-${r}`))})})]})})})},Vle=()=>{const t=A.useRef(null);A.useEffect(()=>{var s;const n=new IntersectionObserver(i=>{i.forEach(a=>{a.isIntersecting&&a.target.classList.add("animate-fade-in-up")})},{threshold:.1}),r=(s=t.current)==null?void 0:s.querySelectorAll("[data-scroll-reveal]");return r==null||r.forEach(i=>n.observe(i)),()=>n.disconnect()},[]);const e=[{name:"Alex 'BeatMaster' Reed",role:"Independent Musician",content:"IP-OPS with Story Protocol has been a game-changer for my music. Registering my tracks on-chain and seeing royalties flow directly has brought a level of transparency and control I never thought possible. No more opaque record deals!",rating:5},{name:"Maya 'PixelDreams' Singh",role:"Digital Artist & NFT Creator",content:"As a digital artist, protecting my work is crucial. IP-OPS's derivative tracking is incredible; it ensures that even remixes and adaptations of my art give proper attribution and royalties. Its truly empowering!",rating:5},{name:"Dr. Ben Carter",role:"Academic Author & Researcher",content:"The on-chain provenance provided by IP-OPS is invaluable for academic integrity. Registering my research papers secures my authorship and allows for clear licensing terms for collaborations and further studies. A revolutionary tool for creators.",rating:5}];return c.jsxs("section",{id:"reviews",ref:t,className:"py-24 relative overflow-hidden",children:[c.jsx("div",{className:"absolute top-0 right-0 pointer-events-none opacity-25 transform translate-x-1/3 -translate-y-1/4",children:c.jsx("img",{src:Km,alt:"",className:"w-[450px] mix-blend-soft-light"})}),c.jsxs("div",{className:"max-w-[1200px] mx-auto px-6 relative z-10",children:[c.jsxs("div",{className:"text-center mb-16 opacity-0","data-scroll-reveal":!0,children:[c.jsx("h2",{className:"font-jakarta text-5xl md:text-[56px] font-italic text-foreground mb-4",children:"Creators Trust IP-OPS."}),c.jsx("p",{className:"font-inter text-lg text-foreground/80 max-w-2xl mx-auto",children:"Hear from artists, musicians, and innovators benefiting from transparent IP management."})]}),c.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:e.map((n,r)=>c.jsxs("div",{"data-scroll-reveal":!0,className:"bg-card rounded-2xl p-8 card-shadow opacity-0",style:{animationDelay:`${r*.1}s`},children:[c.jsx("div",{className:"flex gap-1 mb-4",children:Array.from({length:n.rating},(s,i)=>c.jsx(OU,{className:"w-5 h-5 fill-primary text-primary"},`star-${r}-${i}`))}),c.jsxs("p",{className:"font-inter text-base text-foreground/90 mb-6 leading-relaxed",children:['"',n.content,'"']}),c.jsxs("div",{className:"border-t border-border divider-dotted pt-4",children:[c.jsx("p",{className:"font-jakarta font-semibold text-foreground",children:n.name}),c.jsx("p",{className:"font-inter text-sm text-foreground/70",children:n.role})]})]},`review-${r}`))})]})]})},t4="/assets/Orion-C76Ip51K.png",Hle=()=>{const[t,e]=A.useState(!1);return A.useEffect(()=>{const n=()=>{const r=window.scrollY;e(r>100)};return window.addEventListener("scroll",n),()=>window.removeEventListener("scroll",n)},[]),c.jsxs("header",{className:"navbar-container",children:[c.jsxs("div",{className:`navbar-desktop ${t?"navbar-scrolled":""}`,children:[c.jsx("div",{className:"navbar-logo",children:c.jsx("div",{className:"logo-placeholder",children:c.jsx("div",{className:"logo-icon",children:c.jsx("img",{src:t4,alt:"Orion"})})})}),c.jsxs("nav",{className:"navbar-nav",children:[c.jsx("a",{href:"#features",className:"nav-link",children:"Features"}),c.jsx("a",{href:"#pricing",className:"nav-link",children:"Pricing"}),c.jsx("a",{href:"#changelog",className:"nav-link",children:"Changelog"}),c.jsx("a",{href:"#contact",className:"nav-link",children:"Contact"})]}),c.jsx("a",{href:"/marketplace",className:"cta-button",children:"Launch App"})]}),c.jsxs("div",{className:`navbar-mobile ${t?"navbar-scrolled":""}`,children:[c.jsx("div",{className:"navbar-logo",children:c.jsx("div",{className:"logo-placeholder",children:c.jsx("div",{className:"logo-icon",children:c.jsx("img",{src:t4,alt:"Orion"})})})}),c.jsxs("div",{className:"hamburger-menu",children:[c.jsx("div",{className:"hamburger-line"}),c.jsx("div",{className:"hamburger-line"}),c.jsx("div",{className:"hamburger-line"})]})]})]})},Wle=()=>{const t=A.useRef(null);return A.useEffect(()=>{var r;const e=new IntersectionObserver(s=>{s.forEach(i=>{i.isIntersecting&&i.target.classList.add("animate-fade-in-up")})},{threshold:.1}),n=(r=t.current)==null?void 0:r.querySelectorAll("[data-scroll-reveal]");return n==null||n.forEach(s=>e.observe(s)),()=>e.disconnect()},[]),c.jsx("section",{id:"insights",ref:t,className:"py-24 relative",children:c.jsx("div",{className:"max-w-[1200px] mx-auto px-6",children:c.jsxs("div",{className:"bg-[#d8dfe5] rounded-[20px] p-12 md:p-16 card-shadow relative opacity-0 overflow-hidden","data-scroll-reveal":!0,style:{boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",animationDelay:"0.2s"},children:[c.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-10",children:c.jsx("img",{src:Km,alt:"",className:"absolute top-1/2 right-0 transform -translate-y-1/2 translate-x-1/4 w-[600px] max-w-none mix-blend-soft-light"})}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center relative z-10",children:[c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"inline-flex items-center gap-3 bg-white/80 backdrop-blur-sm rounded-full px-4 py-2 border border-[#d8dfe5]",children:[c.jsx("div",{className:"w-5 h-5 rounded-full bg-[#0e1c29] flex items-center justify-center",children:c.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 256 256",children:c.jsx("path",{d:"M64.12,147.8a4,4,0,0,1-4,4.2H16a8,8,0,0,1-7.8-6.17,8.35,8.35,0,0,1,1.62-6.93A67.79,67.79,0,0,1,37,117.51a40,40,0,1,1,66.46-35.8,3.94,3.94,0,0,1-2.27,4.18A64.08,64.08,0,0,0,64,144C64,145.28,64,146.54,64.12,147.8Zm182-8.91A67.76,67.76,0,0,0,219,117.51a40,40,0,1,0-66.46-35.8,3.94,3.94,0,0,0,2.27,4.18A64.08,64.08,0,0,1,192,144c0,1.28,0,2.54-.12,3.8a4,4,0,0,0,4,4.2H240a8,8,0,0,0,7.8-6.17A8.33,8.33,0,0,0,246.17,138.89Zm-89,43.18a48,48,0,1,0-58.37,0A72.13,72.13,0,0,0,65.07,212A8,8,0,0,0,72,224H184a8,8,0,0,0,6.93-12A72.15,72.15,0,0,0,157.19,182.07Z"})})}),c.jsx("span",{className:"text-sm font-medium text-[#0e1c29] opacity-80",children:"Trusted by creators worldwide"})]}),c.jsx("h2",{className:"font-antic text-[#0e1c29] text-[44px] md:text-[52px] not-italic font-normal tracking-[-0.44px] leading-[1.1]",children:"Ready to Protect and Monetize Your IP?"}),c.jsx("p",{className:"font-inter text-base md:text-lg text-[#0e1c29]/80 leading-relaxed max-w-lg",children:"Join the next generation of creators leveraging Story Protocol for transparent IP registration, automated royalties, and seamless derivative management."}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[c.jsxs(te,{size:"lg",className:"btn-gradient text-white rounded-[10px] font-inter font-medium px-8 py-6 text-sm opacity-0 inline-flex items-center gap-2","data-scroll-reveal":!0,style:{animationDelay:"0.4s",background:"linear-gradient(125deg, rgb(119, 75, 229) -4%, rgb(119, 75, 229) 100%)",boxShadow:"rgb(192, 176, 232) 0px 1px 2px 0px inset, rgba(99, 69, 173, 0.35) 0px 0.706592px 0.706592px -0.583333px, rgba(99, 69, 173, 0.34) 0px 1.80656px 1.80656px -1.16667px, rgba(99, 69, 173, 0.33) 0px 3.62176px 3.62176px -1.75px, rgba(99, 69, 173, 0.3) 0px 6.8656px 6.8656px -2.33333px, rgba(99, 69, 173, 0.26) 0px 13.6468px 13.6468px -2.91667px, rgba(99, 69, 173, 0.15) 0px 30px 30px -3.5px"},children:["Register Your IP",c.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 256 256",children:c.jsx("path",{d:"M221.66,133.66l-72,72A8,8,0,0,1,136,200V136H40a8,8,0,0,1,0-16h96V56a8,8,0,0,1,13.66-5.66l72,72A8,8,0,0,1,221.66,133.66Z"})})]}),c.jsxs(te,{size:"lg",className:"text-white rounded-[10px] font-inter font-medium px-8 py-6 text-sm opacity-0 inline-flex items-center gap-2","data-scroll-reveal":!0,style:{animationDelay:"0.5s",background:"linear-gradient(127deg, rgb(14, 28, 41) -68%, rgb(50, 61, 104) 100%)",boxShadow:"rgb(184, 193, 230) 0px 1px 2px 0px inset, rgba(46, 64, 128, 0.35) 0px 0.706592px 0.706592px -0.583333px, rgba(46, 64, 128, 0.34) 0px 1.80656px 1.80656px -1.16667px, rgba(46, 64, 128, 0.33) 0px 3.62176px 3.62176px -1.75px, rgba(46, 64, 128, 0.3) 0px 6.8656px 6.8656px -2.33333px, rgba(46, 64, 128, 0.26) 0px 13.6468px 13.6468px -2.91667px, rgba(46, 64, 128, 0.15) 0px 30px 30px -3.5px"},children:["Explore the Marketplace",c.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 256 256",children:c.jsx("path",{d:"M140,180a12,12,0,1,1-12-12A12,12,0,0,1,140,180ZM128,72c-22.06,0-40,16.15-40,36v4a8,8,0,0,0,16,0v-4c0-11,10.77-20,24-20s24,9,24,20-10.77,20-24,20a8,8,0,0,0-8,8v8a8,8,0,0,0,16,0v-.72c18.24-3.35,32-17.9,32-35.28C168,88.15,150.06,72,128,72Zm104,56A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128Z"})})]})]})]}),c.jsx("div",{className:"flex justify-center lg:justify-end",children:c.jsx("div",{className:"relative w-full max-w-md opacity-0","data-scroll-reveal":!0,style:{animationDelay:"0.6s"},children:c.jsxs("div",{className:"bg-white rounded-[16px] p-6 shadow-lg border border-white/50",children:[c.jsxs("div",{className:"mb-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Total Registered IPs"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),c.jsx("span",{className:"text-xs text-green-600 font-medium",children:"Growing"})]})]}),c.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"12,345"})]}),c.jsx("div",{className:"relative h-20 mb-4",children:c.jsx("div",{className:"absolute bottom-0 left-0 w-full flex items-end gap-1",children:[.3,.7,.4,.8,.6,.9,1,.5,.7,.4,.6,.8].map((e,n)=>c.jsx("div",{className:`flex-1 rounded-t ${n===6?"bg-purple-500":"bg-gray-200"}`,style:{height:`${e*100}%`}},`chart-bar-${n}`))})}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Royalties Claimed"}),c.jsx("div",{className:"text-sm font-semibold text-gray-900",children:"$15,200"})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Derivative Links"}),c.jsx("div",{className:"text-sm font-semibold text-green-600",children:"8,765"})]})]})]})})})]})]})})})},Gle=()=>c.jsx("footer",{className:"bg-black/[0.96] text-gray-300",children:c.jsxs("div",{className:"container py-12",children:[c.jsxs("div",{className:"grid gap-8 md:grid-cols-2 lg:grid-cols-4",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[c.jsx("div",{className:"bg-purple-500 text-white font-bold text-xl px-2 py-1 rounded",children:"IP-OPS"}),c.jsx("span",{className:"font-semibold text-xl text-white"})]}),c.jsx("p",{className:"text-sm mb-4",children:"The next-generation platform for on-chain intellectual property, empowering creators with transparent registration, automated royalties, and derivative tracking."}),c.jsxs("div",{className:"flex space-x-4",children:[c.jsx("a",{href:"https://x.com/TheOpenAssets",className:"text-gray-400 hover:text-white",children:c.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:c.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})}),c.jsx("a",{href:"https://discord.gg/hKp6RTSp59",className:"text-gray-400 hover:text-white",children:c.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:c.jsx("path",{d:"M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.0371 19.7363 19.7363 0 00-4.8852 1.5152.0699.0699 0 00-.0321.0277C2.263 9.0458 1.6663 13.5799 2.0344 18.057c.0016.0162.0116.0315.0247.0416 2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.8732.8914.0766.0766 0 00-.0406.1066c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.9616-.6067 3.9491-1.5219 6.002-3.0294a.077.077 0 00.0247-.0416c.5004-5.177-.8382-9.6732-3.5485-13.6594a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9558-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0957 2.1568 2.4189 0 1.3333-.9558 2.419-2.1569 2.419zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9558-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0957 2.1568 2.4189 0 1.3333-.946 2.419-2.1568 2.419z"})})})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-white mb-4",children:"Quick Links"}),c.jsxs("ul",{className:"space-y-2",children:[c.jsx("li",{children:c.jsx("a",{href:"/about",className:"hover:text-white transition-colors",children:"About IP-OPS"})}),c.jsx("li",{children:c.jsx("a",{href:"/marketplace",className:"hover:text-white transition-colors",children:"IP Marketplace"})}),c.jsx("li",{children:c.jsx("a",{href:"/support",className:"hover:text-white transition-colors",children:"Support"})})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-white mb-4",children:"IP Categories"}),c.jsxs("ul",{className:"space-y-2",children:[c.jsx("li",{children:c.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Digital Art"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Music"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Written Works"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Videos"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Software"})})]})]})]}),c.jsxs("div",{className:"border-t border-gray-800 mt-12 pt-8 flex flex-col md:flex-row justify-between",children:[c.jsxs("div",{className:"flex flex-col space-y-2",children:[c.jsx("p",{className:"text-sm",children:" 2025 IP-OPS. All rights reserved."}),c.jsxs("p",{className:"text-sm text-gray-400",children:["Powered by"," ",c.jsx("a",{href:"https://www.storyprotocol.xyz/",target:"_blank",rel:"noopener noreferrer",className:"bg-purple-500 text-white font-bold text-sm px-2 py-1 rounded",children:"Story Protocol"})]})]}),c.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[c.jsx("a",{href:"#",className:"text-sm hover:text-white transition-colors",children:"Privacy Policy"}),c.jsx("a",{href:"#",className:"text-sm hover:text-white transition-colors",children:"Terms of Service"}),c.jsx("a",{href:"#",className:"text-sm hover:text-white transition-colors",children:"Legal"})]})]})]})}),Kle=()=>c.jsxs("div",{className:"min-h-screen",children:[c.jsx(Hle,{}),c.jsxs("main",{children:[c.jsx(gle,{}),c.jsx(ble,{}),c.jsx(xle,{}),c.jsx(wle,{}),c.jsx(zle,{}),c.jsx(Vle,{}),c.jsx(Wle,{})]}),c.jsx(Gle,{})]}),Yle=()=>{const t=Ol();return A.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),c.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),c.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};function qle(t,e=[]){let n=[];function r(i,a){const o=A.createContext(a),l=n.length;n=[...n,a];function u(p){const{scope:f,children:h,...y}=p,m=(f==null?void 0:f[t][l])||o,b=A.useMemo(()=>y,Object.values(y));return c.jsx(m.Provider,{value:b,children:h})}function d(p,f){const h=(f==null?void 0:f[t][l])||o,y=A.useContext(h);if(y)return y;if(a!==void 0)return a;throw new Error(`\`${p}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=n.map(a=>A.createContext(a));return function(o){const l=(o==null?void 0:o[t])||i;return A.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return s.scopeName=t,[r,Zle(s,...e)]}function Zle(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((o,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...o,...p}},{});return A.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var qA="rovingFocusGroup.onEntryFocus",Xle={bubbles:!1,cancelable:!0},qT="RovingFocusGroup",[dN,Q7,Jle]=MT(qT),[Qle,ez]=qle(qT,[Jle]),[ece,tce]=Qle(qT),tz=A.forwardRef((t,e)=>c.jsx(dN.Provider,{scope:t.__scopeRovingFocusGroup,children:c.jsx(dN.Slot,{scope:t.__scopeRovingFocusGroup,children:c.jsx(nce,{...t,ref:e})})}));tz.displayName=qT;var nce=A.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...p}=t,f=A.useRef(null),h=In(e,f),y=GT(i),[m=null,b]=Cl({prop:a,defaultProp:o,onChange:l}),[v,g]=A.useState(!1),x=ti(u),T=Q7(n),I=A.useRef(!1),[C,N]=A.useState(0);return A.useEffect(()=>{const P=f.current;if(P)return P.addEventListener(qA,x),()=>P.removeEventListener(qA,x)},[x]),c.jsx(ece,{scope:n,orientation:r,dir:y,loop:s,currentTabStopId:m,onItemFocus:A.useCallback(P=>b(P),[b]),onItemShiftTab:A.useCallback(()=>g(!0),[]),onFocusableItemAdd:A.useCallback(()=>N(P=>P+1),[]),onFocusableItemRemove:A.useCallback(()=>N(P=>P-1),[]),children:c.jsx(xt.div,{tabIndex:v||C===0?-1:0,"data-orientation":r,...p,ref:h,style:{outline:"none",...t.style},onMouseDown:pt(t.onMouseDown,()=>{I.current=!0}),onFocus:pt(t.onFocus,P=>{const L=!I.current;if(P.target===P.currentTarget&&L&&!v){const U=new CustomEvent(qA,Xle);if(P.currentTarget.dispatchEvent(U),!U.defaultPrevented){const $=T().filter(S=>S.focusable),B=$.find(S=>S.active),_=$.find(S=>S.id===m),k=[B,_,...$].filter(Boolean).map(S=>S.ref.current);sz(k,d)}}I.current=!1}),onBlur:pt(t.onBlur,()=>g(!1))})})}),nz="RovingFocusGroupItem",rz=A.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...a}=t,o=fl(),l=i||o,u=tce(nz,n),d=u.currentTabStopId===l,p=Q7(n),{onFocusableItemAdd:f,onFocusableItemRemove:h}=u;return A.useEffect(()=>{if(r)return f(),()=>h()},[r,f,h]),c.jsx(dN.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:c.jsx(xt.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...a,ref:e,onMouseDown:pt(t.onMouseDown,y=>{r?u.onItemFocus(l):y.preventDefault()}),onFocus:pt(t.onFocus,()=>u.onItemFocus(l)),onKeyDown:pt(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const m=ice(y,u.orientation,u.dir);if(m!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let v=p().filter(g=>g.focusable).map(g=>g.ref.current);if(m==="last")v.reverse();else if(m==="prev"||m==="next"){m==="prev"&&v.reverse();const g=v.indexOf(y.currentTarget);v=u.loop?ace(v,g+1):v.slice(g+1)}setTimeout(()=>sz(v))}})})})});rz.displayName=nz;var rce={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function sce(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function ice(t,e,n){const r=sce(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return rce[r]}function sz(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function ace(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var oce=tz,lce=rz,PS="Tabs",[cce,jFe]=Kc(PS,[ez]),iz=ez(),[uce,MS]=cce(PS),az=A.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:a="horizontal",dir:o,activationMode:l="automatic",...u}=t,d=GT(o),[p,f]=Cl({prop:r,onChange:s,defaultProp:i});return c.jsx(uce,{scope:n,baseId:fl(),value:p,onValueChange:f,orientation:a,dir:d,activationMode:l,children:c.jsx(xt.div,{dir:d,"data-orientation":a,...u,ref:e})})});az.displayName=PS;var oz="TabsList",lz=A.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=MS(oz,n),a=iz(n);return c.jsx(oce,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:r,children:c.jsx(xt.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});lz.displayName=oz;var cz="TabsTrigger",uz=A.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,a=MS(cz,n),o=iz(n),l=fz(a.baseId,r),u=hz(a.baseId,r),d=r===a.value;return c.jsx(lce,{asChild:!0,...o,focusable:!s,active:d,children:c.jsx(xt.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:pt(t.onMouseDown,p=>{!s&&p.button===0&&p.ctrlKey===!1?a.onValueChange(r):p.preventDefault()}),onKeyDown:pt(t.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&a.onValueChange(r)}),onFocus:pt(t.onFocus,()=>{const p=a.activationMode!=="manual";!d&&!s&&p&&a.onValueChange(r)})})})});uz.displayName=cz;var dz="TabsContent",pz=A.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...a}=t,o=MS(dz,n),l=fz(o.baseId,r),u=hz(o.baseId,r),d=r===o.value,p=A.useRef(d);return A.useEffect(()=>{const f=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(f)},[]),c.jsx(Rd,{present:s||d,children:({present:f})=>c.jsx(xt.div,{"data-state":d?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":l,hidden:!f,id:u,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:p.current?"0s":void 0},children:f&&i})})});pz.displayName=dz;function fz(t,e){return`${t}-trigger-${e}`}function hz(t,e){return`${t}-content-${e}`}var dce=az,mz=lz,yz=uz,gz=pz;const ef=dce,vd=A.forwardRef(({className:t,...e},n)=>c.jsx(mz,{ref:n,className:vt("inline-flex h-10 z-100 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));vd.displayName=mz.displayName;const Mr=A.forwardRef(({className:t,...e},n)=>c.jsx(yz,{ref:n,className:vt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Mr.displayName=yz.displayName;const ds=A.forwardRef(({className:t,...e},n)=>c.jsx(gz,{ref:n,className:vt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));ds.displayName=gz.displayName;var jS={exports:{}};const pce={},fce=Object.freeze(Object.defineProperty({__proto__:null,default:pce},Symbol.toStringTag,{value:"Module"})),Fv=Dee(fce);jS.exports;(function(t){(function(e,n){function r(_,w){if(!_)throw new Error(w||"Assertion failed")}function s(_,w){_.super_=w;var k=function(){};k.prototype=w.prototype,_.prototype=new k,_.prototype.constructor=_}function i(_,w,k){if(i.isBN(_))return _;this.negative=0,this.words=null,this.length=0,this.red=null,_!==null&&((w==="le"||w==="be")&&(k=w,w=10),this._init(_||0,w||10,k||"be"))}typeof e=="object"?e.exports=i:n.BN=i,i.BN=i,i.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=Fv.Buffer}catch{}i.isBN=function(w){return w instanceof i?!0:w!==null&&typeof w=="object"&&w.constructor.wordSize===i.wordSize&&Array.isArray(w.words)},i.max=function(w,k){return w.cmp(k)>0?w:k},i.min=function(w,k){return w.cmp(k)<0?w:k},i.prototype._init=function(w,k,S){if(typeof w=="number")return this._initNumber(w,k,S);if(typeof w=="object")return this._initArray(w,k,S);k==="hex"&&(k=16),r(k===(k|0)&&k>=2&&k<=36),w=w.toString().replace(/\s+/g,"");var M=0;w[0]==="-"&&(M++,this.negative=1),M<w.length&&(k===16?this._parseHex(w,M,S):(this._parseBase(w,k,M),S==="le"&&this._initArray(this.toArray(),k,S)))},i.prototype._initNumber=function(w,k,S){w<0&&(this.negative=1,w=-w),w<67108864?(this.words=[w&67108863],this.length=1):w<4503599627370496?(this.words=[w&67108863,w/67108864&67108863],this.length=2):(r(w<9007199254740992),this.words=[w&67108863,w/67108864&67108863,1],this.length=3),S==="le"&&this._initArray(this.toArray(),k,S)},i.prototype._initArray=function(w,k,S){if(r(typeof w.length=="number"),w.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(w.length/3),this.words=new Array(this.length);for(var M=0;M<this.length;M++)this.words[M]=0;var R,j,V=0;if(S==="be")for(M=w.length-1,R=0;M>=0;M-=3)j=w[M]|w[M-1]<<8|w[M-2]<<16,this.words[R]|=j<<V&67108863,this.words[R+1]=j>>>26-V&67108863,V+=24,V>=26&&(V-=26,R++);else if(S==="le")for(M=0,R=0;M<w.length;M+=3)j=w[M]|w[M+1]<<8|w[M+2]<<16,this.words[R]|=j<<V&67108863,this.words[R+1]=j>>>26-V&67108863,V+=24,V>=26&&(V-=26,R++);return this._strip()};function o(_,w){var k=_.charCodeAt(w);if(k>=48&&k<=57)return k-48;if(k>=65&&k<=70)return k-55;if(k>=97&&k<=102)return k-87;r(!1,"Invalid character in "+_)}function l(_,w,k){var S=o(_,k);return k-1>=w&&(S|=o(_,k-1)<<4),S}i.prototype._parseHex=function(w,k,S){this.length=Math.ceil((w.length-k)/6),this.words=new Array(this.length);for(var M=0;M<this.length;M++)this.words[M]=0;var R=0,j=0,V;if(S==="be")for(M=w.length-1;M>=k;M-=2)V=l(w,k,M)<<R,this.words[j]|=V&67108863,R>=18?(R-=18,j+=1,this.words[j]|=V>>>26):R+=8;else{var O=w.length-k;for(M=O%2===0?k+1:k;M<w.length;M+=2)V=l(w,k,M)<<R,this.words[j]|=V&67108863,R>=18?(R-=18,j+=1,this.words[j]|=V>>>26):R+=8}this._strip()};function u(_,w,k,S){for(var M=0,R=0,j=Math.min(_.length,k),V=w;V<j;V++){var O=_.charCodeAt(V)-48;M*=S,O>=49?R=O-49+10:O>=17?R=O-17+10:R=O,r(O>=0&&R<S,"Invalid character"),M+=R}return M}i.prototype._parseBase=function(w,k,S){this.words=[0],this.length=1;for(var M=0,R=1;R<=67108863;R*=k)M++;M--,R=R/k|0;for(var j=w.length-S,V=j%M,O=Math.min(j,j-V)+S,E=0,z=S;z<O;z+=M)E=u(w,z,z+M,k),this.imuln(R),this.words[0]+E<67108864?this.words[0]+=E:this._iaddn(E);if(V!==0){var Z=1;for(E=u(w,z,w.length,k),z=0;z<V;z++)Z*=k;this.imuln(Z),this.words[0]+E<67108864?this.words[0]+=E:this._iaddn(E)}this._strip()},i.prototype.copy=function(w){w.words=new Array(this.length);for(var k=0;k<this.length;k++)w.words[k]=this.words[k];w.length=this.length,w.negative=this.negative,w.red=this.red};function d(_,w){_.words=w.words,_.length=w.length,_.negative=w.negative,_.red=w.red}if(i.prototype._move=function(w){d(w,this)},i.prototype.clone=function(){var w=new i(null);return this.copy(w),w},i.prototype._expand=function(w){for(;this.length<w;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=p}catch{i.prototype.inspect=p}else i.prototype.inspect=p;function p(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(w,k){w=w||10,k=k|0||1;var S;if(w===16||w==="hex"){S="";for(var M=0,R=0,j=0;j<this.length;j++){var V=this.words[j],O=((V<<M|R)&16777215).toString(16);R=V>>>24-M&16777215,M+=2,M>=26&&(M-=26,j--),R!==0||j!==this.length-1?S=f[6-O.length]+O+S:S=O+S}for(R!==0&&(S=R.toString(16)+S);S.length%k!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}if(w===(w|0)&&w>=2&&w<=36){var E=h[w],z=y[w];S="";var Z=this.clone();for(Z.negative=0;!Z.isZero();){var F=Z.modrn(z).toString(w);Z=Z.idivn(z),Z.isZero()?S=F+S:S=f[E-F.length]+F+S}for(this.isZero()&&(S="0"+S);S.length%k!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var w=this.words[0];return this.length===2?w+=this.words[1]*67108864:this.length===3&&this.words[2]===1?w+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-w:w},i.prototype.toJSON=function(){return this.toString(16,2)},a&&(i.prototype.toBuffer=function(w,k){return this.toArrayLike(a,w,k)}),i.prototype.toArray=function(w,k){return this.toArrayLike(Array,w,k)};var m=function(w,k){return w.allocUnsafe?w.allocUnsafe(k):new w(k)};i.prototype.toArrayLike=function(w,k,S){this._strip();var M=this.byteLength(),R=S||Math.max(1,M);r(M<=R,"byte array longer than desired length"),r(R>0,"Requested array length <= 0");var j=m(w,R),V=k==="le"?"LE":"BE";return this["_toArrayLike"+V](j,M),j},i.prototype._toArrayLikeLE=function(w,k){for(var S=0,M=0,R=0,j=0;R<this.length;R++){var V=this.words[R]<<j|M;w[S++]=V&255,S<w.length&&(w[S++]=V>>8&255),S<w.length&&(w[S++]=V>>16&255),j===6?(S<w.length&&(w[S++]=V>>24&255),M=0,j=0):(M=V>>>24,j+=2)}if(S<w.length)for(w[S++]=M;S<w.length;)w[S++]=0},i.prototype._toArrayLikeBE=function(w,k){for(var S=w.length-1,M=0,R=0,j=0;R<this.length;R++){var V=this.words[R]<<j|M;w[S--]=V&255,S>=0&&(w[S--]=V>>8&255),S>=0&&(w[S--]=V>>16&255),j===6?(S>=0&&(w[S--]=V>>24&255),M=0,j=0):(M=V>>>24,j+=2)}if(S>=0)for(w[S--]=M;S>=0;)w[S--]=0},Math.clz32?i.prototype._countBits=function(w){return 32-Math.clz32(w)}:i.prototype._countBits=function(w){var k=w,S=0;return k>=4096&&(S+=13,k>>>=13),k>=64&&(S+=7,k>>>=7),k>=8&&(S+=4,k>>>=4),k>=2&&(S+=2,k>>>=2),S+k},i.prototype._zeroBits=function(w){if(w===0)return 26;var k=w,S=0;return k&8191||(S+=13,k>>>=13),k&127||(S+=7,k>>>=7),k&15||(S+=4,k>>>=4),k&3||(S+=2,k>>>=2),k&1||S++,S},i.prototype.bitLength=function(){var w=this.words[this.length-1],k=this._countBits(w);return(this.length-1)*26+k};function b(_){for(var w=new Array(_.bitLength()),k=0;k<w.length;k++){var S=k/26|0,M=k%26;w[k]=_.words[S]>>>M&1}return w}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var w=0,k=0;k<this.length;k++){var S=this._zeroBits(this.words[k]);if(w+=S,S!==26)break}return w},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(w){return this.negative!==0?this.abs().inotn(w).iaddn(1):this.clone()},i.prototype.fromTwos=function(w){return this.testn(w-1)?this.notn(w).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(w){for(;this.length<w.length;)this.words[this.length++]=0;for(var k=0;k<w.length;k++)this.words[k]=this.words[k]|w.words[k];return this._strip()},i.prototype.ior=function(w){return r((this.negative|w.negative)===0),this.iuor(w)},i.prototype.or=function(w){return this.length>w.length?this.clone().ior(w):w.clone().ior(this)},i.prototype.uor=function(w){return this.length>w.length?this.clone().iuor(w):w.clone().iuor(this)},i.prototype.iuand=function(w){var k;this.length>w.length?k=w:k=this;for(var S=0;S<k.length;S++)this.words[S]=this.words[S]&w.words[S];return this.length=k.length,this._strip()},i.prototype.iand=function(w){return r((this.negative|w.negative)===0),this.iuand(w)},i.prototype.and=function(w){return this.length>w.length?this.clone().iand(w):w.clone().iand(this)},i.prototype.uand=function(w){return this.length>w.length?this.clone().iuand(w):w.clone().iuand(this)},i.prototype.iuxor=function(w){var k,S;this.length>w.length?(k=this,S=w):(k=w,S=this);for(var M=0;M<S.length;M++)this.words[M]=k.words[M]^S.words[M];if(this!==k)for(;M<k.length;M++)this.words[M]=k.words[M];return this.length=k.length,this._strip()},i.prototype.ixor=function(w){return r((this.negative|w.negative)===0),this.iuxor(w)},i.prototype.xor=function(w){return this.length>w.length?this.clone().ixor(w):w.clone().ixor(this)},i.prototype.uxor=function(w){return this.length>w.length?this.clone().iuxor(w):w.clone().iuxor(this)},i.prototype.inotn=function(w){r(typeof w=="number"&&w>=0);var k=Math.ceil(w/26)|0,S=w%26;this._expand(k),S>0&&k--;for(var M=0;M<k;M++)this.words[M]=~this.words[M]&67108863;return S>0&&(this.words[M]=~this.words[M]&67108863>>26-S),this._strip()},i.prototype.notn=function(w){return this.clone().inotn(w)},i.prototype.setn=function(w,k){r(typeof w=="number"&&w>=0);var S=w/26|0,M=w%26;return this._expand(S+1),k?this.words[S]=this.words[S]|1<<M:this.words[S]=this.words[S]&~(1<<M),this._strip()},i.prototype.iadd=function(w){var k;if(this.negative!==0&&w.negative===0)return this.negative=0,k=this.isub(w),this.negative^=1,this._normSign();if(this.negative===0&&w.negative!==0)return w.negative=0,k=this.isub(w),w.negative=1,k._normSign();var S,M;this.length>w.length?(S=this,M=w):(S=w,M=this);for(var R=0,j=0;j<M.length;j++)k=(S.words[j]|0)+(M.words[j]|0)+R,this.words[j]=k&67108863,R=k>>>26;for(;R!==0&&j<S.length;j++)k=(S.words[j]|0)+R,this.words[j]=k&67108863,R=k>>>26;if(this.length=S.length,R!==0)this.words[this.length]=R,this.length++;else if(S!==this)for(;j<S.length;j++)this.words[j]=S.words[j];return this},i.prototype.add=function(w){var k;return w.negative!==0&&this.negative===0?(w.negative=0,k=this.sub(w),w.negative^=1,k):w.negative===0&&this.negative!==0?(this.negative=0,k=w.sub(this),this.negative=1,k):this.length>w.length?this.clone().iadd(w):w.clone().iadd(this)},i.prototype.isub=function(w){if(w.negative!==0){w.negative=0;var k=this.iadd(w);return w.negative=1,k._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(w),this.negative=1,this._normSign();var S=this.cmp(w);if(S===0)return this.negative=0,this.length=1,this.words[0]=0,this;var M,R;S>0?(M=this,R=w):(M=w,R=this);for(var j=0,V=0;V<R.length;V++)k=(M.words[V]|0)-(R.words[V]|0)+j,j=k>>26,this.words[V]=k&67108863;for(;j!==0&&V<M.length;V++)k=(M.words[V]|0)+j,j=k>>26,this.words[V]=k&67108863;if(j===0&&V<M.length&&M!==this)for(;V<M.length;V++)this.words[V]=M.words[V];return this.length=Math.max(this.length,V),M!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(w){return this.clone().isub(w)};function v(_,w,k){k.negative=w.negative^_.negative;var S=_.length+w.length|0;k.length=S,S=S-1|0;var M=_.words[0]|0,R=w.words[0]|0,j=M*R,V=j&67108863,O=j/67108864|0;k.words[0]=V;for(var E=1;E<S;E++){for(var z=O>>>26,Z=O&67108863,F=Math.min(E,w.length-1),H=Math.max(0,E-_.length+1);H<=F;H++){var K=E-H|0;M=_.words[K]|0,R=w.words[H]|0,j=M*R+Z,z+=j/67108864|0,Z=j&67108863}k.words[E]=Z|0,O=z|0}return O!==0?k.words[E]=O|0:k.length--,k._strip()}var g=function(w,k,S){var M=w.words,R=k.words,j=S.words,V=0,O,E,z,Z=M[0]|0,F=Z&8191,H=Z>>>13,K=M[1]|0,Y=K&8191,J=K>>>13,re=M[2]|0,Q=re&8191,ee=re>>>13,We=M[3]|0,oe=We&8191,be=We>>>13,ft=M[4]|0,Ie=ft&8191,Ne=ft>>>13,tt=M[5]|0,je=tt&8191,Ct=tt>>>13,Ar=M[6]|0,st=Ar&8191,Nt=Ar>>>13,Dn=M[7]|0,zt=Dn&8191,X=Dn>>>13,ke=M[8]|0,ve=ke&8191,Ee=ke>>>13,De=M[9]|0,Me=De&8191,ct=De>>>13,Pt=R[0]|0,it=Pt&8191,we=Pt>>>13,Ye=R[1]|0,Te=Ye&8191,Re=Ye>>>13,ze=R[2]|0,Ve=ze&8191,wt=ze>>>13,mr=R[3]|0,on=mr&8191,bn=mr>>>13,Fl=R[4]|0,Nn=Fl&8191,pn=Fl>>>13,Uo=R[5]|0,En=Uo&8191,mn=Uo>>>13,Bl=R[6]|0,Sn=Bl&8191,Rn=Bl>>>13,Ul=R[7]|0,Pn=Ul&8191,Mn=Ul>>>13,de=R[8]|0,ue=de&8191,Se=de>>>13,at=R[9]|0,Pe=at&8191,He=at>>>13;S.negative=w.negative^k.negative,S.length=19,O=Math.imul(F,it),E=Math.imul(F,we),E=E+Math.imul(H,it)|0,z=Math.imul(H,we);var Tt=(V+O|0)+((E&8191)<<13)|0;V=(z+(E>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,O=Math.imul(Y,it),E=Math.imul(Y,we),E=E+Math.imul(J,it)|0,z=Math.imul(J,we),O=O+Math.imul(F,Te)|0,E=E+Math.imul(F,Re)|0,E=E+Math.imul(H,Te)|0,z=z+Math.imul(H,Re)|0;var Oe=(V+O|0)+((E&8191)<<13)|0;V=(z+(E>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,O=Math.imul(Q,it),E=Math.imul(Q,we),E=E+Math.imul(ee,it)|0,z=Math.imul(ee,we),O=O+Math.imul(Y,Te)|0,E=E+Math.imul(Y,Re)|0,E=E+Math.imul(J,Te)|0,z=z+Math.imul(J,Re)|0,O=O+Math.imul(F,Ve)|0,E=E+Math.imul(F,wt)|0,E=E+Math.imul(H,Ve)|0,z=z+Math.imul(H,wt)|0;var ht=(V+O|0)+((E&8191)<<13)|0;V=(z+(E>>>13)|0)+(ht>>>26)|0,ht&=67108863,O=Math.imul(oe,it),E=Math.imul(oe,we),E=E+Math.imul(be,it)|0,z=Math.imul(be,we),O=O+Math.imul(Q,Te)|0,E=E+Math.imul(Q,Re)|0,E=E+Math.imul(ee,Te)|0,z=z+Math.imul(ee,Re)|0,O=O+Math.imul(Y,Ve)|0,E=E+Math.imul(Y,wt)|0,E=E+Math.imul(J,Ve)|0,z=z+Math.imul(J,wt)|0,O=O+Math.imul(F,on)|0,E=E+Math.imul(F,bn)|0,E=E+Math.imul(H,on)|0,z=z+Math.imul(H,bn)|0;var mt=(V+O|0)+((E&8191)<<13)|0;V=(z+(E>>>13)|0)+(mt>>>26)|0,mt&=67108863,O=Math.imul(Ie,it),E=Math.imul(Ie,we),E=E+Math.imul(Ne,it)|0,z=Math.imul(Ne,we),O=O+Math.imul(oe,Te)|0,E=E+Math.imul(oe,Re)|0,E=E+Math.imul(be,Te)|0,z=z+Math.imul(be,Re)|0,O=O+Math.imul(Q,Ve)|0,E=E+Math.imul(Q,wt)|0,E=E+Math.imul(ee,Ve)|0,z=z+Math.imul(ee,wt)|0,O=O+Math.imul(Y,on)|0,E=E+Math.imul(Y,bn)|0,E=E+Math.imul(J,on)|0,z=z+Math.imul(J,bn)|0,O=O+Math.imul(F,Nn)|0,E=E+Math.imul(F,pn)|0,E=E+Math.imul(H,Nn)|0,z=z+Math.imul(H,pn)|0;var St=(V+O|0)+((E&8191)<<13)|0;V=(z+(E>>>13)|0)+(St>>>26)|0,St&=67108863,O=Math.imul(je,it),E=Math.imul(je,we),E=E+Math.imul(Ct,it)|0,z=Math.imul(Ct,we),O=O+Math.imul(Ie,Te)|0,E=E+Math.imul(Ie,Re)|0,E=E+Math.imul(Ne,Te)|0,z=z+Math.imul(Ne,Re)|0,O=O+Math.imul(oe,Ve)|0,E=E+Math.imul(oe,wt)|0,E=E+Math.imul(be,Ve)|0,z=z+Math.imul(be,wt)|0,O=O+Math.imul(Q,on)|0,E=E+Math.imul(Q,bn)|0,E=E+Math.imul(ee,on)|0,z=z+Math.imul(ee,bn)|0,O=O+Math.imul(Y,Nn)|0,E=E+Math.imul(Y,pn)|0,E=E+Math.imul(J,Nn)|0,z=z+Math.imul(J,pn)|0,O=O+Math.imul(F,En)|0,E=E+Math.imul(F,mn)|0,E=E+Math.imul(H,En)|0,z=z+Math.imul(H,mn)|0;var un=(V+O|0)+((E&8191)<<13)|0;V=(z+(E>>>13)|0)+(un>>>26)|0,un&=67108863,O=Math.imul(st,it),E=Math.imul(st,we),E=E+Math.imul(Nt,it)|0,z=Math.imul(Nt,we),O=O+Math.imul(je,Te)|0,E=E+Math.imul(je,Re)|0,E=E+Math.imul(Ct,Te)|0,z=z+Math.imul(Ct,Re)|0,O=O+Math.imul(Ie,Ve)|0,E=E+Math.imul(Ie,wt)|0,E=E+Math.imul(Ne,Ve)|0,z=z+Math.imul(Ne,wt)|0,O=O+Math.imul(oe,on)|0,E=E+Math.imul(oe,bn)|0,E=E+Math.imul(be,on)|0,z=z+Math.imul(be,bn)|0,O=O+Math.imul(Q,Nn)|0,E=E+Math.imul(Q,pn)|0,E=E+Math.imul(ee,Nn)|0,z=z+Math.imul(ee,pn)|0,O=O+Math.imul(Y,En)|0,E=E+Math.imul(Y,mn)|0,E=E+Math.imul(J,En)|0,z=z+Math.imul(J,mn)|0,O=O+Math.imul(F,Sn)|0,E=E+Math.imul(F,Rn)|0,E=E+Math.imul(H,Sn)|0,z=z+Math.imul(H,Rn)|0;var Wt=(V+O|0)+((E&8191)<<13)|0;V=(z+(E>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,O=Math.imul(zt,it),E=Math.imul(zt,we),E=E+Math.imul(X,it)|0,z=Math.imul(X,we),O=O+Math.imul(st,Te)|0,E=E+Math.imul(st,Re)|0,E=E+Math.imul(Nt,Te)|0,z=z+Math.imul(Nt,Re)|0,O=O+Math.imul(je,Ve)|0,E=E+Math.imul(je,wt)|0,E=E+Math.imul(Ct,Ve)|0,z=z+Math.imul(Ct,wt)|0,O=O+Math.imul(Ie,on)|0,E=E+Math.imul(Ie,bn)|0,E=E+Math.imul(Ne,on)|0,z=z+Math.imul(Ne,bn)|0,O=O+Math.imul(oe,Nn)|0,E=E+Math.imul(oe,pn)|0,E=E+Math.imul(be,Nn)|0,z=z+Math.imul(be,pn)|0,O=O+Math.imul(Q,En)|0,E=E+Math.imul(Q,mn)|0,E=E+Math.imul(ee,En)|0,z=z+Math.imul(ee,mn)|0,O=O+Math.imul(Y,Sn)|0,E=E+Math.imul(Y,Rn)|0,E=E+Math.imul(J,Sn)|0,z=z+Math.imul(J,Rn)|0,O=O+Math.imul(F,Pn)|0,E=E+Math.imul(F,Mn)|0,E=E+Math.imul(H,Pn)|0,z=z+Math.imul(H,Mn)|0;var rn=(V+O|0)+((E&8191)<<13)|0;V=(z+(E>>>13)|0)+(rn>>>26)|0,rn&=67108863,O=Math.imul(ve,it),E=Math.imul(ve,we),E=E+Math.imul(Ee,it)|0,z=Math.imul(Ee,we),O=O+Math.imul(zt,Te)|0,E=E+Math.imul(zt,Re)|0,E=E+Math.imul(X,Te)|0,z=z+Math.imul(X,Re)|0,O=O+Math.imul(st,Ve)|0,E=E+Math.imul(st,wt)|0,E=E+Math.imul(Nt,Ve)|0,z=z+Math.imul(Nt,wt)|0,O=O+Math.imul(je,on)|0,E=E+Math.imul(je,bn)|0,E=E+Math.imul(Ct,on)|0,z=z+Math.imul(Ct,bn)|0,O=O+Math.imul(Ie,Nn)|0,E=E+Math.imul(Ie,pn)|0,E=E+Math.imul(Ne,Nn)|0,z=z+Math.imul(Ne,pn)|0,O=O+Math.imul(oe,En)|0,E=E+Math.imul(oe,mn)|0,E=E+Math.imul(be,En)|0,z=z+Math.imul(be,mn)|0,O=O+Math.imul(Q,Sn)|0,E=E+Math.imul(Q,Rn)|0,E=E+Math.imul(ee,Sn)|0,z=z+Math.imul(ee,Rn)|0,O=O+Math.imul(Y,Pn)|0,E=E+Math.imul(Y,Mn)|0,E=E+Math.imul(J,Pn)|0,z=z+Math.imul(J,Mn)|0,O=O+Math.imul(F,ue)|0,E=E+Math.imul(F,Se)|0,E=E+Math.imul(H,ue)|0,z=z+Math.imul(H,Se)|0;var fn=(V+O|0)+((E&8191)<<13)|0;V=(z+(E>>>13)|0)+(fn>>>26)|0,fn&=67108863,O=Math.imul(Me,it),E=Math.imul(Me,we),E=E+Math.imul(ct,it)|0,z=Math.imul(ct,we),O=O+Math.imul(ve,Te)|0,E=E+Math.imul(ve,Re)|0,E=E+Math.imul(Ee,Te)|0,z=z+Math.imul(Ee,Re)|0,O=O+Math.imul(zt,Ve)|0,E=E+Math.imul(zt,wt)|0,E=E+Math.imul(X,Ve)|0,z=z+Math.imul(X,wt)|0,O=O+Math.imul(st,on)|0,E=E+Math.imul(st,bn)|0,E=E+Math.imul(Nt,on)|0,z=z+Math.imul(Nt,bn)|0,O=O+Math.imul(je,Nn)|0,E=E+Math.imul(je,pn)|0,E=E+Math.imul(Ct,Nn)|0,z=z+Math.imul(Ct,pn)|0,O=O+Math.imul(Ie,En)|0,E=E+Math.imul(Ie,mn)|0,E=E+Math.imul(Ne,En)|0,z=z+Math.imul(Ne,mn)|0,O=O+Math.imul(oe,Sn)|0,E=E+Math.imul(oe,Rn)|0,E=E+Math.imul(be,Sn)|0,z=z+Math.imul(be,Rn)|0,O=O+Math.imul(Q,Pn)|0,E=E+Math.imul(Q,Mn)|0,E=E+Math.imul(ee,Pn)|0,z=z+Math.imul(ee,Mn)|0,O=O+Math.imul(Y,ue)|0,E=E+Math.imul(Y,Se)|0,E=E+Math.imul(J,ue)|0,z=z+Math.imul(J,Se)|0,O=O+Math.imul(F,Pe)|0,E=E+Math.imul(F,He)|0,E=E+Math.imul(H,Pe)|0,z=z+Math.imul(H,He)|0;var Yt=(V+O|0)+((E&8191)<<13)|0;V=(z+(E>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,O=Math.imul(Me,Te),E=Math.imul(Me,Re),E=E+Math.imul(ct,Te)|0,z=Math.imul(ct,Re),O=O+Math.imul(ve,Ve)|0,E=E+Math.imul(ve,wt)|0,E=E+Math.imul(Ee,Ve)|0,z=z+Math.imul(Ee,wt)|0,O=O+Math.imul(zt,on)|0,E=E+Math.imul(zt,bn)|0,E=E+Math.imul(X,on)|0,z=z+Math.imul(X,bn)|0,O=O+Math.imul(st,Nn)|0,E=E+Math.imul(st,pn)|0,E=E+Math.imul(Nt,Nn)|0,z=z+Math.imul(Nt,pn)|0,O=O+Math.imul(je,En)|0,E=E+Math.imul(je,mn)|0,E=E+Math.imul(Ct,En)|0,z=z+Math.imul(Ct,mn)|0,O=O+Math.imul(Ie,Sn)|0,E=E+Math.imul(Ie,Rn)|0,E=E+Math.imul(Ne,Sn)|0,z=z+Math.imul(Ne,Rn)|0,O=O+Math.imul(oe,Pn)|0,E=E+Math.imul(oe,Mn)|0,E=E+Math.imul(be,Pn)|0,z=z+Math.imul(be,Mn)|0,O=O+Math.imul(Q,ue)|0,E=E+Math.imul(Q,Se)|0,E=E+Math.imul(ee,ue)|0,z=z+Math.imul(ee,Se)|0,O=O+Math.imul(Y,Pe)|0,E=E+Math.imul(Y,He)|0,E=E+Math.imul(J,Pe)|0,z=z+Math.imul(J,He)|0;var Ke=(V+O|0)+((E&8191)<<13)|0;V=(z+(E>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,O=Math.imul(Me,Ve),E=Math.imul(Me,wt),E=E+Math.imul(ct,Ve)|0,z=Math.imul(ct,wt),O=O+Math.imul(ve,on)|0,E=E+Math.imul(ve,bn)|0,E=E+Math.imul(Ee,on)|0,z=z+Math.imul(Ee,bn)|0,O=O+Math.imul(zt,Nn)|0,E=E+Math.imul(zt,pn)|0,E=E+Math.imul(X,Nn)|0,z=z+Math.imul(X,pn)|0,O=O+Math.imul(st,En)|0,E=E+Math.imul(st,mn)|0,E=E+Math.imul(Nt,En)|0,z=z+Math.imul(Nt,mn)|0,O=O+Math.imul(je,Sn)|0,E=E+Math.imul(je,Rn)|0,E=E+Math.imul(Ct,Sn)|0,z=z+Math.imul(Ct,Rn)|0,O=O+Math.imul(Ie,Pn)|0,E=E+Math.imul(Ie,Mn)|0,E=E+Math.imul(Ne,Pn)|0,z=z+Math.imul(Ne,Mn)|0,O=O+Math.imul(oe,ue)|0,E=E+Math.imul(oe,Se)|0,E=E+Math.imul(be,ue)|0,z=z+Math.imul(be,Se)|0,O=O+Math.imul(Q,Pe)|0,E=E+Math.imul(Q,He)|0,E=E+Math.imul(ee,Pe)|0,z=z+Math.imul(ee,He)|0;var ie=(V+O|0)+((E&8191)<<13)|0;V=(z+(E>>>13)|0)+(ie>>>26)|0,ie&=67108863,O=Math.imul(Me,on),E=Math.imul(Me,bn),E=E+Math.imul(ct,on)|0,z=Math.imul(ct,bn),O=O+Math.imul(ve,Nn)|0,E=E+Math.imul(ve,pn)|0,E=E+Math.imul(Ee,Nn)|0,z=z+Math.imul(Ee,pn)|0,O=O+Math.imul(zt,En)|0,E=E+Math.imul(zt,mn)|0,E=E+Math.imul(X,En)|0,z=z+Math.imul(X,mn)|0,O=O+Math.imul(st,Sn)|0,E=E+Math.imul(st,Rn)|0,E=E+Math.imul(Nt,Sn)|0,z=z+Math.imul(Nt,Rn)|0,O=O+Math.imul(je,Pn)|0,E=E+Math.imul(je,Mn)|0,E=E+Math.imul(Ct,Pn)|0,z=z+Math.imul(Ct,Mn)|0,O=O+Math.imul(Ie,ue)|0,E=E+Math.imul(Ie,Se)|0,E=E+Math.imul(Ne,ue)|0,z=z+Math.imul(Ne,Se)|0,O=O+Math.imul(oe,Pe)|0,E=E+Math.imul(oe,He)|0,E=E+Math.imul(be,Pe)|0,z=z+Math.imul(be,He)|0;var ot=(V+O|0)+((E&8191)<<13)|0;V=(z+(E>>>13)|0)+(ot>>>26)|0,ot&=67108863,O=Math.imul(Me,Nn),E=Math.imul(Me,pn),E=E+Math.imul(ct,Nn)|0,z=Math.imul(ct,pn),O=O+Math.imul(ve,En)|0,E=E+Math.imul(ve,mn)|0,E=E+Math.imul(Ee,En)|0,z=z+Math.imul(Ee,mn)|0,O=O+Math.imul(zt,Sn)|0,E=E+Math.imul(zt,Rn)|0,E=E+Math.imul(X,Sn)|0,z=z+Math.imul(X,Rn)|0,O=O+Math.imul(st,Pn)|0,E=E+Math.imul(st,Mn)|0,E=E+Math.imul(Nt,Pn)|0,z=z+Math.imul(Nt,Mn)|0,O=O+Math.imul(je,ue)|0,E=E+Math.imul(je,Se)|0,E=E+Math.imul(Ct,ue)|0,z=z+Math.imul(Ct,Se)|0,O=O+Math.imul(Ie,Pe)|0,E=E+Math.imul(Ie,He)|0,E=E+Math.imul(Ne,Pe)|0,z=z+Math.imul(Ne,He)|0;var Ft=(V+O|0)+((E&8191)<<13)|0;V=(z+(E>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,O=Math.imul(Me,En),E=Math.imul(Me,mn),E=E+Math.imul(ct,En)|0,z=Math.imul(ct,mn),O=O+Math.imul(ve,Sn)|0,E=E+Math.imul(ve,Rn)|0,E=E+Math.imul(Ee,Sn)|0,z=z+Math.imul(Ee,Rn)|0,O=O+Math.imul(zt,Pn)|0,E=E+Math.imul(zt,Mn)|0,E=E+Math.imul(X,Pn)|0,z=z+Math.imul(X,Mn)|0,O=O+Math.imul(st,ue)|0,E=E+Math.imul(st,Se)|0,E=E+Math.imul(Nt,ue)|0,z=z+Math.imul(Nt,Se)|0,O=O+Math.imul(je,Pe)|0,E=E+Math.imul(je,He)|0,E=E+Math.imul(Ct,Pe)|0,z=z+Math.imul(Ct,He)|0;var jt=(V+O|0)+((E&8191)<<13)|0;V=(z+(E>>>13)|0)+(jt>>>26)|0,jt&=67108863,O=Math.imul(Me,Sn),E=Math.imul(Me,Rn),E=E+Math.imul(ct,Sn)|0,z=Math.imul(ct,Rn),O=O+Math.imul(ve,Pn)|0,E=E+Math.imul(ve,Mn)|0,E=E+Math.imul(Ee,Pn)|0,z=z+Math.imul(Ee,Mn)|0,O=O+Math.imul(zt,ue)|0,E=E+Math.imul(zt,Se)|0,E=E+Math.imul(X,ue)|0,z=z+Math.imul(X,Se)|0,O=O+Math.imul(st,Pe)|0,E=E+Math.imul(st,He)|0,E=E+Math.imul(Nt,Pe)|0,z=z+Math.imul(Nt,He)|0;var ne=(V+O|0)+((E&8191)<<13)|0;V=(z+(E>>>13)|0)+(ne>>>26)|0,ne&=67108863,O=Math.imul(Me,Pn),E=Math.imul(Me,Mn),E=E+Math.imul(ct,Pn)|0,z=Math.imul(ct,Mn),O=O+Math.imul(ve,ue)|0,E=E+Math.imul(ve,Se)|0,E=E+Math.imul(Ee,ue)|0,z=z+Math.imul(Ee,Se)|0,O=O+Math.imul(zt,Pe)|0,E=E+Math.imul(zt,He)|0,E=E+Math.imul(X,Pe)|0,z=z+Math.imul(X,He)|0;var _t=(V+O|0)+((E&8191)<<13)|0;V=(z+(E>>>13)|0)+(_t>>>26)|0,_t&=67108863,O=Math.imul(Me,ue),E=Math.imul(Me,Se),E=E+Math.imul(ct,ue)|0,z=Math.imul(ct,Se),O=O+Math.imul(ve,Pe)|0,E=E+Math.imul(ve,He)|0,E=E+Math.imul(Ee,Pe)|0,z=z+Math.imul(Ee,He)|0;var sn=(V+O|0)+((E&8191)<<13)|0;V=(z+(E>>>13)|0)+(sn>>>26)|0,sn&=67108863,O=Math.imul(Me,Pe),E=Math.imul(Me,He),E=E+Math.imul(ct,Pe)|0,z=Math.imul(ct,He);var fe=(V+O|0)+((E&8191)<<13)|0;return V=(z+(E>>>13)|0)+(fe>>>26)|0,fe&=67108863,j[0]=Tt,j[1]=Oe,j[2]=ht,j[3]=mt,j[4]=St,j[5]=un,j[6]=Wt,j[7]=rn,j[8]=fn,j[9]=Yt,j[10]=Ke,j[11]=ie,j[12]=ot,j[13]=Ft,j[14]=jt,j[15]=ne,j[16]=_t,j[17]=sn,j[18]=fe,V!==0&&(j[19]=V,S.length++),S};Math.imul||(g=v);function x(_,w,k){k.negative=w.negative^_.negative,k.length=_.length+w.length;for(var S=0,M=0,R=0;R<k.length-1;R++){var j=M;M=0;for(var V=S&67108863,O=Math.min(R,w.length-1),E=Math.max(0,R-_.length+1);E<=O;E++){var z=R-E,Z=_.words[z]|0,F=w.words[E]|0,H=Z*F,K=H&67108863;j=j+(H/67108864|0)|0,K=K+V|0,V=K&67108863,j=j+(K>>>26)|0,M+=j>>>26,j&=67108863}k.words[R]=V,S=j,j=M}return S!==0?k.words[R]=S:k.length--,k._strip()}function T(_,w,k){return x(_,w,k)}i.prototype.mulTo=function(w,k){var S,M=this.length+w.length;return this.length===10&&w.length===10?S=g(this,w,k):M<63?S=v(this,w,k):M<1024?S=x(this,w,k):S=T(this,w,k),S},i.prototype.mul=function(w){var k=new i(null);return k.words=new Array(this.length+w.length),this.mulTo(w,k)},i.prototype.mulf=function(w){var k=new i(null);return k.words=new Array(this.length+w.length),T(this,w,k)},i.prototype.imul=function(w){return this.clone().mulTo(w,this)},i.prototype.imuln=function(w){var k=w<0;k&&(w=-w),r(typeof w=="number"),r(w<67108864);for(var S=0,M=0;M<this.length;M++){var R=(this.words[M]|0)*w,j=(R&67108863)+(S&67108863);S>>=26,S+=R/67108864|0,S+=j>>>26,this.words[M]=j&67108863}return S!==0&&(this.words[M]=S,this.length++),this.length=w===0?1:this.length,k?this.ineg():this},i.prototype.muln=function(w){return this.clone().imuln(w)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(w){var k=b(w);if(k.length===0)return new i(1);for(var S=this,M=0;M<k.length&&k[M]===0;M++,S=S.sqr());if(++M<k.length)for(var R=S.sqr();M<k.length;M++,R=R.sqr())k[M]!==0&&(S=S.mul(R));return S},i.prototype.iushln=function(w){r(typeof w=="number"&&w>=0);var k=w%26,S=(w-k)/26,M=67108863>>>26-k<<26-k,R;if(k!==0){var j=0;for(R=0;R<this.length;R++){var V=this.words[R]&M,O=(this.words[R]|0)-V<<k;this.words[R]=O|j,j=V>>>26-k}j&&(this.words[R]=j,this.length++)}if(S!==0){for(R=this.length-1;R>=0;R--)this.words[R+S]=this.words[R];for(R=0;R<S;R++)this.words[R]=0;this.length+=S}return this._strip()},i.prototype.ishln=function(w){return r(this.negative===0),this.iushln(w)},i.prototype.iushrn=function(w,k,S){r(typeof w=="number"&&w>=0);var M;k?M=(k-k%26)/26:M=0;var R=w%26,j=Math.min((w-R)/26,this.length),V=67108863^67108863>>>R<<R,O=S;if(M-=j,M=Math.max(0,M),O){for(var E=0;E<j;E++)O.words[E]=this.words[E];O.length=j}if(j!==0)if(this.length>j)for(this.length-=j,E=0;E<this.length;E++)this.words[E]=this.words[E+j];else this.words[0]=0,this.length=1;var z=0;for(E=this.length-1;E>=0&&(z!==0||E>=M);E--){var Z=this.words[E]|0;this.words[E]=z<<26-R|Z>>>R,z=Z&V}return O&&z!==0&&(O.words[O.length++]=z),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(w,k,S){return r(this.negative===0),this.iushrn(w,k,S)},i.prototype.shln=function(w){return this.clone().ishln(w)},i.prototype.ushln=function(w){return this.clone().iushln(w)},i.prototype.shrn=function(w){return this.clone().ishrn(w)},i.prototype.ushrn=function(w){return this.clone().iushrn(w)},i.prototype.testn=function(w){r(typeof w=="number"&&w>=0);var k=w%26,S=(w-k)/26,M=1<<k;if(this.length<=S)return!1;var R=this.words[S];return!!(R&M)},i.prototype.imaskn=function(w){r(typeof w=="number"&&w>=0);var k=w%26,S=(w-k)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=S)return this;if(k!==0&&S++,this.length=Math.min(S,this.length),k!==0){var M=67108863^67108863>>>k<<k;this.words[this.length-1]&=M}return this._strip()},i.prototype.maskn=function(w){return this.clone().imaskn(w)},i.prototype.iaddn=function(w){return r(typeof w=="number"),r(w<67108864),w<0?this.isubn(-w):this.negative!==0?this.length===1&&(this.words[0]|0)<=w?(this.words[0]=w-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(w),this.negative=1,this):this._iaddn(w)},i.prototype._iaddn=function(w){this.words[0]+=w;for(var k=0;k<this.length&&this.words[k]>=67108864;k++)this.words[k]-=67108864,k===this.length-1?this.words[k+1]=1:this.words[k+1]++;return this.length=Math.max(this.length,k+1),this},i.prototype.isubn=function(w){if(r(typeof w=="number"),r(w<67108864),w<0)return this.iaddn(-w);if(this.negative!==0)return this.negative=0,this.iaddn(w),this.negative=1,this;if(this.words[0]-=w,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var k=0;k<this.length&&this.words[k]<0;k++)this.words[k]+=67108864,this.words[k+1]-=1;return this._strip()},i.prototype.addn=function(w){return this.clone().iaddn(w)},i.prototype.subn=function(w){return this.clone().isubn(w)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(w,k,S){var M=w.length+S,R;this._expand(M);var j,V=0;for(R=0;R<w.length;R++){j=(this.words[R+S]|0)+V;var O=(w.words[R]|0)*k;j-=O&67108863,V=(j>>26)-(O/67108864|0),this.words[R+S]=j&67108863}for(;R<this.length-S;R++)j=(this.words[R+S]|0)+V,V=j>>26,this.words[R+S]=j&67108863;if(V===0)return this._strip();for(r(V===-1),V=0,R=0;R<this.length;R++)j=-(this.words[R]|0)+V,V=j>>26,this.words[R]=j&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(w,k){var S=this.length-w.length,M=this.clone(),R=w,j=R.words[R.length-1]|0,V=this._countBits(j);S=26-V,S!==0&&(R=R.ushln(S),M.iushln(S),j=R.words[R.length-1]|0);var O=M.length-R.length,E;if(k!=="mod"){E=new i(null),E.length=O+1,E.words=new Array(E.length);for(var z=0;z<E.length;z++)E.words[z]=0}var Z=M.clone()._ishlnsubmul(R,1,O);Z.negative===0&&(M=Z,E&&(E.words[O]=1));for(var F=O-1;F>=0;F--){var H=(M.words[R.length+F]|0)*67108864+(M.words[R.length+F-1]|0);for(H=Math.min(H/j|0,67108863),M._ishlnsubmul(R,H,F);M.negative!==0;)H--,M.negative=0,M._ishlnsubmul(R,1,F),M.isZero()||(M.negative^=1);E&&(E.words[F]=H)}return E&&E._strip(),M._strip(),k!=="div"&&S!==0&&M.iushrn(S),{div:E||null,mod:M}},i.prototype.divmod=function(w,k,S){if(r(!w.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var M,R,j;return this.negative!==0&&w.negative===0?(j=this.neg().divmod(w,k),k!=="mod"&&(M=j.div.neg()),k!=="div"&&(R=j.mod.neg(),S&&R.negative!==0&&R.iadd(w)),{div:M,mod:R}):this.negative===0&&w.negative!==0?(j=this.divmod(w.neg(),k),k!=="mod"&&(M=j.div.neg()),{div:M,mod:j.mod}):this.negative&w.negative?(j=this.neg().divmod(w.neg(),k),k!=="div"&&(R=j.mod.neg(),S&&R.negative!==0&&R.isub(w)),{div:j.div,mod:R}):w.length>this.length||this.cmp(w)<0?{div:new i(0),mod:this}:w.length===1?k==="div"?{div:this.divn(w.words[0]),mod:null}:k==="mod"?{div:null,mod:new i(this.modrn(w.words[0]))}:{div:this.divn(w.words[0]),mod:new i(this.modrn(w.words[0]))}:this._wordDiv(w,k)},i.prototype.div=function(w){return this.divmod(w,"div",!1).div},i.prototype.mod=function(w){return this.divmod(w,"mod",!1).mod},i.prototype.umod=function(w){return this.divmod(w,"mod",!0).mod},i.prototype.divRound=function(w){var k=this.divmod(w);if(k.mod.isZero())return k.div;var S=k.div.negative!==0?k.mod.isub(w):k.mod,M=w.ushrn(1),R=w.andln(1),j=S.cmp(M);return j<0||R===1&&j===0?k.div:k.div.negative!==0?k.div.isubn(1):k.div.iaddn(1)},i.prototype.modrn=function(w){var k=w<0;k&&(w=-w),r(w<=67108863);for(var S=(1<<26)%w,M=0,R=this.length-1;R>=0;R--)M=(S*M+(this.words[R]|0))%w;return k?-M:M},i.prototype.modn=function(w){return this.modrn(w)},i.prototype.idivn=function(w){var k=w<0;k&&(w=-w),r(w<=67108863);for(var S=0,M=this.length-1;M>=0;M--){var R=(this.words[M]|0)+S*67108864;this.words[M]=R/w|0,S=R%w}return this._strip(),k?this.ineg():this},i.prototype.divn=function(w){return this.clone().idivn(w)},i.prototype.egcd=function(w){r(w.negative===0),r(!w.isZero());var k=this,S=w.clone();k.negative!==0?k=k.umod(w):k=k.clone();for(var M=new i(1),R=new i(0),j=new i(0),V=new i(1),O=0;k.isEven()&&S.isEven();)k.iushrn(1),S.iushrn(1),++O;for(var E=S.clone(),z=k.clone();!k.isZero();){for(var Z=0,F=1;!(k.words[0]&F)&&Z<26;++Z,F<<=1);if(Z>0)for(k.iushrn(Z);Z-- >0;)(M.isOdd()||R.isOdd())&&(M.iadd(E),R.isub(z)),M.iushrn(1),R.iushrn(1);for(var H=0,K=1;!(S.words[0]&K)&&H<26;++H,K<<=1);if(H>0)for(S.iushrn(H);H-- >0;)(j.isOdd()||V.isOdd())&&(j.iadd(E),V.isub(z)),j.iushrn(1),V.iushrn(1);k.cmp(S)>=0?(k.isub(S),M.isub(j),R.isub(V)):(S.isub(k),j.isub(M),V.isub(R))}return{a:j,b:V,gcd:S.iushln(O)}},i.prototype._invmp=function(w){r(w.negative===0),r(!w.isZero());var k=this,S=w.clone();k.negative!==0?k=k.umod(w):k=k.clone();for(var M=new i(1),R=new i(0),j=S.clone();k.cmpn(1)>0&&S.cmpn(1)>0;){for(var V=0,O=1;!(k.words[0]&O)&&V<26;++V,O<<=1);if(V>0)for(k.iushrn(V);V-- >0;)M.isOdd()&&M.iadd(j),M.iushrn(1);for(var E=0,z=1;!(S.words[0]&z)&&E<26;++E,z<<=1);if(E>0)for(S.iushrn(E);E-- >0;)R.isOdd()&&R.iadd(j),R.iushrn(1);k.cmp(S)>=0?(k.isub(S),M.isub(R)):(S.isub(k),R.isub(M))}var Z;return k.cmpn(1)===0?Z=M:Z=R,Z.cmpn(0)<0&&Z.iadd(w),Z},i.prototype.gcd=function(w){if(this.isZero())return w.abs();if(w.isZero())return this.abs();var k=this.clone(),S=w.clone();k.negative=0,S.negative=0;for(var M=0;k.isEven()&&S.isEven();M++)k.iushrn(1),S.iushrn(1);do{for(;k.isEven();)k.iushrn(1);for(;S.isEven();)S.iushrn(1);var R=k.cmp(S);if(R<0){var j=k;k=S,S=j}else if(R===0||S.cmpn(1)===0)break;k.isub(S)}while(!0);return S.iushln(M)},i.prototype.invm=function(w){return this.egcd(w).a.umod(w)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(w){return this.words[0]&w},i.prototype.bincn=function(w){r(typeof w=="number");var k=w%26,S=(w-k)/26,M=1<<k;if(this.length<=S)return this._expand(S+1),this.words[S]|=M,this;for(var R=M,j=S;R!==0&&j<this.length;j++){var V=this.words[j]|0;V+=R,R=V>>>26,V&=67108863,this.words[j]=V}return R!==0&&(this.words[j]=R,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(w){var k=w<0;if(this.negative!==0&&!k)return-1;if(this.negative===0&&k)return 1;this._strip();var S;if(this.length>1)S=1;else{k&&(w=-w),r(w<=67108863,"Number is too big");var M=this.words[0]|0;S=M===w?0:M<w?-1:1}return this.negative!==0?-S|0:S},i.prototype.cmp=function(w){if(this.negative!==0&&w.negative===0)return-1;if(this.negative===0&&w.negative!==0)return 1;var k=this.ucmp(w);return this.negative!==0?-k|0:k},i.prototype.ucmp=function(w){if(this.length>w.length)return 1;if(this.length<w.length)return-1;for(var k=0,S=this.length-1;S>=0;S--){var M=this.words[S]|0,R=w.words[S]|0;if(M!==R){M<R?k=-1:M>R&&(k=1);break}}return k},i.prototype.gtn=function(w){return this.cmpn(w)===1},i.prototype.gt=function(w){return this.cmp(w)===1},i.prototype.gten=function(w){return this.cmpn(w)>=0},i.prototype.gte=function(w){return this.cmp(w)>=0},i.prototype.ltn=function(w){return this.cmpn(w)===-1},i.prototype.lt=function(w){return this.cmp(w)===-1},i.prototype.lten=function(w){return this.cmpn(w)<=0},i.prototype.lte=function(w){return this.cmp(w)<=0},i.prototype.eqn=function(w){return this.cmpn(w)===0},i.prototype.eq=function(w){return this.cmp(w)===0},i.red=function(w){return new $(w)},i.prototype.toRed=function(w){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),w.convertTo(this)._forceRed(w)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(w){return this.red=w,this},i.prototype.forceRed=function(w){return r(!this.red,"Already a number in reduction context"),this._forceRed(w)},i.prototype.redAdd=function(w){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,w)},i.prototype.redIAdd=function(w){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,w)},i.prototype.redSub=function(w){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,w)},i.prototype.redISub=function(w){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,w)},i.prototype.redShl=function(w){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,w)},i.prototype.redMul=function(w){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,w),this.red.mul(this,w)},i.prototype.redIMul=function(w){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,w),this.red.imul(this,w)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(w){return r(this.red&&!w.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,w)};var I={k256:null,p224:null,p192:null,p25519:null};function C(_,w){this.name=_,this.p=new i(w,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}C.prototype._tmp=function(){var w=new i(null);return w.words=new Array(Math.ceil(this.n/13)),w},C.prototype.ireduce=function(w){var k=w,S;do this.split(k,this.tmp),k=this.imulK(k),k=k.iadd(this.tmp),S=k.bitLength();while(S>this.n);var M=S<this.n?-1:k.ucmp(this.p);return M===0?(k.words[0]=0,k.length=1):M>0?k.isub(this.p):k.strip!==void 0?k.strip():k._strip(),k},C.prototype.split=function(w,k){w.iushrn(this.n,0,k)},C.prototype.imulK=function(w){return w.imul(this.k)};function N(){C.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(N,C),N.prototype.split=function(w,k){for(var S=4194303,M=Math.min(w.length,9),R=0;R<M;R++)k.words[R]=w.words[R];if(k.length=M,w.length<=9){w.words[0]=0,w.length=1;return}var j=w.words[9];for(k.words[k.length++]=j&S,R=10;R<w.length;R++){var V=w.words[R]|0;w.words[R-10]=(V&S)<<4|j>>>22,j=V}j>>>=22,w.words[R-10]=j,j===0&&w.length>10?w.length-=10:w.length-=9},N.prototype.imulK=function(w){w.words[w.length]=0,w.words[w.length+1]=0,w.length+=2;for(var k=0,S=0;S<w.length;S++){var M=w.words[S]|0;k+=M*977,w.words[S]=k&67108863,k=M*64+(k/67108864|0)}return w.words[w.length-1]===0&&(w.length--,w.words[w.length-1]===0&&w.length--),w};function P(){C.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(P,C);function L(){C.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(L,C);function U(){C.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(U,C),U.prototype.imulK=function(w){for(var k=0,S=0;S<w.length;S++){var M=(w.words[S]|0)*19+k,R=M&67108863;M>>>=26,w.words[S]=R,k=M}return k!==0&&(w.words[w.length++]=k),w},i._prime=function(w){if(I[w])return I[w];var k;if(w==="k256")k=new N;else if(w==="p224")k=new P;else if(w==="p192")k=new L;else if(w==="p25519")k=new U;else throw new Error("Unknown prime "+w);return I[w]=k,k};function $(_){if(typeof _=="string"){var w=i._prime(_);this.m=w.p,this.prime=w}else r(_.gtn(1),"modulus must be greater than 1"),this.m=_,this.prime=null}$.prototype._verify1=function(w){r(w.negative===0,"red works only with positives"),r(w.red,"red works only with red numbers")},$.prototype._verify2=function(w,k){r((w.negative|k.negative)===0,"red works only with positives"),r(w.red&&w.red===k.red,"red works only with red numbers")},$.prototype.imod=function(w){return this.prime?this.prime.ireduce(w)._forceRed(this):(d(w,w.umod(this.m)._forceRed(this)),w)},$.prototype.neg=function(w){return w.isZero()?w.clone():this.m.sub(w)._forceRed(this)},$.prototype.add=function(w,k){this._verify2(w,k);var S=w.add(k);return S.cmp(this.m)>=0&&S.isub(this.m),S._forceRed(this)},$.prototype.iadd=function(w,k){this._verify2(w,k);var S=w.iadd(k);return S.cmp(this.m)>=0&&S.isub(this.m),S},$.prototype.sub=function(w,k){this._verify2(w,k);var S=w.sub(k);return S.cmpn(0)<0&&S.iadd(this.m),S._forceRed(this)},$.prototype.isub=function(w,k){this._verify2(w,k);var S=w.isub(k);return S.cmpn(0)<0&&S.iadd(this.m),S},$.prototype.shl=function(w,k){return this._verify1(w),this.imod(w.ushln(k))},$.prototype.imul=function(w,k){return this._verify2(w,k),this.imod(w.imul(k))},$.prototype.mul=function(w,k){return this._verify2(w,k),this.imod(w.mul(k))},$.prototype.isqr=function(w){return this.imul(w,w.clone())},$.prototype.sqr=function(w){return this.mul(w,w)},$.prototype.sqrt=function(w){if(w.isZero())return w.clone();var k=this.m.andln(3);if(r(k%2===1),k===3){var S=this.m.add(new i(1)).iushrn(2);return this.pow(w,S)}for(var M=this.m.subn(1),R=0;!M.isZero()&&M.andln(1)===0;)R++,M.iushrn(1);r(!M.isZero());var j=new i(1).toRed(this),V=j.redNeg(),O=this.m.subn(1).iushrn(1),E=this.m.bitLength();for(E=new i(2*E*E).toRed(this);this.pow(E,O).cmp(V)!==0;)E.redIAdd(V);for(var z=this.pow(E,M),Z=this.pow(w,M.addn(1).iushrn(1)),F=this.pow(w,M),H=R;F.cmp(j)!==0;){for(var K=F,Y=0;K.cmp(j)!==0;Y++)K=K.redSqr();r(Y<H);var J=this.pow(z,new i(1).iushln(H-Y-1));Z=Z.redMul(J),z=J.redSqr(),F=F.redMul(z),H=Y}return Z},$.prototype.invm=function(w){var k=w._invmp(this.m);return k.negative!==0?(k.negative=0,this.imod(k).redNeg()):this.imod(k)},$.prototype.pow=function(w,k){if(k.isZero())return new i(1).toRed(this);if(k.cmpn(1)===0)return w.clone();var S=4,M=new Array(1<<S);M[0]=new i(1).toRed(this),M[1]=w;for(var R=2;R<M.length;R++)M[R]=this.mul(M[R-1],w);var j=M[0],V=0,O=0,E=k.bitLength()%26;for(E===0&&(E=26),R=k.length-1;R>=0;R--){for(var z=k.words[R],Z=E-1;Z>=0;Z--){var F=z>>Z&1;if(j!==M[0]&&(j=this.sqr(j)),F===0&&V===0){O=0;continue}V<<=1,V|=F,O++,!(O!==S&&(R!==0||Z!==0))&&(j=this.mul(j,M[V]),O=0,V=0)}E=26}return j},$.prototype.convertTo=function(w){var k=w.umod(this.m);return k===w?k.clone():k},$.prototype.convertFrom=function(w){var k=w.clone();return k.red=null,k},i.mont=function(w){return new B(w)};function B(_){$.call(this,_),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(B,$),B.prototype.convertTo=function(w){return this.imod(w.ushln(this.shift))},B.prototype.convertFrom=function(w){var k=this.imod(w.mul(this.rinv));return k.red=null,k},B.prototype.imul=function(w,k){if(w.isZero()||k.isZero())return w.words[0]=0,w.length=1,w;var S=w.imul(k),M=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),R=S.isub(M).iushrn(this.shift),j=R;return R.cmp(this.m)>=0?j=R.isub(this.m):R.cmpn(0)<0&&(j=R.iadd(this.m)),j._forceRed(this)},B.prototype.mul=function(w,k){if(w.isZero()||k.isZero())return new i(0)._forceRed(this);var S=w.mul(k),M=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),R=S.isub(M).iushrn(this.shift),j=R;return R.cmp(this.m)>=0?j=R.isub(this.m):R.cmpn(0)<0&&(j=R.iadd(this.m)),j._forceRed(this)},B.prototype.invm=function(w){var k=this.imod(w._invmp(this.m).mul(this.r2));return k._forceRed(this)}})(t,HF)})(jS);var hce=jS.exports;const kt=wf(hce),mce="logger/5.8.0";let n4=!1,r4=!1;const Zx={debug:1,default:2,info:2,warning:3,error:4,off:5};let s4=Zx.default,ZA=null;function yce(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const i4=yce();var pN;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(pN||(pN={}));var no;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(no||(no={}));const a4="0123456789abcdef";let se=class Or{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,n){const r=e.toLowerCase();Zx[r]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(s4>Zx[r])&&console.log.apply(console,n)}debug(...e){this._log(Or.levels.DEBUG,e)}info(...e){this._log(Or.levels.INFO,e)}warn(...e){this._log(Or.levels.WARNING,e)}makeError(e,n,r){if(r4)return this.makeError("censored error",n,{});n||(n=Or.errors.UNKNOWN_ERROR),r||(r={});const s=[];Object.keys(r).forEach(l=>{const u=r[l];try{if(u instanceof Uint8Array){let d="";for(let p=0;p<u.length;p++)d+=a4[u[p]>>4],d+=a4[u[p]&15];s.push(l+"=Uint8Array(0x"+d+")")}else s.push(l+"="+JSON.stringify(u))}catch{s.push(l+"="+JSON.stringify(r[l].toString()))}}),s.push(`code=${n}`),s.push(`version=${this.version}`);const i=e;let a="";switch(n){case no.NUMERIC_FAULT:{a="NUMERIC_FAULT";const l=e;switch(l){case"overflow":case"underflow":case"division-by-zero":a+="-"+l;break;case"negative-power":case"negative-width":a+="-unsupported";break;case"unbound-bitwise-result":a+="-unbound-result";break}break}case no.CALL_EXCEPTION:case no.INSUFFICIENT_FUNDS:case no.MISSING_NEW:case no.NONCE_EXPIRED:case no.REPLACEMENT_UNDERPRICED:case no.TRANSACTION_REPLACED:case no.UNPREDICTABLE_GAS_LIMIT:a=n;break}a&&(e+=" [ See: https://links.ethers.org/v5-errors-"+a+" ]"),s.length&&(e+=" ("+s.join(", ")+")");const o=new Error(e);return o.reason=i,o.code=n,Object.keys(r).forEach(function(l){o[l]=r[l]}),o}throwError(e,n,r){throw this.makeError(e,n,r)}throwArgumentError(e,n,r){return this.throwError(e,Or.errors.INVALID_ARGUMENT,{argument:n,value:r})}assert(e,n,r,s){e||this.throwError(n,r,s)}assertArgument(e,n,r,s){e||this.throwArgumentError(n,r,s)}checkNormalize(e){i4&&this.throwError("platform missing String.prototype.normalize",Or.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:i4})}checkSafeUint53(e,n){typeof e=="number"&&(n==null&&(n="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(n,Or.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(n,Or.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,n,r){r?r=": "+r:r="",e<n&&this.throwError("missing argument"+r,Or.errors.MISSING_ARGUMENT,{count:e,expectedCount:n}),e>n&&this.throwError("too many arguments"+r,Or.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:n})}checkNew(e,n){(e===Object||e==null)&&this.throwError("missing new",Or.errors.MISSING_NEW,{name:n.name})}checkAbstract(e,n){e===n?this.throwError("cannot instantiate abstract class "+JSON.stringify(n.name)+" directly; use a sub-class",Or.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Or.errors.MISSING_NEW,{name:n.name})}static globalLogger(){return ZA||(ZA=new Or(mce)),ZA}static setCensorship(e,n){if(!e&&n&&this.globalLogger().throwError("cannot permanently disable censorship",Or.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),n4){if(!e)return;this.globalLogger().throwError("error censorship permanent",Or.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}r4=!!e,n4=!!n}static setLogLevel(e){const n=Zx[e.toLowerCase()];if(n==null){Or.globalLogger().warn("invalid log level - "+e);return}s4=n}static from(e){return new Or(e)}};se.errors=no;se.levels=pN;const gce="bytes/5.8.0",cr=new se(gce);function vz(t){return!!t.toHexString}function _h(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return _h(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function ZT(t){return ln(t)&&!(t.length%2)||kf(t)}function o4(t){return typeof t=="number"&&t==t&&t%1===0}function kf(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!o4(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const n=t[e];if(!o4(n)||n<0||n>=256)return!1}return!0}function lt(t,e){if(e||(e={}),typeof t=="number"){cr.checkSafeUint53(t,"invalid arrayify value");const n=[];for(;t;)n.unshift(t&255),t=parseInt(String(t/256));return n.length===0&&n.push(0),_h(new Uint8Array(n))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),vz(t)&&(t=t.toHexString()),ln(t)){let n=t.substring(2);n.length%2&&(e.hexPad==="left"?n="0"+n:e.hexPad==="right"?n+="0":cr.throwArgumentError("hex data is odd-length","value",t));const r=[];for(let s=0;s<n.length;s+=2)r.push(parseInt(n.substring(s,s+2),16));return _h(new Uint8Array(r))}return kf(t)?_h(new Uint8Array(t)):cr.throwArgumentError("invalid arrayify value","value",t)}function Zs(t){const e=t.map(s=>lt(s)),n=e.reduce((s,i)=>s+i.length,0),r=new Uint8Array(n);return e.reduce((s,i)=>(r.set(i,s),s+i.length),0),_h(r)}function Tc(t){let e=lt(t);if(e.length===0)return e;let n=0;for(;n<e.length&&e[n]===0;)n++;return n&&(e=e.slice(n)),e}function vce(t,e){t=lt(t),t.length>e&&cr.throwArgumentError("value out of range","value",arguments[0]);const n=new Uint8Array(e);return n.set(t,e-t.length),_h(n)}function ln(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const XA="0123456789abcdef";function Je(t,e){if(e||(e={}),typeof t=="number"){cr.checkSafeUint53(t,"invalid hexlify value");let n="";for(;t;)n=XA[t&15]+n,t=Math.floor(t/16);return n.length?(n.length%2&&(n="0"+n),"0x"+n):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),vz(t))return t.toHexString();if(ln(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":cr.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(kf(t)){let n="0x";for(let r=0;r<t.length;r++){let s=t[r];n+=XA[(s&240)>>4]+XA[s&15]}return n}return cr.throwArgumentError("invalid hexlify value","value",t)}function tf(t){if(typeof t!="string")t=Je(t);else if(!ln(t)||t.length%2)return null;return(t.length-2)/2}function Cs(t,e,n){return typeof t!="string"?t=Je(t):(!ln(t)||t.length%2)&&cr.throwArgumentError("invalid hexData","value",t),e=2+2*e,n!=null?"0x"+t.substring(e,2+2*n):"0x"+t.substring(e)}function mi(t){let e="0x";return t.forEach(n=>{e+=Je(n).substring(2)}),e}function _S(t){const e=bce(Je(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function bce(t){typeof t!="string"&&(t=Je(t)),ln(t)||cr.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function Kn(t,e){for(typeof t!="string"?t=Je(t):ln(t)||cr.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&cr.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function Ym(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(ZT(t)){let n=lt(t);n.length===64?(e.v=27+(n[32]>>7),n[32]&=127,e.r=Je(n.slice(0,32)),e.s=Je(n.slice(32,64))):n.length===65?(e.r=Je(n.slice(0,32)),e.s=Je(n.slice(32,64)),e.v=n[64]):cr.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:cr.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(n[32]|=128),e._vs=Je(n.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const s=vce(lt(e._vs),32);e._vs=Je(s);const i=s[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=i:e.recoveryParam!==i&&cr.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),s[0]&=127;const a=Je(s);e.s==null?e.s=a:e.s!==a&&cr.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?cr.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const s=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==s&&cr.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!ln(e.r)?cr.throwArgumentError("signature missing or invalid r","signature",t):e.r=Kn(e.r,32),e.s==null||!ln(e.s)?cr.throwArgumentError("signature missing or invalid s","signature",t):e.s=Kn(e.s,32);const n=lt(e.s);n[0]>=128&&cr.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(n[0]|=128);const r=Je(n);e._vs&&(ln(e._vs)||cr.throwArgumentError("signature invalid _vs","signature",t),e._vs=Kn(e._vs,32)),e._vs==null?e._vs=r:e._vs!==r&&cr.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function _Fe(t){return t=Ym(t),Je(Zs([t.r,t.s,t.recoveryParam?"0x1c":"0x1b"]))}const bz="bignumber/5.8.0";var f1=kt.BN;const tc=new se(bz),JA={},l4=9007199254740991;function xce(t){return t!=null&&($e.isBigNumber(t)||typeof t=="number"&&t%1===0||typeof t=="string"&&!!t.match(/^-?[0-9]+$/)||ln(t)||typeof t=="bigint"||kf(t))}let c4=!1,$e=class Za{constructor(e,n){e!==JA&&tc.throwError("cannot call constructor directly; use BigNumber.from",se.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=n,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return ii(qt(this).fromTwos(e))}toTwos(e){return ii(qt(this).toTwos(e))}abs(){return this._hex[0]==="-"?Za.from(this._hex.substring(1)):this}add(e){return ii(qt(this).add(qt(e)))}sub(e){return ii(qt(this).sub(qt(e)))}div(e){return Za.from(e).isZero()&&ca("division-by-zero","div"),ii(qt(this).div(qt(e)))}mul(e){return ii(qt(this).mul(qt(e)))}mod(e){const n=qt(e);return n.isNeg()&&ca("division-by-zero","mod"),ii(qt(this).umod(n))}pow(e){const n=qt(e);return n.isNeg()&&ca("negative-power","pow"),ii(qt(this).pow(n))}and(e){const n=qt(e);return(this.isNegative()||n.isNeg())&&ca("unbound-bitwise-result","and"),ii(qt(this).and(n))}or(e){const n=qt(e);return(this.isNegative()||n.isNeg())&&ca("unbound-bitwise-result","or"),ii(qt(this).or(n))}xor(e){const n=qt(e);return(this.isNegative()||n.isNeg())&&ca("unbound-bitwise-result","xor"),ii(qt(this).xor(n))}mask(e){return(this.isNegative()||e<0)&&ca("negative-width","mask"),ii(qt(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&ca("negative-width","shl"),ii(qt(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&ca("negative-width","shr"),ii(qt(this).shrn(e))}eq(e){return qt(this).eq(qt(e))}lt(e){return qt(this).lt(qt(e))}lte(e){return qt(this).lte(qt(e))}gt(e){return qt(this).gt(qt(e))}gte(e){return qt(this).gte(qt(e))}isNegative(){return this._hex[0]==="-"}isZero(){return qt(this).isZero()}toNumber(){try{return qt(this).toNumber()}catch{ca("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return tc.throwError("this platform does not support BigInt",se.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?c4||(c4=!0,tc.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?tc.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",se.errors.UNEXPECTED_ARGUMENT,{}):tc.throwError("BigNumber.toString does not accept parameters",se.errors.UNEXPECTED_ARGUMENT,{})),qt(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof Za)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new Za(JA,y0(e)):e.match(/^-?[0-9]+$/)?new Za(JA,y0(new f1(e))):tc.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&ca("underflow","BigNumber.from",e),(e>=l4||e<=-l4)&&ca("overflow","BigNumber.from",e),Za.from(String(e));const n=e;if(typeof n=="bigint")return Za.from(n.toString());if(kf(n))return Za.from(Je(n));if(n)if(n.toHexString){const r=n.toHexString();if(typeof r=="string")return Za.from(r)}else{let r=n._hex;if(r==null&&n.type==="BigNumber"&&(r=n.hex),typeof r=="string"&&(ln(r)||r[0]==="-"&&ln(r.substring(1))))return Za.from(r)}return tc.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}};function y0(t){if(typeof t!="string")return y0(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&tc.throwArgumentError("invalid hex","value",t),t=y0(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function ii(t){return $e.from(y0(t))}function qt(t){const e=$e.from(t).toHexString();return e[0]==="-"?new f1("-"+e.substring(3),16):new f1(e.substring(2),16)}function ca(t,e,n){const r={fault:t,operation:e};return n!=null&&(r.value=n),tc.throwError(t,se.errors.NUMERIC_FAULT,r)}function wce(t){return new f1(t,36).toString(16)}const Ys=new se(bz),Tg={},xz=$e.from(0),wz=$e.from(-1);function Tz(t,e,n,r){const s={fault:e,operation:n};return r!==void 0&&(s.value=r),Ys.throwError(t,se.errors.NUMERIC_FAULT,s)}let Ag="0";for(;Ag.length<256;)Ag+=Ag;function DS(t){if(typeof t!="number")try{t=$e.from(t).toNumber()}catch{}return typeof t=="number"&&t>=0&&t<=256&&!(t%1)?"1"+Ag.substring(0,t):Ys.throwArgumentError("invalid decimal size","decimals",t)}function Xx(t,e){e==null&&(e=0);const n=DS(e);t=$e.from(t);const r=t.lt(xz);r&&(t=t.mul(wz));let s=t.mod(n).toString();for(;s.length<n.length-1;)s="0"+s;s=s.match(/^([0-9]*[1-9]|0)(0*)/)[1];const i=t.div(n).toString();return n.length===1?t=i:t=i+"."+s,r&&(t="-"+t),t}function qo(t,e){e==null&&(e=0);const n=DS(e);(typeof t!="string"||!t.match(/^-?[0-9.]+$/))&&Ys.throwArgumentError("invalid decimal value","value",t);const r=t.substring(0,1)==="-";r&&(t=t.substring(1)),t==="."&&Ys.throwArgumentError("missing value","value",t);const s=t.split(".");s.length>2&&Ys.throwArgumentError("too many decimal points","value",t);let i=s[0],a=s[1];for(i||(i="0"),a||(a="0");a[a.length-1]==="0";)a=a.substring(0,a.length-1);for(a.length>n.length-1&&Tz("fractional component exceeds decimals","underflow","parseFixed"),a===""&&(a="0");a.length<n.length-1;)a+="0";const o=$e.from(i),l=$e.from(a);let u=o.mul(n).add(l);return r&&(u=u.mul(wz)),u}class Dh{constructor(e,n,r,s){e!==Tg&&Ys.throwError("cannot use FixedFormat constructor; use FixedFormat.from",se.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=n,this.width=r,this.decimals=s,this.name=(n?"":"u")+"fixed"+String(r)+"x"+String(s),this._multiplier=DS(s),Object.freeze(this)}static from(e){if(e instanceof Dh)return e;typeof e=="number"&&(e=`fixed128x${e}`);let n=!0,r=128,s=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")n=!1;else{const i=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);i||Ys.throwArgumentError("invalid fixed format","format",e),n=i[1]!=="u",r=parseInt(i[2]),s=parseInt(i[3])}}else if(e){const i=(a,o,l)=>e[a]==null?l:(typeof e[a]!==o&&Ys.throwArgumentError("invalid fixed format ("+a+" not "+o+")","format."+a,e[a]),e[a]);n=i("signed","boolean",n),r=i("width","number",r),s=i("decimals","number",s)}return r%8&&Ys.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",r),s>80&&Ys.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",s),new Dh(Tg,n,r,s)}}class as{constructor(e,n,r,s){e!==Tg&&Ys.throwError("cannot use FixedNumber constructor; use FixedNumber.from",se.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=s,this._hex=n,this._value=r,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&Ys.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const n=qo(this._value,this.format.decimals),r=qo(e._value,e.format.decimals);return as.fromValue(n.add(r),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const n=qo(this._value,this.format.decimals),r=qo(e._value,e.format.decimals);return as.fromValue(n.sub(r),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const n=qo(this._value,this.format.decimals),r=qo(e._value,e.format.decimals);return as.fromValue(n.mul(r).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const n=qo(this._value,this.format.decimals),r=qo(e._value,e.format.decimals);return as.fromValue(n.mul(this.format._multiplier).div(r),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let n=as.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);return this.isNegative()&&r&&(n=n.subUnsafe(u4.toFormat(n.format))),n}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let n=as.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);return!this.isNegative()&&r&&(n=n.addUnsafe(u4.toFormat(n.format))),n}round(e){e==null&&(e=0);const n=this.toString().split(".");if(n.length===1&&n.push("0"),(e<0||e>80||e%1)&&Ys.throwArgumentError("invalid decimal count","decimals",e),n[1].length<=e)return this;const r=as.from("1"+Ag.substring(0,e),this.format),s=Tce.toFormat(this.format);return this.mulUnsafe(r).addUnsafe(s).floor().divUnsafe(r)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&Ys.throwArgumentError("invalid byte width","width",e);const n=$e.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return Kn(n,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return as.fromString(this._value,e)}static fromValue(e,n,r){return r==null&&n!=null&&!xce(n)&&(r=n,n=null),n==null&&(n=0),r==null&&(r="fixed"),as.fromString(Xx(e,n),Dh.from(r))}static fromString(e,n){n==null&&(n="fixed");const r=Dh.from(n),s=qo(e,r.decimals);!r.signed&&s.lt(xz)&&Tz("unsigned value cannot be negative","overflow","value",e);let i=null;r.signed?i=s.toTwos(r.width).toHexString():(i=s.toHexString(),i=Kn(i,r.width/8));const a=Xx(s,r.decimals);return new as(Tg,i,a,r)}static fromBytes(e,n){n==null&&(n="fixed");const r=Dh.from(n);if(lt(e).length>r.width/8)throw new Error("overflow");let s=$e.from(e);r.signed&&(s=s.fromTwos(r.width));const i=s.toTwos((r.signed?0:1)+r.width).toHexString(),a=Xx(s,r.decimals);return new as(Tg,i,a,r)}static from(e,n){if(typeof e=="string")return as.fromString(e,n);if(kf(e))return as.fromBytes(e,n);try{return as.fromValue(e,0,n)}catch(r){if(r.code!==se.errors.INVALID_ARGUMENT)throw r}return Ys.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const u4=as.from(1),Tce=as.from("0.5"),Ace="properties/5.8.0";var Ice=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(d){try{u(r.next(d))}catch(p){a(p)}}function l(d){try{u(r.throw(d))}catch(p){a(p)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((r=r.apply(t,e||[])).next())})};const h1=new se(Ace);function Ae(t,e,n){Object.defineProperty(t,e,{enumerable:!0,value:n,writable:!1})}function Xi(t,e){for(let n=0;n<32;n++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function Nr(t){return Ice(this,void 0,void 0,function*(){const e=Object.keys(t).map(r=>{const s=t[r];return Promise.resolve(s).then(i=>({key:r,value:i}))});return(yield Promise.all(e)).reduce((r,s)=>(r[s.key]=s.value,r),{})})}function Az(t,e){(!t||typeof t!="object")&&h1.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(n=>{e[n]||h1.throwArgumentError("invalid object key - "+n,"transaction:"+n,t)})}function Dr(t){const e={};for(const n in t)e[n]=t[n];return e}const kce={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function Iz(t){if(t==null||kce[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let n=0;n<e.length;n++){let r=null;try{r=t[e[n]]}catch{continue}if(!Iz(r))return!1}return!0}return h1.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function Cce(t){if(Iz(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>Oc(e)));if(typeof t=="object"){const e={};for(const n in t){const r=t[n];r!==void 0&&Ae(e,n,Oc(r))}return e}return h1.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function Oc(t){return Cce(t)}let Bv=class{constructor(e){for(const n in e)this[n]=Oc(e[n])}};const Uv="abi/5.8.0",en=new se(Uv),nf={};let d4={calldata:!0,memory:!0,storage:!0},Nce={calldata:!0,memory:!0};function Ub(t,e){if(t==="bytes"||t==="string"){if(d4[e])return!0}else if(t==="address"){if(e==="payable")return!0}else if((t.indexOf("[")>=0||t==="tuple")&&Nce[e])return!0;return(d4[e]||e==="payable")&&en.throwArgumentError("invalid modifier","name",e),!1}function Ece(t,e){let n=t;function r(o){en.throwArgumentError(`unexpected character at position ${o}`,"param",t)}t=t.replace(/\s/g," ");function s(o){let l={type:"",name:"",parent:o,state:{allowType:!0}};return e&&(l.indexed=!1),l}let i={type:"",name:"",state:{allowType:!0}},a=i;for(let o=0;o<t.length;o++){let l=t[o];switch(l){case"(":a.state.allowType&&a.type===""?a.type="tuple":a.state.allowParams||r(o),a.state.allowType=!1,a.type=Wf(a.type),a.components=[s(a)],a=a.components[0];break;case")":delete a.state,a.name==="indexed"&&(e||r(o),a.indexed=!0,a.name=""),Ub(a.type,a.name)&&(a.name=""),a.type=Wf(a.type);let u=a;a=a.parent,a||r(o),delete u.parent,a.state.allowParams=!1,a.state.allowName=!0,a.state.allowArray=!0;break;case",":delete a.state,a.name==="indexed"&&(e||r(o),a.indexed=!0,a.name=""),Ub(a.type,a.name)&&(a.name=""),a.type=Wf(a.type);let d=s(a.parent);a.parent.components.push(d),delete a.parent,a=d;break;case" ":a.state.allowType&&a.type!==""&&(a.type=Wf(a.type),delete a.state.allowType,a.state.allowName=!0,a.state.allowParams=!0),a.state.allowName&&a.name!==""&&(a.name==="indexed"?(e||r(o),a.indexed&&r(o),a.indexed=!0,a.name=""):Ub(a.type,a.name)?a.name="":a.state.allowName=!1);break;case"[":a.state.allowArray||r(o),a.type+=l,a.state.allowArray=!1,a.state.allowName=!1,a.state.readArray=!0;break;case"]":a.state.readArray||r(o),a.type+=l,a.state.readArray=!1,a.state.allowArray=!0,a.state.allowName=!0;break;default:a.state.allowType?(a.type+=l,a.state.allowParams=!0,a.state.allowArray=!0):a.state.allowName?(a.name+=l,delete a.state.allowArray):a.state.readArray?a.type+=l:r(o)}}return a.parent&&en.throwArgumentError("unexpected eof","param",t),delete i.state,a.name==="indexed"?(e||r(n.length-7),a.indexed&&r(n.length-7),a.indexed=!0,a.name=""):Ub(a.type,a.name)&&(a.name=""),i.type=Wf(i.type),i}function Jx(t,e){for(let n in e)Ae(t,n,e[n])}const dn=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),Sce=new RegExp(/^(.*)\[([0-9]*)\]$/);class Qr{constructor(e,n){e!==nf&&en.throwError("use fromString",se.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),Jx(this,n);let r=this.type.match(Sce);r?Jx(this,{arrayLength:parseInt(r[2]||"-1"),arrayChildren:Qr.fromObject({type:r[1],components:this.components}),baseType:"array"}):Jx(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=dn.sighash),dn[e]||en.throwArgumentError("invalid format type","format",e),e===dn.json){let r={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(r.indexed=this.indexed),this.components&&(r.components=this.components.map(s=>JSON.parse(s.format(e)))),JSON.stringify(r)}let n="";return this.baseType==="array"?(n+=this.arrayChildren.format(e),n+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==dn.sighash&&(n+=this.type),n+="("+this.components.map(r=>r.format(e)).join(e===dn.full?", ":",")+")"):n+=this.type,e!==dn.sighash&&(this.indexed===!0&&(n+=" indexed"),e===dn.full&&this.name&&(n+=" "+this.name)),n}static from(e,n){return typeof e=="string"?Qr.fromString(e,n):Qr.fromObject(e)}static fromObject(e){return Qr.isParamType(e)?e:new Qr(nf,{name:e.name||null,type:Wf(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(Qr.fromObject):null})}static fromString(e,n){function r(s){return Qr.fromObject({name:s.name,type:s.type,indexed:s.indexed,components:s.components})}return r(Ece(e,!!n))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function g0(t,e){return Pce(t).map(n=>Qr.fromString(n,e))}class gc{constructor(e,n){e!==nf&&en.throwError("use a static from method",se.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),Jx(this,n),this._isFragment=!0,Object.freeze(this)}static from(e){return gc.isFragment(e)?e:typeof e=="string"?gc.fromString(e):gc.fromObject(e)}static fromObject(e){if(gc.isFragment(e))return e;switch(e.type){case"function":return cl.fromObject(e);case"event":return dc.fromObject(e);case"constructor":return ll.fromObject(e);case"error":return Iu.fromObject(e);case"fallback":case"receive":return null}return en.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?dc.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?cl.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?ll.fromString(e.trim()):e.split(" ")[0]==="error"?Iu.fromString(e.substring(5).trim()):en.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class dc extends gc{format(e){if(e||(e=dn.sighash),dn[e]||en.throwArgumentError("invalid format type","format",e),e===dn.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});let n="";return e!==dn.sighash&&(n+="event "),n+=this.name+"("+this.inputs.map(r=>r.format(e)).join(e===dn.full?", ":",")+") ",e!==dn.sighash&&this.anonymous&&(n+="anonymous "),n.trim()}static from(e){return typeof e=="string"?dc.fromString(e):dc.fromObject(e)}static fromObject(e){if(dc.isEventFragment(e))return e;e.type!=="event"&&en.throwArgumentError("invalid event object","value",e);const n={name:v0(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(Qr.fromObject):[],type:"event"};return new dc(nf,n)}static fromString(e){let n=e.match(b0);n||en.throwArgumentError("invalid event string","value",e);let r=!1;return n[3].split(" ").forEach(s=>{switch(s.trim()){case"anonymous":r=!0;break;case"":break;default:en.warn("unknown modifier: "+s)}}),dc.fromObject({name:n[1].trim(),anonymous:r,inputs:g0(n[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function kz(t,e){e.gas=null;let n=t.split("@");return n.length!==1?(n.length>2&&en.throwArgumentError("invalid human-readable ABI signature","value",t),n[1].match(/^[0-9]+$/)||en.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=$e.from(n[1]),n[0]):t}function Cz(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach(n=>{switch(n.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+n)}})}function Nz(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return t.stateMutability!=null?(e.stateMutability=t.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",t.constant!=null&&!!t.constant!==e.constant&&en.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable=e.stateMutability==="payable",t.payable!=null&&!!t.payable!==e.payable&&en.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):t.payable!=null?(e.payable=!!t.payable,t.constant==null&&!e.payable&&t.type!=="constructor"&&en.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&en.throwArgumentError("cannot have constant payable function","value",t)):t.constant!=null?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):t.type!=="constructor"&&en.throwArgumentError("unable to determine stateMutability","value",t),e}class ll extends gc{format(e){if(e||(e=dn.sighash),dn[e]||en.throwArgumentError("invalid format type","format",e),e===dn.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});e===dn.sighash&&en.throwError("cannot format a constructor for sighash",se.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let n="constructor("+this.inputs.map(r=>r.format(e)).join(e===dn.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(n+=this.stateMutability+" "),n.trim()}static from(e){return typeof e=="string"?ll.fromString(e):ll.fromObject(e)}static fromObject(e){if(ll.isConstructorFragment(e))return e;e.type!=="constructor"&&en.throwArgumentError("invalid constructor object","value",e);let n=Nz(e);n.constant&&en.throwArgumentError("constructor cannot be constant","value",e);const r={name:null,type:e.type,inputs:e.inputs?e.inputs.map(Qr.fromObject):[],payable:n.payable,stateMutability:n.stateMutability,gas:e.gas?$e.from(e.gas):null};return new ll(nf,r)}static fromString(e){let n={type:"constructor"};e=kz(e,n);let r=e.match(b0);return(!r||r[1].trim()!=="constructor")&&en.throwArgumentError("invalid constructor string","value",e),n.inputs=g0(r[2].trim(),!1),Cz(r[3].trim(),n),ll.fromObject(n)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class cl extends ll{format(e){if(e||(e=dn.sighash),dn[e]||en.throwArgumentError("invalid format type","format",e),e===dn.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(r=>JSON.parse(r.format(e))),outputs:this.outputs.map(r=>JSON.parse(r.format(e)))});let n="";return e!==dn.sighash&&(n+="function "),n+=this.name+"("+this.inputs.map(r=>r.format(e)).join(e===dn.full?", ":",")+") ",e!==dn.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(n+=this.stateMutability+" "):this.constant&&(n+="view "),this.outputs&&this.outputs.length&&(n+="returns ("+this.outputs.map(r=>r.format(e)).join(", ")+") "),this.gas!=null&&(n+="@"+this.gas.toString()+" ")),n.trim()}static from(e){return typeof e=="string"?cl.fromString(e):cl.fromObject(e)}static fromObject(e){if(cl.isFunctionFragment(e))return e;e.type!=="function"&&en.throwArgumentError("invalid function object","value",e);let n=Nz(e);const r={type:e.type,name:v0(e.name),constant:n.constant,inputs:e.inputs?e.inputs.map(Qr.fromObject):[],outputs:e.outputs?e.outputs.map(Qr.fromObject):[],payable:n.payable,stateMutability:n.stateMutability,gas:e.gas?$e.from(e.gas):null};return new cl(nf,r)}static fromString(e){let n={type:"function"};e=kz(e,n);let r=e.split(" returns ");r.length>2&&en.throwArgumentError("invalid function string","value",e);let s=r[0].match(b0);if(s||en.throwArgumentError("invalid function signature","value",e),n.name=s[1].trim(),n.name&&v0(n.name),n.inputs=g0(s[2],!1),Cz(s[3].trim(),n),r.length>1){let i=r[1].match(b0);(i[1].trim()!=""||i[3].trim()!="")&&en.throwArgumentError("unexpected tokens","value",e),n.outputs=g0(i[2],!1)}else n.outputs=[];return cl.fromObject(n)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function p4(t){const e=t.format();return(e==="Error(string)"||e==="Panic(uint256)")&&en.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",t),t}class Iu extends gc{format(e){if(e||(e=dn.sighash),dn[e]||en.throwArgumentError("invalid format type","format",e),e===dn.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});let n="";return e!==dn.sighash&&(n+="error "),n+=this.name+"("+this.inputs.map(r=>r.format(e)).join(e===dn.full?", ":",")+") ",n.trim()}static from(e){return typeof e=="string"?Iu.fromString(e):Iu.fromObject(e)}static fromObject(e){if(Iu.isErrorFragment(e))return e;e.type!=="error"&&en.throwArgumentError("invalid error object","value",e);const n={type:e.type,name:v0(e.name),inputs:e.inputs?e.inputs.map(Qr.fromObject):[]};return p4(new Iu(nf,n))}static fromString(e){let n={type:"error"},r=e.match(b0);return r||en.throwArgumentError("invalid error signature","value",e),n.name=r[1].trim(),n.name&&v0(n.name),n.inputs=g0(r[2],!1),p4(Iu.fromObject(n))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}function Wf(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}const Rce=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function v0(t){return(!t||!t.match(Rce))&&en.throwArgumentError(`invalid identifier "${t}"`,"value",t),t}const b0=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function Pce(t){t=t.trim();let e=[],n="",r=0;for(let s=0;s<t.length;s++){let i=t[s];i===","&&r===0?(e.push(n),n=""):(n+=i,i==="("?r++:i===")"&&(r--,r===-1&&en.throwArgumentError("unbalanced parenthesis","value",t)))}return n&&e.push(n),e}const OS=new se(Uv);function Mce(t){const e=[],n=function(r,s){if(Array.isArray(s))for(let i in s){const a=r.slice();a.push(i);try{n(a,s[i])}catch(o){e.push({path:a,error:o})}}};return n([],t),e}class Zc{constructor(e,n,r,s){this.name=e,this.type=n,this.localName=r,this.dynamic=s}_throwError(e,n){OS.throwArgumentError(e,this.localName,n)}}class fN{constructor(e){Ae(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return mi(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(Zs(e._data))}writeBytes(e){let n=lt(e);const r=n.length%this.wordSize;return r&&(n=Zs([n,this._padding.slice(r)])),this._writeData(n)}_getValue(e){let n=lt($e.from(e));return n.length>this.wordSize&&OS.throwError("value out-of-bounds",se.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:n.length}),n.length%this.wordSize&&(n=Zs([this._padding.slice(n.length%this.wordSize),n])),n}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,n=>{this._data[e]=this._getValue(n)}}}class m1{constructor(e,n,r,s){Ae(this,"_data",lt(e)),Ae(this,"wordSize",n||32),Ae(this,"_coerceFunc",r),Ae(this,"allowLoose",s),this._offset=0}get data(){return Je(this._data)}get consumed(){return this._offset}static coerce(e,n){let r=e.match("^u?int([0-9]+)$");return r&&parseInt(r[1])<=48&&(n=n.toNumber()),n}coerce(e,n){return this._coerceFunc?this._coerceFunc(e,n):m1.coerce(e,n)}_peekBytes(e,n,r){let s=Math.ceil(n/this.wordSize)*this.wordSize;return this._offset+s>this._data.length&&(this.allowLoose&&r&&this._offset+n<=this._data.length?s=n:OS.throwError("data out-of-bounds",se.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+s})),this._data.slice(this._offset,this._offset+s)}subReader(e){return new m1(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,n){let r=this._peekBytes(0,e,!!n);return this._offset+=r.length,r.slice(0,e)}readValue(){return $e.from(this.readBytes(this.wordSize))}}var Ez={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(t){(function(){var e="input is invalid type",n="finalize already called",r=typeof window=="object",s=r?window:{};s.JS_SHA3_NO_WINDOW&&(r=!1);var i=!r&&typeof self=="object",a=!s.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;a?s=HF:i&&(s=self);var o=!s.JS_SHA3_NO_COMMON_JS&&!0&&t.exports,l=!s.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",u="0123456789abcdef".split(""),d=[31,7936,2031616,520093696],p=[4,1024,262144,67108864],f=[1,256,65536,16777216],h=[6,1536,393216,100663296],y=[0,8,16,24],m=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],b=[224,256,384,512],v=[128,256],g=["hex","buffer","arrayBuffer","array","digest"],x={128:168,256:136};(s.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(F){return Object.prototype.toString.call(F)==="[object Array]"}),l&&(s.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(F){return typeof F=="object"&&F.buffer&&F.buffer.constructor===ArrayBuffer});for(var T=function(F,H,K){return function(Y){return new E(F,H,F).update(Y)[K]()}},I=function(F,H,K){return function(Y,J){return new E(F,H,J).update(Y)[K]()}},C=function(F,H,K){return function(Y,J,re,Q){return w["cshake"+F].update(Y,J,re,Q)[K]()}},N=function(F,H,K){return function(Y,J,re,Q){return w["kmac"+F].update(Y,J,re,Q)[K]()}},P=function(F,H,K,Y){for(var J=0;J<g.length;++J){var re=g[J];F[re]=H(K,Y,re)}return F},L=function(F,H){var K=T(F,H,"hex");return K.create=function(){return new E(F,H,F)},K.update=function(Y){return K.create().update(Y)},P(K,T,F,H)},U=function(F,H){var K=I(F,H,"hex");return K.create=function(Y){return new E(F,H,Y)},K.update=function(Y,J){return K.create(J).update(Y)},P(K,I,F,H)},$=function(F,H){var K=x[F],Y=C(F,H,"hex");return Y.create=function(J,re,Q){return!re&&!Q?w["shake"+F].create(J):new E(F,H,J).bytepad([re,Q],K)},Y.update=function(J,re,Q,ee){return Y.create(re,Q,ee).update(J)},P(Y,C,F,H)},B=function(F,H){var K=x[F],Y=N(F,H,"hex");return Y.create=function(J,re,Q){return new z(F,H,re).bytepad(["KMAC",Q],K).bytepad([J],K)},Y.update=function(J,re,Q,ee){return Y.create(J,Q,ee).update(re)},P(Y,N,F,H)},_=[{name:"keccak",padding:f,bits:b,createMethod:L},{name:"sha3",padding:h,bits:b,createMethod:L},{name:"shake",padding:d,bits:v,createMethod:U},{name:"cshake",padding:p,bits:v,createMethod:$},{name:"kmac",padding:p,bits:v,createMethod:B}],w={},k=[],S=0;S<_.length;++S)for(var M=_[S],R=M.bits,j=0;j<R.length;++j){var V=M.name+"_"+R[j];if(k.push(V),w[V]=M.createMethod(R[j],M.padding),M.name!=="sha3"){var O=M.name+R[j];k.push(O),w[O]=w[V]}}function E(F,H,K){this.blocks=[],this.s=[],this.padding=H,this.outputBits=K,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(F<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=K>>5,this.extraBytes=(K&31)>>3;for(var Y=0;Y<50;++Y)this.s[Y]=0}E.prototype.update=function(F){if(this.finalized)throw new Error(n);var H,K=typeof F;if(K!=="string"){if(K==="object"){if(F===null)throw new Error(e);if(l&&F.constructor===ArrayBuffer)F=new Uint8Array(F);else if(!Array.isArray(F)&&(!l||!ArrayBuffer.isView(F)))throw new Error(e)}else throw new Error(e);H=!0}for(var Y=this.blocks,J=this.byteCount,re=F.length,Q=this.blockCount,ee=0,We=this.s,oe,be;ee<re;){if(this.reset)for(this.reset=!1,Y[0]=this.block,oe=1;oe<Q+1;++oe)Y[oe]=0;if(H)for(oe=this.start;ee<re&&oe<J;++ee)Y[oe>>2]|=F[ee]<<y[oe++&3];else for(oe=this.start;ee<re&&oe<J;++ee)be=F.charCodeAt(ee),be<128?Y[oe>>2]|=be<<y[oe++&3]:be<2048?(Y[oe>>2]|=(192|be>>6)<<y[oe++&3],Y[oe>>2]|=(128|be&63)<<y[oe++&3]):be<55296||be>=57344?(Y[oe>>2]|=(224|be>>12)<<y[oe++&3],Y[oe>>2]|=(128|be>>6&63)<<y[oe++&3],Y[oe>>2]|=(128|be&63)<<y[oe++&3]):(be=65536+((be&1023)<<10|F.charCodeAt(++ee)&1023),Y[oe>>2]|=(240|be>>18)<<y[oe++&3],Y[oe>>2]|=(128|be>>12&63)<<y[oe++&3],Y[oe>>2]|=(128|be>>6&63)<<y[oe++&3],Y[oe>>2]|=(128|be&63)<<y[oe++&3]);if(this.lastByteIndex=oe,oe>=J){for(this.start=oe-J,this.block=Y[Q],oe=0;oe<Q;++oe)We[oe]^=Y[oe];Z(We),this.reset=!0}else this.start=oe}return this},E.prototype.encode=function(F,H){var K=F&255,Y=1,J=[K];for(F=F>>8,K=F&255;K>0;)J.unshift(K),F=F>>8,K=F&255,++Y;return H?J.push(Y):J.unshift(Y),this.update(J),J.length},E.prototype.encodeString=function(F){var H,K=typeof F;if(K!=="string"){if(K==="object"){if(F===null)throw new Error(e);if(l&&F.constructor===ArrayBuffer)F=new Uint8Array(F);else if(!Array.isArray(F)&&(!l||!ArrayBuffer.isView(F)))throw new Error(e)}else throw new Error(e);H=!0}var Y=0,J=F.length;if(H)Y=J;else for(var re=0;re<F.length;++re){var Q=F.charCodeAt(re);Q<128?Y+=1:Q<2048?Y+=2:Q<55296||Q>=57344?Y+=3:(Q=65536+((Q&1023)<<10|F.charCodeAt(++re)&1023),Y+=4)}return Y+=this.encode(Y*8),this.update(F),Y},E.prototype.bytepad=function(F,H){for(var K=this.encode(H),Y=0;Y<F.length;++Y)K+=this.encodeString(F[Y]);var J=H-K%H,re=[];return re.length=J,this.update(re),this},E.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var F=this.blocks,H=this.lastByteIndex,K=this.blockCount,Y=this.s;if(F[H>>2]|=this.padding[H&3],this.lastByteIndex===this.byteCount)for(F[0]=F[K],H=1;H<K+1;++H)F[H]=0;for(F[K-1]|=2147483648,H=0;H<K;++H)Y[H]^=F[H];Z(Y)}},E.prototype.toString=E.prototype.hex=function(){this.finalize();for(var F=this.blockCount,H=this.s,K=this.outputBlocks,Y=this.extraBytes,J=0,re=0,Q="",ee;re<K;){for(J=0;J<F&&re<K;++J,++re)ee=H[J],Q+=u[ee>>4&15]+u[ee&15]+u[ee>>12&15]+u[ee>>8&15]+u[ee>>20&15]+u[ee>>16&15]+u[ee>>28&15]+u[ee>>24&15];re%F===0&&(Z(H),J=0)}return Y&&(ee=H[J],Q+=u[ee>>4&15]+u[ee&15],Y>1&&(Q+=u[ee>>12&15]+u[ee>>8&15]),Y>2&&(Q+=u[ee>>20&15]+u[ee>>16&15])),Q},E.prototype.arrayBuffer=function(){this.finalize();var F=this.blockCount,H=this.s,K=this.outputBlocks,Y=this.extraBytes,J=0,re=0,Q=this.outputBits>>3,ee;Y?ee=new ArrayBuffer(K+1<<2):ee=new ArrayBuffer(Q);for(var We=new Uint32Array(ee);re<K;){for(J=0;J<F&&re<K;++J,++re)We[re]=H[J];re%F===0&&Z(H)}return Y&&(We[J]=H[J],ee=ee.slice(0,Q)),ee},E.prototype.buffer=E.prototype.arrayBuffer,E.prototype.digest=E.prototype.array=function(){this.finalize();for(var F=this.blockCount,H=this.s,K=this.outputBlocks,Y=this.extraBytes,J=0,re=0,Q=[],ee,We;re<K;){for(J=0;J<F&&re<K;++J,++re)ee=re<<2,We=H[J],Q[ee]=We&255,Q[ee+1]=We>>8&255,Q[ee+2]=We>>16&255,Q[ee+3]=We>>24&255;re%F===0&&Z(H)}return Y&&(ee=re<<2,We=H[J],Q[ee]=We&255,Y>1&&(Q[ee+1]=We>>8&255),Y>2&&(Q[ee+2]=We>>16&255)),Q};function z(F,H,K){E.call(this,F,H,K)}z.prototype=new E,z.prototype.finalize=function(){return this.encode(this.outputBits,!0),E.prototype.finalize.call(this)};var Z=function(F){var H,K,Y,J,re,Q,ee,We,oe,be,ft,Ie,Ne,tt,je,Ct,Ar,st,Nt,Dn,zt,X,ke,ve,Ee,De,Me,ct,Pt,it,we,Ye,Te,Re,ze,Ve,wt,mr,on,bn,Fl,Nn,pn,Uo,En,mn,Bl,Sn,Rn,Ul,Pn,Mn,de,ue,Se,at,Pe,He,Tt,Oe,ht,mt,St;for(Y=0;Y<48;Y+=2)J=F[0]^F[10]^F[20]^F[30]^F[40],re=F[1]^F[11]^F[21]^F[31]^F[41],Q=F[2]^F[12]^F[22]^F[32]^F[42],ee=F[3]^F[13]^F[23]^F[33]^F[43],We=F[4]^F[14]^F[24]^F[34]^F[44],oe=F[5]^F[15]^F[25]^F[35]^F[45],be=F[6]^F[16]^F[26]^F[36]^F[46],ft=F[7]^F[17]^F[27]^F[37]^F[47],Ie=F[8]^F[18]^F[28]^F[38]^F[48],Ne=F[9]^F[19]^F[29]^F[39]^F[49],H=Ie^(Q<<1|ee>>>31),K=Ne^(ee<<1|Q>>>31),F[0]^=H,F[1]^=K,F[10]^=H,F[11]^=K,F[20]^=H,F[21]^=K,F[30]^=H,F[31]^=K,F[40]^=H,F[41]^=K,H=J^(We<<1|oe>>>31),K=re^(oe<<1|We>>>31),F[2]^=H,F[3]^=K,F[12]^=H,F[13]^=K,F[22]^=H,F[23]^=K,F[32]^=H,F[33]^=K,F[42]^=H,F[43]^=K,H=Q^(be<<1|ft>>>31),K=ee^(ft<<1|be>>>31),F[4]^=H,F[5]^=K,F[14]^=H,F[15]^=K,F[24]^=H,F[25]^=K,F[34]^=H,F[35]^=K,F[44]^=H,F[45]^=K,H=We^(Ie<<1|Ne>>>31),K=oe^(Ne<<1|Ie>>>31),F[6]^=H,F[7]^=K,F[16]^=H,F[17]^=K,F[26]^=H,F[27]^=K,F[36]^=H,F[37]^=K,F[46]^=H,F[47]^=K,H=be^(J<<1|re>>>31),K=ft^(re<<1|J>>>31),F[8]^=H,F[9]^=K,F[18]^=H,F[19]^=K,F[28]^=H,F[29]^=K,F[38]^=H,F[39]^=K,F[48]^=H,F[49]^=K,tt=F[0],je=F[1],mn=F[11]<<4|F[10]>>>28,Bl=F[10]<<4|F[11]>>>28,ct=F[20]<<3|F[21]>>>29,Pt=F[21]<<3|F[20]>>>29,Oe=F[31]<<9|F[30]>>>23,ht=F[30]<<9|F[31]>>>23,Nn=F[40]<<18|F[41]>>>14,pn=F[41]<<18|F[40]>>>14,Re=F[2]<<1|F[3]>>>31,ze=F[3]<<1|F[2]>>>31,Ct=F[13]<<12|F[12]>>>20,Ar=F[12]<<12|F[13]>>>20,Sn=F[22]<<10|F[23]>>>22,Rn=F[23]<<10|F[22]>>>22,it=F[33]<<13|F[32]>>>19,we=F[32]<<13|F[33]>>>19,mt=F[42]<<2|F[43]>>>30,St=F[43]<<2|F[42]>>>30,ue=F[5]<<30|F[4]>>>2,Se=F[4]<<30|F[5]>>>2,Ve=F[14]<<6|F[15]>>>26,wt=F[15]<<6|F[14]>>>26,st=F[25]<<11|F[24]>>>21,Nt=F[24]<<11|F[25]>>>21,Ul=F[34]<<15|F[35]>>>17,Pn=F[35]<<15|F[34]>>>17,Ye=F[45]<<29|F[44]>>>3,Te=F[44]<<29|F[45]>>>3,ve=F[6]<<28|F[7]>>>4,Ee=F[7]<<28|F[6]>>>4,at=F[17]<<23|F[16]>>>9,Pe=F[16]<<23|F[17]>>>9,mr=F[26]<<25|F[27]>>>7,on=F[27]<<25|F[26]>>>7,Dn=F[36]<<21|F[37]>>>11,zt=F[37]<<21|F[36]>>>11,Mn=F[47]<<24|F[46]>>>8,de=F[46]<<24|F[47]>>>8,Uo=F[8]<<27|F[9]>>>5,En=F[9]<<27|F[8]>>>5,De=F[18]<<20|F[19]>>>12,Me=F[19]<<20|F[18]>>>12,He=F[29]<<7|F[28]>>>25,Tt=F[28]<<7|F[29]>>>25,bn=F[38]<<8|F[39]>>>24,Fl=F[39]<<8|F[38]>>>24,X=F[48]<<14|F[49]>>>18,ke=F[49]<<14|F[48]>>>18,F[0]=tt^~Ct&st,F[1]=je^~Ar&Nt,F[10]=ve^~De&ct,F[11]=Ee^~Me&Pt,F[20]=Re^~Ve&mr,F[21]=ze^~wt&on,F[30]=Uo^~mn&Sn,F[31]=En^~Bl&Rn,F[40]=ue^~at&He,F[41]=Se^~Pe&Tt,F[2]=Ct^~st&Dn,F[3]=Ar^~Nt&zt,F[12]=De^~ct&it,F[13]=Me^~Pt&we,F[22]=Ve^~mr&bn,F[23]=wt^~on&Fl,F[32]=mn^~Sn&Ul,F[33]=Bl^~Rn&Pn,F[42]=at^~He&Oe,F[43]=Pe^~Tt&ht,F[4]=st^~Dn&X,F[5]=Nt^~zt&ke,F[14]=ct^~it&Ye,F[15]=Pt^~we&Te,F[24]=mr^~bn&Nn,F[25]=on^~Fl&pn,F[34]=Sn^~Ul&Mn,F[35]=Rn^~Pn&de,F[44]=He^~Oe&mt,F[45]=Tt^~ht&St,F[6]=Dn^~X&tt,F[7]=zt^~ke&je,F[16]=it^~Ye&ve,F[17]=we^~Te&Ee,F[26]=bn^~Nn&Re,F[27]=Fl^~pn&ze,F[36]=Ul^~Mn&Uo,F[37]=Pn^~de&En,F[46]=Oe^~mt&ue,F[47]=ht^~St&Se,F[8]=X^~tt&Ct,F[9]=ke^~je&Ar,F[18]=Ye^~ve&De,F[19]=Te^~Ee&Me,F[28]=Nn^~Re&Ve,F[29]=pn^~ze&wt,F[38]=Mn^~Uo&mn,F[39]=de^~En&Bl,F[48]=mt^~ue&at,F[49]=St^~Se&Pe,F[0]^=m[Y],F[1]^=m[Y+1]};if(o)t.exports=w;else for(S=0;S<k.length;++S)s[k[S]]=w[k[S]]})()})(Ez);var jce=Ez.exports;const Sz=wf(jce);function zr(t){return"0x"+Sz.keccak_256(lt(t))}const _ce="rlp/5.8.0",tl=new se(_ce);function f4(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function h4(t,e,n){let r=0;for(let s=0;s<n;s++)r=r*256+t[e+s];return r}function Rz(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(i){r=r.concat(Rz(i))}),r.length<=55)return r.unshift(192+r.length),r;const s=f4(r.length);return s.unshift(247+s.length),s.concat(r)}ZT(t)||tl.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(lt(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const n=f4(e.length);return n.unshift(183+n.length),n.concat(e)}function gm(t){return Je(Rz(t))}function m4(t,e,n,r){const s=[];for(;n<e+1+r;){const i=Pz(t,n);s.push(i.result),n+=i.consumed,n>e+1+r&&tl.throwError("child data too short",se.errors.BUFFER_OVERRUN,{})}return{consumed:1+r,result:s}}function Pz(t,e){if(t.length===0&&tl.throwError("data too short",se.errors.BUFFER_OVERRUN,{}),t[e]>=248){const n=t[e]-247;e+1+n>t.length&&tl.throwError("data short segment too short",se.errors.BUFFER_OVERRUN,{});const r=h4(t,e+1,n);return e+1+n+r>t.length&&tl.throwError("data long segment too short",se.errors.BUFFER_OVERRUN,{}),m4(t,e,e+1+n,n+r)}else if(t[e]>=192){const n=t[e]-192;return e+1+n>t.length&&tl.throwError("data array too short",se.errors.BUFFER_OVERRUN,{}),m4(t,e,e+1,n)}else if(t[e]>=184){const n=t[e]-183;e+1+n>t.length&&tl.throwError("data array too short",se.errors.BUFFER_OVERRUN,{});const r=h4(t,e+1,n);e+1+n+r>t.length&&tl.throwError("data array too short",se.errors.BUFFER_OVERRUN,{});const s=Je(t.slice(e+1+n,e+1+n+r));return{consumed:1+n+r,result:s}}else if(t[e]>=128){const n=t[e]-128;e+1+n>t.length&&tl.throwError("data too short",se.errors.BUFFER_OVERRUN,{});const r=Je(t.slice(e+1,e+1+n));return{consumed:1+n,result:r}}return{consumed:1,result:Je(t[e])}}function LS(t){const e=lt(t),n=Pz(e,0);return n.consumed!==e.length&&tl.throwArgumentError("invalid rlp data","data",t),n.result}const Dce="address/5.8.0",oh=new se(Dce);function y4(t){ln(t,20)||oh.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),n=new Uint8Array(40);for(let s=0;s<40;s++)n[s]=e[s].charCodeAt(0);const r=lt(zr(n));for(let s=0;s<40;s+=2)r[s>>1]>>4>=8&&(e[s]=e[s].toUpperCase()),(r[s>>1]&15)>=8&&(e[s+1]=e[s+1].toUpperCase());return"0x"+e.join("")}const Oce=9007199254740991;function Lce(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const $S={};for(let t=0;t<10;t++)$S[String(t)]=String(t);for(let t=0;t<26;t++)$S[String.fromCharCode(65+t)]=String(10+t);const g4=Math.floor(Lce(Oce));function $ce(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(r=>$S[r]).join("");for(;e.length>=g4;){let r=e.substring(0,g4);e=parseInt(r,10)%97+e.substring(r.length)}let n=String(98-parseInt(e,10)%97);for(;n.length<2;)n="0"+n;return n}function gs(t){let e=null;if(typeof t!="string"&&oh.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=y4(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&oh.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==$ce(t)&&oh.throwArgumentError("bad icap checksum","address",t),e=wce(t.substring(4));e.length<40;)e="0"+e;e=y4("0x"+e)}else oh.throwArgumentError("invalid address","address",t);return e}function FS(t){let e=null;try{e=gs(t.from)}catch{oh.throwArgumentError("missing from address","transaction",t)}const n=Tc(lt($e.from(t.nonce).toHexString()));return gs(Cs(zr(gm([e,n])),12))}class Fce extends Zc{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,n){try{n=gs(n)}catch(r){this._throwError(r.message,n)}return e.writeValue(n)}decode(e){return gs(Kn(e.readValue().toHexString(),20))}}class Bce extends Zc{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,n){return this.coder.encode(e,n)}decode(e){return this.coder.decode(e)}}const lh=new se(Uv);function Mz(t,e,n){let r=null;if(Array.isArray(n))r=n;else if(n&&typeof n=="object"){let l={};r=e.map(u=>{const d=u.localName;return d||lh.throwError("cannot encode object for signature with missing names",se.errors.INVALID_ARGUMENT,{argument:"values",coder:u,value:n}),l[d]&&lh.throwError("cannot encode object for signature with duplicate names",se.errors.INVALID_ARGUMENT,{argument:"values",coder:u,value:n}),l[d]=!0,n[d]})}else lh.throwArgumentError("invalid tuple value","tuple",n);e.length!==r.length&&lh.throwArgumentError("types/value length mismatch","tuple",n);let s=new fN(t.wordSize),i=new fN(t.wordSize),a=[];e.forEach((l,u)=>{let d=r[u];if(l.dynamic){let p=i.length;l.encode(i,d);let f=s.writeUpdatableValue();a.push(h=>{f(h+p)})}else l.encode(s,d)}),a.forEach(l=>{l(s.length)});let o=t.appendWriter(s);return o+=t.appendWriter(i),o}function jz(t,e){let n=[],r=t.subReader(0);e.forEach(i=>{let a=null;if(i.dynamic){let o=t.readValue(),l=r.subReader(o.toNumber());try{a=i.decode(l)}catch(u){if(u.code===se.errors.BUFFER_OVERRUN)throw u;a=u,a.baseType=i.name,a.name=i.localName,a.type=i.type}}else try{a=i.decode(t)}catch(o){if(o.code===se.errors.BUFFER_OVERRUN)throw o;a=o,a.baseType=i.name,a.name=i.localName,a.type=i.type}a!=null&&n.push(a)});const s=e.reduce((i,a)=>{const o=a.localName;return o&&(i[o]||(i[o]=0),i[o]++),i},{});e.forEach((i,a)=>{let o=i.localName;if(!o||s[o]!==1||(o==="length"&&(o="_length"),n[o]!=null))return;const l=n[a];l instanceof Error?Object.defineProperty(n,o,{enumerable:!0,get:()=>{throw l}}):n[o]=l});for(let i=0;i<n.length;i++){const a=n[i];a instanceof Error&&Object.defineProperty(n,i,{enumerable:!0,get:()=>{throw a}})}return Object.freeze(n)}class Uce extends Zc{constructor(e,n,r){const s=e.type+"["+(n>=0?n:"")+"]",i=n===-1||e.dynamic;super("array",s,r,i),this.coder=e,this.length=n}defaultValue(){const e=this.coder.defaultValue(),n=[];for(let r=0;r<this.length;r++)n.push(e);return n}encode(e,n){Array.isArray(n)||this._throwError("expected array value",n);let r=this.length;r===-1&&(r=n.length,e.writeValue(n.length)),lh.checkArgumentCount(n.length,r,"coder array"+(this.localName?" "+this.localName:""));let s=[];for(let i=0;i<n.length;i++)s.push(this.coder);return Mz(e,s,n)}decode(e){let n=this.length;n===-1&&(n=e.readValue().toNumber(),n*32>e._data.length&&lh.throwError("insufficient data length",se.errors.BUFFER_OVERRUN,{length:e._data.length,count:n}));let r=[];for(let s=0;s<n;s++)r.push(new Bce(this.coder));return e.coerce(this.name,jz(e,r))}}class zce extends Zc{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,n){return e.writeValue(n?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class _z extends Zc{constructor(e,n){super(e,e,n,!0)}defaultValue(){return"0x"}encode(e,n){n=lt(n);let r=e.writeValue(n.length);return r+=e.writeBytes(n),r}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class Vce extends _z{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,Je(super.decode(e)))}}class Hce extends Zc{constructor(e,n){let r="bytes"+String(e);super(r,r,n,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,n){let r=lt(n);return r.length!==this.size&&this._throwError("incorrect data length",n),e.writeBytes(r)}decode(e){return e.coerce(this.name,Je(e.readBytes(this.size)))}}class Wce extends Zc{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,n){return n!=null&&this._throwError("not null",n),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}const Gce="0x0000000000000000000000000000000000000000",Kce=$e.from(-1),Dz=$e.from(0),Yce=$e.from(1),qce=$e.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Zce="0x0000000000000000000000000000000000000000000000000000000000000000";class Xce extends Zc{constructor(e,n,r){const s=(n?"int":"uint")+e*8;super(s,s,r,!1),this.size=e,this.signed=n}defaultValue(){return 0}encode(e,n){let r=$e.from(n),s=qce.mask(e.wordSize*8);if(this.signed){let i=s.mask(this.size*8-1);(r.gt(i)||r.lt(i.add(Yce).mul(Kce)))&&this._throwError("value out-of-bounds",n)}else(r.lt(Dz)||r.gt(s.mask(this.size*8)))&&this._throwError("value out-of-bounds",n);return r=r.toTwos(this.size*8).mask(this.size*8),this.signed&&(r=r.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(r)}decode(e){let n=e.readValue().mask(this.size*8);return this.signed&&(n=n.fromTwos(this.size*8)),e.coerce(this.name,n)}}const Jce="strings/5.8.0",Oz=new se(Jce);var x0;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(x0||(x0={}));var zi;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(zi||(zi={}));function Qce(t,e,n,r,s){return Oz.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",n)}function Lz(t,e,n,r,s){if(t===zi.BAD_PREFIX||t===zi.UNEXPECTED_CONTINUE){let i=0;for(let a=e+1;a<n.length&&n[a]>>6===2;a++)i++;return i}return t===zi.OVERRUN?n.length-e-1:0}function eue(t,e,n,r,s){return t===zi.OVERLONG?(r.push(s),0):(r.push(65533),Lz(t,e,n))}const tue=Object.freeze({error:Qce,ignore:Lz,replace:eue});function $z(t,e){e==null&&(e=tue.error),t=lt(t);const n=[];let r=0;for(;r<t.length;){const s=t[r++];if(!(s>>7)){n.push(s);continue}let i=null,a=null;if((s&224)===192)i=1,a=127;else if((s&240)===224)i=2,a=2047;else if((s&248)===240)i=3,a=65535;else{(s&192)===128?r+=e(zi.UNEXPECTED_CONTINUE,r-1,t,n):r+=e(zi.BAD_PREFIX,r-1,t,n);continue}if(r-1+i>=t.length){r+=e(zi.OVERRUN,r-1,t,n);continue}let o=s&(1<<8-i-1)-1;for(let l=0;l<i;l++){let u=t[r];if((u&192)!=128){r+=e(zi.MISSING_CONTINUE,r,t,n),o=null;break}o=o<<6|u&63,r++}if(o!==null){if(o>1114111){r+=e(zi.OUT_OF_RANGE,r-1-i,t,n,o);continue}if(o>=55296&&o<=57343){r+=e(zi.UTF16_SURROGATE,r-1-i,t,n,o);continue}if(o<=a){r+=e(zi.OVERLONG,r-1-i,t,n,o);continue}n.push(o)}}return n}function El(t,e=x0.current){e!=x0.current&&(Oz.checkNormalize(),t=t.normalize(e));let n=[];for(let r=0;r<t.length;r++){const s=t.charCodeAt(r);if(s<128)n.push(s);else if(s<2048)n.push(s>>6|192),n.push(s&63|128);else if((s&64512)==55296){r++;const i=t.charCodeAt(r);if(r>=t.length||(i&64512)!==56320)throw new Error("invalid utf-8 string");const a=65536+((s&1023)<<10)+(i&1023);n.push(a>>18|240),n.push(a>>12&63|128),n.push(a>>6&63|128),n.push(a&63|128)}else n.push(s>>12|224),n.push(s>>6&63|128),n.push(s&63|128)}return lt(n)}function nue(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function zv(t,e){return nue($z(t,e))}function rue(t,e=x0.current){return $z(El(t,e))}class sue extends _z{constructor(e){super("string",e)}defaultValue(){return""}encode(e,n){return super.encode(e,El(n))}decode(e){return zv(super.decode(e))}}class zb extends Zc{constructor(e,n){let r=!1;const s=[];e.forEach(a=>{a.dynamic&&(r=!0),s.push(a.type)});const i="tuple("+s.join(",")+")";super("tuple",i,n,r),this.coders=e}defaultValue(){const e=[];this.coders.forEach(r=>{e.push(r.defaultValue())});const n=this.coders.reduce((r,s)=>{const i=s.localName;return i&&(r[i]||(r[i]=0),r[i]++),r},{});return this.coders.forEach((r,s)=>{let i=r.localName;!i||n[i]!==1||(i==="length"&&(i="_length"),e[i]==null&&(e[i]=e[s]))}),Object.freeze(e)}encode(e,n){return Mz(e,this.coders,n)}decode(e){return e.coerce(this.name,jz(e,this.coders))}}const Vb=new se(Uv),iue=new RegExp(/^bytes([0-9]*)$/),aue=new RegExp(/^(u?int)([0-9]*)$/);class oue{constructor(e){Ae(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new Fce(e.name);case"bool":return new zce(e.name);case"string":return new sue(e.name);case"bytes":return new Vce(e.name);case"array":return new Uce(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new zb((e.components||[]).map(r=>this._getCoder(r)),e.name);case"":return new Wce(e.name)}let n=e.type.match(aue);if(n){let r=parseInt(n[2]||"256");return(r===0||r>256||r%8!==0)&&Vb.throwArgumentError("invalid "+n[1]+" bit length","param",e),new Xce(r/8,n[1]==="int",e.name)}if(n=e.type.match(iue),n){let r=parseInt(n[1]);return(r===0||r>32)&&Vb.throwArgumentError("invalid bytes length","param",e),new Hce(r,e.name)}return Vb.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,n){return new m1(e,this._getWordSize(),this.coerceFunc,n)}_getWriter(){return new fN(this._getWordSize())}getDefaultValue(e){const n=e.map(s=>this._getCoder(Qr.from(s)));return new zb(n,"_").defaultValue()}encode(e,n){e.length!==n.length&&Vb.throwError("types/values length mismatch",se.errors.INVALID_ARGUMENT,{count:{types:e.length,values:n.length},value:{types:e,values:n}});const r=e.map(a=>this._getCoder(Qr.from(a))),s=new zb(r,"_"),i=this._getWriter();return s.encode(i,n),i.data}decode(e,n,r){const s=e.map(a=>this._getCoder(Qr.from(a)));return new zb(s,"_").decode(this._getReader(lt(n),r))}}const lue=new oue;function ch(t){return zr(El(t))}const Fz="hash/5.8.0";function Bz(t){t=atob(t);const e=[];for(let n=0;n<t.length;n++)e.push(t.charCodeAt(n));return lt(e)}function Uz(t){t=lt(t);let e="";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return btoa(e)}function zz(t,e){e==null&&(e=1);const n=[],r=n.forEach,s=function(i,a){r.call(i,function(o){a>0&&Array.isArray(o)?s(o,a-1):n.push(o)})};return s(t,e),n}function cue(t){const e={};for(let n=0;n<t.length;n++){const r=t[n];e[r[0]]=r[1]}return e}function uue(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),s=1,i=[0,1];for(let I=1;I<r;I++)i.push(s+=n());let a=n(),o=e;e+=a;let l=0,u=0;function d(){return l==0&&(u=u<<8|t[e++],l=8),u>>--l&1}const p=31,f=Math.pow(2,p),h=f>>>1,y=h>>1,m=f-1;let b=0;for(let I=0;I<p;I++)b=b<<1|d();let v=[],g=0,x=f;for(;;){let I=Math.floor(((b-g+1)*s-1)/x),C=0,N=r;for(;N-C>1;){let U=C+N>>>1;I<i[U]?N=U:C=U}if(C==0)break;v.push(C);let P=g+Math.floor(x*i[C]/s),L=g+Math.floor(x*i[C+1]/s)-1;for(;!((P^L)&h);)b=b<<1&m|d(),P=P<<1&m,L=L<<1&m|1;for(;P&~L&y;)b=b&h|b<<1&m>>>1|d(),P=P<<1^h,L=(L^h)<<1|h|1;g=P,x=1+L-P}let T=r-4;return v.map(I=>{switch(I-T){case 3:return T+65792+(t[o++]<<16|t[o++]<<8|t[o++]);case 2:return T+256+(t[o++]<<8|t[o++]);case 1:return T+t[o++];default:return I-1}})}function due(t){let e=0;return()=>t[e++]}function pue(t){return due(uue(t))}function fue(t){return t&1?~t>>1:t>>1}function hue(t,e){let n=Array(t);for(let r=0;r<t;r++)n[r]=1+e();return n}function v4(t,e){let n=Array(t);for(let r=0,s=-1;r<t;r++)n[r]=s+=1+e();return n}function mue(t,e){let n=Array(t);for(let r=0,s=0;r<t;r++)n[r]=s+=fue(e());return n}function y1(t,e){let n=v4(t(),t),r=t(),s=v4(r,t),i=hue(r,t);for(let a=0;a<r;a++)for(let o=0;o<i[a];o++)n.push(s[a]+o);return e?n.map(a=>e[a]):n}function yue(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(vue(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(bue(n,t))}return cue(zz(e))}function gue(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(n)}return e}function Vz(t,e,n){let r=Array(t).fill(void 0).map(()=>[]);for(let s=0;s<e;s++)mue(t,n).forEach((i,a)=>r[a].push(i));return r}function vue(t,e){let n=1+e(),r=e(),s=gue(e),i=Vz(s.length,1+t,e);return zz(i.map((a,o)=>{const l=a[0],u=a.slice(1);return Array(s[o]).fill(void 0).map((d,p)=>{let f=p*r;return[l+p*n,u.map(h=>h+f)]})}))}function bue(t,e){let n=1+e();return Vz(n,1+t,e).map(s=>[s[0],s.slice(1)])}function xue(t){let e=y1(t).sort((r,s)=>r-s);return n();function n(){let r=[];for(;;){let u=y1(t,e);if(u.length==0)break;r.push({set:new Set(u),node:n()})}r.sort((u,d)=>d.set.size-u.set.size);let s=t(),i=s%3;s=s/3|0;let a=!!(s&1);s>>=1;let o=s==1,l=s==2;return{branches:r,valid:i,fe0f:a,save:o,check:l}}}function wue(){return pue(Bz("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const XT=wue(),Tue=new Set(y1(XT)),Aue=new Set(y1(XT)),Iue=yue(XT),kue=xue(XT),b4=45,x4=95;function Hz(t){return rue(t)}function Cue(t){return t.filter(e=>e!=65039)}function Wz(t){for(let e of t.split(".")){let n=Hz(e);try{for(let r=n.lastIndexOf(x4)-1;r>=0;r--)if(n[r]!==x4)throw new Error("underscore only allowed at start");if(n.length>=4&&n.every(r=>r<128)&&n[2]===b4&&n[3]===b4)throw new Error("invalid label extension")}catch(r){throw new Error(`Invalid label "${e}": ${r.message}`)}}return t}function Nue(t){return Wz(Eue(t,Cue))}function Eue(t,e){let n=Hz(t).reverse(),r=[];for(;n.length;){let s=Rue(n);if(s){r.push(...e(s));continue}let i=n.pop();if(Tue.has(i)){r.push(i);continue}if(Aue.has(i))continue;let a=Iue[i];if(a){r.push(...a);continue}throw new Error(`Disallowed codepoint: 0x${i.toString(16).toUpperCase()}`)}return Wz(Sue(String.fromCodePoint(...r)))}function Sue(t){return t.normalize("NFC")}function Rue(t,e){var n;let r=kue,s,i,a=[],o=t.length;for(;o;){let l=t[--o];if(r=(n=r.branches.find(u=>u.set.has(l)))===null||n===void 0?void 0:n.node,!r)break;if(r.save)i=l;else if(r.check&&l===i)break;a.push(l),r.fe0f&&(a.push(65039),o>0&&t[o-1]==65039&&o--),r.valid&&(s=a.slice(),r.valid==2&&s.splice(1,1),t.length=o)}return s}const Pue=new se(Fz),Gz=new Uint8Array(32);Gz.fill(0);function w4(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}function Kz(t){const e=El(Nue(t)),n=[];if(t.length===0)return n;let r=0;for(let s=0;s<e.length;s++)e[s]===46&&(n.push(w4(e.slice(r,s))),r=s+1);if(r>=e.length)throw new Error("invalid ENS name; empty component");return n.push(w4(e.slice(r))),n}function Qx(t){typeof t!="string"&&Pue.throwArgumentError("invalid ENS name; not a string","name",t);let e=Gz;const n=Kz(t);for(;n.length;)e=zr(Zs([e,zr(n.pop())]));return Je(e)}function Mue(t){return Je(Zs(Kz(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const n=new Uint8Array(e.length+1);return n.set(e,1),n[0]=n.length-1,n})))+"00"}var jue=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(d){try{u(r.next(d))}catch(p){a(p)}}function l(d){try{u(r.throw(d))}catch(p){a(p)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((r=r.apply(t,e||[])).next())})};const Xn=new se(Fz),Yz=new Uint8Array(32);Yz.fill(0);const _ue=$e.from(-1),qz=$e.from(0),Zz=$e.from(1),Due=$e.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Oue(t){const e=lt(t),n=e.length%32;return n?mi([e,Yz.slice(n)]):Je(e)}const Lue=Kn(Zz.toHexString(),32),$ue=Kn(qz.toHexString(),32),T4={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},QA=["name","version","chainId","verifyingContract","salt"];function A4(t){return function(e){return typeof e!="string"&&Xn.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const Fue={name:A4("name"),version:A4("version"),chainId:function(t){try{return $e.from(t).toString()}catch{}return Xn.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return gs(t).toLowerCase()}catch{}return Xn.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=lt(t);if(e.length!==32)throw new Error("bad length");return Je(e)}catch{}return Xn.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function eI(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const n=e[1]==="",r=parseInt(e[2]||"256");(r%8!==0||r>256||e[2]&&e[2]!==String(r))&&Xn.throwArgumentError("invalid numeric width","type",t);const s=Due.mask(n?r-1:r),i=n?s.add(Zz).mul(_ue):qz;return function(a){const o=$e.from(a);return(o.lt(i)||o.gt(s))&&Xn.throwArgumentError(`value out-of-bounds for ${t}`,"value",a),Kn(o.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const n=parseInt(e[1]);return(n===0||n>32||e[1]!==String(n))&&Xn.throwArgumentError("invalid bytes width","type",t),function(r){return lt(r).length!==n&&Xn.throwArgumentError(`invalid length for ${t}`,"value",r),Oue(r)}}}switch(t){case"address":return function(e){return Kn(gs(e),32)};case"bool":return function(e){return e?Lue:$ue};case"bytes":return function(e){return zr(e)};case"string":return function(e){return ch(e)}}return null}function I4(t,e){return`${t}(${e.map(({name:n,type:r})=>r+" "+n).join(",")})`}class Oi{constructor(e){Ae(this,"types",Object.freeze(Oc(e))),Ae(this,"_encoderCache",{}),Ae(this,"_types",{});const n={},r={},s={};Object.keys(e).forEach(o=>{n[o]={},r[o]=[],s[o]={}});for(const o in e){const l={};e[o].forEach(u=>{l[u.name]&&Xn.throwArgumentError(`duplicate variable name ${JSON.stringify(u.name)} in ${JSON.stringify(o)}`,"types",e),l[u.name]=!0;const d=u.type.match(/^([^\x5b]*)(\x5b|$)/)[1];d===o&&Xn.throwArgumentError(`circular type reference to ${JSON.stringify(d)}`,"types",e),!eI(d)&&(r[d]||Xn.throwArgumentError(`unknown type ${JSON.stringify(d)}`,"types",e),r[d].push(o),n[o][d]=!0)})}const i=Object.keys(r).filter(o=>r[o].length===0);i.length===0?Xn.throwArgumentError("missing primary type","types",e):i.length>1&&Xn.throwArgumentError(`ambiguous primary types or unused types: ${i.map(o=>JSON.stringify(o)).join(", ")}`,"types",e),Ae(this,"primaryType",i[0]);function a(o,l){l[o]&&Xn.throwArgumentError(`circular type reference to ${JSON.stringify(o)}`,"types",e),l[o]=!0,Object.keys(n[o]).forEach(u=>{r[u]&&(a(u,l),Object.keys(l).forEach(d=>{s[d][u]=!0}))}),delete l[o]}a(this.primaryType,{});for(const o in s){const l=Object.keys(s[o]);l.sort(),this._types[o]=I4(o,e[o])+l.map(u=>I4(u,e[u])).join("")}}getEncoder(e){let n=this._encoderCache[e];return n||(n=this._encoderCache[e]=this._getEncoder(e)),n}_getEncoder(e){{const s=eI(e);if(s)return s}const n=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){const s=n[1],i=this.getEncoder(s),a=parseInt(n[3]);return o=>{a>=0&&o.length!==a&&Xn.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",o);let l=o.map(i);return this._types[s]&&(l=l.map(zr)),zr(mi(l))}}const r=this.types[e];if(r){const s=ch(this._types[e]);return i=>{const a=r.map(({name:o,type:l})=>{const u=this.getEncoder(l)(i[o]);return this._types[l]?zr(u):u});return a.unshift(s),mi(a)}}return Xn.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const n=this._types[e];return n||Xn.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),n}encodeData(e,n){return this.getEncoder(e)(n)}hashStruct(e,n){return zr(this.encodeData(e,n))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,n,r){if(eI(e))return r(e,n);const s=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(s){const a=s[1],o=parseInt(s[3]);return o>=0&&n.length!==o&&Xn.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",n),n.map(l=>this._visit(a,l,r))}const i=this.types[e];return i?i.reduce((a,{name:o,type:l})=>(a[o]=this._visit(l,n[o],r),a),{}):Xn.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,n){return this._visit(this.primaryType,e,n)}static from(e){return new Oi(e)}static getPrimaryType(e){return Oi.from(e).primaryType}static hashStruct(e,n,r){return Oi.from(n).hashStruct(e,r)}static hashDomain(e){const n=[];for(const r in e){const s=T4[r];s||Xn.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),n.push({name:r,type:s})}return n.sort((r,s)=>QA.indexOf(r.name)-QA.indexOf(s.name)),Oi.hashStruct("EIP712Domain",{EIP712Domain:n},e)}static encode(e,n,r){return mi(["0x1901",Oi.hashDomain(e),Oi.from(n).hash(r)])}static hash(e,n,r){return zr(Oi.encode(e,n,r))}static resolveNames(e,n,r,s){return jue(this,void 0,void 0,function*(){e=Dr(e);const i={};e.verifyingContract&&!ln(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");const a=Oi.from(n);a.visit(r,(o,l)=>(o==="address"&&!ln(l,20)&&(i[l]="0x"),l));for(const o in i)i[o]=yield s(o);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),r=a.visit(r,(o,l)=>o==="address"&&i[l]?i[l]:l),{domain:e,value:r}})}static getPayload(e,n,r){Oi.hashDomain(e);const s={},i=[];QA.forEach(l=>{const u=e[l];u!=null&&(s[l]=Fue[l](u),i.push({name:l,type:T4[l]}))});const a=Oi.from(n),o=Dr(n);return o.EIP712Domain?Xn.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",n):o.EIP712Domain=i,a.encode(r),{types:o,domain:s,primaryType:a.primaryType,message:a.visit(r,(l,u)=>{if(l.match(/^bytes(\d*)/))return Je(lt(u));if(l.match(/^u?int/))return $e.from(u).toString();switch(l){case"address":return u.toLowerCase();case"bool":return!!u;case"string":return typeof u!="string"&&Xn.throwArgumentError("invalid string","value",u),u}return Xn.throwArgumentError("unsupported type","type",l)})}}}const Zn=new se(Uv);class Bue extends Bv{}class Uue extends Bv{}class zue extends Bv{}class hN extends Bv{static isIndexed(e){return!!(e&&e._isIndexed)}}const Vue={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function k4(t,e){const n=new Error(`deferred error during ABI decoding triggered accessing ${t}`);return n.error=e,n}class C4{constructor(e){let n=[];typeof e=="string"?n=JSON.parse(e):n=e,Ae(this,"fragments",n.map(r=>gc.from(r)).filter(r=>r!=null)),Ae(this,"_abiCoder",Xi(new.target,"getAbiCoder")()),Ae(this,"functions",{}),Ae(this,"errors",{}),Ae(this,"events",{}),Ae(this,"structs",{}),this.fragments.forEach(r=>{let s=null;switch(r.type){case"constructor":if(this.deploy){Zn.warn("duplicate definition - constructor");return}Ae(this,"deploy",r);return;case"function":s=this.functions;break;case"event":s=this.events;break;case"error":s=this.errors;break;default:return}let i=r.format();if(s[i]){Zn.warn("duplicate definition - "+i);return}s[i]=r}),this.deploy||Ae(this,"deploy",ll.from({payable:!1,type:"constructor"})),Ae(this,"_isInterface",!0)}format(e){e||(e=dn.full),e===dn.sighash&&Zn.throwArgumentError("interface does not support formatting sighash","format",e);const n=this.fragments.map(r=>r.format(e));return e===dn.json?JSON.stringify(n.map(r=>JSON.parse(r))):n}static getAbiCoder(){return lue}static getAddress(e){return gs(e)}static getSighash(e){return Cs(ch(e.format()),0,4)}static getEventTopic(e){return ch(e.format())}getFunction(e){if(ln(e)){for(const r in this.functions)if(e===this.getSighash(r))return this.functions[r];Zn.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const r=e.trim(),s=Object.keys(this.functions).filter(i=>i.split("(")[0]===r);return s.length===0?Zn.throwArgumentError("no matching function","name",r):s.length>1&&Zn.throwArgumentError("multiple matching functions","name",r),this.functions[s[0]]}const n=this.functions[cl.fromString(e).format()];return n||Zn.throwArgumentError("no matching function","signature",e),n}getEvent(e){if(ln(e)){const r=e.toLowerCase();for(const s in this.events)if(r===this.getEventTopic(s))return this.events[s];Zn.throwArgumentError("no matching event","topichash",r)}if(e.indexOf("(")===-1){const r=e.trim(),s=Object.keys(this.events).filter(i=>i.split("(")[0]===r);return s.length===0?Zn.throwArgumentError("no matching event","name",r):s.length>1&&Zn.throwArgumentError("multiple matching events","name",r),this.events[s[0]]}const n=this.events[dc.fromString(e).format()];return n||Zn.throwArgumentError("no matching event","signature",e),n}getError(e){if(ln(e)){const r=Xi(this.constructor,"getSighash");for(const s in this.errors){const i=this.errors[s];if(e===r(i))return this.errors[s]}Zn.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const r=e.trim(),s=Object.keys(this.errors).filter(i=>i.split("(")[0]===r);return s.length===0?Zn.throwArgumentError("no matching error","name",r):s.length>1&&Zn.throwArgumentError("multiple matching errors","name",r),this.errors[s[0]]}const n=this.errors[cl.fromString(e).format()];return n||Zn.throwArgumentError("no matching error","signature",e),n}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(n){try{e=this.getError(e)}catch{throw n}}return Xi(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),Xi(this.constructor,"getEventTopic")(e)}_decodeParams(e,n){return this._abiCoder.decode(e,n)}_encodeParams(e,n){return this._abiCoder.encode(e,n)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,n){typeof e=="string"&&(e=this.getError(e));const r=lt(n);return Je(r.slice(0,4))!==this.getSighash(e)&&Zn.throwArgumentError(`data signature does not match error ${e.name}.`,"data",Je(r)),this._decodeParams(e.inputs,r.slice(4))}encodeErrorResult(e,n){return typeof e=="string"&&(e=this.getError(e)),Je(Zs([this.getSighash(e),this._encodeParams(e.inputs,n||[])]))}decodeFunctionData(e,n){typeof e=="string"&&(e=this.getFunction(e));const r=lt(n);return Je(r.slice(0,4))!==this.getSighash(e)&&Zn.throwArgumentError(`data signature does not match function ${e.name}.`,"data",Je(r)),this._decodeParams(e.inputs,r.slice(4))}encodeFunctionData(e,n){return typeof e=="string"&&(e=this.getFunction(e)),Je(Zs([this.getSighash(e),this._encodeParams(e.inputs,n||[])]))}decodeFunctionResult(e,n){typeof e=="string"&&(e=this.getFunction(e));let r=lt(n),s=null,i="",a=null,o=null,l=null;switch(r.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,r)}catch{}break;case 4:{const u=Je(r.slice(0,4)),d=Vue[u];if(d)a=this._abiCoder.decode(d.inputs,r.slice(4)),o=d.name,l=d.signature,d.reason&&(s=a[0]),o==="Error"?i=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(a[0])}`:o==="Panic"&&(i=`; VM Exception while processing transaction: reverted with panic code ${a[0]}`);else try{const p=this.getError(u);a=this._abiCoder.decode(p.inputs,r.slice(4)),o=p.name,l=p.format()}catch{}break}}return Zn.throwError("call revert exception"+i,se.errors.CALL_EXCEPTION,{method:e.format(),data:Je(n),errorArgs:a,errorName:o,errorSignature:l,reason:s})}encodeFunctionResult(e,n){return typeof e=="string"&&(e=this.getFunction(e)),Je(this._abiCoder.encode(e.outputs,n||[]))}encodeFilterTopics(e,n){typeof e=="string"&&(e=this.getEvent(e)),n.length>e.inputs.length&&Zn.throwError("too many arguments for "+e.format(),se.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:n});let r=[];e.anonymous||r.push(this.getEventTopic(e));const s=(i,a)=>i.type==="string"?ch(a):i.type==="bytes"?zr(Je(a)):(i.type==="bool"&&typeof a=="boolean"&&(a=a?"0x01":"0x00"),i.type.match(/^u?int/)&&(a=$e.from(a).toHexString()),i.type==="address"&&this._abiCoder.encode(["address"],[a]),Kn(Je(a),32));for(n.forEach((i,a)=>{let o=e.inputs[a];if(!o.indexed){i!=null&&Zn.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+o.name,i);return}i==null?r.push(null):o.baseType==="array"||o.baseType==="tuple"?Zn.throwArgumentError("filtering with tuples or arrays not supported","contract."+o.name,i):Array.isArray(i)?r.push(i.map(l=>s(o,l))):r.push(s(o,i))});r.length&&r[r.length-1]===null;)r.pop();return r}encodeEventLog(e,n){typeof e=="string"&&(e=this.getEvent(e));const r=[],s=[],i=[];return e.anonymous||r.push(this.getEventTopic(e)),n.length!==e.inputs.length&&Zn.throwArgumentError("event arguments/values mismatch","values",n),e.inputs.forEach((a,o)=>{const l=n[o];if(a.indexed)if(a.type==="string")r.push(ch(l));else if(a.type==="bytes")r.push(zr(l));else{if(a.baseType==="tuple"||a.baseType==="array")throw new Error("not implemented");r.push(this._abiCoder.encode([a.type],[l]))}else s.push(a),i.push(l)}),{data:this._abiCoder.encode(s,i),topics:r}}decodeEventLog(e,n,r){if(typeof e=="string"&&(e=this.getEvent(e)),r!=null&&!e.anonymous){let f=this.getEventTopic(e);(!ln(r[0],32)||r[0].toLowerCase()!==f)&&Zn.throwError("fragment/topic mismatch",se.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:f,value:r[0]}),r=r.slice(1)}let s=[],i=[],a=[];e.inputs.forEach((f,h)=>{f.indexed?f.type==="string"||f.type==="bytes"||f.baseType==="tuple"||f.baseType==="array"?(s.push(Qr.fromObject({type:"bytes32",name:f.name})),a.push(!0)):(s.push(f),a.push(!1)):(i.push(f),a.push(!1))});let o=r!=null?this._abiCoder.decode(s,Zs(r)):null,l=this._abiCoder.decode(i,n,!0),u=[],d=0,p=0;e.inputs.forEach((f,h)=>{if(f.indexed)if(o==null)u[h]=new hN({_isIndexed:!0,hash:null});else if(a[h])u[h]=new hN({_isIndexed:!0,hash:o[p++]});else try{u[h]=o[p++]}catch(y){u[h]=y}else try{u[h]=l[d++]}catch(y){u[h]=y}if(f.name&&u[f.name]==null){const y=u[h];y instanceof Error?Object.defineProperty(u,f.name,{enumerable:!0,get:()=>{throw k4(`property ${JSON.stringify(f.name)}`,y)}}):u[f.name]=y}});for(let f=0;f<u.length;f++){const h=u[f];h instanceof Error&&Object.defineProperty(u,f,{enumerable:!0,get:()=>{throw k4(`index ${f}`,h)}})}return Object.freeze(u)}parseTransaction(e){let n=this.getFunction(e.data.substring(0,10).toLowerCase());return n?new Uue({args:this._abiCoder.decode(n.inputs,"0x"+e.data.substring(10)),functionFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n),value:$e.from(e.value||"0")}):null}parseLog(e){let n=this.getEvent(e.topics[0]);return!n||n.anonymous?null:new Bue({eventFragment:n,name:n.name,signature:n.format(),topic:this.getEventTopic(n),args:this.decodeEventLog(n,e.data,e.topics)})}parseError(e){const n=Je(e);let r=this.getError(n.substring(0,10).toLowerCase());return r?new zue({args:this._abiCoder.decode(r.inputs,"0x"+n.substring(10)),errorFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r)}):null}static isInterface(e){return!!(e&&e._isInterface)}}const Hue="abstract-provider/5.8.0";var Wue=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(d){try{u(r.next(d))}catch(p){a(p)}}function l(d){try{u(r.throw(d))}catch(p){a(p)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((r=r.apply(t,e||[])).next())})};const Gue=new se(Hue);class Kue extends Bv{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class JT{constructor(){Gue.checkAbstract(new.target,JT),Ae(this,"_isProvider",!0)}getFeeData(){return Wue(this,void 0,void 0,function*(){const{block:e,gasPrice:n}=yield Nr({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(a=>null)});let r=null,s=null,i=null;return e&&e.baseFeePerGas&&(r=e.baseFeePerGas,i=$e.from("1500000000"),s=e.baseFeePerGas.mul(2).add(i)),{lastBaseFeePerGas:r,maxFeePerGas:s,maxPriorityFeePerGas:i,gasPrice:n}})}addListener(e,n){return this.on(e,n)}removeListener(e,n){return this.off(e,n)}static isProvider(e){return!!(e&&e._isProvider)}}const Yue="abstract-signer/5.8.0";var Ga=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(d){try{u(r.next(d))}catch(p){a(p)}}function l(d){try{u(r.throw(d))}catch(p){a(p)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((r=r.apply(t,e||[])).next())})};const ya=new se(Yue),que=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],Zue=[se.errors.INSUFFICIENT_FUNDS,se.errors.NONCE_EXPIRED,se.errors.REPLACEMENT_UNDERPRICED];class qm{constructor(){ya.checkAbstract(new.target,qm),Ae(this,"_isSigner",!0)}getBalance(e){return Ga(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return Ga(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return Ga(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const n=yield Nr(this.checkTransaction(e));return yield this.provider.estimateGas(n)})}call(e,n){return Ga(this,void 0,void 0,function*(){this._checkProvider("call");const r=yield Nr(this.checkTransaction(e));return yield this.provider.call(r,n)})}sendTransaction(e){return Ga(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const n=yield this.populateTransaction(e),r=yield this.signTransaction(n);return yield this.provider.sendTransaction(r)})}getChainId(){return Ga(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return Ga(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return Ga(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return Ga(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const r in e)que.indexOf(r)===-1&&ya.throwArgumentError("invalid transaction key: "+r,"transaction",e);const n=Dr(e);return n.from==null?n.from=this.getAddress():n.from=Promise.all([Promise.resolve(n.from),this.getAddress()]).then(r=>(r[0].toLowerCase()!==r[1].toLowerCase()&&ya.throwArgumentError("from address mismatch","transaction",e),r[0])),n}populateTransaction(e){return Ga(this,void 0,void 0,function*(){const n=yield Nr(this.checkTransaction(e));n.to!=null&&(n.to=Promise.resolve(n.to).then(s=>Ga(this,void 0,void 0,function*(){if(s==null)return null;const i=yield this.resolveName(s);return i==null&&ya.throwArgumentError("provided ENS name resolves to null","tx.to",s),i})),n.to.catch(s=>{}));const r=n.maxFeePerGas!=null||n.maxPriorityFeePerGas!=null;if(n.gasPrice!=null&&(n.type===2||r)?ya.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(n.type===0||n.type===1)&&r&&ya.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(n.type===2||n.type==null)&&n.maxFeePerGas!=null&&n.maxPriorityFeePerGas!=null)n.type=2;else if(n.type===0||n.type===1)n.gasPrice==null&&(n.gasPrice=this.getGasPrice());else{const s=yield this.getFeeData();if(n.type==null)if(s.maxFeePerGas!=null&&s.maxPriorityFeePerGas!=null)if(n.type=2,n.gasPrice!=null){const i=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=i,n.maxPriorityFeePerGas=i}else n.maxFeePerGas==null&&(n.maxFeePerGas=s.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=s.maxPriorityFeePerGas);else s.gasPrice!=null?(r&&ya.throwError("network does not support EIP-1559",se.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),n.gasPrice==null&&(n.gasPrice=s.gasPrice),n.type=0):ya.throwError("failed to get consistent fee data",se.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else n.type===2&&(n.maxFeePerGas==null&&(n.maxFeePerGas=s.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=s.maxPriorityFeePerGas))}return n.nonce==null&&(n.nonce=this.getTransactionCount("pending")),n.gasLimit==null&&(n.gasLimit=this.estimateGas(n).catch(s=>{if(Zue.indexOf(s.code)>=0)throw s;return ya.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",se.errors.UNPREDICTABLE_GAS_LIMIT,{error:s,tx:n})})),n.chainId==null?n.chainId=this.getChainId():n.chainId=Promise.all([Promise.resolve(n.chainId),this.getChainId()]).then(s=>(s[1]!==0&&s[0]!==s[1]&&ya.throwArgumentError("chainId address mismatch","transaction",e),s[0])),yield Nr(n)})}_checkProvider(e){this.provider||ya.throwError("missing provider",se.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class BS extends qm{constructor(e,n){super(),Ae(this,"address",e),Ae(this,"provider",n||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,n){return Promise.resolve().then(()=>{ya.throwError(e,se.errors.UNSUPPORTED_OPERATION,{operation:n})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,n,r){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new BS(this.address,e)}}var Xz={},Xt={},Vv=Jz;function Jz(t,e){if(!t)throw new Error(e||"Assertion failed")}Jz.equal=function(e,n,r){if(e!=n)throw new Error(r||"Assertion failed: "+e+" != "+n)};var mN={exports:{}};typeof Object.create=="function"?mN.exports=function(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:mN.exports=function(e,n){if(n){e.super_=n;var r=function(){};r.prototype=n.prototype,e.prototype=new r,e.prototype.constructor=e}};var Xue=mN.exports,Jue=Vv,Que=Xue;Xt.inherits=Que;function ede(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function tde(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var n=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),s=0;s<t.length;s+=2)n.push(parseInt(t[s]+t[s+1],16))}else for(var r=0,s=0;s<t.length;s++){var i=t.charCodeAt(s);i<128?n[r++]=i:i<2048?(n[r++]=i>>6|192,n[r++]=i&63|128):ede(t,s)?(i=65536+((i&1023)<<10)+(t.charCodeAt(++s)&1023),n[r++]=i>>18|240,n[r++]=i>>12&63|128,n[r++]=i>>6&63|128,n[r++]=i&63|128):(n[r++]=i>>12|224,n[r++]=i>>6&63|128,n[r++]=i&63|128)}else for(s=0;s<t.length;s++)n[s]=t[s]|0;return n}Xt.toArray=tde;function nde(t){for(var e="",n=0;n<t.length;n++)e+=eV(t[n].toString(16));return e}Xt.toHex=nde;function Qz(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}Xt.htonl=Qz;function rde(t,e){for(var n="",r=0;r<t.length;r++){var s=t[r];e==="little"&&(s=Qz(s)),n+=tV(s.toString(16))}return n}Xt.toHex32=rde;function eV(t){return t.length===1?"0"+t:t}Xt.zero2=eV;function tV(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}Xt.zero8=tV;function sde(t,e,n,r){var s=n-e;Jue(s%4===0);for(var i=new Array(s/4),a=0,o=e;a<i.length;a++,o+=4){var l;r==="big"?l=t[o]<<24|t[o+1]<<16|t[o+2]<<8|t[o+3]:l=t[o+3]<<24|t[o+2]<<16|t[o+1]<<8|t[o],i[a]=l>>>0}return i}Xt.join32=sde;function ide(t,e){for(var n=new Array(t.length*4),r=0,s=0;r<t.length;r++,s+=4){var i=t[r];e==="big"?(n[s]=i>>>24,n[s+1]=i>>>16&255,n[s+2]=i>>>8&255,n[s+3]=i&255):(n[s+3]=i>>>24,n[s+2]=i>>>16&255,n[s+1]=i>>>8&255,n[s]=i&255)}return n}Xt.split32=ide;function ade(t,e){return t>>>e|t<<32-e}Xt.rotr32=ade;function ode(t,e){return t<<e|t>>>32-e}Xt.rotl32=ode;function lde(t,e){return t+e>>>0}Xt.sum32=lde;function cde(t,e,n){return t+e+n>>>0}Xt.sum32_3=cde;function ude(t,e,n,r){return t+e+n+r>>>0}Xt.sum32_4=ude;function dde(t,e,n,r,s){return t+e+n+r+s>>>0}Xt.sum32_5=dde;function pde(t,e,n,r){var s=t[e],i=t[e+1],a=r+i>>>0,o=(a<r?1:0)+n+s;t[e]=o>>>0,t[e+1]=a}Xt.sum64=pde;function fde(t,e,n,r){var s=e+r>>>0,i=(s<e?1:0)+t+n;return i>>>0}Xt.sum64_hi=fde;function hde(t,e,n,r){var s=e+r;return s>>>0}Xt.sum64_lo=hde;function mde(t,e,n,r,s,i,a,o){var l=0,u=e;u=u+r>>>0,l+=u<e?1:0,u=u+i>>>0,l+=u<i?1:0,u=u+o>>>0,l+=u<o?1:0;var d=t+n+s+a+l;return d>>>0}Xt.sum64_4_hi=mde;function yde(t,e,n,r,s,i,a,o){var l=e+r+i+o;return l>>>0}Xt.sum64_4_lo=yde;function gde(t,e,n,r,s,i,a,o,l,u){var d=0,p=e;p=p+r>>>0,d+=p<e?1:0,p=p+i>>>0,d+=p<i?1:0,p=p+o>>>0,d+=p<o?1:0,p=p+u>>>0,d+=p<u?1:0;var f=t+n+s+a+l+d;return f>>>0}Xt.sum64_5_hi=gde;function vde(t,e,n,r,s,i,a,o,l,u){var d=e+r+i+o+u;return d>>>0}Xt.sum64_5_lo=vde;function bde(t,e,n){var r=e<<32-n|t>>>n;return r>>>0}Xt.rotr64_hi=bde;function xde(t,e,n){var r=t<<32-n|e>>>n;return r>>>0}Xt.rotr64_lo=xde;function wde(t,e,n){return t>>>n}Xt.shr64_hi=wde;function Tde(t,e,n){var r=t<<32-n|e>>>n;return r>>>0}Xt.shr64_lo=Tde;var Zm={},N4=Xt,Ade=Vv;function QT(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Zm.BlockHash=QT;QT.prototype.update=function(e,n){if(e=N4.toArray(e,n),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var r=e.length%this._delta8;this.pending=e.slice(e.length-r,e.length),this.pending.length===0&&(this.pending=null),e=N4.join32(e,0,e.length-r,this.endian);for(var s=0;s<e.length;s+=this._delta32)this._update(e,s,s+this._delta32)}return this};QT.prototype.digest=function(e){return this.update(this._pad()),Ade(this.pending===null),this._digest(e)};QT.prototype._pad=function(){var e=this.pendingTotal,n=this._delta8,r=n-(e+this.padLength)%n,s=new Array(r+this.padLength);s[0]=128;for(var i=1;i<r;i++)s[i]=0;if(e<<=3,this.endian==="big"){for(var a=8;a<this.padLength;a++)s[i++]=0;s[i++]=0,s[i++]=0,s[i++]=0,s[i++]=0,s[i++]=e>>>24&255,s[i++]=e>>>16&255,s[i++]=e>>>8&255,s[i++]=e&255}else for(s[i++]=e&255,s[i++]=e>>>8&255,s[i++]=e>>>16&255,s[i++]=e>>>24&255,s[i++]=0,s[i++]=0,s[i++]=0,s[i++]=0,a=8;a<this.padLength;a++)s[i++]=0;return s};var Xm={},$l={},Ide=Xt,hl=Ide.rotr32;function kde(t,e,n,r){if(t===0)return nV(e,n,r);if(t===1||t===3)return sV(e,n,r);if(t===2)return rV(e,n,r)}$l.ft_1=kde;function nV(t,e,n){return t&e^~t&n}$l.ch32=nV;function rV(t,e,n){return t&e^t&n^e&n}$l.maj32=rV;function sV(t,e,n){return t^e^n}$l.p32=sV;function Cde(t){return hl(t,2)^hl(t,13)^hl(t,22)}$l.s0_256=Cde;function Nde(t){return hl(t,6)^hl(t,11)^hl(t,25)}$l.s1_256=Nde;function Ede(t){return hl(t,7)^hl(t,18)^t>>>3}$l.g0_256=Ede;function Sde(t){return hl(t,17)^hl(t,19)^t>>>10}$l.g1_256=Sde;var vm=Xt,Rde=Zm,Pde=$l,tI=vm.rotl32,My=vm.sum32,Mde=vm.sum32_5,jde=Pde.ft_1,iV=Rde.BlockHash,_de=[1518500249,1859775393,2400959708,3395469782];function Sl(){if(!(this instanceof Sl))return new Sl;iV.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}vm.inherits(Sl,iV);var Dde=Sl;Sl.blockSize=512;Sl.outSize=160;Sl.hmacStrength=80;Sl.padLength=64;Sl.prototype._update=function(e,n){for(var r=this.W,s=0;s<16;s++)r[s]=e[n+s];for(;s<r.length;s++)r[s]=tI(r[s-3]^r[s-8]^r[s-14]^r[s-16],1);var i=this.h[0],a=this.h[1],o=this.h[2],l=this.h[3],u=this.h[4];for(s=0;s<r.length;s++){var d=~~(s/20),p=Mde(tI(i,5),jde(d,a,o,l),u,r[s],_de[d]);u=l,l=o,o=tI(a,30),a=i,i=p}this.h[0]=My(this.h[0],i),this.h[1]=My(this.h[1],a),this.h[2]=My(this.h[2],o),this.h[3]=My(this.h[3],l),this.h[4]=My(this.h[4],u)};Sl.prototype._digest=function(e){return e==="hex"?vm.toHex32(this.h,"big"):vm.split32(this.h,"big")};var bm=Xt,Ode=Zm,Jm=$l,Lde=Vv,Ka=bm.sum32,$de=bm.sum32_4,Fde=bm.sum32_5,Bde=Jm.ch32,Ude=Jm.maj32,zde=Jm.s0_256,Vde=Jm.s1_256,Hde=Jm.g0_256,Wde=Jm.g1_256,aV=Ode.BlockHash,Gde=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Rl(){if(!(this instanceof Rl))return new Rl;aV.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Gde,this.W=new Array(64)}bm.inherits(Rl,aV);var oV=Rl;Rl.blockSize=512;Rl.outSize=256;Rl.hmacStrength=192;Rl.padLength=64;Rl.prototype._update=function(e,n){for(var r=this.W,s=0;s<16;s++)r[s]=e[n+s];for(;s<r.length;s++)r[s]=$de(Wde(r[s-2]),r[s-7],Hde(r[s-15]),r[s-16]);var i=this.h[0],a=this.h[1],o=this.h[2],l=this.h[3],u=this.h[4],d=this.h[5],p=this.h[6],f=this.h[7];for(Lde(this.k.length===r.length),s=0;s<r.length;s++){var h=Fde(f,Vde(u),Bde(u,d,p),this.k[s],r[s]),y=Ka(zde(i),Ude(i,a,o));f=p,p=d,d=u,u=Ka(l,h),l=o,o=a,a=i,i=Ka(h,y)}this.h[0]=Ka(this.h[0],i),this.h[1]=Ka(this.h[1],a),this.h[2]=Ka(this.h[2],o),this.h[3]=Ka(this.h[3],l),this.h[4]=Ka(this.h[4],u),this.h[5]=Ka(this.h[5],d),this.h[6]=Ka(this.h[6],p),this.h[7]=Ka(this.h[7],f)};Rl.prototype._digest=function(e){return e==="hex"?bm.toHex32(this.h,"big"):bm.split32(this.h,"big")};var yN=Xt,lV=oV;function Lc(){if(!(this instanceof Lc))return new Lc;lV.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}yN.inherits(Lc,lV);var Kde=Lc;Lc.blockSize=512;Lc.outSize=224;Lc.hmacStrength=192;Lc.padLength=64;Lc.prototype._digest=function(e){return e==="hex"?yN.toHex32(this.h.slice(0,7),"big"):yN.split32(this.h.slice(0,7),"big")};var Mi=Xt,Yde=Zm,qde=Vv,ml=Mi.rotr64_hi,yl=Mi.rotr64_lo,cV=Mi.shr64_hi,uV=Mi.shr64_lo,au=Mi.sum64,nI=Mi.sum64_hi,rI=Mi.sum64_lo,Zde=Mi.sum64_4_hi,Xde=Mi.sum64_4_lo,Jde=Mi.sum64_5_hi,Qde=Mi.sum64_5_lo,dV=Yde.BlockHash,epe=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Ro(){if(!(this instanceof Ro))return new Ro;dV.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=epe,this.W=new Array(160)}Mi.inherits(Ro,dV);var pV=Ro;Ro.blockSize=1024;Ro.outSize=512;Ro.hmacStrength=192;Ro.padLength=128;Ro.prototype._prepareBlock=function(e,n){for(var r=this.W,s=0;s<32;s++)r[s]=e[n+s];for(;s<r.length;s+=2){var i=dpe(r[s-4],r[s-3]),a=ppe(r[s-4],r[s-3]),o=r[s-14],l=r[s-13],u=cpe(r[s-30],r[s-29]),d=upe(r[s-30],r[s-29]),p=r[s-32],f=r[s-31];r[s]=Zde(i,a,o,l,u,d,p,f),r[s+1]=Xde(i,a,o,l,u,d,p,f)}};Ro.prototype._update=function(e,n){this._prepareBlock(e,n);var r=this.W,s=this.h[0],i=this.h[1],a=this.h[2],o=this.h[3],l=this.h[4],u=this.h[5],d=this.h[6],p=this.h[7],f=this.h[8],h=this.h[9],y=this.h[10],m=this.h[11],b=this.h[12],v=this.h[13],g=this.h[14],x=this.h[15];qde(this.k.length===r.length);for(var T=0;T<r.length;T+=2){var I=g,C=x,N=ope(f,h),P=lpe(f,h),L=tpe(f,h,y,m,b),U=npe(f,h,y,m,b,v),$=this.k[T],B=this.k[T+1],_=r[T],w=r[T+1],k=Jde(I,C,N,P,L,U,$,B,_,w),S=Qde(I,C,N,P,L,U,$,B,_,w);I=ipe(s,i),C=ape(s,i),N=rpe(s,i,a,o,l),P=spe(s,i,a,o,l,u);var M=nI(I,C,N,P),R=rI(I,C,N,P);g=b,x=v,b=y,v=m,y=f,m=h,f=nI(d,p,k,S),h=rI(p,p,k,S),d=l,p=u,l=a,u=o,a=s,o=i,s=nI(k,S,M,R),i=rI(k,S,M,R)}au(this.h,0,s,i),au(this.h,2,a,o),au(this.h,4,l,u),au(this.h,6,d,p),au(this.h,8,f,h),au(this.h,10,y,m),au(this.h,12,b,v),au(this.h,14,g,x)};Ro.prototype._digest=function(e){return e==="hex"?Mi.toHex32(this.h,"big"):Mi.split32(this.h,"big")};function tpe(t,e,n,r,s){var i=t&n^~t&s;return i<0&&(i+=4294967296),i}function npe(t,e,n,r,s,i){var a=e&r^~e&i;return a<0&&(a+=4294967296),a}function rpe(t,e,n,r,s){var i=t&n^t&s^n&s;return i<0&&(i+=4294967296),i}function spe(t,e,n,r,s,i){var a=e&r^e&i^r&i;return a<0&&(a+=4294967296),a}function ipe(t,e){var n=ml(t,e,28),r=ml(e,t,2),s=ml(e,t,7),i=n^r^s;return i<0&&(i+=4294967296),i}function ape(t,e){var n=yl(t,e,28),r=yl(e,t,2),s=yl(e,t,7),i=n^r^s;return i<0&&(i+=4294967296),i}function ope(t,e){var n=ml(t,e,14),r=ml(t,e,18),s=ml(e,t,9),i=n^r^s;return i<0&&(i+=4294967296),i}function lpe(t,e){var n=yl(t,e,14),r=yl(t,e,18),s=yl(e,t,9),i=n^r^s;return i<0&&(i+=4294967296),i}function cpe(t,e){var n=ml(t,e,1),r=ml(t,e,8),s=cV(t,e,7),i=n^r^s;return i<0&&(i+=4294967296),i}function upe(t,e){var n=yl(t,e,1),r=yl(t,e,8),s=uV(t,e,7),i=n^r^s;return i<0&&(i+=4294967296),i}function dpe(t,e){var n=ml(t,e,19),r=ml(e,t,29),s=cV(t,e,6),i=n^r^s;return i<0&&(i+=4294967296),i}function ppe(t,e){var n=yl(t,e,19),r=yl(e,t,29),s=uV(t,e,6),i=n^r^s;return i<0&&(i+=4294967296),i}var gN=Xt,fV=pV;function $c(){if(!(this instanceof $c))return new $c;fV.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}gN.inherits($c,fV);var fpe=$c;$c.blockSize=1024;$c.outSize=384;$c.hmacStrength=192;$c.padLength=128;$c.prototype._digest=function(e){return e==="hex"?gN.toHex32(this.h.slice(0,12),"big"):gN.split32(this.h.slice(0,12),"big")};Xm.sha1=Dde;Xm.sha224=Kde;Xm.sha256=oV;Xm.sha384=fpe;Xm.sha512=pV;var hV={},rf=Xt,hpe=Zm,Hb=rf.rotl32,E4=rf.sum32,jy=rf.sum32_3,S4=rf.sum32_4,mV=hpe.BlockHash;function Pl(){if(!(this instanceof Pl))return new Pl;mV.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}rf.inherits(Pl,mV);hV.ripemd160=Pl;Pl.blockSize=512;Pl.outSize=160;Pl.hmacStrength=192;Pl.padLength=64;Pl.prototype._update=function(e,n){for(var r=this.h[0],s=this.h[1],i=this.h[2],a=this.h[3],o=this.h[4],l=r,u=s,d=i,p=a,f=o,h=0;h<80;h++){var y=E4(Hb(S4(r,R4(h,s,i,a),e[gpe[h]+n],mpe(h)),bpe[h]),o);r=o,o=a,a=Hb(i,10),i=s,s=y,y=E4(Hb(S4(l,R4(79-h,u,d,p),e[vpe[h]+n],ype(h)),xpe[h]),f),l=f,f=p,p=Hb(d,10),d=u,u=y}y=jy(this.h[1],i,p),this.h[1]=jy(this.h[2],a,f),this.h[2]=jy(this.h[3],o,l),this.h[3]=jy(this.h[4],r,u),this.h[4]=jy(this.h[0],s,d),this.h[0]=y};Pl.prototype._digest=function(e){return e==="hex"?rf.toHex32(this.h,"little"):rf.split32(this.h,"little")};function R4(t,e,n,r){return t<=15?e^n^r:t<=31?e&n|~e&r:t<=47?(e|~n)^r:t<=63?e&r|n&~r:e^(n|~r)}function mpe(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function ype(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var gpe=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],vpe=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],bpe=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],xpe=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],wpe=Xt,Tpe=Vv;function xm(t,e,n){if(!(this instanceof xm))return new xm(t,e,n);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(wpe.toArray(e,n))}var Ape=xm;xm.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),Tpe(e.length<=this.blockSize);for(var n=e.length;n<this.blockSize;n++)e.push(0);for(n=0;n<e.length;n++)e[n]^=54;for(this.inner=new this.Hash().update(e),n=0;n<e.length;n++)e[n]^=106;this.outer=new this.Hash().update(e)};xm.prototype.update=function(e,n){return this.inner.update(e,n),this};xm.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(t){var e=t;e.utils=Xt,e.common=Zm,e.sha=Xm,e.ripemd=hV,e.hmac=Ape,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(Xz);const di=wf(Xz);function Qm(t,e,n){return n={path:e,exports:{},require:function(r,s){return Ipe(r,s??n.path)}},t(n,n.exports),n.exports}function Ipe(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var US=yV;function yV(t,e){if(!t)throw new Error(e||"Assertion failed")}yV.equal=function(e,n,r){if(e!=n)throw new Error(r||"Assertion failed: "+e+" != "+n)};var mo=Qm(function(t,e){var n=e;function r(a,o){if(Array.isArray(a))return a.slice();if(!a)return[];var l=[];if(typeof a!="string"){for(var u=0;u<a.length;u++)l[u]=a[u]|0;return l}if(o==="hex"){a=a.replace(/[^a-z0-9]+/ig,""),a.length%2!==0&&(a="0"+a);for(var u=0;u<a.length;u+=2)l.push(parseInt(a[u]+a[u+1],16))}else for(var u=0;u<a.length;u++){var d=a.charCodeAt(u),p=d>>8,f=d&255;p?l.push(p,f):l.push(f)}return l}n.toArray=r;function s(a){return a.length===1?"0"+a:a}n.zero2=s;function i(a){for(var o="",l=0;l<a.length;l++)o+=s(a[l].toString(16));return o}n.toHex=i,n.encode=function(o,l){return l==="hex"?i(o):o}}),oa=Qm(function(t,e){var n=e;n.assert=US,n.toArray=mo.toArray,n.zero2=mo.zero2,n.toHex=mo.toHex,n.encode=mo.encode;function r(l,u,d){var p=new Array(Math.max(l.bitLength(),d)+1),f;for(f=0;f<p.length;f+=1)p[f]=0;var h=1<<u+1,y=l.clone();for(f=0;f<p.length;f++){var m,b=y.andln(h-1);y.isOdd()?(b>(h>>1)-1?m=(h>>1)-b:m=b,y.isubn(m)):m=0,p[f]=m,y.iushrn(1)}return p}n.getNAF=r;function s(l,u){var d=[[],[]];l=l.clone(),u=u.clone();for(var p=0,f=0,h;l.cmpn(-p)>0||u.cmpn(-f)>0;){var y=l.andln(3)+p&3,m=u.andln(3)+f&3;y===3&&(y=-1),m===3&&(m=-1);var b;y&1?(h=l.andln(7)+p&7,(h===3||h===5)&&m===2?b=-y:b=y):b=0,d[0].push(b);var v;m&1?(h=u.andln(7)+f&7,(h===3||h===5)&&y===2?v=-m:v=m):v=0,d[1].push(v),2*p===b+1&&(p=1-p),2*f===v+1&&(f=1-f),l.iushrn(1),u.iushrn(1)}return d}n.getJSF=s;function i(l,u,d){var p="_"+u;l.prototype[u]=function(){return this[p]!==void 0?this[p]:this[p]=d.call(this)}}n.cachedProperty=i;function a(l){return typeof l=="string"?n.toArray(l,"hex"):l}n.parseBytes=a;function o(l){return new kt(l,"hex","le")}n.intFromLE=o}),g1=oa.getNAF,kpe=oa.getJSF,v1=oa.assert;function Md(t,e){this.type=t,this.p=new kt(e.p,16),this.red=e.prime?kt.red(e.prime):kt.mont(this.p),this.zero=new kt(0).toRed(this.red),this.one=new kt(1).toRed(this.red),this.two=new kt(2).toRed(this.red),this.n=e.n&&new kt(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Cf=Md;Md.prototype.point=function(){throw new Error("Not implemented")};Md.prototype.validate=function(){throw new Error("Not implemented")};Md.prototype._fixedNafMul=function(e,n){v1(e.precomputed);var r=e._getDoubles(),s=g1(n,1,this._bitLength),i=(1<<r.step+1)-(r.step%2===0?2:1);i/=3;var a=[],o,l;for(o=0;o<s.length;o+=r.step){l=0;for(var u=o+r.step-1;u>=o;u--)l=(l<<1)+s[u];a.push(l)}for(var d=this.jpoint(null,null,null),p=this.jpoint(null,null,null),f=i;f>0;f--){for(o=0;o<a.length;o++)l=a[o],l===f?p=p.mixedAdd(r.points[o]):l===-f&&(p=p.mixedAdd(r.points[o].neg()));d=d.add(p)}return d.toP()};Md.prototype._wnafMul=function(e,n){var r=4,s=e._getNAFPoints(r);r=s.wnd;for(var i=s.points,a=g1(n,r,this._bitLength),o=this.jpoint(null,null,null),l=a.length-1;l>=0;l--){for(var u=0;l>=0&&a[l]===0;l--)u++;if(l>=0&&u++,o=o.dblp(u),l<0)break;var d=a[l];v1(d!==0),e.type==="affine"?d>0?o=o.mixedAdd(i[d-1>>1]):o=o.mixedAdd(i[-d-1>>1].neg()):d>0?o=o.add(i[d-1>>1]):o=o.add(i[-d-1>>1].neg())}return e.type==="affine"?o.toP():o};Md.prototype._wnafMulAdd=function(e,n,r,s,i){var a=this._wnafT1,o=this._wnafT2,l=this._wnafT3,u=0,d,p,f;for(d=0;d<s;d++){f=n[d];var h=f._getNAFPoints(e);a[d]=h.wnd,o[d]=h.points}for(d=s-1;d>=1;d-=2){var y=d-1,m=d;if(a[y]!==1||a[m]!==1){l[y]=g1(r[y],a[y],this._bitLength),l[m]=g1(r[m],a[m],this._bitLength),u=Math.max(l[y].length,u),u=Math.max(l[m].length,u);continue}var b=[n[y],null,null,n[m]];n[y].y.cmp(n[m].y)===0?(b[1]=n[y].add(n[m]),b[2]=n[y].toJ().mixedAdd(n[m].neg())):n[y].y.cmp(n[m].y.redNeg())===0?(b[1]=n[y].toJ().mixedAdd(n[m]),b[2]=n[y].add(n[m].neg())):(b[1]=n[y].toJ().mixedAdd(n[m]),b[2]=n[y].toJ().mixedAdd(n[m].neg()));var v=[-3,-1,-5,-7,0,7,5,1,3],g=kpe(r[y],r[m]);for(u=Math.max(g[0].length,u),l[y]=new Array(u),l[m]=new Array(u),p=0;p<u;p++){var x=g[0][p]|0,T=g[1][p]|0;l[y][p]=v[(x+1)*3+(T+1)],l[m][p]=0,o[y]=b}}var I=this.jpoint(null,null,null),C=this._wnafT4;for(d=u;d>=0;d--){for(var N=0;d>=0;){var P=!0;for(p=0;p<s;p++)C[p]=l[p][d]|0,C[p]!==0&&(P=!1);if(!P)break;N++,d--}if(d>=0&&N++,I=I.dblp(N),d<0)break;for(p=0;p<s;p++){var L=C[p];L!==0&&(L>0?f=o[p][L-1>>1]:L<0&&(f=o[p][-L-1>>1].neg()),f.type==="affine"?I=I.mixedAdd(f):I=I.add(f))}}for(d=0;d<s;d++)o[d]=null;return i?I:I.toP()};function Ua(t,e){this.curve=t,this.type=e,this.precomputed=null}Md.BasePoint=Ua;Ua.prototype.eq=function(){throw new Error("Not implemented")};Ua.prototype.validate=function(){return this.curve.validate(this)};Md.prototype.decodePoint=function(e,n){e=oa.toArray(e,n);var r=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*r){e[0]===6?v1(e[e.length-1]%2===0):e[0]===7&&v1(e[e.length-1]%2===1);var s=this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));return s}else if((e[0]===2||e[0]===3)&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),e[0]===3);throw new Error("Unknown point format")};Ua.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Ua.prototype._encode=function(e){var n=this.curve.p.byteLength(),r=this.getX().toArray("be",n);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",n))};Ua.prototype.encode=function(e,n){return oa.encode(this._encode(n),e)};Ua.prototype.precompute=function(e){if(this.precomputed)return this;var n={doubles:null,naf:null,beta:null};return n.naf=this._getNAFPoints(8),n.doubles=this._getDoubles(4,e),n.beta=this._getBeta(),this.precomputed=n,this};Ua.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var n=this.precomputed.doubles;return n?n.points.length>=Math.ceil((e.bitLength()+1)/n.step):!1};Ua.prototype._getDoubles=function(e,n){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],s=this,i=0;i<n;i+=e){for(var a=0;a<e;a++)s=s.dbl();r.push(s)}return{step:e,points:r}};Ua.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var n=[this],r=(1<<e)-1,s=r===1?null:this.dbl(),i=1;i<r;i++)n[i]=n[i-1].add(s);return{wnd:e,points:n}};Ua.prototype._getBeta=function(){return null};Ua.prototype.dblp=function(e){for(var n=this,r=0;r<e;r++)n=n.dbl();return n};var zS=Qm(function(t){typeof Object.create=="function"?t.exports=function(n,r){r&&(n.super_=r,n.prototype=Object.create(r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(n,r){if(r){n.super_=r;var s=function(){};s.prototype=r.prototype,n.prototype=new s,n.prototype.constructor=n}}}),Cpe=oa.assert;function za(t){Cf.call(this,"short",t),this.a=new kt(t.a,16).toRed(this.red),this.b=new kt(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}zS(za,Cf);var Npe=za;za.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var n,r;if(e.beta)n=new kt(e.beta,16).toRed(this.red);else{var s=this._getEndoRoots(this.p);n=s[0].cmp(s[1])<0?s[0]:s[1],n=n.toRed(this.red)}if(e.lambda)r=new kt(e.lambda,16);else{var i=this._getEndoRoots(this.n);this.g.mul(i[0]).x.cmp(this.g.x.redMul(n))===0?r=i[0]:(r=i[1],Cpe(this.g.mul(r).x.cmp(this.g.x.redMul(n))===0))}var a;return e.basis?a=e.basis.map(function(o){return{a:new kt(o.a,16),b:new kt(o.b,16)}}):a=this._getEndoBasis(r),{beta:n,lambda:r,basis:a}}};za.prototype._getEndoRoots=function(e){var n=e===this.p?this.red:kt.mont(e),r=new kt(2).toRed(n).redInvm(),s=r.redNeg(),i=new kt(3).toRed(n).redNeg().redSqrt().redMul(r),a=s.redAdd(i).fromRed(),o=s.redSub(i).fromRed();return[a,o]};za.prototype._getEndoBasis=function(e){for(var n=this.n.ushrn(Math.floor(this.n.bitLength()/2)),r=e,s=this.n.clone(),i=new kt(1),a=new kt(0),o=new kt(0),l=new kt(1),u,d,p,f,h,y,m,b=0,v,g;r.cmpn(0)!==0;){var x=s.div(r);v=s.sub(x.mul(r)),g=o.sub(x.mul(i));var T=l.sub(x.mul(a));if(!p&&v.cmp(n)<0)u=m.neg(),d=i,p=v.neg(),f=g;else if(p&&++b===2)break;m=v,s=r,r=v,o=i,i=g,l=a,a=T}h=v.neg(),y=g;var I=p.sqr().add(f.sqr()),C=h.sqr().add(y.sqr());return C.cmp(I)>=0&&(h=u,y=d),p.negative&&(p=p.neg(),f=f.neg()),h.negative&&(h=h.neg(),y=y.neg()),[{a:p,b:f},{a:h,b:y}]};za.prototype._endoSplit=function(e){var n=this.endo.basis,r=n[0],s=n[1],i=s.b.mul(e).divRound(this.n),a=r.b.neg().mul(e).divRound(this.n),o=i.mul(r.a),l=a.mul(s.a),u=i.mul(r.b),d=a.mul(s.b),p=e.sub(o).sub(l),f=u.add(d).neg();return{k1:p,k2:f}};za.prototype.pointFromX=function(e,n){e=new kt(e,16),e.red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),s=r.redSqrt();if(s.redSqr().redSub(r).cmp(this.zero)!==0)throw new Error("invalid point");var i=s.fromRed().isOdd();return(n&&!i||!n&&i)&&(s=s.redNeg()),this.point(e,s)};za.prototype.validate=function(e){if(e.inf)return!0;var n=e.x,r=e.y,s=this.a.redMul(n),i=n.redSqr().redMul(n).redIAdd(s).redIAdd(this.b);return r.redSqr().redISub(i).cmpn(0)===0};za.prototype._endoWnafMulAdd=function(e,n,r){for(var s=this._endoWnafT1,i=this._endoWnafT2,a=0;a<e.length;a++){var o=this._endoSplit(n[a]),l=e[a],u=l._getBeta();o.k1.negative&&(o.k1.ineg(),l=l.neg(!0)),o.k2.negative&&(o.k2.ineg(),u=u.neg(!0)),s[a*2]=l,s[a*2+1]=u,i[a*2]=o.k1,i[a*2+1]=o.k2}for(var d=this._wnafMulAdd(1,s,i,a*2,r),p=0;p<a*2;p++)s[p]=null,i[p]=null;return d};function ss(t,e,n,r){Cf.BasePoint.call(this,t,"affine"),e===null&&n===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new kt(e,16),this.y=new kt(n,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}zS(ss,Cf.BasePoint);za.prototype.point=function(e,n,r){return new ss(this,e,n,r)};za.prototype.pointFromJSON=function(e,n){return ss.fromJSON(this,e,n)};ss.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var n=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,s=function(i){return r.point(i.x.redMul(r.endo.beta),i.y)};e.beta=n,n.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(s)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(s)}}}return n}};ss.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};ss.fromJSON=function(e,n,r){typeof n=="string"&&(n=JSON.parse(n));var s=e.point(n[0],n[1],r);if(!n[2])return s;function i(o){return e.point(o[0],o[1],r)}var a=n[2];return s.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[s].concat(a.doubles.points.map(i))},naf:a.naf&&{wnd:a.naf.wnd,points:[s].concat(a.naf.points.map(i))}},s};ss.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};ss.prototype.isInfinity=function(){return this.inf};ss.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var n=this.y.redSub(e.y);n.cmpn(0)!==0&&(n=n.redMul(this.x.redSub(e.x).redInvm()));var r=n.redSqr().redISub(this.x).redISub(e.x),s=n.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,s)};ss.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var n=this.curve.a,r=this.x.redSqr(),s=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(n).redMul(s),a=i.redSqr().redISub(this.x.redAdd(this.x)),o=i.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,o)};ss.prototype.getX=function(){return this.x.fromRed()};ss.prototype.getY=function(){return this.y.fromRed()};ss.prototype.mul=function(e){return e=new kt(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};ss.prototype.mulAdd=function(e,n,r){var s=[this,n],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(s,i):this.curve._wnafMulAdd(1,s,i,2)};ss.prototype.jmulAdd=function(e,n,r){var s=[this,n],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(s,i,!0):this.curve._wnafMulAdd(1,s,i,2,!0)};ss.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};ss.prototype.neg=function(e){if(this.inf)return this;var n=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,s=function(i){return i.neg()};n.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(s)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(s)}}}return n};ss.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function vs(t,e,n,r){Cf.BasePoint.call(this,t,"jacobian"),e===null&&n===null&&r===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new kt(0)):(this.x=new kt(e,16),this.y=new kt(n,16),this.z=new kt(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}zS(vs,Cf.BasePoint);za.prototype.jpoint=function(e,n,r){return new vs(this,e,n,r)};vs.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),n=e.redSqr(),r=this.x.redMul(n),s=this.y.redMul(n).redMul(e);return this.curve.point(r,s)};vs.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};vs.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var n=e.z.redSqr(),r=this.z.redSqr(),s=this.x.redMul(n),i=e.x.redMul(r),a=this.y.redMul(n.redMul(e.z)),o=e.y.redMul(r.redMul(this.z)),l=s.redSub(i),u=a.redSub(o);if(l.cmpn(0)===0)return u.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var d=l.redSqr(),p=d.redMul(l),f=s.redMul(d),h=u.redSqr().redIAdd(p).redISub(f).redISub(f),y=u.redMul(f.redISub(h)).redISub(a.redMul(p)),m=this.z.redMul(e.z).redMul(l);return this.curve.jpoint(h,y,m)};vs.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var n=this.z.redSqr(),r=this.x,s=e.x.redMul(n),i=this.y,a=e.y.redMul(n).redMul(this.z),o=r.redSub(s),l=i.redSub(a);if(o.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=o.redSqr(),d=u.redMul(o),p=r.redMul(u),f=l.redSqr().redIAdd(d).redISub(p).redISub(p),h=l.redMul(p.redISub(f)).redISub(i.redMul(d)),y=this.z.redMul(o);return this.curve.jpoint(f,h,y)};vs.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var n;if(this.curve.zeroA||this.curve.threeA){var r=this;for(n=0;n<e;n++)r=r.dbl();return r}var s=this.curve.a,i=this.curve.tinv,a=this.x,o=this.y,l=this.z,u=l.redSqr().redSqr(),d=o.redAdd(o);for(n=0;n<e;n++){var p=a.redSqr(),f=d.redSqr(),h=f.redSqr(),y=p.redAdd(p).redIAdd(p).redIAdd(s.redMul(u)),m=a.redMul(f),b=y.redSqr().redISub(m.redAdd(m)),v=m.redISub(b),g=y.redMul(v);g=g.redIAdd(g).redISub(h);var x=d.redMul(l);n+1<e&&(u=u.redMul(h)),a=b,l=x,d=g}return this.curve.jpoint(a,d.redMul(i),l)};vs.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};vs.prototype._zeroDbl=function(){var e,n,r;if(this.zOne){var s=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(s).redISub(a);o=o.redIAdd(o);var l=s.redAdd(s).redIAdd(s),u=l.redSqr().redISub(o).redISub(o),d=a.redIAdd(a);d=d.redIAdd(d),d=d.redIAdd(d),e=u,n=l.redMul(o.redISub(u)).redISub(d),r=this.y.redAdd(this.y)}else{var p=this.x.redSqr(),f=this.y.redSqr(),h=f.redSqr(),y=this.x.redAdd(f).redSqr().redISub(p).redISub(h);y=y.redIAdd(y);var m=p.redAdd(p).redIAdd(p),b=m.redSqr(),v=h.redIAdd(h);v=v.redIAdd(v),v=v.redIAdd(v),e=b.redISub(y).redISub(y),n=m.redMul(y.redISub(e)).redISub(v),r=this.y.redMul(this.z),r=r.redIAdd(r)}return this.curve.jpoint(e,n,r)};vs.prototype._threeDbl=function(){var e,n,r;if(this.zOne){var s=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(s).redISub(a);o=o.redIAdd(o);var l=s.redAdd(s).redIAdd(s).redIAdd(this.curve.a),u=l.redSqr().redISub(o).redISub(o);e=u;var d=a.redIAdd(a);d=d.redIAdd(d),d=d.redIAdd(d),n=l.redMul(o.redISub(u)).redISub(d),r=this.y.redAdd(this.y)}else{var p=this.z.redSqr(),f=this.y.redSqr(),h=this.x.redMul(f),y=this.x.redSub(p).redMul(this.x.redAdd(p));y=y.redAdd(y).redIAdd(y);var m=h.redIAdd(h);m=m.redIAdd(m);var b=m.redAdd(m);e=y.redSqr().redISub(b),r=this.y.redAdd(this.z).redSqr().redISub(f).redISub(p);var v=f.redSqr();v=v.redIAdd(v),v=v.redIAdd(v),v=v.redIAdd(v),n=y.redMul(m.redISub(e)).redISub(v)}return this.curve.jpoint(e,n,r)};vs.prototype._dbl=function(){var e=this.curve.a,n=this.x,r=this.y,s=this.z,i=s.redSqr().redSqr(),a=n.redSqr(),o=r.redSqr(),l=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(i)),u=n.redAdd(n);u=u.redIAdd(u);var d=u.redMul(o),p=l.redSqr().redISub(d.redAdd(d)),f=d.redISub(p),h=o.redSqr();h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var y=l.redMul(f).redISub(h),m=r.redAdd(r).redMul(s);return this.curve.jpoint(p,y,m)};vs.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),n=this.y.redSqr(),r=this.z.redSqr(),s=n.redSqr(),i=e.redAdd(e).redIAdd(e),a=i.redSqr(),o=this.x.redAdd(n).redSqr().redISub(e).redISub(s);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(a);var l=o.redSqr(),u=s.redIAdd(s);u=u.redIAdd(u),u=u.redIAdd(u),u=u.redIAdd(u);var d=i.redIAdd(o).redSqr().redISub(a).redISub(l).redISub(u),p=n.redMul(d);p=p.redIAdd(p),p=p.redIAdd(p);var f=this.x.redMul(l).redISub(p);f=f.redIAdd(f),f=f.redIAdd(f);var h=this.y.redMul(d.redMul(u.redISub(d)).redISub(o.redMul(l)));h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var y=this.z.redAdd(o).redSqr().redISub(r).redISub(l);return this.curve.jpoint(f,h,y)};vs.prototype.mul=function(e,n){return e=new kt(e,n),this.curve._wnafMul(this,e)};vs.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var n=this.z.redSqr(),r=e.z.redSqr();if(this.x.redMul(r).redISub(e.x.redMul(n)).cmpn(0)!==0)return!1;var s=n.redMul(this.z),i=r.redMul(e.z);return this.y.redMul(i).redISub(e.y.redMul(s)).cmpn(0)===0};vs.prototype.eqXToP=function(e){var n=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(n);if(this.x.cmp(r)===0)return!0;for(var s=e.clone(),i=this.curve.redN.redMul(n);;){if(s.iadd(this.curve.n),s.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}};vs.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};vs.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var ew=Qm(function(t,e){var n=e;n.base=Cf,n.short=Npe,n.mont=null,n.edwards=null}),tw=Qm(function(t,e){var n=e,r=oa.assert;function s(o){o.type==="short"?this.curve=new ew.short(o):o.type==="edwards"?this.curve=new ew.edwards(o):this.curve=new ew.mont(o),this.g=this.curve.g,this.n=this.curve.n,this.hash=o.hash,r(this.g.validate(),"Invalid curve"),r(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}n.PresetCurve=s;function i(o,l){Object.defineProperty(n,o,{configurable:!0,enumerable:!0,get:function(){var u=new s(l);return Object.defineProperty(n,o,{configurable:!0,enumerable:!0,value:u}),u}})}i("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:di.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),i("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:di.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),i("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:di.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),i("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:di.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),i("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:di.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),i("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:di.sha256,gRed:!1,g:["9"]}),i("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:di.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var a;try{a=null.crash()}catch{a=void 0}i("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:di.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",a]})});function bd(t){if(!(this instanceof bd))return new bd(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=mo.toArray(t.entropy,t.entropyEnc||"hex"),n=mo.toArray(t.nonce,t.nonceEnc||"hex"),r=mo.toArray(t.pers,t.persEnc||"hex");US(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,n,r)}var gV=bd;bd.prototype._init=function(e,n,r){var s=e.concat(n).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(s),this._reseed=1,this.reseedInterval=281474976710656};bd.prototype._hmac=function(){return new di.hmac(this.hash,this.K)};bd.prototype._update=function(e){var n=this._hmac().update(this.V).update([0]);e&&(n=n.update(e)),this.K=n.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};bd.prototype.reseed=function(e,n,r,s){typeof n!="string"&&(s=r,r=n,n=null),e=mo.toArray(e,n),r=mo.toArray(r,s),US(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1};bd.prototype.generate=function(e,n,r,s){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof n!="string"&&(s=r,r=n,n=null),r&&(r=mo.toArray(r,s||"hex"),this._update(r));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var a=i.slice(0,e);return this._update(r),this._reseed++,mo.encode(a,n)};var vN=oa.assert;function Os(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var VS=Os;Os.fromPublic=function(e,n,r){return n instanceof Os?n:new Os(e,{pub:n,pubEnc:r})};Os.fromPrivate=function(e,n,r){return n instanceof Os?n:new Os(e,{priv:n,privEnc:r})};Os.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Os.prototype.getPublic=function(e,n){return typeof e=="string"&&(n=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),n?this.pub.encode(n,e):this.pub};Os.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Os.prototype._importPrivate=function(e,n){this.priv=new kt(e,n||16),this.priv=this.priv.umod(this.ec.curve.n)};Os.prototype._importPublic=function(e,n){if(e.x||e.y){this.ec.curve.type==="mont"?vN(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&vN(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,n)};Os.prototype.derive=function(e){return e.validate()||vN(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Os.prototype.sign=function(e,n,r){return this.ec.sign(e,this,n,r)};Os.prototype.verify=function(e,n,r){return this.ec.verify(e,n,this,void 0,r)};Os.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Epe=oa.assert;function e2(t,e){if(t instanceof e2)return t;this._importDER(t,e)||(Epe(t.r&&t.s,"Signature without r or s"),this.r=new kt(t.r,16),this.s=new kt(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var t2=e2;function Spe(){this.place=0}function sI(t,e){var n=t[e.place++];if(!(n&128))return n;var r=n&15;if(r===0||r>4||t[e.place]===0)return!1;for(var s=0,i=0,a=e.place;i<r;i++,a++)s<<=8,s|=t[a],s>>>=0;return s<=127?!1:(e.place=a,s)}function P4(t){for(var e=0,n=t.length-1;!t[e]&&!(t[e+1]&128)&&e<n;)e++;return e===0?t:t.slice(e)}e2.prototype._importDER=function(e,n){e=oa.toArray(e,n);var r=new Spe;if(e[r.place++]!==48)return!1;var s=sI(e,r);if(s===!1||s+r.place!==e.length||e[r.place++]!==2)return!1;var i=sI(e,r);if(i===!1||e[r.place]&128)return!1;var a=e.slice(r.place,i+r.place);if(r.place+=i,e[r.place++]!==2)return!1;var o=sI(e,r);if(o===!1||e.length!==o+r.place||e[r.place]&128)return!1;var l=e.slice(r.place,o+r.place);if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;if(l[0]===0)if(l[1]&128)l=l.slice(1);else return!1;return this.r=new kt(a),this.s=new kt(l),this.recoveryParam=null,!0};function iI(t,e){if(e<128){t.push(e);return}var n=1+(Math.log(e)/Math.LN2>>>3);for(t.push(n|128);--n;)t.push(e>>>(n<<3)&255);t.push(e)}e2.prototype.toDER=function(e){var n=this.r.toArray(),r=this.s.toArray();for(n[0]&128&&(n=[0].concat(n)),r[0]&128&&(r=[0].concat(r)),n=P4(n),r=P4(r);!r[0]&&!(r[1]&128);)r=r.slice(1);var s=[2];iI(s,n.length),s=s.concat(n),s.push(2),iI(s,r.length);var i=s.concat(r),a=[48];return iI(a,i.length),a=a.concat(i),oa.encode(a,e)};var Rpe=function(){throw new Error("unsupported")},rp=oa.assert;function La(t){if(!(this instanceof La))return new La(t);typeof t=="string"&&(rp(Object.prototype.hasOwnProperty.call(tw,t),"Unknown curve "+t),t=tw[t]),t instanceof tw.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var Ppe=La;La.prototype.keyPair=function(e){return new VS(this,e)};La.prototype.keyFromPrivate=function(e,n){return VS.fromPrivate(this,e,n)};La.prototype.keyFromPublic=function(e,n){return VS.fromPublic(this,e,n)};La.prototype.genKeyPair=function(e){e||(e={});for(var n=new gV({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Rpe(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),s=this.n.sub(new kt(2));;){var i=new kt(n.generate(r));if(!(i.cmp(s)>0))return i.iaddn(1),this.keyFromPrivate(i)}};La.prototype._truncateToN=function(e,n,r){var s;if(kt.isBN(e)||typeof e=="number")e=new kt(e,16),s=e.byteLength();else if(typeof e=="object")s=e.length,e=new kt(e,16);else{var i=e.toString();s=i.length+1>>>1,e=new kt(i,16)}typeof r!="number"&&(r=s*8);var a=r-this.n.bitLength();return a>0&&(e=e.ushrn(a)),!n&&e.cmp(this.n)>=0?e.sub(this.n):e};La.prototype.sign=function(e,n,r,s){if(typeof r=="object"&&(s=r,r=null),s||(s={}),typeof e!="string"&&typeof e!="number"&&!kt.isBN(e)){rp(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),rp(e.length>>>0===e.length);for(var i=0;i<e.length;i++)rp((e[i]&255)===e[i])}n=this.keyFromPrivate(n,r),e=this._truncateToN(e,!1,s.msgBitLength),rp(!e.isNeg(),"Can not sign a negative message");var a=this.n.byteLength(),o=n.getPrivate().toArray("be",a),l=e.toArray("be",a);rp(new kt(l).eq(e),"Can not sign message");for(var u=new gV({hash:this.hash,entropy:o,nonce:l,pers:s.pers,persEnc:s.persEnc||"utf8"}),d=this.n.sub(new kt(1)),p=0;;p++){var f=s.k?s.k(p):new kt(u.generate(this.n.byteLength()));if(f=this._truncateToN(f,!0),!(f.cmpn(1)<=0||f.cmp(d)>=0)){var h=this.g.mul(f);if(!h.isInfinity()){var y=h.getX(),m=y.umod(this.n);if(m.cmpn(0)!==0){var b=f.invm(this.n).mul(m.mul(n.getPrivate()).iadd(e));if(b=b.umod(this.n),b.cmpn(0)!==0){var v=(h.getY().isOdd()?1:0)|(y.cmp(m)!==0?2:0);return s.canonical&&b.cmp(this.nh)>0&&(b=this.n.sub(b),v^=1),new t2({r:m,s:b,recoveryParam:v})}}}}}};La.prototype.verify=function(e,n,r,s,i){i||(i={}),e=this._truncateToN(e,!1,i.msgBitLength),r=this.keyFromPublic(r,s),n=new t2(n,"hex");var a=n.r,o=n.s;if(a.cmpn(1)<0||a.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var l=o.invm(this.n),u=l.mul(e).umod(this.n),d=l.mul(a).umod(this.n),p;return this.curve._maxwellTrick?(p=this.g.jmulAdd(u,r.getPublic(),d),p.isInfinity()?!1:p.eqXToP(a)):(p=this.g.mulAdd(u,r.getPublic(),d),p.isInfinity()?!1:p.getX().umod(this.n).cmp(a)===0)};La.prototype.recoverPubKey=function(t,e,n,r){rp((3&n)===n,"The recovery param is more than two bits"),e=new t2(e,r);var s=this.n,i=new kt(t),a=e.r,o=e.s,l=n&1,u=n>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw new Error("Unable to find sencond key candinate");u?a=this.curve.pointFromX(a.add(this.curve.n),l):a=this.curve.pointFromX(a,l);var d=e.r.invm(s),p=s.sub(i).mul(d).umod(s),f=o.mul(d).umod(s);return this.g.mulAdd(p,a,f)};La.prototype.getKeyRecoveryParam=function(t,e,n,r){if(e=new t2(e,r),e.recoveryParam!==null)return e.recoveryParam;for(var s=0;s<4;s++){var i;try{i=this.recoverPubKey(t,e,s)}catch{continue}if(i.eq(n))return s}throw new Error("Unable to find valid recovery factor")};var Mpe=Qm(function(t,e){var n=e;n.version="6.6.1",n.utils=oa,n.rand=function(){throw new Error("unsupported")},n.curve=ew,n.curves=tw,n.ec=Ppe,n.eddsa=null}),jpe=Mpe.ec;const _pe="signing-key/5.8.0",bN=new se(_pe);let aI=null;function xu(){return aI||(aI=new jpe("secp256k1")),aI}class Dpe{constructor(e){Ae(this,"curve","secp256k1"),Ae(this,"privateKey",Je(e)),tf(this.privateKey)!==32&&bN.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const n=xu().keyFromPrivate(lt(this.privateKey));Ae(this,"publicKey","0x"+n.getPublic(!1,"hex")),Ae(this,"compressedPublicKey","0x"+n.getPublic(!0,"hex")),Ae(this,"_isSigningKey",!0)}_addPoint(e){const n=xu().keyFromPublic(lt(this.publicKey)),r=xu().keyFromPublic(lt(e));return"0x"+n.pub.add(r.pub).encodeCompressed("hex")}signDigest(e){const n=xu().keyFromPrivate(lt(this.privateKey)),r=lt(e);r.length!==32&&bN.throwArgumentError("bad digest length","digest",e);const s=n.sign(r,{canonical:!0});return Ym({recoveryParam:s.recoveryParam,r:Kn("0x"+s.r.toString(16),32),s:Kn("0x"+s.s.toString(16),32)})}computeSharedSecret(e){const n=xu().keyFromPrivate(lt(this.privateKey)),r=xu().keyFromPublic(lt(vV(e)));return Kn("0x"+n.derive(r.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function Ope(t,e){const n=Ym(e),r={r:lt(n.r),s:lt(n.s)};return"0x"+xu().recoverPubKey(lt(t),r,n.recoveryParam).encode("hex",!1)}function vV(t,e){const n=lt(t);return n.length===32?new Dpe(n).publicKey:n.length===33?"0x"+xu().keyFromPublic(n).getPublic(!1,"hex"):n.length===65?Je(n):bN.throwArgumentError("invalid public or private key","key","[REDACTED]")}const Lpe="transactions/5.8.0",Ps=new se(Lpe);var M4;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(M4||(M4={}));function HS(t){return t==="0x"?null:gs(t)}function Es(t){return t==="0x"?Dz:$e.from(t)}const $pe=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],Fpe={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function Bpe(t){const e=vV(t);return gs(Cs(zr(Cs(e,1)),12))}function bV(t,e){return Bpe(Ope(lt(t),e))}function Vi(t,e){const n=Tc($e.from(t).toHexString());return n.length>32&&Ps.throwArgumentError("invalid length for "+e,"transaction:"+e,t),n}function oI(t,e){return{address:gs(t),storageKeys:(e||[]).map((n,r)=>(tf(n)!==32&&Ps.throwArgumentError("invalid access list storageKey",`accessList[${t}:${r}]`,n),n.toLowerCase()))}}function ey(t){if(Array.isArray(t))return t.map((n,r)=>Array.isArray(n)?(n.length>2&&Ps.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${r}]`,n),oI(n[0],n[1])):oI(n.address,n.storageKeys));const e=Object.keys(t).map(n=>{const r=t[n].reduce((s,i)=>(s[i]=!0,s),{});return oI(n,Object.keys(r).sort())});return e.sort((n,r)=>n.address.localeCompare(r.address)),e}function xV(t){return ey(t).map(e=>[e.address,e.storageKeys])}function wV(t,e){if(t.gasPrice!=null){const r=$e.from(t.gasPrice),s=$e.from(t.maxFeePerGas||0);r.eq(s)||Ps.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:r,maxFeePerGas:s})}const n=[Vi(t.chainId||0,"chainId"),Vi(t.nonce||0,"nonce"),Vi(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Vi(t.maxFeePerGas||0,"maxFeePerGas"),Vi(t.gasLimit||0,"gasLimit"),t.to!=null?gs(t.to):"0x",Vi(t.value||0,"value"),t.data||"0x",xV(t.accessList||[])];if(e){const r=Ym(e);n.push(Vi(r.recoveryParam,"recoveryParam")),n.push(Tc(r.r)),n.push(Tc(r.s))}return mi(["0x02",gm(n)])}function TV(t,e){const n=[Vi(t.chainId||0,"chainId"),Vi(t.nonce||0,"nonce"),Vi(t.gasPrice||0,"gasPrice"),Vi(t.gasLimit||0,"gasLimit"),t.to!=null?gs(t.to):"0x",Vi(t.value||0,"value"),t.data||"0x",xV(t.accessList||[])];if(e){const r=Ym(e);n.push(Vi(r.recoveryParam,"recoveryParam")),n.push(Tc(r.r)),n.push(Tc(r.s))}return mi(["0x01",gm(n)])}function Upe(t,e){Az(t,Fpe);const n=[];$pe.forEach(function(a){let o=t[a.name]||[];const l={};a.numeric&&(l.hexPad="left"),o=lt(Je(o,l)),a.length&&o.length!==a.length&&o.length>0&&Ps.throwArgumentError("invalid length for "+a.name,"transaction:"+a.name,o),a.maxLength&&(o=Tc(o),o.length>a.maxLength&&Ps.throwArgumentError("invalid length for "+a.name,"transaction:"+a.name,o)),n.push(Je(o))});let r=0;if(t.chainId!=null?(r=t.chainId,typeof r!="number"&&Ps.throwArgumentError("invalid transaction.chainId","transaction",t)):e&&!ZT(e)&&e.v>28&&(r=Math.floor((e.v-35)/2)),r!==0&&(n.push(Je(r)),n.push("0x"),n.push("0x")),!e)return gm(n);const s=Ym(e);let i=27+s.recoveryParam;return r!==0?(n.pop(),n.pop(),n.pop(),i+=r*2+8,s.v>28&&s.v!==i&&Ps.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):s.v!==i&&Ps.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),n.push(Je(i)),n.push(Tc(lt(s.r))),n.push(Tc(lt(s.s))),gm(n)}function OFe(t,e){if(t.type==null||t.type===0)return t.accessList!=null&&Ps.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",t),Upe(t,e);switch(t.type){case 1:return TV(t,e);case 2:return wV(t,e)}return Ps.throwError(`unsupported transaction type: ${t.type}`,se.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:t.type})}function AV(t,e,n){try{const r=Es(e[0]).toNumber();if(r!==0&&r!==1)throw new Error("bad recid");t.v=r}catch{Ps.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=Kn(e[1],32),t.s=Kn(e[2],32);try{const r=zr(n(t));t.from=bV(r,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function zpe(t){const e=LS(t.slice(1));e.length!==9&&e.length!==12&&Ps.throwArgumentError("invalid component count for transaction type: 2","payload",Je(t));const n=Es(e[2]),r=Es(e[3]),s={type:2,chainId:Es(e[0]).toNumber(),nonce:Es(e[1]).toNumber(),maxPriorityFeePerGas:n,maxFeePerGas:r,gasPrice:null,gasLimit:Es(e[4]),to:HS(e[5]),value:Es(e[6]),data:e[7],accessList:ey(e[8])};return e.length===9||(s.hash=zr(t),AV(s,e.slice(9),wV)),s}function Vpe(t){const e=LS(t.slice(1));e.length!==8&&e.length!==11&&Ps.throwArgumentError("invalid component count for transaction type: 1","payload",Je(t));const n={type:1,chainId:Es(e[0]).toNumber(),nonce:Es(e[1]).toNumber(),gasPrice:Es(e[2]),gasLimit:Es(e[3]),to:HS(e[4]),value:Es(e[5]),data:e[6],accessList:ey(e[7])};return e.length===8||(n.hash=zr(t),AV(n,e.slice(8),TV)),n}function Hpe(t){const e=LS(t);e.length!==9&&e.length!==6&&Ps.throwArgumentError("invalid raw transaction","rawTransaction",t);const n={nonce:Es(e[0]).toNumber(),gasPrice:Es(e[1]),gasLimit:Es(e[2]),to:HS(e[3]),value:Es(e[4]),data:e[5],chainId:0};if(e.length===6)return n;try{n.v=$e.from(e[6]).toNumber()}catch{return n}if(n.r=Kn(e[7],32),n.s=Kn(e[8],32),$e.from(n.r).isZero()&&$e.from(n.s).isZero())n.chainId=n.v,n.v=0;else{n.chainId=Math.floor((n.v-35)/2),n.chainId<0&&(n.chainId=0);let r=n.v-27;const s=e.slice(0,6);n.chainId!==0&&(s.push(Je(n.chainId)),s.push("0x"),s.push("0x"),r-=n.chainId*2+8);const i=zr(gm(s));try{n.from=bV(i,{r:Je(n.r),s:Je(n.s),recoveryParam:r})}catch{}n.hash=zr(t)}return n.type=null,n}function Wpe(t){const e=lt(t);if(e[0]>127)return Hpe(e);switch(e[0]){case 1:return Vpe(e);case 2:return zpe(e)}return Ps.throwError(`unsupported transaction type: ${e[0]}`,se.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const Gpe="contracts/5.7.0";var xd=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(d){try{u(r.next(d))}catch(p){a(p)}}function l(d){try{u(r.throw(d))}catch(p){a(p)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((r=r.apply(t,e||[])).next())})};const kn=new se(Gpe),Kpe={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0,customData:!0,ccipReadEnabled:!0};function b1(t,e){return xd(this,void 0,void 0,function*(){const n=yield e;typeof n!="string"&&kn.throwArgumentError("invalid address or ENS name","name",n);try{return gs(n)}catch{}t||kn.throwError("a provider or signer is needed to resolve ENS names",se.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const r=yield t.resolveName(n);return r==null&&kn.throwArgumentError("resolver or addr is not configured for ENS name","name",n),r})}function Ig(t,e,n){return xd(this,void 0,void 0,function*(){return Array.isArray(n)?yield Promise.all(n.map((r,s)=>Ig(t,Array.isArray(e)?e[s]:e[r.name],r))):n.type==="address"?yield b1(t,e):n.type==="tuple"?yield Ig(t,e,n.components):n.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(r=>Ig(t,r,n.arrayChildren))):Promise.reject(kn.makeError("invalid value for array",se.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function n2(t,e,n){return xd(this,void 0,void 0,function*(){let r={};n.length===e.inputs.length+1&&typeof n[n.length-1]=="object"&&(r=Dr(n.pop())),kn.checkArgumentCount(n.length,e.inputs.length,"passed to contract"),t.signer?r.from?r.from=Nr({override:b1(t.signer,r.from),signer:t.signer.getAddress()}).then(u=>xd(this,void 0,void 0,function*(){return gs(u.signer)!==u.override&&kn.throwError("Contract with a Signer cannot override from",se.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),u.override})):r.from=t.signer.getAddress():r.from&&(r.from=b1(t.provider,r.from));const s=yield Nr({args:Ig(t.signer||t.provider,n,e.inputs),address:t.resolvedAddress,overrides:Nr(r)||{}}),i=t.interface.encodeFunctionData(e,s.args),a={data:i,to:s.address},o=s.overrides;if(o.nonce!=null&&(a.nonce=$e.from(o.nonce).toNumber()),o.gasLimit!=null&&(a.gasLimit=$e.from(o.gasLimit)),o.gasPrice!=null&&(a.gasPrice=$e.from(o.gasPrice)),o.maxFeePerGas!=null&&(a.maxFeePerGas=$e.from(o.maxFeePerGas)),o.maxPriorityFeePerGas!=null&&(a.maxPriorityFeePerGas=$e.from(o.maxPriorityFeePerGas)),o.from!=null&&(a.from=o.from),o.type!=null&&(a.type=o.type),o.accessList!=null&&(a.accessList=ey(o.accessList)),a.gasLimit==null&&e.gas!=null){let u=21e3;const d=lt(i);for(let p=0;p<d.length;p++)u+=4,d[p]&&(u+=64);a.gasLimit=$e.from(e.gas).add(u)}if(o.value){const u=$e.from(o.value);!u.isZero()&&!e.payable&&kn.throwError("non-payable method cannot override value",se.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:r.value}),a.value=u}o.customData&&(a.customData=Dr(o.customData)),o.ccipReadEnabled&&(a.ccipReadEnabled=!!o.ccipReadEnabled),delete r.nonce,delete r.gasLimit,delete r.gasPrice,delete r.from,delete r.value,delete r.type,delete r.accessList,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas,delete r.customData,delete r.ccipReadEnabled;const l=Object.keys(r).filter(u=>r[u]!=null);return l.length&&kn.throwError(`cannot override ${l.map(u=>JSON.stringify(u)).join(",")}`,se.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:l}),a})}function Ype(t,e){return function(...n){return n2(t,e,n)}}function qpe(t,e){const n=t.signer||t.provider;return function(...r){return xd(this,void 0,void 0,function*(){n||kn.throwError("estimate require a provider or signer",se.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const s=yield n2(t,e,r);return yield n.estimateGas(s)})}}function IV(t,e){const n=e.wait.bind(e);e.wait=r=>n(r).then(s=>(s.events=s.logs.map(i=>{let a=Oc(i),o=null;try{o=t.interface.parseLog(i)}catch{}return o&&(a.args=o.args,a.decode=(l,u)=>t.interface.decodeEventLog(o.eventFragment,l,u),a.event=o.name,a.eventSignature=o.signature),a.removeListener=()=>t.provider,a.getBlock=()=>t.provider.getBlock(s.blockHash),a.getTransaction=()=>t.provider.getTransaction(s.transactionHash),a.getTransactionReceipt=()=>Promise.resolve(s),a}),s))}function kV(t,e,n){const r=t.signer||t.provider;return function(...s){return xd(this,void 0,void 0,function*(){let i;if(s.length===e.inputs.length+1&&typeof s[s.length-1]=="object"){const l=Dr(s.pop());l.blockTag!=null&&(i=yield l.blockTag),delete l.blockTag,s.push(l)}t.deployTransaction!=null&&(yield t._deployed(i));const a=yield n2(t,e,s),o=yield r.call(a,i);try{let l=t.interface.decodeFunctionResult(e,o);return n&&e.outputs.length===1&&(l=l[0]),l}catch(l){throw l.code===se.errors.CALL_EXCEPTION&&(l.address=t.address,l.args=s,l.transaction=a),l}})}}function Zpe(t,e){return function(...n){return xd(this,void 0,void 0,function*(){t.signer||kn.throwError("sending a transaction requires a signer",se.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),t.deployTransaction!=null&&(yield t._deployed());const r=yield n2(t,e,n),s=yield t.signer.sendTransaction(r);return IV(t,s),s})}}function j4(t,e,n){return e.constant?kV(t,e,n):Zpe(t,e)}function CV(t){return t.address&&(t.topics==null||t.topics.length===0)?"*":(t.address||"*")+"@"+(t.topics?t.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class w0{constructor(e,n){Ae(this,"tag",e),Ae(this,"filter",n),this._listeners=[]}addListener(e,n){this._listeners.push({listener:e,once:n})}removeListener(e){let n=!1;this._listeners=this._listeners.filter(r=>n||r.listener!==e?!0:(n=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const n=this.listenerCount();return this._listeners=this._listeners.filter(r=>{const s=e.slice();return setTimeout(()=>{r.listener.apply(this,s)},0),!r.once}),n}prepareEvent(e){}getEmit(e){return[e]}}class Xpe extends w0{constructor(){super("error",null)}}class _4 extends w0{constructor(e,n,r,s){const i={address:e};let a=n.getEventTopic(r);s?(a!==s[0]&&kn.throwArgumentError("topic mismatch","topics",s),i.topics=s.slice()):i.topics=[a],super(CV(i),i),Ae(this,"address",e),Ae(this,"interface",n),Ae(this,"fragment",r)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(n,r)=>this.interface.decodeEventLog(this.fragment,n,r);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(n){e.args=null,e.decodeError=n}}getEmit(e){const n=Mce(e.args);if(n.length)throw n[0].error;const r=(e.args||[]).slice();return r.push(e),r}}class D4 extends w0{constructor(e,n){super("*",{address:e}),Ae(this,"address",e),Ae(this,"interface",n)}prepareEvent(e){super.prepareEvent(e);try{const n=this.interface.parseLog(e);e.event=n.name,e.eventSignature=n.signature,e.decode=(r,s)=>this.interface.decodeEventLog(n.eventFragment,r,s),e.args=n.args}catch{}}}class Jpe{constructor(e,n,r){Ae(this,"interface",Xi(new.target,"getInterface")(n)),r==null?(Ae(this,"provider",null),Ae(this,"signer",null)):qm.isSigner(r)?(Ae(this,"provider",r.provider||null),Ae(this,"signer",r)):JT.isProvider(r)?(Ae(this,"provider",r),Ae(this,"signer",null)):kn.throwArgumentError("invalid signer or provider","signerOrProvider",r),Ae(this,"callStatic",{}),Ae(this,"estimateGas",{}),Ae(this,"functions",{}),Ae(this,"populateTransaction",{}),Ae(this,"filters",{});{const a={};Object.keys(this.interface.events).forEach(o=>{const l=this.interface.events[o];Ae(this.filters,o,(...u)=>({address:this.address,topics:this.interface.encodeFilterTopics(l,u)})),a[l.name]||(a[l.name]=[]),a[l.name].push(o)}),Object.keys(a).forEach(o=>{const l=a[o];l.length===1?Ae(this.filters,o,this.filters[l[0]]):kn.warn(`Duplicate definition of ${o} (${l.join(", ")})`)})}if(Ae(this,"_runningEvents",{}),Ae(this,"_wrappedEmits",{}),e==null&&kn.throwArgumentError("invalid contract address or ENS name","addressOrName",e),Ae(this,"address",e),this.provider)Ae(this,"resolvedAddress",b1(this.provider,e));else try{Ae(this,"resolvedAddress",Promise.resolve(gs(e)))}catch{kn.throwError("provider is required to use ENS name as contract address",se.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(a=>{});const s={},i={};Object.keys(this.interface.functions).forEach(a=>{const o=this.interface.functions[a];if(i[a]){kn.warn(`Duplicate ABI entry for ${JSON.stringify(a)}`);return}i[a]=!0;{const l=o.name;s[`%${l}`]||(s[`%${l}`]=[]),s[`%${l}`].push(a)}this[a]==null&&Ae(this,a,j4(this,o,!0)),this.functions[a]==null&&Ae(this.functions,a,j4(this,o,!1)),this.callStatic[a]==null&&Ae(this.callStatic,a,kV(this,o,!0)),this.populateTransaction[a]==null&&Ae(this.populateTransaction,a,Ype(this,o)),this.estimateGas[a]==null&&Ae(this.estimateGas,a,qpe(this,o))}),Object.keys(s).forEach(a=>{const o=s[a];if(o.length>1)return;a=a.substring(1);const l=o[0];try{this[a]==null&&Ae(this,a,this[l])}catch{}this.functions[a]==null&&Ae(this.functions,a,this.functions[l]),this.callStatic[a]==null&&Ae(this.callStatic,a,this.callStatic[l]),this.populateTransaction[a]==null&&Ae(this.populateTransaction,a,this.populateTransaction[l]),this.estimateGas[a]==null&&Ae(this.estimateGas,a,this.estimateGas[l])})}static getContractAddress(e){return FS(e)}static getInterface(e){return C4.isInterface(e)?e:new C4(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(n=>(n==="0x"&&kn.throwError("contract not deployed",se.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||kn.throwError("sending a transactions require a signer",se.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const n=Dr(e||{});return["from","to"].forEach(function(r){n[r]!=null&&kn.throwError("cannot override "+r,se.errors.UNSUPPORTED_OPERATION,{operation:r})}),n.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(n))}connect(e){typeof e=="string"&&(e=new BS(e,this.provider));const n=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&Ae(n,"deployTransaction",this.deployTransaction),n}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return hN.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new Xpe);if(e==="event")return this._normalizeRunningEvent(new w0("event",null));if(e==="*")return this._normalizeRunningEvent(new D4(this.address,this.interface));const n=this.interface.getEvent(e);return this._normalizeRunningEvent(new _4(this.address,this.interface,n))}if(e.topics&&e.topics.length>0){try{const r=e.topics[0];if(typeof r!="string")throw new Error("invalid topic");const s=this.interface.getEvent(r);return this._normalizeRunningEvent(new _4(this.address,this.interface,s,e.topics))}catch{}const n={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new w0(CV(n),n))}return this._normalizeRunningEvent(new D4(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const n=this._wrappedEmits[e.tag];n&&e.filter&&(this.provider.off(e.filter,n),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,n,r){const s=Oc(n);return s.removeListener=()=>{r&&(e.removeListener(r),this._checkRunningEvents(e))},s.getBlock=()=>this.provider.getBlock(n.blockHash),s.getTransaction=()=>this.provider.getTransaction(n.transactionHash),s.getTransactionReceipt=()=>this.provider.getTransactionReceipt(n.transactionHash),e.prepareEvent(s),s}_addEventListener(e,n,r){if(this.provider||kn.throwError("events require a provider or a signer with a provider",se.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(n,r),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const s=i=>{let a=this._wrapEvent(e,i,n);if(a.decodeError==null)try{const o=e.getEmit(a);this.emit(e.filter,...o)}catch(o){a.decodeError=o.error}e.filter!=null&&this.emit("event",a),a.decodeError!=null&&this.emit("error",a.decodeError,a)};this._wrappedEmits[e.tag]=s,e.filter!=null&&this.provider.on(e.filter,s)}}queryFilter(e,n,r){const s=this._getRunningEvent(e),i=Dr(s.filter);return typeof n=="string"&&ln(n,32)?(r!=null&&kn.throwArgumentError("cannot specify toBlock with blockhash","toBlock",r),i.blockHash=n):(i.fromBlock=n??0,i.toBlock=r??"latest"),this.provider.getLogs(i).then(a=>a.map(o=>this._wrapEvent(s,o,null)))}on(e,n){return this._addEventListener(this._getRunningEvent(e),n,!1),this}once(e,n){return this._addEventListener(this._getRunningEvent(e),n,!0),this}emit(e,...n){if(!this.provider)return!1;const r=this._getRunningEvent(e),s=r.run(n)>0;return this._checkRunningEvents(r),s}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((n,r)=>n+this._runningEvents[r].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const n=[];for(let r in this._runningEvents)this._runningEvents[r].listeners().forEach(s=>{n.push(s)});return n}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const r in this._runningEvents){const s=this._runningEvents[r];s.removeAllListeners(),this._checkRunningEvents(s)}return this}const n=this._getRunningEvent(e);return n.removeAllListeners(),this._checkRunningEvents(n),this}off(e,n){if(!this.provider)return this;const r=this._getRunningEvent(e);return r.removeListener(n),this._checkRunningEvents(r),this}removeListener(e,n){return this.off(e,n)}}class nt extends Jpe{}class LFe{constructor(e,n,r){let s=null;typeof n=="string"?s=n:kf(n)?s=Je(n):n&&typeof n.object=="string"?s=n.object:s="!",s.substring(0,2)!=="0x"&&(s="0x"+s),(!ln(s)||s.length%2)&&kn.throwArgumentError("invalid bytecode","bytecode",n),r&&!qm.isSigner(r)&&kn.throwArgumentError("invalid signer","signer",r),Ae(this,"bytecode",s),Ae(this,"interface",Xi(new.target,"getInterface")(e)),Ae(this,"signer",r||null)}getDeployTransaction(...e){let n={};if(e.length===this.interface.deploy.inputs.length+1&&typeof e[e.length-1]=="object"){n=Dr(e.pop());for(const r in n)if(!Kpe[r])throw new Error("unknown transaction override "+r)}return["data","from","to"].forEach(r=>{n[r]!=null&&kn.throwError("cannot override "+r,se.errors.UNSUPPORTED_OPERATION,{operation:r})}),n.value&&!$e.from(n.value).isZero()&&!this.interface.deploy.payable&&kn.throwError("non-payable constructor cannot override value",se.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),kn.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor"),n.data=Je(Zs([this.bytecode,this.interface.encodeDeploy(e)])),n}deploy(...e){return xd(this,void 0,void 0,function*(){let n={};e.length===this.interface.deploy.inputs.length+1&&(n=e.pop()),kn.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor");const r=yield Ig(this.signer,e,this.interface.deploy.inputs);r.push(n);const s=this.getDeployTransaction(...r),i=yield this.signer.sendTransaction(s),a=Xi(this.constructor,"getContractAddress")(i),o=Xi(this.constructor,"getContract")(a,this.interface,this.signer);return IV(o,i),Ae(o,"deployTransaction",i),o})}attach(e){return this.constructor.getContract(e,this.interface,this.signer)}connect(e){return new this.constructor(this.interface,this.bytecode,e)}static fromSolidity(e,n){e==null&&kn.throwError("missing compiler output",se.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),typeof e=="string"&&(e=JSON.parse(e));const r=e.abi;let s=null;return e.bytecode?s=e.bytecode:e.evm&&e.evm.bytecode&&(s=e.evm.bytecode),new this(r,s,n)}static getInterface(e){return nt.getInterface(e)}static getContractAddress(e){return FS(e)}static getContract(e,n,r){return new nt(e,n,r)}}const Qpe="logger/5.7.0";let O4=!1,L4=!1;const nw={debug:1,default:2,info:2,warning:3,error:4,off:5};let $4=nw.default,lI=null;function efe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const F4=efe();var xN;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(xN||(xN={}));var ro;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(ro||(ro={}));const B4="0123456789abcdef";class Bt{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,n){const r=e.toLowerCase();nw[r]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!($4>nw[r])&&console.log.apply(console,n)}debug(...e){this._log(Bt.levels.DEBUG,e)}info(...e){this._log(Bt.levels.INFO,e)}warn(...e){this._log(Bt.levels.WARNING,e)}makeError(e,n,r){if(L4)return this.makeError("censored error",n,{});n||(n=Bt.errors.UNKNOWN_ERROR),r||(r={});const s=[];Object.keys(r).forEach(l=>{const u=r[l];try{if(u instanceof Uint8Array){let d="";for(let p=0;p<u.length;p++)d+=B4[u[p]>>4],d+=B4[u[p]&15];s.push(l+"=Uint8Array(0x"+d+")")}else s.push(l+"="+JSON.stringify(u))}catch{s.push(l+"="+JSON.stringify(r[l].toString()))}}),s.push(`code=${n}`),s.push(`version=${this.version}`);const i=e;let a="";switch(n){case ro.NUMERIC_FAULT:{a="NUMERIC_FAULT";const l=e;switch(l){case"overflow":case"underflow":case"division-by-zero":a+="-"+l;break;case"negative-power":case"negative-width":a+="-unsupported";break;case"unbound-bitwise-result":a+="-unbound-result";break}break}case ro.CALL_EXCEPTION:case ro.INSUFFICIENT_FUNDS:case ro.MISSING_NEW:case ro.NONCE_EXPIRED:case ro.REPLACEMENT_UNDERPRICED:case ro.TRANSACTION_REPLACED:case ro.UNPREDICTABLE_GAS_LIMIT:a=n;break}a&&(e+=" [ See: https://links.ethers.org/v5-errors-"+a+" ]"),s.length&&(e+=" ("+s.join(", ")+")");const o=new Error(e);return o.reason=i,o.code=n,Object.keys(r).forEach(function(l){o[l]=r[l]}),o}throwError(e,n,r){throw this.makeError(e,n,r)}throwArgumentError(e,n,r){return this.throwError(e,Bt.errors.INVALID_ARGUMENT,{argument:n,value:r})}assert(e,n,r,s){e||this.throwError(n,r,s)}assertArgument(e,n,r,s){e||this.throwArgumentError(n,r,s)}checkNormalize(e){F4&&this.throwError("platform missing String.prototype.normalize",Bt.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:F4})}checkSafeUint53(e,n){typeof e=="number"&&(n==null&&(n="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(n,Bt.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(n,Bt.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,n,r){r?r=": "+r:r="",e<n&&this.throwError("missing argument"+r,Bt.errors.MISSING_ARGUMENT,{count:e,expectedCount:n}),e>n&&this.throwError("too many arguments"+r,Bt.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:n})}checkNew(e,n){(e===Object||e==null)&&this.throwError("missing new",Bt.errors.MISSING_NEW,{name:n.name})}checkAbstract(e,n){e===n?this.throwError("cannot instantiate abstract class "+JSON.stringify(n.name)+" directly; use a sub-class",Bt.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Bt.errors.MISSING_NEW,{name:n.name})}static globalLogger(){return lI||(lI=new Bt(Qpe)),lI}static setCensorship(e,n){if(!e&&n&&this.globalLogger().throwError("cannot permanently disable censorship",Bt.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),O4){if(!e)return;this.globalLogger().throwError("error censorship permanent",Bt.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}L4=!!e,O4=!!n}static setLogLevel(e){const n=nw[e.toLowerCase()];if(n==null){Bt.globalLogger().warn("invalid log level - "+e);return}$4=n}static from(e){return new Bt(e)}}Bt.errors=ro;Bt.levels=xN;const tfe="bytes/5.7.0",ur=new Bt(tfe);function NV(t){return!!t.toHexString}function Oh(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Oh(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function EV(t){return Ni(t)&&!(t.length%2)||Hv(t)}function U4(t){return typeof t=="number"&&t==t&&t%1===0}function Hv(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!U4(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const n=t[e];if(!U4(n)||n<0||n>=256)return!1}return!0}function ta(t,e){if(e||(e={}),typeof t=="number"){ur.checkSafeUint53(t,"invalid arrayify value");const n=[];for(;t;)n.unshift(t&255),t=parseInt(String(t/256));return n.length===0&&n.push(0),Oh(new Uint8Array(n))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),NV(t)&&(t=t.toHexString()),Ni(t)){let n=t.substring(2);n.length%2&&(e.hexPad==="left"?n="0"+n:e.hexPad==="right"?n+="0":ur.throwArgumentError("hex data is odd-length","value",t));const r=[];for(let s=0;s<n.length;s+=2)r.push(parseInt(n.substring(s,s+2),16));return Oh(new Uint8Array(r))}return Hv(t)?Oh(new Uint8Array(t)):ur.throwArgumentError("invalid arrayify value","value",t)}function SV(t){const e=t.map(s=>ta(s)),n=e.reduce((s,i)=>s+i.length,0),r=new Uint8Array(n);return e.reduce((s,i)=>(r.set(i,s),s+i.length),0),Oh(r)}function nfe(t){let e=ta(t);if(e.length===0)return e;let n=0;for(;n<e.length&&e[n]===0;)n++;return n&&(e=e.slice(n)),e}function rfe(t,e){t=ta(t),t.length>e&&ur.throwArgumentError("value out of range","value",arguments[0]);const n=new Uint8Array(e);return n.set(t,e-t.length),Oh(n)}function Ni(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const cI="0123456789abcdef";function Rr(t,e){if(e||(e={}),typeof t=="number"){ur.checkSafeUint53(t,"invalid hexlify value");let n="";for(;t;)n=cI[t&15]+n,t=Math.floor(t/16);return n.length?(n.length%2&&(n="0"+n),"0x"+n):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),NV(t))return t.toHexString();if(Ni(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":ur.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(Hv(t)){let n="0x";for(let r=0;r<t.length;r++){let s=t[r];n+=cI[(s&240)>>4]+cI[s&15]}return n}return ur.throwArgumentError("invalid hexlify value","value",t)}function z4(t){if(typeof t!="string")t=Rr(t);else if(!Ni(t)||t.length%2)return null;return(t.length-2)/2}function RV(t,e,n){return typeof t!="string"?t=Rr(t):(!Ni(t)||t.length%2)&&ur.throwArgumentError("invalid hexData","value",t),e=2+2*e,n!=null?"0x"+t.substring(e,2+2*n):"0x"+t.substring(e)}function $Fe(t){let e="0x";return t.forEach(n=>{e+=Rr(n).substring(2)}),e}function FFe(t){const e=sfe(Rr(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function sfe(t){typeof t!="string"&&(t=Rr(t)),Ni(t)||ur.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function uI(t,e){for(typeof t!="string"?t=Rr(t):Ni(t)||ur.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&ur.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function ife(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(EV(t)){let n=ta(t);n.length===64?(e.v=27+(n[32]>>7),n[32]&=127,e.r=Rr(n.slice(0,32)),e.s=Rr(n.slice(32,64))):n.length===65?(e.r=Rr(n.slice(0,32)),e.s=Rr(n.slice(32,64)),e.v=n[64]):ur.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:ur.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(n[32]|=128),e._vs=Rr(n.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const s=rfe(ta(e._vs),32);e._vs=Rr(s);const i=s[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=i:e.recoveryParam!==i&&ur.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),s[0]&=127;const a=Rr(s);e.s==null?e.s=a:e.s!==a&&ur.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?ur.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const s=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==s&&ur.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!Ni(e.r)?ur.throwArgumentError("signature missing or invalid r","signature",t):e.r=uI(e.r,32),e.s==null||!Ni(e.s)?ur.throwArgumentError("signature missing or invalid s","signature",t):e.s=uI(e.s,32);const n=ta(e.s);n[0]>=128&&ur.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(n[0]|=128);const r=Rr(n);e._vs&&(Ni(e._vs)||ur.throwArgumentError("signature invalid _vs","signature",t),e._vs=uI(e._vs,32)),e._vs==null?e._vs=r:e._vs!==r&&ur.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function BFe(t){return t=ife(t),Rr(SV([t.r,t.s,t.recoveryParam?"0x1c":"0x1b"]))}const afe="bignumber/5.7.0";var T0=kt.BN;const nc=new Bt(afe),dI={},V4=9007199254740991;function UFe(t){return t!=null&&(Bn.isBigNumber(t)||typeof t=="number"&&t%1===0||typeof t=="string"&&!!t.match(/^-?[0-9]+$/)||Ni(t)||typeof t=="bigint"||Hv(t))}let H4=!1;class Bn{constructor(e,n){e!==dI&&nc.throwError("cannot call constructor directly; use BigNumber.from",Bt.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=n,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return ai(Zt(this).fromTwos(e))}toTwos(e){return ai(Zt(this).toTwos(e))}abs(){return this._hex[0]==="-"?Bn.from(this._hex.substring(1)):this}add(e){return ai(Zt(this).add(Zt(e)))}sub(e){return ai(Zt(this).sub(Zt(e)))}div(e){return Bn.from(e).isZero()&&ua("division-by-zero","div"),ai(Zt(this).div(Zt(e)))}mul(e){return ai(Zt(this).mul(Zt(e)))}mod(e){const n=Zt(e);return n.isNeg()&&ua("division-by-zero","mod"),ai(Zt(this).umod(n))}pow(e){const n=Zt(e);return n.isNeg()&&ua("negative-power","pow"),ai(Zt(this).pow(n))}and(e){const n=Zt(e);return(this.isNegative()||n.isNeg())&&ua("unbound-bitwise-result","and"),ai(Zt(this).and(n))}or(e){const n=Zt(e);return(this.isNegative()||n.isNeg())&&ua("unbound-bitwise-result","or"),ai(Zt(this).or(n))}xor(e){const n=Zt(e);return(this.isNegative()||n.isNeg())&&ua("unbound-bitwise-result","xor"),ai(Zt(this).xor(n))}mask(e){return(this.isNegative()||e<0)&&ua("negative-width","mask"),ai(Zt(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&ua("negative-width","shl"),ai(Zt(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&ua("negative-width","shr"),ai(Zt(this).shrn(e))}eq(e){return Zt(this).eq(Zt(e))}lt(e){return Zt(this).lt(Zt(e))}lte(e){return Zt(this).lte(Zt(e))}gt(e){return Zt(this).gt(Zt(e))}gte(e){return Zt(this).gte(Zt(e))}isNegative(){return this._hex[0]==="-"}isZero(){return Zt(this).isZero()}toNumber(){try{return Zt(this).toNumber()}catch{ua("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return nc.throwError("this platform does not support BigInt",Bt.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?H4||(H4=!0,nc.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?nc.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Bt.errors.UNEXPECTED_ARGUMENT,{}):nc.throwError("BigNumber.toString does not accept parameters",Bt.errors.UNEXPECTED_ARGUMENT,{})),Zt(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof Bn)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new Bn(dI,A0(e)):e.match(/^-?[0-9]+$/)?new Bn(dI,A0(new T0(e))):nc.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&ua("underflow","BigNumber.from",e),(e>=V4||e<=-V4)&&ua("overflow","BigNumber.from",e),Bn.from(String(e));const n=e;if(typeof n=="bigint")return Bn.from(n.toString());if(Hv(n))return Bn.from(Rr(n));if(n)if(n.toHexString){const r=n.toHexString();if(typeof r=="string")return Bn.from(r)}else{let r=n._hex;if(r==null&&n.type==="BigNumber"&&(r=n.hex),typeof r=="string"&&(Ni(r)||r[0]==="-"&&Ni(r.substring(1))))return Bn.from(r)}return nc.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function A0(t){if(typeof t!="string")return A0(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&nc.throwArgumentError("invalid hex","value",t),t=A0(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function ai(t){return Bn.from(A0(t))}function Zt(t){const e=Bn.from(t).toHexString();return e[0]==="-"?new T0("-"+e.substring(3),16):new T0(e.substring(2),16)}function ua(t,e,n){const r={fault:t,operation:e};return n!=null&&(r.value=n),nc.throwError(t,Bt.errors.NUMERIC_FAULT,r)}function ofe(t){return new T0(t,36).toString(16)}function lfe(t){return new T0(t,16).toString(36)}class PV{constructor(e){Ae(this,"alphabet",e),Ae(this,"base",e.length),Ae(this,"_alphabetMap",{}),Ae(this,"_leader",e.charAt(0));for(let n=0;n<e.length;n++)this._alphabetMap[e.charAt(n)]=n}encode(e){let n=lt(e);if(n.length===0)return"";let r=[0];for(let i=0;i<n.length;++i){let a=n[i];for(let o=0;o<r.length;++o)a+=r[o]<<8,r[o]=a%this.base,a=a/this.base|0;for(;a>0;)r.push(a%this.base),a=a/this.base|0}let s="";for(let i=0;n[i]===0&&i<n.length-1;++i)s+=this._leader;for(let i=r.length-1;i>=0;--i)s+=this.alphabet[r[i]];return s}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let n=[];if(e.length===0)return new Uint8Array(n);n.push(0);for(let r=0;r<e.length;r++){let s=this._alphabetMap[e[r]];if(s===void 0)throw new Error("Non-base"+this.base+" character");let i=s;for(let a=0;a<n.length;++a)i+=n[a]*this.base,n[a]=i&255,i>>=8;for(;i>0;)n.push(i&255),i>>=8}for(let r=0;e[r]===this._leader&&r<e.length-1;++r)n.push(0);return lt(new Uint8Array(n.reverse()))}}new PV("abcdefghijklmnopqrstuvwxyz234567");const wN=new PV("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var TN;(function(t){t.sha256="sha256",t.sha512="sha512"})(TN||(TN={}));const cfe="sha2/5.7.0",ufe=new se(cfe);function zFe(t){return"0x"+di.ripemd160().update(lt(t)).digest("hex")}function W4(t){return"0x"+di.sha256().update(lt(t)).digest("hex")}function VFe(t){return"0x"+di.sha512().update(lt(t)).digest("hex")}function HFe(t,e,n){return TN[t]||ufe.throwError("unsupported algorithm "+t,se.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:t}),"0x"+di.hmac(di[t],lt(e)).update(lt(n)).digest("hex")}const dfe="0x0000000000000000000000000000000000000000",pfe="networks/5.8.0",G4=new se(pfe);function ffe(t){return t&&typeof t.renetwork=="function"}function so(t){const e=function(n,r){r==null&&(r={});const s=[];if(n.InfuraProvider&&r.infura!=="-")try{s.push(new n.InfuraProvider(t,r.infura))}catch{}if(n.EtherscanProvider&&r.etherscan!=="-")try{s.push(new n.EtherscanProvider(t,r.etherscan))}catch{}if(n.AlchemyProvider&&r.alchemy!=="-")try{s.push(new n.AlchemyProvider(t,r.alchemy))}catch{}if(n.PocketProvider&&r.pocket!=="-"){const i=["goerli","ropsten","rinkeby","sepolia"];try{const a=new n.PocketProvider(t,r.pocket);a.network&&i.indexOf(a.network.name)===-1&&s.push(a)}catch{}}if(n.CloudflareProvider&&r.cloudflare!=="-")try{s.push(new n.CloudflareProvider(t))}catch{}if(n.AnkrProvider&&r.ankr!=="-")try{const i=["ropsten"],a=new n.AnkrProvider(t,r.ankr);a.network&&i.indexOf(a.network.name)===-1&&s.push(a)}catch{}if(n.QuickNodeProvider&&r.quicknode!=="-")try{s.push(new n.QuickNodeProvider(t,r.quicknode))}catch{}if(s.length===0)return null;if(n.FallbackProvider){let i=1;return r.quorum!=null?i=r.quorum:t==="homestead"&&(i=2),new n.FallbackProvider(s,i)}return s[0]};return e.renetwork=function(n){return so(n)},e}function x1(t,e){const n=function(r,s){return r.JsonRpcProvider?new r.JsonRpcProvider(t,e):null};return n.renetwork=function(r){return x1(t,r)},n}const K4={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:so("homestead")},Y4={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:so("ropsten")},q4={chainId:63,name:"classicMordor",_defaultProvider:x1("https://www.ethercluster.com/mordor","classicMordor")},Wb={unspecified:{chainId:0,name:"unspecified"},homestead:K4,mainnet:K4,morden:{chainId:2,name:"morden"},ropsten:Y4,testnet:Y4,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:so("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:so("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:so("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"sepolia",_defaultProvider:so("sepolia")},holesky:{chainId:17e3,name:"holesky",_defaultProvider:so("holesky")},classic:{chainId:61,name:"classic",_defaultProvider:x1("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:q4,classicTestnet:q4,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:x1("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:so("matic")},maticmum:{chainId:80001,name:"maticmum",_defaultProvider:so("maticmum")},optimism:{chainId:10,name:"optimism",_defaultProvider:so("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},"optimism-sepolia":{chainId:11155420,name:"optimism-sepolia"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},"arbitrum-sepolia":{chainId:421614,name:"arbitrum-sepolia"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function hfe(t){if(t==null)return null;if(typeof t=="number"){for(const r in Wb){const s=Wb[r];if(s.chainId===t)return{name:s.name,chainId:s.chainId,ensAddress:s.ensAddress||null,_defaultProvider:s._defaultProvider||null}}return{chainId:t,name:"unknown"}}if(typeof t=="string"){const r=Wb[t];return r==null?null:{name:r.name,chainId:r.chainId,ensAddress:r.ensAddress,_defaultProvider:r._defaultProvider||null}}const e=Wb[t.name];if(!e)return typeof t.chainId!="number"&&G4.throwArgumentError("invalid network chainId","network",t),t;t.chainId!==0&&t.chainId!==e.chainId&&G4.throwArgumentError("network chainId mismatch","network",t);let n=t._defaultProvider||null;return n==null&&e._defaultProvider&&(ffe(e._defaultProvider)?n=e._defaultProvider.renetwork(t):n=e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:n}}const mfe="web/5.8.0";var yfe=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(d){try{u(r.next(d))}catch(p){a(p)}}function l(d){try{u(r.throw(d))}catch(p){a(p)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((r=r.apply(t,e||[])).next())})};function gfe(t,e){return yfe(this,void 0,void 0,function*(){e==null&&(e={});const n={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(n.mode="cors",n.cache="no-cache",n.credentials="same-origin",n.redirect="follow",n.referrer="client"),e.fetchOptions!=null){const a=e.fetchOptions;a.mode&&(n.mode=a.mode),a.cache&&(n.cache=a.cache),a.credentials&&(n.credentials=a.credentials),a.redirect&&(n.redirect=a.redirect),a.referrer&&(n.referrer=a.referrer)}const r=yield fetch(t,n),s=yield r.arrayBuffer(),i={};return r.headers.forEach?r.headers.forEach((a,o)=>{i[o.toLowerCase()]=a}):r.headers.keys().forEach(a=>{i[a.toLowerCase()]=r.headers.get(a)}),{headers:i,statusCode:r.status,statusMessage:r.statusText,body:lt(new Uint8Array(s))}})}var vfe=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(d){try{u(r.next(d))}catch(p){a(p)}}function l(d){try{u(r.throw(d))}catch(p){a(p)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((r=r.apply(t,e||[])).next())})};const Xa=new se(mfe);function Z4(t){return new Promise(e=>{setTimeout(e,t)})}function ou(t,e){if(t==null)return null;if(typeof t=="string")return t;if(ZT(t)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return zv(t)}catch{}return Je(t)}return t}function bfe(t){return El(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,n)=>String.fromCharCode(parseInt(n,16))))}function xfe(t,e,n){const r=typeof t=="object"&&t.throttleLimit!=null?t.throttleLimit:12;Xa.assertArgument(r>0&&r%1===0,"invalid connection throttle limit","connection.throttleLimit",r);const s=typeof t=="object"?t.throttleCallback:null,i=typeof t=="object"&&typeof t.throttleSlotInterval=="number"?t.throttleSlotInterval:100;Xa.assertArgument(i>0&&i%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",i);const a=typeof t=="object"?!!t.errorPassThrough:!1,o={};let l=null;const u={method:"GET"};let d=!1,p=2*60*1e3;if(typeof t=="string")l=t;else if(typeof t=="object"){if((t==null||t.url==null)&&Xa.throwArgumentError("missing URL","connection.url",t),l=t.url,typeof t.timeout=="number"&&t.timeout>0&&(p=t.timeout),t.headers)for(const v in t.headers)o[v.toLowerCase()]={key:v,value:String(t.headers[v])},["if-none-match","if-modified-since"].indexOf(v.toLowerCase())>=0&&(d=!0);if(u.allowGzip=!!t.allowGzip,t.user!=null&&t.password!=null){l.substring(0,6)!=="https:"&&t.allowInsecureAuthentication!==!0&&Xa.throwError("basic authentication requires a secure https url",se.errors.INVALID_ARGUMENT,{argument:"url",url:l,user:t.user,password:"[REDACTED]"});const v=t.user+":"+t.password;o.authorization={key:"Authorization",value:"Basic "+Uz(El(v))}}t.skipFetchSetup!=null&&(u.skipFetchSetup=!!t.skipFetchSetup),t.fetchOptions!=null&&(u.fetchOptions=Dr(t.fetchOptions))}const f=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),h=l?l.match(f):null;if(h)try{const v={statusCode:200,statusMessage:"OK",headers:{"content-type":h[1]||"text/plain"},body:h[2]?Bz(h[3]):bfe(h[3])};let g=v.body;return n&&(g=n(v.body,v)),Promise.resolve(g)}catch(v){Xa.throwError("processing response error",se.errors.SERVER_ERROR,{body:ou(h[1],h[2]),error:v,requestBody:null,requestMethod:"GET",url:l})}e&&(u.method="POST",u.body=e,o["content-type"]==null&&(o["content-type"]={key:"Content-Type",value:"application/octet-stream"}),o["content-length"]==null&&(o["content-length"]={key:"Content-Length",value:String(e.length)}));const y={};Object.keys(o).forEach(v=>{const g=o[v];y[g.key]=g.value}),u.headers=y;const m=function(){let v=null;return{promise:new Promise(function(T,I){p&&(v=setTimeout(()=>{v!=null&&(v=null,I(Xa.makeError("timeout",se.errors.TIMEOUT,{requestBody:ou(u.body,y["content-type"]),requestMethod:u.method,timeout:p,url:l})))},p))}),cancel:function(){v!=null&&(clearTimeout(v),v=null)}}}(),b=function(){return vfe(this,void 0,void 0,function*(){for(let v=0;v<r;v++){let g=null;try{if(g=yield gfe(l,u),v<r){if(g.statusCode===301||g.statusCode===302){const T=g.headers.location||"";if(u.method==="GET"&&T.match(/^https:/)){l=g.headers.location;continue}}else if(g.statusCode===429){let T=!0;if(s&&(T=yield s(v,l)),T){let I=0;const C=g.headers["retry-after"];typeof C=="string"&&C.match(/^[1-9][0-9]*$/)?I=parseInt(C)*1e3:I=i*parseInt(String(Math.random()*Math.pow(2,v))),yield Z4(I);continue}}}}catch(T){g=T.response,g==null&&(m.cancel(),Xa.throwError("missing response",se.errors.SERVER_ERROR,{requestBody:ou(u.body,y["content-type"]),requestMethod:u.method,serverError:T,url:l}))}let x=g.body;if(d&&g.statusCode===304?x=null:!a&&(g.statusCode<200||g.statusCode>=300)&&(m.cancel(),Xa.throwError("bad response",se.errors.SERVER_ERROR,{status:g.statusCode,headers:g.headers,body:ou(x,g.headers?g.headers["content-type"]:null),requestBody:ou(u.body,y["content-type"]),requestMethod:u.method,url:l})),n)try{const T=yield n(x,g);return m.cancel(),T}catch(T){if(T.throttleRetry&&v<r){let I=!0;if(s&&(I=yield s(v,l)),I){const C=i*parseInt(String(Math.random()*Math.pow(2,v)));yield Z4(C);continue}}m.cancel(),Xa.throwError("processing response error",se.errors.SERVER_ERROR,{body:ou(x,g.headers?g.headers["content-type"]:null),error:T,requestBody:ou(u.body,y["content-type"]),requestMethod:u.method,url:l})}return m.cancel(),x}return Xa.throwError("failed response",se.errors.SERVER_ERROR,{requestBody:ou(u.body,y["content-type"]),requestMethod:u.method,url:l})})}();return Promise.race([m.promise,b])}function WS(t,e,n){let r=(i,a)=>{let o=null;if(i!=null)try{o=JSON.parse(zv(i))}catch(l){Xa.throwError("invalid JSON",se.errors.SERVER_ERROR,{body:i,error:l})}return n&&(o=n(o,a)),o},s=null;if(e!=null){s=El(e);const i=typeof t=="string"?{url:t}:Dr(t);i.headers?Object.keys(i.headers).filter(o=>o.toLowerCase()==="content-type").length!==0||(i.headers=Dr(i.headers),i.headers["content-type"]="application/json"):i.headers={"content-type":"application/json"},t=i}return xfe(t,s,r)}function rg(t,e){return e||(e={}),e=Dr(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(n,r){let s=null,i=!1;const a=()=>i?!1:(i=!0,s&&clearTimeout(s),!0);e.timeout&&(s=setTimeout(()=>{a()&&r(new Error("timeout"))},e.timeout));const o=e.retryLimit;let l=0;function u(){return t().then(function(d){if(d!==void 0)a()&&n(d);else if(e.oncePoll)e.oncePoll.once("poll",u);else if(e.onceBlock)e.onceBlock.once("block",u);else if(!i){if(l++,l>o){a()&&r(new Error("retry limit reached"));return}let p=e.interval*parseInt(String(Math.random()*Math.pow(2,l)));p<e.floor&&(p=e.floor),p>e.ceiling&&(p=e.ceiling),setTimeout(u,p)}return null},function(d){a()&&r(d)})}u()})}var w1="qpzry9x8gf2tvdw0s3jn54khce6mua7l",AN={};for(var Gb=0;Gb<w1.length;Gb++){var pI=w1.charAt(Gb);if(AN[pI]!==void 0)throw new TypeError(pI+" is ambiguous");AN[pI]=Gb}function Lh(t){var e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function MV(t){for(var e=1,n=0;n<t.length;++n){var r=t.charCodeAt(n);if(r<33||r>126)return"Invalid prefix ("+t+")";e=Lh(e)^r>>5}for(e=Lh(e),n=0;n<t.length;++n){var s=t.charCodeAt(n);e=Lh(e)^s&31}return e}function wfe(t,e,n){if(n=n||90,t.length+7+e.length>n)throw new TypeError("Exceeds length limit");t=t.toLowerCase();var r=MV(t);if(typeof r=="string")throw new Error(r);for(var s=t+"1",i=0;i<e.length;++i){var a=e[i];if(a>>5)throw new Error("Non 5-bit word");r=Lh(r)^a,s+=w1.charAt(a)}for(i=0;i<6;++i)r=Lh(r);for(r^=1,i=0;i<6;++i){var o=r>>(5-i)*5&31;s+=w1.charAt(o)}return s}function jV(t,e){if(e=e||90,t.length<8)return t+" too short";if(t.length>e)return"Exceeds length limit";var n=t.toLowerCase(),r=t.toUpperCase();if(t!==n&&t!==r)return"Mixed-case string "+t;t=n;var s=t.lastIndexOf("1");if(s===-1)return"No separator character for "+t;if(s===0)return"Missing prefix for "+t;var i=t.slice(0,s),a=t.slice(s+1);if(a.length<6)return"Data too short";var o=MV(i);if(typeof o=="string")return o;for(var l=[],u=0;u<a.length;++u){var d=a.charAt(u),p=AN[d];if(p===void 0)return"Unknown character "+d;o=Lh(o)^p,!(u+6>=a.length)&&l.push(p)}return o!==1?"Invalid checksum for "+t:{prefix:i,words:l}}function Tfe(){var t=jV.apply(null,arguments);if(typeof t=="object")return t}function Afe(t){var e=jV.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function r2(t,e,n,r){for(var s=0,i=0,a=(1<<n)-1,o=[],l=0;l<t.length;++l)for(s=s<<e|t[l],i+=e;i>=n;)i-=n,o.push(s>>i&a);if(r)i>0&&o.push(s<<n-i&a);else{if(i>=e)return"Excess padding";if(s<<n-i&a)return"Non-zero padding"}return o}function Ife(t){var e=r2(t,8,5,!0);if(Array.isArray(e))return e}function kfe(t){var e=r2(t,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function Cfe(t){var e=r2(t,5,8,!1);if(Array.isArray(e))return e}function Nfe(t){var e=r2(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}var Efe={decodeUnsafe:Tfe,decode:Afe,encode:wfe,toWordsUnsafe:Ife,toWords:kfe,fromWordsUnsafe:Cfe,fromWords:Nfe};const X4=wf(Efe),s2="providers/5.7.0",_y=new se(s2);class Xe{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},n=this.address.bind(this),r=this.bigNumber.bind(this),s=this.blockTag.bind(this),i=this.data.bind(this),a=this.hash.bind(this),o=this.hex.bind(this),l=this.number.bind(this),u=this.type.bind(this),d=p=>this.data(p,!0);return e.transaction={hash:a,type:u,accessList:Xe.allowNull(this.accessList.bind(this),null),blockHash:Xe.allowNull(a,null),blockNumber:Xe.allowNull(l,null),transactionIndex:Xe.allowNull(l,null),confirmations:Xe.allowNull(l,null),from:n,gasPrice:Xe.allowNull(r),maxPriorityFeePerGas:Xe.allowNull(r),maxFeePerGas:Xe.allowNull(r),gasLimit:r,to:Xe.allowNull(n,null),value:r,nonce:l,data:i,r:Xe.allowNull(this.uint256),s:Xe.allowNull(this.uint256),v:Xe.allowNull(l),creates:Xe.allowNull(n,null),raw:Xe.allowNull(i)},e.transactionRequest={from:Xe.allowNull(n),nonce:Xe.allowNull(l),gasLimit:Xe.allowNull(r),gasPrice:Xe.allowNull(r),maxPriorityFeePerGas:Xe.allowNull(r),maxFeePerGas:Xe.allowNull(r),to:Xe.allowNull(n),value:Xe.allowNull(r),data:Xe.allowNull(d),type:Xe.allowNull(l),accessList:Xe.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:l,blockNumber:l,transactionHash:a,address:n,topics:Xe.arrayOf(a),data:i,logIndex:l,blockHash:a},e.receipt={to:Xe.allowNull(this.address,null),from:Xe.allowNull(this.address,null),contractAddress:Xe.allowNull(n,null),transactionIndex:l,root:Xe.allowNull(o),gasUsed:r,logsBloom:Xe.allowNull(i),blockHash:a,transactionHash:a,logs:Xe.arrayOf(this.receiptLog.bind(this)),blockNumber:l,confirmations:Xe.allowNull(l,null),cumulativeGasUsed:r,effectiveGasPrice:Xe.allowNull(r),status:Xe.allowNull(l),type:u},e.block={hash:Xe.allowNull(a),parentHash:a,number:l,timestamp:l,nonce:Xe.allowNull(o),difficulty:this.difficulty.bind(this),gasLimit:r,gasUsed:r,miner:Xe.allowNull(n),extraData:i,transactions:Xe.allowNull(Xe.arrayOf(a)),baseFeePerGas:Xe.allowNull(r)},e.blockWithTransactions=Dr(e.block),e.blockWithTransactions.transactions=Xe.allowNull(Xe.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:Xe.allowNull(s,void 0),toBlock:Xe.allowNull(s,void 0),blockHash:Xe.allowNull(a,void 0),address:Xe.allowNull(n,void 0),topics:Xe.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:Xe.allowNull(l),blockHash:Xe.allowNull(a),transactionIndex:l,removed:Xe.allowNull(this.boolean.bind(this)),address:n,data:Xe.allowFalsish(i,"0x"),topics:Xe.arrayOf(a),transactionHash:a,logIndex:l},e}accessList(e){return ey(e||[])}number(e){return e==="0x"?0:$e.from(e).toNumber()}type(e){return e==="0x"||e==null?0:$e.from(e).toNumber()}bigNumber(e){return $e.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,n){return typeof e=="string"&&(!n&&e.substring(0,2)!=="0x"&&(e="0x"+e),ln(e))?e.toLowerCase():_y.throwArgumentError("invalid hash","value",e)}data(e,n){const r=this.hex(e,n);if(r.length%2!==0)throw new Error("invalid data; odd-length - "+e);return r}address(e){return gs(e)}callAddress(e){if(!ln(e,32))return null;const n=gs(Cs(e,12));return n===Gce?null:n}contractAddress(e){return FS(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||ln(e))return _S(e);throw new Error("invalid blockTag")}hash(e,n){const r=this.hex(e,n);return tf(r)!==32?_y.throwArgumentError("invalid hash","value",e):r}difficulty(e){if(e==null)return null;const n=$e.from(e);try{return n.toNumber()}catch{}return null}uint256(e){if(!ln(e))throw new Error("invalid uint256");return Kn(e,32)}_block(e,n){e.author!=null&&e.miner==null&&(e.miner=e.author);const r=e._difficulty!=null?e._difficulty:e.difficulty,s=Xe.check(n,e);return s._difficulty=r==null?null:$e.from(r),s}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return Xe.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&$e.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const n=Xe.check(this.formats.transaction,e);if(e.chainId!=null){let r=e.chainId;ln(r)&&(r=$e.from(r).toNumber()),n.chainId=r}else{let r=e.networkId;r==null&&n.v==null&&(r=e.chainId),ln(r)&&(r=$e.from(r).toNumber()),typeof r!="number"&&n.v!=null&&(r=(n.v-35)/2,r<0&&(r=0),r=parseInt(r)),typeof r!="number"&&(r=0),n.chainId=r}return n.blockHash&&n.blockHash.replace(/0/g,"")==="x"&&(n.blockHash=null),n}transaction(e){return Wpe(e)}receiptLog(e){return Xe.check(this.formats.receiptLog,e)}receipt(e){const n=Xe.check(this.formats.receipt,e);if(n.root!=null)if(n.root.length<=4){const r=$e.from(n.root).toNumber();r===0||r===1?(n.status!=null&&n.status!==r&&_y.throwArgumentError("alt-root-status/status mismatch","value",{root:n.root,status:n.status}),n.status=r,delete n.root):_y.throwArgumentError("invalid alt-root-status","value.root",n.root)}else n.root.length!==66&&_y.throwArgumentError("invalid root hash","value.root",n.root);return n.status!=null&&(n.byzantium=!0),n}topics(e){return Array.isArray(e)?e.map(n=>this.topics(n)):e!=null?this.hash(e,!0):null}filter(e){return Xe.check(this.formats.filter,e)}filterLog(e){return Xe.check(this.formats.filterLog,e)}static check(e,n){const r={};for(const s in e)try{const i=e[s](n[s]);i!==void 0&&(r[s]=i)}catch(i){throw i.checkKey=s,i.checkValue=n[s],i}return r}static allowNull(e,n){return function(r){return r==null?n:e(r)}}static allowFalsish(e,n){return function(r){return r?e(r):n}}static arrayOf(e){return function(n){if(!Array.isArray(n))throw new Error("not an array");const r=[];return n.forEach(function(s){r.push(e(s))}),r}}}function Sfe(t){return t&&typeof t.isCommunityResource=="function"}function WFe(t){return Sfe(t)&&t.isCommunityResource()}let J4=!1;function GFe(){J4||(J4=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var Et=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(d){try{u(r.next(d))}catch(p){a(p)}}function l(d){try{u(r.throw(d))}catch(p){a(p)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((r=r.apply(t,e||[])).next())})};const Vt=new se(s2),Rfe=10;function Q4(t){return t==null?"null":(tf(t)!==32&&Vt.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function e_(t){for(t=t.slice();t.length>0&&t[t.length-1]==null;)t.pop();return t.map(e=>{if(Array.isArray(e)){const n={};e.forEach(s=>{n[Q4(s)]=!0});const r=Object.keys(n);return r.sort(),r.join("|")}else return Q4(e)}).join("&")}function Pfe(t){return t===""?[]:t.split(/&/g).map(e=>{if(e==="")return[];const n=e.split("|").map(r=>r==="null"?null:r);return n.length===1?n[0]:n})}function jf(t){if(typeof t=="string"){if(t=t.toLowerCase(),tf(t)===32)return"tx:"+t;if(t.indexOf(":")===-1)return t}else{if(Array.isArray(t))return"filter:*:"+e_(t);if(Kue.isForkEvent(t))throw Vt.warn("not implemented"),new Error("not implemented");if(t&&typeof t=="object")return"filter:"+(t.address||"*")+":"+e_(t.topics||[])}throw new Error("invalid event - "+t)}function Dy(){return new Date().getTime()}function t_(t){return new Promise(e=>{setTimeout(e,t)})}const Mfe=["block","network","pending","poll"];let jfe=class{constructor(e,n,r){Ae(this,"tag",e),Ae(this,"listener",n),Ae(this,"once",r),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const n=e[1],r=Pfe(e[2]),s={};return r.length>0&&(s.topics=r),n&&n!=="*"&&(s.address=n),s}pollable(){return this.tag.indexOf(":")>=0||Mfe.indexOf(this.tag)>=0}};const _fe={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function fI(t){return Kn($e.from(t).toHexString(),32)}function n_(t){return wN.encode(Zs([t,Cs(W4(W4(t)),0,4)]))}const _V=new RegExp("^(ipfs)://(.*)$","i"),r_=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),_V,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function rw(t,e){try{return zv(I0(t,e))}catch{}return null}function I0(t,e){if(t==="0x")return null;const n=$e.from(Cs(t,e,e+32)).toNumber(),r=$e.from(Cs(t,n,n+32)).toNumber();return Cs(t,n+32,n+32+r)}function hI(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):Vt.throwArgumentError("unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}function s_(t){const e=lt(t);if(e.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(e,32-e.length),n}function Dfe(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}function DV(t){const e=[];let n=0;for(let r=0;r<t.length;r++)e.push(null),n+=32;for(let r=0;r<t.length;r++){const s=lt(t[r]);e[r]=s_(n),e.push(s_(s.length)),e.push(Dfe(s)),n+=32+Math.ceil(s.length/32)*32}return mi(e)}class i_{constructor(e,n,r,s){Ae(this,"provider",e),Ae(this,"name",r),Ae(this,"address",e.formatter.address(n)),Ae(this,"_resolvedAddress",s)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>$e.from(e).eq(1)).catch(e=>{if(e.code===se.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,n){return Et(this,void 0,void 0,function*(){const r={to:this.address,ccipReadEnabled:!0,data:mi([e,Qx(this.name),n||"0x"])};let s=!1;(yield this.supportsWildcard())&&(s=!0,r.data=mi(["0x9061b923",DV([Mue(this.name),r.data])]));try{let i=yield this.provider.call(r);return lt(i).length%32===4&&Vt.throwError("resolver threw error",se.errors.CALL_EXCEPTION,{transaction:r,data:i}),s&&(i=I0(i,0)),i}catch(i){if(i.code===se.errors.CALL_EXCEPTION)return null;throw i}})}_fetchBytes(e,n){return Et(this,void 0,void 0,function*(){const r=yield this._fetch(e,n);return r!=null?I0(r,0):null})}_getAddress(e,n){const r=_fe[String(e)];if(r==null&&Vt.throwError(`unsupported coin type: ${e}`,se.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),r.ilk==="eth")return this.provider.formatter.address(n);const s=lt(n);if(r.p2pkh!=null){const i=n.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(i){const a=parseInt(i[1],16);if(i[2].length===a*2&&a>=1&&a<=75)return n_(Zs([[r.p2pkh],"0x"+i[2]]))}}if(r.p2sh!=null){const i=n.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(i){const a=parseInt(i[1],16);if(i[2].length===a*2&&a>=1&&a<=75)return n_(Zs([[r.p2sh],"0x"+i[2]]))}}if(r.prefix!=null){const i=s[1];let a=s[0];if(a===0?i!==20&&i!==32&&(a=-1):a=-1,a>=0&&s.length===2+i&&i>=1&&i<=75){const o=X4.toWords(s.slice(2));return o.unshift(a),X4.encode(r.prefix,o)}}return null}getAddress(e){return Et(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const s=yield this._fetch("0x3b3b57de");return s==="0x"||s===Zce?null:this.provider.formatter.callAddress(s)}catch(s){if(s.code===se.errors.CALL_EXCEPTION)return null;throw s}const n=yield this._fetchBytes("0xf1cb7e06",fI(e));if(n==null||n==="0x")return null;const r=this._getAddress(e,n);return r==null&&Vt.throwError("invalid or unsupported coin data",se.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:n}),r})}getAvatar(){return Et(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const n=yield this.getText("avatar");if(n==null)return null;for(let r=0;r<r_.length;r++){const s=n.match(r_[r]);if(s==null)continue;const i=s[1].toLowerCase();switch(i){case"https":return e.push({type:"url",content:n}),{linkage:e,url:n};case"data":return e.push({type:"data",content:n}),{linkage:e,url:n};case"ipfs":return e.push({type:"ipfs",content:n}),{linkage:e,url:hI(n)};case"erc721":case"erc1155":{const a=i==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:i,content:n});const o=this._resolvedAddress||(yield this.getAddress()),l=(s[2]||"").split("/");if(l.length!==2)return null;const u=yield this.provider.formatter.address(l[0]),d=Kn($e.from(l[1]).toHexString(),32);if(i==="erc721"){const m=this.provider.formatter.callAddress(yield this.provider.call({to:u,data:mi(["0x6352211e",d])}));if(o!==m)return null;e.push({type:"owner",content:m})}else if(i==="erc1155"){const m=$e.from(yield this.provider.call({to:u,data:mi(["0x00fdd58e",Kn(o,32),d])}));if(m.isZero())return null;e.push({type:"balance",content:m.toString()})}const p={to:this.provider.formatter.address(l[0]),data:mi([a,d])};let f=rw(yield this.provider.call(p),0);if(f==null)return null;e.push({type:"metadata-url-base",content:f}),i==="erc1155"&&(f=f.replace("{id}",d.substring(2)),e.push({type:"metadata-url-expanded",content:f})),f.match(/^ipfs:/i)&&(f=hI(f)),e.push({type:"metadata-url",content:f});const h=yield WS(f);if(!h)return null;e.push({type:"metadata",content:JSON.stringify(h)});let y=h.image;if(typeof y!="string")return null;if(!y.match(/^(https:\/\/|data:)/i)){if(y.match(_V)==null)return null;e.push({type:"url-ipfs",content:y}),y=hI(y)}return e.push({type:"url",content:y}),{linkage:e,url:y}}}}}catch{}return null})}getContentHash(){return Et(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const n=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const a=parseInt(n[3],16);if(n[4].length===a*2)return"ipfs://"+wN.encode("0x"+n[1])}const r=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const a=parseInt(r[3],16);if(r[4].length===a*2)return"ipns://"+wN.encode("0x"+r[1])}const s=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(s&&s[1].length===32*2)return"bzz://"+s[1];const i=e.match(/^0x90b2c605([0-9a-f]*)$/);if(i&&i[1].length===34*2){const a={"=":"","+":"-","/":"_"};return"sia://"+Uz("0x"+i[1]).replace(/[=+\/]/g,l=>a[l])}return Vt.throwError("invalid or unsupported content hash data",se.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return Et(this,void 0,void 0,function*(){let n=El(e);n=Zs([fI(64),fI(n.length),n]),n.length%32!==0&&(n=Zs([n,Kn("0x",32-e.length%32)]));const r=yield this._fetchBytes("0x59d1d43c",Je(n));return r==null||r==="0x"?null:zv(r)})}}let mI=null,Ofe=1;class Lfe extends JT{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),Ae(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(n=>{}),this._ready().catch(n=>{});else{const n=Xi(new.target,"getNetwork")(e);n?(Ae(this,"_network",n),this.emit("network",n,null)):Vt.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return Et(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||Vt.throwError("no network detected",se.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:Ae(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return rg(()=>this._ready().then(e=>e,e=>{if(!(e.code===se.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return mI==null&&(mI=new Xe),mI}static getNetwork(e){return hfe(e??"homestead")}ccipReadFetch(e,n,r){return Et(this,void 0,void 0,function*(){if(this.disableCcipRead||r.length===0)return null;const s=e.to.toLowerCase(),i=n.toLowerCase(),a=[];for(let o=0;o<r.length;o++){const l=r[o],u=l.replace("{sender}",s).replace("{data}",i),d=l.indexOf("{data}")>=0?null:JSON.stringify({data:i,sender:s}),p=yield WS({url:u,errorPassThrough:!0},d,(h,y)=>(h.status=y.statusCode,h));if(p.data)return p.data;const f=p.message||"unknown error";if(p.status>=400&&p.status<500)return Vt.throwError(`response not found during CCIP fetch: ${f}`,se.errors.SERVER_ERROR,{url:l,errorMessage:f});a.push(f)}return Vt.throwError(`error encountered during CCIP fetch: ${a.map(o=>JSON.stringify(o)).join(", ")}`,se.errors.SERVER_ERROR,{urls:r,errorMessages:a})})}_getInternalBlockNumber(e){return Et(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const s=this._internalBlockNumber;try{const i=yield s;if(Dy()-i.respTime<=e)return i.blockNumber;break}catch{if(this._internalBlockNumber===s)break}}const n=Dy(),r=Nr({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(s=>null,s=>s)}).then(({blockNumber:s,networkError:i})=>{if(i)throw this._internalBlockNumber===r&&(this._internalBlockNumber=null),i;const a=Dy();return s=$e.from(s).toNumber(),s<this._maxInternalBlockNumber&&(s=this._maxInternalBlockNumber),this._maxInternalBlockNumber=s,this._setFastBlockNumber(s),{blockNumber:s,reqTime:n,respTime:a}});return this._internalBlockNumber=r,r.catch(s=>{this._internalBlockNumber===r&&(this._internalBlockNumber=null)}),(yield r).blockNumber})}poll(){return Et(this,void 0,void 0,function*(){const e=Ofe++,n=[];let r=null;try{r=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(s){this.emit("error",s);return}if(this._setFastBlockNumber(r),this.emit("poll",e,r),r===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=r-1),Math.abs(this._emitted.block-r)>1e3)Vt.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${r})`),this.emit("error",Vt.makeError("network block skew detected",se.errors.NETWORK_ERROR,{blockNumber:r,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",r);else for(let s=this._emitted.block+1;s<=r;s++)this.emit("block",s);this._emitted.block!==r&&(this._emitted.block=r,Object.keys(this._emitted).forEach(s=>{if(s==="block")return;const i=this._emitted[s];i!=="pending"&&r-i>12&&delete this._emitted[s]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=r-1),this._events.forEach(s=>{switch(s.type){case"tx":{const i=s.hash;let a=this.getTransactionReceipt(i).then(o=>(!o||o.blockNumber==null||(this._emitted["t:"+i]=o.blockNumber,this.emit(i,o)),null)).catch(o=>{this.emit("error",o)});n.push(a);break}case"filter":{if(!s._inflight){s._inflight=!0,s._lastBlockNumber===-2&&(s._lastBlockNumber=r-1);const i=s.filter;i.fromBlock=s._lastBlockNumber+1,i.toBlock=r;const a=i.toBlock-this._maxFilterBlockRange;a>i.fromBlock&&(i.fromBlock=a),i.fromBlock<0&&(i.fromBlock=0);const o=this.getLogs(i).then(l=>{s._inflight=!1,l.length!==0&&l.forEach(u=>{u.blockNumber>s._lastBlockNumber&&(s._lastBlockNumber=u.blockNumber),this._emitted["b:"+u.blockHash]=u.blockNumber,this._emitted["t:"+u.transactionHash]=u.blockNumber,this.emit(i,u)})}).catch(l=>{this.emit("error",l),s._inflight=!1});n.push(o)}break}}}),this._lastBlockNumber=r,Promise.all(n).then(()=>{this.emit("didPoll",e)}).catch(s=>{this.emit("error",s)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return Et(this,void 0,void 0,function*(){return Vt.throwError("provider does not support network detection",se.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return Et(this,void 0,void 0,function*(){const e=yield this._ready(),n=yield this.detectNetwork();if(e.chainId!==n.chainId){if(this.anyNetwork)return this._network=n,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",n,e),yield t_(0),this._network;const r=Vt.makeError("underlying network changed",se.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:n});throw this.emit("error",r),r}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=Dy();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(n=>((this._fastBlockNumber==null||n>this._fastBlockNumber)&&(this._fastBlockNumber=n),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=Dy(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,n,r){return Et(this,void 0,void 0,function*(){return this._waitForTransaction(e,n??1,r||0,null)})}_waitForTransaction(e,n,r,s){return Et(this,void 0,void 0,function*(){const i=yield this.getTransactionReceipt(e);return(i?i.confirmations:0)>=n?i:new Promise((a,o)=>{const l=[];let u=!1;const d=function(){return u?!0:(u=!0,l.forEach(f=>{f()}),!1)},p=f=>{f.confirmations<n||d()||a(f)};if(this.on(e,p),l.push(()=>{this.removeListener(e,p)}),s){let f=s.startBlock,h=null;const y=m=>Et(this,void 0,void 0,function*(){u||(yield t_(1e3),this.getTransactionCount(s.from).then(b=>Et(this,void 0,void 0,function*(){if(!u){if(b<=s.nonce)f=m;else{{const v=yield this.getTransaction(e);if(v&&v.blockNumber!=null)return}for(h==null&&(h=f-3,h<s.startBlock&&(h=s.startBlock));h<=m;){if(u)return;const v=yield this.getBlockWithTransactions(h);for(let g=0;g<v.transactions.length;g++){const x=v.transactions[g];if(x.hash===e)return;if(x.from===s.from&&x.nonce===s.nonce){if(u)return;const T=yield this.waitForTransaction(x.hash,n);if(d())return;let I="replaced";x.data===s.data&&x.to===s.to&&x.value.eq(s.value)?I="repriced":x.data==="0x"&&x.from===x.to&&x.value.isZero()&&(I="cancelled"),o(Vt.makeError("transaction was replaced",se.errors.TRANSACTION_REPLACED,{cancelled:I==="replaced"||I==="cancelled",reason:I,replacement:this._wrapTransaction(x),hash:e,receipt:T}));return}}h++}}u||this.once("block",y)}}),b=>{u||this.once("block",y)}))});if(u)return;this.once("block",y),l.push(()=>{this.removeListener("block",y)})}if(typeof r=="number"&&r>0){const f=setTimeout(()=>{d()||o(Vt.makeError("timeout exceeded",se.errors.TIMEOUT,{timeout:r}))},r);f.unref&&f.unref(),l.push(()=>{clearTimeout(f)})}})})}getBlockNumber(){return Et(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return Et(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return $e.from(e)}catch(n){return Vt.throwError("bad result from backend",se.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:n})}})}getBalance(e,n){return Et(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Nr({address:this._getAddress(e),blockTag:this._getBlockTag(n)}),s=yield this.perform("getBalance",r);try{return $e.from(s)}catch(i){return Vt.throwError("bad result from backend",se.errors.SERVER_ERROR,{method:"getBalance",params:r,result:s,error:i})}})}getTransactionCount(e,n){return Et(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Nr({address:this._getAddress(e),blockTag:this._getBlockTag(n)}),s=yield this.perform("getTransactionCount",r);try{return $e.from(s).toNumber()}catch(i){return Vt.throwError("bad result from backend",se.errors.SERVER_ERROR,{method:"getTransactionCount",params:r,result:s,error:i})}})}getCode(e,n){return Et(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Nr({address:this._getAddress(e),blockTag:this._getBlockTag(n)}),s=yield this.perform("getCode",r);try{return Je(s)}catch(i){return Vt.throwError("bad result from backend",se.errors.SERVER_ERROR,{method:"getCode",params:r,result:s,error:i})}})}getStorageAt(e,n,r){return Et(this,void 0,void 0,function*(){yield this.getNetwork();const s=yield Nr({address:this._getAddress(e),blockTag:this._getBlockTag(r),position:Promise.resolve(n).then(a=>_S(a))}),i=yield this.perform("getStorageAt",s);try{return Je(i)}catch(a){return Vt.throwError("bad result from backend",se.errors.SERVER_ERROR,{method:"getStorageAt",params:s,result:i,error:a})}})}_wrapTransaction(e,n,r){if(n!=null&&tf(n)!==32)throw new Error("invalid response - sendTransaction");const s=e;return n!=null&&e.hash!==n&&Vt.throwError("Transaction hash mismatch from Provider.sendTransaction.",se.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:n}),s.wait=(i,a)=>Et(this,void 0,void 0,function*(){i==null&&(i=1),a==null&&(a=0);let o;i!==0&&r!=null&&(o={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:r});const l=yield this._waitForTransaction(e.hash,i,a,o);return l==null&&i===0?null:(this._emitted["t:"+e.hash]=l.blockNumber,l.status===0&&Vt.throwError("transaction failed",se.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:l}),l)}),s}sendTransaction(e){return Et(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Promise.resolve(e).then(i=>Je(i)),r=this.formatter.transaction(e);r.confirmations==null&&(r.confirmations=0);const s=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const i=yield this.perform("sendTransaction",{signedTransaction:n});return this._wrapTransaction(r,i,s)}catch(i){throw i.transaction=r,i.transactionHash=r.hash,i}})}_getTransactionRequest(e){return Et(this,void 0,void 0,function*(){const n=yield e,r={};return["from","to"].forEach(s=>{n[s]!=null&&(r[s]=Promise.resolve(n[s]).then(i=>i?this._getAddress(i):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(s=>{n[s]!=null&&(r[s]=Promise.resolve(n[s]).then(i=>i?$e.from(i):null))}),["type"].forEach(s=>{n[s]!=null&&(r[s]=Promise.resolve(n[s]).then(i=>i??null))}),n.accessList&&(r.accessList=this.formatter.accessList(n.accessList)),["data"].forEach(s=>{n[s]!=null&&(r[s]=Promise.resolve(n[s]).then(i=>i?Je(i):null))}),this.formatter.transactionRequest(yield Nr(r))})}_getFilter(e){return Et(this,void 0,void 0,function*(){e=yield e;const n={};return e.address!=null&&(n.address=this._getAddress(e.address)),["blockHash","topics"].forEach(r=>{e[r]!=null&&(n[r]=e[r])}),["fromBlock","toBlock"].forEach(r=>{e[r]!=null&&(n[r]=this._getBlockTag(e[r]))}),this.formatter.filter(yield Nr(n))})}_call(e,n,r){return Et(this,void 0,void 0,function*(){r>=Rfe&&Vt.throwError("CCIP read exceeded maximum redirections",se.errors.SERVER_ERROR,{redirects:r,transaction:e});const s=e.to,i=yield this.perform("call",{transaction:e,blockTag:n});if(r>=0&&n==="latest"&&s!=null&&i.substring(0,10)==="0x556f1830"&&tf(i)%32===4)try{const a=Cs(i,4),o=Cs(a,0,32);$e.from(o).eq(s)||Vt.throwError("CCIP Read sender did not match",se.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});const l=[],u=$e.from(Cs(a,32,64)).toNumber(),d=$e.from(Cs(a,u,u+32)).toNumber(),p=Cs(a,u+32);for(let v=0;v<d;v++){const g=rw(p,v*32);g==null&&Vt.throwError("CCIP Read contained corrupt URL string",se.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i}),l.push(g)}const f=I0(a,64);$e.from(Cs(a,100,128)).isZero()||Vt.throwError("CCIP Read callback selector included junk",se.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});const h=Cs(a,96,100),y=I0(a,128),m=yield this.ccipReadFetch(e,f,l);m==null&&Vt.throwError("CCIP Read disabled or provided no URLs",se.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});const b={to:s,data:mi([h,DV([m,y])])};return this._call(b,n,r+1)}catch(a){if(a.code===se.errors.SERVER_ERROR)throw a}try{return Je(i)}catch(a){return Vt.throwError("bad result from backend",se.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:n},result:i,error:a})}})}call(e,n){return Et(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Nr({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(n),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(r.transaction,r.blockTag,r.ccipReadEnabled?0:-1)})}estimateGas(e){return Et(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Nr({transaction:this._getTransactionRequest(e)}),r=yield this.perform("estimateGas",n);try{return $e.from(r)}catch(s){return Vt.throwError("bad result from backend",se.errors.SERVER_ERROR,{method:"estimateGas",params:n,result:r,error:s})}})}_getAddress(e){return Et(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&Vt.throwArgumentError("invalid address or ENS name","name",e);const n=yield this.resolveName(e);return n==null&&Vt.throwError("ENS name not configured",se.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),n})}_getBlock(e,n){return Et(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let r=-128;const s={includeTransactions:!!n};if(ln(e,32))s.blockHash=e;else try{s.blockTag=yield this._getBlockTag(e),ln(s.blockTag)&&(r=parseInt(s.blockTag.substring(2),16))}catch{Vt.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return rg(()=>Et(this,void 0,void 0,function*(){const i=yield this.perform("getBlock",s);if(i==null)return s.blockHash!=null&&this._emitted["b:"+s.blockHash]==null||s.blockTag!=null&&r>this._emitted.block?null:void 0;if(n){let a=null;for(let l=0;l<i.transactions.length;l++){const u=i.transactions[l];if(u.blockNumber==null)u.confirmations=0;else if(u.confirmations==null){a==null&&(a=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let d=a-u.blockNumber+1;d<=0&&(d=1),u.confirmations=d}}const o=this.formatter.blockWithTransactions(i);return o.transactions=o.transactions.map(l=>this._wrapTransaction(l)),o}return this.formatter.block(i)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return Et(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const n={transactionHash:this.formatter.hash(e,!0)};return rg(()=>Et(this,void 0,void 0,function*(){const r=yield this.perform("getTransaction",n);if(r==null)return this._emitted["t:"+e]==null?null:void 0;const s=this.formatter.transactionResponse(r);if(s.blockNumber==null)s.confirmations=0;else if(s.confirmations==null){let a=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-s.blockNumber+1;a<=0&&(a=1),s.confirmations=a}return this._wrapTransaction(s)}),{oncePoll:this})})}getTransactionReceipt(e){return Et(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const n={transactionHash:this.formatter.hash(e,!0)};return rg(()=>Et(this,void 0,void 0,function*(){const r=yield this.perform("getTransactionReceipt",n);if(r==null)return this._emitted["t:"+e]==null?null:void 0;if(r.blockHash==null)return;const s=this.formatter.receipt(r);if(s.blockNumber==null)s.confirmations=0;else if(s.confirmations==null){let a=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-s.blockNumber+1;a<=0&&(a=1),s.confirmations=a}return s}),{oncePoll:this})})}getLogs(e){return Et(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Nr({filter:this._getFilter(e)}),r=yield this.perform("getLogs",n);return r.forEach(s=>{s.removed==null&&(s.removed=!1)}),Xe.arrayOf(this.formatter.filterLog.bind(this.formatter))(r)})}getEtherPrice(){return Et(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return Et(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&Vt.throwArgumentError("invalid BlockTag","blockTag",e);let n=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return n+=e,n<0&&(n=0),this.formatter.blockTag(n)}return this.formatter.blockTag(e)})}getResolver(e){return Et(this,void 0,void 0,function*(){let n=e;for(;;){if(n===""||n==="."||e!=="eth"&&n==="eth")return null;const r=yield this._getResolver(n,"getResolver");if(r!=null){const s=new i_(this,r,e);return n!==e&&!(yield s.supportsWildcard())?null:s}n=n.split(".").slice(1).join(".")}})}_getResolver(e,n){return Et(this,void 0,void 0,function*(){n==null&&(n="ENS");const r=yield this.getNetwork();r.ensAddress||Vt.throwError("network does not support ENS",se.errors.UNSUPPORTED_OPERATION,{operation:n,network:r.name});try{const s=yield this.call({to:r.ensAddress,data:"0x0178b8bf"+Qx(e).substring(2)});return this.formatter.callAddress(s)}catch{}return null})}resolveName(e){return Et(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(r){if(ln(e))throw r}typeof e!="string"&&Vt.throwArgumentError("invalid ENS name","name",e);const n=yield this.getResolver(e);return n?yield n.getAddress():null})}lookupAddress(e){return Et(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const n=e.substring(2).toLowerCase()+".addr.reverse",r=yield this._getResolver(n,"lookupAddress");if(r==null)return null;const s=rw(yield this.call({to:r,data:"0x691f3431"+Qx(n).substring(2)}),0);return(yield this.resolveName(s))!=e?null:s})}getAvatar(e){return Et(this,void 0,void 0,function*(){let n=null;if(ln(e)){const i=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",a=yield this._getResolver(i,"getAvatar");if(!a)return null;n=new i_(this,a,i);try{const o=yield n.getAvatar();if(o)return o.url}catch(o){if(o.code!==se.errors.CALL_EXCEPTION)throw o}try{const o=rw(yield this.call({to:a,data:"0x691f3431"+Qx(i).substring(2)}),0);n=yield this.getResolver(o)}catch(o){if(o.code!==se.errors.CALL_EXCEPTION)throw o;return null}}else if(n=yield this.getResolver(e),!n)return null;const r=yield n.getAvatar();return r==null?null:r.url})}perform(e,n){return Vt.throwError(e+" not implemented",se.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(n=>n.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(n=>n.pollable()).length>0}_addEventListener(e,n,r){const s=new jfe(jf(e),n,r);return this._events.push(s),this._startEvent(s),this}on(e,n){return this._addEventListener(e,n,!1)}once(e,n){return this._addEventListener(e,n,!0)}emit(e,...n){let r=!1,s=[],i=jf(e);return this._events=this._events.filter(a=>a.tag!==i?!0:(setTimeout(()=>{a.listener.apply(this,n)},0),r=!0,a.once?(s.push(a),!1):!0)),s.forEach(a=>{this._stopEvent(a)}),r}listenerCount(e){if(!e)return this._events.length;let n=jf(e);return this._events.filter(r=>r.tag===n).length}listeners(e){if(e==null)return this._events.map(r=>r.listener);let n=jf(e);return this._events.filter(r=>r.tag===n).map(r=>r.listener)}off(e,n){if(n==null)return this.removeAllListeners(e);const r=[];let s=!1,i=jf(e);return this._events=this._events.filter(a=>a.tag!==i||a.listener!=n||s?!0:(s=!0,r.push(a),!1)),r.forEach(a=>{this._stopEvent(a)}),this}removeAllListeners(e){let n=[];if(e==null)n=this._events,this._events=[];else{const r=jf(e);this._events=this._events.filter(s=>s.tag!==r?!0:(n.push(s),!1))}return n.forEach(r=>{this._stopEvent(r)}),this}}var rc=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(d){try{u(r.next(d))}catch(p){a(p)}}function l(d){try{u(r.throw(d))}catch(p){a(p)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((r=r.apply(t,e||[])).next())})};const Er=new se(s2),$fe=["call","estimateGas"];function kg(t,e){if(t==null)return null;if(typeof t.message=="string"&&t.message.match("reverted")){const n=ln(t.data)?t.data:null;if(!e||n)return{message:t.message,data:n}}if(typeof t=="object"){for(const n in t){const r=kg(t[n],e);if(r)return r}return null}if(typeof t=="string")try{return kg(JSON.parse(t),e)}catch{}return null}function OV(t,e,n){const r=n.transaction||n.signedTransaction;if(t==="call"){const i=kg(e,!0);if(i)return i.data;Er.throwError("missing revert data in call exception; Transaction reverted without a reason string",se.errors.CALL_EXCEPTION,{data:"0x",transaction:r,error:e})}if(t==="estimateGas"){let i=kg(e.body,!1);i==null&&(i=kg(e,!1)),i&&Er.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",se.errors.UNPREDICTABLE_GAS_LIMIT,{reason:i.message,method:t,transaction:r,error:e})}let s=e.message;throw e.code===se.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?s=e.error.message:typeof e.body=="string"?s=e.body:typeof e.responseText=="string"&&(s=e.responseText),s=(s||"").toLowerCase(),s.match(/insufficient funds|base fee exceeds gas limit/i)&&Er.throwError("insufficient funds for intrinsic transaction cost",se.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:r}),s.match(/nonce (is )?too low/i)&&Er.throwError("nonce has already been used",se.errors.NONCE_EXPIRED,{error:e,method:t,transaction:r}),s.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&Er.throwError("replacement fee too low",se.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:r}),s.match(/only replay-protected/i)&&Er.throwError("legacy pre-eip-155 transactions not supported",se.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:r}),$fe.indexOf(t)>=0&&s.match(/gas required exceeds allowance|always failing transaction|execution reverted/)&&Er.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",se.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:r}),e}function a_(t){return new Promise(function(e){setTimeout(e,t)})}function Ffe(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function Oy(t){return t&&t.toLowerCase()}const IN={};class LV extends qm{constructor(e,n,r){if(super(),e!==IN)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");Ae(this,"provider",n),r==null&&(r=0),typeof r=="string"?(Ae(this,"_address",this.provider.formatter.address(r)),Ae(this,"_index",null)):typeof r=="number"?(Ae(this,"_index",r),Ae(this,"_address",null)):Er.throwArgumentError("invalid address or index","addressOrIndex",r)}connect(e){return Er.throwError("cannot alter JSON-RPC Signer connection",se.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new Bfe(IN,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&Er.throwError("unknown account #"+this._index,se.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=Dr(e);const n=this.getAddress().then(r=>(r&&(r=r.toLowerCase()),r));if(e.gasLimit==null){const r=Dr(e);r.from=n,e.gasLimit=this.provider.estimateGas(r)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(r=>rc(this,void 0,void 0,function*(){if(r==null)return null;const s=yield this.provider.resolveName(r);return s==null&&Er.throwArgumentError("provided ENS name resolves to null","tx.to",r),s}))),Nr({tx:Nr(e),sender:n}).then(({tx:r,sender:s})=>{r.from!=null?r.from.toLowerCase()!==s&&Er.throwArgumentError("from address mismatch","transaction",e):r.from=s;const i=this.provider.constructor.hexlifyTransaction(r,{from:!0});return this.provider.send("eth_sendTransaction",[i]).then(a=>a,a=>(typeof a.message=="string"&&a.message.match(/user denied/i)&&Er.throwError("user rejected transaction",se.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:r}),OV("sendTransaction",a,i)))})}signTransaction(e){return Er.throwError("signing transactions is unsupported",se.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return rc(this,void 0,void 0,function*(){const n=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),r=yield this.sendUncheckedTransaction(e);try{return yield rg(()=>rc(this,void 0,void 0,function*(){const s=yield this.provider.getTransaction(r);if(s!==null)return this.provider._wrapTransaction(s,r,n)}),{oncePoll:this.provider})}catch(s){throw s.transactionHash=r,s}})}signMessage(e){return rc(this,void 0,void 0,function*(){const n=typeof e=="string"?El(e):e,r=yield this.getAddress();try{return yield this.provider.send("personal_sign",[Je(n),r.toLowerCase()])}catch(s){throw typeof s.message=="string"&&s.message.match(/user denied/i)&&Er.throwError("user rejected signing",se.errors.ACTION_REJECTED,{action:"signMessage",from:r,message:n}),s}})}_legacySignMessage(e){return rc(this,void 0,void 0,function*(){const n=typeof e=="string"?El(e):e,r=yield this.getAddress();try{return yield this.provider.send("eth_sign",[r.toLowerCase(),Je(n)])}catch(s){throw typeof s.message=="string"&&s.message.match(/user denied/i)&&Er.throwError("user rejected signing",se.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:r,message:n}),s}})}_signTypedData(e,n,r){return rc(this,void 0,void 0,function*(){const s=yield Oi.resolveNames(e,n,r,a=>this.provider.resolveName(a)),i=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[i.toLowerCase(),JSON.stringify(Oi.getPayload(s.domain,n,s.value))])}catch(a){throw typeof a.message=="string"&&a.message.match(/user denied/i)&&Er.throwError("user rejected signing",se.errors.ACTION_REJECTED,{action:"_signTypedData",from:i,message:{domain:s.domain,types:n,value:s.value}}),a}})}unlock(e){return rc(this,void 0,void 0,function*(){const n=this.provider,r=yield this.getAddress();return n.send("personal_unlockAccount",[r.toLowerCase(),e,null])})}}class Bfe extends LV{sendTransaction(e){return this.sendUncheckedTransaction(e).then(n=>({hash:n,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:r=>this.provider.waitForTransaction(n,r)}))}}const Ufe={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class Wv extends Lfe{constructor(e,n){let r=n;r==null&&(r=new Promise((s,i)=>{setTimeout(()=>{this.detectNetwork().then(a=>{s(a)},a=>{i(a)})},0)})),super(r),e||(e=Xi(this.constructor,"defaultUrl")()),typeof e=="string"?Ae(this,"connection",Object.freeze({url:e})):Ae(this,"connection",Object.freeze(Dr(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return rc(this,void 0,void 0,function*(){yield a_(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const n=Xi(this.constructor,"getNetwork");try{return n($e.from(e).toNumber())}catch(r){return Er.throwError("could not detect network",se.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:r})}}return Er.throwError("could not detect network",se.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new LV(IN,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(n=>this.formatter.address(n)))}send(e,n){const r={method:e,params:n,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:Oc(r),provider:this});const s=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(s&&this._cache[e])return this._cache[e];const i=WS(this.connection,JSON.stringify(r),Ffe).then(a=>(this.emit("debug",{action:"response",request:r,response:a,provider:this}),a),a=>{throw this.emit("debug",{action:"response",error:a,request:r,provider:this}),a});return s&&(this._cache[e]=i,setTimeout(()=>{this._cache[e]=null},0)),i}prepareRequest(e,n){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[Oy(n.address),n.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[Oy(n.address),n.blockTag]];case"getCode":return["eth_getCode",[Oy(n.address),n.blockTag]];case"getStorageAt":return["eth_getStorageAt",[Oy(n.address),Kn(n.position,32),n.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[n.signedTransaction]];case"getBlock":return n.blockTag?["eth_getBlockByNumber",[n.blockTag,!!n.includeTransactions]]:n.blockHash?["eth_getBlockByHash",[n.blockHash,!!n.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[n.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[n.transactionHash]];case"call":return["eth_call",[Xi(this.constructor,"hexlifyTransaction")(n.transaction,{from:!0}),n.blockTag]];case"estimateGas":return["eth_estimateGas",[Xi(this.constructor,"hexlifyTransaction")(n.transaction,{from:!0})]];case"getLogs":return n.filter&&n.filter.address!=null&&(n.filter.address=Oy(n.filter.address)),["eth_getLogs",[n.filter]]}return null}perform(e,n){return rc(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const s=n.transaction;if(s&&s.type!=null&&$e.from(s.type).isZero()&&s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null){const i=yield this.getFeeData();i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null&&(n=Dr(n),n.transaction=Dr(s),delete n.transaction.type)}}const r=this.prepareRequest(e,n);r==null&&Er.throwError(e+" not implemented",se.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(r[0],r[1])}catch(s){return OV(e,s,n)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,n=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=n,n.then(function(r){function s(){e.send("eth_getFilterChanges",[r]).then(function(i){if(e._pendingFilter!=n)return null;let a=Promise.resolve();return i.forEach(function(o){e._emitted["t:"+o.toLowerCase()]="pending",a=a.then(function(){return e.getTransaction(o).then(function(l){return e.emit("pending",l),null})})}),a.then(function(){return a_(1e3)})}).then(function(){if(e._pendingFilter!=n){e.send("eth_uninstallFilter",[r]);return}return setTimeout(function(){s()},0),null}).catch(i=>{})}return s(),r}).catch(r=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,n){const r=Dr(Ufe);if(n)for(const i in n)n[i]&&(r[i]=!0);Az(e,r);const s={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(i){if(e[i]==null)return;const a=_S($e.from(e[i]));i==="gasLimit"&&(i="gas"),s[i]=a}),["from","to","data"].forEach(function(i){e[i]!=null&&(s[i]=Je(e[i]))}),e.accessList&&(s.accessList=ey(e.accessList)),s}}const o_=new se(s2);let zfe=1;function l_(t,e){const n="Web3LegacyFetcher";return function(r,s){const i={method:r,params:s,id:zfe++,jsonrpc:"2.0"};return new Promise((a,o)=>{this.emit("debug",{action:"request",fetcher:n,request:Oc(i),provider:this}),e(i,(l,u)=>{if(l)return this.emit("debug",{action:"response",fetcher:n,error:l,request:i,provider:this}),o(l);if(this.emit("debug",{action:"response",fetcher:n,request:i,response:u,provider:this}),u.error){const d=new Error(u.error.message);return d.code=u.error.code,d.data=u.error.data,o(d)}a(u.result)})})}}function Vfe(t){return function(e,n){n==null&&(n=[]);const r={method:e,params:n};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:Oc(r),provider:this}),t.request(r).then(s=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:r,response:s,provider:this}),s),s=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:r,error:s,provider:this}),s})}}class ko extends Wv{constructor(e,n){e==null&&o_.throwArgumentError("missing provider","provider",e);let r=null,s=null,i=null;typeof e=="function"?(r="unknown:",s=e):(r=e.host||e.path||"",!r&&e.isMetaMask&&(r="metamask"),i=e,e.request?(r===""&&(r="eip-1193:"),s=Vfe(e)):e.sendAsync?s=l_(e,e.sendAsync.bind(e)):e.send?s=l_(e,e.send.bind(e)):o_.throwArgumentError("unsupported provider","provider",e),r||(r="unknown:")),super(r,n),Ae(this,"jsonRpcFetchFunc",s),Ae(this,"provider",i)}send(e,n){return this.jsonRpcFetchFunc(e,n)}}function Ra(t){return"0x"+Sz.keccak_256(ta(t))}const Hfe="rlp/5.7.0",nl=new Bt(Hfe);function c_(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function u_(t,e,n){let r=0;for(let s=0;s<n;s++)r=r*256+t[e+s];return r}function $V(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(i){r=r.concat($V(i))}),r.length<=55)return r.unshift(192+r.length),r;const s=c_(r.length);return s.unshift(247+s.length),s.concat(r)}EV(t)||nl.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(ta(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const n=c_(e.length);return n.unshift(183+n.length),n.concat(e)}function FV(t){return Rr($V(t))}function d_(t,e,n,r){const s=[];for(;n<e+1+r;){const i=BV(t,n);s.push(i.result),n+=i.consumed,n>e+1+r&&nl.throwError("child data too short",Bt.errors.BUFFER_OVERRUN,{})}return{consumed:1+r,result:s}}function BV(t,e){if(t.length===0&&nl.throwError("data too short",Bt.errors.BUFFER_OVERRUN,{}),t[e]>=248){const n=t[e]-247;e+1+n>t.length&&nl.throwError("data short segment too short",Bt.errors.BUFFER_OVERRUN,{});const r=u_(t,e+1,n);return e+1+n+r>t.length&&nl.throwError("data long segment too short",Bt.errors.BUFFER_OVERRUN,{}),d_(t,e,e+1+n,n+r)}else if(t[e]>=192){const n=t[e]-192;return e+1+n>t.length&&nl.throwError("data array too short",Bt.errors.BUFFER_OVERRUN,{}),d_(t,e,e+1,n)}else if(t[e]>=184){const n=t[e]-183;e+1+n>t.length&&nl.throwError("data array too short",Bt.errors.BUFFER_OVERRUN,{});const r=u_(t,e+1,n);e+1+n+r>t.length&&nl.throwError("data array too short",Bt.errors.BUFFER_OVERRUN,{});const s=Rr(t.slice(e+1+n,e+1+n+r));return{consumed:1+n+r,result:s}}else if(t[e]>=128){const n=t[e]-128;e+1+n>t.length&&nl.throwError("data too short",Bt.errors.BUFFER_OVERRUN,{});const r=Rr(t.slice(e+1,e+1+n));return{consumed:1+n,result:r}}return{consumed:1,result:Rr(t[e])}}function Wfe(t){const e=ta(t),n=BV(e,0);return n.consumed!==e.length&&nl.throwArgumentError("invalid rlp data","data",t),n.result}const YFe=Object.freeze(Object.defineProperty({__proto__:null,decode:Wfe,encode:FV},Symbol.toStringTag,{value:"Module"})),Gfe="address/5.7.0",Fu=new Bt(Gfe);function p_(t){Ni(t,20)||Fu.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),n=new Uint8Array(40);for(let s=0;s<40;s++)n[s]=e[s].charCodeAt(0);const r=ta(Ra(n));for(let s=0;s<40;s+=2)r[s>>1]>>4>=8&&(e[s]=e[s].toUpperCase()),(r[s>>1]&15)>=8&&(e[s+1]=e[s+1].toUpperCase());return"0x"+e.join("")}const Kfe=9007199254740991;function Yfe(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const GS={};for(let t=0;t<10;t++)GS[String(t)]=String(t);for(let t=0;t<26;t++)GS[String.fromCharCode(65+t)]=String(10+t);const f_=Math.floor(Yfe(Kfe));function UV(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(r=>GS[r]).join("");for(;e.length>=f_;){let r=e.substring(0,f_);e=parseInt(r,10)%97+e.substring(r.length)}let n=String(98-parseInt(e,10)%97);for(;n.length<2;)n="0"+n;return n}function Ac(t){let e=null;if(typeof t!="string"&&Fu.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=p_(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&Fu.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==UV(t)&&Fu.throwArgumentError("bad icap checksum","address",t),e=ofe(t.substring(4));e.length<40;)e="0"+e;e=p_("0x"+e)}else Fu.throwArgumentError("invalid address","address",t);return e}function KS(t){try{return Ac(t),!0}catch{}return!1}function qFe(t){let e=lfe(Ac(t).substring(2)).toUpperCase();for(;e.length<30;)e="0"+e;return"XE"+UV("XE00"+e)+e}function ZFe(t){let e=null;try{e=Ac(t.from)}catch{Fu.throwArgumentError("missing from address","transaction",t)}const n=nfe(ta(Bn.from(t.nonce).toHexString()));return Ac(RV(Ra(FV([e,n])),12))}function XFe(t,e,n){return z4(e)!==32&&Fu.throwArgumentError("salt must be 32 bytes","salt",e),z4(n)!==32&&Fu.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",n),Ac(RV(Ra(SV(["0xff",Ac(t),e,n])),12))}const qfe="strings/5.7.0",zV=new Bt(qfe);var k0;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(k0||(k0={}));var Hi;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(Hi||(Hi={}));function Zfe(t,e,n,r,s){return zV.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",n)}function VV(t,e,n,r,s){if(t===Hi.BAD_PREFIX||t===Hi.UNEXPECTED_CONTINUE){let i=0;for(let a=e+1;a<n.length&&n[a]>>6===2;a++)i++;return i}return t===Hi.OVERRUN?n.length-e-1:0}function Xfe(t,e,n,r,s){return t===Hi.OVERLONG?(r.push(s),0):(r.push(65533),VV(t,e,n))}const Jfe=Object.freeze({error:Zfe,ignore:VV,replace:Xfe});function YS(t,e){e==null&&(e=Jfe.error),t=ta(t);const n=[];let r=0;for(;r<t.length;){const s=t[r++];if(!(s>>7)){n.push(s);continue}let i=null,a=null;if((s&224)===192)i=1,a=127;else if((s&240)===224)i=2,a=2047;else if((s&248)===240)i=3,a=65535;else{(s&192)===128?r+=e(Hi.UNEXPECTED_CONTINUE,r-1,t,n):r+=e(Hi.BAD_PREFIX,r-1,t,n);continue}if(r-1+i>=t.length){r+=e(Hi.OVERRUN,r-1,t,n);continue}let o=s&(1<<8-i-1)-1;for(let l=0;l<i;l++){let u=t[r];if((u&192)!=128){r+=e(Hi.MISSING_CONTINUE,r,t,n),o=null;break}o=o<<6|u&63,r++}if(o!==null){if(o>1114111){r+=e(Hi.OUT_OF_RANGE,r-1-i,t,n,o);continue}if(o>=55296&&o<=57343){r+=e(Hi.UTF16_SURROGATE,r-1-i,t,n,o);continue}if(o<=a){r+=e(Hi.OVERLONG,r-1-i,t,n,o);continue}n.push(o)}}return n}function Ic(t,e=k0.current){e!=k0.current&&(zV.checkNormalize(),t=t.normalize(e));let n=[];for(let r=0;r<t.length;r++){const s=t.charCodeAt(r);if(s<128)n.push(s);else if(s<2048)n.push(s>>6|192),n.push(s&63|128);else if((s&64512)==55296){r++;const i=t.charCodeAt(r);if(r>=t.length||(i&64512)!==56320)throw new Error("invalid utf-8 string");const a=65536+((s&1023)<<10)+(i&1023);n.push(a>>18|240),n.push(a>>12&63|128),n.push(a>>6&63|128),n.push(a&63|128)}else n.push(s>>12|224),n.push(s>>6&63|128),n.push(s&63|128)}return ta(n)}function yI(t){const e="0000"+t.toString(16);return"\\u"+e.substring(e.length-4)}function JFe(t,e){return'"'+YS(t,e).map(n=>{if(n<256){switch(n){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(n>=32&&n<127)return String.fromCharCode(n)}return n<=65535?yI(n):(n-=65536,yI((n>>10&1023)+55296)+yI((n&1023)+56320))}).join("")+'"'}function Qfe(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function QFe(t,e){return Qfe(YS(t,e))}function e9e(t,e=k0.current){return YS(Ic(t,e))}const ehe="units/5.7.0",HV=new se(ehe),WV=["wei","kwei","mwei","gwei","szabo","finney","ether"];function t9e(t){const e=String(t).split(".");(e.length>2||!e[0].match(/^-?[0-9]*$/)||e[1]&&!e[1].match(/^[0-9]*$/)||t==="."||t==="-.")&&HV.throwArgumentError("invalid value","value",t);let n=e[0],r="";for(n.substring(0,1)==="-"&&(r="-",n=n.substring(1));n.substring(0,1)==="0";)n=n.substring(1);n===""&&(n="0");let s="";for(e.length===2&&(s="."+(e[1]||"0"));s.length>2&&s[s.length-1]==="0";)s=s.substring(0,s.length-1);const i=[];for(;n.length;)if(n.length<=3){i.unshift(n);break}else{const a=n.length-3;i.unshift(n.substring(a)),n=n.substring(0,a)}return r+i.join(",")+s}function po(t,e){if(typeof e=="string"){const n=WV.indexOf(e);n!==-1&&(e=3*n)}return Xx(t,e??18)}function qS(t,e){if(typeof t!="string"&&HV.throwArgumentError("value must be a string","value",t),typeof e=="string"){const n=WV.indexOf(e);n!==-1&&(e=3*n)}return qo(t,e??18)}function _e(t){return po(t,18)}function ja(t){return qS(t,18)}const the={STORY_AEINED_TESTNET:{chainId:1315,name:"Story Aeined Testnet",rpcUrl:"https://aeneid.storyrpc.io",blockExplorer:"https://testnet.storyscan.xyz",nativeCurrency:{name:"IP",symbol:"IP",decimals:18},contracts:{IP_ASSET_REGISTRY:"0x1a9d0d28a0422f26d31be72edc6f13ea4371e11b",LICENSING_MODULE:"0x5a7d9fa17de09350f481a53b470d798c1c1b7485",ROYALTY_MODULE:"0x16eF58e959522727588921A92e424025b49D4B29",SPG_NFT_CONTRACT:"",PIL_TEMPLATE:"0x58E2c909D557Cd23EF90D14f8fd21667A5Ae7a93",LAP_ROYALTY_POLICY:"0x28b4F70ffE5ba7A26aEF979226f77Eb57fb9Fdb6",WIP_TOKEN_ADDRESS:"0xB132A6B7AE652c974EE1557A3521D53d18F6739f",USDC_ADDRESS:""}}},nhe="STORY_AEINED_TESTNET",h_=the[nhe],GV=A.createContext(void 0),ir=()=>{const t=A.useContext(GV);if(!t)throw new Error("useWallet must be used within a WalletProvider");return t},rhe=({children:t})=>{const[e,n]=A.useState(null),[r,s]=A.useState(!1),[i,a]=A.useState(null),[o,l]=A.useState(null),[u,d]=A.useState(null),[p,f]=A.useState(null),h=h_.chainId,y=p===h,m=async()=>{try{if(!window.ethereum)throw new Error("No wallet found");const x=h_;try{return await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:`0x${x.chainId.toString(16)}`}]}),!0}catch(T){if(T.code===4902)try{return await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:`0x${x.chainId.toString(16)}`,chainName:x.name,nativeCurrency:x.nativeCurrency,rpcUrls:[x.rpcUrl],blockExplorerUrls:[x.blockExplorer]}]}),!0}catch(I){return console.error("Failed to add Story Aeined Testnet:",I),!1}return console.error("Failed to switch to Story Aeined Testnet:",T),!1}}catch(x){return console.error("Network switch error:",x),!1}},b=async()=>{try{if(!window.ethereum)throw new Error("No wallet found. Please install MetaMask.");const x=new ko(window.ethereum);await x.send("eth_requestAccounts",[]);const T=x.getSigner(),I=await T.getAddress(),C=await x.getNetwork();f(C.chainId),d(C.name),a(x),l(T),n(I),s(!0),localStorage.setItem("walletConnected","true")}catch(x){throw console.error("Failed to connect wallet:",x),x}},v=()=>{a(null),l(null),n(null),s(!1),d(null),f(null),localStorage.removeItem("walletConnected")};A.useEffect(()=>{(async()=>{if(localStorage.getItem("walletConnected")&&window.ethereum)try{const I=new ko(window.ethereum);if((await I.listAccounts()).length>0){const N=I.getSigner(),P=await N.getAddress(),L=await I.getNetwork();f(L.chainId),d(L.name),a(I),l(N),n(P),s(!0)}}catch(I){console.error("Auto-connect failed:",I),localStorage.removeItem("walletConnected")}})()},[]),A.useEffect(()=>{if(window.ethereum){const x=I=>{I.length===0?v():I[0]!==e&&b()},T=()=>{window.location.reload()};return window.ethereum.on("accountsChanged",x),window.ethereum.on("chainChanged",T),()=>{window.ethereum.removeListener("accountsChanged",x),window.ethereum.removeListener("chainChanged",T)}}},[e]);const g={address:e,isConnected:r,provider:i,signer:o,network:u,chainId:p,connectWallet:b,disconnectWallet:v,switchToRequiredNetwork:m,isCorrectNetwork:y};return c.jsx(GV.Provider,{value:g,children:t})},ZS=A.createContext({});function XS(t){const e=A.useRef(null);return e.current===null&&(e.current=t()),e.current}const JS=typeof window<"u",KV=JS?A.useLayoutEffect:A.useEffect,i2=A.createContext(null);function QS(t,e){t.indexOf(e)===-1&&t.push(e)}function eR(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Fc=(t,e,n)=>n>e?e:n<t?t:n;let T1=()=>{};const Bc={},YV=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function qV(t){return typeof t=="object"&&t!==null}const ZV=t=>/^0[^.\s]+$/u.test(t);function tR(t){let e;return()=>(e===void 0&&(e=t()),e)}const _a=t=>t,she=(t,e)=>n=>e(t(n)),Gv=(...t)=>t.reduce(she),C0=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};let nR=class{constructor(){this.subscriptions=[]}add(e){return QS(this.subscriptions,e),()=>eR(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}};const gl=t=>t*1e3,vl=t=>t/1e3;function XV(t,e){return e?t*(1e3/e):0}const JV=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,ihe=1e-7,ahe=12;function ohe(t,e,n,r,s){let i,a,o=0;do a=e+(n-e)/2,i=JV(a,r,s)-t,i>0?n=a:e=a;while(Math.abs(i)>ihe&&++o<ahe);return a}function Kv(t,e,n,r){if(t===e&&n===r)return _a;const s=i=>ohe(i,0,1,t,n);return i=>i===0||i===1?i:JV(s(i),e,r)}const QV=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,eH=t=>e=>1-t(1-e),tH=Kv(.33,1.53,.69,.99),rR=eH(tH),nH=QV(rR),rH=t=>(t*=2)<1?.5*rR(t):.5*(2-Math.pow(2,-10*(t-1))),sR=t=>1-Math.sin(Math.acos(t)),sH=eH(sR),iH=QV(sR),lhe=Kv(.42,0,1,1),che=Kv(0,0,.58,1),aH=Kv(.42,0,.58,1),uhe=t=>Array.isArray(t)&&typeof t[0]!="number",oH=t=>Array.isArray(t)&&typeof t[0]=="number",m_={linear:_a,easeIn:lhe,easeInOut:aH,easeOut:che,circIn:sR,circInOut:iH,circOut:sH,backIn:rR,backInOut:nH,backOut:tH,anticipate:rH},dhe=t=>typeof t=="string",y_=t=>{if(oH(t)){T1(t.length===4);const[e,n,r,s]=t;return Kv(e,n,r,s)}else if(dhe(t))return T1(m_[t]!==void 0),m_[t];return t},Kb=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],g_={value:null,addProjectionMetrics:null};function phe(t,e){let n=new Set,r=new Set,s=!1,i=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1},l=0;function u(p){a.has(p)&&(d.schedule(p),t()),l++,p(o)}const d={schedule:(p,f=!1,h=!1)=>{const m=h&&s?n:r;return f&&a.add(p),m.has(p)||m.add(p),p},cancel:p=>{r.delete(p),a.delete(p)},process:p=>{if(o=p,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(u),e&&g_.value&&g_.value.frameloop[e].push(l),l=0,n.clear(),s=!1,i&&(i=!1,d.process(p))}};return d}const fhe=40;function lH(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=Kb.reduce((x,T)=>(x[T]=phe(i,e?T:void 0),x),{}),{setup:o,read:l,resolveKeyframes:u,preUpdate:d,update:p,preRender:f,render:h,postRender:y}=a,m=()=>{const x=Bc.useManualTiming?s.timestamp:performance.now();n=!1,Bc.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(x-s.timestamp,fhe),1)),s.timestamp=x,s.isProcessing=!0,o.process(s),l.process(s),u.process(s),d.process(s),p.process(s),f.process(s),h.process(s),y.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(m))},b=()=>{n=!0,r=!0,s.isProcessing||t(m)};return{schedule:Kb.reduce((x,T)=>{const I=a[T];return x[T]=(C,N=!1,P=!1)=>(n||b(),I.schedule(C,N,P)),x},{}),cancel:x=>{for(let T=0;T<Kb.length;T++)a[Kb[T]].cancel(x)},state:s,steps:a}}const{schedule:rr,cancel:wd,state:cs,steps:gI}=lH(typeof requestAnimationFrame<"u"?requestAnimationFrame:_a,!0);let sw;function hhe(){sw=void 0}const wi={now:()=>(sw===void 0&&wi.set(cs.isProcessing||Bc.useManualTiming?cs.timestamp:performance.now()),sw),set:t=>{sw=t,queueMicrotask(hhe)}},cH=t=>e=>typeof e=="string"&&e.startsWith(t),iR=cH("--"),mhe=cH("var(--"),aR=t=>mhe(t)?yhe.test(t.split("/*")[0].trim()):!1,yhe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ty={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},N0={...ty,transform:t=>Fc(0,1,t)},Yb={...ty,default:1},Cg=t=>Math.round(t*1e5)/1e5,oR=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ghe(t){return t==null}const vhe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,lR=(t,e)=>n=>!!(typeof n=="string"&&vhe.test(n)&&n.startsWith(t)||e&&!ghe(n)&&Object.prototype.hasOwnProperty.call(n,e)),uH=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,a,o]=r.match(oR);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},bhe=t=>Fc(0,255,t),vI={...ty,transform:t=>Math.round(bhe(t))},dp={test:lR("rgb","red"),parse:uH("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+vI.transform(t)+", "+vI.transform(e)+", "+vI.transform(n)+", "+Cg(N0.transform(r))+")"};function xhe(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const kN={test:lR("#"),parse:xhe,transform:dp.transform},Yv=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),pu=Yv("deg"),bl=Yv("%"),At=Yv("px"),whe=Yv("vh"),The=Yv("vw"),v_={...bl,parse:t=>bl.parse(t)/100,transform:t=>bl.transform(t*100)},uh={test:lR("hsl","hue"),parse:uH("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+bl.transform(Cg(e))+", "+bl.transform(Cg(n))+", "+Cg(N0.transform(r))+")"},Is={test:t=>dp.test(t)||kN.test(t)||uh.test(t),parse:t=>dp.test(t)?dp.parse(t):uh.test(t)?uh.parse(t):kN.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?dp.transform(t):uh.transform(t)},Ahe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Ihe(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(oR))==null?void 0:e.length)||0)+(((n=t.match(Ahe))==null?void 0:n.length)||0)>0}const dH="number",pH="color",khe="var",Che="var(",b_="${}",Nhe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function E0(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const o=e.replace(Nhe,l=>(Is.test(l)?(r.color.push(i),s.push(pH),n.push(Is.parse(l))):l.startsWith(Che)?(r.var.push(i),s.push(khe),n.push(l)):(r.number.push(i),s.push(dH),n.push(parseFloat(l))),++i,b_)).split(b_);return{values:n,split:o,indexes:r,types:s}}function fH(t){return E0(t).values}function hH(t){const{split:e,types:n}=E0(t),r=e.length;return s=>{let i="";for(let a=0;a<r;a++)if(i+=e[a],s[a]!==void 0){const o=n[a];o===dH?i+=Cg(s[a]):o===pH?i+=Is.transform(s[a]):i+=s[a]}return i}}const Ehe=t=>typeof t=="number"?0:t;function She(t){const e=fH(t);return hH(t)(e.map(Ehe))}const Td={test:Ihe,parse:fH,createTransformer:hH,getAnimatableNone:She};function bI(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Rhe({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,a=0;if(!e)s=i=a=n;else{const o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;s=bI(l,o,t+1/3),i=bI(l,o,t),a=bI(l,o,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}function A1(t,e){return n=>n>0?e:t}const er=(t,e,n)=>t+(e-t)*n,xI=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},Phe=[kN,dp,uh],Mhe=t=>Phe.find(e=>e.test(t));function x_(t){const e=Mhe(t);if(!e)return!1;let n=e.parse(t);return e===uh&&(n=Rhe(n)),n}const w_=(t,e)=>{const n=x_(t),r=x_(e);if(!n||!r)return A1(t,e);const s={...n};return i=>(s.red=xI(n.red,r.red,i),s.green=xI(n.green,r.green,i),s.blue=xI(n.blue,r.blue,i),s.alpha=er(n.alpha,r.alpha,i),dp.transform(s))},CN=new Set(["none","hidden"]);function jhe(t,e){return CN.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function _he(t,e){return n=>er(t,e,n)}function cR(t){return typeof t=="number"?_he:typeof t=="string"?aR(t)?A1:Is.test(t)?w_:Lhe:Array.isArray(t)?mH:typeof t=="object"?Is.test(t)?w_:Dhe:A1}function mH(t,e){const n=[...t],r=n.length,s=t.map((i,a)=>cR(i)(i,e[a]));return i=>{for(let a=0;a<r;a++)n[a]=s[a](i);return n}}function Dhe(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=cR(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function Ohe(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],a=t.indexes[i][r[i]],o=t.values[a]??0;n[s]=o,r[i]++}return n}const Lhe=(t,e)=>{const n=Td.createTransformer(e),r=E0(t),s=E0(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?CN.has(t)&&!s.values.length||CN.has(e)&&!r.values.length?jhe(t,e):Gv(mH(Ohe(r,s),s.values),n):A1(t,e)};function yH(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?er(t,e,n):cR(t)(t,e)}const $he=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>rr.update(e,n),stop:()=>wd(e),now:()=>cs.isProcessing?cs.timestamp:wi.now()}},gH=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=t(i/(s-1))+", ";return`linear(${r.substring(0,r.length-2)})`},I1=2e4;function uR(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<I1;)e+=n,r=t.next(e);return e>=I1?1/0:e}function Fhe(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(uR(r),I1);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:vl(s)}}const Bhe=5;function vH(t,e,n){const r=Math.max(e-Bhe,0);return XV(n-t(r),e-r)}const dr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},wI=.001;function Uhe({duration:t=dr.duration,bounce:e=dr.bounce,velocity:n=dr.velocity,mass:r=dr.mass}){let s,i,a=1-e;a=Fc(dr.minDamping,dr.maxDamping,a),t=Fc(dr.minDuration,dr.maxDuration,vl(t)),a<1?(s=u=>{const d=u*a,p=d*t,f=d-n,h=NN(u,a),y=Math.exp(-p);return wI-f/h*y},i=u=>{const p=u*a*t,f=p*n+n,h=Math.pow(a,2)*Math.pow(u,2)*t,y=Math.exp(-p),m=NN(Math.pow(u,2),a);return(-s(u)+wI>0?-1:1)*((f-h)*y)/m}):(s=u=>{const d=Math.exp(-u*t),p=(u-n)*t+1;return-wI+d*p},i=u=>{const d=Math.exp(-u*t),p=(n-u)*(t*t);return d*p});const o=5/t,l=Vhe(s,i,o);if(t=gl(t),isNaN(l))return{stiffness:dr.stiffness,damping:dr.damping,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:t}}}const zhe=12;function Vhe(t,e,n){let r=n;for(let s=1;s<zhe;s++)r=r-t(r)/e(r);return r}function NN(t,e){return t*Math.sqrt(1-e*e)}const Hhe=["duration","bounce"],Whe=["stiffness","damping","mass"];function T_(t,e){return e.some(n=>t[n]!==void 0)}function Ghe(t){let e={velocity:dr.velocity,stiffness:dr.stiffness,damping:dr.damping,mass:dr.mass,isResolvedFromDuration:!1,...t};if(!T_(t,Whe)&&T_(t,Hhe))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Fc(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:dr.mass,stiffness:s,damping:i}}else{const n=Uhe(t);e={...e,...n,mass:dr.mass},e.isResolvedFromDuration=!0}return e}function k1(t=dr.visualDuration,e=dr.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:i},{stiffness:l,damping:u,mass:d,duration:p,velocity:f,isResolvedFromDuration:h}=Ghe({...n,velocity:-vl(n.velocity||0)}),y=f||0,m=u/(2*Math.sqrt(l*d)),b=a-i,v=vl(Math.sqrt(l/d)),g=Math.abs(b)<5;r||(r=g?dr.restSpeed.granular:dr.restSpeed.default),s||(s=g?dr.restDelta.granular:dr.restDelta.default);let x;if(m<1){const I=NN(v,m);x=C=>{const N=Math.exp(-m*v*C);return a-N*((y+m*v*b)/I*Math.sin(I*C)+b*Math.cos(I*C))}}else if(m===1)x=I=>a-Math.exp(-v*I)*(b+(y+v*b)*I);else{const I=v*Math.sqrt(m*m-1);x=C=>{const N=Math.exp(-m*v*C),P=Math.min(I*C,300);return a-N*((y+m*v*b)*Math.sinh(P)+I*b*Math.cosh(P))/I}}const T={calculatedDuration:h&&p||null,next:I=>{const C=x(I);if(h)o.done=I>=p;else{let N=I===0?y:0;m<1&&(N=I===0?gl(y):vH(x,I,C));const P=Math.abs(N)<=r,L=Math.abs(a-C)<=s;o.done=P&&L}return o.value=o.done?a:C,o},toString:()=>{const I=Math.min(uR(T),I1),C=gH(N=>T.next(I*N).value,I,30);return I+"ms "+C},toTransition:()=>{}};return T}k1.applyToOptions=t=>{const e=Fhe(t,100,k1);return t.ease=e.ease,t.duration=gl(e.duration),t.type="keyframes",t};function EN({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:o,max:l,restDelta:u=.5,restSpeed:d}){const p=t[0],f={done:!1,value:p},h=P=>o!==void 0&&P<o||l!==void 0&&P>l,y=P=>o===void 0?l:l===void 0||Math.abs(o-P)<Math.abs(l-P)?o:l;let m=n*e;const b=p+m,v=a===void 0?b:a(b);v!==b&&(m=v-p);const g=P=>-m*Math.exp(-P/r),x=P=>v+g(P),T=P=>{const L=g(P),U=x(P);f.done=Math.abs(L)<=u,f.value=f.done?v:U};let I,C;const N=P=>{h(f.value)&&(I=P,C=k1({keyframes:[f.value,y(f.value)],velocity:vH(x,P,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return N(0),{calculatedDuration:null,next:P=>{let L=!1;return!C&&I===void 0&&(L=!0,T(P),N(P)),I!==void 0&&P>=I?C.next(P-I):(!L&&T(P),f)}}}function Khe(t,e,n){const r=[],s=n||Bc.mix||yH,i=t.length-1;for(let a=0;a<i;a++){let o=s(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||_a:e;o=Gv(l,o)}r.push(o)}return r}function Yhe(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(T1(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=Khe(e,r,s),l=o.length,u=d=>{if(a&&d<t[0])return e[0];let p=0;if(l>1)for(;p<t.length-2&&!(d<t[p+1]);p++);const f=C0(t[p],t[p+1],d);return o[p](f)};return n?d=>u(Fc(t[0],t[i-1],d)):u}function qhe(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=C0(0,e,r);t.push(er(n,1,s))}}function Zhe(t){const e=[0];return qhe(e,t.length-1),e}function Xhe(t,e){return t.map(n=>n*e)}function Jhe(t,e){return t.map(()=>e||aH).splice(0,t.length-1)}function Ng({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=uhe(r)?r.map(y_):y_(r),i={done:!1,value:e[0]},a=Xhe(n&&n.length===e.length?n:Zhe(e),t),o=Yhe(a,e,{ease:Array.isArray(s)?s:Jhe(e,s)});return{calculatedDuration:t,next:l=>(i.value=o(l),i.done=l>=t,i)}}const Qhe=t=>t!==null;function dR(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(Qhe),o=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const eme={decay:EN,inertia:EN,tween:Ng,keyframes:Ng,spring:k1};function bH(t){typeof t.type=="string"&&(t.type=eme[t.type])}let pR=class{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}};const tme=t=>t/100;let fR=class extends pR{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(n=!0)=>{var r,s;if(n){const{motionValue:i}=this.options;i&&i.updatedAt!==wi.now()&&this.tick(wi.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;bH(e);const{type:n=Ng,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=e;let{keyframes:o}=e;const l=n||Ng;l!==Ng&&typeof o[0]!="number"&&(this.mixKeyframes=Gv(tme,yH(o[0],o[1])),o=[0,100]);const u=l({...e,keyframes:o});i==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...o].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=uR(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:d,repeat:p,repeatType:f,repeatDelay:h,type:y,onUpdate:m,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const v=this.currentTime-u*(this.playbackSpeed>=0?1:-1),g=this.playbackSpeed>=0?v<0:v>s;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let x=this.currentTime,T=r;if(p){const P=Math.min(this.currentTime,s)/o;let L=Math.floor(P),U=P%1;!U&&P>=1&&(U=1),U===1&&L--,L=Math.min(L,p+1),!!(L%2)&&(f==="reverse"?(U=1-U,h&&(U-=h/o)):f==="mirror"&&(T=a)),x=Fc(0,1,U)*o}const I=g?{done:!1,value:d[0]}:T.next(x);i&&(I.value=i(I.value));let{done:C}=I;!g&&l!==null&&(C=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return N&&y!==EN&&(I.value=dR(d,this.options,b,this.speed)),m&&m(I.value),N&&this.finish(),I}then(e,n){return this.finished.then(e,n)}get duration(){return vl(this.calculatedDuration)}get time(){return vl(this.currentTime)}set time(e){var n;e=gl(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(wi.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=vl(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:e=$he,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(wi.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}};function nme(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const pp=t=>t*180/Math.PI,SN=t=>{const e=pp(Math.atan2(t[1],t[0]));return RN(e)},rme={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:SN,rotateZ:SN,skewX:t=>pp(Math.atan(t[1])),skewY:t=>pp(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},RN=t=>(t=t%360,t<0&&(t+=360),t),A_=SN,I_=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),k_=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),sme={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:I_,scaleY:k_,scale:t=>(I_(t)+k_(t))/2,rotateX:t=>RN(pp(Math.atan2(t[6],t[5]))),rotateY:t=>RN(pp(Math.atan2(-t[2],t[0]))),rotateZ:A_,rotate:A_,skewX:t=>pp(Math.atan(t[4])),skewY:t=>pp(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function PN(t){return t.includes("scale")?1:0}function MN(t,e){if(!t||t==="none")return PN(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=sme,s=n;else{const o=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=rme,s=o}if(!s)return PN(e);const i=r[e],a=s[1].split(",").map(ame);return typeof i=="function"?i(a):a[i]}const ime=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return MN(n,e)};function ame(t){return parseFloat(t.trim())}const ny=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ry=new Set(ny),C_=t=>t===ty||t===At,ome=new Set(["x","y","z"]),lme=ny.filter(t=>!ome.has(t));function cme(t){const e=[];return lme.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Dp={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>MN(e,"x"),y:(t,{transform:e})=>MN(e,"y")};Dp.translateX=Dp.x;Dp.translateY=Dp.y;const Op=new Set;let jN=!1,_N=!1,DN=!1;function xH(){if(_N){const t=Array.from(Op).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=cme(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,a])=>{var o;(o=r.getValue(i))==null||o.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}_N=!1,jN=!1,Op.forEach(t=>t.complete(DN)),Op.clear()}function wH(){Op.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(_N=!0)})}function ume(){DN=!0,wH(),xH(),DN=!1}let hR=class{constructor(e,n,r,s,i,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Op.add(this),jN||(jN=!0,rr.read(wH),rr.resolveKeyframes(xH))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),a=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const o=r.readValue(n,a);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=a),s&&i===void 0&&s.set(e[0])}nme(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Op.delete(this)}cancel(){this.state==="scheduled"&&(Op.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}};const dme=t=>t.startsWith("--");function pme(t,e,n){dme(e)?t.style.setProperty(e,n):t.style[e]=n}const fme=tR(()=>window.ScrollTimeline!==void 0),hme={};function mme(t,e){const n=tR(t);return()=>hme[e]??n()}const TH=mme(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),sg=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,N_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:sg([0,.65,.55,1]),circOut:sg([.55,0,1,.45]),backIn:sg([.31,.01,.66,-.59]),backOut:sg([.33,1.53,.69,.99])};function AH(t,e){if(t)return typeof t=="function"?TH()?gH(t,e):"ease-out":oH(t)?sg(t):Array.isArray(t)?t.map(n=>AH(n,e)||N_.easeOut):N_[t]}function yme(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:o="easeOut",times:l}={},u=void 0){const d={[e]:n};l&&(d.offset=l);const p=AH(o,s);Array.isArray(p)&&(d.easing=p);const f={delay:r,duration:s,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),t.animate(d,f)}function IH(t){return typeof t=="function"&&"applyToOptions"in t}function gme({type:t,...e}){return IH(t)&&TH()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}let vme=class extends pR{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:o,onComplete:l}=e;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=e,T1(typeof e.type!="string");const u=gme(e);this.animation=yme(n,r,s,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=dR(s,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(d):pme(n,r,d),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return vl(Number(e))}get time(){return vl(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=gl(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&fme()?(this.animation.timeline=e,_a):n(this)}};const kH={anticipate:rH,backInOut:nH,circInOut:iH};function bme(t){return t in kH}function xme(t){typeof t.ease=="string"&&bme(t.ease)&&(t.ease=kH[t.ease])}const E_=10;let wme=class extends vme{constructor(e){xme(e),bH(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const o=new fR({...a,autoplay:!1}),l=gl(this.finishedTime??this.time);n.setWithVelocity(o.sample(l-E_).value,o.sample(l).value,E_),o.stop()}};const S_=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Td.test(t)||t==="0")&&!t.startsWith("url("));function Tme(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Ame(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],a=S_(s,e),o=S_(i,e);return!a||!o?!1:Tme(t)||(n==="spring"||IH(n))&&r}function mR(t){return qV(t)&&"offsetHeight"in t}const Ime=new Set(["opacity","clipPath","filter","transform"]),kme=tR(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Cme(t){var u;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:a}=t;if(!mR((u=e==null?void 0:e.owner)==null?void 0:u.current))return!1;const{onUpdate:o,transformTemplate:l}=e.owner.getProps();return kme()&&n&&Ime.has(n)&&(n!=="transform"||!l)&&!o&&!r&&s!=="mirror"&&i!==0&&a!=="inertia"}const Nme=40;let Eme=class extends pR{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",keyframes:o,name:l,motionValue:u,element:d,...p}){var y;super(),this.stop=()=>{var m,b;this._animation&&(this._animation.stop(),(m=this.stopTimeline)==null||m.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=wi.now();const f={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:a,name:l,motionValue:u,element:d,...p},h=(d==null?void 0:d.KeyframeResolver)||hR;this.keyframeResolver=new h(o,(m,b,v)=>this.onKeyframesResolved(m,b,f,!v),l,u,d),(y=this.keyframeResolver)==null||y.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:a,velocity:o,delay:l,isHandoff:u,onUpdate:d}=r;this.resolvedAt=wi.now(),Ame(e,i,a,o)||((Bc.instantAnimations||!l)&&(d==null||d(dR(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const f={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>Nme?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},h=!u&&Cme(f)?new wme({...f,element:f.motionValue.owner.current}):new fR(f);h.finished.then(()=>this.notifyFinished()).catch(_a),this.pendingTimeline&&(this.stopTimeline=h.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=h}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),ume()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}};const Sme=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Rme(t){const e=Sme.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function CH(t,e,n=1){const[r,s]=Rme(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const a=i.trim();return YV(a)?parseFloat(a):a}return aR(s)?CH(s,e,n+1):s}function yR(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const NH=new Set(["width","height","top","left","right","bottom",...ny]),Pme={test:t=>t==="auto",parse:t=>t},EH=t=>e=>e.test(t),SH=[ty,At,bl,pu,The,whe,Pme],R_=t=>SH.find(EH(t));function Mme(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||ZV(t):!0}const jme=new Set(["brightness","contrast","saturate","opacity"]);function _me(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(oR)||[];if(!r)return t;const s=n.replace(r,"");let i=jme.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const Dme=/\b([a-z-]*)\(.*?\)/gu,ON={...Td,getAnimatableNone:t=>{const e=t.match(Dme);return e?e.map(_me).join(" "):t}},P_={...ty,transform:Math.round},Ome={rotate:pu,rotateX:pu,rotateY:pu,rotateZ:pu,scale:Yb,scaleX:Yb,scaleY:Yb,scaleZ:Yb,skew:pu,skewX:pu,skewY:pu,distance:At,translateX:At,translateY:At,translateZ:At,x:At,y:At,z:At,perspective:At,transformPerspective:At,opacity:N0,originX:v_,originY:v_,originZ:At},gR={borderWidth:At,borderTopWidth:At,borderRightWidth:At,borderBottomWidth:At,borderLeftWidth:At,borderRadius:At,radius:At,borderTopLeftRadius:At,borderTopRightRadius:At,borderBottomRightRadius:At,borderBottomLeftRadius:At,width:At,maxWidth:At,height:At,maxHeight:At,top:At,right:At,bottom:At,left:At,padding:At,paddingTop:At,paddingRight:At,paddingBottom:At,paddingLeft:At,margin:At,marginTop:At,marginRight:At,marginBottom:At,marginLeft:At,backgroundPositionX:At,backgroundPositionY:At,...Ome,zIndex:P_,fillOpacity:N0,strokeOpacity:N0,numOctaves:P_},Lme={...gR,color:Is,backgroundColor:Is,outlineColor:Is,fill:Is,stroke:Is,borderColor:Is,borderTopColor:Is,borderRightColor:Is,borderBottomColor:Is,borderLeftColor:Is,filter:ON,WebkitFilter:ON},RH=t=>Lme[t];function PH(t,e){let n=RH(t);return n!==ON&&(n=Td),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const $me=new Set(["auto","none","0"]);function Fme(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!$me.has(i)&&E0(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=PH(n,s)}let Bme=class extends hR{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),aR(u))){const d=CH(u,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!NH.has(r)||e.length!==2)return;const[s,i]=e,a=R_(s),o=R_(i);if(a!==o)if(C_(a)&&C_(o))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else Dp[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||Mme(e[s]))&&r.push(s);r.length&&Fme(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Dp[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var o;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,a=r[i];r[i]=Dp[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}};function Ume(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const s=document.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const M_=30,zme=t=>!isNaN(parseFloat(t));let Vme=class{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{var a,o;const i=wi.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();s&&((o=this.events.renderRequest)==null||o.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=wi.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=zme(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new nR);const r=this.events[e].add(n);return e==="change"?()=>{r(),rr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=wi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>M_)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,M_);return XV(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}};function wm(t,e){return new Vme(t,e)}const MH=(t,e)=>e&&typeof t=="number"?e.transform(t):t,{schedule:vR,cancel:d9e}=lH(queueMicrotask,!1),Ja={x:!1,y:!1};function jH(){return Ja.x||Ja.y}function Hme(t){return t==="x"||t==="y"?Ja[t]?null:(Ja[t]=!0,()=>{Ja[t]=!1}):Ja.x||Ja.y?null:(Ja.x=Ja.y=!0,()=>{Ja.x=Ja.y=!1})}function _H(t,e){const n=Ume(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function j_(t){return!(t.pointerType==="touch"||jH())}function Wme(t,e,n={}){const[r,s,i]=_H(t,n),a=o=>{if(!j_(o))return;const{target:l}=o,u=e(l,o);if(typeof u!="function"||!l)return;const d=p=>{j_(p)&&(u(p),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,s)};return r.forEach(o=>{o.addEventListener("pointerenter",a,s)}),i}const DH=(t,e)=>e?t===e?!0:DH(t,e.parentElement):!1,bR=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Gme=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Kme(t){return Gme.has(t.tagName)||t.tabIndex!==-1}const iw=new WeakSet;function __(t){return e=>{e.key==="Enter"&&t(e)}}function TI(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Yme=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=__(()=>{if(iw.has(n))return;TI(n,"down");const s=__(()=>{TI(n,"up")}),i=()=>TI(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function D_(t){return bR(t)&&!jH()}function qme(t,e,n={}){const[r,s,i]=_H(t,n),a=o=>{const l=o.currentTarget;if(!D_(o))return;iw.add(l);const u=e(l,o),d=(h,y)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",f),iw.has(l)&&iw.delete(l),D_(h)&&typeof u=="function"&&u(h,{success:y})},p=h=>{d(h,l===window||l===document||n.useGlobalTarget||DH(l,h.target))},f=h=>{d(h,!1)};window.addEventListener("pointerup",p,s),window.addEventListener("pointercancel",f,s)};return r.forEach(o=>{(n.useGlobalTarget?window:o).addEventListener("pointerdown",a,s),mR(o)&&(o.addEventListener("focus",u=>Yme(u,s)),!Kme(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),i}function OH(t){return qV(t)&&"ownerSVGElement"in t}function Zme(t){return OH(t)&&t.tagName==="svg"}const js=t=>!!(t&&t.getVelocity),Xme=[...SH,Is,Td],Jme=t=>Xme.find(EH(t)),xR=A.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});let Qme=class extends A.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=mR(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}};function eye({children:t,isPresent:e,anchorX:n}){const r=A.useId(),s=A.useRef(null),i=A.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=A.useContext(xR);return A.useInsertionEffect(()=>{const{width:o,height:l,top:u,left:d,right:p}=i.current;if(e||!s.current||!o||!l)return;const f=n==="left"?`left: ${d}`:`right: ${p}`;s.current.dataset.motionPopId=r;const h=document.createElement("style");return a&&(h.nonce=a),document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            ${f}px !important;
            top: ${u}px !important;
          }
        `),()=>{document.head.contains(h)&&document.head.removeChild(h)}},[e]),c.jsx(Qme,{isPresent:e,childRef:s,sizeRef:i,children:A.cloneElement(t,{ref:s})})}const tye=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:a,anchorX:o})=>{const l=XS(nye),u=A.useId();let d=!0,p=A.useMemo(()=>(d=!1,{id:u,initial:e,isPresent:n,custom:s,onExitComplete:f=>{l.set(f,!0);for(const h of l.values())if(!h)return;r&&r()},register:f=>(l.set(f,!1),()=>l.delete(f))}),[n,l,r]);return i&&d&&(p={...p}),A.useMemo(()=>{l.forEach((f,h)=>l.set(h,!1))},[n]),A.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),a==="popLayout"&&(t=c.jsx(eye,{isPresent:n,anchorX:o,children:t})),c.jsx(i2.Provider,{value:p,children:t})};function nye(){return new Map}function LH(t=!0){const e=A.useContext(i2);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=A.useId();A.useEffect(()=>{if(t)return s(i)},[t]);const a=A.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,a]:[!0]}const qb=t=>t.key||"";function O_(t){const e=[];return A.Children.forEach(t,n=>{A.isValidElement(n)&&e.push(n)}),e}const wR=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:a=!1,anchorX:o="left"})=>{const[l,u]=LH(a),d=A.useMemo(()=>O_(t),[t]),p=a&&!l?[]:d.map(qb),f=A.useRef(!0),h=A.useRef(d),y=XS(()=>new Map),[m,b]=A.useState(d),[v,g]=A.useState(d);KV(()=>{f.current=!1,h.current=d;for(let I=0;I<v.length;I++){const C=qb(v[I]);p.includes(C)?y.delete(C):y.get(C)!==!0&&y.set(C,!1)}},[v,p.length,p.join("-")]);const x=[];if(d!==m){let I=[...d];for(let C=0;C<v.length;C++){const N=v[C],P=qb(N);p.includes(P)||(I.splice(C,0,N),x.push(N))}return i==="wait"&&x.length&&(I=x),g(O_(I)),b(d),null}const{forceRender:T}=A.useContext(ZS);return c.jsx(c.Fragment,{children:v.map(I=>{const C=qb(I),N=a&&!l?!1:d===v||p.includes(C),P=()=>{if(y.has(C))y.set(C,!0);else return;let L=!0;y.forEach(U=>{U||(L=!1)}),L&&(T==null||T(),g(h.current),a&&(u==null||u()),r&&r())};return c.jsx(tye,{isPresent:N,initial:!f.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,onExitComplete:N?void 0:P,anchorX:o,children:I},C)})})},$H=A.createContext({strict:!1}),L_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Tm={};for(const t in L_)Tm[t]={isEnabled:e=>L_[t].some(n=>!!e[n])};function rye(t){for(const e in t)Tm[e]={...Tm[e],...t[e]}}const sye=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function C1(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||sye.has(t)}let FH=t=>!C1(t);function iye(t){t&&(FH=e=>e.startsWith("on")?!C1(e):t(e))}try{iye(require("@emotion/is-prop-valid").default)}catch{}function aye(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(FH(s)||n===!0&&C1(s)||!e&&!C1(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function oye(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const a2=A.createContext({});function o2(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function S0(t){return typeof t=="string"||Array.isArray(t)}const TR=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],AR=["initial",...TR];function l2(t){return o2(t.animate)||AR.some(e=>S0(t[e]))}function BH(t){return!!(l2(t)||t.variants)}function lye(t,e){if(l2(t)){const{initial:n,animate:r}=t;return{initial:n===!1||S0(n)?n:void 0,animate:S0(r)?r:void 0}}return t.inherit!==!1?e:{}}function cye(t){const{initial:e,animate:n}=lye(t,A.useContext(a2));return A.useMemo(()=>({initial:e,animate:n}),[$_(e),$_(n)])}function $_(t){return Array.isArray(t)?t.join(" "):t}const uye=Symbol.for("motionComponentSymbol");function dh(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function dye(t,e,n){return A.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):dh(n)&&(n.current=r))},[e])}const IR=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),pye="framerAppearId",UH="data-"+IR(pye),zH=A.createContext({});function fye(t,e,n,r,s){var m,b;const{visualElement:i}=A.useContext(a2),a=A.useContext($H),o=A.useContext(i2),l=A.useContext(xR).reducedMotion,u=A.useRef(null);r=r||a.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const d=u.current,p=A.useContext(zH);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&hye(u.current,n,s,p);const f=A.useRef(!1);A.useInsertionEffect(()=>{d&&f.current&&d.update(n,o)});const h=n[UH],y=A.useRef(!!h&&!((m=window.MotionHandoffIsComplete)!=null&&m.call(window,h))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,h)));return KV(()=>{d&&(f.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),vR.render(d.render),y.current&&d.animationState&&d.animationState.animateChanges())}),A.useEffect(()=>{d&&(!y.current&&d.animationState&&d.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,h)}),y.current=!1))}),d}function hye(t,e,n,r){const{layoutId:s,layout:i,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:u,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:VH(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||o&&dh(o),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:u})}function VH(t){if(t)return t.options.allowProjection!==!1?t.projection:VH(t.parent)}function mye({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&rye(t);function i(o,l){let u;const d={...A.useContext(xR),...o,layoutId:yye(o)},{isStatic:p}=d,f=cye(o),h=r(o,p);if(!p&&JS){gye();const y=vye(d);u=y.MeasureLayout,f.visualElement=fye(s,h,d,e,y.ProjectionNode)}return c.jsxs(a2.Provider,{value:f,children:[u&&f.visualElement?c.jsx(u,{visualElement:f.visualElement,...d}):null,n(s,o,dye(h,f.visualElement,l),h,p,f.visualElement)]})}i.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const a=A.forwardRef(i);return a[uye]=s,a}function yye({layoutId:t}){const e=A.useContext(ZS).id;return e&&t!==void 0?e+"-"+t:t}function gye(t,e){A.useContext($H).strict}function vye(t){const{drag:e,layout:n}=Tm;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const R0={};function bye(t){for(const e in t)R0[e]=t[e],iR(e)&&(R0[e].isCSSVariable=!0)}function HH(t,{layout:e,layoutId:n}){return ry.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!R0[t]||t==="opacity")}const xye={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},wye=ny.length;function Tye(t,e,n){let r="",s=!0;for(let i=0;i<wye;i++){const a=ny[i],o=t[a];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(a.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||n){const u=MH(o,gR[a]);if(!l){s=!1;const d=xye[a]||a;r+=`${d}(${u}) `}n&&(e[a]=u)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function kR(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let a=!1,o=!1;for(const l in e){const u=e[l];if(ry.has(l)){a=!0;continue}else if(iR(l)){s[l]=u;continue}else{const d=MH(u,gR[l]);l.startsWith("origin")?(o=!0,i[l]=d):r[l]=d}}if(e.transform||(a||n?r.transform=Tye(e,t.transform,n):r.transform&&(r.transform="none")),o){const{originX:l="50%",originY:u="50%",originZ:d=0}=i;r.transformOrigin=`${l} ${u} ${d}`}}const CR=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function WH(t,e,n){for(const r in e)!js(e[r])&&!HH(r,n)&&(t[r]=e[r])}function Aye({transformTemplate:t},e){return A.useMemo(()=>{const n=CR();return kR(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Iye(t,e){const n=t.style||{},r={};return WH(r,n,t),Object.assign(r,Aye(t,e)),r}function kye(t,e){const n={},r=Iye(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const Cye={offset:"stroke-dashoffset",array:"stroke-dasharray"},Nye={offset:"strokeDashoffset",array:"strokeDasharray"};function Eye(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?Cye:Nye;t[i.offset]=At.transform(-r);const a=At.transform(e),o=At.transform(n);t[i.array]=`${a} ${o}`}function GH(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:a=0,...o},l,u,d){if(kR(t,o,u),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:f}=t;p.transform&&(f.transform=p.transform,delete p.transform),(f.transform||p.transformOrigin)&&(f.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete p.transformBox),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),s!==void 0&&Eye(p,s,i,a,!1)}const KH=()=>({...CR(),attrs:{}}),YH=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Sye(t,e,n,r){const s=A.useMemo(()=>{const i=KH();return GH(i,e,YH(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};WH(i,t.style,t),s.style={...i,...s.style}}return s}const Rye=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function NR(t){return typeof t!="string"||t.includes("-")?!1:!!(Rye.indexOf(t)>-1||/[A-Z]/u.test(t))}function Pye(t=!1){return(n,r,s,{latestValues:i},a)=>{const l=(NR(n)?Sye:kye)(r,i,a,n),u=aye(r,typeof n=="string",t),d=n!==A.Fragment?{...u,...l,ref:s}:{},{children:p}=r,f=A.useMemo(()=>js(p)?p.get():p,[p]);return A.createElement(n,{...d,children:f})}}function F_(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function ER(t,e,n,r){if(typeof e=="function"){const[s,i]=F_(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=F_(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function aw(t){return js(t)?t.get():t}function Mye({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:jye(n,r,s,t),renderState:e()}}const qH=t=>(e,n)=>{const r=A.useContext(a2),s=A.useContext(i2),i=()=>Mye(t,e,r,s);return n?i():XS(i)};function jye(t,e,n,r){const s={},i=r(t,{});for(const f in i)s[f]=aw(i[f]);let{initial:a,animate:o}=t;const l=l2(t),u=BH(t);e&&u&&!l&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const p=d?o:a;if(p&&typeof p!="boolean"&&!o2(p)){const f=Array.isArray(p)?p:[p];for(let h=0;h<f.length;h++){const y=ER(t,f[h]);if(y){const{transitionEnd:m,transition:b,...v}=y;for(const g in v){let x=v[g];if(Array.isArray(x)){const T=d?x.length-1:0;x=x[T]}x!==null&&(s[g]=x)}for(const g in m)s[g]=m[g]}}}return s}function SR(t,e,n){var i;const{style:r}=t,s={};for(const a in r)(js(r[a])||e.style&&js(e.style[a])||HH(a,t)||((i=n==null?void 0:n.getValue(a))==null?void 0:i.liveStyle)!==void 0)&&(s[a]=r[a]);return s}const _ye={useVisualState:qH({scrapeMotionValuesFromProps:SR,createRenderState:CR})};function ZH(t,e,n){const r=SR(t,e,n);for(const s in t)if(js(t[s])||js(e[s])){const i=ny.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const Dye={useVisualState:qH({scrapeMotionValuesFromProps:ZH,createRenderState:KH})};function Oye(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const a={...NR(r)?Dye:_ye,preloadedFeatures:t,useRender:Pye(s),createVisualElement:e,Component:r};return mye(a)}}function P0(t,e,n){const r=t.getProps();return ER(r,e,n!==void 0?n:r.custom,t)}const LN=t=>Array.isArray(t);function Lye(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,wm(n))}function $ye(t){return LN(t)?t[t.length-1]||0:t}function Fye(t,e){const n=P0(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const a in i){const o=$ye(i[a]);Lye(t,a,o)}}function Bye(t){return!!(js(t)&&t.add)}function $N(t,e){const n=t.getValue("willChange");if(Bye(n))return n.add(e);if(!n&&Bc.WillChange){const r=new Bc.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function XH(t){return t.props[UH]}const Uye=t=>t!==null;function zye(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(Uye),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const Vye={type:"spring",stiffness:500,damping:25,restSpeed:10},Hye=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Wye={type:"keyframes",duration:.8},Gye={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Kye=(t,{keyframes:e})=>e.length>2?Wye:ry.has(t)?t.startsWith("scale")?Hye(e[1]):Vye:Gye;function Yye({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:o,from:l,elapsed:u,...d}){return!!Object.keys(d).length}const RR=(t,e,n,r={},s,i)=>a=>{const o=yR(r,t)||{},l=o.delay||r.delay||0;let{elapsed:u=0}=r;u=u-gl(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-u,onUpdate:f=>{e.set(f),o.onUpdate&&o.onUpdate(f)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:i?void 0:s};Yye(o)||Object.assign(d,Kye(t,d)),d.duration&&(d.duration=gl(d.duration)),d.repeatDelay&&(d.repeatDelay=gl(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let p=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(p=!0)),(Bc.instantAnimations||Bc.skipAnimations)&&(p=!0,d.duration=0,d.delay=0),d.allowFlatten=!o.type&&!o.ease,p&&!i&&e.get()!==void 0){const f=zye(d.keyframes,o);if(f!==void 0){rr.update(()=>{d.onUpdate(f),d.onComplete()});return}}return o.isSync?new fR(d):new Eme(d)};function qye({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function JH(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:a,...o}=e;r&&(i=r);const l=[],u=s&&t.animationState&&t.animationState.getState()[s];for(const d in o){const p=t.getValue(d,t.latestValues[d]??null),f=o[d];if(f===void 0||u&&qye(u,d))continue;const h={delay:n,...yR(i||{},d)},y=p.get();if(y!==void 0&&!p.isAnimating&&!Array.isArray(f)&&f===y&&!h.velocity)continue;let m=!1;if(window.MotionHandoffAnimation){const v=XH(t);if(v){const g=window.MotionHandoffAnimation(v,d,rr);g!==null&&(h.startTime=g,m=!0)}}$N(t,d),p.start(RR(d,p,f,t.shouldReduceMotion&&NH.has(d)?{type:!1}:h,t,m));const b=p.animation;b&&l.push(b)}return a&&Promise.all(l).then(()=>{rr.update(()=>{a&&Fye(t,a)})}),l}function FN(t,e,n={}){var l;const r=P0(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(JH(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:p,staggerDirection:f}=s;return Zye(t,e,d+u,p,f,n)}:()=>Promise.resolve(),{when:o}=s;if(o){const[u,d]=o==="beforeChildren"?[i,a]:[a,i];return u().then(()=>d())}else return Promise.all([i(),a(n.delay)])}function Zye(t,e,n=0,r=0,s=1,i){const a=[],o=(t.variantChildren.size-1)*r,l=s===1?(u=0)=>u*r:(u=0)=>o-u*r;return Array.from(t.variantChildren).sort(Xye).forEach((u,d)=>{u.notify("AnimationStart",e),a.push(FN(u,e,{...i,delay:n+l(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(a)}function Xye(t,e){return t.sortNodePosition(e)}function Jye(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>FN(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=FN(t,e,n);else{const s=typeof e=="function"?P0(t,e,n.custom):e;r=Promise.all(JH(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function QH(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const Qye=AR.length;function eW(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?eW(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Qye;n++){const r=AR[n],s=t.props[r];(S0(s)||s===!1)&&(e[r]=s)}return e}const ege=[...TR].reverse(),tge=TR.length;function nge(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Jye(t,n,r)))}function rge(t){let e=nge(t),n=B_(),r=!0;const s=l=>(u,d)=>{var f;const p=P0(t,d,l==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(p){const{transition:h,transitionEnd:y,...m}=p;u={...u,...m,...y}}return u};function i(l){e=l(t)}function a(l){const{props:u}=t,d=eW(t.parent)||{},p=[],f=new Set;let h={},y=1/0;for(let b=0;b<tge;b++){const v=ege[b],g=n[v],x=u[v]!==void 0?u[v]:d[v],T=S0(x),I=v===l?g.isActive:null;I===!1&&(y=b);let C=x===d[v]&&x!==u[v]&&T;if(C&&r&&t.manuallyAnimateOnMount&&(C=!1),g.protectedKeys={...h},!g.isActive&&I===null||!x&&!g.prevProp||o2(x)||typeof x=="boolean")continue;const N=sge(g.prevProp,x);let P=N||v===l&&g.isActive&&!C&&T||b>y&&T,L=!1;const U=Array.isArray(x)?x:[x];let $=U.reduce(s(v),{});I===!1&&($={});const{prevResolvedValues:B={}}=g,_={...B,...$},w=M=>{P=!0,f.has(M)&&(L=!0,f.delete(M)),g.needsAnimating[M]=!0;const R=t.getValue(M);R&&(R.liveStyle=!1)};for(const M in _){const R=$[M],j=B[M];if(h.hasOwnProperty(M))continue;let V=!1;LN(R)&&LN(j)?V=!QH(R,j):V=R!==j,V?R!=null?w(M):f.add(M):R!==void 0&&f.has(M)?w(M):g.protectedKeys[M]=!0}g.prevProp=x,g.prevResolvedValues=$,g.isActive&&(h={...h,...$}),r&&t.blockInitialAnimation&&(P=!1),P&&(!(C&&N)||L)&&p.push(...U.map(M=>({animation:M,options:{type:v}})))}if(f.size){const b={};if(typeof u.initial!="boolean"){const v=P0(t,Array.isArray(u.initial)?u.initial[0]:u.initial);v&&v.transition&&(b.transition=v.transition)}f.forEach(v=>{const g=t.getBaseTarget(v),x=t.getValue(v);x&&(x.liveStyle=!0),b[v]=g??null}),p.push({animation:b})}let m=!!p.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(m=!1),r=!1,m?e(p):Promise.resolve()}function o(l,u){var p;if(n[l].isActive===u)return Promise.resolve();(p=t.variantChildren)==null||p.forEach(f=>{var h;return(h=f.animationState)==null?void 0:h.setActive(l,u)}),n[l].isActive=u;const d=a(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:a,setActive:o,setAnimateFunction:i,getState:()=>n,reset:()=>{n=B_(),r=!0}}}function sge(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!QH(e,t):!1}function Hd(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function B_(){return{animate:Hd(!0),whileInView:Hd(),whileHover:Hd(),whileTap:Hd(),whileDrag:Hd(),whileFocus:Hd(),exit:Hd()}}let jd=class{constructor(e){this.isMounted=!1,this.node=e}update(){}},ige=class extends jd{constructor(e){super(e),e.animationState||(e.animationState=rge(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();o2(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}},age=0,oge=class extends jd{constructor(){super(...arguments),this.id=age++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}};const lge={animation:{Feature:ige},exit:{Feature:oge}};function M0(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function qv(t){return{point:{x:t.pageX,y:t.pageY}}}const cge=t=>e=>bR(e)&&t(e,qv(e));function Eg(t,e,n,r){return M0(t,e,cge(n),r)}function tW({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function uge({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function dge(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const nW=1e-4,pge=1-nW,fge=1+nW,rW=.01,hge=0-rW,mge=0+rW;function Xs(t){return t.max-t.min}function yge(t,e,n){return Math.abs(t-e)<=n}function U_(t,e,n,r=.5){t.origin=r,t.originPoint=er(e.min,e.max,t.origin),t.scale=Xs(n)/Xs(e),t.translate=er(n.min,n.max,t.origin)-t.originPoint,(t.scale>=pge&&t.scale<=fge||isNaN(t.scale))&&(t.scale=1),(t.translate>=hge&&t.translate<=mge||isNaN(t.translate))&&(t.translate=0)}function Sg(t,e,n,r){U_(t.x,e.x,n.x,r?r.originX:void 0),U_(t.y,e.y,n.y,r?r.originY:void 0)}function z_(t,e,n){t.min=n.min+e.min,t.max=t.min+Xs(e)}function gge(t,e,n){z_(t.x,e.x,n.x),z_(t.y,e.y,n.y)}function V_(t,e,n){t.min=e.min-n.min,t.max=t.min+Xs(e)}function Rg(t,e,n){V_(t.x,e.x,n.x),V_(t.y,e.y,n.y)}const H_=()=>({translate:0,scale:1,origin:0,originPoint:0}),ph=()=>({x:H_(),y:H_()}),W_=()=>({min:0,max:0}),vr=()=>({x:W_(),y:W_()});function ga(t){return[t("x"),t("y")]}function AI(t){return t===void 0||t===1}function BN({scale:t,scaleX:e,scaleY:n}){return!AI(t)||!AI(e)||!AI(n)}function Xd(t){return BN(t)||sW(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function sW(t){return G_(t.x)||G_(t.y)}function G_(t){return t&&t!=="0%"}function N1(t,e,n){const r=t-n,s=e*r;return n+s}function K_(t,e,n,r,s){return s!==void 0&&(t=N1(t,s,r)),N1(t,n,r)+e}function UN(t,e=0,n=1,r,s){t.min=K_(t.min,e,n,r,s),t.max=K_(t.max,e,n,r,s)}function iW(t,{x:e,y:n}){UN(t.x,e.translate,e.scale,e.originPoint),UN(t.y,n.translate,n.scale,n.originPoint)}const Y_=.999999999999,q_=1.0000000000001;function vge(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,a;for(let o=0;o<s;o++){i=n[o],a=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&hh(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,iW(t,a)),r&&Xd(i.latestValues)&&hh(t,i.latestValues))}e.x<q_&&e.x>Y_&&(e.x=1),e.y<q_&&e.y>Y_&&(e.y=1)}function fh(t,e){t.min=t.min+e,t.max=t.max+e}function Z_(t,e,n,r,s=.5){const i=er(t.min,t.max,s);UN(t,e,n,i,r)}function hh(t,e){Z_(t.x,e.x,e.scaleX,e.scale,e.originX),Z_(t.y,e.y,e.scaleY,e.scale,e.originY)}function aW(t,e){return tW(dge(t.getBoundingClientRect(),e))}function bge(t,e,n){const r=aW(t,n),{scroll:s}=e;return s&&(fh(r.x,s.offset.x),fh(r.y,s.offset.y)),r}const oW=({current:t})=>t?t.ownerDocument.defaultView:null,X_=(t,e)=>Math.abs(t-e);function xge(t,e){const n=X_(t.x,e.x),r=X_(t.y,e.y);return Math.sqrt(n**2+r**2)}let lW=class{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=kI(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,h=xge(p.offset,{x:0,y:0})>=3;if(!f&&!h)return;const{point:y}=p,{timestamp:m}=cs;this.history.push({...y,timestamp:m});const{onStart:b,onMove:v}=this.handlers;f||(b&&b(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,p)},this.handlePointerMove=(p,f)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=II(f,this.transformPagePoint),rr.update(this.updatePoint,!0)},this.handlePointerUp=(p,f)=>{this.end();const{onEnd:h,onSessionEnd:y,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=kI(p.type==="pointercancel"?this.lastMoveEventInfo:II(f,this.transformPagePoint),this.history);this.startEvent&&h&&h(p,b),y&&y(p,b)},!bR(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const a=qv(e),o=II(a,this.transformPagePoint),{point:l}=o,{timestamp:u}=cs;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,kI(o,this.history)),this.removeListeners=Gv(Eg(this.contextWindow,"pointermove",this.handlePointerMove),Eg(this.contextWindow,"pointerup",this.handlePointerUp),Eg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),wd(this.updatePoint)}};function II(t,e){return e?{point:e(t.point)}:t}function J_(t,e){return{x:t.x-e.x,y:t.y-e.y}}function kI({point:t},e){return{point:t,delta:J_(t,cW(e)),offset:J_(t,wge(e)),velocity:Tge(e,.1)}}function wge(t){return t[0]}function cW(t){return t[t.length-1]}function Tge(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=cW(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>gl(e)));)n--;if(!r)return{x:0,y:0};const i=vl(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Age(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?er(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?er(n,t,r.max):Math.min(t,n)),t}function Q_(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Ige(t,{top:e,left:n,bottom:r,right:s}){return{x:Q_(t.x,n,s),y:Q_(t.y,e,r)}}function eD(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function kge(t,e){return{x:eD(t.x,e.x),y:eD(t.y,e.y)}}function Cge(t,e){let n=.5;const r=Xs(t),s=Xs(e);return s>r?n=C0(e.min,e.max-r,t.min):r>s&&(n=C0(t.min,t.max-s,e.min)),Fc(0,1,n)}function Nge(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const zN=.35;function Ege(t=zN){return t===!1?t=0:t===!0&&(t=zN),{x:tD(t,"left","right"),y:tD(t,"top","bottom")}}function tD(t,e,n){return{min:nD(t,e),max:nD(t,n)}}function nD(t,e){return typeof t=="number"?t:t[e]||0}const Sge=new WeakMap;let Rge=class{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=vr(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(qv(d).point)},i=(d,p)=>{const{drag:f,dragPropagation:h,onDragStart:y}=this.getProps();if(f&&!h&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Hme(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ga(b=>{let v=this.getAxisMotionValue(b).get()||0;if(bl.test(v)){const{projection:g}=this.visualElement;if(g&&g.layout){const x=g.layout.layoutBox[b];x&&(v=Xs(x)*(parseFloat(v)/100))}}this.originPoint[b]=v}),y&&rr.postRender(()=>y(d,p)),$N(this.visualElement,"transform");const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},a=(d,p)=>{const{dragPropagation:f,dragDirectionLock:h,onDirectionLock:y,onDrag:m}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:b}=p;if(h&&this.currentDirection===null){this.currentDirection=Pge(b),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",p.point,b),this.updateAxis("y",p.point,b),this.visualElement.render(),m&&m(d,p)},o=(d,p)=>this.stop(d,p),l=()=>ga(d=>{var p;return this.getAnimationState(d)==="paused"&&((p=this.getAxisMotionValue(d).animation)==null?void 0:p.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new lW(e,{onSessionStart:s,onStart:i,onMove:a,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:oW(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&rr.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Zb(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=Age(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&dh(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=Ige(r.layoutBox,e):this.constraints=!1,this.elastic=Ege(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ga(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=Nge(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!dh(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=bge(r,s.root,this.visualElement.getTransformPagePoint());let a=kge(s.layout.layoutBox,i);if(n){const o=n(uge(a));this.hasMutatedConstraints=!!o,o&&(a=tW(o))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},u=ga(d=>{if(!Zb(d,n,this.currentDirection))return;let p=l&&l[d]||{};a&&(p={min:0,max:0});const f=s?200:1e6,h=s?40:1e7,y={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...i,...p};return this.startAxisValueAnimation(d,y)});return Promise.all(u).then(o)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return $N(this.visualElement,e),r.start(RR(e,r,0,n,this.visualElement,!1))}stopAnimation(){ga(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ga(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ga(n=>{const{drag:r}=this.getProps();if(!Zb(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:o}=s.layout.layoutBox[n];i.set(e[n]-er(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!dh(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ga(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();s[a]=Cge({min:l,max:l},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ga(a=>{if(!Zb(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:u}=this.constraints[a];o.set(er(l,u,s[a]))})}addListeners(){if(!this.visualElement.current)return;Sge.set(this.visualElement,this);const e=this.visualElement.current,n=Eg(e,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();dh(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),rr.read(r);const a=M0(window,"resize",()=>this.scalePositionWithinConstraints()),o=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(ga(d=>{const p=this.getAxisMotionValue(d);p&&(this.originPoint[d]+=l[d].translate,p.set(p.get()+l[d].translate))}),this.visualElement.render())});return()=>{a(),n(),i(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=zN,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:o}}};function Zb(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Pge(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}let Mge=class extends jd{constructor(e){super(e),this.removeGroupControls=_a,this.removeListeners=_a,this.controls=new Rge(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_a}unmount(){this.removeGroupControls(),this.removeListeners()}};const rD=t=>(e,n)=>{t&&rr.postRender(()=>t(e,n))};let jge=class extends jd{constructor(){super(...arguments),this.removePointerDownListener=_a}onPointerDown(e){this.session=new lW(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:oW(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:rD(e),onStart:rD(n),onMove:r,onEnd:(i,a)=>{delete this.session,s&&rr.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=Eg(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}};const ow={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function sD(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ly={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(At.test(t))t=parseFloat(t);else return t;const n=sD(t,e.target.x),r=sD(t,e.target.y);return`${n}% ${r}%`}},_ge={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Td.parse(t);if(s.length>5)return r;const i=Td.createTransformer(t),a=typeof s[0]!="number"?1:0,o=n.x.scale*e.x,l=n.y.scale*e.y;s[0+a]/=o,s[1+a]/=l;const u=er(o,l,.5);return typeof s[2+a]=="number"&&(s[2+a]/=u),typeof s[3+a]=="number"&&(s[3+a]/=u),i(s)}};let Dge=class extends A.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;bye(Oge),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),ow.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:a}=r;return a&&(a.isPresent=i,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||rr.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),vR.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}};function uW(t){const[e,n]=LH(),r=A.useContext(ZS);return c.jsx(Dge,{...t,layoutGroup:r,switchLayoutGroup:A.useContext(zH),isPresent:e,safeToRemove:n})}const Oge={borderRadius:{...Ly,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ly,borderTopRightRadius:Ly,borderBottomLeftRadius:Ly,borderBottomRightRadius:Ly,boxShadow:_ge};function Lge(t,e,n){const r=js(t)?t:wm(t);return r.start(RR("",r,e,n)),r.animation}const $ge=(t,e)=>t.depth-e.depth;let Fge=class{constructor(){this.children=[],this.isDirty=!1}add(e){QS(this.children,e),this.isDirty=!0}remove(e){eR(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort($ge),this.isDirty=!1,this.children.forEach(e)}};function Bge(t,e){const n=wi.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(wd(r),t(i-e))};return rr.setup(r,!0),()=>wd(r)}const dW=["TopLeft","TopRight","BottomLeft","BottomRight"],Uge=dW.length,iD=t=>typeof t=="string"?parseFloat(t):t,aD=t=>typeof t=="number"||At.test(t);function zge(t,e,n,r,s,i){s?(t.opacity=er(0,n.opacity??1,Vge(r)),t.opacityExit=er(e.opacity??1,0,Hge(r))):i&&(t.opacity=er(e.opacity??1,n.opacity??1,r));for(let a=0;a<Uge;a++){const o=`border${dW[a]}Radius`;let l=oD(e,o),u=oD(n,o);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||aD(l)===aD(u)?(t[o]=Math.max(er(iD(l),iD(u),r),0),(bl.test(u)||bl.test(l))&&(t[o]+="%")):t[o]=u}(e.rotate||n.rotate)&&(t.rotate=er(e.rotate||0,n.rotate||0,r))}function oD(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Vge=pW(0,.5,sH),Hge=pW(.5,.95,_a);function pW(t,e,n){return r=>r<t?0:r>e?1:n(C0(t,e,r))}function lD(t,e){t.min=e.min,t.max=e.max}function da(t,e){lD(t.x,e.x),lD(t.y,e.y)}function cD(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function uD(t,e,n,r,s){return t-=e,t=N1(t,1/n,r),s!==void 0&&(t=N1(t,1/s,r)),t}function Wge(t,e=0,n=1,r=.5,s,i=t,a=t){if(bl.test(e)&&(e=parseFloat(e),e=er(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=er(i.min,i.max,r);t===i&&(o-=e),t.min=uD(t.min,e,n,o,s),t.max=uD(t.max,e,n,o,s)}function dD(t,e,[n,r,s],i,a){Wge(t,e[n],e[r],e[s],e.scale,i,a)}const Gge=["x","scaleX","originX"],Kge=["y","scaleY","originY"];function pD(t,e,n,r){dD(t.x,e,Gge,n?n.x:void 0,r?r.x:void 0),dD(t.y,e,Kge,n?n.y:void 0,r?r.y:void 0)}function fD(t){return t.translate===0&&t.scale===1}function fW(t){return fD(t.x)&&fD(t.y)}function hD(t,e){return t.min===e.min&&t.max===e.max}function Yge(t,e){return hD(t.x,e.x)&&hD(t.y,e.y)}function mD(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function hW(t,e){return mD(t.x,e.x)&&mD(t.y,e.y)}function yD(t){return Xs(t.x)/Xs(t.y)}function gD(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}let qge=class{constructor(){this.members=[]}add(e){QS(this.members,e),e.scheduleRender()}remove(e){if(eR(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}};function Zge(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((s||i||a)&&(r=`translate3d(${s}px, ${i}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:p,rotateY:f,skewX:h,skewY:y}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),p&&(r+=`rotateX(${p}deg) `),f&&(r+=`rotateY(${f}deg) `),h&&(r+=`skewX(${h}deg) `),y&&(r+=`skewY(${y}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const CI=["","X","Y","Z"],Xge={visibility:"hidden"},Jge=1e3;let Qge=0;function NI(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function mW(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=XH(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",rr,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&mW(r)}function yW({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},o=e==null?void 0:e()){this.id=Qge++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(n0e),this.nodes.forEach(o0e),this.nodes.forEach(l0e),this.nodes.forEach(r0e)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Fge)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new nR),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=OH(a)&&!Zme(a),this.instance=a;const{layoutId:o,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),t){let d;const p=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=Bge(p,250),ow.hasAnimatedSinceResize&&(ow.hasAnimatedSinceResize=!1,this.nodes.forEach(bD))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&u&&(o||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeLayoutChanged:f,layout:h})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||f0e,{onLayoutAnimationStart:m,onLayoutAnimationComplete:b}=u.getProps(),v=!this.targetLayout||!hW(this.targetLayout,h),g=!p&&f;if(this.options.layoutRoot||this.resumeFrom||g||p&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,g);const x={...yR(y,"layout"),onPlay:m,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x)}else p||bD(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=h})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),wd(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(c0e),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&mW(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const p=this.path[d];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(vD);return}this.isUpdating||this.nodes.forEach(i0e),this.isUpdating=!1,this.nodes.forEach(a0e),this.nodes.forEach(e0e),this.nodes.forEach(t0e),this.clearAllSnapshots();const o=wi.now();cs.delta=Fc(0,1e3/60,o-cs.timestamp),cs.timestamp=o,cs.isProcessing=!0,gI.update.process(cs),gI.preRender.process(cs),gI.render.process(cs),cs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,vR.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(s0e),this.sharedNodes.forEach(u0e)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,rr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){rr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Xs(this.snapshot.measuredBox.x)&&!Xs(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=vr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!fW(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&this.instance&&(o||Xd(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),h0e(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:a}=this.options;if(!a)return vr();const o=a.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(m0e))){const{scroll:d}=this.root;d&&(fh(o.x,d.offset.x),fh(o.y,d.offset.y))}return o}removeElementScroll(a){var l;const o=vr();if(da(o,a),(l=this.scroll)!=null&&l.wasRoot)return o;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:p,options:f}=d;d!==this.root&&p&&f.layoutScroll&&(p.wasRoot&&da(o,a),fh(o.x,p.offset.x),fh(o.y,p.offset.y))}return o}applyTransform(a,o=!1){const l=vr();da(l,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&hh(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Xd(d.latestValues)&&hh(l,d.latestValues)}return Xd(this.latestValues)&&hh(l,this.latestValues),l}removeTransform(a){const o=vr();da(o,a);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Xd(u.latestValues))continue;BN(u.latestValues)&&u.updateSnapshot();const d=vr(),p=u.measurePageBox();da(d,p),pD(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Xd(this.latestValues)&&pD(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==cs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var f;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(a||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:p}=this.options;if(!(!this.layout||!(d||p))){if(this.resolvedRelativeTargetAt=cs.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vr(),this.relativeTargetOrigin=vr(),Rg(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),da(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=vr(),this.targetWithTransforms=vr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),gge(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):da(this.target,this.layout.layoutBox),iW(this.target,this.targetDelta)):da(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vr(),this.relativeTargetOrigin=vr(),Rg(this.relativeTargetOrigin,this.target,h.target),da(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||BN(this.parent.latestValues)||sW(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var y;const a=this.getLead(),o=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===cs.timestamp&&(l=!1),l)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;da(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,f=this.treeScale.y;vge(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=vr());const{target:h}=a;if(!h){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(cD(this.prevProjectionDelta.x,this.projectionDelta.x),cD(this.prevProjectionDelta.y,this.projectionDelta.y)),Sg(this.projectionDelta,this.layoutCorrected,h,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==f||!gD(this.projectionDelta.x,this.prevProjectionDelta.x)||!gD(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",h))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ph(),this.projectionDelta=ph(),this.projectionDeltaWithTransform=ph()}setAnimationOrigin(a,o=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},p=ph();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=vr(),h=l?l.source:void 0,y=this.layout?this.layout.source:void 0,m=h!==y,b=this.getStack(),v=!b||b.members.length<=1,g=!!(m&&!v&&this.options.crossfade===!0&&!this.path.some(p0e));this.animationProgress=0;let x;this.mixTargetDelta=T=>{const I=T/1e3;xD(p.x,a.x,I),xD(p.y,a.y,I),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Rg(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),d0e(this.relativeTarget,this.relativeTargetOrigin,f,I),x&&Yge(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=vr()),da(x,this.relativeTarget)),m&&(this.animationValues=d,zge(d,u,this.latestValues,I,g,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var o,l,u;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(!1),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(!1),this.pendingAnimation&&(wd(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=rr.update(()=>{ow.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=wm(0)),this.currentAnimation=Lge(this.motionValue,[0,1e3],{...a,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),a.onUpdate&&a.onUpdate(d)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Jge),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:u,latestValues:d}=a;if(!(!o||!l||!u)){if(this!==a&&this.layout&&u&&gW(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||vr();const p=Xs(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+p;const f=Xs(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+f}da(o,l),hh(o,d),Sg(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new qge),this.sharedNodes.get(a).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const u={};l.z&&NI("z",a,u,this.animationValues);for(let d=0;d<CI.length;d++)NI(`rotate${CI[d]}`,a,u,this.animationValues),NI(`skew${CI[d]}`,a,u,this.animationValues);a.render();for(const d in u)a.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);a.scheduleRender()}getProjectionStyles(a){if(!this.instance||this.isSVG)return;if(!this.isVisible)return Xge;const o={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,o.opacity="",o.pointerEvents=aw(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none",o;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const h={};return this.options.layoutId&&(h.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,h.pointerEvents=aw(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Xd(this.latestValues)&&(h.transform=l?l({},""):"none",this.hasProjected=!1),h}const d=u.animationValues||u.latestValues;this.applyTransformsToTarget(),o.transform=Zge(this.projectionDeltaWithTransform,this.treeScale,d),l&&(o.transform=l(d,o.transform));const{x:p,y:f}=this.projectionDelta;o.transformOrigin=`${p.origin*100}% ${f.origin*100}% 0`,u.animationValues?o.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const h in R0){if(d[h]===void 0)continue;const{correct:y,applyTo:m,isCSSVariable:b}=R0[h],v=o.transform==="none"?d[h]:y(d[h],u);if(m){const g=m.length;for(let x=0;x<g;x++)o[m[x]]=v}else b?this.options.visualElement.renderState.vars[h]=v:o[h]=v}return this.options.layoutId&&(o.pointerEvents=u===this?aw(a==null?void 0:a.pointerEvents)||"":"none"),o}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)==null?void 0:o.stop(!1)}),this.root.nodes.forEach(vD),this.root.sharedNodes.clear()}}}function e0e(t){t.updateLayout()}function t0e(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,a=e.source!==t.layout.source;i==="size"?ga(p=>{const f=a?e.measuredBox[p]:e.layoutBox[p],h=Xs(f);f.min=r[p].min,f.max=f.min+h}):gW(i,e.layoutBox,r)&&ga(p=>{const f=a?e.measuredBox[p]:e.layoutBox[p],h=Xs(r[p]);f.max=f.min+h,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+h)});const o=ph();Sg(o,r,e.layoutBox);const l=ph();a?Sg(l,t.applyTransform(s,!0),e.measuredBox):Sg(l,r,e.layoutBox);const u=!fW(o);let d=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:f,layout:h}=p;if(f&&h){const y=vr();Rg(y,e.layoutBox,f.layoutBox);const m=vr();Rg(m,r,h.layoutBox),hW(y,m)||(d=!0),p.options.layoutRoot&&(t.relativeTarget=m,t.relativeTargetOrigin=y,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:o,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function n0e(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function r0e(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function s0e(t){t.clearSnapshot()}function vD(t){t.clearMeasurements()}function i0e(t){t.isLayoutDirty=!1}function a0e(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function bD(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function o0e(t){t.resolveTargetDelta()}function l0e(t){t.calcProjection()}function c0e(t){t.resetSkewAndRotation()}function u0e(t){t.removeLeadSnapshot()}function xD(t,e,n){t.translate=er(e.translate,0,n),t.scale=er(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function wD(t,e,n,r){t.min=er(e.min,n.min,r),t.max=er(e.max,n.max,r)}function d0e(t,e,n,r){wD(t.x,e.x,n.x,r),wD(t.y,e.y,n.y,r)}function p0e(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const f0e={duration:.45,ease:[.4,0,.1,1]},TD=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),AD=TD("applewebkit/")&&!TD("chrome/")?Math.round:_a;function ID(t){t.min=AD(t.min),t.max=AD(t.max)}function h0e(t){ID(t.x),ID(t.y)}function gW(t,e,n){return t==="position"||t==="preserve-aspect"&&!yge(yD(e),yD(n),.2)}function m0e(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const y0e=yW({attachResizeListener:(t,e)=>M0(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),EI={current:void 0},vW=yW({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!EI.current){const t=new y0e({});t.mount(window),t.setOptions({layoutScroll:!0}),EI.current=t}return EI.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),g0e={pan:{Feature:jge},drag:{Feature:Mge,ProjectionNode:vW,MeasureLayout:uW}};function kD(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&rr.postRender(()=>i(e,qv(e)))}let v0e=class extends jd{mount(){const{current:e}=this.node;e&&(this.unmount=Wme(e,(n,r)=>(kD(this.node,r,"Start"),s=>kD(this.node,s,"End"))))}unmount(){}},b0e=class extends jd{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Gv(M0(this.node.current,"focus",()=>this.onFocus()),M0(this.node.current,"blur",()=>this.onBlur()))}unmount(){}};function CD(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&rr.postRender(()=>i(e,qv(e)))}let x0e=class extends jd{mount(){const{current:e}=this.node;e&&(this.unmount=qme(e,(n,r)=>(CD(this.node,r,"Start"),(s,{success:i})=>CD(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}};const VN=new WeakMap,SI=new WeakMap,w0e=t=>{const e=VN.get(t.target);e&&e(t)},T0e=t=>{t.forEach(w0e)};function A0e({root:t,...e}){const n=t||document;SI.has(n)||SI.set(n,{});const r=SI.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(T0e,{root:t,...e})),r[s]}function I0e(t,e,n){const r=A0e(e);return VN.set(t,n),r.observe(t),()=>{VN.delete(t),r.unobserve(t)}}const k0e={some:0,all:1};let C0e=class extends jd{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:k0e[s]},o=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:p}=this.node.getProps(),f=u?d:p;f&&f(l)};return I0e(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(N0e(e,n))&&this.startObserver()}unmount(){}};function N0e({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const E0e={inView:{Feature:C0e},tap:{Feature:x0e},focus:{Feature:b0e},hover:{Feature:v0e}},S0e={layout:{ProjectionNode:vW,MeasureLayout:uW}},HN={current:null},bW={current:!1};function R0e(){if(bW.current=!0,!!JS)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>HN.current=t.matches;t.addListener(e),e()}else HN.current=!1}const P0e=new WeakMap;function M0e(t,e,n){for(const r in e){const s=e[r],i=n[r];if(js(s))t.addValue(r,s);else if(js(i))t.addValue(r,wm(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=t.getStaticValue(r);t.addValue(r,wm(a!==void 0?a:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const ND=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let j0e=class{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=hR,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=wi.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,rr.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=l2(n),this.isVariantNode=BH(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in p){const h=p[f];l[f]!==void 0&&js(h)&&h.set(l[f],!1)}}mount(e){this.current=e,P0e.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),bW.current||R0e(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:HN.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),wd(this.notifyUpdate),wd(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ry.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&rr.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Tm){const n=Tm[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):vr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<ND.length;r++){const s=ND[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=e[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=M0e(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=wm(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(YV(r)||ZV(r))?r=parseFloat(r):!Jme(r)&&Td.test(n)&&(r=PH(e,n)),this.setBaseTarget(e,js(r)?r.get():r)),js(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=ER(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);a&&(r=a[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!js(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new nR),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}},xW=class extends j0e{constructor(){super(...arguments),this.KeyframeResolver=Bme}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;js(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}};function wW(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}function _0e(t){return window.getComputedStyle(t)}let D0e=class extends xW{constructor(){super(...arguments),this.type="html",this.renderInstance=wW}readValueFromInstance(e,n){var r;if(ry.has(n))return(r=this.projection)!=null&&r.isProjecting?PN(n):ime(e,n);{const s=_0e(e),i=(iR(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return aW(e,n)}build(e,n,r){kR(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return SR(e,n,r)}};const TW=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function O0e(t,e,n,r){wW(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(TW.has(s)?s:IR(s),e.attrs[s])}let L0e=class extends xW{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=vr}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ry.has(n)){const r=RH(n);return r&&r.default||0}return n=TW.has(n)?n:IR(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return ZH(e,n,r)}build(e,n,r){GH(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){O0e(e,n,r,s)}mount(e){this.isSVGTag=YH(e.tagName),super.mount(e)}};const $0e=(t,e)=>NR(t)?new L0e(e):new D0e(e,{allowProjection:t!==A.Fragment}),F0e=Oye({...lge,...E0e,...g0e,...S0e},$0e),Gt=oye(F0e),E1={"Real Estate":["/assets/realestate/types-of-real-estate-cover.jpg","/assets/realestate/real-estate-asset-classes-hero.jpeg","/assets/realestate/types-of-real-estate-overview-scaled.jpg","/assets/realestate/banglore.jpeg"],Invoice:["/assets/invoices/Commercial-Invoice-Template.webp","/assets/invoices/1131w-KuVdlrcyWPE.webp","/assets/invoices/images-3.png"],Commodity:["/placeholder.svg"],Stocks:["/placeholder.svg"],"Carbon Credits":["/placeholder.svg"],"Precious Metals":["/placeholder.svg"],Collectibles:["/placeholder.svg"],Art:["/placeholder.svg"],Unknown:["/placeholder.svg"]},ED={"Real Estate":"/assets/realestate/types-of-real-estate-cover.jpg",Invoice:"/assets/invoices/Commercial-Invoice-Template.webp",Commodity:"/placeholder.svg",Stocks:"/placeholder.svg","Carbon Credits":"/placeholder.svg","Precious Metals":"/placeholder.svg",Collectibles:"/placeholder.svg",Art:"/placeholder.svg",Unknown:"/placeholder.svg"},AW=t=>ED[t]||ED.Unknown,B0e=(t,e)=>{const n=E1[t]||E1.Unknown,r=parseInt(e.toString())%n.length;return n[r]},S1=(t,e,n)=>{const r=E1[t]||E1.Unknown,s=n?`${e}-${n}`:e.toString();let i=0;for(let o=0;o<s.length;o++){const l=s.charCodeAt(o);i=(i<<5)-i+l,i=i&i}const a=Math.abs(i)%r.length;return r[a]},_f="image_cache_",U0e=24,SD=100,RD="1.0";class z0e{constructor(){Ge(this,"cache",new Map);Ge(this,"loadingPromises",new Map);this.loadCacheFromStorage(),this.cleanupExpiredEntries()}async getCachedImage(e,n="Real Estate",r="1",s=!1){const i=this.generateCacheKey(e,n,r);if(!s&&this.cache.has(i)){const o=this.cache.get(i);if(this.isCacheEntryValid(o))return console.log(` Using cached image for ${i}:`,o.url),o.url;this.cache.delete(i),this.removeCacheFromStorage(i)}if(this.loadingPromises.has(i))return console.log(` Image already loading for ${i}, waiting...`),this.loadingPromises.get(i);const a=this.loadAndCacheImage(e,n,r,i);this.loadingPromises.set(i,a);try{const o=await a;return this.loadingPromises.delete(i),o}catch(o){throw this.loadingPromises.delete(i),o}}async loadAndCacheImage(e,n,r,s){if(console.log(` Loading and caching image for ${s}...`),this.isIPFSUrl(e)){console.log(` Attempting IPFS image: ${e}`);const a=this.getIPFSGateways(e);for(const o of a)try{if(await this.testImageUrl(o))return console.log(` IPFS image loaded successfully: ${o}`),this.cacheImage(s,o,"ipfs",n,r),o}catch{console.log(` IPFS gateway failed: ${o}`);continue}console.log(` All IPFS gateways failed for: ${e}`)}if(!this.isIPFSUrl(e)&&e&&!e.includes("placeholder")){console.log(` Attempting original URL: ${e}`);try{if(await this.testImageUrl(e))return console.log(` Original image loaded successfully: ${e}`),this.cacheImage(s,e,"external",n,r),e}catch{console.log(` Original URL failed: ${e}`)}}console.log(` Using deterministic local asset for ${n} token ${r}`);const i=S1(n,r);return this.cacheImage(s,i,"local",n,r),console.log(` Cached local asset: ${i}`),i}testImageUrl(e){return new Promise(n=>{const r=new Image,s=setTimeout(()=>{r.onload=null,r.onerror=null,n(!1)},5e3);r.onload=()=>{clearTimeout(s),n(!0)},r.onerror=()=>{clearTimeout(s),n(!1)},r.src=e})}cacheImage(e,n,r,s,i){const a={url:n,timestamp:Date.now(),source:r,assetType:s,tokenId:i,version:RD};this.cache.set(e,a),this.saveCacheToStorage(e,a),this.cache.size>SD&&this.cleanupOldestEntries(),console.log(` Cached image: ${e}  ${n} (${r})`)}generateCacheKey(e,n,r){const s=this.simpleHash(e||"empty");return`${n}_${r}_${s}`}simpleHash(e){let n=0;for(let r=0;r<e.length;r++){const s=e.charCodeAt(r);n=(n<<5)-n+s,n=n&n}return Math.abs(n).toString(36)}isIPFSUrl(e){return e.startsWith("ipfs://")||e.includes("/ipfs/")||e.match(/^Qm[a-zA-Z0-9]{44}$/)!==null}getIPFSGateways(e){let n="";if(e.startsWith("ipfs://"))n=e.replace("ipfs://","");else if(e.includes("/ipfs/")){const r=e.split("/ipfs/");n=r[r.length-1]}else e.match(/^Qm[a-zA-Z0-9]{44}$/)&&(n=e);return n?[`https://gateway.pinata.cloud/ipfs/${n}`,`https://ipfs.io/ipfs/${n}`,`https://cloudflare-ipfs.com/ipfs/${n}`,`https://dweb.link/ipfs/${n}`,`https://gateway.ipfs.io/ipfs/${n}`]:[e]}isCacheEntryValid(e){const n=Date.now(),r=e.timestamp+U0e*60*60*1e3,s=n>r,i=e.version===RD;return!s&&i}loadCacheFromStorage(){try{const e=Object.keys(localStorage).filter(n=>n.startsWith(_f));for(const n of e){const r=localStorage.getItem(n);if(r){const s=JSON.parse(r),i=n.replace(_f,"");this.isCacheEntryValid(s)?this.cache.set(i,s):localStorage.removeItem(n)}}console.log(` Loaded ${this.cache.size} images from cache storage`)}catch(e){console.error(" Error loading image cache from storage:",e)}}saveCacheToStorage(e,n){try{localStorage.setItem(_f+e,JSON.stringify(n))}catch(r){console.error(" Error saving image cache to storage:",r),this.cleanupOldestEntries();try{localStorage.setItem(_f+e,JSON.stringify(n))}catch(s){console.error(" Error saving image cache after cleanup:",s)}}}removeCacheFromStorage(e){try{localStorage.removeItem(_f+e)}catch(n){console.error(" Error removing image cache from storage:",n)}}cleanupExpiredEntries(){const e=[];for(const[n,r]of this.cache.entries())this.isCacheEntryValid(r)||e.push(n);for(const n of e)this.cache.delete(n),this.removeCacheFromStorage(n);e.length>0&&console.log(` Cleaned up ${e.length} expired image cache entries`)}cleanupOldestEntries(){const e=Array.from(this.cache.entries());e.sort((r,s)=>r[1].timestamp-s[1].timestamp);const n=e.slice(0,Math.ceil(SD*.2));for(const[r]of n)this.cache.delete(r),this.removeCacheFromStorage(r);console.log(` Cleaned up ${n.length} oldest image cache entries`)}clearAllCache(){this.cache.clear();try{const e=Object.keys(localStorage).filter(n=>n.startsWith(_f));for(const n of e)localStorage.removeItem(n);console.log(" Cleared all image cache")}catch(e){console.error(" Error clearing image cache:",e)}}getCacheStats(){const e=Array.from(this.cache.values()).filter(s=>s.source==="ipfs").length,n=Array.from(this.cache.values()).filter(s=>s.source==="local").length,r=Array.from(this.cache.values()).filter(s=>s.source==="external").length;return{totalEntries:this.cache.size,ipfsEntries:e,localEntries:n,externalEntries:r,cacheSize:`${Math.round(this.cache.size*.5)}KB`}}async preloadImages(e){console.log(` Preloading ${e.length} images...`);const n=e.map(async({url:i,assetType:a,tokenId:o})=>{try{return await this.getCachedImage(i,a,o),!0}catch(l){return console.error(` Failed to preload image for token ${o}:`,l),!1}}),s=(await Promise.allSettled(n)).filter(i=>i.status==="fulfilled").length;console.log(` Preloaded ${s}/${e.length} images`)}}const c2=new z0e;window.imageCacheService=c2;const sf=({src:t,alt:e,className:n="",assetType:r="Real Estate",tokenId:s="1",forceRefresh:i=!1,onLoad:a,onError:o,placeholder:l})=>{const[u,d]=A.useState(""),[p,f]=A.useState(!0),[h,y]=A.useState(!1),[m,b]=A.useState("");A.useEffect(()=>{let T=!0;return(async()=>{f(!0),y(!1);try{console.log(` Loading cached image for token ${s} (${r}):`,t);const C=await c2.getCachedImage(t,r,s,i);T&&(d(C),C.includes("/assets/")?b("local"):C.includes("ipfs")||C.includes("gateway")?b("ipfs"):b("external"),console.log(` Cached image loaded for token ${s}:`,C))}catch(C){console.error(` Failed to load cached image for token ${s}:`,C),T&&(y(!0),f(!1),o==null||o())}})(),()=>{T=!1}},[t,r,s,i]);const v=()=>{f(!1),y(!1),a==null||a(),console.log(` Image rendered successfully for token ${s} from ${m} cache`)},g=()=>{y(!0),f(!1),o==null||o(),console.error(` Image render failed for token ${s}:`,u)},x=c.jsx("div",{className:"flex items-center justify-center bg-gray-200 animate-pulse",children:c.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})});return c.jsxs("div",{className:`relative ${n}`,children:[p&&c.jsx("div",{className:"absolute inset-0",children:l||x}),u&&c.jsx("img",{src:u,alt:e,className:`${n} ${p?"opacity-0":"opacity-100"} transition-opacity duration-300`,onLoad:v,onError:g}),h&&!p&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100",children:c.jsxs("div",{className:"text-center text-gray-500",children:[c.jsx("svg",{className:"w-8 h-8 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})}),c.jsx("span",{className:"text-xs",children:"Image unavailable"})]})}),!1]})},V0e=({listings:t,onSelectListing:e,onViewDetails:n,tokenPrice:r})=>{var l,u;const[s,i]=A.useState(0);A.useEffect(()=>{if(t.length===0)return;const d=setInterval(()=>{i(p=>(p+1)%t.length)},5e3);return()=>clearInterval(d)},[t.length]);const a=()=>{t.length!==0&&i(d=>(d+1)%t.length)},o=()=>{t.length!==0&&i(d=>(d-1+t.length)%t.length)};return t.length===0?null:c.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-br from-gray-900 via-gray-800 to-black shadow-2xl",children:[c.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_30%_20%,rgba(75,85,99,0.2),transparent_50%)]"}),c.jsxs("div",{className:"relative",children:[c.jsx(wR,{mode:"wait",children:c.jsxs(Gt.div,{initial:{opacity:0,x:300},animate:{opacity:1,x:0},exit:{opacity:0,x:-300},transition:{duration:.5,ease:"easeInOut"},className:"flex flex-col lg:flex-row",children:[c.jsxs("div",{className:"lg:w-1/2 relative",children:[c.jsx(sf,{src:t[s].image,alt:t[s].name,className:"w-full h-64 lg:h-96 object-cover",assetType:((u=(l=t[s].attributes)==null?void 0:l.find(d=>d.trait_type==="Asset Type"))==null?void 0:u.value)||"Real Estate",tokenId:t[s].tokenId}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"}),c.jsx("div",{className:"absolute top-6 left-6",children:c.jsx("span",{className:"px-4 py-2 bg-gradient-to-r from-yellow-400 to-orange-500 text-black rounded-full text-sm font-bold shadow-lg",children:" FEATURED"})})]}),c.jsxs("div",{className:"lg:w-1/2 p-8 lg:p-12 text-white flex flex-col justify-center",children:[c.jsx("h3",{className:" text-white text-3xl lg:text-4xl font-bold mb-4 leading-tight",children:t[s].name}),c.jsx("p",{className:"text-lg text-gray-100 mb-6 leading-relaxed",children:t[s].description}),c.jsx("div",{className:"flex items-center justify-between mb-8",children:c.jsx("div",{className:"text-right",children:c.jsxs("div",{className:"text-green-400 font-bold",children:["Token #",t[s].tokenId]})})}),c.jsx("div",{className:"flex space-x-4",children:c.jsx("button",{onClick:()=>e(t[s]),className:"flex-1 px-6 py-3 bg-gradient-to-r from-gray-700 to-gray-800 text-white rounded-xl hover:from-gray-800 hover:to-gray-900 transition-all duration-300 font-semibold shadow-lg",children:"Invest Now"})})]})]},s)}),c.jsx("button",{onClick:o,className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-12 h-12 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-white/30 transition-all duration-300",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),c.jsx("button",{onClick:a,className:"absolute right-4 top-1/2 transform -translate-y-1/2 w-12 h-12 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-white/30 transition-all duration-300",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),c.jsx("div",{className:"absolute bottom-6 left-1/2 transform -translate-x-1/2 flex space-x-2",children:t.map((d,p)=>c.jsx("button",{onClick:()=>i(p),className:`w-3 h-3 rounded-full transition-all duration-300 ${p===s?"bg-white shadow-lg":"bg-white/40 hover:bg-white/60"}`},p))})]})]})},H0e=OT("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ue({className:t,variant:e,...n}){return c.jsx("div",{className:vt(H0e({variant:e}),t),...n})}const W0e=({listings:t,category:e,onSelectListing:n,onNavigateToTrading:r,onPayRoyalty:s,tokenPrice:i,loading:a=!1,userLicenses:o=[]})=>{const[l,u]=A.useState(null);return a?c.jsxs("div",{className:"text-center py-16",children:[c.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-100 to-blue-200 rounded-full flex items-center justify-center mx-auto mb-4 animate-pulse",children:c.jsx("svg",{className:"w-12 h-12 text-blue-500 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),c.jsxs("h3",{className:"text-xl font-medium text-gray-800",children:["Loading ",e]}),c.jsx("p",{className:"text-gray-500",children:"Fetching the latest listings from the blockchain..."})]}):t.length===0?c.jsxs("div",{className:"text-center py-16",children:[c.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-gray-100 to-gray-200 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),c.jsxs("h3",{className:"text-xl font-medium text-gray-800",children:["No ",e," Available"]}),c.jsx("p",{className:"text-gray-500",children:"There are currently no assets listed in this category."})]}):c.jsx(Gt.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:t.map(d=>{var p,f,h,y;return c.jsxs(Gt.div,{className:"bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden group relative border border-gray-200/80",whileHover:{y:-8},onMouseEnter:()=>u(d),onMouseLeave:()=>u(null),children:[c.jsxs("div",{className:"relative",children:[c.jsx(sf,{src:d.image,alt:d.name,className:"w-full h-56 object-cover",assetType:((f=(p=d.attributes)==null?void 0:p.find(m=>m.trait_type==="Asset Type"))==null?void 0:f.value)||"Real Estate",tokenId:d.tokenId}),c.jsxs("div",{className:"absolute top-4 left-4 flex space-x-2",children:[c.jsx(Ue,{variant:"secondary",className:"bg-white/80 backdrop-blur-sm text-gray-800 shadow",children:(y=(h=d.attributes)==null?void 0:h.find(m=>m.trait_type==="Asset Type"))==null?void 0:y.value}),d.license&&c.jsx(Ue,{variant:"secondary",className:"bg-blue-100 text-blue-800 shadow",children:"Licensable"}),o.some(m=>m.ipId===d.tokenId)&&c.jsx(Ue,{variant:"secondary",className:"bg-green-100 text-green-800 shadow",children:"Licensed"})]}),c.jsx("div",{className:"absolute bottom-4 right-4 text-white text-right bg-black/50 backdrop-blur-sm px-3 py-1 rounded-lg",children:d.license&&c.jsxs("div",{className:"text-xs text-green-400",children:[d.license.terms.commercialRevShare,"% Royalty"]})})]}),c.jsxs("div",{className:"p-6",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-900 truncate mb-2",children:d.name}),c.jsx("p",{className:"text-gray-600 h-10 overflow-hidden mb-4",children:d.description}),d.license&&c.jsx("div",{className:"mb-4",children:c.jsxs(Ue,{children:["Royalty: ",d.license.terms.commercialRevShare,"%"]})}),c.jsx("div",{className:"flex justify-between items-center text-sm text-gray-500 mb-4",children:c.jsxs("span",{children:["Token #",d.tokenId.toString().slice(0,4),"..",d.tokenId.toString().slice(-4)]})})]}),c.jsx("div",{className:"px-6 pb-6 pt-2 border-t border-gray-100",children:c.jsxs("div",{className:"flex space-x-3",children:[c.jsxs(te,{size:"sm",className:"flex-1 bg-gray-800 hover:bg-gray-900",onClick:()=>n(d),children:[c.jsx(Ui,{className:"w-4 h-4 mr-2"}),"Buy"]}),s&&d.license&&c.jsxs(te,{size:"sm",variant:"outline",className:"flex-1 border-green-600 text-green-600 hover:bg-green-50",onClick:()=>s(d),children:[c.jsx(jc,{className:"w-4 h-4 mr-2"}),"Pay Royalty"]})]})})]},d.tokenId)})})},G0e=({listing:t,onClose:e,onBuy:n,onNavigateToTrading:r,tokenPrice:s,onMintLicense:i,onPayRoyalty:a})=>{var o,l,u,d;return A.useEffect(()=>{const p=f=>{f.key==="Escape"&&e()};return window.addEventListener("keydown",p),()=>{window.removeEventListener("keydown",p)}},[e]),c.jsx(wR,{children:c.jsx(Gt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:e,children:c.jsxs(Gt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.3},className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",onClick:p=>p.stopPropagation(),children:[c.jsxs("header",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t.name}),c.jsx(te,{variant:"ghost",size:"icon",onClick:e,className:"rounded-full",children:c.jsx(LT,{className:"w-6 h-6"})})]}),c.jsx("div",{className:"flex-grow overflow-y-auto",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 p-8",children:[c.jsxs("div",{className:"space-y-6 ",children:[c.jsxs("div",{className:"relative rounded-xl overflow-hidden shadow-lg",children:[c.jsx(sf,{src:t.image,alt:t.name,className:"w-full h-80 object-cover",assetType:((l=(o=t.attributes)==null?void 0:o.find(p=>p.trait_type==="Asset Type"))==null?void 0:l.value)||"Real Estate",tokenId:t.tokenId}),c.jsx("div",{className:"absolute top-4 left-4",children:c.jsx(Ue,{variant:"secondary",className:"bg-white/80 backdrop-blur-sm shadow",children:(d=(u=t.attributes)==null?void 0:u.find(p=>p.trait_type==="Asset Type"))==null?void 0:d.value})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.metadataURI&&c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:"Metadata"}),c.jsx("a",{href:`https://gateway.pinata.cloud/ipfs/${t.metadataURI.replace("ipfs://","")}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm truncate block",children:"View on IPFS"})]}),c.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[c.jsxs("div",{className:"flex items-center text-gray-500 mb-1",children:[c.jsx(fm,{className:"w-4 h-4 mr-2"})," Token ID"]}),c.jsxs("div",{className:"font-bold text-lg text-gray-900",children:["#",t.tokenId.toString().slice(0,4),"..",t.tokenId.toString().slice(-4)]})]})]})]}),c.jsxs("div",{className:"space-y-6 ",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-3 flex items-center",children:[c.jsx(i1,{className:"w-5 h-5 mr-2 text-gray-500"}),"Asset Details"]}),c.jsx("div",{className:"space-y-2 text-sm",children:t.attributes.map((p,f)=>c.jsxs("div",{className:"flex justify-between p-3 bg-gray-50 rounded-md",children:[c.jsx("span",{className:"text-gray-600",children:p.trait_type}),c.jsx("span",{className:"font-semibold text-gray-900",children:p.value})]},f))})]}),t.license&&c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-3 flex items-center",children:[c.jsx(i1,{className:"w-5 h-5 mr-2 text-gray-500"}),"License Terms"]}),c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("div",{className:"flex justify-between p-3 bg-gray-50 rounded-md",children:[c.jsx("span",{className:"text-gray-600",children:"Commercial Use"}),c.jsx("span",{className:"font-semibold text-gray-900",children:t.license.terms.commercialUse?"Yes":"No"})]}),c.jsxs("div",{className:"flex justify-between p-3 bg-gray-50 rounded-md",children:[c.jsx("span",{className:"text-gray-600",children:"Derivatives"}),c.jsx("span",{className:"font-semibold text-gray-900",children:t.license.terms.derivativesAllowed?"Yes":"No"})]}),c.jsxs("div",{className:"flex justify-between p-3 bg-gray-50 rounded-md",children:[c.jsx("span",{className:"text-gray-600",children:"Royalty"}),c.jsxs("span",{className:"font-semibold text-gray-900",children:[t.license.terms.commercialRevShare,"%"]})]})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:"Description"}),c.jsx("p",{className:"text-gray-600 leading-relaxed text-sm",children:t.description})]})]})]})}),c.jsx("footer",{className:"p-6 bg-gray-50 border-t border-gray-200",children:c.jsxs("div",{className:"flex justify-end space-x-4",children:[t.license&&a&&c.jsxs(te,{size:"lg",variant:"outline",className:"border-green-600 text-green-600 hover:bg-green-50",onClick:()=>a(t),children:[c.jsx(jc,{className:"w-5 h-5 mr-2"}),"Pay Royalty"]}),t.license&&c.jsx(te,{size:"lg",className:"bg-blue-600 hover:bg-blue-700",onClick:()=>i(t),children:"Mint License"})]})})]})})})},K0e=({listing:t,tokenPrice:e,onClose:n,onMint:r})=>{const[s,i]=A.useState(1),[a,o]=A.useState(!1),l=()=>{console.log(" Mint button clicked:",{agree:a,amount:s,listing:t}),a?(console.log(" Agreement confirmed, calling onMint..."),r(t,s)):console.warn(" User must agree to terms first")};if(!t.license)return console.error(" No license found on listing:",t),null;console.log(" License Modal Data:",t.license);const u=t.license.terms.defaultMintingFee?parseFloat(_e(t.license.terms.defaultMintingFee)):0;return c.jsx(Gt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:n,children:c.jsx(Gt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg",onClick:d=>d.stopPropagation(),children:c.jsxs("div",{className:"p-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Mint License"}),c.jsxs("p",{className:"text-gray-600 mb-4",children:["You are about to mint a license for:"," ",c.jsx("span",{className:"font-semibold",children:t.name})]}),c.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-4",children:[c.jsx("h3",{className:"font-semibold mb-2",children:"License Terms Summary"}),c.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[c.jsxs("li",{children:[" Commercial Use: ",t.license.terms.commercialUse?"Yes":"No"]}),c.jsxs("li",{children:[" Derivative Works: ",t.license.terms.derivativesAllowed?"Yes":"No"]}),c.jsxs("li",{children:[" Royalty: ",t.license.terms.commercialRevShare,"% of revenue"]}),c.jsxs("li",{children:[" Minting Fee: ",u," ETH"]})]})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount to mint"}),c.jsx("input",{type:"number",id:"amount",value:s,onChange:d=>i(parseInt(d.target.value,10)),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"1"})]}),c.jsxs("div",{className:"flex items-start mb-6",children:[c.jsx("input",{id:"agree",type:"checkbox",checked:a,onChange:d=>o(d.target.checked),className:"h-4 w-4 text-blue-600 border-gray-300 rounded mt-1"}),c.jsx("label",{htmlFor:"agree",className:"ml-2 text-sm text-gray-700",children:"I agree to the license terms, including the royalty commitment."})]}),c.jsxs("div",{className:"flex justify-end space-x-4",children:[c.jsx(te,{variant:"outline",onClick:n,children:"Cancel"}),c.jsx(te,{onClick:l,disabled:!a,children:"Mint License"})]})]})})})},PR=A.createContext({});function Zv(t){const e=A.useRef(null);return e.current===null&&(e.current=t()),e.current}const MR=typeof window<"u",u2=MR?A.useLayoutEffect:A.useEffect,d2=A.createContext(null),p2=A.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function IW(t){return typeof t=="object"&&t!==null}function f2(t){return IW(t)&&"offsetHeight"in t}class Y0e extends A.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=f2(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function q0e({children:t,isPresent:e,anchorX:n}){const r=A.useId(),s=A.useRef(null),i=A.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=A.useContext(p2);return A.useInsertionEffect(()=>{const{width:o,height:l,top:u,left:d,right:p}=i.current;if(e||!s.current||!o||!l)return;const f=n==="left"?`left: ${d}`:`right: ${p}`;s.current.dataset.motionPopId=r;const h=document.createElement("style");return a&&(h.nonce=a),document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            ${f}px !important;
            top: ${u}px !important;
          }
        `),()=>{document.head.contains(h)&&document.head.removeChild(h)}},[e]),c.jsx(Y0e,{isPresent:e,childRef:s,sizeRef:i,children:A.cloneElement(t,{ref:s})})}const Z0e=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:a,anchorX:o})=>{const l=Zv(X0e),u=A.useId();let d=!0,p=A.useMemo(()=>(d=!1,{id:u,initial:e,isPresent:n,custom:s,onExitComplete:f=>{l.set(f,!0);for(const h of l.values())if(!h)return;r&&r()},register:f=>(l.set(f,!1),()=>l.delete(f))}),[n,l,r]);return i&&d&&(p={...p}),A.useMemo(()=>{l.forEach((f,h)=>l.set(h,!1))},[n]),A.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),a==="popLayout"&&(t=c.jsx(q0e,{isPresent:n,anchorX:o,children:t})),c.jsx(d2.Provider,{value:p,children:t})};function X0e(){return new Map}function kW(t=!0){const e=A.useContext(d2);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=A.useId();A.useEffect(()=>{if(t)return s(i)},[t]);const a=A.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,a]:[!0]}const Xb=t=>t.key||"";function PD(t){const e=[];return A.Children.forEach(t,n=>{A.isValidElement(n)&&e.push(n)}),e}const J0e=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:a=!1,anchorX:o="left"})=>{const[l,u]=kW(a),d=A.useMemo(()=>PD(t),[t]),p=a&&!l?[]:d.map(Xb),f=A.useRef(!0),h=A.useRef(d),y=Zv(()=>new Map),[m,b]=A.useState(d),[v,g]=A.useState(d);u2(()=>{f.current=!1,h.current=d;for(let I=0;I<v.length;I++){const C=Xb(v[I]);p.includes(C)?y.delete(C):y.get(C)!==!0&&y.set(C,!1)}},[v,p.length,p.join("-")]);const x=[];if(d!==m){let I=[...d];for(let C=0;C<v.length;C++){const N=v[C],P=Xb(N);p.includes(P)||(I.splice(C,0,N),x.push(N))}return i==="wait"&&x.length&&(I=x),g(PD(I)),b(d),null}const{forceRender:T}=A.useContext(PR);return c.jsx(c.Fragment,{children:v.map(I=>{const C=Xb(I),N=a&&!l?!1:d===v||p.includes(C),P=()=>{if(y.has(C))y.set(C,!0);else return;let L=!0;y.forEach(U=>{U||(L=!1)}),L&&(T==null||T(),g(h.current),a&&(u==null||u()),r&&r())};return c.jsx(Z0e,{isPresent:N,initial:!f.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,onExitComplete:N?void 0:P,anchorX:o,children:I},C)})})},Jb=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],MD={value:null,addProjectionMetrics:null};function Q0e(t,e){let n=new Set,r=new Set,s=!1,i=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1},l=0;function u(p){a.has(p)&&(d.schedule(p),t()),l++,p(o)}const d={schedule:(p,f=!1,h=!1)=>{const m=h&&s?n:r;return f&&a.add(p),m.has(p)||m.add(p),p},cancel:p=>{r.delete(p),a.delete(p)},process:p=>{if(o=p,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(u),e&&MD.value&&MD.value.frameloop[e].push(l),l=0,n.clear(),s=!1,i&&(i=!1,d.process(p))}};return d}const Uc={},eve=40;function CW(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=Jb.reduce((x,T)=>(x[T]=Q0e(i,e?T:void 0),x),{}),{setup:o,read:l,resolveKeyframes:u,preUpdate:d,update:p,preRender:f,render:h,postRender:y}=a,m=()=>{const x=Uc.useManualTiming?s.timestamp:performance.now();n=!1,Uc.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(x-s.timestamp,eve),1)),s.timestamp=x,s.isProcessing=!0,o.process(s),l.process(s),u.process(s),d.process(s),p.process(s),f.process(s),h.process(s),y.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(m))},b=()=>{n=!0,r=!0,s.isProcessing||t(m)};return{schedule:Jb.reduce((x,T)=>{const I=a[T];return x[T]=(C,N=!1,P=!1)=>(n||b(),I.schedule(C,N,P)),x},{}),cancel:x=>{for(let T=0;T<Jb.length;T++)a[Jb[T]].cancel(x)},state:s,steps:a}}const Ei=t=>t,{schedule:Tn,cancel:Po,state:Zr,steps:RI}=CW(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ei,!0),NW=A.createContext({strict:!1}),jD={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Am={};for(const t in jD)Am[t]={isEnabled:e=>jD[t].some(n=>!!e[n])};function tve(t){for(const e in t)Am[e]={...Am[e],...t[e]}}const nve=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function R1(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||nve.has(t)}let EW=t=>!R1(t);function rve(t){t&&(EW=e=>e.startsWith("on")?!R1(e):t(e))}try{rve(require("@emotion/is-prop-valid").default)}catch{}function sve(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(EW(s)||n===!0&&R1(s)||!e&&!R1(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function ive(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const h2=A.createContext({});function m2(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function j0(t){return typeof t=="string"||Array.isArray(t)}const jR=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],_R=["initial",...jR];function y2(t){return m2(t.animate)||_R.some(e=>j0(t[e]))}function SW(t){return!!(y2(t)||t.variants)}function ave(t,e){if(y2(t)){const{initial:n,animate:r}=t;return{initial:n===!1||j0(n)?n:void 0,animate:j0(r)?r:void 0}}return t.inherit!==!1?e:{}}function ove(t){const{initial:e,animate:n}=ave(t,A.useContext(h2));return A.useMemo(()=>({initial:e,animate:n}),[_D(e),_D(n)])}function _D(t){return Array.isArray(t)?t.join(" "):t}const lve=Symbol.for("motionComponentSymbol");function mh(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function cve(t,e,n){return A.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):mh(n)&&(n.current=r))},[e])}const DR=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),uve="framerAppearId",RW="data-"+DR(uve),PW=A.createContext({}),{schedule:OR,cancel:M9e}=CW(queueMicrotask,!1);function dve(t,e,n,r,s){var m,b;const{visualElement:i}=A.useContext(h2),a=A.useContext(NW),o=A.useContext(d2),l=A.useContext(p2).reducedMotion,u=A.useRef(null);r=r||a.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const d=u.current,p=A.useContext(PW);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&pve(u.current,n,s,p);const f=A.useRef(!1);A.useInsertionEffect(()=>{d&&f.current&&d.update(n,o)});const h=n[RW],y=A.useRef(!!h&&!((m=window.MotionHandoffIsComplete)!=null&&m.call(window,h))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,h)));return u2(()=>{d&&(f.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),OR.render(d.render),y.current&&d.animationState&&d.animationState.animateChanges())}),A.useEffect(()=>{d&&(!y.current&&d.animationState&&d.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,h)}),y.current=!1))}),d}function pve(t,e,n,r){const{layoutId:s,layout:i,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:u,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:MW(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||o&&mh(o),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:u})}function MW(t){if(t)return t.options.allowProjection!==!1?t.projection:MW(t.parent)}let fve=()=>{},P1=()=>{};function hve({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&tve(t);function i(o,l){let u;const d={...A.useContext(p2),...o,layoutId:mve(o)},{isStatic:p}=d,f=ove(o),h=r(o,p);if(!p&&MR){yve();const y=gve(d);u=y.MeasureLayout,f.visualElement=dve(s,h,d,e,y.ProjectionNode)}return c.jsxs(h2.Provider,{value:f,children:[u&&f.visualElement?c.jsx(u,{visualElement:f.visualElement,...d}):null,n(s,o,cve(h,f.visualElement,l),h,p,f.visualElement)]})}i.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const a=A.forwardRef(i);return a[lve]=s,a}function mve({layoutId:t}){const e=A.useContext(PR).id;return e&&t!==void 0?e+"-"+t:t}function yve(t,e){A.useContext(NW).strict}function gve(t){const{drag:e,layout:n}=Am;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const jW=t=>e=>typeof e=="string"&&e.startsWith(t),LR=jW("--"),vve=jW("var(--"),$R=t=>vve(t)?bve.test(t.split("/*")[0].trim()):!1,bve=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,_0={};function xve(t){for(const e in t)_0[e]=t[e],LR(e)&&(_0[e].isCSSVariable=!0)}const sy=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],iy=new Set(sy);function _W(t,{layout:e,layoutId:n}){return iy.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!_0[t]||t==="opacity")}const DW=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ml=(t,e,n)=>n>e?e:n<t?t:n,ay={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},D0={...ay,transform:t=>Ml(0,1,t)},Qb={...ay,default:1},DD={...ay,transform:Math.round},Xv=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),fu=Xv("deg"),xl=Xv("%"),It=Xv("px"),wve=Xv("vh"),Tve=Xv("vw"),OD={...xl,parse:t=>xl.parse(t)/100,transform:t=>xl.transform(t*100)},Ave={rotate:fu,rotateX:fu,rotateY:fu,rotateZ:fu,scale:Qb,scaleX:Qb,scaleY:Qb,scaleZ:Qb,skew:fu,skewX:fu,skewY:fu,distance:It,translateX:It,translateY:It,translateZ:It,x:It,y:It,z:It,perspective:It,transformPerspective:It,opacity:D0,originX:OD,originY:OD,originZ:It},FR={borderWidth:It,borderTopWidth:It,borderRightWidth:It,borderBottomWidth:It,borderLeftWidth:It,borderRadius:It,radius:It,borderTopLeftRadius:It,borderTopRightRadius:It,borderBottomRightRadius:It,borderBottomLeftRadius:It,width:It,maxWidth:It,height:It,maxHeight:It,top:It,right:It,bottom:It,left:It,padding:It,paddingTop:It,paddingRight:It,paddingBottom:It,paddingLeft:It,margin:It,marginTop:It,marginRight:It,marginBottom:It,marginLeft:It,backgroundPositionX:It,backgroundPositionY:It,...Ave,zIndex:DD,fillOpacity:D0,strokeOpacity:D0,numOctaves:DD},Ive={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},kve=sy.length;function Cve(t,e,n){let r="",s=!0;for(let i=0;i<kve;i++){const a=sy[i],o=t[a];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(a.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||n){const u=DW(o,FR[a]);if(!l){s=!1;const d=Ive[a]||a;r+=`${d}(${u}) `}n&&(e[a]=u)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function BR(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let a=!1,o=!1;for(const l in e){const u=e[l];if(iy.has(l)){a=!0;continue}else if(LR(l)){s[l]=u;continue}else{const d=DW(u,FR[l]);l.startsWith("origin")?(o=!0,i[l]=d):r[l]=d}}if(e.transform||(a||n?r.transform=Cve(e,t.transform,n):r.transform&&(r.transform="none")),o){const{originX:l="50%",originY:u="50%",originZ:d=0}=i;r.transformOrigin=`${l} ${u} ${d}`}}const UR=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),es=t=>!!(t&&t.getVelocity);function OW(t,e,n){for(const r in e)!es(e[r])&&!_W(r,n)&&(t[r]=e[r])}function Nve({transformTemplate:t},e){return A.useMemo(()=>{const n=UR();return BR(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Eve(t,e){const n=t.style||{},r={};return OW(r,n,t),Object.assign(r,Nve(t,e)),r}function Sve(t,e){const n={},r=Eve(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const Rve={offset:"stroke-dashoffset",array:"stroke-dasharray"},Pve={offset:"strokeDashoffset",array:"strokeDasharray"};function Mve(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?Rve:Pve;t[i.offset]=It.transform(-r);const a=It.transform(e),o=It.transform(n);t[i.array]=`${a} ${o}`}function LW(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:a=0,...o},l,u,d){if(BR(t,o,u),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:f}=t;p.transform&&(f.transform=p.transform,delete p.transform),(f.transform||p.transformOrigin)&&(f.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete p.transformBox),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),s!==void 0&&Mve(p,s,i,a,!1)}const $W=()=>({...UR(),attrs:{}}),FW=t=>typeof t=="string"&&t.toLowerCase()==="svg";function jve(t,e,n,r){const s=A.useMemo(()=>{const i=$W();return LW(i,e,FW(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};OW(i,t.style,t),s.style={...i,...s.style}}return s}const _ve=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function zR(t){return typeof t!="string"||t.includes("-")?!1:!!(_ve.indexOf(t)>-1||/[A-Z]/u.test(t))}function Dve(t=!1){return(n,r,s,{latestValues:i},a)=>{const l=(zR(n)?jve:Sve)(r,i,a,n),u=sve(r,typeof n=="string",t),d=n!==A.Fragment?{...u,...l,ref:s}:{},{children:p}=r,f=A.useMemo(()=>es(p)?p.get():p,[p]);return A.createElement(n,{...d,children:f})}}function LD(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function VR(t,e,n,r){if(typeof e=="function"){const[s,i]=LD(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=LD(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function lw(t){return es(t)?t.get():t}function Ove({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:Lve(n,r,s,t),renderState:e()}}const BW=t=>(e,n)=>{const r=A.useContext(h2),s=A.useContext(d2),i=()=>Ove(t,e,r,s);return n?i():Zv(i)};function Lve(t,e,n,r){const s={},i=r(t,{});for(const f in i)s[f]=lw(i[f]);let{initial:a,animate:o}=t;const l=y2(t),u=SW(t);e&&u&&!l&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const p=d?o:a;if(p&&typeof p!="boolean"&&!m2(p)){const f=Array.isArray(p)?p:[p];for(let h=0;h<f.length;h++){const y=VR(t,f[h]);if(y){const{transitionEnd:m,transition:b,...v}=y;for(const g in v){let x=v[g];if(Array.isArray(x)){const T=d?x.length-1:0;x=x[T]}x!==null&&(s[g]=x)}for(const g in m)s[g]=m[g]}}}return s}function HR(t,e,n){var i;const{style:r}=t,s={};for(const a in r)(es(r[a])||e.style&&es(e.style[a])||_W(a,t)||((i=n==null?void 0:n.getValue(a))==null?void 0:i.liveStyle)!==void 0)&&(s[a]=r[a]);return s}const $ve={useVisualState:BW({scrapeMotionValuesFromProps:HR,createRenderState:UR})};function UW(t,e,n){const r=HR(t,e,n);for(const s in t)if(es(t[s])||es(e[s])){const i=sy.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const Fve={useVisualState:BW({scrapeMotionValuesFromProps:UW,createRenderState:$W})};function Bve(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const a={...zR(r)?Fve:$ve,preloadedFeatures:t,useRender:Dve(s),createVisualElement:e,Component:r};return hve(a)}}function O0(t,e,n){const r=t.getProps();return VR(r,e,n!==void 0?n:r.custom,t)}const WN=t=>Array.isArray(t);let cw;function Uve(){cw=void 0}const Ti={now:()=>(cw===void 0&&Ti.set(Zr.isProcessing||Uc.useManualTiming?Zr.timestamp:performance.now()),cw),set:t=>{cw=t,queueMicrotask(Uve)}};function WR(t,e){t.indexOf(e)===-1&&t.push(e)}function GR(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class KR{constructor(){this.subscriptions=[]}add(e){return WR(this.subscriptions,e),()=>GR(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function YR(t,e){return e?t*(1e3/e):0}const $D=30,zve=t=>!isNaN(parseFloat(t));class Vve{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{var a,o;const i=Ti.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();s&&((o=this.events.renderRequest)==null||o.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ti.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=zve(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new KR);const r=this.events[e].add(n);return e==="change"?()=>{r(),Tn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ti.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>$D)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,$D);return YR(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function yo(t,e){return new Vve(t,e)}function Hve(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,yo(n))}function Wve(t){return WN(t)?t[t.length-1]||0:t}function Gve(t,e){const n=O0(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const a in i){const o=Wve(i[a]);Hve(t,a,o)}}function Kve(t){return!!(es(t)&&t.add)}function GN(t,e){const n=t.getValue("willChange");if(Kve(n))return n.add(e);if(!n&&Uc.WillChange){const r=new Uc.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function zW(t){return t.props[RW]}const Yve=t=>t!==null;function qve(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(Yve),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const Zve={type:"spring",stiffness:500,damping:25,restSpeed:10},Xve=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Jve={type:"keyframes",duration:.8},Qve={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ebe=(t,{keyframes:e})=>e.length>2?Jve:iy.has(t)?t.startsWith("scale")?Xve(e[1]):Zve:Qve;function tbe({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:o,from:l,elapsed:u,...d}){return!!Object.keys(d).length}function qR(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const wl=t=>t*1e3,Tl=t=>t/1e3,Pg=t=>Math.round(t*1e5)/1e5,ZR=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function nbe(t){return t==null}const rbe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,XR=(t,e)=>n=>!!(typeof n=="string"&&rbe.test(n)&&n.startsWith(t)||e&&!nbe(n)&&Object.prototype.hasOwnProperty.call(n,e)),VW=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,a,o]=r.match(ZR);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},sbe=t=>Ml(0,255,t),PI={...ay,transform:t=>Math.round(sbe(t))},fp={test:XR("rgb","red"),parse:VW("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+PI.transform(t)+", "+PI.transform(e)+", "+PI.transform(n)+", "+Pg(D0.transform(r))+")"};function ibe(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const KN={test:XR("#"),parse:ibe,transform:fp.transform},yh={test:XR("hsl","hue"),parse:VW("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+xl.transform(Pg(e))+", "+xl.transform(Pg(n))+", "+Pg(D0.transform(r))+")"},ks={test:t=>fp.test(t)||KN.test(t)||yh.test(t),parse:t=>fp.test(t)?fp.parse(t):yh.test(t)?yh.parse(t):KN.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?fp.transform(t):yh.transform(t)},abe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function obe(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(ZR))==null?void 0:e.length)||0)+(((n=t.match(abe))==null?void 0:n.length)||0)>0}const HW="number",WW="color",lbe="var",cbe="var(",FD="${}",ube=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function L0(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const o=e.replace(ube,l=>(ks.test(l)?(r.color.push(i),s.push(WW),n.push(ks.parse(l))):l.startsWith(cbe)?(r.var.push(i),s.push(lbe),n.push(l)):(r.number.push(i),s.push(HW),n.push(parseFloat(l))),++i,FD)).split(FD);return{values:n,split:o,indexes:r,types:s}}function GW(t){return L0(t).values}function KW(t){const{split:e,types:n}=L0(t),r=e.length;return s=>{let i="";for(let a=0;a<r;a++)if(i+=e[a],s[a]!==void 0){const o=n[a];o===HW?i+=Pg(s[a]):o===WW?i+=ks.transform(s[a]):i+=s[a]}return i}}const dbe=t=>typeof t=="number"?0:t;function pbe(t){const e=GW(t);return KW(t)(e.map(dbe))}const Ad={test:obe,parse:GW,createTransformer:KW,getAnimatableNone:pbe};function MI(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function fbe({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,a=0;if(!e)s=i=a=n;else{const o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;s=MI(l,o,t+1/3),i=MI(l,o,t),a=MI(l,o,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}function M1(t,e){return n=>n>0?e:t}const tr=(t,e,n)=>t+(e-t)*n,jI=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},hbe=[KN,fp,yh],mbe=t=>hbe.find(e=>e.test(t));function BD(t){const e=mbe(t);if(!e)return!1;let n=e.parse(t);return e===yh&&(n=fbe(n)),n}const UD=(t,e)=>{const n=BD(t),r=BD(e);if(!n||!r)return M1(t,e);const s={...n};return i=>(s.red=jI(n.red,r.red,i),s.green=jI(n.green,r.green,i),s.blue=jI(n.blue,r.blue,i),s.alpha=tr(n.alpha,r.alpha,i),fp.transform(s))},YN=new Set(["none","hidden"]);function ybe(t,e){return YN.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}const gbe=(t,e)=>n=>e(t(n)),Jv=(...t)=>t.reduce(gbe);function vbe(t,e){return n=>tr(t,e,n)}function JR(t){return typeof t=="number"?vbe:typeof t=="string"?$R(t)?M1:ks.test(t)?UD:wbe:Array.isArray(t)?YW:typeof t=="object"?ks.test(t)?UD:bbe:M1}function YW(t,e){const n=[...t],r=n.length,s=t.map((i,a)=>JR(i)(i,e[a]));return i=>{for(let a=0;a<r;a++)n[a]=s[a](i);return n}}function bbe(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=JR(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function xbe(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],a=t.indexes[i][r[i]],o=t.values[a]??0;n[s]=o,r[i]++}return n}const wbe=(t,e)=>{const n=Ad.createTransformer(e),r=L0(t),s=L0(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?YN.has(t)&&!s.values.length||YN.has(e)&&!r.values.length?ybe(t,e):Jv(YW(xbe(r,s),s.values),n):M1(t,e)};function qW(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?tr(t,e,n):JR(t)(t,e)}const Tbe=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Tn.update(e,n),stop:()=>Po(e),now:()=>Zr.isProcessing?Zr.timestamp:Ti.now()}},ZW=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=t(i/(s-1))+", ";return`linear(${r.substring(0,r.length-2)})`},j1=2e4;function QR(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<j1;)e+=n,r=t.next(e);return e>=j1?1/0:e}function Abe(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(QR(r),j1);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:Tl(s)}}const Ibe=5;function XW(t,e,n){const r=Math.max(e-Ibe,0);return YR(n-t(r),e-r)}const pr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},_I=.001;function kbe({duration:t=pr.duration,bounce:e=pr.bounce,velocity:n=pr.velocity,mass:r=pr.mass}){let s,i,a=1-e;a=Ml(pr.minDamping,pr.maxDamping,a),t=Ml(pr.minDuration,pr.maxDuration,Tl(t)),a<1?(s=u=>{const d=u*a,p=d*t,f=d-n,h=qN(u,a),y=Math.exp(-p);return _I-f/h*y},i=u=>{const p=u*a*t,f=p*n+n,h=Math.pow(a,2)*Math.pow(u,2)*t,y=Math.exp(-p),m=qN(Math.pow(u,2),a);return(-s(u)+_I>0?-1:1)*((f-h)*y)/m}):(s=u=>{const d=Math.exp(-u*t),p=(u-n)*t+1;return-_I+d*p},i=u=>{const d=Math.exp(-u*t),p=(n-u)*(t*t);return d*p});const o=5/t,l=Nbe(s,i,o);if(t=wl(t),isNaN(l))return{stiffness:pr.stiffness,damping:pr.damping,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:t}}}const Cbe=12;function Nbe(t,e,n){let r=n;for(let s=1;s<Cbe;s++)r=r-t(r)/e(r);return r}function qN(t,e){return t*Math.sqrt(1-e*e)}const Ebe=["duration","bounce"],Sbe=["stiffness","damping","mass"];function zD(t,e){return e.some(n=>t[n]!==void 0)}function Rbe(t){let e={velocity:pr.velocity,stiffness:pr.stiffness,damping:pr.damping,mass:pr.mass,isResolvedFromDuration:!1,...t};if(!zD(t,Sbe)&&zD(t,Ebe))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Ml(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:pr.mass,stiffness:s,damping:i}}else{const n=kbe(t);e={...e,...n,mass:pr.mass},e.isResolvedFromDuration=!0}return e}function _1(t=pr.visualDuration,e=pr.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:i},{stiffness:l,damping:u,mass:d,duration:p,velocity:f,isResolvedFromDuration:h}=Rbe({...n,velocity:-Tl(n.velocity||0)}),y=f||0,m=u/(2*Math.sqrt(l*d)),b=a-i,v=Tl(Math.sqrt(l/d)),g=Math.abs(b)<5;r||(r=g?pr.restSpeed.granular:pr.restSpeed.default),s||(s=g?pr.restDelta.granular:pr.restDelta.default);let x;if(m<1){const I=qN(v,m);x=C=>{const N=Math.exp(-m*v*C);return a-N*((y+m*v*b)/I*Math.sin(I*C)+b*Math.cos(I*C))}}else if(m===1)x=I=>a-Math.exp(-v*I)*(b+(y+v*b)*I);else{const I=v*Math.sqrt(m*m-1);x=C=>{const N=Math.exp(-m*v*C),P=Math.min(I*C,300);return a-N*((y+m*v*b)*Math.sinh(P)+I*b*Math.cosh(P))/I}}const T={calculatedDuration:h&&p||null,next:I=>{const C=x(I);if(h)o.done=I>=p;else{let N=I===0?y:0;m<1&&(N=I===0?wl(y):XW(x,I,C));const P=Math.abs(N)<=r,L=Math.abs(a-C)<=s;o.done=P&&L}return o.value=o.done?a:C,o},toString:()=>{const I=Math.min(QR(T),j1),C=ZW(N=>T.next(I*N).value,I,30);return I+"ms "+C},toTransition:()=>{}};return T}_1.applyToOptions=t=>{const e=Abe(t,100,_1);return t.ease=e.ease,t.duration=wl(e.duration),t.type="keyframes",t};function ZN({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:o,max:l,restDelta:u=.5,restSpeed:d}){const p=t[0],f={done:!1,value:p},h=P=>o!==void 0&&P<o||l!==void 0&&P>l,y=P=>o===void 0?l:l===void 0||Math.abs(o-P)<Math.abs(l-P)?o:l;let m=n*e;const b=p+m,v=a===void 0?b:a(b);v!==b&&(m=v-p);const g=P=>-m*Math.exp(-P/r),x=P=>v+g(P),T=P=>{const L=g(P),U=x(P);f.done=Math.abs(L)<=u,f.value=f.done?v:U};let I,C;const N=P=>{h(f.value)&&(I=P,C=_1({keyframes:[f.value,y(f.value)],velocity:XW(x,P,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return N(0),{calculatedDuration:null,next:P=>{let L=!1;return!C&&I===void 0&&(L=!0,T(P),N(P)),I!==void 0&&P>=I?C.next(P-I):(!L&&T(P),f)}}}const Im=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};function Pbe(t,e,n){const r=[],s=n||Uc.mix||qW,i=t.length-1;for(let a=0;a<i;a++){let o=s(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||Ei:e;o=Jv(l,o)}r.push(o)}return r}function JW(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(P1(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=Pbe(e,r,s),l=o.length,u=d=>{if(a&&d<t[0])return e[0];let p=0;if(l>1)for(;p<t.length-2&&!(d<t[p+1]);p++);const f=Im(t[p],t[p+1],d);return o[p](f)};return n?d=>u(Ml(t[0],t[i-1],d)):u}function Mbe(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Im(0,e,r);t.push(tr(n,1,s))}}function QW(t){const e=[0];return Mbe(e,t.length-1),e}function jbe(t,e){return t.map(n=>n*e)}const eG=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,_be=1e-7,Dbe=12;function Obe(t,e,n,r,s){let i,a,o=0;do a=e+(n-e)/2,i=eG(a,r,s)-t,i>0?n=a:e=a;while(Math.abs(i)>_be&&++o<Dbe);return a}function Qv(t,e,n,r){if(t===e&&n===r)return Ei;const s=i=>Obe(i,0,1,t,n);return i=>i===0||i===1?i:eG(s(i),e,r)}const Lbe=Qv(.42,0,1,1),$be=Qv(0,0,.58,1),tG=Qv(.42,0,.58,1),Fbe=t=>Array.isArray(t)&&typeof t[0]!="number",nG=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,rG=t=>e=>1-t(1-e),sG=Qv(.33,1.53,.69,.99),eP=rG(sG),iG=nG(eP),aG=t=>(t*=2)<1?.5*eP(t):.5*(2-Math.pow(2,-10*(t-1))),tP=t=>1-Math.sin(Math.acos(t)),oG=rG(tP),lG=nG(tP),cG=t=>Array.isArray(t)&&typeof t[0]=="number",VD={linear:Ei,easeIn:Lbe,easeInOut:tG,easeOut:$be,circIn:tP,circInOut:lG,circOut:oG,backIn:eP,backInOut:iG,backOut:sG,anticipate:aG},Bbe=t=>typeof t=="string",HD=t=>{if(cG(t)){P1(t.length===4);const[e,n,r,s]=t;return Qv(e,n,r,s)}else if(Bbe(t))return P1(VD[t]!==void 0),VD[t];return t};function Ube(t,e){return t.map(()=>e||tG).splice(0,t.length-1)}function Mg({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=Fbe(r)?r.map(HD):HD(r),i={done:!1,value:e[0]},a=jbe(n&&n.length===e.length?n:QW(e),t),o=JW(a,e,{ease:Array.isArray(s)?s:Ube(e,s)});return{calculatedDuration:t,next:l=>(i.value=o(l),i.done=l>=t,i)}}const zbe=t=>t!==null;function nP(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(zbe),o=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const Vbe={decay:ZN,inertia:ZN,tween:Mg,keyframes:Mg,spring:_1};function uG(t){typeof t.type=="string"&&(t.type=Vbe[t.type])}class rP{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const Hbe=t=>t/100;class sP extends rP{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(n=!0)=>{var r,s;if(n){const{motionValue:i}=this.options;i&&i.updatedAt!==Ti.now()&&this.tick(Ti.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;uG(e);const{type:n=Mg,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=e;let{keyframes:o}=e;const l=n||Mg;l!==Mg&&typeof o[0]!="number"&&(this.mixKeyframes=Jv(Hbe,qW(o[0],o[1])),o=[0,100]);const u=l({...e,keyframes:o});i==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...o].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=QR(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:d,repeat:p,repeatType:f,repeatDelay:h,type:y,onUpdate:m,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const v=this.currentTime-u*(this.playbackSpeed>=0?1:-1),g=this.playbackSpeed>=0?v<0:v>s;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let x=this.currentTime,T=r;if(p){const P=Math.min(this.currentTime,s)/o;let L=Math.floor(P),U=P%1;!U&&P>=1&&(U=1),U===1&&L--,L=Math.min(L,p+1),!!(L%2)&&(f==="reverse"?(U=1-U,h&&(U-=h/o)):f==="mirror"&&(T=a)),x=Ml(0,1,U)*o}const I=g?{done:!1,value:d[0]}:T.next(x);i&&(I.value=i(I.value));let{done:C}=I;!g&&l!==null&&(C=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return N&&y!==ZN&&(I.value=nP(d,this.options,b,this.speed)),m&&m(I.value),N&&this.finish(),I}then(e,n){return this.finished.then(e,n)}get duration(){return Tl(this.calculatedDuration)}get time(){return Tl(this.currentTime)}set time(e){var n;e=wl(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ti.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Tl(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:e=Tbe,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ti.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function Wbe(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const hp=t=>t*180/Math.PI,XN=t=>{const e=hp(Math.atan2(t[1],t[0]));return JN(e)},Gbe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:XN,rotateZ:XN,skewX:t=>hp(Math.atan(t[1])),skewY:t=>hp(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},JN=t=>(t=t%360,t<0&&(t+=360),t),WD=XN,GD=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),KD=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Kbe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:GD,scaleY:KD,scale:t=>(GD(t)+KD(t))/2,rotateX:t=>JN(hp(Math.atan2(t[6],t[5]))),rotateY:t=>JN(hp(Math.atan2(-t[2],t[0]))),rotateZ:WD,rotate:WD,skewX:t=>hp(Math.atan(t[4])),skewY:t=>hp(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function QN(t){return t.includes("scale")?1:0}function e6(t,e){if(!t||t==="none")return QN(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=Kbe,s=n;else{const o=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Gbe,s=o}if(!s)return QN(e);const i=r[e],a=s[1].split(",").map(qbe);return typeof i=="function"?i(a):a[i]}const Ybe=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return e6(n,e)};function qbe(t){return parseFloat(t.trim())}const YD=t=>t===ay||t===It,Zbe=new Set(["x","y","z"]),Xbe=sy.filter(t=>!Zbe.has(t));function Jbe(t){const e=[];return Xbe.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Lp={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>e6(e,"x"),y:(t,{transform:e})=>e6(e,"y")};Lp.translateX=Lp.x;Lp.translateY=Lp.y;const $p=new Set;let t6=!1,n6=!1,r6=!1;function dG(){if(n6){const t=Array.from($p).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=Jbe(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,a])=>{var o;(o=r.getValue(i))==null||o.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}n6=!1,t6=!1,$p.forEach(t=>t.complete(r6)),$p.clear()}function pG(){$p.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(n6=!0)})}function Qbe(){r6=!0,pG(),dG(),r6=!1}class iP{constructor(e,n,r,s,i,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?($p.add(this),t6||(t6=!0,Tn.read(pG),Tn.resolveKeyframes(dG))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),a=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const o=r.readValue(n,a);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=a),s&&i===void 0&&s.set(e[0])}Wbe(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),$p.delete(this)}cancel(){this.state==="scheduled"&&($p.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const exe=t=>t.startsWith("--");function txe(t,e,n){exe(e)?t.style.setProperty(e,n):t.style[e]=n}function aP(t){let e;return()=>(e===void 0&&(e=t()),e)}const fG=aP(()=>window.ScrollTimeline!==void 0),nxe={};function rxe(t,e){const n=aP(t);return()=>nxe[e]??n()}const hG=rxe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ig=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,qD={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ig([0,.65,.55,1]),circOut:ig([.55,0,1,.45]),backIn:ig([.31,.01,.66,-.59]),backOut:ig([.33,1.53,.69,.99])};function mG(t,e){if(t)return typeof t=="function"?hG()?ZW(t,e):"ease-out":cG(t)?ig(t):Array.isArray(t)?t.map(n=>mG(n,e)||qD.easeOut):qD[t]}function sxe(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:o="easeOut",times:l}={},u=void 0){const d={[e]:n};l&&(d.offset=l);const p=mG(o,s);Array.isArray(p)&&(d.easing=p);const f={delay:r,duration:s,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),t.animate(d,f)}function yG(t){return typeof t=="function"&&"applyToOptions"in t}function ixe({type:t,...e}){return yG(t)&&hG()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class axe extends rP{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:o,onComplete:l}=e;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=e,P1(typeof e.type!="string");const u=ixe(e);this.animation=sxe(n,r,s,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=nP(s,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(d):txe(n,r,d),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Tl(Number(e))}get time(){return Tl(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=wl(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&fG()?(this.animation.timeline=e,Ei):n(this)}}const gG={anticipate:aG,backInOut:iG,circInOut:lG};function oxe(t){return t in gG}function lxe(t){typeof t.ease=="string"&&oxe(t.ease)&&(t.ease=gG[t.ease])}const ZD=10;class cxe extends axe{constructor(e){lxe(e),uG(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const o=new sP({...a,autoplay:!1}),l=wl(this.finishedTime??this.time);n.setWithVelocity(o.sample(l-ZD).value,o.sample(l).value,ZD),o.stop()}}const XD=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ad.test(t)||t==="0")&&!t.startsWith("url("));function uxe(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function dxe(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],a=XD(s,e),o=XD(i,e);return!a||!o?!1:uxe(t)||(n==="spring"||yG(n))&&r}const pxe=new Set(["opacity","clipPath","filter","transform"]),fxe=aP(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function hxe(t){var u;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:a}=t;if(!f2((u=e==null?void 0:e.owner)==null?void 0:u.current))return!1;const{onUpdate:o,transformTemplate:l}=e.owner.getProps();return fxe()&&n&&pxe.has(n)&&(n!=="transform"||!l)&&!o&&!r&&s!=="mirror"&&i!==0&&a!=="inertia"}const mxe=40;class yxe extends rP{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",keyframes:o,name:l,motionValue:u,element:d,...p}){var y;super(),this.stop=()=>{var m,b;this._animation&&(this._animation.stop(),(m=this.stopTimeline)==null||m.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=Ti.now();const f={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:a,name:l,motionValue:u,element:d,...p},h=(d==null?void 0:d.KeyframeResolver)||iP;this.keyframeResolver=new h(o,(m,b,v)=>this.onKeyframesResolved(m,b,f,!v),l,u,d),(y=this.keyframeResolver)==null||y.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:a,velocity:o,delay:l,isHandoff:u,onUpdate:d}=r;this.resolvedAt=Ti.now(),dxe(e,i,a,o)||((Uc.instantAnimations||!l)&&(d==null||d(nP(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const f={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>mxe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},h=!u&&hxe(f)?new cxe({...f,element:f.motionValue.owner.current}):new sP(f);h.finished.then(()=>this.notifyFinished()).catch(Ei),this.pendingTimeline&&(this.stopTimeline=h.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=h}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Qbe()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const oP=(t,e,n,r={},s,i)=>a=>{const o=qR(r,t)||{},l=o.delay||r.delay||0;let{elapsed:u=0}=r;u=u-wl(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-u,onUpdate:f=>{e.set(f),o.onUpdate&&o.onUpdate(f)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:i?void 0:s};tbe(o)||Object.assign(d,ebe(t,d)),d.duration&&(d.duration=wl(d.duration)),d.repeatDelay&&(d.repeatDelay=wl(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let p=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(p=!0)),(Uc.instantAnimations||Uc.skipAnimations)&&(p=!0,d.duration=0,d.delay=0),d.allowFlatten=!o.type&&!o.ease,p&&!i&&e.get()!==void 0){const f=qve(d.keyframes,o);if(f!==void 0){Tn.update(()=>{d.onUpdate(f),d.onComplete()});return}}return o.isSync?new sP(d):new yxe(d)},vG=new Set(["width","height","top","left","right","bottom",...sy]);function gxe({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function bG(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:a,...o}=e;r&&(i=r);const l=[],u=s&&t.animationState&&t.animationState.getState()[s];for(const d in o){const p=t.getValue(d,t.latestValues[d]??null),f=o[d];if(f===void 0||u&&gxe(u,d))continue;const h={delay:n,...qR(i||{},d)},y=p.get();if(y!==void 0&&!p.isAnimating&&!Array.isArray(f)&&f===y&&!h.velocity)continue;let m=!1;if(window.MotionHandoffAnimation){const v=zW(t);if(v){const g=window.MotionHandoffAnimation(v,d,Tn);g!==null&&(h.startTime=g,m=!0)}}GN(t,d),p.start(oP(d,p,f,t.shouldReduceMotion&&vG.has(d)?{type:!1}:h,t,m));const b=p.animation;b&&l.push(b)}return a&&Promise.all(l).then(()=>{Tn.update(()=>{a&&Gve(t,a)})}),l}function s6(t,e,n={}){var l;const r=O0(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(bG(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:p,staggerDirection:f}=s;return vxe(t,e,d+u,p,f,n)}:()=>Promise.resolve(),{when:o}=s;if(o){const[u,d]=o==="beforeChildren"?[i,a]:[a,i];return u().then(()=>d())}else return Promise.all([i(),a(n.delay)])}function vxe(t,e,n=0,r=0,s=1,i){const a=[],o=(t.variantChildren.size-1)*r,l=s===1?(u=0)=>u*r:(u=0)=>o-u*r;return Array.from(t.variantChildren).sort(bxe).forEach((u,d)=>{u.notify("AnimationStart",e),a.push(s6(u,e,{...i,delay:n+l(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(a)}function bxe(t,e){return t.sortNodePosition(e)}function xxe(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>s6(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=s6(t,e,n);else{const s=typeof e=="function"?O0(t,e,n.custom):e;r=Promise.all(bG(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function xG(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const wxe=_R.length;function wG(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?wG(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<wxe;n++){const r=_R[n],s=t.props[r];(j0(s)||s===!1)&&(e[r]=s)}return e}const Txe=[...jR].reverse(),Axe=jR.length;function Ixe(t){return e=>Promise.all(e.map(({animation:n,options:r})=>xxe(t,n,r)))}function kxe(t){let e=Ixe(t),n=JD(),r=!0;const s=l=>(u,d)=>{var f;const p=O0(t,d,l==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(p){const{transition:h,transitionEnd:y,...m}=p;u={...u,...m,...y}}return u};function i(l){e=l(t)}function a(l){const{props:u}=t,d=wG(t.parent)||{},p=[],f=new Set;let h={},y=1/0;for(let b=0;b<Axe;b++){const v=Txe[b],g=n[v],x=u[v]!==void 0?u[v]:d[v],T=j0(x),I=v===l?g.isActive:null;I===!1&&(y=b);let C=x===d[v]&&x!==u[v]&&T;if(C&&r&&t.manuallyAnimateOnMount&&(C=!1),g.protectedKeys={...h},!g.isActive&&I===null||!x&&!g.prevProp||m2(x)||typeof x=="boolean")continue;const N=Cxe(g.prevProp,x);let P=N||v===l&&g.isActive&&!C&&T||b>y&&T,L=!1;const U=Array.isArray(x)?x:[x];let $=U.reduce(s(v),{});I===!1&&($={});const{prevResolvedValues:B={}}=g,_={...B,...$},w=M=>{P=!0,f.has(M)&&(L=!0,f.delete(M)),g.needsAnimating[M]=!0;const R=t.getValue(M);R&&(R.liveStyle=!1)};for(const M in _){const R=$[M],j=B[M];if(h.hasOwnProperty(M))continue;let V=!1;WN(R)&&WN(j)?V=!xG(R,j):V=R!==j,V?R!=null?w(M):f.add(M):R!==void 0&&f.has(M)?w(M):g.protectedKeys[M]=!0}g.prevProp=x,g.prevResolvedValues=$,g.isActive&&(h={...h,...$}),r&&t.blockInitialAnimation&&(P=!1),P&&(!(C&&N)||L)&&p.push(...U.map(M=>({animation:M,options:{type:v}})))}if(f.size){const b={};if(typeof u.initial!="boolean"){const v=O0(t,Array.isArray(u.initial)?u.initial[0]:u.initial);v&&v.transition&&(b.transition=v.transition)}f.forEach(v=>{const g=t.getBaseTarget(v),x=t.getValue(v);x&&(x.liveStyle=!0),b[v]=g??null}),p.push({animation:b})}let m=!!p.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(m=!1),r=!1,m?e(p):Promise.resolve()}function o(l,u){var p;if(n[l].isActive===u)return Promise.resolve();(p=t.variantChildren)==null||p.forEach(f=>{var h;return(h=f.animationState)==null?void 0:h.setActive(l,u)}),n[l].isActive=u;const d=a(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:a,setActive:o,setAnimateFunction:i,getState:()=>n,reset:()=>{n=JD(),r=!0}}}function Cxe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!xG(e,t):!1}function Wd(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function JD(){return{animate:Wd(!0),whileInView:Wd(),whileHover:Wd(),whileTap:Wd(),whileDrag:Wd(),whileFocus:Wd(),exit:Wd()}}class _d{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Nxe extends _d{constructor(e){super(e),e.animationState||(e.animationState=kxe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();m2(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Exe=0;class Sxe extends _d{constructor(){super(...arguments),this.id=Exe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Rxe={animation:{Feature:Nxe},exit:{Feature:Sxe}};function $0(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const lP=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function eb(t){return{point:{x:t.pageX,y:t.pageY}}}const Pxe=t=>e=>lP(e)&&t(e,eb(e));function jg(t,e,n,r){return $0(t,e,Pxe(n),r)}function TG({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Mxe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function jxe(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const AG=1e-4,_xe=1-AG,Dxe=1+AG,IG=.01,Oxe=0-IG,Lxe=0+IG;function Js(t){return t.max-t.min}function $xe(t,e,n){return Math.abs(t-e)<=n}function QD(t,e,n,r=.5){t.origin=r,t.originPoint=tr(e.min,e.max,t.origin),t.scale=Js(n)/Js(e),t.translate=tr(n.min,n.max,t.origin)-t.originPoint,(t.scale>=_xe&&t.scale<=Dxe||isNaN(t.scale))&&(t.scale=1),(t.translate>=Oxe&&t.translate<=Lxe||isNaN(t.translate))&&(t.translate=0)}function _g(t,e,n,r){QD(t.x,e.x,n.x,r?r.originX:void 0),QD(t.y,e.y,n.y,r?r.originY:void 0)}function eO(t,e,n){t.min=n.min+e.min,t.max=t.min+Js(e)}function Fxe(t,e,n){eO(t.x,e.x,n.x),eO(t.y,e.y,n.y)}function tO(t,e,n){t.min=e.min-n.min,t.max=t.min+Js(e)}function Dg(t,e,n){tO(t.x,e.x,n.x),tO(t.y,e.y,n.y)}const nO=()=>({translate:0,scale:1,origin:0,originPoint:0}),gh=()=>({x:nO(),y:nO()}),rO=()=>({min:0,max:0}),br=()=>({x:rO(),y:rO()});function va(t){return[t("x"),t("y")]}function DI(t){return t===void 0||t===1}function i6({scale:t,scaleX:e,scaleY:n}){return!DI(t)||!DI(e)||!DI(n)}function Jd(t){return i6(t)||kG(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function kG(t){return sO(t.x)||sO(t.y)}function sO(t){return t&&t!=="0%"}function D1(t,e,n){const r=t-n,s=e*r;return n+s}function iO(t,e,n,r,s){return s!==void 0&&(t=D1(t,s,r)),D1(t,n,r)+e}function a6(t,e=0,n=1,r,s){t.min=iO(t.min,e,n,r,s),t.max=iO(t.max,e,n,r,s)}function CG(t,{x:e,y:n}){a6(t.x,e.translate,e.scale,e.originPoint),a6(t.y,n.translate,n.scale,n.originPoint)}const aO=.999999999999,oO=1.0000000000001;function Bxe(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,a;for(let o=0;o<s;o++){i=n[o],a=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&bh(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,CG(t,a)),r&&Jd(i.latestValues)&&bh(t,i.latestValues))}e.x<oO&&e.x>aO&&(e.x=1),e.y<oO&&e.y>aO&&(e.y=1)}function vh(t,e){t.min=t.min+e,t.max=t.max+e}function lO(t,e,n,r,s=.5){const i=tr(t.min,t.max,s);a6(t,e,n,i,r)}function bh(t,e){lO(t.x,e.x,e.scaleX,e.scale,e.originX),lO(t.y,e.y,e.scaleY,e.scale,e.originY)}function NG(t,e){return TG(jxe(t.getBoundingClientRect(),e))}function Uxe(t,e,n){const r=NG(t,n),{scroll:s}=e;return s&&(vh(r.x,s.offset.x),vh(r.y,s.offset.y)),r}const EG=({current:t})=>t?t.ownerDocument.defaultView:null,cO=(t,e)=>Math.abs(t-e);function zxe(t,e){const n=cO(t.x,e.x),r=cO(t.y,e.y);return Math.sqrt(n**2+r**2)}class SG{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=LI(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,h=zxe(p.offset,{x:0,y:0})>=3;if(!f&&!h)return;const{point:y}=p,{timestamp:m}=Zr;this.history.push({...y,timestamp:m});const{onStart:b,onMove:v}=this.handlers;f||(b&&b(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,p)},this.handlePointerMove=(p,f)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=OI(f,this.transformPagePoint),Tn.update(this.updatePoint,!0)},this.handlePointerUp=(p,f)=>{this.end();const{onEnd:h,onSessionEnd:y,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=LI(p.type==="pointercancel"?this.lastMoveEventInfo:OI(f,this.transformPagePoint),this.history);this.startEvent&&h&&h(p,b),y&&y(p,b)},!lP(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const a=eb(e),o=OI(a,this.transformPagePoint),{point:l}=o,{timestamp:u}=Zr;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,LI(o,this.history)),this.removeListeners=Jv(jg(this.contextWindow,"pointermove",this.handlePointerMove),jg(this.contextWindow,"pointerup",this.handlePointerUp),jg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Po(this.updatePoint)}}function OI(t,e){return e?{point:e(t.point)}:t}function uO(t,e){return{x:t.x-e.x,y:t.y-e.y}}function LI({point:t},e){return{point:t,delta:uO(t,RG(e)),offset:uO(t,Vxe(e)),velocity:Hxe(e,.1)}}function Vxe(t){return t[0]}function RG(t){return t[t.length-1]}function Hxe(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=RG(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>wl(e)));)n--;if(!r)return{x:0,y:0};const i=Tl(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Wxe(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?tr(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?tr(n,t,r.max):Math.min(t,n)),t}function dO(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Gxe(t,{top:e,left:n,bottom:r,right:s}){return{x:dO(t.x,n,s),y:dO(t.y,e,r)}}function pO(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Kxe(t,e){return{x:pO(t.x,e.x),y:pO(t.y,e.y)}}function Yxe(t,e){let n=.5;const r=Js(t),s=Js(e);return s>r?n=Im(e.min,e.max-r,t.min):r>s&&(n=Im(t.min,t.max-s,e.min)),Ml(0,1,n)}function qxe(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const o6=.35;function Zxe(t=o6){return t===!1?t=0:t===!0&&(t=o6),{x:fO(t,"left","right"),y:fO(t,"top","bottom")}}function fO(t,e,n){return{min:hO(t,e),max:hO(t,n)}}function hO(t,e){return typeof t=="number"?t:t[e]||0}const Qa={x:!1,y:!1};function PG(){return Qa.x||Qa.y}function Xxe(t){return t==="x"||t==="y"?Qa[t]?null:(Qa[t]=!0,()=>{Qa[t]=!1}):Qa.x||Qa.y?null:(Qa.x=Qa.y=!0,()=>{Qa.x=Qa.y=!1})}const Jxe=new WeakMap;class Qxe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=br(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(eb(d).point)},i=(d,p)=>{const{drag:f,dragPropagation:h,onDragStart:y}=this.getProps();if(f&&!h&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Xxe(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),va(b=>{let v=this.getAxisMotionValue(b).get()||0;if(xl.test(v)){const{projection:g}=this.visualElement;if(g&&g.layout){const x=g.layout.layoutBox[b];x&&(v=Js(x)*(parseFloat(v)/100))}}this.originPoint[b]=v}),y&&Tn.postRender(()=>y(d,p)),GN(this.visualElement,"transform");const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},a=(d,p)=>{const{dragPropagation:f,dragDirectionLock:h,onDirectionLock:y,onDrag:m}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:b}=p;if(h&&this.currentDirection===null){this.currentDirection=ewe(b),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",p.point,b),this.updateAxis("y",p.point,b),this.visualElement.render(),m&&m(d,p)},o=(d,p)=>this.stop(d,p),l=()=>va(d=>{var p;return this.getAnimationState(d)==="paused"&&((p=this.getAxisMotionValue(d).animation)==null?void 0:p.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new SG(e,{onSessionStart:s,onStart:i,onMove:a,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:EG(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&Tn.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!ex(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=Wxe(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&mh(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=Gxe(r.layoutBox,e):this.constraints=!1,this.elastic=Zxe(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&va(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=qxe(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!mh(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=Uxe(r,s.root,this.visualElement.getTransformPagePoint());let a=Kxe(s.layout.layoutBox,i);if(n){const o=n(Mxe(a));this.hasMutatedConstraints=!!o,o&&(a=TG(o))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},u=va(d=>{if(!ex(d,n,this.currentDirection))return;let p=l&&l[d]||{};a&&(p={min:0,max:0});const f=s?200:1e6,h=s?40:1e7,y={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...i,...p};return this.startAxisValueAnimation(d,y)});return Promise.all(u).then(o)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return GN(this.visualElement,e),r.start(oP(e,r,0,n,this.visualElement,!1))}stopAnimation(){va(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){va(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){va(n=>{const{drag:r}=this.getProps();if(!ex(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:o}=s.layout.layoutBox[n];i.set(e[n]-tr(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!mh(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};va(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();s[a]=Yxe({min:l,max:l},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),va(a=>{if(!ex(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:u}=this.constraints[a];o.set(tr(l,u,s[a]))})}addListeners(){if(!this.visualElement.current)return;Jxe.set(this.visualElement,this);const e=this.visualElement.current,n=jg(e,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();mh(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Tn.read(r);const a=$0(window,"resize",()=>this.scalePositionWithinConstraints()),o=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(va(d=>{const p=this.getAxisMotionValue(d);p&&(this.originPoint[d]+=l[d].translate,p.set(p.get()+l[d].translate))}),this.visualElement.render())});return()=>{a(),n(),i(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=o6,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:o}}}function ex(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function ewe(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class twe extends _d{constructor(e){super(e),this.removeGroupControls=Ei,this.removeListeners=Ei,this.controls=new Qxe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ei}unmount(){this.removeGroupControls(),this.removeListeners()}}const mO=t=>(e,n)=>{t&&Tn.postRender(()=>t(e,n))};class nwe extends _d{constructor(){super(...arguments),this.removePointerDownListener=Ei}onPointerDown(e){this.session=new SG(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:EG(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:mO(e),onStart:mO(n),onMove:r,onEnd:(i,a)=>{delete this.session,s&&Tn.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=jg(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const uw={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function yO(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const $y={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(It.test(t))t=parseFloat(t);else return t;const n=yO(t,e.target.x),r=yO(t,e.target.y);return`${n}% ${r}%`}},rwe={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Ad.parse(t);if(s.length>5)return r;const i=Ad.createTransformer(t),a=typeof s[0]!="number"?1:0,o=n.x.scale*e.x,l=n.y.scale*e.y;s[0+a]/=o,s[1+a]/=l;const u=tr(o,l,.5);return typeof s[2+a]=="number"&&(s[2+a]/=u),typeof s[3+a]=="number"&&(s[3+a]/=u),i(s)}};class swe extends A.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;xve(iwe),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),uw.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:a}=r;return a&&(a.isPresent=i,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||Tn.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),OR.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function MG(t){const[e,n]=kW(),r=A.useContext(PR);return c.jsx(swe,{...t,layoutGroup:r,switchLayoutGroup:A.useContext(PW),isPresent:e,safeToRemove:n})}const iwe={borderRadius:{...$y,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:$y,borderTopRightRadius:$y,borderBottomLeftRadius:$y,borderBottomRightRadius:$y,boxShadow:rwe};function awe(t,e,n){const r=es(t)?t:yo(t);return r.start(oP("",r,e,n)),r.animation}const owe=(t,e)=>t.depth-e.depth;class lwe{constructor(){this.children=[],this.isDirty=!1}add(e){WR(this.children,e),this.isDirty=!0}remove(e){GR(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(owe),this.isDirty=!1,this.children.forEach(e)}}function cwe(t,e){const n=Ti.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(Po(r),t(i-e))};return Tn.setup(r,!0),()=>Po(r)}const jG=["TopLeft","TopRight","BottomLeft","BottomRight"],uwe=jG.length,gO=t=>typeof t=="string"?parseFloat(t):t,vO=t=>typeof t=="number"||It.test(t);function dwe(t,e,n,r,s,i){s?(t.opacity=tr(0,n.opacity??1,pwe(r)),t.opacityExit=tr(e.opacity??1,0,fwe(r))):i&&(t.opacity=tr(e.opacity??1,n.opacity??1,r));for(let a=0;a<uwe;a++){const o=`border${jG[a]}Radius`;let l=bO(e,o),u=bO(n,o);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||vO(l)===vO(u)?(t[o]=Math.max(tr(gO(l),gO(u),r),0),(xl.test(u)||xl.test(l))&&(t[o]+="%")):t[o]=u}(e.rotate||n.rotate)&&(t.rotate=tr(e.rotate||0,n.rotate||0,r))}function bO(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const pwe=_G(0,.5,oG),fwe=_G(.5,.95,Ei);function _G(t,e,n){return r=>r<t?0:r>e?1:n(Im(t,e,r))}function xO(t,e){t.min=e.min,t.max=e.max}function pa(t,e){xO(t.x,e.x),xO(t.y,e.y)}function wO(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function TO(t,e,n,r,s){return t-=e,t=D1(t,1/n,r),s!==void 0&&(t=D1(t,1/s,r)),t}function hwe(t,e=0,n=1,r=.5,s,i=t,a=t){if(xl.test(e)&&(e=parseFloat(e),e=tr(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=tr(i.min,i.max,r);t===i&&(o-=e),t.min=TO(t.min,e,n,o,s),t.max=TO(t.max,e,n,o,s)}function AO(t,e,[n,r,s],i,a){hwe(t,e[n],e[r],e[s],e.scale,i,a)}const mwe=["x","scaleX","originX"],ywe=["y","scaleY","originY"];function IO(t,e,n,r){AO(t.x,e,mwe,n?n.x:void 0,r?r.x:void 0),AO(t.y,e,ywe,n?n.y:void 0,r?r.y:void 0)}function kO(t){return t.translate===0&&t.scale===1}function DG(t){return kO(t.x)&&kO(t.y)}function CO(t,e){return t.min===e.min&&t.max===e.max}function gwe(t,e){return CO(t.x,e.x)&&CO(t.y,e.y)}function NO(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function OG(t,e){return NO(t.x,e.x)&&NO(t.y,e.y)}function EO(t){return Js(t.x)/Js(t.y)}function SO(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class vwe{constructor(){this.members=[]}add(e){WR(this.members,e),e.scheduleRender()}remove(e){if(GR(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function bwe(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((s||i||a)&&(r=`translate3d(${s}px, ${i}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:p,rotateY:f,skewX:h,skewY:y}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),p&&(r+=`rotateX(${p}deg) `),f&&(r+=`rotateY(${f}deg) `),h&&(r+=`skewX(${h}deg) `),y&&(r+=`skewY(${y}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}function cP(t){return IW(t)&&"ownerSVGElement"in t}function xwe(t){return cP(t)&&t.tagName==="svg"}const $I=["","X","Y","Z"],wwe={visibility:"hidden"},Twe=1e3;let Awe=0;function FI(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function LG(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=zW(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Tn,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&LG(r)}function $G({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},o=e==null?void 0:e()){this.id=Awe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Cwe),this.nodes.forEach(Pwe),this.nodes.forEach(Mwe),this.nodes.forEach(Nwe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new lwe)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new KR),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=cP(a)&&!xwe(a),this.instance=a;const{layoutId:o,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),t){let d;const p=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=cwe(p,250),uw.hasAnimatedSinceResize&&(uw.hasAnimatedSinceResize=!1,this.nodes.forEach(PO))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&u&&(o||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeLayoutChanged:f,layout:h})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||Lwe,{onLayoutAnimationStart:m,onLayoutAnimationComplete:b}=u.getProps(),v=!this.targetLayout||!OG(this.targetLayout,h),g=!p&&f;if(this.options.layoutRoot||this.resumeFrom||g||p&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,g);const x={...qR(y,"layout"),onPlay:m,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x)}else p||PO(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=h})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Po(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(jwe),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&LG(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const p=this.path[d];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(RO);return}this.isUpdating||this.nodes.forEach(Swe),this.isUpdating=!1,this.nodes.forEach(Rwe),this.nodes.forEach(Iwe),this.nodes.forEach(kwe),this.clearAllSnapshots();const o=Ti.now();Zr.delta=Ml(0,1e3/60,o-Zr.timestamp),Zr.timestamp=o,Zr.isProcessing=!0,RI.update.process(Zr),RI.preRender.process(Zr),RI.render.process(Zr),Zr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,OR.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Ewe),this.sharedNodes.forEach(_we)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Tn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Tn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Js(this.snapshot.measuredBox.x)&&!Js(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=br(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!DG(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&this.instance&&(o||Jd(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),$we(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:a}=this.options;if(!a)return br();const o=a.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(Fwe))){const{scroll:d}=this.root;d&&(vh(o.x,d.offset.x),vh(o.y,d.offset.y))}return o}removeElementScroll(a){var l;const o=br();if(pa(o,a),(l=this.scroll)!=null&&l.wasRoot)return o;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:p,options:f}=d;d!==this.root&&p&&f.layoutScroll&&(p.wasRoot&&pa(o,a),vh(o.x,p.offset.x),vh(o.y,p.offset.y))}return o}applyTransform(a,o=!1){const l=br();pa(l,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&bh(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Jd(d.latestValues)&&bh(l,d.latestValues)}return Jd(this.latestValues)&&bh(l,this.latestValues),l}removeTransform(a){const o=br();pa(o,a);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Jd(u.latestValues))continue;i6(u.latestValues)&&u.updateSnapshot();const d=br(),p=u.measurePageBox();pa(d,p),IO(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Jd(this.latestValues)&&IO(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Zr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var f;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(a||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:p}=this.options;if(!(!this.layout||!(d||p))){if(this.resolvedRelativeTargetAt=Zr.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=br(),this.relativeTargetOrigin=br(),Dg(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),pa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=br(),this.targetWithTransforms=br()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Fxe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):pa(this.target,this.layout.layoutBox),CG(this.target,this.targetDelta)):pa(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=br(),this.relativeTargetOrigin=br(),Dg(this.relativeTargetOrigin,this.target,h.target),pa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||i6(this.parent.latestValues)||kG(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var y;const a=this.getLead(),o=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Zr.timestamp&&(l=!1),l)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;pa(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,f=this.treeScale.y;Bxe(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=br());const{target:h}=a;if(!h){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(wO(this.prevProjectionDelta.x,this.projectionDelta.x),wO(this.prevProjectionDelta.y,this.projectionDelta.y)),_g(this.projectionDelta,this.layoutCorrected,h,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==f||!SO(this.projectionDelta.x,this.prevProjectionDelta.x)||!SO(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",h))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=gh(),this.projectionDelta=gh(),this.projectionDeltaWithTransform=gh()}setAnimationOrigin(a,o=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},p=gh();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=br(),h=l?l.source:void 0,y=this.layout?this.layout.source:void 0,m=h!==y,b=this.getStack(),v=!b||b.members.length<=1,g=!!(m&&!v&&this.options.crossfade===!0&&!this.path.some(Owe));this.animationProgress=0;let x;this.mixTargetDelta=T=>{const I=T/1e3;MO(p.x,a.x,I),MO(p.y,a.y,I),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Dg(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Dwe(this.relativeTarget,this.relativeTargetOrigin,f,I),x&&gwe(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=br()),pa(x,this.relativeTarget)),m&&(this.animationValues=d,dwe(d,u,this.latestValues,I,g,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var o,l,u;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(!1),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(!1),this.pendingAnimation&&(Po(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Tn.update(()=>{uw.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=yo(0)),this.currentAnimation=awe(this.motionValue,[0,1e3],{...a,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),a.onUpdate&&a.onUpdate(d)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Twe),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:u,latestValues:d}=a;if(!(!o||!l||!u)){if(this!==a&&this.layout&&u&&FG(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||br();const p=Js(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+p;const f=Js(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+f}pa(o,l),bh(o,d),_g(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new vwe),this.sharedNodes.get(a).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const u={};l.z&&FI("z",a,u,this.animationValues);for(let d=0;d<$I.length;d++)FI(`rotate${$I[d]}`,a,u,this.animationValues),FI(`skew${$I[d]}`,a,u,this.animationValues);a.render();for(const d in u)a.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);a.scheduleRender()}getProjectionStyles(a){if(!this.instance||this.isSVG)return;if(!this.isVisible)return wwe;const o={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,o.opacity="",o.pointerEvents=lw(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none",o;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const h={};return this.options.layoutId&&(h.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,h.pointerEvents=lw(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Jd(this.latestValues)&&(h.transform=l?l({},""):"none",this.hasProjected=!1),h}const d=u.animationValues||u.latestValues;this.applyTransformsToTarget(),o.transform=bwe(this.projectionDeltaWithTransform,this.treeScale,d),l&&(o.transform=l(d,o.transform));const{x:p,y:f}=this.projectionDelta;o.transformOrigin=`${p.origin*100}% ${f.origin*100}% 0`,u.animationValues?o.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const h in _0){if(d[h]===void 0)continue;const{correct:y,applyTo:m,isCSSVariable:b}=_0[h],v=o.transform==="none"?d[h]:y(d[h],u);if(m){const g=m.length;for(let x=0;x<g;x++)o[m[x]]=v}else b?this.options.visualElement.renderState.vars[h]=v:o[h]=v}return this.options.layoutId&&(o.pointerEvents=u===this?lw(a==null?void 0:a.pointerEvents)||"":"none"),o}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)==null?void 0:o.stop(!1)}),this.root.nodes.forEach(RO),this.root.sharedNodes.clear()}}}function Iwe(t){t.updateLayout()}function kwe(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,a=e.source!==t.layout.source;i==="size"?va(p=>{const f=a?e.measuredBox[p]:e.layoutBox[p],h=Js(f);f.min=r[p].min,f.max=f.min+h}):FG(i,e.layoutBox,r)&&va(p=>{const f=a?e.measuredBox[p]:e.layoutBox[p],h=Js(r[p]);f.max=f.min+h,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+h)});const o=gh();_g(o,r,e.layoutBox);const l=gh();a?_g(l,t.applyTransform(s,!0),e.measuredBox):_g(l,r,e.layoutBox);const u=!DG(o);let d=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:f,layout:h}=p;if(f&&h){const y=br();Dg(y,e.layoutBox,f.layoutBox);const m=br();Dg(m,r,h.layoutBox),OG(y,m)||(d=!0),p.options.layoutRoot&&(t.relativeTarget=m,t.relativeTargetOrigin=y,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:o,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Cwe(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Nwe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Ewe(t){t.clearSnapshot()}function RO(t){t.clearMeasurements()}function Swe(t){t.isLayoutDirty=!1}function Rwe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function PO(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Pwe(t){t.resolveTargetDelta()}function Mwe(t){t.calcProjection()}function jwe(t){t.resetSkewAndRotation()}function _we(t){t.removeLeadSnapshot()}function MO(t,e,n){t.translate=tr(e.translate,0,n),t.scale=tr(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function jO(t,e,n,r){t.min=tr(e.min,n.min,r),t.max=tr(e.max,n.max,r)}function Dwe(t,e,n,r){jO(t.x,e.x,n.x,r),jO(t.y,e.y,n.y,r)}function Owe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Lwe={duration:.45,ease:[.4,0,.1,1]},_O=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),DO=_O("applewebkit/")&&!_O("chrome/")?Math.round:Ei;function OO(t){t.min=DO(t.min),t.max=DO(t.max)}function $we(t){OO(t.x),OO(t.y)}function FG(t,e,n){return t==="position"||t==="preserve-aspect"&&!$xe(EO(e),EO(n),.2)}function Fwe(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const Bwe=$G({attachResizeListener:(t,e)=>$0(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),BI={current:void 0},BG=$G({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!BI.current){const t=new Bwe({});t.mount(window),t.setOptions({layoutScroll:!0}),BI.current=t}return BI.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Uwe={pan:{Feature:nwe},drag:{Feature:twe,ProjectionNode:BG,MeasureLayout:MG}};function UG(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const s=document.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function zG(t,e){const n=UG(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function LO(t){return!(t.pointerType==="touch"||PG())}function zwe(t,e,n={}){const[r,s,i]=zG(t,n),a=o=>{if(!LO(o))return;const{target:l}=o,u=e(l,o);if(typeof u!="function"||!l)return;const d=p=>{LO(p)&&(u(p),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,s)};return r.forEach(o=>{o.addEventListener("pointerenter",a,s)}),i}function $O(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Tn.postRender(()=>i(e,eb(e)))}class Vwe extends _d{mount(){const{current:e}=this.node;e&&(this.unmount=zwe(e,(n,r)=>($O(this.node,r,"Start"),s=>$O(this.node,s,"End"))))}unmount(){}}class Hwe extends _d{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Jv($0(this.node.current,"focus",()=>this.onFocus()),$0(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const VG=(t,e)=>e?t===e?!0:VG(t,e.parentElement):!1,Wwe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Gwe(t){return Wwe.has(t.tagName)||t.tabIndex!==-1}const dw=new WeakSet;function FO(t){return e=>{e.key==="Enter"&&t(e)}}function UI(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Kwe=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=FO(()=>{if(dw.has(n))return;UI(n,"down");const s=FO(()=>{UI(n,"up")}),i=()=>UI(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function BO(t){return lP(t)&&!PG()}function Ywe(t,e,n={}){const[r,s,i]=zG(t,n),a=o=>{const l=o.currentTarget;if(!BO(o))return;dw.add(l);const u=e(l,o),d=(h,y)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",f),dw.has(l)&&dw.delete(l),BO(h)&&typeof u=="function"&&u(h,{success:y})},p=h=>{d(h,l===window||l===document||n.useGlobalTarget||VG(l,h.target))},f=h=>{d(h,!1)};window.addEventListener("pointerup",p,s),window.addEventListener("pointercancel",f,s)};return r.forEach(o=>{(n.useGlobalTarget?window:o).addEventListener("pointerdown",a,s),f2(o)&&(o.addEventListener("focus",u=>Kwe(u,s)),!Gwe(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),i}function UO(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Tn.postRender(()=>i(e,eb(e)))}class qwe extends _d{mount(){const{current:e}=this.node;e&&(this.unmount=Ywe(e,(n,r)=>(UO(this.node,r,"Start"),(s,{success:i})=>UO(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const l6=new WeakMap,zI=new WeakMap,Zwe=t=>{const e=l6.get(t.target);e&&e(t)},Xwe=t=>{t.forEach(Zwe)};function Jwe({root:t,...e}){const n=t||document;zI.has(n)||zI.set(n,{});const r=zI.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(Xwe,{root:t,...e})),r[s]}function Qwe(t,e,n){const r=Jwe(e);return l6.set(t,n),r.observe(t),()=>{l6.delete(t),r.unobserve(t)}}const e1e={some:0,all:1};class t1e extends _d{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:e1e[s]},o=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:p}=this.node.getProps(),f=u?d:p;f&&f(l)};return Qwe(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(n1e(e,n))&&this.startObserver()}unmount(){}}function n1e({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const r1e={inView:{Feature:t1e},tap:{Feature:qwe},focus:{Feature:Hwe},hover:{Feature:Vwe}},s1e={layout:{ProjectionNode:BG,MeasureLayout:MG}},c6={current:null},HG={current:!1};function i1e(){if(HG.current=!0,!!MR)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>c6.current=t.matches;t.addListener(e),e()}else c6.current=!1}const a1e=new WeakMap;function o1e(t,e,n){for(const r in e){const s=e[r],i=n[r];if(es(s))t.addValue(r,s);else if(es(i))t.addValue(r,yo(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=t.getStaticValue(r);t.addValue(r,yo(a!==void 0?a:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const WG=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),GG=t=>/^0[^.\s]+$/u.test(t),l1e={test:t=>t==="auto",parse:t=>t},KG=t=>e=>e.test(t),YG=[ay,It,xl,fu,Tve,wve,l1e],zO=t=>YG.find(KG(t)),c1e=[...YG,ks,Ad],u1e=t=>c1e.find(KG(t)),d1e=new Set(["brightness","contrast","saturate","opacity"]);function p1e(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(ZR)||[];if(!r)return t;const s=n.replace(r,"");let i=d1e.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const f1e=/\b([a-z-]*)\(.*?\)/gu,u6={...Ad,getAnimatableNone:t=>{const e=t.match(f1e);return e?e.map(p1e).join(" "):t}},h1e={...FR,color:ks,backgroundColor:ks,outlineColor:ks,fill:ks,stroke:ks,borderColor:ks,borderTopColor:ks,borderRightColor:ks,borderBottomColor:ks,borderLeftColor:ks,filter:u6,WebkitFilter:u6},qG=t=>h1e[t];function ZG(t,e){let n=qG(t);return n!==u6&&(n=Ad),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const VO=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class m1e{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=iP,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Ti.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Tn.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=y2(n),this.isVariantNode=SW(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in p){const h=p[f];l[f]!==void 0&&es(h)&&h.set(l[f],!1)}}mount(e){this.current=e,a1e.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),HG.current||i1e(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:c6.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Po(this.notifyUpdate),Po(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=iy.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Tn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Am){const n=Am[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):br()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<VO.length;r++){const s=VO[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=e[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=o1e(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=yo(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(WG(r)||GG(r))?r=parseFloat(r):!u1e(r)&&Ad.test(n)&&(r=ZG(e,n)),this.setBaseTarget(e,es(r)?r.get():r)),es(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=VR(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);a&&(r=a[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!es(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new KR),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}const y1e=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function g1e(t){const e=y1e.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function XG(t,e,n=1){const[r,s]=g1e(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const a=i.trim();return WG(a)?parseFloat(a):a}return $R(s)?XG(s,e,n+1):s}function v1e(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||GG(t):!0}const b1e=new Set(["auto","none","0"]);function x1e(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!b1e.has(i)&&L0(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=ZG(n,s)}class w1e extends iP{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),$R(u))){const d=XG(u,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!vG.has(r)||e.length!==2)return;const[s,i]=e,a=zO(s),o=zO(i);if(a!==o)if(YD(a)&&YD(o))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else Lp[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||v1e(e[s]))&&r.push(s);r.length&&x1e(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Lp[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var o;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,a=r[i];r[i]=Lp[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}class JG extends m1e{constructor(){super(...arguments),this.KeyframeResolver=w1e}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;es(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function QG(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}function T1e(t){return window.getComputedStyle(t)}class A1e extends JG{constructor(){super(...arguments),this.type="html",this.renderInstance=QG}readValueFromInstance(e,n){var r;if(iy.has(n))return(r=this.projection)!=null&&r.isProjecting?QN(n):Ybe(e,n);{const s=T1e(e),i=(LR(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return NG(e,n)}build(e,n,r){BR(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return HR(e,n,r)}}const eK=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function I1e(t,e,n,r){QG(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(eK.has(s)?s:DR(s),e.attrs[s])}class k1e extends JG{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=br}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(iy.has(n)){const r=qG(n);return r&&r.default||0}return n=eK.has(n)?n:DR(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return UW(e,n,r)}build(e,n,r){LW(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){I1e(e,n,r,s)}mount(e){this.isSVGTag=FW(e.tagName),super.mount(e)}}const C1e=(t,e)=>zR(t)?new k1e(e):new A1e(e,{allowProjection:t!==A.Fragment}),N1e=Bve({...Rxe,...r1e,...Uwe,...s1e},C1e),xh=ive(N1e);function E1e(t,e,n){A.useInsertionEffect(()=>t.on(e,n),[t,e,n])}const pw=new WeakMap;let hu;function S1e(t,e){if(e){const{inlineSize:n,blockSize:r}=e[0];return{width:n,height:r}}else return cP(t)&&"getBBox"in t?t.getBBox():{width:t.offsetWidth,height:t.offsetHeight}}function R1e({target:t,contentRect:e,borderBoxSize:n}){var r;(r=pw.get(t))==null||r.forEach(s=>{s({target:t,contentSize:e,get size(){return S1e(t,n)}})})}function P1e(t){t.forEach(R1e)}function M1e(){typeof ResizeObserver>"u"||(hu=new ResizeObserver(P1e))}function j1e(t,e){hu||M1e();const n=UG(t);return n.forEach(r=>{let s=pw.get(r);s||(s=new Set,pw.set(r,s)),s.add(e),hu==null||hu.observe(r)}),()=>{n.forEach(r=>{const s=pw.get(r);s==null||s.delete(e),s!=null&&s.size||hu==null||hu.unobserve(r)})}}const fw=new Set;let Og;function _1e(){Og=()=>{const t={width:window.innerWidth,height:window.innerHeight},e={target:window,size:t,contentSize:t};fw.forEach(n=>n(e))},window.addEventListener("resize",Og)}function D1e(t){return fw.add(t),Og||_1e(),()=>{fw.delete(t),!fw.size&&Og&&(Og=void 0)}}function O1e(t,e){return typeof t=="function"?D1e(t):j1e(t,e)}const L1e=50,HO=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),$1e=()=>({time:0,x:HO(),y:HO()}),F1e={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function WO(t,e,n,r){const s=n[e],{length:i,position:a}=F1e[e],o=s.current,l=n.time;s.current=t[`scroll${a}`],s.scrollLength=t[`scroll${i}`]-t[`client${i}`],s.offset.length=0,s.offset[0]=0,s.offset[1]=s.scrollLength,s.progress=Im(0,s.scrollLength,s.current);const u=r-l;s.velocity=u>L1e?0:YR(s.current-o,u)}function B1e(t,e,n){WO(t,"x",e,n),WO(t,"y",e,n),e.time=n}function U1e(t,e){const n={x:0,y:0};let r=t;for(;r&&r!==e;)if(f2(r))n.x+=r.offsetLeft,n.y+=r.offsetTop,r=r.offsetParent;else if(r.tagName==="svg"){const s=r.getBoundingClientRect();r=r.parentElement;const i=r.getBoundingClientRect();n.x+=s.left-i.left,n.y+=s.top-i.top}else if(r instanceof SVGGraphicsElement){const{x:s,y:i}=r.getBBox();n.x+=s,n.y+=i;let a=null,o=r.parentNode;for(;!a;)o.tagName==="svg"&&(a=o),o=r.parentNode;r=a}else break;return n}const d6={start:0,center:.5,end:1};function GO(t,e,n=0){let r=0;if(t in d6&&(t=d6[t]),typeof t=="string"){const s=parseFloat(t);t.endsWith("px")?r=s:t.endsWith("%")?t=s/100:t.endsWith("vw")?r=s/100*document.documentElement.clientWidth:t.endsWith("vh")?r=s/100*document.documentElement.clientHeight:t=s}return typeof t=="number"&&(r=e*t),n+r}const z1e=[0,0];function V1e(t,e,n,r){let s=Array.isArray(t)?t:z1e,i=0,a=0;return typeof t=="number"?s=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?s=t.split(" "):s=[t,d6[t]?t:"0"]),i=GO(s[0],n,r),a=GO(s[1],e),i-a}const H1e={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},W1e={x:0,y:0};function G1e(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function K1e(t,e,n){const{offset:r=H1e.All}=n,{target:s=t,axis:i="y"}=n,a=i==="y"?"height":"width",o=s!==t?U1e(s,t):W1e,l=s===t?{width:t.scrollWidth,height:t.scrollHeight}:G1e(s),u={width:t.clientWidth,height:t.clientHeight};e[i].offset.length=0;let d=!e[i].interpolate;const p=r.length;for(let f=0;f<p;f++){const h=V1e(r[f],u[a],l[a],o[i]);!d&&h!==e[i].interpolatorOffsets[f]&&(d=!0),e[i].offset[f]=h}d&&(e[i].interpolate=JW(e[i].offset,QW(r),{clamp:!1}),e[i].interpolatorOffsets=[...e[i].offset]),e[i].progress=Ml(0,1,e[i].interpolate(e[i].current))}function Y1e(t,e=t,n){if(n.x.targetOffset=0,n.y.targetOffset=0,e!==t){let r=e;for(;r&&r!==t;)n.x.targetOffset+=r.offsetLeft,n.y.targetOffset+=r.offsetTop,r=r.offsetParent}n.x.targetLength=e===t?e.scrollWidth:e.clientWidth,n.y.targetLength=e===t?e.scrollHeight:e.clientHeight,n.x.containerLength=t.clientWidth,n.y.containerLength=t.clientHeight}function q1e(t,e,n,r={}){return{measure:()=>Y1e(t,r.target,n),update:s=>{B1e(t,n,s),(r.offset||r.target)&&K1e(t,n,r)},notify:()=>e(n)}}const Fy=new WeakMap,KO=new WeakMap,VI=new WeakMap,YO=t=>t===document.scrollingElement?window:t;function tK(t,{container:e=document.scrollingElement,...n}={}){if(!e)return Ei;let r=VI.get(e);r||(r=new Set,VI.set(e,r));const s=$1e(),i=q1e(e,t,s,n);if(r.add(i),!Fy.has(e)){const o=()=>{for(const f of r)f.measure()},l=()=>{for(const f of r)f.update(Zr.timestamp)},u=()=>{for(const f of r)f.notify()},d=()=>{Tn.read(o),Tn.read(l),Tn.preUpdate(u)};Fy.set(e,d);const p=YO(e);window.addEventListener("resize",d,{passive:!0}),e!==document.documentElement&&KO.set(e,O1e(e,d)),p.addEventListener("scroll",d,{passive:!0}),d()}const a=Fy.get(e);return Tn.read(a,!1,!0),()=>{var u;Po(a);const o=VI.get(e);if(!o||(o.delete(i),o.size))return;const l=Fy.get(e);Fy.delete(e),l&&(YO(e).removeEventListener("scroll",l),(u=KO.get(e))==null||u(),window.removeEventListener("resize",l))}}const qO=new Map;function Z1e(t){const e={value:0},n=tK(r=>{e.value=r[t.axis].progress*100},t);return{currentTime:e,cancel:n}}function nK({source:t,container:e,...n}){const{axis:r}=n;t&&(e=t);const s=qO.get(e)??new Map;qO.set(e,s);const i=n.target??"self",a=s.get(i)??{},o=r+(n.offset??[]).join(",");return a[o]||(a[o]=!n.target&&fG()?new ScrollTimeline({source:e,axis:r}):Z1e({container:e,...n})),a[o]}function rK(t,e){let n;const r=()=>{const{currentTime:s}=e,a=(s===null?0:s.value)/100;n!==a&&t(a),n=a};return Tn.preUpdate(r,!0),()=>Po(r)}function X1e(t,e){const n=nK(e);return t.attachTimeline({timeline:e.target?void 0:n,observe:r=>(r.pause(),rK(s=>{r.time=r.duration*s},n))})}function J1e(t){return t.length===2}function Q1e(t,e){return J1e(t)?tK(n=>{t(n[e.axis].progress,n)},e):rK(t,nK(e))}function eTe(t,{axis:e="y",container:n=document.scrollingElement,...r}={}){if(!n)return Ei;const s={axis:e,container:n,...r};return typeof t=="function"?Q1e(t,s):X1e(t,s)}function ZO(t,e){fve(!!(!e||e.current))}const tTe=()=>({scrollX:yo(0),scrollY:yo(0),scrollXProgress:yo(0),scrollYProgress:yo(0)});function nTe({container:t,target:e,layoutEffect:n=!0,...r}={}){const s=Zv(tTe);return(n?u2:A.useEffect)(()=>(ZO("target",e),ZO("container",t),eTe((a,{x:o,y:l})=>{s.scrollX.set(o.current),s.scrollXProgress.set(o.progress),s.scrollY.set(l.current),s.scrollYProgress.set(l.progress)},{...r,container:(t==null?void 0:t.current)||void 0,target:(e==null?void 0:e.current)||void 0})),[t,e,JSON.stringify(r.offset)]),s}function p6(t){const e=Zv(()=>yo(t)),{isStatic:n}=A.useContext(p2);if(n){const[,r]=A.useState(t);A.useEffect(()=>e.on("change",r),[])}return e}function rTe(t,e){const n=p6(e()),r=()=>n.set(e());return r(),u2(()=>{const s=()=>Tn.preRender(r,!1,!0),i=t.map(a=>a.on("change",s));return()=>{i.forEach(a=>a()),Po(r)}}),n}function sTe(t,...e){const n=t.length;function r(){let s="";for(let i=0;i<n;i++){s+=t[i];const a=e[i];a&&(s+=es(a)?a.get():a)}return s}return rTe(e.filter(es),r)}const an=A.forwardRef(({className:t,type:e,...n},r)=>{const[i,a]=A.useState(!1);let o=p6(0),l=p6(0);function u({currentTarget:d,clientX:p,clientY:f}){let{left:h,top:y}=d.getBoundingClientRect();o.set(p-h),l.set(f-y)}return c.jsx(xh.div,{style:{background:sTe`
        radial-gradient(
          ${i?"100px":"0px"} circle at ${o}px ${l}px,
          #3b82f6,
          transparent 80%
        )
      `},onMouseMove:u,onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),className:"group/input rounded-lg p-[2px] transition duration-300",children:c.jsx("input",{type:e,className:vt("shadow-input dark:placeholder-text-neutral-600 flex h-10 w-full rounded-md border-none bg-gray-50 px-3 py-2 text-sm text-black transition duration-400 group-hover/input:shadow-none file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-neutral-400 focus-visible:ring-[2px] focus-visible:ring-neutral-400 focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50 dark:bg-zinc-800 dark:text-white dark:shadow-[0px_0px_1px_1px_#404040] dark:focus-visible:ring-neutral-600",t),ref:r,...n})})});an.displayName="Input";function XO(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function iTe(...t){return e=>{let n=!1;const r=t.map(s=>{const i=XO(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():XO(t[s],null)}}}}function aTe(t){const e=oTe(t),n=A.forwardRef((r,s)=>{const{children:i,...a}=r,o=A.Children.toArray(i),l=o.find(cTe);if(l){const u=l.props.children,d=o.map(p=>p===l?A.Children.count(u)>1?A.Children.only(null):A.isValidElement(u)?u.props.children:null:p);return c.jsx(e,{...a,ref:s,children:A.isValidElement(u)?A.cloneElement(u,void 0,d):null})}return c.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function oTe(t){const e=A.forwardRef((n,r)=>{const{children:s,...i}=n;if(A.isValidElement(s)){const a=dTe(s),o=uTe(i,s.props);return s.type!==A.Fragment&&(o.ref=r?iTe(r,a):a),A.cloneElement(s,o)}return A.Children.count(s)>1?A.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var lTe=Symbol("radix.slottable");function cTe(t){return A.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===lTe}function uTe(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...o)=>{const l=i(...o);return s(...o),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function dTe(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var pTe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],fTe=pTe.reduce((t,e)=>{const n=aTe(`Primitive.${e}`),r=A.forwardRef((s,i)=>{const{asChild:a,...o}=s,l=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...o,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),hTe="Label",sK=A.forwardRef((t,e)=>c.jsx(fTe.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));sK.displayName=hTe;var iK=sK;const Ut=A.forwardRef(({className:t,...e},n)=>c.jsx(iK,{ref:n,className:vt("text-sm font-medium text-black dark:text-white leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t),...e}));Ut.displayName=iK.displayName;const mTe=({listing:t,onClose:e,onPayRoyalty:n,userLicenses:r=[]})=>{const[s,i]=A.useState(""),[a,o]=A.useState(!1),l=()=>{a&&s&&parseFloat(s)>0&&n(t,s)},u=r.some(d=>d.ipId===t.tokenId);return c.jsx(Gt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:e,children:c.jsx(Gt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg",onClick:d=>d.stopPropagation(),children:c.jsxs("div",{className:"p-6",children:[c.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[c.jsx(jc,{className:"w-6 h-6 text-green-600"}),"Pay Royalty"]}),c.jsxs("p",{className:"text-gray-600 mb-4",children:["Support the creator by paying royalties for:"," ",c.jsx("span",{className:"font-semibold",children:t.name})]}),u?c.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mb-4",children:c.jsx("p",{className:"text-sm text-green-800 flex items-center gap-2",children:" You have a license for this IP"})}):c.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4",children:c.jsx("p",{className:"text-sm text-yellow-800",children:" You don't have a license yet. Consider minting one first!"})}),c.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 mb-4",children:c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx(d0,{className:"w-5 h-5 text-orange-600 mt-0.5 flex-shrink-0"}),c.jsxs("div",{className:"text-sm text-orange-900",children:[c.jsx("p",{className:"font-semibold mb-1",children:"Important Technical Note:"}),c.jsxs("p",{className:"text-xs leading-relaxed",children:["Story Protocol requires royalties to be paid from a ",c.jsx("strong",{children:"derivative IP"})," to its parent IP. Currently, this implementation uses a simplified approach for testing purposes. For production use, you should create a derivative IP first, then pay from that derivative to the parent."]})]})]})}),c.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-4",children:[c.jsx("h3",{className:"font-semibold mb-2",children:"IP Information"}),c.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"IP ID:"}),c.jsxs("span",{className:"font-mono text-xs",children:[t.tokenId.toString().slice(0,10),"...",t.tokenId.toString().slice(-8)]})]}),t.license&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Royalty Rate:"}),c.jsxs("span",{className:"font-semibold text-green-600",children:[t.license.terms.commercialRevShare,"%"]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"License Type:"}),c.jsx("span",{children:t.license.terms.commercialUse?"Commercial":"Non-Commercial"})]})]})]})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx(Ut,{htmlFor:"royalty-amount",className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Amount (WIP tokens)"}),c.jsx(an,{type:"number",id:"royalty-amount",value:s,onChange:d=>i(d.target.value),placeholder:"0.1",step:"0.01",min:"0",className:"w-full"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter the amount in WIP tokens you want to pay as royalty"})]}),c.jsxs("div",{className:"flex items-start mb-6",children:[c.jsx("input",{id:"understand",type:"checkbox",checked:a,onChange:d=>o(d.target.checked),className:"h-4 w-4 text-blue-600 border-gray-300 rounded mt-1"}),c.jsx("label",{htmlFor:"understand",className:"ml-2 text-sm text-gray-700",children:"I understand this is a test implementation and that proper royalty payments require a derivative IP in production environments."})]}),c.jsxs("div",{className:"flex justify-end space-x-4",children:[c.jsx(te,{variant:"outline",onClick:e,children:"Cancel"}),c.jsx(te,{onClick:l,disabled:!a||!s||parseFloat(s)<=0,className:"bg-green-600 hover:bg-green-700",children:"Pay Royalty"})]})]})})})};function aK(t,e){return function(){return t.apply(e,arguments)}}const{toString:yTe}=Object.prototype,{getPrototypeOf:uP}=Object,{iterator:g2,toStringTag:oK}=Symbol,v2=(t=>e=>{const n=yTe.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),$o=t=>(t=t.toLowerCase(),e=>v2(e)===t),b2=t=>e=>typeof e===t,{isArray:oy}=Array,F0=b2("undefined");function gTe(t){return t!==null&&!F0(t)&&t.constructor!==null&&!F0(t.constructor)&&Si(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const lK=$o("ArrayBuffer");function vTe(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&lK(t.buffer),e}const bTe=b2("string"),Si=b2("function"),cK=b2("number"),x2=t=>t!==null&&typeof t=="object",xTe=t=>t===!0||t===!1,hw=t=>{if(v2(t)!=="object")return!1;const e=uP(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(oK in t)&&!(g2 in t)},wTe=$o("Date"),TTe=$o("File"),ATe=$o("Blob"),ITe=$o("FileList"),kTe=t=>x2(t)&&Si(t.pipe),CTe=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Si(t.append)&&((e=v2(t))==="formdata"||e==="object"&&Si(t.toString)&&t.toString()==="[object FormData]"))},NTe=$o("URLSearchParams"),[ETe,STe,RTe,PTe]=["ReadableStream","Request","Response","Headers"].map($o),MTe=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function tb(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),oy(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),a=i.length;let o;for(r=0;r<a;r++)o=i[r],e.call(null,t[o],o,t)}}function uK(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const mp=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,dK=t=>!F0(t)&&t!==mp;function f6(){const{caseless:t}=dK(this)&&this||{},e={},n=(r,s)=>{const i=t&&uK(e,s)||s;hw(e[i])&&hw(r)?e[i]=f6(e[i],r):hw(r)?e[i]=f6({},r):oy(r)?e[i]=r.slice():e[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&tb(arguments[r],n);return e}const jTe=(t,e,n,{allOwnKeys:r}={})=>(tb(e,(s,i)=>{n&&Si(s)?t[i]=aK(s,n):t[i]=s},{allOwnKeys:r}),t),_Te=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),DTe=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},OTe=(t,e,n,r)=>{let s,i,a;const o={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)a=s[i],(!r||r(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=n!==!1&&uP(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},LTe=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},$Te=t=>{if(!t)return null;if(oy(t))return t;let e=t.length;if(!cK(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},FTe=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&uP(Uint8Array)),BTe=(t,e)=>{const r=(t&&t[g2]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},UTe=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},zTe=$o("HTMLFormElement"),VTe=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),JO=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),HTe=$o("RegExp"),pK=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};tb(n,(s,i)=>{let a;(a=e(s,i,t))!==!1&&(r[i]=a||s)}),Object.defineProperties(t,r)},WTe=t=>{pK(t,(e,n)=>{if(Si(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Si(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},GTe=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return oy(t)?r(t):r(String(t).split(e)),n},KTe=()=>{},YTe=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function qTe(t){return!!(t&&Si(t.append)&&t[oK]==="FormData"&&t[g2])}const ZTe=t=>{const e=new Array(10),n=(r,s)=>{if(x2(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const i=oy(r)?[]:{};return tb(r,(a,o)=>{const l=n(a,s+1);!F0(l)&&(i[o]=l)}),e[s]=void 0,i}}return r};return n(t,0)},XTe=$o("AsyncFunction"),JTe=t=>t&&(x2(t)||Si(t))&&Si(t.then)&&Si(t.catch),fK=((t,e)=>t?setImmediate:e?((n,r)=>(mp.addEventListener("message",({source:s,data:i})=>{s===mp&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),mp.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Si(mp.postMessage)),QTe=typeof queueMicrotask<"u"?queueMicrotask.bind(mp):typeof process<"u"&&process.nextTick||fK,e2e=t=>t!=null&&Si(t[g2]),ae={isArray:oy,isArrayBuffer:lK,isBuffer:gTe,isFormData:CTe,isArrayBufferView:vTe,isString:bTe,isNumber:cK,isBoolean:xTe,isObject:x2,isPlainObject:hw,isReadableStream:ETe,isRequest:STe,isResponse:RTe,isHeaders:PTe,isUndefined:F0,isDate:wTe,isFile:TTe,isBlob:ATe,isRegExp:HTe,isFunction:Si,isStream:kTe,isURLSearchParams:NTe,isTypedArray:FTe,isFileList:ITe,forEach:tb,merge:f6,extend:jTe,trim:MTe,stripBOM:_Te,inherits:DTe,toFlatObject:OTe,kindOf:v2,kindOfTest:$o,endsWith:LTe,toArray:$Te,forEachEntry:BTe,matchAll:UTe,isHTMLForm:zTe,hasOwnProperty:JO,hasOwnProp:JO,reduceDescriptors:pK,freezeMethods:WTe,toObjectSet:GTe,toCamelCase:VTe,noop:KTe,toFiniteNumber:YTe,findKey:uK,global:mp,isContextDefined:dK,isSpecCompliantForm:qTe,toJSONObject:ZTe,isAsyncFn:XTe,isThenable:JTe,setImmediate:fK,asap:QTe,isIterable:e2e};function Mt(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}ae.inherits(Mt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ae.toJSONObject(this.config),code:this.code,status:this.status}}});const hK=Mt.prototype,mK={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{mK[t]={value:t}});Object.defineProperties(Mt,mK);Object.defineProperty(hK,"isAxiosError",{value:!0});Mt.from=(t,e,n,r,s,i)=>{const a=Object.create(hK);return ae.toFlatObject(t,a,function(l){return l!==Error.prototype},o=>o!=="isAxiosError"),Mt.call(a,t.message,e,n,r,s),a.cause=t,a.name=t.name,i&&Object.assign(a,i),a};const t2e=null;function h6(t){return ae.isPlainObject(t)||ae.isArray(t)}function yK(t){return ae.endsWith(t,"[]")?t.slice(0,-2):t}function QO(t,e,n){return t?t.concat(e).map(function(s,i){return s=yK(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function n2e(t){return ae.isArray(t)&&!t.some(h6)}const r2e=ae.toFlatObject(ae,{},null,function(e){return/^is[A-Z]/.test(e)});function w2(t,e,n){if(!ae.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=ae.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,b){return!ae.isUndefined(b[m])});const r=n.metaTokens,s=n.visitor||d,i=n.dots,a=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&ae.isSpecCompliantForm(e);if(!ae.isFunction(s))throw new TypeError("visitor must be a function");function u(y){if(y===null)return"";if(ae.isDate(y))return y.toISOString();if(ae.isBoolean(y))return y.toString();if(!l&&ae.isBlob(y))throw new Mt("Blob is not supported. Use a Buffer instead.");return ae.isArrayBuffer(y)||ae.isTypedArray(y)?l&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function d(y,m,b){let v=y;if(y&&!b&&typeof y=="object"){if(ae.endsWith(m,"{}"))m=r?m:m.slice(0,-2),y=JSON.stringify(y);else if(ae.isArray(y)&&n2e(y)||(ae.isFileList(y)||ae.endsWith(m,"[]"))&&(v=ae.toArray(y)))return m=yK(m),v.forEach(function(x,T){!(ae.isUndefined(x)||x===null)&&e.append(a===!0?QO([m],T,i):a===null?m:m+"[]",u(x))}),!1}return h6(y)?!0:(e.append(QO(b,m,i),u(y)),!1)}const p=[],f=Object.assign(r2e,{defaultVisitor:d,convertValue:u,isVisitable:h6});function h(y,m){if(!ae.isUndefined(y)){if(p.indexOf(y)!==-1)throw Error("Circular reference detected in "+m.join("."));p.push(y),ae.forEach(y,function(v,g){(!(ae.isUndefined(v)||v===null)&&s.call(e,v,ae.isString(g)?g.trim():g,m,f))===!0&&h(v,m?m.concat(g):[g])}),p.pop()}}if(!ae.isObject(t))throw new TypeError("data must be an object");return h(t),e}function eL(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function dP(t,e){this._pairs=[],t&&w2(t,this,e)}const gK=dP.prototype;gK.append=function(e,n){this._pairs.push([e,n])};gK.toString=function(e){const n=e?function(r){return e.call(this,r,eL)}:eL;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function s2e(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function vK(t,e,n){if(!e)return t;const r=n&&n.encode||s2e;ae.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(e,n):i=ae.isURLSearchParams(e)?e.toString():new dP(e,n).toString(r),i){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class tL{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ae.forEach(this.handlers,function(r){r!==null&&e(r)})}}const bK={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},i2e=typeof URLSearchParams<"u"?URLSearchParams:dP,a2e=typeof FormData<"u"?FormData:null,o2e=typeof Blob<"u"?Blob:null,l2e={isBrowser:!0,classes:{URLSearchParams:i2e,FormData:a2e,Blob:o2e},protocols:["http","https","file","blob","url","data"]},pP=typeof window<"u"&&typeof document<"u",m6=typeof navigator=="object"&&navigator||void 0,c2e=pP&&(!m6||["ReactNative","NativeScript","NS"].indexOf(m6.product)<0),u2e=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",d2e=pP&&window.location.href||"http://localhost",p2e=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:pP,hasStandardBrowserEnv:c2e,hasStandardBrowserWebWorkerEnv:u2e,navigator:m6,origin:d2e},Symbol.toStringTag,{value:"Module"})),Ms={...p2e,...l2e};function f2e(t,e){return w2(t,new Ms.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return Ms.isNode&&ae.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function h2e(t){return ae.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function m2e(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function xK(t){function e(n,r,s,i){let a=n[i++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=i>=n.length;return a=!a&&ae.isArray(s)?s.length:a,l?(ae.hasOwnProp(s,a)?s[a]=[s[a],r]:s[a]=r,!o):((!s[a]||!ae.isObject(s[a]))&&(s[a]=[]),e(n,r,s[a],i)&&ae.isArray(s[a])&&(s[a]=m2e(s[a])),!o)}if(ae.isFormData(t)&&ae.isFunction(t.entries)){const n={};return ae.forEachEntry(t,(r,s)=>{e(h2e(r),s,n,0)}),n}return null}function y2e(t,e,n){if(ae.isString(t))try{return(e||JSON.parse)(t),ae.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(t)}const nb={transitional:bK,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=ae.isObject(e);if(i&&ae.isHTMLForm(e)&&(e=new FormData(e)),ae.isFormData(e))return s?JSON.stringify(xK(e)):e;if(ae.isArrayBuffer(e)||ae.isBuffer(e)||ae.isStream(e)||ae.isFile(e)||ae.isBlob(e)||ae.isReadableStream(e))return e;if(ae.isArrayBufferView(e))return e.buffer;if(ae.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return f2e(e,this.formSerializer).toString();if((o=ae.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return w2(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),y2e(e)):e}],transformResponse:[function(e){const n=this.transitional||nb.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(ae.isResponse(e)||ae.isReadableStream(e))return e;if(e&&ae.isString(e)&&(r&&!this.responseType||s)){const a=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(o){if(a)throw o.name==="SyntaxError"?Mt.from(o,Mt.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ms.classes.FormData,Blob:Ms.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ae.forEach(["delete","get","head","post","put","patch"],t=>{nb.headers[t]={}});const g2e=ae.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),v2e=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(a){s=a.indexOf(":"),n=a.substring(0,s).trim().toLowerCase(),r=a.substring(s+1).trim(),!(!n||e[n]&&g2e[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},nL=Symbol("internals");function By(t){return t&&String(t).trim().toLowerCase()}function mw(t){return t===!1||t==null?t:ae.isArray(t)?t.map(mw):String(t)}function b2e(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const x2e=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function HI(t,e,n,r,s){if(ae.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!ae.isString(e)){if(ae.isString(r))return e.indexOf(r)!==-1;if(ae.isRegExp(r))return r.test(e)}}function w2e(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function T2e(t,e){const n=ae.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,a){return this[r].call(this,e,s,i,a)},configurable:!0})})}class Ri{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(o,l,u){const d=By(l);if(!d)throw new Error("header name must be a non-empty string");const p=ae.findKey(s,d);(!p||s[p]===void 0||u===!0||u===void 0&&s[p]!==!1)&&(s[p||l]=mw(o))}const a=(o,l)=>ae.forEach(o,(u,d)=>i(u,d,l));if(ae.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(ae.isString(e)&&(e=e.trim())&&!x2e(e))a(v2e(e),n);else if(ae.isObject(e)&&ae.isIterable(e)){let o={},l,u;for(const d of e){if(!ae.isArray(d))throw TypeError("Object iterator must return a key-value pair");o[u=d[0]]=(l=o[u])?ae.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}a(o,n)}else e!=null&&i(n,e,r);return this}get(e,n){if(e=By(e),e){const r=ae.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return b2e(s);if(ae.isFunction(n))return n.call(this,s,r);if(ae.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=By(e),e){const r=ae.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||HI(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(a){if(a=By(a),a){const o=ae.findKey(r,a);o&&(!n||HI(r,r[o],o,n))&&(delete r[o],s=!0)}}return ae.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||HI(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return ae.forEach(this,(s,i)=>{const a=ae.findKey(r,i);if(a){n[a]=mw(s),delete n[i];return}const o=e?w2e(i):String(i).trim();o!==i&&delete n[i],n[o]=mw(s),r[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return ae.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&ae.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[nL]=this[nL]={accessors:{}}).accessors,s=this.prototype;function i(a){const o=By(a);r[o]||(T2e(s,a),r[o]=!0)}return ae.isArray(e)?e.forEach(i):i(e),this}}Ri.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ae.reduceDescriptors(Ri.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});ae.freezeMethods(Ri);function WI(t,e){const n=this||nb,r=e||n,s=Ri.from(r.headers);let i=r.data;return ae.forEach(t,function(o){i=o.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function wK(t){return!!(t&&t.__CANCEL__)}function ly(t,e,n){Mt.call(this,t??"canceled",Mt.ERR_CANCELED,e,n),this.name="CanceledError"}ae.inherits(ly,Mt,{__CANCEL__:!0});function TK(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Mt("Request failed with status code "+n.status,[Mt.ERR_BAD_REQUEST,Mt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function A2e(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function I2e(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,a;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),d=r[i];a||(a=u),n[s]=l,r[s]=u;let p=i,f=0;for(;p!==s;)f+=n[p++],p=p%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),u-a<e)return;const h=d&&u-d;return h?Math.round(f*1e3/h):void 0}}function k2e(t,e){let n=0,r=1e3/e,s,i;const a=(u,d=Date.now())=>{n=d,s=null,i&&(clearTimeout(i),i=null),t.apply(null,u)};return[(...u)=>{const d=Date.now(),p=d-n;p>=r?a(u,d):(s=u,i||(i=setTimeout(()=>{i=null,a(s)},r-p)))},()=>s&&a(s)]}const O1=(t,e,n=3)=>{let r=0;const s=I2e(50,250);return k2e(i=>{const a=i.loaded,o=i.lengthComputable?i.total:void 0,l=a-r,u=s(l),d=a<=o;r=a;const p={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:u||void 0,estimated:u&&o&&d?(o-a)/u:void 0,event:i,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(p)},n)},rL=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},sL=t=>(...e)=>ae.asap(()=>t(...e)),C2e=Ms.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Ms.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Ms.origin),Ms.navigator&&/(msie|trident)/i.test(Ms.navigator.userAgent)):()=>!0,N2e=Ms.hasStandardBrowserEnv?{write(t,e,n,r,s,i){const a=[t+"="+encodeURIComponent(e)];ae.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),ae.isString(r)&&a.push("path="+r),ae.isString(s)&&a.push("domain="+s),i===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function E2e(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function S2e(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function AK(t,e,n){let r=!E2e(e);return t&&(r||n==!1)?S2e(t,e):e}const iL=t=>t instanceof Ri?{...t}:t;function af(t,e){e=e||{};const n={};function r(u,d,p,f){return ae.isPlainObject(u)&&ae.isPlainObject(d)?ae.merge.call({caseless:f},u,d):ae.isPlainObject(d)?ae.merge({},d):ae.isArray(d)?d.slice():d}function s(u,d,p,f){if(ae.isUndefined(d)){if(!ae.isUndefined(u))return r(void 0,u,p,f)}else return r(u,d,p,f)}function i(u,d){if(!ae.isUndefined(d))return r(void 0,d)}function a(u,d){if(ae.isUndefined(d)){if(!ae.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function o(u,d,p){if(p in e)return r(u,d);if(p in t)return r(void 0,u)}const l={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(u,d,p)=>s(iL(u),iL(d),p,!0)};return ae.forEach(Object.keys(Object.assign({},t,e)),function(d){const p=l[d]||s,f=p(t[d],e[d],d);ae.isUndefined(f)&&p!==o||(n[d]=f)}),n}const IK=t=>{const e=af({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:a,auth:o}=e;e.headers=a=Ri.from(a),e.url=vK(AK(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let l;if(ae.isFormData(n)){if(Ms.hasStandardBrowserEnv||Ms.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((l=a.getContentType())!==!1){const[u,...d]=l?l.split(";").map(p=>p.trim()).filter(Boolean):[];a.setContentType([u||"multipart/form-data",...d].join("; "))}}if(Ms.hasStandardBrowserEnv&&(r&&ae.isFunction(r)&&(r=r(e)),r||r!==!1&&C2e(e.url))){const u=s&&i&&N2e.read(i);u&&a.set(s,u)}return e},R2e=typeof XMLHttpRequest<"u",P2e=R2e&&function(t){return new Promise(function(n,r){const s=IK(t);let i=s.data;const a=Ri.from(s.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:u}=s,d,p,f,h,y;function m(){h&&h(),y&&y(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let b=new XMLHttpRequest;b.open(s.method.toUpperCase(),s.url,!0),b.timeout=s.timeout;function v(){if(!b)return;const x=Ri.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),I={data:!o||o==="text"||o==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:x,config:t,request:b};TK(function(N){n(N),m()},function(N){r(N),m()},I),b=null}"onloadend"in b?b.onloadend=v:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(v)},b.onabort=function(){b&&(r(new Mt("Request aborted",Mt.ECONNABORTED,t,b)),b=null)},b.onerror=function(){r(new Mt("Network Error",Mt.ERR_NETWORK,t,b)),b=null},b.ontimeout=function(){let T=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const I=s.transitional||bK;s.timeoutErrorMessage&&(T=s.timeoutErrorMessage),r(new Mt(T,I.clarifyTimeoutError?Mt.ETIMEDOUT:Mt.ECONNABORTED,t,b)),b=null},i===void 0&&a.setContentType(null),"setRequestHeader"in b&&ae.forEach(a.toJSON(),function(T,I){b.setRequestHeader(I,T)}),ae.isUndefined(s.withCredentials)||(b.withCredentials=!!s.withCredentials),o&&o!=="json"&&(b.responseType=s.responseType),u&&([f,y]=O1(u,!0),b.addEventListener("progress",f)),l&&b.upload&&([p,h]=O1(l),b.upload.addEventListener("progress",p),b.upload.addEventListener("loadend",h)),(s.cancelToken||s.signal)&&(d=x=>{b&&(r(!x||x.type?new ly(null,t,b):x),b.abort(),b=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const g=A2e(s.url);if(g&&Ms.protocols.indexOf(g)===-1){r(new Mt("Unsupported protocol "+g+":",Mt.ERR_BAD_REQUEST,t));return}b.send(i||null)})},M2e=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,s;const i=function(u){if(!s){s=!0,o();const d=u instanceof Error?u:this.reason;r.abort(d instanceof Mt?d:new ly(d instanceof Error?d.message:d))}};let a=e&&setTimeout(()=>{a=null,i(new Mt(`timeout ${e} of ms exceeded`,Mt.ETIMEDOUT))},e);const o=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),t=null)};t.forEach(u=>u.addEventListener("abort",i));const{signal:l}=r;return l.unsubscribe=()=>ae.asap(o),l}},j2e=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},_2e=async function*(t,e){for await(const n of D2e(t))yield*j2e(n,e)},D2e=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},aL=(t,e,n,r)=>{const s=_2e(t,e);let i=0,a,o=l=>{a||(a=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:d}=await s.next();if(u){o(),l.close();return}let p=d.byteLength;if(n){let f=i+=p;n(f)}l.enqueue(new Uint8Array(d))}catch(u){throw o(u),u}},cancel(l){return o(l),s.return()}},{highWaterMark:2})},T2=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",kK=T2&&typeof ReadableStream=="function",O2e=T2&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),CK=(t,...e)=>{try{return!!t(...e)}catch{return!1}},L2e=kK&&CK(()=>{let t=!1;const e=new Request(Ms.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),oL=64*1024,y6=kK&&CK(()=>ae.isReadableStream(new Response("").body)),L1={stream:y6&&(t=>t.body)};T2&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!L1[e]&&(L1[e]=ae.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new Mt(`Response type '${e}' is not supported`,Mt.ERR_NOT_SUPPORT,r)})})})(new Response);const $2e=async t=>{if(t==null)return 0;if(ae.isBlob(t))return t.size;if(ae.isSpecCompliantForm(t))return(await new Request(Ms.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(ae.isArrayBufferView(t)||ae.isArrayBuffer(t))return t.byteLength;if(ae.isURLSearchParams(t)&&(t=t+""),ae.isString(t))return(await O2e(t)).byteLength},F2e=async(t,e)=>{const n=ae.toFiniteNumber(t.getContentLength());return n??$2e(e)},B2e=T2&&(async t=>{let{url:e,method:n,data:r,signal:s,cancelToken:i,timeout:a,onDownloadProgress:o,onUploadProgress:l,responseType:u,headers:d,withCredentials:p="same-origin",fetchOptions:f}=IK(t);u=u?(u+"").toLowerCase():"text";let h=M2e([s,i&&i.toAbortSignal()],a),y;const m=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let b;try{if(l&&L2e&&n!=="get"&&n!=="head"&&(b=await F2e(d,r))!==0){let I=new Request(e,{method:"POST",body:r,duplex:"half"}),C;if(ae.isFormData(r)&&(C=I.headers.get("content-type"))&&d.setContentType(C),I.body){const[N,P]=rL(b,O1(sL(l)));r=aL(I.body,oL,N,P)}}ae.isString(p)||(p=p?"include":"omit");const v="credentials"in Request.prototype;y=new Request(e,{...f,signal:h,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:v?p:void 0});let g=await fetch(y,f);const x=y6&&(u==="stream"||u==="response");if(y6&&(o||x&&m)){const I={};["status","statusText","headers"].forEach(L=>{I[L]=g[L]});const C=ae.toFiniteNumber(g.headers.get("content-length")),[N,P]=o&&rL(C,O1(sL(o),!0))||[];g=new Response(aL(g.body,oL,N,()=>{P&&P(),m&&m()}),I)}u=u||"text";let T=await L1[ae.findKey(L1,u)||"text"](g,t);return!x&&m&&m(),await new Promise((I,C)=>{TK(I,C,{data:T,headers:Ri.from(g.headers),status:g.status,statusText:g.statusText,config:t,request:y})})}catch(v){throw m&&m(),v&&v.name==="TypeError"&&/Load failed|fetch/i.test(v.message)?Object.assign(new Mt("Network Error",Mt.ERR_NETWORK,t,y),{cause:v.cause||v}):Mt.from(v,v&&v.code,t,y)}}),g6={http:t2e,xhr:P2e,fetch:B2e};ae.forEach(g6,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const lL=t=>`- ${t}`,U2e=t=>ae.isFunction(t)||t===null||t===!1,NK={getAdapter:t=>{t=ae.isArray(t)?t:[t];const{length:e}=t;let n,r;const s={};for(let i=0;i<e;i++){n=t[i];let a;if(r=n,!U2e(n)&&(r=g6[(a=String(n)).toLowerCase()],r===void 0))throw new Mt(`Unknown adapter '${a}'`);if(r)break;s[a||"#"+i]=r}if(!r){const i=Object.entries(s).map(([o,l])=>`adapter ${o} `+(l===!1?"is not supported by the environment":"is not available in the build"));let a=e?i.length>1?`since :
`+i.map(lL).join(`
`):" "+lL(i[0]):"as no adapter specified";throw new Mt("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},adapters:g6};function GI(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ly(null,t)}function cL(t){return GI(t),t.headers=Ri.from(t.headers),t.data=WI.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),NK.getAdapter(t.adapter||nb.adapter)(t).then(function(r){return GI(t),r.data=WI.call(t,t.transformResponse,r),r.headers=Ri.from(r.headers),r},function(r){return wK(r)||(GI(t),r&&r.response&&(r.response.data=WI.call(t,t.transformResponse,r.response),r.response.headers=Ri.from(r.response.headers))),Promise.reject(r)})}const EK="1.10.0",A2={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{A2[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const uL={};A2.transitional=function(e,n,r){function s(i,a){return"[Axios v"+EK+"] Transitional option '"+i+"'"+a+(r?". "+r:"")}return(i,a,o)=>{if(e===!1)throw new Mt(s(a," has been removed"+(n?" in "+n:"")),Mt.ERR_DEPRECATED);return n&&!uL[a]&&(uL[a]=!0,console.warn(s(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,a,o):!0}};A2.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function z2e(t,e,n){if(typeof t!="object")throw new Mt("options must be an object",Mt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],a=e[i];if(a){const o=t[i],l=o===void 0||a(o,i,t);if(l!==!0)throw new Mt("option "+i+" must be "+l,Mt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Mt("Unknown option "+i,Mt.ERR_BAD_OPTION)}}const yw={assertOptions:z2e,validators:A2},Wo=yw.validators;class Fp{constructor(e){this.defaults=e||{},this.interceptors={request:new tL,response:new tL}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=af(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&yw.assertOptions(r,{silentJSONParsing:Wo.transitional(Wo.boolean),forcedJSONParsing:Wo.transitional(Wo.boolean),clarifyTimeoutError:Wo.transitional(Wo.boolean)},!1),s!=null&&(ae.isFunction(s)?n.paramsSerializer={serialize:s}:yw.assertOptions(s,{encode:Wo.function,serialize:Wo.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),yw.assertOptions(n,{baseUrl:Wo.spelling("baseURL"),withXsrfToken:Wo.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=i&&ae.merge(i.common,i[n.method]);i&&ae.forEach(["delete","get","head","post","put","patch","common"],y=>{delete i[y]}),n.headers=Ri.concat(a,i);const o=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(l=l&&m.synchronous,o.unshift(m.fulfilled,m.rejected))});const u=[];this.interceptors.response.forEach(function(m){u.push(m.fulfilled,m.rejected)});let d,p=0,f;if(!l){const y=[cL.bind(this),void 0];for(y.unshift.apply(y,o),y.push.apply(y,u),f=y.length,d=Promise.resolve(n);p<f;)d=d.then(y[p++],y[p++]);return d}f=o.length;let h=n;for(p=0;p<f;){const y=o[p++],m=o[p++];try{h=y(h)}catch(b){m.call(this,b);break}}try{d=cL.call(this,h)}catch(y){return Promise.reject(y)}for(p=0,f=u.length;p<f;)d=d.then(u[p++],u[p++]);return d}getUri(e){e=af(this.defaults,e);const n=AK(e.baseURL,e.url,e.allowAbsoluteUrls);return vK(n,e.params,e.paramsSerializer)}}ae.forEach(["delete","get","head","options"],function(e){Fp.prototype[e]=function(n,r){return this.request(af(r||{},{method:e,url:n,data:(r||{}).data}))}});ae.forEach(["post","put","patch"],function(e){function n(r){return function(i,a,o){return this.request(af(o||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}Fp.prototype[e]=n(),Fp.prototype[e+"Form"]=n(!0)});class fP{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const a=new Promise(o=>{r.subscribe(o),i=o}).then(s);return a.cancel=function(){r.unsubscribe(i)},a},e(function(i,a,o){r.reason||(r.reason=new ly(i,a,o),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new fP(function(s){e=s}),cancel:e}}}function V2e(t){return function(n){return t.apply(null,n)}}function H2e(t){return ae.isObject(t)&&t.isAxiosError===!0}const v6={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(v6).forEach(([t,e])=>{v6[e]=t});function SK(t){const e=new Fp(t),n=aK(Fp.prototype.request,e);return ae.extend(n,Fp.prototype,e,{allOwnKeys:!0}),ae.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return SK(af(t,s))},n}const wn=SK(nb);wn.Axios=Fp;wn.CanceledError=ly;wn.CancelToken=fP;wn.isCancel=wK;wn.VERSION=EK;wn.toFormData=w2;wn.AxiosError=Mt;wn.Cancel=wn.CanceledError;wn.all=function(e){return Promise.all(e)};wn.spread=V2e;wn.isAxiosError=H2e;wn.mergeConfig=af;wn.AxiosHeaders=Ri;wn.formToJSON=t=>xK(ae.isHTMLForm(t)?new FormData(t):t);wn.getAdapter=NK.getAdapter;wn.HttpStatusCode=v6;wn.default=wn;const W2e="http://localhost:3001/api",G2e={async getLicensedIps(t,e,n){var r,s;try{const i=new URLSearchParams;t!==void 0&&i.append("commercialUse",String(t)),e!==void 0&&i.append("maxRoyalty",String(e)),n&&i.append("licenseType",n);const a=await wn.get(`${W2e}/marketplace/licensed`,{params:i});console.log(" Backend response:",a.data);const o=((s=(r=a.data)==null?void 0:r.data)==null?void 0:s.ips)||[];return console.log(` Extracted ${o.length} licensed IPs from backend`),o}catch(i){return console.error("Error fetching licensed IPs:",i),[]}}};var Dd={exports:{}};const K2e="dotenv",Y2e="16.6.1",q2e="Loads environment variables from .env file",Z2e="lib/main.js",X2e="lib/main.d.ts",J2e={".":{types:"./lib/main.d.ts",require:"./lib/main.js",default:"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},Q2e={"dts-check":"tsc --project tests/types/tsconfig.json",lint:"standard",pretest:"npm run lint && npm run dts-check",test:"tap run --allow-empty-coverage --disable-coverage --timeout=60000","test:coverage":"tap run --show-full-coverage --timeout=60000 --coverage-report=text --coverage-report=lcov",prerelease:"npm test",release:"standard-version"},eAe={type:"git",url:"git://github.com/motdotla/dotenv.git"},tAe="https://github.com/motdotla/dotenv#readme",nAe="https://dotenvx.com",rAe=["dotenv","env",".env","environment","variables","config","settings"],sAe="README.md",iAe="BSD-2-Clause",aAe={"@types/node":"^18.11.3",decache:"^4.6.2",sinon:"^14.0.1",standard:"^17.0.0","standard-version":"^9.5.0",tap:"^19.2.0",typescript:"^4.8.4"},oAe={node:">=12"},lAe={fs:!1},cAe={name:K2e,version:Y2e,description:q2e,main:Z2e,types:X2e,exports:J2e,scripts:Q2e,repository:eAe,homepage:tAe,funding:nAe,keywords:rAe,readmeFilename:sAe,license:iAe,devDependencies:aAe,engines:oAe,browser:lAe};var Lg={};const b6=Fv,$1=Fv,uAe=Fv,dAe=Fv,pAe=cAe,hP=pAe.version,fAe=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/mg;function hAe(t){const e={};let n=t.toString();n=n.replace(/\r\n?/mg,`
`);let r;for(;(r=fAe.exec(n))!=null;){const s=r[1];let i=r[2]||"";i=i.trim();const a=i[0];i=i.replace(/^(['"`])([\s\S]*)\1$/mg,"$2"),a==='"'&&(i=i.replace(/\\n/g,`
`),i=i.replace(/\\r/g,"\r")),e[s]=i}return e}function mAe(t){t=t||{};const e=MK(t);t.path=e;const n=Wr.configDotenv(t);if(!n.parsed){const a=new Error(`MISSING_DATA: Cannot parse ${e} for an unknown reason`);throw a.code="MISSING_DATA",a}const r=PK(t).split(","),s=r.length;let i;for(let a=0;a<s;a++)try{const o=r[a].trim(),l=gAe(n,o);i=Wr.decrypt(l.ciphertext,l.key);break}catch(o){if(a+1>=s)throw o}return Wr.parse(i)}function yAe(t){console.log(`[dotenv@${hP}][WARN] ${t}`)}function $g(t){console.log(`[dotenv@${hP}][DEBUG] ${t}`)}function RK(t){console.log(`[dotenv@${hP}] ${t}`)}function PK(t){return t&&t.DOTENV_KEY&&t.DOTENV_KEY.length>0?t.DOTENV_KEY:Lg.DOTENV_KEY&&Lg.DOTENV_KEY.length>0?Lg.DOTENV_KEY:""}function gAe(t,e){let n;try{n=new URL(e)}catch(o){if(o.code==="ERR_INVALID_URL"){const l=new Error("INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenvx.com/vault/.env.vault?environment=development");throw l.code="INVALID_DOTENV_KEY",l}throw o}const r=n.password;if(!r){const o=new Error("INVALID_DOTENV_KEY: Missing key part");throw o.code="INVALID_DOTENV_KEY",o}const s=n.searchParams.get("environment");if(!s){const o=new Error("INVALID_DOTENV_KEY: Missing environment part");throw o.code="INVALID_DOTENV_KEY",o}const i=`DOTENV_VAULT_${s.toUpperCase()}`,a=t.parsed[i];if(!a){const o=new Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${i} in your .env.vault file.`);throw o.code="NOT_FOUND_DOTENV_ENVIRONMENT",o}return{ciphertext:a,key:r}}function MK(t){let e=null;if(t&&t.path&&t.path.length>0)if(Array.isArray(t.path))for(const n of t.path)b6.existsSync(n)&&(e=n.endsWith(".vault")?n:`${n}.vault`);else e=t.path.endsWith(".vault")?t.path:`${t.path}.vault`;else e=$1.resolve(process.cwd(),".env.vault");return b6.existsSync(e)?e:null}function dL(t){return t[0]==="~"?$1.join(uAe.homedir(),t.slice(1)):t}function vAe(t){const e=!!(t&&t.debug),n=t&&"quiet"in t?t.quiet:!0;(e||!n)&&RK("Loading env from encrypted .env.vault");const r=Wr._parseVault(t);let s=Lg;return t&&t.processEnv!=null&&(s=t.processEnv),Wr.populate(s,r,t),{parsed:r}}function bAe(t){const e=$1.resolve(process.cwd(),".env");let n="utf8";const r=!!(t&&t.debug),s=t&&"quiet"in t?t.quiet:!0;t&&t.encoding?n=t.encoding:r&&$g("No encoding is specified. UTF-8 is used by default");let i=[e];if(t&&t.path)if(!Array.isArray(t.path))i=[dL(t.path)];else{i=[];for(const u of t.path)i.push(dL(u))}let a;const o={};for(const u of i)try{const d=Wr.parse(b6.readFileSync(u,{encoding:n}));Wr.populate(o,d,t)}catch(d){r&&$g(`Failed to load ${u} ${d.message}`),a=d}let l=Lg;if(t&&t.processEnv!=null&&(l=t.processEnv),Wr.populate(l,o,t),r||!s){const u=Object.keys(o).length,d=[];for(const p of i)try{const f=$1.relative(process.cwd(),p);d.push(f)}catch(f){r&&$g(`Failed to load ${p} ${f.message}`),a=f}RK(`injecting env (${u}) from ${d.join(",")}`)}return a?{parsed:o,error:a}:{parsed:o}}function xAe(t){if(PK(t).length===0)return Wr.configDotenv(t);const e=MK(t);return e?Wr._configVault(t):(yAe(`You set DOTENV_KEY but you are missing a .env.vault file at ${e}. Did you forget to build it?`),Wr.configDotenv(t))}function wAe(t,e){const n=Buffer.from(e.slice(-64),"hex");let r=Buffer.from(t,"base64");const s=r.subarray(0,12),i=r.subarray(-16);r=r.subarray(12,-16);try{const a=dAe.createDecipheriv("aes-256-gcm",n,s);return a.setAuthTag(i),`${a.update(r)}${a.final()}`}catch(a){const o=a instanceof RangeError,l=a.message==="Invalid key length",u=a.message==="Unsupported state or unable to authenticate data";if(o||l){const d=new Error("INVALID_DOTENV_KEY: It must be 64 characters long (or more)");throw d.code="INVALID_DOTENV_KEY",d}else if(u){const d=new Error("DECRYPTION_FAILED: Please check your DOTENV_KEY");throw d.code="DECRYPTION_FAILED",d}else throw a}}function TAe(t,e,n={}){const r=!!(n&&n.debug),s=!!(n&&n.override);if(typeof e!="object"){const i=new Error("OBJECT_REQUIRED: Please check the processEnv argument being passed to populate");throw i.code="OBJECT_REQUIRED",i}for(const i of Object.keys(e))Object.prototype.hasOwnProperty.call(t,i)?(s===!0&&(t[i]=e[i]),r&&$g(s===!0?`"${i}" is already defined and WAS overwritten`:`"${i}" is already defined and was NOT overwritten`)):t[i]=e[i]}const Wr={configDotenv:bAe,_configVault:vAe,_parseVault:mAe,config:xAe,decrypt:wAe,parse:hAe,populate:TAe};Dd.exports.configDotenv=Wr.configDotenv;Dd.exports._configVault=Wr._configVault;Dd.exports._parseVault=Wr._parseVault;var AAe=Dd.exports.config=Wr.config;Dd.exports.decrypt=Wr.decrypt;Dd.exports.parse=Wr.parse;Dd.exports.populate=Wr.populate;Dd.exports=Wr;const IAe="1.1.0";let Va=class x6 extends Error{constructor(e,n={}){var a;const r=n.cause instanceof x6?n.cause.details:(a=n.cause)!=null&&a.message?n.cause.message:n.details,s=n.cause instanceof x6&&n.cause.docsPath||n.docsPath,i=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${IAe}`].join(`
`);super(i),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=e}};function Xc(t,e){const n=t.exec(e);return n==null?void 0:n.groups}const jK=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,_K=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,DK=/^\(.+?\).*?$/,pL=/^tuple(?<array>(\[(\d*)\])*)$/;function w6(t){let e=t.type;if(pL.test(t.type)&&"components"in t){e="(";const n=t.components.length;for(let s=0;s<n;s++){const i=t.components[s];e+=w6(i),s<n-1&&(e+=", ")}const r=Xc(pL,t.type);return e+=`)${(r==null?void 0:r.array)??""}`,w6({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function Uy(t){let e="";const n=t.length;for(let r=0;r<n;r++){const s=t[r];e+=w6(s),r!==n-1&&(e+=", ")}return e}function kAe(t){var e;return t.type==="function"?`function ${t.name}(${Uy(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${(e=t.outputs)!=null&&e.length?` returns (${Uy(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${Uy(t.inputs)})`:t.type==="error"?`error ${t.name}(${Uy(t.inputs)})`:t.type==="constructor"?`constructor(${Uy(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const OK=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function CAe(t){return OK.test(t)}function NAe(t){return Xc(OK,t)}const LK=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function EAe(t){return LK.test(t)}function SAe(t){return Xc(LK,t)}const $K=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function RAe(t){return $K.test(t)}function PAe(t){return Xc($K,t)}const FK=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function BK(t){return FK.test(t)}function MAe(t){return Xc(FK,t)}const UK=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function jAe(t){return UK.test(t)}function _Ae(t){return Xc(UK,t)}const zK=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function DAe(t){return zK.test(t)}function OAe(t){return Xc(zK,t)}const LAe=/^receive\(\) external payable$/;function $Ae(t){return LAe.test(t)}const FAe=new Set(["indexed"]),T6=new Set(["calldata","memory","storage"]);let BAe=class extends Va{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}},UAe=class extends Va{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}},zAe=class extends Va{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}},VAe=class extends Va{constructor({param:e,name:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}},HAe=class extends Va{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}},WAe=class extends Va{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}},GAe=class extends Va{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}},cy=class extends Va{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}},KAe=class extends Va{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}},YAe=class extends Va{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}},qAe=class extends Va{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}},ZAe=class extends Va{constructor({current:e,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}};function XAe(t,e,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let i="";for(const a of s[1])i+=`[${a.type}${a.name?`:${a.name}`:""}]`;r+=`(${s[0]}{${i}})`}return e?`${e}:${t}${r}`:t}const KI=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function JAe(t,e={}){if(RAe(t))return QAe(t,e);if(EAe(t))return eIe(t,e);if(CAe(t))return tIe(t,e);if(jAe(t))return nIe(t,e);if(DAe(t))return rIe(t);if($Ae(t))return{type:"receive",stateMutability:"payable"};throw new KAe({signature:t})}function QAe(t,e={}){const n=PAe(t);if(!n)throw new cy({signature:t,type:"function"});const r=fo(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(of(r[o],{modifiers:T6,structs:e,type:"function"}));const a=[];if(n.returns){const o=fo(n.returns),l=o.length;for(let u=0;u<l;u++)a.push(of(o[u],{modifiers:T6,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:a}}function eIe(t,e={}){const n=SAe(t);if(!n)throw new cy({signature:t,type:"event"});const r=fo(n.parameters),s=[],i=r.length;for(let a=0;a<i;a++)s.push(of(r[a],{modifiers:FAe,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:s}}function tIe(t,e={}){const n=NAe(t);if(!n)throw new cy({signature:t,type:"error"});const r=fo(n.parameters),s=[],i=r.length;for(let a=0;a<i;a++)s.push(of(r[a],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:s}}function nIe(t,e={}){const n=_Ae(t);if(!n)throw new cy({signature:t,type:"constructor"});const r=fo(n.parameters),s=[],i=r.length;for(let a=0;a<i;a++)s.push(of(r[a],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function rIe(t){const e=OAe(t);if(!e)throw new cy({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const sIe=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,iIe=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,aIe=/^u?int$/;function of(t,e){var p,f;const n=XAe(t,e==null?void 0:e.type,e==null?void 0:e.structs);if(KI.has(n))return KI.get(n);const r=DK.test(t),s=Xc(r?iIe:sIe,t);if(!s)throw new zAe({param:t});if(s.name&&lIe(s.name))throw new VAe({param:t,name:s.name});const i=s.name?{name:s.name}:{},a=s.modifier==="indexed"?{indexed:!0}:{},o=(e==null?void 0:e.structs)??{};let l,u={};if(r){l="tuple";const h=fo(s.type),y=[],m=h.length;for(let b=0;b<m;b++)y.push(of(h[b],{structs:o}));u={components:y}}else if(s.type in o)l="tuple",u={components:o[s.type]};else if(aIe.test(s.type))l=`${s.type}256`;else if(s.type==="address payable")l="address";else if(l=s.type,(e==null?void 0:e.type)!=="struct"&&!VK(l))throw new UAe({type:l});if(s.modifier){if(!((f=(p=e==null?void 0:e.modifiers)==null?void 0:p.has)!=null&&f.call(p,s.modifier)))throw new HAe({param:t,type:e==null?void 0:e.type,modifier:s.modifier});if(T6.has(s.modifier)&&!cIe(l,!!s.array))throw new WAe({param:t,type:e==null?void 0:e.type,modifier:s.modifier})}const d={type:`${l}${s.array??""}`,...i,...a,...u};return KI.set(n,d),d}function fo(t,e=[],n="",r=0){const s=t.trim().length;for(let i=0;i<s;i++){const a=t[i],o=t.slice(i+1);switch(a){case",":return r===0?fo(o,[...e,n.trim()]):fo(o,e,`${n}${a}`,r);case"(":return fo(o,e,`${n}${a}`,r+1);case")":return fo(o,e,`${n}${a}`,r-1);default:return fo(o,e,`${n}${a}`,r)}}if(n==="")return e;if(r!==0)throw new ZAe({current:n,depth:r});return e.push(n.trim()),e}function VK(t){return t==="address"||t==="bool"||t==="function"||t==="string"||jK.test(t)||_K.test(t)}const oIe=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function lIe(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||jK.test(t)||_K.test(t)||oIe.test(t)}function cIe(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function uIe(t){const e={},n=t.length;for(let a=0;a<n;a++){const o=t[a];if(!BK(o))continue;const l=MAe(o);if(!l)throw new cy({signature:o,type:"struct"});const u=l.properties.split(";"),d=[],p=u.length;for(let f=0;f<p;f++){const y=u[f].trim();if(!y)continue;const m=of(y,{type:"struct"});d.push(m)}if(!d.length)throw new YAe({signature:o});e[l.name]=d}const r={},s=Object.entries(e),i=s.length;for(let a=0;a<i;a++){const[o,l]=s[a];r[o]=HK(l,e)}return r}const dIe=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function HK(t,e,n=new Set){const r=[],s=t.length;for(let i=0;i<s;i++){const a=t[i];if(DK.test(a.type))r.push(a);else{const l=Xc(dIe,a.type);if(!(l!=null&&l.type))throw new GAe({abiParameter:a});const{array:u,type:d}=l;if(d in e){if(n.has(d))throw new qAe({type:d});r.push({...a,type:`tuple${u??""}`,components:HK(e[d]??[],e,new Set([...n,d]))})}else if(VK(d))r.push(a);else throw new BAe({type:d})}}return r}function WK(t){const e=uIe(t),n=[],r=t.length;for(let s=0;s<r;s++){const i=t[s];BK(i)||n.push(JAe(i,e))}return n}function Ze(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const s=t[n];return typeof s=="function"?s:i=>e(t,i)}function Mo(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new IIe(t.type);return`${t.name}(${I2(t.inputs,{includeName:e})})`}function I2(t,{includeName:e=!1}={}){return t?t.map(n=>pIe(n,{includeName:e})).join(e?", ":","):""}function pIe(t,{includeName:e}){return t.type.startsWith("tuple")?`(${I2(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}function jl(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function hr(t){return jl(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const GK="2.41.2";let zy={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${GK}`},he=class A6 extends Error{constructor(e,n={}){var o;const r=(()=>{var l;return n.cause instanceof A6?n.cause.details:(l=n.cause)!=null&&l.message?n.cause.message:n.details})(),s=n.cause instanceof A6&&n.cause.docsPath||n.docsPath,i=(o=zy.getDocsUrl)==null?void 0:o.call(zy,{...n,docsPath:s}),a=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...zy.version?[`Version: ${zy.version}`]:[]].join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=GK}walk(e){return KK(this,e)}};function KK(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?KK(t.cause,e):e?null:t}class fIe extends he{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class fL extends he{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class YK extends he{constructor({data:e,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${I2(n,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=r}}class rb extends he{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class hIe extends he{constructor({expectedLength:e,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class mIe extends he{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${hr(n)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class yIe extends he{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class gIe extends he{constructor(e,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class hL extends he{constructor(e,{docsPath:n}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class qK extends he{constructor(e,{docsPath:n}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class vIe extends he{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class ZK extends he{constructor(e,{docsPath:n}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class mL extends he{constructor(e,{docsPath:n}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class km extends he{constructor(e,{docsPath:n}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class XK extends he{constructor(e,{docsPath:n}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class bIe extends he{constructor(e,{docsPath:n}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class xIe extends he{constructor(e,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${Mo(e.abiItem)}\`, and`,`\`${n.type}\` in \`${Mo(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let wIe=class extends he{constructor({expectedSize:e,givenSize:n}){super(`Expected bytes${e}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class B0 extends he{constructor({abiItem:e,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${I2(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=n,this.params=r,this.size=s}}class k2 extends he{constructor({abiItem:e,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${Mo(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class TIe extends he{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class AIe extends he{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let JK=class extends he{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class IIe extends he{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class kIe extends he{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}let QK=class extends he{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},eY=class extends he{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class yL extends he{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}function uy(t,{dir:e,size:n=32}={}){return typeof t=="string"?rd(t,{dir:e,size:n}):CIe(t,{dir:e,size:n})}function rd(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new eY({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function CIe(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new eY({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const i=e==="right";r[i?s:n-s-1]=t[i?s:t.length-s-1]}return r}let tY=class extends he{constructor({max:e,min:n,signed:r,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},NIe=class extends he{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};class EIe extends he{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let SIe=class extends he{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function sd(t,{dir:e="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,r=0;for(let s=0;s<n.length-1&&n[e==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=e==="left"?n.slice(r):n.slice(0,n.length-r),typeof t=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function Fo(t,{size:e}){if(hr(t)>e)throw new SIe({givenSize:hr(t),maxSize:e})}function ra(t,e={}){const{signed:n}=e;e.size&&Fo(t,{size:e.size});const r=BigInt(t);if(!n)return r;const s=(t.length-2)/2,i=(1n<<BigInt(s)*8n-1n)-1n;return r<=i?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function RIe(t,e={}){let n=t;if(e.size&&(Fo(n,{size:e.size}),n=sd(n)),sd(n)==="0x00")return!1;if(sd(n)==="0x01")return!0;throw new EIe(n)}function jo(t,e={}){return Number(ra(t,e))}const PIe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function $a(t,e={}){return typeof t=="number"||typeof t=="bigint"?rt(t,e):typeof t=="string"?lf(t,e):typeof t=="boolean"?nY(t,e):Yr(t,e)}function nY(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Fo(n,{size:e.size}),uy(n,{size:e.size})):n}function Yr(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=PIe[t[s]];const r=`0x${n}`;return typeof e.size=="number"?(Fo(r,{size:e.size}),uy(r,{dir:"right",size:e.size})):r}function rt(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const a=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<a){const l=typeof t=="bigint"?"n":"";throw new tY({max:i?`${i}${l}`:void 0,min:`${a}${l}`,signed:n,size:r,value:`${t}${l}`})}const o=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?uy(o,{size:r}):o}const MIe=new TextEncoder;function lf(t,e={}){const n=MIe.encode(t);return Yr(n,e)}const jIe=new TextEncoder;function dy(t,e={}){return typeof t=="number"||typeof t=="bigint"?DIe(t,e):typeof t=="boolean"?_Ie(t,e):jl(t)?_l(t,e):Bp(t,e)}function _Ie(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(Fo(n,{size:e.size}),uy(n,{size:e.size})):n}const Vl={zero:48,nine:57,A:65,F:70,a:97,f:102};function gL(t){if(t>=Vl.zero&&t<=Vl.nine)return t-Vl.zero;if(t>=Vl.A&&t<=Vl.F)return t-(Vl.A-10);if(t>=Vl.a&&t<=Vl.f)return t-(Vl.a-10)}function _l(t,e={}){let n=t;e.size&&(Fo(n,{size:e.size}),n=uy(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,i=new Uint8Array(s);for(let a=0,o=0;a<s;a++){const l=gL(r.charCodeAt(o++)),u=gL(r.charCodeAt(o++));if(l===void 0||u===void 0)throw new he(`Invalid byte sequence ("${r[o-2]}${r[o-1]}" in "${r}").`);i[a]=l*16+u}return i}function DIe(t,e){const n=rt(t,e);return _l(n)}function Bp(t,e={}){const n=jIe.encode(t);return typeof e.size=="number"?(Fo(n,{size:e.size}),uy(n,{dir:"right",size:e.size})):n}const tx=BigInt(2**32-1),vL=BigInt(32);function OIe(t,e=!1){return e?{h:Number(t&tx),l:Number(t>>vL&tx)}:{h:Number(t>>vL&tx)|0,l:Number(t&tx)|0}}function LIe(t,e=!1){const n=t.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:a,l:o}=OIe(t[i],e);[r[i],s[i]]=[a,o]}return[r,s]}const $Ie=(t,e,n)=>t<<n|e>>>32-n,FIe=(t,e,n)=>e<<n|t>>>32-n,BIe=(t,e,n)=>e<<n-32|t>>>64-n,UIe=(t,e,n)=>t<<n-32|e>>>64-n,Df=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function zIe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function U0(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function cf(t,...e){if(!zIe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function VIe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");U0(t.outputLen),U0(t.blockLen)}function Cm(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function rY(t,e){cf(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function HIe(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Nm(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function YI(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Go(t,e){return t<<32-e|t>>>e}const WIe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function GIe(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function KIe(t){for(let e=0;e<t.length;e++)t[e]=GIe(t[e]);return t}const bL=WIe?t=>t:KIe;function YIe(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function C2(t){return typeof t=="string"&&(t=YIe(t)),cf(t),t}function qIe(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];cf(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}class mP{}function sY(t){const e=r=>t().update(C2(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function ZIe(t=32){if(Df&&typeof Df.getRandomValues=="function")return Df.getRandomValues(new Uint8Array(t));if(Df&&typeof Df.randomBytes=="function")return Uint8Array.from(Df.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const XIe=BigInt(0),Vy=BigInt(1),JIe=BigInt(2),QIe=BigInt(7),eke=BigInt(256),tke=BigInt(113),iY=[],aY=[],oY=[];for(let t=0,e=Vy,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],iY.push(2*(5*r+n)),aY.push((t+1)*(t+2)/2%64);let s=XIe;for(let i=0;i<7;i++)e=(e<<Vy^(e>>QIe)*tke)%eke,e&JIe&&(s^=Vy<<(Vy<<BigInt(i))-Vy);oY.push(s)}const lY=LIe(oY,!0),nke=lY[0],rke=lY[1],xL=(t,e,n)=>n>32?BIe(t,e,n):$Ie(t,e,n),wL=(t,e,n)=>n>32?UIe(t,e,n):FIe(t,e,n);function ske(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let a=0;a<10;a++)n[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){const o=(a+8)%10,l=(a+2)%10,u=n[l],d=n[l+1],p=xL(u,d,1)^n[o],f=wL(u,d,1)^n[o+1];for(let h=0;h<50;h+=10)t[a+h]^=p,t[a+h+1]^=f}let s=t[2],i=t[3];for(let a=0;a<24;a++){const o=aY[a],l=xL(s,i,o),u=wL(s,i,o),d=iY[a];s=t[d],i=t[d+1],t[d]=l,t[d+1]=u}for(let a=0;a<50;a+=10){for(let o=0;o<10;o++)n[o]=t[a+o];for(let o=0;o<10;o++)t[a+o]^=~n[(o+2)%10]&n[(o+4)%10]}t[0]^=nke[r],t[1]^=rke[r]}Nm(n)}class yP extends mP{constructor(e,n,r,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,U0(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=HIe(this.state)}clone(){return this._cloneInto()}keccak(){bL(this.state32),ske(this.state32,this.rounds),bL(this.state32),this.posOut=0,this.pos=0}update(e){Cm(this),e=C2(e),cf(e);const{blockLen:n,state:r}=this,s=e.length;for(let i=0;i<s;){const a=Math.min(n-this.pos,s-i);for(let o=0;o<a;o++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,n&128&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Cm(this,!1),cf(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const a=Math.min(r-this.posOut,i-s);e.set(n.subarray(this.posOut,this.posOut+a),s),this.posOut+=a,s+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return U0(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(rY(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Nm(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:a}=this;return e||(e=new yP(n,r,s,a,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=a,e.destroyed=this.destroyed,e}}const ike=(t,e,n)=>sY(()=>new yP(e,t,n)),cY=ike(1,136,256/8);function ts(t,e){const n=e||"hex",r=cY(jl(t,{strict:!1})?dy(t):t);return n==="bytes"?r:$a(r)}const ake=t=>ts(dy(t));function oke(t){return ake(t)}function lke(t){let e=!0,n="",r=0,s="",i=!1;for(let a=0;a<t.length;a++){const o=t[a];if(["(",")",","].includes(o)&&(e=!0),o==="("&&r++,o===")"&&r--,!!e){if(r===0){if(o===" "&&["event","function",""].includes(s))s="";else if(s+=o,o===")"){i=!0;break}continue}if(o===" "){t[a-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}s+=o,n+=o}}if(!i)throw new he("Unable to normalize signature.");return s}const cke=t=>{const e=typeof t=="string"?t:kAe(t);return lke(e)};function uY(t){return oke(cke(t))}const N2=uY;let Id=class extends he{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},py=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const qI=new py(8192);function sb(t,e){if(qI.has(`${t}.${e}`))return qI.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=ts(Bp(n),"bytes"),s=n.split("");for(let a=0;a<40;a+=2)r[a>>1]>>4>=8&&s[a]&&(s[a]=s[a].toUpperCase()),(r[a>>1]&15)>=8&&s[a+1]&&(s[a+1]=s[a+1].toUpperCase());const i=`0x${s.join("")}`;return qI.set(`${t}.${e}`,i),i}function yp(t,e){if(!ji(t,{strict:!1}))throw new Id({address:t});return sb(t,e)}const uke=/^0x[a-fA-F0-9]{40}$/,ZI=new py(8192);function ji(t,e){const{strict:n=!0}=e??{},r=`${t}.${n}`;if(ZI.has(r))return ZI.get(r);const s=uke.test(t)?t.toLowerCase()===t?!0:n?sb(t)===t:!0:!1;return ZI.set(r,s),s}function Fa(t){return typeof t[0]=="string"?fy(t):dke(t)}function dke(t){let e=0;for(const s of t)e+=s.length;const n=new Uint8Array(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return n}function fy(t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function Em(t,e,n,{strict:r}={}){return jl(t,{strict:!1})?I6(t,e,n,{strict:r}):fY(t,e,n,{strict:r})}function dY(t,e){if(typeof e=="number"&&e>0&&e>hr(t)-1)throw new QK({offset:e,position:"start",size:hr(t)})}function pY(t,e,n){if(typeof e=="number"&&typeof n=="number"&&hr(t)!==n-e)throw new QK({offset:n,position:"end",size:hr(t)})}function fY(t,e,n,{strict:r}={}){dY(t,e);const s=t.slice(e,n);return r&&pY(s,e,n),s}function I6(t,e,n,{strict:r}={}){dY(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return r&&pY(s,e,n),s}const pke=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,hY=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Jc(t,e){if(t.length!==e.length)throw new yIe({expectedLength:t.length,givenLength:e.length});const n=fke({params:t,values:e}),r=vP(n);return r.length===0?"0x":r}function fke({params:t,values:e}){const n=[];for(let r=0;r<t.length;r++)n.push(gP({param:t[r],value:e[r]}));return n}function gP({param:t,value:e}){const n=bP(t.type);if(n){const[r,s]=n;return mke(e,{length:r,param:{...t,type:s}})}if(t.type==="tuple")return xke(e,{param:t});if(t.type==="address")return hke(e);if(t.type==="bool")return gke(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const r=t.type.startsWith("int"),[,,s="256"]=hY.exec(t.type)??[];return vke(e,{signed:r,size:Number(s)})}if(t.type.startsWith("bytes"))return yke(e,{param:t});if(t.type==="string")return bke(e);throw new TIe(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function vP(t){let e=0;for(let i=0;i<t.length;i++){const{dynamic:a,encoded:o}=t[i];a?e+=32:e+=hr(o)}const n=[],r=[];let s=0;for(let i=0;i<t.length;i++){const{dynamic:a,encoded:o}=t[i];a?(n.push(rt(e+s,{size:32})),r.push(o),s+=hr(o)):n.push(o)}return Fa([...n,...r])}function hke(t){if(!ji(t))throw new Id({address:t});return{dynamic:!1,encoded:rd(t.toLowerCase())}}function mke(t,{length:e,param:n}){const r=e===null;if(!Array.isArray(t))throw new JK(t);if(!r&&t.length!==e)throw new hIe({expectedLength:e,givenLength:t.length,type:`${n.type}[${e}]`});let s=!1;const i=[];for(let a=0;a<t.length;a++){const o=gP({param:n,value:t[a]});o.dynamic&&(s=!0),i.push(o)}if(r||s){const a=vP(i);if(r){const o=rt(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?Fa([o,a]):o}}if(s)return{dynamic:!0,encoded:a}}return{dynamic:!1,encoded:Fa(i.map(({encoded:a})=>a))}}function yke(t,{param:e}){const[,n]=e.type.split("bytes"),r=hr(t);if(!n){let s=t;return r%32!==0&&(s=rd(s,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:Fa([rd(rt(r,{size:32})),s])}}if(r!==Number.parseInt(n,10))throw new mIe({expectedSize:Number.parseInt(n,10),value:t});return{dynamic:!1,encoded:rd(t,{dir:"right"})}}function gke(t){if(typeof t!="boolean")throw new he(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:rd(nY(t))}}function vke(t,{signed:e,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,s=e?-r-1n:0n;if(t>r||t<s)throw new tY({max:r.toString(),min:s.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:rt(t,{size:32,signed:e})}}function bke(t){const e=lf(t),n=Math.ceil(hr(e)/32),r=[];for(let s=0;s<n;s++)r.push(rd(Em(e,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Fa([rd(rt(hr(e),{size:32})),...r])}}function xke(t,{param:e}){let n=!1;const r=[];for(let s=0;s<e.components.length;s++){const i=e.components[s],a=Array.isArray(t)?s:i.name,o=gP({param:i,value:t[a]});r.push(o),o.dynamic&&(n=!0)}return{dynamic:n,encoded:n?vP(r):Fa(r.map(({encoded:s})=>s))}}function bP(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}const go=t=>Em(uY(t),0,4);function Nf(t){const{abi:e,args:n=[],name:r}=t,s=jl(r,{strict:!1}),i=e.filter(o=>s?o.type==="function"?go(o)===r:o.type==="event"?N2(o)===r:!1:"name"in o&&o.name===r);if(i.length===0)return;if(i.length===1)return i[0];let a;for(const o of i){if(!("inputs"in o))continue;if(!n||n.length===0){if(!o.inputs||o.inputs.length===0)return o;continue}if(!o.inputs||o.inputs.length===0||o.inputs.length!==n.length)continue;if(n.every((u,d)=>{const p="inputs"in o&&o.inputs[d];return p?k6(u,p):!1})){if(a&&"inputs"in a&&a.inputs){const u=mY(o.inputs,a.inputs,n);if(u)throw new xIe({abiItem:o,type:u[0]},{abiItem:a,type:u[1]})}a=o}}return a||i[0]}function k6(t,e){const n=typeof t,r=e.type;switch(r){case"address":return ji(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((s,i)=>k6(Object.values(t)[i],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(s=>k6(s,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function mY(t,e,n){for(const r in t){const s=t[r],i=e[r];if(s.type==="tuple"&&i.type==="tuple"&&"components"in s&&"components"in i)return mY(s.components,i.components,n[r]);const a=[s.type,i.type];if(a.includes("address")&&a.includes("bytes20")?!0:a.includes("address")&&a.includes("string")?ji(n[r],{strict:!1}):a.includes("address")&&a.includes("bytes")?ji(n[r],{strict:!1}):!1)return a}}const TL="/docs/contract/encodeEventTopics";function ib(t){var l;const{abi:e,eventName:n,args:r}=t;let s=e[0];if(n){const u=Nf({abi:e,name:n});if(!u)throw new mL(n,{docsPath:TL});s=u}if(s.type!=="event")throw new mL(void 0,{docsPath:TL});const i=Mo(s),a=N2(i);let o=[];if(r&&"inputs"in s){const u=(l=s.inputs)==null?void 0:l.filter(p=>"indexed"in p&&p.indexed),d=Array.isArray(r)?r:Object.values(r).length>0?(u==null?void 0:u.map(p=>r[p.name]))??[]:[];d.length>0&&(o=(u==null?void 0:u.map((p,f)=>Array.isArray(d[f])?d[f].map((h,y)=>AL({param:p,value:d[f][y]})):typeof d[f]<"u"&&d[f]!==null?AL({param:p,value:d[f]}):null))??[])}return[a,...o]}function AL({param:t,value:e}){if(t.type==="string"||t.type==="bytes")return ts(dy(e));if(t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/))throw new kIe(t.type);return Jc([t],[e])}function E2(t,{method:e}){var r,s;const n={};return t.transport.type==="fallback"&&((s=(r=t.transport).onResponse)==null||s.call(r,({method:i,response:a,status:o,transport:l})=>{o==="success"&&e===i&&(n[a]=l.request)})),i=>n[i]||t.request}async function yY(t,e){const{address:n,abi:r,args:s,eventName:i,fromBlock:a,strict:o,toBlock:l}=e,u=E2(t,{method:"eth_newFilter"}),d=i?ib({abi:r,args:s,eventName:i}):void 0,p=await t.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof a=="bigint"?rt(a):a,toBlock:typeof l=="bigint"?rt(l):l,topics:d}]});return{abi:r,args:s,eventName:i,id:p,request:u(p),strict:!!o,type:"event"}}function Yn(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}const IL="/docs/contract/encodeFunctionData";function wke(t){const{abi:e,args:n,functionName:r}=t;let s=e[0];if(r){const i=Nf({abi:e,args:n,name:r});if(!i)throw new km(r,{docsPath:IL});s=i}if(s.type!=="function")throw new km(void 0,{docsPath:IL});return{abi:[s],functionName:go(Mo(s))}}function pe(t){const{args:e}=t,{abi:n,functionName:r}=(()=>{var o;return t.abi.length===1&&((o=t.functionName)!=null&&o.startsWith("0x"))?t:wke(t)})(),s=n[0],i=r,a="inputs"in s&&s.inputs?Jc(s.inputs,e??[]):void 0;return fy([i,a??"0x"])}const Tke={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},gY={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Ake={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};let kL=class extends he{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}},vY=class extends he{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}},Ike=class extends he{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}};const kke={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Ike({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new vY({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new kL({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new kL({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function xP(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(kke);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}function Cke(t,e={}){typeof e.size<"u"&&Fo(t,{size:e.size});const n=Yr(t,e);return ra(n,e)}function Nke(t,e={}){let n=t;if(typeof e.size<"u"&&(Fo(n,{size:e.size}),n=sd(n)),n.length>1||n[0]>1)throw new NIe(n);return!!n[0]}function kc(t,e={}){typeof e.size<"u"&&Fo(t,{size:e.size});const n=Yr(t,e);return jo(n,e)}function Eke(t,e={}){let n=t;return typeof e.size<"u"&&(Fo(n,{size:e.size}),n=sd(n,{dir:"right"})),new TextDecoder().decode(n)}function ab(t,e){const n=typeof e=="string"?_l(e):e,r=xP(n);if(hr(n)===0&&t.length>0)throw new rb;if(hr(e)&&hr(e)<32)throw new YK({data:typeof e=="string"?e:Yr(e),params:t,size:hr(e)});let s=0;const i=[];for(let a=0;a<t.length;++a){const o=t[a];r.setPosition(s);const[l,u]=$h(r,o,{staticPosition:0});s+=u,i.push(l)}return i}function $h(t,e,{staticPosition:n}){const r=bP(e.type);if(r){const[s,i]=r;return Rke(t,{...e,type:i},{length:s,staticPosition:n})}if(e.type==="tuple")return _ke(t,e,{staticPosition:n});if(e.type==="address")return Ske(t);if(e.type==="bool")return Pke(t);if(e.type.startsWith("bytes"))return Mke(t,e,{staticPosition:n});if(e.type.startsWith("uint")||e.type.startsWith("int"))return jke(t,e);if(e.type==="string")return Dke(t,{staticPosition:n});throw new AIe(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const CL=32,C6=32;function Ske(t){const e=t.readBytes(32);return[sb(Yr(fY(e,-20))),32]}function Rke(t,e,{length:n,staticPosition:r}){if(!n){const a=kc(t.readBytes(C6)),o=r+a,l=o+CL;t.setPosition(o);const u=kc(t.readBytes(CL)),d=z0(e);let p=0;const f=[];for(let h=0;h<u;++h){t.setPosition(l+(d?h*32:p));const[y,m]=$h(t,e,{staticPosition:l});p+=m,f.push(y)}return t.setPosition(r+32),[f,32]}if(z0(e)){const a=kc(t.readBytes(C6)),o=r+a,l=[];for(let u=0;u<n;++u){t.setPosition(o+u*32);const[d]=$h(t,e,{staticPosition:o});l.push(d)}return t.setPosition(r+32),[l,32]}let s=0;const i=[];for(let a=0;a<n;++a){const[o,l]=$h(t,e,{staticPosition:r+s});s+=l,i.push(o)}return[i,s]}function Pke(t){return[Nke(t.readBytes(32),{size:32}),32]}function Mke(t,e,{staticPosition:n}){const[r,s]=e.type.split("bytes");if(!s){const a=kc(t.readBytes(32));t.setPosition(n+a);const o=kc(t.readBytes(32));if(o===0)return t.setPosition(n+32),["0x",32];const l=t.readBytes(o);return t.setPosition(n+32),[Yr(l),32]}return[Yr(t.readBytes(Number.parseInt(s,10),32)),32]}function jke(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256",10),s=t.readBytes(32);return[r>48?Cke(s,{signed:n}):kc(s,{signed:n}),32]}function _ke(t,e,{staticPosition:n}){const r=e.components.length===0||e.components.some(({name:a})=>!a),s=r?[]:{};let i=0;if(z0(e)){const a=kc(t.readBytes(C6)),o=n+a;for(let l=0;l<e.components.length;++l){const u=e.components[l];t.setPosition(o+i);const[d,p]=$h(t,u,{staticPosition:o});i+=p,s[r?l:u==null?void 0:u.name]=d}return t.setPosition(n+32),[s,32]}for(let a=0;a<e.components.length;++a){const o=e.components[a],[l,u]=$h(t,o,{staticPosition:n});s[r?a:o==null?void 0:o.name]=l,i+=u}return[s,i]}function Dke(t,{staticPosition:e}){const n=kc(t.readBytes(32)),r=e+n;t.setPosition(r);const s=kc(t.readBytes(32));if(s===0)return t.setPosition(e+32),["",32];const i=t.readBytes(s,32),a=Eke(sd(i));return t.setPosition(e+32),[a,32]}function z0(t){var r;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(r=t.components)==null?void 0:r.some(z0);const n=bP(t.type);return!!(n&&z0({...t,type:n[1]}))}function Oke(t){const{abi:e,data:n}=t,r=Em(n,0,4);if(r==="0x")throw new rb;const i=[...e||[],gY,Ake].find(a=>a.type==="error"&&r===go(Mo(a)));if(!i)throw new qK(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:i,args:"inputs"in i&&i.inputs&&i.inputs.length>0?ab(i.inputs,Em(n,4)):void 0,errorName:i.name}}const Gr=(t,e,n)=>JSON.stringify(t,(r,s)=>typeof s=="bigint"?s.toString():s,n);function bY({abiItem:t,args:e,includeFunctionName:n=!0,includeName:r=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${n?t.name:""}(${t.inputs.map((s,i)=>`${r&&s.name?`${s.name}: `:""}${typeof e[i]=="object"?Gr(e[i]):e[i]}`).join(", ")})`}const Lke={gwei:9,wei:18},$ke={ether:-9,wei:9};function xY(t,e){let n=t.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(e,"0");let[s,i]=[n.slice(0,n.length-e),n.slice(n.length-e)];return i=i.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${i?`.${i}`:""}`}function S2(t,e="wei"){return xY(t,Lke[e])}function Pi(t,e="wei"){return xY(t,$ke[e])}class Fke extends he{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class Bke extends he{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function NL(t){return t.reduce((e,{slot:n,value:r})=>`${e}        ${n}: ${r}
`,"")}function Uke(t){return t.reduce((e,{address:n,...r})=>{let s=`${e}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=NL(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=NL(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function ob(t){const e=Object.entries(t).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=e.reduce((r,[s])=>Math.max(r,s.length),0);return e.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class zke extends he{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",ob(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class Vke extends he{constructor(e,{account:n,docsPath:r,chain:s,data:i,gas:a,gasPrice:o,maxFeePerGas:l,maxPriorityFeePerGas:u,nonce:d,to:p,value:f}){var y;const h=ob({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:n==null?void 0:n.address,to:p,value:typeof f<"u"&&`${S2(f)} ${((y=s==null?void 0:s.nativeCurrency)==null?void 0:y.symbol)||"ETH"}`,data:i,gas:a,gasPrice:typeof o<"u"&&`${Pi(o)} gwei`,maxFeePerGas:typeof l<"u"&&`${Pi(l)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Pi(u)} gwei`,nonce:d});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",h].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class wY extends he{constructor({blockHash:e,blockNumber:n,blockTag:r,hash:s,index:i}){let a="Transaction";r&&i!==void 0&&(a=`Transaction at block time "${r}" at index "${i}"`),e&&i!==void 0&&(a=`Transaction at block hash "${e}" at index "${i}"`),n&&i!==void 0&&(a=`Transaction at block number "${n}" at index "${i}"`),s&&(a=`Transaction with hash "${s}"`),super(`${a} could not be found.`,{name:"TransactionNotFoundError"})}}class TY extends he{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class AY extends he{constructor({receipt:e}){super(`Transaction with hash "${e.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=e}}class Hke extends he{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const Wke=t=>t,wP=t=>t;class IY extends he{constructor(e,{account:n,docsPath:r,chain:s,data:i,gas:a,gasPrice:o,maxFeePerGas:l,maxPriorityFeePerGas:u,nonce:d,to:p,value:f,stateOverride:h}){var b;const y=n?Yn(n):void 0;let m=ob({from:y==null?void 0:y.address,to:p,value:typeof f<"u"&&`${S2(f)} ${((b=s==null?void 0:s.nativeCurrency)==null?void 0:b.symbol)||"ETH"}`,data:i,gas:a,gasPrice:typeof o<"u"&&`${Pi(o)} gwei`,maxFeePerGas:typeof l<"u"&&`${Pi(l)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Pi(u)} gwei`,nonce:d});h&&(m+=`
${Uke(h)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",m].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class kY extends he{constructor(e,{abi:n,args:r,contractAddress:s,docsPath:i,functionName:a,sender:o}){const l=Nf({abi:n,args:r,name:a}),u=l?bY({abiItem:l,args:r,includeFunctionName:!1,includeName:!1}):void 0,d=l?Mo(l,{includeName:!0}):void 0,p=ob({address:s&&Wke(s),function:d,args:u&&u!=="()"&&`${[...Array((a==null?void 0:a.length)??0).keys()].map(()=>" ").join("")}${u}`,sender:o});super(e.shortMessage||`An unknown error occurred while executing the contract function "${a}".`,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],p&&"Contract Call:",p].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=e,this.contractAddress=s,this.functionName=a,this.sender=o}}class N6 extends he{constructor({abi:e,data:n,functionName:r,message:s}){let i,a,o,l;if(n&&n!=="0x")try{a=Oke({abi:e,data:n});const{abiItem:d,errorName:p,args:f}=a;if(p==="Error")l=f[0];else if(p==="Panic"){const[h]=f;l=Tke[h]}else{const h=d?Mo(d,{includeName:!0}):void 0,y=d&&f?bY({abiItem:d,args:f,includeFunctionName:!1,includeName:!1}):void 0;o=[h?`Error: ${h}`:"",y&&y!=="()"?`       ${[...Array((p==null?void 0:p.length)??0).keys()].map(()=>" ").join("")}${y}`:""]}}catch(d){i=d}else s&&(l=s);let u;i instanceof qK&&(u=i.signature,o=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(l&&l!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,l||u].join(`
`):`The contract function "${r}" reverted.`,{cause:i,metaMessages:o,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=a,this.raw=n,this.reason=l,this.signature=u}}class Gke extends he{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class Kke extends he{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class R2 extends he{constructor({data:e,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}class Fg extends he{constructor({body:e,cause:n,details:r,headers:s,status:i,url:a}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[i&&`Status: ${i}`,`URL: ${wP(a)}`,e&&`Request body: ${Gr(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=s,this.status=i,this.url=a}}class TP extends he{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${wP(r)}`,`Request body: ${Gr(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data,this.url=r}}class EL extends he{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${wP(n)}`,`Request body: ${Gr(e)}`],name:"TimeoutError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=n}}const Yke=-1;class _i extends he{constructor(e,{code:n,docsPath:r,metaMessages:s,name:i,shortMessage:a}){super(a,{cause:e,docsPath:r,metaMessages:s||(e==null?void 0:e.metaMessages),name:i||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=i||e.name,this.code=e instanceof TP?e.code:n??Yke}}class la extends _i{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class V0 extends _i{constructor(e){super(e,{code:V0.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(V0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class H0 extends _i{constructor(e){super(e,{code:H0.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(H0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class W0 extends _i{constructor(e,{method:n}={}){super(e,{code:W0.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(W0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class G0 extends _i{constructor(e){super(e,{code:G0.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(G0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class uf extends _i{constructor(e){super(e,{code:uf.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(uf,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class kd extends _i{constructor(e){super(e,{code:kd.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(kd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class K0 extends _i{constructor(e){super(e,{code:K0.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(K0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class id extends _i{constructor(e){super(e,{code:id.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(id,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Y0 extends _i{constructor(e){super(e,{code:Y0.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Y0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class gp extends _i{constructor(e,{method:n}={}){super(e,{code:gp.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(gp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Sm extends _i{constructor(e){super(e,{code:Sm.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Sm,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class q0 extends _i{constructor(e){super(e,{code:q0.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(q0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Vs extends la{constructor(e){super(e,{code:Vs.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(Vs,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Z0 extends la{constructor(e){super(e,{code:Z0.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(Z0,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class X0 extends la{constructor(e,{method:n}={}){super(e,{code:X0.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(X0,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class J0 extends la{constructor(e){super(e,{code:J0.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(J0,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Q0 extends la{constructor(e){super(e,{code:Q0.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Q0,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class df extends la{constructor(e){super(e,{code:df.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(df,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Rm extends la{constructor(e){super(e,{code:Rm.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Rm,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class ev extends la{constructor(e){super(e,{code:ev.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(ev,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class tv extends la{constructor(e){super(e,{code:tv.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(tv,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class nv extends la{constructor(e){super(e,{code:nv.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(nv,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class rv extends la{constructor(e){super(e,{code:rv.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(rv,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class sv extends la{constructor(e){super(e,{code:sv.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(sv,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Pm extends la{constructor(e){super(e,{code:Pm.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Pm,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class qke extends _i{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const Zke=3;function pf(t,{abi:e,address:n,args:r,docsPath:s,functionName:i,sender:a}){const o=t instanceof R2?t:t instanceof he?t.walk(y=>"data"in y)||t.walk():{},{code:l,data:u,details:d,message:p,shortMessage:f}=o,h=t instanceof rb?new Gke({functionName:i}):[Zke,uf.code].includes(l)&&(u||d||p||f)||l===kd.code&&d==="execution reverted"&&u?new N6({abi:e,data:typeof u=="object"?u.data:u,functionName:i,message:o instanceof TP?d:f??p}):t;return new kY(h,{abi:e,args:r,contractAddress:n,docsPath:s,functionName:i,sender:a})}function Xke(t){const e=ts(`0x${t.substring(4)}`).substring(26);return sb(`0x${e}`)}const Jke="modulepreload",Qke=function(t){return"/"+t},SL={},Qt=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=Qke(l),l in SL)return;SL[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":Jke,u||(p.as="script"),p.crossOrigin="",p.href=l,o&&p.setAttribute("nonce",o),document.head.appendChild(p),u)return new Promise((f,h)=>{p.addEventListener("load",f),p.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})};async function eCe({hash:t,signature:e}){const n=jl(t)?t:$a(t),{secp256k1:r}=await Qt(async()=>{const{secp256k1:a}=await Promise.resolve().then(()=>Z5e);return{secp256k1:a}},void 0);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:u,s:d,v:p,yParity:f}=e,h=Number(f??p),y=RL(h);return new r.Signature(ra(u),ra(d)).addRecoveryBit(y)}const a=jl(e)?e:$a(e);if(hr(a)!==65)throw new Error("invalid signature length");const o=jo(`0x${a.slice(130)}`),l=RL(o);return r.Signature.fromCompact(a.substring(2,130)).addRecoveryBit(l)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function RL(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function CY({hash:t,signature:e}){return Xke(await eCe({hash:t,signature:e}))}function tCe(t,e="hex"){const n=NY(t),r=xP(new Uint8Array(n.length));return n.encode(r),e==="hex"?Yr(r.bytes):r.bytes}function NY(t){return Array.isArray(t)?nCe(t.map(e=>NY(e))):rCe(t)}function nCe(t){const e=t.reduce((s,i)=>s+i.length,0),n=EY(e);return{length:e<=55?1+e:1+n+e,encode(s){e<=55?s.pushByte(192+e):(s.pushByte(247+n),n===1?s.pushUint8(e):n===2?s.pushUint16(e):n===3?s.pushUint24(e):s.pushUint32(e));for(const{encode:i}of t)i(s)}}}function rCe(t){const e=typeof t=="string"?_l(t):t,n=EY(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length,encode(s){e.length===1&&e[0]<128?s.pushBytes(e):e.length<=55?(s.pushByte(128+e.length),s.pushBytes(e)):(s.pushByte(183+n),n===1?s.pushUint8(e.length):n===2?s.pushUint16(e.length):n===3?s.pushUint24(e.length):s.pushUint32(e.length),s.pushBytes(e))}}}function EY(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new he("Length is too large.")}function sCe(t){const{chainId:e,nonce:n,to:r}=t,s=t.contractAddress??t.address,i=ts(fy(["0x05",tCe([e?rt(e):"0x",s,n?rt(n):"0x"])]));return r==="bytes"?_l(i):i}async function P2(t){const{authorization:e,signature:n}=t;return CY({hash:sCe(e),signature:n??e})}class iCe extends he{constructor(e,{account:n,docsPath:r,chain:s,data:i,gas:a,gasPrice:o,maxFeePerGas:l,maxPriorityFeePerGas:u,nonce:d,to:p,value:f}){var y;const h=ob({from:n==null?void 0:n.address,to:p,value:typeof f<"u"&&`${S2(f)} ${((y=s==null?void 0:s.nativeCurrency)==null?void 0:y.symbol)||"ETH"}`,data:i,gas:a,gasPrice:typeof o<"u"&&`${Pi(o)} gwei`,maxFeePerGas:typeof l<"u"&&`${Pi(l)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Pi(u)} gwei`,nonce:d});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",h].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class wh extends he{constructor({cause:e,message:n}={}){var s;const r=(s=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(wh,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(wh,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class F1 extends he{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Pi(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(F1,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class E6 extends he{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Pi(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(E6,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class S6 extends he{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(S6,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class R6 extends he{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(R6,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class P6 extends he{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(P6,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class M6 extends he{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(M6,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class j6 extends he{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(j6,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class _6 extends he{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(_6,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class D6 extends he{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(D6,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class B1 extends he{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${Pi(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${Pi(r)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(B1,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class lb extends he{constructor({cause:e}){super(`An error occurred while executing: ${e==null?void 0:e.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function M2(t,e){const n=(t.details||"").toLowerCase(),r=t instanceof he?t.walk(s=>(s==null?void 0:s.code)===wh.code):t;return r instanceof he?new wh({cause:t,message:r.details}):wh.nodeMessage.test(n)?new wh({cause:t,message:t.details}):F1.nodeMessage.test(n)?new F1({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):E6.nodeMessage.test(n)?new E6({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):S6.nodeMessage.test(n)?new S6({cause:t,nonce:e==null?void 0:e.nonce}):R6.nodeMessage.test(n)?new R6({cause:t,nonce:e==null?void 0:e.nonce}):P6.nodeMessage.test(n)?new P6({cause:t,nonce:e==null?void 0:e.nonce}):M6.nodeMessage.test(n)?new M6({cause:t}):j6.nodeMessage.test(n)?new j6({cause:t,gas:e==null?void 0:e.gas}):_6.nodeMessage.test(n)?new _6({cause:t,gas:e==null?void 0:e.gas}):D6.nodeMessage.test(n)?new D6({cause:t}):B1.nodeMessage.test(n)?new B1({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas,maxPriorityFeePerGas:e==null?void 0:e.maxPriorityFeePerGas}):new lb({cause:t})}function aCe(t,{docsPath:e,...n}){const r=(()=>{const s=M2(t,n);return s instanceof lb?t:s})();return new iCe(r,{docsPath:e,...n})}function hy(t,{format:e}){if(!e)return{};const n={};function r(i){const a=Object.keys(i);for(const o of a)o in t&&(n[o]=t[o]),i[o]&&typeof i[o]=="object"&&!Array.isArray(i[o])&&r(i[o])}const s=e(t||{});return r(s),n}const oCe={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function Od(t,e){const n={};return typeof t.authorizationList<"u"&&(n.authorizationList=lCe(t.authorizationList)),typeof t.accessList<"u"&&(n.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(n.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?n.blobs=t.blobs.map(r=>Yr(r)):n.blobs=t.blobs),typeof t.data<"u"&&(n.data=t.data),t.account&&(n.from=t.account.address),typeof t.from<"u"&&(n.from=t.from),typeof t.gas<"u"&&(n.gas=rt(t.gas)),typeof t.gasPrice<"u"&&(n.gasPrice=rt(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=rt(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(n.maxFeePerGas=rt(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=rt(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(n.nonce=rt(t.nonce)),typeof t.to<"u"&&(n.to=t.to),typeof t.type<"u"&&(n.type=oCe[t.type]),typeof t.value<"u"&&(n.value=rt(t.value)),n}function lCe(t){return t.map(e=>({address:e.address,r:e.r?rt(BigInt(e.r)):e.r,s:e.s?rt(BigInt(e.s)):e.s,chainId:rt(e.chainId),nonce:rt(e.nonce),...typeof e.yParity<"u"?{yParity:rt(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:rt(e.v)}:{}}))}function PL(t){if(!(!t||t.length===0))return t.reduce((e,{slot:n,value:r})=>{if(n.length!==66)throw new yL({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new yL({size:r.length,targetSize:66,type:"hex"});return e[n]=r,e},{})}function cCe(t){const{balance:e,nonce:n,state:r,stateDiff:s,code:i}=t,a={};if(i!==void 0&&(a.code=i),e!==void 0&&(a.balance=rt(e)),n!==void 0&&(a.nonce=rt(n)),r!==void 0&&(a.state=PL(r)),s!==void 0){if(a.state)throw new Bke;a.stateDiff=PL(s)}return a}function AP(t){if(!t)return;const e={};for(const{address:n,...r}of t){if(!ji(n,{strict:!1}))throw new Id({address:n});if(e[n])throw new Fke({address:n});e[n]=cCe(r)}return e}const uCe=2n**32n-1n,iv=2n**256n-1n;function Qc(t){const{account:e,maxFeePerGas:n,maxPriorityFeePerGas:r,to:s}=t,i=e?Yn(e):void 0;if(i&&!ji(i.address))throw new Id({address:i.address});if(s&&!ji(s))throw new Id({address:s});if(n&&n>iv)throw new F1({maxFeePerGas:n});if(r&&n&&r>n)throw new B1({maxFeePerGas:n,maxPriorityFeePerGas:r})}class SY extends he{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class IP extends he{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class dCe extends he{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Pi(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class RY extends he{constructor({blockHash:e,blockNumber:n}){let r="Block";e&&(r=`Block at hash "${e}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const PY={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function kP(t,e){const n={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?jo(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?jo(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?PY[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(n.authorizationList=pCe(t.authorizationList)),n.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof n.v=="bigint"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type==="legacy"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type==="eip2930"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type==="eip1559"&&delete n.maxFeePerBlobGas,n}function pCe(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function MY(t,e){const n=(t.transactions??[]).map(r=>typeof r=="string"?r:kP(r));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:n,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}async function vo(t,{blockHash:e,blockNumber:n,blockTag:r=t.experimental_blockTag??"latest",includeTransactions:s}={}){var u,d,p;const i=s??!1,a=n!==void 0?rt(n):void 0;let o=null;if(e?o=await t.request({method:"eth_getBlockByHash",params:[e,i]},{dedupe:!0}):o=await t.request({method:"eth_getBlockByNumber",params:[a||r,i]},{dedupe:!!a}),!o)throw new RY({blockHash:e,blockNumber:n});return(((p=(d=(u=t.chain)==null?void 0:u.formatters)==null?void 0:d.block)==null?void 0:p.format)||MY)(o,"getBlock")}async function CP(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function fCe(t,e){return jY(t,e)}async function jY(t,e){var i,a;const{block:n,chain:r=t.chain,request:s}=e||{};try{const o=((i=r==null?void 0:r.fees)==null?void 0:i.maxPriorityFeePerGas)??((a=r==null?void 0:r.fees)==null?void 0:a.defaultPriorityFee);if(typeof o=="function"){const u=n||await Ze(t,vo,"getBlock")({}),d=await o({block:u,client:t,request:s});if(d===null)throw new Error;return d}if(typeof o<"u")return o;const l=await t.request({method:"eth_maxPriorityFeePerGas"});return ra(l)}catch{const[o,l]=await Promise.all([n?Promise.resolve(n):Ze(t,vo,"getBlock")({}),Ze(t,CP,"getGasPrice")({})]);if(typeof o.baseFeePerGas!="bigint")throw new IP;const u=l-o.baseFeePerGas;return u<0n?0n:u}}async function hCe(t,e){return O6(t,e)}async function O6(t,e){var f,h;const{block:n,chain:r=t.chain,request:s,type:i="eip1559"}=e||{},a=await(async()=>{var y,m;return typeof((y=r==null?void 0:r.fees)==null?void 0:y.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:t,request:s}):((m=r==null?void 0:r.fees)==null?void 0:m.baseFeeMultiplier)??1.2})();if(a<1)throw new SY;const l=10**(((f=a.toString().split(".")[1])==null?void 0:f.length)??0),u=y=>y*BigInt(Math.ceil(a*l))/BigInt(l),d=n||await Ze(t,vo,"getBlock")({});if(typeof((h=r==null?void 0:r.fees)==null?void 0:h.estimateFeesPerGas)=="function"){const y=await r.fees.estimateFeesPerGas({block:n,client:t,multiply:u,request:s,type:i});if(y!==null)return y}if(i==="eip1559"){if(typeof d.baseFeePerGas!="bigint")throw new IP;const y=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await jY(t,{block:d,chain:r,request:s}),m=u(d.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??m+y,maxPriorityFeePerGas:y}}return{gasPrice:(s==null?void 0:s.gasPrice)??u(await Ze(t,CP,"getGasPrice")({}))}}async function NP(t,{address:e,blockTag:n="latest",blockNumber:r}){const s=await t.request({method:"eth_getTransactionCount",params:[e,typeof r=="bigint"?rt(r):n]},{dedupe:!!r});return jo(s)}function _Y(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(i=>_l(i)):t.blobs,s=[];for(const i of r)s.push(Uint8Array.from(e.blobToKzgCommitment(i)));return n==="bytes"?s:s.map(i=>Yr(i))}function DY(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(a=>_l(a)):t.blobs,s=typeof t.commitments[0]=="string"?t.commitments.map(a=>_l(a)):t.commitments,i=[];for(let a=0;a<r.length;a++){const o=r[a],l=s[a];i.push(Uint8Array.from(e.computeBlobKzgProof(o,l)))}return n==="bytes"?i:i.map(a=>Yr(a))}function mCe(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),a=Number(n>>s&i),o=Number(n&i),l=r?4:0,u=r?0:4;t.setUint32(e+l,a,r),t.setUint32(e+u,o,r)}function yCe(t,e,n){return t&e^~t&n}function gCe(t,e,n){return t&e^t&n^e&n}class vCe extends mP{constructor(e,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(e),this.view=YI(this.buffer)}update(e){Cm(this),e=C2(e),cf(e);const{view:n,buffer:r,blockLen:s}=this,i=e.length;for(let a=0;a<i;){const o=Math.min(s-this.pos,i-a);if(o===s){const l=YI(e);for(;s<=i-a;a+=s)this.process(l,a);continue}r.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Cm(this),rY(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:a}=this;n[a++]=128,Nm(this.buffer.subarray(a)),this.padOffset>s-a&&(this.process(r,0),a=0);for(let p=a;p<s;p++)n[p]=0;mCe(r,s-8,BigInt(this.length*8),i),this.process(r,0);const o=YI(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=l/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<u;p++)o.setUint32(4*p,d[p],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:a,pos:o}=this;return e.destroyed=a,e.finished=i,e.length=s,e.pos=o,s%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const lu=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),bCe=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),cu=new Uint32Array(64);class xCe extends vCe{constructor(e=32){super(64,e,8,!1),this.A=lu[0]|0,this.B=lu[1]|0,this.C=lu[2]|0,this.D=lu[3]|0,this.E=lu[4]|0,this.F=lu[5]|0,this.G=lu[6]|0,this.H=lu[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:a,G:o,H:l}=this;return[e,n,r,s,i,a,o,l]}set(e,n,r,s,i,a,o,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=a|0,this.G=o|0,this.H=l|0}process(e,n){for(let p=0;p<16;p++,n+=4)cu[p]=e.getUint32(n,!1);for(let p=16;p<64;p++){const f=cu[p-15],h=cu[p-2],y=Go(f,7)^Go(f,18)^f>>>3,m=Go(h,17)^Go(h,19)^h>>>10;cu[p]=m+cu[p-7]+y+cu[p-16]|0}let{A:r,B:s,C:i,D:a,E:o,F:l,G:u,H:d}=this;for(let p=0;p<64;p++){const f=Go(o,6)^Go(o,11)^Go(o,25),h=d+f+yCe(o,l,u)+bCe[p]+cu[p]|0,m=(Go(r,2)^Go(r,13)^Go(r,22))+gCe(r,s,i)|0;d=u,u=l,l=o,o=a+h|0,a=i,i=s,s=r,r=h+m|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,a=a+this.D|0,o=o+this.E|0,l=l+this.F|0,u=u+this.G|0,d=d+this.H|0,this.set(r,s,i,a,o,l,u,d)}roundClean(){Nm(cu)}destroy(){this.set(0,0,0,0,0,0,0,0),Nm(this.buffer)}}const OY=sY(()=>new xCe),wCe=OY;function TCe(t,e){return wCe(jl(t,{strict:!1})?dy(t):t)}function ACe(t){const{commitment:e,version:n=1}=t,r=t.to??(typeof e=="string"?"hex":"bytes"),s=TCe(e);return s.set([n],0),r==="bytes"?s:Yr(s)}function ICe(t){const{commitments:e,version:n}=t,r=t.to??(typeof e[0]=="string"?"hex":"bytes"),s=[];for(const i of e)s.push(ACe({commitment:i,to:r,version:n}));return s}const ML=6,LY=32,EP=4096,$Y=LY*EP,jL=$Y*ML-1-1*EP*ML;class kCe extends he{constructor({maxSize:e,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class CCe extends he{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function NCe(t){const e=t.to??(typeof t.data=="string"?"hex":"bytes"),n=typeof t.data=="string"?_l(t.data):t.data,r=hr(n);if(!r)throw new CCe;if(r>jL)throw new kCe({maxSize:jL,size:r});const s=[];let i=!0,a=0;for(;i;){const o=xP(new Uint8Array($Y));let l=0;for(;l<EP;){const u=n.slice(a,a+(LY-1));if(o.pushByte(0),o.pushBytes(u),u.length<31){o.pushByte(128),i=!1;break}l++,a+=31}s.push(o)}return e==="bytes"?s.map(o=>o.bytes):s.map(o=>Yr(o.bytes))}function ECe(t){const{data:e,kzg:n,to:r}=t,s=t.blobs??NCe({data:e,to:r}),i=t.commitments??_Y({blobs:s,kzg:n,to:r}),a=t.proofs??DY({blobs:s,commitments:i,kzg:n,to:r}),o=[];for(let l=0;l<s.length;l++)o.push({blob:s[l],commitment:i[l],proof:a[l]});return o}function SCe(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new zke({transaction:t})}function j2(t,{docsPath:e,...n}){const r=(()=>{const s=M2(t,n);return s instanceof lb?t:s})();return new Vke(r,{docsPath:e,...n})}async function Ld(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return jo(e)}async function SP(t,e){var P,L,U,$,B;const{account:n=t.account,accessList:r,authorizationList:s,chain:i=t.chain,blobVersionedHashes:a,blobs:o,data:l,gas:u,gasPrice:d,maxFeePerBlobGas:p,maxFeePerGas:f,maxPriorityFeePerGas:h,nonce:y,nonceManager:m,to:b,type:v,value:g,...x}=e,T=await(async()=>{if(!n||!m||typeof y<"u")return y;const _=Yn(n),w=i?i.id:await Ze(t,Ld,"getChainId")({});return await m.consume({address:_.address,chainId:w,client:t})})();Qc(e);const I=(L=(P=i==null?void 0:i.formatters)==null?void 0:P.transactionRequest)==null?void 0:L.format,N=(I||Od)({...hy(x,{format:I}),account:n?Yn(n):void 0,accessList:r,authorizationList:s,blobs:o,blobVersionedHashes:a,data:l,gas:u,gasPrice:d,maxFeePerBlobGas:p,maxFeePerGas:f,maxPriorityFeePerGas:h,nonce:T,to:b,type:v,value:g},"fillTransaction");try{const _=await t.request({method:"eth_fillTransaction",params:[N]}),k=((($=(U=i==null?void 0:i.formatters)==null?void 0:U.transaction)==null?void 0:$.format)||kP)(_.tx);delete k.blockHash,delete k.blockNumber,delete k.r,delete k.s,delete k.transactionIndex,delete k.v,delete k.yParity,k.data=k.input,k.gas&&(k.gas=e.gas??k.gas),k.gasPrice&&(k.gasPrice=e.gasPrice??k.gasPrice),k.maxFeePerBlobGas&&(k.maxFeePerBlobGas=e.maxFeePerBlobGas??k.maxFeePerBlobGas),k.maxFeePerGas&&(k.maxFeePerGas=e.maxFeePerGas??k.maxFeePerGas),k.maxPriorityFeePerGas&&(k.maxPriorityFeePerGas=e.maxPriorityFeePerGas??k.maxPriorityFeePerGas),k.nonce&&(k.nonce=e.nonce??k.nonce);const S=await(async()=>{var V,O;if(typeof((V=i==null?void 0:i.fees)==null?void 0:V.baseFeeMultiplier)=="function"){const E=await Ze(t,vo,"getBlock")({});return i.fees.baseFeeMultiplier({block:E,client:t,request:e})}return((O=i==null?void 0:i.fees)==null?void 0:O.baseFeeMultiplier)??1.2})();if(S<1)throw new SY;const R=10**(((B=S.toString().split(".")[1])==null?void 0:B.length)??0),j=V=>V*BigInt(Math.ceil(S*R))/BigInt(R);return k.maxFeePerGas&&!e.maxFeePerGas&&(k.maxFeePerGas=j(k.maxFeePerGas)),k.gasPrice&&!e.gasPrice&&(k.gasPrice=j(k.gasPrice)),{raw:_.raw,transaction:{from:N.from,...k}}}catch(_){throw j2(_,{...e,chain:t.chain})}}const RP=["blobVersionedHashes","chainId","fees","gas","nonce","type"],_L=new Map,XI=new py(128);async function cb(t,e){var T,I,C;let n=e;const{account:r=t.account,chain:s=t.chain,nonceManager:i,parameters:a=RP}=n,o=(()=>{if(typeof(s==null?void 0:s.prepareTransactionRequest)=="function")return{fn:s.prepareTransactionRequest,runAt:["beforeFillTransaction"]};if(Array.isArray(s==null?void 0:s.prepareTransactionRequest))return{fn:s.prepareTransactionRequest[0],runAt:s.prepareTransactionRequest[1].runAt}})();let l;async function u(){return l||(typeof n.chainId<"u"?n.chainId:s?s.id:(l=await Ze(t,Ld,"getChainId")({}),l))}const d=r&&Yn(r);let p=n.nonce;if(a.includes("nonce")&&typeof p>"u"&&d&&i){const N=await u();p=await i.consume({address:d.address,chainId:N,client:t})}o!=null&&o.fn&&((T=o.runAt)!=null&&T.includes("beforeFillTransaction"))&&(n=await o.fn(n,{phase:"beforeFillTransaction"}),p??(p=n.nonce));const h=((a.includes("blobVersionedHashes")||a.includes("sidecars"))&&n.kzg&&n.blobs||XI.get(t.uid)===!1||!["fees","gas"].some(P=>a.includes(P))?!1:!!(a.includes("chainId")&&typeof n.chainId!="number"||a.includes("nonce")&&typeof p!="number"||a.includes("fees")&&typeof n.gasPrice!="bigint"&&(typeof n.maxFeePerGas!="bigint"||typeof n.maxPriorityFeePerGas!="bigint")||a.includes("gas")&&typeof n.gas!="bigint"))?await Ze(t,SP,"fillTransaction")({...n,nonce:p}).then(N=>{const{chainId:P,from:L,gas:U,gasPrice:$,nonce:B,maxFeePerBlobGas:_,maxFeePerGas:w,maxPriorityFeePerGas:k,type:S,...M}=N.transaction;return XI.set(t.uid,!0),{...n,...L?{from:L}:{},...S?{type:S}:{},...typeof P<"u"?{chainId:P}:{},...typeof U<"u"?{gas:U}:{},...typeof $<"u"?{gasPrice:$}:{},...typeof B<"u"?{nonce:B}:{},...typeof _<"u"?{maxFeePerBlobGas:_}:{},...typeof w<"u"?{maxFeePerGas:w}:{},...typeof k<"u"?{maxPriorityFeePerGas:k}:{},..."nonceKey"in M&&typeof M.nonceKey<"u"?{nonceKey:M.nonceKey}:{}}}).catch(N=>{var U;const P=N;return((U=P.walk)==null?void 0:U.call(P,$=>{const B=$;return B.name==="MethodNotFoundRpcError"||B.name==="MethodNotSupportedRpcError"}))&&XI.set(t.uid,!1),n}):n;p??(p=h.nonce),n={...h,...d?{from:d==null?void 0:d.address}:{},...p?{nonce:p}:{}};const{blobs:y,gas:m,kzg:b,type:v}=n;o!=null&&o.fn&&((I=o.runAt)!=null&&I.includes("beforeFillParameters"))&&(n=await o.fn(n,{phase:"beforeFillParameters"}));let g;async function x(){return g||(g=await Ze(t,vo,"getBlock")({blockTag:"latest"}),g)}if(a.includes("nonce")&&typeof p>"u"&&d&&!i&&(n.nonce=await Ze(t,NP,"getTransactionCount")({address:d.address,blockTag:"pending"})),(a.includes("blobVersionedHashes")||a.includes("sidecars"))&&y&&b){const N=_Y({blobs:y,kzg:b});if(a.includes("blobVersionedHashes")){const P=ICe({commitments:N,to:"hex"});n.blobVersionedHashes=P}if(a.includes("sidecars")){const P=DY({blobs:y,commitments:N,kzg:b}),L=ECe({blobs:y,commitments:N,proofs:P,to:"hex"});n.sidecars=L}}if(a.includes("chainId")&&(n.chainId=await u()),(a.includes("fees")||a.includes("type"))&&typeof v>"u")try{n.type=SCe(n)}catch{let N=_L.get(t.uid);if(typeof N>"u"){const P=await x();N=typeof(P==null?void 0:P.baseFeePerGas)=="bigint",_L.set(t.uid,N)}n.type=N?"eip1559":"legacy"}if(a.includes("fees"))if(n.type!=="legacy"&&n.type!=="eip2930"){if(typeof n.maxFeePerGas>"u"||typeof n.maxPriorityFeePerGas>"u"){const N=await x(),{maxFeePerGas:P,maxPriorityFeePerGas:L}=await O6(t,{block:N,chain:s,request:n});if(typeof n.maxPriorityFeePerGas>"u"&&n.maxFeePerGas&&n.maxFeePerGas<L)throw new dCe({maxPriorityFeePerGas:L});n.maxPriorityFeePerGas=L,n.maxFeePerGas=P}}else{if(typeof n.maxFeePerGas<"u"||typeof n.maxPriorityFeePerGas<"u")throw new IP;if(typeof n.gasPrice>"u"){const N=await x(),{gasPrice:P}=await O6(t,{block:N,chain:s,request:n,type:"legacy"});n.gasPrice=P}}return a.includes("gas")&&typeof m>"u"&&(n.gas=await Ze(t,PP,"estimateGas")({...n,account:d,prepare:(d==null?void 0:d.type)==="local"?[]:["blobVersionedHashes"]})),o!=null&&o.fn&&((C=o.runAt)!=null&&C.includes("afterFillParameters"))&&(n=await o.fn(n,{phase:"afterFillParameters"})),Qc(n),delete n.parameters,n}async function PP(t,e){var a,o,l;const{account:n=t.account,prepare:r=!0}=e,s=n?Yn(n):void 0,i=(()=>{if(Array.isArray(r))return r;if((s==null?void 0:s.type)!=="local")return["blobVersionedHashes"]})();try{const u=await(async()=>{if(e.to)return e.to;if(e.authorizationList&&e.authorizationList.length>0)return await P2({authorization:e.authorizationList[0]}).catch(()=>{throw new he("`to` is required. Could not infer from `authorizationList`")})})(),{accessList:d,authorizationList:p,blobs:f,blobVersionedHashes:h,blockNumber:y,blockTag:m,data:b,gas:v,gasPrice:g,maxFeePerBlobGas:x,maxFeePerGas:T,maxPriorityFeePerGas:I,nonce:C,value:N,stateOverride:P,...L}=r?await cb(t,{...e,parameters:i,to:u}):e;if(v&&e.gas!==v)return v;const $=(typeof y=="bigint"?rt(y):void 0)||m,B=AP(P);Qc(e);const _=(l=(o=(a=t.chain)==null?void 0:a.formatters)==null?void 0:o.transactionRequest)==null?void 0:l.format,k=(_||Od)({...hy(L,{format:_}),account:s,accessList:d,authorizationList:p,blobs:f,blobVersionedHashes:h,data:b,gasPrice:g,maxFeePerBlobGas:x,maxFeePerGas:T,maxPriorityFeePerGas:I,nonce:C,to:u,value:N},"estimateGas");return BigInt(await t.request({method:"eth_estimateGas",params:B?[k,$??t.experimental_blockTag??"latest",B]:$?[k,$]:[k]}))}catch(u){throw aCe(u,{...e,account:s,chain:t.chain})}}async function RCe(t,e){const{abi:n,address:r,args:s,functionName:i,dataSuffix:a,...o}=e,l=pe({abi:n,args:s,functionName:i});try{return await Ze(t,PP,"estimateGas")({data:`${l}${a?a.replace("0x",""):""}`,to:r,...o})}catch(u){const d=o.account?Yn(o.account):void 0;throw pf(u,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:i,sender:d==null?void 0:d.address})}}function ub(t,e){if(!ji(t,{strict:!1}))throw new Id({address:t});if(!ji(e,{strict:!1}))throw new Id({address:e});return t.toLowerCase()===e.toLowerCase()}const DL="/docs/contract/decodeEventLog";function yn(t){const{abi:e,data:n,strict:r,topics:s}=t,i=r??!0,[a,...o]=s;if(!a)throw new vIe({docsPath:DL});const l=e.find(m=>m.type==="event"&&a===N2(Mo(m)));if(!(l&&"name"in l)||l.type!=="event")throw new ZK(a,{docsPath:DL});const{name:u,inputs:d}=l,p=d==null?void 0:d.some(m=>!("name"in m&&m.name)),f=p?[]:{},h=d.map((m,b)=>[m,b]).filter(([m])=>"indexed"in m&&m.indexed);for(let m=0;m<h.length;m++){const[b,v]=h[m],g=o[m];if(!g)throw new k2({abiItem:l,param:b});f[p?v:b.name||v]=PCe({param:b,value:g})}const y=d.filter(m=>!("indexed"in m&&m.indexed));if(y.length>0){if(n&&n!=="0x")try{const m=ab(y,n);if(m)if(p)for(let b=0;b<d.length;b++)f[b]=f[b]??m.shift();else for(let b=0;b<y.length;b++)f[y[b].name]=m[b]}catch(m){if(i)throw m instanceof YK||m instanceof vY?new B0({abiItem:l,data:n,params:y,size:hr(n)}):m}else if(i)throw new B0({abiItem:l,data:"0x",params:y,size:0})}return{eventName:u,args:Object.values(f).length>0?f:void 0}}function PCe({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(ab([t],e)||[])[0]}function MP(t){const{abi:e,args:n,logs:r,strict:s=!0}=t,i=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return r.map(a=>{var o;try{const l=e.find(d=>d.type==="event"&&a.topics[0]===N2(d));if(!l)return null;const u=yn({...a,abi:[l],strict:s});return i&&!i.includes(u.eventName)||!MCe({args:u.args,inputs:l.inputs,matchArgs:n})?null:{...u,...a}}catch(l){let u,d;if(l instanceof ZK)return null;if(l instanceof B0||l instanceof k2){if(s)return null;u=l.abiItem.name,d=(o=l.abiItem.inputs)==null?void 0:o.some(p=>!("name"in p&&p.name))}return{...a,args:d?[]:{},eventName:u}}}).filter(Boolean)}function MCe(t){const{args:e,inputs:n,matchArgs:r}=t;if(!r)return!0;if(!e)return!1;function s(i,a,o){try{return i.type==="address"?ub(a,o):i.type==="string"||i.type==="bytes"?ts(dy(a))===o:a===o}catch{return!1}}return Array.isArray(e)&&Array.isArray(r)?r.every((i,a)=>{if(i==null)return!0;const o=n[a];return o?(Array.isArray(i)?i:[i]).some(u=>s(o,u,e[a])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([i,a])=>{if(a==null)return!0;const o=n.find(u=>u.name===i);return o?(Array.isArray(a)?a:[a]).some(u=>s(o,u,e[i])):!1}):!1}function zc(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}async function jP(t,{address:e,blockHash:n,fromBlock:r,toBlock:s,event:i,events:a,args:o,strict:l}={}){const u=l??!1,d=a??(i?[i]:void 0);let p=[];d&&(p=[d.flatMap(m=>ib({abi:[m],eventName:m.name,args:a?void 0:o}))],i&&(p=p[0]));let f;n?f=await t.request({method:"eth_getLogs",params:[{address:e,topics:p,blockHash:n}]}):f=await t.request({method:"eth_getLogs",params:[{address:e,topics:p,fromBlock:typeof r=="bigint"?rt(r):r,toBlock:typeof s=="bigint"?rt(s):s}]});const h=f.map(y=>zc(y));return d?MP({abi:d,args:o,logs:h,strict:u}):h}async function FY(t,e){const{abi:n,address:r,args:s,blockHash:i,eventName:a,fromBlock:o,toBlock:l,strict:u}=e,d=a?Nf({abi:n,name:a}):void 0,p=d?void 0:n.filter(f=>f.type==="event");return Ze(t,jP,"getLogs")({address:r,args:s,blockHash:i,event:d,events:p,fromBlock:o,toBlock:l,strict:u})}const JI="/docs/contract/decodeFunctionResult";function Ef(t){const{abi:e,args:n,functionName:r,data:s}=t;let i=e[0];if(r){const o=Nf({abi:e,args:n,name:r});if(!o)throw new km(r,{docsPath:JI});i=o}if(i.type!=="function")throw new km(void 0,{docsPath:JI});if(!i.outputs)throw new XK(i.name,{docsPath:JI});const a=ab(i.outputs,s);if(a&&a.length>1)return a;if(a&&a.length===1)return a[0]}const jCe="0.1.1";function _Ce(){return jCe}let nn=class L6 extends Error{constructor(e,n={}){const r=(()=>{var l;if(n.cause instanceof L6){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(l=n.cause)!=null&&l.message?n.cause.message:n.details})(),s=n.cause instanceof L6&&n.cause.docsPath||n.docsPath,a=`https://oxlib.sh${s??""}`,o=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${a}`:void 0]:[]].filter(l=>typeof l=="string").join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${_Ce()}`}),this.cause=n.cause,this.details=r,this.docs=a,this.docsPath=s,this.shortMessage=e}walk(e){return BY(this,e)}};function BY(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?BY(t.cause,e):e?null:t}function db(t,e){if(Th(t)>e)throw new XCe({givenSize:Th(t),maxSize:e})}const Hl={zero:48,nine:57,A:65,F:70,a:97,f:102};function OL(t){if(t>=Hl.zero&&t<=Hl.nine)return t-Hl.zero;if(t>=Hl.A&&t<=Hl.F)return t-(Hl.A-10);if(t>=Hl.a&&t<=Hl.f)return t-(Hl.a-10)}function DCe(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;if(t.length>r)throw new JCe({size:t.length,targetSize:r,type:"Bytes"});const s=new Uint8Array(r);for(let i=0;i<r;i++){const a=n==="right";s[a?i:r-i-1]=t[a?i:t.length-i-1]}return s}function UY(t,e={}){const{dir:n="left"}=e;let r=t,s=0;for(let i=0;i<r.length-1&&r[n==="left"?i:r.length-i-1].toString()==="0";i++)s++;return r=n==="left"?r.slice(s):r.slice(0,r.length-s),r}function _2(t,e){if(sa(t)>e)throw new sNe({givenSize:sa(t),maxSize:e})}function OCe(t,e){if(typeof e=="number"&&e>0&&e>sa(t)-1)throw new ZY({offset:e,position:"start",size:sa(t)})}function LCe(t,e,n){if(typeof e=="number"&&typeof n=="number"&&sa(t)!==n-e)throw new ZY({offset:n,position:"end",size:sa(t)})}function zY(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;const s=t.replace("0x","");if(s.length>r*2)throw new iNe({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const $Ce="#__bigint";function VY(t,e,n){return JSON.stringify(t,(r,s)=>typeof s=="bigint"?s.toString()+$Ce:s,n)}const FCe=new TextDecoder,BCe=new TextEncoder;function UCe(t){return t instanceof Uint8Array?t:typeof t=="string"?HY(t):zCe(t)}function zCe(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function HY(t,e={}){const{size:n}=e;let r=t;n&&(_2(t,n),r=hf(t,n));let s=r.slice(2);s.length%2&&(s=`0${s}`);const i=s.length/2,a=new Uint8Array(i);for(let o=0,l=0;o<i;o++){const u=OL(s.charCodeAt(l++)),d=OL(s.charCodeAt(l++));if(u===void 0||d===void 0)throw new nn(`Invalid byte sequence ("${s[l-2]}${s[l-1]}" in "${s}").`);a[o]=u*16+d}return a}function VCe(t,e={}){const{size:n}=e,r=BCe.encode(t);return typeof n=="number"?(db(r,n),HCe(r,n)):r}function HCe(t,e){return DCe(t,{dir:"right",size:e})}function Th(t){return t.length}function WCe(t,e,n,r={}){return t.slice(e,n)}function GCe(t,e={}){const{size:n}=e;typeof n<"u"&&db(t,n);const r=Do(t,e);return KY(r,e)}function KCe(t,e={}){const{size:n}=e;let r=t;if(typeof n<"u"&&(db(r,n),r=WY(r)),r.length>1||r[0]>1)throw new ZCe(r);return!!r[0]}function Cc(t,e={}){const{size:n}=e;typeof n<"u"&&db(t,n);const r=Do(t,e);return YY(r,e)}function YCe(t,e={}){const{size:n}=e;let r=t;return typeof n<"u"&&(db(r,n),r=qCe(r)),FCe.decode(r)}function WY(t){return UY(t,{dir:"left"})}function qCe(t){return UY(t,{dir:"right"})}class ZCe extends nn{constructor(e){super(`Bytes value \`${e}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let XCe=class extends nn{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},JCe=class extends nn{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const QCe=new TextEncoder,eNe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function tNe(t,e={}){const{strict:n=!1}=e;if(!t)throw new LL(t);if(typeof t!="string")throw new LL(t);if(n&&!/^0x[0-9a-fA-F]*$/.test(t))throw new $L(t);if(!t.startsWith("0x"))throw new $L(t)}function _o(...t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function nNe(t){return t instanceof Uint8Array?Do(t):Array.isArray(t)?Do(new Uint8Array(t)):t}function GY(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(_2(n,e.size),ff(n,e.size)):n}function Do(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=eNe[t[s]];const r=`0x${n}`;return typeof e.size=="number"?(_2(r,e.size),hf(r,e.size)):r}function Ks(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const a=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<a){const u=typeof t=="bigint"?"n":"";throw new qY({max:i?`${i}${u}`:void 0,min:`${a}${u}`,signed:n,size:r,value:`${t}${u}`})}const l=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?ff(l,r):l}function _P(t,e={}){return Do(QCe.encode(t),e)}function ff(t,e){return zY(t,{dir:"left",size:e})}function hf(t,e){return zY(t,{dir:"right",size:e})}function Al(t,e,n,r={}){const{strict:s}=r;OCe(t,e);const i=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return s&&LCe(i,e,n),i}function sa(t){return Math.ceil((t.length-2)/2)}function KY(t,e={}){const{signed:n}=e;e.size&&_2(t,e.size);const r=BigInt(t);if(!n)return r;const s=(t.length-2)/2,i=(1n<<BigInt(s)*8n)-1n,a=i>>1n;return r<=a?r:r-i-1n}function YY(t,e={}){const{signed:n,size:r}=e;return Number(!n&&!r?t:KY(t,e))}function rNe(t,e={}){const{strict:n=!1}=e;try{return tNe(t,{strict:n}),!0}catch{return!1}}class qY extends nn{constructor({max:e,min:n,signed:r,size:s,value:i}){super(`Number \`${i}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class LL extends nn{constructor(e){super(`Value \`${typeof e=="object"?VY(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class $L extends nn{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class sNe extends nn{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class ZY extends nn{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class iNe extends nn{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function aNe(t){return{address:t.address,amount:Ks(t.amount),index:Ks(t.index),validatorIndex:Ks(t.validatorIndex)}}function XY(t){return{...typeof t.baseFeePerGas=="bigint"&&{baseFeePerGas:Ks(t.baseFeePerGas)},...typeof t.blobBaseFee=="bigint"&&{blobBaseFee:Ks(t.blobBaseFee)},...typeof t.feeRecipient=="string"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit=="bigint"&&{gasLimit:Ks(t.gasLimit)},...typeof t.number=="bigint"&&{number:Ks(t.number)},...typeof t.prevRandao=="bigint"&&{prevRandao:Ks(t.prevRandao)},...typeof t.time=="bigint"&&{time:Ks(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map(aNe)}}}const U1=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],$6=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],JY=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],QY=[...JY,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],oNe=[...JY,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],FL=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],BL=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],eq=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],UL=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],lNe=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],cNe="0x82ad56cb",tq="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",uNe="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",dNe="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",DP="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class F6 extends he{constructor({blockNumber:e,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class pNe extends he{constructor({chain:e,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${e.id}  ${e.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e.id}  ${e.name}`],name:"ChainMismatchError"})}}class fNe extends he{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class nq extends he{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}const QI="/docs/contract/encodeDeployData";function D2(t){const{abi:e,args:n,bytecode:r}=t;if(!n||n.length===0)return r;const s=e.find(a=>"type"in a&&a.type==="constructor");if(!s)throw new fIe({docsPath:QI});if(!("inputs"in s))throw new fL({docsPath:QI});if(!s.inputs||s.inputs.length===0)throw new fL({docsPath:QI});const i=Jc(s.inputs,n);return fy([r,i])}function my({blockNumber:t,chain:e,contract:n}){var s;const r=(s=e==null?void 0:e.contracts)==null?void 0:s[n];if(!r)throw new F6({chain:e,contract:{name:n}});if(t&&r.blockCreated&&r.blockCreated>t)throw new F6({blockNumber:t,chain:e,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function rq(t,{docsPath:e,...n}){const r=(()=>{const s=M2(t,n);return s instanceof lb?t:s})();return new IY(r,{docsPath:e,...n})}function OP(){let t=()=>{},e=()=>{};return{promise:new Promise((r,s)=>{t=r,e=s}),resolve:t,reject:e}}const ek=new Map;function sq({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:s}){const i=async()=>{const d=l();a();const p=d.map(({args:f})=>f);p.length!==0&&t(p).then(f=>{s&&Array.isArray(f)&&f.sort(s);for(let h=0;h<d.length;h++){const{resolve:y}=d[h];y==null||y([f[h],f])}}).catch(f=>{for(let h=0;h<d.length;h++){const{reject:y}=d[h];y==null||y(f)}})},a=()=>ek.delete(e),o=()=>l().map(({args:d})=>d),l=()=>ek.get(e)||[],u=d=>ek.set(e,[...l(),d]);return{flush:a,async schedule(d){const{promise:p,resolve:f,reject:h}=OP();return(n==null?void 0:n([...o(),d]))&&i(),l().length>0?(u({args:d,resolve:f,reject:h}),p):(u({args:d,resolve:f,reject:h}),setTimeout(i,r),p)}}}async function O2(t,e){var _,w,k,S;const{account:n=t.account,authorizationList:r,batch:s=!!((_=t.batch)!=null&&_.multicall),blockNumber:i,blockTag:a=t.experimental_blockTag??"latest",accessList:o,blobs:l,blockOverrides:u,code:d,data:p,factory:f,factoryData:h,gas:y,gasPrice:m,maxFeePerBlobGas:b,maxFeePerGas:v,maxPriorityFeePerGas:g,nonce:x,to:T,value:I,stateOverride:C,...N}=e,P=n?Yn(n):void 0;if(d&&(f||h))throw new he("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(d&&T)throw new he("Cannot provide both `code` & `to` as parameters.");const L=d&&p,U=f&&h&&T&&p,$=L||U,B=L?iq({code:d,data:p}):U?yNe({data:p,factory:f,factoryData:h,to:T}):p;try{Qc(e);const R=(typeof i=="bigint"?rt(i):void 0)||a,j=u?XY(u):void 0,V=AP(C),O=(S=(k=(w=t.chain)==null?void 0:w.formatters)==null?void 0:k.transactionRequest)==null?void 0:S.format,z=(O||Od)({...hy(N,{format:O}),accessList:o,account:P,authorizationList:r,blobs:l,data:B,gas:y,gasPrice:m,maxFeePerBlobGas:b,maxFeePerGas:v,maxPriorityFeePerGas:g,nonce:x,to:$?void 0:T,value:I},"call");if(s&&hNe({request:z})&&!V&&!j)try{return await mNe(t,{...z,blockNumber:i,blockTag:a})}catch(H){if(!(H instanceof nq)&&!(H instanceof F6))throw H}const Z=(()=>{const H=[z,R];return V&&j?[...H,V,j]:V?[...H,V]:j?[...H,{},j]:H})(),F=await t.request({method:"eth_call",params:Z});return F==="0x"?{data:void 0}:{data:F}}catch(M){const R=gNe(M),{offchainLookup:j,offchainLookupSignature:V}=await Qt(async()=>{const{offchainLookup:O,offchainLookupSignature:E}=await import("./ccip-Co8zMbxB.js");return{offchainLookup:O,offchainLookupSignature:E}},[]);if(t.ccipRead!==!1&&(R==null?void 0:R.slice(0,10))===V&&T)return{data:await j(t,{data:R,to:T})};throw $&&(R==null?void 0:R.slice(0,10))==="0x101bb98d"?new Kke({factory:f}):rq(M,{...e,account:P,chain:t.chain})}}function hNe({request:t}){const{data:e,to:n,...r}=t;return!(!e||e.startsWith(cNe)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function mNe(t,e){var m;const{batchSize:n=1024,deployless:r=!1,wait:s=0}=typeof((m=t.batch)==null?void 0:m.multicall)=="object"?t.batch.multicall:{},{blockNumber:i,blockTag:a=t.experimental_blockTag??"latest",data:o,to:l}=e,u=(()=>{if(r)return null;if(e.multicallAddress)return e.multicallAddress;if(t.chain)return my({blockNumber:i,chain:t.chain,contract:"multicall3"});throw new nq})(),p=(typeof i=="bigint"?rt(i):void 0)||a,{schedule:f}=sq({id:`${t.uid}.${p}`,wait:s,shouldSplitBatch(b){return b.reduce((g,{data:x})=>g+(x.length-2),0)>n*2},fn:async b=>{const v=b.map(T=>({allowFailure:!0,callData:T.data,target:T.to})),g=pe({abi:U1,args:[v],functionName:"aggregate3"}),x=await t.request({method:"eth_call",params:[{...u===null?{data:iq({code:DP,data:g})}:{to:u,data:g}},p]});return Ef({abi:U1,args:[v],functionName:"aggregate3",data:x||"0x"})}}),[{returnData:h,success:y}]=await f({data:o,to:l});if(!y)throw new R2({data:h});return h==="0x"?{data:void 0}:{data:h}}function iq(t){const{code:e,data:n}=t;return D2({abi:WK(["constructor(bytes, bytes)"]),bytecode:tq,args:[e,n]})}function yNe(t){const{data:e,factory:n,factoryData:r,to:s}=t;return D2({abi:WK(["constructor(address, bytes, address, bytes)"]),bytecode:uNe,args:[s,e,n,r]})}function gNe(t){var n;if(!(t instanceof he))return;const e=t.walk();return typeof(e==null?void 0:e.data)=="object"?(n=e.data)==null?void 0:n.data:e.data}async function Oo(t,e){const{abi:n,address:r,args:s,functionName:i,...a}=e,o=pe({abi:n,args:s,functionName:i});try{const{data:l}=await Ze(t,O2,"call")({...a,data:o,to:r});return Ef({abi:n,args:s,functionName:i,data:l||"0x"})}catch(l){throw pf(l,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:i})}}async function vNe(t,e){const{abi:n,address:r,args:s,dataSuffix:i,functionName:a,...o}=e,l=o.account?Yn(o.account):t.account,u=pe({abi:n,args:s,functionName:a});try{const{data:d}=await Ze(t,O2,"call")({batch:!1,data:`${u}${i?i.replace("0x",""):""}`,to:r,...o,account:l}),p=Ef({abi:n,args:s,functionName:a,data:d||"0x"}),f=n.filter(h=>"name"in h&&h.name===e.functionName);return{result:p,request:{abi:f,address:r,args:s,dataSuffix:i,functionName:a,...o,account:l}}}catch(d){throw pf(d,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:a,sender:l==null?void 0:l.address})}}const tk=new Map,zL=new Map;let bNe=0;function Vc(t,e,n){const r=++bNe,s=()=>tk.get(t)||[],i=()=>{const d=s();tk.set(t,d.filter(p=>p.id!==r))},a=()=>{const d=s();if(!d.some(f=>f.id===r))return;const p=zL.get(t);if(d.length===1&&p){const f=p();f instanceof Promise&&f.catch(()=>{})}i()},o=s();if(tk.set(t,[...o,{id:r,fns:e}]),o&&o.length>0)return a;const l={};for(const d in e)l[d]=(...p)=>{var h,y;const f=s();if(f.length!==0)for(const m of f)(y=(h=m.fns)[d])==null||y.call(h,...p)};const u=n(l);return typeof u=="function"&&zL.set(t,u),a}async function B6(t){return new Promise(e=>setTimeout(e,t))}function yy(t,{emitOnBegin:e,initialWaitTime:n,interval:r}){let s=!0;const i=()=>s=!1;return(async()=>{let o;e&&(o=await t({unpoll:i}));const l=await(n==null?void 0:n(o))??r;await B6(l);const u=async()=>{s&&(await t({unpoll:i}),await B6(r),u())};u()})(),i}const xNe=new Map,wNe=new Map;function TNe(t){const e=(s,i)=>({clear:()=>i.delete(s),get:()=>i.get(s),set:a=>i.set(s,a)}),n=e(t,xNe),r=e(t,wNe);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function ANe(t,{cacheKey:e,cacheTime:n=Number.POSITIVE_INFINITY}){const r=TNe(e),s=r.response.get();if(s&&n>0&&Date.now()-s.created.getTime()<n)return s.data;let i=r.promise.get();i||(i=t(),r.promise.set(i));try{const a=await i;return r.response.set({created:new Date,data:a}),a}finally{r.promise.clear()}}const INe=t=>`blockNumber.${t}`;async function pb(t,{cacheTime:e=t.cacheTime}={}){const n=await ANe(()=>t.request({method:"eth_blockNumber"}),{cacheKey:INe(t.uid),cacheTime:e});return BigInt(n)}async function L2(t,{filter:e}){const n="strict"in e&&e.strict,r=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof r[0]=="string")return r;const s=r.map(i=>zc(i));return!("abi"in e)||!e.abi?s:MP({abi:e.abi,logs:s,strict:n})}async function $2(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function kNe(t,e){const{abi:n,address:r,args:s,batch:i=!0,eventName:a,fromBlock:o,onError:l,onLogs:u,poll:d,pollingInterval:p=t.pollingInterval,strict:f}=e;return(typeof d<"u"?d:typeof o=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")))?(()=>{const b=f??!1,v=Gr(["watchContractEvent",r,s,i,t.uid,a,p,b,o]);return Vc(v,{onLogs:u,onError:l},g=>{let x;o!==void 0&&(x=o-1n);let T,I=!1;const C=yy(async()=>{var N;if(!I){try{T=await Ze(t,yY,"createContractEventFilter")({abi:n,address:r,args:s,eventName:a,strict:b,fromBlock:o})}catch{}I=!0;return}try{let P;if(T)P=await Ze(t,L2,"getFilterChanges")({filter:T});else{const L=await Ze(t,pb,"getBlockNumber")({});x&&x<L?P=await Ze(t,FY,"getContractEvents")({abi:n,address:r,args:s,eventName:a,fromBlock:x+1n,toBlock:L,strict:b}):P=[],x=L}if(P.length===0)return;if(i)g.onLogs(P);else for(const L of P)g.onLogs([L])}catch(P){T&&P instanceof kd&&(I=!1),(N=g.onError)==null||N.call(g,P)}},{emitOnBegin:!0,interval:p});return async()=>{T&&await Ze(t,$2,"uninstallFilter")({filter:T}),C()}})})():(()=>{const b=f??!1,v=Gr(["watchContractEvent",r,s,i,t.uid,a,p,b]);let g=!0,x=()=>g=!1;return Vc(v,{onLogs:u,onError:l},T=>((async()=>{try{const I=(()=>{if(t.transport.type==="fallback"){const P=t.transport.transports.find(L=>L.config.type==="webSocket"||L.config.type==="ipc");return P?P.value:t.transport}return t.transport})(),C=a?ib({abi:n,eventName:a,args:s}):[],{unsubscribe:N}=await I.subscribe({params:["logs",{address:r,topics:C}],onData(P){var U;if(!g)return;const L=P.result;try{const{eventName:$,args:B}=yn({abi:n,data:L.data,topics:L.topics,strict:f}),_=zc(L,{args:B,eventName:$});T.onLogs([_])}catch($){let B,_;if($ instanceof B0||$ instanceof k2){if(f)return;B=$.abiItem.name,_=(U=$.abiItem.inputs)==null?void 0:U.some(k=>!("name"in k&&k.name))}const w=zc(L,{args:_?[]:{},eventName:B});T.onLogs([w])}},onError(P){var L;(L=T.onError)==null||L.call(T,P)}});x=N,g||x()}catch(I){l==null||l(I)}})(),()=>x()))})()}class $d extends he{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class Up extends he{constructor({docsPath:e,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:e,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function LP({chain:t,currentChainId:e}){if(!t)throw new fNe;if(e!==t.id)throw new pNe({chain:t,currentChainId:e})}async function $P(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const nk=new py(128);async function F2(t,e){var g,x,T,I;const{account:n=t.account,chain:r=t.chain,accessList:s,authorizationList:i,blobs:a,data:o,gas:l,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:p,maxPriorityFeePerGas:f,nonce:h,type:y,value:m,...b}=e;if(typeof n>"u")throw new $d({docsPath:"/docs/actions/wallet/sendTransaction"});const v=n?Yn(n):null;try{Qc(e);const C=await(async()=>{if(e.to)return e.to;if(e.to!==null&&i&&i.length>0)return await P2({authorization:i[0]}).catch(()=>{throw new he("`to` is required. Could not infer from `authorizationList`.")})})();if((v==null?void 0:v.type)==="json-rpc"||v===null){let N;r!==null&&(N=await Ze(t,Ld,"getChainId")({}),LP({currentChainId:N,chain:r}));const P=(T=(x=(g=t.chain)==null?void 0:g.formatters)==null?void 0:x.transactionRequest)==null?void 0:T.format,U=(P||Od)({...hy(b,{format:P}),accessList:s,account:v,authorizationList:i,blobs:a,chainId:N,data:o,gas:l,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:p,maxPriorityFeePerGas:f,nonce:h,to:C,type:y,value:m},"sendTransaction"),$=nk.get(t.uid),B=$?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:B,params:[U]},{retryCount:0})}catch(_){if($===!1)throw _;const w=_;if(w.name==="InvalidInputRpcError"||w.name==="InvalidParamsRpcError"||w.name==="MethodNotFoundRpcError"||w.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[U]},{retryCount:0}).then(k=>(nk.set(t.uid,!0),k)).catch(k=>{const S=k;throw S.name==="MethodNotFoundRpcError"||S.name==="MethodNotSupportedRpcError"?(nk.set(t.uid,!1),w):S});throw w}}if((v==null?void 0:v.type)==="local"){const N=await Ze(t,cb,"prepareTransactionRequest")({account:v,accessList:s,authorizationList:i,blobs:a,chain:r,data:o,gas:l,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:p,maxPriorityFeePerGas:f,nonce:h,nonceManager:v.nonceManager,parameters:[...RP,"sidecars"],type:y,value:m,...b,to:C}),P=(I=r==null?void 0:r.serializers)==null?void 0:I.transaction,L=await v.signTransaction(N,{serializer:P});return await Ze(t,$P,"sendRawTransaction")({serializedTransaction:L})}throw(v==null?void 0:v.type)==="smart"?new Up({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new Up({docsPath:"/docs/actions/wallet/sendTransaction",type:v==null?void 0:v.type})}catch(C){throw C instanceof Up?C:j2(C,{...e,account:v,chain:e.chain||void 0})}}async function av(t,e){return av.internal(t,F2,"sendTransaction",e)}(function(t){async function e(n,r,s,i){const{abi:a,account:o=n.account,address:l,args:u,dataSuffix:d,functionName:p,...f}=i;if(typeof o>"u")throw new $d({docsPath:"/docs/contract/writeContract"});const h=o?Yn(o):null,y=pe({abi:a,args:u,functionName:p});try{return await Ze(n,r,s)({data:`${y}${d?d.replace("0x",""):""}`,to:l,account:h,...f})}catch(m){throw pf(m,{abi:a,address:l,args:u,docsPath:"/docs/contract/writeContract",functionName:p,sender:h==null?void 0:h.address})}}t.internal=e})(av||(av={}));class CNe extends he{constructor(e){super(`Call bundle failed with status: ${e.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=e}}function ov(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,i)=>{const a=async({count:o=0}={})=>{const l=async({error:u})=>{const d=typeof e=="function"?e({count:o,error:u}):e;d&&await B6(d),a({count:o+1})};try{const u=await t();s(u)}catch(u){if(o<n&&await r({count:o,error:u}))return l({error:u});i(u)}};a()})}const aq={"0x0":"reverted","0x1":"success"};function oq(t,e){const n={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(r=>zc(r)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?jo(t.transactionIndex):null,status:t.status?aq[t.status]:null,type:t.type?PY[t.type]||t.type:null};return t.blobGasPrice&&(n.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(n.blobGasUsed=BigInt(t.blobGasUsed)),n}const lq="0x5792579257925792579257925792579257925792579257925792579257925792",cq=rt(0,{size:32});async function uq(t,e){const{account:n=t.account,capabilities:r,chain:s=t.chain,experimental_fallback:i,experimental_fallbackDelay:a=32,forceAtomic:o=!1,id:l,version:u="2.0.0"}=e,d=n?Yn(n):null,p=e.calls.map(f=>{const h=f,y=h.abi?pe({abi:h.abi,functionName:h.functionName,args:h.args}):h.data;return{data:h.dataSuffix&&y?Fa([y,h.dataSuffix]):y,to:h.to,value:h.value?rt(h.value):void 0}});try{const f=await t.request({method:"wallet_sendCalls",params:[{atomicRequired:o,calls:p,capabilities:r,chainId:rt(s.id),from:d==null?void 0:d.address,id:l,version:u}]},{retryCount:0});return typeof f=="string"?{id:f}:f}catch(f){const h=f;if(i&&(h.name==="MethodNotFoundRpcError"||h.name==="MethodNotSupportedRpcError"||h.name==="UnknownRpcError"||h.details.toLowerCase().includes("does not exist / is not available")||h.details.toLowerCase().includes("missing or invalid. request()")||h.details.toLowerCase().includes("did not match any variant of untagged enum")||h.details.toLowerCase().includes("account upgraded to unsupported contract")||h.details.toLowerCase().includes("eip-7702 not supported")||h.details.toLowerCase().includes("unsupported wc_ method")||h.details.toLowerCase().includes("feature toggled misconfigured")||h.details.toLowerCase().includes("jsonrpcengine: response has no error or result for request"))){if(r&&Object.values(r).some(g=>!g.optional)){const g="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new Rm(new he(g,{details:g}))}if(o&&p.length>1){const v="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new Pm(new he(v,{details:v}))}const y=[];for(const v of p){const g=F2(t,{account:d,chain:s,data:v.data,to:v.to,value:v.value?ra(v.value):void 0});y.push(g),a>0&&await new Promise(x=>setTimeout(x,a))}const m=await Promise.allSettled(y);if(m.every(v=>v.status==="rejected"))throw m[0].reason;const b=m.map(v=>v.status==="fulfilled"?v.value:cq);return{id:Fa([...b,rt(s.id,{size:32}),lq])}}throw j2(f,{...e,account:d,chain:e.chain})}}async function dq(t,e){async function n(d){if(d.endsWith(lq.slice(2))){const f=sd(I6(d,-64,-32)),h=I6(d,0,-64).slice(2).match(/.{1,64}/g),y=await Promise.all(h.map(b=>cq.slice(2)!==b?t.request({method:"eth_getTransactionReceipt",params:[`0x${b}`]},{dedupe:!0}):void 0)),m=y.some(b=>b===null)?100:y.every(b=>(b==null?void 0:b.status)==="0x1")?200:y.every(b=>(b==null?void 0:b.status)==="0x0")?500:600;return{atomic:!1,chainId:jo(f),receipts:y.filter(Boolean),status:m,version:"2.0.0"}}return t.request({method:"wallet_getCallsStatus",params:[d]})}const{atomic:r=!1,chainId:s,receipts:i,version:a="2.0.0",...o}=await n(e.id),[l,u]=(()=>{const d=o.status;return d>=100&&d<200?["pending",d]:d>=200&&d<300?["success",d]:d>=300&&d<700?["failure",d]:d==="CONFIRMED"?["success",200]:d==="PENDING"?["pending",100]:[void 0,d]})();return{...o,atomic:r,chainId:s?jo(s):void 0,receipts:(i==null?void 0:i.map(d=>({...d,blockNumber:ra(d.blockNumber),gasUsed:ra(d.gasUsed),status:aq[d.status]})))??[],statusCode:u,status:l,version:a}}async function pq(t,e){const{id:n,pollingInterval:r=t.pollingInterval,status:s=({statusCode:m})=>m===200||m>=300,retryCount:i=4,retryDelay:a=({count:m})=>~~(1<<m)*200,timeout:o=6e4,throwOnFailure:l=!1}=e,u=Gr(["waitForCallsStatus",t.uid,n]),{promise:d,resolve:p,reject:f}=OP();let h;const y=Vc(u,{resolve:p,reject:f},m=>{const b=yy(async()=>{const v=g=>{clearTimeout(h),b(),g(),y()};try{const g=await ov(async()=>{const x=await Ze(t,dq,"getCallsStatus")({id:n});if(l&&x.status==="failure")throw new CNe(x);return x},{retryCount:i,delay:a});if(!s(g))return;v(()=>m.resolve(g))}catch(g){v(()=>m.reject(g))}},{interval:r,emitOnBegin:!0});return b});return h=o?setTimeout(()=>{y(),clearTimeout(h),f(new NNe({id:n}))},o):void 0,await d}class NNe extends he{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}const U6=256;let nx=U6,rx;function fq(t=11){if(!rx||nx+t>U6*2){rx="",nx=0;for(let e=0;e<U6;e++)rx+=(256+Math.random()*256|0).toString(16).substring(1)}return rx.substring(nx,nx+++t)}function FP(t){const{batch:e,chain:n,ccipRead:r,key:s="base",name:i="Base Client",type:a="base"}=t,o=t.experimental_blockTag??(typeof(n==null?void 0:n.experimental_preconfirmationTime)=="number"?"pending":void 0),l=(n==null?void 0:n.blockTime)??12e3,u=Math.min(Math.max(Math.floor(l/2),500),4e3),d=t.pollingInterval??u,p=t.cacheTime??d,f=t.account?Yn(t.account):void 0,{config:h,request:y,value:m}=t.transport({account:f,chain:n,pollingInterval:d}),b={...h,...m},v={account:f,batch:e,cacheTime:p,ccipRead:r,chain:n,key:s,name:i,pollingInterval:d,request:y,transport:b,type:a,uid:fq(),...o?{experimental_blockTag:o}:{}};function g(x){return T=>{const I=T(x);for(const N in v)delete I[N];const C={...x,...I};return Object.assign(C,{extend:g(C)})}}return Object.assign(v,{extend:g(v)})}function BP(t){var n,r,s,i,a,o;if(!(t instanceof he))return!1;const e=t.walk(l=>l instanceof N6);return e instanceof N6?((n=e.data)==null?void 0:n.errorName)==="HttpError"||((r=e.data)==null?void 0:r.errorName)==="ResolverError"||((s=e.data)==null?void 0:s.errorName)==="ResolverNotContract"||((i=e.data)==null?void 0:i.errorName)==="ResolverNotFound"||((a=e.data)==null?void 0:a.errorName)==="ReverseAddressMismatch"||((o=e.data)==null?void 0:o.errorName)==="UnsupportedResolverProfile":!1}function ENe(t){const{abi:e,data:n}=t,r=Em(n,0,4),s=e.find(i=>i.type==="function"&&r===go(Mo(i)));if(!s)throw new bIe(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?ab(s.inputs,Em(n,4)):void 0}}const rk="/docs/contract/encodeErrorResult";function VL(t){const{abi:e,errorName:n,args:r}=t;let s=e[0];if(n){const l=Nf({abi:e,args:r,name:n});if(!l)throw new hL(n,{docsPath:rk});s=l}if(s.type!=="error")throw new hL(void 0,{docsPath:rk});const i=Mo(s),a=go(i);let o="0x";if(r&&r.length>0){if(!s.inputs)throw new gIe(s.name,{docsPath:rk});o=Jc(s.inputs,r)}return fy([a,o])}const sk="/docs/contract/encodeFunctionResult";function SNe(t){const{abi:e,functionName:n,result:r}=t;let s=e[0];if(n){const a=Nf({abi:e,name:n});if(!a)throw new km(n,{docsPath:sk});s=a}if(s.type!=="function")throw new km(void 0,{docsPath:sk});if(!s.outputs)throw new XK(s.name,{docsPath:sk});const i=(()=>{if(s.outputs.length===0)return[];if(s.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new JK(r)})();return Jc(s.outputs,i)}const B2="x-batch-gateway:true";async function RNe(t){const{data:e,ccipRequest:n}=t,{args:[r]}=ENe({abi:$6,data:e}),s=[],i=[];return await Promise.all(r.map(async(a,o)=>{try{i[o]=a.urls.includes(B2)?await RNe({data:a.data,ccipRequest:n}):await n(a),s[o]=!1}catch(l){s[o]=!0,i[o]=PNe(l)}})),SNe({abi:$6,functionName:"query",result:[s,i]})}function PNe(t){return t.name==="HttpRequestError"&&t.status?VL({abi:$6,errorName:"HttpError",args:[t.status,t.shortMessage]}):VL({abi:[gY],errorName:"Error",args:["shortMessage"in t?t.shortMessage:t.message]})}function hq(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;const e=`0x${t.slice(1,65)}`;return jl(e)?e:null}function z6(t){let e=new Uint8Array(32).fill(0);if(!t)return Yr(e);const n=t.split(".");for(let r=n.length-1;r>=0;r-=1){const s=hq(n[r]),i=s?dy(s):ts(Bp(n[r]),"bytes");e=ts(Fa([e,i]),"bytes")}return Yr(e)}function MNe(t){return`[${t.slice(2)}]`}function jNe(t){const e=new Uint8Array(32).fill(0);return t?hq(t)||ts(Bp(t)):Yr(e)}function UP(t){const e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const n=new Uint8Array(Bp(e).byteLength+2);let r=0;const s=e.split(".");for(let i=0;i<s.length;i++){let a=Bp(s[i]);a.byteLength>255&&(a=Bp(MNe(jNe(s[i])))),n[r]=a.length,n.set(a,r+1),r+=a.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function _Ne(t,e){const{blockNumber:n,blockTag:r,coinType:s,name:i,gatewayUrls:a,strict:o}=e,{chain:l}=t,u=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!l)throw new Error("client chain not configured. universalResolverAddress is required.");return my({blockNumber:n,chain:l,contract:"ensUniversalResolver"})})(),d=l==null?void 0:l.ensTlds;if(d&&!d.some(f=>i.endsWith(f)))return null;const p=s!=null?[z6(i),BigInt(s)]:[z6(i)];try{const f=pe({abi:BL,functionName:"addr",args:p}),h={address:u,abi:QY,functionName:"resolveWithGateways",args:[$a(UP(i)),f,a??[B2]],blockNumber:n,blockTag:r},m=await Ze(t,Oo,"readContract")(h);if(m[0]==="0x")return null;const b=Ef({abi:BL,args:p,functionName:"addr",data:m[0]});return b==="0x"||sd(b)==="0x00"?null:b}catch(f){if(o)throw f;if(BP(f))return null;throw f}}class DNe extends he{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class Hy extends he{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class zP extends he{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class ONe extends he{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const LNe=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,$Ne=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,FNe=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,BNe=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function UNe(t){try{const e=await fetch(t,{method:"HEAD"});if(e.status===200){const n=e.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=t})}}function HL(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function mq({uri:t,gatewayUrls:e}){const n=FNe.test(t);if(n)return{uri:t,isOnChain:!0,isEncoded:n};const r=HL(e==null?void 0:e.ipfs,"https://ipfs.io"),s=HL(e==null?void 0:e.arweave,"https://arweave.net"),i=t.match(LNe),{protocol:a,subpath:o,target:l,subtarget:u=""}=(i==null?void 0:i.groups)||{},d=a==="ipns:/"||o==="ipns/",p=a==="ipfs:/"||o==="ipfs/"||$Ne.test(t);if(t.startsWith("http")&&!d&&!p){let h=t;return e!=null&&e.arweave&&(h=t.replace(/https:\/\/arweave.net/g,e==null?void 0:e.arweave)),{uri:h,isOnChain:!1,isEncoded:!1}}if((d||p)&&l)return{uri:`${r}/${d?"ipns":"ipfs"}/${l}${u}`,isOnChain:!1,isEncoded:!1};if(a==="ar:/"&&l)return{uri:`${s}/${l}${u||""}`,isOnChain:!1,isEncoded:!1};let f=t.replace(BNe,"");if(f.startsWith("<svg")&&(f=`data:image/svg+xml;base64,${btoa(f)}`),f.startsWith("data:")||f.startsWith("{"))return{uri:f,isOnChain:!0,isEncoded:!1};throw new zP({uri:t})}function yq(t){if(typeof t!="object"||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new DNe({data:t});return t.image||t.image_url||t.image_data}async function zNe({gatewayUrls:t,uri:e}){try{const n=await fetch(e).then(s=>s.json());return await VP({gatewayUrls:t,uri:yq(n)})}catch{throw new zP({uri:e})}}async function VP({gatewayUrls:t,uri:e}){const{uri:n,isOnChain:r}=mq({uri:e,gatewayUrls:t});if(r||await UNe(n))return n;throw new zP({uri:e})}function VNe(t){let e=t;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=e.split("/"),[i,a]=n.split(":"),[o,l]=r.split(":");if(!i||i.toLowerCase()!=="eip155")throw new Hy({reason:"Only EIP-155 supported"});if(!a)throw new Hy({reason:"Chain ID not found"});if(!l)throw new Hy({reason:"Contract address not found"});if(!s)throw new Hy({reason:"Token ID not found"});if(!o)throw new Hy({reason:"ERC namespace not found"});return{chainID:Number.parseInt(a,10),namespace:o.toLowerCase(),contractAddress:l,tokenID:s}}async function HNe(t,{nft:e}){if(e.namespace==="erc721")return Oo(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return Oo(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new ONe({namespace:e.namespace})}async function WNe(t,{gatewayUrls:e,record:n}){return/eip155:/i.test(n)?GNe(t,{gatewayUrls:e,record:n}):VP({uri:n,gatewayUrls:e})}async function GNe(t,{gatewayUrls:e,record:n}){const r=VNe(n),s=await HNe(t,{nft:r}),{uri:i,isOnChain:a,isEncoded:o}=mq({uri:s,gatewayUrls:e});if(a&&(i.includes("data:application/json;base64,")||i.startsWith("{"))){const u=o?atob(i.replace("data:application/json;base64,","")):i,d=JSON.parse(u);return VP({uri:yq(d),gatewayUrls:e})}let l=r.tokenID;return r.namespace==="erc1155"&&(l=l.replace("0x","").padStart(64,"0")),zNe({gatewayUrls:e,uri:i.replace(/(?:0x)?{id}/,l)})}async function gq(t,e){const{blockNumber:n,blockTag:r,key:s,name:i,gatewayUrls:a,strict:o}=e,{chain:l}=t,u=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!l)throw new Error("client chain not configured. universalResolverAddress is required.");return my({blockNumber:n,chain:l,contract:"ensUniversalResolver"})})(),d=l==null?void 0:l.ensTlds;if(d&&!d.some(p=>i.endsWith(p)))return null;try{const p={address:u,abi:QY,args:[$a(UP(i)),pe({abi:FL,functionName:"text",args:[z6(i),s]}),a??[B2]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},h=await Ze(t,Oo,"readContract")(p);if(h[0]==="0x")return null;const y=Ef({abi:FL,functionName:"text",data:h[0]});return y===""?null:y}catch(p){if(o)throw p;if(BP(p))return null;throw p}}async function KNe(t,{blockNumber:e,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:i,strict:a,universalResolverAddress:o}){const l=await Ze(t,gq,"getEnsText")({blockNumber:e,blockTag:n,key:"avatar",name:s,universalResolverAddress:o,gatewayUrls:i,strict:a});if(!l)return null;try{return await WNe(t,{record:l,gatewayUrls:r})}catch{return null}}async function YNe(t,e){const{address:n,blockNumber:r,blockTag:s,coinType:i=60n,gatewayUrls:a,strict:o}=e,{chain:l}=t,u=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!l)throw new Error("client chain not configured. universalResolverAddress is required.");return my({blockNumber:r,chain:l,contract:"ensUniversalResolver"})})();try{const d={address:u,abi:oNe,args:[n,i,a??[B2]],functionName:"reverseWithGateways",blockNumber:r,blockTag:s},p=Ze(t,Oo,"readContract"),[f]=await p(d);return f||null}catch(d){if(o)throw d;if(BP(d))return null;throw d}}async function qNe(t,e){const{blockNumber:n,blockTag:r,name:s}=e,{chain:i}=t,a=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!i)throw new Error("client chain not configured. universalResolverAddress is required.");return my({blockNumber:n,chain:i,contract:"ensUniversalResolver"})})(),o=i==null?void 0:i.ensTlds;if(o&&!o.some(u=>s.endsWith(u)))throw new Error(`${s} is not a valid ENS TLD (${o==null?void 0:o.join(", ")}) for chain "${i.name}" (id: ${i.id}).`);const[l]=await Ze(t,Oo,"readContract")({address:a,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[$a(UP(s))],blockNumber:n,blockTag:r});return l}async function vq(t,e){var b,v,g;const{account:n=t.account,blockNumber:r,blockTag:s="latest",blobs:i,data:a,gas:o,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:p,to:f,value:h,...y}=e,m=n?Yn(n):void 0;try{Qc(e);const T=(typeof r=="bigint"?rt(r):void 0)||s,I=(g=(v=(b=t.chain)==null?void 0:b.formatters)==null?void 0:v.transactionRequest)==null?void 0:g.format,N=(I||Od)({...hy(y,{format:I}),account:m,blobs:i,data:a,gas:o,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:p,to:f,value:h},"createAccessList"),P=await t.request({method:"eth_createAccessList",params:[N,T]});return{accessList:P.accessList,gasUsed:BigInt(P.gasUsed)}}catch(x){throw rq(x,{...e,account:m,chain:t.chain})}}async function ZNe(t){const e=E2(t,{method:"eth_newBlockFilter"}),n=await t.request({method:"eth_newBlockFilter"});return{id:n,request:e(n),type:"block"}}async function bq(t,{address:e,args:n,event:r,events:s,fromBlock:i,strict:a,toBlock:o}={}){const l=s??(r?[r]:void 0),u=E2(t,{method:"eth_newFilter"});let d=[];l&&(d=[l.flatMap(h=>ib({abi:[h],eventName:h.name,args:n}))],r&&(d=d[0]));const p=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof i=="bigint"?rt(i):i,toBlock:typeof o=="bigint"?rt(o):o,...d.length?{topics:d}:{}}]});return{abi:l,args:n,eventName:r?r.name:void 0,fromBlock:i,id:p,request:u(p),strict:!!a,toBlock:o,type:"event"}}async function xq(t){const e=E2(t,{method:"eth_newPendingTransactionFilter"}),n=await t.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}}async function XNe(t,{address:e,blockNumber:n,blockTag:r=t.experimental_blockTag??"latest"}){const s=typeof n=="bigint"?rt(n):void 0,i=await t.request({method:"eth_getBalance",params:[e,s||r]});return BigInt(i)}async function JNe(t){const e=await t.request({method:"eth_blobBaseFee"});return BigInt(e)}async function QNe(t,{blockHash:e,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?rt(n):void 0;let i;return e?i=await t.request({method:"eth_getBlockTransactionCountByHash",params:[e]},{dedupe:!0}):i=await t.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),jo(i)}async function V6(t,{address:e,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?rt(n):void 0,i=await t.request({method:"eth_getCode",params:[e,s||r]},{dedupe:!!s});if(i!=="0x")return i}class e6e extends he{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function t6e(t,e){const{address:n,factory:r,factoryData:s}=e;try{const[i,a,o,l,u,d,p]=await Ze(t,Oo,"readContract")({abi:n6e,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:a,version:o,chainId:Number(l),verifyingContract:u,salt:d},extensions:p,fields:i}}catch(i){const a=i;throw a.name==="ContractFunctionExecutionError"&&a.cause.name==="ContractFunctionZeroDataError"?new e6e({address:n}):a}}const n6e=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function r6e(t){var e;return{baseFeePerGas:t.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:t.gasUsedRatio,oldestBlock:BigInt(t.oldestBlock),reward:(e=t.reward)==null?void 0:e.map(n=>n.map(r=>BigInt(r)))}}async function s6e(t,{blockCount:e,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const i=typeof n=="bigint"?rt(n):void 0,a=await t.request({method:"eth_feeHistory",params:[rt(e),i||r,s]},{dedupe:!!i});return r6e(a)}async function i6e(t,{filter:e}){const n=e.strict??!1,s=(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map(i=>zc(i));return e.abi?MP({abi:e.abi,logs:s,strict:n}):s}async function a6e({address:t,authorization:e,signature:n}){return ub(yp(t),await P2({authorization:e,signature:n}))}const sx=new py(8192);function o6e(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(sx.get(n))return sx.get(n);const r=t().finally(()=>sx.delete(n));return sx.set(n,r),r}function l6e(t,e={}){return async(n,r={})=>{var p;const{dedupe:s=!1,methods:i,retryDelay:a=150,retryCount:o=3,uid:l}={...e,...r},{method:u}=n;if((p=i==null?void 0:i.exclude)!=null&&p.includes(u))throw new gp(new Error("method not supported"),{method:u});if(i!=null&&i.include&&!i.include.includes(u))throw new gp(new Error("method not supported"),{method:u});const d=s?lf(`${l}.${Gr(n)}`):void 0;return o6e(()=>ov(async()=>{try{return await t(n)}catch(f){const h=f;switch(h.code){case V0.code:throw new V0(h);case H0.code:throw new H0(h);case W0.code:throw new W0(h,{method:n.method});case G0.code:throw new G0(h);case uf.code:throw new uf(h);case kd.code:throw new kd(h);case K0.code:throw new K0(h);case id.code:throw new id(h);case Y0.code:throw new Y0(h);case gp.code:throw new gp(h,{method:n.method});case Sm.code:throw new Sm(h);case q0.code:throw new q0(h);case Vs.code:throw new Vs(h);case Z0.code:throw new Z0(h);case X0.code:throw new X0(h);case J0.code:throw new J0(h);case Q0.code:throw new Q0(h);case df.code:throw new df(h);case Rm.code:throw new Rm(h);case ev.code:throw new ev(h);case tv.code:throw new tv(h);case nv.code:throw new nv(h);case rv.code:throw new rv(h);case sv.code:throw new sv(h);case Pm.code:throw new Pm(h);case 5e3:throw new Vs(h);default:throw f instanceof he?f:new qke(h)}}},{delay:({count:f,error:h})=>{var y;if(h&&h instanceof Fg){const m=(y=h==null?void 0:h.headers)==null?void 0:y.get("Retry-After");if(m!=null&&m.match(/\d/))return Number.parseInt(m,10)*1e3}return~~(1<<f)*a},retryCount:o,shouldRetry:({error:f})=>c6e(f)}),{enabled:s,id:d})}}function c6e(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===Sm.code||t.code===uf.code:t instanceof Fg&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function gy(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}function wq(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,i)=>{(async()=>{let a;try{const o=new AbortController;n>0&&(a=setTimeout(()=>{r?o.abort():i(e)},n)),s(await t({signal:(o==null?void 0:o.signal)||null}))}catch(o){(o==null?void 0:o.name)==="AbortError"&&i(e),i(o)}finally{clearTimeout(a)}})()})}function u6e(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const WL=u6e();function d6e(t,e={}){return{async request(n){var f;const{body:r,fetchFn:s=e.fetchFn??fetch,onRequest:i=e.onRequest,onResponse:a=e.onResponse,timeout:o=e.timeout??1e4}=n,l={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:u,method:d,signal:p}=l;try{const h=await wq(async({signal:m})=>{const b={...l,body:Array.isArray(r)?Gr(r.map(T=>({jsonrpc:"2.0",id:T.id??WL.take(),...T}))):Gr({jsonrpc:"2.0",id:r.id??WL.take(),...r}),headers:{"Content-Type":"application/json",...u},method:d||"POST",signal:p||(o>0?m:null)},v=new Request(t,b),g=await(i==null?void 0:i(v,b))??{...b,url:t};return await s(g.url??t,g)},{errorInstance:new EL({body:r,url:t}),timeout:o,signal:!0});a&&await a(h);let y;if((f=h.headers.get("Content-Type"))!=null&&f.startsWith("application/json"))y=await h.json();else{y=await h.text();try{y=JSON.parse(y||"{}")}catch(m){if(h.ok)throw m;y={error:y}}}if(!h.ok)throw new Fg({body:r,details:Gr(y.error)||h.statusText,headers:h.headers,status:h.status,url:t});return y}catch(h){throw h instanceof Fg||h instanceof EL?h:new Fg({body:r,cause:h,url:t})}}}}const p6e=`Ethereum Signed Message:
`;function f6e(t){const e=typeof t=="string"?lf(t):typeof t.raw=="string"?t.raw:Yr(t.raw),n=lf(`${p6e}${hr(e)}`);return Fa([n,e])}function Tq(t,e){return ts(f6e(t),e)}class h6e extends he{constructor({domain:e}){super(`Invalid domain "${Gr(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class m6e extends he{constructor({primaryType:e,types:n}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class y6e extends he{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function g6e(t){const{domain:e,message:n,primaryType:r,types:s}=t,i=(l,u)=>{const d={...u};for(const p of l){const{name:f,type:h}=p;h==="address"&&(d[f]=d[f].toLowerCase())}return d},a=s.EIP712Domain?e?i(s.EIP712Domain,e):{}:{},o=(()=>{if(r!=="EIP712Domain")return i(s[r],n)})();return Gr({domain:a,message:o,primaryType:r,types:s})}function Aq(t){const{domain:e,message:n,primaryType:r,types:s}=t,i=(a,o)=>{for(const l of a){const{name:u,type:d}=l,p=o[u],f=d.match(hY);if(f&&(typeof p=="number"||typeof p=="bigint")){const[m,b,v]=f;rt(p,{signed:b==="int",size:Number.parseInt(v,10)/8})}if(d==="address"&&typeof p=="string"&&!ji(p))throw new Id({address:p});const h=d.match(pke);if(h){const[m,b]=h;if(b&&hr(p)!==Number.parseInt(b,10))throw new wIe({expectedSize:Number.parseInt(b,10),givenSize:hr(p)})}const y=s[d];y&&(v6e(d),i(y,p))}};if(s.EIP712Domain&&e){if(typeof e!="object")throw new h6e({domain:e});i(s.EIP712Domain,e)}if(r!=="EIP712Domain")if(s[r])i(s[r],n);else throw new m6e({primaryType:r,types:s})}function Iq({domain:t}){return[typeof(t==null?void 0:t.name)=="string"&&{name:"name",type:"string"},(t==null?void 0:t.version)&&{name:"version",type:"string"},(typeof(t==null?void 0:t.chainId)=="number"||typeof(t==null?void 0:t.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(t==null?void 0:t.verifyingContract)&&{name:"verifyingContract",type:"address"},(t==null?void 0:t.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function v6e(t){if(t==="address"||t==="bool"||t==="string"||t.startsWith("bytes")||t.startsWith("uint")||t.startsWith("int"))throw new y6e({type:t})}function b6e(t){const{domain:e={},message:n,primaryType:r}=t,s={EIP712Domain:Iq({domain:e}),...t.types};Aq({domain:e,message:n,primaryType:r,types:s});const i=["0x1901"];return e&&i.push(x6e({domain:e,types:s})),r!=="EIP712Domain"&&i.push(kq({data:n,primaryType:r,types:s})),ts(Fa(i))}function x6e({domain:t,types:e}){return kq({data:t,primaryType:"EIP712Domain",types:e})}function kq({data:t,primaryType:e,types:n}){const r=Cq({data:t,primaryType:e,types:n});return ts(r)}function Cq({data:t,primaryType:e,types:n}){const r=[{type:"bytes32"}],s=[w6e({primaryType:e,types:n})];for(const i of n[e]){const[a,o]=Eq({types:n,name:i.name,type:i.type,value:t[i.name]});r.push(a),s.push(o)}return Jc(r,s)}function w6e({primaryType:t,types:e}){const n=$a(T6e({primaryType:t,types:e}));return ts(n)}function T6e({primaryType:t,types:e}){let n="";const r=Nq({primaryType:t,types:e});r.delete(t);const s=[t,...Array.from(r).sort()];for(const i of s)n+=`${i}(${e[i].map(({name:a,type:o})=>`${o} ${a}`).join(",")})`;return n}function Nq({primaryType:t,types:e},n=new Set){const r=t.match(/^\w*/u),s=r==null?void 0:r[0];if(n.has(s)||e[s]===void 0)return n;n.add(s);for(const i of e[s])Nq({primaryType:i.type,types:e},n);return n}function Eq({types:t,name:e,type:n,value:r}){if(t[n]!==void 0)return[{type:"bytes32"},ts(Cq({data:r,primaryType:n,types:t}))];if(n==="bytes")return[{type:"bytes32"},ts(r)];if(n==="string")return[{type:"bytes32"},ts($a(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),i=r.map(a=>Eq({name:e,type:s,types:t,value:a}));return[{type:"bytes32"},ts(Jc(i.map(([a])=>a),i.map(([,a])=>a)))]}return[{type:n},r]}const z1="0x0000000000000000000000000000000000000000000000000000000000000000",A6e="1.2.2";let Di=class H6 extends Error{constructor(e,n={}){var a;const r=n.cause instanceof H6?n.cause.details:(a=n.cause)!=null&&a.message?n.cause.message:n.details,s=n.cause instanceof H6&&n.cause.docsPath||n.docsPath,i=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${A6e}`].join(`
`);super(i),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=e}};function eu(t,e){const n=t.exec(e);return n==null?void 0:n.groups}const Sq=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Rq=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Pq=/^\(.+?\).*?$/,GL=/^tuple(?<array>(\[(\d*)\])*)$/;function W6(t){let e=t.type;if(GL.test(t.type)&&"components"in t){e="(";const n=t.components.length;for(let s=0;s<n;s++){const i=t.components[s];e+=W6(i),s<n-1&&(e+=", ")}const r=eu(GL,t.type);return e+=`)${(r==null?void 0:r.array)||""}`,W6({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function Gf(t){let e="";const n=t.length;for(let r=0;r<n;r++){const s=t[r];e+=W6(s),r!==n-1&&(e+=", ")}return e}function G6(t){var e;return t.type==="function"?`function ${t.name}(${Gf(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${(e=t.outputs)!=null&&e.length?` returns (${Gf(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${Gf(t.inputs)})`:t.type==="error"?`error ${t.name}(${Gf(t.inputs)})`:t.type==="constructor"?`constructor(${Gf(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const Mq=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function I6e(t){return Mq.test(t)}function k6e(t){return eu(Mq,t)}const jq=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function C6e(t){return jq.test(t)}function N6e(t){return eu(jq,t)}const _q=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function E6e(t){return _q.test(t)}function S6e(t){return eu(_q,t)}const Dq=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function HP(t){return Dq.test(t)}function R6e(t){return eu(Dq,t)}const Oq=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function P6e(t){return Oq.test(t)}function M6e(t){return eu(Oq,t)}const Lq=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function j6e(t){return Lq.test(t)}function _6e(t){return eu(Lq,t)}const D6e=/^receive\(\) external payable$/;function O6e(t){return D6e.test(t)}const KL=new Set(["memory","indexed","storage","calldata"]),L6e=new Set(["indexed"]),K6=new Set(["calldata","memory","storage"]);class $6e extends Di{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class F6e extends Di{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class B6e extends Di{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class U6e extends Di{constructor({params:e}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class z6e extends Di{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class V6e extends Di{constructor({param:e,name:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class H6e extends Di{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class W6e extends Di{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class G6e extends Di{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class vy extends Di{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class K6e extends Di{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class Y6e extends Di{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class q6e extends Di{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class Z6e extends Di{constructor({current:e,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function X6e(t,e,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let i="";for(const a of s[1])i+=`[${a.type}${a.name?`:${a.name}`:""}]`;r+=`(${s[0]}{${i}})`}return e?`${e}:${t}${r}`:`${t}${r}`}const ik=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function YL(t,e={}){if(E6e(t))return J6e(t,e);if(C6e(t))return Q6e(t,e);if(I6e(t))return eEe(t,e);if(P6e(t))return tEe(t,e);if(j6e(t))return nEe(t);if(O6e(t))return{type:"receive",stateMutability:"payable"};throw new K6e({signature:t})}function J6e(t,e={}){const n=S6e(t);if(!n)throw new vy({signature:t,type:"function"});const r=Ki(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(Hc(r[o],{modifiers:K6,structs:e,type:"function"}));const a=[];if(n.returns){const o=Ki(n.returns),l=o.length;for(let u=0;u<l;u++)a.push(Hc(o[u],{modifiers:K6,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:a}}function Q6e(t,e={}){const n=N6e(t);if(!n)throw new vy({signature:t,type:"event"});const r=Ki(n.parameters),s=[],i=r.length;for(let a=0;a<i;a++)s.push(Hc(r[a],{modifiers:L6e,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:s}}function eEe(t,e={}){const n=k6e(t);if(!n)throw new vy({signature:t,type:"error"});const r=Ki(n.parameters),s=[],i=r.length;for(let a=0;a<i;a++)s.push(Hc(r[a],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:s}}function tEe(t,e={}){const n=M6e(t);if(!n)throw new vy({signature:t,type:"constructor"});const r=Ki(n.parameters),s=[],i=r.length;for(let a=0;a<i;a++)s.push(Hc(r[a],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function nEe(t){const e=_6e(t);if(!e)throw new vy({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const rEe=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,sEe=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,iEe=/^u?int$/;function Hc(t,e){var p,f;const n=X6e(t,e==null?void 0:e.type,e==null?void 0:e.structs);if(ik.has(n))return ik.get(n);const r=Pq.test(t),s=eu(r?sEe:rEe,t);if(!s)throw new z6e({param:t});if(s.name&&oEe(s.name))throw new V6e({param:t,name:s.name});const i=s.name?{name:s.name}:{},a=s.modifier==="indexed"?{indexed:!0}:{},o=(e==null?void 0:e.structs)??{};let l,u={};if(r){l="tuple";const h=Ki(s.type),y=[],m=h.length;for(let b=0;b<m;b++)y.push(Hc(h[b],{structs:o}));u={components:y}}else if(s.type in o)l="tuple",u={components:o[s.type]};else if(iEe.test(s.type))l=`${s.type}256`;else if(s.type==="address payable")l="address";else if(l=s.type,(e==null?void 0:e.type)!=="struct"&&!$q(l))throw new B6e({type:l});if(s.modifier){if(!((f=(p=e==null?void 0:e.modifiers)==null?void 0:p.has)!=null&&f.call(p,s.modifier)))throw new H6e({param:t,type:e==null?void 0:e.type,modifier:s.modifier});if(K6.has(s.modifier)&&!lEe(l,!!s.array))throw new W6e({param:t,type:e==null?void 0:e.type,modifier:s.modifier})}const d={type:`${l}${s.array??""}`,...i,...a,...u};return ik.set(n,d),d}function Ki(t,e=[],n="",r=0){const s=t.trim().length;for(let i=0;i<s;i++){const a=t[i],o=t.slice(i+1);switch(a){case",":return r===0?Ki(o,[...e,n.trim()]):Ki(o,e,`${n}${a}`,r);case"(":return Ki(o,e,`${n}${a}`,r+1);case")":return Ki(o,e,`${n}${a}`,r-1);default:return Ki(o,e,`${n}${a}`,r)}}if(n==="")return e;if(r!==0)throw new Z6e({current:n,depth:r});return e.push(n.trim()),e}function $q(t){return t==="address"||t==="bool"||t==="function"||t==="string"||Sq.test(t)||Rq.test(t)}const aEe=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function oEe(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||Sq.test(t)||Rq.test(t)||aEe.test(t)}function lEe(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function Fq(t){const e={},n=t.length;for(let a=0;a<n;a++){const o=t[a];if(!HP(o))continue;const l=R6e(o);if(!l)throw new vy({signature:o,type:"struct"});const u=l.properties.split(";"),d=[],p=u.length;for(let f=0;f<p;f++){const y=u[f].trim();if(!y)continue;const m=Hc(y,{type:"struct"});d.push(m)}if(!d.length)throw new Y6e({signature:o});e[l.name]=d}const r={},s=Object.entries(e),i=s.length;for(let a=0;a<i;a++){const[o,l]=s[a];r[o]=Bq(l,e)}return r}const cEe=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function Bq(t=[],e={},n=new Set){const r=[],s=t.length;for(let i=0;i<s;i++){const a=t[i];if(Pq.test(a.type))r.push(a);else{const l=eu(cEe,a.type);if(!(l!=null&&l.type))throw new G6e({abiParameter:a});const{array:u,type:d}=l;if(d in e){if(n.has(d))throw new q6e({type:d});r.push({...a,type:`tuple${u??""}`,components:Bq(e[d],e,new Set([...n,d]))})}else if($q(d))r.push(a);else throw new F6e({type:d})}}return r}function qL(t){let e;if(typeof t=="string")e=YL(t);else{const n=Fq(t),r=t.length;for(let s=0;s<r;s++){const i=t[s];if(!HP(i)){e=YL(i,n);break}}}if(!e)throw new $6e({signature:t});return e}function ZL(t){const e=[];if(typeof t=="string"){const n=Ki(t),r=n.length;for(let s=0;s<r;s++)e.push(Hc(n[s],{modifiers:KL}))}else{const n=Fq(t),r=t.length;for(let s=0;s<r;s++){const i=t[s];if(HP(i))continue;const a=Ki(i),o=a.length;for(let l=0;l<o;l++)e.push(Hc(a[l],{modifiers:KL,structs:n}))}}if(e.length===0)throw new U6e({params:t});return e}class uEe extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const dEe={checksum:new uEe(8192)},ak=dEe.checksum;function Uq(t,e={}){const{as:n=typeof t=="string"?"Hex":"Bytes"}=e,r=cY(UCe(t));return n==="Bytes"?r:Do(r)}const pEe=/^0x[a-fA-F0-9]{40}$/;function U2(t,e={}){const{strict:n=!0}=e;if(!pEe.test(t))throw new XL({address:t,cause:new fEe});if(n){if(t.toLowerCase()===t)return;if(zq(t)!==t)throw new XL({address:t,cause:new hEe})}}function zq(t){if(ak.has(t))return ak.get(t);U2(t,{strict:!1});const e=t.substring(2).toLowerCase(),n=Uq(VCe(e),{as:"Bytes"}),r=e.split("");for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&r[i]&&(r[i]=r[i].toUpperCase()),(n[i>>1]&15)>=8&&r[i+1]&&(r[i+1]=r[i+1].toUpperCase());const s=`0x${r.join("")}`;return ak.set(t,s),s}function Y6(t,e={}){const{strict:n=!0}=e??{};try{return U2(t,{strict:n}),!0}catch{return!1}}class XL extends nn{constructor({address:e,cause:n}){super(`Address "${e}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class fEe extends nn{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class hEe extends nn{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const mEe=/^(.*)\[([0-9]*)\]$/,yEe=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Vq=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,JL=2n**256n-1n;function Fh(t,e,n){const{checksumAddress:r,staticPosition:s}=n,i=KP(e.type);if(i){const[a,o]=i;return vEe(t,{...e,type:o},{checksumAddress:r,length:a,staticPosition:s})}if(e.type==="tuple")return TEe(t,e,{checksumAddress:r,staticPosition:s});if(e.type==="address")return gEe(t,{checksum:r});if(e.type==="bool")return bEe(t);if(e.type.startsWith("bytes"))return xEe(t,e,{staticPosition:s});if(e.type.startsWith("uint")||e.type.startsWith("int"))return wEe(t,e);if(e.type==="string")return AEe(t,{staticPosition:s});throw new qP(e.type)}const QL=32,q6=32;function gEe(t,e={}){const{checksum:n=!1}=e,r=t.readBytes(32);return[(i=>n?zq(i):i)(Do(WCe(r,-20))),32]}function vEe(t,e,n){const{checksumAddress:r,length:s,staticPosition:i}=n;if(!s){const l=Cc(t.readBytes(q6)),u=i+l,d=u+QL;t.setPosition(u);const p=Cc(t.readBytes(QL)),f=lv(e);let h=0;const y=[];for(let m=0;m<p;++m){t.setPosition(d+(f?m*32:h));const[b,v]=Fh(t,e,{checksumAddress:r,staticPosition:d});h+=v,y.push(b)}return t.setPosition(i+32),[y,32]}if(lv(e)){const l=Cc(t.readBytes(q6)),u=i+l,d=[];for(let p=0;p<s;++p){t.setPosition(u+p*32);const[f]=Fh(t,e,{checksumAddress:r,staticPosition:u});d.push(f)}return t.setPosition(i+32),[d,32]}let a=0;const o=[];for(let l=0;l<s;++l){const[u,d]=Fh(t,e,{checksumAddress:r,staticPosition:i+a});a+=d,o.push(u)}return[o,a]}function bEe(t){return[KCe(t.readBytes(32),{size:32}),32]}function xEe(t,e,{staticPosition:n}){const[r,s]=e.type.split("bytes");if(!s){const a=Cc(t.readBytes(32));t.setPosition(n+a);const o=Cc(t.readBytes(32));if(o===0)return t.setPosition(n+32),["0x",32];const l=t.readBytes(o);return t.setPosition(n+32),[Do(l),32]}return[Do(t.readBytes(Number.parseInt(s,10),32)),32]}function wEe(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256",10),s=t.readBytes(32);return[r>48?GCe(s,{signed:n}):Cc(s,{signed:n}),32]}function TEe(t,e,n){const{checksumAddress:r,staticPosition:s}=n,i=e.components.length===0||e.components.some(({name:l})=>!l),a=i?[]:{};let o=0;if(lv(e)){const l=Cc(t.readBytes(q6)),u=s+l;for(let d=0;d<e.components.length;++d){const p=e.components[d];t.setPosition(u+o);const[f,h]=Fh(t,p,{checksumAddress:r,staticPosition:u});o+=h,a[i?d:p==null?void 0:p.name]=f}return t.setPosition(s+32),[a,32]}for(let l=0;l<e.components.length;++l){const u=e.components[l],[d,p]=Fh(t,u,{checksumAddress:r,staticPosition:s});a[i?l:u==null?void 0:u.name]=d,o+=p}return[a,o]}function AEe(t,{staticPosition:e}){const n=Cc(t.readBytes(32)),r=e+n;t.setPosition(r);const s=Cc(t.readBytes(32));if(s===0)return t.setPosition(e+32),["",32];const i=t.readBytes(s,32),a=YCe(WY(i));return t.setPosition(e+32),[a,32]}function IEe({checksumAddress:t,parameters:e,values:n}){const r=[];for(let s=0;s<e.length;s++)r.push(WP({checksumAddress:t,parameter:e[s],value:n[s]}));return r}function WP({checksumAddress:t=!1,parameter:e,value:n}){const r=e,s=KP(r.type);if(s){const[i,a]=s;return CEe(n,{checksumAddress:t,length:i,parameter:{...r,type:a}})}if(r.type==="tuple")return PEe(n,{checksumAddress:t,parameter:r});if(r.type==="address")return kEe(n,{checksum:t});if(r.type==="bool")return EEe(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const i=r.type.startsWith("int"),[,,a="256"]=Vq.exec(r.type)??[];return SEe(n,{signed:i,size:Number(a)})}if(r.type.startsWith("bytes"))return NEe(n,{type:r.type});if(r.type==="string")return REe(n);throw new qP(r.type)}function GP(t){let e=0;for(let i=0;i<t.length;i++){const{dynamic:a,encoded:o}=t[i];a?e+=32:e+=sa(o)}const n=[],r=[];let s=0;for(let i=0;i<t.length;i++){const{dynamic:a,encoded:o}=t[i];a?(n.push(Ks(e+s,{size:32})),r.push(o),s+=sa(o)):n.push(o)}return _o(...n,...r)}function kEe(t,e){const{checksum:n=!1}=e;return U2(t,{strict:n}),{dynamic:!1,encoded:ff(t.toLowerCase())}}function CEe(t,e){const{checksumAddress:n,length:r,parameter:s}=e,i=r===null;if(!Array.isArray(t))throw new BEe(t);if(!i&&t.length!==r)throw new FEe({expectedLength:r,givenLength:t.length,type:`${s.type}[${r}]`});let a=!1;const o=[];for(let l=0;l<t.length;l++){const u=WP({checksumAddress:n,parameter:s,value:t[l]});u.dynamic&&(a=!0),o.push(u)}if(i||a){const l=GP(o);if(i){const u=Ks(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?_o(u,l):u}}if(a)return{dynamic:!0,encoded:l}}return{dynamic:!1,encoded:_o(...o.map(({encoded:l})=>l))}}function NEe(t,{type:e}){const[,n]=e.split("bytes"),r=sa(t);if(!n){let s=t;return r%32!==0&&(s=hf(s,Math.ceil((t.length-2)/2/32)*32)),{dynamic:!0,encoded:_o(ff(Ks(r,{size:32})),s)}}if(r!==Number.parseInt(n,10))throw new Wq({expectedSize:Number.parseInt(n,10),value:t});return{dynamic:!1,encoded:hf(t)}}function EEe(t){if(typeof t!="boolean")throw new nn(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:ff(GY(t))}}function SEe(t,{signed:e,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,s=e?-r-1n:0n;if(t>r||t<s)throw new qY({max:r.toString(),min:s.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:Ks(t,{size:32,signed:e})}}function REe(t){const e=_P(t),n=Math.ceil(sa(e)/32),r=[];for(let s=0;s<n;s++)r.push(hf(Al(e,s*32,(s+1)*32)));return{dynamic:!0,encoded:_o(hf(Ks(sa(e),{size:32})),...r)}}function PEe(t,e){const{checksumAddress:n,parameter:r}=e;let s=!1;const i=[];for(let a=0;a<r.components.length;a++){const o=r.components[a],l=Array.isArray(t)?a:o.name,u=WP({checksumAddress:n,parameter:o,value:t[l]});i.push(u),u.dynamic&&(s=!0)}return{dynamic:s,encoded:s?GP(i):_o(...i.map(({encoded:a})=>a))}}function KP(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function lv(t){var r;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(r=t.components)==null?void 0:r.some(lv);const n=KP(t.type);return!!(n&&lv({...t,type:n[1]}))}const MEe={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new DEe({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new _Ee({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new e8({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new e8({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function jEe(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(MEe);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}class e8 extends nn{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class _Ee extends nn{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class DEe extends nn{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function OEe(t,e,n={}){const{as:r="Array",checksumAddress:s=!1}=n,i=typeof e=="string"?HY(e):e,a=jEe(i);if(Th(i)===0&&t.length>0)throw new $Ee;if(Th(i)&&Th(i)<32)throw new LEe({data:typeof e=="string"?e:Do(e),parameters:t,size:Th(i)});let o=0;const l=r==="Array"?[]:{};for(let u=0;u<t.length;++u){const d=t[u];a.setPosition(o);const[p,f]=Fh(a,d,{checksumAddress:s,staticPosition:0});o+=f,r==="Array"?l.push(p):l[d.name??u]=p}return l}function YP(t,e,n){const{checksumAddress:r=!1}={};if(t.length!==e.length)throw new Gq({expectedLength:t.length,givenLength:e.length});const s=IEe({checksumAddress:r,parameters:t,values:e}),i=GP(s);return i.length===0?"0x":i}function Z6(t,e){if(t.length!==e.length)throw new Gq({expectedLength:t.length,givenLength:e.length});const n=[];for(let r=0;r<t.length;r++){const s=t[r],i=e[r];n.push(Z6.encode(s,i))}return _o(...n)}(function(t){function e(n,r,s=!1){if(n==="address"){const l=r;return U2(l),ff(l.toLowerCase(),s?32:0)}if(n==="string")return _P(r);if(n==="bytes")return r;if(n==="bool")return ff(GY(r),s?32:1);const i=n.match(Vq);if(i){const[l,u,d="256"]=i,p=Number.parseInt(d,10)/8;return Ks(r,{size:s?32:p,signed:u==="int"})}const a=n.match(yEe);if(a){const[l,u]=a;if(Number.parseInt(u,10)!==(r.length-2)/2)throw new Wq({expectedSize:Number.parseInt(u,10),value:r});return hf(r,s?32:0)}const o=n.match(mEe);if(o&&Array.isArray(r)){const[l,u]=o,d=[];for(let p=0;p<r.length;p++)d.push(e(u,r[p],!0));return d.length===0?"0x":_o(...d)}throw new qP(n)}t.encode=e})(Z6||(Z6={}));function Hq(t){return Array.isArray(t)&&typeof t[0]=="string"||typeof t=="string"?ZL(t):t}class LEe extends nn{constructor({data:e,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${Gf(n)})`,`Data:   ${e} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class $Ee extends nn{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class FEe extends nn{constructor({expectedLength:e,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${e}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class Wq extends nn{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${sa(n)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class Gq extends nn{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class BEe extends nn{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class qP extends nn{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}class Kq extends mP{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,VIe(e);const r=C2(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let a=0;a<i.length;a++)i[a]^=54;this.iHash.update(i),this.oHash=e.create();for(let a=0;a<i.length;a++)i[a]^=106;this.oHash.update(i),Nm(i)}update(e){return Cm(this),this.iHash.update(e),this}digestInto(e){Cm(this),cf(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:a,outputLen:o}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=a,e.outputLen=o,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Yq=(t,e,n)=>new Kq(t,e).update(n).digest();Yq.create=(t,e)=>new Kq(t,e);function qq(t,e={}){const{recovered:n}=e;if(typeof t.r>"u")throw new ok({signature:t});if(typeof t.s>"u")throw new ok({signature:t});if(n&&typeof t.yParity>"u")throw new ok({signature:t});if(t.r<0n||t.r>JL)throw new KEe({value:t.r});if(t.s<0n||t.s>JL)throw new YEe({value:t.s});if(typeof t.yParity=="number"&&t.yParity!==0&&t.yParity!==1)throw new XP({value:t.yParity})}function UEe(t){return Zq(Do(t))}function Zq(t){if(t.length!==130&&t.length!==132)throw new GEe({signature:t});const e=BigInt(Al(t,0,32)),n=BigInt(Al(t,32,64)),r=(()=>{const s=+`0x${t.slice(130)}`;if(!Number.isNaN(s))try{return ZP(s)}catch{throw new XP({value:s})}})();return typeof r>"u"?{r:e,s:n}:{r:e,s:n,yParity:r}}function zEe(t){if(!(typeof t.r>"u")&&!(typeof t.s>"u"))return VEe(t)}function VEe(t){const e=typeof t=="string"?Zq(t):t instanceof Uint8Array?UEe(t):typeof t.r=="string"?WEe(t):t.v?HEe(t):{r:t.r,s:t.s,...typeof t.yParity<"u"?{yParity:t.yParity}:{}};return qq(e),e}function HEe(t){return{r:t.r,s:t.s,yParity:ZP(t.v)}}function WEe(t){const e=(()=>{const n=t.v?Number(t.v):void 0;let r=t.yParity?Number(t.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=ZP(n)),typeof r!="number")throw new XP({value:t.yParity});return r})();return{r:BigInt(t.r),s:BigInt(t.s),yParity:e}}function ZP(t){if(t===0||t===27)return 0;if(t===1||t===28)return 1;if(t>=35)return t%2===0?1:0;throw new qEe({value:t})}class GEe extends nn{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${sa(nNe(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class ok extends nn{constructor({signature:e}){super(`Signature \`${VY(e)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class KEe extends nn{constructor({value:e}){super(`Value \`${e}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class YEe extends nn{constructor({value:e}){super(`Value \`${e}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class XP extends nn{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class qEe extends nn{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function ZEe(t,e={}){return typeof t.chainId=="string"?XEe(t):{...t,...e.signature}}function XEe(t){const{address:e,chainId:n,nonce:r}=t,s=zEe(t);return{address:e,chainId:Number(n),nonce:BigInt(r),...s}}const JEe="0x8010801080108010801080108010801080108010801080108010801080108010",QEe=Hq("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function Xq(t){if(typeof t=="string"){if(Al(t,-32)!==JEe)throw new n5e(t)}else qq(t.authorization)}function e5e(t){Xq(t);const e=YY(Al(t,-64,-32)),n=Al(t,-e-64,-64),r=Al(t,0,-e-64),[s,i,a]=OEe(QEe,n);return{authorization:ZEe({address:s.delegation,chainId:Number(s.chainId),nonce:s.nonce,yParity:s.yParity,r:s.r,s:s.s}),signature:r,...a&&a!=="0x"?{data:a,to:i}:{}}}function t5e(t){try{return Xq(t),!0}catch{return!1}}let n5e=class extends nn{constructor(e){super(`Value \`${e}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};function r5e(t){return t.map(e=>({...e,value:BigInt(e.value)}))}function s5e(t){return{...t,balance:t.balance?BigInt(t.balance):void 0,nonce:t.nonce?jo(t.nonce):void 0,storageProof:t.storageProof?r5e(t.storageProof):void 0}}async function i5e(t,{address:e,blockNumber:n,blockTag:r,storageKeys:s}){const i=r??"latest",a=n!==void 0?rt(n):void 0,o=await t.request({method:"eth_getProof",params:[e,s,a||i]});return s5e(o)}async function a5e(t,{address:e,blockNumber:n,blockTag:r="latest",slot:s}){const i=n!==void 0?rt(n):void 0;return await t.request({method:"eth_getStorageAt",params:[e,s,i||r]})}async function JP(t,{blockHash:e,blockNumber:n,blockTag:r,hash:s,index:i,sender:a,nonce:o}){var f,h,y;const l=r||"latest",u=n!==void 0?rt(n):void 0;let d=null;if(s?d=await t.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):e?d=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,rt(i)]},{dedupe:!0}):(u||l)&&typeof i=="number"?d=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[u||l,rt(i)]},{dedupe:!!u}):a&&typeof o=="number"&&(d=await t.request({method:"eth_getTransactionBySenderAndNonce",params:[a,rt(o)]},{dedupe:!0})),!d)throw new wY({blockHash:e,blockNumber:n,blockTag:l,hash:s,index:i});return(((y=(h=(f=t.chain)==null?void 0:f.formatters)==null?void 0:h.transaction)==null?void 0:y.format)||kP)(d,"getTransaction")}async function o5e(t,{hash:e,transactionReceipt:n}){const[r,s]=await Promise.all([Ze(t,pb,"getBlockNumber")({}),e?Ze(t,JP,"getTransaction")({hash:e}):void 0]),i=(n==null?void 0:n.blockNumber)||(s==null?void 0:s.blockNumber);return i?r-i+1n:0n}async function gw(t,{hash:e}){var s,i,a;const n=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!n)throw new TY({hash:e});return(((a=(i=(s=t.chain)==null?void 0:s.formatters)==null?void 0:i.transactionReceipt)==null?void 0:a.format)||oq)(n,"getTransactionReceipt")}async function l5e(t,e){var g;const{account:n,authorizationList:r,allowFailure:s=!0,blockNumber:i,blockOverrides:a,blockTag:o,stateOverride:l}=e,u=e.contracts,{batchSize:d=e.batchSize??1024,deployless:p=e.deployless??!1}=typeof((g=t.batch)==null?void 0:g.multicall)=="object"?t.batch.multicall:{},f=(()=>{if(e.multicallAddress)return e.multicallAddress;if(p)return null;if(t.chain)return my({blockNumber:i,chain:t.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),h=[[]];let y=0,m=0;for(let x=0;x<u.length;x++){const{abi:T,address:I,args:C,functionName:N}=u[x];try{const P=pe({abi:T,args:C,functionName:N});m+=(P.length-2)/2,d>0&&m>d&&h[y].length>0&&(y++,m=(P.length-2)/2,h[y]=[]),h[y]=[...h[y],{allowFailure:!0,callData:P,target:I}]}catch(P){const L=pf(P,{abi:T,address:I,args:C,docsPath:"/docs/contract/multicall",functionName:N,sender:n});if(!s)throw L;h[y]=[...h[y],{allowFailure:!0,callData:"0x",target:I}]}}const b=await Promise.allSettled(h.map(x=>Ze(t,Oo,"readContract")({...f===null?{code:DP}:{address:f},abi:U1,account:n,args:[x],authorizationList:r,blockNumber:i,blockOverrides:a,blockTag:o,functionName:"aggregate3",stateOverride:l}))),v=[];for(let x=0;x<b.length;x++){const T=b[x];if(T.status==="rejected"){if(!s)throw T.reason;for(let C=0;C<h[x].length;C++)v.push({status:"failure",error:T.reason,result:void 0});continue}const I=T.value;for(let C=0;C<I.length;C++){const{returnData:N,success:P}=I[C],{callData:L}=h[x][C],{abi:U,address:$,functionName:B,args:_}=u[v.length];try{if(L==="0x")throw new rb;if(!P)throw new R2({data:N});const w=Ef({abi:U,args:_,data:N,functionName:B});v.push(s?{result:w,status:"success"}:w)}catch(w){const k=pf(w,{abi:U,address:$,args:_,docsPath:"/docs/contract/multicall",functionName:B});if(!s)throw k;v.push({error:k,result:void 0,status:"failure"})}}}if(v.length!==u.length)throw new he("multicall results mismatch");return v}async function X6(t,e){const{blockNumber:n,blockTag:r=t.experimental_blockTag??"latest",blocks:s,returnFullTransactions:i,traceTransfers:a,validation:o}=e;try{const l=[];for(const f of s){const h=f.blockOverrides?XY(f.blockOverrides):void 0,y=f.calls.map(b=>{const v=b,g=v.account?Yn(v.account):void 0,x=v.abi?pe(v):v.data,T={...v,account:g,data:v.dataSuffix?Fa([x||"0x",v.dataSuffix]):x,from:v.from??(g==null?void 0:g.address)};return Qc(T),Od(T)}),m=f.stateOverrides?AP(f.stateOverrides):void 0;l.push({blockOverrides:h,calls:y,stateOverrides:m})}const d=(typeof n=="bigint"?rt(n):void 0)||r;return(await t.request({method:"eth_simulateV1",params:[{blockStateCalls:l,returnFullTransactions:i,traceTransfers:a,validation:o},d]})).map((f,h)=>({...MY(f),calls:f.calls.map((y,m)=>{var U,$;const{abi:b,args:v,functionName:g,to:x}=s[h].calls[m],T=((U=y.error)==null?void 0:U.data)??y.returnData,I=BigInt(y.gasUsed),C=($=y.logs)==null?void 0:$.map(B=>zc(B)),N=y.status==="0x1"?"success":"failure",P=b&&N==="success"&&T!=="0x"?Ef({abi:b,data:T,functionName:g}):null,L=(()=>{var _;if(N==="success")return;let B;if(((_=y.error)==null?void 0:_.data)==="0x"?B=new rb:y.error&&(B=new R2(y.error)),!!B)return pf(B,{abi:b??[],address:x??"0x",args:v,functionName:g??"<unknown>"})})();return{data:T,gasUsed:I,logs:C,status:N,...N==="success"?{result:P}:{error:L}}})}))}catch(l){const u=l,d=M2(u,{});throw d instanceof lb?u:d}}function J6(t){let e=!0,n="",r=0,s="",i=!1;for(let a=0;a<t.length;a++){const o=t[a];if(["(",")",","].includes(o)&&(e=!0),o==="("&&r++,o===")"&&r--,!!e){if(r===0){if(o===" "&&["event","function","error",""].includes(s))s="";else if(s+=o,o===")"){i=!0;break}continue}if(o===" "){t[a-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}s+=o,n+=o}}if(!i)throw new nn("Unable to normalize signature.");return s}function Q6(t,e){const n=typeof t,r=e.type;switch(r){case"address":return Y6(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((s,i)=>Q6(Object.values(t)[i],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(s=>Q6(s,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Jq(t,e,n){for(const r in t){const s=t[r],i=e[r];if(s.type==="tuple"&&i.type==="tuple"&&"components"in s&&"components"in i)return Jq(s.components,i.components,n[r]);const a=[s.type,i.type];if(a.includes("address")&&a.includes("bytes20")?!0:a.includes("address")&&a.includes("string")?Y6(n[r],{strict:!1}):a.includes("address")&&a.includes("bytes")?Y6(n[r],{strict:!1}):!1)return a}}function Qq(t,e={}){const{prepare:n=!0}=e,r=Array.isArray(t)||typeof t=="string"?qL(t):t;return{...r,...n?{hash:Ah(r)}:{}}}function z2(t,e,n){const{args:r=[],prepare:s=!0}=n??{},i=rNe(e,{strict:!1}),a=t.filter(u=>i?u.type==="function"||u.type==="error"?eZ(u)===Al(e,0,4):u.type==="event"?Ah(u)===e:!1:"name"in u&&u.name===e);if(a.length===0)throw new V1({name:e});if(a.length===1)return{...a[0],...s?{hash:Ah(a[0])}:{}};let o;for(const u of a){if(!("inputs"in u))continue;if(!r||r.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...s?{hash:Ah(u)}:{}};continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==r.length)continue;if(r.every((p,f)=>{const h="inputs"in u&&u.inputs[f];return h?Q6(p,h):!1})){if(o&&"inputs"in o&&o.inputs){const p=Jq(u.inputs,o.inputs,r);if(p)throw new u5e({abiItem:u,type:p[0]},{abiItem:o,type:p[1]})}o=u}}const l=(()=>{if(o)return o;const[u,...d]=a;return{...u,overloads:d}})();if(!l)throw new V1({name:e});return{...l,...s?{hash:Ah(l)}:{}}}function eZ(...t){const e=(()=>{if(Array.isArray(t[0])){const[n,r]=t;return z2(n,r)}return t[0]})();return Al(Ah(e),0,4)}function c5e(...t){const e=(()=>{if(Array.isArray(t[0])){const[r,s]=t;return z2(r,s)}return t[0]})(),n=typeof e=="string"?e:G6(e);return J6(n)}function Ah(...t){const e=(()=>{if(Array.isArray(t[0])){const[n,r]=t;return z2(n,r)}return t[0]})();return typeof e!="string"&&"hash"in e&&e.hash?e.hash:Uq(_P(c5e(e)))}class u5e extends nn{constructor(e,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${J6(G6(e.abiItem))}\`, and`,`\`${n.type}\` in \`${J6(G6(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class V1 extends nn{constructor({name:e,data:n,type:r="item"}){const s=e?` with name "${e}"`:n?` with data "${n}"`:"";super(`ABI ${r}${s} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function d5e(...t){var i;const[e,n]=(()=>{if(Array.isArray(t[0])){const[a,o]=t;return[f5e(a),o]}return t})(),{bytecode:r,args:s}=n;return _o(r,(i=e.inputs)!=null&&i.length&&(s!=null&&s.length)?YP(e.inputs,s):"0x")}function p5e(t){return Qq(t)}function f5e(t){const e=t.find(n=>n.type==="constructor");if(!e)throw new V1({name:"constructor"});return e}function h5e(...t){const[e,n=[]]=(()=>{if(Array.isArray(t[0])){const[u,d,p]=t;return[t8(u,d,{args:p}),p]}const[o,l]=t;return[o,l]})(),{overloads:r}=e,s=r?t8([e,...r],e.name,{args:n}):e,i=m5e(s),a=n.length>0?YP(s.inputs,n):void 0;return a?_o(i,a):i}function Of(t,e={}){return Qq(t,e)}function t8(t,e,n){const r=z2(t,e,n);if(r.type!=="function")throw new V1({name:e,type:"function"});return r}function m5e(t){return eZ(t)}const y5e="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",Ot="0x0000000000000000000000000000000000000000",g5e="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function v5e(t,e){const{blockNumber:n,blockTag:r,calls:s,stateOverrides:i,traceAssetChanges:a,traceTransfers:o,validation:l}=e,u=e.account?Yn(e.account):void 0;if(a&&!u)throw new he("`account` is required when `traceAssetChanges` is true");const d=u?d5e(p5e("constructor(bytes, bytes)"),{bytecode:tq,args:[g5e,h5e(Of("function getBalance(address)"),[u.address])]}):void 0,p=a?await Promise.all(e.calls.map(async R=>{if(!R.data&&!R.abi)return;const{accessList:j}=await vq(t,{account:u.address,...R,data:R.abi?pe(R):R.data});return j.map(({address:V,storageKeys:O})=>O.length>0?V:null)})).then(R=>R.flat().filter(Boolean)):[],f=await X6(t,{blockNumber:n,blockTag:r,blocks:[...a?[{calls:[{data:d}],stateOverrides:i},{calls:p.map((R,j)=>({abi:[Of("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:R,from:Ot,nonce:j})),stateOverrides:[{address:Ot,nonce:0}]}]:[],{calls:[...s,{}].map(R=>({...R,from:u==null?void 0:u.address})),stateOverrides:i},...a?[{calls:[{data:d}]},{calls:p.map((R,j)=>({abi:[Of("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:R,from:Ot,nonce:j})),stateOverrides:[{address:Ot,nonce:0}]},{calls:p.map((R,j)=>({to:R,abi:[Of("function decimals() returns (uint256)")],functionName:"decimals",from:Ot,nonce:j})),stateOverrides:[{address:Ot,nonce:0}]},{calls:p.map((R,j)=>({to:R,abi:[Of("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:Ot,nonce:j})),stateOverrides:[{address:Ot,nonce:0}]},{calls:p.map((R,j)=>({to:R,abi:[Of("function symbol() returns (string)")],functionName:"symbol",from:Ot,nonce:j})),stateOverrides:[{address:Ot,nonce:0}]}]:[]],traceTransfers:o,validation:l}),h=a?f[2]:f[0],[y,m,,b,v,g,x,T]=a?f:[],{calls:I,...C}=h,N=I.slice(0,-1)??[],P=(y==null?void 0:y.calls)??[],L=(m==null?void 0:m.calls)??[],U=[...P,...L].map(R=>R.status==="success"?ra(R.data):null),$=(b==null?void 0:b.calls)??[],B=(v==null?void 0:v.calls)??[],_=[...$,...B].map(R=>R.status==="success"?ra(R.data):null),w=((g==null?void 0:g.calls)??[]).map(R=>R.status==="success"?R.result:null),k=((T==null?void 0:T.calls)??[]).map(R=>R.status==="success"?R.result:null),S=((x==null?void 0:x.calls)??[]).map(R=>R.status==="success"?R.result:null),M=[];for(const[R,j]of _.entries()){const V=U[R];if(typeof j!="bigint"||typeof V!="bigint")continue;const O=w[R-1],E=k[R-1],z=S[R-1],Z=R===0?{address:y5e,decimals:18,symbol:"ETH"}:{address:p[R-1],decimals:z||O?Number(O??1):void 0,symbol:E??void 0};M.some(F=>F.token.address===Z.address)||M.push({token:Z,value:{pre:V,post:j,diff:j-V}})}return{assetChanges:M,block:C,results:N}}const tZ="0x6492649264926492649264926492649264926492649264926492649264926492";function b5e(t){if(Al(t,-32)!==tZ)throw new T5e(t)}function x5e(t){const{data:e,signature:n,to:r}=t;return _o(YP(Hq("address, bytes, bytes"),[r,e,n]),tZ)}function w5e(t){try{return b5e(t),!0}catch{return!1}}class T5e extends nn{constructor(e){super(`Value \`${e}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const QP=BigInt(0),eE=BigInt(1);function fb(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function eM(t){if(!fb(t))throw new Error("Uint8Array expected")}function cv(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function ix(t){const e=t.toString(16);return e.length&1?"0"+e:e}function nZ(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?QP:BigInt("0x"+t)}const rZ=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",A5e=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function uv(t){if(eM(t),rZ)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=A5e[t[n]];return e}const Wl={_0:48,_9:57,A:65,F:70,a:97,f:102};function n8(t){if(t>=Wl._0&&t<=Wl._9)return t-Wl._0;if(t>=Wl.A&&t<=Wl.F)return t-(Wl.A-10);if(t>=Wl.a&&t<=Wl.f)return t-(Wl.a-10)}function H1(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(rZ)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const a=n8(t.charCodeAt(i)),o=n8(t.charCodeAt(i+1));if(a===void 0||o===void 0){const l=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+i)}r[s]=a*16+o}return r}function zp(t){return nZ(uv(t))}function sZ(t){return eM(t),nZ(uv(Uint8Array.from(t).reverse()))}function hb(t,e){return H1(t.toString(16).padStart(e*2,"0"))}function iZ(t,e){return hb(t,e).reverse()}function xa(t,e,n){let r;if(typeof e=="string")try{r=H1(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(fb(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(t+" of length "+n+" expected, got "+s);return r}function W1(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];eM(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}const lk=t=>typeof t=="bigint"&&QP<=t;function tM(t,e,n){return lk(t)&&lk(e)&&lk(n)&&e<=t&&t<n}function Bh(t,e,n,r){if(!tM(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function I5e(t){let e;for(e=0;t>QP;t>>=eE,e+=1);return e}const V2=t=>(eE<<BigInt(t))-eE,ck=t=>new Uint8Array(t),r8=t=>Uint8Array.from(t);function k5e(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=ck(t),s=ck(t),i=0;const a=()=>{r.fill(1),s.fill(0),i=0},o=(...p)=>n(s,r,...p),l=(p=ck(0))=>{s=o(r8([0]),p),r=o(),p.length!==0&&(s=o(r8([1]),p),r=o())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let p=0;const f=[];for(;p<e;){r=o();const h=r.slice();f.push(h),p+=r.length}return W1(...f)};return(p,f)=>{a(),l(p);let h;for(;!(h=f(u()));)l();return a(),h}}const C5e={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||fb(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function H2(t,e,n={}){const r=(s,i,a)=>{const o=C5e[i];if(typeof o!="function")throw new Error("invalid validator function");const l=t[s];if(!(a&&l===void 0)&&!o(l,t))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+l)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return t}function s8(t){const e=new WeakMap;return(n,...r)=>{const s=e.get(n);if(s!==void 0)return s;const i=t(n,...r);return e.set(n,i),i}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ai=BigInt(0),ei=BigInt(1),vp=BigInt(2),N5e=BigInt(3),aZ=BigInt(4),oZ=BigInt(5),lZ=BigInt(8);function pi(t,e){const n=t%e;return n>=Ai?n:e+n}function fa(t,e,n){let r=t;for(;e-- >Ai;)r*=r,r%=n;return r}function tE(t,e){if(t===Ai)throw new Error("invert: expected non-zero number");if(e<=Ai)throw new Error("invert: expected positive modulus, got "+e);let n=pi(t,e),r=e,s=Ai,i=ei;for(;n!==Ai;){const o=r/n,l=r%n,u=s-i*o;r=n,n=l,s=i,i=u}if(r!==ei)throw new Error("invert: does not exist");return pi(s,e)}function cZ(t,e){const n=(t.ORDER+ei)/aZ,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function E5e(t,e){const n=(t.ORDER-oZ)/lZ,r=t.mul(e,vp),s=t.pow(r,n),i=t.mul(e,s),a=t.mul(t.mul(i,vp),s),o=t.mul(i,t.sub(a,t.ONE));if(!t.eql(t.sqr(o),e))throw new Error("Cannot find square root");return o}function S5e(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-ei,n=0;for(;e%vp===Ai;)e/=vp,n++;let r=vp;const s=nM(t);for(;i8(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return cZ;let i=s.pow(r,e);const a=(e+ei)/vp;return function(l,u){if(l.is0(u))return u;if(i8(l,u)!==1)throw new Error("Cannot find square root");let d=n,p=l.mul(l.ONE,i),f=l.pow(u,e),h=l.pow(u,a);for(;!l.eql(f,l.ONE);){if(l.is0(f))return l.ZERO;let y=1,m=l.sqr(f);for(;!l.eql(m,l.ONE);)if(y++,m=l.sqr(m),y===d)throw new Error("Cannot find square root");const b=ei<<BigInt(d-y-1),v=l.pow(p,b);d=y,p=l.sqr(v),f=l.mul(f,p),h=l.mul(h,v)}return h}}function R5e(t){return t%aZ===N5e?cZ:t%lZ===oZ?E5e:S5e(t)}const P5e=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function M5e(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=P5e.reduce((r,s)=>(r[s]="function",r),e);return H2(t,n)}function j5e(t,e,n){if(n<Ai)throw new Error("invalid exponent, negatives unsupported");if(n===Ai)return t.ONE;if(n===ei)return e;let r=t.ONE,s=e;for(;n>Ai;)n&ei&&(r=t.mul(r,s)),s=t.sqr(s),n>>=ei;return r}function uZ(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),s=e.reduce((a,o,l)=>t.is0(o)?a:(r[l]=a,t.mul(a,o)),t.ONE),i=t.inv(s);return e.reduceRight((a,o,l)=>t.is0(o)?a:(r[l]=t.mul(a,r[l]),t.mul(a,o)),i),r}function i8(t,e){const n=(t.ORDER-ei)/vp,r=t.pow(e,n),s=t.eql(r,t.ONE),i=t.eql(r,t.ZERO),a=t.eql(r,t.neg(t.ONE));if(!s&&!i&&!a)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function dZ(t,e){e!==void 0&&U0(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function nM(t,e,n=!1,r={}){if(t<=Ai)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:s,nByteLength:i}=dZ(t,e);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let a;const o=Object.freeze({ORDER:t,isLE:n,BITS:s,BYTES:i,MASK:V2(s),ZERO:Ai,ONE:ei,create:l=>pi(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof l);return Ai<=l&&l<t},is0:l=>l===Ai,isOdd:l=>(l&ei)===ei,neg:l=>pi(-l,t),eql:(l,u)=>l===u,sqr:l=>pi(l*l,t),add:(l,u)=>pi(l+u,t),sub:(l,u)=>pi(l-u,t),mul:(l,u)=>pi(l*u,t),pow:(l,u)=>j5e(o,l,u),div:(l,u)=>pi(l*tE(u,t),t),sqrN:l=>l*l,addN:(l,u)=>l+u,subN:(l,u)=>l-u,mulN:(l,u)=>l*u,inv:l=>tE(l,t),sqrt:r.sqrt||(l=>(a||(a=R5e(t)),a(o,l))),toBytes:l=>n?iZ(l,i):hb(l,i),fromBytes:l=>{if(l.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+l.length);return n?sZ(l):zp(l)},invertBatch:l=>uZ(o,l),cmov:(l,u,d)=>d?u:l});return Object.freeze(o)}function pZ(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function fZ(t){const e=pZ(t);return e+Math.ceil(e/2)}function _5e(t,e,n=!1){const r=t.length,s=pZ(e),i=fZ(e);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const a=n?sZ(t):zp(t),o=pi(a,e-ei)+ei;return n?iZ(o,s):hb(o,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const a8=BigInt(0),nE=BigInt(1);function uk(t,e){const n=e.negate();return t?n:e}function hZ(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function dk(t,e){hZ(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),s=2**t,i=V2(t),a=BigInt(t);return{windows:n,windowSize:r,mask:i,maxNumber:s,shiftBy:a}}function o8(t,e,n){const{windowSize:r,mask:s,maxNumber:i,shiftBy:a}=n;let o=Number(t&s),l=t>>a;o>r&&(o-=i,l+=nE);const u=e*r,d=u+Math.abs(o)-1,p=o===0,f=o<0,h=e%2!==0;return{nextN:l,offset:d,isZero:p,isNeg:f,isNegF:h,offsetF:u}}function D5e(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function O5e(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const pk=new WeakMap,mZ=new WeakMap;function fk(t){return mZ.get(t)||1}function L5e(t,e){return{constTimeNegate:uk,hasPrecomputes(n){return fk(n)!==1},unsafeLadder(n,r,s=t.ZERO){let i=n;for(;r>a8;)r&nE&&(s=s.add(i)),i=i.double(),r>>=nE;return s},precomputeWindow(n,r){const{windows:s,windowSize:i}=dk(r,e),a=[];let o=n,l=o;for(let u=0;u<s;u++){l=o,a.push(l);for(let d=1;d<i;d++)l=l.add(o),a.push(l);o=l.double()}return a},wNAF(n,r,s){let i=t.ZERO,a=t.BASE;const o=dk(n,e);for(let l=0;l<o.windows;l++){const{nextN:u,offset:d,isZero:p,isNeg:f,isNegF:h,offsetF:y}=o8(s,l,o);s=u,p?a=a.add(uk(h,r[y])):i=i.add(uk(f,r[d]))}return{p:i,f:a}},wNAFUnsafe(n,r,s,i=t.ZERO){const a=dk(n,e);for(let o=0;o<a.windows&&s!==a8;o++){const{nextN:l,offset:u,isZero:d,isNeg:p}=o8(s,o,a);if(s=l,!d){const f=r[u];i=i.add(p?f.negate():f)}}return i},getPrecomputes(n,r,s){let i=pk.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&pk.set(r,s(i))),i},wNAFCached(n,r,s){const i=fk(n);return this.wNAF(i,this.getPrecomputes(i,n,s),r)},wNAFCachedUnsafe(n,r,s,i){const a=fk(n);return a===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(a,this.getPrecomputes(a,n,s),r,i)},setWindowSize(n,r){hZ(r,e),mZ.set(n,r),pk.delete(n)}}}function $5e(t,e,n,r){D5e(n,t),O5e(r,e);const s=n.length,i=r.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const a=t.ZERO,o=I5e(BigInt(s));let l=1;o>12?l=o-3:o>4?l=o-2:o>0&&(l=2);const u=V2(l),d=new Array(Number(u)+1).fill(a),p=Math.floor((e.BITS-1)/l)*l;let f=a;for(let h=p;h>=0;h-=l){d.fill(a);for(let m=0;m<i;m++){const b=r[m],v=Number(b>>BigInt(h)&u);d[v]=d[v].add(n[m])}let y=a;for(let m=d.length-1,b=a;m>0;m--)b=b.add(d[m]),y=y.add(b);if(f=f.add(y),h!==0)for(let m=0;m<l;m++)f=f.double()}return f}function yZ(t){return M5e(t.Fp),H2(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...dZ(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function l8(t){t.lowS!==void 0&&cv("lowS",t.lowS),t.prehash!==void 0&&cv("prehash",t.prehash)}function F5e(t){const e=yZ(t);H2(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:s}=e;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}class B5e extends Error{constructor(e=""){super(e)}}const ic={Err:B5e,_tlv:{encode:(t,e)=>{const{Err:n}=ic;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,s=ix(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?ix(s.length/2|128):"";return ix(t)+i+s+e},decode(t,e){const{Err:n}=ic;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const s=e[r++],i=!!(s&128);let a=0;if(!i)a=s;else{const l=s&127;if(!l)throw new n("tlv.decode(long): indefinite length not supported");if(l>4)throw new n("tlv.decode(long): byte length is too big");const u=e.subarray(r,r+l);if(u.length!==l)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const d of u)a=a<<8|d;if(r+=l,a<128)throw new n("tlv.decode(long): not minimal encoding")}const o=e.subarray(r,r+a);if(o.length!==a)throw new n("tlv.decode: wrong value length");return{v:o,l:e.subarray(r+a)}}},_int:{encode(t){const{Err:e}=ic;if(t<pc)throw new e("integer: negative integers are not allowed");let n=ix(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=ic;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return zp(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=ic,s=xa("signature",t),{v:i,l:a}=r.decode(48,s);if(a.length)throw new e("invalid signature: left bytes after parsing");const{v:o,l}=r.decode(2,i),{v:u,l:d}=r.decode(2,l);if(d.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(o),s:n.decode(u)}},hexFromSig(t){const{_tlv:e,_int:n}=ic,r=e.encode(2,n.encode(t.r)),s=e.encode(2,n.encode(t.s)),i=r+s;return e.encode(48,i)}};function hk(t,e){return uv(hb(t,e))}const pc=BigInt(0),Xr=BigInt(1);BigInt(2);const mk=BigInt(3),U5e=BigInt(4);function z5e(t){const e=F5e(t),{Fp:n}=e,r=nM(e.n,e.nBitLength),s=e.toBytes||((x,T,I)=>{const C=T.toAffine();return W1(Uint8Array.from([4]),n.toBytes(C.x),n.toBytes(C.y))}),i=e.fromBytes||(x=>{const T=x.subarray(1),I=n.fromBytes(T.subarray(0,n.BYTES)),C=n.fromBytes(T.subarray(n.BYTES,2*n.BYTES));return{x:I,y:C}});function a(x){const{a:T,b:I}=e,C=n.sqr(x),N=n.mul(C,x);return n.add(n.add(N,n.mul(x,T)),I)}function o(x,T){const I=n.sqr(T),C=a(x);return n.eql(I,C)}if(!o(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const l=n.mul(n.pow(e.a,mk),U5e),u=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(l,u)))throw new Error("bad curve params: a or b");function d(x){return tM(x,Xr,e.n)}function p(x){const{allowedPrivateKeyLengths:T,nByteLength:I,wrapPrivateKey:C,n:N}=e;if(T&&typeof x!="bigint"){if(fb(x)&&(x=uv(x)),typeof x!="string"||!T.includes(x.length))throw new Error("invalid private key");x=x.padStart(I*2,"0")}let P;try{P=typeof x=="bigint"?x:zp(xa("private key",x,I))}catch{throw new Error("invalid private key, expected hex or "+I+" bytes, got "+typeof x)}return C&&(P=pi(P,N)),Bh("private key",P,Xr,N),P}function f(x){if(!(x instanceof m))throw new Error("ProjectivePoint expected")}const h=s8((x,T)=>{const{px:I,py:C,pz:N}=x;if(n.eql(N,n.ONE))return{x:I,y:C};const P=x.is0();T==null&&(T=P?n.ONE:n.inv(N));const L=n.mul(I,T),U=n.mul(C,T),$=n.mul(N,T);if(P)return{x:n.ZERO,y:n.ZERO};if(!n.eql($,n.ONE))throw new Error("invZ was invalid");return{x:L,y:U}}),y=s8(x=>{if(x.is0()){if(e.allowInfinityPoint&&!n.is0(x.py))return;throw new Error("bad point: ZERO")}const{x:T,y:I}=x.toAffine();if(!n.isValid(T)||!n.isValid(I))throw new Error("bad point: x or y not FE");if(!o(T,I))throw new Error("bad point: equation left != right");if(!x.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class m{constructor(T,I,C){if(T==null||!n.isValid(T))throw new Error("x required");if(I==null||!n.isValid(I)||n.is0(I))throw new Error("y required");if(C==null||!n.isValid(C))throw new Error("z required");this.px=T,this.py=I,this.pz=C,Object.freeze(this)}static fromAffine(T){const{x:I,y:C}=T||{};if(!T||!n.isValid(I)||!n.isValid(C))throw new Error("invalid affine point");if(T instanceof m)throw new Error("projective point not allowed");const N=P=>n.eql(P,n.ZERO);return N(I)&&N(C)?m.ZERO:new m(I,C,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(T){const I=uZ(n,T.map(C=>C.pz));return T.map((C,N)=>C.toAffine(I[N])).map(m.fromAffine)}static fromHex(T){const I=m.fromAffine(i(xa("pointHex",T)));return I.assertValidity(),I}static fromPrivateKey(T){return m.BASE.multiply(p(T))}static msm(T,I){return $5e(m,r,T,I)}_setWindowSize(T){g.setWindowSize(this,T)}assertValidity(){y(this)}hasEvenY(){const{y:T}=this.toAffine();if(n.isOdd)return!n.isOdd(T);throw new Error("Field doesn't support isOdd")}equals(T){f(T);const{px:I,py:C,pz:N}=this,{px:P,py:L,pz:U}=T,$=n.eql(n.mul(I,U),n.mul(P,N)),B=n.eql(n.mul(C,U),n.mul(L,N));return $&&B}negate(){return new m(this.px,n.neg(this.py),this.pz)}double(){const{a:T,b:I}=e,C=n.mul(I,mk),{px:N,py:P,pz:L}=this;let U=n.ZERO,$=n.ZERO,B=n.ZERO,_=n.mul(N,N),w=n.mul(P,P),k=n.mul(L,L),S=n.mul(N,P);return S=n.add(S,S),B=n.mul(N,L),B=n.add(B,B),U=n.mul(T,B),$=n.mul(C,k),$=n.add(U,$),U=n.sub(w,$),$=n.add(w,$),$=n.mul(U,$),U=n.mul(S,U),B=n.mul(C,B),k=n.mul(T,k),S=n.sub(_,k),S=n.mul(T,S),S=n.add(S,B),B=n.add(_,_),_=n.add(B,_),_=n.add(_,k),_=n.mul(_,S),$=n.add($,_),k=n.mul(P,L),k=n.add(k,k),_=n.mul(k,S),U=n.sub(U,_),B=n.mul(k,w),B=n.add(B,B),B=n.add(B,B),new m(U,$,B)}add(T){f(T);const{px:I,py:C,pz:N}=this,{px:P,py:L,pz:U}=T;let $=n.ZERO,B=n.ZERO,_=n.ZERO;const w=e.a,k=n.mul(e.b,mk);let S=n.mul(I,P),M=n.mul(C,L),R=n.mul(N,U),j=n.add(I,C),V=n.add(P,L);j=n.mul(j,V),V=n.add(S,M),j=n.sub(j,V),V=n.add(I,N);let O=n.add(P,U);return V=n.mul(V,O),O=n.add(S,R),V=n.sub(V,O),O=n.add(C,N),$=n.add(L,U),O=n.mul(O,$),$=n.add(M,R),O=n.sub(O,$),_=n.mul(w,V),$=n.mul(k,R),_=n.add($,_),$=n.sub(M,_),_=n.add(M,_),B=n.mul($,_),M=n.add(S,S),M=n.add(M,S),R=n.mul(w,R),V=n.mul(k,V),M=n.add(M,R),R=n.sub(S,R),R=n.mul(w,R),V=n.add(V,R),S=n.mul(M,V),B=n.add(B,S),S=n.mul(O,V),$=n.mul(j,$),$=n.sub($,S),S=n.mul(j,M),_=n.mul(O,_),_=n.add(_,S),new m($,B,_)}subtract(T){return this.add(T.negate())}is0(){return this.equals(m.ZERO)}wNAF(T){return g.wNAFCached(this,T,m.normalizeZ)}multiplyUnsafe(T){const{endo:I,n:C}=e;Bh("scalar",T,pc,C);const N=m.ZERO;if(T===pc)return N;if(this.is0()||T===Xr)return this;if(!I||g.hasPrecomputes(this))return g.wNAFCachedUnsafe(this,T,m.normalizeZ);let{k1neg:P,k1:L,k2neg:U,k2:$}=I.splitScalar(T),B=N,_=N,w=this;for(;L>pc||$>pc;)L&Xr&&(B=B.add(w)),$&Xr&&(_=_.add(w)),w=w.double(),L>>=Xr,$>>=Xr;return P&&(B=B.negate()),U&&(_=_.negate()),_=new m(n.mul(_.px,I.beta),_.py,_.pz),B.add(_)}multiply(T){const{endo:I,n:C}=e;Bh("scalar",T,Xr,C);let N,P;if(I){const{k1neg:L,k1:U,k2neg:$,k2:B}=I.splitScalar(T);let{p:_,f:w}=this.wNAF(U),{p:k,f:S}=this.wNAF(B);_=g.constTimeNegate(L,_),k=g.constTimeNegate($,k),k=new m(n.mul(k.px,I.beta),k.py,k.pz),N=_.add(k),P=w.add(S)}else{const{p:L,f:U}=this.wNAF(T);N=L,P=U}return m.normalizeZ([N,P])[0]}multiplyAndAddUnsafe(T,I,C){const N=m.BASE,P=(U,$)=>$===pc||$===Xr||!U.equals(N)?U.multiplyUnsafe($):U.multiply($),L=P(this,I).add(P(T,C));return L.is0()?void 0:L}toAffine(T){return h(this,T)}isTorsionFree(){const{h:T,isTorsionFree:I}=e;if(T===Xr)return!0;if(I)return I(m,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:T,clearCofactor:I}=e;return T===Xr?this:I?I(m,this):this.multiplyUnsafe(e.h)}toRawBytes(T=!0){return cv("isCompressed",T),this.assertValidity(),s(m,this,T)}toHex(T=!0){return cv("isCompressed",T),uv(this.toRawBytes(T))}}m.BASE=new m(e.Gx,e.Gy,n.ONE),m.ZERO=new m(n.ZERO,n.ONE,n.ZERO);const{endo:b,nBitLength:v}=e,g=L5e(m,b?Math.ceil(v/2):v);return{CURVE:e,ProjectivePoint:m,normPrivateKeyToScalar:p,weierstrassEquation:a,isWithinCurveOrder:d}}function V5e(t){const e=yZ(t);return H2(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function H5e(t){const e=V5e(t),{Fp:n,n:r,nByteLength:s,nBitLength:i}=e,a=n.BYTES+1,o=2*n.BYTES+1;function l(k){return pi(k,r)}function u(k){return tE(k,r)}const{ProjectivePoint:d,normPrivateKeyToScalar:p,weierstrassEquation:f,isWithinCurveOrder:h}=z5e({...e,toBytes(k,S,M){const R=S.toAffine(),j=n.toBytes(R.x),V=W1;return cv("isCompressed",M),M?V(Uint8Array.from([S.hasEvenY()?2:3]),j):V(Uint8Array.from([4]),j,n.toBytes(R.y))},fromBytes(k){const S=k.length,M=k[0],R=k.subarray(1);if(S===a&&(M===2||M===3)){const j=zp(R);if(!tM(j,Xr,n.ORDER))throw new Error("Point is not on curve");const V=f(j);let O;try{O=n.sqrt(V)}catch(Z){const F=Z instanceof Error?": "+Z.message:"";throw new Error("Point is not on curve"+F)}const E=(O&Xr)===Xr;return(M&1)===1!==E&&(O=n.neg(O)),{x:j,y:O}}else if(S===o&&M===4){const j=n.fromBytes(R.subarray(0,n.BYTES)),V=n.fromBytes(R.subarray(n.BYTES,2*n.BYTES));return{x:j,y:V}}else{const j=a,V=o;throw new Error("invalid Point, expected length of "+j+", or uncompressed "+V+", got "+S)}}});function y(k){const S=r>>Xr;return k>S}function m(k){return y(k)?l(-k):k}const b=(k,S,M)=>zp(k.slice(S,M));class v{constructor(S,M,R){Bh("r",S,Xr,r),Bh("s",M,Xr,r),this.r=S,this.s=M,R!=null&&(this.recovery=R),Object.freeze(this)}static fromCompact(S){const M=s;return S=xa("compactSignature",S,M*2),new v(b(S,0,M),b(S,M,2*M))}static fromDER(S){const{r:M,s:R}=ic.toSig(xa("DER",S));return new v(M,R)}assertValidity(){}addRecoveryBit(S){return new v(this.r,this.s,S)}recoverPublicKey(S){const{r:M,s:R,recovery:j}=this,V=N(xa("msgHash",S));if(j==null||![0,1,2,3].includes(j))throw new Error("recovery id invalid");const O=j===2||j===3?M+e.n:M;if(O>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const E=j&1?"03":"02",z=d.fromHex(E+hk(O,n.BYTES)),Z=u(O),F=l(-V*Z),H=l(R*Z),K=d.BASE.multiplyAndAddUnsafe(z,F,H);if(!K)throw new Error("point at infinify");return K.assertValidity(),K}hasHighS(){return y(this.s)}normalizeS(){return this.hasHighS()?new v(this.r,l(-this.s),this.recovery):this}toDERRawBytes(){return H1(this.toDERHex())}toDERHex(){return ic.hexFromSig(this)}toCompactRawBytes(){return H1(this.toCompactHex())}toCompactHex(){const S=s;return hk(this.r,S)+hk(this.s,S)}}const g={isValidPrivateKey(k){try{return p(k),!0}catch{return!1}},normPrivateKeyToScalar:p,randomPrivateKey:()=>{const k=fZ(e.n);return _5e(e.randomBytes(k),e.n)},precompute(k=8,S=d.BASE){return S._setWindowSize(k),S.multiply(BigInt(3)),S}};function x(k,S=!0){return d.fromPrivateKey(k).toRawBytes(S)}function T(k){if(typeof k=="bigint")return!1;if(k instanceof d)return!0;const M=xa("key",k).length,R=n.BYTES,j=R+1,V=2*R+1;if(!(e.allowedPrivateKeyLengths||s===j))return M===j||M===V}function I(k,S,M=!0){if(T(k)===!0)throw new Error("first arg must be private key");if(T(S)===!1)throw new Error("second arg must be public key");return d.fromHex(S).multiply(p(k)).toRawBytes(M)}const C=e.bits2int||function(k){if(k.length>8192)throw new Error("input is too large");const S=zp(k),M=k.length*8-i;return M>0?S>>BigInt(M):S},N=e.bits2int_modN||function(k){return l(C(k))},P=V2(i);function L(k){return Bh("num < 2^"+i,k,pc,P),hb(k,s)}function U(k,S,M=$){if(["recovered","canonical"].some(J=>J in M))throw new Error("sign() legacy options not supported");const{hash:R,randomBytes:j}=e;let{lowS:V,prehash:O,extraEntropy:E}=M;V==null&&(V=!0),k=xa("msgHash",k),l8(M),O&&(k=xa("prehashed msgHash",R(k)));const z=N(k),Z=p(S),F=[L(Z),L(z)];if(E!=null&&E!==!1){const J=E===!0?j(n.BYTES):E;F.push(xa("extraEntropy",J))}const H=W1(...F),K=z;function Y(J){const re=C(J);if(!h(re))return;const Q=u(re),ee=d.BASE.multiply(re).toAffine(),We=l(ee.x);if(We===pc)return;const oe=l(Q*l(K+We*Z));if(oe===pc)return;let be=(ee.x===We?0:2)|Number(ee.y&Xr),ft=oe;return V&&y(oe)&&(ft=m(oe),be^=1),new v(We,ft,be)}return{seed:H,k2sig:Y}}const $={lowS:e.lowS,prehash:!1},B={lowS:e.lowS,prehash:!1};function _(k,S,M=$){const{seed:R,k2sig:j}=U(k,S,M),V=e;return k5e(V.hash.outputLen,V.nByteLength,V.hmac)(R,j)}d.BASE._setWindowSize(8);function w(k,S,M,R=B){var be;const j=k;S=xa("msgHash",S),M=xa("publicKey",M);const{lowS:V,prehash:O,format:E}=R;if(l8(R),"strict"in R)throw new Error("options.strict was renamed to lowS");if(E!==void 0&&E!=="compact"&&E!=="der")throw new Error("format must be compact or der");const z=typeof j=="string"||fb(j),Z=!z&&!E&&typeof j=="object"&&j!==null&&typeof j.r=="bigint"&&typeof j.s=="bigint";if(!z&&!Z)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let F,H;try{if(Z&&(F=new v(j.r,j.s)),z){try{E!=="compact"&&(F=v.fromDER(j))}catch(ft){if(!(ft instanceof ic.Err))throw ft}!F&&E!=="der"&&(F=v.fromCompact(j))}H=d.fromHex(M)}catch{return!1}if(!F||V&&F.hasHighS())return!1;O&&(S=e.hash(S));const{r:K,s:Y}=F,J=N(S),re=u(Y),Q=l(J*re),ee=l(K*re),We=(be=d.BASE.multiplyAndAddUnsafe(H,Q,ee))==null?void 0:be.toAffine();return We?l(We.x)===K:!1}return{CURVE:e,getPublicKey:x,getSharedSecret:I,sign:_,verify:w,ProjectivePoint:d,Signature:v,utils:g}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function W5e(t){return{hash:t,hmac:(e,...n)=>Yq(t,e,qIe(...n)),randomBytes:ZIe}}function G5e(t,e){const n=r=>H5e({...t,...W5e(r)});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const gZ=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),c8=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),K5e=BigInt(0),Y5e=BigInt(1),rE=BigInt(2),u8=(t,e)=>(t+e/rE)/e;function q5e(t){const e=gZ,n=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),a=BigInt(23),o=BigInt(44),l=BigInt(88),u=t*t*t%e,d=u*u*t%e,p=fa(d,n,e)*d%e,f=fa(p,n,e)*d%e,h=fa(f,rE,e)*u%e,y=fa(h,s,e)*h%e,m=fa(y,i,e)*y%e,b=fa(m,o,e)*m%e,v=fa(b,l,e)*b%e,g=fa(v,o,e)*m%e,x=fa(g,n,e)*d%e,T=fa(x,a,e)*y%e,I=fa(T,r,e)*u%e,C=fa(I,rE,e);if(!sE.eql(sE.sqr(C),t))throw new Error("Cannot find square root");return C}const sE=nM(gZ,void 0,void 0,{sqrt:q5e}),vZ=G5e({a:K5e,b:BigInt(7),Fp:sE,n:c8,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=c8,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Y5e*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,a=BigInt("0x100000000000000000000000000000000"),o=u8(i*t,e),l=u8(-r*t,e);let u=pi(t-o*n-l*s,e),d=pi(-o*r-l*i,e);const p=u>a,f=d>a;if(p&&(u=e-u),f&&(d=e-d),u>a||d>a)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:p,k1:u,k2neg:f,k2:d}}}},OY),Z5e=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:vZ},Symbol.toStringTag,{value:"Module"}));function X5e({r:t,s:e,to:n="hex",v:r,yParity:s}){const i=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),a=`0x${new vZ.Signature(ra(t),ra(e)).toCompactHex()}${i===0?"1b":"1c"}`;return n==="hex"?a:_l(a)}async function W2(t,e){var o,l,u,d,p,f;const{address:n,hash:r,erc6492VerifierAddress:s=e.universalSignatureVerifierAddress??((u=(l=(o=t.chain)==null?void 0:o.contracts)==null?void 0:l.erc6492Verifier)==null?void 0:u.address),multicallAddress:i=e.multicallAddress??((f=(p=(d=t.chain)==null?void 0:d.contracts)==null?void 0:p.multicall3)==null?void 0:f.address)}=e,a=(()=>{const h=e.signature;return jl(h)?h:typeof h=="object"&&"r"in h&&"s"in h?X5e(h):Yr(h)})();try{return t5e(a)?await J5e(t,{...e,multicallAddress:i,signature:a}):await Q5e(t,{...e,verifierAddress:s,signature:a})}catch(h){try{if(ub(yp(n),await CY({hash:r,signature:a})))return!0}catch{}if(h instanceof mf)return!1;throw h}}async function J5e(t,e){var b;const{address:n,blockNumber:r,blockTag:s,hash:i,multicallAddress:a}=e,{authorization:o,data:l,signature:u,to:d}=e5e(e.signature);if(await V6(t,{address:n,blockNumber:r,blockTag:s})===fy(["0xef0100",o.address]))return await eSe(t,{address:n,blockNumber:r,blockTag:s,hash:i,signature:u});const f={address:o.address,chainId:Number(o.chainId),nonce:Number(o.nonce),r:rt(o.r,{size:32}),s:rt(o.s,{size:32}),yParity:o.yParity};if(!await a6e({address:n,authorization:f}))throw new mf;const y=await Ze(t,Oo,"readContract")({...a?{address:a}:{code:DP},authorizationList:[f],abi:U1,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...l?[{allowFailure:!0,target:d??n,callData:l}]:[],{allowFailure:!0,target:n,callData:pe({abi:eq,functionName:"isValidSignature",args:[i,u]})}]]}),m=(b=y[y.length-1])==null?void 0:b.returnData;if(m!=null&&m.startsWith("0x1626ba7e"))return!0;throw new mf}async function Q5e(t,e){const{address:n,factory:r,factoryData:s,hash:i,signature:a,verifierAddress:o,...l}=e,u=await(async()=>!r&&!s||w5e(a)?a:x5e({data:s,signature:a,to:r}))(),d=o?{to:o,data:pe({abi:UL,functionName:"isValidSig",args:[n,i,u]}),...l}:{data:D2({abi:UL,args:[n,i,u],bytecode:dNe}),...l},{data:p}=await Ze(t,O2,"call")(d).catch(f=>{throw f instanceof IY?new mf:f});if(RIe(p??"0x0"))return!0;throw new mf}async function eSe(t,e){const{address:n,blockNumber:r,blockTag:s,hash:i,signature:a}=e;if((await Ze(t,Oo,"readContract")({address:n,abi:eq,args:[i,a],blockNumber:r,blockTag:s,functionName:"isValidSignature"}).catch(l=>{throw l instanceof kY?new mf:l})).startsWith("0x1626ba7e"))return!0;throw new mf}class mf extends Error{}async function tSe(t,{address:e,message:n,factory:r,factoryData:s,signature:i,...a}){const o=Tq(n);return Ze(t,W2,"verifyHash")({address:e,factory:r,factoryData:s,hash:o,signature:i,...a})}async function nSe(t,e){const{address:n,factory:r,factoryData:s,signature:i,message:a,primaryType:o,types:l,domain:u,...d}=e,p=b6e({message:a,primaryType:o,types:l,domain:u});return Ze(t,W2,"verifyHash")({address:n,factory:r,factoryData:s,hash:p,signature:i,...d})}function bZ(t,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:i,pollingInterval:a=t.pollingInterval}){const o=typeof i<"u"?i:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc"));let l;return o?(()=>{const p=Gr(["watchBlockNumber",t.uid,e,n,a]);return Vc(p,{onBlockNumber:r,onError:s},f=>yy(async()=>{var h;try{const y=await Ze(t,pb,"getBlockNumber")({cacheTime:0});if(l!==void 0){if(y===l)return;if(y-l>1&&n)for(let m=l+1n;m<y;m++)f.onBlockNumber(m,l),l=m}(l===void 0||y>l)&&(f.onBlockNumber(y,l),l=y)}catch(y){(h=f.onError)==null||h.call(f,y)}},{emitOnBegin:e,interval:a}))})():(()=>{const p=Gr(["watchBlockNumber",t.uid,e,n]);return Vc(p,{onBlockNumber:r,onError:s},f=>{let h=!0,y=()=>h=!1;return(async()=>{try{const m=(()=>{if(t.transport.type==="fallback"){const v=t.transport.transports.find(g=>g.config.type==="webSocket"||g.config.type==="ipc");return v?v.value:t.transport}return t.transport})(),{unsubscribe:b}=await m.subscribe({params:["newHeads"],onData(v){var x;if(!h)return;const g=ra((x=v.result)==null?void 0:x.number);f.onBlockNumber(g,l),l=g},onError(v){var g;(g=f.onError)==null||g.call(f,v)}});y=b,h||y()}catch(m){s==null||s(m)}})(),()=>y()})})()}async function xZ(t,e){const{checkReplacement:n=!0,confirmations:r=1,hash:s,onReplaced:i,retryCount:a=6,retryDelay:o=({count:I})=>~~(1<<I)*200,timeout:l=18e4}=e,u=Gr(["waitForTransactionReceipt",t.uid,s]),d=(()=>{var I;return e.pollingInterval?e.pollingInterval:(I=t.chain)!=null&&I.experimental_preconfirmationTime?t.chain.experimental_preconfirmationTime:t.pollingInterval})();let p,f,h,y=!1,m,b;const{promise:v,resolve:g,reject:x}=OP(),T=l?setTimeout(()=>{b==null||b(),m==null||m(),x(new Hke({hash:s}))},l):void 0;return m=Vc(u,{onReplaced:i,resolve:g,reject:x},async I=>{if(h=await Ze(t,gw,"getTransactionReceipt")({hash:s}).catch(()=>{}),h&&r<=1){clearTimeout(T),I.resolve(h),m==null||m();return}b=Ze(t,bZ,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:d,async onBlockNumber(C){const N=L=>{clearTimeout(T),b==null||b(),L(),m==null||m()};let P=C;if(!y)try{if(h){if(r>1&&(!h.blockNumber||P-h.blockNumber+1n<r))return;N(()=>I.resolve(h));return}if(n&&!p&&(y=!0,await ov(async()=>{p=await Ze(t,JP,"getTransaction")({hash:s}),p.blockNumber&&(P=p.blockNumber)},{delay:o,retryCount:a}),y=!1),h=await Ze(t,gw,"getTransactionReceipt")({hash:s}),r>1&&(!h.blockNumber||P-h.blockNumber+1n<r))return;N(()=>I.resolve(h))}catch(L){if(L instanceof wY||L instanceof TY){if(!p){y=!1;return}try{f=p,y=!0;const U=await ov(()=>Ze(t,vo,"getBlock")({blockNumber:P,includeTransactions:!0}),{delay:o,retryCount:a,shouldRetry:({error:_})=>_ instanceof RY});y=!1;const $=U.transactions.find(({from:_,nonce:w})=>_===f.from&&w===f.nonce);if(!$||(h=await Ze(t,gw,"getTransactionReceipt")({hash:$.hash}),r>1&&(!h.blockNumber||P-h.blockNumber+1n<r)))return;let B="replaced";$.to===f.to&&$.value===f.value&&$.input===f.input?B="repriced":$.from===$.to&&$.value===0n&&(B="cancelled"),N(()=>{var _;(_=I.onReplaced)==null||_.call(I,{reason:B,replacedTransaction:f,transaction:$,transactionReceipt:h}),I.resolve(h)})}catch(U){N(()=>I.reject(U))}}else N(()=>I.reject(L))}}})}),v}function rSe(t,{blockTag:e=t.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:i,includeTransactions:a,poll:o,pollingInterval:l=t.pollingInterval}){const u=typeof o<"u"?o:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),d=a??!1;let p;return u?(()=>{const y=Gr(["watchBlocks",t.uid,e,n,r,d,l]);return Vc(y,{onBlock:s,onError:i},m=>yy(async()=>{var b;try{const v=await Ze(t,vo,"getBlock")({blockTag:e,includeTransactions:d});if(v.number!==null&&(p==null?void 0:p.number)!=null){if(v.number===p.number)return;if(v.number-p.number>1&&n)for(let g=(p==null?void 0:p.number)+1n;g<v.number;g++){const x=await Ze(t,vo,"getBlock")({blockNumber:g,includeTransactions:d});m.onBlock(x,p),p=x}}((p==null?void 0:p.number)==null||e==="pending"&&(v==null?void 0:v.number)==null||v.number!==null&&v.number>p.number)&&(m.onBlock(v,p),p=v)}catch(v){(b=m.onError)==null||b.call(m,v)}},{emitOnBegin:r,interval:l}))})():(()=>{let y=!0,m=!0,b=()=>y=!1;return(async()=>{try{r&&Ze(t,vo,"getBlock")({blockTag:e,includeTransactions:d}).then(x=>{y&&m&&(s(x,void 0),m=!1)}).catch(i);const v=(()=>{if(t.transport.type==="fallback"){const x=t.transport.transports.find(T=>T.config.type==="webSocket"||T.config.type==="ipc");return x?x.value:t.transport}return t.transport})(),{unsubscribe:g}=await v.subscribe({params:["newHeads"],async onData(x){var I;if(!y)return;const T=await Ze(t,vo,"getBlock")({blockNumber:(I=x.result)==null?void 0:I.number,includeTransactions:d}).catch(()=>{});y&&(s(T,p),m=!1,p=T)},onError(x){i==null||i(x)}});b=g,y||b()}catch(v){i==null||i(v)}})(),()=>b()})()}function sSe(t,{address:e,args:n,batch:r=!0,event:s,events:i,fromBlock:a,onError:o,onLogs:l,poll:u,pollingInterval:d=t.pollingInterval,strict:p}){const f=typeof u<"u"?u:typeof a=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),h=p??!1;return f?(()=>{const b=Gr(["watchEvent",e,n,r,t.uid,s,d,a]);return Vc(b,{onLogs:l,onError:o},v=>{let g;a!==void 0&&(g=a-1n);let x,T=!1;const I=yy(async()=>{var C;if(!T){try{x=await Ze(t,bq,"createEventFilter")({address:e,args:n,event:s,events:i,strict:h,fromBlock:a})}catch{}T=!0;return}try{let N;if(x)N=await Ze(t,L2,"getFilterChanges")({filter:x});else{const P=await Ze(t,pb,"getBlockNumber")({});g&&g!==P?N=await Ze(t,jP,"getLogs")({address:e,args:n,event:s,events:i,fromBlock:g+1n,toBlock:P}):N=[],g=P}if(N.length===0)return;if(r)v.onLogs(N);else for(const P of N)v.onLogs([P])}catch(N){x&&N instanceof kd&&(T=!1),(C=v.onError)==null||C.call(v,N)}},{emitOnBegin:!0,interval:d});return async()=>{x&&await Ze(t,$2,"uninstallFilter")({filter:x}),I()}})})():(()=>{let b=!0,v=()=>b=!1;return(async()=>{try{const g=(()=>{if(t.transport.type==="fallback"){const C=t.transport.transports.find(N=>N.config.type==="webSocket"||N.config.type==="ipc");return C?C.value:t.transport}return t.transport})(),x=i??(s?[s]:void 0);let T=[];x&&(T=[x.flatMap(N=>ib({abi:[N],eventName:N.name,args:n}))],s&&(T=T[0]));const{unsubscribe:I}=await g.subscribe({params:["logs",{address:e,topics:T}],onData(C){var P;if(!b)return;const N=C.result;try{const{eventName:L,args:U}=yn({abi:x??[],data:N.data,topics:N.topics,strict:h}),$=zc(N,{args:U,eventName:L});l([$])}catch(L){let U,$;if(L instanceof B0||L instanceof k2){if(p)return;U=L.abiItem.name,$=(P=L.abiItem.inputs)==null?void 0:P.some(_=>!("name"in _&&_.name))}const B=zc(N,{args:$?[]:{},eventName:U});l([B])}},onError(C){o==null||o(C)}});v=I,b||v()}catch(g){o==null||o(g)}})(),()=>v()})()}function iSe(t,{batch:e=!0,onError:n,onTransactions:r,poll:s,pollingInterval:i=t.pollingInterval}){return(typeof s<"u"?s:t.transport.type!=="webSocket"&&t.transport.type!=="ipc")?(()=>{const u=Gr(["watchPendingTransactions",t.uid,e,i]);return Vc(u,{onTransactions:r,onError:n},d=>{let p;const f=yy(async()=>{var h;try{if(!p)try{p=await Ze(t,xq,"createPendingTransactionFilter")({});return}catch(m){throw f(),m}const y=await Ze(t,L2,"getFilterChanges")({filter:p});if(y.length===0)return;if(e)d.onTransactions(y);else for(const m of y)d.onTransactions([m])}catch(y){(h=d.onError)==null||h.call(d,y)}},{emitOnBegin:!0,interval:i});return async()=>{p&&await Ze(t,$2,"uninstallFilter")({filter:p}),f()}})})():(()=>{let u=!0,d=()=>u=!1;return(async()=>{try{const{unsubscribe:p}=await t.transport.subscribe({params:["newPendingTransactions"],onData(f){if(!u)return;const h=f.result;r([h])},onError(f){n==null||n(f)}});d=p,u||d()}catch(p){n==null||n(p)}})(),()=>d()})()}function aSe(t){var p,f,h;const{scheme:e,statement:n,...r}=((p=t.match(oSe))==null?void 0:p.groups)??{},{chainId:s,expirationTime:i,issuedAt:a,notBefore:o,requestId:l,...u}=((f=t.match(lSe))==null?void 0:f.groups)??{},d=(h=t.split("Resources:")[1])==null?void 0:h.split(`
- `).slice(1);return{...r,...u,...s?{chainId:Number(s)}:{},...i?{expirationTime:new Date(i)}:{},...a?{issuedAt:new Date(a)}:{},...o?{notBefore:new Date(o)}:{},...l?{requestId:l}:{},...d?{resources:d}:{},...e?{scheme:e}:{},...n?{statement:n}:{}}}const oSe=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,lSe=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function cSe(t){const{address:e,domain:n,message:r,nonce:s,scheme:i,time:a=new Date}=t;if(n&&r.domain!==n||s&&r.nonce!==s||i&&r.scheme!==i||r.expirationTime&&a>=r.expirationTime||r.notBefore&&a<r.notBefore)return!1;try{if(!r.address||!ji(r.address,{strict:!1})||e&&!ub(r.address,e))return!1}catch{return!1}return!0}async function uSe(t,e){const{address:n,domain:r,message:s,nonce:i,scheme:a,signature:o,time:l=new Date,...u}=e,d=aSe(s);if(!d.address||!cSe({address:n,domain:r,message:d,nonce:i,scheme:a,time:l}))return!1;const f=Tq(s);return W2(t,{address:d.address,hash:f,signature:o,...u})}async function rM(t,{serializedTransaction:e,throwOnReceiptRevert:n,timeout:r}){var o,l,u;const s=await t.request({method:"eth_sendRawTransactionSync",params:r?[e,rt(r)]:[e]},{retryCount:0}),a=(((u=(l=(o=t.chain)==null?void 0:o.formatters)==null?void 0:l.transactionReceipt)==null?void 0:u.format)||oq)(s);if(a.status==="reverted"&&n)throw new AY({receipt:a});return a}function dSe(t){return{call:e=>O2(t,e),createAccessList:e=>vq(t,e),createBlockFilter:()=>ZNe(t),createContractEventFilter:e=>yY(t,e),createEventFilter:e=>bq(t,e),createPendingTransactionFilter:()=>xq(t),estimateContractGas:e=>RCe(t,e),estimateGas:e=>PP(t,e),getBalance:e=>XNe(t,e),getBlobBaseFee:()=>JNe(t),getBlock:e=>vo(t,e),getBlockNumber:e=>pb(t,e),getBlockTransactionCount:e=>QNe(t,e),getBytecode:e=>V6(t,e),getChainId:()=>Ld(t),getCode:e=>V6(t,e),getContractEvents:e=>FY(t,e),getEip712Domain:e=>t6e(t,e),getEnsAddress:e=>_Ne(t,e),getEnsAvatar:e=>KNe(t,e),getEnsName:e=>YNe(t,e),getEnsResolver:e=>qNe(t,e),getEnsText:e=>gq(t,e),getFeeHistory:e=>s6e(t,e),estimateFeesPerGas:e=>hCe(t,e),getFilterChanges:e=>L2(t,e),getFilterLogs:e=>i6e(t,e),getGasPrice:()=>CP(t),getLogs:e=>jP(t,e),getProof:e=>i5e(t,e),estimateMaxPriorityFeePerGas:e=>fCe(t,e),fillTransaction:e=>SP(t,e),getStorageAt:e=>a5e(t,e),getTransaction:e=>JP(t,e),getTransactionConfirmations:e=>o5e(t,e),getTransactionCount:e=>NP(t,e),getTransactionReceipt:e=>gw(t,e),multicall:e=>l5e(t,e),prepareTransactionRequest:e=>cb(t,e),readContract:e=>Oo(t,e),sendRawTransaction:e=>$P(t,e),sendRawTransactionSync:e=>rM(t,e),simulate:e=>X6(t,e),simulateBlocks:e=>X6(t,e),simulateCalls:e=>v5e(t,e),simulateContract:e=>vNe(t,e),verifyHash:e=>W2(t,e),verifyMessage:e=>tSe(t,e),verifySiweMessage:e=>uSe(t,e),verifyTypedData:e=>nSe(t,e),uninstallFilter:e=>$2(t,e),waitForTransactionReceipt:e=>xZ(t,e),watchBlocks:e=>rSe(t,e),watchBlockNumber:e=>bZ(t,e),watchContractEvent:e=>kNe(t,e),watchEvent:e=>sSe(t,e),watchPendingTransactions:e=>iSe(t,e)}}function pSe(t){const{key:e="public",name:n="Public Client"}=t;return FP({...t,key:e,name:n,type:"publicClient"}).extend(dSe)}async function fSe(t,{chain:e}){const{id:n,name:r,nativeCurrency:s,rpcUrls:i,blockExplorers:a}=e;await t.request({method:"wallet_addEthereumChain",params:[{chainId:rt(n),chainName:r,nativeCurrency:s,rpcUrls:i.default.http,blockExplorerUrls:a?Object.values(a).map(({url:o})=>o):void 0}]},{dedupe:!0,retryCount:0})}function hSe(t,e){const{abi:n,args:r,bytecode:s,...i}=e,a=D2({abi:n,args:r,bytecode:s});return F2(t,{...i,...i.authorizationList?{to:null}:{},data:a})}async function mSe(t){var n;return((n=t.account)==null?void 0:n.type)==="local"?[t.account.address]:(await t.request({method:"eth_accounts"},{dedupe:!0})).map(r=>sb(r))}async function ySe(t,e={}){const{account:n=t.account,chainId:r}=e,s=n?Yn(n):void 0,i=r?[s==null?void 0:s.address,[rt(r)]]:[s==null?void 0:s.address],a=await t.request({method:"wallet_getCapabilities",params:i}),o={};for(const[l,u]of Object.entries(a)){o[Number(l)]={};for(let[d,p]of Object.entries(u))d==="addSubAccount"&&(d="unstable_addSubAccount"),o[Number(l)][d]=p}return typeof r=="number"?o[r]:o}async function gSe(t){return await t.request({method:"wallet_getPermissions"},{dedupe:!0})}async function wZ(t,e){var l;const{account:n=t.account,chainId:r,nonce:s}=e;if(!n)throw new $d({docsPath:"/docs/eip7702/prepareAuthorization"});const i=Yn(n),a=(()=>{if(e.executor)return e.executor==="self"?e.executor:Yn(e.executor)})(),o={address:e.contractAddress??e.address,chainId:r,nonce:s};return typeof o.chainId>"u"&&(o.chainId=((l=t.chain)==null?void 0:l.id)??await Ze(t,Ld,"getChainId")({})),typeof o.nonce>"u"&&(o.nonce=await Ze(t,NP,"getTransactionCount")({address:i.address,blockTag:"pending"}),(a==="self"||a!=null&&a.address&&ub(a.address,i.address))&&(o.nonce+=1)),o}async function vSe(t){return(await t.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>yp(n))}async function bSe(t,e){return t.request({method:"wallet_requestPermissions",params:[e]},{retryCount:0})}async function xSe(t,e){const{chain:n=t.chain}=e,r=e.timeout??Math.max(((n==null?void 0:n.blockTime)??0)*3,5e3),s=await uq(t,e);return await pq(t,{...e,id:s.id,timeout:r})}const yk=new py(128);async function TZ(t,e){var I,C,N,P;const{account:n=t.account,chain:r=t.chain,accessList:s,authorizationList:i,blobs:a,data:o,gas:l,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:p,maxPriorityFeePerGas:f,nonce:h,pollingInterval:y,throwOnReceiptRevert:m,type:b,value:v,...g}=e,x=e.timeout??Math.max(((r==null?void 0:r.blockTime)??0)*3,5e3);if(typeof n>"u")throw new $d({docsPath:"/docs/actions/wallet/sendTransactionSync"});const T=n?Yn(n):null;try{Qc(e);const L=await(async()=>{if(e.to)return e.to;if(e.to!==null&&i&&i.length>0)return await P2({authorization:i[0]}).catch(()=>{throw new he("`to` is required. Could not infer from `authorizationList`.")})})();if((T==null?void 0:T.type)==="json-rpc"||T===null){let U;r!==null&&(U=await Ze(t,Ld,"getChainId")({}),LP({currentChainId:U,chain:r}));const $=(N=(C=(I=t.chain)==null?void 0:I.formatters)==null?void 0:C.transactionRequest)==null?void 0:N.format,_=($||Od)({...hy(g,{format:$}),accessList:s,account:T,authorizationList:i,blobs:a,chainId:U,data:o,gas:l,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:p,maxPriorityFeePerGas:f,nonce:h,to:L,type:b,value:v},"sendTransaction"),w=yk.get(t.uid),k=w?"wallet_sendTransaction":"eth_sendTransaction",S=await(async()=>{try{return await t.request({method:k,params:[_]},{retryCount:0})}catch(R){if(w===!1)throw R;const j=R;if(j.name==="InvalidInputRpcError"||j.name==="InvalidParamsRpcError"||j.name==="MethodNotFoundRpcError"||j.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[_]},{retryCount:0}).then(V=>(yk.set(t.uid,!0),V)).catch(V=>{const O=V;throw O.name==="MethodNotFoundRpcError"||O.name==="MethodNotSupportedRpcError"?(yk.set(t.uid,!1),j):O});throw j}})(),M=await Ze(t,xZ,"waitForTransactionReceipt")({checkReplacement:!1,hash:S,pollingInterval:y,timeout:x});if(m&&M.status==="reverted")throw new AY({receipt:M});return M}if((T==null?void 0:T.type)==="local"){const U=await Ze(t,cb,"prepareTransactionRequest")({account:T,accessList:s,authorizationList:i,blobs:a,chain:r,data:o,gas:l,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:p,maxPriorityFeePerGas:f,nonce:h,nonceManager:T.nonceManager,parameters:[...RP,"sidecars"],type:b,value:v,...g,to:L}),$=(P=r==null?void 0:r.serializers)==null?void 0:P.transaction,B=await T.signTransaction(U,{serializer:$});return await Ze(t,rM,"sendRawTransactionSync")({serializedTransaction:B,throwOnReceiptRevert:m})}throw(T==null?void 0:T.type)==="smart"?new Up({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new Up({docsPath:"/docs/actions/wallet/sendTransactionSync",type:T==null?void 0:T.type})}catch(L){throw L instanceof Up?L:j2(L,{...e,account:T,chain:e.chain||void 0})}}async function wSe(t,e){const{id:n}=e;await t.request({method:"wallet_showCallsStatus",params:[n]})}async function TSe(t,e){const{account:n=t.account}=e;if(!n)throw new $d({docsPath:"/docs/eip7702/signAuthorization"});const r=Yn(n);if(!r.signAuthorization)throw new Up({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const s=await wZ(t,e);return r.signAuthorization(s)}async function ASe(t,{account:e=t.account,message:n}){if(!e)throw new $d({docsPath:"/docs/actions/wallet/signMessage"});const r=Yn(e);if(r.signMessage)return r.signMessage({message:n});const s=typeof n=="string"?lf(n):n.raw instanceof Uint8Array?$a(n.raw):n.raw;return t.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}async function ISe(t,e){var u,d,p,f;const{account:n=t.account,chain:r=t.chain,...s}=e;if(!n)throw new $d({docsPath:"/docs/actions/wallet/signTransaction"});const i=Yn(n);Qc({account:i,...e});const a=await Ze(t,Ld,"getChainId")({});r!==null&&LP({currentChainId:a,chain:r});const o=(r==null?void 0:r.formatters)||((u=t.chain)==null?void 0:u.formatters),l=((d=o==null?void 0:o.transactionRequest)==null?void 0:d.format)||Od;return i.signTransaction?i.signTransaction({...s,chainId:a},{serializer:(f=(p=t.chain)==null?void 0:p.serializers)==null?void 0:f.transaction}):await t.request({method:"eth_signTransaction",params:[{...l({...s,account:i},"signTransaction"),chainId:rt(a),from:i.address}]},{retryCount:0})}async function kSe(t,e){const{account:n=t.account,domain:r,message:s,primaryType:i}=e;if(!n)throw new $d({docsPath:"/docs/actions/wallet/signTypedData"});const a=Yn(n),o={EIP712Domain:Iq({domain:r}),...e.types};if(Aq({domain:r,message:s,primaryType:i,types:o}),a.signTypedData)return a.signTypedData({domain:r,message:s,primaryType:i,types:o});const l=g6e({domain:r,message:s,primaryType:i,types:o});return t.request({method:"eth_signTypedData_v4",params:[a.address,l]},{retryCount:0})}async function CSe(t,{id:e}){await t.request({method:"wallet_switchEthereumChain",params:[{chainId:rt(e)}]},{retryCount:0})}async function NSe(t,e){return await t.request({method:"wallet_watchAsset",params:e},{retryCount:0})}async function ESe(t,e){return av.internal(t,TZ,"sendTransactionSync",e)}function SSe(t){return{addChain:e=>fSe(t,e),deployContract:e=>hSe(t,e),fillTransaction:e=>SP(t,e),getAddresses:()=>mSe(t),getCallsStatus:e=>dq(t,e),getCapabilities:e=>ySe(t,e),getChainId:()=>Ld(t),getPermissions:()=>gSe(t),prepareAuthorization:e=>wZ(t,e),prepareTransactionRequest:e=>cb(t,e),requestAddresses:()=>vSe(t),requestPermissions:e=>bSe(t,e),sendCalls:e=>uq(t,e),sendCallsSync:e=>xSe(t,e),sendRawTransaction:e=>$P(t,e),sendRawTransactionSync:e=>rM(t,e),sendTransaction:e=>F2(t,e),sendTransactionSync:e=>TZ(t,e),showCallsStatus:e=>wSe(t,e),signAuthorization:e=>TSe(t,e),signMessage:e=>ASe(t,e),signTransaction:e=>ISe(t,e),signTypedData:e=>kSe(t,e),switchChain:e=>CSe(t,e),waitForCallsStatus:e=>pq(t,e),watchAsset:e=>NSe(t,e),writeContract:e=>av(t,e),writeContractSync:e=>ESe(t,e)}}function AZ(t){const{key:e="wallet",name:n="Wallet Client",transport:r}=t;return FP({...t,key:e,name:n,transport:r,type:"walletClient"}).extend(SSe)}function IZ({key:t,methods:e,name:n,request:r,retryCount:s=3,retryDelay:i=150,timeout:a,type:o},l){const u=fq();return{config:{key:t,methods:e,name:n,request:r,retryCount:s,retryDelay:i,timeout:a,type:o},request:l6e(r,{methods:e,retryCount:s,retryDelay:i,uid:u}),value:l}}function G1(t,e={}){const{key:n="custom",methods:r,name:s="Custom Provider",retryDelay:i}=e;return({retryCount:a})=>IZ({key:n,methods:r,name:s,request:t.request.bind(t),retryCount:e.retryCount??a,retryDelay:i,type:"custom"})}class RSe extends he{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function iE(t,e={}){const{batch:n,fetchFn:r,fetchOptions:s,key:i="http",methods:a,name:o="HTTP JSON-RPC",onFetchRequest:l,onFetchResponse:u,retryDelay:d,raw:p}=e;return({chain:f,retryCount:h,timeout:y})=>{const{batchSize:m=1e3,wait:b=0}=typeof n=="object"?n:{},v=e.retryCount??h,g=y??e.timeout??1e4,x=t||(f==null?void 0:f.rpcUrls.default.http[0]);if(!x)throw new RSe;const T=d6e(x,{fetchFn:r,fetchOptions:s,onRequest:l,onResponse:u,timeout:g});return IZ({key:i,methods:a,name:o,async request({method:I,params:C}){const N={method:I,params:C},{schedule:P}=sq({id:x,wait:b,shouldSplitBatch(B){return B.length>m},fn:B=>T.request({body:B}),sort:(B,_)=>B.id-_.id}),L=async B=>n?P(B):[await T.request({body:B})],[{error:U,result:$}]=await L(N);if(p)return{error:U,result:$};if(U)throw new TP({body:N,error:U,url:x});return $},retryCount:v,retryDelay:d,timeout:g,type:"http"},{fetchOptions:s,url:x})}}function PSe(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let u=0;u<e.length;u++)e[u]=255;for(let u=0;u<t.length;u++){const d=t.charAt(u),p=d.charCodeAt(0);if(e[p]!==255)throw new TypeError(d+" is ambiguous");e[p]=u}const n=t.length,r=t.charAt(0),s=Math.log(n)/Math.log(256),i=Math.log(256)/Math.log(n);function a(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(u.length===0)return"";let d=0,p=0,f=0;const h=u.length;for(;f!==h&&u[f]===0;)f++,d++;const y=(h-f)*i+1>>>0,m=new Uint8Array(y);for(;f!==h;){let g=u[f],x=0;for(let T=y-1;(g!==0||x<p)&&T!==-1;T--,x++)g+=256*m[T]>>>0,m[T]=g%n>>>0,g=g/n>>>0;if(g!==0)throw new Error("Non-zero carry");p=x,f++}let b=y-p;for(;b!==y&&m[b]===0;)b++;let v=r.repeat(d);for(;b<y;++b)v+=t.charAt(m[b]);return v}function o(u){if(typeof u!="string")throw new TypeError("Expected String");if(u.length===0)return new Uint8Array;let d=0,p=0,f=0;for(;u[d]===r;)p++,d++;const h=(u.length-d)*s+1>>>0,y=new Uint8Array(h);for(;d<u.length;){const g=u.charCodeAt(d);if(g>255)return;let x=e[g];if(x===255)return;let T=0;for(let I=h-1;(x!==0||T<f)&&I!==-1;I--,T++)x+=n*y[I]>>>0,y[I]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");f=T,d++}let m=h-f;for(;m!==h&&y[m]===0;)m++;const b=new Uint8Array(p+(h-m));let v=p;for(;m!==h;)b[v++]=y[m++];return b}function l(u){const d=o(u);if(d)return d;throw new Error("Non-base"+n+" character")}return{encode:a,decodeUnsafe:o,decode:l}}var MSe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const jSe=PSe(MSe);function _Se(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),a=i.charCodeAt(0);if(n[a]!==255)throw new TypeError(i+" is ambiguous");n[a]=s}var o=t.length,l=t.charAt(0),u=Math.log(o)/Math.log(256),d=Math.log(256)/Math.log(o);function p(y){if(y instanceof Uint8Array||(ArrayBuffer.isView(y)?y=new Uint8Array(y.buffer,y.byteOffset,y.byteLength):Array.isArray(y)&&(y=Uint8Array.from(y))),!(y instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(y.length===0)return"";for(var m=0,b=0,v=0,g=y.length;v!==g&&y[v]===0;)v++,m++;for(var x=(g-v)*d+1>>>0,T=new Uint8Array(x);v!==g;){for(var I=y[v],C=0,N=x-1;(I!==0||C<b)&&N!==-1;N--,C++)I+=256*T[N]>>>0,T[N]=I%o>>>0,I=I/o>>>0;if(I!==0)throw new Error("Non-zero carry");b=C,v++}for(var P=x-b;P!==x&&T[P]===0;)P++;for(var L=l.repeat(m);P<x;++P)L+=t.charAt(T[P]);return L}function f(y){if(typeof y!="string")throw new TypeError("Expected String");if(y.length===0)return new Uint8Array;var m=0;if(y[m]!==" "){for(var b=0,v=0;y[m]===l;)b++,m++;for(var g=(y.length-m)*u+1>>>0,x=new Uint8Array(g);y[m];){var T=n[y.charCodeAt(m)];if(T===255)return;for(var I=0,C=g-1;(T!==0||I<v)&&C!==-1;C--,I++)T+=o*x[C]>>>0,x[C]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");v=I,m++}if(y[m]!==" "){for(var N=g-v;N!==g&&x[N]===0;)N++;for(var P=new Uint8Array(b+(g-N)),L=b;N!==g;)P[L++]=x[N++];return P}}}function h(y){var m=f(y);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:p,decodeUnsafe:f,decode:h}}var DSe=_Se,OSe=DSe;const LSe=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let n=0;n<t.byteLength;n++)if(t[n]!==e[n])return!1;return!0},sM=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")};class $Se{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class FSe{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return kZ(this,e)}}class BSe{constructor(e){this.decoders=e}or(e){return kZ(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const kZ=(t,e)=>new BSe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class USe{constructor(e,n,r,s){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new $Se(e,n,r),this.decoder=new FSe(e,n,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const CZ=({name:t,prefix:e,encode:n,decode:r})=>new USe(t,e,n,r),NZ=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:s}=OSe(n,e);return CZ({prefix:t,name:e,encode:r,decode:i=>sM(s(i))})},zSe=(t,e,n,r)=>{const s={};for(let d=0;d<e.length;++d)s[e[d]]=d;let i=t.length;for(;t[i-1]==="=";)--i;const a=new Uint8Array(i*n/8|0);let o=0,l=0,u=0;for(let d=0;d<i;++d){const p=s[t[d]];if(p===void 0)throw new SyntaxError(`Non-${r} character`);l=l<<n|p,o+=n,o>=8&&(o-=8,a[u++]=255&l>>o)}if(o>=n||255&l<<8-o)throw new SyntaxError("Unexpected end of data");return a},VSe=(t,e,n)=>{const r=e[e.length-1]==="=",s=(1<<n)-1;let i="",a=0,o=0;for(let l=0;l<t.length;++l)for(o=o<<8|t[l],a+=8;a>n;)a-=n,i+=e[s&o>>a];if(a&&(i+=e[s&o<<n-a]),r)for(;i.length*n&7;)i+="=";return i},tu=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>CZ({prefix:e,name:t,encode(s){return VSe(s,r,n)},decode(s){return zSe(s,r,n,t)}}),wu=NZ({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});NZ({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var HSe=EZ,d8=128,WSe=127,GSe=~WSe,KSe=Math.pow(2,31);function EZ(t,e,n){e=e||[],n=n||0;for(var r=n;t>=KSe;)e[n++]=t&255|d8,t/=128;for(;t&GSe;)e[n++]=t&255|d8,t>>>=7;return e[n]=t|0,EZ.bytes=n-r+1,e}var YSe=aE,qSe=128,p8=127;function aE(t,r){var n=0,r=r||0,s=0,i=r,a,o=t.length;do{if(i>=o)throw aE.bytes=0,new RangeError("Could not decode varint");a=t[i++],n+=s<28?(a&p8)<<s:(a&p8)*Math.pow(2,s),s+=7}while(a>=qSe);return aE.bytes=i-r,n}var ZSe=Math.pow(2,7),XSe=Math.pow(2,14),JSe=Math.pow(2,21),QSe=Math.pow(2,28),eRe=Math.pow(2,35),tRe=Math.pow(2,42),nRe=Math.pow(2,49),rRe=Math.pow(2,56),sRe=Math.pow(2,63),iRe=function(t){return t<ZSe?1:t<XSe?2:t<JSe?3:t<QSe?4:t<eRe?5:t<tRe?6:t<nRe?7:t<rRe?8:t<sRe?9:10},aRe={encode:HSe,decode:YSe,encodingLength:iRe},K1=aRe;const oE=(t,e=0)=>[K1.decode(t,e),K1.decode.bytes],Y1=(t,e,n=0)=>(K1.encode(t,e,n),e),q1=t=>K1.encodingLength(t),oRe=(t,e)=>{const n=e.byteLength,r=q1(t),s=r+q1(n),i=new Uint8Array(s+n);return Y1(t,i,0),Y1(n,i,r),i.set(e,s),new iM(t,n,e,i)},lRe=t=>{const e=sM(t),[n,r]=oE(e),[s,i]=oE(e.subarray(r)),a=e.subarray(r+i);if(a.byteLength!==s)throw new Error("Incorrect length");return new iM(n,s,a,e)},cRe=(t,e)=>t===e?!0:t.code===e.code&&t.size===e.size&&LSe(t.bytes,e.bytes);class iM{constructor(e,n,r,s){this.code=e,this.size=n,this.digest=r,this.bytes=s}}const vw=tu({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});tu({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});tu({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});tu({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});tu({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});tu({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});tu({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});tu({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});tu({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});class Ts{constructor(e,n,r,s){this.code=n,this.version=e,this.multihash=r,this.bytes=s,this.byteOffset=s.byteOffset,this.byteLength=s.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:ox,byteLength:ox,code:ax,version:ax,multihash:ax,bytes:ax,_baseCache:ox,asCID:ox})}toV0(){switch(this.version){case 0:return this;default:{const{code:e,multihash:n}=this;if(e!==Wy)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(n.code!==fRe)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Ts.createV0(n)}}}toV1(){switch(this.version){case 0:{const{code:e,digest:n}=this.multihash,r=oRe(e,n);return Ts.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&cRe(this.multihash,e.multihash)}toString(e){const{bytes:n,version:r,_baseCache:s}=this;switch(r){case 0:return dRe(n,s,e||wu.encoder);default:return pRe(n,s,e||vw.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return mRe(/^0\.0/,yRe),!!(e&&(e[h8]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof Ts)return e;if(e!=null&&e.asCID===e){const{version:n,code:r,multihash:s,bytes:i}=e;return new Ts(n,r,s,i||f8(n,r,s.bytes))}else if(e!=null&&e[h8]===!0){const{version:n,multihash:r,code:s}=e,i=lRe(r);return Ts.create(n,s,i)}else return null}static create(e,n,r){if(typeof n!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(n!==Wy)throw new Error(`Version 0 CID must use dag-pb (code: ${Wy}) block encoding`);return new Ts(e,n,r,r.bytes)}case 1:{const s=f8(e,n,r.bytes);return new Ts(e,n,r,s)}default:throw new Error("Invalid version")}}static createV0(e){return Ts.create(0,Wy,e)}static createV1(e,n){return Ts.create(1,e,n)}static decode(e){const[n,r]=Ts.decodeFirst(e);if(r.length)throw new Error("Incorrect length");return n}static decodeFirst(e){const n=Ts.inspectBytes(e),r=n.size-n.multihashSize,s=sM(e.subarray(r,r+n.multihashSize));if(s.byteLength!==n.multihashSize)throw new Error("Incorrect length");const i=s.subarray(n.multihashSize-n.digestSize),a=new iM(n.multihashCode,n.digestSize,i,s);return[n.version===0?Ts.createV0(a):Ts.createV1(n.codec,a),e.subarray(n.size)]}static inspectBytes(e){let n=0;const r=()=>{const[p,f]=oE(e.subarray(n));return n+=f,p};let s=r(),i=Wy;if(s===18?(s=0,n=0):s===1&&(i=r()),s!==0&&s!==1)throw new RangeError(`Invalid CID version ${s}`);const a=n,o=r(),l=r(),u=n+l,d=u-a;return{version:s,codec:i,multihashCode:o,digestSize:l,multihashSize:d,size:u}}static parse(e,n){const[r,s]=uRe(e,n),i=Ts.decode(s);return i._baseCache.set(r,e),i}}const uRe=(t,e)=>{switch(t[0]){case"Q":{const n=e||wu;return[wu.prefix,n.decode(`${wu.prefix}${t}`)]}case wu.prefix:{const n=e||wu;return[wu.prefix,n.decode(t)]}case vw.prefix:{const n=e||vw;return[vw.prefix,n.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},dRe=(t,e,n)=>{const{prefix:r}=n;if(r!==wu.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const s=e.get(r);if(s==null){const i=n.encode(t).slice(1);return e.set(r,i),i}else return s},pRe=(t,e,n)=>{const{prefix:r}=n,s=e.get(r);if(s==null){const i=n.encode(t);return e.set(r,i),i}else return s},Wy=112,fRe=18,f8=(t,e,n)=>{const r=q1(t),s=r+q1(e),i=new Uint8Array(s+n.byteLength);return Y1(t,i,0),Y1(e,i,r),i.set(n,s),i},h8=Symbol.for("@ipld/js-cid/CID"),ax={writable:!1,configurable:!1,enumerable:!0},ox={writable:!1,enumerable:!1,configurable:!1},hRe="0.0.0-dev",mRe=(t,e)=>{if(t.test(hRe))console.warn(e);else throw new Error(e)},yRe=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`;function Li(t,e,n,r){var s=Object.defineProperty;try{s({},"",{})}catch{s=0}Li=function(i,a,o,l){function u(d,p){Li(i,d,function(f){return this._invoke(d,p,f)})}a?s?s(i,a,{value:o,enumerable:!l,configurable:!l,writable:!l}):i[a]=o:(u("next",0),u("throw",1),u("return",2))},Li(t,e,n,r)}function D(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,e,n=typeof Symbol=="function"?Symbol:{},r=n.iterator||"@@iterator",s=n.toStringTag||"@@toStringTag";function i(h,y,m,b){var v=y&&y.prototype instanceof o?y:o,g=Object.create(v.prototype);return Li(g,"_invoke",function(x,T,I){var C,N,P,L=0,U=I||[],$=!1,B={p:0,n:0,v:t,a:_,f:_.bind(t,4),d:function(w,k){return C=w,N=0,P=t,B.n=k,a}};function _(w,k){for(N=w,P=k,e=0;!$&&L&&!S&&e<U.length;e++){var S,M=U[e],R=B.p,j=M[2];w>3?(S=j===k)&&(P=M[(N=M[4])?5:(N=3,3)],M[4]=M[5]=t):M[0]<=R&&((S=w<2&&R<M[1])?(N=0,B.v=k,B.n=M[1]):R<j&&(S=w<3||M[0]>k||k>j)&&(M[4]=w,M[5]=k,B.n=j,N=0))}if(S||w>1)return a;throw $=!0,k}return function(w,k,S){if(L>1)throw TypeError("Generator is already running");for($&&k===1&&_(k,S),N=k,P=S;(e=N<2?t:P)||!$;){C||(N?N<3?(N>1&&(B.n=-1),_(N,P)):B.n=P:B.v=P);try{if(L=2,C){if(N||(w="next"),e=C[w]){if(!(e=e.call(C,P)))throw TypeError("iterator result is not an object");if(!e.done)return e;P=e.value,N<2&&(N=0)}else N===1&&(e=C.return)&&e.call(C),N<2&&(P=TypeError("The iterator does not provide a '"+w+"' method"),N=1);C=t}else if((e=($=B.n<0)?P:x.call(T,B))!==a)break}catch(M){C=t,N=1,P=M}finally{L=1}}return{value:e,done:$}}}(h,m,b),!0),g}var a={};function o(){}function l(){}function u(){}e=Object.getPrototypeOf;var d=[][r]?e(e([][r]())):(Li(e={},r,function(){return this}),e),p=u.prototype=o.prototype=Object.create(d);function f(h){return Object.setPrototypeOf?Object.setPrototypeOf(h,u):(h.__proto__=u,Li(h,s,"GeneratorFunction")),h.prototype=Object.create(p),h}return l.prototype=u,Li(p,"constructor",u),Li(u,"constructor",l),l.displayName="GeneratorFunction",Li(u,s,"GeneratorFunction"),Li(p),Li(p,s,"Generator"),Li(p,r,function(){return this}),Li(p,"toString",function(){return"[object Generator]"}),(D=function(){return{w:i,m:f}})()}function m8(t,e,n,r,s,i,a){try{var o=t[i](a),l=o.value}catch(u){return void n(u)}o.done?e(l):Promise.resolve(l).then(r,s)}function W(t){return function(){var e=this,n=arguments;return new Promise(function(r,s){var i=t.apply(e,n);function a(l){m8(i,r,s,a,o,"next",l)}function o(l){m8(i,r,s,a,o,"throw",l)}a(void 0)})}}function gRe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function SZ(t){var e=gRe(t,"string");return typeof e=="symbol"?e:e+""}function hn(t,e,n){return(e=SZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function G(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y8(Object(n),!0).forEach(function(r){hn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,SZ(r.key),r)}}function et(t,e,n){return e&&g8(t.prototype,e),n&&g8(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function lE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function aM(t,e){if(t){if(typeof t=="string")return lE(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lE(t,e):void 0}}function bt(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=aM(t))||e){n&&(t=n);var r=0,s=function(){};return{s,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(l){throw l},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,a=!0,o=!1;return{s:function(){n=n.call(t)},n:function(){var l=n.next();return a=l.done,l},e:function(l){o=!0,i=l},f:function(){try{a||n.return==null||n.return()}finally{if(o)throw i}}}}function vRe(t){if(Array.isArray(t))return t}function bRe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,a,o=[],l=!0,u=!1;try{if(i=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){u=!0,s=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw s}}return o}}function xRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cE(t,e){return vRe(t)||bRe(t,e)||aM(t,e)||xRe()}function dv(t){return dv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},dv(t)}function oM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oM=function(){return!!t})()}function wRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TRe(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wRe(t)}function zn(t,e,n){return e=dv(e),TRe(t,oM()?Reflect.construct(e,n||[],dv(t).constructor):e.apply(t,n))}function pv(t,e){return pv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},pv(t,e)}function Vn(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pv(t,e)}var uo=[{type:"constructor",inputs:[{name:"ipAccountRegistry",internalType:"address",type:"address"},{name:"moduleRegistry",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"error",inputs:[{name:"signer",internalType:"address",type:"address"},{name:"to",internalType:"address",type:"address"}],name:"AccessController__BothCallerAndRecipientAreNotRegisteredModule"},{type:"error",inputs:[],name:"AccessController__CallerIsNotIPAccountOrOwner"},{type:"error",inputs:[{name:"ipAccount",internalType:"address",type:"address"}],name:"AccessController__IPAccountIsNotValid"},{type:"error",inputs:[],name:"AccessController__IPAccountIsZeroAddress"},{type:"error",inputs:[{name:"ipAccount",internalType:"address",type:"address"},{name:"owner",internalType:"address",type:"address"}],name:"AccessController__OwnerIsIPAccount"},{type:"error",inputs:[{name:"ipAccount",internalType:"address",type:"address"},{name:"signer",internalType:"address",type:"address"},{name:"to",internalType:"address",type:"address"},{name:"func",internalType:"bytes4",type:"bytes4"}],name:"AccessController__PermissionDenied"},{type:"error",inputs:[],name:"AccessController__PermissionIsNotValid"},{type:"error",inputs:[],name:"AccessController__SignerIsZeroAddress"},{type:"error",inputs:[],name:"AccessController__ToAndFuncAreZeroAddressShouldCallSetAllPermissions"},{type:"error",inputs:[],name:"AccessController__ZeroAccessManager"},{type:"error",inputs:[],name:"AccessController__ZeroIPAccountRegistry"},{type:"error",inputs:[],name:"AccessController__ZeroModuleRegistry"},{type:"error",inputs:[{name:"authority",internalType:"address",type:"address"}],name:"AccessManagedInvalidAuthority"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"delay",internalType:"uint32",type:"uint32"}],name:"AccessManagedRequiredDelay"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"}],name:"AccessManagedUnauthorized"},{type:"error",inputs:[{name:"target",internalType:"address",type:"address"}],name:"AddressEmptyCode"},{type:"error",inputs:[{name:"implementation",internalType:"address",type:"address"}],name:"ERC1967InvalidImplementation"},{type:"error",inputs:[],name:"ERC1967NonPayable"},{type:"error",inputs:[],name:"EnforcedPause"},{type:"error",inputs:[],name:"ExpectedPause"},{type:"error",inputs:[],name:"FailedCall"},{type:"error",inputs:[],name:"InvalidInitialization"},{type:"error",inputs:[],name:"NotInitializing"},{type:"error",inputs:[],name:"UUPSUnauthorizedCallContext"},{type:"error",inputs:[{name:"slot",internalType:"bytes32",type:"bytes32"}],name:"UUPSUnsupportedProxiableUUID"},{type:"event",anonymous:!1,inputs:[{name:"authority",internalType:"address",type:"address",indexed:!1}],name:"AuthorityUpdated"},{type:"event",anonymous:!1,inputs:[{name:"version",internalType:"uint64",type:"uint64",indexed:!1}],name:"Initialized"},{type:"event",anonymous:!1,inputs:[{name:"account",internalType:"address",type:"address",indexed:!1}],name:"Paused"},{type:"event",anonymous:!1,inputs:[{name:"ipAccountOwner",internalType:"address",type:"address",indexed:!1},{name:"ipAccount",internalType:"address",type:"address",indexed:!0},{name:"signer",internalType:"address",type:"address",indexed:!0},{name:"to",internalType:"address",type:"address",indexed:!0},{name:"func",internalType:"bytes4",type:"bytes4",indexed:!1},{name:"permission",internalType:"uint8",type:"uint8",indexed:!1}],name:"PermissionSet"},{type:"event",anonymous:!1,inputs:[{name:"ipAccountOwner",internalType:"address",type:"address",indexed:!1},{name:"ipAccount",internalType:"address",type:"address",indexed:!0},{name:"signer",internalType:"address",type:"address",indexed:!0},{name:"to",internalType:"address",type:"address",indexed:!0},{name:"func",internalType:"bytes4",type:"bytes4",indexed:!1},{name:"permission",internalType:"uint8",type:"uint8",indexed:!1}],name:"TransientPermissionSet"},{type:"event",anonymous:!1,inputs:[{name:"account",internalType:"address",type:"address",indexed:!1}],name:"Unpaused"},{type:"event",anonymous:!1,inputs:[{name:"implementation",internalType:"address",type:"address",indexed:!0}],name:"Upgraded"},{type:"function",inputs:[],name:"IP_ASSET_REGISTRY",outputs:[{name:"",internalType:"contract IIPAssetRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"MODULE_REGISTRY",outputs:[{name:"",internalType:"contract IModuleRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"UPGRADE_INTERFACE_VERSION",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[{name:"accessManager",internalType:"address",type:"address"}],name:"__ProtocolPausable_init",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"authority",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipAccount",internalType:"address",type:"address"},{name:"signer",internalType:"address",type:"address"},{name:"to",internalType:"address",type:"address"},{name:"func",internalType:"bytes4",type:"bytes4"}],name:"checkPermission",outputs:[],stateMutability:"view"},{type:"function",inputs:[{name:"ipAccount",internalType:"address",type:"address"},{name:"signer",internalType:"address",type:"address"},{name:"to",internalType:"address",type:"address"},{name:"func",internalType:"bytes4",type:"bytes4"}],name:"getPermanentPermission",outputs:[{name:"",internalType:"uint8",type:"uint8"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipAccount",internalType:"address",type:"address"},{name:"signer",internalType:"address",type:"address"},{name:"to",internalType:"address",type:"address"},{name:"func",internalType:"bytes4",type:"bytes4"}],name:"getPermission",outputs:[{name:"",internalType:"uint8",type:"uint8"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipAccount",internalType:"address",type:"address"},{name:"signer",internalType:"address",type:"address"},{name:"to",internalType:"address",type:"address"},{name:"func",internalType:"bytes4",type:"bytes4"}],name:"getTransientPermission",outputs:[{name:"",internalType:"uint8",type:"uint8"}],stateMutability:"view"},{type:"function",inputs:[{name:"accessManager",internalType:"address",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"isConsumingScheduledOp",outputs:[{name:"",internalType:"bytes4",type:"bytes4"}],stateMutability:"view"},{type:"function",inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"paused",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[],name:"proxiableUUID",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipAccount",internalType:"address",type:"address"},{name:"signer",internalType:"address",type:"address"},{name:"permission",internalType:"uint8",type:"uint8"}],name:"setAllPermissions",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"ipAccount",internalType:"address",type:"address"},{name:"signer",internalType:"address",type:"address"},{name:"permission",internalType:"uint8",type:"uint8"}],name:"setAllTransientPermissions",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newAuthority",internalType:"address",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"permissions",internalType:"struct AccessPermission.Permission[]",type:"tuple[]",components:[{name:"ipAccount",internalType:"address",type:"address"},{name:"signer",internalType:"address",type:"address"},{name:"to",internalType:"address",type:"address"},{name:"func",internalType:"bytes4",type:"bytes4"},{name:"permission",internalType:"uint8",type:"uint8"}]}],name:"setBatchPermissions",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"permissions",internalType:"struct AccessPermission.Permission[]",type:"tuple[]",components:[{name:"ipAccount",internalType:"address",type:"address"},{name:"signer",internalType:"address",type:"address"},{name:"to",internalType:"address",type:"address"},{name:"func",internalType:"bytes4",type:"bytes4"},{name:"permission",internalType:"uint8",type:"uint8"}]}],name:"setBatchTransientPermissions",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"ipAccount",internalType:"address",type:"address"},{name:"signer",internalType:"address",type:"address"},{name:"to",internalType:"address",type:"address"},{name:"func",internalType:"bytes4",type:"bytes4"},{name:"permission",internalType:"uint8",type:"uint8"}],name:"setPermission",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"ipAccount",internalType:"address",type:"address"},{name:"signer",internalType:"address",type:"address"},{name:"to",internalType:"address",type:"address"},{name:"func",internalType:"bytes4",type:"bytes4"},{name:"permission",internalType:"uint8",type:"uint8"}],name:"setTransientPermission",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newImplementation",internalType:"address",type:"address"},{name:"data",internalType:"bytes",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable"}],RZ={1315:"0xcCF37d0a503Ee1D4C11208672e622ed3DFB2275a",1514:"0xcCF37d0a503Ee1D4C11208672e622ed3DFB2275a"},sp=[{type:"constructor",inputs:[{name:"disputeModule",internalType:"address",type:"address"},{name:"royaltyModule",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"error",inputs:[{name:"authority",internalType:"address",type:"address"}],name:"AccessManagedInvalidAuthority"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"delay",internalType:"uint32",type:"uint32"}],name:"AccessManagedRequiredDelay"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"}],name:"AccessManagedUnauthorized"},{type:"error",inputs:[{name:"target",internalType:"address",type:"address"}],name:"AddressEmptyCode"},{type:"error",inputs:[],name:"ArbitrationPolicyUMA__BondAboveMax"},{type:"error",inputs:[],name:"ArbitrationPolicyUMA__CannotCancel"},{type:"error",inputs:[],name:"ArbitrationPolicyUMA__CannotDisputeAssertionIfTagIsInherited"},{type:"error",inputs:[],name:"ArbitrationPolicyUMA__CurrencyNotWhitelisted"},{type:"error",inputs:[],name:"ArbitrationPolicyUMA__DisputeNotFound"},{type:"error",inputs:[],name:"ArbitrationPolicyUMA__IpOwnerTimePercentAboveMax"},{type:"error",inputs:[],name:"ArbitrationPolicyUMA__LivenessAboveMax"},{type:"error",inputs:[],name:"ArbitrationPolicyUMA__LivenessBelowMin"},{type:"error",inputs:[],name:"ArbitrationPolicyUMA__MaxBondBelowMinimumBond"},{type:"error",inputs:[],name:"ArbitrationPolicyUMA__MinLivenessAboveMax"},{type:"error",inputs:[],name:"ArbitrationPolicyUMA__NoCounterEvidence"},{type:"error",inputs:[],name:"ArbitrationPolicyUMA__NotDisputeModule"},{type:"error",inputs:[],name:"ArbitrationPolicyUMA__NotOOV3"},{type:"error",inputs:[],name:"ArbitrationPolicyUMA__OnlyDisputePolicyUMA"},{type:"error",inputs:[{name:"elapsedTime",internalType:"uint64",type:"uint64"},{name:"liveness",internalType:"uint64",type:"uint64"},{name:"caller",internalType:"address",type:"address"}],name:"ArbitrationPolicyUMA__OnlyTargetIpIdCanDisputeWithinTimeWindow"},{type:"error",inputs:[],name:"ArbitrationPolicyUMA__ZeroAccessManager"},{type:"error",inputs:[],name:"ArbitrationPolicyUMA__ZeroDisputeModule"},{type:"error",inputs:[],name:"ArbitrationPolicyUMA__ZeroMaxLiveness"},{type:"error",inputs:[],name:"ArbitrationPolicyUMA__ZeroMinLiveness"},{type:"error",inputs:[],name:"ArbitrationPolicyUMA__ZeroOOV3"},{type:"error",inputs:[],name:"ArbitrationPolicyUMA__ZeroRoyaltyModule"},{type:"error",inputs:[{name:"implementation",internalType:"address",type:"address"}],name:"ERC1967InvalidImplementation"},{type:"error",inputs:[],name:"ERC1967NonPayable"},{type:"error",inputs:[],name:"EnforcedPause"},{type:"error",inputs:[],name:"ExpectedPause"},{type:"error",inputs:[],name:"FailedCall"},{type:"error",inputs:[],name:"InvalidInitialization"},{type:"error",inputs:[],name:"NotInitializing"},{type:"error",inputs:[],name:"ReentrancyGuardReentrantCall"},{type:"error",inputs:[{name:"token",internalType:"address",type:"address"}],name:"SafeERC20FailedOperation"},{type:"error",inputs:[],name:"UUPSUnauthorizedCallContext"},{type:"error",inputs:[{name:"slot",internalType:"bytes32",type:"bytes32"}],name:"UUPSUnsupportedProxiableUUID"},{type:"event",anonymous:!1,inputs:[{name:"disputeId",internalType:"uint256",type:"uint256",indexed:!1},{name:"assertionId",internalType:"bytes32",type:"bytes32",indexed:!1},{name:"counterEvidenceHash",internalType:"bytes32",type:"bytes32",indexed:!1}],name:"AssertionDisputed"},{type:"event",anonymous:!1,inputs:[{name:"authority",internalType:"address",type:"address",indexed:!1}],name:"AuthorityUpdated"},{type:"event",anonymous:!1,inputs:[{name:"disputeId",internalType:"uint256",type:"uint256",indexed:!1},{name:"assertionId",internalType:"bytes32",type:"bytes32",indexed:!1},{name:"caller",internalType:"address",type:"address",indexed:!1},{name:"liveness",internalType:"uint64",type:"uint64",indexed:!1},{name:"currency",internalType:"address",type:"address",indexed:!1},{name:"bond",internalType:"uint256",type:"uint256",indexed:!1}],name:"DisputeRaisedUMA"},{type:"event",anonymous:!1,inputs:[{name:"version",internalType:"uint64",type:"uint64",indexed:!1}],name:"Initialized"},{type:"event",anonymous:!1,inputs:[{name:"minLiveness",internalType:"uint64",type:"uint64",indexed:!1},{name:"maxLiveness",internalType:"uint64",type:"uint64",indexed:!1},{name:"ipOwnerTimePercent",internalType:"uint32",type:"uint32",indexed:!1}],name:"LivenessSet"},{type:"event",anonymous:!1,inputs:[{name:"token",internalType:"address",type:"address",indexed:!1},{name:"maxBond",internalType:"uint256",type:"uint256",indexed:!1}],name:"MaxBondSet"},{type:"event",anonymous:!1,inputs:[{name:"oov3",internalType:"address",type:"address",indexed:!1}],name:"OOV3Set"},{type:"event",anonymous:!1,inputs:[{name:"account",internalType:"address",type:"address",indexed:!1}],name:"Paused"},{type:"event",anonymous:!1,inputs:[{name:"account",internalType:"address",type:"address",indexed:!1}],name:"Unpaused"},{type:"event",anonymous:!1,inputs:[{name:"implementation",internalType:"address",type:"address",indexed:!0}],name:"Upgraded"},{type:"function",inputs:[],name:"DISPUTE_MODULE",outputs:[{name:"",internalType:"contract IDisputeModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"ROYALTY_MODULE",outputs:[{name:"",internalType:"contract IRoyaltyModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"UPGRADE_INTERFACE_VERSION",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[{name:"accessManager",internalType:"address",type:"address"}],name:"__ProtocolPausable_init",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"assertionId",internalType:"bytes32",type:"bytes32"}],name:"assertionDisputedCallback",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"assertionId",internalType:"bytes32",type:"bytes32"}],name:"assertionIdToDisputeId",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"assertionId",internalType:"bytes32",type:"bytes32"},{name:"assertedTruthfully",internalType:"bool",type:"bool"}],name:"assertionResolvedCallback",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"authority",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"assertionId",internalType:"bytes32",type:"bytes32"},{name:"counterEvidenceHash",internalType:"bytes32",type:"bytes32"}],name:"disputeAssertion",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"disputeId",internalType:"uint256",type:"uint256"}],name:"disputeIdToAssertionId",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"accessManager",internalType:"address",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"ipOwnerTimePercent",outputs:[{name:"",internalType:"uint32",type:"uint32"}],stateMutability:"view"},{type:"function",inputs:[{name:"disputeId",internalType:"uint256",type:"uint256"}],name:"ipOwnerTimePercents",outputs:[{name:"",internalType:"uint32",type:"uint32"}],stateMutability:"view"},{type:"function",inputs:[],name:"isConsumingScheduledOp",outputs:[{name:"",internalType:"bytes4",type:"bytes4"}],stateMutability:"view"},{type:"function",inputs:[{name:"token",internalType:"address",type:"address"}],name:"maxBonds",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[],name:"maxLiveness",outputs:[{name:"",internalType:"uint64",type:"uint64"}],stateMutability:"view"},{type:"function",inputs:[],name:"minLiveness",outputs:[{name:"",internalType:"uint64",type:"uint64"}],stateMutability:"view"},{type:"function",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"disputeId",internalType:"uint256",type:"uint256"},{name:"data",internalType:"bytes",type:"bytes"}],name:"onDisputeCancel",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"disputeId",internalType:"uint256",type:"uint256"},{name:"decision",internalType:"bool",type:"bool"},{name:"data",internalType:"bytes",type:"bytes"}],name:"onDisputeJudgement",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"targetIpId",internalType:"address",type:"address"},{name:"disputeEvidenceHash",internalType:"bytes32",type:"bytes32"},{name:"targetTag",internalType:"bytes32",type:"bytes32"},{name:"disputeId",internalType:"uint256",type:"uint256"},{name:"data",internalType:"bytes",type:"bytes"}],name:"onRaiseDispute",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"disputeId",internalType:"uint256",type:"uint256"},{name:"data",internalType:"bytes",type:"bytes"}],name:"onResolveDispute",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"oov3",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"paused",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[],name:"proxiableUUID",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"newAuthority",internalType:"address",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"minLiveness",internalType:"uint64",type:"uint64"},{name:"maxLiveness",internalType:"uint64",type:"uint64"},{name:"ipOwnerTimePercent",internalType:"uint32",type:"uint32"}],name:"setLiveness",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"token",internalType:"address",type:"address"},{name:"maxBond",internalType:"uint256",type:"uint256"}],name:"setMaxBond",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"oov3",internalType:"address",type:"address"}],name:"setOOV3",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newImplementation",internalType:"address",type:"address"},{name:"data",internalType:"bytes",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable"}],ARe={1315:"0xfFD98c3877B8789124f02C7E8239A4b0Ef11E936",1514:"0xfFD98c3877B8789124f02C7E8239A4b0Ef11E936"},Rt=[{type:"constructor",inputs:[{name:"accessController",internalType:"address",type:"address"},{name:"ipAccountRegistry",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"error",inputs:[{name:"ipAccount",internalType:"address",type:"address"}],name:"AccessControlled__NotIpAccount"},{type:"error",inputs:[],name:"AccessControlled__ZeroAddress"},{type:"error",inputs:[{name:"authority",internalType:"address",type:"address"}],name:"AccessManagedInvalidAuthority"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"delay",internalType:"uint32",type:"uint32"}],name:"AccessManagedRequiredDelay"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"}],name:"AccessManagedUnauthorized"},{type:"error",inputs:[{name:"target",internalType:"address",type:"address"}],name:"AddressEmptyCode"},{type:"error",inputs:[],name:"CoreMetadataModule__MetadataAlreadyFrozen"},{type:"error",inputs:[],name:"CoreMetadataModule__ZeroAccessManager"},{type:"error",inputs:[{name:"implementation",internalType:"address",type:"address"}],name:"ERC1967InvalidImplementation"},{type:"error",inputs:[],name:"ERC1967NonPayable"},{type:"error",inputs:[],name:"FailedCall"},{type:"error",inputs:[],name:"InvalidInitialization"},{type:"error",inputs:[],name:"NotInitializing"},{type:"error",inputs:[],name:"UUPSUnauthorizedCallContext"},{type:"error",inputs:[{name:"slot",internalType:"bytes32",type:"bytes32"}],name:"UUPSUnsupportedProxiableUUID"},{type:"event",anonymous:!1,inputs:[{name:"authority",internalType:"address",type:"address",indexed:!1}],name:"AuthorityUpdated"},{type:"event",anonymous:!1,inputs:[{name:"version",internalType:"uint64",type:"uint64",indexed:!1}],name:"Initialized"},{type:"event",anonymous:!1,inputs:[{name:"ipId",internalType:"address",type:"address",indexed:!0}],name:"MetadataFrozen"},{type:"event",anonymous:!1,inputs:[{name:"ipId",internalType:"address",type:"address",indexed:!0},{name:"metadataURI",internalType:"string",type:"string",indexed:!1},{name:"metadataHash",internalType:"bytes32",type:"bytes32",indexed:!1}],name:"MetadataURISet"},{type:"event",anonymous:!1,inputs:[{name:"ipId",internalType:"address",type:"address",indexed:!0},{name:"nftTokenURI",internalType:"string",type:"string",indexed:!1},{name:"nftMetadataHash",internalType:"bytes32",type:"bytes32",indexed:!1}],name:"NFTTokenURISet"},{type:"event",anonymous:!1,inputs:[{name:"implementation",internalType:"address",type:"address",indexed:!0}],name:"Upgraded"},{type:"function",inputs:[],name:"ACCESS_CONTROLLER",outputs:[{name:"",internalType:"contract IAccessController",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"IP_ASSET_REGISTRY",outputs:[{name:"",internalType:"contract IIPAssetRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"UPGRADE_INTERFACE_VERSION",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[],name:"authority",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"}],name:"freezeMetadata",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"accessManager",internalType:"address",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"isConsumingScheduledOp",outputs:[{name:"",internalType:"bytes4",type:"bytes4"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"}],name:"isMetadataFrozen",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[],name:"name",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"pure"},{type:"function",inputs:[],name:"proxiableUUID",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"metadataURI",internalType:"string",type:"string"},{name:"metadataHash",internalType:"bytes32",type:"bytes32"},{name:"nftMetadataHash",internalType:"bytes32",type:"bytes32"}],name:"setAll",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newAuthority",internalType:"address",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"metadataURI",internalType:"string",type:"string"},{name:"metadataHash",internalType:"bytes32",type:"bytes32"}],name:"setMetadataURI",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"interfaceId",internalType:"bytes4",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"nftMetadataHash",internalType:"bytes32",type:"bytes32"}],name:"updateNftTokenURI",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newImplementation",internalType:"address",type:"address"},{name:"data",internalType:"bytes",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable"}],lM={1315:"0x6E81a25C99C6e8430aeC7353325EB138aFE5DC16",1514:"0x6E81a25C99C6e8430aeC7353325EB138aFE5DC16"},ba=[{type:"constructor",inputs:[{name:"accessController",internalType:"address",type:"address"},{name:"coreMetadataModule",internalType:"address",type:"address"},{name:"ipAssetRegistry",internalType:"address",type:"address"},{name:"licenseRegistry",internalType:"address",type:"address"},{name:"licenseToken",internalType:"address",type:"address"},{name:"licensingModule",internalType:"address",type:"address"},{name:"pilTemplate",internalType:"address",type:"address"},{name:"royaltyModule",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"error",inputs:[{name:"authority",internalType:"address",type:"address"}],name:"AccessManagedInvalidAuthority"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"delay",internalType:"uint32",type:"uint32"}],name:"AccessManagedRequiredDelay"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"}],name:"AccessManagedUnauthorized"},{type:"error",inputs:[{name:"target",internalType:"address",type:"address"}],name:"AddressEmptyCode"},{type:"error",inputs:[{name:"tokenId",internalType:"uint256",type:"uint256"},{name:"caller",internalType:"address",type:"address"},{name:"actualTokenOwner",internalType:"address",type:"address"}],name:"DerivativeWorkflows__CallerAndNotTokenOwner"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"signer",internalType:"address",type:"address"}],name:"DerivativeWorkflows__CallerNotSigner"},{type:"error",inputs:[],name:"DerivativeWorkflows__EmptyLicenseTokens"},{type:"error",inputs:[],name:"DerivativeWorkflows__ZeroAddressParam"},{type:"error",inputs:[{name:"implementation",internalType:"address",type:"address"}],name:"ERC1967InvalidImplementation"},{type:"error",inputs:[],name:"ERC1967NonPayable"},{type:"error",inputs:[],name:"FailedCall"},{type:"error",inputs:[],name:"InvalidInitialization"},{type:"error",inputs:[],name:"LicensingHelper__ParentIpIdsAndLicenseTermsIdsMismatch"},{type:"error",inputs:[],name:"NotInitializing"},{type:"error",inputs:[],name:"PermissionHelper__ModulesAndSelectorsMismatch"},{type:"error",inputs:[{name:"token",internalType:"address",type:"address"}],name:"SafeERC20FailedOperation"},{type:"error",inputs:[],name:"UUPSUnauthorizedCallContext"},{type:"error",inputs:[{name:"slot",internalType:"bytes32",type:"bytes32"}],name:"UUPSUnsupportedProxiableUUID"},{type:"error",inputs:[],name:"Workflow__CallerNotAuthorizedToMint"},{type:"event",anonymous:!1,inputs:[{name:"authority",internalType:"address",type:"address",indexed:!1}],name:"AuthorityUpdated"},{type:"event",anonymous:!1,inputs:[{name:"version",internalType:"uint64",type:"uint64",indexed:!1}],name:"Initialized"},{type:"event",anonymous:!1,inputs:[{name:"implementation",internalType:"address",type:"address",indexed:!0}],name:"Upgraded"},{type:"function",inputs:[],name:"ACCESS_CONTROLLER",outputs:[{name:"",internalType:"contract IAccessController",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"CORE_METADATA_MODULE",outputs:[{name:"",internalType:"contract ICoreMetadataModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"IP_ASSET_REGISTRY",outputs:[{name:"",internalType:"contract IIPAssetRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"LICENSE_REGISTRY",outputs:[{name:"",internalType:"contract ILicenseRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"LICENSE_TOKEN",outputs:[{name:"",internalType:"contract ILicenseToken",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"LICENSING_MODULE",outputs:[{name:"",internalType:"contract ILicensingModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"PIL_TEMPLATE",outputs:[{name:"",internalType:"contract IPILicenseTemplate",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"ROYALTY_MODULE",outputs:[{name:"",internalType:"contract IRoyaltyModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"UPGRADE_INTERFACE_VERSION",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[],name:"authority",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"accessManager",internalType:"address",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"isConsumingScheduledOp",outputs:[{name:"",internalType:"bytes4",type:"bytes4"}],stateMutability:"view"},{type:"function",inputs:[{name:"spgNftContract",internalType:"address",type:"address"},{name:"derivData",internalType:"struct WorkflowStructs.MakeDerivative",type:"tuple",components:[{name:"parentIpIds",internalType:"address[]",type:"address[]"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsIds",internalType:"uint256[]",type:"uint256[]"},{name:"royaltyContext",internalType:"bytes",type:"bytes"},{name:"maxMintingFee",internalType:"uint256",type:"uint256"},{name:"maxRts",internalType:"uint32",type:"uint32"},{name:"maxRevenueShare",internalType:"uint32",type:"uint32"}]},{name:"ipMetadata",internalType:"struct WorkflowStructs.IPMetadata",type:"tuple",components:[{name:"ipMetadataURI",internalType:"string",type:"string"},{name:"ipMetadataHash",internalType:"bytes32",type:"bytes32"},{name:"nftMetadataURI",internalType:"string",type:"string"},{name:"nftMetadataHash",internalType:"bytes32",type:"bytes32"}]},{name:"recipient",internalType:"address",type:"address"},{name:"allowDuplicates",internalType:"bool",type:"bool"}],name:"mintAndRegisterIpAndMakeDerivative",outputs:[{name:"ipId",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"spgNftContract",internalType:"address",type:"address"},{name:"licenseTokenIds",internalType:"uint256[]",type:"uint256[]"},{name:"royaltyContext",internalType:"bytes",type:"bytes"},{name:"maxRts",internalType:"uint32",type:"uint32"},{name:"ipMetadata",internalType:"struct WorkflowStructs.IPMetadata",type:"tuple",components:[{name:"ipMetadataURI",internalType:"string",type:"string"},{name:"ipMetadataHash",internalType:"bytes32",type:"bytes32"},{name:"nftMetadataURI",internalType:"string",type:"string"},{name:"nftMetadataHash",internalType:"bytes32",type:"bytes32"}]},{name:"recipient",internalType:"address",type:"address"},{name:"allowDuplicates",internalType:"bool",type:"bool"}],name:"mintAndRegisterIpAndMakeDerivativeWithLicenseTokens",outputs:[{name:"ipId",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"data",internalType:"bytes[]",type:"bytes[]"}],name:"multicall",outputs:[{name:"results",internalType:"bytes[]",type:"bytes[]"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"",internalType:"address",type:"address"},{name:"",internalType:"address",type:"address"},{name:"",internalType:"uint256",type:"uint256"},{name:"",internalType:"bytes",type:"bytes"}],name:"onERC721Received",outputs:[{name:"",internalType:"bytes4",type:"bytes4"}],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"proxiableUUID",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"nftContract",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"},{name:"derivData",internalType:"struct WorkflowStructs.MakeDerivative",type:"tuple",components:[{name:"parentIpIds",internalType:"address[]",type:"address[]"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsIds",internalType:"uint256[]",type:"uint256[]"},{name:"royaltyContext",internalType:"bytes",type:"bytes"},{name:"maxMintingFee",internalType:"uint256",type:"uint256"},{name:"maxRts",internalType:"uint32",type:"uint32"},{name:"maxRevenueShare",internalType:"uint32",type:"uint32"}]},{name:"ipMetadata",internalType:"struct WorkflowStructs.IPMetadata",type:"tuple",components:[{name:"ipMetadataURI",internalType:"string",type:"string"},{name:"ipMetadataHash",internalType:"bytes32",type:"bytes32"},{name:"nftMetadataURI",internalType:"string",type:"string"},{name:"nftMetadataHash",internalType:"bytes32",type:"bytes32"}]},{name:"sigMetadataAndRegister",internalType:"struct WorkflowStructs.SignatureData",type:"tuple",components:[{name:"signer",internalType:"address",type:"address"},{name:"deadline",internalType:"uint256",type:"uint256"},{name:"signature",internalType:"bytes",type:"bytes"}]}],name:"registerIpAndMakeDerivative",outputs:[{name:"ipId",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"nftContract",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"},{name:"licenseTokenIds",internalType:"uint256[]",type:"uint256[]"},{name:"royaltyContext",internalType:"bytes",type:"bytes"},{name:"maxRts",internalType:"uint32",type:"uint32"},{name:"ipMetadata",internalType:"struct WorkflowStructs.IPMetadata",type:"tuple",components:[{name:"ipMetadataURI",internalType:"string",type:"string"},{name:"ipMetadataHash",internalType:"bytes32",type:"bytes32"},{name:"nftMetadataURI",internalType:"string",type:"string"},{name:"nftMetadataHash",internalType:"bytes32",type:"bytes32"}]},{name:"sigMetadataAndRegister",internalType:"struct WorkflowStructs.SignatureData",type:"tuple",components:[{name:"signer",internalType:"address",type:"address"},{name:"deadline",internalType:"uint256",type:"uint256"},{name:"signature",internalType:"bytes",type:"bytes"}]}],name:"registerIpAndMakeDerivativeWithLicenseTokens",outputs:[{name:"ipId",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newAuthority",internalType:"address",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newImplementation",internalType:"address",type:"address"},{name:"data",internalType:"bytes",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable"}],PZ={1315:"0x9e2d496f72C547C2C535B167e06ED8729B374a4f",1514:"0x9e2d496f72C547C2C535B167e06ED8729B374a4f"},Hs=[{type:"constructor",inputs:[{name:"accessController",internalType:"address",type:"address"},{name:"ipAssetRegistry",internalType:"address",type:"address"},{name:"licenseRegistry",internalType:"address",type:"address"},{name:"ipGraphAcl",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"error",inputs:[{name:"ipAccount",internalType:"address",type:"address"}],name:"AccessControlled__NotIpAccount"},{type:"error",inputs:[],name:"AccessControlled__ZeroAddress"},{type:"error",inputs:[{name:"authority",internalType:"address",type:"address"}],name:"AccessManagedInvalidAuthority"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"delay",internalType:"uint32",type:"uint32"}],name:"AccessManagedRequiredDelay"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"}],name:"AccessManagedUnauthorized"},{type:"error",inputs:[{name:"target",internalType:"address",type:"address"}],name:"AddressEmptyCode"},{type:"error",inputs:[],name:"DisputeModule__CannotBlacklistBaseArbitrationPolicy"},{type:"error",inputs:[],name:"DisputeModule__DisputeAlreadyPropagated"},{type:"error",inputs:[],name:"DisputeModule__DisputeWithoutInfringementTag"},{type:"error",inputs:[],name:"DisputeModule__EvidenceHashAlreadyUsed"},{type:"error",inputs:[],name:"DisputeModule__NotAbleToResolve"},{type:"error",inputs:[],name:"DisputeModule__NotAllowedToWhitelist"},{type:"error",inputs:[],name:"DisputeModule__NotArbitrationRelayer"},{type:"error",inputs:[],name:"DisputeModule__NotDerivativeOrGroupIp"},{type:"error",inputs:[],name:"DisputeModule__NotDisputeInitiator"},{type:"error",inputs:[],name:"DisputeModule__NotInDisputeState"},{type:"error",inputs:[],name:"DisputeModule__NotRegisteredIpId"},{type:"error",inputs:[],name:"DisputeModule__NotWhitelistedArbitrationPolicy"},{type:"error",inputs:[],name:"DisputeModule__NotWhitelistedDisputeTag"},{type:"error",inputs:[],name:"DisputeModule__RelatedDisputeNotResolved"},{type:"error",inputs:[],name:"DisputeModule__ZeroAccessController"},{type:"error",inputs:[],name:"DisputeModule__ZeroAccessManager"},{type:"error",inputs:[],name:"DisputeModule__ZeroArbitrationPolicy"},{type:"error",inputs:[],name:"DisputeModule__ZeroArbitrationPolicyCooldown"},{type:"error",inputs:[],name:"DisputeModule__ZeroDisputeEvidenceHash"},{type:"error",inputs:[],name:"DisputeModule__ZeroDisputeTag"},{type:"error",inputs:[],name:"DisputeModule__ZeroIPAssetRegistry"},{type:"error",inputs:[],name:"DisputeModule__ZeroIPGraphACL"},{type:"error",inputs:[],name:"DisputeModule__ZeroLicenseRegistry"},{type:"error",inputs:[{name:"implementation",internalType:"address",type:"address"}],name:"ERC1967InvalidImplementation"},{type:"error",inputs:[],name:"ERC1967NonPayable"},{type:"error",inputs:[],name:"EnforcedPause"},{type:"error",inputs:[],name:"ExpectedPause"},{type:"error",inputs:[],name:"FailedCall"},{type:"error",inputs:[],name:"InvalidInitialization"},{type:"error",inputs:[],name:"NotInitializing"},{type:"error",inputs:[],name:"ReentrancyGuardReentrantCall"},{type:"error",inputs:[],name:"UUPSUnauthorizedCallContext"},{type:"error",inputs:[{name:"slot",internalType:"bytes32",type:"bytes32"}],name:"UUPSUnsupportedProxiableUUID"},{type:"event",anonymous:!1,inputs:[{name:"cooldown",internalType:"uint256",type:"uint256",indexed:!1}],name:"ArbitrationPolicyCooldownUpdated"},{type:"event",anonymous:!1,inputs:[{name:"ipId",internalType:"address",type:"address",indexed:!1},{name:"arbitrationPolicy",internalType:"address",type:"address",indexed:!1},{name:"nextArbitrationUpdateTimestamp",internalType:"uint256",type:"uint256",indexed:!1}],name:"ArbitrationPolicySet"},{type:"event",anonymous:!1,inputs:[{name:"arbitrationPolicy",internalType:"address",type:"address",indexed:!1},{name:"allowed",internalType:"bool",type:"bool",indexed:!1}],name:"ArbitrationPolicyWhitelistUpdated"},{type:"event",anonymous:!1,inputs:[{name:"arbitrationPolicy",internalType:"address",type:"address",indexed:!1},{name:"arbitrationRelayer",internalType:"address",type:"address",indexed:!1}],name:"ArbitrationRelayerUpdated"},{type:"event",anonymous:!1,inputs:[{name:"authority",internalType:"address",type:"address",indexed:!1}],name:"AuthorityUpdated"},{type:"event",anonymous:!1,inputs:[{name:"arbitrationPolicy",internalType:"address",type:"address",indexed:!1}],name:"DefaultArbitrationPolicyUpdated"},{type:"event",anonymous:!1,inputs:[{name:"disputeId",internalType:"uint256",type:"uint256",indexed:!1},{name:"data",internalType:"bytes",type:"bytes",indexed:!1}],name:"DisputeCancelled"},{type:"event",anonymous:!1,inputs:[{name:"disputeId",internalType:"uint256",type:"uint256",indexed:!1},{name:"decision",internalType:"bool",type:"bool",indexed:!1},{name:"data",internalType:"bytes",type:"bytes",indexed:!1}],name:"DisputeJudgementSet"},{type:"event",anonymous:!1,inputs:[{name:"disputeId",internalType:"uint256",type:"uint256",indexed:!1},{name:"targetIpId",internalType:"address",type:"address",indexed:!1},{name:"disputeInitiator",internalType:"address",type:"address",indexed:!1},{name:"disputeTimestamp",internalType:"uint256",type:"uint256",indexed:!1},{name:"arbitrationPolicy",internalType:"address",type:"address",indexed:!1},{name:"disputeEvidenceHash",internalType:"bytes32",type:"bytes32",indexed:!1},{name:"targetTag",internalType:"bytes32",type:"bytes32",indexed:!1},{name:"data",internalType:"bytes",type:"bytes",indexed:!1}],name:"DisputeRaised"},{type:"event",anonymous:!1,inputs:[{name:"disputeId",internalType:"uint256",type:"uint256",indexed:!1},{name:"data",internalType:"bytes",type:"bytes",indexed:!1}],name:"DisputeResolved"},{type:"event",anonymous:!1,inputs:[{name:"version",internalType:"uint64",type:"uint64",indexed:!1}],name:"Initialized"},{type:"event",anonymous:!1,inputs:[{name:"disputeId",internalType:"uint256",type:"uint256",indexed:!1},{name:"infringingIpId",internalType:"address",type:"address",indexed:!1},{name:"ipIdToTag",internalType:"address",type:"address",indexed:!1},{name:"infringerDisputeId",internalType:"uint256",type:"uint256",indexed:!1},{name:"tag",internalType:"bytes32",type:"bytes32",indexed:!1},{name:"disputeTimestamp",internalType:"uint256",type:"uint256",indexed:!1}],name:"IpTaggedOnRelatedIpInfringement"},{type:"event",anonymous:!1,inputs:[{name:"account",internalType:"address",type:"address",indexed:!1}],name:"Paused"},{type:"event",anonymous:!1,inputs:[{name:"tag",internalType:"bytes32",type:"bytes32",indexed:!1},{name:"allowed",internalType:"bool",type:"bool",indexed:!1}],name:"TagWhitelistUpdated"},{type:"event",anonymous:!1,inputs:[{name:"account",internalType:"address",type:"address",indexed:!1}],name:"Unpaused"},{type:"event",anonymous:!1,inputs:[{name:"implementation",internalType:"address",type:"address",indexed:!0}],name:"Upgraded"},{type:"function",inputs:[],name:"ACCESS_CONTROLLER",outputs:[{name:"",internalType:"contract IAccessController",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"GROUP_IP_ASSET_REGISTRY",outputs:[{name:"",internalType:"contract IGroupIPAssetRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"IN_DISPUTE",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[],name:"IP_ASSET_REGISTRY",outputs:[{name:"",internalType:"contract IIPAssetRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"IP_GRAPH_ACL",outputs:[{name:"",internalType:"contract IPGraphACL",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"LICENSE_REGISTRY",outputs:[{name:"",internalType:"contract ILicenseRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"UPGRADE_INTERFACE_VERSION",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[{name:"accessManager",internalType:"address",type:"address"}],name:"__ProtocolPausable_init",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"}],name:"arbitrationPolicies",outputs:[{name:"policy",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"arbitrationPolicyCooldown",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"arbitrationPolicy",internalType:"address",type:"address"}],name:"arbitrationRelayer",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"authority",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"baseArbitrationPolicy",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"disputeId",internalType:"uint256",type:"uint256"},{name:"data",internalType:"bytes",type:"bytes"}],name:"cancelDispute",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"disputeCounter",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"disputeId",internalType:"uint256",type:"uint256"}],name:"disputes",outputs:[{name:"targetIpId",internalType:"address",type:"address"},{name:"disputeInitiator",internalType:"address",type:"address"},{name:"disputeTimestamp",internalType:"uint256",type:"uint256"},{name:"arbitrationPolicy",internalType:"address",type:"address"},{name:"disputeEvidenceHash",internalType:"bytes32",type:"bytes32"},{name:"targetTag",internalType:"bytes32",type:"bytes32"},{name:"currentTag",internalType:"bytes32",type:"bytes32"},{name:"infringerDisputeId",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"accessManager",internalType:"address",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"isConsumingScheduledOp",outputs:[{name:"",internalType:"bytes4",type:"bytes4"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"}],name:"isIpTagged",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"arbitrationPolicy",internalType:"address",type:"address"}],name:"isWhitelistedArbitrationPolicy",outputs:[{name:"allowed",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"tag",internalType:"bytes32",type:"bytes32"}],name:"isWhitelistedDisputeTag",outputs:[{name:"allowed",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"data",internalType:"bytes[]",type:"bytes[]"}],name:"multicall",outputs:[{name:"results",internalType:"bytes[]",type:"bytes[]"}],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"name",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"}],name:"nextArbitrationPolicies",outputs:[{name:"policy",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"}],name:"nextArbitrationUpdateTimestamps",outputs:[{name:"timestamp",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"paused",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[],name:"proxiableUUID",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"targetIpId",internalType:"address",type:"address"},{name:"disputeEvidenceHash",internalType:"bytes32",type:"bytes32"},{name:"targetTag",internalType:"bytes32",type:"bytes32"},{name:"data",internalType:"bytes",type:"bytes"}],name:"raiseDispute",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"disputeId",internalType:"uint256",type:"uint256"},{name:"data",internalType:"bytes",type:"bytes"}],name:"resolveDispute",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"nextArbitrationPolicy",internalType:"address",type:"address"}],name:"setArbitrationPolicy",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"cooldown",internalType:"uint256",type:"uint256"}],name:"setArbitrationPolicyCooldown",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"arbitrationPolicy",internalType:"address",type:"address"},{name:"arbPolicyRelayer",internalType:"address",type:"address"}],name:"setArbitrationRelayer",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newAuthority",internalType:"address",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"arbitrationPolicy",internalType:"address",type:"address"}],name:"setBaseArbitrationPolicy",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"disputeId",internalType:"uint256",type:"uint256"},{name:"decision",internalType:"bool",type:"bool"},{name:"data",internalType:"bytes",type:"bytes"}],name:"setDisputeJudgement",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"interfaceId",internalType:"bytes4",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipIdToTag",internalType:"address",type:"address"},{name:"infringerDisputeId",internalType:"uint256",type:"uint256"}],name:"tagIfRelatedIpInfringed",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"}],name:"updateActiveArbitrationPolicy",outputs:[{name:"arbitrationPolicy",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newImplementation",internalType:"address",type:"address"},{name:"data",internalType:"bytes",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable"},{type:"function",inputs:[{name:"arbitrationPolicy",internalType:"address",type:"address"},{name:"allowed",internalType:"bool",type:"bool"}],name:"whitelistArbitrationPolicy",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"tag",internalType:"bytes32",type:"bytes32"},{name:"allowed",internalType:"bool",type:"bool"}],name:"whitelistDisputeTag",outputs:[],stateMutability:"nonpayable"}],IRe={1315:"0x9b7A9c70AFF961C799110954fc06F3093aeb94C5",1514:"0x9b7A9c70AFF961C799110954fc06F3093aeb94C5"},Jo=[{type:"constructor",inputs:[],stateMutability:"nonpayable"},{type:"error",inputs:[{name:"spender",internalType:"address",type:"address"},{name:"allowance",internalType:"uint256",type:"uint256"},{name:"needed",internalType:"uint256",type:"uint256"}],name:"ERC20InsufficientAllowance"},{type:"error",inputs:[{name:"sender",internalType:"address",type:"address"},{name:"balance",internalType:"uint256",type:"uint256"},{name:"needed",internalType:"uint256",type:"uint256"}],name:"ERC20InsufficientBalance"},{type:"error",inputs:[{name:"approver",internalType:"address",type:"address"}],name:"ERC20InvalidApprover"},{type:"error",inputs:[{name:"receiver",internalType:"address",type:"address"}],name:"ERC20InvalidReceiver"},{type:"error",inputs:[{name:"sender",internalType:"address",type:"address"}],name:"ERC20InvalidSender"},{type:"error",inputs:[{name:"spender",internalType:"address",type:"address"}],name:"ERC20InvalidSpender"},{type:"event",anonymous:!1,inputs:[{name:"owner",internalType:"address",type:"address",indexed:!0},{name:"spender",internalType:"address",type:"address",indexed:!0},{name:"value",internalType:"uint256",type:"uint256",indexed:!1}],name:"Approval"},{type:"event",anonymous:!1,inputs:[{name:"from",internalType:"address",type:"address",indexed:!0},{name:"to",internalType:"address",type:"address",indexed:!0},{name:"value",internalType:"uint256",type:"uint256",indexed:!1}],name:"Transfer"},{type:"function",inputs:[{name:"owner",internalType:"address",type:"address"},{name:"spender",internalType:"address",type:"address"}],name:"allowance",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"spender",internalType:"address",type:"address"},{name:"value",internalType:"uint256",type:"uint256"}],name:"approve",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"account",internalType:"address",type:"address"}],name:"balanceOf",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"from",internalType:"address",type:"address"},{name:"amount",internalType:"uint256",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"decimals",outputs:[{name:"",internalType:"uint8",type:"uint8"}],stateMutability:"view"},{type:"function",inputs:[{name:"to",internalType:"address",type:"address"},{name:"amount",internalType:"uint256",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"name",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[],name:"symbol",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[],name:"totalSupply",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"to",internalType:"address",type:"address"},{name:"value",internalType:"uint256",type:"uint256"}],name:"transfer",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"from",internalType:"address",type:"address"},{name:"to",internalType:"address",type:"address"},{name:"value",internalType:"uint256",type:"uint256"}],name:"transferFrom",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"nonpayable"}],kRe={1315:"0xF2104833d386a2734a4eB3B8ad6FC6812F29E38E",1514:"0xF2104833d386a2734a4eB3B8ad6FC6812F29E38E"},Lr=[{type:"constructor",inputs:[{name:"accessController",internalType:"address",type:"address"},{name:"ipAssetRegistry",internalType:"address",type:"address"},{name:"licenseRegistry",internalType:"address",type:"address"},{name:"licenseToken",internalType:"address",type:"address"},{name:"groupNFT",internalType:"address",type:"address"},{name:"royaltyModule",internalType:"address",type:"address"},{name:"disputeModule",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"error",inputs:[{name:"ipAccount",internalType:"address",type:"address"}],name:"AccessControlled__NotIpAccount"},{type:"error",inputs:[],name:"AccessControlled__ZeroAddress"},{type:"error",inputs:[{name:"authority",internalType:"address",type:"address"}],name:"AccessManagedInvalidAuthority"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"delay",internalType:"uint32",type:"uint32"}],name:"AccessManagedRequiredDelay"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"}],name:"AccessManagedUnauthorized"},{type:"error",inputs:[{name:"target",internalType:"address",type:"address"}],name:"AddressEmptyCode"},{type:"error",inputs:[{name:"implementation",internalType:"address",type:"address"}],name:"ERC1967InvalidImplementation"},{type:"error",inputs:[],name:"ERC1967NonPayable"},{type:"error",inputs:[],name:"EnforcedPause"},{type:"error",inputs:[],name:"ExpectedPause"},{type:"error",inputs:[],name:"FailedCall"},{type:"error",inputs:[{name:"ipId",internalType:"address",type:"address"}],name:"GroupingModule__CannotAddDisputedIpToGroup"},{type:"error",inputs:[{name:"groupId",internalType:"address",type:"address"},{name:"childGroupId",internalType:"address",type:"address"}],name:"GroupingModule__CannotAddGroupToGroup"},{type:"error",inputs:[{name:"groupId",internalType:"address",type:"address"}],name:"GroupingModule__DisputedGroupCannotAddIp"},{type:"error",inputs:[{name:"groupId",internalType:"address",type:"address"}],name:"GroupingModule__DisputedGroupCannotClaimReward"},{type:"error",inputs:[{name:"groupId",internalType:"address",type:"address"}],name:"GroupingModule__DisputedGroupCannotCollectRoyalties"},{type:"error",inputs:[{name:"groupId",internalType:"address",type:"address"}],name:"GroupingModule__GroupFrozenDueToAlreadyMintLicenseTokens"},{type:"error",inputs:[{name:"groupId",internalType:"address",type:"address"}],name:"GroupingModule__GroupFrozenDueToHasDerivativeIps"},{type:"error",inputs:[{name:"groupId",internalType:"address",type:"address"}],name:"GroupingModule__GroupIPHasNoLicenseTerms"},{type:"error",inputs:[{name:"groupId",internalType:"address",type:"address"}],name:"GroupingModule__GroupIPLicenseHasNotSpecifyRevenueToken"},{type:"error",inputs:[{name:"groupId",internalType:"address",type:"address"},{name:"groupRewardPool",internalType:"address",type:"address"}],name:"GroupingModule__GroupRewardPoolNotWhitelisted"},{type:"error",inputs:[{name:"groupNFT",internalType:"address",type:"address"}],name:"GroupingModule__InvalidGroupNFT"},{type:"error",inputs:[{name:"groupId",internalType:"address",type:"address"},{name:"ipId",internalType:"address",type:"address"},{name:"maxAllowedRewardShare",internalType:"uint256",type:"uint256"},{name:"expectGroupRewardShare",internalType:"uint256",type:"uint256"}],name:"GroupingModule__IpExpectedShareExceedsMaxAllowedShare"},{type:"error",inputs:[{name:"groupId",internalType:"address",type:"address"},{name:"maxAllowedRewardShare",internalType:"uint256",type:"uint256"}],name:"GroupingModule__MaxAllowedRewardShareExceeds100Percent"},{type:"error",inputs:[{name:"groupId",internalType:"address",type:"address"},{name:"royaltyToken",internalType:"address",type:"address"}],name:"GroupingModule__RoyaltyTokenNotWhitelisted"},{type:"error",inputs:[{name:"groupId",internalType:"address",type:"address"},{name:"groupCurrentToken",internalType:"address",type:"address"},{name:"token",internalType:"address",type:"address"}],name:"GroupingModule__TokenNotMatchGroupRevenueToken"},{type:"error",inputs:[{name:"groupId",internalType:"address",type:"address"},{name:"totalGroupRewardShare",internalType:"uint256",type:"uint256"},{name:"ipId",internalType:"address",type:"address"},{name:"expectGroupRewardShare",internalType:"uint256",type:"uint256"}],name:"GroupingModule__TotalGroupRewardShareExceeds100Percent"},{type:"error",inputs:[],name:"GroupingModule__ZeroAccessManager"},{type:"error",inputs:[],name:"GroupingModule__ZeroGroupNFT"},{type:"error",inputs:[],name:"GroupingModule__ZeroGroupRewardPool"},{type:"error",inputs:[],name:"GroupingModule__ZeroIpAssetRegistry"},{type:"error",inputs:[],name:"GroupingModule__ZeroLicenseRegistry"},{type:"error",inputs:[],name:"GroupingModule__ZeroLicenseToken"},{type:"error",inputs:[],name:"GroupingModule__ZeroRoyaltyModule"},{type:"error",inputs:[],name:"InvalidInitialization"},{type:"error",inputs:[],name:"NotInitializing"},{type:"error",inputs:[],name:"ReentrancyGuardReentrantCall"},{type:"error",inputs:[],name:"UUPSUnauthorizedCallContext"},{type:"error",inputs:[{name:"slot",internalType:"bytes32",type:"bytes32"}],name:"UUPSUnsupportedProxiableUUID"},{type:"event",anonymous:!1,inputs:[{name:"groupId",internalType:"address",type:"address",indexed:!0},{name:"ipIds",internalType:"address[]",type:"address[]",indexed:!1}],name:"AddedIpToGroup"},{type:"event",anonymous:!1,inputs:[{name:"authority",internalType:"address",type:"address",indexed:!1}],name:"AuthorityUpdated"},{type:"event",anonymous:!1,inputs:[{name:"groupId",internalType:"address",type:"address",indexed:!0},{name:"token",internalType:"address",type:"address",indexed:!0},{name:"ipId",internalType:"address[]",type:"address[]",indexed:!1},{name:"amount",internalType:"uint256[]",type:"uint256[]",indexed:!1}],name:"ClaimedReward"},{type:"event",anonymous:!1,inputs:[{name:"groupId",internalType:"address",type:"address",indexed:!0},{name:"token",internalType:"address",type:"address",indexed:!0},{name:"pool",internalType:"address",type:"address",indexed:!0},{name:"amount",internalType:"uint256",type:"uint256",indexed:!1}],name:"CollectedRoyaltiesToGroupPool"},{type:"event",anonymous:!1,inputs:[{name:"groupId",internalType:"address",type:"address",indexed:!0},{name:"groupPool",internalType:"address",type:"address",indexed:!0}],name:"IPGroupRegistered"},{type:"event",anonymous:!1,inputs:[{name:"version",internalType:"uint64",type:"uint64",indexed:!1}],name:"Initialized"},{type:"event",anonymous:!1,inputs:[{name:"account",internalType:"address",type:"address",indexed:!1}],name:"Paused"},{type:"event",anonymous:!1,inputs:[{name:"groupId",internalType:"address",type:"address",indexed:!0},{name:"ipIds",internalType:"address[]",type:"address[]",indexed:!1}],name:"RemovedIpFromGroup"},{type:"event",anonymous:!1,inputs:[{name:"account",internalType:"address",type:"address",indexed:!1}],name:"Unpaused"},{type:"event",anonymous:!1,inputs:[{name:"implementation",internalType:"address",type:"address",indexed:!0}],name:"Upgraded"},{type:"function",inputs:[],name:"ACCESS_CONTROLLER",outputs:[{name:"",internalType:"contract IAccessController",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"DISPUTE_MODULE",outputs:[{name:"",internalType:"contract IDisputeModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"GROUP_IP_ASSET_REGISTRY",outputs:[{name:"",internalType:"contract IGroupIPAssetRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"GROUP_NFT",outputs:[{name:"",internalType:"contract IGroupNFT",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"IP_ASSET_REGISTRY",outputs:[{name:"",internalType:"contract IIPAssetRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"LICENSE_REGISTRY",outputs:[{name:"",internalType:"contract ILicenseRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"LICENSE_TOKEN",outputs:[{name:"",internalType:"contract ILicenseToken",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"ROYALTY_MODULE",outputs:[{name:"",internalType:"contract IRoyaltyModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"UPGRADE_INTERFACE_VERSION",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[{name:"accessManager",internalType:"address",type:"address"}],name:"__ProtocolPausable_init",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"groupIpId",internalType:"address",type:"address"},{name:"ipIds",internalType:"address[]",type:"address[]"},{name:"maxAllowedRewardShare",internalType:"uint256",type:"uint256"}],name:"addIp",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"authority",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"groupId",internalType:"address",type:"address"},{name:"token",internalType:"address",type:"address"},{name:"ipIds",internalType:"address[]",type:"address[]"}],name:"claimReward",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"groupId",internalType:"address",type:"address"},{name:"token",internalType:"address",type:"address"}],name:"collectRoyalties",outputs:[{name:"royalties",internalType:"uint256",type:"uint256"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"groupId",internalType:"address",type:"address"},{name:"token",internalType:"address",type:"address"},{name:"ipIds",internalType:"address[]",type:"address[]"}],name:"getClaimableReward",outputs:[{name:"",internalType:"uint256[]",type:"uint256[]"}],stateMutability:"view"},{type:"function",inputs:[{name:"accessManager",internalType:"address",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"isConsumingScheduledOp",outputs:[{name:"",internalType:"bytes4",type:"bytes4"}],stateMutability:"view"},{type:"function",inputs:[],name:"name",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"pure"},{type:"function",inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"paused",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[],name:"proxiableUUID",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"groupPool",internalType:"address",type:"address"}],name:"registerGroup",outputs:[{name:"groupId",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"groupIpId",internalType:"address",type:"address"},{name:"ipIds",internalType:"address[]",type:"address[]"}],name:"removeIp",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newAuthority",internalType:"address",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"interfaceId",internalType:"bytes4",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newImplementation",internalType:"address",type:"address"},{name:"data",internalType:"bytes",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable"},{type:"function",inputs:[{name:"rewardPool",internalType:"address",type:"address"},{name:"allowed",internalType:"bool",type:"bool"}],name:"whitelistGroupRewardPool",outputs:[],stateMutability:"nonpayable"}],CRe={1315:"0x69D3a7aa9edb72Bc226E745A7cCdd50D947b69Ac",1514:"0x69D3a7aa9edb72Bc226E745A7cCdd50D947b69Ac"},Ko=[{type:"constructor",inputs:[{name:"accessController",internalType:"address",type:"address"},{name:"coreMetadataModule",internalType:"address",type:"address"},{name:"groupingModule",internalType:"address",type:"address"},{name:"groupNft",internalType:"address",type:"address"},{name:"ipAssetRegistry",internalType:"address",type:"address"},{name:"licenseRegistry",internalType:"address",type:"address"},{name:"licensingModule",internalType:"address",type:"address"},{name:"pilTemplate",internalType:"address",type:"address"},{name:"royaltyModule",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"error",inputs:[{name:"authority",internalType:"address",type:"address"}],name:"AccessManagedInvalidAuthority"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"delay",internalType:"uint32",type:"uint32"}],name:"AccessManagedRequiredDelay"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"}],name:"AccessManagedUnauthorized"},{type:"error",inputs:[{name:"target",internalType:"address",type:"address"}],name:"AddressEmptyCode"},{type:"error",inputs:[{name:"implementation",internalType:"address",type:"address"}],name:"ERC1967InvalidImplementation"},{type:"error",inputs:[],name:"ERC1967NonPayable"},{type:"error",inputs:[],name:"FailedCall"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"signer",internalType:"address",type:"address"}],name:"GroupingWorkflows__CallerNotSigner"},{type:"error",inputs:[],name:"GroupingWorkflows__NoLicenseData"},{type:"error",inputs:[],name:"GroupingWorkflows__ZeroAddressParam"},{type:"error",inputs:[],name:"InvalidInitialization"},{type:"error",inputs:[],name:"NotInitializing"},{type:"error",inputs:[],name:"PermissionHelper__ModulesAndSelectorsMismatch"},{type:"error",inputs:[],name:"UUPSUnauthorizedCallContext"},{type:"error",inputs:[{name:"slot",internalType:"bytes32",type:"bytes32"}],name:"UUPSUnsupportedProxiableUUID"},{type:"error",inputs:[],name:"Workflow__CallerNotAuthorizedToMint"},{type:"event",anonymous:!1,inputs:[{name:"authority",internalType:"address",type:"address",indexed:!1}],name:"AuthorityUpdated"},{type:"event",anonymous:!1,inputs:[{name:"version",internalType:"uint64",type:"uint64",indexed:!1}],name:"Initialized"},{type:"event",anonymous:!1,inputs:[{name:"implementation",internalType:"address",type:"address",indexed:!0}],name:"Upgraded"},{type:"function",inputs:[],name:"ACCESS_CONTROLLER",outputs:[{name:"",internalType:"contract IAccessController",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"CORE_METADATA_MODULE",outputs:[{name:"",internalType:"contract ICoreMetadataModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"GROUPING_MODULE",outputs:[{name:"",internalType:"contract IGroupingModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"GROUP_NFT",outputs:[{name:"",internalType:"contract GroupNFT",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"IP_ASSET_REGISTRY",outputs:[{name:"",internalType:"contract IIPAssetRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"LICENSE_REGISTRY",outputs:[{name:"",internalType:"contract ILicenseRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"LICENSING_MODULE",outputs:[{name:"",internalType:"contract ILicensingModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"PIL_TEMPLATE",outputs:[{name:"",internalType:"contract IPILicenseTemplate",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"ROYALTY_MODULE",outputs:[{name:"",internalType:"contract RoyaltyModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"UPGRADE_INTERFACE_VERSION",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[],name:"authority",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"groupIpId",internalType:"address",type:"address"},{name:"currencyTokens",internalType:"address[]",type:"address[]"},{name:"memberIpIds",internalType:"address[]",type:"address[]"}],name:"collectRoyaltiesAndClaimReward",outputs:[{name:"collectedRoyalties",internalType:"uint256[]",type:"uint256[]"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"accessManager",internalType:"address",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"isConsumingScheduledOp",outputs:[{name:"",internalType:"bytes4",type:"bytes4"}],stateMutability:"view"},{type:"function",inputs:[{name:"spgNftContract",internalType:"address",type:"address"},{name:"groupId",internalType:"address",type:"address"},{name:"recipient",internalType:"address",type:"address"},{name:"maxAllowedRewardShare",internalType:"uint256",type:"uint256"},{name:"licensesData",internalType:"struct WorkflowStructs.LicenseData[]",type:"tuple[]",components:[{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"},{name:"licensingConfig",internalType:"struct Licensing.LicensingConfig",type:"tuple",components:[{name:"isSet",internalType:"bool",type:"bool"},{name:"mintingFee",internalType:"uint256",type:"uint256"},{name:"licensingHook",internalType:"address",type:"address"},{name:"hookData",internalType:"bytes",type:"bytes"},{name:"commercialRevShare",internalType:"uint32",type:"uint32"},{name:"disabled",internalType:"bool",type:"bool"},{name:"expectMinimumGroupRewardShare",internalType:"uint32",type:"uint32"},{name:"expectGroupRewardPool",internalType:"address",type:"address"}]}]},{name:"ipMetadata",internalType:"struct WorkflowStructs.IPMetadata",type:"tuple",components:[{name:"ipMetadataURI",internalType:"string",type:"string"},{name:"ipMetadataHash",internalType:"bytes32",type:"bytes32"},{name:"nftMetadataURI",internalType:"string",type:"string"},{name:"nftMetadataHash",internalType:"bytes32",type:"bytes32"}]},{name:"sigAddToGroup",internalType:"struct WorkflowStructs.SignatureData",type:"tuple",components:[{name:"signer",internalType:"address",type:"address"},{name:"deadline",internalType:"uint256",type:"uint256"},{name:"signature",internalType:"bytes",type:"bytes"}]},{name:"allowDuplicates",internalType:"bool",type:"bool"}],name:"mintAndRegisterIpAndAttachLicenseAndAddToGroup",outputs:[{name:"ipId",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"data",internalType:"bytes[]",type:"bytes[]"}],name:"multicall",outputs:[{name:"results",internalType:"bytes[]",type:"bytes[]"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"",internalType:"address",type:"address"},{name:"",internalType:"address",type:"address"},{name:"",internalType:"uint256",type:"uint256"},{name:"",internalType:"bytes",type:"bytes"}],name:"onERC721Received",outputs:[{name:"",internalType:"bytes4",type:"bytes4"}],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"proxiableUUID",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"groupPool",internalType:"address",type:"address"},{name:"licenseData",internalType:"struct WorkflowStructs.LicenseData",type:"tuple",components:[{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"},{name:"licensingConfig",internalType:"struct Licensing.LicensingConfig",type:"tuple",components:[{name:"isSet",internalType:"bool",type:"bool"},{name:"mintingFee",internalType:"uint256",type:"uint256"},{name:"licensingHook",internalType:"address",type:"address"},{name:"hookData",internalType:"bytes",type:"bytes"},{name:"commercialRevShare",internalType:"uint32",type:"uint32"},{name:"disabled",internalType:"bool",type:"bool"},{name:"expectMinimumGroupRewardShare",internalType:"uint32",type:"uint32"},{name:"expectGroupRewardPool",internalType:"address",type:"address"}]}]}],name:"registerGroupAndAttachLicense",outputs:[{name:"groupId",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"groupPool",internalType:"address",type:"address"},{name:"ipIds",internalType:"address[]",type:"address[]"},{name:"maxAllowedRewardShare",internalType:"uint256",type:"uint256"},{name:"licenseData",internalType:"struct WorkflowStructs.LicenseData",type:"tuple",components:[{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"},{name:"licensingConfig",internalType:"struct Licensing.LicensingConfig",type:"tuple",components:[{name:"isSet",internalType:"bool",type:"bool"},{name:"mintingFee",internalType:"uint256",type:"uint256"},{name:"licensingHook",internalType:"address",type:"address"},{name:"hookData",internalType:"bytes",type:"bytes"},{name:"commercialRevShare",internalType:"uint32",type:"uint32"},{name:"disabled",internalType:"bool",type:"bool"},{name:"expectMinimumGroupRewardShare",internalType:"uint32",type:"uint32"},{name:"expectGroupRewardPool",internalType:"address",type:"address"}]}]}],name:"registerGroupAndAttachLicenseAndAddIps",outputs:[{name:"groupId",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"nftContract",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"},{name:"groupId",internalType:"address",type:"address"},{name:"maxAllowedRewardShare",internalType:"uint256",type:"uint256"},{name:"licensesData",internalType:"struct WorkflowStructs.LicenseData[]",type:"tuple[]",components:[{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"},{name:"licensingConfig",internalType:"struct Licensing.LicensingConfig",type:"tuple",components:[{name:"isSet",internalType:"bool",type:"bool"},{name:"mintingFee",internalType:"uint256",type:"uint256"},{name:"licensingHook",internalType:"address",type:"address"},{name:"hookData",internalType:"bytes",type:"bytes"},{name:"commercialRevShare",internalType:"uint32",type:"uint32"},{name:"disabled",internalType:"bool",type:"bool"},{name:"expectMinimumGroupRewardShare",internalType:"uint32",type:"uint32"},{name:"expectGroupRewardPool",internalType:"address",type:"address"}]}]},{name:"ipMetadata",internalType:"struct WorkflowStructs.IPMetadata",type:"tuple",components:[{name:"ipMetadataURI",internalType:"string",type:"string"},{name:"ipMetadataHash",internalType:"bytes32",type:"bytes32"},{name:"nftMetadataURI",internalType:"string",type:"string"},{name:"nftMetadataHash",internalType:"bytes32",type:"bytes32"}]},{name:"sigMetadataAndAttachAndConfig",internalType:"struct WorkflowStructs.SignatureData",type:"tuple",components:[{name:"signer",internalType:"address",type:"address"},{name:"deadline",internalType:"uint256",type:"uint256"},{name:"signature",internalType:"bytes",type:"bytes"}]},{name:"sigAddToGroup",internalType:"struct WorkflowStructs.SignatureData",type:"tuple",components:[{name:"signer",internalType:"address",type:"address"},{name:"deadline",internalType:"uint256",type:"uint256"},{name:"signature",internalType:"bytes",type:"bytes"}]}],name:"registerIpAndAttachLicenseAndAddToGroup",outputs:[{name:"ipId",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newAuthority",internalType:"address",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newImplementation",internalType:"address",type:"address"},{name:"data",internalType:"bytes",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable"}],NRe={1315:"0xD7c0beb3aa4DCD4723465f1ecAd045676c24CDCd",1514:"0xD7c0beb3aa4DCD4723465f1ecAd045676c24CDCd"},Bi=[{type:"constructor",inputs:[{name:"accessController",internalType:"address",type:"address"},{name:"ipAssetRegistry",internalType:"address",type:"address"},{name:"licenseRegistry",internalType:"address",type:"address"},{name:"moduleRegistry",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"error",inputs:[],name:"FnSelectorNotRecognized"},{type:"error",inputs:[],name:"IPAccountStorage__InvalidBatchLengths"},{type:"error",inputs:[{name:"module",internalType:"address",type:"address"}],name:"IPAccountStorage__NotRegisteredModule"},{type:"error",inputs:[],name:"IPAccountStorage__ZeroIpAssetRegistry"},{type:"error",inputs:[],name:"IPAccountStorage__ZeroLicenseRegistry"},{type:"error",inputs:[],name:"IPAccountStorage__ZeroModuleRegistry"},{type:"error",inputs:[],name:"IPAccount__ExpiredSignature"},{type:"error",inputs:[],name:"IPAccount__InvalidCalldata"},{type:"error",inputs:[],name:"IPAccount__InvalidOperation"},{type:"error",inputs:[],name:"IPAccount__InvalidSignature"},{type:"error",inputs:[],name:"IPAccount__InvalidSigner"},{type:"error",inputs:[],name:"IPAccount__UUPSUpgradeDisabled"},{type:"error",inputs:[],name:"IPAccount__ZeroAccessController"},{type:"error",inputs:[],name:"OperationNotSupported"},{type:"error",inputs:[],name:"SelfOwnDetected"},{type:"error",inputs:[],name:"Unauthorized"},{type:"error",inputs:[],name:"UnauthorizedCallContext"},{type:"error",inputs:[],name:"UpgradeFailed"},{type:"event",anonymous:!1,inputs:[{name:"to",internalType:"address",type:"address",indexed:!0},{name:"value",internalType:"uint256",type:"uint256",indexed:!1},{name:"data",internalType:"bytes",type:"bytes",indexed:!1},{name:"nonce",internalType:"bytes32",type:"bytes32",indexed:!1}],name:"Executed"},{type:"event",anonymous:!1,inputs:[{name:"to",internalType:"address",type:"address",indexed:!0},{name:"value",internalType:"uint256",type:"uint256",indexed:!1},{name:"data",internalType:"bytes",type:"bytes",indexed:!1},{name:"nonce",internalType:"bytes32",type:"bytes32",indexed:!1},{name:"deadline",internalType:"uint256",type:"uint256",indexed:!1},{name:"signer",internalType:"address",type:"address",indexed:!0},{name:"signature",internalType:"bytes",type:"bytes",indexed:!1}],name:"ExecutedWithSig"},{type:"event",anonymous:!1,inputs:[{name:"implementation",internalType:"address",type:"address",indexed:!0}],name:"Upgraded"},{type:"fallback",stateMutability:"payable"},{type:"function",inputs:[],name:"ACCESS_CONTROLLER",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"IP_ASSET_REGISTRY",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"LICENSE_REGISTRY",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"MODULE_REGISTRY",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"",internalType:"bytes32",type:"bytes32"},{name:"",internalType:"bytes32",type:"bytes32"}],name:"bytes32Data",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"",internalType:"bytes32",type:"bytes32"},{name:"",internalType:"bytes32",type:"bytes32"}],name:"bytesData",outputs:[{name:"",internalType:"bytes",type:"bytes"}],stateMutability:"view"},{type:"function",inputs:[],name:"eip712Domain",outputs:[{name:"fields",internalType:"bytes1",type:"bytes1"},{name:"name",internalType:"string",type:"string"},{name:"version",internalType:"string",type:"string"},{name:"chainId",internalType:"uint256",type:"uint256"},{name:"verifyingContract",internalType:"address",type:"address"},{name:"salt",internalType:"bytes32",type:"bytes32"},{name:"extensions",internalType:"uint256[]",type:"uint256[]"}],stateMutability:"view"},{type:"function",inputs:[{name:"to",internalType:"address",type:"address"},{name:"value",internalType:"uint256",type:"uint256"},{name:"data",internalType:"bytes",type:"bytes"},{name:"operation",internalType:"uint8",type:"uint8"}],name:"execute",outputs:[{name:"result",internalType:"bytes",type:"bytes"}],stateMutability:"payable"},{type:"function",inputs:[{name:"to",internalType:"address",type:"address"},{name:"value",internalType:"uint256",type:"uint256"},{name:"data",internalType:"bytes",type:"bytes"}],name:"execute",outputs:[{name:"result",internalType:"bytes",type:"bytes"}],stateMutability:"payable"},{type:"function",inputs:[{name:"calls",internalType:"struct ERC6551.Call[]",type:"tuple[]",components:[{name:"target",internalType:"address",type:"address"},{name:"value",internalType:"uint256",type:"uint256"},{name:"data",internalType:"bytes",type:"bytes"}]},{name:"operation",internalType:"uint8",type:"uint8"}],name:"executeBatch",outputs:[{name:"results",internalType:"bytes[]",type:"bytes[]"}],stateMutability:"payable"},{type:"function",inputs:[{name:"to",internalType:"address",type:"address"},{name:"value",internalType:"uint256",type:"uint256"},{name:"data",internalType:"bytes",type:"bytes"},{name:"signer",internalType:"address",type:"address"},{name:"deadline",internalType:"uint256",type:"uint256"},{name:"signature",internalType:"bytes",type:"bytes"}],name:"executeWithSig",outputs:[{name:"result",internalType:"bytes",type:"bytes"}],stateMutability:"payable"},{type:"function",inputs:[{name:"key",internalType:"bytes32",type:"bytes32"}],name:"getBytes",outputs:[{name:"",internalType:"bytes",type:"bytes"}],stateMutability:"view"},{type:"function",inputs:[{name:"namespace",internalType:"bytes32",type:"bytes32"},{name:"key",internalType:"bytes32",type:"bytes32"}],name:"getBytes",outputs:[{name:"",internalType:"bytes",type:"bytes"}],stateMutability:"view"},{type:"function",inputs:[{name:"namespace",internalType:"bytes32",type:"bytes32"},{name:"key",internalType:"bytes32",type:"bytes32"}],name:"getBytes32",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"key",internalType:"bytes32",type:"bytes32"}],name:"getBytes32",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"namespaces",internalType:"bytes32[]",type:"bytes32[]"},{name:"keys",internalType:"bytes32[]",type:"bytes32[]"}],name:"getBytes32Batch",outputs:[{name:"values",internalType:"bytes32[]",type:"bytes32[]"}],stateMutability:"view"},{type:"function",inputs:[{name:"namespaces",internalType:"bytes32[]",type:"bytes32[]"},{name:"keys",internalType:"bytes32[]",type:"bytes32[]"}],name:"getBytesBatch",outputs:[{name:"values",internalType:"bytes[]",type:"bytes[]"}],stateMutability:"view"},{type:"function",inputs:[{name:"hash",internalType:"bytes32",type:"bytes32"},{name:"signature",internalType:"bytes",type:"bytes"}],name:"isValidSignature",outputs:[{name:"result",internalType:"bytes4",type:"bytes4"}],stateMutability:"view"},{type:"function",inputs:[{name:"signer",internalType:"address",type:"address"},{name:"data",internalType:"bytes",type:"bytes"}],name:"isValidSigner",outputs:[{name:"result",internalType:"bytes4",type:"bytes4"}],stateMutability:"view"},{type:"function",inputs:[{name:"signer",internalType:"address",type:"address"},{name:"to",internalType:"address",type:"address"},{name:"data",internalType:"bytes",type:"bytes"}],name:"isValidSigner",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[],name:"owner",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"proxiableUUID",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"key",internalType:"bytes32",type:"bytes32"},{name:"value",internalType:"bytes",type:"bytes"}],name:"setBytes",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"key",internalType:"bytes32",type:"bytes32"},{name:"value",internalType:"bytes32",type:"bytes32"}],name:"setBytes32",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"keys",internalType:"bytes32[]",type:"bytes32[]"},{name:"values",internalType:"bytes32[]",type:"bytes32[]"}],name:"setBytes32Batch",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"keys",internalType:"bytes32[]",type:"bytes32[]"},{name:"values",internalType:"bytes[]",type:"bytes[]"}],name:"setBytesBatch",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"state",outputs:[{name:"result",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"interfaceId",internalType:"bytes4",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[],name:"token",outputs:[{name:"",internalType:"uint256",type:"uint256"},{name:"",internalType:"address",type:"address"},{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"newImplementation",internalType:"address",type:"address"},{name:"data",internalType:"bytes",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable"},{type:"receive",stateMutability:"payable"}],ERe={1315:"0x7343646585443F1c3F64E4F08b708788527e1C77",1514:"0x7343646585443F1c3F64E4F08b708788527e1C77"},Bu=[{type:"constructor",inputs:[{name:"erc6551Registry",internalType:"address",type:"address"},{name:"ipAccountImpl",internalType:"address",type:"address"},{name:"groupingModule",internalType:"address",type:"address"},{name:"ipAccountImplBeacon",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"error",inputs:[{name:"authority",internalType:"address",type:"address"}],name:"AccessManagedInvalidAuthority"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"delay",internalType:"uint32",type:"uint32"}],name:"AccessManagedRequiredDelay"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"}],name:"AccessManagedUnauthorized"},{type:"error",inputs:[{name:"target",internalType:"address",type:"address"}],name:"AddressEmptyCode"},{type:"error",inputs:[{name:"implementation",internalType:"address",type:"address"}],name:"ERC1967InvalidImplementation"},{type:"error",inputs:[],name:"ERC1967NonPayable"},{type:"error",inputs:[],name:"EnforcedPause"},{type:"error",inputs:[],name:"ExpectedPause"},{type:"error",inputs:[],name:"FailedCall"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"}],name:"GroupIPAssetRegistry__CallerIsNotGroupingModule"},{type:"error",inputs:[{name:"groupPool",internalType:"address",type:"address"}],name:"GroupIPAssetRegistry__GroupRewardPoolNotRegistered"},{type:"error",inputs:[{name:"groupSize",internalType:"uint256",type:"uint256"},{name:"limit",internalType:"uint256",type:"uint256"}],name:"GroupIPAssetRegistry__GroupSizeExceedsLimit"},{type:"error",inputs:[{name:"rewardPool",internalType:"address",type:"address"}],name:"GroupIPAssetRegistry__InvalidGroupRewardPool"},{type:"error",inputs:[{name:"groupId",internalType:"address",type:"address"}],name:"GroupIPAssetRegistry__NotRegisteredGroupIP"},{type:"error",inputs:[{name:"ipId",internalType:"address",type:"address"}],name:"GroupIPAssetRegistry__NotRegisteredIP"},{type:"error",inputs:[{name:"pageSize",internalType:"uint256",type:"uint256"},{name:"limit",internalType:"uint256",type:"uint256"}],name:"GroupIPAssetRegistry__PageSizeExceedsLimit"},{type:"error",inputs:[],name:"IPAccountRegistry_ZeroERC6551Registry"},{type:"error",inputs:[],name:"IPAccountRegistry_ZeroIpAccountImpl"},{type:"error",inputs:[],name:"IPAccountRegistry_ZeroIpAccountImplBeacon"},{type:"error",inputs:[{name:"contractAddress",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"}],name:"IPAssetRegistry__InvalidToken"},{type:"error",inputs:[{name:"contractAddress",internalType:"address",type:"address"}],name:"IPAssetRegistry__UnsupportedIERC721"},{type:"error",inputs:[{name:"contractAddress",internalType:"address",type:"address"}],name:"IPAssetRegistry__UnsupportedIERC721Metadata"},{type:"error",inputs:[],name:"IPAssetRegistry__ZeroAccessManager"},{type:"error",inputs:[{name:"name",internalType:"string",type:"string"}],name:"IPAssetRegistry__ZeroAddress"},{type:"error",inputs:[],name:"InvalidInitialization"},{type:"error",inputs:[],name:"NotInitializing"},{type:"error",inputs:[{name:"token",internalType:"address",type:"address"}],name:"SafeERC20FailedOperation"},{type:"error",inputs:[{name:"value",internalType:"uint256",type:"uint256"},{name:"length",internalType:"uint256",type:"uint256"}],name:"StringsInsufficientHexLength"},{type:"error",inputs:[],name:"UUPSUnauthorizedCallContext"},{type:"error",inputs:[{name:"slot",internalType:"bytes32",type:"bytes32"}],name:"UUPSUnsupportedProxiableUUID"},{type:"event",anonymous:!1,inputs:[{name:"authority",internalType:"address",type:"address",indexed:!1}],name:"AuthorityUpdated"},{type:"event",anonymous:!1,inputs:[{name:"account",internalType:"address",type:"address",indexed:!0},{name:"implementation",internalType:"address",type:"address",indexed:!0},{name:"chainId",internalType:"uint256",type:"uint256",indexed:!0},{name:"tokenContract",internalType:"address",type:"address",indexed:!1},{name:"tokenId",internalType:"uint256",type:"uint256",indexed:!1}],name:"IPAccountRegistered"},{type:"event",anonymous:!1,inputs:[{name:"ipId",internalType:"address",type:"address",indexed:!1},{name:"chainId",internalType:"uint256",type:"uint256",indexed:!0},{name:"tokenContract",internalType:"address",type:"address",indexed:!0},{name:"tokenId",internalType:"uint256",type:"uint256",indexed:!0},{name:"name",internalType:"string",type:"string",indexed:!1},{name:"uri",internalType:"string",type:"string",indexed:!1},{name:"registrationDate",internalType:"uint256",type:"uint256",indexed:!1}],name:"IPRegistered"},{type:"event",anonymous:!1,inputs:[{name:"payer",internalType:"address",type:"address",indexed:!0},{name:"treasury",internalType:"address",type:"address",indexed:!0},{name:"feeToken",internalType:"address",type:"address",indexed:!0},{name:"amount",internalType:"uint96",type:"uint96",indexed:!1}],name:"IPRegistrationFeePaid"},{type:"event",anonymous:!1,inputs:[{name:"version",internalType:"uint64",type:"uint64",indexed:!1}],name:"Initialized"},{type:"event",anonymous:!1,inputs:[{name:"account",internalType:"address",type:"address",indexed:!1}],name:"Paused"},{type:"event",anonymous:!1,inputs:[{name:"treasury",internalType:"address",type:"address",indexed:!0},{name:"feeToken",internalType:"address",type:"address",indexed:!0},{name:"feeAmount",internalType:"uint96",type:"uint96",indexed:!1}],name:"RegistrationFeeSet"},{type:"event",anonymous:!1,inputs:[{name:"account",internalType:"address",type:"address",indexed:!1}],name:"Unpaused"},{type:"event",anonymous:!1,inputs:[{name:"implementation",internalType:"address",type:"address",indexed:!0}],name:"Upgraded"},{type:"function",inputs:[],name:"ERC6551_PUBLIC_REGISTRY",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"GROUPING_MODULE",outputs:[{name:"",internalType:"contract IGroupingModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"IP_ACCOUNT_IMPL",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"IP_ACCOUNT_IMPL_UPGRADEABLE_BEACON",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"IP_ACCOUNT_SALT",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[],name:"MAX_GROUP_SIZE",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[],name:"UPGRADE_INTERFACE_VERSION",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[{name:"accessManager",internalType:"address",type:"address"}],name:"__ProtocolPausable_init",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"groupId",internalType:"address",type:"address"},{name:"ipIds",internalType:"address[]",type:"address[]"}],name:"addGroupMember",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"authority",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"groupId",internalType:"address",type:"address"},{name:"ipId",internalType:"address",type:"address"}],name:"containsIp",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[],name:"getFeeAmount",outputs:[{name:"",internalType:"uint96",type:"uint96"}],stateMutability:"view"},{type:"function",inputs:[],name:"getFeeToken",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"groupId",internalType:"address",type:"address"},{name:"startIndex",internalType:"uint256",type:"uint256"},{name:"size",internalType:"uint256",type:"uint256"}],name:"getGroupMembers",outputs:[{name:"results",internalType:"address[]",type:"address[]"}],stateMutability:"view"},{type:"function",inputs:[{name:"groupId",internalType:"address",type:"address"}],name:"getGroupRewardPool",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"getIPAccountImpl",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"getTreasury",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"accessManager",internalType:"address",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"chainId",internalType:"uint256",type:"uint256"},{name:"tokenContract",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"}],name:"ipAccount",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"chainId",internalType:"uint256",type:"uint256"},{name:"tokenContract",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"}],name:"ipId",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"isConsumingScheduledOp",outputs:[{name:"",internalType:"bytes4",type:"bytes4"}],stateMutability:"view"},{type:"function",inputs:[{name:"id",internalType:"address",type:"address"}],name:"isRegistered",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"groupId",internalType:"address",type:"address"}],name:"isRegisteredGroup",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"rewardPool",internalType:"address",type:"address"}],name:"isWhitelistedGroupRewardPool",outputs:[{name:"isWhitelisted",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"paused",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[],name:"proxiableUUID",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"chainid",internalType:"uint256",type:"uint256"},{name:"tokenContract",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"}],name:"register",outputs:[{name:"id",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"groupNft",internalType:"address",type:"address"},{name:"groupNftId",internalType:"uint256",type:"uint256"},{name:"rewardPool",internalType:"address",type:"address"},{name:"registerFeePayer",internalType:"address",type:"address"}],name:"registerGroup",outputs:[{name:"groupId",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"groupId",internalType:"address",type:"address"},{name:"ipIds",internalType:"address[]",type:"address[]"}],name:"removeGroupMember",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newAuthority",internalType:"address",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"treasury",internalType:"address",type:"address"},{name:"feeToken",internalType:"address",type:"address"},{name:"feeAmount",internalType:"uint96",type:"uint96"}],name:"setRegistrationFee",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"groupId",internalType:"address",type:"address"}],name:"totalMembers",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[],name:"totalSupply",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newIpAccountImpl",internalType:"address",type:"address"}],name:"upgradeIPAccountImpl",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newImplementation",internalType:"address",type:"address"},{name:"data",internalType:"bytes",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable"},{type:"function",inputs:[{name:"rewardPool",internalType:"address",type:"address"},{name:"allowed",internalType:"bool",type:"bool"}],name:"whitelistGroupRewardPool",outputs:[],stateMutability:"nonpayable"}],SRe={1315:"0x77319B4031e6eF1250907aa00018B8B1c67a244b",1514:"0x77319B4031e6eF1250907aa00018B8B1c67a244b"},Uh=[{type:"constructor",inputs:[{name:"disputeModule",internalType:"address",type:"address"},{name:"royaltyModule",internalType:"address",type:"address"},{name:"ipAssetRegistry",internalType:"address",type:"address"},{name:"groupingModule",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"error",inputs:[{name:"spender",internalType:"address",type:"address"},{name:"allowance",internalType:"uint256",type:"uint256"},{name:"needed",internalType:"uint256",type:"uint256"}],name:"ERC20InsufficientAllowance"},{type:"error",inputs:[{name:"sender",internalType:"address",type:"address"},{name:"balance",internalType:"uint256",type:"uint256"},{name:"needed",internalType:"uint256",type:"uint256"}],name:"ERC20InsufficientBalance"},{type:"error",inputs:[{name:"approver",internalType:"address",type:"address"}],name:"ERC20InvalidApprover"},{type:"error",inputs:[{name:"receiver",internalType:"address",type:"address"}],name:"ERC20InvalidReceiver"},{type:"error",inputs:[{name:"sender",internalType:"address",type:"address"}],name:"ERC20InvalidSender"},{type:"error",inputs:[{name:"spender",internalType:"address",type:"address"}],name:"ERC20InvalidSpender"},{type:"error",inputs:[],name:"InvalidInitialization"},{type:"error",inputs:[],name:"IpRoyaltyVault__EnforcedPause"},{type:"error",inputs:[],name:"IpRoyaltyVault__GroupPoolMustClaimViaGroupingModule"},{type:"error",inputs:[{name:"vault",internalType:"address",type:"address"},{name:"account",internalType:"address",type:"address"},{name:"amount",internalType:"uint256",type:"uint256"}],name:"IpRoyaltyVault__InsufficientBalance"},{type:"error",inputs:[],name:"IpRoyaltyVault__InvalidTargetIpId"},{type:"error",inputs:[],name:"IpRoyaltyVault__NegativeValueUnsafeCastingToUint256"},{type:"error",inputs:[],name:"IpRoyaltyVault__NoClaimableTokens"},{type:"error",inputs:[],name:"IpRoyaltyVault__NotAllowedToAddTokenToVault"},{type:"error",inputs:[],name:"IpRoyaltyVault__NotWhitelistedRoyaltyToken"},{type:"error",inputs:[{name:"vault",internalType:"address",type:"address"},{name:"from",internalType:"address",type:"address"}],name:"IpRoyaltyVault__SameFromToAddress"},{type:"error",inputs:[],name:"IpRoyaltyVault__VaultDoesNotBelongToAnAncestor"},{type:"error",inputs:[],name:"IpRoyaltyVault__VaultsMustClaimAsSelf"},{type:"error",inputs:[],name:"IpRoyaltyVault__ZeroAmount"},{type:"error",inputs:[{name:"vault",internalType:"address",type:"address"},{name:"account",internalType:"address",type:"address"}],name:"IpRoyaltyVault__ZeroBalance"},{type:"error",inputs:[],name:"IpRoyaltyVault__ZeroDisputeModule"},{type:"error",inputs:[],name:"IpRoyaltyVault__ZeroGroupingModule"},{type:"error",inputs:[],name:"IpRoyaltyVault__ZeroIpAssetRegistry"},{type:"error",inputs:[],name:"IpRoyaltyVault__ZeroRoyaltyModule"},{type:"error",inputs:[],name:"NotInitializing"},{type:"error",inputs:[],name:"ReentrancyGuardReentrantCall"},{type:"error",inputs:[{name:"token",internalType:"address",type:"address"}],name:"SafeERC20FailedOperation"},{type:"event",anonymous:!1,inputs:[{name:"owner",internalType:"address",type:"address",indexed:!0},{name:"spender",internalType:"address",type:"address",indexed:!0},{name:"value",internalType:"uint256",type:"uint256",indexed:!1}],name:"Approval"},{type:"event",anonymous:!1,inputs:[{name:"version",internalType:"uint64",type:"uint64",indexed:!1}],name:"Initialized"},{type:"event",anonymous:!1,inputs:[{name:"claimer",internalType:"address",type:"address",indexed:!1},{name:"token",internalType:"address",type:"address",indexed:!1},{name:"revenueDebt",internalType:"int256",type:"int256",indexed:!1}],name:"RevenueDebtUpdated"},{type:"event",anonymous:!1,inputs:[{name:"token",internalType:"address",type:"address",indexed:!1},{name:"amount",internalType:"uint256",type:"uint256",indexed:!1}],name:"RevenueTokenAddedToVault"},{type:"event",anonymous:!1,inputs:[{name:"claimer",internalType:"address",type:"address",indexed:!1},{name:"token",internalType:"address",type:"address",indexed:!1},{name:"amount",internalType:"uint256",type:"uint256",indexed:!1}],name:"RevenueTokenClaimed"},{type:"event",anonymous:!1,inputs:[{name:"from",internalType:"address",type:"address",indexed:!0},{name:"to",internalType:"address",type:"address",indexed:!0},{name:"value",internalType:"uint256",type:"uint256",indexed:!1}],name:"Transfer"},{type:"function",inputs:[],name:"DISPUTE_MODULE",outputs:[{name:"",internalType:"contract IDisputeModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"GROUPING_MODULE",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"IP_ASSET_REGISTRY",outputs:[{name:"",internalType:"contract IGroupIPAssetRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"ROYALTY_MODULE",outputs:[{name:"",internalType:"contract IRoyaltyModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"owner",internalType:"address",type:"address"},{name:"spender",internalType:"address",type:"address"}],name:"allowance",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"spender",internalType:"address",type:"address"},{name:"value",internalType:"uint256",type:"uint256"}],name:"approve",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"account",internalType:"address",type:"address"}],name:"balanceOf",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"tokenList",internalType:"address[]",type:"address[]"},{name:"targetIpId",internalType:"address",type:"address"}],name:"claimByTokenBatchAsSelf",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"claimer",internalType:"address",type:"address"},{name:"token",internalType:"address",type:"address"}],name:"claimRevenueOnBehalf",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"claimer",internalType:"address",type:"address"},{name:"tokenList",internalType:"address[]",type:"address[]"}],name:"claimRevenueOnBehalfByTokenBatch",outputs:[{name:"",internalType:"uint256[]",type:"uint256[]"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"claimer",internalType:"address",type:"address"},{name:"token",internalType:"address",type:"address"}],name:"claimableRevenue",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"claimer",internalType:"address",type:"address"},{name:"token",internalType:"address",type:"address"}],name:"claimerRevenueDebt",outputs:[{name:"",internalType:"int256",type:"int256"}],stateMutability:"view"},{type:"function",inputs:[],name:"decimals",outputs:[{name:"",internalType:"uint8",type:"uint8"}],stateMutability:"pure"},{type:"function",inputs:[{name:"name",internalType:"string",type:"string"},{name:"symbol",internalType:"string",type:"string"},{name:"supply",internalType:"uint32",type:"uint32"},{name:"ipIdAddress",internalType:"address",type:"address"},{name:"rtReceiver",internalType:"address",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"ipId",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"name",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[],name:"symbol",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[],name:"tokens",outputs:[{name:"",internalType:"address[]",type:"address[]"}],stateMutability:"view"},{type:"function",inputs:[],name:"totalSupply",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"to",internalType:"address",type:"address"},{name:"value",internalType:"uint256",type:"uint256"}],name:"transfer",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"from",internalType:"address",type:"address"},{name:"to",internalType:"address",type:"address"},{name:"value",internalType:"uint256",type:"uint256"}],name:"transferFrom",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"token",internalType:"address",type:"address"},{name:"amount",internalType:"uint256",type:"uint256"}],name:"updateVaultBalance",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"token",internalType:"address",type:"address"}],name:"vaultAccBalances",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"}],RRe={1315:"0x73e2D097F71e5103824abB6562362106A8955AEc",1514:"0x63cC7611316880213f3A4Ba9bD72b0EaA2010298"},Qo=[{type:"constructor",inputs:[{name:"accessController",internalType:"address",type:"address"},{name:"coreMetadataModule",internalType:"address",type:"address"},{name:"ipAssetRegistry",internalType:"address",type:"address"},{name:"licenseRegistry",internalType:"address",type:"address"},{name:"licensingModule",internalType:"address",type:"address"},{name:"pilTemplate",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"error",inputs:[{name:"authority",internalType:"address",type:"address"}],name:"AccessManagedInvalidAuthority"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"delay",internalType:"uint32",type:"uint32"}],name:"AccessManagedRequiredDelay"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"}],name:"AccessManagedUnauthorized"},{type:"error",inputs:[{name:"target",internalType:"address",type:"address"}],name:"AddressEmptyCode"},{type:"error",inputs:[{name:"implementation",internalType:"address",type:"address"}],name:"ERC1967InvalidImplementation"},{type:"error",inputs:[],name:"ERC1967NonPayable"},{type:"error",inputs:[],name:"FailedCall"},{type:"error",inputs:[],name:"InvalidInitialization"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"signer",internalType:"address",type:"address"}],name:"LicenseAttachmentWorkflows__CallerNotSigner"},{type:"error",inputs:[],name:"LicenseAttachmentWorkflows__NoLicenseTermsData"},{type:"error",inputs:[],name:"LicenseAttachmentWorkflows__ZeroAddressParam"},{type:"error",inputs:[],name:"NotInitializing"},{type:"error",inputs:[],name:"PermissionHelper__ModulesAndSelectorsMismatch"},{type:"error",inputs:[],name:"UUPSUnauthorizedCallContext"},{type:"error",inputs:[{name:"slot",internalType:"bytes32",type:"bytes32"}],name:"UUPSUnsupportedProxiableUUID"},{type:"error",inputs:[],name:"Workflow__CallerNotAuthorizedToMint"},{type:"event",anonymous:!1,inputs:[{name:"authority",internalType:"address",type:"address",indexed:!1}],name:"AuthorityUpdated"},{type:"event",anonymous:!1,inputs:[{name:"version",internalType:"uint64",type:"uint64",indexed:!1}],name:"Initialized"},{type:"event",anonymous:!1,inputs:[{name:"implementation",internalType:"address",type:"address",indexed:!0}],name:"Upgraded"},{type:"function",inputs:[],name:"ACCESS_CONTROLLER",outputs:[{name:"",internalType:"contract IAccessController",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"CORE_METADATA_MODULE",outputs:[{name:"",internalType:"contract ICoreMetadataModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"IP_ASSET_REGISTRY",outputs:[{name:"",internalType:"contract IIPAssetRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"LICENSE_REGISTRY",outputs:[{name:"",internalType:"contract ILicenseRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"LICENSING_MODULE",outputs:[{name:"",internalType:"contract ILicensingModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"PIL_TEMPLATE",outputs:[{name:"",internalType:"contract IPILicenseTemplate",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"UPGRADE_INTERFACE_VERSION",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[],name:"authority",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"accessManager",internalType:"address",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"isConsumingScheduledOp",outputs:[{name:"",internalType:"bytes4",type:"bytes4"}],stateMutability:"view"},{type:"function",inputs:[{name:"spgNftContract",internalType:"address",type:"address"},{name:"recipient",internalType:"address",type:"address"},{name:"ipMetadata",internalType:"struct WorkflowStructs.IPMetadata",type:"tuple",components:[{name:"ipMetadataURI",internalType:"string",type:"string"},{name:"ipMetadataHash",internalType:"bytes32",type:"bytes32"},{name:"nftMetadataURI",internalType:"string",type:"string"},{name:"nftMetadataHash",internalType:"bytes32",type:"bytes32"}]},{name:"allowDuplicates",internalType:"bool",type:"bool"}],name:"mintAndRegisterIpAndAttachDefaultTerms",outputs:[{name:"ipId",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"spgNftContract",internalType:"address",type:"address"},{name:"recipient",internalType:"address",type:"address"},{name:"ipMetadata",internalType:"struct WorkflowStructs.IPMetadata",type:"tuple",components:[{name:"ipMetadataURI",internalType:"string",type:"string"},{name:"ipMetadataHash",internalType:"bytes32",type:"bytes32"},{name:"nftMetadataURI",internalType:"string",type:"string"},{name:"nftMetadataHash",internalType:"bytes32",type:"bytes32"}]},{name:"licenseTermsData",internalType:"struct WorkflowStructs.LicenseTermsData[]",type:"tuple[]",components:[{name:"terms",internalType:"struct PILTerms",type:"tuple",components:[{name:"transferable",internalType:"bool",type:"bool"},{name:"royaltyPolicy",internalType:"address",type:"address"},{name:"defaultMintingFee",internalType:"uint256",type:"uint256"},{name:"expiration",internalType:"uint256",type:"uint256"},{name:"commercialUse",internalType:"bool",type:"bool"},{name:"commercialAttribution",internalType:"bool",type:"bool"},{name:"commercializerChecker",internalType:"address",type:"address"},{name:"commercializerCheckerData",internalType:"bytes",type:"bytes"},{name:"commercialRevShare",internalType:"uint32",type:"uint32"},{name:"commercialRevCeiling",internalType:"uint256",type:"uint256"},{name:"derivativesAllowed",internalType:"bool",type:"bool"},{name:"derivativesAttribution",internalType:"bool",type:"bool"},{name:"derivativesApproval",internalType:"bool",type:"bool"},{name:"derivativesReciprocal",internalType:"bool",type:"bool"},{name:"derivativeRevCeiling",internalType:"uint256",type:"uint256"},{name:"currency",internalType:"address",type:"address"},{name:"uri",internalType:"string",type:"string"}]},{name:"licensingConfig",internalType:"struct Licensing.LicensingConfig",type:"tuple",components:[{name:"isSet",internalType:"bool",type:"bool"},{name:"mintingFee",internalType:"uint256",type:"uint256"},{name:"licensingHook",internalType:"address",type:"address"},{name:"hookData",internalType:"bytes",type:"bytes"},{name:"commercialRevShare",internalType:"uint32",type:"uint32"},{name:"disabled",internalType:"bool",type:"bool"},{name:"expectMinimumGroupRewardShare",internalType:"uint32",type:"uint32"},{name:"expectGroupRewardPool",internalType:"address",type:"address"}]}]},{name:"allowDuplicates",internalType:"bool",type:"bool"}],name:"mintAndRegisterIpAndAttachPILTerms",outputs:[{name:"ipId",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"},{name:"licenseTermsIds",internalType:"uint256[]",type:"uint256[]"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"data",internalType:"bytes[]",type:"bytes[]"}],name:"multicall",outputs:[{name:"results",internalType:"bytes[]",type:"bytes[]"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"",internalType:"address",type:"address"},{name:"",internalType:"address",type:"address"},{name:"",internalType:"uint256",type:"uint256"},{name:"",internalType:"bytes",type:"bytes"}],name:"onERC721Received",outputs:[{name:"",internalType:"bytes4",type:"bytes4"}],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"proxiableUUID",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"nftContract",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"},{name:"ipMetadata",internalType:"struct WorkflowStructs.IPMetadata",type:"tuple",components:[{name:"ipMetadataURI",internalType:"string",type:"string"},{name:"ipMetadataHash",internalType:"bytes32",type:"bytes32"},{name:"nftMetadataURI",internalType:"string",type:"string"},{name:"nftMetadataHash",internalType:"bytes32",type:"bytes32"}]},{name:"sigMetadataAndDefaultTerms",internalType:"struct WorkflowStructs.SignatureData",type:"tuple",components:[{name:"signer",internalType:"address",type:"address"},{name:"deadline",internalType:"uint256",type:"uint256"},{name:"signature",internalType:"bytes",type:"bytes"}]}],name:"registerIpAndAttachDefaultTerms",outputs:[{name:"ipId",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"nftContract",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"},{name:"ipMetadata",internalType:"struct WorkflowStructs.IPMetadata",type:"tuple",components:[{name:"ipMetadataURI",internalType:"string",type:"string"},{name:"ipMetadataHash",internalType:"bytes32",type:"bytes32"},{name:"nftMetadataURI",internalType:"string",type:"string"},{name:"nftMetadataHash",internalType:"bytes32",type:"bytes32"}]},{name:"licenseTermsData",internalType:"struct WorkflowStructs.LicenseTermsData[]",type:"tuple[]",components:[{name:"terms",internalType:"struct PILTerms",type:"tuple",components:[{name:"transferable",internalType:"bool",type:"bool"},{name:"royaltyPolicy",internalType:"address",type:"address"},{name:"defaultMintingFee",internalType:"uint256",type:"uint256"},{name:"expiration",internalType:"uint256",type:"uint256"},{name:"commercialUse",internalType:"bool",type:"bool"},{name:"commercialAttribution",internalType:"bool",type:"bool"},{name:"commercializerChecker",internalType:"address",type:"address"},{name:"commercializerCheckerData",internalType:"bytes",type:"bytes"},{name:"commercialRevShare",internalType:"uint32",type:"uint32"},{name:"commercialRevCeiling",internalType:"uint256",type:"uint256"},{name:"derivativesAllowed",internalType:"bool",type:"bool"},{name:"derivativesAttribution",internalType:"bool",type:"bool"},{name:"derivativesApproval",internalType:"bool",type:"bool"},{name:"derivativesReciprocal",internalType:"bool",type:"bool"},{name:"derivativeRevCeiling",internalType:"uint256",type:"uint256"},{name:"currency",internalType:"address",type:"address"},{name:"uri",internalType:"string",type:"string"}]},{name:"licensingConfig",internalType:"struct Licensing.LicensingConfig",type:"tuple",components:[{name:"isSet",internalType:"bool",type:"bool"},{name:"mintingFee",internalType:"uint256",type:"uint256"},{name:"licensingHook",internalType:"address",type:"address"},{name:"hookData",internalType:"bytes",type:"bytes"},{name:"commercialRevShare",internalType:"uint32",type:"uint32"},{name:"disabled",internalType:"bool",type:"bool"},{name:"expectMinimumGroupRewardShare",internalType:"uint32",type:"uint32"},{name:"expectGroupRewardPool",internalType:"address",type:"address"}]}]},{name:"sigMetadataAndAttachAndConfig",internalType:"struct WorkflowStructs.SignatureData",type:"tuple",components:[{name:"signer",internalType:"address",type:"address"},{name:"deadline",internalType:"uint256",type:"uint256"},{name:"signature",internalType:"bytes",type:"bytes"}]}],name:"registerIpAndAttachPILTerms",outputs:[{name:"ipId",internalType:"address",type:"address"},{name:"licenseTermsIds",internalType:"uint256[]",type:"uint256[]"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"licenseTermsData",internalType:"struct WorkflowStructs.LicenseTermsData[]",type:"tuple[]",components:[{name:"terms",internalType:"struct PILTerms",type:"tuple",components:[{name:"transferable",internalType:"bool",type:"bool"},{name:"royaltyPolicy",internalType:"address",type:"address"},{name:"defaultMintingFee",internalType:"uint256",type:"uint256"},{name:"expiration",internalType:"uint256",type:"uint256"},{name:"commercialUse",internalType:"bool",type:"bool"},{name:"commercialAttribution",internalType:"bool",type:"bool"},{name:"commercializerChecker",internalType:"address",type:"address"},{name:"commercializerCheckerData",internalType:"bytes",type:"bytes"},{name:"commercialRevShare",internalType:"uint32",type:"uint32"},{name:"commercialRevCeiling",internalType:"uint256",type:"uint256"},{name:"derivativesAllowed",internalType:"bool",type:"bool"},{name:"derivativesAttribution",internalType:"bool",type:"bool"},{name:"derivativesApproval",internalType:"bool",type:"bool"},{name:"derivativesReciprocal",internalType:"bool",type:"bool"},{name:"derivativeRevCeiling",internalType:"uint256",type:"uint256"},{name:"currency",internalType:"address",type:"address"},{name:"uri",internalType:"string",type:"string"}]},{name:"licensingConfig",internalType:"struct Licensing.LicensingConfig",type:"tuple",components:[{name:"isSet",internalType:"bool",type:"bool"},{name:"mintingFee",internalType:"uint256",type:"uint256"},{name:"licensingHook",internalType:"address",type:"address"},{name:"hookData",internalType:"bytes",type:"bytes"},{name:"commercialRevShare",internalType:"uint32",type:"uint32"},{name:"disabled",internalType:"bool",type:"bool"},{name:"expectMinimumGroupRewardShare",internalType:"uint32",type:"uint32"},{name:"expectGroupRewardPool",internalType:"address",type:"address"}]}]},{name:"sigAttachAndConfig",internalType:"struct WorkflowStructs.SignatureData",type:"tuple",components:[{name:"signer",internalType:"address",type:"address"},{name:"deadline",internalType:"uint256",type:"uint256"},{name:"signature",internalType:"bytes",type:"bytes"}]}],name:"registerPILTermsAndAttach",outputs:[{name:"licenseTermsIds",internalType:"uint256[]",type:"uint256[]"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newAuthority",internalType:"address",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newImplementation",internalType:"address",type:"address"},{name:"data",internalType:"bytes",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable"}],MZ={1315:"0xcC2E862bCee5B6036Db0de6E06Ae87e524a79fd8",1514:"0xcC2E862bCee5B6036Db0de6E06Ae87e524a79fd8"},lx=[{type:"constructor",inputs:[{name:"groupIpAssetRegistry",internalType:"address",type:"address"},{name:"licensingModule",internalType:"address",type:"address"},{name:"disputeModule",internalType:"address",type:"address"},{name:"ipGraphAcl",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"error",inputs:[{name:"authority",internalType:"address",type:"address"}],name:"AccessManagedInvalidAuthority"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"delay",internalType:"uint32",type:"uint32"}],name:"AccessManagedRequiredDelay"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"}],name:"AccessManagedUnauthorized"},{type:"error",inputs:[{name:"target",internalType:"address",type:"address"}],name:"AddressEmptyCode"},{type:"error",inputs:[{name:"implementation",internalType:"address",type:"address"}],name:"ERC1967InvalidImplementation"},{type:"error",inputs:[],name:"ERC1967NonPayable"},{type:"error",inputs:[],name:"FailedCall"},{type:"error",inputs:[],name:"InvalidInitialization"},{type:"error",inputs:[{name:"childIpId",internalType:"address",type:"address"},{name:"parentIpIds",internalType:"address[]",type:"address[]"}],name:"LicenseRegistry__AddParentIpToIPGraphFailed"},{type:"error",inputs:[],name:"LicenseRegistry__CallFailed"},{type:"error",inputs:[],name:"LicenseRegistry__CallerNotLicensingModule"},{type:"error",inputs:[{name:"ipId",internalType:"address",type:"address"}],name:"LicenseRegistry__CannotAddIpWithExpirationToGroup"},{type:"error",inputs:[{name:"childIpId",internalType:"address",type:"address"}],name:"LicenseRegistry__DerivativeAlreadyRegistered"},{type:"error",inputs:[{name:"childIpId",internalType:"address",type:"address"}],name:"LicenseRegistry__DerivativeIpAlreadyHasChild"},{type:"error",inputs:[{name:"childIpId",internalType:"address",type:"address"}],name:"LicenseRegistry__DerivativeIpAlreadyHasLicense"},{type:"error",inputs:[{name:"ipId",internalType:"address",type:"address"}],name:"LicenseRegistry__DerivativeIsParent"},{type:"error",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"parentIpId",internalType:"address",type:"address"}],name:"LicenseRegistry__DuplicateParentIp"},{type:"error",inputs:[{name:"groupId",internalType:"address",type:"address"}],name:"LicenseRegistry__EmptyGroupCannotMintLicenseToken"},{type:"error",inputs:[{name:"groupId",internalType:"address",type:"address"}],name:"LicenseRegistry__GroupCannotHasParentIp"},{type:"error",inputs:[{name:"groupId",internalType:"address",type:"address"}],name:"LicenseRegistry__GroupIpAlreadyHasLicenseTerms"},{type:"error",inputs:[{name:"groupId",internalType:"address",type:"address"},{name:"ipCommercialRevShare",internalType:"uint32",type:"uint32"},{name:"groupCommercialRevShare",internalType:"uint32",type:"uint32"}],name:"LicenseRegistry__GroupIpCommercialRevShareConfigMustNotLessThanIp"},{type:"error",inputs:[{name:"childIpId",internalType:"address",type:"address"},{name:"groupId",internalType:"address",type:"address"}],name:"LicenseRegistry__GroupMustBeSoleParent"},{type:"error",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"index",internalType:"uint256",type:"uint256"},{name:"length",internalType:"uint256",type:"uint256"}],name:"LicenseRegistry__IndexOutOfBounds"},{type:"error",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"expectGroupRewardPool",internalType:"address",type:"address"},{name:"groupId",internalType:"address",type:"address"},{name:"groupRewardPool",internalType:"address",type:"address"}],name:"LicenseRegistry__IpExpectGroupRewardPoolNotMatch"},{type:"error",inputs:[{name:"ipId",internalType:"address",type:"address"}],name:"LicenseRegistry__IpExpectGroupRewardPoolNotSet"},{type:"error",inputs:[{name:"ipId",internalType:"address",type:"address"}],name:"LicenseRegistry__IpExpired"},{type:"error",inputs:[{name:"groupId",internalType:"address",type:"address"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"}],name:"LicenseRegistry__IpHasNoGroupLicenseTerms"},{type:"error",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"}],name:"LicenseRegistry__IpLicenseDisabled"},{type:"error",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"hookData",internalType:"bytes",type:"bytes"},{name:"groupHookData",internalType:"bytes",type:"bytes"}],name:"LicenseRegistry__IpLicensingHookDataNotMatchWithGroup"},{type:"error",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"licensingHook",internalType:"address",type:"address"},{name:"groupLicensingHook",internalType:"address",type:"address"}],name:"LicenseRegistry__IpLicensingHookNotMatchWithGroup"},{type:"error",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"mintingFee",internalType:"uint256",type:"uint256"},{name:"groupMintingFee",internalType:"uint256",type:"uint256"}],name:"LicenseRegistry__IpMintingFeeNotMatchWithGroup"},{type:"error",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"}],name:"LicenseRegistry__LicenseTermsAlreadyAttached"},{type:"error",inputs:[{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"}],name:"LicenseRegistry__LicenseTermsCannotAttachToGroupIp"},{type:"error",inputs:[{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"}],name:"LicenseRegistry__LicenseTermsNotExists"},{type:"error",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"}],name:"LicenseRegistry__LicensorIpHasNoLicenseTerms"},{type:"error",inputs:[{name:"licenseTemplate",internalType:"address",type:"address"}],name:"LicenseRegistry__NotLicenseTemplate"},{type:"error",inputs:[{name:"ipId",internalType:"address",type:"address"}],name:"LicenseRegistry__ParentIpExpired"},{type:"error",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"}],name:"LicenseRegistry__ParentIpHasNoLicenseTerms"},{type:"error",inputs:[{name:"groupId",internalType:"address",type:"address"}],name:"LicenseRegistry__ParentIpIsEmptyGroup"},{type:"error",inputs:[{name:"parentIpId",internalType:"address",type:"address"}],name:"LicenseRegistry__ParentIpNotRegistered"},{type:"error",inputs:[{name:"ipId",internalType:"address",type:"address"}],name:"LicenseRegistry__ParentIpTagged"},{type:"error",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"licenseTemplate",internalType:"address",type:"address"}],name:"LicenseRegistry__ParentIpUnmatchedLicenseTemplate"},{type:"error",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"ancestors",internalType:"uint256",type:"uint256"},{name:"maxAncestors",internalType:"uint256",type:"uint256"}],name:"LicenseRegistry__TooManyAncestors"},{type:"error",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"parents",internalType:"uint256",type:"uint256"},{name:"maxParents",internalType:"uint256",type:"uint256"}],name:"LicenseRegistry__TooManyParents"},{type:"error",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"newLicenseTemplate",internalType:"address",type:"address"}],name:"LicenseRegistry__UnmatchedLicenseTemplate"},{type:"error",inputs:[{name:"licenseTemplate",internalType:"address",type:"address"}],name:"LicenseRegistry__UnregisteredLicenseTemplate"},{type:"error",inputs:[],name:"LicenseRegistry__ZeroAccessManager"},{type:"error",inputs:[],name:"LicenseRegistry__ZeroDisputeModule"},{type:"error",inputs:[],name:"LicenseRegistry__ZeroGroupIpRegistry"},{type:"error",inputs:[],name:"LicenseRegistry__ZeroIPGraphACL"},{type:"error",inputs:[],name:"LicenseRegistry__ZeroLicenseTemplate"},{type:"error",inputs:[],name:"LicenseRegistry__ZeroLicensingModule"},{type:"error",inputs:[],name:"LicensingModule__DerivativesCannotAddLicenseTerms"},{type:"error",inputs:[{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"}],name:"LicensingModule__LicenseTermsNotFound"},{type:"error",inputs:[],name:"NotInitializing"},{type:"error",inputs:[],name:"RoyaltyModule__CallFailed"},{type:"error",inputs:[],name:"UUPSUnauthorizedCallContext"},{type:"error",inputs:[{name:"slot",internalType:"bytes32",type:"bytes32"}],name:"UUPSUnsupportedProxiableUUID"},{type:"event",anonymous:!1,inputs:[{name:"authority",internalType:"address",type:"address",indexed:!1}],name:"AuthorityUpdated"},{type:"event",anonymous:!1,inputs:[{name:"licenseTemplate",internalType:"address",type:"address",indexed:!1},{name:"licenseTermsId",internalType:"uint256",type:"uint256",indexed:!1}],name:"DefaultLicenseTermsSet"},{type:"event",anonymous:!1,inputs:[{name:"ipId",internalType:"address",type:"address",indexed:!0},{name:"expireTime",internalType:"uint256",type:"uint256",indexed:!1}],name:"ExpirationTimeSet"},{type:"event",anonymous:!1,inputs:[{name:"version",internalType:"uint64",type:"uint64",indexed:!1}],name:"Initialized"},{type:"event",anonymous:!1,inputs:[{name:"licenseTemplate",internalType:"address",type:"address",indexed:!0}],name:"LicenseTemplateRegistered"},{type:"event",anonymous:!1,inputs:[{name:"ipId",internalType:"address",type:"address",indexed:!0},{name:"licenseTemplate",internalType:"address",type:"address",indexed:!0},{name:"licenseTermsId",internalType:"uint256",type:"uint256",indexed:!0},{name:"licensingConfig",internalType:"struct Licensing.LicensingConfig",type:"tuple",components:[{name:"isSet",internalType:"bool",type:"bool"},{name:"mintingFee",internalType:"uint256",type:"uint256"},{name:"licensingHook",internalType:"address",type:"address"},{name:"hookData",internalType:"bytes",type:"bytes"},{name:"commercialRevShare",internalType:"uint32",type:"uint32"},{name:"disabled",internalType:"bool",type:"bool"},{name:"expectMinimumGroupRewardShare",internalType:"uint32",type:"uint32"},{name:"expectGroupRewardPool",internalType:"address",type:"address"}],indexed:!1}],name:"LicensingConfigSetForLicense"},{type:"event",anonymous:!1,inputs:[{name:"implementation",internalType:"address",type:"address",indexed:!0}],name:"Upgraded"},{type:"function",inputs:[],name:"DISPUTE_MODULE",outputs:[{name:"",internalType:"contract IDisputeModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"EXPIRATION_TIME",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[],name:"GROUP_IP_ASSET_REGISTRY",outputs:[{name:"",internalType:"contract IGroupIPAssetRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"IP_GRAPH",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"IP_GRAPH_ACL",outputs:[{name:"",internalType:"contract IPGraphACL",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"LICENSING_MODULE",outputs:[{name:"",internalType:"contract ILicensingModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"MAX_ANCESTORS",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[],name:"MAX_PARENTS",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[],name:"UPGRADE_INTERFACE_VERSION",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"}],name:"attachLicenseTermsToIp",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"authority",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"}],name:"exists",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"}],name:"getAncestorsCount",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"index",internalType:"uint256",type:"uint256"}],name:"getAttachedLicenseTerms",outputs:[{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"}],name:"getAttachedLicenseTermsCount",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[],name:"getDefaultLicenseTerms",outputs:[{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"parentIpId",internalType:"address",type:"address"},{name:"index",internalType:"uint256",type:"uint256"}],name:"getDerivativeIp",outputs:[{name:"childIpId",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"parentIpId",internalType:"address",type:"address"}],name:"getDerivativeIpCount",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"}],name:"getExpireTime",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"}],name:"getLicensingConfig",outputs:[{name:"",internalType:"struct Licensing.LicensingConfig",type:"tuple",components:[{name:"isSet",internalType:"bool",type:"bool"},{name:"mintingFee",internalType:"uint256",type:"uint256"},{name:"licensingHook",internalType:"address",type:"address"},{name:"hookData",internalType:"bytes",type:"bytes"},{name:"commercialRevShare",internalType:"uint32",type:"uint32"},{name:"disabled",internalType:"bool",type:"bool"},{name:"expectMinimumGroupRewardShare",internalType:"uint32",type:"uint32"},{name:"expectGroupRewardPool",internalType:"address",type:"address"}]}],stateMutability:"view"},{type:"function",inputs:[{name:"childIpId",internalType:"address",type:"address"},{name:"index",internalType:"uint256",type:"uint256"}],name:"getParentIp",outputs:[{name:"parentIpId",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"childIpId",internalType:"address",type:"address"}],name:"getParentIpCount",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"childIpId",internalType:"address",type:"address"},{name:"parentIpId",internalType:"address",type:"address"}],name:"getParentLicenseTerms",outputs:[{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"}],name:"getRoyaltyPercent",outputs:[{name:"royaltyPercent",internalType:"uint32",type:"uint32"}],stateMutability:"view"},{type:"function",inputs:[{name:"parentIpId",internalType:"address",type:"address"}],name:"hasDerivativeIps",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"}],name:"hasIpAttachedLicenseTerms",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"accessManager",internalType:"address",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"licenseTemplate",internalType:"address",type:"address"}],name:"initializeLicenseTemplate",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"isConsumingScheduledOp",outputs:[{name:"",internalType:"bytes4",type:"bytes4"}],stateMutability:"view"},{type:"function",inputs:[{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"}],name:"isDefaultLicense",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"childIpId",internalType:"address",type:"address"}],name:"isDerivativeIp",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"}],name:"isExpiredNow",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"parentIpId",internalType:"address",type:"address"},{name:"childIpId",internalType:"address",type:"address"}],name:"isParentIp",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"licenseTemplate",internalType:"address",type:"address"}],name:"isRegisteredLicenseTemplate",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[],name:"proxiableUUID",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"childIpId",internalType:"address",type:"address"},{name:"parentIpIds",internalType:"address[]",type:"address[]"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsIds",internalType:"uint256[]",type:"uint256[]"},{name:"isUsingLicenseToken",internalType:"bool",type:"bool"}],name:"registerDerivativeIp",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"licenseTemplate",internalType:"address",type:"address"}],name:"registerLicenseTemplate",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newAuthority",internalType:"address",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newLicenseTemplate",internalType:"address",type:"address"},{name:"newLicenseTermsId",internalType:"uint256",type:"uint256"}],name:"setDefaultLicenseTerms",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"},{name:"licensingConfig",internalType:"struct Licensing.LicensingConfig",type:"tuple",components:[{name:"isSet",internalType:"bool",type:"bool"},{name:"mintingFee",internalType:"uint256",type:"uint256"},{name:"licensingHook",internalType:"address",type:"address"},{name:"hookData",internalType:"bytes",type:"bytes"},{name:"commercialRevShare",internalType:"uint32",type:"uint32"},{name:"disabled",internalType:"bool",type:"bool"},{name:"expectMinimumGroupRewardShare",internalType:"uint32",type:"uint32"},{name:"expectGroupRewardPool",internalType:"address",type:"address"}]}],name:"setLicensingConfigForLicense",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newImplementation",internalType:"address",type:"address"},{name:"data",internalType:"bytes",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable"},{type:"function",inputs:[{name:"groupId",internalType:"address",type:"address"},{name:"groupRewardPool",internalType:"address",type:"address"},{name:"ipId",internalType:"address",type:"address"},{name:"groupLicenseTemplate",internalType:"address",type:"address"},{name:"groupLicenseTermsId",internalType:"uint256",type:"uint256"}],name:"verifyGroupAddIp",outputs:[{name:"ipLicensingConfig",internalType:"struct Licensing.LicensingConfig",type:"tuple",components:[{name:"isSet",internalType:"bool",type:"bool"},{name:"mintingFee",internalType:"uint256",type:"uint256"},{name:"licensingHook",internalType:"address",type:"address"},{name:"hookData",internalType:"bytes",type:"bytes"},{name:"commercialRevShare",internalType:"uint32",type:"uint32"},{name:"disabled",internalType:"bool",type:"bool"},{name:"expectMinimumGroupRewardShare",internalType:"uint32",type:"uint32"},{name:"expectGroupRewardPool",internalType:"address",type:"address"}]}],stateMutability:"view"},{type:"function",inputs:[{name:"licensorIpId",internalType:"address",type:"address"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"},{name:"isMintedByIpOwner",internalType:"bool",type:"bool"}],name:"verifyMintLicenseToken",outputs:[{name:"",internalType:"struct Licensing.LicensingConfig",type:"tuple",components:[{name:"isSet",internalType:"bool",type:"bool"},{name:"mintingFee",internalType:"uint256",type:"uint256"},{name:"licensingHook",internalType:"address",type:"address"},{name:"hookData",internalType:"bytes",type:"bytes"},{name:"commercialRevShare",internalType:"uint32",type:"uint32"},{name:"disabled",internalType:"bool",type:"bool"},{name:"expectMinimumGroupRewardShare",internalType:"uint32",type:"uint32"},{name:"expectGroupRewardPool",internalType:"address",type:"address"}]}],stateMutability:"view"}],PRe={1315:"0x529a750E02d8E2f15649c13D69a465286a780e24",1514:"0x529a750E02d8E2f15649c13D69a465286a780e24"},uE=[{type:"constructor",inputs:[{name:"licensingModule",internalType:"address",type:"address"},{name:"disputeModule",internalType:"address",type:"address"},{name:"licenseRegistry",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"error",inputs:[{name:"authority",internalType:"address",type:"address"}],name:"AccessManagedInvalidAuthority"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"delay",internalType:"uint32",type:"uint32"}],name:"AccessManagedRequiredDelay"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"}],name:"AccessManagedUnauthorized"},{type:"error",inputs:[{name:"target",internalType:"address",type:"address"}],name:"AddressEmptyCode"},{type:"error",inputs:[{name:"implementation",internalType:"address",type:"address"}],name:"ERC1967InvalidImplementation"},{type:"error",inputs:[],name:"ERC1967NonPayable"},{type:"error",inputs:[],name:"ERC721EnumerableForbiddenBatchMint"},{type:"error",inputs:[{name:"sender",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"},{name:"owner",internalType:"address",type:"address"}],name:"ERC721IncorrectOwner"},{type:"error",inputs:[{name:"operator",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"}],name:"ERC721InsufficientApproval"},{type:"error",inputs:[{name:"approver",internalType:"address",type:"address"}],name:"ERC721InvalidApprover"},{type:"error",inputs:[{name:"operator",internalType:"address",type:"address"}],name:"ERC721InvalidOperator"},{type:"error",inputs:[{name:"owner",internalType:"address",type:"address"}],name:"ERC721InvalidOwner"},{type:"error",inputs:[{name:"receiver",internalType:"address",type:"address"}],name:"ERC721InvalidReceiver"},{type:"error",inputs:[{name:"sender",internalType:"address",type:"address"}],name:"ERC721InvalidSender"},{type:"error",inputs:[{name:"tokenId",internalType:"uint256",type:"uint256"}],name:"ERC721NonexistentToken"},{type:"error",inputs:[{name:"owner",internalType:"address",type:"address"},{name:"index",internalType:"uint256",type:"uint256"}],name:"ERC721OutOfBoundsIndex"},{type:"error",inputs:[],name:"FailedCall"},{type:"error",inputs:[],name:"InvalidInitialization"},{type:"error",inputs:[{name:"licenseTemplate",internalType:"address",type:"address"},{name:"anotherLicenseTemplate",internalType:"address",type:"address"}],name:"LicenseToken__AllLicenseTokensMustFromSameLicenseTemplate"},{type:"error",inputs:[{name:"tokenId",internalType:"uint256",type:"uint256"},{name:"caller",internalType:"address",type:"address"},{name:"childIpIp",internalType:"address",type:"address"},{name:"actualTokenOwner",internalType:"address",type:"address"}],name:"LicenseToken__CallerAndChildIPNotTokenOwner"},{type:"error",inputs:[],name:"LicenseToken__CallerNotLicensingModule"},{type:"error",inputs:[{name:"childIpId",internalType:"address",type:"address"}],name:"LicenseToken__ChildIPAlreadyHasBeenMintedLicenseTokens"},{type:"error",inputs:[{name:"commercialRevenueShare",internalType:"uint32",type:"uint32"},{name:"maxRevenueShare",internalType:"uint32",type:"uint32"},{name:"ipId",internalType:"address",type:"address"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"}],name:"LicenseToken__CommercialRevenueShareExceedMaxRevenueShare"},{type:"error",inputs:[{name:"invalidRoyaltyPercent",internalType:"uint32",type:"uint32"},{name:"ipId",internalType:"address",type:"address"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"}],name:"LicenseToken__InvalidRoyaltyPercent"},{type:"error",inputs:[],name:"LicenseToken__NotTransferable"},{type:"error",inputs:[{name:"tokenId",internalType:"uint256",type:"uint256"}],name:"LicenseToken__RevokedLicense"},{type:"error",inputs:[],name:"LicenseToken__ZeroAccessManager"},{type:"error",inputs:[],name:"NotInitializing"},{type:"error",inputs:[{name:"value",internalType:"uint256",type:"uint256"},{name:"length",internalType:"uint256",type:"uint256"}],name:"StringsInsufficientHexLength"},{type:"error",inputs:[],name:"UUPSUnauthorizedCallContext"},{type:"error",inputs:[{name:"slot",internalType:"bytes32",type:"bytes32"}],name:"UUPSUnsupportedProxiableUUID"},{type:"event",anonymous:!1,inputs:[{name:"owner",internalType:"address",type:"address",indexed:!0},{name:"approved",internalType:"address",type:"address",indexed:!0},{name:"tokenId",internalType:"uint256",type:"uint256",indexed:!0}],name:"Approval"},{type:"event",anonymous:!1,inputs:[{name:"owner",internalType:"address",type:"address",indexed:!0},{name:"operator",internalType:"address",type:"address",indexed:!0},{name:"approved",internalType:"bool",type:"bool",indexed:!1}],name:"ApprovalForAll"},{type:"event",anonymous:!1,inputs:[{name:"authority",internalType:"address",type:"address",indexed:!1}],name:"AuthorityUpdated"},{type:"event",anonymous:!1,inputs:[{name:"_fromTokenId",internalType:"uint256",type:"uint256",indexed:!1},{name:"_toTokenId",internalType:"uint256",type:"uint256",indexed:!1}],name:"BatchMetadataUpdate"},{type:"event",anonymous:!1,inputs:[{name:"version",internalType:"uint64",type:"uint64",indexed:!1}],name:"Initialized"},{type:"event",anonymous:!1,inputs:[{name:"minter",internalType:"address",type:"address",indexed:!0},{name:"receiver",internalType:"address",type:"address",indexed:!0},{name:"tokenId",internalType:"uint256",type:"uint256",indexed:!0}],name:"LicenseTokenMinted"},{type:"event",anonymous:!1,inputs:[{name:"from",internalType:"address",type:"address",indexed:!0},{name:"to",internalType:"address",type:"address",indexed:!0},{name:"tokenId",internalType:"uint256",type:"uint256",indexed:!0}],name:"Transfer"},{type:"event",anonymous:!1,inputs:[{name:"implementation",internalType:"address",type:"address",indexed:!0}],name:"Upgraded"},{type:"function",inputs:[],name:"DISPUTE_MODULE",outputs:[{name:"",internalType:"contract IDisputeModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"LICENSE_REGISTRY",outputs:[{name:"",internalType:"contract ILicenseRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"LICENSING_MODULE",outputs:[{name:"",internalType:"contract ILicensingModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"MAX_COMMERCIAL_REVENUE_SHARE",outputs:[{name:"",internalType:"uint32",type:"uint32"}],stateMutability:"view"},{type:"function",inputs:[],name:"UPGRADE_INTERFACE_VERSION",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[{name:"to",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"authority",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"owner",internalType:"address",type:"address"}],name:"balanceOf",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"holder",internalType:"address",type:"address"},{name:"tokenIds",internalType:"uint256[]",type:"uint256[]"}],name:"burnLicenseTokens",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"tokenId",internalType:"uint256",type:"uint256"}],name:"getApproved",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"tokenId",internalType:"uint256",type:"uint256"}],name:"getLicenseTemplate",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"tokenId",internalType:"uint256",type:"uint256"}],name:"getLicenseTermsId",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"tokenId",internalType:"uint256",type:"uint256"}],name:"getLicenseTokenMetadata",outputs:[{name:"",internalType:"struct ILicenseToken.LicenseTokenMetadata",type:"tuple",components:[{name:"licensorIpId",internalType:"address",type:"address"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"},{name:"transferable",internalType:"bool",type:"bool"},{name:"commercialRevShare",internalType:"uint32",type:"uint32"}]}],stateMutability:"view"},{type:"function",inputs:[{name:"tokenId",internalType:"uint256",type:"uint256"}],name:"getLicensorIpId",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"licensorIpId",internalType:"address",type:"address"}],name:"getTotalTokensByLicensor",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"accessManager",internalType:"address",type:"address"},{name:"imageUrl",internalType:"string",type:"string"}],name:"initialize",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"owner",internalType:"address",type:"address"},{name:"operator",internalType:"address",type:"address"}],name:"isApprovedForAll",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[],name:"isConsumingScheduledOp",outputs:[{name:"",internalType:"bytes4",type:"bytes4"}],stateMutability:"view"},{type:"function",inputs:[{name:"tokenId",internalType:"uint256",type:"uint256"}],name:"isLicenseTokenRevoked",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"licensorIpId",internalType:"address",type:"address"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"},{name:"amount",internalType:"uint256",type:"uint256"},{name:"minter",internalType:"address",type:"address"},{name:"receiver",internalType:"address",type:"address"},{name:"maxRevenueShare",internalType:"uint32",type:"uint32"}],name:"mintLicenseTokens",outputs:[{name:"startLicenseTokenId",internalType:"uint256",type:"uint256"}],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"name",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[{name:"tokenId",internalType:"uint256",type:"uint256"}],name:"ownerOf",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"proxiableUUID",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"from",internalType:"address",type:"address"},{name:"to",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"from",internalType:"address",type:"address"},{name:"to",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"},{name:"data",internalType:"bytes",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"operator",internalType:"address",type:"address"},{name:"approved",internalType:"bool",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newAuthority",internalType:"address",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"url",internalType:"string",type:"string"}],name:"setLicensingImageUrl",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"interfaceId",internalType:"bytes4",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[],name:"symbol",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[{name:"index",internalType:"uint256",type:"uint256"}],name:"tokenByIndex",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"owner",internalType:"address",type:"address"},{name:"index",internalType:"uint256",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"id",internalType:"uint256",type:"uint256"}],name:"tokenURI",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[],name:"totalMintedTokens",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[],name:"totalSupply",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"from",internalType:"address",type:"address"},{name:"to",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newImplementation",internalType:"address",type:"address"},{name:"data",internalType:"bytes",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable"},{type:"function",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"childIpId",internalType:"address",type:"address"},{name:"tokenIds",internalType:"uint256[]",type:"uint256[]"}],name:"validateLicenseTokensForDerivative",outputs:[{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licensorIpIds",internalType:"address[]",type:"address[]"},{name:"licenseTermsIds",internalType:"uint256[]",type:"uint256[]"},{name:"commercialRevShares",internalType:"uint32[]",type:"uint32[]"}],stateMutability:"view"}],MRe={1315:"0xFe3838BFb30B34170F00030B52eA4893d8aAC6bC",1514:"0xFe3838BFb30B34170F00030B52eA4893d8aAC6bC"},Cn=[{type:"constructor",inputs:[{name:"accessController",internalType:"address",type:"address"},{name:"ipAccountRegistry",internalType:"address",type:"address"},{name:"moduleRegistry",internalType:"address",type:"address"},{name:"royaltyModule",internalType:"address",type:"address"},{name:"licenseRegistry",internalType:"address",type:"address"},{name:"disputeModule",internalType:"address",type:"address"},{name:"licenseToken",internalType:"address",type:"address"},{name:"ipGraphAcl",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"error",inputs:[{name:"ipAccount",internalType:"address",type:"address"}],name:"AccessControlled__NotIpAccount"},{type:"error",inputs:[],name:"AccessControlled__ZeroAddress"},{type:"error",inputs:[{name:"authority",internalType:"address",type:"address"}],name:"AccessManagedInvalidAuthority"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"delay",internalType:"uint32",type:"uint32"}],name:"AccessManagedRequiredDelay"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"}],name:"AccessManagedUnauthorized"},{type:"error",inputs:[{name:"target",internalType:"address",type:"address"}],name:"AddressEmptyCode"},{type:"error",inputs:[{name:"implementation",internalType:"address",type:"address"}],name:"ERC1967InvalidImplementation"},{type:"error",inputs:[],name:"ERC1967NonPayable"},{type:"error",inputs:[],name:"EnforcedPause"},{type:"error",inputs:[],name:"ExpectedPause"},{type:"error",inputs:[],name:"FailedCall"},{type:"error",inputs:[],name:"InvalidInitialization"},{type:"error",inputs:[],name:"LicenseRegistry__LicenseTemplateCannotBeZeroAddress"},{type:"error",inputs:[{name:"licenseTemplate",internalType:"address",type:"address"}],name:"LicenseRegistry__UnregisteredLicenseTemplate"},{type:"error",inputs:[{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"},{name:"newRoyaltyPercent",internalType:"uint32",type:"uint32"}],name:"LicensingModule__CurrentLicenseNotAllowOverrideRoyaltyPercent"},{type:"error",inputs:[{name:"childIpId",internalType:"address",type:"address"}],name:"LicensingModule__DerivativeAlreadyHasBeenMintedLicenseTokens"},{type:"error",inputs:[],name:"LicensingModule__DisputedIpId"},{type:"error",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"},{name:"revenueShare",internalType:"uint32",type:"uint32"},{name:"maxRevenueShare",internalType:"uint32",type:"uint32"}],name:"LicensingModule__ExceedMaxRevenueShare"},{type:"error",inputs:[{name:"groupId",internalType:"address",type:"address"}],name:"LicensingModule__GroupIpCannotChangeHookData"},{type:"error",inputs:[{name:"groupId",internalType:"address",type:"address"}],name:"LicensingModule__GroupIpCannotChangeIsSet"},{type:"error",inputs:[{name:"groupId",internalType:"address",type:"address"}],name:"LicensingModule__GroupIpCannotChangeLicensingHook"},{type:"error",inputs:[{name:"groupId",internalType:"address",type:"address"}],name:"LicensingModule__GroupIpCannotChangeMintingFee"},{type:"error",inputs:[{name:"groupId",internalType:"address",type:"address"},{name:"newRoyaltyPercent",internalType:"uint32",type:"uint32"},{name:"oldRoyaltyPercent",internalType:"uint32",type:"uint32"}],name:"LicensingModule__GroupIpCannotDecreaseRoyalty"},{type:"error",inputs:[{name:"groupId",internalType:"address",type:"address"}],name:"LicensingModule__GroupIpCannotSetExpectGroupRewardPool"},{type:"error",inputs:[{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"}],name:"LicensingModule__InvalidLicenseTermsId"},{type:"error",inputs:[{name:"hook",internalType:"address",type:"address"}],name:"LicensingModule__InvalidLicensingHook"},{type:"error",inputs:[{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"},{name:"licensorIpId",internalType:"address",type:"address"}],name:"LicensingModule__LicenseDenyMintLicenseToken"},{type:"error",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"}],name:"LicensingModule__LicenseDisabled"},{type:"error",inputs:[{name:"childIpId",internalType:"address",type:"address"}],name:"LicensingModule__LicenseNotCompatibleForDerivative"},{type:"error",inputs:[{name:"ipLength",internalType:"uint256",type:"uint256"},{name:"licenseTermsLength",internalType:"uint256",type:"uint256"}],name:"LicensingModule__LicenseTermsLengthMismatch"},{type:"error",inputs:[{name:"childIpId",internalType:"address",type:"address"},{name:"licenseTokenIds",internalType:"uint256[]",type:"uint256[]"}],name:"LicensingModule__LicenseTokenNotCompatibleForDerivative"},{type:"error",inputs:[{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"},{name:"licensingConfigMintingFee",internalType:"uint256",type:"uint256"},{name:"licenseTermsMintingFee",internalType:"uint256",type:"uint256"}],name:"LicensingModule__LicensingConfigMintingFeeBelowLicenseTerms"},{type:"error",inputs:[{name:"licensingHookMintingFee",internalType:"uint256",type:"uint256"},{name:"licenseTermsMintingFee",internalType:"uint256",type:"uint256"}],name:"LicensingModule__LicensingHookMintingFeeBelowLicenseTerms"},{type:"error",inputs:[],name:"LicensingModule__LicensorIpNotRegistered"},{type:"error",inputs:[],name:"LicensingModule__MintAmountZero"},{type:"error",inputs:[{name:"mintingFee",internalType:"uint256",type:"uint256"},{name:"maxMintingFee",internalType:"uint256",type:"uint256"}],name:"LicensingModule__MintingFeeExceedMaxMintingFee"},{type:"error",inputs:[],name:"LicensingModule__MintingFeeRequiresRoyaltyPolicy"},{type:"error",inputs:[],name:"LicensingModule__NoLicenseToken"},{type:"error",inputs:[],name:"LicensingModule__NoParentIp"},{type:"error",inputs:[],name:"LicensingModule__ReceiverZeroAddress"},{type:"error",inputs:[{name:"royaltyPolicy",internalType:"address",type:"address"},{name:"anotherRoyaltyPolicy",internalType:"address",type:"address"}],name:"LicensingModule__RoyaltyPolicyMismatch"},{type:"error",inputs:[{name:"licensorIpId",internalType:"address",type:"address"},{name:"ancestors",internalType:"uint256",type:"uint256"},{name:"maxAncestors",internalType:"uint256",type:"uint256"}],name:"LicensingModule__TooManyAncestorsForMintingLicenseTokenAllowRegisterDerivative"},{type:"error",inputs:[],name:"LicensingModule__ZeroAccessManager"},{type:"error",inputs:[],name:"LicensingModule__ZeroDisputeModule"},{type:"error",inputs:[],name:"LicensingModule__ZeroIPGraphACL"},{type:"error",inputs:[],name:"LicensingModule__ZeroLicenseRegistry"},{type:"error",inputs:[],name:"LicensingModule__ZeroLicenseTemplate"},{type:"error",inputs:[],name:"LicensingModule__ZeroLicenseToken"},{type:"error",inputs:[],name:"LicensingModule__ZeroModuleRegistry"},{type:"error",inputs:[],name:"LicensingModule__ZeroRoyaltyModule"},{type:"error",inputs:[],name:"NotInitializing"},{type:"error",inputs:[],name:"ReentrancyGuardReentrantCall"},{type:"error",inputs:[],name:"UUPSUnauthorizedCallContext"},{type:"error",inputs:[{name:"slot",internalType:"bytes32",type:"bytes32"}],name:"UUPSUnsupportedProxiableUUID"},{type:"event",anonymous:!1,inputs:[{name:"authority",internalType:"address",type:"address",indexed:!1}],name:"AuthorityUpdated"},{type:"event",anonymous:!1,inputs:[{name:"caller",internalType:"address",type:"address",indexed:!0},{name:"childIpId",internalType:"address",type:"address",indexed:!0},{name:"licenseTokenIds",internalType:"uint256[]",type:"uint256[]",indexed:!1},{name:"parentIpIds",internalType:"address[]",type:"address[]",indexed:!1},{name:"licenseTermsIds",internalType:"uint256[]",type:"uint256[]",indexed:!1},{name:"licenseTemplate",internalType:"address",type:"address",indexed:!1}],name:"DerivativeRegistered"},{type:"event",anonymous:!1,inputs:[{name:"version",internalType:"uint64",type:"uint64",indexed:!1}],name:"Initialized"},{type:"event",anonymous:!1,inputs:[{name:"caller",internalType:"address",type:"address",indexed:!0},{name:"ipId",internalType:"address",type:"address",indexed:!0},{name:"licenseTemplate",internalType:"address",type:"address",indexed:!1},{name:"licenseTermsId",internalType:"uint256",type:"uint256",indexed:!1}],name:"LicenseTermsAttached"},{type:"event",anonymous:!1,inputs:[{name:"caller",internalType:"address",type:"address",indexed:!0},{name:"licensorIpId",internalType:"address",type:"address",indexed:!0},{name:"licenseTemplate",internalType:"address",type:"address",indexed:!1},{name:"licenseTermsId",internalType:"uint256",type:"uint256",indexed:!0},{name:"amount",internalType:"uint256",type:"uint256",indexed:!1},{name:"receiver",internalType:"address",type:"address",indexed:!1},{name:"startLicenseTokenId",internalType:"uint256",type:"uint256",indexed:!1}],name:"LicenseTokensMinted"},{type:"event",anonymous:!1,inputs:[{name:"account",internalType:"address",type:"address",indexed:!1}],name:"Paused"},{type:"event",anonymous:!1,inputs:[{name:"account",internalType:"address",type:"address",indexed:!1}],name:"Unpaused"},{type:"event",anonymous:!1,inputs:[{name:"implementation",internalType:"address",type:"address",indexed:!0}],name:"Upgraded"},{type:"function",inputs:[],name:"ACCESS_CONTROLLER",outputs:[{name:"",internalType:"contract IAccessController",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"DISPUTE_MODULE",outputs:[{name:"",internalType:"contract IDisputeModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"IP_ASSET_REGISTRY",outputs:[{name:"",internalType:"contract IIPAssetRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"IP_GRAPH_ACL",outputs:[{name:"",internalType:"contract IPGraphACL",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"LICENSE_NFT",outputs:[{name:"",internalType:"contract ILicenseToken",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"LICENSE_REGISTRY",outputs:[{name:"",internalType:"contract ILicenseRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"MODULE_REGISTRY",outputs:[{name:"",internalType:"contract IModuleRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"ROYALTY_MODULE",outputs:[{name:"",internalType:"contract RoyaltyModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"UPGRADE_INTERFACE_VERSION",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[{name:"accessManager",internalType:"address",type:"address"}],name:"__ProtocolPausable_init",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"}],name:"attachDefaultLicenseTerms",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"}],name:"attachLicenseTerms",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"authority",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"accessManager",internalType:"address",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"isConsumingScheduledOp",outputs:[{name:"",internalType:"bytes4",type:"bytes4"}],stateMutability:"view"},{type:"function",inputs:[{name:"licensorIpId",internalType:"address",type:"address"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"},{name:"amount",internalType:"uint256",type:"uint256"},{name:"receiver",internalType:"address",type:"address"},{name:"royaltyContext",internalType:"bytes",type:"bytes"},{name:"maxMintingFee",internalType:"uint256",type:"uint256"},{name:"maxRevenueShare",internalType:"uint32",type:"uint32"}],name:"mintLicenseTokens",outputs:[{name:"startLicenseTokenId",internalType:"uint256",type:"uint256"}],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"name",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"paused",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"licensorIpId",internalType:"address",type:"address"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"},{name:"amount",internalType:"uint256",type:"uint256"},{name:"receiver",internalType:"address",type:"address"},{name:"royaltyContext",internalType:"bytes",type:"bytes"}],name:"predictMintingLicenseFee",outputs:[{name:"currencyToken",internalType:"address",type:"address"},{name:"tokenAmount",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[],name:"proxiableUUID",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"childIpId",internalType:"address",type:"address"},{name:"parentIpIds",internalType:"address[]",type:"address[]"},{name:"licenseTermsIds",internalType:"uint256[]",type:"uint256[]"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"royaltyContext",internalType:"bytes",type:"bytes"},{name:"maxMintingFee",internalType:"uint256",type:"uint256"},{name:"maxRts",internalType:"uint32",type:"uint32"},{name:"maxRevenueShare",internalType:"uint32",type:"uint32"}],name:"registerDerivative",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"childIpId",internalType:"address",type:"address"},{name:"licenseTokenIds",internalType:"uint256[]",type:"uint256[]"},{name:"royaltyContext",internalType:"bytes",type:"bytes"},{name:"maxRts",internalType:"uint32",type:"uint32"}],name:"registerDerivativeWithLicenseTokens",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newAuthority",internalType:"address",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"},{name:"licensingConfig",internalType:"struct Licensing.LicensingConfig",type:"tuple",components:[{name:"isSet",internalType:"bool",type:"bool"},{name:"mintingFee",internalType:"uint256",type:"uint256"},{name:"licensingHook",internalType:"address",type:"address"},{name:"hookData",internalType:"bytes",type:"bytes"},{name:"commercialRevShare",internalType:"uint32",type:"uint32"},{name:"disabled",internalType:"bool",type:"bool"},{name:"expectMinimumGroupRewardShare",internalType:"uint32",type:"uint32"},{name:"expectGroupRewardPool",internalType:"address",type:"address"}]}],name:"setLicensingConfig",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"interfaceId",internalType:"bytes4",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newImplementation",internalType:"address",type:"address"},{name:"data",internalType:"bytes",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable"}],cM={1315:"0x04fbd8a2e56dd85CFD5500A4A4DfA955B9f1dE6f",1514:"0x04fbd8a2e56dd85CFD5500A4A4DfA955B9f1dE6f"},jRe=[{type:"constructor",inputs:[],stateMutability:"nonpayable"},{type:"error",inputs:[{name:"authority",internalType:"address",type:"address"}],name:"AccessManagedInvalidAuthority"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"delay",internalType:"uint32",type:"uint32"}],name:"AccessManagedRequiredDelay"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"}],name:"AccessManagedUnauthorized"},{type:"error",inputs:[{name:"target",internalType:"address",type:"address"}],name:"AddressEmptyCode"},{type:"error",inputs:[{name:"implementation",internalType:"address",type:"address"}],name:"ERC1967InvalidImplementation"},{type:"error",inputs:[],name:"ERC1967NonPayable"},{type:"error",inputs:[],name:"FailedCall"},{type:"error",inputs:[],name:"InvalidInitialization"},{type:"error",inputs:[],name:"ModuleRegistry__InterfaceIdZero"},{type:"error",inputs:[],name:"ModuleRegistry__ModuleAddressNotContract"},{type:"error",inputs:[],name:"ModuleRegistry__ModuleAddressZeroAddress"},{type:"error",inputs:[],name:"ModuleRegistry__ModuleAlreadyRegistered"},{type:"error",inputs:[],name:"ModuleRegistry__ModuleNotRegistered"},{type:"error",inputs:[],name:"ModuleRegistry__ModuleNotSupportExpectedModuleTypeInterfaceId"},{type:"error",inputs:[],name:"ModuleRegistry__ModuleTypeAlreadyRegistered"},{type:"error",inputs:[],name:"ModuleRegistry__ModuleTypeEmptyString"},{type:"error",inputs:[],name:"ModuleRegistry__ModuleTypeNotRegistered"},{type:"error",inputs:[],name:"ModuleRegistry__NameAlreadyRegistered"},{type:"error",inputs:[],name:"ModuleRegistry__NameDoesNotMatch"},{type:"error",inputs:[],name:"ModuleRegistry__NameEmptyString"},{type:"error",inputs:[],name:"ModuleRegistry__ZeroAccessManager"},{type:"error",inputs:[],name:"NotInitializing"},{type:"error",inputs:[],name:"UUPSUnauthorizedCallContext"},{type:"error",inputs:[{name:"slot",internalType:"bytes32",type:"bytes32"}],name:"UUPSUnsupportedProxiableUUID"},{type:"event",anonymous:!1,inputs:[{name:"authority",internalType:"address",type:"address",indexed:!1}],name:"AuthorityUpdated"},{type:"event",anonymous:!1,inputs:[{name:"version",internalType:"uint64",type:"uint64",indexed:!1}],name:"Initialized"},{type:"event",anonymous:!1,inputs:[{name:"name",internalType:"string",type:"string",indexed:!1},{name:"module",internalType:"address",type:"address",indexed:!0},{name:"moduleTypeInterfaceId",internalType:"bytes4",type:"bytes4",indexed:!0},{name:"moduleType",internalType:"string",type:"string",indexed:!1}],name:"ModuleAdded"},{type:"event",anonymous:!1,inputs:[{name:"name",internalType:"string",type:"string",indexed:!1},{name:"module",internalType:"address",type:"address",indexed:!0}],name:"ModuleRemoved"},{type:"event",anonymous:!1,inputs:[{name:"implementation",internalType:"address",type:"address",indexed:!0}],name:"Upgraded"},{type:"function",inputs:[],name:"UPGRADE_INTERFACE_VERSION",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[],name:"authority",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"name",internalType:"string",type:"string"}],name:"getModule",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"moduleAddress",internalType:"address",type:"address"}],name:"getModuleType",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[{name:"moduleType",internalType:"string",type:"string"}],name:"getModuleTypeInterfaceId",outputs:[{name:"",internalType:"bytes4",type:"bytes4"}],stateMutability:"view"},{type:"function",inputs:[{name:"accessManager",internalType:"address",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"isConsumingScheduledOp",outputs:[{name:"",internalType:"bytes4",type:"bytes4"}],stateMutability:"view"},{type:"function",inputs:[{name:"moduleAddress",internalType:"address",type:"address"}],name:"isRegistered",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[],name:"proxiableUUID",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"name",internalType:"string",type:"string"},{name:"moduleAddress",internalType:"address",type:"address"}],name:"registerModule",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"name",internalType:"string",type:"string"},{name:"moduleAddress",internalType:"address",type:"address"},{name:"moduleType",internalType:"string",type:"string"}],name:"registerModule",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"name",internalType:"string",type:"string"},{name:"interfaceId",internalType:"bytes4",type:"bytes4"}],name:"registerModuleType",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"name",internalType:"string",type:"string"}],name:"removeModule",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"name",internalType:"string",type:"string"}],name:"removeModuleType",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newAuthority",internalType:"address",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newImplementation",internalType:"address",type:"address"},{name:"data",internalType:"bytes",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable"}],_Re={1315:"0x022DBAAeA5D8fB31a0Ad793335e39Ced5D631fa5",1514:"0x022DBAAeA5D8fB31a0Ad793335e39Ced5D631fa5"},dE=[{type:"function",inputs:[{name:"calls",internalType:"struct Multicall3.Call[]",type:"tuple[]",components:[{name:"target",internalType:"address",type:"address"},{name:"callData",internalType:"bytes",type:"bytes"}]}],name:"aggregate",outputs:[{name:"blockNumber",internalType:"uint256",type:"uint256"},{name:"returnData",internalType:"bytes[]",type:"bytes[]"}],stateMutability:"payable"},{type:"function",inputs:[{name:"calls",internalType:"struct Multicall3.Call3[]",type:"tuple[]",components:[{name:"target",internalType:"address",type:"address"},{name:"allowFailure",internalType:"bool",type:"bool"},{name:"callData",internalType:"bytes",type:"bytes"}]}],name:"aggregate3",outputs:[{name:"returnData",internalType:"struct Multicall3.Result[]",type:"tuple[]",components:[{name:"success",internalType:"bool",type:"bool"},{name:"returnData",internalType:"bytes",type:"bytes"}]}],stateMutability:"payable"},{type:"function",inputs:[{name:"calls",internalType:"struct Multicall3.Call3Value[]",type:"tuple[]",components:[{name:"target",internalType:"address",type:"address"},{name:"allowFailure",internalType:"bool",type:"bool"},{name:"value",internalType:"uint256",type:"uint256"},{name:"callData",internalType:"bytes",type:"bytes"}]}],name:"aggregate3Value",outputs:[{name:"returnData",internalType:"struct Multicall3.Result[]",type:"tuple[]",components:[{name:"success",internalType:"bool",type:"bool"},{name:"returnData",internalType:"bytes",type:"bytes"}]}],stateMutability:"payable"},{type:"function",inputs:[{name:"calls",internalType:"struct Multicall3.Call[]",type:"tuple[]",components:[{name:"target",internalType:"address",type:"address"},{name:"callData",internalType:"bytes",type:"bytes"}]}],name:"blockAndAggregate",outputs:[{name:"blockNumber",internalType:"uint256",type:"uint256"},{name:"blockHash",internalType:"bytes32",type:"bytes32"},{name:"returnData",internalType:"struct Multicall3.Result[]",type:"tuple[]",components:[{name:"success",internalType:"bool",type:"bool"},{name:"returnData",internalType:"bytes",type:"bytes"}]}],stateMutability:"payable"},{type:"function",inputs:[],name:"getBasefee",outputs:[{name:"basefee",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"blockNumber",internalType:"uint256",type:"uint256"}],name:"getBlockHash",outputs:[{name:"blockHash",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[],name:"getBlockNumber",outputs:[{name:"blockNumber",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[],name:"getChainId",outputs:[{name:"chainid",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[],name:"getCurrentBlockCoinbase",outputs:[{name:"coinbase",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"getCurrentBlockDifficulty",outputs:[{name:"difficulty",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[],name:"getCurrentBlockGasLimit",outputs:[{name:"gaslimit",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[],name:"getCurrentBlockTimestamp",outputs:[{name:"timestamp",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"addr",internalType:"address",type:"address"}],name:"getEthBalance",outputs:[{name:"balance",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[],name:"getLastBlockHash",outputs:[{name:"blockHash",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"requireSuccess",internalType:"bool",type:"bool"},{name:"calls",internalType:"struct Multicall3.Call[]",type:"tuple[]",components:[{name:"target",internalType:"address",type:"address"},{name:"callData",internalType:"bytes",type:"bytes"}]}],name:"tryAggregate",outputs:[{name:"returnData",internalType:"struct Multicall3.Result[]",type:"tuple[]",components:[{name:"success",internalType:"bool",type:"bool"},{name:"returnData",internalType:"bytes",type:"bytes"}]}],stateMutability:"payable"},{type:"function",inputs:[{name:"requireSuccess",internalType:"bool",type:"bool"},{name:"calls",internalType:"struct Multicall3.Call[]",type:"tuple[]",components:[{name:"target",internalType:"address",type:"address"},{name:"callData",internalType:"bytes",type:"bytes"}]}],name:"tryBlockAndAggregate",outputs:[{name:"blockNumber",internalType:"uint256",type:"uint256"},{name:"blockHash",internalType:"bytes32",type:"bytes32"},{name:"returnData",internalType:"struct Multicall3.Result[]",type:"tuple[]",components:[{name:"success",internalType:"bool",type:"bool"},{name:"returnData",internalType:"bytes",type:"bytes"}]}],stateMutability:"payable"}],DRe={1315:"0xcA11bde05977b3631167028862bE2a173976CA11",1514:"0xcA11bde05977b3631167028862bE2a173976CA11"},dt=[{type:"constructor",inputs:[{name:"accessController",internalType:"address",type:"address"},{name:"ipAccountRegistry",internalType:"address",type:"address"},{name:"licenseRegistry",internalType:"address",type:"address"},{name:"royaltyModule",internalType:"address",type:"address"},{name:"moduleRegistry",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"error",inputs:[{name:"ipAccount",internalType:"address",type:"address"}],name:"AccessControlled__NotIpAccount"},{type:"error",inputs:[],name:"AccessControlled__ZeroAddress"},{type:"error",inputs:[{name:"authority",internalType:"address",type:"address"}],name:"AccessManagedInvalidAuthority"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"delay",internalType:"uint32",type:"uint32"}],name:"AccessManagedRequiredDelay"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"}],name:"AccessManagedUnauthorized"},{type:"error",inputs:[{name:"target",internalType:"address",type:"address"}],name:"AddressEmptyCode"},{type:"error",inputs:[{name:"implementation",internalType:"address",type:"address"}],name:"ERC1967InvalidImplementation"},{type:"error",inputs:[],name:"ERC1967NonPayable"},{type:"error",inputs:[],name:"FailedCall"},{type:"error",inputs:[],name:"InvalidInitialization"},{type:"error",inputs:[],name:"NotInitializing"},{type:"error",inputs:[],name:"PILicenseTemplate__CommercialDisabled_CantAddAttribution"},{type:"error",inputs:[],name:"PILicenseTemplate__CommercialDisabled_CantAddCommercializers"},{type:"error",inputs:[],name:"PILicenseTemplate__CommercialDisabled_CantAddDerivativeRevCeiling"},{type:"error",inputs:[],name:"PILicenseTemplate__CommercialDisabled_CantAddRevCeiling"},{type:"error",inputs:[],name:"PILicenseTemplate__CommercialDisabled_CantAddRevShare"},{type:"error",inputs:[],name:"PILicenseTemplate__CommercialDisabled_CantAddRoyaltyPolicy"},{type:"error",inputs:[],name:"PILicenseTemplate__CommercialEnabled_RoyaltyPolicyRequired"},{type:"error",inputs:[{name:"checker",internalType:"address",type:"address"}],name:"PILicenseTemplate__CommercializerCheckerDoesNotSupportHook"},{type:"error",inputs:[{name:"commercializerChecker",internalType:"address",type:"address"}],name:"PILicenseTemplate__CommercializerCheckerNotRegistered"},{type:"error",inputs:[],name:"PILicenseTemplate__CurrencyTokenNotWhitelisted"},{type:"error",inputs:[],name:"PILicenseTemplate__DerivativesDisabled_CantAddApproval"},{type:"error",inputs:[],name:"PILicenseTemplate__DerivativesDisabled_CantAddAttribution"},{type:"error",inputs:[],name:"PILicenseTemplate__DerivativesDisabled_CantAddDerivativeRevCeiling"},{type:"error",inputs:[],name:"PILicenseTemplate__DerivativesDisabled_CantAddReciprocal"},{type:"error",inputs:[],name:"PILicenseTemplate__MintingFeeRequiresRoyaltyPolicy"},{type:"error",inputs:[],name:"PILicenseTemplate__RoyaltyPolicyNotWhitelisted"},{type:"error",inputs:[],name:"PILicenseTemplate__RoyaltyPolicyRequiresCurrencyToken"},{type:"error",inputs:[],name:"PILicenseTemplate__ZeroAccessManager"},{type:"error",inputs:[],name:"PILicenseTemplate__ZeroLicenseRegistry"},{type:"error",inputs:[],name:"PILicenseTemplate__ZeroRoyaltyModule"},{type:"error",inputs:[],name:"ReentrancyGuardReentrantCall"},{type:"error",inputs:[],name:"UUPSUnauthorizedCallContext"},{type:"error",inputs:[{name:"slot",internalType:"bytes32",type:"bytes32"}],name:"UUPSUnsupportedProxiableUUID"},{type:"event",anonymous:!1,inputs:[{name:"authority",internalType:"address",type:"address",indexed:!1}],name:"AuthorityUpdated"},{type:"event",anonymous:!1,inputs:[{name:"licenseTermsId",internalType:"uint256",type:"uint256",indexed:!0},{name:"ipId",internalType:"address",type:"address",indexed:!0},{name:"caller",internalType:"address",type:"address",indexed:!0},{name:"approved",internalType:"bool",type:"bool",indexed:!1}],name:"DerivativeApproved"},{type:"event",anonymous:!1,inputs:[{name:"version",internalType:"uint64",type:"uint64",indexed:!1}],name:"Initialized"},{type:"event",anonymous:!1,inputs:[{name:"licenseTermsId",internalType:"uint256",type:"uint256",indexed:!0},{name:"licenseTemplate",internalType:"address",type:"address",indexed:!0},{name:"licenseTerms",internalType:"bytes",type:"bytes",indexed:!1}],name:"LicenseTermsRegistered"},{type:"event",anonymous:!1,inputs:[{name:"implementation",internalType:"address",type:"address",indexed:!0}],name:"Upgraded"},{type:"function",inputs:[],name:"ACCESS_CONTROLLER",outputs:[{name:"",internalType:"contract IAccessController",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"IP_ASSET_REGISTRY",outputs:[{name:"",internalType:"contract IIPAssetRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"LICENSE_REGISTRY",outputs:[{name:"",internalType:"contract ILicenseRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"MODULE_REGISTRY",outputs:[{name:"",internalType:"contract IModuleRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"ROYALTY_MODULE",outputs:[{name:"",internalType:"contract IRoyaltyModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"TERMS_RENDERER",outputs:[{name:"",internalType:"contract PILTermsRenderer",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"UPGRADE_INTERFACE_VERSION",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[{name:"licenseTermsId",internalType:"uint256",type:"uint256"}],name:"allowDerivativeRegistration",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[],name:"authority",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"licenseTermsId",internalType:"uint256",type:"uint256"}],name:"canAttachToGroupIp",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"licenseTermsId",internalType:"uint256",type:"uint256"},{name:"newRoyaltyPercent",internalType:"uint32",type:"uint32"}],name:"canOverrideRoyaltyPercent",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"licenseTermsId",internalType:"uint256",type:"uint256"}],name:"exists",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"licenseTermsIds",internalType:"uint256[]",type:"uint256[]"},{name:"start",internalType:"uint256",type:"uint256"}],name:"getEarlierExpireTime",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"licenseTermsId",internalType:"uint256",type:"uint256"},{name:"start",internalType:"uint256",type:"uint256"}],name:"getExpireTime",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"selectedLicenseTermsId",internalType:"uint256",type:"uint256"}],name:"getLicenseTerms",outputs:[{name:"terms",internalType:"struct PILTerms",type:"tuple",components:[{name:"transferable",internalType:"bool",type:"bool"},{name:"royaltyPolicy",internalType:"address",type:"address"},{name:"defaultMintingFee",internalType:"uint256",type:"uint256"},{name:"expiration",internalType:"uint256",type:"uint256"},{name:"commercialUse",internalType:"bool",type:"bool"},{name:"commercialAttribution",internalType:"bool",type:"bool"},{name:"commercializerChecker",internalType:"address",type:"address"},{name:"commercializerCheckerData",internalType:"bytes",type:"bytes"},{name:"commercialRevShare",internalType:"uint32",type:"uint32"},{name:"commercialRevCeiling",internalType:"uint256",type:"uint256"},{name:"derivativesAllowed",internalType:"bool",type:"bool"},{name:"derivativesAttribution",internalType:"bool",type:"bool"},{name:"derivativesApproval",internalType:"bool",type:"bool"},{name:"derivativesReciprocal",internalType:"bool",type:"bool"},{name:"derivativeRevCeiling",internalType:"uint256",type:"uint256"},{name:"currency",internalType:"address",type:"address"},{name:"uri",internalType:"string",type:"string"}]}],stateMutability:"view"},{type:"function",inputs:[{name:"terms",internalType:"struct PILTerms",type:"tuple",components:[{name:"transferable",internalType:"bool",type:"bool"},{name:"royaltyPolicy",internalType:"address",type:"address"},{name:"defaultMintingFee",internalType:"uint256",type:"uint256"},{name:"expiration",internalType:"uint256",type:"uint256"},{name:"commercialUse",internalType:"bool",type:"bool"},{name:"commercialAttribution",internalType:"bool",type:"bool"},{name:"commercializerChecker",internalType:"address",type:"address"},{name:"commercializerCheckerData",internalType:"bytes",type:"bytes"},{name:"commercialRevShare",internalType:"uint32",type:"uint32"},{name:"commercialRevCeiling",internalType:"uint256",type:"uint256"},{name:"derivativesAllowed",internalType:"bool",type:"bool"},{name:"derivativesAttribution",internalType:"bool",type:"bool"},{name:"derivativesApproval",internalType:"bool",type:"bool"},{name:"derivativesReciprocal",internalType:"bool",type:"bool"},{name:"derivativeRevCeiling",internalType:"uint256",type:"uint256"},{name:"currency",internalType:"address",type:"address"},{name:"uri",internalType:"string",type:"string"}]}],name:"getLicenseTermsId",outputs:[{name:"selectedLicenseTermsId",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"licenseTermsId",internalType:"uint256",type:"uint256"}],name:"getLicenseTermsURI",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[],name:"getMetadataURI",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[{name:"licenseTermsId",internalType:"uint256",type:"uint256"}],name:"getRoyaltyPolicy",outputs:[{name:"royaltyPolicy",internalType:"address",type:"address"},{name:"royaltyPercent",internalType:"uint32",type:"uint32"},{name:"mintingFee",internalType:"uint256",type:"uint256"},{name:"currency",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"accessManager",internalType:"address",type:"address"},{name:"name",internalType:"string",type:"string"},{name:"metadataURI",internalType:"string",type:"string"}],name:"initialize",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"isConsumingScheduledOp",outputs:[{name:"",internalType:"bytes4",type:"bytes4"}],stateMutability:"view"},{type:"function",inputs:[{name:"parentIpId",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"},{name:"childIpId",internalType:"address",type:"address"}],name:"isDerivativeApproved",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"licenseTermsId",internalType:"uint256",type:"uint256"}],name:"isLicenseTransferable",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[],name:"name",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[],name:"proxiableUUID",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"terms",internalType:"struct PILTerms",type:"tuple",components:[{name:"transferable",internalType:"bool",type:"bool"},{name:"royaltyPolicy",internalType:"address",type:"address"},{name:"defaultMintingFee",internalType:"uint256",type:"uint256"},{name:"expiration",internalType:"uint256",type:"uint256"},{name:"commercialUse",internalType:"bool",type:"bool"},{name:"commercialAttribution",internalType:"bool",type:"bool"},{name:"commercializerChecker",internalType:"address",type:"address"},{name:"commercializerCheckerData",internalType:"bytes",type:"bytes"},{name:"commercialRevShare",internalType:"uint32",type:"uint32"},{name:"commercialRevCeiling",internalType:"uint256",type:"uint256"},{name:"derivativesAllowed",internalType:"bool",type:"bool"},{name:"derivativesAttribution",internalType:"bool",type:"bool"},{name:"derivativesApproval",internalType:"bool",type:"bool"},{name:"derivativesReciprocal",internalType:"bool",type:"bool"},{name:"derivativeRevCeiling",internalType:"uint256",type:"uint256"},{name:"currency",internalType:"address",type:"address"},{name:"uri",internalType:"string",type:"string"}]}],name:"registerLicenseTerms",outputs:[{name:"id",internalType:"uint256",type:"uint256"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"parentIpId",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"},{name:"childIpId",internalType:"address",type:"address"},{name:"approved",internalType:"bool",type:"bool"}],name:"setApproval",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newAuthority",internalType:"address",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"interfaceId",internalType:"bytes4",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"licenseTermsId",internalType:"uint256",type:"uint256"}],name:"toJson",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[],name:"totalRegisteredLicenseTerms",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"newImplementation",internalType:"address",type:"address"},{name:"data",internalType:"bytes",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable"},{type:"function",inputs:[{name:"licenseTermsIds",internalType:"uint256[]",type:"uint256[]"}],name:"verifyCompatibleLicenses",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"licenseTermsId",internalType:"uint256",type:"uint256"},{name:"licensee",internalType:"address",type:"address"},{name:"licensorIpId",internalType:"address",type:"address"},{name:"",internalType:"uint256",type:"uint256"}],name:"verifyMintLicenseToken",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"childIpId",internalType:"address",type:"address"},{name:"parentIpId",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"},{name:"licensee",internalType:"address",type:"address"}],name:"verifyRegisterDerivative",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"childIpId",internalType:"address",type:"address"},{name:"parentIpIds",internalType:"address[]",type:"address[]"},{name:"licenseTermsIds",internalType:"uint256[]",type:"uint256[]"},{name:"caller",internalType:"address",type:"address"}],name:"verifyRegisterDerivativeForAllParents",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"nonpayable"}],jZ={1315:"0x2E896b0b2Fdb7457499B56AAaA4AE55BCB4Cd316",1514:"0x2E896b0b2Fdb7457499B56AAaA4AE55BCB4Cd316"},io=[{type:"constructor",inputs:[{name:"accessController",internalType:"address",type:"address"},{name:"coreMetadataModule",internalType:"address",type:"address"},{name:"ipAssetRegistry",internalType:"address",type:"address"},{name:"licenseRegistry",internalType:"address",type:"address"},{name:"licensingModule",internalType:"address",type:"address"},{name:"pilTemplate",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"error",inputs:[{name:"authority",internalType:"address",type:"address"}],name:"AccessManagedInvalidAuthority"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"delay",internalType:"uint32",type:"uint32"}],name:"AccessManagedRequiredDelay"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"}],name:"AccessManagedUnauthorized"},{type:"error",inputs:[{name:"target",internalType:"address",type:"address"}],name:"AddressEmptyCode"},{type:"error",inputs:[{name:"implementation",internalType:"address",type:"address"}],name:"ERC1967InvalidImplementation"},{type:"error",inputs:[],name:"ERC1967NonPayable"},{type:"error",inputs:[],name:"FailedCall"},{type:"error",inputs:[],name:"InvalidInitialization"},{type:"error",inputs:[],name:"NotInitializing"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"signer",internalType:"address",type:"address"}],name:"RegistrationWorkflows__CallerNotSigner"},{type:"error",inputs:[],name:"RegistrationWorkflows__ZeroAddressParam"},{type:"error",inputs:[],name:"UUPSUnauthorizedCallContext"},{type:"error",inputs:[{name:"slot",internalType:"bytes32",type:"bytes32"}],name:"UUPSUnsupportedProxiableUUID"},{type:"error",inputs:[],name:"Workflow__CallerNotAuthorizedToMint"},{type:"event",anonymous:!1,inputs:[{name:"authority",internalType:"address",type:"address",indexed:!1}],name:"AuthorityUpdated"},{type:"event",anonymous:!1,inputs:[{name:"spgNftContract",internalType:"address",type:"address",indexed:!0}],name:"CollectionCreated"},{type:"event",anonymous:!1,inputs:[{name:"version",internalType:"uint64",type:"uint64",indexed:!1}],name:"Initialized"},{type:"event",anonymous:!1,inputs:[{name:"implementation",internalType:"address",type:"address",indexed:!0}],name:"Upgraded"},{type:"function",inputs:[],name:"ACCESS_CONTROLLER",outputs:[{name:"",internalType:"contract IAccessController",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"CORE_METADATA_MODULE",outputs:[{name:"",internalType:"contract ICoreMetadataModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"IP_ASSET_REGISTRY",outputs:[{name:"",internalType:"contract IIPAssetRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"LICENSE_REGISTRY",outputs:[{name:"",internalType:"contract ILicenseRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"LICENSING_MODULE",outputs:[{name:"",internalType:"contract ILicensingModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"PIL_TEMPLATE",outputs:[{name:"",internalType:"contract IPILicenseTemplate",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"UPGRADE_INTERFACE_VERSION",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[],name:"authority",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"spgNftInitParams",internalType:"struct ISPGNFT.InitParams",type:"tuple",components:[{name:"name",internalType:"string",type:"string"},{name:"symbol",internalType:"string",type:"string"},{name:"baseURI",internalType:"string",type:"string"},{name:"contractURI",internalType:"string",type:"string"},{name:"maxSupply",internalType:"uint32",type:"uint32"},{name:"mintFee",internalType:"uint256",type:"uint256"},{name:"mintFeeToken",internalType:"address",type:"address"},{name:"mintFeeRecipient",internalType:"address",type:"address"},{name:"owner",internalType:"address",type:"address"},{name:"mintOpen",internalType:"bool",type:"bool"},{name:"isPublicMinting",internalType:"bool",type:"bool"}]}],name:"createCollection",outputs:[{name:"spgNftContract",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"accessManager",internalType:"address",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"isConsumingScheduledOp",outputs:[{name:"",internalType:"bytes4",type:"bytes4"}],stateMutability:"view"},{type:"function",inputs:[{name:"spgNftContract",internalType:"address",type:"address"},{name:"recipient",internalType:"address",type:"address"},{name:"ipMetadata",internalType:"struct WorkflowStructs.IPMetadata",type:"tuple",components:[{name:"ipMetadataURI",internalType:"string",type:"string"},{name:"ipMetadataHash",internalType:"bytes32",type:"bytes32"},{name:"nftMetadataURI",internalType:"string",type:"string"},{name:"nftMetadataHash",internalType:"bytes32",type:"bytes32"}]},{name:"allowDuplicates",internalType:"bool",type:"bool"}],name:"mintAndRegisterIp",outputs:[{name:"ipId",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"data",internalType:"bytes[]",type:"bytes[]"}],name:"multicall",outputs:[{name:"results",internalType:"bytes[]",type:"bytes[]"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"",internalType:"address",type:"address"},{name:"",internalType:"address",type:"address"},{name:"",internalType:"uint256",type:"uint256"},{name:"",internalType:"bytes",type:"bytes"}],name:"onERC721Received",outputs:[{name:"",internalType:"bytes4",type:"bytes4"}],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"proxiableUUID",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"nftContract",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"},{name:"ipMetadata",internalType:"struct WorkflowStructs.IPMetadata",type:"tuple",components:[{name:"ipMetadataURI",internalType:"string",type:"string"},{name:"ipMetadataHash",internalType:"bytes32",type:"bytes32"},{name:"nftMetadataURI",internalType:"string",type:"string"},{name:"nftMetadataHash",internalType:"bytes32",type:"bytes32"}]},{name:"sigMetadata",internalType:"struct WorkflowStructs.SignatureData",type:"tuple",components:[{name:"signer",internalType:"address",type:"address"},{name:"deadline",internalType:"uint256",type:"uint256"},{name:"signature",internalType:"bytes",type:"bytes"}]}],name:"registerIp",outputs:[{name:"ipId",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newAuthority",internalType:"address",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newNftContractBeacon",internalType:"address",type:"address"}],name:"setNftContractBeacon",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newNftContract",internalType:"address",type:"address"}],name:"upgradeCollections",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newImplementation",internalType:"address",type:"address"},{name:"data",internalType:"bytes",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable"}],_Z={1315:"0xbe39E1C756e921BD25DF86e7AAa31106d1eb0424",1514:"0xbe39E1C756e921BD25DF86e7AAa31106d1eb0424"},vc=[{type:"constructor",inputs:[{name:"licensingModule",internalType:"address",type:"address"},{name:"disputeModule",internalType:"address",type:"address"},{name:"licenseRegistry",internalType:"address",type:"address"},{name:"ipAssetRegistry",internalType:"address",type:"address"},{name:"ipGraphAcl",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"error",inputs:[{name:"authority",internalType:"address",type:"address"}],name:"AccessManagedInvalidAuthority"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"delay",internalType:"uint32",type:"uint32"}],name:"AccessManagedRequiredDelay"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"}],name:"AccessManagedUnauthorized"},{type:"error",inputs:[{name:"target",internalType:"address",type:"address"}],name:"AddressEmptyCode"},{type:"error",inputs:[{name:"implementation",internalType:"address",type:"address"}],name:"ERC1967InvalidImplementation"},{type:"error",inputs:[],name:"ERC1967NonPayable"},{type:"error",inputs:[],name:"EnforcedPause"},{type:"error",inputs:[],name:"ExpectedPause"},{type:"error",inputs:[],name:"FailedCall"},{type:"error",inputs:[],name:"InvalidInitialization"},{type:"error",inputs:[],name:"NotInitializing"},{type:"error",inputs:[],name:"ReentrancyGuardReentrantCall"},{type:"error",inputs:[],name:"RoyaltyModule__AboveAccumulatedRoyaltyPoliciesLimit"},{type:"error",inputs:[],name:"RoyaltyModule__AboveMaxPercent"},{type:"error",inputs:[],name:"RoyaltyModule__AboveMaxRts"},{type:"error",inputs:[],name:"RoyaltyModule__CallFailed"},{type:"error",inputs:[{name:"groupId",internalType:"address",type:"address"},{name:"rewardPool",internalType:"address",type:"address"}],name:"RoyaltyModule__GroupRewardPoolNotWhitelisted"},{type:"error",inputs:[],name:"RoyaltyModule__InvalidExternalRoyaltyPolicy"},{type:"error",inputs:[],name:"RoyaltyModule__IpExpired"},{type:"error",inputs:[],name:"RoyaltyModule__IpIsTagged"},{type:"error",inputs:[],name:"RoyaltyModule__NoParentsOnLinking"},{type:"error",inputs:[],name:"RoyaltyModule__NotAllowedCaller"},{type:"error",inputs:[],name:"RoyaltyModule__NotWhitelistedOrRegisteredRoyaltyPolicy"},{type:"error",inputs:[],name:"RoyaltyModule__NotWhitelistedRoyaltyToken"},{type:"error",inputs:[],name:"RoyaltyModule__PaymentAmountIsTooLow"},{type:"error",inputs:[],name:"RoyaltyModule__PolicyAlreadyRegisteredAsExternalRoyaltyPolicy"},{type:"error",inputs:[],name:"RoyaltyModule__PolicyAlreadyWhitelistedOrRegistered"},{type:"error",inputs:[],name:"RoyaltyModule__UnlinkableToParents"},{type:"error",inputs:[],name:"RoyaltyModule__ZeroAccessManager"},{type:"error",inputs:[],name:"RoyaltyModule__ZeroAccumulatedRoyaltyPoliciesLimit"},{type:"error",inputs:[],name:"RoyaltyModule__ZeroAmount"},{type:"error",inputs:[],name:"RoyaltyModule__ZeroDisputeModule"},{type:"error",inputs:[],name:"RoyaltyModule__ZeroIpAssetRegistry"},{type:"error",inputs:[],name:"RoyaltyModule__ZeroIpGraphAcl"},{type:"error",inputs:[],name:"RoyaltyModule__ZeroLicenseRegistry"},{type:"error",inputs:[],name:"RoyaltyModule__ZeroLicensingModule"},{type:"error",inputs:[],name:"RoyaltyModule__ZeroParentIpId"},{type:"error",inputs:[],name:"RoyaltyModule__ZeroReceiverVault"},{type:"error",inputs:[],name:"RoyaltyModule__ZeroRoyaltyPolicy"},{type:"error",inputs:[],name:"RoyaltyModule__ZeroRoyaltyToken"},{type:"error",inputs:[],name:"RoyaltyModule__ZeroTreasury"},{type:"error",inputs:[{name:"token",internalType:"address",type:"address"}],name:"SafeERC20FailedOperation"},{type:"error",inputs:[],name:"UUPSUnauthorizedCallContext"},{type:"error",inputs:[{name:"slot",internalType:"bytes32",type:"bytes32"}],name:"UUPSUnsupportedProxiableUUID"},{type:"error",inputs:[],name:"VaultController__ZeroIpRoyaltyVaultBeacon"},{type:"event",anonymous:!1,inputs:[{name:"authority",internalType:"address",type:"address",indexed:!1}],name:"AuthorityUpdated"},{type:"event",anonymous:!1,inputs:[{name:"externalRoyaltyPolicy",internalType:"address",type:"address",indexed:!1}],name:"ExternalRoyaltyPolicyRegistered"},{type:"event",anonymous:!1,inputs:[{name:"version",internalType:"uint64",type:"uint64",indexed:!1}],name:"Initialized"},{type:"event",anonymous:!1,inputs:[{name:"ipId",internalType:"address",type:"address",indexed:!1},{name:"ipRoyaltyVault",internalType:"address",type:"address",indexed:!1}],name:"IpRoyaltyVaultDeployed"},{type:"event",anonymous:!1,inputs:[{name:"receiverIpId",internalType:"address",type:"address",indexed:!1},{name:"payerAddress",internalType:"address",type:"address",indexed:!1},{name:"token",internalType:"address",type:"address",indexed:!1},{name:"amount",internalType:"uint256",type:"uint256",indexed:!1},{name:"amountAfterFee",internalType:"uint256",type:"uint256",indexed:!1}],name:"LicenseMintingFeePaid"},{type:"event",anonymous:!1,inputs:[{name:"ipId",internalType:"address",type:"address",indexed:!1},{name:"royaltyPolicy",internalType:"address",type:"address",indexed:!1},{name:"licensePercent",internalType:"uint32",type:"uint32",indexed:!1},{name:"externalData",internalType:"bytes",type:"bytes",indexed:!1}],name:"LicensedWithRoyalty"},{type:"event",anonymous:!1,inputs:[{name:"ipId",internalType:"address",type:"address",indexed:!1},{name:"parentIpIds",internalType:"address[]",type:"address[]",indexed:!1},{name:"licenseRoyaltyPolicies",internalType:"address[]",type:"address[]",indexed:!1},{name:"licensesPercent",internalType:"uint32[]",type:"uint32[]",indexed:!1},{name:"externalData",internalType:"bytes",type:"bytes",indexed:!1}],name:"LinkedToParents"},{type:"event",anonymous:!1,inputs:[{name:"account",internalType:"address",type:"address",indexed:!1}],name:"Paused"},{type:"event",anonymous:!1,inputs:[{name:"royaltyFeePercent",internalType:"uint256",type:"uint256",indexed:!1}],name:"RoyaltyFeePercentSet"},{type:"event",anonymous:!1,inputs:[{name:"accumulatedRoyaltyPoliciesLimit",internalType:"uint256",type:"uint256",indexed:!1}],name:"RoyaltyLimitsUpdated"},{type:"event",anonymous:!1,inputs:[{name:"receiverIpId",internalType:"address",type:"address",indexed:!1},{name:"payerIpId",internalType:"address",type:"address",indexed:!1},{name:"sender",internalType:"address",type:"address",indexed:!1},{name:"token",internalType:"address",type:"address",indexed:!1},{name:"amount",internalType:"uint256",type:"uint256",indexed:!1},{name:"amountAfterFee",internalType:"uint256",type:"uint256",indexed:!1}],name:"RoyaltyPaid"},{type:"event",anonymous:!1,inputs:[{name:"royaltyPolicy",internalType:"address",type:"address",indexed:!1},{name:"allowed",internalType:"bool",type:"bool",indexed:!1}],name:"RoyaltyPolicyWhitelistUpdated"},{type:"event",anonymous:!1,inputs:[{name:"token",internalType:"address",type:"address",indexed:!1},{name:"allowed",internalType:"bool",type:"bool",indexed:!1}],name:"RoyaltyTokenWhitelistUpdated"},{type:"event",anonymous:!1,inputs:[{name:"treasury",internalType:"address",type:"address",indexed:!1}],name:"TreasurySet"},{type:"event",anonymous:!1,inputs:[{name:"account",internalType:"address",type:"address",indexed:!1}],name:"Unpaused"},{type:"event",anonymous:!1,inputs:[{name:"implementation",internalType:"address",type:"address",indexed:!0}],name:"Upgraded"},{type:"function",inputs:[],name:"DISPUTE_MODULE",outputs:[{name:"",internalType:"contract IDisputeModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"IP_ASSET_REGISTRY",outputs:[{name:"",internalType:"contract IGroupIPAssetRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"IP_GRAPH",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"IP_GRAPH_ACL",outputs:[{name:"",internalType:"contract IPGraphACL",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"LICENSE_REGISTRY",outputs:[{name:"",internalType:"contract ILicenseRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"LICENSING_MODULE",outputs:[{name:"",internalType:"contract ILicensingModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"MAX_PERCENT",outputs:[{name:"",internalType:"uint32",type:"uint32"}],stateMutability:"view"},{type:"function",inputs:[],name:"UPGRADE_INTERFACE_VERSION",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[{name:"accessManager",internalType:"address",type:"address"}],name:"__ProtocolPausable_init",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"}],name:"accumulatedRoyaltyPolicies",outputs:[{name:"",internalType:"address[]",type:"address[]"}],stateMutability:"view"},{type:"function",inputs:[],name:"authority",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"}],name:"globalRoyaltyStack",outputs:[{name:"",internalType:"uint32",type:"uint32"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"ancestorIpId",internalType:"address",type:"address"}],name:"hasAncestorIp",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"accessManager",internalType:"address",type:"address"},{name:"accumulatedRoyaltyPoliciesLimit",internalType:"uint256",type:"uint256"}],name:"initialize",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"ipRoyaltyVaultBeacon",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"}],name:"ipRoyaltyVaults",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"isConsumingScheduledOp",outputs:[{name:"",internalType:"bytes4",type:"bytes4"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipRoyaltyVault",internalType:"address",type:"address"}],name:"isIpRoyaltyVault",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"externalRoyaltyPolicy",internalType:"address",type:"address"}],name:"isRegisteredExternalRoyaltyPolicy",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"royaltyPolicy",internalType:"address",type:"address"}],name:"isWhitelistedRoyaltyPolicy",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"token",internalType:"address",type:"address"}],name:"isWhitelistedRoyaltyToken",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[],name:"maxAccumulatedRoyaltyPolicies",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[],name:"maxAncestors",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[],name:"maxParents",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[],name:"maxPercent",outputs:[{name:"",internalType:"uint32",type:"uint32"}],stateMutability:"pure"},{type:"function",inputs:[],name:"name",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"royaltyPolicy",internalType:"address",type:"address"},{name:"licensePercent",internalType:"uint32",type:"uint32"},{name:"externalData",internalType:"bytes",type:"bytes"}],name:"onLicenseMinting",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"parentIpIds",internalType:"address[]",type:"address[]"},{name:"licenseRoyaltyPolicies",internalType:"address[]",type:"address[]"},{name:"licensesPercent",internalType:"uint32[]",type:"uint32[]"},{name:"externalData",internalType:"bytes",type:"bytes"},{name:"maxRts",internalType:"uint32",type:"uint32"}],name:"onLinkToParents",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"paused",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"receiverIpId",internalType:"address",type:"address"},{name:"payerAddress",internalType:"address",type:"address"},{name:"token",internalType:"address",type:"address"},{name:"amount",internalType:"uint256",type:"uint256"}],name:"payLicenseMintingFee",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"receiverIpId",internalType:"address",type:"address"},{name:"payerIpId",internalType:"address",type:"address"},{name:"token",internalType:"address",type:"address"},{name:"amount",internalType:"uint256",type:"uint256"}],name:"payRoyaltyOnBehalf",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"proxiableUUID",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"externalRoyaltyPolicy",internalType:"address",type:"address"}],name:"registerExternalRoyaltyPolicy",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"royaltyFeePercent",outputs:[{name:"",internalType:"uint32",type:"uint32"}],stateMutability:"view"},{type:"function",inputs:[{name:"newAuthority",internalType:"address",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"beacon",internalType:"address",type:"address"}],name:"setIpRoyaltyVaultBeacon",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"royaltyFeePercent",internalType:"uint32",type:"uint32"}],name:"setRoyaltyFeePercent",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"accumulatedRoyaltyPoliciesLimit",internalType:"uint256",type:"uint256"}],name:"setRoyaltyLimits",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"treasury",internalType:"address",type:"address"}],name:"setTreasury",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"interfaceId",internalType:"bytes4",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"token",internalType:"address",type:"address"},{name:"royaltyPolicy",internalType:"address",type:"address"}],name:"totalRevenueTokensAccounted",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"token",internalType:"address",type:"address"}],name:"totalRevenueTokensReceived",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[],name:"treasury",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newImplementation",internalType:"address",type:"address"},{name:"data",internalType:"bytes",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable"},{type:"function",inputs:[{name:"newVault",internalType:"address",type:"address"}],name:"upgradeVaults",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"royaltyPolicy",internalType:"address",type:"address"},{name:"allowed",internalType:"bool",type:"bool"}],name:"whitelistRoyaltyPolicy",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"token",internalType:"address",type:"address"},{name:"allowed",internalType:"bool",type:"bool"}],name:"whitelistRoyaltyToken",outputs:[],stateMutability:"nonpayable"}],DZ={1315:"0xD2f60c40fEbccf6311f8B47c4f2Ec6b040400086",1514:"0xD2f60c40fEbccf6311f8B47c4f2Ec6b040400086"},ORe={1315:"0xBe54FB168b3c982b7AaE60dB6CF75Bd8447b390E",1514:"0xBe54FB168b3c982b7AaE60dB6CF75Bd8447b390E"},LRe=[{type:"constructor",inputs:[{name:"royaltyModule",internalType:"address",type:"address"},{name:"royaltyPolicyLAP",internalType:"address",type:"address"},{name:"ipGraphAcl",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"error",inputs:[{name:"authority",internalType:"address",type:"address"}],name:"AccessManagedInvalidAuthority"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"delay",internalType:"uint32",type:"uint32"}],name:"AccessManagedRequiredDelay"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"}],name:"AccessManagedUnauthorized"},{type:"error",inputs:[{name:"target",internalType:"address",type:"address"}],name:"AddressEmptyCode"},{type:"error",inputs:[{name:"implementation",internalType:"address",type:"address"}],name:"ERC1967InvalidImplementation"},{type:"error",inputs:[],name:"ERC1967NonPayable"},{type:"error",inputs:[],name:"EnforcedPause"},{type:"error",inputs:[],name:"ExpectedPause"},{type:"error",inputs:[],name:"FailedCall"},{type:"error",inputs:[],name:"InvalidInitialization"},{type:"error",inputs:[],name:"NotInitializing"},{type:"error",inputs:[],name:"ReentrancyGuardReentrantCall"},{type:"error",inputs:[],name:"RoyaltyPolicyLRP__AboveMaxPercent"},{type:"error",inputs:[],name:"RoyaltyPolicyLRP__CallFailed"},{type:"error",inputs:[],name:"RoyaltyPolicyLRP__NotRoyaltyModule"},{type:"error",inputs:[],name:"RoyaltyPolicyLRP__SameIpTransfer"},{type:"error",inputs:[],name:"RoyaltyPolicyLRP__ZeroAccessManager"},{type:"error",inputs:[],name:"RoyaltyPolicyLRP__ZeroClaimableRoyalty"},{type:"error",inputs:[],name:"RoyaltyPolicyLRP__ZeroIPGraphACL"},{type:"error",inputs:[],name:"RoyaltyPolicyLRP__ZeroRoyaltyModule"},{type:"error",inputs:[],name:"RoyaltyPolicyLRP__ZeroRoyaltyPolicyLAP"},{type:"error",inputs:[{name:"token",internalType:"address",type:"address"}],name:"SafeERC20FailedOperation"},{type:"error",inputs:[],name:"UUPSUnauthorizedCallContext"},{type:"error",inputs:[{name:"slot",internalType:"bytes32",type:"bytes32"}],name:"UUPSUnsupportedProxiableUUID"},{type:"event",anonymous:!1,inputs:[{name:"authority",internalType:"address",type:"address",indexed:!1}],name:"AuthorityUpdated"},{type:"event",anonymous:!1,inputs:[{name:"version",internalType:"uint64",type:"uint64",indexed:!1}],name:"Initialized"},{type:"event",anonymous:!1,inputs:[{name:"account",internalType:"address",type:"address",indexed:!1}],name:"Paused"},{type:"event",anonymous:!1,inputs:[{name:"ipId",internalType:"address",type:"address",indexed:!1},{name:"ancestorIpId",internalType:"address",type:"address",indexed:!1},{name:"token",internalType:"address",type:"address",indexed:!1},{name:"amount",internalType:"uint256",type:"uint256",indexed:!1}],name:"RevenueTransferredToVault"},{type:"event",anonymous:!1,inputs:[{name:"account",internalType:"address",type:"address",indexed:!1}],name:"Unpaused"},{type:"event",anonymous:!1,inputs:[{name:"implementation",internalType:"address",type:"address",indexed:!0}],name:"Upgraded"},{type:"function",inputs:[],name:"IP_GRAPH",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"IP_GRAPH_ACL",outputs:[{name:"",internalType:"contract IPGraphACL",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"ROYALTY_MODULE",outputs:[{name:"",internalType:"contract IRoyaltyModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"ROYALTY_POLICY_LAP",outputs:[{name:"",internalType:"contract IGraphAwareRoyaltyPolicy",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"UPGRADE_INTERFACE_VERSION",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[{name:"accessManager",internalType:"address",type:"address"}],name:"__ProtocolPausable_init",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"authority",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"ancestorIpId",internalType:"address",type:"address"}],name:"getPolicyRoyalty",outputs:[{name:"",internalType:"uint32",type:"uint32"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"}],name:"getPolicyRoyaltyStack",outputs:[{name:"",internalType:"uint32",type:"uint32"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"licensePercent",internalType:"uint32",type:"uint32"}],name:"getPolicyRtsRequiredToLink",outputs:[{name:"",internalType:"uint32",type:"uint32"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"ancestorIpId",internalType:"address",type:"address"},{name:"token",internalType:"address",type:"address"}],name:"getTransferredTokens",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"accessManager",internalType:"address",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"isConsumingScheduledOp",outputs:[{name:"",internalType:"bytes4",type:"bytes4"}],stateMutability:"view"},{type:"function",inputs:[],name:"isSupportGroup",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"licensePercent",internalType:"uint32",type:"uint32"},{name:"",internalType:"bytes",type:"bytes"}],name:"onLicenseMinting",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"parentIpIds",internalType:"address[]",type:"address[]"},{name:"licenseRoyaltyPolicies",internalType:"address[]",type:"address[]"},{name:"licensesPercent",internalType:"uint32[]",type:"uint32[]"},{name:"",internalType:"bytes",type:"bytes"}],name:"onLinkToParents",outputs:[{name:"newRoyaltyStackLRP",internalType:"uint32",type:"uint32"}],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"paused",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[],name:"proxiableUUID",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"newAuthority",internalType:"address",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"ancestorIpId",internalType:"address",type:"address"},{name:"token",internalType:"address",type:"address"}],name:"transferToVault",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newImplementation",internalType:"address",type:"address"},{name:"data",internalType:"bytes",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable"}],$Re={1315:"0x9156e603C949481883B1d3355c6f1132D191fC41",1514:"0x9156e603C949481883B1d3355c6f1132D191fC41"},ls=[{type:"constructor",inputs:[{name:"accessController",internalType:"address",type:"address"},{name:"coreMetadataModule",internalType:"address",type:"address"},{name:"ipAssetRegistry",internalType:"address",type:"address"},{name:"licenseRegistry",internalType:"address",type:"address"},{name:"licensingModule",internalType:"address",type:"address"},{name:"pilTemplate",internalType:"address",type:"address"},{name:"royaltyModule",internalType:"address",type:"address"},{name:"royaltyPolicyLRP",internalType:"address",type:"address"},{name:"wip",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"error",inputs:[{name:"authority",internalType:"address",type:"address"}],name:"AccessManagedInvalidAuthority"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"delay",internalType:"uint32",type:"uint32"}],name:"AccessManagedRequiredDelay"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"}],name:"AccessManagedUnauthorized"},{type:"error",inputs:[{name:"target",internalType:"address",type:"address"}],name:"AddressEmptyCode"},{type:"error",inputs:[{name:"implementation",internalType:"address",type:"address"}],name:"ERC1967InvalidImplementation"},{type:"error",inputs:[],name:"ERC1967NonPayable"},{type:"error",inputs:[],name:"FailedCall"},{type:"error",inputs:[],name:"InvalidInitialization"},{type:"error",inputs:[],name:"LicensingHelper__ParentIpIdsAndLicenseTermsIdsMismatch"},{type:"error",inputs:[],name:"NotInitializing"},{type:"error",inputs:[],name:"PermissionHelper__ModulesAndSelectorsMismatch"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"signer",internalType:"address",type:"address"}],name:"RoyaltyTokenDistributionWorkflows__CallerNotSigner"},{type:"error",inputs:[],name:"RoyaltyTokenDistributionWorkflows__NoLicenseTermsData"},{type:"error",inputs:[],name:"RoyaltyTokenDistributionWorkflows__RoyaltyVaultNotDeployed"},{type:"error",inputs:[{name:"totalShares",internalType:"uint32",type:"uint32"},{name:"ipAccountBalance",internalType:"uint32",type:"uint32"}],name:"RoyaltyTokenDistributionWorkflows__TotalSharesExceedsIPAccountBalance"},{type:"error",inputs:[],name:"RoyaltyTokenDistributionWorkflows__ZeroAddressParam"},{type:"error",inputs:[{name:"token",internalType:"address",type:"address"}],name:"SafeERC20FailedOperation"},{type:"error",inputs:[],name:"UUPSUnauthorizedCallContext"},{type:"error",inputs:[{name:"slot",internalType:"bytes32",type:"bytes32"}],name:"UUPSUnsupportedProxiableUUID"},{type:"error",inputs:[],name:"Workflow__CallerNotAuthorizedToMint"},{type:"event",anonymous:!1,inputs:[{name:"authority",internalType:"address",type:"address",indexed:!1}],name:"AuthorityUpdated"},{type:"event",anonymous:!1,inputs:[{name:"version",internalType:"uint64",type:"uint64",indexed:!1}],name:"Initialized"},{type:"event",anonymous:!1,inputs:[{name:"implementation",internalType:"address",type:"address",indexed:!0}],name:"Upgraded"},{type:"function",inputs:[],name:"ACCESS_CONTROLLER",outputs:[{name:"",internalType:"contract IAccessController",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"CORE_METADATA_MODULE",outputs:[{name:"",internalType:"contract ICoreMetadataModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"IP_ASSET_REGISTRY",outputs:[{name:"",internalType:"contract IIPAssetRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"LICENSE_REGISTRY",outputs:[{name:"",internalType:"contract ILicenseRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"LICENSING_MODULE",outputs:[{name:"",internalType:"contract ILicensingModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"PIL_TEMPLATE",outputs:[{name:"",internalType:"contract IPILicenseTemplate",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"ROYALTY_MODULE",outputs:[{name:"",internalType:"contract IRoyaltyModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"ROYALTY_POLICY_LRP",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"UPGRADE_INTERFACE_VERSION",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[],name:"WIP",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"authority",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"ipId",internalType:"address",type:"address"},{name:"royaltyShares",internalType:"struct WorkflowStructs.RoyaltyShare[]",type:"tuple[]",components:[{name:"recipient",internalType:"address",type:"address"},{name:"percentage",internalType:"uint32",type:"uint32"}]},{name:"sigApproveRoyaltyTokens",internalType:"struct WorkflowStructs.SignatureData",type:"tuple",components:[{name:"signer",internalType:"address",type:"address"},{name:"deadline",internalType:"uint256",type:"uint256"},{name:"signature",internalType:"bytes",type:"bytes"}]}],name:"distributeRoyaltyTokens",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"accessManager",internalType:"address",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"isConsumingScheduledOp",outputs:[{name:"",internalType:"bytes4",type:"bytes4"}],stateMutability:"view"},{type:"function",inputs:[{name:"spgNftContract",internalType:"address",type:"address"},{name:"recipient",internalType:"address",type:"address"},{name:"ipMetadata",internalType:"struct WorkflowStructs.IPMetadata",type:"tuple",components:[{name:"ipMetadataURI",internalType:"string",type:"string"},{name:"ipMetadataHash",internalType:"bytes32",type:"bytes32"},{name:"nftMetadataURI",internalType:"string",type:"string"},{name:"nftMetadataHash",internalType:"bytes32",type:"bytes32"}]},{name:"licenseTermsData",internalType:"struct WorkflowStructs.LicenseTermsData[]",type:"tuple[]",components:[{name:"terms",internalType:"struct PILTerms",type:"tuple",components:[{name:"transferable",internalType:"bool",type:"bool"},{name:"royaltyPolicy",internalType:"address",type:"address"},{name:"defaultMintingFee",internalType:"uint256",type:"uint256"},{name:"expiration",internalType:"uint256",type:"uint256"},{name:"commercialUse",internalType:"bool",type:"bool"},{name:"commercialAttribution",internalType:"bool",type:"bool"},{name:"commercializerChecker",internalType:"address",type:"address"},{name:"commercializerCheckerData",internalType:"bytes",type:"bytes"},{name:"commercialRevShare",internalType:"uint32",type:"uint32"},{name:"commercialRevCeiling",internalType:"uint256",type:"uint256"},{name:"derivativesAllowed",internalType:"bool",type:"bool"},{name:"derivativesAttribution",internalType:"bool",type:"bool"},{name:"derivativesApproval",internalType:"bool",type:"bool"},{name:"derivativesReciprocal",internalType:"bool",type:"bool"},{name:"derivativeRevCeiling",internalType:"uint256",type:"uint256"},{name:"currency",internalType:"address",type:"address"},{name:"uri",internalType:"string",type:"string"}]},{name:"licensingConfig",internalType:"struct Licensing.LicensingConfig",type:"tuple",components:[{name:"isSet",internalType:"bool",type:"bool"},{name:"mintingFee",internalType:"uint256",type:"uint256"},{name:"licensingHook",internalType:"address",type:"address"},{name:"hookData",internalType:"bytes",type:"bytes"},{name:"commercialRevShare",internalType:"uint32",type:"uint32"},{name:"disabled",internalType:"bool",type:"bool"},{name:"expectMinimumGroupRewardShare",internalType:"uint32",type:"uint32"},{name:"expectGroupRewardPool",internalType:"address",type:"address"}]}]},{name:"royaltyShares",internalType:"struct WorkflowStructs.RoyaltyShare[]",type:"tuple[]",components:[{name:"recipient",internalType:"address",type:"address"},{name:"percentage",internalType:"uint32",type:"uint32"}]},{name:"allowDuplicates",internalType:"bool",type:"bool"}],name:"mintAndRegisterIpAndAttachPILTermsAndDistributeRoyaltyTokens",outputs:[{name:"ipId",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"},{name:"licenseTermsIds",internalType:"uint256[]",type:"uint256[]"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"spgNftContract",internalType:"address",type:"address"},{name:"recipient",internalType:"address",type:"address"},{name:"ipMetadata",internalType:"struct WorkflowStructs.IPMetadata",type:"tuple",components:[{name:"ipMetadataURI",internalType:"string",type:"string"},{name:"ipMetadataHash",internalType:"bytes32",type:"bytes32"},{name:"nftMetadataURI",internalType:"string",type:"string"},{name:"nftMetadataHash",internalType:"bytes32",type:"bytes32"}]},{name:"derivData",internalType:"struct WorkflowStructs.MakeDerivative",type:"tuple",components:[{name:"parentIpIds",internalType:"address[]",type:"address[]"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsIds",internalType:"uint256[]",type:"uint256[]"},{name:"royaltyContext",internalType:"bytes",type:"bytes"},{name:"maxMintingFee",internalType:"uint256",type:"uint256"},{name:"maxRts",internalType:"uint32",type:"uint32"},{name:"maxRevenueShare",internalType:"uint32",type:"uint32"}]},{name:"royaltyShares",internalType:"struct WorkflowStructs.RoyaltyShare[]",type:"tuple[]",components:[{name:"recipient",internalType:"address",type:"address"},{name:"percentage",internalType:"uint32",type:"uint32"}]},{name:"allowDuplicates",internalType:"bool",type:"bool"}],name:"mintAndRegisterIpAndMakeDerivativeAndDistributeRoyaltyTokens",outputs:[{name:"ipId",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"data",internalType:"bytes[]",type:"bytes[]"}],name:"multicall",outputs:[{name:"results",internalType:"bytes[]",type:"bytes[]"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"",internalType:"address",type:"address"},{name:"",internalType:"address",type:"address"},{name:"",internalType:"uint256",type:"uint256"},{name:"",internalType:"bytes",type:"bytes"}],name:"onERC721Received",outputs:[{name:"",internalType:"bytes4",type:"bytes4"}],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"proxiableUUID",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"nftContract",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"},{name:"ipMetadata",internalType:"struct WorkflowStructs.IPMetadata",type:"tuple",components:[{name:"ipMetadataURI",internalType:"string",type:"string"},{name:"ipMetadataHash",internalType:"bytes32",type:"bytes32"},{name:"nftMetadataURI",internalType:"string",type:"string"},{name:"nftMetadataHash",internalType:"bytes32",type:"bytes32"}]},{name:"licenseTermsData",internalType:"struct WorkflowStructs.LicenseTermsData[]",type:"tuple[]",components:[{name:"terms",internalType:"struct PILTerms",type:"tuple",components:[{name:"transferable",internalType:"bool",type:"bool"},{name:"royaltyPolicy",internalType:"address",type:"address"},{name:"defaultMintingFee",internalType:"uint256",type:"uint256"},{name:"expiration",internalType:"uint256",type:"uint256"},{name:"commercialUse",internalType:"bool",type:"bool"},{name:"commercialAttribution",internalType:"bool",type:"bool"},{name:"commercializerChecker",internalType:"address",type:"address"},{name:"commercializerCheckerData",internalType:"bytes",type:"bytes"},{name:"commercialRevShare",internalType:"uint32",type:"uint32"},{name:"commercialRevCeiling",internalType:"uint256",type:"uint256"},{name:"derivativesAllowed",internalType:"bool",type:"bool"},{name:"derivativesAttribution",internalType:"bool",type:"bool"},{name:"derivativesApproval",internalType:"bool",type:"bool"},{name:"derivativesReciprocal",internalType:"bool",type:"bool"},{name:"derivativeRevCeiling",internalType:"uint256",type:"uint256"},{name:"currency",internalType:"address",type:"address"},{name:"uri",internalType:"string",type:"string"}]},{name:"licensingConfig",internalType:"struct Licensing.LicensingConfig",type:"tuple",components:[{name:"isSet",internalType:"bool",type:"bool"},{name:"mintingFee",internalType:"uint256",type:"uint256"},{name:"licensingHook",internalType:"address",type:"address"},{name:"hookData",internalType:"bytes",type:"bytes"},{name:"commercialRevShare",internalType:"uint32",type:"uint32"},{name:"disabled",internalType:"bool",type:"bool"},{name:"expectMinimumGroupRewardShare",internalType:"uint32",type:"uint32"},{name:"expectGroupRewardPool",internalType:"address",type:"address"}]}]},{name:"sigMetadataAndAttachAndConfig",internalType:"struct WorkflowStructs.SignatureData",type:"tuple",components:[{name:"signer",internalType:"address",type:"address"},{name:"deadline",internalType:"uint256",type:"uint256"},{name:"signature",internalType:"bytes",type:"bytes"}]}],name:"registerIpAndAttachPILTermsAndDeployRoyaltyVault",outputs:[{name:"ipId",internalType:"address",type:"address"},{name:"licenseTermsIds",internalType:"uint256[]",type:"uint256[]"},{name:"ipRoyaltyVault",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"nftContract",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"},{name:"ipMetadata",internalType:"struct WorkflowStructs.IPMetadata",type:"tuple",components:[{name:"ipMetadataURI",internalType:"string",type:"string"},{name:"ipMetadataHash",internalType:"bytes32",type:"bytes32"},{name:"nftMetadataURI",internalType:"string",type:"string"},{name:"nftMetadataHash",internalType:"bytes32",type:"bytes32"}]},{name:"derivData",internalType:"struct WorkflowStructs.MakeDerivative",type:"tuple",components:[{name:"parentIpIds",internalType:"address[]",type:"address[]"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsIds",internalType:"uint256[]",type:"uint256[]"},{name:"royaltyContext",internalType:"bytes",type:"bytes"},{name:"maxMintingFee",internalType:"uint256",type:"uint256"},{name:"maxRts",internalType:"uint32",type:"uint32"},{name:"maxRevenueShare",internalType:"uint32",type:"uint32"}]},{name:"sigMetadataAndRegister",internalType:"struct WorkflowStructs.SignatureData",type:"tuple",components:[{name:"signer",internalType:"address",type:"address"},{name:"deadline",internalType:"uint256",type:"uint256"},{name:"signature",internalType:"bytes",type:"bytes"}]}],name:"registerIpAndMakeDerivativeAndDeployRoyaltyVault",outputs:[{name:"ipId",internalType:"address",type:"address"},{name:"ipRoyaltyVault",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newAuthority",internalType:"address",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newImplementation",internalType:"address",type:"address"},{name:"data",internalType:"bytes",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable"}],Z1={1315:"0xa38f42B8d33809917f23997B8423054aAB97322C",1514:"0xa38f42B8d33809917f23997B8423054aAB97322C"},cx=[{type:"constructor",inputs:[{name:"royaltyModule",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"error",inputs:[{name:"authority",internalType:"address",type:"address"}],name:"AccessManagedInvalidAuthority"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"delay",internalType:"uint32",type:"uint32"}],name:"AccessManagedRequiredDelay"},{type:"error",inputs:[{name:"caller",internalType:"address",type:"address"}],name:"AccessManagedUnauthorized"},{type:"error",inputs:[{name:"target",internalType:"address",type:"address"}],name:"AddressEmptyCode"},{type:"error",inputs:[{name:"implementation",internalType:"address",type:"address"}],name:"ERC1967InvalidImplementation"},{type:"error",inputs:[],name:"ERC1967NonPayable"},{type:"error",inputs:[],name:"FailedCall"},{type:"error",inputs:[],name:"InvalidInitialization"},{type:"error",inputs:[],name:"NotInitializing"},{type:"error",inputs:[],name:"RoyaltyWorkflows__ZeroAddressParam"},{type:"error",inputs:[],name:"UUPSUnauthorizedCallContext"},{type:"error",inputs:[{name:"slot",internalType:"bytes32",type:"bytes32"}],name:"UUPSUnsupportedProxiableUUID"},{type:"event",anonymous:!1,inputs:[{name:"authority",internalType:"address",type:"address",indexed:!1}],name:"AuthorityUpdated"},{type:"event",anonymous:!1,inputs:[{name:"version",internalType:"uint64",type:"uint64",indexed:!1}],name:"Initialized"},{type:"event",anonymous:!1,inputs:[{name:"implementation",internalType:"address",type:"address",indexed:!0}],name:"Upgraded"},{type:"function",inputs:[],name:"ROYALTY_MODULE",outputs:[{name:"",internalType:"contract IRoyaltyModule",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"UPGRADE_INTERFACE_VERSION",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[],name:"authority",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"ancestorIpId",internalType:"address",type:"address"},{name:"claimer",internalType:"address",type:"address"},{name:"childIpIds",internalType:"address[]",type:"address[]"},{name:"royaltyPolicies",internalType:"address[]",type:"address[]"},{name:"currencyTokens",internalType:"address[]",type:"address[]"}],name:"claimAllRevenue",outputs:[{name:"amountsClaimed",internalType:"uint256[]",type:"uint256[]"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"accessManager",internalType:"address",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"isConsumingScheduledOp",outputs:[{name:"",internalType:"bytes4",type:"bytes4"}],stateMutability:"view"},{type:"function",inputs:[{name:"data",internalType:"bytes[]",type:"bytes[]"}],name:"multicall",outputs:[{name:"results",internalType:"bytes[]",type:"bytes[]"}],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"proxiableUUID",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"newAuthority",internalType:"address",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newImplementation",internalType:"address",type:"address"},{name:"data",internalType:"bytes",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable"}],FRe={1315:"0x9515faE61E0c0447C6AC6dEe5628A2097aFE1890",1514:"0x9515faE61E0c0447C6AC6dEe5628A2097aFE1890"},fc=[{type:"constructor",inputs:[{name:"derivativeWorkflows",internalType:"address",type:"address"},{name:"groupingWorkflows",internalType:"address",type:"address"},{name:"licenseAttachmentWorkflows",internalType:"address",type:"address"},{name:"registrationWorkflows",internalType:"address",type:"address"},{name:"royaltyTokenDistributionWorkflows",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"error",inputs:[],name:"AccessControlBadConfirmation"},{type:"error",inputs:[{name:"account",internalType:"address",type:"address"},{name:"neededRole",internalType:"bytes32",type:"bytes32"}],name:"AccessControlUnauthorizedAccount"},{type:"error",inputs:[{name:"sender",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"},{name:"owner",internalType:"address",type:"address"}],name:"ERC721IncorrectOwner"},{type:"error",inputs:[{name:"operator",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"}],name:"ERC721InsufficientApproval"},{type:"error",inputs:[{name:"approver",internalType:"address",type:"address"}],name:"ERC721InvalidApprover"},{type:"error",inputs:[{name:"operator",internalType:"address",type:"address"}],name:"ERC721InvalidOperator"},{type:"error",inputs:[{name:"owner",internalType:"address",type:"address"}],name:"ERC721InvalidOwner"},{type:"error",inputs:[{name:"receiver",internalType:"address",type:"address"}],name:"ERC721InvalidReceiver"},{type:"error",inputs:[{name:"sender",internalType:"address",type:"address"}],name:"ERC721InvalidSender"},{type:"error",inputs:[{name:"tokenId",internalType:"uint256",type:"uint256"}],name:"ERC721NonexistentToken"},{type:"error",inputs:[],name:"InvalidInitialization"},{type:"error",inputs:[],name:"NotInitializing"},{type:"error",inputs:[],name:"SPGNFT__CallerNotFeeRecipientOrAdmin"},{type:"error",inputs:[{name:"tokenId",internalType:"uint256",type:"uint256"},{name:"caller",internalType:"address",type:"address"},{name:"owner",internalType:"address",type:"address"}],name:"SPGNFT__CallerNotOwner"},{type:"error",inputs:[],name:"SPGNFT__CallerNotPeripheryContract"},{type:"error",inputs:[{name:"spgNftContract",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"},{name:"nftMetadataHash",internalType:"bytes32",type:"bytes32"}],name:"SPGNFT__DuplicatedNFTMetadataHash"},{type:"error",inputs:[],name:"SPGNFT__MaxSupplyReached"},{type:"error",inputs:[],name:"SPGNFT__MintingClosed"},{type:"error",inputs:[],name:"SPGNFT__MintingDenied"},{type:"error",inputs:[],name:"SPGNFT__ZeroAddressParam"},{type:"error",inputs:[],name:"SPGNFT__ZeroMaxSupply"},{type:"error",inputs:[{name:"token",internalType:"address",type:"address"}],name:"SafeERC20FailedOperation"},{type:"event",anonymous:!1,inputs:[{name:"owner",internalType:"address",type:"address",indexed:!0},{name:"approved",internalType:"address",type:"address",indexed:!0},{name:"tokenId",internalType:"uint256",type:"uint256",indexed:!0}],name:"Approval"},{type:"event",anonymous:!1,inputs:[{name:"owner",internalType:"address",type:"address",indexed:!0},{name:"operator",internalType:"address",type:"address",indexed:!0},{name:"approved",internalType:"bool",type:"bool",indexed:!1}],name:"ApprovalForAll"},{type:"event",anonymous:!1,inputs:[{name:"_fromTokenId",internalType:"uint256",type:"uint256",indexed:!1},{name:"_toTokenId",internalType:"uint256",type:"uint256",indexed:!1}],name:"BatchMetadataUpdate"},{type:"event",anonymous:!1,inputs:[],name:"ContractURIUpdated"},{type:"event",anonymous:!1,inputs:[{name:"version",internalType:"uint64",type:"uint64",indexed:!1}],name:"Initialized"},{type:"event",anonymous:!1,inputs:[{name:"_tokenId",internalType:"uint256",type:"uint256",indexed:!1}],name:"MetadataUpdate"},{type:"event",anonymous:!1,inputs:[{name:"role",internalType:"bytes32",type:"bytes32",indexed:!0},{name:"previousAdminRole",internalType:"bytes32",type:"bytes32",indexed:!0},{name:"newAdminRole",internalType:"bytes32",type:"bytes32",indexed:!0}],name:"RoleAdminChanged"},{type:"event",anonymous:!1,inputs:[{name:"role",internalType:"bytes32",type:"bytes32",indexed:!0},{name:"account",internalType:"address",type:"address",indexed:!0},{name:"sender",internalType:"address",type:"address",indexed:!0}],name:"RoleGranted"},{type:"event",anonymous:!1,inputs:[{name:"role",internalType:"bytes32",type:"bytes32",indexed:!0},{name:"account",internalType:"address",type:"address",indexed:!0},{name:"sender",internalType:"address",type:"address",indexed:!0}],name:"RoleRevoked"},{type:"event",anonymous:!1,inputs:[{name:"from",internalType:"address",type:"address",indexed:!0},{name:"to",internalType:"address",type:"address",indexed:!0},{name:"tokenId",internalType:"uint256",type:"uint256",indexed:!0}],name:"Transfer"},{type:"function",inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[],name:"DERIVATIVE_WORKFLOWS_ADDRESS",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"GROUPING_WORKFLOWS_ADDRESS",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"LICENSE_ATTACHMENT_WORKFLOWS_ADDRESS",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"REGISTRATION_WORKFLOWS_ADDRESS",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"ROYALTY_TOKEN_DISTRIBUTION_WORKFLOWS_ADDRESS",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"to",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"owner",internalType:"address",type:"address"}],name:"balanceOf",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[],name:"baseURI",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[],name:"contractURI",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[{name:"tokenId",internalType:"uint256",type:"uint256"}],name:"getApproved",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"role",internalType:"bytes32",type:"bytes32"}],name:"getRoleAdmin",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"nftMetadataHash",internalType:"bytes32",type:"bytes32"}],name:"getTokenIdByMetadataHash",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"role",internalType:"bytes32",type:"bytes32"},{name:"account",internalType:"address",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"role",internalType:"bytes32",type:"bytes32"},{name:"account",internalType:"address",type:"address"}],name:"hasRole",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"initParams",internalType:"struct ISPGNFT.InitParams",type:"tuple",components:[{name:"name",internalType:"string",type:"string"},{name:"symbol",internalType:"string",type:"string"},{name:"baseURI",internalType:"string",type:"string"},{name:"contractURI",internalType:"string",type:"string"},{name:"maxSupply",internalType:"uint32",type:"uint32"},{name:"mintFee",internalType:"uint256",type:"uint256"},{name:"mintFeeToken",internalType:"address",type:"address"},{name:"mintFeeRecipient",internalType:"address",type:"address"},{name:"owner",internalType:"address",type:"address"},{name:"mintOpen",internalType:"bool",type:"bool"},{name:"isPublicMinting",internalType:"bool",type:"bool"}]}],name:"initialize",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"owner",internalType:"address",type:"address"},{name:"operator",internalType:"address",type:"address"}],name:"isApprovedForAll",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"to",internalType:"address",type:"address"},{name:"nftMetadataURI",internalType:"string",type:"string"},{name:"nftMetadataHash",internalType:"bytes32",type:"bytes32"},{name:"allowDuplicates",internalType:"bool",type:"bool"}],name:"mint",outputs:[{name:"tokenId",internalType:"uint256",type:"uint256"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"to",internalType:"address",type:"address"},{name:"payer",internalType:"address",type:"address"},{name:"nftMetadataURI",internalType:"string",type:"string"},{name:"nftMetadataHash",internalType:"bytes32",type:"bytes32"},{name:"allowDuplicates",internalType:"bool",type:"bool"}],name:"mintByPeriphery",outputs:[{name:"tokenId",internalType:"uint256",type:"uint256"}],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"mintFee",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[],name:"mintFeeRecipient",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"mintFeeToken",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"mintOpen",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[],name:"name",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[{name:"tokenId",internalType:"uint256",type:"uint256"}],name:"ownerOf",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"publicMinting",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"role",internalType:"bytes32",type:"bytes32"},{name:"callerConfirmation",internalType:"address",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"role",internalType:"bytes32",type:"bytes32"},{name:"account",internalType:"address",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"from",internalType:"address",type:"address"},{name:"to",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"from",internalType:"address",type:"address"},{name:"to",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"},{name:"data",internalType:"bytes",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"operator",internalType:"address",type:"address"},{name:"approved",internalType:"bool",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"baseURI",internalType:"string",type:"string"}],name:"setBaseURI",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"contractURI",internalType:"string",type:"string"}],name:"setContractURI",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"fee",internalType:"uint256",type:"uint256"}],name:"setMintFee",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newFeeRecipient",internalType:"address",type:"address"}],name:"setMintFeeRecipient",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"token",internalType:"address",type:"address"}],name:"setMintFeeToken",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"mintOpen",internalType:"bool",type:"bool"}],name:"setMintOpen",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"isPublicMinting",internalType:"bool",type:"bool"}],name:"setPublicMinting",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"tokenId",internalType:"uint256",type:"uint256"},{name:"tokenUri",internalType:"string",type:"string"}],name:"setTokenURI",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"interfaceId",internalType:"bytes4",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[],name:"symbol",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[{name:"tokenId",internalType:"uint256",type:"uint256"}],name:"tokenURI",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[],name:"totalSupply",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"from",internalType:"address",type:"address"},{name:"to",internalType:"address",type:"address"},{name:"tokenId",internalType:"uint256",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"token",internalType:"address",type:"address"}],name:"withdrawToken",outputs:[],stateMutability:"nonpayable"}],BRe={1315:"0x5266215a00c31AaA2f2BB7b951Ea0028Ea8b4e37",1514:"0x6Cfa03Bc64B1a76206d0Ea10baDed31D520449F5"},v8=[{type:"constructor",inputs:[{name:"licenseRegistry",internalType:"address",type:"address"},{name:"licenseToken",internalType:"address",type:"address"},{name:"accessController",internalType:"address",type:"address"},{name:"ipAssetRegistry",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"error",inputs:[{name:"ipAccount",internalType:"address",type:"address"}],name:"AccessControlled__NotIpAccount"},{type:"error",inputs:[],name:"AccessControlled__ZeroAddress"},{type:"error",inputs:[{name:"totalSupply",internalType:"uint256",type:"uint256"},{name:"limit",internalType:"uint256",type:"uint256"}],name:"TotalLicenseTokenLimitHook_LimitLowerThanTotalSupply"},{type:"error",inputs:[{name:"totalSupply",internalType:"uint256",type:"uint256"},{name:"amount",internalType:"uint256",type:"uint256"},{name:"limit",internalType:"uint256",type:"uint256"}],name:"TotalLicenseTokenLimitHook_TotalLicenseTokenLimitExceeded"},{type:"error",inputs:[],name:"TotalLicenseTokenLimitHook_ZeroLicenseRegistry"},{type:"error",inputs:[],name:"TotalLicenseTokenLimitHook_ZeroLicenseToken"},{type:"event",anonymous:!1,inputs:[{name:"licensorIpId",internalType:"address",type:"address",indexed:!0},{name:"licenseTemplate",internalType:"address",type:"address",indexed:!0},{name:"licenseTermsId",internalType:"uint256",type:"uint256",indexed:!0},{name:"limit",internalType:"uint256",type:"uint256",indexed:!1}],name:"SetTotalLicenseTokenLimit"},{type:"function",inputs:[],name:"ACCESS_CONTROLLER",outputs:[{name:"",internalType:"contract IAccessController",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"IP_ASSET_REGISTRY",outputs:[{name:"",internalType:"contract IIPAssetRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"LICENSE_REGISTRY",outputs:[{name:"",internalType:"contract ILicenseRegistry",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"LICENSE_TOKEN",outputs:[{name:"",internalType:"contract ILicenseToken",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"licensorIpId",internalType:"address",type:"address"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"},{name:"amount",internalType:"uint256",type:"uint256"},{name:"receiver",internalType:"address",type:"address"},{name:"hookData",internalType:"bytes",type:"bytes"}],name:"beforeMintLicenseTokens",outputs:[{name:"totalMintingFee",internalType:"uint256",type:"uint256"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"childIpId",internalType:"address",type:"address"},{name:"parentIpId",internalType:"address",type:"address"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"},{name:"hookData",internalType:"bytes",type:"bytes"}],name:"beforeRegisterDerivative",outputs:[{name:"mintingFee",internalType:"uint256",type:"uint256"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"caller",internalType:"address",type:"address"},{name:"licensorIpId",internalType:"address",type:"address"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"},{name:"amount",internalType:"uint256",type:"uint256"},{name:"receiver",internalType:"address",type:"address"},{name:"hookData",internalType:"bytes",type:"bytes"}],name:"calculateMintingFee",outputs:[{name:"totalMintingFee",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"licensorIpId",internalType:"address",type:"address"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"}],name:"getTotalLicenseTokenLimit",outputs:[{name:"limit",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[],name:"name",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[{name:"licensorIpId",internalType:"address",type:"address"},{name:"licenseTemplate",internalType:"address",type:"address"},{name:"licenseTermsId",internalType:"uint256",type:"uint256"},{name:"limit",internalType:"uint256",type:"uint256"}],name:"setTotalLicenseTokenLimit",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"interfaceId",internalType:"bytes4",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"",internalType:"bytes32",type:"bytes32"}],name:"totalLicenseTokenLimit",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"}],OZ={1315:"0xaBAD364Bfa41230272b08f171E0Ca939bD600478",1514:"0xB72C9812114a0Fc74D49e01385bd266A75960Cda"},ui=[{type:"error",inputs:[],name:"AllowanceOverflow"},{type:"error",inputs:[],name:"AllowanceUnderflow"},{type:"error",inputs:[{name:"receiver",internalType:"address",type:"address"}],name:"ERC20InvalidReceiver"},{type:"error",inputs:[{name:"spender",internalType:"address",type:"address"}],name:"ERC20InvalidSpender"},{type:"error",inputs:[],name:"IPTransferFailed"},{type:"error",inputs:[],name:"InsufficientAllowance"},{type:"error",inputs:[],name:"InsufficientBalance"},{type:"error",inputs:[],name:"InvalidPermit"},{type:"error",inputs:[],name:"Permit2AllowanceIsFixedAtInfinity"},{type:"error",inputs:[],name:"PermitExpired"},{type:"error",inputs:[],name:"TotalSupplyOverflow"},{type:"event",anonymous:!1,inputs:[{name:"owner",internalType:"address",type:"address",indexed:!0},{name:"spender",internalType:"address",type:"address",indexed:!0},{name:"amount",internalType:"uint256",type:"uint256",indexed:!1}],name:"Approval"},{type:"event",anonymous:!1,inputs:[{name:"from",internalType:"address",type:"address",indexed:!0},{name:"amount",internalType:"uint256",type:"uint256",indexed:!1}],name:"Deposit"},{type:"event",anonymous:!1,inputs:[{name:"from",internalType:"address",type:"address",indexed:!0},{name:"to",internalType:"address",type:"address",indexed:!0},{name:"amount",internalType:"uint256",type:"uint256",indexed:!1}],name:"Transfer"},{type:"event",anonymous:!1,inputs:[{name:"to",internalType:"address",type:"address",indexed:!0},{name:"amount",internalType:"uint256",type:"uint256",indexed:!1}],name:"Withdrawal"},{type:"function",inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{name:"result",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"owner",internalType:"address",type:"address"},{name:"spender",internalType:"address",type:"address"}],name:"allowance",outputs:[{name:"result",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"spender",internalType:"address",type:"address"},{name:"amount",internalType:"uint256",type:"uint256"}],name:"approve",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"owner",internalType:"address",type:"address"}],name:"balanceOf",outputs:[{name:"result",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[],name:"decimals",outputs:[{name:"",internalType:"uint8",type:"uint8"}],stateMutability:"view"},{type:"function",inputs:[],name:"deposit",outputs:[],stateMutability:"payable"},{type:"function",inputs:[],name:"name",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"pure"},{type:"function",inputs:[{name:"owner",internalType:"address",type:"address"}],name:"nonces",outputs:[{name:"result",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"owner",internalType:"address",type:"address"},{name:"spender",internalType:"address",type:"address"},{name:"value",internalType:"uint256",type:"uint256"},{name:"deadline",internalType:"uint256",type:"uint256"},{name:"v",internalType:"uint8",type:"uint8"},{name:"r",internalType:"bytes32",type:"bytes32"},{name:"s",internalType:"bytes32",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"symbol",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"pure"},{type:"function",inputs:[],name:"totalSupply",outputs:[{name:"result",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"to",internalType:"address",type:"address"},{name:"amount",internalType:"uint256",type:"uint256"}],name:"transfer",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"from",internalType:"address",type:"address"},{name:"to",internalType:"address",type:"address"},{name:"amount",internalType:"uint256",type:"uint256"}],name:"transferFrom",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"value",internalType:"uint256",type:"uint256"}],name:"withdraw",outputs:[],stateMutability:"nonpayable"},{type:"receive",stateMutability:"payable"}],LZ={1315:"0x1514000000000000000000000000000000000000",1514:"0x1514000000000000000000000000000000000000"};function Hn(t,e){return t[e||0]||"0x"}var URe=function(){function t(e,n){var r;Qe(this,t),this.address=n||Hn(RZ,(r=e.chain)===null||r===void 0?void 0:r.id),this.rpcClient=e}return et(t,[{key:"watchPermissionSetEvent",value:function(n){return this.rpcClient.watchContractEvent({abi:uo,address:this.address,eventName:"PermissionSet",onLogs:function(s){s.forEach(function(i){return n(i.transactionHash,i.args)})}})}},{key:"parseTxPermissionSetEvent",value:function(n){var r=[],s=bt(n.logs),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;try{var o=yn({abi:uo,eventName:"PermissionSet",data:a.data,topics:a.topics});o.eventName==="PermissionSet"&&r.push(o.args)}catch{}}}catch(l){s.e(l)}finally{s.f()}return r}}])}(),$Z=function(t){function e(n,r,s){var i;return Qe(this,e),i=zn(this,e,[n,s]),i.wallet=r,i}return Vn(e,t),et(e,[{key:"setAllPermissions",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:uo,address:this.address,functionName:"setAllPermissions",account:this.wallet.account,args:[i.ipAccount,i.signer,i.permission]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"setAllPermissionsEncode",value:function(r){return{to:this.address,data:pe({abi:uo,functionName:"setAllPermissions",args:[r.ipAccount,r.signer,r.permission]})}}},{key:"setBatchPermissions",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:uo,address:this.address,functionName:"setBatchPermissions",account:this.wallet.account,args:[i.permissions]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"setBatchPermissionsEncode",value:function(r){return{to:this.address,data:pe({abi:uo,functionName:"setBatchPermissions",args:[r.permissions]})}}},{key:"setPermission",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:uo,address:this.address,functionName:"setPermission",account:this.wallet.account,args:[i.ipAccount,i.signer,i.to,i.func,i.permission]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"setPermissionEncode",value:function(r){return{to:this.address,data:pe({abi:uo,functionName:"setPermission",args:[r.ipAccount,r.signer,r.to,r.func,r.permission]})}}}])}(URe),zRe=function(){function t(e,n){var r;Qe(this,t),this.address=n||Hn(ARe,(r=e.chain)===null||r===void 0?void 0:r.id),this.rpcClient=e}return et(t,[{key:"disputeIdToAssertionId",value:function(){var e=W(D().m(function r(s){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:sp,address:this.address,functionName:"disputeIdToAssertionId",args:[s.disputeId]});case 1:return i.a(2,i.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"maxBonds",value:function(){var e=W(D().m(function r(s){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:sp,address:this.address,functionName:"maxBonds",args:[s.token]});case 1:return i.a(2,i.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"maxLiveness",value:function(){var e=W(D().m(function r(){return D().w(function(s){for(;;)switch(s.n){case 0:return s.n=1,this.rpcClient.readContract({abi:sp,address:this.address,functionName:"maxLiveness"});case 1:return s.a(2,s.v)}},r,this)}));function n(){return e.apply(this,arguments)}return n}()},{key:"minLiveness",value:function(){var e=W(D().m(function r(){return D().w(function(s){for(;;)switch(s.n){case 0:return s.n=1,this.rpcClient.readContract({abi:sp,address:this.address,functionName:"minLiveness"});case 1:return s.a(2,s.v)}},r,this)}));function n(){return e.apply(this,arguments)}return n}()},{key:"oov3",value:function(){var e=W(D().m(function r(){return D().w(function(s){for(;;)switch(s.n){case 0:return s.n=1,this.rpcClient.readContract({abi:sp,address:this.address,functionName:"oov3"});case 1:return s.a(2,s.v)}},r,this)}));function n(){return e.apply(this,arguments)}return n}()}])}(),VRe=function(t){function e(n,r,s){var i;return Qe(this,e),i=zn(this,e,[n,s]),i.wallet=r,i}return Vn(e,t),et(e,[{key:"disputeAssertion",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:sp,address:this.address,functionName:"disputeAssertion",account:this.wallet.account,args:[i.assertionId,i.counterEvidenceHash]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"disputeAssertionEncode",value:function(r){return{to:this.address,data:pe({abi:sp,functionName:"disputeAssertion",args:[r.assertionId,r.counterEvidenceHash]})}}}])}(zRe),HRe=function(){function t(e,n){var r;Qe(this,t),this.address=n||Hn(lM,(r=e.chain)===null||r===void 0?void 0:r.id),this.rpcClient=e}return et(t,[{key:"watchAuthorityUpdatedEvent",value:function(n){return this.rpcClient.watchContractEvent({abi:Rt,address:this.address,eventName:"AuthorityUpdated",onLogs:function(s){s.forEach(function(i){return n(i.transactionHash,i.args)})}})}},{key:"parseTxAuthorityUpdatedEvent",value:function(n){var r=[],s=bt(n.logs),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;try{var o=yn({abi:Rt,eventName:"AuthorityUpdated",data:a.data,topics:a.topics});o.eventName==="AuthorityUpdated"&&r.push(o.args)}catch{}}}catch(l){s.e(l)}finally{s.f()}return r}},{key:"watchInitializedEvent",value:function(n){return this.rpcClient.watchContractEvent({abi:Rt,address:this.address,eventName:"Initialized",onLogs:function(s){s.forEach(function(i){return n(i.transactionHash,i.args)})}})}},{key:"parseTxInitializedEvent",value:function(n){var r=[],s=bt(n.logs),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;try{var o=yn({abi:Rt,eventName:"Initialized",data:a.data,topics:a.topics});o.eventName==="Initialized"&&r.push(o.args)}catch{}}}catch(l){s.e(l)}finally{s.f()}return r}},{key:"watchMetadataFrozenEvent",value:function(n){return this.rpcClient.watchContractEvent({abi:Rt,address:this.address,eventName:"MetadataFrozen",onLogs:function(s){s.forEach(function(i){return n(i.transactionHash,i.args)})}})}},{key:"parseTxMetadataFrozenEvent",value:function(n){var r=[],s=bt(n.logs),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;try{var o=yn({abi:Rt,eventName:"MetadataFrozen",data:a.data,topics:a.topics});o.eventName==="MetadataFrozen"&&r.push(o.args)}catch{}}}catch(l){s.e(l)}finally{s.f()}return r}},{key:"watchMetadataUriSetEvent",value:function(n){return this.rpcClient.watchContractEvent({abi:Rt,address:this.address,eventName:"MetadataURISet",onLogs:function(s){s.forEach(function(i){return n(i.transactionHash,i.args)})}})}},{key:"parseTxMetadataUriSetEvent",value:function(n){var r=[],s=bt(n.logs),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;try{var o=yn({abi:Rt,eventName:"MetadataURISet",data:a.data,topics:a.topics});o.eventName==="MetadataURISet"&&r.push(o.args)}catch{}}}catch(l){s.e(l)}finally{s.f()}return r}},{key:"watchNftTokenUriSetEvent",value:function(n){return this.rpcClient.watchContractEvent({abi:Rt,address:this.address,eventName:"NFTTokenURISet",onLogs:function(s){s.forEach(function(i){return n(i.transactionHash,i.args)})}})}},{key:"parseTxNftTokenUriSetEvent",value:function(n){var r=[],s=bt(n.logs),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;try{var o=yn({abi:Rt,eventName:"NFTTokenURISet",data:a.data,topics:a.topics});o.eventName==="NFTTokenURISet"&&r.push(o.args)}catch{}}}catch(l){s.e(l)}finally{s.f()}return r}},{key:"watchUpgradedEvent",value:function(n){return this.rpcClient.watchContractEvent({abi:Rt,address:this.address,eventName:"Upgraded",onLogs:function(s){s.forEach(function(i){return n(i.transactionHash,i.args)})}})}},{key:"parseTxUpgradedEvent",value:function(n){var r=[],s=bt(n.logs),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;try{var o=yn({abi:Rt,eventName:"Upgraded",data:a.data,topics:a.topics});o.eventName==="Upgraded"&&r.push(o.args)}catch{}}}catch(l){s.e(l)}finally{s.f()}return r}}])}(),WRe=function(t){function e(n,r){return Qe(this,e),zn(this,e,[n,r])}return Vn(e,t),et(e,[{key:"accessController",value:function(){var n=W(D().m(function s(){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:Rt,address:this.address,functionName:"ACCESS_CONTROLLER"});case 1:return i.a(2,i.v)}},s,this)}));function r(){return n.apply(this,arguments)}return r}()},{key:"ipAssetRegistry",value:function(){var n=W(D().m(function s(){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:Rt,address:this.address,functionName:"IP_ASSET_REGISTRY"});case 1:return i.a(2,i.v)}},s,this)}));function r(){return n.apply(this,arguments)}return r}()},{key:"upgradeInterfaceVersion",value:function(){var n=W(D().m(function s(){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:Rt,address:this.address,functionName:"UPGRADE_INTERFACE_VERSION"});case 1:return i.a(2,i.v)}},s,this)}));function r(){return n.apply(this,arguments)}return r}()},{key:"authority",value:function(){var n=W(D().m(function s(){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:Rt,address:this.address,functionName:"authority"});case 1:return i.a(2,i.v)}},s,this)}));function r(){return n.apply(this,arguments)}return r}()},{key:"isConsumingScheduledOp",value:function(){var n=W(D().m(function s(){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:Rt,address:this.address,functionName:"isConsumingScheduledOp"});case 1:return i.a(2,i.v)}},s,this)}));function r(){return n.apply(this,arguments)}return r}()},{key:"isMetadataFrozen",value:function(){var n=W(D().m(function s(i){return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.rpcClient.readContract({abi:Rt,address:this.address,functionName:"isMetadataFrozen",args:[i.ipId]});case 1:return a.a(2,a.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"name",value:function(){var n=W(D().m(function s(){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:Rt,address:this.address,functionName:"name"});case 1:return i.a(2,i.v)}},s,this)}));function r(){return n.apply(this,arguments)}return r}()},{key:"proxiableUuid",value:function(){var n=W(D().m(function s(){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:Rt,address:this.address,functionName:"proxiableUUID"});case 1:return i.a(2,i.v)}},s,this)}));function r(){return n.apply(this,arguments)}return r}()},{key:"supportsInterface",value:function(){var n=W(D().m(function s(i){return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.rpcClient.readContract({abi:Rt,address:this.address,functionName:"supportsInterface",args:[i.interfaceId]});case 1:return a.a(2,a.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()}])}(HRe),uM=function(t){function e(n,r,s){var i;return Qe(this,e),i=zn(this,e,[n,s]),i.wallet=r,i}return Vn(e,t),et(e,[{key:"freezeMetadata",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:Rt,address:this.address,functionName:"freezeMetadata",account:this.wallet.account,args:[i.ipId]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"freezeMetadataEncode",value:function(r){return{to:this.address,data:pe({abi:Rt,functionName:"freezeMetadata",args:[r.ipId]})}}},{key:"initialize",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:Rt,address:this.address,functionName:"initialize",account:this.wallet.account,args:[i.accessManager]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"initializeEncode",value:function(r){return{to:this.address,data:pe({abi:Rt,functionName:"initialize",args:[r.accessManager]})}}},{key:"setAll",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:Rt,address:this.address,functionName:"setAll",account:this.wallet.account,args:[i.ipId,i.metadataURI,i.metadataHash,i.nftMetadataHash]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"setAllEncode",value:function(r){return{to:this.address,data:pe({abi:Rt,functionName:"setAll",args:[r.ipId,r.metadataURI,r.metadataHash,r.nftMetadataHash]})}}},{key:"setAuthority",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:Rt,address:this.address,functionName:"setAuthority",account:this.wallet.account,args:[i.newAuthority]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"setAuthorityEncode",value:function(r){return{to:this.address,data:pe({abi:Rt,functionName:"setAuthority",args:[r.newAuthority]})}}},{key:"setMetadataUri",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:Rt,address:this.address,functionName:"setMetadataURI",account:this.wallet.account,args:[i.ipId,i.metadataURI,i.metadataHash]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"setMetadataUriEncode",value:function(r){return{to:this.address,data:pe({abi:Rt,functionName:"setMetadataURI",args:[r.ipId,r.metadataURI,r.metadataHash]})}}},{key:"updateNftTokenUri",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:Rt,address:this.address,functionName:"updateNftTokenURI",account:this.wallet.account,args:[i.ipId,i.nftMetadataHash]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"updateNftTokenUriEncode",value:function(r){return{to:this.address,data:pe({abi:Rt,functionName:"updateNftTokenURI",args:[r.ipId,r.nftMetadataHash]})}}},{key:"upgradeToAndCall",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:Rt,address:this.address,functionName:"upgradeToAndCall",account:this.wallet.account,args:[i.newImplementation,i.data]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"upgradeToAndCallEncode",value:function(r){return{to:this.address,data:pe({abi:Rt,functionName:"upgradeToAndCall",args:[r.newImplementation,r.data]})}}}])}(WRe),dM=function(){function t(e,n,r){var s;Qe(this,t),this.address=r||Hn(PZ,(s=e.chain)===null||s===void 0?void 0:s.id),this.rpcClient=e,this.wallet=n}return et(t,[{key:"mintAndRegisterIpAndMakeDerivative",value:function(){var e=W(D().m(function r(s){var i,a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.rpcClient.simulateContract({abi:ba,address:this.address,functionName:"mintAndRegisterIpAndMakeDerivative",account:this.wallet.account,args:[s.spgNftContract,s.derivData,s.ipMetadata,s.recipient,s.allowDuplicates]});case 1:return i=o.v,a=i.request,o.n=2,this.wallet.writeContract(a);case 2:return o.a(2,o.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"mintAndRegisterIpAndMakeDerivativeEncode",value:function(n){return{to:this.address,data:pe({abi:ba,functionName:"mintAndRegisterIpAndMakeDerivative",args:[n.spgNftContract,n.derivData,n.ipMetadata,n.recipient,n.allowDuplicates]})}}},{key:"mintAndRegisterIpAndMakeDerivativeWithLicenseTokens",value:function(){var e=W(D().m(function r(s){var i,a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.rpcClient.simulateContract({abi:ba,address:this.address,functionName:"mintAndRegisterIpAndMakeDerivativeWithLicenseTokens",account:this.wallet.account,args:[s.spgNftContract,s.licenseTokenIds,s.royaltyContext,s.maxRts,s.ipMetadata,s.recipient,s.allowDuplicates]});case 1:return i=o.v,a=i.request,o.n=2,this.wallet.writeContract(a);case 2:return o.a(2,o.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"mintAndRegisterIpAndMakeDerivativeWithLicenseTokensEncode",value:function(n){return{to:this.address,data:pe({abi:ba,functionName:"mintAndRegisterIpAndMakeDerivativeWithLicenseTokens",args:[n.spgNftContract,n.licenseTokenIds,n.royaltyContext,n.maxRts,n.ipMetadata,n.recipient,n.allowDuplicates]})}}},{key:"multicall",value:function(){var e=W(D().m(function r(s){var i,a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.rpcClient.simulateContract({abi:ba,address:this.address,functionName:"multicall",account:this.wallet.account,args:[s.data]});case 1:return i=o.v,a=i.request,o.n=2,this.wallet.writeContract(a);case 2:return o.a(2,o.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"multicallEncode",value:function(n){return{to:this.address,data:pe({abi:ba,functionName:"multicall",args:[n.data]})}}},{key:"registerIpAndMakeDerivative",value:function(){var e=W(D().m(function r(s){var i,a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.rpcClient.simulateContract({abi:ba,address:this.address,functionName:"registerIpAndMakeDerivative",account:this.wallet.account,args:[s.nftContract,s.tokenId,s.derivData,s.ipMetadata,s.sigMetadataAndRegister]});case 1:return i=o.v,a=i.request,o.n=2,this.wallet.writeContract(a);case 2:return o.a(2,o.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"registerIpAndMakeDerivativeEncode",value:function(n){return{to:this.address,data:pe({abi:ba,functionName:"registerIpAndMakeDerivative",args:[n.nftContract,n.tokenId,n.derivData,n.ipMetadata,n.sigMetadataAndRegister]})}}},{key:"registerIpAndMakeDerivativeWithLicenseTokens",value:function(){var e=W(D().m(function r(s){var i,a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.rpcClient.simulateContract({abi:ba,address:this.address,functionName:"registerIpAndMakeDerivativeWithLicenseTokens",account:this.wallet.account,args:[s.nftContract,s.tokenId,s.licenseTokenIds,s.royaltyContext,s.maxRts,s.ipMetadata,s.sigMetadataAndRegister]});case 1:return i=o.v,a=i.request,o.n=2,this.wallet.writeContract(a);case 2:return o.a(2,o.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"registerIpAndMakeDerivativeWithLicenseTokensEncode",value:function(n){return{to:this.address,data:pe({abi:ba,functionName:"registerIpAndMakeDerivativeWithLicenseTokens",args:[n.nftContract,n.tokenId,n.licenseTokenIds,n.royaltyContext,n.maxRts,n.ipMetadata,n.sigMetadataAndRegister]})}}}])}(),GRe=function(){function t(e,n){var r;Qe(this,t),this.address=n||Hn(IRe,(r=e.chain)===null||r===void 0?void 0:r.id),this.rpcClient=e}return et(t,[{key:"watchDisputeCancelledEvent",value:function(n){return this.rpcClient.watchContractEvent({abi:Hs,address:this.address,eventName:"DisputeCancelled",onLogs:function(s){s.forEach(function(i){return n(i.transactionHash,i.args)})}})}},{key:"parseTxDisputeCancelledEvent",value:function(n){var r=[],s=bt(n.logs),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;try{var o=yn({abi:Hs,eventName:"DisputeCancelled",data:a.data,topics:a.topics});o.eventName==="DisputeCancelled"&&r.push(o.args)}catch{}}}catch(l){s.e(l)}finally{s.f()}return r}},{key:"watchDisputeRaisedEvent",value:function(n){return this.rpcClient.watchContractEvent({abi:Hs,address:this.address,eventName:"DisputeRaised",onLogs:function(s){s.forEach(function(i){return n(i.transactionHash,i.args)})}})}},{key:"parseTxDisputeRaisedEvent",value:function(n){var r=[],s=bt(n.logs),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;try{var o=yn({abi:Hs,eventName:"DisputeRaised",data:a.data,topics:a.topics});o.eventName==="DisputeRaised"&&r.push(o.args)}catch{}}}catch(l){s.e(l)}finally{s.f()}return r}},{key:"watchDisputeResolvedEvent",value:function(n){return this.rpcClient.watchContractEvent({abi:Hs,address:this.address,eventName:"DisputeResolved",onLogs:function(s){s.forEach(function(i){return n(i.transactionHash,i.args)})}})}},{key:"parseTxDisputeResolvedEvent",value:function(n){var r=[],s=bt(n.logs),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;try{var o=yn({abi:Hs,eventName:"DisputeResolved",data:a.data,topics:a.topics});o.eventName==="DisputeResolved"&&r.push(o.args)}catch{}}}catch(l){s.e(l)}finally{s.f()}return r}}])}(),KRe=function(t){function e(n,r){return Qe(this,e),zn(this,e,[n,r])}return Vn(e,t),et(e,[{key:"isWhitelistedDisputeTag",value:function(){var n=W(D().m(function s(i){var a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.rpcClient.readContract({abi:Hs,address:this.address,functionName:"isWhitelistedDisputeTag",args:[i.tag]});case 1:return a=o.v,o.a(2,{allowed:a})}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()}])}(GRe),YRe=function(t){function e(n,r,s){var i;return Qe(this,e),i=zn(this,e,[n,s]),i.wallet=r,i}return Vn(e,t),et(e,[{key:"cancelDispute",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:Hs,address:this.address,functionName:"cancelDispute",account:this.wallet.account,args:[i.disputeId,i.data]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"cancelDisputeEncode",value:function(r){return{to:this.address,data:pe({abi:Hs,functionName:"cancelDispute",args:[r.disputeId,r.data]})}}},{key:"raiseDispute",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:Hs,address:this.address,functionName:"raiseDispute",account:this.wallet.account,args:[i.targetIpId,i.disputeEvidenceHash,i.targetTag,i.data]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"raiseDisputeEncode",value:function(r){return{to:this.address,data:pe({abi:Hs,functionName:"raiseDispute",args:[r.targetIpId,r.disputeEvidenceHash,r.targetTag,r.data]})}}},{key:"resolveDispute",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:Hs,address:this.address,functionName:"resolveDispute",account:this.wallet.account,args:[i.disputeId,i.data]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"resolveDisputeEncode",value:function(r){return{to:this.address,data:pe({abi:Hs,functionName:"resolveDispute",args:[r.disputeId,r.data]})}}},{key:"tagIfRelatedIpInfringed",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:Hs,address:this.address,functionName:"tagIfRelatedIpInfringed",account:this.wallet.account,args:[i.ipIdToTag,i.infringerDisputeId]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"tagIfRelatedIpInfringedEncode",value:function(r){return{to:this.address,data:pe({abi:Hs,functionName:"tagIfRelatedIpInfringed",args:[r.ipIdToTag,r.infringerDisputeId]})}}}])}(KRe),qRe=function(){function t(e,n){var r;Qe(this,t),this.address=n||Hn(kRe,(r=e.chain)===null||r===void 0?void 0:r.id),this.rpcClient=e}return et(t,[{key:"allowance",value:function(){var e=W(D().m(function r(s){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:Jo,address:this.address,functionName:"allowance",args:[s.owner,s.spender]});case 1:return i.a(2,i.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"balanceOf",value:function(){var e=W(D().m(function r(s){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:Jo,address:this.address,functionName:"balanceOf",args:[s.account]});case 1:return i.a(2,i.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()}])}(),FZ=function(t){function e(n,r,s){var i;return Qe(this,e),i=zn(this,e,[n,s]),i.wallet=r,i}return Vn(e,t),et(e,[{key:"approve",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:Jo,address:this.address,functionName:"approve",account:this.wallet.account,args:[i.spender,i.value]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"approveEncode",value:function(r){return{to:this.address,data:pe({abi:Jo,functionName:"approve",args:[r.spender,r.value]})}}},{key:"mint",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:Jo,address:this.address,functionName:"mint",account:this.wallet.account,args:[i.to,i.amount]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"mintEncode",value:function(r){return{to:this.address,data:pe({abi:Jo,functionName:"mint",args:[r.to,r.amount]})}}},{key:"transfer",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:Jo,address:this.address,functionName:"transfer",account:this.wallet.account,args:[i.to,i.value]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"transferEncode",value:function(r){return{to:this.address,data:pe({abi:Jo,functionName:"transfer",args:[r.to,r.value]})}}},{key:"transferFrom",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:Jo,address:this.address,functionName:"transferFrom",account:this.wallet.account,args:[i.from,i.to,i.value]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"transferFromEncode",value:function(r){return{to:this.address,data:pe({abi:Jo,functionName:"transferFrom",args:[r.from,r.to,r.value]})}}}])}(qRe),BZ=function(){function t(e,n){var r;Qe(this,t),this.address=n||Hn(CRe,(r=e.chain)===null||r===void 0?void 0:r.id),this.rpcClient=e}return et(t,[{key:"watchClaimedRewardEvent",value:function(n){return this.rpcClient.watchContractEvent({abi:Lr,address:this.address,eventName:"ClaimedReward",onLogs:function(s){s.forEach(function(i){return n(i.transactionHash,i.args)})}})}},{key:"parseTxClaimedRewardEvent",value:function(n){var r=[],s=bt(n.logs),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;try{var o=yn({abi:Lr,eventName:"ClaimedReward",data:a.data,topics:a.topics});o.eventName==="ClaimedReward"&&r.push(o.args)}catch{}}}catch(l){s.e(l)}finally{s.f()}return r}},{key:"watchCollectedRoyaltiesToGroupPoolEvent",value:function(n){return this.rpcClient.watchContractEvent({abi:Lr,address:this.address,eventName:"CollectedRoyaltiesToGroupPool",onLogs:function(s){s.forEach(function(i){return n(i.transactionHash,i.args)})}})}},{key:"parseTxCollectedRoyaltiesToGroupPoolEvent",value:function(n){var r=[],s=bt(n.logs),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;try{var o=yn({abi:Lr,eventName:"CollectedRoyaltiesToGroupPool",data:a.data,topics:a.topics});o.eventName==="CollectedRoyaltiesToGroupPool"&&r.push(o.args)}catch{}}}catch(l){s.e(l)}finally{s.f()}return r}},{key:"watchIpGroupRegisteredEvent",value:function(n){return this.rpcClient.watchContractEvent({abi:Lr,address:this.address,eventName:"IPGroupRegistered",onLogs:function(s){s.forEach(function(i){return n(i.transactionHash,i.args)})}})}},{key:"parseTxIpGroupRegisteredEvent",value:function(n){var r=[],s=bt(n.logs),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;try{var o=yn({abi:Lr,eventName:"IPGroupRegistered",data:a.data,topics:a.topics});o.eventName==="IPGroupRegistered"&&r.push(o.args)}catch{}}}catch(l){s.e(l)}finally{s.f()}return r}}])}(),ZRe=function(t){function e(n,r){return Qe(this,e),zn(this,e,[n,r])}return Vn(e,t),et(e,[{key:"getClaimableReward",value:function(){var n=W(D().m(function s(i){return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.rpcClient.readContract({abi:Lr,address:this.address,functionName:"getClaimableReward",args:[i.groupId,i.token,i.ipIds]});case 1:return a.a(2,a.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()}])}(BZ),XRe=function(t){function e(n,r,s){var i;return Qe(this,e),i=zn(this,e,[n,s]),i.wallet=r,i}return Vn(e,t),et(e,[{key:"addIp",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:Lr,address:this.address,functionName:"addIp",account:this.wallet.account,args:[i.groupIpId,i.ipIds,i.maxAllowedRewardShare]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"addIpEncode",value:function(r){return{to:this.address,data:pe({abi:Lr,functionName:"addIp",args:[r.groupIpId,r.ipIds,r.maxAllowedRewardShare]})}}},{key:"claimReward",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:Lr,address:this.address,functionName:"claimReward",account:this.wallet.account,args:[i.groupId,i.token,i.ipIds]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"claimRewardEncode",value:function(r){return{to:this.address,data:pe({abi:Lr,functionName:"claimReward",args:[r.groupId,r.token,r.ipIds]})}}},{key:"collectRoyalties",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:Lr,address:this.address,functionName:"collectRoyalties",account:this.wallet.account,args:[i.groupId,i.token]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"collectRoyaltiesEncode",value:function(r){return{to:this.address,data:pe({abi:Lr,functionName:"collectRoyalties",args:[r.groupId,r.token]})}}},{key:"registerGroup",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:Lr,address:this.address,functionName:"registerGroup",account:this.wallet.account,args:[i.groupPool]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"registerGroupEncode",value:function(r){return{to:this.address,data:pe({abi:Lr,functionName:"registerGroup",args:[r.groupPool]})}}},{key:"removeIp",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:Lr,address:this.address,functionName:"removeIp",account:this.wallet.account,args:[i.groupIpId,i.ipIds]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"removeIpEncode",value:function(r){return{to:this.address,data:pe({abi:Lr,functionName:"removeIp",args:[r.groupIpId,r.ipIds]})}}}])}(ZRe),JRe=function(){function t(e,n,r){var s;Qe(this,t),this.address=r||Hn(NRe,(s=e.chain)===null||s===void 0?void 0:s.id),this.rpcClient=e,this.wallet=n}return et(t,[{key:"collectRoyaltiesAndClaimReward",value:function(){var e=W(D().m(function r(s){var i,a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.rpcClient.simulateContract({abi:Ko,address:this.address,functionName:"collectRoyaltiesAndClaimReward",account:this.wallet.account,args:[s.groupIpId,s.currencyTokens,s.memberIpIds]});case 1:return i=o.v,a=i.request,o.n=2,this.wallet.writeContract(a);case 2:return o.a(2,o.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"collectRoyaltiesAndClaimRewardEncode",value:function(n){return{to:this.address,data:pe({abi:Ko,functionName:"collectRoyaltiesAndClaimReward",args:[n.groupIpId,n.currencyTokens,n.memberIpIds]})}}},{key:"mintAndRegisterIpAndAttachLicenseAndAddToGroup",value:function(){var e=W(D().m(function r(s){var i,a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.rpcClient.simulateContract({abi:Ko,address:this.address,functionName:"mintAndRegisterIpAndAttachLicenseAndAddToGroup",account:this.wallet.account,args:[s.spgNftContract,s.groupId,s.recipient,s.maxAllowedRewardShare,s.licensesData,s.ipMetadata,s.sigAddToGroup,s.allowDuplicates]});case 1:return i=o.v,a=i.request,o.n=2,this.wallet.writeContract(a);case 2:return o.a(2,o.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"mintAndRegisterIpAndAttachLicenseAndAddToGroupEncode",value:function(n){return{to:this.address,data:pe({abi:Ko,functionName:"mintAndRegisterIpAndAttachLicenseAndAddToGroup",args:[n.spgNftContract,n.groupId,n.recipient,n.maxAllowedRewardShare,n.licensesData,n.ipMetadata,n.sigAddToGroup,n.allowDuplicates]})}}},{key:"registerGroupAndAttachLicense",value:function(){var e=W(D().m(function r(s){var i,a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.rpcClient.simulateContract({abi:Ko,address:this.address,functionName:"registerGroupAndAttachLicense",account:this.wallet.account,args:[s.groupPool,s.licenseData]});case 1:return i=o.v,a=i.request,o.n=2,this.wallet.writeContract(a);case 2:return o.a(2,o.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"registerGroupAndAttachLicenseEncode",value:function(n){return{to:this.address,data:pe({abi:Ko,functionName:"registerGroupAndAttachLicense",args:[n.groupPool,n.licenseData]})}}},{key:"registerGroupAndAttachLicenseAndAddIps",value:function(){var e=W(D().m(function r(s){var i,a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.rpcClient.simulateContract({abi:Ko,address:this.address,functionName:"registerGroupAndAttachLicenseAndAddIps",account:this.wallet.account,args:[s.groupPool,s.ipIds,s.maxAllowedRewardShare,s.licenseData]});case 1:return i=o.v,a=i.request,o.n=2,this.wallet.writeContract(a);case 2:return o.a(2,o.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"registerGroupAndAttachLicenseAndAddIpsEncode",value:function(n){return{to:this.address,data:pe({abi:Ko,functionName:"registerGroupAndAttachLicenseAndAddIps",args:[n.groupPool,n.ipIds,n.maxAllowedRewardShare,n.licenseData]})}}},{key:"registerIpAndAttachLicenseAndAddToGroup",value:function(){var e=W(D().m(function r(s){var i,a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.rpcClient.simulateContract({abi:Ko,address:this.address,functionName:"registerIpAndAttachLicenseAndAddToGroup",account:this.wallet.account,args:[s.nftContract,s.tokenId,s.groupId,s.maxAllowedRewardShare,s.licensesData,s.ipMetadata,s.sigMetadataAndAttachAndConfig,s.sigAddToGroup]});case 1:return i=o.v,a=i.request,o.n=2,this.wallet.writeContract(a);case 2:return o.a(2,o.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"registerIpAndAttachLicenseAndAddToGroupEncode",value:function(n){return{to:this.address,data:pe({abi:Ko,functionName:"registerIpAndAttachLicenseAndAddToGroup",args:[n.nftContract,n.tokenId,n.groupId,n.maxAllowedRewardShare,n.licensesData,n.ipMetadata,n.sigMetadataAndAttachAndConfig,n.sigAddToGroup]})}}}])}(),QRe=function(){function t(e,n){var r;Qe(this,t),this.address=n||Hn(ERe,(r=e.chain)===null||r===void 0?void 0:r.id),this.rpcClient=e}return et(t,[{key:"owner",value:function(){var e=W(D().m(function r(){return D().w(function(s){for(;;)switch(s.n){case 0:return s.n=1,this.rpcClient.readContract({abi:Bi,address:this.address,functionName:"owner"});case 1:return s.a(2,s.v)}},r,this)}));function n(){return e.apply(this,arguments)}return n}()},{key:"state",value:function(){var e=W(D().m(function r(){var s;return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:Bi,address:this.address,functionName:"state"});case 1:return s=i.v,i.a(2,{result:s})}},r,this)}));function n(){return e.apply(this,arguments)}return n}()},{key:"token",value:function(){var e=W(D().m(function r(){return D().w(function(s){for(;;)switch(s.n){case 0:return s.n=1,this.rpcClient.readContract({abi:Bi,address:this.address,functionName:"token"});case 1:return s.a(2,s.v)}},r,this)}));function n(){return e.apply(this,arguments)}return n}()}])}(),qs=function(t){function e(n,r,s){var i;return Qe(this,e),i=zn(this,e,[n,s]),i.wallet=r,i}return Vn(e,t),et(e,[{key:"execute",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:Bi,address:this.address,functionName:"execute",account:this.wallet.account,args:[i.to,i.value,i.data,i.operation]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"executeEncode",value:function(r){return{to:this.address,data:pe({abi:Bi,functionName:"execute",args:[r.to,r.value,r.data,r.operation]})}}},{key:"execute2",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:Bi,address:this.address,functionName:"execute",account:this.wallet.account,args:[i.to,i.value,i.data]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"execute2Encode",value:function(r){return{to:this.address,data:pe({abi:Bi,functionName:"execute",args:[r.to,r.value,r.data]})}}},{key:"executeBatch",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:Bi,address:this.address,functionName:"executeBatch",account:this.wallet.account,args:[i.calls,i.operation]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"executeBatchEncode",value:function(r){return{to:this.address,data:pe({abi:Bi,functionName:"executeBatch",args:[r.calls,r.operation]})}}},{key:"executeWithSig",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:Bi,address:this.address,functionName:"executeWithSig",account:this.wallet.account,args:[i.to,i.value,i.data,i.signer,i.deadline,i.signature]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"executeWithSigEncode",value:function(r){return{to:this.address,data:pe({abi:Bi,functionName:"executeWithSig",args:[r.to,r.value,r.data,r.signer,r.deadline,r.signature]})}}}])}(QRe),ePe=function(){function t(e,n){var r;Qe(this,t),this.address=n||Hn(SRe,(r=e.chain)===null||r===void 0?void 0:r.id),this.rpcClient=e}return et(t,[{key:"watchIpAccountRegisteredEvent",value:function(n){return this.rpcClient.watchContractEvent({abi:Bu,address:this.address,eventName:"IPAccountRegistered",onLogs:function(s){s.forEach(function(i){return n(i.transactionHash,i.args)})}})}},{key:"parseTxIpAccountRegisteredEvent",value:function(n){var r=[],s=bt(n.logs),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;try{var o=yn({abi:Bu,eventName:"IPAccountRegistered",data:a.data,topics:a.topics});o.eventName==="IPAccountRegistered"&&r.push(o.args)}catch{}}}catch(l){s.e(l)}finally{s.f()}return r}},{key:"watchIpRegisteredEvent",value:function(n){return this.rpcClient.watchContractEvent({abi:Bu,address:this.address,eventName:"IPRegistered",onLogs:function(s){s.forEach(function(i){return n(i.transactionHash,i.args)})}})}},{key:"parseTxIpRegisteredEvent",value:function(n){var r=[],s=bt(n.logs),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;try{var o=yn({abi:Bu,eventName:"IPRegistered",data:a.data,topics:a.topics});o.eventName==="IPRegistered"&&r.push(o.args)}catch{}}}catch(l){s.e(l)}finally{s.f()}return r}}])}(),tPe=function(t){function e(n,r){return Qe(this,e),zn(this,e,[n,r])}return Vn(e,t),et(e,[{key:"ipId",value:function(){var n=W(D().m(function s(i){return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.rpcClient.readContract({abi:Bu,address:this.address,functionName:"ipId",args:[i.chainId,i.tokenContract,i.tokenId]});case 1:return a.a(2,a.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"isRegistered",value:function(){var n=W(D().m(function s(i){return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.rpcClient.readContract({abi:Bu,address:this.address,functionName:"isRegistered",args:[i.id]});case 1:return a.a(2,a.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()}])}(ePe),Sf=function(t){function e(n,r,s){var i;return Qe(this,e),i=zn(this,e,[n,s]),i.wallet=r,i}return Vn(e,t),et(e,[{key:"register",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:Bu,address:this.address,functionName:"register",account:this.wallet.account,args:[i.chainid,i.tokenContract,i.tokenId]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"registerEncode",value:function(r){return{to:this.address,data:pe({abi:Bu,functionName:"register",args:[r.chainid,r.tokenContract,r.tokenId]})}}}])}(tPe),UZ=function(){function t(e,n){var r;Qe(this,t),this.address=n||Hn(RRe,(r=e.chain)===null||r===void 0?void 0:r.id),this.rpcClient=e}return et(t,[{key:"watchRevenueTokenClaimedEvent",value:function(n){return this.rpcClient.watchContractEvent({abi:Uh,address:this.address,eventName:"RevenueTokenClaimed",onLogs:function(s){s.forEach(function(i){return n(i.transactionHash,i.args)})}})}},{key:"parseTxRevenueTokenClaimedEvent",value:function(n){var r=[],s=bt(n.logs),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;try{var o=yn({abi:Uh,eventName:"RevenueTokenClaimed",data:a.data,topics:a.topics});o.eventName==="RevenueTokenClaimed"&&r.push(o.args)}catch{}}}catch(l){s.e(l)}finally{s.f()}return r}}])}(),pE=function(t){function e(n,r){return Qe(this,e),zn(this,e,[n,r])}return Vn(e,t),et(e,[{key:"balanceOf",value:function(){var n=W(D().m(function s(i){return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.rpcClient.readContract({abi:Uh,address:this.address,functionName:"balanceOf",args:[i.account]});case 1:return a.a(2,a.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"claimableRevenue",value:function(){var n=W(D().m(function s(i){return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.rpcClient.readContract({abi:Uh,address:this.address,functionName:"claimableRevenue",args:[i.claimer,i.token]});case 1:return a.a(2,a.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"ipId",value:function(){var n=W(D().m(function s(){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:Uh,address:this.address,functionName:"ipId"});case 1:return i.a(2,i.v)}},s,this)}));function r(){return n.apply(this,arguments)}return r}()}])}(UZ),G2=function(){function t(e,n,r){var s;Qe(this,t),this.address=r||Hn(MZ,(s=e.chain)===null||s===void 0?void 0:s.id),this.rpcClient=e,this.wallet=n}return et(t,[{key:"mintAndRegisterIpAndAttachPilTerms",value:function(){var e=W(D().m(function r(s){var i,a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.rpcClient.simulateContract({abi:Qo,address:this.address,functionName:"mintAndRegisterIpAndAttachPILTerms",account:this.wallet.account,args:[s.spgNftContract,s.recipient,s.ipMetadata,s.licenseTermsData,s.allowDuplicates]});case 1:return i=o.v,a=i.request,o.n=2,this.wallet.writeContract(a);case 2:return o.a(2,o.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"mintAndRegisterIpAndAttachPilTermsEncode",value:function(n){return{to:this.address,data:pe({abi:Qo,functionName:"mintAndRegisterIpAndAttachPILTerms",args:[n.spgNftContract,n.recipient,n.ipMetadata,n.licenseTermsData,n.allowDuplicates]})}}},{key:"multicall",value:function(){var e=W(D().m(function r(s){var i,a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.rpcClient.simulateContract({abi:Qo,address:this.address,functionName:"multicall",account:this.wallet.account,args:[s.data]});case 1:return i=o.v,a=i.request,o.n=2,this.wallet.writeContract(a);case 2:return o.a(2,o.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"multicallEncode",value:function(n){return{to:this.address,data:pe({abi:Qo,functionName:"multicall",args:[n.data]})}}},{key:"registerIpAndAttachPilTerms",value:function(){var e=W(D().m(function r(s){var i,a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.rpcClient.simulateContract({abi:Qo,address:this.address,functionName:"registerIpAndAttachPILTerms",account:this.wallet.account,args:[s.nftContract,s.tokenId,s.ipMetadata,s.licenseTermsData,s.sigMetadataAndAttachAndConfig]});case 1:return i=o.v,a=i.request,o.n=2,this.wallet.writeContract(a);case 2:return o.a(2,o.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"registerIpAndAttachPilTermsEncode",value:function(n){return{to:this.address,data:pe({abi:Qo,functionName:"registerIpAndAttachPILTerms",args:[n.nftContract,n.tokenId,n.ipMetadata,n.licenseTermsData,n.sigMetadataAndAttachAndConfig]})}}},{key:"registerPilTermsAndAttach",value:function(){var e=W(D().m(function r(s){var i,a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.rpcClient.simulateContract({abi:Qo,address:this.address,functionName:"registerPILTermsAndAttach",account:this.wallet.account,args:[s.ipId,s.licenseTermsData,s.sigAttachAndConfig]});case 1:return i=o.v,a=i.request,o.n=2,this.wallet.writeContract(a);case 2:return o.a(2,o.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"registerPilTermsAndAttachEncode",value:function(n){return{to:this.address,data:pe({abi:Qo,functionName:"registerPILTermsAndAttach",args:[n.ipId,n.licenseTermsData,n.sigAttachAndConfig]})}}}])}(),K2=function(){function t(e,n){var r;Qe(this,t),this.address=n||Hn(PRe,(r=e.chain)===null||r===void 0?void 0:r.id),this.rpcClient=e}return et(t,[{key:"getDefaultLicenseTerms",value:function(){var e=W(D().m(function r(){var s;return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:lx,address:this.address,functionName:"getDefaultLicenseTerms"});case 1:return s=i.v,i.a(2,{licenseTemplate:s[0],licenseTermsId:s[1]})}},r,this)}));function n(){return e.apply(this,arguments)}return n}()},{key:"getLicensingConfig",value:function(){var e=W(D().m(function r(s){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:lx,address:this.address,functionName:"getLicensingConfig",args:[s.ipId,s.licenseTemplate,s.licenseTermsId]});case 1:return i.a(2,i.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"getRoyaltyPercent",value:function(){var e=W(D().m(function r(s){var i;return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.rpcClient.readContract({abi:lx,address:this.address,functionName:"getRoyaltyPercent",args:[s.ipId,s.licenseTemplate,s.licenseTermsId]});case 1:return i=a.v,a.a(2,{royaltyPercent:i})}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"hasIpAttachedLicenseTerms",value:function(){var e=W(D().m(function r(s){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:lx,address:this.address,functionName:"hasIpAttachedLicenseTerms",args:[s.ipId,s.licenseTemplate,s.licenseTermsId]});case 1:return i.a(2,i.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()}])}(),pM=function(){function t(e,n){var r;Qe(this,t),this.address=n||Hn(MRe,(r=e.chain)===null||r===void 0?void 0:r.id),this.rpcClient=e}return et(t,[{key:"ownerOf",value:function(){var e=W(D().m(function r(s){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:uE,address:this.address,functionName:"ownerOf",args:[s.tokenId]});case 1:return i.a(2,i.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()}])}(),nPe=function(t){function e(n,r,s){var i;return Qe(this,e),i=zn(this,e,[n,s]),i.wallet=r,i}return Vn(e,t),et(e,[{key:"approve",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:uE,address:this.address,functionName:"approve",account:this.wallet.account,args:[i.to,i.tokenId]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"approveEncode",value:function(r){return{to:this.address,data:pe({abi:uE,functionName:"approve",args:[r.to,r.tokenId]})}}}])}(pM),rPe=function(){function t(e,n){var r;Qe(this,t),this.address=n||Hn(cM,(r=e.chain)===null||r===void 0?void 0:r.id),this.rpcClient=e}return et(t,[{key:"watchLicenseTermsAttachedEvent",value:function(n){return this.rpcClient.watchContractEvent({abi:Cn,address:this.address,eventName:"LicenseTermsAttached",onLogs:function(s){s.forEach(function(i){return n(i.transactionHash,i.args)})}})}},{key:"parseTxLicenseTermsAttachedEvent",value:function(n){var r=[],s=bt(n.logs),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;try{var o=yn({abi:Cn,eventName:"LicenseTermsAttached",data:a.data,topics:a.topics});o.eventName==="LicenseTermsAttached"&&r.push(o.args)}catch{}}}catch(l){s.e(l)}finally{s.f()}return r}},{key:"watchLicenseTokensMintedEvent",value:function(n){return this.rpcClient.watchContractEvent({abi:Cn,address:this.address,eventName:"LicenseTokensMinted",onLogs:function(s){s.forEach(function(i){return n(i.transactionHash,i.args)})}})}},{key:"parseTxLicenseTokensMintedEvent",value:function(n){var r=[],s=bt(n.logs),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;try{var o=yn({abi:Cn,eventName:"LicenseTokensMinted",data:a.data,topics:a.topics});o.eventName==="LicenseTokensMinted"&&r.push(o.args)}catch{}}}catch(l){s.e(l)}finally{s.f()}return r}}])}(),sPe=function(t){function e(n,r){return Qe(this,e),zn(this,e,[n,r])}return Vn(e,t),et(e,[{key:"predictMintingLicenseFee",value:function(){var n=W(D().m(function s(i){var a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.rpcClient.readContract({abi:Cn,address:this.address,functionName:"predictMintingLicenseFee",args:[i.licensorIpId,i.licenseTemplate,i.licenseTermsId,i.amount,i.receiver,i.royaltyContext]});case 1:return a=o.v,o.a(2,{currencyToken:a[0],tokenAmount:a[1]})}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()}])}(rPe),fM=function(t){function e(n,r,s){var i;return Qe(this,e),i=zn(this,e,[n,s]),i.wallet=r,i}return Vn(e,t),et(e,[{key:"attachLicenseTerms",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:Cn,address:this.address,functionName:"attachLicenseTerms",account:this.wallet.account,args:[i.ipId,i.licenseTemplate,i.licenseTermsId]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"attachLicenseTermsEncode",value:function(r){return{to:this.address,data:pe({abi:Cn,functionName:"attachLicenseTerms",args:[r.ipId,r.licenseTemplate,r.licenseTermsId]})}}},{key:"mintLicenseTokens",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:Cn,address:this.address,functionName:"mintLicenseTokens",account:this.wallet.account,args:[i.licensorIpId,i.licenseTemplate,i.licenseTermsId,i.amount,i.receiver,i.royaltyContext,i.maxMintingFee,i.maxRevenueShare]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"mintLicenseTokensEncode",value:function(r){return{to:this.address,data:pe({abi:Cn,functionName:"mintLicenseTokens",args:[r.licensorIpId,r.licenseTemplate,r.licenseTermsId,r.amount,r.receiver,r.royaltyContext,r.maxMintingFee,r.maxRevenueShare]})}}},{key:"registerDerivative",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:Cn,address:this.address,functionName:"registerDerivative",account:this.wallet.account,args:[i.childIpId,i.parentIpIds,i.licenseTermsIds,i.licenseTemplate,i.royaltyContext,i.maxMintingFee,i.maxRts,i.maxRevenueShare]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"registerDerivativeEncode",value:function(r){return{to:this.address,data:pe({abi:Cn,functionName:"registerDerivative",args:[r.childIpId,r.parentIpIds,r.licenseTermsIds,r.licenseTemplate,r.royaltyContext,r.maxMintingFee,r.maxRts,r.maxRevenueShare]})}}},{key:"registerDerivativeWithLicenseTokens",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:Cn,address:this.address,functionName:"registerDerivativeWithLicenseTokens",account:this.wallet.account,args:[i.childIpId,i.licenseTokenIds,i.royaltyContext,i.maxRts]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"registerDerivativeWithLicenseTokensEncode",value:function(r){return{to:this.address,data:pe({abi:Cn,functionName:"registerDerivativeWithLicenseTokens",args:[r.childIpId,r.licenseTokenIds,r.royaltyContext,r.maxRts]})}}},{key:"setLicensingConfig",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:Cn,address:this.address,functionName:"setLicensingConfig",account:this.wallet.account,args:[i.ipId,i.licenseTemplate,i.licenseTermsId,i.licensingConfig]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"setLicensingConfigEncode",value:function(r){return{to:this.address,data:pe({abi:Cn,functionName:"setLicensingConfig",args:[r.ipId,r.licenseTemplate,r.licenseTermsId,r.licensingConfig]})}}}])}(sPe),iPe=function(){function t(e,n){var r;Qe(this,t),this.address=n||Hn(_Re,(r=e.chain)===null||r===void 0?void 0:r.id),this.rpcClient=e}return et(t,[{key:"isRegistered",value:function(){var e=W(D().m(function r(s){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:jRe,address:this.address,functionName:"isRegistered",args:[s.moduleAddress]});case 1:return i.a(2,i.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()}])}(),Y2=function(){function t(e,n,r){var s;Qe(this,t),this.address=r||Hn(DRe,(s=e.chain)===null||s===void 0?void 0:s.id),this.rpcClient=e,this.wallet=n}return et(t,[{key:"aggregate3",value:function(){var e=W(D().m(function r(s){var i,a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.rpcClient.simulateContract({abi:dE,address:this.address,functionName:"aggregate3",account:this.wallet.account,args:[s.calls]});case 1:return i=o.v,a=i.request,o.n=2,this.wallet.writeContract(a);case 2:return o.a(2,o.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"aggregate3Encode",value:function(n){return{to:this.address,data:pe({abi:dE,functionName:"aggregate3",args:[n.calls]})}}}])}(),aPe=function(){function t(e,n){var r;Qe(this,t),this.address=n||Hn(jZ,(r=e.chain)===null||r===void 0?void 0:r.id),this.rpcClient=e}return et(t,[{key:"watchAuthorityUpdatedEvent",value:function(n){return this.rpcClient.watchContractEvent({abi:dt,address:this.address,eventName:"AuthorityUpdated",onLogs:function(s){s.forEach(function(i){return n(i.transactionHash,i.args)})}})}},{key:"parseTxAuthorityUpdatedEvent",value:function(n){var r=[],s=bt(n.logs),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;try{var o=yn({abi:dt,eventName:"AuthorityUpdated",data:a.data,topics:a.topics});o.eventName==="AuthorityUpdated"&&r.push(o.args)}catch{}}}catch(l){s.e(l)}finally{s.f()}return r}},{key:"watchDerivativeApprovedEvent",value:function(n){return this.rpcClient.watchContractEvent({abi:dt,address:this.address,eventName:"DerivativeApproved",onLogs:function(s){s.forEach(function(i){return n(i.transactionHash,i.args)})}})}},{key:"parseTxDerivativeApprovedEvent",value:function(n){var r=[],s=bt(n.logs),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;try{var o=yn({abi:dt,eventName:"DerivativeApproved",data:a.data,topics:a.topics});o.eventName==="DerivativeApproved"&&r.push(o.args)}catch{}}}catch(l){s.e(l)}finally{s.f()}return r}},{key:"watchInitializedEvent",value:function(n){return this.rpcClient.watchContractEvent({abi:dt,address:this.address,eventName:"Initialized",onLogs:function(s){s.forEach(function(i){return n(i.transactionHash,i.args)})}})}},{key:"parseTxInitializedEvent",value:function(n){var r=[],s=bt(n.logs),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;try{var o=yn({abi:dt,eventName:"Initialized",data:a.data,topics:a.topics});o.eventName==="Initialized"&&r.push(o.args)}catch{}}}catch(l){s.e(l)}finally{s.f()}return r}},{key:"watchLicenseTermsRegisteredEvent",value:function(n){return this.rpcClient.watchContractEvent({abi:dt,address:this.address,eventName:"LicenseTermsRegistered",onLogs:function(s){s.forEach(function(i){return n(i.transactionHash,i.args)})}})}},{key:"parseTxLicenseTermsRegisteredEvent",value:function(n){var r=[],s=bt(n.logs),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;try{var o=yn({abi:dt,eventName:"LicenseTermsRegistered",data:a.data,topics:a.topics});o.eventName==="LicenseTermsRegistered"&&r.push(o.args)}catch{}}}catch(l){s.e(l)}finally{s.f()}return r}},{key:"watchUpgradedEvent",value:function(n){return this.rpcClient.watchContractEvent({abi:dt,address:this.address,eventName:"Upgraded",onLogs:function(s){s.forEach(function(i){return n(i.transactionHash,i.args)})}})}},{key:"parseTxUpgradedEvent",value:function(n){var r=[],s=bt(n.logs),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;try{var o=yn({abi:dt,eventName:"Upgraded",data:a.data,topics:a.topics});o.eventName==="Upgraded"&&r.push(o.args)}catch{}}}catch(l){s.e(l)}finally{s.f()}return r}}])}(),zZ=function(t){function e(n,r){return Qe(this,e),zn(this,e,[n,r])}return Vn(e,t),et(e,[{key:"accessController",value:function(){var n=W(D().m(function s(){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:dt,address:this.address,functionName:"ACCESS_CONTROLLER"});case 1:return i.a(2,i.v)}},s,this)}));function r(){return n.apply(this,arguments)}return r}()},{key:"ipAssetRegistry",value:function(){var n=W(D().m(function s(){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:dt,address:this.address,functionName:"IP_ASSET_REGISTRY"});case 1:return i.a(2,i.v)}},s,this)}));function r(){return n.apply(this,arguments)}return r}()},{key:"licenseRegistry",value:function(){var n=W(D().m(function s(){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:dt,address:this.address,functionName:"LICENSE_REGISTRY"});case 1:return i.a(2,i.v)}},s,this)}));function r(){return n.apply(this,arguments)}return r}()},{key:"moduleRegistry",value:function(){var n=W(D().m(function s(){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:dt,address:this.address,functionName:"MODULE_REGISTRY"});case 1:return i.a(2,i.v)}},s,this)}));function r(){return n.apply(this,arguments)}return r}()},{key:"royaltyModule",value:function(){var n=W(D().m(function s(){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:dt,address:this.address,functionName:"ROYALTY_MODULE"});case 1:return i.a(2,i.v)}},s,this)}));function r(){return n.apply(this,arguments)}return r}()},{key:"termsRenderer",value:function(){var n=W(D().m(function s(){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:dt,address:this.address,functionName:"TERMS_RENDERER"});case 1:return i.a(2,i.v)}},s,this)}));function r(){return n.apply(this,arguments)}return r}()},{key:"upgradeInterfaceVersion",value:function(){var n=W(D().m(function s(){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:dt,address:this.address,functionName:"UPGRADE_INTERFACE_VERSION"});case 1:return i.a(2,i.v)}},s,this)}));function r(){return n.apply(this,arguments)}return r}()},{key:"allowDerivativeRegistration",value:function(){var n=W(D().m(function s(i){return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.rpcClient.readContract({abi:dt,address:this.address,functionName:"allowDerivativeRegistration",args:[i.licenseTermsId]});case 1:return a.a(2,a.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"authority",value:function(){var n=W(D().m(function s(){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:dt,address:this.address,functionName:"authority"});case 1:return i.a(2,i.v)}},s,this)}));function r(){return n.apply(this,arguments)}return r}()},{key:"canAttachToGroupIp",value:function(){var n=W(D().m(function s(i){return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.rpcClient.readContract({abi:dt,address:this.address,functionName:"canAttachToGroupIp",args:[i.licenseTermsId]});case 1:return a.a(2,a.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"canOverrideRoyaltyPercent",value:function(){var n=W(D().m(function s(i){return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.rpcClient.readContract({abi:dt,address:this.address,functionName:"canOverrideRoyaltyPercent",args:[i.licenseTermsId,i.newRoyaltyPercent]});case 1:return a.a(2,a.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"exists",value:function(){var n=W(D().m(function s(i){return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.rpcClient.readContract({abi:dt,address:this.address,functionName:"exists",args:[i.licenseTermsId]});case 1:return a.a(2,a.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"getEarlierExpireTime",value:function(){var n=W(D().m(function s(i){return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.rpcClient.readContract({abi:dt,address:this.address,functionName:"getEarlierExpireTime",args:[i.licenseTermsIds,i.start]});case 1:return a.a(2,a.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"getExpireTime",value:function(){var n=W(D().m(function s(i){return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.rpcClient.readContract({abi:dt,address:this.address,functionName:"getExpireTime",args:[i.licenseTermsId,i.start]});case 1:return a.a(2,a.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"getLicenseTerms",value:function(){var n=W(D().m(function s(i){var a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.rpcClient.readContract({abi:dt,address:this.address,functionName:"getLicenseTerms",args:[i.selectedLicenseTermsId]});case 1:return a=o.v,o.a(2,{terms:a})}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"getLicenseTermsId",value:function(){var n=W(D().m(function s(i){var a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.rpcClient.readContract({abi:dt,address:this.address,functionName:"getLicenseTermsId",args:[i.terms]});case 1:return a=o.v,o.a(2,{selectedLicenseTermsId:a})}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"getLicenseTermsUri",value:function(){var n=W(D().m(function s(i){return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.rpcClient.readContract({abi:dt,address:this.address,functionName:"getLicenseTermsURI",args:[i.licenseTermsId]});case 1:return a.a(2,a.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"getMetadataUri",value:function(){var n=W(D().m(function s(){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:dt,address:this.address,functionName:"getMetadataURI"});case 1:return i.a(2,i.v)}},s,this)}));function r(){return n.apply(this,arguments)}return r}()},{key:"getRoyaltyPolicy",value:function(){var n=W(D().m(function s(i){var a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.rpcClient.readContract({abi:dt,address:this.address,functionName:"getRoyaltyPolicy",args:[i.licenseTermsId]});case 1:return a=o.v,o.a(2,{royaltyPolicy:a[0],royaltyPercent:a[1],mintingFee:a[2],currency:a[3]})}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"isConsumingScheduledOp",value:function(){var n=W(D().m(function s(){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:dt,address:this.address,functionName:"isConsumingScheduledOp"});case 1:return i.a(2,i.v)}},s,this)}));function r(){return n.apply(this,arguments)}return r}()},{key:"isDerivativeApproved",value:function(){var n=W(D().m(function s(i){return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.rpcClient.readContract({abi:dt,address:this.address,functionName:"isDerivativeApproved",args:[i.parentIpId,i.licenseTermsId,i.childIpId]});case 1:return a.a(2,a.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"isLicenseTransferable",value:function(){var n=W(D().m(function s(i){return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.rpcClient.readContract({abi:dt,address:this.address,functionName:"isLicenseTransferable",args:[i.licenseTermsId]});case 1:return a.a(2,a.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"name",value:function(){var n=W(D().m(function s(){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:dt,address:this.address,functionName:"name"});case 1:return i.a(2,i.v)}},s,this)}));function r(){return n.apply(this,arguments)}return r}()},{key:"proxiableUuid",value:function(){var n=W(D().m(function s(){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:dt,address:this.address,functionName:"proxiableUUID"});case 1:return i.a(2,i.v)}},s,this)}));function r(){return n.apply(this,arguments)}return r}()},{key:"supportsInterface",value:function(){var n=W(D().m(function s(i){return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.rpcClient.readContract({abi:dt,address:this.address,functionName:"supportsInterface",args:[i.interfaceId]});case 1:return a.a(2,a.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"toJson",value:function(){var n=W(D().m(function s(i){return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.rpcClient.readContract({abi:dt,address:this.address,functionName:"toJson",args:[i.licenseTermsId]});case 1:return a.a(2,a.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"totalRegisteredLicenseTerms",value:function(){var n=W(D().m(function s(){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:dt,address:this.address,functionName:"totalRegisteredLicenseTerms"});case 1:return i.a(2,i.v)}},s,this)}));function r(){return n.apply(this,arguments)}return r}()},{key:"verifyCompatibleLicenses",value:function(){var n=W(D().m(function s(i){return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.rpcClient.readContract({abi:dt,address:this.address,functionName:"verifyCompatibleLicenses",args:[i.licenseTermsIds]});case 1:return a.a(2,a.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()}])}(aPe),hM=function(t){function e(n,r,s){var i;return Qe(this,e),i=zn(this,e,[n,s]),i.wallet=r,i}return Vn(e,t),et(e,[{key:"initialize",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:dt,address:this.address,functionName:"initialize",account:this.wallet.account,args:[i.accessManager,i.name,i.metadataURI]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"initializeEncode",value:function(r){return{to:this.address,data:pe({abi:dt,functionName:"initialize",args:[r.accessManager,r.name,r.metadataURI]})}}},{key:"registerLicenseTerms",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:dt,address:this.address,functionName:"registerLicenseTerms",account:this.wallet.account,args:[i.terms]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"registerLicenseTermsEncode",value:function(r){return{to:this.address,data:pe({abi:dt,functionName:"registerLicenseTerms",args:[r.terms]})}}},{key:"setApproval",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:dt,address:this.address,functionName:"setApproval",account:this.wallet.account,args:[i.parentIpId,i.licenseTermsId,i.childIpId,i.approved]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"setApprovalEncode",value:function(r){return{to:this.address,data:pe({abi:dt,functionName:"setApproval",args:[r.parentIpId,r.licenseTermsId,r.childIpId,r.approved]})}}},{key:"setAuthority",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:dt,address:this.address,functionName:"setAuthority",account:this.wallet.account,args:[i.newAuthority]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"setAuthorityEncode",value:function(r){return{to:this.address,data:pe({abi:dt,functionName:"setAuthority",args:[r.newAuthority]})}}},{key:"upgradeToAndCall",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:dt,address:this.address,functionName:"upgradeToAndCall",account:this.wallet.account,args:[i.newImplementation,i.data]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"upgradeToAndCallEncode",value:function(r){return{to:this.address,data:pe({abi:dt,functionName:"upgradeToAndCall",args:[r.newImplementation,r.data]})}}},{key:"verifyMintLicenseToken",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:dt,address:this.address,functionName:"verifyMintLicenseToken",account:this.wallet.account,args:[i[0],i[1],i[2],i[3]]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"verifyMintLicenseTokenEncode",value:function(r){return{to:this.address,data:pe({abi:dt,functionName:"verifyMintLicenseToken",args:[r[0],r[1],r[2],r[3]]})}}},{key:"verifyRegisterDerivative",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:dt,address:this.address,functionName:"verifyRegisterDerivative",account:this.wallet.account,args:[i.childIpId,i.parentIpId,i.licenseTermsId,i.licensee]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"verifyRegisterDerivativeEncode",value:function(r){return{to:this.address,data:pe({abi:dt,functionName:"verifyRegisterDerivative",args:[r.childIpId,r.parentIpId,r.licenseTermsId,r.licensee]})}}},{key:"verifyRegisterDerivativeForAllParents",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:dt,address:this.address,functionName:"verifyRegisterDerivativeForAllParents",account:this.wallet.account,args:[i.childIpId,i.parentIpIds,i.licenseTermsIds,i.caller]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"verifyRegisterDerivativeForAllParentsEncode",value:function(r){return{to:this.address,data:pe({abi:dt,functionName:"verifyRegisterDerivativeForAllParents",args:[r.childIpId,r.parentIpIds,r.licenseTermsIds,r.caller]})}}}])}(zZ),oPe=function(){function t(e,n){var r;Qe(this,t),this.address=n||Hn(_Z,(r=e.chain)===null||r===void 0?void 0:r.id),this.rpcClient=e}return et(t,[{key:"watchCollectionCreatedEvent",value:function(n){return this.rpcClient.watchContractEvent({abi:io,address:this.address,eventName:"CollectionCreated",onLogs:function(s){s.forEach(function(i){return n(i.transactionHash,i.args)})}})}},{key:"parseTxCollectionCreatedEvent",value:function(n){var r=[],s=bt(n.logs),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;try{var o=yn({abi:io,eventName:"CollectionCreated",data:a.data,topics:a.topics});o.eventName==="CollectionCreated"&&r.push(o.args)}catch{}}}catch(l){s.e(l)}finally{s.f()}return r}}])}(),VZ=function(t){function e(n,r,s){var i;return Qe(this,e),i=zn(this,e,[n,s]),i.wallet=r,i}return Vn(e,t),et(e,[{key:"createCollection",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:io,address:this.address,functionName:"createCollection",account:this.wallet.account,args:[i.spgNftInitParams]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"createCollectionEncode",value:function(r){return{to:this.address,data:pe({abi:io,functionName:"createCollection",args:[r.spgNftInitParams]})}}},{key:"mintAndRegisterIp",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:io,address:this.address,functionName:"mintAndRegisterIp",account:this.wallet.account,args:[i.spgNftContract,i.recipient,i.ipMetadata,i.allowDuplicates]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"mintAndRegisterIpEncode",value:function(r){return{to:this.address,data:pe({abi:io,functionName:"mintAndRegisterIp",args:[r.spgNftContract,r.recipient,r.ipMetadata,r.allowDuplicates]})}}},{key:"multicall",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:io,address:this.address,functionName:"multicall",account:this.wallet.account,args:[i.data]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"multicallEncode",value:function(r){return{to:this.address,data:pe({abi:io,functionName:"multicall",args:[r.data]})}}},{key:"registerIp",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:io,address:this.address,functionName:"registerIp",account:this.wallet.account,args:[i.nftContract,i.tokenId,i.ipMetadata,i.sigMetadata]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"registerIpEncode",value:function(r){return{to:this.address,data:pe({abi:io,functionName:"registerIp",args:[r.nftContract,r.tokenId,r.ipMetadata,r.sigMetadata]})}}}])}(oPe),mM=function(){function t(e,n){var r;Qe(this,t),this.address=n||Hn(DZ,(r=e.chain)===null||r===void 0?void 0:r.id),this.rpcClient=e}return et(t,[{key:"watchIpRoyaltyVaultDeployedEvent",value:function(n){return this.rpcClient.watchContractEvent({abi:vc,address:this.address,eventName:"IpRoyaltyVaultDeployed",onLogs:function(s){s.forEach(function(i){return n(i.transactionHash,i.args)})}})}},{key:"parseTxIpRoyaltyVaultDeployedEvent",value:function(n){var r=[],s=bt(n.logs),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;try{var o=yn({abi:vc,eventName:"IpRoyaltyVaultDeployed",data:a.data,topics:a.topics});o.eventName==="IpRoyaltyVaultDeployed"&&r.push(o.args)}catch{}}}catch(l){s.e(l)}finally{s.f()}return r}},{key:"watchRoyaltyPaidEvent",value:function(n){return this.rpcClient.watchContractEvent({abi:vc,address:this.address,eventName:"RoyaltyPaid",onLogs:function(s){s.forEach(function(i){return n(i.transactionHash,i.args)})}})}},{key:"parseTxRoyaltyPaidEvent",value:function(n){var r=[],s=bt(n.logs),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;try{var o=yn({abi:vc,eventName:"RoyaltyPaid",data:a.data,topics:a.topics});o.eventName==="RoyaltyPaid"&&r.push(o.args)}catch{}}}catch(l){s.e(l)}finally{s.f()}return r}}])}(),HZ=function(t){function e(n,r){return Qe(this,e),zn(this,e,[n,r])}return Vn(e,t),et(e,[{key:"ipRoyaltyVaults",value:function(){var n=W(D().m(function s(i){return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.rpcClient.readContract({abi:vc,address:this.address,functionName:"ipRoyaltyVaults",args:[i.ipId]});case 1:return a.a(2,a.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"isWhitelistedRoyaltyPolicy",value:function(){var n=W(D().m(function s(i){return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.rpcClient.readContract({abi:vc,address:this.address,functionName:"isWhitelistedRoyaltyPolicy",args:[i.royaltyPolicy]});case 1:return a.a(2,a.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"isWhitelistedRoyaltyToken",value:function(){var n=W(D().m(function s(i){return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.rpcClient.readContract({abi:vc,address:this.address,functionName:"isWhitelistedRoyaltyToken",args:[i.token]});case 1:return a.a(2,a.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()}])}(mM),lPe=function(t){function e(n,r,s){var i;return Qe(this,e),i=zn(this,e,[n,s]),i.wallet=r,i}return Vn(e,t),et(e,[{key:"payRoyaltyOnBehalf",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:vc,address:this.address,functionName:"payRoyaltyOnBehalf",account:this.wallet.account,args:[i.receiverIpId,i.payerIpId,i.token,i.amount]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"payRoyaltyOnBehalfEncode",value:function(r){return{to:this.address,data:pe({abi:vc,functionName:"payRoyaltyOnBehalf",args:[r.receiverIpId,r.payerIpId,r.token,r.amount]})}}}])}(HZ),q2=function(){function t(e,n,r){var s;Qe(this,t),this.address=r||Hn(Z1,(s=e.chain)===null||s===void 0?void 0:s.id),this.rpcClient=e,this.wallet=n}return et(t,[{key:"distributeRoyaltyTokens",value:function(){var e=W(D().m(function r(s){var i,a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.rpcClient.simulateContract({abi:ls,address:this.address,functionName:"distributeRoyaltyTokens",account:this.wallet.account,args:[s.ipId,s.royaltyShares,s.sigApproveRoyaltyTokens]});case 1:return i=o.v,a=i.request,o.n=2,this.wallet.writeContract(a);case 2:return o.a(2,o.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"distributeRoyaltyTokensEncode",value:function(n){return{to:this.address,data:pe({abi:ls,functionName:"distributeRoyaltyTokens",args:[n.ipId,n.royaltyShares,n.sigApproveRoyaltyTokens]})}}},{key:"mintAndRegisterIpAndAttachPilTermsAndDistributeRoyaltyTokens",value:function(){var e=W(D().m(function r(s){var i,a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.rpcClient.simulateContract({abi:ls,address:this.address,functionName:"mintAndRegisterIpAndAttachPILTermsAndDistributeRoyaltyTokens",account:this.wallet.account,args:[s.spgNftContract,s.recipient,s.ipMetadata,s.licenseTermsData,s.royaltyShares,s.allowDuplicates]});case 1:return i=o.v,a=i.request,o.n=2,this.wallet.writeContract(a);case 2:return o.a(2,o.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"mintAndRegisterIpAndAttachPilTermsAndDistributeRoyaltyTokensEncode",value:function(n){return{to:this.address,data:pe({abi:ls,functionName:"mintAndRegisterIpAndAttachPILTermsAndDistributeRoyaltyTokens",args:[n.spgNftContract,n.recipient,n.ipMetadata,n.licenseTermsData,n.royaltyShares,n.allowDuplicates]})}}},{key:"mintAndRegisterIpAndMakeDerivativeAndDistributeRoyaltyTokens",value:function(){var e=W(D().m(function r(s){var i,a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.rpcClient.simulateContract({abi:ls,address:this.address,functionName:"mintAndRegisterIpAndMakeDerivativeAndDistributeRoyaltyTokens",account:this.wallet.account,args:[s.spgNftContract,s.recipient,s.ipMetadata,s.derivData,s.royaltyShares,s.allowDuplicates]});case 1:return i=o.v,a=i.request,o.n=2,this.wallet.writeContract(a);case 2:return o.a(2,o.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"mintAndRegisterIpAndMakeDerivativeAndDistributeRoyaltyTokensEncode",value:function(n){return{to:this.address,data:pe({abi:ls,functionName:"mintAndRegisterIpAndMakeDerivativeAndDistributeRoyaltyTokens",args:[n.spgNftContract,n.recipient,n.ipMetadata,n.derivData,n.royaltyShares,n.allowDuplicates]})}}},{key:"multicall",value:function(){var e=W(D().m(function r(s){var i,a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.rpcClient.simulateContract({abi:ls,address:this.address,functionName:"multicall",account:this.wallet.account,args:[s.data]});case 1:return i=o.v,a=i.request,o.n=2,this.wallet.writeContract(a);case 2:return o.a(2,o.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"multicallEncode",value:function(n){return{to:this.address,data:pe({abi:ls,functionName:"multicall",args:[n.data]})}}},{key:"registerIpAndAttachPilTermsAndDeployRoyaltyVault",value:function(){var e=W(D().m(function r(s){var i,a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.rpcClient.simulateContract({abi:ls,address:this.address,functionName:"registerIpAndAttachPILTermsAndDeployRoyaltyVault",account:this.wallet.account,args:[s.nftContract,s.tokenId,s.ipMetadata,s.licenseTermsData,s.sigMetadataAndAttachAndConfig]});case 1:return i=o.v,a=i.request,o.n=2,this.wallet.writeContract(a);case 2:return o.a(2,o.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"registerIpAndAttachPilTermsAndDeployRoyaltyVaultEncode",value:function(n){return{to:this.address,data:pe({abi:ls,functionName:"registerIpAndAttachPILTermsAndDeployRoyaltyVault",args:[n.nftContract,n.tokenId,n.ipMetadata,n.licenseTermsData,n.sigMetadataAndAttachAndConfig]})}}},{key:"registerIpAndMakeDerivativeAndDeployRoyaltyVault",value:function(){var e=W(D().m(function r(s){var i,a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.rpcClient.simulateContract({abi:ls,address:this.address,functionName:"registerIpAndMakeDerivativeAndDeployRoyaltyVault",account:this.wallet.account,args:[s.nftContract,s.tokenId,s.ipMetadata,s.derivData,s.sigMetadataAndRegister]});case 1:return i=o.v,a=i.request,o.n=2,this.wallet.writeContract(a);case 2:return o.a(2,o.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"registerIpAndMakeDerivativeAndDeployRoyaltyVaultEncode",value:function(n){return{to:this.address,data:pe({abi:ls,functionName:"registerIpAndMakeDerivativeAndDeployRoyaltyVault",args:[n.nftContract,n.tokenId,n.ipMetadata,n.derivData,n.sigMetadataAndRegister]})}}}])}(),cPe=function(){function t(e,n,r){var s;Qe(this,t),this.address=r||Hn(FRe,(s=e.chain)===null||s===void 0?void 0:s.id),this.rpcClient=e,this.wallet=n}return et(t,[{key:"claimAllRevenue",value:function(){var e=W(D().m(function r(s){var i,a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.rpcClient.simulateContract({abi:cx,address:this.address,functionName:"claimAllRevenue",account:this.wallet.account,args:[s.ancestorIpId,s.claimer,s.childIpIds,s.royaltyPolicies,s.currencyTokens]});case 1:return i=o.v,a=i.request,o.n=2,this.wallet.writeContract(a);case 2:return o.a(2,o.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"claimAllRevenueEncode",value:function(n){return{to:this.address,data:pe({abi:cx,functionName:"claimAllRevenue",args:[n.ancestorIpId,n.claimer,n.childIpIds,n.royaltyPolicies,n.currencyTokens]})}}},{key:"multicall",value:function(){var e=W(D().m(function r(s){var i,a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.rpcClient.simulateContract({abi:cx,address:this.address,functionName:"multicall",account:this.wallet.account,args:[s.data]});case 1:return i=o.v,a=i.request,o.n=2,this.wallet.writeContract(a);case 2:return o.a(2,o.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"multicallEncode",value:function(n){return{to:this.address,data:pe({abi:cx,functionName:"multicall",args:[n.data]})}}}])}(),uPe=function(){function t(e,n){var r;Qe(this,t),this.address=n||Hn(BRe,(r=e.chain)===null||r===void 0?void 0:r.id),this.rpcClient=e}return et(t,[{key:"watchTransferEvent",value:function(n){return this.rpcClient.watchContractEvent({abi:fc,address:this.address,eventName:"Transfer",onLogs:function(s){s.forEach(function(i){return n(i.transactionHash,i.args)})}})}},{key:"parseTxTransferEvent",value:function(n){var r=[],s=bt(n.logs),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;try{var o=yn({abi:fc,eventName:"Transfer",data:a.data,topics:a.topics});o.eventName==="Transfer"&&r.push(o.args)}catch{}}}catch(l){s.e(l)}finally{s.f()}return r}}])}(),Il=function(t){function e(n,r){return Qe(this,e),zn(this,e,[n,r])}return Vn(e,t),et(e,[{key:"hasRole",value:function(){var n=W(D().m(function s(i){return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.rpcClient.readContract({abi:fc,address:this.address,functionName:"hasRole",args:[i.role,i.account]});case 1:return a.a(2,a.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"mintFee",value:function(){var n=W(D().m(function s(){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:fc,address:this.address,functionName:"mintFee"});case 1:return i.a(2,i.v)}},s,this)}));function r(){return n.apply(this,arguments)}return r}()},{key:"mintFeeToken",value:function(){var n=W(D().m(function s(){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:fc,address:this.address,functionName:"mintFeeToken"});case 1:return i.a(2,i.v)}},s,this)}));function r(){return n.apply(this,arguments)}return r}()},{key:"publicMinting",value:function(){var n=W(D().m(function s(){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.rpcClient.readContract({abi:fc,address:this.address,functionName:"publicMinting"});case 1:return i.a(2,i.v)}},s,this)}));function r(){return n.apply(this,arguments)}return r}()},{key:"tokenUri",value:function(){var n=W(D().m(function s(i){return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.rpcClient.readContract({abi:fc,address:this.address,functionName:"tokenURI",args:[i.tokenId]});case 1:return a.a(2,a.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()}])}(uPe),dPe=function(t){function e(n,r,s){var i;return Qe(this,e),i=zn(this,e,[n,s]),i.wallet=r,i}return Vn(e,t),et(e,[{key:"setTokenUri",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:fc,address:this.address,functionName:"setTokenURI",account:this.wallet.account,args:[i.tokenId,i.tokenUri]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"setTokenUriEncode",value:function(r){return{to:this.address,data:pe({abi:fc,functionName:"setTokenURI",args:[r.tokenId,r.tokenUri]})}}}])}(Il),WZ=function(){function t(e,n,r){var s;Qe(this,t),this.address=r||Hn(OZ,(s=e.chain)===null||s===void 0?void 0:s.id),this.rpcClient=e,this.wallet=n}return et(t,[{key:"setTotalLicenseTokenLimit",value:function(){var e=W(D().m(function r(s){var i,a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.rpcClient.simulateContract({abi:v8,address:this.address,functionName:"setTotalLicenseTokenLimit",account:this.wallet.account,args:[s.licensorIpId,s.licenseTemplate,s.licenseTermsId,s.limit]});case 1:return i=o.v,a=i.request,o.n=2,this.wallet.writeContract(a);case 2:return o.a(2,o.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"setTotalLicenseTokenLimitEncode",value:function(n){return{to:this.address,data:pe({abi:v8,functionName:"setTotalLicenseTokenLimit",args:[n.licensorIpId,n.licenseTemplate,n.licenseTermsId,n.limit]})}}}])}(),pPe=function(){function t(e,n){var r;Qe(this,t),this.address=n||Hn(LZ,(r=e.chain)===null||r===void 0?void 0:r.id),this.rpcClient=e}return et(t,[{key:"allowance",value:function(){var e=W(D().m(function r(s){var i;return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.rpcClient.readContract({abi:ui,address:this.address,functionName:"allowance",args:[s.owner,s.spender]});case 1:return i=a.v,a.a(2,{result:i})}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"balanceOf",value:function(){var e=W(D().m(function r(s){var i;return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.rpcClient.readContract({abi:ui,address:this.address,functionName:"balanceOf",args:[s.owner]});case 1:return i=a.v,a.a(2,{result:i})}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()}])}(),Rf=function(t){function e(n,r,s){var i;return Qe(this,e),i=zn(this,e,[n,s]),i.wallet=r,i}return Vn(e,t),et(e,[{key:"approve",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:ui,address:this.address,functionName:"approve",account:this.wallet.account,args:[i.spender,i.amount]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"approveEncode",value:function(r){return{to:this.address,data:pe({abi:ui,functionName:"approve",args:[r.spender,r.amount]})}}},{key:"deposit",value:function(){var n=W(D().m(function s(){var i,a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.rpcClient.simulateContract({abi:ui,address:this.address,functionName:"deposit",account:this.wallet.account});case 1:return i=o.v,a=i.request,o.n=2,this.wallet.writeContract(a);case 2:return o.a(2,o.v)}},s,this)}));function r(){return n.apply(this,arguments)}return r}()},{key:"depositEncode",value:function(){return{to:this.address,data:pe({abi:ui,functionName:"deposit"})}}},{key:"transfer",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:ui,address:this.address,functionName:"transfer",account:this.wallet.account,args:[i.to,i.amount]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"transferEncode",value:function(r){return{to:this.address,data:pe({abi:ui,functionName:"transfer",args:[r.to,r.amount]})}}},{key:"transferFrom",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:ui,address:this.address,functionName:"transferFrom",account:this.wallet.account,args:[i.from,i.to,i.amount]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"transferFromEncode",value:function(r){return{to:this.address,data:pe({abi:ui,functionName:"transferFrom",args:[r.from,r.to,r.amount]})}}},{key:"withdraw",value:function(){var n=W(D().m(function s(i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.rpcClient.simulateContract({abi:ui,address:this.address,functionName:"withdraw",account:this.wallet.account,args:[i.value]});case 1:return a=l.v,o=a.request,l.n=2,this.wallet.writeContract(o);case 2:return l.a(2,l.v)}},s,this)}));function r(s){return n.apply(this,arguments)}return r}()},{key:"withdrawEncode",value:function(r){return{to:this.address,data:pe({abi:ui,functionName:"withdraw",args:[r.value]})}}}])}(pPe),fPe=gy({id:1315,name:"aeneid",nativeCurrency:{name:"IP",symbol:"IP",decimals:18},rpcUrls:{default:{http:["https://aeneid.storyrpc.io/"]}},blockExplorers:{default:{name:"Explorer",url:"https://aeneid.storyscan.xyz/"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1792}},testnet:!0}),GZ=gy({id:1514,name:"mainnet",nativeCurrency:{name:"IP",symbol:"IP",decimals:18},rpcUrls:{default:{http:["https://mainnet.storyrpc.io/"]}},blockExplorers:{default:{name:"Explorer",url:"https://dev-mainnet.storyscan.xyz/"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:340998}},testnet:!1}),Ih="0x00000000",gk=1e8,Yi=LZ[GZ.id];function hPe(t){try{return Function.toString.call(t).indexOf("[native code]")!==-1}catch{return typeof t=="function"}}function mPe(t,e,n){if(oM())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var s=new(t.bind.apply(t,r));return n&&pv(s,n.prototype),s}function fE(t){var e=typeof Map=="function"?new Map:void 0;return fE=function(n){if(n===null||!hPe(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,r)}function r(){return mPe(n,arguments,dv(this).constructor)}return r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),pv(r,n)},fE(t)}var Fe=function(e,n){if(e instanceof Error){var r=new Error("".concat(n,": ").concat(e.message));throw r.stack=e.stack,r}throw new Error("".concat(n,": Unknown error type"))},bp=function(t){function e(n){var r;return Qe(this,e),r=zn(this,e,[n]),r.name="PILFlavorError",r}return Vn(e,t),et(e)}(fE(Error));function yPe(t){if(Array.isArray(t))return lE(t)}function gPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ss(t){return yPe(t)||gPe(t)||aM(t)||vPe()}var b8=function(){var t=W(D().m(function e(n){var r,s,i,a,o,l,u;return D().w(function(d){for(;;)switch(d.n){case 0:return r=n.rpcClient,s=n.wallet,i=n.data,d.n=1,r.simulateContract(G(G({},i),{},{account:s.account}));case 1:return a=d.v,o=a.request,d.n=2,s.writeContract(o);case 2:return l=d.v,d.n=3,r.waitForTransactionReceipt({hash:l});case 3:return u=d.v,d.a(2,{txHash:l,receipt:u})}},e)}));return function(n){return t.apply(this,arguments)}}(),yM=function(){function t(e,n,r){Qe(this,t),this.ercClient=new FZ(e,n,r)}return et(t,[{key:"balanceOf",value:function(){var e=W(D().m(function r(s){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.ercClient.balanceOf({account:s});case 1:return i.a(2,i.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"allowance",value:function(){var e=W(D().m(function r(s,i){return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.ercClient.allowance({owner:s,spender:i});case 1:return a.a(2,a.v)}},r,this)}));function n(r,s){return e.apply(this,arguments)}return n}()},{key:"approve",value:function(){var e=W(D().m(function r(s,i){return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.ercClient.approve({spender:s,value:i});case 1:return a.a(2,a.v)}},r,this)}));function n(r,s){return e.apply(this,arguments)}return n}()},{key:"approveEncode",value:function(n,r){return this.ercClient.approveEncode({spender:n,value:r})}},{key:"mint",value:function(){var e=W(D().m(function r(s,i){return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.ercClient.mint({to:s,amount:i});case 1:return a.a(2,a.v)}},r,this)}));function n(r,s){return e.apply(this,arguments)}return n}()}])}(),KZ=function(){function t(e,n){Qe(this,t),this.wipClient=new Rf(e,n)}return et(t,[{key:"balanceOf",value:function(){var e=W(D().m(function r(s){var i,a;return D().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,this.wipClient.balanceOf({owner:s});case 1:return i=o.v,a=i.result,o.a(2,a)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"allowance",value:function(){var e=W(D().m(function r(s,i){var a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.wipClient.allowance({owner:s,spender:i});case 1:return a=l.v,o=a.result,l.a(2,o)}},r,this)}));function n(r,s){return e.apply(this,arguments)}return n}()},{key:"approve",value:function(){var e=W(D().m(function r(s,i){return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.wipClient.approve({spender:s,amount:i});case 1:return a.a(2,a.v)}},r,this)}));function n(r,s){return e.apply(this,arguments)}return n}()},{key:"approveEncode",value:function(n,r){return this.wipClient.approveEncode({spender:n,amount:r})}},{key:"depositEncode",value:function(){return this.wipClient.depositEncode()}},{key:"address",get:function(){return this.wipClient.address}}])}(),hs=function(){var t=W(D().m(function e(n){var r,s,i,a;return D().w(function(o){for(;;)switch(o.n){case 0:return r=n.txOptions,s=n.rpcClient,i=n.txHash,o.n=1,s.waitForTransactionReceipt(G(G({},r),{},{hash:i}));case 1:return a=o.v,o.a(2,{txHash:i,receipt:a})}},e)}));return function(n){return t.apply(this,arguments)}}(),bPe=function(){var t=W(D().m(function e(n){var r,s,i,a;return D().w(function(o){for(;;)switch(o.n){case 0:return r=n.txOptions,s=n.rpcClient,i=n.txHashes,o.n=1,Promise.all(i.map(function(l){return s.waitForTransactionReceipt(G(G({},r),{},{hash:l}))}));case 1:return a=o.v,o.a(2,a.map(function(l){return{txHash:l.transactionHash,receipt:l}}))}},e)}));return function(n){return t.apply(this,arguments)}}(),xPe=function(){var t=W(D().m(function e(n,r,s){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,n.waitForTransactionReceipt(G({hash:r},s));case 1:return i.a(2)}},e)}));return function(n,r,s){return t.apply(this,arguments)}}(),wPe=function(e){switch(e){case 1315:case"aeneid":return fPe;case 1514:case"mainnet":return GZ;default:throw new Error("ChainId ".concat(String(e)," not supported"))}},Z2={aeneid:1315,1315:1315,mainnet:1514,1514:1514},ce=function(e){if(!ji(e,{strict:!1}))throw Error("Invalid address: ".concat(e,"."));return e},ka=function(e){return e.map(function(n){return ce(n)})},kh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"IP";return"".concat(S2(e)).concat(n)},x8=function(e,n){var r=e.find(function(s){return s.address===n.address&&s.token===n.token});r?r.amount=(n.amount||0n)+(r.amount||0n):e.push(G(G({},n),{},{amount:n.amount||0n}))},X2=function(){var t=W(D().m(function e(n){var r,s,i,a,o,l,u,d,p,f,h,y,m;return D().w(function(b){for(;;)switch(b.p=b.n){case 0:return r=n.spenders,s=n.client,i=n.owner,a=n.useMultiCall,o=n.rpcClient,l=n.multicallAddress,b.n=1,Promise.all(r.map(function(){var v=W(D().m(function g(x){var T,I;return D().w(function(C){for(;;)switch(C.n){case 0:if(x.address!==l){C.n=1;break}return C.a(2);case 1:return T=x.amount||iv,C.n=2,s.allowance(i,x.address);case 2:if(I=C.v,!(I<T)){C.n=3;break}return C.a(2,{spender:x.address,value:iv});case 3:return C.a(2)}},g)}));return function(g){return v.apply(this,arguments)}}()));case 1:if(u=b.v,!a){b.n=2;break}return d=[],u.forEach(function(v){if(v){var g=s.approveEncode(v.spender,v.value);d.push({target:g.to,allowFailure:!1,value:0n,callData:g.data})}}),b.a(2,d);case 2:p=bt(u),b.p=3,p.s();case 4:if((f=p.n()).done){b.n=8;break}if(h=f.value,h){b.n=5;break}return b.a(3,7);case 5:return b.n=6,s.approve(h.spender,h.value);case 6:return y=b.v,b.n=7,o.waitForTransactionReceipt({hash:y});case 7:b.n=4;break;case 8:b.n=10;break;case 9:b.p=9,m=b.v,p.e(m);case 10:return b.p=10,p.f(),b.f(10);case 11:return b.a(2,[])}},e,null,[[3,9,10,11]])}));return function(n){return t.apply(this,arguments)}}(),TPe=function(){var t=W(D().m(function e(n){var r,s,i,a,o,l,u,d,p,f,h,y,m,b,v;return D().w(function(g){for(;;)switch(g.n){case 0:if(r=n.ipAmountToWrap,s=n.wipClient,i=n.multicall3Address,a=n.wipSpenders,o=n.calls,l=n.rpcClient,u=n.wallet,d=n.contractCall,p=n.wipOptions,r!==0n){g.n=1;break}throw new Error("ipAmountToWrap should be greater than 0");case 1:if(f=[],h=(p==null?void 0:p.useMulticallWhenPossible)!==!1,!h){g.n=2;break}y=s.depositEncode(),f.push({target:y.to,allowFailure:!1,value:r,callData:y.data}),g.n=3;break;case 2:return g.n=3,b8({rpcClient:l,wallet:u,data:{abi:ui,address:s.address,functionName:"deposit",value:r}});case 3:if(m=(p==null?void 0:p.enableAutoApprove)!==!1,!m){g.n=5;break}return g.n=4,X2({spenders:a,client:s,multicallAddress:i,owner:h?i:u.account.address,rpcClient:l,useMultiCall:h});case 4:b=g.v,b.length>0&&h&&f.push.apply(f,Ss(b));case 5:if(f.push.apply(f,Ss(o)),h){g.n=7;break}return g.n=6,d();case 6:return v=g.v,g.a(2,{txHash:v});case 7:return g.a(2,b8({rpcClient:l,wallet:u,data:{abi:dE,address:i,functionName:"aggregate3Value",args:[f],value:r}}))}},e)}));return function(n){return t.apply(this,arguments)}}(),gM=function(e){return e.reduce(function(n,r){return n+(r.amount||0n)},0n)},APe=function(){var t=W(D().m(function e(n){var r,s,i,a,o,l,u,d,p,f,h,y;return D().w(function(m){for(;;)switch(m.n){case 0:if(s=n.tokenSpenders,i=n.sender,a=n.options,o=n.multicall3Address,l=n.rpcClient,u=n.wallet,d=n.contractCall,p=n.txOptions,f=new yM(l,u,s[0].token),h=(a==null||(r=a.erc20Options)===null||r===void 0?void 0:r.enableAutoApprove)!==!1,!h){m.n=1;break}return m.n=1,X2({spenders:s,client:f,owner:i,multicallAddress:o,rpcClient:l,useMultiCall:!1});case 1:return y=J2,m.n=2,d();case 2:return m.a(2,y(m.v,l,p))}},e)}));return function(n){return t.apply(this,arguments)}}(),w8=function(){var t=W(D().m(function e(n){var r,s,i,a,o,l,u,d,p,f,h,y,m,b,v;return D().w(function(g){for(;;)switch(g.n){case 0:return s=n.tokenSpenders,i=n.sender,a=n.options,o=n.multicall3Address,l=n.rpcClient,u=n.contractCall,d=n.txOptions,p=n.wallet,f=n.encodedTxs,h=new KZ(l,p),g.n=1,h.balanceOf(i);case 1:if(y=g.v,m=gM(s),!(y<m)){g.n=2;break}return g.a(2,IPe({tokenSpenders:s,sender:i,options:a,rpcClient:l,multicall3Address:o,contractCall:u,encodedTxs:f,wallet:p,txOptions:d}));case 2:if(b=(a==null||(r=a.wipOptions)===null||r===void 0?void 0:r.enableAutoApprove)!==!1,!b){g.n=3;break}return g.n=3,X2({spenders:s,client:h,owner:i,multicallAddress:o,rpcClient:l,useMultiCall:!1});case 3:return v=J2,g.n=4,u();case 4:return g.a(2,v(g.v,l,d))}},e)}));return function(n){return t.apply(this,arguments)}}(),IPe=function(){var t=W(D().m(function e(n){var r,s,i,a,o,l,u,d,p,f,h,y,m,b,v,g,x;return D().w(function(T){for(;;)switch(T.n){case 0:return s=n.tokenSpenders,i=n.sender,a=n.options,o=n.rpcClient,l=n.multicall3Address,u=n.contractCall,d=n.encodedTxs,p=n.wallet,f=n.txOptions,h=(a==null||(r=a.wipOptions)===null||r===void 0?void 0:r.enableAutoWrapIp)!==!1,T.n=1,o.getBalance({address:i});case 1:return y=T.v,m=new KZ(o,p),T.n=2,m.balanceOf(i);case 2:if(b=T.v,v=gM(s),!(y<v)){T.n=3;break}throw new Error("Wallet does not have enough IP to wrap to WIP and pay for fees. Total fees: ".concat(kh(v),", balance: ").concat(kh(y),"."));case 3:if(h){T.n=4;break}throw new Error("Wallet does not have enough WIP to pay for fees. Total fees: ".concat(kh(v),", balance: ").concat(kh(b,"WIP"),"."));case 4:return T.n=5,TPe({ipAmountToWrap:v,multicall3Address:l,wipClient:m,wipOptions:a==null?void 0:a.wipOptions,contractCall:u,wipSpenders:s,rpcClient:o,wallet:p,calls:d.map(function(I){return{target:I.to,allowFailure:!1,value:0n,callData:I.data}})});case 5:return g=T.v,x=g.txHash,T.a(2,J2(x,o,f))}},e)}));return function(n){return t.apply(this,arguments)}}(),ad=function(){var t=W(D().m(function e(n){var r,s,i,a,o,l,u,d,p,f,h,y,m,b,v,g,x,T,I;return D().w(function(C){for(;;)switch(C.n){case 0:if(r=n.options,s=n.multicall3Address,i=n.wallet,a=n.tokenSpenders,o=n.contractCall,l=n.sender,u=n.txOptions,d=n.encodedTxs,p=n.rpcClient,f=a.every(function(N){return N.amount===0n}),!f){C.n=2;break}return I=J2,C.n=1,o();case 1:return C.a(2,I(C.v,p,u));case 2:if(h=kPe(a),y=h.wipSpenders,m=h.erc20Spenders,b={sender:l,options:r,multicall3Address:s,rpcClient:p,contractCall:o,encodedTxs:d,txOptions:u,wallet:i},!(m.length>0)){C.n=3;break}return C.n=3,CPe(m,p,i,l);case 3:if(!(y.length>0&&m.length>0)){C.n=5;break}if(x=(r==null||(v=r.erc20Options)===null||v===void 0?void 0:v.enableAutoApprove)!==!1,T=new yM(p,i,(g=m[0])===null||g===void 0?void 0:g.token),!x){C.n=4;break}return C.n=4,X2({spenders:m,client:T,owner:l,multicallAddress:s,rpcClient:p,useMultiCall:!1});case 4:return C.a(2,w8(G(G({},b),{},{tokenSpenders:y,options:{wipOptions:G(G({},r==null?void 0:r.wipOptions),{},{useMulticallWhenPossible:!1})}})));case 5:if(!(m.length>0)){C.n=6;break}return C.a(2,APe(G(G({},b),{},{tokenSpenders:m})));case 6:return C.a(2,w8(G(G({},b),{},{tokenSpenders:y})));case 7:return C.a(2)}},e)}));return function(n){return t.apply(this,arguments)}}(),J2=function(){var t=W(D().m(function e(n,r,s){return D().w(function(i){for(;;)switch(i.n){case 0:if(!Array.isArray(n)){i.n=1;break}return i.a(2,bPe({rpcClient:r,txOptions:s,txHashes:n}));case 1:return i.a(2,hs({rpcClient:r,txOptions:s,txHash:n}))}},e)}));return function(n,r,s){return t.apply(this,arguments)}}(),kPe=function(e){var n=[],r=[],s=bt(e),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;a.token.toLowerCase()===Yi.toLowerCase()?x8(n,a):x8(r,a)}}catch(o){s.e(o)}finally{s.f()}return{wipSpenders:n,erc20Spenders:r}},CPe=function(){var t=W(D().m(function e(n,r,s,i){var a,o,l,u;return D().w(function(d){for(;;)switch(d.n){case 0:return o=new yM(r,s,(a=n[0])===null||a===void 0?void 0:a.token),d.n=1,o.balanceOf(i);case 1:if(l=d.v,u=gM(n),!(l<u)){d.n=2;break}throw new Error("Wallet does not have enough erc20 token to pay for fees. Total fees:  ".concat(kh(u),", balance: ").concat(kh(l),"."));case 2:return d.a(2)}},e)}));return function(n,r,s,i){return t.apply(this,arguments)}}(),NPe="1220",T8=function(e){var n=e.startsWith("Qm"),r=Ts.parse(e),s=n?r.toString():r.toV0().toString(),i=jSe.decode(s),a=Array.from(i).map(function(o){return o.toString(16).padStart(2,"0")}).join("");return"0x"+a.slice(NPe.length)},YZ=[{inputs:[{internalType:"bytes32",name:"assertionId",type:"bytes32"}],name:"getAssertion",outputs:[{components:[{components:[{internalType:"bool",name:"arbitrateViaEscalationManager",type:"bool"},{internalType:"bool",name:"discardOracle",type:"bool"},{internalType:"bool",name:"validateDisputers",type:"bool"},{internalType:"address",name:"assertingCaller",type:"address"},{internalType:"address",name:"escalationManager",type:"address"}],internalType:"struct OptimisticOracleV3Interface.EscalationManagerSettings",name:"escalationManagerSettings",type:"tuple"},{internalType:"address",name:"asserter",type:"address"},{internalType:"uint64",name:"assertionTime",type:"uint64"},{internalType:"bool",name:"settled",type:"bool"},{internalType:"contract IERC20",name:"currency",type:"address"},{internalType:"uint64",name:"expirationTime",type:"uint64"},{internalType:"bool",name:"settlementResolution",type:"bool"},{internalType:"bytes32",name:"domainId",type:"bytes32"},{internalType:"bytes32",name:"identifier",type:"bytes32"},{internalType:"uint256",name:"bond",type:"uint256"},{internalType:"address",name:"callbackRecipient",type:"address"},{internalType:"address",name:"disputer",type:"address"}],internalType:"struct OptimisticOracleV3Interface.Assertion",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"assertionId",type:"bytes32"}],name:"settleAssertion",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"currency",type:"address"}],name:"getMinimumBond",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],qZ=function(){var t=W(D().m(function e(n){return D().w(function(r){for(;;)switch(r.n){case 0:return r.n=1,n.oov3();case 1:return r.a(2,r.v)}},e)}));return function(n){return t.apply(this,arguments)}}(),EPe=function(){var t=W(D().m(function e(n,r,s){var i,a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,qZ(r);case 1:return i=l.v,l.n=2,n.readContract({address:i,abi:YZ,functionName:"getAssertion",args:[s]});case 2:return a=l.v,o=a.bond,l.a(2,o)}},e)}));return function(n,r,s){return t.apply(this,arguments)}}(),SPe=function(){var t=W(D().m(function e(n,r,s){var i;return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,qZ(r);case 1:return i=a.v,a.n=2,n.readContract({address:i,abi:YZ,functionName:"getMinimumBond",args:[s]});case 2:return a.a(2,a.v)}},e)}));return function(n,r,s){return t.apply(this,arguments)}}(),RPe=function(){function t(e,n,r){Qe(this,t),this.rpcClient=e,this.disputeModuleClient=new YRe(e,n),this.arbitrationPolicyUmaClient=new VRe(e,n),this.multicall3Client=new Y2(e,n),this.wrappedIpClient=new Rf(e,n),this.chainId=r,this.wallet=n}return et(t,[{key:"raiseDispute",value:function(){var e=W(D().m(function r(s){var i=this,a,o,l,u,d,p,f,h,y,m,b,v,g,x,T,I,C,N,P,L,U,$,B;return D().w(function(_){for(;;)switch(_.p=_.n){case 0:return _.p=0,o=BigInt(s.liveness),_.n=1,Promise.all([this.arbitrationPolicyUmaClient.minLiveness(),this.arbitrationPolicyUmaClient.maxLiveness()]);case 1:if(l=_.v,u=cE(l,2),d=u[0],p=u[1],!(o<d||o>p)){_.n=2;break}throw new Error("Liveness must be between ".concat(d," and ").concat(p,"."));case 2:return _.n=3,Promise.all([SPe(this.rpcClient,this.arbitrationPolicyUmaClient,Yi),this.arbitrationPolicyUmaClient.maxBonds({token:Yi})]);case 3:if(f=_.v,h=cE(f,2),y=h[0],m=h[1],b=BigInt(s.bond===void 0?y:s.bond),!(b>m||b<y)){_.n=4;break}throw new Error("Bonds must be between ".concat(y," and ").concat(m,"."));case 4:return v=lf(s.targetTag,{size:32}),g=Jc([{name:"",type:"uint64"},{name:"",type:"address"},{name:"",type:"uint256"}],[o,Yi,b]),_.n=5,this.disputeModuleClient.isWhitelistedDisputeTag({tag:v});case 5:if(x=_.v,T=x.allowed,T){_.n=6;break}throw new Error("The target tag ".concat(s.targetTag," is not whitelisted."));case 6:if(I={targetIpId:ce(s.targetIpId),targetTag:v,disputeEvidenceHash:T8(s.cid),data:g},C=this.disputeModuleClient.raiseDisputeEncode(I),!((a=s.txOptions)!==null&&a!==void 0&&a.encodedTxDataOnly)){_.n=7;break}return _.a(2,{encodedTxData:C});case 7:return N=function(){return i.disputeModuleClient.raiseDispute(I)},_.n=8,ad({options:{wipOptions:G(G({},s.wipOptions),{},{useMulticallWhenPossible:!1})},multicall3Address:this.multicall3Client.address,rpcClient:this.rpcClient,tokenSpenders:[{address:this.arbitrationPolicyUmaClient.address,amount:b,token:Yi}],contractCall:N,encodedTxs:[C],wallet:this.wallet,txOptions:s.txOptions,sender:this.wallet.account.address});case 8:if(P=_.v,L=P.txHash,U=P.receipt,U){_.n=9;break}return _.a(2,{txHash:L});case 9:return $=this.disputeModuleClient.parseTxDisputeRaisedEvent(U),_.a(2,{txHash:L,disputeId:$[0].disputeId});case 10:_.n=12;break;case 11:return _.p=11,B=_.v,_.a(2,Fe(B,"Failed to raise dispute"));case 12:return _.a(2)}},r,this,[[0,11]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"cancelDispute",value:function(){var e=W(D().m(function r(s){var i,a,o,l;return D().w(function(u){for(;;)switch(u.p=u.n){case 0:if(u.p=0,a={disputeId:BigInt(s.disputeId),data:s.data?s.data:"0x"},!((i=s.txOptions)!==null&&i!==void 0&&i.encodedTxDataOnly)){u.n=1;break}return u.a(2,{encodedTxData:this.disputeModuleClient.cancelDisputeEncode(a)});case 1:return u.n=2,this.disputeModuleClient.cancelDispute(a);case 2:return o=u.v,u.n=3,this.rpcClient.waitForTransactionReceipt(G(G({},s.txOptions),{},{hash:o}));case 3:return u.a(2,{txHash:o});case 4:u.n=6;break;case 5:return u.p=5,l=u.v,u.a(2,Fe(l,"Failed to cancel dispute"));case 6:return u.a(2)}},r,this,[[0,5]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"resolveDispute",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u;return D().w(function(d){for(;;)switch(d.p=d.n){case 0:if(d.p=0,o={disputeId:BigInt(s.disputeId),data:(i=s.data)!==null&&i!==void 0?i:"0x"},!((a=s.txOptions)!==null&&a!==void 0&&a.encodedTxDataOnly)){d.n=1;break}return d.a(2,{encodedTxData:this.disputeModuleClient.resolveDisputeEncode(o)});case 1:return d.n=2,this.disputeModuleClient.resolveDispute(o);case 2:return l=d.v,d.n=3,this.rpcClient.waitForTransactionReceipt(G(G({},s.txOptions),{},{hash:l}));case 3:return d.a(2,{txHash:l});case 4:d.n=6;break;case 5:return d.p=5,u=d.v,d.a(2,Fe(u,"Failed to resolve dispute"));case 6:return d.a(2)}},r,this,[[0,5]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"tagIfRelatedIpInfringed",value:function(){var e=W(D().m(function r(s){var i=this,a,o,l,u,d,p,f,h,y,m,b;return D().w(function(v){for(;;)switch(v.p=v.n){case 0:if(v.p=0,o=s.infringementTags.map(function(g){return{ipIdToTag:ce(g.ipId),infringerDisputeId:BigInt(g.disputeId)}}),l=[],!(((a=s.options)===null||a===void 0?void 0:a.useMulticallWhenPossible)!==!1&&s.infringementTags.length>1)){v.n=2;break}return u=o.map(function(g){return{target:i.disputeModuleClient.address,allowFailure:!1,callData:i.disputeModuleClient.tagIfRelatedIpInfringedEncode(g).data}}),v.n=1,this.multicall3Client.aggregate3({calls:u});case 1:d=v.v,l.push(d),v.n=10;break;case 2:p=bt(o),v.p=3,p.s();case 4:if((f=p.n()).done){v.n=7;break}return h=f.value,v.n=5,this.disputeModuleClient.tagIfRelatedIpInfringed(h);case 5:y=v.v,l.push(y);case 6:v.n=4;break;case 7:v.n=9;break;case 8:v.p=8,m=v.v,p.e(m);case 9:return v.p=9,p.f(),v.f(9);case 10:return v.n=11,Promise.all(l.map(function(g){return hs({txHash:g,txOptions:s.txOptions,rpcClient:i.rpcClient})}));case 11:return v.a(2,v.v);case 12:return v.p=12,b=v.v,v.a(2,Fe(b,"Failed to tag related ip infringed"))}},r,this,[[3,8,9,10],[0,12]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"disputeAssertion",value:function(){var e=W(D().m(function r(s){var i=this,a,o,l,u,d,p,f,h,y,m,b,v;return D().w(function(g){for(;;)switch(g.p=g.n){case 0:return g.p=0,a=new qs(this.rpcClient,this.wallet,ce(s.ipId)),g.n=1,EPe(this.rpcClient,this.arbitrationPolicyUmaClient,s.assertionId);case 1:return o=g.v,l=T8(s.counterEvidenceCID),u=this.arbitrationPolicyUmaClient.disputeAssertionEncode({assertionId:s.assertionId,counterEvidenceHash:l}),g.n=2,this.wrappedIpClient.allowance({owner:this.wallet.account.address,spender:a.address});case 2:if(d=g.v,p=d.result,!(p<o)){g.n=4;break}return g.n=3,this.wrappedIpClient.approve({spender:a.address,amount:iv});case 3:return f=g.v,g.n=4,this.rpcClient.waitForTransactionReceipt({hash:f});case 4:return h=function(){var T=[];return o>0&&(T.push({target:i.wrappedIpClient.address,value:0n,data:i.wrappedIpClient.transferFromEncode({from:i.wallet.account.address,to:a.address,amount:o}).data}),T.push({target:i.wrappedIpClient.address,value:0n,data:i.wrappedIpClient.approveEncode({spender:i.arbitrationPolicyUmaClient.address,amount:iv}).data})),a.executeBatch({calls:[].concat(T,[{target:u.to,value:0n,data:u.data}]),operation:0})},g.n=5,ad({options:{wipOptions:G(G({},s.wipOptions),{},{enableAutoApprove:!1,useMulticallWhenPossible:!1})},multicall3Address:this.multicall3Client.address,rpcClient:this.rpcClient,contractCall:h,tokenSpenders:[{address:this.arbitrationPolicyUmaClient.address,amount:o,token:Yi}],encodedTxs:[u],wallet:this.wallet,sender:this.wallet.account.address,txOptions:s.txOptions});case 5:return y=g.v,m=y.txHash,b=y.receipt,g.a(2,{txHash:m,receipt:b});case 6:return g.p=6,v=g.v,g.a(2,Fe(v,"Failed to dispute assertion"))}},r,this,[[0,6]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"disputeIdToAssertionId",value:function(){var e=W(D().m(function r(s){var i;return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.arbitrationPolicyUmaClient.disputeIdToAssertionId({disputeId:BigInt(s)});case 1:return i=a.v,a.a(2,i)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()}])}(),bc=function(t){return t.COMMERCIAL_REVENUE_SHARE="commercialRevShare",t.MAX_REVENUE_SHARE="maxRevenueShare",t.MAX_ALLOWED_REWARD_SHARE="maxAllowedRewardShare",t.EXPECT_MINIMUM_GROUP_REWARD_SHARE="expectMinimumGroupRewardShare",t.MAX_ALLOWED_REWARD_SHARE_PERCENTAGE="maxAllowedRewardSharePercentage",t}({}),Ir=function(t){return t[t.ABSTAIN=0]="ABSTAIN",t[t.ALLOW=1]="ALLOW",t[t.DENY=2]="DENY",t}({}),kr=function(e,n,r){var s=e.filter(function(l){return l.type==="function"&&l.name===n});if(s.length===0)throw new Error("Method ".concat(n," not found in ABI."));if(s.length>1&&r===void 0)throw new Error("Method ".concat(n," has ").concat(s.length," overloads. Please specify overloadIndex (0-").concat(s.length-1,")."));var i=s[0],a=function(u){if(u.type.startsWith("tuple")){var d,p=(d=u.components)===null||d===void 0?void 0:d.map(function(f){return a(f)}).join(",");return"(".concat(p,")")}return u.type},o=i.inputs.map(function(l){return a(l)}).join(",");return"".concat(n,"(").concat(o,")")},hc=function(e){return{ipMetadataURI:(e==null?void 0:e.ipMetadataURI)||"",ipMetadataHash:(e==null?void 0:e.ipMetadataHash)||z1,nftMetadataURI:(e==null?void 0:e.nftMetadataURI)||"",nftMetadataHash:(e==null?void 0:e.nftMetadataHash)||z1}},A8=function(t){return t[t.LAP=0]="LAP",t[t.LRP=1]="LRP",t}({}),ZZ=function(e,n){var r=Z2[n||"aeneid"],s;switch(e){case void 0:case A8.LAP:s=ORe[r];break;case A8.LRP:s=$Re[r];break;default:s=ce(e)}return s},bo=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:bc.COMMERCIAL_REVENUE_SHARE;if(e<0||e>100)throw new Error("".concat(n," must be between 0 and 100."));return Math.trunc(e*Math.pow(10,6))},zh=function(){var t=W(D().m(function e(n){var r,s,i,a,o,l,u,d,p;return D().w(function(f){for(;;)switch(f.n){case 0:return r=n.ipId,s=n.deadline,i=n.state,a=n.wallet,o=n.chainId,l=n.permissions,u=RZ[o],d=l.length>=2,p=pe({abi:uo,functionName:d?"setBatchTransientPermissions":"setTransientPermission",args:d?[l.map(function(h){return{ipAccount:ce(h.ipId),signer:ce(h.signer),to:ce(h.to),func:h.func?go(h.func):Ih,permission:h.permission}})]:[ce(l[0].ipId),ce(l[0].signer),ce(l[0].to),l[0].func?go(l[0].func):Ih,l[0].permission]}),f.n=1,XZ({state:i,to:u,encodeData:p,wallet:a,verifyingContract:r,deadline:s,chainId:o});case 1:return f.a(2,f.v)}},e)}));return function(n){return t.apply(this,arguments)}}(),fv=function(e,n){if(n&&BigInt(n)<0n)throw new Error("Invalid deadline value.");return n?e+BigInt(n):e+1000n},XZ=function(){var t=W(D().m(function e(n){var r,s,i,a,o,l,u,d,p;return D().w(function(f){for(;;)switch(f.n){case 0:if(r=n.state,s=n.to,i=n.encodeData,a=n.wallet,o=n.verifyingContract,l=n.deadline,u=n.chainId,a.signTypedData){f.n=1;break}throw new Error("The wallet client does not support signTypedData, please try again.");case 1:if(a.account){f.n=2;break}throw new Error("The wallet client does not have an account, please try again.");case 2:return d=ts(Jc([{name:"",type:"bytes32"},{name:"",type:"bytes"}],[r,pe({abi:Bi,functionName:"execute",args:[s,0n,i]})])),f.n=3,a.signTypedData({account:a.account,domain:{name:"Story Protocol IP Account",version:"1",chainId:u,verifyingContract:o},types:{Execute:[{name:"to",type:"address"},{name:"value",type:"uint256"},{name:"data",type:"bytes"},{name:"nonce",type:"bytes32"},{name:"deadline",type:"uint256"}]},primaryType:"Execute",message:{to:s,value:BigInt(0),data:i,nonce:d,deadline:BigInt(l)}});case 3:return p=f.v,f.a(2,{signature:p,nonce:d})}},e)}));return function(n){return t.apply(this,arguments)}}(),vM=function(e){if(!e)return{isSet:!1,mintingFee:0n,licensingHook:Ot,hookData:z1,commercialRevShare:0,disabled:!1,expectMinimumGroupRewardShare:0,expectGroupRewardPool:Ot};var n={expectMinimumGroupRewardShare:bo(e.expectMinimumGroupRewardShare,bc.EXPECT_MINIMUM_GROUP_REWARD_SHARE),commercialRevShare:bo(e.commercialRevShare),mintingFee:BigInt(e.mintingFee),expectGroupRewardPool:ce(e.expectGroupRewardPool),licensingHook:ce(e.licensingHook),hookData:e.hookData,isSet:e.isSet,disabled:e.disabled};if(n.mintingFee<0)throw new Error("The mintingFee must be greater than 0.");return n},PPe=function(){function t(e,n,r){Qe(this,t),this.rpcClient=e,this.wallet=n,this.chainId=r,this.groupingWorkflowsClient=new JRe(e,n),this.groupingModuleEventClient=new BZ(e),this.licenseTemplateClient=new hM(e,n),this.licenseTokenReadOnlyClient=new pM(e),this.ipAssetRegistryClient=new Sf(e,n),this.groupingModuleClient=new XRe(e,n),this.coreMetadataModuleClient=new uM(e,n),this.licensingModuleClient=new fM(e,n),this.licenseRegistryReadOnlyClient=new K2(e),this.royaltyModuleEventClient=new mM(e)}return et(t,[{key:"registerGroup",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d;return D().w(function(p){for(;;)switch(p.p=p.n){case 0:if(p.p=0,a={groupPool:ce(s.groupPool)},!((i=s.txOptions)!==null&&i!==void 0&&i.encodedTxDataOnly)){p.n=1;break}return p.a(2,{encodedTxData:this.groupingModuleClient.registerGroupEncode(a)});case 1:return p.n=2,this.groupingModuleClient.registerGroup(a);case 2:return o=p.v,p.n=3,this.rpcClient.waitForTransactionReceipt(G(G({},s.txOptions),{},{hash:o}));case 3:return l=p.v,u=this.groupingModuleEventClient.parseTxIpGroupRegisteredEvent(l)[0].groupId,p.a(2,{txHash:o,groupId:u});case 4:p.n=6;break;case 5:return p.p=5,d=p.v,p.a(2,Fe(d,"Failed to register group"));case 6:return p.a(2)}},r,this,[[0,5]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"mintAndRegisterIpAndAttachLicenseAndAddToGroup",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p,f,h,y,m,b,v,g,x,T,I,C,N;return D().w(function(P){for(;;)switch(P.p=P.n){case 0:return P.p=0,o=s.groupId,l=s.recipient,u=s.spgNftContract,d=s.deadline,P.n=1,this.ipAssetRegistryClient.isRegistered({id:ce(o)});case 1:if(p=P.v,p){P.n=2;break}throw new Error("Group IP ".concat(o," is not registered."));case 2:return f=new qs(this.rpcClient,this.wallet,o),P.n=3,f.state();case 3:return h=P.v,y=h.result,P.n=4,this.rpcClient.getBlock();case 4:return m=P.v.timestamp,b=fv(m,d),P.n=5,zh({ipId:o,deadline:b,state:y,wallet:this.wallet,chainId:this.chainId,permissions:[{ipId:o,signer:ce(this.groupingWorkflowsClient.address),to:ce(this.groupingModuleClient.address),permission:Ir.ALLOW,func:kr(Lr,"addIp")}]});case 5:if(v=P.v,g=v.signature,x=G(G({},s),{},{allowDuplicates:s.allowDuplicates||!0,spgNftContract:ce(u),recipient:ce(l||this.wallet.account.address),maxAllowedRewardShare:BigInt(bo((i=s.maxAllowedRewardShare)!==null&&i!==void 0?i:100,bc.MAX_ALLOWED_REWARD_SHARE)),licensesData:this.getLicenseData(s.licenseData),ipMetadata:hc(s.ipMetadata),sigAddToGroup:{signer:ce(this.wallet.account.address),deadline:b,signature:g}}),!((a=s.txOptions)!==null&&a!==void 0&&a.encodedTxDataOnly)){P.n=6;break}return P.a(2,{encodedTxData:this.groupingWorkflowsClient.mintAndRegisterIpAndAttachLicenseAndAddToGroupEncode(x)});case 6:return P.n=7,this.groupingWorkflowsClient.mintAndRegisterIpAndAttachLicenseAndAddToGroup(x);case 7:return T=P.v,P.n=8,this.rpcClient.waitForTransactionReceipt(G(G({},s.txOptions),{},{hash:T}));case 8:return I=P.v,C=this.ipAssetRegistryClient.parseTxIpRegisteredEvent(I)[0],P.a(2,{txHash:T,ipId:C.ipId,tokenId:C.tokenId});case 9:P.n=11;break;case 10:return P.p=10,N=P.v,P.a(2,Fe(N,"Failed to mint and register IP and attach license and add to group"));case 11:return P.a(2)}},r,this,[[0,10]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"registerIpAndAttachLicenseAndAddToGroup",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p,f,h,y,m,b,v,g,x,T,I,C;return D().w(function(N){for(;;)switch(N.p=N.n){case 0:return N.p=0,N.n=1,this.ipAssetRegistryClient.ipId({chainId:BigInt(this.chainId),tokenContract:ce(s.nftContract),tokenId:BigInt(s.tokenId)});case 1:return o=N.v,N.n=2,this.ipAssetRegistryClient.isRegistered({id:ce(s.groupId)});case 2:if(l=N.v,l){N.n=3;break}throw new Error("Group IP ".concat(s.groupId," is not registered."));case 3:return u=new qs(this.rpcClient,this.wallet,s.groupId),N.n=4,u.state();case 4:return d=N.v,p=d.result,N.n=5,this.rpcClient.getBlock();case 5:return f=N.v.timestamp,h=fv(f,s.deadline),N.n=6,zh({ipId:s.groupId,deadline:h,state:p,wallet:this.wallet,chainId:this.chainId,permissions:[{ipId:s.groupId,signer:this.groupingWorkflowsClient.address,to:this.groupingModuleClient.address,permission:Ir.ALLOW,func:kr(Lr,"addIp")}]});case 6:return y=N.v,m=y.signature,N.n=7,zh({ipId:o,deadline:h,state:$a(0,{size:32}),wallet:this.wallet,chainId:this.chainId,permissions:[{ipId:o,signer:this.groupingWorkflowsClient.address,to:ce(this.coreMetadataModuleClient.address),permission:Ir.ALLOW,func:kr(Rt,"setAll")},{ipId:o,signer:this.groupingWorkflowsClient.address,to:ce(this.licensingModuleClient.address),permission:Ir.ALLOW,func:kr(Cn,"attachLicenseTerms")},{ipId:o,signer:this.groupingWorkflowsClient.address,to:this.licensingModuleClient.address,permission:Ir.ALLOW,func:kr(Cn,"setLicensingConfig")}]});case 7:if(b=N.v,v=b.signature,g={nftContract:s.nftContract,groupId:s.groupId,licensesData:this.getLicenseData(s.licenseData),ipMetadata:hc(s.ipMetadata),tokenId:BigInt(s.tokenId),maxAllowedRewardShare:BigInt(bo((i=s.maxAllowedRewardShare)!==null&&i!==void 0?i:100,bc.MAX_ALLOWED_REWARD_SHARE)),sigAddToGroup:{signer:ce(this.wallet.account.address),deadline:h,signature:m},sigMetadataAndAttachAndConfig:{signer:this.wallet.account.address,deadline:h,signature:v}},!((a=s.txOptions)!==null&&a!==void 0&&a.encodedTxDataOnly)){N.n=8;break}return N.a(2,{encodedTxData:this.groupingWorkflowsClient.registerIpAndAttachLicenseAndAddToGroupEncode(g)});case 8:return N.n=9,this.groupingWorkflowsClient.registerIpAndAttachLicenseAndAddToGroup(g);case 9:return x=N.v,N.n=10,this.rpcClient.waitForTransactionReceipt(G(G({},s.txOptions),{},{hash:x}));case 10:return T=N.v,I=this.ipAssetRegistryClient.parseTxIpRegisteredEvent(T)[0],N.a(2,{txHash:x,ipId:I.ipId,tokenId:I.tokenId});case 11:return N.p=11,C=N.v,N.a(2,Fe(C,"Failed to register IP and attach license and add to group"))}},r,this,[[0,11]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"registerGroupAndAttachLicense",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d;return D().w(function(p){for(;;)switch(p.p=p.n){case 0:if(p.p=0,a={groupPool:ce(s.groupPool),licenseData:this.getLicenseData(s.licenseData)[0]},!((i=s.txOptions)!==null&&i!==void 0&&i.encodedTxDataOnly)){p.n=1;break}return p.a(2,{encodedTxData:this.groupingWorkflowsClient.registerGroupAndAttachLicenseEncode(a)});case 1:return p.n=2,this.groupingWorkflowsClient.registerGroupAndAttachLicense(a);case 2:return o=p.v,p.n=3,this.rpcClient.waitForTransactionReceipt(G(G({},s.txOptions),{},{hash:o}));case 3:return l=p.v,u=this.groupingModuleEventClient.parseTxIpGroupRegisteredEvent(l)[0].groupId,p.a(2,{txHash:o,groupId:u});case 4:return p.p=4,d=p.v,p.a(2,Fe(d,"Failed to register group and attach license"))}},r,this,[[0,4]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"registerGroupAndAttachLicenseAndAddIps",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p,f,h,y,m;return D().w(function(b){for(;;)switch(b.p=b.n){case 0:b.p=0,o={groupPool:ce(s.groupPool),ipIds:s.ipIds,licenseData:this.getLicenseData(s.licenseData)[0],maxAllowedRewardShare:BigInt(bo((i=s.maxAllowedRewardShare)!==null&&i!==void 0?i:100,bc.MAX_ALLOWED_REWARD_SHARE))},l=0;case 1:if(!(l<s.ipIds.length)){b.n=4;break}return b.n=2,this.ipAssetRegistryClient.isRegistered({id:ce(s.ipIds[l])});case 2:if(u=b.v,u){b.n=3;break}throw new Error("IP ".concat(s.ipIds[l]," is not registered."));case 3:l++,b.n=1;break;case 4:d=0;case 5:if(!(d<s.ipIds.length)){b.n=8;break}return b.n=6,this.licenseRegistryReadOnlyClient.hasIpAttachedLicenseTerms({ipId:s.ipIds[d],licenseTemplate:o.licenseData.licenseTemplate,licenseTermsId:o.licenseData.licenseTermsId});case 6:if(p=b.v,p){b.n=7;break}throw new Error("License terms must be attached to IP ".concat(s.ipIds[d]," before adding to group."));case 7:d++,b.n=5;break;case 8:if(!((a=s.txOptions)!==null&&a!==void 0&&a.encodedTxDataOnly)){b.n=9;break}return b.a(2,{encodedTxData:this.groupingWorkflowsClient.registerGroupAndAttachLicenseAndAddIpsEncode(o)});case 9:return b.n=10,this.groupingWorkflowsClient.registerGroupAndAttachLicenseAndAddIps(o);case 10:return f=b.v,b.n=11,this.rpcClient.waitForTransactionReceipt(G(G({},s.txOptions),{},{hash:f}));case 11:return h=b.v,y=this.groupingModuleEventClient.parseTxIpGroupRegisteredEvent(h)[0].groupId,b.a(2,{txHash:f,groupId:y});case 12:return b.p=12,m=b.v,b.a(2,Fe(m,"Failed to register group and attach license and add ips"))}},r,this,[[0,12]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"collectAndDistributeGroupRoyalties",value:function(){var e=W(D().m(function r(s){var i=this,a,o,l,u,d,p,f,h,y,m,b,v;return D().w(function(g){for(;;)switch(g.p=g.n){case 0:if(a=s.groupIpId,o=s.currencyTokens,l=s.memberIpIds,u=s.txOptions,g.p=1,o.length){g.n=2;break}throw new Error("At least one currency token is required.");case 2:if(l.length){g.n=3;break}throw new Error("At least one member IP ID is required.");case 3:if(!o.some(function(x){return x===Ot})){g.n=4;break}throw new Error("Currency token cannot be the zero address.");case 4:return d={groupIpId:ce(a),currencyTokens:ka(o),memberIpIds:ka(l)},g.n=5,this.ipAssetRegistryClient.isRegistered({id:d.groupIpId});case 5:if(p=g.v,p){g.n=6;break}throw new Error("The group IP with ID ".concat(d.groupIpId," is not registered."));case 6:return g.n=7,Promise.all(d.memberIpIds.map(function(){var x=W(D().m(function T(I){var C;return D().w(function(N){for(;;)switch(N.n){case 0:return N.n=1,i.ipAssetRegistryClient.isRegistered({id:I});case 1:if(C=N.v,C){N.n=2;break}throw new Error("Member IP with ID ".concat(I," is not registered ."));case 2:return N.a(2)}},T)}));return function(T){return x.apply(this,arguments)}}()));case 7:return g.n=8,this.groupingWorkflowsClient.collectRoyaltiesAndClaimReward(d);case 8:return f=g.v,g.n=9,hs({txHash:f,txOptions:u,rpcClient:this.rpcClient});case 9:if(h=g.v,y=h.receipt,y){g.n=10;break}return g.a(2,{txHash:f});case 10:return m=this.groupingModuleEventClient.parseTxCollectedRoyaltiesToGroupPoolEvent(y).map(function(x){var T=x.groupId,I=x.amount,C=x.token;return{groupId:T,amount:I,token:C}}),b=this.royaltyModuleEventClient.parseTxRoyaltyPaidEvent(y).map(function(x){var T=x.receiverIpId,I=x.amount,C=x.token,N=x.amountAfterFee;return{ipId:T,amount:I,token:C,amountAfterFee:N}}),g.a(2,{txHash:f,collectedRoyalties:m,royaltiesDistributed:b});case 11:return g.p=11,v=g.v,g.a(2,Fe(v,"Failed to collect and distribute group royalties"))}},r,this,[[1,11]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"addIpsToGroup",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p;return D().w(function(f){for(;;)switch(f.p=f.n){case 0:return i=s.groupIpId,a=s.ipIds,o=s.maxAllowedRewardSharePercentage,l=s.txOptions,f.p=1,u={groupIpId:ce(i),ipIds:ka(a),maxAllowedRewardShare:BigInt(bo(o??100,bc.MAX_ALLOWED_REWARD_SHARE_PERCENTAGE))},f.n=2,this.groupingModuleClient.addIp(u);case 2:return d=f.v,f.n=3,hs({txHash:d,txOptions:l,rpcClient:this.rpcClient});case 3:return f.a(2,f.v);case 4:return f.p=4,p=f.v,f.a(2,Fe(p,"Failed to add IP to group"))}},r,this,[[1,4]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"getClaimableReward",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u;return D().w(function(d){for(;;)switch(d.p=d.n){case 0:return i=s.groupIpId,a=s.currencyToken,o=s.memberIpIds,d.p=1,d.n=2,this.groupingModuleClient.getClaimableReward({groupId:ce(i),ipIds:ka(o),token:ce(a)});case 2:return l=d.v,d.a(2,l);case 3:return d.p=3,u=d.v,d.a(2,Fe(u,"Failed to get claimable reward"))}},r,this,[[1,3]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"removeIpsFromGroup",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d;return D().w(function(p){for(;;)switch(p.p=p.n){case 0:return i=s.groupIpId,a=s.ipIds,o=s.txOptions,p.p=1,l={groupIpId:ce(i),ipIds:ka(a)},p.n=2,this.groupingModuleClient.removeIp(l);case 2:return u=p.v,p.n=3,hs({txHash:u,txOptions:o,rpcClient:this.rpcClient});case 3:return p.a(2,p.v);case 4:return p.p=4,d=p.v,p.a(2,Fe(d,"Failed to remove IPs from group"))}},r,this,[[1,4]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"claimReward",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p,f,h,y;return D().w(function(m){for(;;)switch(m.p=m.n){case 0:return i=s.groupIpId,a=s.currencyToken,o=s.memberIpIds,l=s.txOptions,m.p=1,u={groupId:ce(i),ipIds:ka(o),token:ce(a)},m.n=2,this.groupingModuleClient.claimReward(u);case 2:return d=m.v,m.n=3,hs({txHash:d,txOptions:l,rpcClient:this.rpcClient});case 3:if(p=m.v,f=p.receipt,f){m.n=4;break}return m.a(2,{txHash:d});case 4:return h=this.groupingModuleEventClient.parseTxClaimedRewardEvent(f),m.a(2,{txHash:d,claimedReward:h});case 5:return m.p=5,y=m.v,m.a(2,Fe(y,"Failed to claim reward"))}},r,this,[[1,5]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"collectRoyalties",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p,f,h;return D().w(function(y){for(;;)switch(y.p=y.n){case 0:return i=s.groupIpId,a=s.currencyToken,o=s.txOptions,y.p=1,l={groupId:ce(i),token:ce(a)},y.n=2,this.groupingModuleClient.collectRoyalties(l);case 2:return u=y.v,y.n=3,hs({txHash:u,txOptions:o,rpcClient:this.rpcClient});case 3:if(d=y.v,p=d.receipt,p){y.n=4;break}return y.a(2,{txHash:u});case 4:return f=this.groupingModuleEventClient.parseTxCollectedRoyaltiesToGroupPoolEvent(p)[0].amount,y.a(2,{txHash:u,collectedRoyalties:f});case 5:return y.p=5,h=y.v,y.a(2,Fe(h,"Failed to collect royalties"))}},r,this,[[1,5]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"getLicenseData",value:function(n){var r=this,s=Array.isArray(n);if(s&&n.length===0||!n)throw new Error("License data is required.");var i=s?n:[n];return i.map(function(a){return{licenseTemplate:ce(a.licenseTemplate||r.licenseTemplateClient.address),licenseTermsId:BigInt(a.licenseTermsId),licensingConfig:vM(a.licensingConfig)}})}}])}(),MPe=function(){function t(e,n,r){Qe(this,t),this.wallet=n,this.rpcClient=e,this.chainId=r,this.wrappedIpClient=new Rf(e,n),this.erc20Client=new FZ(e,n)}return et(t,[{key:"execute",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u;return D().w(function(d){for(;;)switch(d.p=d.n){case 0:if(d.p=0,a=new qs(this.rpcClient,this.wallet,ce(s.ipId)),o={to:s.to,value:BigInt(0),data:s.data},!((i=s.txOptions)!==null&&i!==void 0&&i.encodedTxDataOnly)){d.n=1;break}return d.a(2,{encodedTxData:a.executeEncode(G(G({},o),{},{operation:0}))});case 1:return d.n=2,a.execute(G(G({},o),{},{operation:0}));case 2:return l=d.v,d.n=3,this.rpcClient.waitForTransactionReceipt(G(G({},s.txOptions),{},{hash:l}));case 3:return d.a(2,{txHash:l});case 4:d.n=6;break;case 5:return d.p=5,u=d.v,d.a(2,Fe(u,"Failed to execute the IP Account transaction"));case 6:return d.a(2)}},r,this,[[0,5]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"executeWithSig",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u;return D().w(function(d){for(;;)switch(d.p=d.n){case 0:if(d.p=0,a=new qs(this.rpcClient,this.wallet,ce(s.ipId)),o={to:ce(s.to),value:BigInt(s.value||0),data:s.data,signer:ce(s.signer),deadline:BigInt(s.deadline),signature:s.signature},!((i=s.txOptions)!==null&&i!==void 0&&i.encodedTxDataOnly)){d.n=1;break}return d.a(2,{encodedTxData:a.executeWithSigEncode(o)});case 1:return d.n=2,a.executeWithSig(o);case 2:return l=d.v,d.n=3,this.rpcClient.waitForTransactionReceipt(G(G({},s.txOptions),{},{hash:l}));case 3:return d.a(2,{txHash:l});case 4:d.n=6;break;case 5:return d.p=5,u=d.v,d.a(2,Fe(u,"Failed to execute with signature for the IP Account transaction"));case 6:return d.a(2)}},r,this,[[0,5]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"getIpAccountNonce",value:function(){var e=W(D().m(function r(s){var i,a,o,l;return D().w(function(u){for(;;)switch(u.p=u.n){case 0:return u.p=0,i=new qs(this.rpcClient,this.wallet,ce(s)),u.n=1,i.state();case 1:return a=u.v,o=a.result,u.a(2,o);case 2:return u.p=2,l=u.v,u.a(2,Fe(l,"Failed to get the IP Account nonce"))}},r,this,[[0,2]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"getToken",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p;return D().w(function(f){for(;;)switch(f.p=f.n){case 0:return f.p=0,i=new qs(this.rpcClient,this.wallet,ce(s)),f.n=1,i.token();case 1:return a=f.v,o=cE(a,3),l=o[0],u=o[1],d=o[2],f.a(2,{chainId:l,tokenContract:u,tokenId:d});case 2:return f.p=2,p=f.v,f.a(2,Fe(p,"Failed to get the token"))}},r,this,[[0,2]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"setIpMetadata",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p,f;return D().w(function(h){for(;;)switch(h.p=h.n){case 0:return i=s.ipId,a=s.metadataURI,o=s.metadataHash,l=s.txOptions,h.p=1,u=pe({abi:Rt,functionName:"setMetadataURI",args:[ce(i),a,o]}),h.n=2,this.execute({ipId:i,to:lM[this.chainId],data:u,value:0,txOptions:G(G({},l),{},{encodedTxDataOnly:!1})});case 2:return d=h.v,p=d.txHash,h.a(2,p);case 3:return h.p=3,f=h.v,h.a(2,Fe(f,"Failed to set the IP metadata"))}},r,this,[[1,3]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"transferErc20",value:function(){var e=W(D().m(function r(s){var i=this,a,o,l,u,d,p,f;return D().w(function(h){for(;;)switch(h.p=h.n){case 0:return a=s.ipId,o=s.tokens,l=s.txOptions,h.p=1,u=new qs(this.rpcClient,this.wallet,ce(a)),d=o.map(function(y){var m=y.address,b=y.target,v=y.amount,g;return ce(m)===Yi?g=i.wrappedIpClient.transferEncode({to:ce(b),amount:BigInt(v)}).data:g=i.erc20Client.transferEncode({to:ce(b),value:BigInt(v)}).data,{target:m,data:g,value:0n}}),h.n=2,u.executeBatch({calls:d,operation:0});case 2:return p=h.v,h.a(2,hs({txHash:p,txOptions:l,rpcClient:this.rpcClient}));case 3:return h.p=3,f=h.v,h.a(2,Fe(f,"Failed to transfer Erc20"))}},r,this,[[1,3]])}));function n(r){return e.apply(this,arguments)}return n}()}])}(),Jn=function(t){return t.REGISTER_IP_AND_MAKE_DERIVATIVE_AND_DEPLOY_ROYALTY_VAULT="registerIpAndMakeDerivativeAndDeployRoyaltyVault",t.DISTRIBUTE_ROYALTY_TOKENS="distributeRoyaltyTokens",t.REGISTER_DERIVATIVE_IP="registerDerivativeIp",t.REGISTER_IP_AND_ATTACH_PIL_TERMS_AND_DEPLOY_ROYALTY_VAULT="registerIpAndAttachPilTermsAndDeployRoyaltyVault",t.REGISTER_IP_AND_ATTACH_PIL_TERMS="registerIpAndAttachPilTerms",t.REGISTER_IP_AND_MAKE_DERIVATIVE_WITH_LICENSE_TOKENS="registerIpAndMakeDerivativeWithLicenseTokens",t.REGISTER_PIL_TERMS_AND_ATTACH="registerPilTermsAndAttach",t.REGISTER="register",t.BATCH_REGISTER_DERIVATIVE="batchRegisterDerivative",t}({}),JZ=function(){var t=W(D().m(function e(n){var r,s,i,a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return r=n.predictMintingFeeRequest,s=n.rpcClient,i=n.chainId,a=n.walletAddress,l.n=1,s.readContract({abi:Cn,address:cM[i],functionName:"predictMintingLicenseFee",args:[r.licensorIpId,r.licenseTemplate,r.licenseTermsId,r.amount,r.receiver,r.royaltyContext],account:a});case 1:return o=l.v,l.a(2,{currencyToken:o[0],tokenAmount:o[1]})}},e)}));return function(n){return t.apply(this,arguments)}}(),bM=function(){var t=W(D().m(function e(n){var r,s,i,a,o,l,u,d,p;return D().w(function(f){for(;;)switch(f.n){case 0:r=n.derivData,s=n.rpcClient,i=n.chainId,a=n.wallet,o=n.sender,l=o||a.account.address,u=[],d=0;case 1:if(!(d<r.parentIpIds.length)){f.n=4;break}return f.n=2,QZ({predictMintingFeeRequest:{licensorIpId:r.parentIpIds[d],licenseTemplate:r.licenseTemplate,licenseTermsId:r.licenseTermsIds[d],receiver:l,amount:1n,royaltyContext:Ot},rpcClient:s,chainId:i,walletAddress:l});case 2:p=f.v,p.amount>0n&&u.push(p);case 3:d++,f.n=1;break;case 4:return f.a(2,u)}},e)}));return function(n){return t.apply(this,arguments)}}(),QZ=function(){var t=W(D().m(function e(n){var r,s,i,a,o,l,u;return D().w(function(d){for(;;)switch(d.n){case 0:return r=n.predictMintingFeeRequest,s=n.rpcClient,i=n.chainId,a=n.walletAddress,d.n=1,JZ({predictMintingFeeRequest:r,rpcClient:s,chainId:i,walletAddress:a});case 1:return o=d.v,l=o.currencyToken,u=o.tokenAmount,d.a(2,{token:l,amount:u})}},e)}));return function(n){return t.apply(this,arguments)}}(),hE=function(){var t=W(D().m(function e(n){var r,s;return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,n.mintFeeToken();case 1:return r=i.v,i.n=2,n.mintFee();case 2:if(s=i.v,!(s>0n)){i.n=3;break}return i.a(2,{token:r,amount:s});case 3:return i.a(2)}},e)}));return function(n){return t.apply(this,arguments)}}(),Nc=function(){var t=W(D().m(function e(n){var r,s,i,a,o,l,u,d,p,f,h,y,m,b,v,g,x,T,I,C,N,P;return D().w(function(L){for(;;)switch(L.n){case 0:if(r=n.deadline,s=n.ipIdAddress,i=n.methodType,a=n.ipRoyaltyVault,o=n.totalAmount,l=n.state,u=n.encodeData,d=n.wallet,p=n.chainId,f={ipId:s,deadline:r,state:$a(0,{size:32}),wallet:d,chainId:Z2[p]},!(i===Jn.DISTRIBUTE_ROYALTY_TOKENS&&(!a||!l||!o||!u))){L.n=1;break}throw new Error("ipRoyaltyVault, state, totalAmount, and encodeData are required for distributing royalty tokens.");case 1:if(!(i===Jn.REGISTER_PIL_TERMS_AND_ATTACH&&!l)){L.n=2;break}throw new Error("State is required for registering PIL terms and attaching.");case 2:if(!(i===Jn.BATCH_REGISTER_DERIVATIVE&&(!l||!u))){L.n=3;break}throw new Error("State and encodeData are required for batch registering derivative.");case 3:if(h=Z1[p],y=lM[p],m=cM[p],b=PZ[p],v=MZ[p],g=_Z[p],x=hn(hn(hn(hn(hn(hn(hn(hn(hn({},Jn.REGISTER_IP_AND_MAKE_DERIVATIVE_AND_DEPLOY_ROYALTY_VAULT,G(G({},f),{},{permissions:[{ipId:s,signer:h,to:y,permission:Ir.ALLOW,func:kr(Rt,"setAll")},{ipId:s,signer:h,to:m,permission:Ir.ALLOW,func:kr(Cn,"registerDerivative")}]})),Jn.DISTRIBUTE_ROYALTY_TOKENS,G(G({},f),{},{verifyingContract:s,deadline:r,state:l,to:a,encodeData:u})),Jn.REGISTER_DERIVATIVE_IP,G(G({},f),{},{permissions:[{ipId:s,signer:b,to:y,permission:Ir.ALLOW,func:kr(Rt,"setAll")},{ipId:s,signer:b,to:m,permission:Ir.ALLOW,func:kr(Cn,"registerDerivative")}]})),Jn.REGISTER_IP_AND_ATTACH_PIL_TERMS_AND_DEPLOY_ROYALTY_VAULT,G(G({},f),{},{permissions:[{ipId:s,signer:h,to:y,permission:Ir.ALLOW,func:kr(Rt,"setAll")},{ipId:s,signer:h,to:m,permission:Ir.ALLOW,func:kr(Cn,"attachLicenseTerms")},{ipId:s,signer:h,to:m,permission:Ir.ALLOW,func:kr(Cn,"setLicensingConfig")}]})),Jn.REGISTER_IP_AND_ATTACH_PIL_TERMS,G(G({},f),{},{permissions:[{ipId:s,signer:v,to:y,permission:Ir.ALLOW,func:kr(Rt,"setAll")},{ipId:s,signer:v,to:m,permission:Ir.ALLOW,func:kr(Cn,"attachLicenseTerms")},{ipId:s,signer:v,to:m,permission:Ir.ALLOW,func:kr(Cn,"setLicensingConfig")}]})),Jn.REGISTER_IP_AND_MAKE_DERIVATIVE_WITH_LICENSE_TOKENS,G(G({},f),{},{permissions:[{ipId:s,signer:b,to:y,permission:Ir.ALLOW,func:kr(Rt,"setAll")},{ipId:s,signer:b,to:m,permission:Ir.ALLOW,func:kr(Cn,"registerDerivativeWithLicenseTokens")}]})),Jn.REGISTER_PIL_TERMS_AND_ATTACH,G(G({},f),{},{state:l,permissions:[{ipId:s,signer:v,to:m,permission:Ir.ALLOW,func:kr(Cn,"attachLicenseTerms")},{ipId:s,signer:v,to:m,permission:Ir.ALLOW,func:kr(Cn,"setLicensingConfig")}]})),Jn.REGISTER,G(G({},f),{},{permissions:[{ipId:s,signer:g,to:y,permission:Ir.ALLOW,func:kr(Rt,"setAll")}]})),Jn.BATCH_REGISTER_DERIVATIVE,G(G({},f),{},{state:l,to:m,encodeData:u,verifyingContract:s})),T=x[i],!((i===Jn.DISTRIBUTE_ROYALTY_TOKENS||i===Jn.BATCH_REGISTER_DERIVATIVE)&&T)){L.n=5;break}return L.n=4,XZ(T);case 4:return I=L.v,C=I.signature,L.a(2,C);case 5:return L.n=6,zh(T);case 6:return N=L.v,P=N.signature,L.a(2,P);case 7:return L.a(2)}},e)}));return function(n){return t.apply(this,arguments)}}(),Lo,Q2={NCSR:"https://github.com/piplabs/pil-document/blob/998c13e6ee1d04eb817aefd1fe16dfe8be3cd7a2/off-chain-terms/NCSR.json",COMMERCIAL_USE:"https://github.com/piplabs/pil-document/blob/9a1f803fcf8101a8a78f1dcc929e6014e144ab56/off-chain-terms/CommercialUse.json",COMMERCIAL_REMIX:"https://github.com/piplabs/pil-document/blob/ad67bb632a310d2557f8abcccd428e4c9c798db1/off-chain-terms/CommercialRemix.json",CC_BY:"https://github.com/piplabs/pil-document/blob/998c13e6ee1d04eb817aefd1fe16dfe8be3cd7a2/off-chain-terms/CC-BY.json"},eA={transferable:!0,royaltyPolicy:Ot,defaultMintingFee:0n,expiration:0n,commercializerChecker:Ot,commercializerCheckerData:Ot,commercialRevShare:0,commercialRevCeiling:0n,derivativeRevCeiling:0n,currency:Ot},Vr=et(function t(){Qe(this,t)});Lo=Vr;hn(Vr,"_nonComSocialRemixingPIL",G(G({},eA),{},{commercialUse:!1,commercialAttribution:!1,derivativesAllowed:!0,derivativesAttribution:!0,derivativesApproval:!1,derivativesReciprocal:!0,uri:Q2.NCSR}));hn(Vr,"_commercialUse",G(G({},eA),{},{commercialUse:!0,commercialAttribution:!0,derivativesAllowed:!1,derivativesAttribution:!1,derivativesApproval:!1,derivativesReciprocal:!1,uri:Q2.COMMERCIAL_USE}));hn(Vr,"_commercialRemix",G(G({},eA),{},{commercialUse:!0,commercialAttribution:!0,derivativesAllowed:!0,derivativesAttribution:!0,derivativesApproval:!1,derivativesReciprocal:!0,uri:Q2.COMMERCIAL_REMIX}));hn(Vr,"_creativeCommonsAttribution",G(G({},eA),{},{commercialUse:!0,commercialAttribution:!0,derivativesAllowed:!0,derivativesAttribution:!0,derivativesApproval:!1,derivativesReciprocal:!0,uri:Q2.CC_BY}));hn(Vr,"nonCommercialSocialRemixing",function(t){return Lo.validateLicenseTerms(G(G({},Lo._nonComSocialRemixingPIL),t==null?void 0:t.override),t==null?void 0:t.chainId)});hn(Vr,"commercialUse",function(t){var e=t.defaultMintingFee,n=t.currency,r=t.royaltyPolicy,s=t.chainId,i=t.override;return Lo.validateLicenseTerms(G(G({},Lo._commercialUse),{},{defaultMintingFee:e,currency:n,royaltyPolicy:r},i),s)});hn(Vr,"commercialRemix",function(t){var e=t.defaultMintingFee,n=t.royaltyPolicy,r=t.currency,s=t.commercialRevShare,i=t.chainId,a=t.override;return Lo.validateLicenseTerms(G(G({},Lo._commercialRemix),{},{commercialRevShare:s,defaultMintingFee:e,currency:r,royaltyPolicy:n},a),i)});hn(Vr,"creativeCommonsAttribution",function(t){var e=t.royaltyPolicy,n=t.currency,r=t.chainId,s=t.override;return Lo.validateLicenseTerms(G(G({},Lo._creativeCommonsAttribution),{},{currency:n,royaltyPolicy:e},s),r)});hn(Vr,"validateLicenseTerms",function(t,e){var n=G(G({},t),{},{defaultMintingFee:BigInt(t.defaultMintingFee),expiration:BigInt(t.expiration),commercialRevCeiling:BigInt(t.commercialRevCeiling),derivativeRevCeiling:BigInt(t.derivativeRevCeiling),royaltyPolicy:ZZ(t.royaltyPolicy,e)}),r=n.royaltyPolicy,s=n.currency;if(r!==Ot&&s===Ot)throw new bp("Royalty policy requires currency token.");if(n.defaultMintingFee<0n)throw new bp("DefaultMintingFee should be greater than or equal to 0.");if(n.defaultMintingFee>0n&&n.royaltyPolicy===Ot)throw new bp("Royalty policy is required when defaultMintingFee is greater than 0.");if(Lo.verifyCommercialUse(n),Lo.verifyDerivatives(n),n.commercialRevShare>100||n.commercialRevShare<0)throw new bp("commercialRevShare must be between 0 and 100.");return n});hn(Vr,"verifyCommercialUse",function(t){if(t.commercialUse){if(t.royaltyPolicy===Ot)throw new bp("Royalty policy is required when commercial use is enabled.")}else for(var e=[{field:"commercialAttribution",value:t.commercialAttribution},{field:"commercializerChecker",value:t.commercializerChecker!==Ot},{field:"commercialRevShare",value:t.commercialRevShare>0},{field:"commercialRevCeiling",value:t.commercialRevCeiling>0n},{field:"derivativeRevCeiling",value:t.derivativeRevCeiling>0n},{field:"royaltyPolicy",value:t.royaltyPolicy!==Ot}],n=0,r=e;n<r.length;n++){var s=r[n],i=s.field,a=s.value;if(a)throw new bp("Cannot add ".concat(i," when commercial use is disabled."))}});hn(Vr,"verifyDerivatives",function(t){if(!t.derivativesAllowed)for(var e=[{field:"derivativesAttribution",value:t.derivativesAttribution},{field:"derivativesApproval",value:t.derivativesApproval},{field:"derivativesReciprocal",value:t.derivativesReciprocal},{field:"derivativeRevCeiling",value:t.derivativeRevCeiling>0n}],n=0,r=e;n<r.length;n++){var s=r[n],i=s.field,a=s.value;if(a)throw new bp("Cannot add ".concat(i," when derivative use is disabled."))}});function xM(t){if(t!=null){var e=t[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],n=0;if(e)return e.call(t);if(typeof t.next=="function")return t;if(!isNaN(t.length))return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}throw new TypeError(typeof t+" is not iterable")}function jPe(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function s(){for(;n.length;)if((r=n.pop())in e)return s.value=r,s.done=!1,s;return s.done=!0,s}}var mE=function(){var t=W(D().m(function e(n,r){var s;return D().w(function(i){for(;;)switch(i.n){case 0:return s=new Il(r,n),i.n=1,s.publicMinting();case 1:return i.a(2,i.v)}},e)}));return function(n,r){return t.apply(this,arguments)}}(),Vh=function(){var t=W(D().m(function e(n,r,s){var i,a,o,l,u,d,p,f,h,y;return D().w(function(m){for(;;)switch(m.n){case 0:i=[],a=[],o=[],l=0;case 1:if(!(l<n.length)){m.n=10;break}if(u=Vr.validateLicenseTerms(n[l].terms,s),u.commercialRevShare=bo(u.commercialRevShare),d=new HZ(r),ce(u.royaltyPolicy)===Ot){m.n=3;break}return m.n=2,d.isWhitelistedRoyaltyPolicy({royaltyPolicy:u.royaltyPolicy});case 2:if(p=m.v,p){m.n=3;break}throw new Error("The royalty policy ".concat(u.royaltyPolicy," is not whitelisted."));case 3:if(ce(u.currency)===Ot){m.n=5;break}return m.n=4,d.isWhitelistedRoyaltyToken({token:u.currency});case 4:if(f=m.v,f){m.n=5;break}throw new Error("The currency token ".concat(u.currency," is not whitelisted."));case 5:if(h=vM(n[l].licensingConfig),!(h.mintingFee>0&&u.royaltyPolicy===Ot)){m.n=6;break}throw new Error("A royalty policy must be provided when the minting fee is greater than 0.");case 6:if(y=n[l].maxLicenseTokens,y===void 0){m.n=8;break}if(!(y<0)){m.n=7;break}throw new Error("The max license tokens must be greater than or equal to 0.");case 7:h.licensingHook=OZ[s],o[l]=BigInt(y);case 8:i.push(u),a.push({terms:u,licensingConfig:h});case 9:l++,m.n=1;break;case 10:return m.a(2,{licenseTerms:i,licenseTermsData:a,maxLicenseTokens:o})}},e)}));return function(n,r,s){return t.apply(this,arguments)}}(),hv=function(e){var n=0,r=0,s=e.map(function(i){if(i.percentage<=0)throw new Error("The percentage of the royalty shares must be greater than 0.");if(i.percentage>100)throw new Error("The percentage of the royalty shares must be less than or equal to 100.");if(r+=i.percentage,r>100)throw new Error("The sum of the royalty shares cannot exceeds 100.");var a=Math.trunc(i.percentage*Math.pow(10,6));return n+=a,G(G({},i),{},{percentage:a})});return{royaltyShares:s,totalAmount:Math.trunc(n)}},wM=function(){var t=W(D().m(function e(n){var r,s,i,a,o,l,u,d,p,f,h,y,m,b,v,g;return D().w(function(x){for(;;)switch(x.n){case 0:if(i=n.derivativeDataInput,a=n.rpcClient,o=n.wallet,l=n.chainId,u=jZ[l],d=new Sf(a,o),p=new K2(a),f={parentIpIds:i.parentIpIds,licenseTermsIds:i.licenseTermsIds.map(function(T){return BigInt(T)}),licenseTemplate:ce(i.licenseTemplate||u),royaltyContext:Ot,maxMintingFee:BigInt((r=i.maxMintingFee)!==null&&r!==void 0?r:0),maxRts:ag(i.maxRts),maxRevenueShare:bo((s=i.maxRevenueShare)!==null&&s!==void 0?s:100,bc.MAX_REVENUE_SHARE)},f.parentIpIds.length!==0){x.n=1;break}throw new Error("The parent IP IDs must be provided.");case 1:if(f.licenseTermsIds.length!==0){x.n=2;break}throw new Error("The license terms IDs must be provided.");case 2:if(f.parentIpIds.length===f.licenseTermsIds.length){x.n=3;break}throw new Error("The number of parent IP IDs must match the number of license terms IDs.");case 3:if(!(f.maxMintingFee<0)){x.n=4;break}throw new Error("The maxMintingFee must be greater than 0.");case 4:h=0;case 5:if(!(h<f.parentIpIds.length)){x.n=12;break}return y=f.parentIpIds[h],x.n=6,d.isRegistered({id:ce(y)});case 6:if(m=x.v,m){x.n=7;break}throw new Error("The parent IP with id ".concat(y," is not registered."));case 7:return x.n=8,p.hasIpAttachedLicenseTerms({ipId:y,licenseTemplate:f.licenseTemplate,licenseTermsId:f.licenseTermsIds[h]});case 8:if(b=x.v,b){x.n=9;break}throw new Error("License terms id ".concat(f.licenseTermsIds[h]," must be attached to the parent ipId ").concat(f.parentIpIds[h]," before registering derivative."));case 9:return x.n=10,p.getRoyaltyPercent({ipId:y,licenseTemplate:f.licenseTemplate,licenseTermsId:f.licenseTermsIds[h]});case 10:if(v=x.v,g=v.royaltyPercent,!(f.maxRevenueShare!==0&&g>f.maxRevenueShare)){x.n=11;break}throw new Error("The royalty percent for the parent IP with id ".concat(y," is greater than the maximum revenue share ").concat(f.maxRevenueShare,"."));case 11:h++,x.n=5;break;case 12:return x.a(2,f)}},e)}));return function(n){return t.apply(this,arguments)}}(),ag=function(e){if(e===void 0)return gk;if(e<0||e>gk)throw new Error("The maxRts must be greater than 0 and less than ".concat(gk,"."));return e},Qd=function(){var t=W(D().m(function e(n){var r,s,i,a,o,l,u;return D().w(function(d){for(;;)switch(d.n){case 0:return r=n.nftContract,s=n.tokenId,i=n.rpcClient,a=n.wallet,o=n.chainId,l=new Sf(i,a),d.n=1,l.ipId({chainId:BigInt(Z2[o]),tokenContract:ce(r),tokenId:BigInt(s)});case 1:return u=d.v,d.a(2,u)}},e)}));return function(n){return t.apply(this,arguments)}}(),Uu=function(){var t=W(D().m(function e(n,r){var s;return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,n.getBlock();case 1:return s=i.v.timestamp,i.a(2,fv(s,r))}},e)}));return function(n,r){return t.apply(this,arguments)}}(),yE=function(e,n){return!n||n.length===0?e:n.reduce(function(r,s){if(!s||!s.address)return r;var i=r.find(function(a){return a.address===s.address&&a.token===s.token});return i?i.amount=(i.amount||0n)+(s.amount||0n):r.push(G(G({},s),{},{amount:s.amount||0n})),r},Ss(e))},_Pe=function(){var t=W(D().m(function e(n,r,s){var i,a;return D().w(function(o){for(;;)switch(o.n){case 0:return i=new Il(r,n),a=$a(1,{size:32}),o.n=1,i.hasRole({role:a,account:s});case 1:return o.a(2,o.v)}},e)}));return function(n,r,s){return t.apply(this,arguments)}}(),DPe=function(e,n,r){var s={},i=bt(e),a;try{var o=function(){var u,d=a.value,p=d.spenders,f=d.encodedTxData,h=d.workflowClient,y=d.isUseMulticall3,m=d.extraData,b=y;r&&(b=!1);var v=b?n:h.address;s[v]||(s[v]={spenders:[],encodedTxData:[],contractCall:[],extraData:[]});var g=s[v];g.spenders=yE(g.spenders,p||[]),g.encodedTxData=g.encodedTxData.concat(f),g.extraData=(u=g.extraData)===null||u===void 0?void 0:u.concat(m||void 0),y||r?g.contractCall=g.contractCall.concat(d.contractCall):g.contractCall=[function(){return h.multicall({data:g.encodedTxData.map(function(x){return x.data})})}]};for(i.s();!(a=i.n()).done;)o()}catch(l){i.e(l)}finally{i.f()}return s},I8=function(){var t=W(D().m(function e(n){var r,s,i,a,o,l,u,d,p,f,h,y,m;return D().w(function(b){for(;;)switch(b.n){case 0:s=n.transferWorkflowRequests,i=n.multicall3Address,a=n.options,o=n.rpcClient,l=n.wallet,u=n.walletAddress,d=DPe(s,i,(a==null||(r=a.wipOptions)===null||r===void 0?void 0:r.useMulticallWhenPossible)===!1),p=[],f=D().m(function v(){var g,x,T,I,C,N,P;return D().w(function(L){for(;;)switch(L.n){case 0:return g=d[h],x=g.spenders,T=g.encodedTxData,I=g.contractCall,C=function(){var U=W(D().m(function $(){var B,_,w,k,S,M;return D().w(function(R){for(;;)switch(R.p=R.n){case 0:B=[],_=bt(I),R.p=1,_.s();case 2:if((w=_.n()).done){R.n=5;break}return k=w.value,R.n=3,k();case 3:S=R.v,B.push(S);case 4:R.n=2;break;case 5:R.n=7;break;case 6:R.p=6,M=R.v,_.e(M);case 7:return R.p=7,_.f(),R.f(7);case 8:return R.a(2,B)}},$,null,[[1,6,7,8]])}));return function(){return U.apply(this,arguments)}}(),N=h===i,L.n=1,ad({options:G(G({},a),{},{wipOptions:G(G({},a==null?void 0:a.wipOptions),{},{useMulticallWhenPossible:N})}),multicall3Address:i,rpcClient:o,tokenSpenders:x,contractCall:C,sender:u,wallet:l,encodedTxs:T});case 1:P=L.v,p.push.apply(p,Ss(Array.isArray(P)?P:[P]));case 2:return L.a(2)}},v)}),y=jPe(d);case 1:if((m=y()).done){b.n=3;break}return h=m.value,b.d(xM(f()),2);case 2:b.n=1;break;case 3:return b.a(2,{response:p,aggregateRegistrationRequest:d})}},e)}));return function(n){return t.apply(this,arguments)}}(),Gl=function(){var t=W(D().m(function e(n){var r,s,i,a;return D().w(function(o){for(;;)switch(o.n){case 0:if(r=n.request,s=n.rpcClient,i=n.wallet,a=n.chainId,!("spgNftContract"in r)){o.n=1;break}return o.a(2,UPe({request:r,rpcClient:s,wallet:i,chainId:a}));case 1:if(!("nftContract"in r&&"tokenId"in r)){o.n=2;break}return o.a(2,OPe({request:r,rpcClient:s,wallet:i,chainId:a}));case 2:throw new Error("Invalid registration request type");case 3:return o.a(2)}},e)}));return function(n){return t.apply(this,arguments)}}(),OPe=function(){var t=W(D().m(function e(n){var r,s,i,a,o,l,u,d,p,f,h,y,m,b,v,g;return D().w(function(x){for(;;)switch(x.n){case 0:return r=n.request,s=n.rpcClient,i=n.wallet,a=n.chainId,x.n=1,Qd({nftContract:ce(r.nftContract),tokenId:BigInt(r.tokenId),rpcClient:s,wallet:i,chainId:a});case 1:return o=x.v,l={nftContract:ce(r.nftContract),tokenId:BigInt(r.tokenId),ipMetadata:hc(r.ipMetadata)},x.n=2,Uu(s,r.deadline);case 2:if(u=x.v,d=new q2(s,i),p=new G2(s,i),f=new dM(s,i),!("licenseTermsData"in r)){x.n=7;break}return x.n=3,Vh(r.licenseTermsData,s,a);case 3:if(h=x.v,y=h.licenseTermsData,m=h.maxLicenseTokens,b=G(G({},l),{},{licenseTermsData:y}),!("royaltyShares"in r)){x.n=5;break}return x.n=4,$Pe({request:b,royaltyTokenDistributionWorkflowsClient:d,chainId:a,wallet:i,calculatedDeadline:u,ipIdAddress:o,royaltyShares:r.royaltyShares,maxLicenseTokens:m});case 4:return x.a(2,x.v);case 5:return x.n=6,FPe({request:b,licenseAttachmentWorkflowsClient:p,calculatedDeadline:u,ipIdAddress:o,wallet:i,chainId:a,maxLicenseTokens:m});case 6:return x.a(2,x.v);case 7:if(!("derivData"in r)){x.n=13;break}return x.n=8,wM({derivativeDataInput:r.derivData,rpcClient:s,chainId:a,wallet:i});case 8:return v=x.v,x.n=9,bM({derivData:v,rpcClient:s,chainId:a,wallet:i});case 9:if(g=x.v,!("royaltyShares"in r)){x.n=11;break}return x.n=10,BPe({request:G(G({},l),{},{derivData:v}),calculatedDeadline:u,ipIdAddress:o,wallet:i,chainId:a,royaltyTokenDistributionWorkflowsClient:d,derivativeMintingFee:g,royaltyShares:r.royaltyShares});case 10:return x.a(2,x.v);case 11:return x.n=12,LPe({request:G(G({},l),{},{derivData:v}),calculatedDeadline:u,ipIdAddress:o,wallet:i,chainId:a,derivativeWorkflowsClient:f,derivativeMintingFee:g});case 12:return x.a(2,x.v);case 13:throw new Error("Invalid register request type");case 14:return x.a(2)}},e)}));return function(n){return t.apply(this,arguments)}}(),LPe=function(){var t=W(D().m(function e(n){var r,s,i,a,o,l,u,d,p,f;return D().w(function(h){for(;;)switch(h.n){case 0:return r=n.request,s=n.calculatedDeadline,i=n.ipIdAddress,a=n.wallet,o=n.chainId,l=n.derivativeWorkflowsClient,u=n.derivativeMintingFee,h.n=1,Nc({ipIdAddress:i,methodType:Jn.REGISTER_DERIVATIVE_IP,deadline:s,wallet:a,chainId:o});case 1:return d=h.v,p=G(G({},r),{},{sigMetadataAndRegister:{signer:a.account.address,deadline:s,signature:d}}),f=u.map(function(y){return G({address:l.address},y)}),h.a(2,{transformRequest:p,isUseMulticall3:!1,spenders:f,contractCall:function(){return l.registerIpAndMakeDerivative(p)},workflowClient:l,encodedTxData:{to:l.address,data:pe({abi:ba,functionName:"registerIpAndMakeDerivative",args:[p.nftContract,p.tokenId,p.derivData,p.ipMetadata,p.sigMetadataAndRegister]})}})}},e)}));return function(n){return t.apply(this,arguments)}}(),$Pe=function(){var t=W(D().m(function e(n){var r,s,i,a,o,l,u,d,p,f;return D().w(function(h){for(;;)switch(h.n){case 0:return r=n.request,s=n.royaltyTokenDistributionWorkflowsClient,i=n.chainId,a=n.wallet,o=n.calculatedDeadline,l=n.ipIdAddress,u=n.royaltyShares,d=n.maxLicenseTokens,h.n=1,Nc({ipIdAddress:l,methodType:Jn.REGISTER_IP_AND_ATTACH_PIL_TERMS_AND_DEPLOY_ROYALTY_VAULT,deadline:o,wallet:a,chainId:i});case 1:return p=h.v,f=G(G({},r),{},{sigMetadataAndAttachAndConfig:{signer:a.account.address,deadline:o,signature:p}}),h.a(2,{transformRequest:f,isUseMulticall3:!1,contractCall:function(){return s.registerIpAndAttachPilTermsAndDeployRoyaltyVault(f)},workflowClient:s,encodedTxData:{to:s.address,data:pe({abi:ls,functionName:"registerIpAndAttachPILTermsAndDeployRoyaltyVault",args:[f.nftContract,f.tokenId,f.ipMetadata,f.licenseTermsData,f.sigMetadataAndAttachAndConfig]})},extraData:{royaltyShares:u,deadline:o,maxLicenseTokens:d,licenseTermsData:r.licenseTermsData}})}},e)}));return function(n){return t.apply(this,arguments)}}(),FPe=function(){var t=W(D().m(function e(n){var r,s,i,a,o,l,u,d,p;return D().w(function(f){for(;;)switch(f.n){case 0:return r=n.request,s=n.licenseAttachmentWorkflowsClient,i=n.calculatedDeadline,a=n.ipIdAddress,o=n.wallet,l=n.chainId,u=n.maxLicenseTokens,f.n=1,Nc({ipIdAddress:a,methodType:Jn.REGISTER_IP_AND_ATTACH_PIL_TERMS,deadline:i,wallet:o,chainId:l});case 1:return d=f.v,p=G(G({},r),{},{sigMetadataAndAttachAndConfig:{signer:o.account.address,deadline:i,signature:d}}),f.a(2,{transformRequest:p,isUseMulticall3:!1,contractCall:function(){return s.registerIpAndAttachPilTerms(p)},workflowClient:s,encodedTxData:{to:s.address,data:pe({abi:Qo,functionName:"registerIpAndAttachPILTerms",args:[p.nftContract,p.tokenId,p.ipMetadata,p.licenseTermsData,p.sigMetadataAndAttachAndConfig]})},extraData:{maxLicenseTokens:u,licenseTermsData:r.licenseTermsData}})}},e)}));return function(n){return t.apply(this,arguments)}}(),BPe=function(){var t=W(D().m(function e(n){var r,s,i,a,o,l,u,d,p,f,h;return D().w(function(y){for(;;)switch(y.n){case 0:return r=n.request,s=n.calculatedDeadline,i=n.ipIdAddress,a=n.wallet,o=n.chainId,l=n.royaltyTokenDistributionWorkflowsClient,u=n.derivativeMintingFee,d=n.royaltyShares,y.n=1,Nc({ipIdAddress:i,methodType:Jn.REGISTER_IP_AND_MAKE_DERIVATIVE_AND_DEPLOY_ROYALTY_VAULT,deadline:s,wallet:a,chainId:o});case 1:return p=y.v,f=G(G({},r),{},{sigMetadataAndRegister:{signer:a.account.address,deadline:s,signature:p}}),h=u.map(function(m){return G({address:l.address},m)}),y.a(2,{transformRequest:f,isUseMulticall3:!1,spenders:h,contractCall:function(){return l.registerIpAndMakeDerivativeAndDeployRoyaltyVault(f)},workflowClient:l,encodedTxData:{to:l.address,data:pe({abi:ls,functionName:"registerIpAndMakeDerivativeAndDeployRoyaltyVault",args:[f.nftContract,f.tokenId,f.ipMetadata,f.derivData,f.sigMetadataAndRegister]})},extraData:{royaltyShares:d,deadline:s}})}},e)}));return function(n){return t.apply(this,arguments)}}(),UPe=function(){var t=W(D().m(function e(n){var r,s,i,a,o,l,u,d,p,f,h,y,m,b,v,g,x,T;return D().w(function(I){for(;;)switch(I.n){case 0:return s=n.request,i=n.rpcClient,a=n.wallet,o=n.chainId,l=new q2(i,a),u=new G2(i,a),d=new dM(i,a),I.n=1,mE(s.spgNftContract,i);case 1:return p=I.v,I.n=2,hE(new Il(i,s.spgNftContract));case 2:if(f=I.v,h={spgNftContract:ce(s.spgNftContract),recipient:ce(s.recipient||a.account.address),ipMetadata:hc(s.ipMetadata),allowDuplicates:(r=s.allowDuplicates)!==null&&r!==void 0?r:!0},!("licenseTermsData"in s)){I.n=5;break}return I.n=3,Vh(s.licenseTermsData,i,o);case 3:if(y=I.v,m=y.licenseTermsData,b=y.maxLicenseTokens,v=G(G({},h),{},{licenseTermsData:m}),!("royaltyShares"in s)){I.n=4;break}return I.a(2,zPe({request:G(G({},v),{},{royaltyShares:s.royaltyShares}),royaltyTokenDistributionWorkflowsClient:l,nftMintFee:f,maxLicenseTokens:b}));case 4:return I.a(2,VPe({request:G(G({},v),{},{licenseTermsData:m}),licenseAttachmentWorkflowsClient:u,nftMintFee:f,isPublicMinting:p,maxLicenseTokens:b}));case 5:if(!("derivData"in s)){I.n=9;break}return I.n=6,wM({derivativeDataInput:s.derivData,rpcClient:i,wallet:a,chainId:o});case 6:return g=I.v,I.n=7,bM({derivData:g,rpcClient:i,chainId:o,wallet:a});case 7:if(x=I.v,T=G(G({},h),{},{derivData:g}),!("royaltyShares"in s)){I.n=8;break}return I.a(2,HPe({request:G(G({},T),{},{royaltyShares:s.royaltyShares}),nftMintFee:f,isPublicMinting:p,derivativeMintingFee:x,royaltyTokenDistributionWorkflowsClient:l}));case 8:return I.a(2,WPe({request:G(G({},T),{},{derivData:g}),derivativeWorkflowsClient:d,nftMintFee:f,isPublicMinting:p,derivativeMintingFee:x}));case 9:throw new Error("Invalid mint and register request type");case 10:return I.a(2)}},e)}));return function(n){return t.apply(this,arguments)}}(),zPe=function(e){var n=e.request,r=e.royaltyTokenDistributionWorkflowsClient,s=e.nftMintFee,i=e.maxLicenseTokens,a=hv(n.royaltyShares),o=a.royaltyShares,l=G(G({},n),{},{royaltyShares:o});return{transformRequest:l,isUseMulticall3:!1,contractCall:function(){return r.mintAndRegisterIpAndAttachPilTermsAndDistributeRoyaltyTokens(l)},spenders:Ss(s?[G({address:l.spgNftContract},s)]:[]),encodedTxData:{to:r.address,data:pe({abi:ls,functionName:"mintAndRegisterIpAndAttachPILTermsAndDistributeRoyaltyTokens",args:[l.spgNftContract,l.recipient,l.ipMetadata,l.licenseTermsData,l.royaltyShares,l.allowDuplicates]})},workflowClient:r,extraData:{maxLicenseTokens:i,licenseTermsData:l.licenseTermsData}}},VPe=function(e){var n=e.request,r=e.licenseAttachmentWorkflowsClient,s=e.nftMintFee,i=e.isPublicMinting,a=e.maxLicenseTokens,o=s?[G({address:n.spgNftContract},s)]:[];return{transformRequest:n,isUseMulticall3:TM(o)?!1:i,spenders:o,encodedTxData:{to:r.address,data:pe({abi:Qo,functionName:"mintAndRegisterIpAndAttachPILTerms",args:[n.spgNftContract,n.recipient,n.ipMetadata,n.licenseTermsData,n.allowDuplicates]})},contractCall:function(){return r.mintAndRegisterIpAndAttachPilTerms(n)},workflowClient:r,extraData:{maxLicenseTokens:a,licenseTermsData:n.licenseTermsData}}},HPe=function(e){var n,r=e.request,s=e.nftMintFee,i=e.isPublicMinting,a=e.derivativeMintingFee,o=e.royaltyTokenDistributionWorkflowsClient,l=hv(r.royaltyShares),u=l.royaltyShares,d=G(G({},r),{},{royaltyShares:u}),p=(n=a.map(function(f){return G({address:o.address},f)})).concat.apply(n,Ss(s?[G({address:r.spgNftContract},s)]:[]));return{transformRequest:d,isUseMulticall3:TM(p)?!1:i,spenders:p,encodedTxData:{to:o.address,data:pe({abi:ls,functionName:"mintAndRegisterIpAndMakeDerivativeAndDistributeRoyaltyTokens",args:[d.spgNftContract,d.recipient,d.ipMetadata,d.derivData,d.royaltyShares,d.allowDuplicates]})},workflowClient:o,contractCall:function(){return o.mintAndRegisterIpAndMakeDerivativeAndDistributeRoyaltyTokens(d)}}},WPe=function(e){var n,r=e.request,s=e.derivativeWorkflowsClient,i=e.nftMintFee,a=e.isPublicMinting,o=e.derivativeMintingFee,l=(n=o.map(function(u){return G({address:s.address},u)})).concat.apply(n,Ss(i?[G({address:r.spgNftContract},i)]:[]));return{transformRequest:r,isUseMulticall3:TM(l)?!1:a,spenders:l,encodedTxData:{to:s.address,data:pe({abi:ba,functionName:"mintAndRegisterIpAndMakeDerivative",args:[r.spgNftContract,r.derivData,r.ipMetadata,r.recipient,r.allowDuplicates]})},contractCall:function(){return s.mintAndRegisterIpAndMakeDerivative(r)},workflowClient:s}},eX=function(){var t=W(D().m(function e(n){var r,s,i,a,o,l,u,d,p,f,h,y,m,b,v,g,x;return D().w(function(T){for(;;)switch(T.n){case 0:return r=n.request,s=n.rpcClient,i=n.wallet,a=n.chainId,o=r.ipId,l=r.deadline,u=r.ipRoyaltyVault,d=r.totalAmount,T.n=1,Uu(s,l);case 1:return p=T.v,f=new pE(s,u),T.n=2,f.balanceOf({account:o});case 2:if(h=T.v,y=new q2(s,i),!(BigInt(h)<BigInt(d))){T.n=3;break}throw new Error("The balance of the IP account in the IP Royalty Vault is insufficient to distribute the royalty tokens.");case 3:return m=new qs(s,i,ce(o)),T.n=4,m.state();case 4:return b=T.v,v=b.result,T.n=5,Nc({ipIdAddress:o,methodType:Jn.DISTRIBUTE_ROYALTY_TOKENS,deadline:p,ipRoyaltyVault:u,totalAmount:d,state:v,encodeData:pe({abi:Uh,functionName:"approve",args:[Z1[a],BigInt(d)]}),wallet:i,chainId:a});case 5:return g=T.v,x={ipId:o,royaltyShares:r.royaltyShares,sigApproveRoyaltyTokens:{signer:i.account.address,deadline:p,signature:g}},T.a(2,{transformRequest:x,isUseMulticall3:!1,contractCall:function(){return y.distributeRoyaltyTokens(x)},workflowClient:y,encodedTxData:{to:Z1[a],data:pe({abi:ls,functionName:"distributeRoyaltyTokens",args:[x.ipId,x.royaltyShares,x.sigApproveRoyaltyTokens]})}})}},e)}));return function(n){return t.apply(this,arguments)}}(),GPe=function(){var t=W(D().m(function e(n){var r,s,i,a,o,l,u,d,p,f,h,y;return D().w(function(m){for(;;)switch(m.p=m.n){case 0:if(r=n.royaltyDistributionRequests,s=n.ipRegisteredLog,i=n.ipRoyaltyVault,a=n.rpcClient,o=n.wallet,l=n.chainId,r.length!==0){m.n=1;break}return m.a(2,{requests:[],ipRoyaltyVaults:[]});case 1:u=[],d=[],p=bt(r),m.p=2,h=D().m(function b(){var v,g,x,T,I,C,N,P,L;return D().w(function(U){for(;;)switch(U.n){case 0:if(v=f.value,g=s.find(function($){var B=$.tokenContract,_=$.tokenId;return B===v.nftContract&&_===v.tokenId}),!g){U.n=3;break}return T=hv((x=v.royaltyShares)!==null&&x!==void 0?x:[]),I=T.royaltyShares,C=T.totalAmount,U.n=1,Uu(a,v.deadline);case 1:return N=U.v,P=i.find(function($){return $.ipId===g.ipId}),U.n=2,eX({request:{ipId:g.ipId,ipRoyaltyVault:P.ipRoyaltyVault,royaltyShares:I,totalAmount:C,deadline:N},rpcClient:a,wallet:o,chainId:l});case 2:L=U.v,u.push(L),d.push(P);case 3:return U.a(2)}},b)}),p.s();case 3:if((f=p.n()).done){m.n=5;break}return m.d(xM(h()),4);case 4:m.n=3;break;case 5:m.n=7;break;case 6:m.p=6,y=m.v,p.e(y);case 7:return m.p=7,p.f(),m.f(7);case 8:return m.a(2,{requests:u,ipRoyaltyVaults:d})}},e,null,[[2,6,7,8]])}));return function(n){return t.apply(this,arguments)}}(),TM=function(e){var n=e.filter(function(s){return s.token!==Yi}),r=n.reduce(function(s,i){var a;return s+((a=i.amount)!==null&&a!==void 0?a:0n)},0n);return r>0n},ep=function(){var t=W(D().m(function e(n){var r,s,i,a,o,l,u,d,p;return D().w(function(f){for(;;)switch(f.n){case 0:r=n.maxLicenseTokensData,s=n.licensorIpId,i=n.licenseTermsIds,a=n.totalLicenseTokenLimitHookClient,o=n.templateAddress,l=[],u=0;case 1:if(!(u<r.length)){f.n=5;break}if(d=r[u].maxLicenseTokens,!(d===void 0||d<0n)){f.n=2;break}return f.a(3,4);case 2:return f.n=3,a.setTotalLicenseTokenLimit({licensorIpId:s,licenseTemplate:o,licenseTermsId:i[u],limit:BigInt(d)});case 3:p=f.v,p&&l.push(p);case 4:u++,f.n=1;break;case 5:return f.a(2,l)}},e)}));return function(n){return t.apply(this,arguments)}}(),KPe=function(){function t(e,n,r){Qe(this,t),this.licensingModuleClient=new fM(e,n),this.ipAssetRegistryClient=new Sf(e,n),this.licenseTemplateClient=new hM(e,n),this.licenseRegistryReadOnlyClient=new K2(e),this.licenseTokenReadOnlyClient=new pM(e),this.accessControllerClient=new $Z(e,n),this.coreMetadataModuleClient=new uM(e,n),this.registrationWorkflowsClient=new VZ(e,n),this.licenseAttachmentWorkflowsClient=new G2(e,n),this.derivativeWorkflowsClient=new dM(e,n),this.royaltyTokenDistributionWorkflowsClient=new q2(e,n),this.royaltyModuleEventClient=new mM(e),this.wipClient=new Rf(e,n),this.multicall3Client=new Y2(e,n),this.spgNftClient=new Il(e),this.totalLicenseTokenLimitHookClient=new WZ(e,n),this.licenseTokenClient=new nPe(e,n),this.rpcClient=e,this.wallet=n,this.chainId=r,this.walletAddress=this.wallet.account.address,this.licenseTemplateAddress=this.licenseTemplateClient.address}return et(t,[{key:"generateCreatorMetadata",value:function(n){return n}},{key:"generateIpMetadata",value:function(n){return n}},{key:"register",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p,f,h,y,m;return D().w(function(b){for(;;)switch(b.p=b.n){case 0:return b.p=0,a=BigInt(s.tokenId),b.n=1,Qd({nftContract:s.nftContract,tokenId:a,rpcClient:this.rpcClient,wallet:this.wallet,chainId:this.chainId});case 1:return o=b.v,b.n=2,this.isRegistered(o);case 2:if(l=b.v,!l){b.n=3;break}return b.a(2,{ipId:o});case 3:if(u={tokenId:a,nftContract:ce(s.nftContract),ipMetadata:hc(s.ipMetadata),sigMetadata:{signer:Ot,deadline:BigInt(0),signature:z1}},!s.ipMetadata){b.n=6;break}return b.n=4,Uu(this.rpcClient,s.deadline);case 4:return d=b.v,b.n=5,Nc({ipIdAddress:o,methodType:Jn.REGISTER,deadline:d,wallet:this.wallet,chainId:this.chainId});case 5:p=b.v,u.sigMetadata={signer:ce(this.walletAddress),deadline:d,signature:p};case 6:if(!((i=s.txOptions)!==null&&i!==void 0&&i.encodedTxDataOnly)){b.n=9;break}if(!s.ipMetadata){b.n=7;break}return b.a(2,{encodedTxData:this.registrationWorkflowsClient.registerIpEncode(u)});case 7:return b.a(2,{encodedTxData:this.ipAssetRegistryClient.registerEncode({tokenContract:u.nftContract,tokenId:u.tokenId,chainid:BigInt(this.chainId)})});case 8:b.n=15;break;case 9:if(!s.ipMetadata){b.n=11;break}return b.n=10,this.registrationWorkflowsClient.registerIp(u);case 10:f=b.v,b.n=13;break;case 11:return b.n=12,this.ipAssetRegistryClient.register({tokenContract:u.nftContract,tokenId:u.tokenId,chainid:BigInt(this.chainId)});case 12:f=b.v;case 13:return b.n=14,this.rpcClient.waitForTransactionReceipt(G(G({},s.txOptions),{},{hash:f}));case 14:return h=b.v,y=this.getIpIdAndTokenIdsFromEvent(h)[0],b.a(2,G({txHash:f},y));case 15:b.n=17;break;case 16:return b.p=16,m=b.v,b.a(2,Fe(m,"Failed to register IP"));case 17:return b.a(2)}},r,this,[[0,16]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"batchRegister",value:function(){var e=W(D().m(function r(s){var i=this,a,o,l,u,d,p,f,h,y,m,b,v,g,x;return D().w(function(T){for(;;)switch(T.p=T.n){case 0:T.p=0,a=[],o=[],u=bt(s.args),T.p=1,u.s();case 2:if((d=u.n()).done){T.n=8;break}return p=d.value,T.p=3,T.n=4,this.register(G(G({},p),{},{txOptions:{encodedTxDataOnly:!0}}));case 4:f=T.v,l=f.encodedTxData.data,T.n=6;break;case 5:throw T.p=5,v=T.v,new Error(v.message.replace("Failed to register IP:","").trim());case 6:p.ipMetadata?o.push(l):a.push({target:this.ipAssetRegistryClient.address,allowFailure:!1,callData:l});case 7:T.n=2;break;case 8:T.n=10;break;case 9:T.p=9,g=T.v,u.e(g);case 10:return T.p=10,u.f(),T.f(10);case 11:if(!(o.length>0)){T.n=13;break}return T.n=12,this.registrationWorkflowsClient.multicall({data:o});case 12:h=T.v;case 13:if(!(a.length>0)){T.n=15;break}return T.n=14,this.multicall3Client.aggregate3({calls:a});case 14:y=T.v;case 15:if(m=[],b=function(){var I=W(D().m(function C(N,P){var L,U;return D().w(function($){for(;;)switch($.n){case 0:return $.n=1,i.rpcClient.waitForTransactionReceipt(G(G({},s.txOptions),{},{hash:N}));case 1:L=$.v,U=i.getIpIdAndTokenIdsFromEvent(L,P),m.push.apply(m,Ss(U));case 2:return $.a(2)}},C)}));return function(N,P){return I.apply(this,arguments)}}(),!y){T.n=16;break}return T.n=16,b(y,"nftContract");case 16:if(!h){T.n=17;break}return T.n=17,b(h,"spgNftContract");case 17:return T.a(2,{txHash:y,spgTxHash:h,results:m});case 18:return T.p=18,x=T.v,T.a(2,Fe(x,"Failed to batch register IP"))}},r,this,[[3,5],[1,9,10,11],[0,18]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"registerDerivative",value:function(){var e=W(D().m(function r(s){var i=this,a,o,l,u,d,p,f,h;return D().w(function(y){for(;;)switch(y.p=y.n){case 0:return y.p=0,y.n=1,this.isRegistered(s.childIpId);case 1:if(o=y.v,o){y.n=2;break}throw new Error("The child IP with id ".concat(s.childIpId," is not registered."));case 2:return y.n=3,wM({derivativeDataInput:s,rpcClient:this.rpcClient,wallet:this.wallet,chainId:this.chainId});case 3:if(l=y.v,u=G({childIpId:s.childIpId},l),d=this.licensingModuleClient.registerDerivativeEncode(u),!((a=s.txOptions)!==null&&a!==void 0&&a.encodedTxDataOnly)){y.n=4;break}return y.a(2,{encodedTxData:d});case 4:return f=function(){return i.licensingModuleClient.registerDerivative(u)},y.a(2,this.handleRegistrationWithFees({sender:this.walletAddress,derivData:u,contractCall:f,txOptions:s.txOptions,encodedTxs:[d],spgSpenderAddress:this.royaltyModuleEventClient.address,options:G(G({},s.options),{},{wipOptions:G(G({},(p=s.options)===null||p===void 0?void 0:p.wipOptions),{},{useMulticallWhenPossible:!1})})}));case 5:y.n=7;break;case 6:return y.p=6,h=y.v,y.a(2,Fe(h,"Failed to register derivative"));case 7:return y.a(2)}},r,this,[[0,6]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"batchRegisterDerivative",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p,f,h,y,m,b,v,g,x,T,I;return D().w(function(C){for(;;)switch(C.p=C.n){case 0:C.p=0,i=[],a=ce(this.licensingModuleClient.address),o=bt(s.args),C.p=1,o.s();case 2:if((l=o.n()).done){C.n=11;break}return p=l.value,C.p=3,C.n=4,this.registerDerivative(G(G({},p),{},{txOptions:{encodedTxDataOnly:!0}}));case 4:C.n=6;break;case 5:throw C.p=5,x=C.v,new Error(x.message.replace("Failed to register derivative:","").trim());case 6:return C.n=7,Uu(this.rpcClient,s.deadline);case 7:return f=C.v,h=new qs(this.rpcClient,this.wallet,ce(p.childIpId)),y=pe({abi:Cn,functionName:"registerDerivative",args:[p.childIpId,p.parentIpIds,p.licenseTermsIds.map(function(N){return BigInt(N)}),p.licenseTemplate||this.licenseTemplateAddress,Ot,BigInt((u=p.maxMintingFee)!==null&&u!==void 0?u:0),ag(p.maxRts),bo((d=p.maxRevenueShare)!==null&&d!==void 0?d:100,bc.MAX_REVENUE_SHARE)]}),C.n=8,h.state();case 8:return m=C.v,b=m.result,C.n=9,Nc({ipIdAddress:p.childIpId,methodType:Jn.BATCH_REGISTER_DERIVATIVE,state:b,encodeData:y,deadline:f,wallet:this.wallet,chainId:this.chainId});case 9:v=C.v,i.push({target:p.childIpId,allowFailure:!1,callData:pe({abi:Bi,functionName:"executeWithSig",args:[a,BigInt(0),y,this.wallet.account.address,f,v]})});case 10:C.n=2;break;case 11:C.n=13;break;case 12:C.p=12,T=C.v,o.e(T);case 13:return C.p=13,o.f(),C.f(13);case 14:return C.n=15,this.multicall3Client.aggregate3({calls:i});case 15:return g=C.v,C.n=16,this.rpcClient.waitForTransactionReceipt(G(G({},s.txOptions),{},{hash:g}));case 16:return C.a(2,{txHash:g});case 17:return C.p=17,I=C.v,C.a(2,Fe(I,"Failed to batch register derivative"))}},r,this,[[3,5],[1,12,13,14],[0,17]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"registerDerivativeWithLicenseTokens",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u;return D().w(function(d){for(;;)switch(d.p=d.n){case 0:return d.p=0,a={childIpId:ce(s.childIpId),licenseTokenIds:s.licenseTokenIds.map(function(p){return BigInt(p)}),royaltyContext:Ot,maxRts:ag(s.maxRts)},d.n=1,this.isRegistered(s.childIpId);case 1:if(o=d.v,o){d.n=2;break}throw new Error("The child IP with id ".concat(s.childIpId," is not registered."));case 2:if(s.licenseTokenIds.length!==0){d.n=3;break}throw new Error("The licenseTokenIds must be provided.");case 3:return d.n=4,this.validateLicenseTokenIds(s.licenseTokenIds);case 4:if(s.licenseTokenIds=d.v,!((i=s.txOptions)!==null&&i!==void 0&&i.encodedTxDataOnly)){d.n=5;break}return d.a(2,{encodedTxData:this.licensingModuleClient.registerDerivativeWithLicenseTokensEncode(a)});case 5:return d.n=6,this.licensingModuleClient.registerDerivativeWithLicenseTokens(a);case 6:return l=d.v,d.n=7,this.rpcClient.waitForTransactionReceipt(G(G({},s.txOptions),{},{hash:l}));case 7:return d.a(2,{txHash:l});case 8:d.n=10;break;case 9:return d.p=9,u=d.v,d.a(2,Fe(u,"Failed to register derivative with license tokens"));case 10:return d.a(2)}},r,this,[[0,9]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"mintAndRegisterIpAssetWithPilTerms",value:function(){var e=W(D().m(function r(s){var i=this,a,o,l,u,d,p,f,h,y;return D().w(function(m){for(;;)switch(m.p=m.n){case 0:return m.p=0,m.n=1,Gl({request:s,rpcClient:this.rpcClient,wallet:this.wallet,chainId:this.chainId});case 1:if(o=m.v,l=o.transformRequest,u=this.licenseAttachmentWorkflowsClient.mintAndRegisterIpAndAttachPilTermsEncode(l),!((a=s.txOptions)!==null&&a!==void 0&&a.encodedTxDataOnly)){m.n=2;break}return m.a(2,{encodedTxData:u});case 2:return d=function(){return i.licenseAttachmentWorkflowsClient.mintAndRegisterIpAndAttachPilTerms(l)},m.n=3,this.handleRegistrationWithFees({options:s.options,sender:this.walletAddress,spgNftContract:l.spgNftContract,spgSpenderAddress:this.royaltyTokenDistributionWorkflowsClient.address,encodedTxs:[u],contractCall:d,txOptions:s.txOptions});case 3:return p=m.v,m.n=4,this.getLicenseTermsId(l.licenseTermsData.map(function(b){return b.terms}));case 4:return f=m.v,m.n=5,ep({maxLicenseTokensData:s.licenseTermsData,licensorIpId:p.ipId,licenseTermsIds:f,totalLicenseTokenLimitHookClient:this.totalLicenseTokenLimitHookClient,templateAddress:this.licenseTemplateAddress});case 5:return h=m.v,m.a(2,G(G({},p),{},{licenseTermsIds:f},h.length>0&&{maxLicenseTokensTxHashes:h}));case 6:return m.p=6,y=m.v,m.a(2,Fe(y,"Failed to mint and register IP and attach PIL terms"))}},r,this,[[0,6]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"batchMintAndRegisterIpAssetWithPilTerms",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p,f,h,y,m,b,v,g,x,T,I;return D().w(function(C){for(;;)switch(C.p=C.n){case 0:C.p=0,i=[],a=bt(s.args),C.p=1,a.s();case 2:if((o=a.n()).done){C.n=5;break}return l=o.value,C.n=3,this.mintAndRegisterIpAssetWithPilTerms(G(G({},l),{},{txOptions:{encodedTxDataOnly:!0}}));case 3:u=C.v,i.push(u.encodedTxData.data);case 4:C.n=2;break;case 5:C.n=7;break;case 6:C.p=6,T=C.v,a.e(T);case 7:return C.p=7,a.f(),C.f(7);case 8:return C.n=9,this.licenseAttachmentWorkflowsClient.multicall({data:i});case 9:return d=C.v,C.n=10,this.rpcClient.waitForTransactionReceipt(G(G({},s.txOptions),{},{hash:d}));case 10:p=C.v,f=this.ipAssetRegistryClient.parseTxIpRegisteredEvent(p).map(function(N){return{ipId:N.ipId,tokenId:N.tokenId,spgNftContract:N.tokenContract,licenseTermsIds:[]}}),h=0;case 11:if(!(h<s.args.length)){C.n=15;break}for(y=[],m=s.args[h].licenseTermsData,b=0;b<m.length;b++)v=Vr.validateLicenseTerms(m[b].terms,this.chainId),y.push(v);return C.n=12,this.getLicenseTermsId(y);case 12:return g=C.v,f[h].licenseTermsIds=g,C.n=13,ep({maxLicenseTokensData:m,licensorIpId:f[h].ipId,licenseTermsIds:g,totalLicenseTokenLimitHookClient:this.totalLicenseTokenLimitHookClient,templateAddress:this.licenseTemplateAddress});case 13:x=C.v,x.length>0&&(f[h].maxLicenseTokensTxHashes=x);case 14:h++,C.n=11;break;case 15:return C.a(2,{txHash:d,results:f});case 16:return C.p=16,I=C.v,C.a(2,Fe(I,"Failed to batch mint and register IP and attach PIL terms"))}},r,this,[[1,6,7,8],[0,16]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"registerIpAndAttachPilTerms",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p,f,h,y,m,b,v;return D().w(function(g){for(;;)switch(g.p=g.n){case 0:return g.p=0,s.tokenId=BigInt(s.tokenId),g.n=1,Qd({nftContract:s.nftContract,tokenId:s.tokenId,rpcClient:this.rpcClient,wallet:this.wallet,chainId:this.chainId});case 1:return a=g.v,g.n=2,this.isRegistered(a);case 2:if(o=g.v,!o){g.n=3;break}throw new Error("The NFT with id ".concat(s.tokenId," is already registered as IP."));case 3:return g.n=4,Vh(s.licenseTermsData,this.rpcClient,this.chainId);case 4:return l=g.v,u=l.licenseTerms,g.n=5,Gl({request:s,rpcClient:this.rpcClient,wallet:this.wallet,chainId:this.chainId});case 5:if(d=g.v,p=d.transformRequest,!((i=s.txOptions)!==null&&i!==void 0&&i.encodedTxDataOnly)){g.n=6;break}return g.a(2,{encodedTxData:this.licenseAttachmentWorkflowsClient.registerIpAndAttachPilTermsEncode(p)});case 6:return g.n=7,this.licenseAttachmentWorkflowsClient.registerIpAndAttachPilTerms(p);case 7:return f=g.v,g.n=8,this.rpcClient.waitForTransactionReceipt(G(G({},s.txOptions),{},{hash:f}));case 8:return h=g.v,y=this.getIpIdAndTokenIdsFromEvent(h)[0],g.n=9,this.getLicenseTermsId(u);case 9:return m=g.v,g.n=10,ep({maxLicenseTokensData:s.licenseTermsData,licensorIpId:y.ipId,licenseTermsIds:m,totalLicenseTokenLimitHookClient:this.totalLicenseTokenLimitHookClient,templateAddress:this.licenseTemplateAddress});case 10:return b=g.v,g.a(2,G(G({txHash:f,licenseTermsIds:m},b.length>0&&{maxLicenseTokensTxHashes:b}),y));case 11:g.n=13;break;case 12:return g.p=12,v=g.v,g.a(2,Fe(v,"Failed to register IP and attach PIL terms"));case 13:return g.a(2)}},r,this,[[0,12]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"registerDerivativeIp",value:function(){var e=W(D().m(function r(s){var i=this,a,o,l,u,d,p,f,h,y,m;return D().w(function(b){for(;;)switch(b.p=b.n){case 0:return b.p=0,l=BigInt(s.tokenId),b.n=1,Qd({nftContract:s.nftContract,tokenId:l,rpcClient:this.rpcClient,wallet:this.wallet,chainId:this.chainId});case 1:return u=b.v,b.n=2,this.isRegistered(u);case 2:if(d=b.v,!d){b.n=3;break}throw new Error("The NFT with id ".concat(l," is already registered as IP."));case 3:return b.n=4,Gl({request:s,rpcClient:this.rpcClient,wallet:this.wallet,chainId:this.chainId});case 4:if(p=b.v,f=p.transformRequest,h=this.derivativeWorkflowsClient.registerIpAndMakeDerivativeEncode(f),!((a=s.txOptions)!==null&&a!==void 0&&a.encodedTxDataOnly)){b.n=5;break}return b.a(2,{encodedTxData:h});case 5:return y=function(){return i.derivativeWorkflowsClient.registerIpAndMakeDerivative(f)},b.a(2,this.handleRegistrationWithFees({options:G(G({},s.options),{},{wipOptions:G(G({},(o=s.options)===null||o===void 0?void 0:o.wipOptions),{},{useMulticallWhenPossible:!1})}),sender:this.walletAddress,spgSpenderAddress:this.derivativeWorkflowsClient.address,derivData:f.derivData,encodedTxs:[h],contractCall:y,txOptions:s.txOptions}));case 6:return b.p=6,m=b.v,b.a(2,Fe(m,"Failed to register derivative IP"))}},r,this,[[0,6]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"mintAndRegisterIpAndMakeDerivative",value:function(){var e=W(D().m(function r(s){var i=this,a,o,l,u,d,p,f;return D().w(function(h){for(;;)switch(h.p=h.n){case 0:return h.p=0,o=ce(s.spgNftContract),h.n=1,Gl({request:s,rpcClient:this.rpcClient,wallet:this.wallet,chainId:this.chainId});case 1:if(l=h.v,u=l.transformRequest,d=this.derivativeWorkflowsClient.mintAndRegisterIpAndMakeDerivativeEncode(u),!((a=s.txOptions)!==null&&a!==void 0&&a.encodedTxDataOnly)){h.n=2;break}return h.a(2,{encodedTxData:d});case 2:return p=function(){return i.derivativeWorkflowsClient.mintAndRegisterIpAndMakeDerivative(u)},h.a(2,this.handleRegistrationWithFees({options:s.options,sender:this.walletAddress,spgSpenderAddress:this.derivativeWorkflowsClient.address,spgNftContract:o,derivData:u.derivData,encodedTxs:[d],contractCall:p,txOptions:s.txOptions}));case 3:return h.p=3,f=h.v,h.a(2,Fe(f,"Failed to mint and register IP and make derivative"))}},r,this,[[0,3]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"batchMintAndRegisterIpAndMakeDerivative",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p,f,h,y;return D().w(function(m){for(;;)switch(m.p=m.n){case 0:m.p=0,i=[],a=bt(s.args),m.p=1,a.s();case 2:if((o=a.n()).done){m.n=7;break}return l=o.value,m.p=3,m.n=4,this.mintAndRegisterIpAndMakeDerivative(G(G({},l),{},{txOptions:{encodedTxDataOnly:!0}}));case 4:u=m.v,i.push(u.encodedTxData.data),m.n=6;break;case 5:throw m.p=5,f=m.v,new Error(f.message.replace("Failed to mint and register IP and make derivative: ","").trim());case 6:m.n=2;break;case 7:m.n=9;break;case 8:m.p=8,h=m.v,a.e(h);case 9:return m.p=9,a.f(),m.f(9);case 10:return m.n=11,this.derivativeWorkflowsClient.multicall({data:i});case 11:return d=m.v,m.n=12,this.rpcClient.waitForTransactionReceipt(G(G({},s.txOptions),{},{hash:d}));case 12:return p=m.v,m.a(2,{txHash:d,results:this.getIpIdAndTokenIdsFromEvent(p,"spgNftContract")});case 13:return m.p=13,y=m.v,m.a(2,Fe(y,"Failed to batch mint and register IP and make derivative"))}},r,this,[[3,5],[1,8,9,10],[0,13]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"mintAndRegisterIp",value:function(){var e=W(D().m(function r(s){var i=this,a,o,l,u,d,p;return D().w(function(f){for(;;)switch(f.p=f.n){case 0:if(f.p=0,l={spgNftContract:ce(s.spgNftContract),recipient:ce(s.recipient||this.walletAddress),ipMetadata:hc(s.ipMetadata),allowDuplicates:s.allowDuplicates||!0},u=this.registrationWorkflowsClient.mintAndRegisterIpEncode(l),!((a=s.txOptions)!==null&&a!==void 0&&a.encodedTxDataOnly)){f.n=1;break}return f.a(2,{encodedTxData:u});case 1:return d=function(){return i.registrationWorkflowsClient.mintAndRegisterIp(l)},f.a(2,this.handleRegistrationWithFees({sender:this.walletAddress,spgSpenderAddress:this.registrationWorkflowsClient.address,encodedTxs:[u],contractCall:d,spgNftContract:l.spgNftContract,txOptions:s.txOptions,options:G(G({},s.options),{},{wipOptions:G(G({},(o=s.options)===null||o===void 0?void 0:o.wipOptions),{},{useMulticallWhenPossible:!1})})}));case 2:return f.p=2,p=f.v,f.a(2,Fe(p,"Failed to mint and register IP"))}},r,this,[[0,2]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"batchMintAndRegisterIp",value:function(){var e=W(D().m(function r(s){var i=this,a,o,l,u,d,p,f,h,y,m,b,v,g,x,T,I,C,N,P,L,U;return D().w(function($){for(;;)switch($.p=$.n){case 0:$.p=0,a=[],o=[],l=[],u=[],d=bt(s.requests),$.p=1,d.s();case 2:if((p=d.n()).done){$.n=9;break}return f=p.value,h={spgNftContract:ce(f.spgNftContract),recipient:ce(f.recipient||this.walletAddress),ipMetadata:hc(f.ipMetadata),allowDuplicates:f.allowDuplicates||!0},$.n=3,mE(f.spgNftContract,this.rpcClient);case 3:return y=$.v,$.n=4,hE(new Il(this.rpcClient,h.spgNftContract));case 4:if(m=$.v,b={to:this.registrationWorkflowsClient.address,data:pe({abi:io,functionName:"mintAndRegisterIp",args:[h.spgNftContract,h.recipient,h.ipMetadata,h.allowDuplicates]})},!y){$.n=5;break}o=yE(o,m?[G({address:h.spgNftContract},m)]:[]),a.push(b),$.n=8;break;case 5:return $.n=6,_Pe(h.spgNftContract,this.rpcClient,this.walletAddress);case 6:if(v=$.v,v){$.n=7;break}throw new Error("Caller ".concat(this.walletAddress," does not have the minter role for ").concat(h.spgNftContract));case 7:u=yE(u,m?[G({address:h.spgNftContract},m)]:[]),l.push(b);case 8:$.n=2;break;case 9:$.n=11;break;case 10:$.p=10,N=$.v,d.e(N);case 11:return $.p=11,d.f(),$.f(11);case 12:if(g=function(){var B=W(D().m(function _(){return D().w(function(w){for(;;)switch(w.n){case 0:return w.n=1,ad({options:{wipOptions:s.wipOptions,erc20Options:s.erc20Options},multicall3Address:i.multicall3Client.address,rpcClient:i.rpcClient,tokenSpenders:o,contractCall:function(){return i.registrationWorkflowsClient.multicall({data:a.map(function(S){return S.data})})},sender:i.walletAddress,wallet:i.wallet,txOptions:s.txOptions,encodedTxs:a});case 1:return w.a(2,w.v)}},_)}));return function(){return B.apply(this,arguments)}}(),x=function(){var B=W(D().m(function _(){return D().w(function(w){for(;;)switch(w.n){case 0:return w.n=1,ad({options:{wipOptions:G(G({},s.wipOptions),{},{useMulticallWhenPossible:!1}),erc20Options:s.erc20Options},multicall3Address:i.multicall3Client.address,rpcClient:i.rpcClient,tokenSpenders:u,contractCall:function(){return i.registrationWorkflowsClient.multicall({data:l.map(function(S){return S.data})})},sender:i.walletAddress,wallet:i.wallet,txOptions:s.txOptions,encodedTxs:l});case 1:return w.a(2,w.v)}},_)}));return function(){return B.apply(this,arguments)}}(),T=[],l.length!==0){$.n=14;break}return $.n=13,g();case 13:P=$.v,T=[P],$.n=19;break;case 14:if(a.length!==0){$.n=16;break}return $.n=15,x();case 15:L=$.v,T=[L],$.n=19;break;case 16:return $.n=17,g();case 17:return I=$.v,$.n=18,x();case 18:C=$.v,T=[I,C];case 19:return $.a(2,{registrationResults:T.map(function(B){return{txHash:B.txHash,receipt:B.receipt,ipIdsAndTokenIds:i.getIpIdAndTokenIdsFromEvent(B.receipt,"spgNftContract")}})});case 20:return $.p=20,U=$.v,$.a(2,Fe(U,"Failed to batch mint and register IP"))}},r,this,[[1,10,11,12],[0,20]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"mintAndRegisterIpAndMakeDerivativeWithLicenseTokens",value:function(){var e=W(D().m(function r(s){var i=this,a,o,l,u,d,p,f;return D().w(function(h){for(;;)switch(h.p=h.n){case 0:return h.p=0,h.n=1,this.validateLicenseTokenIds(s.licenseTokenIds);case 1:if(l=h.v,u={spgNftContract:ce(s.spgNftContract),recipient:ce(s.recipient||this.walletAddress),ipMetadata:hc(s.ipMetadata),licenseTokenIds:l,royaltyContext:Ot,maxRts:ag(s.maxRts),allowDuplicates:s.allowDuplicates||!0},d=this.derivativeWorkflowsClient.mintAndRegisterIpAndMakeDerivativeWithLicenseTokensEncode(u),!((a=s.txOptions)!==null&&a!==void 0&&a.encodedTxDataOnly)){h.n=2;break}return h.a(2,{encodedTxData:d});case 2:return h.n=3,this.approveLicenseTokensForDerivativeWorkflows(s.licenseTokenIds,s.autoApproveLicenseTokens);case 3:return p=function(){var y=W(D().m(function m(){return D().w(function(b){for(;;)switch(b.n){case 0:return b.a(2,i.derivativeWorkflowsClient.mintAndRegisterIpAndMakeDerivativeWithLicenseTokens(u))}},m)}));return function(){return y.apply(this,arguments)}}(),h.a(2,this.handleRegistrationWithFees({options:G(G({},s.options),{},{wipOptions:G(G({},(o=s.options)===null||o===void 0?void 0:o.wipOptions),{},{useMulticallWhenPossible:!1})}),sender:this.walletAddress,spgNftContract:u.spgNftContract,spgSpenderAddress:this.derivativeWorkflowsClient.address,encodedTxs:[d],contractCall:p,txOptions:s.txOptions}));case 4:return h.p=4,f=h.v,h.a(2,Fe(f,"Failed to mint and register IP and make derivative with license tokens"))}},r,this,[[0,4]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"registerIpAndMakeDerivativeWithLicenseTokens",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p,f,h,y,m,b;return D().w(function(v){for(;;)switch(v.p=v.n){case 0:return v.p=0,a=BigInt(s.tokenId),v.n=1,Qd({nftContract:s.nftContract,tokenId:a,rpcClient:this.rpcClient,wallet:this.wallet,chainId:this.chainId});case 1:return o=v.v,v.n=2,this.isRegistered(o);case 2:if(l=v.v,!l){v.n=3;break}throw new Error("The NFT with id ".concat(a," is already registered as IP."));case 3:return v.n=4,this.validateLicenseTokenIds(s.licenseTokenIds);case 4:return u=v.v,v.n=5,Uu(this.rpcClient,s.deadline);case 5:return d=v.v,v.n=6,Nc({ipIdAddress:o,methodType:Jn.REGISTER_IP_AND_MAKE_DERIVATIVE_WITH_LICENSE_TOKENS,deadline:d,wallet:this.wallet,chainId:this.chainId});case 6:return p=v.v,v.n=7,this.approveLicenseTokensForDerivativeWorkflows(u,s.autoApproveLicenseTokens);case 7:if(f=G(G({},s),{},{tokenId:a,licenseTokenIds:u,royaltyContext:Ot,ipMetadata:hc(s.ipMetadata),sigMetadataAndRegister:{signer:ce(this.walletAddress),deadline:d,signature:p},maxRts:ag(s.maxRts)}),!((i=s.txOptions)!==null&&i!==void 0&&i.encodedTxDataOnly)){v.n=8;break}return v.a(2,{encodedTxData:this.derivativeWorkflowsClient.registerIpAndMakeDerivativeWithLicenseTokensEncode(f)});case 8:return v.n=9,this.derivativeWorkflowsClient.registerIpAndMakeDerivativeWithLicenseTokens(f);case 9:return h=v.v,v.n=10,this.rpcClient.waitForTransactionReceipt(G(G({},s.txOptions),{},{hash:h}));case 10:return y=v.v,m=this.getIpIdAndTokenIdsFromEvent(y)[0],v.a(2,G({txHash:h},m));case 11:v.n=13;break;case 12:return v.p=12,b=v.v,v.a(2,Fe(b,"Failed to register IP and make derivative with license tokens"));case 13:return v.a(2)}},r,this,[[0,12]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"registerIPAndAttachLicenseTermsAndDistributeRoyaltyTokens",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p,f,h,y,m,b,v,g,x,T,I,C;return D().w(function(N){for(;;)switch(N.p=N.n){case 0:return N.p=0,i=hv(s.royaltyShares),a=i.royaltyShares,o=i.totalAmount,N.n=1,Vh(s.licenseTermsData,this.rpcClient,this.chainId);case 1:return l=N.v,u=l.licenseTerms,N.n=2,Uu(this.rpcClient,s.deadline);case 2:return d=N.v,N.n=3,Qd({nftContract:ce(s.nftContract),tokenId:BigInt(s.tokenId),rpcClient:this.rpcClient,wallet:this.wallet,chainId:this.chainId});case 3:return p=N.v,N.n=4,this.isRegistered(p);case 4:if(f=N.v,!f){N.n=5;break}throw new Error("The NFT with id ".concat(s.tokenId," is already registered as IP."));case 5:return N.n=6,Gl({request:s,rpcClient:this.rpcClient,wallet:this.wallet,chainId:this.chainId});case 6:return h=N.v,y=h.transformRequest,N.n=7,this.royaltyTokenDistributionWorkflowsClient.registerIpAndAttachPilTermsAndDeployRoyaltyVault(y);case 7:return m=N.v,N.n=8,this.rpcClient.waitForTransactionReceipt(G(G({},s.txOptions),{},{hash:m}));case 8:return b=N.v,v=this.getIpIdAndTokenIdsFromEvent(b)[0].ipId,N.n=9,this.getLicenseTermsId(u);case 9:return g=N.v,x=this.royaltyModuleEventClient.parseTxIpRoyaltyVaultDeployedEvent(b)[0].ipRoyaltyVault,N.n=10,this.distributeRoyaltyTokens({ipId:v,deadline:d,ipRoyaltyVault:x,royaltyShares:a,totalAmount:o,txOptions:s.txOptions});case 10:return T=N.v,N.n=11,this.rpcClient.waitForTransactionReceipt(G(G({},s.txOptions),{},{hash:T}));case 11:return N.n=12,ep({maxLicenseTokensData:s.licenseTermsData,licensorIpId:v,licenseTermsIds:g,totalLicenseTokenLimitHookClient:this.totalLicenseTokenLimitHookClient,templateAddress:this.licenseTemplateAddress});case 12:return I=N.v,N.a(2,G({registerIpAndAttachPilTermsAndDeployRoyaltyVaultTxHash:m,distributeRoyaltyTokensTxHash:T,ipId:v,licenseTermsIds:g,ipRoyaltyVault:x},I.length>0&&{maxLicenseTokensTxHashes:I}));case 13:return N.p=13,C=N.v,N.a(2,Fe(C,"Failed to register IP and attach license terms and distribute royalty tokens"))}},r,this,[[0,13]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"registerDerivativeIpAndAttachLicenseTermsAndDistributeRoyaltyTokens",value:function(){var e=W(D().m(function r(s){var i=this,a,o,l,u,d,p,f,h,y,m,b,v,g,x,T,I,C,N;return D().w(function(P){for(;;)switch(P.p=P.n){case 0:return P.p=0,P.n=1,Qd({nftContract:ce(s.nftContract),tokenId:BigInt(s.tokenId),rpcClient:this.rpcClient,wallet:this.wallet,chainId:this.chainId});case 1:return o=P.v,P.n=2,Gl({request:s,rpcClient:this.rpcClient,wallet:this.wallet,chainId:this.chainId});case 2:return l=P.v,u=l.transformRequest,d=hv(s.royaltyShares),p=d.royaltyShares,f=d.totalAmount,P.n=3,this.isRegistered(o);case 3:if(h=P.v,!h){P.n=4;break}throw new Error("The NFT with id ".concat(s.tokenId," is already registered as IP."));case 4:return y=this.royaltyTokenDistributionWorkflowsClient.registerIpAndMakeDerivativeAndDeployRoyaltyVaultEncode(u),m=function(){return i.royaltyTokenDistributionWorkflowsClient.registerIpAndMakeDerivativeAndDeployRoyaltyVault(u)},P.n=5,this.handleRegistrationWithFees({options:G(G({},s.options),{},{wipOptions:G(G({},(a=s.options)===null||a===void 0?void 0:a.wipOptions),{},{useMulticallWhenPossible:!1})}),sender:this.walletAddress,spgSpenderAddress:this.royaltyTokenDistributionWorkflowsClient.address,derivData:u.derivData,encodedTxs:[y],contractCall:m,txOptions:G({},s.txOptions)});case 5:if(b=P.v,v=b.txHash,g=b.ipId,x=b.tokenId,T=b.receipt,!(x===void 0||!g||!T)){P.n=6;break}throw new Error("Failed to register derivative ip and deploy royalty vault.");case 6:return I=this.royaltyModuleEventClient.parseTxIpRoyaltyVaultDeployedEvent(T).filter(function(L){return L.ipId===g})[0].ipRoyaltyVault,P.n=7,this.distributeRoyaltyTokens({ipId:g,deadline:s.deadline,ipRoyaltyVault:I,royaltyShares:p,totalAmount:f,txOptions:s.txOptions});case 7:return C=P.v,P.n=8,this.rpcClient.waitForTransactionReceipt(G(G({},s.txOptions),{},{hash:C}));case 8:return P.a(2,{registerDerivativeIpAndAttachLicenseTermsAndDistributeRoyaltyTokensTxHash:v,distributeRoyaltyTokensTxHash:C,ipId:g,tokenId:x,ipRoyaltyVault:I});case 9:return P.p=9,N=P.v,P.a(2,Fe(N,"Failed to register derivative IP and attach license terms and distribute royalty tokens"))}},r,this,[[0,9]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"mintAndRegisterIpAndAttachPilTermsAndDistributeRoyaltyTokens",value:function(){var e=W(D().m(function r(s){var i=this,a,o,l,u,d,p,f,h,y,m,b,v,g,x,T,I;return D().w(function(C){for(;;)switch(C.p=C.n){case 0:return C.p=0,C.n=1,Vh(s.licenseTermsData,this.rpcClient,this.chainId);case 1:return o=C.v,l=o.licenseTerms,C.n=2,Gl({request:s,rpcClient:this.rpcClient,wallet:this.wallet,chainId:this.chainId});case 2:return u=C.v,d=u.transformRequest,p=this.royaltyTokenDistributionWorkflowsClient.mintAndRegisterIpAndAttachPilTermsAndDistributeRoyaltyTokensEncode(d),f=function(){return i.royaltyTokenDistributionWorkflowsClient.mintAndRegisterIpAndAttachPilTermsAndDistributeRoyaltyTokens(d)},C.n=3,this.handleRegistrationWithFees({options:G(G({},s.options),{},{wipOptions:G(G({},(a=s.options)===null||a===void 0?void 0:a.wipOptions),{},{useMulticallWhenPossible:!1})}),sender:this.walletAddress,spgNftContract:d.spgNftContract,spgSpenderAddress:this.royaltyTokenDistributionWorkflowsClient.address,encodedTxs:[p],contractCall:f,txOptions:s.txOptions});case 3:if(h=C.v,y=h.txHash,m=h.ipId,b=h.tokenId,v=h.receipt,v){C.n=4;break}return C.a(2,{txHash:y});case 4:return C.n=5,this.getLicenseTermsId(l);case 5:return g=C.v,x=this.royaltyModuleEventClient.parseTxIpRoyaltyVaultDeployedEvent(v)[0].ipRoyaltyVault,C.n=6,ep({maxLicenseTokensData:s.licenseTermsData,licensorIpId:m,licenseTermsIds:g,totalLicenseTokenLimitHookClient:this.totalLicenseTokenLimitHookClient,templateAddress:this.licenseTemplateAddress});case 6:return T=C.v,C.a(2,G({txHash:y,ipId:m,licenseTermsIds:g,ipRoyaltyVault:x,tokenId:b},T.length>0&&{maxLicenseTokensTxHashes:T}));case 7:return C.p=7,I=C.v,C.a(2,Fe(I,"Failed to mint and register IP and attach PIL terms and distribute royalty tokens"))}},r,this,[[0,7]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"mintAndRegisterIpAndMakeDerivativeAndDistributeRoyaltyTokens",value:function(){var e=W(D().m(function r(s){var i=this,a,o,l,u,d;return D().w(function(p){for(;;)switch(p.p=p.n){case 0:return p.p=0,p.n=1,Gl({request:s,rpcClient:this.rpcClient,wallet:this.wallet,chainId:this.chainId});case 1:return a=p.v,o=a.transformRequest,l=this.royaltyTokenDistributionWorkflowsClient.mintAndRegisterIpAndMakeDerivativeAndDistributeRoyaltyTokensEncode(o),u=function(){return i.royaltyTokenDistributionWorkflowsClient.mintAndRegisterIpAndMakeDerivativeAndDistributeRoyaltyTokens(o)},p.n=2,this.handleRegistrationWithFees({spgNftContract:o.spgNftContract,options:s.options,sender:this.walletAddress,spgSpenderAddress:this.royaltyTokenDistributionWorkflowsClient.address,derivData:o.derivData,encodedTxs:[l],contractCall:u,txOptions:s.txOptions});case 2:return p.a(2,p.v);case 3:return p.p=3,d=p.v,p.a(2,Fe(d,"Failed to mint and register IP and make derivative and distribute royalty tokens"))}},r,this,[[0,3]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"distributeRoyaltyTokens",value:function(){var e=W(D().m(function r(s){var i,a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,eX({request:s,rpcClient:this.rpcClient,wallet:this.wallet,chainId:this.chainId});case 1:return i=l.v,a=i.transformRequest,l.n=2,this.royaltyTokenDistributionWorkflowsClient.distributeRoyaltyTokens(a);case 2:return o=l.v,l.n=3,this.rpcClient.waitForTransactionReceipt(G(G({},s.txOptions),{},{hash:o}));case 3:return l.a(2,o)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"isRegistered",value:function(){var e=W(D().m(function r(s){return D().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,this.ipAssetRegistryClient.isRegistered({id:ce(s)});case 1:return i.a(2,i.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"batchRegisterIpAssetsWithOptimizedWorkflows",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p,f,h,y,m,b,v,g,x,T,I,C,N,P,L,U,$,B,_,w,k,S;return D().w(function(M){for(;;)switch(M.p=M.n){case 0:M.p=0,i=[],a=bt(s.requests),M.p=1,a.s();case 2:if((o=a.n()).done){M.n=5;break}return l=o.value,M.n=3,Gl({request:l,rpcClient:this.rpcClient,wallet:this.wallet,chainId:this.chainId});case 3:u=M.v,i.push(u);case 4:M.n=2;break;case 5:M.n=7;break;case 6:M.p=6,w=M.v,a.e(w);case 7:return M.p=7,a.f(),M.f(7);case 8:return d=i.filter(function(R){var j;return(j=R.extraData)===null||j===void 0?void 0:j.royaltyShares}).map(function(R){return{nftContract:R.transformRequest.nftContract,tokenId:R.transformRequest.tokenId,royaltyShares:R.extraData.royaltyShares,deadline:R.extraData.deadline}}),M.n=9,I8({transferWorkflowRequests:i,multicall3Address:this.multicall3Client.address,rpcClient:this.rpcClient,wallet:this.wallet,walletAddress:this.walletAddress,options:s.options,chainId:this.chainId});case 9:p=M.v,f=p.response,h=p.aggregateRegistrationRequest,y=[],m=[],b=bt(f),M.p=10,b.s();case 11:if((v=b.n()).done){M.n=14;break}return g=v.value,x=g.txHash,T=g.receipt,I=this.ipAssetRegistryClient.parseTxIpRegisteredEvent(T),C=this.royaltyModuleEventClient.parseTxIpRoyaltyVaultDeployedEvent(T),M.n=12,GPe({royaltyDistributionRequests:d,ipRegisteredLog:I,ipRoyaltyVault:C,rpcClient:this.rpcClient,wallet:this.wallet,chainId:this.chainId});case 12:N=M.v,P=N.requests,L=N.ipRoyaltyVaults,m.push.apply(m,Ss(P)),y.push({txHash:x,receipt:T,ipRoyaltyVault:L,ipAssetsWithLicenseTerms:I.map(function(R){return{ipId:R.ipId,tokenId:R.tokenId}})});case 13:M.n=11;break;case 14:M.n=16;break;case 15:M.p=15,k=M.v,b.e(k);case 16:return M.p=16,b.f(),M.f(16);case 17:if(!(m.length>0)){M.n=19;break}return M.n=18,I8({transferWorkflowRequests:m,multicall3Address:this.multicall3Client.address,rpcClient:this.rpcClient,wallet:this.wallet,walletAddress:this.walletAddress,options:s.options,chainId:this.chainId});case 18:$=M.v,B=$.response,U=B.map(function(R){return R.txHash});case 19:return M.n=20,this.populateLicenseAndTokenIdsForRegistrationResults(y,h);case 20:return _=M.v,M.a(2,G({registrationResults:_},U&&{distributeRoyaltyTokensTxHashes:U}));case 21:return M.p=21,S=M.v,M.a(2,Fe(S,"Failed to batch register IP assets with optimized workflows"))}},r,this,[[10,15,16,17],[1,6,7,8],[0,21]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"registerIpAsset",value:function(){var e=W(D().m(function r(s){var i,a,o,l;return D().w(function(u){for(;;)switch(u.p=u.n){case 0:if(u.p=0,i=s.nft,a=s.licenseTermsData,o=s.royaltyShares,!(o&&!a)){u.n=1;break}throw new Error("License terms data must be provided when royalty shares are specified.");case 1:if(i.type!=="minted"){u.n=3;break}return u.n=2,this.handleMintedNftRegistration(s);case 2:return u.a(2,u.v);case 3:if(i.type!=="mint"){u.n=5;break}return u.n=4,this.handleMintNftRegistration(s);case 4:return u.a(2,u.v);case 5:throw new Error("Invalid NFT type");case 6:u.n=8;break;case 7:return u.p=7,l=u.v,u.a(2,Fe(l,"Failed to register IP Asset"));case 8:return u.a(2)}},r,this,[[0,7]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"registerDerivativeIpAsset",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p;return D().w(function(f){for(;;)switch(f.p=f.n){case 0:if(f.p=0,i=s.nft,a=s.licenseTokenIds,o=s.royaltyShares,l=s.derivData,!(o&&!l)){f.n=1;break}throw new Error("derivData must be provided when royaltyShares are provided.");case 1:if(u=!!l,d=!!(a&&a.length>0),!(!u&&!d)){f.n=2;break}throw new Error("Either derivData or licenseTokenIds must be provided.");case 2:if(i.type!=="minted"){f.n=4;break}return f.n=3,this.handleMintedNftDerivativeRegistration(s);case 3:return f.a(2,f.v);case 4:if(i.type!=="mint"){f.n=6;break}return f.n=5,this.handleMintNftDerivativeRegistration(s);case 5:return f.a(2,f.v);case 6:throw new Error("Invalid NFT type.");case 7:f.n=9;break;case 8:return f.p=8,p=f.v,f.a(2,Fe(p,"Failed to register derivative IP Asset"));case 9:return f.a(2)}},r,this,[[0,8]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"handleMintedNftDerivativeRegistration",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p,f,h,y;return D().w(function(m){for(;;)switch(m.n){case 0:if(i=s.nft,a=s.royaltyShares,o=s.derivData,l=s.maxRts,u=s.licenseTokenIds,d=s.deadline,p=s.txOptions,f=s.options,h=s.ipMetadata,y={nftContract:i.nftContract,tokenId:i.tokenId,ipMetadata:h,deadline:d,txOptions:p,options:f},!(a&&o)){m.n=1;break}return m.a(2,this.registerDerivativeIpAndAttachLicenseTermsAndDistributeRoyaltyTokens(G(G({},y),{},{royaltyShares:a,derivData:o})));case 1:if(!o){m.n=2;break}return m.a(2,this.registerDerivativeIp(G(G({},y),{},{derivData:o})));case 2:return m.a(2,this.registerIpAndMakeDerivativeWithLicenseTokens(G(G({},y),{},{licenseTokenIds:u,maxRts:l,autoApproveLicenseTokens:s.autoApproveLicenseTokens})))}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"handleMintNftDerivativeRegistration",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p,f,h;return D().w(function(y){for(;;)switch(y.n){case 0:if(i=s.nft,a=s.royaltyShares,o=s.derivData,l=s.maxRts,u=s.licenseTokenIds,d=s.txOptions,p=s.options,f=s.ipMetadata,h={spgNftContract:i.spgNftContract,recipient:i.recipient,allowDuplicates:i.allowDuplicates,ipMetadata:f,txOptions:d,options:p},!(a&&o)){y.n=1;break}return y.a(2,this.mintAndRegisterIpAndMakeDerivativeAndDistributeRoyaltyTokens(G(G({},h),{},{royaltyShares:a,derivData:o})));case 1:if(!o){y.n=2;break}return y.a(2,this.mintAndRegisterIpAndMakeDerivative(G(G({},h),{},{derivData:o})));case 2:return y.a(2,this.mintAndRegisterIpAndMakeDerivativeWithLicenseTokens(G(G({},h),{},{licenseTokenIds:u,maxRts:l,autoApproveLicenseTokens:s.autoApproveLicenseTokens})))}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"linkDerivative",value:function(){var e=W(D().m(function r(s){var i;return D().w(function(a){for(;;)switch(a.p=a.n){case 0:if(a.p=0,!("parentIpIds"in s)){a.n=1;break}return a.a(2,this.registerDerivative(s));case 1:return a.a(2,this.registerDerivativeWithLicenseTokens(s));case 2:a.n=4;break;case 3:return a.p=3,i=a.v,a.a(2,Fe(i,"Failed to link derivative"));case 4:return a.a(2)}},r,this,[[0,3]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"handleMintedNftRegistration",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p;return D().w(function(f){for(;;)switch(f.n){case 0:if(i=s.nft,a=s.ipMetadata,o=s.txOptions,l=s.licenseTermsData,u=s.royaltyShares,d=s.deadline,p={nftContract:i.nftContract,tokenId:i.tokenId,ipMetadata:a,deadline:d,txOptions:o},!(l&&u)){f.n=1;break}return f.a(2,this.registerIPAndAttachLicenseTermsAndDistributeRoyaltyTokens(G(G({},p),{},{licenseTermsData:l,royaltyShares:u})));case 1:if(!l){f.n=2;break}return f.a(2,this.registerIpAndAttachPilTerms(G(G({},p),{},{licenseTermsData:l})));case 2:return f.a(2,this.register(G({},p)))}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"handleMintNftRegistration",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p;return D().w(function(f){for(;;)switch(f.n){case 0:if(i=s.nft,a=s.ipMetadata,o=s.txOptions,l=s.options,u=s.licenseTermsData,d=s.royaltyShares,p={spgNftContract:i.spgNftContract,recipient:i.recipient,allowDuplicates:i.allowDuplicates,ipMetadata:a,txOptions:o,options:l},!(u&&d)){f.n=1;break}return f.a(2,this.mintAndRegisterIpAndAttachPilTermsAndDistributeRoyaltyTokens(G(G({},p),{},{licenseTermsData:u,royaltyShares:d})));case 1:if(!u){f.n=2;break}return f.a(2,this.mintAndRegisterIpAssetWithPilTerms(G(G({},p),{},{licenseTermsData:u})));case 2:return f.a(2,this.mintAndRegisterIp(G({},p)))}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"getLicenseTermsId",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d;return D().w(function(p){for(;;)switch(p.p=p.n){case 0:i=[],a=bt(s),p.p=1,a.s();case 2:if((o=a.n()).done){p.n=5;break}return l=o.value,p.n=3,this.licenseTemplateClient.getLicenseTermsId({terms:l});case 3:u=p.v,i.push(u.selectedLicenseTermsId);case 4:p.n=2;break;case 5:p.n=7;break;case 6:p.p=6,d=p.v,a.e(d);case 7:return p.p=7,a.f(),p.f(7);case 8:return p.a(2,i)}},r,this,[[1,6,7,8]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"validateLicenseTokenIds",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d;return D().w(function(p){for(;;)switch(p.p=p.n){case 0:if(s.length!==0){p.n=1;break}throw new Error("License token IDs must be provided.");case 1:i=s.map(function(f){return BigInt(f)}),a=bt(i),p.p=2,a.s();case 3:if((o=a.n()).done){p.n=6;break}return l=o.value,p.n=4,this.licenseTokenReadOnlyClient.ownerOf({tokenId:l});case 4:if(u=p.v,u){p.n=5;break}throw new Error("License token id ".concat(l," must be owned by the caller."));case 5:p.n=3;break;case 6:p.n=8;break;case 7:p.p=7,d=p.v,a.e(d);case 8:return p.p=8,a.f(),p.f(8);case 9:return p.a(2,i)}},r,this,[[2,7,8,9]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"getIpIdAndTokenIdsFromEvent",value:function(n,r){var s=this.ipAssetRegistryClient.parseTxIpRegisteredEvent(n);return s.map(function(i){var a={ipId:i.ipId,tokenId:i.tokenId};return r?G(G({},a),{},hn({},r,i.tokenContract)):a})}},{key:"handleRegistrationWithFees",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p,f,h,y,m,b,v,g,x,T,I,C,N,P,L,U,$,B,_;return D().w(function(w){for(;;)switch(w.n){case 0:if(u=s.sender,d=s.derivData,p=s.spgNftContract,f=s.spgSpenderAddress,h=s.txOptions,y=s.options,m=s.encodedTxs,b=s.contractCall,v=[],g=y==null?void 0:y.wipOptions,x=(i=g==null?void 0:g.useMulticallWhenPossible)!==null&&i!==void 0?i:!0,!p){w.n=3;break}return w.n=1,hE(new Il(this.rpcClient,p));case 1:return T=w.v,w.n=2,mE(p,this.rpcClient);case 2:I=w.v,I||(x=!1),v.push.apply(v,Ss(T?[G({address:p},T)]:[]));case 3:if(!d){w.n=5;break}return w.n=4,bM({derivData:d,rpcClient:this.rpcClient,wallet:this.wallet,chainId:this.chainId,sender:u});case 4:C=w.v,N=bt(C);try{for(N.s();!(P=N.n()).done;)L=P.value,v.push(G({address:f},L))}catch(k){N.e(k)}finally{N.f()}case 5:return w.n=6,ad({options:G(G({},y),{},{wipOptions:G(G({},g),{},{useMulticallWhenPossible:x})}),multicall3Address:this.multicall3Client.address,rpcClient:this.rpcClient,tokenSpenders:v,contractCall:b,sender:u,wallet:this.wallet,txOptions:h,encodedTxs:m});case 6:return U=w.v,$=U.txHash,B=U.receipt,_=(a=this.getIpIdAndTokenIdsFromEvent(B))===null||a===void 0?void 0:a[0],w.a(2,G({txHash:$,receipt:B},_&&{ipId:(o=_.ipId)!==null&&o!==void 0?o:void 0,tokenId:(l=_.tokenId)!==null&&l!==void 0?l:void 0}))}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"populateLicenseAndTokenIdsForRegistrationResults",value:function(){var e=W(D().m(function r(s,i){var a,o,l,u,d,p,f,h,y;return D().w(function(m){for(;;)switch(m.p=m.n){case 0:a=Object.values(i).map(function(b){var v=b.extraData;return v}),o=a.flat(),l=-1,u=bt(s),m.p=1,u.s();case 2:if((d=u.n()).done){m.n=7;break}p=d.value,f=0;case 3:if(!(f<p.ipAssetsWithLicenseTerms.length)){m.n=6;break}if(l++,!(p.ipAssetsWithLicenseTerms[f]&&o[l])){m.n=5;break}return m.n=4,this.processIpAssetLicenseTerms(p.ipAssetsWithLicenseTerms[f],o[l]);case 4:h=m.v,p.ipAssetsWithLicenseTerms[f]=h;case 5:f++,m.n=3;break;case 6:m.n=2;break;case 7:m.n=9;break;case 8:m.p=8,y=m.v,u.e(y);case 9:return m.p=9,u.f(),m.f(9);case 10:return m.a(2,s)}},r,this,[[1,8,9,10]])}));function n(r,s){return e.apply(this,arguments)}return n}()},{key:"processIpAssetLicenseTerms",value:function(){var e=W(D().m(function r(s,i){var a,o,l,u,d;return D().w(function(p){for(;;)switch(p.n){case 0:if(i!=null&&(a=i.licenseTermsData)!==null&&a!==void 0&&a.length){p.n=1;break}return p.a(2,s);case 1:return p.n=2,this.getLicenseTermsId(i.licenseTermsData.map(function(f){return f.terms}));case 2:if(o=p.v,s.licenseTermsIds=o,l=i.maxLicenseTokens,l!=null&&l.length){p.n=3;break}return p.a(2,s);case 3:return u=l.filter(function(f){return f!==void 0}).map(function(f){return{maxLicenseTokens:f}}),p.n=4,ep({maxLicenseTokensData:u,licensorIpId:s.ipId,licenseTermsIds:o,totalLicenseTokenLimitHookClient:this.totalLicenseTokenLimitHookClient,templateAddress:this.licenseTemplateAddress});case 4:return d=p.v,d!=null&&d.length&&(s.maxLicenseTokensTxHashes=d),p.a(2,s)}},r,this)}));function n(r,s){return e.apply(this,arguments)}return n}()},{key:"approveLicenseTokensForDerivativeWorkflows",value:function(){var e=W(D().m(function r(s,i){var a,o,l,u,d;return D().w(function(p){for(;;)switch(p.p=p.n){case 0:if(i===!1){p.n=8;break}a=bt(s),p.p=1,a.s();case 2:if((o=a.n()).done){p.n=5;break}return l=o.value,p.n=3,this.licenseTokenClient.approve({to:this.derivativeWorkflowsClient.address,tokenId:BigInt(l)});case 3:return u=p.v,p.n=4,xPe(this.rpcClient,u);case 4:p.n=2;break;case 5:p.n=7;break;case 6:p.p=6,d=p.v,a.e(d);case 7:return p.p=7,a.f(),p.f(7);case 8:return p.a(2)}},r,this,[[1,6,7,8]])}));function n(r,s){return e.apply(this,arguments)}return n}()}])}(),YPe=function(){function t(e,n,r){Qe(this,t),this.licensingModuleClient=new fM(e,n),this.piLicenseTemplateReadOnlyClient=new zZ(e),this.licenseTemplateClient=new hM(e,n),this.licenseRegistryReadOnlyClient=new K2(e),this.ipAssetRegistryClient=new Sf(e,n),this.moduleRegistryReadOnlyClient=new iPe(e),this.multicall3Client=new Y2(e,n),this.wipClient=new Rf(e,n),this.totalLicenseTokenLimitHookClient=new WZ(e,n),this.licenseAttachmentWorkflowsClient=new G2(e,n),this.rpcClient=e,this.wallet=n,this.chainId=r,this.walletAddress=n.account.address}return et(t,[{key:"registerPILTerms",value:function(){var e=W(D().m(function r(s){var i,a;return D().w(function(o){for(;;)switch(o.p=o.n){case 0:return o.p=0,i=Vr.validateLicenseTerms(s,this.chainId),o.n=1,this.registerPILTermsHelper(i,s.txOptions);case 1:return o.a(2,o.v);case 2:return o.p=2,a=o.v,o.a(2,Fe(a,"Failed to register license terms"))}},r,this,[[0,2]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"attachLicenseTerms",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p;return D().w(function(f){for(;;)switch(f.p=f.n){case 0:return f.p=0,s.licenseTermsId=BigInt(s.licenseTermsId),f.n=1,this.ipAssetRegistryClient.isRegistered({id:ce(s.ipId)});case 1:if(a=f.v,a){f.n=2;break}throw new Error("The IP with id ".concat(s.ipId," is not registered."));case 2:return f.n=3,this.piLicenseTemplateReadOnlyClient.exists({licenseTermsId:s.licenseTermsId});case 3:if(o=f.v,o){f.n=4;break}throw new Error("License terms id ".concat(s.licenseTermsId," do not exist."));case 4:return f.n=5,this.licenseRegistryReadOnlyClient.hasIpAttachedLicenseTerms({ipId:s.ipId,licenseTemplate:ce(s.licenseTemplate||this.licenseTemplateClient.address),licenseTermsId:s.licenseTermsId});case 5:if(l=f.v,!l){f.n=6;break}return f.a(2,{success:!1});case 6:if(u={ipId:s.ipId,licenseTemplate:s.licenseTemplate||this.licenseTemplateClient.address,licenseTermsId:s.licenseTermsId},!((i=s.txOptions)!==null&&i!==void 0&&i.encodedTxDataOnly)){f.n=7;break}return f.a(2,{encodedTxData:this.licensingModuleClient.attachLicenseTermsEncode(u)});case 7:return f.n=8,this.licensingModuleClient.attachLicenseTerms(u);case 8:return d=f.v,f.n=9,this.rpcClient.waitForTransactionReceipt(G(G({},s.txOptions),{},{hash:d}));case 9:return f.a(2,{txHash:d,success:!0});case 10:f.n=12;break;case 11:return f.p=11,p=f.v,f.a(2,Fe(p,"Failed to attach license terms"));case 12:return f.a(2)}},r,this,[[0,11]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"mintLicenseTokens",value:function(){var e=W(D().m(function r(s){var i=this,a,o,l,u,d,p,f,h,y,m,b,v,g,x,T,I,C,N,P,L,U;return D().w(function($){for(;;)switch($.p=$.n){case 0:if($.p=0,u=ce(s.receiver||this.walletAddress),d={licensorIpId:ce(s.licensorIpId),licenseTemplate:ce(s.licenseTemplate||this.licenseTemplateClient.address),licenseTermsId:BigInt(s.licenseTermsId),amount:BigInt(s.amount===void 0?1:s.amount),receiver:u,royaltyContext:Ot,maxMintingFee:BigInt((a=s.maxMintingFee)!==null&&a!==void 0?a:0),maxRevenueShare:bo((o=s.maxRevenueShare)!==null&&o!==void 0?o:100,bc.MAX_REVENUE_SHARE)},!(d.maxMintingFee<0)){$.n=1;break}throw new Error("The maxMintingFee must be greater than 0.");case 1:return $.n=2,this.ipAssetRegistryClient.isRegistered({id:ce(s.licensorIpId)});case 2:if(p=$.v,p){$.n=3;break}throw new Error("The licensor IP with id ".concat(s.licensorIpId," is not registered."));case 3:return $.n=4,this.piLicenseTemplateReadOnlyClient.exists({licenseTermsId:d.licenseTermsId});case 4:if(f=$.v,f){$.n=5;break}throw new Error("License terms id ".concat(s.licenseTermsId," do not exist."));case 5:return h=new qs(this.rpcClient,this.wallet,d.licensorIpId),$.n=6,h.owner();case 6:if(y=$.v,y===this.walletAddress){$.n=8;break}return $.n=7,this.licenseRegistryReadOnlyClient.hasIpAttachedLicenseTerms({ipId:d.licensorIpId,licenseTemplate:d.licenseTemplate,licenseTermsId:d.licenseTermsId});case 7:if(m=$.v,m){$.n=8;break}throw new Error("License terms id ".concat(d.licenseTermsId," is not attached to the IP with id ").concat(d.licensorIpId,"."));case 8:if(b=this.licensingModuleClient.mintLicenseTokensEncode(d),!((l=s.txOptions)!==null&&l!==void 0&&l.encodedTxDataOnly)){$.n=9;break}return $.a(2,{encodedTxData:b});case 9:return $.n=10,QZ({predictMintingFeeRequest:d,rpcClient:this.rpcClient,chainId:this.chainId,walletAddress:this.walletAddress});case 10:return v=$.v,g=[],v.amount>0n&&g.push(G({address:DZ[this.chainId]},v)),$.n=11,ad({options:s.options,multicall3Address:this.multicall3Client.address,rpcClient:this.rpcClient,tokenSpenders:g,contractCall:function(){return i.licensingModuleClient.mintLicenseTokens(d)},wallet:this.wallet,sender:this.walletAddress,txOptions:s.txOptions,encodedTxs:[b]});case 11:for(x=$.v,T=x.txHash,I=x.receipt,C=this.licensingModuleClient.parseTxLicenseTokensMintedEvent(I),N=C[0].startLicenseTokenId,P=[],L=0;L<d.amount;L++)P.push(N+BigInt(L));return $.a(2,{txHash:T,licenseTokenIds:P,receipt:I});case 12:return $.p=12,U=$.v,$.a(2,Fe(U,"Failed to mint license tokens"))}},r,this,[[0,12]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"getLicenseTerms",value:function(){var e=W(D().m(function r(s){var i;return D().w(function(a){for(;;)switch(a.p=a.n){case 0:return a.p=0,a.n=1,this.piLicenseTemplateReadOnlyClient.getLicenseTerms({selectedLicenseTermsId:BigInt(s)});case 1:return a.a(2,a.v);case 2:return a.p=2,i=a.v,a.a(2,Fe(i,"Failed to get license terms"))}},r,this,[[0,2]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"predictMintingLicenseFee",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u;return D().w(function(d){for(;;)switch(d.p=d.n){case 0:return d.p=0,d.n=1,this.ipAssetRegistryClient.isRegistered({id:ce(s.licensorIpId)});case 1:if(i=d.v,i){d.n=2;break}throw new Error("The licensor IP with id ".concat(s.licensorIpId," is not registered."));case 2:return a=BigInt(s.licenseTermsId),d.n=3,this.piLicenseTemplateReadOnlyClient.exists({licenseTermsId:a});case 3:if(o=d.v,o){d.n=4;break}throw new Error("License terms id ".concat(s.licenseTermsId," do not exist."));case 4:return l=G(G({},s),{},{receiver:ce(s.receiver||this.walletAddress),amount:BigInt(s.amount),royaltyContext:Ot,licenseTemplate:ce(s.licenseTemplate||this.licenseTemplateClient.address),licenseTermsId:a}),d.n=5,JZ({predictMintingFeeRequest:l,rpcClient:this.rpcClient,chainId:this.chainId,walletAddress:this.walletAddress});case 5:return d.a(2,d.v);case 6:return d.p=6,u=d.v,d.a(2,Fe(u,"Failed to predict minting license fee"))}},r,this,[[0,6]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"setLicensingConfig",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p;return D().w(function(f){for(;;)switch(f.p=f.n){case 0:if(f.p=0,a={ipId:s.ipId,licenseTemplate:ce(s.licenseTemplate||this.licenseTemplateClient.address),licenseTermsId:BigInt(s.licenseTermsId),licensingConfig:vM(s.licensingConfig)},!(a.licenseTemplate===Ot&&a.licensingConfig.commercialRevShare!==0)){f.n=1;break}throw new Error("The license template cannot be zero address if commercial revenue share is not zero.");case 1:return f.n=2,this.ipAssetRegistryClient.isRegistered({id:ce(a.ipId)});case 2:if(o=f.v,o){f.n=3;break}throw new Error("The licensor IP with id ".concat(a.ipId," is not registered."));case 3:return f.n=4,this.piLicenseTemplateReadOnlyClient.exists({licenseTermsId:a.licenseTermsId});case 4:if(l=f.v,l){f.n=5;break}throw new Error("License terms id ".concat(a.licenseTermsId," do not exist."));case 5:if(a.licensingConfig.licensingHook===Ot){f.n=7;break}return f.n=6,this.moduleRegistryReadOnlyClient.isRegistered({moduleAddress:a.licensingConfig.licensingHook});case 6:if(u=f.v,u){f.n=7;break}throw new Error("The licensing hook is not registered.");case 7:if(!(a.licenseTemplate===Ot&&a.licenseTermsId!==0n)){f.n=8;break}throw new Error("The license template is zero address but license terms id is not zero.");case 8:if(!((i=s.txOptions)!==null&&i!==void 0&&i.encodedTxDataOnly)){f.n=9;break}return f.a(2,{encodedTxData:this.licensingModuleClient.setLicensingConfigEncode(a)});case 9:return f.n=10,this.licensingModuleClient.setLicensingConfig(a);case 10:return d=f.v,f.n=11,this.rpcClient.waitForTransactionReceipt(G(G({},s.txOptions),{},{hash:d}));case 11:return f.a(2,{txHash:d,success:!0});case 12:f.n=14;break;case 13:return f.p=13,p=f.v,f.a(2,Fe(p,"Failed to set licensing config"));case 14:return f.a(2)}},r,this,[[0,13]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"setMaxLicenseTokens",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p,f,h,y;return D().w(function(m){for(;;)switch(m.p=m.n){case 0:if(i=s.ipId,a=s.licenseTermsId,o=s.maxLicenseTokens,l=s.licenseTemplate,u=s.txOptions,m.p=1,!(o<0)){m.n=2;break}throw new Error("The max license tokens must be greater than 0.");case 2:return d=BigInt(a),p=ce(l||this.licenseTemplateClient.address),m.n=3,this.getLicensingConfig({ipId:i,licenseTermsId:d,licenseTemplate:p});case 3:if(f=m.v,f.licensingHook===this.totalLicenseTokenLimitHookClient.address){m.n=4;break}return m.n=4,this.setLicensingConfig({ipId:i,licenseTermsId:d,licenseTemplate:p,licensingConfig:G(G({},f),{},{licensingHook:this.totalLicenseTokenLimitHookClient.address,expectMinimumGroupRewardShare:Math.trunc(f.expectMinimumGroupRewardShare/1e6)})});case 4:return m.n=5,this.totalLicenseTokenLimitHookClient.setTotalLicenseTokenLimit({licensorIpId:i,licenseTemplate:p,licenseTermsId:d,limit:BigInt(o)});case 5:return h=m.v,m.a(2,hs({txHash:h,txOptions:u,rpcClient:this.rpcClient}));case 6:return m.p=6,y=m.v,m.a(2,Fe(y,"Failed to set max license tokens"))}},r,this,[[1,6]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"getLicensingConfig",value:function(){var e=W(D().m(function r(s){var i,a;return D().w(function(o){for(;;)switch(o.p=o.n){case 0:return o.p=0,i={ipId:ce(s.ipId),licenseTemplate:ce(s.licenseTemplate||this.licenseTemplateClient.address),licenseTermsId:BigInt(s.licenseTermsId)},o.n=1,this.licenseRegistryReadOnlyClient.getLicensingConfig(i);case 1:return o.a(2,o.v);case 2:return o.p=2,a=o.v,o.a(2,Fe(a,"Failed to get licensing config"))}},r,this,[[0,2]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"registerPilTermsAndAttach",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p,f,h,y,m,b,v,g,x,T,I,C;return D().w(function(N){for(;;)switch(N.p=N.n){case 0:return N.p=0,a=s.ipId,N.n=1,this.ipAssetRegistryClient.isRegistered({id:ce(a)});case 1:if(o=N.v,o){N.n=2;break}throw new Error("The IP with id ".concat(a," is not registered."));case 2:return N.n=3,Vh(s.licenseTermsData,this.rpcClient,this.chainId);case 3:return l=N.v,u=l.licenseTerms,d=l.licenseTermsData,N.n=4,Uu(this.rpcClient,s.deadline);case 4:return p=N.v,f=new qs(this.rpcClient,this.wallet,a),N.n=5,f.state();case 5:return h=N.v,y=h.result,N.n=6,Nc({ipIdAddress:a,methodType:Jn.REGISTER_PIL_TERMS_AND_ATTACH,deadline:p,state:y,wallet:this.wallet,chainId:this.chainId});case 6:if(m=N.v,b={ipId:a,licenseTermsData:d,sigAttachAndConfig:{signer:ce(this.walletAddress),deadline:p,signature:m}},!((i=s.txOptions)!==null&&i!==void 0&&i.encodedTxDataOnly)){N.n=7;break}return N.a(2,{encodedTxData:this.licenseAttachmentWorkflowsClient.registerPilTermsAndAttachEncode(b)});case 7:return N.n=8,this.licenseAttachmentWorkflowsClient.registerPilTermsAndAttach(b);case 8:return v=N.v,N.n=9,this.rpcClient.waitForTransactionReceipt(G(G({},s.txOptions),{},{hash:v}));case 9:g=[],x=0;case 10:if(!(x<u.length)){N.n=13;break}return I=g,N.n=11,this.getLicenseTermsId(u[x]);case 11:I.push.call(I,N.v);case 12:x++,N.n=10;break;case 13:return N.n=14,ep({maxLicenseTokensData:s.licenseTermsData,licensorIpId:a,licenseTermsIds:g,totalLicenseTokenLimitHookClient:this.totalLicenseTokenLimitHookClient,templateAddress:this.licenseTemplateClient.address});case 14:return T=N.v,N.a(2,G({txHash:v,licenseTermsIds:g},T.length>0&&{maxLicenseTokensTxHashes:T}));case 15:N.n=17;break;case 16:return N.p=16,C=N.v,N.a(2,Fe(C,"Failed to register PIL terms and attach"));case 17:return N.a(2)}},r,this,[[0,16]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"registerNonComSocialRemixingPIL",value:function(){var e=W(D().m(function r(s){var i,a;return D().w(function(o){for(;;)switch(o.p=o.n){case 0:return o.p=0,i=Vr.nonCommercialSocialRemixing(),o.n=1,this.registerPILTermsHelper(i,s==null?void 0:s.txOptions);case 1:return o.a(2,o.v);case 2:return o.p=2,a=o.v,o.a(2,Fe(a,"Failed to register non commercial social remixing PIL"))}},r,this,[[0,2]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"registerCommercialUsePIL",value:function(){var e=W(D().m(function r(s){var i,a;return D().w(function(o){for(;;)switch(o.p=o.n){case 0:return o.p=0,i=Vr.commercialUse({defaultMintingFee:Number(s.defaultMintingFee),currency:s.currency,royaltyPolicy:s.royaltyPolicyAddress}),o.n=1,this.registerPILTermsHelper(i,s.txOptions);case 1:return o.a(2,o.v);case 2:return o.p=2,a=o.v,o.a(2,Fe(a,"Failed to register commercial use PIL"))}},r,this,[[0,2]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"registerCommercialRemixPIL",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p;return D().w(function(f){for(;;)switch(f.p=f.n){case 0:return i=s.defaultMintingFee,a=s.currency,o=s.royaltyPolicyAddress,l=s.commercialRevShare,u=s.txOptions,f.p=1,d=Vr.commercialRemix({defaultMintingFee:Number(i),currency:a,royaltyPolicy:o,commercialRevShare:l}),f.n=2,this.registerPILTermsHelper(d,u);case 2:return f.a(2,f.v);case 3:return f.p=3,p=f.v,f.a(2,Fe(p,"Failed to register commercial remix PIL"))}},r,this,[[1,3]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"registerCreativeCommonsAttributionPIL",value:function(){var e=W(D().m(function r(s){var i,a,o,l;return D().w(function(u){for(;;)switch(u.p=u.n){case 0:return i=s.currency,a=s.royaltyPolicyAddress,o=s.txOptions,u.p=1,u.n=2,this.registerPILTermsHelper(Vr.creativeCommonsAttribution({currency:i,royaltyPolicy:a}),o);case 2:return u.a(2,u.v);case 3:return u.p=3,l=u.v,u.a(2,Fe(l,"Failed to register creative commons attribution PIL"))}},r,this,[[1,3]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"getLicenseTermsId",value:function(){var e=W(D().m(function r(s){var i;return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.licenseTemplateClient.getLicenseTermsId({terms:s});case 1:return i=a.v,a.a(2,i.selectedLicenseTermsId)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"registerPILTermsHelper",value:function(){var e=W(D().m(function r(s,i){var a,o,l,u,d;return D().w(function(p){for(;;)switch(p.n){case 0:if(s.commercialRevShare=bo(s.commercialRevShare),!(i!=null&&i.encodedTxDataOnly)){p.n=1;break}return p.a(2,{encodedTxData:this.licenseTemplateClient.registerLicenseTermsEncode({terms:s})});case 1:return p.n=2,this.getLicenseTermsId(s);case 2:if(a=p.v,a===0n){p.n=3;break}return p.a(2,{licenseTermsId:a});case 3:return p.n=4,this.licenseTemplateClient.registerLicenseTerms({terms:s});case 4:return o=p.v,p.n=5,hs({txOptions:i,rpcClient:this.rpcClient,txHash:o});case 5:return l=p.v,u=l.receipt,d=this.licenseTemplateClient.parseTxLicenseTermsRegisteredEvent(u),p.a(2,{txHash:o,licenseTermsId:d[0].licenseTermsId});case 6:return p.a(2)}},r,this)}));function n(r,s){return e.apply(this,arguments)}return n}()}])}(),qPe=function(){function t(e,n){Qe(this,t),this.rpcClient=e,this.wallet=n,this.registrationWorkflowsClient=new VZ(e,n)}return et(t,[{key:"createNFTCollection",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p,f,h,y;return D().w(function(m){for(;;)switch(m.p=m.n){case 0:if(m.p=0,!(s.mintFee!==void 0&&(s.mintFee<0n||s.mintFeeToken===Ot||!ji(s.mintFeeToken||"")))){m.n=1;break}throw new Error("Invalid mint fee token address, mint fee is greater than 0.");case 1:if(d={spgNftInitParams:{name:s.name,symbol:s.symbol,baseURI:(i=s.baseURI)!==null&&i!==void 0?i:"",maxSupply:(a=s.maxSupply)!==null&&a!==void 0?a:Number(uCe),mintFee:BigInt((o=s.mintFee)!==null&&o!==void 0?o:0),mintFeeToken:(l=s.mintFeeToken)!==null&&l!==void 0?l:Ot,owner:ce(s.owner||this.wallet.account.address),mintFeeRecipient:ce(s.mintFeeRecipient),mintOpen:s.mintOpen,isPublicMinting:s.isPublicMinting,contractURI:s.contractURI}},!((u=s.txOptions)!==null&&u!==void 0&&u.encodedTxDataOnly)){m.n=2;break}return m.a(2,{encodedTxData:this.registrationWorkflowsClient.createCollectionEncode(d)});case 2:return m.n=3,this.registrationWorkflowsClient.createCollection(d);case 3:return p=m.v,m.n=4,this.rpcClient.waitForTransactionReceipt(G(G({},s.txOptions),{},{hash:p}));case 4:return f=m.v,h=this.registrationWorkflowsClient.parseTxCollectionCreatedEvent(f),m.a(2,{txHash:p,spgNftContract:h[0].spgNftContract});case 5:m.n=7;break;case 6:return m.p=6,y=m.v,m.a(2,Fe(y,"Failed to create an SPG NFT collection"));case 7:return m.a(2)}},r,this,[[0,6]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"getMintFeeToken",value:function(){var e=W(D().m(function r(s){var i;return D().w(function(a){for(;;)switch(a.n){case 0:return i=new Il(this.rpcClient,ce(s)),a.a(2,i.mintFeeToken())}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"getMintFee",value:function(){var e=W(D().m(function r(s){var i;return D().w(function(a){for(;;)switch(a.n){case 0:return i=new Il(this.rpcClient,ce(s)),a.a(2,i.mintFee())}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"setTokenURI",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p;return D().w(function(f){for(;;)switch(f.p=f.n){case 0:return i=s.tokenId,a=s.tokenURI,o=s.spgNftContract,l=s.txOptions,f.p=1,u=new dPe(this.rpcClient,this.wallet,ce(o)),f.n=2,u.setTokenUri({tokenId:BigInt(i),tokenUri:a});case 2:return d=f.v,f.a(2,hs({txHash:d,txOptions:l,rpcClient:this.rpcClient}));case 3:return f.p=3,p=f.v,f.a(2,Fe(p,"Failed to set token URI"))}},r,this,[[1,3]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"getTokenURI",value:function(){var e=W(D().m(function r(s){var i,a,o;return D().w(function(l){for(;;)switch(l.n){case 0:return i=s.tokenId,a=s.spgNftContract,o=new Il(this.rpcClient,a),l.n=1,o.tokenUri({tokenId:BigInt(i)});case 1:return l.a(2,l.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()}])}(),ZPe=function(){function t(e,n,r){Qe(this,t),this.rpcClient=e,this.wallet=n,this.chainId=r,this.accessControllerClient=new $Z(this.rpcClient,this.wallet),this.ipAssetRegistryClient=new Sf(this.rpcClient,this.wallet),this.coreMetadataModuleClient=new uM(this.rpcClient,this.wallet)}return et(t,[{key:"setPermission",value:function(){var e=W(D().m(function r(s){var i,a,o,l;return D().w(function(u){for(;;)switch(u.p=u.n){case 0:return u.p=0,u.n=1,this.checkIsRegistered(s.ipId);case 1:if(a={ipAccount:s.ipId,signer:s.signer,to:s.to,func:s.func?go(s.func):Ih,permission:s.permission},!((i=s.txOptions)!==null&&i!==void 0&&i.encodedTxDataOnly)){u.n=2;break}return u.a(2,{encodedTxData:this.accessControllerClient.setPermissionEncode(a)});case 2:return u.n=3,this.accessControllerClient.setPermission(a);case 3:return o=u.v,u.n=4,this.rpcClient.waitForTransactionReceipt(G(G({},s.txOptions),{},{hash:o}));case 4:return u.a(2,{txHash:o,success:!0});case 5:u.n=7;break;case 6:return u.p=6,l=u.v,u.a(2,Fe(l,"Failed to set permissions"));case 7:return u.a(2)}},r,this,[[0,6]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"createSetPermissionSignature",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p,f,h,y,m,b,v,g,x,T,I,C,N;return D().w(function(P){for(;;)switch(P.p=P.n){case 0:return P.p=0,a=s.ipId,o=s.signer,l=s.to,u=s.txOptions,d=s.func,p=s.permission,f=s.deadline,P.n=1,this.checkIsRegistered(a);case 1:return h=new qs(this.rpcClient,this.wallet,a),y=pe({abi:uo,functionName:"setTransientPermission",args:[a,ce(o),ce(l),d?go(d):Ih,p]}),P.n=2,h.state();case 2:return m=P.v,b=m.result,P.n=3,this.rpcClient.getBlock();case 3:return v=P.v.timestamp,g=fv(v,f),P.n=4,zh({ipId:a,deadline:g,state:b,permissions:[{ipId:a,signer:o,to:l,permission:p,func:d}],chainId:this.chainId,wallet:this.wallet});case 4:if(x=P.v,T=x.signature,I={to:ce(this.accessControllerClient.address),value:BigInt(0),data:y,signer:o,deadline:g,signature:T},!((i=s.txOptions)!==null&&i!==void 0&&i.encodedTxDataOnly)){P.n=5;break}return P.a(2,{encodedTxData:h.executeWithSigEncode(I)});case 5:return P.n=6,h.executeWithSig(I);case 6:return C=P.v,P.n=7,this.rpcClient.waitForTransactionReceipt(G(G({},u),{},{hash:C}));case 7:return P.a(2,{txHash:C,success:!0});case 8:P.n=10;break;case 9:return P.p=9,N=P.v,P.a(2,Fe(N,"Failed to create set permission signature"));case 10:return P.a(2)}},r,this,[[0,9]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"setAllPermissions",value:function(){var e=W(D().m(function r(s){var i,a,o,l;return D().w(function(u){for(;;)switch(u.p=u.n){case 0:return u.p=0,u.n=1,this.checkIsRegistered(s.ipId);case 1:if(a={ipAccount:s.ipId,signer:s.signer,permission:s.permission},!((i=s.txOptions)!==null&&i!==void 0&&i.encodedTxDataOnly)){u.n=2;break}return u.a(2,{encodedTxData:this.accessControllerClient.setAllPermissionsEncode(a)});case 2:return u.n=3,this.accessControllerClient.setAllPermissions(a);case 3:return o=u.v,u.n=4,this.rpcClient.waitForTransactionReceipt(G(G({},s.txOptions),{},{hash:o}));case 4:return u.a(2,{txHash:o,success:!0});case 5:u.n=7;break;case 6:return u.p=6,l=u.v,u.a(2,Fe(l,"Failed to set all permissions"));case 7:return u.a(2)}},r,this,[[0,6]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"setBatchPermissions",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p,f,h,y;return D().w(function(m){for(;;)switch(m.p=m.n){case 0:m.p=0,a=s.permissions,o=s.txOptions,l=bt(a),m.p=1,l.s();case 2:if((u=l.n()).done){m.n=4;break}return d=u.value,m.n=3,this.checkIsRegistered(d.ipId);case 3:m.n=2;break;case 4:m.n=6;break;case 5:m.p=5,h=m.v,l.e(h);case 6:return m.p=6,l.f(),m.f(6);case 7:if(p={permissions:a.map(function(b){return{ipAccount:b.ipId,signer:b.signer,to:b.to,func:b.func?go(b.func):Ih,permission:b.permission}})},!((i=s.txOptions)!==null&&i!==void 0&&i.encodedTxDataOnly)){m.n=8;break}return m.a(2,{encodedTxData:this.accessControllerClient.setBatchPermissionsEncode(p)});case 8:return m.n=9,this.accessControllerClient.setBatchPermissions(p);case 9:return f=m.v,m.n=10,this.rpcClient.waitForTransactionReceipt(G(G({},o),{},{hash:f}));case 10:return m.a(2,{txHash:f,success:!0});case 11:m.n=13;break;case 12:return m.p=12,y=m.v,m.a(2,Fe(y,"Failed to set batch permissions"));case 13:return m.a(2)}},r,this,[[1,5,6,7],[0,12]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"createBatchPermissionSignature",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p,f,h,y,m,b,v,g,x,T,I,C,N,P;return D().w(function(L){for(;;)switch(L.p=L.n){case 0:L.p=0,a=s.permissions,o=s.deadline,l=s.ipId,u=s.txOptions,d=bt(a),L.p=1,d.s();case 2:if((p=d.n()).done){L.n=4;break}return f=p.value,L.n=3,this.checkIsRegistered(f.ipId);case 3:L.n=2;break;case 4:L.n=6;break;case 5:L.p=5,N=L.v,d.e(N);case 6:return L.p=6,d.f(),L.f(6);case 7:return h=new qs(this.rpcClient,this.wallet,l),y=pe({abi:uo,functionName:"setBatchTransientPermissions",args:[a.map(function(U){return{ipAccount:U.ipId,signer:U.signer,to:U.to,func:U.func?go(U.func):Ih,permission:U.permission}})]}),L.n=8,h.state();case 8:return m=L.v,b=m.result,L.n=9,this.rpcClient.getBlock();case 9:return v=L.v.timestamp,g=fv(v,o),L.n=10,zh({ipId:l,deadline:g,state:b,permissions:a,chainId:this.chainId,wallet:this.wallet});case 10:if(x=L.v,T=x.signature,I={to:ce(this.accessControllerClient.address),value:BigInt(0),data:y,signer:ce(this.wallet.account.address),deadline:g,signature:T},!((i=s.txOptions)!==null&&i!==void 0&&i.encodedTxDataOnly)){L.n=11;break}return L.a(2,{encodedTxData:h.executeWithSigEncode(I)});case 11:return L.n=12,h.executeWithSig(I);case 12:return C=L.v,L.n=13,this.rpcClient.waitForTransactionReceipt(G(G({},u),{},{hash:C}));case 13:return L.a(2,{txHash:C,success:!0});case 14:L.n=16;break;case 15:return L.p=15,P=L.v,L.a(2,Fe(P,"Failed to create batch permission signature"));case 16:return L.a(2)}},r,this,[[1,5,6,7],[0,15]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"checkIsRegistered",value:function(){var e=W(D().m(function r(s){var i;return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.ipAssetRegistryClient.isRegistered({id:ce(s)});case 1:if(i=a.v,i){a.n=2;break}throw new Error("IP id with ".concat(s," is not registered."));case 2:return a.a(2)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()}])}(),XPe=function(){function t(e,n,r){Qe(this,t),this.royaltyModuleClient=new lPe(e,n),this.ipAssetRegistryClient=new Sf(e,n),this.ipRoyaltyVaultImplReadOnlyClient=new pE(e),this.ipRoyaltyVaultImplEventClient=new UZ(e),this.royaltyWorkflowsClient=new cPe(e,n),this.multicall3Client=new Y2(e,n),this.wrappedIpClient=new Rf(e,n),this.rpcClient=e,this.wallet=n,this.chainId=r,this.walletAddress=n.account.address}return et(t,[{key:"claimAllRevenue",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p,f,h,y,m,b,v,g,x,T,I,C,N,P;return D().w(function(L){for(;;)switch(L.p=L.n){case 0:return L.p=0,o=ce(s.ancestorIpId),l=ce(s.claimer),u=ka(s.childIpIds),d=ka(s.royaltyPolicies),p=ka(s.currencyTokens),f=[],L.n=1,this.royaltyWorkflowsClient.claimAllRevenue({ancestorIpId:o,claimer:l,childIpIds:u,royaltyPolicies:d,currencyTokens:p});case 1:return h=L.v,L.n=2,this.rpcClient.waitForTransactionReceipt({hash:h});case 2:return y=L.v,f.push(h),L.n=3,this.getClaimerInfo(l);case 3:if(m=L.v,b=m.ownsClaimer,v=m.isClaimerIp,g=m.ipAccount,x=this.ipRoyaltyVaultImplEventClient.parseTxRevenueTokenClaimedEvent(y),T=((i=s.claimOptions)===null||i===void 0?void 0:i.autoTransferAllClaimedTokensFromIp)!==!1,I=((a=s.claimOptions)===null||a===void 0?void 0:a.autoUnwrapIpTokens)!==!1,!(T&&v&&b)){L.n=5;break}return L.n=4,this.transferClaimedTokensFromIpToWallet({ipAccount:g,claimedTokens:x});case 4:C=L.v,f.push.apply(f,Ss(C));case 5:if(!(I&&b)){L.n=7;break}return L.n=6,this.unwrapWipTokens(x);case 6:N=L.v,N&&f.push(N);case 7:return L.a(2,{receipt:y,claimedTokens:x,txHashes:f});case 8:return L.p=8,P=L.v,L.a(2,Fe(P,"Failed to claim all revenue"))}},r,this,[[0,8]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"batchClaimAllRevenue",value:function(){var e=W(D().m(function r(s){var i=this,a,o,l,u,d,p,f,h,y,m,b,v,g,x,T,I,C,N,P,L,U,$,B,_,w,k,S;return D().w(function(M){for(;;)switch(M.p=M.n){case 0:if(M.p=0,u=[],d=[],p=[],f=((a=s.options)===null||a===void 0?void 0:a.useMulticallWhenPossible)!==!1,!(s.ancestorIps.length===1||!f)){M.n=9;break}h=bt(s.ancestorIps),M.p=1,h.s();case 2:if((y=h.n()).done){M.n=5;break}return m=y.value,M.n=3,this.claimAllRevenue(G(G({},m),{},{ancestorIpId:m.ipId,claimOptions:{autoTransferAllClaimedTokensFromIp:!1,autoUnwrapIpTokens:!1}}));case 3:b=M.v,u.push.apply(u,Ss(b.txHashes)),d.push(b.receipt),b.claimedTokens&&p.push.apply(p,Ss(b.claimedTokens));case 4:M.n=2;break;case 5:M.n=7;break;case 6:M.p=6,w=M.v,h.e(w);case 7:return M.p=7,h.f(),M.f(7);case 8:M.n=12;break;case 9:return v=s.ancestorIps.map(function(R){var j=R.ipId,V=R.claimer,O=R.childIpIds,E=R.royaltyPolicies,z=R.currencyTokens,Z={ancestorIpId:ce(j),claimer:ce(V),childIpIds:ka(O),royaltyPolicies:ka(E),currencyTokens:ka(z)};return i.royaltyWorkflowsClient.claimAllRevenueEncode(Z).data}),M.n=10,this.royaltyWorkflowsClient.multicall({data:v});case 10:return g=M.v,M.n=11,this.rpcClient.waitForTransactionReceipt({hash:g});case 11:x=M.v,u.push(g),d.push(x),T=this.ipRoyaltyVaultImplEventClient.parseTxRevenueTokenClaimedEvent(x),p.push.apply(p,Ss(T));case 12:I=Object.values(p.reduce(function(R,j){var V="".concat(j.claimer,"_").concat(j.token);return R[V]?R[V].amount+=j.amount:R[V]=G({},j),R},{})),C=Ss(new Set(s.ancestorIps.map(function(R){var j=R.claimer;return j}))),N=((o=s.claimOptions)===null||o===void 0?void 0:o.autoTransferAllClaimedTokensFromIp)!==!1,P=((l=s.claimOptions)===null||l===void 0?void 0:l.autoUnwrapIpTokens)!==!1,L=0n,U=bt(C),M.p=13,B=D().m(function R(){var j,V,O,E,z,Z,F;return D().w(function(H){for(;;)switch(H.n){case 0:return j=$.value,H.n=1,i.getClaimerInfo(j);case 1:if(V=H.v,O=V.ownsClaimer,E=V.isClaimerIp,z=V.ipAccount,O){H.n=2;break}return H.a(2,1);case 2:if(Z=I.filter(function(K){return K.claimer===j}),!(N&&E&&O)){H.n=4;break}return H.n=3,i.transferClaimedTokensFromIpToWallet({ipAccount:z,claimedTokens:Z});case 3:F=H.v,u.push.apply(u,Ss(F));case 4:L+=Z.reduce(function(K,Y){return Y.token===Yi?K+Y.amount:K},0n);case 5:return H.a(2)}},R)}),U.s();case 14:if(($=U.n()).done){M.n=17;break}return M.d(xM(B()),15);case 15:if(!M.v){M.n=16;break}return M.a(3,16);case 16:M.n=14;break;case 17:M.n=19;break;case 18:M.p=18,k=M.v,U.e(k);case 19:return M.p=19,U.f(),M.f(19);case 20:if(!(L>0n&&P)){M.n=22;break}return M.n=21,this.unwrapWipTokens([{token:Yi,amount:L,claimer:this.walletAddress}]);case 21:_=M.v,_&&u.push(_);case 22:return M.a(2,{receipts:d,claimedTokens:I,txHashes:u});case 23:return M.p=23,S=M.v,M.a(2,Fe(new Error(S.message.replace("Failed to claim all revenue: ","").trim()),"Failed to batch claim all revenue"))}},r,this,[[13,18,19,20],[1,6,7,8],[0,23]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"payRoyaltyOnBehalf",value:function(){var e=W(D().m(function r(s){var i=this,a,o,l,u,d,p,f,h,y,m,b,v,g,x,T,I;return D().w(function(C){for(;;)switch(C.p=C.n){case 0:if(C.p=0,o=s.receiverIpId,l=s.payerIpId,u=s.token,d=s.amount,p=s.options,f=s.txOptions,h=this.wallet.account.address,y=BigInt(d),!(y<=0n)){C.n=1;break}throw new Error("The amount to pay must be number greater than 0.");case 1:return C.n=2,this.ipAssetRegistryClient.isRegistered({id:ce(o)});case 2:if(m=C.v,m){C.n=3;break}throw new Error("The receiver IP with id ".concat(o," is not registered."));case 3:if(!(ce(l)&&l!==Ot)){C.n=5;break}return C.n=4,this.ipAssetRegistryClient.isRegistered({id:l});case 4:if(b=C.v,b){C.n=5;break}throw new Error("The payer IP with id ".concat(s.payerIpId," is not registered."));case 5:if(v={receiverIpId:o,payerIpId:l,token:ce(u),amount:BigInt(d)},g=this.royaltyModuleClient.payRoyaltyOnBehalfEncode(v),!((a=s.txOptions)!==null&&a!==void 0&&a.encodedTxDataOnly)){C.n=6;break}return C.a(2,{encodedTxData:g});case 6:return x=function(){return i.royaltyModuleClient.payRoyaltyOnBehalf(v)},T=[{address:this.royaltyModuleClient.address,amount:y,token:u}],C.n=7,ad({options:p,multicall3Address:this.multicall3Client.address,rpcClient:this.rpcClient,tokenSpenders:T,contractCall:x,sender:h,wallet:this.wallet,txOptions:f,encodedTxs:[g]});case 7:return C.a(2,C.v);case 8:return C.p=8,I=C.v,C.a(2,Fe(I,"Failed to pay royalty on behalf"))}},r,this,[[0,8]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"claimableRevenue",value:function(){var e=W(D().m(function r(s){var i,a,o;return D().w(function(l){for(;;)switch(l.p=l.n){case 0:return l.p=0,l.n=1,this.getRoyaltyVaultAddress(ce(s.ipId));case 1:return i=l.v,a=new pE(this.rpcClient,i),l.n=2,a.claimableRevenue({claimer:ce(s.claimer),token:ce(s.token)});case 2:return l.a(2,l.v);case 3:return l.p=3,o=l.v,l.a(2,Fe(o,"Failed to calculate claimable revenue"))}},r,this,[[0,3]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"getRoyaltyVaultAddress",value:function(){var e=W(D().m(function r(s){var i;return D().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,this.ipAssetRegistryClient.isRegistered({id:ce(s)});case 1:if(i=a.v,i){a.n=2;break}throw new Error("The royalty vault IP with id ".concat(s," is not registered."));case 2:return a.n=3,this.royaltyModuleClient.ipRoyaltyVaults({ipId:s});case 3:return a.a(2,a.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"transferToVault",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p,f,h,y;return D().w(function(m){for(;;)switch(m.n){case 0:return i=s.txOptions,a=s.ipId,o=s.royaltyPolicy,l=s.ancestorIpId,u=s.token,d=ZZ(o,this.chainId),p=[ce(a),ce(l),ce(u)],m.n=1,this.rpcClient.simulateContract({abi:LRe,address:d,functionName:"transferToVault",account:this.wallet.account,args:p});case 1:return f=m.v,h=f.request,m.n=2,this.wallet.writeContract(h);case 2:return y=m.v,m.a(2,hs({txHash:y,rpcClient:this.rpcClient,txOptions:i}))}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"transferClaimedTokensFromIpToWallet",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d,p,f,h,y;return D().w(function(m){for(;;)switch(m.n){case 0:i=s.ipAccount,a=s.claimedTokens,o=[],l=[],u=bt(a);try{for(u.s();!(d=u.n()).done;)p=d.value,f=p.token,h=p.amount,l.push({target:f,value:BigInt(0),data:pe({abi:lNe,functionName:"transfer",args:[this.walletAddress,h]})})}catch(b){u.e(b)}finally{u.f()}return m.n=1,i.executeBatch({calls:l,operation:0});case 1:return y=m.v,m.n=2,this.rpcClient.waitForTransactionReceipt({hash:y});case 2:return o.push(y),m.a(2,o)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"getClaimerInfo",value:function(){var e=W(D().m(function r(s){var i,a,o,l;return D().w(function(u){for(;;)switch(u.n){case 0:return u.n=1,this.ipAssetRegistryClient.isRegistered({id:s});case 1:if(i=u.v,a=new qs(this.rpcClient,this.wallet,s),o=s===this.walletAddress,!i){u.n=3;break}return u.n=2,a.owner();case 2:l=u.v,o=l===this.walletAddress;case 3:return u.a(2,{ownsClaimer:o,isClaimerIp:i,ipAccount:a})}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"unwrapWipTokens",value:function(){var e=W(D().m(function r(s){var i,a,o;return D().w(function(l){for(;;)switch(l.n){case 0:if(i=s.filter(function(u){return u.token===Yi}),!(i.length>1)){l.n=1;break}throw new Error("Multiple WIP tokens found in the claimed tokens.");case 1:if(a=i[0],!(!a||a.amount<=0n)){l.n=2;break}return l.a(2);case 2:return l.n=3,this.wrappedIpClient.withdraw({value:a.amount});case 3:return o=l.v,l.n=4,this.rpcClient.waitForTransactionReceipt({hash:o});case 4:return l.a(2,o)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()}])}(),JPe=function(){function t(e,n){Qe(this,t),this.wrappedIpClient=new Rf(e,n,Yi),this.rpcClient=e,this.wallet=n}return et(t,[{key:"deposit",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u,d;return D().w(function(p){for(;;)switch(p.p=p.n){case 0:if(i=s.amount,a=s.txOptions,p.p=1,!(i<=0)){p.n=2;break}throw new Error("WIP deposit amount must be greater than 0.");case 2:return p.n=3,this.rpcClient.simulateContract({abi:ui,address:Yi,functionName:"deposit",account:this.wallet.account,value:BigInt(i)});case 3:return o=p.v,l=o.request,p.n=4,this.wallet.writeContract(l);case 4:return u=p.v,p.a(2,hs({txHash:u,txOptions:a,rpcClient:this.rpcClient}));case 5:return p.p=5,d=p.v,p.a(2,Fe(d,"Failed to deposit IP for WIP"))}},r,this,[[1,5]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"withdraw",value:function(){var e=W(D().m(function r(s){var i,a,o,l,u;return D().w(function(d){for(;;)switch(d.p=d.n){case 0:if(i=s.amount,a=s.txOptions,d.p=1,o=BigInt(i),!(o<=0)){d.n=2;break}throw new Error("WIP withdraw amount must be greater than 0.");case 2:return d.n=3,this.wrappedIpClient.withdraw({value:o});case 3:return l=d.v,d.a(2,hs({txHash:l,txOptions:a,rpcClient:this.rpcClient}));case 4:return d.p=4,u=d.v,d.a(2,Fe(u,"Failed to withdraw WIP"))}},r,this,[[1,4]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"approve",value:function(){var e=W(D().m(function r(s){var i,a,o,l;return D().w(function(u){for(;;)switch(u.p=u.n){case 0:if(u.p=0,i=BigInt(s.amount),!(i<=0)){u.n=1;break}throw new Error("WIP approve amount must be greater than 0.");case 1:return a=ce(s.spender),u.n=2,this.wrappedIpClient.approve({spender:a,amount:i});case 2:return o=u.v,u.a(2,hs({txHash:o,txOptions:s.txOptions,rpcClient:this.rpcClient}));case 3:return u.p=3,l=u.v,u.a(2,Fe(l,"Failed to approve WIP"))}},r,this,[[0,3]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"balanceOf",value:function(){var e=W(D().m(function r(s){var i,a;return D().w(function(o){for(;;)switch(o.n){case 0:return i=ce(s),o.n=1,this.wrappedIpClient.balanceOf({owner:i});case 1:return a=o.v,o.a(2,a.result)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"transfer",value:function(){var e=W(D().m(function r(s){var i,a,o;return D().w(function(l){for(;;)switch(l.p=l.n){case 0:if(l.p=0,i=BigInt(s.amount),!(i<=0)){l.n=1;break}throw new Error("WIP transfer amount must be greater than 0.");case 1:return l.n=2,this.wrappedIpClient.transfer({to:ce(s.to),amount:i});case 2:return a=l.v,l.a(2,hs({txHash:a,txOptions:s.txOptions,rpcClient:this.rpcClient}));case 3:return l.p=3,o=l.v,l.a(2,Fe(o,"Failed to transfer WIP"))}},r,this,[[0,3]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"transferFrom",value:function(){var e=W(D().m(function r(s){var i,a,o;return D().w(function(l){for(;;)switch(l.p=l.n){case 0:if(l.p=0,i=BigInt(s.amount),!(i<=0)){l.n=1;break}throw new Error("WIP transfer amount must be greater than 0.");case 1:return l.n=2,this.wrappedIpClient.transferFrom({to:ce(s.to),amount:i,from:ce(s.from)});case 2:return a=l.v,l.a(2,hs({txHash:a,txOptions:s.txOptions,rpcClient:this.rpcClient}));case 3:return l.p=3,o=l.v,l.a(2,Fe(o,"Failed to transfer WIP"))}},r,this,[[0,3]])}));function n(r){return e.apply(this,arguments)}return n}()}])}();typeof process<"u"&&AAe();var bw=function(){function t(e){if(Qe(this,t),hn(this,"_ipAsset",null),hn(this,"_permission",null),hn(this,"_license",null),hn(this,"_dispute",null),hn(this,"_ipAccount",null),hn(this,"_royalty",null),hn(this,"_nftClient",null),hn(this,"_group",null),hn(this,"_wip",null),this.config=G(G({},e),{},{chainId:Z2[e.chainId||1315]}),!this.config.transport)throw new Error("transport is null, please pass in a valid RPC Provider URL as the transport.");var n={chain:wPe(this.chainId),transport:this.config.transport};if(this.rpcClient=pSe(n),this.config.wallet)this.wallet=this.config.wallet;else if(this.config.account){var r=this.config.account;this.wallet=AZ(G(G({},n),{},{account:r}))}else throw new Error("must specify a wallet or account")}return et(t,[{key:"chainId",get:function(){return this.config.chainId}},{key:"ipAsset",get:function(){return this._ipAsset===null&&(this._ipAsset=new KPe(this.rpcClient,this.wallet,this.chainId)),this._ipAsset}},{key:"permission",get:function(){return this._permission===null&&(this._permission=new ZPe(this.rpcClient,this.wallet,this.chainId)),this._permission}},{key:"license",get:function(){return this._license===null&&(this._license=new YPe(this.rpcClient,this.wallet,this.chainId)),this._license}},{key:"dispute",get:function(){return this._dispute===null&&(this._dispute=new RPe(this.rpcClient,this.wallet,this.chainId)),this._dispute}},{key:"ipAccount",get:function(){return this._ipAccount===null&&(this._ipAccount=new MPe(this.rpcClient,this.wallet,this.chainId)),this._ipAccount}},{key:"royalty",get:function(){return this._royalty===null&&(this._royalty=new XPe(this.rpcClient,this.wallet,this.chainId)),this._royalty}},{key:"nftClient",get:function(){return this._nftClient===null&&(this._nftClient=new qPe(this.rpcClient,this.wallet)),this._nftClient}},{key:"groupClient",get:function(){return this._group===null&&(this._group=new PPe(this.rpcClient,this.wallet,this.chainId)),this._group}},{key:"wipClient",get:function(){return this._wip===null&&(this._wip=new JPe(this.rpcClient,this.wallet)),this._wip}},{key:"getWalletBalance",value:function(){var e=W(D().m(function r(){return D().w(function(s){for(;;)switch(s.n){case 0:if(this.wallet.account){s.n=1;break}throw new Error("No account found in wallet");case 1:return s.n=2,this.getBalance(this.wallet.account.address);case 2:return s.a(2,s.v)}},r,this)}));function n(){return e.apply(this,arguments)}return n}()},{key:"getBalance",value:function(){var e=W(D().m(function r(s){var i;return D().w(function(a){for(;;)switch(a.n){case 0:return i=ce(s),a.n=1,this.rpcClient.getBalance({address:i});case 1:return a.a(2,a.v)}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()}],[{key:"newClient",value:function(n){return new t(n)}},{key:"newClientUseWallet",value:function(n){return new t({chainId:n.chainId,transport:n.transport,wallet:n.wallet})}},{key:"newClientUseAccount",value:function(n){return new t({account:n.account,chainId:n.chainId,transport:n.transport})}}])}();const Lf="http://localhost:3001/api",QPe=gy({id:1315,name:"Story Aeneid Testnet",nativeCurrency:{name:"IP",symbol:"IP",decimals:18},rpcUrls:{default:{http:["https://aeneid.storyrpc.io"]}},blockExplorers:{default:{name:"Story Explorer",url:"https://testnet.storyscan.xyz"}},testnet:!0}),vk={async recordLicenseTokenMint(t){const e={licenseTokenId:t.licenseTokenId,txHash:t.txHash,ipId:t.ipId,licenseTermsId:t.licenseTermsId,licenseeAddress:t.licenseeAddress,amount:t.amount,mintingFee:"0",currency:"0xB132A6B7AE652c974EE1557A3521D53d18F6739f",royaltyPercentage:10,licenseTerms:{commercialUse:!0,derivativesAllowed:!0,transferable:!0},metadata:{ipMetadataURI:"",nftMetadataURI:"",ipType:"Unknown",ipTitle:`License Token #${t.licenseTokenId}`}};await wn.post(`${Lf}/license-tokens/mint`,e)},async mintLicenseToken(t,e,n,r,s){var i,a;try{console.log(" Starting license token minting...");const o=await s.getAddress();if(console.log(" Wallet address:",o),!window.ethereum)throw new Error("MetaMask not found");const l=AZ({chain:QPe,transport:G1(window.ethereum)}),[u]=await l.getAddresses();console.log(" Wallet client created with account from MetaMask:",u);const d={account:u,transport:G1(window.ethereum),chainId:"aeneid"};console.log(" Initializing Story Protocol client...");const p=bw.newClient(d);console.log(" Story Protocol client initialized"),console.log(" Minting parameters:",{licensorIpId:t,licenseTermsId:e,receiver:n,amount:r});const f=await p.license.mintLicenseTokens({licensorIpId:t,licenseTermsId:BigInt(e),receiver:n,amount:r,txOptions:{waitForTransaction:!0}});console.log(" License minting response:",f);const h=((a=(i=f.licenseTokenIds)==null?void 0:i[0])==null?void 0:a.toString())||"";console.log(" License Token ID:",h);try{console.log(" Notifying backend of license mint..."),await this.recordLicenseTokenMint({licenseTokenId:h,txHash:f.txHash||"",ipId:t,licenseTermsId:e,licenseeAddress:n,amount:r,blockNumber:0,timestamp:Math.floor(Date.now()/1e3)}),console.log(" Backend notified successfully")}catch(y){console.error(" Failed to notify backend (non-critical):",y)}return h}catch(o){throw console.error(" Error in mintLicenseToken:",o),o}},async getAllLicenses(){try{console.log(" Fetching all license tokens for marketplace...");const t=await wn.get(`${Lf}/marketplace/licensed`,{});if(t.data.success){const e=t.data.data.licenses||[];return console.log(` Fetched ${e.length} licenses for marketplace`),e}return[]}catch(t){return console.error(" Error fetching all licenses for marketplace:",t),[]}},async getUserLicenses(t,e){if(!t)return[];try{console.log(` Fetching licenses for user: ${t}`);const n=await wn.get(`${Lf}/license-tokens/user/${t}`,{params:{status:"active",sortBy:"timestamp",sortOrder:"desc",limit:100}});if(n.data.success){const r=n.data.data.licenses||[];return console.log(` Fetched ${r.length} licenses from backend`),r}return[]}catch(n){return console.error(" Error fetching user licenses from backend:",n),[]}},async getIPAnalytics(t){try{const e=await wn.get(`${Lf}/license-tokens/analytics/ip/${t}`);return e.data.success?e.data.data:null}catch(e){return console.error(" Error fetching IP analytics:",e),null}},async getGlobalStats(){try{const t=await wn.get(`${Lf}/license-tokens/stats/global`);return t.data.success?t.data.data:null}catch(t){return console.error(" Error fetching global stats:",t),null}},async verifyOwnership(t,e){try{const n=await wn.get(`${Lf}/license-tokens/verify/${t}/owner/${e}`);return n.data.success&&n.data.data.isOwner}catch(n){return console.error(" Error verifying ownership:",n),!1}}},eMe="https://aeneid.storyrpc.io",X1={async getClaimableRevenue(t,e,n,r){const s={account:await r.getAddress(),transport:iE(eMe),chainId:"aeneid"};return(await bw.newClient(s).royalty.claimableRevenue({ipId:t,claimer:e,token:n})).toString()},async claimRevenue(t,e,n,r){const s=await r.getAddress();if(!window.ethereum)throw new Error("MetaMask not found");const i={account:s,transport:G1(window.ethereum),chainId:"aeneid"};return await bw.newClient(i).royalty.claimRevenue({ipId:t,token:n,txOptions:{waitForTransaction:!0}})},async payRoyaltyOnBehalf(t,e,n,r,s){const i=await s.getAddress();if(!window.ethereum)throw new Error("MetaMask not found");const a={account:i,transport:G1(window.ethereum),chainId:"aeneid"};return await bw.newClient(a).royalty.payRoyaltyOnBehalf({payerIpId:t,receiverIpId:e,token:n,amount:r,txOptions:{waitForTransaction:!0}})}},tMe=()=>{const t=Ll(),{address:e,signer:n,provider:r,isCorrectNetwork:s,switchToRequiredNetwork:i}=ir(),[a,o]=A.useState([]),[l,u]=A.useState(!0),[d,p]=A.useState(null),[f,h]=A.useState(null),[y,m]=A.useState(null),[b,v]=A.useState(!1),[g,x]=A.useState(!1),[T,I]=A.useState(!1),[C,N]=A.useState([]),[P,L]=A.useState("all");A.useEffect(()=>{(async()=>{if(e&&r){const M=await vk.getUserLicenses(e,r);N(M)}})()},[e,r]),A.useEffect(()=>{$()},[]);const U=()=>{t("/dashboard")},$=async(S=!1)=>{console.log(` Loading licensed IPs from backend (forceRefresh: ${S})`),u(!0);try{const M=await G2e.getLicensedIps();console.log(` Fetched ${M.length} licensed IPs from backend`);const R=await Promise.all(M.map(async j=>{let V=`IP Asset #${j.tokenId}`,O=`Licensed IP Asset - Token ID: ${j.tokenId}`,E="";try{const z=j.metadata.nftMetadataURI.replace("ipfs://","https://ipfs.io/ipfs/");console.log(` Fetching metadata for token ${j.tokenId}:`,z);const Z=await fetch(z);if(Z.ok){const F=await Z.json();console.log(` Got metadata for token ${j.tokenId}:`,F),V=F.name||F.title||V,O=F.description||O,E=F.image||"",E&&E.startsWith("ipfs://")&&(E=E.replace("ipfs://","https://ipfs.io/ipfs/"))}}catch(z){console.warn(` Failed to fetch metadata for token ${j.tokenId}:`,z)}return{tokenId:j.ipId,name:V,description:O,image:E||"https://via.placeholder.com/400x300?text=IP+Asset",price:"0",amount:999,totalSupply:1,seller:j.creatorAddress,metadataURI:j.metadata.ipMetadataURI||"",type:"IP Asset",category:"Intellectual Property",attributes:[{trait_type:"IP ID",value:j.ipId},{trait_type:"Token ID",value:j.tokenId.toString()},{trait_type:"License Terms ID",value:j.license.licenseTermsId},{trait_type:"License Type",value:j.license.licenseType==="commercial_remix"?"Commercial Remix":"Non-Commercial"},{trait_type:"Royalty",value:`${j.license.royaltyPercent}%`},{trait_type:"Derivatives Allowed",value:j.license.allowDerivatives?"Yes":"No"},{trait_type:"Commercial Use",value:j.license.commercialUse?"Yes":"No"},{trait_type:"Status",value:j.status}],license:{ipId:j.ipId,licenseTermsId:j.license.licenseTermsId,terms:{transferable:!0,commercialUse:j.license.commercialUse,commercialRevShare:j.license.royaltyPercent,derivativesAllowed:j.license.allowDerivatives,defaultMintingFee:"0",currency:"0x0000000000000000000000000000000000000000"},stats:{totalLicensesMinted:0,activeLicensees:0}}}}));o(R),console.log(` Processed ${R.length} licensed IP listings with metadata`)}catch(M){console.error(" Error loading licensed IPs:",M),le.error("Failed to load licensed IP assets"),o([])}finally{u(!1)}},B=async(S,M)=>{if(console.log(" handleMintLicense called with:",{listing:S,amount:M}),!n){le.error("Please connect your wallet to mint a license.");return}if(!s){if(le.error("Please switch to Story Aeneid Testnet (Chain ID: 1315)"),!await i()){le.error("Failed to switch network. Please switch manually in MetaMask.");return}le.success("Switched to Story Aeneid Testnet")}if(!S.license){le.error("This asset does not have a license attached.");return}try{console.log(" Calling licenseTokenService.mintLicenseToken..."),console.log("Parameters:",{licensorIpId:S.license.ipId,licenseTermsId:S.license.licenseTermsId,receiver:await n.getAddress(),amount:M});const R=await vk.mintLicenseToken(S.license.ipId,S.license.licenseTermsId,await n.getAddress(),M,n);console.log(" License minted successfully:",R),le.success(`Successfully minted license token #${R}`),x(!1);const j=await vk.getUserLicenses(await n.getAddress(),r);N(j)}catch(R){console.error(" Error minting license:",R),le.error(`Failed to mint license: ${R.message||"Unknown error"}`)}},_=S=>{le.info("Trading terminal is only available for tradable assets on /testmarketplace")},w=async(S,M)=>{var j,V;if(console.log(" handlePayRoyalty called with:",{listing:S,amount:M}),!n||!e){le.error("Please connect your wallet to pay royalties.");return}if(!s){if(le.error("Please switch to Story Aeneid Testnet (Chain ID: 1315)"),!await i()){le.error("Failed to switch network. Please switch manually in MetaMask.");return}le.success("Switched to Story Aeneid Testnet")}if(!S.license){le.error("This asset does not have license terms attached.");return}const R="0x1514000000000000000000000000000000000000";try{const O=ja(M).toString();console.log(" Paying royalty:",{from:e,toIpId:S.license.ipId,amount:M,tokenAddress:R}),le.info(" Note: This is a test implementation. Proper royalty payments require a derivative IP."),await X1.payRoyaltyOnBehalf(S.license.ipId,S.license.ipId,R,O,n),le.success(`Successfully paid ${M} WIP tokens as royalty!`),I(!1)}catch(O){console.error(" Error paying royalty:",O),(j=O==null?void 0:O.message)!=null&&j.includes("insufficient funds")?le.error("Insufficient WIP tokens. Get testnet tokens from Story faucet."):(V=O==null?void 0:O.message)!=null&&V.includes("user rejected")?le.error("Transaction rejected by user."):le.error(`Failed to pay royalty: ${(O==null?void 0:O.message)||"Unknown error"}`)}},k=a.filter(S=>{var M,R;return P==="all"?!0:P==="commercial"?((M=S.license)==null?void 0:M.terms.commercialUse)===!0:P==="derivatives"?((R=S.license)==null?void 0:R.terms.derivativesAllowed)===!0:!0});return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50",children:[c.jsx(WT,{}),c.jsxs("div",{className:"container mx-auto px-4 py-20 relative z-10",children:[c.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6 bg-black  bg-clip-text text-transparent",children:"License Marketplace"}),!l&&c.jsx("div",{className:"fixed top-6 left-9 z-50",children:c.jsx("button",{onClick:()=>$(!0),className:"mx-auto bg-black/50 text-white px-4 py-2 rounded-lg hover:bg-gray-800 transition",children:""})}),!l&&a.length>0&&c.jsx(V0e,{listings:a.slice(0,5),onSelectListing:S=>{p(S),v(!0)},tokenPrice:0})]}),c.jsx("div",{className:"container mx-auto px-4 py-12 relative z-10",children:c.jsxs(ef,{value:P,onValueChange:L,className:"mb-8",children:[c.jsxs(vd,{className:"grid grid-cols-3 w-full max-w-2xl mx-auto relative",children:[c.jsx(Mr,{value:"all",children:"All Licensed IPs"}),c.jsx(Mr,{value:"commercial",children:"Commercial Use"}),c.jsx(Mr,{value:"derivatives",children:"Derivatives Allowed"})]}),c.jsx("div",{className:"fixed top-11 right-9 z-50",children:c.jsx("button",{className:"bg-black/50 text-white px-4 py-2 rounded-lg hover:bg-gray-800 transition",onClick:U,children:"Go to Dashboard"})}),c.jsx(ds,{value:P,className:"mt-8",children:c.jsx(W0e,{listings:k,category:P==="all"?"Licensed IP Assets":P==="commercial"?"Commercial Use IPs":"Derivative-Friendly IPs",onSelectListing:S=>{p(S),v(!0)},onNavigateToTrading:_,onPayRoyalty:S=>{m(S),I(!0)},tokenPrice:0,loading:l,userLicenses:C})})]})}),b&&d&&c.jsx(G0e,{listing:d,onClose:()=>v(!1),onBuy:S=>{le.info("Asset purchase is available on /testmarketplace")},onNavigateToTrading:_,tokenPrice:0,onMintLicense:S=>{h(S),x(!0)},onPayRoyalty:S=>{m(S),I(!0)}}),g&&f&&c.jsx(K0e,{listing:f,tokenPrice:0,onClose:()=>x(!1),onMint:B}),T&&y&&c.jsx(mTe,{listing:y,onClose:()=>I(!1),onPayRoyalty:w,userLicenses:C})]})},me=A.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:vt("rounded-lg border bg-white/30 text-card-foreground shadow-sm",t),...e}));me.displayName="Card";const yt=A.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:vt("flex flex-col space-y-1.5 p-6",t),...e}));yt.displayName="CardHeader";const gt=A.forwardRef(({className:t,...e},n)=>c.jsx("h3",{ref:n,className:vt("text-2xl font-semibold leading-none tracking-tight",t),...e}));gt.displayName="CardTitle";const Pr=A.forwardRef(({className:t,...e},n)=>c.jsx("p",{ref:n,className:vt("text-sm text-muted-foreground",t),...e}));Pr.displayName="CardDescription";const ye=A.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:vt("p-6 pt-0",t),...e}));ye.displayName="CardContent";const tX=A.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:vt("flex items-center p-6 pt-0",t),...e}));tX.displayName="CardFooter";var AM="Avatar",[nMe,oBe]=Kc(AM),[rMe,nX]=nMe(AM),rX=A.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=A.useState("idle");return c.jsx(rMe,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:c.jsx(xt.span,{...r,ref:e})})});rX.displayName=AM;var sX="AvatarImage",iX=A.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,a=nX(sX,n),o=sMe(r,i.referrerPolicy),l=ti(u=>{s(u),a.onImageLoadingStatusChange(u)});return Kr(()=>{o!=="idle"&&l(o)},[o,l]),o==="loaded"?c.jsx(xt.img,{...i,ref:e,src:r}):null});iX.displayName=sX;var aX="AvatarFallback",oX=A.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=nX(aX,n),[a,o]=A.useState(r===void 0);return A.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>o(!0),r);return()=>window.clearTimeout(l)}},[r]),a&&i.imageLoadingStatus!=="loaded"?c.jsx(xt.span,{...s,ref:e}):null});oX.displayName=aX;function sMe(t,e){const[n,r]=A.useState("idle");return Kr(()=>{if(!t){r("error");return}let s=!0;const i=new window.Image,a=o=>()=>{s&&r(o)};return r("loading"),i.onload=a("loaded"),i.onerror=a("error"),i.src=t,e&&(i.referrerPolicy=e),()=>{s=!1}},[t,e]),n}var lX=rX,cX=iX,uX=oX;const Bg=A.forwardRef(({className:t,...e},n)=>c.jsx(lX,{ref:n,className:vt("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Bg.displayName=lX.displayName;const dX=A.forwardRef(({className:t,...e},n)=>c.jsx(cX,{ref:n,className:vt("aspect-square h-full w-full",t),...e}));dX.displayName=cX.displayName;const Ug=A.forwardRef(({className:t,...e},n)=>c.jsx(uX,{ref:n,className:vt("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Ug.displayName=uX.displayName;var bk="focusScope.autoFocusOnMount",xk="focusScope.autoFocusOnUnmount",k8={bubbles:!1,cancelable:!0},iMe="FocusScope",IM=A.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=t,[o,l]=A.useState(null),u=ti(s),d=ti(i),p=A.useRef(null),f=In(e,m=>l(m)),h=A.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;A.useEffect(()=>{if(r){let m=function(x){if(h.paused||!o)return;const T=x.target;o.contains(T)?p.current=T:mu(p.current,{select:!0})},b=function(x){if(h.paused||!o)return;const T=x.relatedTarget;T!==null&&(o.contains(T)||mu(p.current,{select:!0}))},v=function(x){if(document.activeElement===document.body)for(const I of x)I.removedNodes.length>0&&mu(o)};document.addEventListener("focusin",m),document.addEventListener("focusout",b);const g=new MutationObserver(v);return o&&g.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",b),g.disconnect()}}},[r,o,h.paused]),A.useEffect(()=>{if(o){N8.add(h);const m=document.activeElement;if(!o.contains(m)){const v=new CustomEvent(bk,k8);o.addEventListener(bk,u),o.dispatchEvent(v),v.defaultPrevented||(aMe(dMe(pX(o)),{select:!0}),document.activeElement===m&&mu(o))}return()=>{o.removeEventListener(bk,u),setTimeout(()=>{const v=new CustomEvent(xk,k8);o.addEventListener(xk,d),o.dispatchEvent(v),v.defaultPrevented||mu(m??document.body,{select:!0}),o.removeEventListener(xk,d),N8.remove(h)},0)}}},[o,u,d,h]);const y=A.useCallback(m=>{if(!n&&!r||h.paused)return;const b=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,v=document.activeElement;if(b&&v){const g=m.currentTarget,[x,T]=oMe(g);x&&T?!m.shiftKey&&v===T?(m.preventDefault(),n&&mu(x,{select:!0})):m.shiftKey&&v===x&&(m.preventDefault(),n&&mu(T,{select:!0})):v===g&&m.preventDefault()}},[n,r,h.paused]);return c.jsx(xt.div,{tabIndex:-1,...a,ref:f,onKeyDown:y})});IM.displayName=iMe;function aMe(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(mu(r,{select:e}),document.activeElement!==n)return}function oMe(t){const e=pX(t),n=C8(e,t),r=C8(e.reverse(),t);return[n,r]}function pX(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function C8(t,e){for(const n of t)if(!lMe(n,{upTo:e}))return n}function lMe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function cMe(t){return t instanceof HTMLInputElement&&"select"in t}function mu(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&cMe(t)&&e&&t.select()}}var N8=uMe();function uMe(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=E8(t,e),t.unshift(e)},remove(e){var n;t=E8(t,e),(n=t[0])==null||n.resume()}}}function E8(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function dMe(t){return t.filter(e=>e.tagName!=="A")}var wk=0;function fX(){A.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??S8()),document.body.insertAdjacentElement("beforeend",t[1]??S8()),wk++,()=>{wk===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),wk--}},[])}function S8(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ul=function(){return ul=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ul.apply(this,arguments)};function hX(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function pMe(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var xw="right-scroll-bar-position",ww="width-before-scroll-bar",fMe="with-scroll-bars-hidden",hMe="--removed-body-scroll-bar-size";function Tk(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function mMe(t,e){var n=A.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var yMe=typeof window<"u"?A.useLayoutEffect:A.useEffect,R8=new WeakMap;function gMe(t,e){var n=mMe(null,function(r){return t.forEach(function(s){return Tk(s,r)})});return yMe(function(){var r=R8.get(n);if(r){var s=new Set(r),i=new Set(t),a=n.current;s.forEach(function(o){i.has(o)||Tk(o,null)}),i.forEach(function(o){s.has(o)||Tk(o,a)})}R8.set(n,t)},[t]),n}function vMe(t){return t}function bMe(t,e){e===void 0&&(e=vMe);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var a=e(i,r);return n.push(a),function(){n=n.filter(function(o){return o!==a})}},assignSyncMedium:function(i){for(r=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(o){return i(o)},filter:function(){return n}}},assignMedium:function(i){r=!0;var a=[];if(n.length){var o=n;n=[],o.forEach(i),a=n}var l=function(){var d=a;a=[],d.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),n}}}};return s}function xMe(t){t===void 0&&(t={});var e=bMe(null);return e.options=ul({async:!0,ssr:!1},t),e}var mX=function(t){var e=t.sideCar,n=hX(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return A.createElement(r,ul({},n))};mX.isSideCarExport=!0;function wMe(t,e){return t.useMedium(e),mX}var yX=xMe(),Ak=function(){},tA=A.forwardRef(function(t,e){var n=A.useRef(null),r=A.useState({onScrollCapture:Ak,onWheelCapture:Ak,onTouchMoveCapture:Ak}),s=r[0],i=r[1],a=t.forwardProps,o=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,p=t.shards,f=t.sideCar,h=t.noIsolation,y=t.inert,m=t.allowPinchZoom,b=t.as,v=b===void 0?"div":b,g=t.gapMode,x=hX(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=f,I=gMe([n,e]),C=ul(ul({},x),s);return A.createElement(A.Fragment,null,d&&A.createElement(T,{sideCar:yX,removeScrollBar:u,shards:p,noIsolation:h,inert:y,setCallbacks:i,allowPinchZoom:!!m,lockRef:n,gapMode:g}),a?A.cloneElement(A.Children.only(o),ul(ul({},C),{ref:I})):A.createElement(v,ul({},C,{className:l,ref:I}),o))});tA.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};tA.classNames={fullWidth:ww,zeroRight:xw};var TMe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function AMe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=TMe();return e&&t.setAttribute("nonce",e),t}function IMe(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function kMe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var CMe=function(){var t=0,e=null;return{add:function(n){t==0&&(e=AMe())&&(IMe(e,n),kMe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},NMe=function(){var t=CMe();return function(e,n){A.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},gX=function(){var t=NMe(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},EMe={left:0,top:0,right:0,gap:0},Ik=function(t){return parseInt(t||"",10)||0},SMe=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Ik(n),Ik(r),Ik(s)]},RMe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return EMe;var e=SMe(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},PMe=gX(),Hh="data-scroll-locked",MMe=function(t,e,n,r){var s=t.left,i=t.top,a=t.right,o=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(fMe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(o,"px ").concat(r,`;
  }
  body[`).concat(Hh,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(xw,` {
    right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(ww,` {
    margin-right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(xw," .").concat(xw,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ww," .").concat(ww,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Hh,`] {
    `).concat(hMe,": ").concat(o,`px;
  }
`)},P8=function(){var t=parseInt(document.body.getAttribute(Hh)||"0",10);return isFinite(t)?t:0},jMe=function(){A.useEffect(function(){return document.body.setAttribute(Hh,(P8()+1).toString()),function(){var t=P8()-1;t<=0?document.body.removeAttribute(Hh):document.body.setAttribute(Hh,t.toString())}},[])},_Me=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;jMe();var i=A.useMemo(function(){return RMe(s)},[s]);return A.createElement(PMe,{styles:MMe(i,!e,s,n?"":"!important")})},gE=!1;if(typeof window<"u")try{var ux=Object.defineProperty({},"passive",{get:function(){return gE=!0,!0}});window.addEventListener("test",ux,ux),window.removeEventListener("test",ux,ux)}catch{gE=!1}var $f=gE?{passive:!1}:!1,DMe=function(t){return t.tagName==="TEXTAREA"},vX=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!DMe(t)&&n[e]==="visible")},OMe=function(t){return vX(t,"overflowY")},LMe=function(t){return vX(t,"overflowX")},M8=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=bX(t,r);if(s){var i=xX(t,r),a=i[1],o=i[2];if(a>o)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},$Me=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},FMe=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},bX=function(t,e){return t==="v"?OMe(e):LMe(e)},xX=function(t,e){return t==="v"?$Me(e):FMe(e)},BMe=function(t,e){return t==="h"&&e==="rtl"?-1:1},UMe=function(t,e,n,r,s){var i=BMe(t,window.getComputedStyle(e).direction),a=i*r,o=n.target,l=e.contains(o),u=!1,d=a>0,p=0,f=0;do{var h=xX(t,o),y=h[0],m=h[1],b=h[2],v=m-b-i*y;(y||v)&&bX(t,o)&&(p+=v,f+=y),o instanceof ShadowRoot?o=o.host:o=o.parentNode}while(!l&&o!==document.body||l&&(e.contains(o)||e===o));return(d&&(Math.abs(p)<1||!s)||!d&&(Math.abs(f)<1||!s))&&(u=!0),u},dx=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},j8=function(t){return[t.deltaX,t.deltaY]},_8=function(t){return t&&"current"in t?t.current:t},zMe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},VMe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},HMe=0,Ff=[];function WMe(t){var e=A.useRef([]),n=A.useRef([0,0]),r=A.useRef(),s=A.useState(HMe++)[0],i=A.useState(gX)[0],a=A.useRef(t);A.useEffect(function(){a.current=t},[t]),A.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var m=pMe([t.lockRef.current],(t.shards||[]).map(_8),!0).filter(Boolean);return m.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var o=A.useCallback(function(m,b){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!a.current.allowPinchZoom;var v=dx(m),g=n.current,x="deltaX"in m?m.deltaX:g[0]-v[0],T="deltaY"in m?m.deltaY:g[1]-v[1],I,C=m.target,N=Math.abs(x)>Math.abs(T)?"h":"v";if("touches"in m&&N==="h"&&C.type==="range")return!1;var P=M8(N,C);if(!P)return!0;if(P?I=N:(I=N==="v"?"h":"v",P=M8(N,C)),!P)return!1;if(!r.current&&"changedTouches"in m&&(x||T)&&(r.current=I),!I)return!0;var L=r.current||I;return UMe(L,b,m,L==="h"?x:T,!0)},[]),l=A.useCallback(function(m){var b=m;if(!(!Ff.length||Ff[Ff.length-1]!==i)){var v="deltaY"in b?j8(b):dx(b),g=e.current.filter(function(I){return I.name===b.type&&(I.target===b.target||b.target===I.shadowParent)&&zMe(I.delta,v)})[0];if(g&&g.should){b.cancelable&&b.preventDefault();return}if(!g){var x=(a.current.shards||[]).map(_8).filter(Boolean).filter(function(I){return I.contains(b.target)}),T=x.length>0?o(b,x[0]):!a.current.noIsolation;T&&b.cancelable&&b.preventDefault()}}},[]),u=A.useCallback(function(m,b,v,g){var x={name:m,delta:b,target:v,should:g,shadowParent:GMe(v)};e.current.push(x),setTimeout(function(){e.current=e.current.filter(function(T){return T!==x})},1)},[]),d=A.useCallback(function(m){n.current=dx(m),r.current=void 0},[]),p=A.useCallback(function(m){u(m.type,j8(m),m.target,o(m,t.lockRef.current))},[]),f=A.useCallback(function(m){u(m.type,dx(m),m.target,o(m,t.lockRef.current))},[]);A.useEffect(function(){return Ff.push(i),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:f}),document.addEventListener("wheel",l,$f),document.addEventListener("touchmove",l,$f),document.addEventListener("touchstart",d,$f),function(){Ff=Ff.filter(function(m){return m!==i}),document.removeEventListener("wheel",l,$f),document.removeEventListener("touchmove",l,$f),document.removeEventListener("touchstart",d,$f)}},[]);var h=t.removeScrollBar,y=t.inert;return A.createElement(A.Fragment,null,y?A.createElement(i,{styles:VMe(s)}):null,h?A.createElement(_Me,{gapMode:t.gapMode}):null)}function GMe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const KMe=wMe(yX,WMe);var kM=A.forwardRef(function(t,e){return A.createElement(tA,ul({},t,{ref:e,sideCar:KMe}))});kM.classNames=tA.classNames;var YMe=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Bf=new WeakMap,px=new WeakMap,fx={},kk=0,wX=function(t){return t&&(t.host||wX(t.parentNode))},qMe=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=wX(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},ZMe=function(t,e,n,r){var s=qMe(e,Array.isArray(t)?t:[t]);fx[n]||(fx[n]=new WeakMap);var i=fx[n],a=[],o=new Set,l=new Set(s),u=function(p){!p||o.has(p)||(o.add(p),u(p.parentNode))};s.forEach(u);var d=function(p){!p||l.has(p)||Array.prototype.forEach.call(p.children,function(f){if(o.has(f))d(f);else try{var h=f.getAttribute(r),y=h!==null&&h!=="false",m=(Bf.get(f)||0)+1,b=(i.get(f)||0)+1;Bf.set(f,m),i.set(f,b),a.push(f),m===1&&y&&px.set(f,!0),b===1&&f.setAttribute(n,"true"),y||f.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",f,v)}})};return d(e),o.clear(),kk++,function(){a.forEach(function(p){var f=Bf.get(p)-1,h=i.get(p)-1;Bf.set(p,f),i.set(p,h),f||(px.has(p)||p.removeAttribute(r),px.delete(p)),h||p.removeAttribute(n)}),kk--,kk||(Bf=new WeakMap,Bf=new WeakMap,px=new WeakMap,fx={})}},TX=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=YMe(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),ZMe(r,s,n,"aria-hidden")):function(){return null}},CM="Dialog",[AX,lBe]=Kc(CM),[XMe,Bo]=AX(CM),IX=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:a=!0}=t,o=A.useRef(null),l=A.useRef(null),[u=!1,d]=Cl({prop:r,defaultProp:s,onChange:i});return c.jsx(XMe,{scope:e,triggerRef:o,contentRef:l,contentId:fl(),titleId:fl(),descriptionId:fl(),open:u,onOpenChange:d,onOpenToggle:A.useCallback(()=>d(p=>!p),[d]),modal:a,children:n})};IX.displayName=CM;var kX="DialogTrigger",JMe=A.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Bo(kX,n),i=In(e,s.triggerRef);return c.jsx(xt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":SM(s.open),...r,ref:i,onClick:pt(t.onClick,s.onOpenToggle)})});JMe.displayName=kX;var NM="DialogPortal",[QMe,CX]=AX(NM,{forceMount:void 0}),NX=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Bo(NM,e);return c.jsx(QMe,{scope:e,forceMount:n,children:A.Children.map(r,a=>c.jsx(Rd,{present:n||i.open,children:c.jsx(jT,{asChild:!0,container:s,children:a})}))})};NX.displayName=NM;var J1="DialogOverlay",EX=A.forwardRef((t,e)=>{const n=CX(J1,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Bo(J1,t.__scopeDialog);return i.modal?c.jsx(Rd,{present:r||i.open,children:c.jsx(eje,{...s,ref:e})}):null});EX.displayName=J1;var eje=A.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Bo(J1,n);return c.jsx(kM,{as:Xp,allowPinchZoom:!0,shards:[s.contentRef],children:c.jsx(xt.div,{"data-state":SM(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),yf="DialogContent",SX=A.forwardRef((t,e)=>{const n=CX(yf,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Bo(yf,t.__scopeDialog);return c.jsx(Rd,{present:r||i.open,children:i.modal?c.jsx(tje,{...s,ref:e}):c.jsx(nje,{...s,ref:e})})});SX.displayName=yf;var tje=A.forwardRef((t,e)=>{const n=Bo(yf,t.__scopeDialog),r=A.useRef(null),s=In(e,n.contentRef,r);return A.useEffect(()=>{const i=r.current;if(i)return TX(i)},[]),c.jsx(RX,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pt(t.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:pt(t.onPointerDownOutside,i=>{const a=i.detail.originalEvent,o=a.button===0&&a.ctrlKey===!0;(a.button===2||o)&&i.preventDefault()}),onFocusOutside:pt(t.onFocusOutside,i=>i.preventDefault())})}),nje=A.forwardRef((t,e)=>{const n=Bo(yf,t.__scopeDialog),r=A.useRef(!1),s=A.useRef(!1);return c.jsx(RX,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,o;(a=t.onCloseAutoFocus)==null||a.call(t,i),i.defaultPrevented||(r.current||(o=n.triggerRef.current)==null||o.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),RX=A.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=t,o=Bo(yf,n),l=A.useRef(null),u=In(e,l);return fX(),c.jsxs(c.Fragment,{children:[c.jsx(IM,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:c.jsx(Ov,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":SM(o.open),...a,ref:u,onDismiss:()=>o.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(rje,{titleId:o.titleId}),c.jsx(ije,{contentRef:l,descriptionId:o.descriptionId})]})]})}),EM="DialogTitle",PX=A.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Bo(EM,n);return c.jsx(xt.h2,{id:s.titleId,...r,ref:e})});PX.displayName=EM;var MX="DialogDescription",jX=A.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Bo(MX,n);return c.jsx(xt.p,{id:s.descriptionId,...r,ref:e})});jX.displayName=MX;var _X="DialogClose",DX=A.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Bo(_X,n);return c.jsx(xt.button,{type:"button",...r,ref:e,onClick:pt(t.onClick,()=>s.onOpenChange(!1))})});DX.displayName=_X;function SM(t){return t?"open":"closed"}var OX="DialogTitleWarning",[cBe,LX]=bre(OX,{contentName:yf,titleName:EM,docsSlug:"dialog"}),rje=({titleId:t})=>{const e=LX(OX),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return A.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},sje="DialogDescriptionWarning",ije=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${LX(sje).contentName}}.`;return A.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},aje=IX,oje=NX,$X=EX,FX=SX,BX=PX,UX=jX,lje=DX;const qi=aje,cje=oje,zX=A.forwardRef(({className:t,...e},n)=>c.jsx($X,{ref:n,className:vt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));zX.displayName=$X.displayName;const yi=A.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(cje,{children:[c.jsx(zX,{}),c.jsxs(FX,{ref:r,className:vt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,c.jsxs(lje,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[c.jsx(LT,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));yi.displayName=FX.displayName;const gi=({className:t,...e})=>c.jsx("div",{className:vt("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});gi.displayName="DialogHeader";const Kf=({className:t,...e})=>c.jsx("div",{className:vt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Kf.displayName="DialogFooter";const vi=A.forwardRef(({className:t,...e},n)=>c.jsx(BX,{ref:n,className:vt("text-lg font-semibold leading-none tracking-tight",t),...e}));vi.displayName=BX.displayName;const ku=A.forwardRef(({className:t,...e},n)=>c.jsx(UX,{ref:n,className:vt("text-sm text-muted-foreground",t),...e}));ku.displayName=UX.displayName;function D8(t,[e,n]){return Math.min(n,Math.max(e,t))}function VX(t){const e=A.useRef({value:t,previous:t});return A.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var uje=[" ","Enter","ArrowUp","ArrowDown"],dje=[" ","Enter"],mb="Select",[nA,rA,pje]=MT(mb),[by,uBe]=Kc(mb,[pje,UT]),sA=UT(),[fje,Fd]=by(mb),[hje,mje]=by(mb),HX=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:a,defaultValue:o,onValueChange:l,dir:u,name:d,autoComplete:p,disabled:f,required:h,form:y}=t,m=sA(e),[b,v]=A.useState(null),[g,x]=A.useState(null),[T,I]=A.useState(!1),C=GT(u),[N=!1,P]=Cl({prop:r,defaultProp:s,onChange:i}),[L,U]=Cl({prop:a,defaultProp:o,onChange:l}),$=A.useRef(null),B=b?y||!!b.closest("form"):!0,[_,w]=A.useState(new Set),k=Array.from(_).map(S=>S.props.value).join(";");return c.jsx(Jae,{...m,children:c.jsxs(fje,{required:h,scope:e,trigger:b,onTriggerChange:v,valueNode:g,onValueNodeChange:x,valueNodeHasChildren:T,onValueNodeHasChildrenChange:I,contentId:fl(),value:L,onValueChange:U,open:N,onOpenChange:P,dir:C,triggerPointerDownPosRef:$,disabled:f,children:[c.jsx(nA.Provider,{scope:e,children:c.jsx(hje,{scope:t.__scopeSelect,onNativeOptionAdd:A.useCallback(S=>{w(M=>new Set(M).add(S))},[]),onNativeOptionRemove:A.useCallback(S=>{w(M=>{const R=new Set(M);return R.delete(S),R})},[]),children:n})}),B?c.jsxs(mJ,{"aria-hidden":!0,required:h,tabIndex:-1,name:d,autoComplete:p,value:L,onChange:S=>U(S.target.value),disabled:f,form:y,children:[L===void 0?c.jsx("option",{value:""}):null,Array.from(_)]},k):null]})})};HX.displayName=mb;var WX="SelectTrigger",GX=A.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=sA(n),a=Fd(WX,n),o=a.disabled||r,l=In(e,a.onTriggerChange),u=rA(n),d=A.useRef("touch"),[p,f,h]=yJ(m=>{const b=u().filter(x=>!x.disabled),v=b.find(x=>x.value===a.value),g=gJ(b,m,v);g!==void 0&&a.onValueChange(g.value)}),y=m=>{o||(a.onOpenChange(!0),h()),m&&(a.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return c.jsx(p7,{asChild:!0,...i,children:c.jsx(xt.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":hJ(a.value)?"":void 0,...s,ref:l,onClick:pt(s.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&y(m)}),onPointerDown:pt(s.onPointerDown,m=>{d.current=m.pointerType;const b=m.target;b.hasPointerCapture(m.pointerId)&&b.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(y(m),m.preventDefault())}),onKeyDown:pt(s.onKeyDown,m=>{const b=p.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&f(m.key),!(b&&m.key===" ")&&uje.includes(m.key)&&(y(),m.preventDefault())})})})});GX.displayName=WX;var KX="SelectValue",YX=A.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:a="",...o}=t,l=Fd(KX,n),{onValueNodeHasChildrenChange:u}=l,d=i!==void 0,p=In(e,l.onValueNodeChange);return Kr(()=>{u(d)},[u,d]),c.jsx(xt.span,{...o,ref:p,style:{pointerEvents:"none"},children:hJ(l.value)?c.jsx(c.Fragment,{children:a}):i})});YX.displayName=KX;var yje="SelectIcon",qX=A.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return c.jsx(xt.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});qX.displayName=yje;var gje="SelectPortal",ZX=t=>c.jsx(jT,{asChild:!0,...t});ZX.displayName=gje;var gf="SelectContent",XX=A.forwardRef((t,e)=>{const n=Fd(gf,t.__scopeSelect),[r,s]=A.useState();if(Kr(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?If.createPortal(c.jsx(JX,{scope:t.__scopeSelect,children:c.jsx(nA.Slot,{scope:t.__scopeSelect,children:c.jsx("div",{children:t.children})})}),i):null}return c.jsx(QX,{...t,ref:e})});XX.displayName=gf;var eo=10,[JX,Bd]=by(gf),vje="SelectContentImpl",QX=A.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:a,side:o,sideOffset:l,align:u,alignOffset:d,arrowPadding:p,collisionBoundary:f,collisionPadding:h,sticky:y,hideWhenDetached:m,avoidCollisions:b,...v}=t,g=Fd(gf,n),[x,T]=A.useState(null),[I,C]=A.useState(null),N=In(e,K=>T(K)),[P,L]=A.useState(null),[U,$]=A.useState(null),B=rA(n),[_,w]=A.useState(!1),k=A.useRef(!1);A.useEffect(()=>{if(x)return TX(x)},[x]),fX();const S=A.useCallback(K=>{const[Y,...J]=B().map(ee=>ee.ref.current),[re]=J.slice(-1),Q=document.activeElement;for(const ee of K)if(ee===Q||(ee==null||ee.scrollIntoView({block:"nearest"}),ee===Y&&I&&(I.scrollTop=0),ee===re&&I&&(I.scrollTop=I.scrollHeight),ee==null||ee.focus(),document.activeElement!==Q))return},[B,I]),M=A.useCallback(()=>S([P,x]),[S,P,x]);A.useEffect(()=>{_&&M()},[_,M]);const{onOpenChange:R,triggerPointerDownPosRef:j}=g;A.useEffect(()=>{if(x){let K={x:0,y:0};const Y=re=>{var Q,ee;K={x:Math.abs(Math.round(re.pageX)-(((Q=j.current)==null?void 0:Q.x)??0)),y:Math.abs(Math.round(re.pageY)-(((ee=j.current)==null?void 0:ee.y)??0))}},J=re=>{K.x<=10&&K.y<=10?re.preventDefault():x.contains(re.target)||R(!1),document.removeEventListener("pointermove",Y),j.current=null};return j.current!==null&&(document.addEventListener("pointermove",Y),document.addEventListener("pointerup",J,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Y),document.removeEventListener("pointerup",J,{capture:!0})}}},[x,R,j]),A.useEffect(()=>{const K=()=>R(!1);return window.addEventListener("blur",K),window.addEventListener("resize",K),()=>{window.removeEventListener("blur",K),window.removeEventListener("resize",K)}},[R]);const[V,O]=yJ(K=>{const Y=B().filter(Q=>!Q.disabled),J=Y.find(Q=>Q.ref.current===document.activeElement),re=gJ(Y,K,J);re&&setTimeout(()=>re.ref.current.focus())}),E=A.useCallback((K,Y,J)=>{const re=!k.current&&!J;(g.value!==void 0&&g.value===Y||re)&&(L(K),re&&(k.current=!0))},[g.value]),z=A.useCallback(()=>x==null?void 0:x.focus(),[x]),Z=A.useCallback((K,Y,J)=>{const re=!k.current&&!J;(g.value!==void 0&&g.value===Y||re)&&$(K)},[g.value]),F=r==="popper"?vE:eJ,H=F===vE?{side:o,sideOffset:l,align:u,alignOffset:d,arrowPadding:p,collisionBoundary:f,collisionPadding:h,sticky:y,hideWhenDetached:m,avoidCollisions:b}:{};return c.jsx(JX,{scope:n,content:x,viewport:I,onViewportChange:C,itemRefCallback:E,selectedItem:P,onItemLeave:z,itemTextRefCallback:Z,focusSelectedItem:M,selectedItemText:U,position:r,isPositioned:_,searchRef:V,children:c.jsx(kM,{as:Xp,allowPinchZoom:!0,children:c.jsx(IM,{asChild:!0,trapped:g.open,onMountAutoFocus:K=>{K.preventDefault()},onUnmountAutoFocus:pt(s,K=>{var Y;(Y=g.trigger)==null||Y.focus({preventScroll:!0}),K.preventDefault()}),children:c.jsx(Ov,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:K=>K.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:c.jsx(F,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:K=>K.preventDefault(),...v,...H,onPlaced:()=>w(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:pt(v.onKeyDown,K=>{const Y=K.ctrlKey||K.altKey||K.metaKey;if(K.key==="Tab"&&K.preventDefault(),!Y&&K.key.length===1&&O(K.key),["ArrowUp","ArrowDown","Home","End"].includes(K.key)){let re=B().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);if(["ArrowUp","End"].includes(K.key)&&(re=re.slice().reverse()),["ArrowUp","ArrowDown"].includes(K.key)){const Q=K.target,ee=re.indexOf(Q);re=re.slice(ee+1)}setTimeout(()=>S(re)),K.preventDefault()}})})})})})})});QX.displayName=vje;var bje="SelectItemAlignedPosition",eJ=A.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Fd(gf,n),a=Bd(gf,n),[o,l]=A.useState(null),[u,d]=A.useState(null),p=In(e,N=>d(N)),f=rA(n),h=A.useRef(!1),y=A.useRef(!0),{viewport:m,selectedItem:b,selectedItemText:v,focusSelectedItem:g}=a,x=A.useCallback(()=>{if(i.trigger&&i.valueNode&&o&&u&&m&&b&&v){const N=i.trigger.getBoundingClientRect(),P=u.getBoundingClientRect(),L=i.valueNode.getBoundingClientRect(),U=v.getBoundingClientRect();if(i.dir!=="rtl"){const Q=U.left-P.left,ee=L.left-Q,We=N.left-ee,oe=N.width+We,be=Math.max(oe,P.width),ft=window.innerWidth-eo,Ie=D8(ee,[eo,Math.max(eo,ft-be)]);o.style.minWidth=oe+"px",o.style.left=Ie+"px"}else{const Q=P.right-U.right,ee=window.innerWidth-L.right-Q,We=window.innerWidth-N.right-ee,oe=N.width+We,be=Math.max(oe,P.width),ft=window.innerWidth-eo,Ie=D8(ee,[eo,Math.max(eo,ft-be)]);o.style.minWidth=oe+"px",o.style.right=Ie+"px"}const $=f(),B=window.innerHeight-eo*2,_=m.scrollHeight,w=window.getComputedStyle(u),k=parseInt(w.borderTopWidth,10),S=parseInt(w.paddingTop,10),M=parseInt(w.borderBottomWidth,10),R=parseInt(w.paddingBottom,10),j=k+S+_+R+M,V=Math.min(b.offsetHeight*5,j),O=window.getComputedStyle(m),E=parseInt(O.paddingTop,10),z=parseInt(O.paddingBottom,10),Z=N.top+N.height/2-eo,F=B-Z,H=b.offsetHeight/2,K=b.offsetTop+H,Y=k+S+K,J=j-Y;if(Y<=Z){const Q=$.length>0&&b===$[$.length-1].ref.current;o.style.bottom="0px";const ee=u.clientHeight-m.offsetTop-m.offsetHeight,We=Math.max(F,H+(Q?z:0)+ee+M),oe=Y+We;o.style.height=oe+"px"}else{const Q=$.length>0&&b===$[0].ref.current;o.style.top="0px";const We=Math.max(Z,k+m.offsetTop+(Q?E:0)+H)+J;o.style.height=We+"px",m.scrollTop=Y-Z+m.offsetTop}o.style.margin=`${eo}px 0`,o.style.minHeight=V+"px",o.style.maxHeight=B+"px",r==null||r(),requestAnimationFrame(()=>h.current=!0)}},[f,i.trigger,i.valueNode,o,u,m,b,v,i.dir,r]);Kr(()=>x(),[x]);const[T,I]=A.useState();Kr(()=>{u&&I(window.getComputedStyle(u).zIndex)},[u]);const C=A.useCallback(N=>{N&&y.current===!0&&(x(),g==null||g(),y.current=!1)},[x,g]);return c.jsx(wje,{scope:n,contentWrapper:o,shouldExpandOnScrollRef:h,onScrollButtonChange:C,children:c.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T},children:c.jsx(xt.div,{...s,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});eJ.displayName=bje;var xje="SelectPopperPosition",vE=A.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=eo,...i}=t,a=sA(n);return c.jsx(f7,{...a,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});vE.displayName=xje;var[wje,RM]=by(gf,{}),bE="SelectViewport",tJ=A.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Bd(bE,n),a=RM(bE,n),o=In(e,i.onViewportChange),l=A.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),c.jsx(nA.Slot,{scope:n,children:c.jsx(xt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:pt(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:f}=a;if(f!=null&&f.current&&p){const h=Math.abs(l.current-d.scrollTop);if(h>0){const y=window.innerHeight-eo*2,m=parseFloat(p.style.minHeight),b=parseFloat(p.style.height),v=Math.max(m,b);if(v<y){const g=v+h,x=Math.min(y,g),T=g-x;p.style.height=x+"px",p.style.bottom==="0px"&&(d.scrollTop=T>0?T:0,p.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});tJ.displayName=bE;var nJ="SelectGroup",[Tje,Aje]=by(nJ),Ije=A.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=fl();return c.jsx(Tje,{scope:n,id:s,children:c.jsx(xt.div,{role:"group","aria-labelledby":s,...r,ref:e})})});Ije.displayName=nJ;var rJ="SelectLabel",sJ=A.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Aje(rJ,n);return c.jsx(xt.div,{id:s.id,...r,ref:e})});sJ.displayName=rJ;var Q1="SelectItem",[kje,iJ]=by(Q1),aJ=A.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...a}=t,o=Fd(Q1,n),l=Bd(Q1,n),u=o.value===r,[d,p]=A.useState(i??""),[f,h]=A.useState(!1),y=In(e,g=>{var x;return(x=l.itemRefCallback)==null?void 0:x.call(l,g,r,s)}),m=fl(),b=A.useRef("touch"),v=()=>{s||(o.onValueChange(r),o.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(kje,{scope:n,value:r,disabled:s,textId:m,isSelected:u,onItemTextChange:A.useCallback(g=>{p(x=>x||((g==null?void 0:g.textContent)??"").trim())},[]),children:c.jsx(nA.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:c.jsx(xt.div,{role:"option","aria-labelledby":m,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:y,onFocus:pt(a.onFocus,()=>h(!0)),onBlur:pt(a.onBlur,()=>h(!1)),onClick:pt(a.onClick,()=>{b.current!=="mouse"&&v()}),onPointerUp:pt(a.onPointerUp,()=>{b.current==="mouse"&&v()}),onPointerDown:pt(a.onPointerDown,g=>{b.current=g.pointerType}),onPointerMove:pt(a.onPointerMove,g=>{var x;b.current=g.pointerType,s?(x=l.onItemLeave)==null||x.call(l):b.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:pt(a.onPointerLeave,g=>{var x;g.currentTarget===document.activeElement&&((x=l.onItemLeave)==null||x.call(l))}),onKeyDown:pt(a.onKeyDown,g=>{var T;((T=l.searchRef)==null?void 0:T.current)!==""&&g.key===" "||(dje.includes(g.key)&&v(),g.key===" "&&g.preventDefault())})})})})});aJ.displayName=Q1;var og="SelectItemText",oJ=A.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,a=Fd(og,n),o=Bd(og,n),l=iJ(og,n),u=mje(og,n),[d,p]=A.useState(null),f=In(e,v=>p(v),l.onItemTextChange,v=>{var g;return(g=o.itemTextRefCallback)==null?void 0:g.call(o,v,l.value,l.disabled)}),h=d==null?void 0:d.textContent,y=A.useMemo(()=>c.jsx("option",{value:l.value,disabled:l.disabled,children:h},l.value),[l.disabled,l.value,h]),{onNativeOptionAdd:m,onNativeOptionRemove:b}=u;return Kr(()=>(m(y),()=>b(y)),[m,b,y]),c.jsxs(c.Fragment,{children:[c.jsx(xt.span,{id:l.textId,...i,ref:f}),l.isSelected&&a.valueNode&&!a.valueNodeHasChildren?If.createPortal(i.children,a.valueNode):null]})});oJ.displayName=og;var lJ="SelectItemIndicator",cJ=A.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return iJ(lJ,n).isSelected?c.jsx(xt.span,{"aria-hidden":!0,...r,ref:e}):null});cJ.displayName=lJ;var xE="SelectScrollUpButton",uJ=A.forwardRef((t,e)=>{const n=Bd(xE,t.__scopeSelect),r=RM(xE,t.__scopeSelect),[s,i]=A.useState(!1),a=In(e,r.onScrollButtonChange);return Kr(()=>{if(n.viewport&&n.isPositioned){let o=function(){const u=l.scrollTop>0;i(u)};const l=n.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),s?c.jsx(pJ,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=n;o&&l&&(o.scrollTop=o.scrollTop-l.offsetHeight)}}):null});uJ.displayName=xE;var wE="SelectScrollDownButton",dJ=A.forwardRef((t,e)=>{const n=Bd(wE,t.__scopeSelect),r=RM(wE,t.__scopeSelect),[s,i]=A.useState(!1),a=In(e,r.onScrollButtonChange);return Kr(()=>{if(n.viewport&&n.isPositioned){let o=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;i(d)};const l=n.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),s?c.jsx(pJ,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=n;o&&l&&(o.scrollTop=o.scrollTop+l.offsetHeight)}}):null});dJ.displayName=wE;var pJ=A.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Bd("SelectScrollButton",n),a=A.useRef(null),o=rA(n),l=A.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return A.useEffect(()=>()=>l(),[l]),Kr(()=>{var d;const u=o().find(p=>p.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[o]),c.jsx(xt.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:pt(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:pt(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:pt(s.onPointerLeave,()=>{l()})})}),Cje="SelectSeparator",fJ=A.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return c.jsx(xt.div,{"aria-hidden":!0,...r,ref:e})});fJ.displayName=Cje;var TE="SelectArrow",Nje=A.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=sA(n),i=Fd(TE,n),a=Bd(TE,n);return i.open&&a.position==="popper"?c.jsx(h7,{...s,...r,ref:e}):null});Nje.displayName=TE;function hJ(t){return t===""||t===void 0}var mJ=A.forwardRef((t,e)=>{const{value:n,...r}=t,s=A.useRef(null),i=In(e,s),a=VX(n);return A.useEffect(()=>{const o=s.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==n&&d){const p=new Event("change",{bubbles:!0});d.call(o,n),o.dispatchEvent(p)}},[a,n]),c.jsx(Lv,{asChild:!0,children:c.jsx("select",{...r,ref:i,defaultValue:n})})});mJ.displayName="BubbleSelect";function yJ(t){const e=ti(t),n=A.useRef(""),r=A.useRef(0),s=A.useCallback(a=>{const o=n.current+a;e(o),function l(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(o)},[e]),i=A.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return A.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function gJ(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let a=Eje(t,Math.max(i,0));s.length===1&&(a=a.filter(u=>u!==n));const l=a.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function Eje(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Sje=HX,vJ=GX,Rje=YX,Pje=qX,Mje=ZX,bJ=XX,jje=tJ,xJ=sJ,wJ=aJ,_je=oJ,Dje=cJ,TJ=uJ,AJ=dJ,IJ=fJ;const mv=Sje,yv=Rje,Mm=A.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(vJ,{ref:r,className:vt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,c.jsx(Pje,{asChild:!0,children:c.jsx(aS,{className:"h-4 w-4 opacity-50"})})]}));Mm.displayName=vJ.displayName;const kJ=A.forwardRef(({className:t,...e},n)=>c.jsx(TJ,{ref:n,className:vt("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(use,{className:"h-4 w-4"})}));kJ.displayName=TJ.displayName;const CJ=A.forwardRef(({className:t,...e},n)=>c.jsx(AJ,{ref:n,className:vt("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(aS,{className:"h-4 w-4"})}));CJ.displayName=AJ.displayName;const jm=A.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>c.jsx(Mje,{children:c.jsxs(bJ,{ref:s,className:vt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[c.jsx(kJ,{}),c.jsx(jje,{className:vt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),c.jsx(CJ,{})]})}));jm.displayName=bJ.displayName;const Oje=A.forwardRef(({className:t,...e},n)=>c.jsx(xJ,{ref:n,className:vt("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Oje.displayName=xJ.displayName;const Ca=A.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(wJ,{ref:r,className:vt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(Dje,{children:c.jsx(r1,{className:"h-4 w-4"})})}),c.jsx(_je,{children:e})]}));Ca.displayName=wJ.displayName;const Lje=A.forwardRef(({className:t,...e},n)=>c.jsx(IJ,{ref:n,className:vt("-mx-1 my-1 h-px bg-muted",t),...e}));Lje.displayName=IJ.displayName;var PM="Switch",[$je,dBe]=Kc(PM),[Fje,Bje]=$je(PM),NJ=A.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:a,disabled:o,value:l="on",onCheckedChange:u,form:d,...p}=t,[f,h]=A.useState(null),y=In(e,x=>h(x)),m=A.useRef(!1),b=f?d||!!f.closest("form"):!0,[v=!1,g]=Cl({prop:s,defaultProp:i,onChange:u});return c.jsxs(Fje,{scope:n,checked:v,disabled:o,children:[c.jsx(xt.button,{type:"button",role:"switch","aria-checked":v,"aria-required":a,"data-state":RJ(v),"data-disabled":o?"":void 0,disabled:o,value:l,...p,ref:y,onClick:pt(t.onClick,x=>{g(T=>!T),b&&(m.current=x.isPropagationStopped(),m.current||x.stopPropagation())})}),b&&c.jsx(Uje,{control:f,bubbles:!m.current,name:r,value:l,checked:v,required:a,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});NJ.displayName=PM;var EJ="SwitchThumb",SJ=A.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=Bje(EJ,n);return c.jsx(xt.span,{"data-state":RJ(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});SJ.displayName=EJ;var Uje=t=>{const{control:e,checked:n,bubbles:r=!0,...s}=t,i=A.useRef(null),a=VX(n),o=n7(e);return A.useEffect(()=>{const l=i.current,u=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(u,"checked").set;if(a!==n&&p){const f=new Event("click",{bubbles:r});p.call(l,n),l.dispatchEvent(f)}},[a,n,r]),c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:i,style:{...t.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function RJ(t){return t?"checked":"unchecked"}var PJ=NJ,zje=SJ;const MJ=A.forwardRef(({className:t,...e},n)=>c.jsx(PJ,{className:vt("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:c.jsx(zje,{className:vt("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));MJ.displayName=PJ.displayName;let Vje={data:""},Hje=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||Vje,Wje=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Gje=/\/\*[^]*?\*\/|  +/g,O8=/\n+/g,Cu=(t,e)=>{let n="",r="",s="";for(let i in t){let a=t[i];i[0]=="@"?i[1]=="i"?n=i+" "+a+";":r+=i[1]=="f"?Cu(a,i):i+"{"+Cu(a,i[1]=="k"?"":e)+"}":typeof a=="object"?r+=Cu(a,e?e.replace(/([^,])+/g,o=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,o):o?o+" "+l:l)):i):a!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Cu.p?Cu.p(i,a):i+":"+a+";")}return n+(e&&s?e+"{"+s+"}":s)+r},Kl={},jJ=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+jJ(t[n]);return e}return t},Kje=(t,e,n,r,s)=>{let i=jJ(t),a=Kl[i]||(Kl[i]=(l=>{let u=0,d=11;for(;u<l.length;)d=101*d+l.charCodeAt(u++)>>>0;return"go"+d})(i));if(!Kl[a]){let l=i!==t?t:(u=>{let d,p,f=[{}];for(;d=Wje.exec(u.replace(Gje,""));)d[4]?f.shift():d[3]?(p=d[3].replace(O8," ").trim(),f.unshift(f[0][p]=f[0][p]||{})):f[0][d[1]]=d[2].replace(O8," ").trim();return f[0]})(t);Kl[a]=Cu(s?{["@keyframes "+a]:l}:l,n?"":"."+a)}let o=n&&Kl.g?Kl.g:null;return n&&(Kl.g=Kl[a]),((l,u,d,p)=>{p?u.data=u.data.replace(p,l):u.data.indexOf(l)===-1&&(u.data=d?l+u.data:u.data+l)})(Kl[a],e,r,o),a},Yje=(t,e,n)=>t.reduce((r,s,i)=>{let a=e[i];if(a&&a.call){let o=a(n),l=o&&o.props&&o.props.className||/^go/.test(o)&&o;a=l?"."+l:o&&typeof o=="object"?o.props?"":Cu(o,""):o===!1?"":o}return r+s+(a??"")},"");function iA(t){let e=this||{},n=t.call?t(e.p):t;return Kje(n.unshift?n.raw?Yje(n,[].slice.call(arguments,1),e.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(e.p):s),{}):n,Hje(e.target),e.g,e.o,e.k)}let _J,AE,IE;iA.bind({g:1});let Wc=iA.bind({k:1});function qje(t,e,n,r){Cu.p=e,_J=t,AE=n,IE=r}function Ud(t,e){let n=this||{};return function(){let r=arguments;function s(i,a){let o=Object.assign({},i),l=o.className||s.className;n.p=Object.assign({theme:AE&&AE()},o),n.o=/ *go\d+/.test(l),o.className=iA.apply(n,r)+(l?" "+l:"");let u=t;return t[0]&&(u=o.as||t,delete o.as),IE&&u[0]&&IE(o),_J(u,o)}return s}}var Zje=t=>typeof t=="function",kE=(t,e)=>Zje(t)?t(e):t,Xje=(()=>{let t=0;return()=>(++t).toString()})(),Jje=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),Qje=20,DJ=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,Qje)};case 1:return{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:n}=e;return DJ(t,{type:t.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(i=>i.id===r||r===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},e3e=[],Ck={toasts:[],pausedAt:void 0},MM=t=>{Ck=DJ(Ck,t),e3e.forEach(e=>{e(Ck)})},t3e=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||Xje()}),yb=t=>(e,n)=>{let r=t3e(e,t,n);return MM({type:2,toast:r}),r.id},ge=(t,e)=>yb("blank")(t,e);ge.error=yb("error");ge.success=yb("success");ge.loading=yb("loading");ge.custom=yb("custom");ge.dismiss=t=>{MM({type:3,toastId:t})};ge.remove=t=>MM({type:4,toastId:t});ge.promise=(t,e,n)=>{let r=ge.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let i=e.success?kE(e.success,s):void 0;return i?ge.success(i,{id:r,...n,...n==null?void 0:n.success}):ge.dismiss(r),s}).catch(s=>{let i=e.error?kE(e.error,s):void 0;i?ge.error(i,{id:r,...n,...n==null?void 0:n.error}):ge.dismiss(r)}),t};var n3e=Wc`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,r3e=Wc`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,s3e=Wc`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,i3e=Ud("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${n3e} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${r3e} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${s3e} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,a3e=Wc`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,o3e=Ud("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${a3e} 1s linear infinite;
`,l3e=Wc`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,c3e=Wc`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,u3e=Ud("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${l3e} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${c3e} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,d3e=Ud("div")`
  position: absolute;
`,p3e=Ud("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,f3e=Wc`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,h3e=Ud("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${f3e} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,m3e=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?A.createElement(h3e,null,e):e:n==="blank"?null:A.createElement(p3e,null,A.createElement(o3e,{...r}),n!=="loading"&&A.createElement(d3e,null,n==="error"?A.createElement(i3e,{...r}):A.createElement(u3e,{...r})))},y3e=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,g3e=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,v3e="0%{opacity:0;} 100%{opacity:1;}",b3e="0%{opacity:1;} 100%{opacity:0;}",x3e=Ud("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,w3e=Ud("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,T3e=(t,e)=>{let n=t.includes("top")?1:-1,[r,s]=Jje()?[v3e,b3e]:[y3e(n),g3e(n)];return{animation:e?`${Wc(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Wc(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};A.memo(({toast:t,position:e,style:n,children:r})=>{let s=t.height?T3e(t.position||e||"top-center",t.visible):{opacity:0},i=A.createElement(m3e,{toast:t}),a=A.createElement(w3e,{...t.ariaProps},kE(t.message,t));return A.createElement(x3e,{className:t.className,style:{...s,...n,...t.style}},typeof r=="function"?r({icon:i,message:a}):A.createElement(A.Fragment,null,i,a))});qje(A.createElement);iA`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;const A3e="https://onlyassets-server.onrender.com",Ya=`${A3e}/auth`,Yl=()=>{const t=localStorage.getItem("authToken");return{"Content-Type":"application/json",...t&&{Authorization:`Bearer ${t}`}}},qa=async t=>{const e=await t.json();if(!t.ok){console.error("API Error Response:",{status:t.status,statusText:t.statusText,data:e});let n=e.message||e.error||`HTTP error! status: ${t.status}`;throw e.errors&&Array.isArray(e.errors)&&(n+=": "+e.errors.join(", ")),new Error(n)}return e},_m={register:async t=>{try{const e=await fetch(`${Ya}/register`,{method:"POST",headers:Yl(),body:JSON.stringify(t)}),n=await qa(e);return n.success&&n.data.token&&(localStorage.setItem("authToken",n.data.token),localStorage.setItem("user",JSON.stringify(n.data.user)),localStorage.setItem("currentRole",n.data.currentRole),localStorage.setItem("availableRoles",JSON.stringify(n.data.availableRoles))),n}catch(e){throw console.error("Registration error:",e),e}},login:async t=>{try{const e=await fetch(`${Ya}/login`,{method:"POST",headers:Yl(),body:JSON.stringify(t)}),n=await qa(e);return n.success&&n.data.token&&(localStorage.setItem("authToken",n.data.token),localStorage.setItem("user",JSON.stringify(n.data.user)),localStorage.setItem("currentRole",n.data.currentRole),localStorage.setItem("availableRoles",JSON.stringify(n.data.availableRoles))),n}catch(e){throw console.error("Login error:",e),e}},getProfile:async()=>{try{const t=await fetch(`${Ya}/profile`,{method:"GET",headers:Yl()});return await qa(t)}catch(t){throw console.error("Get profile error:",t),t}},updateProfile:async t=>{try{const e=await fetch(`${Ya}/profile`,{method:"PUT",headers:Yl(),body:JSON.stringify(t)}),n=await qa(e);return n.success&&localStorage.setItem("user",JSON.stringify(n.data.user)),n}catch(e){throw console.error("Update profile error:",e),e}},verifyWallet:async t=>{try{const e=await fetch(`${Ya}/verify-wallet`,{method:"POST",headers:Yl(),body:JSON.stringify({walletAddress:t})});return await qa(e)}catch(e){throw console.error("Verify wallet error:",e),e}},switchRole:async t=>{try{const e=await fetch(`${Ya}/switch-role`,{method:"POST",headers:Yl(),body:JSON.stringify({newRole:t})}),n=await qa(e);return n.success&&n.data.token&&(localStorage.setItem("authToken",n.data.token),localStorage.setItem("user",JSON.stringify(n.data.user)),localStorage.setItem("currentRole",n.data.currentRole)),n}catch(e){throw console.error("Switch role error:",e),e}},getUserRoles:async()=>{try{const t=await fetch(`${Ya}/roles`,{method:"GET",headers:Yl()});return await qa(t)}catch(t){throw console.error("Get user roles error:",t),t}},logout:async()=>{try{const t=await fetch(`${Ya}/logout`,{method:"POST",headers:Yl()}),e=await qa(t);return localStorage.removeItem("authToken"),localStorage.removeItem("user"),localStorage.removeItem("currentRole"),localStorage.removeItem("availableRoles"),e}catch(t){throw console.error("Logout error:",t),localStorage.removeItem("authToken"),localStorage.removeItem("user"),localStorage.removeItem("currentRole"),localStorage.removeItem("availableRoles"),t}},isAuthenticated:()=>{const t=localStorage.getItem("authToken"),e=localStorage.getItem("user"),n=!!(t&&e);return console.log("Authentication check:",{hasToken:!!t,hasUser:!!e,isAuthenticated:n}),n},getCurrentUser:()=>{try{const t=localStorage.getItem("user");return t?JSON.parse(t):null}catch(t){return console.error("Error parsing user data:",t),null}},getToken:()=>localStorage.getItem("authToken"),clearAuthData:()=>{localStorage.removeItem("authToken"),localStorage.removeItem("user"),localStorage.removeItem("currentRole"),localStorage.removeItem("availableRoles")},getCurrentRole:()=>localStorage.getItem("currentRole"),getAvailableRoles:()=>{try{const t=localStorage.getItem("availableRoles");return t?JSON.parse(t):[]}catch(t){return console.error("Error parsing available roles:",t),[]}},createUser:async t=>{try{const e=await fetch(`${Ya}/admin/create-user`,{method:"POST",headers:Yl(),body:JSON.stringify(t)});return await qa(e)}catch(e){throw console.error("Create user error:",e),e}},healthCheck:async()=>{try{const t=await fetch(`${Ya}/health`,{method:"GET",headers:{"Content-Type":"application/json"}});return await qa(t)}catch(t){throw console.error("Health check error:",t),t}},ping:async()=>{try{const t=await fetch(`${Ya}/ping`,{method:"GET",headers:{"Content-Type":"application/json"}});return await qa(t)}catch(t){throw console.error("Ping error:",t),t}}},{register:I3e,login:pBe,getProfile:fBe,updateProfile:hBe,logout:mBe,verifyWallet:yBe,switchRole:gBe,getUserRoles:vBe,createUser:bBe,isAuthenticated:xBe,getCurrentUser:wBe,getToken:TBe,clearAuthData:ABe,getCurrentRole:IBe,getAvailableRoles:kBe,healthCheck:CBe,ping:NBe}=_m,OJ={U2U_LEGACY_TESTNET:{ADMIN:"0xFC53E7A6b94173D82d07a127A38d9D852bf478d4",ERC1155_CORE:"0x7C082010BcF338675508E2FD9d6C0dD2E43b37d8",ISSUER:"0xad367F8b04bC9C373aDcE2a1E797A3c4f1aD5D78",MARKETPLACE:"0xE8DE43BD00370F48db7Ac139146AC27B1AfEd7aF",PAYMENT_SPLITTER:"0x6f2db3e628879ee72B455a946C1d6cfBa51aac91"},U2U_NEBULAS_TESTNET:{ADMIN:"0xFC53E7A6b94173D82d07a127A38d9D852bf478d4",USER_REGISTRY:"0xa9E9DA96A74Ac7d7411426e9B794280BaB49AFBF",TOKEN:"0x7C082010BcF338675508E2FD9d6C0dD2E43b37d8",ISSUER:"0xad367F8b04bC9C373aDcE2a1E797A3c4f1aD5D78",MARKETPLACE:"0xE8DE43BD00370F48db7Ac139146AC27B1AfEd7aF",TOKEN_MANAGEMENT:"0xA632A492cCd898De4a4B17DC786B381d099F5815",SECONDARY_MARKETPLACE:"0xD68805CeC8704e0E262Afa2289EB298b1bD98ce8",ORDER_BOOK_ESCROW:"0x0E3b53858E1F086D6ff1a1613e2d0d951237E949",PAYMENT_SPLITTER:"0x6f2db3e628879ee72B455a946C1d6cfBa51aac91",IDENTITY_REGISTRY:"0x1667Cd2BB3715539C8c232D7cE256dd891Aa6923",CLAIM_ISSUERS_REGISTRY:"0x767FA150B3007ff446ff8f37b3116cA200BC0197",RULE_CONTRACT:"0xdAfc108538b0178071B648BDF5E6295d7eCf7A7C",ASSET_REGISTRY:"0xB6391254407b51e87dB45eCB3CEF9C2f96aad75B",MASTER_TOKEN:"0x2ccb132b985d096dF1A1bFAd1432CD79947295Ad",MULTISIG:"0x541cD0763c52ac9304A099b48fC81554Dd0A0493",TOKEN_FACTORY:"0xF9f94692001602b5E4AEe778659814593B9315C4",ERC3643_MARKETPLACE:"0xD68805CeC8704e0E262Afa2289EB298b1bD98ce8",WATERFALL_CONTRACT:"0xC6D5Eca0d7390bf95e5331EbD4274D3b177961e8",MOCK_KYC_VENDOR:"0x2B0426A3ECE73A9E2e361f111d96bdc6b13495a3",MOCK_LAW_FIRM:"0x56CFAFDdb032BCb5c1697053993aB3406efd6Eb9",MOCK_STABLECOIN:"0x40ACd6248Af692021C82b8333092De184c6e33Ff",MOCK_SPV_BANK_FEED:"0x0b0fD8855a03Bcd63CfA5A1fC6145FF3552c96a4",MERKLE_KYC:"0x65374809f4201Ac29E8176db4B764a0ae360ff56"},STORY_AENEID_TESTNET:{ORION_VERIFIED_MINTER:"0x1B014A3a16E5AF7D1207646f35AFD2b08535c1EB",SPG_NFT_COLLECTION:"0x78AD3d22E62824945DED384a5542Ad65de16E637",IP_ASSET_REGISTRY:"0x77319B4031e6eF1250907aa00018B8B1c67a244b",LICENSING_MODULE:"0x5a7D9Fa17DE09350F481A53B470D798c1c1aabae",ROYALTY_MODULE:"0x3C27b2d6C0a1C5c8A79b6753F32e4c5e3e3f5F1e",REGISTRATION_WORKFLOWS:"0xbe39E1C756e921BD25DF86e7AAa31106d1eb0424",COLLECTION_NAME:"Orion IP-OPS Assets",COLLECTION_SYMBOL:"ORION",MAX_SUPPLY:100,MINT_FEE:0,IS_PUBLIC_MINTING:!0,BACKEND_VERIFIER_ADDRESS:"0x23e67597f0898f747Fa3291C8920168adF9455D0",TOKEN_EXPIRY_SECONDS:900}},$r={U2U_LEGACY_TESTNET:{chainId:747,name:"Flow Mainnet",rpcUrl:"https://mainnet.evm.nodes.onflow.org",blockExplorer:"https://u2uscan.xyz",nativeCurrency:{name:"FLOW",symbol:"FLOW",decimals:18}},U2U_NEBULAS_TESTNET:{chainId:747,name:"Flow Mainnet",rpcUrl:"https://mainnet.evm.nodes.onflow.org",blockExplorer:"https://www.flowscan.io",nativeCurrency:{name:"FLOW",symbol:"FLOW",decimals:18}},STORY_AENEID_TESTNET:{chainId:1315,name:"Story Protocol Aeneid Testnet",rpcUrl:"https://aeneid.storyrpc.io",blockExplorer:"https://aeneid.storyscan.xyz",nativeCurrency:{name:"IP Token",symbol:"IP",decimals:18}}},Wn="U2U_NEBULAS_TESTNET",Cr=OJ[Wn],or=Cr.ADMIN;Cr.USER_REGISTRY;const Na=Cr.TOKEN;Cr.ISSUER;const us=Cr.MARKETPLACE,LJ=Cr.TOKEN_MANAGEMENT,Br=Cr.ORDER_BOOK_ESCROW,k3e=Cr.PAYMENT_SPLITTER,Vp=Object.freeze(Object.defineProperty({__proto__:null,ACTIVE_NETWORK:Wn,ADMIN_CONTRACT:or,CONTRACTS:Cr,CONTRACT_ADDRESSES:OJ,MARKETPLACE_CONTRACT:us,NETWORK_CONFIG:$r,ORDER_BOOK_ESCROW_CONTRACT:Br,PAYMENT_SPLITTER_CONTRACT:k3e,TOKEN_CONTRACT:Na,TOKEN_MANAGEMENT_CONTRACT:LJ},Symbol.toStringTag,{value:"Module"})),$J=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"InvoiceSettledByAdmin",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"issuer",type:"address"},{indexed:!1,internalType:"string",name:"metadataURI",type:"string"}],name:"IssuerAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"manager",type:"address"},{indexed:!1,internalType:"string",name:"metadataURI",type:"string"}],name:"ManagerAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"paused",type:"bool"}],name:"MarketplacePaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[{internalType:"address",name:"_issuer",type:"address"},{internalType:"string",name:"_metadataURI",type:"string"}],name:"addIssuer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_manager",type:"address"},{internalType:"string",name:"_metadataURI",type:"string"}],name:"addManager",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"allIssuers",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"allManagers",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_manager",type:"address"},{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"assignManager",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getAllIssuers",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAllManagers",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"getIssuerAt",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getIssuerCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"getManagerAt",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getManagerCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_manager",type:"address"}],name:"getManagerTokens",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getTokenLifecycle",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_address",type:"address"}],name:"isAdmin",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"isIssuer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"isManager",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_manager",type:"address"},{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"isManagerForToken",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"isTokenSettled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"issuerMetadata",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"managerMetadata",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"managerTokens",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"marketplacePaused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pauseMarketplace",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_issuer",type:"address"}],name:"removeIssuer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_manager",type:"address"}],name:"removeManager",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_tokenContract",type:"address"}],name:"setTokenContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"settleInvoice",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"tokenContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenManager",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}],FJ=[{inputs:[{internalType:"address",name:"_adminContract",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"settlementAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"InvoiceSettled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"enum ERC1155Core.TokenLifecycle",name:"newStatus",type:"uint8"}],name:"LifecycleChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"TokenBurned",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"issuer",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"price",type:"uint256"},{indexed:!1,internalType:"string",name:"metadataURI",type:"string"}],name:"TokenMinted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256[]",name:"ids",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"TransferBatch",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"TransferSingle",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"value",type:"string"},{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"URI",type:"event"},{inputs:[],name:"adminContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"accounts",type:"address[]"},{internalType:"uint256[]",name:"ids",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"burnAllTokens",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getSettlementInfo",outputs:[{internalType:"bool",name:"settled",type:"bool"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getTokenHolders",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getTokenInfo",outputs:[{internalType:"uint256",name:"price",type:"uint256"},{internalType:"string",name:"metadataURI",type:"string"},{internalType:"address",name:"issuer",type:"address"},{internalType:"uint256",name:"supply",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getTokenLifecycleStatus",outputs:[{internalType:"enum ERC1155Core.TokenLifecycle",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"}],name:"isTokenHolder",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"isTokenTradeable",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"issuerContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"markInvoiceSettled",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"uint256",name:"_price",type:"uint256"},{internalType:"string",name:"_metadataURI",type:"string"}],name:"mintToken",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_issuer",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"uint256",name:"_price",type:"uint256"},{internalType:"string",name:"_metadataURI",type:"string"}],name:"mintTokenForIssuer",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"uint256",name:"_price",type:"uint256"},{internalType:"string",name:"_metadataURI",type:"string"}],name:"mintTokenTo",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"nextTokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"paymentSplitterContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_issuerContract",type:"address"}],name:"setIssuerContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_paymentSplitterContract",type:"address"}],name:"setPaymentSplitterContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_tokenManagementContract",type:"address"}],name:"setTokenManagementContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"settlementAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"settlementTimestamp",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],name:"tokenHolders",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenIssuer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenLifecycle",outputs:[{internalType:"enum ERC1155Core.TokenLifecycle",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"tokenManagementContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenMetadata",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenSettled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"newPrice",type:"uint256"}],name:"updateTokenPrice",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_issuer",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"newPrice",type:"uint256"}],name:"updateTokenPriceForIssuer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],BJ=[{inputs:[{internalType:"address",name:"_adminContract",type:"address"},{internalType:"address",name:"_tokenContract",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"buyer",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"platformFee",type:"uint256"}],name:"AssetBought",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"issuer",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"price",type:"uint256"}],name:"AssetListed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"seller",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"platformFee",type:"uint256"}],name:"AssetSold",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"holder",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"AssetWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"admin",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"EarningsWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"issuer",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"ListingRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"string",name:"newMetadataURI",type:"string"}],name:"ListingUpdated",type:"event"},{inputs:[],name:"PLATFORM_FEE_PERCENT",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"activeTokens",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"adminContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"buyAsset",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"getAllListings",outputs:[{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"},{internalType:"address[]",name:"issuers",type:"address[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"uint256[]",name:"prices",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMyAssets",outputs:[{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"getTokenHolders",outputs:[{internalType:"address[]",name:"holders",type:"address[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"getTokenHoldersList",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"getTotalListed",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_user",type:"address"},{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"getUserBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"listAsset",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"listings",outputs:[{internalType:"address",name:"issuer",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bool",name:"active",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155BatchReceived",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[],name:"paymentSplitter",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"removeListing",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"sellAsset",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_paymentSplitter",type:"address"}],name:"setPaymentSplitter",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_tokenManagementContract",type:"address"}],name:"setTokenManagementContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"tokenContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"tokenHolders",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],name:"tokenHoldersList",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"tokenManagementContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalEarnings",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"totalTokensListed",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"string",name:"_newMetadataURI",type:"string"}],name:"updateListing",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"userTokenIds",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"withdrawAsset",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawEarnings",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],UJ=[{inputs:[{internalType:"address",name:"_adminContract",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"totalAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"toHolders",type:"uint256"},{indexed:!1,internalType:"uint256",name:"toPlatform",type:"uint256"}],name:"InvoiceSettled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"totalAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"toHolders",type:"uint256"},{indexed:!1,internalType:"uint256",name:"toPlatform",type:"uint256"}],name:"RentalDistributed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"settlementAmount",type:"uint256"}],name:"TokenBurnInitiated",type:"event"},{inputs:[],name:"adminContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"getSettlementAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"isTokenSettled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"marketplaceContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"processInvoiceSettlement",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_marketplaceContract",type:"address"}],name:"setMarketplace",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_tokenContract",type:"address"}],name:"setTokenContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"settlementAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"submitRental",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"tokenContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenSettled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{stateMutability:"payable",type:"receive"}],zJ=[{inputs:[{internalType:"address",name:"_adminContract",type:"address"},{internalType:"address",name:"_tokenContract",type:"address"},{internalType:"address",name:"_marketplaceContract",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"requestId",type:"bytes32"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"issuer",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"price",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"TokenDeployed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"issuer",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"price",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"TokenListedOnMarketplace",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"requestId",type:"bytes32"},{indexed:!0,internalType:"address",name:"admin",type:"address"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"TokenRequestApproved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"requestId",type:"bytes32"},{indexed:!0,internalType:"address",name:"admin",type:"address"},{indexed:!1,internalType:"string",name:"reason",type:"string"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"TokenRequestRejected",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"requestId",type:"bytes32"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"settlementAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"TokenRequestSettled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"requestId",type:"bytes32"},{indexed:!0,internalType:"address",name:"issuer",type:"address"},{indexed:!1,internalType:"string",name:"metadataURI",type:"string"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"price",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"TokenRequestSubmitted",type:"event"},{inputs:[],name:"adminContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"allRequestIds",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_requestId",type:"bytes32"}],name:"approveTokenRequest",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"approvedRequestIds",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_requestId",type:"bytes32"}],name:"deployApprovedToken",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getApprovedRequests",outputs:[{internalType:"bytes32[]",name:"",type:"bytes32[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMyRequests",outputs:[{internalType:"bytes32[]",name:"",type:"bytes32[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMyTokens",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPendingRequests",outputs:[{internalType:"bytes32[]",name:"",type:"bytes32[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_requestId",type:"bytes32"}],name:"getRequestDetails",outputs:[{components:[{internalType:"bytes32",name:"requestId",type:"bytes32"},{internalType:"address",name:"issuer",type:"address"},{internalType:"string",name:"metadataURI",type:"string"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"enum TokenManagement.RequestStatus",name:"status",type:"uint8"},{internalType:"uint256",name:"submittedAt",type:"uint256"},{internalType:"uint256",name:"approvedAt",type:"uint256"},{internalType:"uint256",name:"deployedAt",type:"uint256"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"rejectionReason",type:"string"},{internalType:"uint256",name:"settledAt",type:"uint256"},{internalType:"uint256",name:"settlementAmount",type:"uint256"}],internalType:"struct TokenManagement.TokenRequest",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getRequestIdFromTokenId",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"requestId",type:"bytes32"}],name:"getRequestSettlementInfo",outputs:[{internalType:"bool",name:"settled",type:"bool"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"issuer",type:"address"}],name:"getSettledRequests",outputs:[{internalType:"bytes32[]",name:"",type:"bytes32[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"requestId",type:"bytes32"}],name:"isRequestSettled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"issuerRequests",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"issuerTokens",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_requestId",type:"bytes32"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"listTokenOnMarketplace",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"markRequestSettled",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"marketplaceContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"pendingRequestIds",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_requestId",type:"bytes32"},{internalType:"string",name:"_reason",type:"string"}],name:"rejectTokenRequest",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"requestSettled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"requestSettlementAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_metadataURI",type:"string"},{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"uint256",name:"_price",type:"uint256"}],name:"submitTokenRequest",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"tokenContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenIdToRequestId",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"tokenRequests",outputs:[{internalType:"bytes32",name:"requestId",type:"bytes32"},{internalType:"address",name:"issuer",type:"address"},{internalType:"string",name:"metadataURI",type:"string"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"enum TokenManagement.RequestStatus",name:"status",type:"uint8"},{internalType:"uint256",name:"submittedAt",type:"uint256"},{internalType:"uint256",name:"approvedAt",type:"uint256"},{internalType:"uint256",name:"deployedAt",type:"uint256"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"rejectionReason",type:"string"},{internalType:"uint256",name:"settledAt",type:"uint256"},{internalType:"uint256",name:"settlementAmount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_adminContract",type:"address"},{internalType:"address",name:"_tokenContract",type:"address"},{internalType:"address",name:"_marketplaceContract",type:"address"}],name:"updateContracts",outputs:[],stateMutability:"nonpayable",type:"function"}],Wi={ADMIN:$J,ERC1155CORE:FJ,MARKETPLACE:BJ,PAYMENTSPLITTER:UJ,TOKENMANAGEMENT:zJ},od=Object.freeze(Object.defineProperty({__proto__:null,ADMIN_ABI:$J,CONTRACT_ABIS:Wi,ERC1155CORE_ABI:FJ,MARKETPLACE_ABI:BJ,PAYMENTSPLITTER_ABI:UJ,TOKENMANAGEMENT_ABI:zJ},Symbol.toStringTag,{value:"Module"})),C3e=["function getPendingRequests() external view returns (bytes32[] memory)","function getApprovedRequests() external view returns (bytes32[] memory)","function getRequestDetails(bytes32 _requestId) external view returns (tuple(bytes32 requestId, address issuer, string metadataURI, uint256 amount, uint256 price, uint8 status, uint256 submittedAt, uint256 approvedAt, uint256 deployedAt, uint256 tokenId, string rejectionReason))","function approveTokenRequest(bytes32 _requestId) external","function rejectTokenRequest(bytes32 _requestId, string memory _reason) external","event TokenRequestSubmitted(bytes32 indexed requestId, address indexed issuer, string metadataURI, uint256 amount, uint256 price, uint256 timestamp)","event TokenRequestApproved(bytes32 indexed requestId, address indexed admin, uint256 timestamp)","event TokenRequestRejected(bytes32 indexed requestId, address indexed admin, string reason, uint256 timestamp)"];class N3e{constructor(){this.initialized=!1,this.tokenManagementContract=null,this.tokenManagementAddress="0x24eb8429Dc1e5f217866D0c74Db245Fa3aAFA31A"}async initialize(e,n){try{this.provider=e,this.signer=e.getSigner(),this.tokenManagementContract=new nt(n,C3e,this.signer),this.initialized=!0,console.log(" Admin Token Management Service initialized:",n)}catch(r){throw console.error(" Failed to initialize Admin Token Management Service:",r),r}}async getPendingTokenRequests(){if(!this.initialized)throw new Error("Service not initialized");try{console.log(" Fetching pending token requests from TokenManagement contract...");const e=await this.tokenManagementContract.getPendingRequests();console.log(" Found pending request IDs:",e);const n=[];for(const r of e)try{const s=await this.tokenManagementContract.getRequestDetails(r),i={requestId:r,issuer:s.issuer,metadataURI:s.metadataURI,amount:s.amount.toString(),price:_e(s.price),status:this._getStatusString(s.status),submittedAt:new Date(s.submittedAt*1e3),approvedAt:s.approvedAt>0?new Date(s.approvedAt*1e3):void 0,deployedAt:s.deployedAt>0?new Date(s.deployedAt*1e3):void 0,tokenId:s.tokenId>0?s.tokenId.toString():void 0,rejectionReason:s.rejectionReason||void 0};n.push(i),console.log(" Request details:",i)}catch(s){console.warn(`Failed to fetch details for request ${r}:`,s)}return console.log(" Fetched pending requests:",n.length),n}catch(e){throw console.error(" Failed to fetch pending token requests:",e),e}}async getApprovedTokenRequests(){if(!this.initialized)throw new Error("Service not initialized");try{console.log(" Fetching approved token requests...");const e=await this.tokenManagementContract.getApprovedRequests(),n=[];for(const r of e)try{const s=await this.tokenManagementContract.getRequestDetails(r);n.push({requestId:r,issuer:s.issuer,metadataURI:s.metadataURI,amount:s.amount.toString(),price:_e(s.price),status:this._getStatusString(s.status),submittedAt:new Date(s.submittedAt*1e3),approvedAt:s.approvedAt>0?new Date(s.approvedAt*1e3):void 0})}catch(s){console.warn(`Failed to fetch details for approved request ${r}:`,s)}return console.log(" Fetched approved requests:",n.length),n}catch(e){throw console.error(" Failed to fetch approved token requests:",e),e}}async approveTokenRequest(e){if(!this.initialized)throw new Error("Service not initialized");try{console.log(" Approving token request:",e);const n=await this.tokenManagementContract.approveTokenRequest(e);console.log(" Approval transaction sent:",n.hash);const r=await n.wait();return console.log(" Token request approved successfully!"),{txHash:n.hash,status:"approved"}}catch(n){throw console.error(" Failed to approve token request:",n),n}}async rejectTokenRequest(e,n){if(!this.initialized)throw new Error("Service not initialized");try{console.log(" Rejecting token request:",e,"Reason:",n);const r=await this.tokenManagementContract.rejectTokenRequest(e,n);console.log(" Rejection transaction sent:",r.hash);const s=await r.wait();return console.log(" Token request rejected successfully!"),{txHash:r.hash,status:"rejected"}}catch(r){throw console.error(" Failed to reject token request:",r),r}}async fetchMetadataFromIPFS(e){try{const n=await fetch(e);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(n){return console.error("Failed to fetch metadata from IPFS:",n),null}}async getFormattedPendingAssets(){try{const e=await this.getPendingTokenRequests(),n=await Promise.all(e.map(async r=>{let s=null;return r.metadataURI&&(s=await this.fetchMetadataFromIPFS(r.metadataURI)),{assetId:r.requestId,requestId:r.requestId,name:(s==null?void 0:s.name)||`Token Request ${r.requestId.slice(0,8)}...`,description:(s==null?void 0:s.description)||`${r.amount} tokens at ${r.price} ETH each`,status:"Pending",createdAt:r.submittedAt,metadataURI:r.metadataURI,issuer:r.issuer,amount:r.amount,price:r.price,metadata:s,tokenRequest:!0,submittedAt:r.submittedAt}}));return console.log(" Formatted pending assets for UI:",n.length),n}catch(e){return console.error(" Failed to get formatted pending assets:",e),[]}}_getStatusString(e){return{0:"Pending",1:"Approved",2:"Rejected",3:"Deployed",4:"Listed"}[e]||"Unknown"}}const E3e=["https://gateway.pinata.cloud/ipfs/","https://ipfs.io/ipfs/","https://cloudflare-ipfs.com/ipfs/","https://gateway.ipfs.io/ipfs/"],hx=async t=>{try{if(!t.startsWith("ipfs://"))return console.log("Not an IPFS URI:",t),null;const e=t.replace("ipfs://","");console.log("Fetching IPFS content for hash:",e);for(const n of E3e)try{const r=await fetch(`${n}${e}`,{method:"GET",headers:{Accept:"application/json"},signal:AbortSignal.timeout(1e4)});if(!r.ok){console.log(`Gateway ${n} failed with status:`,r.status);continue}const s=await r.json();return console.log("Successfully fetched IPFS content:",s),s}catch(r){console.log(`Gateway ${n} failed:`,r);continue}return console.log("All IPFS gateways failed for hash:",e),null}catch(e){return console.error("Error fetching IPFS content:",e),null}},S3e="ee7fd8b4670e8e75cf1f",R3e="8765707d70f702f1da012ea6e52f345221d8a4c801acb5e7f8599760822577df",L8=async t=>{var e,n,r;try{const s=await wn({method:"post",url:"https://api.pinata.cloud/pinning/pinJSONToIPFS",data:t,headers:{pinata_api_key:S3e,pinata_secret_api_key:R3e,"Content-Type":"application/json"}});return console.log(" JSON uploaded to Pinata:",s.data.IpfsHash),s.data.IpfsHash}catch(s){throw console.error("Error uploading JSON to Pinata:",s),wn.isAxiosError(s)?(console.error("Response:",(e=s.response)==null?void 0:e.data),new Error(`Pinata JSON upload failed: ${((r=(n=s.response)==null?void 0:n.data)==null?void 0:r.message)||s.message}`)):s}},P3e={TESTNET:{chainId:747,name:"Flow Testnet",rpcUrl:"https://mainnet.evm.nodes.onflow.org",blockExplorer:"https://www.flowscan.io/",nativeCurrency:{name:"Flow",symbol:"FLOW",decimals:18}},MAINNET:{chainId:747,name:"Flow Mainnet",rpcUrl:"https://mainnet.evm.nodes.onflow.org",blockExplorer:"https://evm.flowscan.io/",nativeCurrency:{name:"Flow",symbol:"FLOW",decimals:18}}},Gy={ADMIN:"0xFC53E7A6b94173D82d07a127A38d9D852bf478d4",TOKEN_CONTRACT:"0x7C082010BcF338675508E2FD9d6C0dD2E43b37d8",MARKETPLACE:"0xE8DE43BD00370F48db7Ac139146AC27B1AfEd7aF",PAYMENT_SPLITTER:"0x6f2db3e628879ee72B455a946C1d6cfBa51aac91",TOKEN_MANAGEMENT:"0xA632A492cCd898De4a4B17DC786B381d099F5815"},Ky={ISSUER_ADDED:"IssuerAdded",MANAGER_ADDED:"ManagerAdded",MARKETPLACE_PAUSED:"MarketplacePaused",INVOICE_SETTLED_BY_ADMIN:"InvoiceSettledByAdmin",TOKEN_MINTED:"TokenMinted",INVOICE_SETTLED:"InvoiceSettled",TOKEN_BURNED:"TokenBurned",LIFECYCLE_CHANGED:"LifecycleChanged",TOKEN_REQUEST_SUBMITTED:"TokenRequestSubmitted",TOKEN_REQUEST_APPROVED:"TokenRequestApproved",TOKEN_REQUEST_REJECTED:"TokenRequestRejected",TOKEN_DEPLOYED:"TokenDeployed",TOKEN_LISTED_ON_MARKETPLACE:"TokenListedOnMarketplace",TOKEN_REQUEST_SETTLED:"TokenRequestSettled",ASSET_LISTED:"AssetListed",ASSET_BOUGHT:"AssetBought",ASSET_SOLD:"AssetSold",ASSET_WITHDRAWN:"AssetWithdrawn",EARNINGS_WITHDRAWN:"EarningsWithdrawn",LISTING_REMOVED:"ListingRemoved",LISTING_UPDATED:"ListingUpdated",RENTAL_DISTRIBUTED:"RentalDistributed",TOKEN_BURN_INITIATED:"TokenBurnInitiated"},Uf={WALLET_NOT_CONNECTED:"Please connect your wallet first",INSUFFICIENT_BALANCE:"Insufficient balance for this transaction",TRANSACTION_REJECTED:"Transaction was rejected by user",NETWORK_MISMATCH:"Please switch to Flow Testnet",CONTRACT_ERROR:"Contract interaction failed",UNAUTHORIZED:"You don't have permission for this action",INVALID_TOKEN:"Invalid token ID or token not found",TOKEN_NOT_TRADEABLE:"This token cannot be traded (settled or burned)",ALREADY_SETTLED:"This invoice has already been settled",INSUFFICIENT_PAYMENT:"Payment amount is insufficient"},ql={TRANSACTION_SENT:"Transaction sent successfully",ISSUER_ADDED:"Issuer added successfully",MANAGER_ADDED:"Manager added successfully",TOKEN_REQUEST_SUBMITTED:"Token request submitted for approval",TOKEN_REQUEST_APPROVED:"Token request approved",TOKEN_DEPLOYED:"Token deployed successfully",TOKEN_LISTED:"Token listed on marketplace",TOKEN_PURCHASED:"Tokens purchased successfully",INVOICE_SETTLED:"Invoice settled successfully",TOKENS_BURNED:"Tokens burned after settlement"};class VJ{constructor(e=null){this.provider=null,this.signer=null,this.contracts={},this.walletProvider=e,this.isConnected=!1,this.userAddress=null,this.userRoles={isAdmin:!1,isIssuer:!1,isManager:!1}}async connect(){try{if(!this.walletProvider)throw new Error("No wallet provider available");if(await this.walletProvider.request({method:"eth_requestAccounts"}),this.provider=new ko(this.walletProvider),this.signer=this.provider.getSigner(),this.userAddress=await this.signer.getAddress(),(await this.provider.getNetwork()).chainId!==P3e.TESTNET.chainId)throw new Error(Uf.NETWORK_MISMATCH);return await this.initializeContracts(),await this.loadUserRoles(),this.isConnected=!0,console.log(" Connected to Invoice Financing System"),console.log("User Address:",this.userAddress),console.log("User Roles:",this.userRoles),{success:!0,userAddress:this.userAddress,userRoles:this.userRoles}}catch(e){throw console.error(" Connection failed:",e),e}}async initializeContracts(){try{this.contracts={admin:new nt(Gy.ADMIN,Wi.ADMIN,this.signer),tokenContract:new nt(Gy.TOKEN_CONTRACT,Wi.ERC1155CORE,this.signer),marketplace:new nt(Gy.MARKETPLACE,Wi.MARKETPLACE,this.signer),paymentSplitter:new nt(Gy.PAYMENT_SPLITTER,Wi.PAYMENTSPLITTER,this.signer),tokenManagement:new nt(Gy.TOKEN_MANAGEMENT,Wi.TOKENMANAGEMENT,this.signer)},console.log(" Contracts initialized")}catch(e){throw console.error(" Contract initialization failed:",e),e}}async loadUserRoles(){try{this.userRoles={isAdmin:await this.contracts.admin.isAdmin(this.userAddress),isIssuer:await this.contracts.admin.isIssuer(this.userAddress),isManager:await this.contracts.admin.isManager(this.userAddress)}}catch(e){console.error(" Failed to load user roles:",e),this.userRoles={isAdmin:!1,isIssuer:!1,isManager:!1}}}async addIssuer(e,n){this.requireRole("isAdmin");try{const r=await this.contracts.admin.addIssuer(e,n);return await r.wait(),{success:!0,message:ql.ISSUER_ADDED,txHash:r.hash}}catch(r){throw this.handleError(r)}}async addManager(e,n){this.requireRole("isAdmin");try{const r=await this.contracts.admin.addManager(e,n);return await r.wait(),{success:!0,message:ql.MANAGER_ADDED,txHash:r.hash}}catch(r){throw this.handleError(r)}}async approveTokenRequest(e){this.requireRole("isAdmin");try{const n=await this.contracts.tokenManagement.approveTokenRequest(e);return await n.wait(),{success:!0,message:ql.TOKEN_REQUEST_APPROVED,txHash:n.hash}}catch(n){throw this.handleError(n)}}async rejectTokenRequest(e,n){this.requireRole("isAdmin");try{const r=await this.contracts.tokenManagement.rejectTokenRequest(e,n);return await r.wait(),{success:!0,message:"Token request rejected",txHash:r.hash}}catch(r){throw this.handleError(r)}}async settleInvoice(e,n){this.requireRole("isAdmin");try{const r=await this.contracts.admin.settleInvoice(e,n);return await r.wait(),{success:!0,message:ql.INVOICE_SETTLED,txHash:r.hash}}catch(r){throw this.handleError(r)}}async getPendingRequests(){try{const e=await this.contracts.tokenManagement.getPendingRequests();return await Promise.all(e.map(r=>this.getRequestDetails(r)))}catch(e){throw this.handleError(e)}}async submitTokenRequest(e,n,r){this.requireRole("isIssuer");try{const s=await this.contracts.tokenManagement.submitTokenRequest(e,n,r),a=(await s.wait()).logs.find(l=>{try{return this.contracts.tokenManagement.interface.parseLog(l).name==="TokenRequestSubmitted"}catch{return!1}}),o=this.contracts.tokenManagement.interface.parseLog(a).args.requestId;return{success:!0,message:ql.TOKEN_REQUEST_SUBMITTED,requestId:o,txHash:s.hash}}catch(s){throw this.handleError(s)}}async deployApprovedToken(e){this.requireRole("isIssuer");try{const n=await this.contracts.tokenManagement.deployApprovedToken(e),s=(await n.wait()).logs.find(a=>{try{return this.contracts.tokenManagement.interface.parseLog(a).name==="TokenDeployed"}catch{return!1}}),i=this.contracts.tokenManagement.interface.parseLog(s).args.tokenId;return{success:!0,message:ql.TOKEN_DEPLOYED,tokenId:i.toString(),txHash:n.hash}}catch(n){throw this.handleError(n)}}async listTokenOnMarketplace(e,n){this.requireRole("isIssuer");try{const r=await this.contracts.tokenManagement.listTokenOnMarketplace(e,n);return await r.wait(),{success:!0,message:ql.TOKEN_LISTED,txHash:r.hash}}catch(r){throw this.handleError(r)}}async getMyRequests(){this.requireRole("isIssuer");try{const e=await this.contracts.tokenManagement.getMyRequests();return await Promise.all(e.map(r=>this.getRequestDetails(r)))}catch(e){throw this.handleError(e)}}async getMyTokens(){this.requireRole("isIssuer");try{const e=await this.contracts.tokenManagement.getMyTokens();return await Promise.all(e.map(r=>this.getTokenInfo(r)))}catch(e){throw this.handleError(e)}}async buyTokens(e,n,r){try{const s=await this.contracts.marketplace.buyAsset(e,n,{value:r});return await s.wait(),{success:!0,message:ql.TOKEN_PURCHASED,txHash:s.hash}}catch(s){throw this.handleError(s)}}async sellTokens(e,n,r){try{const s=await this.contracts.marketplace.sellAsset(e,n,{value:r});return await s.wait(),{success:!0,message:"Tokens sold successfully",txHash:s.hash}}catch(s){throw this.handleError(s)}}async withdrawTokens(e,n){try{const r=await this.contracts.marketplace.withdrawAsset(e,n);return await r.wait(),{success:!0,message:"Tokens withdrawn successfully",txHash:r.hash}}catch(r){throw this.handleError(r)}}async getMarketplaceBalance(e){try{return(await this.contracts.marketplace.getUserBalance(this.userAddress,e)).toString()}catch(n){throw this.handleError(n)}}async getWalletBalance(e){try{return(await this.contracts.tokenContract.balanceOf(this.userAddress,e)).toString()}catch(n){throw this.handleError(n)}}async processInvoiceSettlement(e,n){this.requireManagerForToken(e);try{const r=await this.contracts.paymentSplitter.processInvoiceSettlement(e,{value:n,gasLimit:3e5});return await r.wait(),{success:!0,message:ql.INVOICE_SETTLED,txHash:r.hash}}catch(r){throw this.handleError(r)}}async submitRentalPayment(e,n){this.requireManagerForToken(e);try{const r=await this.contracts.paymentSplitter.submitRental(e,{value:n});return await r.wait(),{success:!0,message:"Rental payment distributed successfully",txHash:r.hash}}catch(r){throw this.handleError(r)}}async getTokenInfo(e){try{const n=await this.contracts.tokenContract.getTokenInfo(e),r=await this.contracts.tokenContract.getTokenLifecycleStatus(e);let s="0",i="0",a=!1;try{const o=await this.contracts.tokenContract.settlementAmount(e),l=await this.contracts.tokenContract.settlementTimestamp(e);s=o.gt(0)?_e(o):"0",i=l.toString(),a=o.gt(0)}catch(o){console.warn(`Could not fetch settlement info for token ${e}:`,o)}return{tokenId:e.toString(),price:_e(n.price),metadataURI:n.metadataURI,issuer:n.issuer,supply:n.supply.toString(),lifecycle:this.getLifecycleName(r),lifecycleStatus:r,settlement:{settled:a,amount:s,timestamp:i}}}catch(n){throw this.handleError(n)}}async getRequestDetails(e){try{const n=await this.contracts.tokenManagement.getRequestDetails(e);return{requestId:e,issuer:n.issuer,metadataURI:n.metadataURI,amount:n.amount.toString(),price:_e(n.price),status:this.getRequestStatusName(n.status),statusCode:n.status,submittedAt:new Date(Number(n.submittedAt)*1e3).toISOString(),approvedAt:n.approvedAt>0?new Date(Number(n.approvedAt)*1e3).toISOString():null,deployedAt:n.deployedAt>0?new Date(Number(n.deployedAt)*1e3).toISOString():null,tokenId:n.tokenId>0?n.tokenId.toString():null,rejectionReason:n.rejectionReason,settlement:{settled:n.settledAt>0,amount:n.settlementAmount>0?_e(n.settlementAmount):"0",timestamp:n.settledAt>0?new Date(Number(n.settledAt)*1e3).toISOString():null}}}catch(n){throw this.handleError(n)}}async getAllListings(){try{const e=await this.contracts.marketplace.getAllListings();return{tokenIds:e.tokenIds.map(n=>n.toString()),issuers:e.issuers,amounts:e.amounts.map(n=>n.toString()),prices:e.prices.map(n=>_e(n))}}catch(e){throw this.handleError(e)}}async isTokenTradeable(e){try{return await this.contracts.tokenContract.isTokenTradeable(e)}catch(n){throw this.handleError(n)}}async getSettlementInfo(e){try{const n=await this.contracts.tokenContract.settlementAmount(e),r=await this.contracts.tokenContract.settlementTimestamp(e);return{settled:n.gt(0),amount:n.gt(0)?_e(n):"0",timestamp:r.gt(0)?new Date(Number(r)*1e3).toISOString():null}}catch(n){throw this.handleError(n)}}async getTokenLifecycle(e){try{const n=await this.contracts.tokenContract.getTokenLifecycleStatus(e);return{status:n,name:this.getLifecycleName(n)}}catch(n){throw this.handleError(n)}}onTokenRequestSubmitted(e){this.contracts.tokenManagement.on(Ky.TOKEN_REQUEST_SUBMITTED,e)}onTokenDeployed(e){this.contracts.tokenManagement.on(Ky.TOKEN_DEPLOYED,e)}onInvoiceSettled(e){this.contracts.tokenContract.on(Ky.INVOICE_SETTLED,e)}onTokenBurned(e){this.contracts.tokenContract.on(Ky.TOKEN_BURNED,e)}onAssetBought(e){this.contracts.marketplace.on(Ky.ASSET_BOUGHT,e)}removeAllListeners(){Object.values(this.contracts).forEach(e=>{e.removeAllListeners()})}requireRole(e){if(!this.isConnected)throw new Error(Uf.WALLET_NOT_CONNECTED);if(!this.userRoles[e])throw new Error(Uf.UNAUTHORIZED)}async requireManagerForToken(e){this.requireRole("isManager");try{if(!await this.contracts.admin.isManagerForToken(this.userAddress,e))throw new Error("Not assigned manager for this token")}catch(n){throw new Error("Manager validation failed: "+n.message)}}getLifecycleName(e){return["Active","Settled","Burned"][e]||"Unknown"}getRequestStatusName(e){return["Pending","Approved","Rejected","Deployed","Listed","Settled"][e]||"Unknown"}handleError(e){return console.error("Contract error:",e),e.message.includes("user rejected")?new Error(Uf.TRANSACTION_REJECTED):e.message.includes("insufficient funds")?new Error(Uf.INSUFFICIENT_BALANCE):e.message.includes("execution reverted")?new Error(Uf.CONTRACT_ERROR+": "+e.message):e}formatAmount(e,n=18){return po(e,n)}parseAmount(e,n=18){return qS(e.toString(),n)}async getTransactionReceipt(e){try{return await this.provider.getTransactionReceipt(e)}catch(n){throw this.handleError(n)}}disconnect(){this.removeAllListeners(),this.provider=null,this.signer=null,this.contracts={},this.isConnected=!1,this.userAddress=null,this.userRoles={isAdmin:!1,isIssuer:!1,isManager:!1},console.log(" Disconnected from Invoice Financing System")}}const M3e=()=>{const{signer:t,isConnected:e}=ir(),[n,r]=A.useState(null),[s,i]=A.useState([]),[a,o]=A.useState(!1),[l,u]=A.useState({tokenId:"",amount:""}),[d,p]=A.useState(null);A.useEffect(()=>{if(e&&t){const v=new VJ(window.ethereum);v.connect().then(()=>{r(v),f()}).catch(console.error)}},[e,t]);const f=async v=>{try{if(o(!0),console.log(" Loading marketplace tokens for settlement..."),!t){console.log("No signer available");return}const{ADMIN_CONTRACT:g,TOKEN_CONTRACT:x,MARKETPLACE_CONTRACT:T}=await Qt(async()=>{const{ADMIN_CONTRACT:k,TOKEN_CONTRACT:S,MARKETPLACE_CONTRACT:M}=await Promise.resolve().then(()=>Vp);return{ADMIN_CONTRACT:k,TOKEN_CONTRACT:S,MARKETPLACE_CONTRACT:M}},void 0),{CONTRACT_ABIS:I}=await Qt(async()=>{const{CONTRACT_ABIS:k}=await Promise.resolve().then(()=>od);return{CONTRACT_ABIS:k}},void 0),{ethers:C}=await Qt(async()=>{const{ethers:k}=await import("./index-DapuFVPp.js");return{ethers:k}},[]),N=new C.Contract(T,I.MARKETPLACE,t),P=new C.Contract(x,I.ERC1155CORE,t),L=await N.getAllListings(),[U,$,B,_]=L,w=[];for(let k=0;k<U.length;k++){const S=U[k].toString();try{const M=await P.getTokenInfo(S),R=await P.getTokenLifecycleStatus(S);let j="0",V="0";try{const E=await P.settlementAmount(S),z=await P.settlementTimestamp(S);j=E.gt(0)?C.utils.formatEther(E):"0",V=z.toString()}catch{console.warn(`Could not fetch settlement info for token ${S}`)}let O=`Asset #${S}`;if(M.metadataURI&&M.metadataURI.startsWith("ipfs://"))try{const E=M.metadataURI.replace("ipfs://",""),z=await fetch(`https://gateway.pinata.cloud/ipfs/${E}`);z.ok&&(O=(await z.json()).name||O)}catch{console.warn(`Could not fetch metadata for token ${S}`)}w.push({tokenId:S,issuer:M.issuer,supply:M.supply.toString(),price:C.utils.formatEther(M.price),metadataURI:M.metadataURI,lifecycle:R,settlementAmount:j,settlementTimestamp:V,assetName:O}),console.log(` Loaded token ${S}: ${O}`)}catch(M){console.warn(`Could not load details for token ${S}:`,M)}}i(w),console.log(` Loaded ${w.length} tokens for settlement management`)}catch(g){console.error("Failed to load tokens:",g),ge.error("Failed to load marketplace tokens")}finally{o(!1)}},h=async v=>{if(!l.amount){ge.error("Please enter settlement amount");return}if(!t){ge.error("Please connect your wallet");return}try{p(v);const{ADMIN_CONTRACT:g}=await Qt(async()=>{const{ADMIN_CONTRACT:P}=await Promise.resolve().then(()=>Vp);return{ADMIN_CONTRACT:P}},void 0),{CONTRACT_ABIS:x}=await Qt(async()=>{const{CONTRACT_ABIS:P}=await Promise.resolve().then(()=>od);return{CONTRACT_ABIS:P}},void 0),{ethers:T}=await Qt(async()=>{const{ethers:P}=await import("./index-DapuFVPp.js");return{ethers:P}},[]),I=new T.Contract(g,x.ADMIN,t);console.log(` Settling invoice for token ${v} with amount ${l.amount}...`);const C=await I.settleInvoice(v,T.utils.parseEther(l.amount));console.log(" Settlement transaction sent:",C.hash),ge.info("Transaction submitted. Waiting for confirmation...");const N=await C.wait();console.log(" Settlement transaction confirmed:",N.transactionHash),ge.success("Invoice settled successfully!"),await f(),u({tokenId:"",amount:""})}catch(g){console.error("Settlement failed:",g);let x="Settlement failed";g.code===4001?x="Transaction cancelled by user":g.reason?x=`Transaction failed: ${g.reason}`:g.message&&(x=g.message),ge.error(x)}finally{p(null)}},y=async v=>{if(!t){ge.error("Please connect your wallet");return}try{p(v);const{ADMIN_CONTRACT:g}=await Qt(async()=>{const{ADMIN_CONTRACT:P}=await Promise.resolve().then(()=>Vp);return{ADMIN_CONTRACT:P}},void 0),{CONTRACT_ABIS:x}=await Qt(async()=>{const{CONTRACT_ABIS:P}=await Promise.resolve().then(()=>od);return{CONTRACT_ABIS:P}},void 0),{ethers:T}=await Qt(async()=>{const{ethers:P}=await import("./index-DapuFVPp.js");return{ethers:P}},[]),I=new T.Contract(g,x.ADMIN,t);console.log(` Burning all tokens for token ID ${v}...`);const C=await I.burnAllTokens(v);console.log(" Burn transaction sent:",C.hash),ge.info("Burn transaction submitted. Waiting for confirmation...");const N=await C.wait();console.log(" Burn transaction confirmed:",N.transactionHash),ge.success("Tokens burned successfully!"),await f()}catch(g){console.error("Burn failed:",g);let x="Token burn failed";g.code===4001?x="Transaction cancelled by user":g.reason?x=`Transaction failed: ${g.reason}`:g.message&&(x=g.message),ge.error(x)}finally{p(null)}},m=v=>{switch(v){case 0:return c.jsxs(Ue,{variant:"default",className:"bg-green-500",children:[c.jsx(fm,{className:"w-3 h-3 mr-1"}),"Active"]});case 1:return c.jsxs(Ue,{variant:"secondary",className:"bg-yellow-500",children:[c.jsx(Ds,{className:"w-3 h-3 mr-1"}),"Settled"]});case 2:return c.jsxs(Ue,{variant:"destructive",children:[c.jsx(JC,{className:"w-3 h-3 mr-1"}),"Burned"]});default:return c.jsxs(Ue,{variant:"outline",children:[c.jsx(ed,{className:"w-3 h-3 mr-1"}),"Unknown"]})}},b=v=>`${v} FLOW`;return c.jsxs(me,{className:"w-full",children:[c.jsxs(yt,{children:[c.jsxs(gt,{className:"flex items-center gap-2",children:[c.jsx(Ds,{className:"w-5 h-5"}),"Invoice Settlement Panel"]}),c.jsx(Pr,{children:"Manually settle invoices and manage token lifecycle"})]}),c.jsx(ye,{children:a?c.jsx("div",{className:"flex justify-center p-4",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 bg-gray-50 rounded-lg",children:[c.jsxs("div",{children:[c.jsx(Ut,{htmlFor:"tokenId",children:"Token ID"}),c.jsx(an,{id:"tokenId",placeholder:"Enter token ID",value:l.tokenId,onChange:v=>u(g=>({...g,tokenId:v.target.value}))})]}),c.jsxs("div",{children:[c.jsx(Ut,{htmlFor:"amount",children:"Settlement Amount (FLOW)"}),c.jsx(an,{id:"amount",type:"number",placeholder:"Enter amount",value:l.amount,onChange:v=>u(g=>({...g,amount:v.target.value}))})]}),c.jsx("div",{className:"flex items-end",children:c.jsx(te,{onClick:()=>h(l.tokenId),disabled:!l.tokenId||!l.amount||d!==null,className:"w-full",children:d===l.tokenId?"Settling...":"Settle Invoice"})})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Active Tokens"}),s.length===0?c.jsx("p",{className:"text-gray-500 text-center py-4",children:"No tokens found"}):s.map(v=>c.jsx(me,{className:"border-l-4 border-l-blue-500",children:c.jsx(ye,{className:"p-4",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-medium",children:v.assetName||`Token #${v.tokenId}`}),m(v.lifecycle)]}),c.jsxs("div",{className:"text-sm text-gray-600",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Token ID:"})," ",v.tokenId]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Issuer:"})," ",v.issuer.slice(0,10),"..."]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Supply:"})," ",v.supply," tokens"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Price:"})," ",b(v.price)]}),v.settlementAmount&&v.settlementAmount!=="0"&&c.jsxs("p",{children:[c.jsx("strong",{children:"Settlement:"})," ",b(v.settlementAmount)]})]})]}),c.jsxs("div",{className:"flex gap-2",children:[v.lifecycle===0&&c.jsx(te,{size:"sm",onClick:()=>{u(g=>({...g,tokenId:v.tokenId}))},disabled:d!==null,children:"Select for Settlement"}),v.lifecycle===1&&c.jsx(te,{size:"sm",variant:"destructive",onClick:()=>y(v.tokenId),disabled:d!==null,children:d===v.tokenId?"Burning...":"Burn Tokens"})]})]})})},v.tokenId))]})]})})]})},j3e=()=>{const{signer:t,isConnected:e}=ir(),[n,r]=A.useState(null),[s,i]=A.useState([]),[a,o]=A.useState({activeTokens:0,settledTokens:0,burnedTokens:0,totalSettlementValue:"0",averageSettlementTime:0}),[l,u]=A.useState(!1),[d,p]=A.useState(null),[f,h]=A.useState(!1);A.useEffect(()=>{if(e&&t){const x=new VJ(window.ethereum);x.connect().then(()=>{r(x),y()}).catch(console.error)}},[e,t]);const y=async x=>{var T;try{if(u(!0),console.log(" Loading real token lifecycle data..."),!t){console.log("No signer available");return}const{ADMIN_CONTRACT:I,TOKEN_CONTRACT:C,MARKETPLACE_CONTRACT:N}=await Qt(async()=>{const{ADMIN_CONTRACT:E,TOKEN_CONTRACT:z,MARKETPLACE_CONTRACT:Z}=await Promise.resolve().then(()=>Vp);return{ADMIN_CONTRACT:E,TOKEN_CONTRACT:z,MARKETPLACE_CONTRACT:Z}},void 0),{CONTRACT_ABIS:P}=await Qt(async()=>{const{CONTRACT_ABIS:E}=await Promise.resolve().then(()=>od);return{CONTRACT_ABIS:E}},void 0),{ethers:L}=await Qt(async()=>{const{ethers:E}=await import("./index-DapuFVPp.js");return{ethers:E}},[]),U=new L.Contract(N,P.MARKETPLACE,t),$=new L.Contract(C,P.ERC1155CORE,t),B=await U.getAllListings(),[_,w,k,S]=B,M=[];for(let E=0;E<_.length;E++){const z=_[E].toString();try{const Z=await $.getTokenInfo(z),F=await $.getTokenLifecycleStatus(z);let H="0",K="0";try{const re=await $.settlementAmount(z),Q=await $.settlementTimestamp(z);H=re.gt(0)?L.utils.formatEther(re):"0",K=Q.toString()}catch{console.warn(`Could not fetch settlement info for token ${z}`)}let Y=0,J="0";try{Y=((T=(await U.getTokenHolders(z))[0])==null?void 0:T.length)||0,J=L.utils.formatEther(Z.price.mul(Z.supply))}catch{console.warn(`Could not fetch holder info for token ${z}`),J=L.utils.formatEther(Z.price.mul(Z.supply))}M.push({tokenId:z,issuer:Z.issuer,supply:Z.supply.toString(),price:L.utils.formatEther(Z.price),lifecycle:F,settlementAmount:H,settlementTimestamp:K,holderCount:Y,totalValueLocked:J,metadataURI:Z.metadataURI}),console.log(` Loaded lifecycle data for token ${z}`)}catch(Z){console.warn(`Could not load lifecycle data for token ${z}:`,Z)}}i(M),console.log(` Loaded ${M.length} tokens for lifecycle monitoring`);const R=M.filter(E=>E.lifecycle===0).length,j=M.filter(E=>E.lifecycle===1).length,V=M.filter(E=>E.lifecycle===2).length,O=M.filter(E=>E.settlementAmount&&parseFloat(E.settlementAmount)>0).reduce((E,z)=>E+parseFloat(z.settlementAmount),0);o({activeTokens:R,settledTokens:j,burnedTokens:V,totalSettlementValue:O.toString(),averageSettlementTime:2})}catch(I){console.error("Failed to load token lifecycle data:",I),ge.error("Failed to load token data")}finally{u(!1)}},m=x=>{switch(x){case 0:return c.jsxs(Ue,{variant:"default",className:"bg-green-500",children:[c.jsx(fm,{className:"w-3 h-3 mr-1"}),"Active"]});case 1:return c.jsxs(Ue,{variant:"secondary",className:"bg-yellow-500",children:[c.jsx(Ds,{className:"w-3 h-3 mr-1"}),"Settled"]});case 2:return c.jsxs(Ue,{variant:"destructive",children:[c.jsx(JC,{className:"w-3 h-3 mr-1"}),"Burned"]});default:return c.jsx(Ue,{variant:"outline",children:"Unknown"})}},b=x=>`${parseFloat(x).toLocaleString()} FLOW`,v=x=>new Date(parseInt(x)).toLocaleDateString(),g=x=>["Active","Settled","Burned"].slice(0,x+1);return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-5 gap-4",children:[c.jsx(me,{children:c.jsx(ye,{className:"pt-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(fm,{className:"h-4 w-4 text-green-600"}),c.jsxs("div",{className:"ml-2",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Tokens"}),c.jsx("p",{className:"text-2xl font-bold text-green-600",children:a.activeTokens})]})]})})}),c.jsx(me,{children:c.jsx(ye,{className:"pt-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Ds,{className:"h-4 w-4 text-yellow-600"}),c.jsxs("div",{className:"ml-2",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Settled"}),c.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:a.settledTokens})]})]})})}),c.jsx(me,{children:c.jsx(ye,{className:"pt-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(JC,{className:"h-4 w-4 text-red-600"}),c.jsxs("div",{className:"ml-2",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Burned"}),c.jsx("p",{className:"text-2xl font-bold text-red-600",children:a.burnedTokens})]})]})})}),c.jsx(me,{children:c.jsx(ye,{className:"pt-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Ui,{className:"h-4 w-4 text-blue-600"}),c.jsxs("div",{className:"ml-2",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Settled"}),c.jsx("p",{className:"text-lg font-bold text-blue-600",children:b(a.totalSettlementValue)})]})]})})}),c.jsx(me,{children:c.jsx(ye,{className:"pt-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Rs,{className:"h-4 w-4 text-purple-600"}),c.jsxs("div",{className:"ml-2",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Settlement"}),c.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[a.averageSettlementTime,"d"]})]})]})})})]}),c.jsxs(me,{children:[c.jsxs(yt,{children:[c.jsxs(gt,{className:"flex items-center gap-2",children:[c.jsx(up,{className:"w-5 h-5"}),"Token Lifecycle Monitor"]}),c.jsx(Pr,{children:"Track the complete lifecycle of all tokens from active to settlement to burning"})]}),c.jsx(ye,{children:l?c.jsx("div",{className:"flex justify-center p-8",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):c.jsx("div",{className:"space-y-4",children:s.length===0?c.jsx("p",{className:"text-gray-500 text-center py-8",children:"No tokens found"}):s.map(x=>c.jsx(me,{className:"border-l-4 border-l-blue-500",children:c.jsx(ye,{className:"p-6",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("span",{className:"font-bold text-lg",children:["Token #",x.tokenId]}),m(x.lifecycle)]}),c.jsx("div",{className:"flex items-center gap-2",children:g(x.lifecycle).map((T,I)=>c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${I<=x.lifecycle?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:T}),I<2&&c.jsx("div",{className:`w-4 h-0.5 ${I<x.lifecycle?"bg-green-500":"bg-gray-300"}`})]},T))}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Issuer"}),c.jsxs("p",{className:"font-medium",children:[x.issuer.slice(0,10),"..."]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Supply"}),c.jsxs("p",{className:"font-medium",children:[x.supply," tokens"]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Price"}),c.jsx("p",{className:"font-medium",children:b(x.price)})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Holders"}),c.jsxs("p",{className:"font-medium flex items-center gap-1",children:[c.jsx(lS,{className:"w-3 h-3"}),x.holderCount]})]})]}),x.settlementAmount&&c.jsx("div",{className:"bg-yellow-50 p-3 rounded-lg",children:c.jsxs("p",{className:"text-sm",children:[c.jsx("strong",{children:"Settlement:"})," ",b(x.settlementAmount),x.settlementTimestamp&&c.jsxs("span",{className:"ml-2 text-gray-600",children:["on ",v(x.settlementTimestamp)]})]})})]}),c.jsx("div",{className:"flex gap-2",children:c.jsxs(te,{size:"sm",variant:"outline",onClick:()=>{p(x),h(!0)},children:[c.jsx(Io,{className:"w-4 h-4 mr-1"}),"Details"]})})]})})},x.tokenId))})})]}),d&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs(me,{className:"w-full max-w-2xl max-h-[80vh] overflow-auto",children:[c.jsxs(yt,{children:[c.jsxs(gt,{children:["Token #",d.tokenId," Details"]}),c.jsx(Pr,{children:"Complete lifecycle information"})]}),c.jsxs(ye,{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Token ID"}),c.jsx("p",{className:"font-medium",children:d.tokenId})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Status"}),m(d.lifecycle)]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Issuer"}),c.jsx("p",{className:"font-medium font-mono text-xs",children:d.issuer})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Total Supply"}),c.jsxs("p",{className:"font-medium",children:[d.supply," tokens"]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Price per Token"}),c.jsx("p",{className:"font-medium",children:b(d.price)})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Current Holders"}),c.jsx("p",{className:"font-medium",children:d.holderCount})]})]}),d.settlementAmount&&c.jsxs("div",{className:"border-t pt-4",children:[c.jsx("h4",{className:"font-medium mb-2",children:"Settlement Information"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Settlement Amount"}),c.jsx("p",{className:"font-medium",children:b(d.settlementAmount)})]}),d.settlementTimestamp&&c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Settlement Date"}),c.jsx("p",{className:"font-medium",children:v(d.settlementTimestamp)})]})]})]}),c.jsx("div",{className:"flex justify-end gap-2 pt-4",children:c.jsx(te,{variant:"outline",onClick:()=>h(!1),children:"Close"})})]})]})})]})},_3e=()=>{const{address:t,isConnected:e,connectWallet:n,signer:r}=ir(),[s,i]=A.useState(!1),[a,o]=A.useState("overview"),[l,u]=A.useState([]),[d,p]=A.useState([]),[f,h]=A.useState(null),[y,m]=A.useState(null),[b,v]=A.useState(!1),[g,x]=A.useState({addresses:[],count:0,metadata:{}}),[T,I]=A.useState({addresses:[],count:0,metadata:{}}),[C,N]=A.useState(!1),[P,L]=A.useState({totalIssuers:0,totalManagers:0,activeTokens:0,totalVolume:0,marketplaceStatus:!0,platformFees:0}),[U,$]=A.useState([]),[B,_]=A.useState([]),[w,k]=A.useState(!1),[S,M]=A.useState(!1),[R,j]=A.useState(!1),[V,O]=A.useState(!1),[E,z]=A.useState(!1),[Z,F]=A.useState(!1),[H,K]=A.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",walletAddress:"",role:"issuer",metadataURI:""}),[Y,J]=A.useState(null),[re,Q]=A.useState(!1),[ee,We]=A.useState({tokenId:"",managerAddress:"",selectedAsset:null});A.useEffect(()=>{e&&r&&oe()},[e,r]),A.useEffect(()=>{f&&be()},[f]);const oe=async()=>{try{if(!e||!r){console.log(" Wallet not connected");return}console.log(" Initializing admin contract..."),console.log("Contract address:",or),console.log("Network:",Wn),console.log("RPC URL:",$r[Wn].rpcUrl);const X=await r.provider.getNetwork();if(console.log("Connected to network:",X.name,"Chain ID:",X.chainId),console.log("Expected Chain ID:",$r[Wn].chainId),X.chainId!==$r[Wn].chainId){console.error(" Wrong network! Expected Chain ID:",$r[Wn].chainId,"Got:",X.chainId),ge.error(`Please switch to ${$r[Wn].name} (Chain ID: ${$r[Wn].chainId})`);return}const ke=new nt(or,Wi.ADMIN,r);try{if(await r.provider.getCode(or)==="0x"){console.error(" No Admin contract found at address:",or),ge.error("Admin contract not found at the specified address");return}console.log(" Admin contract verified at address:",or);try{const Ee=await ke.getIssuerCount();console.log(" Admin contract is responsive, issuer count:",Ee.toString())}catch(Ee){console.log(" Admin contract found but function call failed:",Ee.message)}}catch(ve){console.error(" Error verifying contracts:",ve),ge.error("Failed to verify contracts");return}h(ke);try{const ve=new N3e;await ve.initialize(r.provider,LJ),m(ve),console.log(" TokenManagement service initialized successfully")}catch(ve){console.error(" Failed to initialize TokenManagement service:",ve),ge.error("Failed to initialize token management service")}console.log(" Admin contracts initialized successfully")}catch(X){console.error(" Error initializing contract:",X),console.log("Contract initialization failed, page will still load with limited functionality")}},be=async()=>{if(!f){console.log(" Admin contract not initialized");return}Q(!0);try{console.log(" Loading contract data from blockchain..."),console.log("Admin contract address:",f.address),console.log("Signer address:",await f.signer.getAddress());const X=await f.provider.getNetwork();console.log("Connected to network:",X.name,"Chain ID:",X.chainId);let ke,ve;try{console.log(" Calling getAllIssuers from Admin contract..."),ke=await f.getAllIssuers(),console.log(" getAllIssuers result:",ke)}catch(we){console.error(" getAllIssuers failed:",we),ke=[]}try{console.log(" Calling getAllManagers from Admin contract..."),ve=await f.getAllManagers(),console.log(" getAllManagers result:",ve)}catch(we){console.error(" getAllManagers failed:",we),ve=[]}console.log(" Contract Data Received:"),console.log("Issuers:",ke),console.log("Managers:",ve);const Ee=ke||[],De=[];console.log(" Fetching IPFS metadata for issuers...");for(let we=0;we<Ee.length;we++){const Ye=Ee[we];try{const Te=await f.issuerMetadata(Ye);if(console.log(` Metadata URI for ${Ye}:`,Te),Te&&Te!==""){const Re=await hx(Te);console.log(` Metadata for ${Ye}:`,Re),Re?De.push({id:Ye,address:Ye,name:Re.name||`Issuer ${we+1}`,email:Re.email||`issuer${we+1}@example.com`,role:"issuer",status:"active",metadataURI:Te,joinedDate:Re.joinedDate||"2024-01-01",lastActive:"2024-12-28",tokensManaged:Re.tokensManaged||0,totalVolume:Re.totalVolume||0}):De.push({id:Ye,address:Ye,name:`Issuer ${we+1}`,email:`issuer${we+1}@example.com`,role:"issuer",status:"active",metadataURI:Te,joinedDate:"2024-01-01",lastActive:"2024-12-28",tokensManaged:0,totalVolume:0})}else De.push({id:Ye,address:Ye,name:`Issuer ${we+1}`,email:`issuer${we+1}@example.com`,role:"issuer",status:"active",metadataURI:"",joinedDate:"2024-01-01",lastActive:"2024-12-28",tokensManaged:0,totalVolume:0})}catch(Te){console.error(` Error fetching metadata for issuer ${Ye}:`,Te),De.push({id:Ye,address:Ye,name:`Issuer ${we+1}`,email:`issuer${we+1}@example.com`,role:"issuer",status:"active",metadataURI:"",joinedDate:"2024-01-01",lastActive:"2024-12-28",tokensManaged:0,totalVolume:0})}}const Me=ve||[],ct=[];console.log(" Fetching IPFS metadata for managers...");for(let we=0;we<Me.length;we++){const Ye=Me[we];try{const Te=await f.managerMetadata(Ye);console.log(` Manager metadata URI for ${Ye}:`,Te);let Re=[];try{Re=(await f.getManagerTokens(Ye)).map(Ve=>Ve.toString()),console.log(` Manager ${Ye} assigned tokens:`,Re)}catch(ze){console.error(` Failed to fetch assigned tokens for manager ${Ye}:`,ze)}if(Te&&Te!==""){const ze=await hx(Te);console.log(` Manager metadata for ${Ye}:`,ze),ze?ct.push({id:Ye,address:Ye,name:ze.name||`Manager ${we+1}`,email:ze.email||`manager${we+1}@example.com`,role:"manager",status:"active",metadataURI:Te,joinedDate:ze.joinedDate||"2024-01-01",lastActive:"2024-12-28",tokensManaged:Re.length,totalVolume:ze.totalVolume||0,assignedTokens:Re}):ct.push({id:Ye,address:Ye,name:`Manager ${we+1}`,email:`manager${we+1}@example.com`,role:"manager",status:"active",metadataURI:Te,joinedDate:"2024-01-01",lastActive:"2024-12-28",tokensManaged:Re.length,totalVolume:0,assignedTokens:Re})}else ct.push({id:Ye,address:Ye,name:`Manager ${we+1}`,email:`manager${we+1}@example.com`,role:"manager",status:"active",metadataURI:"",joinedDate:"2024-01-01",lastActive:"2024-12-28",tokensManaged:Re.length,totalVolume:0,assignedTokens:Re})}catch(Te){console.error(` Error fetching metadata for manager ${Ye}:`,Te);let Re=[];try{Re=(await f.getManagerTokens(Ye)).map(Ve=>Ve.toString())}catch(ze){console.error(` Failed to fetch assigned tokens for manager ${Ye}:`,ze)}ct.push({id:Ye,address:Ye,name:`Manager ${we+1}`,email:`manager${we+1}@example.com`,role:"manager",status:"active",metadataURI:"",joinedDate:"2024-01-01",lastActive:"2024-12-28",tokensManaged:Re.length,totalVolume:0,assignedTokens:Re})}}const Pt={addresses:Ee,count:Ee.length,metadata:{}},it={addresses:Me,count:Me.length,metadata:{}};x(Pt),I(it),v(!1),u(De),p(ct),L({totalIssuers:Pt.count,totalManagers:it.count,activeTokens:0,totalVolume:0,marketplaceStatus:!0,platformFees:0}),console.log(" Contract data loaded successfully"),console.log(` Active Issuers: ${Pt.count}`),console.log(` Property Managers: ${it.count}`)}catch(X){console.error(" Failed to load contract data:",X),console.log(" Loading fallback mock data...");const ke={addresses:["0x742D35Cc6635Cf532793FAa14d4A6ce8D8c5D93e"],count:1,metadata:{}},ve={addresses:["0x3456789012345678901234567890123456789012"],count:1,metadata:{}};x(ke),I(ve),v(!1);const Ee=[{id:"0x742D35Cc6635Cf532793FAa14d4A6ce8D8c5D93e",address:"0x742D35Cc6635Cf532793FAa14d4A6ce8D8c5D93e",name:"Mock Issuer",email:"issuer@example.com",role:"issuer",status:"active",metadataURI:"",joinedDate:"2024-01-01",lastActive:"2024-12-28",tokensManaged:0,totalVolume:0}],De=[{id:"0x3456789012345678901234567890123456789012",address:"0x3456789012345678901234567890123456789012",name:"Mock Manager",email:"manager@example.com",role:"manager",status:"active",metadataURI:"",joinedDate:"2024-01-01",lastActive:"2024-12-28",tokensManaged:0,totalVolume:0,assignedTokens:[]}];u(Ee),p(De),L({totalIssuers:1,totalManagers:1,activeTokens:0,totalVolume:0,marketplaceStatus:!0,platformFees:0})}finally{Q(!1)}},ft=async()=>{if(!f||!r){console.log(" Contracts not initialized for marketplace asset fetching");return}k(!0);try{console.log(" Loading marketplace assets for assignment...");const X=new nt(us,Wi.MARKETPLACE,r),ke=new nt(Na,Wi.ERC1155CORE,r),ve=await X.getAllListings();console.log(" Raw marketplace listings:",ve);let Ee,De,Me,ct;if(Array.isArray(ve)&&ve.length===4)[Ee,De,Me,ct]=ve;else{console.warn(" Unexpected marketplace response format"),_([]);return}if(console.log(" Marketplace data:",{tokenIds:Ee,issuers:De,amounts:Me,prices:ct}),!Ee||Ee.length===0){console.log(" No assets found on marketplace"),_([]);return}const Pt=[];for(let it=0;it<Ee.length;it++)try{const we=Ee[it].toString(),Ye=De[it],Te=Me[it].toString(),Re=_e(ct[it]);try{if(await ke.getTokenLifecycleStatus(we)===2){console.log(` Skipping burned token ${we} in admin dashboard`);continue}}catch{console.warn(` Could not check lifecycle for token ${we}, including in admin dashboard`)}console.log(` Fetching metadata for token ${we}...`);let ze="";try{ze=await ke.uri(we),console.log(` Metadata URI for token ${we}:`,ze)}catch(mr){console.warn(` Failed to get metadata URI for token ${we}:`,mr)}let Ve=null;if(ze)try{Ve=await hx(ze),console.log(` Metadata for token ${we}:`,Ve)}catch(mr){console.warn(` Failed to fetch IPFS metadata for token ${we}:`,mr)}const wt={tokenId:we,name:(Ve==null?void 0:Ve.name)||`Asset #${we}`,description:(Ve==null?void 0:Ve.description)||"No description available",price:Re,issuer:Ye,amount:Te,metadataURI:ze,imageUrl:(Ve==null?void 0:Ve.image)||(Ve==null?void 0:Ve.imageUrl),type:(Ve==null?void 0:Ve.type)||(Ve==null?void 0:Ve.assetType)||"Unknown",location:(Ve==null?void 0:Ve.location)||"Unknown location"};Pt.push(wt),console.log(` Processed asset ${we}:`,wt)}catch(we){console.error(` Error processing asset at index ${it}:`,we)}console.log(` Loaded ${Pt.length} marketplace assets`),_(Pt)}catch(X){console.error(" Failed to load marketplace assets:",X),ge.error("Failed to load marketplace assets"),_([])}finally{k(!1)}},Ie=async()=>{if(!f){ge.error("Admin contract not initialized");return}if(console.log(` Creating new ${H.role} account:`,H),!H.firstName||!H.lastName||!H.email||!H.password||!H.walletAddress){ge.error("Please fill all required fields");return}if(H.password!==H.confirmPassword){ge.error("Passwords do not match");return}if(H.password.length<6){ge.error("Password must be at least 6 characters long");return}if(H.firstName.trim().length<2){ge.error("First name must be at least 2 characters long");return}if(H.lastName.trim().length<2){ge.error("Last name must be at least 2 characters long");return}if(H.firstName.trim().length>50){ge.error("First name cannot exceed 50 characters");return}if(H.lastName.trim().length>50){ge.error("Last name cannot exceed 50 characters");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(H.email)){ge.error("Please provide a valid email address");return}try{const ke=Ac(H.walletAddress);console.log(" Valid wallet address:",ke)}catch{ge.error("Invalid wallet address format or checksum");return}if(Q(!0),console.log(" Contract Configuration Check:"),console.log("ADMIN_CONTRACT:",or),console.log("Signer available:",!!r),console.log("Network:",Wn),!or){console.error(" ADMIN_CONTRACT not configured"),ge.error("UserRegistry contract address not configured"),Q(!1);return}try{console.log(" Step 1: Registering user in backend...");const ke={firstName:H.firstName,lastName:H.lastName,email:H.email,password:H.password,confirmPassword:H.confirmPassword,walletAddress:H.walletAddress,role:H.role};try{console.log(" Sending registration data:",ke);const ve=await I3e(ke);console.log(" User registered in backend successfully:",ve),ge.success("User registered in backend")}catch(ve){console.error(" Backend registration failed:",ve),console.error(" Registration data that failed:",ke);let Ee="Failed to register user in backend";ve&&typeof ve=="object"&&ve.message&&(Ee=ve.message),ge.error(`Backend registration failed: ${Ee}`),Q(!1);return}if(H.role==="issuer"){console.log(" Step 2: Uploading issuer metadata to IPFS...");const ve={name:`${H.firstName} ${H.lastName}`,email:H.email,walletAddress:H.walletAddress,role:"issuer",joinedDate:new Date().toISOString().split("T")[0],createdBy:"admin",type:"issuer-profile"};let Ee;try{Ee=await L8(ve),console.log(" Metadata uploaded to IPFS:",Ee),ge.success("Metadata uploaded to IPFS")}catch(De){console.error(" IPFS upload failed:",De),ge.error("Failed to upload metadata to IPFS"),Q(!1);return}console.log(" Step 3: Adding issuer to smart contract...");try{if(!r)throw new Error("Wallet not connected");const De=await r.provider.getNetwork();console.log(" Current network:",De.name,"Chain ID:",De.chainId);const Me=$r[Wn].chainId;if(console.log(" Expected Chain ID:",Me),De.chainId!==Me)throw new Error(`Wrong network. Please switch to ${Wn} (Chain ID: ${Me})`);if(!or)throw new Error("UserRegistry contract address not configured");console.log(" Creating UserRegistry contract instance..."),console.log("Contract Address:",or),console.log("Signer Address:",await r.getAddress());const ct=new nt(or,Wi.ADMIN,r);if(await r.provider.getCode(or)==="0x")throw new Error(`No contract found at address: ${or}`);const it=`ipfs://${Ee}`,we=Ac(H.walletAddress);try{const ze=await ct.owner(),Ve=await r.getAddress();if(console.log(" Contract responsive. Owner:",ze),console.log("Current Admin Address:",Ve),ze.toLowerCase()!==Ve.toLowerCase())throw new Error(`Access denied: Only contract owner can add issuers. Owner: ${ze}, Current: ${Ve}`);if(await ct.isIssuer(we))throw new Error("Address is already registered as an issuer");console.log(" Address validation passed, proceeding with addIssuer...")}catch(ze){throw console.error(" Pre-validation failed:",ze),new Error(`Contract validation failed: ${ze.message}`)}console.log(" Calling addIssuer function on UserRegistry..."),console.log("UserRegistry Address:",or),console.log("Address:",we),console.log("Metadata URI:",it);const Ye=await ct.addIssuer(we,it);console.log(" Transaction sent:",Ye.hash),ge.success(`Transaction sent: ${Ye.hash.slice(0,10)}...`),console.log(" Waiting for transaction confirmation...");const Te=await Ye.wait();console.log(" Transaction confirmed:",Te.transactionHash),ge.success("Issuer added to blockchain successfully!");const Re={id:we,address:we,name:`${H.firstName} ${H.lastName}`,email:H.email,role:"issuer",status:"active",metadataURI:it,joinedDate:new Date().toISOString().split("T")[0],lastActive:new Date().toISOString().split("T")[0],tokensManaged:0,totalVolume:0};u(ze=>[...ze,Re]),L(ze=>({...ze,totalIssuers:ze.totalIssuers+1}))}catch(De){console.error(" Smart contract call failed:",De),De.reason?(console.error("Contract Error Reason:",De.reason),ge.error(`Smart contract error: ${De.reason}`)):De.message?(console.error("Contract Error Message:",De.message),ge.error(`Failed to add issuer: ${De.message}`)):(console.error("Unknown contract error:",De),ge.error("Failed to add issuer to smart contract")),Q(!1);return}}else if(H.role==="manager"){console.log(" Step 2: Uploading manager metadata to IPFS...");const ve={name:`${H.firstName} ${H.lastName}`,email:H.email,walletAddress:H.walletAddress,role:"manager",joinedDate:new Date().toISOString().split("T")[0],createdBy:"admin",type:"manager-profile",tokensManaged:0,totalVolume:0,assignedTokens:[]};let Ee;try{Ee=await L8(ve),console.log(" Manager metadata uploaded to IPFS:",Ee),ge.success("Manager metadata uploaded to IPFS")}catch(De){console.error(" IPFS upload failed:",De),ge.error("Failed to upload manager metadata to IPFS"),Q(!1);return}console.log(" Step 3: Adding manager to smart contract...");try{if(!r)throw new Error("Wallet not connected");const De=await r.provider.getNetwork();console.log(" Current network:",De.name,"Chain ID:",De.chainId);const Me=$r[Wn].chainId;if(console.log(" Expected Chain ID:",Me),De.chainId!==Me)throw new Error(`Wrong network. Please switch to ${Wn} (Chain ID: ${Me})`);if(!or)throw new Error("UserRegistry contract address not configured");console.log(" Creating UserRegistry contract instance..."),console.log("Contract Address:",or),console.log("Signer Address:",await r.getAddress());const ct=new nt(or,Wi.ADMIN,r);if(await r.provider.getCode(or)==="0x")throw new Error(`No contract found at address: ${or}`);const it=`ipfs://${Ee}`,we=Ac(H.walletAddress);console.log(" Calling addManager function on UserRegistry..."),console.log("UserRegistry Address:",or),console.log("Address:",we),console.log("Metadata URI:",it);const Ye=await ct.addManager(we,it);console.log(" Transaction sent:",Ye.hash),ge.success(`Transaction sent: ${Ye.hash.slice(0,10)}...`),console.log(" Waiting for transaction confirmation...");const Te=await Ye.wait();console.log(" Transaction confirmed:",Te.transactionHash),ge.success("Manager added to blockchain successfully!");const Re={id:we,address:we,name:`${H.firstName} ${H.lastName}`,email:H.email,role:"manager",status:"active",metadataURI:it,joinedDate:new Date().toISOString().split("T")[0],lastActive:new Date().toISOString().split("T")[0],tokensManaged:0,totalVolume:0,assignedTokens:[]};p(ze=>[...ze,Re]),L(ze=>({...ze,totalManagers:ze.totalManagers+1}))}catch(De){console.error(" Smart contract call failed:",De),De.reason?(console.error("Contract Error Reason:",De.reason),ge.error(`Smart contract error: ${De.reason}`)):De.message?(console.error("Contract Error Message:",De.message),ge.error(`Failed to add manager: ${De.message}`)):(console.error("Unknown contract error:",De),ge.error("Failed to add manager to smart contract")),Q(!1);return}}else ge.success(`${H.role} account created in backend`);M(!1),K({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",walletAddress:"",role:"issuer",metadataURI:""}),console.log(" User creation process completed successfully")}catch(ke){console.error(" Error in user creation process:",ke),ge.error(`Failed to create user: ${ke.message}`)}finally{Q(!1)}},Ne=async()=>{if(Y){if(!r){ge.error("Please connect your wallet");return}Q(!0);try{console.log(" Removing user from contract:",Y);const X=new nt(or,Wi.ADMIN,r);let ke;if(Y.role==="issuer")console.log(" Calling removeIssuer on UserRegistry..."),ke=await X.removeIssuer(Y.address);else if(Y.role==="manager")console.log(" Calling removeManager on UserRegistry..."),ke=await X.removeManager(Y.address);else throw new Error("Invalid user role");console.log(" Transaction sent:",ke.hash),ge.loading("Transaction submitted. Waiting for confirmation...");const ve=await ke.wait();console.log(" Transaction confirmed:",ve),await be(),ge.success(`${Y.role==="issuer"?"Issuer":"Manager"} removed successfully!`),O(!1),J(null)}catch(X){console.error("Error removing user:",X),X.code==="ACTION_REJECTED"?ge.error("Transaction was rejected by user"):X.reason?ge.error(`Contract error: ${X.reason}`):X.message.includes("revert")?ge.error("Transaction reverted. Check if you have admin permissions and the user exists."):X.message.includes("Not an issuer")?ge.error("This address is not registered as an issuer"):X.message.includes("Not a manager")?ge.error("This address is not registered as a manager"):ge.error(`Failed to remove user: ${X.message}`)}finally{Q(!1)}}},tt=async()=>{if(!f){ge.error("Admin contract not initialized");return}Q(!0);try{console.log(" Toggling marketplace status on blockchain..."),console.log("Current marketplace paused status:",b);const X=await f.pauseMarketplace();console.log(" Transaction sent:",X.hash),ge.success(`Transaction sent: ${X.hash.slice(0,10)}...`),console.log(" Waiting for transaction confirmation...");const ke=await X.wait();console.log(" Transaction confirmed:",ke.transactionHash);const ve=await f.marketplacePaused();console.log(" New marketplace status from contract:",ve),v(ve),L(De=>({...De,marketplaceStatus:!ve}));const Ee=ve?"paused":"resumed";ge.success(`Marketplace ${Ee} successfully on blockchain!`),console.log(` Marketplace ${Ee} successfully`),z(!1)}catch(X){console.error(" Error toggling marketplace on blockchain:",X),X.code===4001?ge.error("Transaction rejected by user"):X.code==="UNPREDICTABLE_GAS_LIMIT"?ge.error("Gas estimation failed - check contract state"):ge.error(`Failed to toggle marketplace: ${X.message}`)}finally{Q(!1)}},je=()=>{z(!0)},Ct=async()=>{if(!ee.selectedAsset){ge.error("Please select an asset to assign");return}if(!ee.managerAddress){ge.error("Manager address is required");return}if(!r){ge.error("Please connect your wallet");return}Q(!0);try{console.log(" Assigning token to manager...",ee);const X=new nt(or,Wi.ADMIN,r),ke=parseInt(ee.selectedAsset.tokenId),ve=await X.assignManager(ee.managerAddress,ke);console.log(" Transaction sent:",ve.hash),ge.loading("Transaction submitted. Waiting for confirmation...");const Ee=await ve.wait();console.log(" Transaction confirmed:",Ee),ge.success("Token assigned to manager successfully!"),await be(),F(!1),We({tokenId:"",managerAddress:"",selectedAsset:null})}catch(X){console.error("Error assigning token:",X),X.code==="ACTION_REJECTED"?ge.error("Transaction was rejected by user"):X.reason?ge.error(`Contract error: ${X.reason}`):X.message.includes("revert")?ge.error("Transaction reverted. Check if you have admin permissions and the manager exists."):ge.error(`Failed to assign token: ${X.message}`)}finally{Q(!1)}},Ar=X=>{We({tokenId:"",managerAddress:X.address,selectedAsset:null}),F(!0),ft()},st=async()=>{Q(!0);try{if(console.log(" Fetching pending assets from TokenManagement contract..."),!y)throw new Error("AdminTokenManagementService not initialized");const X=await y.getFormattedPendingAssets();console.log(" Fetched assets from TokenManagement:",X),$(X),ge.success(`Found ${X.length} pending requests`)}catch(X){console.error(" Error fetching assets from contract:",X),ge.error("Failed to fetch pending requests: "+X.message)}finally{Q(!1)}},Nt=async()=>{try{console.log(" Fetching pending assets from TokenManagement contract and localStorage...");const X=JSON.parse(localStorage.getItem("pendingAssets")||"[]");console.log(" Assets from localStorage:",X.length);let ke=[...X];if(f)try{const ve=await f.getAllAssets();console.log(" All asset IDs from contract:",ve);for(const Ee of ve)try{const De=await f.isAssetActive(Ee),Me=await f.getAssetInfo(Ee);De||ke.some(Pt=>Pt.assetId===Ee)||ke.push({assetId:Ee,name:Me.ipfsMetadataCID?`Asset ${Ee.slice(0,8)}...`:"Unknown Asset",description:"Asset awaiting approval",status:"Pending",createdAt:new Date(Me.registrationTimestamp*1e3),metadataURI:Me.ipfsMetadataCID||""})}catch(De){console.warn(`Failed to fetch info for asset ${Ee}:`,De)}}catch(ve){console.warn(" Failed to fetch from AssetRegistry contract:",ve)}else console.warn(" Admin contract not initialized, using localStorage only");$(ke),console.log(" Total pending assets loaded:",ke.length),console.log(" Pending assets:",ke)}catch(X){console.error(" Error fetching pending assets:",X),ge.error("Failed to load pending assets"),$([])}},Dn=async(X,ke)=>{var ve,Ee,De;try{if(console.log(` ${ke?"Approving":"Rejecting"} token request ${X}...`),!y)throw new Error("TokenManagement service not initialized");if(ke){console.log(" Calling TokenManagement.approveTokenRequest...");const Me=await y.approveTokenRequest(X);console.log(" Approval result:",Me),ge.success(`Token request approved! Transaction: ${Me.txHash.slice(0,10)}...`),ge.success("Issuer can now deploy their token from the issuer dashboard")}else{console.log(" Calling TokenManagement.rejectTokenRequest...");const ct=await y.rejectTokenRequest(X,"Rejected by admin");console.log(" Rejection result:",ct),ge.success(`Token request rejected! Transaction: ${ct.txHash.slice(0,10)}...`)}console.log(" Refreshing pending assets from contract..."),await st(),console.log(` Token request ${ke?"approved":"rejected"} successfully on blockchain!`)}catch(Me){console.error(` Error ${ke?"approving":"rejecting"} token request:`,Me),Me.code===4001?ge.error("Transaction rejected by user"):(ve=Me.message)!=null&&ve.includes("TokenManagement service not initialized")?ge.error("Admin service not ready. Please refresh the page."):(Ee=Me.message)!=null&&Ee.includes("Request does not exist")?ge.error("Token request not found in contract"):(De=Me.message)!=null&&De.includes("Request not pending")?ge.error("Token request is no longer pending"):ge.error(`Failed to ${ke?"approve":"reject"} token request: ${Me.message}`)}},zt=async X=>{var ke,ve;try{console.log(" Fetching asset metadata:",X);const Ee=await hx(X),De={name:Ee.name||"Unknown",description:Ee.description||"No description",assetType:((ve=(ke=Ee.attributes)==null?void 0:ke.find(ct=>ct.trait_type==="Asset Type"))==null?void 0:ve.value)||"Unknown",intendedMintAmount:Ee.intendedMintAmount||"Not specified",assetDetails:Ee.assetDetails||{}},Me=[`Name: ${De.name}`,`Description: ${De.description}`,`Asset Type: ${De.assetType}`,`Intended Mint Amount: ${De.intendedMintAmount}`,"","Asset Details:",...Object.entries(De.assetDetails).map(([ct,Pt])=>`  ${ct}: ${Pt}`)].join(`
`);alert(`Asset Metadata:

${Me}`)}catch(Ee){console.error(" Error fetching metadata:",Ee),ge.error("Failed to load asset metadata")}};return A.useEffect(()=>{(f||y)&&a==="approvals"&&Nt()},[f,y,a]),c.jsxs("div",{className:`min-h-screen ${s?"bg-slate-900":"bg-slate-50"}`,children:[c.jsx("header",{className:`${s?"bg-slate-800/95 backdrop-blur-md border-slate-700/50":"bg-white/95 backdrop-blur-md border-slate-200/60"} border-b sticky top-0 z-50 shadow-sm`,children:c.jsx("div",{className:"max-w-7xl mx-auto px-6 lg:px-8",children:c.jsxs("div",{className:"flex justify-between items-center h-16",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"w-9 h-9 bg-slate-800 rounded-lg flex items-center justify-center shadow-md",children:c.jsx(Sa,{className:"w-5 h-5 text-white"})}),c.jsxs("div",{children:[c.jsx("h1",{className:`text-lg font-semibold tracking-tight ${s?"text-white":"text-slate-900"}`,children:"Administration Console"}),c.jsx("p",{className:`text-sm ${s?"text-slate-400":"text-slate-600"}`,children:"Platform Management & Control"})]})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsxs("div",{className:`flex items-center space-x-2 px-3 py-1.5 rounded-md text-xs font-medium ${b?"bg-red-50 text-red-700 border border-red-200":"bg-emerald-50 text-emerald-700 border border-emerald-200"} ${s&&(b?"bg-red-900/20 text-red-400 border-red-800/30":"bg-emerald-900/20 text-emerald-400 border-emerald-800/30")}`,children:[c.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${b?"bg-red-500":"bg-emerald-500"}`}),c.jsx("span",{children:b?"Trading Suspended":"System Operational"})]}),c.jsxs("div",{className:`flex items-center space-x-2 px-3 py-1.5 rounded-md text-xs font-medium ${e?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"} ${s&&(e?"bg-green-900/20 text-green-400 border-green-800/30":"bg-red-900/20 text-red-400 border-red-800/30")}`,children:[c.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${e?"bg-green-500":"bg-red-500"}`}),c.jsx("span",{children:e?"Wallet Connected":"Wallet Disconnected"})]}),!e&&c.jsx(te,{onClick:n,size:"sm",className:"bg-slate-900 hover:bg-slate-800 text-white px-3 py-1.5 text-xs",children:"Connect Wallet"}),c.jsx(te,{variant:"ghost",size:"sm",onClick:()=>i(!s),className:`${s?"text-slate-400 hover:text-white hover:bg-slate-700":"text-slate-600 hover:text-slate-900 hover:bg-slate-100"} h-8 w-8 p-0`,children:s?c.jsx(Nse,{className:"w-4 h-4"}):c.jsx(Ase,{className:"w-4 h-4"})}),c.jsx(te,{variant:"ghost",size:"sm",className:`${s?"text-slate-400 hover:text-white hover:bg-slate-700":"text-slate-600 hover:text-slate-900 hover:bg-slate-100"} h-8 w-8 p-0`,children:c.jsx(qC,{className:"w-4 h-4"})}),c.jsx(te,{asChild:!0,variant:"ghost",size:"sm",className:`${s?"text-slate-400 hover:text-white hover:bg-slate-700":"text-slate-600 hover:text-slate-900 hover:bg-slate-100"}`,children:c.jsxs(J3,{to:"/marketplace",className:"flex items-center space-x-2 px-3 py-1.5",children:[c.jsx(Rs,{className:"w-4 h-4"}),c.jsx("span",{className:"text-sm",children:"Marketplace"})]})}),c.jsx(te,{asChild:!0,variant:"ghost",size:"sm",className:`${s?"text-slate-400 hover:text-white hover:bg-slate-700":"text-slate-600 hover:text-slate-900 hover:bg-slate-100"}`,children:c.jsxs(J3,{to:"/",className:"flex items-center space-x-2 px-3 py-1.5",children:[c.jsx(u0,{className:"w-4 h-4"}),c.jsx("span",{className:"text-sm",children:"Home"})]})}),c.jsx("div",{className:"w-px h-6 bg-slate-300 dark:bg-slate-600"}),c.jsx(Bg,{className:"h-8 w-8 border border-slate-200 dark:border-slate-700",children:c.jsx(Ug,{className:"text-xs bg-slate-100 dark:bg-slate-800",children:"AD"})})]})]})})}),c.jsx("main",{className:"max-w-7xl mx-auto px-6 lg:px-8 py-8",children:c.jsxs(ef,{value:a,onValueChange:o,className:"space-y-8",children:[c.jsxs(vd,{className:`inline-flex h-10 items-center justify-center rounded-lg p-1 ${s?"bg-slate-800 text-slate-400":"bg-slate-100 text-slate-600"}`,children:[c.jsx(Mr,{value:"overview",className:"data-[state=active]:bg-white data-[state=active]:text-slate-900 data-[state=active]:shadow-sm dark:data-[state=active]:bg-slate-700 dark:data-[state=active]:text-white",children:"Overview"}),c.jsx(Mr,{value:"issuers",className:"data-[state=active]:bg-white data-[state=active]:text-slate-900 data-[state=active]:shadow-sm dark:data-[state=active]:bg-slate-700 dark:data-[state=active]:text-white",children:"Issuers"}),c.jsx(Mr,{value:"approvals",className:"data-[state=active]:bg-white data-[state=active]:text-slate-900 data-[state=active]:shadow-sm dark:data-[state=active]:bg-slate-700 dark:data-[state=active]:text-white",children:"Asset Approvals"}),c.jsx(Mr,{value:"managers",className:"data-[state=active]:bg-white data-[state=active]:text-slate-900 data-[state=active]:shadow-sm dark:data-[state=active]:bg-slate-700 dark:data-[state=active]:text-white",children:"Managers"}),c.jsx(Mr,{value:"system",className:"data-[state=active]:bg-white data-[state=active]:text-slate-900 data-[state=active]:shadow-sm dark:data-[state=active]:bg-slate-700 dark:data-[state=active]:text-white",children:"System"}),c.jsx(Mr,{value:"settlements",className:"data-[state=active]:bg-white data-[state=active]:text-slate-900 data-[state=active]:shadow-sm dark:data-[state=active]:bg-slate-700 dark:data-[state=active]:text-white",children:"Invoice Settlements"})]}),c.jsxs(ds,{value:"overview",className:"space-y-8",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6",children:[c.jsx(me,{className:`${s?"bg-slate-800/50 border-slate-700/50":"bg-white border-slate-200"} shadow-sm hover:shadow-md transition-shadow duration-200`,children:c.jsx(ye,{className:"p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:`text-sm font-medium ${s?"text-slate-400":"text-slate-600"}`,children:"Active Issuers"}),c.jsx("p",{className:`text-2xl font-semibold tracking-tight ${s?"text-white":"text-slate-900"}`,children:C?c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"w-4 h-4 border-2 border-slate-300 border-t-slate-600 rounded-full animate-spin"}),c.jsx("span",{className:"text-lg",children:"Loading..."})]}):P.totalIssuers}),c.jsx("p",{className:"text-xs text-emerald-600 dark:text-emerald-400",children:"Live contract data"})]}),c.jsx("div",{className:"p-3 bg-slate-100 dark:bg-slate-700 rounded-lg",children:c.jsx(I3,{className:"w-5 h-5 text-slate-700 dark:text-slate-300"})})]})})}),c.jsx(me,{className:`${s?"bg-slate-800/50 border-slate-700/50":"bg-white border-slate-200"} shadow-sm hover:shadow-md transition-shadow duration-200`,children:c.jsx(ye,{className:"p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:`text-sm font-medium ${s?"text-slate-400":"text-slate-600"}`,children:"Property Managers"}),c.jsx("p",{className:`text-2xl font-semibold tracking-tight ${s?"text-white":"text-slate-900"}`,children:C?c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"w-4 h-4 border-2 border-slate-300 border-t-slate-600 rounded-full animate-spin"}),c.jsx("span",{className:"text-lg",children:"Loading..."})]}):P.totalManagers}),c.jsx("p",{className:"text-xs text-emerald-600 dark:text-emerald-400",children:"Live contract data"})]}),c.jsx("div",{className:"p-3 bg-slate-100 dark:bg-slate-700 rounded-lg",children:c.jsx(lS,{className:"w-5 h-5 text-slate-700 dark:text-slate-300"})})]})})}),c.jsx(me,{className:`${s?"bg-slate-800/50 border-slate-700/50":"bg-white border-slate-200"} shadow-sm hover:shadow-md transition-shadow duration-200`,children:c.jsx(ye,{className:"p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:`text-sm font-medium ${s?"text-slate-400":"text-slate-600"}`,children:"Active Tokens"}),c.jsx("p",{className:`text-2xl font-semibold tracking-tight ${s?"text-white":"text-slate-900"}`,children:P.activeTokens}),c.jsx("p",{className:"text-xs text-emerald-600 dark:text-emerald-400",children:"+3 this week"})]}),c.jsx("div",{className:"p-3 bg-slate-100 dark:bg-slate-700 rounded-lg",children:c.jsx(cS,{className:"w-5 h-5 text-slate-700 dark:text-slate-300"})})]})})}),c.jsx(me,{className:`${s?"bg-slate-800/50 border-slate-700/50":"bg-white border-slate-200"} shadow-sm hover:shadow-md transition-shadow duration-200`,children:c.jsx(ye,{className:"p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:`text-sm font-medium ${s?"text-slate-400":"text-slate-600"}`,children:"Total Volume"}),c.jsxs("p",{className:`text-2xl font-semibold tracking-tight ${s?"text-white":"text-slate-900"}`,children:["$",(P.totalVolume/1e6).toFixed(1),"M"]}),c.jsx("p",{className:"text-xs text-emerald-600 dark:text-emerald-400",children:"+$2.1M this month"})]}),c.jsx("div",{className:"p-3 bg-slate-100 dark:bg-slate-700 rounded-lg",children:c.jsx(Rs,{className:"w-5 h-5 text-slate-700 dark:text-slate-300"})})]})})})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[c.jsx("div",{className:"lg:col-span-2",children:c.jsxs(me,{className:`${s?"bg-slate-800/50 border-slate-700/50":"bg-white border-slate-200"} shadow-sm`,children:[c.jsxs(yt,{className:"pb-4",children:[c.jsx(gt,{className:`text-lg font-semibold ${s?"text-white":"text-slate-900"}`,children:"Administrative Actions"}),c.jsx("p",{className:`text-sm ${s?"text-slate-400":"text-slate-600"}`,children:"Manage platform users and system settings"})]}),c.jsx(ye,{children:c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs(te,{onClick:()=>M(!0),disabled:!e,className:"h-20 flex-col space-y-2 bg-slate-900 hover:bg-slate-800 text-white border-0 shadow-sm hover:shadow-md transition-all duration-200 disabled:opacity-50",children:[c.jsx(Pse,{className:"w-5 h-5"}),c.jsx("span",{className:"text-sm font-medium",children:e?"Add User":"Connect Wallet"})]}),c.jsxs(te,{onClick:be,disabled:C||!e,variant:"outline",className:`h-20 flex-col space-y-2 ${s?"border-slate-700 bg-slate-800/30 text-slate-300 hover:bg-slate-700":"border-slate-200 bg-slate-50 text-slate-600 hover:bg-slate-100"} disabled:opacity-50`,children:[C?c.jsx(Sr,{className:"w-5 h-5 animate-spin"}):c.jsx(Sr,{className:"w-5 h-5"}),c.jsx("span",{className:"text-sm font-medium",children:C?"Loading...":"Refresh Data"})]}),c.jsxs(te,{variant:"outline",className:`h-20 flex-col space-y-2 ${s?"border-slate-700 bg-slate-800/30 text-slate-300 hover:bg-slate-700":"border-slate-200 bg-slate-50 text-slate-600 hover:bg-slate-100"}`,children:[c.jsx(fd,{className:"w-5 h-5"}),c.jsx("span",{className:"text-sm font-medium",children:"Audit Logs"})]}),c.jsxs(te,{variant:"outline",className:`h-20 flex-col space-y-2 ${s?"border-slate-700 bg-slate-800/30 text-slate-300 hover:bg-slate-700":"border-slate-200 bg-slate-50 text-slate-600 hover:bg-slate-100"}`,children:[c.jsx(pse,{className:"w-5 h-5"}),c.jsx("span",{className:"text-sm font-medium",children:"Fee Management"})]}),c.jsxs(te,{variant:"outline",className:`h-20 flex-col space-y-2 ${s?"border-slate-700 bg-slate-800/30 text-slate-300 hover:bg-slate-700":"border-slate-200 bg-slate-50 text-slate-600 hover:bg-slate-100"}`,children:[c.jsx(cse,{className:"w-5 h-5"}),c.jsx("span",{className:"text-sm font-medium",children:"Asset Registry"})]})]})})]})}),c.jsx("div",{children:c.jsxs(me,{className:`${s?"bg-slate-800/50 border-slate-700/50":"bg-white border-slate-200"} shadow-sm`,children:[c.jsx(yt,{className:"pb-4",children:c.jsx(gt,{className:`text-lg font-semibold ${s?"text-white":"text-slate-900"}`,children:"System Health"})}),c.jsxs(ye,{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:`w-2 h-2 rounded-full ${b?"bg-red-500":"bg-emerald-500"}`}),c.jsx("span",{className:`text-sm ${s?"text-slate-300":"text-slate-700"}`,children:"Trading Engine"})]}),c.jsx(Ue,{variant:b?"destructive":"default",className:"text-xs",children:b?"Paused":"Active"})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),c.jsx("span",{className:`text-sm ${s?"text-slate-300":"text-slate-700"}`,children:"Smart Contracts"})]}),c.jsx(Ue,{variant:"default",className:"text-xs",children:"Deployed"})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),c.jsx("span",{className:`text-sm ${s?"text-slate-300":"text-slate-700"}`,children:"Infrastructure"})]}),c.jsx(Ue,{variant:"default",className:"text-xs",children:"Healthy"})]})]})]})})]})]}),c.jsxs(ds,{value:"issuers",className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h2",{className:`text-xl font-semibold tracking-tight ${s?"text-white":"text-slate-900"}`,children:"Platform Issuers"}),c.jsx("p",{className:`text-sm ${s?"text-slate-400":"text-slate-600"}`,children:"Manage tokenization partners and authorized issuers"})]}),c.jsxs(te,{onClick:()=>{K(X=>({...X,role:"issuer"})),M(!0)},className:"bg-slate-900 hover:bg-slate-800 text-white shadow-sm",children:[c.jsx(ah,{className:"w-4 h-4 mr-2"}),"Add Issuer"]})]}),c.jsx("div",{className:"space-y-4",children:l.map(X=>c.jsx(me,{className:`${s?"bg-slate-800/50 border-slate-700/50":"bg-white border-slate-200"} shadow-sm hover:shadow-md transition-all duration-200`,children:c.jsx(ye,{className:"p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx(Bg,{className:"h-11 w-11 border border-slate-200 dark:border-slate-700",children:c.jsx(Ug,{className:"bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 font-medium",children:X.name.charAt(0)})}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("h3",{className:`font-medium ${s?"text-white":"text-slate-900"}`,children:X.name}),c.jsx("p",{className:`text-sm ${s?"text-slate-400":"text-slate-600"}`,children:X.email}),c.jsxs("p",{className:"text-xs font-mono text-slate-500",children:[X.address.slice(0,8),"...",X.address.slice(-6)]})]})]}),c.jsxs("div",{className:"flex items-center space-x-8",children:[c.jsxs("div",{className:"text-right space-y-1",children:[c.jsxs("p",{className:`text-sm font-medium ${s?"text-white":"text-slate-900"}`,children:[X.tokensManaged," Active Tokens"]}),c.jsxs("p",{className:`text-sm ${s?"text-slate-400":"text-slate-600"}`,children:["$",(X.totalVolume/1e6).toFixed(1),"M Total Volume"]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:`w-2 h-2 rounded-full ${X.status==="active"?"bg-emerald-500":"bg-slate-400"}`}),c.jsx(Ue,{variant:X.status==="active"?"default":"secondary",className:"text-xs font-medium",children:X.status})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx(te,{variant:"outline",size:"sm",className:"h-8 w-8 p-0",onClick:()=>{J(X),j(!0)},children:c.jsx(Io,{className:"w-4 h-4"})}),c.jsx(te,{variant:"outline",size:"sm",className:"h-8 w-8 p-0 text-red-600 border-red-200 hover:bg-red-50 dark:text-red-400 dark:border-red-800 dark:hover:bg-red-950",onClick:()=>{J(X),O(!0)},children:c.jsx(P3,{className:"w-4 h-4"})})]})]})]})})},X.id))})]}),c.jsxs(ds,{value:"approvals",className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h2",{className:`text-xl font-semibold tracking-tight ${s?"text-white":"text-slate-900"}`,children:"Asset Approvals"}),c.jsx("p",{className:`text-sm ${s?"text-slate-400":"text-slate-600"}`,children:"Review and approve asset registrations from issuers"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(te,{onClick:()=>st(),variant:"default",className:"bg-green-600 hover:bg-green-700 text-white",children:" Load from Contract"}),c.jsx(te,{onClick:async()=>{if(console.log(" Debug: Testing TokenManagement service..."),console.log(" AdminTokenManagementService:",y),y)try{const X=await y.getPendingTokenRequests();console.log(" Raw pending requests:",X);const ke=await y.getFormattedPendingAssets();console.log(" Formatted pending assets:",ke),ge.success(`Found ${X.length} pending requests`)}catch(X){console.error(" Debug error:",X),ge.error("Debug test failed: "+X.message)}else ge.error("TokenManagement service not initialized")},variant:"outline",className:`${s?"border-blue-600 text-blue-300 hover:bg-blue-800":"border-blue-300 text-blue-700 hover:bg-blue-50"}`,children:" Debug"}),c.jsxs(te,{onClick:()=>Nt(),variant:"outline",className:`${s?"border-slate-600 text-slate-300 hover:bg-slate-800":"border-slate-300 text-slate-700 hover:bg-slate-50"}`,children:[c.jsx(Sr,{className:"w-4 h-4 mr-2"}),"Refresh (Old)"]})]})]}),c.jsx("div",{className:"grid grid-cols-1 gap-6",children:U.length===0?c.jsx(me,{className:`${s?"bg-slate-800/50 border-slate-700/50":"bg-white border-slate-200"}`,children:c.jsxs(ye,{className:"p-12 text-center",children:[c.jsx(fd,{className:`w-16 h-16 mx-auto mb-4 ${s?"text-slate-600":"text-slate-400"}`}),c.jsx("h3",{className:`text-lg font-medium mb-2 ${s?"text-white":"text-slate-900"}`,children:"No Pending Assets"}),c.jsx("p",{className:`${s?"text-slate-400":"text-slate-600"}`,children:"All asset registrations have been reviewed"})]})}):U.map((X,ke)=>c.jsx(me,{className:`${s?"bg-slate-800/50 border-slate-700/50":"bg-white border-slate-200"} shadow-sm hover:shadow-md transition-shadow duration-200`,children:c.jsxs(ye,{className:"p-6",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("h3",{className:`text-lg font-semibold ${s?"text-white":"text-slate-900"}`,children:X.name}),c.jsx(Ue,{variant:X.status==="Pending"?"secondary":X.status==="Approved"?"default":"destructive",children:X.status})]}),c.jsx("p",{className:`text-sm ${s?"text-slate-400":"text-slate-600"} mb-3 line-clamp-2`,children:X.description}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:`${s?"text-slate-400":"text-slate-600"}`,children:"Asset ID:"}),c.jsxs("span",{className:`ml-2 font-mono ${s?"text-slate-300":"text-slate-700"}`,children:["#",X.assetId]})]}),c.jsxs("div",{children:[c.jsx("span",{className:`${s?"text-slate-400":"text-slate-600"}`,children:"Price per Token:"}),c.jsxs("span",{className:`ml-2 font-semibold ${s?"text-white":"text-slate-900"}`,children:[X.price," Flow"]})]}),c.jsxs("div",{children:[c.jsx("span",{className:`${s?"text-slate-400":"text-slate-600"}`,children:"Submitted:"}),c.jsx("span",{className:`ml-2 ${s?"text-slate-300":"text-slate-700"}`,children:new Date(X.createdAt).toLocaleDateString()})]}),c.jsxs("div",{children:[c.jsx("span",{className:`${s?"text-slate-400":"text-slate-600"}`,children:"Issuer:"}),c.jsx("span",{className:`ml-2 font-mono text-xs ${s?"text-slate-300":"text-slate-700"}`,children:X.issuer?`${X.issuer.slice(0,6)}...${X.issuer.slice(-4)}`:"Unknown"})]})]})]}),X.status==="Pending"&&c.jsxs("div",{className:"flex gap-2 ml-4",children:[c.jsxs(te,{onClick:()=>Dn(X.assetId,!0),size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",children:[c.jsx(Ds,{className:"w-4 h-4 mr-1"}),"Approve"]}),c.jsxs(te,{onClick:()=>Dn(X.assetId,!1),size:"sm",variant:"destructive",children:[c.jsx(dse,{className:"w-4 h-4 mr-1"}),"Reject"]})]})]}),c.jsx("div",{className:"pt-4 border-t border-slate-200 dark:border-slate-700",children:c.jsxs(te,{onClick:()=>zt(X.metadataURI),variant:"outline",size:"sm",className:`${s?"border-slate-600 text-slate-300 hover:bg-slate-800":"border-slate-300 text-slate-700 hover:bg-slate-50"}`,children:[c.jsx(Io,{className:"w-4 h-4 mr-2"}),"View Details"]})})]})},ke))})]}),c.jsxs(ds,{value:"managers",className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h2",{className:`text-xl font-semibold tracking-tight ${s?"text-white":"text-slate-900"}`,children:"Property Managers"}),c.jsx("p",{className:`text-sm ${s?"text-slate-400":"text-slate-600"}`,children:"Manage asset managers and property supervisors"})]}),c.jsxs(te,{onClick:()=>{K(X=>({...X,role:"manager"})),M(!0)},className:"bg-slate-900 hover:bg-slate-800 text-white shadow-sm",children:[c.jsx(ah,{className:"w-4 h-4 mr-2"}),"Add Manager"]})]}),c.jsx("div",{className:"space-y-4",children:d.map(X=>c.jsx(me,{className:`${s?"bg-slate-800/50 border-slate-700/50":"bg-white border-slate-200"} shadow-sm hover:shadow-md transition-all duration-200`,children:c.jsx(ye,{className:"p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx(Bg,{className:"h-11 w-11 border border-slate-200 dark:border-slate-700",children:c.jsx(Ug,{className:"bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 font-medium",children:X.name.split(" ").map(ke=>ke.charAt(0)).join("")})}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("h3",{className:`font-medium ${s?"text-white":"text-slate-900"}`,children:X.name}),c.jsx("p",{className:`text-sm ${s?"text-slate-400":"text-slate-600"}`,children:X.email}),c.jsxs("p",{className:"text-xs font-mono text-slate-500",children:[X.address.slice(0,8),"...",X.address.slice(-6)]})]})]}),c.jsxs("div",{className:"flex items-center space-x-8",children:[c.jsxs("div",{className:"text-right space-y-1",children:[c.jsxs("p",{className:`text-sm font-medium ${s?"text-white":"text-slate-900"}`,children:[X.tokensManaged," Managed Assets"]}),c.jsxs("p",{className:`text-sm ${s?"text-slate-400":"text-slate-600"}`,children:["$",X.totalVolume.toLocaleString()," Monthly Income"]}),X.assignedTokens&&X.assignedTokens.length>0&&c.jsxs("p",{className:"text-xs text-slate-500 font-mono",children:["Tokens: ",X.assignedTokens.join(", ")]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:`w-2 h-2 rounded-full ${X.status==="active"?"bg-emerald-500":"bg-slate-400"}`}),c.jsx(Ue,{variant:X.status==="active"?"default":"secondary",className:"text-xs font-medium",children:X.status})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx(te,{variant:"outline",size:"sm",className:"h-8 w-8 p-0 text-blue-600 border-blue-200 hover:bg-blue-50 dark:text-blue-400 dark:border-blue-800 dark:hover:bg-blue-950",onClick:()=>Ar(X),title:"Assign Token",children:c.jsx(ah,{className:"w-4 h-4"})}),c.jsx(te,{variant:"outline",size:"sm",className:"h-8 w-8 p-0",onClick:()=>{J(X),j(!0)},children:c.jsx(Io,{className:"w-4 h-4"})}),c.jsx(te,{variant:"outline",size:"sm",className:"h-8 w-8 p-0 text-red-600 border-red-200 hover:bg-red-50 dark:text-red-400 dark:border-red-800 dark:hover:bg-red-950",onClick:()=>{J(X),O(!0)},children:c.jsx(P3,{className:"w-4 h-4"})})]})]})]})})},X.id))})]}),c.jsxs(ds,{value:"system",className:"space-y-6",children:[c.jsx("div",{className:"flex justify-between items-center",children:c.jsxs("div",{children:[c.jsx("h2",{className:`text-xl font-semibold tracking-tight ${s?"text-white":"text-slate-900"}`,children:"System Administration"}),c.jsx("p",{className:`text-sm ${s?"text-slate-400":"text-slate-600"}`,children:"Configure platform settings and monitor system health"})]})}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[c.jsxs(me,{className:`${s?"bg-slate-800/50 border-slate-700/50":"bg-white border-slate-200"} shadow-sm`,children:[c.jsxs(yt,{className:"pb-4",children:[c.jsx(gt,{className:`text-lg font-semibold ${s?"text-white":"text-slate-900"}`,children:"Trading Controls"}),c.jsx("p",{className:`text-sm ${s?"text-slate-400":"text-slate-600"}`,children:"Manage marketplace operations"})]}),c.jsxs(ye,{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:`font-medium ${s?"text-white":"text-slate-900"}`,children:"Marketplace Status"}),c.jsx("p",{className:`text-sm ${s?"text-slate-400":"text-slate-600"}`,children:b?"All trading operations are currently suspended":"Trading operations are active and functioning normally"})]}),c.jsx(MJ,{checked:!b,onCheckedChange:je,disabled:re||!e})]}),c.jsx("div",{className:"pt-4 border-t border-slate-200 dark:border-slate-700",children:c.jsx(te,{onClick:je,disabled:re||!e,className:"w-full",variant:b?"default":"destructive",children:re?c.jsxs(c.Fragment,{children:[c.jsx(Sr,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):c.jsxs(c.Fragment,{children:[b?c.jsx(Yx,{className:"w-4 h-4 mr-2"}):c.jsx(td,{className:"w-4 h-4 mr-2"}),b?"Resume Trading":"Suspend Trading"]})})})]})]}),c.jsxs(me,{className:`${s?"bg-slate-800/50 border-slate-700/50":"bg-white border-slate-200"} shadow-sm`,children:[c.jsxs(yt,{className:"pb-4",children:[c.jsx(gt,{className:`text-lg font-semibold ${s?"text-white":"text-slate-900"}`,children:"Platform Configuration"}),c.jsx("p",{className:`text-sm ${s?"text-slate-400":"text-slate-600"}`,children:"System settings and administration tools"})]}),c.jsxs(ye,{className:"space-y-3",children:[c.jsxs(te,{variant:"outline",className:"w-full justify-start h-12",children:[c.jsx(QC,{className:"w-4 h-4 mr-3"}),c.jsxs("div",{className:"text-left",children:[c.jsx("div",{className:"font-medium",children:"Fee Structure"}),c.jsx("div",{className:`text-xs ${s?"text-slate-400":"text-slate-600"}`,children:"Configure platform fees and commissions"})]})]}),c.jsxs(te,{variant:"outline",className:"w-full justify-start h-12",children:[c.jsx(s1,{className:"w-4 h-4 mr-3"}),c.jsxs("div",{className:"text-left",children:[c.jsx("div",{className:"font-medium",children:"Export Logs"}),c.jsx("div",{className:`text-xs ${s?"text-slate-400":"text-slate-600"}`,children:"Download system logs and audit trails"})]})]}),c.jsxs(te,{variant:"outline",className:"w-full justify-start h-12",children:[c.jsx(Jp,{className:"w-4 h-4 mr-3"}),c.jsxs("div",{className:"text-left",children:[c.jsx("div",{className:"font-medium",children:"Analytics Dashboard"}),c.jsx("div",{className:`text-xs ${s?"text-slate-400":"text-slate-600"}`,children:"View detailed platform analytics"})]})]})]})]})]})]}),c.jsxs(ds,{value:"settlements",className:"space-y-6",children:[c.jsx("div",{className:"flex justify-between items-center",children:c.jsxs("div",{children:[c.jsx("h2",{className:`text-xl font-semibold tracking-tight ${s?"text-white":"text-slate-900"}`,children:"Invoice Settlement Management"}),c.jsx("p",{className:`text-sm ${s?"text-slate-400":"text-slate-600"}`,children:"Process invoice settlements and monitor token lifecycle"})]})}),c.jsxs("div",{className:"space-y-8",children:[c.jsx(M3e,{}),c.jsx(j3e,{})]})]})]})}),c.jsx(qi,{open:S,onOpenChange:M,children:c.jsxs(yi,{className:`sm:max-w-md ${s?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-xl`,children:[c.jsxs(gi,{className:"space-y-3",children:[c.jsxs(vi,{className:`text-lg font-semibold ${s?"text-white":"text-slate-900"}`,children:["Add ",H.role.charAt(0).toUpperCase()+H.role.slice(1)]}),c.jsxs(ku,{className:`text-sm ${s?"text-slate-400":"text-slate-600"}`,children:["Create a new ",H.role," account with platform access and appropriate permissions."]})]}),c.jsxs("div",{className:"space-y-4 py-4 max-h-96 overflow-y-auto",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ut,{htmlFor:"role",className:`text-sm font-medium ${s?"text-slate-200":"text-slate-700"}`,children:"User Role"}),c.jsxs(mv,{value:H.role,onValueChange:X=>K(ke=>({...ke,role:X})),children:[c.jsx(Mm,{className:`${s?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300"}`,children:c.jsx(yv,{})}),c.jsxs(jm,{children:[c.jsx(Ca,{value:"issuer",children:"Platform Issuer"}),c.jsx(Ca,{value:"manager",children:"Property Manager"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ut,{htmlFor:"firstName",className:`text-sm font-medium ${s?"text-slate-200":"text-slate-700"}`,children:"First Name"}),c.jsx(an,{id:"firstName",placeholder:"John",value:H.firstName,onChange:X=>K(ke=>({...ke,firstName:X.target.value})),className:`${s?"bg-slate-700 border-slate-600 text-white placeholder:text-slate-400":"bg-white border-slate-300"}`})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ut,{htmlFor:"lastName",className:`text-sm font-medium ${s?"text-slate-200":"text-slate-700"}`,children:"Last Name"}),c.jsx(an,{id:"lastName",placeholder:"Doe",value:H.lastName,onChange:X=>K(ke=>({...ke,lastName:X.target.value})),className:`${s?"bg-slate-700 border-slate-600 text-white placeholder:text-slate-400":"bg-white border-slate-300"}`})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ut,{htmlFor:"email",className:`text-sm font-medium ${s?"text-slate-200":"text-slate-700"}`,children:"Email Address"}),c.jsx(an,{id:"email",type:"email",placeholder:"john.doe@company.com",value:H.email,onChange:X=>K(ke=>({...ke,email:X.target.value})),className:`${s?"bg-slate-700 border-slate-600 text-white placeholder:text-slate-400":"bg-white border-slate-300"}`})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ut,{htmlFor:"walletAddress",className:`text-sm font-medium ${s?"text-slate-200":"text-slate-700"}`,children:"Wallet Address"}),c.jsx(an,{id:"walletAddress",placeholder:"0x742d35Cc...",value:H.walletAddress,onChange:X=>K(ke=>({...ke,walletAddress:X.target.value})),className:`${s?"bg-slate-700 border-slate-600 text-white placeholder:text-slate-400":"bg-white border-slate-300"} font-mono text-sm`})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ut,{htmlFor:"password",className:`text-sm font-medium ${s?"text-slate-200":"text-slate-700"}`,children:"Password"}),c.jsx(an,{id:"password",type:"password",placeholder:"Enter secure password",value:H.password,onChange:X=>K(ke=>({...ke,password:X.target.value})),className:`${s?"bg-slate-700 border-slate-600 text-white placeholder:text-slate-400":"bg-white border-slate-300"}`})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ut,{htmlFor:"confirmPassword",className:`text-sm font-medium ${s?"text-slate-200":"text-slate-700"}`,children:"Confirm Password"}),c.jsx(an,{id:"confirmPassword",type:"password",placeholder:"Confirm password",value:H.confirmPassword,onChange:X=>K(ke=>({...ke,confirmPassword:X.target.value})),className:`${s?"bg-slate-700 border-slate-600 text-white placeholder:text-slate-400":"bg-white border-slate-300"}`})]})]}),c.jsxs(Kf,{className:"space-x-2 pt-4",children:[c.jsx(te,{variant:"outline",onClick:()=>M(!1),children:"Cancel"}),c.jsx(te,{onClick:Ie,disabled:re,className:"bg-slate-900 hover:bg-slate-800",children:re?c.jsxs(c.Fragment,{children:[c.jsx(Sr,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating Account..."]}):`Create ${H.role.charAt(0).toUpperCase()+H.role.slice(1)} Account`})]})]})}),c.jsx(qi,{open:R,onOpenChange:j,children:c.jsx(yi,{className:`sm:max-w-2xl ${s?"bg-gray-900 border-gray-700":"bg-white border-gray-200"}`,children:Y&&c.jsxs(c.Fragment,{children:[c.jsxs(gi,{children:[c.jsx(vi,{className:`${s?"text-white":"text-gray-900"}`,children:Y.name}),c.jsxs(ku,{className:`${s?"text-gray-300":"text-gray-600"}`,children:[Y.role.charAt(0).toUpperCase()+Y.role.slice(1)," Details"]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:`text-sm font-medium ${s?"text-gray-400":"text-gray-600"}`,children:"Wallet Address"}),c.jsx("p",{className:`font-mono text-sm ${s?"text-white":"text-gray-900"}`,children:Y.address})]}),c.jsxs("div",{children:[c.jsx("p",{className:`text-sm font-medium ${s?"text-gray-400":"text-gray-600"}`,children:"Email"}),c.jsx("p",{className:`${s?"text-white":"text-gray-900"}`,children:Y.email})]}),c.jsxs("div",{children:[c.jsx("p",{className:`text-sm font-medium ${s?"text-gray-400":"text-gray-600"}`,children:"Status"}),c.jsx(Ue,{variant:Y.status==="active"?"default":"secondary",children:Y.status})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:`text-sm font-medium ${s?"text-gray-400":"text-gray-600"}`,children:"Joined Date"}),c.jsx("p",{className:`${s?"text-white":"text-gray-900"}`,children:Y.joinedDate})]}),c.jsxs("div",{children:[c.jsx("p",{className:`text-sm font-medium ${s?"text-gray-400":"text-gray-600"}`,children:"Last Active"}),c.jsx("p",{className:`${s?"text-white":"text-gray-900"}`,children:Y.lastActive})]}),c.jsxs("div",{children:[c.jsx("p",{className:`text-sm font-medium ${s?"text-gray-400":"text-gray-600"}`,children:Y.role==="issuer"?"Tokens Created":"Assets Managed"}),c.jsx("p",{className:`${s?"text-white":"text-gray-900"}`,children:Y.tokensManaged})]})]})]}),c.jsx(Kf,{children:c.jsx(te,{variant:"outline",onClick:()=>j(!1),children:"Close"})})]})})}),c.jsx(qi,{open:V,onOpenChange:O,children:c.jsx(yi,{className:`sm:max-w-md ${s?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-xl`,children:Y&&c.jsxs(c.Fragment,{children:[c.jsx(gi,{className:"space-y-3",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"p-2 rounded-full bg-red-100 dark:bg-red-900/20",children:c.jsx(d0,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),c.jsxs("div",{children:[c.jsx(vi,{className:`text-lg font-semibold ${s?"text-white":"text-slate-900"}`,children:"Confirm Removal"}),c.jsx(ku,{className:`text-sm ${s?"text-slate-400":"text-slate-600"}`,children:"Are you sure you want to remove this user from the blockchain? This action cannot be undone."})]})]})}),c.jsx("div",{className:"py-4",children:c.jsxs("div",{className:`p-4 rounded-lg ${s?"bg-slate-700/50":"bg-slate-50"} border ${s?"border-slate-600":"border-slate-200"}`,children:[c.jsxs("p",{className:`text-sm ${s?"text-slate-300":"text-slate-700"}`,children:["You are about to remove ",c.jsx("span",{className:"font-medium",children:Y.name})," from the platform."]}),c.jsxs("p",{className:`text-xs mt-2 ${s?"text-slate-400":"text-slate-600"}`,children:["Role: ",c.jsx("span",{className:"capitalize font-medium",children:Y.role})]}),c.jsxs("p",{className:`text-xs mt-1 ${s?"text-slate-400":"text-slate-600"}`,children:["Address: ",c.jsx("span",{className:"font-mono",children:Y.address})]}),c.jsx("div",{className:`mt-3 p-3 rounded ${s?"bg-red-900/20 border border-red-800/30":"bg-red-50 border border-red-200"}`,children:c.jsx("p",{className:`text-xs font-medium ${s?"text-red-300":"text-red-700"}`,children:" This action cannot be undone. All associated permissions will be permanently revoked."})})]})}),c.jsxs(Kf,{className:"space-x-2",children:[c.jsx(te,{variant:"outline",onClick:()=>O(!1),children:"Cancel"}),c.jsx(te,{variant:"destructive",onClick:Ne,disabled:re,className:"bg-red-600 hover:bg-red-700",children:re?c.jsxs(c.Fragment,{children:[c.jsx(Sr,{className:"w-4 h-4 mr-2 animate-spin"}),"Removing..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Rse,{className:"w-4 h-4 mr-2"}),"Remove User"]})})]})]})})}),c.jsx(qi,{open:E,onOpenChange:z,children:c.jsxs(yi,{className:`sm:max-w-md ${s?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-xl`,children:[c.jsx(gi,{className:"space-y-3",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:`p-2 rounded-full ${b?"bg-green-100 dark:bg-green-900/20":"bg-red-100 dark:bg-red-900/20"}`,children:b?c.jsx(Yx,{className:`w-5 h-5 ${b?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`}):c.jsx(td,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),c.jsxs("div",{children:[c.jsx(vi,{className:`text-lg font-semibold ${s?"text-white":"text-slate-900"}`,children:b?"Resume Trading":"Suspend Trading"}),c.jsx(ku,{className:`text-sm ${s?"text-slate-400":"text-slate-600"}`,children:"This action will affect the entire marketplace operations"})]})]})}),c.jsx("div",{className:"py-4",children:c.jsxs("div",{className:`p-4 rounded-lg ${s?"bg-slate-700/50":"bg-slate-50"} border ${s?"border-slate-600":"border-slate-200"}`,children:[b?c.jsxs(c.Fragment,{children:[c.jsx("p",{className:`text-sm font-medium ${s?"text-white":"text-slate-900"} mb-2`,children:" Resume Marketplace Trading"}),c.jsx("p",{className:`text-sm ${s?"text-slate-300":"text-slate-700"} mb-3`,children:"This will enable all trading operations across the platform:"}),c.jsxs("ul",{className:`text-xs ${s?"text-slate-400":"text-slate-600"} space-y-1 ml-4`,children:[c.jsx("li",{children:" Token buying and selling will be enabled"}),c.jsx("li",{children:" All marketplace functions will be active"}),c.jsx("li",{children:" Users can perform transactions normally"}),c.jsx("li",{children:" Platform fees and commissions will apply"})]})]}):c.jsxs(c.Fragment,{children:[c.jsx("p",{className:`text-sm font-medium ${s?"text-white":"text-slate-900"} mb-2`,children:" Suspend All Marketplace Trading"}),c.jsx("p",{className:`text-sm ${s?"text-slate-300":"text-slate-700"} mb-3`,children:"This will immediately halt all trading operations:"}),c.jsxs("ul",{className:`text-xs ${s?"text-slate-400":"text-slate-600"} space-y-1 ml-4`,children:[c.jsx("li",{children:" All token purchases will be disabled"}),c.jsx("li",{children:" Existing listings will be suspended"}),c.jsx("li",{children:" Users cannot buy or sell any assets"}),c.jsx("li",{children:" Only viewing functions will remain active"})]})]}),c.jsx("div",{className:`mt-3 p-3 rounded ${s?"bg-orange-900/20 border border-orange-800/30":"bg-orange-50 border border-orange-200"}`,children:c.jsx("p",{className:`text-xs font-medium ${s?"text-orange-400":"text-orange-700"}`,children:" This action requires a blockchain transaction and will affect all users immediately."})})]})}),c.jsxs(Kf,{className:"space-x-2",children:[c.jsx(te,{variant:"outline",onClick:()=>z(!1),children:"Cancel"}),c.jsx(te,{onClick:tt,disabled:re||!e,variant:b?"default":"destructive",className:b?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700",children:re?c.jsxs(c.Fragment,{children:[c.jsx(Sr,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):c.jsx(c.Fragment,{children:b?c.jsxs(c.Fragment,{children:[c.jsx(Yx,{className:"w-4 h-4 mr-2"}),"Confirm Resume Trading"]}):c.jsxs(c.Fragment,{children:[c.jsx(td,{className:"w-4 h-4 mr-2"}),"Confirm Suspend Trading"]})})})]})]})}),c.jsx(qi,{open:Z,onOpenChange:F,children:c.jsxs(yi,{className:`sm:max-w-4xl ${s?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-xl`,children:[c.jsxs(gi,{className:"space-y-3",children:[c.jsx(vi,{className:`text-lg font-semibold ${s?"text-white":"text-slate-900"}`,children:"Assign Asset to Manager"}),c.jsx(ku,{className:`text-sm ${s?"text-slate-400":"text-slate-600"}`,children:"Select a marketplace asset to assign to this manager for income management."})]}),c.jsx("div",{className:"py-4",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:`p-3 rounded-lg ${s?"bg-slate-700/50":"bg-slate-50"} border ${s?"border-slate-600":"border-slate-200"}`,children:[c.jsx("p",{className:`text-sm font-medium ${s?"text-slate-200":"text-slate-700"}`,children:"Manager Address:"}),c.jsx("p",{className:`text-xs font-mono ${s?"text-slate-400":"text-slate-600"} mt-1`,children:ee.managerAddress})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx(Ut,{className:`text-sm font-medium ${s?"text-slate-200":"text-slate-700"}`,children:"Select Asset to Assign *"}),B.length===0?c.jsxs("div",{className:`p-6 text-center rounded-lg border-2 border-dashed ${s?"border-slate-600 bg-slate-700/30":"border-slate-300 bg-slate-50"}`,children:[c.jsx(Ise,{className:`w-8 h-8 mx-auto mb-3 ${s?"text-slate-400":"text-slate-500"}`}),c.jsx("p",{className:`text-sm font-medium ${s?"text-slate-300":"text-slate-700"}`,children:"No marketplace assets found"}),c.jsx("p",{className:`text-xs ${s?"text-slate-400":"text-slate-600"} mt-1`,children:"Create and list assets on the marketplace first"})]}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 max-h-64 overflow-y-auto",children:B.map(X=>{var ke;return c.jsx("div",{onClick:()=>We(ve=>({...ve,selectedAsset:X})),className:`p-3 rounded-lg border-2 cursor-pointer transition-all ${((ke=ee.selectedAsset)==null?void 0:ke.tokenId)===X.tokenId?s?"border-blue-500 bg-blue-500/10":"border-blue-500 bg-blue-50":s?"border-slate-600 bg-slate-700/30 hover:border-slate-500":"border-slate-200 bg-white hover:border-slate-300"}`,children:c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${s?"bg-slate-600":"bg-slate-100"}`,children:c.jsx(I3,{className:`w-6 h-6 ${s?"text-slate-300":"text-slate-600"}`})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h4",{className:`text-sm font-medium truncate ${s?"text-white":"text-slate-900"}`,children:X.name||`Asset #${X.tokenId}`}),c.jsx("p",{className:`text-xs ${s?"text-slate-400":"text-slate-600"} mt-1`,children:X.location||"No location specified"}),c.jsxs("div",{className:"flex justify-between items-center mt-2",children:[c.jsxs("span",{className:`text-xs font-medium ${s?"text-green-400":"text-green-600"}`,children:[X.price," ETH"]}),c.jsxs("span",{className:`text-xs ${s?"text-slate-400":"text-slate-600"}`,children:["ID: ",X.tokenId]})]})]})]})},X.tokenId)})}),ee.selectedAsset&&c.jsxs("div",{className:`p-3 rounded-lg ${s?"bg-blue-500/10 border-blue-500/30":"bg-blue-50 border-blue-200"} border`,children:[c.jsxs("p",{className:`text-sm font-medium ${s?"text-blue-300":"text-blue-700"}`,children:["Selected Asset: ",ee.selectedAsset.name||`Asset #${ee.selectedAsset.tokenId}`]}),c.jsxs("p",{className:`text-xs ${s?"text-blue-400":"text-blue-600"} mt-1`,children:["Token ID: ",ee.selectedAsset.tokenId,"  Price: ",ee.selectedAsset.price," ETH"]})]})]})]})}),c.jsxs(Kf,{className:"space-x-2",children:[c.jsx(te,{variant:"outline",onClick:()=>F(!1),children:"Cancel"}),c.jsx(te,{onClick:Ct,disabled:re||!ee.selectedAsset||!e,className:"bg-blue-600 hover:bg-blue-700",children:re?c.jsxs(c.Fragment,{children:[c.jsx(Sr,{className:"w-4 h-4 mr-2 animate-spin"}),"Assigning..."]}):c.jsxs(c.Fragment,{children:[c.jsx(ah,{className:"w-4 h-4 mr-2"}),"Assign Asset"]})})]})]})})]})},jM=A.forwardRef(({className:t,...e},n)=>c.jsx("textarea",{className:vt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));jM.displayName="Textarea";const zf="http://localhost:3001/api";class D3e{async generateMintToken(e){var n;try{const r=await fetch(`${zf}/verification/generate-mint-token`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await r.json();if(r.status===403&&s.error==="SIMILARITY_BLOCKED")return s;if(!r.ok)throw new Error(((n=s.error)==null?void 0:n.message)||"Failed to generate mint token");return s.data}catch(r){throw console.error("Error generating mint token:",r),r}}async checkTokenStatus(e){var n;try{const r=await fetch(`${zf}/verification/token/${e}/status`),s=await r.json();if(!r.ok)throw new Error(((n=s.error)==null?void 0:n.message)||"Failed to check token status");return s.data}catch(r){throw console.error("Error checking token status:",r),r}}async updateTokenAfterMint(e){var n;try{const r=await fetch(`${zf}/verification/token/${e.nonce}/update`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({ipId:e.ipId,tokenId:e.tokenId,txHash:e.txHash})}),s=await r.json();if(!r.ok)throw new Error(((n=s.error)==null?void 0:n.message)||"Failed to update token")}catch(r){throw console.error("Error updating token:",r),r}}hashContent(e){return Ra(Ic(e))}getRemainingTime(e){const n=Math.floor(Date.now()/1e3),r=Math.max(0,e-n);return{minutes:Math.floor(r/60),seconds:r%60,isExpired:r===0}}async findLicenseTerms(e,n){const r=await fetch(`${zf}/license-terms/find?type=${e}&royalty=${n}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!r.ok)throw new Error(`Failed to find license terms: ${r.statusText}`);return r.json()}async cacheLicenseTerms(e){const n=localStorage.getItem("token"),r=await fetch(`${zf}/license-terms/cache`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify(e)});if(!r.ok)throw new Error(`Failed to cache license terms: ${r.statusText}`);return r.json()}async finalizeMint(e){const n=localStorage.getItem("token"),r=!0,s=e.licenseType==="commercial_remix",i=await fetch(`${zf}/verification/token/${e.nonce}/finalize`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({ipId:e.ipId,tokenId:e.tokenId,txHash:e.txHash,licenseTermsId:e.licenseTermsId,licenseType:e.licenseType,royaltyPercent:e.royaltyPercent,allowDerivatives:r,commercialUse:s,licenseTxHash:e.licenseTxHash})});if(!i.ok){const a=await i.json();throw new Error(a.error||`Failed to finalize mint: ${i.statusText}`)}return i.json()}}const ld=new D3e,HJ="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySW5mb3JtYXRpb24iOnsiaWQiOiI2ZDgwYjIxNy04NmQyLTQwMTItODg1My1iODZjODQyYWM5ZTYiLCJlbWFpbCI6ImRpdnlyYWouc2FpbmkyMmJAaWlpdGcuYWMuaW4iLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwicGluX3BvbGljeSI6eyJyZWdpb25zIjpbeyJkZXNpcmVkUmVwbGljYXRpb25Db3VudCI6MSwiaWQiOiJGUkExIn0seyJkZXNpcmVkUmVwbGljYXRpb25Db3VudCI6MSwiaWQiOiJOWUMxIn1dLCJ2ZXJzaW9uIjoxfSwibWZhX2VuYWJsZWQiOmZhbHNlLCJzdGF0dXMiOiJBQ1RJVkUifSwiYXV0aGVudGljYXRpb25UeXBlIjoic2NvcGVkS2V5Iiwic2NvcGVkS2V5S2V5IjoiYjA4M2NhMTZmNDlmYmI2YTEyN2YiLCJzY29wZWRLZXlTZWNyZXQiOiI0NDllNDdjZmFjODllMDU3NzNjOTE5OGQyNzcxODU2MzI3MGNkYTIzMTQ1ODg2MDk4OWQ4ZDA0MjQyNGI2YzhjIiwiZXhwIjoxNzk2NDI2NTczfQ.Y97KdGkpDTxNupWsAnxhxofmJ3bNTRh5o_bqHqZ_eyI";async function eT(t,e){try{const n={pinataContent:t,pinataMetadata:{name:e||`metadata-${Date.now()}`}},r=await fetch("https://api.pinata.cloud/pinning/pinJSONToIPFS",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${HJ}`},body:JSON.stringify(n)});if(!r.ok){const a=await r.text();throw console.error("Pinata upload error:",a),new Error(`Pinata upload failed: ${r.status} ${r.statusText}`)}const i=`ipfs://${(await r.json()).IpfsHash}`;return console.log(` Uploaded to IPFS: ${i}`),i}catch(n){throw console.error("Error uploading JSON to Pinata:",n),n}}async function $8(t,e){try{const n=new FormData;n.append("file",t);const r=JSON.stringify({name:e||t.name});n.append("pinataMetadata",r);const s=await fetch("https://api.pinata.cloud/pinning/pinFileToIPFS",{method:"POST",headers:{Authorization:`Bearer ${HJ}`},body:n});if(!s.ok){const o=await s.text();throw console.error("Pinata file upload error:",o),new Error(`Pinata file upload failed: ${s.status} ${s.statusText}`)}const a=`ipfs://${(await s.json()).IpfsHash}`;return console.log(` Uploaded file to IPFS: ${a}`),a}catch(n){throw console.error("Error uploading file to Pinata:",n),n}}const WJ="0x2E896b0b2Fdb7457499B56AAaA4AE55BCB4Cd316",O3e="0x04fbd8a2e56dd85CFD5500A4A4DfA955B9f1dE6f",L3e="0xBe54FB168b3c982b7AaE60dB6CF75Bd8447b390E",$3e="0xF2104833d386a2734a4eB3B8ad6FC6812F29E38E",F3e=WJ,B3e=L3e,U3e=$3e,F8=WJ,z3e=O3e,V3e=["function registerLicenseTerms((bool transferable, address royaltyPolicy, uint256 defaultMintingFee, uint256 expiration, bool commercialUse, bool commercialAttribution, address commercializerChecker, bytes commercializerCheckerData, uint32 commercialRevShare, uint256 commercialRevCeiling, bool derivativesAllowed, bool derivativesAttribution, bool derivativesApproval, bool derivativesReciprocal, uint256 derivativeRevCeiling, address currency, string uri) terms) external returns (uint256 licenseTermsId)"],H3e=["function attachLicenseTerms(address ipId, address licenseTemplate, uint256 licenseTermsId) external"];async function _M(t,e){if(t==="non_commercial"&&e===0)return console.log(" Using preset non-commercial license (ID: 1)"),"1";const n=await ld.findLicenseTerms(t,e);if(n.licenseTermsId)return console.log(` Using cached license terms: ${n.licenseTermsId}`),n.licenseTermsId;console.log(` Registering license terms: ${t} ${e}%`);const r=new ko(window.ethereum,"any");await r.send("eth_requestAccounts",[]);const s=r.getSigner(),i=new nt(F3e,V3e,s),a={transferable:!0,royaltyPolicy:B3e,defaultMintingFee:0,expiration:0,commercialUse:t==="commercial_remix",commercialAttribution:!0,commercializerChecker:dfe,commercializerCheckerData:"0x",commercialRevShare:e*1e6,commercialRevCeiling:0,derivativesAllowed:!0,derivativesAttribution:!0,derivativesApproval:!1,derivativesReciprocal:!1,derivativeRevCeiling:0,currency:U3e,uri:""};console.log(" Simulating call to get license terms ID...");const o=await i.callStatic.registerLicenseTerms(a);console.log(" Will register license terms ID:",o.toString()),console.log(" Executing license registration transaction...");const u=await(await i.registerLicenseTerms(a)).wait();console.log(" License registered! TX:",u.transactionHash),console.log(" License Terms ID:",o.toString());const d=o.toString();return await ld.cacheLicenseTerms({licenseType:t,royaltyPercent:e,licenseTermsId:d,transactionHash:u.transactionHash}),d}async function DM(t,e){const n=new ko(window.ethereum,"any");await n.send("eth_requestAccounts",[]);const r=n.getSigner(),s=new nt(z3e,H3e,r);console.log(" Attaching license terms..."),console.log("  IP ID:",t),console.log("  License Template:",F8),console.log("  License Terms ID:",e);const i=await s.attachLicenseTerms(t,F8,e);console.log(" Waiting for attach transaction...");const a=await i.wait();return console.log(" License attached! TX:",a.transactionHash),{txHash:a.transactionHash}}const GJ=({isOpen:t,onClose:e,similarityInfo:n,onProceedAsOriginal:r,onRegisterAsDerivative:s})=>{if(!t)return null;const{score:i,topMatch:a,llmAnalysis:o}=n,l=i>=60;return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[c.jsx("div",{className:`p-6 border-b ${l?"bg-red-50":"bg-yellow-50"}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("span",{className:"text-3xl",children:l?"":""}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Similar Content Detected"}),c.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[i,"% similarity to existing IP"]})]})]}),c.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:""})]})}),c.jsxs("div",{className:"p-6 space-y-6",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Similarity Score"}),c.jsxs("span",{className:"text-lg font-bold text-gray-900",children:[i,"%"]})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:c.jsx("div",{className:`h-3 rounded-full ${i>=60?"bg-red-500":"bg-yellow-500"}`,style:{width:`${i}%`}})})]}),o&&c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx("span",{className:"text-2xl",children:""}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"AI Analysis"}),c.jsx("p",{className:"text-sm text-blue-800 mb-3",children:o.summary}),o.key_differences&&c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-medium text-blue-700 mb-1",children:"Key Differences:"}),c.jsx("ul",{className:"text-xs text-blue-700 space-y-1",children:o.key_differences.map((u,d)=>c.jsxs("li",{children:[" ",u]},d))})]}),c.jsxs("div",{className:"mt-2 text-xs text-blue-600",children:["Confidence: ",o.confidence_score,"%"]})]})]})}),c.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Most Similar Content"}),c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"IP ID:"}),c.jsx("span",{className:"font-mono text-xs",children:a.ipId})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Creator:"}),c.jsx("span",{className:"font-mono text-xs",children:a.creatorAddress})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Content Hash:"}),c.jsx("span",{className:"font-mono text-xs truncate max-w-xs",children:a.contentHash})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Asset Type:"}),c.jsx("span",{className:"capitalize",children:a.assetType})]})]})]}),c.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"What does this mean?"}),c.jsx("p",{className:"text-sm text-gray-700",children:i>=60?c.jsxs(c.Fragment,{children:["Your content is ",c.jsx("strong",{children:"highly similar"})," to existing registered IP. We ",c.jsx("strong",{children:"strongly recommend"})," registering it as a derivative work to properly attribute the original creator and comply with licensing terms."]}):c.jsxs(c.Fragment,{children:["Your content shows ",c.jsx("strong",{children:"moderate similarity"})," to existing IP. If you created this independently, you can proceed. If this is a remix or derivative, we recommend linking it to the parent IP."]})})]})]}),c.jsxs("div",{className:"p-6 border-t bg-gray-50 space-y-3",children:[c.jsx("button",{onClick:s,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-4 rounded-lg transition-colors",children:" Register as Derivative (Recommended)"}),c.jsx("button",{onClick:r,className:"w-full bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-3 px-4 rounded-lg transition-colors",children:"Continue as Original Work"}),c.jsx("p",{className:"text-xs text-gray-500 text-center",children:"By proceeding as original, you confirm you created this content independently. False claims may result in account suspension."})]})]})})},KJ=({isOpen:t,onClose:e,blockedInfo:n})=>{if(!t)return null;const{score:r,topMatch:s,llmAnalysis:i}=n;return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-2xl max-w-2xl w-full mx-4",children:[c.jsx("div",{className:"p-6 bg-red-600 text-white rounded-t-lg",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("span",{className:"text-4xl",children:""}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold",children:"Upload Blocked"}),c.jsxs("p",{className:"text-red-100 mt-1",children:["High similarity detected (",r,"%)"]})]})]})}),c.jsxs("div",{className:"p-6 space-y-4",children:[c.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[c.jsx("p",{className:"text-red-900 font-medium mb-2",children:" Your upload has been blocked"}),c.jsxs("p",{className:"text-red-800 text-sm",children:["Our AI detected ",r,"% similarity to existing registered IP. This level of similarity indicates potential copyright infringement and requires manual review before proceeding."]})]}),i&&c.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:" AI Analysis"}),c.jsx("p",{className:"text-sm text-gray-700",children:i.summary}),i.is_plagiarism&&c.jsx("div",{className:"mt-2 text-sm text-red-600 font-medium",children:" Potential plagiarism detected"})]}),c.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Similar to:"}),c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"IP ID:"}),c.jsx("span",{className:"font-mono text-xs",children:s.ipId})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Creator:"}),c.jsx("span",{className:"font-mono text-xs",children:s.creatorAddress})]})]})]}),c.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[c.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"What can you do?"}),c.jsxs("ul",{className:"text-sm text-blue-800 space-y-2",children:[c.jsx("li",{children:" If you created this content independently, contact support with proof"}),c.jsx("li",{children:" If this is a derivative/remix, obtain a license from the original creator"}),c.jsx("li",{children:" Upload different content that doesn't infringe on existing IP"})]})]})]}),c.jsxs("div",{className:"p-6 border-t bg-gray-50",children:[c.jsx("button",{onClick:e,className:"w-full bg-gray-800 hover:bg-gray-900 text-white font-medium py-3 px-4 rounded-lg transition-colors",children:"Close"}),c.jsx("p",{className:"text-xs text-gray-500 text-center mt-3",children:"Your upload has been flagged for admin review. You'll be notified if the decision is reversed."})]})]})})},YJ="0x523",B8={chainId:YJ,chainName:"Story Aeneid Testnet",nativeCurrency:{name:"IP",symbol:"IP",decimals:18},rpcUrls:["https://aeneid.storyrpc.io"],blockExplorerUrls:["https://aeneid.storyscan.xyz"]},W3e=["text"],G3e=()=>{const t=Ll(),e=Ol(),{address:n,isConnected:r,connectWallet:s,provider:i,signer:a}=ir();A.useState(null),A.useState(null),A.useState(null),A.useState(null),A.useState(!1);const[o,l]=A.useState(null),[u,d]=A.useState(!1),[p,f]=A.useState("create"),[h,y]=A.useState([]),[m,b]=A.useState(!1),[v,g]=A.useState({title:"",description:"",assetType:"text",text:[],representativeImage:[]}),[x,T]=A.useState(!1),[I,C]=A.useState("create"),[N,P]=A.useState(null),[L,U]=A.useState(null),[$,B]=A.useState(""),[_,w]=A.useState(""),[k,S]=A.useState(""),[M,R]=A.useState(!1),[j,V]=A.useState(!1),[O,E]=A.useState(null),[z,Z]=A.useState(!1),[F,H]=A.useState({type:"commercial_remix",royaltyPercent:10}),[K,Y]=A.useState(null),J=Ie=>Ra(Ic(Ie)),re=async()=>{if(!window.ethereum)throw new Error("MetaMask not found");try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:YJ}]})}catch(Ie){if(Ie.code===4902)await window.ethereum.request({method:"wallet_addEthereumChain",params:[B8]});else throw Ie}},Q=async()=>{var Ie,Ne;if(!a||!n){ge.error("Please connect your wallet first");return}if(!v.title||!v.description){ge.error("Please fill in a title and description for your IP asset.");return}T(!0),C(" Starting..."),Z(!1),R(!1),V(!1);try{C(" Connecting to Aeneid network..."),await re();const tt=a.provider,je=await tt.getNetwork();if(je.chainId!==1315)throw new Error(`Wrong network! Please switch to Aeneid (Chain ID: 1315). Current: ${je.chainId}`);const Ct=n;console.log("Connected as:",Ct),C(" Preparing content...");const Ar=`# ${v.title}

${v.description}`,st=J(Ar);B(st),console.log("Content hash:",st),C(" Uploading metadata to IPFS...");let Nt="";if(v.text.length>0)try{Nt=await $8(v.text[0],v.title),console.log(" Document uploaded:",Nt)}catch(Me){console.warn(" Document upload failed:",Me)}let Dn="";if(v.representativeImage.length>0)try{Dn=await $8(v.representativeImage[0],`${v.title}-representative`),console.log(" Representative image uploaded:",Dn)}catch(Me){console.warn(" Representative image upload failed:",Me)}const zt={title:v.title,description:v.description,contentHash:st,assetType:v.assetType.toLowerCase(),creator:Ct,createdAt:new Date().toISOString()},X={name:v.title,description:`NFT for IP Asset - ${v.assetType}`,image:Dn||Nt,attributes:[{trait_type:"Asset Type",value:v.assetType},{trait_type:"Creator",value:Ct},{trait_type:"Content Hash",value:st}]};console.log(" Uploading IP metadata to Pinata..."),console.log("IP Metadata:",zt);let ke,ve;try{ke=await eT(zt,`ip-metadata-${st}`),console.log(` IP Metadata uploaded: ${ke}`)}catch(Me){throw console.error(" Failed to upload IP metadata:",Me),new Error(`IPFS upload failed: ${Me instanceof Error?Me.message:"Unknown error"}`)}console.log(" Uploading NFT metadata to Pinata..."),console.log("NFT Metadata:",X);try{ve=await eT(X,`nft-metadata-${st}`),console.log(` NFT Metadata uploaded: ${ve}`)}catch(Me){throw console.error(" Failed to upload NFT metadata:",Me),new Error(`IPFS upload failed: ${Me instanceof Error?Me.message:"Unknown error"}`)}w(ke),S(ve),C(" Checking for similar content (RAG Detection Engine)...");const Ee=await ld.generateMintToken({title:v.title,assetDescription:v.description,creatorAddress:Ct,contentHash:st,ipMetadataURI:ke,nftMetadataURI:ve,assetType:v.assetType.toLowerCase(),image:Nt||void 0,representativeImageUrl:Dn||void 0});if("error"in Ee&&Ee.error==="SIMILARITY_BLOCKED"){C(" Upload blocked due to high similarity"),E(Ee.similarity),V(!0),T(!1);return}const De=Ee;if(P(De),(Ie=De.similarity)!=null&&Ie.warning){C(" Similar content detected - review required"),E(De.similarity),R(!0),T(!1);return}C(" Content verified clean! Minting..."),await ee(De,Ct,tt,st,ke,ve)}catch(tt){console.error("Minting error:",tt);const je=tt.reason||((Ne=tt.data)==null?void 0:Ne.message)||tt.message||"Unknown error";C(` Failed: ${je}`),ge.error(`Minting failed: ${je}`,{duration:5e3})}finally{T(!1)}},ee=async(Ie,Ne,tt,je,Ct,Ar)=>{try{C(" Minting IP Asset on Story Protocol...");const st=tt.getSigner(),Nt="0xbe39E1C756e921BD25DF86e7AAa31106d1eb0424",Dn="0x78AD3d22E62824945DED384a5542Ad65de16E637",zt=["function mintAndRegisterIp(address spgNftContract, address recipient, tuple(string ipMetadataURI, bytes32 ipMetadataHash, string nftMetadataURI, bytes32 nftMetadataHash) ipMetadata, bool allowDuplicates) returns (address ipId, uint256 tokenId)"],X=new nt(Nt,zt,st),ke={ipMetadataURI:Ct,ipMetadataHash:Ra(Ic(Ct)),nftMetadataURI:Ar,nftMetadataHash:Ra(Ic(Ar))};console.log(" Calling RegistrationWorkflows.mintAndRegisterIp DIRECTLY"),console.log("SPG NFT Contract:",Dn),console.log("Recipient:",Ne),console.log("Metadata:",ke),C(" Simulating transaction to get return values...");const{ipId:ve,tokenId:Ee}=await X.callStatic.mintAndRegisterIp(Dn,Ne,ke,!0);console.log(" Predicted return values:",{ipId:ve,tokenId:Ee.toString()}),C(" Sending transaction to blockchain...");const De=await X.mintAndRegisterIp(Dn,Ne,ke,!0,{gasLimit:5e6});console.log(" Transaction sent:",De.hash),C(" Waiting for confirmation...");const Me=await De.wait();console.log(" Transaction confirmed!",Me);const ct=ve,Pt=Ee.toNumber(),it={ipId:ct,tokenId:Pt,txHash:Me.transactionHash};console.log(" Mint result:",it);try{C(" Updating backend with IP ID..."),await ld.updateTokenAfterMint({nonce:Ie.nonce,ipId:it.ipId,tokenId:it.tokenId,txHash:it.txHash}),console.log(" Backend updated successfully with IP ID and token ID"),C(" Backend updated! IP Asset registered successfully.")}catch(we){console.error(" Backend update failed:",we),C(" IP minted but backend update failed. Asset may show as pending.")}C(" IP Asset Registered! Configure license terms below."),U(it),Z(!0),ge.success(" IP Asset minted successfully! Please attach license terms.")}catch(st){throw console.error("Minting failed:",st),st}},We=async()=>{var Ie;R(!1),T(!0);try{if(!N)throw new Error("No mint token available");if(!$)throw new Error("No content hash available");if(!_||!k)throw new Error("Metadata URIs not available");const Ne=new ko(window.ethereum),je=await Ne.getSigner().getAddress();C(" Proceeding as original work..."),await ee(N,je,Ne,$,_,k)}catch(Ne){console.error("Minting error:",Ne);const tt=Ne.reason||((Ie=Ne.data)==null?void 0:Ie.message)||Ne.message||"Unknown error";C(` Failed: ${tt}`),ge.error(`Minting failed: ${tt}`,{duration:5e3})}finally{T(!1)}},oe=async()=>{var Ie;R(!1),T(!0);try{if(!N||!O||!("warning"in O))throw new Error("No similarity data available");if(!$||!_||!k)throw new Error("Metadata not available");const Ne=new ko(window.ethereum),je=await Ne.getSigner().getAddress();C(" Registering as derivative work..."),await ee(N,je,Ne,$,_,k),localStorage.setItem("pendingDerivativeParent",O.topMatch.ipId)}catch(Ne){console.error("Derivative registration error:",Ne);const tt=Ne.reason||((Ie=Ne.data)==null?void 0:Ie.message)||Ne.message||"Unknown error";C(` Failed: ${tt}`),ge.error(`Registration failed: ${tt}`,{duration:5e3})}finally{T(!1)}},be=async()=>{var Ie;if(!L||!N){ge.error("No mint result to attach license to.");return}T(!0),C("Attaching license terms...");try{C("Getting or registering license terms...");const Ne=await _M(F.type,F.royaltyPercent);console.log(" License terms ID:",Ne),C("Attaching license to IP asset on-chain...");const tt=await DM(L.ipId,Ne);console.log(" License attached on-chain! TX:",tt.txHash),C(" Finalizing registration with backend..."),await ld.finalizeMint({nonce:N.nonce,ipId:L.ipId,tokenId:L.tokenId,txHash:L.txHash,licenseTermsId:Ne,licenseType:F.type,royaltyPercent:F.royaltyPercent,licenseTxHash:tt.txHash}),console.log(" Backend finalized successfully with license info"),C(" SUCCESS! IP fully registered with license terms in backend."),Y({...L,licenseTermsId:Ne,licenseTxHash:tt.txHash}),Z(!1),ge.success(" License attached successfully! IP Asset is fully registered.");try{const je={ipId:L.ipId,tokenId:L.tokenId,title:v.title,description:v.description,assetType:v.assetType,contentHash:$,ipMetadataURI:_,nftMetadataURI:k,txHash:L.txHash,licenseTxHash:tt.txHash,licenseTermsId:Ne,licenseType:F.type,royaltyPercent:F.royaltyPercent,creator:n,registeredAt:new Date().toISOString(),status:"registered"},Ct=JSON.parse(localStorage.getItem("registeredIPAssets")||"[]");Ct.unshift(je),localStorage.setItem("registeredIPAssets",JSON.stringify(Ct)),console.log(" Saved to localStorage:",je)}catch(je){console.warn(" Failed to save to localStorage:",je)}g({title:"",description:"",assetType:"text",text:[],representativeImage:[]})}catch(Ne){console.error("License attachment failed:",Ne);const tt=Ne.reason||((Ie=Ne.data)==null?void 0:Ie.message)||Ne.message||"License attachment failed";C(` License attachment failed: ${tt}`),ge.error(`License attachment failed: ${tt}`,{duration:5e3})}finally{T(!1)}};if(!r)return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:c.jsxs(me,{className:"w-full max-w-md",children:[c.jsxs(yt,{className:"text-center",children:[c.jsx(gt,{children:"Connect Wallet"}),c.jsx(Pr,{children:"Please connect your wallet to access the issuer dashboard"})]}),c.jsx(ye,{className:"text-center",children:c.jsx(te,{onClick:s,className:"w-full",children:"Connect Wallet"})})]})});if(u)return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:c.jsx(me,{className:"w-full max-w-md",children:c.jsx(ye,{className:"pt-6",children:c.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[c.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),c.jsx("span",{children:"Initializing issuer service..."})]})})})});if(o===!1)return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:c.jsxs(me,{className:"w-full max-w-md",children:[c.jsxs(yt,{className:"text-center",children:[c.jsx(gt,{className:"text-red-600",children:"Not Authorized"}),c.jsx(Pr,{children:"Your wallet is not authorized as an issuer. Please contact the admin."})]}),c.jsxs(ye,{className:"text-center",children:[c.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Wallet: ",n]}),c.jsx(te,{variant:"outline",onClick:()=>window.location.reload(),children:"Refresh"})]})]})});const ft=()=>{var Ne;const Ie=(Ne=e.state)==null?void 0:Ne.from;t(Ie||-1)};return c.jsxs("div",{className:"min-h-screen  from-blue-50 to-indigo-100",style:{backgroundColor:"rgba(230, 240, 249, 0.9)"},children:[c.jsx(WT,{}),c.jsxs("div",{className:"container mx-auto px-4 py-8",style:{position:"relative",zIndex:1},children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs(te,{variant:"ghost",onClick:ft,className:"mb-4 hover:bg-gray-200 text-gray-700",children:[c.jsx(KC,{className:"w-4 h-4 mr-2"}),"Back"]}),c.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2 z-100",children:"Creator Dashboard"}),c.jsx("p",{className:"text-gray-600",children:"Register new IP assets and manage legacy token requests."}),c.jsx("div",{className:"mt-4",children:c.jsxs(Ue,{variant:"outline",className:"mr-2",children:["Connected: ",n==null?void 0:n.slice(0,6),"...",n==null?void 0:n.slice(-4)]})})]}),c.jsxs(ef,{value:p,onValueChange:f,className:"space-y-6",children:[c.jsxs(vd,{className:"grid w-full grid-cols-2",children:[c.jsx(Mr,{value:"create",children:"Register IP Asset"}),c.jsx(Mr,{value:"requests",children:"Legacy Requests"})]}),c.jsx(ds,{value:"dashboard",className:"space-y-6",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 z-1",children:[c.jsxs(me,{className:"flex flex-col bg-white/20",children:[c.jsxs(yt,{children:[c.jsx(gt,{children:"Register New IP Asset"}),c.jsx(Pr,{children:"Use the verified Story Protocol workflow to mint a new IP asset directly on-chain."})]}),c.jsx(ye,{className:"flex-grow flex items-center justify-center",children:c.jsxs(te,{size:"lg",onClick:()=>f("create"),children:[c.jsx(R3,{className:"w-5 h-5 mr-2"}),"Go to Registration"]})})]}),c.jsxs(me,{className:"flex flex-col bg-white/20",children:[c.jsxs(yt,{children:[c.jsx(gt,{children:"Legacy Token Requests"}),c.jsx(Pr,{children:"View and manage your requests submitted through the old admin approval system."})]}),c.jsx(ye,{className:"flex-grow flex items-center justify-center",children:c.jsxs(te,{size:"lg",variant:"secondary",onClick:()=>f("requests"),children:[c.jsx(fd,{className:"w-5 h-5 mr-2"}),"View Legacy Requests"]})})]})]})}),c.jsx(ds,{value:"create",className:"space-y-6",children:c.jsxs(me,{className:"bg-white/20",children:[c.jsxs(yt,{children:[c.jsx(gt,{children:"Register New IP Asset"}),c.jsx(Pr,{children:"This will register your IP directly on the Story Protocol Aeneid testnet."})]}),c.jsxs(ye,{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(Ut,{htmlFor:"title",children:"IP Asset Title *"}),c.jsx(an,{id:"title",value:v.title,onChange:Ie=>g(Ne=>({...Ne,title:Ie.target.value})),placeholder:"e.g., My Awesome Sci-Fi Novel"})]}),c.jsxs("div",{children:[c.jsx(Ut,{htmlFor:"description",children:"Description *"}),c.jsx(jM,{id:"description",value:v.description,onChange:Ie=>g(Ne=>({...Ne,description:Ie.target.value})),placeholder:"Provide a brief description of your IP asset.",rows:4})]}),c.jsxs("div",{children:[c.jsx(Ut,{htmlFor:"assetType",children:"Asset Type *"}),c.jsxs(mv,{value:v.assetType,onValueChange:Ie=>g(Ne=>({...Ne,assetType:Ie})),children:[c.jsx(Mm,{children:c.jsx(yv,{placeholder:"Select asset type"})}),c.jsx(jm,{children:W3e.map(Ie=>c.jsx(Ca,{value:Ie,children:Ie},Ie))})]})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsxs(Ut,{htmlFor:"text",className:"flex items-center gap-2",children:["Upload Document ",c.jsx("span",{className:"text-red-600",children:"*"}),v.text.length>0&&c.jsx("span",{className:"text-green-600 text-sm",children:" File uploaded"})]}),c.jsx(an,{id:"text",type:"file",accept:".txt,.md,.pdf,.doc,.docx,.odt,.rtf",onChange:Ie=>{const Ne=Array.from(Ie.target.files||[]);g(tt=>({...tt,text:Ne}))},required:!0,className:v.text.length===0?"border-red-300":"border-green-300"}),v.text.length>0&&c.jsxs("p",{className:"text-xs text-green-600 mt-1 font-semibold",children:[" Selected: ",v.text[0].name]}),c.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[c.jsx("span",{className:"text-red-600 font-semibold",children:"Required:"})," Supported formats: TXT, MD, PDF, DOC, DOCX, ODT, RTF"]})]}),c.jsxs("div",{children:[c.jsxs(Ut,{htmlFor:"representativeImage",className:"flex items-center gap-2",children:["Representative Image (Optional)",v.representativeImage.length>0&&c.jsx("span",{className:"text-green-600 text-sm",children:" Image selected"})]}),c.jsx(an,{id:"representativeImage",type:"file",accept:"image/jpeg,image/png,image/gif",onChange:Ie=>{const Ne=Array.from(Ie.target.files||[]);g(tt=>({...tt,representativeImage:Ne}))}}),v.representativeImage.length>0&&c.jsxs("p",{className:"text-xs text-green-600 mt-1 font-semibold",children:[" Selected: ",v.representativeImage[0].name]}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: A cover image for your asset (JPG, PNG, GIF)."})]})]})]}),c.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[c.jsx(te,{onClick:Q,disabled:x||!v.title||!v.description||v.text.length===0,className:"w-full max-w-xs",size:"lg",children:x?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-3"}),"Submitting..."]}):c.jsxs(c.Fragment,{children:[c.jsx(R3,{className:"w-5 h-5 mr-2"}),"Register IP Asset"]})}),!x&&(!v.title||!v.description||v.text.length===0)&&c.jsxs("p",{className:"text-xs text-red-600 text-center",children:[!v.title&&" Title is required",v.title&&!v.description&&" Description is required",v.title&&v.description&&v.text.length===0&&" Document upload is required"]}),c.jsx("p",{className:"text-sm text-gray-600 font-mono h-4",children:x&&I})]})]})]})}),c.jsx(ds,{value:"requests",className:"space-y-6",children:c.jsxs(me,{className:"bg-white/20",children:[c.jsxs(yt,{children:[c.jsx(gt,{children:"Legacy Token Requests"}),c.jsx(Pr,{children:"History of requests submitted via the admin approval system."})]}),c.jsx(ye,{children:m?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Loading requests..."})]}):h.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx(fd,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No legacy requests found"})]}):c.jsx("div",{className:"space-y-4"})})]})})]}),z&&!K&&L&&c.jsxs(me,{className:"mt-6 border-2 border-blue-400 bg-blue-50",children:[c.jsxs(yt,{children:[c.jsx(gt,{className:"text-blue-700",children:" IP Registered! Now, Attach a License."}),c.jsx(Pr,{children:"Your IP Asset has been minted. Attach license terms to complete registration."})]}),c.jsxs(ye,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2 font-mono text-sm bg-white p-4 rounded",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-600",children:"IP ID:"})," ",c.jsx("span",{className:"text-blue-600 break-all",children:L.ipId})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-600",children:"Token ID:"})," ",c.jsx("span",{className:"text-blue-600",children:L.tokenId})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"license-type-selector bg-white p-4 rounded-md space-y-2",children:[c.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[c.jsx("input",{type:"radio",name:"licenseType",className:"form-radio h-5 w-5 text-blue-600",checked:F.type==="commercial_remix",onChange:()=>H({...F,type:"commercial_remix"})}),c.jsxs("div",{children:[c.jsx("span",{className:"font-semibold",children:"Commercial Remix"}),c.jsx("span",{className:"block text-xs text-gray-600",children:" Commercial use  Derivatives  Attribution"})]})]}),c.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[c.jsx("input",{type:"radio",name:"licenseType",className:"form-radio h-5 w-5 text-blue-600",checked:F.type==="non_commercial",onChange:()=>H({...F,type:"non_commercial",royaltyPercent:0})}),c.jsxs("div",{children:[c.jsx("span",{className:"font-semibold",children:"Non-Commercial Only"}),c.jsx("span",{className:"block text-xs text-gray-600",children:" No commercial use  Derivatives  Attribution"})]})]})]}),F.type==="commercial_remix"&&c.jsxs("div",{className:"royalty-slider bg-white p-4 rounded-md",children:[c.jsxs("label",{className:"block mb-2 font-semibold",children:["Royalty Percentage: ",F.royaltyPercent,"%"]}),c.jsx("input",{type:"range",min:"0",max:"100",value:F.royaltyPercent,onChange:Ie=>H({...F,royaltyPercent:parseInt(Ie.target.value)}),className:"w-full h-2 bg-gray-300 rounded-lg appearance-none cursor-pointer"})]}),c.jsx(te,{onClick:be,disabled:x,className:"w-full",size:"lg",children:x?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-3"}),"Attaching..."]}):"Attach License & Finalize"})]})]})]}),K&&c.jsxs(me,{className:"mt-6 border-2 border-green-500 bg-green-50",children:[c.jsxs(yt,{children:[c.jsx(gt,{className:"text-green-700",children:" IP Fully Registered!"}),c.jsx(Pr,{children:"Your IP Asset is now fully registered with license terms on Story Protocol."})]}),c.jsxs(ye,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2 font-mono text-sm bg-white p-4 rounded",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-600",children:"IP ID:"})," ",c.jsx("span",{className:"text-green-600 break-all",children:K.ipId})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-600",children:"Token ID:"})," ",c.jsx("span",{className:"text-green-600",children:K.tokenId})]}),K.licenseTermsId&&c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-600",children:"License Terms ID:"})," ",c.jsx("span",{className:"text-green-600",children:K.licenseTermsId})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-600",children:"Mint Tx Hash:"})," ",c.jsx("span",{className:"text-green-600 break-all",children:K.txHash})]}),K.licenseTxHash&&c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-600",children:"License Tx Hash:"})," ",c.jsx("span",{className:"text-green-600 break-all",children:K.licenseTxHash})]})]}),c.jsx(te,{onClick:()=>window.open(`${B8.blockExplorerUrls[0]}/tx/${K.licenseTxHash||K.txHash}`,"_blank"),variant:"outline",className:"w-full",children:"View on Explorer "})]})]})]}),M&&O&&"warning"in O&&c.jsx(GJ,{isOpen:M,onClose:()=>R(!1),similarityInfo:O,onProceedAsOriginal:We,onRegisterAsDerivative:oe}),j&&O&&!("warning"in O)&&c.jsx(KJ,{isOpen:j,onClose:()=>{V(!1),g({title:"",description:"",assetType:"text",text:[],representativeImage:[]})},blockedInfo:O})]})},K3e=({children:t,className:e})=>c.jsxs("div",{className:vt("relative flex min-h-screen flex-col items-center justify-center overflow-hidden bg-slate-950 w-full rounded-md z-0",e),children:[c.jsxs("div",{className:"relative flex w-full flex-1 scale-y-125 items-center justify-center isolate z-0 ",children:[c.jsxs(xh.div,{initial:{opacity:.5,width:"15rem"},whileInView:{opacity:1,width:"30rem"},transition:{delay:.3,duration:.8,ease:"easeInOut"},style:{backgroundImage:"conic-gradient(var(--conic-position), var(--tw-gradient-stops))"},className:"absolute inset-auto right-1/2 h-56 overflow-visible w-[30rem] bg-gradient-conic from-cyan-500 via-transparent to-transparent text-white [--conic-position:from_70deg_at_center_top]",children:[c.jsx("div",{className:"absolute  w-[100%] left-0 bg-slate-950 h-40 bottom-0 z-20 [mask-image:linear-gradient(to_top,white,transparent)]"}),c.jsx("div",{className:"absolute  w-40 h-[100%] left-0 bg-slate-950  bottom-0 z-20 [mask-image:linear-gradient(to_right,white,transparent)]"})]}),c.jsxs(xh.div,{initial:{opacity:.5,width:"15rem"},whileInView:{opacity:1,width:"30rem"},transition:{delay:.3,duration:.8,ease:"easeInOut"},style:{backgroundImage:"conic-gradient(var(--conic-position), var(--tw-gradient-stops))"},className:"absolute inset-auto left-1/2 h-56 w-[30rem] bg-gradient-conic from-transparent via-transparent to-cyan-500 text-white [--conic-position:from_290deg_at_center_top]",children:[c.jsx("div",{className:"absolute  w-40 h-[100%] right-0 bg-slate-950  bottom-0 z-20 [mask-image:linear-gradient(to_left,white,transparent)]"}),c.jsx("div",{className:"absolute  w-[100%] right-0 bg-slate-950 h-40 bottom-0 z-20 [mask-image:linear-gradient(to_top,white,transparent)]"})]}),c.jsx("div",{className:"absolute top-1/2 h-48 w-full translate-y-12 scale-x-150 bg-slate-950 blur-2xl"}),c.jsx("div",{className:"absolute top-1/2 z-50 h-48 w-full bg-transparent opacity-10 backdrop-blur-md"}),c.jsx("div",{className:"absolute inset-auto z-50 h-36 w-[28rem] -translate-y-1/2 rounded-full bg-cyan-500 opacity-50 blur-3xl"}),c.jsx(xh.div,{initial:{width:"8rem"},whileInView:{width:"16rem"},transition:{delay:.3,duration:.8,ease:"easeInOut"},className:"absolute inset-auto z-30 h-36 w-64 -translate-y-[6rem] rounded-full bg-cyan-400 blur-2xl"}),c.jsx(xh.div,{initial:{width:"15rem"},whileInView:{width:"30rem"},transition:{delay:.3,duration:.8,ease:"easeInOut"},className:"absolute inset-auto z-50 h-0.5 w-[30rem] -translate-y-[7rem] bg-cyan-400 "}),c.jsx("div",{className:"absolute inset-auto z-40 h-44 w-full -translate-y-[12.5rem] bg-slate-950 "})]}),c.jsx("div",{className:"relative z-50 flex -translate-y-80 flex-col items-center px-5",children:t})]}),qJ=({navItems:t,className:e})=>{const n=Ll(),{scrollYProgress:r}=nTe(),[s,i]=A.useState(!0);return E1e(r,"change",a=>{if(typeof a=="number"){let o=a-r.getPrevious();r.get()<.05||o<0?i(!0):i(!1)}}),c.jsx(J0e,{mode:"wait",children:c.jsxs(xh.div,{initial:{opacity:1,y:-100},animate:{y:s?0:-100,opacity:s?1:0},transition:{duration:.2},className:vt("flex max-w-fit  fixed top-10 inset-x-0 mx-auto border border-transparent dark:border-white/[0.2] rounded-full dark:bg-black bg-white shadow-[0px_2px_3px_-1px_rgba(0,0,0,0.1),0px_1px_0px_0px_rgba(25,28,33,0.02),0px_0px_0px_1px_rgba(25,28,33,0.08)] z-[5000] pr-2 pl-8 py-2  items-center justify-center space-x-4",e),children:[t.map((a,o)=>c.jsxs("a",{href:a.link,className:vt("relative dark:text-neutral-50 items-center flex space-x-1 text-neutral-600 dark:hover:text-neutral-300 hover:text-neutral-500"),children:[c.jsx("span",{className:"block sm:hidden",children:a.icon}),c.jsx("span",{className:"hidden sm:block text-sm",children:a.name})]},`link=${o}`)),"        ",c.jsxs("button",{onClick:()=>n("/marketplace"),className:"border text-sm font-medium relative border-neutral-200 dark:border-white/[0.2] text-black dark:text-white px-4 py-2 rounded-full hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-colors",children:[c.jsx("span",{children:"Marketplace"}),c.jsx("span",{className:"absolute inset-x-0 w-1/2 mx-auto -bottom-px bg-gradient-to-r from-transparent via-blue-500 to-transparent  h-px"})]})]})})};/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Y3e={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const nu=(t,e,n,r)=>{const s=A.forwardRef(({color:i="currentColor",size:a=24,stroke:o=2,title:l,className:u,children:d,...p},f)=>A.createElement("svg",{ref:f,...Y3e[t],width:a,height:a,className:["tabler-icon",`tabler-icon-${e}`,u].join(" "),strokeWidth:o,stroke:i,...p},[l&&A.createElement("title",{key:"svg-title"},l),...r.map(([h,y])=>A.createElement(h,y)),...Array.isArray(d)?d:[d]]));return s.displayName=`${n}`,s};/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var q3e=nu("outline","coin","IconCoin",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M14.8 9a2 2 0 0 0 -1.8 -1h-2a2 2 0 1 0 0 4h2a2 2 0 1 1 0 4h-2a2 2 0 0 1 -1.8 -1",key:"svg-1"}],["path",{d:"M12 7v10",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Z3e=nu("outline","globe","IconGlobe",[["path",{d:"M7 9a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M5.75 15a8.015 8.015 0 1 0 9.25 -13",key:"svg-1"}],["path",{d:"M11 17v4",key:"svg-2"}],["path",{d:"M7 21h8",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ZJ=nu("outline","home","IconHome",[["path",{d:"M5 12l-2 0l9 -9l9 9l-2 0",key:"svg-0"}],["path",{d:"M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7",key:"svg-1"}],["path",{d:"M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var X3e=nu("outline","lock","IconLock",[["path",{d:"M5 13a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v6a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-6z",key:"svg-0"}],["path",{d:"M11 16a1 1 0 1 0 2 0a1 1 0 0 0 -2 0",key:"svg-1"}],["path",{d:"M8 11v-4a4 4 0 1 1 8 0v4",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var XJ=nu("outline","message","IconMessage",[["path",{d:"M8 9h8",key:"svg-0"}],["path",{d:"M8 13h6",key:"svg-1"}],["path",{d:"M18 4a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-5l-5 3v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12z",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var J3e=nu("outline","shield","IconShield",[["path",{d:"M12 3a12 12 0 0 0 8.5 3a12 12 0 0 1 -8.5 15a12 12 0 0 1 -8.5 -15a12 12 0 0 0 8.5 -3",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Q3e=nu("outline","trending-up","IconTrendingUp",[["path",{d:"M3 17l6 -6l4 4l8 -8",key:"svg-0"}],["path",{d:"M14 7l7 0l0 7",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var JJ=nu("outline","user","IconUser",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var e4e=nu("outline","users","IconUsers",[["path",{d:"M9 7m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-0"}],["path",{d:"M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"svg-2"}],["path",{d:"M21 21v-2a4 4 0 0 0 -3 -3.85",key:"svg-3"}]]);const t4e=()=>{const t=[{name:"Home",link:"/",icon:c.jsx(ZJ,{className:"h-4 w-4 text-neutral-500 dark:text-white"})},{name:"About",link:"/about",icon:c.jsx(JJ,{className:"h-4 w-4 text-neutral-500 dark:text-white"})},{name:"Tokenize",link:"/issuer",icon:c.jsx(XJ,{className:"h-4 w-4 text-neutral-500 dark:text-white"})}];return c.jsxs("div",{className:"min-h-screen bg-black",children:[c.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-black/50 backdrop-blur-sm",children:c.jsx("div",{className:"container mx-auto",children:c.jsx(qJ,{navItems:t})})}),c.jsx("div",{className:"h-screen",children:c.jsxs(K3e,{className:"h-screen",children:[c.jsx(Gt.h1,{initial:{opacity:.5,y:100},whileInView:{opacity:1,y:0},transition:{delay:.3,duration:.8,ease:"easeInOut"},className:"mt-40 text-center text-4xl font-light tracking-tight text-white md:text-6xl lg:text-7xl",children:"Open Assets"}),c.jsxs(Gt.div,{initial:{opacity:0,y:100},whileInView:{opacity:1,y:0},transition:{delay:.5,duration:.8},className:"mt-8 max-w-4xl text-center text-white/90",children:[c.jsx("p",{className:"text-xl md:text-2xl font-light leading-relaxed mb-6",children:"Democratizing Premium Real-World Asset Investment Through Blockchain Technology"}),c.jsxs("p",{className:"text-lg text-white/70 font-light leading-relaxed max-w-3xl mx-auto flex items-center justify-center gap-2",children:["Built on ",c.jsx("span",{className:"text-white font-medium",children:"Flow Network"}),c.jsx("img",{src:"flowscan-logo.svg",alt:"Flow Logo",className:"h-6 w-auto inline-block"})]})]})]})}),c.jsx("div",{className:"py-20 bg-gradient-to-b from-gray-50 to-white",children:c.jsx("div",{className:"container mx-auto px-4 max-w-6xl",children:c.jsxs(Gt.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{delay:.2,duration:.8},className:"text-center mb-16",children:[c.jsx("h2",{className:"text-4xl md:text-5xl font-light text-gray-900 mb-6",children:"Our Mission"}),c.jsx("p",{className:"text-xl text-gray-600 font-light leading-relaxed max-w-4xl mx-auto",children:"To democratize access to premium real-world assets by creating the most secure, compliant, and accessible tokenization platform, enabling anyone to invest in high-value assets starting from just $10."})]})})}),c.jsx("div",{className:"py-16 bg-white",children:c.jsx("div",{className:"container mx-auto px-4 max-w-6xl",children:c.jsxs(Gt.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{delay:.3,duration:.8},className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-20",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-4xl font-light text-blue-600 mb-2",children:"$280T"}),c.jsx("div",{className:"text-gray-600 font-light",children:"Global RWA Market"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-4xl font-light text-blue-600 mb-2",children:"$10"}),c.jsx("div",{className:"text-gray-600 font-light",children:"Minimum Investment"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-4xl font-light text-blue-600 mb-2",children:"2s"}),c.jsx("div",{className:"text-gray-600 font-light",children:"Transaction Finality"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-4xl font-light text-blue-600 mb-2",children:"24/7"}),c.jsx("div",{className:"text-gray-600 font-light",children:"Global Trading"})]})]})})}),c.jsx("div",{className:"py-20 bg-gray-50",children:c.jsx("div",{className:"container mx-auto px-4 max-w-6xl",children:c.jsxs(Gt.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{delay:.3,duration:.8},className:"mb-20",children:[c.jsx("h2",{className:"text-4xl md:text-5xl font-light text-gray-900 mb-6 text-center",children:"Platform Overview"}),c.jsx("p",{className:"text-xl text-gray-600 font-light text-center max-w-3xl mx-auto leading-relaxed mb-16",children:"A comprehensive ecosystem for tokenizing, trading, and managing real-world assets with institutional-grade security and retail accessibility."}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[c.jsxs(Gt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.4,duration:.6},className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100",children:[c.jsx(J3e,{className:"w-12 h-12 text-blue-600 mb-6"}),c.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-4",children:"ERC-3643 Compliance"}),c.jsx("p",{className:"text-gray-600 font-light leading-relaxed",children:"Regulatory-compliant tokenization with built-in KYC/AML protocols, identity registry, and automated transfer restrictions ensuring full regulatory compliance."})]}),c.jsxs(Gt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.5,duration:.6},className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100",children:[c.jsx(Q3e,{className:"w-12 h-12 text-blue-600 mb-6"}),c.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-4",children:"Fractional Ownership"}),c.jsx("p",{className:"text-gray-600 font-light leading-relaxed",children:"Own portions of premium assets like luxury real estate, commercial properties, and infrastructure projects with investments starting from $10."})]}),c.jsxs(Gt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.6,duration:.6},className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100",children:[c.jsx(Z3e,{className:"w-12 h-12 text-blue-600 mb-6"}),c.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-4",children:"Global Marketplace"}),c.jsx("p",{className:"text-gray-600 font-light leading-relaxed",children:"Access a diverse portfolio of tokenized assets from around the world, including real estate, commodities, art, and revenue-generating assets."})]}),c.jsxs(Gt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.7,duration:.6},className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100",children:[c.jsx(e4e,{className:"w-12 h-12 text-blue-600 mb-6"}),c.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-4",children:"P2P Trading"}),c.jsx("p",{className:"text-gray-600 font-light leading-relaxed",children:"Trade tokenized assets directly with other verified investors through our secure order book system with escrow-protected transactions."})]}),c.jsxs(Gt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.8,duration:.6},className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100",children:[c.jsx(q3e,{className:"w-12 h-12 text-blue-600 mb-6"}),c.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-4",children:"Yield Distribution"}),c.jsx("p",{className:"text-gray-600 font-light leading-relaxed",children:"Receive automated yield distributions from rental income, dividends, and asset appreciation directly to your wallet through smart contracts."})]}),c.jsxs(Gt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.9,duration:.6},className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100",children:[c.jsx(X3e,{className:"w-12 h-12 text-blue-600 mb-6"}),c.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-4",children:"Institutional Security"}),c.jsx("p",{className:"text-gray-600 font-light leading-relaxed",children:"Multi-signature security, smart contract audits, insurance coverage, and regulatory oversight ensure maximum protection for your investments."})]})]})]})})}),c.jsx("div",{className:"py-20 bg-white",children:c.jsx("div",{className:"container mx-auto px-4 max-w-6xl",children:c.jsxs(Gt.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{delay:.3,duration:.8},className:"mb-20",children:[c.jsxs("h2",{className:"text-4xl md:text-5xl font-light text-gray-900 mb-6 text-center",children:["Built on ",c.jsx("span",{className:"font-medium text-gray-900",children:"Flow Network"}),c.jsx("img",{src:"/flowscan-logo.svg",alt:"Flow Logo",className:"h-12 w-auto inline align-middle ml-2"})]}),c.jsx("p",{className:"text-xl text-gray-600 font-light text-center max-w-3xl mx-auto leading-relaxed mb-16",children:"Leveraging Flow Network's high-performance blockchain infrastructure for seamless asset tokenization with instant finality and ultra-low fees."}),c.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-3xl p-8 md:p-12 mb-12",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-2xl font-medium text-gray-900 mb-6",children:"Network Specifications"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),c.jsx("span",{className:"text-gray-700 font-light",children:"Chain ID: 39 (Flow Network)"})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),c.jsx("span",{className:"text-gray-700 font-light",children:"Block Time: ~2 seconds"})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),c.jsx("span",{className:"text-gray-700 font-light",children:"Transaction Finality: Instant"})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),c.jsx("span",{className:"text-gray-700 font-light",children:"Gas Efficiency: Ultra-low fees"})]})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-2xl font-medium text-gray-900 mb-6",children:"Integration Benefits"}),c.jsxs("div",{className:"space-y-4 text-gray-700 font-light leading-relaxed",children:[c.jsx("p",{children:"All smart contracts including ERC-3643 compliant tokens, marketplace, order book escrow, and payment distribution systems are deployed directly on Flow Network."}),c.jsx("p",{children:"The Flow integration enables cost-effective fractional ownership starting from $10, making the $280 trillion global real world assets market accessible to retail investors worldwide."}),c.jsx("p",{children:"With instant finality, investors trade tokenized assets 24/7 with confidence while automated yield distributions execute seamlessly through our smart contract infrastructure."})]})]})]})}),c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-gray-600 font-light mb-4",children:"Discover more about the underlying blockchain technology"}),c.jsxs("a",{href:"https://flow.com",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white font-light rounded-lg hover:bg-blue-700 transition-colors",children:["Visit Flow Network",c.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]})]})})}),c.jsx("div",{className:"py-20 bg-gray-50",children:c.jsx("div",{className:"container mx-auto px-4 max-w-6xl",children:c.jsxs(Gt.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{delay:.3,duration:.8},className:"mb-20",children:[c.jsx("h2",{className:"text-4xl md:text-5xl font-light text-gray-900 mb-6 text-center",children:"How It Works"}),c.jsx("p",{className:"text-xl text-gray-600 font-light text-center max-w-3xl mx-auto leading-relaxed mb-16",children:"Our streamlined process makes tokenizing and investing in real-world assets simple, secure, and accessible to everyone."}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[c.jsxs(Gt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.4,duration:.6},className:"text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6",children:c.jsx("span",{className:"text-2xl font-light text-blue-600",children:"1"})}),c.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-4",children:"Asset Submission"}),c.jsx("p",{className:"text-gray-600 font-light leading-relaxed",children:"Asset owners submit tokenization requests with comprehensive documentation, legal structure, and valuation reports."})]}),c.jsxs(Gt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.5,duration:.6},className:"text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6",children:c.jsx("span",{className:"text-2xl font-light text-blue-600",children:"2"})}),c.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-4",children:"Due Diligence"}),c.jsx("p",{className:"text-gray-600 font-light leading-relaxed",children:"Our team conducts thorough due diligence including legal review, asset valuation, and regulatory compliance verification."})]}),c.jsxs(Gt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.6,duration:.6},className:"text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6",children:c.jsx("span",{className:"text-2xl font-light text-blue-600",children:"3"})}),c.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-4",children:"Token Creation"}),c.jsx("p",{className:"text-gray-600 font-light leading-relaxed",children:"ERC-3643 compliant tokens are deployed on Flow Network with built-in compliance rules and investor protections."})]}),c.jsxs(Gt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.7,duration:.6},className:"text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6",children:c.jsx("span",{className:"text-2xl font-light text-blue-600",children:"4"})}),c.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-4",children:"Market Launch"}),c.jsx("p",{className:"text-gray-600 font-light leading-relaxed",children:"Tokens are listed on our marketplace for primary sales and secondary trading with full transparency and liquidity."})]})]})]})})}),c.jsx("div",{className:"py-20 bg-white",children:c.jsx("div",{className:"container mx-auto px-4 max-w-6xl",children:c.jsxs(Gt.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{delay:.3,duration:.8},className:"mb-20",children:[c.jsx("h2",{className:"text-4xl md:text-5xl font-light text-gray-900 mb-6 text-center",children:"Investment Benefits"}),c.jsx("p",{className:"text-xl text-gray-600 font-light text-center max-w-3xl mx-auto leading-relaxed mb-16",children:"Experience the advantages of tokenized real-world asset investment with enhanced liquidity, transparency, and accessibility."}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[c.jsxs(Gt.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},transition:{delay:.4,duration:.6},children:[c.jsx("h3",{className:"text-2xl font-medium text-gray-900 mb-8",children:"For Investors"}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-3"}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Stable Yields"}),c.jsx("p",{className:"text-gray-600 font-light",children:"8-12% annual returns backed by real assets with consistent income streams"})]})]}),c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-3"}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Portfolio Diversification"}),c.jsx("p",{className:"text-gray-600 font-light",children:"Access multiple asset classes and global markets with a single platform"})]})]}),c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-3"}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Enhanced Liquidity"}),c.jsx("p",{className:"text-gray-600 font-light",children:"Trade 24/7 on secondary markets vs. traditional illiquid investments"})]})]}),c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-3"}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Transparency"}),c.jsx("p",{className:"text-gray-600 font-light",children:"Blockchain-based performance tracking and immutable transaction history"})]})]})]})]}),c.jsxs(Gt.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},transition:{delay:.5,duration:.6},children:[c.jsx("h3",{className:"text-2xl font-medium text-gray-900 mb-8",children:"For Asset Owners"}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-3"}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Global Capital Access"}),c.jsx("p",{className:"text-gray-600 font-light",children:"Tap into worldwide investor base for asset financing and growth"})]})]}),c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-3"}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Reduced Costs"}),c.jsx("p",{className:"text-gray-600 font-light",children:"Lower issuance and management fees compared to traditional REITs"})]})]}),c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-3"}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Automated Compliance"}),c.jsx("p",{className:"text-gray-600 font-light",children:"Built-in regulatory compliance and automated reporting"})]})]}),c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-3"}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Market Efficiency"}),c.jsx("p",{className:"text-gray-600 font-light",children:"Streamlined investor onboarding and asset management"})]})]})]})]})]})]})})}),c.jsx("div",{className:"py-20 bg-gray-50",children:c.jsx("div",{className:"container mx-auto px-4 max-w-6xl",children:c.jsxs(Gt.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{delay:.3,duration:.8},className:"mb-20",children:[c.jsx("h2",{className:"text-4xl md:text-5xl font-light text-gray-900 mb-6 text-center",children:"Security & Compliance"}),c.jsx("p",{className:"text-xl text-gray-600 font-light text-center max-w-3xl mx-auto leading-relaxed mb-16",children:"Institutional-grade security and regulatory compliance ensure your investments are protected by the highest industry standards."}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[c.jsxs(Gt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.4,duration:.6},className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100",children:[c.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-6",children:"Regulatory Framework"}),c.jsxs("ul",{className:"space-y-3 text-gray-600 font-light",children:[c.jsxs("li",{className:"flex items-start space-x-3",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2.5"}),c.jsx("span",{children:"ERC-3643 compliance standard"})]}),c.jsxs("li",{className:"flex items-start space-x-3",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2.5"}),c.jsx("span",{children:"KYC/AML verification protocols"})]}),c.jsxs("li",{className:"flex items-start space-x-3",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2.5"}),c.jsx("span",{children:"Securities law compliance"})]}),c.jsxs("li",{className:"flex items-start space-x-3",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2.5"}),c.jsx("span",{children:"Multi-jurisdiction support"})]})]})]}),c.jsxs(Gt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.5,duration:.6},className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100",children:[c.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-6",children:"Technical Security"}),c.jsxs("ul",{className:"space-y-3 text-gray-600 font-light",children:[c.jsxs("li",{className:"flex items-start space-x-3",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full mt-2.5"}),c.jsx("span",{children:"Multi-signature wallet protection"})]}),c.jsxs("li",{className:"flex items-start space-x-3",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full mt-2.5"}),c.jsx("span",{children:"Smart contract audits"})]}),c.jsxs("li",{className:"flex items-start space-x-3",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full mt-2.5"}),c.jsx("span",{children:"Immutable blockchain records"})]}),c.jsxs("li",{className:"flex items-start space-x-3",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full mt-2.5"}),c.jsx("span",{children:"Escrow-secured transactions"})]})]})]}),c.jsxs(Gt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.6,duration:.6},className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100",children:[c.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-6",children:"Asset Protection"}),c.jsxs("ul",{className:"space-y-3 text-gray-600 font-light",children:[c.jsxs("li",{className:"flex items-start space-x-3",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-purple-500 rounded-full mt-2.5"}),c.jsx("span",{children:"Insurance coverage for assets"})]}),c.jsxs("li",{className:"flex items-start space-x-3",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-purple-500 rounded-full mt-2.5"}),c.jsx("span",{children:"Legal structure validation"})]}),c.jsxs("li",{className:"flex items-start space-x-3",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-purple-500 rounded-full mt-2.5"}),c.jsx("span",{children:"SPV verification system"})]}),c.jsxs("li",{className:"flex items-start space-x-3",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-purple-500 rounded-full mt-2.5"}),c.jsx("span",{children:"Regular compliance audits"})]})]})]})]})]})})})]})},Nk=t=>{try{const n=t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),r=decodeURIComponent(atob(n).split("").map(s=>"%"+("00"+s.charCodeAt(0).toString(16)).slice(-2)).join(""));return JSON.parse(r)}catch(e){return console.error("Error decoding JWT:",e),null}},QJ=A.createContext(void 0),n4e=({children:t})=>{const[e,n]=A.useState(!1),[r,s]=A.useState(!0),[i,a]=A.useState(null),[o,l]=A.useState(null),[u,d]=A.useState([]),[p,f]=A.useState(null),[h,y]=A.useState(null),m=Ll(),b=Ol();A.useEffect(()=>{const U=async()=>{try{console.log(" Initializing Auth Context...");const B=localStorage.getItem("authToken"),_=localStorage.getItem("user"),w=localStorage.getItem("currentRole"),k=localStorage.getItem("availableRoles");if(B&&_){const S=Nk(B);if(S){const M=JSON.parse(_),R=S.roles||M.roles||[],j=S.currentRole||w||R[0],V=S.primaryRole||M.primaryRole||R[0],O=Date.now()/1e3;if(S.exp&&S.exp<O){console.log(" Token expired, clearing auth data"),v(),s(!1);return}l(B),a(M),d(R),f(j),y(V),n(!0),console.log(" Auth state initialized:",{userId:M._id,roles:R,currentRole:j,primaryRole:V})}else console.log(" Invalid token, clearing auth data"),v()}else console.log(" No auth data found"),n(!1)}catch(B){console.error(" Error initializing auth:",B),v()}finally{s(!1)}},$=setTimeout(()=>{s(!1)},3e3);return U(),()=>clearTimeout($)},[]);const v=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("user"),localStorage.removeItem("currentRole"),localStorage.removeItem("availableRoles"),l(null),a(null),d([]),f(null),y(null),n(!1)},g=async U=>{var $,B;try{s(!0);const _=await _m.login(U);if(_.success){const{user:w,token:k,currentRole:S,availableRoles:M}=_.data;localStorage.setItem("authToken",k),localStorage.setItem("user",JSON.stringify(w)),localStorage.setItem("currentRole",S),localStorage.setItem("availableRoles",JSON.stringify(M));const R=Nk(k);l(k),a(w),d(M),f(S),y(w.primaryRole),n(!0),console.log(" Login successful:",{userId:w._id,roles:M,currentRole:S});const j=((B=($=b.state)==null?void 0:$.from)==null?void 0:B.pathname)||P(M);m(j,{replace:!0})}}catch(_){throw console.error(" Login failed:",_),_}finally{s(!1)}},x=()=>{console.log(" Logging out user"),v(),m("/login",{replace:!0})},T=async U=>{try{if(!u.includes(U))throw new Error(`You do not have ${U} role`);const $=await _m.switchRole(U);if($.success){const B=$.data.token,_=Nk(B);localStorage.setItem("authToken",B),localStorage.setItem("currentRole",U),l(B),f(U),console.log(" Role switched to:",U);const w=P([U]);m(w,{replace:!0})}}catch($){throw console.error(" Role switch failed:",$),$}},I=U=>u.includes(U),C=U=>U.some($=>u.includes($)),N=U=>e?C(U):!1,P=U=>U.includes("admin")?"/admin":U.includes("issuer")?"/issuer":U.includes("manager")?"/manager":"/marketplace",L={isAuthenticated:e,isLoading:r,user:i,token:o,userRoles:u,currentRole:p,primaryRole:h,login:g,logout:x,switchRole:T,hasRole:I,hasAnyRole:C,canAccess:N};return c.jsx(QJ.Provider,{value:L,children:t})},OM=()=>{const t=A.useContext(QJ);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t};function xo(t){return t?!!(t.name&&[/^Asset Token #\d+$/,/^Asset #\d+$/,/^Token #\d+$/,/^NFT #\d+$/,/^Unknown Asset/,/^Default Token/].some(n=>n.test(t.name))||t.description&&[/^Asset token #\d+$/,/^Token #\d+ description$/,/^Default description/,/^Placeholder description/].some(n=>n.test(t.description))||t.assetType==="Unknown"&&(!t.metadata||Object.keys(t.metadata).length===0)||t.metadata&&!(t.metadata.name&&!t.metadata.name.match(/^(Asset|Token) #?\d+$/)&&t.metadata.name.trim().length>0)):!1}function Hp(t){return t?xo({name:t.name,description:t.description,metadata:t.metadata,assetType:t.type||t.assetType}):!1}function r4e(t,e){return{_isDummyData:!0,_failedFetch:!0,_tokenId:t,_metadataURI:e,_timestamp:Date.now(),_expiry:Date.now()+5*60*1e3}}function aA(t){return t&&t._isDummyData===!0&&t._failedFetch===!0}function LM(t){return aA(t)?Date.now()>t._expiry:!1}function s4e(t){return t.filter(e=>!Hp(e))}function CE(){let t=0;const e=[];for(let n=0;n<localStorage.length;n++){const r=localStorage.key(n);if(r)try{const s=localStorage.getItem(r);if(!s)continue;const i=JSON.parse(s);if(i&&i.data&&Array.isArray(i.data)){const a=i.data.filter(o=>!Hp(o));a.length!==i.data.length&&(console.log(` Found ${i.data.length-a.length} dummy listings in ${r}`),a.length===0?e.push(r):(i.data=a,localStorage.setItem(r,JSON.stringify(i))),t+=i.data.length-a.length)}else(i&&i.metadata&&xo(i)||aA(i)&&LM(i))&&(e.push(r),t++)}catch{continue}}return e.forEach(n=>{localStorage.removeItem(n),console.log(` Removed dummy data cache key: ${n}`)}),t}function Tw(){let t=0,e=0,n=0,r=0;for(let s=0;s<localStorage.length;s++){const i=localStorage.key(s);if(i)try{const a=localStorage.getItem(i);if(!a)continue;t++;const o=JSON.parse(a);if(o&&o.data&&Array.isArray(o.data)){const l=o.data.filter(u=>Hp(u)).length;e+=l}else o&&o.metadata&&xo(o)?e++:aA(o)&&(n++,LM(o)&&r++)}catch{continue}}return{totalCacheEntries:t,dummyDataEntries:e,failedFetchMarkers:n,expiredFailedFetches:r}}window.DummyDataUtils={isDummyData:xo,isMarketplaceListingDummy:Hp,clearDummyDataFromCache:CE,getDummyDataStats:Tw,cleanDummyDataFromListings:s4e};const gr={KEYS:{USER_ASSETS:"dashboard_user_assets",PORTFOLIO_DATA:"dashboard_portfolio_data",TRANSACTION_HISTORY:"dashboard_transactions",NOTIFICATIONS:"dashboard_notifications",LAST_REFRESH:"dashboard_last_refresh"},EXPIRATION:{USER_ASSETS:5*60*1e3,PORTFOLIO_DATA:5*60*1e3,TRANSACTION_HISTORY:10*60*1e3,NOTIFICATIONS:2*60*1e3}},ip=class ip{static getInstance(){return ip.instance||(ip.instance=new ip),ip.instance}constructor(){}setCache(e,n,r){try{const s={data:n,timestamp:Date.now(),walletAddress:r};localStorage.setItem(e,JSON.stringify(s)),console.log(` Cached data for key: ${e}, wallet: ${r}`)}catch(s){console.warn(` Failed to cache data for key: ${e}`,s)}}getCache(e,n,r){try{const s=localStorage.getItem(e);if(!s)return console.log(` No cached data found for key: ${e}`),null;const i=JSON.parse(s);if(i.walletAddress!==n)return console.log(` Cache invalidated - different wallet (cached: ${i.walletAddress}, current: ${n})`),localStorage.removeItem(e),null;const o=Date.now()-i.timestamp;return o>r?(console.log(` Cache expired for key: ${e} (age: ${Math.round(o/1e3)}s, max: ${Math.round(r/1e3)}s)`),localStorage.removeItem(e),null):(console.log(` Using cached data for key: ${e} (age: ${Math.round(o/1e3)}s)`),i.data)}catch(s){return console.warn(` Failed to retrieve cached data for key: ${e}`,s),localStorage.removeItem(e),null}}clearCache(e){try{Object.values(gr.KEYS).forEach(n=>{if(e){const r=localStorage.getItem(n);r&&JSON.parse(r).walletAddress===e&&(localStorage.removeItem(n),console.log(` Cleared cache for key: ${n}, wallet: ${e}`))}else localStorage.removeItem(n),console.log(` Cleared all cache for key: ${n}`)})}catch(n){console.warn(" Failed to clear cache",n)}}cacheUserAssets(e,n){const r=e.filter(s=>{const i=xo({name:s.name,metadata:s.metadata,assetType:s.type}),a=s.name&&(s.name.includes("Unknown Asset")||s.name.match(/Unknown Asset #\d+/)||s.type==="Unknown"&&s.name.includes("Asset #"));return!i&&!a});console.log(` Filtered dashboard user assets: ${e.length}  ${r.length} (removed ${e.length-r.length} dummy entries)`),r.length>0?this.setCache(gr.KEYS.USER_ASSETS,r,n):console.warn(" All user assets were dummy data - not caching")}getCachedUserAssets(e){const n=this.getCache(gr.KEYS.USER_ASSETS,e,gr.EXPIRATION.USER_ASSETS);if(!n)return console.log(" No cached user assets found"),null;const r=n.filter(s=>{const i=xo({name:s.name,metadata:s.metadata,assetType:s.type}),a=s.name&&(s.name.includes("Unknown Asset")||s.name.match(/Unknown Asset #\d+/)||s.type==="Unknown"&&s.name.includes("Asset #"));return!i&&!a});if(r.length!==n.length)if(console.log(` Cleaned dashboard cache: ${n.length}  ${r.length} (removed ${n.length-r.length} dummy entries)`),r.length>0)this.cacheUserAssets(r,e);else return localStorage.removeItem(gr.KEYS.USER_ASSETS),null;return console.log(" Dashboard cache result:",r?`${r.length} clean assets found`:"No cache found"),r.length>0?r:null}cachePortfolioData(e,n){this.setCache(gr.KEYS.PORTFOLIO_DATA,e,n)}getCachedPortfolioData(e){return this.getCache(gr.KEYS.PORTFOLIO_DATA,e,gr.EXPIRATION.PORTFOLIO_DATA)}cacheTransactionHistory(e,n){this.setCache(gr.KEYS.TRANSACTION_HISTORY,e,n)}getCachedTransactionHistory(e){return this.getCache(gr.KEYS.TRANSACTION_HISTORY,e,gr.EXPIRATION.TRANSACTION_HISTORY)}cacheNotifications(e,n){this.setCache(gr.KEYS.NOTIFICATIONS,e,n)}getCachedNotifications(e){return this.getCache(gr.KEYS.NOTIFICATIONS,e,gr.EXPIRATION.NOTIFICATIONS)}recordLastRefresh(e){this.setCache(gr.KEYS.LAST_REFRESH,Date.now(),e)}shouldForceRefresh(e,n){const r=this.getCache(gr.KEYS.LAST_REFRESH,e,864e5);return r?n&&n>r?(console.log(" Force refresh needed - action performed after last refresh"),!0):!1:!0}getCacheStats(e){const n={};return Object.entries(gr.KEYS).forEach(([r,s])=>{const i=localStorage.getItem(s);if(i)try{const a=JSON.parse(i);n[r]={size:i.length,age:Date.now()-a.timestamp,wallet:a.walletAddress,isValidWallet:a.walletAddress===e}}catch{n[r]={error:"Invalid cache entry"}}else n[r]={status:"not cached"}}),n}clearDummyDataFromCache(e){console.log(" Clearing dummy data from dashboard cache...");let n=0;if(e){const r=this.getCachedUserAssets(e);if(r){const s=r.length,i=r.filter(a=>{const o=xo({name:a.name,metadata:a.metadata,assetType:a.type}),l=a.name&&(a.name.includes("Unknown Asset")||a.name.match(/Unknown Asset #\d+/)||a.type==="Unknown"&&a.name.includes("Asset #"));return!o&&!l});if(i.length!==s){const a=s-i.length;n+=a,i.length===0?(localStorage.removeItem(gr.KEYS.USER_ASSETS),console.log(` Removed all dummy dashboard assets for wallet: ${e}`)):(this.cacheUserAssets(i,e),console.log(` Cleaned ${a} dummy assets from dashboard cache for wallet: ${e}`))}}}else Object.values(gr.KEYS).forEach(r=>{for(let s=localStorage.length-1;s>=0;s--){const i=localStorage.key(s);if(!(!i||!i.startsWith(r)))try{const a=localStorage.getItem(i);if(!a)continue;const o=JSON.parse(a);if(!o.data)continue;if(Array.isArray(o.data)&&r===gr.KEYS.USER_ASSETS){const l=o.data.length;if(o.data=o.data.filter(u=>{const d=xo({name:u.name,metadata:u.metadata,assetType:u.type}),p=u.name&&(u.name.includes("Unknown Asset")||u.name.match(/Unknown Asset #\d+/)||u.type==="Unknown"&&u.name.includes("Asset #"));return!d&&!p}),o.data.length!==l){const u=l-o.data.length;n+=u,o.data.length===0?(localStorage.removeItem(i),console.log(` Removed empty dashboard cache entry: ${i}`)):(localStorage.setItem(i,JSON.stringify(o)),console.log(` Cleaned ${u} dummy entries from: ${i}`))}}}catch(a){console.warn(` Error processing dashboard cache key ${i}:`,a)}}});return console.log(` Cleared ${n} dummy data entries from dashboard cache`),n}};Ge(ip,"instance");let tT=ip;const Us=tT.getInstance(),ha=Object.freeze(Object.defineProperty({__proto__:null,CACHE_CONFIG:gr,DashboardCache:tT,dashboardCache:Us},Symbol.toStringTag,{value:"Module"}));class i4e{constructor(){Ge(this,"cache",new Map);Ge(this,"JWT_TOKEN","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySW5mb3JtYXRpb24iOnsiaWQiOiJjMDU3NzI3NC0xMzU2LTRmZjgtODk5Yi02MjU0MTZmNTMxYTEiLCJlbWFpbCI6ImFkb2U3NDAzQGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJwaW5fcG9saWN5Ijp7InJlZ2lvbnMiOlt7ImRlc2lyZWRSZXBsaWNhdGlvbkNvdW50IjoxLCJpZCI6IkZSQTEifSx7ImRlc2lyZWRSZXBsaWNhdGlvbkNvdW50IjoxLCJpZCI6Ik5ZQzEifV0sInZlcnNpb24iOjF9LCJtZmFfZW5hYmxlZCI6ZmFsc2UsInN0YXR1cyI6IkFDVElWRSJ9LCJhdXRoZW50aWNhdGlvblR5cGUiOiJzY29wZWRLZXkiLCJzY29wZWRLZXlLZXkiOiJlZTdmZDhiNDY3MGU4ZTc1Y2YxZiIsInNjb3BlZEtleVNlY3JldCI6Ijg3NjU3MDdkNzBmNzAyZjFkYTAxMmVhNmU1MmYzNDUyMjFkOGE0YzgwMWFjYjVlN2Y4NTk5NzYwODIyNTc3ZGYiLCJleHAiOjE3OTA5Mzk1NTR9.huKruxuknG20OfbJsMjiuIaLTQMbCWsILk1B5Dl7Oko")}extractIPFSHash(e){if(!e)throw new Error("Empty URI provided");if(e.includes("https://gateway.pinata.cloud/ipfs/https://gateway.pinata.cloud/ipfs/")){const n=e.split("https://gateway.pinata.cloud/ipfs/");if(n.length>2){const r=n[n.length-1];if(r.startsWith("Qm")||r.startsWith("baf"))return r}throw new Error("Invalid doubled IPFS URL format")}if(e.startsWith("ipfs://"))return e.replace("ipfs://","");if(e.startsWith("https://gateway.pinata.cloud/ipfs/"))return e.replace("https://gateway.pinata.cloud/ipfs/","");if(e.startsWith("Qm")||e.startsWith("baf"))return e;throw new Error(`Unrecognized IPFS format: ${e}`)}getAssetTypeImage(e,n){return n?B0e(e,n):AW(e)}processImageURL(e){if(!e)return"/placeholder.svg";try{if(e.startsWith("ipfs://"))return`https://gateway.pinata.cloud/ipfs/${e.replace("ipfs://","")}`;if(e.startsWith("Qm")||e.startsWith("baf"))return`https://gateway.pinata.cloud/ipfs/${e}`;if(e.startsWith("http"))return e}catch(n){console.warn("Error processing image URL:",n)}return"/placeholder.svg"}async fetchMetadataFromIPFS(e){if(!e||e.trim()==="")return console.warn("Empty metadata URI provided"),null;if(this.cache.has(e)){const n=this.cache.get(e);if(n.error&&n.expiry&&Date.now()>n.expiry)this.cache.delete(e),console.log(" Failed cache entry expired, retrying:",e);else return n.error?(console.log(" Recently failed, skipping retry for:",e),null):(console.log(" Using cached metadata for:",e),n)}try{const n=this.extractIPFSHash(e);if(n.includes("TestHash")||n.length<40)return console.log(" Skipping fake/test metadata hash:",n),null;console.log(" Fetching metadata from IPFS:",n);const r=[{url:`https://olive-left-snake-740.mypinata.cloud/ipfs/${n}`,name:"Custom Pinata"},{url:`https://gateway.pinata.cloud/ipfs/${n}`,name:"Pinata Gateway"},{url:`https://ipfs.io/ipfs/${n}`,name:"IPFS.io"},{url:`https://dweb.link/ipfs/${n}`,name:"Dweb Link"},{url:`https://cloudflare-ipfs.com/ipfs/${n}`,name:"Cloudflare"},{url:`https://gateway.ipfs.io/ipfs/${n}`,name:"IPFS Gateway"},{url:`https://ipfs.infura.io/ipfs/${n}`,name:"Infura"},{url:`https://cf-ipfs.com/ipfs/${n}`,name:"CF IPFS"},{url:`https://dweb.link/ipfs/${n}`,name:"DWeb.link"}];for(let i=1;i<=2;i++)for(const a of r){console.log(` Trying gateway: ${a.name} - ${a.url} (attempt ${i})`);try{const o=await Promise.race([fetch(a.url,{method:"GET",headers:{Accept:"application/json"}}),new Promise((l,u)=>setTimeout(()=>u(new Error("Timeout")),i===1?5e3:1e4))]);if(o.ok){const l=await o.json();return console.log(` Metadata fetched successfully from ${a.name} on attempt ${i}`),l.image&&(l.image=this.processImageURL(l.image)),this.cache.set(e,l),l}else if(o.status===429){console.log(` Gateway ${a.name} rate limited (429), trying next...`);continue}else if(o.status===404){console.log(` Gateway ${a.name} returned 404 - content not found`);continue}else{console.log(` Gateway ${a.name} failed with status ${o.status}, trying next...`);continue}}catch(o){console.warn(` Gateway ${a.name} error (attempt ${i}):`,o.message);continue}}console.error(" All IPFS gateways failed for:",e);const s={error:"All gateways failed",timestamp:Date.now(),expiry:Date.now()+5*60*1e3};return this.cache.set(e,s),null}catch(n){return console.error(" Error fetching metadata from IPFS:",n),null}}async batchFetchTokenMetadata(e,n){const r=[];console.log(` Batch processing ${e.length} tokens...`);const s=5;for(let i=0;i<e.length;i+=s){const o=e.slice(i,i+s).map(async u=>{try{const d=await n(u),p=await this.fetchMetadataFromIPFS(d);let f="Unknown",h="General";if(p!=null&&p.attributes){const m=p.attributes.find(v=>v.trait_type==="Asset Type");f=(m==null?void 0:m.value)||f;const b=p.attributes.find(v=>v.trait_type==="Category");h=(b==null?void 0:b.value)||h}else p!=null&&p.assetDetails&&(f=p.assetDetails.assetType||f,h=p.assetDetails.category||h);return{tokenId:u,metadata:p,name:(p==null?void 0:p.name)||`Asset Token #${u}`,description:(p==null?void 0:p.description)||`Asset token #${u}`,image:(p==null?void 0:p.image)||this.getAssetTypeImage(f,u),assetType:f,category:h,metadataURI:d,attributes:(p==null?void 0:p.attributes)||[{trait_type:"Asset Type",value:f},{trait_type:"Token ID",value:u}]}}catch(d){return console.error(` Error processing token ${u}:`,d),{tokenId:u,metadata:null,name:`Asset Token #${u}`,description:`Asset token #${u}`,image:this.getAssetTypeImage("Unknown",u),assetType:"Unknown",category:"General",metadataURI:"",attributes:[{trait_type:"Asset Type",value:"Unknown"},{trait_type:"Token ID",value:u}]}}}),l=await Promise.all(o);r.push(...l),i+s<e.length&&await new Promise(u=>setTimeout(u,500))}return console.log(` Batch processing completed: ${r.length} tokens processed`),r}clearCache(){this.cache.clear(),console.log(" Metadata cache cleared")}}const nT=new i4e,Ln={KEYS:{MARKETPLACE_LISTINGS:"marketplace_listings",ASSET_METADATA:"asset_metadata",IPFS_IMAGES:"ipfs_images",USER_OWNED_ASSETS:"user_owned_assets"},EXPIRATION:{MARKETPLACE_LISTINGS:10*60*1e3,ASSET_METADATA:24*60*60*1e3,IPFS_IMAGES:7*24*60*60*1e3,USER_OWNED_ASSETS:5*60*1e3}},ap=class ap{static getInstance(){return ap.instance||(ap.instance=new ap),ap.instance}constructor(){}setCache(e,n){try{const r={data:n,timestamp:Date.now(),key:e};localStorage.setItem(e,JSON.stringify(r)),console.log(` Cached data for key: ${e}`)}catch(r){console.warn(` Failed to cache data for key: ${e}`,r)}}getCache(e,n){try{const r=localStorage.getItem(e);if(!r)return console.log(` No cached data found for key: ${e}`),null;const s=JSON.parse(r),a=Date.now()-s.timestamp;return a>n?(console.log(` Cache expired for key: ${e} (age: ${Math.round(a/1e3)}s, max: ${Math.round(n/1e3)}s)`),localStorage.removeItem(e),null):(console.log(` Using cached data for key: ${e} (age: ${Math.round(a/1e3)}s)`),s.data)}catch(r){return console.warn(` Failed to retrieve cached data for key: ${e}`,r),localStorage.removeItem(e),null}}clearCache(e){try{e?(localStorage.removeItem(e),console.log(` Cleared cache for key: ${e}`)):(Object.values(Ln.KEYS).forEach(n=>{localStorage.removeItem(n)}),console.log(" Cleared all marketplace cache"))}catch(n){console.warn(" Failed to clear cache",n)}}clearDummyDataFromCache(){var r;console.log(" Clearing dummy data from marketplace cache...");let e=0;[Ln.KEYS.MARKETPLACE_LISTINGS,Ln.KEYS.USER_OWNED_ASSETS].forEach(s=>{for(let i=0;i<localStorage.length;i++){const a=localStorage.key(i);if(!(!a||!a.startsWith(s)))try{const o=localStorage.getItem(a);if(!o)continue;const l=JSON.parse(o);if(!l.data)continue;if(Array.isArray(l.data)){const u=l.data.length;if(l.data=l.data.filter(d=>!Hp(d)),l.data.length!==u){const d=u-l.data.length;e+=d,l.data.length===0?(localStorage.removeItem(a),console.log(` Removed empty cache entry: ${a}`)):(localStorage.setItem(a,JSON.stringify(l)),console.log(` Cleaned ${d} dummy entries from: ${a}`))}}}catch(o){console.warn(` Error processing cache key ${a}:`,o)}}});for(let s=localStorage.length-1;s>=0;s--){const i=localStorage.key(s);if(!(!i||!i.startsWith(Ln.KEYS.ASSET_METADATA)))try{const a=localStorage.getItem(i);if(!a)continue;const o=JSON.parse(a);o.data&&o.data.metadata&&xo({metadata:o.data.metadata,name:(r=o.data.metadata)==null?void 0:r.name})&&(localStorage.removeItem(i),e++,console.log(` Removed dummy asset metadata: ${i}`))}catch{}}return console.log(` Cleared ${e} dummy data entries from cache`),e}cacheMarketplaceListings(e){const n=e.filter(r=>!Hp(r));console.log(` Filtered marketplace listings: ${e.length}  ${n.length} (removed ${e.length-n.length} dummy entries)`),n.length>0?this.setCache(Ln.KEYS.MARKETPLACE_LISTINGS,n):console.warn(" All marketplace listings were dummy data - not caching")}getCachedMarketplaceListings(){console.log(" getCachedMarketplaceListings called");const e=this.getCache(Ln.KEYS.MARKETPLACE_LISTINGS,Ln.EXPIRATION.MARKETPLACE_LISTINGS);if(!e)return console.log(" No cached marketplace listings found"),null;const n=e.filter(r=>!Hp(r));if(n.length!==e.length)if(console.log(` Cleaned marketplace cache: ${e.length}  ${n.length} (removed ${e.length-n.length} dummy entries)`),n.length>0)this.cacheMarketplaceListings(n);else return this.clearCache(Ln.KEYS.MARKETPLACE_LISTINGS),null;return console.log(" Cache result:",n?`${n.length} clean listings found`:"No cache found"),n&&n.length>0&&console.log(" First listing sample:",{name:n[0].name,type:n[0].type,category:n[0].category,attributes:n[0].attributes}),n.length>0?n:null}cacheAssetMetadata(e,n,r,s){if(!n||xo({metadata:n,name:n==null?void 0:n.name})){console.log(` Skipping cache for token ${e} - dummy or null metadata detected`);const o=r4e(e,s),l=`${Ln.KEYS.ASSET_METADATA}_${e}_failed`;this.setCache(l,o);return}const i={tokenId:e,metadata:n,processedImageUrl:r,metadataURI:s,fetchedAt:Date.now()},a=`${Ln.KEYS.ASSET_METADATA}_${e}`;this.setCache(a,i),console.log(` Cached real metadata for token ${e}: ${(n==null?void 0:n.name)||"Unknown name"}`)}getCachedAssetMetadata(e){var a;const n=`${Ln.KEYS.ASSET_METADATA}_${e}`,r=`${n}_failed`,s=this.getCache(r,Ln.EXPIRATION.ASSET_METADATA);if(s&&aA(s))if(LM(s))localStorage.removeItem(r),console.log(` Failed fetch marker expired for token ${e}, allowing retry`);else return console.log(` Recent fetch failure for token ${e}, skipping retry`),null;const i=this.getCache(n,Ln.EXPIRATION.ASSET_METADATA);return i&&xo({metadata:i.metadata,name:(a=i.metadata)==null?void 0:a.name})?(console.log(` Removing dummy data from cache for token ${e}`),localStorage.removeItem(n),null):i}cacheProcessedImage(e,n){const r={originalUrl:e,processedUrl:n,fetchedAt:Date.now()},s=`${Ln.KEYS.IPFS_IMAGES}_${this.hashUrl(e)}`;this.setCache(s,r)}getCachedProcessedImage(e){const n=`${Ln.KEYS.IPFS_IMAGES}_${this.hashUrl(e)}`,r=this.getCache(n,Ln.EXPIRATION.IPFS_IMAGES);return(r==null?void 0:r.processedUrl)||null}cacheUserOwnedAssets(e,n){const r=`${Ln.KEYS.USER_OWNED_ASSETS}_${e}`;this.setCache(r,n)}getCachedUserOwnedAssets(e){const n=`${Ln.KEYS.USER_OWNED_ASSETS}_${e}`;return this.getCache(n,Ln.EXPIRATION.USER_OWNED_ASSETS)}async fetchMetadataWithCache(e,n){const r=this.getCachedAssetMetadata(e);if(r)return console.log(` Using cached metadata for token ${e}`),{metadata:r.metadata,processedImageUrl:r.processedImageUrl};try{console.log(` Fetching fresh metadata for token ${e} from ${n}`);const s=await nT.fetchMetadataFromIPFS(n);let i="";if(s!=null&&s.image){const a=this.getCachedProcessedImage(s.image);if(a)i=a,console.log(` Using cached image for ${s.image}`);else{const{processImageURL:o}=await Qt(async()=>{const{processImageURL:l}=await Promise.resolve().then(()=>a4e);return{processImageURL:l}},void 0);i=o(s.image,s),this.cacheProcessedImage(s.image,i),console.log(` Processed and cached image: ${s.image}  ${i}`)}}return this.cacheAssetMetadata(e,s,i,n),{metadata:s,processedImageUrl:i}}catch(s){throw console.error(` Failed to fetch metadata for token ${e}:`,s),s}}async batchFetchMetadataWithCache(e){const n=new Map,r=[];for(const s of e){const i=this.getCachedAssetMetadata(s.tokenId);i?(n.set(s.tokenId,{metadata:i.metadata,processedImageUrl:i.processedImageUrl}),console.log(` Cache hit for token ${s.tokenId}`)):r.push(s)}if(console.log(` Cache stats: ${n.size} hits, ${r.length} misses`),r.length>0){console.log(` Fetching ${r.length} uncached metadata entries...`);const s=5;for(let i=0;i<r.length;i+=s){const o=r.slice(i,i+s).map(async l=>{try{const u=await this.fetchMetadataWithCache(l.tokenId,l.metadataURI);n.set(l.tokenId,u)}catch(u){console.warn(` Failed to fetch metadata for token ${l.tokenId}:`,u),n.set(l.tokenId,{metadata:null,processedImageUrl:""})}});await Promise.all(o),i+s<r.length&&await new Promise(l=>setTimeout(l,500))}}return n}hashUrl(e){let n=0;for(let r=0;r<e.length;r++){const s=e.charCodeAt(r);n=(n<<5)-n+s,n=n&n}return Math.abs(n).toString(36)}getCacheStats(){const e={};return Object.entries(Ln.KEYS).forEach(([n,r])=>{const s=[];for(let i=0;i<localStorage.length;i++){const a=localStorage.key(i);a&&a.startsWith(r)&&s.push(a)}e[n]={count:s.length,keys:s.slice(0,5),totalSize:s.reduce((i,a)=>{const o=localStorage.getItem(a);return i+(o?o.length:0)},0)}}),e}clearExpiredCache(){let e=0;const n=Date.now();for(let r=localStorage.length-1;r>=0;r--){const s=localStorage.key(r);if(!s)continue;if(Object.values(Ln.KEYS).some(a=>s.startsWith(a)))try{const a=localStorage.getItem(s);if(a){const o=JSON.parse(a),l=n-o.timestamp;let u=Ln.EXPIRATION.ASSET_METADATA;s.includes("marketplace_listings")?u=Ln.EXPIRATION.MARKETPLACE_LISTINGS:s.includes("ipfs_images")?u=Ln.EXPIRATION.IPFS_IMAGES:s.includes("user_owned_assets")&&(u=Ln.EXPIRATION.USER_OWNED_ASSETS),l>u&&(localStorage.removeItem(s),e++)}}catch{localStorage.removeItem(s),e++}}e>0&&console.log(` Cleared ${e} expired cache entries`)}};Ge(ap,"instance");let NE=ap;const Gs=NE.getInstance(),xc=[{type:"constructor",inputs:[{type:"address",name:"_adminContract"},{type:"address",name:"_tokenContract"}]},{type:"function",name:"listAsset",constant:!1,inputs:[{type:"uint256",name:"_tokenId"},{type:"uint256",name:"_amount"}],outputs:[]},{type:"function",name:"buyAsset",constant:!1,stateMutability:"payable",payable:!0,inputs:[{type:"uint256",name:"_tokenId"},{type:"uint256",name:"_amount"}],outputs:[]},{type:"function",name:"getAllListings",constant:!0,stateMutability:"view",inputs:[],outputs:[{type:"uint256[]",name:"tokenIds"},{type:"address[]",name:"issuers"},{type:"uint256[]",name:"amounts"},{type:"uint256[]",name:"prices"}]},{type:"function",name:"tokenManagementContract",constant:!0,stateMutability:"view",inputs:[],outputs:[{type:"address",name:""}]},{type:"function",name:"setTokenManagementContract",constant:!1,inputs:[{type:"address",name:"_tokenManagementContract"}],outputs:[]},{type:"function",name:"listings",constant:!0,stateMutability:"view",inputs:[{type:"uint256",name:""}],outputs:[{type:"address",name:"issuer"},{type:"uint256",name:"amount"},{type:"bool",name:"active"}]},{type:"function",name:"tokenHolders",constant:!0,stateMutability:"view",inputs:[{type:"address",name:""},{type:"uint256",name:""}],outputs:[{type:"uint256",name:""}]},{type:"function",name:"getTokenHolders",constant:!0,stateMutability:"view",inputs:[{type:"uint256",name:"_tokenId"}],outputs:[{type:"address[]",name:"holders"},{type:"uint256[]",name:"amounts"}]},{type:"function",name:"getMyAssets",constant:!0,stateMutability:"view",inputs:[],outputs:[{type:"uint256[]",name:"tokenIds"},{type:"uint256[]",name:"amounts"}]},{type:"function",name:"adminContract",constant:!0,stateMutability:"view",inputs:[],outputs:[{type:"address",name:""}]},{type:"function",name:"tokenContract",constant:!0,stateMutability:"view",inputs:[],outputs:[{type:"address",name:""}]},{type:"function",name:"withdrawEarnings",constant:!1,inputs:[],outputs:[]},{type:"function",name:"withdrawEarnings",constant:!1,inputs:[],outputs:[]},{type:"function",name:"getUserBalance",constant:!0,stateMutability:"view",inputs:[{type:"address",name:"_user"},{type:"uint256",name:"_tokenId"}],outputs:[{type:"uint256",name:""}]},{type:"function",name:"sellAsset",constant:!1,stateMutability:"payable",payable:!0,inputs:[{type:"uint256",name:"_tokenId"},{type:"uint256",name:"_amount"}],outputs:[]},{type:"function",name:"withdrawAsset",constant:!1,stateMutability:"nonpayable",inputs:[{type:"uint256",name:"_tokenId"},{type:"uint256",name:"_amount"}],outputs:[]},{type:"function",name:"removeListing",constant:!1,inputs:[{type:"uint256",name:"_tokenId"}],outputs:[]},{type:"function",name:"updateListing",constant:!1,inputs:[{type:"uint256",name:"_tokenId"},{type:"string",name:"_newMetadataURI"}],outputs:[]},{type:"function",name:"getTotalListed",constant:!0,stateMutability:"view",inputs:[{type:"uint256",name:"_tokenId"}],outputs:[{type:"uint256",name:""}]},{type:"function",name:"getTokenHoldersList",constant:!0,stateMutability:"view",inputs:[{type:"uint256",name:"_tokenId"}],outputs:[{type:"address[]",name:""}]},{type:"event",name:"AssetBought",anonymous:!1,inputs:[{type:"uint256",name:"tokenId",indexed:!0},{type:"address",name:"buyer",indexed:!0},{type:"uint256",name:"amount",indexed:!1},{type:"uint256",name:"platformFee",indexed:!1}]},{type:"event",name:"AssetSold",anonymous:!1,inputs:[{type:"uint256",name:"tokenId",indexed:!0},{type:"address",name:"seller",indexed:!0},{type:"uint256",name:"amount",indexed:!1},{type:"uint256",name:"platformFee",indexed:!1}]},{type:"event",name:"AssetWithdrawn",anonymous:!1,inputs:[{type:"uint256",name:"tokenId",indexed:!0},{type:"address",name:"holder",indexed:!0},{type:"uint256",name:"amount",indexed:!1}]},{type:"function",name:"setPaymentSplitter",constant:!1,inputs:[{type:"address",name:"_paymentSplitter"}],outputs:[]}],gv=[{type:"constructor",inputs:[{name:"_tokenContract",type:"address"}]},{type:"event",name:"SellOrderCreated",inputs:[{name:"orderId",type:"uint256",indexed:!0},{name:"seller",type:"address",indexed:!0},{name:"tokenId",type:"uint256",indexed:!0},{name:"amount",type:"uint256"},{name:"pricePerToken",type:"uint256"}]},{type:"event",name:"BuyOrderCreated",inputs:[{name:"orderId",type:"uint256",indexed:!0},{name:"buyer",type:"address",indexed:!0},{name:"tokenId",type:"uint256",indexed:!0},{name:"amount",type:"uint256"},{name:"pricePerToken",type:"uint256"}]},{type:"event",name:"OrderFilled",inputs:[{name:"orderId",type:"uint256",indexed:!0},{name:"taker",type:"address",indexed:!0},{name:"amount",type:"uint256"},{name:"totalPrice",type:"uint256"}]},{type:"event",name:"OrderCancelled",inputs:[{name:"orderId",type:"uint256",indexed:!0},{name:"maker",type:"address",indexed:!0}]},{type:"function",name:"createSellOrder",inputs:[{name:"_tokenId",type:"uint256"},{name:"_amount",type:"uint256"},{name:"_pricePerTokenU2U",type:"uint256"}],outputs:[{name:"orderId",type:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"createBuyOrder",inputs:[{name:"_tokenId",type:"uint256"},{name:"_amount",type:"uint256"},{name:"_pricePerTokenU2U",type:"uint256"}],outputs:[{name:"orderId",type:"uint256"}],stateMutability:"payable"},{type:"function",name:"fillOrder",inputs:[{name:"_orderId",type:"uint256"},{name:"_amountToFill",type:"uint256"}],outputs:[],stateMutability:"payable"},{type:"function",name:"cancelOrder",inputs:[{name:"_orderId",type:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getActiveOrders",inputs:[{name:"_tokenId",type:"uint256"}],outputs:[{name:"sellOrders",type:"uint256[]"},{name:"buyOrders",type:"uint256[]"}],stateMutability:"view"},{type:"function",name:"activeOrders",inputs:[{name:"",type:"uint256"}],outputs:[{name:"orderId",type:"uint256"},{name:"maker",type:"address"},{name:"tokenId",type:"uint256"},{name:"amount",type:"uint256"},{name:"pricePerTokenU2U",type:"uint256"},{name:"isBuyOrder",type:"bool"},{name:"isActive",type:"bool"},{name:"isFilled",type:"bool"},{name:"timestamp",type:"uint256"},{name:"expiryTimestamp",type:"uint256"}],stateMutability:"view"},{type:"function",name:"getEscrowedAssets",inputs:[{name:"_user",type:"address"},{name:"_tokenId",type:"uint256"}],outputs:[{name:"",type:"uint256"}],stateMutability:"view"},{type:"function",name:"getEscrowedU2U",inputs:[{name:"_user",type:"address"}],outputs:[{name:"",type:"uint256"}],stateMutability:"view"},{type:"function",name:"getUserOrders",inputs:[{name:"_user",type:"address"}],outputs:[{name:"",type:"uint256[]"}],stateMutability:"view"},{type:"function",name:"getBestAskPrice",inputs:[{name:"_tokenId",type:"uint256"}],outputs:[{name:"bestPrice",type:"uint256"},{name:"amount",type:"uint256"}],stateMutability:"view"},{type:"function",name:"getBestBidPrice",inputs:[{name:"_tokenId",type:"uint256"}],outputs:[{name:"bestPrice",type:"uint256"},{name:"amount",type:"uint256"}],stateMutability:"view"},{type:"function",name:"tokenContract",inputs:[],outputs:[{name:"",type:"address"}],stateMutability:"view"},{type:"function",name:"nextOrderId",inputs:[],outputs:[{name:"",type:"uint256"}],stateMutability:"view"},{type:"function",name:"PLATFORM_FEE_PERCENT",inputs:[],outputs:[{name:"",type:"uint256"}],stateMutability:"view"},{type:"function",name:"onERC1155Received",inputs:[{name:"",type:"address"},{name:"",type:"address"},{name:"",type:"uint256"},{name:"",type:"uint256"},{name:"",type:"bytes"}],outputs:[{name:"",type:"bytes4"}],stateMutability:"pure"},{type:"function",name:"onERC1155BatchReceived",inputs:[{name:"",type:"address"},{name:"",type:"address"},{name:"",type:"uint256[]"},{name:"",type:"uint256[]"},{name:"",type:"bytes"}],outputs:[{name:"",type:"bytes4"}],stateMutability:"pure"}],eQ=(t,e)=>{if(!t)return"";if(t.startsWith("http://")||t.startsWith("https://"))return t;if(t.startsWith("ipfs://")){const r=`https://gateway.pinata.cloud/ipfs/${t.replace("ipfs://","")}`;return console.log(" Converting IPFS URL for authenticated access:",t,"",r),r}return t.match(/^[a-zA-Z0-9]{46,59}$/)?`https://gateway.pinata.cloud/ipfs/${t}`:t},a4e=Object.freeze(Object.defineProperty({__proto__:null,processImageURL:eQ},Symbol.toStringTag,{value:"Module"})),o4e=()=>{const{isConnected:t,address:e,signer:n}=ir(),[r,s]=A.useState(!1),[i,a]=A.useState([]),[o,l]=A.useState({totalYieldReceived:"0",totalPrincipalInvested:"0",currentPortfolioValue:"0",totalReturn:"0",returnPercentage:0,activeAssets:0,lastPaymentDate:"",monthlyAverageYield:"0",yearlyProjectedYield:"0"}),[u,d]=A.useState([]);A.useEffect(()=>{t&&e&&n&&p()},[t,e,n]);const p=async()=>{try{if(s(!0),console.log("Loading real yield and principal data..."),!n||!e)return;const{MARKETPLACE_CONTRACT:T,TOKEN_CONTRACT:I,PAYMENT_SPLITTER_CONTRACT:C}=await Qt(async()=>{const{MARKETPLACE_CONTRACT:k,TOKEN_CONTRACT:S,PAYMENT_SPLITTER_CONTRACT:M}=await Promise.resolve().then(()=>Vp);return{MARKETPLACE_CONTRACT:k,TOKEN_CONTRACT:S,PAYMENT_SPLITTER_CONTRACT:M}},void 0),{CONTRACT_ABIS:N}=await Qt(async()=>{const{CONTRACT_ABIS:k}=await Promise.resolve().then(()=>od);return{CONTRACT_ABIS:k}},void 0),P=new nt(T,N.MARKETPLACE,n),L=new nt(I,N.ERC1155CORE,n),U=new nt(C,N.PAYMENTSPLITTER,n),$=await f(P,L),B=await h(U,$),_=y($,B),w=m($,B);a(B),l(_),d(w),console.log("Yield data loaded successfully")}catch(T){console.error("Failed to load yield data:",T),le.error("Failed to load yield data")}finally{s(!1)}},f=async(T,I)=>{console.log("Fetching user token holdings...");const C=await T.getAllListings(),[N,,P,L]=C,U=[];for(let $=0;$<N.length;$++){const B=N[$].toString();try{const _=await I.balanceOf(e,B),w=await T.getUserBalance(e,B),k=_.add(w);if(k.gt(0)){const S=await I.getTokenInfo(B);let M=`Asset #${B}`;if(S.metadataURI)try{let R=S.metadataURI;S.metadataURI.startsWith("ipfs://")&&(R=`https://gateway.pinata.cloud/ipfs/${S.metadataURI.replace("ipfs://","")}`);const j=await fetch(R);if(j.ok){const V=await j.json();M=(V==null?void 0:V.name)||M}}catch{console.warn(`Could not fetch metadata for token ${B}`)}U.push({tokenId:B,assetName:M,balance:k.toString(),walletBalance:_.toString(),marketplaceBalance:w.toString(),price:_e(S.price),totalInvested:_e(S.price.mul(k))})}}catch(_){console.warn(`Error checking balance for token ${B}:`,_)}}return console.log(`Found ${U.length} user assets`),U},h=async(T,I)=>{var N,P,L,U,$,B,_;console.log("Fetching yield transaction history...");const C=[];try{const w=await T.provider.getBlockNumber(),k=[],S=5e3;for(let j=0;j<10;j++){const V=w-j*S,O=Math.max(1,V-S);O<V&&k.push({from:O,to:V})}let M=[];for(const j of k)try{const V=T.filters.InvoiceSettled(),O=await T.queryFilter(V,j.from,j.to);M=M.concat(O)}catch(V){console.warn(`Error in settlement range ${j.from}-${j.to}`,V)}for(const j of M){const V=(P=(N=j.args)==null?void 0:N.tokenId)==null?void 0:P.toString(),O=(L=j.args)==null?void 0:L.toHolders;if(!V||!O)continue;const{MARKETPLACE_CONTRACT:E}=await Qt(async()=>{const{MARKETPLACE_CONTRACT:J}=await Promise.resolve().then(()=>Vp);return{MARKETPLACE_CONTRACT:J}},void 0),{CONTRACT_ABIS:z}=await Qt(async()=>{const{CONTRACT_ABIS:J}=await Promise.resolve().then(()=>od);return{CONTRACT_ABIS:J}},void 0),F=await new nt(E,z.MARKETPLACE,n).getTokenHolders(V),[H,K]=F,Y=H.findIndex(J=>J.toLowerCase()===(e==null?void 0:e.toLowerCase()));if(Y>=0){const J=parseFloat(po(K[Y],0)),re=K.reduce((Q,ee)=>Q+parseFloat(po(ee,0)),0);if(J>0&&re>0){const Q=J/re,ee=(parseFloat(_e(O))*Q).toFixed(6);if(parseFloat(ee)>0){const We=await j.getBlock(),oe=((U=I.find(be=>be.tokenId===V))==null?void 0:U.assetName)||`Asset #${V}`;C.push({tokenId:V,assetName:oe,amount:ee,timestamp:new Date(We.timestamp*1e3).toISOString(),type:"settlement",transactionHash:j.transactionHash,blockNumber:j.blockNumber})}}}}let R=[];for(const j of k)try{const V=T.filters.RentalDistributed(),O=await T.queryFilter(V,j.from,j.to);R=R.concat(O)}catch(V){console.warn(`Error in rental range ${j.from}-${j.to}`,V)}for(const j of R){const V=(B=($=j.args)==null?void 0:$.tokenId)==null?void 0:B.toString(),O=(_=j.args)==null?void 0:_.toHolders,E=I.find(z=>z.tokenId===V);if(E&&parseFloat(E.marketplaceBalance)>0&&O){const{MARKETPLACE_CONTRACT:z}=await Qt(async()=>{const{MARKETPLACE_CONTRACT:Q}=await Promise.resolve().then(()=>Vp);return{MARKETPLACE_CONTRACT:Q}},void 0),{CONTRACT_ABIS:Z}=await Qt(async()=>{const{CONTRACT_ABIS:Q}=await Promise.resolve().then(()=>od);return{CONTRACT_ABIS:Q}},void 0),H=await new nt(z,Z.MARKETPLACE,n).getTokenHolders(V),[,K]=H,Y=K.reduce((Q,ee)=>Q+parseFloat(po(ee,0)),0),J=parseFloat(E.marketplaceBalance)/Y,re=(parseFloat(_e(O))*J).toFixed(6);if(parseFloat(re)>0){const Q=await j.getBlock();C.push({tokenId:V,assetName:E.assetName,amount:re,timestamp:new Date(Q.timestamp*1e3).toISOString(),type:"rental",transactionHash:j.transactionHash,blockNumber:j.blockNumber})}}}C.sort((j,V)=>new Date(V.timestamp).getTime()-new Date(j.timestamp).getTime())}catch(w){console.warn("Could not fetch yield events:",w)}return console.log(`Found ${C.length} yield transactions`),C},y=(T,I)=>{const C=T.reduce((_,w)=>_+parseFloat(w.totalInvested),0),N=I.reduce((_,w)=>_+parseFloat(w.amount),0),P=C>0?N/C*100:0,L=I.length>0?I[0].timestamp:"",U=Math.max(1,Math.ceil(I.length/4)),$=N/U,B=$*12;return{totalYieldReceived:N.toFixed(6),totalPrincipalInvested:C.toFixed(6),currentPortfolioValue:C.toFixed(6),totalReturn:N.toFixed(6),returnPercentage:P,activeAssets:T.length,lastPaymentDate:L,monthlyAverageYield:$.toFixed(6),yearlyProjectedYield:B.toFixed(6)}},m=(T,I)=>T.map(C=>{const N=I.filter($=>$.tokenId===C.tokenId),P=N.reduce(($,B)=>$+parseFloat(B.amount),0),L=parseFloat(C.totalInvested)>0?P/parseFloat(C.totalInvested)*100:0,U=N.length>0?N[0].timestamp:"";return{tokenId:C.tokenId,assetName:C.assetName,principalInvested:C.totalInvested,totalYieldReceived:P.toFixed(6),currentValue:C.totalInvested,yieldPercentage:L,lastPaymentDate:U,paymentCount:N.length}}),b=()=>{console.log("Generating professional PDF report...");const T={generatedAt:new Date().toISOString(),address:e,summary:o,transactions:i,assetBreakdown:u},I=v(T),C=window.open("","_blank");C&&(C.document.write(I),C.document.close(),C.focus(),setTimeout(()=>{C.print()},500)),le.success('Report opened. Use "Save as PDF" in print dialog.')},v=T=>{const I=N=>new Date(N).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),C=N=>parseFloat(N).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:6});return`
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Yield & Income Statement</title>
  <style>
    @page { size: A4; margin: 0.8in; }
    body { font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 10pt; line-height: 1.4; color: #000; background: #fff; margin: 0; padding: 0; }
    .container { width: 100%; max-width: 8.5in; margin: 0 auto; }
    .header { border-bottom: 2px solid #003087; padding-bottom: 12px; margin-bottom: 20px; }
    .logo { font-size: 18pt; font-weight: bold; color: #003087; margin: 0; }
    .subtitle { font-size: 14pt; margin: 4px 0 0; color: #000; }
    .report-info { font-size: 9pt; margin-top: 8px; }
    .section { margin-bottom: 24px; }
    .section-title { font-size: 12pt; font-weight: bold; color: #003087; border-bottom: 1px solid #003087; padding-bottom: 4px; margin-bottom: 10px; }
    table { width: 100%; border-collapse: collapse; margin-bottom: 16px; font-size: 9pt; }
    th { background-color: #f0f4f8; color: #003087; font-weight: bold; text-align: left; padding: 8px 10px; border-bottom: 2px solid #003087; }
    td { padding: 8px 10px; border-bottom: 1px solid #d0d7e0; }
    tr:nth-child(even) { background-color: #f9fbfd; }
    .text-right { text-align: right; }
    .text-center { text-align: center; }
    .font-bold { font-weight: bold; }
    .text-blue { color: #003087; }
    .summary-grid { display: table; width: 100%; border-collapse: collapse; margin-bottom: 20px; }
    .summary-row { display: table-row; }
    .summary-cell { display: table-cell; padding: 12px; border: 1px solid #d0d7e0; background-color: #f0f4f8; }
    .summary-label { font-weight: bold; color: #003087; }
    .summary-value { font-size: 11pt; font-weight: bold; color: #000; margin-top: 4px; }
    .footer { margin-top: 40px; padding-top: 16px; border-top: 1px solid #d0d7e0; font-size: 8pt; color: #555; text-align: center; }
    @media print { body { -webkit-print-color-adjust: exact; } }
  </style>
</head>
<body>
  <div class="container">
    <div class="header" style="display: flex; align-items: center; gap: 12px; border-bottom: 2px solid #003087; padding-bottom: 12px; margin-bottom: 20px;">
  <img src="/Orion.png" alt="OpenAsset Logo" style="height: 40px; width: auto;" />
  <div>
    <h1 class="logo" style="margin: 0; font-size: 18pt; color: #003087; line-height: 1.2;">OpenAsset RWA Platform</h1>
    <p class="subtitle" style="margin: 4px 0 0; font-size: 14pt; color: #000;">Yield & Income Statement</p>
  </div>
</div>
<div class="report-info" style="font-size: 9pt; margin-top: 8px;">
  <div><strong>Account Holder:</strong> ${T.address}</div>
  <div><strong>Statement Date:</strong> ${I(T.generatedAt)}</div>
  <div><strong>Generated On:</strong> ${new Date().toLocaleString("en-US")}</div>
</div>

    <div class="section">
      <h2 class="section-title">Portfolio Summary</h2>
      <table class="summary-grid">
        <tr class="summary-row">
          <td class="summary-cell"><div class="summary-label">Total Principal Invested</div><div class="summary-value">${C(T.summary.totalPrincipalInvested)} FLOW</div></td>
          <td class="summary-cell"><div class="summary-label">Total Yield Received</div><div class="summary-value text-blue">${C(T.summary.totalYieldReceived)} FLOW</div></td>
        </tr>
        <tr class="summary-row">
          <td class="summary-cell"><div class="summary-label">Total Return</div><div class="summary-value">${T.summary.returnPercentage.toFixed(2)}%</div></td>
          <td class="summary-cell"><div class="summary-label">Active Assets</div><div class="summary-value">${T.summary.activeAssets}</div></td>
        </tr>
      </table>
    </div>

    <div class="section">
      <h2 class="section-title">Asset Yield Breakdown</h2>
      <table>
        <thead>
          <tr>
            <th>Asset</th>
            <th class="text-right">Principal</th>
            <th class="text-right">Yield Received</th>
            <th class="text-right">Return (%)</th>
            <th class="text-right">Payments</th>
            <th>Last Payment</th>
          </tr>
        </thead>
        <tbody>
          ${T.assetBreakdown.map(N=>`
            <tr>
              <td class="font-bold">${N.assetName}</td>
              <td class="text-right">${C(N.principalInvested)} FLOW</td>
              <td class="text-right text-blue">${C(N.totalYieldReceived)} FLOW</td>
              <td class="text-right">${N.yieldPercentage.toFixed(2)}%</td>
              <td class="text-right">${N.paymentCount}</td>
              <td>${N.lastPaymentDate?I(N.lastPaymentDate):""}</td>
            </tr>
          `).join("")}
        </tbody>
      </table>
    </div>

    <div class="section">
      <h2 class="section-title">Recent Yield Transactions (Last 10)</h2>
      <table>
        <thead>
          <tr>
            <th>Date</th>
            <th>Asset</th>
            <th>Type</th>
            <th class="text-right">Amount (FLOW)</th>
          </tr>
        </thead>
        <tbody>
          ${T.transactions.slice(0,10).map(N=>`
            <tr>
              <td>${I(N.timestamp)}</td>
              <td>${N.assetName}</td>
              <td><span style="text-transform: capitalize;">${N.type}</span></td>
              <td class="text-right text-blue">+${C(N.amount)}</td>
            </tr>
          `).join("")}
          ${T.transactions.length===0?'<tr><td colspan="4" class="text-center" style="color: #666;">No transactions recorded</td></tr>':""}
        </tbody>
      </table>
    </div>

    <div class="footer">
      <p><strong>Confidential Financial Statement</strong>  Generated from verified on-chain data.</p>
      <p>OpenAsset RWA Platform  Report ID: YIELD-${new Date().toISOString().slice(0,10).replace(/-/g,"")}-${Math.random().toString(36).substr(2,5).toUpperCase()}</p>
    </div>
  </div>
</body>
</html>`},g=T=>new Date(T).toLocaleDateString(),x=T=>`${parseFloat(T).toLocaleString()} FLOW`;return t?c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Yield & Income Report"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Track your real yield and principal returns from tokenized assets"})]}),c.jsxs(te,{onClick:b,className:"bg-blue-600 hover:bg-blue-700",children:[c.jsx(s1,{className:"w-4 h-4 mr-2"}),"Download Report"]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6",children:[c.jsx(me,{children:c.jsx(ye,{className:"pt-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Ui,{className:"h-4 w-4 text-blue-600"}),c.jsxs("div",{className:"ml-2",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Principal"}),c.jsx("p",{className:"text-2xl font-bold text-blue-600",children:x(o.totalPrincipalInvested)})]})]})})}),c.jsx(me,{children:c.jsx(ye,{className:"pt-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Rs,{className:"h-4 w-4 text-green-600"}),c.jsxs("div",{className:"ml-2",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Yield Received"}),c.jsx("p",{className:"text-2xl font-bold text-green-600",children:x(o.totalYieldReceived)})]})]})})}),c.jsx(me,{children:c.jsx(ye,{className:"pt-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Jp,{className:"h-4 w-4 text-purple-600"}),c.jsxs("div",{className:"ml-2",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Return"}),c.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[o.returnPercentage.toFixed(2),"%"]})]})]})})}),c.jsx(me,{children:c.jsx(ye,{className:"pt-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(n1,{className:"h-4 w-4 text-orange-600"}),c.jsxs("div",{className:"ml-2",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Assets"}),c.jsx("p",{className:"text-2xl font-bold text-orange-600",children:o.activeAssets})]})]})})})]}),c.jsxs(me,{children:[c.jsxs(yt,{children:[c.jsxs(gt,{className:"flex items-center gap-2",children:[c.jsx(n1,{className:"w-5 h-5"}),"Asset Yield Breakdown"]}),c.jsx(Pr,{children:"Individual asset performance and yield history"})]}),c.jsx(ye,{children:r?c.jsx("div",{className:"flex justify-center p-8",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):u.length===0?c.jsx("p",{className:"text-gray-500 text-center py-8",children:"No asset data available"}):c.jsx("div",{className:"space-y-4",children:u.map(T=>c.jsx(me,{className:"border-l-4 border-l-green-500",children:c.jsx(ye,{className:"p-6",children:c.jsx("div",{className:"flex justify-between items-start",children:c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"font-bold text-lg",children:T.assetName}),c.jsxs(Ue,{variant:"outline",className:"bg-green-50 text-green-700",children:[T.yieldPercentage.toFixed(2),"% Return"]})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Principal Invested"}),c.jsx("p",{className:"font-medium",children:x(T.principalInvested)})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Yield Received"}),c.jsx("p",{className:"font-medium text-green-600",children:x(T.totalYieldReceived)})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Payments Count"}),c.jsxs("p",{className:"font-medium",children:[T.paymentCount," payments"]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Last Payment"}),c.jsx("p",{className:"font-medium",children:T.lastPaymentDate?g(T.lastPaymentDate):"None"})]})]})]})})})},T.tokenId))})})]}),c.jsxs(me,{children:[c.jsxs(yt,{children:[c.jsxs(gt,{className:"flex items-center gap-2",children:[c.jsx(up,{className:"w-5 h-5"}),"Recent Yield Transactions"]}),c.jsx(Pr,{children:"Latest yield payments received from your assets"})]}),c.jsx(ye,{children:r?c.jsx("div",{className:"flex justify-center p-8",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):i.length===0?c.jsx("p",{className:"text-gray-500 text-center py-8",children:"No yield transactions found"}):c.jsx("div",{className:"space-y-3",children:i.slice(0,10).map((T,I)=>c.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:c.jsx(Ui,{className:"w-5 h-5 text-green-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-gray-900",children:T.assetName}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Ue,{variant:"outline",className:"bg-green-50 text-green-700",children:T.type}),c.jsx("span",{className:"text-sm text-gray-500",children:g(T.timestamp)})]})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:"text-lg font-bold text-green-600",children:["+",x(T.amount)]}),c.jsxs("div",{className:"flex items-center justify-end space-x-1",children:[c.jsx(YC,{className:"w-3 h-3 text-green-500"}),c.jsx("span",{className:"text-xs text-green-500",children:"Credited"})]})]})]},I))})})]})]}):c.jsxs("div",{className:"text-center py-12",children:[c.jsx(ho,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Connect Your Wallet"}),c.jsx("p",{className:"text-gray-600",children:"Connect your wallet to view your yield and income report"})]})};var l4e="Separator",U8="horizontal",c4e=["horizontal","vertical"],tQ=A.forwardRef((t,e)=>{const{decorative:n,orientation:r=U8,...s}=t,i=u4e(r)?r:U8,o=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return c.jsx(xt.div,{"data-orientation":i,...o,...s,ref:e})});tQ.displayName=l4e;function u4e(t){return c4e.includes(t)}var nQ=tQ;const EE=A.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>c.jsx(nQ,{ref:s,decorative:n,orientation:e,className:vt("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));EE.displayName=nQ.displayName;/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function gb(t){return t+.5|0}const zu=(t,e,n)=>Math.max(Math.min(t,n),e);function lg(t){return zu(gb(t*2.55),0,255)}function cd(t){return zu(gb(t*255),0,255)}function ac(t){return zu(gb(t/2.55)/100,0,1)}function z8(t){return zu(gb(t*100),0,100)}const ma={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},SE=[..."0123456789ABCDEF"],d4e=t=>SE[t&15],p4e=t=>SE[(t&240)>>4]+SE[t&15],mx=t=>(t&240)>>4===(t&15),f4e=t=>mx(t.r)&&mx(t.g)&&mx(t.b)&&mx(t.a);function h4e(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&ma[t[1]]*17,g:255&ma[t[2]]*17,b:255&ma[t[3]]*17,a:e===5?ma[t[4]]*17:255}:(e===7||e===9)&&(n={r:ma[t[1]]<<4|ma[t[2]],g:ma[t[3]]<<4|ma[t[4]],b:ma[t[5]]<<4|ma[t[6]],a:e===9?ma[t[7]]<<4|ma[t[8]]:255})),n}const m4e=(t,e)=>t<255?e(t):"";function y4e(t){var e=f4e(t)?d4e:p4e;return t?"#"+e(t.r)+e(t.g)+e(t.b)+m4e(t.a,e):void 0}const g4e=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function rQ(t,e,n){const r=e*Math.min(n,1-n),s=(i,a=(i+t/30)%12)=>n-r*Math.max(Math.min(a-3,9-a,1),-1);return[s(0),s(8),s(4)]}function v4e(t,e,n){const r=(s,i=(s+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function b4e(t,e,n){const r=rQ(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)r[s]*=1-e-n,r[s]+=e;return r}function x4e(t,e,n,r,s){return t===s?(e-n)/r+(e<n?6:0):e===s?(n-t)/r+2:(t-e)/r+4}function $M(t){const n=t.r/255,r=t.g/255,s=t.b/255,i=Math.max(n,r,s),a=Math.min(n,r,s),o=(i+a)/2;let l,u,d;return i!==a&&(d=i-a,u=o>.5?d/(2-i-a):d/(i+a),l=x4e(n,r,s,d,i),l=l*60+.5),[l|0,u||0,o]}function FM(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(cd)}function BM(t,e,n){return FM(rQ,t,e,n)}function w4e(t,e,n){return FM(b4e,t,e,n)}function T4e(t,e,n){return FM(v4e,t,e,n)}function sQ(t){return(t%360+360)%360}function A4e(t){const e=g4e.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?lg(+e[5]):cd(+e[5]));const s=sQ(+e[2]),i=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?r=w4e(s,i,a):e[1]==="hsv"?r=T4e(s,i,a):r=BM(s,i,a),{r:r[0],g:r[1],b:r[2],a:n}}function I4e(t,e){var n=$M(t);n[0]=sQ(n[0]+e),n=BM(n),t.r=n[0],t.g=n[1],t.b=n[2]}function k4e(t){if(!t)return;const e=$M(t),n=e[0],r=z8(e[1]),s=z8(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${s}%, ${ac(t.a)})`:`hsl(${n}, ${r}%, ${s}%)`}const V8={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},H8={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function C4e(){const t={},e=Object.keys(H8),n=Object.keys(V8);let r,s,i,a,o;for(r=0;r<e.length;r++){for(a=o=e[r],s=0;s<n.length;s++)i=n[s],o=o.replace(i,V8[i]);i=parseInt(H8[a],16),t[o]=[i>>16&255,i>>8&255,i&255]}return t}let yx;function N4e(t){yx||(yx=C4e(),yx.transparent=[0,0,0,0]);const e=yx[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const E4e=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function S4e(t){const e=E4e.exec(t);let n=255,r,s,i;if(e){if(e[7]!==r){const a=+e[7];n=e[8]?lg(a):zu(a*255,0,255)}return r=+e[1],s=+e[3],i=+e[5],r=255&(e[2]?lg(r):zu(r,0,255)),s=255&(e[4]?lg(s):zu(s,0,255)),i=255&(e[6]?lg(i):zu(i,0,255)),{r,g:s,b:i,a:n}}}function R4e(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${ac(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Ek=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Vf=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function P4e(t,e,n){const r=Vf(ac(t.r)),s=Vf(ac(t.g)),i=Vf(ac(t.b));return{r:cd(Ek(r+n*(Vf(ac(e.r))-r))),g:cd(Ek(s+n*(Vf(ac(e.g))-s))),b:cd(Ek(i+n*(Vf(ac(e.b))-i))),a:t.a+n*(e.a-t.a)}}function gx(t,e,n){if(t){let r=$M(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=BM(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function iQ(t,e){return t&&Object.assign(e||{},t)}function W8(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=cd(t[3]))):(e=iQ(t,{r:0,g:0,b:0,a:1}),e.a=cd(e.a)),e}function M4e(t){return t.charAt(0)==="r"?S4e(t):A4e(t)}class vv{constructor(e){if(e instanceof vv)return e;const n=typeof e;let r;n==="object"?r=W8(e):n==="string"&&(r=h4e(e)||N4e(e)||M4e(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=iQ(this._rgb);return e&&(e.a=ac(e.a)),e}set rgb(e){this._rgb=W8(e)}rgbString(){return this._valid?R4e(this._rgb):void 0}hexString(){return this._valid?y4e(this._rgb):void 0}hslString(){return this._valid?k4e(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,s=e.rgb;let i;const a=n===i?.5:n,o=2*a-1,l=r.a-s.a,u=((o*l===-1?o:(o+l)/(1+o*l))+1)/2;i=1-u,r.r=255&u*r.r+i*s.r+.5,r.g=255&u*r.g+i*s.g+.5,r.b=255&u*r.b+i*s.b+.5,r.a=a*r.a+(1-a)*s.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=P4e(this._rgb,e._rgb,n)),this}clone(){return new vv(this.rgb)}alpha(e){return this._rgb.a=cd(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=gb(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return gx(this._rgb,2,e),this}darken(e){return gx(this._rgb,2,-e),this}saturate(e){return gx(this._rgb,1,e),this}desaturate(e){return gx(this._rgb,1,-e),this}rotate(e){return I4e(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Zl(){}const j4e=(()=>{let t=0;return()=>t++})();function gn(t){return t==null}function _r(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function tn(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function $s(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Yo(t,e){return $s(t)?t:e}function Ht(t,e){return typeof t>"u"?e:t}const _4e=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Fn(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function xn(t,e,n,r){let s,i,a;if(_r(t))for(i=t.length,s=0;s<i;s++)e.call(n,t[s],s);else if(tn(t))for(a=Object.keys(t),i=a.length,s=0;s<i;s++)e.call(n,t[a[s]],a[s])}function rT(t,e){let n,r,s,i;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(s=t[n],i=e[n],s.datasetIndex!==i.datasetIndex||s.index!==i.index)return!1;return!0}function sT(t){if(_r(t))return t.map(sT);if(tn(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let s=0;for(;s<r;++s)e[n[s]]=sT(t[n[s]]);return e}return t}function aQ(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function D4e(t,e,n,r){if(!aQ(t))return;const s=e[t],i=n[t];tn(s)&&tn(i)?bv(s,i,r):e[t]=sT(i)}function bv(t,e,n){const r=_r(e)?e:[e],s=r.length;if(!tn(t))return t;n=n||{};const i=n.merger||D4e;let a;for(let o=0;o<s;++o){if(a=r[o],!tn(a))continue;const l=Object.keys(a);for(let u=0,d=l.length;u<d;++u)i(l[u],t,a,n)}return t}function zg(t,e){return bv(t,e,{merger:O4e})}function O4e(t,e,n){if(!aQ(t))return;const r=e[t],s=n[t];tn(r)&&tn(s)?zg(r,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=sT(s))}const G8={"":t=>t,x:t=>t.x,y:t=>t.y};function L4e(t){const e=t.split("."),n=[];let r="";for(const s of e)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function $4e(t){const e=L4e(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function Dm(t,e){return(G8[e]||(G8[e]=$4e(e)))(t)}function UM(t){return t.charAt(0).toUpperCase()+t.slice(1)}const xv=t=>typeof t<"u",Cd=t=>typeof t=="function",K8=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function F4e(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const rs=Math.PI,Co=2*rs,B4e=Co+rs,iT=Number.POSITIVE_INFINITY,U4e=rs/180,wo=rs/2,Gd=rs/4,Y8=rs*2/3,RE=Math.log10,kl=Math.sign;function Vg(t,e,n){return Math.abs(t-e)<n}function q8(t){const e=Math.round(t);t=Vg(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(RE(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function z4e(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((s,i)=>s-i).pop(),e}function V4e(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function wv(t){return!V4e(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function H4e(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function W4e(t,e,n){let r,s,i;for(r=0,s=t.length;r<s;r++)i=t[r][n],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function xp(t){return t*(rs/180)}function G4e(t){return t*(180/rs)}function Z8(t){if(!$s(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function K4e(t,e){const n=e.x-t.x,r=e.y-t.y,s=Math.sqrt(n*n+r*r);let i=Math.atan2(r,n);return i<-.5*rs&&(i+=Co),{angle:i,distance:s}}function PE(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Y4e(t,e){return(t-e+B4e)%Co-rs}function rl(t){return(t%Co+Co)%Co}function oQ(t,e,n,r){const s=rl(t),i=rl(e),a=rl(n),o=rl(i-s),l=rl(a-s),u=rl(s-i),d=rl(s-a);return s===i||s===a||r&&i===a||o>l&&u<d}function Ji(t,e,n){return Math.max(e,Math.min(n,t))}function q4e(t){return Ji(t,-32768,32767)}function Vu(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function zM(t,e,n){n=n||(a=>t[a]<e);let r=t.length-1,s=0,i;for(;r-s>1;)i=s+r>>1,n(i)?s=i:r=i;return{lo:s,hi:r}}const wp=(t,e,n,r)=>zM(t,n,r?s=>{const i=t[s][e];return i<n||i===n&&t[s+1][e]===n}:s=>t[s][e]<n),Z4e=(t,e,n)=>zM(t,n,r=>t[r][e]>=n);function X4e(t,e,n){let r=0,s=t.length;for(;r<s&&t[r]<e;)r++;for(;s>r&&t[s-1]>n;)s--;return r>0||s<t.length?t.slice(r,s):t}const lQ=["push","pop","shift","splice","unshift"];function J4e(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),lQ.forEach(n=>{const r="_onData"+UM(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...i){const a=s.apply(this,i);return t._chartjs.listeners.forEach(o=>{typeof o[r]=="function"&&o[r](...i)}),a}})})}function X8(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,s=r.indexOf(e);s!==-1&&r.splice(s,1),!(r.length>0)&&(lQ.forEach(i=>{delete t[i]}),delete t._chartjs)}function cQ(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const uQ=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function dQ(t,e){let n=[],r=!1;return function(...s){n=s,r||(r=!0,uQ.call(window,()=>{r=!1,t.apply(e,n)}))}}function Q4e(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const VM=t=>t==="start"?"left":t==="end"?"right":"center",As=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,e_e=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function t_e(t,e,n){const r=e.length;let s=0,i=r;if(t._sorted){const{iScale:a,vScale:o,_parsed:l}=t,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,d=a.axis,{min:p,max:f,minDefined:h,maxDefined:y}=a.getUserBounds();if(h){if(s=Math.min(wp(l,d,p).lo,n?r:wp(e,d,a.getPixelForValue(p)).lo),u){const m=l.slice(0,s+1).reverse().findIndex(b=>!gn(b[o.axis]));s-=Math.max(0,m)}s=Ji(s,0,r-1)}if(y){let m=Math.max(wp(l,a.axis,f,!0).hi+1,n?0:wp(e,d,a.getPixelForValue(f),!0).hi+1);if(u){const b=l.slice(m-1).findIndex(v=>!gn(v[o.axis]));m+=Math.max(0,b)}i=Ji(m,s,r)-s}else i=r-s}return{start:s,count:i}}function n_e(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,s={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=s,!0;const i=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,s),i}const vx=t=>t===0||t===1,J8=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Co/n)),Q8=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Co/n)+1,Hg={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*wo)+1,easeOutSine:t=>Math.sin(t*wo),easeInOutSine:t=>-.5*(Math.cos(rs*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>vx(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>vx(t)?t:J8(t,.075,.3),easeOutElastic:t=>vx(t)?t:Q8(t,.075,.3),easeInOutElastic(t){return vx(t)?t:t<.5?.5*J8(t*2,.1125,.45):.5+.5*Q8(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Hg.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Hg.easeInBounce(t*2)*.5:Hg.easeOutBounce(t*2-1)*.5+.5};function HM(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function e$(t){return HM(t)?t:new vv(t)}function Sk(t){return HM(t)?t:new vv(t).saturate(.5).darken(.1).hexString()}const r_e=["x","y","borderWidth","radius","tension"],s_e=["color","borderColor","backgroundColor"];function i_e(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:s_e},numbers:{type:"number",properties:r_e}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function a_e(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const t$=new Map;function o_e(t,e){e=e||{};const n=t+JSON.stringify(e);let r=t$.get(n);return r||(r=new Intl.NumberFormat(t,e),t$.set(n,r)),r}function pQ(t,e,n){return o_e(e,n).format(t)}const fQ={values(t){return _r(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let s,i=t;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(s="scientific"),i=l_e(t,n)}const a=RE(Math.abs(i)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:s,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),pQ(t,r,l)},logarithmic(t,e,n){if(t===0)return"0";const r=n[e].significand||t/Math.pow(10,Math.floor(RE(t)));return[1,2,3,5,10,15].includes(r)||e>.8*n.length?fQ.numeric.call(this,t,e,n):""}};function l_e(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var hQ={formatters:fQ};function c_e(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:hQ.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const vf=Object.create(null),ME=Object.create(null);function Wg(t,e){if(!e)return t;const n=e.split(".");for(let r=0,s=n.length;r<s;++r){const i=n[r];t=t[i]||(t[i]=Object.create(null))}return t}function Rk(t,e,n){return typeof e=="string"?bv(Wg(t,e),n):bv(Wg(t,""),e)}class u_e{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,s)=>Sk(s.backgroundColor),this.hoverBorderColor=(r,s)=>Sk(s.borderColor),this.hoverColor=(r,s)=>Sk(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Rk(this,e,n)}get(e){return Wg(this,e)}describe(e,n){return Rk(ME,e,n)}override(e,n){return Rk(vf,e,n)}route(e,n,r,s){const i=Wg(this,e),a=Wg(this,r),o="_"+n;Object.defineProperties(i,{[o]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[o],u=a[s];return tn(l)?Object.assign({},u,l):Ht(l,u)},set(l){this[o]=l}}})}apply(e){e.forEach(n=>n(this))}}var wr=new u_e({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[i_e,a_e,c_e]);function d_e(t){return!t||gn(t.size)||gn(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function n$(t,e,n,r,s){let i=e[s];return i||(i=e[s]=t.measureText(s).width,n.push(s)),i>r&&(r=i),r}function Kd(t,e,n){const r=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*r)/r+s}function r$(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function jE(t,e,n,r){mQ(t,e,n,r,null)}function mQ(t,e,n,r,s){let i,a,o,l,u,d,p,f;const h=e.pointStyle,y=e.rotation,m=e.radius;let b=(y||0)*U4e;if(h&&typeof h=="object"&&(i=h.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(b),t.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),t.restore();return}if(!(isNaN(m)||m<=0)){switch(t.beginPath(),h){default:s?t.ellipse(n,r,s/2,m,0,0,Co):t.arc(n,r,m,0,Co),t.closePath();break;case"triangle":d=s?s/2:m,t.moveTo(n+Math.sin(b)*d,r-Math.cos(b)*m),b+=Y8,t.lineTo(n+Math.sin(b)*d,r-Math.cos(b)*m),b+=Y8,t.lineTo(n+Math.sin(b)*d,r-Math.cos(b)*m),t.closePath();break;case"rectRounded":u=m*.516,l=m-u,a=Math.cos(b+Gd)*l,p=Math.cos(b+Gd)*(s?s/2-u:l),o=Math.sin(b+Gd)*l,f=Math.sin(b+Gd)*(s?s/2-u:l),t.arc(n-p,r-o,u,b-rs,b-wo),t.arc(n+f,r-a,u,b-wo,b),t.arc(n+p,r+o,u,b,b+wo),t.arc(n-f,r+a,u,b+wo,b+rs),t.closePath();break;case"rect":if(!y){l=Math.SQRT1_2*m,d=s?s/2:l,t.rect(n-d,r-l,2*d,2*l);break}b+=Gd;case"rectRot":p=Math.cos(b)*(s?s/2:m),a=Math.cos(b)*m,o=Math.sin(b)*m,f=Math.sin(b)*(s?s/2:m),t.moveTo(n-p,r-o),t.lineTo(n+f,r-a),t.lineTo(n+p,r+o),t.lineTo(n-f,r+a),t.closePath();break;case"crossRot":b+=Gd;case"cross":p=Math.cos(b)*(s?s/2:m),a=Math.cos(b)*m,o=Math.sin(b)*m,f=Math.sin(b)*(s?s/2:m),t.moveTo(n-p,r-o),t.lineTo(n+p,r+o),t.moveTo(n+f,r-a),t.lineTo(n-f,r+a);break;case"star":p=Math.cos(b)*(s?s/2:m),a=Math.cos(b)*m,o=Math.sin(b)*m,f=Math.sin(b)*(s?s/2:m),t.moveTo(n-p,r-o),t.lineTo(n+p,r+o),t.moveTo(n+f,r-a),t.lineTo(n-f,r+a),b+=Gd,p=Math.cos(b)*(s?s/2:m),a=Math.cos(b)*m,o=Math.sin(b)*m,f=Math.sin(b)*(s?s/2:m),t.moveTo(n-p,r-o),t.lineTo(n+p,r+o),t.moveTo(n+f,r-a),t.lineTo(n-f,r+a);break;case"line":a=s?s/2:Math.cos(b)*m,o=Math.sin(b)*m,t.moveTo(n-a,r-o),t.lineTo(n+a,r+o);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(b)*(s?s/2:m),r+Math.sin(b)*m);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Tv(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function oA(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function lA(t){t.restore()}function p_e(t,e,n,r,s){if(!e)return t.lineTo(n.x,n.y);if(s==="middle"){const i=(e.x+n.x)/2;t.lineTo(i,e.y),t.lineTo(i,n.y)}else s==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function f_e(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function h_e(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),gn(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function m_e(t,e,n,r,s){if(s.strikethrough||s.underline){const i=t.measureText(r),a=e-i.actualBoundingBoxLeft,o=e+i.actualBoundingBoxRight,l=n-i.actualBoundingBoxAscent,u=n+i.actualBoundingBoxDescent,d=s.strikethrough?(l+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(a,d),t.lineTo(o,d),t.stroke()}}function y_e(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Av(t,e,n,r,s,i={}){const a=_r(e)?e:[e],o=i.strokeWidth>0&&i.strokeColor!=="";let l,u;for(t.save(),t.font=s.string,h_e(t,i),l=0;l<a.length;++l)u=a[l],i.backdrop&&y_e(t,i.backdrop),o&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),gn(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(u,n,r,i.maxWidth)),t.fillText(u,n,r,i.maxWidth),m_e(t,n,r,u,i),r+=Number(s.lineHeight);t.restore()}function aT(t,e){const{x:n,y:r,w:s,h:i,radius:a}=e;t.arc(n+a.topLeft,r+a.topLeft,a.topLeft,1.5*rs,rs,!0),t.lineTo(n,r+i-a.bottomLeft),t.arc(n+a.bottomLeft,r+i-a.bottomLeft,a.bottomLeft,rs,wo,!0),t.lineTo(n+s-a.bottomRight,r+i),t.arc(n+s-a.bottomRight,r+i-a.bottomRight,a.bottomRight,wo,0,!0),t.lineTo(n+s,r+a.topRight),t.arc(n+s-a.topRight,r+a.topRight,a.topRight,0,-wo,!0),t.lineTo(n+a.topLeft,r)}const g_e=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,v_e=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function b_e(t,e){const n=(""+t).match(g_e);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const x_e=t=>+t||0;function yQ(t,e){const n={},r=tn(e),s=r?Object.keys(e):e,i=tn(t)?r?a=>Ht(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of s)n[a]=x_e(i(a));return n}function gQ(t){return yQ(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Wh(t){return yQ(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Ba(t){const e=gQ(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function _s(t,e){t=t||{},e=e||wr.font;let n=Ht(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=Ht(t.style,e.style);r&&!(""+r).match(v_e)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:Ht(t.family,e.family),lineHeight:b_e(Ht(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:Ht(t.weight,e.weight),string:""};return s.string=d_e(s),s}function bx(t,e,n,r){let s,i,a;for(s=0,i=t.length;s<i;++s)if(a=t[s],a!==void 0&&a!==void 0)return a}function w_e(t,e,n){const{min:r,max:s}=t,i=_4e(e,(s-r)/2),a=(o,l)=>n&&o===0?0:o+l;return{min:a(r,-Math.abs(i)),max:a(s,i)}}function Pf(t,e){return Object.assign(Object.create(t),e)}function WM(t,e=[""],n,r,s=()=>t[0]){const i=n||t;typeof r>"u"&&(r=wQ("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:r,_getTarget:s,override:o=>WM([o,...t],e,i,r)};return new Proxy(a,{deleteProperty(o,l){return delete o[l],delete o._keys,delete t[0][l],!0},get(o,l){return bQ(o,l,()=>S_e(l,e,t,o))},getOwnPropertyDescriptor(o,l){return Reflect.getOwnPropertyDescriptor(o._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(o,l){return i$(o).includes(l)},ownKeys(o){return i$(o)},set(o,l,u){const d=o._storage||(o._storage=s());return o[l]=d[l]=u,delete o._keys,!0}})}function Om(t,e,n,r){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:vQ(t,r),setContext:i=>Om(t,i,n,r),override:i=>Om(t.override(i),e,n,r)};return new Proxy(s,{deleteProperty(i,a){return delete i[a],delete t[a],!0},get(i,a,o){return bQ(i,a,()=>A_e(i,a,o))},getOwnPropertyDescriptor(i,a){return i._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(i,a,o){return t[a]=o,delete i[a],!0}})}function vQ(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:r,isScriptable:Cd(n)?n:()=>n,isIndexable:Cd(r)?r:()=>r}}const T_e=(t,e)=>t?t+UM(e):e,GM=(t,e)=>tn(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function bQ(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function A_e(t,e,n){const{_proxy:r,_context:s,_subProxy:i,_descriptors:a}=t;let o=r[e];return Cd(o)&&a.isScriptable(e)&&(o=I_e(e,o,t,n)),_r(o)&&o.length&&(o=k_e(e,o,t,a.isIndexable)),GM(e,o)&&(o=Om(o,s,i&&i[e],a)),o}function I_e(t,e,n,r){const{_proxy:s,_context:i,_subProxy:a,_stack:o}=n;if(o.has(t))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+t);o.add(t);let l=e(i,a||r);return o.delete(t),GM(t,l)&&(l=KM(s._scopes,s,t,l)),l}function k_e(t,e,n,r){const{_proxy:s,_context:i,_subProxy:a,_descriptors:o}=n;if(typeof i.index<"u"&&r(t))return e[i.index%e.length];if(tn(e[0])){const l=e,u=s._scopes.filter(d=>d!==l);e=[];for(const d of l){const p=KM(u,s,t,d);e.push(Om(p,i,a&&a[t],o))}}return e}function xQ(t,e,n){return Cd(t)?t(e,n):t}const C_e=(t,e)=>t===!0?e:typeof t=="string"?Dm(e,t):void 0;function N_e(t,e,n,r,s){for(const i of e){const a=C_e(n,i);if(a){t.add(a);const o=xQ(a._fallback,n,s);if(typeof o<"u"&&o!==n&&o!==r)return o}else if(a===!1&&typeof r<"u"&&n!==r)return null}return!1}function KM(t,e,n,r){const s=e._rootScopes,i=xQ(e._fallback,n,r),a=[...t,...s],o=new Set;o.add(r);let l=s$(o,a,n,i||n,r);return l===null||typeof i<"u"&&i!==n&&(l=s$(o,a,i,l,r),l===null)?!1:WM(Array.from(o),[""],s,i,()=>E_e(e,n,r))}function s$(t,e,n,r,s){for(;n;)n=N_e(t,e,n,r,s);return n}function E_e(t,e,n){const r=t._getTarget();e in r||(r[e]={});const s=r[e];return _r(s)&&tn(n)?n:s||{}}function S_e(t,e,n,r){let s;for(const i of e)if(s=wQ(T_e(i,t),n),typeof s<"u")return GM(t,s)?KM(n,r,t,s):s}function wQ(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function i$(t){let e=t._keys;return e||(e=t._keys=R_e(t._scopes)),e}function R_e(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(r);return Array.from(e)}const P_e=Number.EPSILON||1e-14,Lm=(t,e)=>e<t.length&&!t[e].skip&&t[e],TQ=t=>t==="x"?"y":"x";function M_e(t,e,n,r){const s=t.skip?e:t,i=e,a=n.skip?e:n,o=PE(i,s),l=PE(a,i);let u=o/(o+l),d=l/(o+l);u=isNaN(u)?0:u,d=isNaN(d)?0:d;const p=r*u,f=r*d;return{previous:{x:i.x-p*(a.x-s.x),y:i.y-p*(a.y-s.y)},next:{x:i.x+f*(a.x-s.x),y:i.y+f*(a.y-s.y)}}}function j_e(t,e,n){const r=t.length;let s,i,a,o,l,u=Lm(t,0);for(let d=0;d<r-1;++d)if(l=u,u=Lm(t,d+1),!(!l||!u)){if(Vg(e[d],0,P_e)){n[d]=n[d+1]=0;continue}s=n[d]/e[d],i=n[d+1]/e[d],o=Math.pow(s,2)+Math.pow(i,2),!(o<=9)&&(a=3/Math.sqrt(o),n[d]=s*a*e[d],n[d+1]=i*a*e[d])}}function __e(t,e,n="x"){const r=TQ(n),s=t.length;let i,a,o,l=Lm(t,0);for(let u=0;u<s;++u){if(a=o,o=l,l=Lm(t,u+1),!o)continue;const d=o[n],p=o[r];a&&(i=(d-a[n])/3,o[`cp1${n}`]=d-i,o[`cp1${r}`]=p-i*e[u]),l&&(i=(l[n]-d)/3,o[`cp2${n}`]=d+i,o[`cp2${r}`]=p+i*e[u])}}function D_e(t,e="x"){const n=TQ(e),r=t.length,s=Array(r).fill(0),i=Array(r);let a,o,l,u=Lm(t,0);for(a=0;a<r;++a)if(o=l,l=u,u=Lm(t,a+1),!!l){if(u){const d=u[e]-l[e];s[a]=d!==0?(u[n]-l[n])/d:0}i[a]=o?u?kl(s[a-1])!==kl(s[a])?0:(s[a-1]+s[a])/2:s[a-1]:s[a]}j_e(t,s,i),__e(t,i,e)}function xx(t,e,n){return Math.max(Math.min(t,n),e)}function O_e(t,e){let n,r,s,i,a,o=Tv(t[0],e);for(n=0,r=t.length;n<r;++n)a=i,i=o,o=n<r-1&&Tv(t[n+1],e),i&&(s=t[n],a&&(s.cp1x=xx(s.cp1x,e.left,e.right),s.cp1y=xx(s.cp1y,e.top,e.bottom)),o&&(s.cp2x=xx(s.cp2x,e.left,e.right),s.cp2y=xx(s.cp2y,e.top,e.bottom)))}function L_e(t,e,n,r,s){let i,a,o,l;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")D_e(t,s);else{let u=r?t[t.length-1]:t[0];for(i=0,a=t.length;i<a;++i)o=t[i],l=M_e(u,o,t[Math.min(i+1,a-(r?0:1))%a],e.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,u=o}e.capBezierPoints&&O_e(t,n)}function YM(){return typeof window<"u"&&typeof document<"u"}function qM(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function oT(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const cA=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function $_e(t,e){return cA(t).getPropertyValue(e)}const F_e=["top","right","bottom","left"];function Wp(t,e,n){const r={};n=n?"-"+n:"";for(let s=0;s<4;s++){const i=F_e[s];r[i]=parseFloat(t[e+"-"+i+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const B_e=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function U_e(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:s,offsetY:i}=r;let a=!1,o,l;if(B_e(s,i,t.target))o=s,l=i;else{const u=e.getBoundingClientRect();o=r.clientX-u.left,l=r.clientY-u.top,a=!0}return{x:o,y:l,box:a}}function tp(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,s=cA(n),i=s.boxSizing==="border-box",a=Wp(s,"padding"),o=Wp(s,"border","width"),{x:l,y:u,box:d}=U_e(t,n),p=a.left+(d&&o.left),f=a.top+(d&&o.top);let{width:h,height:y}=e;return i&&(h-=a.width+o.width,y-=a.height+o.height),{x:Math.round((l-p)/h*n.width/r),y:Math.round((u-f)/y*n.height/r)}}function z_e(t,e,n){let r,s;if(e===void 0||n===void 0){const i=t&&qM(t);if(!i)e=t.clientWidth,n=t.clientHeight;else{const a=i.getBoundingClientRect(),o=cA(i),l=Wp(o,"border","width"),u=Wp(o,"padding");e=a.width-u.width-l.width,n=a.height-u.height-l.height,r=oT(o.maxWidth,i,"clientWidth"),s=oT(o.maxHeight,i,"clientHeight")}}return{width:e,height:n,maxWidth:r||iT,maxHeight:s||iT}}const wx=t=>Math.round(t*10)/10;function V_e(t,e,n,r){const s=cA(t),i=Wp(s,"margin"),a=oT(s.maxWidth,t,"clientWidth")||iT,o=oT(s.maxHeight,t,"clientHeight")||iT,l=z_e(t,e,n);let{width:u,height:d}=l;if(s.boxSizing==="content-box"){const f=Wp(s,"border","width"),h=Wp(s,"padding");u-=h.width+f.width,d-=h.height+f.height}return u=Math.max(0,u-i.width),d=Math.max(0,r?u/r:d-i.height),u=wx(Math.min(u,a,l.maxWidth)),d=wx(Math.min(d,o,l.maxHeight)),u&&!d&&(d=wx(u/2)),(e!==void 0||n!==void 0)&&r&&l.height&&d>l.height&&(d=l.height,u=wx(Math.floor(d*r))),{width:u,height:d}}function a$(t,e,n){const r=e||1,s=Math.floor(t.height*r),i=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||a.height!==s||a.width!==i?(t.currentDevicePixelRatio=r,a.height=s,a.width=i,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const H_e=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};YM()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function o$(t,e){const n=$_e(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function np(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function W_e(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function G_e(t,e,n,r){const s={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},a=np(t,s,n),o=np(s,i,n),l=np(i,e,n),u=np(a,o,n),d=np(o,l,n);return np(u,d,n)}const K_e=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},Y_e=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Gh(t,e,n){return t?K_e(e,n):Y_e()}function AQ(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function IQ(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function kQ(t){return t==="angle"?{between:oQ,compare:Y4e,normalize:rl}:{between:Vu,compare:(e,n)=>e-n,normalize:e=>e}}function l$({start:t,end:e,count:n,loop:r,style:s}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:s}}function q_e(t,e,n){const{property:r,start:s,end:i}=n,{between:a,normalize:o}=kQ(r),l=e.length;let{start:u,end:d,loop:p}=t,f,h;if(p){for(u+=l,d+=l,f=0,h=l;f<h&&a(o(e[u%l][r]),s,i);++f)u--,d--;u%=l,d%=l}return d<u&&(d+=l),{start:u,end:d,loop:p,style:t.style}}function CQ(t,e,n){if(!n)return[t];const{property:r,start:s,end:i}=n,a=e.length,{compare:o,between:l,normalize:u}=kQ(r),{start:d,end:p,loop:f,style:h}=q_e(t,e,n),y=[];let m=!1,b=null,v,g,x;const T=()=>l(s,x,v)&&o(s,x)!==0,I=()=>o(i,v)===0||l(i,x,v),C=()=>m||T(),N=()=>!m||I();for(let P=d,L=d;P<=p;++P)g=e[P%a],!g.skip&&(v=u(g[r]),v!==x&&(m=l(v,s,i),b===null&&C()&&(b=o(v,s)===0?P:L),b!==null&&N()&&(y.push(l$({start:b,end:P,loop:f,count:a,style:h})),b=null),L=P,x=v));return b!==null&&y.push(l$({start:b,end:p,loop:f,count:a,style:h})),y}function NQ(t,e){const n=[],r=t.segments;for(let s=0;s<r.length;s++){const i=CQ(r[s],t.points,e);i.length&&n.push(...i)}return n}function Z_e(t,e,n,r){let s=0,i=e-1;if(n&&!r)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,n&&(i+=s);i>s&&t[i%e].skip;)i--;return i%=e,{start:s,end:i}}function X_e(t,e,n,r){const s=t.length,i=[];let a=e,o=t[e],l;for(l=e+1;l<=n;++l){const u=t[l%s];u.skip||u.stop?o.skip||(r=!1,i.push({start:e%s,end:(l-1)%s,loop:r}),e=a=u.stop?l:null):(a=l,o.skip&&(e=l)),o=u}return a!==null&&i.push({start:e%s,end:a%s,loop:r}),i}function J_e(t,e){const n=t.points,r=t.options.spanGaps,s=n.length;if(!s)return[];const i=!!t._loop,{start:a,end:o}=Z_e(n,s,i,r);if(r===!0)return c$(t,[{start:a,end:o,loop:i}],n,e);const l=o<a?o+s:o,u=!!t._fullLoop&&a===0&&o===s-1;return c$(t,X_e(n,a,l,u),n,e)}function c$(t,e,n,r){return!r||!r.setContext||!n?e:Q_e(t,e,n,r)}function Q_e(t,e,n,r){const s=t._chart.getContext(),i=u$(t.options),{_datasetIndex:a,options:{spanGaps:o}}=t,l=n.length,u=[];let d=i,p=e[0].start,f=p;function h(y,m,b,v){const g=o?-1:1;if(y!==m){for(y+=l;n[y%l].skip;)y-=g;for(;n[m%l].skip;)m+=g;y%l!==m%l&&(u.push({start:y%l,end:m%l,loop:b,style:v}),d=v,p=m%l)}}for(const y of e){p=o?p:y.start;let m=n[p%l],b;for(f=p+1;f<=y.end;f++){const v=n[f%l];b=u$(r.setContext(Pf(s,{type:"segment",p0:m,p1:v,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:a}))),eDe(b,d)&&h(p,f-1,y.loop,d),m=v,d=b}p<f-1&&h(p,f-1,y.loop,d)}return u}function u$(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function eDe(t,e){if(!e)return!1;const n=[],r=function(s,i){return HM(i)?(n.includes(i)||n.push(i),n.indexOf(i)):i};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function Tx(t,e,n){return t.options.clip?t[n]:e[n]}function tDe(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:Tx(n,e,"left"),right:Tx(n,e,"right"),top:Tx(r,e,"top"),bottom:Tx(r,e,"bottom")}:e}function EQ(t,e){const n=e._clip;if(n.disabled)return!1;const r=tDe(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class nDe{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,s){const i=n.listeners[s],a=n.duration;i.forEach(o=>o({chart:e,initial:n.initial,numSteps:a,currentStep:Math.min(r-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=uQ.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,s)=>{if(!r.running||!r.items.length)return;const i=r.items;let a=i.length-1,o=!1,l;for(;a>=0;--a)l=i[a],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),o=!0):(i[a]=i[i.length-1],i.pop());o&&(s.draw(),this._notify(s,r,e,"progress")),i.length||(r.running=!1,this._notify(s,r,e,"complete"),r.initial=!1),n+=i.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,s)=>Math.max(r,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let s=r.length-1;for(;s>=0;--s)r[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Xl=new nDe;const d$="transparent",rDe={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=e$(t||d$),s=r.valid&&e$(e||d$);return s&&s.valid?s.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class sDe{constructor(e,n,r,s){const i=n[r];s=bx([e.to,s,i,e.from]);const a=bx([e.from,i,s]);this._active=!0,this._fn=e.fn||rDe[e.type||typeof a],this._easing=Hg[e.easing]||Hg.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=a,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const s=this._target[this._prop],i=r-this._start,a=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=bx([e.to,n,s,e.from]),this._from=bx([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,s=this._prop,i=this._from,a=this._loop,o=this._to;let l;if(this._active=i!==o&&(a||n<r),!this._active){this._target[s]=o,this._notify(!0);return}if(n<0){this._target[s]=i;return}l=n/r%2,l=a&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(i,o,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let s=0;s<r.length;s++)r[s][n]()}}class SQ{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!tn(e))return;const n=Object.keys(wr.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const i=e[s];if(!tn(i))return;const a={};for(const o of n)a[o]=i[o];(_r(i.properties)&&i.properties||[s]).forEach(o=>{(o===s||!r.has(o))&&r.set(o,a)})})}_animateOptions(e,n){const r=n.options,s=aDe(e,r);if(!s)return[];const i=this._createAnimations(s,r);return r.$shared&&iDe(e.options.$animations,r).then(()=>{e.options=r},()=>{}),i}_createAnimations(e,n){const r=this._properties,s=[],i=e.$animations||(e.$animations={}),a=Object.keys(n),o=Date.now();let l;for(l=a.length-1;l>=0;--l){const u=a[l];if(u.charAt(0)==="$")continue;if(u==="options"){s.push(...this._animateOptions(e,n));continue}const d=n[u];let p=i[u];const f=r.get(u);if(p)if(f&&p.active()){p.update(f,d,o);continue}else p.cancel();if(!f||!f.duration){e[u]=d;continue}i[u]=p=new sDe(f,e,u,d),s.push(p)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return Xl.add(this._chart,r),!0}}function iDe(t,e){const n=[],r=Object.keys(e);for(let s=0;s<r.length;s++){const i=t[r[s]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function aDe(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function p$(t,e){const n=t&&t.options||{},r=n.reverse,s=n.min===void 0?e:0,i=n.max===void 0?e:0;return{start:r?i:s,end:r?s:i}}function oDe(t,e,n){if(n===!1)return!1;const r=p$(t,n),s=p$(e,n);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}function lDe(t){let e,n,r,s;return tn(t)?(e=t.top,n=t.right,r=t.bottom,s=t.left):e=n=r=s=t,{top:e,right:n,bottom:r,left:s,disabled:t===!1}}function RQ(t,e){const n=[],r=t._getSortedDatasetMetas(e);let s,i;for(s=0,i=r.length;s<i;++s)n.push(r[s].index);return n}function f$(t,e,n,r={}){const s=t.keys,i=r.mode==="single";let a,o,l,u;if(e===null)return;let d=!1;for(a=0,o=s.length;a<o;++a){if(l=+s[a],l===n){if(d=!0,r.all)continue;break}u=t.values[l],$s(u)&&(i||e===0||kl(e)===kl(u))&&(e+=u)}return!d&&!r.all?0:e}function cDe(t,e){const{iScale:n,vScale:r}=e,s=n.axis==="x"?"x":"y",i=r.axis==="x"?"x":"y",a=Object.keys(t),o=new Array(a.length);let l,u,d;for(l=0,u=a.length;l<u;++l)d=a[l],o[l]={[s]:d,[i]:t[d]};return o}function Pk(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function uDe(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function dDe(t){const{min:e,max:n,minDefined:r,maxDefined:s}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function pDe(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function h$(t,e,n,r){for(const s of e.getMatchingVisibleMetas(r).reverse()){const i=t[s.index];if(n&&i>0||!n&&i<0)return s.index}return null}function m$(t,e){const{chart:n,_cachedMeta:r}=t,s=n._stacks||(n._stacks={}),{iScale:i,vScale:a,index:o}=r,l=i.axis,u=a.axis,d=uDe(i,a,r),p=e.length;let f;for(let h=0;h<p;++h){const y=e[h],{[l]:m,[u]:b}=y,v=y._stacks||(y._stacks={});f=v[u]=pDe(s,d,m),f[o]=b,f._top=h$(f,a,!0,r.type),f._bottom=h$(f,a,!1,r.type);const g=f._visualValues||(f._visualValues={});g[o]=b}}function Mk(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function fDe(t,e){return Pf(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function hDe(t,e,n){return Pf(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Yy(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const s of e){const i=s._stacks;if(!i||i[r]===void 0||i[r][n]===void 0)return;delete i[r][n],i[r]._visualValues!==void 0&&i[r]._visualValues[n]!==void 0&&delete i[r]._visualValues[n]}}}const jk=t=>t==="reset"||t==="none",y$=(t,e)=>e?t:Object.assign({},t),mDe=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:RQ(n,!0),values:null};class Kh{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Pk(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Yy(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),s=(p,f,h,y)=>p==="x"?f:p==="r"?y:h,i=n.xAxisID=Ht(r.xAxisID,Mk(e,"x")),a=n.yAxisID=Ht(r.yAxisID,Mk(e,"y")),o=n.rAxisID=Ht(r.rAxisID,Mk(e,"r")),l=n.indexAxis,u=n.iAxisID=s(l,i,a,o),d=n.vAxisID=s(l,a,i,o);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(o),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&X8(this._data,this),e._stacked&&Yy(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(tn(n)){const s=this._cachedMeta;this._data=cDe(n,s)}else if(r!==n){if(r){X8(r,this);const s=this._cachedMeta;Yy(s),s._parsed=[]}n&&Object.isExtensible(n)&&J4e(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const i=n._stacked;n._stacked=Pk(n.vScale,n),n.stack!==r.stack&&(s=!0,Yy(n),n.stack=r.stack),this._resyncElements(e),(s||i!==n._stacked)&&(m$(this,n._parsed),n._stacked=Pk(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:s}=this,{iScale:i,_stacked:a}=r,o=i.axis;let l=e===0&&n===s.length?!0:r._sorted,u=e>0&&r._parsed[e-1],d,p,f;if(this._parsing===!1)r._parsed=s,r._sorted=!0,f=s;else{_r(s[e])?f=this.parseArrayData(r,s,e,n):tn(s[e])?f=this.parseObjectData(r,s,e,n):f=this.parsePrimitiveData(r,s,e,n);const h=()=>p[o]===null||u&&p[o]<u[o];for(d=0;d<n;++d)r._parsed[d+e]=p=f[d],l&&(h()&&(l=!1),u=p);r._sorted=l}a&&m$(this,f)}parsePrimitiveData(e,n,r,s){const{iScale:i,vScale:a}=e,o=i.axis,l=a.axis,u=i.getLabels(),d=i===a,p=new Array(s);let f,h,y;for(f=0,h=s;f<h;++f)y=f+r,p[f]={[o]:d||i.parse(u[y],y),[l]:a.parse(n[y],y)};return p}parseArrayData(e,n,r,s){const{xScale:i,yScale:a}=e,o=new Array(s);let l,u,d,p;for(l=0,u=s;l<u;++l)d=l+r,p=n[d],o[l]={x:i.parse(p[0],d),y:a.parse(p[1],d)};return o}parseObjectData(e,n,r,s){const{xScale:i,yScale:a}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,u=new Array(s);let d,p,f,h;for(d=0,p=s;d<p;++d)f=d+r,h=n[f],u[d]={x:i.parse(Dm(h,o),f),y:a.parse(Dm(h,l),f)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const s=this.chart,i=this._cachedMeta,a=n[e.axis],o={keys:RQ(s,!0),values:n._stacks[e.axis]._visualValues};return f$(o,a,i.index,{mode:r})}updateRangeFromParsed(e,n,r,s){const i=r[n.axis];let a=i===null?NaN:i;const o=s&&r._stacks[n.axis];s&&o&&(s.values=o,a=f$(s,i,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,n){const r=this._cachedMeta,s=r._parsed,i=r._sorted&&e===r.iScale,a=s.length,o=this._getOtherScale(e),l=mDe(n,r,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:p}=dDe(o);let f,h;function y(){h=s[f];const m=h[o.axis];return!$s(h[e.axis])||d>m||p<m}for(f=0;f<a&&!(!y()&&(this.updateRangeFromParsed(u,e,h,l),i));++f);if(i){for(f=a-1;f>=0;--f)if(!y()){this.updateRangeFromParsed(u,e,h,l);break}}return u}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let s,i,a;for(s=0,i=n.length;s<i;++s)a=n[s][e.axis],$s(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,s=n.vScale,i=this.getParsed(e);return{label:r?""+r.getLabelForValue(i[r.axis]):"",value:s?""+s.getLabelForValue(i[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=lDe(Ht(this.options.clip,oDe(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,s=r.data||[],i=n.chartArea,a=[],o=this._drawStart||0,l=this._drawCount||s.length-o,u=this.options.drawActiveElementsOnTop;let d;for(r.dataset&&r.dataset.draw(e,i,o,l),d=o;d<o+l;++d){const p=s[d];p.hidden||(p.active&&u?a.push(p):p.draw(e,i))}for(d=0;d<a.length;++d)a[d].draw(e,i)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const s=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];i=a.$context||(a.$context=hDe(this.getContext(),e,a)),i.parsed=this.getParsed(e),i.raw=s.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=fDe(this.chart.getContext(),this.index)),i.dataset=s,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=r,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const s=n==="active",i=this._cachedDataOpts,a=e+"-"+n,o=i[a],l=this.enableOptionSharing&&xv(r);if(o)return y$(o,l);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,e),p=s?[`${e}Hover`,"hover",e,""]:[e,""],f=u.getOptionScopes(this.getDataset(),d),h=Object.keys(wr.elements[e]),y=()=>this.getContext(r,s,n),m=u.resolveNamedOptions(f,h,y,p);return m.$shared&&(m.$shared=l,i[a]=Object.freeze(y$(m,l))),m}_resolveAnimations(e,n,r){const s=this.chart,i=this._cachedDataOpts,a=`animation-${n}`,o=i[a];if(o)return o;let l;if(s.options.animation!==!1){const d=this.chart.config,p=d.datasetAnimationScopeKeys(this._type,n),f=d.getOptionScopes(this.getDataset(),p);l=d.createResolver(f,this.getContext(e,r,n))}const u=new SQ(s,l&&l.animations);return l&&l._cacheable&&(i[a]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||jk(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),s=this._sharedOptions,i=this.getSharedOptions(r),a=this.includeOptions(n,i)||i!==s;return this.updateSharedOptions(i,n,r),{sharedOptions:i,includeOptions:a}}updateElement(e,n,r,s){jk(s)?Object.assign(e,r):this._resolveAnimations(n,s).update(e,r)}updateSharedOptions(e,n,r){e&&!jk(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,s){e.active=s;const i=this.getStyle(n,s);this._resolveAnimations(n,r,s).update(e,{options:!s&&this.getSharedOptions(i)||i})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[o,l,u]of this._syncList)this[o](l,u);this._syncList=[];const s=r.length,i=n.length,a=Math.min(i,s);a&&this.parse(0,a),i>s?this._insertElements(s,i-s,e):i<s&&this._removeElements(i,s-i)}_insertElements(e,n,r=!0){const s=this._cachedMeta,i=s.data,a=e+n;let o;const l=u=>{for(u.length+=n,o=u.length-1;o>=a;o--)u[o]=u[o-n]};for(l(i),o=e;o<a;++o)i[o]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(e,n),r&&this.updateElements(i,e,n,"reset")}updateElements(e,n,r,s){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(e,n);r._stacked&&Yy(r,s)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,s]=e;this[n](r,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Ge(Kh,"defaults",{}),Ge(Kh,"datasetElementType",null),Ge(Kh,"dataElementType",null);function yDe(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let s=0,i=n.length;s<i;s++)r=r.concat(n[s].controller.getAllParsedValues(t));t._cache.$bar=cQ(r.sort((s,i)=>s-i))}return t._cache.$bar}function gDe(t){const e=t.iScale,n=yDe(e,t.type);let r=e._length,s,i,a,o;const l=()=>{a===32767||a===-32768||(xv(o)&&(r=Math.min(r,Math.abs(a-o)||r)),o=a)};for(s=0,i=n.length;s<i;++s)a=e.getPixelForValue(n[s]),l();for(o=void 0,s=0,i=e.ticks.length;s<i;++s)a=e.getPixelForTick(s),l();return r}function vDe(t,e,n,r){const s=n.barThickness;let i,a;return gn(s)?(i=e.min*n.categoryPercentage,a=n.barPercentage):(i=s*r,a=1),{chunk:i/r,ratio:a,start:e.pixels[t]-i/2}}function bDe(t,e,n,r){const s=e.pixels,i=s[t];let a=t>0?s[t-1]:null,o=t<s.length-1?s[t+1]:null;const l=n.categoryPercentage;a===null&&(a=i-(o===null?e.end-e.start:o-i)),o===null&&(o=i+i-a);const u=i-(i-Math.min(a,o))/2*l;return{chunk:Math.abs(o-a)/2*l/r,ratio:n.barPercentage,start:u}}function xDe(t,e,n,r){const s=n.parse(t[0],r),i=n.parse(t[1],r),a=Math.min(s,i),o=Math.max(s,i);let l=a,u=o;Math.abs(a)>Math.abs(o)&&(l=o,u=a),e[n.axis]=u,e._custom={barStart:l,barEnd:u,start:s,end:i,min:a,max:o}}function PQ(t,e,n,r){return _r(t)?xDe(t,e,n,r):e[n.axis]=n.parse(t,r),e}function g$(t,e,n,r){const s=t.iScale,i=t.vScale,a=s.getLabels(),o=s===i,l=[];let u,d,p,f;for(u=n,d=n+r;u<d;++u)f=e[u],p={},p[s.axis]=o||s.parse(a[u],u),l.push(PQ(f,p,i,u));return l}function _k(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function wDe(t,e,n){return t!==0?kl(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function TDe(t){let e,n,r,s,i;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(s="end",i="start"):(s="start",i="end"),{start:n,end:r,reverse:e,top:s,bottom:i}}function ADe(t,e,n,r){let s=e.borderSkipped;const i={};if(!s){t.borderSkipped=i;return}if(s===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:o,reverse:l,top:u,bottom:d}=TDe(t);s==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?s=u:(n._bottom||0)===r?s=d:(i[v$(d,a,o,l)]=!0,s=u)),i[v$(s,a,o,l)]=!0,t.borderSkipped=i}function v$(t,e,n,r){return r?(t=IDe(t,e,n),t=b$(t,n,e)):t=b$(t,e,n),t}function IDe(t,e,n){return t===e?n:t===n?e:t}function b$(t,e,n){return t==="start"?e:t==="end"?n:t}function kDe(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Aw extends Kh{parsePrimitiveData(e,n,r,s){return g$(e,n,r,s)}parseArrayData(e,n,r,s){return g$(e,n,r,s)}parseObjectData(e,n,r,s){const{iScale:i,vScale:a}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,u=i.axis==="x"?o:l,d=a.axis==="x"?o:l,p=[];let f,h,y,m;for(f=r,h=r+s;f<h;++f)m=n[f],y={},y[i.axis]=i.parse(Dm(m,u),f),p.push(PQ(Dm(m,d),y,a,f));return p}updateRangeFromParsed(e,n,r,s){super.updateRangeFromParsed(e,n,r,s);const i=r._custom;i&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:s}=n,i=this.getParsed(e),a=i._custom,o=_k(a)?"["+a.start+", "+a.end+"]":""+s.getLabelForValue(i[s.axis]);return{label:""+r.getLabelForValue(i[r.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,s){const i=s==="reset",{index:a,_cachedMeta:{vScale:o}}=this,l=o.getBasePixel(),u=o.isHorizontal(),d=this._getRuler(),{sharedOptions:p,includeOptions:f}=this._getSharedOptions(n,s);for(let h=n;h<n+r;h++){const y=this.getParsed(h),m=i||gn(y[o.axis])?{base:l,head:l}:this._calculateBarValuePixels(h),b=this._calculateBarIndexPixels(h,d),v=(y._stacks||{})[o.axis],g={horizontal:u,base:m.base,enableBorderRadius:!v||_k(y._custom)||a===v._top||a===v._bottom,x:u?m.head:b.center,y:u?b.center:m.head,height:u?b.size:Math.abs(m.size),width:u?Math.abs(m.size):b.size};f&&(g.options=p||this.resolveDataElementOptions(h,e[h].active?"active":s));const x=g.options||e[h].options;ADe(g,x,v,a),kDe(g,x,d.ratio),this.updateElement(e[h],h,g,s)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),i=r.options.stacked,a=[],o=this._cachedMeta.controller.getParsed(n),l=o&&o[r.axis],u=d=>{const p=d._parsed.find(h=>h[r.axis]===l),f=p&&p[d.vScale.axis];if(gn(f)||isNaN(f))return!0};for(const d of s)if(!(n!==void 0&&u(d))&&((i===!1||a.indexOf(d.stack)===-1||i===void 0&&d.stack===void 0)&&a.push(d.stack),d.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)e[Ht(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,r){const s=this._getStacks(e,r),i=n!==void 0?s.indexOf(n):-1;return i===-1?s.length-1:i}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,s=[];let i,a;for(i=0,a=n.data.length;i<a;++i)s.push(r.getPixelForValue(this.getParsed(i)[r.axis],i));const o=e.barThickness;return{min:o||gDe(n),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r,index:s},options:{base:i,minBarLength:a}}=this,o=i||0,l=this.getParsed(e),u=l._custom,d=_k(u);let p=l[n.axis],f=0,h=r?this.applyStack(n,l,r):p,y,m;h!==p&&(f=h-p,h=p),d&&(p=u.barStart,h=u.barEnd-u.barStart,p!==0&&kl(p)!==kl(u.barEnd)&&(f=0),f+=p);const b=!gn(i)&&!d?i:f;let v=n.getPixelForValue(b);if(this.chart.getDataVisibility(e)?y=n.getPixelForValue(f+h):y=v,m=y-v,Math.abs(m)<a){m=wDe(m,n,o)*a,p===o&&(v-=m/2);const g=n.getPixelForDecimal(0),x=n.getPixelForDecimal(1),T=Math.min(g,x),I=Math.max(g,x);v=Math.max(Math.min(v,I),T),y=v+m,r&&!d&&(l._stacks[n.axis]._visualValues[s]=n.getValueForPixel(y)-n.getValueForPixel(v))}if(v===n.getPixelForValue(o)){const g=kl(m)*n.getLineWidthForValue(o)/2;v+=g,m-=g}return{size:m,base:v,head:y,center:y+m/2}}_calculateBarIndexPixels(e,n){const r=n.scale,s=this.options,i=s.skipNull,a=Ht(s.maxBarThickness,1/0);let o,l;const u=this._getAxisCount();if(n.grouped){const d=i?this._getStackCount(e):n.stackCount,p=s.barThickness==="flex"?bDe(e,n,s,d*u):vDe(e,n,s,d*u),f=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,h=this._getAxis().indexOf(Ht(f,this.getFirstScaleIdForIndexAxis())),y=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+h;o=p.start+p.chunk*y+p.chunk/2,l=Math.min(a,p.chunk*p.ratio)}else o=r.getPixelForValue(this.getParsed(e)[r.axis],e),l=Math.min(a,n.min*n.ratio);return{base:o-l/2,head:o+l/2,center:o,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,s=r.length;let i=0;for(;i<s;++i)this.getParsed(i)[n.axis]!==null&&!r[i].hidden&&r[i].draw(this._ctx)}}Ge(Aw,"id","bar"),Ge(Aw,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Ge(Aw,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Iw extends Kh{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:s=[],_dataset:i}=n,a=this.chart._animationsDisabled;let{start:o,count:l}=t_e(n,s,a);this._drawStart=o,this._drawCount=l,n_e(n)&&(o=0,l=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!i._decimated,r.points=s;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:u},e),this.updateElements(s,o,l,e)}updateElements(e,n,r,s){const i=s==="reset",{iScale:a,vScale:o,_stacked:l,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:p}=this._getSharedOptions(n,s),f=a.axis,h=o.axis,{spanGaps:y,segment:m}=this.options,b=wv(y)?y:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||i||s==="none",g=n+r,x=e.length;let T=n>0&&this.getParsed(n-1);for(let I=0;I<x;++I){const C=e[I],N=v?C:{};if(I<n||I>=g){N.skip=!0;continue}const P=this.getParsed(I),L=gn(P[h]),U=N[f]=a.getPixelForValue(P[f],I),$=N[h]=i||L?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,P,l):P[h],I);N.skip=isNaN(U)||isNaN($)||L,N.stop=I>0&&Math.abs(P[f]-T[f])>b,m&&(N.parsed=P,N.raw=u.data[I]),p&&(N.options=d||this.resolveDataElementOptions(I,C.active?"active":s)),v||this.updateElement(C,I,N,s),T=P}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,s=e.data||[];if(!s.length)return r;const i=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,i,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Ge(Iw,"id","line"),Ge(Iw,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Ge(Iw,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Yd(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class ZM{constructor(e){Ge(this,"options");this.options=e||{}}static override(e){Object.assign(ZM.prototype,e)}init(){}formats(){return Yd()}parse(){return Yd()}format(){return Yd()}add(){return Yd()}diff(){return Yd()}startOf(){return Yd()}endOf(){return Yd()}}var CDe={_date:ZM};function NDe(t,e,n,r){const{controller:s,data:i,_sorted:a}=t,o=s._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(o&&e===o.axis&&e!=="r"&&a&&i.length){const u=o._reversePixels?Z4e:wp;if(r){if(s._sharedOptions){const d=i[0],p=typeof d.getRange=="function"&&d.getRange(e);if(p){const f=u(i,e,n-p),h=u(i,e,n+p);return{lo:f.lo,hi:h.hi}}}}else{const d=u(i,e,n);if(l){const{vScale:p}=s._cachedMeta,{_parsed:f}=t,h=f.slice(0,d.lo+1).reverse().findIndex(m=>!gn(m[p.axis]));d.lo-=Math.max(0,h);const y=f.slice(d.hi).findIndex(m=>!gn(m[p.axis]));d.hi+=Math.max(0,y)}return d}}return{lo:0,hi:i.length-1}}function vb(t,e,n,r,s){const i=t.getSortedVisibleDatasetMetas(),a=n[e];for(let o=0,l=i.length;o<l;++o){const{index:u,data:d}=i[o],{lo:p,hi:f}=NDe(i[o],e,a,s);for(let h=p;h<=f;++h){const y=d[h];y.skip||r(y,u,h)}}}function EDe(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,s){const i=e?Math.abs(r.x-s.x):0,a=n?Math.abs(r.y-s.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(a,2))}}function Dk(t,e,n,r,s){const i=[];return!s&&!t.isPointInArea(e)||vb(t,n,e,function(o,l,u){!s&&!Tv(o,t.chartArea,0)||o.inRange(e.x,e.y,r)&&i.push({element:o,datasetIndex:l,index:u})},!0),i}function SDe(t,e,n,r){let s=[];function i(a,o,l){const{startAngle:u,endAngle:d}=a.getProps(["startAngle","endAngle"],r),{angle:p}=K4e(a,{x:e.x,y:e.y});oQ(p,u,d)&&s.push({element:a,datasetIndex:o,index:l})}return vb(t,n,e,i),s}function RDe(t,e,n,r,s,i){let a=[];const o=EDe(n);let l=Number.POSITIVE_INFINITY;function u(d,p,f){const h=d.inRange(e.x,e.y,s);if(r&&!h)return;const y=d.getCenterPoint(s);if(!(!!i||t.isPointInArea(y))&&!h)return;const b=o(e,y);b<l?(a=[{element:d,datasetIndex:p,index:f}],l=b):b===l&&a.push({element:d,datasetIndex:p,index:f})}return vb(t,n,e,u),a}function Ok(t,e,n,r,s,i){return!i&&!t.isPointInArea(e)?[]:n==="r"&&!r?SDe(t,e,n,s):RDe(t,e,n,r,s,i)}function x$(t,e,n,r,s){const i=[],a=n==="x"?"inXRange":"inYRange";let o=!1;return vb(t,n,e,(l,u,d)=>{l[a]&&l[a](e[n],s)&&(i.push({element:l,datasetIndex:u,index:d}),o=o||l.inRange(e.x,e.y,s))}),r&&!o?[]:i}var PDe={evaluateInteractionItems:vb,modes:{index(t,e,n,r){const s=tp(e,t),i=n.axis||"x",a=n.includeInvisible||!1,o=n.intersect?Dk(t,s,i,r,a):Ok(t,s,i,!1,r,a),l=[];return o.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const d=o[0].index,p=u.data[d];p&&!p.skip&&l.push({element:p,datasetIndex:u.index,index:d})}),l):[]},dataset(t,e,n,r){const s=tp(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;let o=n.intersect?Dk(t,s,i,r,a):Ok(t,s,i,!1,r,a);if(o.length>0){const l=o[0].datasetIndex,u=t.getDatasetMeta(l).data;o=[];for(let d=0;d<u.length;++d)o.push({element:u[d],datasetIndex:l,index:d})}return o},point(t,e,n,r){const s=tp(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;return Dk(t,s,i,r,a)},nearest(t,e,n,r){const s=tp(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;return Ok(t,s,i,n.intersect,r,a)},x(t,e,n,r){const s=tp(e,t);return x$(t,s,"x",n.intersect,r)},y(t,e,n,r){const s=tp(e,t);return x$(t,s,"y",n.intersect,r)}}};const MQ=["left","top","right","bottom"];function qy(t,e){return t.filter(n=>n.pos===e)}function w$(t,e){return t.filter(n=>MQ.indexOf(n.pos)===-1&&n.box.axis===e)}function Zy(t,e){return t.sort((n,r)=>{const s=e?r:n,i=e?n:r;return s.weight===i.weight?s.index-i.index:s.weight-i.weight})}function MDe(t){const e=[];let n,r,s,i,a,o;for(n=0,r=(t||[]).length;n<r;++n)s=t[n],{position:i,options:{stack:a,stackWeight:o=1}}=s,e.push({index:n,box:s,pos:i,horizontal:s.isHorizontal(),weight:s.weight,stack:a&&i+a,stackWeight:o});return e}function jDe(t){const e={};for(const n of t){const{stack:r,pos:s,stackWeight:i}=n;if(!r||!MQ.includes(s))continue;const a=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=i}return e}function _De(t,e){const n=jDe(t),{vBoxMaxWidth:r,hBoxMaxHeight:s}=e;let i,a,o;for(i=0,a=t.length;i<a;++i){o=t[i];const{fullSize:l}=o.box,u=n[o.stack],d=u&&o.stackWeight/u.weight;o.horizontal?(o.width=d?d*r:l&&e.availableWidth,o.height=s):(o.width=r,o.height=d?d*s:l&&e.availableHeight)}return n}function DDe(t){const e=MDe(t),n=Zy(e.filter(u=>u.box.fullSize),!0),r=Zy(qy(e,"left"),!0),s=Zy(qy(e,"right")),i=Zy(qy(e,"top"),!0),a=Zy(qy(e,"bottom")),o=w$(e,"x"),l=w$(e,"y");return{fullSize:n,leftAndTop:r.concat(i),rightAndBottom:s.concat(l).concat(a).concat(o),chartArea:qy(e,"chartArea"),vertical:r.concat(s).concat(l),horizontal:i.concat(a).concat(o)}}function T$(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function jQ(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function ODe(t,e,n,r){const{pos:s,box:i}=n,a=t.maxPadding;if(!tn(s)){n.size&&(t[s]-=n.size);const p=r[n.stack]||{size:0,count:1};p.size=Math.max(p.size,n.horizontal?i.height:i.width),n.size=p.size/p.count,t[s]+=n.size}i.getPadding&&jQ(a,i.getPadding());const o=Math.max(0,e.outerWidth-T$(a,t,"left","right")),l=Math.max(0,e.outerHeight-T$(a,t,"top","bottom")),u=o!==t.w,d=l!==t.h;return t.w=o,t.h=l,n.horizontal?{same:u,other:d}:{same:d,other:u}}function LDe(t){const e=t.maxPadding;function n(r){const s=Math.max(e[r]-t[r],0);return t[r]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function $De(t,e){const n=e.maxPadding;function r(s){const i={left:0,top:0,right:0,bottom:0};return s.forEach(a=>{i[a]=Math.max(e[a],n[a])}),i}return r(t?["left","right"]:["top","bottom"])}function cg(t,e,n,r){const s=[];let i,a,o,l,u,d;for(i=0,a=t.length,u=0;i<a;++i){o=t[i],l=o.box,l.update(o.width||e.w,o.height||e.h,$De(o.horizontal,e));const{same:p,other:f}=ODe(e,n,o,r);u|=p&&s.length,d=d||f,l.fullSize||s.push(o)}return u&&cg(s,e,n,r)||d}function Ax(t,e,n,r,s){t.top=n,t.left=e,t.right=e+r,t.bottom=n+s,t.width=r,t.height=s}function A$(t,e,n,r){const s=n.padding;let{x:i,y:a}=e;for(const o of t){const l=o.box,u=r[o.stack]||{count:1,placed:0,weight:1},d=o.stackWeight/u.weight||1;if(o.horizontal){const p=e.w*d,f=u.size||l.height;xv(u.start)&&(a=u.start),l.fullSize?Ax(l,s.left,a,n.outerWidth-s.right-s.left,f):Ax(l,e.left+u.placed,a,p,f),u.start=a,u.placed+=p,a=l.bottom}else{const p=e.h*d,f=u.size||l.width;xv(u.start)&&(i=u.start),l.fullSize?Ax(l,i,s.top,f,n.outerHeight-s.bottom-s.top):Ax(l,i,e.top+u.placed,f,p),u.start=i,u.placed+=p,i=l.right}}e.x=i,e.y=a}var Pa={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const s=Ba(t.options.layout.padding),i=Math.max(e-s.width,0),a=Math.max(n-s.height,0),o=DDe(t.boxes),l=o.vertical,u=o.horizontal;xn(t.boxes,m=>{typeof m.beforeLayout=="function"&&m.beforeLayout()});const d=l.reduce((m,b)=>b.box.options&&b.box.options.display===!1?m:m+1,0)||1,p=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:i,availableHeight:a,vBoxMaxWidth:i/2/d,hBoxMaxHeight:a/2}),f=Object.assign({},s);jQ(f,Ba(r));const h=Object.assign({maxPadding:f,w:i,h:a,x:s.left,y:s.top},s),y=_De(l.concat(u),p);cg(o.fullSize,h,p,y),cg(l,h,p,y),cg(u,h,p,y)&&cg(l,h,p,y),LDe(h),A$(o.leftAndTop,h,p,y),h.x+=h.w,h.y+=h.h,A$(o.rightAndBottom,h,p,y),t.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h,height:h.h,width:h.w},xn(o.chartArea,m=>{const b=m.box;Object.assign(b,t.chartArea),b.update(h.w,h.h,{left:0,top:0,right:0,bottom:0})})}};class _Q{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,s){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):r)}}isAttached(e){return!0}updateConfig(e){}}class FDe extends _Q{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const kw="$chartjs",BDe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},I$=t=>t===null||t==="";function UDe(t,e){const n=t.style,r=t.getAttribute("height"),s=t.getAttribute("width");if(t[kw]={initial:{height:r,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",I$(s)){const i=o$(t,"width");i!==void 0&&(t.width=i)}if(I$(r))if(t.style.height==="")t.height=t.width/(e||2);else{const i=o$(t,"height");i!==void 0&&(t.height=i)}return t}const DQ=H_e?{passive:!0}:!1;function zDe(t,e,n){t&&t.addEventListener(e,n,DQ)}function VDe(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,DQ)}function HDe(t,e){const n=BDe[t.type]||t.type,{x:r,y:s}=tp(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:s!==void 0?s:null}}function lT(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function WDe(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let a=!1;for(const o of i)a=a||lT(o.addedNodes,r),a=a&&!lT(o.removedNodes,r);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function GDe(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let a=!1;for(const o of i)a=a||lT(o.removedNodes,r),a=a&&!lT(o.addedNodes,r);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const Iv=new Map;let k$=0;function OQ(){const t=window.devicePixelRatio;t!==k$&&(k$=t,Iv.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function KDe(t,e){Iv.size||window.addEventListener("resize",OQ),Iv.set(t,e)}function YDe(t){Iv.delete(t),Iv.size||window.removeEventListener("resize",OQ)}function qDe(t,e,n){const r=t.canvas,s=r&&qM(r);if(!s)return;const i=dQ((o,l)=>{const u=s.clientWidth;n(o,l),u<s.clientWidth&&n()},window),a=new ResizeObserver(o=>{const l=o[0],u=l.contentRect.width,d=l.contentRect.height;u===0&&d===0||i(u,d)});return a.observe(s),KDe(t,i),a}function Lk(t,e,n){n&&n.disconnect(),e==="resize"&&YDe(t)}function ZDe(t,e,n){const r=t.canvas,s=dQ(i=>{t.ctx!==null&&n(HDe(i,t))},t);return zDe(r,e,s),s}class XDe extends _Q{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(UDe(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[kw])return!1;const r=n[kw].initial;["height","width"].forEach(i=>{const a=r[i];gn(a)?n.removeAttribute(i):n.setAttribute(i,a)});const s=r.style||{};return Object.keys(s).forEach(i=>{n.style[i]=s[i]}),n.width=n.width,delete n[kw],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),a={attach:WDe,detach:GDe,resize:qDe}[n]||ZDe;s[n]=a(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),s=r[n];if(!s)return;({attach:Lk,detach:Lk,resize:Lk}[n]||VDe)(e,n,s),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,s){return V_e(e,n,r,s)}isAttached(e){const n=e&&qM(e);return!!(n&&n.isConnected)}}function JDe(t){return!YM()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?FDe:XDe}var jx;let zd=(jx=class{constructor(){Ge(this,"x");Ge(this,"y");Ge(this,"active",!1);Ge(this,"options");Ge(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return wv(this.x)&&wv(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const s={};return e.forEach(i=>{s[i]=r[i]&&r[i].active()?r[i]._to:this[i]}),s}},Ge(jx,"defaults",{}),Ge(jx,"defaultRoutes"),jx);function QDe(t,e){const n=t.options.ticks,r=eOe(t),s=Math.min(n.maxTicksLimit||r,r),i=n.major.enabled?nOe(e):[],a=i.length,o=i[0],l=i[a-1],u=[];if(a>s)return rOe(e,u,i,a/s),u;const d=tOe(i,e,s);if(a>0){let p,f;const h=a>1?Math.round((l-o)/(a-1)):null;for(Ix(e,u,d,gn(h)?0:o-h,o),p=0,f=a-1;p<f;p++)Ix(e,u,d,i[p],i[p+1]);return Ix(e,u,d,l,gn(h)?e.length:l+h),u}return Ix(e,u,d),u}function eOe(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(r,s))}function tOe(t,e,n){const r=sOe(t),s=e.length/n;if(!r)return Math.max(s,1);const i=z4e(r);for(let a=0,o=i.length-1;a<o;a++){const l=i[a];if(l>s)return l}return Math.max(s,1)}function nOe(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function rOe(t,e,n,r){let s=0,i=n[0],a;for(r=Math.ceil(r),a=0;a<t.length;a++)a===i&&(e.push(t[a]),s++,i=n[s*r])}function Ix(t,e,n,r,s){const i=Ht(r,0),a=Math.min(Ht(s,t.length),t.length);let o=0,l,u,d;for(n=Math.ceil(n),s&&(l=s-r,n=l/Math.floor(l/n)),d=i;d<0;)o++,d=Math.round(i+o*n);for(u=Math.max(i,0);u<a;u++)u===d&&(e.push(t[u]),o++,d=Math.round(i+o*n))}function sOe(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const iOe=t=>t==="left"?"right":t==="right"?"left":t,C$=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,N$=(t,e)=>Math.min(e||t,t);function E$(t,e){const n=[],r=t.length/e,s=t.length;let i=0;for(;i<s;i+=r)n.push(t[Math.floor(i)]);return n}function aOe(t,e,n){const r=t.ticks.length,s=Math.min(e,r-1),i=t._startPixel,a=t._endPixel,o=1e-6;let l=t.getPixelForTick(s),u;if(!(n&&(r===1?u=Math.max(l-i,a-l):e===0?u=(t.getPixelForTick(1)-l)/2:u=(l-t.getPixelForTick(s-1))/2,l+=s<e?u:-u,l<i-o||l>a+o)))return l}function oOe(t,e){xn(t,n=>{const r=n.gc,s=r.length/2;let i;if(s>e){for(i=0;i<s;++i)delete n.data[r[i]];r.splice(0,s)}})}function Xy(t){return t.drawTicks?t.tickLength:0}function S$(t,e){if(!t.display)return 0;const n=_s(t.font,e),r=Ba(t.padding);return(_r(t.text)?t.text.length:1)*n.lineHeight+r.height}function lOe(t,e){return Pf(t,{scale:e,type:"scale"})}function cOe(t,e,n){return Pf(t,{tick:n,index:e,type:"tick"})}function uOe(t,e,n){let r=VM(t);return(n&&e!=="right"||!n&&e==="right")&&(r=iOe(r)),r}function dOe(t,e,n,r){const{top:s,left:i,bottom:a,right:o,chart:l}=t,{chartArea:u,scales:d}=l;let p=0,f,h,y;const m=a-s,b=o-i;if(t.isHorizontal()){if(h=As(r,i,o),tn(n)){const v=Object.keys(n)[0],g=n[v];y=d[v].getPixelForValue(g)+m-e}else n==="center"?y=(u.bottom+u.top)/2+m-e:y=C$(t,n,e);f=o-i}else{if(tn(n)){const v=Object.keys(n)[0],g=n[v];h=d[v].getPixelForValue(g)-b+e}else n==="center"?h=(u.left+u.right)/2-b+e:h=C$(t,n,e);y=As(r,a,s),p=n==="left"?-wo:wo}return{titleX:h,titleY:y,maxWidth:f,rotation:p}}class xy extends zd{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:s}=this;return e=Yo(e,Number.POSITIVE_INFINITY),n=Yo(n,Number.NEGATIVE_INFINITY),r=Yo(r,Number.POSITIVE_INFINITY),s=Yo(s,Number.NEGATIVE_INFINITY),{min:Yo(e,r),max:Yo(n,s),minDefined:$s(e),maxDefined:$s(n)}}getMinMax(e){let{min:n,max:r,minDefined:s,maxDefined:i}=this.getUserBounds(),a;if(s&&i)return{min:n,max:r};const o=this.getMatchingVisibleMetas();for(let l=0,u=o.length;l<u;++l)a=o[l].controller.getMinMax(this,e),s||(n=Math.min(n,a.min)),i||(r=Math.max(r,a.max));return n=i&&n>r?r:n,r=s&&n>r?n:r,{min:Yo(n,Yo(r,n)),max:Yo(r,Yo(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Fn(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:s,grace:i,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=w_e(this,i,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=o<this.ticks.length;this._convertTicksToLabels(l?E$(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=QDe(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Fn(this.options.afterUpdate,[this])}beforeSetDimensions(){Fn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Fn(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Fn(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Fn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,s,i;for(r=0,s=e.length;r<s;r++)i=e[r],i.label=Fn(n.callback,[i.value,r,e],this)}afterTickToLabelConversion(){Fn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Fn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=N$(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,i=n.maxRotation;let a=s,o,l,u;if(!this._isVisible()||!n.display||s>=i||r<=1||!this.isHorizontal()){this.labelRotation=s;return}const d=this._getLabelSizes(),p=d.widest.width,f=d.highest.height,h=Ji(this.chart.width-p,0,this.maxWidth);o=e.offset?this.maxWidth/r:h/(r-1),p+6>o&&(o=h/(r-(e.offset?.5:1)),l=this.maxHeight-Xy(e.grid)-n.padding-S$(e.title,this.chart.options.font),u=Math.sqrt(p*p+f*f),a=G4e(Math.min(Math.asin(Ji((d.highest.height+6)/o,-1,1)),Math.asin(Ji(l/u,-1,1))-Math.asin(Ji(f/u,-1,1)))),a=Math.max(s,Math.min(i,a))),this.labelRotation=a}afterCalculateLabelRotation(){Fn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Fn(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:s,grid:i}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const l=S$(s,n.options.font);if(o?(e.width=this.maxWidth,e.height=Xy(i)+l):(e.height=this.maxHeight,e.width=Xy(i)+l),r.display&&this.ticks.length){const{first:u,last:d,widest:p,highest:f}=this._getLabelSizes(),h=r.padding*2,y=xp(this.labelRotation),m=Math.cos(y),b=Math.sin(y);if(o){const v=r.mirror?0:b*p.width+m*f.height;e.height=Math.min(this.maxHeight,e.height+v+h)}else{const v=r.mirror?0:m*p.width+b*f.height;e.width=Math.min(this.maxWidth,e.width+v+h)}this._calculatePadding(u,d,b,m)}}this._handleMargins(),o?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,s){const{ticks:{align:i,padding:a},position:o}=this.options,l=this.labelRotation!==0,u=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,p=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,h=0;l?u?(f=s*e.width,h=r*n.height):(f=r*e.height,h=s*n.width):i==="start"?h=n.width:i==="end"?f=e.width:i!=="inner"&&(f=e.width/2,h=n.width/2),this.paddingLeft=Math.max((f-d+a)*this.width/(this.width-d),0),this.paddingRight=Math.max((h-p+a)*this.width/(this.width-p),0)}else{let d=n.height/2,p=e.height/2;i==="start"?(d=0,p=e.height):i==="end"&&(d=n.height,p=0),this.paddingTop=d+a,this.paddingBottom=p+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Fn(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)gn(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=E$(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:s,_longestTextCache:i}=this,a=[],o=[],l=Math.floor(n/N$(n,r));let u=0,d=0,p,f,h,y,m,b,v,g,x,T,I;for(p=0;p<n;p+=l){if(y=e[p].label,m=this._resolveTickFontOptions(p),s.font=b=m.string,v=i[b]=i[b]||{data:{},gc:[]},g=m.lineHeight,x=T=0,!gn(y)&&!_r(y))x=n$(s,v.data,v.gc,x,y),T=g;else if(_r(y))for(f=0,h=y.length;f<h;++f)I=y[f],!gn(I)&&!_r(I)&&(x=n$(s,v.data,v.gc,x,I),T+=g);a.push(x),o.push(T),u=Math.max(x,u),d=Math.max(T,d)}oOe(i,n);const C=a.indexOf(u),N=o.indexOf(d),P=L=>({width:a[L]||0,height:o[L]||0});return{first:P(0),last:P(n-1),widest:P(C),highest:P(N),widths:a,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return q4e(this._alignToPixels?Kd(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=cOe(this.getContext(),e,r))}return this.$context||(this.$context=lOe(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=xp(this.labelRotation),r=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),i=this._getLabelSizes(),a=e.autoSkipPadding||0,o=i?i.widest.width+a:0,l=i?i.highest.height+a:0;return this.isHorizontal()?l*r>o*s?o/r:l/s:l*s<o*r?l/r:o/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,s=this.options,{grid:i,position:a,border:o}=s,l=i.offset,u=this.isHorizontal(),p=this.ticks.length+(l?1:0),f=Xy(i),h=[],y=o.setContext(this.getContext()),m=y.display?y.width:0,b=m/2,v=function(S){return Kd(r,S,m)};let g,x,T,I,C,N,P,L,U,$,B,_;if(a==="top")g=v(this.bottom),N=this.bottom-f,L=g-b,$=v(e.top)+b,_=e.bottom;else if(a==="bottom")g=v(this.top),$=e.top,_=v(e.bottom)-b,N=g+b,L=this.top+f;else if(a==="left")g=v(this.right),C=this.right-f,P=g-b,U=v(e.left)+b,B=e.right;else if(a==="right")g=v(this.left),U=e.left,B=v(e.right)-b,C=g+b,P=this.left+f;else if(n==="x"){if(a==="center")g=v((e.top+e.bottom)/2+.5);else if(tn(a)){const S=Object.keys(a)[0],M=a[S];g=v(this.chart.scales[S].getPixelForValue(M))}$=e.top,_=e.bottom,N=g+b,L=N+f}else if(n==="y"){if(a==="center")g=v((e.left+e.right)/2);else if(tn(a)){const S=Object.keys(a)[0],M=a[S];g=v(this.chart.scales[S].getPixelForValue(M))}C=g-b,P=C-f,U=e.left,B=e.right}const w=Ht(s.ticks.maxTicksLimit,p),k=Math.max(1,Math.ceil(p/w));for(x=0;x<p;x+=k){const S=this.getContext(x),M=i.setContext(S),R=o.setContext(S),j=M.lineWidth,V=M.color,O=R.dash||[],E=R.dashOffset,z=M.tickWidth,Z=M.tickColor,F=M.tickBorderDash||[],H=M.tickBorderDashOffset;T=aOe(this,x,l),T!==void 0&&(I=Kd(r,T,j),u?C=P=U=B=I:N=L=$=_=I,h.push({tx1:C,ty1:N,tx2:P,ty2:L,x1:U,y1:$,x2:B,y2:_,width:j,color:V,borderDash:O,borderDashOffset:E,tickWidth:z,tickColor:Z,tickBorderDash:F,tickBorderDashOffset:H}))}return this._ticksLength=p,this._borderValue=g,h}_computeLabelItems(e){const n=this.axis,r=this.options,{position:s,ticks:i}=r,a=this.isHorizontal(),o=this.ticks,{align:l,crossAlign:u,padding:d,mirror:p}=i,f=Xy(r.grid),h=f+d,y=p?-d:h,m=-xp(this.labelRotation),b=[];let v,g,x,T,I,C,N,P,L,U,$,B,_="middle";if(s==="top")C=this.bottom-y,N=this._getXAxisLabelAlignment();else if(s==="bottom")C=this.top+y,N=this._getXAxisLabelAlignment();else if(s==="left"){const k=this._getYAxisLabelAlignment(f);N=k.textAlign,I=k.x}else if(s==="right"){const k=this._getYAxisLabelAlignment(f);N=k.textAlign,I=k.x}else if(n==="x"){if(s==="center")C=(e.top+e.bottom)/2+h;else if(tn(s)){const k=Object.keys(s)[0],S=s[k];C=this.chart.scales[k].getPixelForValue(S)+h}N=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")I=(e.left+e.right)/2-h;else if(tn(s)){const k=Object.keys(s)[0],S=s[k];I=this.chart.scales[k].getPixelForValue(S)}N=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?_="top":l==="end"&&(_="bottom"));const w=this._getLabelSizes();for(v=0,g=o.length;v<g;++v){x=o[v],T=x.label;const k=i.setContext(this.getContext(v));P=this.getPixelForTick(v)+i.labelOffset,L=this._resolveTickFontOptions(v),U=L.lineHeight,$=_r(T)?T.length:1;const S=$/2,M=k.color,R=k.textStrokeColor,j=k.textStrokeWidth;let V=N;a?(I=P,N==="inner"&&(v===g-1?V=this.options.reverse?"left":"right":v===0?V=this.options.reverse?"right":"left":V="center"),s==="top"?u==="near"||m!==0?B=-$*U+U/2:u==="center"?B=-w.highest.height/2-S*U+U:B=-w.highest.height+U/2:u==="near"||m!==0?B=U/2:u==="center"?B=w.highest.height/2-S*U:B=w.highest.height-$*U,p&&(B*=-1),m!==0&&!k.showLabelBackdrop&&(I+=U/2*Math.sin(m))):(C=P,B=(1-$)*U/2);let O;if(k.showLabelBackdrop){const E=Ba(k.backdropPadding),z=w.heights[v],Z=w.widths[v];let F=B-E.top,H=0-E.left;switch(_){case"middle":F-=z/2;break;case"bottom":F-=z;break}switch(N){case"center":H-=Z/2;break;case"right":H-=Z;break;case"inner":v===g-1?H-=Z:v>0&&(H-=Z/2);break}O={left:H,top:F,width:Z+E.width,height:z+E.height,color:k.backdropColor}}b.push({label:T,font:L,textOffset:B,options:{rotation:m,color:M,strokeColor:R,strokeWidth:j,textAlign:V,textBaseline:_,translation:[I,C],backdrop:O}})}return b}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-xp(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:s,padding:i}}=this.options,a=this._getLabelSizes(),o=e+i,l=a.widest.width;let u,d;return n==="left"?s?(d=this.right+i,r==="near"?u="left":r==="center"?(u="center",d+=l/2):(u="right",d+=l)):(d=this.right-o,r==="near"?u="right":r==="center"?(u="center",d-=l/2):(u="left",d=this.left)):n==="right"?s?(d=this.left+i,r==="near"?u="right":r==="center"?(u="center",d-=l/2):(u="left",d-=l)):(d=this.left+o,r==="near"?u="left":r==="center"?(u="center",d+=l/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:s,width:i,height:a}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,s,i,a),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(i=>i.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,a;const o=(l,u,d)=>{!d.width||!d.color||(r.save(),r.lineWidth=d.width,r.strokeStyle=d.color,r.setLineDash(d.borderDash||[]),r.lineDashOffset=d.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(u.x,u.y),r.stroke(),r.restore())};if(n.display)for(i=0,a=s.length;i<a;++i){const l=s[i];n.drawOnChartArea&&o({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&o({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:s}}=this,i=r.setContext(this.getContext()),a=r.display?i.width:0;if(!a)return;const o=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let u,d,p,f;this.isHorizontal()?(u=Kd(e,this.left,a)-a/2,d=Kd(e,this.right,o)+o/2,p=f=l):(p=Kd(e,this.top,a)-a/2,f=Kd(e,this.bottom,o)+o/2,u=d=l),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(u,p),n.lineTo(d,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,s=this._computeLabelArea();s&&oA(r,s);const i=this.getLabelItems(e);for(const a of i){const o=a.options,l=a.font,u=a.label,d=a.textOffset;Av(r,u,0,d,l,o)}s&&lA(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:s}}=this;if(!r.display)return;const i=_s(r.font),a=Ba(r.padding),o=r.align;let l=i.lineHeight/2;n==="bottom"||n==="center"||tn(n)?(l+=a.bottom,_r(r.text)&&(l+=i.lineHeight*(r.text.length-1))):l+=a.top;const{titleX:u,titleY:d,maxWidth:p,rotation:f}=dOe(this,l,n,o);Av(e,r.text,0,0,i,{color:r.color,maxWidth:p,rotation:f,textAlign:uOe(o,n,s),textBaseline:"middle",translation:[u,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=Ht(e.grid&&e.grid.z,-1),s=Ht(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==xy.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",s=[];let i,a;for(i=0,a=n.length;i<a;++i){const o=n[i];o[r]===this.id&&(!e||o.type===e)&&s.push(o)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return _s(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class kx{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;hOe(n)&&(r=this.register(n));const s=this.items,i=e.id,a=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in s||(s[i]=e,pOe(e,a,r),this.override&&wr.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,s=this.scope;r in n&&delete n[r],s&&r in wr[s]&&(delete wr[s][r],this.override&&delete vf[r])}}function pOe(t,e,n){const r=bv(Object.create(null),[n?wr.get(n):{},wr.get(e),t.defaults]);wr.set(e,r),t.defaultRoutes&&fOe(e,t.defaultRoutes),t.descriptors&&wr.describe(e,t.descriptors)}function fOe(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),s=r.pop(),i=[t].concat(r).join("."),a=e[n].split("."),o=a.pop(),l=a.join(".");wr.route(i,s,l,o)})}function hOe(t){return"id"in t&&"defaults"in t}class mOe{constructor(){this.controllers=new kx(Kh,"datasets",!0),this.elements=new kx(zd,"elements"),this.plugins=new kx(Object,"plugins"),this.scales=new kx(xy,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(s=>{const i=r||this._getRegistryForType(s);r||i.isForType(s)||i===this.plugins&&s.id?this._exec(e,i,s):xn(s,a=>{const o=r||this._getRegistryForType(a);this._exec(e,o,a)})})}_exec(e,n,r){const s=UM(e);Fn(r["before"+s],[],r),n[e](r),Fn(r["after"+s],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return s}}var el=new mOe;class yOe{constructor(){this._init=[]}notify(e,n,r,s){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=s?this._descriptors(e).filter(s):this._descriptors(e),a=this._notify(i,e,n,r);return n==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,n,r,s){s=s||{};for(const i of e){const a=i.plugin,o=a[r],l=[n,s,i.options];if(Fn(o,l,a)===!1&&s.cancelable)return!1}return!0}invalidate(){gn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,s=Ht(r.options&&r.options.plugins,{}),i=gOe(r);return s===!1&&!n?[]:bOe(e,i,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,s=(i,a)=>i.filter(o=>!a.some(l=>o.plugin.id===l.plugin.id));this._notify(s(n,r),e,"stop"),this._notify(s(r,n),e,"start")}}function gOe(t){const e={},n=[],r=Object.keys(el.plugins.items);for(let i=0;i<r.length;i++)n.push(el.getPlugin(r[i]));const s=t.plugins||[];for(let i=0;i<s.length;i++){const a=s[i];n.indexOf(a)===-1&&(n.push(a),e[a.id]=!0)}return{plugins:n,localIds:e}}function vOe(t,e){return!e&&t===!1?null:t===!0?{}:t}function bOe(t,{plugins:e,localIds:n},r,s){const i=[],a=t.getContext();for(const o of e){const l=o.id,u=vOe(r[l],s);u!==null&&i.push({plugin:o,options:xOe(t.config,{plugin:o,local:n[l]},u,a)})}return i}function xOe(t,{plugin:e,local:n},r,s){const i=t.pluginScopeKeys(e),a=t.getOptionScopes(r,i);return n&&e.defaults&&a.push(e.defaults),t.createResolver(a,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function _E(t,e){const n=wr.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function wOe(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function TOe(t,e){return t===e?"_index_":"_value_"}function R$(t){if(t==="x"||t==="y"||t==="r")return t}function AOe(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function DE(t,...e){if(R$(t))return t;for(const n of e){const r=n.axis||AOe(n.position)||t.length>1&&R$(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function P$(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function IOe(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return P$(t,"x",n[0])||P$(t,"y",n[0])}return{}}function kOe(t,e){const n=vf[t.type]||{scales:{}},r=e.scales||{},s=_E(t.type,e),i=Object.create(null);return Object.keys(r).forEach(a=>{const o=r[a];if(!tn(o))return console.error(`Invalid scale configuration for scale: ${a}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const l=DE(a,o,IOe(a,t),wr.scales[o.type]),u=TOe(l,s),d=n.scales||{};i[a]=zg(Object.create(null),[{axis:l},o,d[l],d[u]])}),t.data.datasets.forEach(a=>{const o=a.type||t.type,l=a.indexAxis||_E(o,e),d=(vf[o]||{}).scales||{};Object.keys(d).forEach(p=>{const f=wOe(p,l),h=a[f+"AxisID"]||f;i[h]=i[h]||Object.create(null),zg(i[h],[{axis:f},r[h],d[p]])})}),Object.keys(i).forEach(a=>{const o=i[a];zg(o,[wr.scales[o.type],wr.scale])}),i}function LQ(t){const e=t.options||(t.options={});e.plugins=Ht(e.plugins,{}),e.scales=kOe(t,e)}function $Q(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function COe(t){return t=t||{},t.data=$Q(t.data),LQ(t),t}const M$=new Map,FQ=new Set;function Cx(t,e){let n=M$.get(t);return n||(n=e(),M$.set(t,n),FQ.add(n)),n}const Jy=(t,e,n)=>{const r=Dm(e,n);r!==void 0&&t.add(r)};class NOe{constructor(e){this._config=COe(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=$Q(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),LQ(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Cx(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Cx(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Cx(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return Cx(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let s=r.get(e);return(!s||n)&&(s=new Map,r.set(e,s)),s}getOptionScopes(e,n,r){const{options:s,type:i}=this,a=this._cachedScopes(e,r),o=a.get(n);if(o)return o;const l=new Set;n.forEach(d=>{e&&(l.add(e),d.forEach(p=>Jy(l,e,p))),d.forEach(p=>Jy(l,s,p)),d.forEach(p=>Jy(l,vf[i]||{},p)),d.forEach(p=>Jy(l,wr,p)),d.forEach(p=>Jy(l,ME,p))});const u=Array.from(l);return u.length===0&&u.push(Object.create(null)),FQ.has(n)&&a.set(n,u),u}chartOptionScopes(){const{options:e,type:n}=this;return[e,vf[n]||{},wr.datasets[n]||{},{type:n},wr,ME]}resolveNamedOptions(e,n,r,s=[""]){const i={$shared:!0},{resolver:a,subPrefixes:o}=j$(this._resolverCache,e,s);let l=a;if(SOe(a,n)){i.$shared=!1,r=Cd(r)?r():r;const u=this.createResolver(e,r,o);l=Om(a,r,u)}for(const u of n)i[u]=l[u];return i}createResolver(e,n,r=[""],s){const{resolver:i}=j$(this._resolverCache,e,r);return tn(n)?Om(i,n,void 0,s):i}}function j$(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const s=n.join();let i=r.get(s);return i||(i={resolver:WM(e,n),subPrefixes:n.filter(o=>!o.toLowerCase().includes("hover"))},r.set(s,i)),i}const EOe=t=>tn(t)&&Object.getOwnPropertyNames(t).some(e=>Cd(t[e]));function SOe(t,e){const{isScriptable:n,isIndexable:r}=vQ(t);for(const s of e){const i=n(s),a=r(s),o=(a||i)&&t[s];if(i&&(Cd(o)||EOe(o))||a&&_r(o))return!0}return!1}var ROe="4.5.0";const POe=["top","bottom","left","right","chartArea"];function _$(t,e){return t==="top"||t==="bottom"||POe.indexOf(t)===-1&&e==="x"}function D$(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function O$(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Fn(n&&n.onComplete,[t],e)}function MOe(t){const e=t.chart,n=e.options.animation;Fn(n&&n.onProgress,[t],e)}function BQ(t){return YM()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Cw={},L$=t=>{const e=BQ(t);return Object.values(Cw).filter(n=>n.canvas===e).pop()};function jOe(t,e,n){const r=Object.keys(t);for(const s of r){const i=+s;if(i>=e){const a=t[s];delete t[s],(n>0||i>e)&&(t[i+n]=a)}}}function _Oe(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}var du;let uA=(du=class{static register(...e){el.add(...e),$$()}static unregister(...e){el.remove(...e),$$()}constructor(e,n){const r=this.config=new NOe(n),s=BQ(e),i=L$(s);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||JDe(s)),this.platform.updateConfig(r);const o=this.platform.acquireContext(s,a.aspectRatio),l=o&&o.canvas,u=l&&l.height,d=l&&l.width;if(this.id=j4e(),this.ctx=o,this.canvas=l,this.width=d,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new yOe,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Q4e(p=>this.update(p),a.resizeDelay||0),this._dataChanges=[],Cw[this.id]=this,!o||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Xl.listen(this,"complete",O$),Xl.listen(this,"progress",MOe),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:s,_aspectRatio:i}=this;return gn(e)?n&&i?i:s?r/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return el}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():a$(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return r$(this.canvas,this.ctx),this}stop(){return Xl.stop(this),this}resize(e,n){Xl.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,s=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,e,n,i),o=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,a$(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),Fn(r.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};xn(n,(r,s)=>{r.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,s=Object.keys(r).reduce((a,o)=>(a[o]=!1,a),{});let i=[];n&&(i=i.concat(Object.keys(n).map(a=>{const o=n[a],l=DE(a,o),u=l==="r",d=l==="x";return{options:o,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),xn(i,a=>{const o=a.options,l=o.id,u=DE(l,o),d=Ht(o.type,a.dtype);(o.position===void 0||_$(o.position,u)!==_$(a.dposition))&&(o.position=a.dposition),s[l]=!0;let p=null;if(l in r&&r[l].type===d)p=r[l];else{const f=el.getScale(d);p=new f({id:l,type:d,ctx:this.ctx,chart:this}),r[p.id]=p}p.init(o,e)}),xn(s,(a,o)=>{a||delete r[o]}),xn(r,a=>{Pa.configure(this,a,a.options),Pa.addBox(this,a)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((s,i)=>s.index-i.index),r>n){for(let s=n;s<r;++s)this._destroyDatasetMeta(s);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(D$("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,s)=>{n.filter(i=>i===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=n.length;r<s;r++){const i=n[r];let a=this.getDatasetMeta(r);const o=i.type||this.config.type;if(a.type&&a.type!==o&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=o,a.indexAxis=i.indexAxis||_E(o,this.options),a.order=i.order||0,a.index=r,a.label=""+i.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{const l=el.getController(o),{datasetElementType:u,dataElementType:d}=wr.datasets[o];Object.assign(l,{dataElementType:el.getElement(d),datasetElementType:u&&el.getElement(u)}),a.controller=new l(this,r),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){xn(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:p}=this.getDatasetMeta(u),f=!s&&i.indexOf(p)===-1;p.buildOrUpdateElements(f),a=Math.max(+p.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),s||xn(i,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(D$("z","_idx"));const{_active:o,_lastEvent:l}=this;l?this._eventHandler(l,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){xn(this.scales,e=>{Pa.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!K8(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:i}of n){const a=r==="_removeElements"?-i:i;jOe(e,s,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=i=>new Set(e.filter(a=>a[0]===i).map((a,o)=>o+","+a.splice(1).join(","))),s=r(0);for(let i=1;i<n;i++)if(!K8(s,r(i)))return;return Array.from(s).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Pa.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],xn(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,i)=>{s._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Cd(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),s={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Xl.has(this)?this.attached&&!Xl.running(this)&&Xl.start(this):(this.draw(),O$({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let s,i;for(s=0,i=n.length;s<i;++s){const a=n[s];(!e||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},s=EQ(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(s&&oA(n,s),e.controller.draw(),s&&lA(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return Tv(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,s){const i=PDe.modes[n];return typeof i=="function"?i(this,e,r,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let s=r.filter(i=>i&&i._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=Pf(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const s=r?"show":"hide",i=this.getDatasetMeta(e),a=i.controller._resolveAnimations(void 0,s);xv(n)?(i.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),a.update(i,{visible:r}),this.update(o=>o.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Xl.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),r$(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Cw[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(i,a)=>{n.addEventListener(this,i,a),e[i]=a},s=(i,a,o)=>{i.offsetX=a,i.offsetY=o,this._eventHandler(i)};xn(this.options.events,i=>r(i,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,u)=>{n.addEventListener(this,l,u),e[l]=u},s=(l,u)=>{e[l]&&(n.removeEventListener(this,l,u),delete e[l])},i=(l,u)=>{this.canvas&&this.resize(l,u)};let a;const o=()=>{s("attach",o),this.attached=!0,this.resize(),r("resize",i),r("detach",a)};a=()=>{this.attached=!1,s("resize",i),this._stop(),this._resize(0,0),r("attach",o)},n.isAttached(this.canvas)?o():a()}unbindEvents(){xn(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},xn(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const s=r?"set":"remove";let i,a,o,l;for(n==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+s+"DatasetHoverStyle"]()),o=0,l=e.length;o<l;++o){a=e[o];const u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:i,index:a})=>{const o=this.getDatasetMeta(i);if(!o)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:o.data[a],index:a}});!rT(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const s=this.options.hover,i=(l,u)=>l.filter(d=>!u.some(p=>d.datasetIndex===p.datasetIndex&&d.index===p.index)),a=i(n,e),o=r?e:i(e,n);a.length&&this.updateHoverStyle(a,s.mode,!1),o.length&&s.mode&&this.updateHoverStyle(o,s.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;const i=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(i||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:s=[],options:i}=this,a=n,o=this._getActiveElements(e,s,r,a),l=F4e(e),u=_Oe(e,this._lastEvent,r,l);r&&(this._lastEvent=null,Fn(i.onHover,[e,o,this],this),l&&Fn(i.onClick,[e,o,this],this));const d=!rT(o,s);return(d||n)&&(this._active=o,this._updateHoverStyles(o,s,n)),this._lastEvent=u,d}_getActiveElements(e,n,r,s){if(e.type==="mouseout")return[];if(!r)return n;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,s)}},Ge(du,"defaults",wr),Ge(du,"instances",Cw),Ge(du,"overrides",vf),Ge(du,"registry",el),Ge(du,"version",ROe),Ge(du,"getChart",L$),du);function $$(){return xn(uA.instances,t=>t._plugins.invalidate())}function UQ(t,e,n=e){t.lineCap=Ht(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Ht(n.borderDash,e.borderDash)),t.lineDashOffset=Ht(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Ht(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Ht(n.borderWidth,e.borderWidth),t.strokeStyle=Ht(n.borderColor,e.borderColor)}function DOe(t,e,n){t.lineTo(n.x,n.y)}function OOe(t){return t.stepped?p_e:t.tension||t.cubicInterpolationMode==="monotone"?f_e:DOe}function zQ(t,e,n={}){const r=t.length,{start:s=0,end:i=r-1}=n,{start:a,end:o}=e,l=Math.max(s,a),u=Math.min(i,o),d=s<a&&i<a||s>o&&i>o;return{count:r,start:l,loop:e.loop,ilen:u<l&&!d?r+u-l:u-l}}function LOe(t,e,n,r){const{points:s,options:i}=e,{count:a,start:o,loop:l,ilen:u}=zQ(s,n,r),d=OOe(i);let{move:p=!0,reverse:f}=r||{},h,y,m;for(h=0;h<=u;++h)y=s[(o+(f?u-h:h))%a],!y.skip&&(p?(t.moveTo(y.x,y.y),p=!1):d(t,m,y,f,i.stepped),m=y);return l&&(y=s[(o+(f?u:0))%a],d(t,m,y,f,i.stepped)),!!l}function $Oe(t,e,n,r){const s=e.points,{count:i,start:a,ilen:o}=zQ(s,n,r),{move:l=!0,reverse:u}=r||{};let d=0,p=0,f,h,y,m,b,v;const g=T=>(a+(u?o-T:T))%i,x=()=>{m!==b&&(t.lineTo(d,b),t.lineTo(d,m),t.lineTo(d,v))};for(l&&(h=s[g(0)],t.moveTo(h.x,h.y)),f=0;f<=o;++f){if(h=s[g(f)],h.skip)continue;const T=h.x,I=h.y,C=T|0;C===y?(I<m?m=I:I>b&&(b=I),d=(p*d+T)/++p):(x(),t.lineTo(T,I),y=C,p=0,m=b=I),v=I}x()}function OE(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?$Oe:LOe}function FOe(t){return t.stepped?W_e:t.tension||t.cubicInterpolationMode==="monotone"?G_e:np}function BOe(t,e,n,r){let s=e._path;s||(s=e._path=new Path2D,e.path(s,n,r)&&s.closePath()),UQ(t,e.options),t.stroke(s)}function UOe(t,e,n,r){const{segments:s,options:i}=e,a=OE(e);for(const o of s)UQ(t,i,o.style),t.beginPath(),a(t,e,o,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const zOe=typeof Path2D=="function";function VOe(t,e,n,r){zOe&&!e.options.segment?BOe(t,e,n,r):UOe(t,e,n,r)}class Hu extends zd{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const s=r.spanGaps?this._loop:this._fullLoop;L_e(this._points,r,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=J_e(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,s=e[n],i=this.points,a=NQ(this,{property:n,start:s,end:s});if(!a.length)return;const o=[],l=FOe(r);let u,d;for(u=0,d=a.length;u<d;++u){const{start:p,end:f}=a[u],h=i[p],y=i[f];if(h===y){o.push(h);continue}const m=Math.abs((s-h[n])/(y[n]-h[n])),b=l(h,y,m,r.stepped);b[n]=e[n],o.push(b)}return o.length===1?o[0]:o}pathSegment(e,n,r){return OE(this)(e,this,n,r)}path(e,n,r){const s=this.segments,i=OE(this);let a=this._loop;n=n||0,r=r||this.points.length-n;for(const o of s)a&=i(e,this,o,{start:n,end:n+r-1});return!!a}draw(e,n,r,s){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),VOe(e,this,r,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Ge(Hu,"id","line"),Ge(Hu,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Ge(Hu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Ge(Hu,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function F$(t,e,n,r){const s=t.options,{[n]:i}=t.getProps([n],r);return Math.abs(e-i)<s.radius+s.hitRadius}class Nw extends zd{constructor(n){super();Ge(this,"parsed");Ge(this,"skip");Ge(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,s){const i=this.options,{x:a,y:o}=this.getProps(["x","y"],s);return Math.pow(n-a,2)+Math.pow(r-o,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(n,r){return F$(this,n,"x",r)}inYRange(n,r){return F$(this,n,"y",r)}getCenterPoint(n){const{x:r,y:s}=this.getProps(["x","y"],n);return{x:r,y:s}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const s=r&&n.borderWidth||0;return(r+s)*2}draw(n,r){const s=this.options;this.skip||s.radius<.1||!Tv(this,r,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,jE(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}Ge(Nw,"id","point"),Ge(Nw,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Ge(Nw,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function VQ(t,e){const{x:n,y:r,base:s,width:i,height:a}=t.getProps(["x","y","base","width","height"],e);let o,l,u,d,p;return t.horizontal?(p=a/2,o=Math.min(n,s),l=Math.max(n,s),u=r-p,d=r+p):(p=i/2,o=n-p,l=n+p,u=Math.min(r,s),d=Math.max(r,s)),{left:o,top:u,right:l,bottom:d}}function Wu(t,e,n,r){return t?0:Ji(e,n,r)}function HOe(t,e,n){const r=t.options.borderWidth,s=t.borderSkipped,i=gQ(r);return{t:Wu(s.top,i.top,0,n),r:Wu(s.right,i.right,0,e),b:Wu(s.bottom,i.bottom,0,n),l:Wu(s.left,i.left,0,e)}}function WOe(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,i=Wh(s),a=Math.min(e,n),o=t.borderSkipped,l=r||tn(s);return{topLeft:Wu(!l||o.top||o.left,i.topLeft,0,a),topRight:Wu(!l||o.top||o.right,i.topRight,0,a),bottomLeft:Wu(!l||o.bottom||o.left,i.bottomLeft,0,a),bottomRight:Wu(!l||o.bottom||o.right,i.bottomRight,0,a)}}function GOe(t){const e=VQ(t),n=e.right-e.left,r=e.bottom-e.top,s=HOe(t,n/2,r/2),i=WOe(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:i},inner:{x:e.left+s.l,y:e.top+s.t,w:n-s.l-s.r,h:r-s.t-s.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,i.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(s.b,s.r))}}}}function $k(t,e,n,r){const s=e===null,i=n===null,o=t&&!(s&&i)&&VQ(t,r);return o&&(s||Vu(e,o.left,o.right))&&(i||Vu(n,o.top,o.bottom))}function KOe(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function YOe(t,e){t.rect(e.x,e.y,e.w,e.h)}function Fk(t,e,n={}){const r=t.x!==n.x?-e:0,s=t.y!==n.y?-e:0,i=(t.x+t.w!==n.x+n.w?e:0)-r,a=(t.y+t.h!==n.y+n.h?e:0)-s;return{x:t.x+r,y:t.y+s,w:t.w+i,h:t.h+a,radius:t.radius}}class Ew extends zd{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:s}}=this,{inner:i,outer:a}=GOe(this),o=KOe(a.radius)?aT:YOe;e.save(),(a.w!==i.w||a.h!==i.h)&&(e.beginPath(),o(e,Fk(a,n,i)),e.clip(),o(e,Fk(i,-n,a)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),o(e,Fk(i,n)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,n,r){return $k(this,e,n,r)}inXRange(e,n){return $k(this,e,null,n)}inYRange(e,n){return $k(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:s,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(n+s)/2:n,y:i?r:(r+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}Ge(Ew,"id","bar"),Ge(Ew,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Ge(Ew,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function qOe(t,e,n){const r=t.segments,s=t.points,i=e.points,a=[];for(const o of r){let{start:l,end:u}=o;u=dA(l,u,s);const d=LE(n,s[l],s[u],o.loop);if(!e.segments){a.push({source:o,target:d,start:s[l],end:s[u]});continue}const p=NQ(e,d);for(const f of p){const h=LE(n,i[f.start],i[f.end],f.loop),y=CQ(o,s,h);for(const m of y)a.push({source:m,target:f,start:{[n]:B$(d,h,"start",Math.max)},end:{[n]:B$(d,h,"end",Math.min)}})}}return a}function LE(t,e,n,r){if(r)return;let s=e[t],i=n[t];return t==="angle"&&(s=rl(s),i=rl(i)),{property:t,start:s,end:i}}function ZOe(t,e){const{x:n=null,y:r=null}=t||{},s=e.points,i=[];return e.segments.forEach(({start:a,end:o})=>{o=dA(a,o,s);const l=s[a],u=s[o];r!==null?(i.push({x:l.x,y:r}),i.push({x:u.x,y:r})):n!==null&&(i.push({x:n,y:l.y}),i.push({x:n,y:u.y}))}),i}function dA(t,e,n){for(;e>t;e--){const r=n[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function B$(t,e,n,r){return t&&e?r(t[n],e[n]):t?t[n]:e?e[n]:0}function HQ(t,e){let n=[],r=!1;return _r(t)?(r=!0,n=t):n=ZOe(t,e),n.length?new Hu({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function U$(t){return t&&t.fill!==!1}function XOe(t,e,n){let s=t[e].fill;const i=[e];let a;if(!n)return s;for(;s!==!1&&i.indexOf(s)===-1;){if(!$s(s))return s;if(a=t[s],!a)return!1;if(a.visible)return s;i.push(s),s=a.fill}return!1}function JOe(t,e,n){const r=nLe(t);if(tn(r))return isNaN(r.value)?!1:r;let s=parseFloat(r);return $s(s)&&Math.floor(s)===s?QOe(r[0],e,s,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function QOe(t,e,n,r){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=r?!1:n}function eLe(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:tn(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function tLe(t,e,n){let r;return t==="start"?r=n:t==="end"?r=e.options.reverse?e.min:e.max:tn(t)?r=t.value:r=e.getBaseValue(),r}function nLe(t){const e=t.options,n=e.fill;let r=Ht(n&&n.target,n);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function rLe(t){const{scale:e,index:n,line:r}=t,s=[],i=r.segments,a=r.points,o=sLe(e,n);o.push(HQ({x:null,y:e.bottom},r));for(let l=0;l<i.length;l++){const u=i[l];for(let d=u.start;d<=u.end;d++)iLe(s,a[d],o)}return new Hu({points:s,options:{}})}function sLe(t,e){const n=[],r=t.getMatchingVisibleMetas("line");for(let s=0;s<r.length;s++){const i=r[s];if(i.index===e)break;i.hidden||n.unshift(i.dataset)}return n}function iLe(t,e,n){const r=[];for(let s=0;s<n.length;s++){const i=n[s],{first:a,last:o,point:l}=aLe(i,e,"x");if(!(!l||a&&o)){if(a)r.unshift(l);else if(t.push(l),!o)break}}t.push(...r)}function aLe(t,e,n){const r=t.interpolate(e,n);if(!r)return{};const s=r[n],i=t.segments,a=t.points;let o=!1,l=!1;for(let u=0;u<i.length;u++){const d=i[u],p=a[d.start][n],f=a[d.end][n];if(Vu(s,p,f)){o=s===p,l=s===f;break}}return{first:o,last:l,point:r}}class WQ{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,r){const{x:s,y:i,radius:a}=this;return n=n||{start:0,end:Co},e.arc(s,i,a,n.end,n.start,!0),!r.bounds}interpolate(e){const{x:n,y:r,radius:s}=this,i=e.angle;return{x:n+Math.cos(i)*s,y:r+Math.sin(i)*s,angle:i}}}function oLe(t){const{chart:e,fill:n,line:r}=t;if($s(n))return lLe(e,n);if(n==="stack")return rLe(t);if(n==="shape")return!0;const s=cLe(t);return s instanceof WQ?s:HQ(s,r)}function lLe(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function cLe(t){return(t.scale||{}).getPointPositionForValue?dLe(t):uLe(t)}function uLe(t){const{scale:e={},fill:n}=t,r=eLe(n,e);if($s(r)){const s=e.isHorizontal();return{x:s?r:null,y:s?null:r}}return null}function dLe(t){const{scale:e,fill:n}=t,r=e.options,s=e.getLabels().length,i=r.reverse?e.max:e.min,a=tLe(n,e,i),o=[];if(r.grid.circular){const l=e.getPointPositionForValue(0,i);return new WQ({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(a)})}for(let l=0;l<s;++l)o.push(e.getPointPositionForValue(l,a));return o}function Bk(t,e,n){const r=oLe(e),{chart:s,index:i,line:a,scale:o,axis:l}=e,u=a.options,d=u.fill,p=u.backgroundColor,{above:f=p,below:h=p}=d||{},y=s.getDatasetMeta(i),m=EQ(s,y);r&&a.points.length&&(oA(t,n),pLe(t,{line:a,target:r,above:f,below:h,area:n,scale:o,axis:l,clip:m}),lA(t))}function pLe(t,e){const{line:n,target:r,above:s,below:i,area:a,scale:o,clip:l}=e,u=n._loop?"angle":e.axis;t.save();let d=i;i!==s&&(u==="x"?(z$(t,r,a.top),Uk(t,{line:n,target:r,color:s,scale:o,property:u,clip:l}),t.restore(),t.save(),z$(t,r,a.bottom)):u==="y"&&(V$(t,r,a.left),Uk(t,{line:n,target:r,color:i,scale:o,property:u,clip:l}),t.restore(),t.save(),V$(t,r,a.right),d=s)),Uk(t,{line:n,target:r,color:d,scale:o,property:u,clip:l}),t.restore()}function z$(t,e,n){const{segments:r,points:s}=e;let i=!0,a=!1;t.beginPath();for(const o of r){const{start:l,end:u}=o,d=s[l],p=s[dA(l,u,s)];i?(t.moveTo(d.x,d.y),i=!1):(t.lineTo(d.x,n),t.lineTo(d.x,d.y)),a=!!e.pathSegment(t,o,{move:a}),a?t.closePath():t.lineTo(p.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function V$(t,e,n){const{segments:r,points:s}=e;let i=!0,a=!1;t.beginPath();for(const o of r){const{start:l,end:u}=o,d=s[l],p=s[dA(l,u,s)];i?(t.moveTo(d.x,d.y),i=!1):(t.lineTo(n,d.y),t.lineTo(d.x,d.y)),a=!!e.pathSegment(t,o,{move:a}),a?t.closePath():t.lineTo(n,p.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function Uk(t,e){const{line:n,target:r,property:s,color:i,scale:a,clip:o}=e,l=qOe(n,r,s);for(const{source:u,target:d,start:p,end:f}of l){const{style:{backgroundColor:h=i}={}}=u,y=r!==!0;t.save(),t.fillStyle=h,fLe(t,a,o,y&&LE(s,p,f)),t.beginPath();const m=!!n.pathSegment(t,u);let b;if(y){m?t.closePath():H$(t,r,f,s);const v=!!r.pathSegment(t,d,{move:m,reverse:!0});b=m&&v,b||H$(t,r,p,s)}t.closePath(),t.fill(b?"evenodd":"nonzero"),t.restore()}}function fLe(t,e,n,r){const s=e.chart.chartArea,{property:i,start:a,end:o}=r||{};if(i==="x"||i==="y"){let l,u,d,p;i==="x"?(l=a,u=s.top,d=o,p=s.bottom):(l=s.left,u=a,d=s.right,p=o),t.beginPath(),n&&(l=Math.max(l,n.left),d=Math.min(d,n.right),u=Math.max(u,n.top),p=Math.min(p,n.bottom)),t.rect(l,u,d-l,p-u),t.clip()}}function H$(t,e,n,r){const s=e.interpolate(n,r);s&&t.lineTo(s.x,s.y)}var hLe={id:"filler",afterDatasetsUpdate(t,e,n){const r=(t.data.datasets||[]).length,s=[];let i,a,o,l;for(a=0;a<r;++a)i=t.getDatasetMeta(a),o=i.dataset,l=null,o&&o.options&&o instanceof Hu&&(l={visible:t.isDatasetVisible(a),index:a,fill:JOe(o,a,r),chart:t,axis:i.controller.options.indexAxis,scale:i.vScale,line:o}),i.$filler=l,s.push(l);for(a=0;a<r;++a)l=s[a],!(!l||l.fill===!1)&&(l.fill=XOe(s,a,n.propagate))},beforeDraw(t,e,n){const r=n.drawTime==="beforeDraw",s=t.getSortedVisibleDatasetMetas(),i=t.chartArea;for(let a=s.length-1;a>=0;--a){const o=s[a].$filler;o&&(o.line.updateControlPoints(i,o.axis),r&&o.fill&&Bk(t.ctx,o,i))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=t.getSortedVisibleDatasetMetas();for(let s=r.length-1;s>=0;--s){const i=r[s].$filler;U$(i)&&Bk(t.ctx,i,t.chartArea)}},beforeDatasetDraw(t,e,n){const r=e.meta.$filler;!U$(r)||n.drawTime!=="beforeDatasetDraw"||Bk(t.ctx,r,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const W$=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},mLe=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class G$ extends zd{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Fn(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,s)=>e.sort(r,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,s=_s(r.font),i=s.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:l}=W$(r,i);let u,d;n.font=s.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(a,i,o,l)+10):(d=this.maxHeight,u=this._fitCols(a,s,o,l)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,s){const{ctx:i,maxWidth:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],d=s+o;let p=e;i.textAlign="left",i.textBaseline="middle";let f=-1,h=-d;return this.legendItems.forEach((y,m)=>{const b=r+n/2+i.measureText(y.text).width;(m===0||u[u.length-1]+b+2*o>a)&&(p+=d,u[u.length-(m>0?0:1)]=0,h+=d,f++),l[m]={left:0,top:h,row:f,width:b,height:s},u[u.length-1]+=b+o}),p}_fitCols(e,n,r,s){const{ctx:i,maxHeight:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],d=a-e;let p=o,f=0,h=0,y=0,m=0;return this.legendItems.forEach((b,v)=>{const{itemWidth:g,itemHeight:x}=yLe(r,n,i,b,s);v>0&&h+x+2*o>d&&(p+=f+o,u.push({width:f,height:h}),y+=f+o,m++,f=h=0),l[v]={left:y,top:h,col:m,width:g,height:x},f=Math.max(f,g),h+=x+o}),p+=f,u.push({width:f,height:h}),p}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:s},rtl:i}}=this,a=Gh(i,this.left,this.width);if(this.isHorizontal()){let o=0,l=As(r,this.left+s,this.right-this.lineWidths[o]);for(const u of n)o!==u.row&&(o=u.row,l=As(r,this.left+s,this.right-this.lineWidths[o])),u.top+=this.top+e+s,u.left=a.leftForLtr(a.x(l),u.width),l+=u.width+s}else{let o=0,l=As(r,this.top+e+s,this.bottom-this.columnSizes[o].height);for(const u of n)u.col!==o&&(o=u.col,l=As(r,this.top+e+s,this.bottom-this.columnSizes[o].height)),u.top=l,u.left+=this.left+s,u.left=a.leftForLtr(a.x(u.left),u.width),l+=u.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;oA(e,this),this._draw(),lA(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:s}=this,{align:i,labels:a}=e,o=wr.color,l=Gh(e.rtl,this.left,this.width),u=_s(a.font),{padding:d}=a,p=u.size,f=p/2;let h;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=u.string;const{boxWidth:y,boxHeight:m,itemHeight:b}=W$(a,p),v=function(C,N,P){if(isNaN(y)||y<=0||isNaN(m)||m<0)return;s.save();const L=Ht(P.lineWidth,1);if(s.fillStyle=Ht(P.fillStyle,o),s.lineCap=Ht(P.lineCap,"butt"),s.lineDashOffset=Ht(P.lineDashOffset,0),s.lineJoin=Ht(P.lineJoin,"miter"),s.lineWidth=L,s.strokeStyle=Ht(P.strokeStyle,o),s.setLineDash(Ht(P.lineDash,[])),a.usePointStyle){const U={radius:m*Math.SQRT2/2,pointStyle:P.pointStyle,rotation:P.rotation,borderWidth:L},$=l.xPlus(C,y/2),B=N+f;mQ(s,U,$,B,a.pointStyleWidth&&y)}else{const U=N+Math.max((p-m)/2,0),$=l.leftForLtr(C,y),B=Wh(P.borderRadius);s.beginPath(),Object.values(B).some(_=>_!==0)?aT(s,{x:$,y:U,w:y,h:m,radius:B}):s.rect($,U,y,m),s.fill(),L!==0&&s.stroke()}s.restore()},g=function(C,N,P){Av(s,P.text,C,N+b/2,u,{strikethrough:P.hidden,textAlign:l.textAlign(P.textAlign)})},x=this.isHorizontal(),T=this._computeTitleHeight();x?h={x:As(i,this.left+d,this.right-r[0]),y:this.top+d+T,line:0}:h={x:this.left+d,y:As(i,this.top+T+d,this.bottom-n[0].height),line:0},AQ(this.ctx,e.textDirection);const I=b+d;this.legendItems.forEach((C,N)=>{s.strokeStyle=C.fontColor,s.fillStyle=C.fontColor;const P=s.measureText(C.text).width,L=l.textAlign(C.textAlign||(C.textAlign=a.textAlign)),U=y+f+P;let $=h.x,B=h.y;l.setWidth(this.width),x?N>0&&$+U+d>this.right&&(B=h.y+=I,h.line++,$=h.x=As(i,this.left+d,this.right-r[h.line])):N>0&&B+I>this.bottom&&($=h.x=$+n[h.line].width+d,h.line++,B=h.y=As(i,this.top+T+d,this.bottom-n[h.line].height));const _=l.x($);if(v(_,B,C),$=e_e(L,$+y+f,x?$+U:this.right,e.rtl),g(l.x($),B,C),x)h.x+=U+d;else if(typeof C.text!="string"){const w=u.lineHeight;h.y+=GQ(C,w)+d}else h.y+=I}),IQ(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=_s(n.font),s=Ba(n.padding);if(!n.display)return;const i=Gh(e.rtl,this.left,this.width),a=this.ctx,o=n.position,l=r.size/2,u=s.top+l;let d,p=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),d=this.top+u,p=As(e.align,p,this.right-f);else{const y=this.columnSizes.reduce((m,b)=>Math.max(m,b.height),0);d=u+As(e.align,this.top,this.bottom-y-e.labels.padding-this._computeTitleHeight())}const h=As(o,p,p+f);a.textAlign=i.textAlign(VM(o)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=r.string,Av(a,n.text,h,d,r)}_computeTitleHeight(){const e=this.options.title,n=_s(e.font),r=Ba(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,s,i;if(Vu(e,this.left,this.right)&&Vu(n,this.top,this.bottom)){for(i=this.legendHitBoxes,r=0;r<i.length;++r)if(s=i[r],Vu(e,s.left,s.left+s.width)&&Vu(n,s.top,s.top+s.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!bLe(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,i=mLe(s,r);s&&!i&&Fn(n.onLeave,[e,s,this],this),this._hoveredItem=r,r&&!i&&Fn(n.onHover,[e,r,this],this)}else r&&Fn(n.onClick,[e,r,this],this)}}function yLe(t,e,n,r,s){const i=gLe(r,t,e,n),a=vLe(s,r,e.lineHeight);return{itemWidth:i,itemHeight:a}}function gLe(t,e,n,r){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((i,a)=>i.length>a.length?i:a)),e+n.size/2+r.measureText(s).width}function vLe(t,e,n){let r=t;return typeof e.text!="string"&&(r=GQ(e,n)),r}function GQ(t,e){const n=t.text?t.text.length:0;return e*n}function bLe(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var xLe={id:"legend",_element:G$,start(t,e,n){const r=t.legend=new G$({ctx:t.ctx,options:n,chart:t});Pa.configure(t,r,n),Pa.addBox(t,r)},stop(t){Pa.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;Pa.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,s=n.chart;s.isDatasetVisible(r)?(s.hide(r),e.hidden=!0):(s.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:s,color:i,useBorderRadius:a,borderRadius:o}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const u=l.controller.getStyle(n?0:void 0),d=Ba(u.borderWidth);return{text:e[l.index].label,fillStyle:u.backgroundColor,fontColor:i,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:r||u.pointStyle,rotation:u.rotation,textAlign:s||u.textAlign,borderRadius:a&&(o||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class KQ extends zd{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=_r(r.text)?r.text.length:1;this._padding=Ba(r.padding);const i=s*_s(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:s,right:i,options:a}=this,o=a.align;let l=0,u,d,p;return this.isHorizontal()?(d=As(o,r,i),p=n+e,u=i-r):(a.position==="left"?(d=r+e,p=As(o,s,n),l=rs*-.5):(d=i-e,p=As(o,n,s),l=rs*.5),u=s-n),{titleX:d,titleY:p,maxWidth:u,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=_s(n.font),i=r.lineHeight/2+this._padding.top,{titleX:a,titleY:o,maxWidth:l,rotation:u}=this._drawArgs(i);Av(e,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:u,textAlign:VM(n.align),textBaseline:"middle",translation:[a,o]})}}function wLe(t,e){const n=new KQ({ctx:t.ctx,options:e,chart:t});Pa.configure(t,n,e),Pa.addBox(t,n),t.titleBlock=n}var TLe={id:"title",_element:KQ,start(t,e,n){wLe(t,n)},stop(t){const e=t.titleBlock;Pa.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;Pa.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ug={average(t){if(!t.length)return!1;let e,n,r=new Set,s=0,i=0;for(e=0,n=t.length;e<n;++e){const o=t[e].element;if(o&&o.hasValue()){const l=o.tooltipPosition();r.add(l.x),s+=l.y,++i}}return i===0||r.size===0?!1:{x:[...r].reduce((o,l)=>o+l)/r.size,y:s/i}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,s=Number.POSITIVE_INFINITY,i,a,o;for(i=0,a=t.length;i<a;++i){const l=t[i].element;if(l&&l.hasValue()){const u=l.getCenterPoint(),d=PE(e,u);d<s&&(s=d,o=l)}}if(o){const l=o.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function Zo(t,e){return e&&(_r(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Jl(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function ALe(t,e){const{element:n,datasetIndex:r,index:s}=e,i=t.getDatasetMeta(r).controller,{label:a,value:o}=i.getLabelAndValue(s);return{chart:t,label:a,parsed:i.getParsed(s),raw:t.data.datasets[r].data[s],formattedValue:o,dataset:i.getDataset(),dataIndex:s,datasetIndex:r,element:n}}function K$(t,e){const n=t.chart.ctx,{body:r,footer:s,title:i}=t,{boxWidth:a,boxHeight:o}=e,l=_s(e.bodyFont),u=_s(e.titleFont),d=_s(e.footerFont),p=i.length,f=s.length,h=r.length,y=Ba(e.padding);let m=y.height,b=0,v=r.reduce((T,I)=>T+I.before.length+I.lines.length+I.after.length,0);if(v+=t.beforeBody.length+t.afterBody.length,p&&(m+=p*u.lineHeight+(p-1)*e.titleSpacing+e.titleMarginBottom),v){const T=e.displayColors?Math.max(o,l.lineHeight):l.lineHeight;m+=h*T+(v-h)*l.lineHeight+(v-1)*e.bodySpacing}f&&(m+=e.footerMarginTop+f*d.lineHeight+(f-1)*e.footerSpacing);let g=0;const x=function(T){b=Math.max(b,n.measureText(T).width+g)};return n.save(),n.font=u.string,xn(t.title,x),n.font=l.string,xn(t.beforeBody.concat(t.afterBody),x),g=e.displayColors?a+2+e.boxPadding:0,xn(r,T=>{xn(T.before,x),xn(T.lines,x),xn(T.after,x)}),g=0,n.font=d.string,xn(t.footer,x),n.restore(),b+=y.width,{width:b,height:m}}function ILe(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function kLe(t,e,n,r){const{x:s,width:i}=r,a=n.caretSize+n.caretPadding;if(t==="left"&&s+i+a>e.width||t==="right"&&s-i-a<0)return!0}function CLe(t,e,n,r){const{x:s,width:i}=n,{width:a,chartArea:{left:o,right:l}}=t;let u="center";return r==="center"?u=s<=(o+l)/2?"left":"right":s<=i/2?u="left":s>=a-i/2&&(u="right"),kLe(u,t,e,n)&&(u="center"),u}function Y$(t,e,n){const r=n.yAlign||e.yAlign||ILe(t,n);return{xAlign:n.xAlign||e.xAlign||CLe(t,e,n,r),yAlign:r}}function NLe(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function ELe(t,e,n){let{y:r,height:s}=t;return e==="top"?r+=n:e==="bottom"?r-=s+n:r-=s/2,r}function q$(t,e,n,r){const{caretSize:s,caretPadding:i,cornerRadius:a}=t,{xAlign:o,yAlign:l}=n,u=s+i,{topLeft:d,topRight:p,bottomLeft:f,bottomRight:h}=Wh(a);let y=NLe(e,o);const m=ELe(e,l,u);return l==="center"?o==="left"?y+=u:o==="right"&&(y-=u):o==="left"?y-=Math.max(d,f)+s:o==="right"&&(y+=Math.max(p,h)+s),{x:Ji(y,0,r.width-e.width),y:Ji(m,0,r.height-e.height)}}function Nx(t,e,n){const r=Ba(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function Z$(t){return Zo([],Jl(t))}function SLe(t,e,n){return Pf(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function X$(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const YQ={beforeTitle:Zl,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:Zl,beforeBody:Zl,beforeLabel:Zl,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return gn(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Zl,afterBody:Zl,beforeFooter:Zl,footer:Zl,afterFooter:Zl};function oi(t,e,n,r){const s=t[e].call(n,r);return typeof s>"u"?YQ[e].call(n,r):s}class $E extends zd{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&n.options.animation&&r.animations,i=new SQ(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=SLe(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,s=oi(r,"beforeTitle",this,e),i=oi(r,"title",this,e),a=oi(r,"afterTitle",this,e);let o=[];return o=Zo(o,Jl(s)),o=Zo(o,Jl(i)),o=Zo(o,Jl(a)),o}getBeforeBody(e,n){return Z$(oi(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,s=[];return xn(e,i=>{const a={before:[],lines:[],after:[]},o=X$(r,i);Zo(a.before,Jl(oi(o,"beforeLabel",this,i))),Zo(a.lines,oi(o,"label",this,i)),Zo(a.after,Jl(oi(o,"afterLabel",this,i))),s.push(a)}),s}getAfterBody(e,n){return Z$(oi(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,s=oi(r,"beforeFooter",this,e),i=oi(r,"footer",this,e),a=oi(r,"afterFooter",this,e);let o=[];return o=Zo(o,Jl(s)),o=Zo(o,Jl(i)),o=Zo(o,Jl(a)),o}_createItems(e){const n=this._active,r=this.chart.data,s=[],i=[],a=[];let o=[],l,u;for(l=0,u=n.length;l<u;++l)o.push(ALe(this.chart,n[l]));return e.filter&&(o=o.filter((d,p,f)=>e.filter(d,p,f,r))),e.itemSort&&(o=o.sort((d,p)=>e.itemSort(d,p,r))),xn(o,d=>{const p=X$(e.callbacks,d);s.push(oi(p,"labelColor",this,d)),i.push(oi(p,"labelPointStyle",this,d)),a.push(oi(p,"labelTextColor",this,d))}),this.labelColors=s,this.labelPointStyles=i,this.labelTextColors=a,this.dataPoints=o,o}update(e,n){const r=this.options.setContext(this.getContext()),s=this._active;let i,a=[];if(!s.length)this.opacity!==0&&(i={opacity:0});else{const o=ug[r.position].call(this,s,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);const l=this._size=K$(this,r),u=Object.assign({},o,l),d=Y$(this.chart,r,u),p=q$(r,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,i={opacity:1,x:p.x,y:p.y,width:l.width,height:l.height,caretX:o.x,caretY:o.y}}this._tooltipItems=a,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,s){const i=this.getCaretPosition(e,r,s);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(e,n,r){const{xAlign:s,yAlign:i}=this,{caretSize:a,cornerRadius:o}=r,{topLeft:l,topRight:u,bottomLeft:d,bottomRight:p}=Wh(o),{x:f,y:h}=e,{width:y,height:m}=n;let b,v,g,x,T,I;return i==="center"?(T=h+m/2,s==="left"?(b=f,v=b-a,x=T+a,I=T-a):(b=f+y,v=b+a,x=T-a,I=T+a),g=b):(s==="left"?v=f+Math.max(l,d)+a:s==="right"?v=f+y-Math.max(u,p)-a:v=this.caretX,i==="top"?(x=h,T=x-a,b=v-a,g=v+a):(x=h+m,T=x+a,b=v+a,g=v-a),I=x),{x1:b,x2:v,x3:g,y1:x,y2:T,y3:I}}drawTitle(e,n,r){const s=this.title,i=s.length;let a,o,l;if(i){const u=Gh(r.rtl,this.x,this.width);for(e.x=Nx(this,r.titleAlign,r),n.textAlign=u.textAlign(r.titleAlign),n.textBaseline="middle",a=_s(r.titleFont),o=r.titleSpacing,n.fillStyle=r.titleColor,n.font=a.string,l=0;l<i;++l)n.fillText(s[l],u.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+o,l+1===i&&(e.y+=r.titleMarginBottom-o)}}_drawColorBox(e,n,r,s,i){const a=this.labelColors[r],o=this.labelPointStyles[r],{boxHeight:l,boxWidth:u}=i,d=_s(i.bodyFont),p=Nx(this,"left",i),f=s.x(p),h=l<d.lineHeight?(d.lineHeight-l)/2:0,y=n.y+h;if(i.usePointStyle){const m={radius:Math.min(u,l)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},b=s.leftForLtr(f,u)+u/2,v=y+l/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,jE(e,m,b,v),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,jE(e,m,b,v)}else{e.lineWidth=tn(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const m=s.leftForLtr(f,u),b=s.leftForLtr(s.xPlus(f,1),u-2),v=Wh(a.borderRadius);Object.values(v).some(g=>g!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,aT(e,{x:m,y,w:u,h:l,radius:v}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),aT(e,{x:b,y:y+1,w:u-2,h:l-2,radius:v}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(m,y,u,l),e.strokeRect(m,y,u,l),e.fillStyle=a.backgroundColor,e.fillRect(b,y+1,u-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:s}=this,{bodySpacing:i,bodyAlign:a,displayColors:o,boxHeight:l,boxWidth:u,boxPadding:d}=r,p=_s(r.bodyFont);let f=p.lineHeight,h=0;const y=Gh(r.rtl,this.x,this.width),m=function(P){n.fillText(P,y.x(e.x+h),e.y+f/2),e.y+=f+i},b=y.textAlign(a);let v,g,x,T,I,C,N;for(n.textAlign=a,n.textBaseline="middle",n.font=p.string,e.x=Nx(this,b,r),n.fillStyle=r.bodyColor,xn(this.beforeBody,m),h=o&&b!=="right"?a==="center"?u/2+d:u+2+d:0,T=0,C=s.length;T<C;++T){for(v=s[T],g=this.labelTextColors[T],n.fillStyle=g,xn(v.before,m),x=v.lines,o&&x.length&&(this._drawColorBox(n,e,T,y,r),f=Math.max(p.lineHeight,l)),I=0,N=x.length;I<N;++I)m(x[I]),f=p.lineHeight;xn(v.after,m)}h=0,f=p.lineHeight,xn(this.afterBody,m),e.y-=i}drawFooter(e,n,r){const s=this.footer,i=s.length;let a,o;if(i){const l=Gh(r.rtl,this.x,this.width);for(e.x=Nx(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",a=_s(r.footerFont),n.fillStyle=r.footerColor,n.font=a.string,o=0;o<i;++o)n.fillText(s[o],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+r.footerSpacing}}drawBackground(e,n,r,s){const{xAlign:i,yAlign:a}=this,{x:o,y:l}=e,{width:u,height:d}=r,{topLeft:p,topRight:f,bottomLeft:h,bottomRight:y}=Wh(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(o+p,l),a==="top"&&this.drawCaret(e,n,r,s),n.lineTo(o+u-f,l),n.quadraticCurveTo(o+u,l,o+u,l+f),a==="center"&&i==="right"&&this.drawCaret(e,n,r,s),n.lineTo(o+u,l+d-y),n.quadraticCurveTo(o+u,l+d,o+u-y,l+d),a==="bottom"&&this.drawCaret(e,n,r,s),n.lineTo(o+h,l+d),n.quadraticCurveTo(o,l+d,o,l+d-h),a==="center"&&i==="left"&&this.drawCaret(e,n,r,s),n.lineTo(o,l+p),n.quadraticCurveTo(o,l,o+p,l),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,s=r&&r.x,i=r&&r.y;if(s||i){const a=ug[e.position].call(this,this._active,this._eventPosition);if(!a)return;const o=this._size=K$(this,e),l=Object.assign({},a,this._size),u=Y$(n,e,l),d=q$(e,l,u,n);(s._to!==d.x||i._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=o.width,this.height=o.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const a=Ba(n.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&o&&(e.save(),e.globalAlpha=r,this.drawBackground(i,e,s,n),AQ(e,n.textDirection),i.y+=a.top,this.drawTitle(i,e,n),this.drawBody(i,e,n),this.drawFooter(i,e,n),IQ(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,s=e.map(({datasetIndex:o,index:l})=>{const u=this.chart.getDatasetMeta(o);if(!u)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:u.data[l],index:l}}),i=!rT(r,s),a=this._positionChanged(s,n);(i||a)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,i=this._active||[],a=this._getActiveElements(e,i,n,r),o=this._positionChanged(a,e),l=n||!rT(a,i)||o;return l&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,s){const i=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,i.mode,i,r);return i.reverse&&a.reverse(),a}_positionChanged(e,n){const{caretX:r,caretY:s,options:i}=this,a=ug[i.position].call(this,e,n);return a!==!1&&(r!==a.x||s!==a.y)}}Ge($E,"positioners",ug);var RLe={id:"tooltip",_element:$E,positioners:ug,afterInit(t,e,n){n&&(t.tooltip=new $E({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:YQ},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const PLe=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function MLe(t,e,n,r){const s=t.indexOf(e);if(s===-1)return PLe(t,e,n,r);const i=t.lastIndexOf(e);return s!==i?n:s}const jLe=(t,e)=>t===null?null:Ji(Math.round(t),0,e);function J$(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class FE extends xy{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:s,label:i}of n)r[s]===i&&r.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(gn(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:MLe(r,e,Ht(n,e),this._addedLabels),jLe(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,s=[];let i=this.getLabels();i=e===0&&n===i.length-1?i:i.slice(e,n+1),this._valueRange=Math.max(i.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=e;a<=n;a++)s.push({value:a});return s}getLabelForValue(e){return J$.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Ge(FE,"id","category"),Ge(FE,"defaults",{ticks:{callback:J$}});function _Le(t,e){const n=[],{bounds:s,step:i,min:a,max:o,precision:l,count:u,maxTicks:d,maxDigits:p,includeBounds:f}=t,h=i||1,y=d-1,{min:m,max:b}=e,v=!gn(a),g=!gn(o),x=!gn(u),T=(b-m)/(p+1);let I=q8((b-m)/y/h)*h,C,N,P,L;if(I<1e-14&&!v&&!g)return[{value:m},{value:b}];L=Math.ceil(b/I)-Math.floor(m/I),L>y&&(I=q8(L*I/y/h)*h),gn(l)||(C=Math.pow(10,l),I=Math.ceil(I*C)/C),s==="ticks"?(N=Math.floor(m/I)*I,P=Math.ceil(b/I)*I):(N=m,P=b),v&&g&&i&&H4e((o-a)/i,I/1e3)?(L=Math.round(Math.min((o-a)/I,d)),I=(o-a)/L,N=a,P=o):x?(N=v?a:N,P=g?o:P,L=u-1,I=(P-N)/L):(L=(P-N)/I,Vg(L,Math.round(L),I/1e3)?L=Math.round(L):L=Math.ceil(L));const U=Math.max(Z8(I),Z8(N));C=Math.pow(10,gn(l)?U:l),N=Math.round(N*C)/C,P=Math.round(P*C)/C;let $=0;for(v&&(f&&N!==a?(n.push({value:a}),N<a&&$++,Vg(Math.round((N+$*I)*C)/C,a,Q$(a,T,t))&&$++):N<a&&$++);$<L;++$){const B=Math.round((N+$*I)*C)/C;if(g&&B>o)break;n.push({value:B})}return g&&f&&P!==o?n.length&&Vg(n[n.length-1].value,o,Q$(o,T,t))?n[n.length-1].value=o:n.push({value:o}):(!g||P===o)&&n.push({value:P}),n}function Q$(t,e,{horizontal:n,minRotation:r}){const s=xp(r),i=(n?Math.sin(s):Math.cos(s))||.001,a=.75*e*(""+t).length;return Math.min(e/i,a)}class DLe extends xy{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return gn(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:s,max:i}=this;const a=l=>s=n?s:l,o=l=>i=r?i:l;if(e){const l=kl(s),u=kl(i);l<0&&u<0?o(0):l>0&&u>0&&a(0)}if(s===i){let l=i===0?1:Math.abs(i*.05);o(i+l),e||a(s-l)}this.min=s,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,s;return r?(s=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const s={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,a=_Le(s,i);return e.bounds==="ticks"&&W4e(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const s=(r-n)/Math.max(e.length-1,1)/2;n-=s,r+=s}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return pQ(e,this.chart.options.locale,this.options.ticks.format)}}class BE extends DLe{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=$s(e)?e:0,this.max=$s(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=xp(this.options.ticks.minRotation),s=(e?Math.sin(r):Math.cos(r))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Ge(BE,"id","linear"),Ge(BE,"defaults",{ticks:{callback:hQ.formatters.numeric}});const pA={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},bi=Object.keys(pA);function eF(t,e){return t-e}function tF(t,e){if(gn(e))return null;const n=t._adapter,{parser:r,round:s,isoWeekday:i}=t._parseOpts;let a=e;return typeof r=="function"&&(a=r(a)),$s(a)||(a=typeof r=="string"?n.parse(a,r):n.parse(a)),a===null?null:(s&&(a=s==="week"&&(wv(i)||i===!0)?n.startOf(a,"isoWeek",i):n.startOf(a,s)),+a)}function nF(t,e,n,r){const s=bi.length;for(let i=bi.indexOf(t);i<s-1;++i){const a=pA[bi[i]],o=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-e)/(o*a.size))<=r)return bi[i]}return bi[s-1]}function OLe(t,e,n,r,s){for(let i=bi.length-1;i>=bi.indexOf(n);i--){const a=bi[i];if(pA[a].common&&t._adapter.diff(s,r,a)>=e-1)return a}return bi[n?bi.indexOf(n):0]}function LLe(t){for(let e=bi.indexOf(t)+1,n=bi.length;e<n;++e)if(pA[bi[e]].common)return bi[e]}function rF(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:s}=zM(n,e),i=n[r]>=e?n[r]:n[s];t[i]=!0}}function $Le(t,e,n,r){const s=t._adapter,i=+s.startOf(e[0].value,r),a=e[e.length-1].value;let o,l;for(o=i;o<=a;o=+s.add(o,1,r))l=n[o],l>=0&&(e[l].major=!0);return e}function sF(t,e,n){const r=[],s={},i=e.length;let a,o;for(a=0;a<i;++a)o=e[a],s[o]=a,r.push({value:o,major:!1});return i===0||!n?r:$Le(t,r,s,n)}class cT extends xy{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),s=this._adapter=new CDe._date(e.adapters.date);s.init(n),zg(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:tF(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:s,max:i,minDefined:a,maxDefined:o}=this.getUserBounds();function l(u){!a&&!isNaN(u.min)&&(s=Math.min(s,u.min)),!o&&!isNaN(u.max)&&(i=Math.max(i,u.max))}(!a||!o)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=$s(s)&&!isNaN(s)?s:+n.startOf(Date.now(),r),i=$s(i)&&!isNaN(i)?i:+n.endOf(Date.now(),r)+1,this.min=Math.min(s,i-1),this.max=Math.max(s+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const i=this.min,a=this.max,o=X4e(s,i,a);return this._unit=n.unit||(r.autoSkip?nF(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):OLe(this,o.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:LLe(this._unit),this.initOffsets(s),e.reverse&&o.reverse(),sF(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,s,i;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?r=i:r=(i-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;n=Ji(n,0,a),r=Ji(r,0,a),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,s=this.options,i=s.time,a=i.unit||nF(i.minUnit,n,r,this._getLabelCapacity(n)),o=Ht(s.ticks.stepSize,1),l=a==="week"?i.isoWeekday:!1,u=wv(l)||l===!0,d={};let p=n,f,h;if(u&&(p=+e.startOf(p,"isoWeek",l)),p=+e.startOf(p,u?"day":a),e.diff(r,n,a)>1e5*o)throw new Error(n+" and "+r+" are too far apart with stepSize of "+o+" "+a);const y=s.ticks.source==="data"&&this.getDataTimestamps();for(f=p,h=0;f<r;f=+e.add(f,o,a),h++)rF(d,f,y);return(f===r||s.bounds==="ticks"||h===1)&&rF(d,f,y),Object.keys(d).sort(eF).map(m=>+m)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,i=this._unit,a=n||s[i];return this._adapter.format(e,a)}_tickFormatFunction(e,n,r,s){const i=this.options,a=i.ticks.callback;if(a)return Fn(a,[e,n,r],this);const o=i.time.displayFormats,l=this._unit,u=this._majorUnit,d=l&&o[l],p=u&&o[u],f=r[n],h=u&&p&&f&&f.major;return this._adapter.format(e,s||(h?p:d))}generateTickLabels(e){let n,r,s;for(n=0,r=e.length;n<r;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,s=xp(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(s),a=Math.sin(s),o=this._resolveTickFontOptions(0).size;return{w:r*i+o*a,h:r*a+o*i}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,s=r[n.unit]||r.millisecond,i=this._tickFormatFunction(e,0,sF(this,[e],this._majorUnit),s),a=this._getLabelSize(i),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,r=s.length;n<r;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const s=this.getLabels();for(n=0,r=s.length;n<r;++n)e.push(tF(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return cQ(e.sort(eF))}}Ge(cT,"id","time"),Ge(cT,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Ex(t,e,n){let r=0,s=t.length-1,i,a,o,l;n?(e>=t[r].pos&&e<=t[s].pos&&({lo:r,hi:s}=wp(t,"pos",e)),{pos:i,time:o}=t[r],{pos:a,time:l}=t[s]):(e>=t[r].time&&e<=t[s].time&&({lo:r,hi:s}=wp(t,"time",e)),{time:i,pos:o}=t[r],{time:a,pos:l}=t[s]);const u=a-i;return u?o+(l-o)*(e-i)/u:o}class iF extends cT{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Ex(n,this.min),this._tableRange=Ex(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,s=[],i=[];let a,o,l,u,d;for(a=0,o=e.length;a<o;++a)u=e[a],u>=n&&u<=r&&s.push(u);if(s.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(a=0,o=s.length;a<o;++a)d=s[a+1],l=s[a-1],u=s[a],Math.round((d+l)/2)!==u&&i.push({time:u,pos:a/(o-1)});return i}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((s,i)=>s-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Ex(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return Ex(this._table,r*this._tableRange+this._minPos,!0)}}Ge(iF,"id","timeseries"),Ge(iF,"defaults",cT.defaults);const qQ="label";function aF(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function FLe(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function ZQ(t,e){t.labels=e}function XQ(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:qQ;const r=[];t.datasets=e.map(s=>{const i=t.datasets.find(a=>a[n]===s[n]);return!i||!s.data||r.includes(i)?{...s}:(r.push(i),Object.assign(i,s),i)})}function BLe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:qQ;const n={labels:[],datasets:[]};return ZQ(n,t.labels),XQ(n,t.datasets,e),n}function ULe(t,e){const{height:n=150,width:r=300,redraw:s=!1,datasetIdKey:i,type:a,data:o,options:l,plugins:u=[],fallbackContent:d,updateMode:p,...f}=t,h=A.useRef(null),y=A.useRef(null),m=()=>{h.current&&(y.current=new uA(h.current,{type:a,data:BLe(o,i),options:l&&{...l},plugins:u}),aF(e,y.current))},b=()=>{aF(e,null),y.current&&(y.current.destroy(),y.current=null)};return A.useEffect(()=>{!s&&y.current&&l&&FLe(y.current,l)},[s,l]),A.useEffect(()=>{!s&&y.current&&ZQ(y.current.config.data,o.labels)},[s,o.labels]),A.useEffect(()=>{!s&&y.current&&o.datasets&&XQ(y.current.config.data,o.datasets,i)},[s,o.datasets]),A.useEffect(()=>{y.current&&(s?(b(),setTimeout(m)):y.current.update(p))},[s,l,o.labels,o.datasets,p]),A.useEffect(()=>{y.current&&(b(),setTimeout(m))},[a]),A.useEffect(()=>(m(),()=>b()),[]),xe.createElement("canvas",{ref:h,role:"img",height:n,width:r,...f},d)}const zLe=A.forwardRef(ULe);function JQ(t,e){return uA.register(e),A.forwardRef((n,r)=>xe.createElement(zLe,{...n,ref:r,type:t}))}const VLe=JQ("line",Iw),HLe=JQ("bar",Aw);uA.register(FE,BE,Nw,Hu,Ew,TLe,RLe,xLe,hLe);const WLe=({selectedToken:t,onClose:e,userWallet:n})=>{const{provider:r,signer:s,isConnected:i}=ir(),[a,o]=A.useState({buys:[],sells:[]}),[l,u]=A.useState([]),[d,p]=A.useState([]),[f,h]=A.useState([]),[y,m]=A.useState([]),[b,v]=A.useState("sell"),[g,x]=A.useState("limit"),[T,I]=A.useState(""),[C,N]=A.useState(""),[P,L]=A.useState(!1),U=!0;A.useEffect(()=>{(async()=>{try{$(),le.success("Marketplace loaded! Permissionless trading is enabled.")}catch(j){console.error("Error initializing marketplace:",j),$()}})()},[t]);const $=()=>{const R=[{orderId:"1",side:"sell",price:1.05,amount:100,total:105,timestamp:Date.now(),user:"0x123...",filled:0,status:"active"},{orderId:"2",side:"sell",price:1.04,amount:250,total:260,timestamp:Date.now(),user:"0x456...",filled:0,status:"active"},{orderId:"3",side:"sell",price:1.03,amount:150,total:154.5,timestamp:Date.now(),user:"0x789...",filled:0,status:"active"},{orderId:"4",side:"sell",price:1.02,amount:300,total:306,timestamp:Date.now(),user:"0xabc...",filled:0,status:"active"},{orderId:"5",side:"sell",price:1.01,amount:200,total:202,timestamp:Date.now(),user:"0xdef...",filled:0,status:"active"}],j=[{orderId:"6",side:"buy",price:.99,amount:150,total:148.5,timestamp:Date.now(),user:"0x111...",filled:0,status:"active"},{orderId:"7",side:"buy",price:.98,amount:200,total:196,timestamp:Date.now(),user:"0x222...",filled:0,status:"active"},{orderId:"8",side:"buy",price:.97,amount:100,total:97,timestamp:Date.now(),user:"0x333...",filled:0,status:"active"},{orderId:"9",side:"buy",price:.96,amount:300,total:288,timestamp:Date.now(),user:"0x444...",filled:0,status:"active"},{orderId:"10",side:"buy",price:.95,amount:250,total:237.5,timestamp:Date.now(),user:"0x555...",filled:0,status:"active"}];o({sells:R.sort((z,Z)=>z.price-Z.price),buys:j.sort((z,Z)=>Z.price-z.price)});const V=[{tradeId:"1",price:1,amount:50,timestamp:Date.now()-3e5,side:"buy"},{tradeId:"2",price:.99,amount:75,timestamp:Date.now()-6e5,side:"sell"},{tradeId:"3",price:1.01,amount:25,timestamp:Date.now()-9e5,side:"buy"},{tradeId:"4",price:1,amount:100,timestamp:Date.now()-12e5,side:"sell"},{tradeId:"5",price:1.02,amount:60,timestamp:Date.now()-15e5,side:"buy"}];u(V);const O=Array.from({length:24},(z,Z)=>t.currentPrice+(Math.random()-.5)*.1);h(O);const E=Array.from({length:24},()=>Math.random()*1e3+500);m(E)},B=async()=>{if(!T||!C){le.error("Please enter valid price and amount");return}if(!i){le.error("Please connect your wallet");return}le.info("Redirecting to OrderBook for advanced trading..."),L(!0);try{const R=parseFloat(T),j=parseInt(C);await new Promise(V=>setTimeout(V,1e3)),b==="sell"?le.success(`Mock sell order created: ${j} tokens at ${R} U2U each`):le.success(`Mock buy order created: ${j} tokens at ${R} U2U each`),$(),I(""),N("")}catch(R){console.error("Mock order creation:",R),le.error("Mock order creation demonstration completed")}finally{L(!1)}},_=async R=>{try{L(!0),le.info("Mock purchase from P2P order..."),await new Promise(j=>setTimeout(j,1e3)),le.success(`Mock purchase completed: ${R.amount} tokens at ${R.price} U2U each`),$()}catch(j){console.error("Mock purchase:",j),le.error("Mock purchase demonstration completed")}finally{L(!1)}},w=async R=>{try{L(!0),le.info("Mock order cancellation..."),await new Promise(j=>setTimeout(j,1e3)),le.success(`Mock order cancelled: ${R}`),$()}catch(j){console.error("Mock cancellation:",j),le.error("Mock cancellation demonstration completed")}finally{L(!1)}},k={labels:Array.from({length:24},(R,j)=>`${j}:00`),datasets:[{label:"Price (ETH)",data:f,borderColor:t.priceChange24h>=0?"#10B981":"#EF4444",backgroundColor:t.priceChange24h>=0?"rgba(16, 185, 129, 0.1)":"rgba(239, 68, 68, 0.1)",borderWidth:2,fill:!0,tension:.4}]},S={labels:Array.from({length:24},(R,j)=>`${j}:00`),datasets:[{label:"Volume",data:y,backgroundColor:"rgba(59, 130, 246, 0.8)",borderColor:"rgb(59, 130, 246)",borderWidth:1}]},M={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{x:{display:!0,grid:{display:!1}},y:{display:!0,grid:{color:"rgba(0, 0, 0, 0.1)"}}}};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl max-w-7xl w-full h-[90vh] overflow-hidden flex flex-col",children:[c.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-b border-blue-200 p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:c.jsx(Jp,{className:"w-4 h-4 text-blue-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-blue-900",children:" Trading Demo Interface"}),c.jsx("p",{className:"text-sm text-blue-700",children:"This is a demonstration interface with mock data."})]})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(te,{variant:"outline",size:"sm",onClick:()=>window.open("/orderbook","_blank"),className:"bg-white text-blue-600 border-blue-300 hover:bg-blue-50",children:" Open Real OrderBook"}),c.jsx("p",{className:"text-xs text-blue-600",children:"Use OrderBook for actual trading"})]})]})}),c.jsxs("div",{className:"p-6 border-b flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:c.jsx(Jp,{className:"w-5 h-5 text-blue-600"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl font-bold text-gray-900",children:t.name}),c.jsxs("p",{className:"text-sm text-gray-600",children:["#",t.tokenId,"  Secondary Market"]})]})]}),c.jsxs("div",{className:"flex items-center space-x-6",children:[c.jsxs("div",{className:"text-center",children:[c.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[t.currentPrice.toFixed(4)," ETH"]}),c.jsxs("div",{className:`flex items-center justify-center space-x-1 ${t.priceChange24h>=0?"text-green-600":"text-red-600"}`,children:[t.priceChange24h>=0?c.jsx(Rs,{className:"w-4 h-4"}):c.jsx(oS,{className:"w-4 h-4"}),c.jsxs("span",{className:"text-sm font-medium",children:[t.priceChange24h>=0?"+":"",t.priceChange24h.toFixed(2),"%"]})]})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"24h Volume"}),c.jsxs("p",{className:"font-bold",children:[t.volume24h.toFixed(2)," ETH"]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Market Cap"}),c.jsxs("p",{className:"font-bold",children:[(t.marketCap/1e3).toFixed(1),"K ETH"]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Your Balance"}),c.jsx("p",{className:"font-bold text-blue-600",children:t.userBalance})]})]})]})]}),c.jsx("div",{className:"mx-6",children:c.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[c.jsx("h3",{className:"font-medium text-green-800 mb-2",children:" Trading Enabled"}),c.jsx("p",{className:"text-sm text-green-600",children:"Permissionless trading is active. No KYC required."})]})}),c.jsx(te,{variant:"outline",onClick:e,children:"Close"})]}),c.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[c.jsxs("div",{className:"flex-1 flex flex-col",children:[c.jsxs("div",{className:"h-80 p-6 border-b",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Price Chart (24h)"}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx(Ue,{variant:"outline",children:"1H"}),c.jsx(Ue,{variant:"default",children:"24H"}),c.jsx(Ue,{variant:"outline",children:"7D"}),c.jsx(Ue,{variant:"outline",children:"30D"})]})]}),c.jsx("div",{className:"h-64",children:c.jsx(VLe,{data:k,options:M})})]}),c.jsxs("div",{className:"flex-1 p-6",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"P2P Trading"}),c.jsx("p",{className:"text-sm text-gray-600",children:"List your tokens for sale or buy from other users in the peer-to-peer marketplace"})]}),c.jsxs(ef,{value:b,onValueChange:R=>v(R),children:[c.jsxs(vd,{className:"grid w-full grid-cols-2",children:[c.jsx(Mr,{value:"sell",className:"text-red-600 font-semibold",children:" List Tokens for Sale"}),c.jsx(Mr,{value:"buy",className:"text-green-600",children:" Buy from Market"})]}),c.jsx(ds,{value:"sell",className:"space-y-4",children:c.jsx(oF,{side:"sell",orderType:g,setOrderType:x,price:T,setPrice:I,amount:C,setAmount:N,onSubmit:B,loading:P,tokenInfo:t,kycVerified:!0})}),c.jsx(ds,{value:"buy",className:"space-y-4",children:c.jsx(oF,{side:"buy",orderType:g,setOrderType:x,price:T,setPrice:I,amount:C,setAmount:N,onSubmit:B,loading:P,tokenInfo:t,kycVerified:!0})})]})]})]}),c.jsxs("div",{className:"w-96 border-l flex flex-col",children:[c.jsxs("div",{className:"flex-1 p-4",children:[c.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[c.jsx(up,{className:"w-5 h-5 mr-2"}),"Order Book"]}),c.jsx(GLe,{orderBook:a,currentPrice:t.currentPrice,onBuyFromOrder:_,onCancelOrder:w,userWallet:n,kycVerified:U})]}),c.jsx("div",{className:"h-64 p-4 border-t",children:c.jsxs(ef,{defaultValue:"trades",className:"h-full",children:[c.jsxs(vd,{className:"grid w-full grid-cols-2 mb-4",children:[c.jsx(Mr,{value:"trades",children:"Recent Trades"}),c.jsx(Mr,{value:"myorders",children:"My Orders"})]}),c.jsx(ds,{value:"trades",className:"h-44",children:c.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:l.map(R=>c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:`w-2 h-2 rounded-full ${R.side==="buy"?"bg-green-500":"bg-red-500"}`}),c.jsx("span",{className:"font-mono",children:R.price.toFixed(4)})]}),c.jsx("span",{className:"text-gray-600",children:R.amount}),c.jsx("span",{className:"text-xs text-gray-500",children:new Date(R.timestamp).toLocaleTimeString()})]},R.tradeId))})}),c.jsx(ds,{value:"myorders",className:"h-44",children:c.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:d.length===0?c.jsx("div",{className:"text-center text-gray-500 py-4",children:"No active orders"}):d.map(R=>c.jsxs("div",{className:"flex items-center justify-between text-sm bg-gray-50 p-2 rounded",children:[c.jsxs("div",{className:"flex flex-col",children:[c.jsxs("span",{className:"font-mono text-xs",children:[R.price.toFixed(4)," ETH"]}),c.jsxs("span",{className:"text-gray-500 text-xs",children:[R.amount," tokens"]})]}),c.jsx(Ue,{variant:R.status==="active"?"default":"secondary",children:R.status}),R.status==="active"&&c.jsx(te,{size:"sm",variant:"outline",className:"text-xs h-6 px-2 border-red-300 text-red-600 hover:bg-red-100",onClick:()=>w(R.orderId),children:"Cancel"})]},R.orderId))})})]})})]})]}),c.jsxs("div",{className:"h-32 p-4 border-t",children:[c.jsx("h3",{className:"text-sm font-semibold mb-2",children:"Volume (24h)"}),c.jsx("div",{className:"h-20",children:c.jsx(HLe,{data:S,options:{...M,scales:{...M.scales,y:{display:!1}}}})})]})]})})},oF=({side:t,orderType:e,setOrderType:n,price:r,setPrice:s,amount:i,setAmount:a,onSubmit:o,loading:l,tokenInfo:u,kycVerified:d})=>{const p=r&&i?(parseFloat(r)*parseFloat(i)).toFixed(6):"0";return c.jsxs(me,{children:[c.jsxs(yt,{children:[c.jsxs(gt,{className:`flex items-center ${t==="buy"?"text-green-600":"text-red-600"}`,children:[t==="buy"?c.jsx(ah,{className:"w-5 h-5 mr-2"}):c.jsx(Tse,{className:"w-5 h-5 mr-2"}),t==="buy"?"Buy":"List for Sale"," ",u.symbol]}),t==="sell"&&c.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Create a sell order to list your ",u.symbol," tokens for sale in the P2P marketplace"]})]}),c.jsxs(ye,{className:"space-y-4",children:[c.jsxs("div",{className:"flex space-x-2",children:[c.jsx(te,{variant:e==="limit"?"default":"outline",size:"sm",onClick:()=>n("limit"),className:"flex-1",children:"Limit Order"}),c.jsx(te,{variant:e==="market"?"default":"outline",size:"sm",onClick:()=>n("market"),className:"flex-1",children:"Market Order"})]}),e==="limit"&&c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ut,{htmlFor:"price",children:"Price (ETH)"}),c.jsx(an,{id:"price",type:"number",placeholder:"0.0000",value:r,onChange:f=>s(f.target.value),step:"0.0001"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(Ut,{htmlFor:"amount",children:"Amount"}),t==="sell"&&c.jsxs("span",{className:"text-xs text-gray-500",children:["Available: ",u.userBalance]})]}),c.jsx(an,{id:"amount",type:"number",placeholder:"0",value:i,onChange:f=>a(f.target.value),step:"1"}),t==="sell"&&c.jsxs("div",{className:"flex space-x-2",children:[c.jsx(te,{variant:"outline",size:"sm",onClick:()=>a((u.userBalance*.25).toString()),children:"25%"}),c.jsx(te,{variant:"outline",size:"sm",onClick:()=>a((u.userBalance*.5).toString()),children:"50%"}),c.jsx(te,{variant:"outline",size:"sm",onClick:()=>a((u.userBalance*.75).toString()),children:"75%"}),c.jsx(te,{variant:"outline",size:"sm",onClick:()=>a(u.userBalance.toString()),children:"Max"})]})]}),c.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm text-gray-600",children:"Total"}),c.jsxs("span",{className:"font-bold",children:[p," ETH"]})]})}),c.jsx(te,{onClick:o,disabled:l||!i||e==="limit"&&!r||!d,className:`w-full ${t==="buy"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"} ${d?"":"opacity-50 cursor-not-allowed"}`,children:l?c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating Order..."]}):d?`${t==="buy"?"Buy":"List for Sale"} ${u.symbol}`:"KYC Verification Required"})]})]})},GLe=({orderBook:t,currentPrice:e,onBuyFromOrder:n,onCancelOrder:r,userWallet:s="",kycVerified:i=!1})=>c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-medium text-red-600 mb-2",children:"Sell Orders"}),c.jsxs("div",{className:"space-y-1",children:[t.sells.slice(0,8).map(a=>{const o=a.user.startsWith(s.substring(0,6));return c.jsxs("div",{className:"flex justify-between items-center text-xs bg-red-50 p-2 rounded",children:[c.jsxs("div",{className:"flex flex-col",children:[c.jsxs("span",{className:"text-red-600 font-mono",children:[a.price.toFixed(4)," ETH"]}),c.jsx("span",{className:"text-gray-500 text-xs",children:a.user})]}),c.jsx("span",{className:"text-gray-600 font-medium",children:a.amount}),c.jsxs("div",{className:"flex flex-col items-end",children:[c.jsx("span",{className:"text-gray-900 font-medium",children:a.total.toFixed(4)}),o?c.jsx(te,{size:"sm",variant:"outline",className:"text-xs h-6 px-2 mt-1 border-red-300 text-red-600 hover:bg-red-100",onClick:()=>r==null?void 0:r(a.orderId),children:"Cancel"}):c.jsx(te,{size:"sm",variant:"default",className:"text-xs h-6 px-2 mt-1 bg-green-600 hover:bg-green-700",onClick:()=>n==null?void 0:n(a),disabled:!i,children:"Buy"})]})]},a.orderId)}),t.sells.length===0&&c.jsx("div",{className:"text-center text-gray-500 py-4",children:"No sell orders available"})]})]}),c.jsx("div",{className:"py-2 px-3 bg-gray-100 rounded text-center",children:c.jsxs("span",{className:"font-bold text-gray-900",children:[e.toFixed(4)," ETH"]})}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-medium text-green-600 mb-2",children:"Buy Orders"}),c.jsx("div",{className:"space-y-1",children:t.buys.slice(0,5).map(a=>c.jsxs("div",{className:"flex justify-between text-xs",children:[c.jsx("span",{className:"text-green-600 font-mono",children:a.price.toFixed(4)}),c.jsx("span",{className:"text-gray-600",children:a.amount}),c.jsx("span",{className:"text-gray-500",children:a.total.toFixed(2)})]},a.orderId))})]})]}),KLe=["function isRegistered(address user) external view returns (bool)","function registerIdentity(address user, address provider) external","function getIdentity(address user) external view returns (address)"],YLe=["function hasValidClaim(address user) external view returns (bool)","function issueClaim(address user) external","function getClaimData(address user) external view returns (tuple(uint256 claimId, uint256 issuanceDate, uint256 expiryDate, bool isValid))"],qLe=["function canTransfer(address from, address to, uint256 amount) external view returns (bool)","function validateCompliance(address user) external view returns (bool)"];class ZLe{constructor(e,n){Ge(this,"provider");Ge(this,"signer");Ge(this,"identityRegistry",null);Ge(this,"kycVendor",null);Ge(this,"ruleContract",null);Ge(this,"contractsInitialized",!1);this.provider=e,this.signer=n,this.initializeContracts()}async initializeContracts(){try{if(Cr.IDENTITY_REGISTRY&&Cr.MOCK_KYC_VENDOR&&Cr.RULE_CONTRACT){const[e,n,r]=await Promise.all([this.provider.getCode(Cr.IDENTITY_REGISTRY),this.provider.getCode(Cr.MOCK_KYC_VENDOR),this.provider.getCode(Cr.RULE_CONTRACT)]);e!=="0x"&&n!=="0x"&&r!=="0x"?(this.identityRegistry=new nt(Cr.IDENTITY_REGISTRY,KLe,this.signer||this.provider),this.kycVendor=new nt(Cr.MOCK_KYC_VENDOR,YLe,this.signer||this.provider),this.ruleContract=new nt(Cr.RULE_CONTRACT,qLe,this.provider),this.contractsInitialized=!0,console.log("ERC-3643 contracts initialized successfully")):console.warn("One or more ERC-3643 contracts not found at specified addresses")}else console.warn("ERC-3643 contract addresses not configured for current network")}catch(e){console.error("Failed to initialize ERC-3643 contracts:",e)}}async checkComplianceStatus(e){try{if(!this.contractsInitialized||!this.identityRegistry||!this.kycVendor)return console.warn("ERC-3643 contracts not available, returning default compliance status"),{isRegistered:!1,hasValidKYC:!1,canTrade:!1,lastChecked:Date.now()};const n=await this.identityRegistry.isRegistered(e),r=await this.kycVendor.hasValidClaim(e);let s;if(r)try{const a=await this.kycVendor.getClaimData(e);s={claimId:a.claimId.toString(),issuanceDate:Number(a.issuanceDate),expiryDate:Number(a.expiryDate),isValid:a.isValid}}catch(a){console.warn("Could not retrieve KYC claim data:",a)}return{isRegistered:n,hasValidKYC:r,canTrade:n&&r,kycData:s,lastChecked:Date.now()}}catch(n){return console.error("Error checking compliance status:",n),{isRegistered:!1,hasValidKYC:!1,canTrade:!1,lastChecked:Date.now()}}}async registerForKYC(e){if(!this.signer)throw new Error("Signer required for KYC registration");if(!this.contractsInitialized||!this.identityRegistry||!this.kycVendor)throw new Error("ERC-3643 contracts not available. Please ensure you are connected to the correct network.");try{await this.identityRegistry.isRegistered(e)||(console.log("Registering user identity..."),await(await this.identityRegistry.registerIdentity(e,Cr.MOCK_KYC_VENDOR)).wait(),console.log("Identity registered successfully")),console.log("Issuing KYC claim...");const s=await(await this.kycVendor.issueClaim(e)).wait();return console.log("KYC claim issued successfully"),s.transactionHash}catch(n){throw console.error("KYC registration failed:",n),new Error(`KYC registration failed: ${n.message}`)}}async validateTransfer(e,n,r){try{if(!this.contractsInitialized)return console.warn("ERC-3643 contracts not available, allowing transfer"),{canTransfer:!0,reason:"Compliance contracts not available - transfer allowed"};const[s,i]=await Promise.all([this.checkComplianceStatus(e),this.checkComplianceStatus(n)]);if(!s.canTrade)return{canTransfer:!1,reason:"Sender not KYC verified",requiresAction:"Complete KYC verification to enable trading"};if(!i.canTrade)return{canTransfer:!1,reason:"Recipient not KYC verified",requiresAction:"Recipient must complete KYC verification"};if(this.ruleContract)try{if(!await this.ruleContract.canTransfer(e,n,ja(r.toString())))return{canTransfer:!1,reason:"Transfer blocked by compliance rules",requiresAction:"Contact support for rule clarification"}}catch(a){console.warn("Rule contract validation failed, allowing transfer:",a)}return{canTransfer:!0,reason:"All compliance checks passed"}}catch(s){return console.error("Transfer validation failed:",s),{canTransfer:!1,reason:"Validation error occurred",requiresAction:"Please try again or contact support"}}}async isKYCExpired(e){try{const n=await this.checkComplianceStatus(e);return n.kycData?Math.floor(Date.now()/1e3)>n.kycData.expiryDate:!0}catch(n){return console.error("Error checking KYC expiry:",n),!0}}async getIdentityProvider(e){try{return await this.identityRegistry.getIdentity(e)}catch(n){return console.error("Error getting identity provider:",n),null}}async batchCheckCompliance(e){const n=new Map;try{const r=e.map(i=>this.checkComplianceStatus(i).then(a=>({address:i,status:a})).catch(a=>({address:i,status:{isRegistered:!1,hasValidKYC:!1,canTrade:!1,lastChecked:Date.now()}})));(await Promise.all(r)).forEach(({address:i,status:a})=>{n.set(i,a)})}catch(r){console.error("Batch compliance check failed:",r)}return n}getContractAddresses(){return Cr}formatComplianceStatus(e){return e.canTrade?"Verified ":e.isRegistered&&!e.hasValidKYC?"KYC Pending ":e.isRegistered?"Verification Failed ":"Registration Required "}getKYCTimeToExpiry(e){if(!e.kycData||!e.kycData.isValid)return null;const n=Math.floor(Date.now()/1e3),r=e.kycData.expiryDate-n;if(r<=0)return"Expired";const s=Math.floor(r/(24*60*60)),i=Math.floor(r%(24*60*60)/(60*60));return s>0?`${s} days, ${i} hours`:`${i} hours`}}let zk=null;const uT=(t,e)=>(zk||(zk=new ZLe(t,e)),zk),XLe=OT("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),ps=A.forwardRef(({className:t,variant:e,...n},r)=>c.jsx("div",{ref:r,role:"alert",className:vt(XLe({variant:e}),t),...n}));ps.displayName="Alert";const JLe=A.forwardRef(({className:t,...e},n)=>c.jsx("h5",{ref:n,className:vt("mb-1 font-medium leading-none tracking-tight",t),...e}));JLe.displayName="AlertTitle";const fs=A.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:vt("text-sm [&_p]:leading-relaxed",t),...e}));fs.displayName="AlertDescription";class UE{static async checkAndSwitchNetwork(e){try{if(!window.ethereum)return le.error("Please install MetaMask to continue"),!1;const n=$r[Wn],r=await window.ethereum.request({method:"eth_chainId"});if(parseInt(r,16)===n.chainId)return!0;if(!window.confirm(`You need to switch to ${n.name} (Chain ID: ${n.chainId}) to use ERC-3643 features. Switch now?`))return le.error("Please switch to the correct network to continue"),!1;try{return await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:`0x${n.chainId.toString(16)}`}]}),le.success(`Switched to ${n.name}`),!0}catch(a){if(a.code===4902)try{return await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:`0x${n.chainId.toString(16)}`,chainName:n.name,nativeCurrency:n.nativeCurrency,rpcUrls:[n.rpcUrl],blockExplorerUrls:[n.blockExplorer]}]}),le.success(`Added and switched to ${n.name}`),!0}catch(o){return console.error("Failed to add network:",o),le.error("Failed to add network. Please add it manually."),!1}else return console.error("Failed to switch network:",a),le.error("Failed to switch network. Please switch manually."),!1}}catch(n){return console.error("Network detection error:",n),le.error("Network detection failed"),!1}}static isCorrectNetwork(e){return e?e===$r[Wn].chainId:!1}static getCurrentNetworkInfo(){return $r[Wn]}static async getNetworkStatus(){try{if(!window.ethereum)return{isConnected:!1,isCorrectNetwork:!1,targetChainId:$r[Wn].chainId,networkName:$r[Wn].name};const e=await window.ethereum.request({method:"eth_chainId"}),n=parseInt(e,16),r=$r[Wn].chainId;return{isConnected:!0,isCorrectNetwork:n===r,currentChainId:n,targetChainId:r,networkName:$r[Wn].name}}catch(e){return console.error("Failed to get network status:",e),{isConnected:!1,isCorrectNetwork:!1,targetChainId:$r[Wn].chainId,networkName:$r[Wn].name}}}}const QLe=({onNetworkSwitched:t})=>{const{isConnected:e,chainId:n}=ir(),[r,s]=A.useState(null),[i,a]=A.useState(!1),o=$r[Wn];A.useEffect(()=>{e&&(async()=>{const d=await UE.getNetworkStatus();s(d)})()},[e,n]);const l=async()=>{a(!0);try{await UE.checkAndSwitchNetwork()&&t&&t()}catch(u){console.error("Network switch failed:",u)}finally{a(!1)}};return e?r?r.isCorrectNetwork?c.jsxs(ps,{className:"border-green-200 bg-green-50",children:[c.jsx(Ds,{className:"h-4 w-4 text-green-600"}),c.jsxs(fs,{className:"text-green-800",children:["Connected to ",o.name," - ERC-3643 features available"]})]}):c.jsxs(me,{className:"border-gray-800 bg-gray-900",children:[c.jsx(yt,{className:"pb-3",children:c.jsxs(gt,{className:"flex items-center gap-2 text-orange-800",children:[c.jsx(d0,{className:"h-5 w-5"}),"Network Switch Required"]})}),c.jsxs(ye,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm text-orange-700",children:"Current Network:"}),c.jsxs(Ue,{variant:"outline",className:"border-orange-300 text-orange-700",children:["Chain ID: ",r.currentChainId]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm text-orange-700",children:"Required Network:"}),c.jsxs(Ue,{className:"bg-green-600 text-white",children:[o.name," (Chain ID: ",o.chainId,")"]})]})]}),c.jsx(ps,{className:"border-orange-300 bg-orange-100",children:c.jsxs(fs,{className:"text-orange-800 text-sm",children:["ERC-3643 compliance features require connection to ",o.name,". Your existing dApp features will continue to work on any network."]})}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[c.jsx(te,{onClick:l,disabled:i,className:"flex-1",variant:"default",children:i?"Switching...":`Switch to ${o.name}`}),c.jsxs(te,{variant:"outline",onClick:()=>window.open(o.blockExplorer,"_blank"),className:"flex items-center gap-2",children:[c.jsx(_p,{className:"h-4 w-4"}),"Explorer"]})]}),c.jsxs("div",{className:"text-xs text-orange-600 space-y-1",children:[c.jsx("p",{children:c.jsx("strong",{children:"Network Details:"})}),c.jsxs("p",{children:[" RPC URL: ",o.rpcUrl]}),c.jsxs("p",{children:[" Chain ID: ",o.chainId]}),c.jsxs("p",{children:[" Currency: ",o.nativeCurrency.symbol]})]})]})]}):c.jsxs(ps,{children:[c.jsx(S3,{className:"h-4 w-4"}),c.jsx(fs,{children:"Checking network status..."})]}):c.jsxs(ps,{children:[c.jsx(S3,{className:"h-4 w-4"}),c.jsx(fs,{children:"Please connect your wallet to check network status."})]})},e8e={apiKey:"b083ca16f49fbb6a127f",apiSecret:""},lF="0x...",t8e=["function publishMerkleTree(bytes32 root, string calldata ipfsCID, uint256 expiryTimestamp) external returns (bytes32 treeId)","function verifyKYC(bytes32 treeId, bytes32[] calldata proof) external returns (bool)","function verifyKYCForUser(address user, bytes32 treeId, bytes32[] calldata proof) external view returns (bool)","function isKYCVerified(address user) external view returns (bool)","function getLeafHash(address user) external view returns (bytes32)","function getActiveTreeIds() external view returns (bytes32[] memory)","function getTreeData(bytes32 treeId) external view returns (tuple(bytes32 root, string ipfsCID, uint256 timestamp, uint256 expiryTimestamp, bool isActive, address issuer))"],n8e=({isOpen:t,onClose:e,userAddress:n,onKYCComplete:r,isAdmin:s=!1})=>{const{provider:i,signer:a,address:o}=ir(),[l,u]=A.useState(null),[d,p]=A.useState(null),[f,h]=A.useState(null),[y,m]=A.useState(null),b=n||o,[v,g]=A.useState({fullName:"",email:"",dateOfBirth:"",nationality:"",documentType:"passport",documentNumber:"",documentExpiry:"",verificationLevel:"basic"}),[x,T]=A.useState({step:"form",loading:!1}),[I,C]=A.useState(""),[N,P]=A.useState([]);A.useEffect(()=>{(async()=>{if(i){const S=await UE.getNetworkStatus();m(S);const M=uT(i,a);if(u(M),a&&lF){const R=new nt(lF,t8e,a);h(R)}}})()},[i,a]),A.useEffect(()=>{t&&f&&L()},[t,f]);const L=async()=>{if(f)try{const k=await f.getActiveTreeIds(),S=await Promise.all(k.map(async M=>{const R=await f.getTreeData(M);return{id:M,...R}}));P(S)}catch(k){console.error("Failed to load active trees:",k)}},U=async()=>{if(!d||!b){le.error("Service not initialized or address missing");return}T(k=>({...k,loading:!0,step:"upload"}));try{const k={address:b,...v,timestamp:Math.floor(Date.now()/1e3),ipAddress:"masked",userAgent:"masked"},S=await d.uploadKYCData(k,{name:`KYC-${b}-${Date.now()}`,keyvalues:{address:b,verificationLevel:v.verificationLevel,type:"individual-kyc"}});T(M=>({...M,ipfsHash:S,step:"verify",loading:!1})),le.success("KYC data uploaded to IPFS successfully!")}catch(k){console.error("KYC upload failed:",k),T(S=>({...S,loading:!1,error:k.message,step:"form"})),le.error(`Upload failed: ${k.message}`)}},$=async()=>{if(!d||!f||!I.trim()){le.error("Missing required data for batch KYC");return}T(k=>({...k,loading:!0}));try{const k=I.split(`
`).map(E=>E.trim()).filter(E=>E&&KS(E));if(k.length===0)throw new Error("No valid addresses provided");const S=Ra(Ic(`kyc-salt-${Date.now()}`)),M=d.generateMerkleTree(k,o||"",S),R=await d.uploadMerkleTree(M,{name:`MerkleKYC-Batch-${Date.now()}`,keyvalues:{type:"merkle-kyc-tree",userCount:k.length.toString(),issuer:o||""}}),j=Math.floor(Date.now()/1e3)+365*24*60*60,O=await(await f.publishMerkleTree(M.root,R,j)).wait();T(E=>({...E,loading:!1,ipfsHash:R,transactionHash:O.transactionHash,step:"complete"})),le.success(`Batch KYC published! ${k.length} users can now verify.`),L()}catch(k){console.error("Batch KYC failed:",k),T(S=>({...S,loading:!1,error:k.message})),le.error(`Batch KYC failed: ${k.message}`)}},B=async k=>{if(!f||!d||!b){le.error("Service not initialized");return}T(S=>({...S,loading:!0}));try{const S=await f.getTreeData(k),R=(await d.retrieveFromIPFS(S.ipfsCID)).proofs[b];if(!R)throw new Error("User not found in this KYC batch");const V=await(await f.verifyKYC(k,R)).wait();T(O=>({...O,loading:!1,transactionHash:V.transactionHash,merkleProof:R,step:"complete"})),le.success("KYC verification successful!"),r&&r(!0,{treeId:k,proof:R,txHash:V.transactionHash})}catch(S){console.error("KYC verification failed:",S),T(M=>({...M,loading:!1,error:S.message})),le.error(`Verification failed: ${S.message}`)}},_=()=>{T({step:"form",loading:!1}),g({fullName:"",email:"",dateOfBirth:"",nationality:"",documentType:"passport",documentNumber:"",documentExpiry:"",verificationLevel:"basic"})},w=k=>{navigator.clipboard.writeText(k),le.success("Copied to clipboard!")};return!d&&e8e.apiKey?c.jsx(qi,{open:t,onOpenChange:e,children:c.jsxs(yi,{children:[c.jsx(gi,{children:c.jsxs(vi,{className:"flex items-center",children:[c.jsx(ed,{className:"w-5 h-5 mr-2 text-red-500"}),"Configuration Required"]})}),c.jsxs(ps,{className:"border-red-200 bg-red-50",children:[c.jsx(ed,{className:"h-4 w-4 text-red-600"}),c.jsx(fs,{className:"text-red-800",children:"Pinata API credentials are required for enhanced KYC flow. Please configure REACT_APP_PINATA_API_KEY and REACT_APP_PINATA_SECRET environment variables."})]})]})}):c.jsx(qi,{open:t,onOpenChange:e,children:c.jsxs(yi,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[c.jsxs(gi,{children:[c.jsxs(vi,{className:"flex items-center",children:[c.jsx(Sa,{className:"w-5 h-5 mr-2"}),"Enhanced KYC Verification"]}),c.jsx(ku,{children:"Privacy-preserving KYC using IPFS storage and Merkle proof verification"})]}),c.jsx(QLe,{onNetworkSwitched:()=>{if(i&&a){const k=uT(i,a);u(k)}}}),c.jsxs(ef,{defaultValue:s?"admin":"user",className:"w-full",children:[c.jsxs(vd,{className:"grid w-full grid-cols-2",children:[c.jsx(Mr,{value:"user",children:"Individual KYC"}),s&&c.jsx(Mr,{value:"admin",children:"Batch KYC (Admin)"})]}),c.jsxs(ds,{value:"user",className:"space-y-6",children:[x.step==="form"&&c.jsxs(me,{children:[c.jsx(yt,{children:c.jsxs(gt,{className:"flex items-center",children:[c.jsx(fd,{className:"w-5 h-5 mr-2"}),"KYC Information"]})}),c.jsxs(ye,{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(Ut,{htmlFor:"fullName",children:"Full Name"}),c.jsx(an,{id:"fullName",value:v.fullName,onChange:k=>g(S=>({...S,fullName:k.target.value})),placeholder:"Enter your full name"})]}),c.jsxs("div",{children:[c.jsx(Ut,{htmlFor:"email",children:"Email Address"}),c.jsx(an,{id:"email",type:"email",value:v.email,onChange:k=>g(S=>({...S,email:k.target.value})),placeholder:"your@email.com"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(Ut,{htmlFor:"dateOfBirth",children:"Date of Birth"}),c.jsx(an,{id:"dateOfBirth",type:"date",value:v.dateOfBirth,onChange:k=>g(S=>({...S,dateOfBirth:k.target.value}))})]}),c.jsxs("div",{children:[c.jsx(Ut,{htmlFor:"nationality",children:"Nationality"}),c.jsx(an,{id:"nationality",value:v.nationality,onChange:k=>g(S=>({...S,nationality:k.target.value})),placeholder:"Your nationality"})]})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx(Ut,{htmlFor:"documentType",children:"Document Type"}),c.jsxs(mv,{value:v.documentType,onValueChange:k=>g(S=>({...S,documentType:k})),children:[c.jsx(Mm,{children:c.jsx(yv,{})}),c.jsxs(jm,{children:[c.jsx(Ca,{value:"passport",children:"Passport"}),c.jsx(Ca,{value:"national_id",children:"National ID"}),c.jsx(Ca,{value:"drivers_license",children:"Driver's License"})]})]})]}),c.jsxs("div",{children:[c.jsx(Ut,{htmlFor:"documentNumber",children:"Document Number"}),c.jsx(an,{id:"documentNumber",value:v.documentNumber,onChange:k=>g(S=>({...S,documentNumber:k.target.value})),placeholder:"Document number"})]}),c.jsxs("div",{children:[c.jsx(Ut,{htmlFor:"documentExpiry",children:"Document Expiry"}),c.jsx(an,{id:"documentExpiry",type:"date",value:v.documentExpiry,onChange:k=>g(S=>({...S,documentExpiry:k.target.value}))})]})]}),c.jsxs("div",{children:[c.jsx(Ut,{htmlFor:"verificationLevel",children:"Verification Level"}),c.jsxs(mv,{value:v.verificationLevel,onValueChange:k=>g(S=>({...S,verificationLevel:k})),children:[c.jsx(Mm,{children:c.jsx(yv,{})}),c.jsxs(jm,{children:[c.jsx(Ca,{value:"basic",children:"Basic (Identity + Email)"}),c.jsx(Ca,{value:"enhanced",children:"Enhanced (+ Address Verification)"}),c.jsx(Ca,{value:"premium",children:"Premium (+ Income Verification)"})]})]})]}),c.jsxs(ps,{className:"border-blue-200 bg-blue-50",children:[c.jsx(td,{className:"h-4 w-4 text-blue-600"}),c.jsx(fs,{className:"text-blue-800",children:"Your personal data will be encrypted and stored on IPFS. Only verification status will be recorded on-chain."})]}),c.jsx(te,{onClick:U,disabled:x.loading||!v.fullName||!v.email,className:"w-full",children:x.loading?c.jsxs("div",{className:"flex items-center",children:[c.jsx(Sr,{className:"w-4 h-4 animate-spin mr-2"}),"Uploading to IPFS..."]}):c.jsxs("div",{className:"flex items-center",children:[c.jsx(Sse,{className:"w-4 h-4 mr-2"}),"Submit KYC Data"]})})]})]}),x.step==="verify"&&c.jsxs(me,{children:[c.jsx(yt,{children:c.jsxs(gt,{className:"flex items-center",children:[c.jsx(Ds,{className:"w-5 h-5 mr-2 text-green-500"}),"Data Uploaded Successfully"]})}),c.jsxs(ye,{className:"space-y-4",children:[c.jsxs(ps,{className:"border-green-200 bg-green-50",children:[c.jsx(fse,{className:"h-4 w-4 text-green-600"}),c.jsx(fs,{className:"text-green-800",children:"Your KYC data has been uploaded to IPFS. You can now verify against available Merkle trees."})]}),x.ipfsHash&&c.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[c.jsx(Ut,{className:"text-sm font-medium",children:"IPFS Hash:"}),c.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[c.jsx("code",{className:"text-xs bg-white p-2 rounded border flex-1 truncate",children:x.ipfsHash}),c.jsx(te,{size:"sm",variant:"outline",onClick:()=>w(x.ipfsHash),children:c.jsx(N3,{className:"w-4 h-4"})}),c.jsx(te,{size:"sm",variant:"outline",onClick:()=>window.open(`https://gateway.pinata.cloud/ipfs/${x.ipfsHash}`,"_blank"),children:c.jsx(_p,{className:"w-4 h-4"})})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("h4",{className:"font-medium",children:"Available KYC Trees:"}),N.length===0?c.jsxs(ps,{children:[c.jsx(fm,{className:"h-4 w-4"}),c.jsx(fs,{children:"No active KYC trees available. Please wait for an admin to publish a batch."})]}):N.map((k,S)=>c.jsx(me,{className:"border-gray-200",children:c.jsx(ye,{className:"p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("p",{className:"font-medium",children:["Tree #",S+1]}),c.jsxs("p",{className:"text-sm text-gray-600",children:["Issued: ",new Date(k.timestamp*1e3).toLocaleDateString()]}),c.jsxs("p",{className:"text-sm text-gray-600",children:["Expires: ",new Date(k.expiryTimestamp*1e3).toLocaleDateString()]})]}),c.jsx(te,{onClick:()=>B(k.id),disabled:x.loading,children:x.loading?"Verifying...":"Verify KYC"})]})})},k.id))]})]})]}),x.step==="complete"&&c.jsxs(me,{children:[c.jsx(yt,{children:c.jsxs(gt,{className:"flex items-center",children:[c.jsx(Ds,{className:"w-5 h-5 mr-2 text-green-500"}),"KYC Verification Complete"]})}),c.jsxs(ye,{className:"space-y-4",children:[c.jsxs(ps,{className:"border-green-200 bg-green-50",children:[c.jsx(Ds,{className:"h-4 w-4 text-green-600"}),c.jsx(fs,{className:"text-green-800",children:"Your KYC verification has been successfully recorded on-chain. You can now participate in compliant trading."})]}),x.transactionHash&&c.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[c.jsx(Ut,{className:"text-sm font-medium",children:"Transaction Hash:"}),c.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[c.jsx("code",{className:"text-xs bg-white p-2 rounded border flex-1 truncate",children:x.transactionHash}),c.jsx(te,{size:"sm",variant:"outline",onClick:()=>w(x.transactionHash),children:c.jsx(N3,{className:"w-4 h-4"})}),c.jsx(te,{size:"sm",variant:"outline",onClick:()=>window.open(`https://Flowscan.xyz/tx/${x.transactionHash}`,"_blank"),children:c.jsx(_p,{className:"w-4 h-4"})})]})]}),c.jsxs("div",{className:"flex space-x-3",children:[c.jsx(te,{onClick:_,variant:"outline",className:"flex-1",children:"Start New KYC"}),c.jsx(te,{onClick:e,className:"flex-1",children:"Close"})]})]})]})]}),s&&c.jsx(ds,{value:"admin",className:"space-y-6",children:c.jsxs(me,{children:[c.jsx(yt,{children:c.jsxs(gt,{className:"flex items-center",children:[c.jsx(lS,{className:"w-5 h-5 mr-2"}),"Batch KYC Management"]})}),c.jsxs(ye,{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(Ut,{htmlFor:"batchUsers",children:"User Addresses (one per line)"}),c.jsx(jM,{id:"batchUsers",placeholder:`0x1234...
0x5678...
0x9abc...`,value:I,onChange:k=>C(k.target.value),rows:6,className:"font-mono text-sm"}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Enter Ethereum addresses that have completed KYC verification"})]}),c.jsx(te,{onClick:$,disabled:x.loading||!I.trim(),className:"w-full",children:x.loading?c.jsxs("div",{className:"flex items-center",children:[c.jsx(Sr,{className:"w-4 h-4 animate-spin mr-2"}),"Publishing Batch KYC..."]}):c.jsxs("div",{className:"flex items-center",children:[c.jsx(gse,{className:"w-4 h-4 mr-2"}),"Publish Batch KYC Tree"]})}),N.length>0&&c.jsxs("div",{className:"space-y-3",children:[c.jsx("h4",{className:"font-medium",children:"Active KYC Trees:"}),N.map((k,S)=>c.jsx(me,{className:"border-gray-200",children:c.jsx(ye,{className:"p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("p",{className:"font-medium",children:["Tree #",S+1]}),c.jsxs("p",{className:"text-sm text-gray-600",children:["Root: ",k.root.substring(0,20),"..."]}),c.jsxs("p",{className:"text-sm text-gray-600",children:["IPFS: ",k.ipfsCID]})]}),c.jsx(Ue,{variant:k.isActive?"default":"secondary",children:k.isActive?"Active":"Inactive"})]})})},k.id))]})]})]})})]}),x.error&&c.jsxs(ps,{className:"border-red-200 bg-red-50",children:[c.jsx(ed,{className:"h-4 w-4 text-red-600"}),c.jsx(fs,{className:"text-red-800",children:x.error})]})]})})},r8e=({userAddress:t,onComplianceVerified:e,showActions:n=!0,compact:r=!1,className:s=""})=>{const{provider:i,signer:a,account:o}=ir(),[l,u]=A.useState(null),[d,p]=A.useState(!1),[f,h]=A.useState(!1),[y,m]=A.useState(null),[b,v]=A.useState(!1),g=t||o;A.useEffect(()=>{if(i){const P=uT(i,a);m(P)}},[i,a]),A.useEffect(()=>{y&&g&&x()},[y,g]);const x=async()=>{if(!(!y||!g)){h(!0);try{const P=await y.checkComplianceStatus(g);u(P),e&&e(P)}catch(P){console.error("Error checking compliance:",P),le.error("Failed to check compliance status")}finally{h(!1)}}},T=async()=>{if(!(!y||!g)){p(!0);try{le.info("Starting KYC registration...");const P=await y.registerForKYC(g);le.success(`KYC registration successful! Transaction: ${P.substring(0,10)}...`),setTimeout(()=>{x()},2e3)}catch(P){console.error("KYC registration failed:",P),le.error(P.message||"KYC registration failed")}finally{p(!1)}}},I=()=>l?l.canTrade?c.jsx(Ds,{className:"w-5 h-5 text-green-500"}):l.isRegistered?c.jsx(fm,{className:"w-5 h-5 text-yellow-500"}):c.jsx(ed,{className:"w-5 h-5 text-red-500"}):c.jsx(Sa,{className:"w-5 h-5 text-gray-400"}),C=()=>l?l.canTrade?"bg-green-100 text-green-800 border-green-200":l.isRegistered?"bg-yellow-100 text-yellow-800 border-yellow-200":"bg-red-100 text-red-800 border-red-200":"bg-gray-100 text-gray-600",N=P=>`${P.substring(0,6)}...${P.substring(P.length-4)}`;return r?c.jsxs("div",{className:`flex items-center space-x-2 ${s}`,children:[I(),c.jsx(Ue,{variant:"outline",className:C(),children:l?y==null?void 0:y.formatComplianceStatus(l):"Checking..."}),f&&c.jsx(Sr,{className:"w-4 h-4 animate-spin text-blue-500"})]}):c.jsxs(me,{className:`${s}`,children:[c.jsxs(yt,{className:"pb-3",children:[c.jsxs(gt,{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[I(),c.jsx("span",{children:"Compliance Status"})]}),c.jsx(te,{variant:"ghost",size:"sm",onClick:x,disabled:f,className:"h-8 w-8 p-0",children:c.jsx(Sr,{className:`w-4 h-4 ${f?"animate-spin":""}`})})]}),g&&c.jsxs("p",{className:"text-sm text-gray-600",children:[c.jsx(hm,{className:"w-4 h-4 inline mr-1"}),N(g)]})]}),c.jsxs(ye,{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[I(),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:l?y==null?void 0:y.formatComplianceStatus(l):"Checking..."}),c.jsx("p",{className:"text-sm text-gray-600",children:l!=null&&l.canTrade?"Ready to trade":"Trading restricted"})]})]}),c.jsx(Ue,{className:C(),children:l!=null&&l.canTrade?"Verified":"Pending"})]}),l&&c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-600",children:"Identity Registered:"}),c.jsx("span",{className:l.isRegistered?"text-green-600":"text-red-600",children:l.isRegistered?"Yes":"No"})]}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-600",children:"KYC Verified:"}),c.jsx("span",{className:l.hasValidKYC?"text-green-600":"text-red-600",children:l.hasValidKYC?"Yes":"No"})]}),l.kycData&&c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-600",children:"KYC Expires:"}),c.jsx("span",{className:"text-gray-900",children:(y==null?void 0:y.getKYCTimeToExpiry(l))||"Unknown"})]}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-600",children:"Last Checked:"}),c.jsx("span",{className:"text-gray-600",children:new Date(l.lastChecked).toLocaleTimeString()})]})]}),n&&l&&!l.canTrade&&c.jsxs("div",{className:"space-y-3",children:[!l.isRegistered&&c.jsxs(ps,{children:[c.jsx(ed,{className:"h-4 w-4"}),c.jsx(fs,{children:"You need to register for KYC verification to start trading."})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(te,{onClick:T,disabled:d,className:"w-full",children:d?c.jsxs("div",{className:"flex items-center",children:[c.jsx(Sr,{className:"w-4 h-4 animate-spin mr-2"}),"Registering..."]}):c.jsxs("div",{className:"flex items-center",children:[c.jsx(cS,{className:"w-4 h-4 mr-2"}),l.isRegistered?"Complete KYC":"Start KYC Registration"]})}),c.jsxs(te,{onClick:()=>v(!0),variant:"outline",className:"w-full",children:[c.jsx(Sa,{className:"w-4 h-4 mr-2"}),"Enhanced KYC (IPFS)"]})]})]}),(l==null?void 0:l.canTrade)&&c.jsxs(ps,{className:"border-green-200 bg-green-50",children:[c.jsx(Ds,{className:"h-4 w-4 text-green-600"}),c.jsx(fs,{className:"text-green-800",children:"Your account is fully verified and ready for trading!"})]}),y&&c.jsxs("div",{className:"pt-3 border-t",children:[c.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Contract Addresses:"}),c.jsx("div",{className:"space-y-1",children:Object.entries(y.getContractAddresses()).map(([P,L])=>c.jsxs("div",{className:"flex items-center justify-between text-xs",children:[c.jsx("span",{className:"text-gray-600",children:P.replace(/_/g," ")}),c.jsxs("a",{href:`https://Flowscan.xyz/address/${L}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-blue-600 hover:underline",children:[N(L),c.jsx(_p,{className:"w-3 h-3 ml-1"})]})]},P))})]}),c.jsx(n8e,{isOpen:b,onClose:()=>v(!1),userAddress:g,onKYCComplete:P=>{P&&(v(!1),x(),le.success("Enhanced KYC completed successfully!"))}})]})]})},cF=({children:t,requiresKYC:e=!0,transferDetails:n,onComplianceVerified:r,onComplianceFailed:s,blockingMode:i=!1,customMessage:a})=>{var v,g;const{provider:o,signer:l,account:u}=ir(),[d,p]=A.useState({isChecking:!1,isCompliant:!1,showComplianceModal:!1,hasChecked:!1}),[f,h]=A.useState(null);A.useEffect(()=>{if(o){const x=uT(o,l);h(x)}},[o,l]),A.useEffect(()=>{f&&u&&e&&y()},[f,u,e]);const y=async()=>{if(!(!f||!u)){p(x=>({...x,isChecking:!0}));try{const x=await f.checkComplianceStatus(u);let T;n&&(T=await f.validateTransfer(n.fromAddress,n.toAddress,n.amount));const I=x.canTrade&&(T?T.canTransfer:!0);if(p(C=>({...C,isChecking:!1,isCompliant:I,complianceStatus:x,transferValidation:T,hasChecked:!0,showComplianceModal:!I&&i})),I&&r)r();else if(!I&&s){const C=(T==null?void 0:T.reason)||"KYC verification required";s(C)}}catch(x){console.error("Compliance check failed:",x),p(T=>({...T,isChecking:!1,isCompliant:!1,hasChecked:!0,showComplianceModal:i})),s&&s("Unable to verify compliance status")}}},m=()=>{p(x=>({...x,showComplianceModal:!1})),setTimeout(()=>{y()},1e3)},b=()=>{p(x=>({...x,showComplianceModal:!1}))};return d.isChecking&&i?c.jsx("div",{className:"flex items-center justify-center p-4",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Sa,{className:"w-5 h-5 animate-pulse text-blue-500"}),c.jsx("span",{className:"text-sm text-gray-600",children:"Checking compliance..."})]})}):!i&&d.hasChecked&&!d.isCompliant?c.jsxs("div",{className:"space-y-3",children:[c.jsxs(ps,{className:"border-yellow-200 bg-yellow-50",children:[c.jsx(d0,{className:"h-4 w-4 text-yellow-600"}),c.jsxs(fs,{className:"text-yellow-800",children:[a||((v=d.transferValidation)==null?void 0:v.reason)||"KYC verification required for this action",((g=d.transferValidation)==null?void 0:g.requiresAction)&&c.jsx("div",{className:"mt-1 text-sm",children:d.transferValidation.requiresAction})]})]}),t]}):i&&d.hasChecked&&!d.isCompliant?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 bg-gray-100 bg-opacity-75 flex items-center justify-center z-10 rounded-lg",children:c.jsxs("div",{className:"text-center p-4",children:[c.jsx(Sa,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),c.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Compliance verification required"}),c.jsx(te,{size:"sm",onClick:()=>p(x=>({...x,showComplianceModal:!0})),children:"Verify Compliance"})]})}),c.jsx("div",{className:"opacity-50 pointer-events-none",children:t})]}),c.jsx(qi,{open:d.showComplianceModal,onOpenChange:b,children:c.jsxs(yi,{className:"max-w-md",children:[c.jsxs(gi,{children:[c.jsxs(vi,{className:"flex items-center space-x-2",children:[c.jsx(Sa,{className:"w-5 h-5"}),c.jsx("span",{children:"Compliance Verification Required"})]}),c.jsx(ku,{children:a||"Complete KYC verification to proceed with this action."})]}),c.jsxs("div",{className:"space-y-4",children:[d.transferValidation&&!d.transferValidation.canTransfer&&c.jsxs(ps,{className:"border-red-200 bg-red-50",children:[c.jsx(d0,{className:"h-4 w-4 text-red-600"}),c.jsxs(fs,{className:"text-red-800",children:[c.jsx("strong",{children:"Transfer Blocked:"})," ",d.transferValidation.reason,d.transferValidation.requiresAction&&c.jsxs("div",{className:"mt-1",children:[c.jsx("strong",{children:"Action Required:"})," ",d.transferValidation.requiresAction]})]})]}),c.jsx(r8e,{userAddress:u,onComplianceVerified:x=>{x.canTrade&&(m(),le.success("Compliance verified! You can now proceed."))},showActions:!0,className:"border-0 shadow-none p-0"}),n&&c.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg text-sm",children:[c.jsx("h4",{className:"font-medium mb-2",children:"Transaction Details:"}),c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"From:"}),c.jsxs("span",{className:"font-mono",children:[n.fromAddress.substring(0,10),"..."]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"To:"}),c.jsxs("span",{className:"font-mono",children:[n.toAddress.substring(0,10),"..."]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Amount:"}),c.jsx("span",{children:n.amount})]}),n.tokenId&&c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Token ID:"}),c.jsx("span",{children:n.tokenId})]})]})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx(te,{variant:"outline",onClick:b,className:"flex-1",children:"Cancel"}),c.jsxs(te,{onClick:y,className:"flex-1",children:[c.jsx(cS,{className:"w-4 h-4 mr-2"}),"Recheck"]})]})]})]})})]}):c.jsx(c.Fragment,{children:t})},s8e="http://localhost:3001/api",Sx="0x1514000000000000000000000000000000000000",uF="0xF2104833d386a2734a4eB3B8ad6FC6812F29E38E",QQ=()=>{const{signer:t,address:e}=ir(),[n,r]=A.useState([]),[s,i]=A.useState(!1),[a,o]=A.useState("0");A.useEffect(()=>{t&&e&&l()},[t,e]);const l=async()=>{var f;if(e){i(!0);try{const h=await fetch(`${s8e}/verification/user/${e}/assets`);if(!h.ok)throw new Error("Failed to fetch assets");const y=await h.json(),m=((f=y.data)==null?void 0:f.assets)||y.assets||[],b=g=>/^0x[a-fA-F0-9]{40}$/.test(g),v=m.filter(g=>{const x=g.storyIpId&&b(g.storyIpId),T=g.status==="registered"||g.status==="used",I=g.licenseTermsId||g.licenseTxHash;return x&&T&&I}).map(g=>({ipId:g.storyIpId,tokenId:g.storyTokenId,contentHash:g.sha256Hash,ipMetadataURI:g.ipfsUrl,createdAt:g.createdAt,claimableRevenue:"0",loading:!0}));r(v),v.length>0?await u(v):le.info("No registered IP assets found. Register an asset to start earning royalties!")}catch(h){console.error("Error fetching user assets:",h),le.error("Failed to fetch your IP assets.")}finally{i(!1)}}},u=async f=>{var b,v;if(!t||!e)return;let h=Bn.from(0);const y=["function balanceOf(address account) view returns (uint256)"],m=t.provider;for(const g of f)try{console.log(" Querying claimable revenue for:",{ipId:g.ipId,claimer:e,token:Sx});const x=await X1.getClaimableRevenue(g.ipId,e,Sx,t);console.log(" Vault claimable revenue:",{ipId:g.ipId,revenue:x,formatted:_e(x)});let T="0";try{const C=await new nt(uF,y,m).balanceOf(g.ipId);T=C.toString(),console.log(" Direct wallet balance (MERC20):",{ipId:g.ipId,balance:_e(C)})}catch(I){console.log("Could not fetch wallet balance:",I)}r(I=>I.map(C=>C.ipId===g.ipId?{...C,claimableRevenue:x,walletBalance:T,loading:!1}:C)),h=h.add(Bn.from(x))}catch(x){((b=x==null?void 0:x.message)==null?void 0:b.includes("is not registered"))||((v=x==null?void 0:x.message)==null?void 0:v.includes("royalty vault"))?console.log(` IP ${g.ipId} has no royalty vault yet (no royalties earned)`):console.error(`Error fetching royalty for IP ${g.ipId}:`,x);let I="0";try{I=(await new nt(uF,y,m).balanceOf(g.ipId)).toString()}catch{}r(C=>C.map(N=>N.ipId===g.ipId?{...N,claimableRevenue:"0",walletBalance:I,loading:!1}:N))}o(_e(h))},d=async f=>{var y,m,b;if(!t||!e)return;const h=f.claimableRevenue||"0";if(Bn.from(h).eq(0)){le.warning("No claimable royalties for this IP.");return}r(v=>v.map(g=>g.ipId===f.ipId?{...g,loading:!0}:g));try{console.log(" Claiming revenue:",{ipId:f.ipId,claimer:e,amount:_e(h),tokenAddress:Sx}),await X1.claimRevenue(f.ipId,e,Sx,t),le.success(`Successfully claimed ${_e(h)} WIP tokens!`),await u(n)}catch(v){console.error("Error claiming revenue:",v),(y=v==null?void 0:v.message)!=null&&y.includes("user rejected")?le.error("Transaction rejected by user."):(m=v==null?void 0:v.message)!=null&&m.includes("not registered")||(b=v==null?void 0:v.message)!=null&&b.includes("vault")?le.error("This IP has no royalty vault. Royalties may need time to settle."):le.error(`Failed to claim revenue: ${(v==null?void 0:v.message)||"Unknown error"}`)}finally{r(v=>v.map(g=>g.ipId===f.ipId?{...g,loading:!1}:g))}},p=async()=>{const f=n.filter(h=>h.claimableRevenue&&Bn.from(h.claimableRevenue).gt(0));if(f.length===0){le.warning("No claimable royalties available.");return}i(!0);for(const h of f)await d(h);i(!1)};return c.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Royalty Dashboard"}),c.jsx("p",{className:"text-muted-foreground mt-1",children:"Track and claim royalties from your registered IP assets"})]}),c.jsx(te,{onClick:l,variant:"outline",disabled:s,children:s?c.jsx(hi,{className:"w-4 h-4 animate-spin"}):"Refresh"})]}),c.jsxs(me,{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200",children:[c.jsxs(yt,{children:[c.jsxs(gt,{className:"flex items-center gap-2",children:[c.jsx(jc,{className:"w-5 h-5 text-blue-600"}),"Total Claimable Revenue"]}),c.jsx(Pr,{children:"Across all your IP assets"})]}),c.jsx(ye,{children:c.jsxs("div",{className:"flex items-end justify-between",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-4xl font-bold text-blue-600",children:s?c.jsx(hi,{className:"w-8 h-8 animate-spin"}):`${parseFloat(a).toFixed(6)} IP`}),c.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[n.length," registered assets"]})]}),c.jsx(te,{onClick:p,disabled:s||parseFloat(a)===0,size:"lg",children:"Claim All"})]})})]}),c.jsxs("div",{children:[c.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[c.jsx(Rs,{className:"w-5 h-5"}),"Your IP Assets"]}),s&&n.length===0?c.jsx(me,{children:c.jsx(ye,{className:"flex items-center justify-center py-12",children:c.jsx(hi,{className:"w-8 h-8 animate-spin text-muted-foreground"})})}):n.length===0?c.jsx(me,{children:c.jsx(ye,{className:"text-center py-12",children:c.jsx("p",{className:"text-muted-foreground",children:"No IP assets found. Register your first IP asset to start earning royalties!"})})}):c.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:n.map(f=>c.jsxs(me,{className:"hover:shadow-lg transition-shadow",children:[c.jsxs(yt,{children:[c.jsxs(gt,{className:"text-base truncate",title:f.ipId,children:["IP Asset #",f.tokenId]}),c.jsxs(Pr,{className:"truncate",title:f.ipId,children:[f.ipId.slice(0,10),"...",f.ipId.slice(-8)]})]}),c.jsxs(ye,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-muted-foreground",children:"Vault Balance (WIP)"}),c.jsx("p",{className:"text-xl font-bold text-green-600",children:f.loading?c.jsx(hi,{className:"w-5 h-5 animate-spin"}):`${_e(f.claimableRevenue||"0")} WIP`})]}),c.jsxs("div",{className:"pt-2 border-t",children:[c.jsx("p",{className:"text-xs text-muted-foreground",children:"Wallet Balance (MERC20)"}),c.jsx("p",{className:"text-xl font-bold text-blue-600",children:f.loading?c.jsx(hi,{className:"w-5 h-5 animate-spin"}):`${_e(f.walletBalance||"0")} MERC20`}),c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Direct payments sent to this IP"})]})]}),c.jsx(te,{onClick:()=>d(f),disabled:f.loading||!f.claimableRevenue||Bn.from(f.claimableRevenue).eq(0),className:"w-full",children:f.loading?c.jsxs(c.Fragment,{children:[c.jsx(hi,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):"Claim from Vault"}),c.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[c.jsxs("p",{children:["Registered: ",new Date(f.createdAt).toLocaleDateString()]}),c.jsxs("p",{className:"truncate",title:f.contentHash,children:["Hash: ",f.contentHash.slice(0,12),"..."]})]})]})]},f.ipId))})]})]})};var wy=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},i8e={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Nu,l5,jF,a8e=(jF=class{constructor(){ut(this,Nu,i8e);ut(this,l5,!1)}setTimeoutProvider(t){Be(this,Nu,t)}setTimeout(t,e){return q(this,Nu).setTimeout(t,e)}clearTimeout(t){q(this,Nu).clearTimeout(t)}setInterval(t,e){return q(this,Nu).setInterval(t,e)}clearInterval(t){q(this,Nu).clearInterval(t)}},Nu=new WeakMap,l5=new WeakMap,jF),Tp=new a8e;function o8e(t){setTimeout(t,0)}var bf=typeof window>"u"||"Deno"in globalThis;function Ws(){}function l8e(t,e){return typeof t=="function"?t(e):t}function zE(t){return typeof t=="number"&&t>=0&&t!==1/0}function eee(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ud(t,e){return typeof t=="function"?t(e):t}function Ta(t,e){return typeof t=="function"?t(e):t}function dF(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:o}=t;if(a){if(r){if(e.queryHash!==XM(a,e.options))return!1}else if(!kv(e.queryKey,a))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||s&&s!==e.state.fetchStatus||i&&!i(e))}function pF(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(xf(e.options.mutationKey)!==xf(i))return!1}else if(!kv(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function XM(t,e){return((e==null?void 0:e.queryKeyHashFn)||xf)(t)}function xf(t){return JSON.stringify(t,(e,n)=>VE(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function kv(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>kv(t[n],e[n])):!1}var c8e=Object.prototype.hasOwnProperty;function tee(t,e){if(t===e)return t;const n=fF(t)&&fF(e);if(!n&&!(VE(t)&&VE(e)))return e;const s=(n?t:Object.keys(t)).length,i=n?e:Object.keys(e),a=i.length,o=n?new Array(a):{};let l=0;for(let u=0;u<a;u++){const d=n?u:i[u],p=t[d],f=e[d];if(p===f){o[d]=p,(n?u<s:c8e.call(t,d))&&l++;continue}if(p===null||f===null||typeof p!="object"||typeof f!="object"){o[d]=f;continue}const h=tee(p,f);o[d]=h,h===p&&l++}return s===a&&l===s?t:o}function dT(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function fF(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function VE(t){if(!hF(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!hF(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function hF(t){return Object.prototype.toString.call(t)==="[object Object]"}function u8e(t){return new Promise(e=>{Tp.setTimeout(e,t)})}function HE(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?tee(t,e):e}function d8e(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function p8e(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var JM=Symbol();function nee(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===JM?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function ree(t,e){return typeof t=="function"?t(...e):!!t}var Ap,Eu,Yh,_F,f8e=(_F=class extends wy{constructor(){super();ut(this,Ap);ut(this,Eu);ut(this,Yh);Be(this,Yh,e=>{if(!bf&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){q(this,Eu)||this.setEventListener(q(this,Yh))}onUnsubscribe(){var e;this.hasListeners()||((e=q(this,Eu))==null||e.call(this),Be(this,Eu,void 0))}setEventListener(e){var n;Be(this,Yh,e),(n=q(this,Eu))==null||n.call(this),Be(this,Eu,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){q(this,Ap)!==e&&(Be(this,Ap,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof q(this,Ap)=="boolean"?q(this,Ap):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ap=new WeakMap,Eu=new WeakMap,Yh=new WeakMap,_F),QM=new f8e;function WE(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}var h8e=o8e;function m8e(){let t=[],e=0,n=o=>{o()},r=o=>{o()},s=h8e;const i=o=>{e?t.push(o):s(()=>{n(o)})},a=()=>{const o=t;t=[],o.length&&s(()=>{r(()=>{o.forEach(l=>{n(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||a()}return l},batchCalls:o=>(...l)=>{i(()=>{o(...l)})},schedule:i,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{s=o}}}var Ur=m8e(),qh,Su,Zh,DF,y8e=(DF=class extends wy{constructor(){super();ut(this,qh,!0);ut(this,Su);ut(this,Zh);Be(this,Zh,e=>{if(!bf&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){q(this,Su)||this.setEventListener(q(this,Zh))}onUnsubscribe(){var e;this.hasListeners()||((e=q(this,Su))==null||e.call(this),Be(this,Su,void 0))}setEventListener(e){var n;Be(this,Zh,e),(n=q(this,Su))==null||n.call(this),Be(this,Su,e(this.setOnline.bind(this)))}setOnline(e){q(this,qh)!==e&&(Be(this,qh,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return q(this,qh)}},qh=new WeakMap,Su=new WeakMap,Zh=new WeakMap,DF),pT=new y8e;function g8e(t){return Math.min(1e3*2**t,3e4)}function see(t){return(t??"online")==="online"?pT.isOnline():!0}var GE=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function iee(t){let e=!1,n=0,r;const s=WE(),i=()=>s.status!=="pending",a=m=>{var b;if(!i()){const v=new GE(m);f(v),(b=t.onCancel)==null||b.call(t,v)}},o=()=>{e=!0},l=()=>{e=!1},u=()=>QM.isFocused()&&(t.networkMode==="always"||pT.isOnline())&&t.canRun(),d=()=>see(t.networkMode)&&t.canRun(),p=m=>{i()||(r==null||r(),s.resolve(m))},f=m=>{i()||(r==null||r(),s.reject(m))},h=()=>new Promise(m=>{var b;r=v=>{(i()||u())&&m(v)},(b=t.onPause)==null||b.call(t)}).then(()=>{var m;r=void 0,i()||(m=t.onContinue)==null||m.call(t)}),y=()=>{if(i())return;let m;const b=n===0?t.initialPromise:void 0;try{m=b??t.fn()}catch(v){m=Promise.reject(v)}Promise.resolve(m).then(p).catch(v=>{var C;if(i())return;const g=t.retry??(bf?0:3),x=t.retryDelay??g8e,T=typeof x=="function"?x(n,v):x,I=g===!0||typeof g=="number"&&n<g||typeof g=="function"&&g(n,v);if(e||!I){f(v);return}n++,(C=t.onFail)==null||C.call(t,n,v),u8e(T).then(()=>u()?void 0:h()).then(()=>{e?f(v):y()})})};return{promise:s,status:()=>s.status,cancel:a,continue:()=>(r==null||r(),s),cancelRetry:o,continueRetry:l,canStart:d,start:()=>(d()?y():h().then(y),s)}}var Ip,OF,aee=(OF=class{constructor(){ut(this,Ip)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),zE(this.gcTime)&&Be(this,Ip,Tp.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(bf?1/0:5*60*1e3))}clearGcTimeout(){q(this,Ip)&&(Tp.clearTimeout(q(this,Ip)),Be(this,Ip,void 0))}},Ip=new WeakMap,OF),kp,Xh,wa,Cp,qr,Cv,Np,ao,Ql,LF,v8e=(LF=class extends aee{constructor(e){super();ut(this,ao);ut(this,kp);ut(this,Xh);ut(this,wa);ut(this,Cp);ut(this,qr);ut(this,Cv);ut(this,Np);Be(this,Np,!1),Be(this,Cv,e.defaultOptions),this.setOptions(e.options),this.observers=[],Be(this,Cp,e.client),Be(this,wa,q(this,Cp).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Be(this,kp,yF(this.options)),this.state=e.state??q(this,kp),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=q(this,qr))==null?void 0:e.promise}setOptions(e){if(this.options={...q(this,Cv),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=yF(this.options);n.data!==void 0&&(this.setState(mF(n.data,n.dataUpdatedAt)),Be(this,kp,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&q(this,wa).remove(this)}setData(e,n){const r=HE(this.state.data,e,this.options);return $t(this,ao,Ql).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){$t(this,ao,Ql).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=q(this,qr))==null?void 0:r.promise;return(s=q(this,qr))==null||s.cancel(e),n?n.then(Ws).catch(Ws):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(q(this,kp))}isActive(){return this.observers.some(e=>Ta(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===JM||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>ud(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!eee(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=q(this,qr))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=q(this,qr))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),q(this,wa).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(q(this,qr)&&(q(this,Np)?q(this,qr).cancel({revert:!0}):q(this,qr).cancelRetry()),this.scheduleGc()),q(this,wa).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||$t(this,ao,Ql).call(this,{type:"invalidate"})}async fetch(e,n){var l,u,d,p,f,h,y,m,b,v,g,x;if(this.state.fetchStatus!=="idle"&&((l=q(this,qr))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(q(this,qr))return q(this,qr).continueRetry(),q(this,qr).promise}if(e&&this.setOptions(e),!this.options.queryFn){const T=this.observers.find(I=>I.options.queryFn);T&&this.setOptions(T.options)}const r=new AbortController,s=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(Be(this,Np,!0),r.signal)})},i=()=>{const T=nee(this.options,n),C=(()=>{const N={client:q(this,Cp),queryKey:this.queryKey,meta:this.meta};return s(N),N})();return Be(this,Np,!1),this.options.persister?this.options.persister(T,C,this):T(C)},o=(()=>{const T={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:q(this,Cp),state:this.state,fetchFn:i};return s(T),T})();(u=this.options.behavior)==null||u.onFetch(o,this),Be(this,Xh,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&$t(this,ao,Ql).call(this,{type:"fetch",meta:(p=o.fetchOptions)==null?void 0:p.meta}),Be(this,qr,iee({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,onCancel:T=>{T instanceof GE&&T.revert&&this.setState({...q(this,Xh),fetchStatus:"idle"}),r.abort()},onFail:(T,I)=>{$t(this,ao,Ql).call(this,{type:"failed",failureCount:T,error:I})},onPause:()=>{$t(this,ao,Ql).call(this,{type:"pause"})},onContinue:()=>{$t(this,ao,Ql).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const T=await q(this,qr).start();if(T===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(T),(h=(f=q(this,wa).config).onSuccess)==null||h.call(f,T,this),(m=(y=q(this,wa).config).onSettled)==null||m.call(y,T,this.state.error,this),T}catch(T){if(T instanceof GE){if(T.silent)return q(this,qr).promise;if(T.revert){if(this.state.data===void 0)throw T;return this.state.data}}throw $t(this,ao,Ql).call(this,{type:"error",error:T}),(v=(b=q(this,wa).config).onError)==null||v.call(b,T,this),(x=(g=q(this,wa).config).onSettled)==null||x.call(g,this.state.data,T,this),T}finally{this.scheduleGc()}}},kp=new WeakMap,Xh=new WeakMap,wa=new WeakMap,Cp=new WeakMap,qr=new WeakMap,Cv=new WeakMap,Np=new WeakMap,ao=new WeakSet,Ql=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...oee(r.data,this.options),fetchMeta:e.meta??null};case"success":const s={...r,...mF(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Be(this,Xh,e.manual?s:void 0),s;case"error":const i=e.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Ur.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),q(this,wa).notify({query:this,type:"updated",action:e})})},LF);function oee(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:see(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function mF(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function yF(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var li,Jt,Nv,Fs,Ep,Jh,oc,Ru,Ev,Qh,em,Sp,Rp,Pu,tm,vn,dg,KE,YE,qE,ZE,XE,JE,QE,lee,$F,b8e=($F=class extends wy{constructor(e,n){super();ut(this,vn);ut(this,li);ut(this,Jt);ut(this,Nv);ut(this,Fs);ut(this,Ep);ut(this,Jh);ut(this,oc);ut(this,Ru);ut(this,Ev);ut(this,Qh);ut(this,em);ut(this,Sp);ut(this,Rp);ut(this,Pu);ut(this,tm,new Set);this.options=n,Be(this,li,e),Be(this,Ru,null),Be(this,oc,WE()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(q(this,Jt).addObserver(this),gF(q(this,Jt),this.options)?$t(this,vn,dg).call(this):this.updateResult(),$t(this,vn,ZE).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return e5(q(this,Jt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return e5(q(this,Jt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,$t(this,vn,XE).call(this),$t(this,vn,JE).call(this),q(this,Jt).removeObserver(this)}setOptions(e){const n=this.options,r=q(this,Jt);if(this.options=q(this,li).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ta(this.options.enabled,q(this,Jt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");$t(this,vn,QE).call(this),q(this,Jt).setOptions(this.options),n._defaulted&&!dT(this.options,n)&&q(this,li).getQueryCache().notify({type:"observerOptionsUpdated",query:q(this,Jt),observer:this});const s=this.hasListeners();s&&vF(q(this,Jt),r,this.options,n)&&$t(this,vn,dg).call(this),this.updateResult(),s&&(q(this,Jt)!==r||Ta(this.options.enabled,q(this,Jt))!==Ta(n.enabled,q(this,Jt))||ud(this.options.staleTime,q(this,Jt))!==ud(n.staleTime,q(this,Jt)))&&$t(this,vn,KE).call(this);const i=$t(this,vn,YE).call(this);s&&(q(this,Jt)!==r||Ta(this.options.enabled,q(this,Jt))!==Ta(n.enabled,q(this,Jt))||i!==q(this,Pu))&&$t(this,vn,qE).call(this,i)}getOptimisticResult(e){const n=q(this,li).getQueryCache().build(q(this,li),e),r=this.createResult(n,e);return w8e(this,r)&&(Be(this,Fs,r),Be(this,Jh,this.options),Be(this,Ep,q(this,Jt).state)),r}getCurrentResult(){return q(this,Fs)}trackResult(e,n){return new Proxy(e,{get:(r,s)=>(this.trackProp(s),n==null||n(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&q(this,oc).status==="pending"&&q(this,oc).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,s))})}trackProp(e){q(this,tm).add(e)}getCurrentQuery(){return q(this,Jt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=q(this,li).defaultQueryOptions(e),r=q(this,li).getQueryCache().build(q(this,li),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return $t(this,vn,dg).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),q(this,Fs)))}createResult(e,n){var L;const r=q(this,Jt),s=this.options,i=q(this,Fs),a=q(this,Ep),o=q(this,Jh),u=e!==r?e.state:q(this,Nv),{state:d}=e;let p={...d},f=!1,h;if(n._optimisticResults){const U=this.hasListeners(),$=!U&&gF(e,n),B=U&&vF(e,r,n,s);($||B)&&(p={...p,...oee(d.data,e.options)}),n._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:y,errorUpdatedAt:m,status:b}=p;h=p.data;let v=!1;if(n.placeholderData!==void 0&&h===void 0&&b==="pending"){let U;i!=null&&i.isPlaceholderData&&n.placeholderData===(o==null?void 0:o.placeholderData)?(U=i.data,v=!0):U=typeof n.placeholderData=="function"?n.placeholderData((L=q(this,em))==null?void 0:L.state.data,q(this,em)):n.placeholderData,U!==void 0&&(b="success",h=HE(i==null?void 0:i.data,U,n),f=!0)}if(n.select&&h!==void 0&&!v)if(i&&h===(a==null?void 0:a.data)&&n.select===q(this,Ev))h=q(this,Qh);else try{Be(this,Ev,n.select),h=n.select(h),h=HE(i==null?void 0:i.data,h,n),Be(this,Qh,h),Be(this,Ru,null)}catch(U){Be(this,Ru,U)}q(this,Ru)&&(y=q(this,Ru),h=q(this,Qh),m=Date.now(),b="error");const g=p.fetchStatus==="fetching",x=b==="pending",T=b==="error",I=x&&g,C=h!==void 0,P={status:b,fetchStatus:p.fetchStatus,isPending:x,isSuccess:b==="success",isError:T,isInitialLoading:I,isLoading:I,data:h,dataUpdatedAt:p.dataUpdatedAt,error:y,errorUpdatedAt:m,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>u.dataUpdateCount||p.errorUpdateCount>u.errorUpdateCount,isFetching:g,isRefetching:g&&!x,isLoadingError:T&&!C,isPaused:p.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:T&&C,isStale:ej(e,n),refetch:this.refetch,promise:q(this,oc),isEnabled:Ta(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const U=_=>{P.status==="error"?_.reject(P.error):P.data!==void 0&&_.resolve(P.data)},$=()=>{const _=Be(this,oc,P.promise=WE());U(_)},B=q(this,oc);switch(B.status){case"pending":e.queryHash===r.queryHash&&U(B);break;case"fulfilled":(P.status==="error"||P.data!==B.value)&&$();break;case"rejected":(P.status!=="error"||P.error!==B.reason)&&$();break}}return P}updateResult(){const e=q(this,Fs),n=this.createResult(q(this,Jt),this.options);if(Be(this,Ep,q(this,Jt).state),Be(this,Jh,this.options),q(this,Ep).data!==void 0&&Be(this,em,q(this,Jt)),dT(n,e))return;Be(this,Fs,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!q(this,tm).size)return!0;const a=new Set(i??q(this,tm));return this.options.throwOnError&&a.add("error"),Object.keys(q(this,Fs)).some(o=>{const l=o;return q(this,Fs)[l]!==e[l]&&a.has(l)})};$t(this,vn,lee).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&$t(this,vn,ZE).call(this)}},li=new WeakMap,Jt=new WeakMap,Nv=new WeakMap,Fs=new WeakMap,Ep=new WeakMap,Jh=new WeakMap,oc=new WeakMap,Ru=new WeakMap,Ev=new WeakMap,Qh=new WeakMap,em=new WeakMap,Sp=new WeakMap,Rp=new WeakMap,Pu=new WeakMap,tm=new WeakMap,vn=new WeakSet,dg=function(e){$t(this,vn,QE).call(this);let n=q(this,Jt).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Ws)),n},KE=function(){$t(this,vn,XE).call(this);const e=ud(this.options.staleTime,q(this,Jt));if(bf||q(this,Fs).isStale||!zE(e))return;const r=eee(q(this,Fs).dataUpdatedAt,e)+1;Be(this,Sp,Tp.setTimeout(()=>{q(this,Fs).isStale||this.updateResult()},r))},YE=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(q(this,Jt)):this.options.refetchInterval)??!1},qE=function(e){$t(this,vn,JE).call(this),Be(this,Pu,e),!(bf||Ta(this.options.enabled,q(this,Jt))===!1||!zE(q(this,Pu))||q(this,Pu)===0)&&Be(this,Rp,Tp.setInterval(()=>{(this.options.refetchIntervalInBackground||QM.isFocused())&&$t(this,vn,dg).call(this)},q(this,Pu)))},ZE=function(){$t(this,vn,KE).call(this),$t(this,vn,qE).call(this,$t(this,vn,YE).call(this))},XE=function(){q(this,Sp)&&(Tp.clearTimeout(q(this,Sp)),Be(this,Sp,void 0))},JE=function(){q(this,Rp)&&(Tp.clearInterval(q(this,Rp)),Be(this,Rp,void 0))},QE=function(){const e=q(this,li).getQueryCache().build(q(this,li),this.options);if(e===q(this,Jt))return;const n=q(this,Jt);Be(this,Jt,e),Be(this,Nv,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},lee=function(e){Ur.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(q(this,Fs))}),q(this,li).getQueryCache().notify({query:q(this,Jt),type:"observerResultsUpdated"})})},$F);function x8e(t,e){return Ta(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function gF(t,e){return x8e(t,e)||t.state.data!==void 0&&e5(t,e,e.refetchOnMount)}function e5(t,e,n){if(Ta(e.enabled,t)!==!1&&ud(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&ej(t,e)}return!1}function vF(t,e,n,r){return(t!==e||Ta(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&ej(t,n)}function ej(t,e){return Ta(e.enabled,t)!==!1&&t.isStaleByTime(ud(e.staleTime,t))}function w8e(t,e){return!dT(t.getCurrentResult(),e)}function bF(t){return{onFetch:(e,n)=>{var d,p,f,h,y;const r=e.options,s=(f=(p=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:p.fetchMore)==null?void 0:f.direction,i=((h=e.state.data)==null?void 0:h.pages)||[],a=((y=e.state.data)==null?void 0:y.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const u=async()=>{let m=!1;const b=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},v=nee(e.options,e.fetchOptions),g=async(x,T,I)=>{if(m)return Promise.reject();if(T==null&&x.pages.length)return Promise.resolve(x);const N=(()=>{const $={client:e.client,queryKey:e.queryKey,pageParam:T,direction:I?"backward":"forward",meta:e.options.meta};return b($),$})(),P=await v(N),{maxPages:L}=e.options,U=I?p8e:d8e;return{pages:U(x.pages,P,L),pageParams:U(x.pageParams,T,L)}};if(s&&i.length){const x=s==="backward",T=x?T8e:xF,I={pages:i,pageParams:a},C=T(r,I);o=await g(I,C,x)}else{const x=t??i.length;do{const T=l===0?a[0]??r.initialPageParam:xF(r,o);if(l>0&&T==null)break;o=await g(o,T),l++}while(l<x)}return o};e.options.persister?e.fetchFn=()=>{var m,b;return(b=(m=e.options).persister)==null?void 0:b.call(m,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function xF(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function T8e(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Sv,sl,Bs,Pp,il,yu,FF,A8e=(FF=class extends aee{constructor(e){super();ut(this,il);ut(this,Sv);ut(this,sl);ut(this,Bs);ut(this,Pp);Be(this,Sv,e.client),this.mutationId=e.mutationId,Be(this,Bs,e.mutationCache),Be(this,sl,[]),this.state=e.state||cee(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){q(this,sl).includes(e)||(q(this,sl).push(e),this.clearGcTimeout(),q(this,Bs).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Be(this,sl,q(this,sl).filter(n=>n!==e)),this.scheduleGc(),q(this,Bs).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){q(this,sl).length||(this.state.status==="pending"?this.scheduleGc():q(this,Bs).remove(this))}continue(){var e;return((e=q(this,Pp))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,o,l,u,d,p,f,h,y,m,b,v,g,x,T,I,C,N,P,L;const n=()=>{$t(this,il,yu).call(this,{type:"continue"})},r={client:q(this,Sv),meta:this.options.meta,mutationKey:this.options.mutationKey};Be(this,Pp,iee({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(U,$)=>{$t(this,il,yu).call(this,{type:"failed",failureCount:U,error:$})},onPause:()=>{$t(this,il,yu).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>q(this,Bs).canRun(this)}));const s=this.state.status==="pending",i=!q(this,Pp).canStart();try{if(s)n();else{$t(this,il,yu).call(this,{type:"pending",variables:e,isPaused:i}),await((o=(a=q(this,Bs).config).onMutate)==null?void 0:o.call(a,e,this,r));const $=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,e,r));$!==this.state.context&&$t(this,il,yu).call(this,{type:"pending",context:$,variables:e,isPaused:i})}const U=await q(this,Pp).start();return await((p=(d=q(this,Bs).config).onSuccess)==null?void 0:p.call(d,U,e,this.state.context,this,r)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,U,e,this.state.context,r)),await((m=(y=q(this,Bs).config).onSettled)==null?void 0:m.call(y,U,null,this.state.variables,this.state.context,this,r)),await((v=(b=this.options).onSettled)==null?void 0:v.call(b,U,null,e,this.state.context,r)),$t(this,il,yu).call(this,{type:"success",data:U}),U}catch(U){try{throw await((x=(g=q(this,Bs).config).onError)==null?void 0:x.call(g,U,e,this.state.context,this,r)),await((I=(T=this.options).onError)==null?void 0:I.call(T,U,e,this.state.context,r)),await((N=(C=q(this,Bs).config).onSettled)==null?void 0:N.call(C,void 0,U,this.state.variables,this.state.context,this,r)),await((L=(P=this.options).onSettled)==null?void 0:L.call(P,void 0,U,e,this.state.context,r)),U}finally{$t(this,il,yu).call(this,{type:"error",error:U})}}finally{q(this,Bs).runNext(this)}}},Sv=new WeakMap,sl=new WeakMap,Bs=new WeakMap,Pp=new WeakMap,il=new WeakSet,yu=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Ur.batch(()=>{q(this,sl).forEach(r=>{r.onMutationUpdate(e)}),q(this,Bs).notify({mutation:this,type:"updated",action:e})})},FF);function cee(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var lc,oo,Rv,BF,I8e=(BF=class extends wy{constructor(e={}){super();ut(this,lc);ut(this,oo);ut(this,Rv);this.config=e,Be(this,lc,new Set),Be(this,oo,new Map),Be(this,Rv,0)}build(e,n,r){const s=new A8e({client:e,mutationCache:this,mutationId:++bb(this,Rv)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){q(this,lc).add(e);const n=Rx(e);if(typeof n=="string"){const r=q(this,oo).get(n);r?r.push(e):q(this,oo).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(q(this,lc).delete(e)){const n=Rx(e);if(typeof n=="string"){const r=q(this,oo).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&q(this,oo).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Rx(e);if(typeof n=="string"){const r=q(this,oo).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=Rx(e);if(typeof n=="string"){const s=(r=q(this,oo).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ur.batch(()=>{q(this,lc).forEach(e=>{this.notify({type:"removed",mutation:e})}),q(this,lc).clear(),q(this,oo).clear()})}getAll(){return Array.from(q(this,lc))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>pF(n,r))}findAll(e={}){return this.getAll().filter(n=>pF(e,n))}notify(e){Ur.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Ur.batch(()=>Promise.all(e.map(n=>n.continue().catch(Ws))))}},lc=new WeakMap,oo=new WeakMap,Rv=new WeakMap,BF);function Rx(t){var e;return(e=t.options.scope)==null?void 0:e.id}var cc,Mu,ci,uc,Ec,Sw,t5,UF,k8e=(UF=class extends wy{constructor(n,r){super();ut(this,Ec);ut(this,cc);ut(this,Mu);ut(this,ci);ut(this,uc);Be(this,cc,n),this.setOptions(r),this.bindMethods(),$t(this,Ec,Sw).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=q(this,cc).defaultMutationOptions(n),dT(this.options,r)||q(this,cc).getMutationCache().notify({type:"observerOptionsUpdated",mutation:q(this,ci),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&xf(r.mutationKey)!==xf(this.options.mutationKey)?this.reset():((s=q(this,ci))==null?void 0:s.state.status)==="pending"&&q(this,ci).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=q(this,ci))==null||n.removeObserver(this)}onMutationUpdate(n){$t(this,Ec,Sw).call(this),$t(this,Ec,t5).call(this,n)}getCurrentResult(){return q(this,Mu)}reset(){var n;(n=q(this,ci))==null||n.removeObserver(this),Be(this,ci,void 0),$t(this,Ec,Sw).call(this),$t(this,Ec,t5).call(this)}mutate(n,r){var s;return Be(this,uc,r),(s=q(this,ci))==null||s.removeObserver(this),Be(this,ci,q(this,cc).getMutationCache().build(q(this,cc),this.options)),q(this,ci).addObserver(this),q(this,ci).execute(n)}},cc=new WeakMap,Mu=new WeakMap,ci=new WeakMap,uc=new WeakMap,Ec=new WeakSet,Sw=function(){var r;const n=((r=q(this,ci))==null?void 0:r.state)??cee();Be(this,Mu,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},t5=function(n){Ur.batch(()=>{var r,s,i,a,o,l,u,d;if(q(this,uc)&&this.hasListeners()){const p=q(this,Mu).variables,f=q(this,Mu).context,h={client:q(this,cc),meta:this.options.meta,mutationKey:this.options.mutationKey};(n==null?void 0:n.type)==="success"?((s=(r=q(this,uc)).onSuccess)==null||s.call(r,n.data,p,f,h),(a=(i=q(this,uc)).onSettled)==null||a.call(i,n.data,null,p,f,h)):(n==null?void 0:n.type)==="error"&&((l=(o=q(this,uc)).onError)==null||l.call(o,n.error,p,f,h),(d=(u=q(this,uc)).onSettled)==null||d.call(u,void 0,n.error,p,f,h))}this.listeners.forEach(p=>{p(q(this,Mu))})})},UF),al,zF,C8e=(zF=class extends wy{constructor(e={}){super();ut(this,al);this.config=e,Be(this,al,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??XM(s,n);let a=this.get(i);return a||(a=new v8e({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){q(this,al).has(e.queryHash)||(q(this,al).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=q(this,al).get(e.queryHash);n&&(e.destroy(),n===e&&q(this,al).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ur.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return q(this,al).get(e)}getAll(){return[...q(this,al).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>dF(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>dF(e,r)):n}notify(e){Ur.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Ur.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ur.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},al=new WeakMap,zF),lr,ju,_u,nm,rm,Du,sm,im,VF,N8e=(VF=class{constructor(t={}){ut(this,lr);ut(this,ju);ut(this,_u);ut(this,nm);ut(this,rm);ut(this,Du);ut(this,sm);ut(this,im);Be(this,lr,t.queryCache||new C8e),Be(this,ju,t.mutationCache||new I8e),Be(this,_u,t.defaultOptions||{}),Be(this,nm,new Map),Be(this,rm,new Map),Be(this,Du,0)}mount(){bb(this,Du)._++,q(this,Du)===1&&(Be(this,sm,QM.subscribe(async t=>{t&&(await this.resumePausedMutations(),q(this,lr).onFocus())})),Be(this,im,pT.subscribe(async t=>{t&&(await this.resumePausedMutations(),q(this,lr).onOnline())})))}unmount(){var t,e;bb(this,Du)._--,q(this,Du)===0&&((t=q(this,sm))==null||t.call(this),Be(this,sm,void 0),(e=q(this,im))==null||e.call(this),Be(this,im,void 0))}isFetching(t){return q(this,lr).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return q(this,ju).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=q(this,lr).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=q(this,lr).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(ud(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return q(this,lr).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=q(this,lr).get(r.queryHash),i=s==null?void 0:s.state.data,a=l8e(e,i);if(a!==void 0)return q(this,lr).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return Ur.batch(()=>q(this,lr).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=q(this,lr).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=q(this,lr);Ur.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=q(this,lr);return Ur.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Ur.batch(()=>q(this,lr).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Ws).catch(Ws)}invalidateQueries(t,e={}){return Ur.batch(()=>(q(this,lr).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Ur.batch(()=>q(this,lr).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Ws)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Ws)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=q(this,lr).build(this,e);return n.isStaleByTime(ud(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Ws).catch(Ws)}fetchInfiniteQuery(t){return t.behavior=bF(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Ws).catch(Ws)}ensureInfiniteQueryData(t){return t.behavior=bF(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return pT.isOnline()?q(this,ju).resumePausedMutations():Promise.resolve()}getQueryCache(){return q(this,lr)}getMutationCache(){return q(this,ju)}getDefaultOptions(){return q(this,_u)}setDefaultOptions(t){Be(this,_u,t)}setQueryDefaults(t,e){q(this,nm).set(xf(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...q(this,nm).values()],n={};return e.forEach(r=>{kv(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){q(this,rm).set(xf(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...q(this,rm).values()],n={};return e.forEach(r=>{kv(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...q(this,_u).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=XM(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===JM&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...q(this,_u).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){q(this,lr).clear(),q(this,ju).clear()}},lr=new WeakMap,ju=new WeakMap,_u=new WeakMap,nm=new WeakMap,rm=new WeakMap,Du=new WeakMap,sm=new WeakMap,im=new WeakMap,VF),uee=A.createContext(void 0),tj=t=>{const e=A.useContext(uee);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},E8e=({client:t,children:e})=>(A.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),c.jsx(uee.Provider,{value:t,children:e})),dee=A.createContext(!1),S8e=()=>A.useContext(dee);dee.Provider;function R8e(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var P8e=A.createContext(R8e()),M8e=()=>A.useContext(P8e),j8e=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},_8e=t=>{A.useEffect(()=>{t.clearReset()},[t])},D8e=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||ree(n,[t.error,r])),O8e=t=>{if(t.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},L8e=(t,e)=>t.isLoading&&t.isFetching&&!e,$8e=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,wF=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function F8e(t,e,n){var p,f,h,y,m;const r=S8e(),s=M8e(),i=tj(),a=i.defaultQueryOptions(t);(f=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_beforeQuery)==null||f.call(p,a),a._optimisticResults=r?"isRestoring":"optimistic",O8e(a),j8e(a,s),_8e(s);const o=!i.getQueryCache().get(a.queryHash),[l]=A.useState(()=>new e(i,a)),u=l.getOptimisticResult(a),d=!r&&t.subscribed!==!1;if(A.useSyncExternalStore(A.useCallback(b=>{const v=d?l.subscribe(Ur.batchCalls(b)):Ws;return l.updateResult(),v},[l,d]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),A.useEffect(()=>{l.setOptions(a)},[a,l]),$8e(a,u))throw wF(a,l,s);if(D8e({result:u,errorResetBoundary:s,throwOnError:a.throwOnError,query:i.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw u.error;if((y=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||y.call(h,a,u),a.experimental_prefetchInRender&&!bf&&L8e(u,r)){const b=o?wF(a,l,s):(m=i.getQueryCache().get(a.queryHash))==null?void 0:m.promise;b==null||b.catch(Ws).finally(()=>{l.updateResult()})}return a.notifyOnChangeProps?u:l.trackResult(u)}function pee(t,e){return F8e(t,b8e)}function B8e(t,e){const n=tj(),[r]=A.useState(()=>new k8e(n,t));A.useEffect(()=>{r.setOptions(t)},[r,t]);const s=A.useSyncExternalStore(A.useCallback(a=>r.subscribe(Ur.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=A.useCallback((a,o)=>{r.mutate(a,o).catch(Ws)},[r]);if(s.error&&ree(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}const nj=wn.create({baseURL:"http://localhost:3001/api"});nj.interceptors.request.use(t=>{const e=localStorage.getItem("jwt_token");return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));const rj=({walletAddress:t,status:e,page:n=1,limit:r=50})=>pee({queryKey:["userAssets",t,e,n,r],queryFn:async()=>{const s=new URLSearchParams;e&&s.append("status",e),s.append("page",n.toString()),s.append("limit",r.toString());const{data:i}=await nj.get(`/assets/wallet/${t}?${s}`);return i.data},enabled:!!t,staleTime:3e4,refetchOnWindowFocus:!0}),U8e=()=>{const t=tj();return B8e({mutationFn:async({assetId:e,licenseTermsId:n})=>{const{data:r}=await nj.post("/story/attach-license-to-asset",{assetId:e,licenseTermsId:n});return r.data},onSuccess:(e,n)=>{t.invalidateQueries({queryKey:["userAssets"]}),t.invalidateQueries({queryKey:["asset",n.assetId]})}})},z8e=[{licenseTermsId:"1",type:"commercial_remix",royalty:10,currency:"ETH"},{licenseTermsId:"2",type:"non_commercial",royalty:0,currency:"ETH"},{licenseTermsId:"55",type:"commercial_remix",royalty:15,currency:"USDC"}],V8e=()=>pee({queryKey:["licenseTerms"],queryFn:async()=>Promise.resolve(z8e),staleTime:1/0}),H8e=({onClose:t,onSelect:e,licenseOptions:n,isLoading:r,open:s})=>s?c.jsx(qi,{open:s,onOpenChange:t,children:c.jsxs(yi,{children:[c.jsx(gi,{children:c.jsx(vi,{children:"Select License Terms"})}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 py-4",children:n==null?void 0:n.map(i=>c.jsxs(me,{children:[c.jsx(yt,{children:c.jsx(gt,{children:i.type==="commercial_remix"?"Commercial Remix":"Non-Commercial"})}),c.jsxs(ye,{children:[c.jsxs("p",{children:["Royalty: ",i.royalty,"%"]}),c.jsxs("p",{children:["Currency: ",i.currency]}),c.jsx(te,{onClick:()=>e(i.licenseTermsId),disabled:r,className:"w-full mt-4",children:r?"Attaching...":"Select This License"})]})]},i.licenseTermsId))})]})}):null,W8e=({status:t})=>{const e={registered:"default",pending:"secondary",disputed:"destructive",rejected:"outline"}[t];return c.jsx(Ue,{variant:e,children:t})},n5=({asset:t})=>{const[e,n]=A.useState(!1),r=U8e(),{data:s}=V8e(),i=async o=>{try{await r.mutateAsync({assetId:t._id,licenseTermsId:o}),n(!1)}catch(l){console.error("Failed to attach license:",l)}},a=t.status==="registered"&&t.storyIpId&&!t.licenseTermsId;return c.jsxs(me,{children:[c.jsx(yt,{children:c.jsx("img",{src:t.ipfsUrl,alt:t.originalFilename,className:"rounded-md"})}),c.jsxs(ye,{children:[c.jsx(gt,{className:"text-lg font-bold mb-2",children:t.originalFilename}),c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsx(W8e,{status:t.status}),t.storyIpId?c.jsxs("div",{className:"text-xs",children:["IP ID: ",t.storyIpId.slice(0,10),"..."]}):null]}),t.licenseTermsId?c.jsxs(Ue,{variant:"secondary",children:["Licensed (#",t.licenseTermsId,")"]}):c.jsx(Ue,{variant:"outline",children:"No License"})]}),c.jsx(tX,{children:a&&c.jsx(te,{onClick:()=>n(!0),className:"w-full",children:"Attach License"})}),c.jsx(H8e,{open:e,onClose:()=>n(!1),onSelect:i,licenseOptions:s,isLoading:r.isPending})]})},G8e="http://localhost:3001/api",TF=[{id:"my-ips",label:"My Registered IPs",icon:lse},{id:"my-licenses",label:"My Owned Licenses",icon:Sa},{id:"royalties",label:"Royalty Dashboard",icon:Ui},{id:"profile",label:"Profile",icon:hm}];new Date(Date.now()-10*24*60*60*1e3).toISOString(),new Date(Date.now()-5*24*60*60*1e3).toISOString();new Date(Date.now()-3*24*60*60*1e3).toISOString(),new Date(Date.now()-20*24*60*60*1e3).toISOString();const K8e=()=>{const t=Ll(),[e,n]=A.useState("my-ips"),[r,s]=A.useState(!0),[i,a]=A.useState(!0),[o,l]=A.useState(!1),[u,d]=A.useState(!1),{provider:p,signer:f,address:h,isConnected:y}=ir(),{user:m,isAuthenticated:b,isLoading:v}=OM(),[g,x]=A.useState(null),[T,I]=A.useState(!1),[C,N]=A.useState(null),[P,L]=A.useState([]),[U,$]=A.useState(!1),[B,_]=A.useState([]),[w,k]=A.useState({totalIPs:0,totalLicenses:0,totalRoyaltiesEarned:0,claimableRevenue:0}),[S,M]=A.useState(!1),[R,j]=A.useState([]),[V,O]=A.useState([]),[E,z]=A.useState(0),[Z,F]=A.useState([]),[H,K]=A.useState({totalInvestment:0,currentValue:0,totalReturn:0,returnPercentage:0,monthlyIncome:0,totalAssets:0,activeInvestments:0}),[Y,J]=A.useState({assets:{isLoading:!1,isFromCache:!1},portfolio:{isLoading:!1,isFromCache:!1},transactions:{isLoading:!1,isFromCache:!1},notifications:{isLoading:!1,isFromCache:!1}}),[re,Q]=A.useState(!1),[ee,We]=A.useState(null),[oe,be]=A.useState(""),[ft,Ie]=A.useState(!1),[Ne,tt]=A.useState(null),[je,Ct]=A.useState(null),[Ar,st]=A.useState(!1),[Nt,Dn]=A.useState(!1),[zt,X]=A.useState(!1),[ke,ve]=A.useState("0"),[Ee,De]=A.useState("0"),[Me,ct]=A.useState(!1),{data:Pt,isLoading:it,error:we}=rj({walletAddress:h}),Ye=(de,ue)=>{J(Se=>({...Se,[de]:{...Se[de],...ue}}))};A.useEffect(()=>{e==="transactions"&&y&&p&&h&&pn()},[e,y,p,h]),A.useEffect(()=>{e==="notifications"&&y&&p&&h&&bn()},[e,y,p,h,Z]),A.useEffect(()=>{if(y&&p&&h){const de=setInterval(()=>{bn()},3e4);return()=>clearInterval(de)}},[y,p,h,Z]),A.useEffect(()=>{b&&!v&&Re()},[b,v]),A.useEffect(()=>{y&&h&&e==="portfolio"&&ze()},[y,h,e]),A.useEffect(()=>{e==="profile"&&b&&!g&&Re()},[e,b,g]),A.useEffect(()=>{if(y&&p&&h){Ve();const de=setInterval(()=>{Ve()},15e3);return()=>clearInterval(de)}},[y,p,h]),A.useEffect(()=>{e==="my-licenses"&&h&&Uo()},[e,h]);const Te=async()=>{try{if(M(!0),!y){le.error("Please connect your wallet first");return}le.success("Wallet connected successfully!"),await wt(),await pn()}catch(de){console.error("Wallet connection failed:",de),le.error(`Failed to connect wallet: ${de.message||"Unknown error"}`)}finally{M(!1)}},Re=async()=>{if(!b){console.log("User not authenticated");return}try{I(!0),N(null);const de=await _m.getProfile();if(de.success)x(de.data.user),le.success("Profile data loaded successfully");else throw new Error("Failed to fetch profile data")}catch(de){console.error("Failed to fetch user profile:",de),N(de.message||"Failed to load profile data"),le.error(`Failed to load profile: ${de.message||"Unknown error"}`)}finally{I(!1)}},ze=async()=>{if(h){$(!0);try{const ue=JSON.parse(localStorage.getItem("registeredIPAssets")||"[]").filter(Se=>{var at;return((at=Se.creator)==null?void 0:at.toLowerCase())===h.toLowerCase()});console.log(` Loaded ${ue.length} registered IP assets from localStorage`),L(ue)}catch(de){console.error("Failed to load registered IP assets:",de)}finally{$(!1)}}},Ve=async()=>{if(!p||!h){console.log("Provider or address not available");return}try{ct(!0);const de=await p.getBalance(h),ue=_e(de);ve(parseFloat(ue).toFixed(4)),De("0"),console.log(" Token balances fetched:",{ip:ue,wip:"0"})}catch(de){console.error(" Error fetching token balances:",de),ve("0"),De("0")}finally{ct(!1)}},wt=async(de=!1)=>{var ue;if(!y||!p||!h||!f){console.log("Wallet not connected or signer not available");return}try{if(!de){console.log(" Checking cache for user assets..."),Ye("assets",{isLoading:!0,isFromCache:!0});const fe=Us.getCachedUserAssets(h),yr=Us.getCachedPortfolioData(h);if(fe&&yr){console.log(` Loaded ${fe.length} assets from cache instantly!`),F(fe),K(yr),Ye("assets",{isLoading:!1,isFromCache:!0,lastUpdated:Date.now()}),fe.length>0&&le.success(`Portfolio loaded with ${fe.length} assets`),setTimeout(()=>{console.log(" Background refresh starting..."),wt(!0)},3e4);return}else console.log(" No valid cache found, fetching from blockchain...")}Ye("assets",{isLoading:!0,isFromCache:!1}),M(!0),console.log(" Loading assets from blockchain for:",h);const Se=new nt(us,xc,f);console.log(" Step 1: Calling getMyAssets from marketplace...");const at=await Se.getMyAssets(),[Pe,He]=at;console.log(" Marketplace assets:",{tokenIds:Pe.map(fe=>fe.toString()),amounts:He.map(fe=>fe.toString())}),console.log(" Step 2: Calling getAllListings...");const Tt=await Se.getAllListings(),[Oe,ht,mt,St]=Tt;console.log(" All listings:",{tokenIds:Oe.map(fe=>fe.toString()),prices:St.map(fe=>fe.toString())}),console.log(" Step 3: Checking wallet directly for withdrawn tokens...");const un=["function uri(uint256 tokenId) external view returns (string memory)","function tokenMetadata(uint256 tokenId) external view returns (string memory)","function tokenPrice(uint256 tokenId) external view returns (uint256)","function balanceOf(address account, uint256 id) external view returns (uint256)"],Wt=new nt(Na,un,f),rn=[{address:Na,name:"Current ERC1155"},{address:"0xf52D58076D1cC8e9f744c0c845cc6A6E57419032",name:"Legacy ERC1155"}],fn=new Set;Oe.forEach(fe=>{fn.add(fe.toString())});for(let fe=1;fe<=100;fe++)fn.add(fe.toString());const Yt=new Map;for(const fe of rn){console.log(` Checking ${fe.name} contract: ${fe.address}`);try{const yr=new nt(fe.address,un,f);for(const qn of fn)try{const ar=(await yr.balanceOf(h,qn)).toNumber();if(ar>0){const jn=`${fe.address}-${qn}`;Yt.set(jn,{amount:ar,contract:fe.address}),console.log(` Found wallet balance for token ${qn} on ${fe.name}: ${ar}`)}}catch{}}catch(yr){console.warn(` Failed to check contract ${fe.name}:`,yr)}}const Ke=new Map;for(let fe=0;fe<Pe.length;fe++){const yr=Pe[fe].toString(),qn=He[fe].toNumber();qn>0&&Ke.set(yr,{amount:qn,source:"marketplace"})}for(const[fe,yr]of Yt){const[qn,bs]=fe.split("-"),{amount:ar,contract:jn}=yr;if(!Ke.has(bs))Ke.set(bs,{amount:ar,source:"wallet",contract:jn}),console.log(` Adding withdrawn token ${bs} from wallet with balance: ${ar} (contract: ${jn})`);else{const Lt=Ke.get(bs);Ke.set(bs,{amount:Lt.amount+ar,source:"marketplace",contract:Lt.contract||jn}),console.log(` Adding additional wallet balance for token ${bs}: +${ar} (total: ${Lt.amount+ar})`)}}console.log(` Total owned tokens found: ${Ke.size}`);const ie=["function uri(uint256 tokenId) external view returns (string memory)","function tokenMetadata(uint256 tokenId) external view returns (string memory)","function tokenPrice(uint256 tokenId) external view returns (uint256)"];let ot;try{const fe=f||p;ot=new nt(Na,ie,fe)}catch(fe){console.error(" Failed to initialize metadata token contract:",fe)}const Ft=new Map;for(let fe=0;fe<Oe.length;fe++)Ft.set(Oe[fe].toString(),St[fe]);console.log(" Fetching prices for withdrawn tokens...");for(const[fe,yr]of Ke)if(!Ft.has(fe))try{console.log(` Fetching price for withdrawn token ${fe}...`);const qn=yr.contract||Na,ar=await new nt(qn,ie,f||p).tokenPrice(fe);Ft.set(fe,ar),console.log(` Fetched price for token ${fe}: ${_e(ar)} U2U`)}catch(qn){console.warn(` Could not fetch price for token ${fe}:`,qn),Ft.set(fe,ja("1000"))}const jt=async(fe,yr)=>{try{const qn=yr||Na,bs=new nt(qn,ie,f||p);let ar="";try{ar=await bs.tokenMetadata(fe),console.log(` Metadata URI for token ${fe} (${qn}):`,ar)}catch{try{ar=await bs.uri(fe),console.log(` Metadata URI (fallback) for token ${fe} (${qn}):`,ar)}catch(Vo){console.warn(` Failed to get metadata URI for token ${fe} on ${qn}:`,Vo)}}let jn=null;if(ar)try{console.log(` Fetching metadata from: ${ar}`),jn=(await Gs.fetchMetadataWithCache(fe,ar)).metadata,console.log(` Metadata fetched for token ${fe}:`,jn)}catch(si){console.warn(` Failed to fetch metadata for token ${fe}:`,si)}let Lt="Unknown";if(jn!=null&&jn.attributes){const si=jn.attributes.find(Vo=>Vo.trait_type==="Asset Type");Lt=(si==null?void 0:si.value)||Lt}else jn!=null&&jn.assetDetails&&(Lt=jn.assetDetails.assetType||Lt);const zo=S1(Lt,fe,qn);console.log(` Selected unique fallback image for token ${fe} (${Lt}):`,zo);const Ha=eQ((jn==null?void 0:jn.image)||"",jn);return console.log(` Enhanced image processing for token ${fe}: ${jn==null?void 0:jn.image}  ${Ha}`),{imageUrl:Ha,metadata:jn,assetType:Lt}}catch(qn){return console.error(` Error processing metadata for token ${fe}:`,qn),{imageUrl:S1("Real Estate",fe),metadata:null,assetType:"Real World Asset"}}},ne=[],_t=new Set;console.log(" Processing all owned tokens (marketplace + wallet)...");for(const[fe,yr]of Ke){const{amount:qn,source:bs}=yr,ar=Ft.get(fe)||Bn.from(0);if(qn<=0){console.log(` Skipping token ${fe} - zero balance`);continue}if(_t.has(fe)){console.log(` Skipping duplicate token ${fe} - already processed`);continue}try{if(await Wt.getTokenLifecycleStatus(fe)===2){console.log(` Skipping burned token ${fe} in user dashboard`);continue}}catch{console.warn(` Could not check lifecycle for token ${fe}, including in user dashboard`)}console.log(` Processing token ${fe} from ${bs} with amount: ${qn}`),_t.add(fe),console.log(` Processing metadata for token ${fe}...`);const{imageUrl:jn,metadata:Lt,assetType:zo}=await jt(fe,yr.contract);let Ha=`${zo} Asset #${fe}`;if(Lt!=null&&Lt.name)Ha=Lt.name;else if(Lt!=null&&Lt.title)Ha=Lt.title;else if((ue=Lt==null?void 0:Lt.assetDetails)!=null&&ue.location)Ha=`${zo} in ${Lt.assetDetails.location}`;else if(Lt!=null&&Lt.attributes){const si=Lt.attributes.find(hA=>hA.trait_type.toLowerCase().includes("location")),Vo=Lt.attributes.find(hA=>hA.trait_type==="Asset Type");si?Ha=`${(Vo==null?void 0:Vo.value)||zo} in ${si.value}`:Ha=`${(Vo==null?void 0:Vo.value)||zo} Token #${fe}`}console.log(` Extracted asset name: "${Ha}" for token ${fe}`),ne.push({tokenId:fe,name:Ha,description:(Lt==null?void 0:Lt.description)||(Lt==null?void 0:Lt.desc)||`A tokenized ${zo.toLowerCase()} asset with ID ${fe}`,image:jn,price:ar.toString(),amount:qn,seller:ht[Oe.findIndex(si=>si.toString()===fe)]||h,metadataURI:Lt?`ipfs://token${fe}`:"",metadata:Lt||{name:Ha,description:`A tokenized ${zo.toLowerCase()} asset with ID ${fe}`},attributes:(Lt==null?void 0:Lt.attributes)||[{trait_type:"Asset Type",value:zo},{trait_type:"Token ID",value:fe},{trait_type:"Source",value:bs}],type:zo,source:bs})}F(ne),console.log(" Loaded",ne.length,"assets from blockchain with metadata (including withdrawn tokens)"),console.log(" Preloading dashboard images...");const sn=ne.map(fe=>({url:fe.image,assetType:fe.type||"Real Estate",tokenId:fe.tokenId}));c2.preloadImages(sn).catch(fe=>{console.warn(" Image preloading failed:",fe)}),mr(ne,Ft),console.log(" Caching assets and portfolio data..."),Us.cacheUserAssets(ne,h),Us.recordLastRefresh(h),Ye("assets",{isLoading:!1,isFromCache:!1,lastUpdated:Date.now()}),ne.length===0?le.info("No assets found. Make sure you have purchased tokens and the transaction is confirmed."):Y.assets.isFromCache&&Y.assets.lastUpdated?console.log(` Background refresh: Updated ${ne.length} assets`):le.success(`Loaded ${ne.length} assets`)}catch(Se){console.error(" Failed to load assets from blockchain:",Se),F([]),mr([]),Ye("assets",{isLoading:!1,isFromCache:!1})}finally{M(!1)}},mr=(de,ue)=>{if(de.length===0){K({totalInvestment:0,currentValue:0,totalReturn:0,returnPercentage:0,monthlyIncome:0,totalAssets:0,activeInvestments:0});return}const Se=de.reduce((mt,St)=>{const un=Bn.from(St.price),Wt=parseFloat(_e(un)),rn=Wt*St.amount;return console.log(`Asset ${St.tokenId}: ${St.amount} tokens  ${Wt.toFixed(6)} U2U = ${rn.toFixed(6)} U2U`),mt+rn},0);console.log(`Total portfolio value: ${Se.toFixed(6)} U2U`);const at=Se,Pe=Se,He=0,Tt=0,Oe=Pe*.08;console.log(`Yearly income calculation: ${Pe.toFixed(6)} U2U  0.08 = ${Oe.toFixed(6)} U2U`);const ht={totalInvestment:at,currentValue:Pe,totalReturn:He,returnPercentage:Tt,monthlyIncome:Oe,totalAssets:de.length,activeInvestments:de.filter(mt=>parseFloat(mt.price)>0).length};K(ht),h&&(Us.cachePortfolioData(ht,h),console.log(" Cached portfolio data"))},on=()=>{if(!R||R.length===0)return{totalBought:0,totalSold:0,dividendIncome:0,buyTransactions:0,sellTransactions:0,dividendPayments:0};const de=R.filter(Tt=>Tt.type==="buy"),ue=de.reduce((Tt,Oe)=>{const ht=parseFloat(Oe.price)||0;return Tt+ht},0),Se=R.filter(Tt=>Tt.type==="sell"),at=Se.reduce((Tt,Oe)=>{const ht=parseFloat(Oe.price)||0;return Tt+ht},0),He=H.currentValue*.08;return console.log(" Transaction Statistics:",{totalBought:ue.toFixed(4),totalSold:at.toFixed(4),dividendIncome:He.toFixed(4),buyTransactions:de.length,sellTransactions:Se.length}),{totalBought:ue,totalSold:at,dividendIncome:He,buyTransactions:de.length,sellTransactions:Se.length,dividendPayments:1}},bn=async(de=!1)=>{if(!y||!p||!h){console.log(" Wallet not connected, cannot fetch notifications");return}try{if(!de){console.log(" Checking cache for notifications..."),Ye("notifications",{isLoading:!0,isFromCache:!0});const Ke=Us.getCachedNotifications(h);if(Ke)return console.log(` Loaded ${Ke.length} notifications from cache instantly!`),O(Ke),z(Ke.filter(ie=>!ie.read).length),Ye("notifications",{isLoading:!1,isFromCache:!0,lastUpdated:Date.now()}),setTimeout(()=>{console.log(" Background notification refresh starting..."),bn(!0)},2e4),Ke;console.log(" No valid notification cache found, fetching from blockchain...")}Ye("notifications",{isLoading:!0,isFromCache:!1}),console.log(" Generating notifications from trading events...");const ue=[],Se=Date.now(),at=await p.getBlockNumber(),Pe=Math.max(0,at-7200),He=new nt(Br,gv,p),Tt=He.filters.SellOrderCreated(null,h),Oe=await He.queryFilter(Tt,Pe,at);for(const Ke of Oe){const ie=Ke.args,ot=await p.getBlock(Ke.blockNumber);let Ft=`Asset #${ie.tokenId.toString()}`;try{const jt=Z.find(ne=>ne.tokenId===ie.tokenId.toString());jt&&(Ft=jt.name)}catch{console.log("Could not resolve asset name for notification")}ue.push({id:`sell_order_${Ke.transactionHash}_${Ke.logIndex}`,timestamp:ot.timestamp*1e3,type:"order_created",title:"Buy Order Created",message:`Your buy order for ${ie.amount.toString()} tokens of ${Ft} at ${_e(ie.pricePerToken)} U2U each is now active in the OrderBook.`,status:"pending",priority:"medium",read:!1,orderData:{orderId:ie.orderId.toString(),tokenId:ie.tokenId.toString(),assetName:Ft,amount:ie.amount.toNumber(),price:_e(ie.pricePerToken),orderType:"sell",escrowAmount:_e(ie.pricePerToken.mul(ie.amount))},transactionHash:Ke.transactionHash})}const ht=He.filters.BuyOrderCreated(null,h),mt=await He.queryFilter(ht,Pe,at);for(const Ke of mt){const ie=Ke.args,ot=await p.getBlock(Ke.blockNumber);let Ft=`Asset #${ie.tokenId.toString()}`;try{const ne=Z.find(_t=>_t.tokenId===ie.tokenId.toString());ne&&(Ft=ne.name)}catch{console.log("Could not resolve asset name for notification")}const jt=_e(ie.pricePerToken.mul(ie.amount));ue.push({id:`buy_order_${Ke.transactionHash}_${Ke.logIndex}`,timestamp:ot.timestamp*1e3,type:"order_created",title:"Sell Order Created & Funds Escrowed",message:`Your sell order for ${ie.amount.toString()} tokens of ${Ft} at ${_e(ie.pricePerToken)} Flow each is active. ${jt} Flow has been escrowed.`,status:"pending",priority:"high",read:!1,orderData:{orderId:ie.orderId.toString(),tokenId:ie.tokenId.toString(),assetName:Ft,amount:ie.amount.toNumber(),price:_e(ie.pricePerToken),orderType:"buy",escrowAmount:jt},transactionHash:Ke.transactionHash})}const St=He.filters.OrderFilled(null,h),un=await He.queryFilter(St,Pe,at);for(const Ke of un){const ie=Ke.args,ot=await p.getBlock(Ke.blockNumber);ue.push({id:`order_filled_${Ke.transactionHash}_${Ke.logIndex}`,timestamp:ot.timestamp*1e3,type:"order_filled",title:"Order Executed Successfully",message:`Your order #${ie.orderId.toString()} has been filled! ${ie.amount.toString()} tokens traded for ${_e(ie.totalPrice)} Flow. Escrow released.`,status:"completed",priority:"high",read:!1,orderData:{orderId:ie.orderId.toString(),tokenId:"unknown",assetName:"P2P Trade",amount:ie.amount.toNumber(),price:_e(ie.totalPrice),orderType:"buy",escrowAmount:_e(ie.totalPrice)},transactionHash:Ke.transactionHash})}const Wt=new nt(us,xc,p),rn=Wt.filters.AssetBought(null,h),fn=await Wt.queryFilter(rn,Pe,at);for(const Ke of fn){const ie=Ke.args,ot=await p.getBlock(Ke.blockNumber);let Ft=`Asset #${ie.tokenId.toString()}`;try{const jt=Z.find(ne=>ne.tokenId===ie.tokenId.toString());jt&&(Ft=jt.name)}catch{console.log("Could not resolve asset name for notification")}ue.push({id:`asset_bought_${Ke.transactionHash}_${Ke.logIndex}`,timestamp:ot.timestamp*1e3,type:"trade_completed",title:"Asset Purchase Completed",message:`Successfully purchased ${ie.amount.toString()} tokens of ${Ft} from the primary marketplace.`,status:"completed",priority:"medium",read:!1,orderData:{orderId:Ke.transactionHash,tokenId:ie.tokenId.toString(),assetName:Ft,amount:ie.amount.toNumber(),price:"0",orderType:"buy"},transactionHash:Ke.transactionHash})}ue.sort((Ke,ie)=>ie.timestamp-Ke.timestamp);const Yt=ue.slice(0,50);return console.log(` Generated ${Yt.length} trading notifications`),O(Yt),z(Yt.filter(Ke=>!Ke.read).length),console.log(" Caching notifications..."),Us.cacheNotifications(Yt,h),Ye("notifications",{isLoading:!1,isFromCache:!1,lastUpdated:Date.now()}),Yt}catch(ue){console.error(" Error generating notifications:",ue),Ye("notifications",{isLoading:!1,isFromCache:!1}),le.error(`Failed to load notifications: ${ue.message||"Unknown error"}`)}},Fl=de=>{O(ue=>ue.map(Se=>Se.id===de?{...Se,read:!0}:Se)),z(ue=>Math.max(0,ue-1))},Nn=()=>{O(de=>de.map(ue=>({...ue,read:!0}))),z(0)},pn=async(de=!1)=>{var Se,at,Pe,He,Tt;if(!y||!h){console.log(" Wallet not connected, cannot fetch transaction history"),console.log("Debug - Connection status:",{isConnected:y,address:h});return}if(!p){console.log(" No provider available for transaction history");return}const ue=p;console.log(" Using wallet provider for transaction history (same as working notifications)");try{if(!de){console.log(" Checking cache for transaction history..."),Ye("transactions",{isLoading:!0,isFromCache:!0});const ie=Us.getCachedTransactionHistory(h);if(ie){console.log(` Loaded ${ie.length} transactions from cache instantly!`),j(ie),Ye("transactions",{isLoading:!1,isFromCache:!0,lastUpdated:Date.now()}),ie.length>0&&le.success("Transaction history loaded"),setTimeout(()=>{console.log(" Background transaction refresh starting..."),pn(!0)},45e3);return}else console.log(" No valid transaction cache found, fetching from blockchain...")}Ye("transactions",{isLoading:!0,isFromCache:!1}),Dn(!0),console.log(" Loading comprehensive transaction history for wallet:",h);const Oe=await ue.getBlockNumber();console.log(" Current blockchain block:",Oe);const ht=Math.max(0,Oe-7200);console.log(` Searching events from block ${ht} to ${Oe} (${Oe-ht} blocks)`);const mt=[];console.log(" Checking Primary Marketplace Contract:",us);const St=new nt(us,xc,ue);try{const ie=await ue.getCode(us);console.log(" Marketplace contract code length:",ie.length),ie==="0x"&&console.warn(" Marketplace contract not found at address:",us)}catch(ie){console.error(" Error checking marketplace contract:",ie)}let un=[],Wt=[];try{console.log(" Searching for AssetBought events for buyer:",h);const ie=St.filters.AssetBought(null,h);un=await St.queryFilter(ie,ht,Oe),console.log(` Found ${un.length} buy events`)}catch(ie){console.warn(" Failed to fetch buy events:",ie)}try{console.log(" Searching for AssetSold events for seller:",h);const ie=St.filters.AssetSold(null,h);Wt=await St.queryFilter(ie,ht,Oe),console.log(` Found ${Wt.length} sell events`)}catch(ie){console.warn(" Failed to fetch sell events:",ie)}console.log(` Primary Marketplace Results: ${un.length} buy events, ${Wt.length} sell events`),console.log(" Checking OrderBook Contract:",Br);const rn=new nt(Br,gv,ue);try{const ie=await ue.getCode(Br);console.log(" OrderBook contract code length:",ie.length),ie==="0x"&&console.warn(" OrderBook contract not found at address:",Br)}catch(ie){console.error(" Error checking OrderBook contract:",ie)}let fn=[],Yt=[],Ke=[];try{console.log(" Searching for OrderFilled events for taker:",h);const ie=rn.filters.OrderFilled(null,h);fn=await rn.queryFilter(ie,ht,Oe),console.log(` Found ${fn.length} filled orders`)}catch(ie){console.warn(" Failed to fetch OrderFilled events:",ie)}try{console.log(" Searching for SellOrderCreated events for maker:",h);const ie=rn.filters.SellOrderCreated(null,h);Yt=await rn.queryFilter(ie,ht,Oe),console.log(` Found ${Yt.length} sell orders`)}catch(ie){console.warn(" Failed to fetch SellOrderCreated events:",ie)}try{console.log(" Searching for BuyOrderCreated events for maker:",h);const ie=rn.filters.BuyOrderCreated(null,h);Ke=await rn.queryFilter(ie,ht,Oe),console.log(` Found ${Ke.length} buy orders`)}catch(ie){console.warn(" Failed to fetch BuyOrderCreated events:",ie)}console.log(` Secondary Market Results: ${fn.length} filled orders, ${Yt.length} sell orders, ${Ke.length} buy orders created`),console.log(" Debugging: Checking for ANY events from contracts...");try{const ie=await St.queryFilter({},ht,Oe);console.log(` Total marketplace events in range: ${ie.length}`),ie.length>0&&console.log(" Sample marketplace events:",ie.slice(0,3).map(ot=>({event:ot.event,args:ot.args,blockNumber:ot.blockNumber})))}catch(ie){console.error(" Error fetching all marketplace events:",ie)}try{const ie=await rn.queryFilter({},ht,Oe);console.log(` Total OrderBook events in range: ${ie.length}`),ie.length>0&&console.log(" Sample OrderBook events:",ie.slice(0,3).map(ot=>({event:ot.event,args:ot.args,blockNumber:ot.blockNumber})))}catch(ie){console.error(" Error fetching all OrderBook events:",ie)}for(const ie of un){const ot=ie.args,Ft=await ue.getBlock(ie.blockNumber),jt=await ue.getTransaction(ie.transactionHash),ne=await ue.getTransactionReceipt(ie.transactionHash);let _t=`Asset #${ot.tokenId.toString()}`;try{const sn=Z.find(fe=>fe.tokenId===ot.tokenId.toString());sn&&(_t=sn.name)}catch{console.log("Could not resolve asset name, using default")}mt.push({hash:ie.transactionHash,blockNumber:ie.blockNumber,timestamp:Ft.timestamp*1e3,type:"buy",tokenId:ot.tokenId.toString(),amount:ot.amount.toNumber(),price:_e(jt.value||"0"),from:jt.from,to:jt.to||us,gasUsed:ne.gasUsed.toString(),gasPrice:po(jt.gasPrice||"0","gwei"),status:ne.status===1?"success":"failed",assetName:_t,platformFee:_e(ot.platformFee||"0")})}for(const ie of Wt){const ot=ie.args,Ft=await ue.getBlock(ie.blockNumber),jt=await ue.getTransaction(ie.transactionHash),ne=await ue.getTransactionReceipt(ie.transactionHash);let _t=`Asset #${ot.tokenId.toString()}`;try{const sn=Z.find(fe=>fe.tokenId===ot.tokenId.toString());sn&&(_t=sn.name)}catch{console.log("Could not resolve asset name, using default")}mt.push({hash:ie.transactionHash,blockNumber:ie.blockNumber,timestamp:Ft.timestamp*1e3,type:"sell",tokenId:ot.tokenId.toString(),amount:ot.amount.toNumber(),price:"0",from:jt.from,to:jt.to||us,gasUsed:ne.gasUsed.toString(),gasPrice:po(jt.gasPrice||"0","gwei"),status:ne.status===1?"success":"failed",assetName:_t,platformFee:_e(ot.platformFee||"0")})}for(const ie of fn){const ot=ie.args,Ft=await ue.getBlock(ie.blockNumber),jt=await ue.getTransaction(ie.transactionHash),ne=await ue.getTransactionReceipt(ie.transactionHash);let _t="Unknown",sn="P2P Trade";try{sn=`P2P Purchase (Order #${ot.orderId.toString()})`}catch{console.log("Could not resolve order details")}mt.push({hash:ie.transactionHash,blockNumber:ie.blockNumber,timestamp:Ft.timestamp*1e3,type:"buy",tokenId:_t,amount:ot.amount.toNumber(),price:_e(ot.totalPrice||"0"),from:jt.from,to:Br,gasUsed:ne.gasUsed.toString(),gasPrice:po(jt.gasPrice||"0","gwei"),status:ne.status===1?"success":"failed",assetName:sn,platformFee:"0"})}for(const ie of Yt){const ot=ie.args,Ft=await ue.getBlock(ie.blockNumber),jt=await ue.getTransaction(ie.transactionHash),ne=await ue.getTransactionReceipt(ie.transactionHash);let _t=`Asset #${ot.tokenId.toString()}`;try{const sn=Z.find(fe=>fe.tokenId===ot.tokenId.toString());sn&&(_t=sn.name)}catch{console.log("Could not resolve asset name for sell order")}mt.push({hash:ie.transactionHash,blockNumber:ie.blockNumber,timestamp:Ft.timestamp*1e3,type:"listing",tokenId:ot.tokenId.toString(),amount:ot.amount.toNumber(),price:_e(ot.pricePerToken||"0"),from:jt.from,to:Br,gasUsed:ne.gasUsed.toString(),gasPrice:po(jt.gasPrice||"0","gwei"),status:ne.status===1?"success":"failed",assetName:`${_t} (P2P Listing)`,platformFee:"0"})}for(const ie of Ke){const ot=ie.args,Ft=await ue.getBlock(ie.blockNumber),jt=await ue.getTransaction(ie.transactionHash),ne=await ue.getTransactionReceipt(ie.transactionHash);let _t=`Asset #${ot.tokenId.toString()}`;try{const sn=Z.find(fe=>fe.tokenId===ot.tokenId.toString());sn&&(_t=sn.name)}catch{console.log("Could not resolve asset name for buy order")}mt.push({hash:ie.transactionHash,blockNumber:ie.blockNumber,timestamp:Ft.timestamp*1e3,type:"listing",tokenId:ot.tokenId.toString(),amount:ot.amount.toNumber(),price:_e(ot.pricePerToken||"0"),from:jt.from,to:Br,gasUsed:ne.gasUsed.toString(),gasPrice:po(jt.gasPrice||"0","gwei"),status:ne.status===1?"success":"failed",assetName:`${_t} (P2P Buy Order)`,platformFee:"0"})}mt.sort((ie,ot)=>ot.timestamp-ie.timestamp),console.log(" FINAL TRANSACTION SUMMARY:"),console.log(`- Total transactions found: ${mt.length}`),console.log(`- Primary marketplace: ${un.length+Wt.length} (${un.length} buys, ${Wt.length} sells)`),console.log(`- Secondary market: ${fn.length+Yt.length+Ke.length} (${fn.length} filled, ${Yt.length} sell orders, ${Ke.length} buy orders)`),console.log(`- Block range searched: ${ht} to ${Oe} (${Oe-ht} blocks)`),console.log(`- Wallet address: ${h}`),mt.length===0?(console.log(" NO TRANSACTIONS FOUND! Possible reasons:"),console.log("  1. No transactions in the searched block range"),console.log("  2. Wallet address might not have made any transactions"),console.log("  3. Contract addresses might be incorrect"),console.log("  4. Event signatures might not match"),console.log("  5. Transactions might be older than 50,000 blocks"),le.info("No recent transactions found. This could mean you haven't made any trades yet, or your transactions are older than the search range.")):(console.log(" Sample transactions:",mt.slice(0,2)),Y.transactions.isFromCache&&Y.transactions.lastUpdated?console.log(` Background refresh: Updated ${mt.length} transactions`):le.success(`Found ${mt.length} transaction(s) in your history`)),j(mt),console.log(" Caching transaction history..."),Us.cacheTransactionHistory(mt,h),Ye("transactions",{isLoading:!1,isFromCache:!1,lastUpdated:Date.now()})}catch(Oe){console.error(" Error fetching transaction history:",Oe),console.log("Error details:",{message:Oe.message,code:Oe.code,data:Oe.data,stack:Oe.stack}),Ye("transactions",{isLoading:!1,isFromCache:!1});let ht="Unknown error occurred";(Se=Oe.message)!=null&&Se.includes("network")||(at=Oe.message)!=null&&at.includes("RPC")?ht="Network connection issue. Please check your internet connection and try again.":(Pe=Oe.message)!=null&&Pe.includes("timeout")?ht="Request timed out. Please try again.":Oe.code==="NETWORK_ERROR"?ht="Unable to connect to Flow blockchain. Please try again later.":Oe.code==="SERVER_ERROR"?ht="Blockchain service temporarily unavailable. Please try again.":(He=Oe.message)!=null&&He.includes("missing trie node")||(Tt=Oe.message)!=null&&Tt.includes("client error")?ht="Blockchain data synchronization issue. Please try again in a few moments.":ht=Oe.message||"Failed to load transaction history",le.error(`Failed to load transaction history: ${ht}`)}finally{Dn(!1)}},Uo=async()=>{if(h)try{console.log(` Fetching license tokens for user: ${h}`);const de=await fetch(`${G8e}/license-tokens/user/${h}`);if(!de.ok)throw new Error(`HTTP error! status: ${de.status}`);const ue=await de.json();if(ue.success&&ue.data){const Se=ue.data.licenses||[];console.log(` Fetched ${Se.length} license tokens`);const at=Se.map(Pe=>{var He;return{licenseTokenId:Pe.licenseTokenId||Pe.tokenId||Pe._id,parentIpId:Pe.ipId,parentIpName:Pe.ipName||`IP ${(He=Pe.ipId)==null?void 0:He.slice(0,10)}...`,mintedAt:Pe.timestamp?new Date(Pe.timestamp*1e3).toISOString():Pe.createdAt}});_(at),k(Pe=>({...Pe,totalLicenses:at.length})),at.length>0&&le.success(`Loaded ${at.length} license token${at.length>1?"s":""}`)}else console.log(" No license tokens found"),_([])}catch(de){console.error(" Error fetching license tokens:",de),le.error(`Failed to fetch license tokens: ${de.message}`),_([])}},En=async()=>{var ue,Se,at;if(!ee||!oe||!y||!f){le.error("Please enter a valid amount and ensure wallet is connected");return}const de=parseInt(oe);if(de<=0||de>ee.amount){le.error(`Amount must be between 1 and ${ee.amount}`);return}try{Ie(!0),console.log(` Selling ${de} tokens of asset ${ee.tokenId} via marketplace contract...`);const Pe=new nt(us,xc,f),He=Bn.from(ee.price),Tt=He.mul(de),Oe=Tt.mul(1).div(100);console.log(" Transaction details:",{tokenId:ee.tokenId,amount:de,tokenPrice:_e(He)+" U2U",totalValue:_e(Tt)+" U2U",platformFee:_e(Oe)+" U2U"}),console.log(" Calling sellAsset on marketplace contract...");const ht=await Pe.sellAsset(ee.tokenId,de,{value:Oe,gasLimit:5e5});console.log(" Transaction submitted:",ht.hash),le.info(`Transaction submitted: ${ht.hash.substring(0,10)}...`);const mt=await ht.wait();console.log(" Transaction confirmed:",mt);const St=parseFloat(_e(Tt)),un=parseFloat(_e(Oe));le.success(`Successfully sold ${de} tokens for ${St.toFixed(4)} Flow
        ! Platform fee: ${un.toFixed(4)} Flow
        `,{duration:5e3}),Q(!1),We(null),be(""),console.log(" Clearing dashboard and marketplace cache after successful sale..."),Us.clearCache(h),Gs.clearCache(),console.log(" Refreshing portfolio after successful sale..."),await wt(!0),await pn(!0)}catch(Pe){console.error(" Failed to sell asset:",Pe);let He="Failed to sell asset";(ue=Pe.message)!=null&&ue.includes("Insufficient balance")?He="Insufficient token balance for this transaction":(Se=Pe.message)!=null&&Se.includes("Insufficient marketplace funds")?He="Marketplace has insufficient funds to buy back this asset":(at=Pe.message)!=null&&at.includes("Must pay platform fee")?He="Failed to pay platform fee. Please ensure sufficient U2U balance.":Pe.code==="ACTION_REJECTED"?He="Transaction was cancelled by user":Pe.code==="INSUFFICIENT_FUNDS"?He="Insufficient U2U for gas fees and platform fee":He=`Transaction failed: ${Pe.message||"Unknown error"}`,le.error(He,{duration:5e3})}finally{Ie(!1)}},mn=de=>{let ue=0;try{const Se=Bn.from(de.price);ue=parseFloat(_e(Se)),console.log(` Converting price for ${de.name}: ${de.price} Wei  ${ue} U2U`)}catch(Se){console.warn(" Error converting price:",Se),ue=parseFloat(de.price)||0}t("/orderbook",{state:{selectedToken:{tokenId:de.tokenId,name:de.name,image:de.image,type:de.type,userBalance:de.amount,price:de.price,marketplacePrice:ue,description:de.description}}})},Bl=de=>{mn(de)},Sn=de=>{Ct(de),st(!0)},Rn=async de=>{var ue;if(!y||!f){le.error("Please connect your wallet first");return}try{le.info("Preparing to withdraw tokens from marketplace to your wallet...");const{TokenService:Se}=await Qt(async()=>{const{TokenService:Pe}=await Promise.resolve().then(()=>a$e);return{TokenService:Pe}},void 0);await new Se(p,f).withdrawAsset(de.tokenId,de.amount),le.success(`Successfully withdrew ${de.amount} tokens of ${de.name} to your wallet! You can now use them in the OrderBook.`,{duration:5e3}),console.log(" Clearing dashboard and marketplace cache after successful withdrawal..."),Us.clearCache(h),Gs.clearCache(),console.log(" Refreshing portfolio after successful withdrawal..."),await wt(!0)}catch(Se){console.error(" Failed to withdraw asset:",Se);let at="Failed to withdraw asset";(ue=Se.message)!=null&&ue.includes("Insufficient balance")?at="Insufficient balance in marketplace for withdrawal":Se.code==="ACTION_REJECTED"?at="Transaction was cancelled by user":Se.code==="INSUFFICIENT_FUNDS"?at="Insufficient U2U for gas fees":at=`Withdrawal failed: ${Se.message||"Unknown error"}`,le.error(at,{duration:5e3})}};A.useEffect(()=>{y&&h&&(console.log("Wallet connected, loading assets..."),wt())},[y,h]);const Ul=()=>{const ue=(()=>{const fn=(H.currentValue||1)*.85,Yt=[];for(let Ke=0;Ke<24;Ke++){const ie=Ke/23,ot=(Math.random()-.5)*.1,Ft=1+ie*.15+ot,jt=Math.max(fn*Ft,.001);Yt.push(jt)}return Yt})(),Se=Math.max(...ue),at=Math.min(...ue),Pe=Se-at||1,He=800,Tt=300,Oe=40,ht=He-Oe*2,mt=Tt-Oe*2,St=()=>{let rn="";return ue.forEach((fn,Yt)=>{const Ke=Yt/(ue.length-1)*ht+Oe,ie=Tt-Oe-(fn-at)/Pe*mt;Yt===0?rn+=`M ${Ke} ${ie}`:rn+=` L ${Ke} ${ie}`}),rn},un=()=>{let rn=St();const fn=ht+Oe,Yt=Tt-Oe;return rn+=` L ${fn} ${Yt} L ${Oe} ${Yt} Z`,rn},Wt=((ue[ue.length-1]-ue[0])/ue[0]*100).toFixed(1);return c.jsxs("div",{className:"w-full h-full flex flex-col",children:[c.jsxs("div",{className:"mb-3 md:mb-4 flex flex-col sm:flex-row sm:items-start justify-between gap-2",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"text-sm md:text-base font-semibold text-gray-900",children:"Portfolio Value"}),c.jsxs("p",{className:"text-base md:text-xl font-bold text-gray-900",children:[ue[ue.length-1].toFixed(4)," Flow"]}),c.jsxs("p",{className:`text-xs md:text-sm ${parseFloat(Wt)>=0?"text-green-600":"text-red-600"}`,children:[parseFloat(Wt)>=0?"+":"",Wt,"% (6 months)"]})]}),c.jsxs("div",{className:"flex items-center space-x-2 text-xs md:text-sm",children:[c.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),c.jsx("span",{className:"text-gray-600",children:"Portfolio Value"})]})]}),c.jsx("div",{className:"flex-1 min-h-0 relative",children:c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsxs("svg",{width:"100%",height:"100%",viewBox:`0 0 ${He} ${Tt}`,className:"max-w-full max-h-full",preserveAspectRatio:"xMidYMid meet",children:[c.jsxs("defs",{children:[c.jsx("pattern",{id:"gridPattern",width:"40",height:"30",patternUnits:"userSpaceOnUse",children:c.jsx("path",{d:"M 40 0 L 0 0 0 30",fill:"none",stroke:"#f1f5f9",strokeWidth:"1"})}),c.jsxs("linearGradient",{id:"areaGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[c.jsx("stop",{offset:"0%",stopColor:"#3b82f6",stopOpacity:"0.2"}),c.jsx("stop",{offset:"100%",stopColor:"#3b82f6",stopOpacity:"0.02"})]})]}),c.jsx("rect",{x:Oe,y:Oe,width:ht,height:mt,fill:"url(#gridPattern)",opacity:"0.5"}),c.jsx("path",{d:un(),fill:"url(#areaGradient)"}),c.jsx("path",{d:St(),fill:"none",stroke:"#3b82f6",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),ue.map((rn,fn)=>{if(fn%4===0){const Yt=fn/(ue.length-1)*ht+Oe,Ke=Tt-Oe-(rn-at)/Pe*mt;return c.jsx("circle",{cx:Yt,cy:Ke,r:"4",fill:"#3b82f6",stroke:"white",strokeWidth:"2",className:"drop-shadow-sm",children:c.jsxs("title",{children:[rn.toFixed(4)," Flow"]})},fn)}return null}),c.jsxs("text",{x:Oe-10,y:Oe+5,textAnchor:"end",className:"text-xs fill-gray-500 font-medium",children:[Se.toFixed(3)," Flow"]}),c.jsxs("text",{x:Oe-10,y:Tt-Oe+5,textAnchor:"end",className:"text-xs fill-gray-500 font-medium",children:[at.toFixed(3)," Flow"]}),c.jsx("text",{x:Oe,y:Tt-10,textAnchor:"start",className:"text-xs fill-gray-500 font-medium",children:"6 months ago"}),c.jsx("text",{x:He-Oe,y:Tt-10,textAnchor:"end",className:"text-xs fill-gray-500 font-medium",children:"Today"})]})})}),c.jsxs("div",{className:"mt-3 md:mt-4 grid grid-cols-3 gap-2 md:gap-4 pt-3 border-t border-gray-100",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"HIGHEST"}),c.jsxs("p",{className:"text-xs md:text-sm font-bold text-gray-900",children:[Se.toFixed(4)," Flow"]})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"LOWEST"}),c.jsxs("p",{className:"text-xs md:text-sm font-bold text-gray-900",children:[at.toFixed(4)," Flow"]})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"GROWTH"}),c.jsxs("p",{className:`text-xs md:text-sm font-bold ${parseFloat(Wt)>=0?"text-green-600":"text-red-600"}`,children:[parseFloat(Wt)>=0?"+":"",Wt,"%"]})]})]})]})},Pn=()=>{const de=Z.reduce((mt,St)=>{const un=St.type||"Other";mt[un]||(mt[un]=0);const Wt=parseFloat(_e(St.price))*St.amount;return mt[un]+=Wt,mt},{}),ue=Object.values(de).reduce((mt,St)=>mt+St,0),Se=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6"];if(ue===0)return c.jsx("div",{className:"w-full h-full flex flex-col",children:c.jsx("div",{className:"flex-1 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx(n1,{className:"w-12 md:w-16 h-12 md:h-16 text-gray-400 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600 font-medium text-sm md:text-base",children:"Asset Allocation"}),c.jsx("p",{className:"text-gray-400 text-xs md:text-sm mt-1",children:"No assets to display"})]})})});let at=0;const Pe=80,He=140,Tt=120;return c.jsxs("div",{className:"w-full h-full flex flex-col",children:[c.jsxs("div",{className:"mb-3 md:mb-4 text-center",children:[c.jsx("h3",{className:"text-sm md:text-base font-semibold text-gray-900",children:"Asset Distribution"}),c.jsxs("p",{className:"text-base md:text-xl font-bold text-gray-900",children:[Z.length," Assets"]}),c.jsxs("p",{className:"text-xs md:text-sm text-gray-600",children:[ue.toFixed(4)," Flow Total"]})]}),c.jsx("div",{className:"flex-1 min-h-0 flex items-center justify-center",children:c.jsx("div",{className:"relative w-full h-full max-w-xs",children:c.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 280 240",className:"max-w-full max-h-full",preserveAspectRatio:"xMidYMid meet",children:[Object.entries(de).map(([mt,St],un)=>{const Wt=St/ue*100,rn=at/100*360,fn=(at+Wt)/100*360,Yt=(rn-90)*(Math.PI/180),Ke=(fn-90)*(Math.PI/180),ie=He+Pe*Math.cos(Yt),ot=Tt+Pe*Math.sin(Yt),Ft=He+Pe*Math.cos(Ke),jt=Tt+Pe*Math.sin(Ke),ne=Wt>50?1:0,_t=[`M ${He} ${Tt}`,`L ${ie} ${ot}`,`A ${Pe} ${Pe} 0 ${ne} 1 ${Ft} ${jt}`,"Z"].join(" ");return at+=Wt,c.jsx("g",{children:c.jsx("path",{d:_t,fill:Se[un%Se.length],className:"hover:opacity-80 transition-opacity cursor-pointer drop-shadow-sm",children:c.jsxs("title",{children:[mt,": ",Wt.toFixed(1),"%"]})})},mt)}),c.jsx("circle",{cx:He,cy:Tt,r:Pe*.55,fill:"white",className:"drop-shadow-sm"}),c.jsx("text",{x:He,y:Tt-5,textAnchor:"middle",className:"text-xs fill-gray-500 font-medium",children:"Total Value"}),c.jsxs("text",{x:He,y:Tt+8,textAnchor:"middle",className:"text-xs md:text-sm fill-gray-900 font-bold",children:[ue.toFixed(3)," Flow"]})]})})}),c.jsx("div",{className:"mt-3 md:mt-4 space-y-1 md:space-y-2 pt-3 border-t border-gray-100",children:Object.entries(de).map(([mt,St],un)=>{const Wt=St/ue*100;return c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Se[un%Se.length]}}),c.jsx("span",{className:"text-xs md:text-sm font-medium text-gray-700 truncate",children:mt})]}),c.jsxs("div",{className:"text-right flex-shrink-0",children:[c.jsxs("p",{className:"text-xs md:text-sm font-bold text-gray-900",children:[Wt.toFixed(1),"%"]}),c.jsxs("p",{className:"text-xs text-gray-500",children:[St.toFixed(3)," Flow"]})]})]},mt)})})]})},Mn=()=>{var de,ue,Se,at,Pe,He,Tt,Oe,ht,mt,St,un,Wt,rn,fn,Yt,Ke,ie,ot,Ft,jt;switch(e){case"analytics":return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Analytics Overview"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Portfolio insights and performance metrics"})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center space-y-2 sm:space-y-0 sm:space-x-3",children:[c.jsxs("div",{className:"flex items-center space-x-2 px-3 py-1 bg-gray-100 rounded-lg",children:[c.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Live"})]}),c.jsxs(te,{variant:"outline",size:"sm",children:[c.jsx(k3,{className:"w-4 h-4 mr-2"}),"Last 30 days"]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-4 md:gap-6",children:[c.jsx(me,{className:"backdrop-blur-md bg-white/30 border border-white/20 shadow-sm hover:shadow-md transition-shadow",children:c.jsx(ye,{className:"p-4 md:p-6",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[c.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600 mb-2",children:"TOTAL INVESTMENT"}),c.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[c.jsx("p",{className:"text-base md:text-lg lg:text-xl font-bold text-gray-900 truncate",children:i?`${H.totalInvestment.toFixed(4)} Flow`:""}),c.jsx(te,{variant:"ghost",size:"sm",onClick:()=>a(!i),className:"h-5 w-5 p-0 flex-shrink-0",children:i?c.jsx(Io,{className:"w-3 h-3"}):c.jsx(ZC,{className:"w-3 h-3"})})]}),c.jsx("p",{className:"text-green-600 text-xs md:text-sm",children:y?"+2.4% from last month":"Connect wallet to view"})]}),c.jsx("div",{className:"p-1.5 md:p-2 bg-gray-100 rounded-lg flex-shrink-0",children:c.jsx(Rs,{className:"w-4 md:w-5 h-4 md:h-5 text-gray-600"})})]})})}),c.jsx(me,{className:"backdrop-blur-md bg-white/30 border border-white/20 shadow-sm hover:shadow-md transition-shadow",children:c.jsx(ye,{className:"p-4 md:p-6",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[c.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600 mb-2",children:"CURRENT VALUE"}),c.jsx("p",{className:"text-base md:text-lg lg:text-xl font-bold text-gray-900 mb-2 truncate",children:i?`${H.currentValue.toFixed(4)} Flow`:""}),c.jsxs("p",{className:"text-green-600 text-xs md:text-sm",children:["+",H.returnPercentage.toFixed(2),"% total return"]})]}),c.jsx("div",{className:"p-1.5 md:p-2 bg-gray-100 rounded-lg flex-shrink-0",children:c.jsx(YC,{className:"w-4 md:w-5 h-4 md:h-5 text-gray-600"})})]})})}),c.jsx(me,{className:"backdrop-blur-md bg-white/30 border border-white/20 shadow-sm hover:shadow-md transition-shadow",children:c.jsx(ye,{className:"p-4 md:p-6",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[c.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600 mb-2",children:"TOTAL RETURN"}),c.jsxs("div",{className:"flex flex-col space-y-1 mb-2",children:[c.jsx("p",{className:"text-base md:text-lg lg:text-xl font-bold text-gray-900 truncate",children:i?`${H.totalReturn.toFixed(4)} Flow`:""}),c.jsxs(Ue,{variant:"secondary",className:"bg-green-100 text-green-800 text-xs w-fit",children:["+",H.returnPercentage.toFixed(2),"%"]})]}),c.jsx("p",{className:"text-green-600 text-xs md:text-sm",children:"Above market average"})]}),c.jsx("div",{className:"p-1.5 md:p-2 bg-gray-100 rounded-lg flex-shrink-0",children:c.jsx(Rs,{className:"w-4 md:w-5 h-4 md:h-5 text-gray-600"})})]})})}),c.jsx(me,{className:"backdrop-blur-md bg-white/30 border border-white/20 shadow-sm hover:shadow-md transition-shadow",children:c.jsx(ye,{className:"p-4 md:p-6",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[c.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600 mb-2",children:"YEARLY INCOME"}),c.jsx("p",{className:"text-base md:text-lg lg:text-xl font-bold text-gray-900 mb-2 truncate",children:i?`${H.monthlyIncome.toFixed(4)} Flow`:""}),c.jsx("p",{className:"text-green-600 text-xs md:text-sm",children:"8% yield annually"})]}),c.jsx("div",{className:"p-1.5 md:p-2 bg-gray-100 rounded-lg flex-shrink-0",children:c.jsx(Ui,{className:"w-4 md:w-5 h-4 md:h-5 text-gray-600"})})]})})})]}),c.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[c.jsxs(me,{className:"xl:col-span-2 backdrop-blur-md bg-white/30 border border-white/20 shadow-sm flex flex-col min-h-[400px] lg:min-h-[500px]",children:[c.jsx(yt,{className:"pb-4 flex-shrink-0",children:c.jsxs(gt,{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-lg md:text-xl font-bold text-gray-900",children:"Portfolio Performance"}),c.jsx("p",{className:"text-gray-600 text-sm",children:"6-month growth trajectory"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),c.jsx("span",{className:"text-sm text-gray-600",children:"Live"})]})]})}),c.jsx(ye,{className:"flex-1 min-h-0 p-4 md:p-6",children:c.jsx("div",{className:"h-full w-full",children:c.jsx(Ul,{})})})]}),c.jsxs(me,{className:"backdrop-blur-md bg-white/30 border border-white/20 shadow-sm flex flex-col min-h-[400px] lg:min-h-[500px]",children:[c.jsx(yt,{className:"pb-4 flex-shrink-0",children:c.jsxs(gt,{children:[c.jsx("span",{className:"text-lg md:text-xl font-bold text-gray-900",children:"Asset Allocation"}),c.jsx("p",{className:"text-gray-600 text-sm",children:"Portfolio distribution"})]})}),c.jsx(ye,{className:"flex-1 min-h-0 p-4 md:p-6",children:c.jsx("div",{className:"h-full w-full",children:c.jsx(Pn,{})})})]})]})]});case"portfolio":return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center",children:[c.jsx(Vd,{className:"w-5 h-5 mr-2 text-green-600"}),"My Registered IP Assets"]}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"IP assets you've registered on Story Protocol"})]}),Pt&&Pt.assets.length>0?c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(Ue,{variant:"secondary",className:"bg-green-100 text-green-800 px-3 py-1",children:[Pt.summary.total," Total"]}),c.jsxs(Ue,{variant:"secondary",className:"bg-blue-100 text-blue-800 px-3 py-1",children:[Pt.summary.minted," Minted"]}),c.jsxs(Ue,{variant:"secondary",className:"bg-yellow-100 text-yellow-800 px-3 py-1",children:[Pt.summary.pending," Pending"]})]}):P.length>0&&c.jsxs(Ue,{variant:"secondary",className:"bg-green-100 text-green-800 px-3 py-1",children:[P.length," Local"]})]}),it?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600 mx-auto"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Loading your registered IP assets from backend..."})]}):Pt&&Pt.assets.length>0?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Pt.assets.map(ne=>c.jsx(n5,{asset:ne},ne._id))}):we&&P.length>0?c.jsxs(c.Fragment,{children:[c.jsx(me,{className:"border border-yellow-200 bg-yellow-50 mb-4",children:c.jsx(ye,{className:"p-4",children:c.jsx("p",{className:"text-yellow-800 text-sm",children:" Backend API unavailable. Showing cached assets from localStorage."})})}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:P.map((ne,_t)=>{var sn;return c.jsxs(me,{className:"backdrop-blur-md bg-white/30 border border-white/20 shadow-sm hover:shadow-md transition-shadow",children:[c.jsx(yt,{className:"pb-3",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx(gt,{className:"text-base font-bold text-gray-900 line-clamp-1",children:ne.title}),c.jsx(Ue,{variant:"outline",className:"mt-2 text-xs",children:ne.assetType})]}),c.jsx(Ds,{className:"w-5 h-5 text-green-600 flex-shrink-0"})]})}),c.jsxs(ye,{className:"pt-0 space-y-3",children:[c.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:ne.description}),c.jsxs("div",{className:"space-y-2 text-xs",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-500",children:"IP ID:"}),c.jsxs("span",{className:"font-mono text-gray-900 truncate ml-2",title:ne.ipId,children:[(sn=ne.ipId)==null?void 0:sn.slice(0,10),"..."]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-500",children:"Token ID:"}),c.jsxs("span",{className:"font-mono text-gray-900",children:["#",ne.tokenId]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-500",children:"License:"}),c.jsx("span",{className:"font-medium text-gray-900",children:ne.licenseType==="commercial_remix"?"Commercial":"Non-Commercial"})]}),ne.royaltyPercent>0&&c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-500",children:"Royalty:"}),c.jsxs("span",{className:"font-medium text-green-600",children:[ne.royaltyPercent,"%"]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-500",children:"Registered:"}),c.jsx("span",{className:"text-gray-900",children:new Date(ne.registeredAt).toLocaleDateString()})]})]}),c.jsx("div",{className:"pt-2 border-t border-gray-100",children:c.jsxs(te,{variant:"outline",size:"sm",className:"w-full text-xs",onClick:()=>{window.open(`https://aeneid.storyscan.xyz/tx/${ne.txHash}`,"_blank")},children:[c.jsx(_p,{className:"w-3 h-3 mr-1"}),"View on Explorer"]})})]})]},ne.ipId||_t)})})]}):c.jsx(me,{className:"backdrop-blur-md bg-white/30 border border-dashed border-white/30",children:c.jsxs(ye,{className:"text-center py-12",children:[c.jsx(Vd,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No IP Assets Registered Yet"}),c.jsx("p",{className:"text-gray-600 mb-4",children:we?"Backend API unavailable and no local cache found. Try again later or register new assets.":"Register your first IP asset on Story Protocol to get started."}),c.jsx(te,{onClick:()=>window.location.href="/issuer",variant:"default",className:"bg-green-600 hover:bg-green-700",children:"Register IP Asset"})]})})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Owned Assets"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Your tokenized real-world asset portfolio"})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center space-y-2 sm:space-y-0 sm:space-x-3",children:[c.jsxs(Ue,{variant:"secondary",className:"bg-gray-100 text-gray-900 px-3 py-1",children:[c.jsx(ho,{className:"w-4 h-4 mr-2"}),Z.length," Assets"]}),c.jsxs(te,{variant:"outline",size:"sm",onClick:()=>y&&wt(),disabled:S||!y,children:[c.jsx(n1,{className:"w-4 h-4 mr-2"}),S?"Loading...":"Refresh"]})]})]}),y?Z.length===0?c.jsx(me,{className:"backdrop-blur-md bg-white/30 border border-white/20 shadow-sm",children:c.jsxs(ye,{className:"p-12 text-center",children:[c.jsx(bu,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Assets Found"}),c.jsx("p",{className:"text-gray-600 mb-6",children:S?"Loading your assets...":"You don't own any tokenized assets yet"}),!S&&c.jsxs(te,{variant:"outline",onClick:()=>window.open("/marketplace","_blank"),children:[c.jsx(bu,{className:"w-4 h-4 mr-2"}),"Browse Marketplace"]})]})}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Z.map((ne,_t)=>{const sn=parseFloat(_e(ne.price))*ne.amount,fe=ne.type==="Real Estate"?bu:ne.type==="Invoice"?fd:ne.type==="Commodity"?jc:_U;return c.jsxs(Gt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:_t*.1},onClick:()=>Sn(ne),className:"group bg-white/90 backdrop-blur-sm rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 cursor-pointer border border-gray-200/50 hover:border-gray-300/50 overflow-hidden hover:scale-[1.02]",children:[c.jsxs("div",{className:"relative overflow-hidden",children:[ne.image&&c.jsx(sf,{src:ne.image,alt:ne.name,className:"w-full h-48 object-cover group-hover:scale-110 transition-transform duration-700",assetType:ne.type||"Real Estate",tokenId:ne.tokenId}),c.jsx("div",{className:"absolute top-4 left-4",children:c.jsxs("span",{className:"px-3 py-1 bg-white/90 backdrop-blur-sm rounded-full text-xs font-medium text-gray-700 border border-gray-200/50 flex items-center",children:[c.jsx(fe,{className:"w-3 h-3 mr-1"}),ne.type]})}),c.jsx("div",{className:"absolute top-4 right-4",children:c.jsxs("span",{className:"px-2 py-1 bg-blue-500/90 backdrop-blur-sm rounded-full text-xs font-medium text-white border border-blue-400/50",children:["#",ne.tokenId]})}),c.jsx("div",{className:"absolute bottom-4 left-4",children:c.jsx("span",{className:`px-3 py-1 backdrop-blur-sm rounded-full text-xs font-medium border ${ne.source==="marketplace"?"bg-blue-500/90 text-white border-blue-400/50":"bg-green-500/90 text-white border-green-400/50"}`,children:ne.source==="marketplace"?" Marketplace":" Wallet"})}),c.jsx("div",{className:"absolute bottom-4 right-4",children:c.jsxs("span",{className:"px-3 py-1 bg-white/90 backdrop-blur-sm rounded-full text-xs font-medium text-gray-700 border border-gray-200/50",children:[ne.amount," tokens"]})})]}),c.jsxs("div",{className:"p-6",children:[c.jsx("h3",{className:"font-bold text-gray-900 mb-2 group-hover:text-gray-700 transition-colors line-clamp-1",children:ne.name}),c.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2 leading-relaxed",children:ne.description}),c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{children:[c.jsxs("p",{className:"text-lg font-bold text-blue-600",children:[sn.toFixed(4)," Flow"]}),c.jsx("p",{className:"text-xs text-gray-500",children:"Total Value"})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-sm font-medium text-green-600",children:"+5.0%"}),c.jsx("p",{className:"text-xs text-gray-500",children:"Performance"})]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),c.jsx("span",{className:"text-xs text-gray-600",children:"Available"})]}),c.jsxs("div",{className:"flex space-x-2",children:[ne.source==="marketplace"&&c.jsxs("button",{className:"px-3 py-1 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all duration-300 shadow-md hover:shadow-lg text-xs font-medium",onClick:yr=>{yr.stopPropagation(),Rn(ne)},children:[c.jsx(s1,{className:"w-3 h-3 mr-1 inline"}),"Withdraw"]}),c.jsx(cF,{requiresKYC:!0,blockingMode:!1,customMessage:"KYC verification required for P2P trading",onComplianceVerified:()=>mn(ne),children:c.jsxs("button",{className:"px-3 py-1 bg-gradient-to-r from-gray-800 to-black text-white rounded-lg hover:from-gray-900 hover:to-gray-800 transition-all duration-300 shadow-md hover:shadow-lg text-xs font-medium",onClick:yr=>{yr.stopPropagation(),mn(ne)},children:[c.jsx(Ui,{className:"w-3 h-3 mr-1 inline"}),"Trade"]})})]})]})]})]},ne.tokenId)})}):c.jsx(me,{className:"backdrop-blur-md bg-white/30 border border-white/20 shadow-sm",children:c.jsxs(ye,{className:"p-12 text-center",children:[c.jsx(ho,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Connect Your Wallet"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Connect your wallet to view your owned assets"}),c.jsxs(te,{onClick:Te,disabled:S,children:[c.jsx(ho,{className:"w-4 h-4 mr-2"}),S?"Connecting...":"Connect Wallet"]})]})})]});case"income":return c.jsx(o4e,{});case"my-ips":return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Registered IP Assets"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"IP assets you've registered on Story Protocol"})]}),Pt&&Pt.assets.length>0&&c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(Ue,{variant:"secondary",className:"bg-green-100 text-green-800 px-3 py-1",children:[Pt.summary.total," Total"]}),c.jsxs(Ue,{variant:"secondary",className:"bg-blue-100 text-blue-800 px-3 py-1",children:[Pt.summary.minted," Minted"]}),c.jsxs(Ue,{variant:"secondary",className:"bg-yellow-100 text-yellow-800 px-3 py-1",children:[Pt.summary.pending," Pending"]})]})]}),it?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto"}),c.jsx("p",{className:"mt-4 text-gray-600",children:"Loading your registered IP assets..."})]}):Pt&&Pt.assets.length>0?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Pt.assets.map(ne=>c.jsx(n5,{asset:ne},ne._id))}):we?c.jsx(me,{className:"border border-red-200 bg-red-50",children:c.jsxs(ye,{className:"p-12 text-center",children:[c.jsx(Vd,{className:"w-12 h-12 text-red-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Failed to Load Assets"}),c.jsxs("p",{className:"text-red-600 mb-4",children:["Error: ",we.message]}),c.jsx(te,{onClick:()=>window.location.reload(),variant:"outline",children:"Retry"})]})}):c.jsx(me,{className:"border border-dashed border-gray-300",children:c.jsxs(ye,{className:"text-center py-12",children:[c.jsx(Vd,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No IP Assets Registered Yet"}),c.jsx("p",{className:"text-gray-600 mb-4",children:"Register your first IP asset on Story Protocol to get started."}),c.jsxs(te,{onClick:()=>t("/issuer"),variant:"default",className:"bg-green-600 hover:bg-green-700",children:[c.jsx(Vd,{className:"w-4 h-4 mr-2"}),"Register IP Asset"]})]})})]});case"my-licenses":return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Owned Licenses"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"License tokens you've minted from IPs"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(Ue,{variant:"secondary",className:"bg-blue-100 text-blue-800 px-3 py-1",children:[B.length," Total"]}),c.jsxs(te,{onClick:Uo,variant:"outline",size:"sm",children:[c.jsx(Sr,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})]}),B.length>0?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:B.map(ne=>c.jsxs(me,{className:"hover:shadow-lg transition-shadow",children:[c.jsxs(yt,{children:[c.jsxs(gt,{className:"text-lg flex items-center gap-2",children:[c.jsx(Sa,{className:"w-5 h-5 text-blue-600"}),"License #",ne.licenseTokenId.slice(-8)]}),c.jsxs(Pr,{className:"truncate",title:ne.parentIpId,children:["Parent IP: ",ne.parentIpId.slice(0,10),"...",ne.parentIpId.slice(-8)]})]}),c.jsxs(ye,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-500",children:"IP Name:"}),c.jsx("span",{className:"font-medium text-right",children:ne.parentIpName})]}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-500",children:"Minted:"}),c.jsx("span",{className:"font-medium",children:new Date(ne.mintedAt).toLocaleDateString()})]}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-500",children:"License Token ID:"}),c.jsxs("span",{className:"font-mono text-xs",children:[ne.licenseTokenId.slice(0,10),"..."]})]})]}),c.jsxs("div",{className:"flex gap-2 mt-4",children:[c.jsxs(te,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>t("/dashboard/pay-royalties"),children:[c.jsx(Ui,{className:"w-4 h-4 mr-1"}),"Pay Royalty"]}),c.jsxs(te,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>window.open(`https://explorer.story.foundation/ipa/${ne.parentIpId}`,"_blank"),children:[c.jsx(_p,{className:"w-4 h-4 mr-1"}),"View IP"]})]}),c.jsx("div",{className:"pt-3 border-t",children:c.jsx("p",{className:"text-xs text-gray-500",children:"This license allows you to use the parent IP according to its license terms."})})]})]},ne.licenseTokenId))}):c.jsx(me,{className:"border border-dashed border-gray-300",children:c.jsxs(ye,{className:"text-center py-12",children:[c.jsx(Sa,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No License Tokens Yet"}),c.jsx("p",{className:"text-gray-600 mb-4",children:"You haven't minted any license tokens. Visit the marketplace to mint licenses from IPs you want to use."}),c.jsxs(te,{onClick:()=>t("/marketplace"),variant:"default",className:"bg-blue-600 hover:bg-blue-700",children:[c.jsx(Sa,{className:"w-4 h-4 mr-2"}),"Browse Marketplace"]})]})})]});case"transactions":return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Transaction History"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"View your complete trading and investment history"})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center space-y-2 sm:space-y-0 sm:space-x-3",children:[c.jsxs(te,{variant:"outline",size:"sm",onClick:()=>pn(!0),disabled:Nt,children:[c.jsx(Sr,{className:`w-4 h-4 mr-2 ${Nt?"animate-spin":""}`}),Nt?"Loading...":"Refresh"]}),c.jsxs(te,{variant:"outline",size:"sm",children:[c.jsx(s1,{className:"w-4 h-4 mr-2"}),"Export"]}),c.jsxs(te,{variant:"outline",size:"sm",children:[c.jsx(XC,{className:"w-4 h-4 mr-2"}),"Filter"]})]})]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx(Ue,{variant:"secondary",className:"bg-gray-100 text-gray-900",children:"All Transactions"}),c.jsx(Ue,{variant:"outline",children:"Buys"}),c.jsx(Ue,{variant:"outline",children:"Sells"}),c.jsx(Ue,{variant:"outline",children:"Dividends"})]}),c.jsx(me,{className:"border border-gray-200 shadow-sm",children:c.jsxs(ye,{className:"p-0",children:[c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:c.jsxs("tr",{children:[c.jsx("th",{className:"text-left py-3 px-4 md:px-6 text-xs md:text-sm font-medium text-gray-600 uppercase tracking-wide",children:"Date"}),c.jsx("th",{className:"text-left py-3 px-4 md:px-6 text-xs md:text-sm font-medium text-gray-600 uppercase tracking-wide",children:"Asset"}),c.jsx("th",{className:"text-left py-3 px-4 md:px-6 text-xs md:text-sm font-medium text-gray-600 uppercase tracking-wide",children:"Type"}),c.jsx("th",{className:"text-right py-3 px-4 md:px-6 text-xs md:text-sm font-medium text-gray-600 uppercase tracking-wide",children:"Amount"}),c.jsx("th",{className:"text-right py-3 px-4 md:px-6 text-xs md:text-sm font-medium text-gray-600 uppercase tracking-wide",children:"Price"}),c.jsx("th",{className:"text-center py-3 px-4 md:px-6 text-xs md:text-sm font-medium text-gray-600 uppercase tracking-wide",children:"Status"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200",children:Nt?Array.from({length:5}).map((ne,_t)=>c.jsxs("tr",{className:"animate-pulse",children:[c.jsxs("td",{className:"py-3 px-4 md:px-6",children:[c.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"}),c.jsx("div",{className:"h-3 bg-gray-200 rounded w-16 mt-1"})]}),c.jsx("td",{className:"py-3 px-4 md:px-6",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 bg-gray-200 rounded-lg"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"}),c.jsx("div",{className:"h-3 bg-gray-200 rounded w-16 mt-1"})]})]})}),c.jsx("td",{className:"py-3 px-4 md:px-6",children:c.jsx("div",{className:"h-6 bg-gray-200 rounded w-12"})}),c.jsx("td",{className:"py-3 px-4 md:px-6 text-right",children:c.jsx("div",{className:"h-4 bg-gray-200 rounded w-16 ml-auto"})}),c.jsx("td",{className:"py-3 px-4 md:px-6 text-right",children:c.jsx("div",{className:"h-4 bg-gray-200 rounded w-20 ml-auto"})}),c.jsx("td",{className:"py-3 px-4 md:px-6 text-center",children:c.jsx("div",{className:"h-6 bg-gray-200 rounded w-16 mx-auto"})})]},_t)):R.length===0?c.jsx("tr",{children:c.jsxs("td",{colSpan:6,className:"py-12 text-center text-gray-500",children:[c.jsx(up,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),c.jsx("p",{className:"text-lg font-medium mb-2",children:"No transactions found"}),c.jsx("p",{className:"text-sm",children:"Your transaction history will appear here once you buy or sell assets."})]})}):R.map((ne,_t)=>c.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[c.jsx("td",{className:"py-3 px-4 md:px-6 text-xs md:text-sm text-gray-900",children:c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:new Date(ne.timestamp).toLocaleDateString()}),c.jsx("div",{className:"text-gray-500 text-xs",children:new Date(ne.timestamp).toLocaleTimeString()})]})}),c.jsx("td",{className:"py-3 px-4 md:px-6",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 bg-gray-100 rounded-lg flex items-center justify-center flex-shrink-0",children:c.jsx(bu,{className:"w-4 md:w-5 h-4 md:h-5 text-gray-600"})}),c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-900 truncate",children:ne.assetName}),c.jsxs("p",{className:"text-xs text-gray-500 truncate",children:["Token ID: ",ne.tokenId]})]})]})}),c.jsx("td",{className:"py-3 px-4 md:px-6",children:c.jsx(Ue,{variant:ne.type==="buy"?"default":"secondary",className:`text-xs ${ne.type==="buy"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:ne.type.charAt(0).toUpperCase()+ne.type.slice(1)})}),c.jsxs("td",{className:"py-3 px-4 md:px-6 text-right text-xs md:text-sm font-medium text-gray-900",children:[ne.amount," ",ne.amount===1?"token":"tokens"]}),c.jsxs("td",{className:"py-3 px-4 md:px-6 text-right text-xs md:text-sm font-bold text-gray-900",children:[parseFloat(ne.price).toFixed(4)," Flow",ne.platformFee&&parseFloat(ne.platformFee)>0&&c.jsxs("div",{className:"text-xs text-gray-500",children:["Fee: ",parseFloat(ne.platformFee).toFixed(4)," Flow"]})]}),c.jsx("td",{className:"py-3 px-4 md:px-6 text-center",children:c.jsx(Ue,{variant:"outline",className:`text-xs cursor-pointer ${ne.status==="success"?"bg-green-50 text-green-700 border-green-200":"bg-red-50 text-red-700 border-red-200"}`,onClick:()=>window.open(`https://arbiscan.io/tx/${ne.hash}`,"_blank"),title:`View on Arbiscan: ${ne.hash}`,children:ne.status==="success"?"Success":"Failed"})})]},ne.hash))})]})}),c.jsx("div",{className:"border-t border-gray-200 p-4 md:p-6 text-center",children:c.jsx(te,{variant:"outline",size:"sm",children:"Load More Transactions"})})]})}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:[c.jsx(me,{className:"border border-gray-200 shadow-sm",children:c.jsx(ye,{className:"p-4 md:p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600 mb-1",children:"TOTAL BOUGHT"}),c.jsxs("p",{className:"text-xl md:text-2xl font-bold text-gray-900",children:[on().totalBought.toFixed(4)," Flow"]}),c.jsxs("p",{className:"text-gray-500 text-xs md:text-sm mt-1",children:[on().buyTransactions," transactions"]})]}),c.jsx("div",{className:"p-2 md:p-3 bg-green-100 rounded-lg",children:c.jsx(YC,{className:"w-5 md:w-6 h-5 md:h-6 text-green-600"})})]})})}),c.jsx(me,{className:"border border-gray-200 shadow-sm",children:c.jsx(ye,{className:"p-4 md:p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600 mb-1",children:"TOTAL SOLD"}),c.jsxs("p",{className:"text-xl md:text-2xl font-bold text-gray-900",children:[on().totalSold.toFixed(4)," Flow"]}),c.jsxs("p",{className:"text-gray-500 text-xs md:text-sm mt-1",children:[on().sellTransactions," transactions"]})]}),c.jsx("div",{className:"p-2 md:p-3 bg-red-100 rounded-lg",children:c.jsx(ise,{className:"w-5 md:w-6 h-5 md:h-6 text-red-600"})})]})})}),c.jsx(me,{className:"border border-gray-200 shadow-sm",children:c.jsx(ye,{className:"p-4 md:p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600 mb-1",children:"DIVIDEND INCOME"}),c.jsxs("p",{className:"text-xl md:text-2xl font-bold text-gray-900",children:[on().dividendIncome.toFixed(4)," Flow"]}),c.jsx("p",{className:"text-gray-500 text-xs md:text-sm mt-1",children:"Estimated annual return (8%)"})]}),c.jsx("div",{className:"p-2 md:p-3 bg-blue-100 rounded-lg",children:c.jsx(Ui,{className:"w-5 md:w-6 h-5 md:h-6 text-blue-600"})})]})})})]})]});case"profile":return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Profile Settings"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your account and preferences"})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs(te,{onClick:Re,disabled:T,variant:"outline",className:"w-fit",children:[c.jsx(Sr,{className:`w-4 h-4 mr-2 ${T?"animate-spin":""}`}),"Refresh Profile"]}),c.jsxs(te,{className:"bg-gray-900 hover:bg-gray-800 text-white w-fit",children:[c.jsx(QC,{className:"w-4 h-4 mr-2"}),"Advanced Settings"]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs(me,{className:"border border-gray-200 shadow-sm",children:[c.jsx(yt,{className:"pb-4",children:c.jsxs(gt,{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"p-2 bg-gray-900 rounded-lg",children:c.jsx(hm,{className:"w-5 md:w-6 h-5 md:h-6 text-white"})}),c.jsxs("div",{children:[c.jsx("span",{className:"text-lg md:text-2xl font-bold text-gray-900",children:"Profile Information"}),c.jsx("p",{className:"text-gray-600 text-sm",children:"Your account details"})]})]})}),c.jsx(ye,{className:"space-y-6",children:T?c.jsxs("div",{className:"flex items-center justify-center p-8",children:[c.jsx(Sr,{className:"w-6 h-6 animate-spin text-gray-400 mr-2"}),c.jsx("span",{className:"text-gray-600",children:"Loading profile..."})]}):C?c.jsxs("div",{className:"text-center p-8",children:[c.jsxs("div",{className:"text-red-500 mb-4",children:[c.jsx(hm,{className:"w-12 h-12 mx-auto mb-2"}),c.jsx("p",{className:"font-semibold",children:"Failed to load profile"}),c.jsx("p",{className:"text-sm text-gray-600",children:C})]}),c.jsxs(te,{onClick:Re,variant:"outline",size:"sm",children:[c.jsx(Sr,{className:"w-4 h-4 mr-2"}),"Retry"]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-4 sm:space-y-0 sm:space-x-6",children:[c.jsxs("div",{className:"relative",children:[c.jsxs(Bg,{className:"w-20 h-20 md:w-24 md:h-24 border-4 border-gray-200",children:[c.jsx(dX,{src:(g==null?void 0:g.profilePicture)||"/placeholder-avatar.jpg"}),c.jsxs(Ug,{className:"bg-gray-900 text-white text-xl md:text-2xl font-bold",children:[((de=g==null?void 0:g.firstName)==null?void 0:de.charAt(0))||((ue=m==null?void 0:m.firstName)==null?void 0:ue.charAt(0))||"U",((Se=g==null?void 0:g.lastName)==null?void 0:Se.charAt(0))||((at=m==null?void 0:m.lastName)==null?void 0:at.charAt(0))||"S"]})]}),c.jsx("div",{className:"absolute -bottom-2 -right-2 p-1.5 md:p-2 bg-green-500 rounded-full shadow-lg",children:c.jsx(r1,{className:"w-3 h-3 md:w-4 md:h-4 text-white"})})]}),c.jsxs("div",{className:"space-y-2 text-center sm:text-left",children:[c.jsx("h3",{className:"text-xl md:text-2xl font-bold text-gray-900",children:(g==null?void 0:g.fullName)||`${(g==null?void 0:g.firstName)||(m==null?void 0:m.firstName)||"Unknown"} ${(g==null?void 0:g.lastName)||(m==null?void 0:m.lastName)||"User"}`}),c.jsx("p",{className:"text-gray-600",children:(g==null?void 0:g.primaryRole)==="admin"?"Administrator":(g==null?void 0:g.primaryRole)==="issuer"?"Asset Issuer":(g==null?void 0:g.primaryRole)==="manager"?"Portfolio Manager":"Premium Account Holder"}),c.jsxs(Ue,{className:`${g!=null&&g.isVerified||m!=null&&m.isVerified?"bg-green-50 text-green-700 border-green-200":"bg-yellow-50 text-yellow-700 border-yellow-200"}`,children:[c.jsx(OU,{className:"w-3 h-3 mr-1"}),g!=null&&g.isVerified||m!=null&&m.isVerified?"Verified Investor":"Pending Verification"]})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-gray-900",children:"Email Address"}),c.jsx("p",{className:"text-gray-600 text-sm",children:(g==null?void 0:g.email)||(m==null?void 0:m.email)||"Not provided"})]}),c.jsx(Ue,{variant:"outline",className:`${g!=null&&g.isVerified||m!=null&&m.isVerified?"bg-green-50 text-green-700 border-green-200":"bg-yellow-50 text-yellow-700 border-yellow-200"}`,children:g!=null&&g.isVerified||m!=null&&m.isVerified?"Verified":"Pending"})]})}),c.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-gray-900",children:"Phone Number"}),c.jsx("p",{className:"text-gray-600 text-sm",children:(g==null?void 0:g.phone)||"Not provided"})]}),c.jsx(Ue,{variant:"outline",className:`${g!=null&&g.phone?"bg-green-50 text-green-700 border-green-200":"bg-gray-50 text-gray-700 border-gray-200"}`,children:g!=null&&g.phone?"Provided":"Not Set"})]})}),c.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-gray-900",children:"Wallet Address"}),c.jsx("p",{className:"text-gray-600 text-sm font-mono break-all",children:(g==null?void 0:g.walletAddress)||(m==null?void 0:m.walletAddress)||h||"Not connected"})]}),c.jsx(Ue,{variant:"outline",className:`${g!=null&&g.walletAddress||m!=null&&m.walletAddress||h?"bg-blue-50 text-blue-700 border-blue-200":"bg-gray-50 text-gray-700 border-gray-200"}`,children:g!=null&&g.walletAddress||m!=null&&m.walletAddress||h?"Connected":"Not Connected"})]})}),(g==null?void 0:g.address)&&c.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-gray-900",children:"Address"}),c.jsxs("p",{className:"text-gray-600 text-sm",children:[[g.address.street,g.address.city,g.address.state,g.address.country].filter(Boolean).join(", ")||"Not provided",g.address.zipCode&&` ${g.address.zipCode}`]})]}),c.jsx(Ue,{variant:"outline",className:"bg-purple-50 text-purple-700 border-purple-200",children:"Address Set"})]})}),c.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-gray-900",children:"Member Since"}),c.jsx("p",{className:"text-gray-600 text-sm",children:g!=null&&g.createdAt||m!=null&&m.createdAt?new Date((g==null?void 0:g.createdAt)||(m==null?void 0:m.createdAt)).toLocaleDateString("en-US",{year:"numeric",month:"long"}):"Unknown"})]}),c.jsx(Ue,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:g!=null&&g.createdAt||m!=null&&m.createdAt?Math.floor((Date.now()-new Date((g==null?void 0:g.createdAt)||(m==null?void 0:m.createdAt)).getTime())/(1e3*60*60*24*30))+" months":"New"})]})})]})]})})]}),c.jsxs(me,{className:"border border-gray-200 shadow-sm",children:[c.jsx(yt,{className:"pb-4",children:c.jsxs(gt,{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"p-2 bg-gray-900 rounded-lg",children:c.jsx(Jp,{className:"w-5 md:w-6 h-5 md:h-6 text-white"})}),c.jsxs("div",{children:[c.jsx("span",{className:"text-lg md:text-2xl font-bold text-gray-900",children:"Account Statistics"}),c.jsx("p",{className:"text-gray-600 text-sm",children:"Your investment journey"})]})]})}),c.jsxs(ye,{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"p-3 md:p-4 bg-green-50 rounded-lg border border-green-200 text-center",children:[c.jsx("div",{className:"p-2 bg-green-100 rounded-lg w-fit mx-auto mb-3",children:c.jsx(Rs,{className:"w-4 md:w-5 h-4 md:h-5 text-green-600"})}),c.jsx("p",{className:"text-lg md:text-2xl font-bold text-green-600",children:Z.length}),c.jsx("p",{className:"text-green-700 text-xs md:text-sm font-medium",children:"Assets Owned"})]}),c.jsxs("div",{className:"p-3 md:p-4 bg-blue-50 rounded-lg border border-blue-200 text-center",children:[c.jsx("div",{className:"p-2 bg-blue-100 rounded-lg w-fit mx-auto mb-3",children:c.jsx(up,{className:"w-4 md:w-5 h-4 md:h-5 text-blue-600"})}),c.jsx("p",{className:"text-lg md:text-2xl font-bold text-blue-600",children:R.length}),c.jsx("p",{className:"text-blue-700 text-xs md:text-sm font-medium",children:"Transactions"})]}),c.jsxs("div",{className:"p-3 md:p-4 bg-orange-50 rounded-lg border border-orange-200 text-center",children:[c.jsx("div",{className:"p-2 bg-orange-100 rounded-lg w-fit mx-auto mb-3",children:c.jsx(k3,{className:"w-4 md:w-5 h-4 md:h-5 text-orange-600"})}),c.jsx("p",{className:"text-lg md:text-2xl font-bold text-orange-600",children:g!=null&&g.createdAt||m!=null&&m.createdAt?Math.floor((Date.now()-new Date((g==null?void 0:g.createdAt)||(m==null?void 0:m.createdAt)).getTime())/(1e3*60*60*24*30)):0}),c.jsx("p",{className:"text-orange-700 text-xs md:text-sm font-medium",children:"Months Active"})]}),c.jsxs("div",{className:"p-3 md:p-4 bg-purple-50 rounded-lg border border-purple-200 text-center",children:[c.jsx("div",{className:"p-2 bg-purple-100 rounded-lg w-fit mx-auto mb-3",children:c.jsx(Vd,{className:"w-4 md:w-5 h-4 md:h-5 text-purple-600"})}),c.jsx("p",{className:"text-lg md:text-2xl font-bold text-purple-600",children:(g==null?void 0:g.kycStatus)==="approved"||(m==null?void 0:m.kycStatus)==="approved"?"Gold":(g==null?void 0:g.kycStatus)==="pending"||(m==null?void 0:m.kycStatus)==="pending"?"Silver":"Bronze"}),c.jsx("p",{className:"text-purple-700 text-xs md:text-sm font-medium",children:"Tier Status"})]})]}),c.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-200",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"font-semibold text-gray-900 text-sm",children:"Investment Level"}),c.jsxs(Ue,{className:"bg-yellow-50 text-orange-700 border-orange-200",children:[c.jsx(Vd,{className:"w-3 h-3 mr-1"}),(g==null?void 0:g.kycStatus)==="approved"||(m==null?void 0:m.kycStatus)==="approved"?"Premium Investor":(g==null?void 0:g.kycStatus)==="pending"||(m==null?void 0:m.kycStatus)==="pending"?"Standard Investor":"Basic Investor"]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"font-semibold text-gray-900 text-sm",children:"KYC Status"}),c.jsx(Ue,{variant:"outline",className:`${(g==null?void 0:g.kycStatus)==="approved"||(m==null?void 0:m.kycStatus)==="approved"?"bg-green-50 text-green-700 border-green-200":(g==null?void 0:g.kycStatus)==="pending"||(m==null?void 0:m.kycStatus)==="pending"?"bg-yellow-50 text-yellow-700 border-yellow-200":"bg-red-50 text-red-700 border-red-200"}`,children:(g==null?void 0:g.kycStatus)==="approved"||(m==null?void 0:m.kycStatus)==="approved"?"Approved":(g==null?void 0:g.kycStatus)==="pending"||(m==null?void 0:m.kycStatus)==="pending"?"Pending":"Not Started"})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"font-semibold text-gray-900 text-sm",children:"User Roles"}),c.jsx("div",{className:"flex gap-1",children:((g==null?void 0:g.roles)||(m==null?void 0:m.roles)||[]).map((ne,_t)=>c.jsx(Ue,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200 text-xs",children:ne.charAt(0).toUpperCase()+ne.slice(1)},_t))})]})]})]})]})]}),c.jsxs(me,{className:"border border-gray-200 shadow-sm",children:[c.jsx(yt,{className:"pb-4",children:c.jsxs(gt,{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"p-2 bg-gray-900 rounded-lg",children:c.jsx(QC,{className:"w-5 md:w-6 h-5 md:h-6 text-white"})}),c.jsxs("div",{children:[c.jsx("span",{className:"text-lg md:text-2xl font-bold text-gray-900",children:"Preferences & Settings"}),c.jsx("p",{className:"text-gray-600 text-sm",children:"Customize your experience"})]})]})}),c.jsx(ye,{children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx("h4",{className:"font-semibold text-gray-900 text-base md:text-lg",children:"Notifications"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-gray-900",children:"Email Notifications"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Receive updates via email"})]}),c.jsx("div",{className:`w-12 h-6 rounded-full relative ${((He=(Pe=g==null?void 0:g.preferences)==null?void 0:Pe.notifications)==null?void 0:He.email)!==!1?"bg-green-500":"bg-gray-300"}`,children:c.jsx("div",{className:`w-5 h-5 bg-white rounded-full absolute top-0.5 shadow-sm transition-all ${((Oe=(Tt=g==null?void 0:g.preferences)==null?void 0:Tt.notifications)==null?void 0:Oe.email)!==!1?"right-0.5":"left-0.5"}`})})]}),c.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-gray-900",children:"Push Notifications"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Real-time alerts"})]}),c.jsx("div",{className:`w-12 h-6 rounded-full relative ${(mt=(ht=g==null?void 0:g.preferences)==null?void 0:ht.notifications)!=null&&mt.push?"bg-green-500":"bg-gray-300"}`,children:c.jsx("div",{className:`w-5 h-5 bg-white rounded-full absolute top-0.5 shadow-sm transition-all ${(un=(St=g==null?void 0:g.preferences)==null?void 0:St.notifications)!=null&&un.push?"right-0.5":"left-0.5"}`})})]}),c.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-gray-900",children:"SMS Notifications"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Text message alerts"})]}),c.jsx("div",{className:`w-12 h-6 rounded-full relative ${(rn=(Wt=g==null?void 0:g.preferences)==null?void 0:Wt.notifications)!=null&&rn.sms?"bg-green-500":"bg-gray-300"}`,children:c.jsx("div",{className:`w-5 h-5 bg-white rounded-full absolute top-0.5 shadow-sm transition-all ${(Yt=(fn=g==null?void 0:g.preferences)==null?void 0:fn.notifications)!=null&&Yt.sms?"right-0.5":"left-0.5"}`})})]})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h4",{className:"font-semibold text-gray-900 text-base md:text-lg",children:"Account Settings"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-gray-900",children:"Currency Preference"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Display currency"})]}),c.jsx(Ue,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:((Ke=g==null?void 0:g.preferences)==null?void 0:Ke.currency)||"USD"})]}),c.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-gray-900",children:"Language"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Interface language"})]}),c.jsx(Ue,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:((ie=g==null?void 0:g.preferences)==null?void 0:ie.language)==="en"?"English":((ot=g==null?void 0:g.preferences)==null?void 0:ot.language)==="es"?"Spanish":((Ft=g==null?void 0:g.preferences)==null?void 0:Ft.language)==="fr"?"French":"English"})]}),c.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-gray-900",children:"Last Login"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Last active session"})]}),c.jsx(Ue,{variant:"outline",className:"bg-gray-50 text-gray-700 border-gray-200",children:g!=null&&g.lastLogin||m!=null&&m.lastLogin?new Date((g==null?void 0:g.lastLogin)||(m==null?void 0:m.lastLogin)).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Unknown"})]})]})]})]})})]})]});case"notifications":return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Trading Notifications"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Your escrow status, order updates, and trading activities"})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsxs("div",{className:"flex items-center space-x-2 px-3 py-1 bg-blue-50 rounded-lg border border-blue-200",children:[c.jsx(qC,{className:"w-4 h-4 text-blue-600"}),c.jsxs("span",{className:"text-sm font-medium text-blue-700",children:[E," unread"]})]}),E>0&&c.jsx(te,{variant:"outline",size:"sm",onClick:Nn,children:"Mark All Read"})]})]}),c.jsx(me,{className:"border border-gray-200 shadow-sm",children:c.jsx(ye,{className:"p-0",children:V.length===0?c.jsxs("div",{className:"p-8 text-center",children:[c.jsx(qC,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Notifications Yet"}),c.jsx("p",{className:"text-gray-600 mb-4",children:"Your trading activities, escrow status, and order updates will appear here."}),c.jsx(te,{variant:"outline",onClick:()=>n("transactions"),children:"View Transaction History"})]}):c.jsx("div",{className:"divide-y divide-gray-100",children:V.map(ne=>{var _t;return c.jsxs("div",{className:`p-4 md:p-6 hover:bg-gray-50 transition-colors cursor-pointer ${ne.read?"":"bg-blue-50/30 border-l-4 border-l-blue-500"}`,onClick:()=>Fl(ne.id),children:[c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[c.jsxs("div",{className:`p-2 rounded-lg ${ne.type==="order_created"?"bg-blue-100":ne.type==="order_filled"?"bg-green-100":ne.type==="order_cancelled"?"bg-red-100":ne.type==="escrow_released"?"bg-yellow-100":"bg-gray-100"}`,children:[ne.type==="order_created"&&c.jsx(up,{className:`w-4 h-4 ${((_t=ne.orderData)==null?void 0:_t.orderType)==="buy"?"text-blue-600":"text-orange-600"}`}),ne.type==="order_filled"&&c.jsx(Ds,{className:"w-4 h-4 text-green-600"}),ne.type==="trade_completed"&&c.jsx(Rs,{className:"w-4 h-4 text-green-600"}),ne.type==="escrow_released"&&c.jsx(Yx,{className:"w-4 h-4 text-yellow-600"})]}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h4",{className:"text-sm md:text-base font-semibold text-gray-900 truncate",children:ne.title}),c.jsx("p",{className:"text-xs md:text-sm text-gray-600 mt-1 line-clamp-2",children:ne.message})]})]}),ne.orderData&&c.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg border border-gray-200",children:c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-xs md:text-sm",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-gray-600",children:"Asset"}),c.jsx("p",{className:"text-gray-900 truncate",children:ne.orderData.assetName})]}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-gray-600",children:"Amount"}),c.jsxs("p",{className:"text-gray-900",children:[ne.orderData.amount," tokens"]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-gray-600",children:"Price"}),c.jsxs("p",{className:"text-gray-900",children:[ne.orderData.price," Flow"]})]}),ne.orderData.escrowAmount&&c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-gray-600",children:"Escrow"}),c.jsxs("p",{className:"text-gray-900",children:[ne.orderData.escrowAmount," Flow"]})]})]})})]}),c.jsxs("div",{className:"flex flex-col items-end space-y-2 flex-shrink-0 ml-4",children:[c.jsx("div",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${ne.status==="completed"?"bg-green-100 text-green-800":ne.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:ne.status}),c.jsx("div",{className:"text-xs text-gray-500",children:new Date(ne.timestamp).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}),!ne.read&&c.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]})]}),ne.transactionHash&&c.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:c.jsxs(te,{variant:"outline",size:"sm",onClick:sn=>{sn.stopPropagation(),window.open(`https://www.flowscan.io/tx/${ne.transactionHash}`,"_blank")},className:"text-xs",children:[c.jsx(_p,{className:"w-3 h-3 mr-1"}),"View Transaction"]})})]},ne.id)})})})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsx(me,{className:"border border-gray-200 shadow-sm",children:c.jsx(ye,{className:"p-4 md:p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600 mb-1",children:"ACTIVE ORDERS"}),c.jsx("p",{className:"text-xl md:text-2xl font-bold text-blue-600",children:V.filter(ne=>ne.status==="pending"&&ne.type==="order_created").length})]}),c.jsx("div",{className:"p-2 md:p-3 bg-blue-100 rounded-lg",children:c.jsx(up,{className:"w-5 md:w-6 h-5 md:h-6 text-blue-600"})})]})})}),c.jsx(me,{className:"border border-gray-200 shadow-sm",children:c.jsx(ye,{className:"p-4 md:p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600 mb-1",children:"COMPLETED TRADES"}),c.jsx("p",{className:"text-xl md:text-2xl font-bold text-green-600",children:V.filter(ne=>ne.status==="completed").length})]}),c.jsx("div",{className:"p-2 md:p-3 bg-green-100 rounded-lg",children:c.jsx(Ds,{className:"w-5 md:w-6 h-5 md:h-6 text-green-600"})})]})})}),c.jsx(me,{className:"border border-gray-200 shadow-sm",children:c.jsx(ye,{className:"p-4 md:p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600 mb-1",children:"FUNDS ESCROWED"}),c.jsxs("p",{className:"text-xl md:text-2xl font-bold text-yellow-600",children:[V.filter(ne=>{var _t;return ne.status==="pending"&&((_t=ne.orderData)==null?void 0:_t.escrowAmount)}).reduce((ne,_t)=>{var sn;return ne+parseFloat(((sn=_t.orderData)==null?void 0:sn.escrowAmount)||"0")},0).toFixed(4)," Flow"]})]}),c.jsx("div",{className:"p-2 md:p-3 bg-yellow-100 rounded-lg",children:c.jsx(td,{className:"w-5 md:w-6 h-5 md:h-6 text-yellow-600"})})]})})})]})]});case"royalties":return c.jsx(QQ,{});default:return c.jsxs("div",{className:"space-y-6",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:(jt=TF.find(ne=>ne.id===e))==null?void 0:jt.label}),c.jsx(me,{className:"border-0 shadow-sm",children:c.jsx(ye,{className:"p-12 text-center",children:c.jsx("p",{className:"text-gray-600",children:"This section is coming soon..."})})})]})}};return c.jsxs("div",{className:`min-h-screen flex ${u?"dark bg-gray-900":""}`,style:{backgroundColor:u?"":"rgba(230, 240, 249, 0.9)"},children:[c.jsx(WT,{}),o&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>l(!1)}),c.jsxs(Gt.div,{className:`fixed left-0 top-0 h-full shadow-lg z-50 transition-all duration-300 backdrop-blur-md ${u?"bg-gray-800/80 border-gray-700":"bg-white/40 border-white/20"} ${r?"w-16":"w-64"} ${o?"translate-x-0":"-translate-x-full"} lg:translate-x-0 border-r`,initial:!1,animate:{width:r?64:256},transition:{duration:.3},children:[c.jsxs("div",{className:`p-6 border-b ${u?"border-gray-700":"border-gray-200"} flex items-center justify-between`,children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${u?"bg-gray-100":"bg-gray-900"}`,children:c.jsx(u0,{className:`w-5 h-5 ${u?"text-gray-900":"text-white"}`})}),!r&&c.jsx("div",{children:c.jsx("p",{className:`font-bold ${u?"text-white":"text-gray-900"}`,children:"Orion"})})]}),c.jsx(te,{variant:"ghost",size:"sm",onClick:()=>l(!1),className:"lg:hidden",children:c.jsx(LT,{className:"w-4 h-4"})})]}),c.jsx("nav",{className:"p-4 flex-1",children:c.jsx("div",{className:"space-y-2",children:TF.map(de=>c.jsxs("button",{onClick:()=>{n(de.id),l(!1)},className:`w-full flex items-center space-x-3 px-3 py-2 rounded-lg transition-colors relative group ${e===de.id?`${u?"bg-gray-700 text-white":"bg-gray-100 text-gray-900"}`:`${u?"text-gray-300 hover:bg-gray-700 hover:text-white":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`}`,title:r?de.label:"",children:[c.jsx(de.icon,{className:"w-5 h-5 flex-shrink-0"}),!r&&c.jsx("span",{className:"font-medium flex-1 text-left",children:de.label}),!r&&de.id==="notifications"&&E>0&&c.jsx("div",{className:"inline-flex items-center justify-center w-5 h-5 text-xs font-bold text-white bg-red-500 rounded-full flex-shrink-0",children:E>99?"99+":E}),r&&de.id==="notifications"&&E>0&&c.jsx("div",{className:"absolute -top-1 -right-1 inline-flex items-center justify-center w-4 h-4 text-xs font-bold text-white bg-red-500 rounded-full",children:E>9?"9+":E}),r&&c.jsx("div",{className:"absolute left-full ml-2 px-2 py-1 bg-gray-900 text-white text-xs rounded whitespace-nowrap pointer-events-none opacity-0 group-hover:opacity-100 transition-opacity z-10",children:de.label})]},de.id))})}),c.jsx("div",{className:`hidden lg:flex items-center justify-center p-4 border-t ${u?"border-gray-700":"border-gray-200"}`,children:c.jsx(te,{variant:"ghost",size:"sm",onClick:()=>s(!r),className:`w-full group relative ${u?"hover:bg-gray-700":"hover:bg-gray-100"}`,title:r?"Expand sidebar":"Collapse sidebar",children:c.jsxs("div",{className:"flex items-center justify-center space-x-2 w-full",children:[c.jsx(C3,{className:`w-5 h-5 transition-transform duration-300 ${r?"rotate-180":""}`}),!r&&c.jsx("span",{className:"text-sm font-medium",children:"Collapse"})]})})}),c.jsx(te,{variant:"ghost",size:"sm",onClick:()=>s(!r),className:`hidden lg:flex absolute -right-4 top-24 p-1 h-8 w-8 rounded-full shadow-lg border ${u?"bg-gray-800 border-gray-700 hover:bg-gray-700 text-white":"bg-white border-gray-200 hover:bg-gray-100 text-gray-900"}`,title:r?"Expand sidebar":"Collapse sidebar",children:c.jsx(C3,{className:`w-4 h-4 transition-transform duration-300 ${r?"rotate-180":""}`})})]}),c.jsxs("div",{className:`flex-1 transition-all duration-300 ${r?"lg:ml-16":"lg:ml-64"} ml-0`,style:{position:"relative",zIndex:1},children:[c.jsx("header",{className:`border-b px-4 md:px-6 py-4 backdrop-blur-md ${u?"bg-gray-800/80 border-gray-700":"bg-white/30 border-white/20"}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx(te,{variant:"ghost",size:"sm",onClick:()=>l(!o),className:"lg:hidden",children:c.jsx(wse,{className:"w-5 h-5"})}),c.jsxs("div",{children:[c.jsx("p",{className:`text-sm ${u?"text-gray-400":"text-gray-600"}`,children:"Welcome back,"}),c.jsx("p",{className:`font-semibold ${u?"text-white":"text-gray-900"}`,children:y&&h?`${h.slice(0,6)}...${h.slice(-4)}`:"Investor"})]})]}),c.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[c.jsxs(te,{onClick:()=>t("/issuer",{state:{from:"/dashboard"}}),className:"bg-black/80 hover:bg-black-700 text-white",size:"sm",children:[c.jsx(fd,{className:"w-4 h-4 mr-2"}),"Register IP"]}),y?c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs("div",{className:"hidden lg:flex items-center space-x-3 px-3 py-2 backdrop-blur-md bg-white/40 border border-white/30 rounded-lg shadow-sm",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(jc,{className:"w-4 h-4 text-blue-600"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500",children:"IP Balance"}),c.jsx("p",{className:"text-sm font-bold text-gray-900",children:Me?"...":ke})]})]}),c.jsx(EE,{orientation:"vertical",className:"h-8"}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Sa,{className:"w-4 h-4 text-purple-600"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500",children:"WIP Balance"}),c.jsx("p",{className:"text-sm font-bold text-gray-900",children:Me?"...":Ee})]})]})]}),c.jsx(te,{variant:"outline",size:"sm",onClick:()=>wt(),disabled:S,className:"hidden md:flex",children:S?"Loading...":c.jsx(Sr,{className:"w-4 h-4"})})]}):c.jsxs(te,{onClick:Te,disabled:S,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[c.jsx(ho,{className:"w-4 h-4 mr-2"}),S?"Connecting...":"Connect Wallet"]}),c.jsx(EE,{orientation:"vertical",className:"h-6 hidden md:block"}),c.jsx(te,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700",onClick:()=>t("/"),children:c.jsx(bse,{className:"w-5 h-5"})})]})]})}),c.jsx("main",{className:`p-4 md:p-6 ${u?"bg-gray-900":""}`,children:c.jsx(wR,{mode:"wait",children:c.jsx(Gt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:u?"text-white":"",children:Mn()},e)})})]}),c.jsx(qi,{open:Ar,onOpenChange:st,children:c.jsxs(yi,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[c.jsx(gi,{children:c.jsxs(vi,{className:"flex items-center space-x-2",children:[c.jsx(Io,{className:"w-5 h-5 text-blue-600"}),c.jsx("span",{children:"Asset Details"})]})}),je&&c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"w-full h-48 rounded-lg overflow-hidden",children:c.jsx(sf,{src:je.image,alt:je.name,className:"w-full h-full object-cover",assetType:je.type||"Real Estate",tokenId:je.tokenId})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:je.name}),c.jsx("p",{className:"text-gray-600 leading-relaxed",children:je.description})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[c.jsx("p",{className:"text-xs font-medium text-gray-600 mb-1",children:"TOKEN ID"}),c.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["#",je.tokenId]})]}),c.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[c.jsx("p",{className:"text-xs font-medium text-gray-600 mb-1",children:"OWNED TOKENS"}),c.jsx("p",{className:"text-lg font-bold text-blue-600",children:je.amount})]}),c.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[c.jsx("p",{className:"text-xs font-medium text-gray-600 mb-1",children:"PRICE PER TOKEN"}),c.jsxs("p",{className:"text-lg font-bold text-green-600",children:[parseFloat(_e(je.price)).toFixed(6)," Flow"]})]}),c.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[c.jsx("p",{className:"text-xs font-medium text-gray-600 mb-1",children:"TOTAL VALUE"}),c.jsxs("p",{className:"text-lg font-bold text-green-600",children:[(parseFloat(_e(je.price))*je.amount).toFixed(6)," Flow"]})]})]}),je.attributes&&je.attributes.length>0&&c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Asset Properties"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:je.attributes.map((de,ue)=>c.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg border border-blue-200",children:[c.jsxs("span",{className:"text-sm font-medium text-blue-700",children:[de.trait_type,":"]}),c.jsx("span",{className:"text-sm font-bold text-blue-900",children:de.value})]},ue))})]}),c.jsxs("div",{className:"bg-gray-900 text-white p-4 rounded-lg",children:[c.jsxs("h4",{className:"text-lg font-semibold mb-3 flex items-center",children:[c.jsx(bu,{className:"w-5 h-5 mr-2"}),"Blockchain Information"]}),c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-300",children:"Contract:"}),c.jsxs("span",{className:"font-mono bg-gray-800 px-2 py-1 rounded",children:[je.seller.substring(0,10),"...",je.seller.substring(je.seller.length-8)]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-300",children:"Asset Type:"}),c.jsx("span",{className:"font-medium",children:je.type})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-300",children:"Network:"}),c.jsx("span",{className:"font-medium",children:"Flow Mainnet "})]}),je.metadataURI&&c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-300",children:"Metadata:"}),c.jsx("span",{className:"font-mono bg-gray-800 px-2 py-1 rounded text-xs",children:"IPFS"})]})]})]}),c.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[c.jsxs("h4",{className:"text-lg font-semibold text-green-900 mb-3 flex items-center",children:[c.jsx(Rs,{className:"w-5 h-5 mr-2"}),"Performance & Yield"]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-green-700 font-medium",children:"Current Performance"}),c.jsx("p",{className:"text-xl font-bold text-green-600",children:"+5.2%"}),c.jsx("p",{className:"text-xs text-green-600",children:"Since purchase"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-green-700 font-medium",children:"Estimated Yearly Yield"}),c.jsx("p",{className:"text-xl font-bold text-green-600",children:"8.0%"}),c.jsx("p",{className:"text-xs text-green-600",children:"Based on asset type"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-green-700 font-medium",children:"Monthly Income"}),c.jsxs("p",{className:"text-xl font-bold text-green-600",children:[(parseFloat(_e(je.price))*je.amount*.08/12).toFixed(6)," S"]}),c.jsx("p",{className:"text-xs text-green-600",children:"Estimated"})]})]})]}),c.jsxs("div",{className:"flex space-x-3 pt-4",children:[c.jsx(te,{variant:"outline",className:"flex-1",onClick:()=>st(!1),children:"Close"}),c.jsx(cF,{requiresKYC:!0,blockingMode:!1,customMessage:"KYC verification required for P2P trading",onComplianceVerified:()=>{st(!1),Bl(je)},children:c.jsxs(te,{variant:"default",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",onClick:()=>{st(!1),mn(je)},children:[c.jsx(Ui,{className:"w-4 h-4 mr-2"}),"Trade P2P"]})})]})]})]})}),c.jsx(qi,{open:re,onOpenChange:Q,children:c.jsxs(yi,{className:"sm:max-w-md",children:[c.jsx(gi,{children:c.jsxs(vi,{className:"flex items-center space-x-2",children:[c.jsx(Ui,{className:"w-5 h-5 text-red-600"}),c.jsx("span",{children:"Sell Asset"})]})}),ee&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[c.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:c.jsx(bu,{className:"w-5 h-5 text-gray-600"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-gray-900",children:ee.name}),c.jsxs("p",{className:"text-sm text-gray-600",children:["Token ID: #",ee.tokenId]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Owned Tokens"}),c.jsx("p",{className:"font-bold text-gray-900",children:ee.amount})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Price per Token"}),c.jsxs("p",{className:"font-bold text-green-600",children:[(parseFloat(ee.price)/Math.pow(10,18)).toFixed(4)," S"]})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ut,{htmlFor:"sellAmount",children:"Amount to Sell"}),c.jsx(an,{id:"sellAmount",type:"number",placeholder:"Enter amount",value:oe,onChange:de=>be(de.target.value),min:"1",max:ee.amount.toString()}),c.jsxs("p",{className:"text-xs text-gray-500",children:["Maximum: ",ee.amount," tokens"]})]}),oe&&parseInt(oe)>0&&parseInt(oe)<=ee.amount&&c.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[c.jsx("h4",{className:"font-medium text-blue-900 mb-3",children:"Transaction Summary"}),(()=>{const de=parseInt(oe),ue=Bn.from(ee.price),Se=ue.mul(de),at=Se.mul(1).div(100),Pe=Se;return c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-blue-700",children:"Selling:"}),c.jsxs("span",{className:"font-medium text-blue-900",children:[de," tokens"]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-blue-700",children:"Price per token:"}),c.jsxs("span",{className:"font-medium text-blue-900",children:[parseFloat(_e(ue)).toFixed(6)," S"]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-blue-700",children:"Total value:"}),c.jsxs("span",{className:"font-medium text-blue-900",children:[parseFloat(_e(Se)).toFixed(6)," S"]})]}),c.jsxs("div",{className:"border-t border-blue-200 pt-2",children:[c.jsxs("div",{className:"flex justify-between text-red-600",children:[c.jsx("span",{children:"Platform fee (1%):"}),c.jsxs("span",{className:"font-medium",children:["-",parseFloat(_e(at)).toFixed(6)," S"]})]}),c.jsxs("div",{className:"flex justify-between font-bold text-green-600 mt-1",children:[c.jsx("span",{children:"You receive:"}),c.jsxs("span",{children:[parseFloat(_e(Pe)).toFixed(6)," S"]})]})]}),c.jsx("div",{className:"mt-3 p-2 bg-yellow-50 rounded border border-yellow-200",children:c.jsxs("p",{className:"text-xs text-yellow-800",children:[c.jsx("strong",{children:"Note:"})," You will pay ",parseFloat(_e(at)).toFixed(6)," S as platform fee when confirming this transaction."]})})]})})()]}),c.jsxs("div",{className:"flex space-x-3 pt-4",children:[c.jsx(te,{variant:"outline",className:"flex-1",onClick:()=>Q(!1),disabled:ft,children:"Cancel"}),c.jsx(te,{variant:"destructive",className:"flex-1",onClick:En,disabled:ft||!oe||parseInt(oe)<=0||parseInt(oe)>ee.amount,children:ft?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Selling..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Ui,{className:"w-4 h-4 mr-2"}),"Sell ",oe||"0"," Tokens"]})})]})]})]})}),zt&&Ne&&c.jsx(WLe,{selectedToken:{tokenId:Ne.tokenId.toString(),name:Ne.name,symbol:Ne.name.substring(0,4).toUpperCase(),currentPrice:parseFloat(_e(Ne.price)),priceChange24h:0,volume24h:Ne.amount*parseFloat(_e(Ne.price)),marketCap:0,totalSupply:0,userBalance:Ne.amount},onClose:()=>{X(!1),tt(null)},userWallet:h||""})]})},Y8e=()=>{const t=Ll(),{address:e,isConnected:n,connectWallet:r,disconnectWallet:s}=ir(),{login:i}=OM(),[a,o]=A.useState(!0),[l,u]=A.useState(!1),[d,p]=A.useState(!1),[f,h]=A.useState(!1),[y,m]=A.useState(null),[b,v]=A.useState(null),[g,x]=A.useState(!1),[T,I]=A.useState("user"),[C,N]=A.useState("email"),[P,L]=A.useState([]),[U,$]=A.useState(null),[B,_]=A.useState({email:"",password:"",confirmPassword:"",firstName:"",lastName:"",acceptTerms:!1,walletAddress:""});A.useEffect(()=>{n&&e?(x(!0),_(R=>({...R,walletAddress:e})),w(e)):(x(!1),_(R=>({...R,walletAddress:""})),L([]),$(null))},[n,e]);const w=async R=>{try{const j=await _m.verifyWallet(R);j.success&&j.data.walletExists&&(L(j.data.availableRoles),$(j.data.availableRoles.length>0?j.data.availableRoles[0]:null),j.data.userInfo&&_(V=>{var O,E,z;return{...V,firstName:((O=j.data.userInfo)==null?void 0:O.firstName)||"",lastName:((E=j.data.userInfo)==null?void 0:E.lastName)||"",email:((z=j.data.userInfo)==null?void 0:z.email)||""}}))}catch(j){console.error("Wallet verification error:",j)}},k=R=>{const{name:j,value:V,type:O,checked:E}=R.target;_(z=>({...z,[j]:O==="checkbox"?E:V})),y&&m(null)},S=()=>{if(C==="wallet")return!g||!B.walletAddress?"Please connect your wallet first":a&&P.length===0?"No registered account found for this wallet":!a&&(!B.firstName||!B.lastName||!B.email)?"First name, last name, and email are required for registration":null;if(!B.email||!B.password)return"Email and password are required";if(!a){if(!B.firstName||!B.lastName)return"First name and last name are required";if(!g||!B.walletAddress)return"Please connect your wallet to complete registration";if(B.password!==B.confirmPassword)return"Passwords do not match";if(B.password.length<6)return"Password must be at least 6 characters long";if(!B.acceptTerms)return"You must accept the terms and conditions"}return null},M=async R=>{var V,O,E;R.preventDefault(),m(null),v(null);const j=S();if(j){m(j);return}h(!0);try{if(a){let z;C==="wallet"?z={walletAddress:B.walletAddress}:z={email:B.email,password:B.password},await i(z),v("Login successful! Redirecting...")}else{const z={firstName:B.firstName,lastName:B.lastName,email:B.email,password:B.password,confirmPassword:B.confirmPassword,walletAddress:B.walletAddress,role:T},Z=await _m.register(z);if(Z.success){v("Registration successful! Redirecting...");const F=((V=Z.data.user)==null?void 0:V.primaryRole)||((E=(O=Z.data.user)==null?void 0:O.roles)==null?void 0:E[0])||"user";let H="/marketplace";switch(F){case"admin":H="/admin";break;case"issuer":H="/issuer";break;case"manager":H="/manager";break;default:H="/marketplace"}setTimeout(()=>{t(H)},1e3)}}}catch(z){console.error("Auth error:",z),m(z.message||"An error occurred. Please try again.")}finally{h(!1)}};return c.jsxs("div",{className:"min-h-screen bg-gray-50 flex relative",children:[c.jsx("div",{className:"absolute top-6 left-6 z-20",children:c.jsxs(te,{variant:"outline",size:"sm",onClick:()=>t("/"),className:"bg-white/90 backdrop-blur-sm border-gray-200 text-gray-700 hover:bg-white hover:text-gray-900 hover:shadow-md transition-all duration-200",children:[c.jsx(u0,{className:"w-4 h-4 mr-2"}),c.jsx("span",{className:"hidden sm:inline",children:"Home"})]})}),c.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-gray-900 relative overflow-hidden",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-800 to-gray-900"}),c.jsx("div",{className:"relative z-10 flex flex-col justify-center items-center p-12 text-white",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"flex items-center justify-center space-x-3 mb-8",children:c.jsx("div",{className:"w-16 h-16 bg-white rounded-2xl flex items-center justify-center",children:c.jsx(bu,{className:"w-10 h-10 text-gray-900"})})}),c.jsx("h1",{className:"text-4xl font-bold mb-3",children:"Orion"}),c.jsx("p",{className:"text-gray-300 text-lg mb-8",children:"Investment Portfolio Management"}),c.jsx("div",{className:"w-24 h-1 bg-white mx-auto mb-8 rounded-full"}),c.jsx("p",{className:"text-gray-400 max-w-md mx-auto leading-relaxed",children:"Secure access to your investment dashboard and portfolio management tools."})]})})]}),c.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-white",children:c.jsxs("div",{className:"w-full max-w-sm",children:[c.jsxs("div",{className:"lg:hidden text-center mb-8",children:[c.jsx("div",{className:"w-12 h-12 bg-gray-900 rounded-xl flex items-center justify-center mx-auto mb-3",children:c.jsx(bu,{className:"w-7 h-7 text-white"})}),c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"AssetDash"}),c.jsx("p",{className:"text-gray-600 text-sm",children:"Portfolio Management"})]}),c.jsxs(me,{className:"border-0 shadow-xl",children:[c.jsxs(yt,{className:"text-center pb-6",children:[c.jsx(gt,{className:"text-2xl font-bold text-gray-900 mb-2",children:a?"Welcome Back":"Create Account"}),c.jsx("p",{className:"text-gray-600 text-sm",children:a?"Enter your credentials to access your dashboard":"Fill in your information to get started"})]}),c.jsxs(ye,{className:"pt-0",children:[c.jsxs("div",{className:"flex bg-gray-50 rounded-xl p-1 mb-10 mt-8",children:[c.jsx("button",{onClick:()=>o(!0),className:`flex-1 py-3 px-4 rounded-lg text-sm font-medium transition-all duration-200 ${a?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"Sign In"}),c.jsx("button",{onClick:()=>o(!1),className:`flex-1 py-3 px-4 rounded-lg text-sm font-medium transition-all duration-200 ${a?"text-gray-500 hover:text-gray-700":"bg-white text-gray-900 shadow-sm"}`,children:"Sign Up"})]}),(!a||C==="wallet")&&c.jsxs("div",{className:"mb-6",children:[c.jsxs(Ut,{className:"text-sm font-medium text-gray-700 mb-3 block",children:["Connect Wallet ",a?"(Alternative Login)":""]}),c.jsxs("div",{className:"space-y-3",children:[n?c.jsx(te,{onClick:s,variant:"outline",className:"w-full",children:"Disconnect Wallet"}):c.jsxs(te,{onClick:r,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:[c.jsx(ho,{className:"w-4 h-4 mr-2"}),"Connect Wallet"]}),g&&e&&c.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:[c.jsxs("div",{className:"flex items-center text-green-700",children:[c.jsx(Ds,{className:"w-4 h-4 mr-2"}),c.jsxs("span",{className:"text-sm",children:["Wallet Connected: ",e.slice(0,6),"...",e.slice(-4)]})]}),U&&c.jsxs("div",{className:"mt-2 text-sm text-green-600",children:["Account type: ",U.charAt(0).toUpperCase()+U.slice(1)]}),P.length===0&&a&&c.jsx("div",{className:"mt-2 text-sm text-orange-600",children:"No registered account found for this wallet"})]})]})]}),!a&&U&&c.jsxs("div",{className:"mb-6",children:[c.jsx(Ut,{className:"text-sm font-medium text-gray-700 mb-3 block",children:"Existing Account Detected"}),c.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[c.jsxs("div",{className:"flex items-center text-blue-700",children:[c.jsx(ed,{className:"w-4 h-4 mr-2"}),c.jsxs("span",{className:"text-sm font-medium",children:["This wallet already has roles: ",P.join(", ")]})]}),c.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"You can add additional roles to this wallet or login with existing roles."})]})]}),!a&&!U&&c.jsxs("div",{className:"mb-6",children:[c.jsx(Ut,{className:"text-sm font-medium text-gray-700 mb-3 block",children:"Account Type"}),c.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[c.jsxs("div",{className:"flex items-center text-blue-700",children:[c.jsx(hm,{className:"w-4 h-4 mr-2"}),c.jsx("span",{className:"text-sm font-medium",children:"User Account - Investor"})]}),c.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Only user accounts can be created here. Issuer and manager accounts are created by administrators."})]})]}),c.jsxs("form",{onSubmit:M,className:"space-y-0",children:[y&&c.jsxs(ps,{className:"mb-4 border-red-200 bg-red-50",children:[c.jsx(ed,{className:"h-4 w-4 text-red-600"}),c.jsx(fs,{className:"text-red-800",children:y})]}),b&&c.jsxs(ps,{className:"mb-4 border-green-200 bg-green-50",children:[c.jsx(Ds,{className:"h-4 w-4 text-green-600"}),c.jsx(fs,{className:"text-green-800",children:b})]}),!a&&c.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium text-gray-700",children:"First Name"}),c.jsxs("div",{className:"relative",children:[c.jsx(hm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),c.jsx(an,{type:"text",name:"firstName",value:B.firstName,onChange:k,placeholder:"John",className:"pl-10 h-11 border-gray-200 focus:border-gray-900 focus:ring-1 focus:ring-gray-900",required:!a})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Last Name"}),c.jsx(an,{type:"text",name:"lastName",value:B.lastName,onChange:k,placeholder:"Doe",className:"h-11 border-gray-200 focus:border-gray-900 focus:ring-1 focus:ring-gray-900",required:!a})]})]}),(C==="email"||!a)&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"space-y-2 mb-4",children:[c.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Email Address"}),c.jsxs("div",{className:"relative",children:[c.jsx(xse,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),c.jsx(an,{type:"email",name:"email",value:B.email,onChange:k,placeholder:"john@example.com",className:"pl-10 h-11 border-gray-200 focus:border-gray-900 focus:ring-1 focus:ring-gray-900",required:!0})]})]}),c.jsxs("div",{className:"space-y-2 mb-4",children:[c.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(td,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),c.jsx(an,{type:l?"text":"password",name:"password",value:B.password,onChange:k,placeholder:"Enter your password",className:"pl-10 pr-10 h-11 border-gray-200 focus:border-gray-900 focus:ring-1 focus:ring-gray-900",required:!0}),c.jsx("button",{type:"button",onClick:()=>u(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:l?c.jsx(ZC,{className:"w-4 h-4"}):c.jsx(Io,{className:"w-4 h-4"})})]})]})]}),!a&&c.jsxs("div",{className:"space-y-2 mb-4",children:[c.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Confirm Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(td,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),c.jsx(an,{type:d?"text":"password",name:"confirmPassword",value:B.confirmPassword,onChange:k,placeholder:"Confirm your password",className:"pl-10 pr-10 h-11 border-gray-200 focus:border-gray-900 focus:ring-1 focus:ring-gray-900",required:!a}),c.jsx("button",{type:"button",onClick:()=>p(!d),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:d?c.jsx(ZC,{className:"w-4 h-4"}):c.jsx(Io,{className:"w-4 h-4"})})]})]}),!a&&c.jsx("div",{className:"mb-6",children:c.jsxs("label",{className:"flex items-start space-x-2",children:[c.jsx("input",{type:"checkbox",name:"acceptTerms",checked:B.acceptTerms,onChange:k,className:"w-4 h-4 text-gray-900 border-gray-300 rounded focus:ring-gray-900 focus:ring-1 mt-0.5",required:!0}),c.jsxs("span",{className:"text-sm text-gray-600 leading-5",children:["I agree to the"," ",c.jsx("button",{type:"button",className:"text-gray-900 hover:text-gray-700 font-medium",children:"Terms of Service"})," ","and"," ",c.jsx("button",{type:"button",className:"text-gray-900 hover:text-gray-700 font-medium",children:"Privacy Policy"})," ","*"]})]})}),a&&c.jsxs("div",{className:"flex items-center justify-between mb-10",children:[c.jsxs("label",{className:"flex items-center space-x-2",children:[c.jsx("input",{type:"checkbox",className:"w-4 h-4 text-gray-900 border-gray-300 rounded focus:ring-gray-900 focus:ring-1"}),c.jsx("span",{className:"text-sm text-gray-600",children:"Remember me"})]}),c.jsx("button",{type:"button",className:"text-sm text-gray-900 hover:text-gray-700 font-medium",children:"Forgot password?"})]}),c.jsx(te,{type:"submit",disabled:f,className:"w-full bg-gray-900 hover:bg-gray-800 disabled:bg-gray-400 disabled:cursor-not-allowed text-white h-11 text-base font-medium transition-colors duration-200 mb-10",children:f?c.jsxs(c.Fragment,{children:[c.jsx(hi,{className:"w-4 h-4 mr-2 animate-spin"}),a?"Signing In...":"Creating Account..."]}):c.jsxs(c.Fragment,{children:[a?"Sign In":"Create Account",c.jsx(ase,{className:"w-4 h-4 ml-2"})]})}),a&&c.jsx(c.Fragment,{children:c.jsxs("div",{className:"mt-6",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 flex items-center",children:c.jsx("div",{className:"w-full border-t border-gray-200"})}),c.jsx("div",{className:"relative flex justify-center text-sm",children:c.jsx("span",{className:"px-2 bg-white text-gray-500",children:"or continue with"})})]}),c.jsx("div",{className:"mt-6",children:c.jsxs(te,{type:"button",variant:"outline",className:"w-full h-11 border-gray-200",onClick:()=>N("wallet"),children:[c.jsx(ho,{className:"w-4 h-4 mr-2"}),"Connect Wallet to Login"]})})]})})]})]})]})]})})]})},Vk=({children:t,allowedRoles:e,redirectTo:n="/login"})=>{const{isAuthenticated:r,isLoading:s,canAccess:i,userRoles:a,primaryRole:o}=OM(),l=Ol();if(s)return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-slate-900 mx-auto mb-4"}),c.jsx("p",{className:"text-slate-600 text-lg",children:"Verifying access..."})]})});if(!r)return console.log(" User not authenticated, redirecting to login"),c.jsx(Z3,{to:n,state:{from:l},replace:!0});if(!i(e)){console.log(" User lacks required roles, redirecting to appropriate dashboard:",{userRoles:a,requiredRoles:e,primaryRole:o});const u=o||a[0]||"user";let d="/dashboard";switch(u){case"admin":d="/admin";break;case"issuer":d="/issuer";break;case"manager":d="/manager";break;default:d="/dashboard"}return c.jsx(Z3,{to:d,replace:!0})}return console.log(" Access granted to protected route"),c.jsx(c.Fragment,{children:t})};class q8e{static clearMetadataCache(){const e=window.metadataService;if(e&&e.cache){const n=e.cache.size;e.cache.clear(),console.log(` Cleared metadata cache (${n} entries)`)}else console.warn(" Metadata service cache not found")}static clearFailedCacheEntries(){const e=window.metadataService;if(e&&e.cache){let n=0;for(const[r,s]of e.cache.entries())s.error&&(e.cache.delete(r),n++);console.log(` Cleared ${n} failed cache entries`)}}static inspectCache(){const e=window.metadataService;if(!e||!e.cache){console.warn(" Metadata service cache not found");return}const n=e.cache,r=n.size;let s=0,i=0,a=0;console.log(" Metadata Cache Inspection:"),console.log(`Total entries: ${r}`);for(const[l,u]of n.entries()){const d=u;d.error?(i++,d.expiry&&Date.now()>d.expiry&&a++):s++}console.log(` Successful: ${s}`),console.log(` Failed: ${i}`),console.log(` Expired failures: ${a}`);let o=0;for(const[l,u]of n.entries()){if(o>=3)break;const d=u;console.log(`
Sample entry ${o+1}:`),console.log(`URI: ${l}`),console.log(`Status: ${d.error?"Failed":"Success"}`),d.error?(console.log(`Error: ${d.error}`),console.log(`Expires: ${d.expiry?new Date(d.expiry).toLocaleString():"Never"}`)):(console.log(`Name: ${d.name||"Unknown"}`),console.log(`Description: ${d.description?d.description.substring(0,50)+"...":"None"}`)),o++}}static async testIPFSFetch(e){const n=[{name:"Custom Pinata",url:`https://olive-left-snake-740.mypinata.cloud/ipfs/${e}`},{name:"Pinata Gateway",url:`https://gateway.pinata.cloud/ipfs/${e}`},{name:"IPFS.io",url:`https://ipfs.io/ipfs/${e}`},{name:"Dweb Link",url:`https://dweb.link/ipfs/${e}`},{name:"Cloudflare",url:`https://cloudflare-ipfs.com/ipfs/${e}`}];console.log(` Testing IPFS gateways for hash: ${e}`);for(const r of n)try{console.log(`Testing ${r.name}...`);const s=Date.now(),i=await Promise.race([fetch(r.url),new Promise((l,u)=>setTimeout(()=>u(new Error("Timeout")),1e4))]),o=Date.now()-s;if(i.ok){const l=await i.json();console.log(` ${r.name}: Success (${o}ms)`),console.log(`   Name: ${l.name||"Unknown"}`),console.log(`   Image: ${l.image?"Present":"Missing"}`)}else console.log(` ${r.name}: HTTP ${i.status} (${o}ms)`)}catch(s){console.log(` ${r.name}: ${s.message}`)}}static enableRealTimeMonitoring(){const e=console.log,n=console.warn,r=console.error;console.log(" Metadata monitoring enabled. Watch for metadata service calls..."),console.log=(...s)=>{s[0]&&typeof s[0]=="string"&&(s[0].includes(" Fetching metadata")||s[0].includes(" Metadata fetched")||s[0].includes(" Using cached"))?e(" METADATA MONITOR:",...s):e(...s)},console.warn=(...s)=>{s[0]&&typeof s[0]=="string"&&s[0].includes("Gateway")?n(" METADATA MONITOR:",...s):n(...s)},console.error=(...s)=>{s[0]&&typeof s[0]=="string"&&(s[0].includes("IPFS gateways failed")||s[0].includes("metadata fetching"))?r(" METADATA MONITOR:",...s):r(...s)}}}window.MetadataDebugUtils=q8e;class Z8e{constructor(){Ge(this,"results",[])}async testCommonIPFSFormats(){console.log(` Testing Common IPFS URI Formats...
`);const e=["ipfs://QmYwAPJzv5CZsnA625s3Xf2nemtYgPpHdWEz79ojWnPbdG","https://gateway.pinata.cloud/ipfs/QmYwAPJzv5CZsnA625s3Xf2nemtYgPpHdWEz79ojWnPbdG","QmYwAPJzv5CZsnA625s3Xf2nemtYgPpHdWEz79ojWnPbdG","ipfs://bafybeigdyrzt5sfp7udm7hu76uh7y26nf3efuylqabf3oclgtqy55fbzdi","https://gateway.pinata.cloud/ipfs/bafybeigdyrzt5sfp7udm7hu76uh7y26nf3efuylqabf3oclgtqy55fbzdi","ipfs://TestHash123","https://gateway.pinata.cloud/ipfs/TestHash123","","invalid-uri"];for(const n of e)await this.testSingleURI("Common Format Test",n);this.printResults("Common IPFS Format Tests")}async testGatewayPerformance(){console.log(`
 Testing Individual Gateway Performance...
`);const e="QmYwAPJzv5CZsnA625s3Xf2nemtYgPpHdWEz79ojWnPbdG",n=[{name:"Custom Pinata",url:`https://olive-left-snake-740.mypinata.cloud/ipfs/${e}`},{name:"Pinata Gateway",url:`https://gateway.pinata.cloud/ipfs/${e}`},{name:"IPFS.io",url:`https://ipfs.io/ipfs/${e}`},{name:"Dweb Link",url:`https://dweb.link/ipfs/${e}`},{name:"Cloudflare",url:`https://cloudflare-ipfs.com/ipfs/${e}`},{name:"IPFS Gateway",url:`https://gateway.ipfs.io/ipfs/${e}`},{name:"Infura",url:`https://ipfs.infura.io/ipfs/${e}`},{name:"CF IPFS",url:`https://cf-ipfs.com/ipfs/${e}`}];for(const r of n)await this.testGatewayDirect(r.name,r.url);this.printResults("Gateway Performance Tests")}async testCurrentAppMetadata(){console.log(`
 Testing Current App Metadata Sources...
`);const e=localStorage.getItem("marketplaceCache"),n=localStorage.getItem("dashboardCache");if(console.log(" Checking localStorage caches..."),e)try{const r=JSON.parse(e);console.log(" Marketplace cache found:",Object.keys(r).length,"entries");const s=Object.values(r).slice(0,3).map(i=>i.metadataURI).filter(Boolean);for(const i of s)await this.testSingleURI("Marketplace Cache",i)}catch(r){console.warn(" Error parsing marketplace cache:",r)}if(n)try{const r=JSON.parse(n);console.log(" Dashboard cache found:",Object.keys(r).length,"entries");const s=Object.values(r).slice(0,3).map(i=>i.metadataURI).filter(Boolean);for(const i of s)await this.testSingleURI("Dashboard Cache",i)}catch(r){console.warn(" Error parsing dashboard cache:",r)}await this.testSimulatedContractData(),this.printResults("Current App Metadata Tests")}async testSimulatedContractData(){console.log(`
 Testing Simulated Contract Metadata...`);const e=["ipfs://TestHash_Asset_1","ipfs://TestHash_Asset_2","https://gateway.pinata.cloud/ipfs/TestHash_Asset_3","https://gateway.pinata.cloud/ipfs/https://gateway.pinata.cloud/ipfs/TestHash_Doubled","","ipfs://QmRealHashButMightNotExist123456789012345678901234567890123"];for(const n of e)await this.testSingleURI("Simulated Contract",n)}async testSingleURI(e,n){const r=Date.now();try{console.log(`
 Testing [${e}]: ${n||"(empty)"}`);const s=await nT.fetchMetadataFromIPFS(n),i=Date.now()-r;s?(console.log(`   Success (${i}ms)`),console.log(`   Name: ${s.name||"N/A"}`),console.log(`   Image: ${s.image?"Present":"Missing"}`),console.log(`   Asset Type: ${this.extractAssetType(s)}`),this.results.push({source:e,uri:n,success:!0,metadata:s,timeTaken:i})):(console.log(`   Failed (${i}ms) - Returned null`),this.results.push({source:e,uri:n,success:!1,metadata:null,error:"Returned null",timeTaken:i}))}catch(s){const i=Date.now()-r;console.log(`   Error (${i}ms):`,s.message),this.results.push({source:e,uri:n,success:!1,metadata:null,error:s.message,timeTaken:i})}}async testGatewayDirect(e,n){const r=Date.now();try{console.log(`
 Testing Gateway [${e}]: ${n}`);const s=await Promise.race([fetch(n,{method:"GET",headers:{Accept:"application/json"}}),new Promise((a,o)=>setTimeout(()=>o(new Error("Timeout after 10s")),1e4))]),i=Date.now()-r;if(s.ok)try{const a=await s.json();console.log(`   Gateway Success (${i}ms)`),console.log(`   Content: ${a.name||"No name"}`),this.results.push({source:`Gateway: ${e}`,uri:n,success:!0,metadata:a,timeTaken:i})}catch{console.log(`   Gateway responded but invalid JSON (${i}ms)`),this.results.push({source:`Gateway: ${e}`,uri:n,success:!1,metadata:null,error:"Invalid JSON response",timeTaken:i})}else console.log(`   Gateway HTTP ${s.status} (${i}ms)`),this.results.push({source:`Gateway: ${e}`,uri:n,success:!1,metadata:null,error:`HTTP ${s.status}`,timeTaken:i})}catch(s){const i=Date.now()-r;console.log(`   Gateway Error (${i}ms):`,s.message),this.results.push({source:`Gateway: ${e}`,uri:n,success:!1,metadata:null,error:s.message,timeTaken:i})}}extractAssetType(e){var n;if(e!=null&&e.attributes){const r=e.attributes.find(s=>s.trait_type==="Asset Type");if(r)return r.value}return(n=e==null?void 0:e.assetDetails)!=null&&n.assetType?e.assetDetails.assetType:"Unknown"}printResults(e){console.log(`
 === ${e} Results ===`);const n=this.results.filter(a=>a.success).length,r=this.results.length,s=r>0?(n/r*100).toFixed(1):"0";if(console.log(`Success Rate: ${n}/${r} (${s}%)`),n>0){const a=this.results.filter(o=>o.success).reduce((o,l)=>o+l.timeTaken,0)/n;console.log(`Average Success Time: ${a.toFixed(0)}ms`)}const i=this.results.filter(a=>!a.success).reduce((a,o)=>{const l=o.error||"Unknown error";return a[l]=(a[l]||0)+1,a},{});Object.keys(i).length>0&&(console.log(`
 Error Breakdown:`),Object.entries(i).forEach(([a,o])=>{console.log(`  ${a}: ${o} times`)})),this.results=[]}async runCompleteTest(){console.log(` Starting Complete IPFS Metadata Test Suite...
`),nT.clearCache();try{await this.testCommonIPFSFormats(),await this.testGatewayPerformance(),await this.testCurrentAppMetadata(),console.log(`
 Complete test suite finished!`),console.log(`
 Debugging Tips:`),console.log("1. Check browser console for detailed gateway logs"),console.log("2. Use window.metadataService.cache to inspect cached results"),console.log("3. Use window.MetadataDebugUtils.inspectCache() for cache analysis"),console.log("4. Look for patterns in failed URIs vs successful ones")}catch(e){console.error(" Test suite error:",e)}}async quickTest(e){console.log(` Quick test for IPFS hash: ${e}`);const n=[`ipfs://${e}`,`https://gateway.pinata.cloud/ipfs/${e}`,e];for(const r of n)await this.testSingleURI("Quick Test",r)}}const X8e=new Z8e;window.IPFSTestScript=X8e;class J8e{static async runFullCleanup(){console.log(` Starting comprehensive cache cleanup...
`),console.log(" Initial Cache Analysis:");const e=Tw();console.log(`  Total cache entries: ${e.totalCacheEntries}`),console.log(`  Dummy data entries: ${e.dummyDataEntries}`),console.log(`  Failed fetch markers: ${e.failedFetchMarkers}`),console.log(`  Expired failed fetches: ${e.expiredFailedFetches}
`),console.log(" Clearing metadata service cache..."),window.metadataService&&window.metadataService.clearCache(),console.log(" Clearing marketplace dummy data...");const n=Gs.clearDummyDataFromCache();console.log(" Clearing dashboard dummy data...");const r=Us.clearDummyDataFromCache();console.log(" Clearing general dummy data...");const s=CE();console.log(" Clearing expired cache entries..."),Gs.clearExpiredCache(),console.log(`
 Final Cache Analysis:`);const i=Tw();console.log(`  Total cache entries: ${i.totalCacheEntries}`),console.log(`  Dummy data entries: ${i.dummyDataEntries}`),console.log(`  Failed fetch markers: ${i.failedFetchMarkers}`),console.log(`  Expired failed fetches: ${i.expiredFailedFetches}`);const a=n+r+s;console.log(`
 Cleanup completed! Removed ${a} dummy data entries.`),a>0&&(console.log(`
 Recommendations:`),console.log("1. Refresh the page to see clean data"),console.log("2. Check marketplace, dashboard, and orderbook for proper metadata"),console.log("3. Monitor console for IPFS gateway performance"),console.log("4. Use window.IPFSTestScript.runCompleteTest() to test IPFS connectivity"))}static async quickCleanup(){console.log(" Running quick cache cleanup..."),Gs.clearCache(),Us.clearCache(),window.metadataService&&window.metadataService.clearCache();const e=CE()+Gs.clearDummyDataFromCache()+Us.clearDummyDataFromCache();console.log(` Quick cleanup done! Cleared ${e} dummy entries.`),console.log(" Refresh the page to see fresh data.")}static analyzeCacheState(){console.log(` Analyzing current cache state...
`);const e=Tw();console.log(" Dummy Data Analysis:"),console.log(`  Total cache entries: ${e.totalCacheEntries}`),console.log(`  Dummy data entries: ${e.dummyDataEntries}`),console.log(`  Failed fetch markers: ${e.failedFetchMarkers}`),console.log(`  Expired failed fetches: ${e.expiredFailedFetches}`),console.log(`
 Marketplace Cache Analysis:`);const n=Gs.getCacheStats();if(Object.entries(n).forEach(([r,s])=>{console.log(`  ${r}: ${s.count} entries (${Math.round(s.totalSize/1024)}KB)`)}),console.log(`
 Metadata Service Cache:`),window.metadataService&&window.metadataService.cache){const r=window.metadataService.cache;console.log(`  Size: ${r.size} entries`);let s=0,i=0;for(const[a,o]of r.entries())o&&o.error?i++:o&&s++;console.log(`  Successful: ${s}`),console.log(`  Failed: ${i}`)}else console.log("  Metadata service cache not available");e.dummyDataEntries>0?(console.log(`
 Issues Found:`),console.log(`  ${e.dummyDataEntries} dummy data entries detected`),console.log("  Run window.CacheCleanupScript.runFullCleanup() to fix")):console.log(`
 Cache appears clean!`)}static async testAfterCleanup(){console.log(` Testing metadata fetching after cleanup...
`);const e=[{name:"Empty URI",uri:""},{name:"Test Hash",uri:"ipfs://TestHash123"},{name:"Valid IPFS Format",uri:"ipfs://QmYwAPJzv5CZsnA625s3Xf2nemtYgPpHdWEz79ojWnPbdG"}];for(const n of e){console.log(`Testing: ${n.name}`);try{const r=await window.metadataService.fetchMetadataFromIPFS(n.uri);console.log(r?`   Success: ${r.name||"No name"}`:"   Failed: null result")}catch(r){console.log(`   Error: ${r.message}`)}}console.log(`
 Use window.IPFSTestScript.runCompleteTest() for comprehensive testing`)}static startCacheMonitoring(){console.log(" Starting cache monitoring..."),console.log("Monitor will log cache operations as they happen."),console.log(`Use window.CacheCleanupScript.stopCacheMonitoring() to stop.
`);const e=localStorage.setItem;localStorage.setItem=function(n,r){try{const s=JSON.parse(r);(n.includes("marketplace")||n.includes("asset_metadata"))&&console.log(` CACHE SET: ${n}`,{dataType:Array.isArray(s.data)?"array":typeof s.data,itemCount:Array.isArray(s.data)?s.data.length:1,timestamp:new Date().toLocaleTimeString()})}catch{}return e.call(this,n,r)},window._originalSetItem=e}static stopCacheMonitoring(){window._originalSetItem&&(localStorage.setItem=window._originalSetItem,delete window._originalSetItem,console.log(" Cache monitoring stopped."))}}window.CacheCleanupScript=J8e;const fT=["https://gateway.pinata.cloud/ipfs/","https://olive-left-snake-740.mypinata.cloud/ipfs/","https://ipfs.io/ipfs/","https://cloudflare-ipfs.com/ipfs/","https://dweb.link/ipfs/","https://gateway.ipfs.io/ipfs/"],AF={"Real Estate":["https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=800&h=600&fit=crop"],"Precious Metals":["https://images.unsplash.com/photo-1610375461246-83df859d849d?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1518546305927-5a555bb7020d?w=800&h=600&fit=crop"],Collectibles:["https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1513475382585-d06e58bcb0e0?w=800&h=600&fit=crop"],Art:["https://images.unsplash.com/photo-1541961017774-22349e4a1262?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1578321272176-b7bbc0679853?w=800&h=600&fit=crop"],"Carbon Credits":["https://images.unsplash.com/photo-1569163139342-de0874c4e2c5?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1587614295999-6c1c13675117?w=800&h=600&fit=crop"],Invoice:["https://images.unsplash.com/photo-1554224155-6726b3ff858f?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=800&h=600&fit=crop"],Stocks:["https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1590736969955-71cc94901144?w=800&h=600&fit=crop"],Unknown:["https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?w=800&h=600&fit=crop"]},sj=t=>{if(!t)return null;if(t.startsWith("ipfs://"))return t.replace("ipfs://","");if(t.includes("/ipfs/")){const e=t.split("/ipfs/");return e.length>1?e[1]:null}return t.match(/^(Qm[a-zA-Z0-9]{44}|baf[a-zA-Z0-9]{56})$/)?t:null},fee=(t,e=0)=>{const n=sj(t);return n?`${fT[e]||fT[0]}${n}`:t},IF=(t,e)=>{const r=AF[t||"Unknown"]||AF.Unknown,s=parseInt(e.slice(-1))%r.length;return r[s]},hee=(t,e,n)=>!t||t.includes("placeholder")?IF(e,n):sj(t)?fee(t):t.startsWith("http")?t:IF(e,n);class r5{constructor(e,n){Ge(this,"provider");Ge(this,"signer");Ge(this,"marketplaceAddress");Ge(this,"tokenAddress");this.provider=e,this.signer=n,this.marketplaceAddress=us,this.tokenAddress=Na}async fetchEnhancedMarketplaceListings(e){try{console.log(" ENHANCED: Fetching detailed marketplace listings for OrderBook...");const n=this.signer||this.provider,r=new nt(this.marketplaceAddress,xc,n),s=["function balanceOf(address account, uint256 id) view returns (uint256)","function uri(uint256 id) view returns (string)","function getTokenLifecycleStatus(uint256 tokenId) external view returns (uint8)"],i=new nt(this.tokenAddress,s,this.provider);console.log(" Getting all marketplace listings...");const a=await r.getAllListings(),[o,l,u,d]=a;console.log(`Found ${o.length} marketplace listings`);const p=[];for(let f=0;f<o.length;f++){const h=o[f].toString(),y=u[f].toString(),m=d[f];try{try{if(await i.getTokenLifecycleStatus(h)===2){console.log(` Skipping burned token ${h} in orderbook`);continue}}catch{console.warn(` Could not check lifecycle for token ${h}, including in orderbook`)}let b=0;if(e)try{const x=await i.balanceOf(e,h);b=parseInt(x.toString())}catch{console.warn(`Could not fetch wallet balance for token ${h}`),b=0}const v=await this.fetchEnhancedMetadata(i,h),g={id:h,name:v.name,symbol:v.symbol,description:v.description,image:v.image,totalSupply:parseInt(y),userBalance:b,isListed:!0,marketplacePrice:m?parseFloat(_e(m)):0,exists:!0,metadata:v.metadata,assetType:v.assetType,location:v.location,valuation:v.valuation,area:v.area,bedrooms:v.bedrooms,bathrooms:v.bathrooms,attributes:v.attributes,lastPrice:m?parseFloat(_e(m)):0,priceChange24h:this.generateMockPriceChange(),volume24h:this.generateMockVolume()};p.push(g),console.log(` ENHANCED: Added token ${h}:`,{name:g.name,assetType:g.assetType,location:g.location,userBalance:g.userBalance})}catch(b){console.error(`Error processing enhanced token ${h}:`,b)}}return console.log(` ENHANCED LISTINGS: Found ${p.length} detailed tokens for OrderBook`),p}catch(n){return console.error(" Error fetching enhanced marketplace listings:",n),[]}}async fetchEnhancedMetadata(e,n){var r,s,i,a,o,l,u,d,p;try{console.log(` Fetching enhanced metadata for token ${n}...`);let f="";try{f=await e.uri(n),console.log(`Got metadata URI for token ${n}:`,f)}catch{console.log(`Could not fetch URI for token ${n}, using fallbacks`)}let h;if(f&&f!==""&&!f.includes("TestHash")){const y=await nT.fetchMetadataFromIPFS(f);y&&(h={name:y.name||"",description:y.description||"",image:y.image||"",external_url:y.external_url,attributes:y.attributes||[],asset_type:((r=y.assetDetails)==null?void 0:r.assetType)||((i=(s=y.attributes)==null?void 0:s.find(m=>m.trait_type==="Asset Type"))==null?void 0:i.value),location:((o=(a=y.attributes)==null?void 0:a.find(m=>m.trait_type==="Location"))==null?void 0:o.value)||"",valuation:((u=(l=y.attributes)==null?void 0:l.find(m=>m.trait_type==="Valuation"))==null?void 0:u.value)||"",certification:((p=(d=y.attributes)==null?void 0:d.find(m=>m.trait_type==="Certification"))==null?void 0:p.value)||""})}return this.createEnhancedTokenData(n,h)}catch(f){return console.error(`Error fetching enhanced metadata for token ${n}:`,f),this.createEnhancedTokenData(n,void 0)}}async parseMetadataFromUri(e){try{let n=e;e.startsWith("ipfs://")?n=e.replace("ipfs://","https://gateway.pinata.cloud/ipfs/"):e.startsWith("http")||(n=`https://gateway.pinata.cloud/ipfs/${e}`),console.log(`Fetching metadata from: ${n}`);const r=await fetch(n,{method:"GET",headers:{Accept:"application/json"},signal:AbortSignal.timeout(1e4)});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const s=await r.json();if(console.log(" Successfully fetched metadata:",s),s.image)if(s.image.startsWith("ipfs://")){const i=s.image.replace("ipfs://","https://gateway.pinata.cloud/ipfs/");try{(await fetch(i,{method:"HEAD",signal:AbortSignal.timeout(5e3)})).ok?(s.image=i,console.log(` IPFS image validated: ${i}`)):(console.warn(` IPFS image not accessible: ${i}`),s.image="")}catch(a){console.warn(` IPFS image validation failed: ${i}`,a),s.image=""}}else s.image.startsWith("http")||(console.warn(` Invalid image URL format: ${s.image}`),s.image="");return s}catch(n){console.log("Could not fetch metadata from URI:",n);return}}createEnhancedTokenData(e,n){const r=(n==null?void 0:n.attributes)||[],s=this.determineAssetType(n,r),i=this.extractLocation(n,r),a=this.extractValuation(n,r),o=this.extractAttribute(r,["Area","Size","Square Feet","Sq Ft"]),l=this.extractAttribute(r,["Bedrooms","Beds","Bedroom"]),u=this.extractAttribute(r,["Bathrooms","Baths","Bathroom"]);return{name:(n==null?void 0:n.name)||this.generateFallbackName(e,s),symbol:this.generateSymbol(e,s),description:(n==null?void 0:n.description)||this.generateFallbackDescription(e,s),image:hee((n==null?void 0:n.image)||"",s,e),metadata:n,assetType:s,location:i,valuation:a,area:o,bedrooms:l,bathrooms:u,attributes:r}}determineAssetType(e,n=[]){if(e!=null&&e.asset_type)return e.asset_type;const r=this.extractAttribute(n,["Type","Asset Type","Category"]);if(r)return r;const s=`${(e==null?void 0:e.name)||""} ${(e==null?void 0:e.description)||""}`.toLowerCase();return s.includes("real estate")||s.includes("property")||s.includes("villa")||s.includes("house")?"Real Estate":s.includes("gold")||s.includes("silver")||s.includes("metal")||s.includes("bullion")?"Precious Metals":s.includes("wine")||s.includes("vintage")||s.includes("bottle")?"Collectibles":s.includes("art")||s.includes("painting")||s.includes("sculpture")?"Art":s.includes("carbon")||s.includes("credit")||s.includes("offset")?"Carbon Credits":"Real World Asset"}extractLocation(e,n=[]){const r=this.extractAttribute(n,["Location","Address","City","Region","Country"]);if(r)return r;if(e!=null&&e.description){const s=/(in|at|located in)\s+([A-Z][a-zA-Z\s,]+)/i,i=e.description.match(s);if(i)return i[2].trim()}return"Location TBD"}extractValuation(e,n=[]){return this.extractAttribute(n,["Valuation","Value","Worth","Appraisal"])||"Valuation Pending"}extractAttribute(e,n){var r;for(const s of e)for(const i of n)if(((r=s.trait_type)==null?void 0:r.toLowerCase())===i.toLowerCase())return s.value;return""}generateFallbackName(e,n){return{"Real Estate":`Property #${e}`,"Precious Metals":`Gold Asset #${e}`,Collectibles:`Collectible #${e}`,Art:`Artwork #${e}`,"Carbon Credits":`Carbon Credit #${e}`}[n]||`Asset #${e}`}generateSymbol(e,n){return{"Real Estate":`PROP${e}`,"Precious Metals":`GOLD${e}`,Collectibles:`COLL${e}`,Art:`ART${e}`,"Carbon Credits":`CARB${e}`}[n]||`RWA${e}`}generateFallbackDescription(e,n){return{"Real Estate":`Tokenized real estate property with fractional ownership rights. Property ID: ${e}`,"Precious Metals":`Physical precious metal asset backed by certified bullion. Asset ID: ${e}`,Collectibles:`Authenticated collectible item with provenance tracking. Item ID: ${e}`,Art:`Tokenized artwork with verified authenticity and ownership history. Piece ID: ${e}`,"Carbon Credits":`Verified carbon offset credit representing environmental impact reduction. Credit ID: ${e}`}[n]||`Real-world asset token with verifiable ownership rights. Asset ID: ${e}`}generateFallbackImage(e,n){return S1(e,n||"1")}generateMockPriceChange(){const e=["+2.4%","-1.8%","+0.7%","-0.3%","+4.1%","-2.9%","+1.2%"];return e[Math.floor(Math.random()*e.length)]}generateMockVolume(){return Math.floor(Math.random()*1e3)+100}async getDetailedTokenInfo(e,n){try{return(await this.fetchEnhancedMarketplaceListings(n)).find(s=>s.id===e)||null}catch(r){return console.error(`Error fetching detailed info for token ${e}:`,r),null}}async getU2UBalance(e){try{const n=await this.provider.getBalance(e);return _e(n)}catch(n){return console.error("Error fetching U2U balance:",n),"0"}}}const Q8e=(t,e)=>(t*e).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),e$e=({token:t,isSelected:e=!1,onSelect:n,showTradeButton:r=!1,onTrade:s,compact:i=!1})=>{var v;const[a,o]=A.useState(!1),[l,u]=A.useState(!1),[d,p]=A.useState(""),[f,h]=A.useState(0),y=()=>{console.log(` Image failed to load: ${d}`);const g=sj(d);if(g&&f<fT.length-1){const T=f+1,I=fee(`ipfs://${g}`,T);console.log(` Trying IPFS gateway ${T+1}/${fT.length}: ${I}`),h(T),p(I),u(!1),o(!1);return}const x=AW(t.assetType);console.log(` Using fixed fallback image for ${t.assetType}: ${x}`),p(x),u(!0)};A.useEffect(()=>{const g=hee(t.image,t.assetType,t.id);console.log(` Processed image URL for token ${t.id}: ${t.image}  ${g}`),p(g),o(!1),u(!1),h(0)},[t.image,t.assetType,t.id]);const m=g=>g.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:4}),b=(v=t.priceChange24h)==null?void 0:v.startsWith("+");return i?c.jsx(me,{className:`bg-white border-gray-200 shadow-sm hover:shadow-md transition-all duration-200 cursor-pointer ${e?"ring-2 ring-blue-500 border-blue-200":""}`,onClick:n,children:c.jsx(ye,{className:"p-4",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"relative w-16 h-16 rounded-lg overflow-hidden bg-gray-100",children:c.jsx(sf,{src:d,alt:t.name,className:"w-full h-full object-cover",assetType:t.assetType||"Real Estate",tokenId:t.id,onLoad:()=>{o(!0),console.log(` Image loaded successfully: ${d}`)},onError:y})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h3",{className:"font-semibold text-gray-900 text-sm truncate",children:t.name}),c.jsxs("p",{className:"text-xs text-gray-500 flex items-center mt-1",children:[c.jsx(E3,{className:"w-3 h-3 mr-1"}),t.location]}),c.jsxs("div",{className:"flex items-center justify-between mt-2",children:[c.jsx("div",{children:c.jsxs("p",{className:"text-sm font-bold text-gray-900",children:[t.marketplacePrice?m(t.marketplacePrice):"N/A"," Flow"]})}),t.userBalance>0&&c.jsxs(Ue,{className:"bg-green-50 text-green-700 border-green-200 text-xs",children:[c.jsx(ho,{className:"w-3 h-3 mr-1"}),t.userBalance]})]})]})]})})}):c.jsxs(Gt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},whileHover:{scale:1.02},onClick:n,className:`group bg-white/90 backdrop-blur-sm rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 cursor-pointer border border-gray-200/50 hover:border-gray-300/50 overflow-hidden ${e?"ring-2 ring-blue-500 border-blue-200 shadow-2xl scale-[1.02]":""}`,children:[c.jsxs("div",{className:"relative overflow-hidden",children:[!a&&!l&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100 z-10",children:c.jsx(hi,{className:"w-8 h-8 animate-spin text-gray-400"})}),l&&!a&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100 z-10",children:c.jsx(yse,{className:"w-8 h-8 text-gray-400"})}),c.jsx(sf,{src:d,alt:t.name,className:"w-full h-48 object-cover group-hover:scale-110 transition-transform duration-700",assetType:t.assetType||"Real Estate",tokenId:t.id,onLoad:()=>{o(!0),console.log(` Image loaded successfully: ${d}`)},onError:y}),c.jsx("div",{className:"absolute top-4 left-4",children:c.jsx("span",{className:"px-3 py-1 bg-white/90 backdrop-blur-sm rounded-full text-xs font-medium text-gray-700 border border-gray-200/50",children:t.assetType})}),c.jsx("div",{className:"absolute top-4 right-4",children:c.jsxs("span",{className:"px-2 py-1 bg-blue-500/90 backdrop-blur-sm rounded-full text-xs font-medium text-white border border-blue-400/50",children:["#",t.id]})}),t.userBalance>0&&c.jsx("div",{className:"absolute top-4 right-20",children:c.jsxs("span",{className:"px-2 py-1 bg-green-500/90 backdrop-blur-sm rounded-full text-xs font-medium text-white border border-green-400/50",children:[c.jsx(ho,{className:"w-3 h-3 inline mr-1"}),t.userBalance]})})]}),c.jsxs("div",{className:"p-6",children:[c.jsx("h3",{className:"font-bold text-gray-900 mb-2 group-hover:text-gray-700 transition-colors line-clamp-1",children:t.name}),c.jsxs("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2 leading-relaxed flex items-center",children:[c.jsx(E3,{className:"w-3 h-3 mr-1 text-gray-400"}),t.location]}),c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{children:[c.jsxs("p",{className:"text-xs text-gray-500",children:["Price per token (",t.marketplacePrice?m(t.marketplacePrice):"N/A"," Flow)"]}),c.jsxs("p",{className:"text-sm font-semibold text-blue-600 mt-1",children:["Total Valuation: ",t.marketplacePrice?Q8e(t.marketplacePrice,t.totalSupply):"N/A"," Flow"]}),t.priceChange24h&&c.jsxs("p",{className:`text-xs flex items-center mt-1 ${b?"text-green-600":"text-red-600"}`,children:[b?c.jsx(Rs,{className:"w-3 h-3 mr-1"}):c.jsx(oS,{className:"w-3 h-3 mr-1"}),t.priceChange24h," (24h)"]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:"text-sm font-medium text-green-600",children:[t.totalSupply," Total"]}),c.jsx("p",{className:"text-xs text-gray-500",children:"Supply"})]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),c.jsx("span",{className:"text-xs text-gray-600",children:"Available Now"})]}),r?c.jsx("button",{className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-xl hover:from-blue-700 hover:to-blue-800 transition-all duration-300 shadow-md hover:shadow-lg text-sm font-medium",onClick:g=>{g.stopPropagation(),s==null||s()},children:"Trade Now"}):c.jsx("button",{className:"px-4 py-2 bg-gradient-to-r from-gray-800 to-black text-white rounded-xl hover:from-gray-900 hover:to-gray-800 transition-all duration-300 shadow-md hover:shadow-lg text-sm font-medium",onClick:g=>{g.stopPropagation(),n==null||n()},children:"Select Asset"})]})]})]})},t$e=({selectedTokenId:t,onTokenSelect:e,showOwnedOnly:n=!1})=>{const{provider:r,signer:s,address:i}=ir();console.log(" AssetTokenSelector: Component initialized",{selectedTokenId:t,showOwnedOnly:n,hasProvider:!!r,hasAddress:!!i});const[a,o]=A.useState([]),[l,u]=A.useState([]),[d,p]=A.useState(!0),[f,h]=A.useState(""),[y,m]=A.useState("all"),[b,v]=A.useState("grid"),[g,x]=A.useState(!1),[T,I]=A.useState(!1),[C,N]=A.useState(null),P=async(w,k=0)=>{var j,V,O,E,z,Z,F,H,K,Y,J,re,Q,ee,We;const S=parseFloat(_e(w.price||"0"));let M=w.name,R=w.type||w.category||"Real World Asset";if(w.metadata){const oe=w.metadata.name||w.metadata.title||w.metadata.assetName||((j=w.metadata.assetDetails)==null?void 0:j.name)||((V=w.metadata.assetDetails)==null?void 0:V.title);oe&&oe!==`Asset Token #${w.tokenId}`&&(M=oe);const be=w.metadata.assetType||((O=w.metadata.assetDetails)==null?void 0:O.assetType)||((E=w.metadata.assetDetails)==null?void 0:E.category);if(be&&(R=be),w.metadata.attributes){const ft=w.metadata.attributes.find(Ie=>Ie.trait_type==="Asset Type"||Ie.trait_type==="Category"||Ie.trait_type==="Type");ft!=null&&ft.value&&(R=ft.value)}}if(M===w.name&&(M!=null&&M.startsWith("Asset Token #"))){const oe=Gs.getCachedAssetMetadata(w.tokenId);if(oe!=null&&oe.metadata){const be=oe.metadata.name||oe.metadata.title||oe.metadata.assetName;be&&(M=be);const ft=oe.metadata.assetType||((z=oe.metadata.assetDetails)==null?void 0:z.assetType);ft&&(R=ft)}}return{id:w.tokenId,name:M,symbol:`TOA${w.tokenId}`,description:w.description,image:w.image,totalSupply:w.totalSupply||w.amount,userBalance:k,isListed:!0,marketplacePrice:S,exists:!0,metadata:w.metadata,assetType:R,location:((F=(Z=w.attributes)==null?void 0:Z.find(oe=>{var be;return(be=oe.trait_type)==null?void 0:be.toLowerCase().includes("location")}))==null?void 0:F.value)||"Unknown",valuation:((K=(H=w.attributes)==null?void 0:H.find(oe=>{var be;return(be=oe.trait_type)==null?void 0:be.toLowerCase().includes("valuation")}))==null?void 0:K.value)||`${S.toFixed(2)} Flow`,area:(J=(Y=w.attributes)==null?void 0:Y.find(oe=>{var be;return(be=oe.trait_type)==null?void 0:be.toLowerCase().includes("area")}))==null?void 0:J.value,bedrooms:(Q=(re=w.attributes)==null?void 0:re.find(oe=>{var be;return(be=oe.trait_type)==null?void 0:be.toLowerCase().includes("bedroom")}))==null?void 0:Q.value,bathrooms:(We=(ee=w.attributes)==null?void 0:ee.find(oe=>{var be;return(be=oe.trait_type)==null?void 0:be.toLowerCase().includes("bathroom")}))==null?void 0:We.value,attributes:w.attributes||[],lastPrice:S,priceChange24h:"0.00%",volume24h:0}},L=A.useCallback(async(w=!1)=>{if(r)try{if(!w){console.log(" Checking marketplace cache for asset token data...");const R=Gs.getCachedMarketplaceListings();if(R&&R.length>0){console.log(` Loaded ${R.length} assets from marketplace cache instantly!`);const{CONTRACT_ABIS:j}=await Qt(async()=>{const{CONTRACT_ABIS:Z}=await Promise.resolve().then(()=>od);return{CONTRACT_ABIS:Z}},void 0),V=new nt(Na,j.ERC1155CORE,r),O=[];for(const Z of R)try{await V.getTokenLifecycleStatus(Z.tokenId)!==2?O.push(Z):console.log(` Skipping burned token ${Z.tokenId} in AssetTokenSelector`)}catch{console.warn(` Could not check lifecycle for token ${Z.tokenId}, including in AssetTokenSelector`),O.push(Z)}console.log(` Filtered ${O.length} active tokens (excluded ${R.length-O.length} burned)`);const E=await Promise.all(O.map(async Z=>{var H,K,Y;let F=0;if(i)try{const J=await V.balanceOf(i,Z.tokenId);F=parseInt(J.toString())}catch{console.warn(`Could not fetch balance for token ${Z.tokenId}`)}if((H=Z.name)!=null&&H.startsWith("Asset Token #")||Z.type==="Unknown"||!((K=Z.metadata)!=null&&K.name)){console.log(` Refreshing metadata for token ${Z.tokenId} with incomplete data...`);try{const J=Gs.getCachedAssetMetadata(Z.tokenId);J!=null&&J.metadata&&(Z.metadata=J.metadata,Z.name=J.metadata.name||J.metadata.title||Z.name,Z.type=J.metadata.assetType||((Y=J.metadata.assetDetails)==null?void 0:Y.assetType)||Z.type)}catch(J){console.warn(`Could not refresh metadata for token ${Z.tokenId}:`,J)}}return P(Z,F)}));console.log(` AssetTokenSelector: Setting ${E.length} tokens from cache`),o(E),I(!0),N(Date.now());const z=E.filter(Z=>{var F;return((F=Z.name)==null?void 0:F.startsWith("Asset Token #"))||Z.assetType==="Real World Asset"});z.length>0?(console.log(` Found ${z.length} assets with incomplete metadata, triggering background refresh...`),setTimeout(()=>{console.log(" Background refresh starting due to incomplete metadata..."),L(!0)},2e3)):setTimeout(()=>{console.log(" Background asset refresh starting..."),L(!0)},3e4);return}else console.log(" No valid marketplace cache found, fetching fresh data...")}I(!1),console.log(" Loading fresh asset data...");const S=await new r5(r,s).fetchEnhancedMarketplaceListings(i);console.log(` AssetTokenSelector: Setting ${S.length} tokens from fresh fetch`),o(S),console.log(" Enhanced tokens loaded:",S.length),console.log(" Preloading AssetTokenSelector images...");const M=S.map(R=>({url:R.image,assetType:R.assetType||"Real Estate",tokenId:R.id}));if(c2.preloadImages(M).catch(R=>{console.warn(" Image preloading failed:",R)}),S.length>0){console.log(" Caching fresh contract data from AssetTokenSelector...");const R=S.map(j=>{var V;return{tokenId:j.id,name:j.name,description:j.description,image:j.image,price:ja(((V=j.marketplacePrice)==null?void 0:V.toString())||"0").toString(),amount:j.totalSupply,totalSupply:j.totalSupply,seller:"",metadataURI:"",metadata:j.metadata,attributes:j.attributes,type:j.assetType,category:j.assetType}});Gs.cacheMarketplaceListings(R),console.log(` Cached ${R.length} marketplace listings from AssetTokenSelector fresh fetch`)}}catch(k){console.error("Error loading tokens with cache:",k);try{const M=await new r5(r,s).fetchEnhancedMarketplaceListings(i);if(o(M),M.length>0){console.log(" Caching fallback contract data from AssetTokenSelector...");const R=M.map(j=>{var V;return{tokenId:j.id,name:j.name,description:j.description,image:j.image,price:ja(((V=j.marketplacePrice)==null?void 0:V.toString())||"0").toString(),amount:j.totalSupply,totalSupply:j.totalSupply,seller:"",metadataURI:"",metadata:j.metadata,attributes:j.attributes,type:j.assetType,category:j.assetType}});Gs.cacheMarketplaceListings(R),console.log(` Cached ${R.length} marketplace listings from AssetTokenSelector fallback fetch`)}}catch(S){console.error("Fallback token loading also failed:",S)}}},[r,s,i]);A.useEffect(()=>{(async()=>{if(r)try{p(!0),console.log(" AssetTokenSelector: Starting token fetch process..."),console.log(" AssetTokenSelector: Checking marketplace cache...");const k=Gs.getCachedMarketplaceListings();console.log(" AssetTokenSelector: Cache check result:",{hasCachedData:!!k,cachedCount:(k==null?void 0:k.length)||0,cacheInstance:!!Gs}),!k||k.length===0?(console.log(" AssetTokenSelector: No cache found, forcing fresh fetch..."),await L(!0)):(console.log(" AssetTokenSelector: Using existing cache..."),await L(),setTimeout(async()=>{a.length===0&&!d&&(console.log(" AssetTokenSelector: No tokens loaded from cache, forcing refresh..."),await L(!0))},2e3))}catch(k){console.error(" AssetTokenSelector: Error fetching enhanced tokens:",k)}finally{p(!1)}})()},[r,s,i,L]);const U=async()=>{x(!0);try{await L(!0)}catch(w){console.error("Error refreshing tokens:",w)}finally{x(!1)}};A.useEffect(()=>{let w=a;f&&(w=w.filter(k=>k.name.toLowerCase().includes(f.toLowerCase())||k.location.toLowerCase().includes(f.toLowerCase())||k.description.toLowerCase().includes(f.toLowerCase())||k.id===f)),y!=="all"&&(w=w.filter(k=>k.assetType===y)),n&&(w=w.filter(k=>k.userBalance>0)),console.log(` AssetTokenSelector: Filtered ${w.length} tokens from ${a.length} total (search: "${f}", type: "${y}", ownedOnly: ${n})`),u(w)},[a,f,y,n]);const $=Array.from(new Set(a.map(w=>w.assetType))),B=w=>{switch(w){case"Real Estate":return c.jsx(u0,{className:"w-4 h-4"});case"Precious Metals":return c.jsx(jc,{className:"w-4 h-4"});case"Collectibles":return c.jsx(hse,{className:"w-4 h-4"});case"Art":return c.jsx(kse,{className:"w-4 h-4"});case"Carbon Credits":return c.jsx(_U,{className:"w-4 h-4"});default:return c.jsx(u0,{className:"w-4 h-4"})}},_=w=>{const k=a.filter(M=>M.assetType===w),S=k.filter(M=>M.userBalance>0).length;return{total:k.length,owned:S}};return d?c.jsx(me,{className:"bg-white border-gray-200 shadow-sm",children:c.jsx(ye,{className:"p-8",children:c.jsxs("div",{className:"flex items-center justify-center",children:[c.jsx(hi,{className:"w-6 h-6 animate-spin mr-2 text-blue-600"}),c.jsx("span",{className:"text-gray-700",children:"Loading enhanced asset information..."})]})})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs(me,{className:"bg-white border-gray-200 shadow-sm",children:[c.jsx(yt,{children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs(gt,{className:"flex items-center gap-2 text-gray-900",children:[c.jsx(XC,{className:"w-5 h-5"}),"Asset Selection & Filtering"]}),c.jsxs(te,{variant:"outline",size:"sm",onClick:U,disabled:g,className:"flex items-center gap-2 border-gray-300 text-gray-700 hover:bg-gray-50",children:[c.jsx(Sr,{className:`w-4 h-4 ${g?"animate-spin":""}`}),"Refresh"]})]})}),c.jsxs(ye,{children:[c.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[c.jsx("div",{className:"flex-1",children:c.jsxs("div",{className:"relative",children:[c.jsx(Cse,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),c.jsx(an,{placeholder:"Search by name, location, or token ID...",value:f,onChange:w=>h(w.target.value),className:"pl-10 bg-white border-gray-300 text-gray-900 placeholder-gray-500"})]})}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(te,{variant:b==="grid"?"default":"outline",size:"sm",onClick:()=>v("grid"),className:b==="grid"?"bg-blue-600 hover:bg-blue-700 text-white":"border-gray-300 text-gray-700 hover:bg-gray-50",children:c.jsx(mse,{className:"w-4 h-4"})}),c.jsx(te,{variant:b==="list"?"default":"outline",size:"sm",onClick:()=>v("list"),className:b==="list"?"bg-blue-600 hover:bg-blue-700 text-white":"border-gray-300 text-gray-700 hover:bg-gray-50",children:c.jsx(vse,{className:"w-4 h-4"})})]})]}),c.jsx(ef,{value:y,onValueChange:m,children:c.jsxs(vd,{className:"grid w-full grid-cols-6 bg-gray-100 border-gray-200",children:[c.jsxs(Mr,{value:"all",className:"flex items-center gap-2 data-[state=active]:bg-blue-600 data-[state=active]:text-white text-gray-700",children:["All Assets (",a.length,")"]}),$.map(w=>{const k=_(w);return c.jsxs(Mr,{value:w,className:"flex items-center gap-2 data-[state=active]:bg-blue-600 data-[state=active]:text-white text-gray-700",children:[B(w),c.jsx("span",{className:"hidden sm:inline",children:w.split(" ")[0]}),c.jsx(Ue,{variant:"secondary",className:"text-xs bg-gray-200 text-gray-700 border-gray-300",children:k.total})]},w)})]})})]})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("span",{className:"text-sm text-gray-600",children:["Showing ",l.length," of ",a.length," assets"]}),n&&c.jsx(Ue,{variant:"outline",className:"text-xs border-blue-200 text-blue-700 bg-blue-50",children:"Owned Assets Only"})]}),c.jsxs("div",{className:"text-sm text-gray-600",children:["You own ",a.filter(w=>w.userBalance>0).length," assets"]})]}),l.length===0?c.jsx(me,{className:"bg-white border-gray-200 shadow-sm",children:c.jsx(ye,{className:"p-8 text-center",children:c.jsxs("div",{className:"text-gray-700",children:[c.jsx(XC,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),c.jsx("h3",{className:"text-lg font-medium mb-2 text-gray-900",children:"No assets found"}),c.jsx("p",{className:"text-sm text-gray-600",children:f?`No assets match your search "${f}"`:y!=="all"?`No ${y} assets found`:"No assets available"})]})})}):c.jsx("div",{className:b==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-4",children:l.map(w=>c.jsx(e$e,{token:w,isSelected:t===w.id,onSelect:()=>e(w),compact:b==="list",showTradeButton:!1},w.id))})]})};class mee{constructor(e,n,r){Ge(this,"provider");Ge(this,"signer");Ge(this,"contractAddress");this.provider=e,this.contractAddress=n,this.signer=r}getContract(e=!1){return new nt(this.contractAddress,gv,e&&this.signer?this.signer:this.provider)}async createSellOrder(e,n,r){if(!this.signer)throw new Error("Signer required");const s=this.getContract(!0),i=ja(r);return await s.createSellOrder(e,n,i)}async createBuyOrder(e,n,r){if(!this.signer)throw new Error("Signer required");const s=this.getContract(!0),i=ja(r),a=i.mul(n);return await s.createBuyOrder(e,n,i,{value:a})}async fillOrder(e,n,r){if(!this.signer)throw new Error("Signer required");const s=this.getContract(!0);if(r.isBuyOrder)return await s.fillOrder(e,n);{const i=ja(r.pricePerTokenU2U.toString()).mul(n),a=i.div(100),o=i.add(a);return await s.fillOrder(e,n,{value:o})}}async getOrderBook(e){const n=this.getContract(),[r,s]=await n.getActiveOrders(e),i=[],a=[];for(const o of r)try{const l=await n.activeOrders(o);l.isActive&&!l.isBuyOrder&&i.push({orderId:o.toString(),maker:l.maker,tokenId:l.tokenId.toString(),amount:l.amount.toNumber(),pricePerTokenU2U:parseFloat(_e(l.pricePerTokenU2U)),isBuyOrder:l.isBuyOrder,isActive:l.isActive,isFilled:l.isFilled,timestamp:l.timestamp.toNumber(),expiryTimestamp:l.expiryTimestamp.toNumber()})}catch(l){console.warn(`Error fetching sell order ${o}:`,l)}for(const o of s)try{const l=await n.activeOrders(o);l.isActive&&l.isBuyOrder&&a.push({orderId:o.toString(),maker:l.maker,tokenId:l.tokenId.toString(),amount:l.amount.toNumber(),pricePerTokenU2U:parseFloat(_e(l.pricePerTokenU2U)),isBuyOrder:l.isBuyOrder,isActive:l.isActive,isFilled:l.isFilled,timestamp:l.timestamp.toNumber(),expiryTimestamp:l.expiryTimestamp.toNumber()})}catch(l){console.warn(`Error fetching buy order ${o}:`,l)}return i.sort((o,l)=>o.pricePerTokenU2U-l.pricePerTokenU2U),a.sort((o,l)=>l.pricePerTokenU2U-o.pricePerTokenU2U),{sellOrders:i,buyOrders:a}}async cancelOrder(e){if(!this.signer)throw new Error("Signer required");return await this.getContract(!0).cancelOrder(e)}async getEscrowBalances(e){const r=await this.getContract().getEscrowedU2U(e);return{u2u:parseFloat(_e(r)),tokens:{}}}async getUserOrders(e){return(await this.getContract().getUserOrders(e)).map(s=>s.toString())}async getBestAskPrice(e){const n=this.getContract(),[r,s]=await n.getBestAskPrice(e);return{price:parseFloat(_e(r)),amount:s.toNumber()}}async getBestBidPrice(e){const n=this.getContract(),[r,s]=await n.getBestBidPrice(e);return{price:parseFloat(_e(r)),amount:s.toNumber()}}async getOrderDetails(e){try{const r=await this.getContract().activeOrders(e);return{orderId:e,maker:r.maker,tokenId:r.tokenId.toString(),amount:r.amount.toNumber(),pricePerTokenU2U:parseFloat(_e(r.pricePerTokenU2U)),isBuyOrder:r.isBuyOrder,isActive:r.isActive,isFilled:r.isFilled,timestamp:r.timestamp.toNumber(),expiryTimestamp:r.expiryTimestamp.toNumber()}}catch(n){return console.error(`Error fetching order ${e}:`,n),null}}async checkApproval(e,n){return await new nt(n,["function isApprovedForAll(address owner, address operator) external view returns (bool)"],this.provider).isApprovedForAll(e,this.contractAddress)}async approveContract(e){if(!this.signer)throw new Error("Signer required");return await new nt(e,["function setApprovalForAll(address operator, bool approved) external"],this.signer).setApprovalForAll(this.contractAddress,!0)}}const n$e=t=>{const{provider:e,signer:n,address:r}=ir(),[s,i]=A.useState(null),[a,o]=A.useState(null),[l,u]=A.useState([]),[d,p]=A.useState(!1),[f,h]=A.useState(!1),[y,m]=A.useState(null);A.useEffect(()=>{if(e&&Br){const N=new mee(e,Br,n);i(N)}},[e,n]);const b=A.useCallback(async()=>{if(!(!s||!t)){h(!0),m(null);try{const N=await s.getOrderBook(t);if(o(N),r){const L=[...N.sellOrders,...N.buyOrders].filter(U=>U.maker.toLowerCase()===r.toLowerCase());u(L)}}catch(N){console.error("Error loading order book:",N),m("Failed to load order book data")}finally{h(!1)}}},[s,t,r]),v=A.useCallback(async()=>{if(!(!s||!r))try{const N=await s.checkApproval(r,Na);p(N)}catch(N){console.error("Error checking approval:",N)}},[s,r]);A.useEffect(()=>{if(s&&t){b(),v();const N=setInterval(()=>{b()},1e4);return()=>clearInterval(N)}},[s,t,b,v]);const g=A.useCallback(async()=>{if(!s)throw new Error("Service not initialized");h(!0);try{await(await s.approveContract(Na)).wait(),p(!0),await b()}catch(N){throw console.error("Error approving contract:",N),N}finally{h(!1)}},[s,b]),x=A.useCallback(async(N,P,L)=>{if(!s)throw new Error("Service not initialized");h(!0);try{if(r){const{dashboardCache:$}=await Qt(async()=>{const{dashboardCache:R}=await Promise.resolve().then(()=>ha);return{dashboardCache:R}},void 0),B={hash:`pending_${Date.now()}`,blockNumber:0,timestamp:Date.now(),type:"sell",tokenId:N,amount:P,price:ja(L).toString(),from:r,to:Br,gasUsed:"0",gasPrice:"0",status:"pending",assetName:`Asset #${N} (Sell Order)`,platformFee:"0"},_=$.getCachedTransactionHistory(r)||[],w=[B,..._];$.cacheTransactionHistory(w,r),console.log(" Added pending sell order to transaction cache");const k={id:`sell_order_pending_${Date.now()}`,timestamp:Date.now(),type:"order_created",title:"Sell Order Creating...",message:`Creating sell order for ${P} tokens of Asset #${N} at ${L} U2U each. Waiting for blockchain confirmation...`,status:"pending",priority:"medium",read:!1,orderData:{orderId:`pending_${Date.now()}`,tokenId:N,assetName:`Asset #${N}`,amount:P,price:L,orderType:"sell"}},S=$.getCachedNotifications(r)||[],M=[k,...S];$.cacheNotifications(M,r),console.log(" Added pending sell order notification")}const U=await s.createSellOrder(N,P,L);if(r){const{dashboardCache:$}=await Qt(async()=>{const{dashboardCache:w}=await Promise.resolve().then(()=>ha);return{dashboardCache:w}},void 0),_=($.getCachedTransactionHistory(r)||[]).map(w=>w.hash.startsWith("pending_")&&w.tokenId===N&&w.type==="sell"?{...w,hash:U.hash,status:"pending"}:w);$.cacheTransactionHistory(_,r),console.log(" Updated pending sell order with real tx hash:",U.hash)}if(await U.wait(),r){const{dashboardCache:$}=await Qt(async()=>{const{dashboardCache:w}=await Promise.resolve().then(()=>ha);return{dashboardCache:w}},void 0),_=($.getCachedNotifications(r)||[]).map(w=>{var k;return w.id.includes("sell_order_pending_")&&((k=w.orderData)==null?void 0:k.tokenId)===N?{...w,id:`sell_order_confirmed_${U.hash}`,title:"Sell Order Created Successfully",message:`Your sell order for ${P} tokens of Asset #${N} at ${L} U2U each is now active in the OrderBook.`,status:"completed",priority:"high",transactionHash:U.hash,orderData:{...w.orderData,orderId:U.hash}}:w});$.cacheNotifications(_,r),console.log(" Updated sell order notification with success status")}await b()}catch(U){if(console.error("Error creating sell order:",U),r){const{dashboardCache:$}=await Qt(async()=>{const{dashboardCache:S}=await Promise.resolve().then(()=>ha);return{dashboardCache:S}},void 0),_=($.getCachedTransactionHistory(r)||[]).filter(S=>!(S.hash.startsWith("pending_")&&S.tokenId===N&&S.type==="sell"));$.cacheTransactionHistory(_,r);const k=($.getCachedNotifications(r)||[]).map(S=>{var M;return S.id.includes("sell_order_pending_")&&((M=S.orderData)==null?void 0:M.tokenId)===N?{...S,title:"Sell Order Failed",message:`Failed to create sell order for Asset #${N}. Please try again.`,status:"failed",priority:"high"}:S});$.cacheNotifications(k,r),console.log(" Removed failed pending sell order from cache and updated notification")}throw U}finally{h(!1)}},[s,b,r]),T=A.useCallback(async(N,P,L)=>{if(!s)throw new Error("Service not initialized");h(!0);try{if(r){const{dashboardCache:$}=await Qt(async()=>{const{dashboardCache:R}=await Promise.resolve().then(()=>ha);return{dashboardCache:R}},void 0),B={hash:`pending_${Date.now()}`,blockNumber:0,timestamp:Date.now(),type:"buy",tokenId:N,amount:P,price:ja(L).toString(),from:r,to:Br,gasUsed:"0",gasPrice:"0",status:"pending",assetName:`Asset #${N} (Buy Order)`,platformFee:"0"},_=$.getCachedTransactionHistory(r)||[],w=[B,..._];$.cacheTransactionHistory(w,r),console.log(" Added pending buy order to transaction cache");const k={id:`buy_order_pending_${Date.now()}`,timestamp:Date.now(),type:"order_created",title:"Buy Order Creating...",message:`Creating buy order for ${P} tokens of Asset #${N} at ${L} U2U each. Funds will be escrowed upon confirmation...`,status:"pending",priority:"medium",read:!1,orderData:{orderId:`pending_${Date.now()}`,tokenId:N,assetName:`Asset #${N}`,amount:P,price:L,orderType:"buy"}},S=$.getCachedNotifications(r)||[],M=[k,...S];$.cacheNotifications(M,r),console.log(" Added pending buy order notification")}const U=await s.createBuyOrder(N,P,L);if(r){const{dashboardCache:$}=await Qt(async()=>{const{dashboardCache:w}=await Promise.resolve().then(()=>ha);return{dashboardCache:w}},void 0),_=($.getCachedTransactionHistory(r)||[]).map(w=>w.hash.startsWith("pending_")&&w.tokenId===N&&w.type==="buy"?{...w,hash:U.hash,status:"pending"}:w);$.cacheTransactionHistory(_,r),console.log(" Updated pending buy order with real tx hash:",U.hash)}if(await U.wait(),r){const{dashboardCache:$}=await Qt(async()=>{const{dashboardCache:w}=await Promise.resolve().then(()=>ha);return{dashboardCache:w}},void 0),_=($.getCachedNotifications(r)||[]).map(w=>{var k;return w.id.includes("buy_order_pending_")&&((k=w.orderData)==null?void 0:k.tokenId)===N?{...w,id:`buy_order_confirmed_${U.hash}`,title:"Buy Order Created & Funds Escrowed",message:`Your buy order for ${P} tokens of Asset #${N} at ${L} U2U each is now active. ${(P*parseFloat(L)).toFixed(2)} U2U has been escrowed.`,status:"completed",priority:"high",transactionHash:U.hash,orderData:{...w.orderData,orderId:U.hash,escrowAmount:(P*parseFloat(L)).toFixed(2)}}:w});$.cacheNotifications(_,r),console.log(" Updated buy order notification with success status")}await b()}catch(U){if(console.error("Error creating buy order:",U),r){const{dashboardCache:$}=await Qt(async()=>{const{dashboardCache:S}=await Promise.resolve().then(()=>ha);return{dashboardCache:S}},void 0),_=($.getCachedTransactionHistory(r)||[]).filter(S=>!(S.hash.startsWith("pending_")&&S.tokenId===N&&S.type==="buy"));$.cacheTransactionHistory(_,r);const k=($.getCachedNotifications(r)||[]).map(S=>{var M;return S.id.includes("buy_order_pending_")&&((M=S.orderData)==null?void 0:M.tokenId)===N?{...S,title:"Buy Order Failed",message:`Failed to create sell order for Asset #${N}. Please try again.`,status:"failed",priority:"high"}:S});$.cacheNotifications(k,r),console.log(" Removed failed pending buy order from cache and updated notification")}throw U}finally{h(!1)}},[s,b,r]),I=A.useCallback(async(N,P,L)=>{if(!s)throw new Error("Service not initialized");h(!0);try{if(r){const{dashboardCache:$}=await Qt(async()=>{const{dashboardCache:R}=await Promise.resolve().then(()=>ha);return{dashboardCache:R}},void 0),B={hash:`pending_fill_${Date.now()}`,blockNumber:0,timestamp:Date.now(),type:L.isBuyOrder?"sell":"buy",tokenId:L.tokenId,amount:P,price:ja(L.pricePerTokenU2U.toString()).toString(),from:r,to:L.maker,gasUsed:"0",gasPrice:"0",status:"pending",assetName:`Asset #${L.tokenId} (P2P Trade)`,platformFee:"0"},_=$.getCachedTransactionHistory(r)||[],w=[B,..._];$.cacheTransactionHistory(w,r);const k={id:`order_fill_pending_${Date.now()}`,timestamp:Date.now(),type:"order_filled",title:"Executing Trade...",message:`Executing ${L.isBuyOrder?"sell":"buy"} trade for ${P} tokens of Asset #${L.tokenId}. Waiting for confirmation...`,status:"pending",priority:"high",read:!1,orderData:{orderId:N,tokenId:L.tokenId,assetName:`Asset #${L.tokenId}`,amount:P,price:L.pricePerTokenU2U.toString(),orderType:L.isBuyOrder?"sell":"buy"}},S=$.getCachedNotifications(r)||[],M=[k,...S];$.cacheNotifications(M,r),console.log(" Added pending order fill transaction and notification")}const U=await s.fillOrder(N,P,L);if(r){const{dashboardCache:$}=await Qt(async()=>{const{dashboardCache:w}=await Promise.resolve().then(()=>ha);return{dashboardCache:w}},void 0),_=($.getCachedTransactionHistory(r)||[]).map(w=>w.hash.startsWith("pending_fill_")&&w.tokenId===L.tokenId?{...w,hash:U.hash,status:"pending"}:w);$.cacheTransactionHistory(_,r)}if(await U.wait(),r){const{dashboardCache:$}=await Qt(async()=>{const{dashboardCache:w}=await Promise.resolve().then(()=>ha);return{dashboardCache:w}},void 0),_=($.getCachedNotifications(r)||[]).map(w=>{var k;return w.id.includes("order_fill_pending_")&&((k=w.orderData)==null?void 0:k.tokenId)===L.tokenId?{...w,id:`order_filled_success_${U.hash}`,title:"Trade Executed Successfully",message:`Successfully ${L.isBuyOrder?"sold":"bought"} ${P} tokens of Asset #${L.tokenId} for ${(P*L.pricePerTokenU2U).toFixed(2)} U2U. Trade completed!`,status:"completed",transactionHash:U.hash}:w});$.cacheNotifications(_,r),console.log(" Updated order fill notification with success status")}await b()}catch(U){if(console.error("Error filling order:",U),r){const{dashboardCache:$}=await Qt(async()=>{const{dashboardCache:S}=await Promise.resolve().then(()=>ha);return{dashboardCache:S}},void 0),_=($.getCachedTransactionHistory(r)||[]).filter(S=>!S.hash.startsWith("pending_fill_"));$.cacheTransactionHistory(_,r);const k=($.getCachedNotifications(r)||[]).map(S=>S.id.includes("order_fill_pending_")?{...S,title:"Trade Failed",message:`Failed to execute trade for Asset #${L.tokenId}. Please try again.`,status:"failed"}:S);$.cacheNotifications(k,r),console.log(" Updated order fill notification with failure status")}throw U}finally{h(!1)}},[s,b,r]),C=A.useCallback(async N=>{if(!s)throw new Error("Service not initialized");h(!0);try{await(await s.cancelOrder(N)).wait(),await b()}catch(P){throw console.error("Error cancelling order:",P),P}finally{h(!1)}},[s,b]);return{orderBookData:a,loading:f,error:y,refreshOrderBook:b,isApproved:d,approveContract:g,createSellOrder:x,createBuyOrder:T,fillOrder:I,cancelOrder:C,userOrders:l}},r$e=({selectedToken:t,buyOrders:e,sellOrders:n})=>{const[r,s]=A.useState("24h"),[i,a]=A.useState([]),[o,l]=A.useState(()=>{const B=t.marketplacePrice||0;return B>=1e15?B/1e18:B}),[u,d]=A.useState(0),[p,f]=A.useState([]),[h,y]=A.useState(!1),{provider:m,signer:b}=ir(),v=xe.useMemo(()=>m&&b?new mee(m,Br,b):null,[m,b]),g=B=>B>=1e9?(B/1e9).toFixed(2)+"B":B>=1e6?(B/1e6).toFixed(2)+"M":B>=1e3?(B/1e3).toFixed(2)+"K":B.toFixed(2),x=B=>isNaN(B)||B===0?"0":g(B),T=B=>{if(isNaN(B)||B===0)return"0.00";const _=B;return _>=1?_.toFixed(2):_>=.01?_.toFixed(4):_>0?_.toFixed(6):"0.00"},I=async()=>{if(!m||!t.id){console.log(" Missing provider or token ID:",{provider:!!m,tokenId:t.id});return}y(!0);try{console.log(" === STARTING TRANSACTION FETCH ==="),console.log(" Token ID:",t.id),console.log(" Token Symbol:",t.symbol),console.log(" Provider:",m.connection.url),console.log(" OrderBookService available:",!!v);const B=[];try{const _=new nt(us,xc,m);console.log(` Searching marketplace events for token: ${t.id}`),console.log(` Marketplace contract: ${us}`);const w=["OrderFilled","TokenPurchased","TokenSold","Purchase"];for(const k of w)try{const S=_.filters[k]?_.filters[k]():null;if(S){const M=await _.queryFilter(S,-5e3);console.log(` Found ${M.length} total ${k} events`);const R=M.filter(j=>{if(!j.args)return!1;const V=j.args.tokenId||j.args._tokenId||j.args.id;return V&&V.toString()===t.id.toString()});console.log(` Found ${R.length} ${k} events for token ${t.id}`);for(const j of R)if(j.args){const V=await m.getBlock(j.blockNumber);let O=0,E=1;j.args.totalPrice&&j.args.amount?(O=parseFloat(_e(j.args.totalPrice)),E=parseFloat(j.args.amount.toString())):j.args.price&&(O=parseFloat(_e(j.args.price)),E=j.args.amount?parseFloat(j.args.amount.toString()):1),O>0&&B.push({timestamp:V.timestamp*1e3,price:E>0?O/E:O,amount:E,type:"sell",txHash:j.transactionHash})}}}catch(S){console.log(` Event ${k} not found or error:`,S.message)}}catch(_){console.warn(" Could not fetch marketplace events:",_)}try{const _=new nt(Br,gv,m);console.log(` Searching OrderFilled events for token: ${t.id}`),console.log(` OrderBook contract: ${Br}`);try{console.log(" Looking for OrderFilled events...");const k=_.filters.OrderFilled(),S=[-2e4,-5e4,-1e5];let M=[];for(const R of S){console.log(` Searching last ${Math.abs(R)} blocks for OrderFilled events...`);try{const j=await _.queryFilter(k,R);if(console.log(` Found ${j.length} total OrderFilled events in last ${Math.abs(R)} blocks`),j.length>0){M=j;break}}catch(j){console.log(` Block range ${R} failed:`,j.message)}}if(M.length===0){console.log(" No events in recent blocks, searching for order creation events to find trading period...");try{const R=_.filters.SellOrderCreated?_.filters.SellOrderCreated():null,j=_.filters.BuyOrderCreated?_.filters.BuyOrderCreated():null;let V=null;if(R||j){const O=R?await _.queryFilter(R,-1e5):[],E=j?await _.queryFilter(j,-1e5):[],z=[...O.filter(Z=>Z.args&&Z.args.tokenId&&Z.args.tokenId.toString()===t.id),...E.filter(Z=>Z.args&&Z.args.tokenId&&Z.args.tokenId.toString()===t.id)];z.length>0&&(V=Math.min(...z.map(Z=>Z.blockNumber)),console.log(` Found trading activity starting from block ${V}`),M=await _.queryFilter(k,V),console.log(` Found ${M.length} OrderFilled events from trading start (block ${V})`))}if(M.length===0){console.log(" Last resort: searching maximum block range...");const O=await m.getBlockNumber(),E=Math.max(0,O-1e6);M=await _.queryFilter(k,E),console.log(` Found ${M.length} total OrderFilled events from block ${E} to ${O}`)}}catch(R){console.log(" Extended search failed:",R.message)}}M.length===0&&(console.log(" No OrderFilled events found. This might mean:"),console.log("   - No trades have happened recently (last 5000 blocks)"),console.log("   - OrderFilled event name is different"),console.log("   - Contract address is wrong"));for(const R of M)if(R.args)try{const{orderId:j,taker:V,amount:O,totalPrice:E}=R.args;console.log(" Processing OrderFilled Event:"),console.log(`   - OrderId: ${j}`),console.log(`   - Taker: ${V}`),console.log(`   - Amount: ${O}`),console.log(`   - TotalPrice: ${E}`),console.log(`   - Block: ${R.blockNumber}`),console.log(`   - TxHash: ${R.transactionHash}`);let z=null;if(v)try{console.log(` Looking up order details for orderId ${j}...`),z=await v.getOrderDetails(j.toString()),z?(console.log(" Order details found:"),console.log(`   - TokenId: ${z.tokenId}`),console.log(`   - Maker: ${z.maker}`),console.log(`   - IsBuyOrder: ${z.isBuyOrder}`),console.log(`   - Amount: ${z.amount}`),console.log(`   - PricePerToken: ${z.pricePerTokenU2U}`)):console.log(` Order details returned null for orderId ${j}`)}catch(Z){console.warn(` Could not lookup order details for orderId ${j}:`,Z);continue}else{console.warn(" OrderBookService not available for order lookup");continue}if(z&&z.tokenId===t.id){const Z=await m.getBlock(R.blockNumber),F=parseFloat(_e(E))/parseFloat(O.toString()),H=parseFloat(O.toString());console.log(" FOUND MATCHING TRADE!"),console.log(`   - TokenId Match: ${z.tokenId} === ${t.id}`),console.log(`   - Price per token: ${F} U2U`),console.log(`   - Trade amount: ${H}`),console.log(`   - Trade type: ${z.isBuyOrder?"buy":"sell"}`),console.log(`   - Block timestamp: ${Z.timestamp}`),console.log(`   - Transaction hash: ${R.transactionHash}`),B.push({timestamp:Z.timestamp*1e3,price:F,amount:H,type:z.isBuyOrder?"buy":"sell",txHash:R.transactionHash})}else z?(console.log(" TOKEN ID MISMATCH:"),console.log(`   - Order tokenId: "${z.tokenId}" (type: ${typeof z.tokenId})`),console.log(`   - Looking for: "${t.id}" (type: ${typeof t.id})`),console.log(`   - String comparison: ${z.tokenId} === ${t.id} = ${z.tokenId===t.id}`),console.log(`   - Loose comparison: ${z.tokenId} == ${t.id} = ${z.tokenId==t.id}`)):console.log(` Skipping OrderFilled ${j} - could not get order details`)}catch(j){console.warn(" Error processing OrderFilled event:",j)}}catch(k){console.warn(" Could not fetch OrderFilled events:",k)}const w=["OrderExecuted","TradeExecuted","OrderMatched"];for(const k of w)try{const S=_.filters[k]?_.filters[k]():null;if(S){const M=await _.queryFilter(S,-5e3);console.log(` Found ${M.length} total ${k} events (fallback)`);const R=M.filter(j=>{if(!j.args)return!1;const V=j.args.tokenId||j.args._tokenId||j.args.id;return V&&V.toString()===t.id.toString()});console.log(` Found ${R.length} ${k} events for token ${t.id}`);for(const j of R)if(j.args){const V=await m.getBlock(j.blockNumber);let O=0,E=1,z=!1;j.args.pricePerToken?O=parseFloat(_e(j.args.pricePerToken)):j.args.price?O=parseFloat(_e(j.args.price)):j.args.totalPrice&&j.args.amount&&(O=parseFloat(_e(j.args.totalPrice))/parseFloat(j.args.amount.toString())),j.args.amount&&(E=parseFloat(j.args.amount.toString())),j.args.isBuyOrder!==void 0?z=j.args.isBuyOrder:j.args.orderType&&(z=j.args.orderType===1),O>0&&B.push({timestamp:V.timestamp*1e3,price:O,amount:E,type:z?"buy":"sell",txHash:j.transactionHash})}}}catch(S){console.log(` OrderBook event ${k} not found:`,S.message)}}catch(_){console.warn(" Could not fetch orderbook events:",_)}if(B.length===0){console.log(" No specific events found, trying broader transaction search...");try{const _=await m.getBlockNumber(),w=Math.max(0,_-1e3);console.log(` Scanning blocks ${w} to ${_} for transactions...`);const k=[us,Br];for(const S of k)try{for(let M=_;M>w&&M>=0;M-=100){const R=await m.getBlockWithTransactions(M);for(const j of R.transactions)j.to===S&&j.data.includes(t.id.replace("0x",""))&&(console.log(` Found potential transaction: ${j.hash}`),B.push({timestamp:R.timestamp*1e3,price:parseFloat(_e(j.value||0)),amount:1,type:"sell",txHash:j.hash}));if(B.length>0)break}}catch(M){console.log(" Block scanning error:",M.message)}}catch(_){console.log(" Broad search failed:",_.message)}}if(B.sort((_,w)=>_.timestamp-w.timestamp),f(B),console.log(" === TRANSACTION FETCH COMPLETE ==="),console.log(" Final Results:"),console.log(`   - Total transactions found: ${B.length}`),console.log(`   - Target token ID: ${t.id}`),console.log("   - Transactions:",B),B.length===0){console.log(" NO TRANSACTIONS FOUND - Possible causes:"),console.log("   1. No trades have happened for this token"),console.log("   2. Token ID format mismatch (string vs number)"),console.log("   3. OrderFilled events not being emitted"),console.log("   4. Order lookup service failing"),console.log("   5. Contract addresses incorrect"),console.log(" Falling back to mock transaction data for chart visualization..."),C();return}else console.log(" SUCCESS - Found real blockchain transactions!")}catch(B){console.error(" Error fetching real blockchain transactions:",B),console.log(" Falling back to mock transaction data due to error..."),C()}finally{y(!1)}},C=()=>{const B=[],_=Date.now();[...e.slice(0,3),...n.slice(0,3)].forEach((w,k)=>{const S=_-k*36e5;let M=t.marketplacePrice||100;M>=1e15&&(M=M/1e18),w.pricePerTokenU2U&&(M=w.pricePerTokenU2U>1e4?w.pricePerTokenU2U/1e6*100:w.pricePerTokenU2U);const R=.95+Math.random()*.1,j=Math.max(.01,M*R);B.push({timestamp:S+Math.random()*18e5,price:j,amount:Math.min(w.amount||1,100),type:w.isBuyOrder?"buy":"sell",txHash:`0x${Math.random().toString(16).substr(2,64)}`})});for(let w=0;w<20;w++){let k=t.marketplacePrice||100;k>=1e15&&(k=k/1e18);const S=k*(.95+Math.random()*.1);B.push({timestamp:_-w*18e5,price:S,amount:1+Math.random()*5,type:Math.random()>.5?"buy":"sell",txHash:`0x${Math.random().toString(16).substr(2,64)}`})}B.sort((w,k)=>w.timestamp-k.timestamp),f(B)},N=()=>{if(p.length===0)return;const B=p[p.length-1];if(l(B.price),p.length>1){const _=p[0],w=(B.price-_.price)/_.price*100;d(w)}console.log(` Price updated from real trades: ${B.price} Flow`)},P=()=>{if(p.length===0)return console.log(" No real transactions found - chart will be empty until trades happen"),[];console.log(` Generating price history from ${p.length} real transactions`);const B=[...p].sort((j,V)=>j.timestamp-V.timestamp),_=[];B.forEach(j=>{_.push({timestamp:j.timestamp,price:j.price,type:j.type})});const w=[],k=5*60*1e3,S=Date.now(),M=Math.min(...B.map(j=>j.timestamp));for(let j=M;j<=S;j+=k){const V=B.filter(O=>O.timestamp<=j).slice(-1)[0];V&&w.push({timestamp:j,price:V.price,type:"main"})}const R=[..._,...w];return console.log(` Generated ${R.length} price points (${_.length} transactions + ${w.length} main line)`),R};A.useEffect(()=>{const B=P();a(B),console.log(` Chart updated with ${B.length} price points (${p.length} real transactions)`)},[r,t.id,p]),A.useEffect(()=>{N()},[p]);const L=async()=>{if(!v){console.log(" OrderBook service not available");return}try{console.log(" === TESTING ORDERBOOK SERVICE ===");const B=await v.getOrderBook(t.id);if(console.log(` Current orders: ${B.sellOrders.length} sell, ${B.buyOrders.length} buy`),B.sellOrders.length>0||B.buyOrders.length>0){console.log(" Active orders found - this suggests trades should have happened!"),console.log(" Since orders exist, we should look for filled/cancelled orders too");const _=[...B.sellOrders,...B.buyOrders];for(let w=0;w<Math.min(3,_.length);w++){const k=_[w];console.log(` Order ${k.orderId} details:`,k)}console.log(" SUGGESTION: Look for OrderCreated events to find when trading started"),console.log(" Then search for OrderFilled events from that time period");try{const w=new nt(Br,gv,m);console.log(" Searching for SellOrderCreated and BuyOrderCreated events...");const k=w.filters.SellOrderCreated?w.filters.SellOrderCreated():null,S=w.filters.BuyOrderCreated?w.filters.BuyOrderCreated():null;if(k||S){const M=k?await w.queryFilter(k,-1e5):[],R=S?await w.queryFilter(S,-1e5):[];console.log(` Found ${M.length} SellOrderCreated and ${R.length} BuyOrderCreated events`);const j=M.filter(O=>O.args&&O.args.tokenId&&O.args.tokenId.toString()===t.id),V=R.filter(O=>O.args&&O.args.tokenId&&O.args.tokenId.toString()===t.id);if(console.log(` Token-specific events: ${j.length} sell, ${V.length} buy`),j.length>0||V.length>0){const O=[...j,...V],E=Math.min(...O.map(Z=>Z.blockNumber)),z=Math.max(...O.map(Z=>Z.blockNumber));console.log(` Trading activity detected between blocks ${E} and ${z}`),console.log(" Should search for OrderFilled events in this range!"),window.tradingBlockRange={earliestBlock:E,latestBlock:z},console.log(" Block range saved to window.tradingBlockRange for manual search")}}}catch(w){console.log(" Could not search for order creation events:",w.message)}}else console.log(" No active orders found - this token might not have any trading activity")}catch(B){console.error(" OrderBook service test failed:",B)}};A.useEffect(()=>{I()},[t.id,m,e.length,n.length]);const U=()=>{if(h)return c.jsx("div",{className:"h-full flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-2"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Loading transaction data..."})]})});if(i.length===0)return c.jsx("div",{className:"h-full flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx(Rs,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),c.jsx("h4",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No Trading Data"}),c.jsx("p",{className:"text-gray-500",children:"No executed transactions found for this token."}),c.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Chart will show real price movements when trades happen."})]})});const B=800,_=400,w=50,k=i.filter(Y=>Y.type==="main").sort((Y,J)=>Y.timestamp-J.timestamp),S=i.filter(Y=>Y.type==="buy").sort((Y,J)=>Y.timestamp-J.timestamp),M=i.filter(Y=>Y.type==="sell").sort((Y,J)=>Y.timestamp-J.timestamp);if(k.length===0&&S.length===0&&M.length===0)return c.jsx("div",{className:"h-full flex items-center justify-center",children:c.jsx("p",{className:"text-gray-500",children:"No price data available"})});const R=i.map(Y=>Y.price),j=Math.min(...R)*.95,V=Math.max(...R)*1.05,O=V-j||1,E=i.map(Y=>Y.timestamp),z=Math.min(...E),F=Math.max(...E)-z||1,H=(Y,J)=>{const re=w+(J-z)/F*(B-w*2),Q=w+(V-Y)/O*(_-w*2);return{x:re,y:Q}},K=Y=>Y.length===0?"":Y.map(Q=>H(Q.price,Q.timestamp)).map((Q,ee)=>`${ee===0?"M":"L"} ${Q.x} ${Q.y}`).join(" ");return c.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-slate-50 to-slate-100 rounded-lg",children:c.jsxs("svg",{viewBox:`0 0 ${B} ${_}`,className:"w-full h-full max-h-96 drop-shadow-sm",preserveAspectRatio:"xMidYMid meet",children:[c.jsxs("defs",{children:[c.jsxs("linearGradient",{id:"mainGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[c.jsx("stop",{offset:"0%",style:{stopColor:"#3b82f6",stopOpacity:.8}}),c.jsx("stop",{offset:"100%",style:{stopColor:"#1e40af",stopOpacity:.9}})]}),c.jsxs("filter",{id:"glow",children:[c.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),c.jsxs("feMerge",{children:[c.jsx("feMergeNode",{in:"coloredBlur"}),c.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),c.jsx("rect",{width:B,height:_,fill:"url(#backgroundGradient)"}),Array.from({length:6}).map((Y,J)=>{const re=w+J*(_-w*2)/5,Q=V-J*O/5;return c.jsxs("g",{children:[c.jsx("line",{x1:w,y1:re,x2:B-w,y2:re,stroke:"#e5e7eb",strokeWidth:"0.5",strokeDasharray:"2,2",opacity:"0.5"}),c.jsx("text",{x:w-10,y:re+3,fontSize:"10",fill:"#6b7280",textAnchor:"end",children:Q.toFixed(4)})]},J)}),Array.from({length:4}).map((Y,J)=>{const re=w+J*(B-w*2)/3,Q=z+J*F/3,ee=new Date(Q).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return c.jsxs("g",{children:[c.jsx("line",{x1:re,y1:w,x2:re,y2:_-w,stroke:"#e5e7eb",strokeWidth:"0.5",strokeDasharray:"2,2",opacity:"0.3"}),c.jsx("text",{x:re,y:_-w+15,fontSize:"9",fill:"#6b7280",textAnchor:"middle",children:ee})]},`time-${J}`)}),k.length>1&&c.jsx("path",{d:K(k),stroke:"url(#mainGradient)",strokeWidth:"3",fill:"none",filter:"url(#glow)"}),S.length>1&&c.jsx("path",{d:K(S),stroke:"#10b981",strokeWidth:"2",fill:"none",strokeDasharray:"4,4",opacity:"0.7"}),M.length>1&&c.jsx("path",{d:K(M),stroke:"#ef4444",strokeWidth:"2",fill:"none",strokeDasharray:"4,4",opacity:"0.7"}),i.filter(Y=>Y.type!=="main").map((Y,J)=>{const re=H(Y.price,Y.timestamp),Q=Y.type==="buy"?"#10b981":"#ef4444";return c.jsx("g",{children:c.jsx("circle",{cx:re.x,cy:re.y,r:"4",fill:Q,stroke:"white",strokeWidth:"2",opacity:"0.8"})},`point-${J}`)}),p.length>0&&c.jsxs(c.Fragment,{children:[c.jsx("line",{x1:w,y1:H(o,Date.now()).y,x2:B-w,y2:H(o,Date.now()).y,stroke:"#3b82f6",strokeWidth:"2",strokeDasharray:"8,4",opacity:"0.9"}),c.jsxs("text",{x:B-w+10,y:H(o,Date.now()).y+3,fontSize:"12",fill:"#3b82f6",fontWeight:"bold",children:[o.toFixed(4)," Flow"]})]}),c.jsxs("g",{transform:`translate(${w}, ${w-30})`,children:[c.jsx("line",{x1:"0",y1:"0",x2:"20",y2:"0",stroke:"url(#mainGradient)",strokeWidth:"3"}),c.jsx("text",{x:"25",y:"4",fontSize:"10",fill:"#374151",children:"Main Price"}),c.jsx("line",{x1:"100",y1:"0",x2:"120",y2:"0",stroke:"#10b981",strokeWidth:"2",strokeDasharray:"4,4"}),c.jsx("text",{x:"125",y:"4",fontSize:"10",fill:"#374151",children:"Buy Orders"}),c.jsx("line",{x1:"220",y1:"0",x2:"240",y2:"0",stroke:"#ef4444",strokeWidth:"2",strokeDasharray:"4,4"}),c.jsx("text",{x:"245",y:"4",fontSize:"10",fill:"#374151",children:"Sell Orders"})]})]})})},$=u>=0;return c.jsxs("div",{className:"w-full h-full bg-white rounded-lg border border-gray-200",children:[c.jsxs("div",{className:"p-4 border-b border-gray-200",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[t.symbol,"/Flow"]}),c.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[c.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[T(o>0?o:t.marketplacePrice||0)," Flow"]}),p.length>0&&c.jsxs(Ue,{variant:"secondary",className:"text-xs",children:["Live from ",p.length," trades"]}),c.jsxs("span",{className:`flex items-center text-sm font-medium ${$?"text-green-600":"text-red-600"}`,children:[$?c.jsx(Rs,{className:"w-4 h-4 mr-1"}):c.jsx(oS,{className:"w-4 h-4 mr-1"}),$?"+":"",u.toFixed(2),"% (",r,")"]})]})]}),c.jsx("div",{className:"flex bg-gray-100 rounded-lg p-1",children:["1h","24h","7d","30d"].map(B=>c.jsx("button",{onClick:()=>s(B),className:`px-3 py-1 text-xs font-medium rounded-md transition-all ${r===B?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-blue-600"}`,children:B},B))})]}),c.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs text-gray-500",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${p.length>0?"bg-green-500 animate-pulse":"bg-gray-400"}`}),p.length>0?c.jsxs("span",{children:["Live blockchain data  ",p.length," real transactions"]}):c.jsx("span",{children:"Waiting for real transactions  Static chart display"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:I,className:"text-blue-600 hover:text-blue-700 font-medium",disabled:h,children:h?"Searching...":"Refresh "}),c.jsx("button",{onClick:()=>{console.log(" === COMPREHENSIVE DEBUG INFO ==="),console.log(" Token Information:"),console.log("   - Token ID:",t.id,`(type: ${typeof t.id})`),console.log("   - Token Symbol:",t.symbol),console.log("   - Token Name:",t.name),console.log("   - Marketplace Price:",t.marketplacePrice),console.log(""),console.log(" Connection Status:"),console.log("   - Provider available:",!!m),console.log("   - Signer available:",!!b),console.log("   - OrderBookService available:",!!v),console.log(""),console.log(" Transaction Data:"),console.log("   - Real transactions count:",p.length),console.log("   - Price history count:",i.length),console.log("   - Current price:",o),console.log("   - Price change:",u),console.log(""),console.log(" Raw Data:"),console.log("   - Real transactions:",p),console.log("   - Price history:",i),console.log(""),console.log(" Contract Addresses:"),console.log("   - Marketplace:",us),console.log("   - OrderBook Escrow:",Br),L(),console.log(""),console.log(" Triggering manual transaction fetch..."),I()},className:"text-gray-500 hover:text-gray-700 text-xs",title:"Debug info & manual fetch",children:" Debug"})]})]})]}),c.jsx("div",{className:"h-80 p-4",children:c.jsx("div",{className:"h-full bg-gray-50 rounded-lg border border-gray-100 overflow-hidden",children:c.jsx(U,{})})}),c.jsxs("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:[c.jsxs("div",{className:"grid grid-cols-4 gap-4 text-center",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-xs text-gray-500",children:"24h High"}),c.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[p.length>0?T(Math.max(...p.map(B=>B.price))):"0.00"," Flow"]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs text-gray-500",children:"24h Low"}),c.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[p.length>0?T(Math.min(...p.map(B=>B.price))):"0.00"," Flow"]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs text-gray-500",children:"Total Volume"}),c.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[p.length>0?x(p.reduce((B,_)=>B+_.amount,0)):"0"," Tokens"]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs text-gray-500",children:"Last Trade"}),c.jsx("div",{className:"text-sm font-semibold text-gray-900",children:p.length>0?new Date(p[p.length-1].timestamp).toLocaleTimeString():"No trades"})]})]}),p.length>0&&c.jsxs("div",{className:"mt-2 p-3 bg-blue-50 rounded-lg",children:[c.jsx("h4",{className:"text-xs font-medium text-blue-800 mb-2",children:"Recent Blockchain Transactions"}),c.jsx("div",{className:"space-y-1 max-h-24 overflow-y-auto",children:p.slice(-3).reverse().map((B,_)=>c.jsxs("div",{className:"flex justify-between text-xs",children:[c.jsxs("span",{className:`font-medium ${B.type==="buy"?"text-green-600":"text-red-600"}`,children:[B.type.toUpperCase()," ",B.amount]}),c.jsxs("span",{className:"text-gray-600",children:["@ ",T(B.price)," Flow"]}),c.jsx("span",{className:"text-gray-500",children:new Date(B.timestamp).toLocaleTimeString()})]},B.txHash))})]})]})]})},s$e=({selectedToken:t,onChangeAsset:e})=>{const{address:n}=ir(),[r,s]=A.useState(!1),[i,a]=A.useState(null),[o,l]=A.useState(!1),[u,d]=A.useState("buy"),[p,f]=A.useState(""),[h,y]=A.useState(""),[m,b]=A.useState(""),[v,g]=A.useState(""),{orderBookData:x,userOrders:T=[],cancelOrder:I,createBuyOrder:C,createSellOrder:N,fillOrder:P,refreshOrderBook:L,isApproved:U,approveContract:$}=n$e(t.id||t.symbol||""),B=(x==null?void 0:x.buyOrders)||[],_=(x==null?void 0:x.sellOrders)||[],w=O=>{const E=typeof O=="string"?parseFloat(O):O;return isNaN(E)||E===0?"0.0000":E>=1e6?(E/1e6).toFixed(2)+"M":E>=1e3?(E/1e3).toFixed(2)+"K":E>=1?E.toFixed(4):E>=.01?E.toFixed(6):E.toExponential(2)},k=O=>{const E=typeof O=="string"?parseFloat(O):O;return isNaN(E)||E===0?"0.00":E>=1?E.toFixed(2):E>=.01?E.toFixed(4):E>0?E.toFixed(6):"0.00"},S=async()=>{if(!m||!p){le.error("Please enter both amount and price");return}s(!0);try{await C(t.id||"1",parseInt(m),p),le.success("Buy order created successfully!"),b(""),f(""),a(null),L()}catch(O){console.error("Error creating buy order:",O),le.error("Failed to create sell order")}finally{s(!1)}},M=async()=>{var O,E;if(!v||!h){le.error("Please enter both amount and price");return}s(!0);try{U||(le.info("Approving OrderBook contract to manage your tokens..."),console.log(" Approval required - requesting user approval for OrderBook contract"),await $(),le.success("Contract approved! Now creating sell order..."),console.log(" Contract approved successfully")),await N(t.id||"1",parseInt(v),h),le.success("Sell order created successfully!"),g(""),y(""),a(null),L()}catch(z){console.error("Error creating sell order:",z),(O=z==null?void 0:z.message)!=null&&O.includes("Not approved")||(E=z==null?void 0:z.reason)!=null&&E.includes("Not approved")?le.error("Please approve the contract first to create sell orders"):le.error("Failed to create sell order")}finally{s(!1)}},R=async O=>{s(!0);try{await P(O.orderId,parseInt(String(O.amount)),O),le.success(`Order filled! Bought ${O.amount} tokens at ${w(O.pricePerTokenU2U||0)} U2U`),L()}catch(E){console.error("Error filling sell order:",E),le.error("Failed to fill order")}finally{s(!1)}},j=async O=>{s(!0);try{await P(O.orderId,parseInt(String(O.amount)),O),le.success(`Order filled! Sold ${O.amount} tokens at ${w(O.pricePerTokenU2U||0)} U2U`),L()}catch(E){console.error("Error filling buy order:",E),le.error("Failed to fill order")}finally{s(!1)}},V=async O=>{s(!0);try{await I(O),le.success("Order cancelled successfully"),L()}catch(E){console.error("Error cancelling order:",E),le.error("Failed to cancel order")}finally{s(!1)}};return c.jsxs("div",{className:"h-screen flex flex-col bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50",children:[c.jsx("div",{className:"bg-white/80 backdrop-blur-lg border-b border-gray-200/50 px-4 py-2 shadow-sm flex-shrink-0",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("img",{src:t.image,alt:t.name,className:"w-8 h-8 rounded-full shadow-sm border border-white"}),c.jsxs("div",{children:[c.jsxs("div",{className:"font-semibold text-sm text-gray-900",children:[t.symbol,"/Flow"]}),c.jsx("div",{className:"text-xs text-gray-500",children:t.name})]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs(te,{onClick:()=>a("buy"),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1.5 text-xs h-7 shadow-sm",children:[c.jsx(ah,{className:"w-3 h-3 mr-1"}),"Create Order"]}),c.jsxs(te,{variant:"outline",onClick:()=>l(!0),className:"border-gray-300 text-gray-600 hover:bg-gray-50 px-3 py-1.5 text-xs h-7",children:[c.jsx(Io,{className:"w-3 h-3 mr-1"}),"View Orders"]}),n&&c.jsxs("div",{className:"text-xs text-gray-600 bg-gray-100 px-2 py-1 rounded",children:[n.slice(0,6),"...",n.slice(-4)]})]})]})}),c.jsx("div",{className:"flex-1 p-4 overflow-hidden",children:c.jsxs("div",{className:"grid grid-cols-12 gap-4 h-full",children:[c.jsx("div",{className:"col-span-9 h-full",children:c.jsx(me,{className:"bg-white/70 backdrop-blur-lg border-gray-200/50 shadow-xl h-full",children:c.jsx(ye,{className:"p-4 h-full overflow-hidden",children:c.jsx(r$e,{selectedToken:t,buyOrders:B,sellOrders:_})})})}),c.jsx("div",{className:"col-span-3 h-full",children:c.jsx(me,{className:"bg-white/70 backdrop-blur-lg border-gray-200/50 shadow-xl h-full",children:c.jsxs(ye,{className:"p-4 h-full flex flex-col",children:[c.jsx("div",{className:"mb-4",children:c.jsxs("div",{className:"flex bg-gray-100/80 backdrop-blur-sm p-1 rounded-lg w-full",children:[c.jsx("button",{onClick:()=>d("buy"),className:`flex-1 py-2 rounded-md font-semibold text-sm transition-all duration-300 ${u==="buy"?"bg-green-600 text-white shadow-lg":"text-gray-600 hover:text-green-600"}`,children:"Buy"}),c.jsx("button",{onClick:()=>d("sell"),className:`flex-1 py-2 rounded-md font-semibold text-sm transition-all duration-300 ${u==="sell"?"bg-red-600 text-white shadow-lg":"text-gray-600 hover:text-red-600"}`,children:"Sell"})]})}),c.jsx("div",{className:"flex-1 overflow-hidden",children:u==="buy"?c.jsx("div",{children:c.jsx("div",{className:"space-y-1 max-h-96 overflow-y-auto",children:_.length>0?_.map((O,E)=>c.jsxs("div",{className:"flex items-center justify-between p-2  rounded cursor-pointer transition-colors border border-black-200",onClick:()=>R(O),children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"text-xs font-medium text-black-700 truncate",children:[O.amount," tokens @ ",k(O.pricePerTokenU2U||0)," Flow"]}),c.jsxs("div",{className:"text-xs text-gray-500",children:["Total: ",w(parseFloat(String(O.amount))*parseFloat(String(O.pricePerTokenU2U||0)))," U2U"]})]}),c.jsx(te,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white text-xs h-6 px-2 ml-2",onClick:z=>{z.stopPropagation(),R(O)},disabled:r,children:"Buy"})]},E)):c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"text-gray-400 mb-2",children:c.jsx(Ese,{className:"w-8 h-8 mx-auto mb-2"})}),c.jsx("div",{className:"text-sm text-gray-500",children:"No buy orders available"}),c.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Be the first to create a buy order"})]})})}):c.jsx("div",{children:c.jsx("div",{className:"space-y-1 max-h-96 overflow-y-auto",children:B.length>0?B.map((O,E)=>c.jsxs("div",{className:"flex items-center justify-between p-2   rounded cursor-pointer transition-colors border border-black-200",onClick:()=>j(O),children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"text-xs font-medium text-black-700 truncate",children:[O.amount," tokens @ ",w(O.pricePerTokenU2U||0)," U2U"]}),c.jsxs("div",{className:"text-xs text-gray-500",children:["Total: ",w(parseFloat(String(O.amount))*parseFloat(String(O.pricePerTokenU2U||0)))," U2U"]})]}),c.jsx(te,{size:"sm",className:"bg-red-600 hover:bg-red-700 text-white text-xs h-6 px-2 ml-2",onClick:z=>{z.stopPropagation(),j(O)},disabled:r,children:"Sell"})]},E)):c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"text-gray-400 mb-2",children:c.jsx(Ui,{className:"w-8 h-8 mx-auto mb-2"})}),c.jsx("div",{className:"text-sm text-gray-500",children:"No sell orders available"}),c.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Be the first to create a sell order"})]})})})})]})})})]})}),c.jsx(qi,{open:i!==null,onOpenChange:()=>a(null),children:c.jsxs(yi,{className:"bg-white/90 backdrop-blur-lg border-gray-200/50 shadow-2xl max-w-md",children:[c.jsx(gi,{children:c.jsxs(vi,{className:"flex items-center space-x-2 text-base",children:[c.jsx(ose,{className:"w-4 h-4 text-blue-600"}),c.jsxs("span",{children:["Create ",i==="buy"?"Buy":"Sell"," Order"]})]})}),c.jsxs("div",{className:"space-y-4 pt-3",children:[c.jsxs("div",{className:"flex bg-gray-100/80 backdrop-blur-sm p-1 rounded-lg",children:[c.jsx("button",{onClick:()=>a("buy"),className:`flex-1 py-2 rounded-md font-semibold text-sm transition-all duration-300 ${i==="buy"?"bg-green-600 text-white shadow-lg":"text-gray-600 hover:text-green-600"}`,children:"Buy"}),c.jsx("button",{onClick:()=>a("sell"),className:`flex-1 py-2 rounded-md font-semibold text-sm transition-all duration-300 ${i==="sell"?"bg-red-600 text-white shadow-lg":"text-gray-600 hover:text-red-600"}`,children:"Sell"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount (Tokens)"}),c.jsx(an,{type:"number",placeholder:"Enter amount",value:i==="buy"?m:v,onChange:O=>{i==="buy"?b(O.target.value):g(O.target.value)},className:"text-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price per Token (Flow)"}),c.jsx(an,{type:"number",step:"0.000001",placeholder:"Enter price",value:i==="buy"?p:h,onChange:O=>{i==="buy"?f(O.target.value):y(O.target.value)},className:"text-sm"})]}),c.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Total Cost:"}),c.jsxs("span",{className:"text-sm font-bold text-gray-900",children:[i==="buy"?k(parseFloat(m||"0")*parseFloat(p||"0")):w(parseFloat(v||"0")*parseFloat(h||"0"))," Flow"]})]})}),i==="sell"&&c.jsxs("div",{className:`p-3 rounded-lg border ${U?"bg-green-50 border-green-200":"bg-yellow-50 border-yellow-200"}`,children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"flex items-center space-x-2",children:U?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),c.jsx("span",{className:"text-sm font-medium text-green-700",children:"Contract Approved"})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),c.jsx("span",{className:"text-sm font-medium text-yellow-700",children:"Approval Required"})]})}),!U&&c.jsx(te,{variant:"outline",size:"sm",onClick:$,disabled:r,className:"text-xs h-7 border-yellow-300 text-yellow-700 hover:bg-yellow-100",children:"Approve Now"})]}),c.jsx("p",{className:"text-xs text-gray-600 mt-1",children:U?"You can create sell orders without additional approvals":"Grant permission for the OrderBook contract to manage your tokens"})]})]}),c.jsxs("div",{className:"flex space-x`-2 pt-4",children:[c.jsx(te,{variant:"outline",onClick:()=>a(null),className:"flex-1 h-9 text-sm",children:"Cancel"}),c.jsxs(te,{onClick:i==="buy"?S:M,disabled:r||i==="buy"&&(!m||!p)||i==="sell"&&(!v||!h),className:`flex-1 h-9 text-sm ${i==="buy"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"} text-white font-semibold shadow-lg`,children:[c.jsx(td,{className:"w-3 h-3 mr-1"}),"Place Order"]})]})]})]})}),c.jsx(qi,{open:o,onOpenChange:l,children:c.jsxs(yi,{className:"bg-white/90 backdrop-blur-lg border-gray-200/50 shadow-2xl max-w-4xl max-h-[80vh] overflow-y-auto",children:[c.jsx(gi,{children:c.jsxs(vi,{className:"flex items-center space-x-2 text-base",children:[c.jsx(Io,{className:"w-4 h-4 text-blue-600"}),c.jsx("span",{children:"Your Orders"})]})}),c.jsx("div",{className:"space-y-4 pt-3",children:T&&T.length>0?c.jsx("div",{className:"space-y-3",children:T.map((O,E)=>c.jsxs("div",{className:"grid grid-cols-12 gap-3 p-3 bg-white border border-gray-200 rounded-lg hover:shadow-md transition-all duration-200",children:[c.jsx("div",{className:"col-span-2",children:c.jsx(Ue,{variant:"outline",className:O.isBuyOrder?"border-green-500 text-green-700":"border-red-500 text-red-700",children:O.isBuyOrder?"Buy":"Sell"})}),c.jsxs("div",{className:"col-span-2",children:[c.jsx("div",{className:"text-xs text-gray-500",children:"Amount"}),c.jsx("div",{className:"text-sm font-semibold",children:O.amount})]}),c.jsxs("div",{className:"col-span-2",children:[c.jsx("div",{className:"text-xs text-gray-500",children:"Price"}),c.jsxs("div",{className:"text-sm font-semibold",children:[w(O.pricePerTokenU2U||0)," U2U"]})]}),c.jsxs("div",{className:"col-span-2",children:[c.jsx("div",{className:"text-xs text-gray-500",children:"Status"}),c.jsx(Ue,{variant:"outline",className:"border-yellow-500 text-yellow-700 text-xs",children:"Active"})]}),c.jsx("div",{className:"col-span-4 flex justify-end",children:c.jsx(te,{onClick:()=>V(O.orderId),variant:"outline",size:"sm",className:"text-red-600 border-red-200 hover:bg-red-50 text-xs h-7",disabled:r,children:"Cancel"})})]},E))}):c.jsxs("div",{className:"text-center py-8",children:[c.jsx(Io,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),c.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No Orders Found"}),c.jsx("p",{className:"text-gray-500 mb-4",children:"You haven't placed any orders yet"}),c.jsx(te,{onClick:()=>{l(!1),a("buy")},className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Create Your First Order"})]})}),c.jsx("div",{className:"flex justify-end pt-4 border-t",children:c.jsx(te,{variant:"outline",onClick:()=>l(!1),className:"text-sm",children:"Close"})})]})})]})},Gg=()=>{const t=[{name:"Home",link:"/",icon:c.jsx(ZJ,{className:"h-4 w-4 text-neutral-500 dark:text-white"})},{name:"About",link:"/about",icon:c.jsx(JJ,{className:"h-4 w-4 text-neutral-500 dark:text-white"})},{name:"Tokenize",link:"/issuer",icon:c.jsx(XJ,{className:"h-4 w-4 text-neutral-500 dark:text-white"})}];return window.location.pathname!=="/"?null:c.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-black/50 backdrop-blur-sm",children:c.jsx("div",{className:"container mx-auto",children:c.jsx(qJ,{navItems:t})})})},i$e=()=>{const{address:t,connectWallet:e,provider:n,signer:r}=ir(),s=Ol(),[i,a]=A.useState(null),[o,l]=A.useState("0"),[u,d]=A.useState(!0);A.useEffect(()=>{var f,h;if((f=s.state)!=null&&f.selectedToken){const y=s.state.selectedToken,m={id:y.tokenId,name:y.name,symbol:((h=y.name)==null?void 0:h.substring(0,3).toUpperCase())||"TKN",description:y.description||"",image:y.image,totalSupply:0,userBalance:parseFloat(y.userBalance||"0"),isListed:!0,marketplacePrice:parseFloat(y.marketplacePrice||y.price||"0"),exists:!0,metadata:void 0,assetType:y.type||"real-estate",location:"Unknown",valuation:y.price||"0",attributes:[],lastPrice:parseFloat(y.marketplacePrice||y.price||"0"),priceChange24h:"0",volume24h:0};a(m),d(!1),le.success(`Selected ${m.name} for trading`)}},[s.state]);const p=f=>{a(f),d(!1),le.success(`Selected ${f.name} for trading`)};return A.useEffect(()=>{(async()=>{if(!(!n||!t))try{const y=await new r5(n,r).getU2UBalance(t);l(y)}catch(h){console.error("Error fetching U2U balance:",h)}})()},[n,r,t]),t?u||!i?c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx(Gg,{}),c.jsx("div",{className:"container mx-auto px-4 py-8",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"mb-8 text-center",children:[c.jsxs("h1",{className:"text-4xl font-bold text-gray-900 mb-4 flex items-center justify-center gap-3",children:[c.jsx(Jp,{className:"w-10 h-10 text-blue-600"}),"Open Assets Exchange"]}),c.jsx("p",{className:"text-xl text-gray-600",children:"Select an asset to begin professional RWA trading"})]}),c.jsx(t$e,{selectedTokenId:i==null?void 0:i.id,onTokenSelect:p})]})})]}):c.jsx(c.Fragment,{children:c.jsx(s$e,{selectedToken:i,onChangeAsset:()=>d(!0)})}):c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx(Gg,{}),c.jsx("div",{className:"flex items-center justify-center min-h-[80vh]",children:c.jsxs(me,{className:"border border-gray-200 shadow-sm p-8 text-center bg-white",children:[c.jsx(yt,{children:c.jsxs(gt,{className:"flex items-center gap-2 justify-center text-gray-900",children:[c.jsx(ho,{className:"w-6 h-6"}),"Connect Your Wallet"]})}),c.jsxs(ye,{className:"bg-white",children:[c.jsx("p",{className:"text-gray-600 mb-6",children:"Connect your wallet to access the premium trading terminal and start trading tokenized assets."}),c.jsx(te,{onClick:e,className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold",children:"Connect Wallet"})]})]})})]})};class yee{constructor(e,n){Ge(this,"provider");Ge(this,"signer");Ge(this,"marketplaceAddress");Ge(this,"tokenAddress");this.provider=e,this.signer=n,this.marketplaceAddress=us,this.tokenAddress=Na}async fetchAllTokens(e){try{if(console.log(" FIXED TOKEN FETCHING: Only showing tokens with user balance > 0..."),!e)return console.log("No user address provided, returning empty array"),[];const n=this.signer||this.provider,r=new nt(this.marketplaceAddress,xc,n),s=["function balanceOf(address account, uint256 id) view returns (uint256)","function uri(uint256 id) view returns (string)"],i=new nt(this.tokenAddress,s,this.provider),a=[];console.log(" Checking user balance for tokens 1-10...");for(let o=1;o<=10;o++)try{const l=await i.balanceOf(e,o),u=parseInt(l.toString());if(u>0){console.log(` Found owned Token ID ${o} with balance:`,u);let d=`Token #${o}`,p=`TOKEN${o}`;try{const m=await i.uri(o);if(m){const b=await this.fetchTokenMetadata(m);b&&(d=b.name||d,p=b.symbol||p)}}catch{console.log(`Could not fetch metadata for token ${o}`)}let f=0;try{const m=await i.tokenSupply(o);f=parseFloat(_e(m))}catch{console.log(`Could not fetch total supply for token ${o}`)}let h=!1,y=0;try{const[m,,,b]=await r.getAllListings();for(let v=0;v<m.length;v++)if(m[v].toString()===o.toString()){h=!0,y=parseFloat(_e(b[v]));break}}catch{console.log("Could not check marketplace listings")}a.push({id:o.toString(),name:d,symbol:p,totalSupply:f,userBalance:u,isListed:h,price:y,exists:!0})}}catch{}return console.log(` SUCCESS: Returning ${a.length} tokens with user balance > 0:`,a.map(o=>`ID ${o.id} (${o.userBalance} tokens)`)),a.length===0&&console.log(" WARNING: User has no tokens with balance > 0"),a}catch(n){return console.error("Error fetching user-owned tokens:",n),[]}}async getTokenBalance(e,n){try{console.log(` Fetching WALLET balance for Token ID ${e}, User: ${n}`);try{const r=["function balanceOf(address account, uint256 id) view returns (uint256)"],i=await new nt(this.tokenAddress,r,this.provider).balanceOf(n,e),a=parseInt(i.toString());return console.log(` Token ID ${e} WALLET balance: ${a} (for OrderBook)`),a}catch(r){return console.warn(` Wallet balance call failed for token ${e}:`,r.message),0}}catch(r){return console.error(" Error setting up marketplace contract:",r),0}}async getU2UBalance(e){try{const n=await this.provider.getBalance(e);return _e(n)}catch(n){return console.error("Error fetching U2U balance:",n),"0"}}async fetchTokenMetadata(e){try{const n=e.replace("ipfs://","https://gateway.pinata.cloud/ipfs/"),r=await fetch(n,{method:"GET",headers:{Accept:"application/json"}});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);return await r.json()}catch(n){return console.log("Could not fetch token metadata:",n),null}}async fetchMarketplaceListings(e){try{console.log(" FETCHING MARKETPLACE LISTINGS for OrderBook...");const n=this.signer||this.provider,r=new nt(this.marketplaceAddress,xc,n),s=["function balanceOf(address account, uint256 id) view returns (uint256)","function uri(uint256 id) view returns (string)"],i=new nt(this.tokenAddress,s,this.provider);console.log(" Getting all marketplace listings...");const a=await r.getAllListings(),[o,l,u,d]=a;console.log(`Found ${o.length} marketplace listings`);const p=[];for(let f=0;f<o.length;f++){const h=o[f].toString(),y=l[f],m=u[f].toString(),b=d[f];try{let v=0;if(e)try{console.log(` DEBUGGING: Checking wallet balance for token ${h}, user: ${e}`);const I=await i.balanceOf(e,h);v=parseInt(I.toString()),console.log(` DEBUGGING: User wallet balance for token ${h}: ${v} (for OrderBook trading)`)}catch(I){console.warn(` DEBUGGING: Could not fetch wallet balance for token ${h}:`,I.message),v=0}else console.log(" DEBUGGING: No userAddress provided, setting balance to 0");let g=`Property #${h}`,x=`PROP${h}`;console.log(`Using fallback name for token ${h}: ${g}`);const T={id:h,name:g,symbol:x,totalSupply:parseInt(m),userBalance:v,isListed:!0,price:b?parseFloat(_e(b)):0,exists:!0};p.push(T),console.log(" DEBUGGING: Added marketplace listing:",{tokenId:T.id,name:T.name,userBalance:T.userBalance,totalSupply:T.totalSupply})}catch(v){console.error(`Error processing token ${h}:`,v)}}return console.log(` MARKETPLACE LISTINGS: Found ${p.length} listed tokens for OrderBook`),p}catch(n){return console.error(" Error fetching marketplace listings:",n),[]}}async withdrawAsset(e,n){try{if(console.log(` Withdrawing ${n} of token ${e} from marketplace to wallet...`),!this.signer)throw new Error("Signer required for withdrawal");const s=await new nt(this.marketplaceAddress,xc,this.signer).withdrawAsset(e,n);console.log(" Withdrawal transaction sent:",s.hash);const i=await s.wait();return console.log(" Withdrawal confirmed in block:",i.blockNumber),!0}catch(r){throw console.error(" Error withdrawing asset:",r),r}}}const a$e=Object.freeze(Object.defineProperty({__proto__:null,TokenService:yee},Symbol.toStringTag,{value:"Module"}));function uu({className:t,...e}){return c.jsx("div",{className:vt("animate-pulse rounded-md bg-muted",t),...e})}const o$e=()=>{const{tokenId:t}=Woe(),e=Ll(),{address:n,provider:r}=ir(),[s,i]=A.useState(null),[a,o]=A.useState(!0),[l,u]=A.useState(null);return A.useEffect(()=>{(async()=>{var p;if(!t||!r){o(!1);return}try{o(!0),u(null);const f=r.getSigner(n||""),y=await new yee(r,f).fetchMarketplaceListings(n||"");console.log(" Trading Page: Fetched listings:",y);const m=y.find(I=>I.id===t);if(!m)throw new Error(`Asset with Token ID ${t} not found`);const v=(I=>{if(I){const C=I.find(N=>N.trait_type==="Asset Type");return(C==null?void 0:C.value)||"Unknown"}return"Unknown"})(m.attributes),g=m.image||"https://images.unsplash.com/photo-1559526324-4b87b5e36e44?w=400&h=300&fit=crop",x=m.description||`${m.name} - Tokenized ${v.toLowerCase()} asset with ${m.totalSupply} total supply. Available for secondary P2P trading on the Open Assets Trading Platform.`,T={tokenId:m.id,name:m.name,description:x,image:g,category:v,price:((p=m.price)==null?void 0:p.toString())||"1.0",availableSupply:Number(m.totalSupply)-Number(m.userBalance||0),attributes:m.attributes||[]};i(T),console.log(" Asset details loaded:",T)}catch(f){console.error(" Error fetching asset details:",f),u(f instanceof Error?f.message:"Failed to load asset details"),le.error("Failed to load asset details")}finally{o(!1)}})()},[t,r,n]),a?c.jsxs(c.Fragment,{children:[c.jsx(Gg,{}),c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-white",children:c.jsxs("div",{className:"container mx-auto px-4 pt-8",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[c.jsx(uu,{className:"w-10 h-10 rounded-lg"}),c.jsxs("div",{children:[c.jsx(uu,{className:"w-48 h-8 mb-2"}),c.jsx(uu,{className:"w-32 h-4"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[c.jsx("div",{className:"lg:col-span-1",children:c.jsx(me,{children:c.jsxs(ye,{className:"p-6",children:[c.jsx(uu,{className:"w-full h-64 mb-4 rounded-lg"}),c.jsx(uu,{className:"w-3/4 h-6 mb-2"}),c.jsx(uu,{className:"w-full h-4 mb-4"}),c.jsx(uu,{className:"w-1/2 h-4"})]})})}),c.jsx("div",{className:"lg:col-span-2",children:c.jsx(me,{children:c.jsx(ye,{className:"p-6",children:c.jsx(uu,{className:"w-full h-96"})})})})]})]})})]}):l||!s?c.jsxs(c.Fragment,{children:[c.jsx(Gg,{}),c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-white flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx("svg",{className:"w-8 h-8 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16c-.77.833.192 2.5 1.732 2.5z"})})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Asset Not Found"}),c.jsx("p",{className:"text-gray-600 mb-6",children:l||"The requested asset could not be found."}),c.jsxs(te,{onClick:()=>e("/orderbook"),className:"bg-blue-600 hover:bg-blue-700",children:[c.jsx(KC,{className:"w-4 h-4 mr-2"}),"Back to Open Assets Trading Platform"]})]})})]}):c.jsxs(c.Fragment,{children:[c.jsx(Gg,{}),c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-white",children:c.jsxs("div",{className:"container mx-auto px-4 pt-8",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[c.jsxs(te,{variant:"outline",size:"sm",onClick:()=>e("/orderbook"),className:"flex items-center gap-2",children:[c.jsx(KC,{className:"w-4 h-4"}),"Back to Assets"]}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Trading Terminal"}),c.jsx("p",{className:"text-gray-600",children:"Real-time trading with on-chain escrow"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[c.jsx("div",{className:"lg:col-span-1",children:c.jsxs(me,{className:"sticky top-4",children:[c.jsx(yt,{children:c.jsxs(gt,{className:"flex items-center gap-2",children:[c.jsx(jc,{className:"w-5 h-5"}),"Asset Details"]})}),c.jsxs(ye,{className:"space-y-6",children:[c.jsxs("div",{className:"relative overflow-hidden rounded-lg",children:[c.jsx("img",{src:s.image,alt:s.name,className:"w-full h-64 object-cover",onError:d=>{const p=d.target;p.src="https://images.unsplash.com/photo-1559526324-4b87b5e36e44?w=400&h=300&fit=crop"}}),c.jsx("div",{className:"absolute top-4 left-4",children:c.jsx(Ue,{className:"bg-white/90 text-gray-700",children:s.category})}),c.jsx("div",{className:"absolute top-4 right-4",children:c.jsxs(Ue,{variant:"secondary",className:"bg-blue-500/90 text-white",children:["#",s.tokenId]})})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:s.name}),c.jsx("p",{className:"text-gray-600 text-sm leading-relaxed mb-4",children:s.description})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Price per Token"}),c.jsxs("p",{className:"text-lg font-bold text-green-600",children:[parseFloat(s.price).toFixed(4)," U2U"]})]}),c.jsx(Rs,{className:"w-8 h-8 text-green-500"})]}),c.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Available Supply"}),c.jsxs("p",{className:"text-lg font-bold text-blue-600",children:[s.availableSupply.toLocaleString()," tokens"]})]}),c.jsx(Jp,{className:"w-8 h-8 text-blue-500"})]})]}),s.attributes&&s.attributes.length>0&&c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Attributes"}),c.jsx("div",{className:"space-y-2",children:s.attributes.map((d,p)=>c.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[c.jsx("span",{className:"text-sm text-gray-600",children:d.trait_type}),c.jsx("span",{className:"text-sm font-medium text-gray-900",children:d.value})]},p))})]}),c.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gray-50 rounded-lg",children:[c.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),c.jsx("span",{className:"text-sm text-gray-600",children:"Live Trading Active"})]})]})]})}),c.jsx("div",{className:"lg:col-span-2",children:c.jsxs(me,{children:[c.jsxs(yt,{children:[c.jsxs(gt,{className:"flex items-center gap-2",children:[c.jsx(Rs,{className:"w-5 h-5"}),"Trading Terminal - ",s.name]}),c.jsxs("p",{className:"text-sm text-gray-600",children:["Real-time P2P trading with secure escrow  Token ID: ",s.tokenId]})]}),c.jsx(ye,{children:n?c.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Trading Terminal"}),c.jsxs("p",{className:"text-gray-600 mb-4",children:["Trading for ",s.name," (Token ID: ",s.tokenId,")"]}),c.jsx("p",{className:"text-sm text-yellow-600",children:"Trading terminal integration in progress. Please use the orderbook page for now."})]}):c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Connect Wallet to Trade"}),c.jsx("p",{className:"text-gray-600",children:"Please connect your wallet to access the trading terminal."})]})})]})})]})]})})]})},Rw="3.0.0",l$e=()=>`@wagmi/core@${Rw}`;var gee=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},hT,vee;let ij=class s5 extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return l$e()}constructor(e,n={}){var i;super(),hT.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=n.cause instanceof s5?n.cause.details:(i=n.cause)!=null&&i.message?n.cause.message:n.details,s=n.cause instanceof s5&&n.cause.docsPath||n.docsPath;this.message=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${this.docsBaseUrl}${s}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=e}walk(e){return gee(this,hT,"m",vee).call(this,this,e)}};hT=new WeakSet,vee=function t(e,n){return n!=null&&n(e)?e:e.cause?gee(this,hT,"m",t).call(this,e.cause,n):e};class i5 extends ij{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}function mT(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;let n,r;if(Array.isArray(t)&&Array.isArray(e)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!mT(t[r],e[r]))return!1;return!0}if(typeof t.valueOf=="function"&&t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(typeof t.toString=="function"&&t.toString!==Object.prototype.toString)return t.toString()===e.toString();const s=Object.keys(t);if(n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.hasOwn(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(i&&!mT(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function bee(t){const e=t.state.current,n=t.state.connections.get(e),r=n==null?void 0:n.accounts,s=r==null?void 0:r[0],i=t.chains.find(o=>o.id===(n==null?void 0:n.chainId)),a=t.state.status;switch(a){case"connected":return{address:s,addresses:r,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:a};case"reconnecting":return{address:s,addresses:r,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!!s,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:a};case"connecting":return{address:s,addresses:r,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:a};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:a}}}let Hk=!1;async function c$e(t,e={}){var u,d;if(Hk)return[];Hk=!0,t.setState(p=>({...p,status:p.current?"reconnecting":"connecting"}));const n=[];if((u=e.connectors)!=null&&u.length)for(const p of e.connectors){let f;typeof p=="function"?f=t._internal.connectors.setup(p):f=p,n.push(f)}else n.push(...t.connectors);let r;try{r=await((d=t.storage)==null?void 0:d.getItem("recentConnectorId"))}catch{}const s={};for(const[,p]of t.state.connections)s[p.connector.id]=1;r&&(s[r]=0);const i=Object.keys(s).length>0?[...n].sort((p,f)=>(s[p.id]??10)-(s[f.id]??10)):n;let a=!1;const o=[],l=[];for(const p of i){const f=await p.getProvider().catch(()=>{});if(!f||l.some(m=>m===f)||!await p.isAuthorized())continue;const y=await p.connect({isReconnecting:!0}).catch(()=>null);y&&(p.emitter.off("connect",t._internal.events.connect),p.emitter.on("change",t._internal.events.change),p.emitter.on("disconnect",t._internal.events.disconnect),t.setState(m=>{const b=new Map(a?m.connections:new Map).set(p.uid,{accounts:y.accounts,chainId:y.chainId,connector:p});return{...m,current:a?m.current:p.uid,connections:b}}),o.push({accounts:y.accounts,chainId:y.chainId,connector:p}),l.push(f),a=!0)}return(t.state.status==="reconnecting"||t.state.status==="connecting")&&(a?t.setState(p=>({...p,status:"connected"})):t.setState(p=>({...p,connections:new Map,current:null,status:"disconnected"}))),Hk=!1,o}class Hf extends ij{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}function u$e(t,e){const{onChange:n}=e;return t.subscribe(()=>bee(t),n,{equalityFn(r,s){const{connector:i,...a}=r,{connector:o,...l}=s;return mT(a,l)&&(i==null?void 0:i.id)===(o==null?void 0:o.id)&&(i==null?void 0:i.uid)===(o==null?void 0:o.uid)}})}aj.type="injected";function aj(t={}){const{shimDisconnect:e=!0,unstable_shimAsyncInject:n}=t;function r(){const l=t.target;if(typeof l=="function"){const u=l();if(u)return u}return typeof l=="object"?l:typeof l=="string"?{...d$e[l]??{id:l,name:`${l[0].toUpperCase()}${l.slice(1)}`,provider:`is${l[0].toUpperCase()}${l.slice(1)}`}}:{id:"injected",name:"Injected",provider(u){return u==null?void 0:u.ethereum}}}let s,i,a,o;return l=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},type:aj.type,async setup(){const u=await this.getProvider();u!=null&&u.on&&t.target&&(a||(a=this.onConnect.bind(this),u.on("connect",a)),s||(s=this.onAccountsChanged.bind(this),u.on("accountsChanged",s)))},async connect({chainId:u,isReconnecting:d,withCapabilities:p}={}){var y,m,b,v,g,x;const f=await this.getProvider();if(!f)throw new Hf;let h=[];if(d)h=await this.getAccounts().catch(()=>[]);else if(e)try{h=(v=(b=(m=(y=(await f.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0])==null?void 0:y.caveats)==null?void 0:m[0])==null?void 0:b.value)==null?void 0:v.map(I=>yp(I)),h.length>0&&(h=await this.getAccounts())}catch(T){const I=T;if(I.code===Vs.code)throw new Vs(I);if(I.code===id.code)throw I}try{!(h!=null&&h.length)&&!d&&(h=(await f.request({method:"eth_requestAccounts"})).map(C=>yp(C))),a&&(f.removeListener("connect",a),a=void 0),s||(s=this.onAccountsChanged.bind(this),f.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),f.on("chainChanged",i)),o||(o=this.onDisconnect.bind(this),f.on("disconnect",o));let T=await this.getChainId();if(u&&T!==u){const I=await this.switchChain({chainId:u}).catch(C=>{if(C.code===Vs.code)throw C;return{id:T}});T=(I==null?void 0:I.id)??T}return e&&await((g=l.storage)==null?void 0:g.removeItem(`${this.id}.disconnected`)),t.target||await((x=l.storage)==null?void 0:x.setItem("injected.connected",!0)),{accounts:p?h.map(I=>({address:I,capabilities:{}})):h,chainId:T}}catch(T){const I=T;throw I.code===Vs.code?new Vs(I):I.code===id.code?new id(I):I}},async disconnect(){var d,p;const u=await this.getProvider();if(!u)throw new Hf;i&&(u.removeListener("chainChanged",i),i=void 0),o&&(u.removeListener("disconnect",o),o=void 0),a||(a=this.onConnect.bind(this),u.on("connect",a));try{await wq(()=>u.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}e&&await((d=l.storage)==null?void 0:d.setItem(`${this.id}.disconnected`,!0)),t.target||await((p=l.storage)==null?void 0:p.removeItem("injected.connected"))},async getAccounts(){const u=await this.getProvider();if(!u)throw new Hf;return(await u.request({method:"eth_accounts"})).map(p=>yp(p))},async getChainId(){const u=await this.getProvider();if(!u)throw new Hf;const d=await u.request({method:"eth_chainId"});return Number(d)},async getProvider(){if(typeof window>"u")return;let u;const d=r();return typeof d.provider=="function"?u=d.provider(window):typeof d.provider=="string"?u=Pw(window,d.provider):u=d.provider,u&&!u.removeListener&&("off"in u&&typeof u.off=="function"?u.removeListener=u.off:u.removeListener=()=>{}),u},async isAuthorized(){var u,d;try{if(e&&await((u=l.storage)==null?void 0:u.getItem(`${this.id}.disconnected`))||!t.target&&!await((d=l.storage)==null?void 0:d.getItem("injected.connected")))return!1;if(!await this.getProvider()){if(n!==void 0&&n!==!1){const y=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",y),!!await this.getProvider()),m=typeof n=="number"?n:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(v=>window.addEventListener("ethereum#initialized",()=>v(y()),{once:!0}))]:[],new Promise(v=>setTimeout(()=>v(y()),m))]))return!0}throw new Hf}return!!(await ov(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:u,chainId:d}){var y,m,b,v;const p=await this.getProvider();if(!p)throw new Hf;const f=l.chains.find(g=>g.id===d);if(!f)throw new df(new i5);const h=new Promise(g=>{const x=T=>{"chainId"in T&&T.chainId===d&&(l.emitter.off("change",x),g())};l.emitter.on("change",x)});try{return await Promise.all([p.request({method:"wallet_switchEthereumChain",params:[{chainId:rt(d)}]}).then(async()=>{await this.getChainId()===d&&l.emitter.emit("change",{chainId:d})}),h]),f}catch(g){const x=g;if(x.code===4902||((m=(y=x==null?void 0:x.data)==null?void 0:y.originalError)==null?void 0:m.code)===4902)try{const{default:T,...I}=f.blockExplorers??{};let C;u!=null&&u.blockExplorerUrls?C=u.blockExplorerUrls:T&&(C=[T.url,...Object.values(I).map(L=>L.url)]);let N;(b=u==null?void 0:u.rpcUrls)!=null&&b.length?N=u.rpcUrls:N=[((v=f.rpcUrls.default)==null?void 0:v.http[0])??""];const P={blockExplorerUrls:C,chainId:rt(d),chainName:(u==null?void 0:u.chainName)??f.name,iconUrls:u==null?void 0:u.iconUrls,nativeCurrency:(u==null?void 0:u.nativeCurrency)??f.nativeCurrency,rpcUrls:N};return await Promise.all([p.request({method:"wallet_addEthereumChain",params:[P]}).then(async()=>{if(await this.getChainId()===d)l.emitter.emit("change",{chainId:d});else throw new Vs(new Error("User rejected switch after adding network."))}),h]),f}catch(T){throw new Vs(T)}throw x.code===Vs.code?new Vs(x):new df(x)}},async onAccountsChanged(u){var d;if(u.length===0)this.onDisconnect();else if(l.emitter.listenerCount("connect")){const p=(await this.getChainId()).toString();this.onConnect({chainId:p}),e&&await((d=l.storage)==null?void 0:d.removeItem(`${this.id}.disconnected`))}else l.emitter.emit("change",{accounts:u.map(p=>yp(p))})},onChainChanged(u){const d=Number(u);l.emitter.emit("change",{chainId:d})},async onConnect(u){const d=await this.getAccounts();if(d.length===0)return;const p=Number(u.chainId);l.emitter.emit("connect",{accounts:d,chainId:p});const f=await this.getProvider();f&&(a&&(f.removeListener("connect",a),a=void 0),s||(s=this.onAccountsChanged.bind(this),f.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),f.on("chainChanged",i)),o||(o=this.onDisconnect.bind(this),f.on("disconnect",o)))},async onDisconnect(u){const d=await this.getProvider();u&&u.code===1013&&d&&(await this.getAccounts()).length||(l.emitter.emit("disconnect"),d&&(i&&(d.removeListener("chainChanged",i),i=void 0),o&&(d.removeListener("disconnect",o),o=void 0),a||(a=this.onConnect.bind(this),d.on("connect",a))))}})}const d$e={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(t){return t!=null&&t.coinbaseWalletExtension?t.coinbaseWalletExtension:Pw(t,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(t){return Pw(t,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;const n=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of n)if(e[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(t){var e,n;return(e=t==null?void 0:t.phantom)!=null&&e.ethereum?(n=t.phantom)==null?void 0:n.ethereum:Pw(t,"isPhantom")}}};function Pw(t,e){function n(s){return typeof e=="function"?e(s):typeof e=="string"?s[e]:!0}const r=t.ethereum;if(r!=null&&r.providers)return r.providers.find(s=>n(s));if(r&&n(r))return r}function p$e(t){if(typeof window>"u")return;const e=n=>t(n.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function f$e(){const t=new Set;let e=[];const n=()=>p$e(s=>{e.some(({info:i})=>i.uuid===s.info.uuid)||(e=[...e,s],t.forEach(i=>i(e,{added:[s]})))});let r=n();return{_listeners(){return t},clear(){t.forEach(s=>s([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),r==null||r()},findProvider({rdns:s}){return e.find(i=>i.info.rdns===s)},getProviders(){return e},reset(){this.clear(),r==null||r(),r=n()},subscribe(s,{emitImmediately:i}={}){return t.add(s),i&&s(e,{added:e}),()=>t.delete(s)}}}const h$e=t=>(e,n,r)=>{const s=r.subscribe;return r.subscribe=(a,o,l)=>{let u=a;if(o){const d=(l==null?void 0:l.equalityFn)||Object.is;let p=a(r.getState());u=f=>{const h=a(f);if(!d(p,h)){const y=p;o(p=h,y)}},l!=null&&l.fireImmediately&&o(p,p)}return s(u)},t(e,n,r)},m$e=h$e;function y$e(t,e){let n;try{n=t()}catch{return}return{getItem:s=>{var i;const a=l=>l===null?null:JSON.parse(l,void 0),o=(i=n.getItem(s))!=null?i:null;return o instanceof Promise?o.then(a):a(o)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const a5=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return a5(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return a5(r)(n)}}}},g$e=(t,e)=>(n,r,s)=>{let i={storage:y$e(()=>localStorage),partialize:m=>m,version:0,merge:(m,b)=>({...b,...m}),...e},a=!1;const o=new Set,l=new Set;let u=i.storage;if(!u)return t((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...m)},r,s);const d=()=>{const m=i.partialize({...r()});return u.setItem(i.name,{state:m,version:i.version})},p=s.setState;s.setState=(m,b)=>{p(m,b),d()};const f=t((...m)=>{n(...m),d()},r,s);s.getInitialState=()=>f;let h;const y=()=>{var m,b;if(!u)return;a=!1,o.forEach(g=>{var x;return g((x=r())!=null?x:f)});const v=((b=i.onRehydrateStorage)==null?void 0:b.call(i,(m=r())!=null?m:f))||void 0;return a5(u.getItem.bind(u))(i.name).then(g=>{if(g)if(typeof g.version=="number"&&g.version!==i.version){if(i.migrate)return[!0,i.migrate(g.state,g.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,g.state];return[!1,void 0]}).then(g=>{var x;const[T,I]=g;if(h=i.merge(I,(x=r())!=null?x:f),n(h,!0),T)return d()}).then(()=>{v==null||v(h,void 0),h=r(),a=!0,l.forEach(g=>g(h))}).catch(g=>{v==null||v(void 0,g)})};return s.persist={setOptions:m=>{i={...i,...m},m.storage&&(u=m.storage)},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>y(),hasHydrated:()=>a,onHydrate:m=>(o.add(m),()=>{o.delete(m)}),onFinishHydration:m=>(l.add(m),()=>{l.delete(m)})},i.skipHydration||y(),h||f},v$e=g$e,kF=t=>{let e;const n=new Set,r=(u,d)=>{const p=typeof u=="function"?u(e):u;if(!Object.is(p,e)){const f=e;e=d??(typeof p!="object"||p===null)?p:Object.assign({},e,p),n.forEach(h=>h(e,f))}},s=()=>e,o={setState:r,getState:s,getInitialState:()=>l,subscribe:u=>(n.add(u),()=>n.delete(u))},l=e=t(r,s,o);return o},Wk=t=>t?kF(t):kF;var xee={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function i(l,u,d,p,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var h=new s(d,p||l,f),y=n?n+u:u;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],h]:l._events[y].push(h):(l._events[y]=h,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,p;if(this._eventsCount===0)return u;for(p in d=this._events)e.call(d,p)&&u.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=n?n+u:u,p=this._events[d];if(!p)return[];if(p.fn)return[p.fn];for(var f=0,h=p.length,y=new Array(h);f<h;f++)y[f]=p[f].fn;return y},o.prototype.listenerCount=function(u){var d=n?n+u:u,p=this._events[d];return p?p.fn?1:p.length:0},o.prototype.emit=function(u,d,p,f,h,y){var m=n?n+u:u;if(!this._events[m])return!1;var b=this._events[m],v=arguments.length,g,x;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),v){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,p),!0;case 4:return b.fn.call(b.context,d,p,f),!0;case 5:return b.fn.call(b.context,d,p,f,h),!0;case 6:return b.fn.call(b.context,d,p,f,h,y),!0}for(x=1,g=new Array(v-1);x<v;x++)g[x-1]=arguments[x];b.fn.apply(b.context,g)}else{var T=b.length,I;for(x=0;x<T;x++)switch(b[x].once&&this.removeListener(u,b[x].fn,void 0,!0),v){case 1:b[x].fn.call(b[x].context);break;case 2:b[x].fn.call(b[x].context,d);break;case 3:b[x].fn.call(b[x].context,d,p);break;case 4:b[x].fn.call(b[x].context,d,p,f);break;default:if(!g)for(I=1,g=new Array(v-1);I<v;I++)g[I-1]=arguments[I];b[x].fn.apply(b[x].context,g)}}return!0},o.prototype.on=function(u,d,p){return i(this,u,d,p,!1)},o.prototype.once=function(u,d,p){return i(this,u,d,p,!0)},o.prototype.removeListener=function(u,d,p,f){var h=n?n+u:u;if(!this._events[h])return this;if(!d)return a(this,h),this;var y=this._events[h];if(y.fn)y.fn===d&&(!f||y.once)&&(!p||y.context===p)&&a(this,h);else{for(var m=0,b=[],v=y.length;m<v;m++)(y[m].fn!==d||f&&!y[m].once||p&&y[m].context!==p)&&b.push(y[m]);b.length?this._events[h]=b.length===1?b[0]:b:a(this,h)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&a(this,d)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(xee);var b$e=xee.exports;const x$e=wf(b$e);class w$e{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new x$e})}on(e,n){this._emitter.on(e,n)}once(e,n){this._emitter.once(e,n)}off(e,n){this._emitter.off(e,n)}emit(e,...n){const r=n[0];this._emitter.emit(e,{uid:this.uid,...r})}listenerCount(e){return this._emitter.listenerCount(e)}}function T$e(t){return new w$e(t)}function A$e(t,e){return JSON.parse(t,(n,r)=>{let s=r;return(s==null?void 0:s.__type)==="bigint"&&(s=BigInt(s.value)),(s==null?void 0:s.__type)==="Map"&&(s=new Map(s.value)),(e==null?void 0:e(n,s))??s})}function CF(t,e){return t.slice(0,e).join(".")||"."}function NF(t,e){const{length:n}=t;for(let r=0;r<n;++r)if(t[r]===e)return r+1;return 0}function I$e(t,e){const n=typeof t=="function",r=typeof e=="function",s=[],i=[];return function(o,l){if(typeof l=="object")if(s.length){const u=NF(s,this);u===0?s[s.length]=this:(s.splice(u),i.splice(u)),i[i.length]=o;const d=NF(s,l);if(d!==0)return r?e.call(this,o,l,CF(i,d)):`[ref=${CF(i,d)}]`}else s[0]=l,i[0]=o;return n?t.call(this,o,l):l}}function k$e(t,e,n,r){return JSON.stringify(t,I$e((s,i)=>{let a=i;return typeof a=="bigint"&&(a={__type:"bigint",value:i.toString()}),a instanceof Map&&(a={__type:"Map",value:Array.from(i.entries())}),(e==null?void 0:e(s,a))??a},r),n??void 0)}function C$e(t){const{deserialize:e=A$e,key:n="wagmi",serialize:r=k$e,storage:s=wee}=t;function i(a){return a instanceof Promise?a.then(o=>o).catch(()=>null):a}return{...s,key:n,async getItem(a,o){const l=s.getItem(`${n}.${a}`),u=await i(l);return u?e(u)??null:o??null},async setItem(a,o){const l=`${n}.${a}`;o===null?await i(s.removeItem(l)):await i(s.setItem(l,r(o)))},async removeItem(a){await i(s.removeItem(`${n}.${a}`))}}}const wee={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function N$e(){const t=typeof window<"u"&&window.localStorage?window.localStorage:wee;return{getItem(e){return t.getItem(e)},removeItem(e){t.removeItem(e)},setItem(e,n){try{t.setItem(e,n)}catch{}}}}const o5=256;let Px=o5,Mx;function E$e(t=11){if(!Mx||Px+t>o5*2){Mx="",Px=0;for(let e=0;e<o5;e++)Mx+=(256+Math.random()*256|0).toString(16).substring(1)}return Mx.substring(Px,Px+++t)}function S$e(t){const{multiInjectedProviderDiscovery:e=!0,storage:n=C$e({storage:N$e()}),syncConnectedChain:r=!0,ssr:s=!1,...i}=t,a=typeof window<"u"&&e?f$e():void 0,o=Wk(()=>i.chains),l=Wk(()=>{const I=[],C=new Set;for(const N of i.connectors??[]){const P=u(N);if(I.push(P),!s&&P.rdns){const L=typeof P.rdns=="string"?[P.rdns]:P.rdns;for(const U of L)C.add(U)}}if(!s&&a){const N=a.getProviders();for(const P of N)C.has(P.info.rdns)||I.push(u(d(P)))}return I});function u(I){var P;const C=T$e(E$e()),N={...I({emitter:C,chains:o.getState(),storage:n,transports:i.transports}),emitter:C,uid:C.uid};return C.on("connect",x),(P=N.setup)==null||P.call(N),N}function d(I){const{info:C}=I,N=I.provider;return aj({target:{...C,id:C.rdns,provider:N}})}const p=new Map;function f(I={}){const C=I.chainId??b.getState().chainId,N=o.getState().find(L=>L.id===C);if(I.chainId&&!N)throw new i5;{const L=p.get(b.getState().chainId);if(L&&!N)return L;if(!N)throw new i5}{const L=p.get(C);if(L)return L}let P;if(i.client)P=i.client({chain:N});else{const L=N.id,U=o.getState().map(_=>_.id),$={},B=Object.entries(i);for(const[_,w]of B)if(!(_==="chains"||_==="client"||_==="connectors"||_==="transports"))if(typeof w=="object")if(L in w)$[_]=w[L];else{if(U.some(S=>S in w))continue;$[_]=w}else $[_]=w;P=FP({...$,chain:N,batch:$.batch??{multicall:!0},transport:_=>i.transports[L]({..._,connectors:l})})}return p.set(C,P),P}function h(){return{chainId:o.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let y;const m="0.0.0-canary-";Rw.startsWith(m)?y=Number.parseInt(Rw.replace(m,""),10):y=Number.parseInt(Rw.split(".")[0]??"0",10);const b=Wk(m$e(n?v$e(h,{migrate(I,C){if(C===y)return I;const N=h(),P=v(I,N.chainId);return{...N,chainId:P}},name:"store",partialize(I){return{connections:{__type:"Map",value:Array.from(I.connections.entries()).map(([C,N])=>{const{id:P,name:L,type:U,uid:$}=N.connector;return[C,{...N,connector:{id:P,name:L,type:U,uid:$}}]})},chainId:I.chainId,current:I.current}},merge(I,C){typeof I=="object"&&I&&"status"in I&&delete I.status;const N=v(I,C.chainId);return{...C,...I,chainId:N}},skipHydration:s,storage:n,version:y}):h));b.setState(h());function v(I,C){return I&&typeof I=="object"&&"chainId"in I&&typeof I.chainId=="number"&&o.getState().some(N=>N.id===I.chainId)?I.chainId:C}r&&b.subscribe(({connections:I,current:C})=>{var N;return C?(N=I.get(C))==null?void 0:N.chainId:void 0},I=>{if(o.getState().some(N=>N.id===I))return b.setState(N=>({...N,chainId:I??N.chainId}))}),a==null||a.subscribe(I=>{const C=new Set,N=new Set;for(const L of l.getState())if(C.add(L.id),L.rdns){const U=typeof L.rdns=="string"?[L.rdns]:L.rdns;for(const $ of U)N.add($)}const P=[];for(const L of I){if(N.has(L.info.rdns))continue;const U=u(d(L));C.has(U.id)||P.push(U)}n&&!b.persist.hasHydrated()||l.setState(L=>[...L,...P],!0)});function g(I){b.setState(C=>{const N=C.connections.get(I.uid);return N?{...C,connections:new Map(C.connections).set(I.uid,{accounts:I.accounts??N.accounts,chainId:I.chainId??N.chainId,connector:N.connector})}:C})}function x(I){b.getState().status==="connecting"||b.getState().status==="reconnecting"||b.setState(C=>{const N=l.getState().find(P=>P.uid===I.uid);return N?(N.emitter.listenerCount("connect")&&N.emitter.off("connect",g),N.emitter.listenerCount("change")||N.emitter.on("change",g),N.emitter.listenerCount("disconnect")||N.emitter.on("disconnect",T),{...C,connections:new Map(C.connections).set(I.uid,{accounts:I.accounts,chainId:I.chainId,connector:N}),current:I.uid,status:"connected"}):C})}function T(I){b.setState(C=>{const N=C.connections.get(I.uid);if(N){const L=N.connector;L.emitter.listenerCount("change")&&N.connector.emitter.off("change",g),L.emitter.listenerCount("disconnect")&&N.connector.emitter.off("disconnect",T),L.emitter.listenerCount("connect")||N.connector.emitter.on("connect",x)}if(C.connections.delete(I.uid),C.connections.size===0)return{...C,connections:new Map,current:null,status:"disconnected"};const P=C.connections.values().next().value;return{...C,connections:new Map(C.connections),current:P.connector.uid}})}return{get chains(){return o.getState()},get connectors(){return l.getState()},storage:n,getClient:f,get state(){return b.getState()},setState(I){let C;typeof I=="function"?C=I(b.getState()):C=I;const N=h();typeof C!="object"&&(C=N),Object.keys(N).some(L=>!(L in C))&&(C=N),b.setState(C,!0)},subscribe(I,C,N){return b.subscribe(I,C,N?{...N,fireImmediately:N.emitImmediately}:void 0)},_internal:{mipd:a,async revalidate(){const I=b.getState(),C=I.connections;let N=I.current;for(const[,P]of C){const L=P.connector;L.isAuthorized&&await L.isAuthorized()||(C.delete(L.uid),N===L.uid&&(N=null))}b.setState(P=>({...P,connections:C,current:N}))},store:b,ssr:!!s,syncConnectedChain:r,transports:i.transports,chains:{setState(I){const C=typeof I=="function"?I(o.getState()):I;if(C.length!==0)return o.setState(C,!0)},subscribe(I){return o.subscribe(I)}},connectors:{providerDetailToConnector:d,setup:u,setState(I){return l.setState(typeof I=="function"?I(l.getState()):I,!0)},subscribe(I){return l.subscribe(I)}},events:{change:g,connect:x,disconnect:T}}}}function R$e(t,e){const{initialState:n,reconnectOnMount:r}=e;return n&&!t._internal.store.persist.hasHydrated()&&t.setState({...n,chainId:t.chains.some(s=>s.id===n.chainId)?n.chainId:t.chains[0].id,connections:r?n.connections:new Map,status:r?"reconnecting":"disconnected"}),{async onMount(){t._internal.ssr&&(await t._internal.store.persist.rehydrate(),t._internal.mipd&&t._internal.connectors.setState(s=>{var l;const i=new Set;for(const u of s??[])if(u.rdns){const d=Array.isArray(u.rdns)?u.rdns:[u.rdns];for(const p of d)i.add(p)}const a=[],o=((l=t._internal.mipd)==null?void 0:l.getProviders())??[];for(const u of o){if(i.has(u.info.rdns))continue;const d=t._internal.connectors.providerDetailToConnector(u),p=t._internal.connectors.setup(d);a.push(p)}return[...s,...a]})),r?c$e(t):t.storage&&t.setState(s=>({...s,connections:new Map}))}}}function P$e(t){const{children:e,config:n,initialState:r,reconnectOnMount:s=!0}=t,{onMount:i}=R$e(n,{initialState:r,reconnectOnMount:s});n._internal.ssr||i();const a=A.useRef(!0);return A.useEffect(()=>{if(a.current&&n._internal.ssr)return i(),()=>{a.current=!1}},[]),e}const Tee=A.createContext(void 0);function M$e(t){const{children:e,config:n}=t,r={value:n};return A.createElement(P$e,t,A.createElement(Tee.Provider,r,e))}const j$e="3.1.0",_$e=()=>`wagmi@${j$e}`;class D$e extends ij{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return _$e()}}class O$e extends D$e{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function L$e(t={}){const e=t.config??A.useContext(Tee);if(!e)throw new O$e;return e}var Aee={exports:{}},Iee={},kee={exports:{}},Cee={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $m=A;function $$e(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var F$e=typeof Object.is=="function"?Object.is:$$e,B$e=$m.useState,U$e=$m.useEffect,z$e=$m.useLayoutEffect,V$e=$m.useDebugValue;function H$e(t,e){var n=e(),r=B$e({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return z$e(function(){s.value=n,s.getSnapshot=e,Gk(s)&&i({inst:s})},[t,n,e]),U$e(function(){return Gk(s)&&i({inst:s}),t(function(){Gk(s)&&i({inst:s})})},[t]),V$e(n),n}function Gk(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!F$e(t,n)}catch{return!0}}function W$e(t,e){return e()}var G$e=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?W$e:H$e;Cee.useSyncExternalStore=$m.useSyncExternalStore!==void 0?$m.useSyncExternalStore:G$e;kee.exports=Cee;var K$e=kee.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fA=A,Y$e=K$e;function q$e(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Z$e=typeof Object.is=="function"?Object.is:q$e,X$e=Y$e.useSyncExternalStore,J$e=fA.useRef,Q$e=fA.useEffect,eFe=fA.useMemo,tFe=fA.useDebugValue;Iee.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=J$e(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=eFe(function(){function l(h){if(!u){if(u=!0,d=h,h=r(h),s!==void 0&&a.hasValue){var y=a.value;if(s(y,h))return p=y}return p=h}if(y=p,Z$e(d,h))return y;var m=r(h);return s!==void 0&&s(y,m)?(d=h,y):(d=h,p=m)}var u=!1,d,p,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,s]);var o=X$e(t,i[0],i[1]);return Q$e(function(){a.hasValue=!0,a.value=o},[o]),tFe(o),o};Aee.exports=Iee;var nFe=Aee.exports;const Kk=t=>typeof t=="object"&&!Array.isArray(t);function rFe(t,e,n=e,r=mT){const s=A.useRef([]),i=nFe.useSyncExternalStoreWithSelector(t,e,n,a=>a,(a,o)=>{if(Kk(a)&&Kk(o)&&s.current.length){for(const l of s.current)if(!r(a[l],o[l]))return!1;return!0}return r(a,o)});return A.useMemo(()=>{if(Kk(i)){const a={...i};let o={};for(const[l,u]of Object.entries(a))o={...o,[l]:{configurable:!1,enumerable:!0,get:()=>(s.current.includes(l)||s.current.push(l),u)}};return Object.defineProperties(a,o),a}return i},[i])}function Nee(t={}){const e=L$e(t);return rFe(n=>u$e(e,{onChange:n}),()=>bee(e))}const oj=1315,Eee=`0x${oj.toString(16)}`,EF={chainId:Eee,chainName:"Story Aeneid Testnet",nativeCurrency:{name:"IP",symbol:"IP",decimals:18},rpcUrls:["https://aeneid.storyrpc.io"],blockExplorerUrls:["https://aeneid.storyscan.xyz"]};gy({id:oj,name:"Story Aeneid Testnet",network:"aeneid",nativeCurrency:{name:"IP",symbol:"IP",decimals:18},rpcUrls:{default:{http:["https://aeneid.storyrpc.io"]},public:{http:["https://aeneid.storyrpc.io"]}},blockExplorers:{default:{name:"StoryScan",url:"https://aeneid.storyscan.xyz"}}});function sFe(){const[t,e]=A.useState("Ready to test"),[n,r]=A.useState(!1),[s,i]=A.useState(null),[a,o]=A.useState(null),[l,u]=A.useState(null),[d,p]=A.useState(null),[f,h]=A.useState(""),[y,m]=A.useState(""),[b,v]=A.useState(""),[g,x]=A.useState(null),[T,I]=A.useState("text"),[C,N]=A.useState(!1),[P,L]=A.useState(!1),[U,$]=A.useState(null),[B,_]=A.useState(!1),[w,k]=A.useState({type:"commercial_remix",royaltyPercent:10}),S=F=>Ra(Ic(F)),M=async F=>{const H=await F.arrayBuffer(),K=new Uint8Array(H);return Ra(K)},R=F=>{var K;const H=(K=F.target.files)==null?void 0:K[0];H&&(x(H),H.type.startsWith("video/")?I("video"):H.type.startsWith("image/")?I("image"):H.type.startsWith("audio/")?I("audio"):I("text"))},j=async()=>{if(!window.ethereum)throw new Error("MetaMask not found");try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:Eee}]})}catch(F){if(F.code===4902)await window.ethereum.request({method:"wallet_addEthereumChain",params:[EF]});else throw F}},V=async()=>{var F;r(!0),o(null),i(null),_(!1),N(!1),L(!1);try{e(" Connecting to Aeneid network..."),await j();const H=new ko(window.ethereum);await H.send("eth_requestAccounts",[]);const Y=await H.getSigner().getAddress();if((await H.getNetwork()).chainId!==oj)throw new Error("Wrong network! Please switch to Aeneid.");e(" Preparing content...");let re;if(g)re=await M(g);else{const Ie=`# Test IP Asset

Created at: ${new Date().toISOString()}`;re=S(Ie)}h(re),e(" Uploading metadata to IPFS...");const Q={title:(g==null?void 0:g.name)||"Test IP Asset",description:`IP Asset created on ${new Date().toISOString()}`,contentHash:re,assetType:T,creator:Y,createdAt:new Date().toISOString()},ee={name:(g==null?void 0:g.name)||"Test IP Asset NFT",description:`NFT for IP Asset - ${T}`,image:"",attributes:[{trait_type:"Asset Type",value:T},{trait_type:"Creator",value:Y},{trait_type:"Content Hash",value:re}]};console.log(" Uploading IP metadata to Pinata..."),console.log("IP Metadata:",Q);let We,oe;try{We=await eT(Q,`ip-metadata-${re}`),console.log(` IP Metadata uploaded: ${We}`)}catch(Ie){throw console.error(" Failed to upload IP metadata to Pinata:",Ie),new Error(`IPFS upload failed: ${Ie instanceof Error?Ie.message:"Unknown error"}`)}console.log(" Uploading NFT metadata to Pinata..."),console.log("NFT Metadata:",ee);try{oe=await eT(ee,`nft-metadata-${re}`),console.log(` NFT Metadata uploaded: ${oe}`)}catch(Ie){throw console.error(" Failed to upload NFT metadata to Pinata:",Ie),new Error(`IPFS upload failed: ${Ie instanceof Error?Ie.message:"Unknown error"}`)}m(We),v(oe),e(" Checking for similar content (RAG Detection Engine)...");const be=await ld.generateMintToken({creatorAddress:Y,contentHash:re,ipMetadataURI:We,nftMetadataURI:oe,assetType:T});if("error"in be&&be.error==="SIMILARITY_BLOCKED"){e(" Upload blocked due to high similarity"),$(be.similarity),L(!0),r(!1);return}const ft=be;if(u(ft),(F=ft.similarity)!=null&&F.warning){e(" Similar content detected - review required"),$(ft.similarity),N(!0),r(!1);return}e(" Content verified clean! Minting..."),await O(ft,Y,H,re,We,oe)}catch(H){console.error("Minting error:",H),o(H.message||"Unknown error"),e(" Failed")}finally{r(!1)}},O=async(F,H,K,Y,J,re)=>{try{e(" Minting IP Asset on Story Protocol...");const Q=K.getSigner(),ee="0xbe39E1C756e921BD25DF86e7AAa31106d1eb0424",We="0x78AD3d22E62824945DED384a5542Ad65de16E637",oe=["function mintAndRegisterIp(address spgNftContract, address recipient, tuple(string ipMetadataURI, bytes32 ipMetadataHash, string nftMetadataURI, bytes32 nftMetadataHash) ipMetadata, bool allowDuplicates) returns (address ipId, uint256 tokenId)"],be=new nt(ee,oe,Q),ft={ipMetadataURI:J,ipMetadataHash:Ra(Ic(J)),nftMetadataURI:re,nftMetadataHash:Ra(Ic(re))};console.log(" Calling RegistrationWorkflows.mintAndRegisterIp DIRECTLY"),console.log("SPG NFT Contract:",We),console.log("Recipient:",H),console.log("Metadata:",ft),e(" Simulating transaction to get return values...");const{ipId:Ie,tokenId:Ne}=await be.callStatic.mintAndRegisterIp(We,H,ft,!0);console.log(" Predicted return values:",{ipId:Ie,tokenId:Ne.toString()}),e(" Sending transaction to blockchain...");const tt=await be.mintAndRegisterIp(We,H,ft,!0,{gasLimit:5e6});console.log(" Transaction sent:",tt.hash),e(" Waiting for confirmation...");const je=await tt.wait();console.log(" Transaction confirmed!",je);const Ct=Ie,Ar=Ne.toNumber(),st={ipId:Ct,tokenId:Ar,txHash:je.transactionHash};console.log(" Mint result:",st);try{e(" Updating backend with IP ID..."),await ld.updateTokenAfterMint({nonce:F.nonce,ipId:st.ipId,tokenId:st.tokenId,txHash:st.txHash}),console.log(" Backend updated successfully with IP ID and token ID"),e(" Backend updated! IP Asset registered successfully.")}catch(Nt){console.error(" Backend update failed:",Nt),e(" IP minted but backend update failed. Asset may show as pending.")}e(" IP Asset Registered! Configure license terms below."),p(st),_(!0)}catch(Q){throw console.error("Minting failed:",Q),Q}},E=async()=>{N(!1),r(!0);try{if(!l)throw new Error("No mint token available");if(!f)throw new Error("No content hash available");if(!y||!b)throw new Error("Metadata URIs not available");const F=new ko(window.ethereum),K=await F.getSigner().getAddress();e(" Proceeding as original work..."),await O(l,K,F,f,y,b)}catch(F){console.error("Minting error:",F),o(F.message||"Unknown error"),e(" Failed")}finally{r(!1)}},z=async()=>{N(!1),r(!0);try{if(!l||!U||!("warning"in U))throw new Error("No similarity data available");if(!f||!y||!b)throw new Error("Metadata not available");const F=new ko(window.ethereum),K=await F.getSigner().getAddress();e(" Registering as derivative work..."),await O(l,K,F,f,y,b),localStorage.setItem("pendingDerivativeParent",U.topMatch.ipId)}catch(F){console.error("Derivative registration error:",F),o(F.message||"Unknown error"),e(" Failed")}finally{r(!1)}};async function Z(){if(!d||!l){o("No mint result to attach license to.");return}r(!0),o(null);try{e("Attaching license terms..."),e("Getting or registering license terms...");const F=await _M(w.type,w.royaltyPercent);e("Attaching license to IP asset on-chain...");const H=await DM(d.ipId,F);console.log(" License attached on-chain! TX:",H.txHash),e(" Finalizing registration with backend..."),await ld.finalizeMint({nonce:l.nonce,ipId:d.ipId,tokenId:d.tokenId,txHash:d.txHash,licenseTermsId:F,licenseType:w.type,royaltyPercent:w.royaltyPercent,licenseTxHash:H.txHash}),console.log(" Backend finalized successfully with license info"),e(" SUCCESS! IP fully registered with license terms in backend."),i({...d,licenseTermsId:F,licenseTxHash:H.txHash}),_(!1)}catch(F){console.error("License attachment failed:",F),o(F.message||"License attachment failed"),e(" License attachment failed")}finally{r(!1)}}return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-black text-white p-8",children:[c.jsxs("div",{className:"max-w-2xl mx-auto",children:[c.jsx("h1",{className:"text-4xl font-bold mb-8",children:" Story Protocol Minting Test"}),c.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-lg p-6 mb-6",children:[c.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Upload Content (Optional)"}),c.jsxs("div",{className:"border-2 border-dashed border-white/30 rounded-lg p-8 text-center mb-4",children:[c.jsx("input",{type:"file",accept:"video/*,image/*,audio/*,text/*,.md,.txt",onChange:R,className:"hidden",id:"file-upload"}),c.jsx("label",{htmlFor:"file-upload",className:"cursor-pointer",children:c.jsx("div",{className:"text-white",children:g?c.jsxs(c.Fragment,{children:[c.jsxs("p",{className:"font-medium text-lg mb-2",children:[" ",g.name]}),c.jsxs("p",{className:"text-sm text-gray-300",children:[(g.size/1024).toFixed(2)," KB  ",g.type||"Unknown type"]})]}):c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"text-lg mb-2",children:" Click to upload"}),c.jsx("p",{className:"text-sm text-gray-300",children:"Video, Image, Audio, or Text file"})]})})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Asset Type"}),c.jsxs("select",{value:T,onChange:F=>I(F.target.value),className:"w-full bg-white/10 border border-white/30 rounded-lg px-4 py-2 text-white",children:[c.jsx("option",{value:"text",children:"Text"}),c.jsx("option",{value:"image",children:"Image"}),c.jsx("option",{value:"video",children:"Video"}),c.jsx("option",{value:"audio",children:"Audio"})]}),c.jsx("p",{className:"text-xs text-gray-400 mt-1",children:g?"Auto-detected from file":"Select the type of content you're minting"})]})]}),c.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-lg p-6 mb-6",children:[c.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Full E2E Minting Flow"}),c.jsxs("p",{className:"text-gray-300 mb-4",children:["Tests: Wallet Connect  ",c.jsx("strong",{children:"RAG Similarity Check"}),"  Backend Auth  Mint IP  Attach License"]}),c.jsx("button",{onClick:V,disabled:n||B,className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-white font-bold py-4 px-8 rounded-lg transition-all duration-300 transform hover:scale-105",children:n?" Processing...":g?" Upload & Mint IP Asset":" Start Full Minting Flow"})]}),c.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-lg p-6 mb-6",children:[c.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Status"}),c.jsx("p",{className:"text-lg font-mono",children:t})]}),a&&c.jsxs("div",{className:"bg-red-500/20 border-2 border-red-500 rounded-lg p-6 mb-6",children:[c.jsx("h3",{className:"text-xl font-semibold mb-2 text-red-400",children:" Error"}),c.jsx("p",{className:"font-mono text-red-300",children:a})]}),B&&!s&&c.jsxs("div",{className:"bg-blue-500/20 border-2 border-blue-400 rounded-lg p-6 mb-6",children:[c.jsx("h3",{className:"text-2xl font-semibold mb-4 text-blue-300",children:" IP Registered! Now, Attach a License."}),c.jsxs("div",{className:"space-y-2 font-mono text-sm mb-6",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-400",children:"IP ID:"})," ",c.jsx("p",{className:"text-blue-200 break-all",children:d==null?void 0:d.ipId})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-400",children:"Token ID:"})," ",c.jsx("p",{className:"text-blue-200",children:d==null?void 0:d.tokenId})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"license-type-selector bg-black/20 p-4 rounded-md",children:[c.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[c.jsx("input",{type:"radio",name:"licenseType",className:"form-radio h-5 w-5 text-blue-400 bg-gray-700 border-gray-600 focus:ring-blue-500",checked:w.type==="commercial_remix",onChange:()=>k({...w,type:"commercial_remix"})}),c.jsxs("div",{children:[c.jsx("span",{className:"font-semibold",children:"Commercial Remix"}),c.jsx("span",{className:"block text-xs text-gray-400",children:" Commercial use  Derivatives  Attribution"})]})]}),c.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer mt-2",children:[c.jsx("input",{type:"radio",name:"licenseType",className:"form-radio h-5 w-5 text-blue-400 bg-gray-700 border-gray-600 focus:ring-blue-500",checked:w.type==="non_commercial",onChange:()=>k({...w,type:"non_commercial",royaltyPercent:0})}),c.jsxs("div",{children:[c.jsx("span",{className:"font-semibold",children:"Non-Commercial Only"}),c.jsx("span",{className:"block text-xs text-gray-400",children:" No commercial use  Derivatives  Attribution"})]})]})]}),w.type==="commercial_remix"&&c.jsxs("div",{className:"royalty-slider bg-black/20 p-4 rounded-md",children:[c.jsxs("label",{className:"block mb-2 font-semibold",children:["Royalty Percentage: ",w.royaltyPercent,"%"]}),c.jsx("input",{type:"range",min:"0",max:"100",value:w.royaltyPercent,onChange:F=>k({...w,royaltyPercent:parseInt(F.target.value)}),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer"})]}),c.jsx("button",{onClick:Z,disabled:n,className:"w-full bg-gradient-to-r from-blue-600 to-teal-500 hover:from-blue-700 hover:to-teal-600 disabled:opacity-50 text-white font-bold py-3 px-6 rounded-lg transition-all",children:n?" Attaching...":"Attach License & Finalize"})]})]}),s&&c.jsxs("div",{className:"bg-green-500/20 border-2 border-green-500 rounded-lg p-6",children:[c.jsx("h3",{className:"text-xl font-semibold mb-4 text-green-400",children:" IP Fully Registered!"}),c.jsxs("div",{className:"space-y-2 font-mono text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-400",children:"IP ID:"}),c.jsx("p",{className:"text-green-300 break-all",children:s.ipId})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-400",children:"Token ID:"}),c.jsx("p",{className:"text-green-300",children:s.tokenId})]}),s.licenseTermsId&&c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-400",children:"License Terms ID:"}),c.jsx("p",{className:"text-green-300",children:s.licenseTermsId})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-400",children:"Mint Tx Hash:"}),c.jsx("p",{className:"text-green-300 break-all",children:s.txHash})]}),s.licenseTxHash&&c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-400",children:"License Tx Hash:"}),c.jsx("p",{className:"text-green-300 break-all",children:s.licenseTxHash})]})]}),c.jsx("a",{href:`${EF.blockExplorerUrls[0]}/tx/${s.licenseTxHash||s.txHash}`,target:"_blank",rel:"noopener noreferrer",className:"mt-4 inline-block bg-blue-600 hover:bg-blue-700 px-6 py-2 rounded-lg transition-colors",children:"View on Explorer "})]}),c.jsx(iFe,{}),c.jsxs("div",{className:"mt-8 bg-white/5 rounded-lg p-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-2",children:" What This Tests:"}),c.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-300",children:[c.jsxs("li",{children:[" ",c.jsx("strong",{children:"RAG-Powered Similarity Detection"})," (NEW!)"]}),c.jsx("li",{children:"File upload support for real content"}),c.jsx("li",{children:"Aeneid network connection and switching"}),c.jsx("li",{children:"Backend signature authorization"}),c.jsx("li",{children:"Direct user wallet call to RegistrationWorkflows"}),c.jsx("li",{children:"Story Protocol IP registration"}),c.jsx("li",{children:"License attachment with user choice"}),c.jsx("li",{children:"Complete end-to-end flow (upload  detect  mint  license)"})]})]})]}),C&&U&&"warning"in U&&c.jsx(GJ,{isOpen:C,onClose:()=>N(!1),similarityInfo:U,onProceedAsOriginal:E,onRegisterAsDerivative:z}),P&&U&&!("warning"in U)&&c.jsx(KJ,{isOpen:P,onClose:()=>{L(!1),x(null)},blockedInfo:U})]})}function iFe(){const{address:t}=Nee(),{data:e,isLoading:n,error:r}=rj({walletAddress:t});return t?c.jsxs("div",{className:"mt-8 bg-white/5 rounded-lg p-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Your Minted Assets"}),n&&c.jsx("p",{children:"Loading your assets..."}),r&&c.jsxs("p",{children:["Error loading assets: ",r.message]}),e&&c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.assets.map(s=>c.jsx(n5,{asset:s},s._id))})]}):c.jsxs("div",{className:"mt-8 bg-white/5 rounded-lg p-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Your Minted Assets"}),c.jsx("p",{children:"Please connect your wallet to see your minted assets."})]})}const See="0x78AD3d22E62824945DED384a5542Ad65de16E637",aFe="0x77319B4031e6eF1250907aa00018B8B1c67a244b",Ree="https://aeneid.storyrpc.io",oFe=["function ipId(uint256 chainId, address tokenContract, uint256 tokenId) view returns (address)"],lFe=["function ownerOf(uint256 tokenId) view returns (address)","function tokenURI(uint256 tokenId) view returns (string)","function totalSupply() view returns (uint256)"];async function cFe(t){const e=new Wv(Ree);return await new nt(aFe,oFe,e).ipId(1315,See,t)}async function uFe(t){const e=new Wv(Ree),n=new nt(See,lFe,e);try{const r=await n.totalSupply(),s=[];for(let i=1;i<=r.toNumber();i++)try{(await n.ownerOf(i)).toLowerCase()===t.toLowerCase()&&s.push(i)}catch{}return s}catch(r){return console.error("Error fetching owned tokens:",r),[]}}async function dFe(t){const e=await uFe(t),n=[];for(const r of e)try{const s=await cFe(r);n.push({tokenId:r,ipId:s})}catch(s){console.error(`Error getting IP ID for token ${r}:`,s)}return n}const Yk="0x78AD3d22E62824945DED384a5542Ad65de16E637",pFe="0x77319B4031e6eF1250907aa00018B8B1c67a244b",fFe="https://aeneid.storyrpc.io",hFe=["function tokenURI(uint256 tokenId) view returns (string)","function ownerOf(uint256 tokenId) view returns (address)","function totalSupply() view returns (uint256)"],mFe=["function ipId(uint256 chainId, address tokenContract, uint256 tokenId) view returns (address)"];async function yFe(t,e){const n=new Wv(fFe),r=new nt(Yk,hFe,n),s=new nt(pFe,mFe,n);try{console.log(` Searching for IPFS CID: ${t} owned by ${e}`);const i=await r.totalSupply();console.log(` Total NFTs minted: ${i.toString()}`);for(let a=1;a<=i.toNumber();a++)try{if((await r.ownerOf(a)).toLowerCase()!==e.toLowerCase())continue;console.log(` Checking Token #${a} (owned by user)`);const l=await r.tokenURI(a);if(console.log(`  Token URI: ${l}`),l.includes(t))return console.log(` MATCH! Token #${a} has matching IPFS CID`),{ipId:await s.ipId(1315,Yk,a),tokenId:a};try{const u=l.replace("ipfs://","https://gateway.pinata.cloud/ipfs/"),p=await(await fetch(u)).json();if(JSON.stringify(p).toLowerCase().includes(t.toLowerCase()))return console.log(` MATCH in metadata! Token #${a}`),{ipId:await s.ipId(1315,Yk,a),tokenId:a}}catch{console.log(`  Could not fetch metadata for token #${a}`)}}catch{continue}return console.log(" No matching token found"),null}catch(i){return console.error("Error searching for IP:",i),null}}async function gFe(t){const e=new Map;for(const n of t){console.log(`
 Looking up asset: ${n._id}`);const r=await yFe(n.ipfsCid,n.creatorWallet);r?(e.set(n._id,r),console.log(` Found: ${n._id}  Token #${r.tokenId}`)):console.log(` Not found: ${n._id}`),await new Promise(s=>setTimeout(s,1e3))}return e}const Pee="0x523",qk={chainId:Pee,chainName:"Story Aeneid Testnet",nativeCurrency:{name:"IP",symbol:"IP",decimals:18},rpcUrls:["https://aeneid.storyrpc.io"],blockExplorerUrls:["https://aeneid.storyscan.xyz"]};function vFe(){const{address:t}=Nee(),{data:e,isLoading:n,error:r,refetch:s}=rj({walletAddress:t}),[i,a]=A.useState(""),[o,l]=A.useState(""),[u,d]=A.useState("commercial_remix"),[p,f]=A.useState(10),[h,y]=A.useState("Ready"),[m,b]=A.useState(!1),[v,g]=A.useState(null),[x,T]=A.useState([]),[I,C]=A.useState(new Map),N=async()=>{if(!window.ethereum)throw new Error("MetaMask not found");try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:Pee}]})}catch($){if($.code===4902)await window.ethereum.request({method:"wallet_addEthereumChain",params:[qk]});else throw $}},P=async()=>{var $,B,_,w;if(!i.trim()){alert("Please enter an IP ID");return}b(!0),y("Processing..."),g(null);try{y(" Switching to Aeneid network..."),await N(),y(" Getting license terms ID...");const k=await _M(u,p);console.log("License Terms ID:",k),y(" Attaching license to IP...");const{txHash:S}=await DM(i.trim(),k);if(o.trim()){y(" Updating backend...");const R=await fetch(`http://localhost:3001/api/assets/${o}/finalize`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({storyIpId:i.trim(),licenseTermsId:k,licenseTxHash:S})});R.ok?(console.log(" Backend updated successfully"),s()):console.warn("Backend update failed:",await R.text())}y(" License attached successfully!"),g({ipId:i.trim(),licenseTermsId:k,txHash:S,explorerUrl:`${qk.blockExplorerUrls[0]}/tx/${S}`})}catch(k){console.error("License attachment error:",k);const S=(($=k.message)==null?void 0:$.toLowerCase())||"",M=((_=(B=k.error)==null?void 0:B.data)==null?void 0:_.data)||((w=k.data)==null?void 0:w.data)||"";S.includes("execution reverted")&&M.includes("55d48f8d")?(y(" License terms are already attached to this IP!"),g({ipId:i.trim(),licenseTermsId,alreadyAttached:!0,message:"This IP already has license terms attached. No transaction needed."})):y(` Error: ${k.message}`)}finally{b(!1)}},L=async()=>{b(!0),y(" Fetching your IP IDs...");try{if(!window.ethereum)throw new Error("MetaMask not found");await N();const $=new ko(window.ethereum);await $.send("eth_requestAccounts",[]);const _=await $.getSigner().getAddress();console.log("Fetching IP IDs for:",_);const w=await dFe(_);T(w),y(` Found ${w.length} IP(s) owned by your wallet`),w.length>0&&a(w[0].ipId)}catch($){console.error("Error fetching IP IDs:",$),y(` Error: ${$.message}`)}finally{b(!1)}},U=async()=>{if(!e||e.assets.length===0){y(" No assets to search");return}b(!0),y(" Searching blockchain for missing IP IDs...");try{const $=e.assets.filter(_=>!_.storyIpId);if($.length===0){y(" All assets already have IP IDs!"),b(!1);return}console.log(` Found ${$.length} assets without IP IDs`),y(` Searching for ${$.length} missing IP ID(s)...`);const B=await gFe($.map(_=>({_id:_._id,ipfsCid:_.ipfsCid,creatorWallet:_.creatorWallet})));if(C(B),B.size>0){y(` Found ${B.size} IP ID(s)! Click "Update Backend" on each asset to save.`);const _="http://localhost:3001/api";let w=0;for(const[k,{ipId:S,tokenId:M}]of B.entries())try{(await fetch(`${_}/assets/${k}/finalize`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({storyIpId:S,storyTokenId:M,status:"registered"})})).ok&&(w++,console.log(` Updated backend for ${k}`))}catch(R){console.error(`Failed to update ${k}:`,R)}w>0&&(y(` Found and updated ${w} asset(s) in backend!`),s())}else y(" Could not find any matching IP IDs on blockchain")}catch($){console.error("Error finding IP IDs:",$),y(` Error: ${$.message}`)}finally{b(!1)}};return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-indigo-900 to-blue-900 text-white p-8",children:c.jsxs("div",{className:"max-w-2xl mx-auto",children:[c.jsx("h1",{className:"text-4xl font-bold mb-8",children:" Attach License to Existing IP"}),!t&&c.jsx("div",{className:"bg-yellow-500/20 border border-yellow-500/50 rounded-lg p-6 mb-6",children:c.jsx("p",{className:"text-yellow-300",children:" Please connect your wallet to see your assets and attach licenses."})}),t&&c.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 mb-6",children:[c.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Your Backend Assets"}),n&&c.jsx("p",{className:"text-gray-300",children:"Loading your assets..."}),r&&c.jsxs("p",{className:"text-red-400",children:["Error: ",r.message]}),e&&e.assets.length===0&&c.jsx("p",{className:"text-gray-400",children:"No assets found in backend."}),e&&e.assets.length>0&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("button",{onClick:U,disabled:m,className:"w-full bg-green-600 hover:bg-green-700 disabled:bg-gray-600 px-4 py-3 rounded-lg font-medium transition-all disabled:cursor-not-allowed",children:m?" Searching blockchain...":" Find Missing IP IDs (Auto-Update Backend)"}),c.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"This will scan the blockchain for tokens matching your assets' IPFS CIDs and automatically update the backend."})]}),c.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:e.assets.map($=>{var k;const B=I.get($._id),_=$.storyIpId||(B==null?void 0:B.ipId),w=$.storyTokenId||(B==null?void 0:B.tokenId);return c.jsxs("div",{className:`border rounded-lg p-4 transition-all ${o===$._id?"border-blue-500 bg-blue-500/20":"border-white/20 bg-white/5 hover:bg-white/10"}`,children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-semibold",children:$.originalFilename}),c.jsxs("p",{className:"text-xs text-gray-400 font-mono mt-1",children:["ID: ",$._id]})]}),c.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${$.status==="registered"?"bg-green-500/20 text-green-300":$.status==="pending"?"bg-yellow-500/20 text-yellow-300":"bg-gray-500/20 text-gray-300"}`,children:$.status})]}),c.jsxs("div",{className:"space-y-1 text-sm",children:[_?c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-400",children:"IP ID:"}),B&&!$.storyIpId&&c.jsx("span",{className:"ml-2 px-2 py-0.5 bg-green-500/20 text-green-300 text-xs rounded",children:"Just Found!"}),c.jsx("p",{className:"font-mono text-xs text-green-300 break-all",children:_})]}):c.jsx("p",{className:"text-red-400 text-xs",children:" No Story IP ID"}),w&&c.jsxs("p",{className:"text-gray-400",children:["Token ID: ",c.jsx("span",{className:"text-white",children:w})]}),$.licenseTermsId?c.jsxs("p",{className:"text-green-400 text-xs",children:[" Licensed (Terms #",$.licenseTermsId,")"]}):c.jsx("p",{className:"text-yellow-400 text-xs",children:" No license attached"}),c.jsxs("p",{className:"text-gray-400 text-xs",children:["IPFS: ",c.jsxs("span",{className:"text-white",children:[(k=$.ipfsCid)==null?void 0:k.slice(0,20),"..."]})]})]}),c.jsx("button",{onClick:()=>{l($._id),_&&a(_)},className:`mt-3 w-full px-4 py-2 rounded font-medium transition-all ${_&&!$.licenseTermsId?"bg-blue-600 hover:bg-blue-700":_?"bg-gray-600 hover:bg-gray-700":"bg-red-600/50 cursor-not-allowed"}`,disabled:!_,children:_?$.licenseTermsId?" Already Licensed (Re-license)":B&&!$.storyIpId?" Select (Just Found!)":" Select to License":" Missing IP ID"})]},$._id)})})]})]}),c.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 space-y-6",children:[c.jsx("h2",{className:"text-2xl font-semibold",children:"License Configuration"}),c.jsx("div",{className:"flex gap-4",children:c.jsx("button",{onClick:L,disabled:m||!t,className:"flex-1 bg-indigo-600 hover:bg-indigo-700 disabled:bg-gray-600 px-4 py-2 rounded-lg font-medium transition-all disabled:cursor-not-allowed",children:" Fetch IP IDs from Blockchain"})}),c.jsx("p",{className:"text-sm text-gray-400",children:" Use this if your backend assets don't have IP IDs yet. It will scan the blockchain for tokens you own."}),x.length>0&&c.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[c.jsx("h4",{className:"font-semibold mb-2",children:"Blockchain IP Assets Found:"}),c.jsx("p",{className:"text-xs text-gray-400 mb-3",children:"These are tokens you own on the Story Protocol blockchain."}),c.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:x.map(({tokenId:$,ipId:B})=>c.jsx("button",{onClick:()=>a(B),className:`w-full text-left px-3 py-2 rounded border ${i===B?"border-blue-500 bg-blue-500/20":"border-white/20 hover:bg-white/5"} transition-all`,children:c.jsxs("div",{className:"font-mono text-sm",children:[c.jsxs("span",{className:"text-gray-400",children:["Token #",$]}),c.jsx("br",{}),c.jsx("span",{className:"text-xs break-all",children:B})]})},$))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Story IP ID"}),c.jsx("input",{type:"text",value:i,onChange:$=>a($.target.value),placeholder:"0x... (auto-filled when you select an asset above)",className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:!t}),c.jsx("p",{className:"text-xs text-gray-400 mt-1",children:i?" IP ID ready":"Select an asset from above to auto-fill"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Backend Asset ID"}),c.jsx("input",{type:"text",value:o,onChange:$=>l($.target.value),placeholder:"Auto-filled when you select an asset above",className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:!t}),c.jsx("p",{className:"text-xs text-gray-400 mt-1",children:o?" Will update backend after license attachment":"Optional - for backend sync"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"License Type"}),c.jsxs("select",{value:u,onChange:$=>d($.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"commercial_remix",children:"Commercial Remix (with royalties)"}),c.jsx("option",{value:"non_commercial",children:"Non-Commercial (no royalties)"})]})]}),u==="commercial_remix"&&c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Royalty Percentage: ",p,"%"]}),c.jsx("input",{type:"range",min:"0",max:"100",value:p,onChange:$=>f(parseInt($.target.value)),className:"w-full"})]}),c.jsx("button",{onClick:P,disabled:m||!i.trim()||!t,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 disabled:from-gray-600 disabled:to-gray-600 px-8 py-4 rounded-lg font-semibold text-lg transition-all disabled:cursor-not-allowed",children:m?" Processing...":t?i.trim()?" Attach License to IP":" Select an IP Asset First":" Connect Wallet First"}),c.jsx("div",{className:"text-center font-medium",children:h})]}),v&&c.jsxs("div",{className:`mt-6 border-2 rounded-lg p-6 ${v.alreadyAttached?"bg-blue-500/20 border-blue-500":"bg-green-500/20 border-green-500"}`,children:[c.jsx("h3",{className:`text-xl font-semibold mb-4 ${v.alreadyAttached?"text-blue-400":"text-green-400"}`,children:v.alreadyAttached?" Already Licensed":" License Attached!"}),v.alreadyAttached&&c.jsx("p",{className:"text-blue-300 mb-4",children:v.message}),c.jsxs("div",{className:"space-y-2 font-mono text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-400",children:"IP ID:"}),c.jsx("p",{className:`break-all ${v.alreadyAttached?"text-blue-300":"text-green-300"}`,children:v.ipId})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-400",children:"License Terms ID:"}),c.jsx("p",{className:v.alreadyAttached?"text-blue-300":"text-green-300",children:v.licenseTermsId})]}),v.txHash&&c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-400",children:"Transaction Hash:"}),c.jsx("p",{className:"text-green-300 break-all",children:v.txHash})]})]}),v.explorerUrl&&c.jsx("a",{href:v.explorerUrl,target:"_blank",rel:"noopener noreferrer",className:"mt-4 inline-block bg-blue-600 hover:bg-blue-700 px-6 py-2 rounded-lg transition-colors",children:"View on Explorer "})]}),c.jsxs("div",{className:"mt-8 bg-white/5 rounded-lg p-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-2",children:" How to Use:"}),c.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-gray-300",children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Connect your wallet"})," - Your backend assets will appear"]}),c.jsxs("li",{children:[c.jsx("strong",{children:'Click "Find Missing IP IDs"'})," - This scans the blockchain for your minted tokens"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Wait for search to complete"})," - Backend will auto-update with found IP IDs"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Select an asset"})," - Click the asset you want to license"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Configure license"})," - Choose type and royalty percentage"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Attach license"})," - Confirm the transaction in your wallet"]})]}),c.jsx("div",{className:"mt-4 p-4 bg-blue-500/10 border border-blue-500/30 rounded",children:c.jsxs("p",{className:"text-blue-300 text-sm",children:[c.jsx("strong",{children:" How It Works:"}),' The "Find Missing IP IDs" button matches your backend assets to blockchain tokens by comparing IPFS metadata URIs. When a match is found, it automatically updates your backend with the IP ID and token number!']})}),c.jsx("div",{className:"mt-4 p-4 bg-green-500/10 border border-green-500/30 rounded",children:c.jsxs("p",{className:"text-green-300 text-sm",children:[c.jsx("strong",{children:" Your Assets:"})," You have ",(e==null?void 0:e.assets.filter($=>!$.storyIpId).length)||0," asset(s) missing IP IDs. Click the button above to find them automatically!"]})})]}),c.jsxs("div",{className:"mt-6 flex gap-4",children:[c.jsx("a",{href:"/",className:"flex-1 text-center bg-white/10 hover:bg-white/20 px-4 py-2 rounded-lg transition-colors",children:" Back to Home"}),c.jsx("a",{href:qk.blockExplorerUrls[0],target:"_blank",rel:"noopener noreferrer",className:"flex-1 text-center bg-white/10 hover:bg-white/20 px-4 py-2 rounded-lg transition-colors",children:"Story Explorer "})]})]})})}const bFe="http://localhost:3001/api",SF="0x1514000000000000000000000000000000000000",xFe=()=>{const{signer:t,address:e}=ir(),[n,r]=A.useState([]),[s,i]=A.useState(!1),[a,o]=A.useState({}),[l,u]=A.useState({});A.useEffect(()=>{t&&e&&d()},[t,e]);const d=async()=>{var h;if(e){i(!0);try{const y=await fetch(`${bFe}/license-tokens/user/${e}`);if(!y.ok)throw new Error("Failed to fetch license tokens");const m=await y.json(),b=((h=m.data)==null?void 0:h.licenses)||m.licenses||[];r(b),b.length===0&&le.info("No license tokens found. Mint a license token to start using IPs!")}catch(y){console.error("Error fetching license tokens:",y),le.error("Failed to fetch your license tokens.")}finally{i(!1)}}},p=(h,y)=>{o(m=>({...m,[h]:y}))},f=async h=>{var b,v;if(!t||!e)return;const y=h.tokenId||h.licenseTokenId||h._id||"",m=a[y];if(!m||parseFloat(m)<=0){le.error("Please enter a valid payment amount");return}u(g=>({...g,[y]:!0}));try{const g=ja(m).toString();console.log(" Paying royalty:",{from:e,toIpId:h.ipId,amount:m,tokenAddress:SF}),console.warn(" IMPORTANT: payRoyaltyOnBehalf requires a derivative IP as payer!"),console.warn("Using the same IP as payer and receiver will NOT credit the vault properly."),console.warn("For proper testing, you need to:"),console.warn("1. Create a derivative IP using this license token"),console.warn("2. Pay from the derivative IP to the parent IP"),le.warning("Note: You need a derivative IP to pay royalties. Using same IP as test."),await X1.payRoyaltyOnBehalf(h.ipId,h.ipId,SF,g,t),le.info("Transaction sent! Note: Same IP used as payer/receiver - vault may not be credited."),le.info("For proper testing, create a derivative IP first."),o(x=>({...x,[y]:""}))}catch(g){console.error("Error paying royalty:",g),(b=g==null?void 0:g.message)!=null&&b.includes("insufficient funds")?le.error("Insufficient WIP tokens. Get testnet tokens from Story faucet."):(v=g==null?void 0:g.message)!=null&&v.includes("user rejected")?le.error("Transaction rejected by user."):le.error(`Failed to pay royalty: ${(g==null?void 0:g.message)||"Unknown error"}`)}finally{u(g=>({...g,[y]:!1}))}};return c.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Pay Royalties"}),c.jsx("p",{className:"text-muted-foreground mt-1",children:"Pay royalties for the license tokens you've minted"})]}),c.jsx(te,{onClick:d,variant:"outline",disabled:s,children:s?c.jsx(hi,{className:"w-4 h-4 animate-spin"}):"Refresh"})]}),c.jsxs(me,{className:"border-yellow-500 bg-yellow-50 dark:bg-yellow-950",children:[c.jsx(yt,{children:c.jsx(gt,{className:"text-yellow-800 dark:text-yellow-200 text-base flex items-center gap-2",children:" Royalty Payment Requires Derivative IP"})}),c.jsxs(ye,{className:"text-sm text-yellow-900 dark:text-yellow-100 space-y-2",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Important:"})," Story Protocol requires royalties to be paid from a ",c.jsx("strong",{children:"derivative IP"})," to its parent IP."]}),c.jsxs("p",{className:"text-xs",children:["Currently, payments use the same IP as both payer and receiver, which completes the transaction but ",c.jsx("strong",{children:"does not credit the royalty vault"}),"."]}),c.jsxs("details",{className:"mt-2",children:[c.jsx("summary",{className:"cursor-pointer font-medium",children:"Proper royalty flow (click to expand)"}),c.jsxs("ol",{className:"list-decimal ml-5 mt-2 space-y-1 text-xs",children:[c.jsx("li",{children:"Register parent IP and attach license terms"}),c.jsx("li",{children:"Mint license token from parent IP ( you have these)"}),c.jsxs("li",{children:[c.jsx("strong",{children:"Create derivative IP"})," using the license token (missing step)"]}),c.jsx("li",{children:"Pay royalties from derivative IP to parent IP"}),c.jsx("li",{children:"Parent IP owner can claim from vault"})]})]})]})]}),c.jsxs(me,{className:"bg-gradient-to-br from-purple-50 to-pink-50 border-purple-200",children:[c.jsx(yt,{children:c.jsxs(gt,{className:"flex items-center gap-2",children:[c.jsx(fd,{className:"w-5 h-5 text-purple-600"}),"How Royalties Work"]})}),c.jsx(ye,{children:c.jsx("p",{className:"text-sm text-muted-foreground",children:"When you mint a license token for an IP, you can use that IP in derivative works. Pay royalties to support the original creators and maintain your license in good standing. The creator can then claim these royalties from their Royalty Dashboard."})})]}),c.jsxs("div",{children:[c.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[c.jsx(jc,{className:"w-5 h-5"}),"Your License Tokens"]}),s?c.jsx(me,{children:c.jsx(ye,{className:"flex items-center justify-center py-12",children:c.jsx(hi,{className:"w-8 h-8 animate-spin text-muted-foreground"})})}):n.length===0?c.jsx(me,{children:c.jsx(ye,{className:"text-center py-12",children:c.jsx("p",{className:"text-muted-foreground",children:"No license tokens found. Visit the marketplace to mint a license token!"})})}):c.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:n.map(h=>{const y=h.tokenId||h.licenseTokenId||h._id||"";return c.jsxs(me,{className:"hover:shadow-lg transition-shadow",children:[c.jsxs(yt,{children:[c.jsxs(gt,{className:"text-base",children:["License Token #",y.slice(-8)]}),c.jsxs(Pr,{className:"truncate",title:h.ipId,children:["Parent IP: ",h.ipId.slice(0,10),"...",h.ipId.slice(-8)]})]}),c.jsxs(ye,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ut,{htmlFor:`amount-${y}`,children:"Payment Amount (IP tokens)"}),c.jsx(an,{id:`amount-${y}`,type:"number",step:"0.01",min:"0",placeholder:"0.1",value:a[y]||"",onChange:m=>p(y,m.target.value),disabled:l[y]})]}),c.jsx(te,{onClick:()=>f(h),disabled:l[y]||!a[y]||parseFloat(a[y])<=0,className:"w-full",children:l[y]?c.jsxs(c.Fragment,{children:[c.jsx(hi,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):c.jsxs(c.Fragment,{children:[c.jsx(DU,{className:"w-4 h-4 mr-2"}),"Pay Royalty"]})}),c.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[h.licenseTermsId&&c.jsxs("p",{children:["License Terms: ",h.licenseTermsId]}),h.amount&&c.jsxs("p",{children:["Amount: ",h.amount]}),h.createdAt&&c.jsxs("p",{children:["Minted: ",new Date(h.createdAt).toLocaleDateString()]})]})]})]},y)})})]}),c.jsxs(me,{children:[c.jsx(yt,{children:c.jsx(gt,{className:"text-base",children:"Need Testnet Tokens?"})}),c.jsxs(ye,{children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Get free testnet IP tokens to pay royalties:"}),c.jsx(te,{variant:"outline",onClick:()=>window.open("https://faucet.story.foundation/","_blank"),children:"Open Story Faucet"})]})]})]})},wFe={WIP:{address:"0x1514000000000000000000000000000000000000",name:"WIP",symbol:"WIP"},MERC20:{address:"0xF2104833d386a2734a4eB3B8ad6FC6812F29E38E",name:"MERC20",symbol:"MERC20"}},TFe=()=>{const{signer:t,address:e}=ir(),[n,r]=A.useState("0xE5756dc04dAa9daF41162Bc34c0b955c34Bd863E"),[s,i]=A.useState(""),[a,o]=A.useState("MERC20"),[l,u]=A.useState(!1),d=async()=>{var p,f;if(!t||!e){le.error("Please connect your wallet");return}if(!n||!KS(n)){le.error("Please enter a valid IP address");return}if(!s||parseFloat(s)<=0){le.error("Please enter a valid amount");return}u(!0);try{const h=wFe[a],y=["function transfer(address to, uint256 amount) returns (bool)","function balanceOf(address account) view returns (uint256)","function approve(address spender, uint256 amount) returns (bool)","function decimals() view returns (uint8)"],m=new nt(h.address,y,t),b=await m.decimals(),v=qS(s,b),g=await m.balanceOf(e);if(g.lt(v)){le.error(`Insufficient ${h.symbol} balance. You have ${po(g,b)} ${h.symbol}`),u(!1);return}console.log(` Sending direct ${h.symbol} transfer:`,{from:e,to:n,amount:s,amountWei:v.toString(),token:h.address}),le.info("Please approve the transaction in MetaMask...");const x=await m.transfer(n,v);le.info("Transaction sent! Waiting for confirmation..."),console.log(" Transaction hash:",x.hash),await x.wait(),le.success(`Successfully sent ${s} ${h.symbol} to IP ${n.slice(0,10)}...${n.slice(-8)}!`),le.info("The IP owner can now claim these tokens from their dashboard."),i("")}catch(h){console.error(`Error sending ${a}:`,h),(h==null?void 0:h.code)===4001||(p=h==null?void 0:h.message)!=null&&p.includes("user rejected")?le.error("Transaction rejected by user."):(f=h==null?void 0:h.message)!=null&&f.includes("insufficient funds")?le.error(`Insufficient ${a} tokens. Get testnet tokens from Story faucet.`):le.error(`Failed to send ${a}: ${(h==null?void 0:h.message)||"Unknown error"}`)}finally{u(!1)}};return c.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Direct Royalty Payment"}),c.jsx("p",{className:"text-muted-foreground mt-1",children:"Send tokens directly to an IP address for testing"})]})}),c.jsxs(me,{className:"border-blue-500 bg-blue-50 dark:bg-blue-950",children:[c.jsx(yt,{children:c.jsxs(gt,{className:"text-blue-800 dark:text-blue-200 text-base flex items-center gap-2",children:[c.jsx(i1,{className:"w-4 h-4"}),"Testing Mode - Direct Token Transfer"]})}),c.jsxs(ye,{className:"text-sm text-blue-900 dark:text-blue-100 space-y-2",children:[c.jsx("p",{children:"This sends tokens (WIP or MERC20) directly to an IP address (which is just an Ethereum address)."}),c.jsxs("p",{children:[c.jsx("strong",{children:"Note:"})," This bypasses Story Protocol's royalty vault system but lets you test the wallet balance. The IP owner will receive tokens directly in their wallet."]}),c.jsx("p",{className:"text-xs mt-2",children:"For production royalty flows, use the proper derivative IP  parent IP payment system."})]})]}),c.jsxs(me,{children:[c.jsxs(yt,{children:[c.jsx(gt,{children:"Send Tokens"}),c.jsx(Pr,{children:"Transfer tokens directly to an IP address"})]}),c.jsxs(ye,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ut,{htmlFor:"token",children:"Token"}),c.jsxs(mv,{value:a,onValueChange:p=>o(p),children:[c.jsx(Mm,{id:"token",children:c.jsx(yv,{placeholder:"Select token"})}),c.jsxs(jm,{children:[c.jsx(Ca,{value:"WIP",children:"WIP - 0x1514...0000"}),c.jsx(Ca,{value:"MERC20",children:"MERC20 - 0xF210...E38E"})]})]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Choose which token to send as royalty payment"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ut,{htmlFor:"ipId",children:"Recipient IP Address"}),c.jsx(an,{id:"ipId",type:"text",placeholder:"0x...",value:n,onChange:p=>r(p.target.value),disabled:l}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"The Ethereum address of the IP that will receive the tokens"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs(Ut,{htmlFor:"amount",children:["Amount (",a," tokens)"]}),c.jsx(an,{id:"amount",type:"number",step:"0.01",min:"0",placeholder:"0.1",value:s,onChange:p=>i(p.target.value),disabled:l}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:["Amount of ",a," tokens to send (e.g., 0.1)"]})]}),c.jsx(te,{onClick:d,disabled:l||!n||!s||parseFloat(s)<=0,className:"w-full",size:"lg",children:l?c.jsxs(c.Fragment,{children:[c.jsx(hi,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):c.jsxs(c.Fragment,{children:[c.jsx(DU,{className:"w-4 h-4 mr-2"}),"Send ",s||"0"," ",a]})}),c.jsxs("div",{className:"pt-4 border-t",children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Need testnet tokens?"}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("a",{href:"https://faucet.story.foundation/",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline block",children:"Get WIP from Story Aeneid Testnet Faucet "}),c.jsx("a",{href:"https://faucet.story.foundation/",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline block",children:"Mint MERC20 from Story Faucet "})]})]})]})]}),e&&c.jsxs(me,{children:[c.jsx(yt,{children:c.jsx(gt,{className:"text-base",children:"Your Wallet"})}),c.jsx(ye,{children:c.jsx("p",{className:"text-sm font-mono",children:e})})]})]})},RF="0x1514000000000000000000000000000000000000",AFe=()=>{const{signer:t,address:e}=ir(),[n,r]=A.useState(""),[s,i]=A.useState(null),[a,o]=A.useState(!1),l=async u=>{const d=u||n||e;if(!d||!KS(d)){le.error("Please enter a valid address");return}o(!0);try{const p=["function balanceOf(address account) view returns (uint256)"],f=(t==null?void 0:t.provider)||new Wv("https://aeneid.storyrpc.io"),h=new nt(RF,p,f);console.log(" Checking WIP balance for:",d);const y=await h.balanceOf(d),m=_e(y);console.log(" Balance:",m,"WIP"),i(m),le.success(`Balance: ${m} WIP`)}catch(p){console.error("Error checking balance:",p),le.error(`Failed to check balance: ${(p==null?void 0:p.message)||"Unknown error"}`),i(null)}finally{o(!1)}};return c.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Check WIP Balance"}),c.jsx("p",{className:"text-muted-foreground mt-1",children:"Check WIP token balance for any address"})]})}),c.jsxs(me,{className:"border-blue-500 bg-blue-50 dark:bg-blue-950",children:[c.jsx(yt,{children:c.jsxs(gt,{className:"text-blue-800 dark:text-blue-200 text-base flex items-center gap-2",children:[c.jsx(i1,{className:"w-4 h-4"}),"WIP Token Balance Checker"]})}),c.jsx(ye,{className:"text-sm text-blue-900 dark:text-blue-100",children:c.jsx("p",{children:"Check the WIP token balance of any Ethereum address (including IP addresses). IP addresses are just regular Ethereum addresses that can hold tokens."})})]}),c.jsxs(me,{children:[c.jsxs(yt,{children:[c.jsx(gt,{children:"Check Balance"}),c.jsx(Pr,{children:"Enter an address to check its WIP token balance"})]}),c.jsxs(ye,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ut,{htmlFor:"address",children:"Ethereum Address"}),c.jsx(an,{id:"address",type:"text",placeholder:e||"0x...",value:n,onChange:u=>r(u.target.value),disabled:a}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Leave empty to check your connected wallet"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(te,{onClick:()=>l(),disabled:a,className:"flex-1",children:a?c.jsxs(c.Fragment,{children:[c.jsx(hi,{className:"w-4 h-4 mr-2 animate-spin"}),"Checking..."]}):c.jsxs(c.Fragment,{children:[c.jsx(ho,{className:"w-4 h-4 mr-2"}),"Check Balance"]})}),e&&c.jsx(te,{onClick:()=>l(e),disabled:a,variant:"outline",children:"Check My Wallet"})]}),s!==null&&c.jsx(me,{className:"bg-green-50 dark:bg-green-950 border-green-500",children:c.jsx(ye,{className:"pt-6",children:c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Balance"}),c.jsxs("p",{className:"text-3xl font-bold text-green-700 dark:text-green-300",children:[s," WIP"]}),c.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:n||e})]})})}),c.jsxs("div",{className:"pt-4 border-t",children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Quick checks:"}),c.jsx("div",{className:"space-y-2",children:c.jsx(te,{variant:"outline",size:"sm",onClick:()=>l("0xE5756dc04dAa9daF41162Bc34c0b955c34Bd863E"),disabled:a,className:"w-full justify-start font-mono text-xs",children:"Check IP: 0xE5756dc04dAa9daF41162Bc34c0b955c34Bd863E"})})]})]})]}),c.jsxs(me,{children:[c.jsx(yt,{children:c.jsx(gt,{className:"text-base",children:"Token Information"})}),c.jsxs(ye,{className:"space-y-2 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-muted-foreground",children:"Token:"}),c.jsx("span",{className:"ml-2 font-medium",children:"WIP (Wrapped IP)"})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-muted-foreground",children:"Contract:"}),c.jsx("span",{className:"ml-2 font-mono text-xs",children:RF})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-muted-foreground",children:"Network:"}),c.jsx("span",{className:"ml-2",children:"Story Aeneid Testnet"})]}),c.jsx("div",{className:"pt-2 border-t",children:c.jsx("a",{href:"https://faucet.story.foundation/",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline",children:"Get WIP from Story Faucet "})})]})]})]})},IFe=()=>c.jsx(moe,{children:c.jsx(ple,{children:c.jsx(n4e,{children:c.jsx("div",{className:"relative min-h-screen",children:c.jsxs("div",{className:"content",children:[c.jsx(fie,{}),c.jsx(zie,{}),c.jsxs(ile,{children:[c.jsx(is,{path:"/login",element:c.jsx(Y8e,{})}),c.jsx(is,{path:"/",element:c.jsx(Kle,{})}),c.jsx(is,{path:"/about",element:c.jsx(t4e,{})}),c.jsx(is,{path:"/admin",element:c.jsx(Vk,{allowedRoles:["admin"],children:c.jsx(_3e,{})})}),c.jsx(is,{path:"/issuer",element:c.jsx(G3e,{})}),c.jsx(is,{path:"/dashboard",element:c.jsx(K8e,{})}),c.jsx(is,{path:"/royalty-dashboard",element:c.jsx(QQ,{})}),c.jsx(is,{path:"/pay-royalties",element:c.jsx(xFe,{})}),c.jsx(is,{path:"/direct-royalty-payment",element:c.jsx(TFe,{})}),c.jsx(is,{path:"/check-wip-balance",element:c.jsx(AFe,{})}),c.jsx(is,{path:"/marketplace",element:c.jsx(tMe,{})}),c.jsx(is,{path:"/orderbook",element:c.jsx(Vk,{allowedRoles:["admin","issuer","manager","user"],children:c.jsx(i$e,{})})}),c.jsx(is,{path:"/trading/:tokenId",element:c.jsx(Vk,{allowedRoles:["admin","issuer","manager","user"],children:c.jsx(o$e,{})})}),c.jsx(is,{path:"/test-minting",element:c.jsx(sFe,{})}),c.jsx(is,{path:"/license-attachment",element:c.jsx(vFe,{})}),c.jsx(is,{path:"*",element:c.jsx(Yle,{})})]})]})})})})}),PF=gy({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockTime:12e3,rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensUniversalResolver:{address:"0xeeeeeeee14d718c2b47d9923deab1335e144eeee",blockCreated:23085558},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),MF=gy({id:11155111,name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://11155111.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.etherscan.io",apiUrl:"https://api-sepolia.etherscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:751532},ensUniversalResolver:{address:"0xeeeeeeee14d718c2b47d9923deab1335e144eeee",blockCreated:8928790}},testnet:!0}),kFe=new N8e,CFe=S$e({chains:[PF,MF],transports:{[PF.id]:iE(),[MF.id]:iE()}});iU(document.getElementById("root")).render(c.jsx(M$e,{config:CFe,children:c.jsx(E8e,{client:kFe,children:c.jsx(rhe,{children:c.jsx(IFe,{})})})}));export{LV as $,OFe as A,Bn as B,_Fe as C,Bv as D,bV as E,ln as F,dfe as G,s2 as H,Xi as I,Wv as J,GFe as K,Bt as L,Lfe as M,WS as N,Oc as O,JT as P,_S as Q,ey as R,Dpe as S,Oi as T,x0 as U,WFe as V,Dr as W,rg as X,hfe as Y,ko as Z,Xe as _,ta as a,i_ as a0,Sfe as a1,$Fe as a2,SV as a3,Rr as a4,Ac as a5,Ic as a6,QFe as a7,e9e as a8,k0 as a9,BFe as aA,ja as aB,qS as aC,VFe as aD,rfe as aE,Jpe as aF,nt as aG,LFe as aH,ro as aI,he as aJ,wP as aK,Gr as aL,Oke as aM,ub as aN,B2 as aO,RNe as aP,O2 as aQ,Fa as aR,Jc as aS,Fg as aT,jl as aU,Qfe as aa,Ra as ab,Ni as ac,RV as ad,vce as ae,kt as af,di as ag,z4 as ah,ife as ai,nfe as aj,FV as ak,EV as al,Wfe as am,YFe as an,Jfe as ao,Hi as ap,JFe as aq,t9e as ar,_e as as,po as at,ZFe as au,XFe as av,qFe as aw,sfe as ax,FFe as ay,KS as az,Hv as b,Zs as c,lt as d,HFe as e,Je as f,Ae as g,uI as h,UFe as i,ch as j,zr as k,se as l,$e as m,Cs as n,Bpe as o,Kn as p,TN as q,zFe as r,W4 as s,El as t,wN as u,afe as v,wf as w,gs as x,qm as y,Nr as z};
